(window.webpackJsonp=window.webpackJsonp||[]).push([[199],{"+3M4":function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"h",(function(){return g}));var i,o,r,a,c,s,l=n("lSNA"),d=n.n(l),u=(i={},d()(i,"google","google"),d()(i,"facebook","facebook"),d()(i,"apple","apple"),i),p=["facebook"],f=(o={},d()(o,"NYT_EMAIL_PASSWORD","NYT_EMAIL_PASSWORD"),d()(o,"FACEBOOK_SSO","FACEBOOK_SSO"),d()(o,"GOOGLE_SSO","GOOGLE_SSO"),d()(o,"APPLE_SSO","APPLE_SSO"),o),b=(r={},d()(r,"OPT_OUT","OPT_OUT"),d()(r,"OPT_IN","OPT_IN"),r),h=(a={},d()(a,"ACTIVE","ACTIVE"),d()(a,"DORMANT","DORMANT"),d()(a,"FREE_TRIAL","FREE_TRIAL"),a),m=(c={},d()(c,"SUSPENDED","SUSPENDED"),d()(c,"DELAYED","DELAYED"),d()(c,"DELIVERED","DELIVERED"),c),v=(s={},d()(s,"STANDARD","STANDARD"),d()(s,"MAIL","MAIL"),s),g=function(e){return e.GreaterThanSubscription="GREATER_THAN_SUBSCRIPTION",e.LessThanSubscription="LESS_THAN_SUBSCRIPTION",e.SameAsSubscription="SAME_AS_SUBSCRIPTION",e}({})},"2P7h":"G+Dy":function(e,t,n){"use strict";n.r(t),n.d(t,"CustomBffWrapper",(function(){return fl}));var i,o,r,a,c,s,l=n("gcR/"),d=n.n(l),u=n("J4zp"),p=n.n(u),f=n("q1tI"),b=n.n(f),h=n("Kxyt"),m=n("fTxn"),v=n("TxU7"),g=n("r538"),y=n("hEyz"),w=n("zJ6h"),O=n("XWHH"),S=n.n(O),C=n("QS0n"),A=n("MShG"),E=n("2P7h"),k=n("Ke7S"),T=n("u0vE"),_=function(e){return e.NO_OFFER_FFT="NO_OFFER_FFT",e.NO_OFFER_SLR="NO_OFFER_SLR",e.NOT_ELIGIBLE="NOT_ELIGIBLE",e.SAVE_OFFER="SAVE_OFFER",e}({}),x={}),N={}),I=function(e){return e.Android="ANDROID",e.IPad="IPAD",e.IPhone="IPHONE",e.Other="OTHER",e}({}),R=n("fu10"),P=function(e){return e.News="news",e.Games="games",e.Cooking="cooking",e.Wirecutter="wirecutter",e.Athletic="athletic",e.AllAccess="all_access",e.HD="hd",e}({}),D=(R.f.NOOK,R.f.KINDLE,R.f.ITUNES,R.f.GOOGLE_PLAY,R.f.NSS,function(e){return e.some((function(e){return e===R.f.GIFT}))}),j=L=function(e){return"ACTIVE"===e},H=function(e){var t=e.subscriptionLabels,n=e.subscriptionStatus,i=e.subscriptionAlerts,o=e.subscriptionBillingSource;return!D(t)&&(!function(e){return e.some(()}(t)&&(!t)&&(!!n)||!!L(n)&&(!j(i)&&!o,t)))))},F=function(e){var t=e.billingInformation,n=e.subscriptionStatus,i=(t||{}).billingTiers,o=void 0===i?[]:i;return"QUEUED"===n?o.length&&o[0]||null:o.find((function(e){return"ACTIVE"===e.tierStatus}))||null},M=function(e){return e.subscriptionLabels.includes(R.f.HD)},W=function(e){return e.subscriptionLabels.includes(R.f.PAID_HD)},U=function(e){return M(e)?"Home Delivery":e.subscriptionName||""},V=function(e){return e.subscriptionLabels.includes(R.f.COOKING)&&!e.subscriptionLabels.includes(R.f.NEWS)},Y=function(e){return e.subscriptionLabels.includes(R.f.WIRECUTTER)&&!e.subscriptionLabels.includes(R.f.NEWS)},G=function(e){return e.subscriptionLabels.includes(R.f.GAMES)&&!e.subscriptionLabels.includes(R.f.NEWS)},B=function(e){return e.subscriptionLabels.includes(R.f.ONLINE_CANCEL_ADA)},z=function(e){return e.subscriptionLabels.includes(R.f.NEWS)&&!e.subscriptionLabels.includes(R.f.GAMES)},q=function(e){return e.subscriptionLabels.includes(R.f.ATHLETIC)&&!e.subscriptionLabels.includes(R.f.NEWS)},$=n("VkAN"),Q=n.n($),K=n("eFc+"),Z=n.n(K).a,J=Z(i||(i=Q()(["\n  query getAccountInfo($surfaceCode: String) {\n    accountInfo(surfaceCode: $surfaceCode) {\n      regiId\n      emailAddress\n      displayName\n      accountCreationDate\n      totalSubscriptionsWeeklyPrice\n      productSwitchEligibility {\n        eligible\n        reason\n      }\n      subscriptions {\n        subscriptionId\n        subscriptionLabels\n        subscriptionDigitalPauseEligibility {\n          eligible\n          reason\n          availablePauseDurations {\n            durationDays\n            resumeDate\n            nextBillingDate\n          }\n        }\n        subscriptionAlerts {\n          alertType\n        }\n        subscriptionName\n        trackingMetadata {\n          key\n          value\n        }\n        subscriptionStatus\n        productCode\n        earliestStopDate\n        maxShares\n        sharedBy\n        shareInvitations {\n          recipientEmail\n          status\n        }\n        subscriptionBillingSource\n        billingInformation {\n          currentServicePeriod {\n            to\n          }\n          billingTiers {\n            tierCycleAmount\n            tierWeeklyAmount\n            tierCycleDurationStr\n            tierCycleDurationDays\n            tierStatus\n            tierLastDate\n          }\n        }\n        onlineCancelSubscriptionPresentation {\n          currentBasicRate\n          currentBasicUnit\n          nextBasicRate\n          currentBillingInfo\n          purchaseTerms\n          cancellationPolicy\n        }\n        subscriptionOnlineCancelEligibility {\n          eligible\n          reason\n          experienceType\n          offersToSwitch {\n            offerId\n            offerChainId\n            additionalSubscriptionsIds\n            billingTiers {\n              cyclePrice\n              cycleDurationDays\n              cycleRecurrences\n            }\n            presentation {\n              offerType\n              experienceType\n              offerInitialBasicUnit\n              offerInitialRateDuration\n              purchaseTerms\n              cancellationPolicy\n              offerDiscountPercentActiveSubscription {\n                offerDiscountDirection\n                offerPercentOff\n                offerPriceDifference\n              }\n              offerDiscountPercentAllSubscriptions {\n                offerDiscountDirection\n                offerPercentOff\n                offerPriceDifference\n              }\n            }\n            opsPresentation {\n              id\n              subscriptionName\n              bundle\n              totalDue\n              promoPrice\n              promoPriceWeekly\n              fullPrice\n              fullPriceWeekly\n              discount\n              billingFrequency\n              currency\n              billingTerms\n              cancellationTerms\n              fullPriceStartDate\n              offerTerms\n            }\n            isPrimaryOffer\n            subscriptionLabels\n          }\n          abraExposures {\n            test\n            variant\n          }\n          priceSensitiveMetadata {\n            customerNotificationDate\n            firstChargeDate\n          }\n        }\n      }\n      hasBillingHistory\n      abraInformation {\n        configVersion\n        abraAllocation {\n          test\n          variant\n        }\n      }\n    }\n  }\n"]))),X=Z(o||(o=Q()(["\n  mutation PostMutation($subscriptionId: String!, $creditAmount: String!, $emailAddress: String!) {\n    onlineCancelHdWinbackSubmit(\n      hdWinbackSubmitInput: {\n        subscriptionId: $subscriptionId\n        creditAmount: $creditAmount\n        emailAddress: $emailAddress\n      }\n    ) {\n      success\n    }\n  }\n"]))),ee=Z(r||(r=Q()(["\n  mutation PostMutation(\n    $subscriptionId: ID!\n    $additionalSubscriptionsIds: [ID!]!\n    $targetOfferId: ID!\n    $secondaryComplimentaryOfferIds: [ID!]\n    $switchReason: CancelReason!\n    $note: String!\n  ) {\n    onlineCancelSwitchSubscription(\n      switchSubscriptionInput: {\n        subscriptionId: $subscriptionId\n        additionalSubscriptionsIds: $additionalSubscriptionsIds\n        targetOfferId: $targetOfferId\n        switchReason: $switchReason\n        note: $note\n        secondaryComplimentaryOfferIds: $secondaryComplimentaryOfferIds\n      }\n    ) {\n      success\n      effectiveDate\n      newSubscriptionId\n    }\n  }\n"]))),te=Z(a||(a=Q()(["\n  mutation PostMutation($subscriptionId: ID!, $keepReason: CancelReason!, $note: String!) {\n    onlineCancelKeepSubscription(\n      keepSubscriptionInput: {\n        subscriptionId: $subscriptionId\n        keepReason: $keepReason\n        note: $note\n      }\n    ) {\n      success\n    }\n  }\n"]))),ne=Z(c||(c=Q()(["\n  mutation PostMutation($subscriptionId: ID!, $cancelReason: CancelReason!, $note: String!) {\n    onlineCancelCancelSubscription(\n      cancelSubscriptionInput: {\n        subscriptionId: $subscriptionId\n        cancelReason: $cancelReason\n        note: $note\n      }\n    ) {\n      success\n    }\n  }\n"]))),ie=Z(s||(s=Q()(["\n  mutation PostMutation(\n    $role: String!\n    $roleFeedback: String\n    $institutionLevel: String!\n    $institutionFeedback: String\n    $subscriptionId: String!\n  ) {\n    updatePlatoMetadataForSubscription(\n      updateMetadataForEducatorsInput: {\n        role: $role\n        roleFeedback: $roleFeedback\n        institutionLevel: $institutionLevel\n        institutionFeedback: $institutionFeedback\n        subscriptionId: $subscriptionId\n      }\n    ) {\n      success\n    }\n  }\n"]))),oe={}),re=ae={}),ce={}),se={}),le=n("4+a0"),de="".concat(le.a.WWW_HOST,"/account/subscription"),ue=function(){var e=new URLSearchParams;return e.append("source","onlineCancel"),e.append("redirect_uri","".concat(le.a.WWW_HOST,"/account/subscription")),"".concat(le.a.WWW_HOST,"/account/product-switch?").concat(e.toString())},pe=function(e){var t=new URLSearchParams;return t.append("source","onlineCancel"),t.append("o",e),t.append("redirect_uri","".concat(le.a.WWW_HOST,"/account/subscription")),"".concat(le.a.WWW_HOST,"/account/product-switch?").concat(t.toString())},fe=be="".concat(le.a.WWW_HOST,"/welcome-subscriber/welcome"),he="".concat(le.a.WWW_HOST,"/account/suspend-delivery"),me=ve="".concat(le.a.WWW_HOST,"/account/change-hd-subscription"),ge="".concat(le.a.WWW_HOST,"/account/delivery-problem"),ye=n("/Efl"),we=n("XbE/"),Oe=function(e,t,n,i){var o,r;Object(m.p)({moduleName:"OnlineCancel",moduleContext:e,moduleLabel:i?JSON.stringify(i):void 0,elementName:t,elementLabel:null==n||null===(o=n.currentTarget)||void 0===o?void 0:o.textContent,elementUrl:null==n||null===(r=n.currentTarget)||void 0===r?void 0:r.href})},Se=function(e,t,n,i){var o;Object(m.p)({moduleName:"OnlineCancel",moduleContext:e,moduleLabel:i?JSON.stringify(i):void 0,elementName:t,elementLabel:null==n||null===(o=n.currentTarget)||void 0===o?void 0:o.textContent})},Ce=function(e,t,n,i){var o,r=G(o=e)?P.Games:V(o)?P.Cooking:Y(o)?P.Wirecutter:B(o)?P.AllAccess:M(o)?P.HD:P.News,a=t.find((function(e){return e.value===N.DontUseSubscription}))||{};!function(e,t){Object(m.q)({moduleName:"OnlineCancel",moduleContext:e,moduleLabel:t?JSON.stringify(t):void 0})}("cancel-reason",{sub:r,deviceType:n,audioMerchandisingAllocation:i,cancelReasonCodes:t.map((function(e){return e.value})),dontUseSubCta:{productSwitch:a.productSwitch,pause:a.pause,downloadAudioAppOnly:a.downloadAudioAppOnly,manageSubscriptionAndDownloadAudio:a.manageSubscriptionAndDownloadAudio}})},Ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(m.p)({moduleLabel:n,moduleName:"cancel-entry",elementName:e,elementLabel:t})},Ee=function(e,t,n,i){Object(m.p)({moduleName:"cancel-reason",moduleLabel:i,moduleContext:e,elementName:t,elementLabel:n})},ke=Te=function(e,t){Object(m.p)({moduleName:e,moduleLabel:t,elementName:"take-survey",elementLabel:"tell-us-about-this-experience"})},_e=function(e,t){Object(m.p)({moduleName:e,moduleLabel:t,elementName:"go-to-account",elementLabel:"return-to-my-account"})},xe=Ne=function(e,t,n){var i;Object(m.m)({event:"subscription",subscription:{bundle_name:n.subscriptionName||"",bundle_type:(null===(i=n.opsPresentation)||void 0===i?void 0:i.bundle)||"",event_name:"switch",offer_id:n.offerId,prior_bundles:e.productCode,source:"onlineCancel",subscription_id:t,transaction_app:"online_cancel",campaign_id:""}})},Ie=Re=n("5lfh"),Pe="125px",De="200px",je={size:"16px",sizeXs:".8461538462em",bold:700,mediumBold:600,medium:500,normal:400,light:300,extraLight:200,franklin:A.Q.family.franklin,cheltenham:A.Q.family.cheltenham},Le={black:"#000",gray20:"#333",gray25:"#444",gray30:"#555",gray40:"#666666",gray50:"#767676",gray55:"#ccc",gray60:"#e2e2e2",lightGray:"#f7f7f5",grayShade:"#979797",white:"#fff",blue:"#1a75bb",darkBlue:"#165c92",mediumBlue:"#98c1df",lightBlue:"#eaf2f8",grayText:"#333333",grayUnderline:"#555555",darkred:"#ef2f37",defaultHeadingColor:"#121212",silver:"#c6c6c6",backgroundDefault:"#ffffff",backgroundShade1:"#f7f7f5",backgroundShade2:"#eeedec",backgroundShade3:"#bdbdbd",backgroundShade4:"#333333",backgroundShade5:"#666666",backgroundShade6:"#888888"},He={smMobileMin:"375px",lgMobileMin:"415px",confirmationMin:"480px",tabletPortraitMin:"640px",tabletMin:"768px",desktopMin:"1024px"},Fe=Object(Re.d)("span",{target:"e5sls0r0"})("font-size:14px;line-height:14px;letter-spacing:0.1px;font-family:",je.franklin,";font-weight:",je.medium,";color:",Le.gray30,";"),Me=Object(Re.d)("div",{target:"e5sls0r1"})("margin-top:0.625rem;font-size:30px;line-height:36px;font-family:",je.cheltenham,";font-weight:",je.normal,";color:",Le.defaultHeadingColor,";letter-spacing:0.2px;@media only screen and (min-width:",He.tabletPortraitMin,"){font-weight:",je.light,";font-size:36px;line-height:44px;letter-spacing:0.4px;}"),We=Object(Re.d)("div",{target:"e5sls0r2"})("font-size:17px;line-height:26px;font-family:",je.franklin,";font-weight:",je.light,";color:",Le.black,";a{color:",Le.black,";&:hover{color:",Le.grayUnderline,";}}"),Ue=Object(Re.d)("span",{target:"e5sls0r3"})("white-space:nowrap;"),Ve=Object(Re.d)("br",{target:"e5sls0r4"})("display:none;@media only screen and (min-width:",He.tabletPortraitMin,"){display:block;}"),Ye=Object(Re.d)("p",{target:"e5sls0r5"})("width:100%;overflow:hidden;text-overflow:ellipsis;"),Ge=Object(Re.d)("div",{target:"e5sls0r6"})("text-align:right;margin-top:55px;"),Be=Object(Re.d)("span",{target:"e5sls0r7"})("font-weight:",je.mediumBold,";"),ze=Object(Re.d)("a",{target:"e5sls0r9"})("font-weight:",je.light,";"),qe=Object(Re.d)("div",{target:"e5sls0r10"})("color:white;width:0;height:0;background-color:transparent;"),$e=Object(Re.d)("div",{target:"e5sls0r12"})("line-height:0;"),Qe=Object(Re.d)("img",{target:"e5sls0r14"})("width:14px;height:14px;"),Ke=Object(Re.d)("div",{target:"e5sls0r15"})("display:grid;grid-column-gap:8px;grid-template-columns:min-content 1fr;align-items:center;grid-row-gap:4px;"),Ze=Object(Re.d)("button",{target:"elv76240"})("height:2.5rem;vertical-align:top;font-family:",je.franklin,";font-weight:",je.mediumBold,";font-size:16px;line-height:40px;text-align:center;border-radius:3px;cursor:pointer;border:none;color:",Le.white,";"),Je=Object(Re.d)(Ze,{target:"elv76241"})("width:100%;background-color:",Le.backgroundShade6,";@media only screen and (min-width:",He.lgMobileMin,"){width:auto;padding-left:24px;padding-right:24px;}"),Xe=Object(Re.d)(Ze,{target:"elv76242"})("width:100%;background-color:",Le.defaultHeadingColor,";&:hover{background-color:",Le.backgroundShade4,";}&:active{background-color:",Le.backgroundShade5,";}@media only screen and (min-width:",He.lgMobileMin,"){width:auto;padding-right:24px;padding-left:24px;}"),et=Object(Re.d)(Ze,{target:"elv76243"})("width:",Pe,";background-color:",Le.defaultHeadingColor,";&:hover{background-color:",Le.backgroundShade4,";}&:active{background-color:",Le.backgroundShade5,";}"),tt=Object(Re.d)(Ze,{target:"elv76244"})("color:",Le.black,";background-color:",Le.white,";border:1px solid ",Le.defaultHeadingColor,";width:100%;display:none;@media only screen and (min-width:",He.lgMobileMin,"){display:inline;margin-right:1rem;width:",De,";}"),nt=Object(Re.d)(Ze,{target:"elv76245"})("color:",Le.black,";background-color:",Le.white,";border:1px solid ",Le.defaultHeadingColor,";width:100%;margin-top:12px;@media only screen and (min-width:",He.lgMobileMin,"){display:none;}"),it=Object(Re.d)("div",{target:"elv76246"})("@media only screen and (min-width:",He.lgMobileMin,"){display:none;}"),ot=Object(Re.d)("a",{target:"elv76247"})("letter-spacing:0.1px;white-space:nowrap;color:",Le.black,";text-decoration:none;font-family:",je.franklin,";cursor:pointer;display:block;@media only screen and (max-width:",He.confirmationMin,"){border-radius:3px;border:1px solid ",A.O.stroke.primary,";padding:10px 16px;width:100%;}"),rt=function(e){return e.STATE_COLD="cold",e.STATE_ACTIVE="active",e.STATE_ACTIVE_NARROW="narrow",e.SECONDARY="secondary",e.SECONDARY_MOBILE="secondary mobile",e}({}),at=function(e){var t=e.displayState,n=e.onClick,i=e.children,o=e.dataTestId,r=t);return d()(r,{type:"submit",onClick:n,"data-testid":o},void 0,i)};at.displayName="Button";var ct,st,lt,dt,ut,pt,ft=at,bt=Object(Re.d)(Me,{target:"ehkjwaa0"})("margin-top:0;"),ht=Object(Re.d)(We,{target:"ehkjwaa1"})("margin-top:15px;"),mt=Object(Re.d)("div",{target:"ehkjwaa2"})("margin-top:2.2rem;font-size:18px;line-height:24px;font-family:",je.franklin,";font-weight:",je.bold,";color:",Le.defaultHeadingColor,";@media only screen and (min-width:",He.tabletMin,"){margin-top:2.5rem;}"),vt=Object(Re.d)(We,{target:"ehkjwaa3"})("margin-top:0.94rem;@media only screen and (min-width:",He.tabletMin,"){margin-top:0.625rem;}"),gt=Object(Re.d)("a",{target:"ehkjwaa4"})("font-weight:",je.mediumBold,";text-decoration:none;letter-spacing:0.1px;@media only screen and (min-width:",He.tabletMin,"){display:none;}"),yt=Object(Re.d)("div",{target:"ehkjwaa5"})("display:none;@media only screen and (min-width:",He.tabletMin,"){display:inline-block;font-weight:",je.mediumBold,";}"),wt=Object(Re.d)("span",{target:"ehkjwaa6"})("white-space:nowrap;"),Ot=n("pJnO"),St=function(e){var t,n,i=e.activeSubscription,o=Object(we.b)(R.d.sts),r=p()(o,2),a=r[0],c=r[1],s=i),l=s),u=b=h=JSON.stringify({subscriptionId:(null==i?void 0:i.subscriptionId)||"",bundle:(null==i?void 0:i.productCode)||"",offerChainId:(null==i||null===(t=i.trackingMetadata)||void 0===t||null===(n=t.filter((function(e){return"offer_chain_id"===e.key}))[0])||void 0===n?void 0:n.value)||""});Object(f.useEffect)((function(){Object(m.q)({moduleLabel:h,moduleName:"cancel-entry",moduleContext:b()})}),[]),Object(f.useEffect)((function(){a&&Object(m.q)({moduleName:"cancel-entry",moduleLabel:"chat-button",moduleContext:b()})}),[a]);var v,g,y,w=a?d()(ft,{displayState:rt.STATE_ACTIVE,onClick:u,dataTestId:"chat-button"},void 0,"Begin Chat"):"Chat is unavailable at this time. Please try again later or choose another option.",O=(v=Object(Ot.b)().setTimeZone("America/New_York"),g=v.changeHour(7).startOf("hour").setTimeZone("America/New_York"),y=v.changeHour(18).startOf("hour").setTimeZone("America/New_York"),v.isBetween(g,y,"ms","[)"))&&!Object(we.a)();return d()("div",{},void 0,d()(bt,{"data-testid":"headline"},void 0,"We offer several ways to cancel",ct||(ct=d()(Ve,{}))," your ",d()(wt,{},void 0,i.subscriptionName)," subscription."),st||(st=d()(ht,{"data-testid":"subheading"},void 0,"Please keep in mind that you’ll have limited access when you cancel.")),d()(qe,{},void 0,"[".concat(function(e){var t;return(null===(t=e.subscriptionOnlineCancelEligibility)||void 0===t?void 0:t.reason)||"NO_ACTIVE_SUBSCRIPTIONS"}(i),"]")),d()(mt,{"data-testid":"customer-care-chat-section"},void 0,"Chat with a Customer Care advocate.",O?d()(vt,{"data-testid":"customer-care-chat"},void 0,w):lt||(lt=d()(vt,{"data-testid":"chat-unavailable-hoop"},void 0,"Chat is available from 7 a.m. to 6 p.m. E.T. Monday to Friday, and 7 a.m. to 3 p.m. E.T. on weekends and holidays."))),s&&d()(mt,{"data-testid":"self-service-section"},void 0,"Cancel online.",dt||(dt=d()(vt,{"data-testid":"self-service-section-copy"},void 0,"Cancel your own subscription without contacting one of our Customer Care advocates.")),ut||(ut=d()(A.H,{space:"1.5"})),d()(ft,{displayState:rt.STATE_ACTIVE,onClick:function(){Ae("go-to-online-cancel","continue",h),e.history.push(e.nextRoute)},dataTestId:"continue-button"},void 0,"Cancel Online"),d()(qe,{},void 0,"[".concat(function(e){var t,n=e.subscriptionOnlineCancelEligibility||{},i=(n.offersToSwitch||[])[0];return(null==i||null===(t=i.presentation)||void 0===t?void 0:t.offerType)||n.experienceType}(i),"]"))),d()(mt,{"data-testid":"customer-care-phone-section"},void 0,"Give us a call.",d()(vt,{"data-testid":"customer-care-phone-section-copy"},void 0,"Call us at ",d()(gt,{href:"tel:".concat(l)},void 0,l),d()(yt,{},void 0,l)," if you are in the U.S. Our hours are 7 a.m. to 6 p.m. E.T. Monday to Friday, and 7 a.m. to 3 p.m. E.T. on weekends and holidays. Please see our"," ",d()(ze,{href:ye.b.INTERNATIONAL_CONTACT_INFO_LINK,target:"_blank",rel:"noopener noreferrer"},void 0,"international contact information")," ","if you are outside of the U.S."),d()(it,{},void 0,pt||(pt=d()(A.H,{space:"1"})),d()("a",{href:"tel:+1 855-698-1151"},void 0,d()(ft,{displayState:rt.STATE_ACTIVE,dataTestId:"entry-page-call-button"},void 0,"Call Us")))))};St.displayName="EntryPoint";var Ct=St,At=n("jDSg"),Et=n("+3M4"),kt=(A.hb[1.5],A.hb[1.5],A.hb[1.5],A.hb[4],A.hb[3],A.hb[1.5],A.hb[1.5],A.hb[1.5],A.hb[4],A.hb[3],A.hb[4],A.hb[4],A.hb[4],A.hb[2],A.hb[4],A.hb[2.5],A.hb[4],A.hb[1],A.hb[1],A.hb[7],A.hb[7],A.O.stroke.tertiary,A.P["08dp"],A.O.stroke.primary,A.O.stroke.primary,A.ib.body3,A.hb[1],A.hb[1],A.ib.subtitle2,A.hb[4],A.hb[1],A.ib.subtitle2,A.hb[1],A.hb[4],A.ib.body2,Object(Re.d)("p",{target:"eihww1g17"})("color:",A.O.text.secondary,";",A.ib.legal)),Tt=Object(Re.d)("p",{target:"eihww1g18"})(A.ib.display3," color:",A.O.text.primary,";"),_t=Object(Re.d)("span",{target:"eihww1g19"})(A.ib.subtitle3," color:",A.O.stroke.primary,";"),xt=Object(Re.d)("hr",{target:"eihww1g20"})("display:block;",A.gb.tertiary," @media only screen and (min-width:",He.desktopMin,"){display:none;}"),Nt=Object(Re.d)("div",{target:"eihww1g21"})(A.ib.body3," color:",Le.backgroundShade5,";@media only screen and (max-width:",He.desktopMin,"){",A.ib.body2,"}"),It=(A.ib.body3,A.ib.body2,A.O.stroke.tertiary,A.hb[4],A.P["08dp"],Object(Re.d)("h3",{target:"eihww1g24"})("font-size:20px;line-height:26px;font-family:",je.franklin,";font-weight:",je.mediumBold,";color:",Le.defaultHeadingColor,";")),Rt=Object(Re.d)("div",{target:"eihww1g25"})("border:1px solid ",A.O.stroke.secondary,";background-color:white;position:relative;border-radius:4px;",A.P["04dp"],";overflow:hidden;"),Pt=Object(Re.d)("div",{target:"eihww1g26"})("padding:0 ",A.hb[4],";background-color:white;"),Dt=(A.hb[2],Object(Re.d)(Ge,{target:"eihww1g30"})("margin-top:25px;@media only screen and (min-width:",He.tabletMin,"){margin-top:",A.hb[2.5],";}")),jt=Object(Re.d)("span",{target:"eihww1g32"})("opacity:",(function(e){return e.hide?0:1}),";"),Lt=(A.hb[4],Object(Re.d)("div",{target:"eihww1g36"})("display:flex;flex-direction:column;align-items:stretch;@media only screen and (min-width:",He.desktopMin,"){display:flex;flex-direction:row;justify-content:space-between;}")),Ht=Object(Re.d)("div",{target:"eihww1g41"})("display:flex;flex-direction:column;width:100%;"),Ft=(A.Q.weight.medium,A.Q.family.franklin,Object(Re.d)("span",{target:"eihww1g44"})("text-decoration:line-through;")),Mt=(A.O.text.placeholder,Object(Re.d)("button",{target:"eihww1g46"})("align-items:center;padding:0;width:100%;height:44px;background-color:",Le.black,";color:",Le.white,";border-radius:4px;text-decoration:none;cursor:pointer;&:hover{background-color:",Le.backgroundShade4,";}")),Wt=Object(Re.d)("button",{target:"eihww1g47"})("align-items:center;padding:0;width:202px;height:44px;background-color:",Le.black,";color:",Le.white,";border-radius:4px;text-decoration:none;cursor:pointer;&:hover{background-color:",Le.backgroundShade4,";}@media only screen and (max-width:",He.confirmationMin,"){width:100%;}"),Ut=Object(Re.d)("div",{target:"eihww1g49"})("display:block;height:24px;border:0;@media only screen and (min-width:",He.desktopMin,"){display:none;}"),Vt=Object(Re.d)("div",{target:"eihww1g51"})("height:12px;border:0;@media only screen and (min-width:481px){display:none;}"),Yt=Object(Re.d)("div",{target:"eihww1g52"})("width:",A.hb[4],";padding:",A.hb[1],";@media only screen and (max-width:",He.desktopMin,"){display:none;}"),Gt=Object(Re.d)("button",{target:"eihww1g53"})("height:44px;vertical-align:top;font-family:",je.franklin,";font-weight:",je.mediumBold,";font-size:16px;line-height:40px;text-align:center;border-radius:3px;cursor:pointer;color:",Le.black,";background-color:",Le.white,";border:1px solid ",Le.defaultHeadingColor,";margin-right:1rem;width:",De,";@media only screen and (max-width:",He.confirmationMin,"){width:100%;}"),Bt=Object(Re.d)("span",{target:"eihww1g55"})("height:28px;background:",Le.backgroundDefault,";border:1px solid ",A.O.stroke.primary,";border-radius:40px;font-family:",je.franklin,";font-size:12px;font-weight:",je.mediumBold,";line-height:12px;letter-spacing:0.3px;text-align:center;display:inline-block;top:32px;position:absolute;padding:7px 10px;left:90px;"),zt=Object(Re.d)("span",{target:"eihww1g57"})("font-weight:",je.mediumBold,";font-family:",je.franklin,";font-size:18px;line-height:24px;color:",A.O.text.primary,";"),qt=Object(Re.d)("span",{target:"eihww1g58"})("font-weight:",je.medium,";font-family:",je.franklin,";font-size:12px;line-height:24px;color:",A.O.text.secondary,";"),$t=Object(Re.d)("div",{target:"eihww1g59"})("display:flex;flex-direction:column;background-color:#fafafa;border-top:1px solid #d2d2d7;border-bottom:1px solid #d2d2d7;padding:0 ",A.hb[4],";"),Qt=(A.hb[3],A.hb[4],Object(Re.d)("div",{target:"eihww1g61"})("padding:",A.hb[3]," ",A.hb[4],";background-color:white;")),Kt=Object(Re.d)("div",{target:"eihww1g62"})("display:block;text-align:center;"),Zt=Object(Re.d)("div",{target:"eihww1g63"})("display:flex;flex-direction:row;"),Jt=Object(Re.d)("span",{target:"eihww1g64"})("display:inline-block;position:relative;top:12px;color:#5a5a5a;background-color:#fafafa;padding:0 5px;font-family:",je.franklin,";font-size:12px;font-weight:",je.medium,";line-height:21px;"),Xt=Object(Re.d)("div",{target:"eihww1g65"})("line-height:0;"),en=Object(Re.d)("div",{target:"eihww1g66"})("background-color:#edece7;padding:4px;border-radius:50%;height:24px;width:25px;margin-top:-2px;"),tn=Object(Re.d)("hr",{target:"eihww1g68"})("display:block;border:none;border-top:1px solid #7f7f7f;margin:0;"),nn=function(e){return e.subscriptionLabels.includes(R.f.ONLINE_CANCEL_ADA)},on=function(e){return e.subscriptionLabels.includes(R.f.NEWS)&&!e.subscriptionLabels.includes(R.f.GAMES)},rn=function(e){return e.subscriptionLabels.includes(R.f.ATHLETIC)&&!e.subscriptionLabels.includes(R.f.NEWS)},an=function(e){return e.subscriptionLabels.includes(R.f.GAMES)&&!e.subscriptionLabels.includes(R.f.NEWS)},cn=function(e){return e.subscriptionLabels.includes(R.f.WIRECUTTER)&&!e.subscriptionLabels.includes(R.f.NEWS)},sn=function(e){return e.subscriptionLabels.includes(R.f.COOKING)&&!e.subscriptionLabels.includes(R.f.NEWS)},ln=function(e){return e.subscriptionLabels.includes(R.f.HD)},d},un=function(e){return e?e.presentation.offerDiscountPercentAllSubscriptions:{offerPercentOff:"",offerDiscountDirection:Et.h.SameAsSubscription,offerPriceDifference:""}},p},f},bn=function(e,t){var n=F(e),i=fn(t);return"FUTURE"===(null==n?void 0:n.tierStatus)?"You currently have a discounted rate for ".concat(U(e),". Stay with us and keep your rate for an extra ").concat(i,"."):"You currently pay a discounted rate for ".concat(U(e),". Stay with us and keep your rate for an extra ").concat(i,".")},hn=function(e,t){if(!e)return"";var n=dn(e),i=e.presentation.offerInitialRateDuration,o=fn(i);return n.offerDiscountDirection===Et.h.LessThanSubscription?"Before you go, consider saving ".concat(pn(n)," for the next ").concat(o," by continuing your subscription."):bn(t,i)},mn=function(e){var t=un(e);if(t.offerDiscountDirection===Et.h.GreaterThanSubscription)return"Consider switching to All Access to save more per subscription";if(t.offerDiscountDirection===Et.h.SameAsSubscription)return"Consider switching to an All Access subscription for the same price";var n=un(e);return"Before you go, consider saving ".concat(pn(n)," for the first year by switching to an All Access subscription")},v},gn=function(e){var t,n=null==e||null===(t=e.presentation)||void 0===t?void 0:t.experienceType;return n||x.NONE},yn=function(e){var t=F(e);if(!t)return"";var n=t.tierCycleAmount,i=t.tierLastDate;return n?"Free"===n?"Free through ".concat(Object(Ot.f)(i)):vn(t.tierWeeklyAmount):""},wn=function(e,t){var n=dn(t),i=e!==x.ADA_UPGRADE_OFFER,o=n.offerDiscountDirection===Et.h.SameAsSubscription;return e===x.OFFER_EXTENSION||i&&o?"Keep my subscription":"Accept offer"},On=function(e,t){return e!==x.OFFER_EXTENSION&&un(t).offerDiscountDirection===Et.h.LessThanSubscription},Sn=function(e,t,n,i,o){switch(t){case _.NO_OFFER_FFT:case _.NO_OFFER_SLR:return"Consider keeping your subscription and the benefits that come with it.";case _.SAVE_OFFER:switch(i){case x.OFFER_EXTENSION:return bn(e,o);case x.ADA_UPGRADE_OFFER:return mn(n);case x.BETTER_OFFER:return hn(n,e);default:return"Consider staying with the Times."}default:return"Consider staying with the Times."}},Cn=d()("span",{},void 0,"You also have a free Games subscription available for one year. To play, go to ",d()("a",{href:"https://www.nytimes.com/crosswords"},void 0,"nytimes.com/crosswords")," and sign in using your existing Times log in."),An=d()("span",{},void 0,"You also have a free Wirecutter subscription available for one year. To starting exploring product reviews, go to ",d()("a",{href:"https://www.nytimes.com/wirecutter"},void 0,"nytimes.com/wirecutter")," and sign in using your existing Times log in."),En=d()("span",{},void 0,"You also have a free Cooking subscription available for one year. To starting exploring recipes, go to ",d()("a",{href:"https://cooking.nytimes.com"},void 0,"cooking.nytimes.com")," and sign in using your existing Times log in."),kn=d()("span",{},void 0,"You also have a free News subscription available for one year. To starting exploring original reporting, go to ",d()("a",{href:"https://www.nytimes.com/"},void 0,"nytimes.com ")," and sign in using your existing Times log in."),Tn=function(e,t){var n,i,o,r;switch(e){case _.NO_OFFER_SLR:case _.NO_OFFER_FFT:return{purchaseTerms:[],cancellationPolicy:[]}}return{purchaseTerms:(null==t||null===(n=t.opsPresentation)||void 0===n?void 0:n.billingTerms)||(null==t||null===(i=t.presentation)||void 0===i?void 0:i.purchaseTerms)||[],cancellationPolicy:(null==t||null===(o=t.opsPresentation)||void 0===o?void 0:o.cancellationTerms.split(","))||(null==t||null===(r=t.presentation)||void 0===r?void 0:r.cancellationPolicy)||[]}},_n=function(e,t){va":s}}(e),o=i.cycleAmount,r=i.cycleDuration;return"Free"===o||[_.NO_OFFER_FFT,_.NO_OFFER_FFT].includes(t)?"When you cancel, your access will continue until the end of your free period.":M(e)&&t===_.SAVE_OFFER?function(e){return["When you cancel, we will stop delivering your papers on ".concat(Object(Ot.e)(e,Ot.a),"."),"You will also immediately lose unlimited access to our digital products."].join(" ")}(e.earliestStopDate||""):(n=function(e){return e.includes("week")||!e?e:"one ".concat(e)}(r),["When you cancel, we will stop charging your account the following billing cycle.","Each billing cycle is ".concat(n,"."),"Your access will continue until the end of your current billing cycle."].join(" "))},xn=n("lSNA"),Nn=n.n(xn);var In,Rn=function(e){return e.MultisubMerchandising="CARE_Multisub_Merchandising_0623",e.AAMerchandising="CARE_AA_Merchandising_0623",e.FreebieMerchandisingRedesign="CARE_Freebies_Merchandising_0823",e.CancelReasonCTACopy="CARE_CTA_COPY_0923",e.AudioMerchandising="ACCT_Audio_Merchandising_0124",e}({}),Pn=(Rn.MultisubMerchandising,"1_Test"),Dn={NAME:Rn.AAMerchandising,VAR_CONTROL:"0_Control",VAR_TEST:"1_Test"},jn={NAME:Rn.CancelReasonCTACopy,VAR_CONTROL:"0_Control",VAR_CONTINUE_COPY:"1_Continue_Cancel",VAR_REVIEW_COPY:"2_Review"},Ln={NAME:Rn.FreebieMerchandisingRedesign,VAR_CONTROL:"0_Control",VAR_TEST:"1_Test"},Hn={NAME:Rn.AudioMerchandising,VAR_CONTROL:"0_Control",VAR_MANAGE_AND_DOWNLOAD:"1_Manage_Sub_Download_Audio",VAR_DOWNLOAD_ONLY:"2_Download_Audio_Only"},Fn=(Nn()({},"OC_SampleTest",{CONTROL:"0_Control",VAR_1:"1_Variatis(e)}),Mn=n("2i44"),Wn={"unselected-reason":"Please select a reason to continue.","unselected-option":"Please select an option to continue.","payment-authorization-error":b.a.createElement(b.a.Fragment,null,"We're sorry, but we were unable to change your account. Please"," ",d()(A.x,{to:Object(Mn.j)("online_cancel",""),colorVariant:A.N.text.interactiveInline,targetTab:A.db.sameTab},void 0,"update your payment method")," ","in order to change your subscription."),"technical-issue":"We’re sorry, but there was a technical issue. Please try again."},Un=Object(Re.d)("span",{target:"e6pcbb0"})("margin-top:10px;font-family:",je.franklin,";font-weight:",je.medium,";font-size:12px;line-height:14px;color:",Le.darkred,";letter-spacing:0.1px;display:inline-block;"),Vn=Object(Re.d)("div",{target:"e6pcbb1"})("margin-top:10px;"),Yn=function(e){var t=e.errorCode,n=Wn[t];return n?d()(Un,{"data-testid":e.dataTestId||"inline-error"},void 0,n):In||(In=d()(Vn,{}))};Yn.displayName="InlineError";var Gn=Yn,Bn=function(e){var t=e.totalSteps,n=e.currentStep,i=e.optional;return d()(Fe,{"data-testid":"progress-indicator"},void 0,"Step ".concat(n," of ").concat(t)," ",i&&" (optional)")};Bn.displayName="FlowProgressHeader";var zn,qn,$n,Qn=Bn,Kn=n("lwsE"),Zn=n.n(Kn),Jn=n("W8MJ"),Xn=n.n(Jn),ei=n("7W2i"),ti=n.n(ei),ni=n("a1gu"),ii=n.n(ni),oi=n("Nsbk"),ri=n.n(oi),ai=Object(Re.d)(We,{target:"ezz4pvv0"})("margin-top:1.25rem;@media only screen and (min-width:",He.tabletMin,"){margin-top:1.875rem;}");function ci(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ri()(e);if(t){var o=ri()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return ii()(this,n)}}var si=function(e){ti()(n,e);var t=ci(n);function n(){return Zn()(this,n),t.apply(this,arguments)}return Xn()(n,[{key:"componentDidMount",value:function(){Object(m.q)({moduleName:"cancel-system-error"})}},{key:"render",value:function(){return b.a.createElement(b.a.Fragment,null,zn||(zn=d()(Me,{"data-testid":"headline"},void 0,"We’re sorry, but we’re having a technical issue right now.")),d()(ai,{},void 0,qn||(qn=d()("span",{},void 0,"Please try again soon, or ")),d()("a",{href:ye.b.CONTACT_US_LINK,target:"_blank",rel:"noopener noreferrer"},void 0,"contact Customer Care"),$n||($n=d()("span",{},void 0," for immediate assistance."))))}}]),n}(f.Component);si.displayName="InitialPageLoad";var li,)(this,n)}}var bi=function(e){ti()(n,e);arguments)}return Xn()(n,[{key:"componentDidMy-error"})}},{key:"render",value:function(){return b.a.createElement(b.a.Fragment,null,li||(li=d()(Me,{"data-testid":"headline"},void 0,"We’re sorry, but you can’t cancel your subscription online.")),d()(ai,{},void 0,di||(di=d()("span",{},void 0,"Please ")),d()("a",{href:ye.b.CONTACT_US_LINK,target:"_blank",rel:"noopener noreferrer"},void 0,"contact Customer Care"),ui||(ui=d()("span",{},void 0," to cancel your subscription."))))}}]),n}(f.Component);bi.displayName="OperationFailure";var hi,mi,gi,yi,wi,Oi,Si=bi,Ci=function(e){return b.a.createElement(b.a.Fragment,null,e.mode===ae.TRY_AGAIN?hi||(hi=d()(pi,{})):mi||(mi=d()(Si,{})))},Ai=function(){return d()("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 100 100"},void 0,gi||(gi=d()("rect",{x:"0",y:"0",width:"100",height:"100",fill:"none",className:"bk"},void 0," ")),d()("g",{},void 0,yi||(yi=d()("rect",{id:"rect",x:"47",y:"24",width:"6",height:"34",rx:"3",ry:"3",fill:"#ffff",transform:"translate(0 -22)"},void 0," ")),d()("use",{xlinkHref:"#rect",transform:"rotate(324 50 50)",style:{opacity:.87}}),d()("use",{xlinkHref:"#rect",transform:"rotate(288 50 50)",style:{opacity:.74}}),d()("use",{xlinkHref:"#rect",transform:"rotate(252 50 50)",style:{opacity:.61}}),d()("use",{xlinkHref:"#rect",transform:"rotate(216 50 50)",style:{opacity:.48}}),d()("use",{xlinkHref:"#rect",transform:"rotate(180 50 50)",style:{opacity:.37}}),d()("use",{xlinkHref:"#rect",transform:"rotate(144 50 50)",style:{opacity:.26}}),d()("use",{xlinkHref:"#rect",transform:"rotate(108 50 50)",style:{opacity:.17}}),d()("use",{xlinkHref:"#rect",transform:"rotate(72 50 50)",style:{opacity:.09}}),d()("use",{xlinkHref:"#rect",transform:"rotate(36 50 50)",style:{opacity:.02}})))};Ai.displayName="Spinner";var Ei,ki,Ti,_i=function(){return d()("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 100 100"},void 0,wi||(wi=d()("rect",{x:"0",y:"0",width:"100",height:"100",fill:"none",className:"bk"},void 0," ")),d()("g",{},void 0,Oi||(Oi=d()("rect",{id:"rect",x:"47",y:"24",width:"6",height:"34",rx:"3",ry:"3",fill:"#000",transform:"translate(0 -22)"},void 0," ")),d()("use",{xlinkHref:"#rect",transform:"rotate(324 50 50)",style:{opacity:.87}}),d()("use",{xlinkHref:"#rect",transform:"rotate(288 50 50)",style:{opacity:.74}}),d()("use",{xlinkHref:"#rect",transform:"rotate(252 50 50)",style:{opacity:.61}}),d()("use",{xlinkHref:"#rect",transform:"rotate(216 50 50)",style:{opacity:.48}}),d()("use",{xlinkHref:"#rect",transform:"rotate(180 50 50)",style:{opacity:.37}}),d()("use",{xlinkHref:"#rect",transform:"rotate(144 50 50)",style:{opacity:.26}}),d()("use",{xlinkHref:"#rect",transform:"rotate(108 50 50)",style:{opacity:.17}}),d()("use",{xlinkHref:"#rect",transform:"rotate(72 50 50)",style:{opacity:.09}}),d()("use",{xlinkHref:"#rect",transform:"rotate(36 50 50)",style:{opacity:.02}})))};_i.displayName="BlackSpinner";var xi=Object(Re.d)("div",{target:"e1145ju30"})("position:relative;top:-32px;margin:auto;width:24px;height:24px;line-height:normal;-webkit-animation:spin 0.8s steps(10,end) infinite;-moz-animation:spin 0.8s steps(10,end) infinite;animation:spin 0.8s steps(10,end) infinite;@keyframes spin{100%{transform:rotate(360deg);}}"),Ni=Object(Re.d)("div",{target:"e1145ju31"})("position:relative;top:-12px;margin:auto;width:24px;height:24px;line-height:normal;-webkit-animation:spin 0.8s steps(10,end) infinite;-moz-animation:spin 0.8s steps(10,end) infinite;animation:spin 0.8s steps(10,end) infinite;@keyframes spin{100%{transform:rotate(360deg);}}"),Ii=Object(Re.d)("div",{target:"e1145ju32"})("position:relative;top:-26px;margin:auto;width:24px;height:24px;line-height:normal;-webkit-animation:spin 0.8s steps(10,end) infinite;-moz-animation:spin 0.8s steps(10,end) infinite;animation:spin 0.8s steps(10,end) infinite;@keyframes spin{100%{transform:rotate(360deg);}}"),Ri=Object(Re.d)(Ai,{target:"e1145ju33"})("width:24px;height:24px;"),Pi=Object(Re.d)(_i,{target:"e1145ju34"})("width:24px;height:24px;"),Di=function(e){return!1===e.isRedesignOfferPage?Ei||(Ei=d()(xi,{},void 0,d()(Ri,{}))):ki||(ki=d()(Ni,{},void 0,d()(Ri,{})))},ji=function(){return Ti||(Ti=d()(Ii,{},void 0,d()(Pi,{})))};ji.displayName="OffRampSpinner";var Li,Hi,Fi,Mi,Wi,Ui,Vi,Yi,Gi,Bi,zi,qi,$i,Qi,Ki="Engage with expert reporting, including culture coverage and analysis.",Zi="Unwind with Spelling Bee, Wordle, The Crossword and more.",Ji="Enjoy delicious recipes, advice and inspiration daily.",Xi="Choose products confidently with reviews and real-world testing.",eo="Follow in-depth, personalized coverage of your favorite sports.",to="Unlimited access to News plus Games, Cooking, Wirecutter, and The Athletic.",no="Enjoy Home Delivery plus unlimited digital access to News, Games, Cooking, Wirecutter and The Athletic.",io=function(e){switch(ln(e)||nn(e)||on(e)||an(e)||sn(e)||cn(e)||rn(e)){case nn(e):return to;case ln(e):return no;case on(e):return Ki;case an(e):return Zi;case sn(e):return Ji;case cn(e):return Xi;case rn(e):return eo;default:return""}},oo="".concat("","/spellingBee-Icon.svg"),ro="".concat("","/crossword-Icon.svg"),ao="".concat("","/wordle-Icon.svg"),co=d()(Zt,{},void 0,d()(en,{},void 0,d()(Xt,{},void 0,d()(A.w,{name:"brandT",size:"small"}))),d()(A.h,{space:"2"}),d()(A.b,{level:"3",colorVariant:"secondary"},void 0,d()(_t,{},void 0,"New York Times News: "),Ki)),so=d()("div",{},void 0,d()(A.b,{level:"3",colorVariant:"secondary"},void 0,"A New York Times Games subscription includes, but is not limited to:"),d()(A.H,{space:"1"}),d()(Zt,{},void 0,d()(Ke,{"data-testid":"bonus-offer-features-description"},void 0,d()($e,{},void 0," ",d()(Qe,{src:oo})),d()("div",{},void 0,d()(A.b,{level:"3",colorVariant:"primary"},void 0,"Spelling Bee")),d()($e,{},void 0," ",d()(Qe,{src:ao})),d()("div",{},void 0,d()(A.b,{level:"3",colorVariant:"primary"},void 0,"Wordle")),d()($e,{},void 0," ",d()(Qe,{src:ro})),d()("div",{},void 0,d()(A.b,{level:"3",colorVariant:"primary"},void 0,"The Crossword"))))),lo=d()(Zt,{},void 0,d()(en,{},void 0,d()(Xt,{},void 0,d()(A.w,{name:"brandCooking",size:"small"}))),d()(A.h,{space:"2"}),d()(A.b,{level:"3",colorVariant:"secondary"},void 0,d()(_t,{},void 0,"New York Times Cooking: "),Ji)),uo=d()(Zt,{},void 0,d()(en,{},void 0,d()(Xt,{},void 0,d()(A.w,{name:"brandWirecutter",size:"small"}))),d()(A.h,{space:"2"}),d()(A.b,{level:"3",colorVariant:"secondary"},void 0,d()(_t,{},void 0,"New York Times Wirecutter: "),Xi)),po=d()(Zt,{},void 0,d()(en,{},void 0,d()(Xt,{},void 0,d()(A.w,{name:"brandAthletic",size:"small"}))),d()(A.h,{space:"2"}),d()(A.b,{level:"3",colorVariant:"secondary"},void 0,d()(_t,{},void 0,"New York Times Athletic: "),eo)),fo=function(e){var t,n=e.offerType,i=e.acceptLoadingState,o=e.onClick,r=e.offerName,a=e.primaryOffer,c=e.complimentaryOffer,s=e.complimentaryOfferName,l=e.currentWeeklyRate,u=e.tierCycleAmount,p=(null===(t=a.opsPresentation)||void 0===t?void 0:t.promoPriceWeekly)||"",f=function(e){switch(on(e)||an(e)||sn(e)||cn(e)||rn(e)){case on(e):return co;case an(e):return so;case sn(e):return lo;case cn(e):return uo;case rn(e):return po;default:return co}}(c),b=wn(n,a),h=function(e,t,n){var i,o,r,a,c=function(e){var t,n;return"every year"===(null===(t=e.opsPresentation)||void 0===t?void 0:t.billingFrequency)?" a ".concat(e.presentation.offerInitialBasicUnit||""):(null===(n=e.opsPresentation)||void 0===n?void 0:n.billingFrequency)||""}(t),s=On(e,t);switch(e){case x.BETTER_OFFER:return d()("span",{},void 0,"Billed as"," ",s&&""!==n?d()(Ft,{},void 0,n):null," ",(null==t||null===(i=t.opsPresentation)||void 0===i?void 0:i.promoPrice)||""," ",c," until"," ",(null===(o=t.opsPresentation)||void 0===o?void 0:o.fullPriceStartDate)||"");case x.OFFER_EXTENSION:return d()("span",{},void 0,"Billed as ",(null==t||null===(r=t.opsPresentation)||void 0===r?void 0:r.promoPrice)||""," ",c," until"," ",(null===(a=t.opsPresentation)||void 0===a?void 0:a.fullPriceStartDate)||"");default:return d()("span",{},void 0,"Billed as"," ",s&&""!==n?d()(Ft,{},void 0,n):null," ",t.presentation.offerInitialRateCharge)}}(n,a,u),m=On(n,a),v=s.toUpperCase(),g=" for ".concat(r||""," plus free ").concat(s||"",", for the first year");return d()(Rt,{},void 0,d()(Pt,{},void 0,Li||(Li=d()(A.H,{space:"4"})),d()(Lt,{},void 0,d()(Ht,{},void 0,d()(It,{"data-testid":"offer-name"},void 0,r,d()(Bt,{},void 0,"PLUS FREE ",v)),Hi||(Hi=d()(A.H,{space:"2"})),d()(Nt,{"data-testid":"offer-description"},void 0,f)),an(c)?null:Fi||(Fi=d()(Yt,{})),d()(Ht,{},void 0,Mi||(Mi=d()(Ut,{})),Wi||(Wi=d()(xt,{})),Ui||(Ui=d()(Ut,{})),d()("div",{"data-testid":"offer-rate"},void 0,d()(A.b,{level:"1",colorVariant:"placeholder","data-testid":"current-weekly-rate"},void 0,m?d()(Ft,{},void 0,l):null),d()(zt,{"data-testid":"offer-initial-rate"},void 0," ",p,"/week"),d()(qt,{},void 0,g)),Vi||(Vi=d()(A.H,{space:"0.5"})),d()(A.y,{dataTestId:"offer-caption",colorVariant:"secondary"},void 0,h),Yi||(Yi=d()(A.H,{space:"3"})),d()(Mt,{onClick:o,"data-testid":"accept-button",disabled:i},void 0,d()(jt,{hide:i},void 0,d()(A.b,{level:"2",colorVariant:"primaryInverse"},void 0,b)),i?Gi||(Gi=d()(Di,{isRedesignOfferPage:!0})):""))),Bi||(Bi=d()(A.H,{space:"5"}))))};fo.displayName="ComplimentaryOfferCard";var bo,ho,mo,vo,go,yo,wo,Oo,So,Co,Ao,Eo,ko,To,_o,xo,No,Io={colorNews:function(){return zi||(zi=d()("svg",{width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},void 0,d()("rect",{width:"29",height:"29",rx:"14.5",fill:"#EDECE7"}),d()("path",{d:"M18.7528 15.9205C18.365 16.945 17.6503 17.737 16.6258 18.1562V15.9205L17.852 14.818L16.6258 13.7312V12.1945C17.7433 12.1165 18.5195 11.2938 18.5195 10.285C18.5195 8.96575 17.2625 8.5 16.5478 8.5C16.3925 8.5 16.2215 8.5 15.9733 8.56225V8.6245C16.0663 8.6245 16.2058 8.60875 16.2523 8.60875C16.7488 8.60875 17.1215 8.842 17.1215 9.292C17.1215 9.63325 16.8418 9.97525 16.3453 9.97525C15.119 9.97525 13.6753 8.9815 12.107 8.9815C10.7098 8.9815 9.7475 10.0218 9.7475 11.077C9.7475 12.1173 10.3528 12.4585 10.9895 12.6918L11.0053 12.6295C10.8043 12.505 10.6648 12.2882 10.6648 11.9462C10.6648 11.4805 11.0998 11.0928 11.6428 11.0928C12.962 11.0928 15.089 12.1953 16.409 12.1953H16.5328V13.7478L15.3065 14.818L16.5328 15.9205V18.187C16.0205 18.373 15.4925 18.451 14.9495 18.451C12.9005 18.451 11.5963 17.209 11.5963 15.1443C11.5963 14.6478 11.6585 14.1663 11.798 13.7005L12.8225 13.2505V17.8142L14.903 16.8985V12.226L11.8445 13.5918C12.155 12.6917 12.7918 12.0393 13.5523 11.6665L13.5365 11.62C11.4875 12.07 9.5 13.6225 9.5 15.9513C9.50075 18.637 11.7672 20.5 14.4057 20.5C17.2003 20.5 18.7835 18.637 18.7993 15.9205H18.7528Z",fill:"#121212"}ll:"white"})))},colorCooking:function(){return $i||($i=d()("svg",{width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},void 0,d()("rect",{width:"29",height:"29",rx:"14.5",fill:"#DF321B"}),d()("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8027 13.2786L20.3658 10.8223L20.8998 11.3563L18.4435 14.1329C17.8027 14.7737 16.5212 15.0941 15.56 14.5601C15.3942 14.7922 15.1899 15.0706 14.9613 15.3769C15.0708 15.4608 15.1813 15.5455 15.2923 15.6305C16.743 16.7416 18.2739 17.9142 18.5506 18.1908C19.4049 19.0452 18.9777 20.1131 18.8709 20.2199C18.7641 20.3267 17.6962 20.7539 16.8418 19.8995C16.5593 19.6171 15.2961 17.9802 14.1331 16.4715C12.9859 17.9703 11.6825 19.6124 11.395 19.8999C10.5406 20.7542 9.47269 20.3271 9.3659 20.2203C9.2591 20.1135 8.83192 19.0455 9.68628 18.1912C10.0482 17.8293 11.7345 16.4863 13.2492 15.3259C12.9938 14.9957 12.762 14.6973 12.57 14.453C11.7157 14.8802 10.6477 14.5598 10.007 13.919C9.36618 13.2783 7.33708 10.822 8.40503 9.75403L8.72541 9.43364C9.68657 8.47249 12.1429 10.6084 12.7836 11.2492C13.4244 11.8899 13.7448 13.1715 13.2108 14.0258C13.4552 14.2178 13.7509 14.4469 14.0765 14.6977C14.4778 14.3959 14.8417 14.1273 15.1328 13.9194C14.8124 13.1718 15.1328 11.997 15.6668 11.3563L18.5503 8.89999L19.0842 9.43397L16.5212 11.997C16.3076 12.1038 16.3076 12.3174 16.4144 12.3174C16.5212 12.4242 16.7348 12.4242 16.8415 12.3174L19.5114 9.86115L20.0454 10.3951L17.4823 12.9582C17.2687 13.065 17.2687 13.2786 17.3755 13.2786C17.4823 13.3854 17.6959 13.3854 17.8027 13.2786Z",fill:"white"})))},colorWirecutter:function(){return Qi||(Qi=d()("svg",{width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},void 0,d()("rect",{width:"29",height:"29",rx:"14.5",fill:"#3C78F0"}),d()("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7912 9.30001C11.4406 9.30001 11.1784 9.62752 11.2624 9.97501C11.264 9.98157 11.2655 9.98815 11.2668 9.99475L11.8713 12.924H12.8712C13.2026 12.924 13.4712 13.1926 13.4712 13.524C13.4712 13.9686 13.8346 14.332 14.2792 14.332C14.7238 14.332 15.0872 13.9686 15.0872 13.524C15.0872 13.1926 15.3559 12.924 15.6872 12.924H16.6792L17.2836 9.99475C17.2851 9.98765 17.2867 9.98058 17.2884 9.97353C17.3722 9.63075 17.1134 9.30001 16.7592 9.30001H11.7912ZM16.5102 14.124H16.1957C15.9995 14.7496 15.5048 15.2443 14.8792 15.4405V16.26H16.1931L16.5102 14.124ZM16.015 17.46H14.8792V19.396H15.7276L16.015 17.46ZM16.9407 19.396L17.2281 17.46H18.0181L17.5151 19.3627L17.5141 19.3666C17.5098 19.3835 17.5021 19.3925 17.498 19.396H16.9407ZM18.3353 16.26H17.4063L17.7234 14.124H18.9L18.3353 16.26ZM13.6792 19.396V17.46H12.5435L12.8309 19.396H13.6792ZM11.6177 19.396L11.3303 17.46H10.5403L11.0443 19.3666C11.0487 19.3835 11.0564 19.3925 11.0604 19.396H11.6177ZM10.2231 16.26H11.1522L10.8351 14.124H9.65844L10.2231 16.26ZM12.0482 14.124L12.3653 16.26H13.6792V15.4405C13.0536 15.2443 12.5589 14.7496 12.3627 14.124H12.0482ZM10.646 12.924L10.0934 10.2462C9.83351 9.14169 10.6735 8.10001 11.7912 8.10001H16.7592C17.889 8.10001 18.7164 9.15378 18.4569 10.2468L17.9044 12.924H20.4584L18.6758 19.6676C18.5414 20.1862 18.0818 20.596 17.5032 20.596H11.0552C10.4767 20.596 10.0171 20.1863 9.88271 19.6677L8.1 12.924H10.646Z",fill:"white"})))}},Ro={small:"16px",medium:"20px",large:"24px"},Po=function(e){var t=e.name,n=e.size,i=e.iconColor,o=void 0===i?A.O.icon.primary:i,r=function(e){return Ro[e]?Ro[e]:Ro.small}(n);if(Io[t]){var a=Io[t];return d()(a,{size:r,iconColor:o})}return null},Do=Object(Re.d)("div",{target:"e18oj9x20"})("border:1px solid ",A.O.stroke.secondary,";background-color:white;position:relative;border-radius:4px;",A.P["04dp"],";padding:22px 30px 30px 30px;"),jo=Object(Re.d)("div",{target:"e18oj9x21"})("display:flex;flex-direction:column;align-items:stretch;@media only screen and (min-width:",He.desktopMin,"){display:flex;flex-direction:row;justify-content:space-between;column-gap:20px;}"),Lo=Object(Re.d)("div",{target:"e18oj9x22"})("display:flex;flex-direction:column;width:100%;justify-content:space-around;"),Ho=Object(Re.d)("div",{target:"e18oj9x23"})("display:block;height:24px;border:0;@media only screen and (min-width:",He.desktopMin,"){display:none;}"),Fo=Object(Re.d)("div",{target:"e18oj9x24"})("display:block;height:12px;border:0;@media only screen and (min-width:",He.desktopMin,"){display:none;}"),Mo=Object(Re.d)("span",{target:"e18oj9x25"})("font-weight:",je.mediumBold,";font-family:",je.franklin,";font-size:18px;line-height:27px;color:",A.O.text.primary,";"),Wo=Object(Re.d)("span",{target:"e18oj9x26"})("font-weight:",je.medium,";font-family:",je.franklin,";font-size:12px;line-height:24px;color:",A.O.text.secondary,";"),Uo=Object(Re.d)("div",{target:"e18oj9x27"})(A.ib.body3," color:#5a5a5a;display:flex;flex-direction:row;justify-content:normal;column-gap:10px;@media only screen and (min-width:",He.confirmationMin,") and (max-width:",He.desktopMin,"){align-items:center;}"),Vo=Object(Re.d)("div",{target:"e18oj9x28"})("margin-top:2px;"),Yo=Object(Re.d)("h3",{target:"e18oj9x29"})("font-size:18px;line-height:150%;font-family:",je.franklin,";font-weight:",je.bold,";color:",Le.defaultHeadingColor,";font-style:normal;"),Go=Object(Re.d)("h3",{target:"e18oj9x210"})("font-size:18px;line-height:150%;font-family:",je.franklin,";font-weight:",je.bold,";color:",Le.defaultHeadingColor,";font-style:normal;display:flex;flex-direction:row;column-gap:10px;align-items:center;"),Bo=Object(Re.d)("div",{target:"e18oj9x211"})("display:inline-flex;align-items:center;justify-content:flex-start;gap:4px;padding:0 7px;border-radius:5px;background:rgba(38,124,48,0.1);color:",A.O.text.positive,";font-size:12px;font-family:",je.franklin,";font-weight:",je.medium,";word-wrap:break-word;height:70% !important;"),zo=function(e){switch(on(e)||an(e)||sn(e)||cn(e)||rn(e)){case on(e):return"colorNews";case an(e):return"colorGames";case sn(e):return"colorCooking";case cn(e):return"colorWirecutter";case rn(e):default:return"colorNews"}},qo=function(e){var t,n=e.subscriptionExperienceType,i=e.offerType,o=e.acceptLoadingState,r=e.onClick,a=e.offerName,c=e.primaryOffer,s=e.currentWeeklyRate,l=e.complimentaryOffer,u=e.complimentaryOfferName,p=e.tierCycleAmount,f=Tn(n,c),h=f.purchaseTerms,m=f.cancellationPolicy.toString(),v=h.join(" ").concat(" ".concat(m)),g=(null===(t=c.opsPresentation)||void 0===t?void 0:t.promoPriceWeekly)||"",y=wn(i,c),w=On(i,c),O=function(e,t,n,i){var o,r,a,c,s="every year"===(null===(o=t.opsPresentation)||void 0===o?void 0:o.billingFrequency)?" a ".concat(t.presentation.offerInitialBasicUnit||""):(null===(r=t.opsPresentation)||void 0===r?void 0:r.billingFrequency)||"";switch(e){case x.BETTER_OFFER:return d()("span",{},void 0,"Billed as"," ",i&&""!==n?d()(A.y,{colorVariant:"placeholder"},void 0,d()(Ft,{},void 0,n)):null," ",(null==t||null===(a=t.opsPresentation)||void 0===a?void 0:a.promoPrice)||""," ",s,".");case x.OFFER_EXTENSION:return d()("span",{},void 0,"Billed as ",(null==t||null===(c=t.opsPresentation)||void 0===c?void 0:c.promoPrice)||""," ",s,".");default:return d()("span",{},void 0,"Billed as"," ",i&&""!==n?d()(A.y,{colorVariant:"placeholder"},void 0,d()(Ft,{},void 0,n)):null," ",t.presentation.offerInitialRateCharge)}}(i,c,p,w),S=i!==x.OFFER_EXTENSION||w,C="For ".concat(a||""," plus free ").concat(u||"",", for the first year.");return d()(Do,{},void 0,d()(jo,{},void 0,d()(Lo,{},void 0,d()(Yo,{"data-testid":"offer-name"},void 0,a),d()(Uo,{"data-testid":"offer-description"},void 0,d()(Vo,{},void 0,d()(Po,{name:zo(c),size:"large"})),d()("div",{},void 0,io(c))),bo||(bo=d()(A.H,{space:"2"})),d()(Go,{"data-testid":"complimentary-offer-name-2"},void 0,d()("div",{},void 0,u),ho||(ho=d()(Bo,{},void 0,"FREE"))),d()(Uo,{"data-testid":"complimentary-offer-description-2"},void 0,d()(Vo,{},void 0,d()(Po,{name:zo(l),size:"large"})),d()("div",{},void 0,io(l)))),mo||(mo=d()(Ho,{})),d()(Lo,{},void 0,d()("div",{},void 0,d()("div",{"data-testid":"offer-rate"},void 0,d()(A.b,{level:"1",colorVariant:"placeholder","data-testid":"current-weekly-rate"},void 0,S?b.a.createElement(b.a.Fragment,null,d()(Ft,{},void 0,s)," "):null),d()(Mo,{"data-testid":"offer-initial-rate"},void 0,g,"/week"),d()("div",{},void 0,d()(Wo,{},void 0,C))),d()(A.y,{dataTestId:"offer-caption",colorVariant:"secondary"},void 0,O)),vo||(vo=d()(Fo,{})),d()("div",{},void 0,d()(Mt,{onClick:r,"data-testid":"accept-button",disabled:o},void 0,d()(jt,{hide:o},void 0,d()(A.b,{level:"2",colorVariant:"primaryInverse"},void 0,y)),o?go||(go=d()(Di,{isRedesignOfferPage:!0})):"")))),yo||(yo=d()(A.H,{space:"3"})),wo||(wo=d()(A.g,{level:"tertiary"})),Oo||(Oo=d()(A.H,{space:"3"})),d()(b.a.Fragment,{},"cardSaveOfferTerms",d()(kt,{"data-testid":"save-offer-arl",dangerouslySetInnerHTML:{__html:v}})))};qo.displayName="FreebiesMerchandisingRedesignTestVariantComplimentaryOfferCard";var $o,Qo,Ko,Zo=function(e){var t,n,i,o=e.subscriptionExperienceType,r=e.activeSubscription,a=e.targetOffers,c=e.step,s=e.totalSteps,l=e.history,u=e.nextRoute,v=e.abraInformation,g=Object(f.useState)(""),y=p()(g,2),w=y[0],O=y[1],S=Object(f.useState)(!1),C=p()(S,2),E=C[0],k=C[1],_=null===(t=v.abraAllocation.find((function(e){return e.test===Rn.FreebieMerchandisingRedesign})))||void 0===t?void 0:t.variant,N=function(e){var t,n,i,o=(t=function(e){return e.presentation.experienceType===x.BONUS_OFFER},n=[],h(e):i.push(e)})),[n,i]),r=p()(o,2),a=r[0];return[r[1][0]||e[1]||null,a[0]||e[0]||null]}(a),I=p()(N,2),R=I[0],P=I[1],D=R.offerId,j=R.additionalSubscriptionsIds,L=yn(r),H=r.subscriptionId,F=gn(R),M=function(e){switch(on(e)||an(e)||sn(e)||cn(e)||rn(e)){case on(e):return"News";case an(e):return"Games";case sn(e):return"Cooking";case cn(e):return"Wirecutter";default:return""}}(P),W=function(e,t){var n,i=(null===(n=e.opsPresentation)||void 0===n?void 0:n.subscriptionName)||"",o=dn(e);return o.offerDiscountDirection!==Et.h.LessThanSubscription?"Consider keeping your ".concat(i," subscription, and enjoy free ").concat(t," for a year."):"Consider saving ".concat(pn(o)," on ").concat(i,", and get a free ").concat(t||""," subscription for a year.")}(R,M),U=Tn(o,R),V=U.purchaseTerms,Y=U.cancellationPolicy,G=_n(r,o),B=Y.toString(),z=V.join(" ").concat(" ".concat(B)),q=Object(At.a)(r.billingInformation),$=(null==q?void 0:q.tierCycleAmount)||"",Q=Object(h.useApolloClient)(),K=Object(h.useMutation)(ee),Z=p()(K,2),J=Z[0],X=Z[1],te=X.loading,ie=X.error,oe=X.data,re=Object(h.useMutation)(ne),ce=p()(re,2),de=ce[0],ue=ce[1],pe=ue.loading,be=ue.error,he=ue.data,me=te,ve=pe;Object(f.useEffect)((function(){var e=ie||be;e&&function(e){switch(function(e){var t,n;return(null==e||null===(t=e.graphQLErrors)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.message)||""}(e)){case se.PAYMENT_AUTHORIZATION_ERROR:O("payment-authorization-error");break;case se.OPERATION_IMPOSSIBLE:k(!0);break;case se.USER_IS_NOT_LOGGED_IN:Object(T.redirectToLogin)();break;default:O("technical-issue")}}(e)}),[ie,be]),Object(f.useEffect)((function(){if(oe){var t=oe.onlineCancelSwitchSubscription.newSubscriptionId;Ne(r,t,R),n=oe.onlineCancelSwitchSubscription.effectiveDate,i=F,e.onSubscriptionSwitchSubmitted(n,i),Q.clearStore().catch((function(){})),l.push(u)}var n,i;he&&(e.onSubscriptionCancelSubmitted(),Q.clearStore().catch((function(){})),l.push(u))}),[oe,he]);var ge=function(t){t&&ke(R.offerChainId||"",t,"step".concat(c)),J({variables:{subscriptionId:H,additionalSubscriptionsIds:j,targetOfferId:D,secondaryComplimentaryOfferIds:[P.offerId],switchReason:e.selectedReason,note:e.enteredFeedback}}).catch((function(){}))};return Object(f.useEffect)((function(){Object(m.o)(v.abraAllocation,[Ln.NAME],le.a.ABRA_INTEGRATION)})),E?d()(Ci,{mode:ae.ACCESS}):d()("div",{},void 0,d()(Qn,{currentStep:c,totalSteps:s,optional:!1}),So||(So=d()(A.H,{space:"1"})),d()(Tt,{"data-testid":"headline"},void 0,W),Co||(Co=d()(A.H,{space:"1"})),d()(A.b,{level:"2",colorVariant:"secondary",dataTestId:"current-rate"},void 0,"Your current subscription: ",r.subscriptionName," at ",L,"/week",_===Ln.VAR_TEST?"":"."),Ao||(Ao=d()(A.H,{space:"4"})),_===Ln.VAR_TEST?d()(qo,{subscriptionExperienceType:o,offerType:F,onClick:function(){return ge("take-offer")},offerName:null===(n=R.opsPresentation)||void 0===n?void 0:n.subscriptionName,acceptLoadingState:me,primaryOffer:R,currentWeeklyRate:L,complimentaryOffer:P,complimentaryOfferName:M,tierCycleAmount:$}):d()(fo,{offe("take-offer")},offerName:null===(i=R.opsPresentation)||void 0===i?void 0:i.subscriptionName,acceptLoadingState:me,primaryOffer:R,currentWeeklyRate:L,complimentaryOffer:P,complimentaryOfferName:M,tierCycleAmount:$,activeSubscription:r}),Eo||(Eo=d()(A.H,{space:"4"})),_===Ln.VAR_TEST?null:d()(b.a.Fragment,{},"cardSaveOfferTerms",d()(kt,{"data-testid":"save-offer-arl",dangerouslySetInnerHTML:{__html:z}}),ko||(ko=d()(A.H,{space:"2"}))),d()(A.y,{colorVariant:"secondary",dataTestId:"cancel-sub-terms"},void 0,G),To||(To=d()(A.H,{space:"4"})),d()("div",{},void 0,b.a.createElement(b.a.Fragment,null,d()(Gn,{errorCode:w,dataTestId:"unexpected-error"}),d()(Dt,{"data-testid":"btn-container"},void 0,d()(Gt,{onClick:function(){_e("cancel-offer","step".concat(c)),fe()},"data-testid":"back-to-account-button"},void 0,"Return to my account"),_o||(_o=d()(Vt,{})),d()(Wt,{"data-testid":"cancel-button",onClick:function(){return(t="reject-offer-button")&&ke(R.offerChainId||"",t,"step".concat(c)),void de({variables:{subscriptionId:H,cancelReason:e.selectedReason,note:e.enteredFeedback}}).catch((function(){}));var t},disabled:ve},void 0,d()(jt,{hide:ve},void 0,xo||(xo=d()(A.b,{level:"2",colorVariant:"primaryInverse"},void 0,"Confirm cancel"))),ve?No||(No=d()(Di,{isRedesignOfferPage:!0})):"")))))};Zo.displayName="ComplimentaryOfhe Athletic",e}({}),Xo=($o={},Nn()($o,R.f.NEWS,{description:Ki,iconName:"brandT",productName:Jo.News,backgroundColor:"#edece7"}),Nn()($o,R.f.GAMES,{description:Zi,iconName:"brandGames",productName:Jo.Games,backgroundColor:"#ffad00"}),Nn()($o,R.f.COOKING,{description:Ji,iconName:"brandCooking",productName:Jo.Cooking,backgroundColor:"#ff3b20"}),Nn()($o,R.f.WIRECUTTER,{description:Xi,iconName:"brandWirecutter",productName:Jo.Wirecutter,backgroundColor:"#5c78fb"}),Nn()($o,R.f.ATHLETIC,{description:eo,iconName:"brandAthletic",productName:Jo.Athletic,backgroundColor:"#181818"}),$o),er=function(e,t,n){var i=Xo[e];return i?d()("div",{},t,d()(Zt,{},t,d()(en,{},void 0,d()(Xt,{},void 0,d()(A.w,{name:i.iconName,size:"small",iconColor:"#121212"}))),Qo||(Qo=d()(A.h,{space:"1"})),d()(A.b,{level:"3",colorVariant:"placeholder"},void 0,d()(_t,{"data-testid":"".concat(t,"-product-name")},void 0,function(e){var t;return"".concat((null===(t=Xo[e])||void 0===t?void 0:t.productName)||"",". ")}(e)),d()("span",{"data-testid":"".concat(t,"-product-merchandscription)||""}(e)))),n?Ko||(Ko=d()(A.H,{space:"1"})):null):null};er.displayName="generateDescriptionBlock";var tr,nr,ir,or=function(e){return e.map((function(t,n){return n<e.length-1?er(t,n,!0):er(t,n,!1)}))},rr={ITUNES:"Apple App Store",GOOGLE_PLAY:"Google Play Store",NOOK:"Amazon Appstore",KINDLE:"Amazon Appstore"},ar=function(e,t){return"All Access includes everything The Times offers in one subscription."+" You are currently subscribed to ".concat((n=function(e:t.productName}))}(e),1===n.length?"".concat(n[0],"."):"".concat(n.slice(0,-1).join(", ")," and ").concat(n.slice(-1)[0],"."))," When you accept the All Access offer, your ").concat(e.length>1?"current subscriptions ":"current subscription ").concat(t?"purchased through the Times ":"","will be cancelled.");var n},cr=function(e){return d()(Kt,{},void 0,d()(Jt,{},void 0," ",e.language),tr||(tr=d()(tn,{})),nr||(nr=d()(A.H,{space:"3"})))};cr.displayName="WordsInTheMiddleContentBlock";var sr,lr,dr,ur,pr,fr=function(){return ir||(ir=d()(Kt,{},void 0,d()(Jt,{},void 0," YOUR CURRENT SUBSCRIPTIONS"),d()(tn,{}),d()(A.H,{space:"3"})))};fr.displayName="YourSubscriptionsElement";var br,hr=function(e,t){var n=e.map((function(e){return e.subscriptionBillingSource})).filter((function(e){return!((t=e)&&("CIS"===t.toUpperCase()||"SARTRE"===t.toUpperCase()));var t})).length>0,i=ar(t,n);return n?b.a.createElement(b.a.Fragment,null,i,(sr||(sr=d()(A.H,{space:"1"})))&&function(e){riptionLabels)}));if(0===t.length)return"";var n=[R.f.NOOK,R.f.ITUNES,R.f.GOOGLE_PLAY,R.f.KINDLE],i=t.map((function(e){var t=e.subscriptionLabels.filter((function(e){return n.includes(e)}))[0];if(!t)return{name:"",cancelMethod:""};var i=rr[t];return{name:e.subscriptionName||"",cancelMethod:i}})),o=" However, you also have a ",r=" To cancel, please visit the ",a=i.map((function(e){return e.name})),c=i.map((function(e){return e.cancelMethod}));return t.length>1?(o+="".concat(a.slice(0,-1).join(", ")," and ").concat(a.slice(-1)[0]," subscriptions through a third-party provider."),o+=r,o+="".concat(c.slice(0,-1).join(", ")," and the ").concat(c.slice(-1)[0],".")):(o+="".concat(a.slice(-1)[0]," subscription through a third-party provider."),o+=r,o+="".concat(c.slice(-1)[0],".")),o}(e)):b.a.createElement(b.a.Fragment,null,i)},mr=function(e){var t,n=e.otherRelevantSubscriptions,i=e.activeSubscription,o=[R.f.NEWS,R.f.COOKING,R.f.GAMES,R.f.WIRECUTTER,R.f.ATHLETIC],r=(t=[i].concat(n).flatMap((function(e){return e.subscriptionLabels})),Array.from(new S o.includes(e)!r.includes(e)}));return d()("div",{"data-testid":"allAccess-card-desc"},void 0,d()($t,{},void 0,lr||(lr=d()(A.H,{space:"1"})),dr||(dr=d()(fr,{})),d()("div",{},void 0,or(r)),a?ur||(ur=d()(cr,{language:"PLUS"})):null,d()("div",{},void 0,or(a)),pr||(pr=d()(A.H,{space:"3"}))),d()(Qt,{},void 0,d()(A.y,{colorVariant:"secondary"},void 0,hr(n,r))))};mr.displayName="UpgradeAllAccessCard";var vr=function(){return br||(br=d()("div",{"data-testid":"allAccess-card-desc"},void 0,d()($t,{},void 0,d()(A.H,{space:"1"}),d()(cr,{language:"INCLUDES"}),d()("div",{},void 0,d()(Zt,{},void 0,d()(en,{},void 0,d()(Xt,{},void 0,d()(A.w,{name:"brandT",size:"small",iconColor:"#121212"}))),d()(A.h,{space:"1"}),d()(A.b,{level:"3",colorVariant:"placeholder"},void 0,d()(_t,{},void 0,"News. ")," ",Ki)),d()(A.H,{space:"1"}),d()(Zt,{},void 0,d()(en,{},void 0,d()(Xt,{},void 0,d()(A.w,{name:"brandGames",size:"small",iconColor:"#121212"}))),d()(A.h,{space:"1"}),d()(A.b,{level:"3",colorVariant:"placeholder"},void 0,d()(_t,{},void 0,"Games. "),Zi)),d()(A.H,{space:"1"}),d()(Zt,{},void 0,d()(en,{},void 0,d()(Xt,{},void 0,d()(A.w,{name:"brandCooking",size:"small",iconColor:"#121212"}))),d()(A.h,{space:"1"}),d()(A.b,{level:"3",colorVariant:"placeholder"},void 0,d()(_t,{},void 0,"Cooking. "),Ji)),d()(A.H,{space:"1"}),d()(Zt,{},void 0,d()(en,{},void 0,d()(Xt,{},void 0,d()(A.w,{name:"brandWirecutter",size:"small",iconColor:"#121212"}))),d()(A.h,{space:"1"}),d()(A.b,{level:"3",colorVariant:"placeholder"},void 0,d()(_t,{},void 0,"Wirecutter. "),Xi)),d()(A.H,{space:"1"}),d()(Zt,{},void 0,d()(en,{},void 0,d()(Xt,{},void 0,d()(A.w,{name:"brandAthletic",size:"small",iconColor:"#121212"}))),d()(A.h,{space:"1"}),d()(A.b,{level:"3",colorVariant:"placeholder"},void 0,d()(_t,{},void 0,"The Athletic. "),eo))),d()(A.H,{space:"2"})),d()(A.H,{space:"0.5"})))};vr.displayName="DefaultAllAccessCard";var gr,yr,wr,Or,Sr,Cr,Ar,Er,kr,Tr,_r,xr,Nr,Ir,Rr,Pr,Dr,jr,Lr,Hr,Fr,Mr=function(e,t,n,i,o){var r,a=(null===(r=t.opsPresentation)||void 0===r?void 0:r.promoPriceWeekly)||"",c=t.presentation.offerInitialRateDuration,s=fn(c);return b.a.createElement(b.a.Fragment,null,On(e,t)&&d()(A.b,{level:"1",colorVariant:"placeholder","data-testid":"current-weekly-rate"},void 0,d()(Ft,{},void 0,n?o:i," ")),d()(zt,{"data-testid":"offer-initial-rate"},void 0,a,"/week"),d()(qt,{"data-testid":"year-rate"},voext":"another"}(e)," ",s))},Wr=function(e){var t=e.activeSubscription,n=e.otherRelevantSubscriptions,i=e.subscriptionExperienceType,o=e.offerExperienceType,r=e.acceptLoadingState,a=e.onClick,c=e.offerName,s=e.targetOffer,l=e.currentBasicRate,u=e.allSubsWeeklyRate,p=e.isMultiSub,b=F(t),h=function(e,t){var n=e.presentation,i=n.offerInitialBasicUnit,o=n.offerInitialRateDuration,r=e.opsPresentation.promoPrice,a="every year"===e.opsPresentation.billingFrequency?"a ".concat(i||""):e.opsPresentation.billingFrequency||"";return t?"Billed as ".concat(r," ").concat(a," for the first ").concat(o):"Billed as ".concat(r," ").concat(a," until ").concat(e.opsPresentation.fullPriceStartDate)}(s,"FUTURE"===(null==b?void 0:b.tierStatus)),v=io(s),g=Tn(i,s),y=g.purchaseTerms,w=g.cancellationPolicy.toString(),O=y.join(" ").concat(w),S=wn(o,s),C=B(t);return Object(f.useEffect)((function(){Object(m.q)({moduleName:"offer-card-description",moduleLabel:"step 3",moduleContext:JSON.stringify({offerDescription:v,offerName:c,offerRate:h}),elementLabel:"offerDetails"})}),[]),d()(Rt,{},void 0,d()(Pt,{},void 0,gr||(gr=d()(A.H,{space:"4"})),d()(Lt,{},void 0,d()(Ht,{},void 0,d()(It,{"data-testid":"offer-name"},void 0,c),yr||(yr=d()(A.H,{space:"1"})),d()(Nt,{"data-testid":"offer-description"},void 0,v)),M(t)?wr||(wr=d()(Yt,{})):null,d()(Ht,{},void 0,Or||(Or=d()(Ut,{})),Sr||(Sr=d()(xt,{})),Cr||(Cr=d()(Ut,{})),d()("div",{"data-testid":"offer-rate"},void 0,Mr(o,s,p,l,u)),Ar||(Ar=d()(A.H,{space:"0.5"})),d()(A.y,{dataTestId:"offer-caption",colorVariant:"secondary"},void 0,h),Er||(Er=d()(A.H,{space:"3"})),d()(Mt,{onClick:a,"data-testid":"accept-button",disabled:r},void 0,d()(jt,{hide:r},void 0,d()(A.b,{level:"2",colorVariant:"primaryInverse"},void 0,S)),r?kr||(kr=d()(Di,{isRedesignOfferPage:!0})):""))),p&&(Tr||(Tr=d()(A.H,{space:"4"}))),C&&(_r||(_r=d()(A.H,{space:"5"})))),p&&d()(mr,{activeSubscription:t,otherRelevantSubscriptions:n}),C&&(xr||(xr=d()(vr,{}))),!p&&d()(Qt,{},void 0,d()(A.y,{colorVariant:"secondary"},void 0,d()(kt,{"data-testid":"save-offer-arl",dangerouslySetInnerHTML:{__html:O}}))))};Wr.displayName="SingleOfferCard";var Ur,Vr,Yr,Gr,Br,zr,qr,$r,Qr,Kr,Zr,Jr=function(e){var t,n=e.subscriptionExperienceType,i=e.activeSubscription,o=e.otherRelevantSubscriptions,r=e.targetOffer,a=e.step,c=e.totalSteps,s=e.history,l=e.nextRoute,u=e.allSubsWeeklyRate,m=Object(f.useState)(""),v=p()(m,2),g=v[0],y=v[1],w=Object(f.useState)(!1),O=p()(w,2),S=O[0],C=O[1],E=r.offerId,k=r.additionalSubscriptionsIds,_=yn(i),N=i.subscriptionId,I=gn(r),R=k.length>0&&I===x.ADA_UPGRADE_OFFER,P=r.presentation.offerInitialRateDuration,D=Sn(i,n,r,I,P),j=_n(i,n),L=Tn(n,r),H=L.purchaseTerms,F=L.cancellationPolicy.toString(),M=H.join(" ").concat(F),W=Object(h.useApolloClient)(),U=Object(h.useMutation)(ee),V=p()(U,2),Y=V[0],G=V[1],B=G.loading,z=G.error,q=G.data,$=Object(h.useMutation)(ne),Q=p()($,2),K=Q[0],Z=Q[1],J=Z.loading,X=Z.error,te=Z.data,ie=B,oe=J;Object(f.useEffect)((function(){var e=z||X;e&&function(e){switch(function(e){return e.graphQLErrors&&e.graphQLErrors[0]&&e.graphQLErrors[0].message}(e)){case se.PAYMENT_AUTHORIZATION_ERROR:y("payment-authorization-error");break;case se.OPERATION_IMPOSSIBLE:C(!0);break;case se.USER_IS_NOT_LOGGED_IN:Object(T.redirectToLogin)();break;default:y("technical-issue")}}(e)}),[z,X]),Object(f.useEffect)((function(){if(q){var t=q.onlineCancelSwitchSubscription.newSubscriptionId;Ne(i,t,r),n=q.onlineCancelSwitchSubscription.effectiveDate,o=I,e.onSubscriptionSwitchSubmitted(n,o),W.clearStore().catch((function(){})),s.push(l)}var n,o;te&&(e.onSubscriptionCancelSubmitted(),W.clearStore().catch((function(){})),s.push(l))}),[q,te]);return S?d()(Ci,{mode:ae.ACCESS}):d()("div",{},void 0,d()(Qn,{currentStep:a,totalSteps:c,optional:!1}),Nr||(Nr=d()(A.H,{space:"1"})),d()(Tt,{"data-testid":"headline"},void 0,D),Ir||(Ir=d()(A.H,{space:"0.5"})),d()(A.b,{level:"2",colorVariant:"secondary",dataTestId:"current-rate"},void 0,R?"You're in the middle of cancelling your ".concat(i.subscriptionName||""," subscription, currently billed at ").concat(_,"/week"):"Your current subscription: ".concat(i.subscriptionName||""," at ").concat(_,"/week")),Rr||(Rr=d()(A.H,{space:"4"})),d()(Wr,{offerExperienceType:I,subscriptionExperienceType:n,activeSubscription:i,otherRelevantSubscriptions:o,onClick:function(){return(t="take-offer")&&ke((null==r?void 0:r.offerChainId)||"",t,"step".concat(a)),void Y({variables:{subscriptionId:N,additionalSubscriptionsIds:k,targetOfferId:E,secondaryComplimentaryOfferIds:[],switchReason:e.selectedReason,note:e.enteredFeedback}}).catch((function(){}));var t},offerName:null===(t=r.opsPresentation)||void 0===t?void 0:t.subscriptionName,acceptLoadingState:ie,isMultiSub:R,targetOffer:r,currentBasicRate:_,allSubsWeeklyRate:u}),b.a.createElement(b.a.Fragment,null,Pr||(Pr=d()(A.H,{space:"2"})),d()(A.y,{colorVariant:"secondary"},void 0,R&&d()(kt,{"data-testid":"save-offer-arl",dangerouslySetInnerHTML:{__html:M}}))),Dr||(Dr=d()(A.H,{space:"2"})),d()(A.y,{colorVariant:"secondary",dataTestId:"cancel-sub-terms"},void 0,j),jr||(jr=d()(A.H,{space:"4"})),d()("div",{},void 0,b.a.createElement(b.a.Fragment,null,d()(Gn,{errorCode:g,dataTestId:"unexpected-error"}),d()(Dt,{"data-testid":"btn-container"},void 0,d()(Gt,{onClick:function(){_e("cancel-offer","step".concat(a)),fe()},"data-testid":"back-to-account-button"},void 0,"Return to my account"),Lr||(Lr=d()(Vt,{})),d()(Wt,{"data-testid":"cancel-button",onClick:function(){return(t="reject-offer-button")&&ke((null==r?void 0:r.offerChainId)||"",t,"step".concat(a)),void K({variables:{subscriptionId:N,cancelReason:e.selectedReason,note:e.enteredFeedback}}).catch((function(){}));var t},disabled:oe},void 0,d()(jt,{hide:oe},void 0,Hr||(Hr=d()(A.b,{level:"2",colorVariant:"primaryInverse"},void 0,"Confirm cancel"))),oe?Fr||(Fr=d()(Di,{isRedesignOfferPage:!0})):"")))))};Jr.displayName="SingleOfferPage";var Xr,ea,ta,na,ia,oa,ra,aa,ca,sa=function(e){var t=e.activeSubscription,n=e.onClick,i=e.acceptLoadingState,o=e.currentBasicRate,r=e.isInTestVariantForMerchandisingAA,a=function(e){var t=F(e);if(!t)return"";var n=t.tierCycleAmount,i=t.tierCycleDurationStr,o=t.tierLastDate;if("Free"!==n)return"Billed as ".concat(n," every ").concat(i);var r=function(e){var t=(e.billingInformation||{}).billingTiers;return(void 0===e.tierStatus}))||null}(e);if(!r)return"";var a=r.tierCycleAmount,c=r.tierCycleDurationStr;return["Will be billed as ".concat(a),"every ".concat(c),"after your free period ends on ".concat(Object(Ot.f)(o))].join(" ")}(t),c=function(e){switch(M(e)||B(e)||z(e)||G(e)||V(e)||Y(e)||q(e)){case M(e):return no;case B(e):return to;case z(e):return Ki;case G(e):return Zi;case V(e):return Ji;case Y(e):return Xi;case q(e):return eo;default:return""}}(t);return Object(m.q)({moduleName:"offer-card-description",moduleLabel:"step 3",moduleContext:JSON.stringify({offerDescription:c,subName:t.subscriptionName,currentlyBilled:a}),elementLabel:"offerDescription"}),d()(Rt,{},void 0,d()(Pt,{},void 0,Ur||(Ur=d()(A.H,{space:"4"})),d()(Lt,{},void 0,d()(Ht,{},void 0,d()(It,{"data-testid":"offer-name"},void 0,t.subscriptionName),Vr||(Vr=d()(A.H,{space:"1"})),d()(Nt,{"data-testid":"offer-description"},void 0,c)),M(t)?Yr||(Yr=d()(Yt,{})):null,d()(Ht,{},void 0,Gr||(Gr=d()(Ut,{})),Br||(Br=d()(xt,{})),zr||(zr=d()(Ut,{})),d()("div",{"data-testid":"offer-rate"},void 0,d()(zt,{"data-testid":"offer-headline"},void 0,o,"/week")),d()(A.y,{colorVariant:"secondary",dataTestId:"offer-caption"},void 0,a),qr||(qr=d()(A.H,{space:"3"})),d()(Mt,{onClick:n,"data-testid":"accept-button",disabled:i},void 0,d()(jt,{hide:i},void 0,d()(A.b,{level:"2",colorVariant:"primaryInverse"},void 0,"Keep my subscription")),i?$r||($r=d()(Di,{isRedesignOfferPage:!0})):""))),B(t)&&r?Qr||(Qr=d()(A.H,{space:"4"})):Kr||(Kr=d()(A.H,{space:"5"}))),B(t)&&r?Zr||(Zr=d()(vr,{})):null)};sa.displayName="ZeroOfferCard";var la=function(e){var t,n=e.subscriptionExperienceType,i=e.activeSubscription,o=e.otherRelevantSubscriptions,r=e.step,a=e.totalSteps,c=e.history,s=e.nextRoute,l=e.abraInformation,u=(null===(t=l.abraAllocation.find((function(e){return e.test===Rn.AAMerchandising})))||void 0===t?void 0:t.variant)===Dn.VAR_TEST&&B(i),v=Object(f.useState)(""),g=p()(v,2),y=g[0],w=g[1],O=Object(f.useState)(!1),S=p()(O,2),C=S[0],E=S[1],k=i.subscriptionId,_=_n(i,n),x=Sn(i,n,null,null,""),N=yn(i),I=function(e){var t,n;return{currentBillingInfo:(null===(t=e.onlineCancelSubscriptionPresentation)||void 0===t?void 0:t.currentBillingInfo)||[],cancellationPolicy:(null===(n=e.onlineCancelSubscriptionPresentation)||void 0===n?void 0:n.cancellationPolicy)||[]}}(i),R=I.currentBillingInfo,P=I.cancellationPolicy,D=P.toString(),j=R.join(" ").concat(D),L=Object(h.useApolloClient)(),H=Object(h.useMutation)(te),F=p()(H,2),W=F[0],U=F[1],V=U.loading,Y=U.error,G=U.data,z=Object(h.useMutation)(ne),q=p()(z,2),$=q[0],Q=q[1],K=Q.loading,Z=Q.error,J=Q.data,X=V,ee=K;Object(f.useEffect)((function(){var e=Y||Z;e&&function(e){switch(function(e){var t,n;return(null==e||null===(t=e.graphQLErrors)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.message)||""}(e)){case se.PAYMENT_AUTHORIZATION_ERROR:w("payment-authorization-error");break;case se.OPERATION_IMPOSSIBLE:E(!0);break;case se.USER_IS_NOT_LOGGED_IN:Object(T.redirectToLogin)();break;default:w("technical-issue")}}(e)}),[Y,Z]),Object(f.useEffect)((function(){G&&(e.onSubscriptionKeepSubmitted(),L.clearStore().catch((function(){})),c.push(s)),J&&(e.onSubscriptionCancelSubmitted(),L.clearStore().catch((function(){})),c.push(s))}),[G,J]),Object(f.useEffect)((function(){B(i)&&Object(m.o)(l.abraAllocation,[Dn.NAME],le.a.ABRA_INTEGRATION)}));return C?d()(Ci,{mode:ae.ACCESS}):d()("div",{},void 0,d()(Qn,{currentStep:r,totalSteps:a,optional:!1}),Xr||(Xr=d()(A.H,{space:"1"})),d()(Tt,{"data-testid":"headline"},void 0,x),ea||(ea=d()(A.H,{space:"0.5"})),d()(A.b,{level:"2",colorVariant:"secondary",dataTestId:"current-rate"},void 0,"Your current subscription: ",i.subscriptionName," at ",N,"/week."),ta||(ta=d()(A.H,{space:"4"})),d()(sa,{activeSubscription:i,otherRelevantSubscriptions:o,onClick:function(){return(t="take-offer")&&ke("",t,"step".concat(r)),void W({variables:{subscriptionId:k,keepReason:e.selectedReason,note:e.enteredFeedback}}).catch((function(){}));var t},currentTierBillingTerms:R,cancellationPolicy:P,acceptLoadingState:X,currentBasicRate:N,isInTestVariantForMerchandisingAA:u}),na||(na=d()(A.H,{space:"4"})),d()(A.y,{dataTestId:"billing-info",colorVariant:"secondary"},void 0,M(i)?"Your subscription will continue until you cancel. Cancellations take effect at the end of your current billing period. Other restrictions and taxes may apply. You can cancel anytime.":d()(b.a.Fragment,{},"ZeroCardOfferTerms",d()(kt,{dangerouslySetInnerHTML:{__html:j}}))),ia||(ia=d()(A.H,{space:"2"})),d()(A.y,{colorVariant:"secondary",dataTestId:"cancel-sub-terms"},void 0,_),oa||(oa=d()(A.H,{space:"5"})),d()("div",{},void 0,b.a.createElement(b.a.Fragment,null,d()(Gn,{errorCode:y,dataTestId:"unexpected-error"}),d()(Dt,{"data-testid":"btn-container"},void 0,d()(Gt,{onClick:function(){_e("cancel-offer","step".concat(r)),fe()},"data-testid":"back-to-account-button"},void 0,"Return to my account"),ra||(ra=d()(Vt,{})),d()(Wt,{"data-testid":"cancel-button",onClick:function(){return(t="reject-offer")&&ke("",t,"step".concat(r)),void $({variables:{subscriptionId:k,cancelReason:e.selectedReason,note:e.enteredFeedback}}).catch((function(){}));var t},disabled:ee},void 0,d()(jt,{hide:ee},void 0,aa||(aa=d()(A.b,{level:"2",colorVariant:"primaryInverse"},void 0,"Confirm cancel"))),ee?ca||(ca=d()(Di,{isRedesignOfferPage:!0})):"")))))};la.displayName="ZeroOfferPage";var da,ua=function(e){var t,n=e.step,i=e.offerEligibilityAbraExposures,o=e.regiID,r=function(){!function(e,t,n){Object(m.p)({moduleName:"offer-page-resolution",moduleContext:"".concat(t," x ").concat(e),elementName:"offer-page",moduleLabel:n})}(window.innerHeight,window.innerWidth,o)};Object(f.useEffect)((function(){var o,a;null!==(o=e.activeSubscription)&&void 0!==o&&null!==(a=o.subscriptionOnlineCancelEligibility)&&void 0!==a&&a.eligible?e.selectedReason?(Object(m.q)({pathname:"/rate",moduleName:"cancel-offer",moduleLabel:"step".concat(n)}),i.forEach((function(e){var t,n,i;t=[e],n=[e.test],i=le.a.ABRA_INTEGRATION,Array.isArray(t)&&t.forEach((function(e){var t=e.test,o=e.variant;n.includes(t)&&Object(m.m)({event:"ab-expose",abtest:{test:t,variant:o,pageLoadId:m.l,integration:i}})}))})),window.addEventLisTimeout(r,800)})),window.scrollTo(0,0)):e.history.push("".concat("/cancel","/")):e.history.push("".concat("/cancel"))}),[]);var a=e.targetOffers.length,c=e.targetOffers.some((function(e){return e.presentation.experienceType===x.BONUS_OFFER}));if(0===a)return d()(la,{activeSubscription:e.activeSubscription,otherRelevantSubscriptions:e.otherRelevantSubscriptions,subscriptionExperienceType:e.subscriptionExperienceType,selectedReason:e.selectedReason,enteredFeedback:e.enteredFeedback,onSubscriptionKeepSubmitted:e.onSubscriptionKeepSubmitted,onSubscriptionCancelSubmitted:e.onSubscriptionCancelSubmitted,history:e.history,step:e.step,totalSteps:e.totalSteps,nextRoute:e.nextRoute,abraInformation:e.abraInformation});if(a>1&&c)return d()(Zo,{activeSubscription:e.activeSubscription,subscriptionExperienceType:e.subscriptionExperienceType,targetOffers:e.targetOffers,selectedReason:e.selectedReason,enteredFeedback:e.enteredFeedback,onSubscriptionSwitchSubmitted:e.onSubscriptionSwitchSubmitted,onSubscriptionCancelSubmitted:e.onSubscriptionCancelSubmitted,history:e.history,step:e.step,totalSteps:e.totalSteps,nextRoute:e.nextRoute,abraInformation:e.abraInformation});var s=p()(e.targetOffers,1)[0];return s?d()(Jr,{activeSubscription:e.activeSubscription,otherRelevantSubscriptions:e.otherRelevantSubscriptions,subscriptionExperienceType:e.subscriptionExperienceType,targetOffer:s,selectedReason:e.selectedReason,enteredFeedback:e.enteredFeedback,onSubscriptionSwitchSubmitted:e.onSubscriptionSwitchSubmitted,onSubscriptionCancelSubmitted:e.onSubscriptionCancelSubmitted,history:e.history,step:e.step,totalSteps:e.totalSteps,nextRoute:e.nextRoute,allSubsWeeklyRate:e.allSubsWeeklyRate}):b.a.createElement(b.a.Fragment,null)};ua.displayName="Offer";var pa,fa,ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toString().toLowerCase()},ha=function(e,t,n){var i;i=e,window.open(i,"_self"),Te(t,"step".concat(n))},ma=function(e){var t=e.surveyTrackingData,n=e.step,i=function(e){var t=e.actionTaken,n=e.regiId,i=e.selectedReason,o=e.accountCreationDate,r=e.offerType,a=e.productCode,c=ba(i),s={conid:n,tid:ba(r),proc:a,sd:Object(Ot.e)(o,"YYYY-MM-DD"),cr:c};var l=new URLSearchParams(s).toString(),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(e){case"CK":return"https://nyt.qualtrics.com/jfe/form/SV_eKGJYPZoNGeOwlM";case"CR":return"https://nyt.qualtrics.com/jfe/form/SV_51MNpIa5oX4xpT8";default:return"https://nyt.qualtrics.com/jfe/form/SV_eb2ro3Cw0RYomKp"}}(a);switch(t){case ce.AT_CANCEL:return"".concat("https://nyt.qualtrics.com/jfe/form/SV_9sfjmaXDCBWeFal","?").concat(l);case ce.AT_KEEP:case ce.AT_SWITCH:default:return"".concat(d,"?").cault:return""}}(t.actionTaken),r=t.actionTaken;return b.a.createElement(b.a.Fragment,null,r===ce.AT_CANCEL?d()(We,{},void 0,on(){ha(i,o,n)},dataTestId:"survey-link",displayState:rt.STATE_ACTIVE},void 0,"Tell us about this experience")):d()(We,{},void 0,d()(We,{},void 0,da||(da=d()("span",{"data-testid":"normalSurveyCopy"},void 0,"Help us improve. ")),d()(ze,{href:i,target:"_blank",rel:"noopener noreferrer","data-testid":"survey-link",onClick:function(){return Te(o,"step".concat(n))}},void 0,"Tell us about this experience."))))},va=Object(Re.d)("div",{target:"e936dji0"})("width:2.8rem;margin-top:25px;margin-bottom:25px;border-bottom:1px solid ",Le.black,";@media only screen and (min-width:",He.tabletMin,"){width:3.5rem;}"),ga=Object(Re.d)(We,{target:"e936dji1"})("margin-top:20px;@media only screen and (min-width:",He.tabletMin,"){margin-top:30px;}"),ya=Object(Re.d)("div",{target:"e936dji2"})("margin-top:30px;cursor:pointer;"),wa=Object(Re.d)("p",{target:"e936dji3"})("margin-top:1em;margin-bottom:1em;"),Oa=Object(Re.d)("button",{target:"e936dji4"})("height:2.5rem;vertical-align:top;font-family:",je.franklin,";font-weight:",je.mediumBold,";font-size:16px;line-height:40px;text-align:center;border-radius:3px;cursor:pointer;color:",Le.black,";background-color:",Le.white,";border:1px solid ",Le.defaultHeadingColor,";width:100%;@media only screen and (min-width:",He.lgMobileMin,"){margin-right:1rem;width:",De,";}"),Sa=Object(Re.d)("div",{target:"e936dji5"})("cursor:pointer;display:block;@media only screen and (min-width:",He.lgMobileMin,"){display:flex;}"),Ca=Object(Re.d)("div",{target:"e936dji6"})("text-align:center;@media only screen and (min-width:",He.lgMobileMin,"){padding-top:6px;}"),Aa=function(e){switch(M(e)||B(e)||z(e)||G(e)||V(e)||Y(e)||q(e)){case M(e):case B(e):case z(e):return"https://nytimes.com";case V(e):return"https://cooking.nytimes.com";case G(e):return"https://nytimes.com/crosswords";case Y(e):return"https://www.nytimes.com/wirecutter/";default:return"https://nytimes.com"}},Ea=function(e){switch(M(e)||B(e)||z(e)||G(e)||V(e)||Y(e)||q(e)){case M(e):case B(e):case z(e):case Y(e):return"Keep reading";case V(e):return"Find recipes";case G(e):return"Keep playing";default:return"Keep reading"}},ka=function(e){var t=e.email;return d()(Ye,{"data-testid":"page-text-2"},void 0,pa||(pa=d()("span",{},void 0,"We've sent a confirmation email to ")),d()(Be,{},void 0,t),fa||(fa=d()("span",{},void 0,".")))};ka.displayName="EmailNotification";var Ta,_a,xa,Na,Ia,Ra=ka,Pa=function(e){var t=e.activeSubscription,n=e.offerExperienceType,i=e.emailAddress,o=e.effectiveDate,r=e.o=x.BONUS_OFFER})),c=p()(r,1)[0];if(!c)return b.a.createElement(b.a.Fragment,null);var s=function(e,t,n){return t===x.ADA_UPGRADE_OFFER?"Your subscription has been updated to All Access. You will have unlimited access to news and analysis, New York Times Cooking, New York Times Games, and New York Times Wirecutter.":M(e)?d()("span",{},void 0,"Your subscription has been updated, and your new rate will take effect on"," ",d()(Ue,{},void 0,Object(Ot.f)(n)),"."):"Your subscription has been updated, and your new rate will take effect immediately."}(t,n,o);return d()(ga,{},void 0,d()(wa,{"data-testid":"page-text-1"},void 0,s),n===x.ADA_UPGRADE_OFFER&&(Ta||(Ta=d()(wa,{"data-testid":"page-text-3"},void 0,"You will be credited for the remainder of your current subscriptions and your new rate will take effect immediately."))),n!==x.ADA_UPGRADE_OFFER&&a&&d()(We,{},void 0,_a||(_a=d()(A.H,{space:"1.5"})),function(e){switch(on(e)||an(e)||sn(e)||cn(e)||rn(e)){case on(e):return kn;case an(e):return Cn;case sn(e):return En;case cn(e):return An;default:return kn}}(c),xa||(xa=d()(A.H,{space:"1.5"}))),Na||(Na=d()(A.H,{space:"1.5"})),M(t)?null:d()(Ra,{email:i}))};Pa.displayName="SaveMessage";var Da,ja,La=function(){return d()("div",{},void 0,Ia||(Ia=d()(A.H,{space:"6"})),d()(A.A,{dataTestId:"upgrade-all-access-onboarding-link",listItemHeader:d()(A.s,{dataTestId:"aaHeaderOffboarding",typeStyle:A.Z.subtitle2},void 0,"Get started with All Access"),type:A.eb.navigation,href:Object(Mn.m)("account-cancel"),targetTab:"sameTab",onClick:xe},"upgrade-all-access-onboarding-link",d()(A.s,{dataTestId:"aaDescOffboarding",typeStyle:A.Z.body3,colorVariant:A.N.text.secondary},void 0,"We'll help you make the most of your new subscription.")))};La.displayName="AllAccessOnboarding";var Ha,Fa,Ma,Wa=function(e){var t=e.emailAddress,n=e.activeSubscription,i=e.offerExperienceType,o=e.actionEffectiveDate,r=e.step,a=e.offers;Object(f.useEffect)((function(){Object(m.q)({pathname:"/confirmation",moduleName:"offer-accepted-confirmation",moduleLabel:"step".concat(r)})}),[]),Object(f.useEffect)((function(){i===x.ADA_UPGRADE_OFFER&&Object(m.q)({pathname:"/confirmation",moduleName:"all-access-onboarding-link",moduleLabel:"step".concat(r)})}),[]);return b.a.createElement(b.a.Fragment,null,Da||(Da=d()(Me,{"data-testid":"headline"},void 0,"Thank you for continuing to support ",d()(Ue,{},void 0,"The New York Times."))),d()(Pa,{"data-testid":"save-message",emailAddress:t,offerExperienceType:i,activeSubscription:n,effectiveDate:o,offers:a}),i===x.ADA_UPGRADE_OFFER?ja||(ja=d()(La,{})):d()("div",{},void 0,d()(ya,{"data-testid":"btn-container"},void 0,d()(A.A,{dataTestId:"continue=button",type:A.eb.navigation,targetTab:"s(n)),Ie(Aa(n))}},"return-to-my-account-button",d()(A.s,{dataTestId:"return-to-account-normal",typeStyle:A.Z.subtitle2,colorVariant:A.N.text.primary},void 0,Ea(n))))))},Ua=function(e){var t,n=e.activeSubscription,i=e.otherRelevantSubscriptions,o=e.emailAddress,r=e.abraInformation,a=e.offerid 0:n.to)||""}(n),l=n.earliestStopDate||"",u=(null===(t=r.abraAllocation.find((function(e){return e.test===Rn.MultisubMerchandising})))||void 0===t?void 0:t.variant)===Pn&&a===x.ADA_UPGRADE_OFFER;return u&&Object(m.q)({pathname:"/confirmation",moduleName:"viewed-remaining-subs-cancel-confirmation-multisubAA",moduleLabel:"step".concat(c)}),M(n)?d()(ga,{},void 0,d()(wa,{"data-testid":"page-text-1"},void 0,b.a.createElement(b.a.Fragment,null,"We will stop delivering your papers on"," ",Object(Ot.e)(l,Ot.a),". You will also immediately lose unlimited access to our digital products."))):d()(ga,{},void 0,d()(wa,{"data-testid":"page-text-1"},void 0,b.a.createElement(b.a.Fragment,null,"You'll continue to have access until the end of your current billing cycle"," ",d()(Ue,{},void 0,"on ",Object(Ot.e)(s,Ot.a)),". After this, you can reactivate your subscription ",Ha||(Ha=d()(Ue,{},void 0,"at any time.")))),d()(wa,{"data-testid":"multisubAA-extra"},void 0,u?function(e){if(0===e.length)return"";var t=function(e){return 1===e.length?"".concat(e[0]||""," subscription"):e.length>1?"".concat(e.slice(0,-1).join(", ")," and ").concat(e.slice(-1)[0]||""," subscriptiobscriptionName})));return"You still have access to your ".concat(t,".")}(i):null),d()(Ra,{email:o}))};Ua.displayName="CancelMessage";var Va,Ya,Ga,Ba,za,qa=function(e){var t=e.activeSubscription,n=e.emailAddress,i=e.step,o=e.otherRelevantSubscriptions,r=e.abraInformation,a=e.offerType,c=e.surveyData,s=e.eduEligible;return Object(f.useEffect)((function(){Object(m.q)({pathname:"/confirmation",moduleName:"cancel-confirmation",moduleLabel:"step".concat(i)})}),[]),b.a.createElement(b.a.Fragment,null,d()(Me,{"data-testid":"headline"},void 0,"You’ve canceled your ",t.subscriptionName," subscription."),d()(Ua,{activeSubscription:t,otherRelevantSubscriptions:o,emailAddress:n,offerType:a,abraInformation:r,step:i}),Fa||(Fa=d()(A.H,{space:"4"})),d()(Sa,{"data-testid":"btn-container"},void 0,s?null:d()(ma,{surveyTrackingData:c,step:i}),s?null:Ma||(Ma=d()(A.h,{space:"3"})),d()(Ca,{},void 0,d()(A.F,{fontVariant:"subtitle2",colorVariant:"primary",to:Aa(t),dataTestId:"return-to-subscription-landing-page",onClick:function(){Ie(Aa(t))}},void 0,"Return to homepage"))))},$a=function(e){var t=e.step,n=e.activeSubscription;Object(f.useEffect)((function(){Object(m.q)({pathname:"/confirmation",moduleName:"continue-no-offer-confirmation",moduleLabel:"step".concat(t)})}),[]);return b.a.createElement(b.a.Fragment,null,Va||(Va=d()(Me,{"data-testid":"headline"},void 0,"Thank you for continuing to support ",d()(Ue,{},void 0,"The New York Times."))),d()(ya,{"data-testid":"btn-container"},void 0,d()(A.A,{dataTestId:"continue=button",type:A.eb.navigation,targetTab:tion(){me(Aa(n))}},"return-to-my-account-button",d()(A.s,{dataTestId:"return-to-account-normal",typeStyle:A.Z.subtitle2,colorVariant:A.N.text.primary},void 0,Ea(n)))))},Qa=function(e){var t,n,i=e.emailAddress,o=e.activeSubscription,r=e.otherRelevantSubscriptions,a=e.offerExperienceType,c=e.actionTaken,s=e.actionEffectiveDate,l=e.surveyTrackingData,u=e.step,h=e.history,v=e.offers,g=e.selectedReason,y=e.nextRoute,w=e.abraInformation,O=e.isEdu,S=[N.TooExpensive,N.PriceIncrease,N.Hardship].includes(g),C=c===ce.AT_CANCEL&&S&&O,E=c!==ce.AT_CANCEL||C,k=Object(f.useState)(!1),T=p()(k,2),_=T[0],x=T[1];Object(f.useEffect)((function(){c?C&&_?e.history.push(y):(window.history.pushState(null,"",window.location.href),ow.history.go(1)},window.scrollTo(0,0)):e.history.push("".concat("/cancel"))}),[_]);return b.a.createElement(b.a.Fragment,null,c&&function(){switch(c){case ce.AT_SWITCH:return t||(t=d()(Wa,{emailAddress:i,activeSubscription:o,offerExperienceType:a,actionEffectiveDate:s,step:u,history:h,offers:v}));case ce.AT_CANCEL:return d()(qa,{emailAddress:i,activeSubscription:o,otherRelevantSubscriptions:r,step:u,history:h,abraInformation:w,offerType:a,surveyData:l,eduEligible:C,homepageLink:Aa(o)});default:return n||(n=d()($a,{step:u,history:h,activeSubscription:o}))}}(),E?Ya||(Ya=d()(va,{})):null,C?d()("div",{},void 0,Ga||(Ga=d()(A.b,{level:"2",colorVariant:"primary",dataTestId:"eduSurveyCopy"},void 0,"Interested in a sponsored subscription?")),Ba||(Ba=d()(A.H,{space:"2"})),d()(Oa,{onClick:function(){var e;x(!0),e="educator-sponsorship-survey",Object(m.p)({moduleName:e,elementName:"take-sponsorship-survey",elementLabel:"sponsorship-survey"})},"data-testid":"sponsorship-survey"},void 0,"Take this brief survey")):null,c!==ce.AT_CANCEL&&d()(ma,{surveyTrackingData:l,step:u}))},Ka=n("RIqP"),Za=n.n(Ka),Ja=Object(Re.d)(We,{target:"ea2bxpr6"})("margin-top:24px;"),Xa=Object(Re.d)("button",{target:"ea2bxpr7"})("display:block;color:",A.O.text.primary,";",A.ib.subtitle2," padding:10px;text-align:center;border-radius:3px;border:1px solid ",A.O.stroke.primary,";cursor:pointer;height:44px;&.disabled{opacity:0.3;}@media only screen and (max-width:",He.confirmationMin,"){width:100%;}"),ec=Object(Re.d)("textarea",{target:"ea2bxpr9"})("width:100%;height:3rem;font-family:",je.franklin,";font-weight:",je.light,";font-size:16px;line-height:22px;color:",Le.black,";border:1px solid ",Le.silver,";border-radius:3px;box-sizing:border-box;resize:vertical;max-height:",He.desktopMin,";outline:none;display:block;-webkit-appearance:none;-moz-a 3px;\n    "):""})),tc=Object(Re.d)("div",{target:"ea2bxpr10"})("margin-top:20px;"),nc=Object(Re.d)("span",{target:"ea2bxpr11"})("margin-top:0.5rem;float:right;font-size:12px;letter-spacing:0.1px;line-heiarkred:Le.gray30}),";font-family:",je.franklin,";font-weight:",je.medium,";"),ic=Object(Re.d)("span",{target:"ea2bxpreturn e.hide?0:1}),";"),oc=Object(Re.d)("div",{target:"ea2bxpr14"})("display:flex;flex-direction:row;column-gap:24px;@media only screen and (max-width:",He.confirmationMin,"){flex-direction:column;row-gap:16px;}"),rc=Object(Re.d)("input",{target:"ea2bxpr15"})("height:23px;display:inline-block;margin:0;vertical-align:top;padding-right:",A.hb[1],";font-size:16px;accent-color:black;"),ac=Object(Re.d)("div",{target:"ea2bxpr16"})("margin:0;vertical-align:center;border:1px solid ",A.O.stroke.tertiary,";cursor:pointer;border-radius:3px;&.content-showContainer{border:1px solid ",A.O.stroke.primary,";cursor:default;}"),cc=Object(Re.d)("label",{target:"ea2bxpr17"})("display:flex;align-items:flex-start;cursor:pointer;padding:15px 10px;&.content-open-label{padding:15px 15px 0 15px;}&.content-closed-label{padding:15px;}"),sc=Object(Re.d)("p",{target:"ea2bxpr18"})("padding-left:8px;color:black;"),lc=Object(Re.d)("div",{target:"ea2bxpr19"})("max-height:0;overflow:hidden;transition:max-height 0.5s,opacity 0.5s;opacity:0;&.content-show{opacity:1;max-height:100%;padding:12px 0;transition:max-height 0.25s ease-in-out,opacity 0.55s;}"),dc=Object(Re.d)("span",{target:"ea2bxpr20"})("font-weight:",je.bold,";"),uc=Object(Re.d)("button",{target:"ea2bxpr21"})("padding-top:5px;text-align:center;"),pc=Object(Re.d)("div",{target:"ea2bxpr22"})("display:flex;padding:0 32px;"),fc=Object(Re.d)("div",{target:"ea2bxpr23"})("padding:0 32px;"),bc=Object(Re.d)("a",{target:"ea2bxpr24"})("cursor:pointer;text-decoration:underline;&:hover{color:",Le.gray20,";}"),hc=Object(Re.d)("div",{target:"ea2bxpr25"})("width:16px;@media only screen and (max-width:",He.confirmationMin,"){height:8px;width:0;}"),mc=Object(Re.d)("div",{target:"ea2bxpr26"})("display:flex;flex-direction:row;@media only screen and (max-width:",He.confirmationMin,"){flex-direction:column;}"),vc=function(){function e(t,n){Zn()(this,e),this._key=t,this._value=n,this._disabled=!1,this._hdSuspend=!1,this._helpCenter=!1,this._changeDelivery=!1,this._deliveryComplaint=!1,this._allAccessOnboarding=!1,this._callCare=!1,this._productSwitch=!1,this._pause=!1,this._switchHdToDigi=!1,this._copy="",this._chatAvailable=!1,this._winbackCreditAmount="",this._downloadAudioAppOnly=!1,this._manageSubscriptionAndDownloadAudio=!1}return Xn()(e,[{key:"chatAvailable",get:function(){return this._chatAvailable}},{key:"copy",get:function(){var t=this;return this.hdSuspend&&!this.changeDelivery&&(this._copy=e.SUSPEND_COPY),!this.switchHdToDigi||this.changeDelivery||this.hdSuspend||(this._copy=e.PRODUCT_SWITCH_COPY),this.changeDelivery&&!this.hdSuspend&&(this._copy=e.CHANGE_DELIVERY_DAYS),this.allAccessOnboarding&&!this.productSwitch&&(this._copy=e.ALL_ACCESS_ONBOARDING_COPY),this.allAccessOnboarding&&this.productSwitch&&(this._copy=e.ALL_ACCESS_PRODUCT_SWITCH_COPY),this.deliveryComplaint&&this.callCare&&(this._copy=d()("span",{},void 0,"We can address your delivery issue. File a"," ",d()(bc,{href:ge,target:"_self",onClick:function(e){!function(e,t){var n,i;Object(m.p)({moduleName:"cancel-reason-radio-button",elementName:"hd-delivery-complaint-link",moduleContext:e,elementLabel:null==t||null===(n=t.currentTarget)||void 0===n?void 0:n.textContent,elementUrl:null==t||null===(i=t.currentTarget)||void 0===i?void 0:i.href})}(t.value,e)}},void 0," ","delivery complaint")," ","or contact our Customer Care team",this.chatAvailable?", two ways:":":"," ")),this.productSwitch&&!this.pause&&(this._copy=e.PRODUCT_SWITCH_COPY),this.pause&&!this.productSwitch&&(this._copy=e.PAUSE_COPY),this.productSwitch&&this.pause&&(this._copy=e.PAUSE_SWITCH_COPY),this.hdSuspend&&this.switchHdToDigi&&!this.changeDelivery&&(this._copy=e.SUSPEND_SWITCH_TO_DIGI_COPY),this.changeDelivery&&this.switchHdToDigi&&!this.hdSuspend&&(this._copy=e.CHANGE_SWITCH_TO_DIGI_COPY),this.callCare&&(this._copy=d()("span",{},void 0,"We're here to address concerns about your subscription, if you need us. Visit the"," ",d()(bc,{href:"https://help.nytimes.com/hc/en-us/articles/115015385887-Contact-Us",target:"_self",onClick:function(e){!function(e,t){var n,i;Object(m.p)({moduleName:"cancel-reason-radio-button",elementName:"help-center-link",moduleContext:e,elementLabel:null==t||null===(n=t.currentTarget)||void 0===n?void 0:n.textContent,elementUrl:null==t||null===(i=t.currentTarget)||void 0===i?void 0:i.href})}(t.value,e)}},void 0,"Help Center")," ","or contact our Customer Care team",this.chatAvailable?", two ways:":":")),this.allAccessOnboarding&&(this._copy=e.ALL_ACCESS_ONBOARDING_COPY),this.winbackCreditAmount&&(this._copy=d()("span",{"data-testid":"winback-text"},void 0,"We're sorry to hear that you didn't receive your papers. While we work to resolve your delivery issues, we'd like to offer you two free weeks of home delivery, a value of $",this.winbackCreditAmount,".")),this.downloadAudioAppOnly&&(this._copy=e.DOWNLOAD_AUDIO_APP_VAR_2_COPY),d()("span",{},void 0,this._copy)}},{key:"key",get:function(){return this._key}},{key:"value",get:function(){return this._value}},{key:"disabled",get:function(){return this._disabled}},{key:"pause",get:function(){return this._pause}},{key:"hdSuspend",get:function(){return this._hdSuspend}},{key:"productSwitch",get:function(){return this._productSwitch}},{key:"callCare",get:function(){return this._callCare}},{key:"helpCenter",get:function(){return this._helpCenter}},{key:"switchHdToDigi",get:function(){return this._switchHdToDigi}},{key:"allAccessOnboarding",get:function(){return this._allAccessOnboarding}},{key:"deliveryComplaint",get:function(){return this._deliveryComplaint}},{key:"changeDelivery",get:function(){return this._changeDelivery}},{key:"winbackCreditAmount",get:function(){return this._winbackCreditAmount}},{key:"downloadAudioAppOnly",get:function(){return this._downloadAudioAppOnly}},{key:"manageSubscriptionAndDownloadAudio",get:function(){return this._manageSubscriptionAndDownloadAudio}},{kreturn this._key}},{key:"setHelpCenter",value:function(e){return this._helpCenter=e,this}},{key:"setProductSwitch",value:function(e){return this._productSwitch=e,this}},{key:"setPause",value:function(e){return this._pause=e,this}},{key:"setCallCare",value:function(e){return this._callCare=e,this}},{key:"setDisabled",value:function(e){return this._disabled=e,this}},{key:"setHdSuspend",value:function(e){return this._hdSuspend=e,this}},{key:"setChangeDelivery",value:function(e){return this._changeDelivery=e,this}},{key:"setAllAccessOnboarding",value:function(e){return this._allAccessOnboarding=e,this}},{key:"setDeliveryComplaint",value:function(e){return this._deliveryComplaint=e,this}},{key:"setWinbackCreditAmount",value:function(e){return e?(this._winbackCreditAmount=e,this.setCallCare(!1)):this}},{key:"setCopy",value:function(e){return this._copy=d()("span",{},void 0,e),this}},{key:"setChatAvailable",value:function(e){return this._chatAvailable=e,this}},{key:"setSwitchHdToDigi",value:function(e){return this._switchHdToDigi=e,this}},{key:"setDownloadAudioAppOnly",value:function(e){return this._downloadAudioAppOnly=e,this}},{key:"setManageSubscriptionAndDowloadAudio=e,this}},{key:"determinePauseVisibility",value:function(e){return Fn(e)||this.setPause(!0),this}},{key:"determineProductSwitchVisibility",value:function(e){return Fn(e)||this.setProductSwitch(!0),this}},{key:"determineDownloadAudioVisibility",value:function(e){return e===Hn.VAR_DOWNLOAD_ONLY&&this.setDownloadAudioAppOnly(!0),this}},{key:"determineManageSubscriptionAndDownloadAudioVisibility",value:function(e){return e===Hn.VAR_MANAGE_AND_DOWNLOAD&&this.setManageSubscriptionAndDownloadAudio(!0),this}}]),e}();za=vc,vc.CHANGE_SUSPEND_COPY="Remember, you can suspend your delivery and resume anytime. You can also change your delivery day, here.",vc.ALL_ACCESS_ONBOARDING_COPY="Remember, as an All Access subscriber you have unlimited access tofive exceptional Times experiences — News plus Games, Cooking, Wirecutter and The Athletic.",vc.PAUSE_SWITCH_COPY="We have subscription options that might work better for you. You can also pause your current one.",vc.PRODUCT_SWITCH_COPY="Did you know we offer subscription options that range in price and benefits? You can switch your subscription, here.",vc.PAUSE_COPY="Remember, you can pause your subscription and resume anytime. You won’t be charged while it’s paused.",vc.SUSPEND_COPY="Remember, you can suspend your delivery and resume anytime. You won’t be charged while it’s suspended.",vc.CHANGE_DELIVERY_DAYS="Are there more convenient days to have the paper delivered? You can change your delivery day, here.",vc.HD_PRICE_SUSPEND_CHANGE="Did you know we offer several delivery days that range in price? You can also suspend delivery and resume anytime.",vc.CHANGE_SUSPEND_SWITCH_COPY="Did you know we offer subscription options that range in price and benefits? You can also suspend delivery or change your delivery day, here.",vc.SUSPEND_SWITCH_TO_DIGI_COPY="Did you know we offer subscription options that range in price and benefits? You can also suspend your delivery and resume anytime.",vc.CHANGE_SWITCH_TO_DIGI_COPY="Did you know we offer subscription options that range in price and benefits? You can also change your delivery day, here.",vc.ALL_ACCESS_PRODUCT_SWITCH_COPY="Remember, as an All Access subscriber you have unlimited access to five exceptional Times experiences. You can also switch your subscription, here.",vc.DOWNLOAD_AUDIO_APP_TITLE_COPY="Have you tried our new Audio app?",vc.DOWNLOAD_AUDIO_APP_DESC_COPY="Listen to exclusive shows, narrated articles and quick tips daily.",vc.DOWNLOAD_AUDIO_APP_VAR_2_COPY="".concat(za.DOWNLOAD_AUDIO_APP_TITLE_COPY," ").concat(za.DOWNLOAD_AUDIO_APP_DESC_COPY),vc.MANAGE_SUBSCRIPTION_TITLE_COPY="Change or pause your subscription",vc.MANAGE_SUBSCRIPTION_DESC_COPY="You can pause your subscription or explore options that might work better for you.";var gc,yc,wc,Oc,Sc,Cc,Ac,Ec,kc,Tc,_c,xc,Nc,Ic,Rc,Pc,Dc,jc,Lc,Hc,Fc,Mc,Wc,Uc,Vc,Yc,Gc,Bc,zc,qc,$c,Qc,Kc,Zc,Jc,Xc,es,ts,ns,is,os,rs,as,cs,ss,ls,ds,us,ps,fs,bs,hs,ms,vs,gs"I did not get my papers.",e}({}),_s=[new vc(Ts.NoReasonProvided,N.Other)],xs=[new vc(Ts.DontUseEnough,N.DontUseSubscription).setPause(!0),new vc(Ts.PriceIncrease,N.PriceIncrease).setProductSwitch(!0).setPause(!0),new vc(Ts.NoLongerNeededCooking,N.NoLongerNeeded).setPause(!0),new vc(Ts.DontEnjoyCooking,N.DontEnjoyUsing).setProductSwitch(!0),new vc(Ts.TooExpensive,N.TooExpensive).setProductSwitch(!0).setPause(!0),new vc(Ts.ProblemAccessingCooking,N.ProblemAccessing).setCallCare(!0),new vc(Ts.AnotherSourceCooking,N.AnotherSource),new vc(Ts.DislikesProductExperience,N.DislikesProduct).setProductSwitch(!0),new vc(Ts.JobLossFinancialHardship,N.Hardship).setPause(!0)].concat(_s),Ns=[new vc(Ts.DontUseEnough,N.DontUseSubscription).setPause(!0).setProductSwitch(!0),new vc(Ts.PriceIncrease,N.PriceIncrease).setProductSwitch(!0).setPause(!0),new vc(Ts.NeedABreakGames,N.NeedABreak).setPause(!0),new vc(Ts.DontEnjoyGames,N.DontEnjoyUsing),new vc(Ts.TooExpensive,N.TooExpensive).setProductSwitch(!0).setPause(!0),new vc(Ts.ProblemAccessingGames,N.ProblemAccessing).setCallCare(!0),new vc(Ts.AnotherSourceGames,N.AnotherSource),new vc(Ts.DislikesProductExperience,N.DislikesProduct).setProductSwitch(!0),new vc(Ts.JobLossFinancialHardship,N.Hardship).setPause(!0)].concat(_s),Is=[new vc(Ts.DontUseEnough,N.DontUseSubscription).setPause(!0).setProductSwitch(!0),new vc(Ts.NeedABreak,N.NeedABreak).setPause(!0),new vc(Ts.DontEnjoyWirecutter,N.DontEnjoyUsing),new vc(Ts.PriceIncrease,N.PriceIncrease).setProductSwitch(!0).setPause(!0),new vc(Ts.TooExpensive,N.TooExpensive).setProductSwitch(!0).setPause(!0),new vc(Ts.ProblemAccessingArticles,N.ProblemAccessing).setCallCare(!0),new vc(Ts.AnotherSourceWirecutter,N.AnotherSource),new vc(Ts.DislikesProductExperience,N.DislikesProduct).setProductSwitch(!0),new vc(Ts.JobLossFinancialHardship,N.Hardship).setPause(!0)].concat(_s),Rs=(new vc(Ts.SelectReason,"").setDisabled(!0),new vc(Ts.Other,N.Other)),Ps=function(e){return[].concat(Za()(function(e){var t=null==e?0:e.length;if(!t)return[];for(var n=-1,i=t-1,o=Za()(e);++n<t;){var r=o[n],a=n+Math.floor(Math.random()*(i-n+1)),c=o[a];r&&c&&(o[a]=r,o[n]=c)}return o}(e)),[Rs])},Ds=function(e){var t=e.onChange,n=e.emailAddress,i=e.subscriptionId,o=e.showContentIndex,r=e.index,a=e.productSwitchEligible,c=e.digitalPauseEligible,s=e.hdSuspendDeliveryEligible,l=e.allAccessForHd,u=e.isHd,v=e.audioMerchandisingTestVariant,g=e.reason,y=g.pause,w=g.hdSuspend,O=g.callCare,S=g.productSwitch,C=g.allAccessOnboarding,E=g.changeDelivery,k=g.key,_=g.deliveryComplaint,x=g.value,N=g.winbackCreditAmount,I=g.switchHdToDigi,P=g.downloadAudioAppOnly,D=g.manageSubscriptionAndDownloadAudio;a||u||g.setProductSwitch(!1),c||g.setPause(!1),s||g.setHdSuspend(!1),""===l&&u&&g.setSwitchHdToDigi(!1);var j=a&&S,L=c&&y,H=s&&w,F=j||L||H||_||E||O||C||""!==N||I||P||D,M=Object(we.b)(R.d.sts),W=p()(M,2),U=W[0],V=W[1],Y=g.setChatAvailable(U),G=Object(f.useState)(""),B=p()(G,2),z=B[0],q=B[1],$=Object(f.useState)(!1),Q=p()($,2),K=Q[0],Z=Q[1],J=Object(f.useState)(""),ee=p()(J,2),te=ee[0],ne=ee[1],ie=function(){var e,t;e=x,t="",Object(m.p)({moduleContext:e,moduleName:"cancel-reason-radio-button",elementName:"chat-care-button",elementUrl:t}),V("online-cancel")},oe=U?d()(Xa,{onClick:ie,"data-testid":"chat-button-".concat(r)},void 0,"Live chat"):null,re=function(e,t){window.location.href="https://nytaudio.onelink.me/FEua/9rzt4nk3",function(e,t,n){Se("cancel-reason","download-audio-btn",e,{cancelReason:t,amv:n})}(e,t,v)},ae=Object(h.useMutation)(X),ce=p()(ae,2),me=ce[0],ge=ce[1],ye=ge.loading,Ce=ge.error,Ae=ge.data,Ee=ye||K;return Object(f.useEffect)((function(){var e,t;Ce&&function(e){switch(function(e){return e.graphQLErrors&&e.graphQLErrors[0]&&e.graphQLErrors[0].message}(e)){case se.USER_IS_NOT_LOGGED_IN:Object(T.redirectToLogin)();break;default:q("technical-issue")}}(Ce),Ae&&(Z(!0),ne("disabled"),e=x,t="",Object(m.p)({moduleName:"cancel-reason-radio-button",moduleContext:e,elementName:"winback-offer-button",elementUrl:t}),fe())}),[Ce,Ae]),b.a.createElement(b.a.Fragment,null,d()(ac,{"data-testid":"cancel-reason-radio-".concat(r),onChange:t,className:o===r?"content-showContainer":""},void 0,d()(cc,{className:o===r&&F?"content-open-label":"content-closed-label"},void 0,d()(rc,{type:"radio",name:"newCancelReasons","data-testid":"radio-Button-Options-at-".concat(r)}),d()(sc,{},void 0,d()(A.b,{dataTestId:"cancel-reason-title-".concat(r),colorVariant:"primary",level:"2"},void 0,k))),d()(lc,{className:o===r&&F?"content-show":""},void 0,!D&&(gc||(gc=d()(fc,{},void 0,d()(A.g,{level:"tertiary"})))),d()(pc,{},void 0,d()("div",{},void 0,!D&&b.a.createElement(b.a.Fragment,null,yc||(yc=d()(A.H,{space:"3"})),d()(A.b,{dataTestId:"cancel-reason-copy-".concat(r),level:"2",colorVariant:"primary"},void 0,Y.copy),wc||(wc=d()(A.H,{space:"2"}))),D&&b.a.createElement(b.a.Fragment,null,d()(A.A,{dataTestId:"download-audio-li-".concat(r),type:A.eb.action,targetTab:"sameTab",href:"https://nytaudio.onelink.me/FEua/9rzt4nk3",onClick:function(e){return function(e,t,n){Oe("cancel-reason","download-audio-lnk",e,{cancelReason:t,amv:n})}(e,x,v)},listItemHeader:d()(A.s,{typeStyle:A.Z.subtitle2,colorVariant:A.N.text.primary},void 0,vc.DOWNLOAD_AUDIO_APP_TITLE_COPY),actionTitle:"Download"},"download-audio-li-".concat(r),vc.DOWNLOAD_AUDIO_APP_DESC_COPY),d()(A.A,{dataTestId:"manage-subscription-li-".concat(r),type:A.eb.action,targetTab:"sameTab",href:de,onClick:function(e){return function(e,t,n){Oe("cancel-reason","manage-subscription-lnk",e,{cancelReason:t,amv:n})}(e,x,v)},listItemHeader:d()(A.s,{typeStyle:A.Z.subtitle2,colorVariant:A.N.text.primary},void 0,vc.MANAGE_SUBSCRIPTION_TITLE_COPY),actionTitle:"Manage subscription"},"manage-subscription-li-".concat(r),vc.MANAGE_SUBSCRIPTION_DESC_COPY)),F&&d()("div",{},void 0,d()(oc,{},void 0,j&&d()(oc,{},void 0,d()(Xa,{"data-testid":"switch-at-".concat(r),onClick:function(){var e,t;window.open(ue(),"_self"),e=x,t=ue(),Object(m.p)({moduleName:"cancel-reason-radio-button",moduleContext:e,elementName:"product-switch-button",elementUrl:t})}},void 0,"Switch subscription")),L&&d()(Xa,{"data-testid":"pause-at-".concat(r)?subscriptionId=").concat(e)}(i||"");window.open(n,"_self"),e=x,t=n,Object(m.p)({moduleName:"cancel-reason-radio-button",moduleContext:e,elementName:"pause-subscirption-button",elementUrl:t})}},void 0,"Pause subscription"),P&&d()(Xa,{"data-testid":"downlk:function(e){return re(e,x)}},void 0,"Download"),I&&d()(oc,{},void 0,d()(Xa,{"data-testid":"hd-to-digi-swtich-at-".concat(r),onClick:function(){var e,t,n;e=l,window.open(pe(e),"_self"),t=x,n=pe(l),Object(m.p)({moduleName:"cancel-reason-radio-button",moduleContext:t,elementName:"product-switch-hd-AA-button",elementUrl:n})}},void 0,"Switch subscription")),H&&d()(oc,{},void 0,d()(Xa,{"data-testid":"suspend-delivery-at-".concat(r),onClick:function(){var e,t;window.open(he,"_self"),e=x,t=he,Object(m.p)({moduleName:"cancel-reason-radio-button",moduleContext:e,elementName:"suspend-delivery-button",elementUrl:t})}},void 0,"Suspend delivery")),E&&d()(oc,{},void 0,d()(Xa,{"data-testid":"change-delivery-at-".concat(r),onClick:function(){var e,t;window.open(ve,"_self"),e=x,t=ve,Object(m.p)({moduleName:"cancel-reason-radio-button",moduleContext:e,elementName:"change-delivery-day-button",elementUrl:t})}},void 0,"Change delivery day")),N&&d()("div",{},void 0,d()(Xa,{"data-testid":"winback-submit-at-".concat(r),onClick:function(){me({variables:{creditAmount:N,emailAddress:n,subscriptionId:i}}).catch((function(){}))},disabled:Ee,className:""!==te?te:""},void 0,d()(ic,{hide:ye},void 0," Accept Offer"),ye?Oc||(Oc=d()(ji,{})):""),d()(Gn,{errorCode:z,dataTestId:"unexpected-error"})),O&&d()(oc,{},void 0,U&&d()(mc,{},void 0,oe,Sc||(Sc=d()(hc,{}))),d()(uc,{},void 0,d()(ot,{"data-testid":"call-care-at-".concat(r),onClick:function(){var e,t;e=x,t="+1 855-698-1151",Object(m.p)({moduleName:"cancel-reason-radio-button",moduleContext:e,elementName:"call-care-button",elementUrl:t})},href:"tel:+1 855-698-1151"},void 0,Cc||(Cc=d()(A.b,{colorVariant:"primary",level:"2"},void 0,"By phone"," ")),Ac||(Ac=d()(dc,{},void 0,"(+1) 855-698-1151"))))),C&&d()(Xa,{"data-testid":"allAccess-onboarding-".concat(r),onClick:function(){var e,t;window.open(be,"_self"),e=x,t=be,Object(m.p)({moduleName:"cancel-reason-radio-button",elementName:"all-access-onboarding-link",moduleContext:e,elementUrl:t})}},void 0,"Explore all of your benefits")),!D&&(Ec||(Ec=d()(A.H,{space:"3"})))))))),kc||(kc=d()(A.H,{space:"1.5"})))},js=function(e,t){return V(e)?Za()(xs):G(e)?Za()(Ns):Y(e)?Za()(Is):M(e)?Za()((i=(null===(n=e.onlineCancelHdWinbackEligibility)||void 0===n?void 0:n.creditAmount)||"",[new vc(Ts.DontUseEnough,N.DontUseSubscription).setHdSuspend(!0).setSwitchHdToDigi(!0).setCopy(vc.CHANGE_SUSPEND_SWITCH_COPY),new vc(Ts.OpinionSlant,N.OpinionSlant).setSwitchHdToDigi(!0),new vc(Ts.DontEnjoyUsing,N.DontEnjoyUsing).setSwitchHdToDigi(!0).setChangeDelivery(!0),new vc(Ts.TooExpensive,N.TooExpensive).setHdSuspend(!0).setChangeDelivery(!0).setSwitchHdToDigi(!0).setCopy(vc.CHANGE_SUSPEND_SWITCH_COPY),new vc(Ts.PriceIncrease,N.PriceIncrease).setHdSuspend(!0).setChangeDelivery(!0).setSwitchHdToDigi(!0).setCopy(vc.CHANGE_SUSPEND_SWITCH_COPY),new vc(Ts.NoPaper,N.NoPaper).setCallCare(!0).setDeliveryComplaint(!0).setWinbackCreditAmount(i),new vc(Ts.AnotherSource,N.AnotherSource).setSwitchHdToDigi(!0),new vc(Ts.DislikesProductExperience,N.DislikesProduct).setSwitchHdToDigi(!0),new vc(Ts.JobLossFinancialHardship,N.Hardship).setHdSuspend(!0)].concat(_s))):B(e)?Za()(function(e){return[new vc(Ts.DontUseEnough,N.DontUseSubscription).determinePauseVisibility(e).determineProductSwitchVisibility(e).determineDownloadAudioVisibility(e).determineManageSubscriptionAndDownloadAudioVisibility(e),new vc(Ts.PriceIncrease,N.PriceIncrease).setProductSwitch(!0).setPause(!0),new vc(Ts.DontEnjoyUsing,N.DontEnjoyUsing).setProductSwitch(!0),new vc(Ts.NeedABreak,N.NeedABreak).setPause(!0),new vc(Ts.TooExpensive,N.TooExpensive).setProductSwitch(!0).setPause(!0),new vc(Ts.ProblemAccessingArticles,N.ProblemAccessing).setCallCare(!0),new vc(Ts.AnotherSource,N.AnotherSource),new vc(Ts.DislikesProductExperience,N.DislikesProduct).setProductSwitch(!0),new vc(Ts.JobLossFinancialHardship,N.Hardship).setPause(!0)].concat(_s)}(t)):Za()(function(e){return[new vc(Ts.DontUseEnough,N.DontUseSubscription).determinePauseVisibility(e).determineProductSwitchVisibility(e).determineDownloadAudioVisibility(e).determineManageSubscriptionAndDownloadAudioVisibility(e),new vc(Ts.NeedABreakNews,N.NeedABreak).setPause(!0),new vc(Ts.PriceIncrease,N.PriceIncrease).setProductSwitch(!0).setPause(!0),new vc(Ts.OpinionSlant,N.OpinionSlant),new vc(Ts.TooExpensive,N.TooExpensive).setProductSwitch(!0).setPause(!0),new vc(Ts.ProblemAccessingArticles,N.ProblemAccessing).setCallCare(!0),new vc(Ts.AnotherSource,N.AnotherSource),new vc(Ts.DislikesProductExperience,N.DislikesProduct).setProductSwitch(!0),new vc(Ts.JobLossFinancialHardship,N.Hardship).setPause(!0)].concat(_s)}(t));var n,i},Ls=function(e){var t,n,i=e.earlierSelectedReason,o=e.earlierEnteredFeedback,r=e.activeSubscription,a=e.surveyFormSubmitted,c=e.totalSteps,s=e.productSwitchEligible,l=e.allAccessOfferProductSwitch,u=e.isHd,h=e.emailAddress,v=e.abraInformation,g=e.offersLength,y=e.deviceType,w=e.showLoadingSpinner,O=e.step;Object(f.useEffect)((function(){var t,n;null!==(t=e.activeSubscription)&&void 0!==t&&null!==(n=t.subscriptionOnlineCancelEligibility)&&void 0!==n&&n.eligible?Object(m.q)({pathname:"/reason",moduleName:"cancel-reason",moduleLabel:"step".concat(O)}):e.history.push("".concat("/cancel"))}),[]);var S,C=(null===(t=v.abraAllocation.find((function(e){return e.test===Rn.AudioMerchandising})))||void t){return e===I.Android?"":t}(y,C),k=Object(){var n=js(e,t);return Ps(n)}(r,E)}),[]),T=400-o.length,_=Object(f.useState)(i),x=p()(_,2),R=x[0],P=x[1],D=Object(f.useState)(-1),j=p()(D,2),L=j[0],H=j[1],F=Object(f.useState)(o),M=p()(F,2),U=M[0],V=M[1],Y=Object(f.useState)(T),G=p()(Y,2),B=G[0],z=G[1],q=Object(f.useState)(""),$=p()(q,2),Q=$[0],K=$[1],Z=Object(f.useState)(!1),J=p()(Z,2),X=J[0],ee=J[1],te=r.subscriptionId,ne=r.subscriptionDigitalPauseEligibility.eligible,ie=W(r),oe=nulest===Rn.CancelReasonCTACopy})))||void 0===n?void 0:n.variant,re=(S=oe===jn.VAR_REVIEW_COPY&&g>0,oe===jn.VAR_CONTINUE_COPY&&g>0?"Continue to Cancel":S?"Review Cancel Offer":"Continue");Object(f.useEffect)((function(){g>0&&Object(m.o)(v.abraAllocation,[jn.NAME],le.a.ABRA_INTEGRATION),E&&Object(m.o)(v.abraAllocation,[Hn.NAME],le.a.ABRA_INTEGRATION),Ce(r,k,y,C)}),[]);var ae=function(e,t,n){H(t),P(n),K(""),function(e,t,n){Se("cancel-reason","survey-radio-btn",e,{cancelReason:t,amv:n})}(e,n,E)};return b.a.createElement(b.a.Fragment,null,d()(Qn,{currentStep:O,totalSteps:c,optional:!0}),d()(Me,{"data-testid":"headline"},void 0,"Please tell us why you’d like to cancel your"," ",r.subscriptionName," subscription."),Tc||(Tc=d()(A.H,{space:"4"})),k.map((function(e,t){return d()(Ds,{"data-testid":"testingReason",isHtion(n){return ae(n,t,e.value)},reason:e,productSwitchEligible:s,allAccessForHd:l,digitalPauseEligible:ne,hdSuspendDeliveryEligible:ie,audioMerchandisingTestVariant:E,subscriptionId:te,emailAddress:h,index:t},e.key)})),d()(Gn,{errorCode:Q,dataTestId:"reason-error"}),_c||(_c=d()(Ja,{"data-testid":"feedback"},void 0,"Before you continue to cancel, is there more you'd like to tell us? We’ll use your feedback to improve.")),d()(tc,{},void 0,d()(ec,{error:X,onClick:function(){return Ee(N.Other,"feedback-text-box","","step".concat(O))},value:U,onChange:function(e){var t=400-e.target.value.length;ee(t<0),z(t),V(e.target.value)},"data-testid":"feedback-text-area"}),d()(nc,{error:X,"data-testid":"feedback-char-limit"},void 0,function(e){return"".concat(e,1===e?" character left":-1===e?" character":e<-1?" characters":" characters left")}(B))),d()(Ge,{"data-testid":"btn-container"},void 0,d()(ft,{displayState:B<0?rt.STATE_COLD:rt.STATE_ACTIVE,onClick:function(){a({selectedReason:R||N.Other,feedback:U}),Ee(R,"go-to-step".concat(O+1),"continue","step".concat(O)),e.history.push(e.nextRoute),w(!0)},dataTestId:"continue-button"},void 0,re)))},Hs=Object(Re.d)("label",{target:"e1ajizqh0"})("font-family:",A.Q.family.franklin,";display:block;cursor:pointer;padding:16px;width:100%;color:black;border:1px solid ",A.O.stroke.secondary,";"),Fs=Object(Re.d)("input",{target:"e1ajizqh1"})("display:none;&:checked{background-color:black;color:white;border:none;}"),Ms=Object(Re.d)("ol",{target:"e1ajizqh2"})("list-style-type:number;list-style-position:inside;"),Ws=Object(Re.d)("li",{target:"e1ajizqh3"})("&::marker{font-family:",A.Q.family.franklin,";}"),Us=Object(Re.d)("button",{target:"e1ajizqh4"})("align-items:center;padding:0;width:202px;height:44px;background-color:",Le.black,";color:",Le.white,";border-radius:4px;text-decoration:none;cursor:pointer;&:hover{background-color:",Le.backgroundShade4,";}&:disabled{background-color:#b7b7b7;}@media only screen and (max-width:",He.confirmationMin,"){width:100%;}"),Vs=Object(Re.d)("div",{target:"e1ajizqh5"})("text-align:right;"),Ys=Object(Re.d)("div",{target:"e1ajizqh6"})("height:30px;"),Gs=Object(Re.d)("div",{target:"e1ajizqh7"})("text-align:center;"),Bs=function(){return d()(Gs,{},void 0,xc||(xc=d()(A.b,{level:"2",colorVariant:"primary"},void 0,"Thank you for you response"," ")),Nc||(Nc=d()(A.H,{space:"4"})),d()(Us,{onClick:function(){fe()}},void 0,Ic||(Ic=d()(A.b,{level:"2",colorVariant:"primaryInverse"},void 0,"Return to my account"))))};Bs.displayName="SurveyConfirmationPage";var zs,qs,$s,Qs=function(e){var t=e.subscriptionId,n=e.history,i=e.nextRoute,o=Object(f.useState)(""),r=p()(o,2),a=r[0],c=r[1],s=Object(f.useState)(""),l=p()(s,2),u=l[0],m=l[1],v=Object(f.useState)(""),g=p()(v,2),y=g[0],w=g[1],O=Object(f.useState)(""),S=p()(O,2),C=S[0],E=S[1],k=Object(f.useState)(!1),_=p()(k,2),x=_[0],N=_[1],I=Object(f.useState)(""),R=p()(I,2),P=R[0],D=R[1],j=Object(f.useState)(50),L=p()(j,2),H=L[0],F=L[1],M=Object(f.useState)(!1),W=p()(M,2),U=W[0],V=W[1],Y=Object(f.useState)(""),G=p()(Y,2),B=G[0],z=G[1],q=Object(f.useState)(50),$=p()(q,2),Q=$[0],K=$[1],Z=Object(f.useRef)(null),J=Object(f.useRef)(null),X=Object(f.useRef)(null),ee=Object(f.useState)(""),te=p()(ee,2),ne=te[0],oe=te[1],re="no"===a||"no"===u,ae="yes"===a&&"yes"===u,ce=Object(f.useState)(!0),le=p()(ce,2),de=le[0],ue=le[1],pe="other"!==y,be="other"!==C,he=""===a||""===u||""===y||""===C,me=function(){return!!he||("other"===y&&""===P||"other"===C&&""===B)};Object(f.useEffect)((function(){ue(me),"other"!==y&&""!==P&&D(""),"other"!==C&&""!==B&&z("")}),[P,B,y,C,a,u]);var ve=function(e){var t=e.target,n=t.value,i=t.name;if("thirdQuestion"===i){var o=50-n.length;N(o<0),F(o),D(n)}if("fourthQuestion"===i){var r= characters":" characters left")},ye=function(e){c(e.target.value),setTimeout((function(){""===u&&null!==Z.current&&Z.current.scrollIntoView({block:"start",behavior:"smooth",inline:"start"})}),100)},we=function(e){m(e.target.value),setTimeout((function(){""===y&&null!==J.current&&J.current.scrollIntoView({block:"center",behavior:"smooth"})}),100)},Oe=function(e){w(e.target.value),""===C&&null!==X.current&&X.current.scrollIntoView({blockSe=function(e){E(e.target.value)};Object(f.useEffect)((function(){""!==a&&"no"===a&&(m(""),w(""),E(""),D(""),z("")),""!==u&&"no"===u&&(w(""),E(""),D(""),z(""))}),[a,u]);var Ce=Object(h.useMutation)(ie),Ae=p()(Ce,2),Ee=Ae[0],ke=Ae[1],Te=ke.loading,_e=ke.error,xe=ke.data;Object(f.useEffect)((s[0]&&e.graphQLErrors[0].message}(e)){case se.USER_IS_NOT_LOGGED_IN:Object(T.redirectToLogin)();break;default:oe("technical-issue")}}(_e),xe&&n.push(i)}),[xe,_e]);return b.a.createElement(b.a.Fragment,null,Rc||(Rc=d()(A.b,{level:"2",colorVariant:"primary"},void 0,"Interested in a subscription sponsorship? The New York Times is exploring a potential sponsorship program for those in the education space where the subscription cost would be paid for (either partially or in full) by an outside individual or group.")),Pc||(Pc=d()(A.H,{space:"2"})),Dc||(Dc=d()(A.b,{level:"2",colorVariant:"primary"},void 0,"By completing the following short survey, you agree that you have read, understand and accept Reader Submission Terms in relation to all of the content and other information you send to us. We will use the contact details that you provide to verify your identity and answers to these questions, as well as to contact you for further information.")),jc||(jc=d()(A.H,{space:"3"})),Lc||(Lc=d()(A.g,{level:"tertiary"})),Hc||(Hc=d()(A.H,{space:"3"})),d()(Ms,{type:"1"},void 0,d()(Ws,{},void 0,Fc||(Fc=d()(A.b,{level:"2",colorVariant:"primary"},void 0,"Would you like to be contacted by The Times in the event that sponsorship is available in the future for your NYT subscription?")),Mc||(Mc=d()(Ys,{})),d()(Fs,{type:"radio",id:"yes1",value:"yes",name:"firstQuestion",onChange:ye,checked:"yes"===a}),Wc||(Wc=d()(Hs,{htmlFor:"yes1"},void 0,"Yes")),Uc||(Uc=d()(A.H,{space:"1"})),d()(Fs,{type:"radio",id:"no1",value:"no",name:"firstQuestion",onChange:ye,checked:"no"===a}),Vc||(Vc=d()(Hs,{htmlFor:"no1"},void 0,"No"))),"yes"===a&&d()("div",{},void 0,Yc||(Yc=d()(A.H,{space:"5"})),b.a.createElement(Ws,{ref:Z},Gc||(Gc=d()(A.b,{level:"2",colorVariant:"primary"},void 0,"Do you work in the education sector?")),Bc||(Bc=d()(Ys,{})),d()(Fs,{type:"radio",id:"yes2",value:"yes",name:"secondQuestion",onChange:we,checked:"yes"===u}),zc||(zc=d()(Hs,{htmlFor:"yes2"},void 0,"Yes")),qc||(qc=d()(A.H,{space:"1"})),d()(Fs,{type:"radio",id:"no2",value:"no",name:"secondQuestion",onChange:we,checked:"no"===u}),$c||($c=d()(Hs,{htmlFor:"no2"},void 0,"No")))),ae&&d()("div",{},void 0,Qc||(Qc=d()(A.H,{space:"5"})),b.a.createElement(Ws,{ref:J},Kc||(Kc=d()(A.b,{level:"2",colorVariant:"primary"},void 0,"Which option best describes your role?")),Zc||(Zc=d()(Ys,{})),d()(Fs,{type:"radio",id:"educator",value:"educator",name:"thirdQuestion",onChange:Oe,checked:"educator"===y}),Jc||(Jc=d()(Hs,{htmlFor:"educator"},void 0,"Educator")),Xc||(Xc=d()(A.H,{space:"1"})),d()(Fs,{type:"radio",id:"staff",value:"staff member",name:"thirdQuestion",onChange:Oe,checked:"staff member"===y}),es||(es=d()(Hs,{htmlFor:"staff"},void 0,"Staff Member")),ts||(ts=d()(A.H,{space:"1"})),d()(Fs,{type:"radio",id:"admin",value:"administrator",name:"thirdQuestion",onChange:Oe,checked:"administrator"===y}),ns||(ns=d()(Hs,{htmlFor:"admin"},void 0,"Administrator")),is||(is=d()(A.H,{space:"1"})),d()(Fs,{type:"radio",id:"other",value:"other",name:"thirdQuestion",onChange:Oe,checked:"other"===y}),os||(os=d()(Hs,{htmlFor:"other"},void 0,"Other (Please specify)")),d()(tc,{},void 0,d()(ec,{error:x,value:P,onChange:function(e){return ve(e)},"data-testid":"feedback-text-area",name:"thirdQuestion",disabled:pe}),d()(nc,{error:x,"data-testid":"feedback-char-limit"},void 0,ge(H))))),ae&&d()("div",{},void 0,rs||(rs=d()(A.H,{space:"5"})),b.a.createElement(Ws,{ref:X},as||(as=d()(A.b,{level:"2",colorVariant:"primary"},void 0,"What is the level of your institution?")),cs||(cs=d()(Ys,{})),d()(Fs,{type:"radio",id:"pre-k",value:"pre-k",name:"fourthQuestion",onChange:Se,checked:"pre-k"===C}),ss||(ss=d()(Hs,{htmlFor:"pre-k"},void 0,"Pre-K")),ls||(ls=d()(A.H,{space:"1"})),d()(Fs,{type:"radio",id:"elementary",value:"elementary school",name:"fourthQuestion",onChange:Se,checked:"elementary school"===C}),ds||(ds=d()(Hs,{htmlFor:"elementary"},void 0,"Primary (Elementary School)")),us||(us=d()(A.H,{space:"1"})),d()(Fs,{type:"radio",id:"middle",value:"middle school",name:"fourthQuestion",onChange:Se,checked:"middle school"===C}),ps||(ps=d()(Hs,{htmlFor:"middle"},void 0,"Intermediate (Middle School)")),fs||(fs=d()(A.H,{space:"1"})),d()(Fs,{type:"radio",id:"secondary",value:"high school",name:"fourthQuestion",onChange:Se,checked:"high school"===C}),bs||(bs=d()(Hs,{htmlFor:"secondary"},void 0,"Secondary (High School)")),hs||(hs=d()(A.H,{space:"1"})),d()(Fs,{type:"radio",id:"post",value:"post-secondary",name:"fourthQuestion",onChange:Se,checked:"post-secondary"===C}),ms||(ms=d()(Hs,{htmlFor:"post"},void 0,"Post-Secondary (2- and 4-Year College, Vocational School, etc.)")),vs||(vs=d()(A.H,{space:"1"})),d()(Fs,{type:"radio",id:"other2",value:"other",name:"fourthQuestion",onChange:Se,checked:"other"===C}),gs||(gs=d()(Hs,{htmlFor:"other2"},void 0,"Other (Please specify)")),ys||(ys=d()(A.H,{space:"1"})),d()(tc,{},void 0,d()(ec,{error:U,value:B,onChange:function(e){return ve(e)},"data-testid":"feedback-text-area-2",name:"fourthQuestion",disabled:be},"2"),d()(nc,{error:x,"data-testid":"feedback-char-limit-2"},void 0,ge(Q))))),ws||(ws=d()(A.H,{space:"5"})),Os||(Os=d()(A.g,{level:"tertiary"})),Ss||(Ss=d()(A.H,{space:"4"}))),re&&d()("div",{},void 0,d()(A.b,{level:"2",colorVariant:"primary"},void 0,"no"===a?"Thank you for your response. This concludes the survey. ":"yes"===a&&"no"===u?"At this time, we’re only considering educators for this sponsorship opportunity. ":"Thank you for your response. This concludes the survey."),Cs||(Cs=d()(A.H,{space:"4"} 0,d()(Us,{onClick:function(){fe()}},void 0,As||(As=d()(A.b,{level:"2",colorVariant:"primaryInverse"},void 0,"Return to my account"))))),!re&&d()(Vs,{},void 0,d()(Us,{disabled:de,onClick:function(){Ee({variables:{role:y,roleFeedback:P,institutionLevel:C,institutionFecriptionId:t}}).catch((function(){}))}},void 0,d()(jt,{hide:Te},void 0," ",Es||(Es=d()(A.b,{level:"2",colorVariant:"primaryInverse"},void 0,"Submit survey"))),Te?ks||(ks=d()(Di,{isRedesignOfferPage:!0})):""),d()("div",{},void 0,d()(Gn,{errorCode:ne,dataTestId:"unexpected-error"}))))},Ks=function(){return d()("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 100 100"},void 0,zs||(zs=d()("rect",{x:"0",y:"0",width:"100",height:"100",fill:"none",className:"bk"},void 0," ")),d()("g",{},void 0,qs||(qs=d()("rect",{id:"rect",x:"48",y:"40",width:"4",height:"20",rx:"2",ry:"2",fill:"#000000",transform:"translate(0 -22)"},void 0," ")),d()("use",{xlinkHref:"#rect",transform:"rotate(324 50 50)",style:{opacity:.87}}),d()("use",{xlinkHref:"#rect",transform:"rotate(288 50 50)",style:{opacity:.74}}),d()("use",{xlinkHref:"#rect",transform:"rotate(252 50 50)",style:{opacity:.61}}),d()("use",{xlinkHref:"#rect",transform:"rotate(216 50 50)",style:{opacity:.48}}),d()("use",{xlinkHref:"#rect",transform:"rotate(180 50 50)",style:{opacity:.37}}),d()("use",{xlinkHref:"#rect",transform:"rotate(144 50 50)",style:{opacity:.26}}),d()("use",{xlinkHref:"#rect",transform:"rotate(108 50 50)",style:{opacity:.17}}),d()("use",{xlinkHref:"#rect",transform:"rotate(72 50 50)",style:{opacity:.09}}),d()("use",{xlinkHref:"#rect",transform:"rotate(36 50 50)",style:{opacity:.02}})))};Ks.displayName="Spinner";var Zs=Object(Re.d)("div",{target:"e19tioij0"})("position:absolute;margin:auto;top:0;bottom:0;left:0;right:0;width:50px;height:50px;-webkit-animation:spin 0.8s steps(10,end) infinite;-moz-animation:spin 0.8s steps(10,end) infinite;animation:spin 0.8s steps(10,end) infinite;@keyframes spin{100%{transform:rotate(360deg);}}@media only screen and (min-width:",He.tabletMin,"){width:60px;height:60px;}"),Js=Object(Re.d)(Ks,{target:"e19tioij1"})("width:50px;height:50px;@media only screen and (min-width:",He.tabletMin,"){width:60px;height:60px;}"),Xs=function(){return $s||($s=d()(Zs,{},void 0,d()(Js,{})))};Xs.displayName="PageLoadIndicator";var el,tl,nl,il,ol=Xs,rl=Object(Re.d)("div",{target:"e1rt2sta0"})("display:flex;flex-flow:column nowrap;margin:0 0 auto;line-height:1em;@media screen and (min-width:",He.tabletPortraitMin,"){margin:0 auto auto auto;max-width:600px;}"),al=Object(Re.d)("div",{target:"e1rt2sta1"})("margin:0;@media screen and (min-width:",He.lgMobileMin,"){margin:8px 0;}@media screen and (min-width:",He.tabletMin,"){margin:18px 0;}@media screen and (min-width:",He.desktopMin,"){margin:32px 0;}"),cl=function(e){var t,n,i,o=(null==(t=e.error)||null===(n=t.graphQLErrors)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.message)||"",r=Object(k.c)();return o===se.USER_IS_NOT_LOGGED_IN?(Object(T.redirectToLogin)(),null):o===se.INVALID_UNIQUE_URL_CODE?(r.to("/"),null):d()(Ci,{mode:ae.TRY_AGAIN})};cl.displayName="PageLoadError";var sl=function(e){var t,n,i=null==e||null===(t=e.location)||void 0===t?void 0:t.state,o=(null==i||null===(n=i.onlineCancel)||void 0===n?void 0:n.subscriptionId)||"",r=new URLSearchParams(window.location.search).get("subscriptionId")||"";return o||r},ll=function(){var e,t,n,i=Object(k.c)(),o=Object(k.a)(),r=Object(f.useState)(null),a=p()(r,2),c=a[0],s=a[1],l=Object(f.useState)(""),u=p()(l,2),b=u[0],m=u[1],v=Object(f.useState)(""),g=p()(v,2),y=g[0],w=g[1],O=Object(f.useState)(),S=p()(O,2),T=S[0],N=S[1],P=Object(f.useState)(""),F=p()(P,2),U=F[0],V=F[1],Y=Object(f.useState)(x.NONE),G=p()(Y,2),B=G[0],z=G[1],q=Object(f.useState)(!1),$=p()(q,2),Q=$[0],K=$[1],Z=Object(f.useState)(!1),X=p()(Z,2),ee=X[0],te=X[1],ne=Object(h.useQuery)(J,{variables:{surfaceCode:"online-cancel"}}),ie=ne.loading,se=ne.errord"===vi.env.ENVIRONMENT&&i.to("/")}),[]),Object(f.useEffect)((function(){if(le){var e=sl(o),t=function(e,t){var n=e.subscriptions,i=void 0===n?[]:n;if(0===i.length)return null;var o=i.find((function(e){return e.subscriptionId===t}));return o||(i.length>1?null:p()(i,1)[0]||null)}(le.accountInfo,e);if(!t)return void fe();if(!H(t))return void fe();s(t)}}),[le]),Object(f.useEffect)((function(){K("/seg/cancel/rate"===window.location.pathname),window.scrollTo(0,0)})),ie)return el||(el=d()(ol,{}));if(se)return d()(cl,{error:se});if(!le)return d()(Ci,{mode:ae.TRY_AGAIN});if(!c)return tl||(tl=d()(ol,{}));if(ee)return nl||(nl=d()(ol,{}));var de,ue,pe,be,he,me,ve,ge=le.accountInfo,ye=ge.emailAddress,we=ge.accountCreationDate,Oe=ge.abraInformation,Se=function(e){var t=e.subscriptionOnlineCancelEligibility;if(!t.eligible)return _.NOT_ELIGIBLE;switch(t.experienceType){case"NO_OFFER_SLR":return _.NO_OFFER_SLR;case"NO_OFFER_FFT":return _.NO_OFFER_FFT;case"NOT_ELIGIBLE":return _.NOT_ELIGIBLE;default:return _.SAVE_OFFER}}(c),Ce=(c.subscriptionOnlineCancelEligibility||{}).offersToSwitch||[],Ae=!(null==le||!le.accountInfo.productSwitchEligin.offerType!==x.HD_DOWNGRADE_OFFER})):Ce,kee.filter((function(e){return nn(e)}));return 0===n.length?"":(null==n||null===(t=n[0])||void 0===t?void 0:t.offerId)||""}(Ce):"",Te=M(c),_e=Ee.length,xe=[oe.ReasonRoute,oe.RateRoute,oe.ConfirmationRoute],Ne=xe.length-1,Ie=le.accountInfo.regiId,Re=(null==c||null===(e=c.subscriptionOnlineCancelEligibility)||void 0===e||null===(t=e.priceSensitiveMetadata)||void 0===t?void 0:t.firstChargeDate)||"",Pe=(de=Re)&&Object(Ot.b)().isSameOrBefore(Object(Ot.c)(de),"ms")&&Q?function(e){return e?"Your current subscription will be charged at an increased rate starting on "+"".concat(Object(Ot.e)(e,Ot.a),". You can avoid the increase by acceptionLabels.includes(R.f.EDUCATOR)}(c)&&!W(c),je=(ue=navigator.userAgent).includes("Android")?I.Android:ue.includes("iPad")?I.IPad:ue.includes("iPhone")?I.IPhone:I.Other,Le=le.accountInfo.subscriptions.filter((function(e){return e.subscriptionId!==c.subscriptionId&&(!!L(e.subscriptionStatus)&&(!j(e.subscriptionAlerts)&&(!D(e.subscriptionLabels)&&!M(e))))}));return d()(E.a,{pageContentMaxWidth:A.U.STANDARD},void 0,d()(rl,{},void 0,d()(al,{},void 0,Pe,d()(C.Switch,{},void 0,d()(C.Route,{exact:!0,path:"/cancel"},void 0,d()(Ct,{activeSubscription:c,nextRoute:"".concat("/cancel","/").concat(oe.ReasonRoute),history:o,abraInformation:Oe,accountCreationDate:we})),d()(C.Route,{path:"*/".concat(oe.ReasonRoute)},void 0,d()(Ls,{allAccessOfferProductSwitch:ke,isHd:Te,emailAddress:ye,activeSubscription:c,abr{m(e.selectedReason),w(e.feedback)},earlierSelectedReason:b,earlierEnteredFeedback:y,offersLength:_e,nextRoute:"".concat("/cancel","/").concat(oe.RateRoute),step:re(oe.ReasonRoute,xe),productSwitchEligible:Ae,deviceType:je,totalSteps:Ne,history:o,showLoadingSpe(e),setTimeout((function(){te(!1)}),1e3)}})),d()(C.Route,{path:"*/".concat(oe.RateRoute)},void 0,d()(ua,{regiID:Ie,activeSubscription:c,otherRelevantSubscriptions:Le,subscriptionExperienceType:Se,targetOffers:Ee,selectedReason:b,enteredFeedback:y,abraInformation:Oe,offerEligibilityAbraExposures:(null==c||null===(n=c.subscriptionOnlineCancelEligibility)||void 0===n?void 0:n.abraExposures)||[],onSubscriptionSwitchSubmitted:function(e,t){N(ce.AT_SWITCH),V(e),z(t)},onSubscriptionKeepSubmitted:function(){N(ce.AT_Kbmitted:function(){N(ce.AT_CANCEL)},nextRoute:"".concat("/cancel","/").concat(oe.ConfirmationRoute),step:re(oe.RateRoute,xe),totalSteps:Ne,history:o,allSubsWeeklyRate:le.accountInfo.totalSubscriptionsWeeklyPrice})),d()(C.Route,{path:"*/".concat(oe.ConfirmationRoute)},void 0,d()(Qa,{emailAddress:ye,activeSubscription:c,otherRelevantSubscriptions:Le,offerExperienceType:B,selectedReason:b,actionTaken:T,actionEffectiveDate:U,surveyTrackingData:{regiId:le.accountInfo.regiId,offerType:(he=B,me=Se,ve=null==Ce||null===(pe=Ce[0])||void 0===pe||null===(be=pe.presentation)||void 0===be?void 0:be.offerType,he!==x.NONE?he:ve||me),productCode:c.productCode,accountCreationDate:we,selectedReason:b,actionTaken:T},step:re(oe.ConfirmationRoute,xe),history:o,offers:Ce,nextRoute:"".concat("/cancel","/").concat(oe.EducatorSurvey),abraInformation:le.accountInfo.abraInformation||{},isEdu:De})),d()(C.Route,{path:"*/".concat(oe.EducatorSurvey)},void 0,d()(Qs,{subscriptionId:c.subscriptionId,history:o,nextRoute:"".concat("/cancel","/").concat(oe.SurveyConfirmation)})),d()(C.Route,{path:"*/".concat(oe.SurveyConfirmation)},void 0,il||(il=d()(Bs,{}))),d()(C.Route,{render:function(){return d()(C.Redirect,{to:"".concat("/cancel")})}})))))};ll.displayName="Routes";var dl,ul,pl=ll,fl=function(){var e=Object(f.useState)(!1),t=p()(e,2),n=t[0],i=t[1],o="undefined"!=typeof window&&!!wind(f.useEffect)((function(){o&&i(!0)}),[o]),!n)return dl||(dl=d()(m.f,{}));var r=new v.ApolloClient({link:g.ApolloLink.from([Object(y.createHttpLink)({uri:"".concat(Object(m.i)(),"/svc/cancel/query"),fetch:S.a,fetchOptions:{credentials:"include"},headers:{"x-pageview-id":Object(m.k)(),"x-plid":m.l}})]),cache:new w.InMemoryCache});return d()(h.ApolloProvider,{client:r},void 0,ul||(ul=d()(pl,{})))};fl.displayName="CustomBffWrapper";t.default=fl},"XbE/":function(e,t,n){"use strict";n.d(t,"a"})),n.d(t,"b",(function(){return s}));var i=n("J4zp"),o=n.n(i),r=(n("W8MJ")n(){return!!window.disableCareChat},s=function(e){var t=Object(r.useState)(!1),n=o()(t,2),i=n[0],sNYTCareChat?new l.NYTCareChat:null}),[]);return Object(r.useEffect)((function(){c()||d&&(d.setChatHost(a.a.NYT_CARE_CHAT_HOST),d.(n){var i=n.e,referrer:window.location.host}})}]}}}]);
//# sourceMappingURL=199-5027d5392b92ad8e727c.js.map