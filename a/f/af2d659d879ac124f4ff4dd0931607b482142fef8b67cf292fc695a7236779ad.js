//tealium universal tag - utag.sync ut4.0.202401241616, Copyright 2024 Tealium.com Inc. All Rights Reserved.

&define.amd?define([],t):"object"==typeof exports?exports.CKEditor5=t():(e.CKEditor5=e.CKEditor5||{},e.CKEditor5.tablePlugin=t())}(self,(()=>(()=>{var e={"ckeditor5/src/core.js":(e,t,s)=>{e.exports=s("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/ui.js":(e,t,s)=>{e.exports=s("dll-reference CKEditor5.dll")("./src/ui.js")},"ckeditor5/src/utils.js":(e,t,s)=>{e.exports=s("dll-reference CKEditor5.dll")("./src/utils.js")},"dll-reference CKEditor5.dll":e=>{"use strict";e.exports=CKEditor5.dll}},t={};function s(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,s),n.exports}s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};return(()=>{"use strict";s.d(i,{default:()=>c});var e=s("ckeditor5/src/core.js");class t extends e.Command{constructor(e,t){super(e),this.attributeName=t}refresh(){const e=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!e,e&&(this.value=e.hasAttribute(this.attributeName))}execute(e={}){const t=this.editor,s=this.editor.model,i=t.model.document.selection,o=i.getSelectedElement();let n="";n=o&&o.is("element","table")?o:i.getFirstPosition().findAncestor("table");let r=!1;n.hasAttribute(this.attributeName)&&(r=!0),s.change((e=>{r?e.removeAttribute(this.attributeName,n):e.setAttribute(this.attributeName,!0,n)}))}}class o extends e.Plugin{static get pluginName(){return"EnhancedTableEditing"}init(){const e=this.editor;e.model.schema.extend("table",{allowAttributes:["sticky","responsive","class"]}),e.commands.add("setStickyTableClass",new t(e,"sticky")),e.commands.add("setResponsiveTableClass",new t(e,"responsive")),[{id:"sticky",classes:"cke5-sticky-enabled"},{id:"responsive",classes:"cke5-responsive-table"}].forEach((t=>{e.model.schema.extend("table",{allowAttributes:t.id}),e.conversion.for("upcast").attributeToAttribute({model:{name:"table",key:t.id,value:!0},view:{key:"class",value:t.classes}});const s="attribute:"+t.id+":table";e.conversion.for("downcast").add((e=>{e.on(s,((e,s,i)=>{const o=i.mapper.toViewElement(s.item);i.writer.addClass(t.classes,o)}))}));this._dispatchTableCases(t,"m-evo--table-wrapper")}))}_dispatchTableCases(e,t){const s=this.editor,i="attribute:"+e.id+":table";s.conversion.for("downcast").add((e=>{e.on(i,((e,s,i)=>{if("table"===s.item.name){const o=i.mapper.toViewElement(s.item),{writer:n,mapper:r}=i,a=o.parent,d=r.toViewPosition(s.range.start);if("div"==a.name&&a._addClass(t),"div"!=a.name){const e=n.createContainerElement("div",{class:t});n.insert(n.createPositionAt(e,0),o),n.insert(d,e)}e.stop()}}))}))}}var n=s("ckeditor5/src/utils.js"),r=s("ckeditor5/src/ui.js");class a extends e.Plugin{static get pluginName(){return"EnhancedTableUI"}init(){const t=this.editor,s=this.editor.t;t.ui.componentFactory.add("setEnhancedTable",(t=>{const i=[{type:"switchbutton",model:{commandName:"setStickyTableClass",label:s("Sticky table"),bindIsOn:!0}},{type:"separator"},{type:"switchbutton",model:{commandName:"setResponsiveTableClass",label:s("Responsive table"),bindIsOn:!0}}];return this._prepareDropdown(s("Set Sticky and/or Responsive table"),e.icons.plus,i,t)}))}_prepareDropdown(e,t,s,i){const o=this.editor,n=(0,r.createDropdown)(i),a=this._fillDropdownWithListOptions(n,s);return n.buttonView.set({label:e,icon:t,tooltip:!0}),n.bind("isEnabled").toMany(a,"isEnabled",((...e)=>e.some((e=>e)))),this.listenTo(n,"execute",(e=>{o.execute(e.source.commandName),e.source instanceof r.SwitchButtonView||o.editing.view.focus()})),n}_fillDropdownWithListOptions(e,t){const s=this.editor,i=[],o=new n.Collection;for(const e of t)d(e,s,i,o);return(0,r.addListToDropdown)(e,o),i}}function d(e,t,s,i){if("button"===e.type||"switchbutton"===e.type){const i=e.model=new r.Model(e.model),{commandName:o,bindIsOn:n}=e.model,a=t.commands.get(o);s.push(a),i.set({commandName:o}),i.bind("isEnabled").to(a),n&&i.bind("isOn").to(a,"value"),i.set({withText:!0})}i.add(e)}class l extends e.Plugin{static get requires(){return[o,a]}}const c={EnhancedTable:l}})(),i=i.default})()));