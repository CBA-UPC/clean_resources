!function(){"use strict";var t="http://www.w3.org/1999/xhtml",e={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};tion a(){}ototype={constructor:u,appendChild:insertBefore:querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var h="$";(var n=N(t),r=-1,o=e.length;++r<o;)n.add(e[r])}unction $(t){return function(){L(this,t)}}nction I(){this.textContent=""}function j(t){return function(){this.textContent=t}}function P(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}ion Y(){return null}unction q(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}.prototype={add:remove:contains:;var V={},X=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(V={mouseenter:"mouseover",mouseleave:"mouseout"}));[null];ototype=it.prototype={constructor:ot,select:selectAll:filter:data:enter:function(){return new ot(this._enter||this._groups.map(c),this._parents)},exit:join:merge:order:sort:call:nodes:node:size:empty:each:attr:style:property:classed:text:function(t){return arguments.length?this.each(null==t?I:("function"==typeof t?P:j)(t)):this.node().textContent},html:raise:function(){return this.each(B)},lower:function(){return this.each(H)},append:insert:remove:clone:datum:on:dispatch:;var ct="$";function ut(){}on mt(){}ut.prototype=ht.prototype={constructor:ut,has:get:set:remove:clear:keys:values:entries:size:empty:each:;var yt=ht.prototype;function vt(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}nction kt(){return 0}mt.prototype={constructor:mt,has:yt.has,add:remove:yt.remove,clear:yt.clear,values:yt.keys,size:yt.size,empty:yt.empty,each:yt.each};const Mt=xt(vt).right;xt(().center;var Tt=Mt;onst Et=Math.sqrt(50),_t=Math.sqrt(10),Ot=Math.sqrt(2); jt(){}var Pt=.7,zt=1/Pt,Ft="\\s*([+-]?\\d+)\\s*",Ut="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ht=/^#([0-9a-f]{3,8})$/,Yt=new RegExp("^rgb\\("+[Ft,Ft,Ft]+"\\)$"),Wt=new RegExp("^rgb\\("+[Bt,Bt,Bt]+"\\)$"),qt=new RegExp("^rgba\\("+[Ft,Ft,Ft,Ut]+"\\)$"),Gt=new RegExp("^rgba\\("+[Bt,Bt,Bt,Ut]+"\\)$"),Vt=new RegExp("^hsl\\("+[Ut,Bt,Bt]+"\\)$"),Xt=new RegExp("^hsla\\("+[Ut,Bt,Bt,Ut]+"\\)$"),Kt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zt(){return this.rgb().formatHex()}ion re(t,e,n,r){return 1===arguments.length?ne(t):new oe(t,e,n,null==r?1:r)}function oe(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ion ue(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}t(jt,Qt,{copy:displayable:hex:Zt,formatHex:Zt,formatHsl:function(){return ce(this).formatHsl()},formatRgb:Jt,toString:Jt}),Rt(oe,re,It(jt,{brighter:function(t){return t=null==t?zt:Math.pow(zt,t),new oe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:rgb:displayable:hex:ie,formatHex:ie,formatRgb:ae,toString:ae})),Rt(ue,(,It(jt,{brighter:function(t){return t=null==t?zt:Math.pow(zt,t),new ue(this.h,this.s,this.l*t,this.opacity)},darker:rgb:displayable:formatHsl:));var fe=Math.PI/180,pe=180/Math.PI,de=.96422,ge=1,be=.82521,me=4/29,ye=6/29,ve=3*ye*ye,we=ye*ye*ye;nction Me(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}n Le(t){return function(){return t}}(Me,ke,It(jt,{brighter:darker:rgb:)),Rt(Ne,Oe,It(jt,{brighter:darker:rgb:));var De=1);e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ue=new RegExp(Fe.source,"g");ion Ge(t){return+t}var Ve=[0,1];function Xe(t){return t}n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;prototype=ln.prototype,ln.prototype.toString=var un={"%":b:t=>Math.round(t).toString(2),c:d:e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:o:t=>Math.round(t).toString(8),p:r:cn,s:X:x:;ar fn,pn,dn,gn=Array.prototype.map,bn=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"]fn=mn({thousands:",",grouping:[3],currency:["$",""]}),pn=fn.format,dn=fn.formatPrefix;const wn=new Date,xn=new Dao}const Mn=k{})}-t));Mn.evel),Mn.range;const Tn=1e3,An=6e4,En=36e5,_n=864e5,On=6048e5,Nn=2592e6,Sn=31536e6,Ln=k)}),((t,e)=>{t.setTime(+t+e*Tn)}),((t,e)=>(e-t)/Tn),(t=>t.getUTCSeconds()));Ln.range;const Cn=k)}),((t,e)=>{t.setTime(+t+e*An)}),((t,e)=>(e-t)/An),(t=>t.getMinutes()));Cn.range;const $n=k)}),((t,e)=>{t.setTime(+t+e*An)}),((t,e)=>(e-t)/An),(t=>t.getUTCMinutes()));$n.range;const Dn=k)}),((t,e)=>{t.setTime(+t+e*En)}),((t,e)=>(e-t)/En),(t=>t.getHours()));Dn.range;const Rn=k)})}),((t,e)=>(e-t)/En),(t=>t.getUTCHours()));Rn.range;const In=k0)e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*An)/_n),(t=>t.getDate()-1));In.range;const jn=kn((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/_n-1));jn.range;const Pn=k)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/_nn))}Pn.range;const Fn=zn(0),Un=zn(1),Bn=zn(2),Hn=zn(3),Yn=zn(4),Wn=zn(5),qn=zn()}Fn.range,Un.range,Bn.range,Hn.range,Yn.range,Wn.range,qn.range;const Vn=Gn(0),Xn=Gn(1),Kn=Gn(2),Zn=Gn(3),Jn=Gn(4),Qn=Gn(5),tr=Gn(6);Vn.range,Xn.range,Kn.range,Zn.range,Jn.range,Qn.range,tr.range;const er=kn((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()));er.range;const nr=k)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}))),(t=>t.getUTCMonth()));nr.range;const rr=kn((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));rr.every=t=>isFinite(t=Math.floor(t))&&t>0?kn((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,rr.range;const or=k)})}()),(t=>t.getUTCFullYear()]}or.evell,or.range,ir(or,nr,Vn,Pn,Rn,$n);const[ar,sr]=ir(rr,er,Fn,In,Dn,Cvar hr,fr,pr={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,gr=/^%/,br=/[\\^$*+?|[\]().{}]unction xr(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function kr(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Mr(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Tr(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ar(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Er(t,e,n){var r=dr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):unction Lr(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):1}function $r(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Dr(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Rr(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):function zr(t,e,n){var r=dr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):1}function Ur(t,e){return mr(t.getDate(),e,2)}function Br(t,e){return mr(t.getHours(),e,2)}function Hr(t,e){return mr(t.getHours()%12||12,e,2)}function Yr(t,e){return mr(1+In.count(rr(t),t),e,3)}function Wr(t,e){return mr(t.getMilliseconds(),e,3)}function qr(t,e){return Wr(t,e)+"000"}function Gr(t,e){return mr(t.getMonth()+1,e,2)}function Vr(t,e){return mr(t.getMinutes(),e,2)}function Xr(t,e){return mr(t.getSeconds(),e,2)}function Kr(t){var e=t.getDay();return 0===e?7:e}function Zr(t,e){return mr(Fn.count(rr(t)-1,t),e,2)}function Jr(t){var e=t.getDay();return e>=4||0===e?Yn(t):Yn.ceil(t)}function Qr(t,e){return t=Jr(t),mr(Yn.count(rr(t),t)+(4===rr(t).getDay()),e,2)}function to(t){return t.getDay()}function eo(t,e){return mr(Un.count(rr(t)-1,t),e,2)}function no(t,e){return mr(t.getFullYear()%100,e,2)}function ro(t,e){return mr((t=Jr(t)).getFullYear()%100,e,2)}function oo(t,e){return mr(t.getFullYear()%1e4,e,4)}function io(t,e){var n=t.getDay();return mr((t=n>=4||0===n?Yn(t):Yn.ceil(t)).getFullYear()%1e4,e,)}function so(t,e){return mr(t.getUTCDate(),e,2)}function lo(t,e){return mr(t.getUTCHours(),e,}function ho(t,e){return mr(t.getUTCMilliseconds(),e,}function go(t,e){return mr(t.getUTCMinutes(),e,}function yo(t,e){return mr(Vn.count(or(t)-1,t),e,unction Mo(t,e){return mr(t.getUTCFullYear()%100,e,function _o(){return"+000Time:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const l),:n,h],]},l},)}var Yo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:t}var qo,Go,Vo,Xo,Ko,Zo,Jo,Qo,ti,ei,ni,ri,oi,ii,ai,si,li,ci,ui={exports:{}};!function(t,e){!function(unction i(t){t.forEach(tion p(t){return document.createElement(nst E=[],_=[];let O=[];const N=[],S=Promise.resolve();let L=const R=new Set;let I}const z=new Set;let(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let o=t;for(let t=0;t<r.length&&null!=o;t++)o=o[r[t]];return null==o?n:o}var nt,rt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==Yo?Yo:"undefined"!=typeof self?self:{},ot={exports:{}};
/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE s}window.DOMPurify||(window.DOMPurify=it().default||it());var at="object"==typeof self&&self.self===self&&self||"object"==typeof Yo&&Yo.global===Yo&&Yo||Function("return this")()||{},st=Object.prototype,lt=st.toString,ct=st.hasOwnProperty,ut=Array.isArray,ht=Object.keys,ft=!{toString:null}.propertyIsEnumerable("toString"),pt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function dt(t){return t instanceof dt?t:this instanceof dt?void(this._wrapped=t):new dt(t)}function gt(t){return t}function bt(t){var e="[object "+t+"]";return function(t){return lt.call(t)===e}}dt.VERSION="1.13.6",dt.prototype.value=function(){return this._wrapped},dt.prototype.valueOf=dt.prototype.toJSON=dt.prototype.value,dt.prototype.toString=function(){return String(this._wrapped)};var mt=bt("Function"),yt=at.document&&at.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof yt&&(mt=function(t){return"function"==typeof t||!1});var vt=mt;function wt(t){var e=typeof t;return"function"===e||"object"===e&&!!t}var xt=ut||bt("Array");function kt(t,e){return null!=t&&ct.call(t,e}var Tt,At=(Tt=t});function Et(t){return dt.toPath()}function Ot(t,e){for(var n=(e=Et(e)).length,r=0;r<n;r++){var o=e[r];if(!kt(t,o))return!1;t=t[o]}return!!n}function Nt(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}dt.toPa]},dt.iterat)};var St=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-2n}var Ct=1/3,$t=Object.freeze({__proto__:null,add:function(t,e){return Number(t)+Number(e)},sub:function(t,e){return t-e},mul:function(t,e){return t*e},div:function(t,e){return t/e},mod:function(t,e){return t%e},concat:function(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e},equal:function(t,e){return t===e},notEqual:function(t,e){return t!==e},greaterThan:function(t,e){return t>e},lessThan:function(t,e){return t<e},greaterThanEqual:function(t,e){return t>=e},lessThanEqual:function(t,e){return t<=e},andOperator:function(t,e){return Boolean(t&&e)},orOperator:function(t,e){return Boolean(t||e)},inOperator:function(t,e){return Nt(e,t)},sinh:function(t){return(Math.exp(t)-Math.exp(-t))/2},cosh:function(t){return(Math.exp(t)+Math.exp(-t))/2},tanh:function(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))},asinh:function(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},atanh:function(t){return Math.log((1+t)/(1-t))/2},log10:function(t){return Math.log(t)*Math.LOG10E},neg:function(t){return-t},not:function(t){return!t},trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)},random:function(t){return Math.random()*(t||1)},factorial:function(t){return Lt(t+1)},gamma:Lt,stringOrArrayLength:function(t){return Array.isArray(t)?t.length:String(t).length},hypot:function(){for(var t=0,e=0,n=0;n<arguments.length;n++){var r,o=Math.abs(arguments[n]);e<o?(t=t*(r=e/o)*r+1,e=o):t+=o>0?(r=o/e)*r:o}return e===1/0?1/0:e*Math.sqrt(t)},condition:function(t,e,n){return t?e:n},roundTo:function(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))},setVar:function(t,e,n){return n&&(n[t]=e),e},arrayIndex:function(t,e){return t[0|e]},max:function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)},min:function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)},arrayMap:function(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))},arrayFold:function(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)},arrayFilter:function(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))},stringOrArrayIndexOf:function(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)},arrayJoin:function(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)},sign:function(t){return(t>0)-(t<0)||+t},cbrt:function(t){return t<0?-Math.pow(-t,Ct):Math.pow(t,Ct)},expm1:function(t){return Math.exp(t)-1},log1p:function(t){return Math.log(1+t)},log2:function(t){return Math.log(t)/Math.LN2},sum:function(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}}),Dt="INUMBER",Rt="IOP1",It="IOP2",jt="IOP3",Pt="IVAR",zt="IVARNAME",Ft="IFUNCALL",Ut="IFUNDEF",Bt="IEXPR",Ht="IEXPREVAL",Yt="IMEMBER",Wt="IENDSTATEMENT",qt="IARRAY";function Gt(t,e){this.type=t,this.value=null!=e?e:0}function Vt(t){return new Gt(Rt,t)}function Xt(t){return new Gt(It,t)}function Kt(t,e,n){var r,o,i,a,s,l,c=[];if(Jt(t))return Qt(t,n);for(var u=t.length,h=0;h<u;h++){var f=t[h],p=f.type;if(p===Dt||p===zt)c.push(f.value);else if(p===It)o=c.pop(),r=c.pop(),"and"===f.value?c.push(!!r&&!!Kt(o,e,n)):"or"===f.value?c.push(!!r||!!Kt(o,e,n)):"="===f.value?(a=e.binaryOps[f.value],c.push(a(r,Kt(o,e,n),n))):(a=e.binaryOps[f.value],c.push(a(Qt(r,n),Qt(o,n))));else if(p===jt)i=c.pop(),o=c.pop(),r=c.pop(),"?"===f.value?c.push(Kt(r?o:i,e,n)):(a=e.ternaryOps[f.value],c.push(a(Qt(r,n),Qt(o,n),Qt(i,n))));else if(p===Pt){if(/^__proto__|prototype|constructor$/.test(f.value))throw new Error("prototype access detected");if(f.value in e.functions)c.push(e.functions[f.value]);else if(f.value in e.unaryOps&&e.parser.isOperatorEnabled(f.value))c.push(e.unaryOps[f.value]);else{var d=n[f.value];if(void 0===d)throw new Error("undefined variable: "+f.value);c.push(d)}}else if(p===Rt)r=c.pop(),a=e.unaryOps[f.value],c.push(a(Qt(r,n)));else if(p===Ft){for(l=f.value,s=[];l-- >0;)s.unshift(Qt(c.pop(),n));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,s))}else if(p===Ut)c.push(function(){for(var t=c.pop(),r=[],o=f.value;o-- >0;)r.unshift(c.pop());var i=c.pop(),a=function(){for(var o=Object.assign({},n),i=0,a=r.length;i<a;i++)o[r[i]]=arguments[i];return Kt(t,e,o)};return Object.defineProperty(a,"name",{value:i,writable:!1}),n[i]=a,a}());else if(p===Bt)c.push(Zt(f,e));else if(p===Ht)c.push(f);else if(p===Yt)r=c.pop(),c.push(r[f.value]);else if(p===Wt)c.pop();else{if(p!==qt)throw new Error("invalid Expression");for(l=f.value,s=[];l-- >0;)s.unshift(c.pop());c.push(s)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:Qt(c[0],n)}function Zt(t,e,n){return Jt(t)?t:{type:Ht,value:function(n){return Kt(t.value,e,n)}}}function Jt(t){return t&&t.type===Ht}function Qt(t,e){return Jt(t)?t.value(e):t}Gt.prototype.toString=function(){switch(this.type){case Dt:case Rt:case It:case jt:case Pt:case zt:case Wt:return this.value;case Ft:return"CALL "+this.value;case Ut:return"DEF "+this.value;case qt:return"ARRAY "+this.value;case Yt:return"."+this.value;default:return"Invalid Instruction"}};var te="TEOF",ee="TOP",ne="TNUMBER",re="TSTRING",oe="TPAREN",ie="TBRACKET",ae="TCOMMA",se="TNAME",le="TSEMICOLON";function ce(t,e,n){this.type=t,this.value=e,this.index=n}function ue(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}ce.prototype.toString=function(){return this.type+": "+this.value},ue.prototype.newToken=function(t,e,n){return new ce(t,e,null!=n?n:this.pos)},ue.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},ue.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},ue.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(te,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},ue.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var o=this.expression.substring(e+1,r);this.current=this.newToken(re,this.unescape(o),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},ue.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(oe,t),this.pos++,!0)},ue.prototype.isBrack)},ue.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(ae,","),this.pos++,!0)},ue.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(le,";"),this.pos++,!0)},ue.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken(ne,this.consts[r]),this.pos+=r.length,!0}return!1},ue.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(ee,r),this.pos+=r.length,!0}return!1},ue.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var o=this.expression.substring(t,e);return this.current=this.newToken(se,o),this.pos+=o.length,!0}return!1},ue.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var he=/^[0-9a-f]{4}$/i;function fe(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess,this.restrictMemberAccess=new Set(n.restrictMemberAccess||[])}ue.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var o=t.substring(e+1,e+5);he.test(o)||this.parseError("Illegal escape sequence: \\u"+o),n+=String.fromCharCode(parseInt(o,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var i=t.indexOf("\\",e);n+=t.substring(e,i<0?t.length:i),e=i}return n},ue.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},ue.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,o=n;n<this.expression.length;){var i=this.expression.charAt(n);if(!e.test(i))break;n++,r=!0}return r&&(this.current=this.newToken(ne,parseInt(this.expression.substring(o,n),t)),this.pos=n),r},ue.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,o=n,i=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!i&&"."===t);)"."===t?i=!0:a=!0,n++,e=a;if(e&&(o=n),"e"===t||"E"===t){n++;for(var s=!0,l=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!s||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;l=!0,s=!1}else s=!1;n++}l||(n=o)}return e?(this.current=this.newToken(ne,parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=o,e},ue.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(ee,e);else if("â"===e||"â¢"===e)this.current=this.newToken(ee,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ee,">="),this.pos++):this.current=this.newToken(ee,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ee,"<="),this.pos++):this.current=this.newToken(ee,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(ee,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ee,"=="),this.pos++):this.current=this.newToken(ee,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ee,"!="),this.pos++):this.current=this.newToken(ee,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},ue.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},ue.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},ue.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},fe.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},fe.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?Nt(e,t.value):"function"==typeof e?e(t):t.value===e)},fe.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},fe.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},fe.prototype.),0))},fe.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},fe.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(se)||this.accept(ee,(function(t){return t.value in e})))t.push(new Gt(Pt,this.current.value));else if(this.accept(ne))t.push(new Gt(Dt,this.current.value));else if(this.accept(re))t.push(new Gt(Dt,this.current.value));else if(this.accept(oe,"("))this.parseExpression(t),this.expect(oe,")");else{if(!this.accept(ie,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(ie,"]"))t.push(new Gt(qt,0));else{var n=this.parseArrayList(t);t.push(new Gt(qt,n))}}},fe.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},fe.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},fe.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(le)&&(!this.nextToken||this.nextToken.type===te||this.nextToken.type===oe&&")"===this.nextToken.value||e.push(new Gt(Wt)),this.nextToken.type!==te&&this.parseExpression(e),t.push(new Gt(Bt,e)),!0)},fe.prototype.parseArrayList=function(t){for(var e=0;!this.accept(ie,"]");)for(this.parseExpression(t),++e;this.accept(ae);)this.parseExpression(t),++e;return e},fe.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(ee,"=");){var e=t.pop(),n=[],r=t.length-1;if(e.type!==Ft){if(e.type!==Pt&&e.type!==Yt)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new Gt(zt,e.value)),t.push(new Gt(Bt,n)),t.push(Xt("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var o=0,i=e.value+1;o<i;o++){var a=r-o;t[a].type===Pt&&(t[a]=new Gt(zt,t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new Gt(Bt,n)),t.push(new Gt(Ut,e.value))}}},fe.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(ee,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(ee,":"),this.parseConditionalExpression(n),t.push(new Gt(Bt,e)),t.push(new Gt(Bt,n)),t.push(new Gt(jt,"?"))}},fe.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(ee,"or");){var e=[];this.parseAndExpression(e),t.push(new Gt(Bt,e)),t.push(Xt("or"))}},fe.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(ee,"and");){var e=[];this.parseComparison(e),t.push(new Gt(Bt,e)),t.push(Xt("and"))}};var pe=["==","!=","<","<=",">=",">","in"];fe.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(ee,pe);){var e=this.current;this.parseAddSub(t),t.push(Xt(e.value))}};var de=["+","-","||"];fe.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(ee,de);){var e=this.current;this.parseTerm(t),t.push(Xt(e.value))}};var ge=["*","/","%"];fe.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(ee,ge);){var e=this.current;this.parseFactor(t),t.push(Xt(e.value))}},fe.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(ee,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===oe&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===le||this.nextToken.type===ae||this.nextToken.type===te||this.nextToken.type===oe&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(Vt(n.value))}else this.parseExponential(t)},fe.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(ee,"^");)this.parseFactor(t),t.push(Xt("^"))},fe.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(ee,"!");)t.push(Vt("!"))},fe.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(ee,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(Vt(n.value))}else for(this.parseMemberExpression(t);this.accept(oe,"(");)if(this.accept(oe,")"))t.push(new Gt(Ft,0));else{var r=this.parseArgumentList(t);t.push(new Gt(Ft,r))}},fe.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(oe,")");)for(this.parseExpression(t),++e;this.accept(ae);)this.parseExpression(t),++e;return e},fe.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(ee,".")||this.accept(ie,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(se),t.push(new Gt(Yt,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(ie,"]"),t.push(Xt("["))}}};const{add:be,sub:me,mul:ye,div:ve,mod:we,equal:xe,notEqual:ke,greaterThan:Me,lessThan:Te,greaterThanEqual:Ae,lessThanEqual:Ee,andOperator:_e,orOperator:Oe,log10:Ne,neg:Se,not:Le,trunc:Ce,random:$e,stringOrArrayLength:De,condition:Re,roundTo:Ie,arrayIndex:je,max:Pe,min:ze,sum:Fe,arrayMap:Ue,arrayFold:Be,arrayFilter:He,sign:Ye,log1p:We,log2:qe}=$t;function Ge(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function Ve(t){return t.trim()}Ge.prototype.evaluate=function(t){return t=t||{},Kt(this.tokens,this,t)},Ge.prototype.variables=function(){return(this.tokens||[]).filter((t=>"IVAR"===t.type)).map((t=>t.value))};const Xe=new Set(["__proto__","prototype","constructor"]);function Ke(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||qe,LN:Math.log,LOG10:Math.log10||Ne,LG:Math.log10||Ne,LOG1P:Math.log1p||We,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||Ce,"-":Se,"+":Number,EXP:Math.exp,NOT:Le,LENGTH:De,"!":Le,SIGN:Math.sign||Ye,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":be,"-":me,"*":ye,"/":ve,"%":we,"^":Math.pow,"==":xe,"!=":ke,">":Me,"<":Te,">=":Ae,"<=":Ee,and:_e,or:Oe,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":je},this.ternaryOps={"?":Re};const e=t=>t instanceof Date&&!isNaN(t),n=t=>{if(e(t))return t;try{const n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter((t=>!isNaN(t)&&Number.isFinite(t)))}let o=/\w*/g,i=/\w\S*/g;const a=/[\\^$*+?.()|[\]{}]/g;try{o=new RegExp("\\p{L}*","ug"),i=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:Re,RANDOM:$e,MIN(){const t=r.apply(this,arguments);return ze(t)},MAX(){return Pe(r.apply(this,arguments))},SUM(){return Fe(r.apply(this,arguments))},MEAN(){const t=r.apply(this,arguments);return Fe(t)/t.length}t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:Ien("")},TRIM:Ve,r(e,n),Rg"),n),REPLACEg"),n)lit(e),LOWER:t=>String(t).toLowerCase()Case(),PROPER:t=>String(t).replace(o,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()))se()-1)))(e,nin(e)},MAP:Ue,FOLD:Be,FILTER:Hull))},IOf(e null},RANGE(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return ourn!urn!ents)},YEAR:t=>(t=n(t))?t.getFullYear():null1:null,DAY:t=>(t=n(t))?t.getDate():null,WEEKDAY:t=>(t=n(t))?t.getDay():null,HOURS:t=>(t=n(t))?t.getHours():null,MINUTES:t=>(t=n(t))?t.getMinutes():null,S):null,DATEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TI:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}Ke.prototypethis)},Ke.prototype.evte(e)};var Ze=new Ke;Ke.parse=function(t){return Ze.parse(t)},Ke.evte(e)},Ke.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var Je={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};Ke.prototype.isOperatorE!n[e]};const Qe="%UNDEFINED%",tn={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:t=>nn(t),prop:"letter-spacing"},fontSize:{prop:"font-siz>nn(t)},lineHeight:{prop:"line-heighvar e}},underlined:{prop:"text-decoration",tsf:t=>t?"underline":"none"},cursive:{prop:"font-stylor"):t}const rn=Math.cos,on=Math.sin,an=Math.sqrt,sn=Math.PI,ln=2*sn,cn=Math.PI,un=2*cn,hn=1e-6,fn dn}gn.prototype=dn.prototype;var b0,ln)}},math()}},y,n,n)}};const vn=on(sn/10)/on(7*sn/10),wn=on(ln/10)*vn,xn=-rn(ln/10)*vn;var kath()}};const Mn=-.5,Tn=an(3)/2,An=1/an(12),En=3*(An/2+1);var _ath()}},On=Object.assign(Object.assign({name:"circle"},bnht:e}}}),Nn=Object.assign(Object.assign({name:"cross"},mnht:e}},verticalAlign:"bottom"}),Sn={name:"diamonath(:2*e}}},Ln={name:"hexago0,-r*e*2}}},Cn={name:"markeh.PI)},bbox(t){const e=Math.sqrt(t);return{width:1.1682*e,height:1.9051*e}},baseline:1},$n={name:"spik(2,0)ht:t}),baseline:1},Dn=Object.assign(Object.assign({name:"square"},ynht:e}}}),Rn=Object.assign(Object.assign({name:"star"},kn),{bbox(t){const e=Math.sqrt(t);return{width:1.7897*e,height:1.7048*e}},baseline:.55}),In=Object.assign(Object.assign({name:"wye"},_n63*e}},baseline:.455});const jn=Math.sqrt(3);var Pn={name:"triangleUath()},bbox(t){const e=Math.sqrt(t/(3*jn));return{width:jn*e*2,height:3*e}},baseline:.66667};const zn=Math.sqrt(3);var Fn={name:"triangleDowath(:3*e}},baseline:.3333},Un=Object.freeze({__proto__:null,symbolCircle:On,symbolCross:Nn,symbolDiamond:Sn,symbolHexagon:Ln,symbolMarker:Cn,symbolSpike:$n,symbolSquare:Dn,symbolStar:Rn,symbolTriangleDown:Fn,symbolTriangleUp:Pn,symbolWye:In}),Bn=/\s/,Hn=/^\s+/,Yn="object"==typeof rt&&rt&&rt.Object===Object&&rt,Wn="object"==typeof self&&self&&self.Object===Object&&self,qn=(Yn||Wn||Function("return this")()).Symbol,Gn=qn,Vn=Object.prototype,Xn=Vn.hasOwnProperty,Kn=Vn.toString,Zn=Gn?Gn.toStringTag:void 0,Jn=Object.prototype.toString,Qn=function(t){var e=Xn.call(t,Zn),n=t[Zn];try{t[Zn]=void 0;var r=!0}catch(t){}var o=Kn.call(t);return r&&(e?t[Zn]=n:delete t[Zn]),o},tr=qn?qn.toStringTag:voi)}("")"==e)},or=/^[-+]0x[0-9a-f]+$/i,ir=/^0b[01]+$/i,ar=/^0o[0-7]+$/i,sr=parsee))aN:u,et,e,n){const r=t.slice();return r[34]=e[n],rr}function Fr(t,e,n){const r=t.slice();return r[66]=e[n],r[68]=n,r}function Ur(t,e,n){const r=t.slice();return r[69]=e[n],rt)}}}function qr(t){let e,n,r=t[69]+"";return{c(){e=d("tspan"),n=g(r),y(e,"x","0"),y(e,"dy",0===t[71]?0:Qr)},m(t,r){u(t,e,r),c(e,n)},p(t,e){512&e[0]&&r!==(r=t[69]+"")&&v(n,r)},d(t){t}}}confunction po(t,e,n){const r=t.slice();return r[45]=e[n],r[46]=e,r[47]=n,r}function go(t,e,n){const r=t.slice();return r[45]=e[))}]}class To extends X{constructor(t){super(),V(this,t,Mo,ko,s,{title:1,horizontal:2,highlight:3,reverse:4,rtl:5,emotion:6,chroma:7,purifyHtml:8,colors:9,breaks:10,labels:11,format:12,themeData:13,width:14,height:15,position:16,buffer:0,blendMultiply:17,blendMultiplyBackground:18,rendered:34,highlightedValue:35},ne,r[48]=n,r}function Eo(t,e,n){const r=t.slice();return r[46]=e[n],r[48]=n,r}function _o(t){let e,n,r=t[12],o=[];for(let e=0;e<r.length;e+=1)o[e]=Oo(Eo(t,r,e));const i=t=>Y(o[t],1,1,(()=>{o[t]=nul]t1o(,,""))}t.CategoryLegend=Pr,t.ContinuousLegend=eo,t.RangeLegend=To,t.RulerLegend=$o,t.categoryLontainer:t}},t.colorLn.rendered}},t.highlightTimer=Nr}(e)}(0,ui.exports);var hn}}return t}function pi(){return null}const di=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|z[t]?0t){retu{return t()[n]?t[n]:e}},it.prototyx)"})):this},it.prot]);return r},it.prot]);return a},it.protrentNode}))},it.prototype.]);return e},it.prote)||15:0}))},it.prototyp).append(t)},it.s.attr(t,e)},it.h?t:t+"px"}},it.prototype.prop=it.prototype.property;var mi={T.p={},T}()}(mi);var yi=Wo(mi.exports);function vi(t){return t}var wi=Anction"==e)}var ki="object"==typeof global&&global&&global.Object===Object&&global,Mi="object"==typeof self&&self&&self.Object===Object&&self,Ti=ki||Mi||Function("return this")(),Ai];return t}var Oi=Ti.Symbol,Ni=Object.prototype,Si=Ni.hasOwnProperty,Li=Ni.toString,Ci=Oi?Oi.toStringTag:void 0;var $i=Object.prototype.toString;var Di="[object Null]",Ri="[object Undefined]",Ii=Oi?Oi.toStri]"==ji(t)}var Fi=Object.prototype,Ui=Fi.hasOwnProperty,Bi=Fi.propertyIsEnumerable,Hi=zi(function(){return argut,"callee")},Yi=Hi,Wi=Oi?Oi.isConcatSprearn t(e)}}var Ki="object"==typeof exports&&exports&&!exports.nodeType&&exports,Zi=Ki&&"object"==typeof module&&module&&!module.nodeType&&module,Ji=Zi&&Zi.exports===Ki&&k}catch(t){}}(),ta=Qi&&Qi.isDate,;return-1}var ia=Array.prototype.splice;function aa(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}aa.prothis.size=0},aa.protis.size,!0)},aa.pd 0:e[n][1]},aa.pata__,t)>-1},aa.p][1]=e,this};var sa="[object AsyncFunction]",la="[object Function]",ca="[object GeneratorFunction]",ua="[ob==sa||e==ua}var fa,pa=Ti["__core-js_shared__"],da=(fa=/[^.]+$/.exec(pa&&pa.keys&&pa.keys.IE_PROTO||""))?"Symbol(src)_1."+fa:"";var ga=Function.protot{}}return""}var ma=/^\[object .+?Constructor\]$/,ya=Function.prototype,va=Object.prototype,wa=ya.toString,xa=va.hasOwnProperty,ka=RegExp("^"+wa.call(xa).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,")?n:void 0}var Aa=Ta(Ti,"Map"),Ea=Ta(Object,"create");var _a=Object.prototype.hasOwnProperty;var Oa=Object.prototype.hasOwnProperty;function Na(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set[0],r[1])}}Na.prothis.size=0},Na.protze-=e?1:0,e},Na.pe[t]:void 0},Na.pa.call(e,t)},Na.pd__":e,this},La.proing:new Na}},La.protze-=e?1:0,e},La.prototype.get=function(t){return Sa(this,t).get(t)},La.ps,t).has(t)},La.psize=e.size}Ca.prothis.size=0},Ca.protze=e.size,n},Ca.prototype.get=function(t){return this.__data__.get(t)},Ca.prototype.has=function(t){return this.__data__.has(t)},Ca.p t.has(e)}$a.prototype.add=$a.pred__"),this},$a.pta__.has(t)};vdelete(e),f}var za=T+e]=t})),n}var Ba=1,Ha=2,Ya="[object Boolean]",Wa="[object Date]",qa="[object Error]",Ga="[object Map]",Va="[object Number]",Xa="[object RegExp]",Ka="[object Set]",Za="[object String]",Ja="[object Symbol]",Qa="[object ArrayBuffer]",ts="[object DataView]",es=Oi?Oi.prototype:void 0,ns=es?es.valueOf:void 0;var rs=Object.prototype.propertyIsEnumerable,os=Object.getOwnPropertyS(){return[]},as=is;var ss="object"==typeof exports&&exports&&!exports.nodeType&&exports,ls=ss&&"object"==typeof module&&module&&!module.nodeType&&module,cs=ls&&ls.exports===ss?Ti.Buffer:void 0,us=(cs?cs.isBuf(){return!1},hs=9007199254740991,fs=/^(?:0t%1==0&&t<e}var ds=90071==0&&t<=ds}var bs={};bs["[object Float32Array]"]=bs["[object Float64Array]"]=bs["[object Int8Array]"]=bs["[object Int16Array]"]=bs["[object Int32Array]"]=bs["[object Uint8Array]"]=bs["[object Uint8ClampedArray]"]=bs["[object Uint16Array]"]=bs["[object Uint32Array]"]=!0,bs["[object Arguments]"]=bs["[object Array]"]=bs["[object ArrayBuffer]"]=bs["[object Boolean]"]=bs["[object DataView]"]=bs["[object Date]"]=bs["[object Error]"]=bs["[object Function]"]=bs["[object Map]"]=bs["[object Number]"]=bs["[object Object]"]=bs["[object RegExp]"]=bs["[object Set]"]=bs["[object String]"]=bs["[object WeakMap]"]=!1;var ms=Qi&&Qi.isTypedArray,!!bs[ji(t)]},vs=Object.prototype.hac);return s}var xs=Object.prototype;var ks,Ms,Ts=(ks=Object.ken ks(Ms(t))}),As=Object.prototype.hat,Os,as)}var Ss=1,Ls=Object.prototype.hasOwnProperty;var Cs=Ta(Ti,"DataView"),$s=Ta(Ti,"Promise"),Ds=Ta(Ti,"Set"),Rs=Ta(Ti,"WeakMap"),Is="[object Map]",js="[object Promise]",Ps="[object Set]",zs="[object WeakMap]",Fs="[object DataView]",Us=ba(Cs),Bs=ba(Aa),Hs=ba($s),Ys=ba(Ds),Ws=ba(Rs),qs=ji;(Cs&&qs(new Cs(new ArrayBuffer(1)))!=Fs||Aa&&qs(new Aa)!=Is||$s&&qs($s.resolve())!=js||Ds&&qs(new Ds)!=Ps||Rs&&qs(new Rzs}return e});var Gs=qs,Vs=1,Xs="[object Arguments]",Ks="[object Array]",Zs="[object Object]",Js=Object.prototype.han,r,tl,o))}v}(n,t,e)}}var al="[obj&&ji(t)==al}var ll=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\] Object(e))}var hl="Expectedache||La),n}fl.Cache=La;var pl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dl=/h:n||t)})),e})),bl=gl,ml=1/0,yl=Oi?Oi.prototype:void 0,vl=yl?yl.toSwl(t)}(t)(t,e,Al)}v(t):Sl(ak}return t},)&Dl(t,e,eturn!1}var Bl=Ds&&1/Ua(new Ds([,-0]))[1]==1/0?function(t){return new Ds(t)}:function(){},%"))}const Ql="--zeroity),")"),r}const ec={horizontal:90,vertical:0,"diagonal-up":135,"diagon.concat(l)}const sc=new Set(["à¸¿","â¿","Â¢","$","â¬","eur","Â£","gbp","Â¥","yen","usd","cad","us$","ca$","can$"]),lc=/\.(0*)\[t)?l(t,.stringify(n)&&(i[o]=n,!0)}const dc=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,gc=/^#?([A-Fa-f0-9]{wn hex color:[2]:1;return t<e?e:t>n?n:t};const vc=yc;const wc={};for(let t of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])wc["[object ".concat(t,"]")]=t.toLowerCase();var xc=function(t){return wc[Object.prototype.toString.call(t)]||"object"};const kc=xc;const Mc=xc;const [e]=vc(t[e],0,1));return])).m])?t[e].toLowerCase():null},PI:Tc,TWOPI:2*Tc,PITHIRD:Tc/3,DEG2RAD:Tc/180,RAD2DEG:180/Tc};const Ec={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},{unp2.9.t39192*e+0?0:c,500* Dc(t){return $c(mc(t))[0]}var Rc={exports:{}};
/**
   * chroma.js - JavaScript library for color conversions
   *
   * Copyright (c) 2011-2019, Gregor Aisch
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   * list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. The name Gregor Aisch may not be used to endorse or promote products
   * derived from this software without specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
   * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
   * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *
   * -------------------------------------------------------
   *
   * chroma.js includes colors from colorbrewer2.org, which are released under
   * the following license:
   *
   * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
   * and The Pennsylvania State University.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
   * either express or implied. See the License for the specific
   * language governing permissions and limitations under the License.
   *
   * ------------------------------------------------------
   *
   * Named colors are taken from X11 Color Names.
   * http://www.w3.org/TR/css3-color/#svg-colo=va;var xa=wa;return xa}()e.mix(r,n,t).hex()}}(t,Ic)}var Pc="1.13.6",zc="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},Fc=Array.prototype,Uc=Object.prototype,Bc="undefined"!=typeof Symbol?Symbol.prototype:null,Hc=Fc.push,Yc=Fc.slice,Wc=Uc.toString,qc=Uc.hasOwnProperty,Gc="undefined"!=typeof ArrayBuffer,Vc="undefined"!=typeof DataView,Xc=Array.isArray,Kc=Object.keys,Zc=Object.create,Jc=Gc&&ArrayBuffer.isView,Qc=isNaN,tu=isFinite,eu=!{toString:null}.propertyIsEnumerable("toString"),nu=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleSeturn Wc.call(t)===e}}var uu=cu("String"),hu=cu("Number"),fu=cu("Date"),pu=cu("RegExp"),du=cu("Error"),gu=cu("Symbol"),bu=cu("ArrayBuffer"),mu=cu("Function"),yu=zc.document&&zc.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&rn"function"==typeof t||!1});var vu=mu,wu=cu("Object"),xu=Vc&&wu(new DataView(new ArrayBuffer(8))),ku="undefined"!=typeof Map&&wu(new Map),u(t.getInt8)&&bu(t.bufturn null!=t&&qc.call(tt){return Eurn null==e?void 0:e[t]}}var $u=Cu("byteLength"),Du=Lu($u),Ru=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(IDu(t)&&Ru.test(Wc.call(t.byteOffset||0,$u(t))}Uu.VERSION=Pc,Uu.prototype.value=function(){return this._wrapped},Uu.prototype.valueOf=Uu.prototype.toJSON=Uu.prototype.value,Uu.prototype.toString=function(){return String(this._wrapped)}urn t!==Ju||!vu(n[Vu])}}var Vu="forEach",Xu=["clear","delete"],Ku=["get","has","set"],Zu=Xu.concat(Vu,Ku),Ju=Xu.concat(Ku),Qu=["add"].concat(Xu,Vu,"has"),th=ku?Gu(Zu):cu("Map"),eh=ku?Gu(Ju):cu("WeakMap"),nh=ku?Gu(Qu)||(n[c]=i[c])}return n}}var lh=sh fh(t){return Au(t)?t:[t]}functioeturn!1;t=t[o]}returneratee(t,oor(Math.random()*(e-t+1))}Uu.toPath=fh,Uu.i.test(t)?t.replace(o,e):t}}var Oh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Nh=_h(Oh),Sh=_h(ih(Oh)),Lh=Uu.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ch=/(.)^/,$h={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Dh=ion Rh(t){return"\\"+$h[t]}var Ih=pply(i,o);t,r,this,this,a)};return r}));zs,n.concat(olse n||(r[];t[r]=Fh(t[return t.apply(nulments)),t<=1&&],i,e))return i;returi]===o)return i;return-1}}var rn r}(e,wh(n,o,4),r|r)&&(n n0)&&(i=t,a=o)}));return i}var mf=/[^\ud800-\udfff]|[\ud800-\udbff][\udc0=r(e,o,nt,n)?t[n]wf((functe,n){Eu(ton(t,on Af(t,e,(s,a,t)&&rec.call(tction(t){return!pf(e,t)}))})),Cf=ou((funcf(o,l)||o.(t;r++)n[r]=gf(his,n.apply(Uu,t))}})),Uu}of(["pop","push","reverse","shift",||delete n[0]),jf(this,n)}})),of(t,arguments)),jf(this,t)}}));var zf=Object.freeze({__proto__:null,VERSION:Pc,restArguunction(t){return null===t},isUndefined:au,isBoolean:su,isElement:lu,isString:uu,isNumber:hu,isDate:fu,isRegExp:pu,isError:du,isSymbol:gu,isArrayBuffer:bu,isDataView:Tu,isArray:Au,isFunction(t)&&!isNaN(parseFloat(t))},isNaNOu(t))?0===e:0===ju(zu(t))},isMatch:Fu,isEqual:function(t,e){return Yu(t,e)},isMap:th,isWeakMap:eh,isSet:nh,isWeakSet:rh,keys:zuo]=[e[o],t[e[o]]];return r},invert:ih,functions:ah,methods:ah,extend:lh,extendOwn:ch,a=hh(t)Au(t)?t.slice():lh({},t):t},tap:function(t,e){return e(t);i[s]=e(t[s],s,t)}return i},identity:mh,constant:Su,noop:Th,toPatunction(e){return gh(t,e)}},o<t;o++)r[o]=e(o);return r},random:Ah,now:Eh,escape:Nh,unescape:Sh,tunctionvu(i)?i.cr e=++Uu(t);return e._chain=!0,e},iteratee:kh,partial:zh,o[i]};return n.cache={},n}meout(r),arTimnction(t,e){return[n].can e.apply(this,arguments)}},before:Gh,once:Vh,findKey:Xh,findIndex:Zh,findLastIndex:Jh,sortedIndex:Qh,indexOf:ef,lastIndexOf:nf,find:rf,detect:rf,findWhere:function(t,e){return rf(t,yh(e))},each:of,forEach:of,map:af,collect:af,reduce:lf,foldl:lf,inject:lf,reduceRight:cf,foldr:cf){return uf(t,qh(Mh(e)),n)},every:hf,all:hf,some:ff,any:ff,contains:pf,includes:pf,include:on(t,e){ret/0)&&(i=nction(t){return .index-e.index})),"value")},groupBy:xf,indexBy:kf,countBy:Mf,ph(t)?t.length:zu(t).length},pick:Ef,omit:_f,first:Nf,head(t,Math.max(0,t.length-e))},rest:Sf,tail:Sf,drop:Sf,compact:function(t){reion(t,e){return Bh(t,e,!1)},without:Cf,uniq:$f,uniqa===n&&e.push(i)}}return e},difference:Lf,unzip:Rf[t[r][r;i++,c.call(t,r,r+=e));return n},mixin:Pf,default:Uurn t.$$typeof===Bf}(t)}(t)};var Bf="function"==typeof Symbol&&Symbol.for?Symbol,,n){return Vf(M element or D3 se}}));return r.bind(this)(i)}}}(Qf);var tp=W}:e);return i.call(this,r)}})}(ep);var np=Wo(ep.exports);yi.extmultip:Math.abs(e-s.bbox[o])}}}var bp,mp={exports:{}};
/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure5)if(t[n]===e)return!0;return!1}window.DOMPurify||(window.DOMPurify=yp().default||yp());var wp=4.7421875,xp=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-261908384015Math.pow(e,t+.5)*Math.exp(-e)*n}var Mp=1/3;var Tp=Ot,e){return Number(t)+Number(e)},se},me},de},mod:y.isArqual:funcqual:functioerThan:fussThan:function(tEqual:functionEqual:functiction(t,e){ction(t,e){return Boolean(t||e)},inOperator:fuurn(Murn(M-t))/(?t:Matrn Mat{retur{retOG10E},neg:function(t){return-t} t<0?Ma(t){returnrial:function(t){return kp(t+ay(t)?turn e===1on:functe"))[0]ion(t,e,n){dex:function(t,e){return t[0|e]},max:function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Mat:Math.min.apply(Math,arguments)},arrayMap:function(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(ion(e,n,r){r(function(e,n){return or array"not anctio-Math.unctiouncti(t){on(t,e){return t+Number(e)}),0)}}),Ap="INUMBER",Ep="IOP1",_p="IOP2",Op="IOP3",Np="IVAR",Sp="IVARNAME",Lp="IFUNCALL",Cp="IFUNDEF",$p="IEXPR",Dp="IEXPREVAL",Rp="IMEMBERs.type=t,this.value=null!=e?e:0}fu){return Hp(t)?t.lt:return"Invalid Instruction"}};var Wp="TEOF",qp="TOP",Gp="TNUMBER",Vp="TSTRING",Xp="TPAREN",Kp="TBRACKET",Zp="TCptions=t.options,thieturn this.type+": "+t new td(t,e,null!=n?n:this.pos)},ed.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=th,this.current=thisxpression.charAt(this.ression.indexOf(n,r+1s.newToken(Xp,t),this.ps.newToken(Kp,t),this.pos++,!0)},ed.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(Zp,","),this.posnewToken(Qp,";"),this,this.pos+=r.length,!0},this.pos+=r.length,,this.pos+=o.length,!0}retssion.charAt(this.pos);rSet(n.restrictMemberA(e,i<0?t.length:i),e=i}pos=this.expression.length),ubstring(o,n),t)),thisr,n))),this.pos=n):this.his.current.value)||(this.pos=t,!1)},ed.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnan<this.pos);return{line:ror ["+e.line+":"+n,this.nextToken=this.tokenction"==typeof e?n=this.nextToken,this,this.nextToken=thishis.nextToken,e))&&(:"+n.column+"]: ExpecteArrayList(t);t.push(new Pp(jpent(t,e)||this.pushExpression=0,r=e.length;n<r;n++)t.push(e[n])}ression(e),t.push(new Pp($p,e)),!0)},rd.prototype.parseArrayList=function(t){for(var e=0;!this.accept(Kp,"]");)for(this.parseExpression(t),++e;this.accept(Zp);)this.parseExpression(t),++e;return e},rd.prototy$p,n)),t.push(new Pp(Cp,e.value))}}},rd.w Pp($p,n)),t.push(new Pp(Op,"?"))}},rd.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(qp,"or");){var e=[];this.parseAndExpression(e),t.push(new Pp($p,e)),t.push(Fp("or"sh(new Pp($p,e)),t.push(Fp("and"))}};var od=["==","!=","<","<=",">=",">","in"];rd.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(qp,od);){var e=this.current;this.parseAddSub(t),t.push(Fp(e.value))}};var id=["+","-","||"];rd.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(qp,id);){var e=this.current;this.parseTerm(t),t.push(Fp(e.value))}};var ad=parseFactor(t),t.push(Fp(lue))}else this.parseExponentithis.parseFactor(t),t.push(Fp("^"))}his.accept(qp,"!");)t.push(zp("gumentList(t);t.push(new Pp(Lp,his.parseExpression(t),++e;return eis.expect(Kp,"]"),t.push(Fp("["))}}};const{add:sd,sub:ld,mul:cd,div:ud,mod:hd,equal:fd,notEqual:pd,greaterThan:dd,lessThan:gd,greaterThanEqual:bd,lessThanEqual:md,andOperator:yd,orOperator:vd,log10:wd,neg:xd,not:kd,trunc:Md,random:Td,stringOrArrayLength:Ad,condition:Ed,roundTo:_d,arrayIndex:Od,max:Nd,min:Sd,sum:Ld,arrayMap:Cd,arrayFold:$d,arrayFirnaryOps,this.functions=e.functions}function zd(t){rturn t=t||{},Up(this.to"IVAR"===t.type)).map((t=>t.value))};const Fd=new Set(["__E:!1,NA:Number.NaN,NULL:Number.NaN}}Ud.prototype.parse=function(t){var e=[],n=new rd(this,new ed(this,t),{allowMemberAccess:!0,restrictMemberAccess:Fd});return n.parseExpression(e),n.expect(Wp,"EOF"),new Pd(e,this)},Ud.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var Bd=new Ud;Ud.parse=function(t){return Bd.parse(t)},Ud.evaluate=function(t,e){return Bd.parse(t).evaluate(e)},Ud.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var Hd={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};Ud.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(Hd,t)?Hd[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const Yd="%UNDEFINED%",Wd={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:t=>qd(t),prop:"letter-spacing"},fontSize:{prop:"font-size",tsf:t=>qd(t)},lineHeight:{prop:"line-height",tsf:t=>{return(e=t)===Yd?e:e>3?"".concat(e,"px"):String(e);var e}},underlined:{prop:"text-decoration",tsf:t=>t?"underline":"none"},cursive:{prop:"font-style",tsf:t=>t?"italic":"normal"}};function qd(t){return t===Yd?t:Nu(t,"typography.chart.".concat(e),n)}const Vd={a:9,A:10,b:9,B:10,c:8,C:10,d:9,D:11,e:9,E:9,f:5,F:8,g:9,G:11,h:9,H:11,i:4,I:4,j:4,J:4,k:8,K:9,l:4,L:8,m:14,M:12,n:9,N:10,o:9,O:11,p:9,P:8,q:9,Q:11,r:6,R:10,s:7,S:9,t:5,T:9,u:9,U:10,v:8,V:10,w:11,W:14,x:8,X:10,y:8,Y:9,z:7,Z:10,".":4,"!":4,"|":4,",":4,":":5,";":5,"-":oid 0===t&&(t=null),this.week(t)}})icks(o)}default:return e.ticks(o)}}yi.extend(tp),yi.extend(Kd),yi.extend(np),yi.extend(Zd);const tg=[[10],[5,4,gth;return{ticks:i,num:i.||"").split(/(?:\n|<br>|<br\/>)/i))}}const ig={YY:"YYYY",M:"MMMM",MM:"MMMM",MMM:"MMMM",DD:"D",dd:"dddd",ddd:"dddd"};const ag=864e5,sg:{values:(e,"bars.barS(e.labels.rowLaoncat(qd(o(i,t: ").concaoncat(qd(-.5*(return o?{keys:c,keyLabelMap:l}:c}const jg=/:([a-z]{2}(?:-[a-z]{2,3})?):/gi;dw.visualization.register("d3-bars","base",(function(t){let{target:e}=t;yi.extend(tp),yi.extend(Kd),yi.extend(np),yi.extend(Zd);const n=new Dg(e);let r=!0;return{type:function(){return"bars"},render:function(t){const e=this,o=e.chart(),i=e.size(),a=e.dataset,s=e.theme(),l=Gl(s,"colors.palette",[]),{numeral:c}=e.lht-range"]),delete n["highlight-range"])}(o.get("type"),o.get("metadata"));const h=o.createPostEvent(),{chroma:f}=e.libraries();var p=e.colorMap();if(e.get("replace-flags.enabled")&&at(t).append("link").at({type:"text/css","data-uid":"flags-css",rel:"stylesheet",href:"//static.dwcdn.net/css/flag-icons/flag-icon.min.css"}),!0===r){const t=o.locales.dayjs;t&&yi.locale(t),r=!1}const d="rtl"===e.textDirection,g={left:d?"right":"left",right:d?"left":"right"},b=e.type();leincludes(e.type())&&t.push(e),t)),[]):[]}("groups",e.meta.axes,a.columns()).length,w=v>("date"===y?0:1),x=e.get("group-by-column",!1)&&w?e.axes().groups:null,k="range-plot"===b||"arrow-plot"===b,M="bars-split"===b?e.axes().colors:e.axes().colors||e.axes().labels,T=e.axes().colors?lp(c,e.axes(!0).colors,e.chart().getMetadata(),e.axes().colors):t=>t;let A="bars"===b?e.axes().bars:"bars-bullet"===b?[e.axes().bars,e.axes().bars2]:k?[e.axes().start,e.axes().end]:"dot-plot"===b?e.axes()["dots-multiple"]:e.axes()["bars-multiple"];if(wi(A)||(A=[A]),!e.dataset.hasColumn(A[0])||(k||"bars-bullet"===b)&&!e.dataset.hasColumn(A[1]))return e.showError(e.chart().translate("insufficient-data".concat("dot-plot"===b?"-dot-plot":k?"-range-arrow":"-bars"),!0).replace("%chartid%",o.get("id"))),void e.renderingComplete();const E=e.get("show-value-labels",!0)&&"bars-bullet"!==b,_=e.get("value-label-visibility");var O=e.axes().labels,N=e.dataset.column(O),S=e.get("rules")&&"dot-plot"!==b&&"range-plot"!==b&&"arrow-plot"!==b,L=e.get("background")&&("bars"===b||"bars-split"===b||"bars-grouped"===b),C=e.get("thick")&&"dot-plot"!==b&&!k;const $=e.get("thick-arrows",!1)&&"arrow-plot"===b;var D="bars-stacke=t?"":c(.01*t).format(t<5?"0.[0]%":"0%")}:"bars"===b||"dot-plot"===b||k||"bars-bullet"===b?hc(e,"value-label-format",e.dataset.column(A[0])):null;const I=e.get("stack-show-absolute"),j=hc(e,"value-la,mt)}}return function(t){return t.value}}(),z=e.get("label-alignment","left"),F=k&&"direct"===z,U=e.get("block-labels",!1)&&("bars"===b||"bars-stacked"===b||"bars-grouped"===b),B=e.get("mirror-bars",!1)&&"bars-split"===b&&2===A.length,H=e.get("independent-scales")&&!B&&"bars-split"===b,Y=e.get("compact-group-labels")&&("bars-split"===b||"dot-plot"===b),W=e.get("show-group-labelge",[]).filter((function(t){return""!==t}));const G="date"===N.type()?hc(e,"date-label->ae(t,e.get("replace-flags.style","4x3")):vi;var V="bars-split"!==b&&e.get("show-color-key",!0)?e.get("color-key",{}):null;const X=e.get("color-by-column",!1),K=Gl(s,"vis.base.legend.position","top");var Z="bars-stacked"===b||"dot-plot"===b||"bars-grouped"===b,J=("bars-stacked"===b||"bars"===b||"bars-grouped"===b)&&e.get("force-grid",!1)&&!U||"dot-plot"===b||"bars-bullet"===b||k,Q=(e.get("custom-grid-lines")||"").trim(),tt="bars"===b&&e.get("swap-labels"),et="bars"===b&&!e.get("show-category-labels",!0),nt=e.get("value-label-alignment","left"),rt=e.get("tick-position",k||"dot-plot"===b?"bottom":"top");const ome((t=>"value"===t.type&&t.labelDirectly))||k&&e.get("show-".concat("range-plot"===b?"color":"arrow","-key"));ot&&(rt="bottom");const it=e.get("overlays",[]).filter((t=>!t.invisible&&"value"===t.type)).filter((t=>!tt(e,".style.strokeDasharray"),"none")}))}(s,e.id,f);const ct=Gl(s,"vis.d3-bars.axes.showBaseline",!1),ut=Gl(s,"vis.d3-bars.axes.gridlines.extendGrid",0),ht=Gl(s,"vis.d3-bars.groups.spaceBetween",25),pt=Gl(s,"vis.d3-bars.labels.groupTitles.paddingBottom",5),dt=Gl(s,"vis.d3-bars.labels.barLabels.outside",!1)&&E&&"right"===nt&&!tt&&("bars"===b||"bars-grouped"===b),gt=Gl(s,"vis.d3-bars.labels.barLabels.padding",5),bt=Gl(s,"vis.d3-bars.labels.rowLabels.padding",5),mt=b.includes("bars")&&"firstOnly"===Gl(s,"vis.d3-bars.labels.barLabels.units","all"),yt=Gl(s,"vis.d3-bars-grouped.labels.rowLabels.verticalAlignment","middle"),vt=Number(C?Gl(s,"vis.d3-bars.bars.barThickness.thick",27):Gl(s,"vis.d3-bars.bars.barThickness.default",20)),wt=Dc(s.colors.background)<60,xt=Gl(s,"vis.base.labels.invertLuminance",70);("bars-stacked"===b||"bars-groupedtomColors:r?n:{}};e.getAutoColor=Io(s,o)}();var kt=Q.length?Q.split(",").map(Number):[];if(k){var Mt=e.axes(!0);"date"===Mt.start.type()&&"date"===Mt.end.type()&&(m=!0,kt=Q.length?dw.column("end",Q.split(","),"date").values().filter(ea):[],q=dw.column("end",q,"date").values())}if("dot-plot"===b){const t=(Mt=e.axes(!0))["dots-multiple"].filter((t=>"number"===t.tys-multiple"].filter((t=>"date"===t.type())).length>t&&(m=!0,kt=Q.length?dw.column("dots-multiple",Q.split(","),"date").values():[],q=dw.column("dots-multiple",q,"date")s())}const Tt=up(m);if(m||(q=q.map((t=>+t)).filter(Ei)),"dot-plot"===b||k||(q=q.concat(0)),e.get((),n),label:e.dataset.column(t).title()}}));else{const t=e.get("color-category",{}),n=Object.keys(e.get("color-category.categoryLabels",{})),r=e.get("color-key.br:t.map[e]||r,label:t.categoryLabels[e]}}))}const Et=at(t),_t=e.dataset.list(),Ot=x?ft().key(gi(x)).ent.forEach((t=>{")})),_t.forEach((function(t,e){t._row=e}));const Nt=e.get("sort-bars",!1),St="bars"===b?e.axes().bars:e.ge(t[n[1]]-t[n[0]])/t[n[0]]})),"__change"}}(Ltt=t=>isNaN(t.values.forEach((n){t.__origValues[n]=t[n],t[n]*=100/e}))}));let jt=Vi(A.map((function(t){return Pl(_t,t)}))).filter(Tt),Pt=!1,((t=>A.reduce(((t=>A.reduce(((e,n)=>t[n]>0?t[er((t=>0!==t)).every(((t,e,n)=>t===n[0])))));const Ft=e.get("totals-labels",!1)&&"bars-stacked"===b;let Ut=!1;Ft&&!Pt&&(Ut=e.get("totals-labels-position","before"));const Bt="diverging"===e.get("value-label-mode","left"),Ht="range-plot"===b?e.get("range-ends",{enabled:!0,shape:"circle"}):{};n.update({vis:e,theme:s}),Et.classed("bc-hr",S).classed("bc-dir-rtl",d).classed("bc-color-bg",L).classed("bc-label-block",U).classed("stack-totals-before","before"===Ut).classed("stack-totals-after","after"===Ut).classed("bc-label-align-left",z===g.left).classed("bc-label-align-right",z===g.right).classed("bc-mirror-bars",B).classed("bc-stacked-diverging",Bt).classed("bc-grid-lines",J).classed("bc-hide-dots",!Ht.enabled||"line"===Ht.shape).classed("bc-range-end-lines","line"===Ht.shape).classed("bc-range-end-none",!1===Ht.enabled).classed("bc-thick",C).classed("bc-thicker-arrows",$).classed("bc-direct-labels",F).classed("bc-grid-bottom","bottom"===rt).classed("bc-grid-top","top"===rt).classed("hidden-labels",et).classed("mixed-positive-negative",Pt).classed("all-negative",zt).classed("bc-labels-left",d?zt:!zt).classed("bc-labels-right",d?!zt:zt),Bt&&Et.classed("bc-stacked-diverging-"+A.length,!0);const Yt="ontouchstart"in window||navigatssed("unfocus",!1),h("highlight.clear"))}),Yt?0:300);var qt;"bars-bullet"===b&&(qt={inner:Ee("base-color2",1),outer:Ee("base-color",0)}),jt=jt.filter(Tt);var Gt=jt.concat(kt);("dot-plot"!==b&&!k||"custom"===e.get("range-extent","nice"))&&(Gt=Gt.conc==r.type()&&(Gt=Gt.concat(r.range()))}))}));var Vt=m?Do():vn();Vt.domain(At(Gt)).range([0,100]);const Xt=lp(c,e.axes(!0).labels,e.chart().getMetadata(),e.axes().labels);("dot-plot"===b||k)&&(Vt.range([800/i[0],100-800/i[0]]),"nice"===e.get("range-extent","nice")&&Vt.nice());const Kt={series:[],rows:[]},Zt=eXt(t[O]);Zt.includes(e)udes(t.name())&&Kt.series.push(t.name())})),Et.classed("bc-with-row-highlight",Kt.rows.length);var Jt=Et.append("div.bc-groups").selectAll("div.bc-group").data(Ot).enter().append("div.bc-group");Jt.filter(((t,e)=>e>0)).style("margin-top",ht+"px"),Et.selectAll("div.bc-groups").classed(Ot.length>1?"grouped-,t).concat(q))).range(d?[100,0]:[0,100])}))):d&&Vt.e()),Y||Jt.filter(((t,e)=>ot&&!e||!!t.key)).append("div.bc-group-title.group-title.chart-text.label").attr("data-column",x).attr("data-row",(function(t){return Pl(t.values,"_row").join(",")})).style("margin-bottom",e.get("replace-flags.style","4x3")):t.key:"");var Qt=Jt.append("div.bc-group-content").classed("overlay-);if(Qt.on("mouseleave",(()=>{Wt.clear()})),"bars-split"===b){const t=Gl(s,"vis.d3-bars-split.labels.splitLabels.useBarColor");var te=Qt.append("div.bc-split-label");Y?te.append("div.bc-row-label.label.bc-compact-group-label.row-label.chart-text(t){return Pl(t.values,"_row").join(",")})).append("span").html(gi("key")):te.append("div.bc-row-label.row-label.chart-text.label").append("span"),te.append("div.bc-bars").selectAll("div.bc-split").data(A).enter().append("div.bc-split.label").style("width",100/A.t("highlighted-series",[]).indexOf(t)>-1})).attr("data-column",(function(t){return t})).aon(t){return e.dataset.column(t).title()})).style("color",t&&!M?function(t,e){return p(ie(t,e))}:null)}var ee,ne,oe=Qt.selectAll("div.bc-row").data(gi("valach((t=>{Ut&&(t.__stackTotalVa""+Xt(t[O]);return Kt.r)>-1})).classed("firstparentElement).data()[0].uped"===b||"bars-bullet"===b||"bars"===b}));if(tt)E&&oe.append("div.bc-row-label.row-label.chart-text.label").append("span").html(gi(A[0],R));else if(!et&&(oe.append("div.bc-row-label.row-label.chart-text.label").classed("dw-bold",U&&"bars-grouped"===b).attr("data-column",O).attr("d!1);return r.includes(o)?G(t,0===e,!0):o})),"bars-grouped"===b&&"top"===yt)){const t=(vt-parseFloat(getComputedStyle(oe.select(".bc-row-label").node()).lineHeight))/2;oe.select(".bc-row-labe t?n[t%n.length]:t}(X&&s?s:l),t._color}if("bars"===b){const t=(ee=oe.append("div.bc-bars")){return t.value=t[A[0]],!isNaN(t.value)}));t.append("div.bc-bar-inner.dw-rect").style("background",gi(se,p)),ne=t.append("div.bc-bar-inner.value-labels").style("background","transparent"),Vl(t.selectAll(".bc-bar-inner"),Vt,d)}else if("bars-split"===b)ne=(ee=oe.append("div.bc-bars").selectAll("div.bc-split").data((function(t){return A.map((function(e){return{column:e,value:t[e],row:t}}))})).enter().append("div.bc-split").style("width",100/A.length+"%").append("div.bc-split-inner")).append("div.bc-bar-bg.dw-rect").filter((function(t){return!isNaN(t.value)}))00-e(Math[d?"min":"max"](0,t.value))+"%"})).style("left",((t,e)=>("right",((t,e)=>B&&!e(function(t,e){return p(M?se(t):ie(t,e))})).attr("title",P),Et.selectAll(".bc-split").style("padding-right",e.get("space-between-cols",10)+"px"),Et.selectAll(".bc-bars").style("margin-right",-1*e.get("space-between-cols",10)+"px");else ty()?Wt.clear():Wt.set(n.datum().column)}));const t=Gl(s,"vis.d3-bars-stacked.bars.borders.width");ee=oe.append(TotalValue;return D&&(e=!0),j(n,!1,!1,e)};if(ne=ee.append("div.bc-bar-bg.dw-rer((function(t){return!isNaN(t.value)}))})).enter().append("div.bc-bar-inner.dw-rect").style("background",(function(t,e){return p(ie(t,e))})).classed("border-left",(t=>"left"===t.border)).classed("border-right",(t=>"right"===t.border)).attr("data-column",gi("column")),"after"===Ut){const t=ee.append("div.bc-stack-total-outer");t.append("div.label.bc-bdding",(t=>!U&&!zt&&t.__stackTotalValue<0)).append("span.export-text").html((t=>e(t,!1))),Vl(t,Vt,d,"__stackTotalValue"),Zl(oe,b,o,d,"__stackTotalValue")}if("before"===Ut){const t=oe.select(".bc-bars").append("div.label.bc-bar-total.before").classed("left",d?zt:!zt).classed("right",d?!zt:zt).lpend("span.export-text").html((t=>e(t,!0))),zt&&t.raise();const n=Math.max(...t.selectAll("span").nodes().map((t=>t.offsetWidth)));t.style("width","".concat(n,"px"))}Jl(ne,Vt,d)}elsety()?Wt.clear():Wt.set(a.datum().column)})),Vl(ne=(ee=oe.append("div.bc-bars"))er((function(t){return!isNaN(t.value)}))})).enter().append("div.bc-bar-bg.dw-rect").append("div.bc-bar-inner.dw-rect").style("background",(function(t,e){return p(ie(t,e))})).attr("data-column",gi("column")),Vt,d);else if("bars-bullet"===b)Vl(ne=(ee=oe.append("div.bc-bars")).append("div.bc-bar-bg.dw-rer((function(t){return!isNaN(t.value)}))})).enter().append("div.bc-bar-inner.dw-rect").classed("bc-bullet-inner",(function(t){returound",(function(t){return p(qt[t.type])})),Vt,d);else if("dot-plot"===b){(ee=pop();r(i.x)<20?Wt.set(i.col):Wt.clear()}));ne=ee.append("div.bc-barer((function(t){return null!==t.value}))})).enter().append("div.bc-bar-inner.dw-circle").style("left",ground",(function(t,e){return ghlight",(t=>ilter((function(t){return isNaN(t.value)})).style("display","none"),Et.classed("bc-with-series-highlight",Kt.series.length),A.length>1&&e.get("highlight-range")&&ee.select(".bc-bar-bg").insert("div.bcar0min=n<r,t._min=n+"%",t._max=100-r+"%"})).style("left",gi("_min")).style("right",gi("_max"))}else if("arrow-plot"===b){ne=(ee=oe.append("div.bc-bars")).append("div.bc-bar(e){return{column:e,value:t[e],row:t}}))})).enter().append("div.bc-bar-inner.dw-circle").,"-5px").style("left",(t=>Vt(t.value)+"%")).style("display","none"),ee.select(".bc-bar-bg").insert("div.bc-arrow.dw-arrow",".bc-bar-inner").each((function(t){const e=Rg({row:t,barColumns:A,timeScale:m,barScale:Vt,mode:b});Object.assign(t,e)})).style("background",gi(se,p)).classed("bc-arrow-left",(function(t){return"left"===t._direction})).classed("bc-arrow-right",(function(t){return"right"==(function(t){return"none"===t._direction})).append("div.bc-arrow-inner.dw-arrow-inner").style("border-color",gi("_color",p)),Xl(oe,b,Vt,d)}else if("range-plot"===b){var le=(ee=oe.append("div.bc-bars")).append("div.bc-bar-bg");const t="circle"===e.get("range-ends",{}).shape,n=Gl(s,"vis.d3-range-plot.rangeEnds.circles.outline",{}),r=n.width&&!n.color;ne=le.selectAll("div.bc-.map((e=>({row:t,column:e,value:t[e]})))})).enter().append("div.bc-bar-inner.dw-"+(t?"circle":"rect")).style("border-color",r?_e:null).style("background",r,barScale:Vt,mode:b});Object.assign(t,e)})),ee.select(".bc-bar-bg").insert("div.bner").filter((t=>Tt(t[p(i(t))+" "+100*t+"%"})).join(", ")+")"}})).append("div").style("border-color",gi("_color",p)),Xl(oe,b,Vt,d)}ne&&(ne.on("mouseenter",(t=>{h("bar.mouseenter",t)})),ne.on("mouseleave",(t=)})),ne.on("click",(t=>{h("bar.click",t)})));var ce=e.get("range-value-labels","start");"arrow-plot"!==b&&"range-plot"!==b||!E||("start"!==ce&&"both"!==ce||ee.append("div.bc-range-label").classed("bc-lbl-highlight",Kt.series.includes(A[0])).classed("bc-lbl-left",(function(t){return"right"===t._direction||"end"===t._direction||"none"===t._direction})).classed("bc-lbl-right",(function(t){return"left"===t._direction||"start"===t._direction})).append("span.label.bc-range-value.value").append("span.inner").style("color","arrow-plot"===b?t=>ql(s,p(se(t))):ql(s,p(Ee("base-color",0)))).html((t=>R(t[A[0]]))),"start"!==ce&&ee.append("div.bc-range-label").classed("bc-lbl-highlight",!["diff","change"].includes(ce)&&Kt.seri"===t._direction||"start"=d"===t._direction||"none"===t._direction})).append("span.label.bc-range-value.value").append("spcolor","arrow-plot"===b?t=>ql(s,p(se(t))):ql(s,urn e=t._diff,<.01?".[0]":"")+"%");var e}:t=>R(t[A[1]])),Kl(oe)),!E||tt||k?!tt||et||k||ne.append("div.bc-bar-label.chart-text.value.label").attr("data-column",O).attr("data-row",gi("_row")).append("span").html(gi(O,G)):ne.append("div.bc-bar-label.chart-tesed("force-padding",(t=>!U&&dt&&t.value<0)).append("span").lbconcat(e),r,o)}),0);t=Math.max(e,t)})),t}()>i[0]-50?(F=!1,Et.selectAll(".bc-direct-lbl").remove()):Et.selectAll(".bc-row-label").remove(),Et.classed("bc-direct-labels",F));var ue=0;F||U||Qt.selectAll(".bc-row-label sh.max(ue,o.getElementBounds(this).width)})),ue>0&&(ue+=2*bt);var he=100*ue/i[0]+"%",fe=100*(i[0]-ue+("bars-split"===b?+e.get("space-between-cols",10)-4:0))/i[0]+"%";let pe;Qt.selectAll(".bc-row-label").style("width",he),Qt.selectAll(".bc-bars").style("width",fe),"right"===z&&"bars-bullet"!==b&&"dot-plot"!==b&&Jt.selectAll("div.bc-group-title.label").style("padding-left",he),F||"ounds(t).height,t.innerText=""),pe+"px")})),"dot-plot"===b&this.parentNode).style("left",-e-5+"px")})),"bars"===b&&nc({$bars:ee,rangeOverlays:st,valueOverlays:it,barScale:Vt,barThickness:vt,vis:e,rtl:d("outline",n).classed("inverted",n||wt)}}));var de=Math.min.apply(Math,Gt)<0;if("bars-grouped"!==b&&"bars-stacked"!==b||"hover"!==_||!E||ne.selectAll("div.bc-bar-label").classed("hidden",!0),(dt||"after"===Ut||k)&&(oc({$chart:Et,mode:b,barSpace:i[0]-ue,barScale:Vt,directLabels:F,chart:o,rtl:d}),dt||"after"===Ut)){Zl(oe,b,o,d,"bars-stacked"===b?"__stackTotalValue":"value")}if(J||(ct||de)&&"bars-split"!==b&&!U){let t={};Et.selectAll("div.bc-groups").classed("grid",b.includes("bars")&&"bars-split"!==b);const n="before"===Ut?Qt.select(".bc-bar-total.before").node().offsetetElementBounds(this).height+"px",t._y=0})).insert("div.bc-grid.above",".bc-row").parent().inserc-bars").nodes().map((t=>t.offse,J){const e=t[rt]-2;Jt.filter(((t,e)=>e>0)).style("margin-top",ht+e+"px"),Et.selectAll("div.bc-groups").style("padding-".concat(rt),e+"px").selectAll(".bc-group-title").style(rt,"top"===rt?-e+"px":null)}}if(ot){var ge;gtype()),x:Vt(r),column:n,color:tc(t,e.t0][t],x:Vt(Ot[0].values[0][t]),column:t}})).sort(bi("x"));const t="bars"===b?Number(fe.replace("%",""))/100*i[0]:i[0];var be=2===ge.length?Math.a.column)&&(e.class+=" bc-lbl-highlight")}));var me=Et.select(".bc-group .bc-group-content"),ye=0,ve=me.append("div.bc-direct-key").style("width",fe).style(g.left,he),we=ve.selectAll("div.bc-direct-key-col").data(ge).enter().append("div.bc-direct-key-col.label").style("left",gi("left")).style("right",gi("right")).style("width",gi("width")).style("text-align",gi("align")).attr("class",gi("class")).attr("data-column",gi("column")).attr("data-row",-1),xe=we.append("span").html(gi("label"));"range-plot"===b&&(E||e.get(bled"))&&xe.style("color",(t=>qlc(e);return wt&&n<30||!wt&&n>70?void 0:e})),"bars"!==b&&we.append("i.bc-vline.connectx(ye,10+o.getElementBounds(this).height)})),Et.select(".bc-group-title:first-child").style("margin-bottom",ye+"px"),ve.style("top",("bars"===b?8:5)-ye+"px"),we.style("bottom",-(ye-10)+"px"),me.style("margin-top",x?"0px":ye+"px"),we.select("span").s;const r=i[0]-10-t-e;return r<0?r+"px":0}))}"bottom"===(function(){this.parentNode.append(this)},color:p(o)}]}case"range-plot":return[]}}();let Ae;if(Me&&Te.length){const t=Et.append("div.legend-container"),n=Gl(s,"vis.base.legend.position","top"),r=Gl(s,"vis.base.legend.swatch",{}),i=r.borderRadius||0,a=["dot-plot","range-plot"].includes(b)||"50%"===i;if(r.size||pc(s,"vis.base.legend.swatch.size",14),a){const t=r.size||r.height||14;pc(s,"vis.base.legend.swatch.width",t),pc(s,"vis.base.legend.swatch.height",t),pc(s,"vis.base.legend.swatch.borderRadius","50%")}Ae=hi.categoryLegendWrapper(t.node(),{swatches:Te,theme:s,horizontal:!0,rtl:d,emotion:o.emotion,chroma:e.libraries().chroma,purifyHtml:dw.utils.purifyHtml}),"top"===n&&t.lower(),"bars-stacked"!==b&&"bars-grouped"!nter",(t=>{let{key:e}=t;return Wt.set(e)})),Ae.on("mouseleave",Wt.clear))}if(u.fitchart){Et.select("div.fitchart-spacer").remove();const t=o.getElementBounds(Et.node()).height,e=o.getMaxChartHeight()-t;e>0&&Et.append("divncat(t.color,"---").conch"),h:+t.at}},_svgCanadatataset,metata()})},getCenter:function(){return[1,2]}}}),...dw.visualization.hasVisHash?["029e59d0"]:[]),dw.visualization.register("d3-bars-grouped","d3-bars",(()=>({type:fon(){return this.axes()["bars-multiple"]}})),...dw.visualization.hasVisHash?["029e59d0"]:[])}();

