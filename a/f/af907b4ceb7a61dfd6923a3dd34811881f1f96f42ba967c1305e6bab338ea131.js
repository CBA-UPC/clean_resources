/*! @sentry/browser & @sentry/tracing & @sentry/replay 7.99.0 (d32e8ed) | https://github.com/getsentry/sentry-javascript */
var Sentry=function(t){const e=Object.prototype.toString;nction s(t){return r(t,"ErrorEvent")}function i(t){return r(t,"DOMError")}function o(t){return r(t,"String")}=typeof globalThis&&T(globalThis)||"object"==typeof window&&T(window)||"object"==typeof self&&T(self)||"object"==typeof global&&T(global)||)||{};nst I=x();st R=["debug","info","warn","error","log","assert","trace"],M={};onst $=),L=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;n H(t){return t.__sentry_original__} G=/\(error: (.*)\)/,Y=/captureMessage|captureException/;onst Q="<anonymous>";onst tt={},et={};function nt(t,e){tt[t]=tt[t]||[],tt[t].push(e)};let pt,mt,yt;function gt(t){nt("dom",t),rt("dom",vt)}nst kt=x();nction Tt(t){const e="fetch";nt(e,t),rt(e,_t)} It=null;function Et(t){const e="error";nt(e,t),rt(e,Ot)}et At=null;function Rt(t){const e="unhandledrejection";nt(e,t),rt(e,Mt)}onst Dt=x();const $t=_;let Lt;nst Nt=_;;t||(Wt={}));st Vt=["fatal","error","warning","log","info","debug"];unction Zt(){return Date.now()/1e3}const te=function(){const{performance:t}=_;if(!t||!t.now)return Zt;const e=Date.now()-t.now(),n=null==t.timeOrigin?e:t.timeOrigin;return(),ee=((),ne="baggage",re="sentry-",se=/^sentry-/;nst ae=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ce(t,e){const n=t),r=function(t){if(!o(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((,{});else{if(!t)return;e=oe(t)}const n=Object.entries(e).reduce((,{});return Object.keys(n).length>0?n:void 0}(e),{traceId:s,parentSpanId:i,parentSampled:a}=n||{};return n?{traceparentData:n,dynamicSamplingContext:r||{},propagationContext:{traceId:s||ot(),parentSpanId:i||ot().substring(16),spanId:ot().substring(16),sampled:a,dsc:r||{}}}:{traceparentData:n,dynamicSamplingContext:void 0,propagationContext:{traceId:s||ot(),spanId:ot().substring(16)}}}e={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function ge(t){return ye[t]}ion Te(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(e=n,n=i(n)):"call"!==s&&"optionalCall"!==s||(n=i(((...t)=>n.call(e,...t))),e=void 0)}return n}e.__initStatic();const xe="production";n De(t){const{traceId:e,spanId:n}=t.spanContext();return ue(e,n,Fe(t))}tion Ne(t,e,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=t,c={...e,event_id:e.event_id||n.event_id||ot(),timestamp:e.timestamp||Zt()},u=n.integrations||t.integrations.map((t=>t.name));!c,t),c,u),void 0===e.type&&c,t.stackParser);const l=r,n.captureContext);n.mechanism&&lt(c,n.mechanism);const h=s&&s.getEventProcessors?s.getEventProcessors():[],f=).getScopeData();if(i){nn(f,i.getScopeData())}if(l){nn(f,l.getScopeData())}const d=[...n.attachments||[],...f.attachments];d.length&&(n.attachments=d),en(c,f);return Ee([...h,...Ce(),...f.eventProcessors],c,n).then((t=>(t&&t),"number"==typeof o&&o>0?function(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(()},...t.user&&{user:zt(t.user,e,n)},...t.contexts&&{contexts:zt(t.contexts,e,n)},...t.extra&&{extra:zt(t.extra,e,n)}};t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=zt(t.contexts.trace.data,e,n)));t.spans&&(r.spans=t.spans.map(());return r}(t,o,a):t)))}const Pe=new WeakMap;onst Ue=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];nction He(t,e){pn().addBreadcrumb(t,e)}unction We(...t){const e=pn();if(2===t.length){const[n,r]=t;return n?e.withScope(():e.withScope(r)}return e.withScope(t[0])}function Ke(){return pn().getClient()}function Je(){return pn().getScope()}on tn(t){const e=Ke();if(!e)return{};const n=Ze(je(t).trace_id||"",e,Je()),r=Qe(t);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:o}=r.metadata;null!=i&&(n.sample_rate=`${i}`);const a=je(r);return o&&"url"!==o&&(n.transaction=a.description),n.sampled=String(Fe(r)),e.emit&&e.emit("createDsc",n),n}function en(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=e;!function(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=e,c=J(n);c&&Object.keys(c).length&&(t.extra={...c,...t.extra});const u=J(r);u&&Object.keys(u).length&&(t.tags={...u,...t.tags});const l=J(s);l&&Object.keys(l).length&&(t.user={...l,...t.user});const h=J(i);h&&Object.keys(h).length&&(t.contexts={...h,...t.contexts});o&&(t.level=o);a&&(t.transaction=a)}(t,e),r&&t,r),t,n),t,s),t,i)}t sn;class on{Client(t){this.U=t}getClient(){return this.U}addScopeListener(t){this.S.push(t)}addEventProcessor(t){return this.T.push(t),this}etUser(){return this.I}getRequestSession(){return this.B}setRequestSession(t){return this.B=t,this}setTags(t){return this.O={...this.O,...t},this.H(),this}setTag(t,e){return this.O={...this.O,[t]:e},this.H(),this}tFingerprint(t){return this.P=t,this.H(),this}setLevel(t){return this.L=t,this.H(),this}setTransactionName(t){return this.N=t,this.H(),this}tSpan(){return this.j}tSession(){return this.F}LastBreadcrumb(){return this._[this._.length-1]}tAttachments(){return this.getScopeData().attachments}ropagationContext(t){return this.D=t,this}getPropagationContext(){return this.D}t cn="7.99.0",un=parseFloat(cn),ln=100;class hn{ent(){return this.getStackTop().client}etIsolationScope(){return this.K}getStack(){return this.W}EventId(){return this.J}etUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}etTag(t,e){this.getScope().setTag(t,e),this.getIsolationScope().setTag(t,e)}setExtra(t,e){this.getScope().setExtra(t,e),this.getIsolationScope().setExtra(t,e)}return pn().getIsolationScope()}kn=!1;n.tag="sentry_tracingErrorCallback";const Sn="sentry.source",Tn="sentry.sample_rate",_n="sentry.op",xn="sentry.origin";var Cn;function In(t,e){t.setTag("http.status_code",String(e)),t.setData("http.response.status_code",e);const n=e);"unknown_error"!==n&&t.setStatus(n)}!Cn||(Cn={}));lass On{constructor(t={}){this.V=t.traceId||ot(),this.Z=t.spanId||ot().substring(16),this.tt=t.startTimestamp||te(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this.instrumenter=t.instrumenter||"sentry",this.et={},this.setAttributes({[xn]:t.origin||"manual",[_n]:t.op,...t.attributes}),this.nt=t.name||t.description,t.parentSpanId&&(this.rt=t.parentSpanId),"sampled"in t&&(this.st=t.sampled),t.status&&(this.it=t.status),t.endTimestamp&&(this.ot=t.endTimestamp)}et name(t){this.updateName(t)}get description(){return this.nt}set description(t){this.nt=t}get traceId(){return this.V}set traceId(t){this.V=t}get spanId(){return this.Z}set spanId(t){this.Z=t}set parentSpanId(t){this.rt=t}get parentSpanId(){return this.rt}get sampled(){return this.st}set sampled(t){this.st=t}get attributes(){return this.et}set attributes(t){this.et=t}get startTimestamp(){return this.tt}set startTimestamp(t){this.tt=t}get endTimestamp(){return this.ot}set endTimestamp(t){this.ot=t}get status(){return this.it}set status(t){this.it=t}get op(){return this.et["sentry.op"]}set op(t){this.setAttribute(_n,t)}anContext(){const{Z:t,V:e,st:n}=this;return{spanId:t,traceId:e,traceFlags:n?1:0}}startChild(t){const e=new On({...t,parentSpanId:this.Z,sampled:this.st,traceId:this.V});e.spanRecorder=this.spanRecorder,e.spanRecorder&&e.spanRecorder.add(e);const n=Qe(this);return e.transaction=n,e}setTag(t,e){return this.tags={...this.tags,[t]:e},this}Status(t){return this.it=t,this}setHttpStatusetName(t){this.updateName(t)}updateName(t){return this.nt=t,this}inish(t){return this.end(t)}end(t){if(this.ot)return;Qe(this);this.ot=$e(t)}toTraceparent(){return De(this)}tTraceContext(){return Me(this)}getSpanJSON(){return J({data:this.ct(),description:this.nt,op:this.et["sentry.op"],parent_span_id:this.rt,span_id:this.Z,start_timestamp:this.tt,status:this.it,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.ot,trace_id:this.V,origin:this.et["sentry.origin"]})}oJSON(){return this.getSpanJSON()}class An extends On{constructor(t,e){super(t),this.ut={},this.R={},this.lt=e||pn(),this.nt=t.name||"",this.ht={...t.metadata},this.ft=t.trimEnd,this.transaction=this;const n=this.ht.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this.nt}et metadata(){return{source:"custom",spanMetadata:{},...this.ht,...this.et["sentry.source"]&&{source:this.et["sentry.source"]},...this.et["sentry.sample_rate"]&&{sampleRate:this.et["sentry.sample_rate"]}}}set metadata(t){this.ht=t}setName(t,e="custom"){this.nt=t,this.setAttribute(Sn,e)}(t){this.lt=t}dt(t){if(void 0!==this.ot)return;this.nt||(this.nt="<unlabeled transaction>"),super.end(t);const e=this.lt.getClient();if(e&&e.emit&&e.emit("finishTransaction",this),!0!==this.st)return void(e&&e.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((t=>t!==this&&je(t).timestamp)):[];if(this.ft&&n.length>0){const t=n.map(().filter(Boolean);this.ot=t.reduce(()}const{metadata:r}=this,{source:s}=r,i={contexts:{...this.R,trace:Me(this)},spans:n,start_timestamp:this.tt,tags:this.tags,timestamp:this.ot,transaction:this.nt,type:"transaction",sdkProcessingMetadata:{...r,dynamicSamplingContext:tn(this)},...s&&{transaction_info:{source:s}}};return Object.keys(this.ut).length>0&&(i.measurements=this.ut),i}}const Rn={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Mn=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Dn extends En{dd(t){if(t.spanContext().spanId!==this.transactionSpanId){const e=t.end;t.end=void 0===je(t).timestamp&&this.yt(t.spanContext().spanId)}super.add(t)}}class $n extends An{constructor(t,e,n=Rn.idleTimeout,r=Rn.finalTimeout,s=Rn.heartbeatInterval,i=!1,o=!1){super(t,e),this.vt=e,this.bt=n,this.kt=r,this.wt=s,this.St=i,this.activities={},this.Tt=0,this._t=!1,this.xt=!1,this.Ct=[],this.It=Mn[4],this.Et=!o,i&&e.getScope().setSpan(this),o||this.Ot(),setTimeout((,this.kt)}end(t){const e=$e(t);if(this._t=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this.It),this.spanRecorder){for(const t of this.Ct)t(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter((t=>{if(t.spanContext().spanId===this.spanContext().spanId)return!0;je(t).timestamp||(t.setStatus("cancelled"),t.end(e));const{start_timestamp:n,timestamp:r}=je(t),s=n&&n<e,i=(this.kt+this.bt)/1e3;return s&&(r&&n&&r-n<i)}))}if(this.St){const t=this.vt.getScope();t.getTransaction()===this&&t.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this.Ct.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const e=t=>{this._t||this.yt(t)},n=this.spanRecorder=new Dn(e,n,this.spanContext().spanId,t),this.At()}this.spanRecorder.add(this)}etFinishReason(t){this.It=t}t){if(this.activities[t]&&delete this.activities[t],0===Object.keys(this.activities).length){const t=te();this.xt?this.Et&&(this.It=Mn[5],this.end(t)):this.Ot(t+this.bt/1e3)}}Mt(){if(this._t)return;const t=Object.keys(this.activities).join("");t===this.Dt?this.Tt++:this.Tt=1,this.Dt=t,this.Tt>=3?this.Et&&(this.setStatus("deadline_exceeded"),this.It=Mn[0],this.end()):this.At()}unction jn(t,e,n){if(!Ln(e))return t.sampled=!1,t;if(void 0!==t.sampled)return t.setAttribute(Tn,Number(t.sampled)),t;let r;return"function"==typeof e.tracesSampler?(r=e.tracesSampler(n),t.setAttribute(Tn,Number(r))):void 0!==n.parentSampled?r=n.parentSampled:void 0!==e.tracesSampleRate?(r=e.tracesSampleRate,t.setAttribute(Tn,Number(r))):(r=1,t.setAttribute(Tn,r)),r)&&r?(t.sampled=Math.random()<r,t.sampled,t):(t.sampled=!1,t)}unction Nn(t,e){const n=this.getClient(),r=n&&n.getOptions()||{};(r.instrumenter||"sentry")!==(t.instrumenter||"sentry")&&(t.sampled=!1);let s=new An(t,this);return s=jn(s,r,{parentSampled:t.parentSampled,transactionContext:t,...e}),s.isRecording()&&s.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",s),s}function Pn(t,e,n,r,s,i,o,a=!1){const c=t.getClient(),u=c&&c.getOptions()||{};let l=new $n(e,t,n,r,o,s,a);return l=jn(l,u,{parentSampled:e.parentSampled,transactionContext:e,...i}),l.isRecording()&&l.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",l),l}unction Un(t,e,n=(()=>{})){let r;try{r=t()}catch(t){throw e(t),n(),t}return function(t,e,n){if(h(t))return t.then((,();return n(),t}(r,e,n)}function zn(t){if(!Ln())return;const e=Wn(t),n=pn(),r=t.scope?t.scope.getSpan():Hn();if(!(t.onlyIfParent&&!r)){if(r)return r.startChild(e);{const t=mn(),r=Je(),{traceId:s,dsc:i,parentSpanId:o,sampled:a}={...t.getPropagationContext(),...r.getPropagationContext()};return n.startTransaction({traceId:s,parentSpanId:o,parentSampled:a,...e,metadata:{dynamicSamplingContext:i,...e.metadata}})}}}unction qn(t,e,n){if(Ln()){if(e)return e.startChild(n);{const e=mn(),r=Je(),{traceId:s,dsc:i,parentSpanId:o,sampled:a}={...e.getPropagationContext(),...r.getPropagationContext()};return t.startTransaction({traceId:s,parentSpanId:o,parentSampled:a,...n,metadata:{dynamicSamplingContext:i,...n.metadata}})}}}function Wn(t){if(t.startTime){const e={...t};return e.startTimestamp=$e(t.startTime),delete e.startTime,e}return t}st Gn=[];nction Qn(t,e,n){if(!n[e.name]){if(n[e.name]=e,-1===Gn.indexOf(e.name)&&(e.setupOnce(Ie,pn),Gn.push(e.name)),e.setup&&"function"==typeof e.setup&&e.setup(t),t.on&&"function"==typeof e.preprocessEvent){const n=e.preprocessEvent.bind(e);t.on("preprocessEvent",((e,r)=>n(e,r,t)))}if(t.addEventProcessor&&"function"==typeof e.processEvent){const n=e.processEvent.bind(e),r=Object.assign((,{id:e.name});t.addEventProcessor(r)}}}onst tr=/[^a-zA-Z0-9_/.-]+/g,er=/[^\w\d_:/@.{}[\]$-]+/g;t or={c:g:d:s:;function ar(t){const e=pn().getStackTop();e.client=t,e.scope.setClient(t)}function cr(t,e,n=Gt(t.bufferSize||30)){let r={};function s(s){const i=[];if(fe(s,(),0===i.length)return Kt();const o=le(s[0],i),a=return n.add(().then((,()}return s.__sentry__baseTransport__=!0,{send:s,flush:}st fr=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],dr=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],pr="InboundFilters",mr=(t={})=>({name:pr,setupOnce(){},processEvent),yr=Zn(pr,mr);et vr;const br="FunctionToString",kr=new WeakMap,wr=()=>({name:br,setupOnce(){vr=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=H(this),n=kr.has(Ke())&&void 0!==e?e:this;return vr.apply(n,t)}}catch(t){}},setup),Sr=Zn(br,wr),Tr="LinkedErrors",_r=Zn(Tr,((t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:Tr,setupOnce(){},preprocessEvent(t,r,s){const i=s.getOptions();b(Se,i.stackParser,i.maxValueLength,n,e,t,r)}}}));var xr=Object.freeze({__proto__:null,FunctionToString:Sr,InboundFilters:yr,LinkedErrors:_r});onst Ir="MetricsAggregator",Er=onst Ar={increment:distribution:function(t,e,n){Or("d",t,e,n)},set:function(t,e,n){Or("s",t,e,n)},gauge:MetricsAggregator:Zn(Ir,Er),metricsAggregatorIntegration:Er},Rr=xr,Mr=_;const Dr=$r=Lr=jr=Fr=Nr=let Pr=-1;const Br=Ur={},zr={},Hr={};let qr,Wr,Kr;function Jr(t,e=!1){return Zr("lcp",t,Qr,Kr,e)}nction Yr(){return(((t=>{Gr("cls",{metric:t}),qr=t}))}function Vr(){return(((t=>{Gr("fid",{metric:t}),Wr=t}))}function Qr(){return((()}as,cs=0,us={};function ls(){const t=is();if(t&&ee){t.mark&&Mr.performance.mark("sentry-tracing-init");const e=Zr("fid",(({metric:t})=>{const e=t.entries[t.entries.length-1];if(!e)return;const n=ss(ee),r=ss(e.startTime);us.fid={value:t.value,unit:"millisecond"},us["mark.fid"]={value:n+r,unit:"second"}}),Vr,Wr),n=(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(us.cls={value:t.value,unit:""},as=e)}),!0),r=Jr((({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(us.lcp={value:t.value,unit:"millisecond"},os=e)}),!0);returnreturnfunction hs(t){const e=is();if(!e||!Mr.performance.getEntries||!ee)return;const n=ss(ee),r=e.getEntries();let s,i;const{op:o,start_timestamp:a}=je(t);if(r.slice(cs).forEach((e=>{const r=ss(e.startTime),o=ss(e.duration);if(!("navigation"===t.op&&a&&n+r<a))switch(e.entryType){case"navigation":!t,e,n),s=n+ss(e.responseStart),i=n+ss(e.requestStart);break;case"mark":case"paint":case"measure":{!t,e,r,o,n);const s=Br(),i=e.startTime<s.firstHiddenTime;"first-paint"===e.name&&i&&(us.fp={value:e.startTime,unit:"millisecond"}),"first-contentful-paint"===e.name&&i&&(us.fcp={value:e.startTime,unit:"millisecond"});break}case"resource":!function(t,e,n,r,s,i){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;const o=Yt(n),a={};ds(a,e,"transferSize","http.response_transfer_size"),ds(a,e,"encodedBodySize","http.response_content_length"),ds(a,e,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in e&&(a["resource.render_blocking_status"]=e.renderBlockingStatus);o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop());o.host&&(a["server.address"]=o.host);a["url.same_origin"]=n.includes(Mr.location.origin);const c=i+r,u=c+s;rs(t,{description:n.replace(Mr.location.origin,""),endTimestamp:u,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:a})}(t,e,e.name,r,o,n)}})),cs=Math.max(r.length-1,0),t),"pageload"===o){!function(t,e,n,r){"number"==typeof e&&r&&(t.ttfb={value:1e3*Math.max(e-r,0),unit:"millisecond"},"number"==typeof n&&n<=e&&(t["ttfb.requestTime"]={value:1e3*(e-n),unit:"millisecond"}))}(us,s,i,a),["fcp","fp","lcp"].forEach((t=>{if(!us[t]||!a||n>=a)return;const e=us[t].value,r=n+ss(e),s=Math.abs(1e3*(r-a));us[t].value=s}));const e=us["mark.fid"];e&&us.fid&&(rs(t,{description:"first input delay",endTimestamp:e.value+ss(us.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:e.value}),delete us["mark.fid"]),"fcp"in us||delete us.cls,Object.keys(us).forEach((t=>{!t,us[t].value,us[t].unit)})),t)}os=void 0,as=void 0,us={}}nction ps(t,e,n,r,s="auto.http.browser"){if(!Ln()||!t.fetchData)return;const i=e(t.fetchData.url);if(t.endTimestamp&&i){const e=t.fetchData.__span;if(!e)return;const n=r[e];if(n){if(t.response){In(n,t.response.status);const e=t.response&&t.response.headers&&t.response.headers.get("content-length");if(e){const t=parseInt(e);t>0&&n.setAttribute("http.response_content_length",t)}}else t.error&&n.setStatus("internal_error");n.end(),delete r[e]}return}const o=Je(),a=Ke(),{method:c,url:u}=t.fetchData,l=i?zn({name:`${c} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":c,[xn]:s},op:"http.client"}):void 0;if(l&&(t.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l),n(t.fetchData.url)&&a){const e=t.args[0];t.args[1]=t.args[1]||{};const n=t.args[1];n.headers=function(t,e,n,r,s){const i=s||n.getSpan(),o=mn(),{traceId:a,spanId:c,sampled:u,dsc:l}={...o.getPropagationContext(),...n.getPropagationContext()},h=i?De(i):ue(a,c,u),f=ie(l||(i?tn(i):Ze(a,e,n))),p=r.headers||("undefined"!=typeof Request&&d(t,Request)?t.headers:void 0);if(p){if("undefined"!=typeof Headers&&d(p,Headers)){const t=new Headers(p);return t.append("sentry-trace",h),f&&t.append(ne,f),t}if(Array.isArray(p)){const t=[...p,["sentry-trace",h]];return f&&t.push([ne,f]),t}{const t="baggage"in p?p.baggage:void 0,e=[];return Array.isArray(t)?e.push(...t):t&&e.push(t),f&&e.push(f),{...p,"sentry-trace":h,baggage:e.length>0?e.join(","):void 0}}}return{"sentry-trace":h,baggage:f}}(e,a,o,n,l)}return l}const ms=["localhost",/^\/(?!\/)/],ys={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:ms,tracePropagationTargets:ms};function gs(t){const{traceFetch:e,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o}={traceFetch:ys.traceFetch,traceXHR:ys.traceXHR,...t},a="function"==typeof i?i:c=u={};e&&Tt((),n&&Pt((t=>{const e=function(t,e,n,r){const s=t.xhr,i=s&&s.__sentry_xhr_v3__;if(!Ln()||!s||s.__sentry_own_request__||!i)return;const o=e(i.url);if(t.endTimestamp&&o){const t=s.__sentry_xhr_span_id__;if(!t)return;const e=r[t];return void(e&&void 0!==i.status_code&&(In(e,i.status_code),e.end(),delete r[t]))}const a=Je(),c=mn(),u=o?zn({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,url:i.url,[xn]:"auto.http.browser"},op:"http.client"}):void 0;u&&(s.__sentry_xhr_span_id__=u.spanContext().spanId,r[s.__sentry_xhr_span_id__]=u);const l=Ke();if(s.setRequestHeader&&n(i.url)&&l){const{traceId:t,spanId:e,sampled:n,dsc:r}={...c.getPropagationContext(),...a.getPropagationContext()};!function(t,e,n){try{t.setRequestHeader("sentry-trace",e),n&&t.setRequestHeader(ne,n)}catch(t){}}(s,u?De(u):ue(t,e,n),ie(r||(u?tn(u):Ze(t,l,a))))}return u}(t,a,c,u);o&&e&&vs(e)}))}function vs(t){const{url:e}=je(t).data||{};if(!e||"string"!=typeof e)return;const n=Xr("resource",()}onst ks={...Rn,markBackgroundTransactions:!0,routingInstrumentation:function(t,e=!0,n=!0){if(!Mr||!Mr.location)return;let r,s=Mr.location.href;e&&(r=t({name:Mr.location.pathname,startTimestamp:ee?ee/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&jt(()},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...ys};class ws{constructor(t){this.name="BrowserTracing",this.Ut=!1,Bn(),this.options={...ks,...t},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this.zt=ls(),this.options.enableLongTask&&Xr("longtask",(),this.options._experiments.enableInteractions&&Xr("event",(({entries:t})=>{for(const e of t){const t=bn();if(!t)return;if("click"===e.name){const n=ss(ee+e.startTime),r=ss(e.duration),s={description:E(e.target),op:`ui.interaction.${e.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},i=A(e.target);i&&(s.attributes={"ui.component_name":i}),t.startChild(s)}}}))}setupOnce(t,e){this.Ht=e;const n=e().getClient(),r=n&&n.getOptions(),{routingInstrumentation:s,startTransactionOnLocationChange:i,startTransactionOnPageLoad:o,markBackgroundTransactions:a,traceFetch:c,traceXHR:u,shouldCreateSpanForRequest:l,enableHTTPTimings:h,_experiments:f}=this.options,d=r&&r.tracePropagationTargets,p=d||this.options.tracePropagationTargets;s((,o,i),a&&Mr&&Mr.document&&Mr.document.addEventListener("visibilitychange",(()=>{const t=bn();if(Mr.document.hidden&&t){const e="cancelled",{op:n,status:r}=je(t);r||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.end()}})),f.enableInteractions&&this.Wt(),gs({traceFetch:c,traceXHR:u,tracePropagationTargets:p,shouldCreateSpanForRequest:l,enableHTTPTimings:h})}qt(t){if(!this.Ht)return;const e=this.Ht(),{beforeNavigate:n,idleTimeout:r,finalTimeout:s,heartbeatInterval:i}=this.options,o="pageload"===t.op;let a;if(o){const e=o?Ss("sentry-trace"):"",n=o?Ss("baggage"):void 0,{traceparentData:r,dynamicSamplingContext:s}=ce(e,n);a={...t,...r,metadata:{...t.metadata,dynamicSamplingContext:r&&!s?{}:s},trimEnd:!0}}else a={...t,trimEnd:!0};const c="function"==typeof n?n(a):a,u=void 0===c?{...a,sampled:!1}:c;u.metadata=u.name!==a.name?{...u.metadata,source:"custom"}:u.metadata,this.Kt=u.name,this.Jt=function(t){const e=t.attributes&&t.attributes["sentry.source"],n=t.data&&t.data["sentry.source"],r=t.metadata&&t.metadata.source;return e||n||r}(u),u.sampled;const{location:l}=Mr,h=Pn(e,u,r,s,!0,{location:l},i,o);return o&&(Mr.document.addEventListener("readystatechange",(),["interactive","complete"].includes(Mr.document.readyState)&&h.sendAutoFinishSignal()),h.registerBeforeFinishCallback((),h}nst _s=_,xs="sentryReplaySession",Cs="Unable to send Replay",Is=15e4,Es=5e3,Os=2e7,As=36e5;function Rs(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(e=n,n=i(n)):"call"!==s&&"optionalCall"!==s||(n=i(((...t)=>n.call(e,...t))),e=void 0)}return n}var Ms;|(Ms={}));ction Bs(t){return t.toLowerCase()}onst zs="__rrweb_original__";t Ws=1;const Ks=new RegExp("[^a-z0-9-_:]");et Xs,Gs;const Ys=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Vs=/^(?:[a-z+]+:)?\/\//i,Qs=/^www\..*/i,Zs=/^(data:)([^,]*),(.*)/i;onst ei=/^[^ \t\n\r\u000c]+/,ni=/^[, \t\n\r\u000c]+/;on ui(t,e){return n=>{const r=n;if(null===r)return!1;try{if(t)if("string"==typeof t){if(r.matches(`.${t}`))return!0}else if(r,t))return!0;return!(!e||!r.matches(e))}catch(t){return!1}}}unction hi(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:h,unmaskTextSelector:f,inlineStylesheet:d,maskInputOptions:p={},maskTextFn:m,maskInputFn:y,dataURLOptions:g={},inlineImages:v,recordCanvas:b,keepIframeSrcFn:k,newlyAddedElement:w=!1}=e,S=n,r);switch(t.nodeType){case t.DOCUMENT_NODE:return"CSS1Compat"!==t.compatMode?{type:Ms.Document,childNodes:[],compatMode:t.compatMode}:{type:Ms.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:Ms.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:S};case t.ELEMENT_NODE:return function(t,e){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:h,recordCanvas:f,keepIframeSrcFn:d,newlyAddedElement:p=!1,rootId:m,maskAllText:y,maskTextClass:g,unmaskTextClass:v,maskTextSelector:b,unmaskTextSelector:k}=e,w=t,r,s,i),S=t);let T={};const _=t.attributes.length;for(let e=0;e<_;e++){const r=t.attributes[e];ai(S,r.name)||(T[r.name]=oi(n,S,Bs(r.name),r.value,t,c))}if("link"===S&&o){const e=Array.from(n.styleSheets).find(();let r=null;e&&(r=Ls(e)),r&&(delete T.rel,delete T.href,T._cssText=ti(r,e.href))}if("style"===S&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const e=Ls(t.sheet);e&&(T._cssText=ti(e,ii()))}if("input"===S||"textarea"===S||"select"===S||"option"===S){const e=t,n=Hs(e),r=qs(e,Us(S),n),s=e.checked;if("submit"!==n&&"button"!==n&&r){const t=li(e,g,b,v,k,Ns({type:n,tagName:Us(S),maskInputOptions:a}));T.value=Ps({isMasked:t,element:e,value:r,maskInputFn:u})}s&&(T.checked=s)}"option"===S&&(t.selected&&!a.select?T.selected=!0:delete T.selected);if("canvas"===S&&f)if("2d"===t.__context)((t)||(T.rr_dataURL=t.toDataURL(l.type,l.quality));else if(!("__context"in t)){const e=t.toDataURL(l.type,l.quality),n=document.createElement("canvas");n.width=t.width,n.height=t.height;e!==n.toDataURL(l.type,l.quality)&&(T.rr_dataURL=e)}if("img"===S&&h){Xs||(Xs=n.createElement("canvas"),Gs=Xs.getContext("2d"));const e=t,r=e.crossOrigin;e.crossOrigin="anonymous";const s=e.complete&&0!==e.naturalWidth?s():e.addEventListener("load",s)}"audio"!==S&&"video"!==S||(T.rr_mediaState=t.paused?"paused":"played",T.rr_mediaCurrentTime=t.currentTime);p||(t.scrollLeft&&(T.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(T.rr_scrollTop=t.scrollTop));if(w){const{width:e,height:n}=t.getBoundingClientRect();T={class:T.class,rr_width:`${e}px`,rr_height:`${n}px`}}"iframe"!==S||d(T.src)||(t.contentDocument||(T.rr_src=T.src),delete T.src);let x;try{customElements.get(S)&&(x=!0)}catch(t){}return{type:Ms.Element,tagName:S,attributes:T,childNodes:[],isSVG:si(t)||void 0,needBlock:w,rootId:m,isCustom:x}}(t,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:d,maskAttributeFn:c,maskInputOptions:p,maskInputFn:y,dataURLOptions:g,inlineImages:v,recordCanvas:b,keepIframeSrcFn:k,newlyAddedElement:w,rootId:S,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:h,unmaskTextSelector:f});case t.TEXT_NODE:return t,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:h,unmaskTextSelector:f,maskTextFn:m,maskInputOptions:p,maskInputFn:y,rootId:S});case t.CDATA_SECTION_NODE:return{type:Ms.CDATA,textContent:"",rootId:S};case t.COMMENT_NODE:return{type:Ms.Comment,textContent:t.textContent||"",rootId:S};default:return!1}}t yi="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let gi={map:{},getId:getNode:removeNodeFromMap(){console.error(yi)},has:reset;defined"!=typeof window&&window.Proxy&&window.Reflect&&(gi=new Proxy(gi,{get:));let wi,Si=Date.now;unction _i(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}-9]{12}/.test(Date.now().toString())||(Si=;i=((Ni||{}),Pi=((Pi||{}),Bi=((Bi||{}),Ui=((Ui||{});function zi(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(e=n,n=i(n)):"call"!==s&&"optionalCall"!==s||(n=i(((...t)=>n.call(e,...t))),e=void 0)}return n}nst Wi=;nst eo=function no(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(e=n,n=i(n)):"call"!==s&&"optionalCall"!==s||(n=i(((...t)=>n.call(e,...t))),e=void 0)}return n}const ro=[];nction oo({mouseInteractionCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(!1===o.mouseInteraction)return()=>{};const a=!0===o.mouseInteraction||void 0===o.mouseInteraction?{}:o.mouseInteraction,c=[];let u=null;return Object.keys(Bi).filter(().forEach((o=>{let a=Bs(o);const l=(e=>o=>{const a=so(o);if(Ci(a,r,s,i,!0))return;let c=null,l=e;if("pointerType"in o){switch(o.pointerType){case"mouse":c=Ui.Mouse;break;case"touch":c=Ui.Touch;break;case"pen":c=Ui.Pen}c===Ui.Touch&&(Bi[e]===Bi.MouseDown?l="TouchStart":Bi[e]===Bi.MouseUp&&(l="TouchEnd"))}else Oi(o)&&(c=Ui.Touch);null!==c?(u=c,(l.startsWith("Touch")&&c===Ui.Touch||l.startsWith("Mouse")&&c===Ui.Mouse)&&(c=null)):Bi[e]===Bi.Click&&(c=u,u=null);const h=Oi(o)?o.changedTouches[0]:o;if(!h)return;const f=n.getId(a),{clientX:d,clientY:p}=h;eo(t)({type:Bi[l],id:f,x:d,y:p,...null!==c&&{pointerType:c}})})(o);if(window.PointerEvent)switch(Bi[o]){case Bi.MouseDown:case Bi.MouseUp:a=a.replace("mouse","pointer");break;case Bi.TouchStart:case Bi.TouchEnd:return}c.push(mi(a,l,e))})),eo((()=>{c.forEach((t=>t()))}))}onst co=["INPUT","TEXTAREA","SELECT"],uo=new WeakMap; bo(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(e=n,n=i(n)):"call"!==s&&"optionalCall"!==s||(n=i(((...t)=>n.call(e,...t))),e=void 0)}return n};const Io=new Fs;function Eo(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:h=null,maskTextSelector:f=null,unmaskTextSelector:d=null,inlineStylesheet:p=!0,maskAllInputs:m,maskInputOptions:y,slimDOMOptions:g,maskAttributeFn:v,maskInputFn:b,maskTextFn:k,packFn:w,sampling:S={},dataURLOptions:T={},mousemoveWait:_,recordCanvas:x=!1,recordCrossOriginIframes:C=!1,recordAfter:I=("DOMContentLoaded"===t.recordAfter?t.recordAfter:"load"),userTriggeredOnInput:E=!1,collectFonts:O=!1,inlineImages:A=!1,plugins:R,keepIframeSrcFn:M=(()=>!1),ignoreCSSAttributes:D=new Set([]),errorHandler:$,onMutation:L,getCanvasManager:j}=t;Zi($);const F=!C||window.parent===window;let N=!1;if(!F)try{window.parent.document&&(N=!1)}catch(t){N=!0}if(F&&!e)throw new Error("emit function is required");void 0!==_&&void 0===S.mousemove&&(S.mousemove=_),Io.reset();const P=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==y?y:{},B=!0===g||"all"===g?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===g,headMetaDescKeywords:"all"===g}:g||{};let U;!);let z=0;const H=q=W=t=>{q(xo({type:Ni.IncrementalSnapshot,data:{source:Pi.Mutation,...t}}))},K=t=>q(xo({type:Ni.IncrementalSnapshot,data:{source:Pi.Scroll,...t}})),J=t=>q(xo({type:Ni.IncrementalSnapshot,data:{source:Pi.CanvasMutation,...t}})),X=new To({mutationCb:W,adoptedStyleSheetCb:t=>q(xo({type:Ni.IncrementalSnapshot,data:{source:Pi.AdoptedStyleSheet,...t}}))}),G=new ko({mirror:Io,mutationCb:W,stylesheetManager:X,recordCrossOriginIframes:C,wrappedEmit:q});for(const t of R||[])t.getMirror&&t.getMirror({nodeMirror:Io,crossOriginIframeMirror:G.crossOriginIframeMirror,crossOriginIframeStyleMirror:G.crossOriginIframeStyleMirror});const Y=new _o,V=j,{mirror:Io,win:window,mutationCb:t=>q(xo({type:Ni.IncrementalSnapshot,data:{source:Pi.CanvasMutation,...t}})),recordCanvas:x,blockClass:s,blockSelector:i,unblockSelector:o,sampling:S.canvas,dataURLOptions:T}),Q=new wo({mutationCb:W,scrollCb:K,bypassOptions:{onMutation:L,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:P,dataURLOptions:T,maskAttributeFn:v,maskTextFn:k,maskInputFn:b,recordCanvas:x,inlineImages:A,sampling:S,slimDOMOptions:B,iframeManager:G,stylesheetManager:X,canvasManager:V,keepIframeSrcFn:M,processedNodeManager:Y},mirror:Io}),Z=Co=Z;try{const t=[],e=G.addLoadListener(();const n=return"interactive"===document.readyState||"complete"===document.readyState?n():(t.push(mi("DOMContentLoaded",(()=>{q(xo({type:Ni.DomContentLoaded,data:{}})),"DOMContentLoaded"===I&&n()}))),t.push(mi("load",(,window))),catch(t){console.warn(t)}}Eo.mirror=Io,Eo.takeFullSnapshot=unction Ao(t){return t>9999999999?t/1e3:t}Lo;nst No=["A","BUTTON","INPUT"]; zo;!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(zo||(zo={}));const Ho=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);onst Wo=t=>e=>{if(!t.isEnabled())return;const n=e);if(!n)return;const r="click"===e.name,s=r?e.event:void 0;var i,o,a;!(r&&t.clickDetector&&s&&s.target)||s.altKey||s.metaKey||s.ctrlKey||s.shiftKey||(i=t.clickDetector,o=n,a=Do(e.event),i.handleClick(o,a)),Ro(t,n)};nst Xo={resource:paint:navigation:;ea{t type(){return"worker"}ensureReady(){return this.he.ensureReady()}destroy(){this.he.destroy()}inish(){return this.ge()}clear(){this.me=null,this.le=0,this.hasCheckout=!1,this.he.postMessage("clear").then(null,(t=>{}))}getEarliestTimestamp(){return this.me}nction ra({useCompression:t,workerUrl:e}){if(t&&window.Worker){const t=function(t){try{const e=t||);if(!e)return;const n=new Worker(e);return new na(n)}catch(t){}}(e);if(t)return t}return new Zo}ion ma(t,e,n){if(!t.eventBuffer)return null;try{n&&"buffer"===t.recordingMode&&t.eventBuffer.clear(),n&&(t.eventBuffer.hasCheckout=!0);const r=function(t,e){try{if("function"==typeof e&&function(t){return t.type===Ni.Custom}(t))return e(t)}catch(t){return null}return t}(e,t.getOptions().beforeAddRecordingEvent);if(!r)return;return await t.eventBuffer.addEvent(r)}catch(e){const n=e&&e instanceof Qo?"addEventSizeExceeded":"addEvent";await t.stop({reason:n});const r=Ke();r&&r.recordDroppedEvent("internal_sdk_error","replay")}}nction va(t){return"transaction"===t.type}function ba(t){return"feedback"===t.type}nction Sa(t,e=!1){const n=e?ka(t):void 0;return Object.assign(((e,r)=>{if(!t.isEnabled())return e;if(function(t){return"replay_event"===t.type}(e))return delete e.breadcrumbs,e;if(!ga(e)&&!va(e)&&!ba(e))return e;if(!t.checkAndHandleExpiredSession())return e;if(ba(e))return t.flush(),e.contexts.feedback.replay_id=t.getSessionId(),t,e),e;if(e,r)&&!t.getOptions()._experiments.captureExceptions)return null;const s=t,e);return(s||"session"===t.recordingMode)&&(e.tags={...e.tags,replayId:t.getSessionId()}),n&&n(e,{statusCode:200}),e}),{id:"Replay"})}nction xa(t,e){t.isEnabled()&&(null!==e&&(lr(e.name,Ke())||t.addUpdate(()))}nction Ea(t){try{if("string"==typeof t)return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[$a(t)];if(!t)return[void 0]}catch(t){return[void 0,"BODY_PARSE_ERROR"]}return[void 0,"UNPARSEABLE_BODY_TYPE"]} function ja(t,e,n){try{const r=await async function(t,e,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=e,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=t.data,h=La(o,n.networkDetailAllowUrls)&&!La(o,n.networkDetailDenyUrls),f=}(n,e.input,u):Ra(u),d=await async function(t,{networkCaptureBodies:e,textEncoder:n,networkResponseHeaders:r},s,i){if(!t&&void 0!==i)return Ra(i);const o=s?Na(s.headers,r):{};if(!s||!e&&void 0!==i)return Ma(o,i,void 0);const[a,c]=await async function(t){const }(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{const t=awai}(e);return[t]}catch(t){return[void 0,"BODY_PARSE_ERROR"]}}(s),u=function(t,{networkCaptureBodies:e,textEncoder:n,responseBodySize:r,captureDetails:s,headers:i}){try{const o=t&&t.length&&void 0===r?Ca(t,n):r;return s?Ma(i,o,e?t:void 0):Ra(o)}catch(t){return Ma(i,r,void 0)}}(a,{networkCaptureBodies:e,textEncoder:n,responseBodySize:i,captureDetails:t,headers:o});if(c)return Oa(u,c);return u}(h,n,e.response,l);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:c,request:f,response:d}}(t,e,n),s=Aa("resource.fetch",r);xa(n.replay,s)}catch(t){sync function Ba(t,e,n){try{const r=function(t,e,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=e,{url:c,method:u,status_code:l=0,request_body_size:h,response_body_size:f}=t.data;if(!c)return null;if(!a||!La(c,n.networkDetailAllowUrls)||La(c,n.networkDetailDenyUrls)){return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:Ra(h),response:Ra(f)}}const d=a.__sentry_xhr_v3__,p=d?Da(d.request_headers,n.networkRequestHeaders):{},m=D}(a),n.networkResponseHeaders),[y,g]=n.networkCaptureBodies?Ea(o):[void 0],[v,b]=n.networkCaptureBodies?function(t){try{return[t.responseText]}catch(t){}try{return function(t,e){try{if("string"==typeof t)return[t];if(t instanceof Document)return[t.body.outerHTML];if("json"===e&&t&&"object"==typeof t)return[JSON.stringify(t)];if(!t)return[void 0]}catch(t){return[void 0,"BODY_PARSE_ERROR"]}return[void 0,"UNPARSEABLE_BODY_TYPE"]}(t.response,t.responseType)}catch(t){}return[void 0]}(a):[void 0],k=Ma(p,h,y),w=Ma(m,f,v);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:g?Oa(k,g):k,response:b?Oa(w,b):w}}(t,e,n),s=Aa("resource.xhr",r);xa(n.replay,s)}catch(t){}function za(t){const e=Ke();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a}=t.getOptions(),c={replay:t,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a};e&&e.on?e.on("beforeAddBreadcrumb",((t,e)=>function(t,e,n){if(!e.data)return;try{(function(t){return"xhr"===t.category})(e)&&function(t){return t&&t.xhr}(n)&&(Ua(e,n,t),Ba(e,n,t)}(e)}(n)&&}(e,n,t),ja(e,n,t))}catch(t){}}(c,t,e))):(T}(t)),P}(t)))}catch(t){}}let Ha=null;const q}}}}function Ja(t){let e=!1;return(n,r)=>{if(!t.checkAndHandleExpiredSession())return;const s=r||!e;e=!0,t.clickDetector&&Bo(t.clickDetector,n),t.addUpdate((()=>{if("buffer"===t.recordingMode&&s&&t.setInitialState(),!pa(t,n,s))return!0;if(!s)return,!1)}(t,s),t.session&&t.session.previousSessionId)return!0;if("buffer"===t.recordingMode&&t.session&&t.eventBuffer){const e=t.eventBuffer.getEarliestTimestamp();e&&(new Date(e),t.getOptions()._experiments.traceInternals,t.session.started=e,t.getOptions().stickySession&&ca(t.session))}return"session"===t.recordingMode&&t.flush(),!0}))}}async function Xa({recordingData:t,replayId:e,segmentId:n,eventContext:r,timestamp:s,session:i}){corn n}({recordingData:t,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,h=Ke(),f=Je(),d=h&&h.getTransport(),p=h&&h.getDsn();if(!(h&&d&&p&&i.sampled))return;const m={type:"replay_event",replay_start_timestamp:l/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:e,segment_id:n,replay_type:i.sampled},y="},i}({scope:f,client:h,replayId:e,event:m});if(!y)return void h.recordDroppedEvent("event_processor","replay",m);delete y.sdkProcessingMetadata;coe]])}(y,o,p,h.getOptions().tunnel);let v;try{v=await d.send(g)}catch(t){const e=new Error(Cs);try{e.cause=t}catch(t){}throw e}if(!v)return v;if("number"==typeof v.statusCode&&(v.statusCode<200||v.statusCode>=300))throw new Ga(v.statusCode);const b=we({},v);if(ke(b,"replay"))throw new Ya(b);ret=t}}async function Va(t,e={count:0,interval:5e3}){const{recordingData:n,options:r}=t;if(n.length)try{return await Xa(t),!0}catch(n){if(n instanceof Ga||n instanceof Ya)throw n;if(qe("Replays",{_e:e.count}),e.count>=3){const t=new Error("Unable to send Replay - max retries exceeded");try{t.cause=n}catch(t){}throw t}return e.interval*=++e.count,new Proval)}))}}const Qa="__THROT.i)}}cla,s))}getContext(){return this.Oe}isEnabled(){return this.Ce}isPaused(){return thvas)}getOptions(){return this.Re}initializeSampling(t){const{errorSampleRate:e,sessionSampleRate:n}=this.Re;e<=0&&n<=0||(this.Le(t),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",this.je()):this.Fe(new Error("Unable to initialize and create session")))}start(){if(this.Ce&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this.Ce&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");const t=da({maxReplayDuration:this.Re.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this.Re._experiments.traceInternals},{stickySession:this.Re.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.je()}startBuffering(){if(this.Ce)throw new Error("Replay recording is already in progress");const t=da({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this.Re.maxReplayDuration,traceInternals:this.Re._experiments.traceInternals},{stickySession:this.Re.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this!1}}async stop({forceFlush:t=!1,reason:e}={}){if(this.Ce){this.Ce=!1;try{this.Be(),this.stopRecording(),this.Me.cancel(),t&&await this.De({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,ia(this)}catch(t){this.Feg())}resume(){this.Ie&&this.Ue()&&(this.Ie=!1,this.startRecording())}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const e=Date.now();await this.flushImmediate();const n=this.stopRecording();t&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this.ze(e),this.He(e),this.qe()),this.startRecordirrentRoute(){const t=this.lastTransaction||Je().getTransaction(),e=(t&&je(t).data||{})["sentry.source"];if(t&&e&&["route","custom"].includes(e))return je(t).descriinit2(){this.Ge=()=>{const t=Uo({category:"ui.blur"});this.t an(){const t=this.getSessionId();if(this.session&&this.eventBuffer&&t&&(await this.nn(),this.eventBuffer&&this.eventBuffer.hasEvents&&(n[]}}(this),this.eventBuffer&&t===this.getSessionId())))try{this.rn();const e=Date.now();if(e-this.Oe.initialTimestamp>this.Re.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this.sn(),r=this.session.segmentId++;this.qe();const s=await this.eventBuffer.finish();await Va({replayId:t,recordingData:s,segmentId:r,eventContext:n,session:this.session,options:this.getOptions(),timestamp:e})}catch(t){this.Fe(t),this.stop({reason:"sendReplay"});const e=Ke();e&&e.recordDroppedEvent("send_error","replay")}}__init5(){this.De=async({force:t=!1}={})=>{if(!this.Ce&&!t)return;if(!this.checkAndHandleExpiredSession())return;if(!this.session)return;const e=this.session.started,n=Date.now()-e;this.Me.cancel();const r=n<this.Re.minReplayDuration,s=n>this.Re.maxReplayDuration+5e3;if(r||s)r&&this.Me();else{if(!this.cn)return this.cn=this.an(),await this.cn,void(this.cn=void 0);try{await this.cn}catch(t){}finally{this.Me,")}const nc='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',rc=["content-length","content-type","accept"];let sc=!1;cla}start(){this._replay&&this._replay.stdn(){try{const t=Ke().getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch()))]}ic.__initStatic();const ac=_;letconst mc=/Minified React error #\lass Tc extends }getDsn(){return this.vn}getOptions(){return the.ht}getTransport(){return th)){const s=this.getOptions(),i=Object.keys(this._integrations);return!e.integrations&&i.length>0&&(e.integrations=i),this.emit("preprocessEvent",t,e),Ne(s,t,e,n,this,r).then((t=>{if(null===t)return t;const e={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(t.contexts&&t.contexts.trace)&&e){const{traceId:r,spanId:s,parentSpanId:i,dsc:o}=e;t.contexts={trace:{trace_id:r,span_id:s,parent_span_id:i},...t.contexts};const a=o||Ze(r,this,n);t.sdkProcessingMetadata={dynamicSamplingContext:a,...t.sdkProcessingMetadata}}return))}const Ir),s}const Oc=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ac=/\((\S*)(?::(\d+))(?::(\d+))\)/,R 0)}}],Mc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Dc=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,$ 0)}}],Lc=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,jid 0}],Fc=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Nid 0}],Pc=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Bid 0}],Uc=[Rc,$c,jc],zc=V(...Ut,e]},qc=1024,Wc="Breadcrumbs",Kc=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:Wc,setupOnce(){},setup(t){e.conl})}}(t)),e.dom&&gt(function(t,e){return function(n){if(Ke()!==t)return;let r,s,i="object"==typeof e?e.serializeAttribute:void 0,o="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;o&&o>qc&&(o=qc),"string"==typeof i&&(i=[i]);try{const t=n.evrget}(t)?t.target:t;r=E(e,{keyAttrs:i,maxStringLength:o}),s=A(e)}catch(t){r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};s&&(a.data={"ui.component_name":s}),He(a,{event:n.event,name:n.name,global:n.global})}}(t,e.dom)),e.xhr})}}(t)),e.fetc})}}}(t)),e.histor}})}}(t)),e.sentry&&t.on&&t.on("beforeSendEe})}}(t))}}},Jc=Zn(Wc,Kc);const Xc="Dedupe",Gc=()=>{let t;return{name:Xc,setupOnce(){},proces t=e}}},Yc=Zn(X}}const eu="GlobalHandlers",nu=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:eu,sett=50},setup(t){e.one)}))}(t),e.onunhandledrejec)}))}(t)}}},ru=Zn(e!1}}const ou="HttpContex=i}}),cu=Zn(ou,au),uu="LinkedErrorr)}}},hu=Zn(uu,lu),fu=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],du="TryCatc)}}}},mu=Zn(d)}const ku=[mr(),wr(),pu(),Kc(),nu(),lu(),Gc(),.ku]}var Su=Object.freeze({__proto__:null,GlobalHandlers:ru,TryCatch:mu,Breadcrumbs:Jc,LinkedErrors:hu,HttpContext:cu,Dedupe:Yc});let Tu={};ac.Sentry&&ac.Sentry.Integrations&&(Tu=ac.Sentry.Integrations);const _u={...Tu,...Rr,...Su};return _u.Replay=ic,_u.BrowserTracing=ws,Ts(),t.Breadcrumbs=Jc,t.BrowserClient=Tc,t.BrowserTracing=ws,t.Dedupe=Yc,t.Feedback=_e,t.FunctionToString=Sr,t.GlobalHandlers=ru,t.HttpContext=cu,t.Hub=hn,t.InboundFilters=yr,t.Integrations=_u,t.LinkedErrors=hu,t.Replay=ic,t.SDK_VERSION=cn,t.Scope=on,t.Span=On,t.TryCatch=mu,t.WINDOW=ac,t.addBreadcrumb=He,t.addEventProcessor=ir,t.addExtensionMethods=Ts,t.addGlobalEventProcessor=Ie,t.addIntegrn(t)},t.breadcrumbsIntegration=Kc,t.browserApiErrorsIntegration=pu,t.browserTracingIntegration=function(t={}){const e=t;return"boolean"==typeof t.markBackgroundSpan&&(e.markBackgroundTransactions=t.markBackgroundSpan),"boolean"==typeof t.instrumentPageLoad&&(e.startTransactionOnPageLoad=t.instrumentPageLoad),"boolean"==typeof t.instrumentNavigation&&(e.startTransactionOnLocationChange=t.instrumentNavigation),new ws(e)},t.captureEvent=ze,t.captureException=captureException,t.captureMen,r)},t.captureUserFeek(t)},t.chromeStackLineParser=Rc,t.close=async function(t){const e=Ke();return e?e.close(t):Promise.resolve(!1)},t.configureScope=function(t){pn().configureScope(t)},t.continueTrace=function({sentryTrace:t,baggage:e},n){const r=Je(),{traceparentData:s,dynamicSamplingContext:i,propagationContext:o}=ce(t,e);r.setPropagationContext(o);const a={...s,metadata:J({dynamicSamplingContext:i})};return n?n(a):a},t.createTransport=cr,t.createUserFeedbackEnvelope=Sc,t.dedupeIntegration=Gc,t.defaultIntegrations=ku,t.defaultStackLineParsers=Uc,t.defaultStackParser=zc,t.eventFromException=gc,t.eventFromMessage=vc,t.exceptionFromError=fc,t.feedbackIntegr({})},t.(!1)},t.forcn(){},t.functionToStringIntegration=wr,t.geckoStackLineParser=$c,t.getActiveSpan=Hn,t.getClient=Ke,t.getCurrentHub=pn,t.getCurrentScope=Je,t.getDefaultIntegrations=wu,t.getHubFromCarrier=gn,t.globalHandlersIntegration=nu,t.httpContextIntegration=au,t.inboundFiltersIntegration=mr,t.init=function(t={}){void 0===t.defaultIntegrations&&(t.defaultIntegrations=wu()),void 0===t.release&&("string"==typeof __SENTRY_RELEASE__&&(t.release=__SENTRY_RELEASE__),ac.SENTRY_RELEASE&&ac.SENTRY_RELEASE.id&&(t.release=ac.SENTRY_RELEASE.id)),void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),void 0===t.sendClientReports&&(t.sendClientReports=!0);const e={...t,stackParser:(n=t.stackParser||zc,Array.isArray(n)?V(...n):n),integrations:Yn(t),transport:t.transport||(wt()?xc:Cc)};var n;!function(t,e){!0===e.debue.")})),Je().update(e.initialScope);const n=new t(e);ns()}(n)}(Tc,e),t.autoSessionTrac)}))}()},t.isInitiaKe()},t.lastEvId()},t.linkedErrorsIntegration=lu,t.makeFetchTransport=xc,t.makeMain=dn,t.makeXHRTransport=Cc,t.metrics=Ar,t.o{t()},t.opera10StackLineParser=Nc,t.opera11StackLineParser=Bc,t.paramet=e,n},t.replayIntegric(t),t.setContext=qe,t.setCurrentClient=ar,t.setExtra=function(t,e){pn().setExtra(t,e)},t.setExtras=function(t){pn().setExtras(t)},t.st,e)},t.setTags=function(t){pn().setTags(t)},t.ser(t)},t.showReportDd(i)},t.startInactiveSpan=zn,t.startSpan=function(t,e){const n=Wn(t);return yn((()=>We(t.scope,(r=>{const s=pn(),i=r.getSpan(),o=t.onlyIfParent&&!i?void 0:qn(s,i,n);return r.setSpan(o>e(o)),(()=>{if(o){const{status:t}=je(o);t&&"ok"!==t||o.setStatus("internal_error"end()))}))))},t.startSpanManual=function(t,e){const n=Wn(t);return yn((()=>We(t.scope,(r=>{const s=pn(),i=r.getSpan(),o=t.onlyIfParent&&!i?void 0:qn(snd()}return r.setSpan(o(o,a)),(()=>{if(o&&o.isRecording()){const{status:t}=je(o);t&&"ok"!==t||o.setStatus("internal_error")}}))}))))},t.startTransa},e)},t.winjsStackLineParser=jc,t.withIsolationScope=function(t){returmn())))},t.withScope=We,tt)()},t}({});
//# sourceMappingURL=bundle.tracing.replay.min.js.map
