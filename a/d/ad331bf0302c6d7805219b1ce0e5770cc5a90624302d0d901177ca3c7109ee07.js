(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5371,34273],{34273:function(e){e.exports=,2704:function(e,n,r){"use strict";var o=r(52322),t=r(31504),s=r(50045),i=r(81730),a=r(37881),l=r(20194),d=r(12556),c=r(91077);n.Z=function(e){var n=e.email,r=e.onRedirect,u=e.isSettingModal,v=void 0!==u&&u,g=e.onClose,h=e.setIsEnableGa,m=e.setIsCheckYourEmail,p=e.isEnableGa,f=(0,l.Z)().t;return(0,o.jsxs)(s.yn,{style:{paddingTop:6,paddingBottom:0},children:[(0,o.jsx)("img",{src:(0,t.ZP)("/cloud/img/login/check.svg")}),(0,o.jsx)(s.X0,{style:{paddingTop:0},children:f("You\u2019ve got mail :)")}),(0,o.jsxs)(s.xF,{children:[f("Instructions have been sent to"),"\xa0",(0,o.jsx)("b",{style:{color:"var(--text-color)"},children:(0,c.ou)(n||"")}),". \xa0"]}),(0,o.jsx)(a.ZP,{children:f("* If you don\u2019t see it in Inbox, try the Junk Mail/Spam folder. Otherwise, make sure you entered the same e-mail address you used to sign in.")}),v?(0,o.jsx)(s.md,{children:(0,o.jsx)(i.ZP,{variant:"primary",onClick:g,fullWidth:!0,size:"lg",children:f("Got it")})}):(0,o.jsx)(s.md,{children:(0,o.jsx)(i.ZP,{variant:"primary",onClick:function(){r(d.oq.login)},fullWidth:!0,size:"lg",children:f("Return to login")})}),p&&(0,o.jsx)("a",{style:{display:"block",marginTop:12,textAlign:"center",fontWeight:600,fontSize:"14px"},onClick:children:f("Try Google Authenticator")})]})}},94424:function(e,n,r){"use strict";r.d(n,{Z:function(){return F}});var o=r(22710),t=r(5163),s=r(52322),i=r(20194),a=r(50045),l=r(45894),d=r(81730),c=r(54627),u=r(89169),v=r(43961),g=r(45956),h=r(68701),m=r(2784),p=r(12556),f=r(35475),w=r(78250),y=r(99503),j=r(25084),x=r(78320),P=r(37881),C=r(69994),b=r(17980),E=r(87612),Z=r(51374),_=r(70670),S=function(e){var n=e.onDone,r=e.onClickSwitchMethod,l=e.title,c=e.signature,v=e.fetchSecuritySetting,g=e.isEnableGa,h=e.module,p=(0,i.Z)().t,y=(0,m.useState)(!1),j=y[0],S=y[1],R=(0,m.useState)(!g),k=R[0],A=R[1],I=(0,m.useState)(""),N=I[0],T=I[1],q=(0,b.L)(),F=(0,m.useContext)(E.gX).userInfo,L=(0,m.useState)(!1),D=L[0],Y=L[1],G=!!(null===F||void 0===F?void 0:F.id),O=!(null===F||void 0===F?void 0:F.email),z=function(){var e=(0,o.Z)((function(e){var r,o,s,i,a,l;return(0,t.__generator)(this,(function(t){switch(t.label){case 0:e.preventDefault(),S(!0),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,f.BB)({action:2,step:2,authenticatorCode:N,module:h||(G?2:5),signature:G?null:c,deviceId:q})];case 2:return(null===(s=t.sent())||void 0===s||null===(r=s.data)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.result)?(n({verifyCode:N}),[3,4]):(S(!1),(l=_.nl[null===s||void 0===s||null===(i=s.data)||void 0===i||null===(a=i.status)||void 0===a?void 0:a.error_code])?[2,(0,w.v)({type:"error",title:p(l)})]:[2,(0,w.v)({type:"error",title:p("Validation failed")})]);case 3:return t.sent(),(0,w.v)({type:"error",title:p("Please check ga verification")}),S(!1),[3,4];case 4:return[2]}}))}));return ();return D?(0,s.jsx)(Z.Q,{type:_.ex.SET_GA,visible:k,setVisible:A,isMissingEmailPassword:O,onDone:signature:c,module:h}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("form",{onSubmit:z,children:[(0,s.jsx)(a.gI,{style:{marginBottom:4},children:l}),(0,s.jsx)(a.Ff,{style:{marginBottom:24},children:p("Open Google Authenticator on your trusted device to get this 6-digit code. ")}),(0,s.jsx)(x.Z,{children:(0,s.jsxs)(P.ZP,{textAlign:"center",fontWeight:700,children:[p("Enter Authenticator verification code")," "]})}),(0,s.jsx)(x.Z,{className:"verify-input",display:"flex",justifyContent:"center",my:3,children:(0,s.jsx)(C.Z,{fields:6,onChange:T,autoFocus:!0})}),(0,s.jsx)(x.Z,{mt:2,children:(0,s.jsx)(a.md,{children:(0,s.jsx)(d.ZP,{variant:"primary",className:j?"loading":"",fullWidth:!0,size:"lg",icon:j?u.Z:null,disabled:N.length<6,children:p("Confirm")})})})]}),(0,s.jsxs)(a.yi,{children:[p("Still can\u2019t get code?"),(0,s.jsxs)("a",{onClick:children:["\xa0",p("Verify with e-mail")]})]})]})},R=r(2704),k=r(71407),A=r(55790),I=r(46364),N=r(91077),T=r(58740),q=function(e){var n=e.isSettingModal,r=e.onRedirect,o=e.t,t=e.email,i=e.errors,v=e.setFields,g=e.onKeyDown,h=e.loading,m=e.onSubmit,f=e.isEnableGa,w=e.setIsShowGaMethod;return(0,s.jsxs)(s.Fragment,{children:[!n&&(0,s.jsx)("div",{style:{cursor:"pointer"},children:(0,s.jsx)(c.Z,{onClick:function(){return r(p.oq.login)}})}),(0,s.jsx)(a.X0,{children:o(n?"Reset password":"Forgot your password?")}),(0,s.jsx)(a.xF,{style:{lineHeight:"20px"},children:o(n?"You will receive instructions via e-mail on how to reset your password. Create a new password if this is your first time doing so.":"Enter your email below, you will receive an email with instructions on how to reset your password in a few minutes. You can also set a new password if you\u2019ve never set one before.")}),(0,s.jsxs)(a.ob,{children:[(0,s.jsx)("div",{className:"label",children:o("Enter your e-mail address")}),(0,s.jsx)(l.Z,{disabled:!!n,autoFocus:!0,type:"email",placeholder:o("Enter your e-mail address"),size:"lg",value:n?(0,N.ou)(t):t,error:!!i.email,onChange:function(e){return v({email:e.target.value})},onKeyDown:g}),(0,s.jsx)(a.jj,{error:i.email})]}),(0,s.jsx)(a.md,{children:(0,s.jsx)(d.ZP,{disabled:!t||h,className:h?"loading":"",variant:"primary",onClick:m,fullWidth:!0,size:"lg",icon:h?u.Z:null,children:o(h?"Sending":"Send Instructions")})}),f&&(0,s.jsx)(a.no,{onClick:children:o("Try Google Authenticator")})]})},F=function(e){var n=e.onRedirect,r=e.isSettingModal,a=void 0!==r&&r,l=e.userEmail,d=e.isEnableGaParam,u=void 0!==d&&d,x=e.updatePwdDone,P=e.isHideArrow,C=void 0!==P&&P,E=(0,i.Z)().t,Z=(0,m.useState)(!1),_=Z[0],N=Z[1],F=(0,m.useState)(!1),L=F[0],D=F[1],Y=(0,m.useState)(u),G=Y[0],O=Y[1],z=(0,m.useState)(!1),M=z[0],W=z[1],V=(0,m.useState)(!1),H=V[0],K=V[1],X=(0,m.useState)(""),U=X[0],B=X[1],J=(0,A.Z)((function(){return"".concat((0,b.L)(),",").concat(null===window||void 0===window?void 0:window.sensors.quick("getAnonymousID"))}),(0,b.L)()),Q=(0,m.useRef)(!0),$=(0,h.Z)({email:a?l:""},{email:[{required:!0,message:E("Email address cannot be empty")},{type:"email",message:E("The email you entered is not in the correct format. Please check.")}]}),ee=$.form,ne=$.setFields,re=$.validate,oe=$.errors,te=($.setErrors,$.isValid,ee.email),se=function(){var e=(0,o.Z)((function(){var e,r;return(0,t.__generator)(this,(function(o){return e=re(),r=e.errors,e.isValid?(N(!0),f.f6({email:te}).then((function(e){var r;if("0"===(null===e||void 0===e||null===(r=e.status)||void 0===r?void 0:r.error_code))a?n(te):W(!0);else{var o,t,s,i=null===e||void 0===e||null===(o=e.status)||void 0===o?void 0:o.error_message;(0,w.v)({title:i,type:"error"}),(0,y.ir)(i),j.ZP.sendEvent({category:"Login/Register Panel",action:"ForgotPassword_APP_Error",json_data:{Code:"".concat(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.error_code," ").concat(null===e||void 0===e||null===(s=e.status)||void 0===s?void 0:s.error_message)}})}})).catch((function(e){var n;j.ZP.sendEvent({category:"Login/Register Panel",action:"API_Error",json_data:{Code:(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)||(null===e||void 0===e?void 0:e.code),Type:"ForgotPassword"}}),(0,w.v)({title:e.message,type:"error"})})).finally((function(){N(!1)}))):(j.ZP.sendEvent({category:"Login/Register Panel",action:"ForgotPassword_APP_Error",json_data:{Code:"fe:".concat(JSON.stringify(r))}}),(0,y.i0)(r)),[2]}))}));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=(0,o.Z)((function(){var e;return(0,t.__generator)(this,(function(n){return(null===(e=(0,g.rm)())||void 0===e?void 0:e.id)||!1===Q.current?(se(),[2]):(ae(),[2])}))}));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=(0,o.Z)((function(){var e,n,r,o,s;return(0,t.__generator)(this,(function(t){switch(t.label){case 0:return[4,f.sP({email:te,deviceId:J,module:5})];case 1:return o=t.sent().data,Q.current=null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.needAuth,(null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.needAuth)?[0,1].includes(null===o||void 0===o||null===(s=o.data)||void 0===s?void 0:s.authMethod)?(D(!0),O(!0)):(D(!1),se()):se(),B(null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.signature),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){var e,n=(0,g.rm)(),r=null===(e=(0,g.rm)())||void 0===e?void 0:e.isEnableGa;if(null===n||void 0===n?void 0:n.id)if(r)D(!0);else{if((0,I.aL)())return;(0,f.O5)({deviceId:J}).then((function(e){var n,r,o,t,s;if(e){var i,a,l=e.data;if("0"!==(null===(n=l.status)||void 0===n?void 0:n.error_code))return(0,w.v)({title:null===e||void 0===e||null===(i=e.data)||void 0===i||null===(a=i.status)||void 0===a?void 0:a.error_message,type:"error"});D(!!(null===(r=l.data)||void 0===r||null===(o=r.securitySetting)||void 0===o?void 0:o.googleAuthenticator)),O(!!(null===(t=l.data)||void 0===t||null===(s=t.securitySetting)||void 0===s?void 0:s.googleAuthenticator))}}))}}),[]),M?(0,s.jsx)(R.Z,{setIsEnableGa:O,setIsCheckYourEmail:W,onRedirect:n,email:te,isEnableGa:L}):H?(0,s.jsx)(k.Z,{module:5,email:te,signature:U,onRedirect:n,onDone:function(){x&&x(),W(!1),a||(0,I.aL)()||n(p.oq.passwordChangedOk)}}):G?(0,s.jsxs)(s.Fragment,{children:[!C&&(0,s.jsx)("div",{style:{cursor:"pointer"},children:(0,s.jsx)(c.Z,{onClick:)}),(0,s.jsx)(S,{onDone:function(){(0,v.qQ)(T.qc,!0),K(!0),W(!1)},onClickSwitchMethod:title:E("Forgot your password?"),signature:U,isEnableGa:L&&Q.current,module:5})]}):(0,s.jsx)(q,{isSettingModal:a,onRedirect:n,t:E,email:te,errors:oe,setFields:ne,onKeyDown:function(e){"Enter"===e.key&&te&&ie()},loading:_,onSubmit:ie,isEnableGa:L,setIsShowGaMethod:O})}},71407:function(e,n,r){"use strict";var o=r(22710),t=r(5163),s=r(52322),i=r(2784),a=r(81730),l=r(89169),d=r(45894),c=r(78250),u=r(68701),v=r(20194),g=r(90850),h=r(25084),m=r(45956),p=r(53094),f=r(35475),w=r(99503),y=r(12556),j=r(50045);n.Z=function(e){var n=e.onRedirect,r=e.signature,x=e.email,P=e.module,C=e.onDone,b=(0,v.Z)().t,E=(0,i.useState)(!1),Z=E[0],_=E[1],S=(0,m.rm)(),R=(0,u.Z)({password:"",confirmPwd:""},{password:[{required:!0,message:b("New password cannot be empty")},{validator:y.uo,message:b("Password should contain both letters and numbers, with minimum length of 8 characters")}],confirmPwd:[{required:!0,message:b("Confirm new password cannot be empty")},{validator:function(){return k.confirmPwd===k.password},message:b("Passwords do not match. Please check.")}]}),k=R.form,A=R.setFields,I=R.validate,N=R.errors,T=(R.setErrors,R.isValid,k.password),q=k.confirmPwd,F=T&&q,L=function(){var e=(0,o.Z)((function(){var e,o,s,i,a,l,d;return(0,t.__generator)(this,(function(t){switch(t.label){case 0:return e=x,p.ER||r||e?(o=I(),s=o.isValid,i=o.errors,[4,(0,g.qm)(T)]):[2];case 1:if(a=t.sent(),s){if(l=p.ER.email,d=p.ER.key,(!l||!d)&&!r&&!e)return[2];_(!0),f.c4({email:l||e,key:d,shaPassword:a,signature:r,module:P||null,withAuthHeader:!!(null===S||void 0===S?void 0:S.id)}).then((function(e){var r,o;if("0"===(null===e||void 0===e||null===(r=e.status)||void 0===r?void 0:r.error_code))C?C():n(y.oq.passwordChangedOk);else if(null===e||void 0===e||null===(o=e.status)||void 0===o?void 0:o.error_message){var t,s;(0,c.v)({title:e.status.error_message,type:"error"}),(0,w.ir)(e.status.error_message),h.ZP.sendEvent({category:"Login/Register Panel",action:"ForgotPasswordConfirm_APP_Error",json_data:{Code:"".concat(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.error_code," ").concat(null===e||void 0===e||null===(s=e.status)||void 0===s?void 0:s.error_message)}})}})).catch((function(e){var n;h.ZP.sendEvent({category:"Login/Register Panel",action:"API_Error",json_data:{Code:(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)||(null===e||void 0===e?void 0:e.code),Type:"Forgot password and reset confirm"}}),(0,c.v)({title:b("Some issues happened. Please retry."),type:"error"})})).finally(()}else h.ZP.sendEvent({category:"Login/Register Panel",action:"ForgotPasswordConfirm_APP_Error",json_data:{Code:"fe:".concat(JSON.stringify(i))}}),(0,w.i0)(i);return[2]}}))}));return function(){return e.apply(this,arguments)}}(),D=function(e){"Enter"===e.key&&F&&L()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.X0,{children:b("Change your password")}),(0,s.jsx)(j.xF,{children:b("For added security, your new password should have min. 8 characters that contain letters, numbers and symbols. ")}),(0,s.jsxs)(j.ob,{children:[(0,s.jsx)("div",{className:"label",children:b("Enter new password")}),(0,s.jsx)(d.Z,{type:"password",placeholder:b("Enter your new password..."),size:"lg",value:T,error:!!N.password,onChange:function(e){return A({password:e.target.value})},onKeyDown:D}),(0,s.jsx)(j.jj,{error:N.password})]}),(0,s.jsxs)(j.ob,{className:"last",children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{children:b("Confirm new password")})}),(0,s.jsx)(d.Z,{type:"password",placeholder:b("Repeat your new password..."),size:"lg",value:q,error:!!N.confirmPwd,onChange:function(e){return A({confirmPwd:e.target.value})},onKeyDown:D}),(0,s.jsx)(j.jj,{error:N.confirmPwd})]}),(0,s.jsx)(j.md,{children:(0,s.jsx)(a.ZP,{disabled:!F||Z,className:Z?"loading":"",variant:"primary",onClick:L,fullWidth:!0,size:"lg",icon:Z?l.Z:null,children:b(Z?"Updating":"Save new password")})})]})}},80424:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return Q}});var o=r(52322),t=r(12556),s=r(2784),i=r(94424),a=r(22710),l=r(5163),d=r(81730),c=r(89169),u=r(45894),v=r(6794),g=r(78250),h=r(17980),m=r(35475),p=r(87612),f=r(68701),w=r(20194),y=r(90850),j=r(83081),x=r(25084),P=r(55790),C=r(82173),b=r(86818),E=r(5649),Z=r(99503),_=r(58740),S=r(62696),R=r(50045),k=r(35361),A=r(22258),I=s.lazy(();var N=(0,x.a_)("on boarding"),T=function(e){var n=e.onRedirect,r=e.setIsHiddenTitle,i=(0,w.Z)().t,T=(0,s.useState)(!1),q=T[0],F=T[1],L=(0,s.useState)(!1),D=L[0],Y=L[1],G=(0,s.useState)(!1),O=G[0],z=G[1],M=(0,s.useState)(),W=M[0],V=M[1],H=(0,P.Z)((function(){return"".concat((0,h.L)(),",").concat(null===window||void 0===window?void 0:window.sensors.quick("getAnonymousID"))}),(0,h.L)()),K=(0,s.useRef)(),X=(0,s.useContext)(p.gX),U=X.invokeLogin,B=X.setUserInfo,J=(0,f.Z)({email:"",password:""},{email:[{required:!0,message:i("Email address cannot be empty")},{type:"email",message:i("The email you entered is not in the correct format. Please check.")}],password:[{required:!0,message:i("Password cannot be empty")}]}),Q=J.form,$=J.setFields,ee=J.validate,ne=J.errors,re=J.setErrors;J.isValid;(0,s.useEffect)((function(){(0,E.gd)((0,b.eg)(b.gW.recaptchaConfig)),x.ZP.sendEvent({category:"Login",action:"Panel view"})}),[]);var oe=Q.email,te=Q.password,se=oe&&te,ie=function(){var e=(0,a.Z)((function(){var e,n,o,s,a,d,c,u,v,h,p,f,w;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return[4,(0,y.qm)(te)];case 1:a=l.sent(),d={email:oe,shaPassword:a,signature:K.current||null},l.label=2;case 2:return l.trys.push([2,4,,5]),[4,m.x4(d)];case 3:return s=l.sent(),window.signature&&delete window.signature,[3,5];case 4:return c=l.sent(),Y(!1),x.ZP.sendEvent({category:"Login/Register Panel",action:"API_Error",json_data:{Code:(null===c||void 0===c||null===(u=c.response)||void 0===u?void 0:u.status)||(null===c||void 0===c?void 0:c.code),Type:"Login"}}),400!==(null===c||void 0===c||null===(v=c.response)||void 0===v?void 0:v.status)?((0,g.v)({title:i("Some issues happened. Please retry."),type:"error"}),[2]):(de(),[3,5]);case 5:return 0===Number(null===s||void 0===s||null===(e=s.status)||void 0===e?void 0:e.error_code)&&(null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.id)?(x.ZP.sendEvent({category:"Login",action:"Login success toast"}),B(s.data),(0,A.L)(i),j.ZP.emit(j.Vy.userLoginSuccess,s.data),(0,t.uo)(te)?U({action:""}):U({action:"DETECT_CHANGE_PASSWORD"})):_.$4.includes(null===s||void 0===s||null===(o=s.status)||void 0===o?void 0:o.error_code)?function(e,n){if(e===C.j.ACCOUNT_LIMIT)return F(!0),re({email:!0,password:!0}),void(0,Z.ir)(i("Your account has been locked as you've reached the limit of failed attempts."));if(e!==C.j.INVALID_RECAPTURE)if(e!==C.j.SECURITY_ACCOUNT){if([C.j.EMAIL_VERIFY,C.j.GAANDEMAIL_VERIFY].includes(e))return z(!0),void(r&&r(!0));if((0,C.n)(e)){var o=e==C.j.ACC_CREATION_RESTRICTED_ACTION?i("This email is restricted for account creation"):i("The account is restricted for this action");re({email:!0,password:null!==n&&void 0!==n?n:o})}}else(0,g.v)({title:i("For your account security, please click \u201cForgot password\u201d to reset your password before signing in."),type:"error"});else(0,g.v)({title:i("Invalid reCaptcha. Please retry"),type:"error"})}(null===s||void 0===s||null===(h=s.status)||void 0===h?void 0:h.error_code):(x.ZP.sendEvent({category:"Login/Register Panel",action:"Login_APP_Error",json_data:{Code:"".concat(null===s||void 0===s||null===(p=s.status)||void 0===p?void 0:p.error_code," ").concat(null===s||void 0===s||null===(f=s.status)||void 0===f?void 0:f.error_message)}}),de(),(null===s||void 0===s||null===(w=s.status)||void 0===w?void 0:w.error_message)&&(0,Z.ir)(s.status.error_message)),Y(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=(0,a.Z)((function(){var e,n;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:if(N({action:"Onboarding_Popup_Submit",json_data:{deviceId:H,timestamp:(new Date).getTime(),buttonName:"log in"}}),F(!1),!ee().isValid)return[2,(0,Z.i0)(ne)];Y(!0),r.label=1;case 1:return r.trys.push([1,5,,6]),window.signature?(K.current=window.signature,[3,4]):[3,2];case 2:return[4,m.sP({email:oe,deviceId:H,module:3})];case 3:n=r.sent().data,K.current=null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.signature,V(null===n||void 0===n?void 0:n.data),r.label=4;case 4:return ie(),[3,6];case 5:return r.sent(),ie(),[3,6];case 6:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),le=de=function(e){var n=e||i("Your email and password does not match. Please try again.");re({email:!0,password:n}),(0,Z.ir)(n)};return O?(0,o.jsx)(I,{handleLoginLogic:ie,setIsShowTwoFa:z,type:"LoginMode",signData:W,paramEmail:oe,setIsHiddenTitle:r}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(R.ob,{children:[(0,o.jsx)("div",{className:"label",children:i("Email Address")}),(0,o.jsx)(u.Z,{autoFocus:!0,type:"email",placeholder:i("Enter your email address..."),size:"lg",value:oe,error:!!ne.email,onChange:function(e){return $({email:e.target.value})},onKeyDown:le}),(0,o.jsx)(R.jj,{error:ne.email})]}),(0,o.jsxs)(R.ob,{className:"last",children:[(0,o.jsxs)("div",{className:"label",children:[(0,o.jsx)("span",{children:i("Password")}),(0,o.jsx)("span",{className:"label-pwd",onClick:function(){Z.l8.forgotPassword(),n(t.oq.forgotPassword)},children:i("Forgot password?")})]}),(0,o.jsx)(S.Z,{type:"password",placeholder:i("Enter your password..."),size:"lg",value:te,error:!!ne.password,onChange:function(e){return $({password:e.target.value})},onKeyDown:le}),(0,o.jsx)(R.jj,{error:ne.password})]}),q&&(0,o.jsxs)(R.Tv,{children:[(0,o.jsx)("span",{children:i("Your account has been locked as you've reached the limit of failed attempts. Please ")}),(0,o.jsx)("span",{className:"reset-pwd",onClick:function(){n(t.oq.forgotPassword)},children:i("reset your password")}),(0,o.jsx)("span",{children:i("to reactivate the account.")})]}),(0,o.jsxs)(R.md,{children:[(0,o.jsx)(d.ZP,{disabled:!se||D,className:D?"loading":"",variant:"primary",onClick:ae,fullWidth:!0,size:"lg",icon:D?c.Z:null,children:i(D?"Logging":"Log In")}),(0,o.jsx)(k.Z,{setStep:n})]}),(0,o.jsx)(v.Z,{})]})},q=r(71407),F=r(49948),L=function(e){var n=e.onRedirect,r=e.isDetected,i=(0,w.Z)().t,v=((0,F.useDispatch)(),(0,s.useState)(!1)),h=v[0],j=(v[1],(0,s.useState)(!1)),P=j[0],C=j[1],b=(0,s.useContext)(p.gX).userInfo,E=(0,f.Z)({currentPassword:"",password:"",confirmPwd:""},{currentPassword:[{required:(null===b||void 0===b?void 0:b.hasPasswordSet)||!1,message:i("Current password cannot be empty")}],password:[{required:!0,message:i("New password cannot be empty")},{validator:t.uo,message:i("Password should contain both letters and numbers, with minimum length of 8 characters")}],confirmPwd:[{required:!0,message:i("Confirm new password cannot be empty")},{validator:message:i("Passwords do not match. Please check.")}]}),_=E.form,S=E.setFields,k=E.validate,A=E.errors,I=(E.setErrors,E.isValid,_.currentPassword),N=_.password,T=_.confirmPwd,q=(!(null===b||void 0===b?void 0:b.hasPasswordSet)||I)&&N&&T,L=function(){var e=(0,a.Z)((function(){var e,r,o;return(0,l.__generator)(this,(function(s){switch(s.label){case 0:return e=k().isValid,[4,(0,y.qm)(I)];case 1:return r=s.sent(),[4,(0,y.qm)(N)];case 2:return o=s.sent(),e?(C(!0),m.c0({shaPassword:o,oldShaPassword:r}).then((function(e){var r,o,s;if("0"===(null===e||void 0===e||null===(r=e.status)||void 0===r?void 0:r.error_code))n(t.oq.passwordChangedOk);else if("10006"===(null===e||void 0===e||null===(o=e.status)||void 0===o?void 0:o.error_code)){var a=i("The password you entered was incorrect.. Please check.");(0,g.v)({title:a,type:"error"}),(0,Z.ir)(a)}else(null===e||void 0===e||null===(s=e.status)||void 0===s?void 0:s.error_message)&&((0,g.v)({title:e.status.error_message,type:"error"}),(0,Z.ir)(e.status.error_message))})).catch((function(e){var n,r;r={Code:(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)||(null===e||void 0===e?void 0:e.code),Type:"ChangePassword"},x.ZP.sendEvent({category:"Login/Register Panel",action:"API_Error",json_data:r}),(0,g.v)({title:i("Some issues happened. Please retry."),type:"error"})})).finally(()):(0,Z.i0)(A),[2]}}))}));return (),D=function(e){"Enter"===e.key&&q&&N&&L()};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(R.X0,{children:(null===b||void 0===b?void 0:b.hasPasswordSet)?i("Change password"):i("Set password")}),(0,o.jsx)(R.xF,{children:i(r?"We noticed that the password you are using is too simple. Please change it immediately to ensure the security of your account. Your new password should contain 8 or more characters with a mix of letters & numbers.":"To ensure your account is well protected, please use 8 or more characters with a mix of letters, numbers & symbols.")}),(null===b||void 0===b?void 0:b.hasPasswordSet)?(0,o.jsxs)(R.ob,{children:[(0,o.jsx)("div",{className:"label",children:i("Current Password")}),(0,o.jsx)(u.Z,{autoFocus:!0,type:"password",placeholder:i("Enter your current password..."),size:"lg",value:I,error:!!A.currentPassword,onChange:function(e){return S({currentPassword:e.target.value})},onKeyDown:D}),(0,o.jsx)(R.jj,{error:A.currentPassword})]}):null,(0,o.jsxs)(R.ob,{children:[(0,o.jsx)("div",{className:"label",children:i("New password")}),(0,o.jsx)(u.Z,{type:"password",placeholder:"Enter your new password...",size:"lg",value:N,error:!!A.password,onChange:function(e){return S({password:e.target.value})},onKeyDown:D}),(0,o.jsx)(R.jj,{error:A.password})]}),(0,o.jsxs)(R.ob,{className:"last",children:[(0,o.jsx)("div",{className:"label",children:(0,o.jsx)("span",{children:i("Confirm new password")})}),(0,o.jsx)(u.Z,{type:"password",placeholder:"Repeat your new password...",size:"lg",value:T,error:!!A.confirmPwd,onChange:onKeyDown:D}),(0,o.jsx)(R.jj,{error:A.confirmPwd})]}),h&&(0,o.jsxs)(R.Tv,{children:[(0,o.jsx)("span",{children:i("Your account has been locked as you've reached the limit of failed attempts. Please ")}),(0,o.jsx)("span",{className:"reset-pwd",onClick:children:i("reset your password")}),(0,o.jsx)("span",{children:i("to reactivate the account.")})]}),(0,o.jsx)(R.md,{children:(0,o.jsx)(d.ZP,{disabled:!q||P,className:P?"loading":"",variant:"primary",onClick:L,fullWidth:!0,size:"lg",icon:P?c.Z:null,children:P?i("Changing"):(null===b||void 0===b?void 0:b.hasPasswordSet)?i("Change password"):i("Set password")})})]})},D=r(2704),Y=r(75190),G=r(82740),O=r(48840),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r="en",o="en"===r?e:"/".concat(r).concat(e,"/").replace("//","/");if(!n)return o;location.href=o},M=r(15798),W=r.n(M),V=r(16090);function H(){var e=(0,Y.Z)(["\n  text-align: center;\n  padding-top: 70px;\n  .logo {\n    margin-bottom: 12px;\n  }\n  button {\n    margin-top: 76px;\n  }\n"]);return H=function(){return e},e}var K=G.ZP.div.withConfig({componentId:"sc-9697a387-0"})(H()),X=function(e){var n=e.onRedirect,r=(0,w.Z)().t,i=(0,s.useState)(!1),a=i[0],l=i[1],u=(V.pR.get("cmc-language")||W().translation.defaultLanguage).value;return(0,o.jsxs)(K,{children:[(0,o.jsx)(O.Z,{color:"#16c784",size:68,className:"logo"}),(0,o.jsx)(R.X0,{children:r("Your new password has been saved")}),(0,o.jsx)(R.xF,{children:r("Try signing in with your new password now.")}),(0,o.jsx)(R.md,{children:(0,o.jsx)(d.ZP,{variant:"primary",className:a?"loading":"",onClick:function(){location.href.includes("settings")?(l(!0),z("/#action=login",u)):n(t.oq.login)},fullWidth:!0,size:"lg",icon:a?c.Z:null,children:r("Sign in")})})]})};ar B=G.ZP.div.withConfig({componentId:"sc-8a136e3-0"})(U()),J=function(e){var n=e.onRedirect,r=(0,w.Z)().t,t=(V.pR.get("cmc-language")||W().translation.defaultLanguage).value;return(0,o.jsxs)(B,{children:[(0,o.jsx)(O.Z,{color:"#16c784",size:68,className:"logo"}),(0,o.jsx)(R.X0,{children:r("You successfully logged in!")}),(0,o.jsx)(R.xF,{children:r("In order to log in CoinMarketCap on mobile site/App, please set your email and password in \u2018Account Setting\u2019 page.")}),(0,o.jsx)(R.md,{children:(0,o.jsx)(d.ZP,{variant:"primary",onClick:fullWidth:!0,size:"lg",children:r("Go to \u2018Profile Setting\u2019")})})]})},Q=function(e){var n=e.step,r=e.setStep,a=e.setIsHiddenTitle;return(0,s.useEffect)((function(){"FORGOT_UPDATE_PASSWORD"===n.action?r(t.oq.updateYourPassword):"CHANGE_PASSWORD"===n.action?r(t.oq.changeYourPassword):"DETECT_CHANGE_PASSWORD"===n.action&&r(t.oq.detectChangeYourPassword)}),[n.action]),(0,o.jsxs)(o.Fragment,{children:[(n.action===t.oq.login||n.action===t.oq.forceLogin)&&(0,o.jsx)(T,{setIsHiddenTitle:a,onRedirect:r}),n.action===t.oq.forgotPassword&&(0,o.jsx)(i.Z,{onRedirect:),n.action===t.oq.checkYourEmail&&(0,o.jsx)(D.Z,{onRedirect:r}),n.action===t.oq.updateYourPassword&&(0,o.jsx)(q.Z,{onRedirect:r}),(n.action===t.oq.changeYourPassword||n.action===t.oq.detectChangeYourPassword)&&(0,o.jsx)(L,{onRedirect:r,isDetected:n===t.oq.detectChangeYourPassword}),n.action===t.oq.passwordChangedOk&&(0,o.jsx)(X,{onRedirect:r}),n.action===t.oq.oAuthSuccess&&(0,o.jsx)(J,{onRedirect:r})]})}},48840:function(e,n,r){"use strict";var o=r(62230),t=r(85244),s=r(52322),i=(r(2784),r(69591));n.Z=function(e){return(0,s.jsx)(i.Z,(0,t.Z)((0,o.Z)({},e),{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM16.7557 9.65493C17.1174 9.23758 17.0723 8.60602 16.6549 8.24431C16.2376 7.8826 15.606 7.92771 15.2443 8.34507L10.8 13.4731L8.75569 11.1143C8.39398 10.6969 7.76242 10.6518 7.34507 11.0135C6.92771 11.3752 6.8826 12.0068 7.24431 12.4242L10.0443 15.6549C10.2343 15.8741 10.51 16 10.8 16C11.09 16 11.3657 15.8741 11.5557 15.6549L16.7557 9.65493Z"})}))}}}]);