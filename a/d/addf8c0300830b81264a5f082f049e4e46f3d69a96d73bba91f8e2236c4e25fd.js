(function(a,xa,c,C,n,j,ia,fa,b,z,ja,ha,l,T,va,o,H,d,oa,ka,S,pa,E,L,J,x,D,Fa,f){
a(xa,[c],function(n){var g=Array.prototype.slice,p=n.window.setTimeout;return{compose:resolve:until:});
a(C,function(){turn );
a(n,[c,j],;
a(ia,[j],;
a(fa,[c,b,j,n,z],function(p,A,q,B,G){q=q.ET;p=p.window;var h=Date.now||f=new G;q.ActiveTab=f;f.init=function(k){ d=f;d.isActive=r;d.update=r;d.destroy=C;C();var D=!1,m=k[A.reqAni],H=k.document,w=A.hidden,E=!1,l=!0,t=!0,u=!0,v=h(),n,b,I=1E3,J=250,K=3E4;w||E||!m||m(F);(function(c){n=h();b=function(g){g=g||c.event;var x=!(g&&"mousemove"==g.type),L=y,M=z;x||(y=g.screenX,z=g.screenY,x=y!=L||z!=M);x&&(u=!0,n=h())};var a=c.document,e=B.addEvent,y,z;setTimeout(function(){e(c.top,"scroll",b);e(a,"mousemove",b);e(a,"keydown",b);e(a,"mousedown",
b);e(a,"mouseup",b)},100)})(k.top);r()};f.IDLE="idle";f.VISIBLE="visible";f.init(p);return f});
a(ja,[j,ia,n],;
a(ha,[j,ia,fa,ja],;
a(l,[j,n],;
a(T,[l],;
a(va,;
a(o,[c,b,j],;
a(H,[c,b,j,n,va,o],;
a(d,function(){var E={};(("undefined"===typeof global?this:global,function(r,v){ion x(a,b){if(!b)throw Error(a+" must not be truthy.");}unction F(a,b){a=a.split("-")[0].split(".");b=b.split("-")[0].split(".");for(var c=0;3>c;c++){var d=parseInt(a[c],10),f=parseInt(b[c],10);if(d>f)break;else if(d<f)return!1}return!0}function K(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,}nction H(a){if(a===g.omidGlobal)return!1;try{if("undefined"===typeof a.location.hostname)return!0}catch(b){return!0}return!1}tion h(a){if(!a){a=void 0;"undefined"===typeof a&&"undefined"!==typeof window&&window&&(a=window);a=G(a)?a:g.omidGlobal;var b=void 0;b=void 0===b?m.isOmidPresent:
b;var c=[],d=I(a,N);d&&c.push(d);c.push(M(a));a:{c=e.makeIterator(c);for(d=c.next();!d.done;d=c.next()){d=d.value;b:{var f=a,n=O,z=b;if(!H(d))try{var u=I(d,n);if(u){var p=new q(u);break b}}catch(P){}p=z(d)?new t(f,d):null}if(d=p){a=d;break a}}a=null}}(this.communication=a)?this.communication.onMessage=this.handleMessage_.bind(this):(p=(p=g.omidGlobal.omid3p)&&"function"===typeof p.registerSessionObserver&&"function"===typeof p.addEventListener?p:null,p&&(this.omid3p=p));this.remoteIntervals_=this.remoteTimeouts_=
0;this.callbackMap_={};this.imgCache_=[];this.injectionId_=(p=g.omidGlobal.omidVerificationProperties)?p.injectionId:void 0}var e=e||{};e.scope={};e.arrayIteratorImpl=e.arrayIterator=e.makeIterator=e.arrayFromIterator=e.arrayFromIterable=e.ASSUME_ES5=!1;e.ASSUME_NO_NATIVE_MAP=!1;e.ASSUME_NO_NATIVE_SET=!1;e.SIMPLE_FROUND_POLYFILL=!1;e.objectCreate=e.ASSUME_ES5||"function"==typeof Object.create?Object.create:e.underscoreProtoCanBeSet=e.setPrototypeOf="function"==
typeof Object.setPrototypeOf?Object.setPrototypeOf:e.underscoreProtoCanBeSet()?null;e.inherits=
var w={AdEventType:{IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction",
STATE_CHANGE:"stateChange"},MediaEventType:{LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},ImpressionType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",
ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other"},ErrorType:{GENERIC:"generic",VIDEO:"video",MEDIA:"media"},AdSessionType:{NATIVE:"native",HTML:"html",JAVASCRIPT:"javascript"},EventOwner:{NATIVE:"native",JAVASCRIPT:"javascript",NONE:"none"},AccessMode:{FULL:"full",DOMAIN:"domain",LIMITED:"limited"},AppState:{BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded"},Environment:{APP:"app",WEB:"web"},DeviceCategory:{CTV:"ctv",DESKTOP:"desktop",MOBILE:"mobile",OTHER:"other"},InteractionType:{CLICK:"click",
INVITATION_ACCEPT:"invitationAccept"},CreativeType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",HTML_DISPLAY:"htmlDisplay",NATIVE_DISPLAY:"nativeDisplay",VIDEO:"video",AUDIO:"audio"},MediaType:{DISPLAY:"display",VIDEO:"video"},Reason:{NOT_FOUND:"notFound",HIDDEN:"hidden",BACKGROUNDED:"backgrounded",VIEWPORT:"viewport",OBSTRUCTED:"obstructed",CLIPPED:"clipped",UNMEASURABLE:"unmeasurable",NO_WINDOW_FOCUS:"noWindowFocus",NO_OUTPUT_DEVICE:"noOutputDevice"},SupportedFeatures:{CONTAINER:"clid",VIDEO:"vlid"},
VideoPosition:{PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll",STANDALONE:"standalone"},VideoPlayerState:{MINIMIZED:"minimized",COLLAPSED:"collapsed",NORMAL:"normal",EXPANDED:"expanded",FULLSCREEN:"fullscreen"},NativeViewKeys:{X:"x",LEFT:"left",Y:"y",TOP:"top",WIDTH:"width",HEIGHT:"height",AD_SESSION_ID:"adSessionId",IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor",CLIPS_TO_BOUNDS:"clipsToBounds",CHILD_VIEWS:"childViews",END_X:"endX",END_Y:"endY",OBSTRUCTIONS:"obstructions",OBSTRUCTION_CLASS:"obstructionClass",
OBSTRUCTION_PURPOSE:"obstructionPurpose",OBSTRUCTION_REASON:"obstructionReason",PIXELS:"pixels",HAS_WINDOW_FOCUS:"hasWindowFocus"},MeasurementStateChangeSource:{CONTAINER:"container",CREATIVE:"creative"},ElementMarkup:{OMID_ELEMENT_CLASS_NAME:"omid-element"},CommunicationType:{NONE:"NONE",DIRECT:"DIRECT",POST_MESSAGE:"POST_MESSAGE"},OmidImplementer:{OMSDK:"omsdk"}};k.isValidSerializedMessage=k.deserialize=k.prototype.serialize=l.prototype.sendMessage=function(){};l.prototype.handleMessage=l.prototype.serialize=function(a){return JSON.stringify(a)};l.prototype.deserialize=l.prototype.isDirectCommunication=l.prototype.isCrossOrigin=function(){};var g={};g.omidGlobal=);e.inherits(q,l);q.prototype.sendMessage=q.prototype.handleExportedMessage=q.prototype.isCrossOrigin=e.inherits(t,l);t.isCompatibleContext=t.prototype.sendMessage=t.prototype.isCrossOrigin=var m={OMID_PRESENT_FRAME_NAME:"omid_v1_present",
isOmidPresent:declareOmidPresence:appendPresenceIframe_:isMutationObserverAvailable_:registerMutationObserver_:,O=["omid","v1_VerificationServiceCommunication"],
N=["omidVerificationProperties","serviceWindow"];h.prototype.isSupported=h.prototype.injectionSource=function(){var a=g.omidGlobal.omidVerificationProperties;if(a&&a.injectionSource)return a.injectionSource};h.prototype.registerSessionObserver=h.prototype.addEventListener=
h.prototype.sendUrl=h.prototype.sendUrlWithImg_=h.prototype.injectJavaScriptResource=h.prototype.injectJavascriptResourceUrlInDom_=
h.prototype.evaluateJavaScript_=h.prototype.setTimeout=function(a,b){x("functionToExecute",a);y("timeInMillis",b);if(this.hasTimeoutMethods_())return g.omidGlobal.setTimeout(a,b);var c=this.remoteTimeouts_++;this.sendMessage_("setTimeout",a,c,
b);return c};h.prototype.clearTimeout=function(a){y("timeoutId",a);this.hasTimeoutMethods_()?g.omidGlobal.clearTimeout(a):this.sendOneWayMessage_("clearTimeout",a)};h.prototype.setInterval=function(a,b){x("functionToExecute",a);y("timeInMillis",b);if(this.hasIntervalMethods_())return g.omidGlobal.setInterval(a,b);var c=this.remoteIntervals_++;this.sendMessage_("setInterval",a,c,b);return c};h.prototype.clearInterval=h.prototype.hasTimeoutMethods_=function(){return"function"===typeof g.omidGlobal.setTimeout&&"function"===typeof g.omidGlobal.clearTimeout};h.prototype.hasIntervalMethods_=h.prototype.handleMessage_=function(a){var b=a.method,c=a.guid;a=a.args;if("response"===b&&this.callbackMap_[c]){var d=/\d+\.\d+\.\d+(-.*)?/.test("1.4.4-dev")&&F("1.4.4-dev",
"1.0.3")?a?a:[]:a&&"string"===typeof a?JSON.parse(a):[];this.callbackMap_[c].apply(this,d)}"error"===b&&window.console&&C(a)};h.prototype.sendOneWayMessage_=h.prototype.sendMessage_=function(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(this.communication){f=K();b&&(this.callbackMap_[f]=b);var n="VerificationService."+a;d=/\d+\.\d+\.\d+(-.*)?/.test("1.4.4-dev")&&
F("1.4.4-dev","1.0.3")?d:JSON.stringify(d);d=new k(f,n,"1.4.4-dev",d);this.communication.sendMessage(d)}};var A=void 0;if(A=void 0===A?"undefined"===typeof v?null:v:A){var B=["OmidVerificationClient"];B.slice(0,B.length-1).reduce(L,A)[B[B.length-1]]=h}},E);return E});
a(oa,[c,b,d,n],function(n,g,x,u){function p(b){var a=b.data;b=a&&a.adView;a=a&&a.viewport;b&&a&&(q.ready=!0,l.client=a,l.view=b.onScreenGeometry,l.geometry=b.geometry)}function q(b){if(!q.ready)return b;b=v({},b);var a=v({},b.overlap),c=l.view,h=l.client,e=l.geometry;b.x+=c.x;b.y+=c.y;a.x+=e.x;a.y+=e.y;a=r(a,c);c.obstructions=c.obstructions||[];c.obstructions.sort(function(f,d){return f.x<d.x||f.y<d.y||f.width<d.width||f.height<d.height?1:-1});a.area=m(a)-w(a,
c.obstructions);b.client=h;b.voidSend=!1;b.visible=!0;b.optimize=!0;b.overlap=a;b.source="OMID";return b}function w(b,a){var c,h=0,e=a,f=[];for(c=0;c<e.length;c++){for(var d=e[c],k=!1,t=0;t<f.length&&!(k=f[t],k=k.x===d.x&&k.y===d.y&&k.width===d.width&&k.height===d.height);t++);k||f.push(d)}a=f;if(10<a.length)return h;for(e=0;e<a.length;e++)if(a[e]=r(b,a[e]),0!==m(a[e]))for(c=[],h+=m(a[e]),f=0;f<e;f++)d=r(a[e],a[f]),0!==m(d)&&(h-=m(d),h+=w(d,c),c.push(d));return h}var v=u.extend;n=n.window;g=n.top;var l={},r=u.overlap;g.omid3p&&(n.omid3p=g.omid3p);g=new x.OmidVerificationClient;g.registerSessionObserver(p,"adform.com-omid");g.addEventListener("geometryChange",p);g.addEventListener("impression",p);return q});
a(ka,[j,ha,ia,fa,T,H,n,z,oa,S,o],function(p,F,t,A,v,I,k,J,G,K,L){PageGeometry:0,IntersectionObserver:1,mozInnerScreen:2,DOMEvents:3,elementFromPoint:4,requestAnimationFrame:5,SafeFrame:6,MRAID:7,wisp:8,AMP:9,OMID:10},y=p.ET;k.inherit(w,J);var B="bn unloadID cookieID id width height sendUnloadData isMobile".split(" ");y.EngagementItem=w;p=w.prototype;p.attr=p.update=function(){var a,b=(this._elements||this.elements()).slice(),c=this.fullyLoaded=
this.attr("loaded"),d,e=[],f=this.children;if(f.length)for(a=0;a<f.length;a++)b.push.apply(b,f[a]._elements||f[a].elements(this));if(!this.optimizeLoop||A.isActive())for(a=0;a<b.length;a++)if(f=b[a]){var g="object"==f.nodeName.toLowerCase()&&k.byTag(f,"embed")[0];g&&20<g.offsetHeight&&(f=g);try{var h=I.inView(f,this.fullSearch);h.visible&&G.ready&&(h=G(h));this.viewabilitySource=Q[h.source]||0}catch(n){setTimeout(0);return}"voidSend"in h&&(this.doNotSendData=h.voidSend);h.optimize&&
(this.optimizeLoop=!0);d||(d=h);h.visible&&e.push(h)}if(c&&A.isActive()&&this.attr("_videoPlay")&&e.length){d=e[0];g=f=c=b=0;var r=d.client.width*d.client.height;a=0;for(h=e.length;a<h;a++){b+=e[a].overlap.area;f+=e[a].area;for(var l=a+1,q;l<h;l++)q=k.overlap(e[a].overlap,e[l].overlap),c+=q.width*q.height,q=k.overlap(e[a],e[l]),g+=q.width*q.height}x(this,null,f-g,b-c,r||0);a=this.data.currentVisibleArea=this.counters[0].visiblePercent;this.data.maxVisibility=Math.max(this.data.maxVisibility,a)}else x(this,
"stop");d&&(this.data.x=Math.floor(d.x),this.data.y=Math.floor(d.y));this.updateData()};p.elements=p.flashClick=p.engage=p.updateData=p.toUnloadString=p.addChild=p.destroy=return w});
a(pa,[c],;
a(E,[c,j,ka,T,fa,b,n,z,L,J,x,pa],function(u,n,L,A,v,B,m,g,r,C,w,p){ction E(a){a?this.sendQuery(this.query()):(q=p.create(D),Q(this,this.query()))}function Q(a,b){var c=q?q.setTimeout:x,d=q?q.clearTimeout:R;if(b){var e=C().getRotSeed();e.unloads=e.unloads||[];e.unloads.push(b);e.sendTimeout&&(d(e.sendTimeout),e.sendTimeout=null);e.unloads.length&&(e.sendTimeout=c(function(){a.sendQuery(e.unloads.join("@@"));e.unloads=[]},50))}}=u.window,T=p.setInterval,x=p.setTimeout,R=p.clearTimeout,U=p.clearInterval,O=l,P=l.MESSENGER_POPUP,D=l.top,y=l.parent,z=B.topAcc,q;u=n.ET;var t=Date.now||m.inherit(k,g);u.EngagementTracker=k.getInstance=n.ADFEvents=k;var K=0,J={expand:[21,22],collapse:[143],videoPlay:[30],videoStop:[31,32,29,21,22,23,143]};g=k.prototype;g.subscribe=function(a){this.on("update",
a)};g.unsubscribe=g.getItem=g.registerAll=F;g.registerAllBanners=F;g.register=g.addObjectEvents=H;g.addStandardEvent=H;g.checkVisibility=g.registerBannerProperties=g.addClick=g.registerInEvents=g.query=
g.send=E;g.sendQuery=g.addElement=g.removeElement=g.setupWindow=g.removeWindow=g.destroy=n._etCallback?n._etCallback(k()):k();return k});
a(D,[n,E],function(d,k){r n=k();return function(a,b,e,c){a=n.getItem(a.id);var f=e[0];if(!a._integration){b&&(a._integration=b);c&&(a.children=c);b=a.mouseCallbacks;c=(c=a._elements)&&c[0];var g=d.addEvent,h=d.removeEvent;b||(b=a.mouseCallbacks={enter:d.bind(a,l),leave:d.bind(a,m)});c&&(h(c,"mouseenter",b.enter),h(c,"mouseleave",b.leave));g(f,"mouseenter",b.enter);g(f,"mouseleave",b.leave);a._elements=
e;a.object=!0;a.attr("loaded",!0)}}});
a(Fa,[c,xa,C,J,D,o],function(g,h,q,r,t,u){unction w(a,b,d,k){var e=(f.inDapMgrIf||f.inDapIF||f.inFIF)&&f.frameElement;return q(e&&10>e.offsetHeight?e:a,b,d,k)}function l(a,b,d){m(c(w,b,a.width,a.height,10),1E4,n(c(x,a,b,d||[100,500,1E3,2E3,5E3]),c(p,"third_party","Placement not found")))}function x(a,b,d,k){var e=d.shift();t(a,!1,[k]);e&&g.window.setTimeout(c(l,a,b,d),e)}var n=
h.resolve,c=h.compose,m=h.until,f=g.window,p=u.pushMessage;return function(a){var b=a.placeId;a=r().banners[a.adfxid];b&&a&&1<a.width*a.height&&m(c(v,g.window.document,b),n(c(l,a),c(p,"third_party","Container not found")))}});
a(f,;
})(_adfq.define,"h/func","$boot","3rdparty/findPlacement","common/lib","Adform","engagement/Timer","engagement/ActiveTab","$env","common/EventEmitter","engagement/ExposureTimer","engagement/Counter","common/DOMEvents","common/DOMEventsET","engagement/overlap","common/Log","engagement/ViewUtil","amd-omid-client","engagement/OMID","engagement/EngagementItem","bootstrap/isAppView","h/timers","engagement/EngagementTracker","bootstrap/Events","bootstrap/Utils","h/beacon","3rdparty/setupItem","types/ThirdParty","$ignore");