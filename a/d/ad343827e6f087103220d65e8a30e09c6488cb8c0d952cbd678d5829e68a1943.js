!function(e){"use strict";var t=e.Disney,i=t.placeSwap=function(e,t){if(!t)return t.render(),e.$("#"+t.cid).replaceWith(t.el)};t.placeHtml=function(e){return e?'<div id="'+e.cid+'"></div>':null}}(this),function(e){"use strict";var t=e.Grill,i=e.Disney,s=e.document,a=e.$;t.VideoModalView=t.ModalView.extend({required_template_sets:["links"],initialize:function(t){var i=this;this.options=t||{},this.overlay=e.document.getElementById("modal-overlay"),this.overlay.addEventListener("click",,this.nonModalActiveElement=s.activeElement},ready:function(){if(this.options.playerId){(this.options.data||{}).ads={context:{noAds:function(){return!0}},enabled:!1,targeting:this.getAdPosition()},this.player=new i.MatterhornVideoPlayer(this.options.playerId,{video:this.options.data,autoPlay:!0,autoPlay_mute:!1,showEndCard:!1,showPauseCard:!0,hideLargePlayBtn:!0,clickToPlay:!0,ads:{enabled:!this.options.cds&&!this.options.noAds,adTags:this.options.adTags},metaTags:this.options.metaTags,parentView:this.$(".video-wrapper")});var e=this.$el.find(".video-wrapper"),t=this.options.data;if(e){var s='<div class="video-info"><p class="title">'+t.title+"</p></div>";e.append(s)}}},getAdPosition:function(){if(!this.options.cds)return this.adPosition?this.adPosition:(this.adPosition=this.options.ads&&this.options.ads.setAdPosition&&this.options.ads.setAdPosition(this.model),this.adPosition)},render:function(){var e={playerId:this.options.playerId,videoEmbedUrl:this.options.videoEmbedUrl,title:this.options.title||null};return this.options.template.render(e,this.options.ctx_additions)},events:{"click #modal-close":function(){this.player&&this.player._unembed(),this.closeVideoModal()},keydown:function(e){var t="button, .modal-content, .modal-bottom",i=s.querySelector("#modal-container"),a=i.querySelectorAll(t),o=a[0],n=a[a.length-1];("Tab"===e.key||9===e.keyCode)&&(e.shiftKey?s.activeElement===o&&(n.focus(),e.preventDefault()):s.activeElement===n&&(o.focus(),e.preventDefault()))}},hide:closeVideoModal:function(){var t=(this.player||{}).controls||{};t.stop&&t.stop(),this.$(".modal-info").remove(),a("#modal-window").removeClass("show"),e.document.documentElement.classList.remove("modal-no-scroll"),this.nonModalActiveElement.focus()},show:function(i){t.ModalView.prototype.show.apply(this,i),e.setTimeout(400)}})}(this),Whiskers("modules.slider",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.d("style_options.text_color",e,t,1),e,t,0,29,568,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> #ref-'),i.b(i.v(i.f("ref",e,t,0))),i.b(" .module_header .title h2, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .details-text .title, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .details-text .alt-display-name, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .details-text .description, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .entity-details .title-link, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .entity-details .actor-title, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .entity-details .desc { color: "),i.b(i.v(i.d("style_options.text_color",e,t,0))),i.b("; } "),i.s(i.d("config_options.allow_learn_more_color_override",e,t,1),e,t,0,427,507,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .details-text .learn-more{ color: "),i.b(i.v(i.d("style_options.text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" </style> ")}),e.pop()),s.b(" "),s.b(' <div class="bound '),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.b(s.v(s.f("entity_type",e,t,0))),s.s(s.f("peeking",e,t,1),e,t,1,0,0,"")||s.b(" no-peek"),s.s(s.f("showDetails",e,t,1),e,t,0,766,789,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" show_details_container")}),e.pop()),s.b('"> '),s.s(s.d("style_options.overlay_styles",e,t,1),e,t,0,841,875,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="module_overlay"></div>')}),e.pop()),s.b(" "),s.s(s.f("header_data",e,t,1),e,t,0,925,943,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(" "),s.s(s.f("rich_text",e,t,1),e,t,0,974,1130,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="rich_text_body rich-text-enabled'),i.s(i.f("image",e,t,1),e,t,0,1029,1058,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" has-image "),i.b(i.v(i.f("position",e,t,0))),i.b("_align")}),e.pop()),i.b('"> <div class="rich-text-output">'),i.b(i.t(i.f("rich_text",e,t,0))),i.b("</div> </div> ")}),e.pop()),s.b(" "),s.b(' <div class="slides peek-'),s.b(s.v(s.f("rpp",e,t,0))),s.s(s.d("header_data.icon_type",e,t,1),e,t,0,1221,1252,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" icon-"),i.b(i.v(i.d("header_data.icon_type",e,t,0)))}),e.pop()),s.s(s.f("show_episode_info",e,t,1),e,t,0,1300,1307,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" series")}),e.pop()),s.b('"> <ol class="slider-list peek-'),s.b(s.v(s.f("rpp",e,t,0))),s.b('" data-title="'),s.b(s.v(s.d("header_data.title",e,t,0))),s.b('"> '),s.s(s.f("pages",e,t,1),e,t,0,1415,1534,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li class="slider-page"> <ul class="col-container cols-'),i.b(i.v(i.f("cols",e,t,0))),i.b(" rows-"),i.b(i.v(i.f("rows",e,t,0))),i.b('"> '),i.b(i.rp("<partials/slider_page1",e,t,"")),i.b(" </ul> </li> ")}),e.pop()),s.b(' </ol> <div class="peek"></div> '),s.b(" </div> "),s.s(s.f("showDetails",e,t,1),e,t,0,1635,2280,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="slider-details-container lazy-deferred lazy-load"> <div class="aspect"> <img class="thumb" alt="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('" data-src="'),i.b(i.v(i.d("thumb_data.src",e,t,0))),i.b('"> </div> <div class="details-text" tabindex=-1> <h2 class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h2> <p class="alt-display-name '),i.s(i.f("alt_display_name",e,t,1),e,t,1,0,0,"")||i.b("no-name"),i.b('">'),i.b(i.v(i.f("alt_display_name",e,t,0))),i.b('</p> <p class="description">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> "),i.s(i.f("config_options",e,t,1),e,t,0,2033,2246,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d("config_options.learn_more_link",e,t,1),e,t,0,2069,2210,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("learn_more",e,t,0))),i.b('" class="learn-more'),i.s(i.f("learn_more",e,t,1),e,t,1,0,0,"")||i.b(" no-link"),i.b('" '),i.s(i.f("new_tab",e,t,1),e,t,0,2164,2182,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("<href_target2",e,t,"")),i.b(" ")}),e.pop()),i.b(">Learn More</a> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </div> </div> ")}),e.pop()),s.b(" "),s.s(s.f("seeAll",e,t,1),e,t,0,2308,2433,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="see-all-below"> <div class="see-all-container"> <a href="'),i.b(i.v(i.f("seeAll",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.see_all",e,t,0))),i.b("</a> </div> </div> ")}),e.pop()),s.b(" "),s.s(s.d("config_options.open_gallery_modal",e,t,1),e,t,0,2483,2511,"{{ }}")&&(s.rs(e,t,,e.pop()),s.b(" </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<partials/slider_page1":{name:"partials/slider_page",partials:{},subs:{}},"<href_target2":{name:"href_target",partials:{},subs:{}},"<partials/slider_modal3":{name:"partials/slider_modal",partials:{},subs:{}}},subs:{}}),Whiskers("partials.slider_page",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<ul class="col-container cols-'),s.b(s.v(s.f("cols",e,t,0))),s.b(" rows-"),s.b(s.v(s.f("rows",e,t,0))),s.b('"> '),s.s(s.f("models",e,t,1),e,t,0,66,293,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li class="col item'),i.s(i.f("widthClass",e,t,1),e,t,0,101,116,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("widthClass",e,t,0)))}),e.pop()),i.s(i.f("hidden",e,t,1),e,t,0,142,156,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" lazy-deferred")}),e.pop()),i.b('"> '),i.b(" "),i.b(i.rp("<partials/slider_item0",e,t,"")),i.b(" </li> ")}),e.pop()),s.b(" </ul>"),s.fl()},partials:{"<partials/slider_item0":{name:"partials/slider_item",partials:{},subs:{}}},subs:{}}),Whiskers("partials.slider_item",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("is_ad",e,t,1),e,t,1,0,0,"")||s.b(s.rp("<entity_container0",e,t,"")),s.b(" "),s.s(s.f("is_ad",e,t,1),e,t,0,52,66,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.t(i.f("adMarkup",e,t,0)))}),e.pop()),s.fl()},partials:{"<entity_container0":{name:"entity_container",partials:{},subs:{}}},subs:{}}),this,,function(e){"use strict";var t=function(t,i,s,a,o,n,r,l){var d=e.dayjs,c=i||{},h=s||{},u=c.streaming_now||"Streaming Now",p=c.streaming||"Streaming",m=c.on_blu_ray_dvd||"On Blu-Ray & DVD",f=c.on_blu_ray_dvd_digital||"On Blu-Ray, DVD, Digital",g=c.now_on_digital||"Now on Digital",v=c.on_digital||"On Digital",_=c.available_to_pre_order||"Available to Preorder",b=c.in_theaters_now||"In Theaters Now",y=c.in_theaters||"In Theaters",w=c.coming_soon||"Coming Soon",x=parseInt(h.coming_soon,10)||200,$=parseInt(h.available_to_preorder,10)||30,k=parseInt(h.on_digital,10)||15,S=parseInt(h.streaming,10)||14,C="YYYY-MM-DD",I=l&&l.release?d(l.release,C):null,P=l&&l.digital_released_on?d(l.digital_released_on,C):null,V=l&&l.streaming_released_on?d(l.streaming_released_on,C):null,D=l&&l.physical_released_on?d(l.physical_released_on,C):null;return d().isSame(V,"day")?u:d().isAfter(V)?u:d().add(S,"d").isAfter(V,"day")?p+" "+n:d().isSame(D,"day")?o?f:m:d().isSame(P,"day")?g:d().isAfter(P)&&d().isBefore(D)&&!V?g:d().isAfter(P)&&D&&d().isAfter(D)?f:d().add(k,"d").isAfter(P)?"\u30c7\u30b8\u30bf\u30eb\u914d\u4fe1"===v?o+" "+v:v+" "+o:d().add($,"d").isAfter(P)?_:d().isAfter(D,"day")&&!o?m:d().isSame(I,"day")?b:d().isAfter(I)?b:I&&I.isAfter(d())&&d().add(x,"d").isAfter(I)?"\u5287\u5834\u516c\u958b"===y?a+" "+y:y+" "+a:I&&I.isAfter(d().add(200,"d"))?w:!a&&w};e.MovieDate={formatReleaseDate:t}}(this),Whiskers("modals.video",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="modal-info'),s.s(s.f("playerId",e,t,1),e,t,0,35,49,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" native-player")}),e.pop()),s.b('" '),s.s(s.f("title",e,t,1),e,t,0,74,110,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('aria-label="'),i.b(i.v(i.f("title",e,t,0))),i.b('" role="dialog"')}),e.pop()),s.b('> <button id="modal-close" class="top-right hidden ada-el-focus" aria-label="Close dialog" tabindex="0"></button> <div class="modal-content"> <div class="video-wrapper" id="video-player" tabindex="-1"> '),s.s(s.f("videoEmbedUrl",e,t,1),e,t,0,340,481,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <iframe class="video-iframe" width="100%" height="100%" src="'),i.b(i.v(i.f("videoEmbedUrl",e,t,0))),i.b('" frameborder="0" allow="autoplay" allowfullscreen> </iframe> ')}),e.pop()),s.b(" "),s.s(s.f("playerId",e,t,1),e,t,0,513,581,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div id="'),i.b(i.v(i.f("playerId",e,t,0))),i.b('-container"><div id="'),i.b(i.v(i.f("playerId",e,t,0))),i.b('"></div></div>')}),e.pop()),s.b(' </div> </div> <div class="modal-bottom" tabindex="0"></div> </div>'),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.jQuery;t.SliderModalView=t.ModuleView.extend({initialize:open:function(t){var s=this;if(this.isTransition=!1,this.gallery!==t){this.slider=i(t.$el).parents("section"),this.gallery=t,this.currentImage=0;var a=this.gallery.model.attributes.gallery_images,o=a.map(function(e){return s.getSlideItem(e)}).join("");this.maxSlides=a.length-1,this.slider.find(".slider-modal-gallery-footer-max").html(a.length),this.slider.find(".slider-modal-gallery-footer-current").html(1),this.slider.find(".slider-modal-gallery-footer-title").html(this.gallery.model.attributes.title),this.slider.find(".slider-modal-gallery-slides-container").html(o)}this.slider.find(".slider-modal-gallery-background").fadeIn("fast",function(){s.slider.find(".slider-modal-gallery-slide").eq(s.currentImage).fadeIn("fast")}),e.window.addEventListener("keydown",function(e){s.keypressHandler(e,s)},!1),this.slider.find(".slider-modal-gallery-close-modal").focus()},move:function(e){if(!this.isTransition){var t=this;this.isTransition=!0,this.slider.find(".slider-modal-gallery-slide").eq(this.currentImage).fadeOut("fast",function(){e>0?t.currentImage=t.currentImage===t.maxSlides?0:t.currentImage+1:e<0&&(t.currentImage=0===t.currentImage?t.maxSlides:t.currentImage-1),t.slider.find(".slider-modal-gallery-slide").eq(t.currentImage).fadeIn("fast"),t.slider.find(".slider-modal-gallery-footer-current").html(t.currentImage+1),t.isTransition=!1})}},close:function(){var t=this;this.slider.find(".slider-modal-gallery-background").fadeOut("fast"),e.window.removeEventListener("keydown",!1)},keypressHandler:function(e,t){switch(e.keyCode||e.which){case 27:t.close();break;case 37:t.move(-1);break;case 39:t.move(1)}},getSlideItem:)}(this),Whiskers("partials.slider_modal",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="slider-modal-gallery-background"> <div class="slider-modal-gallery-container"> <div class="slider-modal-gallery-header"> <span class="slider-modal-gallery-close-modal" tabindex="0" aria-label="close"></span> </div> <div class="slider-modal-gallery-arrow move-prev" tabindex="0" role="text" aria-label="previous"> <span class="slider-modal-gallery-arrow-prev"></span> </div> <div class="slider-modal-gallery-slides"> <ul class="slider-modal-gallery-slides-container"></ul> </div> <div class="slider-modal-gallery-arrow move-next" tabindex="0" role="text" aria-label="next"> <span class="slider-modal-gallery-arrow-next" ></span> </div> <div class="slider-modal-gallery-footer"> <span class="slider-modal-gallery-footer-title" tabindex="0"></span> <div class="slider-modal-gallery-footer-counter" tabindex="0"> <span class="slider-modal-gallery-footer-current"></span> of <span class="slider-modal-gallery-footer-max"></span> </div> </div> </div> </div>'),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,s=e.Backbone,a=s.View,o=e.Whiskers,n=e.MovieDate,r=i.Style.breakpoints,l=i.Style.custom_breakpoints,d=s.Resize.width,c=e.jQuery,h=e._,u=h.values(r),p=null,m=function(e){return null!=e&&(e=c.trim(e).toLowerCase().replace(/[^a-z0-9_:, \-]/gi,"").replace(/\s+/g,"_")),e},f=e.SwipeView=t.ModuleView.extend({style_classes:["slider-view","pagination-styles"],required_template_sets:["module_header","entities"],breakpoints:u.join(" "),template:o.modules.slider,assets:{scripts:["https://static-mh.content.disney.io/matterhorn/assets/videoplayer-950432a8cc04.js"]},included_components:{"partials/slider_modal":o.partials.slider_modal},events:{slide:function(e,t){e.preventDefault(),this.$(".slides").toggleClass("peeking",t!==this.collection.lastIndex(this.rpp()));var i=this.rpp()*(t+1),s=this.cols(),a=i+s,o=this.collection.first(a);if(this.$pages&&t>0){var n=c(this.$pages[t]).find(".item"),r=c(this.$pages[t+1]).find(".item").slice(0,this.rows());n.add(r).enableLazyLoad().loadLazyImages()}h.each(o,,this.currentPage=t,this.$(".entity-link.title-link").attr("tabindex",-1)},"click .youtube-url":function(t){var i=this.model.get("config_options")||{},s=this.model.get("custom_options")||{},a=i.open_youtube_lightbox,o=s.age_gate;if(a){t.stopPropagation(),t.preventDefault();var n=c(t.currentTarget),r=n[0].getAttribute("data-youtube-id"),l=["https://www.youtube.com/embed/",r,"?rel=0&autohide=1&showinfo=0&color=white&wmode=opaque&autoplay=1;enablejsapi=1&rel=0"].join(""),d=this,h=function(){d.launchVideoModal({videoEmbedUrl:l,title:n[0].getAttribute("data-title")||n[0].getAttribute("aria-label")})},u={triggerModal:h,age:o};o?e.Disney.AgeGate.triggerAgeGateProcess(u):h()}},"click .entity-type-video":function(t){var i=this.model.get("config_options")||{},s=this.model.get("custom_options")||{},a=i.open_native_video_lightbox,o=s.age_gate;if(a){t.stopPropagation(),t.preventDefault();var n=c(t.currentTarget.parentNode).index(),r=this.currentPage*this.rppVal+n,l=this,d=l.model.get("data")[r]||{},h=function(){l.launchVideoModal({data:d.video?d.video:d,playerId:["player",l.model.get("ref"),l.currentPage,n,r].join("-")})},u={triggerModal:h,age:o};o?e.Disney.AgeGate.triggerAgeGateProcess(u):h()}},"click .see-all-link":function(e){this.triggerAgeGateProcess(e)},"click .slider-modal-gallery-close-modal":function(e){e.preventDefault(),p.close()},"keypress .slider-modal-gallery-close-modal":"click .slider-modal-gallery-arrow":function(e){e.preventDefault(),p.move(c(e.currentTarget).hasClass("move-prev")?-1:1)},"keypress .slider-modal-gallery-arrow":function(e){e.preventDefault(),p.move(c(e.currentTarget).hasClass("move-prev")?-1:1)}},launchVideoModal:function(e){var i=(this.model||{}).collection||{};new t.VideoModalView({template:o.modals.video,name:"video-modal",ctx_additions:this.ctx_additions(),videoEmbedUrl:e.videoEmbedUrl,data:e.data,playerId:e.playerId,adTags:(i.adTags||{}).desktop,metaTags:i.meta_tags,cds:this.options.cds,noAds:this.options.noAds,title:e.title||null}).show()},ctoTitle:function(){var e=this.model.get("title");return m(e)},triggerAgeGateProcess:function(t){t.preventDefault();var s=this.model.get("custom_options"),a=this.model.get("config_options"),o=a.see_all_options&&a.see_all_options.new_tab,n=s&&s.age_gate,r=o?"_blank":"_self",l=t.currentTarget.href,d={age:n,href:l,target:r};n?i.AgeGate.triggerAgeGateProcess(d):e.window.open(l,r)},initialize:function(a){this.options=a||{};var o=this.model.get("config_options"),n=this.model.get("style_options");this.model.data.set(this.model.data.models.filter(),this.collection=new s.LazySliderCollection(this.model.data.models);var r=h.chain(this.collection.pluck("entity_type")).compact().uniq().first().value();if(h.extend(this,{entity_type:r||this.model.get("type"),lastPage:0,startingCount:this.index=this.collection.startingIndex,slideTime:500,init:!1,translations:this.model.get("translations")||{}}),this.collection.on("remove",function(){this.resize()},this),this.needsGuestContext()&&i.guest.retain(),this.configureData&&this.configureData(),this.stylePack=this.model.collection&&this.model.collection.style,this.customSliderStyles=this.stylePack&&this.stylePack.custom_slider_styles,this.customSliderStyles){this.sliderLeftPeek=this.customSliderStyles.slider_left_peek;var l=this&&this.customSliderStyles,d=l&&l.left_arrow_svg||"",c=l&&l.left_arrow_hover_svg||"",u=d&&d.indexOf("?");this.leftArrowSvg=u>=1?d.split("?")[0]:d,this.leftArrowHoverSvg=u>=1?c.split("?")[0]:c}(this.sliderLeftPeek?this.align_arrows_vert="thumbnail":this.customSliderStyles&&this.customSliderStyles.align_arrows_vert?this.align_arrows_vert=this.customSliderStyles.align_arrows_vert:n&&n.custom_arrow_options&&n.custom_arrow_options.align_arrows_vert?this.align_arrows_vert=n.custom_arrow_options.align_arrows_vert:this.align_arrows_vert||(this.align_arrows_vert="content"),o&&o.open_native_video_lightbox)&&((this.model.get("data")||[]).some(&&(this.assets={scripts:["https://static-mh.content.disney.io/matterhorn/assets/videoplayer-950432a8cc04.js"]}));if(o&&o.exclude_current_page){var m=t.burger.id,f=t.burger.href,g=this.collection.models;if(m&&g&&(g=h.without(g,h.findWhere(g,{id:m})),this.collection.models=g),f&&g){var v=h.filter(g,;this.collection.models=v}}p=new e.Grill.SliderModalView},destroy:function(){this.needsGuestContext()&&i.guest&&i.guest.release()},peekAmount:function(){return.25/Math.sqrt(this.cols()/.3)},wide:function(){return d()>=r.midHigh},getItemsPerRow:function(e){var t=d();return e&&t<=r.max?Math.min(e,4):e&&t<=r.midHigh?Math.min(e,2):e},render:function(){var e=this,t=e.model,i=e.cols(),s=e.rows(),a=e.rpp(),n=e.details;e.pages=this.collection.page(this.index,a,s,i),this.formatFeatured&&this.formatFeatured();var r=this.getDeviceSize(),l=this.model.get("config_options"),d=h.extend({rpp:a,cols:i,rows:s,peeking:this.peeking(a),entity_type:e.entity_type,seeAll:t.get("seeAll"),config_options:l,showDetails:n,href_target:o.partials.href_target,image_asset_src:,this.options.ads.helpers(this.model.toJSON(),this.getAdPosition()),this.model);e.length=e.pages.length,e.$el.html(e.template.render(d,this.ctx_additions())),this.renderPages(),this.adListeners()},matchDetailHeights:function(){var e=this.$(".entity-container.match-detail-height");e.css("min-height","inherit");var t=e.map(.get(),i=Math.max.apply(null,t);e.css("min-height",i)},renderPages:function(){var e=this,t=e.cols(),i=e.rows(),s=e.rpp();e.rppVal=s,e.pageViews=[],e.itemViews=[],e.pages&&(e.itemViews=e.createItemViews(),e.pages.forEach(function(a,o){if(a.models.length>0){var n=e.createPageView(t,i);e.pageViews.push(n),e.appendPageView(n);e.itemViews.slice(o*s,(o+1)*s).forEach(function(e){n.appendItemView(e)})}}))},ready:function(){var t=e.window.innerWidth>r.midLow,s=t&&this.$(".slider-page").length>1,a=!(!s||!this.sliderLeftPeek),o=this.peekAmount(),n=this.sliderLeftPeek,l=this&&this.transformAmount&&this.transformAmount()||0,d=this.translations||{},c=this.rpp(),h=this.model.get("config_options"),u=h&&h.define_item_number,p=u&&u>c+c*this.index&&u-1<this.collection.length,m=p?Math.floor(u/c):this.index,f=this.model.get("view")||"";if(this.$(".dots").remove(),this.init=!0,this.$(".slides ol").swipeasaurus({moduleName:this.el.dataset.module,modulePosition:this.el.localName,arrows:!0,prevLabel:d.previous_slide||"Previous",nextLabel:d.next_slide||"Next",ofLabel:d.of||"of",loop:!1,right:o,leftArrow:n,left:a?o:0,index:this.index,activeIndex:m,speed:this.slideTime,rtl:i.rtl,dots:this.show_dots,transformAmount:l}),this.init=!1,this.$pages=this.$(".slides ol > li"),a&&"seo_link_slider"!==f){var g=100*o+"%";this.alignArrowsHoriz(g),this.alignHeaderLeft(g)}(this.leftArrowSvg&&t||"starwars"===this.model.collection.site_code)&&this.injectLeftArrowSvg(),"thumbnail"===this.align_arrows_vert&&this.rows()<2&&"seo_link_slider"!==f&&this.alignArrowsVert(),this.$(".entity-link.title-link").attr("tabindex",-1),this.hasEmptyAdSlot&&this.removeEmptyAdSlot(),this.matchDetailHeights()},resize:function(){var e=this,t=e.pages,i=e.cols(),s=e.rows(),a=e.rpp(),o=e.peeking(),n=e.peekAmount(),r=e.rppVal||a,l=0,d=0;e.rppVal=a,e.pages=e.collection.page(e.index,a,s,i),e.$slides=c(".slides, .slides ol"),l=Math.max(0,e.pages.length-t.length),d=Math.max(0,t.length-e.pages.length),l&&h.times(l,function(){var t=e.createPageView(i,s);e.appendPageView(t),e.pageViews.push(t)}),e.pages.forEach(function(t,o){e.itemViews.slice(o*a,(o+1)*a).forEach(function(t){e.pageViews[o].appendItemView(t).updateColRows(i,s)})}),d&&h.times(d,,a&&r&&a!==r&&e.$slides.removeClass("peek-"+r).addClass("peek-"+a),o&&n>0?(e.$slides.removeClass("peek-"+r),e.$slides.addClass("peek-"+a),e.$(".bound").removeClass("no-peek")):e.$(".bound").addClass("no-peek"),e.ready()},peeking:rows:function(){return(this.model.get("config_options")||{}).num_rows||1},rpp:cols:function(){var e=d(),t=this.wide(),i=this.collection.first(),s=i&&i.get("entity_config"),a=s&&s.aspect_ratio,o=this.model.get("style_options").items_per_row_override;if(o&&t)return this.getItemsPerRow(o);switch(a){case"poster":case"dvd_case":case"letter":return t?4:e>=r.midLow?3:2;case"baseball_card":return e>=r.max?5:t?4:e>=r.midLow?3:2;case"square":return e>=r.max?4:t?3:2;case"16x9":case"4x3":case"poster_landscape":return t?3:e>=r.midLow?2:1;case"widescreen":return e>=r.midHigh?2:1;default:return t?3:2}},createPageView:appendPageView:createItemViews:function(){var e=this,t=e.model&&e.model.get("config_options")||{},i=e.model&&e.model.get("style_options"),s=e.collection&&e.collection.first().get("entity_config"),a=e.model&&e.model.get("translations"),o=e.model&&e.model.get("data"),l=o&&o[0]&&o[0].item_titles_below,d=t&&t.display_movie_release_date,c=t&&t.display_external_link_description,u=t&&t.phase_message_below,p=s&&s.display_actor_name,m=t&&t.title_text_display,f=t&&t.display_link_only,v=t&&t.open_links_in_new_tab,_=o&&o.length,b=e.getDeviceSize(),y=s&&s.aspect_ratio,w=i&&i.slider_item_background_color,x=t&&t.define_item_number,$=this.rppVal;return e.collection.map(function(t,i){x&&x<=e.collection.length&&x>$&&i>=$&&i<Math.ceil(x/$)*$&&t.set("hidden",!1);var o={model:t,translations:e.translations,index:i+1,total:_},k=t.attributes,S=k&&k.entity_config,C=S&&S.hasOwnProperty("show_character_title")&&S.show_character_title;if(o.hide_slider_titles=!l||C,k&&"externallink"===k.section_label&&(o.title=k.short_title||k.title,c&&(o.short_desc=k.short_desc||k.description,o.display_externallink_description="external-link-description")),d){var I=t.get("release"),P=t.get("digital_released_on"),V=t.get("streaming_released_on"),D=t.get("physical_released_on"),L=h.extend(a,e.model.collection.translations),M=e.model.collection.movie_date_config;o.movie_release_date_formatted=n.formatReleaseDate(t.get("title"),L,M,I,P,V,D,t.get("raw_dates"))}if(u){o.display_phase_message=u
;var A=t.get("phase_message")||t.get("phase"),z=a||{},T=z.teaser_theatrical||"Teaser Theatrical"||"Teaser Streaming",H=z.teaser_theatrical||"Theatrical",N=z.digital||"Home Ent: Digital",O=z.digital||"Home Ent: DVD",E=z.now_on_dvd||"Now on DVD",W=z.blueray||"Home Ent: Blu-ray",j=z.digital_blueray||"Home Ent: Digital & Blu-ray",R=z.digital_dvd||"Home Ent: Digital & DVD",G=z.digital_dvd||"Home Ent: Blu-ray, DVD & Digital",B=z.blueray_dvd||"Home Ent: Blu-ray & DVD",q=z.streaming_dvd||"Home Ent: Streaming & DVD",F=z.streaming_blueray||"Home Ent: Streaming & Blu-ray",U=z.streaming_digital||"Home Ent: Streaming & Digital",Y=z.now_on_streaming_digital||"Now Streaming & on Digital",J=z.now_streaming_blueray||"Now Streaming & on Blu-ray",K=z.now_streaming_dvd||"Now Streaming & on DVD",Z=z.now_on_blueray_dvd||"Now on Blu-ray & DVD",Q=z.now_on_blueray_dvd_digital||"Now on Blu-ray, DVD, & Digital",X=z.now_on_digital_dvd||"Now on Digital & DVD",ee=z.now_on_digital_blueray||"Now on Digital & Blue-ray",te=z.now_on_digital||"Now on Bluray",ie=z.now_on_digital||"Now on Digital",se=z.in_theaters||"In Theaters",ae=z.streaming||"Streaming",oe=z.in_theaters_now||"In Theaters Now",ne=t.get("release");A&&(o.phase_message_output=A),A===T&&(o.phase_message_output=se+" "+ne),A===ae&&(o.phase_message_output=ae+" "+ne),A===H&&(o.phase_message_output=oe),A===N&&(o.phase_message_output=ie),A===O&&(o.phase_message_output=E),A===W&&(o.phase_message_output=te),A===j&&(o.phase_message_output=ee),A===R&&(o.phase_message_output=X),A===G&&(o.phase_message_output=Q),A===B&&(o.phase_message_output=Z),A===q&&(o.phase_message_output=K),A===F&&(o.phase_message_output=J),A===U&&(o.phase_message_output=Y)}if("character_details"===t.get("entity_type")||"personality"===t.get("entity_type")){var re=t.get("title"),le=t.get("entity_config")&&t.get("entity_config").show_character_title;re&&!le&&(o.actor_title=re)}if(p){var de=t.get("alt_display_name");de&&(o.actor_name=de)}if("flexgrid"===t.get("entity_type")){var ce=t.get("image_assets"),he=ce&&ce.background;o.image_asset_src=e.getSizedImage(he,b)}if(t.get("featured_image")){var ue=t.get("images"),pe="16x9"===y&&"_16x9"||"square"===y&&"_1x1"||"4x3"===y&&"_4x3"||"",me="featured_image"+pe;o.thumb_data={src:ue[me]}}var fe=t.get("entity_type");if(["episode","gallery","artifact"].includes(fe)||"externallink"===t.get("section_label")){var ge=t.get("images"),ve=e.getSizedImage(ge,b),_e=s&&s.aspect_ratio,be=b+"_"+_e,ye="";ve&&(ve[be]||(be="square"===_e?b+"_1x1":"mobile"===b?"desktop_"+_e:"mobile_"+_e),(ye=ve[be]&&(ve[be].cdn_url||ve[be].base_url))&&(o.thumb_data={src:ye}))}if(t.get("is_encyclopedia_entry")){b=e.getDeviceSize(r.max);var we=t.get("images"),xe=we&&we.desktop&&we.desktop.desktop_16x9;t.get("is_character")&&"default"!==t.get("entity_type")&&(xe=we&&we.desktop&&we.desktop.desktop_1x1);var $e=t.get("item_aspect_ratio_override");if($e){var ke=$e.split("_").length>1&&$e.split("_")[1];if("square"===ke)xe=we&&we.desktop&&we.desktop.desktop_1x1;else{var Se="desktop_"+ke;xe=we&&we.desktop&&we.desktop[Se]}}o.entry_thumb=xe}if(e.$el.hasClass("details_slider")&&("encyclopedia"===t.get("entity_type")||"unstyled_entity"===t.get("entity_type"))){var Ce=t.get("title");!Ce||"below"!==m&&"overlay"!==m||(o.actor_title=Ce)}if(m&&("below"===m&&(o.title_display="title-below"),"overlay"===m&&(o.title_display="title-overlay"),"no_title"===m&&(o.title_display="no-title")),f){var Ie=o.model.attributes.href,Pe=o.model.attributes.url||o.model.attributes.character_link_url;o.model.attributes.href="#"!==Ie?Ie:Pe}if(t.get("enable_anchor_tag")&&(o.anchor_tag=o.model.attributes.url||o.model.attributes.character_link_url),v&&(o.new_tab=!0),w){var Ve=t.get("override_styles")||"";o.override_styles=Ve+" background-color: "+w+";"}return new g(o)})},getSizedImage:function(e,t){return e&&(e[t]||h.first(h.values(e)))},getDeviceSize:function(e){var t=e||r.midHigh;return s.Resize.width()>=t?"desktop":"mobile"},adListeners:function(){var e=this,t=this.$(".gpt");if(t.length){var i=this.options.ads.findSlotById(t.attr("id"));i&&i.events.on("slotRenderEnded",}else e.removeEmptyAdSlot()},getAdPosition:function(){if(!this.options.cds)return this.options.ads&&this.options.ads.setAdPosition&&this.options.ads.setAdPosition(this.model)},removeEmptyAdSlot:function(){var e=h.find(this.itemViews,function(e){return!0===e.model.get("is_ad")});if(e){var t=this.itemViews.indexOf(e);if(t>=0&&this.itemViews.splice(t,1),this.collection.remove(e.model),this.hasEmptyAdSlot=!1,this.$pages&&this.$pages.length>1){c(this.$pages[1]).find(".item").slice(0,this.rows()).enableLazyLoad().loadLazyImages()}}},alignArrowsHoriz:function(e){var t=this.$(".next"),s=this.$(".prev"),a=this.model.get("data")||this.model.data;a[0]&&a[0].item_titles_below&&this.$(".entity-details").addClass("visible"),i.rtl?(t.css("left",e),s.css("right",e)):(t.css("right",e),s.css("left",e))},alignArrowsVert:function(){var e=this.$(".next"),t=this.$(".prev"),i=e.first()&&e.first().outerHeight()||t.first()&&t.first().outerHeight(),s=this.$(".slider-page").first(),a=s.outerHeight(),o=parseInt(s.css("padding-top"),10),n=this.$(".slider-page img").first().outerHeight(),r=a-n;e.add(t).css("margin-top",o-r/2+i/4)},alignHeaderLeft:function(e){this.$(".module_header").closest(".slider-view").hasClass("header-center")||this.$(".module_header").css("left",e)},injectLeftArrowSvg:function(){if(!this.leftArrowInjected){var e=c("button.next",this.el),t=c("button.prev",this.el);this.updateArrowStyles(e),this.updateArrowStyles(t),this.leftArrowInjected=!0}},updateArrowStyles:function(t){var i,s=this.customSliderStyles.slider_color_theme,a=this.customSliderStyles.button_color_override,o=this.customSliderStyles.arrow_color_override;if(s&&t.addClass(s),t.addClass("inject-left-arrow-svg"),o)i=o;else if("main-background"===s){var n=this.stylePack.page_background_styles&&this.stylePack.page_background_styles.bg_color;i=n||"#1938ce"}a&&(t.removeClass(s),t.css("background-color",a)),c.get(this.leftArrowSvg,function(e){var s=c(e).find("svg")[0];s&&(i?c(s).find("[fill]").attr("fill",i):c(s).find("[fill]").prop("fill",!1),t.html(s)),t.html(s),t.css("background-image","none"),t.mouseout(function(e){c(e.target).closest("button").html(s)})},"xml"),this.leftArrowHoverSvg&&!e.window.matchMedia("(pointer: coarse)").matches&&c.get(this.leftArrowHoverSvg,function(e){var i=c(e).find("svg")[0];t.css("background-image","none"),t.mouseover(},"xml")}}),g=a.extend({template:o.partials.slider_item,tagName:"li",className:"col item",events:{"click .open-gallery-modal":,initialize:function(e){this.options=e||{},this.model=this.options.model,this.model.on("remove",function(){this.remove()},this),this.render(),this.addCssClasses()},render:function(){var e={item:o.entities.item,entity_container:o.entities.entity_container,"entities/entity_play_icon":o.entities.entity_play_icon,"entities/entity_overlay_video":o.entities.entity_overlay_video,"entities/entity_item_count":o.entities.entity_item_count,image_attributes:o.partials.image_attributes,href_attributes:o.partials.href_attributes,href_target:o.partials.href_target},t=h.extend(this.model.toJSON(),this.options),i=t.href||"",s=this.options.translations||{},a=["https://youtu.be","https://youtube.com","https://www.youtube.com"],n=h.find(a,,r=t.item_aspect_ratio_override,l=r&&"thumb_square"===r,d=this.model.get("config_options")||{},c=d.open_youtube_lightbox,u=d.open_native_video_lightbox,p=c&&n,m=u&&t.has_video_page,f=!(!t.model.attributes||!t.model.attributes.gallery_images);t.config_options&&t.config_options.open_gallery_modal&&(t.config_options.open_gallery_modal=!(!t.config_options.open_gallery_modal||!f)),t.is_youtube=n;var g=s.play_video||"Play video",v=p||m?" - "+g:"";t.aria_label=this.model.get("title")+" "+this.options.index+(s.ofLabel||" of ")+this.options.total+v,t.desktop_base_thumb=l?t.desktop_square_thumb:t.desktop_base_thumb,this.$el.html(this.template.render(t,e))},addCssClasses:function(){var e=[];this.model.get("hidden")&&e.push("lazy-deferred"),this.model.get("widthClass")&&e.push(this.model.get("widthClass")),e.length&&this.$el.addClass(e.join(" "))}}),v=a.extend({template:o.partials.slider_page,tagName:"li",className:"slider-page",initialize:function(e){this.options=e||{},h.defaults(this.options,{cols:1,rows:1}),this.render()},updateColRows:function(e,t){e&&e!==this.options.cols&&(this.updateClass("cols",this.options.cols,e),this.options.cols=e),t&&t!==this.options.rows&&(this.updateClass("rows",this.options.rows,t),this.options.rows=t)},updateClass:function(e,t,i){this.$el.children("ul").removeClass(e+"-"+t).addClass(e+"-"+i)},appendItemView:function(e){return this.$("ul").append(e.$el),this},render:);f.register("slider",{}),f.register("seo_link_slider",{}),f.register("characters",{cols:function(){var e=d(),t=this.wide();return e>=r.max?5:t?4:e>=r.midLow?3:2}}),f.register("slider_rfy",{cols:function(){var e=this.wide(),t=this.model.get("style_options").items_per_row_override;return t&&e?this.getItemsPerRow(t):e?3:2},initialize:function(e){this.options=e||{},h.extend(this,{entityType:"video",index:0,lastPage:0,startingCount:this.loadedPages=1,slideTime:500,init:!1}),this.$el.addClass("temp-hidden"),this.collection=this.model.data,this.fetchData()},fetchData:function(){var e=this,t=i.Recommender,s=this.collection.first(),a=s&&s.toJSON()||{};h.extend(a,{entity_overrides:{title_overlay:!1}}),t.getRecommendations(a).done(.fail(function(){var t=e.model.get("data").slice(1);t.length&&e.renderFetchedData(t)})},renderFetchedData:function(e){var t=new s.Collection(e);this.collection=new s.LazySliderCollection(t.models),this.render(),this.ready(),this.$el.removeClass("temp-hidden").loadLazyImages()}}),f.register("featured_promo_slider",{numFeatured:1,configureData:function(){var e=this;i.geo(function(t,i,a){var o=e.numFeatured,n=e.placeholders=[];if(a){var r=e.collection.where({location:a});e.collection.remove(r),e.collection.add(r,{at:0})}if(o)for(var l={widthClass:"featured",featured:!0},d=new s.Model({widthClass:"empty_placeholder"}),c=0;c<o;c++)n.push(d),e.collection.at(c).set(l)})},formatFeatured:function(){var e=this.wide();this.collection.each(function(t){if(t.get("featured")&&e){var i=t.get("promo_featured");t.set("thumb_data",{src:i})}else{var s=t.get("promo");t.set("thumb_data",{src:s})}}),e?this.collection.add(this.placeholders,{at:1}):this.collection.remove(this.placeholders)},cols:render:),f.register("junior_nav_slider",{breakpoints:[r.max,r.midHigh,l.juniorNavMin].join(" "),cols:function(){var e=d();return e>=r.max?6:e>=r.midHigh?5:e>=l.juniorNavMin?4:3},peekAmount:function(){return.25/Math.sqrt(this.rpp()/.2)}}),f.register("incredibles_slider",{show_dots:!0,align_arrows_vert:"thumbnail",peeking:function(){var t,i=this.model.get("style_options")||{},s=e.window.innerWidth;return s<=r.midLow?t="mobile":s>r.midLow&&s<=r.max?t="tablet":s>r.max&&(t="desktop"),(i.show_peeking_content||[]).includes(t)},peekAmount:function(){var e=d(),t=this.model.get("style_options"),i=t.show_peeking_content||[],s=!1,a=!1;return i&&(i.includes("desktop"),s=i.includes("tablet"),a=i.includes("mobile")),e<=r.midLow&&a?.65/Math.sqrt(this.rpp()/.2):e<=r.max+1&&s?.25/Math.sqrt(this.rpp()/.2):0},transformAmount:function(){var e=d(),t=this.model.get("style_options"),i=t&&t.show_peeking_content,s=!1,a=!1;return i&&(s=i.includes("tablet"),a=i.includes("mobile")),e<=r.midLow&&a?10:e<=r.midUltraHigh&&s?5:0},wide:function(){return d()>=r.max},cols:function(){var e=d(),t=this.wide(),i=this.model.get("style_options"),s=i.items_per_row_override,a=i.items_per_slide_page,o=4,n=2,l=1;return a&&(o=a.desktop||o,n=a.tablet||n,l=a.mobile||l),s&&t?s:t?o:e>=r.midHigh?n:l}}),f.register("featured_playlist_slider",{show_dots:!0,align_arrows_vert:"thumbnail",peeking:function(){return(this.model.get("config_options")||{}).show_peek},peekAmount:function(){return.25/Math.sqrt(this.cols()/.3)},wide:cols:function(){var e=d(),t=this.wide(),i=this.model.get("style_options"),s=i.items_per_row_override,a=this.model.get("config_options"),o=a&&a.items_per_slide_page,n=o&&o.mobile;return s&&t?s:t?o&&o.desktop||4:e>=r.midHigh?o&&o.tablet||2:n?parseInt(n,10):1},initialize:function(e){this.model.attributes.data=this.configureItems(),this.model.attributes.see_all_featured=!!this.model.attributes.seeAll,f.prototype.initialize.call(this,e)},configureItems:function(){var e=this.model.data.models,t=this.model.get("config_options"),i=t&&t.image_ratio;return e.forEach(function(e){var t=e.get("images");if(t&&t.desktop){var s=t.desktop.desktop_2x3;"ratio_16x9"===i?s=t.desktop.desktop_16x9:"ratio_1x1"===i&&(s=t.desktop.desktop_1x1),e.set({image_asset:s,image_ratio:i,show_title:!0})}}),e}}),f.register("details_slider",{events:{slide:f.prototype.events.slide,"click .show_details_container .item":function(e){var t=c(e.currentTarget),i=this.model&&this.model.data,s=i&&i.length,a=c(t.closest(".details_slider")),o=t.find(".thumb-border")[0],n=c(a).find(".selected")[0],r=c(a).find(".show-outline"),l=this.model.get("style_options")||{},d=this.model.get("config_options")||{},h=l.slider_outline_color_override,u="custom"===d.custom_highlight,p="disable"===d.custom_highlight,m=d.define_item_number||0,f=m<=s?m:0;if(e.preventDefault(),a.is(this.$el)){var g=t.index()+this.currentPage*this.rppVal;c(n).removeClass("selected"),!h||u||p||(n.style.borderColor="transparent");for(var v=0;v<r.length;v++)c(r[0]).removeClass("show-outline");if(c(o).addClass("selected"),u&&f&&!p){g+1!==f&&(o.style.borderColor="transparent")}else h&&(o.style.borderColor=h);this.setDetails(this.model.data.models[g])}},"keyup .show_details_container .item":function(e){var t=c(e.currentTarget),i=c(t.closest(".details_slider"));if(9===e.keyCode){var s=t.find(".entity-link")[0];c(s).addClass("show-outline")}else if(13===e.keyCode){var a=i.find(".details-text");c(a[0]).focus()}},"keydown .show_details_container .item":function(e){if(9===e.keyCode){var t=c(e.currentTarget),i=c(t.closest(".details_slider")),s=i.find(".show-outline")[0];c(s).removeClass("show-outline")}},"keydown .show_details_container .details-text":function(e){if(9===e.keyCode){var t,i=c(e.currentTarget),s=c(i.closest(".details_slider")),a=s.find(".selected")[0],o=c(a).closest(".item");t=e.shiftKey?o.prev(".item"):o.next(".item");var n=c(t).find(".entity-link");e.preventDefault(),n[0].focus()}},"mouseover .entity-container.show-details .entity-mask .entity-link .entity-box":function(e){var t=c(e.currentTarget),i=t.find("img"),s=this.model&&this.model.get("style_options"),a=s.enable_hover_filter&&s.hover_filter;a&&""!==a&&c(i).css("filter",a)},"mouseleave .entity-container.show-details .entity-mask .entity-link .entity-box":function(e){var t=c(e.currentTarget),i=t.find("img"),s=this.model&&this.model.get("style_options"),a=s.enable_hover_filter&&s.hover_filter;a&&""!==a&&c(i).css("filter","none")}},breakpoints:[l.detailsSliderMax,r.midUltraHigh,l.detailsSliderLow].join(" "),show_dots:!0,align_arrows_vert:"thumbnail",peeking:function(){return d()<=r.midUltraHigh},peekAmount:function(){var e=d();return e>r.midUltraHigh?0:e>=l.detailsSliderLow?.25/Math.sqrt(this.cols()/.3):.5/Math.sqrt(this.cols()/.3)},wide:function(){return d()>l.detailsSliderMax},cols:function(){var e=d(),t=this.wide(),i=this.model.get("style_options"),s=i.items_per_row_override,a=i.mobile_columns;return s&&t?s:t?6:e>r.midUltraHigh?5:e>=l.detailsSliderLow?4:a?parseInt(a,10):2},initialize:function(t){this.model.attributes.data=this.configureDetailsOnLoad(),f.prototype.initialize.call(this,t),e.window.addEventListener("resize",function(){this.verticalAlign()}.bind(this))},configureDetailsOnLoad:function(){var e=this.model.data.models[0],t=this.model&&this.model.get("data"),i=t&&t.length,s=this.model.get("style_options"),a=s.slider_outline_color_override,o=this.model.get("config_options"),n="custom"===o.custom_highlight,r="disable"===o.custom_highlight,l=o.define_item_number||0,d=l<=i?l:0,c=e.get("override_styles")||"";if(this.setDetails(e),!r)if(e.set({selected:!0}),n&&d){var h=this.model.data.models[d-1];if(h){var u=h.get("override_styles")||"";h.set({override_styles:u+" border-color: "+a+";",item_highlight:!0}),d>1&&e.set({override_styles:c+" border-color: transparent;"})}else e.set({override_styles:c+"border-color: "+a+";"})}else e.set({override_styles:c+"border-color: "+a+";"})},setDetails:function(e){var t=this.model.get("config_options")||{};if(!t||!t.display_link_only){var i=e.get("alt_text"),s=e.get("thumb_data"),a=e.get("title"),o=e.get("description"),n=e.get("url")||e.get("character_link_url"),r=e.get("alt_display_name"),l=this.$el.find(".slider-details-container"),d=l.find(".thumb"),h=l.find(".title"),u=l.find(".alt-display-name"),p=l.find(".description"),m=l.find(".learn-more");d.attr("alt",i),d.attr("data-src",s.src),d.attr("src",s.src),h.text(a),r?(u.text(r),c(u).removeClass("no-name")):c(u).addClass("no-name"),p.text(o),n?(m.attr("href",n),c(m).removeClass("no-link")):c(m).addClass("no-link");var f={alt_text:i,thumb_data:s,title:a,alt_display_name:r,description:o,learn_more:n};return this.details=f,l}},verticalAlign:function(){var e=c(this.$el).find(".slider-details-container .details-text"),t=c(this.$el).find(".slider-details-container .aspect");e.height()>t.height()?c(t).css("vertical-align","top"):c(t).css("vertical-align","")}})}(this),Whiskers("partials.preview_slider_item",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<li class="preview-item preview-item-'),s.b(s.v(s.f("index",e,t,0))),s.b(' item init" tabindex="0" data-index='),s.b(s.v(s.f("index",e,t,0))),s.b(' data-action_name="thumbnail"> <div class="img-aspect '),s.s(s.f("video_options",e,t,1),e,t,0,163,251,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("button_background_overlay",e,t,1),e,t,0,194,204,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("overlayed-")}),e.pop()),i.b(i.v(i.f("button_theme",e,t,0))),i.b(" ")}),e.pop()),s.b(" aspect "),s.s(s.f("preloaded",e,t,1),e,t,1,0,0,"")||s.b("placeholder"),s.b('" > '),s.s(s.f("noscript",e,t,1),e,t,1,0,0,"")||(s.b(' <img class="thumbnail-image '),s.s(s.f("preloaded",e,t,1),e,t,1,0,0,"")||s.b("no-src"),s.b('" title="'),s.b(s.v(s.f("seo_title",e,t,0))),s.b('" alt="'),s.b(s.v(s.f("seoCaption",e,t,0))),s.b('" data-src="'),s.b(s.v(s.f("thumbnail_image_fog",e,t,0))),s.b('" '),s.s(s.f("preloaded",e,t,1),e,t,0,490,515,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' src="'),i.b(i.v(i.f("preloaded_src",e,t,0))),i.b('" ')}),e.pop()),s.b(' itemprop="thumbnailUrl"> ')),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,582,731,"{{ }}")&&(s.rs(e,t,,e.pop()),s.b(" </div> </li>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Backbone,i=t.View,s=e.Disney,a=e.window,o=t.Resize.width,n=s.Style.breakpoints,r=e._,l=e.$,d=e.Whiskers,c=i.extend({template:d.partials.preview_slider_item,tagName:"li",className:"col item",initialize:function(e){this.options=e||{},this.model=this.options.model,this.render()},render:function(){var e={image_attributes:d.partials.image_attributes},t=r.extend(this.model.toJSON(),this.options);this.$el.html(this.template.render(t,e))}});e.Grill.PreviewSliderView=e.SwipeView.extend({initialize:render:events:{"focus .preview-item":"changeParentSlide","keydown .preview-item":"handleKeyDown"},focus:function(t){var i=l(e.document.activeElement).data("index"),s=this.$(".preview-item-"+t);if(this.$(".preview-item.init").removeClass("init"),this.$(".preview-item.current").removeClass("current"),s.addClass("current"),t!==i){var o=a.pageXOffset,n=a.pageYOffset;s.trigger("focus"),a.scrollTo(o,n)}},ready:function(){this.init=!0,this.$(".slides ol").swipeasaurus({arrows:!0,loop:!1,right:0,index:this.index,speed:this.slideTime,rtl:s.rtl}),this.init=!1,this.$pages=this.$(".slides ol > li"),this.$slides=this.options.parentSlider.$el,this.updatePageWidths()},updatePageWidths:function(){var e=this.$pages,t=this.thumbnailWidth()*this.cols();r.each(e,},changeParentSlide:function(e){var t=l(e.currentTarget).data("index")||0;this.$slides.swipeasaurus("slide",t)},handleKeyDown:function(e){return s.rtl&&39===e.keyCode||!s.rtl&&37===e.keyCode?(this.$slides.swipeasaurus("prev"),!1):s.rtl&&37===e.keyCode||!s.rtl&&39===e.keyCode?(this.$slides.swipeasaurus("next"),!1):void 0},thumbnailWidth:function(){return n.midHigh>this.containerWidth()?180:220},cols:rows:containerWidth:createItemViews:function(){var e=0;return this.collection.map(function(t){var i={model:t,index:e++};return new c(i)})}})}(this),Whiskers("partials.flex_inline_videoplayer",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="flex-inline-videoplayer video-container'),s.s(s.f("flexcontenthero",e,t,1),e,t,0,71,87,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" flexcontenthero")}),e.pop()),s.b('"> <div id="'),s.b(s.v(s.f("playerId",e,t,0))),s.b('" class="video-player"></div> <div class="video-controls-container"> <button aria-label="'),s.s(s.f("data",e,t,1),e,t,0,229,241,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.v(i.f("title",e,t,0))),i.b(" - ")}),e.pop()),s.b(s.v(s.d("translations.play_clip",e,t,0))),s.b('" class="button ada-el-focus transparent video-playback-control '),s.s(s.d("data.video_options",e,t,1),e,t,0,363,451,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("button_background_overlay",e,t,1),e,t,0,394,404,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("overlayed-")}),e.pop()),i.b(i.v(i.f("button_theme",e,t,0))),i.b(" ")}),e.pop()),s.b('" >'),s.b(s.v(s.d("translations.play",e,t,0))),s.b('</button> </div> <div id="'),s.b(s.v(s.f("playerId",e,t,0))),s.b('" class="video-player"></div> </div>'),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Backbone,s=e.Grill,a=e.Whiskers,o=e.Modernizr,n=e.jQuery,r=e._;s.FlexInlineVideoPlayer=i.View.extend({template:a.partials.flex_inline_videoplayer,initialize:render:function(){this.model=r.extend({flexcontenthero:"flexcontenthero"===this.model.get("data").entity_type},this.model),this.$el.html(this.template.render(this.model)),this.initVideo()},initVideo:function(){this.$videoParent=this.model.get("$videoParent"),this.status={};var e=this.model.get("data");if(!r.isEmpty(e&&e.video_options)){var i,s=e.video,a=e.video_options,n=!a.show_controls,l=!o.touch&&a.autoplay,d=(this.model||{}).collection||{},c={autoPlay:l,autoPlay_mute:a.start_muted,loop:a.loop_video,video:s,skinUrl:{kalturaCssOverrides:"https://static-mh.content.disney.io/matterhorn/assets/videoplayer/skins/flex_inline_videoplayer-bc9b844421af.css"},hideControlBarContainer:n,hideTopBarContainer:!0,hideLargePlayBtn:!0,ads:{enabled:!1,adTags:(d.adTags||{}).desktop},metaTags:d.meta_tags};c.video.ads={context:{noAds:,enabled:!1,targeting:this.getAdPosition()},c.video.hideLogo===undefined&&(c.video.hideLogo=!0),i=new t.MatterhornVideoPlayer(this.model.get("playerId"),c),this.$(".video-container").addClass("media-not-ready"),i=this.addListeners(i),l&&(this.status.active=!0,this.$videoParent.addClass("video-active video-autoplay")),a.hide_text_on_play&&this.$videoParent.addClass("hide-text-on-play");var h=i.controls||{};h.hide&&h.hide(),this.player=i}},events:{'click .video-container:not(".flexcontenthero") .video-controls-container':function(e){e.stopPropagation(),this.$videoParent.hasClass("video-playing")||(this.$videoParent.addClass("video-active video-playing"),this.$videoParent.find(".vjs-control-bar").show(),this.startVideo())},'click .video-container:not(".flexcontenthero")  video':function(){this.$videoParent.hasClass("video-playing")?(this.$videoParent.removeClass("video-playing"),this.$videoParent.find(".vjs-control-bar").hide()):(this.$videoParent.addClass("video-active video-playing"),this.$videoParent.find(".vjs-control-bar").show())}},addListeners:function(e){var t=this;return e.onLoaded=t.onMediaReady.bind(t),e.onPlay=t.onPlay.bind(t),e.onPause=t.onPause.bind(t),e.onContentEnded=t.onContentEnded.bind(t),e.onSocialOverlayOpened=t.hideOverlayContent.bind(t),e.onSocialOverlayClosed=t.showOverlayContent.bind(t),e.onCaptionSettingsOpened=t.hideOverlayContent.bind(t),e.onCaptionSettingsClosed=t.showOverlayContent.bind(t),e},onPlay:function(){this.trigger("video:playing")},onPause:function(){this.trigger("video:paused")},onContentEnded:onMediaReady:function(){this.status.mediaReady=!0,this.$(".video-container").removeClass("media-not-ready")},hideOverlayContent:function(){n(this.el).closest(".carousel").find(".next, .prev").hide(),n(this.el).closest(".item").find(".age-classification-icon").hide(),n(this.el).closest(".slide").find(".content-overlay").hide(),n(this.el).closest(".module:not(.item-titles-below)").length&&n(this.el).closest(".item").find(".details-container").hide();var e=this.el.querySelector("video");e&&e.pause()},showOverlayContent:function(){n(this.el).closest(".carousel").find(".next, .prev").show(),n(this.el).closest(".item").find(".age-classification-icon").show(),n(this.el).closest(".slide").find(".content-overlay").show(),n(this.el).closest(".module:not(.item-titles-below)").length&&n(this.el).closest(".item").find(".details-container").show();var e=this.el.querySelector("video");e&&e.play()},startVideo:getAspectPadding:function(){var e,t=this.model.get("data").video||{};if("resize"===this.model.get("data").video_options.display_type)return e=((t.externals||[])[0]||{}).data||{},e.height/e.width*100+"%"},getAdPosition:function(){if(!this.options.cds)return this.adPosition?this.adPosition:(this.adPosition=this.options.ads&&this.options.ads.setAdPosition&&this.options.ads.setAdPosition(this.model),this.adPosition)}})}(this),Whiskers("modules.image_gallery_inline",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("preview_active_border_color",e,t,1),e,t,0,32,518,"{{ }}")&&(s.rs(e,t,,e.pop()),s.b(' <div class="bound '),s.b(s.v(s.f("entity_type",e,t,0))),s.b('"> '),s.s(s.f("header_data",e,t,1),e,t,0,603,621,"{{ }}")&&(s.rs(e,t,,e.pop()),s.b(' <div class="inline-gallery '),s.s(s.f("show_title",e,t,1),e,t,0,680,690,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("show-title")}),e.pop()),s.b(" "),s.s(s.f("hide_pagination",e,t,1),e,t,0,726,741,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("hide-pagination")}),e.pop()),s.b('"> <div class="gallery-content"> <div class="arrows"> <button class="arrow-sizer prev ada-el-focus aw-independent" aria-label="'),s.b(s.v(s.d("translations.previous_slide",e,t,0))),s.b('"> <span class="'),s.s(s.d("style_options.custom_arrow_icon",e,t,1),e,t,1,0,0,"")||s.b("arrow-prev"),s.b(" clicon aw-independent "),s.b(s.v(s.d("config_options.caption_position",e,t,0))),s.b('" aria-label="'),s.b(s.v(s.d("translations.previous_slide",e,t,0))),s.b('" data-title="prev" data-action_name="prev"></span></button> </div> '),s.s(s.f("noscript",e,t,1),e,t,1,0,0,"")||s.b(s.t(s.f("imageViewList",e,t,0))),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,1247,1268,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.t(i.f("image_view_list",e,t,0)))}),e.pop()),s.b(' <div class="arrows"> <button class="arrow-sizer next ada-el-focus aw-independent" aria-label="'),s.b(s.v(s.d("translations.next_slide",e,t,0))),s.b('"> <span class="'),s.s(s.d("style_options.custom_arrow_icon",e,t,1),e,t,1,0,0,"")||s.b("arrow-next"),s.b(" clicon aw-independent "),s.b(s.v(s.d("config_options.caption_position",e,t,0))),s.b('" aria-label="'),s.b(s.v(s.d("translations.next_slide",e,t,0))),s.b('" data-title="next" data-action_name="next"></span></button> </div> </div> '),s.s(s.f("image_infos",e,t,1),e,t,0,1691,2062,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="image-info below-image ada-el-focus image-info-'),i.b(i.v(i.f("index",e,t,0))),i.b(" "),i.s(i.f("title",e,t,1),e,t,1,0,0,"")||i.b("no-title"),i.b(" "),i.s(i.f("caption",e,t,1),e,t,1,0,0,"")||i.b("no-caption"),i.b(" "),i.s(i.f("rich_cap",e,t,1),e,t,1,0,0,"")||i.b("no-rich-cap"),i.b('" tabindex="-1" data-image-info='),i.b(i.v(i.f("index",e,t,0))),i.b(' style="'),i.s(i.d("caption_styles.background_color",e,t,1),e,t,0,1947,2001,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("background-color: "),i.b(i.v(i.d("caption_styles.background_color",e,t,0))),i.b(";")}),e.pop()),i.b('"> '),i.b(i.rp("<imageInfo1",e,t,"")),i.b(" </div> ")}),e.pop()),s.b(" </div> "),s.b(s.t(s.f("previewSliderView",e,t,0))),s.b(" </div> "),s.s(s.f("imageGalleryModalView",e,t,1),e,t,0,2143,2170,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.t(i.f("imageGalleryModalView",e,t,0)))}),e.pop()),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<imageInfo1":{name:"imageInfo",partials:{},subs:{}}},subs:{}}),Whiskers("partials.image_gallery_inline_slide",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<li class="content-container item-'),s.b(s.v(s.f("slide",e,t,0))),s.b(" "),s.b(s.v(s.f("type",e,t,0))),s.b("-"),s.b(s.v(s.f("index",e,t,0))),s.b(" "),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.s(s.f("has_video",e,t,1),e,t,0,86,97,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("video-slide")}),e.pop()),s.b('" data-id="'),s.b(s.v(s.f("id",e,t,0))),s.b('" data-index="'),s.b(s.v(s.f("index",e,t,0))),s.b('" data-title="'),s.b(s.v(s.f("caption",e,t,0))),s.b('" tabindex="-1"> <div class="image-container '),s.s(s.f("disable_lightbox",e,t,1),e,t,0,242,249,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("disable")}),e.pop()),s.b('" aria-hidden="true"> '),s.s(s.f("noscript",e,t,1),e,t,1,0,0,"")||(s.b(" "),s.s(s.f("image",e,t,1),e,t,0,316,405,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<img class="gallery-image" src="'),i.b(i.v(i.f("image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('" width="100%" height="100%">')}),e.pop()),s.b(" "),s.s(s.f("has_video",e,t,1),e,t,0,430,505,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div id="player-'),i.b(i.v(i.f("ref",e,t,0))),i.b("-"),i.b(i.v(i.f("index",e,t,0))),i.b('-container" class="gallery-video"></div> ')}),e.pop()),s.b(" ")),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,547,670,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("image_asset",e,t,1),e,t,0,564,653,"{{ }}")&&(i.rs(e,t,,e.pop()),i.b(" ")}),e.pop()),s.b(' </div> <div class="image-info '),s.b(s.v(s.f("caption_position",e,t,0))),s.b(" "),s.s(s.f("title",e,t,1),e,t,1,0,0,"")||s.b("no-title"),s.b(" "),s.s(s.f("caption",e,t,1),e,t,1,0,0,"")||s.b("no-caption"),s.b(" "),s.s(s.f("rich_cap",e,t,1),e,t,1,0,0,"")||s.b("no-rich-cap"),s.b('" style="'),s.s(s.d("caption_styles.background_color",e,t,1),e,t,0,881,935,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("background-color: "),i.b(i.v(i.d("caption_styles.background_color",e,t,0))),i.b(";")}),e.pop()),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,985,1e3,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("display: block;")}),e.pop()),s.b('"> '),s.s(s.f("noscript",e,t,1),e,t,1,0,0,"")||s.b(s.rp("<imageInfo0",e,t,"")),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,1070,1085,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.t(i.f("imageInfo",e,t,0)))}),e.pop()),s.b(" </div> </li>"),s.fl()},partials:{"<imageInfo0":{name:"imageInfo",partials:{},
subs:{}}},subs:{}}),Whiskers("partials.image_gallery_info",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("href",e,t,1),e,t,0,9,426,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" '),i.b(i.rp("<href_target0",e,t,"")),i.b('> <div class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</div> <div class="description-container '),i.s(i.f("rich_cap",e,t,1),e,t,0,129,138,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("rich-text")}),e.pop()),i.b('"> '),i.s(i.f("rich_cap",e,t,1),e,t,0,167,181,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.t(i.f("rich_cap",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("rich_cap",e,t,1),e,t,1,0,0,"")||(i.b('<p class="description">'),i.b(i.v(i.f("caption",e,t,0))),i.b("</p>")),i.b(' <span class="image-count base-color"> <span class="current-count">'),i.b(i.v(i.f("ui_index",e,t,0))),i.b("</span> <span>"),i.b(i.v(i.d("translations.of",e,t,0))),i.b("</span> <span>"),i.b(i.v(i.f("numImages",e,t,0))),i.b("</span> </span> </div> </a> ")}),e.pop()),s.b(" "),s.s(s.f("href",e,t,1),e,t,1,0,0,"")||(s.b(' <div class="title">'),s.b(s.v(s.f("title",e,t,0))),s.b('</div> <div class="description-container '),s.s(s.f("rich_cap",e,t,1),e,t,0,528,537,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("rich-text")}),e.pop()),s.b('"> '),s.s(s.f("rich_cap",e,t,1),e,t,0,566,580,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.t(i.f("rich_cap",e,t,0)))}),e.pop()),s.b(" "),s.s(s.f("rich_cap",e,t,1),e,t,1,0,0,"")||(s.b('<p class="description">'),s.b(s.v(s.f("caption",e,t,0))),s.b("</p>")),s.b(' <span class="image-count base-color"> <span class="current-count">'),s.b(s.v(s.f("ui_index",e,t,0))),s.b("</span> <span>"),s.b(s.v(s.d("translations.of",e,t,0))),s.b("</span> <span>"),s.b(s.v(s.f("numImages",e,t,0))),s.b("</span> </span> </div> ")),s.fl()},partials:{"<href_target0":{name:"href_target",partials:{},subs:{}}},subs:{}}),Whiskers("partials.image_gallery_modal",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="modal-window" aria-modal="true" role="dialog" aria-labelledby="dialog1Title"> <div aria-labelledby="close-modal-button-focus"> <button id="close-modal-button-focus" class="modal-close clicon ada-el-focus aw-independent" data-title="close" aria-label="'),s.b(s.v(s.d("translations.close",e,t,0))),s.b('"></button> </div> <div class="modal-header"></div> <div class="modal-content"> <div class="arrows"> <button class="arrow-sizer prev ada-el-focus aw-independent"><span class="arrow-prev clicon aw-independent" data-title="prev" aria-label="'),s.b(s.v(s.d("translations.previous",e,t,0))),s.b('"></span></button> <button class="arrow-sizer next ada-el-focus aw-independent"><span class="arrow-next clicon aw-independent" data-title="next" aria-label="'),s.b(s.v(s.d("translations.next",e,t,0))),s.b('"></span></button> </div> '),s.b(s.t(s.f("imageViewList",e,t,0))),s.b(' </div> <div class="modal-footer"> '),s.s(s.d("style_options.exclude_share",e,t,1),e,t,1,0,0,"")||(s.b(" "),s.s(s.f("cds",e,t,1),e,t,1,0,0,"")||(s.b(" "),s.s(s.f("suppress_social",e,t,1),e,t,1,0,0,"")||(s.b(' <span class="social"> '),s.b(s.rp("<partials/social_btn0",e,t,"")),s.b(" </span> ")),s.b(" ")),s.b(" ")),s.b(" "),s.s(s.d("style_options.allow_download",e,t,1),e,t,0,1021,2033,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <a class="ada-el-focus download button" download role="button" '),i.s(i.d("style_options.download_button_color",e,t,1),e,t,0,1125,1192,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' style="background-color: '),i.b(i.v(i.d("style_options.download_button_color",e,t,0))),i.b('" ')}),e.pop()),i.b('> <svg viewBox="0 0 21 20" xmlns="http://www.w3.org/2000/svg" '),i.s(i.d("style_options.download_button_lightness",e,t,1),e,t,0,1338,1371,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('style="fill: black;stroke: black"')}),e.pop()),i.b('> <path d="M1,19 L20,19 L20,11.5 L20,11 L21,11 L21,11.5 L21,19.5 L21,20 L20,20 L1,20 L0,20 L0,19.5 L0,11.5 L0,11 L1,11 L1,11.5 L1,19 Z M11,12.2928932 L15.1464466,8.14644661 L15.5,7.79289322 L16.2071068,8.5 L15.8535534,8.85355339 L11.2071068,13.5 L10.5,14.2071068 L10.1464466,13.8535534 L5.14644661,8.85355339 L4.79289322,8.5 L5.5,7.79289322 L5.85355339,8.14644661 L10,12.2928932 L10,0.5 L10,0 L11,0 L11,0.5 L11,12.2928932 Z"> </path> </svg> <span class="download-text" '),i.s(i.d("style_options.download_button_lightness",e,t,1),e,t,0,1928,1950,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' style="color: black" ')}),e.pop()),i.b(">"),i.b(i.v(i.d("translations.download",e,t,0))),i.b("</span> </a> ")}),e.pop()),s.b(' <button class="print ada-el-focus" aria-label="'),s.b(s.v(s.d("translations.print",e,t,0))),s.b('"></button> <span class="image-count"><span class="current-count">1</span> <span>'),s.b(s.v(s.d("translations.of",e,t,0))),s.b("</span> <span>"),s.b(s.v(s.f("totalImages",e,t,0))),s.b('</span></span> </div> <div class="loading-status"><span>'),s.b(s.v(s.d("translations.loading",e,t,0))),s.b('...</span></div> <div class="modal-info"> <h2 class="modal-title skip-text-styles" id="dialog1Title">'),s.b(s.v(s.f("gallery_title",e,t,0))),s.b('</h2> </div> </div> <div class="modal-overlay"></div>'),s.fl()},partials:{"<partials/social_btn0":{name:"partials/social_btn",partials:{},subs:{}}},subs:{}}),Whiskers("partials.image_gallery_slide",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<li class="content-container item-'),s.b(s.v(s.f("slide",e,t,0))),s.b(" "),s.b(s.v(s.f("type",e,t,0))),s.b("-"),s.b(s.v(s.f("index",e,t,0))),s.b(" "),s.b(s.v(s.f("type",e,t,0))),s.b('" data-id="'),s.b(s.v(s.f("id",e,t,0))),s.b('" data-title="'),s.b(s.v(s.f("caption",e,t,0))),s.b('"> <div class="image-info"> '),s.s(s.f("rich_cap",e,t,1),e,t,0,154,199,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="description">'),i.b(i.t(i.f("rich_cap",e,t,0))),i.b("</div>")}),e.pop()),s.b(" "),s.s(s.f("rich_cap",e,t,1),e,t,1,0,0,"")||(s.b('<div class="description caption"><p>'),s.b(s.t(s.f("caption",e,t,0))),s.b("</p></div>")),s.b(' </div> <div class="gallery-image-sizer"> '),s.s(s.f("ad",e,t,1),e,t,0,347,578,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="interstitial-container"> <div class="gallery_ad"><div class="ad-sizer"></div></div> </div> <p class="skip-ad"><span class="skip-prev"></span><span class="skip-text">'),i.b(i.v(i.f("skipText",e,t,0))),i.b('</span><span class="skip-next"></span></p>')}),e.pop()),s.b(" "),s.s(s.f("ad",e,t,1),e,t,1,0,0,"")||s.b(' <img class="gallery-image"> '),s.b(" </div> </li>"),s.fl()},partials:{},subs:{}}),Whiskers("partials.social_btn",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<button type="button" class="social-link-btn ada-el-focus '),s.s(s.f("social_btn_text_lightness",e,t,1),e,t,0,88,123,"{{ }}")&&(s.rs(e,t,,e.pop()),s.b(" "),s.s(s.d("style_options.share_button_lightness",e,t,1),e,t,0,195,204,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("text-dark")}),e.pop()),s.b('" data-source="'),s.s(s.f("shareOverrides",e,t,1),e,t,0,279,302,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.v(i.d("shareOverrides.href",e,t,0)))}),e.pop()),s.s(s.f("shareOverrides",e,t,1),e,t,1,0,0,"")||s.b(s.v(s.f("href",e,t,0))),s.b('" '),s.s(s.f("content_collection_id",e,t,1),e,t,0,395,438,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('data-collection="'),i.b(i.v(i.f("content_collection_id",e,t,0))),i.b('"')}),e.pop()),s.b(' data-thumb="'),s.b(s.v(s.f("thumb",e,t,0))),s.b('" data-title="'),s.s(s.f("shareOverrides",e,t,1),e,t,0,519,543,"{{ }}")&&(s.rs(e,t,,e.pop()),s.b(" "),s.s(s.f("shareOverrides",e,t,1),e,t,1,0,0,"")||s.b(s.v(s.f("title",e,t,0))),s.b(" "),s.s(s.f("result_type",e,t,1),e,t,0,627,719,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(": "),i.b(i.v(i.f("correct_count",e,t,0))),i.b(" "),i.b(i.v(i.d("translations.correct",e,t,0))),i.b(", "),i.b(i.v(i.f("incorrect_count",e,t,0))),i.b(" "),i.b(i.v(i.d("translations.incorrect",e,t,0)))}),e.pop()),s.b('" '),s.s(s.f("embedURL",e,t,1),e,t,0,750,781,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' data-embed-url="'),i.b(i.v(i.f("embedURL",e,t,0))),i.b('" ')}),e.pop()),s.b(" "),s.b(' id="share-btn-'),s.b(s.v(s.f("uid",e,t,0))),s.b('" aria-label="'),s.b(s.v(s.d("translations.share",e,t,0))),s.b('" '),s.s(s.d("style_options.share_button_color",e,t,1),e,t,0,967,1031,"{{ }}")&&(s.rs(e,t,,e.pop()),s.b('> <span class="icon-social"></span> <span class="social-share-title" '),s.s(s.d("style_options.share_button_lightness",e,t,1),e,t,0,1178,1199,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' style="color: black"')}),e.pop()),s.b(">"),s.b(s.v(s.d("translations.share",e,t,0))),s.b("</span> </button> "),s.s(s.f("showMoreLess",e,t,1),e,t,0,1298,1371,"{{ }}")&&(s.rs(e,t,,e.pop()),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Backbone,s=e.Disney,a=e.Whiskers,o=s.AnalyticsWatcher,n=e.history,r=e.$,l=e._;t.ImageGalleryModal=t.ModuleView.extend({tagName:"div",className:"image-gallery-modal",template:a.partials.image_gallery_modal,included_components:{"partials/social_btn":a.partials.social_btn},events:{"click .modal-close":function(){this.close()},"click .skip-ad":function(e){r(e.target).hasClass("skip-prev")?this.prev():this.next()},"click .arrow-sizer.prev":function(){this.prev()},"click .arrow-sizer.next":function(){this.next()},"click .print":function(){var e=this.$el.parents(".module.image_gallery, .module.image_gallery_inline");e.addClass("include-in-print"),this.$el.addClass("hide-from-print"),this.printExclusive(),e.removeClass("include-in-print")},"touchstart .print":,resizeParams:{},initialize:function(e){this.options=e||{},this.numSlides=this.collection.length,this.imageViewList=new t.ListView({className:"modal-slides",collection:this.collection,template:{render:function(e){l.extend(e,{imgSrc:function(){return i.Resize.width()<=568?this.get("mobile_image"):this.get("image")}});var t=e.get("image_no_crop")?e.get("image_no_crop"):e.get("image");return e.set("printSrc",t||null),a.partials.image_gallery_slide.render(e,{})}}})},render:function(){var e=l.extend(this.options,{suppress_social:!1,imageViewList:s.placeHtml(this.imageViewList)});this.$el.html(this.template.render(e,this.ctx_additions())),s.placeSwap(this,this.imageViewList),this.ready()},ready:function(){var t=this;this.$modal=this.$(".modal-window"),this.$slides=this.imageViewList.$el,this.$(".content-container").css("visibility","hidden"),r("html").addClass("single-page-print"),this.$(".modal-window").on("keyup",function(e){if("visible"===t.$modal.css("visibility"))switch(e.keyCode){case 27:t.close();break;case 37:t.prev();break;case 39:t.next()}}),this.$el.css("display","none"),e.setTimeout(0)},printExclusive:open:function(e){var t=this;this.$slides.swipeasaurus({moduleName:"image_gallery_modal",moduleType:"image_gallery_modal",modulePosition:this.el.localName,arrows:!0,loop:!1,speed:500}),this.$slides.on("slide",;var i=this.viewForIndex(e);this.$modal.addClass("first-shown"),this.$slides.swipeasaurus("effect","fade"),this.$modal.addClass("loading");var s=i.$el.find("img")[0];this.sizeItem(s,i),this.onSlide(e),this.$slides.swipeasaurus("slide",e),this.$slides.swipeasaurus("effect","slide"),this.$modal.addClass("modal-show"),i.$el.css("visibility","visible"),this.$el.css("display","block"),r("html").addClass("modal-no-scroll");var a=null;this.$el.find(".modal-window").on("keydown",function(e){a!==e.shiftKey&&(e.shiftKey?(t.$el.find(".print.ada-el-focus").off("blur"),t.$el.find(".modal-close.clicon.ada-el-focus").blur():(t.$el.find(".modal-close").off("blur"),t.$(".print.ada-el-focus").blur(),a=e.shiftKey)}),o&&o.track("click",{action:"motion_open",event_name:"module interaction",link_name:"open",link_position:this.el.localName,link_target_type:"button",module_name:"image_gallery_modal",module_type:"image_gallery_modal"})},close:function(){this.$(".modal-close").data("currentitem",this.currentImage),this.$modal.removeClass("modal-show loading"),this.$(".content-container").css("visibility","hidden"),r("html").removeClass("modal-no-scroll"),this.unbindResize(this.currentSlide),this.$slides.css("visibility","hidden"),this.$el.css("display","none"),this.$slides.off(),this.$el.find(".modal-window").off("keydown"),this.$el.find(".print.ada-el-focus").off("blur"),this.$el.find(".modal-close").off("blur"),this.trigger("close",this.currentImage),o&&o.track("click",{action:"motion_close",event_name:"module interaction",link_name:"close",link_position:this.el.localName,link_target_type:"button",module_name:"image_gallery_modal",module_type:"image_gallery_modal"})},next:function(){this.$slides.swipeasaurus("next")},prev:viewForIndex:function(e){return this.imageViewList.views[e]},onSlide:function(t){var i=this,a=this.$(".modal-window"),o=this.$(".modal-footer .social-link-btn"),l=this.$(".modal-footer .download"),d=this.viewForIndex(t),c=d.$el.data("id"),h=d.model,u=h.get("ad"),p=t<this.numSlides-1?t+1:null,m=t>0?t-1:null,f={next:p,prev:m},g=e.document.title;if(i.itemLoaded(d)||(this.preloadItem(d,t),u||a.addClass("loading")),this.unbindResize(this.currentSlide),this.bindResize(t),this.adjacents=f,this.currentImage=h.get("index"),this.currentSlide=t,this.currentView=d,this.$(".current").removeClass("current"),d.$el.addClass("current"),u&&(this.$modalAd.find(".ad-sizer").length>0&&this.initializeModalAd(d),this.insertAd(d)),r.each(f,function(e,a){if(a){var o=i.viewForIndex(a);i.itemLoaded(o)?s.Style.fitToScreen(i.fetchResizeParams(a)):i.preloadItem(o,t)}}),this.options.style_options.allow_download&&!u){var v=d.$el.data("downloadURL");v?(l.attr("href",v),l.attr("download",d.$el.data("downloadName"))):this.setDownloadInfo(l,d)}if(this.setNewText(d),this.insertPrintData(d),d.$el.css("visibility","visible"),d.$el.css("opacity",1),a.hasClass("first-shown")&&e.setTimeout(800),s.Style.fitToScreen(i.fetchResizeParams(t)),n&&n.replaceState){var _=this.getParams(!0);n.replaceState({},g,c?"?image_id="+d.$el.data("id")+_:"?")}o.data("source",e.location.href),o.data("thumb",d.model.get("printSrc")),this.trigger("slide",this.currentImage)},bindResize:function(t){var i=this,a=i.fetchAdjacents(),o=function(){s.Style.fitToScreen(i.fetchResizeParams(t)),a&&a.length>0&&r(a).each(},n=this.cid+"slide"+t;r(e).on("resize."+n+" orientationchange."+n,l.debounce(o,100))},unbindResize:function(t){r(e).off("resize."+this.cid+"slide"+t)},setResizeParams:function(e,t){var i=t.$el,s=this.$(".modal-window"),a=this.$(".modal-header"),o=i.find(".image-info"),n="item"+i.index();return this.resizeParams[n]=[e,s,a,o,.46],this.resizeParams[n]},fetchResizeParams:fetchAdjacents:itemLoaded:function(e){var t=!1;if(!e.model.get("ad")){var i=e.$el.find("img")[0];t=i&&!!i.src}return t},preloadItem:function(t){var s=this,a=t.model;if(!a.get("ad")){var o=a.get("image_no_crop")?a.get("image_no_crop"):a.get("image")||a.attributes.image,n=i.Resize.width()<=568&&a.get("mobile_image")?a.get("mobile_image"):o,l=a.get("alt_text"),d=new e.Image;d.className="gallery-image",d.src=n,d.alt=l,d.complete?s.insertNewItem(t,d):r(d).on("load",function(){s.insertNewItem(t,d)})}else s.insertNewItem(t)},insertNewItem:function(e,t){var i;if(e.model.get("ad"))i=this.$modalAd;else{var s=e.$el.find("img")[0]||null;s&&t&&r(s).replaceWith(t),i=t}this.sizeItem(i,e),this.$(".modal-window").removeClass("loading")},sizeItem:function(t,i){var s,a,o,n=this;if(t===this.$modalAd){var r=t.find(".ad-sizer, .gpt, .admaster");s=r.height(),a=r.width(),o=!0,this.fitToScreen(a,s,o,t,i)}else{var l=new e.Image;l.addEventListener("load",function(){s=l.height,a=l.width,o=!1,n.fitToScreen(a,s,o,t,i)},!1),l.src=t.src}},fitToScreen:function(e,t,i,a,o){var n={height:t,width:e,limitMax:i,item:a};o.aspectRatio=t/e,s.Style.fitToScreen(this.setResizeParams(n,o)),this.$(".modal-window").removeClass("loading")},setDownloadInfo:function(e,t){var i=t.model.get("title"),s="download=true",a=t.model.get("printSrc"),o=a.split("?"),n=o[0].split(".").pop(),r=o[1];if(r=r?r+"&"+s:s,a=o[0]+"?"+r,e.attr("href",a),t.$el.data("downloadURL",a),i){i=i.trim().replace(/[^A-Za-z0-9\s]/g,"").replace(/\s+/g,"-");var l=i+"."+n;e.attr("download",l),t.$el.data("downloadName",l)}},setNewText:function(e){var t=parseInt(e.model.get("index"),10),i=this.fetchAdjacents().next,s=this.fetchAdjacents().prev,a=i?this.viewForIndex(i).model:e.model,o=s?this.viewForIndex(s).model:e.model,n=e.model.get("ad"),r=this.$(".modal-window");n?r.addClass("ad-view"):(this.$(".current-count").html(t+1),r.removeClass("ad-view")),this.$(".arrow-prev").data({currentitem:i?a.get("index"):this.numSlides,viewtype:a.get("type")}),this.$(".arrow-next").data({currentitem:s?o.get("index"):0,viewtype:o.get("type")})},insertPrintData:function(e){var t=r("#print-image img")[0],i=e.model.get("printSrc"),s=e.model.get("caption");t&&(t.src=i),r("#print-image .caption").html(s)},insertAd:function(e){var t=this.$modalAd.detach(),i="modalInterstitial";e.$el.find(".interstitial-container").html(t),this.options.ads.slots[i]&&this.options.ads.slots[i].refresh()},initializeModalAd:function(e){var t=this.options.ads.tag("modalInterstitial"),i=e.$el.find(".interstitial-container .gallery_ad");i.html(t),this.options.ads.slots.modalInterstitial.ready(),this.$modalAd=i},remove:getParams:function(t){var i=e.location.href;if(i.includes("?")){var s=i.split("?")[1],a=s.split("&");return a=a.filter(.join("&"),t&&a.length>0?"&"+a:a}}})}(this),function(e){"use strict";var t=e.Disney,i=e.Math,s=e.jQuery;t.Style.fitToScreen=function(e){if(e){var t=e[0],a=t&&t.item,o=t.height/t.width||0,n=t.limitMax,r=e[1],l=e[2]&&e[2].height()||0,d=e[3],c=d&&d.height()||0,h=e[4]||.5,u=r.height(),p=u-l-c,m=r.width(),f=n?t.width:i.min(p/o,m),g=n?t.height:f*o,v=i.max(i.abs(p-g)*h,0),_=v+g;d.css({top:_}),a&&s(a).css({height:g,width:f,top:v})}}}(this),function(e){"use strict";var t=e.Grill,i=e.Disney,s=e.Whiskers,a=e.Backbone,o=i.Style.breakpoints,n=13,r=e.history,l=e._,d=e.jQuery,c=l.values(o);t.ModuleView.register("image_gallery_inline",{style_classes:["skip-top-border"],template:s.modules.image_gallery_inline,required_template_sets:["module_header"],breakpoints:c.join(" "),videoPlayers:{},initialize:function(i){this.options=i||{};var o=this,n=this.model,r=l.first(this.model.get("data")),c=this.model.get("config_options")||{},h=this.model.get("style_options")||{},u=!!this.options.cds,p=this.model.get("data"),m=[];if(p.forEach(function(e){if("movie_image"===e.entity_type){var t={};t.image=e.images.movie_image.image,t.title=e.title,t.alt_text=e.alt_text,m.push(t)}else e.gallery_images&&(m=m.concat(e.gallery_images))}),l.extend(this,{allImages:m,numImages:m.length,galleryImages:[],cmsID:r.id,show_preview_slider:c.show_preview_slider,show_title:c.show_title,hide_pagination:c.hide_pagination,preview_active_border_color:c.preview_active_border_color,caption_styles:h.caption_styles||{},imageIds:[]}),d.each(this.allImages,function(e,t){var i=t&&t.image||"",s=i.substring(i.lastIndexOf("/")+1).split(".")[0];o.imageIds.push(s),t.id=s,t.index=e,t.ui_index=e+1,t.numImages=m.length,t.type="image",t.caption=t.caption||"",o.galleryImages.push(t)}),this.hasVideoContent()&&(this.assets={scripts:["https://static-mh.content.disney.io/matterhorn/assets/videoplayer-950432a8cc04.js"]},this.galleryImages=this.addVideoInfo(this.galleryImages)),this.galleryCollection=new a.LazyCollection(this.galleryImages),this.imageViewList=new t.ListView({className:"inline-gallery-slides",collection:this.galleryCollection,template:{render:function(e){return l.extend(e,{imgSrc:function(){return a.Resize.width()<=568?this.get("mobile_image"):this.get("image")},ref:n.get("ref"),caption_position:c.caption_position,disable_lightbox:c.disable_lightbox,caption_styles:h.caption_styles||{},translations:n.get("translations")}),s.partials.image_gallery_inline_slide.render(e,{imageInfo:s.partials.image_gallery_info,href_target:s.partials.href_target})}}}),this.show_preview_slider){var f=l.clone(this.model);f.attributes=l.omit(this.model.attributes,"header_data"),this.previewSliderView=new e.Grill.PreviewSliderView({className:"preview-slider",collection:this.galleryCollection,parentSlider:this.imageViewList,model:f,ads:this.options.ads})}c.copy_alignment&&h.additional_style_classes&&h.additional_style_classes.push(c.copy_alignment);var g=this.model.get("translations");g.print=g.print||"Print",this.imageGalleryModalView=new e.Grill.ImageGalleryModal({cds:u,ads:this.options.ads,translations:g,collection:this.galleryCollection,totalImages:this.numImages,style_options:h,gallery_title:r.gallery_title||""}),c.disable_lightbox||this.imageGalleryModalView.on("close",this.onClose.bind(this))},render:function(){var e,t=this.imageViewList,a=this.previewSliderView,o="below"===this.model.get("config_options").caption_position;e=l.extend(this.model,{numImages:this.numImages,cds:this.cds,show_title:this.show_title,hide_pagination:this.hide_pagination,preview_active_border_color:this.preview_active_border_color,image_infos:this.galleryImages,imageViewList:i.placeHtml(t),previewSliderView:i.placeHtml(a),caption_styles:this.caption_styles,imageGalleryModalView:i.placeHtml(this.imageGalleryModalView)}),this.$el.html(this.template.render(e,{imageInfo:s.partials.image_gallery_info,module_header:s.partials.module_elements.module_header})),i.placeSwap(this,t),i.placeSwap(this,a),i.placeSwap(this,this.imageGalleryModalView),this.imageViewList.$el.first().addClass("current"),this.setBelowCaptionHeight(),this.setImagesFixedHeight(this.$el,this.model,o)},ready:function(){var t=this,s=this.model.get("style_options"),a=e.devicePixelRatio>1.5,o=this.viewForIndex(0);if(this.$slides=this.imageViewList.$el,this.$slides.swipeasaurus({moduleName:this.el.dataset.module,modulePosition:this.el.localName,arrows:!0,next:"#"+this.$el.attr("id")+" .arrow-sizer.next",prev:"#"+this.$el.attr("id")+" .arrow-sizer.prev",loop:!1,speed:500,rtl:i.rtl,sliderHeight:"activeSlide"}),this.$slides.on("slide",.on("touchstart",this.onTouchStart.bind(this)),s&&s.custom_arrow_icon){var n=s&&s.custom_arrow_icon,r=a&&n.retina?n.retina:n.normal||n.retina;this.$(".arrow-sizer > span").addClass("image-overidden").css("background-image","url('"+r+"')")}this.preloadItem(o),this.setNewText(o),this.hasVideoContent()&&(this.$el.addClass("has-video-content"),this.initVideoPlayer(),this.show_preview_slider&&this.addPreviewSliderPlayOverlay()),this.deepLink()},deepLink:function(){var t=e.location.href.match(/[?&]image_id=([^&]+)#?/)||[],i=e.location.hash.match(/image\/([a-z0-9]*)/)||[],s=t[1]||i[1],a=s&&s.length?this.imageIds.indexOf(s):-1;a>=0&&(this.autoPaginate=!1,this.openModal(a))},resize:function(){var e,t=this.view.$el.find("img")[0],i=t&&t.height||0,s=t&&t.width||0,a="below"===this.model.get("config_options").caption_position;e=Math.floor(this.view.$el[0].clientWidth*i/s),this.$(".current").toggleClass("tall-image",e>this.view.$el[0].clientHeight),this.setBelowCaptionHeight(),this.setImagesFixedHeight(this.$el,this.model,a)},events:{"click li.content-container:not(.video-autoplay) .video-controls-container":function(e){var t=d(e.target);if(!t.hasClass("playkit-icon")&&!t.hasClass("playkit-overlay-action")){e.stopPropagation();var i=this.videoPlayers[this.getPlayerId()],s=d(e.currentTarget);i&&!s.hasClass("video-playing")&&i.startVideo(e)}},"keydown .flex-inline-videoplayer .video-playback-control":function(e){if(e.keyCode===n){e.preventDefault();var t=this.videoPlayers[this.getPlayerId()];t&&(t.startVideo(),this.getActiveSlide().trigger("focus"))}},"keydown li.content-container":function(e){var t=this.videoPlayers[this.getPlayerId()],i=d(e.currentTarget);e.keyCode!==n&&32!==e.keyCode||(e.preventDefault(),t?i.hasClass("video-playing")||t.startVideo(e):this.startModel(e))},"focus li.content-container :focusable":function(e){var t=d(e.currentTarget),i=t.closest("li.content-container"),s=i.data("index")||0;this.$slides.swipeasaurus("slide",s)},"click .gallery-image, .inline-gallery .image-info":,startModel:function(e){var t=d(e.currentTarget);if(!(this.model.get("config_options")||{}).disable_lightbox&&!t.find("a").attr("href")){e.preventDefault();var i;if(t.hasClass("image-info")){if(t.hasClass("below-image"))return void this.openModal(d(t).data("image-info"));t=t.closest(".image-info")}i=t.closest(".content-container").index(),this.openModal(i)}},hasVideoContent:addPreviewSliderPlayOverlay:function(){var e=this.$(".preview-slider .slides .col.item");l.each(this.galleryImages,function(t,i){t.has_video&&d(e.get(i)).addClass("video-slide")})},addVideoInfo:function(e){return l.map(e,function(e){return e.has_video=!!e.video,e})},getActiveSlide:getActiveSlideIndex:getPlayerId:function(e){return"player-"+this.model.get("ref")+"-"+(e!==undefined?e:this.getActiveSlideIndex())},getPlayerContainerId:hasVideoPlayerEl:function(e){return this.$("#"+this.getPlayerId(e)).children().length>0},initVideoPlayer:function(){var e=this.getPlayerId(),i=this.getPlayerContainerId(),s=this.getActiveSlideIndex(),o=this.galleryImages[s];if(o.has_video&&!this.hasVideoPlayerEl()){var n=new t.FlexInlineVideoPlayer({el:this.$("#"+i),model:new a.Model({data:o,playerId:e,$videoParent:this.getActiveSlide(),translations:this.model.get("translations")})});n.player&&(this.videoPlayers[e]=n,this.disableTouch=!1,this.listenTo(n,"video:playing",function(){this.handleVideoPlayingState(n),this.disableTouch=!0}),this.listenTo(n,"video:paused",,this.listenTo(n,"video:playComplete",)}},handleVideoPlayingState:handleVideoStopState:function(e){e&&(e.$videoParent.removeClass("video-active video-playing"),e.$videoParent.find(".vjs-control-bar").hide())},handleVideoSlide:function(e){var t=this.videoPlayers[this.getPlayerId(e)];if(t){var i=t.el.querySelector("video");i&&(i.pause(),t.player.onPause())}},itemLoaded:function(e){return!!e.$el.find("img").attr("src")},preloadItem:function(t){var i,s,o,n=this,r=t.model;this.view=t,i=a.Resize.width()<=568?r.get("mobile_image"):r.get("image"),s=new e.Image,0!==t.model.get("index")?s.addEventListener("load",function(){(o=Math.floor(t.$el[0].clientWidth*s.height/s.width))>t.$el[0].clientHeight&&t.$el.addClass("tall-image")},!1):(t.$el.addClass("first-image"),this.setCurrentSlide(null,t.$el));var l="gallery-image";this.fixed_height&&"below"===r.caption_position&&(l+=" fixed-height"),s.className=l,s.src=i,s.alt=r.get("alt_text"),s.complete?n.insertNewItem(t,s):d(s).on("load",},insertNewItem:function(e,t){var i;i=e.$el.find("img")[0],i&&t&&d(i).replaceWith(t),this.$(".inline-gallery").removeClass("loading")},onSlide:function(e,t){var i=this,s=this.$(".inline-gallery"),a=this.viewForIndex(e),o=e<this.numImages-1?e+1:null,n=e>0?e-1:null,r={next:o,prev:n};i.itemLoaded(a)||(this.preloadItem(a),s.addClass("loading")),this.setCurrentSlide(this.$(".current"),a.$el),d.each(r,function(e,t){if(t){var s=i.viewForIndex(t);i.itemLoaded(s)||i.preloadItem(s)}}),this.setNewText(a),this.previewSliderView&&this.previewSliderView.focus(e),this.handleVideoSlide(t),0===this.getActiveSlide().find("video").length&&this.initVideoPlayer(),s.find(".current").focus()},setCurrentSlide:function(e,t){e&&(e.removeClass("current"),e.attr({tabindex:-1,"aria-hidden":!0})),t&&(t.addClass("current"),t.attr({tabindex:0,"aria-hidden":!0}))},onTouchStart:setNewText:function(e){var t=e.model.get("index"),i=this.$(".image-info.below-image");i.toggleClass("visible",!1),i.filter(".image-info-"+t).toggleClass("visible",!0)},setBelowCaptionHeight:function(){var e,t=this.$(".image-info.below"),i=[];d.each(t,function(e,t){t.style.height="auto",i.push(t.clientHeight)}),e=Math.max.apply(Math,i),d.each(t,},setImagesFixedHeight:function(t,i,s){var a=i.image_infos.every(function(e){return!e||!e.dimensions||e.dimensions.aspect_ratio<.6}),o=this;if(s&&!a){o.fixed_height=!0,t.find(".gallery-image").addClass("fixed-height");var n=c[0],r=c[1],l=e.document.documentElement.clientWidth,d=702;l<=n?d=186:l<=r&&(d=378),this.$(".image-container").css({display:"flex","align-items":"center",height:d+"px"})}},viewForIndex:openModal:function(e){d(".gallery-content .arrow-sizer").addClass("hide"),this.imageGalleryModalView.open(e)},onClose:function(){if(d(".gallery-image.active").removeClass("active"),d(".gallery-content .arrow-sizer").removeClass("hide"),d(".content-container.current").focus(),r&&r.replaceState){var t=this.imageGalleryModalView.getParams(!1);r.replaceState({},e.document.title,"?"+t)}}})}(this);