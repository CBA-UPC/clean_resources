"use strict";(self.mvWrapperJsonp=self.mvWrapperJsonp||[]).push([[9598],{9379:(e,t,i)=>{i.r(t),i.d(t,{S2SAdapter:);var a=i(2845),n=i(5990),s=i(3528),r=((r||{});var o=i(9879),d=i(5077),c=i(2946),l=i(5595),p=Object.defineProperty,m=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,g=(e,t,i)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,h=(e,t)=>{for(var i in t||(t={}))u.call(t,i)&&g(e,i,t[i]);if(m)for(var i of m(t))v.call(t,i)&&g(e,i,t[i]);return e};const w=(0,l.DY)("test","nativeTestAd"),I=(0,l.DY)("test","nativeTestVideoAd"),b={};const T=(e,t)=>{const i=e.bidId;return{id:i,mediaType:d.D.native,bidder:"rubicon",seatbid:[{bid:[{id:"12345",impid:i,price:10.5,unadjustedPrice:10.5,nurl:"http://placehold.it/1x1?nurl",adm:t,h:1,w:1,exp:300,crid:"12345",cid:"12345"}]}]}},D=(e=[])=>({assets:[...e,{id:4,data:{value:"Sponsor"}},{id:21,data:{value:"pubnation.com"}},{id:1,title:{text:"Test Native Title MMMMM mmmmm mmmmm"}},{id:3,img:{url:"https://picsum.photos/100/100",h:100,w:100}},{id:5,data:{value:"You are seeing a test native advertisement. It is being displayed because we've detected the query param test set to `nativeTestAd`. I hope this ad finds you well!"}},{id:22,data:{value:"Call To Action"}}],link:{url:"/",clicktrackers:["https://placehold.it/1x1?clicktracker"]},eventtrackers:[{method:1,event:1,url:"https://placehold.it/1x1?ImpressionTrackerPixel"},{method:2,event:1,url:"https://placehold.it/1x1?ImpressionTrackerScript"},{method:1,event:2,url:"https://placehold.it/1x1?ViewTrackerPixel"},{method:2,event:2,url:"https://placehold.it/1x1?ViewTrackerScript"}],imptrackers:["https://placehold.it/1x1?imptracker"],jstracker:"<script src='https://placehold.it/1x1?jstracker' type='application/javascript'><\/script>"}),E=h({},D([{id:7,video:{vasttag:'\n<VAST version="4.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.iab.com/VAST">\n  <Ad id="20001" sequence="1" conditionalAd="false">\n    <InLine>\n      <AdSystem version="4.0">iabtechlab</AdSystem>\n      <Error>http://example.com/error</Error>\n      <Impression id="Impression-ID">http://example.com/track/impression</Impression>\n      <Pricing model="cpm" currency="USD">\n        <![CDATA[ 25.00 ]]>\n      </Pricing>\n      <AdTitle>Inline Simple Ad</AdTitle>\n      <AdVerifications></AdVerifications>\n      <Advertiser>IAB Sample Company</Advertiser>\n      <Category authority="http://www.iabtechlab.com/categoryauthority">AD CONTENT description category</Category>\n      <Creatives>\n        <Creative id="5480" sequence="1" adId="2447226">\n          <UniversalAdId idRegistry="Ad-ID" idValue="8465">8465</UniversalAdId>\n          <Linear>\n            <TrackingEvents>\n              <Tracking event="start">http://example.com/tracking/start</Tracking>\n              <Tracking event="firstQuartile">http://example.com/tracking/firstQuartile</Tracking>\n              <Tracking event="midpoint">http://example.com/tracking/midpoint</Tracking>\n              <Tracking event="thirdQuartile">http://example.com/tracking/thirdQuartile</Tracking>\n              <Tracking event="complete">http://example.com/tracking/complete</Tracking>\n              <Tracking event="progress" offset="00:00:10">http://example.com/tracking/progress-10</Tracking>\n            </TrackingEvents>\n            <Duration>00:00:16</Duration>\n            <MediaFiles>\n              <MediaFile id="5241" delivery="progressive" type="video/mp4" bitrate="2000" width="1280" height="720" minBitrate="1500" maxBitrate="2500" scalable="1" maintainAspectRatio="1" codec="H.264">\n                <![CDATA[https://iab-publicfiles.s3.amazonaws.com/vast/VAST-4.0-Short-Intro.mp4]]>\n              </MediaFile>\n              <MediaFile id="5244" delivery="progressive" type="video/mp4" bitrate="1000" width="854" height="480" minBitrate="700" maxBitrate="1500" scalable="1" maintainAspectRatio="1" codec="H.264">\n                <![CDATA[https://iab-publicfiles.s3.amazonaws.com/vast/VAST-4.0-Short-Intro-mid-resolution.mp4]]>\n              </MediaFile>\n              <MediaFile id="5246" delivery="progressive" type="video/mp4" bitrate="600" width="640" height="360" minBitrate="500" maxBitrate="700" scalable="1" maintainAspectRatio="1" codec="H.264">\n                <![CDATA[https://iab-publicfiles.s3.amazonaws.com/vast/VAST-4.0-Short-Intro-low-resolution.mp4]]>\n              </MediaFile>\n            </MediaFiles>\n            <VideoClicks>\n              <ClickThrough id="blog">\n                <![CDATA[https://iabtechlab.com]]>\n              </ClickThrough>\n            </VideoClicks>\n          </Linear>\n        </Creative>\n      </Creatives>\n    </InLine>\n  </Ad>\n</VAST>\n'}}])),f=h({},D([{id:2,img:{url:"https://picsum.photos/300/225",w:300,h:225,ext:{appnexus:{prevent_crop:0}}}}])),k=e=>{var t;const i={};if(e.hasOwnProperty("adm")){let a={};if("string"==typeof e.adm)try{a={native:JSON.parse(e.adm)}}catch(e){((...e)=>{s.ZP.custom("s2s",...e)})("cannot parse native response")}else"object"==typeof e.adm&&(a={native:e.adm});if(e.admobject&&(a=e.admobject),a.native.native&&(a.native=a.native.native),e.adm_native&&(a.native=e.adm_native),a&&a.native&&a.native.assets&&a.native.assets.length>0){for(let e=0,t=a.native.assets.length;e<t;e++)switch(a.native.assets[e].id){case A.TITLE.ID:i.title=a.native.assets[e].title&&a.native.assets[e].title.text;break;case A.IMAGE.ID:i.image={url:a.native.assets[e].img&&a.native.assets[e].img.url,height:a.native.assets[e].img&&a.native.assets[e].img.h,width:a.native.assets[e].img&&a.native.assets[e].img.w};break;case A.ICON.ID:i.icon={url:a.native.assets[e].img&&a.native.assets[e].img.url,height:a.native.assets[e].img&&a.native.assets[e].img.h,width:a.native.assets[e].img&&a.native.assets[e].img.w};break;case A.VIDEO.ID:i.video={vastXml:a.native.assets[e].video&&a.native.assets[e].video.vasttag};break;case A.SPONSOREDBY.ID:case A.BODY.ID:case A.LIKES.ID:case A.DOWNLOADS.ID:case A.PRICE:case A.SALEPRICE.ID:case A.PHONE.ID:case A.ADDRESS.ID:case A.DESC2.ID:case A.CTA.ID:case A.RATING.ID:case A.DISPLAYURL.ID:i[S[a.native.assets[e].id]]=a.native.assets[e].data&&a.native.assets[e].data.value}i.clickUrl=a.native.link&&a.native.link.url,i.clickTrackers=a.native.link&&a.native.link.clicktrackers||[],i.impressionTrackers=(a.native.imptrackers||[]).map((),i.eventTrackers=a.native.eventtrackers||[],(i.eventTrackers||[]).forEach((),i.jstracker=y(a.native.jstracker,e.price)||"",e.nurl&&(null==(t=i.impressionTrackers)||t.push(y(e.nurl,e.price)))}}return i},y=(e,t)=>e&&e.replace(/\$\{AUCTION_PRICE\}/g,String(t)),A={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},S={},C={};Object.values(A).forEach((),Object.values(A).forEach(();var Y=i(7609),P=i(6039);var O=i(8152);const U=(e,t)=>{var i;try{return null==(i=window.uuid)?void 0:i.v5(`${e}${t||"defaultUUIDVersion"}`,"22f5fd78-e012-11eb-ba80-0242ac130004")}catch(e){return void s.ZP.debug("error with getVersionUUID",e)}},x=["growId"];var M=i(6600),R=Object.defineProperty,V=Object.defineProperties,K=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,$=q=B=const _=(...e)=>s.ZP.custom("s2s",...e),W=class{constructor(){this.supportedMediaTypes=[d.D.banner,d.D.video,d.D.native],this.code=a.tO.S2S}get bidRequestUrl(){if(W.bidReqUrl)return W.bidReqUrl;const e=(0,o.oH)("production",window.$adManagementConfig.web.model.s2sBetas),t=((window.$adManagementConfig.web.model,e);window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting("s2sVersion",e.name)}));const i=`${t}/bidRequest/?s2sVersion=${e.name}`;return W.bidReqUrl=i,i}get additionalConsent(){if(W.acVendors.length)return W.acVendors;const e=localStorage.getItem("addtlConsent");if(!e)return;const t=e.split("~")[1];return W.acVendors=t.split("."),W.acVendors}get alternateUUID(){for(const e of x){if(W.altUUIDStore[e])return W.altUUIDStore[e];if(window.$adManagementConfig[e]){const t=U(window.$adManagementConfig[e],M.Wu.version);return W.altUUIDStore[e]=t,t}}}buildRequests(e,t){var i,a,n,s;(0,O.fC)(e);const o=this.alternateUUID,d={uuid:M.Wu.id||"",uuidVersion:M.Wu.version,alternateUUID:o,hash:null==(a=null==(i=window.$adManagementConfig)?void 0:i.web)?void 0:a.hash,device:{os:P.A.os,osv:P.A.osversion,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,ua:navigator.userAgent,language:navigator.language},referrer:document.referrer,slug:window.$adManagementConfig.web.model.slug,categories:window.$adManagementConfig.web.model.categories,topLevelCategory:window.$adManagementConfig.web.model.topLevelCategory,secure:document.location.protocol===r.https?"1":"0",eids:(0,Y.r)(M.Wu.id),iiqEids:null==(n=window.$adManagementConfig.web.iiqData)?void 0:n.eids,liftTestBidder:G(),additionalConsent:this.additionalConsent,keywords:X(),requestModel:window.$adManagementConfig.web.model.requestModel,sda:window.$adManagementConfig.web.sda,topics:window.$adManagementConfig.web.topics},c=this.createImpressionsArray(e);!function(e){const t=e.find((e=>e.isNative));if(!t||!w&&!I||!t.bidId)return;let i=f;I&&(i=E),b[t.bidId]=T(t,JSON.stringify(i))}(e),(({uuid:e,alternateUUID:t,uuidVersion:i})=>{if(!t||e===t||"$doNotTrack"===e)return;const a={mv_uuid:t,version:i};window.dispatchEvent(new CustomEvent("UsersyncWriteToAll",{detail:a}))})({uuid:M.Wu.id,alternateUUID:o,uuidVersion:M.Wu.version});const l=B(q(q({connectId:null!=(s=window.$adManagementConfig.connectId)?s:""},d),t),{metrics:void 0,bids:c});return _("request data",l),{data:l,url:this.bidRequestUrl,method:"POST"}}createImpressionsArray(e){return e.map((e=>B(q({},e),{metrics:void 0,userId:void 0,userIdAsEids:void 0,ortb2:void 0,nativeParams:void 0,nativeOrtbRequest:void 0})))}interpretResponse({body:e},t){const i=[];return function(e,t){const{data:i}=t,a=i.bids.find(();if(!w&&!I||!a)return;const n=b[a.bidId];n&&e.push(n)}(e,t),e.forEach((e=>{e.seatbid.forEach((t=>{t.bid.forEach((a=>{var n;try{const s={};if(!a.adm)return;if(s.s2sBidder=e.bidder,s.requestId=a.impid,s.ad=a.adm,s.creativeId=a.crid,s.campaignId=a.cid,s.cpm=a.price,s.unadjustedCpm=a.unadjustedPrice||a.price,s.height=a.h,s.width=a.w,s.currency="USD",s.ttl=a.exp,s.netRevenue=!0,s.nurl=a.nurl,s.mediaType=e.mediaType,s.ext=a.ext,s.adomain=a.adomain,s.dspSeat=null==(n=null==t?void 0:t.ext)?void 0:n.dspId,s.dealId=a.dealid,e.mediaType===d.D.video&&("<"===a.adm.trim()[0]?s.vastXml=a.adm:s.vastUrl=a.adm),e.mediaType===d.D.native){s.mediaType="native";try{s.native=k(a)}catch(e){_(e)}}i.push(s)}catch(t){_("Error building response",t,e)}}))}))})),i}etTargeting(){};let F=W;F.acVendors=[],F.altUUIDStore={};const H=new F;function G(){const e=c.Rw.new(window.$adManagementConfig.web.model);if(e.bidder&&e.mediaType&&e.isS2S()){const t={video:e.isVideo(),banner:e.isDisplay(),outstream:e.isOutstream(),ibv:e.isOutstream()};return{bidder:e.bidder,mediaType:t}}}function X(){const{sales_kw:e,sales_cat:t,sales_safety:i,sales_segment:a}=window.$adManagementConfig.web.keywords||{};return{sales_kw:null==e?void 0:e.split(","),sales_cat:null==t?void 0:t.split(","),sales_safety:null==i?void 0:i.split(","),sales_segment:null==a?void 0:a.split(",")}}(0,n.dX)(H)}}]);