import{o as I,j as e,g as P,aF as be,r as o,aG as ge,c as pe,m as H,ad as q,x as se,ac as B,ae as R,aX as fe,a6 as ne,f as ve,k as ye,bx as _e,a9 as Se}from"./e5833d38.js";import{d as E,B as re,D as y,w as k,T as d,M as oe,x as W,y as Ne,R as we,z as ce,A as Ce,e as L,F as ke,G as Te,H as O,I as de,J as z,K as Ie,L as Ee,N as ae,O as Ke,P as Re,Q as Fe,U as he,V as Ae,W as Pe,E as Q,X as ze,n as Le,Y as Oe,Z as De,$ as Be,a0 as $e}from"./48a35c56.js";import{T as Ue}from"./b276ce4f.js";const Me=({customFunctionsCategory:s})=>{const{siteEditorStore:t}=E();return e.jsxs("div",{role:"tablist",className:"site-editor-categories",children:[t.getTopLevelCategories().map(i=>e.jsx(re,{analyticsTag:"",onClickFunction:()=>{t.filterByCategory(i)},ariaLabel:`category ${i}`,telemetryIdentifier:"telemetry.site-editor.tab",role:"tab",className:P("site-editor-categories__category",{"site-editor-categories__category--active":i===t.activeCategory}),children:i},i)),e.jsx(re,{analyticsTag:"",onClickFunction:()=>{t.filterByCategory(s)},ariaLabel:"category custom functions",telemetryIdentifier:"telemetry.site-editor.tab",role:"tab",className:P("site-editor-categories__category",{"site-editor-categories__category--active":s===t.activeCategory}),children:"Dev Functions"})]})},Ve=I(Me),He=()=>{const{siteEditorStore:s}=E(),[t,i]=be(!1),a=(n,l)=>{s.filters.get(n)===l?s.filters.delete(n):s.filters.set(n,l)};return e.jsxs("div",{className:"site-editor-filter",children:[e.jsx(y,{className:"site-editor-filter__button",analyticsTag:"",telemetryIdentifier:"",glyph:{name:"equaliser",size:{heightInPixels:"16px",widthInPixels:"16px"}},buttonStyle:"text-button",onClickFunction:i,children:"Filter"}),e.jsxs("div",{className:P("site-editor-filter__content",{"site-editor-filter__content--open":t}),children:[e.jsxs("div",{className:"site-editor-filter__sub-content",children:[e.jsx("h4",{className:"pb-mini",children:"Type"}),e.jsx("div",{className:"site-editor-filter__pills",children:s.uniqueSettingTypes.map(n=>e.jsx(y,{className:P("site-editor-filter__pill",{"site-editor-filter__pill--selected":s.filters.get("type")===n}),analyticsTag:"",telemetryIdentifier:"",buttonStyle:"tertiary",onClickFunction:()=>a("type",n),children:n.charAt(0).toUpperCase()+n.slice(1)},n))})]}),e.jsxs("div",{className:"site-editor-filter__sub-content",children:[e.jsx("h4",{className:"pb-mini",children:"Fields"}),e.jsx("div",{className:"site-editor-filter__pills",children:e.jsx(y,{className:P("site-editor-filter__pill",{"site-editor-filter__pill--selected":s.filters.has("isSensitive")}),analyticsTag:"",telemetryIdentifier:"",buttonStyle:"tertiary",onClickFunction:()=>a("isSensitive",!0),children:"isSensitive"},"isSensitive")})]}),e.jsxs("div",{className:"site-editor-filter__sub-content",children:[e.jsx("h4",{className:"pb-mini",children:"Environment Differences"}),e.jsx("div",{className:"site-editor-filter__pills",children:s.getEnvironmentsWithSettingsDifferences.map(n=>e.jsx(y,{className:P("site-editor-filter__pill",{"site-editor-filter__pill--selected":s.filters.get("environmentDifference")===n}),analyticsTag:"",telemetryIdentifier:"",buttonStyle:"tertiary",onClickFunction:()=>a("environmentDifference",n),children:n},n))})]})]})]})},qe=I(He),We=()=>e.jsxs("div",{className:"site-editor-legend",children:[e.jsx("h2",{className:"site-editor-legend__title",children:"Legend:"}),e.jsxs("div",{className:"site-editor-legend__container",children:[e.jsxs("div",{children:[e.jsx(k,{name:"lightningbolt",size:{heightInPixels:"16px",widthInPixels:"16px"}}),"These keys are frontEnd settings and are updated instantly"]}),e.jsxs("div",{children:[e.jsx(k,{name:"warning-filled",size:{heightInPixels:"16px",widthInPixels:"16px"},fill:"red"}),"These are highly sensitive settings"]})]})]}),Ye=()=>e.jsxs(D,{title:"Access-restricted error messages",children:[e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("strong",{children:"Forbidden page - 1404 Error (User not found in PDC)"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.generic.error.unauthorized.not-registered"})})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("strong",{children:"Forbidden page - 1402 Error OR 1403 Error (User's registration is incomplete)"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.generic.error.unauthorized.not-complete"})})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("strong",{children:"Forbidden page - 2403 Error (User has already been registered)"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.generic.error.unauthorized.already-registered"})})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("strong",{children:"Forbidden page - 2404 Error (Error in retrieving user's registration from PDC )"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.generic.error.unauthorized.system-error-retrieval"})})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("strong",{children:"Forbidden page - 4404 Error OR 5404 (Access must be requested)"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.generic.error.unauthorized.request-access"})})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("strong",{children:"Forbidden page - 500 Error (Unknown error on-login)"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.generic.error.unauthorized.unknown-error"})})]})]}),Y=({onClick:s,isLoading:t,status:i,children:a,isDisabled:n})=>e.jsxs("div",{className:"site-editor-dev__content-buttons",children:[e.jsxs("span",{className:"site-editor-dev__list-item-key site-editor-dev__content-button-status",children:[t&&e.jsx(oe,{spinnerSize:"small"}),i]}),e.jsx(y,{analyticsTag:"",telemetryIdentifier:"",onClickFunction:s,className:"dark-theme mb-micro",disabled:t||n,children:a})]}),J=s=>{const[t,i]=o.useState(""),{mutate:a,isLoading:n}=ge({mutationFn:s,onMutate:()=>{i("Requesting...")},onSuccess:()=>{i("Complete!")},onError:l=>{i(`Error ${l}`)}});return{mutate:a,isLoading:n,response:t}},Je=({contentType:s,children:t})=>{const i=o.useCallback(async()=>(await W.post(`/editor/cacheclear/${s}`)).data,[s]),{mutate:a,isLoading:n,response:l}=J(i);return e.jsx(Y,{onClick:()=>a(),isLoading:n,status:l,children:t})},Ge={display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",borderBottom:"1px solid lightgrey",marginBottom:"12px"},Qe={"Clear All Caches":"all","Clear Session Cache":"sessions","Clear Speaker Cache":"speakers","Clear Company Cache":"companies","Clear Attendee Cache":"attendees","Clear Settings Cache":"settings","Clear Webcontent Cache":"webcontent","Clear Translations Cache":"translations","Clear UHF Cache":"universal-header-footer"},Xe=()=>e.jsxs("div",{className:"site-editor-row",children:[e.jsxs("div",{className:"site-editor-row__details",children:[e.jsx("h4",{className:"site-editor-row__title",children:"Clear cache"}),e.jsx("span",{className:"site-editor-dev__list-item-key",children:"Clears the cache for the following items"})]}),e.jsx("div",{className:"site-editor-dev__settings",style:{width:"100%"},children:Object.entries(Qe).map(([s,t])=>e.jsxs("div",{style:Ge,children:[s,e.jsx(Je,{contentType:t,children:"Clear"})]},s))})]}),X=({targetEnvironment:s})=>{const t=o.useCallback(async()=>(await W.post(`/editor/content/backup/${s}`)).data,[s]),{mutate:i,isLoading:a,response:n}=J(t);return e.jsxs(Y,{onClick:()=>i(),isLoading:a,status:n,children:["Backup ",s]})},Ze=()=>e.jsxs("div",{className:"site-editor-row",children:[e.jsxs("div",{className:"site-editor-row__details",children:[e.jsx("h4",{className:"site-editor-row__title",children:"Backup content"}),e.jsx("span",{className:"site-editor-dev__list-item-key",children:"Create a backup of the webcontent, translations and settings documents for a given environment"})]}),e.jsxs("div",{className:"site-editor-row__settings",children:[e.jsx(X,{targetEnvironment:"cont"}),e.jsx(X,{targetEnvironment:"uat"}),e.jsx(X,{targetEnvironment:"prod"})]})]}),ee=we.Environment,M=({contentType:s,targetEnvironment:t,children:i})=>{const{dialogDispatcherService:a}=ce(),n=o.useCallback(async()=>(await W.post(`/editor/content/pushto/${t}/${s}`)).data,[s,t]),{mutate:l,isLoading:j,response:r}=J(n),g=o.useCallback(async()=>{try{await a.confirm({title:"",content:`Are you sure you want to push "${s} content" from ${ee.toUpperCase()} to ${t.toUpperCase()}?`,successButtonText:"Yes",failureButtonText:"No"}),l()}catch{}},[s,a,l,t]);return e.jsx(Y,{onClick:g,isLoading:j,status:r,isDisabled:t===ee,children:i})},es=({targetEnvironment:s})=>e.jsxs("div",{children:[e.jsxs("div",{className:"site-editor-row__title",children:["Push from ",ee.toUpperCase()," to"," ",s.toUpperCase()]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsx(M,{contentType:"all",targetEnvironment:s,children:e.jsx("div",{children:"ALL"})}),e.jsx(M,{contentType:"translations",targetEnvironment:s,children:e.jsx("div",{children:"Translations"})}),e.jsx(M,{contentType:"web-content",targetEnvironment:s,children:e.jsx("div",{children:"WebContent"})}),s!=="prod"&&e.jsx(M,{contentType:"settings",targetEnvironment:s,children:e.jsx("div",{children:"Settings"})})]})]}),ss=()=>e.jsxs("div",{className:"site-editor-row site-editor-row--sensitive",children:[e.jsxs("div",{className:"site-editor-row__details",children:[e.jsx("h4",{className:"site-editor-row__title",children:"Push content"}),e.jsx("span",{className:"site-editor-dev__list-item-key",children:"Push webcontent, translations and settings documents from this environment into another environment"})]}),e.jsx("div",{className:"site-editor-row__settings",children:e.jsx("ul",{className:"site-editor-dev__list",children:Ne.map(s=>e.jsx("li",{className:"site-editor-dev__list-item",children:e.jsx(es,{targetEnvironment:s})},s))})})]}),Z=({targetEnvironment:s})=>{const{dialogDispatcherService:t}=ce(),[i,a]=o.useState(""),n=o.useCallback(async()=>(await W.post(`/editor/content/restore/${s}/${i}`)).data,[i,s]),{mutate:l,isLoading:j,response:r}=J(n),g=o.useCallback(async()=>{try{await t.confirm({title:"",content:`Are you sure you want to restore content in the "${s}" environment from the following backup file: "${i}"?`,successButtonText:"Yes",failureButtonText:"No"}),l()}catch{}},[t,l,i,s]);return e.jsxs("div",{className:"site-editor-row__section",children:[e.jsxs(Y,{onClick:g,isLoading:j,status:r,isDisabled:!i,children:["Restore ",s," content from:"]}),e.jsx("input",{onChange:c=>a(()=>c.target.value),className:"site-editor-row--full-width"})]})},ts=()=>e.jsxs("div",{className:"site-editor-row",children:[e.jsxs("div",{className:"site-editor-row__details",children:[e.jsx("h4",{className:"site-editor-row__title",children:"Restore from backup"}),e.jsx("span",{className:"site-editor-dev__list-item-key",children:"Restore all webcontent/translations/settings from a past backup for given environment"})]}),e.jsxs("div",{className:"site-editor-row__settings",children:[e.jsx(Z,{targetEnvironment:"cont"}),e.jsx(Z,{targetEnvironment:"uat"}),e.jsx(Z,{targetEnvironment:"prod"})]})]}),is=()=>e.jsxs(e.Fragment,{children:[e.jsx(Ze,{}),e.jsx(ts,{}),e.jsx(ss,{})]}),ns=()=>e.jsxs(D,{title:"Session Placeholder text rubric",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Upcoming - not capacity controlled, not on-demand, not hero session."}),e.jsx("br",{}),e.jsxs("i",{children:["Appears if:",e.jsxs("ul",{children:[e.jsx("li",{children:"- Session is NOT an on-demand type."}),e.jsx("li",{children:"- Session is NOT capacity controlled."}),e.jsx("li",{children:"- Session is NOT currently streaming and has NOT finished streaming some time in the past (i.e. it is before the session stream start time)."}),e.jsx("li",{children:"- Session is NOT a hero session."})]})]})]}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.session-upcoming"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.session-upcoming-content"})})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Upcoming - not capacity controlled, not on-demand, is hero session."}),e.jsx("br",{}),e.jsxs("i",{children:["Appears if:",e.jsxs("ul",{children:[e.jsx("li",{children:"- Session is NOT an on-demand type."}),e.jsx("li",{children:"- Session is NOT capacity controlled."}),e.jsx("li",{children:"- Session is NOT currently streaming and has NOT finished streaming some time in the past (i.e. it is before the session stream start time)."}),e.jsx("li",{children:"- Session IS a hero session."})]})]})]}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.session-upcoming"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.session-upcoming-content-hero-stream"})})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Post-session, will have on demand."}),e.jsx("br",{}),e.jsxs("i",{children:["Appears if:",e.jsxs("ul",{children:[e.jsx("li",{children:"- Session is NOT an on-demand type."}),e.jsx("li",{children:"- Session is not currently and has already finished streaming (i.e. it is after the session stream end)."}),e.jsx("li",{children:"- Session does NOT have DNP flag (i.e. it will have content published)."})]})]})]}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.session-ended"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.session-ended-content"})})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Post-session, will NOT have on-demand (i.e. marked as DNP)."}),e.jsx("br",{}),e.jsxs("i",{children:["Appears if:",e.jsxs("ul",{children:[e.jsx("li",{children:"- Session is NOT an on-demand type."}),e.jsx("li",{children:"- Session is not currently and has already finished streaming (i.e. it is after the session stream end)."}),e.jsx("li",{children:"- Session DOES have DNP flag (i.e. it will NOT have content published)."})]})]})]}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.session-ended"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.session-ended-content-dnp"})})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Upcoming, capacity controlled, on schedule."}),e.jsx("br",{}),e.jsxs("i",{children:["Appears if:",e.jsxs("ul",{children:[e.jsx("li",{children:"- Session is NOT an on-demand type."}),e.jsx("li",{children:"- Session IS capacity controlled."}),e.jsx("li",{children:"- It is prior to 10 minutes before start time."}),e.jsx("li",{children:"- Session IS on users schedule."})]})]})]}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.session-upcoming"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.come-back-in"})})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Upcoming, capacity controlled, not on schedule, session not full."}),e.jsx("br",{}),e.jsxs("i",{children:["Appears if:",e.jsxs("ul",{children:[e.jsx("li",{children:"- Session is NOT an on-demand type."}),e.jsx("li",{children:"- Session IS capacity controlled."}),e.jsx("li",{children:"- It is prior to 10 minutes before start time."}),e.jsx("li",{children:"- Session is NOT on users schedule."}),e.jsx("li",{children:"- There IS still room to RSVP"})]})]})]}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.session-upcoming"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.upcoming-rsvp"})})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Upcoming, capacity controlled, not on schedule, session full."}),e.jsx("br",{}),e.jsxs("i",{children:["Appears if:",e.jsxs("ul",{children:[e.jsx("li",{children:"- Session is NOT an on-demand type."}),e.jsx("li",{children:"- Session IS capacity controlled."}),e.jsx("li",{children:"- It is prior to 10 minutes before start time."}),e.jsx("li",{children:"- Session is NOT on users schedule."}),e.jsx("li",{children:"- There is NOT still room to RSVP"})]})]})]}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.session-upcoming"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.upcoming-room-at-capacity"})})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"On now, capacity controlled, on schedule."}),e.jsx("br",{}),e.jsxs("i",{children:["Appears if:",e.jsxs("ul",{children:[e.jsx("li",{children:"- Session is NOT an on-demand type."}),e.jsx("li",{children:"- Session IS capacity controlled."}),e.jsx("li",{children:"- It is NOT prior to 10 minutes before start time and NOT later than 20 minutes after end. (i.e. session is currently streaming)."}),e.jsx("li",{children:"- Session IS on users schedule."})]})]})]}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.join-the-session"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.privacy-notice"})})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"On now, capacity controlled, not on schedule, rsvp closed."}),e.jsx("br",{}),e.jsxs("i",{children:["Appears if:",e.jsxs("ul",{children:[e.jsx("li",{children:"- Session is NOT an on-demand type."}),e.jsx("li",{children:"- Session IS capacity controlled."}),e.jsx("li",{children:"- It is NOT prior to 10 minutes before start time and NOT later than 20 minutes after end. (i.e. session is currently streaming)."}),e.jsx("li",{children:"- Session is NOT on users schedule."}),e.jsx("li",{children:"- Session RSVP has closed."})]})]})]}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.this-is-on-now"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.rsvp-closed"})})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"On now, capacity controlled, not on schedule, rsvp not closed, session not full."}),e.jsx("br",{}),e.jsxs("i",{children:["Appears if:",e.jsxs("ul",{children:[e.jsx("li",{children:"- Session is NOT an on-demand type."}),e.jsx("li",{children:"- Session IS capacity controlled."}),e.jsx("li",{children:"- It is NOT prior to 10 minutes before start time and NOT later than 20 minutes after end. (i.e. session is currently streaming)."}),e.jsx("li",{children:"- Session is NOT on users schedule."}),e.jsx("li",{children:"- Session RSVP has NOT closed."}),e.jsx("li",{children:"- There IS still room to RSVP."})]})]})]}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.this-is-on-now"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.live-rsvp"})})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"On now, capacity controlled, not on schedule, rsvp not closed, session full."}),e.jsx("br",{}),e.jsxs("i",{children:["Appears if:",e.jsxs("ul",{children:[e.jsx("li",{children:"- Session is NOT an on-demand type."}),e.jsx("li",{children:"- Session IS capacity controlled."}),e.jsx("li",{children:"- It is NOT prior to 10 minutes before start time and NOT later than 20 minutes after end. (i.e. session is currently streaming)."}),e.jsx("li",{children:"- Session is NOT on users schedule."}),e.jsx("li",{children:"- Session RSVP has NOT closed."}),e.jsx("li",{children:"- There is NOT still room to RSVP."})]})]})]}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.this-is-on-now"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.room-at-capacity"})})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Pre-records / non-timeslotted (without video)."}),e.jsx("br",{}),e.jsxs("i",{children:["Appears if:",e.jsxs("ul",{children:[e.jsx("li",{children:"- Session is an on-demand type."}),e.jsx("li",{children:"- Session does NOT have an on-demand video published yet."})]})]})]}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.content-not-yet-available"})}),e.jsx("div",{children:e.jsx(d,{textKey:"translate.base.session.info.save-to-backpack-check-later"})})]})]}),rs=()=>{const s=Ce(),[t,i]=o.useState(L.baseUrl),[a,n]=o.useState(L.bingSearchVerificationKey),l=o.useMemo(()=>!!t.match("(cont|uat|local)"),[t]);return e.jsxs("div",{className:"site-editor-dev__row",children:[e.jsx("div",{className:"site-editor-row__details",children:e.jsxs("div",{className:"site-editor-row__content",children:[e.jsx("h3",{className:"c-heading-4 site-editor-dev__heading",children:"Ping Bing Indexing API"}),e.jsxs("p",{className:"pb-small site-editor-row__description",children:["Notify Bing that our website contents on the following URL has updated or been created, allowing instant crawling and discovery of the URL.",e.jsx("br",{}),e.jsx("br",{}),e.jsxs("b",{style:{color:"red"},children:["IMPORTANT: NEVER PUSH UAT TO A SEARCH ENGINE, ONLY PROD.",e.jsx("br",{}),e.jsx("br",{})," MAKE SURE THE URL YOUR ARE USING IS A PRODUCTION URL AND THAT THE VERIFICATION KEY IS FOR THAT SPECIFIC EVENT"]})]})]})}),e.jsxs("div",{className:"site-editor-dev__settings",children:[e.jsxs("div",{className:"pb-small",style:{color:ke.igniteLinkBlue,textDecoration:"underline"},children:[e.jsx("span",{children:"https://www.bing.com/indexnow?url="}),e.jsx("b",{children:t??L.baseUrl}),e.jsx("span",{children:"&key="}),e.jsx("b",{children:a??L.bingSearchVerificationKey})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsxs("div",{className:"pr-small pb-small",children:[e.jsx("div",{className:"site-editor-row__title",children:"Override Url"}),e.jsx("input",{className:"c-text-field",value:t,onChange:j=>{i(j.target.value)},type:"text"}),l&&e.jsx("p",{className:"pt-tiny",children:"Ensure that local, cont and uat sites are not pushed to prod"})]}),e.jsxs("div",{className:"pr-small pb-small",children:[e.jsx("div",{className:"site-editor-row__title",children:"Override Search Verification Key"}),e.jsx("input",{id:"bingSearchVerificationKey",className:"c-text-field",value:a,onChange:j=>{n(j.target.value)},type:"text"})]}),e.jsx(Te,{buttonStyle:"primary",styles:{color:"white"},analyticsTag:s({aN:"Dev Functions",cN:"Index Site"}),telemetryIdentifier:"telemetry.bing.index-site",target:"_blank",href:`https://www.bing.com/indexnow?url=${t??L.baseUrl}&key=${a??L.bingSearchVerificationKey}`,disabled:l,children:"Index this Site"})]})]})]})},as=({route:{path:s,meta:t}})=>t!=null&&t.title?e.jsxs("tr",{children:[e.jsxs("td",{children:[s,": "]}),e.jsx("td",{children:e.jsx(d,{textKey:t.title})})]},s):null,ls=["translate.base.home-page.speaker-scroller.count-text","translate.base.scroller.skip-content.forward-text","translate.base.scroller.skip-content.back-text","translate.base.schedule.labels.schedule-builder","translate.base.favorite.labels.favorites","translate.base.sponsors.labels.sponsor-directory","translate.base.generic.actions.change","translate.base.agenda-panel.accessibility-text","translate.base.exhibitor-directory.header-sub-title-auth","translate.base.exhibitor-directory.header-sub-title-unauth","translate.base.generic.route-names.session-catalog","translate.base.generic.route-names.faq","translate.base.generic.route-names.code-of-conduct-title","translate.base.content.faq.page-title","translate.base.generic.route-names.featured-speakers","translate.base.generic.route-names.user-content","translate.base.home.anonymous-main-title","translate.base.home.anonymous-sub-title","translate.base.generic.actions.manage-cookies","translate.base.generic.actions.sign-out","translate.base.generic.actions.sign-in-registration","translate.base.generic.actions.register","translate.base.generic.error.cannot-ping-api","translate.base.generic.error.unauthorized.not-registered","translate.base.generic.error.unauthorized.not-complete","translate.base.generic.error.unauthorized.already-registered","translate.base.generic.error.unauthorized.system-error-retrieval","translate.base.generic.error.unauthorized.request-access","translate.base.generic.error.unauthorized.unknown-error","translate.base.generic.labels.enabled","translate.base.generic.labels.disabled","translate.base.signin-page.title","translate.base.signin.actions.login-to","translate.base.signin.benefits","translate.base.trip-report.download-starting","translate.base.trip-report.heading.attendees","translate.base.trip-report.heading.exhibitors","translate.base.trip-report.heading.favorites","translate.base.trip-report.heading.speakers",O("translate.base.trip-report.label.introduction",{siteUrl:window.location.origin}),"translate.base.trip-report.label.sub-heading","translate.base.trip-report.working-on-it","translate.base.schedule.labels.trip-report-file","translate.base.schedule.actions.download-schedule","translate.base.search.entity.sponsor","translate.base.search.entity.attendees","translate.base.search.entity.session","translate.base.search.entity.speaker","translate.base.session.info.catalog-header-message","translate.base.session.info.catalog-sub-header-message","translate.base.session.info.session-ended","translate.base.session.info.session-ended-content","translate.base.session.info.session-ended-content-dnp","translate.base.session.info.session-upcoming","translate.base.session.info.session-upcoming-content",O("translate.base.mwf-pagination.label.page-active",{pageNumber:"n"}),O("translate.base.mwf-pagination.label.page",{pageNumber:"n"}),"translate.base.schedule.actions.add-short","translate.base.login.title","translate.base.login.sub-title","translate.base.login.sign-in","translate.base.login.benefits","translate.base.login.actions.login-to","translate.base.login.for-assistance-call","translate.base.generic.actions.enable-edit","translate.base.generic.actions.exit-edit","translate.base.component-settings.force-save.title","translate.base.component-settings.force-save.content","translate.base.component-settings.force-save.confirm","translate.base.component-settings.force-save.cancel","translate.base.push-to-environment.confirm.title","translate.base.push-to-environment.confirm.content","translate.base.push-to-environment.main-button-text","translate.base.push-to-environment.push-to-cont","translate.base.push-to-environment.push-to-prod","translate.base.push-to-environment.target-select.title","translate.base.push-to-environment.target-select.content","translate.base.notifications.reload-prompt.action","translate.base.notifications.reload-prompt.header","translate.base.offline.content-unavailable","translate.base.offline.reload.message","translate.base.offline.reload.action","translate.base.pwa-banner.labels.offline-banner-text","translate.base.pwa-banner.labels.updates-available-banner-text",O("translate.base.pwa-banner.labels.updates-available-banner-text-with-countdown",{seconds:5}),"translate.base.pwa-banner.labels.updates-available-button-text","translate.base.pwa-banner.labels.updates-available-link-text","translate.base.pwa-banner.labels.updates-available-link-text-aria","translate.base.pwa-banner.labels.install-banner-text","translate.base.pwa-banner.labels.install-button-text","translate.base.pwa-banner.labels.install-link-text","translate.base.pwa-banner.labels.push-notifications-banner-text","translate.base.pwa-banner.labels.push-notifications-button-text","translate.base.profile-edit.push-notification-heading","translate.base.profile-edit.push-notification-opt-in","translate.base.profile-edit.push-notification-opt-in-text","translate.base.profile-edit.push-notification-description","translate.base.push-subscription.subscribed","translate.base.push-subscription.unsubscribed","translate.base.push-subscription.failed-to-subscribe","translate.base.push-subscription.failed-to-unsubscribe","translate.base.push-subscription.permission-denied"],os=["translate.base.error.component-settings.internal-server-error","translate.base.error.component-settings.conflict","translate.base.schedule.error.","translate.base.schedule.error.thesessionisalreadyontheusersschedule","translate.base.schedule.error.theuserisalreadywaitlistedforthesession","translate.base.schedule.error.userisnotallowedtoaddthissessiontotheirschedule","translate.base.schedule.error.sessionisfullandusercannotbewaitlistedduetoconflictingsessions","translate.base.schedule.error.userisalreadywaitlistedforasessionduringthissessionstime","translate.base.schedule.error.usercannotattendsessionduetoaschedulingconflict","translate.base.schedule.error.sessionisfull","translate.base.schedule.error.sessionnotaddedtoscheduleyoumayonlybook1workshopsessionpertimeslot","translate.base.schedule.error.sessionnotaddedyouarealreadyenrolledinasessionduringsomeorallofthistimeandsessionsmaynotoverlapbymorethan15minutespleaseadjustyourscheduleandtryagain","translate.base.schedule.error.youalreadyhaveacapacitylimitedsessionfromthissessionseriesonyourscheduleinordertoaddthissessiontoyourscheduleyoumustremovetheotherfromthesamesessionseries","translate.base.generic.error.unauthorized.email-for-help","translate.base.generic.error.unauthorized.trouble-signing-in-email-body","translate.base.generic.error.unauthorized.please-contact-microsoft","translate.base.generic.error.unauthorized.tech-community-no-access","translate.base.generic.error.forbidden.options",O("translate.base.generic.error.forbidden.invalid-email",{email:"contact@example.com"}),O("translate.base.generic.error.registered-access",{contactEmail:"contact@example.com"})],D=({title:s,description:t,children:i})=>e.jsxs("div",{className:"site-editor-dev__row",children:[e.jsx("div",{className:"site-editor-row__details",children:e.jsxs("div",{className:"site-editor-row__content",children:[e.jsx("h3",{className:"c-heading-4 site-editor-dev__heading",children:s}),t&&e.jsx("p",{className:"pb-small site-editor-row__description",children:t})]})}),e.jsx("div",{className:"site-editor-dev__settings",children:i})]}),cs=()=>e.jsx("div",{className:"site-editor-dev",children:e.jsxs(o.Suspense,{fallback:"...",children:[e.jsx(rs,{}),e.jsx(D,{title:"Translation Key Editor",description:"Enter a translation key below that you want to translate - then turn on editor mode to edit it",children:e.jsx(Ue,{})}),e.jsx(is,{}),e.jsx(Xe,{}),e.jsx(D,{title:"Page Titles:",children:e.jsx("table",{children:e.jsx("tbody",{children:de.map(s=>e.jsx(as,{route:s},s.path))})})}),e.jsx(D,{title:"Hard-to-reach Strings:",children:e.jsx("ul",{className:"site-editor-dev__list",children:ls.map(s=>e.jsxs("li",{className:"site-editor-dev__list-item",children:[e.jsx("span",{className:"site-editor-dev__list-item-key",children:s}),e.jsx(d,{textKey:s})]},s))})}),e.jsx(D,{title:"Miscellaneous Error Strings:",children:e.jsx("ul",{className:"site-editor-dev__list",children:os.map(s=>e.jsxs("li",{className:"site-editor-dev__list-item",children:[e.jsx("span",{className:"site-editor-dev__list-item-key",children:s}),e.jsx(d,{textKey:s})]},s))})}),e.jsx(Ye,{}),e.jsx(ns,{})]})}),ds=()=>{const{siteEditorStore:s}=E(),t=()=>{s.messageType=z.None},i=()=>{switch(s.messageType){case z.Saved:return e.jsxs("div",{className:"site-editor-message__bar site-editor-message__bar--saved",children:[e.jsx("p",{children:e.jsx(d,{textKey:"Changes Saved"})}),e.jsx(y,{analyticsTag:"",ariaLabel:"Close message bar",className:"site-editor-message__bar-close-button",onClickFunction:()=>t(),telemetryIdentifier:"telemetry.site-editor.close-message-bar",children:e.jsx(k,{name:"cross",size:{heightInPixels:"16px",widthInPixels:"16px"}})})]});case z.NoChange:return e.jsxs("div",{className:"site-editor-message__message-box site-editor-message__message-box--no-change",children:[e.jsx("p",{children:e.jsx(d,{textKey:"No changes were made"})}),e.jsx(y,{analyticsTag:"",ariaLabel:"Close message bar",className:"site-editor-message__bar-close-button",onClickFunction:()=>t(),telemetryIdentifier:"telemetry.site-editor.close-message-bar",children:e.jsx(k,{name:"cross",size:{heightInPixels:"16px",widthInPixels:"16px"}})})]});case z.Invalid:{const a=[];return s.invalidFields.forEach((n,l)=>{a.push(l)}),e.jsxs("div",{className:"site-editor-message__message-box site-editor-message__message-box--invalid",children:[e.jsxs("div",{children:[e.jsx("p",{children:e.jsx(d,{textKey:"The following field(s) are invalid:"})}),e.jsx("ul",{children:a.map(n=>e.jsx("li",{className:"site-editor-message__list-item",children:n},n))})]}),e.jsx(y,{analyticsTag:"",ariaLabel:"Close message bar",className:"site-editor-message__bar-close-button",onClickFunction:()=>t(),telemetryIdentifier:"telemetry.site-editor.close-message-bar",children:e.jsx(k,{name:"cross",size:{heightInPixels:"16px",widthInPixels:"16px"}})})]})}case z.Error:return e.jsxs("div",{className:"site-editor-message__message-box site-editor-message__message-box--error",children:[e.jsxs("div",{children:[e.jsx("p",{children:e.jsx(d,{textKey:"Error saving the following changes:"})}),e.jsx("pre",{children:s.errorPayload})]}),e.jsx(y,{analyticsTag:"",ariaLabel:"Close message bar",className:"site-editor-message__bar-close-button",onClickFunction:()=>t(),telemetryIdentifier:"telemetry.site-editor.close-message-bar",children:e.jsx(k,{name:"cross",size:{heightInPixels:"16px",widthInPixels:"16px"}})})]});case z.None:return null}};return s.messageType!==z.None?e.jsx("div",{className:"site-editor-message",children:i()}):null},hs=I(ds),us=()=>{const{siteEditorStore:s,profileStore:t}=E(),i=pe(),[a,n]=o.useState(!1),l={displayName:t.displayName,email:t.email},j=async()=>{n(!0),await s.saveAllChanges(l),i.invalidateQueries(Ie.settings.load.queryKey),n(!1)};return e.jsx("div",{className:"site-editor-floating-actions admin-actions",children:e.jsxs("div",{className:"site-editor-floating-actions__container",children:[e.jsxs("div",{className:"site-editor-floating-actions__unsaved",children:[e.jsx("span",{className:"site-editor-floating-actions__unsaved-number",children:s.modifiedValues.size})," ",s.modifiedValues.size===1?e.jsx(e.Fragment,{children:"unsaved change"}):e.jsx(e.Fragment,{children:"unsaved changes"})]}),e.jsx(y,{analyticsTag:"",type:"button",onClickFunction:j,className:"site-editor-floating-actions__button site-editor-floating-actions__save-all-button",telemetryIdentifier:"telemetry.site-editor.save-all",ariaLabel:"Save all",isAdmin:!0,disabled:a,children:a?e.jsx(d,{textKey:"Saving..."}):e.jsx(d,{textKey:"Save all"})}),e.jsx(y,{analyticsTag:"",type:"button",onClickFunction:()=>s.discardAllChanges(),telemetryIdentifier:"telemetry.site-editor.discard-changes",ariaLabel:"translate.base.generic.actions.discard",isAdmin:!0,buttonStyle:"secondary",children:e.jsx(d,{textKey:"translate.base.generic.actions.discard"})})]})})},xs=I(us),ms=["expertconnect","meetings","side-meetings","event-tools","inperson","contenteditor","session-catalog","siteeditor","microsoft-employee","media-day","inperson-region-france","inperson-region-germany","inperson-region-japan","inperson-region-latam","inperson-region-uk","redirect-region-france","redirect-region-germany","redirect-region-japan","redirect-region-latam","redirect-region-uk"],G=({currentValue:s,pattern:t,placeHolder:i,classes:a,updateValue:n,validationCheck:l,errorMessage:j,isDisabled:r=!1})=>{const g=s??"",c=_=>_&&(t&&!_.match(t)||l&&!l(_)),u=_=>{typeof n=="function"&&n(_.target.value,!c(_.target.value))};return e.jsxs(e.Fragment,{children:[e.jsx("input",{className:P("c-text-field string-editor",{classes:!!a}),type:"text",value:g,onChange:u,placeholder:i,disabled:r}),c(g)&&e.jsx("div",{className:"string-editor__error-message",title:`Match pattern: ${t||"Any"}`,children:e.jsx(d,{textKey:j||"input is invalid"})})]})},js=s=>{const t=a=>a&&H(a,H.ISO_8601,!0).isValid(),i=t(s.currentValue)&&H(s.currentValue);return e.jsxs("div",{className:"flex",children:[e.jsx(G,{validationCheck:t,errorMessage:"Date is invalid",...s}),i&&e.jsx(Ee,{children:e.jsxs("div",{className:"editor-panel__datetime",children:[e.jsx(ae,{date:i,format:Ke.mediumDisplayDate})," ",e.jsx(ae,{date:i,format:Re()})," ",e.jsx(Fe,{date:i,abbreviate:!0})]})})]})},bs=s=>{const t=i=>i==="24:00:00"?!1:H(i,"HH:mm:ss",!0).isValid();return e.jsx(G,{validationCheck:t,errorMessage:"Time is invalid",...s})},gs=I(({currentValue:s,properties:t,settingName:i,updateSetting:a})=>{const{siteEditorStore:n}=E(),[l,j]=o.useState(new Map),[r,g]=o.useState(q(s)),[c,u]=o.useState(""),[_,x]=o.useState(!0),[S,h]=o.useState({}),[b]=o.useState(se({value:null}));o.useEffect(()=>{g(q(s))},[s]);const v=m=>{const f=m.key,w={...S};w[f]=m.valid??!0,h(w),B(m.settingReference,f,m.value)},T=o.useCallback(m=>r.includes(m)?{error:!0,message:`Duplicate Key: '${m}'`}:m.length<3?{error:!0,message:"Key is too short (must be more than 2 characters)"}:{error:!1,message:""},[r]);o.useEffect(()=>{let m=!0;(c===""||T(c).error)&&(m=!1);const f=Object.entries(S).length>0&&Object.values(S).every(w=>w);x(!(m&&f))},[c,r,S,T]);const $={description:"",pattern:new RegExp("^(.*)$"),type:"string"},U=m=>{if(l.has(m)){const f=new Map(l);f.delete(m),j(f)}},N=(m,f,w)=>{const C=T(m);return C.error&&!l.has(w)?j(new Map(l.set(w,{lastValidKey:f,errorMessage:C.message}))):C.error||U(w),!C.error},p=(m,f)=>{var ie;const w=[...r],C=((ie=l.get(f))==null?void 0:ie.lastValidKey)||w[f];w[f]=m,g(w);const te=N(m,C,f);if(te){const ue=R(t,C);n.removeSettingItem(i,t,C);const xe={settingName:i,settingReference:t,key:m,value:ue,valid:te};n.updateSettingValue(xe);const me=R(s,C);n.removeSettingItem(i,s,C);const je={settingName:i,settingReference:s,key:m,value:me};n.updateSettingValue(je)}},K=m=>{var C;const f=[...r],w=((C=l.get(m))==null?void 0:C.lastValidKey)||f[m];f.splice(m,1),g(f),U(m),n.removeSettingItem(i,t,w),n.removeSettingItem(i,s,w)},A=()=>{const m=[...r];m.push(c);const f={settingName:i,settingReference:s,key:c,value:R(b,"value")};n.updateSettingValue(f);const w={settingName:i,settingReference:t,key:c,value:$};n.updateSettingValue(w),g(m),u(""),B(b,"value",null)};return e.jsxs("div",{className:"leaf-editor",children:[r.map((m,f)=>{var w;return e.jsx("table",{className:"leaf-editor__table",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"leaf-editor__existing-values-container",children:[e.jsx("td",{children:e.jsx("input",{className:"c-text-field leaf-editor__input",type:"text",defaultValue:m,onBlur:C=>p(C.target.value,f)})}),e.jsx("td",{children:e.jsx(F,{valueParentObject:s,valueProperty:((w=l.get(f))==null?void 0:w.lastValidKey)||m,propertiesObject:t,classList:"object-editor__input",settingName:i,updateSetting:a})}),e.jsx("td",{children:e.jsx(y,{className:"leaf-editor__remove-value-button",onClickFunction:()=>K(f),telemetryIdentifier:"telemetry.site-editor.remove-list-item",ariaLabel:`remove ${m} entry`,analyticsTag:"",children:e.jsx(k,{name:"cross",size:{heightInPixels:"20px",widthInPixels:"20px"},fill:"white"})})})]}),e.jsx("tr",{children:e.jsx("td",{children:l.has(f)&&e.jsx("div",{className:"leaf-editor__error",children:e.jsx("p",{children:l.get(f).errorMessage})})})})]})},m)}),e.jsxs("div",{className:"leaf-editor__add-new-container",children:[e.jsx("table",{children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(G,{classes:"c-text-field leaf-editor__input {{ctrl.classList}}",currentValue:c,updateValue:m=>u(m)})}),e.jsx("td",{children:e.jsx(F,{valueParentObject:b,valueProperty:"value",propertiesObject:$,classList:"c-text-field leaf-editor__input {{ctrl.classList}}",settingName:i,updateSetting:v})})]})})}),e.jsx(y,{className:"leaf-editor__add-value-button",onClickFunction:()=>A(),disabled:_,telemetryIdentifier:"telemetry.site-editor.add-to-list",ariaLabel:"Add new entry to object",analyticsTag:"",children:"Add"})]})]})}),ps=({currentValues:s,itemProperties:t,settingName:i,updateSetting:a})=>{const{siteEditorStore:n}=E(),[l,j]=o.useState(!0),[r,g]=o.useState({}),[c]=o.useState(se({value:""})),u=o.useRef({[i]:[]});o.useEffect(()=>{const b=Object.entries(r).length>0&&Object.values(r).every(v=>v);j(!b)},[r]);const _=o.useCallback(b=>{n.removeSettingItem(i,s,b)},[s,i,n]),x=o.useCallback((b,v)=>{const T=R(s,v);n.updateSettingValue({settingName:i,settingReference:s,key:v,value:R(s,b)}),n.updateSettingValue({settingName:i,settingReference:s,key:b,value:T}),he({element:u.current[i][v]})},[s,i,n]),S=o.useCallback(()=>{n.updateSettingValue({settingName:i,settingReference:s,key:s.length,value:R(c,"value")}),B(c,"value",null),g({})},[s,c,i,n]),h=o.useCallback(b=>{const v=b.key,T={...r};T[v]=b.valid??!0,g(T),B(b.settingReference,v,b.value)},[r]);return e.jsxs("div",{className:"list-editor",children:[s.map((b,v)=>e.jsxs("div",{ref:T=>T?u.current[i].push(T):null,tabIndex:-1,className:"list-editor__existing-values-container",children:[e.jsx(F,{valueParentObject:s,valueProperty:v,propertiesObject:t,classList:"list-editor__input",settingName:i,updateSetting:a}),e.jsxs("div",{className:"list-editor__modification-buttons",children:[v!==0&&e.jsx(y,{className:"list-editor__remove-value-button list-editor__remove-value-button-up",onClickFunction:()=>x(v,v-1),telemetryIdentifier:"telemetry.site-editor.remove-list-item",ariaLabel:"Remove list item from setting",analyticsTag:"",children:e.jsx(k,{name:"chevron-up",size:{heightInPixels:"20px",widthInPixels:"20px"},fill:"black"})}),e.jsx(y,{className:"list-editor__remove-value-button",onClickFunction:()=>_(v),telemetryIdentifier:"telemetry.site-editor.remove-list-item",ariaLabel:"Remove list item from setting",analyticsTag:"",children:e.jsx(k,{name:"cross",size:{heightInPixels:"20px",widthInPixels:"20px"},fill:"black"})}),v!==s.length-1&&e.jsx(y,{className:"list-editor__remove-value-button list-editor__remove-value-button-down",onClickFunction:()=>x(v,v+1),telemetryIdentifier:"telemetry.site-editor.remove-list-item",ariaLabel:"Remove list item from setting",disabled:v===s.length-1,analyticsTag:"",children:e.jsx(k,{name:"chevron-down",size:{heightInPixels:"20px",widthInPixels:"20px"},fill:"black"})})]})]},i+v)),e.jsxs("div",{className:"list-editor__add-new-container",children:[e.jsx(F,{valueParentObject:c,valueProperty:"value",propertiesObject:t,classList:"list-editor__add-text-input",settingName:i,updateSetting:h}),e.jsx(y,{className:"list-editor__add-value-button",disabled:l,onClickFunction:S,telemetryIdentifier:"telemetry.site-editor.add-to-list",ariaLabel:"Add new value to setting list",analyticsTag:"",children:"Add"})]})]})},fs=I(ps),vs=({currentValues:s,itemProperties:t,settingName:i,updateSetting:a})=>{const{siteEditorStore:n}=E(),[l,j]=o.useState(!0),[r,g]=o.useState({}),[c]=o.useState(se({value:""})),[u,_]=o.useState(new Array(s.length).fill(!1)),[x,S]=o.useState(),h=o.useRef(s.map(()=>o.createRef()));o.useEffect(()=>{const N=Object.entries(r).length>0&&Object.values(r).every(p=>p);j(!N)},[r]);const b=o.useCallback((N,p,K)=>{const A=p??[...u];K?A[N]=K:A[N]=!A[N],_(A)},[u]),v=o.useCallback(N=>{n.removeSettingItem(i,s,N)},[s,i,n]),T=o.useCallback((N,p)=>{const K=R(s,N),A=R(s,p),m=[...u];n.updateSettingValue({settingName:i,settingReference:s,key:N,value:A}),b(N,m,!1),n.updateSettingValue({settingName:i,settingReference:s,key:p,value:K}),b(p,m,!0),S(p)},[s,u,i,n,b]);o.useEffect(()=>{if(typeof x!="number")return;const N=h.current[x].current;if(N){const p=N.getBoundingClientRect().top+window.scrollY-74;window.scrollTo({top:p})}he({element:h.current[x].current})},[x]);const $=o.useCallback(()=>{n.updateSettingValue({settingName:i,settingReference:s,key:s.length,value:R(c,"value")}),B(c,"value",null),g({}),h.current.push(o.createRef())},[s,c,i,n]),U=o.useCallback(N=>{const p=N.key,K={...r};K[p]=N.valid??!0,g(K),B(N.settingReference,p,N.value)},[r]);return e.jsxs("div",{className:"list-editor",children:[s.map((N,p)=>e.jsxs(o.Fragment,{children:[e.jsx(y,{analyticsTag:"",telemetryIdentifier:"",onClickFunction:()=>b(p),buttonStyle:"text",className:"nav-editor__toggle-button",glyph:u[p]?{name:"chevron-down",size:{heightInPixels:"16px",widthInPixels:"16px"}}:{name:"chevron-right",size:{heightInPixels:"16px",widthInPixels:"16px"}},ariaExpanded:u[p],reference:h.current[p],children:e.jsx(d,{textKey:s[p].name})}),e.jsx("div",{className:"list-editor__existing-values-container",children:u[p]?e.jsxs(e.Fragment,{children:[e.jsx(F,{valueParentObject:s,valueProperty:p,propertiesObject:t,classList:"list-editor__input",settingName:i,updateSetting:a}),e.jsxs("div",{className:"list-editor__modification-buttons",children:[p!==0&&e.jsx(y,{className:"list-editor__remove-value-button list-editor__remove-value-button-up",onClickFunction:()=>T(p,p-1),telemetryIdentifier:"telemetry.site-editor.remove-list-item",ariaLabel:"Remove list item from setting",analyticsTag:"",children:e.jsx(k,{name:"chevron-up",size:{heightInPixels:"20px",widthInPixels:"20px"},fill:"black"})}),e.jsx(y,{className:"list-editor__remove-value-button",onClickFunction:()=>v(p),telemetryIdentifier:"telemetry.site-editor.remove-list-item",ariaLabel:"Remove list item from setting",analyticsTag:"",children:e.jsx(k,{name:"cross",size:{heightInPixels:"20px",widthInPixels:"20px"},fill:"black"})}),p!==s.length-1&&e.jsx(y,{className:"list-editor__remove-value-button list-editor__remove-value-button-down",onClickFunction:()=>T(p,p+1),telemetryIdentifier:"telemetry.site-editor.remove-list-item",ariaLabel:"Remove list item from setting",disabled:p===s.length-1,analyticsTag:"",children:e.jsx(k,{name:"chevron-down",size:{heightInPixels:"20px",widthInPixels:"20px"},fill:"black"})})]})]}):null})]},i+p)),u.some(N=>N===!0)?e.jsx(y,{analyticsTag:"",telemetryIdentifier:"",onClickFunction:()=>_(new Array(s.length).fill(!1)),children:e.jsx(d,{textKey:"translate.base.site-settings.collapse"})}):null,e.jsxs("div",{className:"list-editor__add-new-container",children:[e.jsx(F,{valueParentObject:c,valueProperty:"value",propertiesObject:t,classList:"list-editor__add-text-input",settingName:i,updateSetting:U}),e.jsx(y,{className:"list-editor__add-value-button",disabled:l,onClickFunction:$,telemetryIdentifier:"telemetry.site-editor.add-to-list",ariaLabel:"Add new value to setting list",analyticsTag:"",children:"Add"})]})]})},ys=I(vs),le=({value:s,updateValue:t,minValue:i=void 0,maxValue:a=void 0,step:n,allowDecimal:l=!1})=>{const j=o.useCallback(x=>{const S=l?/^[-]?([0-9]*)?[0-9]+(.[0-9])?$/g:/^[-]?([0-9]*)?[0-9]+$/g;return x?!!x.match(S):!1},[l]),r=o.useCallback(x=>{const S=Number(x),h=!j(x)||isNaN(S),b=!h&&i!==void 0&&S<i,v=!h&&a!==void 0&&S>a;return b?{error:!0,message:`Value is less than the allowed minimum (${i})`}:v?{error:!0,message:`Value is greater than allowed maximum (${a})`}:h?{error:!0,message:l?"Value entered is not a valid decimal format (1 d.p.)":"Value entered is not a valid integer"}:{error:!1,message:""}},[l,j,a,i]),[g,c]=o.useState(()=>r(s==null?void 0:s.toString()));o.useEffect(()=>{c(r(s==null?void 0:s.toString()))},[s,r]);const u=x=>{const S=x.target.value,h=r(S);t(h.error?S:Number(S),!h.error)},_=!!s||s===0;return e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"c-text-field integer-editor",type:"text",onChange:u,step:n,value:_?s:"",min:i,max:a}),g.error&&e.jsx("div",{className:"integer-editor__error-message",children:g.message})]})},_s=({properties:s,currentValue:t,settingName:i,updateSetting:a})=>e.jsx("div",{className:"object-editor",children:e.jsx("table",{children:e.jsx("tbody",{children:q(s).map(n=>e.jsxs("tr",{className:"object-editor__setting-row",children:[e.jsx("th",{scope:"row",children:e.jsx("label",{children:n})}),e.jsx("td",{children:e.jsx(F,{valueParentObject:t,valueProperty:n,propertiesObject:s[n],classList:"object-editor__input",settingName:i,updateSetting:a})})]},n))})})}),Ss=I(_s),V=()=>e.jsx("option",{hidden:!0,disabled:!0,selected:!0,value:"",children:"Select an option"}),Ns=({valueParentObject:s,valueProperty:t,propertiesObject:i,settingName:a,classList:n,updateSetting:l})=>{const{configStore:j}=E();let r;typeof i=="string"?r=JSON.parse(i):r=i;const g=r&&r.type,c=o.useCallback((h,b)=>{l({...{settingName:a,settingReference:s,key:t,value:null},value:h,valid:b})},[a,l,s,t]);o.useEffect(()=>{g==="array"&&!s[t]&&c([])},[g,c,s,t]),o.useEffect(()=>{g==="object"&&(r==null?void 0:r.format)===void 0&&!s[t]&&c({})},[r==null?void 0:r.format,g,c,s,t]);let u;const _=(r==null?void 0:r.format)==="nav-key"?ys:fs;let x;switch(r==null?void 0:r.format){case"time":x=e.jsx(bs,{currentValue:s[t],updateValue:c});break;case"date-time":x=e.jsx(js,{currentValue:s[t],updateValue:c});break;case"header-banner-codes":x=e.jsxs("select",{className:"site-editor__fake-mwf-select",value:s[t],onChange:h=>{c(h.target.value)},children:[e.jsx(V,{}),fe(Object.values(Ae)).map(h=>e.jsx("option",{value:h,children:h},h))]});break;case"navigation-routes":x=e.jsxs("select",{className:"site-editor__fake-mwf-select",value:s[t],onChange:h=>{c(h.target.value)},children:[e.jsx(V,{}),de.map(h=>e.jsx("option",{value:h.path,children:h.path},h.path))]});break;case"phases":{const h=j.getSetting("eventPhases",[]);x=e.jsxs("select",{className:"site-editor__fake-mwf-select",value:s[t],onChange:b=>{c(b.target.value)},children:[e.jsx(V,{}),h.map(b=>e.jsxs("option",{value:b.id,children:[b.start," (",b.id,": ",b.label,")"]},b.id))]});break}case"scopes":x=e.jsxs("select",{className:"site-editor__fake-mwf-select",value:s[t],onChange:h=>{c(h.target.value)},children:[e.jsx(V,{}),ms.map(h=>e.jsx("option",{value:h,children:h},h))]});break;default:x=e.jsx(G,{currentValue:(s==null?void 0:s[t])??"",isDisabled:(r==null?void 0:r.format)==="read-only",pattern:r.pattern,updateValue:c});break}const S=(r==null?void 0:r.format)==="editable-key"?gs:Ss;if(r!=null&&r.enum)u=e.jsx("select",{className:"site-editor__fake-mwf-select",value:s[t],onChange:h=>{c(h.target.value)},children:r.enum.map(h=>e.jsx("option",{value:h,children:h},h))});else switch(g){case"boolean":u=e.jsx(Pe,{toggleName:`${a}-${t}-toggle`,isActive:!!s[t],onLabel:"translate.base.generic.labels.enabled",offLabel:"translate.base.generic.labels.disabled",onChanged:c,telemetryIdentifier:`telemetry.settings-editor.${a}`});break;case"number":u=e.jsx(le,{value:s[t],updateValue:c,allowDecimal:!0});break;case"integer":u=e.jsx(le,{value:s[t],updateValue:c});break;case"string":u=x;break;case"array":u=s!=null&&s[t]?e.jsx(_,{currentValues:s[t],itemProperties:i.items,settingName:a,updateSetting:l}):null;break;case"object":u=s!=null&&s[t]?e.jsx(S,{currentValue:s[t],properties:i.properties,settingName:a,updateSetting:l}):null;break}return e.jsx("div",{className:`editor-controls-wrapper ${n||""}`,children:u})},F=I(Ns),ws=({settingName:s})=>{var c;const{siteEditorStore:t}=E(),i=u=>{if(u===L.environment||!t.allEnvironmentSettings.size||!t.allEnvironmentSettings.get(u))return null;const _=t.allEnvironmentSettings.get(u),x=_==null?void 0:_[s];return JSON.stringify(ne(x==null?void 0:x.value))??null},a=u=>t.updateEnvSettings(u,s);if(!t.allEnvironmentSettings.size||!t.originalSettings.size)return null;const n=ne((c=t.originalSettings.get(s))==null?void 0:c.value),l=JSON.stringify(n),j=i("cont")??!1,r=i("uat")??!1,g=i("prod")??!1;return j||r||g?e.jsxs("div",{className:"site-editor-environment-comparator",children:[j&&e.jsx(Q,{identifier:s,env:"cont",currentContent:l,envContent:j,updateEnv:a}),r&&e.jsx(Q,{identifier:s,env:"uat",currentContent:l,envContent:r,updateEnv:a}),g&&e.jsx(Q,{identifier:s,env:"prod",currentContent:l,envContent:g,updateEnv:a})]}):null},Cs=I(ws),ks=({settingName:s,settingValue:t})=>{const{siteEditorStore:i}=E(),a=ze(),{i18n:n}=ve(),l=`translate.base.site-setting-tooltip.${ye(s)}`,j=n.exists(l,{ns:"admin"});let r;return j?r=l:t.description?r=t.description:r="Enter edit mode to add a description",e.jsx("div",{className:P("site-editor-row",{"site-editor-row--changed":i.modifiedValues.has(s)&&!i.isTitle(s),"site-editor-row--sensitive":t.isSensitive}),children:i.isTitle(s)?e.jsx("div",{className:"site-editor-row__category",children:e.jsx("h3",{className:"c-heading-3",children:typeof t.value=="object"?JSON.stringify(t.value):t.value})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"site-editor-row__details",children:[i.modifiedValues.has(s)&&e.jsx("div",{className:"site-editor-row__reset",children:e.jsxs(y,{analyticsTag:"",type:"reset",buttonStyle:"text",className:"site-editor-row__reset-button",onClickFunction:()=>i.discardChanges(s),telemetryIdentifier:"telemetry.site-editor.discard-setting-changes",ariaLabel:`Revert changes for setting ${s}`,children:[e.jsx(k,{additionalClasses:"pr-micro",name:"refresh",size:{heightInPixels:"12px",widthInPixels:"12px"}}),"Reset changes"]})}),e.jsxs("div",{className:"site-editor-row__content",children:[e.jsxs("h4",{className:"site-editor-row__title",children:[t.title??s,t.isSensitive&&e.jsx(k,{additionalClasses:"pl-micro",name:"warning-filled",size:{heightInPixels:"16px",widthInPixels:"16px"},fill:"red"})]}),e.jsxs("div",{className:"site-editor-row__types",children:[t.title?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"site-editor-row__type",children:t.type}),e.jsx(d,{textKey:"translate.base.site-setting.setting-name"}),s]}):e.jsx("span",{className:"site-editor-row__type",children:t.type}),!t.isComputed&&e.jsx(Cs,{settingName:s})]}),e.jsx("p",{className:"site-editor-row__description",children:a?e.jsx(d,{textKey:l,namespace:"admin"}):e.jsx(d,{textKey:r,namespace:"admin"})})]})]}),t.type==="object"||t.type==="array"?e.jsx(Le,{id:`settings-${s}`,headerText:"translate.base.site-setting.config-button",headerAriaLabel:"translate.base.site-setting.config-button",children:e.jsx("div",{className:"site-editor-row__settings",children:e.jsx(F,{valueParentObject:t,valueProperty:"value",propertiesObject:t,settingName:s,updateSetting:i.updateSettingValue})})}):e.jsx("div",{className:"site-editor-row__settings",children:e.jsx(F,{valueParentObject:t,valueProperty:"value",propertiesObject:t,settingName:s,updateSetting:i.updateSettingValue})})]})})},Ts=I(ks),Is=({customFunctionsCategory:s})=>{const{siteEditorStore:t}=E(),i=t.filteredSettingsWithValues;return e.jsxs("div",{className:"site-editor-settings-list",children:[e.jsx("div",{children:i.map(a=>e.jsx(Ts,{settingName:a.settingName,settingValue:a.settingValue},a.settingName))}),e.jsx(hs,{}),s===t.activeCategory&&e.jsx(cs,{}),t.modifiedValues.size>0&&e.jsx(xs,{})]})},Es=I(Is),Ks=({settings:s,onSearchResultsChange:t,searchText:i="",onSearchTextChange:a})=>{const{translate:n}=Oe(),[l,j]=o.useMemo(()=>{const c=[],u=q(s);return _e(s).forEach(([_,x])=>{const S=(x==null?void 0:x.title)??"";c.push({setting:_,title:S})}),[c,u]},[s]),r=()=>{a("")},g=c=>{const u=c.target.value;a(u)};return o.useEffect(()=>{const c={threshold:.2,keys:["setting","title"]},u=new Se(l,c);(x=>{if(!x){t(x,j);return}const S=u.search(x),h=[];S.forEach(b=>{h.push(b.item.setting)}),t(x,h)})(i)},[j,t,l,i]),e.jsxs("div",{className:"fuzzy-search",children:[e.jsx("input",{className:"c-text-field",type:"text",value:i,onChange:g,placeholder:n("translate.base.site-editor.fuzzy-search.place-holder")}),i&&e.jsx("div",{children:e.jsx(y,{buttonStyle:"primary",className:"fuzzy-search__clear-all",onClickFunction:r,telemetryIdentifier:"telemetry.site-editor.clear-search",ariaLabel:"translate.base.site-editor.fuzzy-search.clear",glyph:{name:"cancel",size:{heightInPixels:"16px",widthInPixels:"16px"},postFix:!0},analyticsTag:"",children:e.jsx("span",{className:"fuzzy-search__button-span",children:e.jsx(d,{textKey:"translate.base.site-editor.fuzzy-search.clear"})})})})]})},Rs=()=>{const{siteEditorStore:s}=E();return o.useEffect(()=>{const t=De(window.location.search);t.s&&s.setQueryString(t.s)},[s]),e.jsx("div",{className:"site-editor-search",children:e.jsx(Ks,{settings:s.settingsToDisplay,onSearchResultsChange:s.searchResultsChanged,searchText:s.queryString,onSearchTextChange:s.setQueryString})})},Fs=I(Rs),As=()=>{const{profileStore:s,siteEditorStore:t}=E();o.useEffect(()=>{s.hasSiteEditorScope&&t.isLoading&&t.init()},[s,t]);const i="customfunctionscategory";return e.jsx(e.Fragment,{children:s.hasSiteEditorScope&&e.jsx("div",{className:"site-editor page-padding content-container",children:e.jsxs("div",{className:"site-editor__wrapper",children:[e.jsxs("div",{className:"site-editor__header",children:[e.jsx("h1",{className:"site-editor__title c-heading-2",children:"Site Settings"}),e.jsxs("div",{className:"site-editor__filters",children:[e.jsx(We,{}),t.hasSettingsToDisplay&&e.jsx(Fs,{})]})]}),t.isLoading&&e.jsx(oe,{}),!t.isLoading&&t.hasSettingsToDisplay&&e.jsx(Be,{children:e.jsxs("div",{id:"primaryArea",role:"main",className:"site-editor__content",tabIndex:-1,children:[e.jsxs("div",{className:"site-editor__buttons",children:[e.jsx(qe,{}),e.jsx($e,{data:{buttons:["expand","collapse"]}})]}),e.jsxs("div",{className:"site-editor__settings",children:[e.jsx(Ve,{customFunctionsCategory:i}),e.jsx(Es,{customFunctionsCategory:i})]})]})})]})})})},Os=I(As);export{Os as default};
