/**
 * Owl Carousel v2.3.4
 * Copyright 2013-2018 David Deutsch
 * Licensed under: SEE LICENSE IN https://github.com/OwlCarousel2/OwlCarousel2/blob/master/LICENSE
 */
/*
 *  Owl Carousel - Core
 */
.owl-carousel {
  display: none;
  width: 100%;
  -webkit-tap-highlight-color: transparent;
  /* position relative and z-index fix webkit rendering fonts issue */
  position: relative;
  z-index: 1; }
  .owl-carousel .owl-stage {
    position: relative;
    -ms-touch-action: pan-Y;
    touch-action: manipulation;
    -moz-backface-visibility: hidden;
    /* fix firefox animation glitch */ }
  .owl-carousel .owl-stage:after {
    content: ".";
    display: block;
    clear: both;
    visibility: hidden;
    line-height: 0;
    height: 0; }
  .owl-carousel .owl-stage-outer {
    position: relative;
    overflow: hidden;
    /* fix for flashing background */
    -webkit-transform: translate3d(0px, 0px, 0px); }
  .owl-carousel .owl-wrapper,
  .owl-carousel .owl-item {
    -webkit-backface-visibility: hidden;
    -moz-backface-visibility: hidden;
    -ms-backface-visibility: hidden;
    -webkit-transform: translate3d(0, 0, 0);
    -moz-transform: translate3d(0, 0, 0);
    -ms-transform: translate3d(0, 0, 0); }
  .owl-carousel .owl-item {
    position: relative;
    min-height: 1px;
    float: left;
    -webkit-backface-visibility: hidden;
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none; }
  .owl-carousel .owl-item img {
    display: block;
    width: 100%; }
  .owl-carousel .owl-nav.disabled,
  .owl-carousel .owl-dots.disabled {
    display: none; }
  .owl-carousel .owl-nav .owl-prev,
  .owl-carousel .owl-nav .owl-next,
  .owl-carousel .owl-dot {
    cursor: pointer;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none; }
  .owl-carousel .owl-nav button.owl-prev,
  .owl-carousel .owl-nav button.owl-next,
  .owl-carousel button.owl-dot {
    background: none;
    color: inherit;
    border: none;
    padding: 0 !important;
    font: inherit; }
  .owl-carousel.owl-loaded {
    display: block; }
  .owl-carousel.owl-loading {
    opacity: 0;
    display: block; }
  .owl-carousel.owl-hidden {
    opacity: 0; }
  .owl-carousel.owl-refresh .owl-item {
    visibility: hidden; }
  .owl-carousel.owl-drag .owl-item {
    -ms-touch-action: pan-y;
        touch-action: pan-y;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none; }
  .owl-carousel.owl-grab {
    cursor: move;
    cursor: grab; }
  .owl-carousel.owl-rtl {
    direction: rtl; }
  .owl-carousel.owl-rtl .owl-item {
    float: right; }

/* No Js */
.no-js .owl-carousel {
  display: block; }

/*
 *  Owl Carousel - Animate Plugin
 */
.owl-carousel .animated {
  animation-duration: 1000ms;
  animation-fill-mode: both; }

.owl-carousel .owl-animated-in {
  z-index: 0; }

.owl-carousel .owl-animated-out {
  z-index: 1; }

.owl-carousel .fadeOut {
  animation-name: fadeOut; }

@keyframes fadeOut {
  0% {
    opacity: 1; }
  100% {
    opacity: 0; } }

/*
 * 	Owl Carousel - Auto Height Plugin
 */
.owl-height {
  transition: height 500ms ease-in-out; }

/*
 * 	Owl Carousel - Lazy Load Plugin
 */
.owl-carousel .owl-item {
  /**
			This is introduced due to a bug in IE11 where lazy loading combined with autoheight plugin causes a wrong
			calculation of the height of the owl-item that breaks page layouts
		 */ }
  .owl-carousel .owl-item .owl-lazy {
    opacity: 0;
    transition: opacity 400ms ease; }
  .owl-carousel .owl-item .owl-lazy[src^=""], .owl-carousel .owl-item .owl-lazy:not([src]) {
    max-height: 0; }
  .owl-carousel .owl-item img.owl-lazy {
    transform-style: preserve-3d; }

/*
 * 	Owl Carousel - Video Plugin
 */
.owl-carousel .owl-video-wrapper {
  position: relative;
  height: 100%;
  background: #000; }

.owl-carousel .owl-video-play-icon {
  position: absolute;
  height: 80px;
  width: 80px;
  left: 50%;
  top: 50%;
  margin-left: -40px;
  margin-top: -40px;
  background: url("owl.video.play.png") no-repeat;
  cursor: pointer;
  z-index: 1;
  -webkit-backface-visibility: hidden;
  transition: transform 100ms ease; }

.owl-carousel .owl-video-play-icon:hover {
  -ms-transform: scale(1.3, 1.3);
      transform: scale(1.3, 1.3); }

.owl-carousel .owl-video-playing .owl-video-tn,
.owl-carousel .owl-video-playing .owl-video-play-icon {
  display: none; }

.owl-carousel .owl-video-tn {
  opacity: 0;
  height: 100%;
  background-position: center center;
  background-repeat: no-repeat;
  background-size: contain;
  transition: opacity 400ms ease; }

.owl-carousel .owl-video-frame {
  position: relative;
  z-index: 1;
  height: 100%;
  width: 100%; }
'April','May','June','July','August','September','October','November','December'],hours=['00-01','01-02','02-03','03-04','04-05','05-06','06-07','07-08','08-09','09-10','10-11','11-12','12-13','13-14','14-15','15-16','16-17','17-18','18-19','19-20','20-21','21-22','22-23','23-24'];dateTime.push(hours[date.getHours()]);dateTime.push(days[date.getDay()]);dateTime.push(months[date.getMonth()]);return dateTime}
function filterEmails(value){return validateEmail(value)?undefined:value}
return{PRODUCT_SIMPLE:0,PRODUCT_VARIABLE:1,PRODUCT_BUNDLE:2,PRODUCT_GROUPED:3,utmTerms:utmTerms,utmId:utmId,fireEventForAllPixel:function(functionName,events){if(events.hasOwnProperty(Facebook.tag()))
Facebook[functionName](events[Facebook.tag()]);if(events.hasOwnProperty(Analytics.tag()))
Analytics[functionName](events[Analytics.tag()]);if(events.hasOwnProperty(Pinterest.tag()))
Pinterest[functionName](events[Pinterest.tag()]);if(events.hasOwnProperty(Bing.tag()))
Bing[functionName](events[Bing.tag()])},setupPinterestObject:function(){Pinterest=window.pys.Pinterest||Pinterest;return Pinterest},setupBingObject:function(){Bing=window.pys.Bing||Bing;return Bing},copyProperties:function(from,to){for(var key in from){if("function"==typeof from[key]){continue}
to[key]=from[key]}
return to},manageCookies:function(){let expires=parseInt(options.cookie_duration);let queryVars=getQueryVars();let landing=window.location.href.split('?')[0];try{if(Cookies.get('pys_first_visit')===undefined&&(!options.cookie.disabled_all_cookie)){if(!options.cookie.disabled_first_visit_cookie){Cookies.set('pys_first_visit',!0,{expires:expires})}else{Cookies.remove('pys_first_visit')}
if(!options.cookie.disabled_trafficsource_cookie){Cookies.set('pysTrafficSource',getTrafficSource(),{expires:expires})}else{Cookies.remove('pysTrafficSource')}
if(!options.cookie.disabled_landing_page_cookie){Cookies.set('pys_landing_page',landing,{expires:expires})}else{Cookies.remove('pys_landing_page')}
if(!options.cookie.disabled_utmTerms_cookie){$.each(utmTerms,function(index,name){if(queryVars.hasOwnProperty(name)){Cookies.set('pys_'+name,queryVars[name],{expires:expires})}else{Cookies.remove('pys_'+name)}})}else{$.each(utmTerms,function(index,name){Cookies.remove('pys_'+name)})}
if(!options.cookie.disabled_utmId_cookie){$.each(utmId,function(index,name){if(queryVars.hasOwnProperty(name)){Cookies.set('pys_'+name,queryVars[name],{expires:expires})}else{Cookies.remove('pys_'+name)}})}else{$.each(utmId,function(index,name){Cookies.remove('pys_'+name)})}}
if(isNewSession&&(!options.cookie.disabled_all_cookie)){if(!options.cookie.disabled_trafficsource_cookie){Cookies.set('last_pysTrafficSource',getTrafficSource(),{expires:expires})}else{Cookies.remove('last_pysTrafficSource')}
if(!options.cookie.disabled_landing_page_cookie){Cookies.set('last_pys_landing_page',landing,{expires:expires})}else{Cookies.remove('last_pys_landing_page')}
if(!options.cookie.disabled_utmTerms_cookie){$.each(utmTerms,function(index,name){if(queryVars.hasOwnProperty(name)){Cookies.set('last_pys_'+name,queryVars[name],{expires:expires})}else{Cookies.remove('last_pys_'+name)}})}else{$.each(utmTerms,function(index,name){Cookies.remove('last_pys_'+name)})}
if(!options.cookie.disabled_utmId_cookie){$.each(utmId,function(index,name){if(queryVars.hasOwnProperty(name)){Cookies.set('last_pys_'+name,queryVars[name],{expires:expires})}else{Cookies.remove('last_pys_'+name)}})}else{$.each(utmId,function(index,name){Cookies.remove('last_pys_'+name)})}}
if(options.cookie.disabled_all_cookie){Cookies.remove('pys_first_visit')
Cookies.remove('pysTrafficSource')
Cookies.remove('pys_landing_page')
Cookies.remove('last_pys_landing_page')
Cookies.remove('last_pysTrafficSource')
Cookies.remove('pys_start_session')
Cookies.remove('pys_session_limit')
$.each(Utils.utmTerms,function(index,name){Cookies.remove('pys_'+name)});$.each(Utils.utmId,function(index,name){Cookies.remove('pys_'+name)})
$.each(Utils.utmTerms,function(index,name){Cookies.remove('last_pys_'+name)});$.each(Utils.utmId,function(index,name){Cookies.remove('last_pys_'+name)})}}catch(e){console.error(e)}},clone:function(obj){var copy;if(null==obj||"object"!=typeof obj)return obj;if(obj instanceof Date){copy=new Date();copy.setTime(obj.getTime());return copy}
if(obj instanceof Array){copy=[];for(var i=0,len=obj.length;i<len;i++){if("function"==typeof obj[i]){continue}
copy[i]=Utils.clone(obj[i])}
return copy}
if(obj instanceof Object){copy={};for(var attr in obj){if(obj.hasOwnProperty(attr)){if("function"==typeof obj[attr]){continue}
copy[attr]=Utils.clone(obj[attr])}}
return copy}
return obj},getTagsAsArray:function(tag){return[].slice.call(document.getElementsByTagName(tag))},getRequestParams:function(){return[]},setupMouseOverClickEvents:function(eventId,triggers){document.addEventListener('mouseover',function(event){var matchedElements=Array.from(document.querySelectorAll(triggers));if(matchedElements.includes(event.target)){if(event.target.classList.contains('pys-mouse-over-'+eventId)){return!0}else{event.target.classList.add('pys-mouse-over-'+eventId)}
Utils.fireTriggerEvent(eventId)}})},setupCSSClickEvents:function(eventId,triggers){document.addEventListener('click',function(event){var matchedElements=Array.from(document.querySelectorAll(triggers));if(matchedElements.includes(event.target)){console.log(event.target)
Utils.fireTriggerEvent(eventId)}},!0)},setupURLClickEvents:function(){$('a[data-pys-event-id]').onFirst('click',function(evt){$(this).attr('data-pys-event-id').split(',').forEach(function(eventId){eventId=parseInt(eventId);if(isNaN(eventId)===!1){Utils.fireTriggerEvent(eventId)}})})},setupScrollPosEvents:function(eventId,triggers){var scrollPosThresholds={},docHeight=$(document).height()-$(window).height();$.each(triggers,function(index,scrollPos){scrollPos=docHeight*scrollPos/100;scrollPos=Math.round(scrollPos);scrollPosThresholds[scrollPos]=eventId});$(document).on("scroll",function(){var scrollPos=$(window).scrollTop();$.each(scrollPosThresholds,function(threshold,eventId){if(scrollPos<=threshold){return!0}
if(eventId===null){return!0}else{scrollPosThresholds[threshold]=null}
Utils.fireTriggerEvent(eventId)})})},setupCommentEvents:function(eventId,triggers){$('form.comment-form').on("submit",function(){Utils.fireTriggerEvent(eventId)})},fireTriggerEvent:function(eventId){if(!options.triggerEvents.hasOwnProperty(eventId)){return}
var event={};var events=options.triggerEvents[eventId];if(events.hasOwnProperty('facebook')){event=events.facebook;Facebook.fireEvent(event.name,event)}
if(events.hasOwnProperty('ga')){event=events.ga;Analytics.fireEvent(event.name,event)}
if(events.hasOwnProperty('pinterest')){event=events.pinterest;Pinterest.fireEvent(event.name,event)}
if(events.hasOwnProperty('bing')){event=events.bing;Bing.fireEvent(event.name,event)}},fireStaticEvents:function(pixel){if(options.staticEvents.hasOwnProperty(pixel)){$.each(options.staticEvents[pixel],function(eventName,events){$.each(events,function(index,eventData){eventData.fired=eventData.fired||!1;if(!eventData.fired){var fired=!1;if('facebook'===pixel){fired=Facebook.fireEvent(eventData.name,eventData)}else if('ga'===pixel){fired=Analytics.fireEvent(eventData.name,eventData)}else if('pinterest'===pixel){fired=Pinterest.fireEvent(eventData.name,eventData)}else if('bing'===pixel){fired=Bing.fireEvent(eventData.name,eventData)}
eventData.fired=fired}})})}},loadGoogleTag:function(id){if(!gtag_loaded){(function(window,document,src){var a=document.createElement('script'),m=document.getElementsByTagName('script')[0];a.async=1;a.src=src;m.parentNode.insertBefore(a,m)})(window,document,'//www.googletagmanager.com/gtag/js?id='+id);window.dataLayer=window.dataLayer||[];window.gtag=window.gtag||function gtag(){dataLayer.push(arguments)};gtag('js',new Date());gtag_loaded=!0}},loadPixels:function(){if(options.gdpr.ajax_enabled&&!options.gdpr.consent_magic_integration_enabled){$.get({url:options.ajaxUrl,dataType:'json',data:{action:'pys_get_gdpr_filters_values'},success:function(res){if(res.success){options.gdpr.all_disabled_by_api=res.data.all_disabled_by_api;options.gdpr.facebook_disabled_by_api=res.data.facebook_disabled_by_api;options.gdpr.analytics_disabled_by_api=res.data.analytics_disabled_by_api;options.gdpr.google_ads_disabled_by_api=res.data.google_ads_disabled_by_api;options.gdpr.pinterest_disabled_by_api=res.data.pinterest_disabled_by_api;options.gdpr.bing_disabled_by_api=res.data.bing_disabled_by_api;options.cookie.externalID_disabled_by_api=res.data.externalID_disabled_by_api;options.cookie.disabled_all_cookie=res.data.disabled_all_cookie;options.cookie.disabled_advanced_form_data_cookie=res.data.disabled_advanced_form_data_cookie;options.cookie.disabled_landing_page_cookie=res.data.disabled_landing_page_cookie;options.cookie.disabled_first_visit_cookie=res.data.disabled_first_visit_cookie;options.cookie.disabled_trafficsource_cookie=res.data.disabled_trafficsource_cookie;options.cookie.disabled_utmTerms_cookie=res.data.disabled_utmTerms_cookie;options.cookie.disabled_utmId_cookie=res.data.disabled_utmId_cookie}
loadPixels()}})}else{loadPixels()}},consentGiven:function(pixel){if(options.gdpr.consent_magic_integration_enabled&&typeof CS_Data!=="undefined"){var test_prefix=CS_Data.test_prefix;if((typeof CS_Data.cs_google_analytics_consent_mode!=="undefined"&&CS_Data.cs_google_analytics_consent_mode==1)&&pixel=='analytics'){return!0}
if((typeof CS_Data.cs_google_ads_consent_mode!=="undefined"&&CS_Data.cs_google_ads_consent_mode==1)&&pixel=='google_ads'){return!0}
if(CS_Data.cs_cache_enabled==1){var substring="cs_enabled_cookie_term";var theCookies=document.cookie.split(';');for(var i=1;i<=theCookies.length;i++){if(theCookies[i-1].indexOf(substring)!==-1){var categoryCookie=theCookies[i-1].replace('cs_enabled_cookie_term'+test_prefix+'_','');categoryCookie=Number(categoryCookie.replace(/\D+/g,""));var cs_cookie_val=Cookies.get('cs_enabled_cookie_term'+test_prefix+'_'+categoryCookie);if(categoryCookie===CS_Data.cs_script_cat.facebook&&pixel=='facebook'){if(cs_cookie_val=='yes'){return!0}else{return!1}}else if(categoryCookie===CS_Data.cs_script_cat.bing&&pixel=='bing'){if(cs_cookie_val=='yes'){return!0}else{return!1}}else if(categoryCookie===CS_Data.cs_script_cat.analytics&&pixel=='analytics'){if(cs_cookie_val=='yes'){return!0}else{return!1}}else if(categoryCookie===CS_Data.cs_script_cat.gads&&pixel=='google_ads'){if(cs_cookie_val=='yes'){return!0}else{return!1}}else if(categoryCookie===CS_Data.cs_script_cat.pinterest&&pixel=='pinterest'){if(cs_cookie_val=='yes'){return!0}else{return!1}}else if(categoryCookie===CS_Data.cs_script_cat.tiktok&&pixel=='tiktok'){if(cs_cookie_val=='yes'){return!0}else{return!1}}}}}else{var cs_cookie=Cookies.get('cs_viewed_cookie_policy'+test_prefix);if(typeof cs_cookie==='undefined'||cs_cookie==='yes'){return!0}}
return!1}
if(options.gdpr.real_cookie_banner_integration_enabled){var consentApi=window.consentApi;if(consentApi){switch(pixel){case "analytics":return consentApi.consentSync("http","_ga","*").cookieOptIn;case "facebook":return consentApi.consentSync("http","_fbp","*").cookieOptIn;case "pinterest":return consentApi.consentSync("http","_pinterest_sess",".pinterest.com").cookieOptIn;default:return!0}}}
if(options.gdpr.cookiebot_integration_enabled&&typeof Cookiebot!=='undefined'){var cookiebot_consent_category=options.gdpr['cookiebot_'+pixel+'_consent_category'];if(options.gdpr[pixel+'_prior_consent_enabled']){if(Cookiebot.consented===!1||Cookiebot.consent[cookiebot_consent_category]){return!0}}else{if(Cookiebot.consent[cookiebot_consent_category]){return!0}}
return!1}
if(options.gdpr.cookie_notice_integration_enabled&&typeof cnArgs!=='undefined'){var cn_cookie=Cookies.get(cnArgs.cookieName);if(options.gdpr[pixel+'_prior_consent_enabled']){if(typeof cn_cookie==='undefined'||cn_cookie==='true'){return!0}}else{if(cn_cookie==='true'){return!0}}
return!1}
if(options.gdpr.cookie_law_info_integration_enabled){var cli_cookie=Cookies.get('viewed_cookie_policy');if(options.gdpr[pixel+'_prior_consent_enabled']){if(typeof cli_cookie==='undefined'||cli_cookie==='yes'){return!0}}else{if(cli_cookie==='yes'){return!0}}
return!1}
return!0},setupGdprCallbacks:function(){if(options.gdpr.consent_magic_integration_enabled&&typeof CS_Data!=="undefined"){var test_prefix=CS_Data.test_prefix,cs_refresh_after_consent=!1,substring="cs_enabled_cookie_term";if(CS_Data.cs_refresh_after_consent==1){cs_refresh_after_consent=CS_Data.cs_refresh_after_consent}
if(!cs_refresh_after_consent){var theCookies=document.cookie.split(';');for(var i=1;i<=theCookies.length;i++){if(theCookies[i-1].indexOf(substring)!==-1){var categoryCookie=theCookies[i-1].replace('cs_enabled_cookie_term'+test_prefix+'_','');categoryCookie=Number(categoryCookie.replace(/\D+/g,""));var cs_cookie_val=Cookies.get('cs_enabled_cookie_term'+test_prefix+'_'+categoryCookie);if(cs_cookie_val=='yes'){if(categoryCookie===CS_Data.cs_script_cat.facebook){Facebook.loadPixel()}
if(categoryCookie===CS_Data.cs_script_cat.bing){Bing.loadPixel()}
if(categoryCookie===CS_Data.cs_script_cat.analytics||(typeof CS_Data.cs_google_analytics_consent_mode!=="undefined"&&CS_Data.cs_google_analytics_consent_mode==1)){Analytics.loadPixel()}
if(categoryCookie===CS_Data.cs_script_cat.pinterest){Pinterest.loadPixel()}}else{if(categoryCookie===CS_Data.cs_script_cat.facebook){Facebook.disable()}
if(categoryCookie===CS_Data.cs_script_cat.bing){Bing.disable()}
if(categoryCookie===CS_Data.cs_script_cat.analytics&&(typeof CS_Data.cs_google_analytics_consent_mode=="undefined"||CS_Data.cs_google_analytics_consent_mode==0)){Analytics.disable()}
if(categoryCookie===CS_Data.cs_script_cat.pinterest){Pinterest.disable()}}
if(Cookies.get('cs_enabled_advanced_matching')=='yes'){Facebook.loadPixel()}}}
$(document).on('click','.cs_action_btn',function(e){e.preventDefault();var elm=$(this),button_action=elm.attr('data-cs_action');if(button_action==='allow_all'){Facebook.loadPixel();Bing.loadPixel();Analytics.loadPixel();Pinterest.loadPixel()}else if(button_action==='disable_all'){Facebook.disable();Bing.disable();if(CS_Data.cs_google_analytics_consent_mode==0||typeof CS_Data.cs_google_analytics_consent_mode=="undefined"){Analytics.disable()}
Pinterest.disable()}})}}
if(options.gdpr.real_cookie_banner_integration_enabled){var consentApi=window.consentApi;if(consentApi){consentApi.consent("http","_ga","*").then(Analytics.loadPixel.bind(Analytics),Analytics.disable.bind(Analytics));consentApi.consent("http","_fbp","*").then(Facebook.loadPixel.bind(Facebook),Facebook.disable.bind(Facebook));consentApi.consent("http","_pinterest_sess",".pinterest.com").then(Pinterest.loadPixel.bind(Pinterest),Pinterest.disable.bind(Pinterest));consentApi.consent("http","_uetsid","*").then(Bing.loadPixel.bind(Bing),Bing.disable.bind(Bing))}}
if(options.gdpr.cookiebot_integration_enabled&&typeof Cookiebot!=='undefined'){window.addEventListener("CookiebotOnConsentReady",function(){if(Cookiebot.consent.marketing){Facebook.loadPixel();Bing.loadPixel();Pinterest.loadPixel()}
if(Cookiebot.consent.statistics){Analytics.loadPixel()}
if(!Cookiebot.consent.marketing){Facebook.disable();Pinterest.disable();Bing.disable()}
if(!Cookiebot.consent.statistics){Analytics.disable()}})}
if(options.gdpr.cookie_notice_integration_enabled){$(document).onFirst('click','.cn-set-cookie',function(){if($(this).data('cookie-set')==='accept'){Facebook.loadPixel();Analytics.loadPixel();Pinterest.loadPixel();Bing.loadPixel()}else{Facebook.disable();Analytics.disable();Pinterest.disable();Bing.disable()}});$(document).onFirst('click','.cn-revoke-cookie',function(){Facebook.disable();Analytics.disable();Pinterest.disable();Bing.disable()})}
if(options.gdpr.cookie_law_info_integration_enabled){$(document).onFirst('click','#cookie_action_close_header',function(){Facebook.loadPixel();Analytics.loadPixel();Pinterest.loadPixel();Bing.loadPixel()});$(document).onFirst('click','#cookie_action_close_header_reject',function(){Facebook.disable();Analytics.disable();Pinterest.disable();Bing.disable()})}},getLinkExtension:function(link){link=link.substring(0,(link.indexOf("#")===-1)?link.length:link.indexOf("#"));link=link.substring(0,(link.indexOf("?")===-1)?link.length:link.indexOf("?"));link=link.substring(link.lastIndexOf("/")+1,link.length);if(link.length>0&&link.indexOf('.')!==-1){link=link.substring(link.indexOf(".")+1);return link}else{return""}},getLinkFilename:function(link){link=link.substring(0,(link.indexOf("#")===-1)?link.length:link.indexOf("#"));link=link.substring(0,(link.indexOf("?")===-1)?link.length:link.indexOf("?"));link=link.substring(link.lastIndexOf("/")+1,link.length);if(link.length>0&&link.indexOf('.')!==-1){return link}else{return""}},isCheckoutPage:function(){return $('body').hasClass('woocommerce-checkout')||document.querySelector('.woocommerce-checkout')||$('body').hasClass('edd-checkout')},addCheckoutFields:function(){var utm="";var utms=getUTMs()
$.each(utmTerms,function(index,name){if(index>0){utm+="|"}
utm+=name+":"+utms[name]});var utmIdList="";var utmsIds=getUTMId()
$.each(utmId,function(index,name){if(index>0){utmIdList+="|"}
utmIdList+=name+":"+utmsIds[name]});var utmIdListLast="";var utmsIdsLast=getUTMId(!0)
$.each(utmId,function(index,name){if(index>0){utmIdListLast+="|"}
utmIdListLast+=name+":"+utmsIdsLast[name]});var utmLast="";var utmsLast=getUTMs(!0)
$.each(utmTerms,function(index,name){if(index>0){utmLast+="|"}
utmLast+=name+":"+utmsLast[name]});var dateTime=getDateTime();var landing=Cookies.get('pys_landing_page');var lastLanding=Cookies.get('last_pys_landing_page');var trafic=Cookies.get('pysTrafficSource');var lastTrafic=Cookies.get('last_pysTrafficSource');var $form=null;if($('body').hasClass('woocommerce-checkout')){$form=$("form.woocommerce-checkout")}else{$form=$("#edd_purchase_form")}
var inputs={'pys_utm':utm,'pys_utm_id':utmIdList,'pys_browser_time':dateTime.join("|"),'pys_landing':landing,'pys_source':trafic,'pys_order_type':$(".wcf-optin-form").length>0?"wcf-optin":"normal",'last_pys_landing':lastLanding,'last_pys_source':lastTrafic,'last_pys_utm':utmLast,'last_pys_utm_id':utmIdListLast,}
Object.keys(inputs).forEach(function(key,index){$form.append("<input type='hidden' name='"+key+"' value='"+inputs[key]+"' /> ")})},getAdvancedFormData:function(){let dataStr=Cookies.get("pys_advanced_form_data");if(dataStr===undefined){return{'first_name':"",'last_name':"",'email':"",'phone':""}}else{return JSON.parse(dataStr)}}}}(options);var Facebook=function(options){var defaultEventTypes=['PageView','ViewContent','Search','AddToCart','AddToWishlist','InitiateCheckout','AddPaymentInfo','Purchase','Lead','Subscribe','CustomizeProduct','FindLocation','StartTrial','SubmitApplication','Schedule','Contact','Donate'];var initialized=!1;var isApiDisabled=options.gdpr.all_disabled_by_api||options.gdpr.facebook_disabled_by_api||options.gdpr.cookiebot_integration_enabled||options.gdpr.consent_magic_integration_enabled||options.gdpr.cookie_notice_integration_enabled||options.gdpr.cookie_law_info_integration_enabled;function sendFbServerEvent(allData,name,params){let eventId=null;if(options.facebook.serverApiEnabled){if(allData.e_id==="woo_remove_from_cart"||allData.e_id==="woo_add_to_cart_on_button_click"){let isAddToCartFromJs=options.woo.hasOwnProperty("addToCartCatchMethod")&&options.woo.addToCartCatchMethod==="add_cart_js";if(isAddToCartFromJs||allData.e_id!=="woo_add_to_cart_on_button_click"){Facebook.updateEventId(allData.name);allData.eventID=Facebook.getEventId(allData.name)}else{}}else{if(options.ajaxForServerEvent||isApiDisabled||allData.delay>0||allData.type!=="static"){allData.eventID=pys_generate_token(36);var json={action:'pys_api_event',pixel:'facebook',event:name,data:params,ids:options.facebook.pixelIds,eventID:allData.eventID,url:window.location.href,ajax_event:options.ajax_event};if(allData.hasOwnProperty('woo_order')){json.woo_order=allData.woo_order}
if(allData.hasOwnProperty('edd_order')){json.edd_order=allData.edd_order}
if(name=='PageView'){let expires=parseInt(options.cookie_duration);var currentTimeInSeconds=Date.now();var randomNum=Math.floor(1000000000+Math.random()*9000000000);timeoutDelay=0;if(allData.delay>0){timeoutDelay=allData.delay}
if(!Cookies.get('_fbp')){timeoutDelay=100}
if(getUrlParameter('fbclid')&&!Cookies.get('_fbc')){timeoutDelay=100}
setTimeout(function(){if(!Cookies.get('_fbp')){Cookies.set('_fbp','fb.1.'+currentTimeInSeconds+'.'+randomNum,{expires:expires})}
if(getUrlParameter('fbclid')&&!Cookies.get('_fbc')){Cookies.set('_fbc','fb.1.'+currentTimeInSeconds+'.'+getUrlParameter('fbclid'),{expires:expires})}
jQuery.ajax({type:'POST',url:options.ajaxUrl,data:json,headers:{'Cache-Control':'no-cache'},success:function(){},})},timeoutDelay)}else{jQuery.ajax({type:'POST',url:options.ajaxUrl,data:json,headers:{'Cache-Control':'no-cache'},success:function(){},})}}}
eventId=allData.eventID}
return eventId}
function fireEvent(name,allData){if(typeof window.pys_event_data_filter==="function"&&window.pys_disable_event_filter(name,'facebook')){return}
var actionType=defaultEventTypes.includes(name)?'track':'trackCustom';var data=allData.params;var params={};var arg={};Utils.copyProperties(data,params);let eventId=sendFbServerEvent(allData,name,params)
if("hCR"===name){return}
if(options.debug){console.log('[Facebook] '+name,params,"eventID",eventId)}
if(eventId!=null){arg.eventID=eventId}
fbq(actionType,name,params,arg)}
return{tag:function(){return"facebook"},isEnabled:function(){return options.hasOwnProperty('facebook')},disable:function(){initialized=!1},advancedMatching:function(){if(options.facebook.advancedMatchingEnabled){let advancedMatchingForm=Utils.getAdvancedFormData();let advancedMatching={};if(Object.keys(options.facebook.advancedMatching).length>0){advancedMatching=options.facebook.advancedMatching}
if(!advancedMatching.hasOwnProperty("em")&&advancedMatchingForm.hasOwnProperty("email")&&advancedMatchingForm.email.length>0){advancedMatching.em=advancedMatchingForm.email}
if(!advancedMatching.hasOwnProperty("ph")&&advancedMatchingForm.hasOwnProperty("phone")&&advancedMatchingForm.phone.length>0){advancedMatching.ph=advancedMatchingForm.phone}
if(!advancedMatching.hasOwnProperty("fn")&&advancedMatchingForm.hasOwnProperty("first_name")&&advancedMatchingForm.first_name.length>0){advancedMatching.fn=advancedMatchingForm.first_name}
if(!advancedMatching.hasOwnProperty("ln")&&advancedMatchingForm.hasOwnProperty("last_name")&&advancedMatchingForm.last_name.length>0){advancedMatching.ln=advancedMatchingForm.last_name}
if(!advancedMatching.hasOwnProperty("external_id")){if(Cookies.get('pbid')||(options.hasOwnProperty('pbid')&&options.pbid)){advancedMatching.external_id=Cookies.get('pbid')?Cookies.get('pbid'):options.pbid}}else if(advancedMatching.external_id!=Cookies.get('pbid')){advancedMatching.external_id=Cookies.get('pbid')?Cookies.get('pbid'):advancedMatching.external_id}
if(Object.keys(advancedMatching).length>0){return advancedMatching}}
return!1},loadPixel:function(){if(initialized||!this.isEnabled()||!Utils.consentGiven('facebook')){return}
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';n.agent='dvpixelyoursite';n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');options.facebook.pixelIds.forEach(function(pixelId){if(options.facebook.removeMetadata){fbq('set','autoConfig',!1,pixelId)}
let advancedMatching=Facebook.advancedMatching();if(options.gdpr.consent_magic_integration_enabled&&typeof CS_Data!=="undefined"){if(!advancedMatching){fbq('init',pixelId)}else{var cs_advanced_matching=Cookies.get('cs_enabled_advanced_matching'+test_prefix);if(jQuery('#cs_enabled_advanced_matching'+test_prefix).length>0){if(cs_advanced_matching=='yes'){fbq('init',pixelId,advancedMatching)}else{fbq('init',pixelId)}}else{fbq('init',pixelId,advancedMatching)}}}else{if(!advancedMatching){fbq('init',pixelId)}else{fbq('init',pixelId,advancedMatching)}}});initialized=!0;Utils.fireStaticEvents('facebook')},fireEvent:function(name,data){if(!initialized||!this.isEnabled()){return!1}
data.delay=data.delay||0;data.params=data.params||{};if(data.delay===0){fireEvent(name,data)}else{setTimeout(function(name,params){fireEvent(name,params)},data.delay*1000,name,data)}
return!0},onCommentEvent:function(event){this.fireEvent(event.name,event)},onDownloadEvent:function(event){this.fireEvent(event.name,event)},onFormEvent:function(event){this.fireEvent(event.name,event)},onWooAddToCartOnButtonEvent:function(product_id){if(!options.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag()))
return;var event=options.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()];if(window.pysWooProductData.hasOwnProperty(product_id)){if(window.pysWooProductData[product_id].hasOwnProperty('facebook')){event=Utils.copyProperties(event,{})
Utils.copyProperties(window.pysWooProductData[product_id].facebook.params,event.params)
this.fireEvent(event.name,event)}}},onWooAddToCartOnSingleEvent:function(product_id,qty,product_type,$form){window.pysWooProductData=window.pysWooProductData||[];if(!options.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag()))
return;var event=Utils.clone(options.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);if(product_type===Utils.PRODUCT_VARIABLE&&!options.facebook.wooVariableAsSimple){product_id=parseInt($form.find('input[name="variation_id"]').val())}
if(window.pysWooProductData.hasOwnProperty(product_id)){if(window.pysWooProductData[product_id].hasOwnProperty('facebook')){Utils.copyProperties(window.pysWooProductData[product_id].facebook.params,event.params);var groupValue=0;if(product_type===Utils.PRODUCT_GROUPED){$form.find(".woocommerce-grouped-product-list .qty").each(function(index){var childId=$(this).attr('name').replaceAll("quantity[","").replaceAll("]","");var quantity=parseInt($(this).val());if(isNaN(quantity)){quantity=0}
var childItem=window.pysWooProductData[product_id].facebook.grouped[childId];if(quantity==0){event.params.content_ids.forEach(function(el,index,array){if(el==childItem.content_id){array.splice(index,1)}})}
if(event.params.hasOwnProperty('contents')){event.params.contents.forEach(function(el,index,array){if(el.id==childItem.content_id){if(quantity>0){el.quantity=quantity}else{array.splice(index,1)}}})}
groupValue+=childItem.price*quantity});if(groupValue==0)return}
if(options.woo.addToCartOnButtonValueEnabled&&options.woo.addToCartOnButtonValueOption!=='global'){if(product_type===Utils.PRODUCT_GROUPED){event.params.value=groupValue}else if(product_type===Utils.PRODUCT_BUNDLE){var data=$(".bundle_form .bundle_data").data("bundle_form_data");var items_sum=getBundlePriceOnSingleProduct(data);event.params.value=(parseInt(data.base_price)+items_sum)*qty}else{event.params.value=event.params.value*qty}}
if(event.params.hasOwnProperty('contents')&&product_type!==Utils.PRODUCT_GROUPED){event.params.contents[0].quantity=qty}
this.fireEvent(event.name,event)}}},onWooRemoveFromCartEvent:function(event){this.fireEvent(event.name,event)},onEddAddToCartOnButtonEvent:function(download_id,price_index,qty){if(!options.dynamicEvents.edd_add_to_cart_on_button_click.hasOwnProperty(this.tag()))
return;var event=Utils.clone(options.dynamicEvents.edd_add_to_cart_on_button_click[this.tag()]);if(window.pysEddProductData.hasOwnProperty(download_id)){var index;if(price_index){index=download_id+'_'+price_index}else{index=download_id}
if(window.pysEddProductData[download_id].hasOwnProperty(index)){if(window.pysEddProductData[download_id][index].hasOwnProperty('facebook')){Utils.copyProperties(window.pysEddProductData[download_id][index].facebook.params,event.params)
if(options.edd.addToCartOnButtonValueEnabled&&options.edd.addToCartOnButtonValueOption!=='global'){event.params.value=event.params.value*qty}
var contents=event.params.contents;contents[0].quantity=qty;event.params.contents=contents;this.fireEvent(event.name,event)}}}},onEddRemoveFromCartEvent:function(event){this.fireEvent(event.name,event)},onPageScroll:function(event){this.fireEvent(event.name,event)},onTime:function(event){this.fireEvent(event.name,event)},initEventIdCookies:function(key){var ids={};ids[key]=pys_generate_token(36)
Cookies.set('pys_fb_event_id',JSON.stringify(ids))},updateEventId:function(key){var cooData=Cookies.get("pys_fb_event_id")
if(cooData===undefined){this.initEventIdCookies(key)}else{var data=JSON.parse(cooData);data[key]=pys_generate_token(36);Cookies.set('pys_fb_event_id',JSON.stringify(data))}},getEventId:function(key){var data=Cookies.get("pys_fb_event_id");if(data===undefined){this.initEventIdCookies(key);data=Cookies.get("pys_fb_event_id")}
return JSON.parse(data)[key]},}}(options);var Analytics=function(options){var initialized=!1;function fireEvent(name,data){if(typeof window.pys_event_data_filter==="function"&&window.pys_disable_event_filter(name,'ga')){return}
var eventParams=Utils.copyProperties(data,{});var _fireEvent=function(tracking_id,name,params){params.send_to=tracking_id;if(options.debug){console.log('[Google Analytics #'+tracking_id+'] '+name,params)}
gtag('event',name,params)};options.ga.trackingIds.forEach(function(tracking_id){var copyParams=Utils.copyProperties(eventParams,{});var params=mapParamsTov4(tracking_id,name,copyParams)
_fireEvent(tracking_id,name,params)})}
function mapParamsTov4(tag,name,param){delete param.page_title;delete param.event_url;delete param.landing_page;if(isv4(tag)){delete param.traffic_source;delete param.event_category;delete param.event_label;delete param.ecomm_prodid;delete param.ecomm_pagetype;delete param.ecomm_totalvalue;delete param.non_interaction;if(name==='search'){param.search=param.search_term;delete param.search_term;delete param.non_interaction;delete param.dynx_itemid;delete param.dynx_pagetype;delete param.dynx_totalvalue}}else{switch(name){case 'Comment':case 'login':case 'sign_up':case 'EmailClick':case 'TelClick':{let params={event_category:"Key Actions",event_action:name,non_interaction:param.non_interaction,}
return params}
case 'Form':{let params={event_category:"Key Actions",event_action:name,non_interaction:param.non_interaction,}
var formClass=(typeof param.form_class!='undefined')?'class: '+param.form_class:'';if(formClass!=""){params.event_label=formClass}
return params}
case 'Download':{let params={event_category:"Key Actions",event_action:name,event_label:param.download_name,non_interaction:param.non_interaction,}
return params}
case 'TimeOnPage':case 'PageScroll':{let params={event_category:"Key Actions",event_action:name,event_label:document.title,non_interaction:param.non_interaction,}
return params}
case 'search':{let params={event_category:"Key Actions",event_action:name,event_label:param.search_term,non_interaction:param.non_interaction,}
return params}}
delete param.post_type;delete param.post_id;delete param.plugin;delete param.user_role;delete param.cartlows;delete param.cartflows_flow;delete param.cartflows_step}
return param}
function isv4(tag){return tag.indexOf('G')===0}
return{tag:function(){return"ga"},isEnabled:function(){return options.hasOwnProperty('ga')},disable:function(){initialized=!1},loadPixel:function(){if(initialized||!this.isEnabled()||!Utils.consentGiven('analytics')){return}
Utils.loadGoogleTag(options.ga.trackingIds[0]);var config={'link_attribution':options.ga.enhanceLinkAttr,'anonymize_ip':options.ga.anonimizeIP};if(options.ga.crossDomainEnabled){config.linker={accept_incoming:options.ga.crossDomainAcceptIncoming,domains:options.ga.crossDomainDomains}}
options.ga.trackingIds.forEach(function(trackingId,index){var obj=options.ga.isDebugEnabled;var searchValue="index_"+index;config.debug_mode=!1;for(var key in obj){if(obj.hasOwnProperty(key)&&obj[key]===searchValue){config.debug_mode=!0;break}}
if(!config.debug_mode){delete config.debug_mode}
if(isv4(trackingId)){if(options.ga.disableAdvertisingFeatures){config.allow_google_signals=!1}
if(options.ga.disableAdvertisingPersonalization){config.allow_ad_personalization_signals=!1}}
if(options.gdpr.cookiebot_integration_enabled&&typeof Cookiebot!=='undefined'){var cookiebot_consent_category=options.gdpr.cookiebot_analytics_consent_category;if(options.gdpr.analytics_prior_consent_enabled){if(Cookiebot.consented===!0&&Cookiebot.consent[cookiebot_consent_category]){gtag('config',trackingId,config)}}else{if(Cookiebot.consent[cookiebot_consent_category]){gtag('config',trackingId,config)}}}else{gtag('config',trackingId,config)}});initialized=!0;Utils.fireStaticEvents('ga')},fireEvent:function(name,data){if(!initialized||!this.isEnabled()){return!1}
data.delay=data.delay||0;data.params=data.params||{};if(data.delay===0){fireEvent(name,data.params)}else{setTimeout(function(name,params){fireEvent(name,params)},data.delay*1000,name,data.params)}
return!0},onCommentEvent:function(event){this.fireEvent(event.name,event)},onDownloadEvent:function(event){this.fireEvent(event.name,event)},onFormEvent:function(event){this.fireEvent(event.name,event)},onWooAddToCartOnButtonEvent:function(product_id){if(!options.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag()))
return;var event=Utils.clone(options.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);if(window.pysWooProductData.hasOwnProperty(product_id)){if(window.pysWooProductData[product_id].hasOwnProperty('ga')){Utils.copyProperties(window.pysWooProductData[product_id].ga.params,event.params)
this.fireEvent(event.name,event)}}},onWooAddToCartOnSingleEvent:function(product_id,qty,product_type,$form){window.pysWooProductData=window.pysWooProductData||[];if(!options.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag()))
return;var event=Utils.clone(options.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);if(product_type===Utils.PRODUCT_VARIABLE&&!options.ga.wooVariableAsSimple){product_id=parseInt($form.find('input[name="variation_id"]').val())}
if(window.pysWooProductData.hasOwnProperty(product_id)){if(window.pysWooProductData[product_id].hasOwnProperty('ga')){Utils.copyProperties(window.pysWooProductData[product_id].ga.params,event.params);if(product_type===Utils.PRODUCT_GROUPED){var groupValue=0;$form.find(".woocommerce-grouped-product-list .qty").each(function(index){var childId=$(this).attr('name').replaceAll("quantity[","").replaceAll("]","");var quantity=parseInt($(this).val());if(isNaN(quantity)){quantity=0}
var childItem=window.pysWooProductData[product_id].ga.grouped[childId];event.params.items.forEach(function(el,index,array){if(el.id==childItem.content_id){if(quantity>0){el.quantity=quantity}else{array.splice(index,1)}}});groupValue+=childItem.price*quantity});if(options.woo.addToCartOnButtonValueEnabled&&options.woo.addToCartOnButtonValueOption!=='global'&&event.params.hasOwnProperty('ecomm_totalvalue')){event.params.ecomm_totalvalue=groupValue}
if(groupValue==0)return}else{event.params.items[0].quantity=qty}
if(options.woo.addToCartOnButtonValueEnabled&&options.woo.addToCartOnButtonValueOption!=='global'&&product_type!==Utils.PRODUCT_GROUPED){if(event.params.hasOwnProperty('ecomm_totalvalue')){event.params.ecomm_totalvalue=event.params.items[0].price*qty}}
this.fireEvent(event.name,event)}}},onWooRemoveFromCartEvent:function(event){this.fireEvent(event.name,event)},onEddAddToCartOnButtonEvent:function(download_id,price_index,qty){if(!options.dynamicEvents.edd_add_to_cart_on_button_click.hasOwnProperty(this.tag()))
return;var event=Utils.clone(options.dynamicEvents.edd_add_to_cart_on_button_click[this.tag()]);if(window.pysEddProductData.hasOwnProperty(download_id)){var index;if(price_index){index=download_id+'_'+price_index}else{index=download_id}
if(window.pysEddProductData[download_id].hasOwnProperty(index)){if(window.pysEddProductData[download_id][index].hasOwnProperty('ga')){Utils.copyProperties(window.pysEddProductData[download_id][index].ga.params,event.params);event.params.items[0].quantity=qty;this.fireEvent(event.name,event)}}}},onEddRemoveFromCartEvent:function(event){this.fireEvent(event.name,event)},onPageScroll:function(event){this.fireEvent(event.name,event)},onTime:function(event){this.fireEvent(event.name,event)},}}(options);window.pys=window.pys||{};window.pys.Facebook=Facebook;window.pys.Analytics=Analytics;window.pys.Utils=Utils;$(document).ready(function(){if($("#pys_late_event").length>0){var events=JSON.parse($("#pys_late_event").attr("dir"));for(var key in events){var event={};event[events[key].e_id]=[events[key]];if(options.staticEvents.hasOwnProperty(key)){Object.assign(options.staticEvents[key],event)}else{options.staticEvents[key]=event}}}
var Pinterest=Utils.setupPinterestObject();var Bing=Utils.setupBingObject();if(options.hasOwnProperty('cookie')){if(options.cookie.externalID_disabled_by_api||options.cookie.disabled_all_cookie){Cookies.remove('pbid')}
if(options.cookie.disabled_advanced_form_data_cookie||options.cookie.disabled_all_cookie){Cookies.remove('pys_advanced_form_data')}
if(options.cookie.disabled_landing_page_cookie||options.cookie.disabled_all_cookie){Cookies.remove('pys_landing_page')
Cookies.remove('last_pys_landing_page')}
if(options.cookie.disabled_trafficsource_cookie||options.cookie.disabled_all_cookie){Cookies.remove('pysTrafficSource')
Cookies.remove('last_pysTrafficSource')}
if(options.cookie.disabled_first_visit_cookie||options.cookie.disabled_all_cookie){Cookies.remove('pys_first_visit')}
if(options.cookie.disabled_utmTerms_cookie||options.cookie.disabled_all_cookie){$.each(Utils.utmTerms,function(index,name){Cookies.remove('pys_'+name)});$.each(Utils.utmTerms,function(index,name){Cookies.remove('last_pys_'+name)})}
if(options.cookie.disabled_utmId_cookie||options.cookie.disabled_all_cookie){$.each(Utils.utmId,function(index,name){Cookies.remove('pys_'+name)})
$.each(Utils.utmId,function(index,name){Cookies.remove('last_pys_'+name)})}}
Utils.manageCookies();Utils.setupGdprCallbacks();if(options.dynamicEvents.hasOwnProperty("automatic_event_scroll")){var singlePageScroll=function(){var docHeight=$(document).height()-$(window).height();var isFired=!1;if(options.dynamicEvents.hasOwnProperty("automatic_event_scroll")){var pixels=Object.keys(options.dynamicEvents.automatic_event_scroll);for(var i=0;i<pixels.length;i++){var event=Utils.clone(options.dynamicEvents.automatic_event_scroll[pixels[i]]);var scroll=Math.round(docHeight*event.scroll_percent/100)
if(scroll<$(window).scrollTop()){Utils.copyProperties(Utils.getRequestParams(),event.params);getPixelBySlag(pixels[i]).onPageScroll(event);isFired=!0}}}
if(isFired){$(document).off("scroll",singlePageScroll)}}
$(document).on("scroll",singlePageScroll)}
if(options.dynamicEvents.hasOwnProperty("automatic_event_time_on_page")){var pixels=Object.keys(options.dynamicEvents.automatic_event_time_on_page);var time=options.dynamicEvents.automatic_event_time_on_page[pixels[0]].time_on_page;setTimeout(function(){for(var i=0;i<pixels.length;i++){var event=Utils.clone(options.dynamicEvents.automatic_event_time_on_page[pixels[i]]);Utils.copyProperties(Utils.getRequestParams(),event.params);getPixelBySlag(pixels[i]).onTime(event)}},time*1000)}
if(options.dynamicEvents.hasOwnProperty("automatic_event_download")){$(document).onFirst('click','a, button, input[type="button"], input[type="submit"]',function(e){var $elem=$(this);if(options.dynamicEvents.hasOwnProperty("automatic_event_download")){var isFired=!1;if($elem.is('a')){var href=$elem.attr('href');if(typeof href!=="string"){return}
href=href.trim();var extension=Utils.getLinkExtension(href);var track_download=!1;if(extension.length>0){if(options.dynamicEvents.hasOwnProperty("automatic_event_download")){var pixels=Object.keys(options.dynamicEvents.automatic_event_download);for(var i=0;i<pixels.length;i++){var event=Utils.clone(options.dynamicEvents.automatic_event_download[pixels[i]]);var extensions=event.extensions;if(extensions.includes(extension)){if(pixels[i]=="tiktok"){getPixelBySlag(pixels[i]).fireEvent(tikEvent.name,event)}else{if(options.enable_remove_download_url_param){href=href.split('?')[0]}
event.params.download_url=href;event.params.download_type=extension;event.params.download_name=Utils.getLinkFilename(href);getPixelBySlag(pixels[i]).onDownloadEvent(event)}
isFired=!0}}}}}
if(isFired){return}}})}
$.each(options.triggerEventTypes,function(triggerType,events){$.each(events,function(eventId,triggers){switch(triggerType){case 'url_click':break;case 'css_click':Utils.setupCSSClickEvents(eventId,triggers);break;case 'css_mouseover':Utils.setupMouseOverClickEvents(eventId,triggers);break;case 'scroll_pos':Utils.setupScrollPosEvents(eventId,triggers);break;case 'comment':Utils.setupCommentEvents(eventId,triggers);break}})});if(options.woo.enabled){if(options.dynamicEvents.hasOwnProperty("woo_add_to_cart_on_button_click")&&options.woo.hasOwnProperty("addToCartCatchMethod")&&options.woo.addToCartCatchMethod==="add_cart_js"){$('.add_to_cart_button:not(.product_type_variable,.product_type_bundle,.single_add_to_cart_button)').on("click",function(e){var product_id=$(this).data('product_id');if(typeof product_id!=='undefined'){Facebook.onWooAddToCartOnButtonEvent(product_id);Analytics.onWooAddToCartOnButtonEvent(product_id);Pinterest.onWooAddToCartOnButtonEvent(product_id);Bing.onWooAddToCartOnButtonEvent(product_id)}});$('body').onFirst('click','button.single_add_to_cart_button,.single_add_to_cart_button',function(e){var $button=$(this);if($button.hasClass('disabled')){return}
var $form=$button.closest('form');var product_type=Utils.PRODUCT_SIMPLE;if($form.length===0){return}else if($form.hasClass('variations_form')){product_type=Utils.PRODUCT_VARIABLE}else if($form.hasClass('bundle_form')){product_type=Utils.PRODUCT_BUNDLE}else if($form.hasClass('grouped_form')){product_type=Utils.PRODUCT_GROUPED}
var product_id;var qty;if(product_type===Utils.PRODUCT_GROUPED){qty=1;product_id=parseInt($form.find('*[name="add-to-cart"]').val())}else if(product_type===Utils.PRODUCT_VARIABLE){product_id=parseInt($form.find('*[name="add-to-cart"]').val());var qtyTag=$form.find('input[name="quantity"]');if(qtyTag.length<=0){qtyTag=$form.find('select[name="quantity"]')}
qty=parseInt(qtyTag.val())}else{product_id=parseInt($form.find('*[name="add-to-cart"]').val());var qtyTag=$form.find('input[name="quantity"]');if(qtyTag.length<=0){qtyTag=$form.find('select[name="quantity"]')}
qty=parseInt(qtyTag.val())}
Facebook.onWooAddToCartOnSingleEvent(product_id,qty,product_type,$form);Analytics.onWooAddToCartOnSingleEvent(product_id,qty,product_type,$form);Pinterest.onWooAddToCartOnSingleEvent(product_id,qty,product_type,!1,$form);Bing.onWooAddToCartOnSingleEvent(product_id,qty,product_type,!1,$form)})}
if(options.dynamicEvents.hasOwnProperty("woo_remove_from_cart")){$('body').on('click',options.woo.removeFromCartSelector,function(e){var $a=$(e.currentTarget),href=$a.attr('href');var regex=new RegExp("[\\?&]remove_item=([^&#]*)"),results=regex.exec(href);if(results!==null){var item_hash=results[1];if(options.dynamicEvents.woo_remove_from_cart.hasOwnProperty(item_hash)){var events=options.dynamicEvents.woo_remove_from_cart[item_hash];Utils.fireEventForAllPixel("onWooRemoveFromCartEvent",events)}}})}}
if(options.edd.enabled){if(options.dynamicEvents.hasOwnProperty("edd_add_to_cart_on_button_click")){$('form.edd_download_purchase_form .edd-add-to-cart').on("click",function(e){var $button=$(this);var $form=$button.closest('form');var variable_price=$button.data('variablePrice');var price_mode=$button.data('priceMode');var ids=[];var quantities=[];var qty;var id;if(variable_price==='yes'&&price_mode==='multi'){id=$form.find('input[name="download_id"]').val();$.each($form.find('input[name="edd_options[price_id][]"]:checked'),function(i,el){ids.push(id+'_'+$(el).val())});$.each(ids,function(i,variant_id){var variant_index=variant_id.split('_',2);qty=$form.find('input[name="edd_download_quantity_'+variant_index[1]+'"]').val();if(typeof qty!=='undefined'){quantities.push(qty)}else{quantities.push(1)}})}else if(variable_price==='yes'&&price_mode==='single'){id=$form.find('input[name="download_id"]').val();ids.push(id+'_'+$form.find('input[name="edd_options[price_id][]"]:checked').val());qty=$form.find('input[name="edd_download_quantity"]').val();if(typeof qty!=='undefined'){quantities.push(qty)}else{quantities.push(1)}}else{ids.push($button.data('downloadId'));qty=$form.find('input[name="edd_download_quantity"]').val();if(typeof qty!=='undefined'){quantities.push(qty)}else{quantities.push(1)}}
$.each(ids,function(i,download_id){var q=parseInt(quantities[i]);var variant_index=download_id.toString().split('_',2);var price_index;if(variant_index.length===2){download_id=variant_index[0];price_index=variant_index[1]}
Facebook.onEddAddToCartOnButtonEvent(download_id,price_index,q);Analytics.onEddAddToCartOnButtonEvent(download_id,price_index,q);Pinterest.onEddAddToCartOnButtonEvent(download_id,price_index,q);Bing.onEddAddToCartOnButtonEvent(download_id,price_index,q)})})}
if(options.dynamicEvents.hasOwnProperty("edd_remove_from_cart")){$('form#edd_checkout_cart_form .edd_cart_remove_item_btn').on("click",function(e){var href=$(this).attr('href');if(href){var key=href.substring(href.indexOf('=')+1).charAt(0);if(options.dynamicEvents.edd_remove_from_cart.hasOwnProperty(key)){var events=options.dynamicEvents.edd_remove_from_cart[key];Utils.fireEventForAllPixel("onEddRemoveFromCartEvent",events)}}})}}
if(options.dynamicEvents.hasOwnProperty("automatic_event_comment")){$('form.comment-form').on("submit",function(){if(options.dynamicEvents.hasOwnProperty("automatic_event_comment")){var pixels=Object.keys(options.dynamicEvents.automatic_event_comment);for(var i=0;i<pixels.length;i++){var event=Utils.clone(options.dynamicEvents.automatic_event_comment[pixels[i]]);Utils.copyProperties(Utils.getRequestParams(),event.params);getPixelBySlag(pixels[i]).onCommentEvent(event)}}})}
if(options.dynamicEvents.hasOwnProperty("automatic_event_form")){$(document).onFirst('submit','form',function(e){var $form=$(this);if($form.hasClass('comment-form')||$form.hasClass('search-form')||$form.attr('id')==='adminbarsearch'){return}
if($form.hasClass('woocommerce-product-search')||$form.hasClass('cart')||$form.hasClass('woocommerce-cart-form')||$form.hasClass('woocommerce-shipping-calculator')||$form.hasClass('checkout')||$form.hasClass('checkout_coupon')){return}
if($form.hasClass('edd_form')||$form.hasClass('edd_download_purchase_form')){return}
if($form.hasClass('wpcf7-form')){return}
if($form.hasClass('forminator-custom-form')||$form.hasClass('forminator_ajax')){return}
if($form.hasClass('wpforms-form')||$form.hasClass('wpforms-ajax-form')){return}
if($form.parent().hasClass('nf-form-layout')){return}
if($form.hasClass('frm-fluent-form')){return}
if(!options.enable_success_send_form){var params={form_id:$form.attr('id'),form_class:$form.attr('class'),text:$form.find('[type="submit"]').is('input')?$form.find('[type="submit"]').val():$form.find('[type="submit"]').text()};if(options.dynamicEvents.hasOwnProperty("automatic_event_form")){var pixels=Object.keys(options.dynamicEvents.automatic_event_form);for(var i=0;i<pixels.length;i++){var event=Utils.clone(options.dynamicEvents.automatic_event_form[pixels[i]]);if(pixels[i]==="tiktok"){getPixelBySlag(pixels[i]).fireEvent(event.name,event)}else{Utils.copyProperties(params,event.params,)
Utils.copyProperties(Utils.getRequestParams(),event.params);getPixelBySlag(pixels[i]).onFormEvent(event)}}}}});document.addEventListener('wpcf7mailsent',function(event){var form_id=event.detail.contactFormId;sendFormAction($(event.target),form_id)},!1);$(document).on('forminator:form:submit:success',function(event){var form_id=$(event.target).find('input[name="form_id"]').val();sendFormAction($(event.target),form_id)});$('form.wpforms-form').on('wpformsAjaxSubmitSuccess',(event)=>{var form_id=$(event.target).attr('data-formid');sendFormAction($(event.target),form_id)})
$(document).on('frmFormComplete',function(event,form,response){const form_id=$(form).find('input[name="form_id"]').val();sendFormAction($(event.target),form_id)});$(document).onFirst('nfFormSubmitResponse',function(event,data){const form_id=data.response.data.form_id;sendFormAction($(event.target),form_id)});var fluentForms=$('form.frm-fluent-form');fluentForms.each(function(){var $form=$(this);$form.on('fluentform_submission_success',function(event){var $formItem=$(this);var form_id=$formItem.attr('data-form_id');sendFormAction($(event.target),form_id)})})}
Utils.loadPixels();if(Utils.isCheckoutPage()){Utils.addCheckoutFields()}});var sendFormAction=function(form_target,formId){var params={form_id:formId,text:form_target.find('[type="submit"]').is('input')?form_target.find('[type="submit"]').val():form_target.find('.forminator-button-submit').text()!=''?form_target.find('.forminator-button-submit').text():form_target.find('[type="submit"]').text()};if(options.dynamicEvents.hasOwnProperty("automatic_event_form")){var pixels=Object.keys(options.dynamicEvents.automatic_event_form);for(var i=0;i<pixels.length;i++){var event=options.dynamicEvents.automatic_event_form[pixels[i]];if(pixels[i]==="tiktok"){getPixelBySlag(pixels[i]).fireEvent(event.name,event)}else{Utils.copyProperties(params,event.params)
Utils.copyProperties(Utils.getRequestParams(),event.params);getPixelBySlag(pixels[i]).onFormEvent(event)}}}}}(jQuery,pysOptions);if(pysOptions.ajaxForServerEvent&&!Cookies.get('pbid')){jQuery.ajax({url:pysOptions.ajaxUrl,dataType:'json',data:{action:'pys_get_pbid'},success:function(res){if(res.data&&res.data.pbid!=!1&&pysOptions.send_external_id){var expires=parseInt(pysOptions.external_id_expire||180);Cookies.set('pbid',res.data.pbid,{expires:expires,path:'/'});if(pysOptions.hasOwnProperty('facebook')){pysOptions.facebook.advancedMatching.external_id=res.data.pbid}}}})}
function pys_generate_token(length){var a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890".split("");var b=[];for(var i=0;i<length;i++){var j=(Math.random()*(a.length-1)).toFixed(0);b[i]=a[j]}
return b.join("")}
function getBundlePriceOnSingleProduct(data){var items_sum=0;jQuery(".bundle_form .bundled_product").each(function(index){var id=jQuery(this).find(".cart").data("bundled_item_id");var item_price=data.prices[id];var item_quantity=jQuery(this).find(".bundled_qty").val();if(!jQuery(this).hasClass("bundled_item_optional")||jQuery(this).find(".bundled_product_optional_checkbox input").prop('checked')){items_sum+=item_price*item_quantity}});return items_sum}
function getPixelBySlag(slug){switch(slug){case "facebook":return window.pys.Facebook;case "ga":return window.pys.Analytics;case "bing":return window.pys.Bing;case "pinterest":return window.pys.Pinterest}}
var getUrlParameter=function getUrlParameter(sParam){var sPageURL=window.location.search.substring(1),sURLVariables=sPageURL.split('&'),sParameterName,i;for(i=0;i<sURLVariables.length;i++){sParameterName=sURLVariables[i].split('=');if(sParameterName[0]===sParam){return sParameterName[1]===undefined?!0:decodeURIComponent(sParameterName[1])}}
return!1}
;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      0,o[r])(n)}pt("got successful tcfapi response, called ".concat(St.length," callbacks")),St.length=0}},It=function(){return"function"==typeof window.__tcfapi},Ot=function(){It()&&!wt&&(wt=!0,window.__tcfapi("addEventListener",2,_t))};Ot();var jt=function(t){Ot();for(var e=void 0,n=void 0,r=0,o=yt;r<o.length;r++){var i=o[r],a=ft(i);if(a){n=i,e=a;break}}var c=null;return e?c=e:mt?c=mt:"function"==typeof t&&(It()?St.push(t):t()),c?bt(c,n):null};var kt=Math.ceil(10),Ct=function(){var t=ft("szncmpone");if(t){if("1"===t)return{result:1,reason:L};if("0"===t)return{result:2,reason:L}}else if(window.rc&&!window.rc.internal){if(1===window.rc.consent)return{result:1,reason:N};if(0===window.rc.consent)return{result:2,reason:N}}else{var e=jt();if(e)return{result:e.purposeOne?1:2,reason:R}}return{result:3}},At=function(t){var e,n,r=4*Math.ceil(t.length/4),o=t.padEnd(r,"=");try{var i=atob(o.replace(/_/g,"/").replace(/-/g,"+")),a=(e=i.substring(1),n=i.charCodeAt(0),e.split("").map((function(t){return String.fromCharCode(n^t.charCodeAt())})).join(""));return qt(a)?a:(ut("warn",'"decodeClid" - SID '.concat(t," did not pass validation, returning null")),null)}catch(e){return ut("error",'"decodeClid" - SID '.concat(t," threw error during validation. ").concat(e)),null}},Et=function(t){return window.history.replaceState(null,document.title,function(t,e){var n=new RegExp("[?#&](".concat(e,"=[^&#]*&?)")).exec(t);if(!n||n.length<2)return t;var r=n[1];return t.replace(r,"").replace(/&$/,"").replace(/\?#/,"#").replace(/[?#]$/,"")}(window.location.href,t))},xt=function(t,e){var n=t.includes("?")?t.split("?")[1]:"",r=!n&&t.includes("#")?t.split("#")[1]:"",o=n||r;if(!o.includes(e))return null;Et(e);var i=new RegExp("(?:^|[&#])".concat(e,"=([^&#]+)")).exec(o);return i&&i.length>0?i[1]:null};function Tt(t){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(t)}function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach((function(e){zt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zt(t,e,n){return e=function(t){var e=function(t,e){if("object"!=Tt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Tt(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lt=null,Nt={service:"idt",load:!1,mousedown:!1,impress:!1},Rt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r={action:t};if(null!==n&&(r.hasConsent=n.toString()),e&&(r=Pt(Pt({},r),e)),Lt||window.DOT&&window.DOT.getNewInstance&&((Lt=window.DOT.getNewInstance()).cfg(Nt),ut("DOT instance configured")),Lt)return Lt.hit("event",r),void ut("Hit was sent via dot instance - ",t);if(window.XMLHttpRequest){var o=function(){if(window.sznIVA&&window.sznIVA.IS){var t=window.sznIVA.IS.getIdentities({cacheEnough:!0,justSettled:!1},null,!1);return window.sznIVA.IS.prepareIdsForBe(t)}return{}}(),i={action:"event",service:"idt",data:r,ptitle:document.title,url:document.location.href,ids:o,version:"1.0"},a=O||"undefined",c=new XMLHttpRequest,u="";try{u=JSON.stringify(i)}catch(t){return}c.open("POST","https://h.seznam.cz/hit",!0),c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("X-Client-Id","linkdecoration"),c.setRequestHeader("X-Client-Version",a),c.withCredentials=!0,c.send(u),ut("Hit was manually sent - ",t)}};function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}function Ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(n),!0).forEach((function(e){Mt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mt(t,e,n){return e=function(t){var e=function(t,e){if("object"!=Ut(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ut(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bt=function(){var t=new Date;return t.setMonth(t.getMonth()+13),t.setDate(t.getDate()-1),t.toUTCString()},Ht=function(){var t=new Date;return t.setMonth(t.getMonth()+1),t.toUTCString()},Gt=function(){var t=new Date;return t.setMonth(t.getMonth()+1),t.toUTCString()},Wt={domain:"."+location.hostname.split(".").slice(-2).join("."),secure:"https:"===location.protocol,path:"/"},$t=function(t){ut("did not find SID cookie, creating new"),lt(A,t,Vt(Vt({},Wt),{},{expires:Ht()})),window.sznIVA&&window.sznIVA.IS&&window.sznIVA.IS.updateIdentities({sid:t}),window.dispatchEvent(new CustomEvent(P,{detail:t}))},qt=function(t){return/^id=[0-9]+\|t=[0-9]+.[0-9]+\|te=[0-9]+.[0-9]+(\|opt-out=True)?\|c=[0-9A-Z]+$/.test(t)},Jt=function(t,e){var n="",r=ft(E);return r?r===t?(ut("found SZNAIID cookie with same SZNAIID value, refreshing expiration date of cookie"),Rt(T.SAME),n=T.SAME):(ut("found SZNAIID cookie with different SZNAIID value, overwriting cookie"),Rt(T.DIFFERENT),n=T.DIFFERENT):(ut("did not find SZNAIID cookie, creating new"),Rt(T.NOT_STORED),n=T.NOT_STORED),lt(E,t,Vt(Vt({},Wt),{},{expires:Gt()})),Rt(e,{sznaiid:t},!0),window.dispatchEvent(new CustomEvent(z,{detail:t})),n};function Zt(t){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zt(t)}var Xt=function(t){return lt(ht,t,Vt(Vt({},Wt),{},{expires:Bt()}))},Yt=function(t){return!(!t||"object"!==Zt(t))&&!(!t.startDate||!t.showDialog)},Kt=function(){return ut({message:"finishing",state:"done"})},Qt=(n(2017),n(7464),ct({name:"rc",bColor:"gold",fColor:"black"}));ct({name:"retargeting",bColor:"yellow",fColor:"grey"});function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(n),!0).forEach((function(e){re(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function re(t,e,n){return e=function(t){var e=function(t,e){if("object"!=te(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==te(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oe,ie,ae,ce,ue,se,le,fe,de=function(t){return 1===t||0===t},ve=function(t){return de(t)?t:-1},pe=function(){return window.rc&&window.rc.consent},he=function(t){window.rc&&!window.rc.internal&&(window.rc.consent=t)},ye=function(t){var e=("; "+document.cookie).split("; "+t+"=",2);return 2===e.length?e.pop().split(";").shift():""},ge=function(t,e,n){var r=function(t){var e=window.location.href;if(!t)return e;var n=~e.indexOf("?")?"?":"#",r=~t.indexOf("?")?"?":"#";return e.split(n)[0]===t.split(r)[0]?t:e}(t);if(!n||!e)return r;var o=-1===r.indexOf("?")?"?":"&";return r+o+"category="+e},be="start",me="done",we="sid",Se="sznaiid",_e="euconsent-v2";!function(t){t.cache="cache",t.fresh="fresh"}(oe||(oe={})),function(t){t.string="string",t.integer="integer",t.boolean="boolean",t.object="object",t.array="array",t.number="number",t.hashString="hashString",t.addressObject="addressObject",t.phone="phone"}(ie||(ie={})),function(t){t.sid="sid",t.login="login",t.consent="consent",t.udid="udid",t.secid="secid",t.eid="eid",t.id5="id5",t.tid="tid",t.aid="aid"}(ae||(ae={})),function(t){t.rusId="rusId",t.premium="premium",t.said="said",t.state="state",t.pid="pid",t.login="login"}(ce||(ce={})),function(t){t.sid="string",t.login="object",t.consent="object",t.udid="string",t.pid="string",t.secid="string",t.eid="hashString",t.rusId="integer",t.premium="boolean",t.said="string",t.state="string",t.id5="string",t.tid="phone",t.aid="addressObject"}(ue||(ue={})),function(t){t.state="a1",t.city="a2",t.street="a3",t.houseNumber="a4",t.postalCode="a5"}(se||(se={})),function(t){t.areaCode="t1",t.number="t2"}(le||(le={})),function(t){t.badge="badge"}(fe||(fe={}));var Ie="szn:idnts:cch",Oe="szn:idnts:sec",je="szn:identities",ke="szn:identities:fromtop",Ce="szn:identities:totop",Ae=5e3,Ee=1e3,xe={rich:!1,justSettled:!0,cacheEnough:!1},Te="https://secid.iva.seznam.cz/",De=ct({name:"IdentityStorage",fColor:"white",bColor:"#ccc"}),Pe=null,ze=function(t){Pe||window.DOT&&(Pe=window.DOT.getNewInstance()).cfg({service:"idt",mousedown:!1,load:!1,impress:!1}),null==Pe||Pe.hit("event",t)},Le=function(){var t="localStorageTest";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}}(),Ne=function(t){try{return Le?window.localStorage.getItem(t):null}catch(t){return De({type:"error",message:"LocalStorage getItem error"}),null}},Re=function(t,e){if(Le)try{window.localStorage.setItem(t,e)}catch(t){De({type:"error",message:"LocalStorage setItem error"})}},Ue=function(t){try{return window.btoa(function(t){for(var e=new Uint16Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);for(var r=new Uint8Array(e.buffer),o="",i=0;i<r.byteLength;i++)o+=String.fromCharCode(r[i]);return o}(t))}catch(e){return t}},Fe=function(t){try{return function(t){for(var e=new Uint8Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);for(var r=new Uint16Array(e.buffer),o="",i=0;i<r.length;i++)o+=String.fromCharCode(r[i]);return o}(window.atob(t))}catch(e){return t}},Ve=function(){var t;return null===(t=window.sznIVA)||void 0===t?void 0:t.IS},Me=function(){var t;return null===(t=window.sznIVA)||void 0===t?void 0:t.ISConfig},Be=n(5332),He=n.n(Be);function Ge(t){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ge(t)}var We=function(t){return!(!t||"object"!==Ge(t)||Array.isArray(t))},$e=function(t){return"string"==typeof t&&/^[a-f0-9]{64}$/gi.test(t)},qe=function(){return navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&!navigator.userAgent.includes("Chromium/")},Je=function(){return navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/")},Ze=function(){return We(Me())?Me():null},Xe=function(t){var e,n=null===(e=Ze())||void 0===e?void 0:e.available;return!n||~n.indexOf(t)},Ye=function(){var t=window.__SZN_IS_INITIAL_STATE__;if(!t)return{};var e=Object.assign({},t);return delete window.__SZN_IS_INITIAL_STATE__,e},Ke=n(6846),Qe=n.n(Ke),tn=function(t){return Qe()(encodeURI(t.replace(/\s/g,""))).toString()};function en(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||nn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(t,e){if(t){if("string"==typeof t)return rn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rn(t,e):void 0}}function rn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var on=[{value:"ceska republika",reg:/^(cz|cr|czechia|czech|czech republic|cesko)$/},{value:"slovenska republika",reg:/^(sk|sr|slovakia|slovak|slovak republic|slovensko)$/}],an=[{value:"hradec kralove",reg:/h\.?\s?kralove$/},{value:"karlovy vary",reg:/k\.?\s?vary$/},{value:"m.$1",reg:/(?:m\.?|mor\.|morav.*)\s?(beroun|budejovice|trebova|krumlov)$/},{value:"$1 nad labem",reg:/(usti|brandys|dvur kralove|roudnice|lysa|kostelec|tynec) (n\.?|nad)\s?(labem|l\.?)/},{value:"$1 nad nisou",reg:/(jablonec|hradek|lucany) (n\.?|nad)\s?(nisou|n\.?)/},{value:"$1 nad sazavou",reg:/(zdar|svetla|tynec|ledec|zruc|lipnice) (n\.?|nad)\s?(sazavou|s\.?)/},{value:"$1 nad vltavou",reg:/(kralupy|tyn|hluboka|libcice|krasna hora|rozmberk) (n\.?|nad)\s?(vltavou|vl\.?|v\.?)/},{value:"$1 pod radhostem",reg:/(roznov|frenstat) (p\.?|pod)\s?(radhostem|r\.?)/},{value:"$1 nad ohri",reg:/(klasterec|kynsperk|bohusovice|budyne) (n\.?|nad)\s?(ohri|o\.?)/},{value:"$1 nad orlici",reg:/(usti|tyniste|kostelec|jablonne|brandys) (n\.?|nad)\s?(orlici|o\.?)/},{value:"$1 nad metuji",reg:/(nove mesto|police|teplice) (n\.?|nad)\s?(metuji|m\.?)/},{value:"$1 nad jizerou",reg:/(benatky|bakov|rokytnice|jablonec|vysoke) (n\.?|nad)\s?(jizerou|j\.?)/},{value:"$1 nad luznici",reg:/(veseli|plana|suchdol|lomnice) (n\.?|nad)\s?(luznici|l\.?)/},{value:"rychnov nad kneznou",reg:/rychnov (n\.?|nad)\s?(kneznou|k\.?)/},{value:"veseli nad moravou",reg:/veseli (n\.?|nad)\s?(moravou|m\.?)/},{value:"nove mesto na morave",reg:/nove mesto (n\.?|na)\s?(morave|m\.?)/},{value:"frydlant nad ostravici",reg:/frydlant (n\.?|nad)\s?(ostravici|o\.?)/},{value:"bystrice pod hostynem",reg:/bystrice (p\.?|pod)\s?(hostynem|h\.?)/},{value:"lipnik nad becvou",reg:/lipnik (n\.?|nad)\s?(becvou|b\.?)/},{value:"bystrice nad pernstejnem",reg:/bystrice (n\.?|nad)\s?(pernstejnem|p\.?)/},{value:"mnisek pod brdy",reg:/mnisek (p\.?|pod)\s?(brdy|b\.?)/},{value:"trebechovice pod orebem",reg:/trebechovice (p\.?|pod)\s?(orebem|o\.?)/},{value:"chlumec nad cidlinou",reg:/chlumec (n\.?|nad)\s?(cidlinou|c\.?)/},{value:"lomnice nad popelkou",reg:/lomnice (n\.?|nad)\s?(popelkou|p\.?)/},{value:"hradec nad moravici",reg:/hradec (n\.?|nad)\s?(moravici|m\.?)/},{value:"bela pod bezdezem",reg:/bela (p\.?|pod)\s?(bezdezem|b\.?)/},{value:"namest nad oslavou",reg:/namest (n\.?|nad)\s?(oslavou|o\.?)/},{value:"vrbno pod pradedem",reg:/vrbno (p\.?|pod)\s?(pradedem|p\.?)/},{value:"rozmital pod tremsinem",reg:/rozmital (p\.?|pod)\s?(tremsinem|t\.?)/},{value:"jaromerice nad rokytnou",reg:/jaromerice (n\.?|nad)\s?(rokytnou|r\.?)/},{value:"kostelec nad cernymi lesy",reg:/kostelec (n\.?|nad)\s?(cernymi|c\.?)\s?(lesy|l\.?)/},{value:"straz pod ralskem",reg:/straz (p\.?|pod)\s?(ralskem|r\.?)/},{value:"nove mesto pod smrkem",reg:/nove mesto (p\.?|pod)\s?(smrkem|s\.?)/},{value:"kamenice nad lipou",reg:/kamenice (n\.?|nad)\s?(lipou|l\.?)/},{value:"benesov nad ploucnici",reg:/benesov (n\.?|nad)\s?(ploucnici|p\.?)/},{value:"hrusovany nad jevisovkou",reg:/hrusovany (n\.?|nad)\s?(jevisovkou|j\.?)/},{value:"hodkovice nad mohelkou",reg:/hodkovice (n\.?|nad)\s?(mohelkou|m\.?)/},{value:"rychnov u jablonce nad nisou",reg:/rychnov u (j\.?|jablonce)\s?(n\.?|nad)\s?(nisou|n\.?)/},{value:"budisov nad budisovkou",reg:/budisov (n\.?|nad)\s?(budisovkou|b\.?)/},{value:"janovice nad uhlavou",reg:/janovice (n\.?|nad)\s?(uhlavou|u\.?)/},{value:"svoboda nad upou",reg:/svoboda (n\.?|nad)\s?(upou|u\.?)/},{value:"nemcice nad hanou",reg:/nemcice (n\.?|nad)\s?(hanou|h\.?)/},{value:"ronov nad doubravou",reg:/ronov (n\.?|nad)\s?(doubravou|d\.?)/},{value:"bela nad radbuzou",reg:/bela (n\.?|nad)\s?(radbuzou|r\.?)/},{value:"brezova nad svitavou",reg:/brezova (n\.?|nad)\s?(svitavou|s\.?)/},{value:"becov nad teplou",reg:/becov (n\.?|nad)\s?(teplou|t\.?)/},{value:"straz nad nezarkou",reg:/straz (n\.?|nad)\s?(nezarkou|n\.?)/},{value:"praha",reg:/praha.*/},{value:"praha",reg:/pha(\s.?|\d+)?.*/},{value:"n.",reg:/\sn(\.?|a|ad)\s/},{value:"p.",reg:/\sp(\.?|od)\s/},{value:"c.",reg:/(^cesk[aey]\s|^c\s)/},{value:"sv.$2",reg:/(svat[aey]|sv\s)(.+)/},{value:"$1m.",reg:/(nove|stare|horni|dolni)\smesto($|(\s|\-).*)/},{value:"",reg:/[\-–,\/\(\s]+(sever|jih|vychod|zapad|mesto|stred)($|\))/}],cn=function(t,e){if(We(t)||Array.isArray(t))return null;var n=String(t).trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/," ").replace(/[^a-zA-Z0-9\-\. ']/g,"").toLowerCase();if(e){var r,o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=nn(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(e);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=i.value,c=i.reg;c.test(n)&&(n=n.replace(c,a))}}catch(t){o.e(t)}finally{o.f()}}return n=n.replace(/[\s-]/g,"")},un=["420","421","49","43","36","48","39","33","44","34","385","213","376","244","1264","1268","54","374","297","61","994","1242","973","880","1246","375","32","501","229","1441","975","591","387","267","55","673","359","226","257","855","237","1","238","1345","236","56","86","57","269","242","682","506","53","90392","357","45","253","1809","1809","593","20","503","240","291","372","251","500","298","679","358","594","689","241","220","7880","233","350","30","299","1473","590","671","502","224","245","592","509","504","852","354","91","62","98","964","353","972","1876","81","962","7","254","686","850","82","965","996","856","371","961","266","231","218","417","370","352","853","389","261","265","60","960","223","356","692","596","222","269","52","691","373","377","976","1664","212","258","95","264","674","977","31","687","64","505","227","234","683","672","670","47","968","680","507","675","595","51","63","351","1787","974","262","40","7","250","378","239","966","221","381","248","232","65","386","677","252","27","94","290","1869","1758","249","597","268","46","41","963","886","7","66","228","676","1868","216","90","7","993","1649","688","256","380","971","598","1","7","678","379","58","84","84","84","681","969","967","260","263"],sn=function(t){var e=function(t){return We(t)||Array.isArray(t)?null:String(t).trim().replace(/^(0{1,2}|\+)/,"00").replace(/\D/g,"")}(t);if(!e)return{};var n=function(t){var e={t1:"",t2:t};if(function(t){return"00"===t.substring(0,2)}(e.t2))for(var n=0,r=un;n<r.length;n++){var o=r[n],i="00".concat(o);if(e.t2.startsWith(i)){e.t1=o,e.t2=e.t2.replace(new RegExp("^".concat(i)),"");break}}return e}(e);return n.t2.length<4?{}:(n.t2=tn(n.t2),n)};function ln(t){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(t)}var fn=function(t){return"string"==typeof t&&t.split(".")[0]in ae},dn=function(t,e){var n,r=ue[t],o=function(t,e){try{return t==e?{ok:!0,value:e}:{ok:!1}}catch(t){return{ok:!1}}};if(null===e)return{ok:!0,value:e};if(r===ie.integer&&ln(e)===ie.string)return o(e,parseInt(e,10));if(r===ie.boolean&&ln(e)!==ie.boolean){var i=function(t){return![0,"false",!1].includes(t)&&(!![1,"true",!0].includes(t)||null)}(e);return o(null!=i?i:e,i)}if(r===ie.addressObject){var a=We(n=e)?Object.entries(n).reduce((function(t,e){var n=en(e,2),r=n[0],o=n[1],i="";switch(r){case se.state:i=cn(o,on);break;case se.city:i=cn(o,an);break;default:i=cn(o)}return i&&(t[r]=tn(i)),t}),{}):{};return Object.keys(a).length>0?{ok:!0,value:a}:{ok:!1}}if(r===ie.phone){var c=sn(e);return Object.keys(c).length>0?{ok:!0,value:c}:{ok:!1}}return r===ie.string&&ln(e)!==ie.string||r===ie.array&&!Array.isArray(e)||r===ie.object&&(ln(e)!==ie.object||Array.isArray(e))||r===ie.hashString&&!$e(e)?{ok:!1}:{ok:!0,value:e}},vn=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oe.fresh,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{value:e,created:(null==t?void 0:t.created)||Date.now(),updated:r&&(null==t?void 0:t.state)===oe.fresh||!(null==t?void 0:t.updated)?Date.now():t.updated,state:n,settled:r}},pn=function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?t:t.value},hn=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(!(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])||(null==t?void 0:t.settled))&&function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(null==t?void 0:t.state)===oe.fresh||e}(t,e)};function yn(t){return function(t){if(Array.isArray(t))return gn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return gn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bn=function(){var t,e,n,r=["advert_uid","uid"].some((function(t){var e,n;return null===(n=null===(e=window.login)||void 0===e?void 0:e.current)||void 0===n?void 0:n[t]})),o="forget"===(null===(e=null===(t=window.login)||void 0===t?void 0:t.current)||void 0===e?void 0:e.state);if((null===(n=window.login)||void 0===n?void 0:n.current)&&(r||o)){var i=Object.assign({},window.login.current);return window.login.current.others&&(i.others=yn(window.login.current.others)),i}},mn=function(){var t=bn();if(t)return t.advert_uid&&(t.said=t.advert_uid),Array.isArray(t.others)&&(t.others=t.others.map((function(t){return We(t)&&t.advert_uid?Object.assign(Object.assign({},t),{said:t.advert_uid}):t}))),t},wn=function(t){var e=null;if(t)try{e=JSON.parse(t.euconsent)}catch(t){}return e},Sn=function(t){var e,n;return!!(null===(n=null===(e=wn(t))||void 0===e?void 0:e.v2)||void 0===n?void 0:n.encodedCookie)},_n=function(t,e){return e?{version:t,name:"euconsent-".concat(t),consentString:e,purposeOne:gt(e)}:null},In=!1,On=function(t){return jt(t)},jn=function(){return ft("udid")},kn=function(){var t=ft("sid");return dt(t)?t:null};function Cn(t){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(t)}function An(t){return function(t){if(Array.isArray(t))return En(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return En(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return En(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */xn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),c=new x(r||[]);return o(a,"_invoke",{value:k(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",v="suspendedYield",p="executing",h="completed",y={};function g(){}function b(){}function m(){}var w={};s(w,a,(function(){return this}));var S=Object.getPrototypeOf,_=S&&S(S(T([])));_&&_!==n&&r.call(_,a)&&(w=_);var I=m.prototype=g.prototype=Object.create(w);function O(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function n(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Cn(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,n,r){var o=d;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=C(c,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var s=f(e,n,r);if("normal"===s.type){if(o=r.done?h:v,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=h,r.method="throw",r.arg=s.arg)}}}function C(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Cn(e)+" is not iterable")}return b.prototype=m,o(I,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:b,configurable:!0}),b.displayName=s(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,u,"GeneratorFunction")),t.prototype=Object.create(I),t},e.awrap=function(t){return{__await:t}},O(j.prototype),s(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new j(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(I),s(I,u,"Generator"),s(I,a,(function(){return this})),s(I,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}var Tn=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},Dn=function(t){var e,n;try{var r=null==t?void 0:t.substring(0,10),o=JSON.parse(null!==(e=Ne(Oe))&&void 0!==e?e:"[]").find((function(t){return t.p===r}));return null!==(n=null==o?void 0:o.s)&&void 0!==n?n:null}catch(t){return null}},Pn=function(t){var e,n=(null==t?void 0:t.state)===oe.fresh,r=null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.purposeOne;return n&&r},zn=function(t){return new Promise((function(e){return Tn(void 0,void 0,void 0,xn().mark((function n(){var r,o,i,a;return xn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(t){var e=new XMLHttpRequest;e.open("POST","".concat(Te,"oauth/token"),!0),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify({client_id:"b14277c1-eeb5-4190-8490-f1cf9bf4",client_secret:"u6qc73jjx0005cyat725qq3hn94du52nclnb1zdgy91uomzyykq59mw7v7x0wj4b",grant_type:"client_credentials",audience:"".concat(Te,"auth")})),e.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE)if(200===this.status){var e=JSON.parse(this.responseText);t(e)}else De({type:"error",message:"Failed to fetch secid token",error:this.statusText}),t(null)}}));case 2:(null==(r=n.sent)?void 0:r.access_token)&&t||e(null),o=r.access_token,i="".concat(Te,"api/v1/identities/").concat(t,"/destinations/").concat("073e2a20-58e4-4322-ad8a-d9a9ce5ca584"),(a=new XMLHttpRequest).open("GET",i,!0),a.setRequestHeader("Authorization","Bearer ".concat(o)),a.send(),a.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE)if(200===this.status){var t=JSON.parse(this.responseText);e(t)}else De({type:"error",message:"Failed to fetch secid",error:this.statusText}),e(null)};case 11:case"end":return n.stop()}}),n)})))}))},Ln=function(t,e,n){var r;try{var o=t.substring(0,10),i={p:o,s:e,e:n},a=JSON.parse(null!==(r=Ne(Oe))&&void 0!==r?r:"[]").filter((function(t){return t.p!==o})),c=JSON.stringify([].concat(An(a),[i]));Re(Oe,c)}catch(t){}},Nn=function(t,e){var n;if(!t||!e)return!1;try{var r=JSON.parse(null!==(n=Ne(Oe))&&void 0!==n?n:"[]"),o=Date.now();return r.some((function(n){return n.p===t.substring(0,10)&&n.s===e&&n.e>o}))}catch(t){return!1}},Rn=window.top===window.self&&!window.frameElement,Un={hasLoginBadge:!1},Fn=function(t){if(Rn&&Array.isArray(Ve()._childFramesToFeed)&&Ve()._childFramesToFeed.length){var e=t.identities,n=t.topLevelData;Ve()._childFramesToFeed.forEach((function(t){try{(e||n)&&t.postMessage({type:ke,identities:e,topLevelData:n},"*")}catch(t){De({type:"error",message:"Post message to child frame error",err:t})}}))}},Vn=function(t,e){if(Rn)window.addEventListener("message",(function(t){return function(t,e){var n;t.source&&(null===(n=t.data)||void 0===n?void 0:n.type)===Ce&&(De("Registering child IS ".concat(t.origin)),Ve()._childFramesToFeed.push(t.source),Fn({identities:e()}))}(t,e)})),r=Math.max(100,100),o=0,i=Math.floor(Ee/r),a=i&&window.setInterval((function(){o++;var t=!!bn();(t||o>=i)&&(Un.hasLoginBadge=t,a&&window.clearInterval(a),Fn({topLevelData:{hasLoginBadge:t}}))}),r);else{var n="top";try{n=window.Cypress||window.parent.Cypress?"parent":"top"}catch(t){}window[n].postMessage({type:Ce},"*"),window.addEventListener("message",(function(e){return function(t,e){var n,r,o,i,a;(null===(n=t.data)||void 0===n?void 0:n.type)===ke&&((null===(r=t.data)||void 0===r?void 0:r.identities)&&We(null===(o=t.data)||void 0===o?void 0:o.identities)&&(De({message:"Data from top IS",identities:t.data.identities}),e(t.data.identities)),(null===(i=t.data)||void 0===i?void 0:i.topLevelData)&&We(null===(a=t.data)||void 0===a?void 0:a.topLevelData)&&(Un=Object.assign(Object.assign({},Un),t.data.topLevelData)))}(e,t)}))}var r,o,i,a};function Mn(t){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(t)}function Bn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Hn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Gn="Array",Wn="String",$n="Function",qn=Object.prototype.toString,Jn="TRUE"===or("id5_debug").toUpperCase(),Zn="TRACE"===or("id5_debug").toUpperCase(),Xn=Boolean(window.console),Yn=!1;function Kn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];er(console.info,t,"INFO",n)}function Qn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];er(console.warn,t,"WARNING",n)}function tr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];er(console.error,t,"ERROR",n)}function er(t,e,n,r){rr()&&Xn&&t&&t.apply(console,["%cID5 - #".concat(e),"color: #fff; background: #1c307e; padding: 1px 4px; border-radius: 3px;",n].concat(r))}function nr(t){Yn=!!t}function rr(){return Jn||Zn||Yn}function or(t){var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(window.location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}function ir(t,e){return qn.call(t)==="[object "+e+"]"}function ar(t){return ir(t,$n)}function cr(t){return ir(t,Wn)}function ur(t){return ir(t,Gn)}function sr(t){return ir(t,"Number")}function lr(t){return ir(t,"Object")}function fr(t){return ir(t,"Boolean")}function dr(t){return void 0!==t}function vr(t){if(!t)return!0;if(ur(t)||cr(t))return!(t.length>0);for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0}function pr(t,e){if(!vr(t)){if(ar(t.forEach))return t.forEach(e,this);var n=0,r=t.length;if(r>0)for(;n<r;n++)e(t[n],n,t);else for(n in t)hasOwnProperty.call(t,n)&&e.call(this,t[n],n)}}function hr(t){var e=window.document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]*)\\s*(;|$)");return e?decodeURIComponent(e[2]):null}function yr(t,e,n){document.cookie="".concat(t,"=").concat(encodeURIComponent(e)).concat(""!==n?"; expires=".concat(n):"","; path=/")}function gr(t){return(t.protocol||"http")+"://"+(t.host||t.hostname+(t.port?":".concat(t.port):""))+(t.pathname||"")+(t.search?"?".concat((e=t.search||"",Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return"".concat(t,"[]=").concat(e)})).join("&"):"".concat(t,"=").concat(e[t])})).join("&"))):"")+(t.hash?"#".concat(t.hash):"");var e}function br(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var o,i=r.method||(n?"POST":"GET");document.createElement("a").href=t;var a="object"===Mn(e)&&null!==e?e:{success:function(){Kn("ajax","xhr success")},error:function(t){tr("ajax","xhr error",null,t)}};if("function"==typeof e&&(a.success=e),(o=new window.XMLHttpRequest).onreadystatechange=function(){if(4===o.readyState){var t=o.status;t>=200&&t<300||304===t?a.success(o.responseText,o):a.error(o.statusText,o)}},o.ontimeout=function(){tr("ajax","xhr timeout after ",o.timeout,"ms")},"GET"===i&&n){var c=function(t,e){var n=document.createElement("a");e&&"noDecodeWholeURL"in e&&e.noDecodeWholeURL?n.href=t:n.href=decodeURIComponent(t);var r,o=e&&"decodeSearchAsString"in e&&e.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:o?n.search:(r=n.search||"",r?r.replace(/^\?/,"").split("&").reduce((function(t,e){var n=Bn(e.split("="),2),r=n[0],o=n[1];return/\[\]$/.test(r)?(t[r=r.replace("[]","")]=t[r]||[],t[r].push(o)):t[r]=o||"",t}),{}):{}),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}(t,r);Object.assign(c.search,n),t=gr(c)}o.open(i,t,!0),r.withCredentials&&(o.withCredentials=!0),pr(r.customHeaders,(function(t,e){o.setRequestHeader(e,t)})),r.preflight&&o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Content-Type",r.contentType||"text/plain"),"POST"===i&&n?o.send(n):o.send()}catch(t){tr("ajax","xhr construction",t)}}function mr(t,e,n){var r=new Image;r.src=t,ar(e)&&e(),ar(n)&&(r.complete?n():r.addEventListener("load",n))}function wr(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=function(t,e){if(ar(Math.imul))return Math.imul(t,e);var n=(4194303&t)*(e|=0);return 4290772992&t&&(n+=(4290772992&t)*e|0),0|n},o=3735928559^n,i=1103547991^n,a=0;a<t.length;a++)o=r(o^(e=t.charCodeAt(a)),2654435761),i=r(i^e,1597334677);return o=r(o^o>>>16,2246822507)^r(i^i>>>13,3266489909),(4294967296*(2097151&(i=r(i^i>>>16,2246822507)^r(o^o>>>13,3266489909)))+(o>>>0)).toString()}function Sr(t,e){var n=[];return pr(t,(function(t){e(t)&&n.push(t)})),n}function _r(t,e,n,r,o){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:o;return t===o?n:t}var Ir=function(t){function e(){var e=function(){var e,r=[];do{try{e=e?e.parent:t;try{var o=e===t.top,i={referrer:e.document.referrer||null,location:e.location.href||null,isTop:o};o&&(i=Object.assign(i,{canonicalUrl:n(e.document)})),r.push(i)}catch(n){r.push({referrer:null,location:null,isTop:e===t.top})}}catch(t){return r.push({referrer:null,location:null,isTop:!1}),r}}while(e!==t.top);return r}(),r=function(){try{if(!t.location.ancestorOrigins)return;return t.location.ancestorOrigins}catch(t){}}();if(r)for(var o=0,i=r.length;o<i;o++)e[o].ancestor=r[o];return e}function n(t){try{var e=t.querySelector("link[rel='canonical']");if(null!==e)return e.href}catch(t){}return null}return function(){try{var n,r,o=e(),i=o.length-1,a=null!==o[i].location||i>0&&null!==o[i-1].referrer,c=function(t){var e,n=[],r=null,o=null,i=null,a=null,c=null;for(e=t.length-1;e>=0;e--){try{r=t[e].location}catch(t){}if(r)n.push(r),c||(c=r);else if(0!==e){o=t[e-1];try{i=o.referrer,a=o.ancestor}catch(t){}i?(n.push(i),c||(c=i)):a?(n.push(a),c||(c=a)):n.push(null)}else n.push(null)}return{stack:n,detectedRefererUrl:c}}(o);o[o.length-1].canonicalUrl&&(n=o[o.length-1].canonicalUrl);try{r=t.top.document.referrer}catch(t){}return{topmostLocation:c.detectedRefererUrl,ref:r||null,reachedTop:a,numIframes:i,stack:c.stack,canonicalUrl:n}}catch(t){}}}(window),Or=JSON.parse('{"TS":{"ID5":{"name":"id5id","expiresDays":90},"LAST":{"name":"id5id_last","expiresDays":90},"CONSENT_DATA":{"name":"id5id_cached_consent_data","expiresDays":30},"PD":{"name":"id5id_cached_pd","expiresDays":30},"SEGMENTS":{"name":"id5id_cached_segments","expiresDays":30},"PRIVACY":{"name":"id5id_privacy","expiresDays":30},"LIVE_INTENT":{"name":"id5li","expiresDays":90}},"iR":["id5.1st","id5id.1st"],"Lm":{"h":{"gdpr":true,"ccpa":false,"lgpd":true,"other":false}},"zZ":"id5-sync.com","NA":500}'),jr={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"-":62,_:63,"+":62,"/":63};var kr=["localStoragePurposeConsent","ccpaString"];function Cr(t){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cr(t)}function Ar(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Er(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pr(r.key),r)}}function Tr(t,e,n){return e&&xr(t.prototype,e),n&&xr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dr(t,e,n){return(e=Pr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pr(t){var e=function(t,e){if("object"!=Cr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cr(e)?e:String(e)}var zr={tcfv1:{objName:"__cmpCall",objKeys:["command","parameter"],returnObjName:"__cmpReturn"},tcfv2:{objName:"__tcfapiCall",objKeys:["command","version"],returnObjName:"__tcfapiReturn"},uspv1:{objName:"__uspapiCall",objKeys:["command","version"],returnObjName:"__uspapiReturn"}},Lr=Object.freeze({NONE:"none",TCF_V1:"TCFv1",TCF_V2:"TCFv2",USP_V1:"USPv1",ID5_ALLOWED_VENDORS:"ID5"}),Nr=Object.freeze({FORCE_ALLOWED_BY_CONFIG:"force_allowed_by_config",ID5_CONSENT:"id5_consent",PROVISIONAL:"provisional",JURISDICTION:"jurisdiction",CONSENT_API:"consent_api"}),Rr=function(){function t(e,n,r){Er(this,t),Dr(this,"allowed",!1),Dr(this,"grantType",Nr.NONE),Dr(this,"api",Lr.NONE),this.allowed=e,this.grantType=n,this.api=r}return Tr(t,[{key:"isDefinitivelyAllowed",value:function(){return this.allowed&&this.grantType!==Nr.PROVISIONAL}}]),t}(),Ur=function(){function t(){Er(this,t),Dr(this,"api",Lr.NONE),Dr(this,"consentString",void 0),Dr(this,"gdprApplies",!1),Dr(this,"localStoragePurposeConsent",void 0),Dr(this,"allowedVendors",void 0),Dr(this,"hasCcpaString",!1),Dr(this,"ccpaString","")}return Tr(t,[{key:"localStorageGrant",value:function(){return new Rr(this.isGranted(),Nr.CONSENT_API,this.api)}},{key:"isGranted",value:function(){switch(this.api){case Lr.NONE:return!0;case Lr.TCF_V1:return!this.gdprApplies||!0===this.localStoragePurposeConsent;case Lr.TCF_V2:return!1===this.gdprApplies||!0===this.localStoragePurposeConsent;case Lr.ID5_ALLOWED_VENDORS:return this.allowedVendors.includes("131");case Lr.USP_V1:return!0}}},{key:"hashCode",value:function(){this.localStoragePurposeConsent,this.ccpaString;var t=Ar(this,kr);return wr(JSON.stringify(t))}}]),t}(),Fr=function(){function t(e,n,r){Er(this,t),Dr(this,"invocationId",void 0),Dr(this,"consentData",void 0),Dr(this,"storedPrivacyData",void 0),Dr(this,"localStorage",void 0),Dr(this,"_consentRequested",!1),this.invocationId=e,this.localStorage=n,this.storageConfig=r,this.resetConsentData()}return Tr(t,[{key:"requestConsent",value:function(t,e,n,r){if(t)this.consentData=new Ur,Qn(this.invocationId,"cmpApi: ID5 is operating in forced consent mode and will not retrieve any consent signals from the CMP"),r(this.consentData);else if(this._consentRequested)r(this.consentData);else switch(this.consentData=new Ur,this._consentRequested=!0,e){case"static":this.parseStaticConsentData(n,r);break;case"iab":this.lookupIabConsent(r);break;default:tr(this.invocationId,"cmpApi: Unknown consent API: ".concat(e)),this.resetConsentData(),r(this.consentData)}}},{key:"getOrCreateConsentData",value:function(){return this.consentData||(this.consentData=new Ur),this.consentData}},{key:"parseStaticConsentData",value:function(e,n){var r={};lr((e=e||{}).getConsentData)?r=t.parseTcfData(e,1):lr(e.getTCData)?r=t.parseTcfData(e.getTCData,2):ur(e.allowedVendors)?r={api:Lr.ID5_ALLOWED_VENDORS,allowedVendors:e.allowedVendors.map((function(t){return String(t)})),gdprApplies:!0}:lr(e.getUSPData)?r=t.parseUspData(e.getUSPData):Qn(this.invocationId,"cmpApi: No static consent data detected! Using defaults."),Object.assign(this.consentData,r),Kn(this.invocationId,"cmpApi: Detected API '".concat(this.consentData.api,"' from static consent data"),e),n(this.consentData)}},{key:"lookupIabConsent",value:function(t){var e=this,n=[],r=function(r){return n[r]=!1,function(o){n[r]||(n[r]=!0,o&&Object.assign(e.consentData,o),n.every((function(t){return t}))&&t(e.consentData))}},o=r(0),i=r(1);this.lookupTcf(o),this.lookupUsp(i)}},{key:"lookupUsp",value:function(e){var n,r=this,o=t.findUsp(),i=o.uspapiFrame,a=o.uspapiFunction;if(!i)return Qn(this.invocationId,"cmpApi: USP not found! Using defaults for CCPA."),void e();ar(a)?(Kn(this.invocationId,"cmpApi: Detected USP is directly accessible, calling it now."),n=a):(Kn(this.invocationId,"cmpApi: Detected USP is outside the current iframe. Using message passing."),n=t.buildCmpSurrogate("uspv1",i));n("getUSPData",1,(function(n,o){o?e(t.parseUspData(n)):(tr(r.invocationId,"cmpApi: USP callback not succesful. Using defaults for CCPA."),e())}))}},{key:"lookupTcf",value:function(e){var n=t.findTCF(),r=n.cmpVersion,o=n.cmpFrame,i=n.cmpFunction;if(!o)return Qn(this.invocationId,"cmpApi: TCF not found! Using defaults for GDPR."),void e();ar(i)?this.lookupDirectTcf(r,i,e):(Kn(this.invocationId,"cmpApi: Detected TCF is outside the current iframe. Using message passing."),this.lookupMessageTcf(r,o,e))}},{key:"lookupMessageTcf",value:function(e,n,r){var o=t.buildCmpSurrogate(1===e?"tcfv1":"tcfv2",n);this.lookupDirectTcf(e,o,r)}},{key:"lookupDirectTcf",value:function(e,n,r){var o=this,i={},a={},c=function(t,e,n){Kn(o.invocationId,"cmpApi: TCFv".concat(t," - Received a call back: ").concat(e),n)},u=function(t,e){tr(o.invocationId,"cmpApi: TCFv".concat(t," - Received insuccess: ").concat(e,". Please check your CMP setup. Using defaults for GDPR."))},s=function(e){return a[e]=!1,function(n,o){a[e]=!0,o?(c(1,e,n),i[e]=n):u(1,e),Object.values(a).every((function(t){return t}))&&r(t.parseTcfData(i,1))}};if(1===e){var l=s("getConsentData"),f=s("getVendorConsents");n("getConsentData",null,l),n("getVendorConsents",null,f)}else 2===e&&n("addEventListener",e,(function(e,n){if(c(2,"event",e),!n)return u(2,"addEventListener"),void r();!e||!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||r(t.parseTcfData(e,2))}))}},{key:"resetConsentData",value:function(){this.consentData=void 0,this.storedPrivacyData=void 0,this._consentRequested=!1}},{key:"localStorageGrant",value:function(t,e){if(!0===t||!0===e)return Qn(this.invocationId,"cmpApi: Local storage access granted by configuration override, consent will not be checked"),new Rr(!0,Nr.FORCE_ALLOWED_BY_CONFIG,Lr.NONE);if(!this.consentData||this.consentData.api===Lr.NONE){if(!lr(this.storedPrivacyData)){var n=this.localStorage.getItemWithExpiration(this.storageConfig.PRIVACY);this.storedPrivacyData=n&&JSON.parse(n),Kn(this.invocationId,"cmpApi: Loaded stored privacy data from local storage",this.storedPrivacyData)}if(this.storedPrivacyData&&!0===this.storedPrivacyData.id5_consent)return new Rr(!0,Nr.ID5_CONSENT,Lr.NONE);if(!this.storedPrivacyData||!dr(this.storedPrivacyData.jurisdiction))return new Rr(!0,Nr.PROVISIONAL,Lr.NONE);var r=this.storedPrivacyData.jurisdiction,o=r in Or.Lm.h&&Or.Lm.h[r];return new Rr(!1===o,Nr.JURISDICTION,Lr.NONE)}return this.consentData.localStorageGrant()}},{key:"setStoredPrivacy",value:function(t){try{lr(t)?(this.storedPrivacyData=t,this.localStorage.setItemWithExpiration(this.storageConfig.PRIVACY,JSON.stringify(t))):tr(this.invocationId,"cmpApi: Cannot store privacy data if it is not an object",t)}catch(t){tr(this.invocationId,"cmpApi: Error while storing privacy data",t)}}}],[{key:"buildCmpSurrogate",value:function(t,e){return function(n,r,o){var i=Math.random()+"",a=zr[t],c={},u={};u[a.objKeys[0]]=n,u[a.objKeys[1]]=r,u.callId=i,c[a.objName]=u;window.addEventListener("message",(function t(e){var n=_r(e,"data.".concat(a.returnObjName));n&&n.callId===i&&(window.removeEventListener("message",t),o(n.returnValue,n.success))}),!1),e.postMessage(c,"*")}}},{key:"parseUspData",value:function(t){if(lr(t)&&cr(t.uspString))return{api:Lr.USP_V1,hasCcpaString:!0,ccpaString:t.uspString};tr(this.invocationId,"cmpApi: No or malformed USP data. Using defaults for CCPA.")}},{key:"parseTcfData",value:function(e,n){var r,o;if(1===n)r=t.isValidV1ConsentObject,o=t.normalizeV1Data;else{if(2!==n)return void tr(this.invocationId,"cmpApi: No or malformed CMP data. Using defaults for GDPR.");r=t.isValidV2ConsentObject,o=t.normalizeV2Data}if(r(e))return o(e);tr(this.invocationId,"cmpApi: Invalid CMP data. Using defaults for GDPR.",e)}},{key:"isValidV1ConsentObject",value:function(t){var e=_r(t,"getConsentData.gdprApplies");return!!fr(e)&&(!1===e||cr(t.getConsentData.consentData)&&lr(t.getVendorConsents)&&Object.keys(t.getVendorConsents).length>1)}},{key:"isValidV2ConsentObject",value:function(t){var e=t&&t.gdprApplies,n=t&&t.tcString;return!1===e||cr(n)}},{key:"normalizeV1Data",value:function(t){return{consentString:t.getConsentData.consentData,localStoragePurposeConsent:_r(t,"getVendorConsents.purposeConsents.1"),gdprApplies:t.getConsentData.gdprApplies,api:Lr.TCF_V1}}},{key:"normalizeV2Data",value:function(t){var e=_r(t,"purpose.consents.1");return fr(e)||(e=function(t,e){var n=152+e-1,r=~~(n/6);if(t&&"C"===t.charAt(0)&&!(t.length<=r)){var o=t.charAt(r),i=jr[o];if(void 0!==i)return 0!=(i&1<<6-n%6-1)}}(t.tcString,1)),{consentString:t.tcString,localStoragePurposeConsent:e,gdprApplies:t.gdprApplies,api:Lr.TCF_V2}}},{key:"findTCF",value:function(){for(var t,e,n=0,r=window;!t;){try{if("function"==typeof r.__tcfapi||"function"==typeof r.__cmp){"function"==typeof r.__tcfapi?(n=2,e=r.__tcfapi):(n=1,e=r.__cmp),t=r;break}}catch(t){}try{if(r.frames.__tcfapiLocator){n=2,t=r;break}}catch(t){}try{if(r.frames.__cmpLocator){n=1,t=r;break}}catch(t){}if(r===window.top)break;r=r.parent}return{cmpVersion:n,cmpFrame:t,cmpFunction:e}}},{key:"findUsp",value:function(){for(var t,e,n=window;!t;){try{if("function"==typeof n.__uspapi){e=n.__uspapi,t=n;break}}catch(t){}try{if(n.frames.__uspapiLocator){t=n;break}}catch(t){}if(n===window.top)break;n=n.parent}return{uspapiFrame:t,uspapiFunction:e}}}]),t}();function Vr(t){return Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vr(t)}function Mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hr(r.key),r)}}function Br(t,e,n){return(e=Hr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hr(t){var e=function(t,e){if("object"!=Vr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vr(e)?e:String(e)}var Gr=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Br(this,"invocationId",void 0),Br(this,"localStorageGrantChecker",void 0),Br(this,"localStorage",void 0),this.invocationId=e,this.localStorageGrantChecker=n,this.localStorage=r,this.storageConfig=o}var e,n,r;return e=t,n=[{key:"get",value:function(t){try{var e=this.localStorageGrant();if(e.isDefinitivelyAllowed()){var n=this.localStorage.getItemWithExpiration(t);return Kn(this.invocationId,"Local storage get key=".concat(t.name," value=").concat(n)),n}Qn(this.invocationId,"clientStore.get() has been called without definitive grant",e)}catch(t){tr(this.invocationId,t)}}},{key:"clear",value:function(t){try{this.localStorage.removeItemWithExpiration(t)}catch(t){tr(this.invocationId,t)}}},{key:"put",value:function(t,e){try{var n=this.localStorageGrant();n.isDefinitivelyAllowed()?(Kn(this.invocationId,"Local storage put key=".concat(t.name," value=").concat(e)),this.localStorage.setItemWithExpiration(t,e)):Qn(this.invocationId,"clientStore.put() has been called without definitive grant",n)}catch(t){tr(this.invocationId,t)}}},{key:"localStorageGrant",value:function(){return this.localStorageGrantChecker()}},{key:"isLocalStorageAvailable",value:function(){return this.localStorage.isAvailable()}},{key:"getResponseFromLegacyCookie",value:function(){var t;return Or.iR.forEach((function(e){hr(e)&&(t=hr(e))})),t?JSON.parse(t):null}},{key:"getResponse",value:function(){var t=this.get(this.storageConfig.ID5);return t?JSON.parse(decodeURIComponent(t)):t}},{key:"clearResponse",value:function(){this.clear(this.storageConfig.ID5)}},{key:"putResponse",value:function(t){this.put(this.storageConfig.ID5,encodeURIComponent(t))}},{key:"getHashedConsentData",value:function(){return this.get(this.storageConfig.CONSENT_DATA)}},{key:"clearHashedConsentData",value:function(){this.clear(this.storageConfig.CONSENT_DATA)}},{key:"putHashedConsentData",value:function(t){t!==new Ur&&this.put(this.storageConfig.CONSENT_DATA,t.hashCode())}},{key:"getHashedPd",value:function(t){return this.get(this.pdCacheConfig(t))}},{key:"isStoredPdUpToDate",value:function(e,n){var r=this.getHashedPd(e),o=vr(n)&&!vr(r),i=vr(r)&&vr(n);return o||i||r===t.makeStoredHash(n)}},{key:"clearHashedPd",value:function(t){this.clear(this.pdCacheConfig(t))}},{key:"putHashedPd",value:function(e,n){this.put(this.pdCacheConfig(e),t.makeStoredHash(n))}},{key:"getHashedSegments",value:function(t){return this.get(this.segmentsCacheConfig(t))}},{key:"putHashedSegments",value:function(e,n){this.put(this.segmentsCacheConfig(e),t.makeStoredHash(JSON.stringify(n)))}},{key:"storedSegmentsMatchesSegments",value:function(e,n){return t.storedDataMatchesCurrentData(this.getHashedSegments(e),t.makeStoredHash(JSON.stringify(n)))}},{key:"clearHashedSegments",value:function(t){this.clear(this.segmentsCacheConfig(t))}},{key:"getDateTime",value:function(){return new Date(this.get(this.storageConfig.LAST)).getTime()}},{key:"clearDateTime",value:function(){this.clear(this.storageConfig.LAST)}},{key:"setDateTime",value:function(t){this.put(this.storageConfig.LAST,t)}},{key:"getNb",value:function(t){var e=this.get(this.nbCacheConfig(t));return e?parseInt(e):0}},{key:"clearNb",value:function(t){this.clear(this.nbCacheConfig(t))}},{key:"setNb",value:function(t,e){this.put(this.nbCacheConfig(t),e)}},{key:"incNb",value:function(t,e){return e=Math.round(e+1),this.setNb(t,e),e}},{key:"pdCacheConfig",value:function(t){return this.storageConfig.PD.withNameSuffixed(t)}},{key:"nbCacheConfig",value:function(t){return this.storageConfig.ID5.withNameSuffixed(t,"nb")}},{key:"segmentsCacheConfig",value:function(t){return this.storageConfig.SEGMENTS.withNameSuffixed(t)}},{key:"clearAll",value:function(t){this.clearResponse(),this.clearDateTime(),this.clearNb(t),this.clearHashedPd(t),this.clearHashedSegments(t),this.clearHashedConsentData()}},{key:"removeLegacyCookies",value:function(t){var e=new Date(Date.now()-1e3).toUTCString();Or.iR.forEach((function(n){yr("".concat(n),"",e),yr("".concat(n,"_nb"),"",e),yr("".concat(n,"_").concat(t,"_nb"),"",e),yr("".concat(n,"_last"),"",e),yr("".concat(n,".cached_pd"),"",e),yr("".concat(n,".cached_consent_data"),"",e)}))}},{key:"storedConsentDataMatchesConsentData",value:function(e){return t.storedDataMatchesCurrentData(this.getHashedConsentData(),e.hashCode())}}],r=[{key:"makeStoredHash",value:function(t){return wr("string"==typeof t?t:"")}},{key:"storedDataMatchesCurrentData",value:function(t,e){return null==t||t===e}}],n&&Mr(e.prototype,n),r&&Mr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Wr(t){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wr(t)}function $r(t,e,n){return(e=Xr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xr(r.key),r)}}function Zr(t,e,n){return e&&Jr(t.prototype,e),n&&Jr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xr(t){var e=function(t,e){if("object"!=Wr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Wr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wr(e)?e:String(e)}var Yr=function(){function t(e,n){qr(this,t),this.name=e,this.expiresDays=n}return Zr(t,[{key:"withNameSuffixed",value:function(){for(var e=this.name,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];for(var i=0,a=r;i<a.length;i++){var c=a[i];e+="_".concat(c)}return new t(e,this.expiresDays)}}]),t}(),Kr=Zr((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;qr(this,t);var n=Or.TS,r=function(t){var n=void 0!==e?Math.max(1,e):t.expiresDays;return new Yr(t.name,n)};this.ID5=r(n.ID5),this.LAST=r(n.LAST),this.CONSENT_DATA=r(n.CONSENT_DATA),this.PD=r(n.PD),this.PRIVACY=r(n.PRIVACY),this.SEGMENTS=r(n.SEGMENTS),this.LIVE_INTENT=r(n.LIVE_INTENT)})),Qr=function(){function t(e,n){if(qr(this,t),$r(this,"invocationId",void 0),$r(this,"options",void 0),$r(this,"providedOptions",void 0),$r(this,"invalidSegments",void 0),this.invocationId=e,this.options={debugBypassConsent:!1,allowLocalStorageWithoutConsentApi:!1,cmpApi:"iab",consentData:{getConsentData:{consentData:void 0,gdprApplies:void 0},getVendorConsents:{}},refreshInSeconds:7200,partnerId:void 0,partnerUserId:void 0,callbackOnAvailable:void 0,callbackOnUpdates:void 0,callbackTimeoutInMs:void 0,pd:void 0,abTesting:{enabled:!1,controlGroupPct:0},provider:void 0,maxCascades:8,applyCreativeRestrictions:!1,segments:void 0,disableUaHints:!1,disableLiveIntentIntegration:!1,storageExpirationDays:void 0,att:void 0},this.providedOptions={},!sr(n.partnerId)&&!cr(n.partnerId))throw new Error("partnerId is required and must be a number or a string");this.invalidSegments=0,this.updOptions(n),this.storageConfig=new Kr(n.storageExpirationDays)}return Zr(t,[{key:"getOptions",value:function(){return this.options}},{key:"getProvidedOptions",value:function(){return this.providedOptions}},{key:"getInvalidSegments",value:function(){return this.invalidSegments}},{key:"updOptions",value:function(e){var n=this,r=this;if(lr(e)){this.setPartnerId(e.partnerId);var o=function(t,e){n.options[t]=e,n.providedOptions[t]=e};Object.keys(e).forEach((function(n){if("segments"===n){var i=e[n],a=[];if(!ur(i))return void to(r.invocationId,n,"Array",i);i.forEach((function(t,e){var n,o,i,c="segments[".concat(e,"]");return ur(t.ids)&&(n=t.ids,o=cr,i=!0,pr(n,(function(t){return i=i&&o(t)})),i)?t.ids.length<1?(tr(r.invocationId,"Config option ".concat(c,".ids should contain at least one segment ID")),void(r.invalidSegments+=1)):cr(t.destination)?void a.push(t):(to(r.invocationId,"".concat(c,".destination"),"String",t.destination),void(r.invalidSegments+=1)):(to(r.invocationId,"".concat(c,".ids"),"Array of String",t.ids),void(r.invalidSegments+=1))})),o(n,a)}else if("partnerId"!==n){var c=t.configTypes[n],u=e[n];ir(u,c)?o(n,u):to(r.invocationId,n,c,u)}}))}else tr(this.invocationId,"Config options must be an object")}},{key:"setPartnerId",value:function(t){var e;if(cr(t)){if(e=parseInt(t),isNaN(e)||e<0)throw new Error("partnerId is required and must parse to a positive integer")}else sr(t)&&(e=t);if(sr(e)){if(sr(this.options.partnerId)&&e!==this.options.partnerId)throw new Error("Cannot update config with a different partnerId");this.options.partnerId=e,this.providedOptions.partnerId=t}}}]),t}();function to(t,e,n,r){tr(t,"Config option ".concat(e," must be of type ").concat(n," but was ").concat(toString.call(r),". Ignoring..."))}function eo(t){return eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(t)}function no(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oo(r.key),r)}}function ro(t,e,n){return(e=oo(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oo(t){var e=function(t,e){if("object"!=eo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=eo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eo(e)?e:String(e)}$r(Qr,"configTypes",{debugBypassConsent:"Boolean",allowLocalStorageWithoutConsentApi:"Boolean",cmpApi:"String",consentData:"Object",refreshInSeconds:"Number",partnerUserId:"String",callbackOnAvailable:"Function",callbackOnUpdates:"Function",callbackTimeoutInMs:"Number",pd:"String",abTesting:"Object",provider:"String",maxCascades:"Number",applyCreativeRestrictions:"Boolean",disableUaHints:"Boolean",disableLiveIntentIntegration:"Boolean",storageExpirationDays:"Number",att:"Number"});var io=function(){function t(e,n,r,o,i){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ro(this,"isEnabled",void 0),ro(this,"invocationId",void 0),ro(this,"localStorage",void 0),ro(this,"storageConfig",void 0),ro(this,"_windowObj",void 0),ro(this,"_handler",void 0),ro(this,"_hasLiveIntentId",!1),ro(this,"_liveIntentId",void 0),ro(this,"_liveIntentIdTimestamp",void 0);var c=this;this._windowObj=e,this.isEnabled=n,this.invocationId=r,this.localStorage=o,this.storageConfig=i,n&&(this._checkLocalStorage(),Kn(this.invocationId,"Starting polling detection of LiveIntent API"),this._handler=setInterval((function(){_r(a._windowObj,"liQ.ready")&&(Kn(a.invocationId,"Stopping polling detection of LiveIntent API: found"),clearInterval(c._handler),c._onDetected())}),Or.NA))}var e,n,r;return e=t,n=[{key:"_checkLocalStorage",value:function(){if(this.localStorage.isAvailable()){var t=this.localStorage.getItemWithExpiration(this.storageConfig.LIVE_INTENT),e=cr(t)?JSON.parse(t):void 0;lr(e)&&(Kn(this.invocationId,"Retrieved LiveIntent ID from local storage"),this._setLiveIntentId(e))}}},{key:"_onDetected",value:function(){var t=this;Kn(this.invocationId,"Detected LiveIntent API on the page! Requesting their ID.");var e=_r(this._windowObj,"liQ.resolve");if(ar(e))try{e((function(e){Kn(t.invocationId,"Received LiveIntent API `resolve` lookup response",e),e.unifiedId&&t._setLiveIntentIdFromResponse(e.unifiedId,Date.now())}))}catch(t){tr("Error caught while calling resolve() on LiveIntent API",t)}}},{key:"_setLiveIntentIdFromResponse",value:function(t,e){var n={liveIntentId:t,timestamp:e};this.localStorage.setItemWithExpiration(this.storageConfig.LIVE_INTENT,JSON.stringify(n)),this._setLiveIntentId(n)}},{key:"_setLiveIntentId",value:function(t){Kn(self.invocationId,"Received LiveIntent ID",t),this._liveIntentId=t.liveIntentId,this._liveIntentIdTimestamp=t.timestamp,this._hasLiveIntentId=!0}},{key:"getLiveIntentId",value:function(){return this.isEnabled?this._liveIntentId:void 0}},{key:"hasLiveIntentId",value:function(){return this.isEnabled&&this._hasLiveIntentId}}],n&&no(e.prototype,n),r&&no(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ao(t){return ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(t)}function co(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,so(r.key),r)}}function uo(t,e,n){return(e=so(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function so(t){var e=function(t,e){if("object"!=ao(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ao(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ao(e)?e:String(e)}var lo=function(){function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),uo(this,"_availableCallbackTimerId",void 0),uo(this,"_availableCallbackFired",!1),uo(this,"_availableCallback",void 0),uo(this,"_updateCallback",void 0),uo(this,"_refreshCallbackTimerId",void 0),uo(this,"_refreshCallbackFired",!1),uo(this,"_refreshCallback",void 0),uo(this,"_isExposed",void 0),uo(this,"_fromCache",void 0),uo(this,"_isRefreshing",!1),uo(this,"_isRefreshingWithFetch",!1),uo(this,"_userId",void 0),uo(this,"_linkType",void 0),uo(this,"_userIdAvailable",!1),uo(this,"invocationId",void 0),uo(this,"config",void 0),uo(this,"clientStore",void 0),uo(this,"consentManagement",void 0),uo(this,"liveIntentApi",void 0),this.invocationId=e,this.config=n,this.clientStore=r,this.consentManagement=o,this.liveIntentApi=i}var e,n,r;return e=t,r=[{key:"doFireOnAvailableCallBack",value:function(t){Kn(t.invocationId,"Id5Status.doFireOnAvailableCallBack"),t._availableCallbackFired=!0,t._availableCallbackTimerId=void 0,t._availableCallback(t)}},{key:"doFireOnUpdateCallBack",value:function(t){Kn(t.invocationId,"Id5Status.doFireOnUpdateCallBack"),t._updateCallback(t)}},{key:"doFireOnRefreshCallBack",value:function(t){Kn(t.invocationId,"Id5Status.doFireOnRefreshCallBack"),t._refreshCallbackFired=!0,t._refreshCallbackTimerId=void 0,t._isRefreshing=!1,t._isRefreshingWithFetch=!1,t._refreshCallback(t)}}],(n=[{key:"getOptions",value:function(){return this.config.getOptions()}},{key:"getProvidedOptions",value:function(){return this.config.getProvidedOptions()}},{key:"getInvalidSegments",value:function(){return this.config.getInvalidSegments()}},{key:"updateOptions",value:function(t){return this.config.updOptions(t)}},{key:"startRefresh",value:function(t){this._isRefreshing=!0,this._isRefreshingWithFetch=t}},{key:"setUserId",value:function(e,n){var r=this,o=e.universal_uid,i=e.link_type||0;if(this._isExposed=!0,lr(e.ab_testing))switch(e.ab_testing.result){case"normal":break;default:case"error":tr(this.invocationId,"Id5Status: There was an error with A/B Testing. Make sure controlGroupRatio is a number >= 0 and <= 1");break;case"control":this._isExposed=!1,this.info("User is in control group!")}var a=this._userId!==o||this._linkType!==i;this._userIdAvailable=!0,this._userId=o,this._linkType=i,this._fromCache=n,this.info("User id updated, hasChanged: ".concat(a,", fromCache: ").concat(n)),ar(this._availableCallback)&&!1===this._availableCallbackFired&&(this._availableCallbackTimerId&&(this.info("Cancelling pending onAvailableCallback watchdog"),clearTimeout(this._availableCallbackTimerId),this._availableCallbackTimerId=void 0),this._availableCallbackTimerId=setTimeout((function(){return t.doFireOnAvailableCallBack(r)}),0)),this._isRefreshing&&ar(this._refreshCallback)&&!1===this._refreshCallbackFired&&(!1!==n&&!1!==this._isRefreshingWithFetch||(this._refreshCallbackTimerId&&(this.info("Cancelling pending onRefreshCallback watchdog"),clearTimeout(this._refreshCallbackTimerId),this._refreshCallbackTimerId=void 0),this._refreshCallbackTimerId=setTimeout((function(){return t.doFireOnRefreshCallBack(r)}),0))),a&&ar(this._updateCallback)&&setTimeout((function(){return t.doFireOnUpdateCallBack(r)}),0)}},{key:"getUserId",value:function(){return!1===this._isExposed?"0":this._userId}},{key:"getLinkType",value:function(){return!1===this._isExposed?0:this._linkType}},{key:"isFromCache",value:function(){return this._fromCache}},{key:"exposeUserId",value:function(){return this._isExposed}},{key:"getUserIdAsEid",value:function(){return{source:Or.zZ,uids:[{atype:1,id:this.getUserId(),ext:{linkType:this.getLinkType(),abTestingControlGroup:!this.exposeUserId()}}]}}},{key:"onAvailable",value:function(e,n){if(!ar(e))throw new Error("onAvailable expect a function");if(ar(this._availableCallback))this.info("onAvailable was already called, ignoring");else{this._availableCallback=e;var r=this;this._userIdAvailable?(this.info("User id already available firing callback immediately"),this._availableCallbackTimerId=setTimeout((function(){return t.doFireOnAvailableCallBack(r)}),0)):n>0&&(this._availableCallbackTimerId=setTimeout((function(){return t.doFireOnAvailableCallBack(r)}),n))}return this}},{key:"onUpdate",value:function(e){if(!ar(e))throw new Error("onUpdate expect a function");this._updateCallback=e;var n=this;return this._userIdAvailable&&setTimeout((function(){return t.doFireOnUpdateCallBack(n)}),0),this}},{key:"onRefresh",value:function(e,n){if(!ar(e))throw new Error("onRefresh expect a function");this._refreshCallbackTimerId&&(clearTimeout(this._refreshCallbackTimerId),this._refreshCallbackTimerId=void 0),this._refreshCallback=e;var r=this;return!0===this._isRefreshing&&!1===this._isRefreshingWithFetch&&this._userIdAvailable?this._refreshCallbackTimerId=setTimeout((function(){return t.doFireOnRefreshCallBack(r)}),0):n>0&&(this._refreshCallbackTimerId=setTimeout((function(){return t.doFireOnRefreshCallBack(r)}),n)),this}},{key:"localStorageGrant",value:function(){return this.clientStore.localStorageGrant()}},{key:"info",value:function(t){Kn(this.invocationId,"Id5Status: "+t)}}])&&co(e.prototype,n),r&&co(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),fo="1.0.32";function vo(t){return vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(t)}function po(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yo(r.key),r)}}function ho(t,e,n){return(e=yo(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yo(t){var e=function(t,e){if("object"!=vo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vo(e)?e:String(e)}var go="_exp",bo=function(){function t(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ho(this,"available",!1),ho(this,"win",void 0),ho(this,"writingEnabled",void 0),this.win=e,this.writingEnabled=n;var r="__id5test";try{this.writingEnabled&&this.win.localStorage.setItem(r,r),this.win.localStorage.removeItem(r),this.available=!0}catch(t){}}var e,n,r;return e=t,(n=[{key:"isAvailable",value:function(){return this.available}},{key:"getItem",value:function(t){if(this.available)return this.win.localStorage.getItem(t)}},{key:"setItem",value:function(t,e){this.available&&this.writingEnabled&&this.win.localStorage.setItem(t,e)}},{key:"removeItem",value:function(t){this.available&&this.win.localStorage.removeItem(t)}},{key:"getItemWithExpiration",value:function(t){var e=t.name,n=this.getItem(e+go);return!n||new Date(n).getTime()-Date.now()<=0?(this.removeItemWithExpiration({name:e}),null):this.getItem(e)}},{key:"setItemWithExpiration",value:function(t,e){var n=t.name,r=t.expiresDays,o=Date.now()+864e5*r,i=new Date(o).toUTCString();this.setItem(n+go,i),this.setItem(n,e)}},{key:"removeItemWithExpiration",value:function(t){var e=t.name;this.removeItem(e),this.removeItem(e+go)}}])&&po(e.prototype,n),r&&po(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();var mo=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))};function wo(t){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(t)}var So=function(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(wo(t)+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,n){if(n&&("object"===wo(n)||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(e){i(t,e)}),(function(n){r[t]={status:"rejected",reason:n},0==--o&&e(r)}))}r[t]={status:"fulfilled",value:n},0==--o&&e(r)}for(var a=0;a<r.length;a++)i(a,r[a])}))};function _o(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}_o.prototype=Error.prototype;var Io=function(t){var e=this;return new e((function(n,r){if(!t||void 0===t.length)return r(new TypeError("Promise.any accepts an array"));var o=Array.prototype.slice.call(t);if(0===o.length)return r();for(var i=[],a=0;a<o.length;a++)try{e.resolve(o[a]).then(n).catch((function(t){i.push(t),i.length===o.length&&r(new _o(i,"All promises were rejected"))}))}catch(t){r(t)}}))};function Oo(t){return Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(t)}var jo=setTimeout;function ko(t){return Boolean(t&&void 0!==t.length)}function Co(){}function Ao(t){if(!(this instanceof Ao))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],zo(t,this)}function Eo(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,Ao._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void To(e.promise,t)}xo(e.promise,r)}else(1===t._state?xo:To)(e.promise,t._value)}))):t._deferreds.push(e)}function xo(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===Oo(e)||"function"==typeof e)){var n=e.then;if(e instanceof Ao)return t._state=3,t._value=e,void Do(t);if("function"==typeof n)return void zo((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,Do(t)}catch(e){To(t,e)}var r,o}function To(t,e){t._state=2,t._value=e,Do(t)}function Do(t){2===t._state&&0===t._deferreds.length&&Ao._immediateFn((function(){t._handled||Ao._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)Eo(t,t._deferreds[e]);t._deferreds=null}function Po(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function zo(t,e){var n=!1;try{t((function(t){n||(n=!0,xo(e,t))}),(function(t){n||(n=!0,To(e,t))}))}catch(t){if(n)return;n=!0,To(e,t)}}Ao.prototype.catch=function(t){return this.then(null,t)},Ao.prototype.then=function(t,e){var n=new this.constructor(Co);return Eo(this,new Po(t,e,n)),n},Ao.prototype.finally=mo,Ao.all=function(t){return new Ao((function(e,n){if(!ko(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,a){try{if(a&&("object"===Oo(a)||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,(function(e){i(t,e)}),n)}r[t]=a,0==--o&&e(r)}catch(t){n(t)}}for(var a=0;a<r.length;a++)i(a,r[a])}))},Ao.any=Io,Ao.allSettled=So,Ao.resolve=function(t){return t&&"object"===Oo(t)&&t.constructor===Ao?t:new Ao((function(e){e(t)}))},Ao.reject=function(t){return new Ao((function(e,n){n(t)}))},Ao.race=function(t){return new Ao((function(e,n){if(!ko(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=t.length;r<o;r++)Ao.resolve(t[r]).then(e,n)}))},Ao._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){jo(t,0)},Ao._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Lo=Ao;var No,Ro=(window,void 0!==(No=window)&&void 0!==No.Promise?No.Promise:Lo);function Uo(t){return Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(t)}function Fo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fo(Object(n),!0).forEach((function(e){Mo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mo(t,e,n){return(e=Ho(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ho(r.key),r)}}function Ho(t){var e=function(t,e){if("object"!=Uo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Uo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Uo(e)?e:String(e)}var Go=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,n=[{key:"gather",value:function(t){var e={lbCDN:"%%LB_CDN%%"},n=function(n,r){try{return JSON.parse(r)}catch(o){return tr(t,"Cannot parse the JSON  response from: ".concat(n),r),e}};return Ro.allSettled([function(t,r){return new Ro((function(o){br(t,{success:function(e){var r=n(t,e);o(r)},error:function(n){Qn(r,"Got error from ".concat(t," endpoint"),n),o(e)}},null)}))}("https://lb.eu-1-id5-sync.com/lb/v1",t)]).then((function(t){var n=e;return t.forEach((function(t){t.value&&(n=Vo(Vo({},n),t.value))})),n})).catch((function(n){return tr(t,"Got error ".concat(n," when gathering extensions data")),e}))}}],n&&Bo(e.prototype,n),r&&Bo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Wo=new Go;function $o(t){return $o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(t)}function qo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Jo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jo(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yo(r.key),r)}}function Xo(t,e,n){return(e=Yo(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yo(t){var e=function(t,e){if("object"!=$o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$o(e)?e:String(e)}var Ko="https://id5-sync.com",Qo=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Xo(this,"loaded",!1),Xo(this,"_isUsingCdn",!1),Xo(this,"_referer",!1),Xo(this,"_version",fo),Xo(this,"versions",{}),Xo(this,"invocationId",0),this.loaded=!0,this._isUsingCdn=!!(document&&document.currentScript&&document.currentScript.src&&0===document.currentScript.src.indexOf("https://cdn.id5-sync.com")),this._referer=Ir(),this.versions[fo]=!0}var e,n,r;return e=t,n=[{key:"debug",get:function(){return rr()},set:function(t){nr(t)}},{key:"init",value:function(t){var e=this.invocationId;this.invocationId+=1;try{Kn(e,"ID5 API version ".concat(this._version,". Invoking init()"),t);var n=new Qr(e,t),r=n.getOptions(),o=new bo(window.top,!r.applyCreativeRestrictions),i=new io(window,!r.disableLiveIntentIntegration,e,o,n.storageConfig),a=new Fr(e,o,n.storageConfig),c=new Gr(e,(function(){return a.localStorageGrant(r.allowLocalStorageWithoutConsentApi,r.debugBypassConsent)}),o,n.storageConfig),u=new lo(e,n,c,a,i);return this.getId(u,!1),Kn(e,"ID5 initialized for partner ".concat(r.partnerId," with referer ").concat(this._referer.referer," and options"),t),u}catch(t){tr(e,"Exception caught during init()",t)}}},{key:"refreshId",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!fr(e))throw new Error("Invalid signature for refreshId(): second parameter must be a boolean");try{Kn(t.invocationId,"Invoking refreshId()",arguments),t.startRefresh(e),t.updateOptions(n),t.consentManagement.resetConsentData(),this.getId(t,e)}catch(e){tr(t.invocationId,"Exception caught from refreshId()",e)}return t}},{key:"getId",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];dr(window.navigator.userAgentData)&&!t.getOptions().disableUaHints?this.gatherUaHints().then((function(r){return e.getIdWithUaHints(t,(i=/[()-.:;=?_/]/g,ur((o=r).brands)&&(o.brands=Sr(o.brands,(function(t){return cr(t.brand)&&t.brand.search(i)<0}))),ur(o.fullVersionList)&&(o.fullVersionList=Sr(o.fullVersionList,(function(t){return cr(t.brand)&&t.brand.search(i)<0}))),o),n);var o,i})).catch((function(r){tr("Error while calling navigator.userAgentData.getHighEntropyValues()",r),e.getIdWithUaHints(t,void 0,n)})):this.getIdWithUaHints(t,void 0,n)}},{key:"getIdWithUaHints",value:function(t,e,n){var r,o,i,a=this,c=t.getOptions(),u=0,s=!1,l=!1,f=!1,d=!1,v=c.refreshInSeconds,p=t.localStorageGrant();p.isDefinitivelyAllowed()&&(Kn(t.invocationId,"Using local storage for cached ID",p),r=t.clientStore.getResponse(),o=t.clientStore.getDateTime(),sr(null===(i=r)||void 0===i||null===(i=i.cache_control)||void 0===i?void 0:i.max_age_sec)&&(v=r.cache_control.max_age_sec),s=o<=0||Date.now()-o>1e3*v,u=t.clientStore.getNb(c.partnerId),l=!t.clientStore.isStoredPdUpToDate(c.partnerId,c.pd),f=!t.clientStore.storedSegmentsMatchesSegments(c.partnerId,c.segments)),r||(Kn(t.invocationId,"No cached ID found"),r=t.clientStore.getResponseFromLegacyCookie(),s=!0),r&&r.universal_uid&&!l&&!f?(Kn(t.invocationId,"ID5 User ID available from cache:",{storedResponse:r,storedDateTime:o,refreshNeeded:s}),o<=0||Date.now()-o>12096e5||(t.setUserId(r,!0),u=t.clientStore.incNb(c.partnerId,u),d=!0)):r&&r.universal_uid&&l?Kn(t.invocationId,"PD value has changed, so ignoring User ID from cache"):r&&r.universal_uid&&f?Kn(t.invocationId,"Segments have changed, so ignoring User ID from cache"):r&&!r.universal_uid?tr(t.invocationId,"Invalid stored response: ",r):Kn(t.invocationId,"No ID5 User ID available from cache"),t.consentManagement.requestConsent(c.debugBypassConsent,c.cmpApi,c.consentData,(function(o){var i=t.localStorageGrant();if(Kn(t.invocationId,"Local storage grant",i),i.allowed){r=t.clientStore.getResponse()||t.clientStore.getResponseFromLegacyCookie();var p=!t.clientStore.storedConsentDataMatchesConsentData(o);t.clientStore.putHashedConsentData(o),!t.clientStore.isStoredPdUpToDate(c.partnerId,c.pd)&&t.clientStore.putHashedPd(c.partnerId,c.pd),t.clientStore.putHashedSegments(c.partnerId,c.segments);var h=!r||!r.universal_uid||!r.signature;if(h||s||p||l||f||n){Kn(t.invocationId,"Decided to fetch a fresh ID5 ID",{missingStoredData:h,refreshInSecondsHasElapsed:s,consentHasChanged:p,pdHasChanged:l,segmentsHaveChanged:f,forceFetch:n});var y=a.gatherData(c,t,u,o,r,e,v,t.getProvidedOptions());Wo.gather(t.invocationId).then((function(e){y.extensions=e,a.fetchFreshID5ID(y,c,o,t,n,d)}))}}else Kn(t.invocationId,"No legal basis to use ID5",o)}))}},{key:"gatherData",value:function(t,e,n,r,o,i,a,c){var u={partner:t.partnerId,v:this._version,o:"api",tml:this._referer.topmostLocation,ref:this._referer.ref,cu:this._referer.canonicalUrl,u:this._referer.stack[0]||window.location.href,top:this._referer.reachedTop?1:0,localStorage:e.clientStore.isLocalStorageAvailable()?1:0,nbPage:n,id5cdn:this._isUsingCdn,ua:window.navigator.userAgent,att:t.att},s=r.gdprApplies;dr(s)&&(u.gdpr=s?1:0);var l=r.consentString;dr(l)&&(u.gdpr_consent=l),dr(r.allowedVendors)&&(u.allowed_vendors=r.allowedVendors);var f=o&&o.signature?o.signature:void 0;return dr(f)&&(u.s=f),dr(i)&&(u.ua_hints=i),r.hasCcpaString&&(u.us_privacy=r.ccpaString),e.liveIntentApi.hasLiveIntentId()&&(u.li=e.liveIntentApi.getLiveIntentId()),function(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=[e[n],t[e[n]]];return r}({pd:"pd",partnerUserId:"puid",provider:"provider",segments:"segments"}).forEach((function(e){var n=qo(e,2),r=n[0],o=n[1];dr(t[r])&&(u[o]=t[r])})),!0===t.abTesting.enabled&&(u.ab_testing={enabled:!0,control_group_pct:e.getOptions().abTesting.controlGroupPct}),e.getInvalidSegments()>0&&(u._invalid_segments=e.getInvalidSegments()),Zn&&(u._trace=!0),u.provided_options={refresh_in_seconds:c.refreshInSeconds},u.used_refresh_in_seconds=a,u}},{key:"fetchFreshID5ID",value:function(t,e,n,r,o,i){var a="".concat(Ko,"/g/v2/").concat(e.partnerId,".json");Kn(r.invocationId,"Fetching ID5 ID (forceFetch:".concat(o,") from:"),a,t),br(a,{success:this.handleSuccessfulFetchResponse(r,e,i,n),error:function(t){tr(r.invocationId,"Error during AJAX request to ID5 server",t)}},JSON.stringify(t),{method:"POST",withCredentials:!0})}},{key:"handleSuccessfulFetchResponse",value:function(t,e,n,r){var o=this;return function(i){var a=o.validateResponseIsCorrectJson(i,t,"fetch");if(a)if(cr(a.universal_uid)){Kn(t.invocationId,"Valid json response from ID5 received",a);try{t.setUserId(a,!1),t.consentManagement.setStoredPrivacy(a.privacy);var c=t.localStorageGrant();if(c.isDefinitivelyAllowed()?(Kn(t.invocationId,"Storing ID in cache"),t.clientStore.putResponse(i),t.clientStore.setDateTime((new Date).toUTCString()),t.clientStore.setNb(e.partnerId,n?0:1)):(Kn(t.invocationId,"Cannot use local storage to cache ID",c),t.clientStore.clearAll(e.partnerId)),t.clientStore.removeLegacyCookies(e.partnerId),!0===a.cascade_needed&&c.isDefinitivelyAllowed()&&e.maxCascades>=0&&!e.applyCreativeRestrictions){var u=e.partnerUserId&&e.partnerUserId.length>0,s="".concat(Ko,"/").concat(u?"s":"i","/").concat(e.partnerId,"/").concat(e.maxCascades,".gif?id5id=").concat(t._userId,"&o=api&").concat(u?"puid="+e.partnerUserId+"&":"","gdpr_consent=").concat(r.consentString,"&gdpr=").concat(r.gdprApplies);Kn(t.invocationId,"Opportunities to cascade available",s),function(t,e,n){"loading"!==document.readyState?mr(t,e,n):document.addEventListener("DOMContentLoaded",(function(){mr(t,e,n)}))}(s)}}catch(e){tr(t.invocationId,"Error during processing of valid ID5 server response",a,e)}}else tr(t.invocationId,"Server response failed to validate",a)}}},{key:"validateResponseIsCorrectJson",value:function(t,e,n){if(!t||!cr(t)||t.length<1)tr(e.invocationId,"Empty ".concat(n,' response from ID5 servers: "').concat(t,'"'));else try{return JSON.parse(t)}catch(r){tr(e.invocationId,"Cannot parse the JSON server ".concat(n," response"),t)}return null}},{key:"gatherUaHints",value:function(){return window.navigator.userAgentData.getHighEntropyValues(["architecture","fullVersionList","model","platformVersion"])}}],n&&Zo(e.prototype,n),r&&Zo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),ti=new Qo;function ei(t){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(t)}function ni(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ni=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),c=new x(r||[]);return o(a,"_invoke",{value:k(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",v="suspendedYield",p="executing",h="completed",y={};function g(){}function b(){}function m(){}var w={};s(w,a,(function(){return this}));var S=Object.getPrototypeOf,_=S&&S(S(T([])));_&&_!==n&&r.call(_,a)&&(w=_);var I=m.prototype=g.prototype=Object.create(w);function O(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function n(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==ei(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,n,r){var o=d;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=C(c,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var s=f(e,n,r);if("normal"===s.type){if(o=r.done?h:v,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=h,r.method="throw",r.arg=s.arg)}}}function C(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(ei(e)+" is not iterable")}return b.prototype=m,o(I,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:b,configurable:!0}),b.displayName=s(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,u,"GeneratorFunction")),t.prototype=Object.create(I),t},e.awrap=function(t){return{__await:t}},O(j.prototype),s(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new j(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(I),s(I,u,"Generator"),s(I,a,(function(){return this})),s(I,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}var ri=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},oi=null,ii=function(){return new Promise((function(t){var e,n,r,o;(null===(n=null===(e=window.location)||void 0===e?void 0:e.href)||void 0===n?void 0:n.includes("allow_hostname_for_id5=1"))||["horoskopy.cz","novinky.cz","prozeny.cz","super.cz"].includes(null===(o=null===(r=window.location)||void 0===r?void 0:r.hostname)||void 0===o?void 0:o.replace(/^www\./,""))?t(!0):t(!1)}))},ai=function(t){oi||((oi=ti.init({partnerId:265,cmpApi:"iab"})).onAvailable(t,Ae),oi.onUpdate(t,Ae))},ci=function(t,e){return ri(void 0,void 0,void 0,ni().mark((function n(){var r,o,i;return ni().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(ae.login);case 2:return o=n.sent,i=t(ae.consent),n.abrupt("return",(!(null==o?void 0:o.value)||!bn()||"forget"===o.value.state)&&(null===(r=null==i?void 0:i.value)||void 0===r?void 0:r.purposeOne));case 5:case"end":return n.stop()}}),n)})))};function ui(t){return ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(t)}var si,li,fi,di=function(t){Xe(ae.consent)&&function(t){var e=On();e&&(t[ae.consent]=vn(t[ae.consent],e,oe.fresh,!0))}(t),Xe(ae.login)&&function(t){var e=mn();e&&(t[ae.login]=vn(t[ae.login],e,oe.fresh,!0))}(t),Xe(ae.udid)&&function(t){var e=jn();e&&(t[ae.udid]=vn(t[ae.udid],e,oe.fresh,!0))}(t),Xe(ae.sid)&&function(t){var e=kn();e&&(t[ae.sid]=vn(t[ae.sid],e,oe.fresh,!0))}(t),Xe(ae.secid)&&function(t){var e,n,r=t[ae.consent];if(Le&&window.sssp&&Pn(r)){var o=null===(n=null===(e=null==t?void 0:t.login)||void 0===e?void 0:e.value)||void 0===n?void 0:n.pid,i=Dn(o);i&&(t[ae.secid]=vn(t[ae.secid],i,oe.fresh,!0))}}(t)},vi=function(t,e,n,r){var o=function(e){var r;return null!==(r=n()[e])&&void 0!==r?r:t[e]};Xe(ae.consent)&&function(t,e){var n,r,o,i=function(n){var r,o,i=e(ae.consent),a=n||On();if(a||i){var c=a||i.value,u=a?oe.fresh:i.state,s=wn(null===(r=e(ae.login))||void 0===r?void 0:r.value),l={consent:{value:(null==s?void 0:s.v2)&&(null==s?void 0:s.v2.encodedCookie)!==(null==c?void 0:c.consentString)?null:c,state:u}};In&&(null==s?void 0:s.v2)&&(l.consent.value=_n("v2",s.v2.encodedCookie)),In=!1,(null===(o=l.consent.value)||void 0===o?void 0:o.purposeOne)||(l.id5={value:null,state:oe.fresh}),t(l)}},a=!1,c=null;o=window.setTimeout((function(){window.clearInterval(c),In=!0,i()}),(null===(r=null===(n=Ze())||void 0===n?void 0:n.timeouts)||void 0===r?void 0:r[ae.consent])||Ae);var u=function(){if("function"==typeof window.__tcfapi){a=!0,window.clearInterval(c);var t=function(t){t&&(window.clearTimeout(o),i(t))},e=On((function(e){t(e)}));t(e)}};u(),a||(c=window.setInterval((function(){u()}),500));var s=function(){window.clearTimeout(o),window.clearInterval(c),i()};window.addEventListener("scmp_redirect_done",s),window.addEventListener("scmp_ready",s),window.addEventListener("scmp_agreed",s),window.addEventListener("scmp_consent_set",s)}(e,o),Xe(ae.login)&&function(t,e){var n,r,o=function(){var n,r=e(ae.login),o=mn();if(o||r){var i={login:{value:o||r.value,state:o?oe.fresh:r.state}},a=null==o?void 0:o.advert_uid,c=null===(n=null==r?void 0:r.value)||void 0===n?void 0:n.advert_uid;if((a||c)&&a!==c&&(i.consent={value:null,state:oe.fresh},a&&(i.id5={value:null,state:oe.fresh})),Sn(o)){var u=_n("v2",wn(o).v2.encodedCookie);i.consent={value:u,state:oe.fresh}}t(i)}},i=window.setTimeout((function(){o()}),(null===(r=null===(n=Ze())||void 0===n?void 0:n.timeouts)||void 0===r?void 0:r[ae.login])||Ae),a=function(){window.clearTimeout(i),o()};window.addEventListener("badge",a),window.addEventListener("login",a),window.addEventListener("logout",a),window.addEventListener("forget",a)}(e,o),Xe(ae.udid)&&function(t,e){var n,r,o=function(){var n=e(ae.udid),r=jn();if(r||n){var o=r||n.value,i=r?oe.fresh:n.state;t({udid:{value:o,state:i}})}},i=window.setTimeout((function(){o()}),(null===(r=null===(n=Ze())||void 0===n?void 0:n.timeouts)||void 0===r?void 0:r[ae.udid])||Ae);window.addEventListener("szn:marker:cookie",(function(){window.clearTimeout(i),o()}))}(e,o),Xe(ae.sid)&&function(t,e){var n,r,o=function(){var n=e(ae.sid),r=kn();if(r||n){var o=r||n.value,i=r?oe.fresh:n.state;t({sid:{value:o,state:i}})}},i=window.setTimeout((function(){o()}),(null===(r=null===(n=Ze())||void 0===n?void 0:n.timeouts)||void 0===r?void 0:r[ae.sid])||Ae),a=function(){window.clearTimeout(i),o()};window.addEventListener("szn:dot:cookie",a),window.addEventListener("szn:linkdecoration:sid",a)}(e,o),Xe(ae.secid)&&function(t,e){var n,r,o=function(){return Tn(void 0,void 0,void 0,xn().mark((function n(){var r,o,i,a,c,u,s,l,f,d,v,p,h;return xn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e(ae.consent),Le&&window.sssp&&Pn(o)){n.next=3;break}return n.abrupt("return");case 3:if(i=e(ae.login),a=null===(r=null==i?void 0:i.value)||void 0===r?void 0:r.pid,c=e(ae.secid),u=null==c?void 0:c.value,s=a&&Dn(a),l=!!s&&Nn(a,s),(null==i?void 0:i.state)!==oe.fresh||(null==c?void 0:c.state)!==oe.fresh||!Nn(a,u)){n.next=11;break}return n.abrupt("return");case 11:if(!(a&&s&&l)){n.next=15;break}t({secid:{value:s,state:oe.fresh}}),n.next=25;break;case 15:if(!a){n.next=25;break}return t({secid:{value:null,state:oe.fresh}}),n.next=19,zn(a);case 19:if(f=n.sent){n.next=22;break}return n.abrupt("return");case 22:d=f.current,v=d.secondaryId,p=d.expireAt,h=f.primaryId,t({secid:{value:v,state:oe.fresh}}),Ln(h,v,p);case 25:case"end":return n.stop()}}),n)})))},i=window.setTimeout((function(){o()}),(null===(r=null===(n=Ze())||void 0===n?void 0:n.timeouts)||void 0===r?void 0:r[ae.secid])||Ae),a=function(){window.clearTimeout(i),o()};window.addEventListener("ssploaded",(function(){a()})),window.addEventListener(je,(function(t){t.detail.changes.includes(ae.login)&&a()})),window.addEventListener("szn:czechid:secid",a)}(e,o),Xe(ae.id5)&&function(t,e,n){ri(void 0,void 0,void 0,ni().mark((function r(){var o;return ni().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ri(void 0,void 0,void 0,ni().mark((function t(){var e,n;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ii();case 2:if(e=t.sent,n=qe()||Je(),Rn&&n&&e){t.next=6;break}return t.abrupt("return",!1);case 6:return t.abrupt("return",!0);case 7:case"end":return t.stop()}}),t)})));case 2:if(r.sent){r.next=4;break}return r.abrupt("return");case 4:(o=function(){return ri(void 0,void 0,void 0,ni().mark((function r(){return ni().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ci(e,n);case 2:if(r.sent){r.next=4;break}return r.abrupt("return");case 4:ai((function(r){return ri(void 0,void 0,void 0,ni().mark((function o(){var i;return ni().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ci(e,n);case 2:if(o.sent){o.next=4;break}return o.abrupt("return");case 4:(i=r.getUserId())&&t({id5:{value:i}});case 6:case"end":return o.stop()}}),o)})))}));case 6:case"end":return r.stop()}}),r)})))})(),window.addEventListener(je,(function(t){var e=t.detail.changes;(e.includes(ae.login)||e.includes(ae.consent))&&o()}));case 7:case"end":return r.stop()}}),r)})))}(e,o,r)},pi=(si={},li=ae.login,fi=function(t){return window.setTimeout((function(){if(!(null===(e=window.DOT)||void 0===e?void 0:e.getCfgValue(fe.badge))&&!Un.hasLoginBadge)return t(null);var e}),Ee)},li=function(t){var e=function(t,e){if("object"!=ui(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ui(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ui(e)?e:String(e)}(li),li in si?Object.defineProperty(si,li,{value:fi,enumerable:!0,configurable:!0,writable:!0}):si[li]=fi,si),hi=function(t,e){var n=new CustomEvent(t,{detail:e||null});window.dispatchEvent(n)},yi=[],gi=function(t){if(yi.length){var e=null;yi.forEach((function(n){var r;n.rich||e||(r=t.identities,e=Object.keys(r).reduce((function(t,e){return t[e]=r[e].value,t}),{})),n.callback(Object.assign(Object.assign({},t),{identities:n.rich?t.identities:e}))}))}},bi=function(t,e,n){t&&function(t){Re(Ie,t)}(t),gi({identities:e,changes:n}),hi(je,{identities:e,changes:n}),Fn({identities:e}),De("Cached and notified")},mi=function(t,e){var n={};return Object.keys(t).reduce((function(r,o){var i=o,a=t[o];o in ce&&((i=e(o,a,n))&&(a=n[i]));return i&&a&&(r[i]={value:a}),r}),{})},wi=function(t,e){var n={};return We(e)?(Object.keys(e).forEach((function(r){if(fn(r)){var o=r,i=e[o],a=dn(o,i.value);if(!Xe(o)||!a.ok)return;i.value=a.value;var c=Object.assign({state:oe.fresh,settled:!0},i);n[o]=vn(t[o],c.value,c.state,!0)}})),n):(De({type:"warn",message:"Submited identities data are invalid",newIdentities:e}),{})},Si=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},xe),t)},_i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};for(var r in ae)n[r]=Si(Object.assign(Object.assign({},t),e[r]||{}));return n},Ii=function(t){var e,n,r;if(t&&"function"==typeof(null===(e=null===window||void 0===window?void 0:window.scmp)||void 0===e?void 0:e.initCmpApi)&&"function"==typeof(null===(n=null===window||void 0===window?void 0:window.scmp)||void 0===n?void 0:n.getTcStringFromCmpApi)&&"function"==typeof(null===(r=null===window||void 0===window?void 0:window.scmp)||void 0===r?void 0:r.updateCmpApi)){var o=window.scmp.getTcStringFromCmpApi();null===o&&(window.scmp.initCmpApi(),window.scmp.updateCmpApi(t)),""===o&&window.scmp.updateCmpApi(t)}},Oi=function(){var t,e,n,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||(null===(n=null===(e=null===(t=null===window||void 0===window?void 0:window.sznIVA)||void 0===t?void 0:t.IS)||void 0===e?void 0:e._storage)||void 0===n?void 0:n.identities);if(!r)return{};var o=Fe(r);try{return o?JSON.parse(o):{}}catch(t){return De({type:"warn",message:"Storage could not be decoded, setting empty object",err:t}),{}}},ji=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ue(JSON.stringify(t));return e?n:Ve()._storage.identities=n},ki=function(){var t,e,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||!(null===(e=null===(t=Ve())||void 0===t?void 0:t._storage)||void 0===e?void 0:e.inited)){De("Storage initializing");var i=Ne(Ie),a={},c={};try{c=Oi(i);var u=Object.keys(c).filter((function(t){return t in ae}));u.length&&(a=u.reduce((function(t,e){var n=c[e];return fn(e)&&Xe(e)&&n.updated>=Date.now()-36e5&&(t[e]=Object.assign(Object.assign({},n),{state:oe.cache,settled:!1})),t}),{}))}catch(t){De({type:"error",message:"Storage cache could not be decoded / inited",err:t})}a=Object.assign(Object.assign({},a),o);var s=function(){return Ci(_i({rich:!0}))};di(a),De({message:"Storage initialized",initObject:a}),window.sznIVA=Object.assign(Object.assign({},window.sznIVA||{}),{IS:Object.assign(Object.assign({},Ve()||{}),{_childFramesToFeed:[],_storage:{identities:Object.keys(a).length&&ji(a,!0)||null,inited:!0}})}),Rn||Ii(null===(r=null===(n=null==a?void 0:a.consent)||void 0===n?void 0:n.value)||void 0===r?void 0:r.consentString),vi(a,xi,s,(function(t){return Ei(t,{rich:!0})})),bi(Ve()._storage.identities,a,Object.keys(a)),Vn(xi,s)}},Ci=function(t){try{var e=Oi(),n=Object.keys(e).reduce((function(n,r){var o=r,i=t[o],a=i.rich,c=i.justSettled,u=i.cacheEnough,s=e[o];return fn(o)&&Xe(o)&&hn(s,u,c)&&(n[o]=pn(s,a)),n}),{});return n}catch(t){return De({type:"warn",message:"Can not read storage, returning {}",err:t}),{}}},Ai=function(t,e){var n=t.split(".")[0];if(!Xe(n))return null;var r=Si(e),o=r.rich,i=r.justSettled,a=r.cacheEnough;if(!fn(t))return De({type:"warn",message:"Identity identificator (".concat(t,") not valid, returning NULL")}),null;try{var c=Oi()[n];return c&&hn(c,a,i)?function(t,e){var n,r,o=t.split(".").slice(1),i=(null==e?void 0:e.value)||e,a=We(i),c=!!(null==e?void 0:e.value),u=null;return u=o.length?a&&null!==(r=i,n=o.reduce((function(t,e){return(t||{})[e]}),r))&&void 0!==n?n:null:i,c?null!==u?Object.assign(Object.assign({},e),{value:u}):null:u}(t,pn(c,o)):null}catch(t){return De({type:"warn",message:"Identity could not be retrived, returning NULL",err:t}),null}},Ei=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(!Xe(t))return Promise.resolve(null);var i=function(e){return o&&ze({data:{action:"IS-awaitStorageItem-timeout",identificator:t,type:e}})},a=Si(e),c=a.rich,u=a.cacheEnough;return new Promise((function(e){var o,a,s=Ai(t,{rich:!0,cacheEnough:u});if(s&&hn(s,u)&&(!r||r(s)))e(pn(s,c));else{var l=null,f=null,d=function(){f&&window.clearTimeout(f),l&&window.clearTimeout(l)};n||(l=window.setTimeout((function(){var n=Ai(t,{rich:!0,cacheEnough:u});d(),i("normal"),e(n?pn(n,c):null)}),(null===(a=null===(o=Ze())||void 0===o?void 0:o.timeouts)||void 0===a?void 0:a[t])||Ae)),!n&&pi[t]&&(f=pi[t]((function(t){d(),i("premature"),e(t)})));window.addEventListener(je,(function n(o){var i,a,s,l=o.detail;~(null===(i=null==l?void 0:l.changes)||void 0===i?void 0:i.indexOf(t))&&hn(null===(a=null==l?void 0:l.identities)||void 0===a?void 0:a[t],u)&&(!r||r(null===(s=null==l?void 0:l.identities)||void 0===s?void 0:s[t]))&&(window.removeEventListener(je,n),d(),e(pn(o.detail.identities[t],c)))}))}}))},xi=function(t){var e,n;if(De({message:"Updating storage",identities:t}),t){var r=Oi(),o=wi(r,t),i=Object.keys(o);if(Rn||Ii(null===(n=null===(e=null==o?void 0:o.consent)||void 0===e?void 0:e.value)||void 0===n?void 0:n.consentString),i.length){var a=i.filter((function(t){var e,n,i=o[t]||{},a=r[t]||{};return(void 0!==a.value||null!==i.value)&&(e=i.value,n=a.value,!He()(e,n)||i.state!==a.state||i.settled!==a.settled)}));if(a.length){var c=Object.assign(Object.assign({},r||{}),o),u=Object.keys(c).reduce((function(t,e){return null!==c[e].value?t[e]=c[e]:De({message:"Removing identity with NULL value",key:e}),t}),{});De({message:"Updating storage - after cleanup",newStorageCleaned:u}),hi("szn:identities:beforeupdate",{oldIdentities:r,newIdentities:u,changes:a}),bi(ji(u),u,a)}}else De({message:"No identities to update after sanitizing / validation",identities:t})}else De({type:"error",message:"Invalid identities object",identities:t})},Ti=function(t,e,n){var r=dn(t,e);if(!r.ok)return null;if(~[ce.rusId,ce.said,ce.premium,ce.state,ce.pid,ce.login].indexOf(t)){if(We(n.login)||(n.login=Ai("login",{rich:!1,cacheEnough:!0,justSettled:!1})||{}),t===ce.rusId&&!mn())return n.login.uid=r.value,"login";if(t===ce.said&&!mn())return n.login.advert_uid=r.value,n.login.said=r.value,"login";if(t===ce.premium&&!mn())return n.login.premium=r.value,"login";if(t===ce.state&&!mn())return n.login.state=r.value,"login";if(t===ce.login)return n.login=r.value,n.login.rusId&&!n.login.uid&&(n.login.uid=r.value.rusId,delete n.login.rusId),n.login.said&&!n.login.advert_uid&&(n.login.advert_uid=r.value.said),"login"}return null};function Di(t,e,n){return e=function(t){var e=function(t,e){if("object"!=Pi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Pi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pi(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pi(t){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(t)}var zi=Di(Di(Di(Di(Di(Di(Di(Di(Di({},ae.sid,(function(t){return Pi(t)===ie.string})),ae.udid,(function(t){return Pi(t)===ie.string})),ae.secid,(function(t){return Pi(t)===ie.string})),ae.login,["state","uid","premium","advert_uid","pid","said","others"]),ae.eid,(function(t){return $e(t)})),ae.tid,[le.areaCode,le.number]),ae.aid,[se.state,se.city,se.street,se.houseNumber,se.postalCode]),ae.consent,["consentString","name","version","purposeOne"]),ae.id5,(function(t){return Pi(t)===ie.string})),Li=function(){return wi({},mi(Ye(),Ti))};ki(!1,Li());var Ni={_init:function(){return ki(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Li():{})},getIdentity:function(t){var e;return null!==(e=Ai(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{rich:!1,justSettled:!0}))&&void 0!==e?e:null},getIdentitySettled:function(t){return Ei(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{rich:!1},arguments.length>2&&void 0!==arguments[2]&&arguments[2])},getIdentities:function(){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=_i((arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe)||xe,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})||{});return function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&We(t)&&!Object.keys(t).length?null:t}(Ci(e),t)},updateIdentities:function(t){return xi(mi(t,Ti))},clearIdentities:function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.values(ae),e=Oi();if(Object.keys(e).length){var n=t.reduce((function(t,e){return void 0!==t.storage[e]&&(delete t.storage[e],t.changes.push(e)),t}),{storage:Object.assign({},e),changes:[]});if(!n.changes.length)return;bi(ji(n.storage),n.storage,n.changes)}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.values(ae))},subscribeIdentities:function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return yi.push({callback:t,rich:e}),function(){yi=yi.map((function(e){return e.callback===t?null:e})).filter(Boolean)}}(t,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},prepareIdsForBe:function(t){if(We(t)&&Object.keys(t).length){var e=function(t,e){var n={identities:{},version:1};return n.identities=t,n}(t);return Object.assign(Object.assign({},function(t){return Object.keys(t).reduce((function(e,n){var r=n,o=t[r],i=zi[r];return void 0!==i&&(Array.isArray(i)&&We(o)?e[r]=function(t,e){return e.reduce((function(e,n){var r=t[n];return void 0!==r&&(e[n]=r),e}),{})}(o,i):"function"==typeof i&&i(o)&&(e[r]=o)),e}),{})}(e.identities)),{_version:e.version})}return null},getViableLoginIdentity:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{rich:!1},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ei(ae.login,t,e,(function(t){var e=(null==t?void 0:t.value)||{};return!(!e.state||!(e.advert_uid||e.said||e.uid)||!0!==e.premium&&!1!==e.premium)}),!0)}};window.sznIVA.IS=Object.assign(Object.assign(Object.assign({},Ve()||{}),Ni),{_metadata:{v:"2.10.1"}}),hi("szn:identities:ready");var Ri=Ni,Ui=function(){var t=Ri.getIdentities({cacheEnough:!0,justSettled:!1},{login:{justSettled:!0,cacheEnough:!1}},!0);return Ri.prepareIdsForBe(t)};function Fi(t){return Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(t)}function Vi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mi(r.key),r)}}function Mi(t){var e=function(t,e){if("object"!=Fi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Fi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fi(e)?e:String(e)}function Bi(t,e){Gi(t,e),e.add(t)}function Hi(t,e,n){Gi(t,e),e.set(t,n)}function Gi(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Wi(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function $i(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Ji(t,e,"get"))}function qi(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Ji(t,e,"set"),n),n}function Ji(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Zi=new WeakMap,Xi=new WeakMap,Yi=new WeakMap,Ki=new WeakMap,Qi=new WeakSet,ta=new WeakSet,ea=new WeakSet,na=new WeakSet,ra=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Bi(this,na),Bi(this,ea),Bi(this,ta),Bi(this,Qi),Hi(this,Zi,{writable:!0,value:""}),Hi(this,Xi,{writable:!0,value:!0}),Hi(this,Yi,{writable:!0,value:function(){}}),Hi(this,Ki,{writable:!0,value:2048}),qi(this,Zi,e),n&&qi(this,Yi,n)}var e,n,r;return e=t,n=[{key:"appendValue",value:function(t,e){return Wi(this,Qi,oa).call(this,e)&&Wi(this,na,ca).call(this,Wi(this,ea,aa).call(this,t)+"="+Wi(this,ea,aa).call(this,e)),this}},{key:"appendObject",value:function(t,e){return e&&Wi(this,na,ca).call(this,Wi(this,ea,aa).call(this,t)+"="+Wi(this,ea,aa).call(this,JSON.stringify(e))),this}},{key:"appendArray",value:function(t,e){var n=this;return Array.isArray(e)&&e.forEach((function(e){return n.appendValue(t,e)})),this}},{key:"send",value:function(){$i(this,Yi).call(this,"Sending hit to this address: ".concat($i(this,Zi))),(new Image).src=$i(this,Zi)}}],n&&Vi(e.prototype,n),r&&Vi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function oa(t){return!(("number"!=typeof t||isNaN(t))&&!t)}function ia(){return $i(this,Xi)?(qi(this,Xi,!1),"?"):"&"}function aa(t){return encodeURIComponent(t)}function ca(t){var e=$i(this,Zi)+Wi(this,ta,ia).call(this)+t;e.length<$i(this,Ki)&&qi(this,Zi,e)}var ua=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!t||!t.rtgId)return e("error",'RetargetingHit has not been sent. No required fields "conf" or "conf.rtgId".'),!1;var n=t.rtgId,r=t.category,o=t.itemId,i=t.pageType,a=t.rtgUrl,c=t.productIds,u=t.consent,s=t.said,l=t.eid;he(u);var f=(window.rc||{}).internal,d=u||f,v=f&&ye(_e),p=ye(we),h=d&&dt(p)?p:"",y=ye(Se),g=d?y:"";l&&Ri.updateIdentities({eid:l});var b=Ui();e({message:"got following retargeting data:",rtgId:n,category:r,itemId:o,pageType:i,rtgUrl:a,productIds:c,euconsentV2:v,sid:h,sznaiid:g,consent:u,said:s,ids:b});var m=f?null:ve(u);return new ra("https://c.seznam.cz/retargeting",e).appendValue("id",n).appendValue("category",r).appendValue("itemId",o).appendValue("url",function(){e({message:"Generating retargeting URL",internal:f,category:r,rtgUrl:a});var t=ge(a,r,f);return e({message:"Final retargeting URL",finalRetURL:t}),t}()).appendValue("pageType",i).appendValue("euconsent",v).appendValue("dsid",h).appendValue("sznaiid",g).appendArray("productIds",c).appendValue("consent",m).appendValue("said",s).appendObject("ids",b).send(),!0};function sa(t){return sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sa(t)}function la(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fa(t,e,n){return e=function(t){var e=function(t,e){if("object"!=sa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sa(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var da=function(t){window.ZboziConversionObject="zbozi",window.zbozi=function(){Qt(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?la(Object(n),!0).forEach((function(e){fa(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):la(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({message:"window.zbozi called with"},arguments)),(window.zbozi.q=window.zbozi.q||[]).push(arguments),window.zbozi.key=t}},va=function(t){var e=document.createElement("script");e.async=!0;var n="".concat("https://www.zbozi.cz/conversion/js/conv").concat("v3"===t?"-v3":"",".js");e.src=n;var r=document.getElementsByTagName("script")[0];r&&r.parentNode.insertBefore(e,r)},pa=function(t){if(null!=t&&t.zboziId&&null!=t&&t.orderId&&null!=t&&t.conversionHitId){var e=t.value,n=t.orderId,r=t.zboziType,o=t.zboziId,i=t.consent,a=t.conversionHitId;if(Qt({message:"processZboziConversion with",zboziType:r,zboziId:o,orderId:n,consent:i,conversionHitId:a}),"standard"!==r&&"sandbox"!==r&&r||(da(o),"sandbox"===r&&window.zbozi("useSandbox"),va("v3")),"limited"===r&&(da(o),va()),window.zbozi){var c={orderId:n};1!==i&&0!==i||(c.consent=i),"limited"===r&&e&&(c.totalPrice=e),c.conversionHitId=a,window.zbozi("setOrder",c),window.zbozi("send")}}else Qt('ConverionHit has not been sent to zbozi server. No required fields "conf.zboziId or "conf.orderId" or "conf.conversionHitId".')},ha=function(t){if(window.zbozi)var e=setInterval((function(){window.zbozi.q||(pa(t),clearInterval(e))}),100);else pa(t)},ya=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=window.crypto||window.msCrypto;if("Uint8Array"in self&&r&&t<=65536){var o=new Uint8Array(t);r.getRandomValues(o);for(var i=0;i<t;i++)n+=e[o[i]%62]}else for(var a=0;a<t;a++)n+=e.charAt(Math.floor(62*Math.random()));return n},ga=function(t,e){if(null!=t&&t.id&&null!=t&&t.conversionHitId){var n=t.id,r=t.value,o=t.orderId,i=t.consent,a=t.conversionHitId,c=(window.rc||{}).internal,u=c?null:ve(i),s=i||c,l=ye(we),f=s&&dt(l)?l:"",d=ye(Se),v=s?d:"",p=c&&ye(_e),h=Ui();e({message:"got following conversion data:",id:n,value:r,orderId:o,sid:f,euconsentV2:p}),new ra("https://c.seznam.cz/conv",e).appendValue("id",n).appendValue("value",r).appendValue("orderId",o).appendValue("url",window.location.href).appendValue("dsid",f).appendValue("sznaiid",v).appendValue("euconsent",p).appendValue("consent",u).appendValue("conversionHitId",a).appendObject("ids",h).send()}else e("error",'ConversionHit has not been sent to sklik server. No required fields "conf.id" or "conf.conversionHitId".')};function ba(t){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(t)}function ma(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ma(Object(n),!0).forEach((function(e){Sa(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ma(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sa(t,e,n){return e=function(t){var e=function(t,e){if("object"!=ba(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ba(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ba(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _a(t){return _a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(t)}function Ia(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Oa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ia(Object(n),!0).forEach((function(e){ja(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ja(t,e,n){return e=function(t){var e=function(t,e){if("object"!=_a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_a(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){var e,n=t.scriptName,r="".concat(n,"-init");w(r)||(e=window.navigator.userAgent,l.some((function(t){return e.includes(t)}))||(m(r),window.addEventListener("error",(function(e){return I(e,t)}))))}({endpoint:"sklik-ap-static",scriptName:"rc.js"}),Qt({message:"rc.js started",state:be}),window.rc=window.rc||{},window.rc.retargetingHit=ua,window.rc.conversionHit=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t&&he(t.consent),t.conversionHitId=ya(75),ga(t,e),ha(t)},delete window.rc.isStub,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=null,n=!1;window.rc&&window.rc.hasOwnProperty("consent")&&!Object.getOwnPropertyDescriptor(window.rc,"consent").get&&(n=!0,e=window.rc.consent),window.rc=ne(ne({},window.rc),{},{set consent(e){if(!window.rc.internal&&de(e))return this._consent=e,t("Set window.rc.consent: ".concat(e)),void function(t){window.dispatchEvent(new CustomEvent("szn:rc:setconsentvalue",{detail:{consent:t}}))}(e);t("error","Invalid consent value. Аllowed values: 0 or 1."),this._consent=null},get consent(){return de(this._consent)?this._consent:null}}),n&&(window.rc.consent=e,n=!1)}(Qt),s()||function(t){if(window.sznIVA&&window.sznIVA[U.name])ut("duplicate execution - terminating");else{ut({message:"starting",state:"start"});var e=function(){ut({message:"getting SID",state:"running",sid:{state:"start"}});var t=xt(window.location.href,j),e=st(void 0,void 0,!1);if(M.includes(e))return ut('SID handler stoped, domain "'.concat(e,'" is blacklisted.')),null;if(!t)return ut({state:"running",message:"did not find sznclid in url",sid:{state:"done",error:"no sznclid in URL",sznclid:t}}),null;ut('found parameter "'.concat(j,'", decoding...'));var n=At(t);return n?(ut({state:"running",message:'successfully retrieved "sid"',sid:{state:"done",sid:n}}),n):(ut({state:"running",message:"sznclid is invalid - could not be decoded",sid:{state:"error",sid:n,sznclid:t,error:"failed to decode sznclid"}}),null)}(),n=function(){ut({message:"getting SZNAIID",state:"running",sznaiid:{state:"start"}});var t=xt(window.location.href,k);return t?(ut({state:"running",message:'successfully retrieved "sznaiid"',sznaiid:{state:"done",sznaiid:t}}),t):(ut({state:"running",message:"did not find sznaiid in url",sznaiid:{state:"done",error:"no sznaiid in URL",sznaiid:t}}),null)}();if(function(t){var e=xt(t,C),n=st(void 0,void 0,!1);if(V.includes(n))ut('consent handler stoped, domain "'.concat(n,'" is blacklisted.'));else if(e){if(ut({message:"got consent from url, waiting for approval to store",consent:e}),Yt(window.scmp_sspServerData))return ut("Received approval to store synchronously, storing consent"),void Xt(e);var r=function t(n){n.detail?(Yt(n.detail)?(ut("Received approval from event, storing consent"),Xt(e)):ut("This website does not want our consent, NOT storing"),window.removeEventListener(F,t)):ut("warn",'Received "'.concat(F,'" event without any data'))};window.addEventListener(F,r),setTimeout((function(){return window.removeEventListener(F,r)}),5e3)}else ut({message:"did not get consent, or invalid consent (from url)",consent:e})}(window.location.href),!e&&!n)return ut("nothing to do - finishing"),void Kt();!function(t){var e=Ct();if(3===e.result){var n=null,r=0,o=function(e){clearInterval(n),n=null,t(e)};n=setInterval((function(){if(3===(e=Ct()).result){if(++r>=kt)return o({result:2}),void ut("giving up");ut("unsure whether to run, I'll keep trying")}else o(e)}),500),window.addEventListener("szn:rc:setconsentvalue",(function t(e){e.detail&&e.detail.consent&&o({result:1,reason:N}),window.removeEventListener("szn:rc:setconsentvalue",t)}))}else t(e)}((function(r){var o=null;if(1===r.result){var i=[];e&&i.push(function(t,e){var n=ft(A);return n?n===t?(ut("found SID cookie with the same SID value"),Rt(x.SAME),x.SAME):(ut("found SID cookie with different value from linkdec SID"),Rt(x.DIFFERENT,{dsid:n}),x.DIFFERENT):(Rt(x.NOT_STORED),Rt(e,{dsid:t},!0),$t(t),x.NOT_STORED)}(e,r.reason)),n&&i.push(Jt(n,r.reason)),o=i.join("|")}else o=D;"function"==typeof t&&t(o)})),Kt()}}();var ka,Ca=!(ka=window.seznam_retargetingId||window.seznam_retargeting_id||null)||window.seznam_dispatchedRetargetingIds&&~window.seznam_dispatchedRetargetingIds.indexOf(ka)?null:{rtgId:ka,category:window.seznam_category,itemId:window.seznam_itemId,pageType:window.seznam_pagetype,rtgUrl:window.seznam_rtgUrl,productIds:window.seznam_productIds,consent:pe()};Qt(Oa({message:"retargeting got this data:"},Ca)),ua(Ca,Qt)&&(window.seznam_dispatchedRetargetingIds=window.seznam_dispatchedRetargetingIds||[],window.seznam_dispatchedRetargetingIds.push(Ca.rtgId));var Aa=ya(75),Ea=function(){var t=window.seznam_cId,e=window.seznam_zboziId;if(!t&&!e)return null;var n={value:window.seznam_value,orderId:window.seznam_orderId,zboziId:e,zboziType:window.seznam_zboziType,consent:pe()};if(Array.isArray(t)){var r=[];return t.forEach((function(t,o){var i=o?null:e;r.push(wa(wa({id:t},n),{},{zboziId:i}))})),r.length>0?r:null}return wa({id:t},n)}();Ea&&(Qt(Oa({message:"conversion got this data (sklik-conversion):"},Ea)),Array.isArray(Ea)?Ea.forEach((function(t){ga(Oa(Oa({},t),{},{conversionHitId:Aa}),Qt)})):ga(Oa(Oa({},Ea),{},{conversionHitId:Aa}),Qt));var xa,Ta,Da=(xa=window.seznam_zboziId,Ta=window.seznam_orderId,xa&&Ta?{zboziId:xa,value:window.seznam_value,orderId:Ta,zboziType:window.seznam_zboziType,consent:pe()}:null);Qt(Oa({message:"conversion got this data (zbozi-conversion):"},Da)),ha(Oa(Oa({},Da),{},{conversionHitId:Aa})),Qt({message:"rc.js finished",state:me})}()}();
//# sourceMappingURL=rc.js.map