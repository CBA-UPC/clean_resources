(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[6334],{84572:46334:(e,t,r)=>{"use strict";r.d(t,{Z:()=>q});var i,a,n,s,o,p,d=r(3e4),l=(r(91938),r(76955)),c=r(55382),h=r.n(c),m=r(29466),g=r.n(m),y=r(5154),u=r.n(y),k=r(52361),I=r.n(k),T=r(93533),b=r.n(T),L=r(45525),v=r(59226),f=r.n(v),E=r(98205),A=r.n(E),P=r(66680),D=r.n(P),j=r(75457),_=r(16884),Z=r(36509),C=r(30657),S=r(87683),w=r(48516),R=r(10793),O=r(39954),x=r(14272),N=r(15382),F=r.n(N),q=(0,L.w1)(F())((n=a=class extends l.Component{static get defaultProps(){return{adEntryBottom:null,adInArticlePanel:null,amebloOneTimeToken:"",bloggerGenreCode:"",bloggerType:"",entryDetailClip:null,entryDetailGenreRanking:null,hashtag:null,cheerFrame:null,mypickModule:null,reactions:null,reactionsLink:null,readerModule:null,recentImageEntryList:null,recentThemeEntryList:null,shareButton:null,locationSearch:null,injectedAdDfpParam:{},injectedAdsData:null,injectedAdsLoadingStatus:null,isLoggedIn:!1,pickEventLabels:[],trackViewLog:u(),onFetchPickEventLabels:null,onInjectedAdDFPNotFound:u()}}houldComponentUpdate(e){return!(this.props.adEntryBottom===e.adEntryBottom&&this.props.adInArticlePanel===e.adInArticlePanel&&this.props.amebaId===e.amebaId&&this.props.amebloOneTimeToken===e.amebloOneTimeToken&&this.props.dateDisplayCode===e.dateDisplayCode&&this.props.entryDetailClip===e.entryDetailClip&&this.props.entryDetailGenreRanking===e.entryDetailGenreRanking&&this.props.entryIndex===e.entryIndex&&this.props.hashtag===e.hashtag&&this.props.imageProtectionType===e.imageProtectionType&&this.props.imageReproduce===e.imageReproduce&&this.props.isLoggedIn===e.isLoggedIn&&this.props.isOfficial===e.isOfficial&&this.props.openModal===e.openModal&&this.props.pageType===e.pageType&&this.props.reactions===e.reactions&&this.props.reactionsLink===e.reactionsLink&&this.props.readerModule===e.readerModule&&this.props.recentImageEntryList===e.recentImageEntryList&&this.props.recentThemeEntryList===e.recentThemeEntryList&&this.props.shareButton===e.shareButton&&this.props.onInjectedAdDFPNotFound===e.onInjectedAdDFPNotFound&&this.props.trackStartClip===e.trackStartClip&&this.props.trackRaichoAdInviewRequest===e.trackRaichoAdInviewRequest&&this.props.trackRaichoAdTapRequest===e.trackRaichoAdTapRequest&&this.props.trackTapLog===e.trackTapLog&&this.props.locationSearch===e.locationSearch&&this.props.bloggerGenreCode===e.bloggerGenreCode&&this.props.bloggerType===e.bloggerType&&g()(this.props.cheerFrame,e.cheerFrame)&&g()(this.props.entry,e.entry)&&g()(this.props.mypickModule,e.mypickModule)&&g()(this.props.trackViewLog,e.trackViewLog)&&g()(this.props.injectedAdsLoadingStatus,e.injectedAdsLoadingStatus)&&g()(this.props.injectedAdDfpParam,e.injectedAdDfpParam)&&g()(this.props.injectedAdsData,e.injectedAdsData)&&g()(this.props.commerceEntryImageItemList,e.commerceEntryImageItemList))}trackLinkTapLog(e){var{amebaId:t,entry:r,isOfficial:i,pageType:a}=this.props,n={bloggerAmebaId:t,contentId:e,entryId:r.entry_id,pageId:a,sectionId:"entry-hyperlink",serviceId:i?"official":"general"};this.props.trackTapLog(n)}handleClickEntryTextLink(e){var t="".concat(window.process.env.HTTP_PATH_BLOG_AMEBA,"/reader.do"),r=e.currentTarget.href;-1!==r.indexOf(t.replace("https://",""))||this.trackLinkTapLog(r)}renderEntryEmpty(){return(0,d.Z)("span",{className:"error"},void 0,"\u3053\u306e\u8a18\u4e8b\u306f\u524a\u9664\u3055\u308c\u3066\u3044\u308b\u304b\u3001",s||(s=(0,d.Z)("br",{})),"\u307e\u305f\u306f\u672a\u6765\u8a18\u4e8b\u8a2d\u5b9a\uff08\u73fe\u65e5\u6642\u4ee5\u964d\u306e\u516c\u958b\uff09\u3055\u308c\u305f\u8a18\u4e8b\u306e\u305f\u3081\u8868\u793a\u3067\u304d\u307e\u305b\u3093\u3002",o||(o=(0,d.Z)("br",{})),(0,d.Z)("span",{className:"entryListLink"},void 0,(0,d.Z)(w.Z,{targetUrl:(0,_.Z)(j.Z.EntryList,{amebaId:this.props.amebaId})},void 0,"\u30d6\u30ed\u30b0\u8a18\u4e8b\u4e00\u89a7\u3078")))}renderEntryHead(){var e=this.props.entry.entry_created_datetime||"",t=this.props.entry.is_pickpr||!1;return(0,d.Z)("div",{className:h()(F().TimeBlock,{[F().NoJSTimeBlock]:!t},"entry_head")},void 0,(0,d.Z)("div",{className:F().Time},void 0,(0,d.Z)(O.x,{},void 0,(0,d.Z)("span",{className:"date"},void 0,(0,C.TA)(this.props.dateDisplayCode,e)))),t&&(0,d.Z)(x.E,{wrapperStyle:{marginLeft:"12px"}}))}renderIcon(){return"amember"===this.props.entry.publish_flg?(0,d.Z)(A(),{"aria-label":"\u30a2\u30e1\u30f3\u30d0\u30fc\u8a18\u4e8b",className:F().EntryIcon}):this.props.entry.reblog_flg?(0,d.Z)(D(),{"aria-label":"\u30ea\u30d6\u30ed\u30b0\u8a18\u4e8b",className:F().EntryIcon}):null}renderEntryTitle(){var e=this.props.isOfficial?"official":"general";return(0,d.Z)("h3",{className:"title"},void 0,(0,d.Z)(R.f,{bloggerAmebaId:this.props.amebaId,entryId:this.props.entry.entry_id,orderId:"".concat(this.props.entryIndex+1),pageId:this.props.pageType,sectionId:"article",serviceId:e,tapLogger:this.props.trackTapLog},void 0,(0,d.Z)(w.Z,{targetUrl:(0,Z.IT)(this.props.amebaId,this.props.entry)},void 0,this.renderIcon(),this.props.entry.entry_title)))}renderEntryTheme(){return(0,d.Z)("span",{className:h()(F().Theme,"theme")},void 0,(0,d.Z)(O.x,{},void 0,"\u30c6\u30fc\u30de\uff1a",(0,d.Z)(w.Z,{targetUrl:(0,_.Z)(j.Z.Theme,{amebaId:this.props.amebaId,themeId:this.props.entry.theme_id})},void 0,this.props.entry.theme_name,(0,d.Z)(f(),{"aria-hidden":"true",className:h()(F().ThemeIcon)}))))}renderEntry(){var e=this.props.entry.entry_created_datetime||"",t=e&&I()(e,b()(new Date,1)),r="open"===this.props.entry.publish_flg||this.props.pageType===j.Z.AmemberEntry;return(0,d.Z)("div",{className:h()("entry",{new:t},"js-entryWrapper"),"data-unique-ameba-id":this.props.amebaId,"data-unique-entry-id":this.props.entry.entry_id,"data-unique-entry-title":this.props.entry.entry_title},void 0,this.renderEntryHead(),this.renderEntryTitle(),this.renderEntryTheme(),(0,d.Z)("div",{className:"contents"},void 0,this.props.pageType===j.Z.Entry&&(0,d.Z)("div",{className:"js-blogGenreRank blogGenreEntryRankInfo__block"},void 0,this.props.entryDetailGenreRanking),this.props.entryDetailClip,(0,d.Z)("div",{className:"subContents"},void 0,(0,d.Z)(S.Z,{amebaId:this.props.amebaId,amebloOneTimeToken:this.props.amebloOneTimeToken,bloggerType:this.props.bloggerType,commerceEntryImageItemList:this.props.commerceEntryImageItemList,entry:this.props.entry,entryIndex:this.props.entryIndex,imageProtectionType:this.props.imageProtectionType,imageReproduce:this.props.imageReproduce,injectedAdDfpParam:this.props.injectedAdDfpParam,injectedAdsData:this.props.injectedAdsData,injectedAdsLoadingStatus:this.props.injectedAdsLoadingStatus,isLoggedIn:this.props.isLoggedIn,isOfficial:this.props.isOfficial,locationSearch:this.props.locationSearch,openModal:this.props.openModal,pageType:this.props.pageType,pickEventLabels:this.props.pickEventLabels,trackRaichoAdInviewRequest:this.props.trackRaichoAdInviewRequest,trackRaichoAdTapRequest:this.props.trackRaichoAdTapRequest,trackStartClip:this.props.trackStartClip,trackTapLog:this.props.trackTapLog,trackViewLog:this.props.trackViewLog,onClickLink:this.handleClickEntryTextLink,onFetchPickEventLabels:this.props.onFetchPickEventLabels,onInjectedAdDFPNotFound:this.props.onInjectedAdDFPNotFound}),(0,d.Z)(O.x,{},void 0,r&&this.props.mypickModule,this.props.hashtag,this.props.adInArticlePanel,this.props.adEntryBottom,this.props.cheerFrame,this.props.reactions,this.props.reactionsLink,this.props.shareButton,this.props.readerModule,this.props.recentThemeEntryList,this.props.recentImageEntryList))),p||(p=(0,d.Z)("div",{className:"foot"})))}render(){var{entry:e}=this.props;return e.entry_id?this.renderEntry():this.renderEntryEmpty()}},a.displayName="PcEntryDetailBlockOld",i=n))||i},87683:(e,t,r)=>{"use strict";r.d(t,{Z:);var i,a,n,s=r(3e4),o=r(41185),p=(r(91938),r(76955)),d=r(52377),l=r(29466),c=r.n(l),h=r(5154),m=r.n(h),g=r(45525),y=r(55382),u=r.n(y),k=r(27356),I=r.n(k),T=r(55752),b=r.n(T),L=r(34679),v=r(1324),f=r(97243),E=r(47530),A=r(77383),P=r(22221),D=r(36509),j=r(52791),_=r.n(j),Z=r(47255),C=r.n(Z),S=r(40393),w=r(15972),R=r(84572),O=r(24448),x=r(75457),N=r(16884),F=r(91216),q=r(39954),M=r(38160),B=r(4645),H=r(39472),G=r(71500);r U=(0,g.w1)([_(),C()])((n=a=class extends p.Component{static get defaultProps(){return{amebloOneTimeToken:"",bloggerGenreCode:"",bloggerType:S.vh,trackRaichoAdInviewRequest:m(),trackRaichoAdTapRequest:m(),locationSearch:null,injectedAdDfpParam:{},injectedAdsData:null,injectedAdsLoadingStatus:null,isLoggedIn:!1,pickEventLabels:[],onFetchPickEventLabels:null,onInjectedAdDFPNotFound:m()}}constructor(e){super(e);var t=e.entry||{},r=t.entry_text||"";this.state={adSlots:[],clipPortalTargets:[],html:(0,P.Z)(r),imageEmbedTargets:[],entry:t,imageProtectionType:e.imageProtectionType||""}}tatic getDerivedStateFromProps(e,t){var r=(t.entry||{}).entry_text||"",i=e.entry||{},a=i.entry_text||"";return r!==a||e.imageProtectionType!==t.imageProtectionType?{clipPortalTargets:[],html:(0,P.Z)(a),imageEmbedTargets:[],entry:i,imageProtectionType:e.imageProtectionType,adSlots:[]}:null}shouldComponentUpdate(e,t){return!(this.props.amebaId===e.amebaId&&this.props.amebloOneTimeToken===e.amebloOneTimeToken&&this.props.entry===e.entry&&this.props.openModal===e.openModal&&this.props.trackStartClip===e.trackStartClip&&this.props.trackTapLog===e.trackTapLog&&this.props.trackViewLog===e.trackViewLog&&this.props.bloggerGenreCode===e.bloggerGenreCode&&this.props.bloggerType===e.bloggerType&&this.props.onInjectedAdDFPNotFound===e.onInjectedAdDFPNotFound&&this.props.trackRaichoAdInviewRequest===e.trackRaichoAdInviewRequest&&this.props.trackRaichoAdTapRequest===e.trackRaichoAdTapRequest&&this.props.isLoggedIn===e.isLoggedIn&&this.state.html===t.html&&this.state.adSlots===t.adSlots&&c()(this.state.clipPortalTargets,t.clipPortalTargets)&&c()(this.state.imageEmbedTargets,t.imageEmbedTargets)&&c()(this.props.onClickLink,e.onClickLink)&&c()(this.props.injectedAdsLoadingStatus,e.injectedAdsLoadingStatus)&&c()(this.props.injectedAdDfpParam,e.injectedAdDfpParam)&&c()(this.props.injectedAdsData,e.injectedAdsData)&&c()(this.props.pickEventLabels,e.pickEventLabels)&&c()(this.props.commerceEntryImageItemList,e.commerceEntryImageItemList))}componentDidUpdate(e,t){if(this.state.html!==t.html&&setImmediate((),c()(this.props.pickEventLabels,e.pickEventLabels)||(0,H.DH)(this.entryDetailText,this.props.pickEventLabels),!c()(this.props.commerceEntryImageItemList,e.commerceEntryImageItemList)){var{amebaId:r,entry:i}=this.props,a={bloggerAmebaId:r,entryId:i.entry_id,pageId:this.props.pageType,sectionId:G.ej};(0,A.A_)({amebaId:this.props.amebaId,itemList:this.props.commerceEntryImageItemList,trackTapLog:e=>{this.props.trackTapLog(V(V({},a),{},{contentId:e}))},trackInViewLog:e=>{this.props.trackViewLog(V(V({},a),{},{contentId:e}))}})}}ndleMount(){var{amebaId:e,entry:t,imageProtectionType:r,pageType:i}=this.props;setImmediate((()=>{this.entryDetailText&&((0,A.V0)(this.entryDetailText,{amebaId:e,entryId:t.entry_id,imageProtectionType:r,pageType:i}),(0,A.C9)(this.entryDetailText),(0,L.IO)(this.entryDetailText,this.props.locationSearch),this.props.isOfficial&&"protected"!==this.props.imageReproduce&&this.setState({imageEmbedTargets:(0,A.Fr)(this.entryDetailText,_().ImageEmbedWrapper,_().ImageEmbedWrapper__EntryDesign)}),(0,D.WW)(this.entryDetailText),this.setState({clipPortalTargets:(0,E.O)(this.entryDetailText,e,"".concat(t.entry_id),this.props.trackStartClip)}),this.updateLinkClick(),this.updatePickEventLabelsIfNeeded())}))}updateLinkClick(){this.unlistenLinkClick&&this.unlistenLinkClick();var e=this.entryDetailText.querySelectorAll("a")||[];Array.prototype.forEach.call(e,(e=>{e.addEventListener("click",this.props.onClickLink,!1)})),this.unlistenLinkClick=()=>{Array.prototype.forEach.call(e,(e=>{e.removeEventListener("click",this.props.onClickLink,!1)})),this.unlistenLinkClick=null}}updateInjectedAdsPortalTargets(){var{entryDetailText:e}=this;if(e){var t=Array.from(e.querySelectorAll(w.w6));0!==t.length&&this.setState({adSlots:t})}}updatePickEventLabelsIfNeeded(){var{entryDetailText:e}=this;e&&(0,H.iq)(e)&&this.props.onFetchPickEventLabels&&(this.props.pickEventLabels.length>0?(0,H.DH)(this.entryDetailText,this.props.pickEventLabels):this.props.onFetchPickEventLabels())}renderClipPortal(){var e=this.state.clipPortalTargets.map((e=>e.element?d.createPortal(p.createElement(v.L,e.props),e.element):null));return e.length<1?null:e}renderImageEmbedButtonPortal(){var e=this.state.imageEmbedTargets.map((e=>d.createPortal((0,s.Z)("button",{className:_().ImageEmbedButton,style:{bottom:".5em"},onClick:()=>{this.props.openModal("".concat(this.props.entry.entry_id),f.rl,{imageHeight:parseInt(e.dataset.imageHeight,10),imageId:e.dataset.imageId,imageWidth:parseInt(e.dataset.imageWidth,10)})}},void 0,(0,s.Z)(I(),{"aria-hidden":"true",className:_().ImageEmbedButtonIcon}),(0,s.Z)("span",{className:_().ImageEmbedButtonLabel},void 0,"\u3053\u306e\u753b\u50cf\u3092\u30b7\u30a7\u30a2")),e)));return e.length<1?null:e}renderInjectedAdsPortal(){var{bloggerType:e,amebaId:t,entry:r,pageType:i,injectedAdsLoadingStatus:a,isOfficial:n,injectedAdsData:o,injectedAdDfpParam:p,onInjectedAdDFPNotFound:d,trackTapLog:l,trackViewLog:c,trackRaichoAdInviewRequest:h,trackRaichoAdTapRequest:m}=this.props,g=this.state.adSlots.length>0;return e&&g?this.state.adSlots.map(((e,g)=>{var{orderId:y,slotHeight:u,pickLayoutType:k}=(0,B.Cg)(e,"".concat(g+1)),{data:I,status:T}=(0,B.lW)({adData:o,adRequestStatus:a,entryId:r.entry_id,orderId:y,pickLayoutType:k}),L={status:T,data:I,trackInview:h,trackTap:m};return(0,s.Z)(R.Z,{container:e},g,(0,s.Z)(O.Z,{adInjectionType:"manual",adcross:L,affiliatorId:b()(r,"affiliator_id"),amebaId:t,dfp:(0,B.m5)(p,k),entryId:r.entry_id,isOfficial:n,orderId:y,pageType:i,pickLayoutType:k,slotHeight:u,trackTapLog:l,trackViewLog:c,onDfpNotFound:d}))})):null}render(){var{amebaId:e,entry:t}=this.props;if("amember"===t.publish_flg&&(this.props.pageType===x.Z.BlogTop||this.props.pageType===x.Z.SkinPreview))return(0,s.Z)("div",{className:"amemberEntry"},void 0,(0,s.Z)(F.Z,{linkButtonUrl:(0,N.Z)(x.Z.AmemberEntry,{amebaId:e,entryId:t.entry_id}),shouldUseDefaultColor:!0,status:"inList"}));var r=t.entry_text||"";return"mon_ng"===t.closed_flg?(0,s.Z)("div",{className:"subContentsInner"},void 0,(0,s.Z)("div",{className:"nopermitentry",dangerouslySetInnerHTML:{__html:r}})):"amember"!==this.props.entry.publish_flg||r||!1!==this.props.entry.amemberLoading?(0,s.Z)(p.Fragment,{},void 0,p.createElement("div",{className:u()("subContentsInner",_().Block,{[_().ImageProtected]:"all_deny"===this.props.imageProtectionType}),dangerouslySetInnerHTML:{__html:this.state.html},id:"entryBody",ref:),this.renderInjectedAdsPortal(),this.renderClipPortal(),this.renderImageEmbedButtonPortal()):(0,s.Z)(q.x,{},void 0,(0,s.Z)("div",{className:"amemberEntry"},void 0,(0,s.Z)(F.Z,{linkButtonUrl:this.props.isLoggedIn?"".concat(window.process.env.HTTP_PATH_AMEMBER_APPLY,"/amemberRequest.do?oAid=").concat(this.props.amebaId):"".concat(M.qD,"?bnm=").concat(this.props.amebaId,"&eid=").concat(this.props.entry.entry_id,"&service=amember_entry&token=").concat(this.props.amebloOneTimeToken),shouldUseDefaultColor:!0,status:this.props.isLoggedIn?"notAmember":"notLoggedIn"})))}},a.displayName="PcEntryDetailTextOld",i=n))||i},42991:(e,t,r)=>{var i=r(18300)(();i.push([e.id,"._qWdnTuJP{align-items:center;display:flex;justify-content:space-between;min-height:26px}#no-js ._2C9CQLta{display:none}._7LmlMhp5{flex:1 1 auto;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._jlYIHW-K,._7LmlMhp5{min-height:14px}#no-js ._jlYIHW-K{display:none}._1ojFhFp-{vertical-align:text-bottom}._D6vAhGX1{font-size:1.5em;margin-right:4px;vertical-align:-.25em}",""]),i.locals={TimeBlock:"_qWdnTuJP",NoJSTimeBlock:"_2C9CQLta",Time:"_7LmlMhp5",Theme:"_jlYIHW-K",ThemeIcon:"_1ojFhFp-",EntryIcon:"_D6vAhGX1"},e.exports=i},15382:(e,t,r)=>{var i=r(42991),a=Object.assign||n=Object.defineProperty||"string"==typeof i&&(i=[[e.id,i,""]]),e.exports=function(e){var t=a({},e.locals||{});return n(t,"_",{value:),n(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(i)}}]);