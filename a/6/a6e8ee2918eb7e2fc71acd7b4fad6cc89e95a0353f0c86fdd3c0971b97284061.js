(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[748],{39393:function(module,exports){var t;window,t=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=142)}([function(e,t,n){"use strict";n.d(t,"Wb",(function(){return u})),n.d(t,"v",(function(){return m})),n.d(t,"w",(function(){return h})),n.d(t,"x",(function(){return g})),n.d(t,"yb",(function(){return S})),n.d(t,"zb",(function(){return $})),n.d(t,"t",(function(){return T})),n.d(t,"gb",(function(){return A})),n.d(t,"jb",(function(){return R})),n.d(t,"wb",(function(){return I})),n.d(t,"A",(function(){return H})),n.d(t,"Y",(function(){return X})),n.d(t,"pb",(function(){return Ge})),n.d(t,"ob",(function(){return Ye})),n.d(t,"rb",(function(){return x})),n.d(t,"a",(function(){return J})),n.d(t,"b",(function(){return Z})),n.d(t,"c",(function(){return ee})),n.d(t,"d",(function(){return te})),n.d(t,"e",(function(){return ne})),n.d(t,"f",(function(){return ie})),n.d(t,"g",(function(){return re})),n.d(t,"h",(function(){return oe})),n.d(t,"n",(function(){return ae})),n.d(t,"o",(function(){return se})),n.d(t,"i",(function(){return ue})),n.d(t,"j",(function(){return ce})),n.d(t,"k",(function(){return de})),n.d(t,"l",(function(){return fe})),n.d(t,"m",(function(){return le})),n.d(t,"p",(function(){return _e})),n.d(t,"q",(function(){return he})),n.d(t,"s",(function(){return pe})),n.d(t,"u",(function(){return ge})),n.d(t,"Bb",(function(){return ve})),n.d(t,"y",(function(){return i})),n.d(t,"F",(function(){return me})),n.d(t,"E",(function(){return ye})),n.d(t,"H",(function(){return be})),n.d(t,"I",(function(){return r})),n.d(t,"J",(function(){return Se})),n.d(t,"K",(function(){return $e})),n.d(t,"N",(function(){return Te})),n.d(t,"O",(function(){return Ee})),n.d(t,"P",(function(){return Ae})),n.d(t,"Q",(function(){return Ce})),n.d(t,"R",(function(){return o})),n.d(t,"S",(function(){return a})),n.d(t,"T",(function(){return Ie})),n.d(t,"U",(function(){return Pe})),n.d(t,"V",(function(){return ke})),n.d(t,"Z",(function(){return we})),n.d(t,"ab",(function(){return Me})),n.d(t,"bb",(function(){return Oe})),n.d(t,"cb",(function(){return Re})),n.d(t,"db",(function(){return De})),n.d(t,"eb",(function(){return xe})),n.d(t,"ib",(function(){return Le})),n.d(t,"kb",(function(){return Ne})),n.d(t,"lb",(function(){return Ue})),n.d(t,"mb",(function(){return Be})),n.d(t,"nb",(function(){return Fe})),n.d(t,"hb",(function(){return je})),n.d(t,"xb",(function(){return He})),n.d(t,"vb",(function(){return Ve})),n.d(t,"Ab",(function(){return qe})),n.d(t,"Cb",(function(){return We})),n.d(t,"Db",(function(){return mt})),n.d(t,"Eb",(function(){return s})),n.d(t,"Fb",(function(){return Ke})),n.d(t,"Gb",(function(){return ze})),n.d(t,"Hb",(function(){return Xe})),n.d(t,"Qb",(function(){return Qe})),n.d(t,"Rb",(function(){return Je})),n.d(t,"Sb",(function(){return Ze})),n.d(t,"Tb",(function(){return j})),n.d(t,"Ub",(function(){return et})),n.d(t,"Vb",(function(){return tt})),n.d(t,"z",(function(){return nt})),n.d(t,"B",(function(){return it})),n.d(t,"C",(function(){return rt})),n.d(t,"D",(function(){return k})),n.d(t,"M",(function(){return ot})),n.d(t,"G",(function(){return at})),n.d(t,"fb",(function(){return st})),n.d(t,"L",(function(){return ut})),n.d(t,"W",(function(){return U})),n.d(t,"X",(function(){return B})),n.d(t,"qb",(function(){return w})),n.d(t,"sb",(function(){return M})),n.d(t,"tb",(function(){return O})),n.d(t,"ub",(function(){return F})),n.d(t,"Ib",(function(){return ct})),n.d(t,"Jb",(function(){return dt})),n.d(t,"Kb",(function(){return ft})),n.d(t,"Lb",(function(){return lt})),n.d(t,"Mb",(function(){return _t})),n.d(t,"Nb",(function(){return ht})),n.d(t,"Ob",(function(){return pt})),n.d(t,"Pb",(function(){return gt})),n.d(t,"r",(function(){return vt}));var i,r,o,a,s,u="2.13.1-35",c=n(1);function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}!function(e){e.Unknown="unknown",e.Preview="preview",e.PlayReady="playready",e.MultiDRM="multidrm",e.Fairplay="fairplay",e.Primetime="primetime",e.Widevine="widevine",e.BulkAES="bulkaes",e.Unprotected="unprotected"}(i||(i={})),function(e){e.CENC="cenc",e.CBCS="cbcs",e.Unknown="unknown",e.Unencrypted="unencrypted"}(r||(r={})),function(e){e.Progressive="progressive",e.Streaming="streaming",e.Unknown="unknown"}(o||(o={})),function(e){e.MP3="mp3",e.MP4="mp4",e.M3U8="m3u8",e.Unknown="unknown"}(a||(a={})),function(e){e.Subtitle="subtitle",e.Caption="caption"}(s||(s={}));var f={url:null,playlistProtection:null,contentProtection:i.Unprotected,type:a.Unknown,encryptionMode:r.Unknown,deliveryType:o.Unknown},l={type:null,format:null,platform:null,tracks:[]},_={id:null,metadata:{},files:[],validators:{},isLive:!1,segments:[],contentMetadata:[],captions:{enabled:!0,sources:[]}},h=);function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}h._entryId=0;var g=);function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"forEntryData",value:function(){return h.create()}},{key:"forEntryOptions",value:function(){return g.create()}}])&&v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),y=n(8);function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var S=function(){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return c.ObjectUtils.extendDeep.apply(c.ObjectUtils,[{},e].concat(n))}},$=T=function(){ar t,n;return t=e,(n=[{key:"getAuthForType",value:,{key:"isSectionEnabled",value:,{key:"getOrElse",value:,{key:"getOrElseNullable",value:,{key:"get",value:,{key:"set",value:function(e,t){c.ObjectUtils.set(this._config,e,t)}},{key:"toData",value:,{key:"extend",value:])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var A=);function C(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var I=);function P(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var k,w,M,O,R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"forSetup",value:function(){return I.create()}},{key:"forPlay",value:function(){return A.create()}},{key:"forUpdate",value:function(){return A.create()}}])&&P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function D(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}!function(e){e.Ext_Out="extOut",e.Ext_Out_Cont="extOutCont",e.Ext_In="extIn",e.Ext_Discontinuity="extDisco",e.Ext_Asset="extAsset",e.ID3="id3",e.SCTE="SCTE",e.Unknown="unknown"}(k||(k={})),w||(w={})),function(e){e.Type_ID="segmentation_type_id",e.No_Regional_Blackout="no_regional_blackout_flag",e.Web_Delivery_Allowed="web_delivery_allowed_flag",e.Airing_ID="segmentation_upid",e.Duration="segmentation_duration"}(M||(M={})),O||(O={}));var x=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"containsSegmentationType",value:,{key:"getSegmentationDescriptors",value:,{key:"getFirstSegmentationDescriptor",value:,{key:"isChapterStart",value:function(t){return e.containsSegmentationType(t,O.Chapter_Start)}},{key:"isChapterEnd",value:function(t){return e.containsSegmentationType(t,O.Chapter_End)}},{key:"isProgramStart",value:function(t){return e.containsSegmentationType(t,O.Program_Start)}},{key:"isProgramEnd",value:function(t){return e.containsSegmentationType(t,O.Program_End)}},{key:"isProgramOverlapStart",value:function(t){return e.containsSegmentationType(t,O.Program_Overlap_Start)}},{key:"getChapterStart",value:function(t){return e.getFirstSegmentationDescriptor(t,O.Chapter_Start)}},{key:"getChapterEnd",value:function(t){return e.getFirstSegmentationDescriptor(t,O.Chapter_End)}},{key:"getProgramStart",value:function(t){return e.getFirstSegmentationDescriptor(t,O.Program_Start)}},{key:"getProgramEnd",value:function(t){return e.getFirstSegmentationDescriptor(t,O.Program_End)}},{key:"getProgramOverlapStart",value:function(t){return e.getFirstSegmentationDescriptor(t,O.Program_Overlap_Start)}},{key:"getTypeIdProp",value:function(e){return c.ObjectUtils.getOrElse(e,M.Type_ID,null)}},{key:"getRegionalBlackoutProp",value:,{key:"getWebDeliveryAllowedProp",value:,{key:"getAiringIdProp",value:function(e){return c.ObjectUtils.getOrElse(e,M.Airing_ID,null)}},{key:"getDurationProp",value:])&&D(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function L(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}ar U,B,F,j,H=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"beforeTime",value:,{key:"findNextChapterStart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Array.isArray(e)||"number"!=typeof t)return null;var n=e.filter((function(e){return e.type===k.SCTE})).filter((function(e){return x.isChapterStart(e.data.content.metadata)})).filter((function(e){return e.data.range.start>=t})).sort((function(e,t){return e.data.range.start-t.data.range.start})),i=n[0];return i||null}},{key:"findPreviousChapterStart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Array.isArray(e)||"number"!=typeof t)return null;var n=e.filter((function(e){return e.type===k.SCTE})).filter((function(e){return x.isChapterStart(e.data.content.metadata)})).filter((function(e){return e.data.range.start<=t})).sort((function(e,t){return e.data.range.start-t.data.range.start})),i=n[n.length-1];return i||null}},{key:"findNextChapterEnd",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Array.isArray(e)||"number"!=typeof t)return null;var n=e.filter((function(e){return e.type===k.SCTE})).filter((function(e){return x.isChapterEnd(e.data.content.metadata)})).filter((function(e){return e.data.range.start>=t})).sort((function(e,t){return e.data.range.start-t.data.range.start})),i=n[0];return i||null}},{key:"findPreviousChapterEnd",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Array.isArray(e)||"number"!=typeof t)return null;var n=e.filter((function(e){return e.type===k.SCTE})).filter((function(e){return x.isChapterEnd(e.data.content.metadata)})).filter((function(e){return e.data.range.start<=t})).sort((function(e,t){return e.data.range.start-t.data.range.start})),i=n[n.length-1];return i||null}},{key:"findChaptersInProgramBoundary",value:,{key:"findChaptersInActiveProgramBoundary",value:,{key:"findNextProgramStart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Array.isArray(e)||"number"!=typeof t)return null;var n=e.filter((function(e){return e.type===k.SCTE})).filter((function(e){return x.isProgramStart(e.data.content.metadata)})).filter((function(e){return e.data.range.start>=t})).sort((function(e,t){return e.data.range.start-t.data.range.start})),i=n[0];return i||null}},{key:"findPreviousProgramStart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Array.isArray(e)||"number"!=typeof t)return null;var n=e.filter((function(e){return e.type===k.SCTE})).filter((function(e){return x.isProgramStart(e.data.content.metadata)})).filter((function(e){return e.data.range.start<=t})).sort((function(e,t){return e.data.range.start-t.data.range.start})),i=n[n.length-1];return i||null}},{key:"findNextProgramEnd",value:,{key:"findPreviousProgramEnd",value:,{key:"isChapterStart",value:function(e){var t=N(e);return!(t.type!==k.SCTE)&&x.isChapterStart(t.data.content.metadata)}},{key:"isChapterEnd",value:function(e){var t=N(e);return!(t.type!==k.SCTE)&&x.isChapterEnd(t.data.content.metadata)}},{key:"isProgramStart",value:function(e){var t=N(e);return!(t.type!==k.SCTE)&&x.isProgramStart(t.data.content.metadata)}},{key:"isProgramEnd",value:function(e){var t=N(e);return!(t.type!==k.SCTE)&&x.isProgramEnd(t.data.content.metadata)}},{key:"isProgramOverlapStart",value:])&&L(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}unction W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function G(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}!function(e){e.Content_Time="model.contentTime",e.Media_Time="model.mediaTime",e.Ad_Time="model.adTime"}(U||(U={})),function(e){e.Timed_Metadata="timedMetadata"}(B||(B={})),function(e){e[e.Null=0]="Null",e[e.Schedule=4]="Schedule",e[e.Insert=5]="Insert",e[e.Time_Signal=6]="Time_Signal",e[e.Bandwidth_Reservation=7]="Bandwidth_Reservation",e[e.Private=255]="Private"}(F||(F={})),function(e){e.EMSG="emsg",e.ID3="id3",e.CUETAG="cueTag",e.DATERANGE="dateRange",e.CUSTOM="custom",e.SCTE="scte",e.CAST="cast",e.EVENT_STREAM="eventStream"}(j||(j={}));var Y=function(e){return"number"==typeof e},K=z=X=function(){ar t,n;return t=e,(n=[{key:"mocksEnabled",value:,{key:"createChapterBoundary",value:,{key:"createChapterEnd",value:function(t){var n=t.metadata||{};return e.createSegmentationSCTE(O.Chapter_End,n,t.startTime,t.processTime)}},{key:"createChapterStart",value:,{key:"createProgramBoundary",value:,{key:"createProgramBoundarySet",value:,{key:"createProgramEnd",value:function(t){return e.createSegmentationSCTE(O.Program_End,V({},M.Airing_ID,t.assetId),t.startTime,t.processTime)}},{key:"createProgramStart",value:,{key:"createSegmentationSCTE",value:,{key:"createSCTE",value:function(t){var n,i;return e.createTimedMetadata({metadataType:j.SCTE,metadata:{spliceType:t.command,descriptors:t.descriptors},startTime:t.startTime},V({},U.Content_Time,null!==(n=t.processTime)&&void 0!==n?n:t.startTime),V({},U.Content_Time,null!==(i=t.processTime)&&void 0!==i?i:t.startTime))}},{key:"createID3",value:,{key:"createTimedMetadata",value:])&&G(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();ar J,Z,ee,te,ne,ie,re,oe,ae,se,ue,ce,de,fe,le,_e,he,pe,ge,ve,me,ye,be,Se,$e,Te,Ee,Ae,Ce,Ie,Pe,ke,we,Me,Oe,Re,De,xe,Le,Ne,Ue,Be,Fe,je,He,Ve,qe,We,Ge=function(){ar t,n;return t=e,(n=[{key:"libVersion",get:function(){return u}},{key:"nexusVersion",get:function(){return"2.2.12"}},{key:"dependencyVersions",get:function(){return this.dependencies},set:function(e){this.dependencies=e}},{key:"buildTime",get:,{key:"buildTimeISO",get:function(){return"2023-05-24T20:09:21.477Z"}},{key:"commitSHA",get:function(){return"9ca0804"}},{key:"toString",value:])&&Q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ye=new Ge;!function(e){e.Unknown="unknown",e.Preroll="preroll",e.Midroll="midroll",e.Postroll="postroll"}(J||(J={})),function(e){e.PolicyError="policyerror",e.YospaceError="yospaceerror"}(Z||(Z={})),function(e){e.Pending="pending",e.Starting="starting",e.Loaded="loaded",e.Playing="playing",e.Paused="paused",e.Buffering="buffering",e.Stopped="stopped",e.Finished="finished"}(ee||(ee={})),function(e){e.Transaction_Initializing="transactionInitializing",e.Transaction_Details_Resolved="transactionDetailsResolved",e.Transaction_Initialized="transactionInitialized",e.Transaction_Preparing="transactionPreparing",e.Transaction_Transforming="transactionTransforming",e.Transaction_Waiting="transactionWaiting",e.Transaction_User_Action="transactionUserAction",e.Transaction_Media_Beginning="transactionMediaBeginning",e.MediaEngine_Started="mediaEngineStarted"}(te||(te={})),function(e){e.CMS_Resolution="cmsResolution",e.Transaction_Setup="transactionSetup",e.Transaction_Initialized="transactionInitialized",e.Content_Resolution="contentResolution",e.Total_Time_To_First_Frame="totalTimeToFirstFrame",e.Time_Waiting_For_User="timeWaitingForUser"}(ne||(ne={})),function(e){e.Spe="spe"}(ie||(ie={})),function(e){e.iSP="isp"}(re||(re={})),function(e){e.None="none",e.Full="full"}(oe||(oe={})),ae||(ae={})),function(e){e.Unknown="UN",e.Player="PL",e.View="VW",e.Transaction="TR",e.Comp_Config="CCG",e.Comp_CMS="CCM",e.Comp_Auth="CAU",e.Comp_Timeline="CTM",e.Comp_Ads="CAD",e.Comp_Media="CME",e.Comp_Captions="CCC",e.Comp_Analytics="CAY",e.UI="UI"}(se||(se={})),function(e){e.CC1="cc1",e.CC2="cc2",e.CC3="cc3",e.CC4="cc4",e.Unknown="unknown"}(ue||(ue={})),function(e){e.Off="off",e.English="english",e.Spanish="spanish",e.French="french",e.Deutsch="deutsch",e.Unknown="unknown"}(ce||(ce={})),function(e){e.User="user",e.System="system"}(de||(de={})),function(e){e.CEA_608="cea608",e.CEA_708="cea708",e.WebVTT="webvtt",e.SRT="srt",e.TTML="ttml",e.Unknown="unknown"}(fe||(fe={})),function(e){e.Pending="pending",e.Ready="ready",e.Changing_Track="changingTrack",e.Showing_Track="showingTrack",e.Disabled="disabled"}(le||(le={})),function(e){e.URL="top.cms.provider.url",e.MediaJSON="top.cms.provider.mediaJson"}(_e||(_e={})),function(e){e.Default="default",e.Black="black",e.Blue="blue",e.Cyan="cyan",e.Green="green",e.Magenta="magenta",e.Red="red",e.White="white",e.Yellow="yellow"}(he||(he={})),function(e){e.Analytics="analytics",e.Auth="auth",e.AuthDRM="authDRM",e.Captions="captions",e.CMS="cms",e.Cues="cues",e.Lifecycle="lifecycle",e.PlatformHelper="platformHelper",e.UI="ui",e.Video_Engine="videoEngine",e.Mocks="mocks",e.Custom="custom"}(pe||(pe={})),ge||(ge={})),function(e){e.SDK_ID="tcf.IABTCF_CmpSdkID",e.SDK_VERSION="tcf.IABTCF_CmpSdkVersion",e.POLICY_VERSION="tcf.IABTCF_PolicyVersion",e.GDPR_APPLIES="tcf.IABTCF_gdprApplies",e.PUBLISHER_CC="tcf.IABTCF_PublisherCC",e.PURPOSE_ONE_TREATMENT="tcf.IABTCF_PurposeOneTreatment",e.TC_STRING="tcf.IABTCF_TCString",e.VENDOR_CONSENTS="tcf.IABTCF_VendorConsents",e.PURPOSE_CONSENTS="tcf.IABTCF_PurposeConsents",e.PUBLISHER_CONSENT="tcf.IABTCF_PublisherConsent"}(ve||(ve={})),function(e){e.Android_Tv="android_tv",e.Fire_Tv="fire_tv",e.Tv_Os="tv_os",e.Phone="phone",e.Tablet="tablet",e.Desktop="desktop",e.Console="console",e.Unknown="unknown"}(me||(me={})),function(e){e.Manifest="manifest",e.Metadata="metadata"}(ye||(ye={})),function(e){e.Default="default",e.None="none",e.Raised="raised",e.Depressed="depressed",e.Uniform="uniform",e.Drop_Shadow_Left="dropShadowLeft",e.Drop_Shadow_Right="dropShadowRight"}(be||(be={})),function(e){e.Error="error",e.Warn="warn",e.Fatal="fatal"}(Se||(Se={})),$e||($e={})),function(e){e.Continue="continue",e.Pause="pause",e.Unload="unload"}(Te||(Te={})),function(e){e.Playback="playback",e.FocusLost="focusLost",e.Background="background",e.Unload="unload"}(Ee||(Ee={})),function(e){e.Approaching="approaching",e.Activated="activated",e.Finishing="finishing",e.Deactivated="deactivated"}(Ae||(Ae={})),function(e){e.Media="media",e.Ad_Break="adBreak",e.End_Credits="endCredits"}(Ce||(Ce={})),function(e){e.TV="tv",e.Desktop="desktop",e.Tablet="tablet",e.Phone="phone"}(Ie||(Ie={})),Pe||(Pe={})),function(e){e.V1="v1",e.V2="v2"}(ke||(ke={})),function(e){e.Model_Updated="modelUpdated"}(we||(we={})),Me||(Me={})),function(e){e.Overwrite="overwrite",e.Extend="extend",e.Array_Append="arrayAppend",e.Array_Remove_By_Position="arrayRemoveByPos"}(Oe||(Oe={})),function(e){e.Component_Event="componentEventCategory"}(Re||(Re={})),De||(De={})),function(e){e.Default="default",e.Opacity_0="opacity0",e.Opacity_25="opacity25",e.Opacity_50="opacity50",e.Opacity_75="opacity75",e.Opacity_100="opacity100"}(xe||(xe={})),Le||(Le={})),Ne||(Ne={})),function(e){e.MediaControls="mediaControls",e.CloseAd="closeAd",e.NotVisible="notVisible",e.Other="other"}(Ue||(Ue={})),function(e){e.Check_Auto_Play="checkAutoPlay",e.Check_GDPR_Consent="checkGDPRConsent",e.Add_Platform_Metadata="addPlatformMetadata",e.Auth_Refresh="authRefresh",e.Validate_Content_Resolution="validateContentResolution",e.Validate_DRM_Token_Request="validateDRMTokenRequest",e.Validate_DRM_Token_Response="validateDRMTokenResponse"}(Be||(Be={})),Fe||(Fe={})),function(e){e.Inline="inline",e.Fullscreen="fullscreen"}(je||(je={})),function(e){e.Default="default",e.Small="small",e.Medium="medium",e.Large="large"}(He||(He={})),function(e){e.Yospace="yospace",e.Auditude="auditude"}(Ve||(Ve={})),function(e){e.Yes="1",e.No="0",e.Unknown="-1"}(qe||(qe={})),function(e){e.V1="v1",e.V2="v2"}(We||(We={}));var Ke,ze,Xe,Qe,Je,Ze,et,tt,nt,it,rt,ot,at,st,ut,ct,dt,ft,lt,_t,ht,pt,gt,vt,mt=We.V1;!function(e){e.Feature_CCPA="features.ccpa",e.Feature_GDPR="features.gdpr",e.Feature_TVE="features.tve",e.Auth="auth",e.AuthCDN="auth.cdn",e.AuthDRM="auth.drm",e.Ads="ads",e.Analytics="analytics",e.Analytics_Bitmovin="analytics.bitmovin",e.Analytics_Conviva="analytics.conviva",e.Analytics_Comscore="analytics.comscore",e.Analytics_OpenMeasurement="analytics.openMeasurement",e.DRM="drm",e.DRM_Widevine="drm.widevine",e.DRM_Playready="drm.playready",e.DRM_Fairplay="drm.fairplay",e.Lifecycle="lifecycle",e.Monitors_Live_Ads_Session="monitors.liveAdSession",e.Monitors_Content_Stall="monitors.contentStall",e.Monitors_Prune="monitors.prune",e.UI="ui",e.Debug="debug"}(Ke||(Ke={})),function(e){e.Module_Notification="moduleNotification",e.State_Changed="stateChanged",e.Config_Updated="configUpdated"}(ze||(ze={})),function(e){e.Pending="pending",e.Initializing="initializing",e.Preparing="preparing",e.Transforming="transforming",e.Initialized="initialized",e.Waiting="waiting",e.Validating="validating",e.Validated="validated",e.Ads_Beginning="adsBeginning",e.Ads_Playback="adsPlayback",e.Ads_Completed="adsCompleted",e.Authorizing="authorizing",e.Authorized="authorized",e.Media_Beginning="mediaBeginning",e.Media_Playback="mediaPlayback",e.Media_Completed="mediaCompleted",e.Interrupting="interrupting",e.Interrupted="interrupted",e.Finished="finished",e.Error="error",e.Ending="ending",e.Ended="ended"}(Xe||(Xe={})),Qe||(Qe={})),Je||(Je={})),function(e){e.EMBEDDED="embedded",e.TAG="tag",e.OTHER="other"}(Ze||(Ze={})),function(e){e.Pending="pending",e.Windowed="windowed",e.Fullscreen="fullscreen",e.Remote="remote"}(et||(et={})),function(e){e.Pending="pending",e.Creating="creating",e.Created="created",e.Attaching="attaching",e.Attached="attached",e.Windowed="windowed",e.Entering_Fullscreen="enteringFullscreen",e.Fullscreen="fullscreen",e.Exiting_Fullscreen="exitingFullscreen",e.Entering_Remote="enteringRemote",e.Remote="remote",e.Exiting_Remote="exitingRemote",e.Detaching="detaching",e.Detached="detached",e.Destroying="destroying",e.Destroyed="destroyed",e.Error="error"}(tt||(tt={})),function(e){e.State_Changed="stateChanged",e.Processed="processed",e.Activated="activated"}(nt||(nt={})),function(e){e.Embedded="embedded",e.Manifest="manifest",e.Unknown="unknown"}(it||(it={})),function(e){e.Pending="pending",e.Processing="processing",e.Processed="processed",e.Listening="listening",e.Activated="activated",e.Completed="completed"}(rt||(rt={})),function(e){e.Widevine="widevine",e.Fairplay="fairplay",e.Playready="playready"}(ot||(ot={})),function(e){e.Unknown="UN",e.Nexus="NX",e.Target="TA",e.Shared="SH",e.Native_Service="NS"}(at||(at={})),function(e){e.Unknown="00",e.Web="01",e.iOS="02",e.Android="03",e.React_Native="04"}(st||(st={})),function(e){e.Provider_Does_Not_Exist="The GDPR Transparency and Consent Framework does not exist.",e.Request_Timeout="Request for the GDPR consent data timed out. Ensure to accept the prompt displayed by the CMP provider.",e.Request_Error="There was an error when retrieving the GDPR consent data.",e.Mismatch_Error="The configured GDPR Transparency and Consent Framework version does not match the version available."}(ut||(ut={})),function(e){e.Default="default",e.None="none",e.Toggle_Pause="togglePause",e.Toggle_Controls="toggleControls"}(ct||(ct={})),function(e){e.Controls="controls",e.Slates="slates",e.Containers="containers"}(dt||(dt={})),function(e){e.Root_Surface="RootSurface"}(ft||(ft={})),function(e){e.Left="left",e.Right="right",e.Center="center",e.Top_Left="topLeft",e.Top_Right="topRight"}(lt||(lt={})),function(e){e.Play="Play",e.Volume="Volume",e.Closed_Captions="ClosedCaptions",e.Bitrate="Bitrate",e.Time_Duration="TimeDuration",e.Fullscreen="Fullscreen",e.Progress_Bar="ProgressBar",e.Live="Live",e.Air_Play="AirPlay",e.Cast="Cast",e.Fast_Forward="FastForward",e.Rewind="Rewind"}(_t||(_t={})),function(e){e.Live="LIVE",e.VOD="VOD",e.Live_No_DVR="LIVE_NO_DVR"}(ht||(ht={})),function(e){e.Giant_Play="GiantPlaySlate",e.Start="StartSlate",e.Buffering="BufferingSlate",e.End="EndSlate",e.Ad="AdSlate",e.Media_Playback="MediaPlaybackSlate"}(pt||(pt={})),function(e){e.Default="default"}(gt||(gt={})),vt||(vt={}))},function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=69)}([function(e,t,n){"use strict";var i=n(3).a.Symbol;t.a=i},function(e,t,n){"use strict";var i,r=n(30),o=n(3).a["__core-js_shared__"],a=(i=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",s=n(2),u=n(18),c=/^\[object .+?Constructor\]$/,d=Function.prototype,f=Object.prototype,l=d.toString,_=f.hasOwnProperty,h=RegExp("^"+l.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.a=,function(e,t,n){"use strict";var i=n(67),r=n(2),o=n(21),a=Object.prototype.hasOwnProperty,s=n(10);t.a=function(e){return Object(s.a)(e)?Object(i.a)(e,!0):e)}},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(116)),i(n(119)),i(n(81)),i(n(120)),i(n(73)),i(n(124)),i(n(82)),i(n(125)),i(n(127)),i(n(74)),i(n(128))},function(e,n,i){"use strict";(function(e){var r=i(3),o=i(110),a=t&&!t.nodeType&&t,s=a&&"object"==typeof e&&e&&!e.nodeType&&e,u=s&&s.exports===a?r.a.Buffer:void 0,c=(u?u.isBuffer:void 0)||o.a;n.a=c}).call(this,i(72)(e))},function(e,n,i){"use strict";(function(e){var r=i(54),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o&&r.a.process,u=function(){try{return a&&a.require&&a.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();n.a=u}).call(this,i(72)(e))},function(e,t,n){"use strict";var i=n(7),r=n(3),o=Object(i.a)(r.a,"Map");t.a=o},function(e,t,n){"use strict";var i=n(59),r=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?i.a;t.a=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Adobe="adobe",e.JWS="jws"}(t.AuthTokenType||(t.AuthTokenType={}))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(71))},function(e,t,n){"use strict";var i=n(28),r=n(39),o=n(9),a=s=n(60),u=n(61),c=n(34),d=n(68),f=n(16),l=n(0),_=n(10),h=n(1),p=g=n(14),v=n(30),m=n(2),y=n(48),b=n(44),S=$=n(8),T=n(11),E=A=t.a=function e(t,n,r,o,s){t!==n&&n,(,T.a)}},function(e,t,n){"use strict";var i=function(e){return e!=e};t.a=,function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(80)),i(n(132)),i(n(85))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(138)),i(n(139))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(140)),i(n(141))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(148)),i(n(100))},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(112))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(113)),i(n(50))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(79)),i(n(77))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(90))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(137)),i(n(91))},function(e,t,n){(function(n){var i;!function(n,r){e.exports=function(n){"use strict";var r,o=(n=n||{}).Base64,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(e){for(var t={},n=0,i=e.length;n<i;n++)t[e.charAt(n)]=n;return t}(a),u=String.fromCharCode,c=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?u(192|t>>>6)+u(128|63&t):u(224|t>>>12&15)+u(128|t>>>6&63)+u(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return u(240|t>>>18&7)+u(128|t>>>12&63)+u(128|t>>>6&63)+u(128|63&t)},d=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,f=function(e){return e.replace(d,c)},l=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[a.charAt(n>>>18),a.charAt(n>>>12&63),t>=2?"=":a.charAt(n>>>6&63),t>=1?"=":a.charAt(63&n)].join("")},_=n.btoa&&"function"==typeof n.btoa?function(e){return n.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,l)},h=function(e){return _(f(String(e)))},p=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,"")},g=function(e,t){return t?p(h(e)):h(e)};n.Uint8Array&&(r=function(e,t){for(var n="",i=0,r=e.length;i<r;i+=3){var o=e[i],s=e[i+1],u=e[i+2],c=o<<16|s<<8|u;n+=a.charAt(c>>>18)+a.charAt(c>>>12&63)+(void 0!==s?a.charAt(c>>>6&63):"=")+(void 0!==u?a.charAt(63&c):"=")}return t?p(n):n});var v,m=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,y=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return u(55296+(t>>>10))+u(56320+(1023&t));case 3:return u((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return u((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},b=function(e){return e.replace(m,y)},S=function(e){var t=e.length,n=t%4,i=(t>0?s[e.charAt(0)]<<18:0)|(t>1?s[e.charAt(1)]<<12:0)|(t>2?s[e.charAt(2)]<<6:0)|(t>3?s[e.charAt(3)]:0),r=[u(i>>>16),u(i>>>8&255),u(255&i)];return r.length-=[0,0,2,1][n],r.join("")},$=n.atob&&"function"==typeof n.atob?function(e){return n.atob(e)}:function(e){return e.replace(/\S{1,4}/g,S)},T=function(e){return $(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},E=function(e){return function(e){return b($(e))}(String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))};if(n.Uint8Array&&(v=function(e){return Uint8Array.from(T(e),(function(e){return e.charCodeAt(0)}))}),n.Base64={VERSION:"2.6.2",atob:T,btoa:_,fromBase64:E,toBase64:g,utob:f,encode:g,encodeURI:function(e){return g(e,!0)},btou:b,decode:E,noConflict:function(){var e=n.Base64;return n.Base64=o,e},fromUint8Array:r,toUint8Array:v},"function"==typeof Object.defineProperty){var A=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};n.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",A((function(){return E(this)}))),Object.defineProperty(String.prototype,"toBase64",A((function(e){return g(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",A((function(){return g(this,!0)})))}}return n.Meteor&&(Base64=n.Base64),e.exports?e.exports.Base64=n.Base64:void 0===(i=function(){return n.Base64}.apply(t,[]))||(e.exports=i),{Base64:n.Base64}}(n)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:this)}).call(this,n(71))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(75))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(99)),i(n(149)),i(n(101))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(151)),i(n(153)),i(n(78)),i(n(154))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(155)),i(n(107)),i(n(108))},function(e,t,n){"use strict";n.r(t);var i=n(28),r=n(22),o=n(8),a=n(25),s=function(e,t){return e&&Object(o.a)(t,Object(a.a)(t),e)},u=n(11),c=d=n(60),f=n(34),l=n(45),_=h=n(36),p=n(38),g=n(59),v=Object.getOwnPropertySymbols?g.a,m=y=n(49),b=n(57),S=$=n(15),T=Object.prototype.hasOwnProperty,E=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&T.call(e,"index")&&(n.index=e.index,n.input=e.input),n},A=n(40),C=/\w*$/,I=n(6),P=I.a?I.a.prototype:void 0,k=P?P.valueOf:void 0,w=n(61),M=O=n(68),R=n(0),D=n(14),x=n(1),L=n(19),N=n(17),U=N.a&&N.a.isMap,B=U?Object(L.a)(U):function(e){return Object(x.a)(e)&&"[object Map]"==Object($.a)(e)},F=n(2),j=N.a&&N.a.isSet,H=j?Object(L.a)(j):function(e){return Object(x.a)(e)&&"[object Set]"==Object($.a)(e)},V={};V["[object Arguments]"]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object DataView]"]=V["[object Boolean]"]=V["[object Date]"]=V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Map]"]=V["[object Number]"]=V["[object Object]"]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object Symbol]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V["[object Error]"]=V["[object Function]"]=V["[object WeakMap]"]=!1,t.default=function(e){return function e(t,n,o,l,h,p){var g,v=1&n,b=2&n,T=4&n;if(o&&(g=h?o(t,l,h,p):o(t)),void 0!==g)return g;if(!Object(F.default)(t))return t;var A=Object(R.default)(t);if(A){if(g=E(t),!v)return Object(f.a)(t,g)}else{var C=Object($.a)(t),I="[object Function]"==C||"[object GeneratorFunction]"==C;if(Object(D.a)(t))return Object(d.a)(t,v);if("[object Object]"==C||"[object Arguments]"==C||I&&!h){if(g=b||I?{}:Object(O.a)(t),!v)return b?m(t,c(g,t)):_(t,s(g,t))}else{if(!V[C])return h?t:{};g=M(t,C,v)}}p||(p=new i.a);var P=p.get(t);if(P)return P;p.set(t,g),H(t)?t.forEach((function(i){g.add(e(i,n,o,i,t,p))})):B(t)&&t.forEach((function(i,r){g.set(r,e(i,n,o,r,t,p))}));var k=T?b?S:y.a:b?u.a:a.a,w=A?void 0:k(t);return function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n););}(w||t,(),g}(e,5)}},function(e,t,n){"use strict";n.r(t);var i=n(65),r=n(64),o=a=n(56),s=n(29),u=n(35),c=s.a&&1/Object(u.a)(new s.a([,-0]))[1]==1/0?function(){};t.default=function(e){return e&&e.length?function(e,t,n){var r=-1,s=o,d=e.length,f=!0,l=[],_=l;if(d>=200){var h=c(e);if(h)return Object(u.a)(h);f=!1,s=a.a,_=new i.a}else _=l;e:for(;++r<d;){var p=e[r],g=p;if(p=0!==p?p:0,f&&g==g){for(var v=_.length;v--;)if(_[v]===g)continue e;l.push(p)}else s(_,g,n)||(_!==l&&_.push(g),l.push(p))}return l}(e):[]}},function(e,t,n){"use strict";n.r(t);var i=/\s/,r=/^\s+/,o=n(2),a=n(23),s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,f=t.default=,function(e,t,n){"use strict";n.r(t);var i=n(62),r=(n(55),n(64)),o=(n(19),n(34)),a=Array.prototype.splice,s=Object(i.a)((function(e,t){return e&&e.length&&t&&t.length?function(e,t,n,i){var s=r.a,u=-1,c=t.length,d=e;for(e===t&&(t=Object(o.a)(t));++u<c;)for(var f=0,l=t[u],_=l;(f=s(d,_,f,i))>-1;)d!==e&&a.call(d,f,1),a.call(e,f,1);return e}(e,t):e}));t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(22),r=n(42),o=n(20),a=n(2),s=n(41);t.default=function(e,t,n){return null==e?e:function(e,t,n,u){if(!Object(a.default)(e))return e;for(var c=-1,d=(t=Object(r.a)(t,e)).length,f=d-1,l=e;null!=l&&++c<d;){var _=Object(s.a)(t[c]),h=n;if("__proto__"===_||"constructor"===_||"prototype"===_)return e;if(c!=f){var p=l[_];void 0===(h=void 0)&&(h=Object(a.default)(p)?p:Object(o.a)(t[c+1])?[]:{})}Object(i.a)(l,_,h),l=l[_]}return e}(e,t,n)}},)},function(e,t,n){"use strict";n.r(t),n(170);var i=n(148);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r)},function(e,t,n){var i,r,o,a;o=this,void 0!==(r="function"==typeof(i=a=function(){var e={};return function(){"use strict";var t,n,i,r,o,a,s,u,c,d,f,l,_,h,p,g,v,m,y,b,S,$,T,E,A,C,I,P,k,w,M,O,R,D,x,L,N,U,B,F,j,H,V,q,W,G,Y,K,z,X,Q,J,Z,ee,te,ne,ie,re,oe,ae,se,ue={};.Constants={version:"4.5.10",CUSTOMER_KEY:"customerKey",GATEWAY_URL:"gatewayUrl",LOG_LEVEL:"logLevel",ASSET_NAME:"Conviva.assetName",PLAYER_NAME:"Conviva.applicationName",APPLICATION_VERSION:"c3.app.version",IS_LIVE:"Conviva.streamType",ENCODED_FRAMERATE:"Conviva.encodedFrameRate",DEFAULT_RESOURCE:"Conviva.defaultResource",STREAM_URL:"Conviva.streamUrl",VIEWER_ID:"Conviva.viewerId",DURATION:"Conviva.duration",UTM_TRACKING_URL:"c3.cm.utmTrackingUrl",POD_INDEX:"podIndex",POD_POSITION:"podPosition",POD_DURATION:"podDuration",AD_TYPE:"adType",MODULE_NAME:"Conviva.moduleName",MODULE_VERSION:"Conviva.moduleVersion",FRAMEWORK_NAME:"Conviva.frameworkName",FRAMEWORK_VERSION:"Conviva.frameworkVersion",i:"Constants not yet configured",o:"Invalid : Did you report playback ended?",u:"Invalid : Did you report ad playback ended?",h:"Player cannot be null",l:"PlaybackAnlytics already built",v:"PlaybackAnlytics not yet built",Playback:{BITRATE:"BITRATE",PLAY_HEAD_TIME:"PLAY_HEAD_TIME",RESOLUTION:"RESOLUTION",BUFFER_LENGTH:"BUFFER_LENGTH",PLAYER_STATE:"PLAYER_STATE",RENDERED_FRAMERATE:"RENDERED_FRAMERATE",SEEK_STARTED:"SEEK_STARTED",SEEK_ENDED:"SEEK_ENDED",CDN_IP:"CDN_IP",DROPPED_FRAMES_TOTAL:"DROPPED_FRAMES_TOTAL",DROPPED_FRAMES_COUNT:"DROPPED_FRAMES_COUNT"},Network:{SIGNAL_STRENGTH:"SIGNAL_STRENGTH",LINK_ENCRYPTION:"LINK_ENCRYPTION",CONNECTION_TYPE:"CONNECTION_TYPE"},ErrorSeverity:{FATAL:1,WARNING:0},NO_SESSION_KEY:-2,AdPosition:{PREROLL:"Pre-roll",MIDROLL:"Mid-roll",POSTROLL:"Post-roll"},AdPlayer:{CONTENT:"CONTENT",SEPARATE:"SEPARATE"},DeviceType:{DESKTOP:"DESKTOP",CONSOLE:"Console",SETTOP:"Settop",MOBILE:"Mobile",TABLET:"Tablet",SMARTTV:"SmartTV"},AdType:{CLIENT_SIDE:"Client Side",SERVER_SIDE:"Server Side"},AdSlates:{BLACKOUT_SLATE:"Blackout slate",TECHNICAL_DIFFICULTIES_SLATE:"Technical Difficulties slate",COMMERCIAL_SLATE:"Commercial Break slate",OTHER_SLATE:"Other slate",VPAID:"VPAID",REGULAR:"Regular Ad"},AdServingType:{INLINE:"Inline",WRAPPER:"Wrapper"},DeviceCategory:{ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",LG_TV:"LGTV",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",SMART_TV:"TV",SET_TOP_BOX:"STB",TIVO:"TIVO",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB",KAIOS_DEVICE:"KAIOS"},LogLevel:{DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},PlayerState:{STOPPED:"STOPPED",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSED:"PAUSED",UNKNOWN:"UNKNOWN",NOT_MONITORED:"NOT_MONITORED"},Events:{USER_WAIT_STARTED:"Conviva.UserWaitStarted",USER_WAIT_ENDED:"Conviva.UserWaitEnded",BUMPER_VIDEO_STARTED:"Conviva.BumperVideoStarted",BUMPER_VIDEO_ENDED:"Conviva.BumperVideoEnded",AD_REQUESTED:"Conviva.AdRequested",AD_RESPONSE:"Conviva.AdResponse",AD_SLOT_STARTED:"Conviva.SlotStarted",AD_ATTEMPTED:"Conviva.AdAttempted",AD_SLOT_ENDED:"Conviva.SlotEnded",AD_IMPRESSION_START:"Conviva.AdImpression",AD_START:"Conviva.AdStart",AD_FIRST_QUARTILE:"Conviva.AdFirstQuartile",AD_MID_QUARTILE:"Conviva.AdMidQuartile",AD_THIRD_QUARTILE:"Conviva.AdThirdQuartile",AD_COMPLETE:"Conviva.AdComplete",AD_END:"Conviva.AdEnd",AD_IMPRESSION_END:"Conviva.AdImpressionEnd",AD_SKIPPED:"Conviva.AdSkipped",AD_ERROR:"Conviva.AdError",AD_PROGRESS:"Conviva.AdProgress",AD_CLOSE:"Conviva.AdClose",CONTENT_PAUSED:"Conviva.PauseContent",CONTENT_RESUMED:"Conviva.ResumeContent",POD_START:"Conviva.PodStart",POD_END:"Conviva.PodEnd"},ErrorType:{ERROR_UNKNOWN:"ERROR_UNKNOWN",ERROR_IO:"ERROR_IO",ERROR_TIMEOUT:"ERROR_TIMEOUT",ERROR_NULL_ASSET:"ERROR_NULL_ASSET",ERROR_MISSING_PARAMETER:"ERROR_MISSING_PARAMETER",ERROR_NO_AD_AVAILABLE:"ERROR_NO_AD_AVAILABLE",ERROR_PARSE:"ERROR_PARSE",ERROR_INVALID_VALUE:"ERROR_INVALID_VALUE",ERROR_INVALID_SLOT:"ERROR_INVALID_SLOT",ERROR_3P_COMPONENT:"ERROR_3P_COMPONENT",ERROR_UNSUPPORTED_3P_FEATURE:"ERROR_UNSUPPORTED_3P_FEATURE",ERROR_DEVICE_LIMIT:"ERROR_DEVICE_LIMIT",ERROR_UNMATCHED_SLOT_SIZE:"ERROR_UNMATCHED_SLOT_SIZE"},StreamType:{UNKNOWN:"UNKNOWN",LIVE:"LIVE",VOD:"VOD"},CallbackFunctions:{CONSOLE_LOG:"consoleLog",MAKE_REQUEST:"makeRequest",SAVE_DATA:"saveData",LOAD_DATA:"loadData",GET_EPOCH_TIME_IN_MS:"getEpochTimeInMs",CREATE_TIMER:"createTimer",GENERATE_HASH:"generateHash",BASE64_ENCODE:"base64Encode"},DeviceMetadata:{BRAND:"DeviceBrand",MANUFACTURER:"DeviceManufacturer",MODEL:"DeviceModel",TYPE:"DeviceType",VERSION:"DeviceVersion",OS_NAME:"OperatingSystemName",OS_VERSION:"OperatingSystemVersion",CATEGORY:"DeviceCategory",SCREEN_RESOLUTION_WIDTH:"ScreenWidth",SCREEN_RESOLUTION_HEIGHT:"ScreenHeight",SCREEN_RESOLUTION_SCALE_FACTOR:"ScaleFactor"},AD_PRELOAD_FEATURE:"adPreloading",AD_TAG_URL:"adTagUrl",IMASDK_CONTENT_PLAYER:"imaMainContentPlayer",CONVIVA_AD_MODULE:"convivaAdModule",CONVIVA_MODULE:"convivaModule",MEDIA_ELEMENT:"mediaElement"},(f=e.Client=.version="4.5.10L",f.NO_SESSION_KEY=d.NO_SESSION_KEY,f.AdPosition={PREROLL:d.AdPosition.PREROLL,MIDROLL:d.AdPosition.MIDROLL,POSTROLL:d.AdPosition.POSTROLL},f.AdStream={CONTENT:d.AdPlayer.CONTENT,SEPARATE:d.AdPlayer.SEPARATE},f.AdPlayer={CONTENT:d.AdPlayer.CONTENT,SEPARATE:d.AdPlayer.SEPARATE},f.ErrorSeverity={FATAL:d.ErrorSeverity.FATAL,WARNING:d.ErrorSeverity.WARNING},f.DeviceType={DESKTOP:d.DeviceType.DESKTOP,CONSOLE:d.DeviceType.CONSOLE,SETTOP:d.DeviceType.SETTOP,MOBILE:d.DeviceType.MOBILE,TABLET:d.DeviceType.TABLET,SMARTTV:d.DeviceType.SMARTTV},f.AdTechnology={CLIENT_SIDE:d.AdType.CLIENT_SIDE,SERVER_SIDE:d.AdType.SERVER_SIDE},f.AdType={BLACKOUT_SLATE:d.AdSlates.BLACKOUT_SLATE,TECHNICAL_DIFFICULTIES_SLATE:d.AdSlates.TECHNICAL_DIFFICULTIES_SLATE,COMMERCIAL_SLATE:d.AdSlates.COMMERCIAL_SLATE,OTHER_SLATE:d.AdSlates.OTHER_SLATE,VPAID:d.AdSlates.VPAID,REGULAR:d.AdSlates.REGULAR},f.AdServingType={INLINE:d.AdServingType.INLINE,WRAPPER:d.AdServingType.WRAPPER},f.DeviceCategory={ANDROID_DEVICE:d.DeviceCategory.ANDROID_DEVICE,APPLE_DEVICE:d.DeviceCategory.APPLE_DEVICE,CHROMECAST:d.DeviceCategory.CHROMECAST,DESKTOP_APP:d.DeviceCategory.DESKTOP_APP,DEVICE_SIMULATOR:d.DeviceCategory.DEVICE_SIMULATOR,LG_TV:d.DeviceCategory.LG_TV,NINTENDO:d.DeviceCategory.NINTENDO,PLAYSTATION:d.DeviceCategory.PLAYSTATION,ROKU:d.DeviceCategory.ROKU,SAMSUNG_TV:d.DeviceCategory.SAMSUNG_TV,SMART_TV:d.DeviceCategory.SMART_TV,SET_TOP_BOX:d.DeviceCategory.SET_TOP_BOX,TIVO:d.DeviceCategory.TIVO,WEB:d.DeviceCategory.WEB,WINDOWS_DEVICE:d.DeviceCategory.WINDOWS_DEVICE,XBOX:d.DeviceCategory.XBOX,KAIOS_DEVICE:d.DeviceCategory.KAIOS_DEVICE},(l=e.ClientSettings=.nn="https://conviva.testonly.conviva.com",l.cn="https://cws.conviva.com",l.rt="cws.conviva.com",l.j="ipv4.cws.conviva.com",l.q="ipv6.cws.conviva.com",l.fn="conviva.testonly.conviva.com",l.G="ipv4.testonly.conviva.com",l.J="ipv6.testonly.conviva.com",l.ot="https://",l.ut="http://",l.ln=5,l.un=20,(_=e.ContentMetadata=.StreamType={UNKNOWN:d.StreamType.UNKNOWN,LIVE:d.StreamType.LIVE,VOD:d.StreamType.VOD},e.ErrorType={ERROR_UNKNOWN:d.ErrorType.ERROR_UNKNOWN,ERROR_IO:d.ErrorType.ERROR_IO,ERROR_TIMEOUT:d.ErrorType.ERROR_TIMEOUT,ERROR_NULL_ASSET:d.ErrorType.ERROR_NULL_ASSET,ERROR_MISSING_PARAMETER:d.ErrorType.ERROR_MISSING_PARAMETER,ERROR_NO_AD_AVAILABLE:d.ErrorType.ERROR_NO_AD_AVAILABLE,ERROR_PARSE:d.ErrorType.ERROR_PARSE,ERROR_INVALID_VALUE:d.ErrorType.ERROR_INVALID_VALUE,ERROR_INVALID_SLOT:d.ErrorType.ERROR_INVALID_SLOT,ERROR_3P_COMPONENT:d.ErrorType.ERROR_3P_COMPONENT,ERROR_UNSUPPORTED_3P_FEATURE:d.ErrorType.ERROR_UNSUPPORTED_3P_FEATURE,ERROR_DEVICE_LIMIT:d.ErrorType.ERROR_DEVICE_LIMIT,ERROR_UNMATCHED_SLOT_SIZE:d.ErrorType.ERROR_UNMATCHED_SLOT_SIZE},e.Events={AD_REQUESTED:d.Events.AD_REQUESTED,AD_RESPONSE:d.Events.AD_RESPONSE,AD_SLOT_STARTED:d.Events.AD_SLOT_STARTED,AD_ATTEMPTED:d.Events.AD_ATTEMPTED,AD_SLOT_ENDED:d.Events.AD_SLOT_ENDED,AD_IMPRESSION_START:d.Events.AD_IMPRESSION_START,AD_START:d.Events.AD_START,AD_FIRST_QUARTILE:d.Events.AD_FIRST_QUARTILE,AD_MID_QUARTILE:d.Events.AD_MID_QUARTILE,AD_THIRD_QUARTILE:d.Events.AD_THIRD_QUARTILE,AD_COMPLETE:d.Events.AD_COMPLETE,AD_END:d.Events.AD_END,AD_IMPRESSION_END:d.Events.AD_IMPRESSION_END,AD_SKIPPED:d.Events.AD_SKIPPED,AD_ERROR:d.Events.AD_ERROR,AD_PROGRESS:d.Events.AD_PROGRESS,AD_CLOSE:d.Events.AD_CLOSE,CONTENT_PAUSED:d.Events.CONTENT_PAUSED,CONTENT_RESUMED:d.Events.CONTENT_RESUMED,POD_START:d.Events.POD_START,POD_END:d.Events.POD_END},(h=e.PlayerStateManager=.PlayerState={STOPPED:d.PlayerState.STOPPED,PLAYING:d.PlayerState.PLAYING,BUFFERING:d.PlayerState.BUFFERING,PAUSED:d.PlayerState.PAUSED,UNKNOWN:d.PlayerState.UNKNOWN,NOT_MONITORED:d.PlayerState.NOT_MONITORED},h.zn=h.SEEK_ACTIONS_TYPE={SEEK_START:"pss",SEEK_END:"pse",BUTTON_UP:"bu",BUTTON_DOWN:"bd"},h.DEFAULT_SIGNAL_STRENGTH=1e3,h.DEFAULT_RENDERED_FRAME_RATE=-1,h.DEFAULT_BUFFER_LENGTH=-1,h.DEFAULT_PHT=-1,e.ClientMeasureInterface=p=e.HttpInterface=function(){this.makeRequest=function(){},this.release=function(){}},g=e.LoggingInterface=function(){this.consoleLog=function(){},this.release=function(){}},v=e.MetadataInterface=m=e.StorageInterface=y=e.SystemInterface=b=e.TimeInterface=function(){this.getEpochTimeMs=function(){},this.release=function(){}},S=e.TimerInterface=$=e.SystemFactory=(T=e.SystemSettings=.LogLevel={DEBUG:d.LogLevel.DEBUG,INFO:d.LogLevel.INFO,WARNING:d.LogLevel.WARNING,ERROR:d.LogLevel.ERROR,NONE:d.LogLevel.NONE},T.Wi=T.LogLevel.DEBUG,T.Vi=T.LogLevel.NONE,T.xi=!0,T.Fi=!1,T.ji=10,T.Ki=10,E=ue.AdAnalytics=A=ue.AdPlayerMonitorImpl=C=e.Analytics={init:release:setUniqueIdentifier:function(e,t){if(!this.zi)throw new Error(d.i);this.zi.setUniqueIdentifier(e,t)},setUserPreferenceForDataCollection:setUserPreferenceForDataDeletion:reportAppEvent:reportAppBackgrounded:function(){if(!this.zi)throw new Error(d.i);this.zi.sendCustomEvent(f.NO_SESSION_KEY,"App.Backgrounded",null)},reportAppForegrounded:configureExistingClient:buildVideoAnalytics:buildAdAnalytics:setDeviceMetadata:reportDeviceMetric:version:"4.5.10"},I=ue.AnalyticsImpl=ue.AnalyticsImpl.Ce={ye:1,me:2,Ie:3},P=ue.PlayerMonitor=k=ue.PlayerMonitorImpl=e.Impl=e.Impl||{},e.Impl.Html5Http=e.Impl=e.Impl||{},e.Impl.Html5Logging=e.Impl=e.Impl||{},e.Impl.Html5Metadata=e.Impl=e.Impl||{},e.Impl.Html5Storage=e.Impl=e.Impl||{},e.Impl.Html5Time=e.Impl=e.Impl||{},e.Impl.Html5Timer=w=ue.VideoAnalytics=ue.JsonParse=(r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o=a=s=u=c=,L=ue.JSON2={},"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof L.stringify&&(M=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,D={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},L.stringify=,B=ue.Ys={qs:"0123456789abcdef",Js:Xs:Qs:Zs:zs:$s:no:io:,(F=ue.CwsProtocol=.version="2.6",F.ro="/0/wsg",F.B="0",F.uo=-1,F.ho=!1,F.ao=2,F.fo=-1,F.co=-1,F.lo=1e3,F.vo="sdk.js.1",F.do="CwsStateChangeEvent",F.Eo="CwsErrorEvent",F.oo="CwsSessionEndEvent",F._o="CwsCustomEvent",F.Ro="CwsSeekEvent",F.po="CwsDataSamplesEvent",F.To="ok",F.Ao="err",F.So="clid",F.Oo="cfg",F.No="evs",F.wo="maxhbinfos",F.Io="slg",F.Co="hbi",F.yo="gw",F.mo="fp",F.Do="csi_en",F.Po="CwsSessionHb",F.bo="t",F.Mo="st",F.Lo="sst",F.Uo="lv",F.Vo="seq",F.ko="cid",F.Fo="clid",F.Bo="clv",F.Ho="pver",F.jo="iid",F.Go="sid",F.Ko="vid",F.Wo="an",F.xo="pn",F.Yo="tags",F.qo="sf",F.Jo="evs",F.Xo="lg",F.Qo="hbinfos",F.Zo="sdk",F.zo="pj",F.$o="ps",F.tr="br",F.nr="cl",F.ir="efps",F.er="afps",F.sr="rfpstot",F.rr="rfpscnt",F.ur="rs",F.hr="pht",F.ar="bl",F.cr="url",F.lr="caps",F.vr="pm",F.dr="w",F.Er="h",F._r="ct",F.Rr="le",F.pr="dftot",F.Tr="dfcnt",F.Ar="ss",F.Sr="csi_n",F.Or="csi_t",F.Nr="csi_l",F.wr="csi_v",F.gr="csi_c",F.Ir="sch",F.Cr="br",F.yr="brv",F.mr="dvb",F.Dr="dvma",F.Pr="dvm",F.br="dvt",F.Mr="dvv",F.Lr="sw",F.Ur="sh",F.Vr="scf",F.kr="fw",F.Fr="fwv",F.Br="cc",F.Hr="mn",F.jr="mv",F.Gr="os",F.Kr="osv",F.Wr="cat",F.Yr="caps",F.qr="t",F.Jr="seq",F.Xr="st",F.Qr="act",F.Zr="skto",F.zr="err",F.$r="ft",F.tu="new",F.nu="old",F.iu="name",F.eu="attr",F.su="seq",F.ou="err",F.ru="rtt",F.uu="ad",F.hu="csi",F.au=F.fu=1,F.cu=3,F.lu=6,F.vu=12,F.du=98,F.Eu=100,F._u={Ru:0,At:1,pu:2,Tu:4},F.Au={Su:0},j=ue.LibJSONInterface=H=ue.CwsHeartbeat=(V=ue.CwsSession=.Bh=F._u.At+F._u.pu+F._u.Tu,V.St={At:"Video",Ru:"Global",Ct:"Ad"},(q=ue.Session=function(){var e=this;e.pe=null,e.I=0,e.Ka=V.St.At,e.Rc=!1,e.Ra=!1,e.Tc=!1,e.Ac=null,e.te=null,e.Sc=null,e.Oc=!1,e.Nc=h.PlayerState.NOT_MONITORED,e.wc=!1,e.gc=!1,e.Ic=!1,e.Cc=!1,e.yc=!1,apply(e,arguments),this.ja=this.cleanup=this.Lc=this.Mc=this.Pc=this.Vc=this.$n=this.ti=function(t){e.wc||e.wt.Ef(t)},this.hi=function(t){e.gc||e.wt.Oh(t)},this.ai=this.ni=this.Fn=function(t){t>0&&(e.Cc||e.wt.th(t))},this.jn=this.Gn=function(t){e.wt.gh(t)},this.ii=function(t){e.wt.Of(t)},this.ei=function(t){e.wt.wf(t)},this.tt=function(t){e.wt.yh(t)},this.it=function(t){e.wt.mh(t)},this.Yn=function(t){e.wt.hf()||e.wt.dh(t)},this.Jn=this.oi=this.si=function(t,n){e.Dt(t,n)},this.Vn=function(){e.Uc()},this.Gt=this.Kt=this.bt=this.Uc=this.Mt=this.Lt=this.Ut=this.xt=function(){return e.pe},this.Vt=this.kt=this.Dt=this.Pt=this.jt=function(t,n){e.wt.Kf(t,n)},this.Xa=function(){return e.Ka===V.St.Ru},this.Wa=function(){return e.Ka===V.St.At},this.xa=this.Ya=this.qt=function(){return this.I},this.Jt=this.Xt=function(t,n){e.wt.Xt(t,n)}}).Ec="received no response (or a bad response) to heartbeat POST request",W=ue.SessionFactory=G=ue.Yc=(Y=ue.Config=.Jc="sdkConfig",Y.el="clId",Y.dt="iid",Y.F="clientId",Y.$f="sendLogs",Y.Xf="maxHbInfos",Y.ic="c3.fp.",Y.Zt={ec:"0",ol:"1",zt:"2",Qt:"3",sc:"4",tn:"5",$t:"6"},K=ue.EventQueue=z=ue.ExceptionCatcher=X=ue.GatewayControl=Q=ue.Lang={vl:Bt:Bn:Ft:It:function(e){return""+e},dl:function(e){return Math.floor(e)},hn:El:function(e){return Boolean(e)},yt:dc:Bi:function(e){return"boolean"==typeof e},_l:function(e){return escape(e)},wu:function(e){return"object"==typeof e},Af:Rl:oc:Tf:Os:Ot:pl:Tl:Al:sn:on:,(N={two32:4294967296}).Sl=N.two32-1,N.Ol=0,Q.Nl=N,Q.Nl.Cast=function(e){return(e=parseInt(e,10))>N.Sl?e%=N.two32:e<N.Ol&&(e=N.two32-(e=-e%N.two32)),e},Q.Nl.wl=function(e){return(e=parseInt(e,10))<=N.Sl&&e>=N.Ol},U={Sl:2147483647,Ol:-2147483648},Q.ac=U,Q.ac.Cast=Q.ac.wl=Q.js=Q.gl=J=ue.LogBuffer=(Z=ue.Ping=.Cl="sdkjs",Z.Pl="https://pings.conviva.com/ping.ping",ee=ue.bl={Ml:4294967295,Ll:2147483647,Ul:-2147483648,Kc:Et:,te=ue.Vl={Vf:kl:Sn:,ne=ue.StreamerError=ie=ue.HttpClient=(re=ue.Logger=.Bl=ue.Storage=ue.Storage.Jl="Conviva",(oe=ue.SystemMetadata=.BROWSER_NAME="browserName",oe.BROWSER_VERSION="browserVersion",oe.DEVICE_BRAND="deviceBrand",oe.DEVICE_MANUFACTURER="deviceManufacturer",oe.DEVICE_MODEL="deviceModel",oe.DEVICE_TYPE="deviceType",oe.DEVICE_VERSION="deviceVersion",oe.FRAMEWORK_NAME="frameworkName",oe.FRAMEWORK_VERSION="frameworkVersion",oe.OPERATING_SYSTEM_NAME="operatingSystemName",oe.OPERATING_SYSTEM_VERSION="operatingSystemVersion",oe.DEVICE_CATEGORY="deviceCategory",oe.SCREEN_WIDTH="screenWidth",oe.SCREEN_HEIGHT="screenHeight",oe.SCALE_FACTOR="scaleFactor",ae=ue.Time=se=ue.Timer=(),e})?i.call(t,n,t,e):i)&&(e.exports=r),void 0===o||!o||o.Conviva||o.ConvivaLoading||(o.ConvivaLoading=!0,o.Conviva=a(),delete o.ConvivaLoading)},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return a.a})),n.d(t,"a",(function(){return s.a}));var i,r=n(1);function o(){return Object(r.createEventCollection)({fullscreenEntered:Object(r.createEvent)(i.Fullscreen_Entered),fullscreenExited:Object(r.createEvent)(i.Fullscreen_Exited)})}!function(e){e.Fullscreen_Entered="fullscreenEntered",e.Fullscreen_Exited="fullscreenExited"}(i||(i={}));var a=n(95),s=n(62)},function(e,t,n){"use strict";n.d(t,"k",(function(){return i.c})),n.d(t,"c",(function(){return i.a})),n.d(t,"l",(function(){return i.d})),n.d(t,"e",(function(){return i.b})),n.d(t,"i",(function(){return r.a})),n.d(t,"b",(function(){return o.a})),n.d(t,"j",(function(){return a.a})),n.d(t,"d",(function(){return _})),n.d(t,"f",(function(){return u.b})),n.d(t,"g",(function(){return u.c})),n.d(t,"a",(function(){return u.a})),n.d(t,"h",(function(){return h}));var i=n(90),r=n(91),o=n(97),a=n(46),s=n(1),u=n(6),c=n(45),d=n(53),f=n(0);const l=s.Log.getLogger("CCManager").filter("captions");class _{requestModelUpdates(e){this.events.modelUpdateRequest.dispatch({changes:e})}syncCaptionTracksModel(){this._requestModelUpdates([{property:f.ab.Caption_Tracks,value:s.ArrayUtils.deepCopy(this._tracks)}])}requestCueRemovalFromModel(e){this._requestModelUpdates([{property:f.ab.Caption_Cues,value:e,mode:f.bb.Array_Remove_By_Position}])}_requestCueAdditionToModel(e){this._requestModelUpdates([{property:f.ab.Caption_Cues,value:e,mode:f.bb.Array_Append}])}etCaptionTrackById(e){return this._tracks.find((t=>t.id===e))||null}_getCaptionCueById(e){return this._cues.find((t=>t.id===e))||null}t tracks(){return this._tracks}(e){this._provider.prune(e)}var h;!function(e){e.Default="com.turner.top.captions.default"}(h||(h={}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var i,r=n(1);function(e){e.Model_Update_Request="modelUpdateRequest",e.Started="started",e.Marker_Added="markerAdded",e.Marker_Approaching="markerApproaching",e.Marker_Activated="markerActivated",e.Marker_Finishing="markerFinishing",e.Marker_Deactivated="markerDeactivated",e.Marker_Removed="markerRemoved"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var i,r=n(1);function(e){e.Player_Error="playerError",e.Player_State_Changed="playerControllerStateChanged",e.View_State_Changed="viewStateChanged",e.Module_Notification="playerModuleNotification",e.Transaction_State_Changed="playerTransactionStateChanged",e.Transaction_Config_Updated="playerTransactionConfigUpdated"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i.a}));var i=n(41)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var i,r=n(1);function o(){return Object(r.createEventCollection)({slidingWindowChanged:Object(r.createEvent)(i.Sliding_Window_Changed)})}!function(e){e.Sliding_Window_Changed="slidingWindowChanged"}(i||(i={}))},function(e,t,n){"use strict";var i=n(136),r="object"==typeof self&&self&&self.Object===Object&&self,o=i.a||r||Function("return this")();t.a=o},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var i,r=n(1);function(e){e.Model_Update_Request="modelUpdateRequest",e.Cue_State_Changed="cueStateChanged",e.Cue_Processed="cueProcessed",e.Cue_Activated="cueActivated"}(i||(i={}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(module,exports,__nested_webpack_require_355073__){(function(Buffer,global,module){var t;self,t=function(){return(()=>{var __webpack_modules__={6073:1235:8710:6366:982:862:7964:5250:4051:6265:6464:1305:6474:50:6646:2385:3698:1862:9473:5489:8002:8686:420:4485:1622:6028:6161:3730:7995:7196:4843:4796:5719:6037:1498:6822:6619:2326:6748:4672:6670:868:936:1289:3755:6044:9513:5406:597:7823:2612:2971:4409:191:9742:4663:2614:943:8617:9294:7466:4739:6710:8246:7692:5495:4543:346:5959:9474:7195:2536:8870:9036:4271:6818:4269:311:3897:6987:9566:8764:7187:4445:645:5717:4281:6753:2725:9481:4605:4229:5850:7327:1195:8610:5167:9946:2457:2503:6099:2830:2553:396:3686:642:5910:1784:3591:4927:8255:9728:5079:2631:2361:()=>{},4616:()=>{},3091:()=>{},5591:()=>{},2522:6942:,__webpack_module_cache__={};_nested_webpack_require_2661885__.amdD=__nested_webpack_require_2661885__.n=__nested_webpack_require_2661885__.d=__nested_webpack_require_2661885__.g=),__nested_webpack_require_2661885__.o=__nested_webpack_require_2661885__.r=__nested_webpack_require_2661885__.nmd=var __webpack_exports__={};return(()=>{"use strict";__nested_webpack_require_2661885__.r(__webpack_exports__),__nested_webpack_require_2661885__.d(__webpack_exports__,{AdSystem:ArrayHelper:BitmovinEvents:()=>r.PlayerEvent,BreakType:()=>o.CT,BufferType:()=>r.BufferType,ComScoreMediaType:()=>a.ComScoreMediaType,ComScoreUserConsent:()=>a.ComScoreUserConsent,Environment:()=>c,ErrorCode:()=>r.ErrorCode,HttpResponseType:()=>r.HttpResponseType,LogLevel:()=>r.LogLevel,Logger:()=>f.Y,MediaType:()=>r.MediaType,MetadataType:()=>r.MetadataType,PlaybackMode:()=>o.su,PlayerType:()=>r.PlayerType,StreamType:()=>r.StreamType,SupportedTechnologyMode:()=>r.SupportedTechnologyMode,TimeMode:()=>r.TimeMode,Tub:()=>zn,TubEvents:()=>i,ViewMode:()=>r.ViewMode,YospaceErrorMessages:()=>u}),__nested_webpack_require_2661885__(2631);var e=__nested_webpack_require_2661885__(5079),t=(__nested_webpack_require_2661885__(8255),__nested_webpack_require_2661885__(9728)),n=__nested_webpack_require_2661885__.n(t);window.OmidSessionClient={default:e.OmidSessionClient,"1.3.37-iab3566":e.OmidSessionClient},window.ns_={analytics:n()};var i,r=__nested_webpack_require_2661885__(8617),o=__nested_webpack_require_2661885__(2612),a=__nested_webpack_require_2661885__(6073),s=__nested_webpack_require_2661885__(1784);!function(e){e.Analytic_Update="yospace_analytic_update",e.Yospace_Init_Failure="yospace_init_failure",e.Yospace_Session_Timeout="yospace_session_timeout"}(i||(i={}));const u={[o.Ct]:"CONNECTION_ERROR",[o.zU]:"CONNECTION_TIMEOUT",[o.lc]:"MALFORMED_URL",[o.Qr]:"UNKNOWN_FORMAT",8e3:"UNEXPECTED_ASSET_TYPE",404:"PAGE_NOT_FOUND"};class c{static determine(e){const t=c,n={isEdgium:t.isEdgium,isEdge:t.isEdge,isChrome:t.isChrome,isIE11:t.isIE11,isFirefox:t.isFirefox,isSafari:t.isSafari,isAndroid:t.isAndroid,isIOS:t.isIOS,isWindows:t.isWindows,isOSX:t.isOSX,isLinux:t.isLinux,isChromecast:t.isChromecast,isTizen:t.isTizen,isWebOS:t.isWebOS,isTopUI:t.isTopUI},i=Object.keys(n);return e=e.toLowerCase(),i.reduce(((t,i)=>{const r=n[i];return t[i]=r(e),t}),{})}static isEdgium(e){return!c.isEdge(e)&&/edg\//i.test(e)}static isEdge(e){return/edge/i.test(e)}static isChrome(e){const t=c.isEdge(e),n=c.isEdgium(e);return!t&&!n&&/chrome|crios/i.test(e)}static isIE11(e){return/trident.*rv:11/i.test(e)}static isSafari(e){const t=c.isChrome(e),n=c.isEdge(e),i=c.isEdgium(e);return!t&&!n&&!i&&/safari/i.test(e)}static isFirefox(e){return/firefox/i.test(e)}static isAndroid(e){return/android/i.test(e)}static isIOS(e){return/ipod|iphone|ipad/i.test(e)}static isWindows(e){return/windows/i.test(e)}static isOSX(e){return!c.isIOS(e)&&/mac os x/i.test(e)}static isLinux(e){return!c.isAndroid(e)&&/linux/i.test(e)}static isChromecast(e){return/crkey/i.test(e)}static isTopUI(e){return/topuiview/i.test(e)}static isTizen(e){return/tizen/i.test(e)}static isWebOS(e){return/web0s/i.test(e)}}var d;!d||(d={}));var f=__nested_webpack_require_2661885__(3591),l=__nested_webpack_require_2661885__(8246),_=__nested_webpack_require_2661885__.n(l),h=__nested_webpack_require_2661885__(6710),p=__nested_webpack_require_2661885__.n(h),g=__nested_webpack_require_2661885__(2614),v=__nested_webpack_require_2661885__.n(g),m=__nested_webpack_require_2661885__(943),y=__nested_webpack_require_2661885__.n(m),b=__nested_webpack_require_2661885__(5495),S=__nested_webpack_require_2661885__.n(b),$=__nested_webpack_require_2661885__(346),T=__nested_webpack_require_2661885__.n($),E=__nested_webpack_require_2661885__(9566),A=__nested_webpack_require_2661885__.n(E),C=__nested_webpack_require_2661885__(7692),I=__nested_webpack_require_2661885__.n(C),P=__nested_webpack_require_2661885__(7466),k=__nested_webpack_require_2661885__.n(P),w=__nested_webpack_require_2661885__(4663),M=__nested_webpack_require_2661885__.n(w),O=__nested_webpack_require_2661885__(4739),R=__nested_webpack_require_2661885__.n(O),D=__nested_webpack_require_2661885__(6818),x=__nested_webpack_require_2661885__.n(D),L=__nested_webpack_require_2661885__(2536),N=__nested_webpack_require_2661885__.n(L),U=__nested_webpack_require_2661885__(8870),B=__nested_webpack_require_2661885__.n(U),F=__nested_webpack_require_2661885__(4271),j=__nested_webpack_require_2661885__.n(F),H=__nested_webpack_require_2661885__(9036),V=__nested_webpack_require_2661885__.n(H),q=__nested_webpack_require_2661885__(4269),W=__nested_webpack_require_2661885__.n(q),G=__nested_webpack_require_2661885__(4543),Y=__nested_webpack_require_2661885__.n(G),K=__nested_webpack_require_2661885__(5959),z=__nested_webpack_require_2661885__.n(K),X=__nested_webpack_require_2661885__(9294),Q=__nested_webpack_require_2661885__.n(X),J=__nested_webpack_require_2661885__(9474),Z=__nested_webpack_require_2661885__.n(J),ee=__nested_webpack_require_2661885__(7195),te=__nested_webpack_require_2661885__.n(ee),ne=__nested_webpack_require_2661885__(311),ie=__nested_webpack_require_2661885__.n(ne),re=__nested_webpack_require_2661885__(6987),oe=__nested_webpack_require_2661885__.n(re),ae=__nested_webpack_require_2661885__(3897),se=__nested_webpack_require_2661885__.n(ae),ue=__nested_webpack_require_2661885__(5910);const ce=window.OmidSessionClient&&window.OmidSessionClient.default;ar fe=__nested_webpack_require_2661885__(3686);e=__nested_webpack_require_2661885__(4445),me=__nested_webpack_require_2661885__.n(ve);const ye=function(e,t){return e===t||e!=e&&t!=t},be=var Se=Array.prototype.splice;function $e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}$e.prototype.clear=function(){this.__data__=[],this.size=0},$e.prototype.delete=function(e){var t=this.__data__,n=be(t,e);return!(n<0||(n==t.length-1?t.pop():Se.call(t,n,1),--this.size,0))},$e.prototype.get=function(e){var t=this.__data__,n=be(t,e);return n<0?void 0:t[n][1]},$e.prototype.has=function(e){return be(this.__data__,e)>-1},$e.prototype.set=function(e,t){var n=this.__data__,i=be(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};const Te=$e,Ee="object"==typeof global&&global&&global.Object===Object&&global;var Ae="object"==typeof self&&self&&self.Object===Object&&self;const Ce=Ee||Ae||Function("return this")(),Ie=Ce.Symbol;var Pe=Object.prototype,ke=Pe.hasOwnProperty,we=Pe.toString,Me=Ie?Ie.toStringTag:void 0,Oe=Object.prototype.toString,Re=Ie?Ie.toStringTag:void 0;const De=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Re&&Re in Object(e)?function(e){var t=ke.call(e,Me),n=e[Me];try{e[Me]=void 0;var i=!0}catch(e){}var r=we.call(e);return i&&(t?e[Me]=n:delete e[Me]),r}(e):function(e){return Oe.call(e)}(e)},xe=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Le=Ne=Ce["__core-js_shared__"];var Ue,Be=(Ue=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+Ue:"",Fe=Function.prototype.toString;const je=function(e){if(null!=e){try{return Fe.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var He=/^\[object .+?Constructor\]$/,Ve=Function.prototype,qe=Object.prototype,We=Ve.toString,Ge=qe.hasOwnProperty,Ye=RegExp("^"+We.call(Ge).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ke=ze=Ke(Ce,"Map"),Xe=Ke(Object,"create");var Qe=Object.prototype.hasOwnProperty,Je=Object.prototype.hasOwnProperty;function Ze(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ze.prototype.clear=function(){this.__data__=Xe?Xe(null):{},this.size=0},Ze.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ze.prototype.get=function(e){var t=this.__data__;if(Xe){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Qe.call(t,e)?t[e]:void 0},Ze.prototype.has=function(e){var t=this.__data__;return Xe?void 0!==t[e]:Je.call(t,e)},Ze.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Xe&&void 0===t?"__lodash_hash_undefined__":t,this};const et=Ze,tt=function nt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}nt.prototype.clear=nt.prototype.delete=function(e){var t=tt(this,e).delete(e);return this.size-=t?1:0,t},nt.prototype.get=function(e){return tt(this,e).get(e)},nt.prototype.has=function(e){return tt(this,e).has(e)},nt.prototype.set=function(e,t){var n=tt(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};const it=nt;t.prototype.clear=rt.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},rt.prototype.get=function(e){return this.__data__.get(e)},rt.prototype.has=function(e){return this.__data__.has(e)},rt.prototype.set=const ot=rt,at=),st=var ut=Object.prototype.hasOwnProperty;const ct=dt=ft=function(e){return null!=e&&"object"==typeof e},lt=function(e){return ft(e)&&"[object Arguments]"==De(e)};var _t=Object.prototype,ht=_t.hasOwnProperty,pt=_t.propertyIsEnumerable;const gt=lt(function(){return arguments}())?lt:vt=Array.isArray;var mt=exports&&!exports.nodeType&&exports,yt=mt&&"object"==typeof module&&module&&!module.nodeType&&module,bt=yt&&yt.exports===mt?Ce.Buffer:void 0;const St=(bt?bt.isBuffer:void 0)||function(){return!1};var $t=/^(?:0|[1-9]\d*)$/;const Tt=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&$t.test(e))&&e>-1&&e%1==0&&e<t},Et=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var At={};At["[object Float32Array]"]=At["[object Float64Array]"]=At["[object Int8Array]"]=At["[object Int16Array]"]=At["[object Int32Array]"]=At["[object Uint8Array]"]=At["[object Uint8ClampedArray]"]=At["[object Uint16Array]"]=At["[object Uint32Array]"]=!0,At["[object Arguments]"]=At["[object Array]"]=At["[object ArrayBuffer]"]=At["[object Boolean]"]=At["[object DataView]"]=At["[object Date]"]=At["[object Error]"]=At["[object Function]"]=At["[object Map]"]=At["[object Number]"]=At["[object Object]"]=At["[object RegExp]"]=At["[object Set]"]=At["[object String]"]=At["[object WeakMap]"]=!1;const Ct=function(e){return function(t){return e(t)}};var It=exports&&!exports.nodeType&&exports,Pt=It&&"object"==typeof module&&module&&!module.nodeType&&module,kt=Pt&&Pt.exports===It&&Ee.process;const wt=function(){try{return Pt&&Pt.require&&Pt.require("util").types||kt&&kt.binding&&kt.binding("util")}catch(e){}}();var Mt=wt&&wt.isTypedArray;const Ot=Mt?Ct(Mt):var Rt=Object.prototype.hasOwnProperty;const Dt=var xt=Object.prototype;const Lt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xt)},Nt=function(e,t){return function(n){return e(t(n))}},Ut=Nt(Object.keys,Object);var Bt=Object.prototype.hasOwnProperty;const Ft=jt=var Ht=Object.prototype.hasOwnProperty;const Vt=var qt=exports&&!exports.nodeType&&exports,Wt=qt&&"object"==typeof module&&module&&!module.nodeType&&module,Gt=Wt&&Wt.exports===qt?Ce.Buffer:void 0,Yt=Gt?Gt.allocUnsafe:void 0;const Kt=function(){return[]};var zt=Object.prototype.propertyIsEnumerable,Xt=Object.getOwnPropertySymbols;const Qt=Xt?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a)&&(o[r++]=a)}return o}(Xt(e),(function(t){return zt.call(e,t)})))}:Kt,Jt=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e},Zt=Nt(Object.getPrototypeOf,Object),en=Object.getOwnPropertySymbols?Kt,tn=nn=function(e){return tn(e,jt,Qt)},rn=function(e){return tn(e,Vt,en)},on=Ke(Ce,"DataView"),an=Ke(Ce,"Promise"),sn=Ke(Ce,"Set"),un=Ke(Ce,"WeakMap");var cn="[object Map]",dn="[object Promise]",fn="[object Set]",ln="[object WeakMap]",_n="[object DataView]",hn=je(on),pn=je(ze),gn=je(an),vn=je(sn),mn=je(un),yn=De;(on&&yn(new on(new ArrayBuffer(1)))!=_n||ze&&yn(new ze)!=cn||an&&yn(an.resolve())!=dn||sn&&yn(new sn)!=fn||un&&yn(new un)!=ln)&&(yn=;const bn=yn;var Sn=Object.prototype.hasOwnProperty;const $n=Ce.Uint8Array,Tn=var En=/\w*$/,An=Ie?Ie.prototype:void 0,Cn=An?An.valueOf:void 0,In=Object.create;const Pn=);var kn=wt&&wt.isMap;const wn=kn?Ct(kn):function(e){return ft(e)&&"[object Map]"==bn(e)};var Mn=wt&&wt.isSet;const On=Mn?Ct(Mn):var Rn="[object Arguments]",Dn="[object Function]",xn={};xn[Rn]=xn["[object Array]"]=xn["[object ArrayBuffer]"]=xn["[object DataView]"]=xn["[object Boolean]"]=xn["[object Date]"]=xn["[object Float32Array]"]=xn["[object Float64Array]"]=xn["[object Int8Array]"]=xn["[object Int16Array]"]=xn["[object Int32Array]"]=xn["[object Map]"]=xn["[object Number]"]=xn["[object Object]"]=xn["[object RegExp]"]=xn["[object Set]"]=xn["[object String]"]=xn["[object Symbol]"]=xn["[object Uint8Array]"]=xn["[object Uint8ClampedArray]"]=xn["[object Uint16Array]"]=xn["[object Uint32Array]"]=!0,xn["[object Error]"]=xn[Dn]=xn["[object WeakMap]"]=!1;const Ln=t jn=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/,Hn=/^[0-9a-fA-F]{40}$/;function Vn(e){return!!e.match(jn)} zn{constructor(e,t){this.suppressedEventTypes=[r.PlayerEvent.Play,r.PlayerEvent.Playing,r.PlayerEvent.Paused,r.PlayerEvent.Seek,r.PlayerEvent.Seeked,r.PlayerEvent.PlaybackFinished,r.PlayerEvent.TimeChanged,r.PlayerEvent.SegmentPlayback,r.PlayerEvent.AudioChanged,r.PlayerEvent.AirplayChanged,r.PlayerEvent.AudioAdded,r.PlayerEvent.AudioRemoved,r.PlayerEvent.Metadata,r.PlayerEvent.MetadataChanged,r.PlayerEvent.MetadataParsed,r.PlayerEvent.CastWaitingForDevice,r.PlayerEvent.CueEnter,r.PlayerEvent.CueExit,r.PlayerEvent.CueParsed,r.PlayerEvent.CueUpdate,r.PlayerEvent.AdBreakStarted,r.PlayerEvent.AdBreakFinished,r.PlayerEvent.AdStarted,r.PlayerEvent.AdFinished],this._adTimeBase=null,this._mediaTimeBase=null,this.masterManifestCache={},this.session=null,this.reporter=null,this.omReporter=null,this.yospaceAdvertisingApi=null,this._storedFirstAbsoluteTime=null,this._configContentPlaybackSpeed=1,this.yospaceOnAdvertBreakStartObserver=this.yospaceOnAdvertBreakEndObserver=this.yospaceOnAdvertStartObserver=this.yospaceOnAdvertEndObserver=this.yospaceOnAnalyticUpdateObserver=this.yospaceOnTrackingEventObserver=this.yospaceOnEarlyAdBreakExit=this.yospaceOnSessionTimeout=this.yospaceSessionInitialized=this.handleYoSpaceSessionCreation=this.onPlaybackEvent=e=>{this.storeAbsoluteStartTime();const t=Object.assign({},e);t.time=this.isLive()?this.getCurrentTime():this.getRelativeTime(e.time),this.fireEvent(t)},this.getRelativeTime=this.onTimeChangedEvent=this.adjustMediaTimeBase=this.onSeekEvent=this.onSeekedEvent=this.onAudioChangedEvent=e=>{const t=Object.assign({},e);t.time=this.getCurrentTime(),this.fireEvent(t)},this.onAirplayChangedEvent=e=>{const t=Object.assign({},e);t.time=this.getCurrentTime(),this.fireEvent(t)},this.onAudioTrackEvent=this.onCastWaitingForDeviceEvent=e=>{const t=Object.assign(Object.assign({},e),{castPayload:Object.assign({},e.castPayload)});t.castPayload.currentTime=t.castPayload.currentTime-this._storedFirstAbsoluteTime,this.fireEvent(t)},this.onCueEvent=e=>{const t=Object.assign({},e);t.start&&(t.start=this.rebaseRelativeTimeIfInAd(e.start,!0)),t.end&&(t.end=this.rebaseRelativeTimeIfInAd(e.end,!0)),this.fireEvent(t)},this.onCueParsedEvent=this.onMetadataEvent=e=>{let t=Object.assign({},e);this._storedFirstAbsoluteTime&&(t.start&&(t.start-=this._storedFirstAbsoluteTime),t.end&&(t.end-=this._storedFirstAbsoluteTime)),this.fireEvent(t)},this.onMetadataParsed=this.fireMetadataParsedEvent=e=>{this.storeAbsoluteStartTime(e),this._storedFirstAbsoluteTime&&(e.start&&(e.start-=this._storedFirstAbsoluteTime),e.end&&(e.end-=this._storedFirstAbsoluteTime),e.metadata.presentationTime&&(e.metadata.presentationTime-=this._storedFirstAbsoluteTime)),this.fireEvent(e)},this.version="0.218.0",r.Player.addModule(T()),r.Player.addModule(A()),r.Player.addModule(te()),r.Player.addModule(_()),r.Player.addModule(p()),r.Player.addModule(v()),r.Player.addModule(y()),r.Player.addModule(S()),r.Player.addModule(I()),r.Player.addModule(k()),r.Player.addModule(M()),r.Player.addModule(R()),r.Player.addModule(Q()),r.Player.addModule(Y()),r.Player.addModule(se()),r.Player.addModule(z()),r.Player.addModule(x()),r.Player.addModule(N()),r.Player.addModule(B()),r.Player.addModule(j()),r.Player.addModule(V()),r.Player.addModule(W()),t.debug?(f.Y.enable(),o.kT.setDebugFlags(o.zY)):f.Y.disable(),null==t.playerConfig.tweaks&&(t.playerConfig.tweaks={}),t.playerConfig.tweaks.enable_seek_for_live=!0,t.playerConfig.tweaks.resume_live_content_at_previous_position_after_ad_break=!0,t.playerConfig.tweaks.fairplay_ignore_duplicate_init_data_key_errors=!0,t.playerConfig.tweaks.segment_encryption_transition_handling=!0,!t.disableServiceWorker&&(he.isSafari()||he.isSafariIOS())&&(r.Player.addModule(Z()),f.Y.log("Loading the conditional ServiceWorkerModule"),t.playerConfig.location||(t.playerConfig.location={}),t.playerConfig.location.serviceworker||(t.playerConfig.location.serviceworker="./sw.js"),t.playerConfig.tweaks.native_hls_parsing||(t.playerConfig.tweaks.native_hls_parsing=!0)),t.useTizen&&(r.Player.addModule(ie()),f.Y.log("Loading the conditional TizenModule")),t.useWebos&&(r.Player.addModule(oe()),f.Y.log("Loading the conditional WebosModule")),null==t.playerConfig.network&&(t.playerConfig.network={}),t.playerConfig.network.preprocessHttpRequest=t.playerConfig.network.preprocessHttpResponse=t.playerConfig.ui||(t.playerConfig.ui=!1),this.container=e,this.tubConfiguration=t}tic comScoreEnterForeground(){a.ComScoreAnalytics.enterForeground()}omScoreUserConsentGranted(){a.ComScoreAnalytics.userConsentGranted(),this.comscoreStreamingAnalytics&&this.comscoreStreamingAnalytics.userConsentGranted()}ateCompanionConfig(e){this.companionRenderer.updateConfiguration(e)}toreAbsoluteStartTime(e){var t;if(null!==this._storedFirstAbsoluteTime)return;let n=null,i=he.isSafari()||he.isSafariIOS();if((null===(t=this.session)||void 0===t?void 0:t.getPlaybackMode())===o.su.VOD)n=0;else if(i){let t=this.player.getCurrentTime(r.TimeMode.RelativeTime),i=this.player.getCurrentTime(r.TimeMode.AbsoluteTime),o=this.player.getSeekableRange(),a=o.end,s=o.start,u=i+(a-t),c=u-Math.abs(a-s);f.Y.debug(`[storeAbsoluteStartTime] safari: seekableEndRelative: ${a} ::: seekableStartRelative: ${s} ::: diff: ${Math.abs(a-s)}`),f.Y.debug(`[storeAbsoluteStartTime] safari: seekableEndAbsolute: ${u} ::: seekableStartAbsolute: ${c} ::: diff: ${Math.abs(u-c)}`);let d=((new Date).getTime()-2592e6)/1e3;c>d?n=c:(null==e?void 0:e.start)>d&&(n=e.start)}else n=this.isLive()?this.player.getSeekableRange().start:0;null!==n&&(this._storedFirstAbsoluteTime=n,f.Y.debug("[storeAbsoluteStartTime] storing "+n))}r n;let i=e;if(f.Y.debug("[seek] intended seekTarget:",i),"ui-seek"===t)return this.player.seek(e,t);if(this.ads.getActiveAd())return!1;if(this.player.isLive()){const e=r=a=e=>e+.1,s=u=c=d=l=(null===(n=this.session)||void 0===n?void 0:n.getAdBreaksByType(o.CT.LINEAR))||[],_=h=_(i,l,!0).pop();if(h)if(h.isActive()){f.Y.debug("[seek] adBreaks (with trap):",l.map(());const e=u(h),t=c(h,!0);i=s(e.start),f.Y.debug(`[seek] into active ad (with trap), updating seekTarget to ${i} (the start of ${t})`)}else{f.Y.debug("[willSeekTo] adBreaks (sans trap):",l.map((e=>c(e))));const t=_(i,l).pop();if(t){const n=u(t),r=c(t);if(f.Y.debug("[seek] into an ad break (sans trap):",r),this.tubAdPolicy.skipWatchedAds)if("preroll"!==t.getPosition())i=a(n.end),f.Y.debug(`[seek] skipping inactive ad, updating seekTarget to ${i} (the end of ${r})`);else{const t=((i,l);if(t){const e=u(t),o=c(t);f.Y.debug("[seek] closest future ad:",o),((n,e)?(f.Y.debug(`[seek] ${r} adjacent to ${o} (PABI)`),t.isActive()?(i=s(e.start),f.Y.debug(`[seek] into active PABI, updating seekTarget to ${i} (the start of ${o})`)):(i=a(e.end),f.Y.debug(`[seek] skipping inactive PABI, updating seekTarget to ${i} (the end of ${o})`))):(i=a(n.end),f.Y.debug(`[seek] skipping inactive ad, updating seekTarget to ${i} (the end of ${r})`))}else i=a(n.end),f.Y.debug(`[seek] skipping inactive ad, updating seekTarget to ${i} (the end of ${r})`)}else i=s(n.start),f.Y.debug(`[seek] skipping not allowed, updating seekTarget to ${i} (the start of ${r})`)}else f.Y.debug("[seek] not landing in an ad break (sans trap)... allowing seek to "+i)}else f.Y.debug("[seek] not landing in an ad break (with trap)... allowing seek to "+i);const p=r(i);return f.Y.debug("[seek] resulting seekTarget:",i,"absolute:",p),this.player.seek(p,t),!0}let r=e;return this.session&&(r=this.session.willSeekTo(e)),this.player.seek(r,t)}tSeekableRange(){let e=this.player.getSeekableRange();return e.start=e.start-this._storedFirstAbsoluteTime,e.end=e.end-this._storedFirstAbsoluteTime,e}rebaseRelativeTimeIfInAd(e,t=!0){return t&&(e-=this._storedFirstAbsoluteTime),null!==this._adTimeBase&&(e-=this._adTimeBase),e}etAbsoluteTime(){return this.player.getCurrentTime(r.TimeMode.AbsoluteTime)}getCurrentTimeBase(){return this._adTimeBase}et buffer(){return this.player.buffer}get manifest(){return this.player.manifest}get lowlatency(){return this.player.lowlatency}get ads(){return this.yospaceAdvertisingApi}get vr(){return this.player.vr}get subtitles(){return this.player.subtitles}get drm(){return this.player.drm}get exports(){return this.player.exports}addMetadata(e,t){return this.player.addMetadata(e,t)}castStop(){this.player.castStop()}castVideo(){this.player.castVideo()}clearQueryParameters(){this.player.clearQueryParameters()}destroy(){return this.player.destroy()}getAudio(){return this.player.getAudio()}getAudioBufferLength(){return this.player.getAudioBufferLength()}getAudioQuality(){return this.player.getAudioQuality()}getAvailableAudio(){return this.player.getAvailableAudio()}getAvailableAudioQualities(){return this.player.getAvailableAudioQualities()}getAvailableVideoQualities(){return this.player.getAvailableVideoQualities()}getConfig(e){return this.player.getConfig(e)}getContainer(){return this.player.getContainer()}getDownloadedAudioData(){return this.player.getDownloadedAudioData()}getDownloadedVideoData(){return this.player.getDownloadedVideoData()}getDroppedVideoFrames(){return this.player.getDroppedVideoFrames()}getDuration(){return this.player.getDuration()}etManifest(){return this.player.getManifest()}getMaxTimeShift(){return this.player.getMaxTimeShift()}getPlaybackAudioData(){return this.player.getPlaybackAudioData()}getPlaybackSpeed(){return this.player.getPlaybackSpeed()}getPlaybackVideoData(){return this.player.getPlaybackVideoData()}getPlayerType(){return this.player.getPlayerType()}getSnapshot(e,t){return this.player.getSnapshot(e,t)}getStreamType(){return this.player.getStreamType()}getSupportedDRM(){return this.player.getSupportedDRM()}getSupportedTech(e){return this.player.getSupportedTech(e)}getThumbnail(e){return this.player.getThumbnail(e)}getTimeShift(){return this.player.getTimeShift()}getTotalStalledTime(){return this.player.getTotalStalledTime()}getVideoBufferLength(){return this.player.getVideoBufferLength()}getVideoQuality(){return this.player.getVideoQuality()}getVolume(){return this.player.getVolume()}hasEnded(){return this.player.hasEnded()}isCastAvailable(){return this.player.isCastAvailable()}isCasting(){return this.player.isCasting()}isDRMSupported(e){return this.player.isDRMSupported(e)}isLive(){return this.player.isLive()}isMuted(){return this.player.isMuted()}isPaused(){return this.player.isPaused()}isPlaying(){return this.player.isPlaying()}isStalled(){return this.player.isStalled()}mute(e){return this.player.mute(e)}pause(e){return this.player.pause(e)}play(e){return this.player.play(e)}setAudio(e){return this.player.setAudio(e)}setAudioQuality(e){return this.player.setAudioQuality(e)}setAuthentication(e){return this.player.setAuthentication(e)}etPosterImage(e,t){return this.player.setPosterImage(e,t)}setQueryParameters(e){return this.player.setQueryParameters(e)}setVideoElement(e){return this.player.setVideoElement(e)}setVideoQuality(e){return this.player.setVideoQuality(e)}setVolume(e,t){return this.player.setVolume(e,t)}timeShift(e,t){return this.player.timeShift(e,t)}unmute(e){return this.player.unmute(e)}isAirplayAvailable(){return this.player.isAirplayAvailable()}isAirplayActive(){return this.player.isAirplayActive()}showAirplayTargetPicker(){return this.player.showAirplayTargetPicker()}getBufferedRanges(){return this.player.getBufferedRanges()}getAvailableSegments(){return this.player.getAvailableSegments()}preload(){return this.player.preload()}setLogLevel(e){return this.player.setLogLevel(e)}getVideoElement(){return this.player.getVideoElement()}isViewModeAvailable(e){return this.player.isViewModeAvailable(e)}setViewMode(e,t){return this.player.setViewMode(e,t)}getViewMode(){return this.player.getViewMode()}getSource(){return this.player.getSource()}getAspectRatio(){return this.player.getAspectRatio()}setAspectRatio(e){return this.player.setAspectRatio(e)}})(),__webpack_exports__})()},module.exports=t()}).call(this,__nested_webpack_require_355073__(175).Buffer,__nested_webpack_require_355073__(38),__nested_webpack_require_355073__(179)(module))},function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return _})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return S}));var i=n(0),r=n(1),o=n(85),a=n(25);const s=var u=n(87),c=n(37);const d=/(\+|-)((\d|\.)+)/,f=/(\+|-)((\d|\.)+)(\((\+|-)\))(\+|-)?((\d|\.)+)(\((\+|-)\))?(\+|-)?((\d|\.)+)?(\((\+|-)\))?(\+|-)?((\d|\.)+)?/,l=_=h=p=e=>d.test(e),g=v={[i.W.Content_Time]:a.b.In_Play,[i.W.Media_Time]:a.b.In_Play,[i.W.Ad_Time]:a.b.In_Play},m=y=b=S=,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var i,r=n(1);i||(i={}))},function(e,t,n){"use strict";n.d(t,"e",(function(){return i.a})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return S.a})),n.d(t,"c",(function(){return $.a}));var i=n(92),r=n(0),o=n(1);ar s=n(29),u=n(19),c=n(28),d=n(22);const f={initial:{name:c.a.Start,state:r.U.Pending},events:[{name:c.a.Idle,to:r.U.Pending},{name:c.a.Load,from:[r.U.Pending],to:r.U.Starting},{name:c.a.Loaded,from:[r.U.Starting],to:r.U.Loaded},{name:c.a.Play,from:[r.U.Pending,r.U.Loaded,r.U.Paused,r.U.Seeking,r.U.Buffering],to:r.U.Playing},{name:c.a.Buffer_Stall_Started,from:[r.U.Playing],to:r.U.Buffering},{name:c.a.Buffer_Stall_Finished,from:[r.U.Buffering],to:r.U.Playing},{name:c.a.Pause,from:[r.U.Playing,r.U.Seeking],to:r.U.Paused},{name:c.a.Seek,from:[r.U.Playing,r.U.Paused],to:r.U.Seeking},{name:c.a.Stop,to:r.U.Stopped},{name:c.a.Finish,from:[r.U.Playing,r.U.Stopped],to:r.U.Finished},{name:c.a.Error,to:r.U.Error}]},l={initial:{name:d.a.Start,state:r.c.Pending},events:[{name:d.a.Idle,to:r.c.Pending},{name:d.a.Load,from:[r.c.Pending],to:r.c.Starting},{name:d.a.Loaded,from:[r.c.Starting],to:r.c.Loaded},{name:d.a.Play,from:[r.c.Loaded,r.c.Paused,r.c.Buffering],to:r.c.Playing},{name:d.a.Buffer_Stall_Started,from:[r.c.Playing],to:r.c.Buffering},{name:d.a.Buffer_Stall_Finished,from:[r.c.Buffering],to:r.c.Playing},{name:d.a.Pause,from:[r.c.Playing],to:r.c.Paused},{name:d.a.Stop,to:r.c.Stopped},{name:d.a.Finish,from:[r.c.Playing],to:r.c.Finished}]};var _=n(71),h=n(6);ar g=n(11),v=n(13);const m=o.Log.getLogger("VideoEngineStateChangeHandler").filter("playback"),y=o.Log.getLogger("VideoEngineStateChangeHandler");class b{uestModelUpdates(e){this._events.modelUpdateRequest.dispatch({changes:e})}_getCurrentAdBreakId(){return this._currentAdBreak?this._currentAdBreak.id:(m.warn("[_getCurrentAdBreakId] No current ad break"),"unknown-ad-break-id")}_getCurrentAdCreativeId(){return this._currentAdCreative?this._currentAdCreative.id:(m.warn("[_getCurrentAdBreakId] No current ad creative"),"unknown-ad-creative-id")}lculateLiveDriftModelValue(e,t,n=0){return 0===e?0:parseFloat((t-(e+n)).toFixed(1))}ndleVolumeChanged(e){this._requestModelUpdates([{property:r.ab.Volume,value:e}]),this._events.volumeChanged.dispatch({volume:e})}handleMuteChanged(e){this._requestModelUpdates([{property:r.ab.Muted,value:e}]),this._events.muteChanged.dispatch({muted:e})}handlePlaybackSpeedChanged(e){this._requestModelUpdates([{property:r.ab.Playback_Speed,value:e}]),this._events.playbackSpeedChanged.dispatch({speed:e})}handleResumed(){this._playingAd()?this.handleAdResumed():this.handleMediaResumed()}handleBufferingStarted(){this._playingAd()?this.handleAdBufferingStarted():this.handleMediaBufferingStarted()}handleBufferingFinished(){this._playingAd()?this.handleAdBufferingFinished():this.handleMediaBufferingFinished()}handlePaused(){this._playingAd()?this.handleAdPaused():this.handleMediaPaused()}dleMediaCommandRejected(e,t){this._events.mediaCommandRejected.dispatch({command:e,args:t})}ndleMediaBlocked(e){this._events.mediaBlocked.dispatch({reason:e})}handleMediaLoaded(e){this._attemptFsmTransition(this._mediaFsm,u.a.Loaded,[e])}andleMediaRequestProfileChanged(e){this._events.mediaRequestProfileChanged.dispatch(e)}ndleMediaBufferingStarted(){this._attemptFsmTransition(this._mediaFsm,u.a.Buffer_Stall_Started)}handleMediaBufferingFinished(){this._attemptFsmTransition(this._mediaFsm,u.a.Buffer_Stall_Finished)}handleMediaStarted(){this._attemptFsmTransition(this._mediaFsm,u.a.Play)}handleMediaPaused(){this._attemptFsmTransition(this._mediaFsm,u.a.Pause)}handleMediaResumed(){this._attemptFsmTransition(this._mediaFsm,u.a.Play)}handleMediaRecoveryStarted(e){this._events.mediaRecoveryStarted.dispatch({reason:e})}handleMediaRecoveryFinished(e){this._events.mediaRecoveryFinished.dispatch({reason:e})}andleMediaSeekingStarted(e){this._attemptFsmTransition(this._mediaFsm,u.a.Seek,[e])}dleMediaStopped(){this._attemptFsmTransition(this._mediaFsm,u.a.Stop)}handleMediaFinished(){this._attemptFsmTransition(this._mediaFsm,u.a.Finish)}andleMediaTimedMetadataReceived(e){this._events.mediaTimedMetadataReceived.dispatch(e)}andleMediaAudioTrackSelected(e){this._events.mediaAudioTrackSelected.dispatch({track:e})}handleMediaStalled(e){this._events.mediaStalled.dispatch({description:e})}handleMediaError(e){this._attemptFsmTransition(this._mediaFsm,u.a.Error,[e])}dleAdStarted(){this._attemptFsmTransition(this._adsFsm,s.a.Play)}handleAdBufferingStarted(){this._attemptFsmTransition(this._adsFsm,s.a.Buffer_Stall_Started)}handleAdBufferingFinished(){this._attemptFsmTransition(this._adsFsm,s.a.Buffer_Stall_Finished)}leAdPaused(){this._attemptFsmTransition(this._adsFsm,s.a.Pause)}handleAdResumed(){this._attemptFsmTransition(this._adsFsm,s.a.Play)}leCaptionTrack(e,t){switch(e){case h.c.Added:this._events.captionTrackAdded.dispatch({track:t});break;case h.c.Selected:this._events.captionTrackSelected.dispatch({track:t});break;case h.c.Deselected:this._events.captionTrackDeselected.dispatch({track:t});break;case h.c.Removed:this._events.captionTrackRemoved.dispatch({track:t});break;default:m.warn("[handleCaptionTrack] unknown action: "+e)}}ndlePictureInPictureEntered(){this._events.pictureInPictureEntered.dispatch()}handlePictureInPictureExited(){this._events.pictureInPictureExited.dispatch()}r S=n(96),$=n(9)},function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c})),i||(i={}));ar o=n(0);function a(e){return new Promise(((t,n)=>{const i="function"==typeof window.__cmp,r="function"==typeof window.__tcfapi,a=null==e?void 0:e.consentFrameworkVersion;if(!i&&!r)return void n(o.L.Provider_Does_Not_Exist);const s=a===o.Cb.V1&&!i,u=a===o.Cb.V2&&!r;s||u?n(o.L.Mismatch_Error):(a&&a!==o.Cb.V1||!i?a&&a!==o.Cb.V2||!r||window.__tcfapi("getTCData",2,((e,n)=>{n&&function(e,t){let n=o.Ab.Unknown;"boolean"==typeof e.gdprApplies&&(n=e.gdprApplies?o.Ab.Yes:o.Ab.No),t({consentString:e.tcString,subjectToGDPR:n})}(e,t)}),null==e?void 0:e.vendorIds):window.__cmp("getConsentData",null,((e,n)=>{n&&function(e,t){let n=o.Ab.Unknown;"boolean"==typeof e.gdprApplies&&(n=e.gdprApplies?o.Ab.Yes:o.Ab.No),t({consentString:e.consentData,subjectToGDPR:n})}(e,t)})),n(o.L.Request_Error))}))}var s=n(2);const u=new class{utoPlay(e,t=!1){let n=this._supportCache.get(i.AutoPlay);return n&&!t||(n=new Promise((t=>{(.video(Object.assign({},e)).then(()})),this._supportCache.set(i.AutoPlay,n)),n};,function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return l.c})),n(102),n(103),n(104),n(105),n(32),n(106);var i,r=n(1);!function(e){e.Token_Error="tokenError"}(i||(i={}));var o,a=n(50),s=n(0),u=n(107);!function(e){e.TokenError="tokenError"}(o||(o={}));onst d=r.Log.getLogger("ConcurrencyMonitor").filter("monitors");class f extends a.a{constructor(e,t,n){super(Object(r.createEventCollection)({tokenError:Object(r.createEvent)(i.Token_Error)}),n,e),this._drmService=t,this._tokenHeartbeat=null}r l=n(15)},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var i,r=n(1);function o(){return Object(r.createEventCollection)({trackChanged:Object(r.createEvent)(i.Track_Changed),cueChanged:Object(r.createEvent)(i.Cue_Changed)})}!function(e){e.Track_Changed="trackChanged",e.Cue_Changed="cueChanged"}(i||(i={}))},function(e,t,n){"use strict";var i=n(124);n.d(t,"b",(function(){return i.a}));var r=n(61);n.d(t,"c",(function(){return r.a})),n.d(t,"e",(function(){return r.b})),n.d(t,"f",(function(){return r.c})),n.d(t,"h",(function(){return r.d}));var o=n(31);n.d(t,"l",(function(){return o.a})),n.d(t,"n",(function(){return o.b})),n.d(t,"o",(function(){return o.c})),n.d(t,"p",(function(){return o.d})),n.d(t,"q",(function(){return o.e}));var a=n(39);n.d(t,"i",(function(){return a.a})),n.d(t,"j",(function(){return a.b})),n.d(t,"k",(function(){return a.c})),n.d(t,"r",(function(){return a.d}));var s=n(80);n.d(t,"g",(function(){return s.a})),n(115);var u=n(57);n.d(t,"a",(function(){return u.a}));var c=n(114);n.d(t,"d",(function(){return c.a}));var d=n(79);n.d(t,"m",(function(){return d.a}))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Default="com.turner.top.cms.default"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return g}));var i=n(1),r=n(31),o=n(8),a=n(79),s=n(114),u=n(34),c=n(4),d=n(0);const f=i.Log.getLogger("MediaJSONParser").filter("cms"),l=i.Log.getLogger("providers").filter("cms"),_=h=(e,t)=>{const{playData:n,providerConfig:r}=e;l.debug("[mediaJSONProvider] data: "+Object(i.stringify)(n)),l.debug("[mediaJSONProvider] providerConfig: "+Object(i.stringify)(r));const _=Object(o.fromNullable)(r).getOrElse({"top.cms.provider.mediaJson":{}})[d.p.MediaJSON];let h="";_.versionId===d.V.V2&&(h="/"+d.V.V2);const p=[["host",_.host],["versionId",h],["mediaId",n.mediaId],["platform",_.platform]];let g=_.serviceUrl.slice();for(const i of p)g=g.replace(`{${i[0]}}`,i[1]);const v=Object(i.parse)(g);n.appId?v.set("query",Object.assign(Object.assign({},v.query),{appId:n.appId})):_.appId&&"${metadata.appId}"!==_.appId&&v.set("query",Object.assign(Object.assign({},v.query),{appId:_.appId})),n.kvps&&v.set("query",Object.assign(Object.assign({},v.query),n.kvps)),l.debug("[mediaJSONProvider] url: "+v.href),Object(i.NetworkTask)(v.href).fold((,().execute()},p=(e,t)=>{l.debug("[metadataProvider] data: "+Object(i.stringify)(e.playData.metadata)),Object(r.d)(e.playData.metadata)?Object(i.NetworkTask)(e.playData.metadata).fold((,().execute():t.reject(c.b.cmsResolutionFailure("no remote metadata to resolve"))},g=,function(e,t,n){"use strict";bject.defineProperty(t,"__esModule",{value:!0}),t.identity=function(e){return e},t.unsafeCoerce=t.identity,t.not=t.or=t.and=t.constant=function(e){return function(){return e}},t.constTrue=function(){return!0},t.constFalse=function(){return!1},t.constNull=function(){return null},t.constUndefined=function(){},t.constVoid=function(){},t.flip=t.on=function(e){return function(t){return function(n,i){return e(t(n),t(i))}}},t.compose=t.pipe=t.concat=function(e,t){var n=e.length;if(0===n)return t;var i=t.length;if(0===i)return e;for(var r=Array(n+i),o=0;o<n;o++)r[o]=e[o];for(o=0;o<i;o++)r[o+n]=t[o];return r},t.curried=i,t.curry=t.toString=t.tuple=t.tupleCurried=t.apply=function(e){return function(t){return e(t)}},t.applyFlipped=function(e){return function(t){return t(e)}},t.phantom=void 0,t.constIdentity=function(){return t.identity},t.increment=function(e){return e+1},t.decrement=t.absurd=function(e){throw new Error("Called `absurd` function which should be uncallable")},t.flow=,function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.LifecycleChange="lifecycleChange"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var i=n(0),r=n(1),o=n(127),a=n(46),s=n(45),u=n(47),c=n(36),d=n(20);const f=r.Log.getLogger("PlayerModel"),l=class _{t rootContainer(){return this._data.get(i.ab.Root_Container)||null}get subContainer(){return this._data.get(i.ab.Sub_Container)||null}get playerState(){return this._data.get(i.ab.Player_State)}get contentState(){return this._data.get(i.ab.Content_State)}get viewState(){return this._data.get(i.ab.View_State)}get lifecycleState(){return this._data.get(i.ab.Lifecycle_State)}et playlistItem(){return this._data.get(i.ab.Playlist_Item)||null}get volume(){return this._data.get(i.ab.Volume)}get muted(){return this._data.get(i.ab.Muted)}et captions(){const e=()=>this._data.get(i.ab.Caption_Tracks),t=n=()=>this._data.get(i.ab.Caption_Cues),r=()=>this._data.get(i.ab.Caption_State),o=()=>this._data.get(i.ab.Caption_Settings);return{get available(){return e().length>0},get enabledget activeTrack(){return t()[0]||null},get state(){return r()},get settings(){return o()},getAllTracks:e,getAllCues:n,getActiveCues:}t currentAdBreak(){return this._data.get(i.ab.Current_Ad_Break)||null}get currentAdCreative(){return this._data.get(i.ab.Current_Ad_Creative)||null}et captionTracks(){return this.captions.getAllTracks()}get activeCaptionCues(){return this.captions.getActiveCues()}get captionsAvailable(){return this.captions.available}get captionsEnabled(){return this.captions.enabled}get captionState(){return this.captions.state}get activeCaptionTrack(){return this.captions.activeTrack}get captionSettings(){return this.captions.settings}get mediaState(){return this._data.get(i.ab.Media_State)}get mediaDuration(){return this._data.get(i.ab.Media_Duration)}get mediaProfiles(){return this._data.get(i.ab.Media_Profiles)}get mediaTargetProfileId(){return this._data.get(i.ab.Media_Target_Profile_Id)||null}et contentSeekableRange(){const e=this._data.get(i.ab.Content_Seekable_Range);return r.TimeRange.create(e.start,e.duration)}et mediaTime(){return this._data.get(i.ab.Media_Time)}get mediaAbsoluteTime(){return this._data.get(i.ab.Media_Absolute_Time)}get contentIsLive(){return this._data.get(i.ab.Content_Is_Live)}et playbackSpeed(){return this._data.get(i.ab.Playback_Speed)}get liveDrift(){return this._data.get(i.ab.Live_Drift)}get adBreakTime(){return this._data.get(i.ab.Ad_Break_Time)}eChangeRequests(e){this._processChangeRequests(e)}}_.fromDataObject=,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(1),r=n(0);function o(){return Object(i.createEventCollection)({moduleNotification:Object(i.createEvent)(r.Gb.Module_Notification),stateChanged:Object(i.createEvent)(r.Gb.State_Changed),configUpdated:Object(i.createEvent)(r.Gb.Config_Updated)})}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Default="com.turner.top.auth.default"}(i||(i={}))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Default="com.turner.top.authdrm.default"}(i||(i={}))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Pre_Play="prePlay",e.In_Play="inPlay"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));,function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.GDPR_Consent="_fw_gdpr_consent",e.GDPR_Subject_To="_fw_gdpr"}(i||(i={}))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.VOD="VOD",e.Live="LIVE"}(i||(i={}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var i=n(3),r=n.n(i),o=n(1),a=n(144),s=n(117),u=n(158),c=n(21),d=n(80),f=n(10),l=n(26),_=n(159),h=n(145),p=n(0),g=const v=o.Log.getLogger("ConvivaAnalytics").filter("analytics.conviva");Object(a.b)(v);class m{sSessionActive(){return this._activeSession}updateContentInfo(e){if(!this.videoAnalytics)return;const t=o.ObjectUtils.extendDeep(this._metadata||{},e);v.debug("[_updateContentInfo] metadata: "+JSON.stringify(t)),this._metadata=Object.assign({},t),this.videoAnalytics.setContentInfo(t)}ndleVideoEngineNotification(e){var t,n,i,o,a,s,u,c,d,f,l,_,h,g,m,y,b,S,$,T,E,A,C,I,P,k,w,M,O,R,D,x;const L=JSON.stringify(e);if(this.videoAnalytics)switch(e.type){case p.Rb.Media_State_Changed:this.handleMediaState(e);break;case p.Rb.Ad_State_Changed:this.handleAdState(e);break;case p.Rb.Media_Profile_Changed:this._mediaProfile=Object.assign({},e.profile),this._reportBitrate(),this._reportFramerate();break;case p.Rb.Ad_Started:{this._currentAdBreak=e.adBreakId,this._podIndex++;let i=0;this._model.currentAdBreak?(i=this._model.currentAdBreak.duration,this._podPosition=this.mapAdPosition(this._model.currentAdBreak)):this._podPosition=r.a.Constants.AdPosition.MIDROLL,v.debug("[handleVideoEngineNotification] reportAdBreakStarted()"),null===(t=this.videoAnalytics)||void 0===t||t.reportAdBreakStarted(r.a.Constants.AdType.SERVER_SIDE,r.a.Constants.AdPlayer.CONTENT,{[r.a.Constants.POD_POSITION]:this._podPosition,[r.a.Constants.POD_DURATION]:i.toString(),[r.a.Constants.POD_INDEX]:this._podIndex.toString()}),v.debug("[handleVideoEngineNotification] reportPlaybackEvent(USER_WAIT_STARTED)"),null===(n=this.videoAnalytics)||void 0===n||n.reportPlaybackEvent(r.a.Constants.Events.USER_WAIT_STARTED);break}case p.Rb.Ad_Creative_Started:if(!this._config.adInsights)break;const N=this._model.currentAdCreative;if(!N)break;let U=N.id,B="";switch(N.adSystem){case"FreeWheel":[U,B]=U.split(".")}const F=this._model.currentAdBreak,j={[r.a.Constants.STREAM_URL]:null!==(i=N.mediaFileUrl)&&void 0!==i?i:null===(o=this._metadata)||void 0===o?void 0:o[r.a.Constants.STREAM_URL],[r.a.Constants.ASSET_NAME]:null!==(a=null==N?void 0:N.adTitle)&&void 0!==a?a:"NA",[r.a.Constants.IS_LIVE]:null===(s=this._metadata)||void 0===s?void 0:s[r.a.Constants.IS_LIVE],[r.a.Constants.DEFAULT_RESOURCE]:null===(u=this._metadata)||void 0===u?void 0:u[r.a.Constants.DEFAULT_RESOURCE],[r.a.Constants.APPLICATION_VERSION]:null!==(c=this._config.applicationVersion)&&void 0!==c?c:"na","c3.ad.id":null!=U?U:"NA","c3.ad.system":null!==(d=N.adSystem)&&void 0!==d?d:"NA","c3.ad.isSlate":N.isFiller.toString(),"c3.ad.position":this.mapAdPosition(F),"c3.ad.adStitcher":"YoSpace","c3.ad.firstAdSystem":null!==(f=N.firstAdSystem)&&void 0!==f?f:N.adSystem,"c3.ad.firstAdId":null!==(l=N.firstAdId)&&void 0!==l?l:N.id,"c3.ad.firstCreativeId":null!==(_=N.firstCreativeId)&&void 0!==_?_:N.creativeId,"c3.ad.creativeId":N.creativeId,"c3.ad.sequence":null!==(h=N.sequence.toString())&&void 0!==h?h:"NA","c3.ad.advertiser":N.advertiser,adBreakId:null!==(g=null==F?void 0:F.id)&&void 0!==g?g:"NA"};B&&(j.adLogId=B);const H=null===(m=this._metadata)||void 0===m?void 0:m[r.a.Constants.ASSET_NAME];H&&(j.contentAssetName=H),N.requiresUi?(j["c3.ad.technology"]=r.a.Constants.AdType.CLIENT_SIDE,j["c3.ad.mediaFileApiFramework"]="VPAID"):(j[r.a.Constants.DURATION]=N.duration,j["c3.ad.technology"]=r.a.Constants.AdType.SERVER_SIDE,j["c3.ad.mediaFileApiFramework"]="NA"),v.debug(`[handleVideoEngineNotification] reportAdStarted(${JSON.stringify(j)})`),null===(y=this.adAnalytics)||void 0===y||y.reportAdStarted(j),this.setAdPlayerStateWithModelState(),(null===(b=this._mediaProfile)||void 0===b?void 0:b.bitrate)&&(null===(S=this.adAnalytics)||void 0===S||S.reportAdMetric(r.a.Constants.Playback.BITRATE,this._mediaProfile.bitrate));break;case p.Rb.Ad_Time_Changed:null===($=this.adAnalytics)||void 0===$||$.reportAdMetric(r.a.Constants.Playback.PLAY_HEAD_TIME,null===(T=this._model.currentAdCreative)||void 0===T?void 0:T.currentTime);break;case p.Rb.Ad_Creative_Ended:if(!this._config.adInsights)break;v.debug("[handleVideoEngineNotification] reportAdEnded()"),null===(E=this.adAnalytics)||void 0===E||E.reportAdEnded();break;case p.Rb.Ad_Error:{if(!this.isSessionActive())return;if(e.adErrorType&&e.adErrorType===p.b.PolicyError)return void(null===(A=this.videoAnalytics)||void 0===A||A.reportPlaybackEvent("Conviva.AdPolicy",{reason:e.name}));const t=this.mapErrorSeverity(e.severity);switch(t){case r.a.Constants.ErrorSeverity.FATAL:v.error(`[handleVideoEngineNotification] reportAdFailed(${e.message})`),v.error(`[handleVideoEngineNotification] reportPlaybackFailed(${L})`),null===(C=this.adAnalytics)||void 0===C||C.reportAdFailed(e.message),null===(I=this.videoAnalytics)||void 0===I||I.reportPlaybackFailed(L);break;case r.a.Constants.ErrorSeverity.WARNING:v.warn(`[handleVideoEngineNotification] reportAdFailed(${e.message})`),v.warn(`[handleVideoEngineNotification] reportPlaybackError(${L})`),null===(P=this.adAnalytics)||void 0===P||P.reportAdFailed(e.message),null===(k=this.videoAnalytics)||void 0===k||k.reportPlaybackError(L,t)}this._currentAdBreak=null;break}case p.Rb.Ad_Finished:if(this._currentAdBreak=null,!this.isSessionActive())return;v.debug("[handleVideoEngineNotification] reportAdBreakEnded()"),null===(w=this.videoAnalytics)||void 0===w||w.reportAdBreakEnded(),v.debug("[handleVideoEngineNotification] reportPlaybackEvent(USER_WAIT_ENDED)"),null===(M=this.videoAnalytics)||void 0===M||M.reportPlaybackEvent(r.a.Constants.Events.USER_WAIT_ENDED),this.setPlayerStateWithModelState();break;case p.Rb.Media_Started:this._mediaStarted||(this._mediaStarted=!0,this.setPlayerStateWithModelState());break;case p.Rb.Media_Error:if(!this.isSessionActive())return;this._inAdBreak()&&(v.debug(`[handleVideoEngineNotification] reportAdFailed(${e.message})`),null===(O=this.adAnalytics)||void 0===O||O.reportAdFailed(e.message),this._currentAdBreak=null),v.debug(`[handleVideoEngineNotification] reportPlaybackFailed(${L})`),null===(R=this.videoAnalytics)||void 0===R||R.reportPlaybackFailed(L);break;case p.Rb.Media_Seeking_Started:v.debug("[handleVideoEngineNotification] reportPlaybackMetric(SEEK_STARTED)"),null===(D=this.videoAnalytics)||void 0===D||D.reportPlaybackMetric(r.a.Constants.Playback.SEEK_STARTED,Math.round(e.requestedTime));break;case p.Rb.Media_Seeking_Finished:v.debug("[handleVideoEngineNotification] reportPlaybackMetric(SEEK_ENDED)"),null===(x=this.videoAnalytics)||void 0===x||x.reportPlaybackMetric(r.a.Constants.Playback.SEEK_ENDED)}}etAdPlayerStateWithModelState(){var e,t;const n=this.mapAdStateToConvivaPlayerState(null===(e=this._model.currentAdBreak)||void 0===e?void 0:e.state);n&&(null===(t=this.adAnalytics)||void 0===t||t.reportAdMetric(r.a.Constants.Playback.PLAYER_STATE,n))}setPlayerStateWithModelState(){var e,t;switch(this._model.mediaState){case p.U.Playing:null===(e=this.videoAnalytics)||void 0===e||e.reportPlaybackMetric(r.a.Constants.Playback.PLAYER_STATE,r.a.Constants.PlayerState.PLAYING);break;case p.U.Paused:null===(t=this.videoAnalytics)||void 0===t||t.reportPlaybackMetric(r.a.Constants.Playback.PLAYER_STATE,r.a.Constants.PlayerState.PAUSED)}}handleMediaState(e){var t;if(!this.videoAnalytics)return void v.warn("[handleMediaState] not initialized, cannot report player state");let n;const{currentState:i,previousState:o}=e;switch(i){case p.U.Pending:n=r.a.Constants.PlayerState.NOT_MONITORED;break;case p.U.Playing:this._mediaStarted&&(n=r.a.Constants.PlayerState.PLAYING);break;case p.U.Paused:n=this._model.contentState===p.Hb.Ads_Playback?r.a.Constants.PlayerState.PLAYING:r.a.Constants.PlayerState.PAUSED;break;case p.U.Buffering:o!==p.U.Seeking&&(n=r.a.Constants.PlayerState.BUFFERING);break;case p.U.Finished:case p.U.Stopped:n=r.a.Constants.PlayerState.STOPPED}n&&!this._inAdBreak()&&(v.debug(`[handleMediaState] reportPlaybackMetric(${n})`),null===(t=this.videoAnalytics)||void 0===t||t.reportPlaybackMetric(r.a.Constants.Playback.PLAYER_STATE,n))}teContent(e){this._contentEntryFileData=e}init(e){var t,n,i,o,s,u,c,d,l,g,m,y,b,S,$;const{config:T,model:E}=e;v.debug("[init] starting the sink...");const A=T.analytics.conviva;if(!A.customerKey)return Promise.reject(f.b.analyticsConfigFailure("Missing required Conviva customer key."));const C={};A.touchstoneUrl&&(C[r.a.Constants.GATEWAY_URL]=A.touchstoneUrl),A.touchstoneUrl&&(null===(t=T.debug.logging)||void 0===t?void 0:t.enabled)&&(C[r.a.Constants.LOG_LEVEL]=r.a.Constants.LogLevel.DEBUG);const I={[r.a.Constants.CallbackFunctions.CONSOLE_LOG]:a.a,[r.a.Constants.CallbackFunctions.LOAD_DATA]:h.a,[r.a.Constants.CallbackFunctions.SAVE_DATA]:h.b};v.debug("[init] calling Conviva.Analytics.init(...)"),r.a.Analytics.init(A.customerKey,I,C),void 0===A.deviceInfo&&(A.deviceInfo={tubVersion:null!==(n=T.metadata["versions.tub"])&&void 0!==n?n:"unknown",type:null!==(i=T.metadata["device.type"])&&void 0!==i?i:"unknown",model:null!==(o=T.metadata["device.model"])&&void 0!==o?o:null,brand:null!==(s=T.metadata["device.brand"])&&void 0!==s?s:null}),this.applicationName=A.applicationName;const P=null!==(c=null===(u=A.deviceInfo)||void 0===u?void 0:u.type)&&void 0!==c?c:p.F.Unknown,k=null!==(l=null===(d=A.deviceInfo)||void 0===d?void 0:d.tubVersion)&&void 0!==l?l:"unknown",w=null!==(m=null===(g=A.deviceInfo)||void 0===g?void 0:g.model)&&void 0!==m?m:void 0,M=null!==(b=null===(y=A.deviceInfo)||void 0===y?void 0:y.brand)&&void 0!==b?b:void 0,O=new _.a(P,k,T.metadata,w,M),R=this.createDeviceMetadata(O);v.debug("[init] calling Conviva.Analytics.setDeviceMetadata(...)"),r.a.Analytics.setDeviceMetadata(R),this.videoAnalytics=r.a.Analytics.buildVideoAnalytics();const D={[r.a.Constants.FRAMEWORK_NAME]:O.getFrameworkName(),[r.a.Constants.FRAMEWORK_VERSION]:O.getFrameworkVersion()};return v.debug("[init] calling videoAnalytics.setPlayerInfo(...)"),null===(S=this.videoAnalytics)||void 0===S||S.setPlayerInfo(D),null===($=this.videoAnalytics)||void 0===$||$.setCallback((),A.adInsights&&(v.debug("[init] calling Conviva.Analytics.buildAdAnalytics(...) for adInsights"),this.adAnalytics=r.a.Analytics.buildAdAnalytics(this.videoAnalytics)),this._model=E,this._config=A,v.debug("[init] calling createSession(...)"),this.createSession(A),Promise.resolve()}tEvent(e){var t;try{null===(t=this.videoAnalytics)||void 0===t||t.reportPlaybackEvent(e.name,{data:e.data})}catch(e){v.warn("[reportEvent] Error reporting event to Conviva: "+e)}return this}reportError(e){var t;if(!this.videoAnalytics)return this;let n,i;switch(e.severity){case p.J.Fatal:case p.J.Error:n=r.a.Constants.ErrorSeverity.FATAL;break;default:n=r.a.Constants.ErrorSeverity.WARNING}i=Object(s.a)(e)?e.data:e.toString();try{null===(t=this.videoAnalytics)||void 0===t||t.reportPlaybackError(i,n)}catch(e){v.warn("[reportError] Error reporting error to Conviva: "+e)}return this}cessCommand(e){var t;const{type:n}=e;switch(n){case l.a.CreateSession:{const t=e.data;t.metadata||v.error("[processCommand] unable to create Conviva session, missing content data"),this.createSession(this._config),this.updateSession(t.metadata);break}case l.a.ReportEvent:{const t=e.data;this.reportEvent(t.event);break}case l.a.ReportError:{const n=e.data;if(n.event)this.reportError(n.event);else{const e=null!==(t=n.error)&&void 0!==t?t:f.b.unknownError();this.reportError(e)}break}case l.a.LifecycleUpdate:if(this.isSessionActive())switch(e.data.event){case p.O.Playback:r.a.Analytics.reportAppForegrounded();break;case p.O.FocusLost:r.a.Analytics.reportAppEvent("Focus Lost",{});break;case p.O.Background:r.a.Analytics.reportAppBackgrounded()}else v.warn("[Conviva LifecycleUpdate] could not report event, no valid session found");break;case l.a.PauseTracking:this.pauseTracking();break;case l.a.ResumeTracking:this.resumeTracking();break;case l.a.CleanupSession:this.cleanupSession();break;default:throw new o.UnreachableCaseError(n)}return this}all(this,n(38))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Entered="entered",e.Exited="exited"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(1),r=n(48),o=n(6),a=n(53),s=n(0);const u=i.Log.getLogger("DefaultCCProvider").filter("captions.provider");class c{kedCueData(e){const t=this._getTrackedCuesFromCueTimeRange(e);return t&&t.find(()||null}(e){this._removeCue(e)},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Default="com.turner.top.platformhelper.default"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(1),r=n(90),o=n(6),a=n(4),s=n(12),u=n(27),c=n(35),d=n(46),f=n(0),l=n(32);const _=i.Log.getLogger("CCController").filter("captions");class h{constructor(e,t,n){this._onCCManagerEvent=(e,t)=>{switch(e){case r.a.Track_Added:if(this._queuedAutoTrackSelectionByLang){const e=t.id,n=this._ccManager.tracks.find(();(null==n?void 0:n.lang)===this._queuedAutoTrackSelectionByLang&&this._ccManager.selectTrackByLang(this._queuedAutoTrackSelectionByLang)&&(_.debug(`Auto-selected track w/ lang "${this._queuedAutoTrackSelectionByLang}" as a result of an earlier failed attempt on mediaStarted`),this._queuedAutoTrackSelectionByLang=null)}}this._notifyModuleNotification({module:f.db.Captions,category:f.cb.Component_Event,result:t})},this.moduleNotification=Object(i.createEvent)("moduleNotification"),this._ccManager=e,this._bindings=[this._ccManager.events.listen(this._onCCManagerEvent)],this._savePreferencesTask=null,this._systemDefaults=i.ObjectUtils.assign({},Object(d.a)(),t),this._userSettings=n,this._preferences={enabled:null,lang:null,settings:Object(c.c)(this._systemDefaults,n)},this._queuedAutoTrackSelectionByLang=null}VideoEngineEvent(e,t){switch(e){case f.Rb.Media_Loaded:this._preferences.settings&&this._ccManager.updateSettings(this._preferences.settings);break;case f.Rb.Media_Started:const{lang:e,enabled:t}=this._preferences;"true"!==this._model.config.metadata.tvOSCaptions&&(null!==e&&!1!==t&&(this._ccManager.selectTrackByLang(e)||(this._queuedAutoTrackSelectionByLang=e)),null!==t&&this._ccManager.setEnabled(t))}}cessCommand(e){switch(e.type){case o.a.Set_Enabled:case o.a.Select_Track:case o.a.Select_Track_By_Lang:case o.a.Update_Settings:switch(e.type){case o.a.Set_Enabled:const t=i.ObjectUtils.getOrElse(e.data,"enabled",null);"boolean"==typeof t?(this._preferences.enabled=t,this._ccManager.setEnabled(t),!1===t&&(this._preferences.lang=f.j.Off,this._ccManager.selectTrackByLang(f.j.Off))):_.warn(`[processCommand] missing enabled property on ${e.type} command data`);break;case o.a.Select_Track:const n=i.ObjectUtils.getOrElse(e.data,"track",null);n?(this._preferences.lang=n.lang,this._ccManager.selectTrack(n.id)&&(this._queuedAutoTrackSelectionByLang=null)):_.warn(`[processCommand] could not find track on ${e.type} command data`);break;case o.a.Select_Track_By_Lang:const r=i.ObjectUtils.getOrElse(e.data,"lang",f.j.Off);r?(this._preferences.lang=r,this._ccManager.selectTrackByLang(r)):_.warn(`[processCommand] could not find language identifier on ${e.type} command data`);break;case o.a.Update_Settings:const a=i.ObjectUtils.getOrElse(e.data,"settings",null);if(!a){_.warn(`[processCommand] could not find settings on ${e.type} command data`);break}const s=i.ObjectUtils.getOrElse(e.data,"source",f.k.User);switch(s){case f.k.User:this._preferences.settings=Object(c.c)(this._systemDefaults,a),this._userSettings=Object(c.b)(this._systemDefaults,a);break;case f.k.System:this._systemDefaults=a,this._preferences.settings=Object(c.c)(this._systemDefaults,this._userSettings);break;default:throw new i.UnreachableCaseError(s)}this._ccManager.updateSettings(this._preferences.settings)}this._savePreferencesTask=this._savePreferences().onRejected(().onCompleted(();break;default:throw new i.UnreachableCaseError(e.type)}}function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Model_Update_Request="modelUpdateRequest",e.State_Changed="stateChanged"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i,r=n(1);function(e){e.Content_Stalled="contentStalled",e.Content_Lost="contentLost"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i,r=n(1);function o(){return Object(r.createEventCollection)({timedOut:Object(r.createEvent)(i.Timed_Out)})}!function(e){e.Timed_Out="timedOut"}(i||(i={}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var i=n(1),r=n(164),o=n(143),a=n(163),s=n(27),u=n(89),c=n(11),d=n(41),f=n(21),l=n(119),_=n(120),h=n(98),p=n(72),g=n(65),v=n(18),m=n(165),y=n(125),b=n(10),S=n(62),$=n(99),T=n(16),E=n(95),A=n(0);class C{constructor(e){this._onPlatformInfoResolved=this._onPlatformInfoRejected=this._onFsmEvent=this._processCommandOp=(e,t)=>{var n,r;switch(t.type){case A.ib.Attach:if(!this._viewController)return void e.reject();this._viewController.attach(t.container),e.resolve();break;case A.ib.Enter_Fullscreen:if(!this._viewController)return void e.reject();this._viewController.enterFullscreen();break;case A.ib.Exit_Fullscreen:if(!this._viewController)return void e.reject();this._viewController.exitFullscreen();break;case A.ib.Play:if(null===(n=this._transactionManager)||void 0===n?void 0:n.isRunning())return this._logger.info("[_processCommandOp] Play request - Interrupting current transaction"),void this._interruptAndQueueCommand(e,t);this._hookHandlers=null!==(r=t.hooks)&&void 0!==r?r:{},Object(p.f)(this.hooks,this._hookHandlers);break;case A.ib.Replay:const a=this.model.playlistItem;if(!a)return this._logger.warn("[_processCommandOp] Cannot replay, previous playlist item not found"),void e.reject();this.processCommand({type:A.ib.Play,contentData:A.v.forEntryData().withContentEntryData(a.entry).build(),options:a.options,hooks:this._hookHandlers}),e.resolve();break;case A.ib.Update_Config:return void(this._transactionManager?(this._transactionManager.updateConfig(t.config),e.resolve()):e.reject());case A.ib.Detach:if(!this._viewController||!this._viewController.isAttached())return this._logger.warn("[_processCommandOp] Invalid state to detach"),void e.reject();this._viewController.detach({exitFullscreenOnDetach:t.exitFullscreenOnDetach}),e.resolve();break;case A.ib.Message_From_UI:const{name:s,payload:u}=t;s===A.Rb.Ad_Clicked&&this.events.moduleNotification.dispatch({module:A.db.Video_Engine,category:A.cb.Component_Event,result:{type:A.Rb.Media_Command_Received,command:s,args:u}}),this.events.moduleNotification.dispatch({module:A.db.UI,category:A.cb.Component_Event,result:{type:t.type,name:t.name,payload:t.payload}});break;case A.ib.Destroy:if(null===this._fsm.currentState())return e.resolve(),this._logger.warn("Destroying a player that setup was not called on."),this._fsm.init(o.a),void this._fsm.fireTransition(v.a.Destroy);switch(this._fsm.attemptTransition(v.a.Destroy)){case i.FsmTransitionResult.Canceled:case i.FsmTransitionResult.Error:e.reject(),this._destroyDeferred&&this._destroyDeferred.rejector("Cannot destroy from current player state");break;case i.FsmTransitionResult.Succeeded:e.resolve()}return}this._transactionManager&&this._transactionManager.processCommand(t),e.resolve()},this._processNotificationOp=this._processPlayerError=this._onTransactionEvent=this._handleLifecycleStoredContent=this._onInitEvent=this._onViewEvent=this._playerId=e,this._logger=i.Log.getLogger("PlayerController"+this._playerId),this.hooks=Object(p.d)(),this.events=Object(f.b)(),this._queuedExtCommands=[],this._initController=null,this._viewController=null,this._transactionManager=null,this._destroyDeferred=null,this._hookHandlers={},this._setupConfigData=new A.t({}),this._opsManager=new r.a,this._fsm=new i.Fsm,this._bindings=[],this.model=new g.a,this._platformInfoTask=this._resolvePlatformInfo().fold(this._onPlatformInfoRejected,this._onPlatformInfoResolved)}queuePlayerError(e){this._opsManager.queuePlayerError(this._processPlayerError,e)}_notifyPlayerError(e){this.events.playerError.dispatch({error:e})}_notifyStateChanged(e,t){this.events.playerStateChanged.dispatch({previousState:e,currentState:t})}notifyModuleNotification(e){this.events.moduleNotification.dispatch(e)}ommand(e){const{playerState:t,contentState:n}=this.model,{type:i}=e,r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["type"]);this._logger.verbose(`[rejectMediaCommand] type: ${i}, player: ${t}, content: ${n}`),this.events.moduleNotification.dispatch({module:A.db.Video_Engine,category:A.cb.Component_Event,result:{type:A.Rb.Media_Command_Rejected,command:i,args:r}})}).call(this,n(38))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(8),r=n(1),o=n(14),a=n(111),s=n(47),u=n(0);class c{merge(e,t){return t=r.ObjectUtils.extendDeep({},t),e=r.ObjectUtils.extendDeep({},e),(t=>{const n=this._mergingHandler.getForPostProcessing(t);return r.ObjectUtils.isEmpty(n)||Object.keys(n).forEach((i=>{this._processStrategySection(n,i,e,t)})),t})((t=>{const n=this._mergingHandler.getForStandardProcessing(t);return r.ObjectUtils.isEmpty(n)||Object.keys(n).forEach((i=>{this._processStrategySection(n,i,e,t)})),t})(((t)))}se(e,t){return this._config.getOrElse(e,t)}}},function(module,__webpack_exports__,__nested_webpack_require_2892971__){"use strict";(function(global){__nested_webpack_require_2892971__.d(__webpack_exports__,"a",(function(){return StringReplacer}));var _top_std_lib_block_shared__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_2892971__(1),_top_std_lib_block_shared__WEBPACK_IMPORTED_MODULE_0___default=__nested_webpack_require_2892971__.n(_top_std_lib_block_shared__WEBPACK_IMPORTED_MODULE_0__),fp_ts_lib_Option__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_2892971__(8),fp_ts_lib_Option__WEBPACK_IMPORTED_MODULE_1___default=__nested_webpack_require_2892971__.n(fp_ts_lib_Option__WEBPACK_IMPORTED_MODULE_1__);const logger=_top_std_lib_block_shared__WEBPACK_IMPORTED_MODULE_0__.Log.getLogger("StringReplacer").filter("config"),RANDOM_LIMIT=2e3;class StringReplacer{constructor(){this._initialized=!1}_configTokenReplacement(e,t){return _top_std_lib_block_shared__WEBPACK_IMPORTED_MODULE_0__.ObjectUtils.isObj(e)?_top_std_lib_block_shared__WEBPACK_IMPORTED_MODULE_0__.ObjectUtils.keyValues(e).forEach(():Array.isArray(e)?e.forEach(():"string"==typeof e&&this._stringTokenReplacement(e,t),e}tPlatformUrl(){return location?location.href:null}call(this,__nested_webpack_require_2892971__(38))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.iSP="x-isp-token"}(i||(i={}))},function(e,t,n){"use strict";var i=n(1),r=n(61),o=n(124),a=n(39),s=n(8),u=n(4),c=n(0);const d=i.Log.getLogger("CmsManager").filter("cms");.a=class{ctContent(e,t){const n=Object(a.d)(e),r=i.TaskFactory.create((e=>{this._supportedDRM.then(().then((i=>{const r=function(e,t,n){let i=null;return n&&(i=f(e,t)),i||(i=e.bulkaes),i||(i=e.unprotected),i||n||(i=f(e,t)),i||(i=e.preview),i||(i=e.unknown),i}(n,i,Object(s.fromNullable)(t.preferDRM).getOrElse(!0));if(!r)return!this._supportsDRM&&function(e){return!!e.fairplay||!!e.multidrm||!!e.playready||!!e.primetime||!!e.widevine}(n)?e.reject(u.b.cmsContentSupportFailure("Missing DRM support.")):e.reject(u.b.cmsSelectionFailure("Unable to find a piece of content to suggest for playback"));e.resolve(r)})).catch((t=>e.reject(t)))}));return r.execute(),r}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(1),r=n(20),o=n(0);const a=i.Log.getLogger("Timeline").filter("timeline");class s{estModelUpdates(e){this.events.modelUpdateRequest.dispatch({changes:e})}get currentTime(){return this._currentTime}ker(){return this._markers.last()}pdateTime(e){const t=this._currentTime;this._currentTime=e,this._syncModelTime(),this._markers.iterator().forEach((t=>t.updateTime(e))),0===t&&e>0&&this.events.started.dispatch({initialTime:e})}terator(){return this._markers.iterator()}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var i,r=n(1);function(e){e.State_Changed="stateChanged"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var i,r=n(1);function(e){e.State_Changed="stateChanged"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(1),r=n(61),o=n(0);const a=i.Log.getLogger("providers").filter("cms"),s=var u=n(31),c=n(4);const d=i.Log.getLogger("CmsEntryResolver").filter("cms"),f={en:"English",eng:"English","en-us":"English (U.S.)","en-ca":"English (Canada)","en-gb":"English (UK)",es:"Spanish",spa:"Spanish","es-es":"Spanish (Castilian)","es-mx":"Spanish (Mexico)"};class l{edsResolution(){return"string"==typeof this._playData||!!Object(u.c)(this._playData)||!!Object(u.b)(this._playData)||!!Object(u.d)(this._playData.metadata)}{return this._task.execute()}}},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(133),a=n(0),s={initial:{name:r.a.Start,state:a.Vb.Pending},events:[{name:r.a.Create,from:[a.Vb.Pending],to:a.Vb.Creating},{name:r.a.Created,from:[a.Vb.Creating],to:a.Vb.Created},{name:r.a.Attach,from:[a.Vb.Created,a.Vb.Detached],to:a.Vb.Attaching},{name:r.a.Attached,from:[a.Vb.Attaching,a.Vb.Attached],to:a.Vb.Attached},{name:r.a.Windowed,from:[a.Vb.Attached,a.Vb.Entering_Fullscreen,a.Vb.Exiting_Fullscreen,a.Vb.Exiting_Remote],to:a.Vb.Windowed},{name:r.a.Enter_Fullscreen,from:[a.Vb.Windowed,a.Vb.Remote],to:a.Vb.Entering_Fullscreen},{name:r.a.Fullscreen,from:[a.Vb.Attached,a.Vb.Entering_Fullscreen,a.Vb.Exiting_Fullscreen,a.Vb.Exiting_Remote],to:a.Vb.Fullscreen},{name:r.a.Exit_Fullscreen,from:[a.Vb.Fullscreen,a.Vb.Remote],to:a.Vb.Exiting_Fullscreen},{name:r.a.Enter_Remote,from:[a.Vb.Windowed,a.Vb.Fullscreen,a.Vb.Attached],to:a.Vb.Entering_Remote},{name:r.a.Remote,from:[a.Vb.Entering_Remote,a.Vb.Entering_Fullscreen,a.Vb.Exiting_Fullscreen],to:a.Vb.Remote},{name:r.a.Exit_Remote,from:[a.Vb.Remote],to:a.Vb.Exiting_Remote},{name:r.a.Detach,from:[a.Vb.Windowed,a.Vb.Fullscreen,a.Vb.Remote],to:a.Vb.Detaching},{name:r.a.Detached,from:[a.Vb.Detaching],to:a.Vb.Detached},{name:r.a.Destroy,to:a.Vb.Destroying},{name:r.a.Destroyed,from:[a.Vb.Destroying],to:a.Vb.Destroyed},{name:r.a.Error,to:a.Vb.Error}]},u=n(13),c=n(8);t.a=,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var i,r=n(1);function(e){e.Model_Update_Request="modelUpdateRequest",e.Mark_Created="markCreated",e.Measure_Created="measureCreated"}(i||(i={}))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Default="com.turner.top.analytics.default"}(i||(i={}))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Default="com.turner.top.cues.default"}(i||(i={}))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Default="com.turner.top.mocks.default"}(i||(i={}))},function(e,t,n){"use strict";var i=n(120);n.d(t,"b",(function(){return i.b})),n(21),n(66);var r=n(119);n.d(t,"a",(function(){return r.b}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i,r=n(1),o=n(86);!function(e){e.Fired="fired"}(i||(i={}));const a={frequency:o.a.Default};class s{constructor(){this.fireTriggered=this._events=Object(r.createEventCollection)({fired:Object(r.createEvent)(i.Fired)}),this._enabled=!1,this._options=a,this._triggerCount=0}get events(){return this._events}get enabled(){return this._enabled}get options(){return this._options}nable(){this._enabled=!0}disable(){this._enabled=!1}estroy(){this.disable()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(63);t.pipe=t.pipeable=function(e){var t={};return function(e){return"function"==typeof e.map}(e)&&(t.map=function(t){return function(n){return e.map(n,t)}}),function(e){return"function"==typeof e.contramap}(e)&&(t.contramap=function(t){return function(n){return e.contramap(n,t)}}),function(e){return"function"==typeof e.mapWithIndex}(e)&&(t.mapWithIndex=function(t){return function(n){return e.mapWithIndex(n,t)}}),function(e){return"function"==typeof e.ap}(e)&&(t.ap=function(t){return function(n){return e.ap(n,t)}},t.apFirst=t.apSecond=,function(e){return"function"==typeof e.chain}(e)&&(t.chain=function(t){return function(n){return e.chain(n,t)}},t.chainFirst=t.flatten=function(t){return e.chain(t,i.identity)}),function(e){return"function"==typeof e.bimap}(e)&&(t.bimap=function(t,n){return function(i){return e.bimap(i,t,n)}},t.mapLeft=,function(e){return"function"==typeof e.extend}(e)&&(t.extend=function(t){return function(n){return e.extend(n,t)}},t.duplicate=function(t){return e.extend(t,i.identity)}),function(e){return"function"==typeof e.reduce}(e)&&(t.reduce=function(t,n){return function(i){return e.reduce(i,t,n)}},t.foldMap=function(t){var n=e.foldMap(t);return function(e){return function(t){return n(t,e)}}},t.reduceRight=function(t,n){return function(i){return e.foldr(i,t,n)}}),function(e){return"function"==typeof e.reduceWithIndex}(e)&&(t.reduceWithIndex=function(t,n){return function(i){return e.reduceWithIndex(i,t,n)}},t.foldMapWithIndex=t.reduceRightWithIndex=function(t,n){return function(i){return e.foldrWithIndex(i,t,n)}}),function(e){return"function"==typeof e.alt}(e)&&(t.alt=,function(e){return"function"==typeof e.compact}(e)&&(t.compact=e.compact,t.separate=e.separate),function(e){return"function"==typeof e.filter}(e)&&(t.filter=function(t){return function(n){return e.filter(n,t)}},t.filterMap=function(t){return function(n){return e.filterMap(n,t)}},t.partition=function(t){return function(n){return e.partition(n,t)}},t.partitionMap=function(t){return function(n){return e.partitionMap(n,t)}}),function(e){return"function"==typeof e.filterWithIndex}(e)&&(t.filterWithIndex=function(t){return function(n){return e.filterWithIndex(n,t)}},t.filterMapWithIndex=function(t){return function(n){return e.filterMapWithIndex(n,t)}},t.partitionWithIndex=function(t){return function(n){return e.partitionWithIndex(n,t)}},t.partitionMapWithIndex=function(t){return function(n){return e.partitionMapWithIndex(n,t)}}),function(e){return"function"==typeof e.promap}(e)&&(t.promap=,function(e){return"function"==typeof e.compose}(e)&&(t.compose=function(t){return function(n){return e.compose(n,t)}}),e)&&(t.fromOption=t.fromEither=t.fromPredicate=t.filterOrElse=,t}},function(e,t,n){"use strict";n.r(t),n(166),n(169);var i=n(151);n.d(t,"Player",(function(){return i.a}));var r=n(2);for(var o in r)["default","Player"].indexOf(o)<0&&o);var a=n(0);n.d(t,"libVersion",(function(){return a.Wb})),n.d(t,"ContentEntryBuilder",(function(){return a.v})),n.d(t,"ContentEntryDataBuilder",(function(){return a.w})),n.d(t,"ContentEntryOptionsBuilder",(function(){return a.x})),n.d(t,"StandardExtend",(function(){return a.yb})),n.d(t,"StandardExtendWithArrayAssignment",(function(){return a.zb})),n.d(t,"ConfigInstance",(function(){return a.t})),n.d(t,"PlayConfigBuilder",(function(){return a.gb})),n.d(t,"PlayerConfigBuilder",(function(){return a.jb})),n.d(t,"SetupConfigBuilder",(function(){return a.wb})),n.d(t,"CueHelpers",(function(){return a.A})),n.d(t,"MocksHelpers",(function(){return a.Y})),n.d(t,"PlayerVersionHelper",(function(){return a.pb})),n.d(t,"PlayerVersion",(function(){return a.ob})),n.d(t,"SCTEMetadataHelpers",(function(){return a.rb})),n.d(t,"AdBreakPosition",(function(){return a.a})),n.d(t,"AdErrorType",(function(){return a.b})),n.d(t,"AdState",(function(){return a.c})),n.d(t,"AnalyticsMarkName",(function(){return a.d})),n.d(t,"AnalyticsMeasureName",(function(){return a.e})),n.d(t,"AuthCdnTokenType",(function(){return a.f})),n.d(t,"AuthDrmTokenType",(function(){return a.g})),n.d(t,"AutoPlayPreloadBehavior",(function(){return a.h})),n.d(t,"CategoryCode",(function(){return a.n})),n.d(t,"CategoryType",(function(){return a.o})),n.d(t,"CCChannel",(function(){return a.i})),n.d(t,"CCLang",(function(){return a.j})),n.d(t,"CCSettingsSource",(function(){return a.k})),n.d(t,"CCSource",(function(){return a.l})),n.d(t,"CCState",(function(){return a.m})),n.d(t,"CmsProviderKey",(function(){return a.p})),n.d(t,"Color",(function(){return a.q})),n.d(t,"ComponentCategory",(function(){return a.s})),n.d(t,"ContentAssetType",(function(){return a.u})),n.d(t,"TCFNativeKeys",(function(){return a.Bb})),n.d(t,"ContentProtectionType",(function(){return a.y})),n.d(t,"DeviceType",(function(){return a.F})),n.d(t,"DRMDataSource",(function(){return a.E})),n.d(t,"Edge",(function(){return a.H})),n.d(t,"EncryptionMode",(function(){return a.I})),n.d(t,"ErrorSeverity",(function(){return a.J})),n.d(t,"FontType",(function(){return a.K})),n.d(t,"LifecycleAction",(function(){return a.N})),n.d(t,"LifecycleState",(function(){return a.O})),n.d(t,"MarkerEventType",(function(){return a.P})),n.d(t,"MarkerType",(function(){return a.Q})),n.d(t,"MediaDeliveryType",(function(){return a.R})),n.d(t,"MediaFileType",(function(){return a.S})),n.d(t,"MediaJSONPlatform",(function(){return a.T})),n.d(t,"MediaState",(function(){return a.U})),n.d(t,"MediumVersion",(function(){return a.V})),n.d(t,"ModelEvents",(function(){return a.Z})),n.d(t,"ModelKeys",(function(){return a.ab})),n.d(t,"ModelUpdateMode",(function(){return a.bb})),n.d(t,"ModuleEventCategory",(function(){return a.cb})),n.d(t,"ModuleType",(function(){return a.db})),n.d(t,"Opacity",(function(){return a.eb})),n.d(t,"PlayerCommandType",(function(){return a.ib})),n.d(t,"PlayerEventType",(function(){return a.kb})),n.d(t,"PlayerFriendlyObstructionPurpose",(function(){return a.lb})),n.d(t,"PlayerHookName",(function(){return a.mb})),n.d(t,"PlayerState",(function(){return a.nb})),n.d(t,"PlayModeOptions",(function(){return a.hb})),n.d(t,"Size",(function(){return a.xb})),n.d(t,"SSAIType",(function(){return a.vb})),n.d(t,"SubjectToGDPROptions",(function(){return a.Ab})),n.d(t,"TCFVersion",(function(){return a.Cb})),n.d(t,"TCFVersionDefault",(function(){return a.Db})),n.d(t,"TextTrackKind",(function(){return a.Eb})),n.d(t,"ToggleableSections",(function(){return a.Fb})),n.d(t,"TransactionEventType",(function(){return a.Gb})),n.d(t,"TransactionState",(function(){return a.Hb})),n.d(t,"VideoEngineCommandType",(function(){return a.Qb})),n.d(t,"VideoEngineEventType",(function(){return a.Rb})),n.d(t,"VideoEngineMetadataSourceType",(function(){return a.Sb})),n.d(t,"VideoEngineMetadataType",(function(){return a.Tb})),n.d(t,"ViewMode",(function(){return a.Ub})),n.d(t,"ViewState",(function(){return a.Vb})),n.d(t,"CueEventType",(function(){return a.z})),n.d(t,"CueSource",(function(){return a.B})),n.d(t,"CueState",(function(){return a.C})),n.d(t,"CueType",(function(){return a.D})),n.d(t,"KeySystems",(function(){return a.M})),n.d(t,"Domain",(function(){return a.G})),n.d(t,"PlatformErrorCode",(function(){return a.fb})),n.d(t,"GDPRConsentErrors",(function(){return a.L})),n.d(t,"MockMessageTriggerName",(function(){return a.W})),n.d(t,"MockMessageType",(function(){return a.X})),n.d(t,"SCTEDescriptorType",(function(){return a.qb})),n.d(t,"SCTESegmentationProperties",(function(){return a.sb})),n.d(t,"SCTESegmentationType",(function(){return a.tb})),n.d(t,"SCTESpliceCommandType",(function(){return a.ub})),n.d(t,"UIClickAction",(function(){return a.Ib})),n.d(t,"UIComponentType",(function(){return a.Jb})),n.d(t,"UIContainer",(function(){return a.Kb})),n.d(t,"UIControlLocation",(function(){return a.Lb})),n.d(t,"UIControlName",(function(){return a.Mb})),n.d(t,"UIControlSet",(function(){return a.Nb})),n.d(t,"UISlate",(function(){return a.Ob})),n.d(t,"UITheme",(function(){return a.Pb})),n.d(t,"ComScoreMediaType",(function(){return a.r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return At}));var i=n(2),r=n(74);ar a=n(51),s=(n(70),n(82));const u={},c=i.Log.getLogger("PlatformHelper").filter("playback");._viewId=0;var f=n(88),l=function(e,t){return e===t||e!=e&&t!=t},_=function(e,t){for(var n=e.length;n--;)if(l(e[n][0],t))return n;return-1},h=Array.prototype.splice;function p(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}p.prototype.clear=function(){this.__data__=[],this.size=0},p.prototype.delete=p.prototype.get=function(e){var t=this.__data__,n=_(t,e);return n<0?void 0:t[n][1]},p.prototype.has=function(e){return _(this.__data__,e)>-1},p.prototype.set=function(e,t){var n=this.__data__,i=_(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var g,v=p,m=n(33),y=m.a.Symbol,b=Object.prototype,S=b.hasOwnProperty,$=b.toString,T=y?y.toStringTag:void 0,E=Object.prototype.toString,A=y?y.toStringTag:void 0,C=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":A&&A in Object(e)?function(e){var t=S.call(e,T),n=e[T];try{e[T]=void 0;var i=!0}catch(e){}var r=$.call(e);return i&&(t?e[T]=n:delete e[T]),r}(e):function(e){return E.call(e)}(e)},I=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},P=function(e){if(!I(e))return!1;var t=C(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},k=m.a["__core-js_shared__"],w=(g=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",M=Function.prototype.toString,O=/^\[object .+?Constructor\]$/,R=Function.prototype,D=Object.prototype,x=R.toString,L=D.hasOwnProperty,N=RegExp("^"+x.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=B=F=B(m.a,"Map"),j=B(Object,"create"),H=Object.prototype.hasOwnProperty,V=Object.prototype.hasOwnProperty;function q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}q.prototype.clear=function(){this.__data__=j?j(null):{},this.size=0},q.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},q.prototype.get=function(e){var t=this.__data__;if(j){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return H.call(t,e)?t[e]:void 0},q.prototype.has=function(e){var t=this.__data__;return j?void 0!==t[e]:V.call(t,e)},q.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=j&&void 0===t?"__lodash_hash_undefined__":t,this};var W=q,G=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function Y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Y.prototype.clear=function(){this.size=0,this.__data__={hash:new W,map:new(F||v),string:new W}},Y.prototype.delete=function(e){var t=G(this,e).delete(e);return this.size-=t?1:0,t},Y.prototype.get=function(e){return G(this,e).get(e)},Y.prototype.has=function(e){return G(this,e).has(e)},Y.prototype.set=function(e,t){var n=G(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};var K=Y;function z(e){var t=this.__data__=new v(e);this.size=t.size}z.prototype.clear=function(){this.__data__=new v,this.size=0},z.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},z.prototype.get=function(e){return this.__data__.get(e)},z.prototype.has=function(e){return this.__data__.has(e)},z.prototype.set=function(e,t){var n=this.__data__;if(n instanceof v){var i=n.__data__;if(!F||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new K(i)}return n.set(e,t),this.size=n.size,this};var X=z,Q=function(){try{var e=B(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),J=function(e,t,n){"__proto__"==t&&Q?Q(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Z=ee=te=n(161),ne=m.a.Uint8Array,ie=re=Object.create,oe=function(){function e(){}return function(t){if(!I(t))return{};if(re)return re(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),ae=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),se=Object.prototype,ue=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||se)},ce=function(e){return null!=e&&"object"==typeof e},de=function(e){return ce(e)&&"[object Arguments]"==C(e)},fe=Object.prototype,le=fe.hasOwnProperty,_e=fe.propertyIsEnumerable,he=de(function(){return arguments}())?de:function(e){return ce(e)&&le.call(e,"callee")&&!_e.call(e,"callee")},pe=Array.isArray,ge=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},ve=function(e){return null!=e&&ge(e.length)&&!P(e)},me=n(137),ye=Function.prototype,be=Object.prototype,Se=ye.toString,$e=be.hasOwnProperty,Te=Se.call(Object),Ee={};Ee["[object Float32Array]"]=Ee["[object Float64Array]"]=Ee["[object Int8Array]"]=Ee["[object Int16Array]"]=Ee["[object Int32Array]"]=Ee["[object Uint8Array]"]=Ee["[object Uint8ClampedArray]"]=Ee["[object Uint16Array]"]=Ee["[object Uint32Array]"]=!0,Ee["[object Arguments]"]=Ee["[object Array]"]=Ee["[object ArrayBuffer]"]=Ee["[object Boolean]"]=Ee["[object DataView]"]=Ee["[object Date]"]=Ee["[object Error]"]=Ee["[object Function]"]=Ee["[object Map]"]=Ee["[object Number]"]=Ee["[object Object]"]=Ee["[object RegExp]"]=Ee["[object Set]"]=Ee["[object String]"]=Ee["[object WeakMap]"]=!1;var Ae,Ce=n(147),Ie=Ce.a&&Ce.a.isTypedArray,Pe=Ie?function(e){return function(t){return e(t)}}(Ie):function(e){return ce(e)&&ge(e.length)&&!!Ee[C(e)]},ke=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},we=Object.prototype.hasOwnProperty,Me=function(e,t,n){var i=e[t];we.call(e,t)&&l(i,n)&&(void 0!==n||t in e)||J(e,t,n)},Oe=/^(?:0|[1-9]\d*)$/,Re=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Oe.test(e))&&e>-1&&e%1==0&&e<t},De=Object.prototype.hasOwnProperty,xe=Le=Object.prototype.hasOwnProperty,Ne=function(e){if(!I(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ue(e),n=[];for(var i in e)("constructor"!=i||!t&&Le.call(e,i))&&n.push(i);return n},Ue=Be=Fe=function(e,t,n,i,r,o,a){var s=ke(e,n),u=ke(t,n),c=a.get(u);if(c)Z(e,n,c);else{var d=o?o(s,u,n+"",e,t,a):void 0,f=void 0===d;if(f){var l=pe(u),_=!l&&Object(me.a)(u),h=!l&&!_&&Pe(u);d=u,l||_||h?pe(s)?d=s:function(e){return ce(e)&&ve(e)}(s)?d=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(s):_?(f=!1,d=Object(te.a)(u,!0)):h?(f=!1,d=ie(u,!0)):d=[]:u)||he(u)?(d=s,he(s)?d=Be(s):I(s)&&!P(s)||(d=function(e){return"function"!=typeof e.constructor||ue(e)?{}:oe(ae(e))}(u))):f=!1}f&&(a.set(u,d),r(d,u,i,o,a),a.delete(u)),Z(e,n,d)}},je=He=function(e){return e},Ve=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},qe=Math.max,We=function(e){return function(){return e}},Ge=Q?He,Ye=Date.now,Ke=function(e){var t=0,n=0;return function(){var i=Ye(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Ge),ze=function(e,t){return Ke(function(e,t,n){return t=qe(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=qe(i.length-t,0),a=Array(o);++r<o;)a[r]=i[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=i[r];return s[t]=n(a),Ve(e,this,s)}}(e,t,He),e+"")},Xe=();!Ae||(Ae={}));var Qe=n(42),Je=n(0);const Ze=i.Log.getLogger("TubVideoEngine");var et,tt,nt,it,rt,ot,at,st;!et||(et={})),function(e){e.CUETAG="CUETAG",e.DATERANGE="DATERANGE",e.EVENT_STREAM="EVENT-STREAM",e.CUSTOM="CUSTOM",e.SCTE="SCTE",e.ID3="ID3",e.EMSG="EMSG",e.CAST="CAST"}(tt||(tt={})),function(e){e.Inline="inline",e.Fullscreen="fullscreen",e.PictureInPicture="pictureinpicture"}(nt||(nt={})),function(e){e.YospaceError="yospaceerror",e.PolicyError="policyerror"}(it||(it={})),rt||(rt={})),ot||(ot={})),function(e){e.Audio="audio",e.Video="video",e.Subtitles="subtitles"}(at||(at={})),function(e){e.ForwardDuration="forwardduration",e.BackwardDuration="backwardduration"}(st||(st={}));const ut={[Qe.BitmovinEvents.Ready]:Ae.Media_Ready,[Qe.BitmovinEvents.SourceLoaded]:Ae.Media_Loaded,[Qe.BitmovinEvents.Playing]:Ae.Resumed,[Qe.BitmovinEvents.Metadata]:Ae.Media_Timed_Metadata_Received,[Qe.BitmovinEvents.MetadataParsed]:Ae.Media_Timed_Metadata_Parsed,[Qe.BitmovinEvents.Paused]:Ae.Paused,[Qe.BitmovinEvents.Error]:Ae.Media_Error,[Qe.BitmovinEvents.SourceUnloaded]:Ae.Stopped,[Qe.BitmovinEvents.PlaybackFinished]:Ae.Media_Finished,[Qe.BitmovinEvents.VolumeChanged]:Ae.Volume_Changed,[Qe.BitmovinEvents.Unmuted]:Ae.Mute_Changed,[Qe.BitmovinEvents.Muted]:Ae.Mute_Changed,[Qe.BitmovinEvents.TimeChanged]:Ae.Time_Changed,[Qe.BitmovinEvents.StallEnded]:Ae.Media_Buffering_Finished,[Qe.BitmovinEvents.StallStarted]:Ae.Media_Buffering_Started,[Qe.BitmovinEvents.Seek]:Ae.Media_Seeking_Started,[Qe.BitmovinEvents.Seeked]:Ae.Media_Seeking_Finished,[Qe.BitmovinEvents.VideoQualityChanged]:Ae.Media_Target_Profile_Changed,[Qe.BitmovinEvents.VideoPlaybackQualityChanged]:Ae.Media_Profile_Changed,[Qe.BitmovinEvents.VideoDownloadQualityChanged]:Ae.Media_Request_Profile_Changed,[Qe.BitmovinEvents.AudioAdded]:Ae.Media_Audio_Track_Availability_Changed,[Qe.BitmovinEvents.AudioChanged]:Ae.Media_Audio_Track_Selected,[Qe.BitmovinEvents.TimeShift]:Ae.Media_Seeking_Started,[Qe.BitmovinEvents.TimeShifted]:Ae.Media_Seeking_Finished,[Qe.BitmovinEvents.AdBreakStarted]:Ae.Ad_Started,[Qe.BitmovinEvents.AdStarted]:Ae.Ad_Creative_Started,[Qe.BitmovinEvents.AdFinished]:Ae.Ad_Creative_Ended,[Qe.BitmovinEvents.AdBreakFinished]:Ae.Ad_Finished,[Qe.BitmovinEvents.AdError]:Ae.Ad_Error,[Qe.BitmovinEvents.SubtitleAdded]:Ae.Caption_Track_Added,[Qe.BitmovinEvents.SubtitleEnabled]:Ae.Caption_Track_Selected,[Qe.BitmovinEvents.SubtitleDisabled]:Ae.Caption_Track_Deselected,[Qe.BitmovinEvents.SubtitleRemoved]:Ae.Caption_Track_Removed,[Qe.BitmovinEvents.CueParsed]:Ae.Caption_Cue_Parsed,[Qe.BitmovinEvents.CueEnter]:Ae.Caption_Cue_Entered,[Qe.BitmovinEvents.CueExit]:Ae.Caption_Cue_Exited,[Qe.BitmovinEvents.CueUpdate]:Ae.Caption_Cue_Updated},ct={[it.PolicyError]:Ae.Ad_Error,[it.YospaceError]:Ae.Ad_Error},dt=Object.assign(Object.assign({},ut),ct);var ft;!function(e){e.Disable_Vpaid_Render="tub.disableVpaidRenderer",e.Live_Vpaid_Duration_Adjustment="tub.liveVpaidDurationAdjustment",e.Vod_Vpaid_Duration_Adjustment="tub.vodVpaidDurationAdjustment",e.Static_Vpaid_Xml_Override="tub.vpaidStaticVastXmlOverride"}(ft||(ft={}));const lt=_t=ht=pt=gt=i.Log.getLogger("TubVideoEngine"),vt=i.Log.getLogger("TubVideoEngine").filter("abr"),mt=i.Log.getLogger("WebServices");var yt,bt=function(e,t,n){return{createVideoEngine:()=>new class{constructor(e,t){this._suppressNextAdSkipPolicyError=!1,this._delayedSafariCCTracks=[],this._adBreaks=[],this._handleTubEventMap=this._handleTubEvent=(e,t)=>{switch(e){case Ae.Time_Changed:this._notifyTimeChanged(t);break;case Ae.Paused:this._notifyPaused();break;case Ae.Resumed:this._isStarted?this._notifyResumed():(this._notifyMediaStarted(),this._isStarted=!0);break;case Ae.Volume_Changed:this._notifyVolumeChanged(t);break;case Ae.Mute_Changed:this._notifyMuteChanged(t);break;case Ae.Media_Ready:this._isMediaReady||(this._isMediaReady=!0,this._isMediaLoaded&&this._notifyReadyForPlayback());break;case Ae.Media_Loaded:this._isMediaLoaded=!0,this._isMediaReady&&this._notifyReadyForPlayback();break;case Ae.Media_Buffering_Finished:this._notifyMediaBufferingFinished();break;case Ae.Media_Buffering_Started:this._notifyMediaBufferingStarted();break;case Ae.Media_Seeking_Started:this._notifyMediaSeekingStarted(t);break;case Ae.Media_Seeking_Finished:this._notifyMediaSeekingFinished(t);break;case Ae.Media_Target_Profile_Changed:this._notifyMediaTargetProfileChanged(t);break;case Ae.Media_Profile_Changed:this._notifyMediaProfileChanged(t);break;case Ae.Media_Request_Profile_Changed:this._notifyMediaRequestProfileChanged(t);break;case Ae.Stopped:this._notifyStopped();break;case Ae.Media_Timed_Metadata_Received:this._notifyMediaTimedMetadataReceived(t);break;case Ae.Media_Timed_Metadata_Parsed:this._notifyMediaTimedMetadataParsed(t);break;case Ae.Media_Audio_Track_Availability_Changed:this._notifyMediaAudioTrackAvailabilityChanged(t);break;case Ae.Media_Audio_Track_Selected:this._notifyMediaAudioTrackSelected(t);break;case Ae.Media_Error:{const e=t;gt.info("[Media Error]: "+e);let n="general";switch(e.code){case et.API_NOT_AVAILABLE:case et.MODULE_ERROR:case et.MODULE_INVALID_DEFINITION:case et.MODULE_INVALID_DEFINITION_DEPENDENCY:case et.MODULE_DEPENDENCY_MISSING:case et.MODULE_MISSING:case et.SETUP_ERROR:case et.SETUP_INVALID_LICENSE_SERVER:case et.SETUP_LICENSE_ERROR:case et.SETUP_MISSING_CONFIGURATION:case et.SETUP_MISSING_DOMAIN_LICENSE_WHITELIST:case et.SETUP_MISSING_LICENSE_WHITELIST:case et.SETUP_NO_HTML_ELEMENT:case et.SETUP_NO_RENDERING_ENGINE:case et.SETUP_UNSUPPORTED_PROTOCOL:case et.PLAYBACK_HLS_COULD_NOT_LOAD_TRANSMUXER:case et.SOURCE_FORCED_TECHNOLOGY_NOT_SUPPORTED:break;case et.PLAYBACK_ERROR:case et.PLAYBACK_VIDEO_DECODING_ERROR:case et.SOURCE_COULD_NOT_LOAD_MANIFEST:case et.SOURCE_EMPTY_SEGMENT:case et.SOURCE_ENCRYPTION_METHOD_NOT_SUPPORTED:case et.SOURCE_ERROR:case et.SOURCE_HLS_STREAM_ERROR:case et.SOURCE_INVALID:case et.SOURCE_INVALID_H264_CODEC:case et.SOURCE_MANIFEST_INVALID:case et.SOURCE_PROGRESSIVE_STREAM_ERROR:n="content";break;case et.NETWORK_ERROR:case et.NETWORK_FAILED_CERTIFICATE_REQUEST:case et.NETWORK_MANIFEST_DOWNLOAD_TIMEOUT:case et.NETWORK_PROGRESSIVE_STREAM_DOWNLOAD_TIMEOUT:case et.NETWORK_SEGMENT_DOWNLOAD_TIMEOUT:n="network",this._notifyMediaStalled(e);break;case et.DRM_ERROR:case et.DRM_CERTIFICATE_ERROR:case et.DRM_FAILED_LICENSE_REQUEST:case et.DRM_INIT_DATA_MISSING:case et.DRM_KEY_ERROR:case et.DRM_KEY_SESSION_INITIALIZATION_FAILED:case et.DRM_KEY_SIZE_NOT_SUPPORTED:case et.DRM_KEY_SYSTEM_NOT_SUPPORTED:case et.DRM_MEDIA_KEY_INITIALIZATION_FAILED:case et.DRM_MISSING_CONFIGURATION:case et.DRM_NO_KEY_SYSTEM:case et.DRM_NO_LICENSE_SERVER_URL_PROVIDED:case et.DRM_PLAYREADY_INVALID_HEADER_KEY_VALUE_PAIR:case et.DRM_RESTRICTED_OUTPUT:n="drm"}this._notifyMediaError(Object.assign(Object.assign({},t),{domain:n}));break}case Ae.Media_Finished:this._notifyMediaFinished();break;case Ae.Ad_Started:this._notifyAdStarted(t);break;case Ae.Ad_Creative_Started:this._notifyAdCreativeStarted(t);break;case Ae.Ad_Creative_Ended:this._notifyAdCreativeEnded();break;case Ae.Ad_Finished:this._notifyAdFinished();break;case Ae.Ad_Error:return(n=t)&&void 0!==n.type&&n.type===it.YospaceError?this._notifyYospaceError(t):function(e){return!!e&&void 0!==e.type&&e.type===it.PolicyError}(t)?this._notifyYospacePolicyError(t):this._notifyAdError(t);case Ae.Caption_Track_Added:if(t.subtitle.id.match(/^sub\d+$/)&&void 0!==t.subtitle.textTrack&&""===t.subtitle.textTrack.language)break;if(!this._engine.subtitles){gt.debug(`Safari edge case encountered. Delaying notifyCCTrackAdded for ${t.subtitle.id} ${t.subtitle.lang}`),this._delayedSafariCCTracks.push(t);break}this._notifyCCTrackAdded(t);break;case Ae.Caption_Track_Selected:this._notifyCCTrackSelected(t);break;case Ae.Caption_Track_Deselected:this._notifyCCTrackDeselected(t);break;case Ae.Caption_Track_Removed:this._notifyCCTrackRemoved(t);break;case Ae.Caption_Cue_Parsed:this._notifyCCCueParsed(t);break;case Ae.Caption_Cue_Entered:this._notifyCCCueEntered(t);break;case Ae.Caption_Cue_Exited:this._notifyCCCueExited(t);break;case Ae.Caption_Cue_Updated:this._notifyCCCueUpdated(t);break;default:throw new i.UnreachableCaseError(e)}var n},this._handleTubSegmentPlayback=this._retries={},this.isNumeric=e=>Number.isFinite(e),this.convertToBps=e=>1e3*e,this.convertToKbps=e=>.001*e,this.getProfileDimensionDistance=this.padEnd=this.findMinBitrate=this.findMaxBitrate=this.getClosestProfile=e=>{const t=e.length-1,n=this._getEffectiveMediaDimensions(this._getViewDimensions());let i=0;if(isNaN(n.width)||isNaN(n.height))return vt.debug("[getClosestProfile] NaN dimensions, allow all..."),e[t];for(let s=1;s<=t&&!(this.getProfileDimensionDistance(e[s],n)>this.getProfileDimensionDistance(e[i],n));s++)i=s;const r=`${Math.floor(n.width)}x${Math.floor(n.height)}`,o=devicePixelRatio||1,a=e.map(().join("\n\t");return vt.debug(`[getClosestProfile] \u25cb effective-size: (${r}) \u25cb pixel-ratio: ${o}\n\t${a}`),e[i]},this.events=Object(i.createVideoEngineEventCollection)(),this._env=r.a.determine(navigator.userAgent),this._url="",this._container=e,this._requestedSeekTime=-1,this._isStarted=!1,this._isStopped=!0,this._isMediaReady=!1,this._isMediaLoaded=!1,this._requiresAdCreativesRefresh=!1,this._currentFragmentData={},this._deferredDRMTokenPromises=new Map,this._disabledTimedMetadata=!1,this._stateHandler=new i.VideoEngineStateChangeHandler,this._engineContainer=null,this._videoEl=null,this._retrieveContainerElements(),this._mocks=t,this._applyMockHandlers(),this._thumbnail=null}d(){this._stateHandler.handlePaused()}_notifyResumed(){this._stateHandler.handleResumed()}otifyStopped(){this._stateHandler.handleStopped()}_notifyMediaCommandReceived(e,t){this._stateHandler.handleMediaCommandReceived(e,t)}_notifyMediaCommandRejected(e,t){this._stateHandler.handleMediaCommandRejected(e,t)}notifyMediaReady(){this._stateHandler.handleMediaReady()}notifyMediaBlocked(e){this._stateHandler.handleMediaBlocked(e)}notifyMediaStarted(){this._stateHandler.handleMediaStarted()}_notifyMediaBufferingStarted(){this._stateHandler.handleBufferingStarted()}_notifyMediaBufferingFinished(){this._stateHandler.handleBufferingFinished()}ediaTimedMetadataParsed(e){if(this._disabledTimedMetadata)return void gt.debug("Suppressing metadata parsed event for: "+e.type);if(e.metadata&&Array.isArray(e.metadata)&&0===e.metadata.length&&e.data&&isNaN(e.data.presentationTime))return void gt.debug("Suppress metadata parsed because of empty metadata");const t=this._engine.getCurrentTime(),n=(r=e.metadataType,{[tt.SCTE]:Je.Tb.SCTE,[tt.ID3]:Je.Tb.ID3,[tt.EVENT_STREAM]:Je.Tb.EVENT_STREAM,[tt.EMSG]:Je.Tb.EMSG,[tt.DATERANGE]:Je.Tb.DATERANGE,[tt.CUSTOM]:Je.Tb.CUSTOM,[tt.CUETAG]:Je.Tb.CUETAG,[tt.CAST]:Je.Tb.CAST}[r]);var r;const o=((e.metadataType),a=((),s=(()=>{var e;return a.type||(n===Je.Tb.EMSG&&(null===(e=a.schemeIdUri)||void 0===e?void 0:e.indexOf("id3"))>0?Je.Tb.ID3:Je.Tb.CUSTOM)})(),u=Object.assign({subType:s},a),c={timeReceived:t,source:o,metadataType:n,metadata:u};e.start&&(c.start=e.start),e.end&&(c.end=e.end),this._stateHandler.handleMediaTimedMetadataParsed(c)}_notifyMediaTimedMetadataReceived(e){}otifyMediaFinished(){this._stateHandler.handleMediaFinished()}fyAdCreativeEnded(){this._stateHandler.handleAdCreativeEnded()}_notifyAdFinished(){this._stateHandler.handleAdFinished()}ifyCCTrackAdded(e){this._stateHandler.handleCaptionTrack(i.CaptionTrackAction.Added,lt(e.subtitle))}_notifyCCTrackSelected(e){this._stateHandler.handleCaptionTrack(i.CaptionTrackAction.Selected,lt(e.subtitle))}_notifyCCTrackDeselected(e){this._stateHandler.handleCaptionTrack(i.CaptionTrackAction.Deselected,lt(e.subtitle))}andleCCCueParsed(e){this._stateHandler.handleCaptionCue(i.CaptionCueAction.Parsed,e)}notifyCCCueExited(e){this._stateHandler.handleCaptionCue(i.CaptionCueAction.Exited,_t(e))}applyPlayerValuesFromConfig(e){this._updateVolume(e.playback.volume),this._updateMuted(e.playback.muted),this._updatePlaybackSpeed(e.playback.playbackSpeed)}_updateVolume(e){var t,n;const r=Math.min(Math.max(e,0),1),o=100*r;(null===(n=null===(t=this._config)||void 0===t?void 0:t.playback)||void 0===n?void 0:n.muted)&&o>0&&this._updateMuted(!1),i.ObjectUtils.set(this._config,"playback.volume",r),this._engine&&this._engine.setVolume(o)}p(e,t){var n,r,o,a;if(!this._engineContainer)return Promise.reject("[setup] Container element does not exist, unable to complete player setup");if(!this._videoEl)return Promise.reject("[setup] Video element does not exist, unable to complete player setup");this._stateHandler.init(this.events,{debug:e.debug.enabled,options:{disableAdClickThrough:e.ads.disableAdClickThrough}},e.monitors.adStartDetection),this._config=i.ObjectUtils.extendDeep({},e,this._config);const{logs:s,serviceWorkerPath:u}=this._config.metadata;let{httpRequestRetryDelay:c=1e3,httpRequestRetryMax:d=0}=this._config.metadata.tub||{};c=c<0?1e3:c,d=d<0?0:d,this._retries={};const f={removeAudioPlaylistMetadataTags:!0,openMeasurement:Object.assign({},this._config.analytics.openMeasurement),playerConfig:{network:{retryHttpRequest:,playback:{autoplay:!0,muted:e.playback.muted,playsInline:e.playback.playMode!==Je.hb.Fullscreen},key:(null===(n=this._config.metadata)||void 0===n?void 0:n["tub.key"])||(null===(o=null===(r=this._config.metadata)||void 0===r?void 0:r.tub)||void 0===o?void 0:o.licenseKey)||"",logs:Object.assign({bitmovin:!1,level:this._config.debug.enabled?"log":"off"},s)},debug:null!==(a=e.debug.enabled)&&void 0!==a&&a,refreshDrmToken:;this._env.isSafari&&(this._config.playback.forceServiceWorker||this._config.ads.enabled&&t.entry.isLive)?f.playerConfig=Object.assign(Object.assign({},f.playerConfig),{location:{serviceworker:u},tweaks:{native_hls_parsing:!0}}):f.disableServiceWorker=!0;let l=!0;const _=f.playerConfig.adaptation=f.playerConfig.adaptation||{},f.playerConfig.adaptation.desktop=f.playerConfig.adaptation.desktop||{},f.playerConfig.adaptation.mobile=f.playerConfig.adaptation.mobile||{},f.playerConfig.adaptation.desktop.onVideoAdaptation=_,f.playerConfig.adaptation.mobile.onVideoAdaptation=_,null!==this._config.media.startBitrate&&(f.playerConfig.adaptation.desktop.startupBitrate=this._config.media.startBitrate+"kbps",f.playerConfig.adaptation.mobile.startupBitrate=this._config.media.startBitrate+"kbps"),this._config.analytics.bitmovin.enabled&&(f.playerConfig.analytics=Object.assign(Object.assign({},f.playerConfig.analytics),this._config.analytics.bitmovin));const h=this._config.metadata["tizen.appId"],p=this._config.metadata["webos.appId"];void 0===h&&this._env.isTizen&&gt.warn("[setup] Tizen environment detected but not indicated via metadata. Add your appID for your Tizen app to the metadata object using tizen.appId"),void 0===p&&this._env.isWebOS&&gt.warn("[setup] WebOS environment detected but not indicated via metadata. Add your appID for your WebOS app to the metadata object using webos.appId"),void 0!==h&&(f.playerConfig=Xe(f.playerConfig,{tweaks:{file_protocol:!0,app_id:h,dword_base_media_decode_timestamps:!0}}),f.removeAudioPlaylistMetadataTags=!0,f.disableServiceWorker=!0),void 0!==p&&(f.playerConfig=Xe(f.playerConfig,{tweaks:{file_protocol:!0,app_id:p}}),f.removeAudioPlaylistMetadataTags=!0,f.disableServiceWorker=!0);const g=this._config.metadata[ft.Disable_Vpaid_Render];void 0!==g&&(f.disableVpaidRenderer=ht(g));const v=pt(this._config.metadata[ft.Live_Vpaid_Duration_Adjustment]);"number"==typeof v&&(f.liveVpaidDurationAdjustment=0===v?1e-5:v);const m=pt(this._config.metadata[ft.Vod_Vpaid_Duration_Adjustment]);return"number"==typeof m&&(f.vodVpaidDurationAdjustment=0===m?1e-5:m),this._tubConfig=f,this._engine=new Qe.Tub(this._engineContainer,this._tubConfig),this._engine.setup().then(()}play(e,t,n){var r,o,a,s;return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,()}ause(){this._notifyMediaCommandReceived(i.VideoEngineCommand.Pause,[]),this._engine.pause()}resume(){this._notifyMediaCommandReceived(i.VideoEngineCommand.Resume,[]),this._engine.play()}ectCaptionTrack(e){const t=this._engine.subtitles.list().filter((t=>t.id===e))[0];if(!t)return gt.error(`[selectCaptionTrack] could not match trackId ${e} to a known caption track`),void this._notifyMediaCommandRejected(i.VideoEngineCommand.Select_Caption_Track,[e]);this._notifyMediaCommandReceived(i.VideoEngineCommand.Select_Caption_Track,[t.label]),this._engine.subtitles.enable(t.id)}icked(){this._notifyMediaCommandReceived(i.VideoEngineCommand.Ad_Click,[])}nterPictureInPicture(){this._notifyMediaCommandReceived(i.VideoEngineCommand.Enter_Picture_In_Picture,[])}terFullscreen(){this._notifyMediaCommandReceived(i.VideoEngineCommand.Enter_Fullscreen,[]),this._engine.omReportViewModeChange("fullscreen")}tPlaybackSpeed(e){this._engine&&this._engine.setPlaybackSpeed(e)}getThumbnail(e){return this._engine.getThumbnail(e)}}(e.topContainer,n),createPlatformHelper:getSupportedDRMs:()=>function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,()}};n(180);nction(e){e.Stall_Detected="stallDetected",e.Stream_Nudged="streamNudged",e.Stall_Recovery_Failed="stallRecoveryFailed"}(yt||(yt={}));class Et{constructor(){this.events=Object(i.createEventCollection)({stallDetected:Object(i.createEvent)(yt.Stall_Detected),streamNudged:Object(i.createEvent)(yt.Stream_Nudged),stallRecoveryFailed:Object(i.createEvent)(yt.Stall_Recovery_Failed)}),this._player=null,this._videoEl=null,this._baseVodVpaidAdjustment=0,this._sequentialVpaidAdjustment=.5,this._endVpaidAdjustment=-.5,this._destroyed=!1,this._isActiveVpaid=!1,this._stallPreCheckTimeout=4e3,this._stallTimeout=15e3,this._minBufferGap=.005,this._nudgeStartTimeout=1e3,this._nudgeDelta=0,this._nudgeDeltaLimit=3,this._nudgeAmount=.2,this._nudgeInterval=1e3,this._eventBindings=[],this._logger=i.LogManager.getLogger("AdStallCorrector").filter("ads"),this._preCheckStall=this._onStallDetected=this._onNudgeStart=this._onNudge=dVpaidFlows(e,t){const n=e.ads,t);if(this._logger.info("[_guardVpaidFlows] Detected creative at position: "+n),n<0)return void this._logger.error("[_guardVpaidFlows] Unable to get creative position: "+t.id);const i=function(e,t,n){const i=Array(e.length).fill(0);for(let r=1;r<i.length;r++){const o=r+1,a=r-1;o===e.length-1&&e[o].requiresUi&&(i[r]=n),o>=e.length||a<0||(e[r].requiresUi&&e[o].requiresUi||e[r].requiresUi&&e[a].requiresUi)&&(i[a]=t)}return i}(e.ads,this._sequentialVpaidAdjustment,this._endVpaidAdjustment);this._logger.info("[_guardVpaidFlows] Ad break correction strategy: "+i);const r=i[n];this._setVpaidAdjustment(r)}e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return de}));var i=n(1),r=n(0);ar a=n(17),s=n(35);const u=i.Log.getLogger("ConfigNormalization"),c=function(e){return i.ObjectUtils.isPlainObject(e)},d={playback:{autoPlay:0,autoPlayOptions:{preloadBehavior:0,preCheckAutoPlay:0},playMode:0},metadata:{companyId:0},auth:{cdn:{services:[{serviceUrl:0,appId:0}]},drm:{serviceUrl:0,appId:0}},cms:{preferDRM:0,providers:{[r.p.MediaJSON]:{versionId:0,appId:0,serviceUrl:0}}},analytics:{bitmovin:{videoId:0,userId:0},conviva:{viewerId:0,touchstoneUrl:0},comscore:{publisherId:0,isOTT:0,uniqueContentId:0,programId:0,episodeId:0,digitalAirdate:0,tvAirdate:0,childDirectedAppMode:0}},drm:{fairplay:{certificateURL:0}},features:{gdpr:{consentDataOverride:{consentFrameworkVersion:0,subjectToGDPR:0,vendorIds:0}}},lifecycle:0,ui:{autoAttachToDom:0,style:{paddingBottom:0}}},f={mediaId:0,versionId:0,appId:0,serviceUrl:0,kvps:0},l=Object.assign(Object.assign(Object.assign({},f),{files:[{assetId:0,url:0}],id:0,trt:0,metadata:{id:0,mediaId:0}}),{url:0}),_={mvpdId:0,companyId:0,config:d},h={config:d},p={},g={},v=e=>e<=0?(e,t)=>e:m=e=>v(5)(e,f),y=e=>v(5)(e,_);var b,S=n(36),$=n(4),T=n(40);!function(e){e.Message_Triggered="messageTriggered"}(b||(b={}));var E=n(65),A=n(20),C=n(21),I=n(123),P=n(109);ar w=n(24),M=n(48),O=n(68),R=n(57),D=n(49),x=n(115),L=n(69),N=n(13),U=n(55),B=n(129),F=n(130),j=n(23),H=n(121);const V={initial:{name:j.a.Start,state:r.C.Pending},events:[{name:j.a.Process,from:[r.C.Pending],to:r.C.Processing},{name:j.a.Processed,from:[r.C.Processing],to:r.C.Processed},{name:j.a.Listen,from:[r.C.Processed,r.C.Activated],to:r.C.Listening},{name:j.a.Triggered,from:[r.C.Listening],to:r.C.Activated},{name:j.a.Completed,from:[r.C.Activated],to:r.C.Completed}]};var q=n(85),W=n(86);const G=i.Log.getLogger("DefaultCue").filter("cues");lass K extends Y{constructor(e,t,n){super(e,r.D.ID3,t,n)}}K.ID3ParsingTransform=var z=n(87);.SCTEParsingTransform=var Q=n(37);const J=Z=let ee=0;onst ne=i.Log.getLogger("CuesManager").filter("cues");ar re=n(44),oe=n(25);const ae=i.Log.getLogger("MocksManager").filter("mocks");class se{constructor(){this._events=Object(i.createEventCollection)({messageTriggered:Object(i.createEvent)(b.Message_Triggered)}),this._messages=new Map,this._nextMessageId=0,this._enabled=!1,this._messageQueue=[]}_determineMessageProcessability(e,t){const n={triggers:this._filterTriggersForState(e.triggers,t),retriggers:this._filterTriggersForState(e.retriggers,t)},r=Object(i.isEqual)(n.triggers.before,n.triggers.after),o=Object(i.isEqual)(n.retriggers.before,n.retriggers.before);return r&&o?oe.a.Full:i.ObjectUtils.isEmpty(n.triggers.after)?oe.a.None:oe.a.Partial}ts(){return this._events}get enabled(){return this._enabled}able(){this._enabled=!0}sable(){this._enabled=!1}ar ue=n(131);let ce=0;const de=,function(e,t,n){"use strict";n.d(t,"a",(function(){return i.a}));var i=n(65)},function(e,t,n){"use strict";(function(e){var i=n(33),r=exports&&!exports.nodeType&&exports,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r?i.a.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}).call(this,n(141)(e))},function(e,t,n){"use strict";var i,r=n(0),o=n(1),a=n(110),s=n(66),u=n(112);!function(e){e.Interrupt="interrupt",e.Error="error"}(i||(i={}));var c=n(5),d={initial:{name:c.a.Start,state:r.Hb.Pending},events:[{name:c.a.Idle,from:[r.Hb.Finished,r.Hb.Interrupted,r.Hb.Error],to:r.Hb.Pending},{name:c.a.Initialize,from:[r.Hb.Pending],to:r.Hb.Initializing},{name:c.a.Prepare,from:[r.Hb.Waiting,r.Hb.Initializing],to:r.Hb.Preparing},{name:c.a.Transform,from:[r.Hb.Preparing],to:r.Hb.Transforming},{name:c.a.Initialized,from:[r.Hb.Transforming],to:r.Hb.Initialized},{name:c.a.Wait,from:[r.Hb.Initializing,r.Hb.Initialized],to:r.Hb.Waiting},{name:c.a.Validate,from:[r.Hb.Waiting,r.Hb.Initialized],to:r.Hb.Validating},{name:c.a.Validated,from:[r.Hb.Validating],to:r.Hb.Validated},{name:c.a.Ads_Begin,from:[r.Hb.Validated],to:r.Hb.Ads_Beginning},{name:c.a.Ads_Playback,from:[r.Hb.Ads_Beginning],to:r.Hb.Ads_Playback},{name:c.a.Ads_Complete,from:[r.Hb.Ads_Beginning,r.Hb.Ads_Playback],to:r.Hb.Ads_Completed},{name:c.a.Authorize,from:[r.Hb.Validated,r.Hb.Ads_Completed],to:r.Hb.Authorizing},{name:c.a.Authorized,from:[r.Hb.Authorizing],to:r.Hb.Authorized},{name:c.a.Media_Begin,from:[r.Hb.Authorized,r.Hb.Ads_Completed],to:r.Hb.Media_Beginning},{name:c.a.Media_Playback,from:[r.Hb.Media_Beginning],to:r.Hb.Media_Playback},{name:c.a.Media_Complete,from:[r.Hb.Media_Beginning,r.Hb.Media_Playback],to:r.Hb.Media_Completed},{name:c.a.Finish,from:[r.Hb.Media_Completed],to:r.Hb.Finished},{name:c.a.Stop,to:r.Hb.Interrupting},{name:c.a.Interrupted,from:[r.Hb.Interrupting],to:r.Hb.Interrupted},{name:c.a.Error,to:r.Hb.Error},{name:c.a.End,from:[r.Hb.Finished,r.Hb.Interrupted,r.Hb.Error],to:r.Hb.Ending},{name:c.a.Ended,from:[r.Hb.Error,r.Hb.Ending],to:r.Hb.Ended},{name:c.a.Ads_Begin,from:[r.Hb.Media_Playback],to:r.Hb.Ads_Beginning},{name:c.a.Media_Playback,from:[r.Hb.Ads_Completed],to:r.Hb.Media_Playback},{name:c.a.Ads_Begin,from:[r.Hb.Media_Completed],to:r.Hb.Ads_Beginning},{name:c.a.Finish,from:[r.Hb.Ads_Completed],to:r.Hb.Finished}]},f=n(77),l=n(8),_=n(11),h=n(27),p=n(10),g=n(39),v=n(67),m=n(113),y=n(78),b=n(4),S=n(60),$=n(56);ar E=n(49);const A=o.Log.getLogger("TransactionDRMKeyDataHelpers");var C,I=n(73),P=n(15),k=n(94),w=n(26),M=n(9),O=n(64),R=n(6),D=n(32);!function(e){e.Token_Response_Received="tokenResponseReceived"}(C||(C={}));var x=class{constructor(e){this._onModuleNotification=e=>{this.events.moduleNotification.dispatch(e)},this._onFsmEvent=(e,t)=>{var n;const{from:a,to:s,args:u}=t;switch(e){case o.FsmEventType.State_Changed:switch(this._notifyStateChanged(a,s,u),this._logger.verbose("[onFsmEvent] state: "+s),s){case r.Hb.Initializing:this._startTask.fold((,(e=>{if(this._hooks=e.hooks,this._playCommand=e.command,this._authToken=e.authToken,this._contentFileData=e.contentFileData,this._playlistItem=e.playlistItem,this._components=e.components,this._config=e.config,this._model=e.model,this._timeline=e.timeline,this._timelineStrategy=e.timelineStrategy,this._selectedCCProvider=e.selectedCCProvider,this._monitors=e.monitors,!this._components.modules.has(r.s.Video_Engine)){const e=p.b.transactionInitFailure("Could not start transaction, required video engine module not provided");return this._logger.warn(e.toString()),void this._forceErrorTransition(e)}this._timeline.events.listen(this._onTimelineEvent),this._modelUpdatedBinding=this._model.modelUpdated.listen(this._onModelUpdated);const t=this._config.toData(),n=o.ObjectUtils.getOrElse(this._playlistItem.entry.metadata,"ssaiEnabled",!0);t.ads.enabled&&!n&&(this._logger.warn("ssaiEnabled is false; forcibly disabling ads"),this.updateConfig({ads:{enabled:!1}})),!this._playlistItem.entry.isLive&&this._playlistItem.entry.segments.length>0&&t.ads.enabled||!t.features.tve.enabled||(this._logger.info("Auto-disabling TVE feature, current content entry data detected as not TVE content..."),this.updateConfig({features:{tve:{enabled:!1}}}))})).onResolved(();break;case r.Hb.Preparing:const e=[...this._getModuleSetupTasks(this._components.modules),...this._getProviderSetupTasks()];o.TaskFactory.all(...e).fold((e=>this._forceErrorTransition(e)),();break;case r.Hb.Transforming:const t=this._timelineStrategy.populateTimeline();t.length>0&&this._logger.warn(`Could not add ${t.length} markers to the timeline`);const s=this._config.getOrElse("features.gdpr.enabled",!0),d={},h=[];if(s&&this._hooks.checkGDPRConsent.hasRegisteredHandlers){const e=t=this._config.getOrElse("features.gdpr.consentDataOverride",{}),{subjectToGDPR:n,consentString:i}=t;let a;void 0!==n&&void 0!==i?(this._logger.info("[GDPR] Static consent data overrides detected and will be applied."),a=o.TaskFactory.resolve({subjectToGDPR:n,consentString:i}).execute().onResolved(e)):(this._logger.info("[GDPR] No consent data overrides were provided. Consent framework will be used."),a=this._hooks.checkGDPRConsent.execute({consentString:null,subjectToGDPR:r.Ab.Unknown}).onResolved(e)),h.push(a)}const v=m=h.length>0?o.TaskFactory.all(...h).fold((e=>this._forceErrorTransition(e)),():m();break;case r.Hb.Initialized:this._isInitialized=!0;const{autoPlayOptions:y}=this._getPlaybackConfig();if(this._canAutoPlay.unmuted||this._canAutoPlay.muted&&y.forceMedia)this._fireTransition(c.a.Validate);else switch(y.preloadBehavior){case r.h.None:this._fireTransition(c.a.Validate);break;case r.h.Full:this._fireTransition(c.a.Wait);break;default:throw new o.UnreachableCaseError(y.preloadBehavior)}break;case r.Hb.Validating:this._fireTransition(c.a.Validated);break;case r.Hb.Validated:this._fireTransition(c.a.Authorize);break;case r.Hb.Authorizing:const b=[];Object(g.b)(this._contentFileData)&&b.push(this._initiateCdnAuthFlow()),Object(g.c)(this._contentFileData)&&(this._contentFileData.assetId||this._config.getOrElse("metadata.assetId",null))&&this._createDrmAuthTask(I.a.Pre_Play).execute(),o.TaskFactory.all(...b).fold((,();break;case r.Hb.Authorized:this._fireTransition(c.a.Media_Begin);break;case r.Hb.Media_Beginning:this._setupMonitorListeners(),this._startMonitors();const S=this._config.toData(),$=this._toComponentCommands({type:r.ib.Play,fileData:this._contentFileData,playlistItem:this._playlistItem,config:S});this._propagateCommands(...$);break;case r.Hb.Ads_Completed:switch(this._model.mediaState){case r.U.Pending:this._fsm.fireTransition(c.a.Media_Playback)}break;case r.Hb.Interrupting:const T=[],E=Object(l.fromNullable)(u[0]).getOrElse({}),A=Object(l.fromNullable)(E.interruptMode).getOrElse(i.Interrupt);if(this._interruptData.mode=A,this._interruptData.error=E.error,this._cancelTasks(),this._cancelHooks(),this._stopAndDestroyMonitors(),!this._isInitialized){this._logger.info("[_isInitialized=false] early interrupt flow"),this._completeInterrupt();break}switch(A===i.Error&&this._propagateCommands({type:w.a.ReportError,targets:[r.s.Analytics],data:o.ObjectUtils.extendDeep({},E)}),this._logger.verbose("[_onFsmEvent:Interrupting] mediaState: "+this._model.mediaState),this._model.mediaState){case r.U.Pending:case r.U.Starting:case r.U.Stopped:case r.U.Finished:case r.U.Error:break;default:T.push((()=>{this._logger.debug("[_onFsmEvent:Interrupting] interrupting video engine... Media_Stopped"),this._interruptData.responses.push(r.Rb.Media_Stopped)}))}switch(null===(n=this._model.currentAdBreak)||void 0===n?void 0:n.state){case r.c.Pending:case r.c.Starting:case r.c.Loaded:case r.c.Finished:case void 0:break;default:T.push(()}const C=this._toComponentCommands({type:r.ib.Stop});this._propagateCommands(...C),this._logger.debug(`[_onFsmEvent:Interrupting] waiting for: ${T.length} interrupt ops`),T.length>0?T.forEach(():this._completeInterrupt();break;case r.Hb.Media_Completed:this._fireTransition(c.a.Finish);break;case r.Hb.Finished:this._fireTransition(c.a.End);break;case r.Hb.Interrupted:this._playCommand=null,this._components.modules.forEach((),this._fireTransition(c.a.End);break;case r.Hb.Ending:this._cancelHooks(),this._stopAndDestroyMonitors();const P=[];this._components.modules.forEach((),this._timelineStrategy&&P.push(this._timelineStrategy.destroy()),Promise.all(P).then(().catch(();break;case r.Hb.Error:if(a===r.Hb.Ending)return void this._fireTransition(c.a.Ended);this._fireTransition(c.a.End,u)}break;case o.FsmEventType.Error:this._notifyStateChanged(this._fsm.currentState(),r.Hb.Error)}},this._onModelUpdated=this._onTimelineEvent=(e,t)=>{this._onModuleNotification({module:r.db.Timeline,category:r.cb.Component_Event,result:t})},this._applyDRMToken=this._handleConcurrencyTokenError=this._handleContentLost=this._handleAdSessionTimeout=this._handlePruneEvent=this._playerId=e,this._logger=o.Log.getLogger("TransactionController"+this._playerId),this.events=Object(s.a)(),this._components={modules:new Map},this._fsm=new o.Fsm,this._canAutoPlay={unmuted:!1,muted:!1},this._isInitialized=!1,this._accessTokenRefreshTask=null,this._cdnTokenResolutionTask=null,this._drmTokenResolutionTask=null,this._queuedDRMTokenResolutionTasks=[],this._authToken=null,this._authDRMToken=null,this._mediaStarted=!1}_onVideoEngineEvent(e){switch(e.type){case r.Rb.Media_Starting:this._fsm.attemptTransition(c.a.Media_Playback);break;case r.Rb.Media_Started:this._mediaStarted=!0;break;case r.Rb.Ad_Starting:this._fsm.attemptTransition(c.a.Ads_Begin);break;case r.Rb.Ad_Started:this._fsm.attemptTransition(c.a.Ads_Playback);break;case r.Rb.Ad_Finished:this._fsm.attemptTransition(c.a.Ads_Complete);break;case r.Rb.Ad_Stopped:case r.Rb.Media_Stopped:switch(this._fsm.currentState()){case r.Hb.Ads_Playback:this._logger.debug("[_onVideoEngineEvent] Ads_Playback interrupted via internal stop; transitioning to Ads_Complete"),this._fsm.attemptTransition(c.a.Ads_Complete);break;case r.Hb.Media_Playback:this._logger.debug("[_onVideoEngineEvent] Media_Playback interrupted via internal stop; transitioning to Media_Complete"),this._fsm.attemptTransition(c.a.Media_Complete);break;case r.Hb.Interrupting:this._logger.debug("[_onVideoEngineEvent] Video Engine successfully interrupted"),this._checkAndCompleteInterrupt(e.type);break;default:this._logger.warn("[_onVideoEngineEvent] Video Engine interrupted in an unexpected state")}break;case r.Rb.Media_Finished:switch(this._fsm.currentState()){case r.Hb.Interrupting:case r.Hb.Interrupted:case r.Hb.Pending:this._logger.debug("[_onVideoEngineEvent] The transaction was stopped before media complete was received - skipping");break;default:this._fsm.attemptTransition(c.a.Media_Complete)}break;case r.Rb.Ad_Error:e.severity===r.J.Fatal&&this._fsm.attemptTransition(c.a.Stop,[{interruptMode:i.Interrupt}]);break;case r.Rb.Media_Error:this._fsm.attemptTransition(c.a.Stop,[{interruptMode:i.Interrupt}]);break;case r.Rb.DRM_Token_Request:const{requestId:t,keyData:n}=e,o=(()=>this._mediaStarted&&-1!==this._model.mediaTime?I.a.In_Play:I.a.Pre_Play)(),a={requestId:t,task:this._createDrmAuthTask(o,n)};this._queuedDRMTokenResolutionTasks.push(a),this._processDRMTokenRequestQueue()}}otifyStateChanged(e,t,n){this._logger.info(`[_notifyStateChanged] ${e} -> ${t}`),this.events.stateChanged.dispatch({previousState:e,currentState:t,args:n})}teCdnAuthFlow(){var e;if(null===(e=this._cdnTokenResolutionTask)||void 0===e?void 0:e.running)return this._logger.debug("Using currently running CDN token request task"),this._cdnTokenResolutionTask;const t=o.TaskFactory.create((e=>{this._logger.debug("Initiating CDN token request task"),o.TaskFactory.seq(this._refreshAccessToken(),(()=>o.TaskFactory.create((e=>{var t,n,i,a,s;(n=this._playlistItem,i=this._contentFileData,a=this._config,s=null!==(t=this._components.auth)&&void 0!==t?t:null,o.TaskFactory.create((e=>{var t;if(!a.isSectionEnabled(r.Fb.Auth))return e.reject(p.b.authCdnTokenFailure("Authorization is disabled, but content requires authorization"));if(!a.isSectionEnabled(r.Fb.AuthCDN))return e.reject(p.b.authCdnTokenFailure("CDN authorization is disabled, but content requires authorization"));if(!s)return e.reject(p.b.authCdnTokenFailure("AuthCDN component is missing"));if(!i.playlistProtection)return e.reject(p.b.authCdnTokenFailure("Could not determine required auth type from content entry file data"));const o=a.getAuthForType(i.playlistProtection);if(!o)return e.reject(p.b.authCdnTokenFailure("Could not find auth config for type: "+i.playlistProtection));const u=null!==(t=i.url)&&void 0!==t?t:"";return((s,n,u,o,a.getOrElse("metadata",{})).execute().fold((t=>e.reject(t)),()})).execute()).execute().fold((,()})))()).fold((t=>e.reject(t)),()})).execute();return this._cdnTokenResolutionTask=t,t}_createDrmAuthTask(e,t){return o.TaskFactory.create((n=>{this._logger.debug("Initiating DRM token request task"),o.TaskFactory.seq(this._refreshAccessToken(),(()=>{const n=i=a=e=>o.TaskFactory.create((t=>{var n,i,a,s,u,c,d;(i=this._playlistItem,a=e.assetId,s=e.companyId,u=this._config,c=null!==(n=this._components.authDRM)&&void 0!==n?n:null,d=this._authToken,o.TaskFactory.create((e=>{var t;if(!u.isSectionEnabled(r.Fb.Auth))return e.reject(p.b.authDrmTokenFailure("Authorization is disabled, but content requires authorization"));const n=u.get(r.Fb.AuthDRM);if(n.isNone())return e.reject(p.b.authDrmTokenFailure("Cannot do DRM authed playback, no DRM authentication service provided."));if(0==n.value.enabled){const t=u.get(r.Fb.DRM);return t.isSome()&&0==t.value.setHeaders?e.resolve({jwt:"",timestamp:Date.now(),ttl:3735928559,version:1}):e.reject(p.b.authDrmTokenFailure("DRM authorization is disabled, but content requires authorization"))}if(!a)return e.reject(p.b.authDrmTokenFailure("Missing asset ID, a required property to get a DRM token."));if(!c)return e.reject(p.b.authDrmTokenFailure("AuthDRM component is missing"));const o=i.entry.metadata;if(!o.mediaId)return e.reject(p.b.authDrmTokenFailure("A mediaID is required to do DRM authenticated playback"));const f=null!==(t=o.mediaId)&&void 0!==t?t:"";((c,n.value,{accessToken:null==d?void 0:d.token,accessTokenType:null==d?void 0:d.type,assetId:a,companyId:s,mediaId:f}).execute().fold((t=>e.reject(t)),()})).execute()).fold((,(n=>{const i={type:C.Token_Response_Received,payload:n};this._onModuleNotification({module:r.db.Auth,category:r.cb.Component_Event,result:i}),this._hooks.validateDRMTokenResponse.execute({data:n}).fold((e=>t.reject(e)),()}))})).execute();return o.TaskFactory.create(()})()).fold((e=>n.reject(e)),()}))}return this._fsm.currentState()===r.Hb.Waiting}n(46),N=n(126),U=n(132),B=n(127),F=n(21);ar H=n(84),V=n(41),q=n(57),W=n(47),G=n(92),Y=n(91),K=n(97),z=n(116),X=n(101);const Q=J=Z=class ee{constructor(e){this._onCuesManagerEvent=(e,t)=>{this._dispatchModuleNotification({module:r.db.Cues,category:r.cb.Component_Event,result:t})},this.moduleNotification=Object(o.createEvent)("moduleNotification"),this._cuesManager=e,this._bindings=[this._cuesManager.events.listen(this._onCuesManagerEvent)]}_dispatchModuleNotification(e){this.moduleNotification.dispatch(e)}_handlePruneMonitorEvent(e){switch(e.type){case D.a.Sliding_Window_Changed:this._cuesManager.prune(o.TimeRange.createWithEnd(0,e.minTime))}}pdateConfig(e){}processCommand(e){}handleModuleNotification(e){switch(e.module){case r.db.Video_Engine:const t=e.result;switch(t.type){case r.Rb.Media_Timed_Metadata_Parsed:const e=(e=>{const t="number"!=typeof e.start||Number.isNaN(e.start)?0:e.start,n="number"!=typeof e.end||Number.isNaN(e.end)?t+1:e.end,i=((e);return{type:i,source:Z(e.source),data:{timeReceived:e.timeReceived,range:o.TimeRange.createWithEnd(t,n),content:Q(i,e.metadata)}}})(t);this._cuesManager.processCue(e)}}}handlePlayerNotification(e){switch(e.sourceType){case h.b.Monitors:switch(e.eventCategory){case h.a.Prune:this._handlePruneMonitorEvent(e.eventResult)}}}destroy(){return new Promise(((e,t)=>{this._bindings.forEach((e=>e.detach())),this._bindings.length=0,this._cuesManager.destroy(),e()}))}}var te=n(25),ne=n(59);const ie=o.Log.getLogger("MocksController").filter("mocks");ar oe=n(68),ae=n(69),se=n(22);const ue=o.Log.getLogger("DefaultTimelineStrategy").filter("timeline");ar de=n(58);const fe=o.Log.getLogger("LiveTimelineStrategy").filter("timeline");ar _e=n(20);const he=o.Log.getLogger("VODTimelineStrategy").filter("timeline");class pe extends ce{lateTimeline(e){if(e=e||[],this._config.features.tve.enabled&&(e=e.concat(this._playlistItem.entry.segments.map(de.a.fromContentSegment)),he.debug(`[populateTimeline] created ${e.length} markers from playlistItem segments. Markers: ${e}`)),0===(e=e.concat(this._playlistItem.entry.contentMetadata.map(de.a.fromContentMetadataSegment))).length)return[];const t=this._timeline.addMany(e);return e.filter(()} ge=n(118),ve=n(103),me=n(105),ye=n(106),be=n(55),Se=n(100),$e=n(35),Te=n(45),Ee=n(52);t.a=class{ansactionStartTask(e,t){return o.TaskFactory.create((n=>{const i={},a=s=u=()=>o.TaskFactory.create((n=>{if(!this._hooks)return a(p.b.transactionInitFailure("Missing required hooks collection during transaction CMS resolution"));const r=i.components.cms,s=e.options||{},u=this._hooks.validateContentResolution;T(r,t,e,u).fold(a,(e=>{const u=t.getOrElse("cms",W.a.config.cms),c=e,s);(function(e,t,n){return o.TaskFactory.create(().execute()})(r,e,u).fold(a,()}))})),c=(().execute().onResolved(()}))}_createComponents(e){return o.TaskFactory.create((t=>{const n=e.getOrElse("playback.components",{});Object.keys(n).forEach((),[{category:r.s.Auth,URI:oe.a.Default},{category:r.s.AuthDRM,URI:ae.a.Default},{category:r.s.CMS,URI:q.a.Default}].forEach((),t.resolve(this._components)}))}ssthroughCommand(e){this._transactionController?this._transactionController.processCommand(e):this._logger.warn("[_passthroughCommand] could not pass command through to controller")}e,t){var n;this._model=e.model,this._hooks=e.hooks;const i=this._configManager.extend(e.config);this._replacer.init({configMetadata:null!==(n=i.metadata)&&void 0!==n?n:{},playlistItem:{},contentEntryMetadata:{}}),this._replacer.setupConfigTokenReplacement(i),this.events.configUpdated.dispatch({config:i});const a=[{category:r.s.UI,URI:be.b.Default}],s=[];return a.filter((e=>{var t;const{category:n,URI:r}=e;return!(!(null===(t=i.playback)||void 0===t?void 0:t.components)||i.playback.components[n]!==r)})).forEach((),o.TaskFactory.all(...s).execute()}on(e,t,n){"use strict";var i;!i||(i={}));var r=n(1);r s=n(0);r.Log.getLogger("PlayerControllerOpManager").filter("controllers.ops").setEnabled(!1),t.a=,function(e,t,n){"use strict";var i=n(1),r=n(60),o=n(16),a=n(133),s=n(24),u={initial:{name:o.a.Start,state:o.b.Pending},events:[{name:o.a.Initialize,from:[o.b.Pending],to:o.b.Initializing},{name:o.a.Initialized,from:[o.b.Initializing],to:o.b.Initialized},{name:o.a.Error,from:[o.b.Initializing],to:o.b.Error}]},c=n(122),d=n(4),f=n(132),l=n(84),_=n(0);t.a=,function(e,t,n){"use strict";var i="URLSearchParams"in self,r="Symbol"in self&&"iterator"in Symbol,o="FileReader"in self&&"Blob"in self&&),a="FormData"in self,s="ArrayBuffer"in self;if(s)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||pe.append=_.prototype.delete=_.prototype.get=_.prototype.has=_.prototype.set=_.prototype.forEach=_.prototype.keys=_.prototype.values=_.prototype.entries=r&&(_.prototype[Symbol.iterator]=_.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];rototype.clone=m.call(b.prototype),m.call($.prototype),$.prototype.clone=$.error=var T=[301,302,303,307,308];$.redirect=var E=self.DOMException;try{new E}catch(e){(E=.prototype=Object.create(Error.prototype),E.prototype.constructor=E}.polyfill=!0,self.fetch||(self.fetch=A,self.Headers=_,self.Request=b,self.Response=$)},function(e,t,n){window,e.exports=[function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return h}));var i=n(3);const r=new(n.n(i).a)(window.navigator.userAgent).getResult(),o=((),a={hardwareManufacturer:"unknown",hardwareModel:r.os.name,hardwareVersion:r.os.version,softwarePlatform:r.browser.name,softwareVersion:r.browser.version,mobileCarrier:"unknown",isEmulator:!1,displayParameters:o,locale:"unknown",securityMode:"unknown"},s=(()=>{const e="nexus-web-application-identifier";let t=document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)nexus-web-application-identifier\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");if(t){const e=t.split("|");return{id:e[0],timestamp:e[1]}}const n={id:(i=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==e?t:3&t|8).toString(16)}))),timestamp:Date.now().toString()};var i;return document.cookie=`${e}=${n.id}|${n.timestamp};path=/;max-age=2147483647`,n})(),u={applicationIdentifier:s.id,identifierSetTimestamp:s.timestamp},c={nexusTarget:"web",nexusVariant:"web",nexusVersion:"2.2.12",inProduction:!0};var d=n(0);onst l=function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},)},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(63),o=n(172);t.fold=t.getTupleMonoid=t.getProductMonoid=function(e,n){return t.getTupleMonoid(e,n)},t.getDualMonoid=function(e){return i({},o.getDualSemigroup(e),{empty:e.empty})},t.monoidAll=i({},o.semigroupAll,{empty:!0}),t.monoidAny=i({},o.semigroupAny,{empty:!1}),t.unsafeMonoidArray={concat:r.concat,empty:[]},t.getArrayMonoid=function(){return t.unsafeMonoidArray};var a={};t.getDictionaryMonoid=t.monoidSum=i({},o.semigroupSum,{empty:0}),t.monoidProduct=i({},o.semigroupProduct,{empty:1}),t.monoidString=i({},o.semigroupString,{empty:""}),t.monoidVoid=i({},o.semigroupVoid,{empty:void 0}),t.getFunctionMonoid=t.getEndomorphismMonoid=t.getStructMonoid=t.getRecordMonoid=function(e){return t.getStructMonoid(e)},t.getMeetMonoid=function(e){return i({},o.getMeetSemigroup(e),{empty:e.top})},t.getJoinMonoid=,)},module.exports=t()}}]);