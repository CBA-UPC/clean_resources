import{POPIN_REFIT_TYPES as o,POPIN_ANIMATION as t}from"../base/config.js";import{delegate as i,setCookie as l,fetchHtml as p}from"../base/croco.js";import{openPopin as m}from"../base/popin-refit.js";class g{constructor(){this.geolocation=Lacoste.features&&Lacoste.features.geolocation;this.openGeolocationPopin()}openGeolocationPopin(){p(this.geolocation.url).then(response=>{if(response.innerHTML){m({instanceId:"popin-geolocation",type:o.dialog,options:{isNotClosable:true,noStack:true},animation:t.fade,classname:"is-mandatory",loadContents:()=>{return{htmlContents:response}},openCallback:o=>{i(document.body,".js-geolocation-stay","click",}})}else{this.validate()}})}validate(){l(this.geolocation.cookie.name,this.geolocation.cookie.value,this.geolocation.cookie.expirationDays)}}export const geolocationPopin=new g;