![function(e,t){e.exports="//static.hsappstatic.net/ZorseButtonUI/static-1.1483/images/logo.jpg"},function(e,t){e.exports="//static.hsappstatic.net/ZorseButtonUI/static-1.1483/images/help-icon.png"},function(e,t){e.exports="//static.hsappstatic.net/ZorseButtonUI/static-1.1483/images/help-icon-jp.png"},function(e,t){e.exports="//static.hsappstatic.net/ZorseButtonUI/static-1.1483/images/isc-chat-icon.svg"},function(e,t){e.exports="//static.hsappstatic.net/ZorseButtonUI/static-1.1483/images/marketingHubIcon.svg"},function(e,t){e.exports="//static.hsappstatic.net/ZorseButtonUI/static-1.1483/images/salesHubIcon.svg"},function(e,t,n){"use strict";e.exports=n(16)},function(e,t,n){"use strict";e.exports=n(19)},,,,,function(e,t,n){"use strict";n.r(t);const r=["api","local","app","private","platform","tools","meetings"],o=["hubspotstarter","hubspotfree"],a=["growth"],i=["hubspot"],l={com:["hubspot","hubteam","grader","getsignals","getsidekick","gettally","hubspotemail","customer-hub","hubspotservicehub","hubspotquote"].join("|"),net:o.join("|"),org:a.join("|"),dev:i.join("|")};var s=document.location);const u=c=Object.getOwnPropertySymbols||(;var d=e=>{if(s.deployed("hub-http")||!Object.freeze)return e;Object.freeze(e);Object.getOwnPropertyNames(e).concat(c(e)).forEach(;return e};const f=(e,t)=>Promise.resolve(e(d(Object.assign({},t,{_input:t})))),p=onst m=g=y=e=>"string"==typeof e[0]||e[0]instanceof String||"symbol"===h(e[0])?d({}):d([]),v=b=w=S=k=Symbol("responseHandlers"),E=C=e=>g(k,e),x=I=/^(?:(?:([^:/?#]+):)?(?:\/\/([^:/?#]+)(?::([0-9]+))?)+?)?([^?#]+)?(?:\?([^#]*))?(?:#(.+))?/,R=T=_=N=O=nst L=A=M=$=(e,t,n)=>{const r=n.headers;for(const o in r)if(r.hasOwnProperty(o)&&o.toLowerCase()===e.toLowerCase())return v(["headers",o],t)(n);return v(["headers",e],t)(n)};onst D="unauthorized",F="portal moved",U="migration in progress";onst H=(e,t,n)=>ye(r=>{if(e.includes(r.status)){t.postMessage(n,"*");return Promise.reject(x(r,`Aborting: notifying parents of ${n} response`))}return r}),q=e=>e&&"true"===e.toLowerCase(),W=V=Q=K=(e,t,n=V)=>{if(j(t))return!1;const r="HUB-HTTP_IGNORE_REDIRECTS",o=a=[["ignoreRedirect option is set"],[`local storage key ${r} is set to "true"`],["safe mode is enabled"],[()=>{try{const n=new URL(e),r=t.location,o=A((n.search||"").substring(1)),a=A((r.search||"").substring(1));return n.protocol===r.protocol&&n.hostname===r.hostname&&n.pathname===r.pathname&&n.hash===r.hash&&Q(o,a)}catch(e){console.error("Error checking for infinite redirect",e);return!1}},"redirect URL is identical to current location"]].find(;if(a){console.log("[hub-http] Skipping redirect because "+a[1]);return!1}n(t);t.location.href=e;return!0},G=X=J=Z=e=>{const t=s.getShort("hub-http"),n="local"===t?"local":"deployed",r=e[n]?e[n][t]:null;if(!r)throw new Error(`No hostname defined for environment ${t} and ${n}`);return r},Y=Symbol("url"),ee=e=>t=>{let n=t[Y]||T(t.url);n=e(n);t=m(Y,n)(t);return t=m("url",O(n))(t)},te=ne=(e,t)=>n=>void 0===te(e,n)?m(e,t)(n):n,re=oe=(e,t,n)=>r=>n||void 0===M(e,r)?$(e,t,r):r,ae=Symbol("initialQuery"),ie=Symbol("noOverrideQuery"),le=Symbol("overrideQuery"),se=(e,t=!0)=>ee(n=>{let r=n;void 0===r[ae]&&(r=m(ae,n.query||"")(r));const[o,a,i]=t?[le,r[le],e]:[ie,e,r[ie]];r=v([o],Object.assign({},a,{},i))(r);return m("query",[r[ae],L(Object.assign({},r[le],{},r[ie]))].filter(Boolean).join("&"))(r)}),ue=ce=ee(m("protocol","https")),de=fe=e=>{if(e&&"na1"!==e)return"-"+e;const t=s.getHublet();return"na1"===t||"na1"===e?"":"-"+t},pe=he=(e,t)=>n=>{(n=oe("content-type",e)(n)).rawData?n.data=n.rawData:"function"==typeof t&&M("content-type",n)===e&&(n.data=t(n.data));return n},me=ge=ye=e=>C(t=>t.then(ge(e))),ve=e=>C(t=>t.catch(ge(e))),be=e=>e&&e.headers&&M("content-type",e)||"",we=p(oe("Accept","application/json, text/javascript, */*; q=0.01"),ye(e=>S("string"==typeof e.data&&0===be(e).indexOf("application/json"),"data",(e))),Se=ye(e=>"OPTIONSERROR"===e.errorCode?Promise.reject(x(e,"hub-http error building request options: "+e.options.error.message)):e),ke=(e,t)=>{const n=x(e,`Request for ${t.split("?")[0]} failed with status ${e.status}. ${e.statusText||""}`);n._hsAdditionalProperties={queryParamsString:t.split("?")[1]};return n},Ee=Ce=(e,{reason:t,maxRetries:n=1,delay:r=250,onMaxAttemptsReached:o}={})=>a=>{const i=o=>{if(e(o)){const e=m("retry",{reason:t,maxRetries:n,delay:r,exceededRetries:o.options.retryAttempts>=n})(o);return Promise.reject(x(e,`Request for ${a.url} failed with status ${o.status}. ${o.statusText||""}`))}return o};if(0===n)return a;return(a.retryAttempts>=n&&"function"==typeof o?p(ye(i),o):ye(i))(a)},xe=m("safeMode",!0),Ie=(e,t)=>n=>ye(n=>{if(e(n)){let e;try{e="function"==typeof t?t(n):t;K(e,n.options);return Promise.reject(x(n,"Aborting: redirection in progress"))}catch(e){return Promise.reject(x(n,"Aborting: status indicates redirect required, but redirect URL could not be formed"))}}return n})(n),Re=e=>{if(e.skipMigrationCheck||j(e))return e;const t=B();return t?H([477],t,U)(e):Ie(e=>477===e.status,O({hostname:Z(pe("app","hubspot")),path:`/data-transfer-status/${e.portalId}/`}))(e)},Te=e=>{if(j(e))return e;const t=B();return t?H([488],t,F)(e):Ie(e=>488===e.status,t=>{const n=M("x-hubspot-correct-hublet",t);if(!n)throw new Error("488 response missing X-Hubspot-Correct-Hublet header");const r=e.location;return O({protocol:r.protocol&&r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol,port:r.port,path:r.pathname,query:""!==r.search?r.search.substring(1):void 0,hash:""!==r.hash?r.hash:void 0,hostname:Z(pe(_(e.location).loadBalancerBase||"app","hubspot",n))})})(e)},_e=e=>j(e)?e:se({skipMigrationCheck:e.skipMigrationCheck},!1)(e),Ne=Oe=Pe="hapijs_options",ze=var Le={getsetclear;const Ae=Me=e=>t=>e(ee((t)),$e=Oe("HUBONEDOMAIN",Me(de(pe("app","hubspot"))),de(pe("api","hubspot"))),je=e=>{if(j(e))return e;const{hostname:t}=T(e.url),n=0===t.indexOf(`api${fe()}.hubspot`);return m("useIframeRequest",n)(e)},De=e=>j(e)||"number"!=typeof e.timeout?e:se({clienttimeout:e.timeout})(e),Fe=(e,t)=>{const n={hostname:Z(pe("app","hubspot")),path:e.loginPathOverride||"/login/"},r={loginRedirectUrl:e.location.href};t&&t["x-hubspot-auth-failure"]&&Object.assign(r,{authFailureReason:t["x-hubspot-auth-failure"]});e.portalId&&(r.loginPortalId=e.portalId);n.query=L(r);return O(n)},Ue=e=>Le.clear(e),Be=e=>{const t=Fe(e);if(K(t,e,Ue))throw new Error("Aborting: redirection in progress");return e},He=e=>{const t=e.options,n=Fe(t,e.headers);K(n,t,Ue);return Promise.reject(x(e,"Aborting: redirection in progress"))},qe=ve(He),We=e=>t=>ye(t=>e(t)?He(t):t)(t),Ve=e=>401===e.status&&!!M("x-hubspot-auth-failure",e),Qe=e=>{if(j(e))return e;const t=B();return t?H([401],t,D)(e):We(Ve)(e)},Ke=Ge=Ce({reason:"Server error"}),Xe=(e,t)=>{let n=JSON.parse(t);if(!Array.isArray(n)){console.error("REWRITE_URL local storage key must be a stringified array");return e}if(!n.length)return e;let r=O(e);("string"==typeof n[0]||n[0]instanceof String)&&(n=[n]);n.forEach(;return T(r)},Je=(e,t)=>{const n=JSON.parse(t);if(!Array.isArray(n)){console.error("LOCAL_API_OVERRIDES local storage key must be a stringified array");return e}let r=O(e);n.forEach(;return T(r)},Ze=e=>ee((e),Ye="HUB-HTTP_TIMEOUT",et=e=>{const t=e.localStorage&&e.localStorage.getItem(Ye);if(null!=t){console.log(`[hub-http] Using localStorage override ${Ye} for request timeout.`);return m("timeout",parseInt(t,10))(e)}return e},tt="HTTP_FAILURE_INJECTION",nt="default",rt={rate:1,sleep:1e3},ot=at=it=lt=e=>{if(!s.isQa())return e;const t=e.localStorage&&e.localStorage.getItem(tt);if(!t)return e;const n=it(t);if(!n)return e;const r=Object.assign({},rt,{},n);if(!r.type||!r.scope){console.error("failure injection config missing required property (required: type, scope). see failure injection docs for more info");return e}const{path:o=""}=T(e.url);return"INCOMING_HTTP"!==r.type||r.scope===nt||o.includes(r.scope)?oe("X-HubSpot-Failure-Injection",at(r))(e):e},st=e=>j(e)?e:Oe("HUBONEDOMAIN",lt)(e),ut=ct=e=>{const t=T(e.url);return A(t.query).portalId?e:p(Ke,se({portalId:e.portalId}))(e)},dt=p(e=>We(()=>!ut(e.csrfCookieName,e.cookies))(e),e=>oe("X-HubSpot-CSRF-hubspotapi",ut(e.csrfCookieName,e.cookies))(e),,ft=(e=>t=>{if(j(t))return t;const n=e,r=T(t.url).hostname,o=n.find(;return dt(Object.assign({},t,{csrfCookieName:o.csrfCookieName}))})([{csrfCookieName:"csrf.api",matcher:/^[a-z0-9-]+\.hubapi(qa)?\.com$/},{csrfCookieName:"csrf.app",matcher:/^[a-z0-9-]+\.hubspot(qa)?\.com$/}]);var pt=p(J,Ae,et,me,ce,$e,ft,ue,Ze,st,De,je,Se,Qe,_e,Re,Te,Ge,Ee,we);onst mt=window&&window.performance&&window.performance.timing&&window.performance.timing.navigationStart,gt=window&&window.performance&&window.performance.now,yt=mt?window.performance.timing.navigationStart:(new Date).valueOf(),vt=gt?window.performance.now.bind(window.performance):let bt=1;nst kt=Et=if(window.hubspot){window.hubspot.getAllHttpRequestStats||(window.hubspot.getAllHttpRequestStats=Et);window.hubspot.getHttpRequestStatsByState||(window.hubspot.getHttpRequestStatsByState=kt)}const Ct=xt=It=500,Rt=Tt=_t=(e,t)=>{e=m("options",t)(e);const n=E(t);return n&&n.length?Rt(Promise.resolve(e),n):Promise.resolve(e)},Nt=Ot=Pt=zt=Lt=Symbol("requestId"),At=Mt=$t=(e,t)=>{const n=e.retryAttempts||0;return t(Object.assign({},e,{retryAttempts:n})).catch(r=>{if(r.retry&&r.retry.exceededRetries)return Promise.reject(x(r,`Request for ${r.options.method} ${r.options.url} failed with status code ${r.status} after max retries exceeded (${r.retry.maxRetries}). ${r.statusText||""}`));if(r.retry){const o=r.retry.reason?" Reason: "+r.retry.reason:"";Mt(r,{willBeRetried:!0,retryReason:o,retryAttempt:n+1});console.log(`Retrying. Retry attempt ${n+1} of ${r.retry.maxRetries}.${o}`);return new Promise(}return Promise.reject(r)})},jt=Dt=Ft=Ut=e=>e.appInfo?oe("X-HubSpot-Static-App-Info",`${e.appInfo.name}@${Ft(e.appInfo.version)}`)(e):e,Bt=e=>{if(!e.appInfo)return e;const t=A(T(e.url).query);return se({hs_static_app:t.hs_static_app||e.appInfo.name,hs_static_app_version:t.hs_static_app_version||""+Ft(e.appInfo.version)})(e)};ar qt=n(0);onst Vt=60*1e3;let Qt;nst Xt={package:Object(qt.b)()&&Object(qt.b)().bender&&Object(qt.b)().bender.currentProject||"unknown",version:Object(qt.b)()&&Object(qt.b)().bender&&Object(qt.b)().bender.currentProjectVersion||"unknown"};function Jt(){return`https://metrics-fe-${s.getHublet()}.hubspot${s.isQa()?"qa":""}.com/metrics/v1/frontend/custom/send?hs_static_app=${Xt.package}&hs_static_app_version=${Xt.version}`}function Zt(e){if(s.deployed("METRICS")){s.debug("METRICS")&&console.log("[metrics-js] Datapoint sent",e);Gt(Jt(),JSON.stringify(e))}else s.debug("METRICS")&&console.log("[metrics-js] Dropping local datapoint",e)}let Yt=null;const en="__metricsJsDisabled";const tn=n=Symbol("SessionCounter");et fn;function pn(e){Object(qt.b)().__metricsSetupComplete=e}function hn(){return Object(qt.b)().__metricsSetupComplete}et gn,yn=window;const vn=new Set;st kn=/@<inline>|moz-extension:\/\/|chrome-extension:\/\/|safari-web-extension:\/\/|safari-extension:\/\//;st On=Nn("http",{library:"hub-http"}),Pn=zn=1e4,Ln=`https://${Z(pe("app","hubspot"))}/api/metrics/v1/frontend/send`,An=new Set,Mn=Boolean(navigator.sendBeacon);let $n=void 0,jn=!1;const Dn=Fn=Un=Bn=Hn=e=>{if("string"==typeof e)try{const{hostname:t}=T(e),[n,r,o]=t.split(".");On.counter("request-sent",{hostname:[n.replace(/\d+/,""),r.replace(/qa$/,""),o].join("."),prom_only:!0}).increment()}catch(e){}},qn=Wn=e=>Promise.reject(zt(e)),Vn=p(At,e=>{const t=e.useIframeRequest&&window.iframeXMLHttpRequest&&window.apiIframe&&window.apiIframe.contentDocument,n=e.useIframeRequest&&window.iframeXMLHttpRequestPromise;if(!(t||n))return m("Request",e.Request||XMLHttpRequest)(e);window.apiIframeUsed=!0;const r=Object.assign({"X-HS-Referer":window.location.href},e.headers),o=Ut(m("headers",r)(e));return n?window.iframeXMLHttpRequestPromise.then(.catch(()=>m("Request",e.Request||XMLHttpRequest)(e)):m("Request",window.iframeXMLHttpRequest)(o)},Bt);let Qn=!1,Kn=!1;const Gn=e=>{Qn=!0;const t=(t,n)=>{const r=T(t);r.hostname&&r.hostname.match(/^api(-[a-z]{2}\d{1})?\.hubspot(qa)?\.com/)&&On.counter("hardcoded-api-hubspot-domain").increment();return $t(Object.assign({},n,{url:t}),.then(jt,},n=r=return Object.assign(t,{get:r("GET"),post:r("POST"),put:r("PUT"),patch:r("PATCH"),delete:r("DELETE"),options:r("OPTIONS"),getWithResponse:n("GET"),postWithResponse:n("POST"),putWithResponse:n("PUT"),patchWithResponse:n("PATCH"),deleteWithResponse:n("DELETE"),optionsWithResponse:n("OPTIONS")})};var Xn=e=>Gn(p(Ht(Kn),e));ar Zn=Jn;const Yn=er=e=>t=>m("externalResponse",Yn(t))(e),tr=nr=rr=e=>{const t=B();return t?H([401,403],t,D)(e):We(nr)(e)},or=Ce({reason:"Error fetching user data",maxRetries:3,onMaxAttemptsReached:qe}),ar=e=>m("data",{portalId:e.portalId})(e),ir=e=>{const t=Z(pe("app","hubspot")),n=e.portalId||"";return O({hostname:t,path:`/account-and-billing/${n}/forbidden`})},lr=e=>{const t=e.options,n=ir(t);return K(n,t)?Promise.reject(x(e,"Aborting: redirection in progress")):e},sr=ur=p(e=>ee((e),re("GET"),e=>Oe("HUBONEDOMAIN",Me(de(pe("app","hubspot",e.hubletOverride))),de(pe("api","hubspot",e.hubletOverride)))(e),e=>se({portalId:e.portalId})(e)),cr=Zn(e=>t=>e()?ye((t):t);var dr=Xn(p(J,Ae,tr,et,ar,he("application/x-www-form-urlencoded",L),ur,ce,Ze,Se,rr,_e,Re,Te,or,we,cr));let fr,pr;unction mr(e){fr=e}onst yr=vr=br="mark_user_info_start",wr="mark_user_info_success",Sr="measure_user_info_time",kr="measure_api_verify_time",Er=Cr=e=>{const{cached:t=!0}=e,n=ht(e,["cached"]);!t&&n.externalResponse&&delete n.externalResponse;const r=hr();t&&r&&(n.recycledPromise=r);const o=dr("/login-verify",n);t&&r||mr(o);return o.then(};let xr;const Ir=Rr=Tr=_r=var Nr=n(2),Or=n.n(Nr),Pr=n(3),zr=n.n(Pr),Lr=n(4),Ar=n.n(Lr),Mr=n(5),$r=n.n(Mr),jr=(n(6),n(7),n(8)),Dr=n.n(jr),Fr={id:null,pathRegex:/^\/(?:[A-Za-z0-9-_]*)\/(\d+)(?:\/|$)/,queryParamRegex:/(?:\?|&)portalid=(\d+)/i,getPortalIdFromPathgetPortalIdFromQueryParamparsePortalIdFromStringget;const Ur="na1",Br={APP:"app",APP_API:"app-api"};function Hr(e){const t=e&&e.hubletOverride?e.hubletOverride:s.getHublet();return t===Ur?"":"-"+t}nction Vr(e){return"qa"===(e&&e.envOverride?e.envOverride:s.getShort())?"qa":""}function Qr(e){return e&&e.domainOverride?e.domainOverride:"hubspot"}t Zr="onboarding-cms-enterprise",Yr="onboarding-cms-pro",eo="onboarding-cms-starter",to="onboarding-marketing-enterprise",no="onboarding-marketing-pro",ro="onboarding-marketing-starter",oo="onboarding-ops-enterprise",ao="onboarding-ops-pro",io="onboarding-ops-starter",lo="onboarding-sales-enterprise",so="onboarding-sales-pro",uo="onboarding-sales-starter",co="onboarding-service-enterprise",fo="onboarding-service-pro",po="onboarding-service-starter";let ho,mo;!ho||(ho={}));!mo||(mo={}));ho.FREE,ho.STARTER,ho.PRO,ho.ENTERPRISE;const go={CMS_ENTERPRISE:Zr,CMS_PRO:Yr,CMS_STARTER:eo,MARKETING_ENTERPRISE:to,MARKETING_PRO:no,MARKETING_STARTER:ro,OPS_ENTERPRISE:oo,OPS_PRO:ao,OPS_STARTER:io,SALES_ENTERPRISE:lo,SALES_PRO:so,SALES_STARTER:uo,SERVICE_ENTERPRISE:co,SERVICE_PRO:fo,SERVICE_STARTER:po},yo=[eo,ro,io,uo,po],vo=[Yr,no,ao,so,fo],bo=[Zr,to,oo,lo,co],wo=[...yo,...vo,...bo],So=(ho.STARTER,ho.PRO,ho.ENTERPRISE,ho.STARTER,ho.PRO,ho.ENTERPRISE,ho.STARTER,ho.PRO,ho.ENTERPRISE,ho.STARTER,ho.PRO,ho.ENTERPRISE,ho.STARTER,ho.PRO,ho.ENTERPRISE,,ko={CMS_ENTERPRISE:Eo,CMS_PRO:Co,CMS_STARTER:xo,MARKETING_ENTERPRISE:Io,MARKETING_PRO:Ro,MARKETING_STARTER:To,OPS_ENTERPRISE:_o,OPS_PRO:No,OPS_STARTER:Oo,SALES_ENTERPRISE:Po,SALES_PRO:zo,SALES_STARTER:Lo,SERVICE_ENTERPRISE:Ao,SERVICE_PRO:Mo,SERVICE_STARTER:$o}=go;var jo=n(9),Do=n(11),Fo=n(13);n(17),n(18);et Bo=Uo;const Ho=0;const qo=let Wo=qo;const Vo=e=>{Wo=e};!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?jo.useLayoutEffect:jo.useEffect;let Qo=qo;const Ko=Vo(Do.useSyncExternalStoreWithSelector);Ko(jo.useSyncExternalStore);Ho(Fo.unstable_batchedUpdates);function Go(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,}ction Yo(e,t){if(e)if(e.classList)e.classList.remove(t);else{const n=new RegExp(`(^|\\b)${t.split(" ").join("|")}(\\b|$)`,"gi");e.className.replace(n," ")}}unction ta(e,t){void 0!==e.textContent?e.textContent=t:e.innerText=t}onst ra=()=>"in-app-help-auto-open-widget:"+(window.hubspot&&window.hubspot.portal&&window.hubspot.portal.id),oa=()=>{const e=new Date;e.setDate(e.getDate()+1);localStorage.setItem(ra(),e.getTime())},aa=ia=e=>{let t=0;try{const n=localStorage.getItem(ra());t=parseInt(n,10)}finally{Date.now()<t&&setTimeout(e)}},la=1e3,sa=600,ua=440,ca=9e5,da="autoOpenZorseCreateView=true",fa="autoOpenWidgetRoute=",pa="autoOpenWidgetArticle=",ha="zorse/v2/notifications",ma="zorse-webticket",ga="zorse/v2/messages/tokens/create",ya="hubspot:livechat:identificationToken",va=3e5,ba="livechat-public/v1/message/public",wa="hubspot:isc:userIsEligibleForIscChat",Sa="hubspot:isc:userHasDismissedIscEligibilityPopup",ka=3e4,Ea="en",Ca={VARIANT_1:"variant1",VARIANT_2:"variant2",CONTROL:"control"},xa={VARIANT_1:"variant1",VARIANT_2:"variant2",CONTROL:"control"},Ia={VARIANT:"variant",CONTROL:"control"},Ra={VARIANT:"variant",CONTROL:"control"};class Ta{constructor(e,t){this.cleanAutoOpenQueryString=this.cleanAutoOpenQueryString.bind(this);this.closeWidget=this.closeWidget.bind(this);this.handleReceivePostMessage=this.handleReceivePostMessage.bind(this);this.hideShowWidget=this.hideShowWidget.bind(this);this.maybeGetNotifications=this.maybeGetNotifications.bind(this);this.openWidget=this.openWidget.bind(this);this.renderNotifications=this.renderNotifications.bind(this);this.removeNavHelpNotificationClass=this.removeNavHelpNotificationClass.bind(this);this.maybeAddNavHelpNotificationClass=this.maybeAddNavHelpNotificationClass.bind(this);this.resizeIframe=this.resizeIframe.bind(this);this.setHelpButtonAndBindButtonEvents=this.setHelpButtonAndBindButtonEvents.bind(this);this.userCanCreateTickets=this.userCanCreateTickets.bind(this);this.widgetContentsLoaded=this.widgetContentsLoaded.bind(this);this.onOpenCloseWidget=this.onOpenCloseWidget.bind(this);this.fireOpenCloseWidgetCallbacks=this.fireOpenCloseWidgetCallbacks.bind(this);this.handleIscEligibilityResponse=this.handleIscEligibilityResponse.bind(this);this.maybeRequestIsUserIscChatEnabled=this.maybeRequestIsUserIscChatEnabled.bind(this);this.makeIsUserIscChatEnabledRequest=this.makeIsUserIscChatEnabledRequest.bind(this);this.maybeIscPopupTemplate=this.maybeIscPopupTemplate.bind(this);this.closeIscPopup=this.closeIscPopup.bind(this);this.setupZorse=this.setupZorse.bind(this);this.handleUrlParams=this.handleUrlParams.bind(this);this.logErrorToConsole=this.logErrorToConsole.bind(this);this.setIscLocalStorageKey=this.setIscLocalStorageKey.bind(this);this.initInAppHelpWidget=this.initInAppHelpWidget.bind(this);this.initHelp020=this.initHelp020.bind(this);this.openCloseWidgetCallbacks=[];this.userIsEligibleForIscChat=!1;this.shouldShowInAppHelpWidget=!1;const n=if(window.location.pathname.startsWith("/academy/")||n()){this.isHelpInTheNav=!1;this.help015Variant=Ca.CONTROL;this.help20Variant=xa.CONTROL}else{this.isHelpInTheNav=window.hubspot.zorse&&window.hubspot.zorse.isHelpInTheNav||!1;this.help020Variant=window.hubspot&&window.hubspot.zorse&&window.hubspot.zorse.help020||xa.CONTROL;this.help015Variant=window.hubspot&&window.hubspot.zorse&&window.hubspot.zorse.help015||Ca.CONTROL}this.help040Variant=window.hubspot&&window.hubspot.zorse&&window.hubspot.zorse.help040||Ia.CONTROL;this.help044Variant=window.hubspot&&window.hubspot.zorse&&window.hubspot.zorse.help044||Ra.CONTROL;this.help020RenderHelpNav=this.help020Variant===xa.VARIANT_1||this.help020Variant===xa.VARIANT_2;Fr.get();this.hubhttp=e;this.userInfo=t;this.maybeGetNotifications();this.maybeRequestIsUserIscChatEnabled();this.chatMessageCount=0;this.appName=window.hubspot.bender?window.hubspot.bender.currentProject:null}initHelp020(){if(this.help020RenderHelpNav&&this.isHelpInTheNav){this.shouldShowInAppHelpWidget=!0;ia(()=>this.openWidget({reopened:!0}))}}initInAppHelpWidget({user:{scopes:e}}){(e&&-1===e.indexOf("zorse-chatflow-targeting-enterprise")&&-1===e.indexOf("zorse-chatflow-targeting-pro")&&e.indexOf("zorse-chatflow-targeting-starter")>-1||this.help040Variant===Ia.VARIANT||this.help044Variant===Ra.VARIANT)&&(this.shouldShowInAppHelpWidget=!0);this.initHelp020();this.help015Variant!==Ca.VARIANT_1&&this.help040Variant!==Ia.VARIANT&&this.help044Variant!==Ra.VARIANT||ia(}logErrorToConsole(e,t){hubspot.zorse&&hubspot.zorse.dev&&console&&console.log(e,t)}setupZorse(){const e=this.userIsEligibleForIscChat?this.closedIscWidgetTemplate():this.closedWidgetTemplate();this.widget=Zo(e);Jo(document.body,this.widget);this.setHelpButtonAndBindButtonEvents(this.openWidget,this.closeIscPopup);const t=document.getElementsByTagName("html");if(t&&t[0]){this.html=t[0];ea(this.html,"zorse")}window.addEventListener&&window.addEventListener("message",this.handleReceivePostMessage);this.handleUrlParams()}handleUrlParams(){const e=e=>-1!==window.location.search.indexOf(e);if(window.location&&window.location.search)if(e(da)){this.openWidget({create:!0,autoOpened:!0});setTimeout(la)}else if(e(fa+"chat")){this.userIsEligibleForIscChat?this.openWidget({isc:!0}):this.openWidget({create:!0,autoOpened:!0});setTimeout(()=>this.cleanAutoOpenQueryString(fa+"chat"),la)}else if(e(fa+"welcome")){this.openWidget();setTimeout(la)}else if(e(pa)){const e=window.location.search.indexOf(pa)+pa.length,t=window.location.search.indexOf("&",e);let n="";n=-1!=t?window.location.search.substring(e,t):window.location.search.substr(e);this.openWidget({url:n});setTimeout(this.cleanAutoOpenArticleQueryString,la,n)}}isChatActive(){return document&&document.cookie&&(-1!==document.cookie.indexOf("_bc-curl")||-1!==document.cookie.indexOf("zorse-active-conversation"))}getLang(){return"undefined"!=typeof I18n?I18n.lang:Ea}setIscLocalStorageKey(e){localStorage.setItem(wa,JSON.stringify({eligible:e,portalId:window.hubspot.portal.id,timestamp:Date.now()}))}getLiveChatIdentificationToken(){const e=localStorage.getItem(ya);if(e){const t=JSON.parse(e);return Date.now()-t.timestamp>=va?this.makeLiveChatIdentificationTokenRequest():t.token}return this.makeLiveChatIdentificationTokenRequest()}makeLiveChatIdentificationTokenRequest(){return this.hubhttp.post(ga).then(({token:e})=>{this.setLiveChatTokenLocalStorage(e);return e}).catch(e=>{this.logErrorToConsole("Caught error from token request:",e)})}setLiveChatTokenLocalStorage(e){localStorage.setItem(ya,JSON.stringify({timestamp:Date.now(),token:e}))}makeRequest(e,t,n){return new Promise((r,o)=>{const a=new XMLHttpRequest;a.open(e,t);a.setRequestHeader("X-HubSpot-Messages-Uri",n);a.onload=function(){this.status>=200&&this.status<300?r(JSON.parse(a.response)):o({status:this.status,statusText:a.statusText})};a.onerror=a.send()})}getLiveChatEndpointUrl(e){return`${Jr("app-api",{hubletOverride:"na1"})}/${ba}?portalId=${this.isQa()?99535353:53}&email=${e.email}&identificationToken=${e.token}`}makeIscLiveChatAvailabilityRequest(e,t){return this.makeRequest("GET",this.getLiveChatEndpointUrl(e),t)}makeIsUserIscChatEnabledRequest(){const e=this.getLang(),t=`${window.location.href}${window.location.search?"&":"?"}iscChatLang=${e}`;Promise.all([this.userInfo(),this.getLiveChatIdentificationToken()]).then(([e,n])=>{const{user:{email:r,scopes:o},portal:a}=e;this.makeIscLiveChatAvailabilityRequest({email:r,token:n},t).then(e=>{const t="HIDE_WIDGET"!==e.type,n=ko(o),r=t&&n;this.userIsEligibleForIscChat=r;this.setIscLocalStorageKey(r);this.handleIscEligibilityResponse()},})}maybeRequestIsUserIscChatEnabled(){if(localStorage.getItem(wa+":override")){this.userIsEligibleForIscChat=!0;this.setIscLocalStorageKey(!0);this.handleIscEligibilityResponse()}else if(window.hubspot.portal&&window.hubspot.portal.id){let e,t=!1;try{const n=localStorage.getItem(wa);if(n){e=JSON.parse(n);const r=Date.now()-e.timestamp<=ca,o=e.portalId===window.hubspot.portal.id;t=r&&o;t||localStorage.removeItem(wa)}}catch(e){this.logErrorToConsole("Caught error from parsing local storage:",e)}if(t){this.userIsEligibleForIscChat=e.eligible;this.handleIscEligibilityResponse();this.initHelp020()}else this.userInfo().then(e=>{const{user:t,portal:n}=e;this.initInAppHelpWidget(e);this.userCanCreateTickets(t,n)?this.setupZorse():this.makeIsUserIscChatEnabledRequest()},}}cleanAutoOpenArticleQueryString(e){void 0!==window.history&&window.history&&window.history.replaceState&&document.title&&window.history.replaceState({},document.title,`${window.location.pathname}${window.location.search.replace(pa+e,"")}`)}cleanAutoOpenQueryString(e){void 0!==window.history&&window.history&&window.history.replaceState&&document.title&&window.history.replaceState({},document.title,`${window.location.pathname}${window.location.search.replace(e,"")}`)}hasAutoOpenQuery(){return[fa,da,pa].find(e=>-1!==window.location.search.indexOf(e))}handleReceivePostMessage(e){let t;try{t="object"==typeof e.data?e.data:JSON.parse(e.data)}catch(t){hubspot.zorse.dev&&console&&console.error("Help button received an unparsable postMessage:",t,e);return}if(t.name)switch(t.name){case"close":return this.closeWidget();case"minimize":return this.hideShowWidget(!0);case"restore":return this.hideShowWidget(!1);case"loaded":return this.widgetContentsLoaded(t);case"resize":return this.resizeIframe(t);case"start-dragging":return this.startDragging(t);case"chat-message":return this.renderChatNotifications(!0);case"minimize-button":return this.hideShowButton(!0);case"restore-button":return this.hideShowButton(!1);default:this.logErrorToConsole("Help button received postMessage with no handler:",t)}}maybeGetNotifications(){this.userInfo().then(({user:e,portal:t})=>{this.userCanCreateTickets(e,t)&&this.hubhttp.get(ha).then(.catch(e=>{this.logErrorToConsole("Caught error from notifications request:",e)})}).catch(}maybeAddNavHelpNotificationClass(){if(this.isHelpInTheNav&&this.notificationResponse&&this.notificationResponse.count){ea(window.parent.document.querySelector(".navHelpNotification"),"unread")}}renderNotifications(e){this.notificationResponse=e||this.notificationResponse;if(this.notificationResponse&&this.notificationResponse.count){const e=document.getElementById("help-widget-toggle"),t=document.getElementById("zorse-button-zorse-notification"),n=document.getElementById("zorse-button-zorse-notification-count"),r=document.getElementById("zorse-button-zorse-notification-avatar"),o=document.getElementById("help-question-mark-icon");if(e&&t){ea(o,"hidden");ta(n,this.notificationResponse.count);ea(e,"has-notification");!this.userIsEligibleForIscChat&&r&&na(r,"src",this.notificationResponse.agentAvatarUrl);Yo(t,"hidden")}}}renderChatNotifications(e){const t=document.getElementById("zorse-button-chat-notification"),n=document.getElementById("zorse-button-chat-notification-count");if(t)if(e){if(!this.isWidgetOpen()){this.chatMessageCount++;ta(n,this.chatMessageCount);Yo(t,"hidden")}}else{ea(t,"hidden");this.chatMessageCount=0}}removeNavHelpNotificationClass(){const e=document.getElementsByClassName("navHelpNotification");Array.from(e).forEach(}openWidget(e){e=e||{};if(!this.hasAutoOpenQuery()||!e.reopened){(this.help015Variant===Ca.VARIANT_1||this.help040Variant===Ia.VARIANT||this.help044Variant===Ra.VARIANT||this.help020RenderHelpNav)&&oa();!this.isHelpInTheNav&&this.helpButton&&Xo(this.helpButton,"click",this.openWidget);this.isHelpInTheNav&&this.removeNavHelpNotificationClass();if(window.hubspot.portal&&window.hubspot.portal.id){this.userIsEligibleForIscChat&&localStorage.setItem(Sa,"true");const t=window.hubspot.portal.id,n=this.addCorsSensitivePropertiesToRoute(this.getRouteFromOptions(e)),r=(this.notificationResponse?this.notificationResponse.count:void 0)?"has-notification":"";this.widget.innerHTML=this.openWidgetTemplate(t,n,r);this.setHelpButtonAndBindButtonEvents(()=>this.hideShowWidget(!1),this.closeIscPopup);this.fireOpenCloseWidgetCallbacks(!0)}else console&&console.error("Could not deduce portal id from hubspot object")}}getRouteFromOptions(e){if((e=e||{}).create)return"create?autoOpened="+!!e.autoOpened;if(e.migrationId)return"migration?migrationId="+e.migrationId;if(e.feedback)return"feedback";if((e.url||e.kbArticle)&&this.validateUrl(e.url||e.kbArticle))return this.generateUrlRoute(e.url||e.kbArticle);if(e.chat)return"chat";if(e.isc)return"isc-chat";const{segments:t}=e;return t?"string"==typeof t?"segments/"+t:"segments":e.reopened?"?reopened=true":""}validateUrl(e){-1===e.indexOf("/")&&(e=decodeURIComponent(e));return e.toLowerCase().startsWith("https://")}generateUrlRoute(e){-1===e.indexOf("/")&&(e=decodeURIComponent(e));e=e.split("#").length>1?`${e.split("#")[0]}${-1===e.indexOf("?")?"?":"&"}zorseWidget#${e.split("#")[1]}`:`${e}${-1===e.indexOf("?")?"?":"&"}zorseWidget`;return"url?location="+encodeURIComponent(e)}addCorsSensitivePropertiesToRoute(e){const t={title:window.document&&window.document.title?window.document.title:"",href:window.location&&window.location.href?window.location.href:"",pathname:window.location&&window.location.pathname?window.location.pathname:"",navigation_rendered_mode:hubspot.navigation_rendered_mode||"MARKETING",appName:this.appName,isHelpInTheNav:this.isHelpInTheNav,help015:this.help015Variant,help020:this.help020Variant,help040:this.help040Variant,help044:this.help044Variant},n=Object.keys(t).map(.join("&");return-1!==e.indexOf("?")?`${e}&${n}`:`${e}?${n}`}widgetContentsLoaded(){const e=document.getElementById("zorse-iframe"),t=document.querySelector("#help-widget .zorse-loading-container"),n=document.querySelector("#in-app-help-close-button");Yo(e,"hidden");Yo(n,"hidden");t&&t.parentNode&&t.parentNode.removeChild(t);this.toggleZorseOpenedClass(!0)}resizeIframe(e){const t=document.getElementById("zorse-iframe"),n=document.querySelector("#help-widget.in-app-help")||document.querySelector("#help-widget.in-app-help-nav"),r=void 0!==e&&e&&e.payload&&e.payload.height,o=Math.max(r||0,sa),a=void 0!==e&&e&&e.payload&&e.payload.width,i=Math.max(a||0,ua);if(t)if(n){n.style.height=isNaN(r)?r:r+"px";n.style.width=isNaN(a)?a:a+"px";t.style.height="100%";t.style.width="100%"}else{t.style.height=o+"px";t.style.width=i+"px"}}startDragging(e){const t=void 0!==e&&e&&e.payload&&e.payload.mouseDownX,n=void 0!==e&&e&&e.payload&&e.payload.mouseDownY;if(Number.isNaN(+t)||Number.isNaN(+n))return;const r=document.getElementById("zorse-iframe"),o=document.querySelector("#help-widget.in-app-help")||document.querySelector("#help-widget.in-app-help-nav");if(!o||!r)return;const a=o.getBoundingClientRect(),i=t+a.x,l=n+a.y,s=window.getComputedStyle(o),u=parseFloat(s.right),c=e=>{const{scrollX:t}=window,{scrollHeight:n}=document.body,r=e.pageX-i,s=e.pageY-l;let c=u-r+t,d=a.top+s;const f=16,p=16;c<f-t&&(c=-t+f);d>n-a.height-f&&(d=n-a.height-f);if(e.pageX<a.width+f){o.style.right="unset";o.style.left=`max(${f}px, ${a.x+r}px)`}else{o.style.right=`min(100vw - ${a.width+p+f}px, ${c}px)`;o.style.left=""}o.style.top=`max(${f}px, ${d}px)`};ea(r,"is-dragging");const d=()=>{document.body.removeEventListener("mousemove",c);Yo(r,"is-dragging")};document.body.addEventListener("mousemove",c);document.body.addEventListener("mouseup",d);document.body.addEventListener("mouseleave",d)}setHelpButtonAndBindButtonEvents(e,t){if(this.isHelpInTheNav)return;if(this.userIsEligibleForIscChat){const e=document.getElementById("bubble-close-button");e&&Go(e,"click",t);this.helpButton=document.getElementById("isc-help-button");Go(this.helpButton,"click",this.openWidget);this.iscChatButton=document.getElementById("isc-chat-button");Go(this.iscChatButton,"click",this.openWidget.bind(this,{isc:!0}))}else{this.helpButton=document.getElementById("help-widget-toggle");this.helpButton.tabIndex=0;Go(this.helpButton,"click",e);Go(this.helpButton,"keydown",}const n=document.getElementById("in-app-help-close-button");n&&Go(n,"click",;this.helpCloseButton=document.getElementById("zorse-help-close-button");this.helpCloseButton&&Go(this.helpCloseButton,"click",e=>{this.hideShowButton(!0);e.stopPropagation()})}handleIscEligibilityResponse(){this.setupZorse();this.userIsEligibleForIscChat&&this.setHelpButtonAndBindButtonEvents(()=>this.openWidget({isc:!0}),this.closeIscPopup)}closeWidget(){(this.help015Variant===Ca.VARIANT_1||this.help040Variant===Ia.VARIANT||this.help044Variant===Ra.VARIANT||this.help020RenderHelpNav)&&aa();this.userIsEligibleForIscChat?this.widget.innerHTML=this.closedIscWidgetTemplate():this.widget.innerHTML=this.closedWidgetTemplate();this.maybeGetNotifications();this.setHelpButtonAndBindButtonEvents(this.openWidget,this.closeIscPopup);this.toggleZorseOpenedClass(!1);this.fireOpenCloseWidgetCallbacks(!1)}fireOpenCloseWidgetCallbacks(e){this.openCloseWidgetCallbacks.forEach(t=>{if("function"==typeof t)try{t(e)}catch(e){console.error(e)}})}onOpenCloseWidget(e){if("function"!=typeof e)return!1;const t=if(this.openCloseWidgetCallbacks.some(t))return!1;this.openCloseWidgetCallbacks.push(e);return!0}hideShowWidget(e){const t=document.getElementById("zorse-iframe"),n=document.getElementById("help-widget-toggle");if(t&&n){t.style.display=e?"none":"";n.style.display=e?"":"none"}(this.help015Variant===Ca.VARIANT_1||this.help040Variant===Ia.VARIANT||this.help044Variant===Ra.VARIANT||this.help020RenderHelpNav)&&(e?aa():oa());this.renderNotifications();this.toggleZorseOpenedClass(!e);this.userIsEligibleForIscChat||this.renderChatIcon();e||this.renderChatNotifications(!1);const r=document.getElementById("in-app-help-close-button");r&&(r.style.display=e?"none":"");const o=document.querySelector("#help-widget.in-app-help-nav");o&&(o.style.display=e?"none":"")}hideShowButton(e){e&&this.hideShowWidget(e);const t=document.getElementById("chat-widget")||document.getElementById("isc-zorse-widget");t&&(t.style.display=e?"none":"block")}renderChatIcon(){if(this.isHelpInTheNav)return;const e=document.getElementById("help-widget-toggle"),t=document.querySelector(".zorse-help-text"),n=document.querySelector(".zorse-help-text-minimized"),r=document.getElementById("help-question-mark-icon"),o=document.querySelector(".zorse-chat-container"),a=document.getElementById("zorse-button-zorse-notification");t.textContent=this.getHelpText();if(this.isChatActive()){o.style.display="block";ea(r,"hidden");ea(t,"zorse-chat-margin");ea(n,"zorse-chat-margin");Yo(e,"has-notification");ea(e,"has-chat");this.notificationResponse&&this.notificationResponse.count&&(a.style.display="none")}else{o.style.display="none";Yo(r,"hidden");Yo(t,"zorse-chat-margin");Yo(n,"zorse-chat-margin");Yo(e,"has-chat");this.notificationResponse&&this.notificationResponse.count&&(a.style.display="inline-block")}}ggleZorseOpenedClass(e){this.html&&(e?ea(this.html,"zorse-opened"):Yo(this.html,"zorse-opened"))}isWidgetOpen(){return"none"!==document.getElementById("zorse-iframe").style.display}closedWidgetTemplate(e=!0){if(this.isHelpInTheNav)return"";const t=this.isJapanese()?"help-widget-japanese":"";return`<div id='chat-widget' data-html2canvas-ignore='true'>\n        <div id='help-widget' class='${this.applyUiClass()} ${e?"fade-in":""}'>\n          <a id='help-widget-toggle' class='${t}'>\n            ${this.widgetLinkTemplate()}\n          </a>\n        </div>\n      </div>`}closedIscWidgetTemplate(e=!0){return this.isHelpInTheNav?"":`\n    <div id="isc-zorse-widget" data-html2canvas-ignore="true">\n      ${this.maybeIscPopupTemplate()}\n      <div id="isc-help-widget" class="${e?"fade-in":""}">\n          <div id='zorse-button-chat-notification' class='zorse-notification hidden'>\n            <div id='zorse-button-chat-notification-count' class='zorse-notification-count'>1</div>\n          </div>\n          <div class="isc-help-widget__layout-container">\n            <div class="isc-help-widget__button-container" id="isc-chat-button">\n                <div class="isc-help-widget__chat-button">\n                  <img class="isc-help-widget__chat-icon" src="${$r.a}" />${this.translatedChatText()}\n                </div>\n            </div>\n            <div class="isc-help-widget__button-container" id="isc-help-button"><span class="isc-help-widget__help-button">${this.translatedHelpText()}</span></div>\n          </div>\n          ${this.helpCloseButtonTemplate()}\n      </div>\n    </div>\n    `}openWidgetTemplate(e,t,n){if(this.isHelpInTheNav&&this.shouldShowInAppHelpWidget)return`<div id='chat-widget' data-html2canvas-ignore='true'>\n          <div id='help-widget' class='in-app-help-nav help-in-nav'>\n            <iframe\n              id='zorse-iframe' class='zorse-widget-container'\n              src="${this.getWidgetDomain()}/in-app-help/${e}/${t}"\n              scrolling='yes' allowFullscreen='true'\n            ></iframe>\n            <a id='help-widget-toggle' class='hidden'>\n            ${this.userIsEligibleForIscChat?this.closedIscWidgetTemplate(!1):this.widgetLinkTemplate()}\n          </a>\n          </div>\n        </div>`;const r=this.userIsEligibleForIscChat&&this.getLang()===Ea;return this.shouldShowInAppHelpWidget||r?`<div id='chat-widget' data-html2canvas-ignore='true'>\n          <div id='help-widget' class='in-app-help ${this.applyUiClass()}'>\n            <a class='zorse-loading-container ${n}'>\n              <div class='loading loading_1'></div>\n              <div class='loading loading_2'></div>\n              <div class='loading loading_3'></div>\n            </a>\n            <iframe\n              id='zorse-iframe' class='zorse-widget-container hidden'\n              src="${this.getWidgetDomain()}/in-app-help/${e}/${t}"\n              scrolling='yes' allowFullscreen='true'\n            ></iframe>\n            <a id='help-widget-toggle' style='display: none'>\n              ${this.userIsEligibleForIscChat?this.closedIscWidgetTemplate(!1):this.widgetLinkTemplate()}\n            </a>\n          </div>\n          <a id="in-app-help-close-button" class="hidden">\n            <img src=${Dr.a} />\n          </a>\n        </div>`:`<div id='chat-widget' data-html2canvas-ignore='true'>\n        <div id='help-widget' class='${this.applyUiClass()}'>\n          <a class='zorse-loading-container ${n}'>\n            <div class='loading loading_1'></div>\n            <div class='loading loading_2'></div>\n            <div class='loading loading_3'></div>\n          </a>\n          <iframe id='zorse-iframe' class='zorse-widget-container hidden' src="${this.getWidgetDomain()}/help-widget-v2/${e}/${t}" scrolling='no' allowFullscreen='true'></iframe>\n          <a id='help-widget-toggle' style='display: none'>\n            ${this.userIsEligibleForIscChat?this.closedIscWidgetTemplate(!1):this.widgetLinkTemplate()}\n          </a>\n        </div>\n      </div>`}getWidgetDomain(){if(this.widgetDomain)return this.widgetDomain;this.isLocal()&&-1===window.location.hostname.indexOf("knowledge.hubspot.com")?this.widgetDomain="//"+window.location.hostname:this.widgetDomain=Jr("app");return this.widgetDomain}isLocal(){return hubspot.zorse.dev||"local"===s.getShort("ZORSE_WIDGET")}serCanCreateTickets(e,t){return!t||t.friends_and_family?this.isQa()||this.isLocal():!!(e&&e.scopes&&e.scopes.includes)&&e.scopes.includes(ma)}chatImageLinkTemplate(){return`<div class='zorse-chat-container zorse-chat-container-${"undefined"!=typeof I18n&&I18n&&I18n.langEnabled&&-1!=["de","ja"].indexOf(I18n.lang)?"long":"short"}-text' style='display: none;'>\n        <img class="logo" src="${Or.a}">\n      </div>`}widgetLinkTemplate(){const e=this.isJapanese()?Ar.a:zr.a,t=this.isJapanese()?"jp-":"";return`<div class='zorse-magnifying-glass'></div>\n      ${this.chatImageLinkTemplate()}\n      <div id='zorse-button-zorse-notification' class='zorse-notification hidden'>\n        <img id='zorse-button-zorse-notification-avatar' class='zorse-avatar-image'></img>\n        <div id='zorse-button-zorse-notification-count' class='zorse-notification-count'></div>\n      </div>\n      <div id='zorse-button-chat-notification' class='zorse-notification hidden'>\n        <div id='zorse-button-chat-notification-count' class='zorse-notification-count'>1</div>\n      </div>\n      ${this.helpCloseButtonTemplate()}\n      <span class='zorse-help-text-minimized'><img id="help-question-mark-icon" src="${e}" class="zorse-help-${t}question-mark-icon"></span>\n      <span class='zorse-help-text'>${this.getHelpText()}</span>`}maybeIscPopupTemplate(){if(this.userIsEligibleForIscChat&&!localStorage.getItem(Sa)){this.autodismissIscBubbleTemplateTimeout=setTimeout(this.closeIscPopup,ka);return`<div id="isc-text-bubble-popup-container">\n          <div id="bubble-box">\n            <div id="bubble-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="10" viewBox="0 0 1000 1000" fill="black"><path d="M29.8 970.2a67.7 67.7 0 0 0 95.7 0L500 595.7l374.5 374.5a67.7 67.7 0 0 0 95.7-95.7L595.7 500l374.5-374.5a67.7 67.7 0 0 0-95.7-95.7L500 404.3 125.5 29.8a67.7 67.7 0 0 0-95.7 95.7L404.3 500 29.8 874.5a67.7 67.7 0 0 0 0 95.7z"/></svg></div>\n          <div>\n              <div id="text-content">${this.translatedIscWelcomeTest()}</div>\n            </div>\n          </div>\n          <svg id="bubble-tail" width="30" height="30" viewbox="0 0 43 30" xmlns="http://www.w3.org/2000/svg">\n            <path d="M20 29.8a79.3 79.3 0 0 1-15.2-14A30.8 30.8 0 0 1 0 .9h43a88.5 88.5 0 0 0-17.7 15c-2.1 3-3.3 7.3-3.7 13.2a1 1 0 0 1-1.6.8z" fill="#fff" fill-rule="evenodd" />\n          </svg>\n        </div>`}return""}closeIscPopup(){localStorage.setItem(Sa,"true");clearTimeout(this.autodismissIscBubbleTemplateTimeout);const e=document.getElementById("isc-text-bubble-popup-container");e&&ea(e,"hidden")}isJapanese(){return"undefined"!=typeof I18n&&I18n&&I18n.langEnabled&&"ja"===I18n.lang}translatedChatText(){if("undefined"!=typeof I18n&&I18n&&I18n.langEnabled&&I18n.lang)switch(I18n.lang){case"de":return"Chatten";case"es":case"fr":return"Chat";case"ja":return"チャット";case"pt":case"pt-br":return"Chat"}return"Chat"}translatedHelpText(){if("undefined"!=typeof I18n&&I18n&&I18n.langEnabled&&I18n.lang)switch(I18n.lang){case"de":return"Hilfe";case"es":return"Ayuda";case"fi":return"Ohje";case"fr":return"Aide";case"ja":return"ヘルプ";case"it":return"Aiuto";case"pl":return"Pomoc";case"pt":case"pt-br":return"Ajuda";case"sv":return"Hjälp"}return"Help"}translatedIscWelcomeTest(){if("undefined"!=typeof I18n&&I18n&&I18n.langEnabled&&I18n.lang)switch(I18n.lang){case"de":return"Hallo! Haben Sie noch Fragen zum Setup? Wir helfen gerne weiter!";case"es":return"Hola, ¿tienes alguna pregunta sobre la configuración? Estamos aquí para ayudar.";case"fr":return"Bonjour, avez-vous des questions concernant l'installation? Nous sommes là pour vous aider.";case"ja":return"セットアップに関してご不明な点はございますか？ご遠慮なくお問い合わせください。";case"pt":case"pt-br":return"Olá, tem alguma pergunta sobre configuração? Nós estamos aqui para ajudar."}return"Hi there, have any set up questions? We're here to help.dget-ui-2":""}shouldShowHelpCloseButton(){return this.getCurrentUrl().includes("/advanced-builder")}helpCloseButtonTemplate(){return this.shoulp-close-button"><img src=${Dr.a} /></div>`:""}getCurrentUrl(){return window?window.location.href:""}}var _a=Ta;const f window.hubspot.define&&window.hubspot.define("hubapi-prebuilt",[],()=>(o:_r}));function Oa(){const e=new _a(zorse.openHelpWidget=t=>{e.openWidget(t)};window.hubspot.zorse.closeHelpWidget=()=>{e.closeWidget()};window.hubspot.zorse.onOpenCloseWidget=t=>e.onOpenCloseWidget(t);window.hubspot.zorse.toggleUI=()=>{const e="/deals/board/view",t=window.location.href;t.includes(e)?window.location.href=t.replace(e,""):window.location.href=t+e};window.hubspot.zorse.minimizeZorseWidgetButton=()=>{window.postMessage({name:"minimize-button"},"*")};window.hubspot.zorse.restoreZorseWidgetButton=()=>{window.postMessage({name:"rest},"*")}}"loading"!==document.readyState?Oa():document.addEventListener("DOMContentLoaded",()=>{Oa()})}]);