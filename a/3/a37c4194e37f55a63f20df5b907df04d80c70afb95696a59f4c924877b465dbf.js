/*!
 * @preserve
 * espn-web-player-bundle v5.3.16
 * 2023-11-10T00:44:16.922Z
 */
!(function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};unction n(e,t){return e(t={exports:{}},t.exports),t.exports}var i,r,a="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},s=(i=Object.freeze({__proto__:null,default:{}}))&&i.default||i,o=void 0!==e?e:"undefined"!=typeof window?window:{};"undefined"!=typeof document?r=document:(r=o["__GLOBAL_DOCUMENT_CACHE@4"])||(r=o["__GLOBAL_DOCUMENT_CACHE@4"]=s);var l=r,u=n((function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),d=t(u),c=n((]=r[o]}));c.code,c.codes,c.aliases,c.names,c.title;var h=t(n((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}))),p=n((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(p);var f=t(n((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,p(e,t)},e.exports.__esModule=!0,e.exports.default=e.exportn[i,n]rompt)},v=Object.prototype.toStrinll,r)}};E.httpHandler=y;
/**
	 * @license
	 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
	 * Copyright (c) 2014 David Bj√∂rklund
	 * Available under the MIT license
	 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
	 */
varll),l}E.XMLHttpRequest=a.XMLHttpRequest||function(){},E.XDomainRequest="withCredentials"in new E.XMLHttpRequest?E.XMLHttpRequest:a.XDomait(e[n])}(["get","put","post","patch","head","d),A(n)}})),_.default=T;var S=Object,n,t)}C.prototype=S(Error.prototype),C.prototype.constructor=C,C.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},P.protots[e]es[e]:t},has:function(e){return e in this.val;break}}(t,10))},t),!0)}};var L=l.createElement&&l.createElement("textarea"),R={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},D={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},O={v:"title",lang:"lang"},N={rteturn o}var M=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1n"ltr"}functs(n))}function H(){}F.prototype.app]=e[n])},F.prototype.fore?0:e+t},j.prototype=S(F.prototype),j.prototype.constructor=j,V.protottom-=t}},V.prototype.m>e.top},V.prototype.oveeturn!1},V.prototype.right},V.prototype.overlapsOppobottom}},V.prototype.intersectPe.width)},V.prototype.toCSSComp.width}},V.getSimpleBoxdth||n}},H.Strint(e))}}},H.convertCueTt):null};H.proyState)},List=[]},H.Parser.prototype={reportOrThrror(ern thi(),this}};var W=H,G={"":1,lr:1,rl:1},Y={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-rvoid 0}z.prototype.getCs.text)};var X=z,Q={"":!&e<=1s=t}}.shim()}));Z.WebVTT,Z.VTTCue,Z.VTTRegion;var ee=n((function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports}));t(ee);var te=n((function(e){function t(n,i,r){return ee()?(e.exports=t=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=t=function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&p(r,n.prototype),r},e.exports.__esModule=!0,e.exports.default=e.exports),t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),ne=t(te)exports})portsRL()}eturn i}
/*! @name m3u8-parser @version 4.8.0 @license Apache-2.0 */var t+1)},t}(se),ce=String.fromCharCo,10etue}))},tn]}[s]r(e)},t}(se),ye={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},_e=["video","audio","text"],Te=["Video","Audio","T2)}})}Cas+e+e))rn!1}))},Pe=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,ke=/^application\/dash\+n":yButh||0))},De=a.BigInt||Number,Oe=[De("0x1"),De("0x100"),De("0x10000"),De("0x1000000"),De("0x100000000"),De("0x10000000000"),De("0x1000000000000"),De("0x100000000000000"),De("0x10000000000000000")];le=new Uint16Array([65484]),255===(ue=new Uint8Array(le.buffer,le.byteOffset,le.byteLength))[0]||ue[0mbeetuetuze(e):e}var Fe=Be({HTML:"text/html",isHTML:function(e){return e===Fe.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),je=Be({HTML:"http://www.w3.org/1999/xhtmlje.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"}),Veeturnturn r}},freeze:Be,MIME_TYPE:Fe,NAMESPACE:je},qe=Ve.find,He=Ve.N,{}))}function Ke(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[ctor=e)}var Xe={},Qe=Xe.ELEMENT_NODE=1,$e=Xe.ATTRIBUTE_NODE=2,Je=Xe.TEXT_NODE=3,Ze=Xe.CDATA_SECTION_NODE=4,et=Xe.ENTITY_REFERENCE_NODE=5,tt=Xe.ENTITY_NODE=6,nt=Xe.PROCESSING_INSTRUCTION_NODE=7,it=Xe.COMMENT_NODE=8,rt=Xe.DOCUMENT_NODE=9,at=Xe.DOCUMENT_TYPE_NODE=10,st=Xe.DOCUMENT_FRAGMENT_NODE=11,ot=Xe.NOTATION_NODE=12,lt={},ut={};lt.INDEX_SIZE_ERR=(ut[1]="Index size error",1),lt.DOMSTRING_SIZE_ERR=(ut[2]="DOMString size error",2);var dt=lt.HIERARCHY_REQUEST_ERR=(ut[3]="Hierarchy request error",3);lt.WRONG_DOCUMENT_ERR=(ut[4]="Wrong document",4),lt.INVALID_CHARACTER_ERR=(ut[5]="Invalid character",5),lt.NO_DATA_ALLOWED_ERR=(ut[6]="No data allowed",6),lt.NO_MODIFICATION_ALLOWED_ERR=(ut[7]="No modification allowed",7);var ct=lt.NOT_FOUND_ERR=(ut[8]="Not found",8);lt.NOT_SUPPORTED_ERR=(ut[9]="Not supported",9);var ht=lt.INUSE_ATTRIBUTE_ERR=(ut[10]="Attribute in  "+t),n}functiinc=t}}functiull)}}function bt(){}functi,t}function wt(e){return e&&e.nodeType===Et.DOCUMENT_TYPE_NODE}function Lt(e){return e&&e.nodeType===Et.ELEMt}function Bt(){this._nsMap={}}function Ft(){}function jt(){}function Vt(){}function qt(){}function Ht(){}function Wt(){}function Gt(){}function Yt(){}function Kt(){}function zt(){}function Xt(){}functi]=n}lt.INVALID_STATE_ERR=(ut[11]="Invalid state",11),lt.SYNTAX_ERR=(ut[12]="Syntax error",12),lt.INVALID_MODIFICATION_ERR=(ut[13]="Invalid modification",13),lt.NAMESPACE_ERR=(ut[14]="Invalid namespace",14),lt.INVALID_ACCESS_ERR=(ut[15]="Invalid access",15),pt.prototype=Error.prototype,Ke(lt,pt),ft.prototype={lengt]||null},oin("")},filter:function(e){return Array.prototype.filter.call(this,e)}this,e)}},mt.prototthis[e]},ze(mt,ft),vt.prototype={length:0,item:ft.prototype.item,getNturn n}},setN,e,n),n},setNam,e,t),t},removeNis,t),t},removeNamis,n),n},getNamrn null}},bt.prototype={hasFeature:function(e,t){return!0},createeturn i},createDocun||"",i}},Et.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,inseis,e,t)},replhild(t)},remthis,e)},appe,null)},hasChstChild},cthis,e)},n),e=t)}},isSre(e,t)},hasAtength>0},lookrn null},lookupNamern null},isDefaultNefix(e)}},Ke(Xe,Et),Ke(Xe,Et.prototype),Ct.prototype={nodeName:"#document",nodeType:rt,doctype:null,documentElement:null,_inc:1,insent=e),e},remthis,e)},replment=e)},imis,e,t)},getEle!0})),t},getElementsByC)),i}))},creatent=t,t},createDocumentew ft,e},createTextNode:function(e){var t=new Vt;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new qt;return t.ownerDocument=this,t.appendData(e),t},createCDATta(e),t},createProcessingInsata=t,n},createAed=!0,t},createEntityRame=e,t},createEent=n,n},createAttame=t,n}},ze(Ct,Et),Bt.prototype={nodeType:Qe,hasANode(e)},getAlue||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setANode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appthis,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttribuemNS(e)},removeAttrideName)},removeAttNode(n)},hasAttNS(e,t)},getAttlue||""},setAttNode(i)},getAttribuNS(e,t)},getElementsB)),n}))},getElementsByT)),i}))}},Ct.prototype.getElementsByTagName=Bt.prototype.getElementsByTagName,Ct.prototype.getElementsByTagNameNS=Bt.prototype.getElementsByTagNameNS,ze(Bt,Et),Ft.prototype.nodeType=$e,ze(Ft,Et),jt.prototype={data:"",subst(e,e+t)},ap.length},in(e,0,t)},apput[dt])},dee,t,"")},rep.length}},ze(jt,Et),Vt.prototype={nodeName:"#text",nodeType:Je,sling),i}},ze(Vt,jt),qt.prototype={nodeName:"#comment",nodeType:it},ze(qt,jt),Ht.prototype={nodeName:"#cdata-section",nodeType:Ze},ze(Ht,jt),Wt.prototype.nodeType=at,ze(Wt,Et),Gt.prototype.nodeType=ot,ze(Gt,Et),Yt.prototype.nodeType=tt,ze(Yt,Et),Kt.prototype.nodeType=et,ze(Kt,Et),zt.prototype.nodeName="#document-fragment",zt.prototype.nodeType=st,ze(zt,Et),Xt.prototype.nodeType=nt,ze(Xt,Et),Qt.prototype.serialize(e,t,n)},Et.prototype.toString=$t;try{if(Object.defineProperty){Object.defineProperty(mt.prototype,"leng$length}}),Object.defineProperty(Et.prototype,"textConte}(thalue=$"+t]=n}}}catch(e){}var nn={DocumentType:Wt,DOMException:pt,DOMImplementation:bt,Element:Bt,Node:Et,NodeList:ft,XMLSerializer:Qarget:"‚åñ",Tau:"Œ§",tau:"œÑ",tbrk:"‚é¥",Tcaron:"≈§",tcaron:"≈•",Tcedil:"≈¢",tcedil:"≈£",Tcy:"–¢",tcy:"—Ç",tdot:"‚Éõ",telrec:"‚åï",Tfr:"ùîó",tfr:"ùî±",there4:"‚à¥",Therefore:"‚à¥",therefore:"‚à¥",Theta:"Œò",theta:"Œ∏",thetasym:"œë",thetav:"œë",thickapprox:"‚âà",thicksim:"‚àº",ThickSpace:"‚Åü‚Ää",thinsp:"‚Äâ",ThinSpace:"‚Äâ",thkap:"‚âà",thksim:"‚àº",THORN:"√û",thorn:"√æ",Tilde:"‚±",timesd:"‚®∞efined"),n.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),i)}for(var o,l=++t,u=0;;){vstartPrefixMapping(c,l))}f(s.uri=n[,d,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=r,!0;if(t.endElement(p,d,i),r)for(u in r)Object.prototype.hasOwnProperty.call(r,u)&&t.endPrefixMapping(u)}function fn(e,t,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var a=e.indexOf("</"+n+">",t),s=e.substring(t+1,a);if(/[&<]/.test(s))return/^script$/i.test(n)?(r.characters(s,0,s.lengthTA(),n.characters(e,t+n.prototype={parse:function(bject.hasOwnPo(f),i.charth,c.lineNumber++;cl+1}var l=0,u=0,d=/.*(?:\r\n?|\n)|.*$/g,c=i.locator,h g=i.doc,v=g.createT));g.append=m+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),r.error("end tag name: "+_+" maybeap,E=T.t b)Object.prototype.hasOwnProperty.call(b,A)&&i.endPrefixMapping(A);E||r.fatalErrfault:c&&o(m);var S=new _n,C=h[h.length-1].currentNSMap,I=(y=hn(e,m,S,C,a,r),S.lerning("uncl,{}),k=0;k<I;k++){var w=S[k];o(w.offset),w.locator=cn(c,{})}i.locator=P,pn(S,i,C)&&h.push(S),i.locator=c}else pn(S,i,C)&&h.push(S);an.isHTML(S.uri)&&!S.closed?y=fn(e,y,S.tagNamor("element parse error: "+e),y=-1}y>f?f=y:s(Math.max(m,f)+1)}}(e,t,n,i,this.e={e].fun,geplee){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function In(e){this.options=e||{locator:{}}}function Pn(){this.cdata=!1}function kn(e,(e,unction a(t&(o[""]=rrenthier=place(/\w+/g,(function(e){Pnn=ni]=edurce,i=r=vtimrn l,s=e.sidx.duration,o=e.timeline||0,l=e.sidx.byterange,u=l.offset+l.length,d=t.timescale,c=t.references.filter((function(bigenggIn,ti"vi.attributes,l=o.sourceDuration,u=o.type,,enuncmail||E:n=1,,A=E.map((function(e){return e.timelineStarts}));return g.timelineStarts=Jn(A)tion(t){return t.timeline===e.timeline})),e.segments&&e.segments.forEach((function(e,t){e.number=t}))})),T&&(g.mediaGroups.AUDIO.audio=T),b&&(g.mediaGroups.SUBTITLES.subs=b),m.length&&(g.mediaGroups["CLOSED-CAPTIONS"].cc=m.reduce((function(e,t){return t?(t.forEach((function(t){var n=t.channel,i=t.language;e[i]={autoselect:!1,default:!1,instreasyReader")&&(e[i].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[i]["3D"]=t["3D"])})),e):e}),{})),s?ti({oldManifest:s,newManifest:g}):g},hi=function(e,t,s=e.timescale,o=void 0===s?1:s,l=e.periodStart,u=void 0===l?0:l,d=e.minimumd?0:d)-(a+u);return Math.ceil((c*o,u=void 0===l?1:l,d=e.startNumber,c=void 0===d?1:d,h=e.periodStart,p=[],f=-1,m=0;m<t.length;m++){var g=t[m],v=g.d,y=g.r||0,_=g.t||0;f<0&&(f=_),_&&_>f&&(f=_);var T=void 0;if(y<0){var b=m+1;T=b===t.length?"dynamic"===n&&r>0&&s.indexOf("$Number$")>0?hi(e,f,v):(o*u-f)/v:(t[b].t-f)/v}else T=urn0,t?/.urntBureai,initialization:Ai(lRL""),i=n[0],r=n[1];"lan:c}engg.map(function(e,t,n){return function(i){var r=_i(i,"BaseURL"),a=Ci(t,r),s=Nn(e,Ai(i)),o=Ii(i);return a.map((function(e){return{segmentInfo:Nn(n,o),attributes:Nn(s,{baseUrl:e})}}))}}(u,s,v)))}},ki=function(e,t){return function(n,i){var r=Ci(t,_i(n.node,"BaseURL")),a=Nn(e,{periodStart:n.attributes.start});"number"==typeof n.attributes.duration&&(a.periodDuration=n.attributes.duration);var s=_i(n.node,"AdaptationSet"),o=Ii(n.node);return Mn(s.map(Pi(a,r,o)))}},wi=function(e){if(""===e)throw new Error(jn);var t,n,i=new Dn;try{n=(t=i.parseFromStrin.ma.lecliionInfo:Mn(p.map(ki(c,h)))}}(wi(e),t),i=n.represen(n.:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Wn)}return n}(wi(e))},Di=Math.pow(2,32),Oi=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.getBigUint64?(t=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:n.getUint32(0)*Di+n.getUint32(4)},Ni=function(e){var t=new DataView(e.buffer,e.byteOf)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},i=12;0===nt32eren647&t.),startsWithSap:!!(128&e[i+8]),sapType:(112&e[i+8])>>>4,sapDelt:n})?],i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&n)>>4?i+20:i+10}(t,n),e(t,n))},Ui=function(e){returi&&(i)):[Ut[a]<<24|t[a+1]<<16|t[a+2]<<ar l=a+s;if(l>t.length){if(i)break;l=t.lengu):r.push.apply(r,e(u,n.sli,12,734,1racuration:Re([35,22155]),Block:Re([16.length&&!(e&ji[n]);n++)t++r r=0;r<t.les.vvalue,u=t.subarray(o,l);Ue(n[0],a.bytes)&&(1===n.length?i.push(u):i=i.concat(e(u,n.slice(1)))),r+=a.length+s.length+u.length}return i},Gi=Re([0,0,0,1]),Yi=Re([0,0,1]),Ki=Re([0,0,3]),zi=function(e){for(var t=[],n=1;n<e.length-2;)Ue(e.subarray(n,n+3),Ki)&&(t.push(n+2),n++),n++;if(0===t.length)return e;var i=e.length-t.length,r=new Uint8Array(i),a=0;for(n=0;n<i;a++,n++)a===t[0]&&(a++,t.shift()),r[n]=e[a];return r},Xi=function(e,t,n,i){void 0===i&&(i=1/0),e=Re(e),n=[].concat(n);for(var r,a=0,s=0;a<e.length&&(s<i||r);){var o=void 0;if(Ue(e.subarray(a),Gi)?o=4:Ue(e.subarray(a),Yi)&&(o=3),o){if(s++,r)return zi(e.subarray(r,a));var l=void 0;"h264"===t?l=31&e[a+o]:"h265"===t&&(l=e[a+o]>>1&63),-1!==n.indexOf(l)&&(r=a+o),a+=o+("h264"===t?1:2)}else a++}return e.subarray(0,0)},Qi={webm:Re([11return function(e,t,n){return Xi(e,"h265",t,n)}(e,[32,33],3).lfault=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(sr);var or=n((function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.expor!or(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");ir(thie)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}))),dr={},cr=function(e,t){return dr[e]=dr[e]||[],t&&(dr[e]=dr[e].concat(t)),dr[e]},hr=function(e,t){var n=cr(e).indexOf(t);return!(n<=-1)&&(dr[e]=dr[e].slice(),dr[e].splice(n,1),!0)},pr={prefixed:!0},fr=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullr","-moz-full-screen"],["msRequestFullscr}catch(e){return!0}}function ta(e){return function(t,n){if(!Qr(t))return l[e](null);Qr(n)&&(n=l.querySelector(n));var i=Zr(n)?n:l;return i[e]&&i[e](t)}}function na(e,t,n,i){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={});var r=l.createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(_r.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(ion sa(e,t){return e.classList?e.classList.add(t):aa(e,t)||(e.className=(e.cllas(funcn(" ")),e):(_r=e.attributes,r=i.length-1;r>=0;r--){var aof e&&/\S/.test(e)?l.createText for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=functiakMventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNamfunction Va(e,t,n,i){n.forEach((function(n){e(t,n,i)}))}function qa(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStoppeitMovementY"!==r&&"pa.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=functiisPropa)},Lef&s.ttoray(i.);s[t].lenent("on"+t,i.dispatcher)}function Ga(e,t,n){if(Fa.has(e)){var i=Fa.get(e);if(i.handlers){if(Array.isArray(t))return Va(Ga,e,t,n);var r=function(e,t){i.handlers[t]=[],ja(e,t)};if(void 0!==t){var a=i.handlers[t];if(a)if(n){if(n.guid)for(var s=0;s<a.length;s++)a[s].guid===n.guid&&a.splice(s--,1);ja(e,t)}else r(e,t)}else for(var o in i.handlers)Object.prot.taray.isAr:n(e,t){Ga(this,e,t)},Za.png"==typeof e&&(e={type:t}),e=qa(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Ya(this,e)},Za.prototype.dispatchEvent=Za.prototype.trigger,Za.prototype.queueTrigger=function(e){var t=th.triggrn"function"==typeof e[ent type for "+es(t)+"#=tty=function(){if(this.player()&&this.player().reportUserActivity){var e,t=$a(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(e,t){var n,i=this;return e=$a(this,e),this.clearTimersOnDispose_(),n=a.setTimeout((function(){i.setTimeoutIds_.has(n)&&i.setTimeoutIds_.delete(n),e()}),t),this.setTimeoutIds_.add(n),n},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),a.clearTimeout(e)),e},t.setInterval=function(e,t){e=$a(this,e),this.clearTimersOnDispose_();var n=a.setInterval(e,t);return this.setIntervalIds_.add(n),n},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),a.clearInterval(ee=$a(nimturhisppendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}f(t,e);var n=t.prototype;return n.createEl=funying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=fu",{contse"ctiveElaElemenange"]=null;var Ns=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},xs=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].enabled){Ns(t,t[i]);break}return(n=e.call(this,t)||this).changing_=!1,n}f(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.enabled&&Ns(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=functelectedionelek=f",t.selectedChange_),t.selectedChange_=null)},t}(Ds),Bs=function(e){function t(){return e.apply(this,argue","length",{get:f={}),n=e.call(this)||this;var i={id:t.id||"vjs_i[e]},set:functlabelchan)),i.protocounction(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,functio+t.src){if("vttjserror"!==e.type)return $s(i,t);_r.error("vttjs failed to load, stopping trying to process "+t.src)})):$s(i,t)})))},Zs=function(e){function t(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var i=fs(t,{kind:Hs[t.kind]||"subtitles",language:t.lan==i.kind&&"chapters"!==i.kind||(r="hidden"),(n=e.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var s=new js(n.cues_),o=new js(n.activeCues_),l=!1;n.timeupdateHandler=$a(h(n),(function(e){void 0===e&&(e={}),this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1),"timeupdate"!==e.type&&(this.rvoFrameCallback(this.timeupdateHandler),this.tech_..timeupdateHandler)ime,e.endTime,e.textis&&i[r].removeCs);Zs.prototype.allunction(e){==t&&(t={});var i= r=!1;return Object.defineProperty(h(n),"enabled",{get:function(){return r},set:function(e){"boolea(Gs),to=function(e){funion(){return r},set=e.call(this)||this;var r=h(n),{readn f(t,e),t}(Zaass:to,capitalName:"Videe+"Tracks",io[e].privateName=e+"Tracks_"}));var ro={remoteText:{ListClass:Bs,TrackClas"},remoteemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},ao=mes);var so=function(entTime(e)},i.stopTtion(e){!1===t["natiange_),this.manerval($a(this,(function(ss"),this.bufferedPerlTimeUpdatesOff=functionl&&this.stopTrackingCurrenimeInterval=this.setInterved:!0})}),250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:n.clearTracks=function(e){v];"text"===e&&t.removeRemoteTextTrack(r),n.removeTrack(r)}}))},n.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(e){returnr_},n.played=fu.getterNamdy.contains(this.el())){is_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),a.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this..addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==t&&this.ready((function(){return n.au},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must hh=funcName]||new t.ListClass,this[t.privateName]}})),so.}))}else u.length?e(t,u,i,r,a,s):s?i(t,a):e(t,oo["*"],i,rg+xml",webp:"image/webp"},yo=function(e){void 0===e&&(e="");var t=zs(e);return vo[t.toLowerCase()]||""};function _o(e){if(!e.type){var t=yo(e.src);t&&(e.type=t)}return e}var To=function(e){function t(t,n,i){var r,a=fs({createEl:!1},n);if(r=e.call(this,t,a,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var s=0,o=n.playerOptions.techOrder;s<o.length;s++){var l=puseOu(e,t,n){try{e.style[t]=n}catch(e){return}}var Io=functie",s),a.addEventListener("orientationchange",s),t.on(mic":"true"})},n.clearDisplay=function(){"funcolor",So(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(s.firstChild.style.background, 3px 3px #222":"depressed"===t.edgeStyle?s.firstConent("TextTrackDisplay",Io);var Po=function(e){function t(){return e.apply(this,acreate,dir:"lay-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var n=t}else this.player_.tech(!0).focus()},n.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},n.handleMouseldCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){c.isEvention(e){return i.handlePause(e)})),n.replay&&i.on(trolText("Play")},n.handleEnded=function(e){var t=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),thime-control vjs-control"}),i=na("span",{className:ime"},n.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?thexty behind live"))},n.handleClick=function(){thtio)},n.disable=function(){if(this.enabled()){var e=this.ownerDocument;"mousedown"===e.type&&e.preventDefauer("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseM(),0,1).toFixed(4))},n.calculateDistance=function(e){var t=ya(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeault(),t.stopPropagation(),this.stepBack()):c.isEvern n.createEl=functijs-control-text-lo.appendChild(this.progressBar#bufferedEjs-time-tooldth-a+(r.right-e.r="-"+l+"px",ttion();if(r.player),i&&i()}))},t}(_sr_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,i)}},t}(_s);Ko.prototype.options_={childrenessBar",Ko);var .update=functiild("timeToidth*t+"px"}))},t}(_s);zo.prototype.options_={children:["timeTooltip"]},_s.registerComponent("MouseTimeDispAnimationFs.updateInterval=null)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(t){var n=this;if("hidden"!=r_.currentTime()-5)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.play.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in l&&"visibilityState"ifunction(e){return i.handleMouseDown(e)},i.enable(),i}f(t,e);var n=t.prototype;return n.create).x;s=qo(s,0,1),i&&i.update(a,s),n&&n.update(a,t.gart"],this.handleMouseDownHandler_),this.on(this.el_,"mourDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this_.requestPictureInPicture()},t}(ko);$o.prototype.controlText_="Picture-in-Picture",_s.registerComponent("PictureInPictureToggle",$o);var Jo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"fullscreenchange",(funccall(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t,n){var i=this,r=100*t;this.er_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),thlume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{clturn i.handleVolumeControlKeyUp(e)})),i.on(e=0:e>=t.length&&(e=t.length-1),this.focusedChild0;var a=function(e){return i.handleClick(e)};return i.handleMenuKeyUp_=function(e){return i.ha.length;i++)e.addItem(this.items[i]);return e},el_.setAttribute("aria-expanded","true"),Kr&&ea())returnack",a),r.removeEventListener("addtrack",a),r.removeEventLieturn r.replaceChild(na("span",{className:"vjs-menu-it_.setAttribute("aria-checked","true"),this.controlText(", seanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototyp.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var a=t[i];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&"showin;void 0===e&&(e=[]),void 0===t&&(t=cl),this.label_&&(n=this.label_+" off"),e.push(new hl(this.player_,{kinds:this.kinds_,kackButton",pl);var fl=function(e){function t(t,n){var i,r=n.trototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapHandler_=this.update.bind(this)),this.track_){var t=thi this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return en,i)||this}f(t,e);var n=t.prototype;return n.buildCSSClasack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return f(t,e),t.prototype.var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.playerh,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(h(i),t)};return a.addEventLisChild(na("span",{className:"vjs-control-text"Change=function(e){this.selected(this.track.enabled)},t}(dCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var i=t[n];e.push(new El(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e},t}(ll);Al.prototype.controlText_="Audio Track",_s.registerComponent("AudioTrackButton",Al);var Sl=fucall(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(dl);Sl.prototype.contentElType="button",_s.registerComponent("PlaybackRateMenuItem",Sl);var Cl=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).menuButton_.el_.setAttribute("aria-describedby",i.labelElId_),i.updateVisibility(),i.updateLabel(),i.on(t,"loadstart",(function(e){return i.updateVisibility(e)})),i.on(t,"ratechange",(function(e){return i.updateLabel(e)})),i.on(t,"playbackrateschange",(function(e){return i.handlePlaybackRateschange(e)})),i}f(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=na("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){for(var e=this.playbackRates(),t=[],n=e.length-1;n>=0;n--)t.push(new Sl(this.player(),{rate:e[n]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){var t=this.player().playbackRate(),n=this.playbackRates(),i=(n.indexOf(t)+1)%n.length;this.player().playbackRate(n[i])},n.handlePlaybackRateschange=function(e){this.update()},n;return e.playbackRates&&e.playbackRates()||[]},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e)t=this.player().playbackRate()+"x")},t}(ol);Cl.prototypebel),"</"+n+">",'<select aria-labelledby="'+s+'">'].concieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legenturn i.handleFirstTimeupdate(e)},i.handleSeeked_=funce"in l&&i.on(l,"visibilitychange",i.handleVisn n.e_?0:auserval_=this.setInterval(this.trackLiveHupdalayergInime.isScrubbing_},n.setCu)}},n.duration=fudate",(function&&e.trigger("duraturn this.el_.duratiange",{isFullscres.el_.webkitPresentationMoispose",(function(){e.offE_METADATA)Ps(this.el_.play({e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}),0);else try{e.webkitEnterFullScllScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.requestVideoFrameCallback=function(t){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(t):e.prototype.requestVideoFrameCallback.call(this,t)},n.cancelVideoFrameCallback=function(t){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(t):e.prototype.cancelVideois.setSrc(e)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(t,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,i):e.prototype.addTextTrack.call(tt.srclang)&&(n.srclang(t,n){var i=e.prototype.addRemoteTextTrack.can=this.$$("track"),i=eoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCounroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCounng&&"number"==typeof a.performance.timing.navigationStart&&(e.creationTime=a.Date.now()-a.performance.timing.navigationStart),e},t}(so);eu(tu,"TEST_VID",(function(){if(Jr()){var e=l.createElement("video"),t=l.createElement("track");return t.kind="captiotu.isSupported=function(){try{tu.TEST_VID.volume=.5}catch(e){return!1}return!(!tu.TEST_VID||!tu.TEST_VID.canPlayType)},tu.caySource=function(e,t){return tu.canTEST_VID.volume;tu.TEST_VID.volume=e/2+.1;var t=e!==tu.TEST_VID.volume;return t&&Kr?(a.setrol=e!==tu.TEST_VID.volume)})),!1):t}cVID,"muted"),e!==tu.TEST_VID.muted}claybackRate=function(){if(Nr&&Fr&&jr<58)return!1;try{var e=tu.TEST_VID.playbackRate;return tu.TEST_VID.playbackRate=e/2+.1,e!==tu.TEST_VID.playbackRate}catch(e){return!1}},tu.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(l.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(l.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(l.createElement("video"),"innerHTML",{get:e,}catch(e){return!1}return!0},tu.supportsNativeTextTracks=function(){return zr||Kr&&Fr},tu.supportsNativeVideoTracks=function(){return!(!tu.TEST_VID||!tu.TEST_VID.videoTracks)},tu.supportsNativeAudioTracks=function(){return!(!tu.TEST_VID||!tu.TEST_VID.audioTracks)},tu.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(e){var t=e[0],n=e[1];eu(tu.prototype,t,(function(){return tu[n]()}),!0)})),tu.prototype.featuresVolumeControl=tu.canControlVolume(),tu.prototype.movingMediaElementInDOM=!Kr,tu.prototype.featuresFullscreenResize=!0,tu.prototype.featuresProgressEvents=!0,tu.prototype.featuresTimeupdateEvents=!0,tu.prototype.featuresVideoFrameCallback=!(!tu.TEST_VID||!tu.TEST_VID.requestVideoFrameCallback),tu.patchCanPlayType=function(){xr>=4&&!Ur&&!Fr&&(Kl=tu.TEST_VID&&tu.TEST_VID.constructor.prototype.canPlayType,tu.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":Kl.call(this,e)})},tu.unpatchCanPlayType=function(){var e=tu.TEST_VID.constructor.prototype.canPlayType;return Kl&&(tu.TEST_VID.constructor.prototype.canPlayType=Kl),e},tu.patchCanPlayType(),tu.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},tu.resetMediaElement=functce"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){tu.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].tribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){tu.prototype[e]=function(){return this.el_[e]reload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){tu.prototype["set"+ps(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){tu.prototype[e]=function(){return this.el_[e]()}})),so.withSourceHandlers(tu),tu.nativeSourceHandler={},tu.nativeSourceHandler.canPlayType=function(e){try{return tu.TEST_VID.canPlayType(e)}catch(e){return""}},tu.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return tu.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=zs(e.src);return tu.nativeSourceHandler.canPlayType("video/"+n)}return""},tu.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},tu.nativeSourceHandler.dispose=function(){},tu.registerSourceHandler(tu.nativeSourceHandler),so.registerTech("Html5",tu);var nu=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],iu={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seer t="x"===e.charAt(0)?"x-"+e.substring(1):e;au[e]="vjs-layout-"+t}));var su={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},ou=function(e){function t(n,i,r){var a;if(n.id=n.id||i.id||"vjs_video_"+Ua(),(i=Sr(t.getTagSettings(n),i)).initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof n.closest){var s=n.closest("[lang]");s&&s.getAttribute&&(i.language=s.getAttribute("lang"))}else for(var o=n;o&&1===o.nodeType;){if(da(o).hasOwnProperty("lang")){i.language=o.getAttribute("lang");break}o=o.parentNode}if((a=e.call(this,null,i,r)||this).boundDocun(e){return a.documentFurn a.fullWindowOnEscKey(e)},a.boundUpdateStyleEl_=function(e){return a.updateStylchange,a.bounds).forEach((function(e){a[e](i.plugins[e])})),i.debug&&a.debug(,a.playbackR,a.localorUserA,a.on("languaga}f(t,e);var n=t.entNode.hasA"+this.id():thh_:thish_&&this.unloadTech_();var ihis.id(),techId:this.id()+"_"+rt:this.options_.ena[r]),Sr(s,this.options_),!0),Ls(this.textechWaiting_(e)})),thisreInPicture_(e)})),this()||"Html5"==this.textTracksJsois.isPosterFromTech_=!1}veTechControlsListenechmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(thiionChange_()},n.hans.error(null),this..autoplay()&&this.options_.noplay_=function(e){s.play())&&(n=n.catch(i))eturn n[0].type;fa=i[r];if(a.type&&a.src&his.cache_.source=fs({}unction(e){return e.sro=0;o<a.length;o++){==t&&s.push(l.src)}s.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourcestion(){}),n(r),e.src||this.tec,this.trigger({src:e.src,type0===e)return this.hasStarted_;e.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs.hasStarted(!0),thn(){this.tech_.playbac){return e.callback(e.event)})),this.queuedCallbacks_=[] n(){t!==e.cugh")},n.har("firspause")}of this.options_.userActioDoubleClick_=functioget)}))||void 0!==this.options_&&void 0!==this.optionons.doubl(void 0!==thitFullscreen()gleFullscreenClass-fullscreeor(":"+this.fsAplscreenChange_=function),this.tech,this.isFullscreenn(e,t){this.trure()?thinPicturedleTechTextDataunction(){retuTimeout:this.options_te:this.default);if(e in mo)return )throw _r("Video.js: "+e+" his.changingSrc_&r_(),null===r?this.runPlayTerminatedQueue_this.scrubbing_=!!e,te=function(e){retplyInitTime_),void this.onn(e){if(void 0===e)retu=e,e===1/0?this.addClass("()-this.currentTime()},or(this.currentTtechCall_("setVoreen=function(nHelper_(e);o&&nction(){var OnEscK.docOri!!e,voi()):!!thhGet_("requme.toLowerCase();if(eadio","reset","submi,e):this.handleHotkeyctions.hotkeys:{},entKey(e,"f")}:n,turn c.isEventKecall(this,e)){e.preventDefault(),e.stopPropagation();var u=_s.getComponent("FullscreenToggle");!1e)}else if(a.call(this,e)){e.preventDefault(),e.stopPropagation(),_s.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(o undefined. Sktion(e)+'" tech =function(e,t){var i=e[0];eturn this.,n.src_(e))return i.leeSrc_(i.rn e.doReset_()})))},his.tech_.cleaybackRate_=function(){thlay",t)},n.playthis.techCall_("setLoohis.techCaange"))},n.handleTechols()&&this.techCall_(s.removeClass("vy(i)||"string"==typeof i||"number"==typeof i||null===i?e=i:t.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppress(["click","touchstn.userActive=furActive_){if(this.usess("vjs-user-inactive"),n(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivityearIntervalcreenY,i())}"controlBr().options_.ihe_.inactivityTimeout}))),tvity_||this.userActive(!1)}resPlaybackRaturn void 0!==dren(),n=this.getChild("ControlBar"),i=n&&n.currentHeight();t.forEach((function(tt.hide(),e.aht),this.trh(this.exitFullscs.tech_&&this.tech_)udio-pos(!1).then((functvoid this.enablePosterModech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),ts(this)&&this.trigger("languagechange"))},n.languages=function(){return fs(t.prototype.options_.languages,this.languages_)},n.toJSON=function(length;n++){vavar n=this;(t=t||{}).content=e||"";var i=new Rs(this,t);return this.addChild(i),i.on("disposen()s.cts_hises=function(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every((function(e){replaybackrateschange"))}unction(e){vanded","seeking","seekable","networkrEach((funct)+"_"]=function(){return this.trigger(e)}})),_s.registerComponent("Player",ou);var uu={},du=function(e){return uu.hasOwnProperty(e)},cu=function(e){return du(e)?uu[e]:void 0},hu=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},pu=function(e,t,n){var i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},fu=function(e,t){return t.prototype.name=e,function(){pu(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,i=neuctor===e)throw n=this.player.log.createLogger(this.name)),us(this),delete this.trigger,cs(tION},t.getEventHash=function(e){return void 0===e&&(e={}),e.ntance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),Ya(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=fu(e,uu[e])},e.isBasic=function(t){var n="stion"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(du(t))_r.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(ou.prototype.hasOwnPr=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof n+".");return uu[t]=ns,arguments);return hu(this,e),pu(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(t,n):ou.pro,n},e.deregisterPlugin=function(e){if("plugin"===e)throw new Error("Cannot de-register base plugin.");du(e)&&(delete uu[e],delete ou.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(uu)),e.forEach((function(e){var n=cu(e);n&&((t=t||{})[e]=n)})),t},e.getPluginVersion=function(e){var t=cu(e)(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},ou.prototype.hasPlugin=function(e){return!!du(e)};var gu=!1,vu=function(e){return 0===e.indexOf("#")?e.slice(1):e};function yu(e,t,n){var i=yu.getPlayll r))e e&&(js-:_rrn )),return hr(e,n),t.apply(vo),xou.rn turcti{reu.gr,yggeo,[oveuteh((Proponar  t=[],n=0;n<e.length;n++)t.push({start:e.sturn e.end(e.length-argetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targeegments.length),t<e.mediaSequence)return 0;sult:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(voetutarentrn{ALUE;return 0===e.playlists.filter((func n)elaxacr(vsabe:fw Error("Cannot switch media playlisll,uesuesRed{pl"==Timate?this.media_?this.state="HAVE_METADATdateTimeout),this.mediaUpdateTimeout=null);var n=this.media();if(e){var i=n?(n.partTargetDuration||n.targetDuratioetTimeout((&!n.ei()<12ar i=0,r=0;r<t.segments.length&&!(e<=(i=(n=ge:y a({mt bents.length)retund in the stream"});var h=c.segment,p=function(eion(){e({programTimeturn s(e,turn!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!tr.uri)reediaGroups[t][nl:r},Od=),(a=e.a.loggerypeof e||e instan,a){if(t)return o(t,n);ifeout),this.med&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof e){if(!this.masterPlaylistLoader_.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.masterPlaylistLoader_.master.playlists[e]}var i=!this.media_||e.id!==this.media_.id;if(i&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));i&&(this.media_&&this.t.mediaUpdateTimeout)his.state&&(thlaylist"):this.sponseText!==t.masterPlaylistLoader_.masterXml_;return t.masterPlaylistLoader_.masterXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?t.masterLoaded_=Date.parse(i.responseHeaders.date):t.masterLoaded_=Date.now(),t.masterPlaylistLoader_.srcUrl=Eu(t.handleManifestRedirects,t.masterPlaylistLoader_.srurntLot){w(),e();var a;a="HEAD"===n.met:this.masterPlaylidxMapping:r,previousManifest:a}),td(s,n,Rd),s);o&&(l=Dd(o,l,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=l||o;var u=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return u&&u!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=u),(!o||l&&l.minimumUpdatePeriod!==o.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(l)},n.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodf(!edLfu1,_Vurioewre){()nca=){(tio,vrC0,leE.in=2,0rr=fs||[],s=[],o=[];for(n=0;n<r.length;n++)s.push((65280&r[n].byte((60,1ple.fldio,t(0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),vi|r6,ffnTction(e,n){var i,r,a,s,o,l;for(n+=20+8*(s=e.samples||[]).length,a=j(s,n),(i=new Uint8Array(a.length+8*s.length)).set(a),r=a.length,l=0;l<s.length;l++)oon(0,dosi0,r.nalCo(i.paratitio;foint8Array(l+4*u),c=new DataView(d.buffer);for(t=0;t<e.length;t++)for(r=e[t],n=0;n<r.length;n++)for(a=r[n],i=0;i<a.length;i++)s=a[i],c.setUint32(o,s.data.byteLength),o+=4,d.set(s.data,o),o+=s.data.byteLength;return d},le=[33,16,5,32,164,27],ue=[33,65,108,e(268),[55,175,128],de(108(e,t,n,i){var r,a,s,o,l,u=0,&&(u=r-Math.max(n,i),c=(d,Te=function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i},be=function(e){var t,n,i=0,r=new Uint8Array(ffunction(e){delete e.minSegmentDts=e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.s),void 0===e.maxSegmentPts?e.max(void 0===e.timelineStartInfo.dts&SegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},Ie=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t+],harCode(e[t+3],e[t+=[];if(!(64&t[0]))ret3&t[(r=3*n)+2],pts:e},4h(a));return s},we=fuction e(t){t=t||{},e.ions||t.parse708captiams_=[new Ve(0,0),new VService)),e.on("done",thim_.on("partialdone",this.triggn("done",this.trigger.bind(thisualDts_.forEach((function(e,t){e.presortIndex=t})),tthis.captionPackets_.forECCStreams(e)},Re.prototype.numSameDts_=0,this.activeCea60:32,4129:160,4133:8230,4138:35159:376,4214:8539,42,4222:9126,4223:9121,4256this.visible=0,this.rowLe=function(e){for(this.rows.leng),this.rowIdx++);this.rows.lention(){return 0===this.rowor(var n=0;n<8;n++)this.windows[nwith "+e+" encoding. "+t})}}this.serviceEncodings=a,t.add708Bytes(e))}};Me.prototype=new V,Me.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Me.prototype.add708Bytes=function(e){varh708Packet=function(){var epushServiceBlock(n,r,i),i>0&&(r+=i-1)},Me.prototype.pushServiceBlock=function(e,t,n){var i,r=t,a=this.current708Packet.data,s=this.services[e];for(s||(s=this.initService(e,r));r<t+n&&r<a.length;r++)i=a[r],Oe(i)159?r=this.defineWindow(r,s):1):145===i?r=this.setPenCo&&(e=this.handleText(e,t,{isn="SERVICE"+e)in tht(this.getPts(t),(function(t){r.flushDisplayed(t,r.services[e])})),this.services[e]},Me.prototype.handleText=function(e,t,n){var i,r,a,s,o=n&&n.isExtended,l=n&&n.isMultiByte,u=this.current708Packet.data,d=o?4096:0,c=u[e],h=u[e+1],p=t.currentWindow;return t.textDecoder_&&!o?(l?(r=[c,h],e++):r=[c],i=t.textDecoder_.decode(new Uint8Array(r))):(s=De[a=d|c]||a,i=4096&a&&a===s?"":String.fromCharCode(s)),p.pendingNewLine&&!p.isEmpty()&&p.newLine(this.getPts(e)),p.pendingNewLine=!1,p.addText(i),e},Me.prototype.multiByteCharacter=function(e,t){var n=this.current708Packet.data,i=n[e+1],r=n[e+2];return Oe(i)&&Oe(r)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},Me.prototype.setCurrentWindow=function(e,t){var n=7&this.current708Packet.dation(e,t){var n=this.current708Packet.data,i=n[e],r=7&i;t.setCurrentWindow(r);var a=owLcity=(192&i)>>6,r.bgRed=(48&i)>>4,r.bgGreen=(12his.getPts(e);retur311:9834,312:224,313:160,3,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],je=function(){for(var e=[],t=15;t--;)es.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstantsf((t=32639&e.ccData=t:t!==this.PADDING_&&(this.PADDING_)if(t===this.R"popOn";else if(t===thithis.ROLL_UP_4_ROWS_)this.rwsUp_(),this.startPts_=e.pts;his.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=je();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=je();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==Character(i,r))"popOn,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=Be((i=(3&i)<<8)|r),this[this.mode_](e.pts,a),this.column_thi1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),a=Be(i),a+=Be(r),this[this.mode_](e.pts,a),this.column_+=a.length)}else this.lastContype.flushDisplayed=function(e){var t=this.displayed_.map((funclengt.star.protw_),this.topRow_=t-this.rollUpRows_+1},Ve.prottotype.shiftRowsUp_=fl=Qe(e.data,t+1,e.data.length);break}},PRIV:function(e)Length&&(e.set(i.subarray(r),0),t=i.byteLength-r)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new V,(tt=function(){var e,t,n,i;tt.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(s.packetsWaitingForPmt.push([t,i,n]):thinit,"video"),s(r,"audio"),s(a,"timed-metadata")},this.flush=function(){if(!n&&e){var i={type:"metadata",tracksar e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsigit.nt8=n+5;break}for(;e<a;subarray(n+3,e-2)),n=e-2,e+=3;bre=0,this.trflush(),this.tri!0,134:!0},(ct=funpedRBn[a]=e[s];return n},a=function(e){var t,n,i,r,a,o,l,u,d,c,h,p,f=0,m=0,g=0,v=0,y=[1,1];if(n=(t=new mt(e)).readUnsignedByte(),r=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),pt[n]&&(3===(a=t.readUnsignedExpGolomb())&&t.skipBits(1),t.s,t.dUnb()adUn7350],_t=function(e,ttAudioAppendStart=fun.prototype.init.call(this),delete e.opCache_.length=0,s.length=0,this.trigger("reset")},this.r.TransportPacketStream,r.parseStream=new lt.TransportParseStream,r.elementaryStream=new lt.ElementaryStream,r.timestampRolloverStream=new lt.TimestampRolloverStream,Stre(r.parseam.on("data",(function(aTim",iger",this.trigger.bind(this,"done")),Nt(this,r)},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,Ae(n),r.audioTimestampRontSrn meOffset==function(e){var t,t+(r),r+=4,!(a<=0))switch.pts!s)l uon(e){var t=Xtvoid 0===sitionTimr[l].seiNals.concat(n.seiNals),r[l].logs=r[l].lstartTime=e.s=n||!i)return t.push(e),nullction(){r.captions=[],r.captionStreams={},r.lJt. t=|e[;br,e.dtsTime=e.dts/his.trangs:n.bataatasAungts.cunction(e){this.transmuxtra"innCa 0!,"cessodeFn,e.e{reansmuxerLog,f=0,m=!1;refuni,tingyptedBytes&&!g.map.bytes)retu;v(timTimimeFn=Typ,co:""(e,terble){vthBtRep":p?C="band);return!s||s.to!==i}if("main"===r&&a){var o=t.pend("hls"!==t)reteof o?r=a.laylist.id+ duratioetf.org/h.throughput={rateeekable,ntMediaInfo_=vceType_=t.soExactManifestTimings=0,i.safeAppeveInitSegmentId_=nullEncryptfoupdate")},i.syncController_.on("syncinfoupdate",i.triggerSyncInfoUpdate_),i.mediaSource_.addEventLisStats_()pdate_&&terSyncInfoUpdate_)ngSegment_&&(this.pendingSegment_=null)},n.abort_=function(){this.pendingSegment_&&tTimeout_)1),!e)return nulle.tracks,timescales:eolvedUri,bytesoading_()||"READYfo={mediaSequence:e.mve=function(e,t,n,i){ifnd(this),500)},n.fillBuffer_=Controller_.pendingTimelcPoint_.partIndint_.time}),d=u.se "+this.currentTimenull:this.generateSetId:"segment-loadeplaybackRate(rn e.rebufferingImpact-tline_,syncController:this.syncController_});if(s){var o=r-a-s.rebufferingImpact,l=.5;a<=1/30&&(l=1),!s.playlist||s.playlist.uri===ANCE+1,this.trigger("eakForAbort_(e.requestId)(e===t)return!0;{var a=n[r];if(a!==i[r])retuendInitSegment_={audio:!0ue_()}},n.handdleCaptions_.bind(this,e,t));els=this.sourceUpdater_.videoTimestcks:this.inbandTextTracks_,mRemove_||this.quotaExeline_,segmentTimeline:es.initSegmentForMap(e.map,!.sourceUpdateroller_.saveSegmatus=function(e,t){"main"!==this.loadpendToSourceBuffers"),n.waitingOnRemove_=!1,n.qu;if(!l){var u=[o],d=o(function(e){n.set(e,i),i+=e._.requestId){var nsmuxedPresentationStart=n,e,{forceTimestampdRequestSegment_(e)}))},n.uplength=0,e.gopsToAlignWith=[],this.timeMaedSegmentObj_(e),i=thr:this.vhs_.xhr,xhrOptions:unction(e,t,n){var ientTime_(),this.playlist_.tarForMap(t.map)),i},n.saveTransferStatsRequestFinished_.bind(this,e,t,n));else if(this.saveor(e),void this.trigger;r<e.length&&!(e[r].p&&this.sourceUpdaterunction(e){var t=functionthis.loaderType_,thiaInfo_()dateSourceBufferTimestamInfeFoedDstadinfo:_(tis.e&&elit.thisrecn=DtMe;var r=a.WebKite]},Mc=function e(t,n){if(0!==n.queue.length){vaource"!==t&&n.ready()&&"closed"!==n.mediaSource.readyState&&!xc(t,n)){if(r.type!==t){if(null===(i=function(e,t){for(var n=0;n<t.length;n++){varl}(t,n.queue)))return;urce.readyState{var n=t[e+"Bufferrror",t[){return e&&t&&-1!==As "+e.length+" bytes to o "+i+"Buffer"),logger_("Removin)}catch(r){i.ger_("Setting "+t+"timestamOfStream",e)}}}n"+i+"Error_"]),n.codecs[e]=t,n[e+"Buffer"]=a}},Kc=function(e){return function(t){var n=t[e+"Buffer"];if(Uc(e,t),Bc(t.mediaSource,n)){t.logger_("Removing "+e+"BuffceBuffer "+mpOffset_=0,n.onVideoUpdateE=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}f(t,e);var n=t.prototype;return n.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},n.hasCreatedSourceBuffers=function(){return this.creeSourceBuffrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},n.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},n.addSourceBuffer=function(e,t){Xc(uffer()?Xc({type:"mediaSource",sourceUpdater:this,action:Kc(e),name:"removeSourceBuffer"}):yu.log.error("removeSourceBuffer is not supporteddiaSource&s,action:zc(t),name:"cers=function(e){var t=this;if(!e||"objecgth)thaddSourceBuffer(n,i);t.canger_("delayed audio append of "+a.length+" until video append");if(Xc({type:r,sourceUpdio "+s.length+" appee,this.videoBuffer)&&},n.buff=Bc(thisi=null,r=eturn yu.creat&&(n=a[o].time):"end"===a[o].type&&1===--r&&(i=a[o].time),null!==n&&null!=this.videoBuffered())ceUpdater:this,==n&&(n=Rc),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Xc({type:"audio",sourceUpdater:this,action:jc(e,t),doneFn:n,name:"remove"}):n()},n.removeVideo=function(e,t,n){void 0===n&&(n=Rc),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Xc({type:"video",sourceUpdater:this,action:jc(e,t),doneFn:n,name:"remove"}):n()},n.updating=function(){return!(!xc("audio",this)&&!xc("video",this))},n.audioTimestampOffset=function(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Xc({type:"audio",sourceUpdater:this,action:Vc(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},n.videoTimestampOffset=function(e){return void==Offset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},n.audioQueueCallback=function(e){this.audioBuffer&&Xc({type:"audio",sourceUpdater:this,action:qc(e),name:"callback"})},n.videoQueueCallback=function(e){this.videoBuffer&&Xc({type:"video",sourceUpdater:this,action:qc(e),name:"callback"})},n.dispose=function(){var e=this;this.trigger("dispose"),Nc.forEach((function(t){e.abort(t),e.canRemoveSourceBuffer()?e.removeSourceBuffer(t):e[t+"QueueCallback"]((function(){return Uc(t,e)}))})),this.videoAppendQueued_=!1,this.delayedAeoying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return f(t,e),t}(ur(Error)),th=function(e){function t(t,n){rn yu.createTimeRangeoading_=furesetEverything(),th===this.state&&this.couldBegits_(e.prototype.choos),this.state="READY",this.par r=this.pendingSegme);varncInfo?{time:t.synco&&(o.strategy=s.name,r.push({strategy:s.name,syncPoint:o}))}return r},n.selectSyncPoint_=function(e,t){for(var n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy,a=ntIndex:segmentak}}},n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-n}},n.saveSegmentTimingInfo=function(e){var t=e.segmentInfo,n=e.shouldSaveTimelineMapping,i=this.calculateSegmentTimeMapping_(t,t.timingInfo,n),r=t.segment;i&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:r.start}));var a=r.dateTimeObject;r.discontinuity&&n&&a&&(this.timelineToDatetimeMappings[r.timeline]=-a.getTime()/1e3)},n.timestampOffsetForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].time},n.mappingForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping},n.calculateSegmentTimeMapping_=function(e,t,n){var i,r,aes_[,thisof.exports.default=e.exports,e.exports.__esModule=!0})),a=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.],[],[],<<3t]=++)u[e]=u[<8^r[255&io,l,u,d=thi255]^T[h>>th?this.tim=new Int32nction(e){return"fublictivePlayl(e,t){retuunct)/.test(u.instreamId)){var d=n.options_.vhs&&n.options_.vhs.captionServices||{},c={label:l,language:u.language,instreamId:u.instreamId,default:u.default&&u.a0===c.default&&delete c.default,a[o].push(yu.mergeOptions({id:l},u)),void 0===s[l]){var h=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;s[l]=h}}}}},ph=function e(t,n){for(var i=0;i<t.length;i++){if(Yu(n,t[i]))return!0;if(t[i].playlists&&e(t[i].playlists,n))return!0}return!1},fh={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var i in n)if("showing"===n[i].mode||"hidden"===n[i].mode)return n[i];return null}}},mh=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){hh[t](t,e)}));var t=e.mediaTypes,n=e.masterPlaylistLoader,i=e.tech,r=e.vhs,a=e.segmentLoaders,s=a.AUDIO,o=a.main;["AUDIO","SUBTITLES"].forEach((function(n){t[n].activeGroup=function(e,t){return function(n){var i=t.masterPlaylistLoader,r=t.mediaTypes[e].groups,a=i.media();if(!afilter((function(e){return e.id===n.id}))[0]||null}}(n,e),t[n].activeTrack=fh[n](n,e),t[n].onGroupChanged=function(e,t){return function(){var n=t.segmentLoaders,i=n[e],r=n.main,a=t.mediaTypes[e],s=a.activeTrack(),o=a.getActiveGroup(),l=a.activePlaylistLoader,u=a.lastGroup_;o&&u&&o.id===u.id||(a.lastGroup_=o,a.lastTrack_=s,lh(i,a),o&&!o.isMasterPlaylist&&(o.playlistLoader?(i.resyncLoader(),uh(o.playlistLoader,a)):l&&r.resetEverything()))}}(n,e),t[n].onGroupChanging=function(e,t){return function(){var n=t.segmentLoaders[e];t.mediaTypes[e].lastGroup_=null,n.abort(),n.pause()}}(n,e),t[n].onTrackChanged=function(e,t){return function(){var n=t.masterPlaylistLoader,i=t.segmentLoaders,r=i[e],a=i.main,s=t.mediaTypes[e],o=s.activeTrack(),l=s.getActiveGroup(),u=s.activePlaylistLoader,d=s.lastTrack_;if((!d||!o||d.id!==o.id)&&(s.lastGroup_=l,s.lastTrack_=o,lh(r,s),l)){if(l.isMasterPlaylist){if(!o||!d||o.id===d.id)return;var c=t.vhs.masterPlaylistController_,h=c.selectPlaylist();if(c.media()===h)return;return s.logger_("track change. Switching master audio from "+d.id+" to "+o.id),n.pause(),a.resetEverything(),void c.fastQualityChange_(h)}if("AUDIO"===e){if(!l.playlistLoader)return a.setAudio(!0),void a.resetEverything();r.setAudio(!0),a.setAudio(!1)}u!==l.playlistLoader?(r.track&&r.track(o),r.resetEverything(),uh(l.playlistLoader,s)):uh(l.playlistLoader,s)}}}(n,e),t[n].getActiveGroup=function(e,t){var n=t.mediaTypes;return function(){var t=n[e].activeTrack();return t?n[e].activeGroup(t):null}}(n,e)}));var l=t.AUDIO.activeGroup();if(l){var u=(l.filter((function(e){return e.default}))[0]||l[0]).id;t.AUDIO.tracks[u].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(o.setAudio(!1),s.setAudio(!0)):o.setAudio(!0)}n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanged()}))})),n.on("mediachangier({type:"usage",name:"hls-audio-change"})};for(var c in i.audioTracks().addEventListener("change",d),i.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),r.on("dispose",(function(){i.audioTracks().removeEventListener("change",d),i.remoteTextTracks().removeEventLinged)})),i.clearTracks("audio"),t.AUDIO.tracks)i.audioTracks().addTrack(t.AUDIO.tracks[cimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],vh=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},yh=function(e){function t(t){var n;n=e.call(this)||thsedABR,v=t.experimentalLeastPixelDiffSelector,y=t.captionServices;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");var _=t.maxPlaylistRetries;null==_&&(_=1/0),Dc=u,n.experimentalvhs,n.sourceType_=f,n.useCueTags_=d,n.blacklistDuration=c,n.maxPlaylistRetrTrack_.inBandMerEach((function(tged:Rc,onTrackChionChange_=n.handleDuratiotions,useDtsForTimestampOffset:t.useDt|e.uri;r&&r!==a&&(this.logger e.checkABR_()}),250)},naylistLoaderListeners_=stLoader_.on("mediachanging",(fs_&&(this.tech_.triggehouldSwion(e){var t=e.currentP=e.bufferHighWaterLine"),!0)es.BANDWIDTH,m=t.rrentPlaylist:t,nextunction(){var e=this;egmentLoader_.load()})),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("prognfoupdate",(function()audioSegmentLoader_.on("appION||yu.browsere(t.tech_.currentTi n=this.seekable(leSourceEndt)===1/0?Number.MAX_VALUE:t}}},n.handleDurationChange_=function()ter(Hu),s=1===a.lge",name:"l",["abort","pause"]),this.stopABRTimer_()},n.delegateLoaders_=functiolistLoader_);var a=[];;t&&i.push(t)})),["main","audio","subtitle"].forEach((function(t){var r=n[t+"SegmentLoader_"];!r||e!==t&&"all"!==e||i.push(r)})),i.forEach((function(e){return t.forEach((function(t){"function"==typeof e[t]&&e[t]()}))}))},n.setCurrentTime=function(e){var t=Cu(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoade?this.mediaSource.duration:Dc.Playlist.duration(e):1/0:0},n.seekable=function(){returnr_){var t=this.masterPlaylistLoader_.media();if(t){var n=this.syncController_.getExpiredTime(t,this.duration());if(null!==n){var i=this.masterPlaylistLoader_.master,r=Dc.Playlist.seekable(t,n,Dc.Playlist.liveEdgeDelay(i,t));if(0!==r.length){if(this.mable(t,n,Dc.Playlist.liveEdgeDelay(i,t))).length)return}var a,s;this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),s=this.seekable_.start(0)),e?e.start(0)>r.end(0)||r.start(0)>e.end(0)?art(0),e.end(0)<r.end(0)?e.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===s||(this.logger_("seekable updated ["+Pu(this.seekable_)+"]"),this.tech_.trigger("seekablechaner("sourceopen",this.updateDupter_.terminate(),this.masterPlthis.off()},n.maain.hasVideo&&(r.vio.hasAudio||a)&&(r.au(i?Ce(a):Ie(a)))){var n=t[e].isFmp4?"browser":"muxer";o[n]=o[n]||[],o[n].push(r[e]),"audidater_.codecs[t]+'" -> "'+r[t]+'"')})),u.length)return void this" && ")))}}}))},n.updateAdCues_=function(e){vacueIn"in o){i.endTime=r,int"in o){var l=o.cueOutCoif(t.attributes){varer("renditiondiontroller_=e.mast"].forEach(.on(Th,s),this.]=0,this[e+"Buffered_"]t)return!1;if(!e&&t||!t&tart(n)||e.end(n)!lled download Time===e&&(!t.length||e+.cutiveUpdates=0,this.timer_&&(this.lhis.tech_.seeking())return!1;var e,t=this.seekable(),n=this.tech_.currentTime();this.afterSeekableWi"Trying to seek outside of seekable at time "+n+" with s,this.tech_.setCurrentTime(e),!0)},t.waiting_=functionage",name:"vhs-unknown-waiting"}),vt (seekabe",name:"hls-live-resync"}),!0}var i=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,r=this.tech_.buffered();if(this.video},t,"s),this.tech_.trigger( null},e}(),Eh={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Ah={PlaylistLoader:dd,Playlist:Xu,utils:Ad,STANylists.master.pc(e.playlists.masteoncat([i]):r,Object.keys(n)),s=[],o=[];returnname:"hls-player-access"}),h(r)},configurable:!0}),a.hasOwnProperty("vhs")||Object.defineProperty(a,"vhs",{get:function(){return yu.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),h(r)},configurable:!0}),a.hasOwnProperty("dash")||Object.defineProperty(a,"dash",{get:function(){return yu.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),h(r)},configurable:!0}),r.player_=a}if(r.tech_=n,r.source_=t,r.stats={},r.ignoreNextSeekingEvent_=!1,r.setOptions_(),r.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(r.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulatedebkitFullscreenElement||l.mozFullScreenElement||l.msFullscreenElement;t&&t.contains(r.tech_.el())?r.masterPlaylistController_.fastQualityChange_():r.masterPlaylistController_.checkABR_()})),r.on(r.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),r.on(r.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),r.on(r.tech_,"play",r.play),r}f(t,e);var n=t.prototype;return n.setOptions_=function(){var e=this;iptions_.handleMannByPns_.smoothQualitoptiptions_.customTagParseis.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=Ph();t&&t.bandwidth&&(this.options_.bandwidth=t.b"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Md.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Md.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach((function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(e,t){var n=this;if(e){var i;this.setOptions_(),this.optionn/vnd.videojs.vhs+json,")?JSON.parse(i.substring(i.indexOf(",")+1)):i,this.options_.tech=this.tech_,this.options_.externVhs=Ah,this.options_.sourceType=we(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e)},this.options_.smoothQualityChange&&yu.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=tions({liveRangeSafeTimeDelta:.1},this.options_,{seekable:function(){return n.seekable()},media:function(){returnerPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new bh(r),this.masterPlaylistController_.on("error",(function(){var e=yu.players[n.tech_.options_.playerId],t=n.masterPlaylistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}));aylist=Ah.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var e=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,t=a.navigator.connection||a.navigator.mozConnection||a.navigator.webkitConnection;if(this.options_.ut&&(this.throughput=thie:!0},mediaRet:function(){return nunction(){lists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return ku(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setueturn n?n.filter((functtController_.sourceUis.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=a}},n.createKeted EME key ing EME key sessios_()},n.setupEme_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=Ih({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:t&&t.media()});this.player_.tech_.on("keystatuschange",(function(t){if("output-restricted"===t.status){var n=e.masterPlaylistController_.master();if(n&&n.playlists){var i,r=[];if(n.playlists.forEach((function(e){e&&e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height>=720&&(g).warn.apply(i,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(n $c.canChangeType()},n.play=function(){this.masterPlaylistController_.play()ontetComponent(:fuoid),t.on("dispose",u),t.reloadSPropagationStopped=function(){return!0}},Rh=function(({type:t+n.type,oon Dh(e){(e,tconcontent",t),e.tri(e.currentSrc()!==e.ads.contentSrc)return;Rh(e,"c"content",t)}(thistring"==typeof e.data?JSON.parse(e.data):e.data}catch(e){}var n=t.__tcfapiReturn;n&&"function"==tyength",turn t},isSupportedAdCue:function(e.getCueId(e,a),l=a.startTime;if(Fh(e,o))re)return e.ads.debug("Using playMiddleware to blocku.browser.IS_SAFARI||e.trigger("pause")}))}}},qh.testHook=function(e){Hh=e(){}(){rer an advertisement",e)}};if("style"in n&&r.setAttribute("stylug("Received adsready event (Preroll)"),this.handleAdsReady())},n.handleA)}))},n.onAdsCanceled=function(e){var t=this;e.ads.debug("adscll",ep);var tp=function(e){function t(){return e.apply(this,argrror=function(){this.player.ads.debug("adserror (BeforePreroll)"),this.shouPreroll",tp);var np=function(e){function t(){return e.apply(this,arguments)||this}zass("vjs-ad-content-resuming")},t}(Yh.getState("AdState"));Yh.registerState("Midroll",np);var ip=function(e){function t(){return e.apply(this,arguments)||this}zh(t,e),t._getName=function(){return"Postroll"};var n=t.prototype;return n.init=function(e){if(this.waitingForAdBreak=!0,e.ads._contentEnding=!0,e.ads.nopostroll_){this.resumeContent(e);var t=Yh.getState("AdsDone");this.transitionTo(t)}else{e.addClass(eout;"number"==typesetTimeout((function(){e.ction(){e.transitionk()||this.isContentResuming()?yu.log.warn("Unexpected skipLinearAdMode invocation"):(e.ads.debug("Postroll abo:this.abort(e)},n.onContentChanged=function(e){if(this.isContentResuming()){var t=Yh.getState("BeforePreroll");th;this.transitionToBreak()?yu.log.warn("Unexpected nopostroll event (Postroll)"):this.abort(e)},n.resumeContent=function(e){this.contentResuming=!0,e.addClass("vjs-ad-content-resuming")},n.abort=function(e){var t=Yh.getState("AdsDone");this.res.transitionTo(t)},n.cleanup=function(e){e.removeClass("vjs-ad-content-resuming"),e.clearTimeout(this._postrollTimeout),e.ads._contentEnding=!1},t}(Yh.getState("AdState"));Yh.registerState("Postroll",ip);var rp=function(e){function t(){return e.apply(this,arguments)||this}zh(t,e),t._getName=function(){rettroll");e.ads.debug("Received readyforpostroll event"),this.transitionTo(t)},n.startLinearAdMode=function(){var e=Yh.getState("Midroll");thtate"));Yh.rouldBlockPlay=!1},n.oStitchetion(){this.waitingForAdBreak=!1,this.contentResuming=!1,this.player.ads.adType="stitched",Zh.start(this.player)},n.onPlaying=function(){},n.onContentResumed=function(){},n.onAdEnded=function(){this.endLinearAdMode(),this.player.trigger("ended")},n.endLinearAionTo(e)},t}(Yh.getState("AdState"));Yh.registerState("StitchedAdRoll",sp);var op=qh.isMiddlewareMediatorSupported,lp=yu.getTech("Html5").Events,up={timeout:5e3,prerollTimeout:void 0,postrollTimeout:void 0,debug:!1,stitchedAds:!1,contentIsLive:void 0,liveCuePoints:!0,allowVjsAutoplay:yu.options.normalizeAutoplay||!1},dp=fstplaymeout((function(){t.ads._hasThereBeenALoadStartDuringPlayerLife||""===t.src()||yu.log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialion("contenttimeupdate",(function(){t.removeCog.warn("opreroll",(function(){t.ads.debug("Received nopreroll event"),t.ads.nopreroll_=!0})),t.on("nopostroll",(function(){t.ads.debug("Received nopostroll event"),t.ads.nopostroll_=!0})),t.on("playing",(function(){update=!1})),t.on((){t.ads._hasThereBeenALoadStartDuringPlayerLife1,_inLinearsettings.contentIsLive:t.duration(shots:function(t){return void 0)},isWaitingForAdBreak:functie("poster")},debug:function(Ads,n.stitchedAds?t.ads._state=new(Yh.gdValue:e.ads.contentSrc,newValue:t}),e.ads.contentSrc=t),e.ads._seenInitialLoadstart=!0}}))}(t),t.on("contentchdscanceled","adskip","adserror","adtimeout","adended","ads-ad-started","contentchanged","dispose","contentresumed","readyforpostroll","nopreroll","nopostroll"],(function(e){t.ads.re_&&(yu.use("*",Wh),yu.usingContribAdsMiddleware_=!0,yu.log.debug("Play middleware has been registered with videojs")))}(dp);var cp=function(e,t,n){this.vjsPlayer=e,this.controller=n,trval=1e3,this.seekCheckIntervalHanandle=null,this.resizeCheckInterval=250,this.seekThreshold=100,this.contentEndedListenlayheadTracker={currentdth(),height:this.getPlayerHeight()},this.vjsControls=this.vjsPlayer.getChihis.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this)),this.boundContentEndedListener=this.localContentEndedListener.bind(this),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.on("dispose",this.playerDisposedListener.bind(this)),this.vjsPlayer.on("readyforpreroll",this.onReadyForPreroll.bind(this)),this.vjsPlayer.on("adtimeout",this.onAdTimeout.bind(this)),this.vjsPlayerotype.setUpPlayerIntervals=function(){this.updateTimeIntervalHandle=setInterval(this.updateCurrentTime.bind(this),this.updateTimeInterval),this.seekCheckIntervalHandleal(this.checkForResize.bind(this),this.resizeCheckInterval)},cp.prototype.updateCurrentTime=function(){this.c.vjsPlayer.currentTimPlayheadTracker.seeking=!1,th=e,this.vjsPlayerDimensiooller.onContentComplete()),this.contentEndedListeners)"function"==typeof this.contentEndedListeners[e]&&thiyerIntervals.bind(this))},cp.prototype.onNoPostroll=function(){this.vjsPlayer.trigger("nopostrolldedListener),this.vjsPlayer.adsayer.ads.adTimeoutTimeout);var eeckIntervalHandle,this.resizeCheckIntervalHandle];for(var t in e)e[t]&&clearInterval(e[t])},cp.prototypeautoplahis.vjsPlayer.muted(!1)},cp.proype.getPlayerHeight=function.currentSrc()&&(this.vjsPlayer.currentTime(0),this.vjsPlayer.pause()),e&&this.vjsPlayer.src(e),this.vjsPlayer.one("loadedmetadata",this.seekContentToZero.bind(this))},cp.prototype.seekContentToZero=function(){this.vjsPlayer.currentTime(0)},cp.prototype.trigion(){this.vjsPlayer.off("Player.on("contentended",tracker.currentTime=0,thiuseDiv=document.crea=document.createElrentTime:0,duration:0,isPod:!1,adPositidown&&(this.showCountdown=!1),this.isAdNonlinear=!1,this.createAdContainer()};hp.padContainerDiv.style.zIndebutes(this.controlsDiv,"ima-controls-div"),this.controlsDiv.style.width="100%",this.controller.getIsMobile()?this.countdownDiv.style.display="none":(this.assignControlAttributes(this.countdownDiv,"ima-countdown-div"),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel,this.countdownDiv.style.display=this.showCountdown?"block":"none"),this.assignControlAttributes(this.seekBarDiv,"ima-sener("click",this.onAdPlayPhis.onAdMuteClick.bind(this),!1),this.assignControlAttributes(this.sliderDiv,"ima-slider-div"),oller.getIsIos()&&(this.sliderDeenDiv,"ima-fullscreen-div"),this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.fullscreenDiv.addEventListener("click",this.onAdFullscreenClick.bind(this),!1),this.adContainerDiv.appends.controlsDiv.appendChild(this.playunction(){this.controller.onick=function(){this.controll.sdkImpl.adPlaying=!1,this.addClass(t,this.showAdControls()},hp.php.prototype.onAdsPlaying=fun.playPauseDiv,"ima-plad")},hp.prototype.updateA(s="0"+s);var o=": ";r>1&&(o=" ("+i+" "+this.controller.getSettings().adLabelNofN+" "+r+"): "),this.Div.style.width=l+"%"},hp.prototype.unmute=function(){this.addClass(this.muteDrot){this.isAdNonlinear&&this.his.sliderLevelDiv.style=!1,this.adsLoader=null,this.adsler.getSettings().locale),thistSettings().sessionId&&this.R_LOADED,this.onAdsManagerLoaded.bind(th).adTagUrl:e.adsResponsimeout=this.controller.getSettings().vastLoadTimeout),this.controller.getSettings().omidMode&&window.consolinstead."),this.controller.getSettings).omidVendorAccess;Object.keys(dth=this.controller.getPler.getSettings().nonLineted(this.controller.adsWillPlayMuted());var n=this.controller.getSettings().adsRequest;n&&"ject.keys(n).forEach((funcpper.vjsPlayer.trigge.prototype.onAdsManagerLoaded=function(e)eakReady.bind(this)),this.adsMaPLETED,this.onAllAdsCompleted.(google.ima.AdEvent.Type.STARTED,thiss)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,this.onAdLog.bind(th,this.controller.playerWrapper.vjsPlaer.getSettings().preventLateAdStart;troller.getSettings().adsManagerLoa"AdsLoader error: "+e.getErryerWidth(),t=this.controller.getPlayerHeight();this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.init(e,t,google.ima.ViewMode.NORMAL),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.initializeAdDisplayContainer()}catch(e){this.onAdError(e)}},mp.prototype.createAdsRenderingSettings=function(){if(things,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.controller.goller.getSettings().ads.controller.getSettings().adsRenderingSett),this.controller.onAdErron(e){this.adsActive=!0,this.aesumeRequested=function(e){this.adsActive=!1,this.adPlaying=!1,this.controller.on(),thisdsManager){var e=this.adsManager.getRemainingTime(),t=this.currentAd.getDuration(),n=t-e;n=n>0?n:0;var i=0,r=void 0;this.currentAd.getAdPodInfo()&&(r=this.currentAd.getAdPodInfo().getAdPosition(),i=this.currentAd.getAdPodInfo().getTotalAds()),this.controller.onAdPlayheadUpdated(n,e,t,r,i)}},mp.prototype.onContentComplete=function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),(this.adsManager&&this.adsposed=function(){this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)},mp.prototype.onPlayerReadyForPreroll=function(){if(this.autoPlayAdBreaks){this.initAdsManager();try{this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start()}catch(e){this.onAdError(e)}}},mp.prototype.onAdTimeout=function(){this.isAdTimedOut=!0},mp.prototype.onPlayerReady=function(){this.initAdObjects(),(this.controller.getSettings().adTagUrl||this.controller.getSettings().adsResponse)&&"onLoad"===this.controller.getSettings().requestMode&&this.requestAds()},mp.prototype.onPlayerEnterFullscreen=function(){this.adsManager&&this.adsManager.resize(window.screen.width,windocontroller.getPlayerWidth()e},mp.prototype.onPlayerResize=function(e,t){this.adsManager&&(this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.resize(e,t,google.ima.ViewMode.NORMAL))},mp.prototype.getCurrentAd=function(){return this.currentAd},mp.prototype.setAdBreakReadyListener=function(e){this.adBreakReadyListener=e},mp.prototype.isAdPlaying=function(){return totype.pauseAds=function(){this.adsManager.pause(),this.adPlaying=!1},mp.prototype.resumeAds=function(){this.adsManager.resume(),this.adPlaying=!0},mp.prototype.unmute=function(){this.adsManager.setVolume(1),this.adMuted=!1},mp.prototype.mute=function(){this.adsManager.setVolume(0),this.adMuted=!0},mp.prototype.setVolume=function(e){this.adsManager.setVolume(e),this.adMuted=0==e},mp.prototype.initializeAdDisplayContainer=function(){ialized||(this.adDisplayContainer.initialize(),this.adDisplayContainerInitialized=!0))},mp.prototype.playAdBreak=function(){this.autoPlayAdBreaks||(this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start())},mp.prototype.addEventListener=function(e,t){this.adsManager&&this.adsManager.addEventListener(e,t)},mp.prototype.getAdsManager=function(){return this.adsManager},mp.prototype.reset=function(){this.adsActive=!1,this.adPlaying=!1,this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&this.adsLoader.contentComplete(),this.contentCompleteCalled=!1,this.allAdsCompleted=!1};var gp=function(e,t){this.settings={},this.contentAndAdsEndedListeners=[],this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.isIos=navigator.uerollTimeout:this.settings.prerollTimeout},i=Object.assign({},n,t.contribAdsSettings||{});this.playerWrapper=new cp(e,i,this),this.adUi=new hp(this),this.sdkImpl=new mp(this)};gp.IMA_DEFAULTS={adLabel:"Advertisement",adLabelNofN:"of",debug:!1,disableAdControls:!1,prerollTimeout:1e3,preventLateAdStart:!1,requestMode:"onLoad",showControlsForJSAds:!0,timeout:5e3},gp.prototype.initWithSettings=function(e){this.settings=Object.assign({},gp.IMA_DEFAULTS,e||{}),this.warnAboutDeprecatedSettings(),this.showCountdown=!0,!1===this.settings.showCountdown&&(this.showCountdown=!1)},gp.prototype.warnAboutDeprecatedSetWillPlayMuted"].forEach((function(t){void 0!==e.settings[t]&&console.warn("WARNING: videojs.ima setting "+t+" is deprecated")}))},gp.prototype.getSettings=function(){return this.settings},gp.prototype.getIsMobile=function(){return this.isMobile},gp.prototype.getIsIos=function(){return this.isIos},gp.prototype.injectAdContainerDiv=functionainerDiv()},gp.prot},gp.prototype.getContentPlayheadTracker=function(){return this.playerWrapper.getContentPlayheadTracker()},gp.prototype.requestAds=function(){this.sdkImpl.requestAds()},gp.prototype.setSetting=function(e,t){this.settings[e]=t},gp.prototype.onErrorLoadingAds=function(e){this.adUi.onAdError(),this.playerWrapper.onis.adUi.onAdsPlaying(),this.sdkImpl.resumeAds())},gp.prototype.onAdMuteClick=function(){this.sdkImpl.isAdMuted()?(this.playerWrapper.unmute(),this.adUi.unmute(),this.sdkImpl.unmute()):(this.playerWrapper.mute(),this.adUi.mute(),this.sdkImpl.mute())},gp.prototype.setVolume=function(e){this.playerWrapper.setVolume(e),this.sdkImpl.setVolume(e)},gp.prototype.getPlayerVolume=function(){return this.playerWrapper.getVolumelayerWrapper.toggleFullscreen()},gp.prototype.onAdError=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},gp.prototype.onAdBreakStart=function(e){this.playerWrapper.onAdBreakStart(),this.adUi.onAdBreakStart(e)},gp.prototype.showAdContainer=function(){thyerWrapper.onAllAdsCompleted()etCurrentAd=function(){return this.sdkImpl.getCurrentAd()},gp.prototype.playContent=function(){th{return this.playerWrapper.getPlayerHeight()},gp.prototype.onAdsReady=function(){this.playerWrapper.onAdsReady()},gp.prototype.onPlayerResize=function(e,t){this.sdkImpl.onPlayerResize(e,t)},gp.prototype.onContentComplete=functiion(){this.playerWrappevar e in this.contentAndAdsction(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},gp.prototype.onPlayerReadyForPreroll=function(){this.sdkImpl.onPlayerReadyForPreroll()},gp.prototype.onAdTimeout=function(){this.sdkImpl.onAdTimeout()},gp.prototype.onPlayerReady=function(){this.sdkImpl.onPlayerReady()},gp.prototype.onPlayerEnterFullscreen=function(){this.adUi.onPlayerEnterFullscreen(),this.sdkImpl.onPlayerEnterFullscreen()},gp.prototype.onPlayerExitFullscreen=function(){this.adUi.onPlayerExitFullscreen(),this.sdkImpl.onPlayerExitFullscreen()},gp.prototype.onPlayerVolumeChanged=function(e){this.adUi.onPlayerVolumeChanged(e),thisrce(e)},gp.prototype.setaddEventListener(e,t)},gg(),this.sdkImpl.resumeAds(llAutoplay?this.settings.adsWillAutoplay:void 0!==this.settings.adWillAutoplay?this.settings.adWillAutoplay:!!this.plMuted=function(){returnlume()},gp.prototype.triggeentTime())},vp.prototeturn this.vjsPlayer.optionma.dai.api.StreamEvent.Type.ERROR,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED],this.onStreamEvent.bind(this),!1),this.vjsPlayer.textTracks().onaddtrack=this.onAddTrack.bind(this),this.vjsPlayer.trigger({type:"stream-manager",StreamManager:.adUiDiv=e},yp.prototype.onStreamPause=function(){this.isAdBreak&&(this.adUiDiv.style.display="none")},yp.prototype.onStreamPlay=function(){thlse{var t=this.streamManager.previousCuePt=function(e){switch(e.type){case google.ima.dai.api.StreamEvent.Type.LOADED:this.loadUrl(e.getStreamData().url);break;case google.ima.dai.api.StreamEvent.Type.ERROR:window.console.warn("Error loading stream, attempting to play backup stream. "+e.getStreamData().errorMessage),this.daiController.onErrorLoadingAds(e),this.daiController.getSettings().fallbackStreamUrl&&this.loadurl(this.daiController.getSettings().fallbackSi.api.StreamEvent.Type.AD_BREAK_STARTED:this.isAdBreak=!0,this.adUiDiv.style.display="block",this.daiController.onAdBreakStart();break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:this.isAdBreak=!1,this.adUiDiv.style.display="none",this.daiController.onPlayer.currentTime()&&(this.vj.loadUrl=function(e){this.vjsPlayer.ready(function(){var t=this.daiController.getSettings().streamFormat;this.vjsPlayer.src({src:e,type:this.SOURCE_TYPES[t]});var n=this.daiController.getSettings().bookmarkTi);this.isSnapback=!0,this.vjsPlayer.currentTime(i)}}.bind(this))},yp.prototype.requestStream=function(){var e=void 0,t=this.daiController.getSettings().streamType;if("vod"===t?((e=new google.ima.dai.api.VODStreamRequest).contentSourceId=this.daiController.getSettings().etSettings().assetKey:window.console.warn("No valid stream type selected"),e.format=this.daiContr)||{},ssipe.getIsIos=function(){return this.isIos},(){return this.e.onAdError=function(e){this.playerWrapper.onAdError(e)},_p.prototype.onAdBreakStart=function(){this.inAdBreak=!0,this.playerWrapper.onAdBreakStart()},_p.prototype.onAdBreakEnd=function(){this.inAdBreak=!1,this.playerWrapper.onAdBreakEnd()},_p.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},_p.prototype.isInAdBreak=function(){return this.inAdBreak},_p.prototype.onSeekEnd=function(e){this.sdkImpl.onSeekEnd(e)},_p.prototype.onPlayerReady=function(){this.sdkImpl.onPlayerReady()},_p.prototype.reset=function(){this.sdkImpl.reset(),this.playerWrapper.reset()},_p.prototype.addEventListener=function(e,t){this.sdkImpl.addEventListener(e,t)},_p.prototype.getStreamManager=function(){return this.sdkImpl.getStreameturn this.playerWrapper.getPlayerId()},_p.prototype.streamWillAutoplay=function(){return void 0!==this.settings.streamWillAutoplay?this.settings.streamWillAutoplay:!!this.playerWrapper.getPlayerOptions().autoplay},_p.prototype.triggerPlayerEvent=function(e,t){this.playerWrapper.triggerPlayerEvent(e,t)};var bp=function(e,t){this.controller=new gp(e,t),this.addContentAndAdsEndedListener=function(e){this.controller.addContentAndAdsEndedListener(e)}.bind(this),this.addContentEndedListener=function(e){this.controller.addContentEndedListener(e)}.bind(this),this.addEventListener=function(e,t){this.controller.addEventListener(e,t)}.bind(this),this.changeAdTag=function(e){this.controller.changeAdTag(e)}.bind(this),this.getAdsManager=)}.bind(this),t.bind(thd by this plugin."):window.console.error("VodStream error: incorrect streamFormat.")},Sp=function e(t,n,i){Tp(this,e),"hls"===(t=t.toLowerCase())||"dash"===t?"dash"!=roce of LiveStream or VodStream.");t.streamType="vod",t.cmsId=e.cmsId,t.videoId=e.videoId}t.streamFormat=e.streamFormat,this.imaDai=new Ep(this,t)})),n((function(e){!function(t,n){if(function(t){var n=this,i=n.el(),r=document,a={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableHoverScroll:!1,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,captureDocumentHotkeys:!1,documentHotkeysFocusElementFilter:function(){return!1},enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(e){return 32===e.which||179===e.which},rewindKey:function(e){return 37===e.which||177===e.which},forwardKey:function(e){return 39===e.which||176===e.which},volumeUpKey:function(e){return 38===e.which},volumeDownKey:function(e){return 40===e.which},muteKey:function(e){return 77===e.which},fullscreenKey:function(e){return 70===e.which},customKeys:{}},s=e.mergeOptions||e.util.mergeOptions,o=(t=s(a,t||{})).volumeStep,l=t.seekStep,u=t.enableMute,d=t.enableVolumeScroll,c=t.enableHoverScroll,h=t.enableFullscreen,p=t.enableNumbers,f=t.enableJogStyle,m=t.alwaysCaptureHotkeys,g=t.captureDocumentHotkeys,v=t.documentHotkeysFocusElementFilter,y=t.enableModifiersForNumbers,_=t.enableInactiveFocus,T=t.skipInitialFocus,b=e.VERSION;i.hasAttribute("tabIndex")||i.setAttribute("tabIndex","-1"),i.style.outline="none",!m&&n.autoplay()||T||n.one("play",(function(){i.focus()})),_&&n.on("userinactive",(function(){var e=function(){clearTimeout(t)},t=setTimeout((function(){n.off("useractive",e);var t=r.activeElement,a=i.querySelector(".vjs-control-bar");t&&t.parentElement==a&&i.focus()}),10);n.one("useractive",e)})),n.on("play",(function(){var e=i.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")}));var E=function(e){var a,s,l=e.which,d=e.preventDefault.bind(e),c=n.duration();if(n.controls()){var _=r.activeElement;if(m||g&&v(_)||_==i||_==i.querySelector(".vjs-tech")||_==i.querySelector(".vjs-control-bar")||_==i.querySelector(".iframeblocker"))switch(I(e,n)){case 1:d(),(m||g)&&e.stopPropagation(),n.paused()?k(n.play()):n.pause();break;case 2:a=!n.paused(),d(),a&&n.pause(),(s=n.currentTime()-P(e))<=0&&(s=0),n.currentTime(s),a&&k(n.play());break;case 3:a=!n.paused(),d(),a&&n.pause(),(s=n.currentTime()+P(e))>=c&&(s=a?c-.001:c),n.currentTime(s),a&&k(n.play());break;case 5:d(),f?(s=n.currentTime()-1,n.currentTime()<=1&&(s=0),n.currentTime(s)):n.volume(n.volume()-o);break;case 4:d(),f?((s=n.currentTime()+1)>=c&&(s=c),n.currentTime(s)):n.volume(n.volume()+o);break;case 6:u&&n.muted(!n.muted());break;case 7:h&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen());break;default:if((l>47&&l<59||l>95&&l<106)&&(y||!(e.metaKey||e.ctrlKey||e.altKey))&&p){var T=48;l>95&&(T=96);var b=l-T;d(),n.currentTime(n.duration()*b*.1)}for(var E in t.customKeys){var A=t.customKeys[E];A&&A.key&&A.handler&&A.key(e)&&(d(),A.handler(n,t,e))}}}},A=!1,S=i.querySelector(".vjs-volume-menu-button")||i.querySelector(".vjs-volume-panel");null!=S&&(S.onmouseover=function(){A=!0},S.onmouseout=function(){A=!1});var C=function(e){if(c)var t=0;else t=r.activeElement;if(n.controls()&&(m||t==i||t==i.querySelector(".vjs-tech")||t==i.querySelector(".iframeblocker")||t==i.querySelector(".vjs-control-bar")||A)&&d){e=window.event||e;var a=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));e.preventDefault(),1==a?n.volume(n.volume()+o):-1==a&&n.volume(n.volume()-o)}},I=function(e,n){return t.playPauseKey(e,n)?1:t.rewindKey(e,n)?2:t.forwardKey(e,n)?3:t.volumeUpKey(e,n)?4:t.volumeDownKey(e,n)?5:t.muteKey(e,n)?6:t.fullscreenKey(e,n)?7:void 0};function P(e){return"function"==typeof l?l(e):l}function k(e){null!=e&&"function"==typeof e.then&&e.then(null,(function(e){}))}if(g){var w=function(e){E(e)};document.addEventListener("keydown",w),this.dispose=function(){document.removeEventListener("keydown",w)}}else n.on("keydown",E);return n.on("dblclick",(function(e){if(null!=b&&b<="7.1.0"&&n.controls()){var t=e.relatedTarget||e.toElement||r.activeElement;t!=i&&t!=i.querySelector(".vjs-tech")&&t!=i.querySelector(".iframeblocker")||h&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen())}})),n.on("mousewheel",C),n.on("DOMMouseScroll",C),this}))}))}));var Ip=n((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(Ip);var Pp=t(n((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ip(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),kp=t(n((function(e){function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumer!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}))),wp=t(n((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.expop=n((function(e){function t(n){return e.exports=t=ObjeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(Lp);var Rp=n((function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports}));t(Rp);var Dp=n((function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports}));t(Dp);var Op=n((function(e){function t(n,i,r){return Dp()?(e.exports=t=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=t=function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&Ip(r,n.prototype),r},e.exports.__esModule=!0,e.exports.default=e.exports),t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(Op);var Np=t(n((function(e){function t(n){var i="function"==typeof Map?new Map:void 0;return e.exports=t=function(e){if(null===e||!Rp(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,t)}function t(){return Op(e,arguments,Lp(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Ip(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}))),xp=function(e){function t(t){var n;return(n=e.call(this,t)||this).hide(),n.onDispose=n.onDispose.bind(wp(n)),n.on(t,["ads-ad-started","adstart"],n.show),n.on(t,"ads-request",n.onAdsRequest),n.on(t,["ads-ad-ended","adend","ads-ad-skipped"],n.hide),n.on(t,"dispose",n.onDispose),n}Pp(t,e);var n=t.prototype;return n.onDispose=function(){var e=this.player();this.off(e,["ads-ad-started","adstart"],this.show),this.off(e,"ads-request",this.onAdsRequest),this.off(e,["ads-ad-ended","adend","ads-ad-skipped"],this.hide),this.off(e,"dispose",this.onDispose),this.adPlayPauseEl&&this.adPlayPauseEl.removeEventListener("keyup",this.onSpaceBar_),this.adMuteEl&&this.adMuteEl.removeEventListener("keyup",this.onSpaceBar_)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-ad-learnMore-skip"})},n.makeElsAccessible=function(){this.adPlayPauseEl&&(this.adPlayPauseEl.setAttribute("role","button"),this.adPlayPauseEl.addEventListener("keyup",this.onSpaceBar_)),this.adMuteEl&&(this.adMuteEl.setAttribute("role","button"),this.adMuteEl.addEventListener("keyup",this.onSpaceBar_))},n.onSpaceBar_=function(e){if(32===e.keyCode||13===e.keyCode){var t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});e.target.dispatchEvent(t)}},n.onAdsRequest=function(){var e=this.player();if(e&&e.ima){this.makeElsAccessible();var t=Object.getPrototypeOf(e.ima.controller);e.ima.controller.onAdPlayheadUpdated=function(n,i,r,a,s){e.trigger("adtimeupdate",{currentTime:n,remainingTime:i,duration:r,adPosition:a,totalAds:s}),t.onAdPlayheadUpdated.call(this,n,i,r,a,s)}}},kp(t,[{key:"adPlayPauseEl",get:function(){var e=null;return this.adUi&&(e=this.adUi.playPauseDiv),e}},{key:"adMuteEl",get:function(){var e=null;return this.adUi&&(e=this.adUi.muteDiv),e}},{key:"adUi",get:function(){var e=this.player();return e&&e.ima&&e.ima.controller&&e.ima.controller.adUi?e.ima.controller.adUi:null}}]),t}(yu.getComponent("Component"));var Mp,Up,Bp,Fp,jp,Vp,qp,Hp,Wp,Gp=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).onAdtimeupdate=i.onAdtimeupdate.bind(wp(i)),t.on("adtimeupdate",i.onAdtimeupdate),t.one("dispose",(function(){t.off("adtimeupdate",i.onAdtimeupdate)})),i}Pp(t,e);var n=t.prototype;return n.onAdtimeupdate=function(e,t){this.updateContent(t)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-ad-duration-countdown"})},n.updateContent=function(e){var t,n=(this.player()||{}).ima,i=n&&"function"==typeof n.getAdsManager&&n.getAdsManager();if(i&&"function"==typeof i.getCurrentAd){var r=i.getCurrentAd(),a=(e||{}).remainingTime;if(!r)return void this.hide();this.show(),Math.round(a)&&(this.el_.innerText=(t=Math.round(a))>=60?yu.formatTime(t):t.toString().length>1?":"+t:":0"+t)}},t}(yu.getComponent("Component")),Yp=function(e){function t(t){var n;return(n=e.call(this,t.message)||this).config_=t,n}return Pp(t,e),kp(t,[{key:"code",get:function(){return this.config_.platform+"-"+this.config_.segment+"-"+this.config_.reason+" "+this.config_.component+"-"+this.config_.feature+"-"+this.config_.errorCode}},{key:"cause",get:function(){return this.config_.cause}},{key:"reason",get:function(){return this.config_.reason}}]),t}(Np(Error));!function(e){e[e.NONE=-1]="NONE",e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG"}(Up||(Up={})),function(e){e[e.FAILURE=0]="FAILURE",e[e.WARNING=1]="WARNING"}(Bp||(Bp={})),function(e){e.ANDROID="A",e.APPLE="I",e.JAVASCRIPT="J"}(Fp||(Fp={})),function(e){e.PLAYER_CORE="PE",e.PLAYER_UI="PUI"}(jp||(jp={})),function(e){e.UNEXPECTED_ERROR="0",e.IDENTITY_REQUIRED="1",e.AUTHENTICATION_REQUIRED="2",e.NOT_ENTITLED="3",e.CONCURRENCY_LIMIT_REACHED="4",e.PARENTAL_RESTRICTIONS="5",e.GEO_LOCATION_REQUIRED="6",e.GEO_LOCATION_ACQUISITION_ERROR="7",e.GEO_LOCATION_NOT_ALLOWED="8",e.INVALID_MEDIA="9",e.MEDIA_UNAVAILABLE="10",e.TEMPORARY_UNAVAILABLE="11",e.NETWORK_CONNECTION="12",e.UNSUPPORTED_DRM="13",e.REQUIRES_LBS="14",e.PLAYREADY_LICENSE_FAILED="15",e.DAMAGED_MEDIA_DATA="16"}(Vp||(Vp={})),(Mp={})[Vp.UNEXPECTED_ERROR]="unexpectedError",Mp[Vp.IDENTITY_REQUIRED]="identityRequired",Mp[Vp.AUTHENTICATION_REQUIRED]="authenticationRequired",Mp[Vp.NOT_ENTITLED]="notEntitled",Mp[Vp.CONCURRENCY_LIMIT_REACHED]="concurrencyLimitReached",Mp[Vp.PARENTAL_RESTRICTIONS]="parentalRestrictions",Mp[Vp.GEO_LOCATION_REQUIRED]="geoLocationRequired",Mp[Vp.GEO_LOCATION_ACQUISITION_ERROR]="geoLocationAcquisitionError",Mp[Vp.GEO_LOCATION_NOT_ALLOWED]="geoLocationNotAllowed",Mp[Vp.INVALID_MEDIA]="invalidMedia",Mp[Vp.MEDIA_UNAVAILABLE]="mediaUnavailable",Mp[Vp.TEMPORARY_UNAVAILABLE]="temporarilyUnavailable",Mp[Vp.NETWORK_CONNECTION]="networkConnection",Mp[Vp.UNSUPPORTED_DRM]="unsupportedDRM",Mp[Vp.REQUIRES_LBS]="requiresLbs",Mp[Vp.PLAYREADY_LICENSE_FAILED]="playreadyLicenseFailed",Mp[Vp.DAMAGED_MEDIA_DATA]="damagedMediaData",function(e){e.MEDIA_ITEM="MI",e.PLAYBACK_ACCESS="PA",e.PLAYBACK_SESSION="PS",e.MEDIA_PLAYER="MP",e.PLAYER_PLUGIN="PL"}(qp||(qp={})),function(e){e.PLAYBACK_CFA="CFA",e.GRAPH_QL="GQL",e.ENTERTAINMENT="ENT",e.PLAYBACK_ACCESS_MANAGER="PAM",e.ADOBE_PASS="AP",e.ISP="ISP",e.TVE="TVE",e.BAM="BAM",e.CHROMECAST_RECEIVER_MEDIA_PLAYER="CRMP",e.PLAYER_ADAPTER_BUNDLE="PAB",e.DIGITAL_RIGHTS_MANAGEMENT="DRM",e.SHIELD="SHD",e.ENTITLEMENT="ENTL",e.CONCURRENCY_MONITORING="CM",e.END_CARD_UI="ECU"}(Hp||(Hp={})),function(e){e.BAD_REQUEST="400",e.UNAUTHORIZED="401",e.FORBIDDEN="403",e.NOT_FOUND="404",e.METHOD_NOT_ALLOWED="405",e.NOT_ACCEPTABLE="406",e.TIMEOUT="408",e.CONFLICT="409",e.GONE="410",e.LENGTH_REQUIRED="411",e.PRECONDITION_FAILED="412",e.ENTITY_TOO_LARGE="413",e.URI_TOO_LONG="414",e.UNSUPPORTED_MEDIA_TYPE="415",e.RANGE_NOT_SATISFIABLE="416",e.EXPECTATION_FAILED="417",e.INTERNAL_SERVER_ERROR="500",e.NOT_IMPLEMENTED="501",e.BAD_GATEWAY="502",e.SERVICE_UNAVAILABLE="503",e.GATEWAY_TIMEOUT="504",e.HTTP_VERSION_NOT_SUPPORTED="505",e.EMBARGOED_CONTENT="100",e.EXPIRED_CONTENT="101",e.INVALID_RESPONSE="102",e.INVALID_DEVICE="103",e.UNSUPPORTED_SESSION="104",e.GEOLOCATION_NOT_ALLOWED="105",e.PROXY_NOT_ALLOWED="106",e.REFERRER_NOT_ALLOWED="107",e.INVALID_DATA_PROVIDED="108",e.SHIELD_DRM_REQUIRED="109",e.PLAYER_BUNDLE_FAILED_TO_LOAD="700",e.PLAYER_NOT_READY="701",e.PLAYER_CAN_NOT_BE_DISPOSED="702",e.PLAYER_CAN_NOT_PLAY_PAUSE="703",e.PLAYER_SHAKA_ERROR="704",e.PLAYER_NO_VIDEO_TAG="705",e.PLAYER_NO_CORE_FOUND="706",e.PLAYER_MEDIA_ERR_CUSTOM="708",e.PLAYER_MEDIA_ERR_ABORTED="709",e.PLAYER_MEDIA_ERR_NETWORK="710",e.PLAYER_MEDIA_ERR_DECODE="711",e.PLAYER_MEDIA_ERR_SRC_NOT_SUPPORTED="712",e.PLAYER_MEDIA_ERR_ENCRYPTED="713",e.PLAYER_UNKNOWN="003",e.ADS_PROVIDER_ERR="801",e.ADS_FAILED_TO_LOAD="802",e.SHAKA_PLAYER_DRM_ERROR="715",e.PLAYREADY_LICENSE_FAILED="718",e.PLAYER_BUNDLE_FAILED_TO_CREATE="719",e.AD_ONLY_FAILED="720",e.PLAYER_CONFIGURATION_ERR="721",e.PLAYER_ANALYTIC_INIT_ERR="722",e.CONCURRENCY_LIMIT_REACHED="707",e.PLAYER_PROGRAM_CHANGE_FAILED="728",e.TEXT_DECODER_ABSENT="723",e.AUDIO_CONTEXT_ABSENT="724",e.TEXT_DECODING_FAILED="725",e.STYLE_SETUP_FAILED="726",e.SOCIAL_COPY_FAILED="727",e.GEOLOCATION_PROXY="200x",e.DISTRIBUTOR_REQUEST_FAILED="201x",e.MEDIA_ITEM_MISSING="200",e.END_CARD_ERR="201",e.PLUTO_REQUEST_FAILED="302",e.SHIELD_REQUEST_FAILED="202",e.GQL_REQUEST_FAILED="600",e.UNKNOWN="000",e.NO_INTERNET="001"}(Wp||(Wp={}));var Kp=new(function(){function e(e){this.logLevel_=Up.DEBUG,this.logLevel_=e}var t=e.prototype;return t.error=function(){var e;this.logLevel_>=Up.ERROR&&(e=console).error.apply(e,arguments)},t.warn=function(){var e;this.logLevel_>=Up.WARN&&(e=console).warn.apply(e,arguments)},t.info=function(){var e;this.logLevel_>=Up.INFO&&(e=console).info.apply(e,arguments)},t.debug=function(){var e;this.logLevel_>=Up.DEBUG&&(e=console).debug.apply(e,arguments)},kp(e,[{key:"logLevel",get:function(){return this.logLevel_},set:function(e){this.logLevel_=e}}]),e}())(Up.DEBUG);new(function(){function e(){this.platform_=Fp.JAVASCRIPT}var t=e.prototype;return t.unexpectedError=function(e){return e.reason=Vp.UNEXPECTED_ERROR,e.caller||(e.caller="unexpectedError"),this.generateEvent(e)},t.identityRequired=function(e){return e.reason=Vp.IDENTITY_REQUIRED,e.caller||(e.caller="identityRequired"),this.generateEvent(e)},t.authenticationRequired=function(e){return e.reason=Vp.AUTHENTICATION_REQUIRED,e.caller||(e.caller="authenticationRequired"),this.generateEvent(e)},t.notEntitled=function(e){return e.reason=Vp.NOT_ENTITLED,e.caller||(e.caller="notEntitled"),this.generateEvent(e)},t.concurrencyLimitReached=function(e){return e.reason=Vp.CONCURRENCY_LIMIT_REACHED,e.caller||(e.caller="concurrencyLimitReached"),this.generateEvent(e)},t.parentalRestrictions=function(e){return e.reason=Vp.PARENTAL_RESTRICTIONS,e.caller||(e.caller="parentalRestrictions"),this.generateEvent(e)},t.geoLocationRequired=function(e){return e.reason=Vp.GEO_LOCATION_REQUIRED,e.caller||(e.caller="geoLocationRequired"),this.generateEvent(e)},t.geoLocationAcquisitionError=function(e){return e.reason=Vp.GEO_LOCATION_ACQUISITION_ERROR,e.caller||(e.caller="geoLocationAcquisitionError"),this.generateEvent(e)},t.geoLocationNotAllowed=function(e){return e.reason=Vp.GEO_LOCATION_NOT_ALLOWED,e.caller||(e.caller="geoLocationNotAllowed"),this.generateEvent(e)},t.invalidMedia=function(e){return e.reason=Vp.INVALID_MEDIA,e.caller||(e.caller="invalidMedia"),this.generateEvent(e)},t.mediaUnavailable=function(e){return e.reason=Vp.MEDIA_UNAVAILABLE,e.caller||(e.caller="mediaUnavailable"),this.generateEvent(e)},t.temporarilyUnavailable=function(e){return e.reason=Vp.TEMPORARY_UNAVAILABLE,e.caller||(e.caller="temporarilyUnavailable"),this.generateEvent(e)},t.networkConnection=function(e){return e.reason=Vp.NETWORK_CONNECTION,e.caller||(e.caller="networkConnection"),this.generateEvent(e)},t.unsupportedDRM=function(e){return e.reason=Vp.UNSUPPORTED_DRM,e.caller||(e.caller="u_REQUEST_FAILED},kp(e,[{key:"logLevel",get:function(){return Kp.logLevel},set:function(e){Kp.logLevel=e}},{key:"eventCoordinator",get:function(){return this.coordinator_},set:function(e){this.coordinator_=e}}]),e}());var zp,Xp,Qp,$p,Jp,Zp,ef,tf=function(){function e(e){this.config_=e}return kp(e,[{key:"cause",get:function(){return this.config_.cause}},{key:"reason",get:function(){return this.config_.reason}}]),e}();!function(e){e[e.NONE=-1]="NONE",e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG"}(zp||(zp={})),function(e){e[e.FAILURE=0]="FAILURE",e[e.WARNING=1]="WARNING"}(Xp||(Xp={})),function(e){e.ANDROID="A",e.APPLE="I",e.JAVASCRIPT="J"}(Qp||(Qp={})),function(e){e.PLAYER_CORE="PE",e.PLAYER_UI="PUI"}($p||($p={})),function(e){e.PLAYBACK_COMPLETED="40"}(Jp||(Jp={})),{}[Jp.PLAYBACK_COMPLETED]="mediaItemPlaybackCompleted",function(e){e.MEDIA_ITEM="MI",e.PLAYBACK_ACCESS="PA",e.PLAYBACK_SESSION="PS",e.MEDIA_PLAYER="MP",e.PLAYER_PLUGIN="PL"}(Zp||(Zp={})),function(e){e.PLAYBACK_CFA="CFA",e.GRAPH_QL="GQL",e.ENTERTAINMENT="ENT",e.PLAYBACK_ACCESS_MANAGER="PAM",e.ADOBE_PASS="AP",e.ISP="ISP",e.TVE="TVE",e.BAM="BAM",e.CHROMECAST_RECEIVER_MEDIA_PLAYER="CRMP",e.PLAYER_ADAPTER_BUNDLE="PAB",e.DIGITAL_RIGHTS_MANAGEMENT="DRM",e.SHIELD="SHD",e.ENTITLEMENT="ENTL",e.CONCURRENCY_M));var nf,re}var t=e.prototype;return t.error=function(){var e;this.logLevel_>=zp.ERROR&&(e=console).error.apply(e,arguments)},t.warn=function(){var e;this.logLevel_>=zp.WARN&&(e=console).warn.apply(e,arguments)},t.info=function(){var e;this.logLevel_>=zp.INFO&&(e=console).info.apply(e,arguments)},t.debug=function(){var e;this.logLevel_>=zp.DEBUG&&(e=console).debug.apply(e,arguments)},kp(e,[{key:"logLevel",get:function(){return this.logLevel_},set:function(e){this.logLevel_=e}}]),e}())(zp.DEBUG);new(function(){function e(){this.platform_=Qp.JAVASCRIPT}var t=e.prototype;return t.playbackSuccess=function(e){return e.reason=Jp.PLAYBACK_COMPLETED,e.caller||(e.caller="playbackSuccess"),this.generateEvent(e)},t.generateEvent=function(e){if(e.platform||(e.platform=this.platform_),!(e.reason&&e.platform&&e.segment&&e.component&&e.feature))return rf.warn(this.constructor.name+"->'track' called from "+e.caller+": specify all CodesConfig params to track event "+e),null;var t=new tf(e);return this.coordinator_&&e.eventName&&this.coordinator_.coordinate(e.eventName,t),t},kp(e,[{key:"logLevel",get:function(){return rf.logLevel},set:function(e){rf.logLevel=e}},{key:"eventCoordinator",get:function(){return this.coordinator_},set:function(e){this.coordinator_=e}}]),e}()),function(e){e.FINISH="finish",e.FMI="FMI",e.FETCH_ITEM="FMI",e.FMI_S="FMI_S",e.FMI_F="FMI_F",e.FMI_E="FMI_E",e.FMI_R="FMI_R",e.FC="FC",e.FC_S="FC_S",e.FC_F="FC_F",e.CAZ="CAZ",e.CAN_T="CAN<T>",e.CAZ_T="CAZ<T>",e.B_FM="B_FM",e.B_FMF="B_FMF",e.B_RIT="B_RIT",e.B_L="B_L",e.B_RA="B_RA",e.T_FESPN="T_FESPN",e.T_FESPNF="T_FESPNF",e.T_FSH="T_FSH",e.T_FSHF="T_FSHF",e.T_FSS="T_FSS",e.T_FSSF="T_FSSF",e.T_FE="T_FE",e.T_FEF="T_FEF",e.T_NIT="T_NIT",e.T_CHP="T_CHP",e.T_PL="T_PL",e.T_CMAN="T_CMAN",e.T_PJWT="T_PJWT",e.T_NJWT="T_NJWT",e.T_BJWT="T_BJWT",e.MPS="MPS",e.CM_I="CM_I",e.CM_IF="CM_IF",e.B_P="B_P",e.MP_I="MP_I",e.MP_L="MP_L",e.MP_S="MP_S",e.MP_C_PA="MP_C_PA",e.MP_C_PL="MP_C_PL",e.MP_SE="MP_SE",e.MP_S_S="MP_S_S",e.MP_S_E="MP_S_E",e.MP_V_M="MP_V_M",e.MP_V_U="MP_V_U",e.MP_CC_ON="MP_CC_ON",e.MP_CC_OFF="MP_CC_OFF",e.MP_C_C="MP_C_C",e.MP_D="MP_D",e.C_P_G_C_F="C_P_G_C_F",e.C_P_G_T_F="C_P_G_T_F",e.C_P_T_F="C_P_T_F",e.C_P_R_V_F="C_P_R_V_F",e.MP_AB_S="MP_AB_S",e.MP_AB_E="MP_AB_E",e.MP_A_S="MP_A_S",e.MP_A_E="MP_A_E",e.MP_A_CL="MP_A_CL",e.MP_A_CO="MP_A_CO",e.MP_A_F="MP_A_F",e.AOF="AOF",e.AOF_F="AOF_F",e.AOF_E="AOF_E",e.AOF_S="AOF_S",e.PCHF="PCHF",e.PCHF_I="PCHF_I",e.PCHF_I_F="PCHF_I_F",e.PCHF_I_S="PCHF_I_S",e.PCHF_M="PCHF_M",e.PCHF_M_F="PCHF_M_F",e.PCHF_M_S="PCHF_M_S",e.PCHF_PCH="PCHF_PCH",e.PCHF_PNCH="PCHF_PNCH"}(nf||(nf={}));var af=function(e){function t(){return e.apply(this,arguments)||this}Pp(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-ad-meta"});return this.player_=this.player(),this.onClick_=this.onClick_.bind(this),this.onPause_=this.onPause_.bind(this),this.onResume_=this.onResume_.bind(this),this.onDispose_=this.onDispose_.bind(this),this.player_.on("dispose",this.onDispose_),this.isPause_=!1,t.innerHTML='<span class="vjs-ad-badge">'+this.localize("Ad")+"</span>",this.learnMore_=document.createElement("span"),this.learnMore_.classList.add("vjs-ad-learn-more"),this.learnMore_.innerText=this.localize("Learn More"),this.learnMore_.setAttribute("tabindex","0"),this.learnMore_.setAttribute("aria-role","link"),this.learnMore_.addEventListener("click",this.onClick_),t.appendChild(this.learnMore_),t},n.onClick_=function(e){e.stopPropagation(),thif.MP_A_CL),this.isPause_?this.player_.ima.getAdsManager().clicked():(this.adsManager_||(this.adsManager_=this.player_.ima.getAdsManager(),this.adsManager_.addEventListener("pause",this.onPause_),this.adsManager_.addEventListener("resume",this.onResume_)),this.isPause_=!0,this.adsManager_.pause())},n.onResume_=function(){this.isPause_&&(this.isPause_=!1)},n.onPause_=function(){this.isPause_?this.adsManager_.clicked():this.isPause_=!0},n.onDispose_=function(){this.adsManager_&&(this.adsManager_.removeEventListener("pause",this.onPause_),this.adsManager_.removeEventListener("resume",this.onResume_),this.adsManager_=null),this.learnMore_&&(this.learnMore_.removeEventListener("click",this.onClick_),this.learnMore_=null),this.player_&&(this.player_.off("dispose"),this.player_=null)},t}(yu.getComponent("Component")),sf=function(e){function t(t){var n;return(n=e.call(this,t)||this).hide(),n.onDispose=n.onDispose.bind(wp(n)),n.on(t,"ads-ad-started",n.show),n.on(t,["ads-ad-ended","adend","ads-ad-skipped"],n.hide),n.on(t,"dispose",n.onDispose),n}Pp(t,e);var n=t.prototype;return n.onDispose=function(){var e=this.player();this.off(e,"ads-ad-started",this.show),this.off(e,["ads-ad-ended","adend","ads-ad-skipped"],this.hide),this.off(e,"dispose",this.onDispose)},n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-ad-countdown"});return t.innerHTML='Ad <span class="vjs-ad-countdown-current-ad"></span> of <span class="vjs-ad-countdown-total-ads"></span>',t},t}(yu.getComponent("Component")),of=function(e){function t(t,n){var i;return(i=e.call(this,t)||this).player=t,i.options=n,i.advertisementService_=n.advertisementService,i.isEnabledOnGracePeriod=i.options.enableGracePeriod,i.isEnabledOnGracePeriod&&i.advertisementService_&&i.advertisementService_.initAdGracePeriod(n.gracePeriodTime),i.registerAdComponents(),i.bindPlayerEvents(),i}Pp(t,e);var n=t.prototype;return n.registerAdComponents=function(){var e=this.player,t=this.options.enableAdCountdown;yu.registerComponent("AdLearnMoreButton",af),yu.registerComponent("AdDurahis.controlWrapper=e.addChild("AdControlWrapper"),this.controlWrapper.addChild("AdLearnMoreButton"),this.controlWrapper.addChild("AdDurationCountdown"),t&&(yu.registerComponent("AdCountdownWrapper",sf),this.countdownWrapper=e.addChild("AdCountdownWrapper"))},n.bindPlayerEvents=function(){var e=this.player;this.onAdsRequest=this.onAdsRequest.bind(this),this.onAdsReady=this.onAdsReady.bind(this),this.onAdsStarted=this.onAdsStarted.bind(this),this.onAllAdsCompleted=this.onAllAdsCompleted.bind(this),this.onError=this.onError.bind(this),this.unBindPlayerEvents=this.unBindPlayerEvents.bind(this),this.mouseEnter=this.mouseEnter.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.mouseClick=this.mouseClick.bind(this),this.checkForGracePeriod=this.checkForGracePeriod.bind(this),this.saveAdsEndTime=this.saveAdsEndTime.bind(this),this.onPodEnded=this.onPodEnded.bind(this),this.onPodStarted=this.onPodEnded.bind(this),this.onTogglePlay=this.onTogglePlay.bind(this),this.onTogglePlayVideo=this.onTogglePlayVideo.bind(this),e.on("ads-allpods-completed",this.onAllAdsCompleted),e.on("ads-ad-started",this.onAdsStarted),e.on("ads-request",this.onAdsRequest),e.on("adsready",this.onAdsReady),e.on("error",this.onError),e.on("ads-pod-started",this.onPodStarted),e.on("ads-pod-ended",this.onPodEnded),e.on("dtci.togglePlay",this.onTogglePlayVideo),this.isEnabledOnGracePeriod&&(e.ima&&e.on("adstart",this.checkForGracePeriod),e.one("ads-pod-ended",this.saveAdsEndTime),this.endListenerSet=!0),this.playControlElement=document.querySelector(".vjs-play-control"),this.playControlElement.addEventListener("click",this.onTogglePlay),this.playControlElement.addEventListener("touchstart",this.onTogglePlay),this.on("dispose",this.unBindPlayerEvents)},n.onTogglePlayVideo=function(){this.isEnabledOnGracePeriod&&this.isDiscardAd_&&this.player.pause()},n.onTogglePlay=function(){this.advertisementService_.isInAdGracePeriod?this.playControlElement&&(this.playControlElement.classList.contains("vjs-playing")&&(this.isDiscardAd_=!0),this.playControlElement.classList.contains("vjs-paused")&&(this.isDiscardAd_=!1)):this.isDiscardAd_=!1},n.saveAdsEndTime=function(){this.advertisementService_.isInAdGracePeriod||setTimeout(this.advertisementService_.setAdGracePeriod,0),this.endListenerSet=!1},n.checkForGracePeriod=function(){var e=this.player;if(this.advertisementService_.isInAdGracePeriod){var t=e.ima,n=t&&"function"==typeof t.getAdsManager&&t.getAdsManager();n&&"function"==typeof n.discardAdBreak&&n.discardAdBreak()}else this.endListenerSet||(e.one("ads-pod-ended",this.saveAdsEndTime),this.endListenerSet=!0)},n.unBindPlayerEvents=function(){var e=this.player;e&&(e.off("ads-allpods-completed",this.onAllAdsCompleted),e.off("ads-ad-started",this.onAdsStarted),e.off("ads-request",this.onAdsRequest),e.off("adsready",this.onAdsReady),e.off("error",this.onError),e.off("ads-pod-started",this.onPodStarted),e.off("ads-pod-ended",this.onPodEnded),e.off("dtci.togglePlay",this.onTogglePlayVideo),this.isEnabledOnGracePeriod&&e.ima&&e.off("adstart",this.checkForGracePeriod),this.off("dispose",this.unBindPlayerEvents)),this.playControlElement&&(this.playControlElement.removeEventListener("click",this.onTogglePlay),this.playControlElement.removeEventListener("touchstart",this.onTogglePlay))},n.onPodEnded=function(){this.player.controlBar&&this.player.controlBar.el_&&this.player.controlBar.el_.classList.remove("vjs-hidden"),this.player.bigPlayButton&&this.player.bigPlayButton.el_&&this.player.bigPlayButton.el_.classList.remove("vjs-hidden")},n.onPodStarted=function(){this.player.controlBar&&this.player.controlBar.el_&&this.player.controlBar.el_.classList.add("vjs-hidden"),this.player.bigPlayButton&&this.player.bigPlayButton.el_&&this.player.bigPlayButton.el_.classList.add("vjs-hidden")},n.mouseEnter=function(){this.player.ima.controller.adUi.sliderDiv.classList.add("ima-slider-div-showing")},n.mouseLeave=function(){this.player.ima.controller.adUi.sliderDiv.classList.remove("ima-slider-div-showing")},n.mouseClick=function(e){e.stopPropagation()},n.onAdsRequest=function(){var e=(this.player||{}).ima;e&&!this.player.options.autoplay&&e.controller.getAdContainerDiv().classList.add("vjs-hidden")},n.onAdsReady=function(){var e=(this.player||{}).ima;e&&(this.adsManager="function"==typeof e.getAdsManager&&e.getAdsManager(),this.imaAdContainerDiv=e.controller.getAdContainerDiv(),this.imaAdLearnMoreDiv=this.imaAdContainerDiv.parentNode.querySelector(".vjs-ad-learnMore-skip"),e&&(e.controller.adUi.muteDiv.addEventListener("mouseenter",this.mouseEnter),e.controller.adUi.sliderDiv.addEventListener("mouseleave",this.mouseLeave),e.controller.adUi.sliderDiv.addEventListener("click",this.mouseClick)),this.adsManager&&"function"==typeof this.adsManager.updateAdsRenderingSettings&&this.adsManager.updateAdsRenderingSettings({disableUi:!0}))},n.updateAdCountdown=function(e,t){if(e&&t){var n=document.querySelector(".vjs-ad-countdown .vjs-ad-countdown-current-ad"),i=document.querySelector(".vjs-ad-countdown .vjs-ad-countdown-total-ads");n.innerText=t,i.innerText=e,this.countdownWrapper.show()}else this.countdownWrapper.hide()},n.onAdsStarted=function(){var e,t=(this.player||{}).ima,n=this.options.enableAdCountdown;if(t){if(!this.player.options.autoplay)t.controller.getAdContainerDiv().classList.remove("vjs-hidden");var i=t.getAdsManager();i&&"function"==typeof i.getCurrentAd&&(e=i.getCurrentAd());var r=e&&e.isUiDisabled();t.controller.adUi.controlsDiv.hidden=!1,this.controlWrapper.show(),r||(i.updateAdsRenderingSettings({disableUi:!1}),t.controller.adUi.controlsDiv.hidden=!0,this.controlWrapper.hide())}if(n){var a=this.getTotalAdsAndAdPosition(e),s=a.totalAds,o=a.adPosition;s&&o&&this.updateAdCountdown(s,o)}},n.getTotalAdsAndAdPosition=function(e){var t=e&&"function"==typeof e.getAdPodInfo&&e.getAdPodInfo();return t&&"function"==typeof t.getTotalAds&&"function"==typeof t.getAdPosition?{totalAds:t.getTotalAds(),adPosition:t.getAdPosition()}:{}},n.onAllAdsCompleted=function(){var e=(this.player||{}).ima;e&&(e.controller.adUi.muteDiv.removeEventListener("mouseenter",this.mouseEnter),e.controller.adUi.sliderDiv.removeEventListener("mouseleave",this.mouseLeave),e.controller.adUi.sliderDiv.removeEventListener("click",this.mouseClick))},n.onError=function(){this.controlWrapper.hide()},t}(yu.getPlugin("plugin"));of.defaultState={},of.VERSION="0.0.0",yu.registerPlugin("adUI",of);var lf=t(n((function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}))),uf=t(n((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}))),df=n((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(df);var cf=t(n((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,df(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),hf=t(n((function(e){function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}))),pf=n((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(pf);var ff=n((function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports}));t(ff);var mf=n((function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports}));t(mf);var gf=n((function(e){function t(n,i,r){return mf()?(e.exports=t=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=t=function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&df(r,n.prototype),r},e.exports.__esModule=!0,e.exports.default=e.exports),t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(gf);var vf,yf,_f,Tf,bf,Ef,Af,Sf,Cf,If=function(e){function t(t){var n;return(n=e.call(this,t.message)||this).config_=t,n}return cf(t,e),hf(t,[{key:"code",get:function(){return this.config_.platform+"-"+this.config_.segment+"-"+this.config_.reason+" "+this.config_.component+"-"+this.config_.feature+"-"+this.config_.errorCode}},{key:"cause",get:function(){return this.config_.cause}},{key:"reason",get:function(){return this.config_.reason}}]),t}(t(n((function(e){function t(n){var i="function"==typeof Map?new Map:void 0;return e.exports=t=function(e){if(null===e||!ff(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,t)}function t(){return gf(e,arguments,pf(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),df(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})))(Error));!function(e){e[e.NONE=-1]="NONE",e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG"}(yf||(yf={})),function(e){e[e.FAILURE=0]="FAILURE",e[e.WARNING=1]="WARNING"}(_f||(_f={})),function(e){e.ANDROID="A",e.APPLE="I",e.JAVASCRIPT="J"}(Tf||(Tf={})),function(e){e.PLAYER_CORE="PE",e.PLAYER_UI="PUI"}(bf||(bf={})),function(e){e.UNEXPECTED_ERROR="0",e.IDENTITY_REQUIRED="1",e.AUTHENTICATION_REQUIRED="2",e.NOT_ENTITLED="3",e.CONCURRENCY_LIMIT_REACHED="4",e.PARENTAL_RESTRICTIONS="5",e.GEO_LOCATION_REQUIRED="6",e.GEO_LOCATION_ACQUISITION_ERROR="7",e.GEO_LOCATION_NOT_ALLOWED="8",e.INVALID_MEDIA="9",e.MEDIA_UNAVAILABLE="10",e.TEMPORARY_UNAVAILABLE="11",e.NETWORK_CONNECTION="12",e.UNSUPPORTED_DRM="13",e.REQUIRES_LBS="14",e.PLAYREADY_LICENSE_FAILED="15",e.DAMAGED_MEDIA_DATA="16"}(Ef||(Ef={})),(vf={})[Ef.UNEXPECTED_ERROR]="unexpectedError",vf[Ef.IDENTITY_REQUIRED]="identityRequired",vf[Ef.AUTHENTICATION_REQUIRED]="authenticationRequired",vf[Ef.NOT_ENTITLED]="notEntitled",vf[Ef.CONCURRENCY_LIMIT_REACHED]="concurrencyLimitReached",vf[Ef.PARENTAL_RESTRICTIONS]="parentalRestrictions",vf[Ef.GEO_LOCATION_REQUIRED]="geoLocationRequired",vf[Ef.GEO_LOCATION_ACQUISITION_ERROR]="geoLocationAcquisitionError",vf[Ef.GEO_LOCATION_NOT_ALLOWED]="geoLocationNotAllowed",vf[Ef.INVALID_MEDIA]="invalidMedia",vf[Ef.MEDIA_UNAVAILABLE]="mediaUnavailable",vf[Ef.TEMPORARY_UNAVAILABLE]="temporarilyUnavailable",vf[Ef.NETWORK_CONNECTION]="networkConnection",vf[Ef.UNSUPPORTED_DRM]="unsupportedDRM",vf[Ef.REQUIRES_LBS]="requiresLbs",vf[Ef.PLAYREADY_LICENSE_FAILED]="playreadyLicenseFailed",vf[Ef.DAMAGED_MEDIA_DATA]="damagedMediaData",function(e){e.MEDIA_ITEM="MI",e.PLAYBACK_ACCESS="PA",e.PLAYBACK_SESSION="PS",e.MEDIA_PLAYER="MP",e.PLAYER_PLUGIN="PL"}(Af||(Af={})),function(e){e.PLAYBACK_CFA="CFA",e.GRAPH_QL="GQL",e.ENTERTAINMENT="ENT",e.PLAYBACK_ACCESS_MANAGER="PAM",e.ADOBE_PASS="AP",e.ISP="ISP",e.TVE="TVE",e.BAM="BAM",e.CHROMECAST_RECEIVER_MEDIA_PLAYER="CRMP",e.PLAYER_ADAPTER_BUNDLE="PAB",e.DIGITAL_RIGHTS_MANAGEMENT="DRM",e.SHIELD="SHD",e.ENTITLEMENT="ENTL",e.CONCURRENCY_MONITORING="CM",e.END_CARD_UI="ECU"}(Sf||(Sf={})),function(e){e.BAD_REQUEST="400",e.UNAUTHORIZED="401",e.FORBIDDEN="403",e.NOT_FOUND="404",e.METHOD_NOT_ALLOWED="405",e.NOT_ACCEPTABLE="406",e.TIMEOUT="408",e.CONFLICT="409",e.GONE="410",e.LENGTH_REQUIRED="411",e.PRECONDITION_FAILED="412",e.ENTITY_TOO_LARGE="413",e.URI_TOO_LONG="414",e.UNSUPPORTED_MEDIA_TYPE="415",e.RANGE_NOT_SATISFIABLE="416",e.EXPECTATION_FAILED="417",e.INTERNAL_SERVER_ERROR="500",e.NOT_IMPLEMENTED="501",e.BAD_GATEWAY="502",e.SERVICE_UNAVAILABLE="503",e.GATEWAY_TIMEOUT="504",e.HTTP_VERSION_NOT_SUPPORTED="505",e.EMBARGOED_CONTENT="100",e.EXPIRED_CONTENT="101",e.INVALID_RESPONSE="102",e.INVALID_DEVICE="103",e.UNSUPPORTED_SESSION="104",e.GEOLOCATION_NOT_ALLOWED="105",e.PROXY_NOT_ALLOWED="106",e.REFERRER_NOT_ALLOWED="107",e.INVALID_DATA_PROVIDED="108",e.SHIELD_DRM_REQUIRED="109",e.PLAYER_BUNDLE_FAILED_TO_LOAD="700",e.PLAYER_NOT_READY="701",e.PLAYER_CAN_NOT_BE_DISPOSED="702",e.PLAYER_CAN_NOT_PLAY_PAUSE="703",e.PLAYER_SHAKA_ERROR="704",e.PLAYER_NO_VIDEO_TAG="705",e.PLAYER_NO_CORE_FOUND="706",e.PLAYER_MEDIA_ERR_CUSTOM="708",e.PLAYER_MEDIA_ERR_ABORTED="709",e.PLAYER_MEDIA_ERR_NETWORK="710",e.PLAYER_MEDIA_ERR_DECODE="711",e.PLAYER_MEDIA_ERR_SRC_NOT_SUPPORTED="712",e.PLAYER_MEDIA_ERR_ENCRYPTED="713",e.PLAYER_UNKNOWN="003",e.ADS_PROVIDER_ERR="801",e.ADS_FAILED_TO_LOAD="802",e.SHAKA_PLAYER_DRM_ERROR="715",e.PLAYREADY_LICENSE_FAILED="718",e.PLAYER_BUNDLE_FAILED_TO_CREATE="719",e.AD_ONLY_FAILED="720",e.PLAYER_CONFIGURATION_ERR="721",e.PLAYER_ANALYTIC_INIT_ERR="722",e.CONCURRENCY_LIMIT_REACHED="707",e.PLAYER_PROGRAM_CHANGE_FAILED="728",e.TEXT_DECODER_ABSENT="723",e.AUDIO_CONTEXT_ABSENT="724",e.TEXT_DECODING_FAILED="725",e.STYLE_SETUP_FAILED="726",e.SOCIAL_COPY_FAILED="727",e.GEOLOCATION_PROXY="200x",e.DISTRIBUTOR_REQUEST_FAILED="201x",e.MEDIA_ITEM_MISSING="200",e.END_CARD_ERR="201",e.PLUTO_REQUEST_FAILED="302",e.SHIELD_REQUEST_FAILED="202",e.GQL_REQUEST_FAILED="600",e.UNKNOWN="000",e.NO_INTERNET="001"}(Cf||(Cf={}));var Pf=new(function(){function e(e){this.logLevel_=yf.DEBUG,this.logLevel_=e}var t=e.prototype;return t.error=function(){var e;this.logLevel_>=yf.ERROR&&(e=console).error.apply(e,arguments)},t.warn=function(){var e;this.logLevel_>=yf.WARN&&(e=console).warn.apply(e,arguments)},t.info=function(){var e;this.logLevel_>=yf.INFO&&(e=console).info.apply(e,arguments)},t.debug=function(){var e;this.logLevel_>=yf.DEBUG&&(e=console).debug.apply(e,arguments)},hf(e,[{key:"logLevel",get:function(){return this.logLevel_},set:function(e){this.logLevel_=e}}]),e}())(yf.DEBUG);new(function(){function e(){this.platform_=Tf.JAVASCRIPT}var t=e.prototype;return t.unexpectedError=function(e){return e.reason=Ef.UNEXPECTED_ERROR,e.caller||(e.caller="unexpectedError"),this.generateEvent(e)},t.identityRequired=function(e){return e.reason=Ef.IDENTITY_REQUIRED,e.caller||(e.caller="identityRequired"),this.generateEvent(e)},t.authenticationRequired=function(e){return e.reason=Ef.AUhenticationRequired"),this.generateEvent(e)},t.notEntitled=function(e){return e.reason=Ef.NOT_ENTITLED,e.caller||(e.caller="notEntitled"),this.generateEvent(e)},t.concurrencyLimitReached=function(e){return e.reason=Ef.CONCURRENCY_LIMIT_REACHED,e.caller||(e.caller="concurrencyLimitReached"),this.generateEvent(e)},t.parentalRestrictions=function(e){return e.reason=Ef.PARENTAL_RESTRICTIONS,e.caller||(e.caller="parentalRestrictions"),this.generateEvent(e)},t.geoLocationRequired=function(e){return e.reason=Ef.GEO_LOCATION_REQUIRED,e.caller||(e.caller="geoLocationRequired"),this.generateEvent(e)},t.geoLocationAcquisitionError=function(e){return e.reason=Ef.GEO_LOCATION_ACQUISITION_ERROR,e.caller||(e.caller="geoLocationAcquisitionError"),this.generateEvent(e)},t.geoLn e.reason=Ef.GEO_LOCATION_NOT_ALLOWED,e.caller||(e.caller="geoLocationNotAllowed"),this.generateEvent(e)},t.invalidMedia=function(e){return e.reason=Ef.INVALID_MEDIA,e.caller||(e.caller="invalidMedia"),this.generateEvent(e)},t.mediaUnavailable=function(e){return e.reason=Ef.MEDIA_UNAVAILABLE,e.caller||(e.caller="mediaUnavailable"),this.generateEvent(e)},t.temporarilyUnavailable=function(e){return e.reason=Ef.TEMPORARY_UNAVAILABLE,e.caller||(e.caller="temporarilyUnavailable"),this.generateEvent(e)},t.networkConnection=function(e){return e.reason=Ef.NETWORK_CONNECTION,e.caller||(e.caller="networkConnection"),this.generateEvent(e)},t.unsupportedDRM=function(e){return e.reason=Ef.UNSUPPORTED_DRM,e.caller||(e.caller="unsupportedDRM"),this.generateEvent(e)},t.requiresLbs=function(e){return e.reason=Ef.REQUIRES_LBS,e.caller||(e.caller="requiresLbs"),this.generateEvent(e)},t.playreadyLicenseFailed=function(e){return e.reason=Ef.PLAYREADY_LICENSE_FAILED,e.caller||(e.caller="playreadyLicenseFailed"),this.generateEvent(e)},t.damagedMediaData=function(e){return e.reason=Ef.DAMAGED_MEDIA_DATA,e.caller||(e.caller="damagedMediaData"),this.generateEvent(e)},t.generateEvent=function(e){if(e.platform||(e.platform=this.platform_),!(e.reason&&e.platform&&e.segment&&e.component&&e.feature&&e.errorCode))return Pf.error(this.constructor.name+"->'track' called from "+e.caller+": specify all CodesConfig params to track event "+e),null;var t=new If(e);this.coordinator_&&e.eventName&&this.coordinator_.coordinate(e.eventName,t);var n=this.constructor.name+": "+t.code+" "+t.message;switch(t.cause&&(n+=". Caused by"),e.severity){case _f.WARNING:t.cause?Pf.warn(n,t.cause):Pf.warn(n);break;default:t.cause?Pf.error(n,t.cause):Pf.error(n)}return t},t.defineMediaItemFeatureByIdentifier=function(e){return e.match("natgeo")?Sf.PLAYBACK_CFA:e.match("abcnews")?Sf.ENTERTAINMENT:Sf.GRAPH_QL},t.defineMediaItemErrorCodesByIdentifier=function(e){return e.match("natgeo")?Cf.SHIELD_REQUEST_FAILED:e.match("abcnews")?Cf.PLUTO_REQUEST_FAIL,get:function(){return this.coordinator_},set:function(e){this.coordinator_=e}}]),e}());var kf=yu.getComponent("Component"),wf=yu.dom,Lf=function(e){function t(){return e.apply(this,arguments)||this}return cf(t,e),t.prototype.createEl=function(){var e=this.options_,t=wf.createEl("div",{className:"evp-endcard"}),n=wf.createEl("div",{className:"evp-endcard-headline"});n.innerHTML="<h2>"+this.localize("Up Next")+'</h2>\n      <span class="evp-endcard-next-title">'+e.headline+"</span>";var i=wf.createEl("div",{className:"evp-endcard-next-thumbnail"}),r=wf.createEl("span",{className:"evp-endcard-timeout-button"},{tabIndex:0,role:"button","aria-label":this.losvg width="54" height="54" class="evp-endcard-timer">\n  <circle id="evp-endcard-timer-circle_'+this.player().id()+'" class="start-timer"\n    r="23.57" cy="27" cx="27" stroke-width="4" stroke="#ffffff" fill="none"/>\n</svg>',r.addEventListener("click",e.clickHandler),r.addEventListener("keypress",(function(t){13===t.keyCode&&e.clickHandler()}));var a=wf.createEl("img",{src:e.imageUrl});if(e.isEntertainment){var s=wf.createEl("span",{className:"evp-endcard-timer"}),o=wf.createEl("button",{className:"evp-endcard-close-button","aria-label":"Close"});o.addEventListener("click",e.closeHandler),r.innerHTML="<h2>"+this.localize("WATCH NOW")+"</h2>",r.setAttribute("aria-label",this.localize("WATCH NOW")+" "+e.sortTitle+", "+e.headline),n.innerHTML=n.innerHTML+' <span class="evp-endcard-show-title">'+e.sortTitle+"</span>",wf.insertContent(t,[n,s,o,r])}else wf.insertContent(i,[r,a]),wf.insertContent(t,[n,i]);return t},t}(kf);yu.registerComponent("EndcardUI",Lf);var Rf,Df=yu.getPlugin("plugin"),Of=function(e){function t(t){var n;n=e.call(this,t)||this,Rf=t.NewRelicService,n.onPlay=n.onPlay.bind(uf(n)),n.play=function(){return n.player.play()},n.stopTimeout=n.stopTimeout.bind(uf(n)),n.onEnded=n.onEnded.bind(uf(n)),n.onContentPlayback=n.onContentPlayback.bind(uf(n)),n.onMediaChange=n.onMediaChange.bind(uf(n)),n.endCardTriggerContext=null,t.on("ended",n.onEnded);return t.on("dispose",(function e(){n.stopInterval(),n.endCardTriggerContext=null,t.off("ended",n.onEnded),t.off("play",n.onPlay),t.off("switch",e),t.off("dispose",e),t.off("dtci.socialOverlay.opened",n.stopTimeout),t.off("contentupdate",n.play),t.mediaItem&&"pluto"===t.mediaItem.apiSource&&t.off("timeupdate",n.onContentPlayback),t.off("mediachange",n.onMediaChange)})),n}cf(t,e);var n=t.prototype;return n.onContentPlayback=function(){ntext();var e=!this.player.ads||!this.player.ads.state||"content-playback"===this.player.ads.state;if(Math.floor(this.player.currentTime())>=this.endCardTriggerContext.timePoint&&e&&this.options.getNextContent){this.player.off("timeupdate",this.onContentPlayback);var t=this.displayNextContentEntertainment.bind(this);this.options.getNextContent().then(t)}},n.onMediaChange=function(e){var t=this.player,n=e.target,i=n.currentTime>=t.mediaItem.duration-1,r=t.trigger?t:t.bundle.pH_DATA&&a!==n.HAVE_FUTURE_DATA&&r.trigger("ended")}},n.updateOptions=function(e){var t=this.player,n=e.timeout,i=void 0===n?5:n;this.options=lf({},e,{timeout:i}),e.clip&&"pluto"===e.clip.apiSource&&"live"!==e.clip.streamType&&(t.off("timeupdate",this.onContentPlayback),t.on("timeupdate",this.onContentPlayback)),t.off("mediachange",this.onMediaChange),t.on("mediachange",this.onMediaChange)},n.createEndCardContext=function(){var e,t,n=this.player.mediaItem,i=(n=void 0===n?{}:n).duration/1e3,r=this.getFirstCueEndCardCoundDownValue();i&&(e=i-this.options.remaining,t=i-30);var a=e||r||t||0;this.endCardTriggerContext={timePoint:Math.floor(a)}},n.stopInterval=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},n.stopTimeout=function(){this.stopInterval(),this.player.removeClass("evp-endcard-timeout-active"),this.player.addClass("evp-endcard-timeout-stopped")},n.setCountdown=function(e){var t=this,n=this.options.timeout-this.intervalCount+1;return this.player.addClass("evp-endcard-timeout-active"),this.player.removeClass("evp-endcard-timeout-stopped"),setInterval((function(){var i=document.getElementById("evp-endcardount<=0&&(t.stopInterval(),e(!1)),n+=1}),1e3)},n.hide=function(){var e=this.player;this.stopInterval(),e.endcardUI=e.removeChild("endcardUI"),e.removeClass("evp-endcard-open"),e.removeClass("evp-endcard-timeout-active"),e.removeClass("evp-endcard-timeout-stopped")},n.onPlay=function(){return this.hide(),!1},n.onEnded=function(){var e=this.player;e.pause(),e.off("mediachange"),e.one("dtci.socialOverlay.opened",this.stopTimeout),e.one("contentupdate",this.play),e.one("play",this.onPlay);var t=!e.ads.state;if(e.ads&&e.ads._state&&(t=e.ads._state.constructor&&"function"==typeof e.ads._state.constructor._getName&&"contentplayback"===e.ads._state.constructor._getName().toLowerCase()),t){var n=this.displayEndcard.bind(this);this.options.getNextContentntdown=function(e){var t=this,n=document.querySelector(".evp-endcard-timer"),i=Math.floor(this.player.duration()-this.player.currentTime()),r=this.getFirstCueEndCardCoundDownValue(),a=this.player,s=(a=void 0===a?{}:a).mediaItem,o=(s=void 0===s?{}:s).duration,l=o/1e3;thy(n)){var i=n.filterif(i&&i.valutainment=function(e){var t=this,n=this.player,i=n.hasClass("evp-endcard-entertainment-open");if(!(n.ads&&"function"==typeof n.ads.isAdPlaying&&n.ads.isAdPlaying())){if(!e)return n.removeClass("evp-endcard-entertainment-open"),void this.hide();if(!i)try{var r=e.video,a=r.show.sortTitle,s=r.title,o=r.duration,l=r.availableDate,u=function(n){t.endCardTriggerContext=null,t.options.onPlayNextContent(e,n)};n.addClass("evp-endcard-entertainment-open"),n.endcardUI=n.addChild("endcardUI",{headline:s,clickHandler:function(){u(!0),n.trigger("endcard.selected")},closeHandler:function(){t.clearECInterval(),n.removeClass("evp-endcard-entertainment-open"),t.endCardTriggerContext=null,n.endcardUI=n.removeChild("endcardUI"),n.off("timeupdate",t.onContentPlayback),n.trigger("endcard.closed")},duration:o,availableDate:l,sortTitle:a,isEntertainment:!0}),this.entertainmentCountdown(u)}catch(e){Rf&&Rf.mediaPlayerFlowEvent({},Rf.generatePluginEndCardFailed(Cf.PLAYER_UNKNOWN,"Cannot display endcard, error getting data",e))}}},n.clearECInterval=function(){this.ecInterval&&(clearInterval(this.ecvoid 0===i||i;if(e){va;t.intervalId?t.stopTimeout():u(!0)}}),n.addClass("evp-endcard-open"),r?(this.intervalCount=this.options.timeout,this.intervalId=this.setCountdown(u),n.addClass("evp-endcard-open"),n.addClass("evp-endcard-timeout-active")):(n.addClass("evp-endcard-open"),this.stopTimeout())}else this.hide()}else this.hide()},n.isPaused_=function(){var e=this.player;return e&&"function"==typeof e.paused&&e.paused()},t}(Df);
/*! @name dtci-fast-forward-rewind @version 0.0.0 @urn e}Of.defaultState={},Of.VERSION="0.0.0",yu.registerPlugin("endcard",Of);var Uf="undefined"!=typeof globalThis?g]"]=d["[object DataView][object String]"]=d["[object WeakMap]"]=!19":"u2029"},h="obt"==typeof self&&self&&self.Ob=P.h.keg,O=w.call(ObjIsEctih(e){}}()tog:void 0;i.length-t,0),s=Array(a);++r<a;)s[r]=i[t+r];r=-1;for(var o=Array(t+1);++r<t;)o[r]=i[r];return o[t]=n(s),b(e,this,o)}}(e,t,Se),e+"")}function ee(e){if("string"==typeof e)return e;if(ce(e))return E(e,ee)+"";if(function(e){return"symbol"==typeof e||ye(e)&&"[object Symbol]"==Q(e)}(e))return Y?Y.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function te(e,t,n,i){return void 0===e||ue(e,P[n])&&!L.call(i,n)?t:e}function ne(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&o.test(e))&&e>-1&&e%1==0&&e<t}function ie(e,t,n){if(!ve(n))return!1;var i=typeof t;return!!("number"==i?he(n)&&ne(t,n.length):"string"==i&&t in n)&&ue(n[t],e)}function re(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||P)}var ae,se,oe,le=(ae=j?function(e,t){return j(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Se,se=0,oe=0,function(){var e=W(),t=16-(e-oe);if(oe=e,t>0){if(++se>=800)return arguments[0]}else se=0;return ae.apply(void 0,arreturn arguments}())?$:function(e){return ye(e)&&L.call(e,"callee")&&!B.call(e,"callee")},ce=Array.isArray;function he(e){return null!=e&&ge(e.length)&&!me(e)}var pe=V||function(){return!1};function fe(e){if(!ye(e))return!1;var t=Q(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!function(e){if(!ye(e)||"[object Object]"!=Q(e))return!1;var t=U(e);if(null===t)return!0;var n=L.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&w.call(n)==O}(e)}function me(e){if(!ve(e))return!1;var t=Q(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ge(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function ve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ye(e){return null!=e&&"object"==typeof e}var _e=T?function(e){return function(t){return e(t)}}(T):function(e){return ye(e)&&ge(e.length)&&!!d[Q(e)]};var Te,be=(Te=function(e,t,n,i){!function(e,t,n,i){var r=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var o=t[a],l=i?i(n[o],e[o],o,n,e):void 0;void 0===l&&(l=e[o]),r?X(n,o,l):z(n,o,l)}}(t,function(e){return he(e)?K(e,!0):J(e)}(t),e,i)},Z((function(e,t){var n=-1,i=t.length,r=i>1?t[i-1]:void 0,a=i>2?t[2]:void 0;for(r=Te.length>3&&"function"==typeof r?(i--,r):void 0,a&&ie(t[0],t[1],a)&&(r=i<3?void 0:r,i=1),e=Object(e);++n<i;){var s=t[n];s&&Te(e,s,n,r)}return e})));function Ee(e){return he(e)?K(e):function(e){if(!re(e))return q(e);var t=[];for(var n in Object(e))L.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var Ae=Z((function(e,t){try{return b(e,void 0,t)}catch(e){return fe(e)?e:new Error(e)}}));function Se(e){return e}e.exports=function(e,t,s){var o,d=rm.imports._.templateSettings||rm;s&&ie(e,t,s)&&(t=void 0),e=null==(o=e)?"":ee(o),t=be({},t,d,te);var c,h,p=be({},t.imports,d.imports,te),f=Ee(p),m=function(e,t){return E(t,(function(t){return e[t]}))}(p,f),g=0,v=t.interpolate||l,y="__p += '",_=RegExp((t.escape||l).source+"|"+v.source+"|"+(v===Bf?a:l).source+"|"+(t.evaluate||l).source+"|$","g"),T=L.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/[\r\n]/g," ")+"\n":"";e.replace(_,(function(t,n,i,r,a,s){return i||(i=r),y+=e.slice(g,s).replace(u,A),n&&(c=!0,y+="' +\n__e("+n+") +\n'"),a&&(h=!0,y+="';\n"pe.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+y+"return __p\n}";var S=Ae((function(){return Function(f,T+"return "+y).apply(void 0,m)}));if(S.source=y,fe(S))throw S;return S}})),sm=["seconds","format"],om={hours:"hours",hour:"hour",minutes:"minutes",minute:"minute",seconds:"seconds",second:"second",hours_minutes_seconds_format:"<%= hours %>, <%= minutes %> and <%= seconds %>",minutes_seconds_format:"<%= minutes %> and <%= seconds %>"},lm=function(e,t){void 0===t&&(t=om);var n=e/1e3,i=n/60,r=i/60,a=[];return n=Math.floor(n)%60,i=Math.floor(i)%60,(r=Math.floor(r))>0&&a.push("hours"),(i>0||r>0)&&a.push("minutes"),a=a.concat(sm),am(t[a.join("_")]||"<%= seconds %>")({hours:r+" "+t[1===r?"hour":"hours"],minutes:i+" "+t[1===i?"minute":"minutes"],seconds:n+" "+t[1===n?"second":"seconds"]})},um=yu.getCt.liveTracker,"liv("aria-disabled",!0),this.removeClass("vjs-fast-forwardisabled",!1),this.removeClass("vjs-fast-forward-disable"),this.addClass("vjs-fast-forward"))},n.buildCSSClass=function(){return"vjs-fast-forward "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(){var e=this.player(),t=e.getCache(),n=this.options.seekStep,i=e.currentTime(),r=e.duration(),a=Math.min(i+n,r);e.currentTime(a),t.initTime=t.currentTime;var s=lm(1e3*i),o=lm(1e3*r),l=s+" "+e.localize("elapsed out of")+" "+o+".";this.setAttribute("aria-label","Skip Forwards "+this.options.seekStep+" Seconds. "+l),e.trigger("fast-forward")},t}(um);dm.prototype.controlText_="Fast Forward",dm.VERSION="0.0.0";var cm=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).options=yu.mergeOptions({seekStep:10},n),i.setAttribute("aria-label","Skip Backward "+i.options.seekStep+" Seconds"),i.setAttribute("role","button"),t.controlBar.rewind=Mf(i),t.isAudio_&&i.removeAttribute("title"),i}Nf(t,e);var n=t.ck=function(){var e=this.player(),t=this.options.seekStep,n=e.currentTime();e.currentTime3*i),s=r+" "+e.localize("elapsed out of")+" "+a+".";this.setAttribute("aria-s.default=e.exports}));t(hm);var pm=t(n((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,hm(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),fm=t(n((function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}))),mm=t(n((function(e){function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}))),gm=n((function(e){functixOf("[native RN=1]="WARN",e[e.INFO=2]="INFO",e[e0]="FAILURE",e[e.WARNING=1]="WARNING"}(Em||(Em={})),function(e){e.ANDROID="A",e.APPLE="I",e.JAVASCRIPT="J"}(Am||(Am={})),function(e){e.PLAYER_CORE="PE",e.PLAYER_UI="PUI"}(Sm||(Sm={})),function(e){e.UNEXPECTED_ERROR="0",e.IDENTITY_REQUIRED="1",e.AUTHENTICATION_REQUIRED="2",e.NOT_ENTITLED="3",e.CONCURRENCY_LIMIT_REACHED="4",e.PARENTAL_RESTRICTIONS="5",e.GEO_LOCATION_REQUIRED="6",e.GEO_LOCATION_ACQUISITION_ERROR="7",e.GEO_LOCATION_NOT_ALLOWED="8",e.INVALID_MEDIA="9",e.MEDIA_UNAVAILABLE="10",e.TEMPORA2",e.UNSUPPORTED_DRM="13",e.REQUIRES_LBS="14",e.PLAYREADY_LICENSE_FAILED="15",e.DAMAGED_MEDIA_DATA="16"}(Cm||(Cm={})),(Tm={})[Cm.UNEXPECTED_ERROR]="unexpectedError",Tm[Cm.IDENTITY_REQUIRED]="identityRequired",Tm[Cm.AUTHENTICATION_REQUIRED]="authenticationRequired",Tm[Cm.NOT_ENTITLED]="notEntitled",Tm[Cm.CONCURRENCY_LIMIT_REACHED]="concurrencyLimitReached",Tm[Cm.PARENTAL_RESTRICTIONS]="parentalRestrictions",Tm[Cm.GEO_LOCATION_REQUIRED]="geoLocationRequired",Tm[Cm.GEO_LOCATION_ACQUISITION_ERROR]="geoLocationAcquisitionError",Tm[Cm.GEO_LOCATION_NOT_ALLOWED]="geoLocationNotAllowed",Tm[Cm.INVALID_MEDIA]="invalidMedia",Tm[Cm.MEDIA_UNAVAILABLE]="mediaUnavailable",Tm[Cm.TEMPORARY_UNAVAILABLE]="temporarilyUnavailable",Tm[Cm.NETWORK_CONNECTION]="networkConnection",Tm[Cm.UNSUPPORTED_DRM]="unsupportedDRM",Tm[Cm.REQUIRES_LBS]="requiresLbs",Tm[Cm.PLAYREADY_LICENSE_FAILED]="playreadyLicenseFailed",Tm[Cm.DAMAGED_MEDIA_DATA]="damagedMediaData",function(e){e.MEDIA_ITEM="MI",e.PLAYBACK_ACCESS="PA",e.PLAYBACK_SESSION="PS",e.MEDIA_PLAYER="MP",e.PLAYER_PLUGIN="PL"}(Im||(Im={})),function(e){e.PLAYBACK_CFA="CFA",e.GRAPH_QL="GQL",e.ENTERTAINMENT="ENT",e.PLAYBACK_ACCESS_MANAGER="PAM",e.ADOBE_PASS="AP",e.ISP="ISP",e.TVE="TVE",e.BAM="BAM",e.CHROMECAST_RECEIVER_MEDIA_PLAYER="CRMP",e.PLAYER_ADAPTER_BUNDLE="PAB",e.DIGITAL_RIGHTS_MANAGEMENT="DRM",e.SHIELD="SHD",e.ENTITLEMENT="ENTL",e.CONCURRENCY_MONITORING="CM",e.END_CARD_UI="ECU"}(Pm||(Pm={})),function(e){e.BAD_REQUEST="400",e.UNAUTHORIZED="401",e.FORBIDDEN="403",e.NOT_FOUND="404",e.METHOD_NOT_ALLOWED="405",e.NOT_ACCEPTABLE="406",e.TIMEOUT="408",e.CONFLICT="409",e.GONE="410",e.LENGTH_REQUIRED="411",e.PRECONDITION_FAILED="412",e.ENTITY_TOO_LARGE="413",e.URI_TOO_LONG="414",e.UNSUPPORTED_MEDIA_TYPE="415",e.RANGE_NOT_SATISFIABLE="416",e.EXPECTATION_FAILED="417",e.INTERNAL_SERVER_ERROR="500",e.NOT_IMPLEMENTED="501",e.BAD_GATEWAY="502",e.SERVICE_UNAVAILABLE="503",e.GATEWAY_TIMEOUT="504",e.HTTP_VERSION_NOT_SUPPORTED="505",e.EMBARGOED_CONTENT="100",e.EXPIRED_CONTENT="101",e.INVALID_RESPONSE="102",e.INVALID_DEVICE="103",e.UNSUPPORTED_SESSION="104",e.GEOLOCATION_NOT_ALLOWED="105",e.PROXY_NOT_ALLOWED="106",e.REFERRER_NOT_ALLOWED="107",e.INVALID_DATA_PROVIDED="108",e.SHIELD_DRM_REQUIRED="109",_PLAY_PAUSE="703",e.PLAYER_SHAKA_ERROR="704",e.PLAYER_NO_VIDEO_TAG="705",e.PLAYER_NO_CORE_FOUND="706",e.PLAYER_MEDIA_ERR_CUSTOM="708",e.PLAYER_MEDIA_ERR_ABORTED="709",e.PLAYER_MEDIA_ERR_NETWORK="710",e.PLAYER_MEDIA_ERR_DECODE="711",e.PLAYER_MEDIA_ERR_SRC_NOT_SUPPORTED="712",e.PLAYER_MEDIA_ERR_ENCRYPTED="713",e.PLAYER_UNKNOWN="003",e.ADS_PROVIDER_ERR="801",e.ADS_FAILED_TO_LOAD="802",e.SHAKA_PLAYER_DRM_ERROR="715",e.PLAYREADY_LICENSE_FAILED="718",e.PLAYER_BUNDLE_FAILED_TO_CREATE="719",e.AD_ONLY_FAILED="720",e.PLAYER_CONFIGURATION_ERR="721",e.PLAYER_ANALYTIC_INIT_ERR="722",e.CONCURRENCY_LIMIT_REACHED="707",e.PLAYER_PROGRAM_CHANGE_FAILED="728",e.TEXT_DECODER_ABSENT="723",e.AUDIO_CONTEXT_ABSENT="724",e.TEXT_DECODING_FAILED="725",e.STYLE_SETUP_FAILED="726",e.S="201",e.PLUTO_REQUEST_FAILED="302",e.SHIELD_REQUEST_FAILED="202",e.GQL_REQUEST_FAILED="600",e.UNKNOWN="000",e.NO_INTERNET="001"}(km||(km={}));var Lm=new(function(){function e(e){this.logLevel_=bm.DEBUG,this.logLevel_=e}var t=e.prototype;return t.error=function(){var e;this.logLevel_>=bm.ERROR&&(e=console).error.apply(e,arguments)},t.warn=function(){var e;this.logLevel_>=bm.WARN&&(e=console).warn.apply(e,arguments)},t.info=function(){var e;this.logLevel_>=bm.INFO&&(e=console).info.apply(e,arguments)},t.debug=function(){var e;this.logLevel_>=bm.DEBUG&&(e=console).debug.apply(e,arguments)},mm(e,[{key:"logLevel",get:function(){return this.logLevel_},set:function(e){this.logLevel_=e}}]),e}())(bm.DEBUG);new(function(){function e(){this.platform_=Am.JAVASCRIPT}var t=e.prototype;return t.unexpectedError=function(e){return e.reason=Cm.UNEXPECTED_ERROR,e.caller||(e.caller="unexpectedError"),this.generateEvent(e)},t.identityRequired=function(e){return e.reason=Cm.IDENTITY_REQUIRED,e.caller||(e.caller="identityRequired"),this.generateEvent(e)},t.authenticationRequired=function(e){return e.reason=Cm.AUTHENTICATION_REQUIRED,e.caller||(e.caller="authenticationRequired"),this.generateEvent(e)},t.notEntitled=function(e){return e.reason=Cm.NOT_ENTITLED,e.caller||(e.caller="notEntitled"),this.generateEvent(e)},t.concurrencyLimitReached=function(e){return e.reason=Cm.CONCURRENCY_LIMIT_REACHED,e.caller||(e.cnerateEvent(e)},t.parentalRestrictions=function(e){return e.reason=Cm.PARENTAL_RESTRICTIONS,e.caller||(e.caller="parentalRestrictions"),this.generateEvent(e)},t.geoLocationRequired=function(e){return e.reason=Cm.GEO_LOCATION_REQUIRED,e.caller||(e.caller="geoLocationRequired"),this.generateEvent(e)},t.geoLocationAcquisitionError=function(e){return e.reason=Cm.GEO_LOCATION_ACQUISITION_ERROR,e.caller||(e.caller="geoLocationAcquisitionError"),this.generateEvent(e)},t.geoLocationNotAllowed=function(e){return e.reason=Cm.GEO_LOCATION_NOT_ALLOWED,e.caller||(e.caller="geoLocationNotAllowed"),this.generateEvent(e)},t.invalidMedia=function(e){return e.reason=Cm.INVALID_MEDIA,e.caller||(e.caller="invalidMedia"),this.generateEvent(e)},t.mediaUnavailable=function(e){return e.reason=Cm.MEDIA_UNAVAILABLE,e.caller||(e.caller="mediaUnavailable"),this.generateEvent(e)},t.temporarilyUnavailable=function(e){return e.reason=Cm.TEMPORARY_UNAVAILABLE,e.caller||(e.caller="temporarilyUnavailable"),this.generateEvent(e)},t.networkConnection=function(e){return e.reason=Cm.NETWORK_CONNECTION,e.caller||(e.caller="networkConnection"),this.generateEvent(e)},t.unsupportedDRM=function(e){return e.reason=Cm.UNSUPPORTED_DRM,e.caller||(e.caller="unsupportedDRM"),this.generateEvent(e)},t.requiresLbs=function(e){return e.reason=Cm.REQUIRES_LBS,e.caller||(e.caller="requiresLbs"),this.generateEvent(e)},t.playreadyLicenseFailed=function(e){return e.reason=Cm.PLAYREADY_LICENSE_FAILED,e.caller||(e.caller="playreadyLicenseFailed"),this.generateEvent(e)},t.damagedMediaData=function(e){return e.reason=Cm.DAMAGED_MEDIA_DATA,e.caller||(e.caller="damagedMediaData"),this.generateEvent(e)},t.generateEvent=function(e){if(e.platform||(e.platform=this.platform_),!(e.reason&&e.platform&&e.segment&&e.component&&e.feature&&e.errorCode))return Lm.error(this.constructor.name+"->'track' called from "+e.caller+": specify all CodesConfig params to track event "+e),null;var t=new wm(e);this.coordinator_&&e.eventName&&this.coordinator_.coordinate(e.eventName,t);var n=this.constructor.name+": "+t.code+" "+t.message;switch(t.cause&&(n+=". Caused by"),e.severity){case Em.WARNING:t.cause?Lm.warn(n,t.cause):Lm.warn(n);break;default:t.cause?Lm.error(n,t.cause):Lm.erron(e){return e.match("natgeo")?Pm.PLAYBACK_CFA:e.match("abcnews")?Pm.ENTERTAINMENT:Pm.GRAPH_QL},t.defineMediaItemErrorCodesByIdentifier=function(e){return e.match("natgeo")?km.SHIELD_REQUEST_FAILED:e.match("abcnews")?km.PLUTO_REQUEST_FAILED:km.GQL_REQUEST_FAILED},mm(e,[{key:"logLevel",get:function(){return Lm.logLevel},set:function(e){Lm.logLevel=e}},{key:"eventCoordinator",get:function(){return this.coordinator_},set:function(e){this.coordinator_=e}}]),e}());var Rm,Dm,Om=Object.freeze({}),Nm=Object.freeze([]),xm="www.nielsen.com:id3:v1",Mm=["emsg","com.uplynk.asset.metadata",xm],Um={heartbeat:"com.espn.authnet.heartbeat",transition:"com.espn.authnet.transition",nielsenWatermark:"www.nielsen.com"};var Bm,Fm=function(){function e(e){this.player=e,Rm=e.NewRelicService,this.drmEventDisposers_=[],this.previousSegmentData_=null,this.inbandUriEvent_=this.inbandUriEvent_.bind(this),this.bindToDrmID3Events_",this.unbindDrmID3Events_)}var t=e.prototype;return t.dispose=function(){var e=this.player;this.unbindDrmID3Events_(),e.off("loadstart",this.bindToDrmID3Events_),e.off("ended",this.unbindDrmID3Events_),this.player=null},t.bindToDrmID3Events_=function(){var e=this.inbandUriEvent_,t=this.player,n=(t=void 0===t?Om:t).dash,i=(n=void 0===n?Om:n).shakaPlayer,r=n.mediaPlayer;r?Mm.forEach((function(t){r.on(t,e)})):i&&Mm.forEach((function(t){i.addEventListener(t,e)}))},t.unbindDrmID3Events_=function(){var e=this.inbandUriEvent_,t=this.player,n=(t=kaPlayer,r=n.mediaPlayer;r?Mm.forEach((function(t){r.off(t,e)})):i&&Mm.forEach((function(t){i.removeEventListener(t,e)}))},t.inbandUriEvent_=function(e){void 0===e&&(e=Om);var t=this.player,n=this.previousSegmentData_,i=e.detail||e.event||Om,r=i.messageData,a=i.schemeIdUri;if(r&&t){var s;Dm||function(){try{Dm=new TextDecoder("utf-8")}catch(e){Rm&&Rm.mediaPlayerFlowEvent({},Rm.generatePluginBundleUnexpectedError(km.TEXT_DECODER_ABSENT,"TextDecoder constructor is not defined",e))}}();try{s=Dm.decode(r)}catch(e){Rm&&Rm.mediaPlayerFlowEvent({},Rm.generatePluginBundleUnexpectedError(km.TEXT_DECODING_FAILED,"drm-id3-listener message decoding failed",e))}var o=(e.type===xm||a===xm?this.getEncryptedEMSG(s):this.getSegmentObject_(s))||Om;n&&o.owner===n.owner&&o.text===n.text||(t.trigger("dtci.id3.cueChange",o.text?o:fm({},e,{text:s})),this.previousSegmentData_=o)}else console.error("error in inbandUriEvent_")},t.getEncryptedEMSG=function(e){if(e){var t=e.indexOf("PRIV")>-1,n=e.indexOf("www.nielsen.com");return{owner:"www.nielsen.com",text:t&&n>-1?e.substr(n).substr(0,249):""}}return null},t.getSegmentObject_=function(e){if(e){var t=Object.keys(Um).filter((function(t){return e.includes(Um[t])}))[0],n=t&&Um[t]||null;return{owner:n,text:n?e.substring(e.lastIndexOf(n)+n.length).trim().replace(/\0/g,""):null}}return null},e}(),jm=function(){function e(e){this.player=e,Bm=e.NewRelicService,this.cueChangeDisposers_=[],this.currentID3TextTracks_={},this.onCueChange=this.onCueChange.bind(this),this.bindToTextTracks=this.bindToTextTracks.bind(this),e.on(["loadeddata","texttrackchange"],this.bindToTextTracks)}var t=e.prototype;return t.dispose=function(){this.player.off(["loadeddata","texttrackchange"],this.bindToTextTracks),this.cueChangeDisposers_.for_=null,this.currentID3TextTracks_=null,this.player=null},t.bindToTextTracks=function(){var e=this,t=this.player,n=this.onCueChange,i=t&&t.textTracks(),r=i&&i.length;this.cueChangeDisposers_.forEach((function(e){return e()})),this.cueChangeDisposers_=[],this.currentID3TextTracks_={};for(var a=this.currentID3TextTracks_,s=function(t){var r=i[t]||Om,s=r.kind,o=r.id+"-"+s+"-"+r.label+"-"+r.language;if("metadata"===s&&!a[o]){var l=function(){return n(r)};a[o]=r,r.mode="h))}},o=0;o<r;o+=1)s(o)},t.onCueChange=function(t){void 0===t&&(t=Om);for(var n=this.player,i=(t||Nm).activeCues,r=i.length,a=e.textFromFrame,s=0;s<r;s+=1){var o=i[s]||Om,l=o.value,u=o,d=u.owner,c=u.text;l&&(d=l.owner?l.owner:l.info,"PRIV"===l.key&&"www.nielsen.com/"===String(d).substr(0,16)?(c=d,d="www.nielsen.com"):c=a(l),n.trigger("dtci.id3.cueChange",c?{text:c,owner:d}:o))}},e.textFromFrame=function(e){void 0===e&&(e=Om);var t,n=e.data;if(n instanceof ArrayBuffer||n instanceof Uint8Array){t=new Uint8Array(n);try{t=String.fromCharCode.apply(null,t)}catch(e){Bm&&Bm.mediaPlayerFlowEvent({},Bm.generatePluginBundleUnexpectedError(km.TEXT_DECODING_FAILED,"hls-id3-listener message decoding failed",e,Em.WARNING))}t&&(n=t)}return n},e}(),Vm=function(e){function t(t){var n;return(n=e.call(this,t)||this).id3Listeners_=[new jm(t),new Fm(t)],n.on("dispose",n.onDispose_),n}return pm(t,e),t.prototype.onDispose_=function(){this.id3Listeners_.forEach((function(e){e.dispose()})),this.id3Listeners_=null},t}(yu.getPlugin("plugin"));Vm.VERSION="0.0.0",yu.registerPlugin("id3",Vm);var qm=n((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(qm);var Hm=t(n((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,qm(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),Wm=function(e){function t(t,n){return e.call(this,t,n)||this}return Hm(t,e),t.prototype.createEl=function(){var t,n=this.options_,i=n.src,r=n.href,a=n.alt,s=void 0===a?"":a,o=n.style,l=n.altText,u='<div class="vjs-background-shadow"></div>',d=i?'<img src="'+i+'" alt="'+(s||(void 0===l?"":l))+'" >':"";d&&r?t=u+' <a class="vjs-logo-anchor" href="'+r+'" target="_blank">'+d+"</a>":d&&(t=u+" "+d);var c={};return o&&(c.style=o),e.prototype.createEl.call(this,"div",{className:"vjs-logolink "+(t?"":"hide"),innerHTML:t},c)},t}(yu.getComponent("Component"));Wm.defaultState={},Wm.VERSION="0.0.0",yu.registerComponent("logoLink",Wm);var Gm=n((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(Gm);var Ym=t(n((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Gm(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),Km="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent||"",zm="undefined"!=typeof window&&window.navigator&&window.navigator.appVersion||"",Xm=null;"undefined"!=typeof window&&window.navigator&&window.navigator.userAgentData&&window.navigator.userAgentData.platform?Xm=window.navigator.userAgentData.platform:"undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(Xm=window.navigator.platform);var Qm=Xm,$m=/Edge/i.test(Km);/edg/i.test(Km);var Jm=!$m&&/Chrome/i.test(Km),Zm=/Android/i.test(Km),eg=/Safari/i.test(Km)&&!Jm&&!Zm&&!$m;eg&&/Version\/11/i.test(Km);var tg="MacIntel"===Qm&&window.navigator.maxTouchPoints>0||"iPad"===Qm||/iPad/i.test(Km);/Win/i.test(zm);/iPhone/i.test(Km),/iPod/i.test(Km);!function(){var e=Km.match(/OS (\d+)_/i);e&&e[1]&&e[1]}(),/Firefox/i.test(Km),/Opera/i.test(Km),tg||Zm&&/mobile/i.test(Km),function(){var e=/MSIE\s(\d+)\.\d/.exec(Km),t=e&&parseFloat(e[1]);!t&&/Trident\/7.0/i.test(Km)&&/rv:11.0/.test(Km)&&(t=11)}();Zm&&/wv/i.test(Km);/WebView/i.test(Km);var ng=yu.getComponent("PlayToggle"),ig=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"durationchange",i.handleDurationChange),i.on(t,"ended",i.handleEnded),i.on(t,"ready",i.handlePlayerReady),i.one(t,"dispose",(function(){t.off("durationchange",i.handleDurationChange),t.off("ended",i.handleEnded),t.off("loadstart",i.handlePlayerReady)})),i}Ym(t,e);var n=t.prototype;return n.handlePlayerReady=function(){if(Zm){var e=document.getElementsByClassName("vjs-poster"),t=document.getElementsByClassName("vjs-tech");this.removeTabIndex(e),this.removeTabIndex(t)}},n.removeTabIndex=function(e){if(e)for(var t=e.length,n=0;n<t;n+=1){var i=e[n];i&&i.removeAttribute("tabindex")}},n.handleDurationChange=function(){var e=this.player();e&&("function"==typeof e.duration&&e.duration()===1/0&&(this.pauseText="Stop",e.options_.autoplay&&!e.paused()||this.addClass("vjs-paused"),e.paused()||this.controlText(this.pauseText)),e.isAudio_&&this.removeAttribute("titly"))},n.handlePlay=function(){var e=this.player(),t="Replay"===this.controlText();if(this.addClass("vjs-play-control"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),e&&!e.isAudio_&&(this.controlText(this.pauseText),t?e.trigger("dtci.replay"):e.trigger("dtci.togglePlay")),e.isAudio_&&e.muted()){var n=e.volume()||.5;e.muted(!1),e.volume(n)}},n.handlePause=function(){var e=this.player();this.removeClass("vjs-playing"),this.addClass("vjs-paused"),e&&!e.isAudio_&&(this.controlText(this.playText),e.trigger("dtci.togglePaused"))},t}(ng);ig.prototype.pauseText="Pause",ig.prototype.playText="Play",ng.defaultState={},ng.VERSION="0.0.0",yu.registerComponent("PlayToggle",ig);var rg=t(n((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}))),ag=n((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(ag);var sg=t(n((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ag(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),og=yu.getComponent("SeekBar"),lg=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).seekTimeOnLive_=i.seekTimeOnLive_.bind(rg(i)),i.seekTimeOnDemand_=i.seekTimeOnDemand_.bind(rg(i)),i}sg(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);if(!t.querySelector(".evp-progress-holder-wrapper")){var n=document.createElement("div");n.className="evp-progress-holder-wrapper",t.appendChild(n)}return t},n.handleMouseDown=function(t){e.prototype.handleMouseDown.call(this,t),this.scrubbingTime=this.calculateDistance(t),this.update()},n.handleMouseMove=function(t){e.prototype.handleMouseMove.call(this,t),this.scrubbingTime=this.calculateDistance(t),this.update()},n.handleMouseUp=function(t){var n=this.player(),i=n.getCache();n&&n.duration()===1/0&&n.isAudio_?this.seekTimeOnLive_(t):this.seekTimeOnDemand_(t),e.prototype.handleMouseUp.call(this,t),i.initTime=i.currentTime},n.seekTimeOnLive_=function(e){var t=this.calculateDistance(e),n=this.player().liveTracker;if(t>=.99)n.seekToLiveEdge();else{var i=n.seekableStart(),r=n.liveCurrentTime(),a=i+t*n.liveWindow();a>=r&&(a=r),a<=i&&(a=i+.1),a!==1/0&&this.player().currentTime(a)}},n.seekTimeOnDemand_=function(e){var t=this.calculateDistance(e)*this.player().duration();t===this.player().duration()&&(t-=.1),this.player().currentTime(t)},n.getPercent=function(){var t=this.player().currentTime(),n=this.player_.liveTracker,i=e.prototype.getPercent.call(this);return this.player().scrubbing()&&(i=this.scrubbingTime||i),n&&n.isLive()&&(i=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(i=1)),i>=1?1:i},t}(og);og.defaultState={},og.VERSION="0.0.0",yu.registerComponent("SeekBar",lg);var ug=t(n((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}))),dg=n((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(dg);var cg=t(n((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dg(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),hg=yu.getPlugin("plugin"),pg=yu.dom;function fg(e){return"HTML"!==e.nodeName&&"static"===window.getComputedStyle(e).position?fg(e.offsetParent):e}function mg(){return window.pageXOffset?{x:window.pageXOffset,y:window.pageYOffset}:{x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop}}var gg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAAA+CAIAAABFt7lbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAuFJREFUeNrsmtGxIUEUhne3PJOATYAIdgPAOzYAJIAAxgaABBAAAkAARgCUAFYCRLBfzV/V1YXaO7eurboP//8wdabn9Dmnvz4940EhSZLj8fjF+rAKcEzT1CA+rm9GYJRGaZSWURqlURqlZZRGaZSWURqlURqlZZRGaZSWURqlURqlZZRGaZSWUX4ClNVq9Uem/1fK90whXbFYfO+sN0VMIv978KnPK1H+zjQcDs/nc85MvzLlLwXn1WolguR6mmW9Xt+NjEaj+Xyep/5qJozHLokHn/q8+IAnSdJqtWazWaHIQv7qnb7aYIMV9GdBqwy+Vy7KAO4kqQu+xcyajCGDydTgQPE1UzCr0v5/gohAg5z8c7UFI0JdbrdcrCYOs2mw2D0+l0v9+3223Ww1NGqJ7rz0xM3O12TCmVSlSGD3MZZ5YWINzSZDIhQniN8JRbguNMQOHgNviTaLvdsru48eguOw6aG7Yh3iEeMaIdxf9yuXAb9yMTqZmkivBilICgNyGoJiWN9pyt0xqWy6VwY4T9D1BwYK4aE4c7juh6vfb7/bAe/MGUpikHH1so478wqvtIrZaPsxNZrfe0pwCnZgeWepbCmBUfETLiQGSt8U0V8qMk0+M/MSmiUql0u13WQ/VUxrJZcKCMAaBOp6OTziOWgfN4PF4sFuzHXcA0k9Awl+biliXBlJG4s3SotWd6D9KhITsvUGyMw+Hw2BPgrtVqod0ISyiKp9R4aWqXnB/bvCjv3jXhVmecr4EaCpqsh6c8UsfhxpcBampkbQl1A0i9EGLir5hQZm3YGHQowXGWJ1O45ZUtIupZbAxuiRyyY7Af2HIIBWPoJU4c2ep0YeUNIx+uLGcwGMD3aQ896muz2fS/fv0T3SiN0jJKozRKo7SM0iiN0jJKozRKo7SM0iiN0jJKozRKo7SM0iiN0jJKo/z0+ivAAEPb6BambmykAAAAAElFTkSuQmCC",vg=function(e){function t(t,n){var i;return(i=e.call(this,t)||this).containerDiv_=null,i.thumbImg_=null,i.thumbnailType_=null,i.moveListener_=i.moveListener_.bind(ug(i)),i.moveCancel_=i.moveCancel_.bind(ug(i)),i.disposeListener_=i.disposeListener_.bind(ug(i)),i.onSpriteSheetLoad_=i.onSpriteSheetLoad_.bind(ug(i)),i.onSpriteSheetError_=i.onSpriteSheetError_.bind(ug(i)),i.onThumbImgError_=i.onThumbImgError_.bind(ug(i)),i.listen_(),i.updatePreviews(n),i}cg(t,e);var n=t.prototype;return n.listen_=function(){var e=this.player.controlBar.progressControl,t=this.player,n=this.moveListener_,i=this.moveCancel_,r=this.disposeListener_;e.on("mousemove",n),e.on("touchmove",n),e.on("mouseout",i),e.on("touchcancel",i),e.on("touchend",i),t.on("userinactive",i),t.one("dispose",r)},n.unlisten_=function(){var e=this.player,t=this.moveListener_,n=this.moveCancel_;if(e){var i=e.controlBar.progressControl;i.off("mousemove",ouchcancel",n),i.off("touchend",n),e.off("userinactive",n)}this.thumbImg_&&this.thumbImg_.addEventListener("error",this.onThumbImgError_),this.containerDiv_=null,this.thumbImg_=null,this.thumbnailType_=null,this.spriteSheet_=null},n.updatePreviews=function(e){if(this.options=this.massageOptions_(e),this.renderThumbnailContainer_(),this.options&&this.options.type)switch(this.options.type){case"multiAsset":this.renderMultiThumbnailTooltip_(0);break;case"longSprite":this.renderSpriteThumbnailTooltip_()}},n.getURLFromTemplate_=function(e,t){var n=null;if(e){n=e.replace(/{([^{]+)}/g,(function(e,n){return null==t[n]?"":t[n]}))}return n},n.renderThumbnailContainer_=function(){var e=this.player,t=this.options,n=void 0===t?{}:t,i=e.controlBar.progressControl,r=n.type;this.containerDiv_&&(this.containerDiv_.remove(),this.containerDiv_=null,this.thumbImg_=null,this.spriteSheet_=null),this.containerDiv_=pg.createEl("div",{className:"vjs-thumbnail-holder"+("longSprite"===r?" long-sprite":"")}),i.el().appendChild(this.containerDiv_)},n.calculateMouseTime_=function(e){var t=this.player.controlBar.progressControl,n=this.player.duration(),i=e-t.el().offsetLeft;return Math.floor(i/t.width()*n)},n.renderMultiThumbnailTooltip_=function(e){var t=this.options.config,n=0;for(var i in t)e>i&&(n=Math.max(n,i));var r=t[n];return this.thumbImg_?this.updateThumbImg_(r):this.renderThumbImg_(r),{width:function(e,t){if(t)return parseFloat(t);var n=window.getComputedStyle(e).clip;return"auto"!==n&&"inherit"!==n&&4===(n=n.split(/(?:\(|\))/)[1].split(/(?:,| )/)).length?parseFloat(n[1])-parseFloat(n[3]):0}(this.thumbImg_,r.width||t[0].width)}},n.renderThumbImg_=functioainerDiv_;this.thumbImg_=pg.createEl("img",{className:"vjs-thumbnail "+(n.isAudio_?"vjs-hidden":""),src:e.src}),this.thumbImg_.addEventListener("error",this.onThumbImgError_),e.style&&yu.mergeOptions(this.thumbImg_.style,e.style),this.thumbImg_.style.left||this.thumbImg_.style.right||(this.thumbImg_.onload=function(){t.thumbImg_.style.left="-"+t.thumbImg_.naturalWidth/2+"px"}),i.appendChild(this.thumbImg_)},n.updateThumbImg_=function(e){e.src&&this.thumbImg_.src&&this.thumbImg_.src!==e.src&&(this.thumbImg_.src=e.src),e.style&&this.thumbImg_.style!==e.style&&yu.mergeOptions(this.thumbImg_.style,e.style)},n.onThumbImgError_=function(){this.thumbImg_.src=gg},n.renderSpriteThumbnailTooltip_=function(){var e=this.options,t=this.player,n=e.config,i=n.srcTemplate,r=n.src,a=n.values,s=i?this.getURLFromTemplate_(i,a):r;this.thumbImg_=pg.createEl("div",{className:"vjs-thumbnail "+(t.isAudio_?"vjs-hidden":"")}),this.spriteSheet_=new Image,this.spriteSheet_.onload=this.onSpriteSheetLoad_,this.spriteSheet_.onerror=this.onSpriteSheetError_,this.spriteSheet_.src=s},n.onSpriteSheetLoad_=function(){var e=this.options,t=this.spriterDiv_,r=e.config.sliceWidth,a=this.containerDiv_.querySelector(".vjs-thumbnail-time-tooltip"),s=r,o=t.height,l=t.width,u=o;n.style.backgroundImage="url('"+t.src+"')",n.style.backgroundPosition="0px 0px",n.style.backgroundSize=l+"px "+u+"px",n.style.backgroundRepeat="none",n.style.width=s+"px",n.style.height=o+"px",n.style.left="-"+s/2+"px",n.style.top="-"+(o+20)+"px",a.style.left=a.style.left-s/2+"px",i.appendChild(n)},n.onSpriteSheetError_=function(){this.thumbImg_=pg.createEl("img",{className:"vjs-thumbnail "+(player.isAudio_?"vjs-hidden":"")}),this.thumbImg_.src=gg},n.positionSpriteSheetToCurThumb_=function(e){var t=this.options,n=this.player,i=this.thumbImg_,r=t.config,a=r.numSlices,s=r.sliceWidth,o=e/n.duration(),l=Math.floor(a*o)*s;return i.style.backgroundPosition="-"+l+"px 0px",{width:r.sliceWidth}},n.positionThumbnailToolTip_=function(e,t){var n,i=this.player,r=i.controlBar.progressControl,a=mg().x,s=fg(r.el()).getBoundingClientRect(),o=(s.width||s.right)+a,l=t;l+(n=i&&i.isAudio_?65:e/2)>o?l-=l+n-o:l<n&&(l=n),this.containerDiv_.style.left=l+"px"},n.moveCancel_=function(){this.containerDiv_.style.left="-1000px"},n.disposeListener_=function(){this.unlisten_()},n.moveListener_=function(e){var t,n=this.player,i=this.options.type,r=n.controlBar.progressControl,agClientRect().left+a;var o=this.calculateMouseTime_(s);switch(i){case"multiAsset":t=this.rendon(e){if(voturn e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(_g);var Tg=t(n((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_g(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),bg=function(e){function t(t,n){var i;i=e.call(this,t)||this;var r=t.$(".vjs-thumbnail-holder"),a=t.controlBar.progressControl;if(r){var s=(a&&a.seekBar).mouseTimeDisplay;if(!s)return yg(i);var o=document.createElement("span");o.className="vjs-thumbnail-time-tooltip",r.appendChild(o);var l=function(){o.innerHTML=s.el().innerText};a.on("mousemove",l),a.on("touchmove",l),s.addClass("vjs-time-tooltip-hidden"),t.on("dispose",(function(){a.off("mousemove",l),a.off("touchmove",l)}))}return i}return Tg(t,e),t}(yu.getPlugin("plugin"));bg.defaultState={},bg.VERSION="0.0.0",yu.registerPlugin("thumbnailTime",bg);var Eg=t(n((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}))),Ag=n((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(Ag);var Sg=t(n((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ag(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),Cg=yu.dom,Ig=yu.getPlugin("plugin"),Pg={},kg=function(e){function t(t,n){var i;(i=e.call(this,t)||this).options=yu.mergeOptions(Pg,n),i.mouseoveListener=i.mouseoveListener.bind(Eg(i));var r=function(){i.div.style.left="-1000px"},a=t.controlBar.progressControl;return i.div=Cg.createEl("div",{className:"time-holder"}),i.mouseTimeDisplay=a.seekBar.mouseTimeDisplay,i.timeElement=document.createElement("span"),i.timeElement.className="time-tooltip",i.div.appendChild(i.timeElement),a.el().appendChild(i.div),a.on("mouseout",r),a.on("touchcancel",r),a.on("touchend",r),t.on("userinactive",r),i.mouseTimeDisplay?(a.on("mousemove",i.mouseoveListener),a.on("touchmove",i.mouseoveListener),t.one("dispose",(function(){a.off("mouseout",r),a.off("touchcancel",r),a.off("touchend",r),t.off("userinactive",r),a.off("mousemove",i.mouseoveListener),a.off("touchmove",i.mouseoveListener)})),i):Eg(i)}Sg(t,e);var n=t.prototype;return n.mouseoveListener=function(e){this.timeElement.innerHTML=this.mouseTimeDisplay.el().innerText;var t=this.player.controlBar.progressControl,n=this.getScrollOffset().x,i=this.offsetParent(t.el()).getBoundingClientRect(),r=(i.width||i.right)+n,a=(e.changedTouches?e.changedTouches[0].pageX:e.pageX)||e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;(a-=i.left+n)+50>r?a-=a+50-r:a<50&&(a=50),this.div.style.left=a+"px"},n.offsetParent=function(e){return"HTML"!==e.nodeName&&"static"===window.getComputedStyle(e).position?this.offsetParent(e.offsetParent):e},n.getScrollOffset=function(){return window.pageXOffset?{x:window.pageXOffset,y:window.pageYOffset}:{x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop}},t}(Ig);kg.defaultState={},kg.VERSION="0.0.0",yu.registerPlugin("timeDisplay",kg);var wg=t(n((function(e){function t(e,t){for(var n=0;n<t.lengritable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}))),Lg=t(n((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}))),Rg=n((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(_esModule=!0,e.exports.default=e.exports}));t(Rg);var Dg=t(n((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Rg(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),Og=yu.getPlugin("plugin"),Ng={namespace:"dtci"},xg=function(e){Dg(n,e);var t=n.prototype;function n(t,n){var i;return(i=e.call(this,t)||this).volume_=null,i.muted_=!1,i.options=yu.mergeOptions(Ng,n),i.volumeStorageKey=i.options.namespace+"-volume",i.mutedStorageKey=i.options.namespace+"-mute",null!==i.options.value&&void 0!==i.options.value&&(i.volume=i.options.value),null!==i.options.muted&&void 0!==i.options.muted&&(i.muted=i.options.muted),!i.tooltipElement&&i.adMuteEl&&(i.tooltipElement=document.createElement("span"),i.tooltipElement.className="vjs-control-text",i.tooltipElement.innerText=i.muted_?"Unmute":"Mute",i.adMuteEl.appendChild(i.tooltipElement),i.adMuteEl.classList.add("vjs-mute-control"),i.adMuteEl.classList.add("vjs-button")),i.onReady=i.onReady.bind(Lg(i)),i.onVolumeChange=i.onVolumeChange.bind(Lg(i)),i.onContentStarted=i.onContentStarted.bind(Lg(i)),i.onVolumeUIClick_=i.onVolumeUIClick_.bind(Lg(i)),i.contentMuteEl=i.player.el().querySelector(".vjs-mute-control"),i.ce-bar"),i.player&&i.player.isAudio_&&i.contentMuteEl.removeAttribute("title"),i.player.on(["contentplayback","ads-ad-started"],i.onContentStarted),i.player.on("ready",i.onReady),i.player.on("volumechange",i.onVolumeChange),i.player.on("ads-volumechange",i.onVolumeChange),i.contentMuteEl.addEventListener("click",i.onVolumeUIClick_),i.contentVolumeBarEl.addEventListener("click",i.onVolumeUIClick_),i.adMuteEl&&(i.adMuteEl.addEventListener("click",i.onVolumeUIClick_),i.adVolumeBarEl.addEventListener("click",i.onVolumeUIClick_)),i.player.one("dispose",(function(){i.player&&i.player.controlBar&&i.player.childNameIndex_&&(i.player.off("ready",i.onReady),i.player.off("volumechange",i.onVolumeChange),i.player.off("ads-volumechange",i.onVolumeChange),i.player.off(["contentplayback","ads-ad-started"],i.onContentStarted),i.contentMuteEl.removeEventListener("click",i.onVolumeUIClick_),i.contentVolumeBarEl.removeEventListener("click",i.onVolumeUIClick_),i.adMuteEl&&(i.adMuteEl.removeEventListener("click",i.onVolumeUIClick_),i.adVolumeBarEl.removeEventListener("click",i.onVolumeUIClick_)))})),i}return t.setVolumeUserChoice_=function(e){window.localStorage&&window.localStorage.setItem&&window.localStorage.setItem(this.volumeStorageKey,e)},t.setMutedUserChoice_=function(e){window.localStorage&&window.localStorage.setItem&&window.localStorage.setItem(this.mutedStorageKey,e)},t.onContentStarted=function(){this.setPlayerToStoredVolume_()},t.onVolumeChange=function(){var e=parseFloat(this.player.volume()),t=this.playerolume?this.adsManager.getVolume():null,i=this.player.ads&&"function"==typeof this.player.ads.isInAdMode&&this.player.ads.isInAdMode();this.player.isAudio_&&this.contentMuteEl.removeAttribute("title"),i?1!==n||t?this.volume=n:(this.muted=!1,this.setPlayerToStoredVolume_()):i||(0!==e||t?(this.volume=e,this.muted=t):this.muted=!0)},t.onReady=function(){this.setPlayerToStoredVolume_()},t.onVolumeUIClick_=function(){var e=this;setTimeout((function(){e.setMutedUserChoice_(e.muted)}),300)},t.setPlayerToStoredVolume_=function(){var e=this.muted?0:this.volume;null!==e&&(this.player&&"function"==typeof this.player.volume&&(this.muted||this.player.volume===e||this.player.volume(e)),this.adsManager&&"function"==typeof this.adsManager.setVolume&&this.adsManager.getVolume()!==e&&this.adsManager.setVolume(e)),null!==this.muted&&(this.player.muted()!==this.muted&&this.player.muted(this.muted),this.player.el().muted!==this.muted&&(this.player.el().muted=this.muted,this.player.isAudio_&&this.pauseAudioPlayerOnMuted_(this.player.el().muted,this.player))),this.setVjsAdVolumeIconValue()},t.pauseAudioPlayerOnMuted_=function(e,t){e&&t.pause()},t.setVjsAdVolumeIconValue=function(){var e;this.adMuteEl&&(0===this.volume||this.muted?e="vjs-iconlume-mute"),this.adMuteEl.classList.add(e)))},wg(n,[{key:"adMuteEl",get:function(){var e=null;return this.player&&this.player.ima&&this.player.ima.controller&&this.player.ima.controller.adUi&&(e=this.player.ima.controller.adUi.muteDiv),e}},{key:"adVolumeBarEl",get:function(){var e=null;return this.player&&this.player.ima&&this.player.ima.controller&&this.player.ima.controller.adUi&&(e=this.player.ima.controller.adUi.sliderDiv),e}},{key:"adsManager",get:function(){var e=this.playee?this.volume_=.5:thhis.tooltipElement.innerText=e?"Unmute":"Mute"),e!==this.muted_&&(this.muted_=!0===e||"true"===e,this.setPlayerToStoredVolume_())}}]),n}(Og);xg.defaultState={},xg.VERSION="0.0.0",yu.registerPlugin("volumeMenuButton",xg);var Mg=n((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setProton e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(Mg);var Ug=t(n((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Mg(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),Bg=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).alwaysVisible=n.ratingConfigs&&n.ratingConfigs.alwaysVisible,i.initHideShowTimer(i.alwaysVisible),i}Ug(t,e);var n=t.prototype;return n.initHideShowTimer=function(e){if(!e){var t=this.player();this.createHideTimer=this.createHideTimer.bind(this),this.createIntervals=this.createIntervals.bind(this),this.onDispose=this.onDispose.bind(this),this.hide(),t.on(["ads-ad-ended","adend","ads-ad-skipped","play"],this.createHideTimer),t.on("play",this.createIntervals),t.on("dispose",this.onDispose)}},n.createHideTimer=function(){var e=this(e){function t(t,n){var i;return void 0===n&&(n={}),(i=e.call(this,t)||this).options=yu.mergeOptions(jg,n),t.tvRating&&(t.removeChild(t.tvRating),delete t.tvRating),i.options.tvRating&&(yu.registerComponent("tvRatingLabel",Bg),t.tvRating=t.addChild("tvRatingLabel",i.options||{},t.children().length-1)),i}return Ug(t,e),t}(Fg);Vg.defaultState={},Vg.VERSION="0.0.0",yu.registerPlugin("tvRating",Vg);var qg=n((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(qg);var Hg=t(n((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,qg(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),Wg=function(e){function t(){return e.apply(this,arguments)||this}return Hg(t,e),t.prototype.createEl=function(){var t=this.options_,n=t.midrollPodCues,i=t.duration,r=e.prototype.createEl.call(this,"div",{title:"midrollPods",className:"vjs-midroll-pods-wrapper"},{"aria-live":"polite",tabindex:"1"}),a=n.filter((function(e){return"ad"===e.type})),s=document.createElement("div");return s.classList.add("evp-progress-ad-pods"),a.map((function(e){var t=100*e.value/i,n=document.createElement("div");n.classList.add("evp-progress-pod"),n.style.left=t+"%",s.appendChild(n)})),r.appendChild(s),r},t}(yu.getComponent("Component"));yu.registerComponent("midrollPodsComponent",Wg);var Gg=yu.getPlugin("plugin"),Yg={},Kg=function(e){function t(t,n){var i;void 0===n&&(n={}),(i=e.call(this,t)||this).options=yu.mergeOptions(Yg,n),t.controlBar.progressControl.midrollPods&&(t.removeChild(t.controlBar.progressControl.midrollPods),delete t.controlBar.progressControl.midrollPods);var r=i.options.midrollPodCues;return r&&Array.isArray(r)&&(t.controlBar.progressControl.midrollPods=t.controlBar.progressControl.addChild("midrollPodsComponent",i.options||{},t.controlBar.progressControl.children().length-1)),i}return Hg(t,e),t}(Gg);
/*! @name dmed-qoe @version 0.0.1 @license UNLICENSED */
function zg(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,a=void 0,"symbol"==typeof(a=fuoPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typemust return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"))?a:String(a)),i)}var r,a}function Xg(e,t,n){return t&&zg(e.prototype,t),n&&zg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qg(){return(Qg=Object.assign?Objrguments.leng&&(e[i]=n[i])}return e}).apply(this,arguments)}function $g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Jg(e,t)}fue,t)}function Zg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ev(e,t){var n="undefined"!=typeof Symbol&&e[Sbin="e){e.open="OPEN",e.direct="DIRECT",e.mvpd="MVPD",e.isp="ISP",e.none="NONE"}(dv||(dv={}));var hv,pv=dv;!function(e){e.none="none",e.startSession="startSession",e.bam="bam",e.shield="shield",e.entit():t.log=n()}(mv,(function(){var e=function(){},t="undefined"!=typeof window&&void 0!==window.navigator&&/Trident\/|MSIE /.test(window.navigator.userAgent)protocti===e]&&(e=void 0),e}}"stogging"},a.setDefaultLevel=function(e){t=e,u()||a.setLevel(e,!1)},a.resetLevel=function(){a.setLevel(t,!1),function(){if("undefined"!=typeof window==d&&(window.log=h),d},d.getLoggers=function(){return c},d.default=d,d}))})),function(e){e.abc="abc",e.abcNews="abcnews",e.abcNewsLive="abcnewslive",e.abcOtv="abcotv",e.cricinfo="cricinfo",e.disney="dch",e.disneyJr="djr",e.disneyXD="dxd",e.disneyNow="dnow",e.espn="espn",e.espnFantasy="espnFantasy",e.fiveThirtyEight="fivethirtyeight",e.foxLatam="foxlatam",e.freeform="ff",e.fxNow="fxnow",e.fx="fx",e.fxm="fxm",e.fxx="fxx",e.oscar="oscar",e.marvel="marvel",e.natGeoTV="ngtv",e.natGeo="ngc",e.natGeoWild="ngw",e.natgeoBrasil="natgeobrasil",e.theUndefeated="theundefeated",e.fast="fast",e.unknown=".graph.api.espn.com/api",this.apiKey=n||"d15c5790-7cb0-4fe1-8782-25f4698d0739",this.networkSortOrder=i||vv):e===cv.cfa?(this.apiSource=e,this.serviceUrl=t):e===cv.itemFeed&&(this.serviceUrl=t||"h{};for(var r=Object.keys(t),a=0;a<r.length;a++){var s=r[a];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}},Sv=function(e,t){if("string"n=e.indexO0,n),e.slice(n+t.length)]},Cv=function(e,t){for(var n={},i=Object.keys(e),r=Array.isArray(t),a=0;a<i.length;a++){var s=i[a],o=e[s];(r?-1!==t.indexOf(s):t(s,o,e))&&(n[s]=o)}return n},Iv=gv((function(e,t){function n(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function i(e,t){return t.encode?t.strict?encodeURIComponent(16).toUpperCase()})):encodeURIComponent(e):e}function r(e,t){return t.decode?Av(e):e}function a(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function s(e){var t=(e=a(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function o(e,t){return t.parseNumbers&&!Number.isNaN(NumbeerCase()||(e="true"===e.toLowerCase()),e}function l(e,t){n((t=Qg({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var i=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,i){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===i[e]&&(i[e]={}),i[e][t[1]]=n):i[e]=n};case"bracket":return function(e,n,i){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],n):i[e]=[n]:i[e]=n};case"commtor);n=s?r(n,e):n;var o=a||s?n.split(e.arrayFormatSeparator).map((function(t){return r(t,e)})):null===n?n:r(n,e);i[t]=o};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),a=Object.create(null);if("string"!=typeof e)return a;if(!(e=e.trim().replace(/^[?#&]/,"")))return a;for(var s,l=ev(e.split("&"));!(s=l()).done;){var u=s.value;if(""!==u){var d=Sv(t.decode?u.replace(/\+/g," "):u,"="),c=d[0],h=d[1];h=void 0===h?null:["comma","separator"].includes(t.arrayFormat)?h:r(h,t),i(r(c,t),h,a)}}for(var p=0,f=Object.keys(a);p<f.length;p++){var m=f[p],g=a[m];if("object"==typeof g&&null!==g)for(var v=0,y=Object.keys(g);v<y.length;v++){var _=y[v];g[_]=o(g[_],t)}else a[m]=o(g,t)}return!1===t.sort?a:(!0===t.sort?Object.keys(a).sort():Object.keys(a).sort(t.sort)).reduce((function(e,t){var n=a[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(n):e[t]=n,e}),Object.create(null))}t.extract=s,t.parse=l,t.stringify=function(e,t){if(!e)return"";n((t=Qg({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var r=function(n){return t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n]},a=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var a=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(n,null===r?[[i(t,e),"[",a,"]"].join("")]:[[i(t,e),"[",i(a,e),"]=",i(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(n,null===r?[[i(t,e),"[]"].join("")]:[[i(t,e),"[]=",i(r,e)].join("")])}};case"comma":case"separator":return function(t){return function(n,r){return null==r||0===r.length?n:0===n.length?[[i(t,e),"=",i(r,e)].join("")]:[[n,i(r,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(n,null===r?[i(t,e)]:[[i(t,e),"=",i(r,e)].join("")])}}}}(t),s={},o=0,l=Object.keys(e);o<l.length;o++){var u=l[o];r(u)||(s[u]=e[u])}var d=Object.keys(s);return!1!==t.sort&&d.sort(t.sort),d.map((function(n){var r=e[n];return void 0===r?"":null===r?i(n,t):Array.isArray(r)?r.reduce(a(n),[]).join("&"):i(n,t)+"="+i(r,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Qg({decode:!0},t);var n=Sv(e,"#"),i=n[0],a=n[1];return Qg({url:i.split("?")[0]||"",query:l(s(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:r(a,t)}:{})},t.stringifyUrl=function(e,n){n=Qg({encode:!0,strict:!0},n);var r=a(e.url).split("?")[0]||"",s=t.extract(e.url),o=Qg(t.parse(s,{sort:!1}),e.query),l=t.stringify(o,n);l&&(l="?"+l);var u=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(u="#"+i(e.fragmentIdentifier,n)),""+r+l+u},t.pick=function(e,n,i){i=Qg({parseFragmentIdentifier:!0},i);var r=t.parseUrl(e,i),a=r.url,s=r.query,o=r.fragmentIdentifier;return t.stringifyUrl({url:a,query:Cv(s,n),fragmentIdentifier:o},i)},t.exclude=function(e,n,i){var r=Array.isArray(n)?function(e){return!n.includes(e)}:function(e,t){return!n(e,t)};return t.pick(e,r,i)}}));Iv.extract,Iv.parse,Iv.stringify,Iv.parseUrl,Iv.stringifyUrl,Iv.pick,Iv.exclude,new yv(cv.itemFeed);var Pv=function(){function e(e,t){this.player=e,this.options=t,this.updatedBitrate_=0,e&&(this.playerAdaptor_=this.getPlayerAdaptor_())}var t=e.prototype;return t.getBrandMappingPartner_=function(){var e;if(!(null===(e=this.mediaItem_)||void 0===e?void 0:e.brand))return"NA";var t=uv.PartnerType.DMED;return this.isESPNTVE_()?t=uv.PartnerType.ESPN_TVE:this.isESPN_()&&(t=uv.PartnerType.ESPN_COM),t},t.isESPNTVE_=function(){var e,t;return(null===(t=null===(e=this.options)||void 0===e?void 0:e.authorization)||void 0===t?void 0:t.authenticationType)===pv.mvpd&&this.isESPN_()},t.isESPN_=function(){var e,t="string"==typeof(null===(e=this.mediaItem_)||void 0===e?void 0:e.brand)&&this.mediaItem_.brand.toLowerCase();return"espn"===t||"secsports"===t||"cricinfo"===t},t.getPlayerAdaptor_=function(){var e,t,n,i,r,a;return(null===(t=null===(e=this.player)||void 0===e?void 0:e.dash)||void 0===t?void 0:t.shakaPlayer)?{type:uv.PlaybackPlayerType.SHAKA_PLAYER,player:this.player.dash.shakaPlayer}:(null===(i=null===(n=this.player)||void 0===n?void 0:n.dash)||void 0===i?void 0:i.mediaPlayer)?{type:uv.PlaybackPlayerType.DASH_MEDIA_PLAYER,player:this.player.dash.mediaPlayer}:(null===(r=this.player)||void 0===r?void 0:r.vhs)?{type:uv.PlaybackPlayerType.VIDEO_JS_VHS,player:null===(a=this.player)||void 0===a?void 0:a.vhs}:null},t.getBitrateFromShakaPlayer_=function(){var e=this.playerAdaptor_.player,t="function"==typeof(null==e?void 0:e.getStats)&&e.getStats(),n=(null==t?void 0:t.streamBandwidth)&&Math.round(t.streamBandwidth/1e3);return n&&tif("function"!=typeof(null==e?void 0:e.getQualityFor)&&"function"!=typeof(null==e?void 0:e.getBitrateInfoListFor))return 0;var t=e.getQualityFor("video"),n="number"==typeof t&&e.getBitrateInfoListFor("video")[t],i=(null==n?void 0:n.bitrate)&&Math.round(n.bitrate/1e3);return i&&this.updatedBitrate!==i?(this.updatedBitrate=i,i):0},t.getBitrateFromVideoJSVhs_=function(){var e,t,n=this.playerAdaptor_.player;if(!n)return 0;var i=0,r=null,a=null;if((null===(e=null==n?void 0:n.playlists)||void 0===e?void 0:e.media)&&(r=null==n?void 0:n.playlisnull==a?void 0:a.attributes){a.attributes.BANDWIDTH&&(i=a.attributes.BANDWIDTH);var s=this.getAudioBitrate_(r,a),o=Math.round((i+s)/1e3);if(this.updatedBitrate!==o)return this.updatedBitrate=o,o}return 0},t.getAudioBitrate_=function(e,t){var n,i=null,r=0,a="function"==typeof(null===(n=this.player)||void 0===n?void 0:n.audioTracks)&&this.player.audioTracks();if(a&&(null==a?void 0:a.length))for(var s=0;s<a.length;s++){var o=a[s];if(o.enabled){i=o;break}}if(i&&t.attributes.AUDIO&&e&&e.master&&e.master.mediaGroups&&e.master.mediaGroups.AUDIO){var l=e.master.mediaGroups.AUDIO[t.attributes.AUDIO];if(l){var u=l[i.id];if(u&&u.playlists&&u.playlists[0]){var d=u.playlists[0].attributes;d&&d.BANDWIDTH&&(r=d.BANDWIDTH)}}}return r},t.updateOptions=function(e){this.e,t,n=((e={})[uv.START_v.DRM_PROTECTION_TYPE]=this.drmProtectionType,e[uv.STREAM_PROTOCOL]=this.streamProtocol,e[uv.SPORT]=this.sport,e[uv.LEAGUE]=this.league,e[uv.EVENT_ID]=this.eventId,e[uv.EVENT_NAME]=this.eventName,e[uv.EVENT_TYPE]=this.eventType,e[uv.APP_BRAND]=this.appBrand,e[u[uv.ASSET_NAME]=this.assetName,e[uv.VIDEO_RESOLUTION]=this.videoResolution,e[uv.PLAYER_NAME]=this.playerName,e[uv.STREAM_URL]=this.streamSrc,e[uv.IS_LIVE]=this.isLive,e[uv.SITE]=tis.resource,e[uv.ACCESS_TYPE]=this.accessType,e[uv.CDN_RESOURCE_LOCATION]=this.cdnResourceLocation,e[uv.CDN_NAME]=this.cdnName,e[uv.PARTNER]=this.partner,e[uv.PARTNER_is.genre,e[uv.EPISODE_NUMBERProviderName,e["c3.cm.channel"]=this.channel,e["c3.cm.categoryType"]=this.contentCategory,e["c3.cm.seriesName"]=this.seriesName,e);return(null===(t=this.options)||void 0===t?void 0:t.DEBUG)&&console.debug("QOE ContentInfo:  ",n),n},Xg(e,[{key:"mediaItem_",get:function(){return this.options.playbackMediaItem}},{key:"customTracking_",get:function(){var e=this.mediaItem_.tracking,t=(void 0===e?{}:e).conviva,n=(void 0===t?{}:t).custom;return void 0===n?{}:n}},{key:"authProvider_",get:function(){var e=this.options.authorization,t=(v:t}},{key:"videoResolution",get:function(){var e;if(!this.player||"function"!=typeof(null===(e=this.player)||void 0===e?void 0:e.currentDimensions))return"NA";var t=this.player.currentDimensions(),n=t.height,i=t.width;return n&&i?Math.round(i)+"x"+Math.round(n):"NA"}},{key:"assetName",geta,o=s.assetName,l=s.custom,u=void 0===l?{}:l,d=u.network,c=void 0===d?{}:d,h=u.assetType,p=void 0===h?null:h;if(!(e=o))e=c&&c.id&&"linear"===c.type&&"live"===p?c.id:i+" - "+n}return e}},{key:"isLive",get:function(){return"live"===this.mediaItem_.streamType?e.Constants.StreamType.LIVE:e.Constants.StreamType.VOD}},{key:"streamSrc",get:function(){var e;return"function"==typeof(null===(e=this.player)||void 0===e?void 0:e.currentSrc)?catiw||{}).location,t=void 0===e?{}:e,n=t.hostname,i=void 0===n?"":n,r=t.href;return{hostname:i,href:void 0===r?"":r}}},{key:"site",get:function(){return this.locationData_.hostname}},{key:"page",get:function(){return this.locationData_.href}},{key:"sport",get:function(){return this.customTracking_.sport||"NA"}},{key:"league",get:function(){return this.customTracking_.league||"NA"}},{key:"eventId",get:function(){return this.customTracking_.contentId||this.mediaItem_.id}},{key:"eventName",get:function(){return this.customTracking_.eventName||this.mediaItem_.title}},{key:"eventType",get:function(){return this.customTracking_.eventType||"NA"}},{key:"appBrand",get:function(){return this.options.brand||"NA"}},{key:"mediaType",get:function(){return this.options.type}},{key:"applicationVersion",get:function(){return this.options.platformVersion}},{key:"startType",get:function(){return this.options.startType}},{key:"drmProtectionType",get:function(){return this.options.drmProtectionType||this.customTracking_.drmProtectionType||"NA"}},{key:"streamProtocol",get:function(){return this.options.streamProtocol}},{key:"viewerId",get:function(){return this.options.fanSWID||"NA"}},{key:"playerName",get:function(){return this.options.playerName}},{key:"frameworkName",get:function(){return"Video JS"}},{key:"frameworkVersion",get:function(){return this.options.frameworkVersion}},{key:"moduleName",get:function(){return"QOE"}},{key:"errorMessage",get:function(){var e=this.player.error()||{code:"unknown",message:"unknown"};return"code:"+e.code+" "+(e.type&&e.type!==e.code?e.type:e.headline||e.message)}},{key:"resource",get:function(){return this.streamSrc}},{key:"connectionType",get:function(){var e=navigator,t=e.connection||e.mozConnection||e.webkitConnection;return t?t.effectiveType:"NA"}},{key:"channel",get:function(){return this.customTracking_.channel||"NA"}},{key:"seriesName",get:function(){return this.customTracking_.seriesName||"NA"}},{key:"seasonNumber",get:function(){return this.customTracking_.seasonNumber||this.mediaItem_.seasonNumber||"NA"}},{key:"genre",get:function(){var e;return(null===(e=thid 0:e.genre)||this.mediaItem_.videoShowGenre||"NA"}},{key:"episodeNumber",get:function(){var e;return(null===(e=thism_.episodeNumber||"NA"}},{key:"contentCategory",get:function(){var e;return(null===(e=this.customTracking_)||void 0===e?void 0:e.contentCategory)||"NA"}},{key:"assetProviderName",get:function(){return this.customTracking_.assetProviderName||"unction(){var e=this.m"NA":e}},{key:"accessType",get:function()y:"pccId",get:function(){return this.customTracking_.pccId||"NA"}},{key:"partnerSDK",get:function(){return this.authProvider_.id||"NA"}},{key:"cdnName",get:function(){return this.customTracking_.cdnName||"NA"}},{key:"cdnResourceLocation",get:function(){return this.customTracking_.cdnLocation||"NA"}},{key:"frameRate",get:function(){if(!this.player)return null;if(!this.player.vhs||!this.player.vhs.playlists||"function"!=typeof this.player.vhs.media)return"NA";var e=(this.player.vhs.media()||{}).attributes,t=(void 0===e?{}:e)["FRAME-RATE"];return void 0===t?"NA":t}},{ke(null===(e=this.cu){switch(this.playerAdaptor_=this.playerAdaptor_||this.getPlayerAdaptor_(),(this.playerAdaptor_||{}).type){case uv.PlaybackPlayerType.SHAKA_PLAYER:return this.getBitrateFromShakaPlayer_();case uv.PlaybackPlayerType.DASH_MEDIA_PLAYER:return thiEO_JS_Vult:return 0}}},{key:"updatedBitrate",get:function(){return this.updatedBitrate_},set:function(e){this.updatedBitrate_=e}}]),e}();Pv.Constants={StreamType:{LIVE:"live",VOD:"vod"}};var kv={LogG:2,ERROR:3,NONE:4}},wv="init",Lv="load",Rv="play",Dv="dispose",Ov="player_info",Nv="content_info",xv="playback_requested",Mv="playback_metric",Uv="playback_ended",Bv="playk_ended",qv="ad_metric",Hv="ad_ended",Wv="ad_skipped",Gv="ad_started",Yv="ad_failed",Kv="ad_info",zv="a,this.isPlayStartStarted_){for(var t=ests[i].metadata);for(var r=0;r<t;r+=1)this.emit_(this.events[r].event,this.events[r].metadata);this.events=[],this.playbackRequests=[]}th=null),this.coordinator.coordinate("dtci.qoe",{type:e,data:t})},t.init=function(e){return this.emit_(e):(this.events.uests.push({event:t.playbackEnded=function(){return this.emit_(UreakStartefunctiotion(e){return this.emit_(Yv,e)},e}(),Qv=function(e){function t(t,n,i){var r;return(r=e.call(this,t,i)||this).side_=n,r}$g(t,e);var n=t.prototype;return n.emit_=function(e,t){void 0===t&&(t={}),this.coordinator.coordinate("dtci.qoe",{type:e,adSide:this.side_,data:Qg({},t,{"c3.ad.technology":this.side_})})},n.adInfo=function(e){return this.emit_(Kv,e)},n.adLoad=function(e){return this.emit_(zv,e)},t}(Xv),$v=function(e){function t(){return e.apply(this,arguments)||this}return $g(t,e),t.prototype.buildAdEmitter=function(e,t){return new Qv(this.coordinator,e,t)},t}(Xv),Jv=gv((function(e,t){
/*! (C) 2023 Conviva, Inc. All rights reserved. Confidential and proprietary. */
!function(t,n){var i;e.exports=n(),void 0!==t&&t&&(void 0!==t.Conviva&&t.Conviva?t.Conviva.ProxyMonitor||t.ConvivaModuleLoading||(i=n(),t.ConvivaModuleLoading=!0,t.Conviva.ProxyMonitor=i.ProxyMonitor,t.Conviva.Impl.VideojsProxy=i.Impl.VideojsProxy,delete t.ConvivaModuleLoading):t.ConvivaModule||t.ConvivaModuleLoading||(t.ConvivaModuleLoading=!0,t.ConvivaModule=n(),delete t.ConvivaModuleLoading))}(mv,(function(){var e={};return e.ProxyMonitor={dt:null,release:function(){this.dt&&this.dt.cleanup()},initConvivaDropIn:function(t,n,i,r){if(t)return this.dt=new e.Impl.VideojsProxy(t,n,i,r),this.dt;throw new Error("No player proxy initialized")}},void 0!==e&&(e.Impl=e.Impl||{},e.Impl.VideojsProxy=function(e,t,n,i){var r=this;r.t=[],r.i=0,r.o=0,r.u=!1,this.h=-1,this.v=-1,this.l=i.Constants.PlayerState.UNKNOWN,this.p=!1,this.N=0,this.V=0,this.C=-1,this.g="",this.I=null,this.A=!1,this.O=function(e,t,n){void 0===n&&(n=r.m),r.j.push([e,t,n]),n.on(e,t)},this.M=function(e,t,n){(n=void 0===n?r.m:n).off(e,t)},this.P=function(){r.O("onContentPauseRequested",(function(e){r.k("onContentPauseRequested",e)})),r.O("onContentResumeRequested",(function(e){r.k("onContentResumeRequested",e)})),r.O("abort",(function(e){r.k("abort",e)})),r.O("loadstart",(function(e){r.k("loadstart",e)})),r.O("firstplay",(function(e){r.k("firstplay",e),r.R(e)})),r.O("play",(function(e){r.k("play",e),r.R(e)})),r.O("ended",(function(e){r.k("ended",e),r.q(i.Constants.PlayerState.STOPPED)})),r.O("pause",(function(e){r.k("pause",e),r.R(e),r.q(i.Constants.PlayerState.PAUSED)})),r.O("playing",(function(e){r.k("playing",e),r.R(e),0===r.m.currentTime()?r.u=!0:0<r.m.currentTime()&&(r.u=!1)})),r.O("waiting",(function(e){r.k("waiting",e),r.R(e),r.q(i.Constants.PlayerState.BUFFERING)})),r.O("timeupdate",(function(){r.u&&(r.i++,r.l!==i.Constants.PlayerState.PLAYING)&&r.m&&!r.m.seeking()&&r.q(i.Constants.PlayerState.PLAYING)})),r.O("error",(function(e){r.B(e)})),r.O("contenterror",(function(e){r.B(e)})),r.O("aderror",(function(e){r.B(e)})),r.O("loadedmetadata",(function(e){r.k("loadedmetadata",e),r.R(e),r.F()||r.S()})),r.O("loadeddata",(function(e){r.k("loadeddata",e),r.R(e)})),r.O("durationchange",(function(e){r.k("durationchange",e),r.R(e)})),r.O("seeking",(function(e){r.k("seeking",e),r.R(e),r.isSeekStarted||(r.isSeekStarted=!0,r.U&&r.U.reportPlaybackMetric(i.Constants.Playback.SEEK_STARTED,"CONVIVA")),r.u&&r.l!==i.Constants.PlayerState.BUFFERING&&(r.k("Adjusting Conviva player state to: BUFFERING"),r.q(i.Constants.PlayerState.BUFFERING))})),r.O("seeked",(function(e){r.k("seeked",e),r.R(e),r.isSeekStarted=!1,r.U&&r.U.reportPlaybackMetric(i.Constants.Playback.SEEK_ENDED,"CONVIVA")})),r.O("progress",(function(){r.A||r.D()})),r.O("stalled",(function(){})),r.O("=e,r.v=s.S=funextTraction(){var e=this.activeCues[0];if(e&&e.value&&e.value.bandwidth&&r.U&&r.l!==i.Constants.PlayerState.UNKNOWN){var t=0,n=0,a=e.value.bandwidth,s=r.m;if(s){var o,l,u=s.tech(!0);if(u&&(u.vhs&&u.vhs.playlists&&u.vhs.playlists.media?(l=u.vhs.playlists,p=u.vhs.playlists.media()):u.hls&&u.hls.playlists&&u.hls.playlists.media&&(l=u.hls.playlists,p=u.hls.playlists.media()),p&&p.attributes)){if(p.attributes["AVERAGE-BANDWIDTH"]&&(n=parseInt(p.attributes["AVERAGE-BANDWIDTH"],10)),p.attributes.BANDWIDTH){var d=s.audioTracks();if(d&&0<d.length)for(var c=0;c<d.length;c++){var h=d[c];if(h.enabled){o=h;break}}}o&&p.attributes.AUDIO&&l&&l.master&&l.master.mediaGroups&&l.master.mediaGroups.AUDIO&&(u=l.master.mediaGroups.AUDIO[p.attributes.AUDIO])&&(s=u[o.id])&&s.playlists&&s.playlists[0]&&(l=s.playlists[0].attributes)&&l.BANDWIDTH&&(t=l.BANDWIDTH)}}var p=Math.round((a+t)/1e3);p!==r.N&&(r.N=p,r.U.reportPlaybackMetric(i.Constants.Playback.BITRATE,r.N,"CONVIVA")),(n=Math.round(n/1e3))!==r.V&&(r.V=n,r.U.reportPlaybackMetric(i.Constants.Playback.AVG_BITRATE,r.V,"CONVIVA")),e.value.resolution&&e.value.resolut=0,n=0ugins:!0c=s.audiroups.AU&&0<=a.citrate)e/1e3))!==r.N&&(r.N=o,r.U.reportPlaybacstFor&&u[m]&&u[m].bitrate&&(t=u[m].bitrate),a=l.getQualityFor("video"),f=l.getBitrateInfoListFor("video"),e=t+(n=void 0!==a&&f&&f[a]&&f[a].bitrate?f[a].bitrate:n),(o=Math.round(e/1e3))!==r.N)&&(r.N=o,r.U.reportPlaybackMetric(i.Constants.Playback.BITRATE,r.N,"CONVIVA"))}}},this.getBufferLength=function(){var e=r.m.buffered();if("number"!=typeof e)return-1;for(var t=0,n=0;n<e.length;n++){var i=e.start(n),a=e.end(n);i<=r.m.currentTime()&&r.m.currentTime()<a&&(t+=a-r.m.currentTime())}return r._=t,1e3*r._},this.T=function(){for(var e=0;e<r.j.length;e++){var t=r.j[e];r.M(t[0],t[1],t[2])}r.j=[]},this.L=function(){r.m&&(r.W=r.m.readyState(),0===r.m.readyState()||r.m.endedd()||r.m.seeking())&&r.q(i.Constants.PlayerState.PAUSED))},this.q=function(e){r.U&&(r.l=e,r.U.reportPlaybackMetric(i.Constants.Playback.PLAYER_STATE,r.l,"CONVIVA"),r.Y(),r.H=!0)},this.R=function(e){if(r.U){var t,n=!0,a=!0,s=(r.K&&((t=r.m.playlist&&r.m.playlist()&&0<r.m.playlist().length?r.m.playlist()[r.m.playlist.currentItem()]:r.m.mediainfo)&&(((s=t.custom_fields||t.customFields)&&(s.isLive||s.islive)||0<t.duration)&&(n=!1),0<t.duration)&&(a=!1),r.X)&&void 0!==r.X.isLive&&(n=!1),{});if(r.m&&r.m.playlist&&"function"==typeof r.m.playlist.currentItem&&(a||n)){var o,l=!1;switch(e.type){case"play":case"waiting":-1===r.m.playlist.currentItem()&&(l=!0);break;case"playing":case"seeking":case"seeked":case"pause":case"loadedmetadata":case"loadeddata":case"durationChange":l=!0}l&&("function"==typeof r.m.duration&&(o=r.m.duration(),r.m.duration()===1/0||isNaN(r.m.duration())||(o=Math.round(r.m.duration()))),o)&&o!==r.C&&((r.C=o)===1/0?n&&(s[i.Constants.IS_&&(t=r.m.currentSource().src)!==r.g&&(r.g=t,s[i.Constants.STREAM_URL]=t),"{}"!==JSON.stringify(s)&&r.U.setContentInfo(s)}},this.Z=function(){var e;r.m&&"function"==typeof r.m.getVideoPlaybackQuality&&r.m.getVideoPlaybackQuality()&&(e=r.m.getVideoPlaybackQuality().droppedVideoFrames)&&0<e&&e!==r.I&&(r.I=e,r.U.reportPlaybackMetric(i.Constants.Playback.DROPPED_FRAMES_TOTAL,r.I,"CONVIVA"))},this.$=function(){this.tt=0,this.it=0,this._=0,this.nt=this.et.createTimer(this.ot,100,"videojsProxy._poll()")},this.ot=function(){r.U&&(r.U.getAdType()!==i.Constants.AdType.CLIENT_SIDE&&r.m?(r.U.reportPlaybackMetric(i.Constants.Playback.PLAY_HEAD_TIME,1e3*r.m.currentTime(),"CONVIVA"),r.U.reportPlaybackMetric(i.Constants.Playback.BUFFER_LENGTH,r.getBufferLength(),"CONVIVA"),r.at(),r.st(),r.Z()):r.l!==i.Constants.PlayerState.UNKNOWN&&(r.l=i.Constants.PlayerState.UNKNOWN))},this.at=function(){r.tt=r.it,r.it=r.m.currentTime();var e,t=Date.now();0<r.rt&&t>r.rt&&(e=(e=(e=r.it-r.tt)<0?0:e)/(t-r.rt)*1e3,r.t.push(e)),r.rt=t,r.t.length>Math.max(8,4)&&r.t.shift()},this.st=function(){var e=r.t.length;if(e>=Math.min(4,8)){for(var t=0,n=r.t.slice(),a=0;a<n.length;a++)t+=n[a];t/=e;var s=1,o=.25,l=r.m.playbackRate();!isNaN(l)&&l!==1/0&&0<l&&(s*=l=r.F()&&l<.5?.5:l,o*=l),r.l!==i.Constants.PlayerState.PLAYING&&4<=e&&Math.abs(t-s)<o?r.m.seeking()||(r.k("Adjusting Conviva player state to: PLAYING"),r.q(i.Constants.PlayerState.PLAYING)):8<=e&&0===t&&(r.m.paused()?r.l!==i.Constants.PlayerState.PAUSED&&(r.k("Adjusting Conviva player state to: PAUSED"),r.q(i.Constants.PlayerState.PAUSED)):r.m.seeking()||r.l!==i.Constants.PlayerState.BUFFERING&&(r.k("Adjusting Conviva player state to: BUFFERING"),r.q(i.Constants.PlayerState.BUFFERING)))}},this.ft=function(){this.nt&&(this.nt(),this.nt=null)},this.Y=function(){r.t=[],r.tt=-1,r.rt=0},this.ut=function(){r.o=0,r.i=0},this.B=function(e){r.k("error",e),r.m&&r.m.error()&&!r.K&&(e="Error Type: "+e.type+", Error Message: "+r.m.error().message+", Error Code: "+r.m.error().code,r.U.reportPlaybackError(e,i.Constants.ErrorSeverity.FATAL))},this.k=function(e){this.K?this.ht(e):this.ht.log(e,i.SystemSettings.LogLevel.DEBUG)},this.ct=function(e,t){if(!e)throw new Error("bcVideojsProxy: player argument cannot be null.");r.m=e,r.U=t,r.k("bcVideojsProxy.update()"),0===r.j.length&&r.P(),r.Y(),r.ut(),r.ft(),r.$(),r.h=-1,r.v=-1,r.l=i.Constants.PlayerState.UNKNOWN,r.N=0,r.C=-1,r.g="",r.I=null,r.L(),(e={})[i.Constants.MODULE_NAME]="BC",e[i.Constants.MODULE_VERSION]="4.1.13",r.U.setContentInfo(e),this.F()||this.S(),!r.F()&&r.A||(r.D(),"function"==typeof r.m.videoWidth&&"function"==typeof r.m.videoHeight&&(t=r.m.videoWidth(),e=r.m.videoHeight(),!isNaN(t)&&0<t&&t!==r.h||!isNaN(e)&&0<e&&e!==r.v)&&(r.h=t,r.v=e,r.U.reportPlaybackMetric(i.Constants.Playback.RESOLUTION,t,e,"CONVIVA")))},this.F=function(){return/apple/i.test(navigator.vendor)},function(e,t,n,i,a,s){if(!e)throw new Error("videojsProxy: videoElement argument cannot be null.");var o={};this.K=!1,this.m=e,this.U=n,this.et=new i.Impl.Html5Timer,t?(this.ht=t.buildLogger(),this.ht.setModuleName("videojsProxy"),o[i.Constants.MODULE_NAME]="Video JS",(e={})[i.Constants.FRAMEWORK_NAME]="Video JS","undefined"!=typeof videojs&&(e[i.Constants.FRAMEWORK_VERSION]=videojs.VERSION),this.U.setPlayerInfo(e)):(this.ht=a,this.X=s,o[i.Constants.MODULE_NAME]="BC",this.K=!0),o[i.Constants.MODULE_VERSION]="4.1.13",this.k("videojsProxy._constr()"),this.j=[],this.P(),this.Y(),this.ut(),this.$(),this.L(),this.U.setContentInfo(o),this.F()||this.S(),!r.F()&&r.A||(r.D(),"function"==typeof r.m.videoWidth&&"function"==typeof r.m.videoHeight&&(n=r.m.videoWidth(),t=r.m.videoHeight(),!isNaN(n)&&0<n&&n!==r.h||!isNaN(t)&&0<t&&t!==r.v)&&(r.h=n,r.v=t,r.U.reportPlaybackMetric(i.Constants.Playback.RESOLUTION,n,t,"CONVIVA")))}.apply(this,arguments),this.cleanup=function(){this.k("videojsProxy.cleanup()"),this.ft(),this.T(),this.F()||this.J(),this.m=null,r.U=null,r.h=-1,r.v=-1,r.l=i.Constants.PlayerState.UNKNOWN,r.N=0,r.C=-1,r.g="",r.I=null,r.A=!1}}),e}))})),Zv=gv((function(e,t){var n,i;n=mv,i=function(){var e={};return e.AdProxyMonitor={o:null,release:function(){this.o&&this.o.cleanup()},initConvivaDropIn:function(t,n,i,r){if(t)return this.o=new e.Impl.GoogleImaProxy(t,n,i,r),this.o;throw new Error("No Ad Manager proxy initialized")}},void 0!==e&&(e.Impl=e.Impl||{},e.Impl.GoogleImaProxy=function(e,t,n,i){var r=this;r.isAdBreakEnabled=!0,r.convivaAdAnalytics=null,r.isPreviousEventAdBuffering=!1,this.registerAdsLoaderListeners=function(){var e={};if(e[i.Constants.FRAMEWORK_NAME]="Google IMA SDK","undefined"==typeof google||!google)throw new Error("Google IMA SDK is not accessible");e[i.Constants.FRAMEWORK_VERSION]=""+google.ima.VERSION,r.convivaAdAnalytics.setAdPlayerInfo(e),r.adsLoader&&(r.adsManagerLoadedBind=function(e){this.adManagerInfo&&this.adManagerInfo[i.Constants.IMASDK_CONTENT_PLAYER]&&(this.adsManager=e.getAdsManager(this.adManagerInfo[i.Constants.IMASDK_CONTENT_PLAYER]),this.registerAdsManagerListeners())}.bind(r),r.onAdsLoaderErrorBind=function(e){e=e.getError(),this.reportAdFailed(e,"Ads Loader Error")}.bind(r),r.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,r.adsManagerLoadedBind,!1,r),r.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r.onAdsLoaderErrorBind,!1,r))},this.registerAdsManagerListeners=function(){for(var e in r.onAdsManagerErrorBind=function(e){e=e.getError(),this.handleAdError(e)}.bind(r),r.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r.onAdsManagerErrorBind,!1,r),r.onAdEventBind=function(e){e.type===google.ima.AdEvent.Type.STARTED&&e.getAd().isLinear()?(this.onAdStart(e),this.convivaAdAnalytics.reportAdMetric(i.Constants.Playback.PLAYER_STATE,i.Constants.PlayerState.PLAYING)):e.type===google.ima.AdEvent.Type.RESUMED&&e.getAd().isLinear()?this.convivaAdAnalytics&&this.convivaAdAnalytics.reportAdMetric(i.Constants.Playback.PLAYER_STATE,i.Constants.PlayerState.PLAYING):e.type===google.ima.AdEvent.Type.PAUSED&&!0===e.getAd().isLinear()?this.convivaAdAnalytics&&this.convivaAdAnalytics.reportAdMetric(i.Constants.Playback.PLAYER_STATE,i.Constants.PlayerState.PAUSED):e.type===google.ima.AdEvent.Type.COMPLETE&&!0===e.getAd().isLinear()?this.convivaAdAnalytics&&(this.convivaAdAnalytics.reportAdMetric(i.Constants.Playback.PLAYER_STATE,i.Constants.PlayerState.STOPPED),this.convivaAdAnalytics.reportAdEnded()):e.type===google.ima.AdEvent.Type.SKIPPED&&!0===e.getAd().isLinear()?this.convivaAdAnalytics&&(this.convivaAdAnalytics.reportAdMetric(i.Constants.Playback.PLAYER_STATE,i.Constants.PlayerState.STOPPED),this.convivaAdAnalytics.reportAdSkipped()):e.type===google.ima.AdEvent.Type.ALL_ADS_COMPLETED?this.allAdsCompleted=!0:e.type===google.ima.AdEvent.Type.LOG?this.onAdLogError(e):e.type===google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED?this.onContentPauseRequested(e):e.type===google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED?this.onContentResumeRequested(e):e.type===google.ima.AdEvent.Type.AD_BUFFERING?this.convivaAdAnalytics&&(this.isPreviousEventAdBuffering=!0,this.convivaAdAnalytics.reportAdMetric(i.Constants.Playback.PLAYER_STATE,i.Constants.PlayerState.BUFFERING)):e.type===google.ima.AdEvent.Type.AD_PROGRESS&&this.convivaAdAnalytics&&(this.isPreviousEventAdBuffering?this.isPreviousEventAdBuffering=!1:this.convivaAdAnalytics.reportAdMetric(i.Constants.Playback.PLAYER_STATE,i.Constants.PlayerState.PLAYING))}.bind(r),r.events=[google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED,google.ima.AdError.Type.AD_LOAD,google.iD_BUFFERING,google.ima.AdEvent.Type.AD_PROGRESS],r.events)r.adsManager.addEventListener(r.events[e],r.onAdEventBind,!1,r)},this.onContentPauseRequested=function(e){r.allAdsCompleted=!1,r.contentPauseRequested=!0,r.convivaAdAnalytics&&(r.currentPodIndex=e.getAd().getAdPodInfo().getPodIndex(),r.isAdBreakEnabled)&&(r.podDuration=e.getAd().getAdPodInfo().getMaxDuration(),0===r.currentPodIndex?r.podPosition="Pre-roll":-1===r.currentPodIndex?r.podPosition="Post-roll":r.podPosition="Mid-roll",(e={})[i.Constants.POD_POSITION]=r.podPosition,e[i.Constants.POD_DURATION]=r.podDuration,e[i.Constants.POD_INDEX]=r.podIndex,r.convivaAdAnalytics.reportAdBreakStarted(i.Constants.AdType.CLIENT_SIDE,i.Constants.AdPlayer.CONTENT,e),r.podStartSent=!0)},this.onContentResumeRequested=function(){r.allAdsCompleted=!1,r.convivaAdAnalytics&&r.isAdBreakEnabled&&r.podStartSent&&(r.convivaAdAnalytics.reportAdBreakEnded(),r.podStartSent=!1,r.podIndex++,r.podPosition=null),r.contentPauseRequested=!1},this.onAdStart=function(e){var t;r.convivaAdAnalytics&&(t=r.getConvivaAdMetadata(e.getAd()),r.convivaAdAnalytics.reportAdStarted(t),r.convivaAdAnalytics.reportAdMetric(i.Constants.Playback.RESOLUTION,e.getAd().getVastMediaWidth(),e.getAd().getVastMediaHeight()),r.convivaAdAnalytics.reportAdMetric(i.Constants.Playback.BITRATE,e.getAd().getVastMediaBitrate()))},this.onAdLogError=function(){},this.getConvivaAdMetadata=function(e){var t,n,a={};a[i.Constants.MODULE_NAME]="Google IMA",a[i.Constants.MODULE_VERSION]="4.0.10",a[i.Constants.FRAMEWORK_NAME]="Google IMA SDK","undefined"!=typeof google&&google&&(a[i.Constants.FRAMEWORK_VERSION]=""+google.ima.VERSION),a[i.Constants.ASSET_NAME]=e.getTitle(),a[i.Constants.STREAM_URL]=e.getMediaUrl(),a[i.Constants.DURATION]=e.getDuration();try{var s=r.convivaAdAnalytics.getPlayerMonitor().getContentMetadata(),o=r.convivaAdAnalytics.getAdPlayerMonitor().getCoConstants.StreamType.UNKNOWN&&o.streamType===i.Constants.StreamType.UNKNOWN&&(a[i.Constants.IS_LIVE]=s.streamType):s&&s.streamType!==i.Constants.StreamType.UNKNOWN&&(a[i.Constants.IS_LIVE]=s.streamType)}catch(e){a[i.Constants.IS_LIVE]=i.Constants.StreamType.UNKNOWN}return s=e.getWrapperAdIds()&&0!==e.getWrapperAdIds().length?(o=e.getWrapperAdIds().length,t=e.getWrapperAdetWrapperCreativeIds()[o-1]):(t=e.getAdSystem(),n=e.getAdId(),e.getCreativeId()),o=0===e.getAdPodInfo().getPodIndex()?"Pre-roll":-1===e.getAdPodInfo().getPodIndex()?"Post-roll":"Mid-roll",a["c3.ad.id"]=""+e.getAdId(),a["c3.ad.creativeId"]=""+e.getCreativeId(),a["c3.ad.technology"]="Client Side",a["c3.ad.system"]=""+e.getAdSystem(),a["c3.ad.sequence"]=""+e.getAdPodInfo().getAdPosition(),a["c3.ad.mediaFileApiFramework"]=""+e.getApiFramework(),a["c3.ad.advertiser"]=""+e.getAdvertiserName(),a["c3.ad.position"]=o,a["c3.ad.adManagerName"]="Google IMA SDK","undefined"!=typeof google&&google&&(a["c3.ad.adManagerVersion"]=""+google.ima.VERSION),a["c3.ad.firstAdSystem"]=""+t,a["c3.ad.firstAdId"]=""+n,a["c3.ad.firstCreativeId"]=""+s,a["c3.ad.univAdIdReg"]=void 0===e.getUniversalAdIds()||0===e.getUniversalAdIds().length||0<e.getUniversalAdIds().length&&void 0===e.getUniversalAdIds()[0].getAdIdRegistry()||0<e.getUniversalAdIds().length&&"unknown")?"NA":""+e.getUniversalAdIds()[0].getAdIdRegistry(),a["c3.ad.univAdIdVal"]=void 0===e.getUniversalAdIds()||0===e.getUniversalAdIds().length||0<e.getUniversalAdIds().length&&void 0===e.getUniversalAdIds()[0].getAdIdValue()||0<e.getUniversalAdIds().length&&"unknown"===e.getUniversalAdIds()[0].getAdIdValue()?"NA":""+e.getUniversalAdIds()[0].getAdIdValue(),a},this.handleAdError=function(e){if(e)switch(e.getType()){case google.ima.AdError.Type.AD_PLAY:r.handleAdPlayError(e);bre:r.handleAdLoadError(e)}},this.handleAdPlayError=function(e){r.reportAdFailed(e,"Ad Play Error")},this.handleAdLoadError=function(e){r.reportAdFailed(e,"Ad Load Error")},this.reportAdFailed=function(e,t){var n={};n.VOD,n["c3.ad.technology"]="Client Side",n["c3.ad.adManagerName"]="Google IMA SDK","undefined"!=typeof google&&google&&(n["c3.ad.adManagerVersion"]=""+google.ima.VERSION),r.convivaAdAnalytics.reportAdFailed(function(e){var t;return e.getType&&"function"==typeof e.getType&&e.getType()&&(t="Type: "+e.getType()),e.getErrorCode&&"function"==typeof e.getErrorCode&&e.getErrorCode()&&(t?t+=", Code: "+e.getErrorCode():t="Code: "+e.getErrorCode()),e.getMessage&&"function"==typeof e.getMessage&&e.getMessage()&&(t?t+=", Message: "+e.getMessage():t="Message: "+e.getMessage()),t=t||e.toString()||"Ad Request Failed"}(e),n)},r.adsLoader=e,r.adManagerInfo=t,r.adisterAdsLoaderListeners(),r.currentPodIndex=0,this.cleanup=function(){if(r.adsLoader&&(r.adsLoader.removeEventListener(google.ima.AdsManagerLoadedener(google.ima.AdErrorEvent.Type.AD_ERROR,r.onAdsLoaderErrorBind,!1,r)),r.adsManager)for(var e in r.adsManager.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r.onAdsManagerErrorBind,!1,r),r.events)r.adsManager.removeEventListener(r.events[e],r.onAdEventBind,!1,r);r.adsLoader=null,r.adManagerInfo=null,r.adsManager=null}}),e},e.exports=i(),void 0!==n&&n&&(void 0!==n.Conviva&&n.Conviva?n.Conviva.AdProxyMonitor||n.ConvivaModuleLoading||(i=i(),n.ConvivaModuleLoading=!0,n.Conviva.AdProxyMonitor=i.AdProxyMonitor,n.Conviva.Impl.GoogleImaProxy=i.Impl.GoogleImaProxy,delete n(e){this.prefix_=e,this.str_="",this.styles_=[],this.datas_=["\n"]}var t=e.prototype;return t.prefix=function(){return this.str_+=this.prefix_+": ",this},t.text=function(e){return this.str_+=e,this},t.type=function(e){return this.str_+="\n type: %c"+e+"%c",this.styles_.push("color: #f00",""),this},t.side=function(e){return e?(this.str_+="\n ad_side: %c"+e+"%c",this.styles_.push("background-color: #f00",""),this):this},t.keyValue=function(e,t){return this.str_+="\n key: %c"+e+"%c, value: %c"+t+"%c",this.styles_.push("color: #0f0","","color: #006600",""),this},t.data=function(e){return this.datas_.push(e),this},t.log=function(){for(var e,t=[this.str_].concat(this.styles_,this.datas_),n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=console).log.apply(e,t.concat(i)),this},e}(),ty="DmedQoePlugin",ny=function(){function e(e){this.debug_=e,this.coordinatedEvents_=[],this.onCoordinatedEvent_=this.onCoordinatedEvent_.bind(this)}var t=e.prototype;return t.setModuleName=function(e){this.moduleName_=e},t.log_=function(){var e;this.debug_&&(e=new ey(ty).prefix().text("module: "+this.moduleName_)).log.apply(e,arguments)},t.listenToEventsCoordinated=function(e,t){this.debug_&&e&&(this.coordinatedEvents_.push(t),e.addEventListener(t,this.onCoordinatedEvent_))},t.unlistenToEventsCoordinated=function(e){if(e){for(var t=0;t<this.coordinatedEvents_.length;t+=1){var n=this.coordinatedEvents_[t];e.removeEventListener(n,this.onCoordinatedEvent_)}this.coordinatedEvents_=[]}},t.consoleLog=function(){this.log_.apply(this,arguments)},t.log=function(){this.log_.apply(this,arguments)},t.onCoordinatedEvent_=function(e){var t=e.type+" coordinated";if("playback_metric"===e.type||"ad_metric"===e.type){var n=new ey(ty).prefix().text(t).type(e.type).side(e.adSide);Object.keys(e.data).forEach((function(t){n.keyValue(t,e.data[t])})),n.log()}else e.adSide,new ey(ty).prefix().text(t).side(e.adSide).type(e.type).data(e.data).log()},Xg(e,[{key:"debug",get:function(){return this.debug_}}]),e}(),iy=funcurn e.prototype.buildLogger=function(){return new ny(this.debug_)},Xg(e,[{key:"debug",get:function(){return this.debug_}}]),e}(),ry=function(){function e(){}return e.prototype.createTimer=function(e,t){var n=setInterval(e,t);return function(){clearInterval(n)}},e}(),ay=function(){function e(e,t){this.emitter_=e,this.adEmitter_=t,this.isErrorSent_=!1}var t=e.prototype;return t.setErrorSent=function(e){this.isErrorSent_=e},t.valuesToEmitParams_=function(e){var t=e;("CONVIVA"===t[t.length-1]&&t.splice(e.length-1,1),1===t.length)&&(t=t[0]);return Array.isArray(t)&&0===t.length&&(t=!0),t},t.setPlayerInfo=function(e){return this.emitter_.playerInfo(e)},t.setContentInfoe={})[uv.MODULE_NAME]="QOE",e[uv.MODULE_VERSION]="0.0.1",e))},t.reportPlaybackMetric=function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return this.emitter_.playbackMetric(((t={})[e]=this.valuesToEmitParams_(i),t))},t.reportPlaybackError=function(e){return this.isErrorSent_?this.emitter_.playbackError(e):null},t.getAdType=function(){return uv.AdType.SERVER_SIDE},t.setAdPlayerInfo=function(e){return this.adEmitter_.adPlayerInfo(e)},t.reportAdBreakStarted=function(e,t,n){return this.adEmitter_.adBreakStarted({side:e,content:t,metadata:n})},t.reportAdMetric=function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return this.adEmitter_.adMetric(((t={})[e]=this.valuesToEmitParams_(i),t))},t.reportAdBreakEnded=function(){return this.adEmitter_.adBreakEnded()},t.reportAdEnded=function(){return this.adEmitter_.adEnded()},t.reportAdSkipped=function(){return this.adEmitter_.adSkipped()},t.reportAdStarted=function(e){void 0===e&&(e={}),e[uv.RESOURCE]=e.streamUrl;return e["c3.ad.isSlate"]=!1,e["c3.ad.type"]=!1,this.adEmitter_.adStarted(this.valuesToEmitPae,info:t})},e}();var sy=yu.getPlugin("plugin"),oy={QoeEmitter:$v,MetadataCollector:Pv,ConvivaVideoJsModule:Jv,ConvivaGoogleIMAJsModule:Zv},ly=function(e){function t(t,n,i){var r;void 0===i&&(i=oy),(r=e.call(this,t)||this).dependencies=i;var a=r.dependencies,s=a.QoeEmitter,o=a.MetadataCollector;r.debug=n.DEBUG,r.options_=n,r.player=t,r.bitrate=0;var l=r.player.autoplay();return r.emitter_=new s(n.coordinator,l),r.clientSideAdEmitter_=r.emitter_.buildAdEmitter(uv.AdType.CLIENT_SIDE,l),r.serverSideAdEmitter_=r.emitter_.buildAdEmitter(uv.AdType.SERVER_SIDE,l),r.logFactory=new iy(r.debug),r.logger=r.logFactory.buildLogger(),r.proxyMonitorAdapter=new ay(r.emitter_,r.clientSideAdEmitter_),r.metadataProvider=new o(t,Qg({},n,{frameworkVersion:yu.VERSION})),r.videoJsMonitor=null,r.clientAdMonitor=null,r.streamUrl=r.metadataProvider.streamSrc,""===r.streamUrl&&r.metadataProvider.options&&r.metadataProvider.options.playbackMediaItem&&r.metadataProvider.options.playbackMediaItem.source&&""!==r.metadataProvider.options.playbackMediaItem.source.url&&(r.streamUrl=r.metadataProvider.options.playbackMediaItem.source.url),r.logger.listenToEventsCoordinated(n.coordinator,"dtci.qoe"),r.bindPlayerEvents_(),r}$g(t,e);var n=t.prototype;return n.bindPlayerEvents_=function(){this.onLoad_=this.onLoad_.bind(this),this.onAdsLoader_=this.onAdsLoader_.bind(this),this.onError_=this.onError_.bind(this),this.onAdLoad_=this.onAdLoad_.bind(this),this.onDispose_=this.onDispose_.bind(this),this.onEnded_=this.onEnded_.bind(this),this.onPlayBlocked_=this.onPlayBlocked_.bind(this),this.onPlay_=this.onPlay_.bind(this),this.onTimeupdate_=this.onTimeupdate_.bind(this),this.onAdEnded_=this.onAdEnded_.bind(this),this.onAdsRequest_=this.onAdsRequest_.bind(this),this.onBeforeUnload_=this.onBeforeUnload_.bind(this),window.addEventListener("beforeunload",this.onBeforeUnload_),this.throttleOnTimeupdate_=function(e,t){var n,i=this,r=0;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var l=i,u=Date.now()-r,d=function(){e.apply(l,s),r=Date.now()};u>=t?d():(clearTimeout(n),n=setTimeout(d,t-u))}}(this.handleBitratePlaybackMetric_.bind(this),3e3),this.on(this.player,"play",this.onPlay_)s.on(this.player,"ads-loader",this.onAdsLoader_),this.on(this.player,"ima3-loaded",this.onAdLoad_),this.on(this.player,"error",this.onError_),this.on(this.player,"ended",this.onEnded_),this.on(this.player,"dtci.play.blocked",this.onPlayBlocked_),this.nDispose_),this.on(this.player,"ads-ad-ended",this.onAdEnded_),this.on(this.player,"ads-request",this.onAdsRequest_)},n.onAdEnded_=function(){this.emitter_.adEnded(this.getAdInfo_())},n.onBeforeUnload_=function(){this.player&&this.player.ads&&"function"==typeof this.player.ads.isAdPlaying&&this.player.ads.isAdPlaying()&&this.onAdEnded_(),this.player&&this.player.isPlaying&&this.onEnded_()},n.onDispose_=function(){this.releaseSessions_(),this.logger&&this.logger.unlistenToEventsCoordinated(this.options_.coordinator,"dtci.qoe"),this.player&&this.unbindPlayerEvents_(),this.emitter_&&this.emitter_.setPlayStart(!1),this.adsLoader_=null},n.unbindPlayerEvents_=function(){this.off(this.player,"play",this.onPlay_),this.off(this.player,["loadstart","dtci.replay"],this.onLoad_),this.off(this.player,"ads-loader",this.onAdsLoader_),this.off(this.player,"ima3-loaded",this.onAdLoad_),this.off(this.player,"error",this.onError_),this.off(this.player,"ended",this.onEnded_),this.off(this.player,"dtci.play.blocked",this.onPlayBlocked_),this.off(this.player,"timeupdate",this.onTimeupdate_),this.off(this.player,"ads-ad-ended",this.onAdEnded_),this.off(this.player,"ads-request",this.onAdsRequest_),window.removeEventListener("beforeunload",this.onBeforeUnload_)},n.retryRequested=function(){this.sessionsInited_=!1},n.updateOptions=function(e){this.options_=e,this.metadataProvider.updateOptions(e),this.onLoad_()},n.onTimeupdate_=function(){this.throttleOnTimeupdate_()},n.handleBitratePlaybackMetric_=function(){var e,t=this.metadataProvider.bitrate;t&&this.bitrate!==t&&(this.bitrate=t),this.emitter_.playbackMetric(((e={})[uv.Playback.BITRATE]=this.bitrate,e))},n.onPlay_=function(){this.proxyMonitorAdapter&&this.proxyMonitorAdapter.setErrorSent(!1),this.emitter_&&this.emitter_.setPlayStart(!0),this.emitter_.play(this.metadataProvider.aggregateContentInfo())},n.onLoad_=function(){var e;this.emitter_.contentInfo(this.metadataProvider.aggregateContentInfo()),this.emitter_.playbackMetric(((e={})[uv.Playback.RENDERED_FRAMERATE]=this.metadataProvider.frameRate,e)),this.sessionsInited_||(this.adsLoader_=null,this.init_())},n.onAdLoad_=function(e){var t=e.originalEvent;this.clientSideAdEmitter_&&this.clientSideAdEmitter_.adLoad(t&&t.getAdData&&t.getAdData())},n.init_=function(){var e;this.initSessions_(),this.emitter_.playbackRequested(((e={})[uv.START_TYPE]=this.metadataProvider.startType,e[uv.APP_BRAND]=this.metadataProvider.appBrand,e[uv.MEDIA_TYPE]=this.metadataProvider.mediaType,e[uv.APPLICATION_VERSION]=this.metadataProvider.applicationVersion,e[uv.VIEWER_ID]=this.metadataProvider.viewerId,e[uv.SITE]=this.metadataProvider.site,e[uv.PAGE]=this.metadataProvider.page,e[uv.STREAM_URL]=this.streamUrl,e[uv.ASSET_NAME]=this.metadataProvider.assetName,e[uv.VIDEO_RESOLUTION]=this.metadataProvider.videoResolution,e[uv.PLAYER_NAME]=this.metadataProvider.playerName,e[uv.IS_LIVE]=this.metadataProvider.isLive,e[uv.FRAMEWORK_NAME]=this.metadataProvider.frameworkName,e[uv.FRAMEWORK_VERSION]=this.metadataProvider.frameworkVersion,e[uv.MODULE_NAME]=this.metadataProvider.moduleName,e[uv.CONNECTION_TYPE]=this.metadataProvider.connectionType,e))},n.getAdInfo_=function(){var e;return(e={})[uv.FRAMEWORK_NAME]=this.metadataProvider.frameworkName,e[uv.FRAMEWORK_VERSION]=this.metadataProvider.frameworkVersion,e[uv.PLAYER_NAME]=this.metadataProvider.playerName,e[uv.APPLICATION_VERSION]=this.metadataProvider.applicationVersion,e[uv.VIEWER_ID]=this.metadataProvider.viewerId,e[uv.IS_LIVE]=this.metadataProvider.isLive,e[uv.STREAM_URL]=this.streamUrl,e.contentAssetName=this.metadataProvider.assetName,e},n.onEnded_=function(){this.emitter_.playbackEnded(),this.releaseSessions_()},n.onError_=function(){this.reportError_(this.metadataProvider.errorMessage)},n.onPlayBlocked_=function(e,t){var n="dtci.play.blocked";if(t){var i=t.error;n="dtci.play.blocked on "+t.playerType+". "+(i&&i.message)}this.reportError_(n)},n.initSessions_=function(){this.videoJsMonitor||this.initVideoJsMonitor_(),this.sessionsInited_=!0},n.releaseSessions_=function(){var e=this.dependencies,t=e.ConvivaVideoJsModule,n=e.ConvivaGoogleIMAJsModule;this.videoJsMonitor&&(this.emitter_.release(),t.ProxyMonitor.release(),this.videoJsMonitor=null),this.clientAdMonitor&&(this.clientSideAdEmitter_.release(),n.AdProxyMonitor.release(),this.clientAdMonitor=null),this.sessionsInited_=!1},n.reportError_=function(e){var t,n,i=(this.player.error()||{}).recoverable;if(this.clientSideAdEmitter_){this.debug&&(console.debug("QOE: clientSideAdAnalytics ended onError, ",e),this.logger&&this.logger.unlistenToEventsCoordinated(this.options_.coordinator,"dtci.qoe"));var r,a=this.getCurrentClientAd_();if(a)this.clientSideAdEmitter_.adFailed(((r={message:e})[uv.AD_ID]=a.getAdId&&a.getAdId(),r.info=this.getAdInfo_(),r))}this.emitter_&&(this.proxyMonitorAdapter&&this.proxyMonitorAdapter.setErrorSent(!0),this.emitter_.playbackError(e,((t={isRecoverable:i})[uv.STREAM_URL]=this.metadataProvider.streamSrc,t)),this.emitter_.playbackEnded(((n={})[uv.STREAM_URL]=this.metadataProvider.streamSrc,n)))},n.getCurrentClientAd_=function(){var e,t=this.player.ima;if(t&&"function"==typeof t.getAdsManager){var n=t.getAdsManager();n&&"function"==typeof n.getCurrentAd&&(e=n.getCurrentAd())}return e},n.initVideoJsMonitor_=function(){var e=this.dependencies.ConvivaVideoJsModule;this.videoJsMonitor=e.ProxyMonitor.initConvivaDropIn(this.player,this.logFactory,this.proxyMonitorAdapter,{Constants:uv,SystemSettings:kv,Impl:{Html5Timer:ry,Html5Logging:this.logger}})},n.initClientSideAdListener_=function(e){var t,n=this.dependencies.ConvivaGoogleIMAJsModule;this.clientAdMonitor||this.clientSideAdEmitter_.init();var i=((t={})[uv.AD_PRELOAD_FEATURE]=!0,t[uv.IMASDK_CONTENT_PLAYER]=this.player.el_,t.convivaModule=n,t);this.videoJsMonitor||this.initVideoJsMonitor_(),this.clientAdMonitor||(this.clientAdMonitor=n.AdProxyMonitor.initConvivaDropIn(e,i,this.proxyMonitorAdapter,{Constants:uv}))},n.onAdsLoader_=function(e){var t=e.adsLoader;this.adsLoader_=t,this.initClientSideAdListener_(this.adsLoader_),this.clientSideAdEmitter_.adInfo(this.getAdInfo_())},n.onAdsRequest_=function(){if(!this.adsLoader_){var e=(this.player||{}).ima3,t=(void 0===e?{}:e).adsLoader;t&&(this.adsLoader_=t)}this.adsLoader_||(this.player&&this.player.ima&&this.player.ima.controller&&this.player.ima.controller.sdkImpl&&this.player.ima.controller.sdkImpl.adsLoader&&(this.adsLoader_=this.player.ima.controller.sdkImpl.adsLoader),this.initClientSideAdListener_(this.adsLoader_),this.clientSideAdEmitter_.adInfo(this.getAdInfo_()))},Xg(t,[{key:"options",get:function(){return this.options_}}]),t}(sy);ly.defaultState={},ly.VERSION="0.0.1",yu.registerPlugin("qoe",ly),yu.DTCI={playerName:"DTCI bundle 5.3.16, VideoJS "+yu.VERSION},window.videojs=yu}));
