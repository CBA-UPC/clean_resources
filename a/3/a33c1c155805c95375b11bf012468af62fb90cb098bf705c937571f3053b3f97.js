import{l as H,as as N}from"./itinerary-entities.5f897bcd.js";import{l as V,r as o,c as _,q as $,y as q,G as f,P as p,F as A,$ as E,N as G,O as J,R as w,z as b,Y as i,a6 as k,Q as L,S as O}from"./graphql.5cf3693b.js";const P={class:"flip-card"},Q=["data-value"],R=["data-value"],U=["data-value"],Y={key:0,class:"flip-clock__slot"},j=V({__name:"CountDownTimer",props:{deadline:{},showDays:{type:Boolean},showHours:{type:Boolean,default:!0},showMinutes:{type:Boolean,default:!0},showSeconds:{type:Boolean,default:!0},size:{default:"big"},color:{default:"blue"},loading:{type:Boolean}},emits:["timeout"],setup(n,{emit:S}){function c(e){return e.toString().length<=1?`0${e.toString()}`:e.toString()}const{day:d}=H(),s=o({current:0,previous:0,show:n.showDays}),l=o({current:0,previous:0,show:n.showHours}),u=o({current:0,previous:0,show:n.showMinutes}),r=o({current:0,previous:0,show:n.showSeconds}),v=o(0),m=o(!1),h=o(!1),y=o(!1),g=o(!1),B=_(()=>[{...r.value,label:"ثانیه"},{...u.value,label:"دقیقه"},{...l.value,label:"ساعت"},{...s.value,labelh.vT(),F(),z(),I()},T=()=>{const e=new Date,t=Math.trunc(d.gregory(n.deadline).diff(e,"day"));s.value.current!==t&&(s.value.previous=s.value.current,s.value.current=t,m.value=!0,setTimeout(()=>{m.value=!1},500))},F=()=>{const e=new Date,t=Math.trunc(d.gregory(n.deadline).diff(e,"hour")%24);l.value.current!==t&&(l.value.previous=l.value.current,l.value.current=t,h.value=!0,setTimeout(()=>{h.value=!1},500))},z=()=>{const e=new Date,t=Math.trunc(d.gregory(n.deadline).diff(e,"minute")%60);u.value.current!==t&&(u.value.previous=u.value.current,u.value.current=t,y.value=!0,setTimeout(()=>{y.value=!1},500))},I=()=>{const e=new Date,t=d.gregory(n.deadline).diff(e,"second"),a=Math.trunc(t%60);t<=0&&(S("timeout"),window.clearInterval(v.value)),r.value.current!==a&&(r.value.previous=r.value.current,r.value.current=a,g.val()=>{g.value=!1},500))};return $(()=>{v.value=window.setIntterval(v.value)}),(e,t)=>(f(),p("div",{class:w(["count-down-timer-container",[e.size,e.color]]),style:O({"--text":e.color==="yellow"?"white":"unset"})},[(f(!0),p(A,null,E(b(B),(a,D)=>G((f(),p("span",{key:D,class:w(["flip-clock__piece",{flip:b(M)[D]}])},[i("span",P,[i("b",{class:w(["flip-card__top",{"loading-skeleton":e.loading}])},k(c(a.current)),3),i("b",{class:w(["flip-card__bottom",{"loading-skeleton":e.loading}]),"data-value":c(a.current)},null,10,Q),i("b",{class:"flip-card__back","data-value":c(a.previous)},null,8,R),i("b",{class:"flip-card__back-bottom","data-value":c(a.previous)},null,8,U)]),!e.loading&&a.label?(f(),p("span",Y,k(a.label),1)):L("",!0)],2)),[[J,a.show]])),128))],6))}});const X=N(j,[["__scopeId","data-v-48232aee"]]);export{X as C};
