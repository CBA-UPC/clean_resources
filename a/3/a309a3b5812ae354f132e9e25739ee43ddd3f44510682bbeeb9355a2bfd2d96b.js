!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():t()}(this,function(){ c(e){var t=e;try{t=decodeURIComponent(e)}catch(r){t=e}return t}function u(e){e=e||"";for(var t={},r=e.substring(1),i=r.split("&"),n=0;n<i.length;n++){var a=i[n].indexOf("=");if(a!==-1){var s=i[n].substring(0,a),o=i[n].substring(a+1);s=c(s),o=c(o),t[s]=o}}return t}function d(e){return"[object String]"==Object.prototype.toString.call(e)}unction f(e){var t=return t.prototype.setUrl=function(e){this._parse(e)},t.prototype._initValues=t.prototype.addQueryString=t.prototype.getUrl=t.prototype._parse=function(e){this._initValues();var t=this._regex.exec(e);t||br.log("URLParser::_parse -> Invalid URL");var r=e.split("#"),i=r[0],n=r.slice(1).join("#");t=this._regex.exec(i);for(var a in this._fields)"undefined"!=typeof t[this._fields[a]]&&(this._values[a]=t[this._fields[a]]);this._values.Hostname=this._values.Host.replace(/:\d+$/,""),this._values.Origin=this._values.Protocol+"://"+this._values.Hostname,this._values.Fragment=n},new t(e)}function _(e){var t={},r=if("function"==typeof window.URL&&r())t=new URL(e),t.searchParams||(t.searchParams=));else{d(e)||(e=String(e)),e=p(e);var i=/^https?:\/\/.+/;if(i.test(e)===!1)return void br.log("Invalid URL");var n=f(e);t.hash=n._values.Fragment,t.host=n._values.Host?n._values.Host+(n._values.Port?":"+n._values.Port:""):"",t.href=n._values.URL,t.password=n._values.Password,t.pathname=n._values.Path,t.port=n._values.Port,t.search=n._values.QueryString?"?"+n._values.QueryString:"",t.username=n._values.Username,t.hostname=n._values.Hostname,t.protocol=n._values.Protocol?n._values.Protocol+":":"",t.origin=n._values.Origin?n._values.Origin+(n._values.Port?":"+n._values.Port:""):"",t.searchParams=)}return t}urn"[object Date]"==Object.prototype.toString.call(e)}ion K(e,t){function r(e){return!!e&&e}e=e||location.hostname,t=t||"domain_test";var i=r(e);if(!i)return"";var n=i.split(".");if(v(n)&&n.length>=2&&!/^(\d+\.)+\d+$/.test(i))for(var a="."+n.splice(n.length-1,1);n.length>0;)if(a="."+n.splice(n.length-1,1)+a,document.cookie=t+"=true; path=/; domain="+a,document.cookie.indexOf(t+"=true")!==-1){var s=new Date;return s.setTime(s.getTime()-1e3),document.cookie=t+"=true; expires="+s.toGMTString()+"; path=/; SameSite=Lax; domain="+a,a}return""}function R(e){function t(e,t){e=p(e);var r;if("body"===e)return document.getElementsByTagName("body")[0];if(0===e.indexOf("#"))e=e.slice(1),r=document.getElementById(e);else if(e.indexOf(":nth-of-type")>-1){var i=e.split(":nth-of-type");if(!i[0]||!i[1])return null;var n=i[0],a=i[1].match(/\(([0-9]+)\)/);if(!a||!a[1])return null;var s=Number(a[1]);if(!(g(t)&&t.children&&t.children.length>0))return null;for(var o=t.children,l=0;l<o.length;l++)if(g(o[l])){var c=o[l].tagName.toLowerCase();if(c===n&&(s--,0===s)){r=o[l];break}}if(s>0)return null}return r?r:null}f(!d(e))return null;var i=e.split(">"),n=null;return n=r(),n&&g(n)?n:null} X(e){return d(e)?(e=p(e),N(e)):N(location.href)}e(e){if("string"!=typeof e)return!1;var t=/^https?:\/\/.+/;return t.test(e)!==!1||(br.log("Invalid URL"),!1)}ction ue(){var e=!1;if("object"!=typeof navigator||"function"!=typeof navigator.sendBeacon)return e;var t=z(),r=navigator.userAgent.toLowerCase();if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){var i=/os [\d._]*/gi,n=r.match(i),a=(n+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,"."),s=a.split(".");"undefined"==typeof t.safari&&(t.safari=s[0]),s[0]&&s[0]<13?(t.chrome>41||t.firefox>30||t.opera>25||t.safari>12)&&(e=!0):(t.chrome>41||t.firefox>30||t.opera>25||t.safari>11.3)&&(e=!0)}else(t.chrome>38||t.edge>13||t.firefox>30||t.opera>25||t.safari>11)&&(e=!0);return e}if((Nr.isSupport()&&"true"===sessionStorage.getItem("sensorsdata_jssdk_debug")||Er.show_log)&&(!r(arguments[0])||Er.show_log!==!0&&"string"!==Er.show_log&&Er.show_log!==!1||(arguments[0]=U(arguments[0])),"object"==typeof console&&console.log))try{return console.log.apply(console,arguments)}catch(e){console.log(arguments[0])}}on Ie(e){var t=Er.current_domain;switch(typeof t){case"function":var r=t();return""===r||""===p(r)?"url\u89e3\u6790\u5931\u8d25":r.indexOf(".")!==-1?r:"url\u89e3\u6790\u5931\u8d25";case"string":return""===t||""===p(t)?"url\u89e3\u6790\u5931\u8d25":t.indexOf(".")!==-1?t:"url\u89e3\u6790\u5931\u8d25";default:var i=K(null,Wr);return""===e?"url\u89e3\u6790\u5931\u8d25":""===i?"url\u89e3\u6790\u5931\u8d25":i}}function Ae(e){if(!e.target)return!1;var t=e.target,r=t.tagName.toLowerCase(),i={};return i.$element_type=r,i.$element_name=t.getAttribute("name"),i.$element_id=t.getAttribute("id"),i.$element_class_name="string"==typeof t.className?t.className:null,i.$element_target_url=t.getAttribute("href"),i.$element_content=Me(t,r),i=Ne(i),i.$url=X(),i.$url_path=Z(),i.$title=document.title,i}tion Ue(e,t){return e=e||document.referrer,"string"!=typeof e?"\u53d6\u503c\u5f02\u5e38_referrer\u5f02\u5e38_"+String(e):(e=p(e),e=N(e),0!==e.indexOf("https://www.baidu.com/")||t||(e=e.split("?")[0]),e=e.slice(0,Er.max_referrer_string_length),"string"==typeof e?e:"")}ction Be(){ar t="("+Er.source_type.utm.join("|")+")\\=[^&]+",r=Er.source_type.search,i=Er.source_type.social,n=document.referrer||"",a=Fr.pageProp.url;if(a){var s=a.match(new RegExp(t));return s&&s[0]?"\u4ed8\u8d39\u5e7f\u544a\u6d41\u91cf":e(r,n)?"\u81ea\u7136\u641c\u7d22\u6d41\u91cf":e(i,n)?"\u793e\u4ea4\u7f51\u7ad9\u6d41\u91cf":""===n?"\u76f4\u63a5\u6d41\u91cf":"\u5f15\u8350\u6d41\u91cf"}return"\u83b7\u53d6url\u5f02\u5e38"}function We(e){var t=Er.heatmap&&"function"==typeof Er.heatmap.collect_input&&Er.heatmap.collect_input(e);return"button"===e.type||"submit"===e.type||t?e.value||"":""}ction qe(e,t){var r="";if(t=t||location.href,Er.cross_subdomain===!1){try{r=_(t).hostname}catch(i){De(i)}r="string"==typeof r&&""!==r?"sajssdk_2015_"+Er.sdk_id+e+"_"+r.replace(/\./g,"_"):"sajssdk_2015_root_"+Er.sdk_id+e}else r="sajssdk_2015_cross_"+Er.sdk_id+e;return r}nction Ze(e){return ei.stage.process("addCustomProps",e)}unction Ge(t){var r=location.href,i=window.history.pushState,n=window.history.replaceState;e(window.history.pushState)&&(window.history.pushState=function(){i.apply(window.history,arguments),t(r),r=location.href}),e(window.history.replaceState)&&(window.history.replaceState=;var a;a=window.document.documentMode?"hashchange":i?"popstate":"hashchange",b(window,a,}ction rt(e){P(Er,e||vr.para||{}),vr.para=Er;var t={};if(r(vr.para.is_track_latest))for(var i in vr.para.is_track_latest)t["latest_"+i]=vr.para.is_track_latest[i];vr.para.preset_properties=P({},vr.para_default.preset_properties,t,vr.para.preset_properties||{});var n;for(n in vr.para_default)void 0===vr.para[n]&&(vr.para[n]=vr.para_default[n]);"string"==typeof vr.para.server_url&&(vr.para.server_url=p(vr.para.server_url),vr.para.server_url&&("://"===vr.para.server_url.slice(0,3)?vr.para.server_url=location.protocol.slice(0,-1)+vr.para.server_url:"//"===vr.para.server_url.slice(0,2)?vr.para.server_url=location.protocol+vr.para.server_url:"http"!==vr.para.server_url.slice(0,4)&&(vr.para.server_url=""))),"string"!=typeof vr.para.web_url||"://"!==vr.para.web_url.slice(0,3)&&"//"!==vr.para.web_url.slice(0,2)||("://"===vr.para.web_url.slice(0,3)?vr.para.web_url=location.protocol.slice(0,-1)+vr.para.web_url:vr.para.web_url=location.protocol+vr.para.web_url),"image"!==vr.para.send_type&&"ajax"!==vr.para.send_type&&"beacon"!==vr.para.send_type&&(vr.para.send_type="image"),vr.debug.protocol.serverUrl(),vr.bridge.initPara();var a={datasend_timeout:6e3,send_interval:6e3};Sr.isSupport()&&de()&&"object"==typeof localStorage?vr.para.batch_send===!0?vr.para.batch_send=P({},a):"object"==typeof vr.para.batch_send&&(vr.para.batch_send=P({},a,vr.para.batch_send)):vr.para.batch_send=!1;var s=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],o=["www.baidu.","m.baidu.","m.sm.cn","so.com","sogou.com","youdao.com","google.","yahoo.com/","bing.com/","ask.com/"],l=["weibo.com","renren.com","kaixin001.com","douban.com","qzone.qq.com","zhihu.com","tieba.baidu.com","weixin.qq.com"],c={baidu:["wd","word","kw","keyword"],google:"q",bing:"q",yahoo:"p",sogou:["query","keyword"],so:"q",sm:"q"};"object"==typeof vr.para.source_type&&(vr.para.source_type.utm=v(vr.para.source_type.utm)?vr.para.source_type.utm.concat(s):s,vr.para.source_type.search=v(vr.para.source_type.search)?vr.para.source_type.search.concat(o):o,vr.para.source_type.social=v(vr.para.source_type.social)?vr.para.source_type.social.concat(l):l,vr.para.source_type.keyword=r(vr.para.source_type.keyword)?P(c,vr.para.source_type.keyword):c);var u={div:!1},d=["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"];if(vr.para.heatmap&&!r(vr.para.heatmap)&&(vr.para.heatmap={}),r(vr.para.heatmap)){vr.para.heatmap.clickmap=vr.para.heatmap.clickmap||"default",vr.para.heatmap.scroll_notice_map=vr.para.heatmap.scroll_notice_map||"default",vr.para.heatmap.scroll_delay_time=vr.para.heatmap.scroll_delay_time||4e3,vr.para.heatmap.scroll_event_duration=vr.para.heatmap.scroll_event_duration||18e3,vr.para.heatmap.renderRefreshTime=vr.para.heatmap.renderRefreshTime||1e3,vr.para.heatmap.loadTimeout=vr.para.heatmap.loadTimeout||1e3,vr.para.heatmap.get_vtrack_config!==!0&&(vr.para.heatmap.get_vtrack_config=!1);var f=v(vr.para.heatmap.track_attr)?J(vr.para.heatmap.track_attr,:[];if(f.push("data-sensors-click"),vr.para.heatmap.track_attr=f,r(vr.para.heatmap.collect_tags))if(vr.para.heatmap.collect_tags.div===!0)vr.para.heatmap.collect_tags.div={ignore_tags:d,max_level:1};else if(r(vr.para.heatmap.collect_tags.div)){if(vr.para.heatmap.collect_tags.div.ignore_tags?v(vr.para.heatmap.collect_tags.div.ignore_tags)||(vr.log("ignore_tags \u53c2\u6570\u5fc5\u987b\u662f\u6570\u7ec4\u683c\u5f0f"),vr.para.heatmap.collect_tags.div.ignore_tags=d):vr.para.heatmap.collect_tags.div.ignore_tags=d,vr.para.heatmap.collect_tags.div.max_level){var _=[1,2,3];te(_,vr.para.heatmap.collect_tags.div.max_level)===-1&&(vr.para.heatmap.collect_tags.div.max_level=1)}}else vr.para.heatmap.collect_tags.div=!1;else vr.para.heatmap.collect_tags=u}if(v(vr.para.server_url)&&vr.para.server_url.length)for(n=0;n<vr.para.server_url.length;n++)/sa\.gif[^\/]*$/.test(vr.para.server_url[n])||(vr.para.server_url[n]=vr.para.server_url[n].replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));else/sa\.gif[^\/]*$/.test(vr.para.server_url)||"string"!=typeof vr.para.server_url||(vr.para.server_url=vr.para.server_url.replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));"string"==typeof vr.para.server_url&&(vr.para.debug_mode_url=vr.para.debug_mode_url||vr.para.server_url.replace("sa.gif","debug")),vr.para.noCache===!0?vr.para.noCache="?"+(new Date).getTime():vr.para.noCache="",vr.para.callback_timeout>vr.para.datasend_timeout&&(vr.para.datasend_timeout=vr.para.callback_timeout),vr.para.heatmap&&vr.para.heatmap.collect_tags&&r(vr.para.heatmap.collect_tags)&&k(vr.para.heatmap.collect_tags,,vr.para.heatmap&&"default"===vr.para.heatmap.clickmap&&vr.heatmap.initUnlimitedTags()}pt(e,t,r){object"==typeof e&&e.tagName?i({ele:e},t,r):"object"==typeof e&&e.target&&e.event&&i(e,t,r)}function ft(e,t,r){return r=r||{},!(!e||"object"!=typeof e)&&(!(!e.href||/^javascript/.test(e.href)||e.target)&&void Fe(e,"click",)}nction ht(e,t){ti.check({propertiesMust:e})&&ti.send({type:"profile_set",properties:e},t)}nction yt(e,t){ar i=e;d(e)&&(e={},e[i]=1),ti.check({propertiesMust:e})&&(r(e)?ti.send({type:"profile_increment",properties:e},t):vr.log("profile_increment\u7684\u503c\u53ea\u80fd\u662f\u6570\u5b57"))}nction wt(e,t){number"==typeof e&&(e=String(e));var i=Zr.getFirstId();if("undefined"==typeof e){var n=kr();i?Zr.set("first_id",n):Zr.set("distinct_id",n),r(n)}else ti.check({distinct_id:e})&&(t===!0?i?Zr.set("first_id",e):Zr.set("distinct_id",e):i?Zr.change("first_id",e):Zr.change("distinct_id",e),r(e))}ion jt(e){ti.check({properties:e})?Zr.setProps(e):vr.log("register\u8f93\u5165\u7684\u53c2\u6570\u6709\u8bef")}function $t(e){ti.check({properties:e})?Zr.setPropsOnce(e):vr.log("registerOnce\u8f93\u5165\u7684\u53c2\u6570\u6709\u8bef")}function Tt(e){ti.check({properties:e})?Zr.setSessionProps(e):vr.log("registerSession\u8f93\u5165\u7684\u53c2\u6570\u6709\u8bef")}unction It(e){var t=e.id,i=e.callback,n=e.name,a=Zr.getFirstId(),s=Zr.getOriginDistinctId();if(!ti.check({distinct_id:t}))return vr.log("login id is invalid"),!1;if(t===vr.store.getOriginDistinctId()&&!a)return vr.log("login id is equal to distinct_id"),!1;if(r(vr.store._state.identities)&&vr.store._state.identities.hasOwnProperty(n)&&t===vr.store._state.first_id)return!1;var o=vr.store._state.history_login_id.name!==n||t!==vr.store._state.history_login_id.value;if(o){vr.store._state.identities[n]=t,vr.store.set("history_login_id",{name:n,value:t}),a||Zr.set("first_id",s),kt(t,"$SignUp",{},i);var l={$identity_cookie_id:vr.store._state.identities.$identity_cookie_id};return l[n]=t,it(l),!0}return!1}function At(t,r){"number"==typeof t&&(t=String(t));var i=It({id:t,callback:r,name:Mr.LOGIN});!i&&e(r)&&r()}unction Lt(e){var t=Zr.getFirstId();if(t)if(Zr.set("first_id",""),e===!0){var r=kr();Zr.set("distinct_id",r)}else Zr.set("distinct_id",t);it({$identity_cookie_id:vr.store._state.identities.$identity_cookie_id}),vr.store.set("history_login_id",{name:"",value:""})}function Et(){ar t={$is_first_day:ze(),$is_first_time:Xr.is_page_first_visited,$referrer:Fr.pageProp.referrer||"",$referrer_host:Fr.pageProp.referrer?B(Fr.pageProp.referrer):"",$url:X(),$url_path:Z(),$title:document.title||"",_distinct_id:Zr.getDistinctId(),identities:JSON.parse(JSON.stringify(Zr._state.identities))},r=P({},Fr.properties(),vr.store.getProps(),e(),t);return vr.para.preset_properties.latest_referrer&&vr.para.preset_properties.latest_referrer_host&&(r.$latest_referrer_host=""===r.$latest_referrer?"":B(r.$latest_referrer)),r}nction Kt(e,t){var r=fi.encodeTrackData(t);return e.indexOf("?")!==-1?e+"&"+r:e+"?"+r}unction Ht(e){var t=["image","ajax","beacon"],r=t[0];return r=e.config&&te(t,e.config.send_type)>-1?e.config.send_type:vr.para.send_type,"beacon"===r&&ue()===!1&&(r="image"),"ajax"===r&&de()===!1&&(r="image"),r}ction Vt(e){var t=this;this.type=e,this.resultCbs={},this.timeoutCbs={},this.timerId=null,this.appCallJsCallback=null,window.sensorsdata_app_call_js||(window.sensorsdata_app_call_js=,window.sensorsdata_app_call_js.modules=window.sensorsdata_app_call_js.modules||{},window.sensorsdata_app_call_js.modules[this.type]=function(e){try{var r=O(e)||e;try{r=JSON.parse(r)}catch(i){}var n=r&&r.message_id;if(n&&t.resultCbs[n]){if(e=r,t.timeoutCbs[n]&&t.timeoutCbs[n].isTimeout)return void(t.resultCbs[n].callbacks.length=0);if(t.resultCbs[n]){t.resultCbs[n].result=e,clearTimeout(t.timerId),t.timeoutCbs[n].callbacks.length=0;for(var a in t.resultCbs[n].callbacks)t.resultCbs[n].callbacks[a].call(null,e),t.resultCbs[n].callbacks.splice(a,1)}return}return t.appCallJsCallback&&t.appCallJsCallback.call(null,e)}catch(s){console.log("app \u56de\u8c03 js \u5f02\u5e38",e)}}}tion Zt(e){ar i=vr.bridge.bridge_info;if(vr.bridge.hasVisualModeBridge())if(r(vr.para.heatmap)&&"default"==vr.para.heatmap.clickmap)if(r(vr.para.app_js_bridge)&&"success"===i.verify_success)if(e)sa_jssdk_app_define_mode(vr,e);else{var n=location.protocol,a=["http:","https:"];n=te(a,n)>-1?n:"https:",_e({success:error:function(){},type:"js",url:n+"//static.sensorsdata.cn/sdk/"+vr.lib_version+"/vapph5define.min.js"})}else t();else t()}function Yt(){vr.para.is_track_single_page&&ai.on("switch",function(e){var t=if("boolean"==typeof vr.para.is_track_single_page)t();else if("function"==typeof vr.para.is_track_single_page){var i=vr.para.is_track_single_page();r(i)?t(i):i===!0&&t()}})}unction Qt(){vr.readyState.setState(3),new vr.SDKJSBridge("visualized").onAppNotify(function(){Zt("undefined"!=typeof sa_jssdk_app_define_mode?!0:!1)}),Zt(!1),vr.bridge.app_js_bridge_v1(),Fr.initPage(),Yt(),!vr.para.app_js_bridge&&vr.para.batch_send&&Sr.isSupport()&&vr.batchSend.batchInterval(),vr.store.init(),vr.vtrackBase.init(),vr.readyState.setState(4),Gt()}unction tr(){k(Ni,function(e){var t=vr[e];vr[e]=function(){if(vr.readyState.state<3)return v(vr._q)||(vr._q=[]),vr._q.push([e,arguments]),!1;{if(vr.readyState.getState())return t.apply(vr,arguments);try{console.error("\u8bf7\u5148\u521d\u59cb\u5316\u795e\u7b56JS SDK")}catch(r){vr.log(r)}}}})}e){k(e,function(t,r){var i=Xe({propertyKey:r},i)})} vr={};(function(){function e(i,n){(i=r.Object()),n||(n=r.Object());var l=i.Number||r.Number,c=i.String||r.String,u=i.Object||r.Object,d=i.Date||r.Date,p=i.SyntaxError||r.SyntaxError,f=i.TypeError||r.TypeError,_=i.Math||r.Math,g=i.JSON||r.JSON;if("object"==typeof g&&g)return n.stringify=g.stringify,n.parse=g.parse,n.runInContext=e,n;var h,m=u.prototype,v=m.toString,y=m.hasOwnProperty,b=new d((-0xc782b5b800cec));if(a(function(){b=b.getUTCFullYear()==-109252&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}),s["bug-string-char-index"]=s["date-serialization"]=s.json=s["json-stringify"]=s["json-parse"]=null,!s("json")){var S="[object Function]",w="[object Date]",k="[object Number]",P="[object String]",D="[object Array]",C="[object Boolean]",O=s("bug-string-char-index"),j=function(e,r){var i,n,a,s=0;(i=.prototype.valueOf=0,n=new i;for(a in n)y.call(n,a)&&s++;return i=n=null,s?j=(n=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],j=,j(e,r)};if(!s("json-stringify")&&!s("date-serialization")){var $={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},T="000000",N=I=if(s("json-stringify")&&!s("date-serialization")){var A=n.stringify;n.stringify=else{var x="\\u00",L=E=/[\x00-\x1f\x22\x5c]/g,J=U=n.stringify=}if(!s("json-parse")){var K,R,H=c.fromCharCode,B={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},W=M=V=F=q=n.parse=}return n.runInContext=e,n}var t={"function":!0,object:!0},r=t[typeof window]&&window||this,i=r.JSON,n=r.JSON3,a=!1,s=e(r,r.JSON3={noConflict:);r.JSON={parse:s.parse,stringify:s.stringify}}).call(window),window,,);var yr,br={setup:log:,Sr={get:parse:set:remove:isSupport:,wr=);a.prototype.get=a.prototype.set=l.prototype.on=function(e,t){if(!e||!t)return!1;if(!s(t))throw new Error("listener must be a function");this._events[e]=this._events[e]||[];var r="object"==typeof t;return this._events[e].push(r?t:{listener:t,once:!1}),this},l.prototype.prepend=l.prototype.prependOnce=function(e,t){return this.prepend(e,{listener:t,once:!0})},l.prototype.once=l.prototype.off=l.prototype.emit=l.prototype.removeAllListeners=l.prototype.listeners=var kr=function(){var e=t=r=return function(){var n=String(screen.height*screen.width);n=n&&/\d{5,}/.test(n)?n.toString(16):String(31242*i()).replace(".","").slice(0,8);var a=e()+"-"+t()+"-"+r()+"-"+n+"-"+e();return a?a:(String(i())+String(i())+String(i())).slice(2,15)}}(),Pr=function(e){this.ele=e},Dr=Pr.prototype={addClass:function(e){var t=" "+this.ele.className+" ";return t.indexOf(" "+e+" ")===-1&&(this.ele.className=this.ele.className+(""===this.ele.className?"":" ")+e),this},removeClass:hasClass:function(e){var t=" "+this.ele.className+" ";return t.indexOf(" "+e+" ")!==-1},attr:offset:getSize:getStyle:wrap:getCssStyle:sibling:next:function(){return this.sibling(this.ele,"nextSibling")},prev:siblings:children:parent:previousElementSibling:getSameTypeSiblings:getParents:;var Cr=Array.prototype.forEach,Or=Object.prototype.hasOwnProperty,jr=Object.prototype.hasOwnProperty,$r={get:set:remove:isSupport:,Tr=Object.prototype.hasOwnProperty,Nr={isSupport:,Ir={"+":"-","/":"_","=":"."},Ar={"-":"+",_:"/",".":"="},xr={encode:function(e){return e.replace(/[+\/=]/g,function(e){return Ir[e]})},decode:trim:isBase64:function(e){return/^[A-Za-z0-9+\/]*[=]{0,2}$/.test(e)},isUrlSafeBase64:,Lr={__proto__:null,ConcurrentStorage:a,EventEmitter:l,URL:_,UUID:kr,addEvent:b,addHashEvent:S,ajax:D,base64Decode:O,base64Encode:j,bindReady:$,cookie:$r,coverExtend:T,decodeURI:N,decodeURIComponent:c,dfmapping:I,each:k,encodeDates:L,extend:P,extend2Lev:E,filter:J,formatDate:x,formatJsonString:U,getCookieTopLevelDomain:K,getDomBySelector:R,getElementContent:H,getHostname:B,getIOSVersion:W,getQueryParam:M,getQueryParamsFromUrl:V,getRandom:i,getRandomBasic:wr,getScreenOrientation:q,getUA:z,getURL:X,getURLPath:Z,getURLSearchParams:u,hasAttribute:Y,hasAttributes:G,hashCode:Q,hashCode53:ee,indexOf:te,inherit:re,isArguments:ie,isArray:v,isBoolean:ne,isDate:A,isElement:g,isEmptyObject:ae,isFunction:e,isHttpUrl:se,isIOS:oe,isJSONString:le,isNumber:ce,isObject:r,isString:d,isSupportBeaconSend:ue,isSupportCors:de,isUndefined:h,jsonp:pe,listenPageState:fe,loadScript:_e,localStorage:Sr,logger:br,map:C,mediaQueriesSupported:F,now:t,removeScriptProtocol:ge,rot13defs:me,rot13obfs:he,ry:y,safeJSONParse:n,searchObjDate:ve,sessionStorage:Nr,setCssStyle:ye,
strToUnicode:be,throttle:Se,toArray:ke,trim:p,unique:Pe,urlParse:f,urlSafeBase64:xr,values:we,xhr:w},Er={},Jr={preset_properties:{search_keyword_baidu:!1,latest_utm:!0,latest_traffic_source_type:!0,latest_search_keyword:!0,latest_referrer:!0,latest_referrer_host:!1,latest_landing_page:!1,latest_wx_ad_click_id:void 0,url:!0,title:!0},encrypt_cookie:!1,enc_cookie:!1,img_use_crossorigin:!1,name:"sa",max_referrer_string_length:200,max_string_length:500,max_id_length:255,max_key_length:100,cross_subdomain:!0,show_log:!1,is_debug:!1,debug_mode:!1,debug_mode_upload:!1,source_channel:[],sdk_id:"",send_type:"image",vtrack_ignore:{},auto_init:!0,is_track_single_page:!1,is_single_page:!1,batch_send:!1,source_type:{},callback_timeout:200,datasend_timeout:8e3,is_track_device_id:!1,ignore_oom:!0,app_js_bridge:!1},Ur="data:enc;",Kr="dfm-enc-",Rr={distinct_id:function(){},jssdkDebug:_sendDebug:apph5:defineMode:protocol:{protocolIsSame:serverUrl:ajax:},Hr="utm_source utm_medium utm_campaign utm_content utm_term",Br="1.23.1",Wr="sensorsdata_domain_test",Mr={EMAIL:"$identity_email",MOBILE:"$identity_mobile",LOGIN:"$identity_login_id"},Vr={data:{},id:function(){return this.data.id?this.data.id:(this.data.id=Le(),this.data.id)},type:,Fr={initPage:pageProp:{},campaignParams:campaignParamsStandard:properties:function(){var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,r={$timezone_offset:(new Date).getTimezoneOffset(),$screen_height:Number(screen.height)||0,$screen_width:Number(screen.width)||0,$viewport_height:e,$viewport_width:t,$lib:"js",$lib_version:Br};return r},currentProps:{},register:,qr={get:function(e){return $r.get(e)},set:function(e,t,r,i){var n="";if(i="undefined"==typeof i?Er.cross_subdomain:i){var a=Ie(location.href);"url\u89e3\u6790\u5931\u8d25"===a&&(a=""),n=a?"; domain="+a:""}return $r.set(e,t,r,i,Er.set_cookie_samesite,Er.is_secure_cookie,n)},remove:function(e,t){return t="undefined"==typeof t?Er.cross_subdomain:t,$r.remove(e,t)},isSupport:;qr.getNewUser=ze;var zr={data:{},get:set:getNewUserFlagMemoryKey:,Xr={checkIsAddSign:is_first_visit_time:!1,is_page_first_visited:!1,checkIsFirstTime:setDeviceId:function(e){var t=null,r=qr.get("sensorsdata2015jssdkcross"+vr.para.sdk_id);r=Oe(r);var i={};null!=r&&le(r)&&(i=JSON.parse(r),i.$device_id&&(t=i.$device_id)),t=t||e,vr.para.cross_subdomain===!0?vr.store.set("$device_id",t):(i.$device_id=t,i=JSON.stringify(i),vr.para.encrypt_cookie&&(i=je(i)),qr.set("sensorsdata2015jssdkcross"+vr.para.sdk_id,i,null,!0)),vr.para.is_track_device_id&&(Fr.currentProps.$device_id=t)},storeInitCheck:checkIsFirstLatest:function(){var e=Fr.pageProp.url_domain,t={};""===e&&(e="url\u89e3\u6790\u5931\u8d25");var i=Re(document.referrer,!0);if(vr.para.preset_properties.search_keyword_baidu?Je(document.referrer)&&(!xe()||r(i)&&i.active?vr.store._state&&vr.store._state.props&&(vr.store._state.props.$search_keyword_id&&delete vr.store._state.props.$search_keyword_id,vr.store._state.props.$search_keyword_id_type&&delete vr.store._state.props.$search_keyword_id_type,vr.store._state.props.$search_keyword_id_hash&&delete vr.store._state.props.$search_keyword_id_hash):(t.$search_keyword_id=Vr.id(),t.$search_keyword_id_type=Vr.type(),t.$search_keyword_id_hash=ee(t.$search_keyword_id))):vr.store._state&&vr.store._state.props&&(vr.store._state.props.$search_keyword_id&&delete vr.store._state.props.$search_keyword_id,vr.store._state.props.$search_keyword_id_type&&delete vr.store._state.props.$search_keyword_id_type,vr.store._state.props.$search_keyword_id_hash&&delete vr.store._state.props.$search_keyword_id_hash),vr.store.save(),k(vr.para.preset_properties,function(i,n){if(n.indexOf("latest_")===-1)return!1;if(n=n.slice(7),i){if("wx_ad_click_id"===n&&"not_collect"===i)return!1;if("utm"!==n&&"url\u89e3\u6790\u5931\u8d25"===e)"wx_ad_click_id"===n?(t._latest_wx_ad_click_id="url\u7684domain\u89e3\u6790\u5931\u8d25",t._latest_wx_ad_hash_key="url\u7684domain\u89e3\u6790\u5931\u8d25",t._latest_wx_ad_callbacks="url\u7684domain\u89e3\u6790\u5931\u8d25"):t["$latest_"+n]="url\u7684domain\u89e3\u6790\u5931\u8d25";else if(Je(document.referrer))switch(n){case"traffic_source_type":t.$latest_traffic_source_type=Be();break;case"referrer":t.$latest_referrer=Fr.pageProp.referrer;break;case"search_keyword":Re()?t.$latest_search_keyword=Re():r(vr.store._state)&&r(vr.store._state.props)&&vr.store._state.props.$latest_search_keyword&&delete vr.store._state.props.$latest_search_keyword;break;case"landing_page":t.$latest_landing_page=X();break;case"wx_ad_click_id":var a=He(location.href);t._latest_wx_ad_click_id=a.click_id,t._latest_wx_ad_hash_key=a.hash_key,t._latest_wx_ad_callbacks=a.callbacks}}else if("utm"===n&&vr.store._state&&vr.store._state.props)for(var s in vr.store._state.props)(0===s.indexOf("$latest_utm")||0===s.indexOf("_latest_")&&s.indexOf("_latest_wx_ad_")<0)&&delete vr.store._state.props[s];else if(vr.store._state&&vr.store._state.props&&"$latest_"+n in vr.store._state.props)delete vr.store._state.props["$latest_"+n];else if("wx_ad_click_id"==n&&vr.store._state&&vr.store._state.props&&i===!1){var o=["_latest_wx_ad_click_id","_latest_wx_ad_hash_key","_latest_wx_ad_callbacks"];k(o,}}),vr.register(t),vr.para.preset_properties.latest_utm){var n=Fr.campaignParamsStandard("$latest_","_latest_"),a=n.$utms,s=n.otherUtms;ae(a)||vr.register(a),ae(s)||vr.register(s)}}},Zr={requests:[],_sessionState:{},_state:{distinct_id:"",first_id:"",props:{},identities:{}},getProps:getSessionProps:getOriginDistinctId:function(){return this._state._distinct_id||this._state.distinct_id},getOriginUnionId:getDistinctId:getUnionId:getFirstId:initSessionState:setOnce:set:change:setSessionProps:function(e){var t=this._sessionState;P(t,e),this.sessionSave(t)},setSessionPropsOnce:setProps:function(e,t){var r={};r=t?e:P(this._state.props||{},e);for(var i in r)"string"==typeof r[i]&&(r[i]=r[i].slice(0,vr.para.max_referrer_string_length));this.set("props",r)},setPropsOnce:clearAllProps:function(e){this._sessionState={};var t;if(v(e)&&e.length>0)for(t=0;t<e.length;t++)d(e[t])&&e[t].indexOf("latest_")===-1&&r(this._state.props)&&e[t]in this._state.props&&delete this._state.props[e[t]];else if(r(this._state.props))for(t in this._state.props)1!==t.indexOf("latest_")&&delete this._state.props[t];this.sessionSave({}),this.save()},sessionSave:save:getCookieName:function(){var e="";if(vr.para.cross_subdomain===!1){try{e=_(location.href).hostname}catch(t){vr.log(t)}e="string"==typeof e&&""!==e?"sa_jssdk_2015_"+vr.para.sdk_id+e.replace(/\./g,"_"):"sa_jssdk_2015_root"+vr.para.sdk_id}else e="sensorsdata2015jssdkcross"+vr.para.sdk_id;return e},init:function(){function e(e){var t;e.identities&&(0===e.identities.indexOf("\n/")?e.identities=n(me(e.identities)):e.identities=n(O(e.identities)));var i=Zr.getOriginUnionId(e);e.identities&&r(e.identities)&&!ae(e.identities)?e.identities.$identity_anonymous_id&&e.identities.$identity_anonymous_id!==i.anonymous_id&&(e.identities.$identity_anonymous_id=i.anonymous_id):(e.identities={},e.identities.$identity_anonymous_id=i.anonymous_id,e.identities.$identity_cookie_id=kr()),e.history_login_id=e.history_login_id||{};var a=e.history_login_id,s=a.name;if(i.login_id)if(s&&e.identities.hasOwnProperty(s)){if(e.identities[s]!==i.login_id){e.identities[s]=i.login_id;for(t in e.identities)e.identities.hasOwnProperty(t)&&"$identity_cookie_id"!==t&&t!==s&&delete e.identities[t];e.history_login_id.value=i.login_id}}else{var o=s||vr.IDENTITY_KEY.LOGIN;e.identities[o]=i.login_id;for(t in e.identities)e.identities.hasOwnProperty(t)&&"$identity_cookie_id"!==t&&t!==o&&delete e.identities[t];e.history_login_id={name:o,value:i.login_id}}else{if(e.identities.hasOwnProperty("$identity_login_id")||e.identities.hasOwnProperty(s))for(t in e.identities)e.identities.hasOwnProperty(t)&&"$identity_cookie_id"!==t&&"$identity_anonymous_id"!==t&&delete e.identities[t];e.history_login_id={name:"",value:""}}return e}his.initSessionState();var i,a,s=kr();qr.isSupport()&&(i=qr.get(this.getCookieName()),i=Oe(i),a=n(i)),qr.isSupport()&&null!==i&&le(i)&&r(a)&&(!r(a)||a.distinct_id)?(vr.store._state=P(e(a)),vr.store.save()):(vr.is_first_visitor=!0,t(s)),Xr.setDeviceId(s),Xr.storeInitCheck(),Xr.checkIsFirstLatest()},saveObjectVal:readObjectVal:,Yr={string:function(e){De(e+" must be string")},emptyString:function(e){De(e+"'s is empty")},regexTest:function(e){De(e+" is invalid")},idLength:function(e){De(e+" length is longer than "+Er.max_id_length)},keyLength:function(e){De(e+" length is longer than "+Er.max_key_length)},stringLength:voidZero:function(e){De(e+"'s is undefined")},reservedLoginId:function(e){De(e+" is invalid")},reservedBind:function(e){De(e+" is invalid")},reservedUnbind:,Gr={regName:/^((?!^distinct_id$|^original_id$|^time$|^properties$|^id$|^first_id$|^second_id$|^users$|^events$|^event$|^user_id$|^date$|^datetime$|^user_tag.*|^user_group.*)[a-zA-Z_$][a-zA-Z\d_$]*)$/i,loginIDReservedNames:["$identity_anonymous_id","$identity_cookie_id"],bindReservedNames:["$identity_login_id","$identity_anonymous_id","$identity_cookie_id"],unbindReservedNames:["$identity_anonymous_id",Mr.LOGIN],string:emptyString:regexTest:idLength:function(e){return!(!d(e)||e.length>Er.max_id_length)},keyLength:function(e){return!(!d(e)||e.length>Er.max_key_length)},stringLength:voidZero:reservedLoginId:function(e){return!(te(this.loginIDReservedNames,e)>-1)},reservedUnbind:reservedBind:,Qr={distinct_id:{rules:["string","emptyString","idLength"],onComplete:function(t,r,i){return!t&&("emptyString"===i&&(r="Id"),e(Yr[i])&&Yr[i](r),"idLength"===i)||t}},event:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(t,r,i){return t||("emptyString"===i&&(r="eventName"),e(Yr[i])&&Yr[i](r)),!0}},propertyKey:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(t,r,i){return t||("emptyString"===i&&(r="Property key"),e(Yr[i])&&Yr[i](r)),!0}},propertyValue:{rules:["voidZero"],onComplete:,properties:propertiesMust:item_type:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(t,r,i){return t||("emptyString"===i&&(r="item_type"),e(Yr[i])&&Yr[i](r)),!0}},item_id:{rules:["string","emptyString","stringLength"],onComplete:,loginIdKey:{rules:["string","emptyString","keyLength","regexTest","reservedLoginId"],onComplete:function(t,r,i){return!t&&("emptyString"===i&&(r="login_id_key"),e(Yr[i])&&Yr[i](r),"keyLength"===i)||t}},bindKey:{rules:["string","emptyString","keyLength","regexTest","reservedBind"],onComplete:function(t,r,i){return!t&&("emptyString"===i&&(r="Key"),e(Yr[i])&&Yr[i](r),"keyLength"===i)||t}},unbindKey:{rules:["string","emptyString","keyLength","regexTest","reservedUnbind"],onComplete:function(t,r,i){return!t&&("emptyString"===i&&(r="Key"),e(Yr[i])&&Yr[i](r),"keyLength"===i)||t}},bindValue:{rules:["string","emptyString","idLength"],onComplete:,check:,ei={stage:null,init:,ti={};ti.check=Xe,ti.sendItem=ti.send=ti.debugPath=function(e){var t=e,r="";r=vr.para.debug_mode_url.indexOf("?")!==-1?vr.para.debug_mode_url+"&"+vr.kit.encodeTrackData(e):vr.para.debug_mode_url+"?"+vr.kit.encodeTrackData(e),Ve({url:r,type:"GET",cors:!0,header:{"Dry-Run":String(vr.para.debug_mode_upload)},success:function(e){ae(e)===!0?alert("debug\u6570\u636e\u53d1\u9001\u6210\u529f"+t):alert("debug\u5931\u8d25 \u9519\u8bef\u539f\u56e0"+JSON.stringify(e))}})};var ri={label:!1,li:!1,a:!0,button:!0},ii={otherTags:[],initUnlimitedTags:isUnlimitedTag:getTargetElement:getDivLevels:isDivLevelValid:getElementPath:getClosestLi:getElementPosition:setNotice:function(e){vr.is_heatmap_render_mode=!0,vr.para.heatmap||(vr.errorMsg="\u60a8SDK\u6ca1\u6709\u914d\u7f6e\u5f00\u542f\u70b9\u51fb\u56fe\uff0c\u53ef\u80fd\u6ca1\u6709\u6570\u636e\uff01"),e&&"http:"===e.slice(0,5)&&"https:"===location.protocol&&(vr.errorMsg="\u60a8\u7684\u5f53\u524d\u9875\u9762\u662fhttps\u7684\u5730\u5740\uff0c\u795e\u7b56\u5206\u6790\u73af\u5883\u4e5f\u5fc5\u987b\u662fhttps\uff01"),vr.para.heatmap_url||(vr.para.heatmap_url=location.protocol+"//static.sensorsdata.cn/sdk/"+vr.lib_version+"/heatmap.min.js")},getDomIndex:selector:getDomSelector:na:i:getBrowserWidth:function(){var e=window.innerWidth||document.body.clientWidth;return isNaN(e)?0:parseInt(e,10)},getBrowserHeight:getScrollWidth:getEleDetail:function(e){var t=this.getDomSelector(e),r=Ae({target:e});r.$element_selector=t?t:"",r.$element_path=vr.heatmap.getElementPath(e,vr.para.heatmap&&"not_use_id"===vr.para.heatmap.element_selector);var i=vr.heatmap.getElementPosition(e,r.$element_path,vr.para.heatmap&&"not_use_id"===vr.para.heatmap.element_selector);return ce(i)&&(r.$element_position=i),r},getPointerEventProp:start:function(t,i,n,a,s){var o=r(a)?a:{},l=e(s)?s:e(a)?a:void 0;if(vr.para.heatmap&&vr.para.heatmap.collect_element&&!vr.para.heatmap.collect_element(i))return!1;var c=this.getEleDetail(i);if(vr.para.heatmap&&vr.para.heatmap.custom_property){var u=vr.para.heatmap.custom_property(i);r(u)&&(c=P(c,u))}c=P(c,this.getPointerEventProp(t,i),o),"a"===n&&vr.para.heatmap&&vr.para.heatmap.isTrackLink===!0?vr.trackLink({event:t,target:i},"$WebClick",c):vr.track("$WebClick",c,l)},hasElement:isStyleTag:isCollectableDiv:getCollectableParent:listenUrlChange:initScrollmap:function(){if(!r(vr.para.heatmap)||"default"!==vr.para.heatmap.scroll_notice_map)return!1;var t=!0;vr.para.scrollmap&&e(vr.para.scrollmap.collect_url)&&this.listenUrlChange(;var i=n=i({timeout:1e3,func:function(e,t){var r=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,i=new Date,n=i-this.current_time;(n>vr.para.heatmap.scroll_delay_time&&r-e.$viewport_position!==0||t)&&(e.$url=X(),e.$title=document.title,e.$url_path=Z(),e.event_duration=Math.min(vr.para.heatmap.scroll_event_duration,parseInt(n)/1e3),e.event_duration=e.event_duration<0?0:e.event_duration,vr.track("$WebStay",e)),this.current_time=i}});n.current_time=new Date,Fe(window,"scroll",,Fe(window,"unload",},initHeatmap:,ni={setOnlineState:function(e){if(e===!0&&r(vr.para.jsapp)&&"function"==typeof vr.para.jsapp.getData){vr.para.jsapp.isOnline=!0;var t=vr.para.jsapp.getData();v(t)&&t.length>0&&k(t,}else vr.para.jsapp.isOnline=!1},autoTrackIsUsed:!1,isReady:getUtm:getStayTime:setProfileLocal:function(e){if(!Sr.isSupport())return vr.setProfile(e),!1;if(!r(e)||ae(e))return!1;var t=vr.store.readObjectVal("sensorsdata_2015_jssdk_profile"),i=!1;if(r(t)&&!ae(t)){for(var n in e)!(n in t&&t[n]!==e[n])&&n in t||(t[n]=e[n],i=!0);i&&(vr.store.saveObjectVal("sensorsdata_2015_jssdk_profile",t),vr.setProfile(e))}else vr.store.saveObjectVal("sensorsdata_2015_jssdk_profile",e),vr.setProfile(e)},setInitReferrer:setSessionReferrer:setDefaultAttr:trackHeatMap:trackAllHeatMap:autoTrackSinglePage:function(e,t){function i(){var e=Fr.campaignParams(),t={};return k(e,function(e,r,i){(" "+vr.source_channel_standard+" ").indexOf(" "+r+" ")!==-1?t["$"+r]=i[r]:t[r]=i[r]}),t}ar a;a=this.autoTrackIsUsed?Fr.pageProp.url:Fr.pageProp.referrer,e=r(e)?e:{};var s=!e.not_set_profile;if(e.not_set_profile&&delete e.not_set_profile,n(e,t),this.autoTrackSinglePage=n,vr.is_first_visitor&&s){var o={};vr.para.preset_properties.search_keyword_baidu&&Je(document.referrer)&&xe()&&(o.$search_keyword_id=Vr.id(),o.$search_keyword_id_type=Vr.type(),o.$search_keyword_id_hash=ee(o.$search_keyword_id)),vr.setOnceProfile(P({$first_visit_time:new Date,$first_referrer:Ue(),$first_browser_language:d(navigator.language)?navigator.language.toLowerCase():"\u53d6\u503c\u5f02\u5e38",$first_browser_charset:"string"==typeof document.charset?document.charset.toUpperCase():"\u53d6\u503c\u5f02\u5e38",$first_traffic_source_type:Be(),$first_search_keyword:Re()},i(),o)),vr.is_first_visitor=!1}},autoTrackWithoutProfile:autoTrack:function(e,t){e=r(e)?e:{};var i=Fr.campaignParams(),n={};k(i,function(e,t,r){(" "+vr.source_channel_standard+" ").indexOf(" "+t+" ")!==-1?n["$"+t]=r[t]:n[t]=r[t]});var a=!e.not_set_profile;e.not_set_profile&&delete e.not_set_profile;var s=location.href;if(vr.para.is_single_page&&S(,vr.track("$pageview",P({$referrer:Ue(null,!0),$url:X(),$url_path:Z(),$title:document.title},n,e),t),vr.is_first_visitor&&a){var o={};
vr.para.preset_properties.search_keyword_baidu&&Je(document.referrer)&&xe()&&(o.$search_keyword_id=Vr.id(),o.$search_keyword_id_type=Vr.type(),o.$search_keyword_id_hash=ee(o.$search_keyword_id)),vr.setOnceProfile(P({$first_visit_time:new Date,$first_referrer:Ue(null,!0),$first_browser_language:d(navigator.language)?navigator.language.toLowerCase():"\u53d6\u503c\u5f02\u5e38",$first_browser_charset:"string"==typeof document.charset?document.charset.toUpperCase():"\u53d6\u503c\u5f02\u5e38",$first_traffic_source_type:Be(),$first_search_keyword:Re()},n,o)),vr.is_first_visitor=!1}this.autoTrackIsUsed=!0},getAnonymousID:setPlugin:useModulePlugin:useAppPlugin:,ai=new l,si=new l,oi={};oi.spa=ai,oi.sdk=si,oi.initSystemEvent=oi.EVENT_LIST={spaSwitch:["spa","switch"],sdkAfterInitPara:["sdk","afterInitPara"],sdkBeforeInit:["sdk","beforeInit"],sdkAfterInit:["sdk","afterInit"]};var li={state:0,historyState:[],stateType:{1:"1-init\u672a\u5f00\u59cb",2:"2-init\u5f00\u59cb",3:"3-store\u5b8c\u6210"},getState:setState:,ci={__proto__:null,addReferrerHost:et,addPropsHook:tt,initPara:rt,setInitVar:nt,enableLocalLog:at,disableLocalLog:st,quick:ot,use:lt,track:ct,bind:ut,unbind:dt,trackLink:pt,trackLinks:ft,setItem:_t,deleteItem:gt,setProfile:ht,setOnceProfile:mt,appendProfile:vt,incrementProfile:yt,deleteProfile:bt,unsetProfile:St,identify:wt,trackSignup:Pt,registerPage:Dt,clearAllRegister:Ct,clearPageRegister:Ot,register:jt,registerOnce:$t,registerSession:Tt,registerSessionOnce:Nt,login:At,loginWithKey:xt,logout:Lt,getPresetProperties:Et,iOSWebClickPolyfill:Jt,readyState:li,para_default:Jr,log:De,debug:Rr,IDENTITY_KEY:Mr,on:Qe},ui=ui.prototype={emit:function(e){var t=[].slice.call(arguments,1);k(this._events,,this.pendingEvents.push({type:e,data:t}),this.pendingEvents.length>20?this.pendingEvents.shift():null},on:function(e,t,r,i){"function"==typeof t&&(this._events.push({type:e,callback:t,context:r||this}),i=i!==!1,this.pendingEvents.length>0&&i&&k(this.pendingEvents,)},tempAdd:isReady:function(){}};var di={__proto__:null,parseSuperProperties:$e,searchConfigData:Te,strip_empty_properties:Ne,getCurrentDomain:Ie,getEleInfo:Ae,isBaiduTraffic:xe,getReferrerEqid:Le,getReferrerEqidType:Ee,getBaiduKeyword:Vr,isReferralTraffic:Je,getReferrer:Ue,getKeywordFromReferrer:Re,getWxAdIdFromUrl:He,getReferSearchEngine:Ke,getSourceFromReferrer:Be,info:Fr,ajax:Ve,getElementContent:Me,cookie:qr,addEvent:Fe,EventEmitterSa:ui,encrypt:je,decryptIfNeeded:Oe},pi={stage:null,init:function(e){this.stage=e}},fi={};fi.buildData=function(e){var t={identities:{},distinct_id:vr.store.getDistinctId(),lib:{$lib:"js",$lib_method:"code",$lib_version:String(vr.lib_version)},properties:{}};return r(e)&&r(e.identities)&&!ae(e.identities)?P(t.identities,e.identities):P(t.identities,Zr._state.identities),r(e)&&r(e.properties)&&!ae(e.properties)&&(e.properties.$lib_detail&&(t.lib.$lib_detail=e.properties.$lib_detail,delete e.properties.$lib_detail),e.properties.$lib_method&&(t.lib.$lib_method=e.properties.$lib_method,delete e.properties.$lib_method)),P(t,vr.store.getUnionId(),e),Ze(t),r(e.properties)&&!ae(e.properties)&&P(t.properties,e.properties),e.type&&"profile"===e.type.slice(0,7)||(t.properties=P({},Fr.properties(),Zr.getProps(),Zr.getSessionProps(),Fr.currentProps,t.properties),vr.para.preset_properties.latest_referrer&&!d(t.properties.$latest_referrer)&&(t.properties.$latest_referrer="\u53d6\u503c\u5f02\u5e38"),vr.para.preset_properties.latest_search_keyword&&!d(t.properties.$latest_search_keyword)&&(vr.para.preset_properties.search_keyword_baidu&&d(t.properties.$search_keyword_id)&&ce(t.properties.$search_keyword_id_hash)&&d(t.properties.$search_keyword_id_type)||(t.properties.$latest_search_keyword="\u53d6\u503c\u5f02\u5e38")),vr.para.preset_properties.latest_traffic_source_type&&!d(t.properties.$latest_traffic_source_type)&&(t.properties.$latest_traffic_source_type="\u53d6\u503c\u5f02\u5e38"),vr.para.preset_properties.latest_landing_page&&!d(t.properties.$latest_landing_page)&&(t.properties.$latest_landing_page="\u53d6\u503c\u5f02\u5e38"),"not_collect"===vr.para.preset_properties.latest_wx_ad_click_id?(delete t.properties._latest_wx_ad_click_id,delete t.properties._latest_wx_ad_hash_key,delete t.properties._latest_wx_ad_callbacks):vr.para.preset_properties.latest_wx_ad_click_id&&!d(t.properties._latest_wx_ad_click_id)&&(t.properties._latest_wx_ad_click_id="\u53d6\u503c\u5f02\u5e38",t.properties._latest_wx_ad_hash_key="\u53d6\u503c\u5f02\u5e38",t.properties._latest_wx_ad_callbacks="\u53d6\u503c\u5f02\u5e38"),d(t.properties._latest_wx_ad_click_id)&&(t.properties.$url=X())),t.properties.$time&&A(t.properties.$time)?(t.time=1*t.properties.$time,delete t.properties.$time):t.time=1*new Date,vr.vtrackBase.addCustomProps(t),$e(t),Xr.checkIsAddSign(t),Xr.checkIsFirstTime(t),vr.addReferrerHost(t),vr.addPropsHook(t),Ye(t),t},fi.sendData=function(e,t){var r=Te(e.properties);vr.para.debug_mode===!0?(vr.log(e),vr.saEvent.debugPath(JSON.stringify(e),t)):vr.sendState.getSendCall(e,r,t)},fi.encodeTrackData=fi.getUtmData=function(){return Ut()};var _i=_i.prototype.start=_i.prototype.lastClear=var gi=function(e){this.callback=e.callback,this.server_url=e.server_url,this.data=Rt(e.data)};gi.prototype.start=var hi=hi.prototype.start=var mi={stage:null,init:function(e){this.stage=e},interceptor:{send:{entry:function(e,t){var r=t.sensors,i=e.callback;return r.para.app_js_bridge?r.para.app_js_bridge.is_mui?r.para.app_js_bridge.is_mui?window.plus&&window.plus.SDAnalytics&&window.plus.SDAnalytics.trackH5Event?(window.plus.SDAnalytics.trackH5Event(e),r._.isFunction(i)&&i(),e):r.para.app_js_bridge.is_send===!0?(r.sendState.prepareServerUrl(e),e):(r._.isFunction(i)&&i(),e):void 0:r.para.app_js_bridge.is_send===!0?(r.debug.apph5({data:e.data,step:"2",output:"all"}),r.sendState.prepareServerUrl(e),e):(r._.isFunction(i)&&i(),e):(r.debug.apph5({data:e.data,step:"1",output:"code"}),r.sendState.prepareServerUrl(e),e)}}}},vi={};vi.getSendCall=vi.prepareServerUrl=vi.sendCall=vi.realtimeSend=var yi="sawebjssdk-",bi="tab-sawebjssdk-";Mt.prototype={batchInterval:getServerUrl:send:function(){if(!(this.sendTimeStamp&&t()-this.sendTimeStamp<vr.para.batch_send.datasend_timeout)){var e=Sr.get(this.tabKey);if(e&&(this.sendTimeStamp=t(),e=n(e)||this.generateTabStorageVal(),e.data.length)){for(var r=[],i=0;i<e.data.length;i++)r.push(vr.store.readObjectVal(e.data[i]));this.request(r,e.data)}}},updateExpireTime:function(){var e=Sr.get(this.tabKey);e&&(e=n(e)||this.generateTabStorageVal(),e.expireTime=t()+2*vr.para.batch_send.send_interval,e.serverUrl=this.serverUrl,Sr.set(this.tabKey,JSON.stringify(e)))},request:remove:add:generateTabStorage:generateTabStorageVal:function(e){return e=e||[],{data:e,expireTime:t()+2*vr.para.batch_send.send_interval,serverUrl:this.serverUrl}},sendImmediately:function(){this.send()},recycle:function(){for(var e={},r=1e4,i="sajssdk-lock-get-",s=0;s<localStorage.length;s++){var o=localStorage.key(s),l=this;if(0===o.indexOf(bi)){for(var c=n(Sr.get(o))||this.generateTabStorageVal(),u=0;u<c.data.length;u++)e[c.data[u]]=!0;if(t()>c.expireTime&&this.serverUrl===c.serverUrl){var d=new a(i);d.get(o,r,1e3,}}else if(0===o.indexOf(i)){var p=n(Sr.get(o))||{expireTime:0};t()-p.expireTime>r&&Sr.remove(o)}}for(var f=0;f<localStorage.length;f++){var _=localStorage.key(f);0!==_.indexOf(yi)||e[_]||Sr.remove(_)}}};var Si=new Mt,wi={bridge_info:{touch_app_bridge:!1,verify_success:!1,platform:"",support_two_way_call:!1},is_verify_success:!1,initPara:function(){var e={is_send:vr.para.use_app_track_is_send!==!1&&"only"!==vr.para.use_app_track,white_list:[],is_mui:"mui"===vr.para.use_app_track};"object"==typeof vr.para.app_js_bridge?vr.para.app_js_bridge=P({},e,vr.para.app_js_bridge):vr.para.use_app_track!==!0&&vr.para.app_js_bridge!==!0&&"only"!==vr.para.use_app_track&&"mui"!==vr.para.use_app_track||(vr.para.app_js_bridge=P({},e)),vr.para.app_js_bridge.is_send===!1&&vr.log("\u8bbe\u7f6e\u4e86 is_send:false,\u5982\u679c\u6253\u901a\u5931\u8d25\uff0c\u6570\u636e\u5c06\u88ab\u4e22\u5f03!")},app_js_bridge_v1:hasVisualModeBridge:validateAppUrl:qt};Vt.prototype.call=function(e,t){var r=this,n=(new Date).getTime().toString(16)+String(i()).replace(".","").slice(1,8);this.resultCbs[n]=r.resultCbs[n]||{result:null,callbacks:[]},this.timeoutCbs[n]=r.timeoutCbs[n]||{isTimeout:!1,callbacks:[]},e=e.data?e:{data:e},e.data.message_id=n;var a=P({callType:this.type},e);return t&&(this.timerId=setTimeout(function(){r.timeoutCbs[n].isTimeout=!0;for(var e in r.timeoutCbs[n].callbacks)r.timeoutCbs[n].callbacks[e].call(null),r.timeoutCbs[n].callbacks.splice(e,1)},t)),Ft(a),{onResult:onTimeout:},Vt.prototype.onAppNotify=function(e){this.appCallJsCallback=e},Vt.prototype.notifyApp=zt.prototype={"double":function(){},getAppData:function(){},hasAppBridge:init:function(){},jsCallApp:function(){},requestToApp:;var ki={};ki.initUrl=function(){var e,t={server_url:{project:"",host:""},page_url:{host:"",pathname:""}};if(!d(vr.para.server_url))return vr.log("----vcollect---server_url\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32"),!1;try{e=_(vr.para.server_url),t.server_url.project=e.searchParams.get("project")||"default",t.server_url.host=e.host}catch(r){return vr.log("----vcollect---server_url\u89e3\u6790\u5f02\u5e38",r),!1}var i;try{i=_(location.href),t.page_url.host=i.hostname,t.page_url.pathname=i.pathname}catch(r){return vr.log("----vcollect---\u9875\u9762\u5730\u5740\u89e3\u6790\u5f02\u5e38",r),!1}return t},ki.isDiv=ki.configIsMatchNew=ki.configIsMatch=function(e,t){return(!t.limit_element_content||t.element_content===e.$element_content)&&((!t.limit_element_position||t.element_position===String(e.$element_position))&&(t.element_field&&t["function"]?ki.configIsMatchNew(e,t):ki.configIsMatchOldVersion(e,t)))},ki.configIsMatchOldVersion=ki.filterConfig=ki.getPropElInLi=function(e,t){if(!(e&&g(e)&&d(t)))return null;if("li"!==e.tagName.toLowerCase())return null;var r,i=vr.heatmap.getDomSelector(e);if(i){r=i+t;var n=R(r);return n?n:null}return vr.log("----custom---\u83b7\u53d6\u540c\u7ea7\u5c5e\u6027\u5143\u7d20\u5931\u8d25\uff0cselector\u4fe1\u606f\u5f02\u5e38",i,t),null},ki.getProp=ki.getAssignConfigs=ki.addCustomProps=ki.init=var Pi={events:[],init:filterWebClickEvents:function(e){this.events=vr.vtrackcollect.getAssignConfigs(function(e){return!(!r(e)||e.event.unlimited_div!==!0||"webclick"!==e.event_type)},e)},isTargetEle:,Di={events:[],configSwitch:!1,collectAble:updateEvents:getVtrackProps:clickCustomPropMaker:getProp:ki.getProp,getPropElInLi:ki.getPropElInLi,filterConfig:ki.filterConfig},Ci={unlimitedDiv:Pi,config:{},storageEnable:!0,storage_name:"webjssdkvtrackcollect",para:{session_time:18e5,timeout:5e3,update_interval:18e5},url_info:{},timer:null,update_time:null,customProp:Di,initUrl:init:function(){if(!r(vr.para.heatmap)||!vr.para.heatmap.get_vtrack_config)return!1;if(Sr.isSupport()||(this.storageEnable=!1),!this.initUrl())return vr.log("----vtrackcustom----\u521d\u59cb\u5316\u5931\u8d25\uff0curl\u4fe1\u606f\u89e3\u6790\u5931\u8d25"),!1;if(this.storageEnable){var e=vr.store.readObjectVal(this.storage_name);if(r(e)&&r(e.data))if(this.serverUrlIsSame(e.serverUrl)){this.config=e.data,this.update_time=e.updateTime,this.updateConfig(e.data);var t=(new Date).getTime(),i=t-this.update_time;if(ce(i)&&i>0&&i<this.para.session_time){var n=this.para.update_interval-i;this.setNextFetch(n)}else this.getConfigFromServer()}else this.getConfigFromServer();else this.getConfigFromServer()}else this.getConfigFromServer();this.pageStateListenner()},serverUrlIsSame:function(e){return!!r(e)&&(e.host===this.url_info.server_url.host&&e.project===this.url_info.server_url.project)},getConfigFromServer:setNextFetch:pageStateListenner:updateConfig:updateStorage:sendRequest:getAssignConfigs:ki.getAssignConfigs,configIsMatch:ki.configIsMatch},Oi={events:[],getAssignConfigs:ki.getAssignConfigs,filterConfig:ki.filterConfig,getProp:ki.getProp,initUrl:ki.initUrl,updateEvents:init:geth5Props:function(e){var t={},i=[],n=this;if(!this.events.length)return{};if("$WebClick"===e.event){var a=this.filterConfig(e,this.events);if(!a.length)return{};k(a,,vr.bridge.hasVisualModeBridge()&&(t.sensorsdata_web_visual_eventName=i)}return t.sensorsdata_app_visual_properties&&(t.sensorsdata_app_visual_properties=j(JSON.stringify(t.sensorsdata_app_visual_properties))),t},initAppGetPropsBridge:,ji={events:[],customProp:Oi,getAssignConfigs:ki.getAssignConfigs,initUrl:ki.initUrl,init:initAppUpdateConfigBridge:getConfigFromApp:updateConfigs:filterConfigs:,$i={isSeachHasKeyword:hasKeywordHandle:isReady:isStorageHasKeyword:function(){return Nr.isSupport()&&"string"==typeof sessionStorage.getItem("sensors_heatmap_id")},storageHasKeywordHandle:isWindowNameHasKeyword:windowNameHasKeywordHandle:,Ti={isStorageHasKeyword:isSearchHasKeyword:function(){return(Xt("sa-visual-mode")===!0||"true"===Xt("sa-visual-mode"))&&("string"==typeof sessionStorage.getItem("sensors_heatmap_id")&&sessionStorage.removeItem("sensors_heatmap_id"),!0)},loadVtrack:messageListener:function(e){f("sa-fe"!==e.data.source)return!1;if("v-track-mode"===e.data.type){if(e.data.data&&e.data.data.isVtrack)if(Nr.isSupport()&&sessionStorage.setItem("sensors-visual-mode","true"),e.data.data.userURL&&location.href.match(/sa-visual-mode=true/)){var r=t(e.data.data.userURL);r&&(window.location.href=r)}else Ti.loadVtrack();window.removeEventListener("message",Ti.messageListener,!1)}},removeMessageHandle:verifyVtrackMode:postMessage:notifyUser:,Ni=["setItem","deleteItem","getAppStatus","track","quick","register","registerPage","registerOnce","trackSignup","setProfile","setOnceProfile","appendProfile","incrementProfile","deleteProfile","unsetProfile","identify","login","logout","trackLink","clearAllRegister","clearPageRegister"],Ii={track:function(e,t,r){},quick:function(e,t,r,i){},register:function(e){},registerPage:function(e){},registerOnce:function(e){},clearAllRegister:function(e){},trackSignup:setProfile:function(e,t){},setOnceProfile:function(e,t){},appendProfile:function(e,t){},incrementProfile:function(e,t){},deleteProfile:function(e){},unsetProfile:function(e,t){},identify:function(e,t){},login:function(e,t){},logout:function(e){},trackLink:function(e,t,r){},deleteItem:setItem:getAppStatus:function(e){},clearPageRegister:function(e){}};nr.prototype.process=function(e,t){if(!(e&&e in this.processDef))return void De("process ["+e+"] is not supported");var r=this.registeredInterceptors[e];if(r&&v(r)&&r.length>0)for(var i={current:0,total:r.length},n=new ir(t,i,vr),a=0;a<r.length;a++)try{if(i.current=a+1,t=r[a].call(null,t,n)||t,n.cancellationToken.getCanceled())break}catch(s){De("interceptor error:"+s)}return this.processDef[e]&&this.processDef[e]in this.processDef&&(t=this.process(this.processDef[e],t)),t},nr.prototype.registerStageImplementation=nr.prototype.registerInterceptor=var Ai={addCustomProps:null,formatData:null},xi=new nr(Ai),Li={beforeSend:"send",send:"afterSend",
afterSend:null},Ei=new nr(Li),Ji={getUtmData:null},Ui=new nr(Ji),Ki={dataStage:function(e){e&&xi.registerInterceptor(e)},businessStage:function(e){e&&Ui.registerInterceptor(e)},sendStage:,Ri={init:function(){},interceptor:{formatData:{priority:0,entry:}},Hi=window.sensors_data_pre_config,Bi=!!r(Hi)&&Hi.is_compliance_enabled;vr.init=Bi?mr(!1):(mr(!0),tr());var Wi=vr;try{vr.modules={},vr.modules.Amp=),vr.modules.Channel=function(){"use strict";var e,t,r,i={event_list:[],latest_event_initial_time:null,max_save_time:2592e6,init:function(i){f(t||!i)return!1;t=i;var a=this;t.on?t.on("sdkAfterInitPara",n):n()},addIsChannelCallbackEvent:addLatestChannelUrl:registerAndSave:cookie:{getChannel:saveChannel:,channelLinkHandler:getUrlDomain:eventList:{init:get:add:save:reset:hasEvent:};return window.SensorsDataWebJSSDKPlugin&&"[object Object]"===Object.prototype.toString.call(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.SensorsChannel=window.SensorsDataWebJSSDKPlugin.SensorsChannel||i:window.SensorsDataWebJSSDKPlugin={SensorsChannel:i},i}(),vr.modules.Deeplink=function(){"use strict";ar t,r=(/micromessenger\/([\d.]+)/i.test(navigator.userAgent||""),;t=r().hidden;var i={android:/Android/i,iOS:/iPhone|iPad|iPod/i},n=a=n(),s=o=l=c=u=d=p={key:null,timer:null,sd:null,data:null,timeout:2500,apiURL:"{origin}/sdk/deeplink/param?key={key}&system_type=JS&project={project}",init:openDeepLink:log:function(e){this.sd&&this.sd.log(e)},addListeners:;return o(window.SensorsDataWebJSSDKPlugin)?(window.SensorsDataWebJSSDKPlugin.Deeplink=window.SensorsDataWebJSSDKPlugin.Deeplink||p,window.SensorsDataWebJSSDKPlugin.deeplink=window.SensorsDataWebJSSDKPlugin.deeplink||p):window.SensorsDataWebJSSDKPlugin={Deeplink:p,deeplink:p},p}(),vr.modules.Pageleave=function(){"use strict";ar t=5e3;e.prototype.init=function(e,t){if(e){this.sd=e,this._=this.sd._;var r=this;if(t){this.option=t;var i=t.heartbeat_interval_time;i&&(this._.isNumber(i)||this._.isNumber(1*i))&&1*i>0&&(this.heartbeat_interval_time=1e3*i)}this.page_id=Number(String(this._.getRandom()).slice(2,5)+String(this._.getRandom()).slice(2,4)+String((new Date).getTime()).slice(-4)),r.addEventListener(),document.hidden===!0?this.page_show_status=!1:r.addHeartBeatInterval(),this.log("PageLeave\u521d\u59cb\u5316\u5b8c\u6bd5")}else this.log("\u795e\u7b56JS SDK\u672a\u6210\u529f\u5f15\u5165")},e.prototype.log=e.prototype.refreshPageEndTimer=e.prototype.hiddenStatusHandler=e.prototype.pageStartHandler=function(){this.start_time=+new Date,!document.hidden==!0?this.page_show_status=!0:this.page_show_status=!1,this.url=location.href},e.prototype.pageEndHandler=e.prototype.addEventListener=e.prototype.addPageStartListener=e.prototype.isCollectUrl=function(e){return"function"!=typeof this.option.isCollectUrl||("string"!=typeof e||""===e||this.option.isCollectUrl(e))},e.prototype.addSinglePageListener=e.prototype.addPageEndListener=e.prototype.addPageSwitchListener=e.prototype.addHeartBeatInterval=e.prototype.startHeartBeatInterval=e.prototype.stopHeartBeatInterval=e.prototype.saveHeartBeatData=e.prototype.delHeartBeatData=e.prototype.reissueHeartBeatData=e.prototype.getPageLeaveProperties=function(){var e=(+new Date-this.start_time)/1e3;(isNaN(e)||e<0)&&(e=0),e=Number(e.toFixed(3));var t=this._.getReferrer(this.current_page_url),r=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body&&document.body.scrollTop||0;r=Math.round(r)||0;var i={$title:document.title,$url:this._.getURL(this.url),$url_path:this._.getURLPath(),$referrer_host:t?this._.getHostname(t):"",$referrer:t,$viewport_position:r};return 0!==e&&(i.event_duration=e),i=this._.extend(i,this.option.custom_props)};var r=new e;return window.SensorsDataWebJSSDKPlugin&&"[object Object]"===Object.prototype.toString.call(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.PageLeave=window.SensorsDataWebJSSDKPlugin.PageLeave||r:window.SensorsDataWebJSSDKPlugin={PageLeave:r},r}(),vr.modules.Pageload=function(){"use strict";var e={init:;return window.SensorsDataWebJSSDKPlugin&&"[object Object]"===Object.prototype.toString.call(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.PageLoad=window.SensorsDataWebJSSDKPlugin.PageLoad||e:window.SensorsDataWebJSSDKPlugin={PageLoad:e},e}(),vr.modules.RegisterProperties=function(){"use strict";ototype.init=function(){},i.prototype.init=i.prototype.register=i.prototype.hookRegister=var n=new i;return n.__constructor__=i,window.SensorsDataWebJSSDKPlugin&&"[object Object]"===Object.prototype.toString.call(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.RegisterProperties=window.SensorsDataWebJSSDKPlugin.RegisterProperties||n:window.SensorsDataWebJSSDKPlugin={RegisterProperties:n},n}(),vr.modules.RegisterPropertyPageHeight=function(){"use strict";ar t,r,i=window.console&&window.console.log||function(){},n={init:;return window.SensorsDataWebJSSDKPlugin&&"[object Object]"===Object.prototype.toString.call(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.RegisterPropertyPageHeight=window.SensorsDataWebJSSDKPlugin.RegisterPropertyPageHeight||n:window.SensorsDataWebJSSDKPlugin={RegisterPropertyPageHeight:n},n}(),function(){"use strict";var e={};e.getPart=e.getPartHash=e.getCurrenId=e.rewriteUrl=e.getUrlId=e.setRefferId=e.addListen=e.init=window.SensorsDataWebJSSDKPlugin&&"[object Object]"===Object.prototype.toString.call(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.SiteLinker=window.SensorsDataWebJSSDKPlugin.SiteLinker||e:window.SensorsDataWebJSSDKPlugin={SiteLinker:e}}(),vr.modules.AndroidBridge=function(){"use strict";function e(e){return _&&_.call(p,JSON.stringify(e))}function t(e){return f.call(p)&&g&&g.call(p,JSON.stringify(e))}function r(e,t){return t&&"function"==typeof t[e.callType]&&t[e.callType]()} s,o,l,c,u,d,p=window.SensorsData_App_Visual_Bridge,f=p&&p.sensorsdata_visualized_mode,_=p&&p.sensorsdata_visualized_alert_info,g=p&&p.sensorsdata_hover_web_nodes,h={isVerify:function(){return f&&(f===!0||f.call(p))},commands:{app_alert:e,visualized_track:t,page_info:t,sensorsdata_get_app_visual_config:r}},m={init:function(e){c=e,u=c&&c._,d=c&&c.log||console&&console.log||function(){},c.on&&c.on("sdkAfterInitPara",i)},handleCommand:a};return window.SensorsDataWebJSSDKPlugin&&"[object Object]"===Object.prototype.toString.call(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.AndroidBridge=window.SensorsDataWebJSSDKPlugin.AndroidBridge||m:window.SensorsDataWebJSSDKPlugin={AndroidBridge:m},m}(),vr.modules.AndroidObsoleteBridge=function(){"use strict";tion n(e,t){if(u.para.app_js_bridge.is_mui)return e;var r=e.callback;if(l){var i=l&&l.call(s,JSON.stringify(d.extend({server_url:u.para.server_url},e.data)));return i?(d.isFunction(r)&&r(),t.cancellationToken.cancel(),e):u.para.app_js_bridge.is_send?(u.debug.apph5({data:e.data,step:"3.1",output:"all"}),e):(d.isFunction(r)&&r(),t.cancellationToken.cancel(),e)}return o&&o.call(s,JSON.stringify(d.extend({server_url:u.para.server_url},e.data))),d.isFunction(r)&&r(),t.cancellationToken.cancel(),e}ar s,o,l,c,u,d,p,f=window.SensorsData_App_Visual_Bridge,_=f&&f.sensorsdata_visualized_mode,g=f&&f.sensorsdata_visualized_alert_info,h=f&&f.sensorsdata_hover_web_nodes,m={isVerify:commands:{app_alert:e,visualized_track:t,page_info:t,sensorsdata_get_app_visual_config:r}},v={init:function(e){u=e,d=u&&u._,p=u&&u.log||console&&console.log||function(){},u.on&&u.on("sdkAfterInitPara",i)},handleCommand:a};return window.SensorsDataWebJSSDKPlugin&&"[object Object]"===Object.prototype.toString.call(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.AndroidObsoleteBridge=window.SensorsDataWebJSSDKPlugin.AndroidObsoleteBridge||v:window.SensorsDataWebJSSDKPlugin={AndroidObsoleteBridge:v},v}(),vr.modules.IosBridge=function(){"use strict";nction r(e){var t=e.callType;return"page_info"!==t&&"visualized_track"!==t||o.bridge.hasVisualModeBridge()?"sensorsdata_get_app_visual_config"===t?l.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge[t]:s.call(a,JSON.stringify(e)):null}var i,n,a,s,o,l,c,u={init:function(t){o=t,l=o&&o._,c=o&&o.log||console&&console.log||function(){},o.on&&o.on("sdkAfterInitPara",e)},handleCommand:r};return window.SensorsDataWebJSSDKPlugin&&"[object Object]"===Object.prototype.toString.call(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.IOSBridge=window.SensorsDataWebJSSDKPlugin.IOSBridge||u:window.SensorsDataWebJSSDKPlugin={IOSBridge:u},u}(),vr.modules.IosObsoleteBridge=function(){"use strict";ction i(e,t){f(n.para.app_js_bridge.is_mui)return e;var i=e.callback;if(n.bridge.bridge_info.verify_success){var s=document.createElement("iframe"),o=r(e.data);return s.setAttribute("src",o),document.documentElement.appendChild(s),s.parentNode.removeChild(s),s=null,a.isFunction(i)&&i(),t.cancellationToken.cancel(),!0}return n.para.app_js_bridge.is_send?(n.debug.apph5({data:e.data,step:"3.2",output:"all"}),e):(a.isFunction(i)&&i(),t.cancellationToken.cancel(),e)}var n,a,s,o={init:function(t){n=t,a=n&&n._,s=n&&n.log||console&&console.log||function(){},n.on&&n.on("sdkAfterInitPara",e)}};return window.SensorsDataWebJSSDKPlugin&&"[object Object]"===Object.prototype.toString.call(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.IOSObsoleteBridge=window.SensorsDataWebJSSDKPlugin.IOSObsoleteBridge||o:window.SensorsDataWebJSSDKPlugin={IOSObsoleteBridge:o},o}(),vr.modules.Utm=function(){"use strict";var e,t="utm_source utm_medium utm_campaign utm_content utm_term",r={init:function(r){&&!e&&(e=r,e.on&&e.on("sdkAfterInitPara",function(){e.registerInterceptor("businessStage",{getUtmData:{priority:0,entry:})}))}};return window.SensorsDataWebJSSDKPlugin&&"[object Object]"===Object.prototype.toString.call(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.Utm=window.SensorsDataWebJSSDKPlugin.Utm||r:window.SensorsDataWebJSSDKPlugin={Utm:r},r}(),vr.use("AndroidBridge"),vr.use("IOSBridge"),vr.use("AndroidObsoleteBridge"),vr.use("IOSObsoleteBridge"),vr.use("Utm"),"string"==typeof window.sensorsDataAnalytic201505?(vr.para=window[sensorsDataAnalytic201505].para,vr._q=window[sensorsDataAnalytic201505]._q,window[sensorsDataAnalytic201505]=vr,window.sensorsDataAnalytic201505=vr,vr.init()):"undefined"==typeof window.sensorsDataAnalytic201505?window.sensorsDataAnalytic201505=vr:Wi=window.sensorsDataAnalytic201505}catch(Mi){if("object"==typeof console&&console.log)try{console.log(Mi)}catch(Vi){vr.log(Vi)}}var Fi=Wi;return Fi});