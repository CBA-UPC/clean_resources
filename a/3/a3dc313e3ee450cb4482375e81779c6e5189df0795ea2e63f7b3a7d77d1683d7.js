(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[9172],{59172:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>y});var n=t(76955),o=t(92162),a=t.n(o),i=t(66948),u=t(85819),l=t(57275),c=t(51650),s=t(64439),f=t(93064),p=t(46656);const y=(0,i.$j)((e=>({shouldFetchApproachTypes:(0,p.q)([s.h.LOADING,s.h.SUCCESS],(0,f.q)(e))})))((e=>{var{useDispatch:r=u.I,useRouter:t=c.tv}=e,o=r(),{match:{params:i},location:s}=t(),{amebaId:f}=i;return(0,n.useEffect)((()=>{var e=a()(();return window.addEventListener("scroll",e,{passive:!0,once:!0}),),[f,o,s.pathname]),null}))},85819:(e,r,t)=>{"use strict";t.d(r,{I:()=>o});var n=t(66948),o=,57275:(e,r,t)=>{"use strict";t.d(r,{z:()=>T,uy:()=>I});var n=t(41185),o=t(66062),a=t(22811),i=t(18274),u=t(55752),l=t.n(u),c=t(5953),s=t.n(c),f=t(85940),p=t(85029),y=t(89702);function d(){return(d=(0,o.Z)((function*(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,t=Object.assign(Object.assign({},e),e.blogger_ameba_id?null:{blogger_ameba_id:""}),n=yield(0,y.Z)("getRaichoSpot",t,r);return n.data}))).apply(this,arguments)}var v=t(37870),m=t(9325),b=t(70317),h=t(90926),g=t(30434);r _=e=>({type:g.wY,payload:{attributes:e}});function O(){var e=window.localStorage.getItem(f.cc)||"[]";try{e=JSON.parse(e)}catch(r){e=[]}return e}function k(e){window.localStorage.setItem(f.cc,JSON.stringify(e))}(0,i.H)((e=>function(){var r=(0,o.Z)((function*(r,t){try{var n=JSON.parse(window.localStorage.getItem(f.oX)),o=(0,v.ZM)(l()(t(),["landingState","referrer"],null)),a=l()(t(),["bloggerState","bloggerMap",e,"attribute","isOfficial"],!0)?f.yT:f.DB,i=n?n.value:f.Xx,u=-1!==O().indexOf(e)?f.qq:f.C3,c=(0,m.nk)()%f.l4;return r(_(S(S({},i),{},{[f.ej]:a,[f.BB]:o,[f.nw]:u,[f.jm]:c})))}catch(s){return null}}));return function(e,t){return r.apply(this,arguments)}}())),(0,i.H)((()=>function(){var e=(0,o.Z)((function*(e,r){try{var t=l()(r(),["approachTypes","attributes"],{}),n=JSON.parse(window.localStorage.getItem(f.oX)),o=n?n.value:{};return e(_(S(S({},t),o)))}catch(a){return null}}));return function(r,t){return e.apply(this,arguments)}}()));var j=()=>a.parse(document.cookie).P||null,I=T=(0,i.H)((e=>function(){var r=(0,o.Z)((function*(r,t){var{landingState:n}=t();try{if(!I())return null;r({type:g.xA});var o=t(),a=l()(n,["blogger","amebaId"]),i=l()(n,["referrer"]),u=l()(o,["deviceState","osName"],""),c={token:(0,p.R)(o),spot:"GK8VhR89",rver:1,uid:{lance:j()},blogger_ameba_id:e,landing_blogger_ameba_id:a,landing_route:i,os:u.toLowerCase()},y=yield c);if(!y||200!==y.status)throw new Error("Failed fetchApproachTypesRequest");var v=l()(y,["userAttr"],{}),{status:m,errMessage:w,classified:_}=v;if(200!==m)throw new Error(w);var T=s()(_,(e=>{var r=Number(e);return Number.isNaN(r)?e:r}));yield r((0,h.wn)());var A={[f.nl]:(0,b.jl)(t())?f.H:f._r};window.localStorage.setItem(f.oX,JSON.stringify({value:S(S({},T),A)}));var P=O(),E=T[f.PE],M=P.indexOf(e);return E===f.JX&&-1===M?k(P=[...P,e]):E!==f.JX&&-1!==M&&(P.splice(M,1),k(P)),r({type:g.tG})}catch(x){return r({type:g.If})}}));return function(e,t){return r.apply(this,arguments)}}()))},90926:(e,r,t)=>{"use strict";t.d(r,{h$:()=>_,wn:()=>S,kS:()=>O});var n=t(66062),o=t(18274),a=t(92189),i=t.n(a),u=t(4705),l=t.n(u),c=t(55752),s=t.n(c),f=t(89702);function p(){return(p=(0,n.Z)((function*(){return(yield(0,f.Z)("generateToken",{})).data}))).apply(this,arguments)}unction d(){return(d=(0,n.Z)((function*(e){return(yield(0,f.Z)("checkAmebloToken",{token:e})).data}))).apply(this,arguments)}var v=t(73614),m=t(87615),b=t(70317),h=t(51075),g=w=S=(0,o.H)((()=>function(){var e=(0,n.Z)((function*(e,r){var{userState:t,amebloTokenState:n}=r();if(t.userAttribute)return null;try{if(n.amebloToken){var o=yield i()({times:3},l()(());if(o&&1===o.member)return e(w(o))}var a=yield );if(!a)throw new Error("generate token error.");var u=a.ameblo_token,c=[];if(u){var s=yield i()({times:3},l()(());s&&1===s.member?c.push(e(w(s))):c.push(e(g()))}else c.push(e(g()));return c.push(e(((u,a.ameblo_one_time_token))),Promise.all(c)}catch(f){return e((e=>({type:h.VF,payload:{error:e},error:!0}))(f))}}));return function(r,t){return e.apply(this,arguments)}}()));var _=(0,o.H)((()=>function(){var e=(0,n.Z)((function*(e,r){var t=s()(r(),["userState","sessionUser","amebaId"],"");if(void 0===s()(r(),["userState","userAttribute","member"])&&(yield e(S())),!(!t&&(0,b.jl)(r())))return null;try{var n=s()(r(),["amebloTokenState","amebloToken"],""),o=yield n);if(!o)return null;if(o.error)throw new Error(o.error);var a=(o.session_user||{}).ameba_id||"";if(!a)return null;yield e((0,v.Rs)(a));var i=s()(r(),["bloggerState","bloggerMap",a],{});return e({amebaId:a,profile_image:i.profile.image_filepath,nickname:i.profile.nickname,is_official:!!i.official}))}catch(u){return e(function(e){return{type:h.gt,payload:{error:e},error:!0}}(u))}}));return ())),O=(0,o.H)((()=>(e,r)=>{if((0,b.jl)(r())){e({type:h.dk}),e({type:h.W});try{var t="amebloTokenState",n=JSON.parse(window.localStorage[m.Uf]||"{}");if(!n[t])return;delete n[t],window.localStorage.setItem(m.Uf,JSON.stringify(n))}catch(o){console.warn(o)}}}))},85029:(e,r,t)=>{"use strict";t.d(r,{R:);var n=t(55752),o=t.n(n),a=e=>o()(e,["amebloTokenState","amebloToken"],"")},4705:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if((0,a.isAsync)(e))return function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];var o=t.pop(),a=e.apply(this,t);return u(a,o)};return(0,n.default)(()};var n=i(t(30060)),o=i(t(54942)),a=t(77190);xports=r.default},30060:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];var o=t.pop();return e.call(this,t,o)}},e.exports=r.default},55380:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=Symbol("promiseCallback");r.promiseCallback=function(){var e,r;function n(t){if(t)return r(t);for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];e(o.length>1?o:o[0])}return n[t]=new Promise((),n},r.PROMISE_SYMBOL=t},54942:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fallback=a,r.wrap=i;var t,n=r.hasSetImmediate="function"==typeof setImmediate&&setImmediate,o=r.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;unction i(e){return function(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e(()}}t=n?setImmediate:o?process.nextTick:a,r.default=i(t)},77190:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isAsyncIterable=r.isAsyncGenerator=r.isAsync=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(t(4705));.default=r.isAsync=o,r.isAsyncGenerator=r.isAsyncIterable=,92189:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,r,t){var u={times:5,intervalFunc:a(0)};arguments.length<3&&"function"==typeof e?(t=r||(0,o.promiseCallback)(),r=e):(i(u,e),t=t||(0,o.promiseCallback)());if("function"!=typeof r)throw new Error("Invalid arguments for async.retry");var l=(0,n.default)(r),c=1;function s(){l((function(e){if(!1!==e)if(e&&c++<u.times&&("function"!=typeof u.errorFilter||u.errorFilter(e)))setTimeout(s,u.intervalFunc(c-1));else{for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];t(e,...n)}}))}return s(),t[o.PROMISE_SYMBOL]};var n=t(77190)),o=t(55380);unction i(e,r){if("object"==typeof r)e.times=+r.times||5,e.intervalFunc="function"==typeof r.interval?r.interval:a(+r.interval||0),e.errorFilter=r.errorFilter;else{if("number"!=typeof r&&"string"!=typeof r)throw new Error("Invalid arguments for async.retry");e.times=+r||5}}e.exports=r.default},10570:92162:3469:]);