(self.webpackChunkdt_stardust=self.webpackChunkdt_stardust||[]).push([[318],{86:function(){unction(){"use strict";var e=window,r=e.DTLogger,n=e.DTOptions,u=e.fetch,a=n.get("default-list-key","dt-post-pool",""),o=n.get("lists","dt-post-pool",{}),s=n.get("blacklist","dt-post-pool",[]),i=n.get("ajaxurl","global",""),c=function(){var e=t(regeneratorRuntime.mark((function e(){var t,r,n,u,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:1,r=i.length>1&&void 0!==i[1]?i[1]:"",n=o[r||a]){e.next=5;break}return e.abrupt("return",[]);case 5:return e.next=7,d(n,t,s);case 7:return u=e.sent,l(u.map((function(e){return e.id}))),e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=t(regeneratorRuntime.mark((function e(){var t,r,n,u,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:1,r=i.length>1&&void 0!==i[1]?i[1]:"",n=o[r||a]){e.next=5;break}return e.abrupt("return",[]);case 5:return e.next=7,d(n,t,s);case 7:return u=e.sent,e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=t(regeneratorRuntime.mark((function e(){var t,r,n,u,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:1,r=s.length>1&&void 0!==s[1]?s[1]:"",n=o[r||a]){e.next=5;break}return e.abrupt("return",[]);case 5:return e.next=7,d(n,t);case 7:return u=e.sent,l(u.map(()),e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=t(regeneratorRuntime.mark((function e(){var t,r,n,u,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:1,r=s.length>1&&void 0!==s[1]?s[1]:"",n=o[r||a]){e.next=5;break}return e.abrupt("return",[]);case 5:return e.next=7,d(n,t);case 7:return u=e.sent,e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})));return (),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];[].concat(e).map(().filter(().forEach(()},d=function(){var e=t(regeneratorRuntime.mark((function e(t,r){var n,u,a,o,s,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>2&&void 0!==i[2]?i[2]:[],u=r+n.length,!(t.posts.length<u)){e.next=5;break}return e.next=5,v(t,u-t.posts.length);case 5:a=[],o=0,s=t.posts.length;case 7:if(!(o<s)){e.next=14;break}if(!(a.length>=r)){e.next=10;break}return e.abrupt("break",14);case 10:-1===n.indexOf(t.posts[o].id)&&a.push(t.posts[o]);case 11:o++,e.next=7;break;case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})));return (),v=function(){var e=t(regeneratorRuntime.mark((function e(t){var r,n,u,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:0,!t.exhausted){e.next=3;break}return e.abrupt("return");case 3:return n=Math.max(r,t.limit),e.next=6,g(t.key,n,t.offset,t.fetchDetails);case 6:(u=e.sent).length<n&&(o[t.key].exhausted=!0),o[t.key].offset+=u.length,u.forEach(();case 10:case"end":return e.stop()}}),e)})));return (),g=function(){var e=t(regeneratorRuntime.mark((function e(t,n,a,o){var s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u("".concat(i,"?action=dt_post_pool_get_posts"),{body:JSON.stringify({fetchDetails:o,listKey:t,limit:n,offset:a}),cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},method:"POST"});case 3:if(200===(s=e.sent).status){e.next=6;break}throw new Error("Got a ".concat(s.status," response from fetch."));case 6:return e.next=8,s.json();case 8:return c=e.sent,e.abrupt("return",c.posts||[]);case 12:return e.prev=12,e.t0=e.catch(0),r.noticeError(e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return ();window.DTPostPool={burn:l,first:h,need:f,peek:p,pop:c}}()}}]);