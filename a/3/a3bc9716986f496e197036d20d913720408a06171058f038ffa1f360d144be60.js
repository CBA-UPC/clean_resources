(window.webpackJsonp=window.webpackJsonp||[]).push([[18,224,225,226,227,228,229,230],{"/bTS":function(t,e,i){"use strict";i.r(e),i.d(e,"SelectAccountDefaultModule",(function(){return tt}));var c,n=i("ofXK"),s=i("snw9"),o=i("kt0X"),a=i("fXoL"),r=i("0pYR"),u=i("GJmQ");!function(t){let e;!e=t.Types||(t.Types={})),t.GetConfiguration=class{constructor(){this.type=e.GetConfiguration}},t.GetConfigurationSuccess=class{constructor(t){this.payload=t,this.type=e.GetConfigurationSuccess}},t.GetConfigurationFailed=class{constructor(t){this.payload=t,this.type=e.GetConfigurationFailed}},t.SelectSubscription=class{,t.SelectSubscriptionSuccess=class{constructor(){this.type=e.SelectSubscriptionSuccess}},t.Reset=(c||(c={}));var p,b=i("DyLw");!function(t){const e=Object(o.o)("selectAccountState");t.getLoadingState=Object(o.p)(e,t=>t.loading),t.getLoadingConfigurationState=Object(o.p)(e,t=>t.loadingConfiguration),t.getConfiguration=Object(o.p)(e,t=>t.configuration),t.getCMSPageData=Object(o.p)(e,t=>t.cmsData),t.getMessages=Object(o.p)(e,t=>t.messages),t.getCMSContents=Object(o.p)(t.getCMSPageData,,t.getProcessingSubscriptionState=Object(o.p)(e,,t.getCMSContentById=Object(b.a)(t.getCMSContents)}(p||(p={}));let l=(()=>{class t extends r.a{constructor(t,e){super(),this.store=t,this.actions$=e,this.onGetConfigurationSuccess=new a.n,this.setFacadeActive(),this.configureSelectors(),this.setUpOutputEvents()}resetState(){this.store.dispatch(new c.Reset)}getConfiguration(){this.store.dispatch(new c.GetConfiguration)}electSubscriptionSuccessonfigureSelectors(){this.getCMSContent$=this.store.pipe(Object(u.a)(()=>this.facadeActive),Object(o.q)(p.getCMSContentById)),this.getLoadingState$=this.store.pipe(Object(u.a)(()=>this.facadeActive),Object(o.q)(p.getLoadingState)),this.getLoadingConfiguration$=this.store.pipe(Object(u.a)(()=>this.facadeActive),Object(o.q)(p.getLoadingConfigurationState)),this.getProcessingSubscriptionState$=this.store.pipe(Object(u.a)(()=>this.facadeActive),Object(o.q)(p.getProcessingSubscriptionState)),this.getMessages$=this.store.pipe(Object(u.a)(()=>this.facadeActive),Object(o.q)(p.getMessages)),this.getConfiguration$=this.store.pipe(Object(u.a)(()=>this.facadeActive),Object(o.q)(p.getConfiguration))}setUpOutputEvents(){this.actions$.pipe(Object(s.d)(c.Types.GetConfigurationSuccess)).pipe(Object(u.a)(()=>this.facadeActive)).subscribe(}}return t.\u0275fac=t.\u0275dir=a.Jb({type:t,outputs:{onGetConfigurationSuccess:"onGetConfigurationSuccess"},features:[a.yb]}),t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac}),t})();var g=i("IzEk");let d=(()=>{class t{esolve(t){return new Promise((t,e)=>{this.facade.setFacadeActive(),this.facade.getConfiguration$.pipe(Object(g.a)(1)).subscribe(e=>{null==e?(this.facade.getConfiguration(),this.facade.onGetConfigurationSuccess.pipe(Object(u.a)().subscribe():t(e)})})}}return t.\u0275fac=function(e){return new(e||t)(a.cc(l))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac}),t})();var f=i("Ygcj"),h=i("LRne"),S=i("eIep"),y=i("lJxs"),v=i("JIr8"),A=i("+50J"),O=i("0Aht"),j=i("ScbL");let m=(()=>{class t extends j.a{getConfiguration(){return this.executeGet(`${A.a.Application.Configuration}/${O.a.Selectaccount}`)}}return t.\u0275fac=t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac}),t})();const C=a.Wb(m);var $=T=let w=(()=>{class t{constructor(t,e){this.selectAccountService=t,this.actions$=e,this.onGetConfiguration$=this.actions$.pipe(Object(s.d)(c.Types.GetConfiguration),Object(S.a)(t=>this.selectAccountService.getConfiguration().pipe(Object(y.a)(,Object(v.a)(t=>Object(h.a)(new c.GetConfigurationFailed(t.error.messages)))))),this.onSelectAccount$=this.actions$.pipe(Object(s.d)(c.Types.SelectSubscription),Object(y.a)(t=>new f.a.SetupSelectedSubscription(t.payload)))}}return t.\u0275fac=t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac}),$([Object(s.b)(),T("design:type",Object)],t.prototype,"onGetConfiguration$",void 0),$([Object(s.b)(),T("design:type",Object)],t.prototype,"onSelectAccount$",void 0),t})();var P;!function(t){const e={loading:!1,loadingConfiguration:!1,processingSubscription:0,messages:[],configuration:null,cmsData:{contents:[],faqs:[],benefits:[],slideshows:[],notifications:[],menus:[]}};t.reducer=function(t=e,i){switch(i.type){case c.Types.Reset:return function(t,e){return Object.assign(Object.assign({},t),{loading:!1,processingSubscription:0,messages:[]})}(t);case c.Types.GetConfiguration:return function(t,e){return Object.assign(Object.assign({},t),{loadingConfiguration:!0})}(t);case c.Types.GetConfigurationSuccess:return function(t,e){return Object.assign(Object.assign({},t),{loadingConfiguration:!1,configuration:Object.assign(Object.assign({},t.configuration),e.payload.configuration),cmsData:Object.assign(Object.assign({},t.cmsData),e.payload.cmsPageData)})}(t,i);case c.Types.GetConfigurationFailed:return function(t,e){return Object.assign(Object.assign({},t),{loadingConfiguration:!1,messages:e.payload})}(t,i);case c.Types.SelectSubscription:return t,i);case c.Types.SelectSubscriptionSuccess:return function(t,e){return Object.assign(Object.assign({},t),{processingSubscription:0})}(t);default:return t}}}(P||(P={}));var F=i("hF6A"),k=i("tyNb"),U=i("34qd"),M=i("oLe9"),G=i("5coP"),I=i("kD8U"),B=i("mcv2"),L=i("P0/7"),R=i("sBzQ"),D=i("2mK1"),x=i("+HC3"),E=i("8xq8"),N=i("iXTr"),q=i("U1WU"),K=i("XDBa"),z=i("oW1M"),J=i("KsC+"),V=i("U/+7"),X=i("23eO");function Q(t,e){if(1&t&&(a.Ub(0,"button",20),a.Nc(1),a.jc(2,"async"),a.Tb()),2&t){const t=a.ic(2);a.Bb(1),a.Oc(a.kc(2,1,t.contents$)("ShowMoreButton").html)}}function H(t,e){if(1&t&&(a.Ub(0,"button",20),a.Nc(1),a.jc(2,"async"),a.Tb()),2&t){const t=a.ic(2);a.Bb(1),a.Oc(a.kc(2,1,t.contents$)("ShowLessButton").html)}}function W(t,e){if(1&t){const t=a.Vb();a.Ub(0,"accordion-group",null,6),a.Ub(2,"div",7),a.Ub(3,"div",8),a.Ub(4,"div",9),a.Pb(5,"form-text",10),a.jc(6,"async"),a.Tb(),a.Ub(7,"div",9),a.Pb(8,"form-text",10),a.jc(9,"async"),a.Tb(),a.Ub(10,"div",11),a.Pb(11,"form-text",10),a.jc(12,"async"),a.Tb(),a.Ub(13,"div",9),a.Pb(14,"form-text",10),a.jc(15,"async"),a.Tb(),a.Ub(16,"div",12),a.Ub(17,"div",13),a.Lc(18,Q,3,3,"button",14),a.Lc(19,H,3,3,"button",14),a.Tb(),a.Ub(20,"div",15),a.Ub(21,"button",16),a.gc("click",(function(i){a.Cc(t);const c=e.$implicit;return a.ic().submit(i,c.subscriptionId)})),a.jc(22,"async"),a.jc(23,"async"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(24,"div",17),a.Ub(25,"div",18),a.Pb(26,"form-text",10),a.jc(27,"async"),a.Tb(),a.Ub(28,"div",19),a.Pb(29,"form-text",10),a.jc(30,"async"),a.Tb(),a.Tb(),a.Tb()}if(2&t){const t=e.$implicit,i=a.Ac(1),c=a.ic();a.Bb(5),a.oc("label",a.kc(6,16,c.contents$)("SelectAccount.AccountLabel"))("value",t.accountNumber),a.Bb(3),a.oc("label",a.kc(9,18,c.contents$)("SelectAccount.NameLabel"))("value",t.firstName+" "+t.lastName),a.Bb(3),a.oc("label",a.kc(12,20,c.contents$)("SelectAccount.PublicationLabel"))("value",t.publication),a.Bb(3),a.oc("label",a.kc(15,22,c.contents$)("SelectAccount.DeliveryDaysLabel"))("value",t.serviceType),a.Bb(4),a.oc("ngIf",!i.isOpen),a.Bb(1),a.oc("ngIf",i.isOpen),a.Bb(2),a.oc("processing",a.kc(22,24,c.processingSubscription$)(t.subscriptionId))("text",a.kc(23,26,c.contents$)("SubmitButtonText")),a.Bb(5),a.oc("label",a.kc(27,28,c.contents$)("SelectAccount.AddressLabel"))("value",t.address),a.Bb(3),a.oc("label",a.kc(30,30,c.contents$)("SelectAccount.IsEzPayLabel"))("value",t.isEzPay)}}const Y=[{path:"",component:(()=>{class t extends B.a{constructor(t,e,i,c,n,s){super(),this.selectAccountFacade=t,this.sessionFacade=e,this.navigationService=i,this.notificationService=c,this.seoService=n,this.tenantIdentifier=s,this.componentActive=!0,this.preInitialize()}ngOnInit(){this.initialize(),this.seoService.createLinkForCanonicalURL(!0),this.seoService.updateMetaTags(""),this.seoService.updateTitle("")}ubmit(t,e){if(!e)return;this.selectAccountFacade.selectSubscription(e),t.stopPropagation();let i=!0;this.sessionFacade.onSetupSelectedSubscriptionFinished.pipe(Object(u.a)().subscribe(t=>{i=!1,this.checkSubscriptionAndRedirect(t)})}nitialize(){this.loading=!0;const t=this.navigationService.getPageRouteParamValueByName(G.a.selectaccount,I.f.ReturnLink);this.redirectPath=t||G.a.dashboard,""!=t&&(this.redirectPath=t),this.configureSelectors(),this.configureNotifications()}checkSubscriptionAndRedirect(t){var e=t.newspaperInfo.paperCode.toLowerCase();this.configuration.allowRedirectRestart&&t.statusInfo.isStopped&&(this.redirectPath=G.a.subscriptionrestart),this.selectAccountFacade.selectSubscriptionSuccess(),this.loading=!1;const i=this.navigationService.getFromQueryStringByKey(I.f.RewardId);this.navigationService.navigateTo(this.redirectPath,[],null!=i?`${I.f.RewardId}=${i}`:null,e)}configureSelectors(){this.contents$=this.selectAccountFacade.getCMSContent$.pipe(Object(u.a)(()=>this.componentActive)),this.loading$=this.selectAccountFacade.getLoadingState$.pipe(Object(u.a)(()=>this.componentActive)),this.loadingConfiguration$=this.selectAccountFacade.getLoadingConfiguration$.pipe(Object(u.a)(()=>this.componentActive)),this.messages$=this.selectAccountFacade.getMessages$.pipe(Object(u.a)(()=>this.componentActive)),this.processingSubscription$=this.selectAccountFacade.getProcessingSubscriptionState$.pipe(Object(u.a)(()=>this.componentActive)),this.sessionState$=this.sessionFacade.getSession$.pipe(Object(u.a)(()=>this.componentActive)),this.subscriptionInfo$=this.sessionFacade.getSubscriptionInfo$.pipe(Object(u.a)(()=>this.componentActive)),this.configuration$=this.selectAccountFacade.getConfiguration$.pipe(Object(u.a)(()=>this.componentActive)),this.configuration$.pipe(Object(u.a)(()=>this.componentActive)).subscribe(t=>{this.configuration=t,this.sessionState$.pipe(Object(u.a)(()=>this.componentActive)).subscribe(t=>{if(t.subscriptionInfo&&1===t.subscriptionInfo.length)return t.subscription?void this.checkSubscriptionAndRedirect(t.subscription):(this.selectAccountFacade.selectSubscription(t.subscriptionInfo[0].subscriptionId),void(this.loading=!1));this.loading=!1})})}configureNotifications(){this.messages$.pipe(Object(u.a)().subscribe(t=>{this.notificationService.showMessages(t,"Select Account",this.contents$)})}}return t.\u0275fac=t.\u0275cmp=a.Ib({type:t,selectors:[["ng-component"]],features:[a.yb],decls:10,vars:14,consts:[[3,"loading"],["page-title","",3,"CMSContent"],["page-sub-title","",3,"CMSContent"],["no-gutters",""],["hoverable","","is","12",3,"isAnimated","closeOthers"],[4,"ngFor","ngForOf"],["panel",""],["accordion-heading",""],["wrap","",1,"row","accordion-header-title"],["is","6","wide-is","2"],["plaintext","",3,"label","value"],["is","6","wide-is","3"],["is","6","middle","","wide-is","3"],["is","6","wide-is","4"],["link","","primary","","block","","class","pr-1",4,"ngIf"],["is","6","wide-is","8"],["primary","","block","",1,"buttonManage",3,"processing","text","click"],["wrap","","middle","",1,"row"],["is","12","desktop-is","6"],["is","6","desktop-is","6"],["link","","primary","","block","",1,"pr-1"]],template:function(t,e){1&t&&(a.Ub(0,"page",0),a.jc(1,"async"),a.Pb(2,"section",1),a.jc(3,"async"),a.Pb(4,"section",2),a.jc(5,"async"),a.Ub(6,"section",3),a.Ub(7,"accordion",4),a.Lc(8,W,31,32,"accordion-group",5),a.jc(9,"async"),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.oc("loading",e.loading||a.kc(1,6,e.loading$)),a.Bb(2),a.oc("CMSContent",a.kc(3,8,e.contents$)("Title")),a.Bb(2),a.oc("CMSContent",a.kc(5,10,e.contents$)("Description")),a.Bb(3),a.oc("isAnimated",!0)("closeOthers",!0),a.Bb(1),a.oc("ngForOf",a.kc(9,12,e.subscriptionInfo$)))},directives:[N.a,q.a,K.b,z.a,n.l,z.c,K.g,J.a,n.m,V.a,X.a,K.a],pipes:[n.b],encapsulation:2,data:{animation:[M.a.animations,U.a.animations]}}),t})(),resolve:[d]}];let Z=(();const _=[o.j.forFeature("selectAccountState",P.reducer),s.c.forFeature([w])];let tt=(()=>{class t{return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:providers:[m,l,d],imports:[[n.c,F.a,_,Z]]}),t})()},"0Aht":"34qd":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var c=i("R0Ic");let n=(()=>{class t{static getAnimations(){return[Object(c.j)("CollapseAnimation",[Object(c.i)(":enter",[Object(c.h)({height:0,opacity:0}),Object(c.e)(150,Object(c.h)({height:"*",opacity:1}))]),Object(c.i)(":leave",[Object(c.e)(150,Object(c.h)({height:0,opacity:0}))])])]}}return t.animations=t.getAnimations(),t})()},KNAk:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var c={})},mcv2:function(t,e,i){"use strict";i.d(e,"a",();var c=i("fXoL");let n=(()=>{class t{return t.\u0275fac=t.\u0275dir=c.Jb({type:t}),t})()}}]);