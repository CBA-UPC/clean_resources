!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[5412],{31569:(e,d,t)=>{t.d(d,{Z:()=>i});var a=t(5754),r=t.n(a);let n={sidebarItem:"FZkjV",hasRightSlotItem:"I1qRl",sidebarTitle:"hF8Wr",headerWithRightSlot:"shOJA"};var l=t(2629);let i=e=>{var d=e.className,t=e.title,a=e.titleClassName,i=e.children,o=e.titleRightSlot;return(0,l.jsxs)("div",{className:r()(n.sidebarItem,d,{[n.hasRightSlotItem]:o}),children:[(0,l.jsxs)("div",{className:r()({[n.headerWithRightSlot]:o}),children:[t&&(0,l.jsx)("h1",{className:r()(n.sidebarTitle,a),children:t}),o]}),i]})}},56968:(e,d,t)=>{t.r(d),t.d(d,{default:()=>O});var a=t(33970),r=t.n(a),n=t(5754),l=t.n(n),i=t(95004),o=t(54382),s=t(32415),u=t(43523),c=t(84976),p=t(78667),v=t(12736),m=t(31569),A=t(73850),f=t(54138),_=t.n(f),b=t(85394),I=t(22979),g=t(22424),h=t(2629),E=e=>{var d=e.FallbackAdComponent,t=e.fallbackAdProps,a=e.onPeepr,n=(0,g.wL)().logEvent,l=(0,i.useRef)(0),o=(0,i.useState)("initializing"),s=r()(o,2),c=s[0],p=s[1],v="prebid_rightrail",m=A=e=>{n({eventName:u.J.PrebidAdFilled,eventDetails:{slotId:v,event:e}})},f=()=>{n({eventName:u.J.PrebidAdUnfilled,eventDetails:{slotId:v}})},E=()=>{var e,d,t,a=m();if(a.length){var r=window;null===(e=r.PWT)||void 0===e||e.removeKeyValuePairsFromGPTSlots(a),null===(d=r.PWT)||void 0===d||d.requestBids(null===(t=r.PWT)||void 0===t?void 0:t.generateConfForGPT(a),function(e){null===(d=r.PWT)||void 0===d||d.addKeyValuePairsToGPTSlots(e);var d,t,a=m();a.length&&(null===(t=r.googletag)||void 0===t||t.pubads().refresh(a))})}};return"empty"!==c&&"error"!==c?(0,h.jsx)(b.ZP,{slotId:v,adUnitId:b.Q9,adSizes:[[300,600],[300,250],[272,340],[256,256],[250,360],[250,250],[160,600],[120,600]],beforeDisplay:()=>{var d,t,a=window;null===(d=a.PWT)||void 0===d||d.requestBids(null===(t=a.PWT)||void 0===t?void 0:t.generateConfForGPT(m()),function(d){var t,r;d.length>0?d.forEach(d=>{if(A(d),v===d.divId){var t,a,r,n,l={adProviderId:I.hZ.Prebid,adId:null==d||null===(t=d.bidData)||void 0===t||null===(t=t.kvp)||void 0===t?void 0:t.hb_adid,advertiserName:null==d||null===(a=d.bidData)||void 0===a||null===(a=a.kvp)||void 0===a?void 0:a.hb_bidder,adBody:null==d||null===(r=d.bidData)||void 0===r||null===(r=r.wb)||void 0===r?void 0:r.adHtml};null===(n=e.updateAdInstance)||void 0===n||n.call(e,l)}}):f(),null===(t=a.PWT)||void 0===t||t.addKeyValuePairsToGPTSlots(d),null===(r=a.googletag)||void 0===r||r.display(v)})},disableAutoDisplay:!0,onPeepr:void 0!==a&&a,onEmpty:()=>{p("empty")},onError:onImpressionViewable:e=>{e.slot.getSlotElementId()==v&&(l.current=window.setTimeout(E,31e3))},onCleanUp:updateAdInstance:e.updateAdInstance}):d?(0,h.jsx)(d,_()({},t)):null},R=t(96834),P=t(92183),w=t(96033),T=(0,i.memo)(e=>(0,h.jsx)(R.ZP,{slotId:"house_rightrail",supplyProviderId:P.E.RIGHT_RAIL,houseAd:!0,logRightRailData:!0,updateAdInstance:e.updateAdInstance})),y=t(36485),N="word-ads-pubmine-script",S={[P.E.RIGHT_RAIL]:101,[P.E.DASHBOARD]:101,[P.E.EXPLORE]:202,[P.E.COMMUNITY_HUB]:203,[P.E.PEEPR_RIGHT_RAIL]:204,[P.E.RIGHT_RAIL_SLIM]:301,[P.E.BLOG_PAGE]:1,[P.E.POST_PERMALINK]:1,[P.E.RECOMMENDED]:1,[P.E.TAKEOVER]:1,[P.E.LOGGED_OUT_LANDING]:1,[P.E.PREMIUM]:1,[P.E.TUMBLR_TV]:1},D={[P.E.RIGHT_RAIL]:101,[P.E.DASHBOARD]:101,[P.E.EXPLORE]:102,[P.E.COMMUNITY_HUB]:103,[P.E.PEEPR_RIGHT_RAIL]:104,[P.E.RIGHT_RAIL_SLIM]:301,[P.E.BLOG_PAGE]:1,[P.E.POST_PERMALINK]:1,[P.E.RECOMMENDED]:1,[P.E.TAKEOVER]:1,[P.E.LOGGED_OUT_LANDING]:1,[P.E.PREMIUM]:1,[P.E.TUMBLR_TV]:1},x=let L=e=>{var d=e.supplyProviderId,t=void 0===d?P.E.RIGHT_RAIL:d,a=e.logRightRailData,r=e.updateAdInstance,n=(0,p.bp)(),l=n.tumblrIponwebUserId,o=n.cspNonce,s=n.wwwBaseUrl,c=n._t,v=n.isLoggedIn,m=n.logEvent,A=n.features,f=x(t),_=window,b=()=>{"undefined"!=typeof __tcfapi&&__tcfapi("ping",2,(e,d)=>{if(d&&e.gdprApplies)return __tcfapi("showUi",2,;window.location.replace((0,y.Z)(`${s}/privacy`,{redirect:window.location.href}))})},g=E=()=>{var e,d=v?D[t]:S[t];A.redpopDesktopVerticalNav&&t!=P.E.PEEPR_RIGHT_RAIL&&(d=D[P.E.RIGHT_RAIL_SLIM]),_.__ATA_PP={pt:d,ht:1,tn:A.redpopDesktopVerticalNav?"tumblr-test":"tumblr",amp:!1,ad:{label:{text:c("Advertisements")},reportAd:{text:c("Report this ad")},privacySettings:{text:c("Privacy"),onClick:b}},siteid:174375630,id_hash:l},null!==(e=_.__ATA)&&void 0!==e&&e.pageParams&&(_.__ATA.pageParams.pt=_.__ATA_PP.pt),_.__ATA||(_.__ATA={cmd:[],criteo:{cmd:[]}})},R=()=>{var e=document.createElement("script");e.src="https://c0.pubmine.com/2.20.01613588427137/head.js",e.id=N,e.nonce=o,document.body.appendChild(e)},w=()=>{var e;null===(e=_.__ATA)||void 0===e||e.cmd.push(()=>{var e,d;null===(e=_.__ATA)||void 0===e||null===(d=e.initDynamicSlot)||void 0===d||d.call(e,{id:f,location:110,formFactor:"002"})})};return(0,i.useEffect)(()=>{E(),w(),a&&m({eventName:u.J.RightRailAdRender,eventDetails:{reason:"word-ads"}}),null==r||r({adProviderId:I.db.IponWeb}),g()||R()},[]),(0,h.jsx)("div",{id:f,className:"RO9wQ"})};var j=e=>{var d,t=e.supplyProviderId,a=void 0===t?P.E.RIGHT_RAIL:t,n=e.updateAdInstance,l=(0,p.bp)().features,o=l.prebidAdRightrail,s=l.rightRailForceWordAdsAd,u=(0,w.d)().isNsfwPostInView,c=(0,i.useRef)({}),v=(0,i.useRef)({}),m=(0,i.useState)(0),A=r()(m,2)[1],f=(0,i.useCallback)(()=>{c.current[a]||(c.current[a]=setTimeout(()=>{c.current[a]=null,v.current[a]=!1,A(},3e4))},[a]),b=(0,i.useCallback)(()=>{c.current[a]&&(clearTimeout(c.current[a]||void 0),c.current[a]=null)},[a]);return((0,i.useEffect)(()=>(!u&&v.current[a]&&f(),b),[u,a,f,b]),u)?(v.current[a]=!0,(0,h.jsx)(T,{updateAdInstance:n})):v.current[a]?(0,h.jsx)(T,{updateAdInstance:n}):(v.current[a]=!1,s)?(0,h.jsx)(L,_()({},e)):o?(d=_()({FallbackAdComponent:R.ZP,fallbackAdProps:_()({FallbackAdComponent:L,fallbackAdProps:_()({},e)},e)},e),(0,h.jsx)(E,_()({},d))):(d=_()({FallbackAdComponent:L},e),(0,h.jsx)(R.ZP,_()({},d)))},C=t(93613),k=t(1337);let G={mrecContainer:"Yc2Sp",usesNewDimensions:"KLXOg",adContainer:"uOpMe",ccpaLink:"Ji4Ux",innerContent:"ilSRe",links:"QUxI1",emptyAdSlot:"u4K7k",emptyAdSlotHeader:"WIwsU",emptyAdSlotNotice:"bneI9",sidebarItemAdMeatballs:"sCA8b"};function M(e){var d=e.reason;return"production"===c.Z.Development?(0,h.jsxs)("div",{className:l()(G.mrecContainer,G.emptyAdSlot),children:[(0,h.jsx)("h3",{className:G.emptyAdSlotHeader,children:"Empty Ad Slot"}),(0,h.jsx)("p",{className:G.emptyAdSlotReason,children:d}),(0,h.jsx)("p",{className:G.emptyAdSlotNotice,children:"Normally this would be an ad, but no ad was provided. This is only for debugging. Empty ad slots do not render in production."})]}):null}let O=e=>{var d,t=e.supplyProviderId,a=e.blog,n=e.onPeepr,c=void 0!==n&&n,f=(0,p.bp)(),_=f._t,b=f._c,I=f.features,g=f.isLoggedIn,E=f.wwwBaseUrl,R=f.logEvent,P=(0,v.z)(),w=P.isPeeprShowing,T=P.isModalShowing,y=(0,s.Pc)().data,N=(0,i.useRef)(null),S=(0,i.useState)(!1),D=r()(S,2),x=D[0],L=D[1],O=(0,C.V)().toggleToast;if((0,i.useEffect)(()=>{var e=function(e,d,t){return e.redpopMrec?e.wordAdsWebAdSource?null!=t&&t.name&&!t.isBrandSafe?"not-brand-safe":null!=t&&t.name&&e.ccpa&&!d?"not-logged-in":"":"wordAdsWebAdSource-disabled":"redpopMrec-disabled"}(I,g,a);e&&R({eventName:u.J.RightRailAdNoRender,eventDetails:{rendered:"false",reason:e}})},[a,I,g,R]),!I.redpopMrec)return(0,h.jsx)(M,{reason:"The redpopMrec feature is disabled."});if(!I.wordAdsWebAdSource)return(0,h.jsx)(M,{reason:"The wordAdsWebAdSource feature is disabled."});if((w||T)&&!c)return(0,h.jsx)(M,{reason:"Peepr or overlay is showing."});if(null!=a&&a.name){if(!a.isBrandSafe)return(0,h.jsx)(M,{reason:"No demand due to brand safety."});if(I.ccpa&&!g)return(0,h.jsx)(M,{reason:"CCPA is active and the user is logged out."})}var U=null==y||null===(d=y.user)||void 0===d?void 0:d.hasTumblrPremium;return x?null:(0,h.jsx)("div",{className:l()(G.mrecContainer,{[G.usesNewDimensions]:!c&&I.redpopDesktopVerticalNav}),children:(0,h.jsx)(m.Z,{title:_("Sponsored"),titleRightSlot:(0,h.jsx)(A.Z,{showAdFree:!U,onAdReported:e=>{(0,k.G)(e,N.current,R,O,b),L(!0)},showReportAd:!0,meatballsClassName:G.sidebarItemAdMeatballs}),children:(0,h.jsxs)("div",{className:G.innerContent,children:[(0,h.jsx)("div",{className:G.adContainer,children:(0,h.jsx)(j,{supplyProviderId:t,logRightRailData:!0,onPeepr:c,updateAdInstance:)}),I.ccpa&&(0,h.jsx)("div",{className:G.links,children:(0,h.jsx)("a",{href:g&&I.ccpaOptOutSwitch?`${E}/settings/privacy`:"https://tumblr.zendesk.com/hc/articles/360041012973",target:"_blank",className:G.ccpaLink,children:(0,h.jsx)(o.ZP,{children:"Do not sell my personal information"})})})]})})})}},1337:(e,d,t)=>{t.d(d,{G:);var a=t(43523);function r(e,d,t,r,n){var l={eventName:a.J.ReportAd,eventDetails:{ad_provider_id:null==d?void 0:d.adProviderId,creative_id:null==d?void 0:d.creativeId,advertiser_id:null==d?void 0:d.advertiserId,campaign_id:null==d?void 0:d.campaignId,ad_id:null==d?void 0:d.adId,complain_reason:e,post_id:null==d?void 0:d.postId,blog_id:null==d?void 0:d.blogId,advertiser_name:null==d?void 0:d.advertiserName,reported_ad_body:null==d?void 0:d.adBody,reported_ad_media_url:null==d?void 0:d.adMediaUrl,reported_ad_title:null==d?void 0:d.adTitle,adomain:null==d?void 0:d.advertiserDomain}};null===d?r(n("A toast message for reporting an ad, but something went wrong when reporting it","Something went wrong. Could not report ad."),"error"):r(n("A toast message for reporting an ad","Thanks for reporting this ad!"),"success"),t(l,{sendPayloadImmediately:!0})}}}]);