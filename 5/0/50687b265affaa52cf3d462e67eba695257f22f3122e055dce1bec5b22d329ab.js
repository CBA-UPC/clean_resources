(self.webpackChunkweb=self.webpackChunkweb||[]).push([[23255],{78554:(e,t,i)=>{"use strict";i.d(t,{d$:()=>o});,23255:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>B});var o=i(67294),s=i(12615),a=i(37974),n=i(29208),r=i.n(n),d=i(68356);const l=i.n(d)()({loader:loading:);class c extends o.Component{var p=i(45948),u=i(61248),m=i(42947),y=i(94829),h=i(33487),w=i(48013),g=i(99408),E=i(54620),f=i(42346);i(33529);ction I({videoMsid:e,divId:t,outsideEventListener:i,nextVideoMsidArray:o=[],store:s,callbackOutside:a,isPrime:n,isUserPrime:r,slikeId:d,livetv:l,isVideoSkipAds:c,isDockingEnabled:p,addToWatched:u,sourceVal:_,allowDimVal:V,showInDimMode:I,videoDataReceivedCallback:S,asyncLoadSdkjs:A,videoChapterId:D,iphonefs:T,sectionName:b,autoPlayLeadVideo:P,muteOnLoad:C,eventsCallbackMap:N,intantiateNewPlayer:O,isPodcast:k,hideControls:L,playlistData:R,videoInloop:U=!1,titleStr:M="",shareUrl:x,headless:$,videoProgressCallback:F,updateplayerConfig:B={},tmplSource:G="",isWapView:j,scrollAutoPlay:W,scrollAutoPause:H,isVideoshow:Y,isEtimes:K,metakeywords:z,bl:q}){const Z=function(...e){"function"==typeof i&&i(...e)},J=function(e){"function"==typeof S&&S(e)},Q=j,X=function(e){if(Q){const t=new Event(w.oM);e&&e.data&&e.data.success&&window.dispatchEvent(t)}},ee=window.location.href.indexOf("sliketesting")>=0,te=window.location.href.indexOf("testads")>=0;window.reason={};const ie={};let oe;ie.VOD_CONF={_default:{showAutoplayButton:!1,nextVideoCounter:5,playlistUrl:"/videpostroll_v8/"},USNHP_MAINVIDEOWIDGET:{showAutoplayButton:!1,nextVideoCounter:5},MG_0:{showAutoplayButton:Q,nextVideoCounter:5,showVolumeSeekBar:!0,showNextPrevButton:!1},ARTICLE_BOTTOM_VIDEOS:{showAutoplayButton:Q,nextVideoCounter:5,playlistUrl:"/videpostroll_v8/"},ELECTION_VIDEOS:{showAutoplayButton:Q,nextVideoCounter:5,playlistUrl:"/videpostroll_v8/"},HP_RHS:{showAutoplayButton:Q,nextVideoCounter:5,playlistUrl:"/videpostroll_v8/"},PRIME_VIDEOSHOW:{showAutoplayButton:Q,nextVideoCounter:5,showVolumeSeekBar:!0},PRIME_TOPVOD:{showVolumeSeekBar:Q,showLastFrame:!0,hideCenterIcon:!0},VIDEOSHOW:{showAutoplayButton:!1,nextVideoCounter:5},ARTICLESHOW_RHS:{showAutoplayButton:Q,nextVideoCounter:5,playlistUrl:"/videpostroll_v8/"},ABOVEARTICLE:{showAutoplayButton:Q,nextVideoCounter:5,playlistUrl:""},ARTICLEEMBED:{showAutoplayButton:Q,nextVideoCounter:5,playlistUrl:"//timesofindia.indiatimes.com/articleshow_vidpostroll/"}},oe=K?Q?"toi371mweb5awm99g9o6":"toi371web5awj999ou6":Q?"toimweb5t9tCpb7nb5q6jUb":"toiweba5ec9705eb7ac2c984033e061";const se={source:_,userInitiated:"1",mediaId:"",chapterId:D,msid:"",slikeApiKey:oe,nextid:o[1],sectionId:"",title:"",agency:"",duration:"",blacklistText:"",bgImage:"https://static.toiimg.com/thumb/imgsize-199425,msid-#MSID#,width-800,resizemode-4/#MSID#.jpg",isVideoInsideBlacklistContent:"0",specialId__hyp1:"",skipAds:"0",volume:80,site:"TOID",playerType:"url",section:function(){let e;return e="string"==typeof b&&h.itj.indexOf(b.toUpperCase())>-1?b:Q?"videos":"video-show",e}(),nextVideoCounter:5,allowDim:V?1:0,seoLocation:"",mediaDate:"",articleId:"",cat:"",subcat:"",metaKeywords:"",akamaiCacheBlockingImg:"https://static.toiimg.com/photo/msid-#MSID#/#MSID#.jpg",articledt:"",breadCrumb:"News.Videos.News",pageType:"VIDEO",hideControls:L,playlistData:R,shareUrl:x,headless:$};ee&&(se.section="hlsads"),te&&(se.section="test"),ie.convertMinutesToMs=function(e){let t=0;if(void 0!==e){const i=e.toString().split(":"),o=60,s=1e3;2===i.length?(t=i[0]*o*s,t+=i[1]*s):1===i.length&&(t=i[0]*o*s)}return t},ie.PlayerUtils=function(){const e="vodPLayer",t=60,i=1e3,o={_getCookie(e){const t=new RegExp(`${e}=([^;]+)`).exec(document.cookie);return null!==t?unescape(t[1]):null},_getData(){let t;try{t=JSON.parse(o._getDataFromSessionStorage(e)||"{}")}catch(e){t={}}return t},_storeData(t,i){if(void 0===t||0===t.trim().length)return;const s=o._getData();let a;s[t]=i;try{a=JSON.stringify(s)}catch(e){return!1}return o._setIntoSessionStorage(e,a),s},_getDataFromSessionStorage(e){let t;try{t=sessionStorage.getItem(e)}catch(e){console.log("sessionStorage error",e)}return t},_setIntoSessionStorage(e,t){if(void 0!==e&&0!==e.trim().length)try{sessionStorage.setItem(e,t)}catch(e){console.log("sessionStorage error",e)}},isTablet(){return e=navigator.userAgent||navigator.vendor||window.opera,/(?:ipad|tab)/i.test(e);var e},_getUserAgent:_getVideoUrl(){let e=`${window.location.protocol}//${window.location.hostname}`;return e+=`/${se.seoLocation}`,e+="/videoshow/",e+=`${se.msid}.cms`,e},_getVideoImg(e){let t=e||se.bgImage||"";const i=se.msid||"",o=new RegExp("#MSID#","g");return t=t.replace(o,i),t},_shouldMarkVideoBLackListedForAds(){const e=se.blacklistText?se.blacklistText.trim():"";return"1"===(se.isVideoInsideBlacklistContent||"")||!!e.length},_getAdsTargetParams(){let e,t="";const i=se.specialId__hyp1;if(o._isParentWindowAccessAllowed()){const{colaud:e}=window.parent;void 0!==e&&(t=e.aud)}return e=t,o._shouldMarkVideoBLackListedForAds()&&(e+=",&BL=1"),"string"==typeof i&&i.length>0&&(e+=`,&hyp1=${i}`),e=decodeURIComponent(e),e},_fireVideoRequestGA(){const e=ie.PubSub,{playerName:t}=ie.player,i={};i.source=se.source,i.stream="CONTENT",i.userInitiated=se.userInitiated||"",i.id=se.msid||"",e.publish(`${t}_EVENTS`,[i,"VIDEOREQUEST"])},_shouldSkipAds(){let e,t,i,o=se.pageType||"";o=o.toUpperCase();try{t=window.parent,i=window.winLoyalusers}catch(e){}return r||t.toiprops&&t.toiprops.toipr&&1===parseInt(t.toiprops.toipr,10)||c||i?e=!0:(e="1"===se.skipAds,e||"VIDEO"===o||(e=!0)),e},_isParentWindowAccessAllowed:()=>!0,_sendDataToParentWindow(e,t){o._isParentWindowAccessAllowed()&&Z(e,t)},_isMute:_checkGdprAndCall(e,t){try{window.TimesGDPR=window.parent.TimesGDPR}catch(e){console.log(e)}window.TimesGDPR&&window.TimesGDPR.common.consentModule.gdprCallback?window.TimesGDPR.common.consentModule.gdprCallback((i=>{i&&i.isEUuser&&"function"==typeof t?t():i.isEUuser||"function"!=typeof e||e()})):"function"==typeof t&&t()},_loadImaSdkForAds(){ie.googleImaJsLoaded=!1,ie.slikeImaWrapperJsLoaded=!1,o._checkGdprAndCall((()=>{(0,f.f)("//imasdk.googleapis.com/js/sdkloader/ima3.js","ima3_sdk_js").then((function(e){ie.googleImaJsLoaded=!0;const t=ie.PubSub;t.publish("googleImaJsLoaded"),function(){const{playerName:i}=ie.player,o={};o.loadStatus=e&&e.type||"",o.source=se.source,o.stream="CONTENT",o.userInitiated=se.userInitiated||"",o.id=se.msid||"",t.publish(`${i}_EVENTS`,[o,"googleImaJsLoaded".toUpperCase()])}()}))}),()},_updateVolume(e,t){const i={value:e,isMute:!!t,updateTime:(new Date).getTime()};ie.PlayerUtils.storeData("volume",i)},_getVolume(){let e={volume:null,isMute:null};const s=o._getData().volume||{},a=30*t*i;return void 0===s||void 0===s.value?e.volume=se.volume:(new Date).getTime()+a<s.updateTime?ie.PlayerUtils.storeData("volume",{}):e={volumeLevel:s.value,isMute:s.isMute},e}};return{isTablet:()=>o._isTablet(),getUserAgent:()=>o._getUserAgent(),getVideoUrl:()=>o._getVideoUrl(),getVideoImg:e=>o._getVideoImg(e),getAdsTargetParams:()=>o._getAdsTargetParams(),fireVideoRequestGA:()=>o._fireVideoRequestGA(),shouldSkipAds:()=>o._shouldSkipAds(),isParentWindowAccessAllowed:()=>o._isParentWindowAccessAllowed(),sendDataToParentWindow:(e,t)=>o._sendDataToParentWindow(e,t),getDataFromWebStorage:e=>o._getDataFromSessionStorage(e),setIntoWebStorage:(e,t)=>o._setIntoSessionStorage(e,t),getData:()=>o._getData(),storeData:(e,t)=>o._storeData(e,t),isMute:()=>o._isMute(),checkGdprAndCall:getCookie:e=>o._getCookie(e),loadImaSdkForAds:()=>o._loadImaSdkForAds(),getVolume:()=>o._getVolume(),updateVolume:}(),ie.Utils=ie.Utils||ie.PlayerUtils,ie.PubSub=function(){const e={},t={},i="__on_",o=function(){let e=0;return function(){return e+=1,e-1}}();return e.publish=function(i,o){return i?(t[i]&&Object.keys(t[i]).forEach((s=>{const a=t[i][s];try{a(o)}catch(t){e.publish("logger.error",t.stack)}})),null):null},e.subscribeAll=function(t,i,o){if(t instanceof Array){const s=[];let a=[];const n=e=>{a.push(e),s.length===a.length&&(i&&i(a),a=[])};for(let i=0;i<t.length;i+=1)s.push(e.subscribe(t[i],n,o));return s}return e.subscribe(t,i,o)},e.subscribe=function(s,a,n){if(s instanceof Array){const t=[];for(let i=0;i<s.length;i+=1)t.push(e.subscribe(s[i],a,n));return t}if(!s||!a)return null;t[s]||(t[s]={});const r=`${s}:${o()}`;t[s][r]=a;const d=n;return n&&(d.__callback=a),e.publish(i+s,d),r},e.unsubscribe=function(e){if(!e)return null;const i=e.split(":");if(2===i.length){const o=i[0];if(t[o][e])return delete t[o][e],!0}return!1},e.getSubscriptions=e.onsubscribe=function(e,s){let a=e;if(!a||!s)return null;a=i+a,t[a]||(t[a]={});const n=`${a}:${o()}`;return t[a][n]=s,n},e}(),ie.FLAGS={READY:"READY",PLAYING:"PLAYING",PAUSED:"PAUSED",COMPLETED:"COMPLETED",AD_COMPLETED:"AD_COMPLETED",REPLAY:"REPLAY",NEXT_VIDEO:"NEXT_VIDEO"},ie.VideoPlayer2=function(){const e={},t={playerLoaded:!1,playerState:void 0,videoMap:{}},i=function(e){if(!(e instanceof Array||e.length))return;const i=e[1]?e[1].toUpperCase():"",{FLAGS:o}=ie;switch(i){case"VIDEOREADY":t.playerState=o.READY;break;case"VIDEOVIEW":case"START":case"RESUME":t.playerState=o.PLAYING;break;case"PAUSED":t.playerState=o.PAUSED;break;case"VIDEOCOMPLETE":t.playerState=o.COMPLETED;break;case"ADCOMPLETE":t.playerState=o.AD_COMPLETED;break;case"REPLAY":t.playerState=o.REPLAY;break;case"ONNEXTVIDEOPLAY":t.playerState=o.NEXT_VIDEO}},o={_init_loadAssets(){const e=document.createElement("script");e.src="//tvid.in/sdk/slikeloader.js",A&&(e.async=!0,e.defer=!0);const i=function(e){t.playerLoaded=!0;const i=ie.PubSub;i.publish("slikeLoaded");const{playerName:o}=ie.player,s={};s.source=se.source,s.loadStatus=e&&e.type||"",s.stream="CONTENT",s.userInitiated=se.userInitiated||"",s.id=se.msid||"",i.publish(`${o}_EVENTS`,[s,"slikeLoaded".toUpperCase()])};"object"==typeof window.player&&("function"==typeof window.player.load||window.player.length>0&&"function"===window.player[window.player.length-1].load)||Y?i():(0,f.Z)(i)},_addVideo(e,i,o){if(!t.playerLoaded)return;!function(){const e=ie.PubSub,{playerName:t}=ie.player,i={};i.source=se.source,i.stream="CONTENT",i.userInitiated=se.userInitiated||"",i.id=se.msid||"",e.publish(`${t}_EVENTS`,[i,"VIDEOLOADREQUEST"])}();const s=e=>{function t(e,t,o){const s=t.replace("spl","on"),a=Object.assign({},o,e.store.video),n=ie.playerCallbacks;if(n&&"function"==typeof n[s]){let t=()=>{};"object"==typeof N&&"function"==typeof N[s]&&(t=N[s]),n[s](a,e,s,t,i)}}Object.keys(window.SlikePlayer.Events).forEach((i=>{const o=window.SlikePlayer.Events[i];e.on(o,t.bind(null,e))}))},n=e=>{function t(t,i,o){const s=i.replace("spl","on"),a=ie.adsEventCallbacks,n=o||{};if(a&&"function"==typeof a[s]){let t=()=>{};"object"==typeof N&&"function"==typeof N[s]&&(t=N[s]),a[s](e,s,n,t)}}Object.keys(window.SlikePlayer.AdEvents).forEach((i=>{const o=window.SlikePlayer.AdEvents[i];e.on(o,t.bind(null,e))}))},r=(r,d,l)=>{var c,p,u;r&&O&&(window.location.href.indexOf("/articleshow/")>-1?null!==(u=window.player)&&void 0!==u&&u.length?window.player[window.player.length]=new window.SlikePlayer(d):(window.player=[],window.player[0]=new window.SlikePlayer(d)):window.player=new window.SlikePlayer(d));i.player.msid=l||i.player.msid;const m=(null===(c=window.player)||void 0===c?void 0:c.length)>0?window.player[(null===(p=window.player)||void 0===p?void 0:p.length)-1]:window.player;s(m),n(m),t.videoMap[o]=m;const y=ie.PubSub,h={};h.domSelector=e,h.source=se.source,h.userInitiated=se.userInitiated||"",h.stream="CONTENT",h.id=se.msid||"",y.publish("slikeVideoLoaded",[h]),a&&a(d),function(){const{playerName:e}=ie.player;y.publish(`${e}_EVENTS`,[h,"VIDEOPLAYERCREATED"])}()};try{!function(){var t,o;i.player=v(v({},null==i?void 0:i.player),{},{contWidth:(null===(t=document.getElementById(e))||void 0===t?void 0:t.offsetWidth)||0,contHeight:(null===(o=document.getElementById(e))||void 0===o?void 0:o.offsetHeight)||0});const s=v(v({},i),{},{contEl:e});(O||"object"===(window.player,!1))&&window.spl&&window.spl.load?window.spl.load(s,r):("object"==typeof window.player&&window.player.length>0?window.player[window.player.length-1]:window.player).load({id:i.player.id,playerType:i.player.playerType||"",msid:i.player.msid})}()}catch(e){}},_getVideo(e){let i;return i="object"===window.player?window.player.length>0?window.player[window.player.length-1]:window.player:t.videoMap[e],i},_pause(e){let t;const i=e?this.playerName:ie.player.playerName;t="object"==typeof window.player?window.player.length>0?window.player[window.player.length-1]:window.player:o._getVideo(i),ie.isDevMode&&console.log(`VOD_status_pausing__${e}`),t.pause()},_play_setNextVideo(e,t){(o._getVideo(t)||(window.player.length>0?window.player[window.player.length-1]:window.player)).setNextData(e)},_setCurrentVideoInPlaylist(e,t){(o._getVideo(t)||(window.player.length>0?window.player[window.player.length-1]:window.player)).setPlaylistData(e)},_getPlayerState:()=>t.playerState};return{init(){o._init()},addPlayergetPlayer:e=>o._getVideo(e),getConfig:()=>e,isSlikeLoaded:()=>t.playerLoaded,pause(e){o._pause(e)},playsetNextVideo(e,t){o._setNextVideo(e,t)},setCurrentVideoInPlaylistgetPlayerState:()=>o._getPlayerState()}}(),ie.adsEventCallbacks={handleAdsEvent(e,t,i,o){const s=t||{},a=t||{};a.stream="AD",a.adtype=s.type;const{playerName:n}=ie.player;a.source=se.source,a.userInitiated=se.userInitiated||"",a.adErrorcode=s.errorCode||"",a.campaignId=s.campaignId||"",a.isHls=s.isHls||!1;let r=s.state?s.state.toUpperCase():"";const d=ie.PubSub;r={onAdComplete:"ADCOMPLETE",onAdSkip:"ADSKIP",onAdView:"ADVIEW",onAdLoaded:"AdLoaded",onAdRequest:"ADREQUEST",onAdResume:"ADRESUME",onAdStart:"ADSTART",onAdPause:"ADPAUSED"}[i],d.publish(`${n}_EVENTS`,[a,r]),ie.isDevMode&&console.log(`VOD_status_ADS_${a.source}__${r}`),console.log("The type is ",r),Z(`${n}_EVENTS`,[a,r]),"function"==typeof o&&o()},onAdView(e,t,i,o){ie.adsEventCallbacks.handleAdsEvent(e,i,t,o)},onAdComplete(e,t,i,o){ie.adsEventCallbacks.handleAdsEvent(e,i,t,o)},onAdSkip(e,t,i,o){ie.adsEventCallbacks.handleAdsEvent(e,i,t,o)},onAdLoaded(e,t,i,o){ie.adsEventCallbacks.handleAdsEvent(e,i,t,o)},onAdRequest(e,t,i,o){ie.adsEventCallbacks.handleAdsEvent(e,i,t,o)},onAdStart(e,t,i,o){ie.adsEventCallbacks.handleAdsEvent(e,i,t,o)},onAdPause(e,t,i,o){ie.adsEventCallbacks.handleAdsEvent(e,i,t,o)},onAdResume,ie.playerCallbacks={onInit(e,t,i,o){const{playerName:s}=ie.player,a=e||{}||t;a.source=se.source,a.stream="CONTENT",a.userInitiated=se.userInitiated||"",a.id=se.msid||"";const n="VIDEOINIT";if(ie.PubSub.publish(`${s}_EVENTS`,[a,n]),Z(`${s}_EVENTS`,[a,n,t.id||""]),"function"==typeof o){o(n,e||{})}},onReady(e,t,i,o){const{playerName:s}=ie.player;let a=e||t||{};"object"!=typeof a&&(a={}),a.source=se.source,a.stream="CONTENT",a.userInitiated=se.userInitiated||"",a.id=se.msid||"";const n="VIDEOREADY";if(ie.PubSub.publish(`${s}_EVENTS`,[a,n]),Z(`${s}_EVENTS`,[a,n,t.id||""]),"function"==typeof o){o(n,e||{})}},onVideoStarted(e,t,i,o){const s=ie.PubSub,{playerName:a}=ie.player,n=e||{};n.source=se.source,n.stream="CONTENT",n.userInitiated=se.userInitiated||"";let r="START";r=k?"AUDIOVIEW":"VIDEOVIEW","function"==typeof u&&u(se.msid);const d="object"==typeof window.player&&window.player.length>0?window.player[window.player.length-1]:window.player;s.publish(`${a}_EVENTS`,[n,r,d.store.mediaConfig.id]),"function"==typeof o&&o(r,n)},onVideoResumed(e,t,i,o){const s=e||{},{playerName:a}=ie.player;s.userInitiated=se.userInitiated||"",s.source=se.source;const n="PLAYING";ie.isDevMode&&console.log(`VOD_status_${s.source}__PLAYING`),Z(`${a}_EVENTS`,[s,n]);ie.PubSub.publish(`${a}_EVENTS`,[s,n]),"function"==typeof o&&o(n,s)},onVideoPaused(e,t,i,o){const s=e||{},{playerName:a}=ie.player;s.userInitiated=se.userInitiated||"",s.source=se.source;const n="PAUSED";ie.isDevMode&&console.log(`VOD_status_${s.source}__PAUSED`),Z(`${a}_EVENTS`,[s,n]);ie.PubSub.publish(`${a}_EVENTS`,[s,n]),"function"==typeof o&&o(n,s)},onVideoFullscreenchange(e,t,i,o){const s=e||{},{playerName:a}=ie.player;s.source=se.source,s.userInitiated=se.userInitiated||"";let n=t.eventType;n=!0===n?"FULLSCREEN_ON":"FULLSCREEN_OFF";const r=ie.PubSub;"FULLSCREEN_ON"===n&&r.publish(`${a}_EVENTS`,[s,n]),"function"==typeof o&&o(n,s)},onVideoEnded(e,t,i,o,s){const{playerName:a}=ie.player,n=e||{};n.source=se.source,n.stream="CONTENT",n.userInitiated=se.userInitiated||"";const r="VIDEOEND";ie.PubSub.publish(`${a}_EVENTS`,[n,r,s.player.msid||""]);const d="object"==typeof window.player&&window.player.length>0?window.player[window.player.length-1]:window.player;Z(`${a}_EVENTS`,[n,r,d.store.mediaConfig.id]),"function"==typeof o&&o(r,n)},onVideoCompleted(e,t,i,o,s){const{playerName:a}=ie.player,n=e||{};n.source=se.source,n.stream="CONTENT",n.userInitiated=se.userInitiated||"";const r="VIDEOCOMPLETE";ie.PubSub.publish(`${a}_EVENTS`,[n,r,s.player.msid||""]);const d="object"==typeof window.player&&window.player.length>0?window.player[window.player.length-1]:window.player;Z(`${a}_EVENTS`,[n,r,d.store.mediaConfig.id]),function(){if("undefined"!=typeof document&&void 0!==window.player)try{const e=document.querySelector(".videoAction");e.classList.add("nextVideo"),window.player.pause(),setTimeout((()=>{e.classList.remove("nextVideo"),document.querySelector(".closeDoc").classList.add("pause"),window.player.play()}),2e3)}catch(e){}}(),"function"==typeof o&&o(r,n)},onVideoNext(e,t,i,o){const s=ie.PubSub,{playerName:a}=ie.player,n={};n.source=se.source,n.stream="CONTENT",n.userInitiated=!0,s.publish(`${a}_EVENTS`,[n,"onNextVideoPlay",e]),Z(`${a}_EVENTS`,[n,"onNextVideoPlay",e]),"function"==typeof o&&o(i,n)},onAutoPlayClick(e,t){const{playerName:i}=ie.player,o=t||{};o.source=se.source,o.userInitiated=se.userInitiated||"";ie.PubSub.publish(`${i}_EVENTS`,[o,"VIDEOAUTOPLAY_TOGGLE"])},onVolumeChange(e,t,i,o){const{playerName:s}=ie.player,a=e||{};a.source=se.source,a.userInitiated=se.userInitiated||"";const n="OnVolumeChange";ie.PubSub.publish(`${s}_EVENTS`,[a,n]),"function"==typeof o&&o(n,a)},onHeaderReady(e){const{playerName:t}=ie.player,i=e||{};i.source=se.source,i.userInitiated=se.userInitiated||"";ie.PlayerUtils&&ie.PlayerUtils.sendDataToParentWindow&&ie.PlayerUtils.sendDataToParentWindow(`${t}_EVENTS`,[i,"onHeaderReady"])},onVideoTimeUpdate,ie.ComscoreConfig=ie.ComscoreConfig||{},ie.Utils.checkGdprAndCall&&ie.Utils.checkGdprAndCall(null,(,!1),ie.playingSubsequentVideo=!1,ie.videoEventsMap={START:"START",STOP:"STOP",VIDEOCOMPLETE:"VIDEOCOMPLETE",PAUSED:"PAUSED",ADCOMPLETE:"ADCOMPLETE"};ie.convertMinutesToMs=ie.convertMinutesToMs||function(e){let t=0;if(void 0!==e){const i=e.toString().split(":"),o=60,s=1e3;2===i.length?(t=i[0]*o*s,t+=i[1]*s):1===i.length&&(t=i[0]*o*s)}return t},ie.setAdStatus=function(e,t,i){"AD"===e?"PAUSED"===t?ie.adStatus="PAUSED":"START"===t?ie.adStatus="PLAYING":"ADCOMPLETE"===t?(ie.adStatus="ADCOMPLETE",ie.isServingAdInFlashPlayer=!1):"ADSKIP"===t?(ie.adStatus="ADSKIP",ie.isServingAdInFlashPlayer=!1):"ADDURATION"===t&&(ie.isServingAdInFlashPlayer=!0,ie.adDuration=i):(ie.adStatus="ADCOMPLETE",ie.isServingAdInFlashPlayer=!1)};try{window.ga=window.ga||window.parent.ga}catch(e){console.log(e)}ie.Utils&&ie.Utils.checkGdprAndCall&&ie.Utils.checkGdprAndCall(null,(()=>{(0,g.Z)("gaAndGrx","set","anonymizeIp",!0)})),ie.sourceToLocationMapping={MG_0:"Homepage/topvideoswidget",MG:"Homepage/trendingvideoswidget",ABOVEARTICLE:"articleshow/lead",ARTICLEEMBED:"articleshow/inline","ARTICLESHOW/NIC":"articleshow/nic","ARTICLESHOW/RELATED":"articleshow/related",VIDEOSHOW:"videoshow",DAILYBRIEF:"dailybrief",VIDEOSHOME:"videoshome",MINI_TV:"minitv",MG_LIVE_TV:"livetvplugbottomright",LIVEHOME_LIVE_TV:"livetvhome","HOMEPAGE/LIVETVWIDGET":"Homepage/livetvwidget",LIVEBLOG:"liveblog",CMS_INSERTED_LIVE_TV:"liveblog",CITYLANDINGPAGE:"articlelist/city",CITYSPECIFIC:"articlelist/city",SPORTS:"articlelist/sports"},ie.VideosGa=function(){const e={adErrorCodes:{101:"VAST_SCHEMA_VALIDATION_ERROR",102:"VAST_UNSUPPORTED_VERSION",200:"VAST_TRAFFICKING_ERROR",201:"VAST_UNEXPECTED_LINEARITY",202:"VAST_UNEXPECTED_DURATION_ERROR",300:"VAST_WRAPPER_ERROR",301:"VAST_LOAD_TIMEOUT",302:"VAST_TOO_MANY_REDIRECTS",303:"VAST_NO_ADS_AFTER_WRAPPER",400:"VIDEO_PLAY_ERROR",402:"VAST_MEDIA_LOAD_TIMEOUT",403:"VAST_LINEAR_ASSET_MISMATCH",500:"OVERLAY_AD_PLAYING_FAILED",501:"NONLINEAR_DIMENSIONS_ERROR",503:"VAST_NONLINEAR_ASSET_MISMATCH",602:"COMPANION_REQUIRED_ERROR",900:"UNKNOWN_ERROR",1005:"FAILED_TO_REQUEST_ADS",1007:"VAST_ASSET_NOT_FOUND",1009:"VAST_EMPTY_RESPONSE",1010:"UNKNOWN_AD_RESPONSE",1011:"UNSUPPORTED_LOCALE",1101:"INVALID_ARGUMENTS",1105:"INVALID_ADX_EXTENSION"}},t={_getErrorLabelFromCode:;return{getErrorLabelFromCode:e=>t._getErrorLabelFromCode(e)}}(),ie.prepareDataForGA=function(e,t,i){const o=t.source?t.source.toUpperCase():"",s=i?i.toUpperCase():"";let a;"VIDEOREQUEST"===s?ie.videoRequestTime=Date.now():"VIDEOREADY"===s&&(a=Date.now()-ie.videoRequestTime);let n=!1;if("HP"===(se.pageName||"")&&void 0!==window.parentparent.TimesApps&&void 0!==window.parent.TimesApps.VideoGalleryApp&&"MG_0"===o){const e=window.parent.TimesApps.VideoGalleryApp.getVideoList()[o];void 0!==e&&(n=e.config.autoplay)}else if(ie.playingSubsequentVideo&&""!==t.userInitiated&&!t.userInitiated)n=!0;else if("0"===t.userInitiated||""===t.userInitiated)n=!0;else if(void 0!=={ABOVEARTICLE:"ABOVEARTICLE",ARTICLEEMBED:"ARTICLEEMBED","ARTICLESHOW/NIC":"ARTICLESHOW/NIC"}[o])n=!1;else if("CMS_INSERTED_LIVE_TV"===o||"MINI_TV"===o&&!t.userInitiated)n=!0;else if("VIDEOSHOW"!==o&&"LIVEHOME_LIVE_TV"!==o&&!t.userInitiated)try{"on"!==localStorage.getItem("autoplay_userInitiated")&&(n=!0)}catch(e){console.log("local storage not available")}let r="";const d=ie.sourceToLocationMapping[o]||t.source;!ie.Vod_Player&&ie.playingSubsequentVideo||(r=r.trim(),r=r.length>0?r:se.seoLocation);const l=se.agency||"blank";ie.fireGAevents(t,s,n,r,d,l,a)},ie.fireGAevents=function(e,t,i,o,s,a,n){if(void 0===(window.ga||window.parent.ga))return;if(-1===["VIDEOREQUEST","VIDEOREADY","VIDEOVIEW","VIDEOCOMPLETE","VIDEOAUTOPLAY_TOGGLE","ADREQUEST","ADLOADED","ADCOMPLETE","ADSKIP","ADVIEW","AUDIOPLAY","FULLSCREEN_ON","DIM_TOGGLE","ERROR"].indexOf(t))return;let r="",d=t;n&&(r+=`${n}ms_`);const l=e.stxt?e.stxt.toUpperCase():"";let c="";switch(c=se.nextVideoURL&&"VIDEOCOMPLETE"!==t?se.nextVideoURL.includes("videosvideos")?se.nextVideoURL.replace("/videosvideos","videos"):se.nextVideoURL:`${o}/videoshow/${se.msid}.cms`,t){case"VIDEOAUTOPLAY_TOGGLE":r+="OFF"===l?"Enable":"Disable";break;case"FULLSCREEN_ON":d="FULLSCREEN_ON",r+=`/${o}`;break;case"DIM_TOGGLE":d="VideoPlayer",r+=`Dim/${o}`;break;case"ERROR":d="AdError",r=ie.VideosGa.getErrorLabelFromCode(e.adErrorcode),r+=`/${e.campaignId}`;break;case"ADREQUEST":case"ADLOADED":r+=e.type;break;default:r+=i?"autoplay":"user-initiated",r+=`/${c}`}r+=`/_${a}`;const p=ie.VideoPlayer2&&ie.VideoPlayer2.getPlayerState()||"";p===(ie.FLAGS&&ie.FLAGS.REPLAY)?r+="/_replay":p===ie.FLAGS.NEXT_VIDEO&&(r+="/_next_video");let u=e.videoStream||e.kalstream||"";const m="object"==typeof window.player&&window.player.length>0?window.player[window.player.length-1]:window.player;let y;m&&m.store&&m.store.streamType&&(u=m.store.streamType),(e.contentid||e.videoStream||e.type&&e.type)&&(y="html");const h=[];"articleshow"!==e.source||"0"!==e.userInitiated&&""!==e.userInitiated?h.push(s):h.push("AS_AUTOPLAY"),"FULLSCREEN_ON"!==t&&(y&&h.push(y),u&&h.push(u));if(P||"VIDEOREQUEST"===t)return;-1!==["VIDEOREQUEST","VIDEOREADY","VIDEOVIEW","VIDEOCOMPLETE","ADREQUEST","ADLOADED","ADCOMPLETE","ADVIEW","ERROR"].indexOf(t)?(0,g.Z)("gaAndGrx","send","event",d,r,h.join("/"),{nonInteraction:1}):(0,g.Z)("gaAndGrx","send","event",d,r,h.join("/"))},ie.getPlayerConfig=function(){const e=se.section||ie.getPageLocation()||"",t=ie.Vod_Player.getVolume(),i=ie.Utils.shouldSkipAds(),{slikeApiKey:s}=se;let a,r=se.agency||"";const d=new RegExp(" ","g");r=r.replace(d,"");const{msid:c,chapterId:u}=se;let{mediaId:m}=se;u&&(m=`${m}.${u}`);let h=se.playerType;h=10===parseInt(h,10)?h:0;let w=!1,g=[];Array.isArray(se.playlistData)&&se.playlistData.length>0&&(w=!0,g=se.playlistData);const f=se.source?se.source.toUpperCase():"";let _;_=f.indexOf("ABOVEARTICLE")>-1?ie.VOD_CONF.ABOVEARTICLE:f.indexOf("PRIME_TOPVOD")>-1?ie.VOD_CONF.PRIME_TOPVOD:ie.VOD_CONF[f]||ie.VOD_CONF._default;const V=void 0===_.showNextPrevButton||_.showNextPrevButton,S=void 0===_.showPrevButton||_.showPrevButton;let A=ie.Utils.getVideoImg();if(_&&_.playlistUrl&&"string"==typeof _.playlistUrl){if(_.playlistUrl.indexOf("videpostroll_v8")>-1)a=`${(0,y.zu)()}${_.playlistUrl+c}.cms?feedtype=json&dontshow=${c}&callback=cached`;else if(f.indexOf("ARTICLE")>=0){let e=window.parent.msid;"object"==typeof e&&e.getAttribute("value")&&(e=e.getAttribute("value")||""),a=`${_.playlistUrl+e}.cms?feedtype=json&dontshow=${c}&callback=cached`}else a=`${_.playlistUrl+c}.cms?feedtype=json&dontshow=${c}&callback=cached`;A=void 0}const D={cookieId:E.ZP.get("_col_uuid"),apiKey:s,height:"100%",width:"100%",origin:`${window.location.protocol}//${window.location.host}`,referrer:document.referrer,video:{image:A,id:m,title:se.title,playerType:h},controls:{dock:!1,showPipIcon:!1,offlineVolume:!1,offlineMute:!1,hideCenterIcon:_.hideCenterIcon,dimDefault:I,showNextButton:!Q&&V,showPrevButton:!Q&&(S&&V)},player:v(v({mediaSession:p||l,skipYT:!0,isGAPlugin:!1,iphonefs:!!T,showTitle:!1,showLastVideoFrame:_.showLastFrame,nextVideoList:o instanceof Array?o.splice(1,o.length-1):[],fallbackMute:!0,unmuteOnTap:!1,image:A,playerType:h,sg:ie.Utils.getAdsTargetParams(),cc:ie.userLocation.getCountryFromSessionStorage(),time:new Date,skipAd:i||n,apikey:s,section:e,adSection:e,pid:r||"TNN",pagesection:ie.getPageSection(),pagetpl:ie.getPageTemplate(),id:m,title:se.title,nextVideoCounter:_.nextVideoCounter,playlistUrl:a,playlist:w,playlistData:g,msid:c,autoPlay:!0,volume:t,mute:C||ie.PlayerUtils.isMute(),controls:{hideCenterIcon:!0},scrollBehaviour:{inViewPercent:50,dock:p,autoPlay:W,autoPause:H},videoLoop:U},B),{},{preRollAdFiller:{enable:!0,time:7}})};return window&&window.TimesGDPR&&window.TimesGDPR.common&&window.TimesGDPR.common.consentModule&&window.TimesGDPR.common.consentModule.isEUuser()&&(D.GDPR_MODE=window.TimesGDPR.common.consentModule.isEUuser()),k?D.controls.ui="podcast":se.hideControls?D.controls.ui="headless":se.headless&&(D.controls.headless=!0),-1!==navigator.userAgent.indexOf("UCBrowser")&&(D.player.autoplay=!1),ie.VOD_CONF[f]&&ie.VOD_CONF[f].showVolumeSeekBar&&(D.controls.showVolumeSeekBar=!0),D.video.shareUrl=se.shareUrl?se.shareUrl:ie.Utils.getVideoUrl(),D.player.description_url=se.shareUrl?se.shareUrl:ie.Utils.getVideoUrl(),z&&""!==z&&(D.video.Meta_Keywords=z),q&&""!==q&&(D.video.BL=q),D},ie.iBeatVideoCall=function(){const e={_getParentUrl(){let e="";try{e=window.parent.location.href}catch(t){e=window.location.href}return e},_loadiBeat(){const t={channel:se.agency||"timesofindia.indiatimes.com",action:1,articleId:se.articleId||"",contentType:2,location:1,url:e._getParentUrl(),cat:se.navSecName,subcat:se.navSubSecName,contenttag:se.metaKeywords||"",catIds:se.navCatIds||"",articledt:se.articledt||"",author:""};window.TimesApps.iBeat&&window.TimesApps.iBeat.sendIBeatCall&&window.TimesApps.iBeat.sendIBeatCall(t)}};return{loadiBeat:()=>e._loadiBeat()}}(),ie.player={playerName:"VOD",playerNameConstant:""},ie.Utils.loadImaSdkForAds(),ie.userLocation=function(){const e={countryCode:""},t="countryCode",i={_getCountryFromSessionStorage(){if(e.countryCode)return e.countryCode;let i=!1,o=ie.Utils.getDataFromWebStorage(t)||{};try{o=JSON.parse(o)}catch(e){return i}return void 0!==o&&null!=o&&o.countryCode&&(i=o.countryCode),e.countryCode=i,e.countryCode},_setCountryInLocalStorage(i){let o={countryCode:i,timestamp:(new Date).getTime()};o=JSON.stringify(o),e.countryCode=i,ie.Utils.setIntoWebStorage(t,o)},_geoUserGA(e){!function(){const{playerName:t}=ie.player,i=ie.PubSub,o={};o.loadStatus=e||"",o.source=se.source,o.stream="CONTENT",o.userInitiated=se.userInitiated||"",o.id=se.msid||"",i.publish(`${t}_EVENTS`,[o,"foundUsercountry".toUpperCase()])}()},_getUserCountry(){const e=ie.PubSub;let t=i._getCountryFromSessionStorage();if(""!==t&&t)i._geoUserGA("load_browserStorage"),e.publish("foundUsercountry",t);else{const o=function(o){const{geoinfo:s}=window;t=null==s?void 0:s.CountryCode,t&&i._setCountryInLocalStorage(t),i._geoUserGA(o&&o.type||""),e.publish("foundUsercountry",t)};(0,f.f)("//geoapi.indiatimes.com/?cb=1","geo_api_js").then(o)}return t}};return{getUserCountry:()=>i._getUserCountry(),getCountryFromSessionStorage:()=>i._getCountryFromSessionStorage()}}(),ie.Vod_Player=function(){const e={dataStorageKey:"vodPLayer"},i=60,o=1e3,s={isMute:!1,nextVideoList:[]},a={_getData(){let t;try{t=JSON.parse(ie.Utils.getDataFromWebStorage(e.dataStorageKey)||"{}")}catch(e){t={}}return t},_storeData(t,i){if(void 0===t||0===t.trim().length)return;const o=a._getData();let s;o[t]=i;try{s=JSON.stringify(o)}catch(e){return!1}return ie.Utils.setIntoWebStorage(e.dataStorageKey,s),o},isImaLoaded:,n={_checkGeoAndAddPlayer(){if(!ie.VideoPlayer2.isSlikeLoaded())return;const e=ie.getPlayerConfig(),{playerName:i}=ie.player;ie.VideoPlayer2.addPlayer(t,e,i)},_getNextVideoData(e){e&&e.trim().length&&m.Z.get(`/feeds/videomediainfo_v1/msid-${e},feedtype-json.cms`,{},"skipfeedengine").then((e=>{const{playerName:t}=ie.player;S(e.data.item);const i=e.data.item||{};i.source=ie.player.playerNameConstant+t,i.stream="CONTENT",i.userInitiated=se.userInitiated;const o="onNextVideoDataFetch";ie.PubSub.publish(`${t}_EVENTS`,[i,o]),Z(`${t}_EVENTS`,[i,o])})).catch(()},_updateMainConfigWithAjaxData(e){let t;if(se.msid=e.msid,se.mediaId=e.embedId,se.playerType=e.playerid,se.title=e.title,se.seoLocation=e.seopath,se.breadCrumb=function(){const e="undefined"!=typeof window?window.location.pathname.split("/"):[];let t="";return e.length>=4&&e[1]&&e[2]&&e[3].length<=10?t=`${e[1]}.${e[2]}.${e[3]}`:e.length>=3&&e[1]&&e[2]?t=`${e[1]}.${e[2]}`:2===e.length&&e[1]?t=`${e[1]}`:"/"===window.location.pathname&&(t="Home"),t}(),se.agency=e.agency||"",e.videodatetime&&e.videodatetime.indexOf(":")){let i=e.videodatetime.split(":")[0].split(" ");i.length>1&&i.pop(),"string"==typeof i&&(i=i.split(",")[0]),t=i.join(" ")}else t=e.videodatetime;se.mediaDate=t,se.articleId=e.msid||"",se.subcat=e.section||"",se.metaKeywords=e.keyword||"",se.articledt=e.videodatetime||"",se.blacklistText=e.blacklistText||"",se.navSecName=e.navsectionname||"",se.navSubSecName=e.navsubsectionname||"",se.navCatIds=e.navcatids||"",se.specialId__hyp1=e.specialId||"",void 0!==e.skipAds&&(se.skipAds=e.skipAds)},_updateData(e){ie.playingSubsequentVideo=!0,ie.Vod_Player.updateMainConfigWithAjaxData(e);const t=ie.PubSub,{playerName:i}=ie.player;t.publish(`${i}_EVENTS`,[{},"onNextVideoDataUpdate"])},_updateVolume(e){const t={value:e,updateTime:(new Date).getTime()};a._storeData("volume",t)},_getVolume(){let e;const t=a._getData().volume||{},s=30*i*o;return void 0===t||void 0===t.value?e=se.volume:(new Date).getTime()+s<t.updateTime?(e=se.volume,a._storeData("volume",{})):e=t.value,e},_mutePlayer_isMute:_formatDataIntoSlikeObj(e){let t,i;try{t="object"==typeof e.data?e.data:JSON.parse(e.data)}catch(e){return i}return i={embedId:t.item.embedId,kalturaid:t.item.embed,imagepath:t.item.thumburl,id:t.item.msid,playerType:t.item.playerid,title:{vdtitle:t.item.title},agency:t.item.agency||"",msid:`/videos${t.item.seopath}/videoshow/${t.item.msid}.cms`,description:t.item.description,skipAds:t.item.skipAds},i},_getNextVideo(e){e&&e.trim().length&&m.Z.get(`/feeds/videomediainfo_v1/msid-${e},feedtype-json.cms`,{},"skipfeedengine").then((e=>{J(e.data.item);const t=n._formatDataIntoSlikeObj(e);se.nextVideoURL=t.msid,ie.VideoPlayer2.setNextVideo([t],ie.player.playerName),se.nextid=""}))},_addNextVideoToList(e,t,i,o){const a="object"==typeof window.player&&window.player.length>0?window.player[window.player.length-1]:window.player;t&&a.load({id:t,playerType:i||"",description_url:o,msid:e}),s.nextVideoList.push(e)},_fetchDataAndLoadVideo(t){t&&t.trim().length&&m.Z.get(`/feeds/videomediainfo_v1/msid-${t},feedtype-json.cms`,{},"skipfeedengine").then((t=>{if(t&&t.data&&t.data.item&&t.data.item.embedId){("object"==typeof window.player&&window.player.length>0?window.player[window.player.length-1]:window.player).load({id:t.data.item.embedId,msid:e.player.msid})}}))},_getNextVideoId:_getDurationinMs:_addLastFrameStyle(e){try{let i={};const o=ie.PubSub;if(e.indexOf("PRIME_TOPVOD")>-1&&(i=ie.VOD_CONF.PRIME_TOPVOD),!i.showLastFrame)return;const s=o.subscribe("VOD_EVENTS",(e=>{if(!(e instanceof Array)&&e.length>0)return;const i=e[1]?e[1].toUpperCase():"",a=document.getElementById(t);"VIDEOVIEW"===i&&(a&&a.classList.add("lastFramePrimeOpacity"),o.unsubscribe(s))}))}catch(e){}}};return{checkGeoAndAddPlayerformatDataIntoSlikeObj:e=>n._formatDataIntoSlikeObj(e),getNextVideoData:e=>n._getNextVideoData(e),getVolume:()=>n._getVolume(),updateVolume:e=>n._updateVolume(e),mutePlayer:e=>n._mutePlayer(e),isMute:()=>n._isMute(),updateMainConfigWithAjaxData:e=>n._updateMainConfigWithAjaxData(e),updateData:e=>n._updateData(e),getNextVideo:e=>n._getNextVideo(e),addNextVideoToList:fetchDataAndLoadVideo:e=>n._fetchDataAndLoadVideo(e),getNextVideoId:()=>n._getNextVideoId(),getDurationinMs:addLastFrameStyle:}(),window.location.href.indexOf("toidev")>=0&&(ie.isDevMode=1);const ae=ie.PubSub;function ne(e){ie.Vod_Player.updateMainConfigWithAjaxData(e),ie.Utils.fireVideoRequestGA(),ae.subscribe("slikeLoaded",ie.Vod_Player.checkGeoAndAddPlayer),ae.subscribe("foundUsercountry",(()=>{const e=ie.userLocation.getCountryFromSessionStorage();e&&""!==e||ae.unsubscribe("foundUsercountry")})),ie.userLocation.getUserCountry(),ie.VideoPlayer2.init();se.nextid}if(ie.Vod_Player.addLastFrameStyle(_),ae.subscribe("VOD_EVENTS",(e=>{if(!(e instanceof Array)&&e.length>0)return;const t=e[0]||{},i=e[1]?e[1].toUpperCase():"",o=e[2]||"",{playerName:s}=ie.player;if("VIDEOVIEW"===i){Z(`${s}_EVENTS`,[t,i,o]);const e=ie.Vod_Player.getNextVideoId();ie.Vod_Player.getNextVideo(e),ie.iBeatVideoCall.loadiBeat();try{a="watch_video",n=se.msid,(0,w.bp)(j,a,n,X)}catch(e){console.log(e)}}else"ONNEXTVIDEOPLAY"===i&&"MG"!==t.source||("ONNEXTVIDEODATAFETCH"===i?ie.Vod_Player.updateData(t):"START"===i?ie.VideoStarted=!0:"ONVOLUMECHANGE"===i&&ie.VideoPlayer2.getPlayer("VOD").getCurrentPosition()>0?t.muted?ie.Vod_Player.mutePlayer(!0):(ie.Vod_Player.updateVolume(t.volume),ie.Vod_Player.mutePlayer(!1)):"VIDEOCOMPLETE"===i?ie.VideoStarted=!1:"ONNEXTVIDEODATAUPDATE"===i&&ie.Utils.fireVideoRequestGA());var a,n;ie.prepareComscoreDataAndFireReq({},t,i),ie.prepareDataForGA({},t,i)})),window._poc=window._poc||{},ae.subscribe("slikeVideoLoaded",(()=>{!function(){const e={},{playerName:t}=ie.player;e.source=se.source,e.msid=se.msid,e.domSelector=window.frameElement?window.frameElement.getAttribute("id"):"#streaming_box #player",e.userInitiated=se.userInitiated||!1;const i=`${t}_LOADED`,o=ie.VideoPlayer2.pause;o.bind({playerName:t}),Z(`${t}_LOADED`,[e,i,o])}(),ae.unsubscribe("slikeVideoLoaded")})),ie.getPageLocation=ie.prepareComscoreDataAndFireReq=function(e,t,i){if(void 0===window.parent)return;const o="6036484",s="TOI-Desktop",a="The Times of India",n="News",r="10";let d=t.stream||"";d=d.toUpperCase();const l={};l.contentGenre=n,l.seoLocation=se.seoLocation;const c=se.mediaDate;l.airDate=c;const p=t||{};p.pdata={},p.id=ie.getPlayerConfig().player.msid,p.duration=(p.duration||0)/60,p.title=se.title,p.pdata.adposition=t.adtype,l.c3=r;const u=i.toUpperCase();!function(e,t,i,o,s,a,n){const{ns_:r}=window;if(void 0!==window.myStreamingTag&&"REPLAY"!==t||(window.myStreamingTag=new r.StreamingTag({customerC2:e})),void 0===ie.videoEventsMap[t])return;if(void 0===e||""===e)return;let d=i;ie.isServingAdInFlashPlayer&&(d="AD");try{if("START"===t||"PLAYING"===t||"ADVIEW"===t)if("AD"===d){if("PAUSED"===ie.adStatus)return;let e="";if(void 0===n.pdata)return;e="PRE"===(n.pdata.adposition||"").toUpperCase()?r.StreamingTag.AdType.LinearOnDemandPreRoll:r.StreamingTag.AdType.LinearOnDemandPostRoll,window.adDurationInMinutesFormat=`00:${n.duration||n.pdata.tottime||0}`;const t=ie.convertMinutesToMs(window.adDurationInMinutesFormat);window.myStreamingTag.playVideoAdvertisement({ns_st_cl:t},e)}else{let e=a.seoLocation.split("/");if(e.length>=2){const t=e.length-1;e=e.slice(0,t).join("/")}else e=a.seoLocation;const t=ie.convertMinutesToMs(n.duration),i={ns_st_ci:n.id||n.videoid||0,ns_st_cl:t||0,ns_st_st:o,ns_st_pu:s,ns_st_pr:e,ns_st_ep:n.title,ns_st_sn:"*null",ns_st_en:"*null",ns_st_ge:a.contentGenre,ns_st_ti:"*null",ns_st_ia:"0",ns_st_ce:"0",ns_st_ddt:a.airDate,ns_st_tdt:a.airDate,c3:a.c3||"*null",c4:"*null",c6:"*null"};0===ie.ComscoreConfig.cs_ucfr&&(i.cs_ucfr=ie.ComscoreConfig.cs_ucfr),window.myStreamingTag.playVideoContentPart(i,r.StreamingTag.ContentType.ShortFormOnDemand)}else"AD"===d&&"ADCOMPLETE"!==t||window.myStreamingTag.stop();ie.setAdStatus(d,t)}catch(e){console.log(e)}}(o,i,d,s,a,l,p),"ADSKIP"===u&&ie.setAdStatus(d,u)},ie.getPageSection=function(){var e,t,i,o;const s=null===(e=window.Times)||void 0===e||null===(t=e.adsKeys)||void 0===t?void 0:t.SCN;if(s&&""!==s){var a,n;const e=null===(a=window.Times)||void 0===a||null===(n=a.adsKeys)||void 0===n?void 0:n.SubSCN;if(e&&""!==e){var r,d;let t=null===(r=window.Times)||void 0===r||null===(d=r.adsKeys)||void 0===d?void 0:d.LastSubSCN;if(t&&""!==t){for(let e=1;e<10;e+=1){var l,c;const i=`LastSubSCN_Child_${e}`;if(null===(l=window.Times)||void 0===l||!l.adsKeys[i]||""===(null===(c=window.Times)||void 0===c?void 0:c.adsKeys[i]))break;var p;t=`${t}/${null===(p=window.Times)||void 0===p?void 0:p.adsKeys[i]}`}return`${s}/${e}/${t}`}return`${s}/${e}`}return s}return"home"===(null===(i=window.Times)||void 0===i||null===(o=i.adsKeys)||void 0===o?void 0:o.Tmpl_SCN)?"Home Page":""},ie.getPageTemplate=function(){var e,t,i,o;return("home"===(null===(e=window.Times)||void 0===e||null===(t=e.adsKeys)||void 0===t?void 0:t.Tmpl_SCN)?"Home Page":null===(i=window.Times)||void 0===i||null===(o=i.adsKeys)||void 0===o?void 0:o.Tmpl_SCN)+G},l)return void ne({embedId:d,seopath:"",msid:e,title:M});m.Z.get(`/feeds/videomediainfo_v1/msid-${e},feedtype-json.cms`,{},"skipfeedengine").then((e=>{ne(e.data.item),J(e.data.item);const t=ie.Vod_Player.formatDataIntoSlikeObj(e),i=ae.subscribe("VOD_EVENTS",(e=>{if(!(e instanceof Array)&&e.length>0)return;"VIDEOREADY"===(e[1]?e[1].toUpperCase():"")&&(ie.VideoPlayer2.setCurrentVideoInPlaylist([t],ie.player.playerName),ae.unsubscribe(i))}))})).catch(();let re=e;return"object"==typeof s&&"function"==typeof s.subscribe&&s.subscribe((()=>{const e=(e=>{let t={};return e.articleshow&&e.articleshow.msidForNextVideo&&(t={msid:e.articleshow.msidForNextVideo,slikeId:e.articleshow.slikeId,playerId:e.articleshow.playerId}),e.articleshow_v2&&e.articleshow_v2.msidForNextVideo&&(t={msid:e.articleshow_v2.msidForNextVideo,slikeId:e.articleshow_v2.slikeId,playerId:e.articleshow_v2.playerId}),e.homepage&&e.homepage.msidForNextVideo&&(t={msid:e.homepage.msidForNextVideo,slikeId:e.homepage.slikeId,playerId:e.homepage.playerId}),e.homepage_us&&e.homepage_us.msidForNextVideo&&(t={msid:e.homepage_us.msidForNextVideo,slikeId:e.homepage_us.slikeId,playerId:e.homepage_us.playerId}),t})(s.getState()),t=e.msid,i=e.slikeId,o=e.playerId;parseInt(t,10)!==parseInt(re,10)&&t&&(re=t,ie.Vod_Player.addNextVideoToList(t,i,o))})),ie.Vod_Player.addNextVideoToList}var S,A,D=i(55518),T=i(67142),b=i(78554),P=i(34099),C=i(77967),N=i.n(C);function O(e,t,i,o){A||(A="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var s=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=o;else if(a>1){for(var n=new Array(a),r=0;r<a;r++)n[r]=arguments[r+3];t.children=n}if(t&&s)for(var d in s)void 0===t[d]&&(t[d]=s[d]);else t||(t=s||{});return{$$typeof:A,type:e,key:void 0===i?null:""+i,ref:null,props:t,_owner:null}}class k extends o.Component{constructor(e){super(e),this.setSizeOfVideoBlocker=()=>{if(!this.blockerRef||!this.blockerRef.current)return;let e;const t=this.blockerRef.current.offsetWidth;e=t>600?"large":t<380?"small":"medium",this.setState({videoSizeClass:e})},this.blockerRef=o.createRef(),this.state={videoSizeClass:"small"}}der(){const{prc:e}=this.props,t=(0,u.oS)(e).ctaText||"",i=(0,u.oS)(e).headingMsg||"",s=(0,P.u5)(this.props.msid,this.props.imgsize),a=(0,u.QH)(e),n={backgroundImage:`url(${s})`};return o.createElement("div",{id:"primeBlocker",className:`${N().prime_vdohooks} ${N()[this.state.videoSizeClass]}  hidden`,ref:this.blockerRef},O("div",{className:N().prime_imgbg,style:n}),O("div",{className:N().prime_hookinner},void 0,this.props.primeEndDate&&i&&O("div",{className:N().freetrial_txt},void 0,` ${i} ${this.props.primeEndDate}`),O("div",{className:N().freetrial_msg},void 0,"Subscribe to Times Prime for a year and get access to premium videos like this from ",O("i",{className:N().prime_plussvg})," ",S||(S=O("br",{})),O("a",{className:N().learnMore,onClick:()=>{(0,b.d$)({formType:"learnMoreScreen",callback:this.props.hideBlockerAndResume})}},void 0,"Learn More")),O("a",{className:N().seetrial_btn,"data-prime-cta":"",onClick:()=>{(0,b.d$)({formType:a,callback:this.props.hideBlockerAndResume})}},void 0,t)))}}k.defaultProps={primeEndDate:null,msid:"",imgsize:"",hideBlockerAndResumeisVideoTheatreMinified:!1};const L=k;var R,U,M,x;lass F extends o.Component{constructor(e){super(e),this.handleSliderCardItem=(e,t)=>{e.preventDefault(),this.setState({playingVideoItem:t,activeSlide:t.id})},this.videoEventsListener=(e,t)=>{const i=t instanceof Array?t[0]:"",o=t[1];this.pauseVideoInPrimeBlocker(o,i),"function"==typeof this.props.outsideEventListener&&this.props.outsideEventListener(e,t)},this.showPrimeBlocker=(e={})=>{this.primeEndDate=e.data&&e.data.endDate?e.data.endDate:"",this.setState({showVideoBlocker:!0}),(0,p.Z)()},this.processPrimeBlocker=()=>{const{userData:e,isContentPrime:t}=this.props,{isLoggedIn:i,prcValue:o}=e;return t&&(0,u.GM)(o)?i&&!(0,u.Cy)(o)?(0,u.fx)(this.props.userPrcData).then(():this.showPrimeBlocker({}):this.setState({showVideoBlocker:!1}),t},this.pauseVideoInPrimeBlocker=()=>{const{userData:e,isContentPrime:t}=this.props,{prcValue:i}=e;(0,u.GM)(i)&&t&&(this.pause(),this.mute(!0))},this.mute=e=>{if(this.slikeInstance&&"function"==typeof this.slikeInstance.mute)try{this.slikeInstance.mute(e)}catch(e){}},this.pause=()=>{this.slikeInstance&&"function"==typeof this.slikeInstance.pause&&this.slikeInstance.pause()},this.resumePlay=()=>{this.slikeInstance&&"function"==typeof this.slikeInstance.play&&this.slikeInstance.play()},this.playVideo=()=>{window&&window.player&&window.player.length>0&&window.player.forEach(((e,t)=>{e.store.clientConfig.contEl===this.props.playerContainerId&&(window.player[t].play(),this.props.resumeDockedVideoCallBack&&"function"==typeof this.props.resumeDockedVideoCallBack&&this.props.resumeDockedVideoCallBack())}))},this.hideBlockerAndResume=e=>{e.status&&(this.setState({showVideoBlocker:!1}),this.resumePlay())},this.getPlayListObject=e=>{const t=[];if(e&&Array.isArray(e)&&e.length>0)for(let i=0;i<e.length;i+=1)(e[i].playerId||e[i].embedId)&&t.push({embedId:e[i].playerId||e[i].embedId});return t},this.startVideo=(e,t,i)=>{this.isPlaying=!0;const{toipLayout:o,shareUrl:s}=this.props;if(o){e!==sessionStorage.getItem("prevMsid")&&(0,P.hg)()}const{userData:a,sectionName:n,isMute:r=!1}=this.props,{prcValue:d}=a;this.props.newga&&"string"==typeof this.props.newga&&(0,D.yl)("send","event",...this.props.newga.split("#")),"function"==typeof this.addNextVideoToList&&!this.intantiateNewPlayer&&this.props.slikeId?this.addNextVideoToList(e,this.props.slikeId,this.props.playerType,s):this.addNextVideoToList=I({videoMsid:e,divId:t,outsideEventListener:this.videoEventsListener,nextVideoMsidArray:this.props.nextVideoMsidArray,playlistData:this.getPlayListObject(this.props.videoPlayListData||[]),store:this.props.store,isPrime:this.props.isPrime,isUserPrime:this.props.isUserPrime,slikeId:this.props.slikeId,playerType:this.props.playerType,livetv:this.props.livetv,isVideoSkipAds:this.props.isVideoSkipAds,isDockingEnabled:this.props.isDockingEnabled,addToWatched:this.props.addToWatched,sourceVal:this.props.source||"videoshow",allowDimVal:this.props.allowDim,shouldShowVideoBlocker:u.GM,prcValue:d,isWapView:this.props.isWapView,autoPlayLeadVideo:this.props.autoPlayLeadVideo,callback:()=>{},callbackOutside:muteOnLoad:r,videoDataReceivedCallback:this.props.videoDataReceivedCallback,asyncLoadSdkjs:this.props.asyncLoadSdkjs,videoChapterId:i,iphonefs:this.props.iphonefs,sectionName:n,intantiateNewPlayer:this.intantiateNewPlayer,ag:this.props.agency,hideControls:this.props.hideControls,videoInloop:this.props.videoInloop,titleStr:this.props.titleStr,shareUrl:this.props.shareUrl,headless:this.props.headless,videoProgressCallback:this.props.videoProgressCallback,updateplayerConfig:this.props.updateplayerConfig,tmplSource:this.props.tmplSource,scrollAutoPlay:this.props.scrollAutoPlay,scrollAutoPause:this.props.scrollAutoPause,isVideoshow:this.props.isVideoshow,isEtimes:this.props.isEtimes,metakeywords:this.props.metakeywords,bl:this.props.bl}),this.intantiateNewPlayer=!1,o&&sessionStorage.setItem("prevMsid",e),this.setState({isVideoPlaying:!0})},this.isPlaying=!1,this.primeEndDate="",this.slikeInstance=null,this.state={isVideoPlaying:!1,isLeadVideoTheatreOpen:!1,activeSlide:e.msid,playingVideoItem:void 0,showVideoBlocker:!1},this.intantiateNewPlayer=!0}componentDidMount(){this.props.autoplay&&(this.startVideo(this.props.msid,this.getDivId(this.props.msid,this.props.isInline),this.props.chapterId),this.isPlaying=!0)}omponentDidUpdate(e,t){const{videoContainer:i}=this,{userData:o,isContentPrime:s}=this.props,{prcValue:a}=o;if((e.userData&&e.userData.prcValue!==a||e.msid!==this.props.msid)&&(s&&(0,u.GM)(a)||this.mute(!1)),this.props.msid===e.msid||this.props.slikeNextVideoAutoPlayed||(this.isPlaying=!1,i&&i.innerHTML&&(i.innerHTML=""),this.startVideo(this.props.msid,this.getDivId(this.props.msid,this.props.isInline))),t.activeSlide!==this.state.activeSlide&&this.startVideo(this.state.activeSlide,this.getDivId(this.props.playerContainerId,this.props.isInline)),t.isLeadVideoTheatreOpen!==this.state.isLeadVideoTheatreOpen){document.getElementsByTagName("body")[0].style.overflow=this.state.isLeadVideoTheatreOpen?"hidden":""}e.userPrcData!==this.props.userPrcData&&this.processPrimeBlocker()}getDivId(e,t){return!this.props.dontChangeDivId&&e&&e.length?`playerContainer_${e}${t?"_inline":""}`:"playerContainer"}render(){const{msid:e,imgsize:t,videoClassName:i,videoClassInner:a,dockedClassName:n,theatreModeClassName:r,title:d,autoplay:l,iconClassName:p,isPrime:u,isDocked:m,dockTitle:y,isLeadVideo:h,duration:w,toipLayout:g,videoDocked:E,videoTitle:f,playState:_,playPauseDockedVideo:v,dockedPlayerMobileClass:V}=this.props,I=this.getDivId(this.props.msid,this.props.isInline),S=this.state.playingVideoItem&&this.state.playingVideoItem.hl?this.state.playingVideoItem.hl:y;return o.createElement("div",{ref:this.props.videoRef,className:`${i} ${n} ${V} ${this.state.isLeadVideoTheatreOpen?r:""}`},m&&!this.props.isWapView&&$("div",{className:"dockHeader"},void 0,$("div",{className:"docktop"},void 0,u&&$("span",{className:N().now_playing},void 0,"Now Playing"),!u&&h&&$("button",{type:"button",className:"dockicon",onClick:),$("button",{type:"button",className:`closedock ${g?N().closeVideoButton:""}`,onClick:()=>{this.setState({isLeadVideoTheatreOpen:!1}),"function"==typeof T.FI&&(this.props.deleteUnDockCandidateAction(),(0,T.FI)()),"function"==typeof T.RO&&(this.props.deleteDockCandidateAction(),(0,T.RO)()),(0,P.hg)()}})),u&&$("div",{className:"title c1"},void 0,y)),this.props.isWapView&&E&&$("div",{className:"videoAction"},void 0,$("button",{type:"button",className:"playPause "+(_?"play":"pause"),onClick:)),E&&$("button",{type:"button",className:"closeDoc",onClick:),$("div",{onClick:()=>{l||this.playerInitiated||(this.playerInitiated=!0,this.startVideo(e,I))},id:I,"data-pos":this.props.pos,className:`${a}`,style:{height:"100%"}},void 0,d&&$("p",{},void 0,$("b",{},void 0,d)),!this.state.isVideoPlaying&&!l&&o.createElement(o.Fragment,null,$(s.Z,{msid:e,src:`https://static.toiimg.com/photo/${e}.cms`,title:d,imgsize:t||"",imageClassName:"d",placeHolderSrc:"https://static.toiimg.com/photo/42706777.gif",lazyload:!0}),p&&$("i",{className:p||""},void 0,"string"==typeof w?w:""))),E&&$("div",{className:"vid_title"},void 0,R||(R=$("strong",{},void 0,"Now Playing")),$("span",{},void 0,f)),this.state.showVideoBlocker&&$(L,{isVideoTheatreMinified:this.props.isVideoTheatreMinified,msid:e,imgsize:t,primeEndDate:this.primeEndDate,hideBlockerAndResume:this.hideBlockerAndResume,prc:this.props.userData.prcValue}),!u&&m&&!this.props.isWapView&&$("div",{className:"vid_title"},void 0," ",U||(U=$("strong",{},void 0,"Now Playing")),$("span",{},void 0,S)),m&&this.props.isWapView&&this.props.dockedPlayerMobileClass&&"mweb_as_dock"===this.props.dockedPlayerMobileClass&&!this.props.isInline&&$("div",{className:"mobile_dock_container",onClick:this.playVideo},void 0,$("div",{className:"vid_title_mobile"},void 0,M||(M=$("h2",{},void 0,"Now Playing")),$("h3",{},void 0,S)),!!this.props.dockTimerCountdown&&this.props.dockTimerCountdown>0&&$("div",{className:"countdownContainer"},void 0,$("span",{className:"countText"},void 0,this.props.dockTimerCountdown)),$("button",{type:"button",className:"closeDoc",onClick:()=>{"function"==typeof T.FI&&(this.props.deleteUnDockCandidateAction(),(0,T.FI)()),"function"==typeof T.RO&&(this.props.deleteDockCandidateAction(),(0,T.RO)()),(0,P.hg)()}})),!u&&h&&this.state.isLeadVideoTheatreOpen&&$(c,{items:this.props.videoTheatreSliderData,handleSliderCardItem:this.handleSliderCardItem,activeSlide:this.state.activeSlide}))}}F.defaultProps={livetv:!1,autoplay:!1,title:"",msid:"",chapterId:void 0,imgsize:"123456",videoClassName:"",videoClassInner:"",theatreModeClassName:"",slikeNextVideoAutoPlayed:!1,outsideEventListener:void 0,nextVideoMsidArray:[],videoPlayListData:[],store:{},slikeId:void 0,iconClassName:"",pos:"0",isPrime:!1,isUserPrime:!1,isContentPrime:!1,playerContainerId:"",isVideoSkipAds:!1,isDockingEnabled:!1,isDocked:!1,source:"videoshow",allowDim:!0,dockedClassName:"",deleteDockCandidate:void 0,deleteUnDockCandidate:void 0,dockTitle:"",isLeadVideo:!1,videoTheatreSliderData:void 0,isVideoTheatreMinified:!1,addToWatched:void 0,videoDataReceivedCallback:void 0,asyncLoadSdkjs:!1,isWapView:!1,iphonefs:!1,duration:"",isInline:!1,sectionName:"",isMute:!1,dontChangeDivId:!1,agency:"",hideControls:!1,playerType:"",titleStr:"",videoInloop:!1,videoDocked:!1,videoTitle:"",closeDockedVideo:void 0,playPauseDockedVideo:void 0,playState:!0,updateplayerConfig:{},tmplSource:"",scrollAutoPlay:!0,scrollAutoPause:!0,isVideoshow:!1,dockedPlayerMobileClass:"",isEtimes:!1,deleteUnDockCandidateAction:()=>{},deleteDockCandidateAction:()=>{}};const B=(0,a.$j)((e=>{var t;return{userData:r()(e,"login.userData",{}),isWapView:r()(e,"isMobile",!1),userPrcData:null===(t=e.login)||void 0===t?void 0:t.userPrcData}}),(e=>({deleteUnDockCandidateAction:()=>{e((0,T.FI)())},deleteDockCandidateAction:)))(F)},34099:(e,t,i)=>{"use strict";i.d(t,{Gd:()=>r,Gu:()=>p,In:()=>n,K$:()=>s,bS:()=>l,hg:()=>d,r0:()=>c,u5:()=>a});i(33529),i(94829);function o(e){return"undefined"!=typeof window&&window.player?Array.isArray(window.player)?e?window.player.find(():window.player[0]:window.player:null}function s({title:e,description:t,totalcount:i,timestamp:o,agency:s,seopath:a,msid:n,path:r="",embedId:d}){return{hl:e,des:t,views:i,lpt:o,agency:s,wu:`https://timesofindia.indiatimes.com/${a}/videoshow/${n}.cms`,id:n,path:r,embedId:d}}onst n=function r(e){const t=o(e);setTimeout((()=>{if(t&&"function"==typeof t.play)try{t.play()}catch(e){}}),100)}function d(){setTimeout((()=>{if("undefined"!=typeof window&&window.player&&window.player.length>0)window.player.forEach(((e,t)=>{window.player[t].pause()}));else if("undefined"!=typeof window&&window.player&&"function"==typeof window.player.pause)try{window.player.pause()}catch(e){}}),100)}function l(){setTimeout((()=>{if("undefined"!=typeof window&&window.player&&"function"==typeof window.player.destroy)try{window.player.destroy()}catch(e){}}),100)}function c(e,t){try{const i=o(t);e&&i&&"function"==typeof i.mute?i.mute():!e&&i&&"function"==typeof i.unmute&&i.unmute()}catch(e){}}function p(e,t){try{const i=o(t);i&&i.setPlayerHeadless&&"function"==typeof i.setPlayerHeadless&&i.setPlayerHeadless(e)}catch(e){}}},45948:(e,t,i)=>{"use strict";function o(){if(document.fullscreenElement&&null!==document.fullscreenElement||document.webkitFullscreenElement&&null!==document.webkitFullscreenElement||document.mozFullScreenElement&&null!==document.mozFullScreenElement||document.msFullscreenElement&&null!==document.msFullscreenElement)try{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}catch(e){}}i.d(t,{Z:()=>o})},42346:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a,f:);const o={},s=(e,t,i)=>{let s=o[t];return s||(s=new Promise(((o,s)=>{let a=document.getElementById(t);if(a||(a=document.createElement("script"),a.src=e,a.id=t,document.body.appendChild(a)),i&&window[i])o();else{let e=!1;a.addEventListener("load",(()=>{setTimeout(()})),a.addEventListener("error",(),setTimeout((,3e3)}})),o[t]=s,s)};function a(e=(){const t=()=>{Promise.all([s("https://tvid.in/sdk/slikeloader.js","tvid_sdk_js","spl"),s("https://timesofindia.indiatimes.com/video_comscore_api/version-3.cms","video_comscore_js")]).then((()=>{e()}))};s("https://imasdk.googleapis.com/js/sdkloader/ima3.js","ima3_sdk_js","ima").then((()=>{t()})).catch(()}},77967:]);
//# sourceMappingURL=23255_es6_module.7c0536fe.chunk.js.map