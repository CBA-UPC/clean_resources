(this.webpackJsonp=this.webpackJsonp||[]).push([[124,849],{"2o4f":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("3twG");,"6Zpb":Agcx:HFsG:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var i={};n.r(i),n.d(i,"setEnabledRefTypes",(function(){return c})),n.d(i,"setParams",(function(){return d})),n.d(i,"setUseSymbolicRefNames",(function(){return u})),n.d(i,"setProjectId",(function(){return h})),n.d(i,"setSelectedRef",(function(){return f})),n.d(i,"search",(function(){return p})),n.d(i,"searchBranches",(function(){return m})),n.d(i,"searchTags",(function(){return g})),n.d(i,"searchCommits",(function(){return b}));var a={};n.r(a),n.d(a,"isQueryPossiblyASha",(function(){return v})),n.d(a,"isLoading",(function(){return k}));var r=n("ewH8"),o=n("yi8e"),s=(n("FMw2"),n("qPgm")),l=n("0a87");const c=function({commit:e},t){return e("SET_ENABLED_REF_TYPES",t)},d=function({commit:e},t){return e("SET_PARAMS",t)},u=function({commit:e},t){return e("SET_USE_SYMBOLIC_REF_NAMES",t)},h=function({commit:e},t){return e("SET_PROJECT_ID",t)},f=p=m=g=b=v=k=n("3UXl"),n("iyoE");var y=n("NmEs"),S=n("QwBj"),_={SET_ENABLED_REF_TYPES(e,t){e.enabledRefTypes=t},SET_USE_SYMBOLIC_REF_NAMES(e,t){e.useSymbolicRefNames=t},SET_PARAMS(e,t){e.params=t},SET_PROJECT_ID(e,t){e.projectId=t},SET_SELECTED_REF(e,t){e.selectedRef=t},SET_QUERYREQUEST_STARTREQUEST_FINISHRECEIVE_BRANCHES_SUCCESSRECEIVE_BRANCHES_ERROR(e,t){e.matches.branches={list:[],totalCount:0,error:t}},RECEIVE_TAGS_SUCCESS(e,t){e.matches.tags={list:Object(y.h)(t.data).map((function(t){return{name:t.name,value:e.useSymbolicRefNames?"refs/tags/"+t.name:void 0}})),totalCount:parseInt(t.headers[l.l],10),error:null}},RECEIVE_TAGS_ERRORRECEIVE_COMMITS_SUCCESSRECEIVE_COMMITS_ERRORRESET_COMMIT_MATCHES;r.default.use(o.b);t.b=const E=,Iixh:function(e,t,n){"use strict";var i=n("yi8e"),a=(n("ZzK0"),n("z6RN"),n("BzOf"),n("RFHG"),n("xuo1"),n("2ibD"));n("Tznw"),n("IYH6"),n("6yen"),n("OeRx"),n("l/dT"),n("RqS2"),n("Zy7a"),n("cjZU"),n("OAhk"),n("X42P"),n("mHhP"),n("fn0I"),n("UB/6"),n("imhG"),n("B++/"),n("47t/");const r=o=s=function(e,t){const n=o();return n.innerHTML=e),n.childNodes.forEach((function(n){return function(e,t,n){if(r(e)&&(i=e.textContent,a=t,(s=i)&&!/^\s*$/.test(s)&&i.trim()===a.trim())){const i=o(t.trim(),n);e.replaceWith(i)}var i,a,s}(n,e,t)})),n.childNodes},l=new Map,c=d=function({path:e,d:t,wrapTextNodes:n}){const i=t.start_line+1,a=document.querySelector(`[data-path="${e}"]`).querySelectorAll(`.blob-content #LC${i}, .line_content:not(.old) #LC${i}`);null!=a&&a.length&&a.forEach((function(e){let i=0;n&&e.childNodes.forEach((function(e){e.replaceWith(...s(e.textContent,e.classList))}));const a=[...e.childNodes].find(();a&&!r(a)&&(a.dataset.charIndex=t.start_char,a.dataset.lineIndex=t.start_line,a.classList.add("cursor-pointer","code-navigation","js-code-navigation"),a.closest(".line").classList.add("code-navigation-line"))}))};var u={setInitialDatarequestDataErrorfetchDatashowBlobInteractionZonesshowDefinition,h={SET_INITIAL_DATA(e,{blobs:t,definitionPathPrefix:n,wrapTextNodes:i}){e.blobs=t,e.definitionPathPrefix=n,e.wrapTextNodes=i},REQUEST_DATA(e){e.loading=!0},REQUEST_DATA_SUCCESSREQUEST_DATA_ERRORSET_CURRENT_DEFINITION;t.a=,JYQl:QwBj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"h",(function(){return h})),n.d(t,"k",(function(){return f}));const i=0,a=200,r=204,o=401,s=403,l=404,c=410,d=413,u=422,h=429,f=[a,201,202,203,r,205,206,207,208,226]},U5ZW:function(e,t,n){"use strict";.d(t,"a",(function(){return i}))},W8JV:WHSv:c0EM:cnhR:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=function(){return{}}},erMc:fXLe:gpiL:function(e,t,n){"use strict";var i=n("s1D3"),a=n("MV2A"),r=n("4lAS"),o=n("30su"),s=n("4+8U"),l=n("FkSe"),c=n("/lV4"),d=n("jlnU"),u=n("W8JV"),h=n.n(u),f=n("JYQl"),p=n("uQq6"),m=n("6Zpb"),g=n.n(m),b=n("1cpz"),v=n("Agcx"),k=n("Mp8J"),y=n("3twG");const S={modalTitle:Object(c.g)("ForksDivergence|Resolve merge conflicts manually"),modalMessage:Object(c.g)("ForksDivergence|The upstream changes could not be synchronized to this project due to file conflicts in the default branch. You must resolve the conflicts manually:"),step1:Object(c.a)("Step 1."),step2:Object(c.a)("Step 2."),step3:Object(c.a)("Step 3."),step4:Object(c.a)("Step 4."),step1Text:Object(c.g)("ForksDivergence|Fetch the latest changes from the upstream repository's default branch:"),step2Text:Object(c.g)("ForksDivergence|Check out to a branch, and merge the changes from the upstream project's default branch. You likely need to resolve conflicts during this step."),step3Text:Object(c.g)("ForksDivergence|Push the updates to remote:"),copyToClipboard:Object(c.a)("Copy to clipboard"),close:Object(c.a)("Close")};var _={name:"ForkSyncConflictsModal",components:{GlModal:b.a,GlButton:r.a,ModalCopyButton:v.a},directives:{SafeHtml:k.a},props:{sourceDefaultBranch:{type:String,required:!1,default:""},sourceName:{type:String,required:!1,default:""},sourcePath:{type:String,required:!1,default:""},selectedBranch:{type:String,required:!0,default:""}},computed:{instructionsStep1instructionsStep2,methods:{show(){this.$refs.modal.show()},hide(){this.$refs.modal.hide()}},i18n:S,instructionsStep3:"git push"},E=n("tBpV"),w=Object(E.a)(_,(,[],!1,null,null,null).exports;var T={i18n:{forkedFrom:Object(c.g)("ForkedFromProjectPath|Forked from"),inaccessibleProject:Object(c.g)("ForkedFromProjectPath|Forked from an inaccessible project."),upToDate:Object(c.g)("ForksDivergence|Up to date with the upstream repository."),unknown:Object(c.g)("ForksDivergence|This fork has diverged from the upstream repository."),behind:Object(c.g)("ForksDivergence|%{behindLinkStart}%{behind} %{commit_word} behind%{behindLinkEnd}"),ahead:Object(c.g)("ForksDivergence|%{aheadLinkStart}%{ahead} %{commit_word} ahead%{aheadLinkEnd} of"),behindAhead:Object(c.g)("ForksDivergence|%{messages} the upstream repository."),limitedVisibility:Object(c.g)("ForksDivergence|Source project has a limited visibility."),error:Object(c.g)("ForksDivergence|Failed to fetch fork details. Try again later."),updateFork:Object(c.g)("ForksDivergence|Update fork"),createMergeRequest:Object(c.g)("ForksDivergence|Create merge request"),viewMergeRequest:Object(c.g)("ForksDivergence|View merge request"),successMessage:Object(c.g)("ForksDivergence|Successfully fetched and merged from the upstream repository.")},components:{GlIcon:i.a,GlLink:a.a,GlButton:r.a,GlSprintf:o.a,GlSkeletonLoader:s.a,ConflictsModal:w,GlLoadingIcon:l.a},apollo:{project:{query:g.a,notifyOnNetworkStatusChange:!0,variables(){return this.forkDetailsQueryVariables},skiperrorresultpollInterval(){return this.pollInterval}}},props:{projectPath:{type:String,required:!0},selectedBranch:{type:String,required:!0},sourceDefaultBranch:{type:String,required:!1,default:""},sourceName:{type:String,required:!1,default:""},sourcePath:{type:String,required:!1,default:""},canSyncBranch:{type:Boolean,required:!1,default:!1},aheadComparePath:{type:String,required:!1,default:""},behindComparePath:{type:String,required:!1,default:""},createMrPath:{type:String,required:!1,default:""},viewMrPath:{type:String,required:!1,default:""}},data:computed:{forkDetailsQueryVariablespollIntervalisLoading(){return this.$apollo.queries.project.loading},forkDetails(){var e;return null===(e=this.project)||void 0===e?void 0:e.forkDetails},hasConflicts(){var e;return null===(e=this.forkDetails)||void 0===e?void 0:e.hasConflicts},isSyncingisForkUpdated(){return this.isUpToDate&&this.currentPollInterval},ahead(){var e,t;return null===(e=this.project)||void 0===e||null===(t=e.forkDetails)||void 0===t?void 0:t.ahead},behindbehindText(){return Object(c.h)(this.$options.i18n.behind,{behind:this.behind,commit_word:Object(c.f)("commit","commits",this.behind)})},aheadTextisUnknownDivergenceisUpToDatebehindAheadMessagehasBehindAheadMessage(){return this.behindAheadMessage.length>0},hasUpdateButtonhasCreateMrButtonhasViewMrButtonforkDivergenceMessage,watch:{hasConflicts,methods:{async syncForkWithPollingshowConflictsModalstartSyncingcheckIfSyncIsPossibleincreasePollInterval},j=Object(E.a)(T,(,[],!1,null,null,null);t.a=j.exports},hTgk:function(e,t,n){"use strict";n.r(t),n.d(t,"i18n",(function(){return k}));n("UezY"),n("z6RN"),n("hG7+");var i=n("1cpz"),a=n("30su"),r=n("MV2A"),o=n("Bo17"),s=n("fSQg"),l=n("XiQx"),c=n("/lV4"),d=n("3twG"),u=n("ygVz"),h=(n("3UXl"),n("iyoE"),n("FkSe")),f=n("WHSv"),p=n.n(f);const m={btnText:Object(c.a)("Create a new fork"),title:Object(c.a)("Fork project?"),message:Object(c.a)("You can‚Äôt edit files directly in this project."),existingForksMessage:Object(c.a)("To submit your changes in a merge request, switch to one of these forks or create a new fork."),newForkMessage:Object(c.a)("To submit your changes in a merge request, create a new fork.")};var g={name:"ConfirmForkModal",components:{GlModal:i.a,GlLoadingIcon:h.a,GlLink:r.a},inject:{projectPath:{default:""}},model:{prop:"visible",event:"change"},props:{visible:{type:Boolean,required:!1,default:!1},modalId:{type:String,required:!0},forkPath:{type:String,required:!0}},dat),apollo:{forks:{query:p.a,variabl},upda}}},computed:{isLoadi},hasWritableFor},btnActions(){return{cancel:{text:Object(c.a)("Cancel")},primary:{text:this.$options.i18n.btnText,attributes:{href:this.forkPath,variant:"confirm"}}}}},i18n:m},b=n("tBpV"),v=Object(b.a)(g,(function(){var e=this,t=e._self._c;return t("gl-modal",{attrs:{visible:e.visible,"modal-id":e.modalId,title:e.$options.i18n.title,"action-primary":e.btnActions.primary,"action-cancel":e.btnActions.cancel},on:{chang}}},[t("p",[e._v(e._s(e.$options.i18n.message))]),e._v(" "),e.isLoading?t("gl-loading-icon"):e.hasWritableForks?[t("p",[e._v(e._s(e.$options.i18n.existingForksMessage))]),e._v(" "),e._l(e.forks}))]:t("p",[e._v(e._s(e.$options.i18n.newForkMessage))])],2)}),[],!1,null,null,null).exports;const k={modal:{title:Object(c.a)("Enable Gitpod?"),content:Object(c.g)("Gitpod|To use Gitpod you must first enable the feature in the integrations section of your %{linkStart}user preferences%{linkEnd}."),actionCancelText:Object(c.a)("Cancel"),actionPrimaryText:Object(c.a)("Enable Gitpod")},webIdeText:Object(c.g)("WebIDE|Quickly and easily edit multiple files in your project."),webIdeTooltip:Object(c.g)("WebIDE|Quickly and easily edit multiple files in your project. Press . to open"),toggleText:Object(c.a)("Edit")};var y={name:"CEWebIdeLink",components:{GlModal:i.a,GlSprintf:a.a,GlLink:r.a,GlDisclosureDropdown:o.a,GlDisclosureDropdownGroup:s.a,GlDisclosureDropdownItem:l.b,ConfirmForkModal:v},i18n:k,mixins:[u.b.mixin()],props:{isFork:{type:Boolean,required:!1,default:!1},needsToFork:{type:Boolean,required:!1,default:!1},gitpodEnabled:{type:Boolean,required:!1,default:!1},isBlob:{type:Boolean,required:!1,default:!1},showEditButton:{type:Boolean,required:!1,default:!0},showWebIdeButton:{type:Boolean,required:!1,default:!0},showGitpodButton:{type:Boolean,required:!1,default:!1},showPipelineEditorButton:{type:Boolean,required:!1,default:!1},userPreferencesGitpodPath:{type:String,required:!1,default:""},userProfileEnableGitpodPath:{type:String,required:!1,default:""},editUrl:{type:String,required:!1,default:""},pipelineEditorUrl:{type:String,required:!1,default:""},webIdeUrl:{type:String,required:!1,default:""},webIdeText:{type:String,required:!1,default:""},gitpodUrl:{type:String,required:!1,default:""},gitpodText:{type:String,required:!1,default:""},disableForkModal:{type:Boolean,required:!1,default:!1},forkPath:{type:String,required:!1,default:""},forkModalId:{type:String,required:!1,default:""},webIdePromoPopoverImg:{type:String,required:!1,default:""},cssClasses:{type:String,required:!1,default:"gl-sm-ml-3"}},dat),computed:{actio},hasActio},editActi},webIdeActionTe},webIdeAction(){var e=this;if(!this.showWebIdeButton)return null;const t=this.needsToFork?{handl}}:{handl}};return{key:"webide",text:this.webIdeActionText,secondaryText:this.$options.i18n.webIdeText,tracking:{action:"click_consolidated_edit",label:"web_ide"},...t}},gitpodActionTe},computedShowGitpodButt},pipelineEditorActi},gitpodActi},enableGitpodModalPro},mountForkMod}},methods:{showMod},executeActi}}},S=Object(b.a)(y,(function(){var e=this,t=e._self._c;return t("div",{class:e.cssClasses},[e.hasActions?t("gl-disclosure-dropdown",{attrs:{variant:e.isBlob?"confirm":"default",category:e.isBlob?"primary":"secondary","toggle-text":e.$options.i18n.toggleText,"data-testid":"action-dropdown","fluid-width":"",block:""},on:{shown:function(t){return e.$emit("shown")},hidden:function(t){return e.$emit("hidden")}}},[e._t("before-actions"),e._v(" "),t("gl-disclosure-dropdown-group",{staticClass:"edit-dropdown-group-width"},e._l(e.actions,(function(n){return t("gl-disclosure-dropdown-item",{key:n.key,attrs:{item:n,"data-testid":n.key+"-menu-item"},on:{actio}},scopedSlots:e._u([{key:"list-item",fn:function(){return[t("div",{staticClass:"gl-display-flex gl-flex-direction-column"},[t("span",{staticClass:"gl-font-weight-bold gl-mb-2",attrs:{"data-testid":"action-primary-text"}},[e._v(e._s(n.text))]),e._v(" "),t("span",{staticClass:"gl-font-sm gl-text-secondary",attrs:{"data-testid":"action-secondary-text"}},[e._v("\n              "+e._s(n.secondaryText)+"\n            ")])])]},proxy:!0}],null,!0)})})),1),e._v(" "),e._t("after-actions")],2):e._e(),e._v(" "),e.computedShowGitpodButton&&!e.gitpodEnabled?t("gl-modal",e._b({model:{value:e.showEnableGitpodModal,callback:function(t){e.showEnableGitpodModal=t},expression:"showEnableGitpodModal"}},"gl-modal",e.enableGitpodModalProps,!1),[t("gl-sprintf",{attrs:{message:e.$options.i18n.modal.content},scopedSlots:e._u([{key:"link",f}}],null,!1,2377202603)})],1):e._e(),e._v(" "),e.mountForkModal?t("confirm-fork-modal",{attrs:{"modal-id":e.forkModalId,"fork-path":e.forkPath},model:{value:e.showForkModal,callbac},expression:"showForkModal"}}):e._e()],1)}),[],!1,null,null,null);t.default=S.exports},iM2},jHQ∑ "))}},lOtA:function(e,t,n){"use strict";var i=n("P/Kr"),a=n.n(i),r=n("Tmea"),o=n.n(r),s=(n("LdIe"),n("z6RN"),n("PTOk"),n("FMw2"),n("dHQd"),n("yoDG"),n("tWNI"),n("8d6S"),n("VwWG"),n("IYHS"),n("MViX"),n("GDOA"),n("a0mT"),n("ta8/"),n("IKCR"),n("nmTw"),n("W2kU"),n("58fc"),n("Rhav"),n("eppl"),n("Lzak")),l=n("s1D3"),c=n("crTv"),d=n("yi8e"),u=n("/lV4"),h=n("0a87"),f=n("HFsG");n("3UXl"),n("iyoE");function p(e){returnfault}}))}var m={name:"RefSelector",components:{GlBadge:s.a,GlIcon:l.a,GlCollapsibleListbox:c.a},inheritAttrs:!1,props:{disabled:{type:Boolean,required:!1,default:!1},enabledRefTypes:{type:Array,required:!1,rn h.a},va).size}},value:{type:String,required:!1,default:""},queryParams:{type:Object,required:!1,ion(){}},projectId:{type:String,required:!0},translations:{type:Object,required:!1,turn{}}},useSymbolicRefNames:{type:Boolean,required:!1,default:!1},state:{type:Boolean,required:!1,default:!0},name:{type:String,required:!1,default:""},toggleButtonClass:{type:[String,Object,Array],required:!1,default:nullry:""}),computed:{...Object(d.f)({matches:function(e){return e.matches},lastQuery:function(e){return e.query},selectedRef:function(e){return e.selectedRef}params}}),...Object(d.d)(["isLoading","isQueryPossiblyAShations}},listmmits)},branches(){return this.enabledRefTypes.includes(h.e)?this.matches.branches.list:[]},tags(){return this.enabledRefTypes.includes(h.h)?this.matches.tags.list:[]}ist:[]},extendedToggleButass),e},footerSQuery}mmits)},selectedRefFotedRef},bulected},noResultesults},droph.c),e}},watch:{value:{immediate:!0value)}}},befof.b)()}e:!0})},methods:{...Object(d.c)(["setEnabledRefTypes","setUseSymbolicRefNames","setParams","setProjectId","setSelectedRef"]),...Object(d.c)({storeSearch:"search"}),onSearcharch()},sdRef))query)},totalCl:""+e}}},g=n("tBpV"),b=Object(g.a)(m,(function(){var e=this,t=e._self._c;return t("div",[t("gl-collapsible-listbox",e._g(e._b({staticClass:"ref-selector gl-w-full",attrs:{block:"",searchable:"",selected:e.selectedRef,"header-text":e.i18n.dropdownHeader,items:e.listBoxItems,"no-results-text":e.noResultsMessage,searching:e.isLoading,"search-placeholder":e.i18n.searchPlaceholder,"toggle-class":e.extendedToggleButtonClass,"toggle-text":e.buttonText,icon:e.dropdownIcon,disabled:e.disabled},on:hide")},search:e.onSearchBoxInput,select:e.selectRef},scopedSlots:e._u([{key:"group-la)))])]}},{key:"list-item",fn:function({item:n}){return[e._v("\n      "+e._s(n.text)+"\n      "),n.default?t("gl-badge",{attrs:{size:"sm",variant:"info"}},[e._v(e._s(e.i18n.defaultLabelText))]):e._e()]}},{key:"foo1)}))]},proxy:!0}],null,!0)},"gl-collapsible-listbox",e.$attrs,!1),e.$listeners)),e._v(" "),e.name?t("input",{attrs:{"data-testid":"selected-ref-form-field",type:"hidden",name:e.name},domProps:{value:e.selectedRef}}):e._e()],1)}),[],!1,null,null,null);t.a=b.exports},m4yQ:function(e,t,n){"use strict";n.r(t);var i=n("ewH8"),a=n("GiFX"),r=n("cnhR"),o=n("NmEs"),s=n("3twG"),l=n("hTgk"),c=n("5v28");i.default.use(a.b);const d=new a.b({defaultClient:Object(c.b)()});t.}})}})}}}]);
//# sourceMappingURL=commons-pages.projects.blob.show-pages.projects.tree.show-treeList.a0fd13c9.chunk.js.mapNNUAL_PLAN_CARD_DISCOUNTED_DISCLAIMER_MESSAGE:[{type:0,value:"* Billed annually."}],PRO_OPTIONS_TWOYEAR_PLAN_CARD_BILLED:[{type:0,value:"* Billed every 2 years."}],SOMETHING_WENT_WRONG:[{type:0,value:"Something went wrong."}],UNLIMITED_STORAGE_HERO_HEADER:[{type:0,value:"Unlimited storage, ad-free browsing, advanced stats, and more."}],LIMITED_TIME_OFFER_MESSAGE:[{type:0,value:'For a limited time, new members receive a $25 gift card to Peak Design, a free photo book from Chatbooks, and a free month of PHLEARN. <a href="'},{type:1,value:"url"},{type:0,value:'">Learn more</a>.'}],UNLIMITED_UPLOADS_BACKUP_HEADER:[{type:0,value:"Unlimited uploads and worry-free photo backup"}],UNLIMITED_UPLOADS_BACKUP_COPY:[{type:0,value:"Upload as many photos as you can take, always at true full resolution. With Auto-Uploadr, quickly and easily backup your entire photo collection from your phone, computer, hard drives, iPhoto, Dropbox, and more."}],UNLIMITED_UPLOADS_BACKUP_COPY_UPDATED:[{type:0,value:"Upload as many photos as you can take, always at true full resolution. With Auto-Uploadr, quickly and easily back up your entire photo collection from your phone, computer, hard drives, iPhoto, Dropbox, and more."}],UNLIMITED_UPLOADS_BACKUP_COPY_2019:[{type:0,value:"Upload as many photos as you can take, always at true full resolution. With Auto-Uploadr, quickly and easily back up your entire photo collection from your phone, computer, hard drives, Dropbox, Adobe Lightroom, and more."}],CHECKOUT_UNAVAILABLE:[{type:0,value:"Unavailable"}],ACCOUNT_OVER_LIMIT:[{type:0,value:"Your account is over the limit."}],FREE_ACCOUNTS_LIMITED_UPGRADE_NOW:[{type:0,value:"Free accounts on flickr are limited to "},{type:1,value:"countString"},{type:0,value:" photos. Upgrade now to save your photos and get all the benefits of Flickr Pro."}],UPGRADE_TO_SAVE_PHOTOS:[{type:0,value:"Upgrade now to save your photos and get all the benefits of Flickr Pro."}],SAVE_MY_PHOTOS:[{type:0,value:"Save my photos"}],PRO_OPTIONS_EARLY_RENEWAL_DISCLAIMER_MESSAGE:[{type:0,value:"* "},{type:1,value:"months"},{type:0,value:" months charged now"}],FLICKR_2_YEAR_PRO_PLAN:[{type:0,value:"2 Year Plan"}],PARTNER_PERKS_SECTION_TITLE_2022:[{type:0,value:"Annual and 2 Year Pro subscription perks"}],FREE_TRIAL_HEADER_2022:[{type:0,value:"Get more from your photos with Flickr Pro."}],FREE_TRIAL_HEADER_MESSAGE_2022:[{type:0,value:"Advanced stats, ad-free browsing, automatic photo uploads, and more."}],IDEAL_EXPERIENCE_HEADER_MESSAGE:[{type:0,value:"The ideal Flickr experience."}],FREE_TRIAL_HEADER_CTA_2022:[{type:0,value:"Upgrade today."}],PREMIUM_SUPPORT_HEADER:[{type:0,value:"Premier product support."}],PREMIUM_SUPPORT_COPY:[{type:0,value:"Why wait in line for help? Flickr Pros receive top-priority assistance from our world-class support heroes, so you can resolve your questions and get back to your photography."}],BUT_WAIT_THERES_MORE_HEADER:[{type:0,value:"But wait, there‚Äôs more!"}],BUT_WAIT_THERES_MORE_COPY:[{type:0,value:"Give your content the Pro treatment with 6k photo display options, 10-minute video uploads, and sales links to wherever you host your photo business (we recommend SmugMug‚Äîsee our 50% off perk below)."}],PRIVACY_HEADER:[{type:0,value:"Detailed privacy settings for every photo."}],PRIVACY_COPY:[{type:0,value:"Got albums you want to share with friends, family, or no-one at all? Flickr Pros get complete control over privacy settings for all their photos (free accounts are limited to 1,000 uploads, only 50 of which can be private)."}],SAFE_SPACE_HEADER:[{type:0,value:"A safe space for every kind of photography."}],SAFE_SPACE_COPY:[{type:0,value:"Flickr is home to every kind of photography, including those that might be considered ‚Äúrisque‚Äù or be banned on other platforms. Flickr Pro lets you share these interests with other dedicated artists without fear."}],UNLIMITED_UPLOADS_AND_AUTO_BACKUP:[{type:0,value:"Unlimited full-resolution uploads and auto-backup"}],AD_FREE_BROWSING_FOR_YOU_AND_VISITORS:[{type:0,value:"Ad-free browsing for you and your visitors"}],DETAILED_STATS_DASHBOARD:[{type:0,value:"Detailed stats dashboard for your photos"}],PRO_UPLOAD_UPSELL:[{type:0,value:"A home for all your photos"}],PRO_UPLOAD_UPSELL_DESCRIPTION:[{type:0,value:"Unlimited full-resolution photo sharing and backup on all your devices"}],NO_ADS_UPSELL:[{type:0,value:"No ads"}],ALL_CONTROLS_UPSELL:[{type:0,value:"All the controls"}],ALL_CONTROLS_UPSELL_DESCRIPTION:[{type:0,value:"Detailed stats dashboard, enhanced privacy settings, and more!"}],BEST_VALUE:[{type:0,value:"BEST VALUE"}],PRO_UPSELL_FOOTER_BILLING_DESCRIPTION:[{type:0,value:'Each Flickr Pro subscription is auto-renewing and non-refundable. <a class="learn-more-link" href="'},{type:1,value:"url"},{type:0,value:'" target="_blank">Learn more</a>.'}],PERCENT_OFF_DISCOUNT:[{type:1,value:"number_symbol"},{type:0,value:"% off"}],DOWNLOAD_MODAL_AD_FREE_BROWSING:[{type:0,value:"Ad free browsing"}],DOWNLOAD_MODAL_PREMIUM_SUPPORT:[{type:0,value:"Premium product support"}],DOWNLOAD_MODAL_INSTANT_DL:[{type:0,value:"Instant downloads"}],DOWNLOAD_MODAL_UNLIMITED_BACKUP:[{type:0,value:"Unlimited backup at full resolution"}]})}),"@VERSION@",{requires:["intl"]});YUI.add("photo-engagement-view",(function(e,t){require("hermes-core/flog")(t);e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return this.params=t,t.showFaveCount=t.isResponsiveMobile,this.photoId=t.photoId,this.nsid=t.nsid,""===this.get("container").get("innerHTML")&&this.setContainerHTML(""),this.signinPendingQueue=t.signinPendingQueue,this.isResponsiveMobile=t.isResponsiveMobile,this.photoPrintsHelper=new e.PhotoPrintsHelper(this.appContext),this.signedIn=this.appContext.getViewer().signedIn,this.photoCardHelper=new e.PhotoCardHelper(this.appContext),this.curationHelper=new e.CurationHelper(this.appContext,{view:this}),this.downloadLink="",this.downloadInterstitialModal,t.subviewParams={"like-engagement-item-view":{photoId:t.photoId,showCount:!1,size:"medium",isPadded:!0}},this},subviewConfig:{"fave-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,hideWhoFaved:!0,additionalViewClasses:["engagement-item"],disabled:function(){return this.appContext.flipper.isFlipped("enable-likes")}},"like-engagement-item-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,additionalViewClasses:["engagement-item"],theme:"light",disabled:function(){return!this.appContext.flipper.isFlipped("enable-likes")}},"photo-well-scrappy-edit-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,additionalViewClasses:function(){return this.appContext.flipper.isFlipped("enable-photo-page-lightbox-updates")?["engagement-item","enable-photo-page-lightbox-updates"]:["engagement-item"]}},"fluid-share-photo-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,additionalViewClasses:["engagement-item"],theme:"light"},"print-button-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,additionalViewClasses:["engagement-item"]}},loadState:function(){return this.appContext.getModel("photo-models",this.photoId).then((e=>{var t=e.getValue("owner");return this.set("photo",e),this.downloadButtonEnabled=!1,e.getValue("isVideo")?(this.appContext.flipper.isFlipped("disable-video-playback")?this.downloadButtonEnabled=!1:(this.appContext.flipper.isFlipped("enable-album-download")&&(this.downloadButtonEnabled=e.getValue("engagement").getValue("canDownload")),t.getValue("isMe")&&(this.downloadButtonEnabled=!0)),this.downloadLink="/video_download.gne?id="+e.getValue("id")):(this.downloadButtonEnabled=!0,this.downloadLink=e.getValue("url")+"/sizes/l/"),this.appContext.getModel("person-relationship-models",e.getValue("owner").getValue("nsid"))})).then((e=>{this.set("relationshipModel",e)}))},buildContainer:function(){var e,t=this.get("photo"),o=t.getValue("owner"),n=this.get("container"),i=this.photoCardHelper.convertPhotoModel(t);return e={"share-view":this.subviews["fluid-share-photo-view"]?this.subviews["fluid-share-photo-view"].get("container"):"",photoId:t.getValue("id"),ownerId:t.getValue("owner").getValue("id"),isVideo:t.getValue("isVideo"),viewerIsOwner:o.getValue("isMe"),downloadingAvailable:this.downloadButtonEnabled,downloadLink:this.downloadLink,showPrintButton:this.photoPrintsHelper.canPrintPhoto(t,this.get("relationshipModel")),photoItem:i,signedIn:this.signedIn,faveCount:t.getValue("engagement").getValue("faveCount"),commentCount:t.getValue("engagement").getValue("commentCount"),isResponsiveMobile:this.isResponsiveMobile},this.appContext.forceServerRender&&(e.downloadItems=this.getDownloadMenuItems()),this.setContainerWithTemplate("photo-engagement",e),this.isResponsiveMobile&&n.addClass("responsive-mobile"),this},activate:function(){var t=this,o=(this.get("photo").getValue("license"),this.get("container"));if(this.engagementModel=this.get("photo").getValue("engagement"),this.signinPendingQueue&&this.signinPendingQueue.length>0)for(var n=this.signinPendingQueue,i=0;i<n.length;i++)"download"===n[i].key&&n[i].value&&n[i].value.id===this.photoId&&this.downloadItem(n[i].value.imageUrl);return this.engagementModel.getValue("canDownload")&&this.registerEventHandler(e.one("body").delegate("click",(function(e){t.canShowDownloadInterstitial()?t.showDownloadIntersitialModal(e):t.handleDownloadItemClick(e)}),".sizes li a.download-image-size")),this.attachKeyEvent("down:68",this.handleDownloadMenuButtonClick.bind(this)),this.registerEventHandler(o.delegate("click",this.handleDownloadMenuButtonClick.bind(this),".download a")),this.curateNode=o.one(".engagement-item.curate"),this.curateNode&&this.registerEventHandler(this.curateNode.on("click",this.handleCurateClick.bind(this))),this.commentNode=o.one(".engagement-item.comment"),this.commentNode&&(this.commentTextNode=this.commentNode.one(".engagement-count"),this.registerEventHandler(this.commentNode.on("click",this.showCommentsModal.bind(this)))),this.faveTextNode=o.one(".fave-count"),this.registerEventHandler(this.engagementModel.on("valuesChanged",this.handleEngagementModelValuesChanged.bind(this))),this},canShowDownloadInterstitial:function(){let e=this.appContext.viewportData.getWidth();return!this.get("photo").getValue("owner").getValue("isMe")&&(window&&window.innerWidth&&window.innerWidth!==e&&(e+=this.appContext.viewportData.scrollbarWidth),e&&e>700&&this.appContext.adManager.canShowAd(this.get("photo")))},showDownloadIntersitialModal:function(t){let o=this;t.preventDefault(),this.downloadInterstitialModal=new e.Views.FluidModal({appContext:this.appContext,dismissOnOverlayClick:!1,dismissOnActionClick:!1,showBodyLines:!1,showCancelButton:!1,showFooter:!1,showCancelX:!0,subview:new e.Views["photo-page-download-interstitial-view"]({appContext:o.appContext,nsid:this.nsid,photoId:this.photoId}),width:900,minWidth:650,height:540,fullWindow:!1,classList:"download-interstitial-modal"}),this.downloadInterstitialModal.show(),this.downloadInterstitialModal.on("timerEnded",(function(){o.handleDownloadItemClick(t)}))},getDownloadMenuItems:function(t){var o,n=this.get("photo"),i=e.clone(n.getValue("sizes")),a=[],s=n.getValue("engagement").getValue("canDownload"),l=this;for(["q","sq"].some((function(e){if(i[e])return i[e].label=l.intlMessage({intlName:"photo-page-scrappy.SQUARE"}),a.push(i[e])})),["w","n","s","t"].some((function(e){if(i[e])return i[e].label=l.intlMessage({intlName:"photo-page-scrappy.SMALL"}),a.push(i[e])})),["c","z","m"].some((function(e){if(i[e])return i[e].label=l.intlMessage({intlName:"photo-page-scrappy.MEDIUM"}),a.push(i[e])})),["k","h","l"].some((function(e){if(i[e])return i[e].label=l.intlMessage({intlName:"photo-page-scrappy.LARGE"}),a.push(i[e])})),["6k","5k","4k","3k"].some((function(e){if(i[e])return i[e].label=l.intlMessage({intlName:"common.XLARGE"}),a.push(i[e])})),i.o&&(i.o.label=this.intlMessage({intlName:"photo-page-scrappy.ORIGINAL"}),a.push(i.o)),o=0;o<a.length;o++)a[o].url=a[o].displayUrl.replace(/^(.+)(\..+)$/,"$1_d$2");return this.templates("scrappy-download-menu")({photoURL:n.getValue("url"),sizes:a,showDownloadSizes:s})},createDownloadDialog:function(t){var o=this.get("container");this.downloadMenu&&(this.downloadMenu.close(),this.downloadMenu=null),this.downloadMenu=new e.Views.FluidDroparound({appContext:this.appContext,dismissOnOverlayClick:!0,preferTop:!0,showDropArrow:!0,anchorOffsetVertical:5,width:200,anchorElement:o.one(".download"),htmlMessage:t,closeOnScroll:!1,classList:"download-dialog-tooltip",autoSizeToContent:!0}),this.downloadMenu.show()},handleDownloadMenuButtonClick:function(e){var t=this.get("photo");if(this.downloadButtonEnabled)if(t.getValue("isVideo")){if(this.appContext.flipper.isFlipped("enable-album-download"))e.preventDefault(),this.downloadItem(this.downloadLink);else if(!t.getValue("owner").getValue("isMe"))return e.preventDefault(),!1}else e.halt(),this.createDownloadDialog(this.getDownloadMenuItems());else e.preventDefault()},handleDownloadItemClick:function(t){t.preventDefault(),this.downloadItem(t.currentTarget.getAttribute("href"));let o=t.currentTarget;if(o){let t=o.getAttribute("data-size"),n=o.getAttribute("data-res-width"),i=o.getAttribute("data-res-height");t&&n&&i&&e.Snowplough.sendSelfDescribingEvent({schema:e.Snowplough.SCHEMAS.DOWNLOAD,data:{photoId:[parseInt(this.get("photo").getValue("id"),10)],size:t.toLowerCase(),width:parseInt(n,10),height:parseInt(i,10),license:parseInt(this.get("photo").getValue("license"),10),ownerNsid:this.get("photo").getValue("owner").id,isBatch:!1}},e.Snowplough.getPhotoContextFromModel(this.get("photo")))}!this.canShowDownloadInterstitial()&&this.downloadMenu&&(this.downloadMenu.close(),this.downloadMenu=null)},downloadItem:function(e){document.location=e},handleCurateClick:function(){var t=this,o=this.get("photo").getValue("isOwner");"fluid-droparound-view"===this.curationHelper.showAddToCuration({photoId:this.get("photo").getValue("id"),showAlbums:o,showGalleries:!o,anchorNode:this.curateNode}).name&&(this.fire("menuOpened"),this.curationHelper.on("curateDroparoundClosed",(function(){t.fire("menuClosed"),t.curateNode.removeClass("active")})),this.curateNode.addClass("active")),e.Snowplough.sendStructuredEvent({category:"photopageinteractions",action:"curateClick"},e.Snowplough.getPhotoContextFromModel(this.get("photo")))},showCommentsModal:function(){var t={appContext:this.appContext,photoId:this.photoId,isScrollable:!0,hasHeader:!0},o=new e.ModalDroparoundHelper(this.appContext,{useViewportType:!1,containerType:"modal",configs:{common:{subviewName:"photo-comments-view",subviewParams:t},modal:{height:550,flexLayout:!0}}});this.registerEventHandler(o.on("close",(()=>{e.fire("photoCommentModalClosed",{photoId:this.photoId})}))),this.registerEventHandler(e.on("addComment:showingSignupModal",(()=>{o.close()}))),o.show()},handleEngagementModelValuesChanged:function(t){var o,n;t.commentCount?(o=t.commentCount.newVal,this.commentTextNode&&(this.commentTextNode.set("text",e.IntlNumber.format(o,this.appContext.lang,1)),this.commentTextNode.toggleClass("hidden",0===o))):t.faveCount&&(n=t.faveCount.newVal,this.faveTextNode&&(this.faveTextNode.set("text",e.IntlNumber.format(n,this.appContext.lang,1)),this.faveTextNode.toggleClass("hidden",0===n)))}})}),"@VERSION@",{requires:["flickr-view","hermes-template-photo-engagement","hermes-template-scrappy-download-menu","signup-modal-view","fluid-share-photo-view","fluid-droparound-view","print-button-view","photo-comments-view","better-throttle","photo-prints-helper","photo-card-helper","fluid-modal-view","photo-page-download-interstitial-view"],optionalRequires:["hermes-core"],optional:["photo-models"],langBundles:["common","photo-page-scrappy","comments"]});YUI.add("flickr-route",(function(r,e){var t=require("hermes-core/flog")(e),i=require("hermes-core/type-validator");r.Routes=r.Routes||{},r.FlickrRoute=function(r){this.appContext=r},r.FlickrRoute.prototype={run:function(){},setRouteDataOnHistory:function(e,t){return r.HistoryHelper.setData(this.name,e,t)},getRouteDataFromHistory:function(e){return r.HistoryHelper.getData(this.name,e)},getRouteMetaValue:function(r,e){return this.appContext.routeConfig.meta?e?this.appContext.routeConfig.meta[r]?this.appContext.routeConfig.meta[r]:e:this.appContext.routeConfig.meta[r]?this.appContext.routeConfig.meta[r]:null:null},displayServerErrorOrClientRedirect:function(e,t,i){return YUI.Env.isServer?this.displayRouteErrors(e,new r.RouteError(404,t)):r.Promise.resolve({redirect:i||e.url})},detectRouteErrors:function(){var e=r.Array(arguments);return e.filter((function(e,t){return e instanceof r.RouteError})).sort((function(r,e){return r.type-e.type}))},displayRouteErrors:function(e,t){var i=r.Lang.isArray(t)?t[0]:t;return r.Promise.resolve(this["display"+i.type+"Error"](e,i))},display500Error:function(e,i){var a,s,o;return a={view:"error-500-page-view",params:{},headers:{statusCode:500}},(r.config.flickr.error.show_debugging_info||e.isPossiblyAdminUser||this.appContext&&this.appContext.auth&&this.appContext.auth.isPossiblyAdminUser)&&(a.params.source="flickrRoute#display500Error",a.params.message=i.message,a.params.stack=i.stack,a.params.apiMethod=i.apiMethod),YUI.Env.isServer||(a.params.message=i.message,a.params.apiMethod=i.apiMethod),e.id&&(a.params.requestID=e.id),i&&"SiteAuth"===i.type&&(i.redirect?(s=YUI.Env.isServer?e.protocol+"://"+e.hostname+e.originalUrl:e.url,o=r.url("/siteauth/?redirect_url="+encodeURIComponent(s)),YUI.Env.isServer&&t.info("Redirecting to siteauth"),a={redirect:o}):YUI.Env.isServer&&(a.params.siteAuthFailure=!0)),void 0===a.redirect?t.info("render",{status:500,req:e,err:i,isBot:this.appContext.getUA().isBot}):t.info("redirect",{status:302,req:e,location:a.redirect,isBot:this.appContext.getUA().isBot}),a},display303Error:function(r,e){return{redirect:e.options.redirect,headers:{statusCode:303}}},display403Error:function(r,e){return this.displayStandardErrorPage(r,e,403)},display404Error:function(r,e){return e=e||new Error("404"),t.info("render",{status:404,url:r.url,err:e,isBot:this.appContext.getUA().isBot}),this.displayStandardErrorPage(r,e,404)},display410Error:function(r,e){return this.displayStandardErrorPage(r,e,410)},displayStandardErrorPage:function(e,t,i){var a;return t=t||{},a={view:"fluid-error-page-view",params:{statusCode:i,url:e.url,message:t.message,catchAll:t.catchAll||!1},headers:{statusCode:i}},t.data&&(a.params=r.merge(a.params,t.data)),(r.config.flickr.error.show_debugging_info||e.isPossiblyAdminUser||this.appContext&&this.appContext.auth&&this.appContext.auth.isPossiblyAdminUser)&&(a.params.source="flickrRoute#display"+i+"Error",a.params.message=t.message),e.id&&(a.params.requestID=e.id),a},getPageNumber:function(r,e){var t=parseInt(r.params[e||"page_number"],10);return(isNaN(t)||t<=1)&&(t=1),t},getNSIDOrPathAlias:function(r){var e;return i.nsid(r)?e=r:i.pathAlias(r)?e={pathAlias:r}:t.warn("Couldn't identify "+r+" as an nsid or path alias."),e}},r.RouteError=function(r,e,t){this.type=r,this.message=e||"",this.data=t||{}}}),"@VERSION@",{requires:["flickr-promise","moment","url","history-helper"],optionalRequires:["hermes-core"]});