/*! For license information please see ads.js.LICENSE.txt */
!function(){var e={327:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Ld:function(){return c},WI:function(){return u}});var i,o=Symbol.for("openweb-pubsub-store");window[o]=null!=(i=window[o])?i:{events:{},queues:{}};var a=function(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return(n=window[o].events[e])[t].apply(n,i)},s=function(e,t,n){var r=Symbol("key");if(function(e,t,n){!function(e){var t;window[o].events[e]=null!=(t=window[o].events[e])?t:{}}(e),window[o].events[e][t]=n}(e,r,t),n.history){var i=function(e){var t;return null!=(t=window[o].queues[e])?t:[]}(e);i.forEach((function(e){return t.apply(void 0,e.params)}))}return r},c=function(e,t,n){var i=r({history:!0},n),a=s(e,t,i);return function(){return function(e,t){delete window[o].events[e][t]}(e,a)}},u=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(e){var t;return null!=(t=window[o].events[e])?t:{}}(e);(function(e,t){!function(e){var t;window[o].queues[e]=null!=(t=window[o].queues[e])?t:[]}(e),window[o].queues[e].push({event:e,params:t})})(e,n),Object.getOwnPropertySymbols(i).forEach((function(t){return a.apply(void 0,[e,t].concat(n))}))}},666:function(e,t,n){"use strict";n.d(t,{Z:function(){return $p}});var r={};n.r(r),n.d(r,{e4:function(){return ru},assign:function(){return nu},al:function(){return Xc},aT:function(){return iu},Sl:function(){return ou},vU:function(){return au},o$:function(){return Yc},bf:function(){return Hc},OU:function(){return Kc},yC:function(){return cu},lW:function(){return Zc},BL:function(){return eu},sT:function(){return tu},Q8:function(){return Gc},AE:function(){return qc},XA:function(){return Jc}});var i=n(661);function o(e){return{render(t){(0,i.render)(t,e)},unmount(){(0,i.unmountComponentAtNode)(e)}}}var a=Symbol.for("openweb-global-object");void 0===window[a]&&(window[a]={flags:{},config:{realTimeNotifications:{}},callbacks:{},services:{},initFunctions:{},safeframe:{}});var s=window[a],c="video",u="display",l="above",d="below",f="left",p="right",h="directionBelow",v="pitc",_="pitc-double-decker",y="reactions",g="spotlight",m="topic-tracker",b="recirculation",w="Mobile",S="Desktop",E="containerWidth",k="scroll",x="ads",O="ads-independent",A="passback",I="dbv",C="passback",P={Dfp:"dfp",Aniview:"aniview",Browsi:"browsi"},N="development",T="production",D="OW_ADS_CONFIG_CACHED",j="OW_ADS_CONFIG_CACHE_EXPIRATION_TIMEOUT",R="OW_ADS_CONFIG_CACHE_VERSION",M="botBypassDisabled",U="overrideAdsConfig",V="[data-spot-im-module-default-area=conversation]",$='[data-spotim-module="conversation"]:not([data-spotim-not-for-self-bootstrapping])',L={SlideInDown:"stickyDesktopSlideInDown",SlideInvisiblyDown:"stickyDesktopSlideInvisiblyDown",SlideInUp:"stickyDesktopSlideInUp"},B="DisplayAdError",z="AD_UNITS_MANAGER_EVENT",F="AD_UNIT_EVENT",W="adUnitsOverlap",H="adUnitInView",Y="adUnitOutOfView",G="adUnitReady";let q=function(e){return e.AdClick="brw_click",e.AdCompleted="brw_AdCompleted",e.AdError="brw_AdError",e.AdImpression="brw_Impression",e.Inventory="brw_Inventory",e.NoAd="brw_noAd",e.PlayerClosed="brw_playerClosed",e.ViewableImpression="brw_Vimp",e}({});const J={row:1,column:1},K="Responsive",Z="spotim.market",Q=[b],X={homepage:"pitc_hp",article:"pitc_ap",gallery:"pitc_gp",search:"pitc_sp",video:"pitc_vp"},ee={homepage:"independent_ad_hp"},te={is_enabled:!1,is_animation_enabled:!1,is_stay_sticky_after_timeout:!1,sticky_area_css_selector:[V,$],timeout:3e3,z_index:20},ne={is_enabled:!1,is_stay_sticky_after_timeout:!1,sticky_area_css_selector:[V,$],timeout:3e3,top:0,z_index:20},re={is_enabled:!1,active_products:[],products_heights:{}},ie=1e3,oe=[L.SlideInDown,L.SlideInvisiblyDown,L.SlideInUp],ae=.4.toFixed(2),se="googletag.pubads",ce=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB"],ue="300px",le="255px",de="280px",fe="55px";let pe=function(e){return e.AssetsConfig="assets_config",e.Ltr="init_data.config.ltr",e.PostId="postId",e.SpotId="spotId",e}({});var he,ve="tenant_config.ads.independent_ads_custom_selector_enabled",_e="tenant_config.ads.independent_ads_custom_selectors",ye="tenant_config.ads.sticky_desktop",ge="tenant_config.ads.sticky_mobile",me="tenant_config.ads.video_takeover",be="tenant_config.pitc.compact",we="tenant_config.pitc.disableUgc",Se="tenant_config.pitc.forceDesktopAd",Ee="tenant_config.pitc.showAdBeforeContent",ke="tenant_config.spotlight.isSidebar",xe=Array.isArray,Oe="object"==typeof global&&global&&global.Object===Object&&global,Ae="object"==typeof self&&self&&self.Object===Object&&self,Ie=Oe||Ae||Function("return this")(),Ce=Ie.Symbol,Pe=Object.prototype,Ne=Pe.hasOwnProperty,Te=Pe.toString,De=Ce?Ce.toStringTag:void 0,je=Object.prototype.toString,Re=Ce?Ce.toStringTag:void 0,Me=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Re&&Re in Object(e)?function(e){var t=Ne.call(e,De),n=e[De];try{e[De]=void 0;var r=!0}catch(e){}var i=Te.call(e);return r&&(t?e[De]=n:delete e[De]),i}(e):function(e){return je.call(e)}(e)},Ue=function(e){return null!=e&&"object"==typeof e},Ve=function(e){return"symbol"==typeof e||Ue(e)&&"[object Symbol]"==Me(e)},$e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Le=/^\w*$/,Be=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ze=function(e){if(!Be(e))return!1;var t=Me(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Fe=Ie["__core-js_shared__"],We=(he=/[^.]+$/.exec(Fe&&Fe.keys&&Fe.keys.IE_PROTO||""))?"Symbol(src)_1."+he:"",He=Function.prototype.toString,Ye=function(e){if(null!=e){try{return He.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Ge=/^\[object .+?Constructor\]$/,qe=Function.prototype,Je=Object.prototype,Ke=qe.toString,Ze=Je.hasOwnProperty,Qe=RegExp("^"+Ke.call(Ze).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xe=function(e){return!(!Be(e)||(t=e,We&&We in t))&&(ze(e)?Qe:Ge).test(Ye(e));var t},et=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Xe(n)?n:void 0},tt=et(Object,"create"),nt=Object.prototype.hasOwnProperty,rt=Object.prototype.hasOwnProperty;function it(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}it.prototype.clear=function(){this.__data__=tt?tt(null):{},this.size=0},it.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},it.prototype.get=function(e){var t=this.__data__;if(tt){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return nt.call(t,e)?t[e]:void 0},it.prototype.has=function(e){var t=this.__data__;return tt?void 0!==t[e]:rt.call(t,e)},it.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=tt&&void 0===t?"__lodash_hash_undefined__":t,this};var ot=it,at=function(e,t){return e===t||e!=e&&t!=t},st=function(e,t){for(var n=e.length;n--;)if(at(e[n][0],t))return n;return-1},ct=Array.prototype.splice;function ut(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ut.prototype.clear=function(){this.__data__=[],this.size=0},ut.prototype.delete=function(e){var t=this.__data__,n=st(t,e);return!(n<0||(n==t.length-1?t.pop():ct.call(t,n,1),--this.size,0))},ut.prototype.get=function(e){var t=this.__data__,n=st(t,e);return n<0?void 0:t[n][1]},ut.prototype.has=function(e){return st(this.__data__,e)>-1},ut.prototype.set=function(e,t){var n=this.__data__,r=st(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var lt=ut,dt=et(Ie,"Map"),ft=function(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map};function pt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pt.prototype.clear=function(){this.size=0,this.__data__={hash:new ot,map:new(dt||lt),string:new ot}},pt.prototype.delete=function(e){var t=ft(this,e).delete(e);return this.size-=t?1:0,t},pt.prototype.get=function(e){return ft(this,e).get(e)},pt.prototype.has=function(e){return ft(this,e).has(e)},pt.prototype.set=function(e,t){var n=ft(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var ht=pt;function vt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(vt.Cache||ht),n}vt.Cache=ht;var _t,yt,gt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mt=/\\(\\)?/g,bt=(_t=vt((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(gt,(function(e,n,r,i){t.push(r?i.replace(mt,"$1"):n||e)})),t}),(function(e){return 500===yt.size&&yt.clear(),e})),yt=_t.cache,_t),wt=Ce?Ce.prototype:void 0,St=wt?wt.toString:void 0,Et=function e(t){if("string"==typeof t)return t;if(xe(t))return function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(t,e)+"";if(Ve(t))return St?St.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},kt=function(e,t){return xe(e)?e:function(e,t){if(xe(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ve(e))||Le.test(e)||!$e.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:bt(function(e){return null==e?"":Et(e)}(e))},xt=function(e){if("string"==typeof e||Ve(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Ot=function(e,t,n){var r=null==e?void 0:function(e,t){for(var n=0,r=(t=kt(t,e)).length;null!=e&&n<r;)e=e[xt(t[n++])];return n&&n==r?e:void 0}(e,t);return void 0===r?n:r},At=window.__SPOTIM__.SERVICES.configProvider,It=n.n(At);const Ct=new Map;var Pt="Opera";const Nt={type:"other",version:"unknown"},Tt=[{markerRegex:/(Edg|EdgA|EdgiOS)/,typeAndVersionRegex:/(?<type>(Edg|EdgA|EdgiOS))\/(?<version>\d+)(.|\s)/,replacements:{EdgA:"Edge Android",EdgiOS:"Edge iOS",Edg:"Edge"}},{markerRegex:/DuckDuckGo/,typeAndVersionRegex:/(?<type>(DuckDuckGo))\/(?<version>\d+)(.|\s)/,replacements:{}},{markerRegex:/(OPR|Opera|Opera Mini)/,typeAndVersionRegex:/(?<type>(OPR|Opera Mini|Version))\/(?<version>\d+)(.|\s)/,replacements:{OPR:Pt,Version:Pt}},{markerRegex:/SamsungBrowser/,typeAndVersionRegex:/(?<type>(SamsungBrowser))\/(?<version>\d+)(.|\s)/,replacements:{}},{markerRegex:/Focus/,typeAndVersionRegex:/(?<type>(Focus))\/(?<version>\d+)(.|\s)/,replacements:{Focus:"Firefox Focus"}},{markerRegex:/Chrome/,typeAndVersionRegex:/(?<type>(Chrome))\/(?<version>\d+)(.|\s)/,replacements:{}},{markerRegex:/(Firefox|Version|CriOS|FxiOS)/,typeAndVersionRegex:/(?<type>(Firefox|Version|CriOS|FxiOS))\/(?<version>\d+)(.|\s)/,replacements:{CriOS:"Chrome iOS",FxiOS:"Firefox iOS",Version:"Safari"}}],Dt=(e,t)=>({type:(t?.type&&Object.keys(e).includes(t?.type)?e[t.type]:t?.type)??Nt.type,version:t?.version??Nt.version}),jt=/(mobile|iemobile|android|webos|iphone|ipod|blackberry|windows phone)/,Rt=/ipad/;var Mt=function(){const e=window?.navigator?.userAgent?.toLowerCase()??"";return Boolean(e.match(jt))&&!e.match(Rt)}();const Ut=()=>new URLSearchParams(window.location.search),Vt="true"===Ut().get(M),$t=x,Lt=Ut(),Bt=Boolean(localStorage.getItem("OPENWEB_AD_UNIT_DEBUG_API")||Lt.get("openWebAdsDebug")),zt="*"===localStorage.getItem("SPOTIM_DEBUG_API"),Ft=Boolean(localStorage.getItem("OPENWEB_AD_UNIT_VERBOSE_LOGGING")||Lt.get("openWebAdsVerboseLogging")),Wt=window.__SPOTIMENV__??T,Ht="production",Yt={adsAssetType:$t,isVerboseLoggingEnabled:Ft,browser:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;try{for(const t of Tt)if(t.markerRegex.test(e)){const n=t.typeAndVersionRegex.exec(e)?.groups;return Dt(t.replacements,n)}return Nt}catch{return Nt}}(),device:Mt?w:S,endpoints:{apiAdsConfig:{production:"https://api-2-0.spot.im/v1.0.0/owa-gw/spot",staging:"https://api.staging-spot.im/owa-gw/spot"}},isDebugMode:zt||Bt,launcherEnv:{isDevelopment:Wt===N,isProduction:Wt===T,isStaging:"staging"===Wt,type:Wt},nodeEnv:{isDevelopment:!1,isProduction:!0,isTest:"test"===Wt,type:Ht},platform:window.navigator?.userAgentData?.platform??window.navigator?.platform,version:"v22.5.4-OW-23400-8"};var Gt=Yt;const{isDebugMode:qt,isVerboseLoggingEnabled:Jt}=Gt,Kt=function(e,t){if(qt&&Qt(e)){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];console.log(`%cOpenWeb Ads%c\n\n%c${t}:%c (${Number(performance.now().toFixed(2))} ms)`,"background: #424242; color: #81d4fa","background: transparent; color: unset","color: #a5d6a7","color: unset",...r)}},Zt=function(e,t){if(qt&&Qt(e)){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];console.error(`%cOpenWeb Ads%c\n\n%c${t}%c\n`,"color: #81d4fa","color: unset","color: #ffcc80","color: unset",...r)}},Qt=e=>!e||Jt,Xt=window.__OW_CONFIG__,en=function(e,t){if((!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&Ct?.has(e)){const t=Ct.get(e);return Kt(!0,`Get configuration "${e}" from cache`,t),t}const n=It().get(e)??Ot(Xt,e,t);return Ct?.set(e,n),Kt(!0,`Add configuration "${e}" to cache`,n),n};const tn=()=>en(pe.PostId,void 0,!1)??Array.from(document.querySelectorAll("script[data-spotim-module]"))?.[0]?.dataset.postId??"no_post",nn=function(){const e=(t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],en(pe.SpotId,void 0,t)??window.__OW_CONFIG__?.init_data?.config?.id);var t;if(!e)throw new Error("Spot id is not provided");return e};var rn="NETWORK_ONLY";const on=432e5,an=rn,sn=()=>{const e=en("tenant_config.ads.ads_config_fetch_settings",{cache_expiration_interval:on,cache_version:"v1",fetch_strategy:an,request_retry_count:3,request_retry_timeout:500,response_delay_timeout:1e3});return e.cache_expiration_interval??=on,e.cache_version??="v1",e.fetch_strategy??=an,e.request_retry_count??=3,e.request_retry_timeout??=500,e.response_delay_timeout??=1e3,e},cn=()=>en("tenant_config.ads.monitoring",{}),un="DETAILED",ln=(e,t)=>{const{metrics:n={}}=cn();return n.error?.[t]===un?e.message:"Error placeholder"};var dn=()=>s.config.pageViewId??"",fn=Object.prototype,pn=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||fn)},hn=function(e,t){return function(n){return e(t(n))}},vn=hn(Object.keys,Object),_n=Object.prototype.hasOwnProperty,yn=function(e){if(!pn(e))return vn(e);var t=[];for(var n in Object(e))_n.call(e,n)&&"constructor"!=n&&t.push(n);return t},gn=et(Ie,"DataView"),mn=et(Ie,"Promise"),bn=et(Ie,"Set"),wn=et(Ie,"WeakMap"),Sn="[object Map]",En="[object Promise]",kn="[object Set]",xn="[object WeakMap]",On="[object DataView]",An=Ye(gn),In=Ye(dt),Cn=Ye(mn),Pn=Ye(bn),Nn=Ye(wn),Tn=Me;(gn&&Tn(new gn(new ArrayBuffer(1)))!=On||dt&&Tn(new dt)!=Sn||mn&&Tn(mn.resolve())!=En||bn&&Tn(new bn)!=kn||wn&&Tn(new wn)!=xn)&&(Tn=function(e){var t=Me(e),n="[object Object]"==t?e.constructor:void 0,r=n?Ye(n):"";if(r)switch(r){case An:return On;case In:return Sn;case Cn:return En;case Pn:return kn;case Nn:return xn}return t});var Dn=Tn,jn=function(e){return Ue(e)&&"[object Arguments]"==Me(e)},Rn=Object.prototype,Mn=Rn.hasOwnProperty,Un=Rn.propertyIsEnumerable,Vn=jn(function(){return arguments}())?jn:function(e){return Ue(e)&&Mn.call(e,"callee")&&!Un.call(e,"callee")},$n=Vn,Ln=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Bn=function(e){return null!=e&&Ln(e.length)&&!ze(e)},zn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Fn=zn&&"object"==typeof module&&module&&!module.nodeType&&module,Wn=Fn&&Fn.exports===zn?Ie.Buffer:void 0,Hn=(Wn?Wn.isBuffer:void 0)||function(){return!1},Yn={};Yn["[object Float32Array]"]=Yn["[object Float64Array]"]=Yn["[object Int8Array]"]=Yn["[object Int16Array]"]=Yn["[object Int32Array]"]=Yn["[object Uint8Array]"]=Yn["[object Uint8ClampedArray]"]=Yn["[object Uint16Array]"]=Yn["[object Uint32Array]"]=!0,Yn["[object Arguments]"]=Yn["[object Array]"]=Yn["[object ArrayBuffer]"]=Yn["[object Boolean]"]=Yn["[object DataView]"]=Yn["[object Date]"]=Yn["[object Error]"]=Yn["[object Function]"]=Yn["[object Map]"]=Yn["[object Number]"]=Yn["[object Object]"]=Yn["[object RegExp]"]=Yn["[object Set]"]=Yn["[object String]"]=Yn["[object WeakMap]"]=!1;var Gn,qn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Jn=qn&&"object"==typeof module&&module&&!module.nodeType&&module,Kn=Jn&&Jn.exports===qn&&Oe.process,Zn=function(){try{return Jn&&Jn.require&&Jn.require("util").types||Kn&&Kn.binding&&Kn.binding("util")}catch(e){}}(),Qn=Zn&&Zn.isTypedArray,Xn=Qn?(Gn=Qn,function(e){return Gn(e)}):function(e){return Ue(e)&&Ln(e.length)&&!!Yn[Me(e)]},er=Object.prototype.hasOwnProperty,tr=function(e){if(null==e)return!0;if(Bn(e)&&(xe(e)||"string"==typeof e||"function"==typeof e.splice||Hn(e)||Xn(e)||$n(e)))return!e.length;var t=Dn(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(pn(e))return!yn(e).length;for(var n in e)if(er.call(e,n))return!1;return!0},nr=window.__SPOTIM__.lib.MetricsReporter;const rr=n.n(nr)()(nn(),Gt.adsAssetType,{version:Gt.version}),ir=e=>Boolean(e)&&!tr(e);let or={};const ar=e=>{const{metrics:t={}}=cn();return[!0,un].some((n=>t.error?.[e]===n))},sr=e=>{const{metrics:t={}}=cn();return!0===t.general?.[e]},cr=e=>{let{error:t,isMetricEnabled:n,metric:r,options:i={},tags:o={},sendMetric:a}=e;return Promise.resolve().then((()=>{if(!n)return void Kt(!0,"Sending metric is disabled",r);const{isDisposable:e}=i;if(e){if((e=>{const t=dn();return Boolean(or[t]?.[e])})(r))return;(e=>{const t=dn();or[t]||(or={[t]:{}}),or[t][e]=!0})(r)}const s=[],c=(e=>{const{tags:t={}}=cn();return Object.entries(e).reduce(((e,n)=>{let[r,i]=n;return!0===t[r]&&(e[r]=i),e}),{})})(o);a(c),t&&s.push("\nError:",t),i&&s.push("\nOptions:",i),c&&s.push("\nTags:",c),Kt(!0,"Sending metric",r,...s)})).catch((e=>{Zt(!0,"Sending metric error",e,"\nMetric:",r)}))},ur=e=>{let{error:t,metric:n,options:r,tags:i}=e;return cr({error:t,metric:n,options:r,tags:i,isMetricEnabled:ar(n),sendMetric:e=>(e=>{let{error:t,metric:n,tags:r}=e;return rr.error(n,t,ir(r)?r:void 0)})({error:t,metric:n,tags:e})})},lr=e=>{let{metric:t,options:n,tags:r}=e;return cr({metric:t,options:n,tags:r,isMetricEnabled:sr(t),sendMetric:e=>(e=>{let{metric:t,tags:n}=e;return rr.send(t,ir(n)?{tags:n}:void 0)})({metric:t,tags:e})})};var dr="ats-envelope-id-caching-error",fr="ats-integration-error",pr="aniview-invalid-code-settings",hr="dfp-invalid-code-settings",vr="ads-config-fetching-error",_r="aniview-script-fetching-error",yr="ad-unit-base-runtime-error",gr="ad-unit-video-runtime-error",mr="ads-script-runtime-error",br="render-in-iframe-error",wr="ab-test-variant",Sr="data-source",Er="device",kr="product",xr="timestamp",Or=n(327);const Ar=e=>(0,Or.WI)(F,e),Ir=(e,t,n)=>{const r=`${e}-${t}`;Kt(!0,"Dispatching event",r,"\nParameters:",n),(0,Or.WI)(r,n)},Cr=(e,t,n)=>{const r=`${e}-${t}`;return Kt(!0,"Subscribing to event",r),(0,Or.Ld)(r,n)},Pr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Ir(arguments.length>1?arguments[1]:void 0,"onDimensionsChange",{width:t,height:n}),e({width:t,height:n})};const Nr=e=>24*e*60*60*ie;var Tr=(e,t,n)=>{navigator.cookieEnabled&&(document.cookie=`${e}=${t}${(e=>{if(null==e)return"";const t=new Date;return t.setTime(t.getTime()+Nr(e)),`; expires=${t.toUTCString()}`})(n)}; path=/`)},Dr="start",jr=e=>`${dn()}-${e}-${Date.now()}`;function Rr(e){var t=this.__data__=new lt(e);this.size=t.size}Rr.prototype.clear=function(){this.__data__=new lt,this.size=0},Rr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Rr.prototype.get=function(e){return this.__data__.get(e)},Rr.prototype.has=function(e){return this.__data__.has(e)},Rr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof lt){var r=n.__data__;if(!dt||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ht(r)}return n.set(e,t),this.size=n.size,this};var Mr,Ur,Vr=Rr,$r=function(){try{var e=et(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Lr=function(e,t,n){"__proto__"==t&&$r?$r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Br=function(e,t,n){(void 0!==n&&!at(e[t],n)||void 0===n&&!(t in e))&&Lr(e,t,n)},zr=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[Mr?a:++r];if(!1===t(i[s],s,i))break}return e},Fr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Wr=Fr&&"object"==typeof module&&module&&!module.nodeType&&module,Hr=Wr&&Wr.exports===Fr?Ie.Buffer:void 0,Yr=Hr?Hr.allocUnsafe:void 0,Gr=Ie.Uint8Array,qr=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new Gr(t).set(new Gr(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Jr=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Kr=Object.create,Zr=function(){function e(){}return function(t){if(!Be(t))return{};if(Kr)return Kr(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Qr=hn(Object.getPrototypeOf,Object),Xr=Function.prototype,ei=Object.prototype,ti=Xr.toString,ni=ei.hasOwnProperty,ri=ti.call(Object),ii=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},oi=Object.prototype.hasOwnProperty,ai=function(e,t,n){var r=e[t];oi.call(e,t)&&at(r,n)&&(void 0!==n||t in e)||Lr(e,t,n)},si=/^(?:0|[1-9]\d*)$/,ci=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&si.test(e))&&e>-1&&e%1==0&&e<t},ui=Object.prototype.hasOwnProperty,li=function(e,t){var n=xe(e),r=!n&&$n(e),i=!n&&!r&&Hn(e),o=!n&&!r&&!i&&Xn(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!ui.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ci(u,c))||s.push(u);return s},di=Object.prototype.hasOwnProperty,fi=function(e){if(!Be(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=pn(e),n=[];for(var r in e)("constructor"!=r||!t&&di.call(e,r))&&n.push(r);return n},pi=function(e){return Bn(e)?li(e,!0):fi(e)},hi=function(e){return function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?Lr(n,s,c):ai(n,s,c)}return n}(e,pi(e))},vi=function(e,t,n,r,i,o,a){var s,c=ii(e,n),u=ii(t,n),l=a.get(u);if(l)Br(e,n,l);else{var d=o?o(c,u,n+"",e,t,a):void 0,f=void 0===d;if(f){var p=xe(u),h=!p&&Hn(u),v=!p&&!h&&Xn(u);d=u,p||h||v?xe(c)?d=c:Ue(s=c)&&Bn(s)?d=Jr(c):h?(f=!1,d=function(e,t){if(t)return e.slice();var n=e.length,r=Yr?Yr(n):new e.constructor(n);return e.copy(r),r}(u,!0)):v?(f=!1,d=qr(u,!0)):d=[]:function(e){if(!Ue(e)||"[object Object]"!=Me(e))return!1;var t=Qr(e);if(null===t)return!0;var n=ni.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ti.call(n)==ri}(u)||$n(u)?(d=c,$n(c)?d=hi(c):Be(c)&&!ze(c)||(d=function(e){return"function"!=typeof e.constructor||pn(e)?{}:Zr(Qr(e))}(u))):f=!1}f&&(a.set(u,d),i(d,u,r,o,a),a.delete(u)),Br(e,n,d)}},_i=function e(t,n,r,i,o){t!==n&&zr(n,(function(a,s){if(o||(o=new Vr),Be(a))vi(t,n,s,r,e,i,o);else{var c=i?i(ii(t,s),a,s+"",t,n,o):void 0;void 0===c&&(c=a),Br(t,s,c)}}),pi)},yi=function(e){return e},gi=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},mi=Math.max,bi=$r?function(e,t){return $r(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:yi,wi=Date.now,Si=function(e){var t=0,n=0;return function(){var r=wi(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Ei=Si(bi),ki=function(e,t){return Ei(function(e,t,n){return t=mi(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=mi(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),gi(e,this,s)}}(e,t,yi),e+"")},xi=function(e,t,n){if(!Be(n))return!1;var r=typeof t;return!!("number"==r?Bn(n)&&ci(t,n.length):"string"==r&&t in n)&&at(n[t],e)},Oi=(Ur=function(e,t,n){_i(e,t,n)},ki((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=Ur.length>3&&"function"==typeof i?(r--,i):void 0,o&&xi(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&Ur(e,a,n,i)}return e}))),Ai="AB_STATE",Ii=function(){function e(){this.allAbTests="",this.activeAbTests=new Set,this.activeAbTestsOutput="",this.state={}}return e.getInstance=function(){var t=function(e){var t,n,r={status:!1,object:{}};return(null===(t=window.__SPOTIM__)||void 0===t||null===(n=t.SERVICES)||void 0===n?void 0:n[e])&&(r.status=!0,r.object=window.__SPOTIM__.SERVICES[e]),r}(Ai);return t.status||(t.object=new e,function(e,t){var n,r={__SPOTIM__:{SERVICES:(n={},n[e]=t,n)}};Oi(window,r)}(Ai,t.object)),t.object},e}().getInstance();function Ci(e){return Ii.state[e]&&Ii.state[e].variant}function Pi(e,t){var n,r;Ii.activeAbTests.add(e+":"+t),n=Ii.activeAbTests,r="",n.forEach((function(e){r?r+="|"+e:r=e})),Ii.activeAbTestsOutput=r}var Ni={getVariant:Ci,getAllExperiments:function(){return Ii.allAbTests},getActiveExperiments:function(){return Ii.activeAbTestsOutput},setActiveExperiment:Pi,testVariant:function(e,t){var n=!1,r=Ci(e);return r?(Pi(e,r),t===r&&(n=!0),n):n}},Ti=window.__SPOTIM__.lib.analytics;const Di=e=>{const t=(e=>{const{ad_call_ids:t,...n}=e,{engine_vendor_name:r}=n;return{...n,...r&&t?{ad_call_id:t[r]}:{}}})(e);return Kt(!0,"Sending BI event",t),(0,Ti.trackEvent)(t)},ji=Ni.getAllExperiments(),Ri=(e,t,n,r)=>({type:"engine_status",source_version:Gt.version,spot_id:nn(),post_id:tn(),source:t,test_field:ji,campaign_id:n,page_view_id:dn(),...r?{ad_call_ids:r}:{},...e});var Mi=n(293);function Ui(e,t){return(0,Mi.rS)(e,t)}const Vi=e=>{let{reportingModuleName:t,campaignId:n}=e;const r=Ri({engine_status:"ads-script-started"},t,n);Di(r)},$i=e=>{let{reportingModuleName:t,campaignId:n}=e;const r=Ri({engine_status:"engine-killed-by-request"},t,n);Di(r)};window.googletag=window.googletag||{cmd:[]};var Li=e=>{let{reportingModuleName:t,campaignId:n,adCallIds:r}=e;var i;en("tenant_config.ads.enable_dfp_analytics",!0)&&(i=()=>{window.googletag.pubads().isInitialLoadDisabled()&&(e=>{let{reportingModuleName:t,adCallIds:n,campaignId:r}=e;const i=Ri({type:"dfp-initial-load-disabled"},t,r,n);Di(i)})({reportingModuleName:t,adCallIds:r,campaignId:n})},window.googletag.cmd.push(i))},Bi="impressionViewable",zi="slotOnload",Fi="slotRenderEnded",Wi="slotRequested",Hi="slotResponseReceived";function Yi(e){var t;return null!=(t=Gi(e.name))?t:e}function Gi(e){var t,n;return null==(t=window.__OPEN_WEB__)||null==(n=t.duplicated_functions_support)?void 0:n[e]}var qi=function(){var e;return null!=(e=Gi("isInSafeframe"))?e:window.top!==window&&!!window.$sf},Ji=0,Ki=!1,Zi=function(e){var t,n,r;return e?null==(t=100!==(null==(n=window.$sf)||null==(r=n.ext)||null==r.inViewPercentage?void 0:r.inViewPercentage()))||t:(document.documentElement.scrollHeight||document.body.scrollHeight)>window.innerHeight+20},Qi=function(){return document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset},Xi=function(e){var t,n;return!!e&&(null==(t=window.$sf)||null==(n=t.ext)||null==n.inViewPercentage?void 0:n.inViewPercentage())>0},eo=function(e){var t,n,r,i,o;return e?null!=(t=null==(n=Gi("getBrowserScrollPositionSafeFrame"))?void 0:n())?t:(i=(r=window.$sf.ext.geom()).par,o=r.win,i.t||i.b-o.h):Yi(Qi)()},to=function(e,t){var n=function n(){e(t),window.removeEventListener("resize",n),window.removeEventListener("scroll",r)},r=function r(){!function(e,t,n,r){Ji=Qi(),Ki||(window.requestAnimationFrame((function(){!function(e,t,n,r,i){e>=20&&(window.removeEventListener("resize",r),window.removeEventListener("scroll",n),t(i))}(Ji,e,t,n,r),Ki=!1})),Ki=!0)}(e,r,n,t)};window.addEventListener("scroll",r,{passive:!0}),window.addEventListener("resize",n)},no=function(e,t){document.addEventListener("geom-update",(function n(){eo(!0)>=20&&(document.removeEventListener("geom-update",n),e(t))}))},ro=window.location,io=function(e){void 0===e&&(e=document.referrer);try{return new URL(e)}catch(e){return ro}},oo=function(){return qi()?io(s.safeframe.hostUrl):(null!=(e=Gi("isInIframe"))?e:window.top!==window.self)?io(s.config.hostUrl):ro;var e};var ao=e=>{let{adUnitIdFormatted:t,code:n,codeSettings:r,isRenderAdsInIframeEnabled:i,mcmNetworkId:o="",reportingModuleName:a,sellerId:c,slot:u,spotId:l,userGroups:d,isStickyEnabled:f=!1}=e;const p=en("tenant_config.ads.adtelligent_account_id","wrapper_hb_270443"),h=en("tenant_config.ads.supply_chain_enabled",!0),v={userGroups:d,[(g=a,`${m=g,{conversation_header:"convHeader",conversation_header_siderail:"convHeadSR",topic_tracker:"topicTrk",topic_tracker_siderail:"topicTrkSR",reaction_siderail:"reactionsSR",side_rail:"pitcSR",independent_ad:"independent",discover:"discover"}[m]??m}SpotId`)]:l,abTestVersion:ma()??"",abTestConfig:ba()??"",assetGroupId:wa(),isStickyAdUnit:`${f}`,pageViewId:s.config.pageViewId,slot:Za(u),source_version:Gt.version,topSpotId:l,source:a},{googletag_slot_id:_=""}=r??{},y=_.replace("{{MCM_NETWORK_ID}}",o?`,${o}`:"");var g,m;Kt(!0,"DFP configuration",{...v,code:n},"\nAd Unit Id Formatted:",t);const b=(e=>Object.keys(e).map((t=>{const n=e[t];return n?`.setTargeting(${JSON.stringify(t)},${JSON.stringify(n)})`:""})).join(""))(v),w=i?"window.parent":"window",S=Fa(),E=qi()?S:Wa(S),k=[Fi,zi,Wi,Hi,Bi].map((e=>(e=>`\n    googletag.pubads().addEventListener('${e}', function(event) {\n      // Listeners operate at service level, which means that you cannot add\n      // a listener for an event for a specific slot only\n      // more info can be found here: https://developers.google.com/publisher-tag/reference#googletag.Service_addEventListener\n      if (event.slot.getAdUnitPath() === '${y}') {\n        ${w}.dispatchEvent(new CustomEvent("dfpEvent-${t}", {\n            detail: {\n             type: '${e}'\n             ${e===Fi?",isEmpty: event.isEmpty":""}\n             ${e===Fi?",size: event.size":""}\n            }\n        }));\n      }\n    });\n  `)(e))).join("\n"),x=n.replace("{{MCM_NETWORK_ID}}",o?`,${o}`:"").replace(".addService(googletag.pubads());",`${b}.addService(googletag.pubads().set('page_url','${E}')); ${k}`);if(h&&x.includes(p)){const e=((e,t)=>`<script>vpb.cmd=vpb.cmd||[];vpb.cmd.push(function(){vpb.setClientSchain({asi:'${e}',sid:'${t}'})})<\/script>`)(Z,c);return`${x}${e}`}return x},so=e=>e?{engine_vendor_name:e.type.toLowerCase(),engine_tag_id:e.id,in_view:`${e.size.width}*${e.size.height}`,variant:e.variant}:{engine_vendor_name:"",engine_tag_id:"",in_view:"",variant:""};const co=["gdpr","ccpa","ats"],uo={gdpr:"__tcfapi",ccpa:"__uspapi",ats:"ats"},lo=e=>`\n  Object.defineProperty(window, '${e}', {\n    get() {\n      return window.parent['${e}'];\n    },\n    configurable: true,\n    enumerable: true\n  });\n  `;var fo=e=>{let{adUnitId:t,content:n,reportingModuleName:r,target:i}=e;const o=en("tenant_config.ads.enable_iframe_allow_same_origin",!0),a=document.createElement("iframe");Object.assign(a.style,{width:"100%",height:"100%",border:"none"}),a.setAttribute("title","ad content"),o&&a.setAttribute("allow-same-origin",""),i.appendChild(a),a.contentWindow?.document.open(),setTimeout((()=>{if(a.contentWindow)try{const e=((e,t)=>{const n=en("tenant_config.ads.enable_iframe_local_storage_polyfill",!0),r=en("tenant_config.ads.enable_iframe_proxies",!1);return`\n  <html lang=${window.document.documentElement.lang}>\n  <script>\n    window.addEventListener('error', (event) => {\n      window.parent.postMessage({\n        adUnitId: '${e}',\n        error: event.error,\n        isGoogleDfpScript: document.currentScript?.innerHTML.includes('${se}'),\n        type: '${B}',\n      }, window.parent.origin);\n    });\n  <\/script>\n  <body style='margin: 0; padding: 0; overflow: hidden; background: transparent;'>\n    ${r?`<script>${(()=>{const e=en("tenant_config.ads.iframe_proxies",co);return(t=e,n=co,t.filter((e=>n.includes(e)))).map((e=>uo[e])).filter((e=>void 0!==e)).map(lo).join("\n");var t,n})()}<\/script>`:""}\n    ${n?`<script>${$a()}<\/script>`:""}\n    ${t}\n  </body>\n</html>\n`})(t,n);a.contentWindow.document.write(e),a.contentWindow.document.close()}catch(e){Zt(!0,"Render in iframe error",e,"\nProduct:",r),cs(Aa(e))}}),0)},po=e=>null!=e,ho=async(e,t)=>{const n=await fetch(e,{method:t?.method??"GET",...t});if(!n.ok)throw new Error(`Fetch error: ${n.status} ${n.statusText}`);return n.json()},vo=wn&&new wn,_o=vo?function(e,t){return vo.set(e,t),e}:yi,yo=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Zr(e.prototype),r=e.apply(n,t);return Be(r)?r:n}},go=Math.max,mo=function(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,c=t.length,u=go(o-a,0),l=Array(c+u),d=!r;++s<c;)l[s]=t[s];for(;++i<a;)(d||i<o)&&(l[n[i]]=e[i]);for(;u--;)l[s++]=e[i++];return l},bo=Math.max,wo=function(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,c=-1,u=t.length,l=bo(o-s,0),d=Array(l+u),f=!r;++i<l;)d[i]=e[i];for(var p=i;++c<u;)d[p+c]=t[c];for(;++a<s;)(f||i<o)&&(d[p+n[a]]=e[i++]);return d},So=function(){};function Eo(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}Eo.prototype=Zr(So.prototype),Eo.prototype.constructor=Eo;var ko=Eo,xo=vo?function(e){return vo.get(e)}:function(){},Oo={},Ao=Object.prototype.hasOwnProperty;function Io(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Io.prototype=Zr(So.prototype),Io.prototype.constructor=Io;var Co=Io,Po=Object.prototype.hasOwnProperty;function No(e){if(Ue(e)&&!xe(e)&&!(e instanceof ko)){if(e instanceof Co)return e;if(Po.call(e,"__wrapped__"))return function(e){if(e instanceof ko)return e.clone();var t=new Co(e.__wrapped__,e.__chain__);return t.__actions__=Jr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}(e)}return new Co(e)}No.prototype=So.prototype,No.prototype.constructor=No;var To=No,Do=function(e){var t=function(e){for(var t=e.name+"",n=Oo[t],r=Ao.call(Oo,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}(e),n=To[t];if("function"!=typeof n||!(t in ko.prototype))return!1;if(e===n)return!0;var r=xo(n);return!!r&&e===r[0]},jo=Si(_o),Ro=/\{\n\/\* \[wrapped with (.+)\] \*/,Mo=/,? & /,Uo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vo=function(e){return e!=e},$o=function(e,t){return!(null==e||!e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,Vo,n)}(e,t,0)>-1},Lo=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Bo=function(e,t,n){var r=t+"";return Ei(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Uo,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(Lo,(function(n){var r="_."+n[0];t&n[1]&&!$o(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Ro);return t?t[1].split(Mo):[]}(r),n)))},zo=function(e,t,n,r,i,o,a,s,c,u){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var d=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,c,u],f=n.apply(void 0,d);return Do(e)&&jo(f,d),f.placeholder=r,Bo(f,e,t)},Fo=function(e){return e.placeholder},Wo=Math.min,Ho="__lodash_placeholder__",Yo=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==Ho||(e[n]=Ho,o[i++]=n)}return o},Go=function e(t,n,r,i,o,a,s,c,u,l){var d=128&n,f=1&n,p=2&n,h=24&n,v=512&n,_=p?void 0:yo(t);return function y(){for(var g=arguments.length,m=Array(g),b=g;b--;)m[b]=arguments[b];if(h)var w=Fo(y),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(m,w);if(i&&(m=mo(m,i,o,h)),a&&(m=wo(m,a,s,h)),g-=S,h&&g<l){var E=Yo(m,w);return zo(t,n,e,y.placeholder,r,m,E,c,u,l-g)}var k=f?r:this,x=p?k[t]:t;return g=m.length,c?m=function(e,t){for(var n=e.length,r=Wo(t.length,n),i=Jr(e);r--;){var o=t[r];e[r]=ci(o,n)?i[o]:void 0}return e}(m,c):v&&g>1&&m.reverse(),d&&u<g&&(m.length=u),this&&this!==Ie&&this instanceof y&&(x=_||yo(x)),x.apply(k,m)}},qo="__lodash_placeholder__",Jo=Math.min,Ko=/\s/,Zo=/^\s+/,Qo=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Ko.test(e.charAt(t)););return t}(e)+1).replace(Zo,""):e},Xo=/^[-+]0x[0-9a-f]+$/i,ea=/^0b[01]+$/i,ta=/^0o[0-7]+$/i,na=parseInt,ra=function(e){if("number"==typeof e)return e;if(Ve(e))return NaN;if(Be(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Be(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qo(e);var n=ea.test(e);return n||ta.test(e)?na(e.slice(2),n?2:8):Xo.test(e)?NaN:+e},ia=function(e){return e?Infinity===(e=ra(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},oa=function(e){var t=ia(e),n=t%1;return t==t?n?t-n:t:0},aa=Math.max,sa=function(e,t,n,r,i,o,a,s){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var u=r?r.length:0;if(u||(t&=-97,r=i=void 0),a=void 0===a?a:aa(oa(a),0),s=void 0===s?s:oa(s),u-=i?i.length:0,64&t){var l=r,d=i;r=i=void 0}var f=c?void 0:xo(e),p=[e,t,n,r,i,l,d,o,a,s];if(f&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?mo(c,s,t[4]):s,e[4]=c?Yo(e[3],qo):t[4]}(s=t[5])&&(c=e[5],e[5]=c?wo(c,s,t[6]):s,e[6]=c?Yo(e[5],qo):t[6]),(s=t[7])&&(e[7]=s),128&r&&(e[8]=null==e[8]?t[8]:Jo(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(p,f),e=p[0],t=p[1],n=p[2],r=p[3],i=p[4],!(s=p[9]=void 0===p[9]?c?0:e.length:aa(p[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)h=8==t||16==t?function(e,t,n){var r=yo(e);return function i(){for(var o=arguments.length,a=Array(o),s=o,c=Fo(i);s--;)a[s]=arguments[s];var u=o<3&&a[0]!==c&&a[o-1]!==c?[]:Yo(a,c);return(o-=u.length)<n?zo(e,t,Go,i.placeholder,void 0,a,u,void 0,void 0,n-o):gi(this&&this!==Ie&&this instanceof i?r:e,this,a)}}(e,t,s):32!=t&&33!=t||i.length?Go.apply(void 0,p):function(e,t,n,r){var i=1&t,o=yo(e);return function t(){for(var a=-1,s=arguments.length,c=-1,u=r.length,l=Array(u+s),d=this&&this!==Ie&&this instanceof t?o:e;++c<u;)l[c]=r[c];for(;s--;)l[c++]=arguments[++a];return gi(d,i?n:this,l)}}(e,t,n,r);else var h=function(e,t,n){var r=1&t,i=yo(e);return function t(){return(this&&this!==Ie&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Bo((f?_o:jo)(h,p),e,t)},ca=ki((function(e,t){var n=Yo(t,Fo(ca));return sa(e,32,void 0,t,n)}));ca.placeholder={};var ua=ca;const la=e=>e,da=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>function(){return t(e(...arguments))}))},fa=(e,t)=>e===t,pa=(e,t)=>da(t?(e=>t=>t?.[e])(t):la,ua(fa,e)),ha=e=>!e,va=e=>e?e?.split(":"):[],_a=e=>va(e)[1],ya=e=>en(pe.AssetsConfig).filter((t=>t.type===e&&t.module===Gt.adsAssetType)).find((e=>e.url.split("/").some((e=>e===Gt.version)))),ga=()=>{const e=ya("text/javascript");if(e)return e.variant},ma=()=>{const e=ga();if(e)return _a(e)},ba=()=>{const e=en("tenant_config.ads.observed_ab_test_experiment_id");if(e)return Ni.getVariant(e)};var wa=()=>window.__OW_CONFIG__.asset_group_id,Sa=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e}(Sa||{});const Ea=e=>e.top<0?-e.top:0,ka=e=>e.bottom>window.innerHeight?e.bottom-window.innerHeight:0,xa=e=>e.left<0?-e.left:0,Oa=e=>e.right>window.innerWidth?e.right-window.innerWidth:0;var Aa=e=>e instanceof Error?e:Error(String(e));const Ia="_lr_env";var Ca=()=>{try{const e=localStorage.getItem("SPOTIM_DEVICE_UUID_V2");return e?JSON.parse(e).uuid:null}catch{return null}},Pa=e=>{if(Array.isArray(e)){const[t]=e.map((e=>document.querySelector(e))).filter(Boolean);return t??null}return document.querySelector(e)},Na={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Ta;const Da=new Uint8Array(16);function ja(){if(!Ta&&(Ta="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ta))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ta(Da)}const Ra=[];for(let e=0;e<256;++e)Ra.push((e+256).toString(16).slice(1));var Ma=function(e,t,n){if(Na.randomUUID&&!t&&!e)return Na.randomUUID();const r=(e=e||{}).random||(e.rng||ja)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(Ra[e[t+0]]+Ra[e[t+1]]+Ra[e[t+2]]+Ra[e[t+3]]+"-"+Ra[e[t+4]]+Ra[e[t+5]]+"-"+Ra[e[t+6]]+Ra[e[t+7]]+"-"+Ra[e[t+8]]+Ra[e[t+9]]+"-"+Ra[e[t+10]]+Ra[e[t+11]]+Ra[e[t+12]]+Ra[e[t+13]]+Ra[e[t+14]]+Ra[e[t+15]]).toLowerCase()}(r)},Ua=()=>Ma();var Va=(()=>{let e=[];return t=>{const{async:n=!1,attributes:r={},content:i,areMultipleScriptsPrevented:o=!0,target:a=document.body,url:s}=t,c=a||document.body;return new Promise(((t,u)=>{const l=document.createElement("script");l.type="text/javascript";const d=()=>{a&&a.removeChild(l),u(`Failed to load ${s}`)},f=n=>{t(n),e=e.filter((e=>e!==s))};if(s){const r=document.querySelector(`script[src="${s}"]`);if(r&&o)return e.includes(s)?(r.addEventListener("load",f),void r.addEventListener("error",d)):t(r);e.push(s),l.addEventListener("load",f),l.addEventListener("error",d),l.src=s,l.async=n}if(i&&(l.text=i),r&&Object.entries(r).forEach((e=>{let[t,n]=e;return l.setAttribute(t,n)})),!s&&!i)return u('Failed to loadScript, because "url" and "content" are empty');c.appendChild(l)}))}})(),$a=()=>'(function(){try{return!!window.localStorage}catch{return!1}})()||Object.defineProperty(window,"localStorage",new function(){var e={};Object.defineProperty(e,"getItem",{value:function(e){return e?this[e]:null},writable:!0,configurable:!1,enumerable:!1}),Object.defineProperty(e,"setItem",{value:function(e,t){if(e)return this[e]=String(t)},writable:!0,configurable:!1,enumerable:!1}),Object.defineProperty(e,"removeItem",{value:function(e){if(e)return delete this[e]},writable:!0,configurable:!1,enumerable:!1}),this.get=function(){return e},this.configurable=!1,this.enumerable=!0});';const La=e=>{try{return localStorage.getItem(e)}catch(e){return Zt(!0,"Get data from local storage error:",e),null}},Ba=e=>{try{localStorage.removeItem(e)}catch(e){Zt(!0,"Remove data from local storage error",e)}},za=(e,t)=>{try{localStorage.setItem(e,t)}catch(e){Zt(!0,"Set data to local storage error",e)}},Fa=()=>Yi(oo)().href,Wa=e=>new URL(e).hostname;var Ha=function(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))},Ya=e=>parseInt(e,10),Ga=(e,t)=>new Promise(((n,r)=>setTimeout((()=>{try{n(e())}catch(e){r(e)}}),t))),qa=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(let r=0;r<t;r++){const i=r+1;try{return 1===i?await e():await Ga(e,n)}catch(e){if(i===t)throw Aa(e)}}};const Ja={row:1,column:1},Ka=(e,t)=>e.find((e=>e.slot&&e.slot.row===t.row&&e.slot.column===t.column)),Za=e=>`row${e.row}-column${e.column}`,Qa=()=>Mt?window.matchMedia&&window.matchMedia("(min-width: 415px)").matches?"Tablet":w:S;function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xa.apply(this,arguments)}var es=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return r=>t?i.default.createElement(e,Xa({children:r},n||{})):r},ts=()=>{const e=ga(),t=e?_a(e):e,n=(()=>{const e=ga();if(!e)return;const[t]=va(e)[0];if(!t)return;const n=Ni.getVariant(t);return n?`${t}:${n}`:void 0})(),r=n?_a(n):n;return t&&t!==r?`${t}:${r}`:void 0},ns=()=>_a(ga()??""),rs=()=>Gt.device,is=()=>{const e=performance.now()/1e3;return e<1?"<1s":e>10?">10s":`${Math.round(e)}s`},os=e=>{ur({metric:hr,error:ln(e,hr),options:{isDisposable:!0}})},as=(e,t)=>{let{product:n}=t;ur({metric:yr,error:ln(e,yr),tags:{[wr]:ns(),[kr]:n}})},ss=e=>{ur({metric:mr,error:ln(e,mr),tags:{[wr]:ns()}})},cs=e=>{ur({metric:br,error:ln(e,br)})},us=n(396),ls=n(184),ds=n.n(ls),fs=function(){return Ie.Date.now()},ps=Math.max,hs=Math.min,vs=function(e,t,n){var r,i,o,a,s,c,u=0,l=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function h(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=o}function v(){var e=fs();if(h(e))return _(e);s=setTimeout(v,function(e){var n=t-(e-c);return d?hs(n,o-(e-u)):n}(e))}function _(e){return s=void 0,f&&r?p(e):(r=i=void 0,a)}function y(){var e=fs(),n=h(e);if(r=arguments,i=this,c=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(v,t),l?p(e):a}(c);if(d)return clearTimeout(s),s=setTimeout(v,t),p(c)}return void 0===s&&(s=setTimeout(v,t)),a}return t=ra(t)||0,Be(n)&&(l=!!n.leading,o=(d="maxWait"in n)?ps(ra(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=i=s=void 0},y.flush=function(){return void 0===s?a:_(fs())},y};const _s=en("tenant_config.ads.disable_selector","meta[name=spotim-ads][content=disable-all]"),ys=()=>Boolean(window.__SPOTIM_ADS_DISABLED__),gs=e=>e.hasAttribute("disable-ad")||e.hasAttribute("data-disable-ad"),ms=(e,t)=>ys()?(ws(e,t),!0):Boolean(document.querySelector(_s))?(Kt(!0,"Ads disabled by meta tag"),xs(),$i({reportingModuleName:e,campaignId:t}),lr({metric:"ad-unit-disabled-by-meta-tag",options:{isDisposable:!0}}),!0):void 0,bs=e=>{let{campaignId:t,isCampaignMissed:n,isDisabledByFeaturesConfig:r,isDisabledByHtmlAttribute:i,isDisabledByIsOptedOutFlag:o,reportingModuleName:a}=e;return ys()?(ws(a,t),!0):o?(Kt(!0,'Ad unit disabled by "isOptedOut" response flag'),xs(),lr({metric:"ad-unit-disabled-by-is-opted-out-flag",options:{isDisposable:!0}}),!0):n?(Kt(!0,"Ad unit disabled by empty campaign","\nProduct:",a),(e=>{let{product:t}=e;lr({metric:"ad-unit-no-campaign",tags:{[kr]:t}})})({product:a}),!0):r?(Kt(!0,"Ad unit disabled by features config"),(e=>{let{product:t}=e;lr({metric:"ad-unit-disabled-for-product-by-features-config",tags:{[kr]:t}})})({product:a}),!0):i?(Kt(!0,"Ad unit disabled by html attribute","\nProduct:",a),(e=>{let{product:t}=e;lr({metric:"ad-unit-disabled-for-product-by-html-attribute",tags:{[kr]:t}})})({product:a}),(e=>{let{reportingModuleName:t,campaignId:n}=e;const r=Ri({engine_status:"content-without-ads"},t,n);Di(r)})({reportingModuleName:a,campaignId:t}),!0):void 0},ws=(e,t)=>{ys()&&(Kt(!0,"Ad unit disabled by global flag"),$i({reportingModuleName:e,campaignId:t}),lr({metric:"ad-unit-disabled-by-global-flag",options:{isDisposable:!0}}))},Ss=(()=>{let e=0;return()=>(e++,e)})();var Es=e=>{let{adIndex:t,moduleName:n,postId:r,slot:i,spotId:o}=e;const a=[n,o,r,i?.row,i?.column,t].filter(po).join("-");return`${Ss()}-${a}`},ks={[v]:{shouldShowHeaderWhenAdNotRendered:!0,slot:J},[g]:{moduleName:"conversation_header",slot:J,shouldShowHeaderWhenAdNotRendered:!0},[_]:{shouldShowHeaderWhenAdNotRendered:!0,slot:{row:2,column:1},reportingModuleName:"pitc_dd"},[y]:{moduleName:"reactions",center:!0,slot:J,adPosition:d},[m]:{moduleName:"topic_tracker",slot:J}},xs=()=>{window.__SPOTIM_ADS_DISABLED__=!0};const Os=()=>new Promise((e=>{return t=e,void((r=Gi("initScrollListener"))?r.then(t(n)):function(e,t){var n=qi(),r=eo(n),i=Zi(n),o=Xi(n);Ji=0,Ki=!1,r>20||o?e(t):i?n?no(e,t):to(e,t):setTimeout((function(){e(t)}),0)}(t,n));var t,n,r}));var As=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;var r;if(r=t,t=po(r?.row)&&po(r?.column)?r:Ja,!t||!e)return;return(Ka(e,t)??(!n&&Ka(e,Ja)))||void 0},Is=e=>{switch(e){case l:return"directionAbove";case d:return h;case p:return"directionRight";default:return"directionLeft"}};const Cs=e=>"function"==typeof window.__SPOTIM_IS_LEGACY_VERTICAL_PITC__&&window.__SPOTIM_IS_LEGACY_VERTICAL_PITC__(e),Ps=e=>{const t=e.hasAttribute("data-vertical-view")||Cs(e),n=e.dataset?.pageType,r=n&&X.hasOwnProperty(n)?X[n]:"";return t?"side_rail":["pitc_hp"].includes(r)?r:"recirculation"};var Ns={adWrapper:"ads__index__adWrapper--oULbM",takeover:"ads__index__takeover--go4F2",outerWrapper:"ads__index__outerWrapper--LFv41",directionLeft:"ads__index__directionLeft--dbbBS",directionRight:"ads__index__directionRight--Pmvs7",directionAbove:"ads__index__directionAbove--Dx93K",elementWrapper:"ads__index__elementWrapper--PdmUU",directionBelow:"ads__index__directionBelow--wtc2V",adUnitWrapper:"ads__index__adUnitWrapper--NZb2Y",pitc:"ads__index__pitc--_4Q5M",recirculation:"ads__index__recirculation--Q5ESe",reactions:"ads__index__reactions--fbdgN"};const Ts=()=>{const e=document.createElement("div");return e.setAttribute("product-header-placeholder",""),e},Ds=e=>{let{adUnitProps:t,headerDiv:n,productContainer:r,productAndTitleContainer:i,stylingWrapper:o,target:a}=e;js({headerDiv:n,productContainer:r,stylingWrapper:o,target:a,initialProps:t}),Rs({headerDiv:n,productContainer:r,productAndTitleContainer:i,initialProps:t})},js=e=>{let{headerDiv:t,initialProps:n,productContainer:r,stylingWrapper:i,target:o}=e;if(Is(n.adPosition||f)===h){const e=r.querySelector("[data-mini-ad-unit]");r.insertBefore(o,e)}else r.appendChild(o);n.titleBelowAd?r.insertBefore(t,o??null):i.insertBefore(t,i.firstChild)},Rs=e=>{let{headerDiv:t,initialProps:n,productContainer:r,productAndTitleContainer:i}=e;const{adUnitId:o,shouldShowHeaderWhenAdNotRendered:a}=n;Ir(o,"outerAdContainer",{target:i}),Ir(o,"innerAdContainer",{target:r}),a&&Cr(o,"onHeaderSet",(e=>t.innerHTML=e))};var Ms="IntersectionObserver"in window;const Us=e=>Number.isInteger(e)&&e>0;const Vs=(e,t,n,r,i,o)=>{const a=en("tenant_config.ads.enable_visibility_observer",!0),{intersection_only_products:s,threshold:c}=en("tenant_config.ads.visibility_observer_options",{intersection_only_products:[],threshold:.1}),u={threshold:c,rootMargin:"10000px 0px",trackVisibility:!0,delay:100,...o};if(!Ms||!a)return Kt(!0,"Visibility Observer Disabled",{reportingModuleName:t,target:n}),r(),!0;const l=s.includes(e),d=new IntersectionObserver((e=>{$s(e,t,n,d,l,r,i)}),u),f=l&&n.parentElement?n.parentElement:n;return d.observe(f),d},$s=(e,t,n,r,i,o,a)=>{const[s]=e,c="isVisible"in s,u=c&&s.isVisible,l=!c&&s.isIntersecting||i&&s.isIntersecting;return u||l?(Kt(!0,"Visibility Observer - Ad visible",{reportingModuleName:t,target:n}),o(),r.unobserve(n),!0):(Kt(!0,"Visibility Observer - Ad hidden",{reportingModuleName:t,target:n}),a(),!1)};var Ls,Bs,zs,Fs,Ws=function(){return Ws=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ws.apply(this,arguments)};function Hs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Ys(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gs(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function qs(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}(Fs=Ls||(Ls={})).Start="xstate.start",Fs.Stop="xstate.stop",Fs.Raise="xstate.raise",Fs.Send="xstate.send",Fs.Cancel="xstate.cancel",Fs.NullEvent="",Fs.Assign="xstate.assign",Fs.After="xstate.after",Fs.DoneState="done.state",Fs.DoneInvoke="done.invoke",Fs.Log="xstate.log",Fs.Init="xstate.init",Fs.Invoke="xstate.invoke",Fs.ErrorExecution="error.execution",Fs.ErrorCommunication="error.communication",Fs.ErrorPlatform="error.platform",Fs.ErrorCustom="xstate.error",Fs.Update="xstate.update",Fs.Pure="xstate.pure",Fs.Choose="xstate.choose",(zs=Bs||(Bs={})).Parent="#_parent",zs.Internal="#_internal";var Js,Ks=Ls.Start,Zs=Ls.Stop,Qs=Ls.Raise,Xs=Ls.Send,ec=Ls.Cancel,tc=Ls.NullEvent,nc=Ls.Assign,rc=(Ls.After,Ls.DoneState,Ls.Log),ic=Ls.Init,oc=Ls.Invoke,ac=(Ls.ErrorExecution,Ls.ErrorPlatform),sc=Ls.ErrorCustom,cc=Ls.Update,uc=Ls.Choose,lc=Ls.Pure,dc={},fc="xstate.guard",pc=!0;function hc(e,t,n){void 0===n&&(n=".");var r=yc(e,n),i=yc(t,n);return Dc(i)?!!Dc(r)&&i===r:Dc(r)?r in i:Object.keys(r).every((function(e){return e in i&&hc(r[e],i[e])}))}function vc(e){try{return Dc(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function _c(e,t){try{return Nc(e)?e:e.toString().split(t)}catch(t){throw new Error("'".concat(e,"' is not a valid state path."))}}function yc(e,t){return"object"==typeof(n=e)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?e.value:Nc(e)?gc(e):"string"!=typeof e?e:gc(_c(e,t));var n}function gc(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function mc(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];n[o]=t(e[o],o,e,i)}return n}function bc(e,t,n){var r,i,o={};try{for(var a=Ys(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];n(u)&&(o[c]=t(u,c,e))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}var wc=function(e){return function(t){var n,r,i=t;try{for(var o=Ys(e),a=o.next();!a.done;a=o.next())i=i[a.value]}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}};function Sc(e){return e?Dc(e)?[[e]]:Ec(Object.keys(e).map((function(t){var n=e[t];return"string"==typeof n||n&&Object.keys(n).length?Sc(e[t]).map((function(e){return[t].concat(e)})):[[t]]}))):[[]]}function Ec(e){var t;return(t=[]).concat.apply(t,qs([],Gs(e),!1))}function kc(e){return Nc(e)?e:[e]}function xc(e){return void 0===e?[]:kc(e)}function Oc(e,t,n){var r,i;if(Tc(e))return e(t,n.data);var o={};try{for(var a=Ys(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];Tc(u)?o[c]=u(t,n.data):o[c]=u}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}function Ac(e){return e instanceof Promise||!(null===e||!Tc(e)&&"object"!=typeof e||!Tc(e.then))}function Ic(e,t){return mc(e.states,(function(e,n){if(e){var r=(Dc(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:Ic(e,r)}}}))}function Cc(e,t,n,r){pc||Pc(!!e,"Attempting to update undefined context");var i=e?n.reduce((function(e,n){var i,o,a=n.assignment,s={state:r,action:n,_event:t},c={};if(Tc(a))c=a(e,t.data,s);else try{for(var u=Ys(Object.keys(a)),l=u.next();!l.done;l=u.next()){var d=l.value,f=a[d];c[d]=Tc(f)?f(e,t.data,s):f}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return Object.assign({},e,c)}),e):e;return i}var Pc=function(){};function Nc(e){return Array.isArray(e)}function Tc(e){return"function"==typeof e}function Dc(e){return"string"==typeof e}function jc(e,t){if(e)return Dc(e)?{type:fc,name:e,predicate:t?t[e]:void 0}:Tc(e)?{type:fc,name:e.name,predicate:e}:e}pc||(Pc=function(e,t){var n=e instanceof Error?e:void 0;if((n||!e)&&void 0!==console){var r=["Warning: ".concat(t)];n&&r.push(n),console.warn.apply(console,r)}});var Rc=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function Mc(e){return!!e&&"__xstatenode"in e}function Uc(e,t){return Dc(e)||"number"==typeof e?Ws({type:e},t):e}function Vc(e,t){if(!Dc(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=Uc(e);return Ws({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function $c(e,t){return kc(t).map((function(t){return void 0===t||"string"==typeof t||Mc(t)?{target:t,event:e}:Ws(Ws({},t),{event:e})}))}function Lc(e,t,n,r,i){var o=e.options.guards,a={state:i,cond:t,_event:r};if(t.type===fc)return((null==o?void 0:o[t.name])||t.predicate)(n,r.data,a);var s=null==o?void 0:o[t.type];if(!s)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return s(n,r.data,a)}function Bc(e){return"string"==typeof e?{type:e}:e}function zc(e,t,n){var r=function(){},i="object"==typeof e,o=i?e:null;return{next:((i?e.next:e)||r).bind(o),error:((i?e.error:t)||r).bind(o),complete:((i?e.complete:n)||r).bind(o)}}function Fc(e,t){return"".concat(e,":invocation[").concat(t,"]")}function Wc(e){return(e.type===Qs||e.type===Xs&&e.to===Bs.Internal)&&"number"!=typeof e.delay}(Js={})[Rc]=function(){return this},Js[Symbol.observable]=function(){return this};var Hc=Vc({type:ic});function Yc(e,t){return t&&t[e]||void 0}function Gc(e,t){var n;if(Dc(e)||"number"==typeof e)n=Tc(r=Yc(e,t))?{type:e,exec:r}:r||{type:e,exec:void 0};else if(Tc(e))n={type:e.name||e.toString(),exec:e};else{var r;if(Tc(r=Yc(e.type,t)))n=Ws(Ws({},e),{exec:r});else if(r){var i=r.type||e.type;n=Ws(Ws(Ws({},r),e),{type:i})}else n=e}return n}var qc=function(e,t){return e?(Nc(e)?e:[e]).map((function(e){return Gc(e,t)})):[]};function Jc(e){var t=Gc(e);return Ws(Ws({id:Dc(e)?e:t.id},t),{type:t.type})}function Kc(e,t){return{type:Qs,event:"function"==typeof e?e:Uc(e),delay:t?t.delay:void 0,id:null==t?void 0:t.id}}function Zc(e,t){return{to:t?t.to:void 0,type:Xs,event:Tc(e)?e:Uc(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:Tc(e)?e.name:vc(e)}}var Qc=function(e,t,n){return Ws(Ws({},e),{value:Dc(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})},Xc=function(e){return{type:ec,sendId:e}};function eu(e){var t=Jc(e);return{type:Ls.Start,activity:t,exec:void 0}}function tu(e){var t=Tc(e)?e:Jc(e);return{type:Ls.Stop,activity:t,exec:void 0}}var nu=function(e){return{type:nc,assignment:e}};function ru(e,t){var n=t?"#".concat(t):"";return"".concat(Ls.After,"(").concat(e,")").concat(n)}function iu(e,t){var n="".concat(Ls.DoneState,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function ou(e,t){var n="".concat(Ls.DoneInvoke,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function au(e,t){var n="".concat(Ls.ErrorPlatform,".").concat(e);return{type:n,data:t,toString:function(){return n}}}var su=function(e){var t,n,r=[];try{for(var i=Ys(e),o=i.next();!o.done;o=i.next())for(var a=o.value,s=0;s<a.actions.length;)a.actions[s].type!==nc?s++:(r.push(a.actions[s]),a.actions.splice(s,1))}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r};function cu(e,t,n,r,i,o,a){void 0===a&&(a=!1);var s=a?[]:su(i),c=s.length?Cc(n,r,s,t):n,u=a?[n]:void 0,l=[];function d(i,s){var d;switch(s.type){case Qs:var f=function(e,t,n,r){var i,o={_event:n},a=Vc(Tc(e.event)?e.event(t,n.data,o):e.event);if(Dc(e.delay)){var s=r&&r[e.delay];i=Tc(s)?s(t,n.data,o):s}else i=Tc(e.delay)?e.delay(t,n.data,o):e.delay;return Ws(Ws({},e),{type:Qs,_event:a,delay:i})}(s,c,r,e.options.delays);return o&&"number"==typeof f.delay&&o(f,c,r),f;case Xs:var p=function(e,t,n,r){var i,o={_event:n},a=Vc(Tc(e.event)?e.event(t,n.data,o):e.event);if(Dc(e.delay)){var s=r&&r[e.delay];i=Tc(s)?s(t,n.data,o):s}else i=Tc(e.delay)?e.delay(t,n.data,o):e.delay;var c=Tc(e.to)?e.to(t,n.data,o):e.to;return Ws(Ws({},e),{to:c,_event:a,event:a.data,delay:i})}(s,c,r,e.options.delays);if(!pc){var h=s.delay;Pc(!Dc(h)||"number"==typeof p.delay,"No delay reference for delay expression '".concat(h,"' was found on machine '").concat(e.id,"'"))}return o&&p.to!==Bs.Internal&&("entry"===i?l.push(p):o(p,c,r)),p;case rc:var v=Qc(s,c,r);return null==o||o(v,c,r),v;case uc:if(!(m=null===(d=s.conds.find((function(n){var i=jc(n.cond,e.options.guards);return!i||Lc(e,i,c,r,o?void 0:t)})))||void 0===d?void 0:d.actions))return[];var _=Gs(cu(e,t,c,r,[{type:i,actions:qc(xc(m),e.options.actions)}],o,a),2),y=_[0],g=_[1];return c=g,null==u||u.push(c),y;case lc:var m;if(!(m=s.get(c,r.data)))return[];var b=Gs(cu(e,t,c,r,[{type:i,actions:qc(xc(m),e.options.actions)}],o,a),2),w=b[0],S=b[1];return c=S,null==u||u.push(c),w;case Zs:return v=function(e,t,n){var r=Tc(e.activity)?e.activity(t,n.data):e.activity,i="string"==typeof r?{id:r}:r;return{type:Ls.Stop,activity:i}}(s,c,r),null==o||o(v,n,r),v;case nc:c=Cc(c,r,[s],o?void 0:t),null==u||u.push(c);break;default:var E=Gc(s,e.options.actions),k=E.exec;if(o)o(E,c,r);else if(k&&u){var x=u.length-1,O=Ws(Ws({},E),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];k.apply(void 0,qs([u[x]],Gs(t),!1))}});E=O}return E}}var f=Ec(i.map((function(e){var t,n,i=[];try{for(var a=Ys(e.actions),s=a.next();!s.done;s=a.next()){var u=s.value,f=d(e.type,u);f&&(i=i.concat(f))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return l.forEach((function(e){o(e,c,r)})),l.length=0,i})));return[f,c]}var uu=function(e){return"atomic"===e.type||"final"===e.type};function lu(e){return Object.keys(e.states).map((function(t){return e.states[t]}))}function du(e){return lu(e).filter((function(e){return"history"!==e.type}))}function fu(e){var t=[e];return uu(e)?t:t.concat(Ec(du(e).map(fu)))}function pu(e,t){var n,r,i,o,a,s,c,u,l=vu(new Set(e)),d=new Set(t);try{for(var f=Ys(d),p=f.next();!p.done;p=f.next())for(var h=(E=p.value).parent;h&&!d.has(h);)d.add(h),h=h.parent}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}var v=vu(d);try{for(var _=Ys(d),y=_.next();!y.done;y=_.next())if("compound"!==(E=y.value).type||v.get(E)&&v.get(E).length){if("parallel"===E.type)try{for(var g=(a=void 0,Ys(du(E))),m=g.next();!m.done;m=g.next()){var b=m.value;d.has(b)||(d.add(b),l.get(b)?l.get(b).forEach((function(e){return d.add(e)})):b.initialStateNodes.forEach((function(e){return d.add(e)})))}}catch(e){a={error:e}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}}else l.get(E)?l.get(E).forEach((function(e){return d.add(e)})):E.initialStateNodes.forEach((function(e){return d.add(e)}))}catch(e){i={error:e}}finally{try{y&&!y.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}try{for(var w=Ys(d),S=w.next();!S.done;S=w.next()){var E;for(h=(E=S.value).parent;h&&!d.has(h);)d.add(h),h=h.parent}}catch(e){c={error:e}}finally{try{S&&!S.done&&(u=w.return)&&u.call(w)}finally{if(c)throw c.error}}return d}function hu(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var r=n[0];if(!r)return{};if(uu(r))return r.key}var i={};return n.forEach((function(e){i[e.key]=hu(e,t)})),i}function vu(e){var t,n,r=new Map;try{for(var i=Ys(e),o=i.next();!o.done;o=i.next()){var a=o.value;r.has(a)||r.set(a,[]),a.parent&&(r.has(a.parent)||r.set(a.parent,[]),r.get(a.parent).push(a))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function _u(e,t){return hu(e,vu(pu([e],t)))}function yu(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function gu(e,t){return"compound"===t.type?du(t).some((function(t){return"final"===t.type&&yu(e,t)})):"parallel"===t.type&&du(t).every((function(t){return gu(e,t)}))}function mu(e){return new Set(Ec(e.map((function(e){return e.tags}))))}function bu(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(Dc(e)||Dc(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return bu(e[n],t[n])}))}var wu=function(){function e(e){var t,n,r=this;this.actions=[],this.activities=dc,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||dc,this.meta=(void 0===(n=e.configuration)&&(n=[]),n.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(e){return qs([],Gs(new Set(Ec(qs([],Gs(e.map((function(e){return e.ownEvents}))),!1)))),!1)}(r.configuration)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:Hc,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=Hc;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),Dc(e))return[e];var r=Object.keys(e);return r.concat.apply(r,qs([],Gs(r.map((function(r){return n.toStrings(e[r],t).map((function(e){return r+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var n=Hs(e,["configuration","transitions","tags","machine"]);return Ws(Ws({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return hc(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;pc&&Pc(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}(),Su=[],Eu=function(e,t){Su.push(e);var n=t(e);return Su.pop(),n};function ku(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[Rc]=function(){return this},t}function xu(e,t,n){var r=ku(t);if(r.deferred=!0,Mc(e)){var i=r.state=Eu(void 0,(function(){return(n?e.withContext(n):e).initialState}));r.getSnapshot=function(){return i}}return r}function Ou(e){return Ws(Ws({type:oc},e),{toJSON:function(){e.onDone,e.onError;var t,n=Hs(e,["onDone","onError"]);return Ws(Ws({},n),{type:oc,src:(t=e.src,"string"==typeof t?{type:t,toString:function(){return t}}:t)})}})}var Au="",Iu="*",Cu={},Pu=function(e){return"#"===e[0]},Nu=function(){function e(t,n,r,i){void 0===r&&(r="context"in t?t.context:void 0);var o,a=this;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==i?void 0:i.parent,this.key=this.config.key||(null==i?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||qs([this.machine.key],Gs(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(o=this.config.schema)&&void 0!==o?o:{},this.description=this.config.description,pc||Pc(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?mc(this.config.states,(function(t,n){var r,i=new e(t,{},void 0,{parent:a,key:n});return Object.assign(a.idMap,Ws(((r={})[i.id]=i,r),i.idMap)),i})):Cu;var s=0;!function e(t){var n,r;t.order=s++;try{for(var i=Ys(lu(t)),o=i.next();!o.done;o=i.next())e(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return e.event===Au})):Au in this.config.on),this.strict=!!this.config.strict,this.onEntry=xc(this.config.entry||this.config.onEntry).map((function(e){return Gc(e)})),this.onExit=xc(this.config.exit||this.config.onExit).map((function(e){return Gc(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=xc(this.config.invoke).map((function(e,t){var n,r;if(Mc(e)){var i=Fc(a.id,t);return a.machine.options.services=Ws(((n={})[i]=e,n),a.machine.options.services),Ou({src:i,id:i})}if(Dc(e.src))return i=e.id||Fc(a.id,t),Ou(Ws(Ws({},e),{id:i,src:e.src}));if(Mc(e.src)||Tc(e.src))return i=e.id||Fc(a.id,t),a.machine.options.services=Ws(((r={})[i]=e.src,r),a.machine.options.services),Ou(Ws(Ws({id:i},e),{src:i}));var o=e.src;return Ou(Ws(Ws({id:Fc(a.id,t)},e),{src:o}))})),this.activities=xc(this.config.activities).concat(this.invoke).map((function(e){return Jc(e)})),this.transition=this.transition.bind(this),this.tags=xc(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||fu(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,n){var r=this.options,i=r.actions,o=r.activities,a=r.guards,s=r.services,c=r.delays;return new e(this.config,{actions:Ws(Ws({},i),t.actions),activities:Ws(Ws({},o),t.activities),guards:Ws(Ws({},a),t.guards),services:Ws(Ws({},s),t.services),delays:Ws(Ws({},c),t.delays)},null!=n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return Tc(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:mc(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===Au,n=this.transitions.filter((function(n){var r=n.eventType===e;return t?r:r||n.eventType===Iu}));return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var r=ru(Tc(t)?"".concat(e.id,":delay[").concat(n,"]"):t,e.id);return e.onEntry.push(Zc(r,{delay:t})),e.onExit.push(Xc(r)),r};return(Nc(t)?t.map((function(e,t){var r=n(e.delay,t);return Ws(Ws({},e),{event:r})})):Ec(Object.keys(t).map((function(e,r){var i=t[e],o=Dc(i)?{target:i}:i,a=isNaN(+e)?e:+e,s=n(a,r);return xc(o).map((function(e){return Ws(Ws({},e),{event:s,delay:a})}))})))).map((function(t){var n=t.delay;return Ws(Ws({},e.formatTransition(t)),{delay:n})}))},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof wu?e.value:yc(e,this.delimiter);if(Dc(r)){var i=this.getStateNode(r).initial;return void 0!==i?this.getStateNodes(((t={})[r]=i,t)):[this,this.states[r]]}var o=Object.keys(r),a=[this];return a.push.apply(a,qs([],Gs(Ec(o.map((function(e){return n.getStateNode(e).getStateNodes(r[e])})))),!1)),a},e.prototype.handles=function(e){var t=vc(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof wu?e:wu.create(e),n=Array.from(pu([],this.getStateNodes(t.value)));return new wu(Ws(Ws({},t),{value:this.resolve(t.value),configuration:n,done:gu(n,this),tags:mu(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=Object.keys(e),i=this.getStateNode(r[0])._transition(e[r[0]],t,n);return i&&i.transitions.length?i:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var r,i,o={};try{for(var a=Ys(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];if(u){var l=this.getStateNode(c)._transition(u,t,n);l&&(o[c]=l)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}var d=Object.keys(o).map((function(e){return o[e]})),f=Ec(d.map((function(e){return e.transitions})));if(!d.some((function(e){return e.transitions.length>0})))return this.next(t,n);var p=Ec(Object.keys(o).map((function(e){return o[e].configuration})));return{transitions:f,exitSet:Ec(d.map((function(e){return e.exitSet}))),configuration:p,source:t,actions:Ec(Object.keys(o).map((function(e){return o[e].actions})))}},e.prototype._transition=function(e,t,n){return Dc(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,Vc(t))},e.prototype.next=function(e,t){var n,r,i,o=this,a=t.name,s=[],c=[];try{for(var u=Ys(this.getCandidates(a)),l=u.next();!l.done;l=u.next()){var d=l.value,f=d.cond,p=d.in,h=e.context,v=!p||(Dc(p)&&Pu(p)?e.matches(yc(this.getStateNodeById(p).path,this.delimiter)):hc(yc(p,this.delimiter),wc(this.path.slice(0,-2))(e.value))),_=!1;try{_=!f||Lc(this.machine,f,h,t,e)}catch(e){throw new Error("Unable to evaluate guard '".concat(f.name||f.type,"' in transition for event '").concat(a,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(_&&v){void 0!==d.target&&(c=d.target),s.push.apply(s,qs([],Gs(d.actions),!1)),i=d;break}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(i){if(!c.length)return{transitions:[i],exitSet:[],configuration:e.value?[this]:[],source:e,actions:s};var y=Ec(c.map((function(t){return o.getRelativeStateNodes(t,e.historyValue)})));return{transitions:[i],exitSet:i.internal?[]:Ec(c.map((function(e){return o.getPotentiallyReenteringNodes(e)}))),configuration:y,source:e,actions:s}}},e.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var t=[],n=this,r=e;n&&n!==r;)t.push(n),n=n.parent;return n!==r?[]:(t.push(r),t)},e.prototype.getActions=function(e,t,n,r,i,o,a){var s,c,u,l,d=this,f=o?pu([],this.getStateNodes(o.value)):[],p=new Set;try{for(var h=Ys(Array.from(e).sort((function(e,t){return e.order-t.order}))),v=h.next();!v.done;v=h.next())(!yu(f,g=v.value)||yu(n.exitSet,g)||g.parent&&p.has(g.parent))&&p.add(g)}catch(e){s={error:e}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(s)throw s.error}}try{for(var _=Ys(f),y=_.next();!y.done;y=_.next()){var g;yu(e,g=y.value)&&!yu(n.exitSet,g.parent)||n.exitSet.push(g)}}catch(e){u={error:e}}finally{try{y&&!y.done&&(l=_.return)&&l.call(_)}finally{if(u)throw u.error}}n.exitSet.sort((function(e,t){return t.order-e.order}));var m=Array.from(p).sort((function(e,t){return e.order-t.order})),b=new Set(n.exitSet),w=Ec(m.map((function(e){var t=[];if("final"!==e.type)return t;var o=e.parent;if(!o.parent)return t;t.push(iu(e.id,e.doneData),iu(o.id,e.doneData?Oc(e.doneData,r,i):void 0));var a=o.parent;return"parallel"===a.type&&du(a).every((function(e){return gu(n.configuration,e)}))&&t.push(iu(a.id)),t}))),S=m.map((function(e){var t=e.onEntry,n=e.activities.map((function(e){return eu(e)}));return{type:"entry",actions:qc(a?qs(qs([],Gs(t),!1),Gs(n),!1):qs(qs([],Gs(n),!1),Gs(t),!1),d.machine.options.actions)}})).concat({type:"state_done",actions:w.map((function(e){return Kc(e)}))}),E=Array.from(b).map((function(e){return{type:"exit",actions:qc(qs(qs([],Gs(e.onExit),!1),Gs(e.activities.map((function(e){return tu(e)}))),!1),d.machine.options.actions)}})).concat({type:"transition",actions:qc(n.actions,this.machine.options.actions)}).concat(S);if(t){var k=qc(Ec(qs([],Gs(e),!1).sort((function(e,t){return t.order-e.order})).map((function(e){return e.onExit}))),this.machine.options.actions).filter((function(e){return!Wc(e)}));return E.concat({type:"stop",actions:k})}return E},e.prototype.transition=function(e,t,n,r){void 0===e&&(e=this.initialState);var i,o,a=Vc(t);if(e instanceof wu)i=void 0===n?e:this.resolveState(wu.from(e,n));else{var s=Dc(e)?this.resolve(gc(this.getResolvedPath(e))):this.resolve(e),c=null!=n?n:this.machine.context;i=this.resolveState(wu.from(s,c))}if(!pc&&a.name===Iu)throw new Error("An event cannot have the wildcard type ('".concat(Iu,"')"));if(this.strict&&!this.events.includes(a.name)&&(o=a.name,!/^(done|error)\./.test(o)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(a.name,"'"));var u=this._transition(i.value,i,a)||{transitions:[],configuration:[],exitSet:[],source:i,actions:[]},l=pu([],this.getStateNodes(i.value)),d=u.configuration.length?pu(l,u.configuration):l;return u.configuration=qs([],Gs(d),!1),this.resolveTransition(u,i,i.context,r,a)},e.prototype.resolveRaisedTransition=function(e,t,n,r){var i,o=e.actions;return(e=this.transition(e,t,void 0,r))._event=n,e.event=n.data,(i=e.actions).unshift.apply(i,qs([],Gs(o),!1)),e},e.prototype.resolveTransition=function(e,t,n,r,i){var o,a,s,c,u=this;void 0===i&&(i=Hc);var l=e.configuration,d=!t||e.transitions.length>0,f=d?e.configuration:t?t.configuration:[],p=gu(f,this),h=d?_u(this.machine,l):void 0,v=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,_=this.getActions(new Set(f),p,e,n,i,t,r),y=t?Ws({},t.activities):{};try{for(var g=Ys(_),m=g.next();!m.done;m=g.next()){var b=m.value;try{for(var w=(s=void 0,Ys(b.actions)),S=w.next();!S.done;S=w.next()){var E=S.value;E.type===Ks?y[E.activity.id||E.activity.type]=E:E.type===Zs&&(y[E.activity.id||E.activity.type]=!1)}}catch(e){s={error:e}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(s)throw s.error}}}}catch(e){o={error:e}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}var k,x,O=Gs(cu(this,t,n,i,_,r,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),A=O[0],I=O[1],C=Gs(function(e,t){var n,r,i=Gs([[],[]],2),o=i[0],a=i[1];try{for(var s=Ys(e),c=s.next();!c.done;c=s.next()){var u=c.value;t(u)?o.push(u):a.push(u)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}(A,Wc),2),P=C[0],N=C[1],T=A.filter((function(e){var t;return e.type===Ks&&(null===(t=e.activity)||void 0===t?void 0:t.type)===oc})),D=T.reduce((function(e,t){return e[t.activity.id]=function(e,t,n,r){var i,o=Bc(e.src),a=null===(i=null==t?void 0:t.options.services)||void 0===i?void 0:i[o.type],s=e.data?Oc(e.data,n,r):void 0,c=a?xu(a,e.id,s):ku(e.id);return c.meta=e,c}(t.activity,u.machine,I,i),e}),t?Ws({},t.children):{}),j=new wu({value:h||t.value,context:I,_event:i,_sessionid:t?t._sessionid:null,historyValue:h?v?(k=v,x=h,{current:x,states:Ic(k,x)}):void 0:t?t.historyValue:void 0,history:!h||e.source?t:void 0,actions:h?N:[],activities:h?y:t?t.activities:{},events:[],configuration:f,transitions:e.transitions,children:D,done:p,tags:mu(f),machine:this}),R=n!==I;j.changed=i.name===cc||R;var M=j.history;M&&delete M.history;var U=!p&&(this._transient||l.some((function(e){return e._transient})));if(!(d||U&&i.name!==Au))return j;var V=j;if(!p)for(U&&(V=this.resolveRaisedTransition(V,{type:tc},i,r));P.length;){var $=P.shift();V=this.resolveRaisedTransition(V,$._event,i,r)}var L=V.changed||(M?!!V.actions.length||R||typeof M.value!=typeof V.value||!bu(V.value,M.value):void 0);return V.changed=L,V.history=M,V},e.prototype.getStateNode=function(e){if(Pu(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=Pu(e)?e.slice(1):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&Pu(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=_c(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||Cu;switch(this.type){case"parallel":return mc(this.initialStateValue,(function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):Cu}));case"compound":if(Dc(e)){var r=this.getStateNode(e);return"parallel"===r.type||"compound"===r.type?((t={})[e]=r.initialStateValue,t):e}return Object.keys(e).length?mc(e,(function(e,t){return e?n.getStateNode(t).resolve(e):Cu})):this.initialStateValue||{};default:return e||Cu}},e.prototype.getResolvedPath=function(e){if(Pu(e)){var t=this.machine.idMap[e.slice(1)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return _c(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=bc(this.states,(function(e){return e.initialStateValue||Cu}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=uu(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=Dc(t.target)&&Pu(t.target)?gc(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;return uu(this)?[this]:"compound"!==this.type||this.initial?Ec(Sc(this.initialStateValue).map((function(t){return e.getFromRelativePath(t)}))):(pc||Pc(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this])},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=Gs(e),n=t[0],r=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var i=this.getStateNode(n);if("history"===i.type)return i.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:bc(this.states,(function(t,n){if(!e)return t.historyValue();var r=Dc(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var r=this.target;return r?Ec(Sc(r).map((function(e){return n.getFromRelativePath(e)}))):n.initialStateNodes}var i,o=(i=n.path,"states",function(e){var t,n,r=e;try{for(var o=Ys(i),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.states[s]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r})(e).current;return Dc(o)?[n.getStateNode(o)]:Ec(Sc(o).map((function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]})))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=Ec(Object.keys(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,r;if(this.__cache.events)return this.__cache.events;var i=this.states,o=new Set(this.ownEvents);if(i)try{for(var a=Ys(Object.keys(i)),s=a.next();!s.done;s=a.next()){var c=i[s.value];if(c.states)try{for(var u=(n=void 0,Ys(c.events)),l=u.next();!l.done;l=u.next()){var d=l.value;o.add("".concat(d))}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!Dc(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(e){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}}))},e.prototype.formatTransition=function(e){var t=this,n=function(e){if(void 0!==e&&""!==e)return xc(e)}(e.target),r="internal"in e?e.internal:!n||n.some((function(e){return Dc(e)&&e[0]===t.delimiter})),i=this.machine.options.guards,o=this.resolveTarget(n),a=Ws(Ws({},e),{actions:qc(xc(e.actions)),cond:jc(e.cond,i),target:o,source:this,internal:r,eventType:e.event,toJSON:function(){return Ws(Ws({},a),{target:a.target?a.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return a},e.prototype.formatTransitions=function(){var e,t,n,r=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var i=this.config.on,o=i[Iu],a=void 0===o?[]:o,s=Hs(i,["*"]);n=Ec(Object.keys(s).map((function(e){pc||e!==Au||Pc(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(r.id,'".'));var t=$c(e,s[e]);return pc||function(e,t,n){var r=n.slice(0,-1).some((function(e){return!("cond"in e)&&!("in"in e)&&(Dc(e.target)||Mc(e.target))})),i=t===Au?"the transient event":"event '".concat(t,"'");Pc(!r,"One or more transitions for ".concat(i," on state '").concat(e.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")}(r,e,t),t})).concat($c(Iu,a)))}else n=[];var c=this.config.always?$c("",this.config.always):[],u=this.config.onDone?$c(String(iu(this.id)),this.config.onDone):[];pc||Pc(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var l=Ec(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,qs([],Gs($c(String(ou(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,qs([],Gs($c(String(au(e.id)),e.onError)),!1)),t}))),d=this.after,f=Ec(qs(qs(qs(qs([],Gs(u),!1),Gs(l),!1),Gs(n),!1),Gs(c),!1).map((function(e){return xc(e).map((function(e){return r.formatTransition(e)}))})));try{for(var p=Ys(d),h=p.next();!h.done;h=p.next()){var v=h.value;f.push(v)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}return f},e}(),Tu="AD_UNIT_DISABLED",Du="AD_UNITS_OVERLAP",ju="DISPLAY_RESIZE",Ru="VIDEO_CLOSED",Mu="VIDEO_DONE",Uu="VIDEO_ERROR",Vu="VIDEO_READY",$u="SET_IS_STICKY_DESKTOP_RUNNING";const Lu=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>!t.map((t=>t(e))).includes(!1)},Bu=(e,t)=>t.map((t=>e.matches(t))).includes(!0),{assign:zu}=r,Fu=e=>e.videoCampaign,Wu=e=>e.passbackSet,Hu=e=>e.persistentDbv,Yu=e=>e.videoTimeoutEnabled;var Gu,qu,Ju,Ku=(Gu={id:"adUnit",initial:"initial",states:{initial:{always:[{target:"dbv",cond:Lu((e=>e.dbvSet),Fu)},{target:"loader",cond:Fu},{target:"fixedDisplayAd"}]},dbv:{after:{PASSBACK_DELAY:[{actions:"timeoutSkipVideo",cond:Lu(Hu,Yu)},{target:"passback",cond:Lu(Wu,Yu)},{target:"allAdsDone",cond:Yu}]},on:{AD_UNITS_OVERLAP:[{actions:"adUnitsOverlap"}],DISPLAY_RESIZE:[{actions:"setDisplayAdSize"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}],VIDEO_READY:"video",VIDEO_ERROR:[{actions:"setSkipVideo",cond:Hu},{target:"passback",cond:Wu}],DBV_ERROR:[{target:"loader",cond:(Ju=e=>e.skipVideo,e=>!Ju(e))},{target:"passback",cond:Wu},{target:"allAdsDone"}]}},loader:{on:{AD_UNITS_OVERLAP:[{actions:"adUnitsOverlap"}],DISPLAY_RESIZE:[{actions:"setDisplayAdSize"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}],VIDEO_READY:"video",VIDEO_ERROR:[{target:"passback",cond:Wu},{target:"allAdsDone"}]}},video:{on:{AD_UNITS_OVERLAP:[{actions:"adUnitsOverlap"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}],VIDEO_DONE:[{target:"passback",cond:Wu},{target:"allAdsDone"}],VIDEO_CLOSED:[{target:"passback",cond:Wu},{target:"allAdsDone"}],VIDEO_ERROR:[{target:"passback",cond:Wu},{target:"allAdsDone"}]}},fixedDisplayAd:{on:{AD_UNITS_OVERLAP:[{actions:"adUnitsOverlap"}],DISPLAY_RESIZE:[{actions:"setDisplayAdSize"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}]}},passback:{on:{AD_UNITS_OVERLAP:[{actions:"adUnitsOverlap"}],DISPLAY_RESIZE:[{actions:"setDisplayAdSize"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}]}},allAdsDone:{type:"final"},adUnitDisabled:{type:"final"}},on:{AD_UNIT_DISABLED:"adUnitDisabled"}},void 0===qu&&(qu=Gu.context),new Nu(Gu,void 0,qu)).withConfig({actions:{setSkipVideo:zu({skipVideo:!0}),timeoutSkipVideo:zu({skipVideo:!0,videoTimeoutEnabled:!1}),setDisplayAdSize:zu({displayAdSize:(e,t)=>t.type===ju?t.payload:e.displayAdSize}),setIsStickyDesktopRunning:zu({isStickyDesktopRunning:(e,t)=>t.type===$u?t.payload:e.isStickyDesktopRunning}),adUnitsOverlap:zu({isAdUnitsOverlapDetected:(e,t)=>t.type===Du||e.isAdUnitsOverlapDetected})},delays:{PASSBACK_DELAY:(e,t)=>e.videoTimeoutEnabled&&e.passbackInterval?Math.max(e.passbackInterval,1)*ie:0}}),Zu=n(798),Qu={deferEvents:!1},Xu=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=Ws(Ws({},Qu),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),el=new Map,tl=0,nl=function(e){el.delete(e)};function rl(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void(pc||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues"))}var il,ol,al={sync:!1,autoForward:!1};(ol=il||(il={}))[ol.NotStarted=0]="NotStarted",ol[ol.Running=1]="Running",ol[ol.Stopped=2]="Stopped";var sl=function(){function e(t,n){void 0===n&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=il.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if(Nc(e))return r.batch(e),r.state;var n=Vc(Uc(e,t));if(r.status===il.Stopped)return pc||Pc(!1,'Event "'.concat(n.name,'" was sent to stopped service "').concat(r.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(n.data))),r.state;if(r.status!==il.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(r.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return r.scheduler.schedule((function(){r.forward(n);var e=r._nextState(n);r.update(e,n)})),r._state},this.sendTo=function(e,t,n){var i,o=r.parent&&(t===Bs.Parent||r.parent.id===t),a=o?r.parent:Dc(t)?t===Bs.Internal?r:r.children.get(t)||function(e){return el.get(e)}(t):(i=t)&&"function"==typeof i.send?t:void 0;if(a)if("machine"in a){if(r.status!==il.Stopped||r.parent!==a||r.state.done){var s=Ws(Ws({},e),{name:e.name===sc?"".concat(au(r.id)):e.name,origin:r.sessionId});!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([a,s]):a.send(s)}}else!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([a,e.data]):a.send(e.data);else{if(!o)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(r.id,"'."));pc||Pc(!1,"Service '".concat(r.id,"' has no parent: unable to send event ").concat(e.type))}},this._exec=function(e,t,n,i){void 0===i&&(i=r.machine.options.actions);var o=e.exec||Yc(e.type,i),a=Tc(o)?o:o?o.exec:e.exec;if(a)try{return a(t,n.data,r.machine.config.predictableActionArguments?{action:e,_event:n}:{action:e,state:r.state,_event:n})}catch(e){throw r.parent&&r.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case Qs:var s=e;r.defer(s);break;case Xs:var c=e;if("number"==typeof c.delay)return void r.defer(c);c.to?r.sendTo(c._event,c.to,n===Hc):r.send(c._event);break;case ec:r.cancel(e.sendId);break;case Ks:if(r.status!==il.Running)return;var u=e.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[u.id||u.type])break;if(u.type===Ls.Invoke){var l=Bc(u.src),d=r.machine.options.services?r.machine.options.services[l.type]:void 0,f=u.id,p=u.data;pc||Pc(!("forward"in u),"`forward` property is deprecated (found in invocation of '".concat(u.src,"' in in machine '").concat(r.machine.id,"'). ")+"Please use `autoForward` instead.");var h="autoForward"in u?u.autoForward:!!u.forward;if(!d)return void(pc||Pc(!1,"No service found for invocation '".concat(u.src,"' in machine '").concat(r.machine.id,"'.")));var v=p?Oc(p,t,n):void 0;if("string"==typeof d)return;var _=Tc(d)?d(t,n.data,{data:v,src:l,meta:u.meta}):d;if(!_)return;var y=void 0;Mc(_)&&(_=v?_.withContext(v):_,y={autoForward:h}),r.spawn(_,f,y)}else r.spawnActivity(u);break;case Zs:r.stopChild(e.activity.id);break;case rc:var g=e,m=g.label,b=g.value;m?r.logger(m,b):r.logger(b);break;default:pc||Pc(!1,"No implementation found for action type '".concat(e.type,"'"))}};var i=Ws(Ws({},e.defaultOptions),n),o=i.clock,a=i.logger,s=i.parent,c=i.id,u=void 0!==c?c:t.id;this.id=u,this.logger=a,this.clock=o,this.parent=s,this.options=i,this.scheduler=new Xu({deferEvents:this.options.deferEvents}),this.sessionId="x:".concat(tl++)}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:Eu(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return pc||Pc(this.status!==il.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,r;try{for(var i=Ys(e.actions),o=i.next();!o.done;o=i.next()){var a=o.value;this.exec(a,e,t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,r,i,o,a,s,c,u,l=this;if(e._sessionid=this.sessionId,this._state=e,this.machine.config.predictableActionArguments&&t!==Hc||!this.options.execute)for(var d=void 0;d=this._outgoingQueue.shift();)d[0].send(d[1]);else this.execute(this.state);if(this.children.forEach((function(e){l.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var f=Ys(this.eventListeners),p=f.next();!p.done;p=f.next())(0,p.value)(e.event)}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}try{for(var h=Ys(this.listeners),v=h.next();!v.done;v=h.next())(0,v.value)(e,e.event)}catch(e){i={error:e}}finally{try{v&&!v.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}try{for(var _=Ys(this.contextListeners),y=_.next();!y.done;y=_.next())(0,y.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(e){a={error:e}}finally{try{y&&!y.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}if(this.state.done){var g=e.configuration.find((function(e){return"final"===e.type&&e.parent===l.machine})),m=g&&g.doneData?Oc(g.doneData,e.context,t):void 0;this._doneEvent=ou(this.id,m);try{for(var b=Ys(this.doneListeners),w=b.next();!w.done;w=b.next())(0,w.value)(this._doneEvent)}catch(e){c={error:e}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}this._stop(),this._stopChildren(),nl(this.sessionId)}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===il.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var r=this,i=zc(e,t,n);this.listeners.add(i.next),this.status!==il.NotStarted&&i.next(this.state);var o=function(){r.doneListeners.delete(o),r.stopListeners.delete(o),i.complete()};return this.status===il.Stopped?i.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){r.listeners.delete(i.next),r.doneListeners.delete(o),r.stopListeners.delete(o)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.status===il.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t,n,r=this;if(this.status===il.Running)return this;this.machine._init(),t=this.sessionId,n=this,el.set(t,n),this.initialized=!0,this.status=il.Running;var i=void 0===e?this.initialState:Eu(this,(function(){return"object"==typeof(t=e)&&null!==t&&"value"in t&&"_event"in t?r.machine.resolveState(e):r.machine.resolveState(wu.from(e,r.machine.context));var t}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){r.update(i,Hc)})),this},e.prototype._stopChildren=function(){this.children.forEach((function(e){Tc(e.stop)&&e.stop()})),this.children.clear()},e.prototype._stop=function(){var e,t,n,r,i,o,a,s,c,u;try{for(var l=Ys(this.listeners),d=l.next();!d.done;d=l.next()){var f=d.value;this.listeners.delete(f)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}try{for(var p=Ys(this.stopListeners),h=p.next();!h.done;h=p.next())(f=h.value)(),this.stopListeners.delete(f)}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}try{for(var v=Ys(this.contextListeners),_=v.next();!_.done;_=v.next())f=_.value,this.contextListeners.delete(f)}catch(e){i={error:e}}finally{try{_&&!_.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}try{for(var y=Ys(this.doneListeners),g=y.next();!g.done;g=y.next())f=g.value,this.doneListeners.delete(f)}catch(e){a={error:e}}finally{try{g&&!g.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=il.Stopped,this._initialState=void 0;try{for(var m=Ys(Object.keys(this.delayedEventsMap)),b=m.next();!b.done;b=m.next()){var w=b.value;this.clock.clearTimeout(this.delayedEventsMap[w])}}catch(e){c={error:e}}finally{try{b&&!b.done&&(u=m.return)&&u.call(m)}finally{if(c)throw c.error}}this.scheduler.clear(),this.scheduler=new Xu({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule((function(){var t=Vc({type:"xstate.stop"}),n=Eu(e,(function(){var n=Ec(qs([],Gs(e.state.configuration),!1).sort((function(e,t){return t.order-e.order})).map((function(t){return qc(t.onExit,e.machine.options.actions)}))),r=Gs(cu(e.machine,e.state,e.state.context,t,[{type:"exit",actions:n}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),i=r[0],o=r[1],a=new wu({value:e.state.value,context:o,_event:t,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:i.filter((function(e){return!Wc(e)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return a.changed=!0,a}));e.update(n,t),e._stopChildren(),nl(e.sessionId)})),this},e.prototype.batch=function(e){var t=this;if(this.status===il.NotStarted&&this.options.deferEvents)pc||Pc(!1,"".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==il.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule((function(){var r,i,o=t.state,a=!1,s=[],c=function(e){var r=Vc(e);t.forward(r),o=Eu(t,(function(){return t.machine.transition(o,r,void 0,n||void 0)})),s.push.apply(s,qs([],Gs(t.machine.config.predictableActionArguments?o.actions:o.actions.map((function(e){return function(e,t){var n=e.exec;return Ws(Ws({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})}(e,o)}))),!1)),a=a||!!o.changed};try{for(var u=Ys(e),l=u.next();!l.done;l=u.next())c(l.value)}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}o.changed=a,o.actions=s,t.update(o,Vc(e[e.length-1]))}))}},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var n=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var r=Vc(e);if(0===r.name.indexOf(ac)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(ac)})))throw r.data.data;return Eu(this,(function(){return n.machine.transition(n.state,r,void 0,t||void 0)}))},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,n;try{for(var r=Ys(this.forwardTo),i=r.next();!i.done;i=r.next()){var o=i.value,a=this.children.get(o);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this,n=this.clock.setTimeout((function(){"to"in e&&e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)}),e.delay);e.id&&(this.delayedEventsMap[e.id]=n)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),Tc(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(this.status!==il.Running)return xu(e,t);if(Ac(e))return this.spawnPromise(Promise.resolve(e),t);if(Tc(e))return this.spawnCallback(e,t);if(function(e){try{return"function"==typeof e.send}catch(e){return!1}}(i=e)&&"id"in i)return this.spawnActor(e,t);if(function(e){try{return"subscribe"in e&&Tc(e.subscribe)}catch(e){return!1}}(e))return this.spawnObservable(e,t);if(Mc(e))return this.spawnMachine(e,Ws(Ws({},n),{id:t}));if(null!==(r=e)&&"object"==typeof r&&"transition"in r&&"function"==typeof r.transition)return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'));var r,i},e.prototype.spawnMachine=function(t,n){var r=this;void 0===n&&(n={});var i=new e(t,Ws(Ws({},this.options),{parent:this,id:n.id||t.id})),o=Ws(Ws({},al),n);o.sync&&i.onTransition((function(e){r.send(cc,{state:e,id:i.id})}));var a=i;return this.children.set(i.id,a),o.autoForward&&this.forwardTo.add(i.id),i.onDone((function(e){r.removeChild(i.id),r.send(Vc(e,{origin:i.id}))})).start(),a},e.prototype.spawnBehavior=function(e,t){var n=function(e,t){void 0===t&&(t={});var n=e.initialState,r=new Set,i=[],o=!1,a=function(e){var t;return Ws(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[Rc]=function(){return this},t),e)}({id:t.id,send:function(t){i.push(t),function(){if(!o){for(o=!0;i.length>0;){var t=i.shift();n=e.transition(n,t,s),r.forEach((function(e){return e.next(n)}))}o=!1}}()},getSnapshot:function(){return n},subscribe:function(e,t,i){var o=zc(e,t,i);return r.add(o),o.next(n),{unsubscribe:function(){r.delete(o)}}}}),s={parent:t.parent,self:a,id:t.id||"anonymous",observers:r};return n=e.start?e.start(s):n,a}(e,{id:t,parent:this});return this.children.set(t,n),n},e.prototype.spawnPromise=function(e,t){var n,r,i=this,o=!1;e.then((function(e){o||(r=e,i.removeChild(t),i.send(Vc(ou(t,e),{origin:t})))}),(function(e){if(!o){i.removeChild(t);var n=au(t,e);try{i.send(Vc(n,{origin:t}))}catch(r){!function(e,t,n){if(!pc){var r=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";if(e===t)console.error("Missing onError handler for invocation '".concat(n,"', error was '").concat(e,"'.").concat(r));else{var i=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(n,"'. ")+"Original error: '".concat(e,"'. ").concat(r," Current error is '").concat(t,"'.").concat(i))}}}(e,r,t),i.devTools&&i.devTools.send(n,i.state),i.machine.strict&&i.stop()}}}));var a=((n={id:t,send:function(){},subscribe:function(t,n,r){var i=zc(t,n,r),o=!1;return e.then((function(e){o||(i.next(e),o||i.complete())}),(function(e){o||i.error(e)})),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[Rc]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnCallback=function(e,t){var n,r,i,o=this,a=!1,s=new Set,c=new Set;try{i=e((function(e){r=e,c.forEach((function(t){return t(e)})),a||o.send(Vc(e,{origin:t}))}),(function(e){s.add(e)}))}catch(e){this.send(au(t,e))}if(Ac(i))return this.spawnPromise(i,t);var u=((n={id:t,send:function(e){return s.forEach((function(t){return t(e)}))},subscribe:function(e){var t=zc(e);return c.add(t.next),{unsubscribe:function(){c.delete(t.next)}}},stop:function(){a=!0,Tc(i)&&i()},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[Rc]=function(){return this},n);return this.children.set(t,u),u},e.prototype.spawnObservable=function(e,t){var n,r,i=this,o=e.subscribe((function(e){r=e,i.send(Vc(e,{origin:t}))}),(function(e){i.removeChild(t),i.send(Vc(au(t,e),{origin:t}))}),(function(){i.removeChild(t),i.send(Vc(ou(t),{origin:t}))})),a=((n={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:t}}})[Rc]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}else pc||Pc(!1,"No implementation found for activity '".concat(e.type,"'"))},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[Rc]=function(){return this},n))},e.prototype.attachDev=function(){var e=rl();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(Ws(Ws({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:Ws({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(e){if(rl()){var t=function(){var e=rl();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[Rc]=function(){return this},e.prototype.getSnapshot=function(){return this.status===il.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=cl,e}();function cl(e,t){return new sl(e,t)}var ul=i.useLayoutEffect;function ll(e){var t=i.useRef();return t.current||(t.current={v:e()}),t.current.v}var dl=function(){return dl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dl.apply(this,arguments)};function fl(e,t){var n=ll((function(){return"function"==typeof e?e():e})),r=t.context,i=t.guards,o=t.actions,a=t.activities,s=t.services,c=t.delays,u=(t.state,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["context","guards","actions","activities","services","delays","state"])),l=ll((function(){var e={context:r,guards:i,actions:o,activities:a,services:s,delays:c};return cl(n.withConfig(e,(function(){return dl(dl({},n.context),r)})),u)}));return ul((function(){Object.assign(l.machine.options.actions,o),Object.assign(l.machine.options.guards,i),Object.assign(l.machine.options.activities,a),Object.assign(l.machine.options.services,s),Object.assign(l.machine.options.delays,c)}),[o,i,a,s,c]),l}function pl(e){return"state"in e&&"machine"in e}function hl(e,t,n){if(e.status===il.NotStarted)return!0;var r=void 0===n.changed&&(Object.keys(n.children).length>0||"boolean"==typeof t.changed);return!(n.changed||r)}function vl(e){return e}var _l=(0,i.createContext)(void 0),yl=e=>{let{machine:t,children:n}=e;const[,,r]=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,1)[0],o=void 0===r?{}:r,a=fl(e,o),s=(0,i.useCallback)((function(){return a.status===il.NotStarted?o.state?wu.create(o.state):a.machine.initialState:a.getSnapshot()}),[a]),c=(0,i.useCallback)((function(e,t){return hl(a,e,t)}),[a]),u=(0,i.useCallback)((function(e){return a.subscribe(e).unsubscribe}),[a]),l=(0,Zu.useSyncExternalStoreWithSelector)(u,s,s,vl,c);return(0,i.useEffect)((function(){var e=o.state;return a.start(e?wu.create(e):void 0),function(){a.stop(),a.status=il.NotStarted}}),[]),[l,a.send,a]}(t),o=r;return(0,i.useEffect)((()=>{Gt.isDebugMode&&Gt.isVerboseLoggingEnabled&&(e=>{e.subscribe((e=>{Kt(!0,"XState event",e)}))})(o)}),[]),i.default.createElement(_l.Provider,{value:o},n)};function gl(e){return e}function ml(e){return"getSnapshot"in e?pl(e)?0!==(t=e).status?t.getSnapshot():t.machine.initialState:e.getSnapshot():function(e){return"state"in e}(e)?e.state:void 0;var t}var bl=function(){const e=(0,i.useContext)(_l);if(void 0===e)throw new Error("useAdFlow must be used within a FlowContext.Provider");return function(e,t){void 0===t&&(t=ml);var n=(0,i.useRef)(e),r=(0,i.useRef)([]),o=(0,i.useCallback)((function(t){return e.subscribe(t).unsubscribe}),[e]),a=(0,i.useCallback)((function(){return t(e)}),[e,t]),s=(0,i.useCallback)((function(t,n){return pl(e)?hl(e,t,n):t===n}),[e]),c=(0,Zu.useSyncExternalStoreWithSelector)(o,a,a,gl,s),u=ll((function(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],o=n.current;(function(e){return"deferred"in e})(o)&&o.deferred?r.current.push(i):o.send(i)}}));return ul((function(){for(n.current=e;r.current.length>0;){var t=r.current.shift();e.send(t)}}),[e]),[c,u]}(e)},wl=(e,t)=>{(0,i.useEffect)((()=>{const t=e();return()=>{t.then((e=>null!=e&&e()))}}),t)};function Sl(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ht;++t<n;)this.add(e[t])}Sl.prototype.add=Sl.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Sl.prototype.has=function(e){return this.__data__.has(e)};var El=Sl,kl=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},xl=function(e,t){return e.has(t)},Ol=function(e,t,n,r,i,o){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(e),l=o.get(t);if(u&&l)return u==t&&l==e;var d=-1,f=!0,p=2&n?new El:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var h=e[d],v=t[d];if(r)var _=a?r(v,h,d,t,e,o):r(h,v,d,e,t,o);if(void 0!==_){if(_)continue;f=!1;break}if(p){if(!kl(t,(function(e,t){if(!xl(p,t)&&(h===e||i(h,e,n,r,o)))return p.push(t)}))){f=!1;break}}else if(h!==v&&!i(h,v,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f},Al=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},Il=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Cl=Ce?Ce.prototype:void 0,Pl=Cl?Cl.valueOf:void 0,Nl=Object.prototype.propertyIsEnumerable,Tl=Object.getOwnPropertySymbols,Dl=Tl?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(Tl(e),(function(t){return Nl.call(e,t)})))}:function(){return[]},jl=function(e){return Bn(e)?li(e):yn(e)},Rl=function(e){return function(e,t,n){var r=t(e);return xe(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,jl,Dl)},Ml=Object.prototype.hasOwnProperty,Ul="[object Arguments]",Vl="[object Array]",$l="[object Object]",Ll=Object.prototype.hasOwnProperty,Bl=function(e,t,n,r,i,o){var a=xe(e),s=xe(t),c=a?Vl:Dn(e),u=s?Vl:Dn(t),l=(c=c==Ul?$l:c)==$l,d=(u=u==Ul?$l:u)==$l,f=c==u;if(f&&Hn(e)){if(!Hn(t))return!1;a=!0,l=!1}if(f&&!l)return o||(o=new Vr),a||Xn(e)?Ol(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Gr(e),new Gr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return at(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Al;case"[object Set]":var c=1&r;if(s||(s=Il),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=Ol(s(e),s(t),r,i,o,a);return a.delete(e),l;case"[object Symbol]":if(Pl)return Pl.call(e)==Pl.call(t)}return!1}(e,t,c,n,r,i,o);if(!(1&n)){var p=l&&Ll.call(e,"__wrapped__"),h=d&&Ll.call(t,"__wrapped__");if(p||h){var v=p?e.value():e,_=h?t.value():t;return o||(o=new Vr),i(v,_,n,r,o)}}return!!f&&(o||(o=new Vr),function(e,t,n,r,i,o){var a=1&n,s=Rl(e),c=s.length;if(c!=Rl(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:Ml.call(t,l)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var p=!0;o.set(e,t),o.set(t,e);for(var h=a;++u<c;){var v=e[l=s[u]],_=t[l];if(r)var y=a?r(_,v,l,t,e,o):r(v,_,l,e,t,o);if(!(void 0===y?v===_||i(v,_,n,r,o):y)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var g=e.constructor,m=t.constructor;g==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o))},zl=function e(t,n,r,i,o){return t===n||(null==t||null==n||!Ue(t)&&!Ue(n)?t!=t&&n!=n:Bl(t,n,r,i,e,o))},Fl=function(e,t){return zl(e,t)};const Wl=e=>({engine_status:"engine-will-initialize",row:e.row,column:e.column}),Hl=(0,i.createContext)({adCallIds:{[P.Dfp]:"",[P.Aniview]:"",[P.Browsi]:""},regenerateAdCallId:()=>{}});var Yl=e=>{let{tag:t,adType:n,campaignId:r,adUnitIdFormatted:o}=e;const[a,s]=bl(),c=(0,i.useRef)(!0),{regenerateAdCallId:u}=(0,i.useContext)(Hl),{trackEvent:l}=Ui({layout:"display",campaign_id:r,...so(t)}),{adsConfig:d,reportingModuleName:f}=a.context,{size:{width:p,height:h}}=t,v=n===A?C:I,_=(0,i.useCallback)((e=>{const{isEmpty:t}=e,[n,r]=((e,t,n)=>{if(Array.isArray(e.size)&&e.size.every((e=>e>0))){const[t,n]=e.size;if(((e,t)=>e>10&&t>10)(t,n))return[`${t}px`,`${n}px`]}return[t,n]})(e,p,h);if(s({type:ju,payload:[n,r]}),t){lr({metric:"dfp-empty-slot-rendered"});const e=(e=>({engine_status:"dfp-empty",reportingAdType:e}))(v);return void l(e)}(e=>{let{dataSource:t,product:n}=e;lr({metric:"dfp-ad-slot-rendered",tags:{[wr]:ns(),[Sr]:t,[Er]:rs(),[kr]:n}})})({dataSource:d.dataSource,product:f});const i=(e=>({engine_status:"dfp-slot-render-ended",reportingAdType:e}))(v);l(i)}),[d.dataSource,v,f,s,h,p,l]),y=(0,i.useCallback)((()=>{const e=(e=>({engine_status:"dfp-slot-on-load",reportingAdType:e}))(v);l(e)}),[v,l]),g=(0,i.useCallback)((()=>{const e=(e=>({engine_status:"dfp-slot-requested",reportingAdType:e}))(v);l(e),c.current?c.current=!1:u(P.Dfp)}),[u,v,l]),m=(0,i.useCallback)((()=>{const e=(e=>({engine_status:"dfp-slot-response-received",reportingAdType:e}))(v);l(e)}),[v,l]),b=(0,i.useCallback)((()=>{(e=>{let{product:t}=e;lr({metric:"dfp-impression-viewable",tags:{[wr]:ns(),[Er]:rs(),[kr]:t}})})({product:f});const e=(e=>({engine_status:"dfp-impression-viewable",reportingAdType:e}))(v);l(e)}),[v,f,l]);(0,i.useEffect)((()=>{const e=((e,t)=>{let{slotRenderEnded:n,slotOnLoad:r,slotRequested:i,slotResponseReceived:o,impressionViewable:a}=t;const s=`dfpEvent-${e}`;return c=s,u=e=>{switch(Kt(!0,s,e),e.detail.type){case Bi:return a?.(e.detail);case zi:return r?.(e.detail);case Fi:return n?.(e.detail);case Wi:return i?.(e.detail);case Hi:return o?.(e.detail)}},window.addEventListener(c,u),()=>window.removeEventListener(c,u);var c,u})(o,{slotRenderEnded:_,slotOnLoad:y,slotRequested:g,slotResponseReceived:m,impressionViewable:b});if(e)return()=>e()}),[o,b,y,_,g,m,f])},Gl={InView:"IN_VIEW",OutOfViewBottom:"OUT_OF_VIEW_BOTTOM",OutOfViewTop:"OUT_OF_VIEW_TOP"},ql=function(e){let{intersectionObserverOptions:t,isEnabled:n,target:r,callback:o}=e;return function(e){let{intersectionObserverOptions:t,isEnabled:n,target:r,callback:o}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const s=(0,i.useCallback)((()=>{if(!r)return;const e=new IntersectionObserver(o,t);return e.observe(r),()=>e.disconnect()}),[r,...a]);(0,i.useEffect)((()=>{if(!n)return;const e=s();return()=>{e&&e()}}),[n,s])}({intersectionObserverOptions:t,isEnabled:n,target:r,callback:e=>{const t=e.sort(((e,t)=>e.time-t.time)),n=t[t.length-1];n&&(n.isIntersecting?o(Gl.InView,n):n.boundingClientRect.top<0?o(Gl.OutOfViewBottom,n):o(Gl.OutOfViewTop,n))}},arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])},Jl=e=>(0,i.useMemo)((()=>(e=>e.getRootNode()instanceof ShadowRoot)(e)),[e]),Kl=e=>{let{isEnabled:t,callback:n,throttleTimeout:r=500}=e;const o=(0,i.useCallback)((()=>{const e=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Be(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),vs(e,t,{leading:r,maxWait:t,trailing:i})}(n,r);return n(),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[n,r]);(0,i.useEffect)((()=>{if(!t)return;const e=o();return()=>{e&&e()}}),[t,o])};const Zl=(e,t)=>e===t;function Ql(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zl;const n=(0,i.useRef)(),r=(0,i.useRef)(e);return t(r.current,e)||(n.current=r.current,r.current=e),n.current}var Xl=function(e){return!0===e||!1===e||Ue(e)&&"[object Boolean]"==Me(e)},ed=(e,t)=>{const[n]=bl(),r=Ql(e),{reportingModuleName:o}=n.context;(0,i.useEffect)((()=>{e&&(e=>{let{product:t,device:n}=e;lr({metric:"sticky-ad-unit-attached",tags:{[wr]:ns(),[Er]:n,[kr]:t}})})({product:o,device:t}),!e&&r&&(e=>{let{product:t,device:n}=e;lr({metric:"sticky-ad-unit-detached",tags:{[wr]:ns(),[Er]:n,[kr]:t}})})({product:o,device:t})}),[t,e,r,o])},td=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const[o,a]=(0,i.useState)(!1),[s,c]=(0,i.useState)(null),[u,l]=(0,i.useState)(null),[d,f]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!1),[v,_]=(0,i.useState)(!1),y=Ql(o),g=(0,i.useRef)(null),m=(0,i.useMemo)((()=>Pa(t)),[t]),[b]=bl(),{isAdUnitsOverlapDetected:w}=b.context,S=g.current,E=S?.offsetHeight??0,k=v&&!w&&!p&&!(y&&!o)&&Boolean(m&&S)&&(!d||o&&d&&r),x=(0,i.useCallback)((()=>{const e=!!Mt||Boolean(m&&((e,t)=>{const n=e.getBoundingClientRect();return{[Sa.Top]:Ea,[Sa.Bottom]:ka,[Sa.Left]:xa,[Sa.Right]:Oa}[t](n)})(m,"bottom")>2*E);_(e)}),[m,E]);(0,i.useEffect)((()=>{if(!m)return;const e=new ResizeObserver(x);return e.observe(m),()=>e.disconnect()}),[x,m]);const O=(0,i.useCallback)((()=>{a(!1)}),[]),A=(0,i.useCallback)((()=>{r||a(!1),f(!0)}),[r]),I=(0,i.useCallback)((()=>{h(!0)}),[]),{startTimer:C,pauseTimer:P,stopTimer:N,remainingTime:T}=nd(n,A,!1,1e3),{startTimer:D,pauseTimer:j,stopTimer:R}=nd(n,I,!1);(0,i.useEffect)((()=>{w&&a(!1)}),[w]),(0,i.useEffect)((()=>{o?(R(),C()):P()}),[o,P,C,N,R]);const M=(0,i.useCallback)((()=>{if(!S||!m||!e)return;const{bottom:t,top:n}=m.getBoundingClientRect()??{},r=e.offsetHeight+(Mt?40:25);if(Mt?n>0:n>r)c(Gl.OutOfViewTop);else{const e=Mt?t>r:t>window.innerHeight;c(e?Gl.InView:Gl.OutOfViewBottom)}}),[m,e,S]);Kl({isEnabled:k,callback:M,throttleTimeout:100});const U=(0,i.useCallback)(((e,t)=>{const{intersectionRatio:n}=t??{},r=1===n;return l(e),r?D():j()}),[j,D]);return ql({intersectionObserverOptions:{threshold:Mt?1:[.5,1]},isEnabled:k,target:S,callback:U},[U]),(0,i.useEffect)((()=>{if(!k)return c(null),void l(null);const e=s===Gl.InView&&u===Gl.OutOfViewBottom;o?e||(Kt(!0,"Sticky container is out of position"),a(!1)):e&&(Kt(!0,"Sticky container is on position"),a(!0))}),[o,k,s,u]),{isSticky:o,stickyPlaceholderRef:g,closeStickyContainer:O,remainingStickyTime:T}},nd=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;const[o,a]=(0,i.useState)(!1),s=(0,i.useRef)(null),c=(0,i.useRef)(null),u=(0,i.useRef)(),l=(0,i.useRef)(t),d=(()=>{const[,e]=(0,i.useReducer)((e=>e+1),0);return e})();(0,i.useEffect)((()=>{l.current=t}),[t]);!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(0,i.useRef)(null);(0,i.useEffect)((()=>{n.current=e}),[e]),(0,i.useEffect)((()=>{if(null!==t){const e=setInterval((()=>{n.current&&n.current(t)}),t);return()=>{clearInterval(e)}}}),[t])}((0,i.useCallback)((e=>{e&&c.current&&(c.current=c.current-e,d())}),[d]),o?r:null);const f=(0,i.useCallback)((()=>{a(!0);const t=c.current??e;s.current=Date.now(),c.current=t,u.current&&clearTimeout(u.current),t&&(u.current=setTimeout((()=>{a(!1),s.current=null,c.current=null,l.current()}),t))}),[e]),p=(0,i.useCallback)((()=>{a(!1),u.current&&clearTimeout(u.current)}),[]),h=(0,i.useCallback)((()=>{a(!1),c.current=null,s.current=null,u.current&&clearTimeout(u.current)}),[]);return(0,i.useEffect)((()=>{n&&f()}),[n,f]),{startTimer:f,pauseTimer:p,stopTimer:h,remainingTime:c.current??0}},rd=e=>{const[t,n]=(0,i.useState)(!1);return wl((async()=>{try{await(e=>{const{featherModeBehavior:t,delayType:n,delayTime:r}={featherModeBehavior:en("tenant_config.ads.feather_mode_behavior","aggressive"),delayType:en("tenant_config.ads.feather_mode_delay_type",k),delayTime:en("tenant_config.ads.feather_mode_delay_time")};return t!==e?Promise.resolve():"time"===n&&null!=r?Promise.race([(i=r,new Promise((e=>setTimeout(e,i)))),Os()]):n===k?Os():Promise.resolve();var i})(e)}catch(e){Zt(!0,"Feather mode runtime error",e)}n(!0)}),[]),t},id=function(e,t,n){return null==e?e:function(e,t,n,r){if(!Be(e))return e;for(var i=-1,o=(t=kt(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var c=xt(t[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var l=s[c];void 0===(u=r?r(l,c,s):void 0)&&(u=Be(l)?l:ci(t[i+1])?[]:{})}ai(s,c,u),s=s[c]}return e}(e,t,n)};const od=en("tenant_config.ads.ads_config_mock_endpoint","https://prod-ow-ads-mocks.s3.amazonaws.com/owa-gw"),ad=async e=>{let[t,n]=e;try{const e=await ho(`${od}/${n}`);if(!e)return;return[t,e]}catch(e){Zt(!0,"Fetch ads config mock error",e)}},sd=()=>{const e=La(D);if(e)if((()=>{const e=La(j);try{const t=Number(e);return!t||t<=Date.now()}catch(e){return!0}})()||(()=>{const e=sn()?.cache_version;return La(R)!==e})())cd();else try{const t=JSON.parse(e);return Kt(!0,"Ads config is taken from cache"),t}catch(e){Zt(!0,"Ads config from cache parse error",e)}},cd=()=>{Ba(D),Ba(j),Ba(R)},ud=e=>{let{adsConfig:t,cacheExpirationInterval:n,cacheVersion:r}=e;const i=Date.now()+n;za(D,JSON.stringify(t)),za(j,String(i)),za(R,r)},ld=e=>{const t="Cache";return(e=>{let{dataSource:t}=e;lr({metric:"ads-config-fetched",tags:{[Sr]:t}})})({dataSource:t}),{adsConfig:e,dataSource:t}},dd=e=>({adsConfig:e,dataSource:"Network"}),fd=async e=>{let{fetchSettings:t,postId:n,spotId:r}=e;const i=(e=>{const{endpoints:t,launcherEnv:n}=Gt,r=n.isProduction?t.apiAdsConfig.production:t.apiAdsConfig.staging,i=new URL(`${r}/${e}/v2`);return Vt&&i.searchParams.append(M,"true"),i.href})(r),o=((e,t)=>({"x-access-token":localStorage.getItem("SPOTIM_ACCESS_TOKEN"),"x-guid":Ca(),"x-post-id":e,"x-spot-id":t,"x-spotim-page-view-id":s.config.pageViewId}))(n,r);try{const e=await qa((()=>ho(i,{headers:o,credentials:"include"})),t.request_retry_count,t.request_retry_timeout);return Kt(!0,"Fetch ads config success",e),e}catch(e){const t=Aa(e);Zt(!0,"Fetch ads config error",t),(e=>{ur({metric:vr,error:ln(e,vr)})})(t)}},pd=async e=>{let{fetchSettings:t,postId:n,spotId:r}=e;const i=sd(),o=fd({fetchSettings:t,postId:n,spotId:r}).then((e=>{if(e?.success)return ud({adsConfig:e,cacheExpirationInterval:t.cache_expiration_interval,cacheVersion:t.cache_version}),dd(e)}));return i?ld(i):o},hd=async e=>{let{fetchSettings:t,postId:n,spotId:r}=e;const i=sd();if(i)return ld(i);const o=await fd({fetchSettings:t,postId:n,spotId:r});return o&&ud({adsConfig:o,cacheExpirationInterval:t.cache_expiration_interval,cacheVersion:t.cache_version}),dd(o)},vd=async e=>{let{fetchSettings:t,postId:n,spotId:r}=e;return new Promise((async e=>{const i=sd();let o,a=!1;const s=()=>{a||(a=!0,e(ld(i)))};i&&(o=setTimeout(s,t.response_delay_timeout));const c=await fd({fetchSettings:t,postId:n,spotId:r}),u=c?.success;clearTimeout(o),u&&ud({adsConfig:c,cacheExpirationInterval:t.cache_expiration_interval,cacheVersion:t.cache_version}),a||(u||!i?e(dd(c)):s())}))},_d=async e=>{let{fetchSettings:t,postId:n,spotId:r}=e;const i=await fd({fetchSettings:t,postId:n,spotId:r});return cd(),dd(i)},yd=(e,t)=>{const{campaigns:n,...r}=e,i=[],o=Object.keys(n);return o.length?o.forEach((e=>{n[e]&&i.push({[e]:{...r,dataSource:t,campaigns:n[e]}})})):lr({metric:"ads-config-no-campaigns"}),i},gd=async()=>{const e=await(async()=>{const e={CACHE_FIRST:pd,CACHE_ONLY:hd,NETWORK_FIRST:vd,[rn]:_d},t=sn(),n=tn(),r=nn(),i=e[t.fetch_strategy],o=e[rn];return i?.({fetchSettings:t,postId:n,spotId:r})??o({fetchSettings:t,postId:n,spotId:r})})();if(!e?.adsConfig?.success)return;const{adsConfig:t,dataSource:n}=e,{envelope_id:r,platform:i,geo:o}=t,a=(()=>{const e=[...Ut().entries()].map((e=>{let[t,n]=e;if(t.startsWith(U))return[t===U?"*":t.split(`${U}.`)[1],n]})).filter(Boolean);return e.length?e:(()=>{const e=La("OW_OVERRIDE_ADS_CONFIG");if(!e)return[];if(e.match(/^[a-zA-Z0-9_-]+\.json$/))return[["*",e]];try{const t=JSON.parse(e);if(!Array.isArray(t))throw new Error("Ads config override params should be an array");return t}catch(e){return Zt(!0,"Failed to parse local storage ads config override params",e),[]}})()})()??[],s=a.length>0?await(async e=>(await Promise.all(e.map(ad))).filter(Boolean))(a):[],c=s.length>0?((e,t)=>{const n=t.find((e=>{let[t]=e;return"*"===t}));if(n){const[,e]=n;return Kt(!0,"Successfully overridden entirely ads config with value",e),e}return t.reduce(((e,t)=>{let[n,r]=t;return id(e,n,r),Kt(!0,`Successfully overridden ads config at path "${n}" with value`,r),e}),e)})(t,s):t;return{data:yd(c,n),geo:o,platform:i,success:!0,thirdPartyData:{ats:{envelopeId:r}}}};var md="localStorage",bd="cookie";const wd=(e,t)=>{(t||null==localStorage.getItem(Ia))&&localStorage.setItem(Ia,e)},Sd=(e,t)=>{var n;(t||null==(n=Ia,document.cookie.split("; ").find((e=>e.startsWith(`${n}=`)))?.split("=")[1]))&&Tr(Ia,e,365)},Ed=()=>"localStorage"===window.ats?.outputCurrentConfiguration?.().storageType?md:bd,kd=e=>window.btoa(xd(e)),xd=e=>{const t={envelope:e,timestamp:Date.now(),version:"0.0.0"};return JSON.stringify(t)};var Od=e=>{if(!en("tenant_config.ads.enable_ats_integration",!1)||!e.envelopeId)return;if(Kt(!0,"Running integration","ATS"),en("tenant_config.ads.use_ats_external_integration",!0)){try{t=e.envelopeId,window.ats={retrieveEnvelope:e=>{const n=xd(t);return e&&e(n),Promise.resolve(n)}}}catch(e){Zt(!0,"ATS integration error",e),(e=>{ur({metric:fr,error:ln(e,fr)})})(Aa(e))}return}var t;if(!window.ats)return;const n=en("tenant_config.ads.always_override_publisher_ats_envelope",!1);try{((e,t)=>{const n=Ed(),r=kd(e);switch(n){case md:return wd(r,t);case bd:Sd(r,t)}})(e.envelopeId,n)}catch(e){Zt(!0,"ATS envelope id caching error",e),(e=>{ur({metric:dr,error:ln(e,dr)})})(Aa(e))}};const Ad=Wa(Fa());var Id=Math.floor,Cd=Math.random,Pd=parseFloat,Nd=Math.min,Td=Math.random,Dd=function(e,t,n){if(n&&"boolean"!=typeof n&&xi(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ia(e),void 0===t?(t=e,e=0):t=ia(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Td();return Nd(e+i*(t-e+Pd("1e-"+((i+"").length-1))),t)}return function(e,t){return e+Id(Cd()*(t-e+1))}(e,t)};const jd=(e,t)=>{const n="player"===t?e.moat_player_percent:e.moat_widget_percent;return null!=n&&((e,t,n)=>{const r=Dd(1,100);return!!("number"==typeof(i=n)||Ue(i)&&"[object Number]"==Me(i))&&n>=r;var i})(0,0,n)};var Rd=e=>{const[t]=bl(),{reportingModuleName:n}=t.context,r=en(ge,ne),o=en(ye,te),a=en(me,re),{trackEvent:s}=Ui();return{trackMovingAdEvent:(0,i.useCallback)((t=>{const i={engine_status:"moving-ad",segment:JSON.stringify({action_id:jr(n),triggered_by:e,moving_ad_status:t,feature_configurations:{sticky_desktop:o,sticky_mobile:r,video_takeover:a}})};s(i)}),[n,o,r,s,e,a])}},Md=(e,t)=>{const{trackMovingAdEvent:n}=Rd("sticky"),r=Ql(e);(0,i.useEffect)((()=>{t?n("end_manually"):!e||r?e||!r||t||n("end"):n(Dr)}),[t,e,r,n])},Ud=()=>Mt&&window.innerWidth<700;const Vd=[b],{is_enabled:$d}=en(ye,te),{is_enabled:Ld}=en(ge,ne);var Bd=(e,t)=>{const n=Ud()?Ld:$d;return e&&n&&Vd.some(pa(t))};const{active_products:zd,is_enabled:Fd}=en(me,re);var Wd=(e,t)=>e&&Fd&&!Ud()&&zd.some(pa(t));const Hd=e=>{const{adsConfig:t,adUnitId:n,center:r,compact:i,isOptedOut:o,moduleName:a,persistentDbv:s,product:c,reportingModuleName:u}=e,{campaign:l,envelope_id:d,s:f,user_groups:p,geo:h}=t,{slot:v}=l??{};return{adsConfig:t,adUnitId:n,campaign:l,center:r,compact:i,envelopeId:d,firstPartyData:f,isOptedOut:o,moduleName:a,persistentDbv:s,product:c,reportingModuleName:u,userGroups:p,slot:v??J,isGDPRCountry:(_=h,ce.includes(_.toUpperCase()))};var _},Yd=e=>e&&e.type===c?{dbvSet:Boolean(e.displayBeforeVideo?.code),passbackInterval:e.video?.interval,passbackSet:Boolean(e.passback?.code),videoCampaign:!0,videoTimeoutEnabled:Boolean(e.passback)&&Boolean(e.video?.interval)}:{dbvSet:!1,passbackSet:!1,videoCampaign:!1,videoTimeoutEnabled:!1},Gd=e=>{let{adUnitProps:t,contextOverrides:n,target:r}=e;const{campaign:i}=t.adsConfig;return{target:r,disableAdForProduct:gs(r),isAdUnitsOverlapDetected:!1,isStickyEnabled:!1,isStickyDesktopRunning:!1,isTakeoverEnabled:!1,postId:tn(),skipVideo:!1,spotId:nn(),...Hd(t),...Yd(i),...n}};var qd=(e,t)=>{const{moduleName:n,product:r}=t,i=e.find((e=>e[n]))?.[n];return i?(e=>{let{initialProductConfigs:t,postId:n,productConfigs:r,spotId:i}=e;const{moduleName:o,reportingModuleName:a,slot:s,forceSpecificSlot:c,adIndex:u}=t,{campaigns:l,...d}=r,f={...d,campaign:As(l,s,c)};return{...t,adsConfig:f,spotId:i,adUnitId:Es({adIndex:u,moduleName:o,postId:n,slot:s,spotId:i}),isOptedOut:Boolean(f.isOptedOut),persistentDbv:en("tenant_config.ads.persistent_dbv",!0),reportingModuleName:a??o,adIndex:u,slot:s}})({initialProductConfigs:t,postId:tn(),productConfigs:i,spotId:nn()}):(r&&(0,Or.WI)(`${r}-no-campaign`),void Kt(!0,`Ads config for ${n} was not found`))};const{products_heights:Jd}=en(me,re),Kd=e=>e?parseInt(e,10):0;var Zd=(e,t)=>{if(Jd[e])return{height:Kd(Jd[e])+Kd(fe),width:t.clientWidth}};const Qd=e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;return(e,i,o,a)=>{const{...s}=a??{},c=qd(t,{moduleName:i,slot:o,reportingModuleName:i,...s});if(!c)return;const u=e.getRootNode();u instanceof ShadowRoot&&(e=>{const t=ya("text/css"),n=e.querySelector(`link[href="${t?.url}"]`);if(!t||n)return;const r=document.createElement("link");r.href=t.url,r.setAttribute("rel","stylesheet"),e.insertBefore(r,e.firstChild)})(u);const l=Gd({adUnitProps:c,target:e,contextOverrides:{slot:o}}),{campaign:d,reportingModuleName:f}=l;Vi({reportingModuleName:f,campaignId:d?.id}),Vs(i,f,e,(()=>n({target:e,context:l,props:c})),(()=>r({target:e})))}},Xd=(e,t)=>(e-20*(t-1))/t,ef=en("tenant_config.ads.supported_preload_products",[v,_,y,g,m]).reduce(((e,t)=>(e[t]=!0,e)),{}),tf={};const nf=!0,rf=!0,of="Sponsored",af={display:"flex",justifyContent:"center",width:"100%"},sf={display:"flex",alignItems:"flex-end",justifyContent:"space-between",color:"#373e44",fontFamily:'"Open Sans", sans-serif',fontSize:"14px",letterSpacing:"-0.23px"},cf={margin:"0",height:"12px",width:"12px"},uf={marginRight:"5px"},lf={display:"flex",alignItems:"center",justifyContent:"center",color:"inherit",textDecoration:"none"},{is_ad_choices_enabled:df=nf,is_label_enabled:ff=rf,label:pf=of}=en("tenant_config.ads.footer",{is_ad_choices_enabled:nf,is_label_enabled:rf,label:of}),hf=()=>df||ff?20:0,vf=e=>{let{width:t}=e;const[n]=bl(),{isStickyEnabled:r,target:o}=n.context;if(!df&&!ff)return null;const a=hf();return i.default.createElement(zf,{target:o},i.default.createElement("div",{style:af},i.default.createElement("div",{style:{width:t,margin:r?"0 5px":0,height:a,...sf}},df&&i.default.createElement("a",{href:"https://dynamic-cdn.openweb.com/yad/adchoice.html",style:lf,rel:"noopener noreferrer",target:"_blank"},i.default.createElement("span",{style:uf},"AdChoices"),i.default.createElement("img",{src:"https://publisher-assets.spot.im/yad/ad-choises.png",style:cf,alt:"Ad Choices Icon"})),ff&&i.default.createElement("span",null,pf))))};const _f=e=>{const{size:t,progress:n,thickness:r=2,color:o="#BF1314",backgroundColor:a="#F6F6F6",children:s,className:c}=e,u=t/2,l=u-r,d=Math.round(2*Math.PI*l),f=Math.round(d*((100-n)/100));return i.default.createElement("div",{className:ds()("ads__CircularProgress__circularProgress--ClAQm",c)},i.default.createElement("svg",{className:"ads__CircularProgress__circularProgressSvg--Xa9gL",width:t,height:t},i.default.createElement("circle",{cx:u,cy:u,fill:a,r:l,stroke:"#FFFFFF",strokeWidth:r}),n&&i.default.createElement("circle",{className:"ads__CircularProgress__circularProgressIndicator--wCYQQ",cx:u,cy:u,fill:a,r:l,stroke:o,strokeWidth:r,strokeDasharray:d,strokeDashoffset:f,strokeLinecap:"round",style:{transition:".1s"}})),s&&i.default.createElement("span",{className:"ads__CircularProgress__circularProgressLabel--cldPZ"},s))};var yf=i.default.memo(_f),gf=e=>{let{fill:t,size:n}=e;return i.default.createElement("svg",{"aria-hidden":"true",fill:"none",style:{width:n,height:n},viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.55177 3.55192C3.26054 3.84315 3.26054 4.31533 3.55177 4.60656L6.94579 7.99974L3.55177 11.3938C3.26054 11.685 3.26054 12.1572 3.55177 12.4484C3.843 12.7396 4.31518 12.7396 4.60641 12.4484L8.00001 9.0548L11.3936 12.4484C11.6848 12.7396 12.157 12.7396 12.4483 12.4484C12.7395 12.1572 12.7395 11.685 12.4483 11.3938L9.05465 8.00016L12.4483 4.60656C12.7395 4.31533 12.7395 3.84315 12.4483 3.55192C12.157 3.26069 11.6848 3.26069 11.3936 3.55192L8.00043 6.9451L4.60641 3.55192C4.31518 3.26069 3.843 3.26069 3.55177 3.55192Z",fill:t}))},mf=e=>{let{className:t,color:n="#B1B2BF",onClick:r}=e;return i.default.createElement("button",{"aria-label":"Close button",className:ds()("ads__CloseButton__closeButton--nEUI4",t),onClick:r},i.default.createElement(gf,{fill:n,size:"16px"}))},bf=e=>{let{className:t,isStickyAfterTimeout:n,remainingTime:r,timeout:o,onClick:a}=e;const s=Math.ceil(r/1e3),c=100-r/o*100;return i.default.createElement(yf,{className:t,size:35,progress:c},n&&(r?s:i.default.createElement(mf,{className:"ads__StickyContainerCloseButton__closeButton--WojTE",color:"#070707",onClick:a})),!n&&s)};const wf=e=>{const{name:t,animationProps:n}=e,r=(o=()=>(e=>Object.entries(e).map((e=>{let[t,n]=e;return`${t}{${(e=>Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return`${e}${Ha(n)}:${r};`}),""))(n)}}`})).join(""))(n),a=[n],(0,i.useMemo)(o,function(e){const t=(0,i.useRef)(e),n=(0,i.useRef)(0);return Fl(e,t.current)||(t.current=e,n.current+=1),(0,i.useMemo)((()=>t.current),[n.current])}(a)));var o,a;return i.default.createElement("style",null,["@keyframes","@-webkit-keyframes"].map((e=>`${e} ${t} {${r}} \n`)))};var Sf=i.default.memo(wf);const Ef={position:"fixed",top:"auto",bottom:"0",padding:"0 25px 5px 25px",background:"#fff",boxShadow:"0px 2px 20px rgba(0, 0, 0, 0.07)",borderRadius:"10px 10px 0px 0px",border:"1px solid rgba(7, 7, 7, 0.05)"},kf={position:"absolute",top:"0",padding:"0",background:"transparent",boxShadow:"unset",borderRadius:"unset",border:"unset"},xf=`\n  ${L.SlideInDown} ease-out 0.2s 0s 1 reverse forwards,\n  ${L.SlideInvisiblyDown} linear 0.2s 0.2s 1 normal forwards,\n  ${L.SlideInUp} ease-out 0.2s ${ae}s 1 normal forwards\n`,Of=`\n  ${L.SlideInUp} ease-out 0.2s 0s 1 reverse forwards,\n  ${L.SlideInvisiblyDown} linear 0.2s 0.2s 1 reverse forwards,\n  ${L.SlideInDown} ease-out 0.2s ${ae}s 1 normal forwards\n`;var Af=e=>{let{isAnimationEnabled:t,isSticky:n,stickyAreaSelector:r,stickyContainerRef:o,children:a}=e;const[s,c]=bl(),u=(0,i.useMemo)((()=>Pa(r)),[r]),l=o.current,{isStickyDesktopRunning:d}=s.context,{right:f=0}=u?u.getBoundingClientRect():{},p=(0,i.useMemo)((()=>f?document.documentElement.clientWidth-f+"px":"0"),[f]),h=(0,i.useMemo)((()=>l?.style.cssText??""),[l]),v=(0,i.useMemo)((()=>({...Ef,right:p})),[p]),_=(0,i.useMemo)((()=>({...n?{}:{transition:"\n                opacity 0.2s,\n                height 0.1s 0.2s\n              ",opacity:0,height:0}})),[n]),y=(e=>{let{animationsList:t,isAnimationEnabled:n,isSticky:r,stickyAnimation:o,stickyContainerElement:a,stickyContainerStyles:s,unstickyAnimation:c}=e;const[u,l]=(0,i.useState)(null),d=Ql(r);return(0,i.useEffect)((()=>{if(!a||!n)return;const e=e=>{const{animationName:n}=e;t.some(pa(n))&&l(n)},i=d&&!r;return a.addEventListener("animationstart",e),a.style.animation="",i&&Object.entries(s).forEach((e=>{let[t,n]=e;return a.style[Ha(t)]=n})),requestAnimationFrame((()=>requestAnimationFrame((()=>{r?a.style.animation=o:i&&(a.style.animation=c)})))),()=>{a.removeEventListener("animationstart",e)}}),[t,n,r,d,o,a,s,c]),u})({animationsList:oe,isAnimationEnabled:t,isSticky:n,stickyContainerElement:l,stickyContainerStyles:v,stickyAnimation:xf,unstickyAnimation:Of});return(0,i.useEffect)((()=>{const[e,t]=[L.SlideInUp,L.SlideInvisiblyDown].map(pa(y));n&&(t||e)&&c({type:$u,payload:!0}),n||e||t||(d&&l&&(l.style.cssText=h),c({type:$u,payload:!1}))}),[n,d,y,l,h,c]),i.default.createElement(i.default.Fragment,null,a(v,_),i.default.createElement(Sf,{name:L.SlideInDown,animationProps:{from:{...kf,transform:"translateY(-100%)"},to:{...kf,transform:"translateY(0)"}}}),i.default.createElement(Sf,{name:L.SlideInUp,animationProps:{from:{...v,transform:"translateY(100%)"},to:{...v,transform:"translateY(0)"}}}),i.default.createElement(Sf,{name:L.SlideInvisiblyDown,animationProps:{"0%":{...kf,display:"block",right:"auto",transform:"translateY(-100%)"},"14%":{...kf,display:"none",right:"auto",transform:"translateY(-100%)"},"28%":{...kf,display:"none",opacity:0,right:"auto",transform:"translateY(-100%)"},"42%":{...kf,display:"none",opacity:0,right:"100vw",transform:"translateY(-100%)"},"56%":{...v,display:"none",opacity:0,right:"100vw",transform:"translateY(100%)"},"70%":{...v,display:"none",opacity:0,right:p,transform:"translateY(100%)"},"84%":{...v,display:"none",right:p,transform:"translateY(100%)"},"100%":{...v,display:"block",right:p,transform:"translateY(100%)"}}}))};const If=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(!1),o=(0,i.useRef)(null),a=(0,i.useRef)(null),{is_animation_enabled:s=te.is_animation_enabled,is_stay_sticky_after_timeout:u=te.is_stay_sticky_after_timeout,sticky_area_css_selector:l=te.sticky_area_css_selector,timeout:d=te.timeout,z_index:f=te.z_index}=en(ye,te)??{},[p]=bl(),{campaign:h,compact:v,displayAdSize:_,isStickyDesktopRunning:y}=p.context,g=(e=>{let{campaign:t,compact:n,displayAdSize:r=[],isVideoAd:i}=e;const[o,a]=r,s=i?t.video.size:{width:o,height:a};return{height:`${Ya(s.height)+hf()}px`,width:n?`${Ya(s.width)+Ya("30px")}px`:s.width}})({campaign:h,compact:v,displayAdSize:_,isVideoAd:p.value===c}),{isSticky:m,remainingStickyTime:b,stickyPlaceholderRef:w,closeStickyContainer:E}=td(a.current,l,d,u);ed(m,S),Md(m,n);const k=(0,i.useCallback)((()=>{r(!0),E()}),[E]);return i.default.createElement(Af,{isAnimationEnabled:s,isSticky:m,stickyAreaSelector:l,stickyContainerRef:o},((e,n)=>{const r=s?(e=>{let{isStickyDesktopRunning:t,zIndex:n}=e;return t?{zIndex:n}:{}})({isStickyDesktopRunning:y,zIndex:f}):(e=>{let{isSticky:t,stickyContainerStyles:n,zIndex:r}=e;return t?{...n,zIndex:r}:{}})({isSticky:m,stickyContainerStyles:e,zIndex:f});return i.default.createElement("div",{className:"ads__StickyContainerDesktop__stickyPlaceholder--hq68x",ref:w,style:g},i.default.createElement("div",{ref:o,className:"ads__StickyContainerDesktop__stickyContainer--h9BVj",style:r},i.default.createElement("div",{className:"ads__StickyContainerDesktop__topBar--S2vW0",style:n},i.default.createElement(bf,{className:"ads__StickyContainerDesktop__closeButton--A1ejC",isStickyAfterTimeout:u,remainingTime:b,timeout:d,onClick:k})),i.default.createElement("div",{className:"ads__StickyContainerDesktop__content--x4SJl",ref:a},t)))}))};var Cf=i.default.memo(If),Pf=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(!1),o=(0,i.useRef)(null),{is_stay_sticky_after_timeout:a=ne.is_stay_sticky_after_timeout,sticky_area_css_selector:s=ne.sticky_area_css_selector,timeout:c=ne.timeout,top:u=ne.top,z_index:l=ne.z_index}=en(ge,ne)??{},{isSticky:d,remainingStickyTime:f,stickyPlaceholderRef:p,closeStickyContainer:h}=td(o.current,s,c,a),v=p.current,_=v&&d?{width:v.offsetWidth,height:v.offsetHeight}:void 0,y=d?{top:`${u}px`,zIndex:l}:{};Md(d,n),ed(d,w);const g=(0,i.useCallback)((()=>{r(!0),h()}),[h]);return i.default.createElement("div",{ref:p,style:_},i.default.createElement("div",{className:ds()("ads__StickyContainerMobile__stickyContainerMobile--p61z5",{"ads__StickyContainerMobile__sticky--RwgD8":d}),style:y},i.default.createElement("div",{className:ds()("ads__StickyContainerMobile__topBar--BrrrT",{"ads__StickyContainerMobile__hidden--tcgdc":!d})},i.default.createElement(bf,{className:"ads__StickyContainerMobile__closeButton--CfDVN",isStickyAfterTimeout:a,remainingTime:f,timeout:c,onClick:g})),i.default.createElement("div",{ref:o,className:"ads__StickyContainerMobile__content--OQXfz",style:{...d?{width:"fit-content",margin:"0 auto"}:{}}},t)))},Nf=e=>{let{children:t,isStickyDesktopRunning:n,isVideoAd:r,adSize:o,className:a}=e;return i.default.createElement("div",{className:a,style:{...r?{width:n?"100%":o.width,height:n?"100%":o.height}:{}}},t)},Tf=e=>{let{children:t}=e;const[n]=bl(),{isStickyDesktopRunning:r,displayAdSize:o=[],campaign:a}=n.context,[s,u]=o,l=n.value===c,d=l?a.video.size:{width:s,height:u};return i.default.createElement(Cf,null,i.default.createElement(Nf,{isStickyDesktopRunning:r,isVideoAd:l,adSize:d},t))};const{products_heights:Df}=en(me,re);var jf=e=>{let{children:t}=e;const[n]=bl(),{product:r,campaign:o}=n.context,a=n.matches(c),s=o.video.size,u=Df[r],l=s.width??"auto",d=u??"auto";return i.default.createElement("div",{className:"takeover-container",style:a?{width:l,height:d}:void 0},t)},Rf=e=>{let{children:t}=e;const[n]=bl(),{isTakeoverEnabled:r,isStickyEnabled:i}=n.context,o=Ud();return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return da(...t.reverse())}(es(jf,r&&!i),es(Tf,i&&r&&!o),es(Cf,i&&!r&&!o),es(Pf,i&&o))(t)},Mf=e=>{let{width:t,height:n,children:r,isCentered:o,overflow:a="hidden"}=e;return i.default.createElement("div",{className:ds()("ads__Container__container--zNroJ"),style:{overflow:a,position:"relative",display:"flex",flexDirection:"column",width:o?"100%":t,height:n}},r)};const Uf=e=>{let{userGeo:t,tag:n,spotId:r,adType:o,adUnitId:a,size:s,userGroups:c,mcmNetworkId:u,campaignId:l}=e;const[d,f]=bl(),{adCallIds:p}=(0,i.useContext)(Hl),{trackEvent:h}=Ui({layout:"display",campaign_id:l,...so(n)}),v=(0,i.useRef)(p),{adsConfig:_,slot:y,reportingModuleName:g,isStickyEnabled:m}=d.context,b=`${a}-${o}`,w=n.code.includes("/tag/js/gpt.js"),S=((e,t,n)=>{const{is_enabled_by_default:r,enabled_for_modules:i={},enabled_for_devices:o={},enabled_for_geo_locations:a={},enabled_for_slots:s={}}=en("tenant_config.ads.render_display_ads_in_iframe_config",{is_enabled_by_default:!0,enabled_for_modules:{},enabled_for_devices:{},enabled_for_geo_locations:{},enabled_for_slots:{}}),c=Qa().toLowerCase(),u=`row-${n.row}:column-${n.column}`,l=a[t],d=o[c],f=i[e],p=s?.[e]?.[u];return[l,d,f,p].every(da(Xl,ha))?r:ha([l,d,f,p].some(pa(!1)))})(g,t,y),E=(o===A?C:I)===I;(0,i.useEffect)((()=>{const e=Wl(y);if(h(e),n.code)return w?void(E&&Li({reportingModuleName:g,adCallIds:v.current,campaignId:l})):(f({type:ju,payload:[n.size.width,n.size.height]}),void(e=>{let{product:t}=e;lr({metric:"inline-display-ad-rendered",tags:{[kr]:t}})})({product:g}));(e=>{let{product:t}=e;lr({metric:"display-ad-no-code-settings",tags:{[kr]:t}})})({product:g})}),[]),Yl({tag:n,adType:o,campaignId:l,adUnitIdFormatted:b});const k=(0,i.useCallback)(((e,t,n)=>{S?fo({adUnitId:a,content:e,reportingModuleName:t,target:n}):((e,t)=>{const n=document.createRange().createContextualFragment(e);t.appendChild(n)})(e,n)}),[a,S]),x=(0,i.useCallback)((e=>{if(e)if(w){const t=ao({adUnitIdFormatted:b,isRenderAdsInIframeEnabled:S,mcmNetworkId:u,reportingModuleName:g,slot:y,spotId:r,userGroups:c,code:n.code,codeSettings:n.code_settings,sellerId:_.spot.seller_id,isStickyEnabled:m});k(t,g,e)}else k(n.code,g,e)}),[w,S,k]),{displayAdSize:O}=d.context,P=O?O[0]:void 0,N=O?O[1]:s?.height;return i.default.createElement("div",{className:"ads__DisplayAd__container--ded56",ref:x,style:{height:N,width:P}})};var Vf=(0,i.memo)(Uf,(()=>!0)),$f=e=>{let{tag:t,position:n,children:r,height:o="auto",width:a="auto",isNativeAd:s}=e;const[c]=bl(),{displayAdSize:u}=c.context,{code_settings:l}=t??{},d=l?.googletag_sizes??[],[f,p]=d.length>1&&u?u:[a,o];return i.default.createElement("div",{className:ds()("ads__DisplaySlot__displaySlot--N54vB",{"ads__DisplaySlot__isNativeAd--Z2o20":s}),style:{display:"flex",flexDirection:"row",position:n,width:f,height:p,margin:"auto",alignItems:"center"}},r)},Lf=e=>{let{adHeight:t,adWidth:n}=e;return i.default.createElement("div",{className:ds()("ads__Loader__loaderContainer--Hq3rQ"),style:{width:n,height:t,maxHeight:t}},i.default.createElement("div",{className:"ads__Loader__loaderContent--GzYV4"},i.default.createElement("div",{className:"ads__Loader__loaderSpinner--woNXZ"})))},Bf=e=>{let{adUnitId:t,adWidth:n,campaignId:r,mcmNetworkId:o,spotId:a,tag:s,userGeo:c,userGroups:u}=e;const[l]=bl(),{reportingModuleName:d}=l.context;return(0,us.cO)((e=>{Zt(!0,"Ad unit display runtime error",e,"\nProduct:",d),as(e,{product:d})})),i.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"}},i.default.createElement($f,{width:s.size.width,height:s.size.height,position:"relative",tag:s},i.default.createElement(Vf,{adType:A,adUnitId:t,campaignId:r,mcmNetworkId:o,size:s.size,spotId:a,tag:s,userGeo:c,userGroups:u})),i.default.createElement(vf,{width:n}))},zf=e=>{let{children:t,target:n}=e;const[r,o]=(0,i.useState)(null),a=(0,i.useRef)(null),s=Jl(n);return(0,i.useEffect)((()=>{const{current:e}=a;e&&o(e.attachShadow({mode:"open"}))}),[a]),s?i.default.createElement(i.default.Fragment,null,t):i.default.createElement("div",{ref:a},r?(0,i.createPortal)(t,r):null)};const Ff="hidePlayer";var Wf=(0,i.forwardRef)(((e,t)=>{const{id:n,className:r,disableAnimation:o=!1,isHidden:a,width:s="100%",height:c="auto"}=e;return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{ref:t,className:ds()("ads__Players__player--jeFYl",r),id:n,style:{width:s,height:c,...a&&!o?{animation:`${Ff} ease-in ${400,.4}s 0s 1 normal forwards`}:{}}}),i.default.createElement(Sf,{name:Ff,animationProps:{"0%":{position:"absolute",opacity:1,zIndex:500},"99%":{position:"absolute",opacity:0,zIndex:500},"100%":{position:"absolute",opacity:0,zIndex:-500,display:"none"}}}))}));const Hf=e=>{let{id:t,source:n}=e;return{source:n,uids:[{id:t}]}};var Yf=e=>{if(e&&0!==e.length)return{user:{ext:{eids:e.map(Hf)}}}},Gf=e=>`1.0,1!${Z},${e},1,,,`;const qf=e=>Object.entries(e).filter((e=>{let[t,n]=e;return Boolean(n)})).map((e=>{let[t,n]=e;return`${t}=${encodeURIComponent(n)}`})).join("&"),Jf=(e,t)=>{const{firstPartyData:n,isSticky:r=!1,isTakeover:i=!1,mcmNetworkId:o,monetizationId:a,platform:c,reportingModuleName:u,slot:l,spotId:d}=t;return{[`${e}1`]:d,[`${e}2`]:c??"",[`${e}3`]:u,[`${e}4`]:s.config.pageViewId??"",[`${e}5`]:a??"",[`${e}6`]:wa(),[`${e}7`]:Za(l),[`${e}8`]:`sticky:${r};takeover:${i}`,[`${e}9`]:o??"",[`${e}10`]:Gt.version,[`${e}11`]:ma()??"",[`${e}12`]:ba()??"",[`${e}13`]:"boolean"==typeof n?.ir?`${n.ir}`:"",[`${e}14`]:n?.us?JSON.stringify(n.us):"",[`${e}15`]:Gt.adsAssetType}};const Kf=en("tenant_config.ads.aniview_content_bidders",{}),Zf=Object.keys(Kf);var Qf=e=>{let{spotId:t,adUnitId:n,tag:r,adWidth:o,adHeight:a,show:s,campaignId:c}=e;const[u,l]=bl(),d=`${n}-aniview`,f=(0,i.useRef)(null),p=(0,i.useRef)(null),{regenerateAdCallId:h}=(0,i.useContext)(Hl),{trackEvent:v}=Ui({engine_vendor_name:P.Aniview,engine_tag_id:r?.id,campaign_id:c,variant:r.variant}),{trackMovingAdEvent:_}=Rd("video_takeover"),{adsConfig:y,firstPartyData:g,reportingModuleName:m,envelopeId:b,slot:w,isGDPRCountry:S,isStickyEnabled:E,isTakeoverEnabled:k,takeoverSize:x}=u.context,O=(e=>Boolean(window.__tcfapi&&e&&en("tenant_config.ads.is_cookie_consent_observed_by_aniview",!1)))(S);wl((async()=>{const e=Wl(w);v(e);const n=(e=>{let{code:t,reportingModuleName:n,isTakeoverEnabled:r,takeoverSize:i}=e;try{const e=JSON.parse(t),o=r&&i?{...e,width:i.width,height:i.height}:e;return Kt(!0,"Aniview parsed settings",o,"\nProduct:",n),o}catch(e){const t=Aa(e);Zt(!0,"Aniview parse settings error",t,"\nProduct:",n),((e,t)=>{let{product:n}=t;ur({metric:pr,error:ln(e,pr),tags:{[Er]:rs(),[kr]:n}})})(t,{product:n})}})({code:r?.code,reportingModuleName:m,isTakeoverEnabled:k,takeoverSize:x});if(!n){l(Uu);return void v({engine_status:"engine-initialize-error"})}const{ref1:i}=n,o=f.current,a=p.current,s=(e=>{const{sellerId:t,isCookieConsentObservedByAniview:n,reportingModuleName:r,externalCustomParams:i=""}=e;let o={};try{o=JSON.parse(i)}catch(e){Zt(!0,"Failed to parse external custom params",e,"\nProduct:",r)}const a=Jf("AV_CDIM",e),s={...o,...a,...n?{AV_DNTCHECK:"1"}:{AV_DNTCHECK:"0"},AV_SCHAIN:Gf(t)};return Kt(!0,"Aniview custom params",s,"\nProduct:",r),qf(s)})({firstPartyData:g,reportingModuleName:m,slot:w,spotId:t,mcmNetworkId:y.spot.mcm_network_id,monetizationId:y.monetization_id,platform:y.platform,sellerId:y.spot.seller_id,isCookieConsentObservedByAniview:O,isSticky:E,isTakeover:k,externalCustomParams:i}),c={positionDiv:o},u=[b&&{source:"liveramp.com",id:b}].filter(Boolean),S={openRtb:Yf(u)},A={...n,...c,...S,position:d,ref1:s,logo:!1,...O?{waitforconsent:!0}:{}};let I;Kt(!0,"Aniview config",A,"\nProduct:",m);try{I=await qa((()=>(async e=>{const{publisherId:t,channelId:n}=e,r=(e=>`https://player.aniview.com/script/6.1/player.js?v=1&type=s&pid=${e}`)(t);((e,t)=>{(new Image).src=`https://track1.aniview.com/track?pid=${e}&cid=${t}&e=playerLoaded&cb=${Date.now()}&r=${Fa()}`})(t,n);try{return await Va({url:r,target:document.head,areMultipleScriptsPrevented:!1}),new window.avPlayer(e)}catch(e){throw new Error("Failed to load Aniview player")}})(A)),3,2e3)}catch(e){const t=Aa(e);Zt(!0,"Aniview script fetching failed",t,"\nProduct:",m),(e=>{ur({metric:_r,error:ln(e,_r)})})(t)}if(I)return I.on("InventoryRequest",(()=>{h(P.Aniview)})),I.on("Inventory",(()=>{v({engine_status:"ad-inventory-video"})})),I.on("AdImpression",(e=>{l(Vu),(e=>{let{dataSource:t,product:n}=e;lr({metric:"aniview-impression",tags:{[wr]:ns(),[Sr]:t,[Er]:rs(),[kr]:n}})})({dataSource:y.dataSource,product:m});if(v({engine_status:"engine-impression"}),k&&_(Dr),!A.preloader?.link||!e)return;const{tagInfo:t}=e;if(!Zf.includes(t.bidder))return;const n=Kf[t.bidder];let r=!1;if(Xl(n))r=n;else{const e=n?.["advertiser-ids"];Array.isArray(e)&&(r=e.includes(t.papi.aid))}r&&I?.resumeContent()})),I.on("AdViewableImpression",(()=>{(e=>{let{product:t}=e;lr({metric:"aniview-impression-viewable",tags:{[wr]:ns(),[Er]:rs(),[kr]:t}})})({product:m});v({engine_status:"impression-viewable"})})),I.on("AdClickThru",(()=>{v({engine_status:"ad-clickthrough-video"})})),I.on("ContentImpression",(()=>{v({engine_status:"content-impression"})})),I.on("ContentClick",(()=>{v({engine_status:"content-clicked"})})),I.on("ContentComplete",(()=>{v({engine_status:"content-completed"}),l(Mu)})),I.on("AdClosed",(()=>{l(Ru),k&&_("end");v({engine_status:"engine-closed"})})),I.on("AdError",(e=>{if(e&&"errorlimit"in e&&e.errorlimit){if("errorlimit"===e?.reason){Kt(!0,"Aniview no ad error limit",e,"\nProduct:",m),lr({metric:"aniview-no-ad-error-limit"});return v({engine_status:"engine-error"}),void l(Uu)}l(Mu);v({engine_status:"engine-done"})}})),(A.startOnView||A.floating)&&I.startTemplate(a),A.startOnView||I.play(),()=>I?.close()}),[]);const A=r?.size?.width===K;return i.default.createElement("div",{ref:p,style:{width:"100%",height:"100%"}},i.default.createElement(Wf,{ref:f,id:d,isHidden:!s,width:A||k?void 0:o,height:a}))};const Xf=(e,t)=>window.addEventListener(e,t),ep=(e,t)=>window.removeEventListener(e,t);var tp=e=>{let{adWidth:t,adHeight:n,show:r,tag:o}=e;const[a,s]=bl(),c=(0,i.useRef)(null),{adsConfig:u,slot:l,campaign:d,spotId:f,reportingModuleName:p,isStickyEnabled:h,isTakeoverEnabled:v,firstPartyData:_}=a.context,{trackEvent:y}=(0,Mi.rS)({engine_vendor_name:P.Browsi,engine_tag_id:o?.id,campaign_id:d?.id,variant:o.variant});return(e=>{let{trackEvent:t}=e;const[n,r]=bl(),{reportingModuleName:o}=n.context,{regenerateAdCallId:a}=(0,i.useContext)(Hl),s=(0,i.useCallback)((()=>{Kt(!0,"Browsi player closed","\nProduct:",o),r(Ru),t({engine_status:"engine-closed"})}),[o,r,t]),c=(0,i.useCallback)((()=>{Kt(!0,"Browsi player no ad","\nProduct:",o),r(Uu),t({engine_status:"engine-error"})}),[o,r,t]),u=(0,i.useCallback)((()=>{Kt(!0,"Browsi player viewable impression","\nProduct:",o),t({engine_status:"impression-viewable"})}),[o,t]),l=(0,i.useCallback)((()=>{Kt(!0,"Browsi player ad error","\nProduct:",o),r(Uu),t({engine_status:"engine-error"})}),[o,r,t]),d=(0,i.useCallback)((()=>{Kt(!0,"Browsi player ad clicked","\nProduct:",o),t({engine_status:"ad-clickthrough-video"})}),[o,t]),f=(0,i.useCallback)((()=>{Kt(!0,"Browsi player ad completed","\nProduct:",o),r(Mu),t({engine_status:"engine-done"})}),[o,r,t]),p=(0,i.useCallback)((()=>{Kt(!0,"Browsi player inventory request","\nProduct:",o),t({engine_status:"ad-inventory-video"}),a(P.Browsi)}),[a,o,t]),h=(0,i.useCallback)((()=>{r(Vu),Kt(!0,"Browsi player ad impression","\nProduct:",o),t({engine_status:"engine-impression"})}),[o,r,t]);(0,i.useEffect)((()=>(Xf(q.AdClick,d),Xf(q.AdCompleted,f),Xf(q.AdError,l),Xf(q.AdImpression,h),Xf(q.Inventory,p),Xf(q.NoAd,c),Xf(q.PlayerClosed,s),Xf(q.ViewableImpression,u),()=>{ep(q.AdClick,d),ep(q.AdCompleted,f),ep(q.AdError,l),ep(q.AdImpression,h),ep(q.Inventory,p),ep(q.NoAd,c),ep(q.PlayerClosed,s),ep(q.ViewableImpression,u)})),[f,l,h,p,c,s,d,u])})({trackEvent:y}),wl((async()=>{y(Wl(l));const e=(e=>{let{code:t,reportingModuleName:n}=e;try{const e=JSON.parse(t);return Kt(!0,"Browsi settings",e,"\nProduct:",n),e}catch(e){const t=Aa(e);Zt(!0,"Browsi settings parsing failed",t,"\nProduct:",n)}})({code:o.code,reportingModuleName:p});if(!e)return s(Uu),void y({engine_status:"engine-initialize-error"});const t=(e=>{const{reportingModuleName:t}=e,n=Jf("Custom",e);return Kt(!0,"Browsi custom params",n,"\nProduct:",t),qf(n)})({firstPartyData:_,reportingModuleName:p,slot:l,spotId:f,mcmNetworkId:u.spot.mcm_network_id,monetizationId:u.monetization_id,platform:u.platform,isSticky:h,isTakeover:v});let n;const r=c.current,i={customParams:t,...e};try{n=await qa((()=>(async e=>{let{tagId:t,customParams:n}=e;const r=(e=>{let{tagId:t,customParams:n}=e;return`https://cdn.avantisvideo.com/avm/js/video-loader.js?id=3e535150-3d67-4c18-923a-c0b480078c0f&tagId=${t}&${n}`})({tagId:t,customParams:n});try{return await Va({url:r,async:!0,attributes:{id:"avantisJS"}}),window.brw=window.brw||{que:[]}}catch(e){throw new Error("Failed to load Browsi player")}})(i)),3,2e3)}catch(e){const t=Aa(e);Zt(!0,"Browsi script fetching failed",t,"\nProduct:",p)}if(!n||!r)return void Zt(!0,"Browsi player initialization failed","\nProduct:",p,"\nPlayer:",n,"\nContainer:",r);const a=n;a.que.push((()=>{a.setPlacements({index:0,data:{placements:[{adIndex:0,element:r}]}}),a.onHasDemand({index:0,element:r}).then((()=>{a.play({index:0,data:{element:r,spotIndex:0}})})).catch((e=>{const t=Aa(e);Zt(!0,"Browsi player onHasDemand failed",t,"\nProduct:",p)}))}))}),[]),i.default.createElement(Wf,{className:"ads__Browsi__browsiPlayer--ZROnt",ref:c,isHidden:!r,width:t,height:n,disableAnimation:!0})},np=e=>{let{isStickyDesktopRunning:t,takeoverSize:n,children:r}=e;const{width:o,height:a}=n,s=(0,i.useMemo)((()=>((e,t,n)=>({width:t,height:n,...e?{height:"100%",transform:"scale(0.5)",margin:`${(.5*n-n)/2}px ${(.5*t-t)/2}px`}:{position:"absolute",top:`-${fe}`,zIndex:2}}))(t,o,a)),[t,o,a]);return i.default.createElement("div",{style:s},r)},rp=e=>{let{children:t}=e;const[n]=bl(),{isTakeoverEnabled:r,takeoverSize:o,isStickyDesktopRunning:a}=n.context;return i.default.createElement(i.default.Fragment,null,es(np,r,{isStickyDesktopRunning:a,takeoverSize:o??{width:0,height:0}})(t))},ip=e=>{let{tag:t,adWidth:n,adHeight:r}=e;const[o]=bl(),{adsConfig:a,adUnitId:s,spotId:c}=o.context,{id:u}=a.campaign,l=o.matches("video"),d=t.type.toLowerCase(),[f,p]=[P.Aniview,P.Browsi].map(pa(d));return i.default.createElement(i.default.Fragment,null,f&&i.default.createElement(Qf,{tag:t,adWidth:n,adHeight:r,adUnitId:s,show:l,spotId:c,campaignId:u}),p&&i.default.createElement(tp,{tag:t,adWidth:n,adHeight:r,show:l}))},op=(e,t)=>{const{displayAdSize:n}=e.context,r=((e,t)=>(0,i.useMemo)((()=>{if(!t)return;if(t.type===u)switch(e.value){case"initial":case"fixedDisplayAd":return t.display;default:return}const n=Boolean(t.displayBeforeVideo?.code);switch(e.value){case"initial":return n?t.displayBeforeVideo:void 0;case"dbv":return t.displayBeforeVideo;case"video":return t.video;case"passback":return t.passback;default:return}}),[e.value,t?.id]))(e,t);return t?n&&!e.matches("video")?n[0]:(o=r?.size.width,o?o===K?"100%":o:ue):"0px";var o};const ap=en(we,!1)&&en(be,!1),sp={position:"absolute",top:0,height:0,opacity:0,overflow:"hidden"},cp=e=>{let{show:t,width:n,height:r}=e;return t?{height:r}:{...sp,width:n}};var up=e=>{let{adWidth:t,adHeight:n}=e;const[r]=bl(),[o,a]=(0,i.useState)(null),[s,c]=(0,i.useState)(!1),{campaign:u,spotId:l,adUnitId:d,adsConfig:f,center:p,reportingModuleName:h,displayAdSize:v,userGroups:_,isTakeoverEnabled:y,isStickyDesktopRunning:g,takeoverSize:m}=r.context,b=op(r,u),{id:w,passback:S,video:k}=f.campaign,x=k.type.toLowerCase(),O=Bu(r,["dbv","loader","video"]),A=y&&!g?s:O,{width:I}=m??{},C=y&&I?`${I}px`:t;if((0,i.useEffect)((()=>{Kt(!0,"Video player",x),Cr(d,E,(e=>{let{width:t}=e;return a(t?`${t}px`:null)}))}),[]),(0,i.useEffect)((()=>{if(!O){const e=setTimeout((()=>c(O)),400);return()=>clearTimeout(e)}c(O)}),[O]),!o)return null;const P=r.matches("passback"),N=r.matches("video"),T=N||P,D=(e=>{let{adHeight:t,showVideo:n,reportingModuleName:r,displayAdSize:i}=e;const o="auto"===t,a=ap&&!n&&Q.includes(r),[,s]=i??[];return o?"auto":`${parseInt([{height:le,cond:a},{height:t,cond:n},{height:s,cond:Boolean(s)}].find(pa(!0,"cond"))?.height??de)+hf()}px`})({adHeight:n,showVideo:N,reportingModuleName:h,displayAdSize:v});return i.default.createElement("div",{className:ds()("ads__VideoFlow__outerContainer--ruPks",{"ads__VideoFlow__shown--Sqphx":N}),style:{...cp({height:D,show:T,width:o})}},i.default.createElement(Mf,{height:"100%",width:"100%",isCentered:p,overflow:y?"visible":"hidden"},A&&i.default.createElement(rp,null,i.default.createElement(ip,{tag:k,adWidth:t,adHeight:n}),i.default.createElement(vf,{width:C})),P&&S&&i.default.createElement(Bf,{adUnitId:d,adWidth:b,campaignId:w,mcmNetworkId:f.spot.mcm_network_id,spotId:l,tag:S,userGeo:f.geo,userGroups:_})))},lp=e=>{let{hostOnDimensionsChange:t,hostOnVideoDone:n,hostOnVideoPlaying:r}=e;const[o]=bl(),{adsConfig:a,adUnitId:s,isTakeoverEnabled:c,reportingModuleName:u,skipVideo:l}=o.context;(0,us.cO)((e=>{Zt(!0,"Ad unit video runtime error",e,"\nProduct:",u),((e,t)=>{let{product:n}=t;ur({metric:gr,error:ln(e,gr),tags:{[wr]:ns(),[kr]:n}})})(e,{product:u})}));const d=rd("balanced");if(Bu(o,["adUnitDisabled","allAdsDone"]))return Pr(t,s,0,0),null;if(l&&!o.matches("passback"))return null;const{video:f}=a.campaign,{width:p,height:h}=f.size,v=p===K||c;return d?i.default.createElement(up,{adWidth:v?"100%":p,adHeight:v?"auto":h,hostOnVideoPlaying:r,hostOnVideoDone:n}):null},dp=e=>{let{adIndex:t,children:n,slot:r}=e;const[o]=bl(),{adCallIds:a}=(0,i.useContext)(Hl),s=t?(t+1).toString():void 0,c=s?r?.column?.toString():void 0,{campaign:u,reportingModuleName:l}=o.context,{Track:d}=Ui({ad_call_ids:a,campaign_id:u?.id,native:s,page_view_id:dn(),post_id:tn(),segment:c,source:l,source_version:Gt.version,spot_id:nn(),test_field:Ni.getAllExperiments(),type:"engine_status"},{dispatch:Di});return i.default.createElement(d,null,n)};var fp=e=>{let{children:t}=e;const[n]=bl(),{adsConfig:r,compact:o,isStickyEnabled:a,moduleName:s}=n.context,{isIntersecting:c,lazyLoadRef:u}=((e,t,n)=>{const[r,o]=(0,i.useState)(!1),a=`${((e,t)=>t.spot.features[e]?.lazy_load_v2_margin??0)(e,t)}px`,s={threshold:[.01],rootMargin:a,...n},c=(0,i.useCallback)((n=>{if(null!==n){if(!((e,t)=>Boolean(t.spot.features[e]?.lazy_load_v2_enabled))(e,t)||!Ms)return void o(!0);Kt(!0,"Lazy Load Enabled",{moduleName:e,rootMargin:a});const r=new IntersectionObserver((t=>{let[i]=t;i.isIntersecting&&n&&(o(i.isIntersecting),Kt(!0,"Lazy Load Triggered",{moduleName:e,target:n,rootMargin:a}),r?.unobserve(n))}),s);return n&&r.observe(n),()=>{n&&r?.unobserve(n)}}}),[]);return{isIntersecting:r,lazyLoadRef:c}})(s,r);return i.default.createElement("div",{"data-mini-ad-unit":!0,ref:u,style:{width:a&&!o?"100%":"auto"}},c?t:null)},pp=e=>{let{children:t,context:n}=e;return i.default.createElement(yl,{machine:Ku.withContext(n)},t)},hp=e=>{let{tag:t,mainTagResponsive:n}=e;const[r]=bl(),{center:o,compact:a,userGroups:s,adUnitId:c,spotId:u,adsConfig:l,reportingModuleName:d}=r.context,f=n?"auto":a?le:t?.size?.height??de;return(0,us.cO)((e=>{Zt(!0,"Ad unit display runtime error",e,"\nProduct:",d),as(e,{product:d})})),r.matches("loader")?i.default.createElement(Mf,{height:f,width:"auto",isCentered:o},i.default.createElement(Lf,{adHeight:"250px",adWidth:ue})):i.default.createElement("div",{className:"ads__index__outerContainer--bHqli",style:{height:f}},i.default.createElement(Mf,{height:f,width:"auto",isCentered:o},i.default.createElement($f,{tag:t,width:t?.size.width,height:t?.size.height,position:"relative"},t?.code&&i.default.createElement(Vf,{tag:t,spotId:u,size:t.size,adType:"displayBeforeVideo",adUnitId:c,userGroups:s,mcmNetworkId:l.spot.mcm_network_id,campaignId:l.campaign?.id,userGeo:l.geo}))))},vp=e=>{let{tag:t,selectedCampaign:n,isNativeAd:r=!1}=e;const o=((e,t)=>{if(e){const{height:e}=t.size;return{width:"100%",height:e}}return{width:t.size.width,height:t.size.height}})(r,t),a=((e,t,n)=>e?((e,t)=>e.includes(t)?e:t+e)(n,function(){return`\n    <style>\n      div div, div iframe { height: ${arguments.length>0&&void 0!==arguments[0]?arguments[0]:"200px"} !important; }\n    </style>\n    `.trim()}(t)):n)(r,t.size.height,t.code),[s]=bl(),{userGroups:c,adUnitId:u,center:l,spotId:d,adsConfig:f,reportingModuleName:p}=s.context;return(0,us.cO)((e=>{Zt(!0,"Ad unit display runtime error",e,"\nProduct:",p),as(e,{product:p})})),i.default.createElement(i.Fragment,null,i.default.createElement(Mf,{height:o.height,width:"auto",isCentered:l},i.default.createElement($f,{tag:t,position:"relative",height:o.height,width:o.width,isNativeAd:r},i.default.createElement(Vf,{campaign:n,tag:{...t,code:a},size:o,adType:"default",adUnitId:u,spotId:d,userGroups:c,mcmNetworkId:f.spot.mcm_network_id,campaignId:f.campaign?.id,userGeo:f.geo}))))};const _p=e=>{switch(e.type){case c:return e.video.size.width===K;case u:return e.display.size.width===K}},yp=e=>{if(e.type!==u)return!1;const{width:t,height:n}=e.display.size;return t===K&&null!=n},gp=(e,t)=>{Ir(e,E,{width:t})},mp=e=>{let{onDimensionsChange:t,onNoAdAvailable:n,onVideoPlaying:r,onVideoDone:o,onTagUpdated:a,adIndex:s,slot:u}=e;const[l,d]=(0,i.useState)({[P.Dfp]:Ua(),[P.Aniview]:Ua(),[P.Browsi]:Ua()}),[f,p]=(0,i.useState)({}),h=(0,i.useRef)(null),[v,_]=bl(),{adUnitId:y,adsConfig:g,campaign:m,disableAdForProduct:b,isAdUnitsOverlapDetected:w,isOptedOut:S,isTakeoverEnabled:E,moduleName:k,reportingModuleName:x,spotId:O}=v.context,A=(0,i.useCallback)((e=>d((t=>({...t,[e]:Ua()})))),[]);(()=>{const[e,t]=bl(),{adUnitId:n}=e.context,r=(0,i.useCallback)((e=>{const{eventType:n}=e,r={[W]:()=>t(Du)}[n];r&&r()}),[t]);(0,i.useEffect)((()=>{const e=((e,t)=>(0,Or.Ld)(z,(n=>{n.adUnitId===e&&t(n)})))(n,r);return e}),[n,r])})(),((e,t)=>{const[n]=bl(),{adUnitId:r}=n.context,o=(0,i.useRef)(!1),a=(0,i.useCallback)((e=>o.current||e!==Gl.InView?o.current&&[Gl.OutOfViewBottom,Gl.OutOfViewTop].some(pa(e))?(Ar({adUnitId:r,adUnitElement:t,eventType:Y}),void(o.current=!1)):void 0:(Ar({adUnitId:r,adUnitElement:t,eventType:H}),void(o.current=!0))),[t,r]);ql({intersectionObserverOptions:{threshold:.01},isEnabled:e,target:t,callback:a})})(!w,h.current),(0,us.cO)((e=>{Zt(!0,"Ad unit base runtime error",e,"\nProduct:",x),as(e,{product:x})}));const I=m?.id,C=g.spot.features[k],N=Bu(v,["adUnitDisabled","allAdsDone"]),T=()=>{!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};Ir(arguments.length>1?arguments[1]:void 0,"onNoAdAvailable"),e()}(n,y),j(0,0)};(0,i.useEffect)((()=>{Kt(!0,"Ad unit campaign",m,"\nProduct:",x),Ar({adUnitId:y,eventType:G}),(e=>{const t=window.__SPOTIM_DISABLE_ADS__;window.__SPOTIM_DISABLE_ADS__=()=>{Kt(!0,"Ad unit disabled by global function","\nProduct:",x),_({type:Tu}),T(),$i({reportingModuleName:x,campaignId:I}),lr({metric:"ad-unit-disabled-by-global-function",options:{isDisposable:!0}}),xs();try{t()}catch(e){}}})();const e=ms(x,I),t=bs({campaignId:I,reportingModuleName:x,isCampaignMissed:!m,isDisabledByFeaturesConfig:!C?.enabled,isDisabledByHtmlAttribute:b,isDisabledByIsOptedOutFlag:S});if(e||t||N)return N||_({type:Tu}),void T();(e=>{let{dataSource:t,product:n}=e;lr({metric:"ad-unit-rendered",tags:{[wr]:ns(),[Sr]:t,[Er]:rs(),[kr]:n,[xr]:is()}})})({dataSource:g.dataSource,product:x}),(e=>{let{dataSource:t}=e;lr({metric:"monetized-page-view",options:{isDisposable:!0},tags:{[wr]:ns(),[Sr]:t,[xr]:is()}})})({dataSource:g.dataSource}),(e=>{let{monetizationId:t,reportingModuleName:n,campaignId:r,userGroups:i=[],slot:o}=e;const a=Ri({...o,engine_status:"engine-monetization-load",target_id:t,user_segments:i},n,r);Di(a)})({reportingModuleName:x,slot:u,campaignId:I,monetizationId:g.monetization_id,userGroups:g.user_groups}),Cr(y,"onStylingChange",p),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};Ir(arguments.length>1?arguments[1]:void 0,"onTagUpdated"),e()}(a,y),((e,t)=>!!(e=>Boolean(e.moat_enabled))(e)&&jd(e,t))(C,"widget")&&((e,t)=>{const n=Ad,r=Qa(),i=document.createElement("script");i.src=`https://z.moatads.com/spotimdisplay705463185058/moatad.js#moatClientLevel1=${e}&moatClientLevel2=${n}&moatClientLevel3=${r}&moatClientLevel4=Geo&moatClientSlicer1=${t}`,i.async=!0,document.body.appendChild(i)})(O,x)}),[]);const D=op(v,m),j=vs(((e,n)=>Pr(t,y,e,n)),100),R=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const o=(0,i.useRef)(null);return(0,i.useCallback)((r=>{if(null!==o.current&&(o.current.disconnect(),o.current=null),!e||null==r)return;const i=new ResizeObserver(t);i.observe(r,n),o.current=i}),r)}(!N,(e=>{const{width:t,height:n}=e[0].contentRect;j(t,n)})),M=(0,i.useCallback)((e=>{if(null===e)return;const t=e.getBoundingClientRect().width;t?gp(y,t):((e,t)=>{const n=new ResizeObserver((e=>{n.disconnect(),t(e)}));n.observe(e)})(e,(e=>{gp(y,e[0].contentRect.width)}))}),[]);return N||!m?null:i.default.createElement(Hl.Provider,{value:{adCallIds:l,regenerateAdCallId:A}},i.default.createElement(dp,{adIndex:s,slot:u},i.default.createElement(fp,null,i.default.createElement(Rf,null,i.default.createElement("div",{className:ds()({[Ns.outerWrapper]:Mt}),ref:M},i.default.createElement("div",{style:f,ref:R},i.default.createElement("div",{id:"spotim-specific"},i.default.createElement("div",{ref:h,className:ds()(Ns.adWrapper,{[Ns.takeover]:E})},Bu(v,["initial","dbv","fixedDisplayAd","loader"])&&i.default.createElement(i.default.Fragment,null,m.type===c?i.default.createElement(hp,{tag:m.displayBeforeVideo,mainTagResponsive:_p(m)}):i.default.createElement(vp,{tag:m.display,isNativeAd:yp(m),selectedCampaign:m}),i.default.createElement(vf,{width:D})),m.type===c&&i.default.createElement(lp,{hostOnDimensionsChange:t,hostOnVideoPlaying:r,hostOnVideoDone:o})))))))))};var bp=()=>i.default.createElement("div",{style:{height:"50px",width:"50px"}});const wp={};var Sp=()=>(0,i.useCallback)((e=>{wp[e.adUnitId]=!0,Object.keys(wp).length>1||((0,Or.WI)("ads-ready"),Kt(!0,'Dispatched "ads-ready" global event'))}),[]),Ep=()=>{const[e,t]=(0,i.useState)([]),n=(0,i.useRef)(e),r=e.length>1;(0,i.useEffect)((()=>{n.current=e}),[e]);const o=(0,i.useCallback)((e=>{t((t=>[...t,{id:e.adUnitId,element:e.adUnitElement}]))}),[]),a=(0,i.useCallback)((e=>{t((t=>t.filter((t=>{let{id:n}=t;return n!==e.adUnitId}))))}),[]),s=(0,i.useCallback)((()=>{const e=(r=n.current).map(((e,t)=>t===r.length-1?[]:r.slice(t+1).map((t=>((e,t)=>{const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return!(n.right<=r.left||n.left>=r.right||n.bottom<=r.top||n.top>=r.bottom)})(e.element,t.element)?[e,t]:null)).filter(Boolean))).flat();var r;tr(e)||e.flat().forEach((e=>{var n;n={adUnitId:e.id,eventType:W},(0,Or.WI)(z,n),t((t=>t.filter((t=>{let{id:n}=t;return n!==e.id}))))}))}),[]);return Kl({isEnabled:r,callback:s,throttleTimeout:500}),{handleAdUnitInView:o,handleAdUnitOutOfView:a}};const kp=e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;return(0,i.useMemo)((()=>(e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;const i=Qd({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r});return(e,t,n,r)=>{if(!r?.containerWidth||!r.maxCards)return void Kt(!0,"Missed required options for rendering multiple ad slots",r);const{containerWidth:o,maxCards:a}=r,s=((e,t)=>{let n=1;return Mt||(t<620?n=1:t>=620&&t<1024?n=2:t>=1024&&(n=3)),Math.min(n,e)})(a,o),c={display:"flex","flex-direction":"column","justify-content":"flex-start","margin-top":"30px","margin-bottom":"30px","margin-right":"20px","max-width":Xd(o,s)};e.style.display="flex";for(let o=0;o<s;o++){const a=document.createElement("div"),s={...n,column:o+1};Object.assign(a.style,c),e.appendChild(a),i(a,t,s,r)}}})({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r})),[t,n,r])},xp=e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;return(0,i.useMemo)((()=>Qd({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r})),[t,n,r])};var Op=()=>{const e=(0,i.useCallback)((e=>{(e=>{if(!(e.error instanceof SyntaxError&&document.currentScript))return;const t=document.currentScript.innerHTML,n=(e=>{const t=`${Gt.adsAssetType}.js`,n=Gt.nodeEnv.isProduction?`${Gt.version}/${Gt.adsAssetType}/${t}`:`/${t}`;return Boolean(e.stack?.includes(n))})(e.error),r=t.includes(se),i=t.includes(nn());n&&r&&i&&os(e.error)})(e)}),[]);(0,i.useEffect)((()=>(window.addEventListener("error",e),()=>{window.removeEventListener("error",e)})),[e])};function Ap(e){var t=e.element,n=e.onAttributesChanged;t&&MutationObserver&&new MutationObserver((function(e){var t=e.filter((function(e){return"attributes"===e.type&&e.attributeName}));if(t.length>0){var r,i=null==(r=t.find((function(e){return e.target})))?void 0:r.target;null==n||n(i,t)}})).observe(t,{attributes:!0})}function Ip(e){var t=e.element,n=e.onRemoved;t&&MutationObserver&&t.parentNode&&new MutationObserver((function(e,r){e.some((function(e){return Array.from(e.removedNodes).indexOf(t)>-1}))&&(n(e[0].removedNodes[0]),r.disconnect())})).observe(t.parentNode,{childList:!0})}const Cp=en(_e,{}),Pp=en(ve,!1),Np=en("tenant_config.ads.independent_ads_enabled",!0),Tp=(e,t)=>{const n=t??"div[data-openweb-ad]";Np?function(e){var t=e.selector,n=e.onAdded,r=e.onAttributesChanged,i=void 0===r?function(){}:r,o=e.onRemoved,a=void 0===o?function(){}:o,s="spotim-detector-animation-"+function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t+Math.floor(1e5+9e5*Math.random())||0}(t);qi()?function(e){var t=e.selector,n=e.onItemFound,r=document.querySelector(t);if(r)n(r);else var i=setInterval((function(){var e=document.querySelector(t);e&&(n(e),clearInterval(i))}),1e3)}({selector:t,onItemFound:function(e){n(e),Ip({element:e,onRemoved:a}),Ap({element:e,onAttributesChanged:i})}}):(function(e){var t=e.selector,n=e.animationName;requestAnimationFrame((function(){var e,r=document.createElement("style");r.setAttribute("data-spot-im-style-module","*"),r.setAttribute("data-spot-im-style","true"),r.innerText=("\n  "+t+" {\n    animation: "+n+" 1ms !important;\n  }\n  \n  @keyframes "+n+" {\n    from {\n    } to {\n    }\n  }\n  ").replace(/\n/g,""),document.head.appendChild(r),(null==(e=window.__SPOTIM__)?void 0:e.stylesheetElementAdded)&&window.__SPOTIM__.stylesheetElementAdded({module:"*",stylesheetElement:r});var i=document.querySelectorAll("data-spot-im-shadow-host");Array.from(i).forEach((function(e){e.shadowRoot&&e.shadowRoot.appendChild(r.cloneNode())}))}))}({animationName:s,selector:t}),function(e){var t=e.animationName,n=e.onItemFound,r=function(e){var r;e.animationName!==t&&(null==e||null==(r=e.detail)?void 0:r.animationName)!==t||!e.target||n&&n(e.composedPath()[0])};document.addEventListener("animationstart",r),document.addEventListener("MSAnimationStart",r),document.addEventListener("webkitAnimationStart",r)}({animationName:s,onItemFound:function(e){n(e),Ip({element:e,onRemoved:a}),Ap({element:e,onAttributesChanged:i})}}))}({selector:n,onAdded:t=>Dp(n,t,e)}):Kt(!0,"Independent Ads Disabled")},Dp=(e,t,n)=>{const r="data-rendered";if(t.hasAttribute(r))return;const i=Pp&&Boolean(Cp[e]),o=!i&&(e=>{const t=e.getAttribute("data-row"),n=e.getAttribute("data-column");if([t,n].includes(null))return!1;const r=Number(t),i=Number(n),o=Us(r),a=Us(i);return o&&a})(t)?{row:Number(t.getAttribute("data-row")),column:Number(t.getAttribute("data-column"))}:Ja,a=i?Cp[e]:o,s=t.dataset?.pageType??"",c=Object.values(ee).includes(s)?s:"independent_ad";n(t,c,a,{forceSpecificSlot:!1}),t.setAttribute(r,"true"),(e=>{const t=Ri({type:"loaded"},e);Di(t)})(c)},jp=en(_e,{}),Rp=en(ve,!1),Mp=e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;(0,i.useEffect)((()=>{if(Gt.adsAssetType!==x)return;const e=(i=(e,i)=>{const o=(e=>{let{target:t,product:n}=e,r={...ks[n]};switch(n){case g:{const e=t.hasAttribute("data-spotlight-sidebar")||en(ke);r={...r,center:Boolean(e),adPosition:e||Mt?d:p,moduleName:e?"conversation_header_siderail":"conversation_header"};break}case v:{const e=t.dataset?.pageType,n=t.hasAttribute("data-vertical-view")||Cs(t),i=en("tenant_config.pitc.bottomVerticalAd",!1),o=Mt||n,a=en(Ee,!0),s=(()=>{const e=en("tenant_config.pitc.mobileAdPosition",d);return e===d||e===l?e:d})(),c=en(Se,!1),u=en(we,!1)&&en(be,!1)||"compact"===en("tenant_config.pitc.layoutVariant"),h=Mt&&s===l,v=n?i?d:l:Mt&&!c?s:a?f:p,_=Ps(t),y=n?"side_rail":e&&X.hasOwnProperty(e)?X[e]:"pitc";r={...r,adPosition:v,titleBelowAd:h,moduleName:_,center:o,compact:u,reportingModuleName:y};break}case _:{const e=en(Se,!1),n=en(pe.Ltr,!0),i=en(Ee,!0),o=Mt&&!e?d:n===i?f:p,a=Ps(t);r={...r,adPosition:o,moduleName:a};break}case y:{const e=(e=>{const t=en("tenant_config.reactions.shouldRenderAdBelow",!1),{width:n}=e.getBoundingClientRect();return t?d:n>=720?p:d})(t),n=t.hasAttribute("data-vertical-view");r={...r,adPosition:e,moduleName:n?"reactions_siderail":"reactions"};break}case m:{const e=en("tenant_config.topic-tracker.shouldRenderAdBelow",!1),n=en("tenant_config.topic-tracker.override_spotlight")&&(t.hasAttribute("data-spotlight-sidebar")||en(ke))||t.hasAttribute("data-topic-tracker-sidebar")||"true"===t.getAttribute("data-vertical-view")||en("tenant_config.topic-tracker.isSidebar"),i=n?"topic_tracker_siderail":"topic_tracker";r={...r,center:!0,adPosition:n||Mt||e?d:p,moduleName:i};break}}return{...r,product:n,reportingModuleName:r.reportingModuleName??r.moduleName}})({product:e,target:i}),a=qd(t,o);if(!a)return;const{adsConfig:{campaign:s},moduleName:c,reportingModuleName:u}=a,{is_sticky:h,is_video_takeover:b}=s??{},{headerDiv:w,productContainer:S,productAndTitleContainer:E,stylingWrapper:k}=((e,t)=>{const n=(()=>{const e=en(pe.Ltr,!0),t=document.createElement("div");return t.setAttribute("data-spot-im-direction",e?"ltr":"rtl"),t})(),r=(e=>{const t=document.createElement("div"),n=e.moduleName,r=e.adPosition||f;return t.classList.add(Ns.adUnitWrapper,Ns[Is(r)],Ns[n]),t.setAttribute(`${n}-ad-wrapper`,""),t})(t),i=((e,t,n,r)=>{const i=document.createElement("div");return i.id="spotim-specific",i.className=e.className,i.setAttribute("data-openweb-style-wrapper","true"),i.setAttribute(`${r}-ad-container`,""),i.appendChild(n),n.appendChild(t),i})(e,r,n,t.moduleName);return((e,t,n)=>{e.insertAdjacentElement("beforebegin",t),e.className=Ns.elementWrapper,e.setAttribute("data-ad-unit-id",n.adUnitId)})(e,i,t),{productContainer:r,headerDiv:Ts(),productAndTitleContainer:i,stylingWrapper:n}})(i,a),x=Gd({adUnitProps:a,target:i,contextOverrides:{isStickyEnabled:Bd(Boolean(h),c),isTakeoverEnabled:Wd(Boolean(b),e),takeoverSize:Zd(e,S)}}),O=()=>Ds({adUnitProps:a,headerDiv:w,productContainer:S,productAndTitleContainer:E,stylingWrapper:k,target:i});Vi({reportingModuleName:u,campaignId:s?.id}),Vs(c,u,i,(()=>{n({context:x,props:a,target:S}),O()}),(()=>{r({target:S}),O()}))},(0,Or.Ld)("products-to-load",(e=>e.map((e=>(0,Or.Ld)(`${e}-bootstrap`,(t=>{Boolean(ef[e]&&(!tf[e]||tf[e]!==t))&&(tf[e]=t,i(e,t))})))))));var i;return()=>{e&&e()}}),[t,n,r])};var Up=e=>{let{adsConfigs:t}=e;(()=>{const{handleAdUnitInView:e,handleAdUnitOutOfView:t}=Ep(),n=Sp(),r=(0,i.useCallback)((r=>{const{eventType:i}=r,o={[H]:e,[Y]:t,[G]:n}[i];o&&o(r)}),[e,t,n]);(0,i.useEffect)((()=>{var e;return e=r,(0,Or.Ld)(F,e)}),[r])})();const n=(0,i.useCallback)((e=>{let{context:t,props:n,target:r}=e;o(r).render(i.default.createElement(pp,{context:t},i.default.createElement(mp,n)))}),[]),r=(0,i.useCallback)((e=>{let{target:t}=e;o(t).render(i.default.createElement(bp,null))}),[]);return(e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;const[o,a]=(0,i.useState)(!1),s=xp({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}),c=kp({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r});(0,i.useEffect)((()=>{(e=>{window.__OPEN_WEB__=window.__OPEN_WEB__||{},window.__OPEN_WEB__.renderAdUnit=e})(s),(e=>{window.__OPEN_WEB__=window.__OPEN_WEB__||{},window.__OPEN_WEB__.renderMultipleAdSlots=e})(c),a(!0)}),[s,c]),(0,i.useEffect)((()=>{(0,Or.WI)("ad-ops-config-ready")}),[o])})({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}),(e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;const o=xp({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r});(0,i.useEffect)((()=>{const e=Object.keys(jp);Rp&&e.length?e.map((e=>Tp(o,e))):Tp(o)}),[o])})({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}),Mp({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}),Op(),(()=>{const e=(0,i.useCallback)((e=>{(e=>{const{data:t}=e,n=t.type===B,r=t.error instanceof SyntaxError;n&&r&&t.isGoogleDfpScript&&os(t.error)})(e)}),[]);(0,i.useEffect)((()=>(window.addEventListener("message",e),()=>{window.removeEventListener("message",e)})),[e])})(),i.default.createElement(i.default.Fragment,null)},Vp=()=>{const e=(()=>{const[e,t]=(0,i.useState)();return wl((async()=>{try{const e=await gd();if(!e)return void Kt(!0,"No ads config");t(e)}catch(e){Zt(!0,"Get ads config error",e)}}),[]),e})(),t=rd("low_impact"),n=(e=>{const[t,n]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{if(!e)return;const{ats:t}=e.thirdPartyData;Od(t),n(!0)}),[e]),t})(e),r=e&&t&&n;return(0,us.cO)((e=>{Zt(!0,"Bootstrapper runtime error",e),ss(e)})),r?i.default.createElement(Up,{adsConfigs:e.data}):null},$p=()=>{try{if(Gt.nodeEnv.isTest)return;const{adsAssetType:e,version:t}=Gt,n=e===x;if(n){if(n&&s.flags.isAdsAssetRunning)return void Kt(!0,"Ads asset is already running");s.flags.isAdsAssetRunning=!0}const r=e===O;if(r){if(r&&s.flags.isAdsIndependentAssetRunning)return void Kt(!0,"Ads-independent asset is already running");s.flags.isAdsIndependentAssetRunning=!0}Kt(!0,"Ads asset data",e,t),lr({metric:"ads-script-started",tags:{"ab-test-irrelevant-variant":ts(),browser:Gt.browser.type,[Er]:rs(),platform:Gt.platform,[xr]:is()}}),o(new DocumentFragment).render(i.default.createElement(i.default.StrictMode,null,i.default.createElement(Vp,null)))}catch(e){const t=Aa(e);Zt(!0,"Bootstrap runtime error",t),ss(t)}}},184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},996:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function s(e,n,c){(c=c||{}).arrayMerge=c.arrayMerge||i,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=r;var u=Array.isArray(n);return u===Array.isArray(e)?u?c.arrayMerge(e,n,c):function(e,t,n){var i={};return n.isMergeableObject(e)&&o(e).forEach((function(t){i[t]=r(e[t],n)})),o(t).forEach((function(o){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(a(e,o)&&n.isMergeableObject(t[o])?i[o]=function(e,t){if(!t.customMerge)return s;var n=t.customMerge(e);return"function"==typeof n?n:s}(o,n)(e[o],t[o],n):i[o]=r(t[o],n))})),i}(e,n,c):r(n,c)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return s(e,n,t)}),{})};var c=s;e.exports=c},679:function(e,t,n){"use strict";var r=n(864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=c(t),v=c(n),_=0;_<a.length;++_){var y=a[_];if(!(o[y]||r&&r[y]||v&&v[y]||s&&s[y])){var g=f(n,y);try{u(t,y,g)}catch(e){}}}}return t}},661:function(e,t,n){"use strict";n.r(t),n.d(t,{Children:function(){return h},Component:function(){return r.wA},Fragment:function(){return r.HY},PureComponent:function(){return c},StrictMode:function(){return ee},Suspense:function(){return m},SuspenseList:function(){return S},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:function(){return W},cloneElement:function(){return J},createContext:function(){return r.kr},createElement:function(){return r.az},createFactory:function(){return Y},createPortal:function(){return O},createRef:function(){return r.Vf},default:function(){return se},findDOMNode:function(){return Z},flushSync:function(){return X},forwardRef:function(){return f},hydrate:function(){return j},isElement:function(){return oe},isFragment:function(){return q},isValidElement:function(){return G},lazy:function(){return w},memo:function(){return u},render:function(){return D},startTransition:function(){return te},unmountComponentAtNode:function(){return K},unstable_batchedUpdates:function(){return Q},useCallback:function(){return i.I4},useContext:function(){return i.qp},useDebugValue:function(){return i.Qb},useDeferredValue:function(){return ne},useEffect:function(){return i.d4},useErrorBoundary:function(){return i.cO},useId:function(){return i.Me},useImperativeHandle:function(){return i.aP},useInsertionEffect:function(){return ie},useLayoutEffect:function(){return i.bt},useMemo:function(){return i.Ye},useReducer:function(){return i._Y},useRef:function(){return i.sO},useState:function(){return i.eJ},useSyncExternalStore:function(){return ae},useTransition:function(){return re},version:function(){return H}});var r=n(400),i=n(396);function o(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function s(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}function c(e){this.props=e}function u(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:a(this.props,e)}function i(t){return this.shouldComponentUpdate=n,(0,r.az)(e,t)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(c.prototype=new r.wA).isPureReactComponent=!0,c.prototype.shouldComponentUpdate=function(e,t){return a(this.props,e)||a(this.state,t)};var l=r.YM.__b;r.YM.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),l&&l(e)};var d="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function f(e){function t(t){var n=o({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=d,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var p=function(e,t){return null==e?null:(0,r.bR)((0,r.bR)(e).map(t))},h={map:p,forEach:p,count:function(e){return e?(0,r.bR)(e).length:0},only:function(e){var t=(0,r.bR)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:r.bR},v=r.YM.__e;r.YM.__e=function(e,t,n,r){if(e.then)for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);v(e,t,n,r)};var _=r.YM.unmount;function y(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=o({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return y(e,t,n)}))),e}function g(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return g(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function m(){this.__u=0,this.t=null,this.__b=null}function b(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function w(e){var t,n,i;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){i=e})),i)throw i;if(!n)throw t;return(0,r.az)(n,o)}return o.displayName="Lazy",o.__f=!0,o}function S(){this.u=null,this.o=null}r.YM.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),_&&_(e)},(m.prototype=new r.wA).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=b(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(s):s())};n.__R=a;var s=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=g(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},m.prototype.componentWillUnmount=function(){this.t=[]},m.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=y(this.__b,n,i.__O=i.__P)}this.__b=null}var o=t.__a&&(0,r.az)(r.HY,null,e.fallback);return o&&(o.__h=null),[(0,r.az)(r.HY,null,t.__a?null:e.children),o]};var E=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function k(e){return this.getChildContext=function(){return e.context},e.children}function x(e){var t=this,n=e.i;t.componentWillUnmount=function(){(0,r.sY)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),(0,r.sY)((0,r.az)(k,{context:t.context},e.__v),t.l)}function O(e,t){var n=(0,r.az)(x,{__v:e,i:t});return n.containerInfo=t,n}(S.prototype=new r.wA).__a=function(e){var t=this,n=b(t.__v),r=t.o.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),E(t,e,r)):i()};n?n(o):o()}},S.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,r.bR)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},S.prototype.componentDidUpdate=S.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){E(e,n,t)}))};var A="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,I=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,C=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,P=/[A-Z0-9]/g,N="undefined"!=typeof document,T=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function D(e,t,n){return null==t.__k&&(t.textContent=""),(0,r.sY)(e,t),"function"==typeof n&&n(),e?e.__c:null}function j(e,t,n){return(0,r.ZB)(e,t),"function"==typeof n&&n(),e?e.__c:null}r.wA.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(r.wA.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var R=r.YM.event;function M(){}function U(){return this.cancelBubble}function V(){return this.defaultPrevented}r.YM.event=function(e){return R&&(e=R(e)),e.persist=M,e.isPropagationStopped=U,e.isDefaultPrevented=V,e.nativeEvent=e};var $,L={enumerable:!1,configurable:!0,get:function(){return this.class}},B=r.YM.vnode;r.YM.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,i={};for(var o in t){var a=t[o];if(!("value"===o&&"defaultValue"in t&&null==a||N&&"children"===o&&"noscript"===n||"class"===o||"className"===o)){var s=o.toLowerCase();"defaultValue"===o&&"value"in t&&null==t.value?o="value":"download"===o&&!0===a?a="":"ondoubleclick"===s?o="ondblclick":"onchange"!==s||"input"!==n&&"textarea"!==n||T(t.type)?"onfocus"===s?o="onfocusin":"onblur"===s?o="onfocusout":C.test(o)?o=s:-1===n.indexOf("-")&&I.test(o)?o=o.replace(P,"-$&").toLowerCase():null===a&&(a=void 0):s=o="oninput","oninput"===s&&i[o=s]&&(o="oninputCapture"),i[o]=a}}"select"==n&&i.multiple&&Array.isArray(i.value)&&(i.value=(0,r.bR)(t.children).forEach((function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)}))),"select"==n&&null!=i.defaultValue&&(i.value=(0,r.bR)(t.children).forEach((function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value}))),t.class&&!t.className?(i.class=t.class,Object.defineProperty(i,"className",L)):(t.className&&!t.class||t.class&&t.className)&&(i.class=i.className=t.className),e.props=i}(e),e.$$typeof=A,B&&B(e)};var z=r.YM.__r;r.YM.__r=function(e){z&&z(e),$=e.__c};var F=r.YM.diffed;r.YM.diffed=function(e){F&&F(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),$=null};var W={ReactCurrentDispatcher:{current:{readContext:function(e){return $.__n[e.__c].props.value}}}},H="17.0.2";function Y(e){return r.az.bind(null,e)}function G(e){return!!e&&e.$$typeof===A}function q(e){return G(e)&&e.type===r.HY}function J(e){return G(e)?r.Tm.apply(null,arguments):e}function K(e){return!!e.__k&&((0,r.sY)(null,e),!0)}function Z(e){return e&&(e.base||1===e.nodeType&&e)||null}var Q=function(e,t){return e(t)},X=function(e,t){return e(t)},ee=r.HY;function te(e){e()}function ne(e){return e}function re(){return[!1,te]}var ie=i.bt,oe=G;function ae(e,t){var n=t(),r=(0,i.eJ)({h:{__:n,v:t}}),o=r[0].h,a=r[1];return(0,i.bt)((function(){o.__=n,o.v=t,s(o.__,t())||a({h:o})}),[e,n,t]),(0,i.d4)((function(){return s(o.__,o.v())||a({h:o}),e((function(){s(o.__,o.v())||a({h:o})}))}),[e]),n}var se={useState:i.eJ,useId:i.Me,useReducer:i._Y,useEffect:i.d4,useLayoutEffect:i.bt,useInsertionEffect:ie,useTransition:re,useDeferredValue:ne,useSyncExternalStore:ae,startTransition:te,useRef:i.sO,useImperativeHandle:i.aP,useMemo:i.Ye,useCallback:i.I4,useContext:i.qp,useDebugValue:i.Qb,version:"17.0.2",Children:h,render:D,hydrate:j,unmountComponentAtNode:K,createPortal:O,createElement:r.az,createContext:r.kr,createFactory:Y,cloneElement:J,createRef:r.Vf,Fragment:r.HY,isValidElement:G,isElement:oe,isFragment:q,findDOMNode:Z,Component:r.wA,PureComponent:c,memo:u,forwardRef:f,flushSync:X,unstable_batchedUpdates:Q,StrictMode:ee,Suspense:m,SuspenseList:S,lazy:w,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:W}},400:function(e,t,n){"use strict";n.d(t,{HY:function(){return b},Tm:function(){return F},Vf:function(){return m},YM:function(){return i},ZB:function(){return z},az:function(){return y},bR:function(){return I},kr:function(){return W},sY:function(){return B},wA:function(){return w}});var r,i,o,a,s,c,u,l,d={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function v(e,t){for(var n in t)e[n]=t[n];return e}function _(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n){var i,o,a,s={};for(a in t)"key"==a?i=t[a]:"ref"==a?o=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return g(e,s,i,o,null)}function g(e,t,n,r,a){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++o:a};return null==a&&null!=i.vnode&&i.vnode(s),s}function m(){return{current:null}}function b(e){return e.children}function w(e,t){this.props=e,this.context=t}function S(e,t){if(null==t)return e.__?S(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?S(e):null}function E(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return E(e)}}function k(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!x.__r++||s!==i.debounceRendering)&&((s=i.debounceRendering)||c)(x)}function x(){var e,t,n,r,i,o,s,c,l;for(a.sort(u);e=a.shift();)e.__d&&(t=a.length,r=void 0,i=void 0,o=void 0,c=(s=(n=e).__v).__e,(l=n.__P)&&(r=[],i=[],(o=v({},s)).__v=s.__v+1,R(l,s,o,n.__n,void 0!==l.ownerSVGElement,null!=s.__h?[c]:null,r,null==c?S(s):c,s.__h,i),M(r,s,i),s.__e!=c&&E(s)),a.length>t&&a.sort(u));x.__r=0}function O(e,t,n,r,i,o,a,s,c,u,l){var p,v,_,y,m,w,E,k,x,O=0,I=r&&r.__k||f,N=I.length,T=N,D=t.length;for(n.__k=[],p=0;p<D;p++)null!=(y=n.__k[p]=null==(y=t[p])||"boolean"==typeof y||"function"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?g(null,y,null,null,y):h(y)?g(b,{children:y},null,null,null):y.__b>0?g(y.type,y.props,y.key,y.ref?y.ref:null,y.__v):y)?(y.__=n,y.__b=n.__b+1,-1===(k=P(y,I,E=p+O,T))?_=d:(_=I[k]||d,I[k]=void 0,T--),R(e,y,_,i,o,a,s,c,u,l),m=y.__e,(v=y.ref)&&_.ref!=v&&(_.ref&&V(_.ref,null,y),l.push(v,y.__c||m,y)),null!=m&&(null==w&&(w=m),(x=_===d||null===_.__v)?-1==k&&O--:k!==E&&(k===E+1?O++:k>E?T>D-E?O+=k-E:O--:O=k<E&&k==E-1?k-E:0),E=p+O,"function"!=typeof y.type||k===E&&_.__k!==y.__k?"function"==typeof y.type||k===E&&!x?void 0!==y.__d?(c=y.__d,y.__d=void 0):c=m.nextSibling:c=C(e,m,c):c=A(y,c,e),"function"==typeof n.type&&(n.__d=c))):(_=I[p])&&null==_.key&&_.__e&&(_.__e==c&&(c=S(_)),$(_,_,!1),I[p]=null);for(n.__e=w,p=N;p--;)null!=I[p]&&("function"==typeof n.type&&null!=I[p].__e&&I[p].__e==n.__d&&(n.__d=I[p].__e.nextSibling),$(I[p],I[p]))}function A(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t="function"==typeof r.type?A(r,t,n):C(n,r.__e,t));return t}function I(e,t){return t=t||[],null==e||"boolean"==typeof e||(h(e)?e.some((function(e){I(e,t)})):t.push(e)),t}function C(e,t,n){return null==n||n.parentNode!==e?e.insertBefore(t,null):t==n&&null!=t.parentNode||e.insertBefore(t,n),t.nextSibling}function P(e,t,n,r){var i=e.key,o=e.type,a=n-1,s=n+1,c=t[n];if(null===c||c&&i==c.key&&o===c.type)return n;if(r>(null!=c?1:0))for(;a>=0||s<t.length;){if(a>=0){if((c=t[a])&&i==c.key&&o===c.type)return a;a--}if(s<t.length){if((c=t[s])&&i==c.key&&o===c.type)return s;s++}}return-1}function N(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||p.test(t)?n:n+"px"}function T(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||N(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||N(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?j:D,o):e.removeEventListener(t,o?j:D,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function D(e){return this.l[e.type+!1](i.event?i.event(e):e)}function j(e){return this.l[e.type+!0](i.event?i.event(e):e)}function R(e,t,n,r,o,a,s,c,u,l){var d,f,p,_,y,g,m,S,E,k,x,A,I,C,P,N=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,c=t.__e=n.__e,t.__h=null,a=[c]),(d=i.__b)&&d(t);e:if("function"==typeof N)try{if(S=t.props,E=(d=N.contextType)&&r[d.__c],k=d?E?E.props.value:d.__:r,n.__c?m=(f=t.__c=n.__c).__=f.__E:("prototype"in N&&N.prototype.render?t.__c=f=new N(S,k):(t.__c=f=new w(S,k),f.constructor=N,f.render=L),E&&E.sub(f),f.props=S,f.state||(f.state={}),f.context=k,f.__n=r,p=f.__d=!0,f.__h=[],f._sb=[]),null==f.__s&&(f.__s=f.state),null!=N.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=v({},f.__s)),v(f.__s,N.getDerivedStateFromProps(S,f.__s))),_=f.props,y=f.state,f.__v=t,p)null==N.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==N.getDerivedStateFromProps&&S!==_&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(S,k),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(S,f.__s,k)||t.__v===n.__v)){for(t.__v!==n.__v&&(f.props=S,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),x=0;x<f._sb.length;x++)f.__h.push(f._sb[x]);f._sb=[],f.__h.length&&s.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(S,f.__s,k),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(_,y,g)}))}if(f.context=k,f.props=S,f.__P=e,f.__e=!1,A=i.__r,I=0,"prototype"in N&&N.prototype.render){for(f.state=f.__s,f.__d=!1,A&&A(t),d=f.render(f.props,f.state,f.context),C=0;C<f._sb.length;C++)f.__h.push(f._sb[C]);f._sb=[]}else do{f.__d=!1,A&&A(t),d=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++I<25);f.state=f.__s,null!=f.getChildContext&&(r=v(v({},r),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(g=f.getSnapshotBeforeUpdate(_,y)),O(e,h(P=null!=d&&d.type===b&&null==d.key?d.props.children:d)?P:[P],t,n,r,o,a,s,c,u,l),f.base=t.__e,t.__h=null,f.__h.length&&s.push(f),m&&(f.__E=f.__=null)}catch(e){t.__v=null,(u||null!=a)&&(t.__e=c,t.__h=!!u,a[a.indexOf(c)]=null),i.__e(e,t,n)}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=U(n.__e,t,n,r,o,a,s,u,l);(d=i.diffed)&&d(t)}function M(e,t,n){for(var r=0;r<n.length;r++)V(n[r],n[++r],n[++r]);i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function U(e,t,n,i,o,a,s,c,u){var l,f,p,v=n.props,y=t.props,g=t.type,m=0;if("svg"===g&&(o=!0),null!=a)for(;m<a.length;m++)if((l=a[m])&&"setAttribute"in l==!!g&&(g?l.localName===g:3===l.nodeType)){e=l,a[m]=null;break}if(null==e){if(null===g)return document.createTextNode(y);e=o?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,y.is&&y),a=null,c=!1}if(null===g)v===y||c&&e.data===y||(e.data=y);else{if(a=a&&r.call(e.childNodes),f=(v=n.props||d).dangerouslySetInnerHTML,p=y.dangerouslySetInnerHTML,!c){if(null!=a)for(v={},m=0;m<e.attributes.length;m++)v[e.attributes[m].name]=e.attributes[m].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(function(e,t,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in t||T(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||T(e,o,t[o],n[o],r)}(e,y,v,o,c),p)t.__k=[];else if(O(e,h(m=t.props.children)?m:[m],t,n,i,o&&"foreignObject"!==g,a,s,a?a[0]:n.__k&&S(n,0),c,u),null!=a)for(m=a.length;m--;)null!=a[m]&&_(a[m]);c||("value"in y&&void 0!==(m=y.value)&&(m!==e.value||"progress"===g&&!m||"option"===g&&m!==v.value)&&T(e,"value",m,v.value,!1),"checked"in y&&void 0!==(m=y.checked)&&m!==e.checked&&T(e,"checked",m,v.checked,!1))}return e}function V(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,n)}}function $(e,t,n){var r,o;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||V(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&$(r[o],t,n||"function"!=typeof e.type);n||null==e.__e||_(e.__e),e.__=e.__e=e.__d=void 0}function L(e,t,n){return this.constructor(e,n)}function B(e,t,n){var o,a,s,c;i.__&&i.__(e,t),a=(o="function"==typeof n)?null:n&&n.__k||t.__k,s=[],c=[],R(t,e=(!o&&n||t).__k=y(b,null,[e]),a||d,d,void 0!==t.ownerSVGElement,!o&&n?[n]:a?null:t.firstChild?r.call(t.childNodes):null,s,!o&&n?n:a?a.__e:t.firstChild,o,c),M(s,e,c)}function z(e,t){B(e,t,z)}function F(e,t,n){var i,o,a,s,c=v({},e.props);for(a in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)"key"==a?i=t[a]:"ref"==a?o=t[a]:c[a]=void 0===t[a]&&void 0!==s?s[a]:t[a];return arguments.length>2&&(c.children=arguments.length>3?r.call(arguments,2):n),g(e.type,c,i||e.key,o||e.ref,null)}function W(e,t){var n={__c:t="__cC"+l++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,k(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}r=f.slice,i={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},o=0,w.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),"function"==typeof e&&(e=e(v({},n),this.props)),e&&v(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),k(this))},w.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),k(this))},w.prototype.render=b,a=[],c="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,t){return e.__v.__b-t.__v.__b},x.__r=0,l=0},396:function(e,t,n){"use strict";n.d(t,{I4:function(){return k},Me:function(){return I},Qb:function(){return O},Ye:function(){return E},_Y:function(){return g},aP:function(){return S},bt:function(){return b},cO:function(){return A},d4:function(){return m},eJ:function(){return y},qp:function(){return x},sO:function(){return w}});var r,i,o,a,s=n(400),c=0,u=[],l=[],d=s.YM.__b,f=s.YM.__r,p=s.YM.diffed,h=s.YM.__c,v=s.YM.unmount;function _(e,t){s.YM.__h&&s.YM.__h(i,e,c||t),c=0;var n=i.__H||(i.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:l}),n.__[e]}function y(e){return c=1,g(R,e)}function g(e,t,n){var o=_(r++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):R(void 0,t),function(e){var t=o.__N?o.__N[0]:o.__[0],n=o.t(t,e);t!==n&&(o.__N=[n,o.__[1]],o.__c.setState({}))}],o.__c=i,!i.u)){var a=function(e,t,n){if(!o.__c.__H)return!0;var r=o.__c.__H.__.filter((function(e){return e.__c}));if(r.every((function(e){return!e.__N})))return!s||s.call(this,e,t,n);var i=!1;return r.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(i=!0)}})),!(!i&&o.__c.props===e)&&(!s||s.call(this,e,t,n))};i.u=!0;var s=i.shouldComponentUpdate,c=i.componentWillUpdate;i.componentWillUpdate=function(e,t,n){if(this.__e){var r=s;s=void 0,a(e,t,n),s=r}c&&c.call(this,e,t,n)},i.shouldComponentUpdate=a}return o.__N||o.__}function m(e,t){var n=_(r++,3);!s.YM.__s&&j(n.__H,t)&&(n.__=e,n.i=t,i.__H.__h.push(n))}function b(e,t){var n=_(r++,4);!s.YM.__s&&j(n.__H,t)&&(n.__=e,n.i=t,i.__h.push(n))}function w(e){return c=5,E((function(){return{current:e}}),[])}function S(e,t,n){c=6,b((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))}function E(e,t){var n=_(r++,7);return j(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function k(e,t){return c=8,E((function(){return e}),t)}function x(e){var t=i.context[e.__c],n=_(r++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(i)),t.props.value):e.__}function O(e,t){s.YM.useDebugValue&&s.YM.useDebugValue(t?t(e):e)}function A(e){var t=_(r++,10),n=y();return t.__=e,i.componentDidCatch||(i.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]}function I(){var e=_(r++,11);if(!e.__){for(var t=i.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function C(){for(var e;e=u.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(T),e.__H.__h.forEach(D),e.__H.__h=[]}catch(t){e.__H.__h=[],s.YM.__e(t,e.__v)}}s.YM.__b=function(e){i=null,d&&d(e)},s.YM.__r=function(e){f&&f(e),r=0;var t=(i=e.__c).__H;t&&(o===i?(t.__h=[],i.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=l,e.__N=e.i=void 0}))):(t.__h.forEach(T),t.__h.forEach(D),t.__h=[],r=0)),o=i},s.YM.diffed=function(e){p&&p(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==u.push(t)&&a===s.YM.requestAnimationFrame||((a=s.YM.requestAnimationFrame)||N)(C)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==l&&(e.__=e.__V),e.i=void 0,e.__V=l}))),o=i=null},s.YM.__c=function(e,t){t.some((function(e){try{e.__h.forEach(T),e.__h=e.__h.filter((function(e){return!e.__||D(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],s.YM.__e(n,e.__v)}})),h&&h(e,t)},s.YM.unmount=function(e){v&&v(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{T(e)}catch(e){t=e}})),n.__H=void 0,t&&s.YM.__e(t,n.__v))};var P="function"==typeof requestAnimationFrame;function N(e){var t,n=function(){clearTimeout(r),P&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);P&&(t=requestAnimationFrame(n))}function T(e){var t=i,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),i=t}function D(e){var t=i;e.__c=e.__(),i=t}function j(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function R(e,t){return"function"==typeof t?t(e):t}},703:function(e,t,n){"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:function(e,t,n){e.exports=n(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},921:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,m=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case _:case v:case c:return e;default:return t}}case i:return t}}}function S(e){return w(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=_,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===_},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===a||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===v||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===g||e.$$typeof===m||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},864:function(e,t,n){"use strict";e.exports=n(921)},731:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((r=n(661))&&r.__esModule?r:{default:r}).default.createContext({});t.default=i},260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(697))&&r.__esModule?r:{default:r},o=i.default.shape({trackEvent:i.default.func,getTrackingData:i.default.func});t.default=o},204:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){"undefined"!=typeof window&&Object.keys(e).length>0&&(window.dataLayer=window.dataLayer||[]).push(e)}},293:function(e,t,n){"use strict";Object.defineProperty(t,"rS",{enumerable:!0,get:function(){return i.default}});var r=o(n(496)),i=(o(n(996)),o(n(372)),o(n(592)),o(n(260)),o(n(717)));function o(e){return e&&e.__esModule?e:{default:e}}r.default},805:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r){var i=r.configurable,o=r.enumerable,a=r.value,s=r.get,c=r.initializer;if(a)return{configurable:i,enumerable:o,value:e(a)};if(s||c)return{configurable:i,enumerable:o,get:function(){if(this===t)return null;var r=c?Reflect.apply(c,this,[]):Reflect.apply(s,this,[]),a=e(r).bind(this);return Reflect.defineProperty(this,n,{configurable:i,enumerable:o,value:a}),a}};throw new Error("called makeClassMemberDecorator on unsupported descriptor")}}},592:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.default)((function(t){return function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=function(){if(n.props&&n.props.tracking&&"function"==typeof n.props.tracking.trackEvent){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a="function"==typeof e?e(n.props,n.state,i,r):e;a&&n.props.tracking.trackEvent(a)}},s=Reflect.apply(t,this,i);return Promise&&Promise.resolve(s)===s?s.then(a.bind(this)).then((function(){return s})).catch((function(e){throw a({},e),e})):(a(),s)}}))};var r,i=(r=n(805))&&r.__esModule?r:{default:r}},496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(){return 1===arguments.length?(0,r.default)(e,t).apply(void 0,arguments):(0,i.default)(e).apply(void 0,arguments)}};var r=o(n(372)),i=o(n(592));function o(e){return e&&e.__esModule?e:{default:e}}},717:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)(e,t),r=(0,i.useCallback)((function(e){var t=e.children;return i.default.createElement(o.default.Provider,{value:n},t)}),[n]);return(0,i.useDebugValue)(n.tracking.getTrackingData,(function(e){return e()})),(0,i.useMemo)((function(){return{Track:r,getTrackingData:n.tracking.getTrackingData,trackEvent:n.tracking.dispatch}}),[n,r])};var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(661)),o=s(n(731)),a=s(n(437));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}},437:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,r.useContext)(o.default).tracking,s=(0,r.useRef)(e),c=(0,r.useRef)(t);(0,r.useEffect)((function(){s.current=e,c.current=t}));var u=(0,r.useMemo)((function(){return c.current||{}}),[]),l=u.dispatch,d=void 0===l?a.default:l,f=u.dispatchOnMount,p=void 0!==f&&f,h=u.process,v=(0,r.useCallback)((function(){return n&&n.process}),[n]),_=(0,r.useCallback)((function(){var e=s.current;return("function"==typeof e?e():e)||{}}),[]),y=(0,r.useCallback)((function(){var e=n&&n.getTrackingData||_;return function(){return e===_?_():(0,i.default)(e(),_(),(c.current||{}).mergeOptions)}}),[_,n]),g=(0,r.useCallback)((function(){var e=n&&n.dispatch||d;return function(t){return e((0,i.default)(_(),t||{},(c.current||{}).mergeOptions))}}),[_,n,d]),m=(0,r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g()(e)}),[g]);return(0,r.useEffect)((function(){var e=v(),t=y();if(e&&h&&console.error("[react-tracking] options.process should be defined once on a top-level component"),"function"==typeof e&&"function"==typeof p)m((0,i.default)(e(_())||{},p(t())||{},(c.current||{}).mergeOptions));else if("function"==typeof e){var n=e(_());(n||!0===p)&&m(n)}else"function"==typeof p?m(p(t())):!0===p&&m()}),[_,v,y,m,p,h]),(0,r.useMemo)((function(){return{tracking:{dispatch:g(),getTrackingData:y(),process:v()||h}}}),[g,y,v,h])};var r=n(661),i=s(n(996)),o=s(n(731)),a=s(n(204));function s(e){return e&&e.__esModule?e:{default:e}}},372:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.forwardRef,r=void 0!==n&&n,d=_(t,u);return function(t){var n=t.displayName||t.name||"Component";function u(n){var o=n.rtFwdRef,a=_(n,l),u=(0,i.useRef)(a);(0,i.useEffect)((function(){u.current=a}));var f=(0,i.useCallback)((function(){return"function"==typeof e?e(u.current):e}),[]),p=(0,c.default)(f,d),v=(0,i.useMemo)((function(){return{trackEvent:p.tracking.dispatch,getTrackingData:p.tracking.getTrackingData}}),[p]),y=(0,i.useMemo)((function(){return r?h(h({},a),{},{ref:o}):a}),[a,o]);return i.default.createElement(s.default.Provider,{value:p},i.default.createElement(t,h(h({},y),{},{tracking:v})))}if(r){var f=i.default.forwardRef((function(e,t){return i.default.createElement(u,h(h({},e),{},{rtFwdRef:t}))}));return f.displayName="WithTracking(".concat(n,")"),(0,o.default)(f,t),f}return u.displayName="WithTracking(".concat(n,")"),u.propTypes={rtFwdRef:a.default.oneOfType([a.default.func,a.default.shape({current:a.default.any})])},u.defaultProps={rtFwdRef:void 0},(0,o.default)(u,t),u}};var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(661)),o=d(n(679)),a=d(n(697)),s=d(n(731)),c=d(n(437)),u=["forwardRef"],l=["rtFwdRef"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},250:function(e,t,n){"use strict";var r=n(661),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,u(i)&&l({inst:i})}),[e,n,t]),a((function(){return u(i)&&l({inst:i}),e((function(){u(i)&&l({inst:i})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},139:function(e,t,n){"use strict";var r=n(661),i=n(688),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=r.useRef,c=r.useEffect,u=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!c){if(c=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,c=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var p=a(e,d[0],d[1]);return c((function(){f.hasValue=!0,f.value=p}),[p]),l(p),p}},688:function(e,t,n){"use strict";e.exports=n(250)},798:function(e,t,n){"use strict";e.exports=n(139)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=n(327),t=function(e){return e.ABTestsConfigReady="ab-tests-config-ready",e.ConfigProviderReady="config-provider-ready",e.DeviceUUIDReady="device-uuid-ready",e}(t||{});const r=()=>{(0,n(666).Z)()};Boolean(window.__OW_CONFIG__?.tenant_config?.shared?.enable_concurrent_ads_flow)?(()=>{const n=[t.ConfigProviderReady,t.DeviceUUIDReady],i=[],o=Boolean(window.__OW_CONFIG__?.tenant_config?.ads?.observed_ab_test_experiment_id);let a=!1;const s=e=>{i.includes(e)||i.push(e),a||i.length!==n.length||(r(),a=!0)};o&&(n.push(t.ABTestsConfigReady),(0,e.Ld)(t.ABTestsConfigReady,(()=>{s(t.ABTestsConfigReady)}))),(0,e.Ld)(t.ConfigProviderReady,(()=>{s(t.ConfigProviderReady)})),(0,e.Ld)(t.DeviceUUIDReady,(()=>{s(t.DeviceUUIDReady)}))})():r()}()}();
//# sourceMappingURL=https://go-s3-downloader.dev-openweb.com/download/ads/tags/v22.5.4-OW-23400-8/sourcemaps/ads/ads.js.map