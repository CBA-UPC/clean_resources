(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{73057:function(e,t,n){"use strict";n.d(t,{_:function(){return l}});var r=n(21477),c=n(12891),o=n(13048),a=n(36767),i=n(13661),u=n(44047);function l(e){var t=e.pageName,n=e.message,l=e.children,s=(0,o.$G)().t,f=(0,a.aC)().signIn,p=(0,a.aF)(),d=p.isFetching,b=p.user,h=p.isSuccess;return i.isSSR||d?(0,u.tZ)("div",{className:"w-full h-full flex flex-col flex-grow items-center justify-center",children:(0,u.tZ)(c.T,{size:80})}):h&&b?(0,u.tZ)(u.HY,{children:l}):(0,u.BX)("div",{className:"w-full h-full flex flex-col flex-grow items-center justify-center",children:[(0,u.tZ)("p",{className:"mt-8 type-headline-l text-center",children:n||(0,u.tZ)(o.cC,{i18nKey:"user-login-prompt",values:{pageName:t}})}),(0,u.tZ)("button",{type:"button",className:"btn bg-primary text-button-text text-button-m my-8",onClick:"data-testid":r.Sb,children:s("Sign In")})]})}},28956:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return T},default:);var r,c=n(93313),o=n(13048),a=n(65639),i=n.n(a),u=n(99798),l=n(42584),s=n.n(l),f=n(62873),p=n(41176),d=n(12891),b=n(52983),h=n(85087),m=n(72193),y=n(36767),v=n(42921),g=n(70836),O=n(13661);n(73656);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!r||(r={}));var j=function(){var e=(0,u.Z)(s().mark((function e(t,n,r,c,o,a){var i,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=x({"Content-Type":"application/json","Accept-Language":c},(0,O.getAuthenticationHeaders)(r)),e.next=3,fetch("".concat(m.Vw,"/checkout/token/user-account"),{method:"POST",body:JSON.stringify({userId:n,ui_opts:{mode:t,theme:o||"take2",size:a},language:c}),headers:i});case 3:if((u=e.sent).ok){e.next=6;break}throw new g.V(u);case 6:return e.abrupt("return",u.json());case 7:case"end":return e.stop()}}),e)})));return (),Z=function(){var e=(0,u.Z)(s().mark((function e(){var t,n,c,o=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),c=0;c<t;c++)n[c]=o[c];return e.abrupt("return",j.apply(void 0,[r.PaymentMethods].concat(n)));case 2:case"end":return e.stop()}}),e)})));return (),k=n(44348),N=n(44047);unction _(e){var t=e.title,n=e.subtitle,r=e.buttonLabel,c=e.buttonTestId,o=e.onButtonClick,a=e.children;return(0,N.BX)(P,{children:[(0,N.BX)(f.H,{className:"type-headline-m",children:[" ",t," "]}),(0,N.BX)("span",{className:"type-body-s my-2",children:[" ",n," "]}),a,r&&(0,N.tZ)("button",{type:"button",className:"btn bg-primary text-button-text text-button-m mt-auto",onClick:o,"data-testid":c,children:r})]})}function S(e){var t=e.content,n=(0,o.$G)().t,r=(0,v.b)(),c=(0,y.aC)().getValidAccessToken,a=(0,b.useState)(""),i=a[0],l=a[1],f=(0,b.useState)(!1),g=f[0],O=f[1],w=(0,y.aF)().user,x=(0,b.useCallback)((0,u.Z)(s().mark((function e(){var t,n,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),t=r?m.U7[r]||r:"en",e.next=4,c();case 4:return n=e.sent,e.next=7,Z((null===w||void 0===w?void 0:w.userId)||"",n,t);case 7:o=e.sent,a=o.url,l(a);case 10:case"end":return e.stop()}}),e)}))),[c,r,null===w||void 0===w?void 0:w.userId]);return(0,N.BX)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,N.tZ)(_,{title:n("my-payment-information"),subtitle:n("my-payment-subinfo"),onButtonClick:x,buttonLabel:n("button-label-edit")}),(0,N.tZ)(_,{title:n("Order History"),subtitle:(0,N.tZ)(h.D,{className:"[&_a]:type-link hover:[&_a]:type-link-hover",linkTarget:"_blank",children:t})}),(0,N.tZ)(p.e,{isOpen:g,requestClose:labelClose:"Close",css:k.E,children:i?(0,N.tZ)("iframe",{className:"flex flex-col flex-grow",title:"Checkout",src:i,frameBorder:"0",allowFullScreen:!0}):(0,N.tZ)("div",{className:"flex flex-grow items-center justify-center",children:(0,N.tZ)(d.T,{})})})]})}var C=n(73057);function B(e){var t=e.supportLink,n=(0,o.$G)().t;return(0,N.tZ)("section",{className:"layout py-16",children:(0,N.tZ)("div",{className:"layout-content max-w-layout mx-auto",children:(0,N.BX)(C._,{pageName:n("my-account-inline"),children:[(0,N.tZ)(f.H,{className:"type-headline-xl pb-4 w-full mb-8 border-0 border-b border-neutral-999-20",children:n("my-account")}),(0,N.tZ)(S,{content:t.text})]})})})}r T=!0;function X(e){var t=(0,o.$G)().t;return(0,N.BX)(N.HY,{children:[(0,N.tZ)(i(),{children:(0,N.tZ)("title",{children:t("my-account")})}),(0,N.tZ)(B,D({},e))]})}},82486:,function(e){e.O(0,[774,888,179],();var t=e.O();_N_E=t}]);