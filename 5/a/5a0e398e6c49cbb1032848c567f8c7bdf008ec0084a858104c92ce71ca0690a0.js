"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[730],{44059:(e,a,n)=>{n.d(a,{Q:()=>o});var t=n(23120),r=n(20069);const i=new t.o("getTrack","query","ae85b52abb74d20a4c331d4143d4772c95f34757bfa8c625474b912b9055b5c0",null),o=(e,a)=>(0,r.a)(i,e,a)},84041:(e,a,n)=>{n.r(a),n.d(a,{default:()=>b});n(75930),n(65484),n(35174),n(96241);var t=n(50959),r=n(29132),i=n(75802),o=n(11317),l=n(85648),c=n(91643),d=n(44059),s=n(87350),u=n(20069),f=n(8570),k=n(1740),v=n(11527);const g=t.memo((function(){var e;const a=(0,i.s0)(),n=(0,i.TH)(),g=(0,t.useContext)(k.ZF),b=(0,f.g)(),{trackId:h=""}=(0,i.UO)(),{isAnonymous:p}=(0,r.v9)(s.Gg),m=new URLSearchParams(n.search).get("context")||"",U=(0,o.tn)(h).toURI(),y=(0,d.Q)({uri:U},{gcTime:30*u.y}),T=(0,t.useCallback)(((e,n)=>{var t;const r=b.getState(),i=`${null===(t=(0,o.EC)(n))||void 0===t?void 0:t.toURLPath(!0)}?highlight=${U}`;p?a(i):(r&&!r.isPaused||e>-1&&b.play({uri:n},{featureIdentifier:"track",referrerIdentifier:"deeplink"},{skipTo:{index:e}}),a(i,{replace:!0}))}),[a,p,b,U]),C=(0,t.useCallback)((()=>{var e;if(!y.loading&&null!==(e=y.data)&&void 0!==e&&e.trackUnion&&"Track"===y.data.trackUnion.__typename){var a;const e=((null===(a=y.data.trackUnion.albumOfTrack)||void 0===a||null===(a=a.tracks)||void 0===a?void 0:a.items)??[]).findIndex((e=>e.track.uri===U));var n;if(e>=0)T(e,(null===(n=y.data.trackUnion.albumOfTrack)||void 0===n?void 0:n.uri)||"")}}),[T,y,U]);return(0,t.useEffect)((()=>{const e=(0,o.nK)(m);m&&e?g.getContents(m).then((e=>{const a=e.items.findIndex((e=>(null==e?void 0:e.uri)===U));a<0?C():T(a,m)})):C()}),[m,C,T,g,U]),y.loading||y.error||"Track"!==(null===(e=y.data)||void 0===e||null===(e=e.trackUnion)||void 0===e?void 0:e.__typename)?(0,v.jsx)(c.h,{hasError:!y.loading,errorMessage:l.ag.get("track-page.error")}):null})),b=g}}]);
//# sourceMappingURL=xpui-routes-track.5dcabc84.js.map