(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{1039:function(t,e,n){"use strict";n.r(e);var a=n(972),s=n(893),i=n(527),o=n(38),c=n(655),m=n(508),r={components:{BaseSpinner:n(516).a,BaseButton:m.a,CommentWysiwyg:()=>Promise.all([n.e(165),n.e(1),n.e(2),n.e(10),n.e(62)]).then(n.bind(null,1275)),CommentWysiwygSkeleton:a.a,UserProfileAvatarLegacy:s.a,BaseRecaptcha:()=>n.e(134).then(n.bind(null,1336))},props:{comment:{type:Object,required:!0}},data:()=>({originalCommentContent:null,commentContent:null,saving:!1,editorInitTimedOut:!1}),computed:{buttonDisabled(){return!this.commentContent.content||this.originalCommentContent===this.commentContent.content},isOwn(){return this.$store.getters["comments/isOwn"](this.comment)},captcha(){return this.$store.state.comments.features.commentForm.reCaptcha}},created(){this.load()},methods:{async load(){const t=Object(o.c)(this.comment.commentId);await this.$options.components.CommentWysiwyg(),this.commentContent=await t,this.keepOriginalContent("load")},async save(){try{const t=this.captcha?await this.$refs.captcha.execute():null;await this.$store.dispatch("comments/update",{async:Object(o.l)(Object.assign({},this.commentContent,{mentions:this.$refs.wysiwyg.updateMentions(),shortcodes:this.$refs.wysiwyg.updateShortcodes(),commentId:this.comment.commentId}),t).then((t=>{let{comment:e}=t;return e})).finally(Object(c.a)(this,"saving"))}),await this.$refs.wysiwyg.clearRestore(),this.track("submit_comment","contribution"),this.$emit("saved"),this.$emit("update:edit",!1)}catch(t){this.track("submit_comment_error","engagement")}},keepOriginalContent(t){("load"===t||"init"===t&&!this.editorInitTimedOut)&&(this.originalCommentContent=this.commentContent.content)},cancel(){this.track("cancel_comment_edit_form"),this.$emit("canceled"),this.$emit("update:edit",!1)},track(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"engagement";Object(i.a)().record({category:"comment_edit_form",action:t,label:e})},onEditorReady(){this.$emit("ready"),setTimeout((()=>{this.editorInitTimedOut=!0}),100)}}},l=r,d=n(45),h=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"comments-item-inner space--h-3 space--v-3 space--fromW3-h-4 comments-item-inner--edit",attrs:{id:"comment-edit-form"}},[e("div",{staticClass:"flex boxAlign-jc--all-c"},[e("UserProfileAvatarLegacy",{staticClass:"comment-avatar flex--shrink-0",attrs:{user:t.comment.user,"avatar-class":"width--all-12 height--all-full"}}),e("div",{staticClass:"flex--grow-1"},[t.commentContent?e("CommentWysiwyg",t._b({ref:"wysiwyg",attrs:{disabled:t.saving},on:{"~update":function(e){return t.keepOriginalContent("init")},ready:t.onEditorReady},scopedSlots:t._u([{key:"action",fn:function(){return[e("BaseButton",{staticClass:"button--toW3-square space--ml-a",attrs:{variant:"tertiary",mode:"default"},on:{click:t.cancel}},[e("BaseIcon",{attrs:{name:"cross"}}),e("span",{staticClass:"hide--toW3 space--ml-2"},[t._v(t._s("Anuluj"))])],1),e("BaseButton",{staticClass:"button--toW3-square space--ml-1",attrs:{variant:"primary",mode:"brand",seal:t.saving,disabled:t.buttonDisabled},on:{click:t.save}},[t.saving?e("BaseSpinner",{staticClass:"spinner--centered"}):t._e(),e("BaseIcon",{attrs:{name:"tick"}}),e("span",{staticClass:"hide--toW3 space--ml-2"},[t._v(t._s("Aktualizuj komentarz"))])],1)]},proxy:!0}],null,!1,2325493397)},"CommentWysiwyg",t.commentContent,!1,!0)):e("CommentWysiwygSkeleton",{attrs:{loading:""}}),t.captcha?e("BaseRecaptcha",{ref:"captcha"}):t._e()],1)],1)])}),[],!1,null,null,null);e.default=h.exports}}]);ult=p.exports},241:function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return o})),i.d(e,"a",(function(){return r})),i.d(e,"e",(function(){return s})),i.d(e,"b",(function(){return l}));const n=t=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()},o=(t,e,i)=>{new IntersectionObserver(((t,i)=>{t.forEach((t=>{t.isIntersecting&&(i.unobserve(t.target),e(t.target))}))}),i).observe(t)},r=(t,e,i)=>(t.addEventListener(e,i),()=>t.removeEventListener(e,i));let a=0;function s(t){a+=t?1:-1,1===a&&document.body.classList.add("overflow--hidden"),0===a&&document.body.classList.remove("overflow--hidden")}function l(t,e){const i=document.createElement(e);for(const e of t.attributes)i.setAttributeNS(null,e.name,e.value);for(;t.firstChild;)i.appendChild(t.firstChild);return t.replaceWith(i),i}},516:function(t,e,i){"use strict";var n=i(525),o=i(522),r=i(519),a=i(517),s=i(512),l=i(520);e.a={name:"popoverMixin",components:{BasePopover:o.a,PopoverHead:r.a,PopoverBody:a.a,PopoverClose:s.a,PopoverAsync:l.a},directives:{popover:n.a}}},521:function(t,e,i){"use strict";i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return u}));var n=i(10),o=i.n(n),r=i(11),a=i.n(r);let s=function(t){return t.CROP="cp",t.RESIZE="re",t.BLUR="bl",t.FIT="fi",t.FIT_BY_SIZE="fs",t.QUALITY="qt",t.FILE_TYPE="ft",t}({}),l=function(t){return t.ANIMATED_SOURCE="as",t}({});const c={[s.CROP]:"crop",[s.RESIZE]:"resize",[s.BLUR]:"blur",[s.FIT]:"fit",[s.FIT_BY_SIZE]:"fitBySize",[s.QUALITY]:"quality",[s.FILE_TYPE]:"fileType"};let d=function(){function t(e,i){if(o()(this,t),e){if("object"==typeof e){const{path:t,name:n}=e;if(!t||!n)throw Error("Invalid picsy image object");const o=e.animated?"".concat(l.ANIMATED_SOURCE,"/"):"",{name:r=n,ext:a="jpg"}=i||{},s=e.ext||a;this.path="".concat("https://static.chollometro.com","/").concat(t,"/").concat(n,"/").concat(o),this.file="".concat(r,".").concat(s)}else{if("string"!=typeof e)throw Error("Expected picsy image path, but received: ".concat(e));if("string"!=typeof i)throw Error("Expected picsy image file name, but received: ".concat(i));this.path=e,this.file=i}Object.freeze(this)}}return a()(t,[{key:"blur",value:function(t){return t>0&&t<=100?this.addOperation(s.BLUR,t):this}},{key:"quality",value:function(t){return t>=0&&t<=100?this.addOperation(s.QUALITY,t):this}},{key:"resize",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.dimOperation(s.RESIZE,...e)}},{key:"fit",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.dimOperation(s.FIT,...e)}},{key:"fitBySize",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.dimOperation(s.FIT_BY_SIZE,...e)}},{key:"crop",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.dimOperation(s.CROP,...e)}},{key:"fileType",value:function(e){if(!e||!this.file)return this;const i="".concat(this.file.substr(0,this.file.lastIndexOf(".")),".").concat(e);return new t(this.path,i)}},{key:"toString",value:function(){return this.path?this.path+this.file:""}},{key:"apply",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((t,e)=>{let[i,...n]=e;const o=c[i];return o?t[o](...n):t}),this)}},{key:"dimOperation",value:function(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=Math.round(e)||"",r=Math.round(i)||"";return o||r?this.addOperation(t,"".concat(o).concat(r?"x"+r:"").concat(n?"w":"")):this}},{key:"addOperation",value:function(e,i){return this.path?new t("".concat(this.path).concat(e,"/").concat(i,"/"),this.file):this}}]),t}();const u=t=>{const e=[s.CROP,s.RESIZE,s.FIT,s.FIT_BY_SIZE];for(const[i,n,o]of t)if(e.includes(i))return{width:n,height:o};return{width:0,height:0}}},525:function(t,e,i){"use strict";var n=i(32),o=i.n(n),r=i(241),a=i(533);const s=["focus","hover","click","fixed"],l=!0;function c(t,e,i){const{arg:n,modifiers:{focus:a,hover:c,click:p=!a&&!c,fixed:h},value:m}=e,f=o()(e.modifiers,s),g=!Array.isArray(m),v=e=>{if(g&&null!=m&&m.disabled)return;const o=(g?null==m?void 0:m.layouts:m)||Object.keys(f).map((t=>({preset:t,fixed:h})));if(!(l||null!=o&&o.length))throw Error("Missing layout for v-popover");return d(t,i.context,n).activate(o,{type:e.type,target:e.currentTarget})},b=[];if(p&&b.push(Object(r.a)(t,"click",v)),a&&b.push(Object(r.a)(t,"focus",v)),c&&b.push(Object(r.a)(t,"mouseenter",v)),!l&&p&&a)throw Error("Invalid v-popover event modifiers: there should be no reason to combine click & focus");u.set(t,b)}const d=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null===i){const e=t.querySelector(".popover-origin");if(!l&&!e&&!n)throw Error("Couldn't find nested popover inside v-popover trigger");return null==e?void 0:e.__vue__}let o=e.$refs[i];if(Array.isArray(o)&&(o=o[0]),!l&&!o&&!n)throw Error("Invalid v-popover name: ".concat(i,", please verify ref"));for(;o&&o.$options.name!==a.a.name;)o=o.$children[0];if(!l&&!o&&!n)throw Error("Component linked via v-popover is not a popover: ".concat(i));return o},u=new WeakMap;e.a={bind:c,update:function(t,e,i){const{arg:n,value:o,oldValue:r}=e,a=Array.isArray(o)?o:null==o?void 0:o.layouts;if(a===(Array.isArray(r)?r:null==r?void 0:r.layouts))return;u.get(t).forEach((t=>t())),c(t,e,i);const s=d(t,i.context,n);s.active&&s.currentActivation.trigger.target===t&&s.updateLayouts(a)},unbind:function(t,e,i){let{arg:n}=e;u.get(t).forEach((t=>t()));const o=d(t,i.context,n,!0);o&&o.active&&o.currentActivation.trigger.target===t&&o.close()}}},533:function(t,e,i){"use strict";var n=i(525);i.d(e,"e",(function(){return n.a}));var o=i(522);i.d(e,"a",(function(){return o.a}));var r=i(519);i.d(e,"d",(function(){return r.a}));var a=i(517);i.d(e,"b",(function(){return a.a}));i(524);var s=i(512);i.d(e,"c",(function(){return s.a}));i(520)},564:function(t,e,i){"use strict";i.d(e,"o",(function(){return d})),i.d(e,"p",(function(){return u})),i.d(e,"a",(function(){return p})),i.d(e,"b",(function(){return h})),i.d(e,"d",(function(){return m})),i.d(e,"f",(function(){return f})),i.d(e,"g",(function(){return g})),i.d(e,"i",(function(){return v})),i.d(e,"c",(function(){return b})),i.d(e,"j",(function(){return y})),i.d(e,"k",(function(){return k})),i.d(e,"n",(function(){return w})),i.d(e,"l",(function(){return x})),i.d(e,"m",(function(){return j})),i.d(e,"h",(function(){return O})),i.d(e,"e",(function(){return $}));var n=i(642),o=i(1),r=i(6);const a={startWithProtocol:["^","(?:(?:(?:https?):)?\\/\\/)"],makeProtocolOptional:["?"],continue:["(?:\\S+(?::\\S*)?@)?","(?:","(?!(?:10|127)(?:\\.\\d{1,3}){3})","(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})","(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})","(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])","(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}","(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))","|","(?:","(?:","[a-z0-9\\p{L}]","[a-z0-9\\p{L}-]{0,62}",")?","[a-z0-9\\p{L}]\\.",")+","(?:[a-z\\p{L}]{2,}\\.?)",")","(?::\\d{2,5})?","(?:[/?#]\\S*)?","$"]};var s=i(5),l=i(579);const c=function(t,e,i,o){let a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"value";return n.b.withParams({type:e,validationData:{},field:t},(async e=>{if(a&&Object(n.d)(e))return!0;const l={remote:!0,messages:[],valid:!0};try{var c;l._data=await Object(r.b)({req:i,params:{field:t,[s]:e,validations:o}}).request,l.messages=null!==(c=l._data.validation)&&void 0!==c?c:[],l.valid=0===l.messages.length}catch(t){l.messages=t.validation,l.valid=!1}return l}))},d=function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return c(t,"validRemoteField",o.md,i,e)},u=t=>n.b.withParams({type:"validRemoteFields",validationData:{},fields:t},(async()=>{const e={remote:!0,multiple:!0,messages:[],valid:!0};try{var i;e._data=await Object(r.b)({req:o.nd,params:{fields:t}}).request,e.messages=null!==(i=e._data.validation)&&void 0!==i?i:[],e.valid=0===e.messages.length}catch(t){e.messages=t.validation,e.valid=!1}return e})),p=(t,e,i)=>n.b.withParams({type:"betweenNumeric",validationData:Object.assign({min:t,max:e},i)},(i=>Object(n.a)(i)||i>=t&&i<=e)),h=(t,e,i)=>n.b.withParams({type:"betweenString",validationData:Object.assign({min:t,max:e},i)},(i=>Object(n.d)(i)||"string"==typeof i&&i.length>=t&&i.length<=e)),m=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n.b.withParams({type:"maxArray",validationData:Object.assign({max:t},e)},(e=>{const o=i?e.filter(i):e;return Object(n.c)(o)||Array.isArray(o)&&o.length<=t}))},f=(t,e)=>n.b.withParams({type:"maxString",validationData:Object.assign({max:t},e)},(e=>Object(n.d)(e)||"string"==typeof e&&e.length<=t)),g=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n.b.withParams({type:"minArray",validationData:Object.assign({min:t},e)},(e=>{const o=i?e.filter(i):e;return Object(n.c)(o)||Array.isArray(o)&&o.length>=t}))},v=(t,e)=>n.b.withParams({type:"minNumeric",validationData:Object.assign({min:t},e)},(e=>Object(n.a)(e)||"number"==typeof e&&e>=Object(s.unref)(t))),b=t=>n.b.withParams({type:"localNumeric",validationData:Object.assign({},t)},(t=>Object(n.a)(t)||/^[0-9,. ]+$/.test(t))),y=t=>n.b.withParams({type:"required",validationData:Object.assign({},t)},n.b.req),k=(t,e)=>n.b.withParams({type:"required",validationData:Object.assign({},e)},(e=>{let i=!1;if("function"==typeof t)i=t.call(void 0,e);else{const e=Object(s.unref)(t);i=e&&0!==e}return!i||n.b.req(e)})),w=(t,e)=>n.b.withParams({type:"url",validationData:Object.assign({},e)},(e=>Object(n.d)(e)||"string"==typeof e&&function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new RegExp(a.startWithProtocol.concat(t?a.makeProtocolOptional:[]).concat(a.continue).join(""),"iu")}(t).test(e))),x=t=>n.b.withParams({type:"sameOriginUrl",validationData:Object.assign({},t)},(t=>Object(n.d)(t)||"string"==typeof t&&new URL(t).origin===window.location.origin)),j=(t,e)=>n.b.withParams({type:"treeSelectRequiredWith",validationData:Object.assign({},e)},(e=>{const i=Object(l.a)(e);return!Object(s.unref)(t)||i.length>0})),O=(t,e)=>n.b.withParams({type:"minDatetime",validationData:Object.assign({minDate:t},e)},(e=>{var i;const o=null===(i=Object(s.unref)(t))||void 0===i?void 0:i.timestamp;return Object(n.a)(e.timestamp)||Object(n.a)(o)||e.timestamp>=o})),$=(t,e)=>n.b.withParams({type:"maxDatetime",validationData:Object.assign({maxDate:t},e)},(e=>{var i;const o=null===(i=Object(s.unref)(t))||void 0===i?void 0:i.timestamp;return Object(n.a)(e.timestamp)||e.timestamp<=o}))},566:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"d",(function(){return a})),i.d(e,"a",(function(){return s})),i.d(e,"c",(function(){return l}));var n=i(680),o=i.n(n);const r=t=>t.files&&t.files.length?o()(t.files):null,a=6144,s=t=>t.size>6291456,l=t=>{const e=new Image;return new Promise(((i,n)=>{e.addEventListener("load",(()=>{i({width:e.naturalWidth,height:e.naturalHeight})})),e.addEventListener("error",n),e.src=t}))}},569:function(t,e,i){"use strict";var n=i(5),o=i(16);n.default.directive("click-outside",{bind(t,e,i){const n=i.context,{handler:r,isActive:a}=function(t){const e="function"==typeof t;if(!e&&"object"!=typeof t)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:e?t:t.handler,isActive:!(!1===t.isActive)}}(e.value);a&&(t.clickOutsideEvent=function(e){Object(o.b)(t,e.target)&&r.call(n,e)},document.body.addEventListener("mousedown",t.clickOutsideEvent))},unbind(t){document.body.removeEventListener("mousedown",t.clickOutsideEvent)}})},577:function(t,e,i){"use strict";i.d(e,"i",(function(){return u})),i.d(e,"g",(function(){return p})),i.d(e,"f",(function(){return h})),i.d(e,"e",(function(){return m})),i.d(e,"c",(function(){return f})),i.d(e,"d",(function(){return g})),i.d(e,"a",(function(){return v})),i.d(e,"h",(function(){return b})),i.d(e,"b",(function(){return y}));var n,o=i(134),r=i.n(o),a=i(8),s=i.n(a),l=i(20),c=i(6),d=i(1);const u={getSuggestions:"/search/users",getProfile:(t,e)=>Object(l.b)(n||(n=r()(["/profile/","/","?"])),t,e),profileRedirect:"/profile/prg",postSocialTerms:t=>"user/social/provider/".concat(t,"/terms")},p=(t,e,i)=>s.a.post(u.postSocialTerms(t),{username:i,termsConditionsAndPrivacy:e?"on":"off"}),h=t=>Object(c.a)({req:d.kd,params:{id:t}}).then((t=>{let{user:e}=t;return(null==e?void 0:e.lastAddress)||null})),m=()=>Object(c.a)({req:d.oc}).then((t=>t.infractions)),f=(t,e)=>Object(c.a)({req:d.nc,params:{typeId:t,placeholder:e}}).then((t=>t.infraction)),g=t=>Object(c.a)({req:d.jd,params:{id:t}}).then((t=>t.user.infractions.points.active)),v=t=>Object(c.a)({req:d.mc,params:{infraction:t}}),b=()=>Object(c.a)({req:d.Oc}).then((t=>t.resentEmailConfirmationToCurrentUser.result)),y=(t,e)=>Object(c.a)({req:d.fc,params:{userId:t,follow:e}}).then((t=>{let{followUser:e}=t;return e.follow}))},579:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const n=t=>{const e=[];return function t(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!i)return;if(i.checked)return void e.push(i.id);if(!i.items)return;i.items.map(t)}(t),e}},589:function(t,e,i){"use strict";i.d(e,"b",(function(){return y})),i.d(e,"a",(function(){return k}));var n=i(32),o=i.n(n),r=i(10),a=i.n(r),s=i(11),l=i.n(s),c=i(5);i(667);const d=(t,e)=>{const i=Object.assign({},e.validationData,{attribute:e.attribute});return t.replace(/:(\w+)/gi,(t=>i[t.substring(1)]||""))},u=(t,e)=>{const{translation:i}=e.validationData;return d(i||h[t]||m[t],e)},p="La fecha y la hora son obligatorias o el formato es incorrecto.",h={},m={accepted:"El :attribute debe ser aceptado.",alpha:"El :attribute debe ser solo letras.",alphaDash:"La :attribute puede tener solo letras, números y guiones.",alphaNum:"El :attribute puede tener solo letras y números.",array:"El :attribute debe ser un array.",betweenArray:"Debe ser entre :min y :max items.",betweenNumeric:"Debe ser entre :min y :max.",betweenString:"Debe tener entre :min y :max caracteres.",different:"The :attribute and :other must be different.",digits:"The :attribute must be :digits digits.",digitsBetween:"The :attribute must be between :min and :max digits.",email:"Por favor escribe una dirección de correo válida.",inArray:"El :attribute seleccionado no es válido.",integer:"El :attribute debe ser un entero.",maxArray:"La :attribute no puede tener más de :max artículos.",maxNumeric:"La :attribute no puede ser mayor a :max.",maxString:"No se permiten más de :max caracteres. (Si tiene menos, prueba a subir la/s imagen/es de otra forma)",maxFile:"La :attribute no puede ser mayor a :max kilobytes.",minArray:"El :attribute debe tener por lo menos :min artículos.",minNumeric:"El :attribute debe ser al menos :min.",minString:"El :attribute debe ser al menos :min characters.",notInArray:"El :attribute seleccionado no es válido.",numeric:"El :attribute debe ser un número.",localNumeric:"Este campo sólo puede incluir dígitos, comas y puntos.",regex:"El formato :attribute no es válido.",required:"Hay un error. Por favor verifica los campos obligatorios.",same:"El :attribute y :other deben coincidir.",sizeArray:"El :attribute debe contener :size artículos.",sizeNumeric:"The :attribute debe ser al menos :size.",sizeString:"El :attribute debe ser al menos :size caracteres.",url:"El formato del :attribute es inválido.",sameOriginUrl:"El enlace que proporciones tiene que pertenecer a Chollometro.",minDatetime:p,maxDatetime:p},f=["valid","remote","multiple","messages"],g=t=>t.reduce(((t,e)=>[...t,...e.translations.map((t=>{let{body:e}=t;return{text:e}}))]),[]),v=(t,e)=>e.reduce(((t,e)=>{const i=t[e.path]||[];return t[e.path]=[...i,...e.translations.map((t=>{let{body:e}=t;return{text:e}}))],t}),t);let b=function(){function t(e){a()(this,t),this._validators={},this.error={},this.anyError=!1,this.messages={},this.check=this.check.bind(this),this.clear=this.clear.bind(this),this.invalid=this.invalid.bind(this),this.validate=this.validate.bind(this),this.resolve={},this.setup(e)}return l()(t,[{key:"setup",value:function(t){Object.keys(this._validators).forEach((e=>{e in t||(delete this._validators[e],delete this.error[e],delete this.messages[e])}));for(const[e,i]of Object.entries(t))this.set(e,i),e in this.messages||this.clear(e);this.check()}},{key:"destroy",value:function(){this.resolve={}}},{key:"errors",value:function(t){return this.messages[t]||[]}},{key:"invalid",value:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?this.error[t]:Object.keys(this.messages).some(this.invalid)}},{key:"clear",value:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t)return c.default.set(this.error,t,!1),void c.default.set(this.messages,t,[]);Object.keys(this.messages).map(this.clear)}},{key:"add",value:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._validators[t]=e.reduce(((e,i)=>(e.indexOf(i)<0&&(e.push(i),this.clear(t)),e)),this._validators[t]||[])}},{key:"set",value:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._validators[t]=e}},{key:"check",value:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?this.error[t]=!!this.errors(t).length:this.anyError=!!Object.keys(this.messages).filter(this.check).length}},{key:"resolvePending",value:function(t){var e,i;null===(e=(i=this.resolve)[t])||void 0===e||e.call(i),delete this.resolve[t]}},{key:"hasValidator",value:function(t){return t in this._validators}},{key:"setMessages",value:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.hasValidator(t)&&(this.messages[t].splice(0,this.messages[t].length,...e),this.check())}},{key:"validate",value:async function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(var n=arguments.length,r=new Array(n>3?n-3:0),a=3;a<n;a++)r[a-3]=arguments[a];this.clear(t),this.hasValidator(t)&&(this.resolvePending(t),await new Promise((async n=>{this.resolve[t]=n;for(const n of this._validators[t]){let a=await n(e,...r),{valid:s,remote:l,multiple:c,messages:p}=a,h=o()(a,f);if(!s){if(Array.isArray(p))l&&c?this.messages=v(this.messages,p):(p=l?g(p):p.map((t=>({text:t}))),this.messages[t].push(...p));else{const e=Object.assign({attribute:t},h);this.messages[t].push({text:i?d(i,e):u(h.type,e)})}break}}this.resolvePending(t)})),this.check(t))}}]),t}();const y={data(){return this.$options.validations&&c.default.util.defineReactive(this,"_validate",null),{}},beforeCreate(){const t=this.$options,e=t.validations;e&&(t.computed||(t.computed={}),t.computed.$validators||(t.computed.$validators="function"==typeof e?e:function(){return e},t.computed.$v||(t.computed.$v=function(){return null===this._validate&&(this._validate=new b("function"==typeof e?e.call(this):e),this.$once("hook:beforeDestroy",this.$watch("$validators",(t=>{this._validate.setup(t)})))),this._validate?this._validate:null})))},beforeDestroy(){this._validate&&(this._validate.destroy(),this._validate=null)},provide(){return{$v:this.$v}}},k=t=>{if(!t)return;const e=Object(c.ref)(new b(t));return Object(c.provide)("$v",e.value),Object(c.onBeforeUnmount)((()=>{e.value.destroy(),e.value=null})),e}},597:function(t,e,i){"use strict";i.d(e,"b",(function(){return n}));const n=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=[];return{params:Object.keys(t).reduce(((i,n)=>(e.push(n),i[n]=JSON.stringify(t[n]),i)),{}),handlers:e.join(" ")}};e.a=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{computed:{$d(){return n(Object.assign({},t,this.$directives||{}))}}}}},610:function(t,e,i){"use strict";e.a=window.RedactorPlugins||(window.RedactorPlugins={})},628:function(t,e,i){},631:function(t,e,i){"use strict";var n=i(597),o=i(71),r={name:"WysiwygButton",components:{BaseButton:i(507).a},mixins:[Object(n.a)(),Object(o.a)({button:{any:!0,smAndDown:!0,mdAndDown:!0,lgAndDown:!0},text:{any:!0,smAndDown:!0,mdAndDown:!0,lgAndDown:!0}})],props:{action:{type:Object,default:()=>({})},target:{type:String,required:!0}},computed:{$directives(){return{"wysiwyg-button":Object.assign({},this.action,{target:this.target}),"popover-close":null}}}},a=i(44),s=Object(a.a)(r,(function(){var t=this,e=t._self._c;return e("BaseButton",{class:["space--mr-1",`button--${t.action.key}`],attrs:{variant:"tag",mode:"light",square:"",title:t.action.title,"data-handler":t.$d.handlers,"data-wysiwyg-button":t.$d.params["wysiwyg-button"]}},[e("BaseIcon",{attrs:{name:t.action.icon}})],1)}),[],!1,null,null,null);e.a=s.exports},642:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return o})),i.d(e,"d",(function(){return r})),i.d(e,"c",(function(){return a}));i(315);const n={req:t=>{if(Array.isArray(t))return!!t.length;if(null==t)return!1;if(!1===t)return!0;if(t instanceof Date)return!isNaN(t.getTime());if("object"==typeof t){for(let e in t)return!0;return!1}return!!String(t).length},withParams:(t,e)=>async function(){const i=await e(...arguments);return"object"==typeof i?t=Object.assign({},t,i):t.valid=i,t}},o=t=>null==t||""===t,r=t=>o(t)||""===t,a=t=>o(t)||Array.isArray(t)&&0===t.length},653:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i(14);e.b={created(){this.markForRestore=this.markForRestore.bind(this),this.undoRestore=this.undoRestore.bind(this),this.clearRestore=this.clearRestore.bind(this),this.restoreStorage=new n.a("redactor-restore")},data:()=>({restoredContent:"",initialContent:"",restoreId:""}),watch:{restoredContent(t){this.$emit("canRestore",Boolean(t))}},methods:{restoreConfig(){return{markForRestore:this.markForRestore}},markForRestore(t){let{restoreId:e,restoredContent:i,initialContent:n}=t;this.restoreId=e,this.restoredContent=i||"",this.initialContent=n||""},undoRestore(){this.$editor.code.set(this.initialContent,!0),this.clearRestore()},clearRestore(){this.restoreStorage.del(this.restoreId),this.restoredContent=""}}};const o=t=>{new n.a("redactor-restore").del(t)}},673:function(t,e,i){"use strict";var n=i(677),o=i.n(n);const r={angel:"Ángel",annoyed:"Molesto",blank:"Sin palabras",cheeky:"Atrevido",confused:"Confundido",cool:"Cool",creep:"Creep",cry:"Llorando",devil:"Diablito",embarrassed:"Apenado",excited:"Emocionado",fierce:"Feroz",flirt:"Coqueteo",football:"Fútbol",happy:"Feliz",highfive:"Chócala",horror:"Horror",kitty:"Gatito",laugh:"Risa",lipstick:"Barra de labios",lol:"Muerto de risa",love:"Amor",lucha:"Luchador",mad:"Enojado",nerd:"Nerd",ninja:"Ninja",nutella:"Nutella",onion:"Cebolla",party:"Fiesta",pirate:"Pirata",police:"Polecía",poo:"Popó",popcorn:"Palomitas",rainbow:"Arcoíris",relieved:"Fiu",sad:"Triste",shock:"Shock",sir:"Sir",skeptical:"Escéptico",smiley:"Sonriente",strong:"Mujer fuerte",superfunny:"Muerto de risa",thumb:"Bien",tongue:"Lengua",unicorn:"Unicornio",wink:"Ojo cerrado",woot:"Sorprendido",worldcup:"Copa del mundo",worried:"Preocupado",zombie:"Zombie"};e.a=Object.freeze(Object.keys(o.a).map((t=>Object.assign({name:t,label:r[t]},o.a[t]))))},677:function(t,e,i){t.exports=i(678)},678:function(t,e,i){const n=i(679);t.exports=Object.assign(n,{excited:{text:"(excited)",availableIn:["emoticon-popover"],order:15},flirt:{text:"(flirt)",availableIn:["emoticon-popover"],order:27},football:{text:"(football)",availableIn:[],order:47},lipstick:{text:"(lipstick)",availableIn:["emoticon-popover"],order:45},strong:{text:"(strong)",availableIn:["emoticon-popover"],order:44},unicorn:{text:"(unicorn)",availableIn:["emoticon-popover"],order:25},worldcup:{text:"(worldcup)",availableIn:[],order:46}})},679:function(t,e){t.exports={angel:{text:"(angel)",availableIn:["emoticon-popover"],order:10},annoyed:{text:"(annoyed)",availableIn:["emoticon-popover"],order:31},blank:{text:":|",availableIn:["emoticon-popover"],order:28},cheeky:{text:"(cheeky)",availableIn:["emoticon-popover"],order:12},confused:{text:"(confused)",availableIn:["emoticon-popover"],order:29},cool:{text:"8)",availableIn:["emoticon-popover"],order:19},cry:{text:";(",availableIn:["emoticon-popover"],order:38},devil:{text:"(devil)",availableIn:["emoticon-popover"],order:42},embarrassed:{text:"(embarrassed)",availableIn:["emoticon-popover"],order:13},fierce:{text:"(fierce)",availableIn:["emoticon-popover"],order:34},happy:{text:":D",availableIn:["emoticon-popover"],order:3},highfive:{text:"(highfive)",availableIn:["emoticon-popover"],order:18},horror:{text:"(horror)",availableIn:["emoticon-popover"],order:36},kitty:{text:":3",availableIn:["emoticon-popover"],order:43},laugh:{text:"XD",availableIn:["emoticon-popover"],order:5},lol:{text:"(lol)",availableIn:["emoticon-popover"],order:6},love:{text:"<3",availableIn:["emoticon-popover"],order:14},mad:{text:"(mad)",availableIn:["emoticon-popover"],order:33},nerd:{text:"(nerd)",availableIn:["emoticon-popover"],order:21},ninja:{text:"(ninja)",availableIn:["emoticon-popover"],order:22},party:{text:"(party)",availableIn:["emoticon-popover"],order:16},pirate:{text:"(pirate)",availableIn:["emoticon-popover"],order:24},poo:{text:"(poo)",availableIn:["emoticon-popover"],order:41},popcorn:{text:"(popcorn)",availableIn:["emoticon-popover"],order:7},relieved:{text:"(:I",availableIn:["emoticon-popover"],order:9},sad:{text:":(",availableIn:["emoticon-popover"],order:32},shock:{text:"(shock)",availableIn:["emoticon-popover"],order:35},sir:{text:":{",availableIn:["emoticon-popover"],order:20},skeptical:{text:"(skeptical)",availableIn:["emoticon-popover"],order:30},smiley:{text:":)",availableIn:["emoticon-popover"],order:1},thumb:{text:"(y)",availableIn:["emoticon-popover"],order:2},tongue:{text:":p",availableIn:["emoticon-popover"],order:17},wink:{text:";)",availableIn:["emoticon-popover"],order:11},woot:{text:":o",availableIn:["emoticon-popover"],order:39},worried:{text:":S",availableIn:["emoticon-popover"],order:37},zombie:{text:"(zombie)",availableIn:["emoticon-popover"],order:47}}},698:function(t,e,i){"use strict";i(628)},699:function(t,e,i){"use strict";e.a={methods:{preserveSelection(){const t=this.$editor;t&&!t.isSelectionStored&&(t.selection.save(),t.isSelectionStored=!0,t.$editor.one("focusin",(()=>{t.selection.restore(),t.isSelectionStored=!1})))}}}},700:function(t,e,i){"use strict";var n=i(0),o=i.n(n),r=i(106);e.a={created(){this.registerHandler("link","handleLink"),this.registerWriter("updateLink","updateLink"),this.registerWriter("removeLink","removeLink")},methods:{captureLinkSelection(){if(!this.$editor)return{href:"",content:""};const t=this.$editor.utils.isCurrentOrParent("A"),e=t?t.href:"",i=t?t.innerHTML:this.$editor.selection.getHtml()||this.$editor.selection.getCurrent().innerHTML;return{href:e,content:i?Object(r.c)(i):""}},handleLink(t){if(!this.pluginEnabled("link"))return;const{href:e,content:i}=t;void 0!==e&&(this.plugins.link.href=e),void 0!==i&&(this.plugins.link.content=i)},updateLink(t){let{href:e,content:i}=t;if(!this.$editor)return;this.$editor.$editor.focus(),i||(i=this.$editor.selection.getHtml()||this.$editor.selection.getCurrent().innerHTML||e);let n=this.$editor.utils.isCurrentOrParent("A");this.$editor.buffer.set(),n||(n=this.$editor.insert.node(document.createElement("a"))),n&&(n.href=/^https?:\/\//.test(e)?e:"https://"+e,n.innerHTML=i,n.target="_blank"),this.$editor.code.sync()},updateLinkSelection(){"link"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)&&this.handleLink(this.captureLinkSelection())},removeLink(){if(!this.$editor)return;this.$editor.$editor.focus();const t=this.$editor.utils.isCurrentOrParent("A");t&&(this.$editor.buffer.set(),o()(t).replaceWith(o()(t).contents()),this.$editor.code.sync())}}}},701:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"==typeof t.vue)return t.vue(e)}},702:function(t,e,i){"use strict";var n=i(10),o=i.n(n),r=i(11),a=i.n(r),s=i(0),l=i.n(s),c=i(610),d=i(106),u=i(52);const p={};c.a.shortcode=function(){return{instance:null,init:function(){this.shortcode.instance=new p.Shortcode(this)}}},p.Shortcode=function(){function t(e){o()(this,t);const i=this;let n;i.redactor=e,i.namespace=e.opts.shortcodeNamespace,"function"==typeof e.opts.markForShortcodes?e.opts.markForShortcodes(i.updateForm.bind(i)):(i.$form=l()(e.$element[0].form),i.$form.on("submit",i.updateForm.bind(i))),n=i.readForm(),i.types={},e.replacer.add({regexp:/\[shortcode id="([^"]+)"\/]/g,replacer:function(t,e,o,r){return i.html(n[r])}}),e.code.syncTransformers.push((function(t){return t.find("[data-embed]").each((function(){const t=l()(this);t.replaceWith(i.marker(t.data("embed")))})),t})),e.$editor.on("click","[data-embed]",(function(){const t=l()(this),n=i.data(t),o=i.getType(n);o.onClick&&o.onClick(n,t,e)}))}return a()(t,[{key:"readForm",value:function(){return this.redactor.opts.formatShortcodes?this.redactor.opts.formatShortcodes():this.$form.find('input[name^="'+this.namespace+'["]').get().reduce((function(t,e){return u.a.inputToJson(e.name,e.value,t)}),{})[this.namespace]||{}}},{key:"updateForm",value:function(){const t=this.embeds().get().map((function(t){return this.data(l()(t))}),this);if(this.redactor.opts.vue)return t;this.$form.find('input[name^="'+this.namespace+'["]').remove(),t.length&&this.$form.append(t.reduce(function(t,e){return t.concat(u.a.jsonToInputs(e,[],this.namespace+"["+e.id+"]"))}.bind(this),[]))}},{key:"registerType",value:function(t){this.types[t.name]=t}},{key:"getType",value:function(t){return t&&this.types[t.type]||null}},{key:"add",value:function(t){return t.id="new".concat(Date.now()),l()(this.redactor.insert.node(l()(this.html(t))))}},{key:"set",value:function(t){this.embed(t.id).replaceWith(this.html(t)),this.redactor.replacer.format("shortcode"),this.redactor.code.sync()}},{key:"del",value:function(t){this.embed(t).remove(),this.redactor.code.sync()}},{key:"marker",value:function(t){return'[shortcode id="'+t+'"/]'}},{key:"html",value:function(t){const e=this.getType(t);return e?e.html(this.redactor,l.a.extend({attr:' data-embed="'+t.id+'" data-embed-obj="'+d.a.escapeHtml(JSON.stringify(t))+'" contenteditable="false"'},t)):""}},{key:"embed",value:function(t){return this.redactor.$editor.find('[data-embed="'+t+'"]')}},{key:"embeds",value:function(){return this.redactor.$editor.find("[data-embed]")}},{key:"data",value:function(t){return t.data("embed-obj")}}]),t}(),p.find=function(t){const e=l()('[data-embed="'+t+'"]').closest(".redactor").find("textarea").data("redactor");return e?e.shortcode.instance:null},p.isChild=function(t){return Boolean(l()(t).closest("[data-embed]").length)},e.a=p},704:function(t,e,i){"use strict";var n=i(673),o={props:{filter:{type:String,default:"emoticon-popover"},mode:{type:String,default:"default"}},data:()=>({emojis:n.a,selected:null}),computed:{availableEmojis(){return this.emojis.filter((t=>t.availableIn.includes(this.filter))).sort(((t,e)=>t.order-e.order))}},methods:{emojiType:t=>"emoji--type-".concat(t.name),preview(t){this.selected=t,this.$emit("preview",{emoji:"&nbsp;".concat(t.text,"&nbsp;")})},insert(t,e){e.stopImmediatePropagation(),e.preventDefault(),this.$emit("insert",{emoji:"&nbsp;".concat(t.text,"&nbsp;"),event:e})}}},r=(i(698),i(44)),a=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("ul",{staticClass:"emojiSelector-list cGrid boxAlign-jc--all-sb"},t._l(t.availableEmojis,(function(i){return e("li",{key:i.name,staticClass:"box--all-i hAlign--all-c"},[e("button",{staticClass:"button button--emoji button--shape-circle button--square space--h-1 space--v-1",class:{"button--selected":i===t.selected},attrs:{type:"button",title:i.text},on:{mouseenter:function(e){return t.preview(i)},touchstart:function(e){return t.insert(i,e)},click:function(e){return t.insert(i,e)}}},[e("span",{class:["emoji",t.emojiType(i)]})])])})),0)])}),[],!1,null,null,null);e.a=a.exports},705:function(t,e,i){"use strict";var n=i(564),o=i(509),r=i(589),a={components:{BaseButton:i(507).a,FormList:o.l,FormRow:o.o,FormLabel:o.k,FormMessageList:o.m,FormContent:o.c,FormInput:o.e},mixins:[r.b],model:{event:"update",prop:"link"},props:{id:{type:String,default:"insertLink"},link:{type:Object,default:()=>({href:"",content:""})},i18n:{type:Object,default:()=>({insertButtonText:"Insertar",updateButtonText:"Actualizar",unlinkButtonText:"Quitar",urlLabel:"URL",contentLabel:"Texto"})},mode:{type:String,default:"default"}},data(){return{linkUrl:this.link.href,formName:this.id,updating:!!this.link.href}},computed:{buttonDisabled(){return!this.linkUrl.length}},watch:{"$v.$invalid"(t){this.$emit("invalid",t)}},validations:{href:[Object(n.j)(),Object(n.n)()]},methods:{setLinkUrl(t){this.linkUrl=t},remove(t){this.$emit("remove",{event:t})},insert(t){this.$v.$invalid||this.$emit("insert",{link:this.link,event:t})}}},s=i(44),l=Object(s.a)(a,(function(){var t=this,e=t._self._c;return e("div",{},[t.$v.error[t.id]?e("FormMessageList",{staticClass:"text--b space--b-2",attrs:{messages:t.$v.messages[t.id]}}):t._e(),e("FormList",[e("FormRow",{attrs:{error:t.$v.error.href}},[e("FormLabel",[t._v(t._s(t.i18n.urlLabel))]),e("FormContent",[e("FormInput",{attrs:{name:"href"},on:{change:function(e){return t.$v.validate("href",t.link.href)},update:function(e){return t.setLinkUrl(t.link.href)}},model:{value:t.link.href,callback:function(e){t.$set(t.link,"href",e)},expression:"link.href"}}),e("FormMessageList",{attrs:{messages:t.$v.messages.href}})],1)],1),e("FormRow",{attrs:{error:t.$v.error.content}},[e("FormLabel",[t._v(t._s(t.i18n.contentLabel))]),e("FormContent",[e("FormInput",{attrs:{name:"content"},model:{value:t.link.content,callback:function(e){t.$set(t.link,"content",e)},expression:"link.content"}}),e("FormMessageList",{attrs:{messages:t.$v.messages.content}})],1)],1),e("FormRow",[e("FormContent",{staticClass:"flex",class:{"boxAlign-jc--all-sb":t.updating}},[t.updating?e("BaseButton",{staticClass:"flex--shrink-0 space--mr-2",attrs:{variant:"tertiary",mode:"default"},on:{click:t.remove}},[t._v(" "+t._s(t.i18n.unlinkButtonText)+" ")]):t._e(),e("BaseButton",{staticClass:"width--all-12",attrs:{variant:"primary",mode:"brand",disabled:t.buttonDisabled},on:{click:t.insert}},[t._v(" "+t._s(t.updating?t.i18n.updateButtonText:t.i18n.insertButtonText)+" ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.a=l.exports},707:function(t,e,i){"use strict";var n=i(516),o=i(631),r=i(704),a=i(705),s=i(564),l=i(509),c=i(589),d=i(507),u={components:{BaseButton:d.a,FormList:l.l,FormRow:l.o,FormMessageList:l.m,FormContent:l.c,FormTextarea:l.s},mixins:[c.b],model:{event:"update"},props:{id:{type:String,default:"insertCode"},i18n:{type:Object,default:()=>({buttonText:"Insertar"})},mode:{type:String,default:"default",validators:t=>-1!==["primary","default"].indexOf(t)}},validations:{code:[Object(s.j)()]},data(){return{formName:this.id,code:""}}},p=i(44),h=Object(p.a)(u,(function(){var t=this,e=t._self._c;return e("FormList",[e("FormRow",{attrs:{error:t.$v.error.code}},[e("FormContent",[e("FormTextarea",{staticClass:"space--mt-1",attrs:{id:"codePopover-code",rows:"5",placeholder:"Código HTML",name:"code"},on:{change:function(e){return t.$v.validate("code",t.code)}},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),e("FormMessageList",{attrs:{messages:t.$v.messages.code}})],1)],1),e("FormRow",[e("FormContent",[e("BaseButton",{staticClass:"width--all-12",attrs:{variant:"primary",mode:"brand",disabled:!t.code},on:{click:function(e){return t.$emit("insert",t.code)}}},[t._v(" "+t._s(t.i18n.buttonText)+" ")])],1)],1)],1)}),[],!1,null,null,null).exports,m=i(71),f=i(597),g={components:{InsertLink:a.a,InsertCode:h,EmojiSelector:r.a,WysiwygButton:o.a,BaseButton:d.a},mixins:[n.a,Object(m.a)({button:{any:!0,smAndDown:!0},buttonText:{any:!0,smAndDown:!0,mdAndDown:!0},primaryButton:{any:!0,smAndDown:!0},primaryButtonText:{any:!0,smAndDown:!0},toolbarActions:{xsOnly:!0,smAndDown:!0},toolbarCompactButton:{smAndUp:!0}})],props:{target:{type:String,required:!0},directives:{type:Object,default:()=>({})},expanded:{type:Boolean,default:!1},plugins:{type:Object,default:()=>({})}},data:()=>({actionsPopoverActive:!1,emojiPopoverActive:!1,linkPopoverActive:!1,imageUploadPopoverActive:!1,htmlPopoverActive:!1}),computed:{popoverLayouts(){const t={preset:"s",right:{target:".redactor"},left:{target:".redactor"},classes:"zIndex--modal"};return[t,Object.assign({},t,{preset:"n"})]},imageUploadAvailable(){return(!!this.$slots["image-upload"]||!!this.$scopedSlots["image-upload"])&&this.plugins.image},toggleExpandedText(){return this.expanded?"Contraer":"Expandir"},$d(){return Object.assign({expandEditor:Object(f.b)({toggle:{toggles:[{target:".redactor",className:"aGrid redactor--height-full bg--main"}]}})},this.directives)}},methods:{updatePlugin(t,e){this.$emit("plugin-update",{key:t,value:e})},toggleExpandEditor(){this.$emit("editor-expand",!this.expanded)},captureFocus(t){this.$emit("editor-capture",t)}}},v={components:{WysiwygToolbarBase:Object(p.a)(g,(function(){var t=this,e=t._self._c;return e("div",t._g(t._b({staticClass:"toolbar space--h-2 width--all-12"},"div",t.$attrs,!1),t.$listeners),[t._t("before"),t.$scopedSlots.actions?e("div",[e("BaseButton",{directives:[{name:"popover",rawName:"v-popover",value:t.popoverLayouts,expression:"popoverLayouts"}],staticClass:"space--mr-1",class:[t.toolbarCompactButtonResponsive],attrs:{variant:"tag",mode:"light",selected:t.actionsPopoverActive,title:"Texto"}},[e("BaseIcon",{staticClass:"space--mr-1",attrs:{name:"format-text"}}),e("BaseIcon",{staticClass:"button-dropdown-icon",attrs:{name:"dropdown"}}),e("BasePopover",{attrs:{active:t.actionsPopoverActive},on:{"update:active":function(e){t.actionsPopoverActive=e},open:function(e){return t.captureFocus("formatText")}},scopedSlots:t._u([{key:"default",fn:function({close:i}){return[e("PopoverHead",{attrs:{icon:"format-text"}},[t._v(t._s("Texto"))]),e("PopoverBody",[t._t("actions",null,{close:i})],2)]}}],null,!0)})],1),e("span",{class:t.toolbarActionsResponsive},[t._t("actions",null,{close:()=>null})],2)],1):t._e(),t.plugins&&t.plugins.line?e("WysiwygButton",{attrs:{action:t.plugins.line,target:t.target,breakpoints:t.plugins.line.breakpoints}}):t._e(),t.plugins.emoji?e("BaseButton",{directives:[{name:"popover",rawName:"v-popover",value:t.popoverLayouts,expression:"popoverLayouts"}],staticClass:"space--mr-1",attrs:{variant:"tag",mode:"light",square:"",title:"Emoticonos",selected:t.emojiPopoverActive}},[e("BaseIcon",{attrs:{width:"20",height:"20",name:"smiley"}}),e("BasePopover",{attrs:{active:t.emojiPopoverActive,width:"300","mobile-sheet":""},on:{"update:active":function(e){t.emojiPopoverActive=e},open:function(e){return t.captureFocus("emoji")}},scopedSlots:t._u([{key:"default",fn:function({close:i}){return[e("PopoverHead",{attrs:{icon:"smiley"}},[t._v(t._s("Emoticonos"))]),e("PopoverBody",[e("EmojiSelector",{on:{insert:function(e){t.$emit("editor-insert",{content:e.emoji}),i()}}})],1)]}}],null,!1,381371772)})],1):t._e(),t.plugins.link?e("BaseButton",{directives:[{name:"popover",rawName:"v-popover",value:t.popoverLayouts,expression:"popoverLayouts"}],staticClass:"space--mr-1",attrs:{variant:"tag",mode:"light",square:"",title:"Link",selected:t.linkPopoverActive}},[e("BaseIcon",{attrs:{width:"20",height:"20",name:"link"}}),e("BasePopover",{attrs:{active:t.linkPopoverActive,width:"340","mobile-sheet":""},on:{"update:active":function(e){t.linkPopoverActive=e},open:function(e){return t.captureFocus("link")}},scopedSlots:t._u([{key:"default",fn:function({close:i}){return[e("PopoverHead",{attrs:{icon:"link"}},[t._v(t._s("Link"))]),e("PopoverBody",[e("InsertLink",{attrs:{link:{...t.plugins.link}},on:{remove:function(e){t.$emit("editor-insert",{method:"removeLink"}),i()},insert:function(e){t.$emit("editor-insert",{content:e.link,method:"updateLink"}),i()},update:function(e){return t.updatePlugin("link",e)}}})],1)]}}],null,!1,541552780)})],1):t._e(),t.imageUploadAvailable?e("BaseButton",{directives:[{name:"popover",rawName:"v-popover",value:t.popoverLayouts,expression:"popoverLayouts"}],staticClass:"space--mr-1",attrs:{variant:"tag",mode:"light",square:"",title:"Imagen",selected:t.imageUploadPopoverActive}},[e("BaseIcon",{attrs:{width:"20",height:"20",name:"image"}}),e("BasePopover",{attrs:{active:t.imageUploadPopoverActive,width:"340","mobile-sheet":""},on:{"update:active":function(e){t.imageUploadPopoverActive=e},open:function(e){return t.captureFocus("image")}},scopedSlots:t._u([{key:"default",fn:function({close:i}){return[e("PopoverHead",{attrs:{icon:"image"}},[t._v(t._s("Insertar imagen"))]),e("PopoverBody",[t._t("image-upload",null,{close:i})],2)]}}],null,!0)})],1):t._e(),t.plugins.html?e("BaseButton",{directives:[{name:"popover",rawName:"v-popover",value:t.popoverLayouts,expression:"popoverLayouts"}],staticClass:"space--mr-1",attrs:{variant:"tag",mode:"light",square:"",title:"HTML",selected:t.htmlPopoverActive}},[e("BaseIcon",{attrs:{width:"20",height:"20",name:"code"}}),e("BasePopover",{attrs:{active:t.htmlPopoverActive,width:"340","mobile-sheet":""},on:{"update:active":function(e){t.htmlPopoverActive=e},open:function(e){return t.captureFocus("html")}},scopedSlots:t._u([{key:"default",fn:function({close:i}){return[e("PopoverHead",{attrs:{icon:"code"}},[t._v(t._s("Insertar código HTML"))]),e("PopoverBody",[e("InsertCode",{on:{insert:function(e){t.$emit("editor-insert",{content:e}),i()}}})],1)]}}],null,!1,2392699295)})],1):t._e(),t.plugins.expand?e("BaseButton",{class:{"button-expand--selected":t.expanded},attrs:{variant:"tag",mode:"light",square:"","data-handler":t.$d.expandEditor.handlers,"data-toggle":t.$d.expandEditor.params.toggle,title:t.toggleExpandedText},on:{click:t.toggleExpandEditor}},[e("BaseIcon",{attrs:{width:"20",height:"20",name:t.expanded?"contract":"expand"}})],1):t._e(),t._t("after")],2)}),[],!1,null,null,null).exports,WysiwygButton:o.a},props:{target:{type:String,required:!0},plugins:{type:Object,default:()=>({})},breakpoints:{type:Object,default:()=>({toolbarActions:{xsOnly:"hide"},toolbarCompactButton:{smAndUp:"hide"}})}},computed:{hasActions(){return this.plugins.bold||this.plugins.strike||this.plugins.italic||this.plugins.list}}},b=Object(p.a)(v,(function(){var t=this,e=t._self._c;return e("WysiwygToolbarBase",t._g(t._b({attrs:{target:t.target,plugins:t.plugins,breakpoints:t.breakpoints},scopedSlots:t._u([{key:"before",fn:function(){return[t._t("before")]},proxy:!0},t.hasActions?{key:"actions",fn:function({close:i}){return[e("span",{staticClass:"flex"},[t.plugins.bold?e("WysiwygButton",{attrs:{action:t.plugins.bold,target:t.target,breakpoints:t.plugins.bold.breakpoints},nativeOn:{click:function(t){return i.apply(null,arguments)}}}):t._e(),t.plugins.strike?e("WysiwygButton",{attrs:{action:t.plugins.strike,target:t.target,breakpoints:t.plugins.strike.breakpoints},nativeOn:{click:function(t){return i.apply(null,arguments)}}}):t._e(),t.plugins.italic?e("WysiwygButton",{attrs:{action:t.plugins.italic,target:t.target,breakpoints:t.plugins.italic.breakpoints},nativeOn:{click:function(t){return i.apply(null,arguments)}}}):t._e(),t.plugins.list?e("WysiwygButton",{attrs:{action:t.plugins.list,target:t.target,breakpoints:t.plugins.list.breakpoints},nativeOn:{click:function(t){return i.apply(null,arguments)}}}):t._e()],1)]}}:null,{key:"image-upload",fn:function({close:e}){return[t._t("image-upload",null,{close:e})]}},{key:"after",fn:function(){return[t._t("after")]},proxy:!0}],null,!0)},"WysiwygToolbarBase",t.$attrs,!1),t.$listeners))}),[],!1,null,null,null);e.a=b.exports},708:function(t,e,i){"use strict";var n={components:{ImageUploadForm:i(725).a},props:{bucket:{type:String},variation:{type:String,default:"content"},mode:{type:String,default:"default"}},methods:{async handleSubmit(t){this.$emit("upload",t)}}},o=i(44),r=Object(o.a)(n,(function(){var t=this;return(0,t._self._c)("ImageUploadForm",{attrs:{mode:t.mode,"has-alignment-selector":"","has-url-input":"","show-file-name":"","is-loading":!1},on:{submit:t.handleSubmit}})}),[],!1,null,null,null);e.a=r.exports},716:function(t,e,i){"use strict";var n=i(312),o=i(597),r=i(707),a=i(708),s=i(699);let l=null;var c,d,u={created(){this.$on("focus",(()=>{l=this.name}))}},p={methods:{textConfig(t){let{breakpoints:e={button:{any:"btn--square"},text:{any:"hide"}}}=t;return{bold:{module:"inline",fn:"format",args:["strong"],title:"Negrita",key:"bold",icon:"bold",breakpoints:e},strike:{module:"inline",fn:"format",args:["del"],title:"Borrado",key:"deleted",icon:"strike",breakpoints:e},italic:{module:"inline",fn:"format",args:["em"],title:"Cursiva",key:"italic",icon:"italic",breakpoints:e},list:{module:"list",fn:"toggle",args:["unorderedlist"],title:"Lista",key:"unorderedlist",icon:"bullet-list",breakpoints:e},blockquote:{breakpoints:e},line:{module:"line",fn:"insert",title:"Línea",key:"line",icon:"line",breakpoints:e,showOnExpand:!0}}}}},h=i(700),m=i(32),f=i.n(m),g=i(134),v=i.n(g),b=(i(8),i(20));const y=t=>Object(b.b)(c||(c=v()(["/image/upload/","?"])),t),k=t=>Object(b.b)(d||(d=v()(["/image/upload-from-uri/","?"])),t),w=["type","value"];var x={created(){this.registerWriter("insertImage","insertImage")},computed:{imageUploadAvailable(){return(!!this.$slots["image-upload"]||!!this.$scopedSlots["image-upload"])&&this.pluginConfig.plugins.image}},methods:{insertImage(t){this.$editor.$editor.focus();const{type:e,value:i}=t,o=f()(t,w);Object(n.a)(this.$editor,o,{[e.toLowerCase()]:i})},imageConfig(t){return{image:Object.assign({bucket:t.imageBucket,variation:t.imageVariation},this.plugins.image||{})}},imageUploadConfig(t){let{imageVariation:e="content",imageBucket:i="threads"}=t;return{imageFormat:e,imageType:e,imageUploadEndpoint:y(i),imageLinkEndpoint:k(i),imageVariation:e,imageBucket:i}}}},j={methods:{htmlConfig:()=>({html:!0})}},O={inheritAttrs:!1},$=i(44),I=Object($.a)(O,(function(){var t=this,e=t._self._c;return e("div",[e("input",t._g(t._b({staticClass:"mentionList",attrs:{name:"mentionsList",type:"hidden"}},"input",t.$attrs,!1),t.$listeners)),t._m(0)])}),[function(){var t=this._self._c;return t("div",{staticClass:"mentions atwho-container space--t-2 space--h-2"},[t("span",{staticClass:"atwho-at mute--text lbox--v-2"},[this._v("@")]),t("ul",{staticClass:"atwho-view fGrid"})])}],!1,null,null,null).exports,E=i(577);var _={components:{Mentions:I},data:()=>({currentMentions:""}),created(){this.handleMentions=this.handleMentions.bind(this),this.updateMentions=this.updateMentions.bind(this),this.registerHandler("mentions","handleMentions")},methods:{handleMentions(t){this.plugins.mentions=t,this.currentMentions=t},updateMentions(){return this.currentMentions},mentionsConfig:()=>({searchUrl:E.i.getSuggestions,mentionInputSelector:".mentionList",profileUrl:"".concat("https://www.chollometro.com").concat(E.i.getProfile("==NameReplace==")),replacementKey:"==NameReplace=="})}};const C=["id","type"],S=["shortcode"],A=["shortcode","shortcode_id"];var L={created(){this.markForShortcodes=this.markForShortcodes.bind(this),this.updateShortcodes=this.updateShortcodes.bind(this),this.formatShortcodes=this.formatShortcodes.bind(this)},methods:{shortcodeConfig(){return{markForShortcodes:this.markForShortcodes,formatShortcodes:this.formatShortcodes}},markForShortcodes(t){this.redactorShortcode=t},updateShortcodes(){const t=this.plugins.shortcodes;return this.plugins.shortcodes=this.redactorShortcode().map((e=>{const{id:i,type:n}=e,o=f()(e,C),r=t.find((t=>t.shortcode_id===i))||{},{shortcode:a={}}=r,s=f()(r,S);return Object.assign({},s,{shortcode_id:i,type:n,shortcode:Object.assign({},a,o)})})),this.plugins.shortcodes},formatShortcodes(){var t;return null===(t=this.plugins.shortcodes)||void 0===t?void 0:t.reduce(((t,e)=>{let{shortcode:i,shortcode_id:n}=e,o=f()(e,A);return t[n]=Object.assign({id:n},o,i),t}),{})}}},P=i(653),B={methods:{expandEditor(t){this.expanded=t},expandConfig:()=>({expand:!0})}},T=i(5),F=i(0),q=i.n(F),D=i(2),R=i(7),U=i(45),M=i(3),N=i(106);const Q={history:[],max:100};q()(document).on("focusin",(t=>{Q.history.unshift(t)>Q.max&&(Q.history.length=Q.max)}));var H=t=>{var e=null;return Q.history.some((i=>{var n;return!(!q.a.contains(document,i.target)||!(n=q()(i.target)).is(t))&&(e=n,!0)})),e},W=i(610),z=i(701),V=i(43),Y=i(23),Z=i(702);function G(t,e,i){e=q()(e),R.a.process(q.a.get(i.endpoint),{$trigger:e}).always(U.a.init(e,i.seal)).always(M.a.tmpClass(e,i.className)).done((function(e){const i=e.data.shortcode,n=t.shortcode.instance.add(i);t.$editor.scrollTop(n.position().top),t.caret.setAfter(q()("<br><br>").insertAfter(n)[1])}))}function J(t,e){t=q()(t);const i=Z.a.find(e.id),n=i.data(i.embed(e.id));if(n){const o=void 0!==e.content?e.content:M.a.findTargets(t,e.textarea).val();n.content=N.a.escapeHtml(o),i.set(n)}t.trigger("layer-destroy")}function K(t,e){t=q()(t);const i=Z.a.find(e.id);i&&i.del(e.id),t.trigger("layer-destroy")}W.a.quote=function(){return{init:function(){const t=this.opts,e={name:"quote",html:function(t,e){return e.content=N.a.escapeHtml(e.content),(t=>{let{attr:e,content:i,original_comment_username:n,original_comment_created_at_formatted:o}=t;return'\n\t<blockquote class="userHtml-quote" '.concat(e,'>\n\t\t<span class="userHtml-quote-author">').concat(n,'</span>\n\t\t<span class="userHtml-quote-time">').concat(o,'</span>\n\t\t<p class="userHtml-quote-content">').concat(i,"</p>\n\t</blockquote>\n")})(e)},onClick:function(e,i){Object(z.a)(t,{key:"editQuote",value:e}),V.a.clickHandler(i,q.a.extend({},M.a.$win.height()<600?Y.a.defaults:{layout:[{preset:"n",x:0},{preset:"s",x:0}],close:!1,reTrigger:"ignore"},{target:"#template-quotePopover",tplData:e}))}};this.shortcode.instance.registerType(e),this.shortcode.instance.registerType(q.a.extend({},e,{name:"legacy_quote"}))}}},D.a.add("quote-add","click",(function(t,e){const i=H(".redactor-editor")||q()(".redactor-editor"),o=n.b.getTextarea(i);n.b.initRedactor(o).then((i=>{G(i,t,e)}))}),{className:"",seal:{cover:!1}}),D.a.add("quote-update","click",J),D.a.add("quote-del","click",K);const X=new T.default({data:()=>({shortcodeId:null}),methods:{triggerQuote(t,e){this.$emit("triggerQuote",{event:t,entityId:e})},addQuote(t,e){this.$emit("addQuote",{event:t,entityId:e})},editQuote(t){this.shortcodeId=t},updateQuote(t,e){this.$emit("updateQuote",{event:t,content:e,shortcodeId:this.shortcodeId}),this.shortcodeId=null},deleteQuote(t,e){this.$emit("deleteQuote",{event:t,shortcodeId:e})}}});var tt={created(){this.registerHandler("editQuote","editQuote"),this.addQuote=this.addQuote.bind(this),this.editQuote=this.editQuote.bind(this),this.updateQuote=this.updateQuote.bind(this),this.deleteQuote=this.deleteQuote.bind(this),X.$on("addQuote",this.addQuote),X.$on("updateQuote",this.updateQuote),X.$on("deleteQuote",this.deleteQuote),this.$once("hook:beforeDestroy",(()=>{X.$off("addQuote",this.addQuote),X.$off("updateQuote",this.updateQuote),X.$off("deleteQuote",this.deleteQuote)}))},methods:{addQuote(t){let{event:e,entityKey:i="comment_id",entityId:n}=t;this.name===l&&G(this.$editor,e.target,{endpoint:"/shortcodes/template/quote?".concat(i,"=").concat(n),seal:{cover:!1},className:""})},updateQuote(t){let{event:e,shortcodeId:i,content:n}=t;this.name===l&&J(e.target,{id:i,content:n})},deleteQuote(t){let{event:e,shortcodeId:i}=t;this.name===l&&K(e.target,{id:i})},editQuote(t){X.editQuote(t)}}},et=i(637),it=i(566),nt=i(120),ot=(i(569),i(719));const rt={allowedTags:["ul","li","a","strong","em","del","br","span","div","img","iframe","hr","blockquote"],plugins:["emoji","imagify","shortcode","video","linkify","restore","quote"],buttonActiveClass:"button--selected",buttonTarget:".redactor/.button{% if key %}--{{key}}{% endif %}",forceReplaceDivsOnPaste:!0,linebreaks:!0,imageEditable:!1,imageUrl:"url",replaceDivs:!1,staticDom:!0,maxImages:null};var at={components:{SlideUpDown:ot.a,WysiwygToolbar:r.a,EditorImageUpload:a.a},mixins:[Object(o.a)(),u,s.a,B,j,P.b,p,h.a,x,_,L,tt],inheritAttrs:!1,model:{event:"update"},props:{name:{type:String,required:!0},value:{type:String,default:""},disabled:{type:Boolean,default:!1},directives:{type:Object,default:()=>({})},features:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},plugins:{type:Object,default:()=>({})},mode:{type:String,default:"default",validators:t=>-1!==["brand","default"].indexOf(t)},hasError:{type:Boolean,default:!1}},data(){return{wysiwygConfig:Object.assign({},rt,{mentions:this.mentionsConfig&&this.mentionsConfig()},this.restoreConfig?this.restoreConfig():{},this.imageUploadConfig?this.imageUploadConfig(this.config):{},this.shortcodeConfig?this.shortcodeConfig():{},this.config),isTipVisible:!1,expanded:!1}},computed:{redactorStyles(){return this.config.minHeight?{"min-height":this.config.minHeight}:null},pluginConfig(){const t=this.mapPlugins();return{target:"#".concat(this.name),plugins:t}},redactorValue:{get(){return this.value},set(t){this.syncFromEditor(Object(nt.d)(t))}},$directives(){return Object.assign({"focus-toggle":{toggles:[{className:"redactor--focus",target:".redactor"}]}},this.directives)},editorClassList(){return{"redactor-editor--small":this.config.small,"redactor-editor--admin":this.config.admin}}},async mounted(){this.$editor=await n.b.initRedactor(this.$refs.input,Object.assign({},this.wysiwygConfig,{vue:this.updatePlugin.bind(this)}));const t=t=>this.$emit("change",t),e=t=>this.$emit("focus",t),i=t=>{if(t.data){const t=this.$refs.editor.innerHTML;this.syncFromEditor(t)}};this.$refs.editor.addEventListener("blur",t),this.$refs.editor.addEventListener("focus",e),this.$refs.editor.addEventListener("input",i),this.$once("hook:beforeDestroy",(()=>{this.$refs.editor.removeEventListener("blur",t),this.$refs.editor.removeEventListener("focus",e),this.$refs.editor.removeEventListener("input",i)})),setTimeout((()=>this.$emit("ready")))},destroyed(){this.handlers={},this.writers={},this.$editor=null},methods:{mapPlugins(){const t={},e=this.wysiwygConfig,i=Object.assign({},this.textConfig?this.textConfig(e):{},this.imageConfig?this.imageConfig(e):{},this.expandConfig?this.expandConfig(e):{},this.htmlConfig?this.htmlConfig(e):{},this.plugins);for(const[e,n]of Object.entries(i))(e in this.features&&this.features[e]||void 0===this.features[e])&&(t[e]=n);return t},registerHandler(t,e){this.handlers=this.handlers||{value:"syncToEditor"},this.handlers[t]=e},registerWriter(t,e){this.writers=this.writers||{},this.writers[t]=e},pluginEnabled(t){return!1!==this.plugins[t]},updatePlugin(t){let{key:e,value:i}=t;if(e in this.handlers)return this[this.handlers[e]](i)},syncFromEditor(t){this.$emit("update",t)},syncToEditor(t){this.redactorValue!==t&&(this.redactorValue=t)},async syncRedactor(){await this.$nextTick(),this.$refs.editor.innerHTML=this.redactorValue},captureEditor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.preserveSelection(),this.updateLinkSelection&&this.updateLinkSelection(t)},insertEditor(t){let{content:e,method:i="htmlWithoutClean"}=t;i in this.writers?this[this.writers[i]](e):this.$editor.insert[i](e)},showTip(){this.$scopedSlots.tip&&(this.isTipVisible=!0)},hideTip(){this.isTipVisible=!1},dropLocalImages(t){const{maxImages:e,dragImageUpload:i}=this.wysiwygConfig,n=Array.from((null==t?void 0:t.detail.files)||[]),o=this.getNumberOfImgToUpload();if(!i)return void Object(et.f)(t.type);if(0===n.length)return;let r=n.filter((t=>Object(et.a)(t))).filter((t=>{const e=!Object(it.a)(t);return e||Object(et.d)(),e}));e&&r.length>o&&(Object(et.e)(e),r=r.slice(0,o)),r.forEach((t=>{this.insertEditor({content:{alignment:"left",type:"FILE",value:t},method:"insertImage"})}))},insertLocalImage(t){const{maxImages:e}=this.wysiwygConfig;0!==this.getNumberOfImgToUpload()?this.insertEditor({content:t,method:"insertImage"}):Object(et.e)(e)},getNumberOfImgToUpload(){const t=(this.$refs.editor.innerHTML.match(/<img/g)||[]).length,{maxImages:e}=this.wysiwygConfig;return e?e-t:e}}},st=at,lt=Object($.a)(st,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{isActive:t.$slots.tip,handler:t.hideTip},expression:"{ isActive: $slots.tip, handler: hideTip }"}],staticClass:"redactor redactor-box aGrid",class:{"redactor--hasError":t.hasError},attrs:{disabled:t.disabled},on:{click:t.showTip}},[e("div",{ref:"editor",staticClass:"redactor-editor redactor-placeholder size--all-m border--b-r width--all-12 overflow--scrollX-raw overflow--scrollY-raw userHtml userHtml--wysiwyg overflow--wrap-break hide--js-off",class:t.editorClassList,style:t.redactorStyles,attrs:{"data-handler":t.$d.handlers,"data-focus-toggle":t.$d.params["focus-toggle"],"data-field-name":t.name,tabindex:"0"}}),e("div",{staticClass:"redactor-tips",class:{"space--h-2 space--v-2":t.$slots.tip}},[e("SlideUpDown",[t.isTipVisible?e("div",[t._t("tip")],2):t._e()])],1),e("textarea",t._g(t._b({ref:"input",staticClass:"width--all-12 hide--js-on",attrs:{id:t.name,name:t.name},domProps:{value:t.redactorValue},on:{"paste-local-file":t.dropLocalImages,"drop-local-file":t.dropLocalImages}},"textarea",t.$attrs,!1),t.$listeners)),t.pluginEnabled("mentions")?e("Mentions",{attrs:{value:t.plugins.mentions}}):t._e(),t._t("default",(function(){return[e("WysiwygToolbar",t._b({attrs:{expanded:t.expanded},on:{"plugin-update":t.updatePlugin,"editor-insert":t.insertEditor,"editor-capture":t.captureEditor,"editor-expand":t.expandEditor},scopedSlots:t._u([t.pluginEnabled("image")?{key:"image-upload",fn:function({close:i}){return[e("EditorImageUpload",t._b({attrs:{mode:"brand"},on:{upload:function(e){t.insertLocalImage(e),i()}}},"EditorImageUpload",t.pluginConfig.plugins.image,!1))]}}:null],null,!0)},"WysiwygToolbar",t.pluginConfig,!1))]}),{pluginConfig:t.pluginConfig,pluginEnabled:t.pluginEnabled,updatePlugin:t.updatePlugin,insertEditor:t.insertEditor,captureEditor:t.captureEditor,expandEditor:t.expandEditor})],2)}),[],!1,null,null,null);e.a=lt.exports}}]);