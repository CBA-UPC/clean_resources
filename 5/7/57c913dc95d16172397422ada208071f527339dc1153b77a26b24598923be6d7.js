/*! @name videojs-contrib-ads @version 6.7.0 @license Apache-2.0 */
!this,function(e,t,n){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var a="6.7.0";var o=r=i=s=d=l=ar c=h=var f={processMetadataTracks:setMetadataTrackMode:function(e){},getSupportedAdCue:isSupportedAdCue:getCueId:,p=g=.processAdTrack=var v={},m=e;v.isMiddlewareMediatorSupported=v.playMiddleware=v.testHook=var A=v.playMiddleware,S=v.isMiddlewareMediatorSupported,_=var P=),b=);.registerState("State",b);var C=b);P.registerState("AdState",C);var T=b);P.registerState("ContentState",T);var w,R=P.getState("ContentState"));P.registerState("AdsDone",R);var B={start:end:,L=P.getState("AdState"));P.registerState("Preroll",L);var M=P.getState("ContentState"));P.registerState("BeforePreroll",M);var j=P.getState("AdState"));P.registerState("Midroll",j);var N=P.getState("AdState"));P.registerState("Postroll",N);var E=P.getState("ContentState"));P.registerState("ContentPlayback",E);var I=P.getState("ContentState"));P.registerState("StitchedContentPlayback",I);var x=P.getState("AdState"));P.registerState("StitchedAdRoll",x);var D=v.isMiddlewareMediatorSupported,O=e.getTech("Html5").Events,F={timeout:5e3,prerollTimeout:void 0,postrollTimeout:void 0,debug:!1,stitchedAds:!1,contentIsLive:void 0,liveCuePoints:!0},U=function(o){var r=this,i=e.mergeOptions(F,o),s=[];O.concat(["firstplay","loadedalldata"]).forEach(,r.on(s,u),D()||r,i.debug),r.setTimeout(5e3),r.on("ended",,r.on("contenttimeupdate",function(){r.removeClass("vjs-waiting")}),r.on(["addurationchange","adcanplay"],,r.on("nopreroll",function(){r.ads.debug("Received nopreroll event"),r.ads.nopreroll_=!0}),r.on("nopostroll",,r.on("playing",,r.on("play",function(){r.ads._playRequested=!0}),r.one("loadstart",function(){r.ads._hasThereBeenALoadStartDuringPlayerLife=!0}),r.on("loadeddata",function(){r.ads._hasThereBeenALoadedData=!0}),r.on("loadedmetadata",,r.ads=r),r.ads.settings=i,i.stitchedAds=!!i.stitchedAds,i.stitchedAds?r.ads._state=new(P.getState("StitchedContentPlayback"))(r):r.ads._state=new(P.getState("BeforePreroll"))(r),r.ads._state.init(r),r.ads.cueTextTracks=f,r.ads.adMacroReplacement=function(a,o,r){var i=this,s={};a=a.replace(/{([^}=]+)=([^}]+)}/g,,void 0===o&&(o=!1);var d={};for(var l in void 0!==r&&(d=r),d["{player.id}"]=this.options_["data-player"],d["{player.height}"]=this.currentHeight(),d["{player.width}"]=this.currentWidth(),d["{mediainfo.id}"]=this.mediainfo?this.mediainfo.id:"",d["{mediainfo.name}"]=this.mediainfo?this.mediainfo.name:"",d["{mediainfo.duration}"]=this.mediainfo?this.mediainfo.duration:"",d["{player.duration}"]=this.duration(),d["{player.pageUrl}"]=e.dom.isInFrame()?n.referrer:t.location.href,d["{playlistinfo.id}"]=this.playlistinfo?this.playlistinfo.id:"",d["{playlistinfo.name}"]=this.playlistinfo?this.playlistinfo.name:"",d["{timestamp}"]=(new Date).getTime(),d["{document.referrer}"]=n.referrer,d["{window.location.href}"]=t.location.href,d["{random}"]=Math.floor(1e12*Math.random()),["description","tags","reference_id","ad_keys"].forEach(,h(this.mediainfo,d,"custom_fields"),h(this.mediainfo,d,"customFields"),d)a=a.split(l).join(c(d[l],o));for(var u in a=a.replace(/{pageVariable\.([^}]+)}/g,,s)a=a.replace(u,s[u]);return a}.bind(r),r),r.on("contentchanged",r.ads.reset);var d=r.ready(,r.on(["play","playing","ended","adsready","adscanceled","adskip","adserror","adtimeout","adended","ads-ad-started","contentchanged","dispose","contentresumed","readyforpostroll","nopreroll","nopostroll"],,r.on("dispose",};return U.VERSION=a,U),U});
