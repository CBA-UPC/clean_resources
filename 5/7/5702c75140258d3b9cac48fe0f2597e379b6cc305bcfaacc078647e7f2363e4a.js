ï»}([function(t,e,o){"use strict";var n,i;(i=n=n||{}).Info="info",i.Default="default",i.Debug="debug",i.Warning="warning",i.Error="error";var r=o(3),s=o(6),a=o(8),u=[];u[n.Info]={methodName:"info",levelPermit:0},u[n.Default]={methodName:"debug",levelPermit:1},u[n.Debug]={methodName:"debug",levelPermit:2},u[n.Warning]={methodName:"warn",levelPermit:3},u[n.Error]={methodName:"error",levelPermit:4};var c=u,l=o(2),p=o(4),d=o(5);o.d(e,"a",function(){return g});var h=Object.assign};function f(){this.defaultOptions={isEnable:!1,level:n.Default},this.logHistory=[],this.options=h({},this.defaultOptions),this.setOptions({isEnable:"true"===s.a.isEnableLog.toLowerCase(),level:this.getLogLevelByString(s.a.logLevel.toLowerCase())},!1),this.setOptionsFromLocalStorage()}var g=new(f.prototype.info=function(t,e,o){void 0===o&&(o=p.a.Console),this.log(t,e,o,n.Info)},f.prototype.default=function(t,e,o){void 0===o&&(o=p.a.Console),this.log(t,e,o,n.Default)},f.prototype.debug=function(t,e,o){void 0===o&&(o=p.a.Console),this.log(t,e,o,n.Debug)},f.prototype.warning=function(t,e,o){void 0===o&&(o=p.a.Console),this.log(t,e,o,n.Warning)},f.prototype.error=function(t,e,o){void 0===o&&(o=p.a.Console),this.log(t,e,o,n.Error)},f.prototype.setOptions=function(t,e){void 0===e&&(e=!0),this.options=r.a.mergeExceptUndefined(this.options,t),e&&this.setOptionsToLocalStorage(this.options)},f.prototype.log=function(t,e,o,n){if(this.checkLevelPermit(n))switch(o){case p.a.Console:this.message(t,n);break;case p.a.AppInsight:e?this.trackEvent(e,t):this.warning("eventName is undefined");break;case p.a.Full:this.message(t,n),e?this.trackEvent(e,t):this.warning("eventName is undefined")}},f.prototype.message=function(t,e){var o;if(this.options.isEnable){t=Array.isArray(t)?t:[t];var n=">>>> Loader | "+e.toUpperCase()+" <<<< |";this.logHistory.push(n+" "+t),(o=window.console)[this.getConsoleMethodName(e)].apply(o,[n].concat(t))}},f.prototype.trackEven},f.prototype.checkLevelPermit=function(t){return this.getLevelPermit(t)>=this.getLevelPermit(this.options.level)},f.prototype.getLevelPermit=function(t){return c[t].levelPermit},f.prototype.getConsoleMethodNam},f.prototype.getLogLevelByString=function(t){for(var e in n)if(n[e]==t)return n[e];return this.options.level},f.prototype.setOptionsFromLocalStorage=function(t){void 0===t&&(t=!0);var e=this.getOptionsFromLocalStorage();e?this.setOptions(e,t):t&&this.setOptionsToLocalStorage(this.options)},f.prototype.setOptionsToLocalStorag},f.prototype.getOptionsFromLocalStorage=function(){var t;try{t=d.a.get(l.a.StorageKeys.LogOptions)}catch(t){return}return t},f)},function(t,e,o){"use strict";var i=o(2),r=o(8),a=function(t){this.type="script",this.crossOrigin="anonymous",this.async=!0,this.xCode="",t&&(this.type=t.type||this.type,this.defaultURL=t.defaultURL,this.version=t.version,this.predefinedURLs=t.predefinedURLs,this.crossOrigin=t.crossOrigin||this.crossOrigin,this.cache=t.cache||this.cache,this.async=t.async||this.async,this.xCode=t.xCode||this.xCode,this.isMain=t.isMain||!1)},u=function(t){if(this.name="",this.initMethodName="",this.isInitMethodPromise=!1,this.initOrder=0,this.predefinedInitSettings=null,this.flyCalculatedInitSettings=null,this.resources=[],t){this.name=t.name||this.name,this.initMethodName=t.initMethodName||this.initMethodName,this.globalObjectName=t.globalObjectName,this.isInitMethodPromise=t.isInitMethodPromise||this.isInitMethodPromise,this.predefinedInitSettings=t.predefinedInitSettings||this.predefinedInitSettings,this.flyCalculatedInitSettings=t.flyCalculatedInitSettings||this.flyCalculatedInitSettings,this.initOptions=t.initOptions||this.initOptions,this.initOrder=t.initOrder||this.initOrder;for(var e=t.resources.length,o=0;o<e;o++)this.resources.push(new a(t.resources[o]))}},c=o(6),s=(n.prototype.setXCodeToPredefinedURLs=function(t,e){var n=this;return t&&t.forEach(function(e){if(n.xCode||e.xCode){var o=n.xCode&&e.xCode?"_":"";e.predefinedURLs=e.predefinedURLs.map(function(t){return t+"?xcode="+encodeURI(n.xCode+o+e.xCode)})}}),t},n.prototype.getPropertyValueFromClientInits=function(t,e){if(!t)return null;for(var o=t.length,n=0;n<o;n++){var i=t[n].initOptions;if(i&&i.hasOwnProperty(e))return i[e]}return null},n);function n(t,e){if(this.blockAttempts=2,this.loadAttempts=2,this.environment="prod",this.resources=[],this.loadPlugins=[],this.excludedLoadingURLMasks=[],this.overrides=[],this.xCode="",t){this.appInsightsKey=t.appInsightsKey||c.a.appInsightsKey,this.blockAttempts=t.blockAttempts||this.blockAttempts,this.loadAttempts=t.loadAttempts||this.loadAttempts,this.randomURLChoosing=t.randomURLChoosing||c.a.randomURLChoosing||!1,this.excludedLoadingURLMasks=t.excludedLoadingURLMasks||this.excludedLoadingURLMasks,this.initCondition=t.initCondition,this.clientCode=t.clientCode||c.a.clientCode,this.siteCode=t.siteCode||this.getPropertyValueFromClientInits(e,"siteCode"),this.layoutCode=t.layoutCode||this.getPropertyValueFromClientInits(e,"layoutCode")||this.siteCode,this.environment=t.environment||c.a.environment||this.environment;var o=t.resources.length;this.xCode=t.xCode||this.xCode;for(var n=0;n<o;n++)this.resources.push(new a(t.resources[n]));for(var i=t.loadPlugins.length,r=0;r<i;r++){var s=new u(t.loadPlugins[r]);s.resources=this.setXCodeToPredefinedURLs(s.resources,s.name.toLowerCase()),this.loadPlugins.push(s)}this.overrides=t.overrides;try{this.pluginsInitOrder=t.pluginsInitOrder||JSON.parse(c.a.PLUGINS_INIT_ORDER)}catch(t){this.pluginsInitOrder=[]}}}var l=o(0),p=o(4);function d(){}o.d(e,"a",function(){return h});var h=new(d.prototype.getDataFromJSON=function(t,e){this.loader=t;var o=e||JSON.parse(c.a.CONFIG_URL);return Array.isArray(o)||(o=[o]),this.getDataFromJSONAjax(o,0)},d.prototype.getDataFromJSONAjax=function(e,o){var n=this;return e.length==o?(r.a.isInit()&&l.a.warning({configUrl:e},i.a.EVENTS.ConfigFileNotFound,p.a.AppInsight),Promise.resolve({})):fetch(e[o],{method:"GET",mode:"cors",cache:"no-cache"}).the}).then(function(t){return n.options=new s(t,n.loader.initOptions.plugins),n.options})},d.prototype.getPlugins=function(){return this.options.loadPlugins},d.prototype.getResources=function(){return this.options.resources},d.prototype.mergeClientInits=function(t){var i=this;t.plugins.forEach(function(t){var e=i.options.loadPlugins;if(e&&0<e.length)for(var o=e.length,n=0;n<o;n++)if(t.name==e[n].name){i.options.loadPlugins[n].initOptions=t.initOptions;break}})},d.prototype.mergeFlyCalculatedInitSettings=function(){this.options.loadPlugins.forEac})},d.prototype.excludePluginsByRules=function(t){this.applyRules(t)||(this.options.loadPlugins=[])},d.prototype.applyRules=function(t){var e=this;return t.ever})},d.prototype.getExcludingRule},d.prototype.isNotFoundPage=function(){var t=document.querySelector("head > title");if(!t)return!1;var e=t.innerHTML;return/page not found|404/i.test(e)},d.prototype.inIfram},d.prototype.isLoadedByBo},d.prototype.isMatchesUrlMask=function(){var t=!1;if(this.options.excludedLoadingURLMasks&&0<this.options.excludedLoadingURLMasks.length){var o=window.location.href;t=this.options.excludedLoadingURLMasks.every(function(t){var e=this.regExpLike(t);return null===new RegExp(e).exec(o)})}return t},d.prototype.regExpLike=function(t){var e=this.regExpEscape(t).replace(/\*/g,".*").replace(/_/g,".");return new RegExp("^"+e+"$")},d.prototype.regExpEscape=function(t){return arguments.callee.sRE||(arguments.callee.sRE=new RegExp("(\\"+["/","\\",".","+","?","|","(",")","[","]","{","}"].join("|\\")+")","g")),t.replace(arguments.callee.sRE,"\\$1")},d.prototype.isRandomURLChoosing=function(){return this.options.randomURLChoosing},d.prototype.getEnvironment=function(){return this.options.environment},d.prototype.getUrlParsedPropertie},d.prototype.checkInitCondition=function(){return!this.options.initCondition||"boolean"!=typeof this.options.initCondition()||this.options.initCondition()},d.prototype.getLoadAttempts=function(){return this.options.loadAttempts},d.prototype.getBlockAttempts=function(){return this.options.blockAttempts},d.prototype.getOverrides=function(){return this.options.overrides},d.prototype.getSiteCode=function(){return this.options.siteCode},d.prototype.getLayoutCode=function(){return this.options.layoutCode},d.prototype.getPlaginsInitOrder=function(){return this.options.pluginsInitOrder},d)},function(t,e,o){"use strict";o.d(e,"a",function(){return n});var n=(i.ENVIRONMENTS={localhost:"localhost",dev:"dev",test:"test",test20:"test20",demo:"demo",stage:"stage",preprod:"preprod",prod:"prod"},i.MODES={default:1,dynamic:2,predefined:3},i.ImportantPostfix="_important",i.EVENTS={ResourceValidationError:"ResourceValidationError",ResourceWasNotLoaded:"ResourceWasNotLoaded",OptionsHaveDuplicateURLs:"OptionsHaveDuplicateURLs",ConfigFileNotFound:"ConfigFileNotFound",JsValidationError:"JsValidationError",PluginNotLoaded:"PluginNotLoaded"},i.TYPES={script:"script",style:"style"},i.StorageKeys={LogOptions:"__logOptions__"},i);function i(){}},function(t,e,o){"use strict";o.d(e,"a",function(){return n});var n=(a.generateGui},a.hexEncod},a.hexDecod},a.parseVariables=function(o,n){return this.getMatches(o,/{([\w]+)}/g,1).forEac}),o},a.getMatche},a.isObjec},a.mergeDeep=function(t){for(var e,o,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!n.length)return t;var r=n.shift();if(a.isObject(t)&&a.isObject(r))for(var s in r)a.isObject(r[s])?(t[s]||Object.assign(t,((e={})[s]={},e)),a.mergeDeep(t[s],r[s])):Object.assign(t,((o={})[s]=r[s],o));return a.mergeDeep.apply(a,[t].concat(n))},a.mergeExceptUndefined=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o={};return t.forEac}),o},a);function a(){}},function(t,e,o){"use strict";var n,i;o.d(e,"a",function(){return n}),(i=n=n||{}).Console="console",i.AppInsight="appinsight",i.Full="full"},function(t,e,o){"use strict";o.d(e,"a",function(){return s});var i=o(3),r=o(0);function n(){this.storageKey="nxt_ldr_rsrc_rls",this.migrationDone=!1,this.supported=void 0,this.cashe={}}var s=new(n.prototype.getDefaultLoaderData=function(){return Object.assign({},{cRs:{},bRs:{},xC:null})},n.prototype.get=function(t){try{if(this.isSupported())return JSON.parse(localStorage.getItem(t));var e=this.cashe[t];return void 0!==e?JSON.parse(e):e}catch(t){r.a.error(t)}},n.prototype.getStoredData=function(){var t=this.get(this.storageKey);return(t=this.migrateOldData(t))||this.getDefaultLoaderData()},n.prototype.migrateOldData=function(t){if(!t)return t;var e=Object.assign({},t);try{if(!this.migrationDone){var o=e&&e.cRs||{};for(var n in o)"string"==typeof(r=e.cRs[n])&&(e.cRs[n]={script:r});this.set(this.storageKey,e);var i=e&&e.bRs||{};for(var n in i){var r=e.bRs[n];Array.isArray(r)||delete e.bRs[n]}}}catch(t){e=this.getDefaultLoaderData()}finally{return this.migrationDone=!0,this.set(this.storageKey,e),e}},n.prototype.set=function(t,e){try{var o=JSON.stringify(e);if(!this.isSupported())return void(this.cashe[t]=o);localStorage.setItem(t,o)}catch(t){r.a.error(t)}},n.prototype.storeDat},n.prototype.getStoredUrl=function(t,e){var o=this.getStoredData();return o.cRs&&o.cRs[t]&&o.cRs[t][e]?i.a.hexDecode(o.cRs[t][e]):null},n.prototype.checkUpdates=function(t){var e=this.getStoredData();e.xC!==t&&((e=this.getDefaultLoaderData()).xC=t,this.storeData(e))},n.prototype.deleteCurrentResource=function(t,e){var o=this.getStoredData();o.cRs&&o.cRs[t]&&o.cRs[t][e]&&(delete o.cRs[t][e],this.storeData(o))},n.prototype.isAlreadyBlockedUrl=function(t,e){var o=this.getStoredData();return o.bRs&&o.bRs[t]&&Array.isArray(o.bRs[t])&&-1!=o.bRs[t].indexOf(i.a.hexEncode(e))},n.prototype.saveAsCurrent=function(t,e,o){var n=this.getStoredData();n.cRs[t]||(n.cRs[t]={}),n.cRs[t][o]=i.a.hexEncode(e),this.storeData(n)},n.prototype.saveAsBlocked=function(t,e){var o=this.getStoredData(),n=i.a.hexEncode(e);o.bRs[t]||(o.bRs[t]=[]),-1!=o.bRs[t].indexOf(n)?r.a.default("Already save as blocked"):o.bRs[t].push(n),this.storeData(o)},n.prototype.removeFromBlocked=function(t,e){var o=this.getStoredData(),n=i.a.hexEncode(e);o.bRs[t]&&o.bRs[t][n]&&(o.bRs[t]=o.bRs[t].filte}),this.storeData(o))},n.prototype.isSupported=function(){var e=this.supported;if("boolean"==typeof e)return e;try{if(void 0===window.localStorage)e=!1;else{var t="StorageAvialable";window.localStorage.setItem(t,"true"),e="true"===window.localStorage.getItem(t)&&(window.localStorage.removeItem(t),!0)}}catch(t){e=!1}finally{return this.supported=e}},n)},function(t,e,o){"use strict";o.d(e,"a",function(){return n});var n={environment:"prod",appInsightsKey:"8241cbc2-50a5-47c4-b91f-462506490fad",clientCode:"newsday",randomURLChoosing:!1,CONFIG_URL:"[\"https://cdn.wgchrrammzv.com/prod/newsday/loader-config.json\", \"https://cdn.sbgsodufuosmmvsdf.info/prod/newsday/loader-config.json\", \"https://loader-cdn.azureedge.net/prod/newsday/loader-config.json\"]",PLUGINS_INIT_ORDER:"[\"FP\", \"DL\", \"NXT\"]",isEnableLog:"false",logLevel:"warning"}},function(t,e,o){"use strict";o.d(e,"a",function(){return i});var n=o(0),i=(r.prototype.setFail=function(t){n.a.default([t.status]),this.isLoaded=!1,this.reason=t.status,this.isAdblocked=t.isAdBlock||!1},r.prototype.setResourceAsMainScript=function(){this.isMainScript=!0},r.prototype.setSucces},r);function r(t,e,o){void 0===o&&(o=!1),this.isLoaded=!0,this.isMainScript=!1,this.isAdblocked=!1,this.path=t,this.type=e.type,this.isDefault=o}},function(t,e,o){"use strict}o.d(e,"a",function(){return i});var i=new(n.prototype.init=function(t){if(t||this.appInsightsKey)try{this.APP_INSIGHTS=function(t){function e(e){u[e]=function(){var t=arguments;u.queue=u.queue||[],u.queue.pus})}}var s,a,u={config:t},o=document,n=window,i="AuthenticatedUserContext",r="TrackEvent",c="TrackPage",l=o.createElement("script");l.src=t.url||"https://az416426.vo.msecnd.net/scripts/a/ai.0.js",o.getElementsByTagName("script")[0].parentNode.appendChild(l);try{u.cookie=o.cookie}catch(t){}for(u.queue=[],u.version="1.0",s=["Event","Exception","Metric","PageView","Trace","Dependency"];s.length;)e("track"+s.pop());return e("set"+i),e("clear"+i),e("start"+r),e("stop"+r),e("start"+c),e("stop"+c),e("flush"),t.disableExceptionTracking||(e("_"+(s="onerror")),a=n[s],n[s}),u}({instrumentationKey:t||this.appInsightsKey,disableExceptionTracking:!0,disableAjaxTracking:!0,maxAjaxCallsPerView:0}),window.appInsights=this.APP_INSIGHTS}catch(t){this.APP_INSIGHTS=null}else this.APP_INSIGHTS=null},n.prototype.isIni},n.prototype.trackEven},n)},function(t,e,o){"use strict";var n=o(7),i=o(2),r=o(5),s=o(3),a=o(1}var c=new(u.prototype.detect=function(){var s=this;return new Promise(function(t,e){s.options=s.merge(s.defaults,s.options||{});var o=s.createNode(s.options.testNodeClasses,s.options.testNodeStyle),n=0,i=!1,r=setInterval(function(){n++,!(i=s.isNodeBlocked(o))&&n!==s.options.testRuns||(clearInterval(r),o.parentNode&&o.parentNode.removeChild(o)),t(i)},s.options.testInterval)})},u.prototype.createNod},u.prototype.isNodeBlocke},u.prototype.merg},u),l=o(0);o.d(e,"a",function(){return p});var p=(d.prototype.getUrl=function(){var t=!!this.resourceModel.defaultURL||0===this.resourceModel.predefinedURLs.length;return new n.a(this.getCurrentUrl(),this.resourceModel,t)},d.prototype.getCurrentUrl=function(){return this.resourceModel.defaultURL||this.resourceModel.predefinedURLs[this.usedLoadAttempts]},d.prototype.load=function(){var e=this,o=this.getFullUrl();return this.loadResourcePromise(o).then(function(){return e.successLoad(o),o.setSuccess(),Promise.resolve(o)}).catc})},d.prototype.loadCallbac},d.prototype.getFullUrl=function(){var t=this.getUrl();if(this.resourceModel.cache)t.path=this.setCacheByVersion(t.path);else{var e=new Date;t.path=t.path+"?"+e.getFullYear()+e.getMonth()+e.getDate()}return t},d.prototype.setCacheByVersion=function(t){return this.resourceModel.version?t+"?"+this.resourceModel.version:t},d.prototype.successLoad=function(t){t.isDefault||r.a.saveAsCurrent(this.plugin.data.name,t.path,t.type)},d.prototype.errorLoad=function(e){var o=this;return r.a.deleteCurrentResource(this.plugin.data.name,e.type),r.a.saveAsBlocked(this.plugin.data.name,e.path),this.getResourceStatus(e.path).then(function(t){return e.setFail(t),e.isDefault?Promise.resolve(e):o.loadNextResource(e)})},d.prototype.loadNextResource=function(t){return this.usedLoadAttempts++,this.load()},d.prototype.loadResourcePromise=function(t){switch(this.resourceModel.type){case i.a.TYPES.script:return this.loadScriptHandler(t);case i.a.TYPES.style:return this.loadStyleHandler(t);default:l.a.warning(["Unknown resource type. we used only script and type "])}},d.prototype.loadResourceCallback=function(t){switch(this.resourceModel.type){case i.a.TYPES.script:return this.loadScript(t,this.onResolve,this.onReject);case i.a.TYPES.style:return this.loadStyle(t,this.onResolve,this.onReject);default:l.a.warning(["Unknown resource type. we used only script and type "])}},d.prototype.getResourceStatus=function(t){return c.detect().then(function(e){return fetch(t,{method:"HEAD",mode:"no-cors"}).then(function(t){return Promise.resolve({status:t.status,isAdBlock:e})}).catc})})},d.prototype.loadScriptHandler=function(o){var n=this;return this.resourceModel.isMain&&o.setResourceAsMainScript(),new Promise(function(t,e){n.loadScript(o,t,e)})},d.prototype.loadScript=function(t,e,o){var n=document.createElement("script");n.src=t.path,n.async=this.resourceModel.async,n.setAttribute("crossorigin",this.resourceModel.crossOrigin),document.getElementsByTagName("head")[0].appendChild(n),n.onload=function(){l.a.default(["onload",t.path]),e()},n.onerror=function(){l.a.warning(["onerror",t.path]),o()}},d.prototype.loadStyleHandle},d.prototype.loadStyle=function(t,e,o){var n=document.createElement("link");n.href=t.path,n.type="text/css",n.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(n),n.onload=function(){e()},n.onerro}},d);function d(t,e,o,n){this.loadAttempts=1,this.blockAttempts=1,this.usedLoadAttempts=0,this.usedBlockAttempts=0,this.callbackMode=!1,this.resourceModel=e,this.plugin=t,this.resourceModel.defaultURL=s.a.parseVariables(this.resourceModel.defaultURL,a.a.getUrlParsedProperties()),this.onResolve=o,this.onReject=n,this.callbackMode=!(!o&&!n)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Plugin});var _ResourceFactory__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_Constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_Configuration__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_PluginInitOverride__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11),_LoaderStorage__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_Utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_services_logService_LogService__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),_services_logService_constants_ELogType__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4),Plugin=function(}return Plugin.prototype.load=function(){var e=this;return this.loadResources().then(function(t){return e.trackResourceStatuses(t),t.every(function(t){return t.isLoaded})?(e.mainScript=t.find(function(t){return t.isMainScript}),Promise.resolve(e)):Promise.resolve(null)})},Plugin.prototype.trackResourceStatuses=function(t){var e=this;t&&0<t.length&&t.forEach(function(t){t.isLoaded?_services_logService_LogService__WEBPACK_IMPORTED_MODULE_6__.a.default([e.data.name,"loaded by path -",t.path]):(_services_logService_LogService__WEBPACK_IMPORTED_MODULE_6__.a.warning([e.data.name," was not loaded by path -",t.path,"reason",t.reason]),_services_logService_LogService__WEBPACK_IMPORTED_MODULE_6__.a.warning({plugin:e.data.name,path:t.path,reason:t.reason,adBlock:t.isAdblocked},_Constants__WEBPACK_IMPORTED_MODULE_1__.a.EVENTS.ResourceWasNotLoaded,_services_logService_constants_ELogType__WEBPACK_IMPORTED_MODULE_7__.a.AppInsight))})},Plugin.prototype.setScriptMain=function(){var t=this.data.resources.filter(function(t){return t.type==_Constants__WEBPACK_IMPORTED_MODULE_1__.a.TYPES.script&&t.isMain});if(!(t&&0<t.length)){var o=0;this.data.resources.find(function(t,e){return o=e,t.type==_Constants__WEBPACK_IMPORTED_MODULE_1__.a.TYPES.script}),this.data.resources[o].isMain=!0}},Plugin.prototype.loadResources=function(){var o=this,t=this.data.resources,n=[];return t.forEach(function(t){var e=new _ResourceFactory__WEBPACK_IMPORTED_MODULE_0__.a(o,t).create();n.push(e.load())}),Promise.all(n)},Plugin.prototype.init=function(){if(!this.data.globalObjectName||!this.data.initMethodName)return Promise.reject("Plugin is not has init methods");this.mergeInitOptions(),this.initCustomOptions(),this.mergeClientOptions(),this.mergePredefinedInitSettings(),this.overrideInits();try{var t=void 0,e=window[this.data.globalObjectName];return t="function"==typeof e?e()[this.data.initMethodName]:window[this.data.globalObjectName][this.data.initMethodName],this.data.isInitMethodPromise?t(this.initOptions):(t(this.initOptions),Promise.resolve(!0))}catch(t){return Promise.reject(t)}},Plugin.prototype.overrideInits=function(){var t=_Configuration__WEBPACK_IMPORTED_MODULE_2__.a.getOverrides();if(t&&0<t.length){var e=new _PluginInitOverride__WEBPACK_IMPORTED_MODULE_3__.a(t,this).getCustomInits();_Utils__WEBPACK_IMPORTED_MODULE_5__.a.mergeDeep(this.initOptions,e)}},Plugin.prototype.mergeClientOptions=function(){var e=this,t=this.loader.initOptions.plugins.fin});t?(this.initOptions=Object.assign(this.initOptions,t.initOptions),this.initOptions.siteCode=this.initOptions.siteCode||_Configuration__WEBPACK_IMPORTED_MODULE_2__.a.getSiteCode(),this.initOptions.layoutCode=this.initOptions.layoutCode||_Configuration__WEBPACK_IMPORTED_MODULE_2__.a.getLayoutCode()):_services_logService_LogService__WEBPACK_IMPORTED_MODULE_6__.a.warning([this.data.name,"client options is not set"])},Plugin.prototype.initCustomOption},Plugin.prototype.initResourceUrl=function(){var t=document.createElement("a");t.href=this.mainScript.path,this.initOptions.resourceUrl=t.protocol+"//"+t.hostname},Plugin.prototype.mergeInitOptions=function(){this.mergeFromFlyInitSettings();var t=_LoaderStorage__WEBPACK_IMPORTED_MODULE_4__.a.get(this.data.name+"_settings");if(t)try{this.mergeInitPropWithLocalStorage(this.initOptions,t)}catch(t){_services_logService_LogService__WEBPACK_IMPORTED_MODULE_6__.a.warning(["error of overriding settings",t])}},Plugin.prototype.mergePredefinedInitSettings=function(){null!==this.data.predefinedInitSettings&&"object"==typeof this.data.predefinedInitSettings&&this.mergeInitPropWithConfig(this.data.predefinedInitSettings,this.initOptions)},Plugin.prototype.mergeFromFlyInitSettings=function(){if(this.data.flyCalculatedInitSettings&&"object"==typeof this.data.flyCalculatedInitSettings)try{for(var property in this.data.flyCalculatedInitSettings){var calculateProperty=this.data.flyCalculatedInitSettings[property];if("function"==typeof calculateProperty&&(this.initOptions[property]=calculateProperty.call()),"string"==typeof calculateProperty){var sFunction=eval("("+calculateProperty+")");this.initOptions[property]=sFunction.call()}}}catch(t){_services_logService_LogService__WEBPACK_IMPORTED_MODULE_6__.a.warning(["flyCalculatedInitSettings calculate has errors",t])}},Plugin.prototype.mergeInitPropWithLocalStorag},Plugin.prototype.mergeInitPropWithConfig=function(t,e){for(var o in t){var n=o,i=!1;o.endsWith(_Constants__WEBPACK_IMPORTED_MODULE_1__.a.ImportantPostfix)&&(i=!0,n=o.replace(_Constants__WEBPACK_IMPORTED_MODULE_1__.a.ImportantPostfix,"")),void 0===e[n]?e[n]=t[o]:i?e[n]=t[o]:"object"==typeof t[o]&&"object"==typeof e[n]&&this.mergeInitPropWithConfig(t[o],e[n])}},Plugin.prototype.initEnvironment=function(){this.initOptions.environment||(this.initOptions.environment=_Configuration__WEBPACK_IMPORTED_MODULE_2__.a.getEnvironment())},Plugin.prototype.initSessionI},Plugin.prototype.processLoadInitCode=function(){var initCode;if(this.data.loadInitCode&&("function"==typeof this.data.loadInitCode&&(initCode=this.data.loadInitCode.call()),"string"==typeof this.data.loadInitCode)){var sFunction=eval("("+this.data.loadInitCode+")");initCode=sFunction.call()}initCode?this.data.loadCodeInitSettings&&this.data.loadCodeInitSettings[initCode]?this.initOptions=Object.assign(this.initOptions,this.data.loadCodeInitSettings[initCode]):_services_logService_LogService__WEBPACK_IMPORTED_MODULE_6__.a.warning(["There is no calculate init settings for code",initCode]):_services_logService_LogService__WEBPACK_IMPORTED_MODULE_6__.a.warning(["there is no calculate init code",this.data.loadInitCode])},Plugin}()},function(t,e,o){"use strict";o.d(e,"a",function(){return i});var n=o(1),r=o(3),i=(s.prototype.findCurrentPlugin=function(t){if(t&&t.plugins)for(var e=t.plugins.length,o=0;o<e;o++){var n=t.plugins[o];if(n.name==this.plugin.data.name)return n.initOptions}return null},s.prototype.getTypeInits=function(t,e,o){var n={};if(t&&t[e]&&t[e][o]){var i=this.findCurrentPlugin(t[e][o]);i&&r.a.mergeDeep(n,i)}return n},s.prototype.getCustomInits=function(){var n={},i=this;return this.overrides.forEach(function(t){var e=i.getTypeInits(t,"siteCodes",i.siteCode),o=i.getTypeInits(t,"customLayouts",i.layoutCode);r.a.mergeDeep(n,e,o)}),n},s);function s(t,e){this.overrides=[],this.plugin=e,this.overrides=t,this.siteCode=n.a.getSiteCode(),this.layoutCode=n.a.getLayoutCode()}},function(t,e,o){"use strict";var n,i,r=o(2),s=o(1),a=o(9),u=o(5),c=o(7),l=o(3),p=o(0),d=o(4),h=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),f=(i=a.a,h(g,i),g.prototype.getUrl=function(){var t=u.a.getStoredUrl(this.plugin.data.name,this.resourceModel.type);if(0==this.usedLoadAttempts&&t&&this.isActualUrl(t))return new c.a(t,this.resourceModel);var e=this.calculateNextUrl();return e||new c.a(this.resourceModel.defaultURL,this.resourceModel,!0)},g.prototype.calculateNextUrl=function(){var t=this.getAvailableUrls();return this.isRandomUrlSelect()?this.getRandomUrl(t.length):this.getNextUrl(this.currentIndex)},g.prototype.isRandomUrlSelec},g.prototype.getRandomUrl=function(t){if(0<t){var e=this.getRandomIndex(0,this.resourceURLs.length-1),o=this.resourceURLs[e];return this.isValidUrl(o)?new c.a(o,this.resourceModel):this.getRandomUrl(t--)}return null},g.prototype.getNextUrl=function(t){if(t<this.resourceURLs.length){var e=this.resourceURLs[t];return this.isValidUrl(e)?new c.a(e,this.resourceModel):this.getNextUrl(t++)}return null},g.prototype.isValidUrl=function(t){return!!t&&(u.a.isAlreadyBlockedUrl(this.plugin.data.name,t)||g.isValidURL(t))},g.prototype.getAvailableUrl},g.prototype.isActualUr},g.prototype.getRandomInde},g.prototype.validateUniqueURLs=function(){var e=this.resourceURLs.ma}).reduc},{}),t=Object.keys(e).filte});0<t.length&&p.a.warning({plugin:this.plugin.data.name,duplicates:t.toString()},r.a.EVENTS.OptionsHaveDuplicateURLs,d.a.AppInsight)},g.isValidUR},g);function g(t,e){var o=i.call(this,t,e)||this;return o.resourceURLs=[],o.currentIndex=0,o.resourceURLs=o.getAvailableUrls(),o.loadAttempts=o.resourceURLs.length,o.blockAttempts=s.a.getBlockAttempts(),s.a.getUrlParsedProperties().version=o.resourceModel.version,o.resourceURLs=o.resourceURLs.ma}),o.validateUniqueURLs(),o}var _,y,v=((_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)})(m,y=f),m.prototype.getAvailableUrl},m.prototype.loadNextResource=function(t){return this.usedLoadAttempts++,this.usedLoadAttempts<this.totalAttempts?(this.currentIndex=this.resourceURLs.indexOf(t.path.split("?")[0])+1,this.currentIndex>=this.resourceURLs.length&&(this.currentIndex=0),this.load()):(t.setFail({status:"try to load predefined url but usedLoadAttempts > loadAttempts or usedBlockAttempts > blockAttempts"}),Promise.resolve(t))},m);function m(t,e){var o=y.call(this,t,e)||this;return o.totalAttempts=o.loadAttempts*o.blockAttempts,o}var C="0123456789ABCDEFGHIJKLMNOPQabcdefghijklmnopqrstuvwxyz",P},function(t){for(var e,o,n,i,r="",s=0;s<t.length;s++)e=t.substring(s,s+1),o=C.indexOf(e),i=C.substring(n=1^o,1+n),r+=i;return r},function(t){for(var e=0,o=0,n=0,i="Secret key",r="",s=0;s<i.length;s++)e+=i.charCodeAt(s);var a=e;for(s=0;s<t.length;s++){n==i.length&&(n=0),a<1&&(a=e+o);var u=a%i.charCodeAt(n),c=t.charCodeAt(s)+u;o+=a%i.charCodeAt(n),a-=i.charCodeAt(n),n++,r+=parseInt(""+c/52)+C.charAt(parseInt(""+c%52))}return r},function(t){return t[0]+t[t.length-1]+t.length+t[t.length-1]+t[0]+"rr"+t.length+"j"},function(t){var e="";if(t.split("").forEach(function(t){e+=String.fromCharCode(t.charCodeAt()+2)+t+String.fromCharCode(t.charCodeAt()-2)}),(e=e.replace(/[^a-z0-9]/gi,"")).length<8)for(var o=e.length;o<8;o++)e+=String.fromCharCode(96+2*o);return e}}var E,R,S=new(O.prototype.generate=function(o){return P.forEach(function(t){var e="https://cdn."+t(o)+".com/";this.xCodeCDNs.push(e)}.bind(this)),[]},O),I=((E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)})(L,R=f),L.prototype.getAvailableUrl},L.prototype.loadNextResource=function(t){return this.usedLoadAttempts<=this.loadAttempts?this.load():(t.setFail({status:"try to load dynamic url but usedLoadAttempts > loadAttempts"}),Promise.resolve(t))},L);function L(t,e){return R.call(this,t,e)||this}var b,A,M=(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array}}),U=(A=a.a,M(w,A),w.prototype.getUrl=function(){return new c.a(this.resourceModel.defaultURL,this.resourceModel,!0)},w.prototype.loadNextResourc},w}o.d(e,"a});var D=(x.prototype.create=function(){switch(this.mode){case r.a.MODES.predefined:return new v(this.plugin,this.data);case r.a.MODES.dynamic:return new I(this.plugin,this.data);default:return new U(this.plugin,this.data)}},x.prototype.getMode=function(){return this.data.predefinedURLs&&Array.isArray(this.data.predefinedURLs)&&0<this.data.predefinedURLs.length?r.a.MODES.predefined:!this.data.predefinedURLs&&this.data.xCode?r.a.MODES.dynamic:r.a.MODES.default},x}},function(t,e,o){"use strict";o.r(e);var n=o(3),r=o(8),s=o(1),i=o(10),a=o(0);function u(){this.pendingPlugins=[]}var c=new(u.prototype.loadAndInitPlugins=function(t){var o=this;this.loader=t;var e=this.sortPluginsByOrder(s.a.getPlugins()),n=this.loader.initOptions.plugins.ma});return e.filte}).forEach(function(t){var e=new i.a(t,o.loader);o.pendingPlugins.push(e.load())}),Promise.all(this.pendingPlugins).the}).catch(function(t){return a.a.warning(["Some from plugins is not loaded",t]),Promise.resolve()})},u.prototype.initializeSequentially=function(e){var o=this,n=e[0],t=n.init();return e.shift(),t.then(function(){return a.a.default(["Plugin "+n.data.name,"is initialized"]),o.initNextPlugin(e)}).catch(function(t){return a.a.warning(["Plugin "+n.data.name,"is NOT initialized. ",t]),o.initNextPlugin(e)})},u.prototype.initNextPlugin=function(o){var n=this;return new Promise(function(t,e){0!=o.length?n.initializeSequentially(o).the}).catc}):t(null)})},u.prototype.sortPluginsByOrder=function(o){var t=s.a.getPlaginsInitOrder(),n=[];return t.forEach(function(e){var t=o.find(function(t){return t.name==e});t&&n.push(t)}),o.forEach(function(e){t.som})||n.push(e)}),n},u),l=o(9}var d=new(p.prototype.loadDefaultResources=function(t,e){void 0===e&&(e=!1);var o=[{type:"script",defaultURL:"https://polyfill.io/v3/polyfill.min.js?flags=gated&features=es5%2CCustomEvent%2CArray.from%2CArray.isArray%2CArray.prototype.filter%2CArray.prototype.find%2CArray.prototype.findIndex%2CArray.prototype.forEach%2CArray.prototype.indexOf%2CArray.prototype.keys%2CArray.prototype.lastIndexOf%2CArray.prototype.map%2CArray.prototype.reduce%2CDate.prototype.toISOString%2CDocumentFragment%2CDocumentFragment.prototype.append%2CDocumentFragment.prototype.prepend%2CElement%2CElement.prototype.after%2CElement.prototype.append%2CElement.prototype.before%2CElement.prototype.classList%2CElement.prototype.cloneNode%2CElement.prototype.closest%2CElement.prototype.dataset%2CElement.prototype.matches%2CElement.prototype.placeholder%2CElement.prototype.prepend%2CElement.prototype.remove%2CElement.prototype.replaceWith%2CElement.prototype.toggleAttribute%2CEvent%2CJSON%2CMap%2CNumber.parseInt%2CNumber.parseFloat%2CObject.assign%2CObject.create%2CObject.defineProperties%2CObject.defineProperty%2CObject.entries%2CObject.getOwnPropertyDescriptor%2CObject.getOwnPropertyNames%2CObject.is%2CObject.keys%2CObject.values%2CPromise%2CPromise.prototype.finally%2CSet%2CString.prototype.trim%2CXMLHttpRequest%2Cdocument.getElementsByClassName%2Cdocument.currentScript%2Cdocument.querySelector%2Cfetch%2CgetComputedStyle%2ClocalStorage%2CArray.prototype.some%2CDate.now%2CEvent.focusin%2CEventSource%2CFunction.prototype.bind%2CFunction.prototype.name%2CHTMLDocument%2CNodeList.prototype.forEach%2CNodeList.prototype.%40%40iterator%2CNode.prototype.contains%2CObject.getPrototypeOf%2CObject.setPrototypeOf%2CRegExp.prototype.flags%2CString.prototype.%40%40iterator%2CString.prototype.startsWith%2CString.prototype.endsWith%2Cconsole%2Cconsole.debug%2Cconsole.error%2Cconsole.info%2Cconsole.log%2Cdocument%2Cdocument.head%2Cdocument.visibilityState%2Clocation.origin%2CrequestIdleCallback%2Cscreen.orientation%2CmatchMedia%2CURL",predefinedURLs:[],crossOrigin:"true",cache:!0,async:!0,isMain:!1,version:void 0,xCode:void 0}];return this._loadResources(o,t,e)},p.prototype.loadConfigurationResources=function(t,e){void 0===e&&(e=!1);var o=s.a.getResources();return this._loadResources(o,t,e)},p.prototype._loadResources=function(o,n,i){var r=this;function s(t,e){return function(){void 0===r.pendingResources[e]&&(r.pendingResources[e]=t,(++a===o.length||i&&!t)&&n(r.pendingResources))}}void 0===i&&(i=!1);var a=0;o.forEach(function(t,e){new l.a(null,t,s(!0,e),s(!1,e)).loadCallback()})},p),h=(f.prototype.init=function(o){var n=this,i=Date.now();if(!o||!o.plugins||!o.plugins.length)throw{name:"nxtError",message:"Plugins are required for loader. Please, specify at least one plugin for downloading. "};d.loadDefaultResources(function(){return n.initOptions=o,n.listenIsNeedReCalculateSessionId(),o.appInsightsKey&&r.a.init(o.appInsightsKey),s.a.getDataFromJSON(n,o.CONFIG_URL).then(function(t){if(!s.a.checkInitCondition())return a.a.warning("initCondition failed !!!!"),!1;r.a.isInit()||r.a.init(t.appInsightsKey);var e=["isNotFoundPage","isLoadedByBot","isMatchesUrlMask"];return o.allowIframe||e.push("inIframe"),s.a.excludePluginsByRules(e),c.loadAndInitPlugins(n).then(function(t){var e=Date.now()-i;return a.a.default(["Init time ",e," ms"]),Promise.resolve(t)})})})},f.prototype.GetVersionInf},f.prototype.SetLoggerOptions=function(t,e){void 0===t&&(t=!1),a.a.setOptions({isEnable:t,level:e})},f.prototype.reCalculateSessionId=function(){var t=new CustomEvent("Loader:Recalculate:SessionId",{detail:n.a.generateGuid()});window.dispatchEvent(t)},f.prototype.listenIsNeedReCalculateSessionI},f);function f(){this.sessionId=n.a.generateGuid(),this.initOptions={}}window.MG2Loader=new h}]);
