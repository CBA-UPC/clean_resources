"use strict";(window.webpackChunkNRBA=window.webpackChunkNRBA||[]).push([[78],{625:(t,e,s)=>{s.d(e,{I:()=>i});var i=0,r=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);r&&(i=+r[1])},2573:(t,e,s)=>{s.d(e,{o:()=>d});var i=s(4247),r=s(1117),n=s(8673),a=s(8310),h=s(5763),o=s(3860);class d extends r.w{constructor(t,e,s){super(s),this.endpoint=t,this.opts=e||{},this.started=!1,this.timeoutHandle=null,this.aborted=!1,this.harvest=new n.M(this.sharedContext),(0,a.L)(this.unload.bind(this),(0,h.Mt)(this.sharedContext.agentIdentifier,"allow_bfcache")),this.sharedContext?.ee.on(o.wO.RESET,(()=>this.runHarvest({forceNoRetry:!0})))}unload(){this.aborted||(this.opts.onUnload&&this.opts.onUnload(),this.runHarvest({unload:!0}))}startTimer(t,e){this.interval=t,this.started=!0,this.scheduleHarvest(null!=e?e:this.interval)}stopTimer(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.aborted=t,this.started=!1,this.timeoutHandle&&clearTimeout(this.timeoutHandle)}scheduleHarvest(t,e){if(!this.timeoutHandle){var s=this;null==t&&(t=this.interval),this.timeoutHandle=setTimeout((()=>{s.timeoutHandle=null,s.runHarvest(e)}),1e3*t)}}runHarvest(t){if(this.aborted)return;var e=this;let s,r=[];if(this.opts.getPayload){if(s=(0,n.q)(this.endpoint,t),!s)return!1;const e=s.method===i.T.xhr;var a=this.opts.getPayload({retry:e});if(!a)return void(this.started&&this.scheduleHarvest());a="[object Array]"===Object.prototype.toString.call(a)?a:[a],r.push(...a)}let h=t=>this.harvest.sendX(t);return r.length?h=this.opts.raw?t=>this.harvest._send(t):t=>this.harvest.send(t):r.push(void 0),r.forEach((e=>{h({endpoint:this.endpoint,payload:e,opts:t,submitMethod:s,cbFinished:o,customUrl:this.opts.customUrl,raw:this.opts.raw})})),void(this.started&&this.scheduleHarvest());function o(s){t?.forceNoRetry&&(s.retry=!1),e.onHarvestFinished(t,s)}}onHarvestFinished(t,e){if(this.opts.onFinished&&this.opts.onFinished(e),e.sent&&e.retry){var s=e.delay||this.opts.retryDelay;this.started&&s?(clearTimeout(this.timeoutHandle),this.timeoutHandle=null,this.scheduleHarvest(s,t)):!this.started&&s&&this.scheduleHarvest(s,t)}}}},8310:(t,e,s)=>{s.d(e,{L:()=>o});var i=s(625),r=s(3239),n=s(7872),a=s(1720),h=s(7956);if(a.v6){a._A.cleanupTasks=[];const t=a._A.close;a._A.close=()=>{for(let t of a._A.cleanupTasks)t();t()}}function o(t,e){if(a.il)if(e)(0,h.N)(t,!0),(0,r.bP)("pagehide",t);else{var s=(0,n.Z)(t);!i.I||navigator.sendBeacon?(0,r.bP)("pagehide",s):(0,r.bP)("beforeunload",s),(0,r.bP)("unload",s)}else a.v6&&a._A.cleanupTasks.push(t)}},1832:(t,e,s)=>{s.r(e),s.d(e,{Aggregate:()=>v});var i=s(1284),r=s(4351),n=s(4322),a=s(2573),h=s(4222),o=s(5763),d=s(4649),u=s(8e3),c=s(1720),l=s(2222);class v extends l.m{static featureName=d.t;constructor(t,e){var s;super(t,e,d.t),s=this,this.eventsPerMinute=240,this.harvestTimeSeconds=(0,o.Mt)(this.agentIdentifier,"page_action.harvestTimeSeconds")||(0,o.Mt)(this.agentIdentifier,"ins.harvestTimeSeconds")||30,this.eventsPerHarvest=this.eventsPerMinute*this.harvestTimeSeconds/60,this.referrerUrl,this.currentEvents,this.events=[],this.att=(0,o.C5)(this.agentIdentifier).jsAttributes,c.il&&document.referrer&&(this.referrerUrl=(0,h.f)(document.referrer)),(0,n.X)("api-addPageAction",(function(){return s.addPageAction(...arguments)}),this.featureName,this.ee);var i=new a.o("ins",{onFinished:function(){return s.onHarvestFinished(...arguments)}},this);i.harvest.on("ins",(function(){return s.onHarvestStarted(...arguments)})),this.ee.on("drain-".concat(this.featureName),(()=>{this.blocked||i.startTimer(this.harvestTimeSeconds,0)})),(0,n.X)("block-ins",(()=>{this.blocked=!0,i.stopTimer(!0)}),this.featureName,this.ee),(0,u.L)(this.agentIdentifier,this.featureName)}onHarvestStarted(t){const{userAttributes:e,atts:s}=(0,o.C5)(this.agentIdentifier);var i={qs:{ua:e,at:s},body:{ins:this.events}};return t.retry&&(this.currentEvents=this.events),this.events=[],i}onHarvestFinished(t){t&&t.sent&&t.retry&&this.currentEvents&&(this.events=this.events.concat(this.currentEvents),this.currentEvents=null)}addPageAction(t,e,s){if(!(this.events.length>=this.eventsPerHarvest||this.blocked)){var n,a,d={};c.il&&window.document.documentElement&&(n=window.document.documentElement.clientWidth,a=window.document.documentElement.clientHeight);var u={timestamp:t+(0,o.OP)(this.agentIdentifier).offset,timeSinceLoad:t/1e3,browserWidth:n,browserHeight:a,referrerUrl:this.referrerUrl,currentUrl:(0,h.f)(""+location),pageUrl:(0,h.f)((0,o.OP)(this.agentIdentifier).origin),eventType:"PageAction"};(0,i.D)(u,l),(0,i.D)((0,o.C5)(this.agentIdentifier).jsAttributes,l),s&&"object"==typeof s&&(0,i.D)(s,l),d.actionName=e||"",this.events.push(d)}function l(t,e){d[t]=e&&"object"==typeof e?(0,r.P)(e):e}}}},4649:(t,e,s)=>{s.d(e,{t:()=>i});const i=s(3325).D.pageAction}}]);