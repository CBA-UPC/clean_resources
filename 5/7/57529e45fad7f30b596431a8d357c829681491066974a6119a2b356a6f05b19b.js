(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5817],{48456:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return gs}});var r=n(19889),o=n(67294),i="Please select a password with 20 or fewer characters.",a="Please select a password with 8 or more characters.",l="Please create a password that includes at least one lowercase character, one uppercase character, a symbol and a number",c="Please enter a valid Email",s="errors not found.",u="Email address was not found",d="Please enter a valid Email.",p="Member Exists",f="Email address already exists, please sign in or reset password",m="email sent",y="Please check your email.",v="MemberFound",h="MemberNotFound",_="login",g="signup",b="preRegister",E="preRegisterPassword",w="swapLogin",S="forgotPassword",T="existingUser",O="successSubscriber_swap",N="welcomeBack",I="relogin",P="gnavVariant1",A="gnavVariant2",R="customSWAP",k="marketing_v1",x="setPassword",C="enterPassword",D="customSetPassword",M="forgotPwdV1Final",j="myaccountLogin",L="reset_pwd",G="add_password",B="update_password",F="context_aware_web",H="email_me_link",U="error-content",W=[g,_,w],V=("An email has been sent to ".concat("EMAIL_COMES_HERE"," to add a password later."),"password"),z="provider_google_id_token",K="passwordless_email",Z="provider_apple_id_token",X="signUp",q="provider_facebook_access_token",Y="email_me_link",J="RAAS_WEB_DYNAMIC",$="ENABLE_FIND_STATUS_BY_EMAIL",Q={RAAS_WEB_DYNAMIC:{KEY:"RAAS_WEB_DYNAMIC",VARIATIONS:{C:"C",V1:"V1"}},RAAS_WEB_GNAV:{KEY:"RAAS_WEB_GNAV",VARIATIONS:{C:"c",V1:"v1",V2:"v2"}}},ee="1077613200872-2643uknuh1i8rfjgjd0jrkmm3frqqdo9.apps.googleusercontent.com",te={SIGNIN:"WebPushEvent:signin",SIGNUP:"WebPushEvent:signup"},ne="/myaccount/profile/settings",re="/myaccount/signin";function oe(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}var ie="undefined"!=typeof window;function ae(e,t,n){if(ie){var r=document.getElementsByTagName(e);if(r&&0!==r.length){var o=document.createElement(t);for(var i in n)o[i]=n[i];r[0].appendChild(o)}}}function le(){ie&&window.gapi.load("auth2",(function(){window.auth2=window.gapi.auth2.init({client_id:ee,scope:"profile email"})}))}var ce,se,ue,de,pe=function(e){return e===T},fe=me=function(){var e,t=ie&&(null===(e=localStorage)||void 0===e?void 0:e.getItem("authorizationObj")),n=t?JSON.parse(t):null,r=function(e){if(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map((function(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))})).join(""));try{if(n&&JSON.parse(n))return JSON.parse(n)}catch(e){return null}}return null}(null===n||void 0===n?void 0:n.access_token);return r?r.sub.split("|")[1]:null},ye=function(e){var t=me();t&&function(e){var t=e.memberId,n=void 0===t?null:t,r=e.isNewMember;ie&&window.appboy&&n&&(window.appboy.changeUser(n),void 0!==r&&r?window.appboy.logCustomEvent(te.SIGNUP,{memberId:n}):window.appboy.logCustomEvent(te.SIGNIN,{memberId:n}))}({memberId:t,isNewMember:e})},ve=function(e){var t=e.isActive,n=e.isNewMember;ie&&window.dispatchEvent(new CustomEvent("raasxLoginSuccess",{detail:!(void 0!==t)||t})),ye(void 0!==n&&n)},he=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;ie&&window.dispatchEvent(new CustomEvent("raasxLoginFail",{detail:e}))},_e=function(e,t,n){localStorage.setItem("authorizationObj",JSON.stringify({access_token:e,refresh_token:t,expires_in:n}))},ge=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){oe(l,r,o,i,a,"next",e)}function a(e){oe(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}(();return function(){return e.apply(this,arguments)}}(),be=function(){return ce},Ee=function(e){ce=e},we=function(){return se},Se=function(e){return e===L},Te=function(e){return e===G},Oe=function(){return ue},Ne=function(e){ue=e},Ie={CURRENT_FLOW:"",MODAL_NAME:"",SWAP_VARIANT:""},Pe=Ae=Re=function(e){de=e},ke={LANDING_PAGE:{HEADER_TITLE:"Log in or create an account",HEADER_DESC:""},PASSWORD_PAGE:{signIn:{HEADER_TITLE:"Please enter your password",HEADER_DESC:""},signUp:{HEADER_TITLE:"Create a password to set up account",HEADER_DESC:""}},MARKETING_OPT_IN:{HEADER_TITLE:"Thanks for choosing realtor.com",HEADER_DESC:"Get the latest news about real estate and tips to buy or sell properties."},MARKETING:{DISCLAIMER:"Realtor.com will never share your information or spam you",BTN_LABEL:"Yes, keep me updated",BTN_TEST_ID:"marketing-btn",NO_THANKS_BTN_LABEL:"No, thanks",NO_THANKS_ANCHOR_TEST_ID:"disclaimer_no_thanks"},PRO_FORM:{SIGNIN:"Log in",JOIN:"create an account",SIGNIN_TEST_ID:"signin_link",JOIN_TEST_ID:"join_link",SIGNIN_HREF:"https://dashboard.realtor.com/login",JOIN_HREF:"https://dashboard.realtor.com/signup"},LANDING_FORM:{EMAIL_FIELD:{PLACEHOLDER:"Enter your email",TEST_ID:"email-input-field"},SUBMIT_BTN:{LABEL:"Continue",TEST_ID:"login-submit-btn"},SHOW_OPTIONS:{SHOW_MORE_OPTIONS:"Show more options",SHOW_LESS_OPTIONS:"Show less options"}},SET_PASSWORD_FORM:{PWD_FIELD:{PLACEHOLDER:"Enter password",TEST_ID:"passwd-input-field"},SUBMIT_BTN:{LABEL:"Sign up",TEST_ID:"set-pwd-submit-btn"},BACK_BTN:{TEST_ID:"set-pwd-bck-btn",LABEL:"Back"},TERMS:{TERMS_OF_USE:{LABEL:"Terms of Use",TEST_ID:"terms-text",HREF:"http://marketing.move.com/terms-of-service/"},PRIVACY_POLICY:{LABEL:"Privacy Policy",TEST_ID:"privacy-text",HREF:"http://www.move.com/company/privacy.aspx"}}},ENTER_PASSWORD_FORM:{FORGOT_PWD:{LABEL:"Forgot Password"},PWD_FIELD:{PLACEHOLDER:"Enter your password",TEST_ID:"passwd-input-field"},SUBMIT_BTN:{LABEL:"Login",TEST_ID:"enter-pwd-submit-btn"},BACK_BTN:{TEST_ID:"enter-pwd-bck-btn",LABEL:"Back"}},FORGOT_PWD:{EMAIL_FIELD:{PLACEHOLDER:"Enter your email",TEST_ID:"email-input-field"},SUBMIT_BTN:"Send email",SCREEN1:{HEADER_TITLE:"Forgot Password?",HEADER_DESC:"No problem! We'll send an email with a link  to reset  your password."},SCREEN2:{HEADER_TITLE:"Almost done!",HEADER_DESC:"Please check your inbox for password reset instructions.",HEADER_DESC2:"Don't see the email? Be sure to check your spam folder.",SUBMIT_BTN:"Close"}}},xe={LANDING_PAGE:{HEADER_TITLE:"Log in or create an account",HEADER_DESC:""},PASSWORD_PAGE:{signUp:{HEADER_TITLE:"Add a password",HEADER_DESC:"Set a password to access your account on all your devices."},signIn:{HEADER_TITLE:"Welcome back!",HEADER_DESC:"Please enter the password associated with {{email}} to continue."},WELCOMEBACK:{HEADER_TITLE:"Welcome back!",HEADER_DESC:"We notice you haven't added the password yet. You'll need one to continue."}},MARKETING_OPT_IN:{HEADER_TITLE:"Thanks for signing up with realtor.com",HEADER_DESC:"Stay up to date with the latest tips, news, and insights on the real estate market."},MARKETING:{DISCLAIMER:"Realtor.com will never share your information or spam you",BTN_LABEL:"Yes, keep me updated",BTN_TEST_ID:"marketing-btn",NO_THANKS_BTN_LABEL:"No, thanks",NO_THANKS_ANCHOR_TEST_ID:"disclaimer_no_thanks"},PRO_FORM:{SIGNIN:"Log in",JOIN:"create an account",SIGNIN_TEST_ID:"signin_link",JOIN_TEST_ID:"join_link",SIGNIN_HREF:"https://dashboard.realtor.com/login",JOIN_HREF:"https://dashboard.realtor.com/signup"},LANDING_FORM:{EMAIL_FIELD:{PLACEHOLDER:"Enter your email",TEST_ID:"email-input-field"},SUBMIT_BTN:{LABEL:"Continue",TEST_ID:"login-submit-btn"},SHOW_OPTIONS:{SHOW_MORE_OPTIONS:"Show more options",SHOW_LESS_OPTIONS:"Show less options"}},SET_PASSWORD_FORM:{PWD_FIELD:{PLACEHOLDER:"Enter password",TEST_ID:"passwd-input-field"},SUBMIT_BTN:{LABEL:"Sign up",TEST_ID:"set-pwd-submit-btn"},BACK_BTN:{TEST_ID:"set-pwd-bck-btn",LABEL:"Back"},TERMS:{TERMS_OF_USE:{LABEL:"Terms of Use",TEST_ID:"terms-text",HREF:"http://marketing.move.com/terms-of-service/"},PRIVACY_POLICY:{LABEL:"Privacy Policy",TEST_ID:"privacy-text",HREF:"http://www.move.com/company/privacy.aspx"}}},ENTER_PASSWORD_FORM:{FORGOT_PWD:{LABEL:"Forgot Password"},PWD_FIELD:{PLACEHOLDER:"Enter your password",TEST_ID:"passwd-input-field"},SUBMIT_BTN:{LABEL:"Login",TEST_ID:"enter-pwd-submit-btn"},BACK_BTN:{TEST_ID:"enter-pwd-bck-btn",LABEL:"Back"}},FORGOT_PWD:{EMAIL_FIELD:{PLACEHOLDER:"Enter your email",TEST_ID:"email-input-field"},SUBMIT_BTN:"Send email",SCREEN1:{HEADER_TITLE:"Forgot Password?",HEADER_DESC:"No problem! We'll send an email with a link to reset your password."},SCREEN2:{HEADER_TITLE:"Almost done!",HEADER_DESC:"Please check your inbox for password reset instructions.",HEADER_DESC2:"Don't see the email? Be sure to check your spam folder.",SUBMIT_BTN:"Close"}},BUTTONS_DISPLAY_ORDER:[{key:"continue",text:"Continue"}]},Ce={NEW_PWD:{TEST_ID:"new_pwd",PLACEHOLDER:"New password"},CONFIRM_PWD:{TEST_ID:"confirm_pwd",PLACEHOLDER:"Confirm password"},RESET_PWD_SUB_DESCRIPTION:"Create your new password",SUBMIT_BTN:{TEST_ID:"reset_submit",TITLE:"Submit"},HEADER_TITLE:"Reset your password",HEADER_DESC:"Create your new password",BACK_TO_LOGIN:{TEST_ID:"back_to_login",TITLE:"Back to login"},BACK_TO_HOME:{TEST_ID:"back_to_home",TITLE:"Back to home"},ERROR:{HEADER_TITLE:"Error encountered updating password",HEADERDESC:"An error was encountered while trying to add your password.",SUBHEADING1:"Please return to the",ANCHORTEXT:" Realtor.com home page",SUBHEADING:" or continue your home search and try to add or reset your password later."}},De={ERROR:{HEADER_TITLE:"Error encountered while updating password",HEADERDESC:"An error was encountered while trying to update your password.",SUB_HEADING_TOP_TEXT:"Please return to the ",ANCHORTEXT:" Realtor.com home page",SUB_HEADING_BOTTOM_TEXT:" to continue your home search and try to add or reset your password later."}},Me={TERMS_HREF:"http://marketing.move.com/terms-of-service/",PRIVACY_HREF:"http://www.move.com/company/privacy.aspx",PRO_LOGIN_HREF:"https://dashboard.realtor.com/login",PRO_SIGNUP_HREF:"https://dashboard.realtor.com/signup"},je={SUB_HEADING_TOP_TEXT:"Please disable the adblockers if any and retry ",SUB_HEADING_BOTTOM_TEXT:"to continue your home search"},Le={SUCCESS_MODAL:{HEADER:"Signed in Successfully!",HEADER_DESC:"You have signed in using your email address "},BUTTON:{TEST_ID:"continue_success",LABEL:"Continue"},ERROR:{HEADER_TITLE:"Error encountered while signing-in",HEADERDESC:"An error was encountered while trying to sign-in.",SUB_HEADING_TOP_TEXT:"Please return to the ",ANCHORTEXT:" Realtor.com home page",SUB_HEADING_BOTTOM_TEXT:" to continue your home search and try to login again later."}};function Ge(e,t){if(e&&e.indexOf&&e.substring&&t&&t.length){var n=e.substring(0,t.length)===t&&"="===e[t.length]?0:e.indexOf("; ".concat(t,"="));if(!(0>n)){n=e.indexOf("=",n+1);var r=e.indexOf(";",n+1);return 0>r&&(r=e.length),e.substring(n+1,r)}}}var Be,Fe=function(e,t){var n=ie&&window.raasOptimizelyInstance,r=null;if(n&&e)try{r=n.getVariation(t.KEY,e)}catch(e){console.log("Optimizely Error: ",e.message)}return r},He=function(){if(!ie)return null;var e=Ge(document.cookie,"__vst")||"raas_x_optimizely_user",t=Fe(e,Q.RAAS_WEB_GNAV);return"".concat(Q.RAAS_WEB_GNAV.KEY,":").concat(t)},Ue=function(e){var t,n=ie&&(null===(t=window)||void 0===t?void 0:t.raasOptimizelyInstance),r=Ge(document.cookie,"__vst")||"raas_x_optimizely_user";return n&&n.isFeatureEnabled(e,r)},We=function(){if(!ie)return null;var e=Ge(document.cookie,"__vst")||"raas_x_optimizely_user",t=Q[de],n=Fe(e,t);return"".concat(null===t||void 0===t?void 0:t.KEY,":").concat(n)},Ve=n(74757),ze={EVENTS:{SIGNIN:"signIn",SIGNUP:"signUp",CLICK:"click",MODAL_IMPRESSION:"modalImpression"},LINKNAMES:{SIGNIN_EMAIL:"sign_in_header_modal:email",SIGNIN_GOOGLE:"sign_in_header_modal:google",SIGNUP_GOOGLE:"sign_up_header_modal:google",SWAP_GOOGLE:"swap_modal:google",SWAP_SIGNIN:"swap_modal:email",SWAP_SIGNUP:"registration:swap_modal:landing_page:email",SWAP_EMAIL_CONTINUE_CLICK:"registration:swap_modal:modal:email_continue",SIGNIN_FB:"sign_in_header_modal:facebook",SIGNUP_FB:"sign_up_header_modal:facebook",SWAP_FB:"swap_modal:facebook",SIGNUP_EMAIL:"sign_up_header_modal:email",ONE_TAP:"one_tap_popup_modal:google_one_tap",FORGOT_PWD:"registration:sign_in_header_modal:modal:forgot_password",NO_ACT_SIGNUP:"registration:sign_in_header_modal:modal:no_account_signup",REGISTERED_SIGNIN:"registration:sign_up_header_modal:modal:already_registered_signin",ONE_TAP_CLOSE:"registration:one_tap_popup_modal:modal:google_one_tap:close",NOT_NOW:"swap_modal:pre_register_success",QNSVC_GET_PREAPPROVED:"swap_modal:afford",QNSVC_CONNECT_AGENT:"swap_modal:pre_approved",QNSVC_AFFORDABILITY_CALC:"swap_modal:estimate",NOT_NOW_CLICK:"swap_modal:pre_register_success:not_now",QNSVC_AFFORDABILITY_CALC_ANSWER:"swap_modal:started:estimate",QNSVC_GET_PREAPPROVED_ANSWER:"swap_modal:afford:get_preapproved",QNSVC_CONNECT_AGENT_ANSWER:"swap_modal:pre_approved:connect_agent",QNSVC_AFFORDABILITY_CALC_EXIT:"swap_modal:started:exit",QNSVC_GET_PREAPPROVED_EXIT:"swap_modal:afford:exit",QNSVC_CONNECT_AGENT_EXIT:"swap_modal:pre_approved:exit",QNSVC_AFFORDABILITY_CALC_HELP:"swap_modal:started:learn_more",QNSVC_GET_PREAPPROVED_HELP:"swap_modal:afford:learn_more",QNSVC_CONNECT_AGENT_HELP:"swap_modal:pre_approved:learn_more",SIGNIN_APPLE:"sign_in_header_modal:apple",SIGNUP_APPLE:"sign_up_header_modal:apple",SWAP_APPLE:"swap_modal:apple",PRO_SIGNUP_BTN:"registration:sign_up_header_modal:modal:pro_sign_up",PRO_LOGIN_BTN:"registration:sign_up_header_modal:modal:pro_sign_in",PRO_SIGNUP_LINK:"registration:sign_up_header_modal:modal:no_account_signup_pro",PRO_LOGIN_LINK:"registration:sign_up_header_modal:modal:already_registered_signin_pro",GNAV_LOGIN_LINK:"header_menu:my_account:signin",GNAV_SIGNUP_LINK:"header_menu:my_account:signup",SIGNIN_PWD_EMAIL:"sign_in_password:email",SIGNUP_PWD_EMAIL:"sign_up_password:email",SIGNIN_HEADER_EMAIL_CONTINUE_CLICK:"registration:sign_in_header_modal:modal:email_continue",SHOW_MORE_V1:"registration:sign_in_header_modal:modal:show_more_options",SHOW_LESS_V1:"registration:sign_in_header_modal:modal:show_less_options",SIGNUP_PWD_MODAL_SIGNUP_CLICK:"registration:sign_up_password:modal:sign_up",SIGNIN_PWD_MODAL_LOGIN_CLICK:"registration:sign_in_password:modal:sign_in",SIGNUP_PWD_PRIVACY_LINK:"registration:sign_up_password:modal:privacy",SIGNUP_PWD_BACK_BTN:"registration:sign_up_password:modal:back",SIGNUP_PWD_MODAL_IMPRESSION:"registration:sign_up_password",MARKETING_MODAL_IMPRESSION:"registration:marketing_opt_in",MARKETING_NO_THANKS_BTN:"registration:marketing_opt_in:modal:no_thanks",MARKETING_OPT_IN_BTN:"registration:marketing_opt_in:modal:opt_in",FORGOT_PWD_FINAL_SCREEN_CLOSE_BTN:"registration:sign_in_forgot_password:modal:close",FORGOT_PWD_MODAL_IMPRESSION:"registration:sign_in_forgot_password",FORGOT_PWD_SEND_EMAIL_BTN:"registration:sign_in_forgot_password:modal:send_email",SIGNUP_PWD_TERMS_OF_USE:"registration:sign_up_password:modal:terms_of_use",SIGNIN_PWD_BACK_BTN:"registration:sign_in_password:modal:back",SIGNIN_PWD_MODAL_IMPRESSION:"registration:sign_in_password",SIGNIN_HEADER_MODAL_IMPRESSION:"registration:sign_in_header_modal",SIGNUP_HEADER_MODAL_IMPRESSION:"registration:sign_up_header_modal",RELOGIN_MODAL_IMPRESSION:"registration:relogin:make_sure_its_you",RELOGIN_EMAIL_CONTINUE_CLICK:"registration:relogin:email_continue",PRE_REG_ADD_PASSWORD:"registration:swap_modal:pre_register_success:add_password",MYACC_LOGIN_SIGNIN_APPLE:"registration:myaccount:landing_page:apple",MYACC_LOGIN_SIGNIN_FACEBOOK:"registration:myaccount:landing_page:facebook",MYACC_LOGIN_SIGNIN_GOOGLE:"registration:myaccount:landing_page:google",MYACC_LOGIN_SIGNIN_EMAIL:"registration:myaccount:landing_page:email",SWAP_SIGNUP_EMAIL:"registration:swap_modal:sign_up_password:email"},QUESIONNAIRE_LINKNAMES:{},EMAIL_PREFS:{OPT_IN:"opt_in",OPT_OUT:"opt_out"},MODAL_NAME:{RELOGIN:"re_sign_in_header_modal",NEW_FORGOT_PWD:"sign_in_forgot_password",SIGNIN_PWD:"sign_in_password",SIGNUP_PWD:"sign_up_password",MARKETING_OPT_IN:"marketing_opt_in",SIGNIN_HEADER:"sign_in_header_modal",SIGNUP_HEADER:"sign_up_header_modal",SWAP_MODAL:"swap_modal",LANDING_PAGE:"landing_page",PRE_REGISTER_SUCCESS:"pre_register_success",SET_PASSWORD:"set_password",ENTER_PASSWORD:"enter_password",EMAIL_ME_LINK:"email_me_link",CHECK_EMAIL:"check_email",FORGET_PASSWORD:"forget_password"},MODAL_TRIGGER:{GOOGLE:"profile:e_sign_in_header_modal:google",FACEBOOK:"profile:e_sign_in_header_modal:facebook",APPLE:"profile:e_sign_in_header_modal:apple"},MODAL_ACTIONS:{GOOGLE:"google",FACEBOOK:"facebook",APPLE:"apple",EMAIL:"email",EMAIL_CONTINUE:"email_continue",TERMS_OF_USE:"terms_of_use",PRIVACY:"privacy",EMAIL_LINK:"email_link",SIGNIN:"signin",BACK:"back",SHOW_MORE:"show_more_options",SHOW_LESS:"show_less_options",EXIT:"exit",NOT_NOW:"not_now",FORGOT_PASSWORD:"forgot_password"},PAGE_FLOW:{SWAP_FLOW:"swap_modal"},PAGE_PREFIX:"registration"},Ke=n(23050),Ze=n(2620),Xe=function(e){var t=e.authObj,n=e.tenantId;return!!t&&(!!(void 0===n?null:n)||!!(0,Ze.e)(document.cookie,"REMEMBER_ME"))},qe={apiGateway:{production:"https://graph.realtor.com",beta:"https://graph.realtor.com",qa:"https://graph-qa.realtor.com",development:"https://graph-qa.realtor.com",proxy:"/api/graph"},ipaAuth:{production:"https://identity.realtor.com",beta:"https://identity.realtor.com",qa:"https://identity-qa.realtor.com",development:"https://identity-qa.realtor.com"},rdcXApi:{production:"https://api-prod.x.realtor.com",beta:"https://api-beta.x.realtor.com",qa:"https://rdc-x-api.sandbox-qa.realtor.com",development:"https://rdc-x-api.sandbox-qa.realtor.com",proxy:"/api/rdc"},myAccount:{production:"https://myaccount.realtor.com",beta:"https://myaccount.realtor.com",qa:"https://myaccount-qa.realtor.com",development:"https://myaccount-qa.realtor.com",local:"https://myaccount-qa.realtor.com",proxy:"/api/myaccount"},newMyAccount:{production:"https://ipa-nma.rdc.moveaws.com",beta:"https://ipa-nma.rdc.moveaws.com",qa:"https://ipa-nma.rdc-qa.moveaws.com",development:"https://ipa-nma.rdc-dev.moveaws.com",local:"http://localhost:8001",proxy:"/api/nma"},optimizely:{production:"https://cdn.optimizely.com/datafiles/6HLU9D1A4w7y6kJyj6YYbj.json",beta:"https://cdn.optimizely.com/datafiles/6HLU9D1A4w7y6kJyj6YYbj.json",qa:"https://cdn.optimizely.com/datafiles/QXtYC8oT4sD5CEWGJ9FkoB.json",development:"https://cdn.optimizely.com/datafiles/QXtYC8oT4sD5CEWGJ9FkoB.json",local:"https://cdn.optimizely.com/datafiles/QXtYC8oT4sD5CEWGJ9FkoB.json",proxy:"https://cdn.optimizely.com/datafiles/6HLU9D1A4w7y6kJyj6YYbj.json"},appleConfigs:{clientId:{production:"com.realtor.prod",beta:"com.realtor.prod",qa:"com.realtor.qa",development:"com.realtor.qa",local:"com.realtor.qa",proxy:"com.realtor.qa"},redirectURI:{production:"https://www.realtor.com",beta:"https://beta.realtor.com",qa:"https://qa.realtor.com",development:"https://qa.realtor.com",local:"https://qa.realtor.com",proxy:"https://qa.realtor.com"},scope:{production:"name email",beta:"name email",qa:"name email",development:"name email",local:"name email",proxy:"name email"}}},Ye="/signin",Je="/reset",$e="/create_account",Qe="/logout.json",et="/update_subscriber_request",tt="/create_subscriber",nt="/find_user_by_email",rt="/reset_new",ot="/fetch_password_meta",it="/change_password",at="/initiate_password_request",lt="/email_me_link",ct="/fetch_token_details",st="/find_status_by_email",ut="/auth/token",dt="/api/googleLogin",pt="rdc",ft=n(63144),mt=n.n(ft),yt=n(24863),vt=function(e){return{response:!0,type:"success",headers:e.headers,eventName:e.eventName,linkName:e.linkName}},ht=_t=function(e,t,n){return e===z?t===w?ze.LINKNAMES.SWAP_GOOGLE:n?ze.LINKNAMES.SIGNUP_GOOGLE:ze.LINKNAMES.SIGNIN_GOOGLE:e===Z?t===w?ze.LINKNAMES.SWAP_APPLE:n?ze.LINKNAMES.SIGNUP_APPLE:ze.LINKNAMES.SIGNIN_APPLE:e===V?ze.LINKNAMES.SIGNIN_EMAIL:e===X?ze.LINKNAMES.SIGNUP_EMAIL:void 0},gt=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o={};return o.linkName=t,o.registrationType=t.split(":")[1],o.abTestMisc=He(),e!==ze.EVENTS.SIGNUP||fe(r)||(o.emailPref=n?ze.EMAIL_PREFS.OPT_IN:ze.EMAIL_PREFS.OPT_OUT),o},bt=function(e){if(e){var t=ze.PAGE_PREFIX,n=Pe("CURRENT_FLOW"),r=Pe("MODAL_NAME");return"".concat(t,":").concat(n,":").concat(r,":").concat(e)}return""},Et=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.modalName,r=t.modalTrigger,o=t.linkName,i=t.action,a=ze.PAGE_PREFIX,l=Pe("CURRENT_FLOW"),c=Pe("MODAL_NAME"),s={};if(null!=l&&null!=c)return o&&(s.linkName=o),n&&(s.modalName=n),r&&(s.modalTrigger=r),i&&e!==ze.EVENTS.MODAL_IMPRESSION&&(s.linkName="".concat(a,":").concat(l,":").concat(c,":").concat(i)),n||e!==ze.EVENTS.MODAL_IMPRESSION||(s.modalName="".concat(a,":").concat(l,":").concat(c),s.modalTrigger=Oe()),(e===ze.EVENTS.SIGNIN||e===ze.EVENTS.SIGNUP)&&(s.registrationType=i),s.abTestMisc=Pe("SWAP_VARIANT"),Ve.ZP.trackEvent(e,s),o},wt=St=function(e,t){var n=t.pagePrefix,r=t.pageName,o=t.containerModalName,i=t.action,a="".concat(n,":").concat(r,":").concat(o,":").concat(i);Ve.ZP.trackEvent(e,{linkName:a,abTestMisc:We()})},Tt=function(e){var t=e.containerName,n=e.context,r=e.screenName,o=e.action;if(t&&n&&r&&o){var i="".concat(t,":").concat(n,":").concat(r,":").concat(o);Ve.ZP.trackEvent(ze.EVENTS.CLICK,{linkName:i})}},Ot=function(e){var t=e.modalName,n=e.modalTrigger;Ve.ZP.trackEvent(ze.EVENTS.MODAL_IMPRESSION,{modalName:t,modalTrigger:n,abTestMisc:We()})};function Nt(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}var It,Pt=function(){return Be},At=function(e,t){return console.log("error encountered with captcha",e),(null===yt.d||void 0===yt.d?void 0:yt.d.emit)&&yt.d.emit(yt.d.EVENT_CUSTOM,{show:!1}),{text:"An error occured. You can try again.",status:t.status}},Rt=function(e,t,n){!function(e){Be=e}(n);try{if(e&&t){var r=e||{},o=r.appId,i=r.jsClientSrc,a=r.firstPartyEnabled,l=r.uuid,c=r.hostUrl,s=r.blockScript,u="".concat(qe.myAccount[t]).concat(s);try{null!==yt.d&&void 0!==yt.d&&yt.d.emit&&(yt.d.emit(yt.d.EVENT_CUSTOM,{show:!0}),yt.d.on(yt.d.EVENT_SUCCESS,(function(){(0,Ke.j)()&&Pt().includes("find_user_by_email")&&window.dispatchEvent(new CustomEvent("showPasswordModal",{detail:{email_address:Pt().split("/").pop()}})),(0,Ke.j)()&&window.location.pathname.includes("/myaccount")&&window.location.reload()})),(0,Ke.j)()&&!Pt().includes("find_user_by_email")&&window.dispatchEvent(new CustomEvent("closeModalForExoneration")),setTimeout((function(){yt.d.emit(yt.d.EVENT_DATA,{appId:o,jsClientSrc:i,firstPartyEnabled:a,uuid:l,hostUrl:c,blockScript:u})}),1e3))}catch(t){return At(t,e)}}}catch(e){return At(e)}},kt=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Nt(l,r,o,i,a,"next",e)}function a(e){Nt(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(e,t,n){var r=yield e.json();return r.blockScript&&t?(Ot({modalName:"perimeter_x_block",modalTrigger:n}),void Rt(r,t,n)):{text:"Forbidden user request",status:e.status}}));return function(){return e.apply(this,arguments)}}(),xt=function(e,t){e(!0),(0,Ke.j)()&&window.addEventListener("closeModalForExoneration",t)},Ct=function(e,t){(0,Ke.j)()&&window.removeEventListener("closeModalForExoneration",t)},Dt={loggers:{raasServiceBase:"RAASServiceBase"}},Mt=function(){return It||ie&&window.raasApplicationEnv},jt=n(2043),Lt=n(67987);Lt.reg(jt);var Gt=function(e,t,n){var r=jt.getLogger(e),o="production"===t?jt.levels.INFO:jt.levels.DEBUG;return r.setLevel(o),Lt.apply(r,n||{template:"[%t] %l (".concat(e,"):"),levelFormatter:function(e){return e.toUpperCase()},timestampFormatter:function(e){return e.toISOString()}}),r};function Bt(e){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(e)}function Ft(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Ht(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Ft(l,r,o,i,a,"next",e)}function a(e){Ft(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?Ut(Object(t),!0).forEach((function(n){zt(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ut(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Vt(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kt(n.key),n)}function zt(e,t,n){return(t=Kt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e){var t=function(e,t){if("object"!==Bt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bt(t)?t:t+""}var Zt={"Content-Type":"application/json",Accept:"application/json"},Xt=function(){function e(){var t=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),zt(this,"cookies",null),zt(this,"header",null),zt(this,"currEnv","production"),zt(this,"raasVersion","10.0.7"),zt(this,"log",null),zt(this,"getCookies",(function(){if(!ie)return null;for(var e,t=document.cookie.split(";"),n={},r=0;r<t.length;r+=1)e=t[r].split("="),n["".concat(e[0]).trim()]=unescape(e[1]);return n})),zt(this,"deleteHeadersNotReqByV2",(function(e){e&&e.headers&&(delete e.headers["ADOBE-VISTOR"],delete e.headers.ADOBE_VISTOR,delete e.headers["adobe-vistor"],delete e.headers.adobe_vistor,delete e.headers.REMEMBER_ME)})),zt(this,"addV2ReqHeaders",(function(e){ie&&e&&e.headers&&(e.headers["X-Client-ID"]="rdc-raas-x",e.headers["X-Client-Version"]=t.raasVersion,e.headers["X-Visitor-ID"]=Ge(document.cookie,"__vst"))})),Mt()||console.log("Environment received as undefined by RaaS"),this.currEnv=Mt()?Mt():"production",this.log=Gt(Dt.loggers.raasServiceBase,this.currEnv),this.cookies=this.getCookies(),this.header={"Content-Type":"application/json",Accept:"application/json"},this.cookies&&this.cookies.REMEMBER_ME&&(this.header.REMEMBER_ME=this.cookies.REMEMBER_ME),this.cookies&&this.cookies["AMCV_8853394255142B6A0A4C98A4%40AdobeOrg"]&&(this.header.ADOBE_VISTOR=this.cookies["AMCV_8853394255142B6A0A4C98A4%40AdobeOrg"],this.header["ADOBE-VISTOR"]=this.header.ADOBE_VISTOR)}return function(e,t,n){t&&Vt(e.prototype,t),n&&Vt(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"getRequestHeader",value:function(e){return Wt(Wt(Wt({},Zt),this.header),e)}},{key:"get",value:function(){var e=Ht((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=new Date;try{var o=Wt({method:"GET",headers:this.getRequestHeader(t)},n),i=yield mt()(e,o),a=i.headers;if(403===(null===i||void 0===i?void 0:i.status))return yield kt(i,this.currEnv,e);if(!i.ok){var l=yield i.text();return{text:l,status:i.status}}var c=yield i.json();return this.log.debug("[GET][".concat(new Date-r,"ms][").concat(e,"] ==> Status: ").concat(i.status)),{result:c,headers:a,status:200}}catch(t){return this.log.error("RAASServiceBase[GET][".concat(new Date-r,"ms][").concat(e,"] Exception:"),t),{error:"[GET][".concat(new Date-r,"ms][").concat(e,"] ==> Exception: ").concat(t)}}}));return function(){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Ht((function*(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=new Date;this.log.debug("[POST][".concat(e,"]"));try{var i,a,l=Wt({method:"POST",body:JSON.stringify(t),headers:this.getRequestHeader(n)},r);e.includes("/auth/token")||e.includes("/api/v1")?(null!==l&&void 0!==l&&null!==(i=l.headers)&&void 0!==i&&i.ADOBE_VISTOR||null!==l&&void 0!==l&&null!==(a=l.headers)&&void 0!==a&&a.adobe_vistor)&&(this.deleteHeadersNotReqByV2(l),this.addV2ReqHeaders(l)):l.credentials="include";var c=yield mt()(e,l),s=c.headers;if(403===(null===c||void 0===c?void 0:c.status))return yield kt(c,this.currEnv,e);if(!c.ok&&401!==c.status){var u=c?yield c.text():null;return{text:u,status:c.status}}if(e.includes("update_subscriber_request")||e.includes("create_subscriber")){var d=yield c.text();return{result:d,headers:s,status:200}}var p=yield c.json();return this.log.debug("[POST][".concat(new Date-o,"ms][").concat(e,"] ==> Status: ").concat(c.status)),{result:p,headers:s,status:200}}catch(t){return this.log.error("RAASServiceBase[POST][".concat(new Date-o,"ms][").concat(e,"] Exception:"),t),{error:"[POST][".concat(new Date-o,"ms][").concat(e,"] ==> Exception: ").concat(t)}}}));return function(){return e.apply(this,arguments)}}()}]),e}();function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Yt(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Jt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Yt(l,r,o,i,a,"next",e)}function a(e){Yt(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}function $t(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ln(n.key),n)}function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function en(e,t){return en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},en(e,t)}function tn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=on(e);if(t){var o=on(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nn(this,n)}}function nn(e,t){if(t&&("object"===qt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rn(e)}function rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function on(e){return on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},on(e)}function an(e,t,n){return(t=ln(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ln(e){var t=function(e,t){if("object"!==qt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qt(t)?t:t+""}var cn=function(e){function t(){var e;Qt(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return an(rn(e=n.call.apply(n,[this].concat(o))),"fetchAccessToken",function(){var t=Jt((function*(t){if(!t)return null;try{var n=e.getAuthEndPoints();try{var r=yield e.post(n,t,e.getExtraHeaders()),o=r.result,i=r.text,a=r.status;return 200===a&&o.access_token?(_e(o.access_token,o.refresh_token,o.expires_in),{result:o,status:a}):o&&(o.errors||o.meta.errors)?{result:o.meta,status:a}:{text:i,status:a}}catch(e){return console.log(e),{response:e,type:"error"}}}catch(e){return{response:e,type:"error"}}}));return function(){return t.apply(this,arguments)}}()),an(rn(e),"refreshAccessToken",function(){var t=Jt((function*(t){if(!t)return null;try{var n=e.getAuthEndPoints();try{var r=yield e.post(n,{grant_type:"refresh_token",refresh_token:t},e.getExtraHeaders()),o=r.result,i=r.text,a=r.status;return a&&200!==a||!o.access_token?(ge(),{text:i,status:a}):(_e(o.access_token,o.refresh_token,o.expires_in),{result:o,status:a})}catch(e){return console.log(e),ge(),{response:e,type:"error"}}}catch(e){return ge(),{response:e,type:"error"}}}));return function(){return t.apply(this,arguments)}}()),an(rn(e),"getExtraHeaders",(),an(rn(e),"getAuthEndPoints",(function(){return"".concat(qe.apiGateway[e.currEnv]).concat(ut)})),e}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&en(e,t)}(t,e);var n=tn(t);return t)}(Xt),sn=function(e,t){if(!e||!t)return null;switch(e){case V:var n={grant_type:e,username:t.email||t.email_address,password:t.password,point_of_entry:t.point_of_entry};return t.sign_up&&(n.sign_up=t.sign_up),t.marketing_email&&(n.marketing_emails=t.marketing_email),n;case q:var r={grant_type:e,access_token:t.facebook_token,app:"web",point_of_entry:t.point_of_entry};return t.marketing_email&&(r.marketing_emails=t.marketing_email),r;case z:var o={grant_type:e,google_token:t.google_token_id,google_client_id:t.google_client_id,point_of_entry:t.point_of_entry};return t.is_google_one_tap&&(o.is_google_one_tap=t.is_google_one_tap),t.is_google_sign_up&&(o.is_google_sign_up=t.is_google_sign_up),t.marketing_emails&&(o.marketing_emails=t.marketing_emails),o;case K:var i={grant_type:e,username:t.email_address,point_of_entry:t.point_of_entry};return t.marketing_email&&(i.marketing_emails=t.marketing_email),i;case Z:var a={id_token:t.apple_id_token,first_name:t.first_name,last_name:t.last_name,grant_type:e,point_of_entry:t.point_of_entry};return t.marketing_email&&(a.marketing_emails=t.marketing_email),a;case Y:var l={access_token:t.access_token,grant_type:e,point_of_entry:t.point_of_entry};return t.marketing_email&&(l.marketing_emails=t.marketing_email),l;default:return null}};function un(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function dn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){un(l,r,o,i,a,"next",e)}function a(e){un(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}var pn=function(){var e=dn((function*(e,t){if(!e||!t)return null;try{var n=sn(e,t);if(n)return t.tenant_id&&(n.tenant_id=t.tenant_id),yield(new cn).fetchAccessToken(n)}catch(e){console.log("Auth Flow Error",e)}}));return function(){return e.apply(this,arguments)}}(),fn=function(){if("undefined"==typeof localStorage)return null;var e=localStorage.getItem("authorizationObj");return e?JSON.parse(e):null},mn=function(e){if(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map(().join(""));try{if(n&&JSON.parse(n))return JSON.parse(n)}catch(e){return ge(),null}}return null},yn=function(){var e=dn((function*(e){var t=Math.round;if(e&&e.access_token){var n=mn((null===e||void 0===e?void 0:e.access_token)||null),r=null===n||void 0===n?void 0:n.rdc_ttr;return!isNaN(r)&&t((new Date).getTime())<1e3*r?e:(e.refresh_token&&(yield(new cn).refreshAccessToken((null===e||void 0===e?void 0:e.refresh_token)||null)),fn())}return null}));return function(){return e.apply(this,arguments)}}(),vn=function(){var e=dn((function*(){var e,t=fn();return t&&(null===(e=t=yield yn(t))||void 0===e?void 0:e.access_token)||null}));return function(){return e.apply(this,arguments)}}(),hn=function(){var e=dn((function*(e,t){if(!e||!t)return null;try{var n=sn(e,t);return n&&(yield(new cn).fetchAccessToken(n))}catch(e){console.log(e)}}));return function(){return e.apply(this,arguments)}}();unction gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function bn(e){var t=function(e){var t=[],n=r="undefined"!=typeof e.forEach,o="undefined"!=typeof e.entries;if(r)e.forEach(n);else if(o){var i,a=_n(e.entries());try{for(a.s();!(i=a.n()).done;){var l=i.value;n(l[1],l[0])}}catch(e){a.e(e)}finally{a.f()}}return t}(e),n=t),r=n.lithium_cookie_json,o=null;r&&(o=JSON.parse(r));var i=n.realtor_cookie_json&&JSON.parse(n.realtor_cookie_json),a=(n.lithium_display_name,n.haven_cookie_json&&JSON.parse(n.haven_cookie_json));ie&&(o&&null!=o?(document.cookie=o.full_cookie,document.cookie="lithium_display_name=true; domain=.realtor.com; path=/; expires=Fri, 31 Dec 2027 12:00:00 UTC"):document.cookie="lithium_display_name=false; domain=.realtor.com; path=/"),ie&&a&&null!=a&&(document.cookie=a.full_cookie),ie&&i&&null!=i&&(document.cookie=i.full_cookie)}var En=function(e,t){"true"===new URLSearchParams(window.location.search).get("isFromCypress")&&"".concat(e,"= ").concat(t))};function wn(e){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wn(e)}function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?Sn(Object(t),!0).forEach((function(n){Cn(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function On(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Nn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){On(l,r,o,i,a,"next",e)}function a(e){On(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}function In(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dn(n.key),n)}function Pn(e,t){return Pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pn(e,t)}function An(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xn(e);if(t){var o=xn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rn(this,n)}}function Rn(e,t){if(t&&("object"===wn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kn(e)}function kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xn(e){return xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xn(e)}function Cn(e,t,n){return(t=Dn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dn(e){var t=function(e,t){if("object"!==wn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wn(t)?t:t+""}var Mn,jn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Cn(kn(e=n.call(this)),"googleLoginEndPoint",void 0),Cn(kn(e),"getOneTapEventsForTracking",(function(e){return{eventName:ze.EVENTS[e?"SIGNUP":"SIGNIN"],linkName:ze.LINKNAMES.ONE_TAP}})),Cn(kn(e),"googleOneTapLogin",function(){var t=Nn((function*(t){var n,r={google_token_id:null===t||void 0===t?void 0:t.credential,registration_source:pt,is_google_sign_up:!1,is_google_one_tap:!0,marketing_emails:!0,point_of_entry:"gnav_registration_form"},o={grantType:z,payload:Tn(Tn({},r),{google_client_id:ee})};null!==o&&void 0!==o&&o.grantType&&null!==o&&void 0!==o&&o.payload&&(n=yield pn(o.grantType,o.payload));var i=fn();try{if(i){var a=yield e.post(e.googleLoginEndPoint,r);if(200!==a.status)document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge(),he();else if(a.headers&&bn(a.headers),Xe({authObj:i})){var l,c;(0,Ke.j)()&&window.dispatchEvent(new CustomEvent("googleOneTapSuccessful")),ve({isActive:!0,isNewMember:null===(l=n)||void 0===l||null===(l=l.result)||void 0===l?void 0:l.new_member}),St(null!==(c=n)&&void 0!==c&&null!==(c=c.result)&&void 0!==c&&c.new_member?ze.EVENTS.SIGNUP:ze.EVENTS.SIGNIN,{pagePrefix:"registration",pageName:"one_tap_popup_modal",containerModalName:"context_aware",action:"google_one_tap"})}else he(),document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge()}}catch(e){console.log(e)}}));return function(){return t.apply(this,arguments)}}()),e.googleLoginEndPoint="".concat(qe.newMyAccount[e.currEnv]).concat(dt),e}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pn(e,t)}(t,e);var n=An(t);return function(e,t,n){t&&In(e.prototype,t),n&&In(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"signInGoogle",value:function(){var e=Nn((function*(e){if(!e)throw new Error("Missing payload");var t=yield this.post(this.googleLoginEndPoint,e),n=t.result,r=t.headers,o=t.text,i=t.status;if(n&&n.error)throw new Error(n.error);return{result:n,headers:r,text:o,status:i}}));return function(){return e.apply(this,arguments)}}()}]),t}(Xt);function Ln(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Gn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Ln(l,r,o,i,a,"next",e)}function a(e){Ln(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}function Bn(e){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(e)}function Fn(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Un(n.key),n)}function Hn(e,t,n){return(t=Un(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Un(e){var t=function(e,t){if("object"!==Bn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Bn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bn(t)?t:t+""}var Wn=function(){eturn function(e,t,n){t&&Fn(e.prototype,t),n&&Fn(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,null,[{key:"initGoogleOneTap",value:function(){this.isGoogleOneTapEnabled=this.isGoogleOneTapEnabled||ie&&window.googleOneTapEnabled;try{this.loadGoogleOneTapLibraries()}catch(e){console.log("Google One Tap Libraries Load Failed")}}},{key:"loadGoogleOneTapLibraries",value:function(){this.isGoogleOneTapEnabled&&ae("head","script",{src:"https://accounts.google.com/gsi/client",async:!0,defer:!0,onload:this.onGoogleLibraryLoad})}},{key:"closeGoogleOneTap",value:function(){this.googleYolo&&this.googleYolo.cancel&&this.googleYolo.cancel()}},{key:"onLogout",value:,{key:"canInvokeGoogleYolo",value:function(){var e=function(e){if(!ie)return!1;var t=new RegExp("".concat(e,"=([^;]+)")).exec(document.cookie);return!!t&&0!==t.length}("user_canceled_one_tap");return!!!fn()&&!e}}]),e}();Mn=Wn,Hn(Wn,"googleYolo",void 0),Hn(Wn,"isGoogleOneTapEnabled",!1),Hn(Wn,"setGoogleLibrary",(),Hn(Wn,"initializeGoogleOneTap",Gn((function*(){Mn.googleYolo&&Mn.googleYolo.initialize&&Mn.googleYolo.initialize({client_id:ee,auto_select:!0,state_cookie_domain:"*.realtor.com",context:"use",cancel_on_tap_outside:!1,nonce:btoa(Math.random().toString(36).substring(2,15))+(new Date).getTime(),callback:(new jn).googleOneTapLogin})}))),Hn(Wn,"displayOneTapPrompt",Gn((function*(){Mn.googleYolo&&Mn.googleYolo.prompt&&Mn.googleYolo.prompt((function(e){e.isSkippedMoment()?Ve.ZP.trackEvent(ze.EVENTS.CLICK,{linkName:ze.LINKNAMES.ONE_TAP_CLOSE}):e.isDismissedMoment()&&Mn.closeGoogleOneTap()}))}))),Hn(Wn,"onGoogleLibraryLoad",Gn((function*(){var e;Mn.canInvokeGoogleYolo()&&(Mn.setGoogleLibrary(ie&&(null===(e=window.google)||void 0===e||null===(e=e.accounts)||void 0===e?void 0:e.id)),yield Mn.initializeGoogleOneTap(),yield Mn.displayOneTapPrompt())})));n(39753);var Vn,zn=n(62856),Kn=n(68676),Zn=n(99223),Xn=n(45045),qn=n(14141);var Yn,Jn,$n,Qn=qn.ZP.div(Vn||(Yn=["\n  padding: 16px 24px;\n  .custom-modal-header-close-toggle {\n    position: absolute;\n    right: 15px;\n    top: 0px;\n    z-index: 99;\n    margin: 22px 0px;\n    @media (max-width: 768px) {\n      right: 0px;\n    }\n  }\n"],Jn||(Jn=Yn.slice(0)),Vn=Object.freeze(Object.defineProperties(Yn,{raw:{value:Object.freeze(Jn)}})))),er=(0,o.memo)((function(e){var t=e.handleModalOnClose,n=e.hideCloseIcon,r=e.headerTitle,i=e.headerDescription,a=e.html_string,l=e.dynamicText,c=e.screenName,s=e.REGISTRATION_ORIGIN_CONTEXT;return o.createElement(Qn,null,a&&!0===l.show_custom_html&&o.createElement("div",{"data-testid":"additional-html",dangerouslySetInnerHTML:{__html:a}}),o.createElement(Kn.D,{style:{margin:"15px 0px 10px",maxWidth:"95%"},styleType:"display600"},r),i&&o.createElement(Kn.D,{style:{margin:"0px 0px 14px",whiteSpace:"pre-line"},styleType:"body200"},i),!n&&o.createElement(Xn.P,{testId:s?"".concat(null===s||void 0===s?void 0:s.replace(/_/g,"-").toLowerCase(),"-close-button"):"close-button",onClick:function(){Tt({containerName:"acct_registration_signin",context:s||"default",screenName:c,action:"close"}),t()},className:"custom-modal-header-close-toggle"}))})),tr=er,nr="register",rr="sign-in",or="sign-up",ir="email-me",ar="forgot_pwd",lr="almost_done",cr="marketing",sr="email-me-link",ur="almost_done_email_me_link",dr="registration_success",pr="rdc-web",fr={NEW_SUBSCRIBER_USER:"new_subscriber_add_pwd",RETURNING_SUBSCRIBER_USER:"returning_subscriber_add_pwd",RESET_PWD:"reset_pwd"},mr="registration_success_modal";var yr=qn.ZP.div($n||($n=["\n  margin: 0px 25px 25px;\n"])));function vr(e){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(e)}function hr(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function _r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){hr(l,r,o,i,a,"next",e)}function a(e){hr(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}function gr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function br(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Er(n.key),n)}function Er(e){var t=function(e,t){if("object"!==vr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vr(t)?t:t+""}function wr(e,t){return wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wr(e,t)}function Sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Or(e);if(t){var o=Or(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tr(this,n)}}function Tr(e,t){if(t&&("object"===vr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Or(e){return Or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Or(e)}var Nr=function(e){function t(){return gr(this,t),n.apply(this,arguments)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wr(e,t)}(t,e);var n=Sr(t);return function(e,t,n){t&&br(e.prototype,t),n&&br(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"logIn",value:function(){var e=_r((function*(e){if(!e)throw new Error("Missing creds");var t="".concat(qe.myAccount[this.currEnv]).concat(Ye),n=yield this.post(t,e),r=n.result,o=n.headers,i=n.text,a=n.status;if(r&&r.error)throw new Error(r.error);return{result:r,headers:o,text:i,status:a}}));return function(){return e.apply(this,arguments)}}()},{key:"findByEmail",value:function(){var e=_r((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(!e)throw new Error("No Email Found");var n="".concat(qe.myAccount[this.currEnv]).concat(nt,"/").concat(encodeURIComponent(e));(t||Ue($))&&(n="".concat(qe.rdcXApi[this.currEnv],"/api/v1").concat(st,"?email_address=").concat(encodeURIComponent(e)),t&&(n+="&tenant_id=".concat(t)));var r=yield this.get(n),o=r.result,i=r.headers,a=r.text,l=r.status;return o&&o.error?{text:o.error,status:l}:{result:o,headers:i,text:a,status:l}}));return function(){return e.apply(this,arguments)}}()},{key:"sendVerificationEmail",value:function(){var e=_r((function*(e){if(!e)throw new Error("Missing payload");var t="".concat(qe.rdcXApi[this.currEnv],"/api/v1").concat(lt);try{var n,r,o,i,a,l,c,s=yield this.post(t,e),u=s.result,d=s.headers,p=s.text,f=s.status;return u&&null!==(n=u.meta)&&void 0!==n&&null!==(n=n.errors)&&void 0!==n&&n.length?"missing_required_params"===(null===(r=u.meta)||void 0===r?void 0:r.errors[0].code)?{text:"".concat(null===(a=u.meta)||void 0===a?void 0:a.errors[0].code," : ").concat(null===(l=u.meta)||void 0===l?void 0:l.errors[0].attribute," : ").concat(null===(c=u.meta)||void 0===c?void 0:c.errors[0].message),status:500}:{text:"".concat(null===(o=u.meta)||void 0===o?void 0:o.errors[0].code," : ").concat(null===(i=u.meta)||void 0===i?void 0:i.errors[0].message),status:500}:{result:u,headers:d,text:p,status:f}}catch(e){return{text:e,status:500}}}));return function(){return e.apply(this,arguments)}}()},{key:"getTokenDetails",value:function(){var e=_r((function*(e){var t;if(!e)throw new Error("Missing token in Request Payload");var n,r,o,i,a,l,c="".concat(qe.rdcXApi[this.currEnv],"/api/v1").concat(ct,"?access_token=").concat(e),s=yield this.get(c),u=s.result,d=s.headers,p=s.text,f=s.status;if(u&&null!==(t=u.meta)&&void 0!==t&&null!==(t=t.errors)&&void 0!==t&&t.length)return"missing_required_params"===(null===(n=u.meta)||void 0===n?void 0:n.errors[0].code)?{text:"".concat(null===(i=u.meta)||void 0===i?void 0:i.errors[0].code," : ").concat(null===(a=u.meta)||void 0===a?void 0:a.errors[0].attribute," : ").concat(null===(l=u.meta)||void 0===l?void 0:l.errors[0].message),status:500}:{text:"".concat(null===(r=u.meta)||void 0===r?void 0:r.errors[0].code," : ").concat(null===(o=u.meta)||void 0===o?void 0:o.errors[0].message),status:500};if(u&&u.error)throw new Error(u.error);return{result:u,headers:d,text:p,status:f}}));return function(){return e.apply(this,arguments)}}()}]),t}(Xt);function Ir(e){return Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ir(e)}function Pr(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rr(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kr(n.key),n)}function kr(e){var t=function(e,t){if("object"!==Ir(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ir(t)?t:t+""}function xr(e,t){return xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xr(e,t)}function Cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mr(e);if(t){var o=Mr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dr(this,n)}}function Dr(e,t){if(t&&("object"===Ir(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Mr(e){return Mr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mr(e)}var jr=function(e){function t(){return Ar(this,t),n.apply(this,arguments)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xr(e,t)}(t,e);var n=Cr(t);return function(e,t,n){t&&Rr(e.prototype,t),n&&Rr(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"signUp",value:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Pr(l,r,o,i,a,"next",e)}function a(e){Pr(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(e){if(!e)throw new Error("Missing creds");var t=yield vn(),n=t&&{Authorization:"Bearer ".concat(t)},r="".concat(qe.myAccount[this.currEnv]).concat($e),o=yield this.post(r,e,n),i=o.result,a=o.headers,l=o.text,c=o.status;if(i&&i.error)throw new Error(i.error);try{var s=JSON.parse(l);if(s&&s.message)return{result:i,headers:a,text:s.message,status:c}}catch(e){console.log("Response text is in string format")}return{result:i,headers:a,text:l,status:c}}));return function(){return e.apply(this,arguments)}}()}]),t}(Xt);function Lr(e){return Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lr(e)}function Gr(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Br(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Gr(l,r,o,i,a,"next",e)}function a(e){Gr(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hr(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ur(n.key),n)}function Ur(e){var t=function(e,t){if("object"!==Lr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Lr(t)?t:t+""}function Wr(e,t){return Wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wr(e,t)}function Vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kr(e);if(t){var o=Kr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zr(this,n)}}function zr(e,t){if(t&&("object"===Lr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Kr(e){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kr(e)}var Zr=function(e){function t(){return Fr(this,t),n.apply(this,arguments)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wr(e,t)}(t,e);var n=Vr(t);return function(e,t,n){t&&Hr(e.prototype,t),n&&Hr(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"emailOnlySignin",value:function(){var e=Br((function*(e){if(!e)throw new Error("Missing creds");var t="".concat(qe.myAccount[this.currEnv]).concat($e),n=yield this.post(t,e),r=n.result,o=n.headers,i=n.text,a=n.status;if(r&&r.error)throw new Error(r.error);try{var l=JSON.parse(i);if(l&&l.message)return{result:r,headers:o,text:l.message,status:a}}catch(e){console.log("Response text is in string format")}return{result:r,headers:o,text:i,status:a}}));return function(){return e.apply(this,arguments)}}()},{key:"sendFinishSignup",value:function(){var e=Br((function*(e){if(!e)throw new Error("Missing creds");var t="".concat(qe.myAccount[this.currEnv]).concat(et),n=yield this.post(t,e);return{result:n.result,headers:n.headers,text:n.text,status:n.status}}));return function(){return e.apply(this,arguments)}}()},{key:"initiatePasswordRequest",value:function(){var e=Br((function*(e){if(!e)throw new Error("Missing creds");var t="".concat(qe.rdcXApi[this.currEnv],"/api/v1").concat(at),n=yield this.post(t,e);return{result:n.result,headers:n.headers,text:n.text,status:n.status}}));return function(){return e.apply(this,arguments)}}()},{key:"addPassword",value:function(){var e=Br((function*(e){if(!e)throw new Error("Missing creds");var t="".concat(qe.myAccount[this.currEnv]).concat($e),n=yield this.post(t,e),r=n.result,o=n.headers,i=n.text,a=n.status;if(r&&r.error)throw new Error(r.error);try{var l=JSON.parse(i);if(l&&l.message)return{result:r,headers:o,text:l.message,status:a}}catch(e){console.log("Response text is in string format")}return{result:r,headers:o,text:i,status:a}}));return function(){return e.apply(this,arguments)}}()},{key:"createSubscriber",value:function(){var e=Br((function*(e){if(!e)throw new Error("Missing creds");var t="".concat(qe.myAccount[this.currEnv]).concat(tt),n=yield this.post(t,e),r=n.result,o=n.headers,i=n.text,a=n.status;try{var l=JSON.parse(i);if(l&&l.message)return{result:r,headers:o,text:l.message,status:a}}catch(e){console.log("Response text is in string format")}return{result:r,headers:o,text:i,status:a}}));return function(){return e.apply(this,arguments)}}()}]),t}(Xt);function Xr(e){return Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr(e)}function qr(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jr(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$r(n.key),n)}function $r(e){var t=function(e,t){if("object"!==Xr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Xr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Xr(t)?t:t+""}function Qr(e,t){return Qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qr(e,t)}function eo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=no(e);if(t){var o=no(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return to(this,n)}}function to(e,t){if(t&&("object"===Xr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function no(e){return no=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},no(e)}var ro=function(e){function t(){return Yr(this,t),n.apply(this,arguments)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qr(e,t)}(t,e);var n=eo(t);return function(e,t,n){t&&Jr(e.prototype,t),n&&Jr(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"signinWithApple",value:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){qr(l,r,o,i,a,"next",e)}function a(e){qr(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(e){if(!e)throw new Error("Missing creds");var t="".concat(qe.myAccount[this.currEnv]).concat($e),n=yield this.post(t,e),r=n.result,o=n.headers,i=n.text,a=n.status;if(r&&r.error)throw new Error(r.error);try{var l=JSON.parse(i);if(l&&l.message)return{result:r,headers:o,text:l.message,status:a}}catch(e){console.log("Response text is in string format")}return{result:r,headers:o,text:i,status:a}}));return function(){return e.apply(this,arguments)}}()}]),t}(Xt);function oo(e){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(e)}function io(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function ao(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){io(l,r,o,i,a,"next",e)}function a(e){io(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}function lo(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uo(n.key),n)}unction so(e,t,n){return(t=uo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uo(e){var t=function(e,t){if("object"!==oo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==oo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oo(t)?t:t+""}var po=co((function e(){var t=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),so(this,"findUserWithEmail",function(){var e=ao((function*(e){if(!e)throw new Error("Missing Payload");try{var n=yield t.loginService.findByEmail(e.email_address,null===e||void 0===e?void 0:e.tenant_id),r=n.result;if(200===n.status){if(r.code===h)return{response:or,type:"redirect"};if(r.code===v)return"active"===(null===r||void 0===r?void 0:r.status)?{response:rr,type:"redirect"}:{response:ir,type:"redirect"}}return{response:!1,type:"error"}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),so(this,"logIn",function(){var e=ao((function*(e){try{if(e){var n=yield t.loginService.logIn(e),r=n.headers,o=n.text,i=n.status;return i&&200===i?{response:!0,headers:r,type:"success"}:{response:o,type:"error"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),so(this,"createAccount",function(){var e=ao((function*(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;try{if(e){var r=yield t.signupService.signUp(e),o=r.result,i=r.headers,a=r.text,l=r.status;return l&&200===l?"contextSwap"===n?{response:o.new_member,headers:i,type:"success"}:{response:!0,headers:i,type:"success"}:{response:l?a:"CORS error",type:"error"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),so(this,"initiatePasswordRequest",function(){var e=ao((function*(e,n){try{if(e){var r=yield t.swapService.initiatePasswordRequest(e),o=r.result,i=r.text,a=r.status;if(!a||200!==a)return{response:a?i:"CORS error",type:"error"};if("doThisLater"===n)return{response:i||o,type:"success"};if("emailMeALink"===n)return{response:y,type:"success"};if("forgotPassword"===n)return{response:!0,type:"success"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),so(this,"signInGoogle",function(){var e=ao((function*(e){var n=yield t.googleService.signInGoogle(e),r=(n.result,n.headers),o=n.text,i=n.status;return i&&200===i?{response:!0,type:"success",headers:r}:{response:i?o:"CORS error",type:"error"}}));return function(){return e.apply(this,arguments)}}()),so(this,"createSubscriber",function(){var e=ao((function*(e){try{if(e){var n=yield t.swapService.createSubscriber(e),r=n.result,o=n.text,i=n.status;return i&&200===i?{response:r,type:"success"}:{response:i?o:"CORS error",type:"error"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),so(this,"signInApple",function(){var e=ao((function*(e){var n=yield t.appleService.signinWithApple(e),r=(n.result,n.headers),o=n.text,i=n.status;return i&&200===i?{response:!0,headers:r,type:"success"}:{response:i?o:"CORS error",type:"error"}}));return function(){return e.apply(this,arguments)}}()),so(this,"sendEmailVerificationToUser",function(){var e=ao((function*(e){var n=yield t.loginService.sendVerificationEmail(e),r=(n.result,n.headers),o=n.text,i=n.status;return i&&200===i?{response:!0,headers:r,type:"success"}:{response:i?o:"CORS error",type:"error"}}));return function(){return e.apply(this,arguments)}}()),so(this,"getTokenDetails",function(){var e=ao((function*(e){try{if(e){var n=yield t.loginService.getTokenDetails(e),r=n.result,o=n.text,i=n.status;return 200!==i||r.meta&&r.meta.errors?200===i?{response:r.meta.errors[0],type:"error"}:{response:o,type:"error"}:{response:r,type:"success"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),this.loginService=new Nr,this.signupService=new jr,this.swapService=new Zr,this.googleService=new jn,this.appleService=new ro}));function fo(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}var mo=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){fo(l,r,o,i,a,"next",e)}function a(e){fo(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(e){return"CLAIM_HOME"===e?"/myhome":"SAVE_HOME"===e?"/myaccount/saved/homes":"SAVE_SEARCH"===e?"/myaccount/saved/searches":"OPEN_HOUSE_LS"===e||"OPEN_HOUSE_IP"===e?"/myaccount/profile/settings":"HIGHRISES"===e?"/profile":"/myaccount/saved/homes"}));return function(){return e.apply(this,arguments)}}(),yo=function(e){return null!==e&&void 0!==e&&e.startsWith("BZ_REG")?"".concat(e,"_registration").toLowerCase():e?"swap_".concat(e,"_registration").toLowerCase():"swap_default_registration"};function vo(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function ho(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){vo(l,r,o,i,a,"next",e)}function a(e){vo(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}function _o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(c){s=!0,o=c}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?go(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var bo=(0,o.memo)((function(e){var t=e.getStateValue,n=e.REGISTRATION_ORIGIN_CONTEXT,r=e.updateFormFlag,i=e.dynamicText,a=e.updateSocialButtonClicked,l=e.tenantId,c=i.passwordPage,s=void 0===c?{WelcomeBack:{showEmailMeLinkBtn:!1}}:c,u=_o((0,o.useState)(null),2),d=u[0],p=u[1],f=_o((0,o.useState)(null),2),m=(f[0],f[1]),y=function(){var e=ho((function*(){var e;Tt({containerName:"acct_registration_signin",context:n||"default",screenName:"welcome_back",action:"email_me_link_to_add_password"});var r={email_address:null===(e=t())||void 0===e?void 0:e.email,password_context:yo(n),request_type:fr.RETURNING_SUBSCRIBER_USER,client_id:pr,registration_source:"rdc",tenant_id:l},o=yield mo(n);o&&(r.redirect_url=o);try{var i=yield(new po).initiatePasswordRequest(r,"emailMeALink"),a=i.response,c=i.type;i.eventName,i.linkName;"error"===c?m(a):p(a)}catch(e){console.log(e)}}));return function(){return e.apply(this,arguments)}}();return o.createElement(o.Fragment,null,d&&o.createElement(Kn.D,{styleType:"body300"}," ",d," "),!d&&o.createElement(o.Fragment,null,s.WelcomeBack.showEmailMeLinkBtn&&o.createElement(o.Fragment,null,o.createElement(Zn.z,{styleType:"PrimaryDefault",fullWidth:!0,gutter:{top:"12px"},onClick:function(){return Tt({containerName:"acct_registration_signin",context:n||"default",screenName:"welcome_back",action:"email_me_link"}),a("emailMe"),void r(sr)}},"Email me a link to sign in with one click"),o.createElement("div",{style:{width:"100%",height:"15px",borderBottom:"1px solid black",textAlign:"center",margin:"10px 0px 24px"}},o.createElement("span",{style:{fontSize:"14px",backgroundColor:"#FFFFFF",padding:"4px 10px 0px",display:"inline-block",margin:"0px 0 0"}},"or"))),o.createElement(Zn.z,{"data-testid":"email-me-button",styleType:"PrimaryDefault",fullWidth:!0,onClick:ho(()},"Email me a link to add a password"),o.createElement(Zn.z,{"data-testid":"back-button",styleType:"Link",fullWidth:!0,gutter:{top:"12px",bottom:"280px"},onClick:function(){Tt({containerName:"acct_registration_signin",context:n||"default",screenName:"welcome_back",action:"back"}),r(nr)}},"Back")))})),Eo=bo,wo=n(23394),So=n(6568),To=n(77894),Oo=n(87462),No=n(45987),Io=n(19626),Po=n.n(Io),Ao=n(97330),Ro=n(85893),ko=["button","children","error","position"],xo=(0,o.forwardRef)((function(e,t){var n=e.button,r=e.children,o=e.error,i=e.position,a=void 0===i?"start":i,l=(0,No.Z)(e,ko);return(0,Ro.jsx)(Ao.U,(0,Oo.Z)({as:n&&"button",error:o,position:a,ref:t},l,{children:r}))}));xo.propTypes={button:Po().bool,error:Po().bool,position:Po().oneOf(["start","end"])};var Co=["as","children","color","label","size"],Do=function(e){var t=e.as,n=e.children,r=e.color,o=void 0===r?"inherit":r,i=e.label,a=e.size,l=void 0===a?3:a,c=(0,No.Z)(e,Co),s={display:"inline-block",width:"1em",height:"1em",fontSize:"".concat(8*l,"px"),color:o,fill:"currentColor"},u=i&&""!==i||c["aria-label"],d={role:u?"img":void 0,"aria-label":u?i||c["aria-label"]:void 0,"aria-hidden":!u||void 0,focusable:!!i};return(0,Ro.jsx)(t,(0,Oo.Z)({style:s},d,{},c,{children:n}))},Mo=(0,Ro.jsx)("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 0 0-1.414 1.414l18 18a1 1 0 0 0 1.414-1.414l-3.318-3.319a9.947 9.947 0 0 0 3.243-3.885 2.59 2.59 0 0 0 0-2.178C20.01 7.406 16.284 5 12 5a11.07 11.07 0 0 0-4.597.989L3.707 2.293Zm5.23 5.23 1.032 1.031a4.001 4.001 0 0 1 5.477 5.477l1.505 1.506c1.26-.833 2.257-1.973 2.866-3.288a.592.592 0 0 0 0-.498C18.537 8.986 15.542 7 12 7a9.127 9.127 0 0 0-3.063.523Zm4.995 4.995a2 2 0 0 0-2.45-2.45l2.45 2.45Z",clipRule:"evenodd"}),jo=(0,Ro.jsx)("path",{d:"M2.368 10.911a9.742 9.742 0 0 1 1.774-2.605l1.415 1.415a7.738 7.738 0 0 0-1.374 2.03.592.592 0 0 0 0 .498C5.463 15.014 8.458 17 12 17c.27 0 .538-.012.802-.034l1.743 1.743C13.73 18.9 12.876 19 12 19c-4.284 0-8.01-2.406-9.632-5.911a2.592 2.592 0 0 1 0-2.178Z"}),Lo=function(e){return(0,Ro.jsxs)("svg",(0,Oo.Z)({"data-testid":"icon-eye-slash",viewBox:"0 0 24 24"},e,{children:[Mo,jo]}))},Go=function(e){return(0,o.createElement)(Do,(0,Oo.Z)({},e,{as:Lo}))};Go.propTypes={size:Po().number,color:Po().string,label:Po().string};var Bo=["as","children","color","label","size"],Fo=function(e){var t=e.as,n=e.children,r=e.color,o=void 0===r?"inherit":r,i=e.label,a=e.size,l=void 0===a?3:a,c=(0,No.Z)(e,Bo),s={display:"inline-block",width:"1em",height:"1em",fontSize:"".concat(8*l,"px"),color:o,fill:"currentColor"},u=i&&""!==i||c["aria-label"],d={role:u?"img":void 0,"aria-label":u?i||c["aria-label"]:void 0,"aria-hidden":!u||void 0,focusable:!!i};return(0,Ro.jsx)(t,(0,Oo.Z)({style:s},d,{},c,{children:n}))},Ho=(0,Ro.jsx)("path",{fillRule:"evenodd",d:"M12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-2 4a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z",clipRule:"evenodd"}),Uo=(0,Ro.jsx)("path",{fillRule:"evenodd",d:"M12 5c-4.284 0-8.01 2.406-9.632 5.911a2.59 2.59 0 0 0 0 2.178C3.99 16.594 7.716 19 12 19s8.01-2.406 9.632-5.911a2.59 2.59 0 0 0 0-2.178C20.01 7.406 16.284 5 12 5Zm-7.817 6.751C5.463 8.986 8.458 7 12 7s6.537 1.986 7.817 4.751a.592.592 0 0 1 0 .498C18.537 15.014 15.542 17 12 17s-6.537-1.986-7.817-4.751a.592.592 0 0 1 0-.498Z",clipRule:"evenodd"}),Wo=function(e){return(0,Ro.jsxs)("svg",(0,Oo.Z)({"data-testid":"icon-eye",viewBox:"0 0 24 24"},e,{children:[Ho,Uo]}))},Vo=function(e){return(0,o.createElement)(Fo,(0,Oo.Z)({},e,{as:Wo}))};Vo.propTypes={size:Po().number,color:Po().string,label:Po().string};var zo=n(17433),Ko=(0,qn.ZP)(Zn.z).withConfig({displayName:"SocialButtonstyles__StyledSocialButton",componentId:"rui__sc-1jigjgf-0"})(["",""],();Ko.defaultProps={theme:zo.t};var Zo=["as","children","color","label","size"],Xo=function(e){var t=e.as,n=e.children,r=e.color,o=void 0===r?"inherit":r,i=e.label,a=e.size,l=void 0===a?3:a,c=(0,No.Z)(e,Zo),s={display:"inline-block",width:"1em",height:"1em",fontSize:"".concat(8*l,"px"),color:o,fill:"currentColor"},u=i&&""!==i||c["aria-label"],d={role:u?"img":void 0,"aria-label":u?i||c["aria-label"]:void 0,"aria-hidden":!u||void 0,focusable:!!i};return(0,Ro.jsx)(t,(0,Oo.Z)({style:s},d,{},c,{children:n}))},qo=(0,Ro.jsx)("path",{fill:"#1877F2",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12Z"}),Yo=function(e){return(0,Ro.jsx)("svg",(0,Oo.Z)({"data-testid":"icon-social-facebook-color",viewBox:"0 0 24 24"},e,{children:qo}))},Jo=function(e){return(0,o.createElement)(Xo,(0,Oo.Z)({},e,{as:Yo}))};Jo.propTypes={size:Po().number,color:Po().string,label:Po().string};var $o=["as","children","color","label","size"],Qo=function(e){var t=e.as,n=e.children,r=e.color,o=void 0===r?"inherit":r,i=e.label,a=e.size,l=void 0===a?3:a,c=(0,No.Z)(e,$o),s={display:"inline-block",width:"1em",height:"1em",fontSize:"".concat(8*l,"px"),color:o,fill:"currentColor"},u=i&&""!==i||c["aria-label"],d={role:u?"img":void 0,"aria-label":u?i||c["aria-label"]:void 0,"aria-hidden":!u||void 0,focusable:!!i};return(0,Ro.jsx)(t,(0,Oo.Z)({style:s},d,{},c,{children:n}))},ei=(0,Ro.jsx)("path",{fill:"#FBBB00",d:"m6.432 14.086-.696 2.599-2.544.054A9.956 9.956 0 0 1 2 11.999a9.95 9.95 0 0 1 1.118-4.598l2.266.415.992 2.252A5.944 5.944 0 0 0 6.056 12c0 .734.132 1.437.376 2.086Z"}),ti=(0,Ro.jsx)("path",{fill:"#518EF8",d:"M21.825 10.132a10.018 10.018 0 0 1-.044 3.956 9.998 9.998 0 0 1-3.52 5.71h-.001l-2.853-.146-.404-2.52a5.96 5.96 0 0 0 2.564-3.044H12.22v-3.956h9.605Z"}),ni=(0,Ro.jsx)("path",{fill:"#28B446",d:"M18.26 19.798A9.958 9.958 0 0 1 12 22a9.998 9.998 0 0 1-8.808-5.261l3.24-2.653a5.946 5.946 0 0 0 8.57 3.045l3.258 2.667Z"}),ri=(0,Ro.jsx)("path",{fill:"#F14336",d:"m18.383 4.302-3.24 2.652a5.948 5.948 0 0 0-8.767 3.114L3.12 7.401A9.998 9.998 0 0 1 12 2c2.426 0 4.651.864 6.383 2.302Z"}),oi=function(e){return(0,Ro.jsxs)("svg",(0,Oo.Z)({fill:"none","data-testid":"icon-social-google-color",viewBox:"0 0 24 24"},e,{children:[ei,ti,ni,ri]}))},ii=function(e){return(0,o.createElement)(Qo,(0,Oo.Z)({},e,{as:oi}))};ii.propTypes={size:Po().number,color:Po().string,label:Po().string};var ai=["as","children","color","label","size"],li=function(e){var t=e.as,n=e.children,r=e.color,o=void 0===r?"inherit":r,i=e.label,a=e.size,l=void 0===a?3:a,c=(0,No.Z)(e,ai),s={display:"inline-block",width:"1em",height:"1em",fontSize:"".concat(8*l,"px"),color:o,fill:"currentColor"},u=i&&""!==i||c["aria-label"],d={role:u?"img":void 0,"aria-label":u?i||c["aria-label"]:void 0,"aria-hidden":!u||void 0,focusable:!!i};return(0,Ro.jsx)(t,(0,Oo.Z)({style:s},d,{},c,{children:n}))},ci=(0,Ro.jsx)("path",{fillRule:"evenodd",d:"M16.105 2a4.475 4.475 0 0 1-1.023 3.206 3.765 3.765 0 0 1-2.973 1.406 4.256 4.256 0 0 1 1.05-3.088A4.553 4.553 0 0 1 16.105 2Zm2.078 8.451a4.544 4.544 0 0 0-.593 2.185 4.393 4.393 0 0 0 2.682 4.04 10.067 10.067 0 0 1-1.395 2.84c-.821 1.23-1.683 2.43-3.05 2.452-.65.015-1.089-.172-1.546-.367-.477-.203-.974-.415-1.752-.415-.825 0-1.344.219-1.845.43-.433.182-.852.358-1.442.383-1.302.048-2.297-1.312-3.148-2.529-1.702-2.486-3.027-7.006-1.25-10.08a4.882 4.882 0 0 1 4.108-2.506c.738-.016 1.447.269 2.068.519.475.19.899.36 1.246.36.305 0 .717-.163 1.197-.354.757-.3 1.683-.667 2.626-.568a4.653 4.653 0 0 1 3.666 1.981 4.545 4.545 0 0 0-1.572 1.629Z",clipRule:"evenodd"}),si=function(e){return(0,Ro.jsx)("svg",(0,Oo.Z)({"data-testid":"icon-social-apple",viewBox:"0 0 24 24"},e,{children:ci}))},ui=function(e){return(0,o.createElement)(li,(0,Oo.Z)({},e,{as:si}))};ui.propTypes={size:Po().number,color:Po().string,label:Po().string};var di=["as","children","color","label","size"],pi=function(e){var t=e.as,n=e.children,r=e.color,o=void 0===r?"inherit":r,i=e.label,a=e.size,l=void 0===a?3:a,c=(0,No.Z)(e,di),s={display:"inline-block",width:"1em",height:"1em",fontSize:"".concat(8*l,"px"),color:o,fill:"currentColor"},u=i&&""!==i||c["aria-label"],d={role:u?"img":void 0,"aria-label":u?i||c["aria-label"]:void 0,"aria-hidden":!u||void 0,focusable:!!i};return(0,Ro.jsx)(t,(0,Oo.Z)({style:s},d,{},c,{children:n}))},fi=(0,Ro.jsx)("path",{fillRule:"evenodd",d:"M7 4a5 5 0 0 0-5 5v6a5 5 0 0 0 5 5h10a5 5 0 0 0 5-5V9a5 5 0 0 0-5-5H7Zm-.857 5.486a1 1 0 0 1 1.372-.343L12 11.833l4.485-2.69a1 1 0 0 1 1.03 1.714l-5 3a1 1 0 0 1-1.03 0l-5-3a1 1 0 0 1-.342-1.371Z",clipRule:"evenodd"}),mi=function(e){return(0,Ro.jsx)("svg",(0,Oo.Z)({"data-testid":"icon-email-filled",viewBox:"0 0 24 24"},e,{children:fi}))},yi=yi.propTypes={size:Po().number,color:Po().string,label:Po().string};var vi=["children","branding"],hi={facebook:(0,Ro.jsx)(Jo,{}),google:(0,Ro.jsx)(ii,{}),apple:(0,Ro.jsx)(ui,{}),default:(0,Ro.jsx)(yi,{})},_i=(0,o.forwardRef)((function(e,t){var n=e.children,r=e.branding,o=void 0===r?"default":r,i=(0,No.Z)(e,vi),a=o&&hi[o]||hi.default;return(0,Ro.jsx)(Ko,(0,Oo.Z)({fullWidth:!0,ref:t},i,{iconBefore:a,styleType:"SecondaryDefault",children:n}))})),gi=function(e){var t=e.emailMeBtnHandler;return o.createElement(o.Fragment,null,o.createElement("div",{style:{width:"100%",height:"15px",borderBottom:"1px solid black",textAlign:"center",margin:"10px 0px 24px"}},o.createElement("span",{style:{fontSize:"14px",backgroundColor:"#FFFFFF",padding:"4px 10px 0px",display:"inline-block",margin:"0px 0 0"}},"or")),o.createElement(_i,{gutter:{top:"12px"},onClick:,"Email Me a Link"))};function bi(e){return bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bi(e)}function Ei(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Si(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?wi(Object(t),!0).forEach((function(n){Ti(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wi(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ti(e,t,n){return t=function(e){var t=function(e,t){if("object"!==bi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bi(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(c){s=!0,o=c}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ni(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ii=o.memo((function(e){var t=e.updateFormFlag,n=e.getStateValue,r=e.REGISTRATION_ORIGIN_CONTEXT,i=e.storeState,a=e.dynamicText,l=e.updateSocialButtonClicked,c=e.tenantId,s=e.handleSuccessScreen,u=a.passwordPage,d=void 0===u?{signIn:{showEmailMeLinkBtn:!1}}:u,p=Oi((0,o.useState)(!1),2),f=p[0],m=p[1],y=Oi((0,o.useState)({value:"",visible:!1}),2),v=y[0],h=y[1],_=Oi((0,o.useState)(null),2),g=_[0],b=_[1],E=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Ei(l,r,o,i,a,"next",e)}function a(e){Ei(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(){var e;m(!0),Tt({containerName:"acct_registration_signin",context:r||"default",screenName:"enter_password",action:"login"});var t,o,i={email:null===(e=n())||void 0===e?void 0:e.email,password:v.value,point_of_entry:r||"gnav_registration_form",tenant_id:c},a={grantType:V,payload:i};null!==a&&void 0!==a&&a.grantType&&null!==a&&void 0!==a&&a.payload&&(t=null===(o=yield pn(a.grantType,a.payload))||void 0===o?void 0:o.result);var l=fn();try{if(l){var u=!c&&(yield(new po).logIn(i)),d=u.response,p=u.headers;if("error"===u.type)document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge(),b(d),he();else{var f;if(p&&bn(p),Xe({authObj:l,tenantId:c}))s({isActive:!0,isNewMember:null===(f=t)||void 0===f||null===(f=f.result)||void 0===f?void 0:f.new_member}),St(ze.EVENTS.SIGNIN,{pagePrefix:"registration",pageName:"sign_in_password",containerModalName:"context_aware",action:"email"});else he(),document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge();(0,Ke.j)()&&window.googleOneTapEnabled&&Wn.closeGoogleOneTap()}}else{var y;b(null===(y=t)||void 0===y||null===(y=y.errors)||void 0===y||null===(y=y[0])||void 0===y?void 0:y.message)}}catch(e){console.log(e)}m(!1)}));return function(){return e.apply(this,arguments)}}();return o.createElement(wo.l,{onSubmit:E},o.createElement(So.c,null,o.createElement(To.c,{inputProps:{"data-testid":"password-input","aria-label":"Enter password"},id:"raas_password",type:v.visible?"":"password",placeholder:"Enter your password",label:"Password",value:v.value,endAddon:o.createElement(xo,{button:!0,type:"button","data-testid":v.visible?"show-password":"hide-password","aria-label":v.visible?"Show password text":"Hide password text",onClick:function(){Tt({containerName:"acct_registration_signin",context:r||"default",screenName:"enter_password",action:"show_hide_password"}),h({value:v.value,visible:!v.visible})},position:"end"},v.visible?o.createElement(Go,null):o.createElement(Vo,null)),error:!!g,helperText:g,errorText:g,onChange:function(e){b(null),h(Si(Si({},v),{},{value:e.target.value}))},autoComplete:"current-password"})),o.createElement(Zn.z,{"data-testid":"forgot-button",styleType:"Link",style:{float:"right"},gutter:{top:"12px",bottom:"6px"},onClick:function(){var e;Tt({containerName:"acct_registration_signin",context:r||"default",screenName:"enter_password",action:"forgot_password"}),t(ar),i({email:null===(e=n())||void 0===e?void 0:e.email,password:v.value})}},"Forgot Password"),o.createElement(Zn.z,{isLoading:f,"data-testid":"login-button",type:"submit",styleType:"PrimaryDefault",fullWidth:!0},"Login"),d.signIn.showEmailMeLinkBtn&&o.createElement(gi,{emailMeBtnHandler:function(){Tt({containerName:"acct_registration_signin",context:r||"default",screenName:"enter_password",action:"email_me_link"}),l("emailMe"),t(sr)}}),o.createElement(Zn.z,{"data-testid":"back-button",styleType:"Link",fullWidth:!0,gutter:{top:"12px",bottom:"203px"},onClick:function(){return function(){var e;Tt({containerName:"acct_registration_signin",context:r||"default",screenName:"enter_password",action:"back"}),i({email:null===(e=n())||void 0===e?void 0:e.email,password:v.value}),t(nr)}()}},"Back"))})),Pi=Ii,Ai=n(38028),Ri=n(79867),ki=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0,r=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;t&&Ve.ZP.trackEvent(ze.EVENTS.CLICK,{linkName:t,abTestMisc:He()}),Ee(o||null),r&&r(e||(null===o||void 0===o?void 0:o.containerName),n?n.email:"",n)},xi=function(e){var t=e.callbackUsed,n=e.loginSuccessEvent,r=e.isSwapSubscriber,o=void 0===r?null:r,i=e.loginFailureEvent,a=e.isNewMember;fn()?t&&n({isActive:!(null!==o)||o,isNewMember:void 0!==a&&a}):(document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge(),i())};function Ci(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}var Di=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Ci(l,r,o,i,a,"next",e)}function a(e){Ci(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{var o=e.response,i=e.request,a=e.responseType,l=e.container,c=e.redirectURI,s=t.callbackUsed,u=t.shouldModalClose,d=t.funcHandler,p=t.setError,f=t.clearState,m=t.changeComponentType,y=t.dynamicText,v=n.eventName,h=n.headers,_=n.linkName,g=n.action;if("error"===a)p(o),s&&he(),Se(l)||wt();else if("success"===a){d&&d(h||o);try{var E,w;v&&g&&Et(v,{action:g}),r.grantType&&r.payload&&(w=yield pn(null===r||void 0===r?void 0:r.grantType,null===r||void 0===r?void 0:r.payload)),xi({callbackUsed:s,loginSuccessEvent:ve,loginFailureEvent:he,isNewMember:null===(E=w)||void 0===E||null===(E=E.result)||void 0===E?void 0:E.new_member}),v&&_&&Ve.ZP.trackEvent(v,gt(v,_,i.marketing,l)),"undefined"!=typeof window&&window.googleOneTapEnabled&&Wn.closeGoogleOneTap(),u&&f(),wt(),(Te(l)||Se(l))&&vn()&&(window.location.href="".concat(window.location.origin).concat(c))}catch(e){console.log(e)}}else{var S,T,O=(null===i||void 0===i?void 0:i.email)||(null===i||void 0===i?void 0:i.email_address);h&&d(h),u&&f(),_&&Ne(_),g&&Ne(bt(g)),v&&g&&Et(v,{action:g}),(o===D||o===b)&&r.grantType&&r.payload&&(T=yield pn(null===r||void 0===r?void 0:r.grantType,null===r||void 0===r?void 0:r.payload)),ki(o,null,{email:O},m,y),xi({callbackUsed:s,loginSuccessEvent:ve,isSwapSubscriber:"successSubscriber_swap"!==o,loginFailureEvent:he,isNewMember:null===(S=T)||void 0===S||null===(S=S.result)||void 0===S?void 0:S.new_member}),v&&_&&Ve.ZP.trackEvent(v,gt(v,_,i.marketing,l)),"undefined"!=typeof window&&window.googleOneTapEnabled&&Wn.closeGoogleOneTap()}}catch(e){console.log("[Handling Response]",e)}}));return function(){return e.apply(this,arguments)}}();function Mi(e){return Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mi(e)}function ji(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Li(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){ji(l,r,o,i,a,"next",e)}function a(e){ji(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}function Gi(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zi(n.key),n)}function Bi(e,t){return Bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bi(e,t)}function Fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wi(e);if(t){var o=Wi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hi(this,n)}}nction Wi(e){return Wi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wi(e)}function Vi(e,t,n){return(t=zi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zi(e){var t=function(e,t){if("object"!==Mi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Mi(t)?t:t+""}var Ki=function(e){function t(e,r,o,i,a,l,c){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vi(Ui(s=n.call(this)),"authToken",null),Vi(Ui(s),"getFacebookEventsForTracking",(function(e){var t=e?"SIGNUP":"SIGNIN";return{eventName:ze.EVENTS[t],linkName:s.container===w?ze.LINKNAMES.SWAP_FB:ze.LINKNAMES["".concat(t,"_FB")]}})),Vi(Ui(s),"getFacebookEventsForVariantTracking",(function(e){return{eventName:ze.EVENTS[e?"SIGNUP":"SIGNIN"],linkName:ze.LINKNAMES.SIGNIN_FB}})),Vi(Ui(s),"facebookLogin",(function(){ie&&(s.FB=window.FB,s.FB.getLoginStatus((function(e){"connected"===e.status?s.facebookLoginHandler(e,!1):s.FB.login(s.facebookLoginHandler,{scope:"public_profile,email"})})))})),Vi(Ui(s),"facebookLoginHandler",(function(e,t){if("connected"===e.status)s.authToken=e.authResponse?e.authResponse.accessToken:null,s.loginIntoRDC();else if("not_authorized"===e.status){if(t){var n=Ui(s);s.FB.login((function(e){n.facebookLoginHandler(e)}),{scope:"public_profile,email"})}}else if(console.log(e.status),t){var r=Ui(s);s.FB.login((,{scope:"public_profile,email"})}})),Vi(Ui(s),"loginIntoRDC",(function(){s.FB.api("/me?fields=token_for_business,email",function(){var e=Li((function*(e){var t=e.email;if(void 0===t)s.setError("You must share your email address to register");else if(s.container===I){Ve.ZP.trackEvent(ze.EVENTS.MODAL_IMPRESSION,{modalName:ze.MODAL_NAME.RELOGIN,modalTrigger:ze.MODAL_TRIGGER.FACEBOOK});var n=yield hn(q,{facebook_token:s.authToken});200===n.status&&(ie&&window.dispatchEvent(new CustomEvent("authSuccessEvent")),s.clearState()),s.setError(null===n||void 0===n?void 0:n.text)}else!function(e){return e===F}(s.container)?(yield s.signinFacebook(t,e.token_for_business),s.setError("You will be redirected shortly.")):(s.contextAwareFaceBookSignin(t,e.token_for_business),s.setError("You will be redirected shortly."))}));return function(){return e.apply(this,arguments)}}())})),Vi(Ui(s),"contextAwareFaceBookSignin",function(){var e=Li((function*(e,n){var r,o=Ui(s),i=null===(r=be())||void 0===r?void 0:r.disableMarketingOptIn,a=new t;if(e&&n){var l={email_address:e,facebook_id:n,registration_source:"rdc-web",is_new_fb_token:!0,point_of_entry:s.REGISTRATION_ORIGIN_CONTEXT||"gnav_registration_form"};l.facebook_token=o.authToken,i&&(l.marketing_email=!0);var c,u={grantType:q,payload:l};null!==u&&void 0!==u&&u.grantType&&null!==u&&void 0!==u&&u.payload&&(c=yield pn(u.grantType,u.payload));var d=fn();try{if(d){var p=!s.tenantId&&(yield a.signInFacebook(l)),f=p.result,m=p.headers,y=p.text;if(200!==p.status)o.setError(y),document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge(),he();else{if(m&&bn(m),Xe({authObj:d,tenantId:s.tenantId}))if(f&&!c.result.new_member){var v;o.handleSuccessScreen({isActive:!0,isNewMember:null===(v=c)||void 0===v||null===(v=v.result)||void 0===v?void 0:v.new_member}),St(ze.EVENTS.SIGNIN,{pagePrefix:"registration",pageName:"landing_page",containerModalName:"context_aware",action:"facebook"})}else if(i){var h;o.handleSuccessScreen({isActive:!0,isNewMember:null===(h=c)||void 0===h||null===(h=h.result)||void 0===h?void 0:h.new_member}),St(ze.EVENTS.SIGNUP,{pagePrefix:"registration",pageName:"landing_page",containerModalName:"context_aware",action:"facebook"})}else!function(e){var t=e.email;(0,Ke.j)()&&window.dispatchEvent(new CustomEvent("facebookNewUserEvent",{detail:t}))}({email:e});else he(),document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge();ie&&window.googleOneTapEnabled&&Wn.closeGoogleOneTap()}}}catch(e){console.log(e)}}}));return function(){return e.apply(this,arguments)}}()),Vi(Ui(s),"signinFacebook",function(){var e=Li((function*(e,n){var r=Ui(s),o=new t;if(e&&n){var i={email_address:e,facebook_id:n,registration_source:"rdc-web",is_new_fb_token:!0,point_of_entry:fe(s.container)?"gnav_registration_form":"swap_registration_form"};try{var a=yield o.signInFacebook(i),l=a.result,c=a.headers,u=a.text;if(200!==a.status)r.setError(u),he();else if(fe(s.container)&&l.new_member){var d=r.getFacebookEventsForVariantTracking(l.new_member,s.container),p=d.eventName,f=d.linkName;i.facebook_token=s.authToken,Di({response:k,responseType:"redirect",request:{email:i.email_address},grantType:q,container:s.container},{callbackUsed:!1,shouldModalClose:!0,funcHandler:bn,setError:r.setError,clearState:r.clearState,changeComponentType:r.changeComponentType,dynamicText:be()},{headers:c,eventName:p,linkName:f},{grantType:q,payload:i})}else{var m,y;bn(c),i.facebook_token=s.authToken,i.facebook_token&&(y=yield pn(q,i));var v=r.getFacebookEventsForTracking(l.new_member),h=v.eventName,_=v.linkName;((s.container)||pe(s.container)?Et(h,{action:ze.MODAL_ACTIONS.FACEBOOK}):Ve.ZP.trackEvent(h,gt(h,_,null,s.container)),xi({callbackUsed:!0,loginSuccessEvent:ve,loginFailureEvent:he,isNewMember:null===(m=y)||void 0===m||null===(m=m.result)||void 0===m?void 0:m.new_member}),r.clearState()}}catch(e){console.log(e)}}}));return function(){return e.apply(this,arguments)}}()),s.setError=e,s.clearState=r,s.container=o,s.changeComponentType=i,s.FB=null,s.REGISTRATION_ORIGIN_CONTEXT=a,s.tenantId=l,s.handleSuccessScreen=c,s}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bi(e,t)}(t,e);var n=Fi(t);return function(e,t,n){t&&Gi(e.prototype,t),n&&Gi(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"signInFacebook",value:function(){var e=Li((function*(e){if(!e)throw new Error("Missing payload");var t="".concat(qe.myAccount[this.currEnv]).concat($e),n=yield this.post(t,e),r=n.result,o=n.headers,i=n.text,a=n.status;if(r&&r.error)throw new Error(r.error);return{result:r,headers:o,text:i,status:a}}));return function(){return e.apply(this,arguments)}}()}]),t}(Xt);function Zi(e){return Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zi(e)}function Xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qi(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?Xi(Object(t),!0).forEach((function(n){Yi(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xi(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Yi(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Zi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Zi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zi(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ji(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function $i(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Ji(l,r,o,i,a,"next",e)}function a(e){Ji(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}function Qi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(c){s=!0,o=c}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ea(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ta=(0,o.memo)((function(e){var t,n=e.updateFormFlag,r=e.storeState,i=e.dynamicText,a=e.getStateValue,l=e.clearState,s=e.updateSocialButtonClicked,u=e.REGISTRATION_ORIGIN_CONTEXT,d=e.tenantId,p=e.handleSuccessScreen,f=Qi((0,o.useState)(!1),2),m=f[0],y=f[1],v=i.buttonsDisplayOrder,h=void 0===v?[{key:"continue",text:"Continue"},{key:"google",text:"Continue with Google"},{key:"facebook",text:"Continue with Facebook"},{key:"apple",text:"Continue with Apple"}]:v,_=i.landingPage,g=void 0===_?{showEmailMeLinkBtn:!1}:_,b=(i.success,i.disableMarketingOptIn),E=void 0!==b&&b,w=Qi((0,o.useState)((null===(t=a())||void 0===t?void 0:t.email)||""),2),S=w[0],T=w[1],O=Qi((0,o.useState)(null),2),N=(O[0],O[1]),I=function(e){r({email:e.detail}),s("facebook"),n(cr)};(0,o.useEffect)((,[]);var P=A=function(){var e=$i((function*(){y(!0),Tt({containerName:"acct_registration_signin",context:u||"default",screenName:"start_screen",action:"continue_email"});try{var e=yield(new po).findUserWithEmail({email_address:S,tenant_id:d}),t=e.response;e.type;r({email:S}),n(or===t?or:rr===t?rr:ir)}catch(e){console.log(e)}y(!1)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=$i((function*(){Tt({containerName:"acct_registration_signin",context:u||"default",screenName:"start_screen",action:"continue_apple"});try{var e,t=yield null===(e=window)||void 0===e||null===(e=e.AppleID)||void 0===e||null===(e=e.auth)||void 0===e?void 0:e.signIn(),o=t.authorization,i=t.user,a=o.id_token;if(a){var l,c,f={apple_id_token:a,registration_source:"rdc",first_name:(null===i||void 0===i||null===(l=i.name)||void 0===l?void 0:l.firstName)||null,last_name:(null===i||void 0===i||null===(c=i.name)||void 0===c?void 0:c.lastName)||null,point_of_entry:u||"gnav_registration_form",tenantId:d};E&&(f.marketing_email=!0);var m,y={grantType:Z,payload:f};null!==y&&void 0!==y&&y.grantType&&null!==y&&void 0!==y&&y.payload&&(m=yield pn(y.grantType,y.payload));var v=fn(),h=mn(a);try{if(v){var _=!d&&(yield(new po).signInApple(f)),g=_.response,b=_.type,w=_.headers;_.eventName,_.linkName;if("error"===b)N(g),document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge(),he();else{if(w&&bn(w),Xe({authObj:v,tenantId:d}))if(g&&!m.result.new_member){var S;p({isActive:!0,isNewMember:null===(S=m)||void 0===S||null===(S=S.result)||void 0===S?void 0:S.new_member}),St(ze.EVENTS.SIGNIN,{pagePrefix:"registration",pageName:"landing_page",containerModalName:"context_aware",action:"apple"})}else if(E){var T;r({email:h.email}),p({isActive:!0,isNewMember:null===(T=m)||void 0===T||null===(T=T.result)||void 0===T?void 0:T.new_member}),St(ze.EVENTS.SIGNUP,{pagePrefix:"registration",pageName:"landing_page",containerModalName:"context_aware",action:"apple"})}else r({email:h.email}),n(cr),s("apple");else he(),document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge();(0,Ke.j)()&&window.googleOneTapEnabled&&Wn.closeGoogleOneTap()}}}catch(e){console.log(e)}}}catch(e){console.log(e)}}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=$i((function*(){Tt({containerName:"acct_registration_signin",context:u||"default",screenName:"start_screen",action:"continue_facebook"}),new Ki(N,l,F,null,u,d,p).facebookLogin()}));return function(){return e.apply(this,arguments)}}(),x=function(){var e=$i((function*(){Tt({containerName:"acct_registration_signin",context:u||"default",screenName:"start_screen",action:"continue_google"});try{var e=yield window.auth2.signIn();if(e){var t=e.getAuthResponse().id_token;if(t){var o={google_token_id:t,registration_source:"rdc",is_google_sign_up:!0,is_google_one_tap:!1,point_of_entry:u||"gnav_registration_form",tenantId:d};E&&(o.marketing_emails=!0);var i,a={grantType:z,payload:qi(qi({},o),{google_client_id:ee})};null!==a&&void 0!==a&&a.grantType&&null!==a&&void 0!==a&&a.payload&&(i=yield pn(a.grantType,a.payload));var l=fn();try{if(l){var c=!d&&(yield(new po).signInGoogle(o)),f=c.response,m=c.headers,y=c.type;c.eventName,c.linkName;if("error"===y)document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge(),N(f),he();else{if(m&&bn(m),Xe({authObj:l,tenantId:d}))if(f&&!i.result.new_member){var v;p({isActive:!0,isNewMember:null===(v=i)||void 0===v||null===(v=v.result)||void 0===v?void 0:v.new_member}),St(ze.EVENTS.SIGNIN,{pagePrefix:"registration",pageName:"landing_page",containerModalName:"context_aware",action:"google"})}else if(E){var h;r({email:e.getBasicProfile().getEmail()}),p({isActive:!0,isNewMember:null===(h=i)||void 0===h||null===(h=h.result)||void 0===h?void 0:h.new_member}),St(ze.EVENTS.SIGNUP,{pagePrefix:"registration",pageName:"landing_page",containerModalName:"context_aware",action:"google"})}else r({email:e.getBasicProfile().getEmail()}),n(cr),s("google");else he(),document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge();(0,Ke.j)()&&window.googleOneTapEnabled&&Wn.closeGoogleOneTap()}}}catch(e){console.log(e)}}}}catch(e){console.log("[Google]: ",e)}}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=$i((function*(e){"google"===e?yield x():"facebook"===e?yield k():"apple"===e?yield R():"emailMe"===e&&(yield(Tt({containerName:"acct_registration_signin",context:u||"default",screenName:"start_screen",action:"email_me_link"}),s("emailMe"),void n(sr)))}));return function(){return e.apply(this,arguments)}}();return(null===g||void 0===g?void 0:g.showEmailMeLinkBtn)&&["continue","google","facebook","apple"].push("emailMe"),o.createElement("div",null,h.map((function(e){return["google","facebook","apple","emailMe"].includes(e.key)?o.createElement(_i,{branding:"emailMe"===e.key?"default":e.key,key:e.key,gutter:{top:"12px"},onClick:,e.text):"continue"===e.key?o.createElement("div",{key:e.key},o.createElement(wo.l,{onSubmit:A},o.createElement(So.c,null,o.createElement(To.c,{inputProps:{"data-testid":"email-input","aria-label":"Enter email"},id:"raas_email",validators:[{validator:Ai.o},{validator:Ri.R}],type:"email",placeholder:"Enter your email",label:"Email address",errorText:c,required:!0,onChange:P,value:S||(null===(t=a())||void 0===t?void 0:t.email),autoComplete:"email"})),o.createElement(Zn.z,{isLoading:m,"data-testid":"continue-button",type:"submit",styleType:"PrimaryDefault",fullWidth:!0,gutter:{top:"16px",bottom:"3px"}},"Continue"),1<(null===h||void 0===h?void 0:h.length)&&o.createElement("div",{style:{width:"100%",height:"15px",borderBottom:"1px solid black",textAlign:"center",margin:"10px 0px 24px"}},o.createElement("span",{style:{fontSize:"14px",backgroundColor:"#FFFFFF",padding:"4px 10px 0px",display:"inline-block",margin:"0px 0 0"}},"or")))):void 0;var t})))})),na=ta,ra=o.memo((function(e){var t,n,r,i,a,l,c,s,u=e.dynamicText,d=e.getStateValue,p=e.REGISTRATION_ORIGIN_CONTEXT,f=e.handleLoginSuccess,m=u.success,y=void 0===m?{signUp:{headerTitle:"Registration Successful!!!!",headerDescription:"",show:!1,dynamicHtml:"<html><div>Welcome to realtor.com!</div></html>",dynamicHtmlCube:"<html><div>Welcome to realtor.com!</div></html>"},signIn:{headerTitle:"Sign-in Successful!!!!",headerDescription:"",show:!1,dynamicHtml:"<html><div>Welcome to realtor.com!</div></html>",dynamicHtmlCube:"<html><div>Welcome to realtor.com!</div></html>"}}:m;return(null!==(t=d())&&void 0!==t&&t.isNewMember?null===y||void 0===y||null===(n=y.signUp)||void 0===n?void 0:n.show:null===y||void 0===y||null===(r=y.signIn)||void 0===r?void 0:r.show)&&o.createElement(o.Fragment,null,o.createElement("div",{"data-testid":"dynamic-success-screen-html",dangerouslySetInnerHTML:{__html:null!==(i=d())&&void 0!==i&&i.isNewMember?(null===y||void 0===y||null===(a=y.signUp)||void 0===a?void 0:a.dynamicHtmlCube)||(null===y||void 0===y||null===(l=y.signUp)||void 0===l?void 0:l.dynamicHtml):(null===y||void 0===y||null===(c=y.signIn)||void 0===c?void 0:c.dynamicHtmlCube)||(null===y||void 0===y||null===(s=y.signIn)||void 0===s?void 0:s.dynamicHtml)}}),o.createElement(Zn.z,{"data-testid":"success-screen-cta",styleType:"PrimaryDefault",fullWidth:!0,gutter:{top:"16px",bottom:"3px"},onClick:function(){f({}),Tt({containerName:"acct_registration_signin",context:p||"default",screenName:"success_screen",action:"continue"})}},"Continue"))})),oa=ra,ia=n(75656),aa=(0,qn.ZP)(ia._).withConfig({displayName:"ControlLabelstyles__StyledLabelWrapper",componentId:"rui__sc-13ux3p4-0"})(["align-items:center;display:inline-flex;cursor:",";.control-label-text{color:",";margin-left:8px;}"],(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){var t=e.disabled,n=e.theme;return t?n.color.gray[600]:n.color.text.primary}));aa.defaultProps={theme:zo.t};var la=["checked","children","control","disabled","error","fieldSetId","id","inputRef","name","onChange","value"],ca=(0,o.forwardRef)((function(e,t){var n=e.checked,r=e.children,i=e.control,a=e.disabled,l=void 0!==a&&a,c=e.error,s=void 0!==c&&c,u=e.fieldSetId,d=e.id,p=e.inputRef,f=e.name,m=e.onChange,y=e.value,v=(0,No.Z)(e,la),h={checked:n,disabled:i.props.disabled||l,error:s,id:d,name:f,inputRef:p,onChange:m,value:y};return(0,Ro.jsxs)(aa,(0,Oo.Z)({disabled:h.disabled,ref:t},v,{children:[(0,o.cloneElement)(i,(0,Oo.Z)({},h,{inputProps:(0,Oo.Z)({"aria-describedby":u&&"".concat(u,"_helper"),"aria-invalid":s,"aria-live":s?"polite":null},i.props.inputProps)})),r&&(0,Ro.jsx)(Kn.D,{className:"control-label-text",styleType:"body300",children:r})]}))})),sa=n(8909),ua=["checked","children","control","disabled","error","fieldSetId","id","inputRef","name","onChange","value"],da=(0,o.forwardRef)((function(e,t){var n=e.checked,r=e.children,o=e.control,i=e.disabled,a=e.error,l=e.fieldSetId,c=e.id,s=e.inputRef,u=e.name,d=e.onChange,p=e.value,f=(0,No.Z)(e,ua);return(0,sa.E)(c,{},""),(0,Ro.jsx)(ca,(0,Oo.Z)({checked:n,control:o,disabled:i,error:a,fieldSetId:l,id:c,inputRef:s,name:u,onChange:d,ref:t,value:p},f,{children:r}))})),pa=n(86854),fa=n(16609),ma=qn.ZP.span.withConfig({displayName:"SwitchBasestyles__SwitchBaseWrapper",componentId:"rui__sc-76uw8w-0"})(["display:inline-flex;vertical-align:top;position:relative;cursor:pointer;&:has(:focus-visible){outline:"," auto;outline:Highlight;outline-offset:2px;outline:-webkit-focus-ring-color auto;}& > *:focus:not(:focus-visible){outline:0;}@-moz-document url-prefix(){&:focus-within{outline:highlight auto;}}.switch-base-input{position:absolute;top:0;left:0;height:100%;width:100%;margin:0;opacity:0;z-index:1;cursor:",";}"],(,();ma.defaultProps={theme:zo.t};var ya=["autoFocus","checked","children","error","defaultChecked","disabled","id","inputProps","inputRef","onBlur","onChange","onFocus","name","readOnly","required","tabIndex","type","value"],va=(0,o.forwardRef)((function(e,t){var n=e.autoFocus,r=e.checked,i=e.children,a=e.error,l=e.defaultChecked,c=e.disabled,s=e.id,u=e.inputProps,d=e.inputRef,p=e.onBlur,f=void 0===p?fa.Yc:p,m=e.onChange,y=void 0===m?fa.Yc:m,v=e.onFocus,h=void 0===v?fa.Yc:v,_=e.name,g=e.readOnly,b=e.required,E=e.tabIndex,w=e.type,S=e.value,T=(0,No.Z)(e,ya),O=null!==r,N=(0,o.useState)(l||!1),I=(0,pa.Z)(N,2),P=I[0],A=I[1],R=(0,o.useState)(!1),k=(0,pa.Z)(R,2),x=k[0],C=k[1],D=(0,o.useState)(!1),M=(0,pa.Z)(D,2),j=M[0],L=M[1],G=function(){C(!0)},B=function(){C(!1)},F=O?r:P,H="checkbox"===w||"radio"===w;return(0,Ro.jsxs)(ma,(0,Oo.Z)({disabled:c,onBlur:function(e){f(e),L(!1)},onFocus:onMouseEnter:G,onMouseLeave:B,onTouchEnd:B,onTouchStart:G,ref:t,tabIndex:null},T,{children:["function"===typeof i?i({checked:F,disabled:c,focusedState:j,hoveredState:x,error:a}):i,(0,Ro.jsx)("input",(0,Oo.Z)({className:"switch-base-input",id:H&&s,onChange:function(e){var t=e.target.checked;O||A(t),y(e,t)},ref:d,autoFocus:n,checked:F,disabled:c,name:_,readOnly:g,required:b,tabIndex:E,type:w,value:S},u))]}))}));va.defaultProps={inputProps:{}};var ha=(0,qn.ZP)(va).withConfig({displayName:"Checkboxstyles__StyledCheckboxWrapper",componentId:"rui__tw7xrs-0"})(["border-radius:",";&:focus-within{outline-offset:3px;}> span{display:inline-block;background-color:",";border:",";border-radius:",";height:",";position:relative;vertical-align:top;width:",";&:after{border:solid ",";border-width:",";content:'';display:none;height:8px;left:5px;position:absolute;top:2px;transform:rotate(45deg);width:4px;}",";",";}"],(function(e){return e.theme.form.control.base.borderRadius}),(function(e){return e.theme.form.control.initial.bgColor}),(function(e){var t=e.theme;return"".concat(t.size.border[100]," solid ").concat(t.form.control.initial.brColor)}),(function(e){return e.theme.form.control.base.borderRadius}),(function(e){return e.theme.form.control.base.size}),(,(,(function(e){var t=e.theme;return"0 ".concat(t.size.border[200]," ").concat(t.size.border[200]," 0")}),(function(e){var t=e.checked,n=e.theme;return t?"\n      background-color: ".concat(n.form.control.checked.bgColor,";\n      border-color: ").concat(n.form.control.checked.bgColor,";\n      &:after {\n        display: block;\n      }\n    "):void 0}),(function(e){var t=e.checked,n=e.disabled,r=e.theme;return n?"\n      background-color: ".concat(t?r.form.control.disabled.bgColor:r.color.white,";\n      border-color: ").concat(r.form.control.disabled.brColor,";\n      cursor: not-allowed;\n    "):void 0}));ha.defaultProps={theme:zo.t};var _a=["inputProps"],ga=(0,o.forwardRef)((function(e,t){var n=e.inputProps,r=(0,No.Z)(e,_a);return(0,Ro.jsx)(ha,(0,Oo.Z)({type:"checkbox",inputProps:n,ref:t},r,{children:(0,Ro.jsx)("span",{checked:r.checked})}))}));function ba(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}var Ea=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){ba(l,r,o,i,a,"next",e)}function a(e){ba(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(){var e=new URLSearchParams(window.location.search).get("redirect_url_override"),t=e||"".concat(window.location.pathname+window.location.search);return"".concat(window.location.pathname)!==re||e||(t=ne),t}));return function(){return e.apply(this,arguments)}}(),wa=function(e){return!e||8>e.length?a:100<e.length?i:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*["*()+_#@$!%?&'.,:;<=>^\-`/[\]\\{|}~])[A-Za-z\d*()+_"#@$!%?&'.,:;<=>^\-`/[\]\\{|}~]\S*$/.test(e)?null:l},Sa=function(e,t,n){e?n.marketing_email=!0:t&&(n.marketing_email=t)};function Ta(e){return Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(e)}function Oa(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Na(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Oa(l,r,o,i,a,"next",e)}function a(e){Oa(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}function Ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pa(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?Ia(Object(t),!0).forEach((function(n){Aa(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ia(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Aa(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Ta(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ta(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ta(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ra(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(c){s=!0,o=c}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ka(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ka(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ka(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var xa=o.memo((function(e){var t=e.updateFormFlag,n=e.REGISTRATION_ORIGIN_CONTEXT,r=e.getStateValue,i=(e.clearState,e.dynamicText),a=e.storeState,l=e.updateSocialButtonClicked,c=e.tenantId,s=e.handleSuccessScreen,u=Ra((0,o.useState)(!1),2),d=u[0],p=u[1],f=i.passwordPage,m=void 0===f?{signUp:{showEmailMeLinkBtn:!1}}:f,y=(i.success,i.canSkipAddPassword),v=void 0!==y&&y,h=i.disableMarketingOptIn,_=void 0!==h&&h,g=Ra((0,o.useState)({value:"",passwordVisible:!1,marketing:!0}),2),b=g[0],E=g[1],w=Ra((0,o.useState)(null),2),S=w[0],T=w[1],O=function(){var e=Na((function*(){if(p(!0),Tt({containerName:"acct_registration_signin",context:n||"default",screenName:"add_password",action:"create_password"}),!S){var e,t={email_address:null===(e=r())||void 0===e?void 0:e.email,password:b.value,point_of_entry:n||"gnav_registration_form",registration_source:"rdc",registration_user_agent:navigator.userAgent,wall_street:!1,html_verify:!1,tenant_id:c};Sa(_,b.marketing,t),t.sign_up="allowed";var o,i={grantType:V,payload:t};null!==i&&void 0!==i&&i.grantType&&null!==i&&void 0!==i&&i.payload&&(o=yield pn(i.grantType,i.payload));var a=fn();try{if(a){var l=!c&&(yield(new po).createAccount(t)),u=l.response,d=l.headers,f=l.type;l.eventName,l.linkName;if("error"===f)T(u),document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge(),he();else{var m;if(d&&bn(d),Xe({authObj:a,tenantId:c}))s({isActive:!0,isNewMember:null===(m=o)||void 0===m||null===(m=m.result)||void 0===m?void 0:m.new_member}),St(o.result.new_member?ze.EVENTS.SIGNUP:ze.EVENTS.SIGNIN,{pagePrefix:"registration",pageName:"sign_up_password",containerModalName:"context_aware",action:"email"});else he(),document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge();(0,Ke.j)()&&window.googleOneTapEnabled&&Wn.closeGoogleOneTap()}}}catch(e){console.log(e)}p(!1)}}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Na((function*(){var e,t;Tt({containerName:"acct_registration_signin",context:n||"default",screenName:"add_password",action:"do_this_later"});var o={email_address:null===(e=r())||void 0===e?void 0:e.email,password_context:yo(n),request_type:fr.NEW_SUBSCRIBER_USER,client_id:pr,registration_source:"rdc",point_of_entry:n||"gnav_registration_form"};Sa(_,b.marketing,o);var i=yield Ea();i&&(o.redirect_url=i);var a,l={grantType:K,payload:o};null!==l&&void 0!==l&&l.grantType&&null!==l&&void 0!==l&&l.payload&&(a=yield pn(l.grantType,l.payload));var u={email_address:null===(t=r())||void 0===t?void 0:t.email,point_of_entry:n||"gnav_registration_form",registration_source:"rdc",registration_user_agent:navigator.userAgent},d=fn();try{if(d){var p=!c&&(yield(new po).createAccount(u)),f=p.response,m=p.headers;if("error"===p.type)T(f),he();else{if(m&&bn(m),Xe({authObj:d,tenantId:c})){var y;s({isActive:!0,isNewMember:null===(y=a)||void 0===y||null===(y=y.result)||void 0===y?void 0:y.new_member}),St(a.result.new_member?ze.EVENTS.SIGNUP:ze.EVENTS.SIGNIN,{pagePrefix:"registration",pageName:"sign_up_password",containerModalName:"context_aware",action:"swap_email"});var v=yield new po(F).initiatePasswordRequest(o,"doThisLater"),h=v.response;"error"===v.type&&(T(h),he()),(0,Ke.j)()&&window.googleOneTapEnabled&&Wn.closeGoogleOneTap()}else he(),document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge();(0,Ke.j)()&&window.googleOneTapEnabled&&Wn.closeGoogleOneTap()}}else{var g;T(null===(g=a)||void 0===g||null===(g=g.errors)||void 0===g||null===(g=g[0])||void 0===g?void 0:g.message)}}catch(e){console.log(e)}}));return function(){return e.apply(this,arguments)}}();return o.createElement(wo.l,{onSubmit:O,validateOnChange:!0},o.createElement(So.c,null,o.createElement(To.c,{inputProps:{"data-testid":"password-input","aria-label":"Enter desired password"},id:"raas_password",type:b.passwordVisible?"":"password",placeholder:"Enter password",label:"Set a password",helperText:"Use 8 or more characters with a combination of uppercase, lowercase, a number, and a symbol.",value:b.value||"",validators:[{validator:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=!0,n=wa(e,"context_aware_web");return n&&(t=!1),{valid:t,message:n}}},{validator:Ri.R}],endAddon:o.createElement(xo,{button:!0,type:"button","data-testid":b.passwordVisible?"show-password":"hide-password","aria-label":b.passwordVisible?"Show password text":"Hide password text",position:"end",onClick:function(){Tt({containerName:"acct_registration_signin",context:n||"default",screenName:"add_password",action:"show_hide_password"}),E(Pa(Pa({},b),{},{passwordVisible:!b.passwordVisible}))}},b.passwordVisible?o.createElement(Go,null):o.createElement(Vo,null)),onChange:autoComplete:"current-password"}),!_&&o.createElement(da,{"data-testid":"marketing-checkbox",id:"latest-news",type:"button",name:"latest-news",checked:!!b.marketing,control:o.createElement(ga,null),style:{margin:"5px 0px 2px"},onChange:function(e){return function(t){Tt({containerName:"acct_registration_signin",context:n||"default",screenName:"add_password",action:t.target.checked?"marketing_opt_in":"marketing_opt_out"}),E(Pa(Pa({},b),{},Aa({},e,t.target.checked)))}}("marketing")},"Send me the latest news about real estate and tips to buy or sell properties.")),o.createElement(Zn.z,{"data-testid":"submit-button",isLoading:d,type:"submit",styleType:"PrimaryDefault",fullWidth:!0,gutter:{top:"20px"}},"Create Password"),m.signUp.showEmailMeLinkBtn&&o.createElement(gi,{emailMeBtnHandler:function(){Tt({containerName:"acct_registration_signin",context:n||"default",screenName:"add_password",action:"email_me_link"}),l("emailMe"),t(sr)}}),!v&&o.createElement(Zn.z,{"data-testid":"back-button",styleType:"Link",fullWidth:!0,gutter:{top:"12px",bottom:"203px"},onClick:function(){return function(){var e;Tt({containerName:"acct_registration_signin",context:n||"default",screenName:"add_password",action:"back"}),a({email:null===(e=r())||void 0===e?void 0:e.email,password:b.value}),t(nr)}()}},"Back"),v&&o.createElement(Zn.z,{"data-testid":"skip-button",styleType:"Link",fullWidth:!0,gutter:{top:"12px",bottom:"154px"},onClick:N},"Do this later"))})),Ca=xa;function Da(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(c){s=!0,o=c}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ja(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var La=o.memo((function(e){var t,n=e.updateFormFlag,r=e.getStateValue,i=e.REGISTRATION_ORIGIN_CONTEXT,a=e.tenantId,l=Ma((0,o.useState)(""),2),s=l[0],u=l[1],d=Ma((0,o.useState)(null),2),p=(d[0],d[1]),f=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Da(l,r,o,i,a,"next",e)}function a(e){Da(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(){var e;Tt({containerName:"acct_registration_signin",context:i||"default",screenName:"forgot_password",action:"send_email"});var t={email_address:s||(null===(e=r())||void 0===e?void 0:e.email),password_context:yo(i),request_type:fr.RESET_PWD,client_id:pr,registration_source:"rdc",tenant_id:a},o=yield Ea();o&&(t.redirect_url=o);try{var l=yield(new po).initiatePasswordRequest(t,"forgotPassword"),c=l.response;"error"===l.type?p(c):n(lr)}catch(e){console.log(e)}}));return function(){return e.apply(this,arguments)}}();return o.createElement(wo.l,{onSubmit:f},o.createElement(So.c,{style:{margin:"10px 0px 0px"}},o.createElement(To.c,{id:"raas_email",validators:[{validator:Ai.o},{validator:Ri.R}],type:"email",placeholder:"Enter your email",label:"Email address",errorText:c,required:!0,onChange:function(e){p(null),u(e.target.value)},value:s||(null===(t=r())||void 0===t?void 0:t.email),inputProps:{"data-testid":"email-input","aria-label":"Enter email"},autoComplete:"email"})),o.createElement(Zn.z,{"data-testid":"send-email-button",type:"submit",styleType:"PrimaryDefault",fullWidth:!0,gutter:{top:"10px",bottom:"285px"}},"Send Email"))})),Ga=La,Ba=o.memo((function(e){var t=e.clearState,n=e.REGISTRATION_ORIGIN_CONTEXT;return o.createElement(o.Fragment,null,o.createElement(Zn.z,{"data-testid":"close-button",styleType:"SecondaryDefault",fullWidth:!0,gutter:{top:"24px",bottom:"327px"},onClick:function(){Tt({containerName:"acct_registration_signin",context:n||"default",screenName:"forgot_password",action:"close"}),t()}},"Close"))})),Fa=Ba;function Ha(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Ua(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(c){s=!0,o=c}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Va=o.memo((function(e){var t=e.getStateValue,n=(e.clearState,e.socialButtonClicked),r=e.handleSuccessScreen,i=Ua((0,o.useState)(null),2),a=(i[0],i[1]),l=function(){return"apple"===n?{pagePrefix:"registration",pageName:"landing_page",containerModalName:"context_aware",action:"apple"}:"facebook"===n?{pagePrefix:"registration",pageName:"landing_page",containerModalName:"context_aware",action:"facebook"}:{pagePrefix:"registration",pageName:"landing_page",containerModalName:"context_aware",action:"google"}},c=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Ha(l,r,o,i,a,"next",e)}function a(e){Ha(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(){var e,n={email_address:null===(e=t())||void 0===e?void 0:e.email,is_subscribed:!0};try{var o=yield(new po).createSubscriber(n),i=o.response;"error"===o.type?(a(i),he()):fn()&&Ge(document.cookie,"REMEMBER_ME")?(r({isActive:!0,isNewMember:!0}),St(ze.EVENTS.SIGNUP,l())):(he(),document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge())}catch(e){console.log(e)}}));return function(){return e.apply(this,arguments)}}();return o.createElement(o.Fragment,null,o.createElement(Zn.z,{"data-testid":"yes-button",styleType:"PrimaryDefault",fullWidth:!0,onClick:c},"Yes, keep me updated"),o.createElement(Zn.z,{"data-testid":"no-button",styleType:"Link",fullWidth:!0,gutter:{top:"12px",bottom:"291px"},onClick:function(){fn()&&Ge(document.cookie,"REMEMBER_ME")?(r({isActive:!0,isNewMember:!0}),St(ze.EVENTS.SIGNUP,l())):(he(),document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge())}},"No, thanks"))})),za=Va;function Ka(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Za(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(c){s=!0,o=c}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var qa=o.memo((function(e){var t=e.updateFormFlag,n=e.getStateValue,r=e.REGISTRATION_ORIGIN_CONTEXT,i=e.tenantId,a=Za((0,o.useState)(""),2),l=a[0],s=a[1],u=Za((0,o.useState)(null),2),p=(u[0],u[1]),f=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Ka(l,r,o,i,a,"next",e)}function a(e){Ka(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(){if(Tt({containerName:"acct_registration_signin",context:r||"default",screenName:"email_me_link",action:"send_email"}),l){var e;p(null);var o={email_address:l||(null===(e=n())||void 0===e?void 0:e.email),request_context:yo(r),point_of_entry:r||"default_registration_form",tenant_id:i},a=yield Ea();a&&(o.redirect_url=a);try{var c=yield(new po).sendEmailVerificationToUser(o),s=c.response;"error"===c.type?p(s):t(ur)}catch(e){console.log(e)}}else p(d)}));return function(){return e.apply(this,arguments)}}();return o.createElement(wo.l,{onSubmit:f},o.createElement(So.c,{style:{margin:"10px 0px 0px"}},o.createElement(To.c,{id:"raas_email",validators:[{validator:Ai.o},{validator:Ri.R}],type:"email",placeholder:"Enter your email",label:"Email address",errorText:c,required:!0,onChange:value:l,inputProps:{"data-testid":"email-input","aria-label":"Enter email"},autoComplete:"email"})),o.createElement(Zn.z,{"data-testid":"send-email-button",type:"submit",styleType:"PrimaryDefault",fullWidth:!0,gutter:{top:"10px",bottom:"10px"}},"Send Email"),o.createElement(Zn.z,{"data-testid":"back-button",styleType:"Link",fullWidth:!0,gutter:{top:"12px",bottom:"285px"},onClick:function(){return Tt({containerName:"acct_registration_signin",context:r||"default",screenName:"email_me_link",action:"back"}),void t(nr)}},"Back"))})),Ya=qa,Ja=o.memo((function(e){var t=e.clearState,n=e.REGISTRATION_ORIGIN_CONTEXT,r=e.setShowModal;return o.createElement(o.Fragment,null,o.createElement(Zn.z,{"data-testid":"close-button",styleType:"SecondaryDefault",fullWidth:!0,gutter:{top:"24px",bottom:"327px"},onClick:function(){return Tt({containerName:"acct_registration_signin",context:n||"default",screenName:"email_me_link",action:"close"}),t(),Ke.j&&window.location.pathname.includes("/myaccount")?window.location.assign("/"):(r(!1),Ke.j&&he(!0))}},"Close"))})),$a=Ja;function Qa(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function el(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(c){s=!0,o=c}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nl=(0,o.memo)((function(e){var t,n,r=e.clearState,i=e.hideCloseIcon,a=e.dynamicText,l=e.REGISTRATION_ORIGIN_CONTEXT,c=e.html_string,s=e.pageName,u=e.tenantId,d=e.modalTrigger,p=a.landingPage,f=void 0===p?{}:p,m=a.passwordPage,y=void 0===m?{}:m,v=a.success,h=void 0===v?{signUp:{headerTitle:"Registration Successful !!!!",headerDescription:"",show:!1,dynamicHtml:"<html><div>Welcome to realtor.com!</div></html>"},signIn:{headerTitle:"Sign-in Successful !!!!",headerDescription:"",show:!1,dynamicHtml:"<html><div>Welcome to realtor.com!</div></html>"}}:v;En("isSuccessScreenEnabledForSignUp",null===h||void 0===h||null===(t=h.signUp)||void 0===t?void 0:t.show),En("isSuccessScreenEnabledForSignIn",null===h||void 0===h||null===(n=h.signIn)||void 0===n?void 0:n.show);var _=f||{},g=_.headerTitle,b=_.headerDescription,E=_.showTermsAndPolicy,w=_.showProfessionalLogin,S=Me,T=el((0,o.useState)(!1),2),O=T[0],N=T[1],I=el((0,o.useState)(nr),2),P=I[0],A=I[1],R=el((0,o.useState)(g),2),k=R[0],x=R[1],C=el((0,o.useState)(b),2),D=C[0],M=C[1],j=el((0,o.useState)(E),2),L=j[0],G=j[1],B=el((0,o.useState)(w),2),F=B[0],H=B[1],U=el((0,o.useState)(null),2),W=U[0],V=U[1],z=el((0,o.useState)({email:"",password:"",marketing:!0,isNewMember:!1}),2),K=z[0],Z=z[1],X=el((0,o.useState)("start_screen"),2),q=X[0],Y=X[1],J=function(){N(!1),r(),P===dr?(ve({isActive:!0,isNewMember:null===K||void 0===K?void 0:K.isNewMember}),Tt({containerName:"acct_registration_signin",context:l||"default",screenName:"success_screen",action:"close"})):he(!0)},$=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Qa(l,r,o,i,a,"next",e)}function a(e){Qa(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(e){var t=(null===e||void 0===e?void 0:e.detail).email_address;try{var n=yield(new po).findUserWithEmail({email_address:decodeURIComponent(t),tenant_id:u}),r=n.response;n.type;ne({email:decodeURIComponent(t)}),te(or===r?or:rr===r?rr:ir)}catch(e){console.log(e)}}));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){return Ot({modalName:"acct_registration_signin",modalTrigger:d||l||Oe()}),N(!0),xt(N,J),function(e,t){e(!0),(0,Ke.j)()&&window.addEventListener("showPasswordModal",t)}(N,$),function(){Ct(0,J),function(e){(0,Ke.j)()&&window.removeEventListener("showPasswordModal",e)}($)}}),[]);var Q=ee=function(e){switch(e){case nr:x(null===f||void 0===f?void 0:f.headerTitle),M(null===f||void 0===f?void 0:f.headerDescription),G(null===f||void 0===f?void 0:f.showProfessionalLogin),H(null===f||void 0===f?void 0:f.showTermsAndPolicy),Y("start_screen");break;case rr:var t=y.signIn,n=void 0===t?{}:t;x(n.headerTitle),M(function(e){return null===e||void 0===e?void 0:e.replace("{{email}}",K.email)}(n.headerDescription)),G(n.showProfessionalLogin),H(n.showTermsAndPolicy),Y("enter_password");break;case or:var r=y.signUp,o=void 0===r?{}:r;x(o.headerTitle),M(o.headerDescription),G(o.showProfessionalLogin),H(o.showTermsAndPolicy),Y("add_password");break;case ir:var i=y.WelcomeBack,l=void 0===i?{}:i;x(l.headerTitle),M(l.headerDescription),G(l.showProfessionalLogin),H(l.showTermsAndPolicy),Y("welcome_back");break;case ar:var c=a.forgotPassword,s=void 0===c?{}:c;x(s.headerTitle),M(s.headerDescription),G(s.showProfessionalLogin),H(s.showTermsAndPolicy),Y("forgot_password");break;case lr:var u=a.almostDone,d=void 0===u?{}:u;x(d.headerTitle),M(d.headerDescription),G(d.showProfessionalLogin),H(d.showTermsAndPolicy),Y("forgot_password");break;case cr:var p=a.marketingOptIn,m=void 0===p?{}:p;x(m.headerTitle),M(m.headerDescription),G(m.showProfessionalLogin),H(m.showTermsAndPolicy),Y("marketing");break;case sr:var v=a.emailMeLink,h=void 0===v?{headerTitle:"Email me a Link",headerDescription:"Enter your email address and we will send you a link. Follow the link to sign in automatically.",showProfessionalLogin:!1,showTermsAndPolicy:!1}:v;x(h.headerTitle),M(h.headerDescription),G(h.showProfessionalLogin),H(h.showTermsAndPolicy),Y("email_me_link");break;case dr:var _,g=a.success,b=void 0===g?{}:g,E=null!==(_=Q())&&void 0!==_&&_.isNewMember?null===b||void 0===b?void 0:b.signUp:null===b||void 0===b?void 0:b.signIn;x(null===E||void 0===E?void 0:E.headerTitle),M(E.headerDescription),G(!1),H(!1),Y(mr);break;case ur:var w=a.almostDoneEmailMe,S=void 0===w?{headerTitle:"Almost done!",headerDescription:"Please check your inbox for a sign-in link. Follow the link in the email message to be automatically signed in. Don't see the email? Be sure to check your spam folder.",showProfessionalLogin:!1,showTermsAndPolicy:!1}:w;x(S.headerTitle),M(S.headerDescription),G(S.showProfessionalLogin),H(S.showTermsAndPolicy),Y("email_me_link")}},te=function(e){A(e)},ne=function(e){Z(e)},re=function(e){var t=e.isActive,n=e.isNewMember,o=void 0===n?null===K||void 0===K?void 0:K.isNewMember:n;ve({isActive:!(void 0!==t)||t,isNewMember:o}),r()},oe=function(e){var t=e.isActive,n=void 0!==t&&t,r=e.isNewMember,o=void 0!==r&&r,i=h.signUp,a=h.signIn;Z({isNewMember:o}),o?null!==i&&void 0!==i&&i.show?te(dr):re({isActive:n,isNewMember:o}):null!==a&&void 0!==a&&a.show?te(dr):re({isActive:n,isNewMember:o})},ie=return(0,o.useEffect)((,[P]),o.createElement(o.Fragment,null,k?o.createElement(zn.u,{onRequestClose:function(){"myaccount"===s&&window.location.assign("/")},customHeader:tr,modalHeaderProps:{hideCloseIcon:void 0!==i&&i,handleModalOnClose:J,headerTitle:k,headerDescription:D,html_string:c,dynamicText:a,screenName:q,REGISTRATION_ORIGIN_CONTEXT:l},testId:l?"".concat(l.replace(/_/g,"-").toLowerCase(),"-context-aware-modal"):"context-aware-modal",show:O,customSize:{sm:"425px",md:"425px",lg:"425px"},mobileType:"dialog",removeBodyPadding:!0,onClose:J},o.createElement(yr,null,P===nr?o.createElement(na,{updateFormFlag:te,storeState:ne,dynamicText:a,getStateValue:Q,clearState:r,updateSocialButtonClicked:ie,REGISTRATION_ORIGIN_CONTEXT:l,tenantId:u,handleSuccessScreen:oe}):P===rr?o.createElement(Pi,{updateFormFlag:te,getStateValue:Q,REGISTRATION_ORIGIN_CONTEXT:l,clearState:r,storeState:ne,dynamicText:a,updateSocialButtonClicked:ie,tenantId:u,handleSuccessScreen:oe}):P===or?o.createElement(Ca,{updateFormFlag:te,getStateValue:Q,REGISTRATION_ORIGIN_CONTEXT:l,clearState:r,storeState:ne,dynamicText:a,updateSocialButtonClicked:ie,tenantId:u,handleSuccessScreen:oe}):P===dr?o.createElement(oa,{REGISTRATION_ORIGIN_CONTEXT:l,clearState:r,dynamicText:a,getStateValue:Q,handleLoginSuccess:re}):P===ir?o.createElement(Eo,{getStateValue:Q,REGISTRATION_ORIGIN_CONTEXT:l,updateFormFlag:te,dynamicText:a,updateSocialButtonClicked:ie,tenantId:u}):P===ar?o.createElement(Ga,{updateFormFlag:te,getStateValue:Q,REGISTRATION_ORIGIN_CONTEXT:l,tenantId:u}):P===lr?o.createElement(Fa,{clearState:J,REGISTRATION_ORIGIN_CONTEXT:l}):P===cr?o.createElement(za,{clearState:r,getStateValue:Q,socialButtonClicked:W,handleSuccessScreen:oe}):P===sr?o.createElement(Ya,{updateFormFlag:te,getStateValue:Q,REGISTRATION_ORIGIN_CONTEXT:l,tenantId:u}):P===ur?o.createElement($a,{clearState:r,REGISTRATION_ORIGIN_CONTEXT:l,setShowModal:N}):null,L&&o.createElement("div",{style:{textAlign:"center",paddingTop:"29px"}},o.createElement(Kn.D,{"data-testid":"professional-login-description",style:{marginBottom:"0px"},styleType:"body300",weight:"bold"}," ","Are you a real estate agent?"," "),o.createElement(Kn.D,{styleType:"body200"},o.createElement(Zn.z,{styleType:"Inline",bold:!0,underline:!0,onClick:function(){Tt({containerName:"acct_registration_signin",context:l||"default",screenName:"start_screen",action:"agent_signin"}),window.location.replace(S.PRO_LOGIN_HREF)}},"Log in")," ","or"," ",o.createElement(Zn.z,{styleType:"Inline",bold:!0,underline:!0,onClick:function(){Tt({containerName:"acct_registration_signin",context:l||"default",screenName:"start_screen",action:"agent_registration"}),window.location.replace(S.PRO_SIGNUP_HREF)}},"create an account")," ","here")),F&&o.createElement("div",{style:{textAlign:"center",paddingTop:"29px"}},o.createElement(Kn.D,{styleType:"body200","data-testid":"terms-and-policy-description",style:{marginBottom:"0px"}}," ","By creating an account you agree to Realtor.com's"," "),o.createElement(Kn.D,{styleType:"body200"},o.createElement(Zn.z,{styleType:"Inline",bold:!0,underline:!0,onClick:function(){Tt({containerName:"acct_registration_signin",context:l||"default",screenName:"start_screen",action:"terms_of_use"}),window.open(S.TERMS_HREF)},target:"_blank"},"Terms of Use")," ","and"," ",o.createElement(Zn.z,{styleType:"Inline",bold:!0,underline:!0,onClick:function(){Tt({containerName:"acct_registration_signin",context:l||"default",screenName:"start_screen",action:"privacy_policy"}),window.open(S.PRIVACY_HREF)},target:"_blank"},"Privacy Policy."))))):null)})),rl=nl,ol=function(e){var t=e.error,n=t.clickHandler,r=t.headerDesc,i=t.errorAnchorText,a=t.errorSubHeadingTopText,l=t.errorSubHeadingBottomText,c=t.cta,s=t.ctaClickHandler;return o.createElement(o.Fragment,null,o.createElement(Kn.D,{styleType:"body200","data-testid":"update-pwd-error-desc"},r),o.createElement(Kn.D,{styleType:"body200"},a,i&&o.createElement(Zn.z,{"data-testid":"update-pwd-error-redirect",styleType:"Inline",bold:!0,onClick:n},i),l),c&&o.createElement(Kn.D,{styleType:"body200"},o.createElement(Zn.z,{"data-testid":"cta-btn-error-modal",fullWidth:!0,gutter:{top:"16px",bottom:"3px"},styleType:"PrimaryDefault",bold:!0,onClick:s},c)," "))},il=o.memo(ol);function al(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function ll(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(c){s=!0,o=c}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sl=function(e){e.clearState;var t=e.hideCloseIcon,n=e.REGISTRATION_ORIGIN_CONTEXT,r=ll((0,o.useState)(null),2),i=r[0],a=r[1],l=ll((0,o.useState)(null),2),c=l[0],s=l[1],u=ll((0,o.useState)(!1),2),d=u[0],p=u[1],f=ll((0,o.useState)(!1),2),m=f[0],y=f[1],v={headerTitle:Le.ERROR.HEADER_TITLE,headerDesc:Le.ERROR.HEADERDESC,errorAnchorText:Le.ERROR.ANCHORTEXT,errorSubHeadingTopText:Le.ERROR.SUB_HEADING_TOP_TEXT,errorSubHeadingBottomText:Le.ERROR.SUB_HEADING_BOTTOM_TEXT,clickHandler:function(){return window.location.assign("/")}};return(0,o.useEffect)((function(){!function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){al(l,r,o,i,a,"next",e)}function a(e){al(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(){var e=new po;try{window.location.search&&s(new URLSearchParams(window.location.search).get("access_token"));var t=yield e.getTokenDetails(new URLSearchParams(window.location.search).get("access_token")),r=t.response,o=t.type,i=r;if(a(r),"success"===o){var l={access_token:c||new URLSearchParams(window.location.search).get("access_token"),point_of_entry:n||"default_registration_form",marketing_email:!0},u=yield pn(Y,l),d=u.result,f=(u.type,u.response);if(200===u.status)try{var m=fn();if(m){var v={email_address:i&&i.email_address,point_of_entry:n||"default_registration_form",registration_source:"rdc",registration_user_agent:navigator.userAgent,wall_street:!1,html_verify:!1,marketing_email:!0,email_me_link:!0},h=!i.tenantId&&(yield e.createAccount(v)),_=h.headers;"error"===h.type?(he(),y(!0),p(!0),document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge()):(_&&bn(_),Xe({authObj:m,tenantId:i.tenantId})?(ve({isActive:!0,isNewMember:null===d||void 0===d?void 0:d.new_member}),null!==d&&void 0!==d&&d.new_member?St(ze.EVENTS.SIGNUP,{pagePrefix:"registration",pageName:"email_link",containerModalName:"acct_registration_signin",action:"email_me_a_link"}):St(ze.EVENTS.SIGNIN,{pagePrefix:"registration",pageName:"email_link",containerModalName:"acct_registration_signin",action:"email_me_a_link"}),y(!0),p(!1)):(he(),document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge(),y(!0),p(!0)),(0,Ke.j)()&&window.googleOneTapEnabled&&Wn.closeGoogleOneTap())}else y(!0),p(!0)}catch(e){console.log("While storing the token details",e),ge(),y(!0),p(!0)}else console.log("Error while signin user in",f),y(!0),p(!0)}else"error"===o&&(console.log("Error while fetching metadata",r),y(!0),p(!0))}catch(e){console.log(e),p(!0)}}))()}),[]),o.createElement(o.Fragment,null,m&&o.createElement(zn.u,{customHeader:tr,modalHeaderProps:{hideCloseIcon:void 0===t||t,handleModalOnClose:function(){return window.location.assign("/")},headerTitle:d?null:Le.SUCCESS_MODAL.HEADER,headerDescription:d?null:"".concat(Le.SUCCESS_MODAL.HEADER_DESC," ").concat(i.email_address)},testId:"email-me-link-modal",show:!0,customSize:{sm:"385px",md:"385px",lg:"385px"},mobileType:"dialog",removeBodyPadding:!0},o.createElement(yr,null,d&&o.createElement(il,{error:v,clickHandler:),!d&&o.createElement(Zn.z,{"data-testid":Le.BUTTON.TEST_ID,styleType:"PrimaryDefault",bold:!0,type:"submit",fullWidth:!0,onClick:function(){window.location.href="".concat(window.location.origin).concat(null===i||void 0===i?void 0:i.redirect_url)},gutter:{top:"24px",bottom:"32px"}},Le.BUTTON.LABEL))))},ul=o.memo(sl),dl=function(e){var t=e.hideCloseIcon,n=e.dataTestId,r=function(){return window.location.assign("/")},i={headerTitle:"",headerDesc:"",errorSubHeadingTopText:je.SUB_HEADING_TOP_TEXT,errorSubHeadingBottomText:je.SUB_HEADING_BOTTOM_TEXT,clickHandler:cta:"Close",ctaClickHandler:r};return o.createElement(o.Fragment,null,o.createElement(zn.u,{customHeader:tr,modalHeaderProps:{hideCloseIcon:!(void 0!==t)||t,handleModalOnClose:r,headerTitle:"Error Encountered!!!",headerDescription:"Sorry, we are facing trouble loading."},testId:n,show:!0,customSize:{sm:"385px",md:"385px",lg:"385px"},mobileType:"dialog"},o.createElement(il,{error:i})))},pl=o.memo(dl);function fl(e){return fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(e)}function ml(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function yl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){ml(l,r,o,i,a,"next",e)}function a(e){ml(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}function vl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hl(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_l(n.key),n)}function _l(e){var t=function(e,t){if("object"!==fl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fl(t)?t:t+""}function gl(e,t){return gl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gl(e,t)}function bl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wl(e);if(t){var o=wl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return El(this,n)}}function El(e,t){if(t&&("object"===fl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wl(e){return wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wl(e)}var Sl=function(e){function t(){return vl(this,t),n.apply(this,arguments)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gl(e,t)}(t,e);var n=bl(t);return function(e,t,n){t&&hl(e.prototype,t),n&&hl(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"resetPassword",value:function(){var e=yl((function*(e){if(!e)throw new Error("Missing email");var t="".concat(qe.myAccount[this.currEnv]).concat(Je),n=yield this.post(t,e),r=n.result,o=n.headers,i=n.text,a=n.status;if(r&&r.error)throw new Error(r.error);return{result:r,headers:o,text:i,status:a}}));return function(){return e.apply(this,arguments)}}()},{key:"resetNewPassword",value:function(){var e=yl((function*(e){if(!e)throw new Error("Missing something in Request Payload");var t="".concat(qe.myAccount[this.currEnv]).concat(rt),n=yield this.post(t,e),r=n.result,o=n.headers,i=n.text,a=n.status;if(r&&r.error)throw new Error(r.error);return{result:r,headers:o,text:i,status:a}}));return function(){return e.apply(this,arguments)}}()}]),t}(Xt);function Tl(e){return Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(e)}function Ol(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Nl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Ol(l,r,o,i,a,"next",e)}function a(e){Ol(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}unction Pl(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Al(n.key),n)}function Al(e){var t=function(e,t){if("object"!==Tl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Tl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Tl(t)?t:t+""}Dl=function(e){t,e);var n=kl(t);return function(e,t,n){t&&Pl(e.prototype,t),n&&Pl(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"getPasswordMetaData",value:function(){var e=Nl((function*(e){if(!e)throw new Error("Missing token in Request Payload");var t="".concat(qe.rdcXApi[this.currEnv],"/api/v1").concat(ot,"?access_token=").concat(e),n=yield this.get(t),r=n.result,o=n.headers,i=n.text,a=n.status;if(r&&r.error)throw new Error(r.error);return{result:r,headers:o,text:i,status:a}}));return function(){return e.apply(this,arguments)}}()},{key:"changePassword",value:function(){var e=Nl((function*(e){if(!e)throw new Error("Missing token in Request Payload");var t=yield vn(),n=t&&{Authorization:"Bearer ".concat(t)},r="".concat(qe.rdcXApi[this.currEnv],"/api/v1").concat(it),o=yield this.post(r,e,n),i=o.result,a=o.headers,l=o.text,c=o.status;if(i&&i.error)throw new Error(i.error);return{result:i,headers:a,text:l,status:c}}));return function(){return e.apply(this,arguments)}}()}]),t}(Xt);function Ml(e){return Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(e)}function jl(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}Hl=function(){function e(t){var n=this;((this,e),Bl(this,"changePassword",function(){var e=Ll((function*(e){try{if(e){var t=yield n.addPasswordService.changePassword(e),r=t.result,o=t.text,i=t.status;return 200!==i||r.meta&&r.meta.errors?200===i?{response:r.meta.errors[0],type:"error"}:{response:o,type:"error"}:{response:r,type:"success"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),Bl(this,"getPasswordMetaData",function(){var e=Ll((function*(e){try{if(e){var t=yield n.addPasswordService.getPasswordMetaData(e),r=t.result,o=t.text,i=t.status;return 200!==i||r.meta&&r.meta.errors?200===i?{response:r.meta.errors[0],type:"error"}:{response:o,type:"error"}:{response:r,type:"success"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),Bl(this,"resetPassword",function(){var e=Ll((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;try{if(e){var r=yield n.resetPasswordService.resetPassword(e),o=r.text,i=r.status;return 200===i?fe(t)?{response:M,type:"redirect"}:{response:!0,type:"success"}:o===s?{response:u,type:"error"}:{response:o,type:"error"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),Bl(this,"getLoginLinkName",(function(e){return fe(e)?ze.LINKNAMES.SIGNIN_PWD_EMAIL:pe(e)?ze.LINKNAMES.SWAP_SIGNIN:ze.LINKNAMES.SIGNIN_EMAIL})),Bl(this,"logIn",function(){var e=Ll((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;try{if(e){var r=yield n.loginService.logIn(e),o=r.headers,i=r.text,a=r.status;return 200===a?{response:!0,headers:o,type:"success",eventName:ze.EVENTS.SIGNIN,linkName:n.getLoginLinkName(t),abTestMisc:We()}:{response:i,type:"error"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),Bl(this,"createAccount",function(){var e=Ll((function*(e){try{if(e){var t=yield n.signupService.signUp(e),r=t.result,o=t.headers,i=t.text,a=t.status;return 200===a?r.new_member?{response:!0,headers:o,type:"success",eventName:ze.EVENTS.SIGNUP,linkName:ze.LINKNAMES.SIGNUP_EMAIL,abTestMisc:We()}:{response:!0,headers:o,type:"success",eventName:ze.EVENTS.SIGNIN,linkName:ze.LINKNAMES.SIGNUP_EMAIL,abTestMisc:We()}:{response:i,type:"error"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),Bl(this,"addPassword",function(){var e=Ll((function*(e){try{if(e){var t=yield n.swapService.addPassword(e),r=t.headers,o=t.text;return 200===t.status?{response:!0,headers:r,type:"success"}:{response:o,type:"error"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),Bl(this,"createSubscriber",function(){var e=Ll((function*(e){try{if(e){var t=yield n.swapService.createSubscriber(e),r=t.result,o=t.text;return 200===t.status?{response:r,type:"success"}:{response:o,type:"error"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),Bl(this,"emailOnlySignin",function(){var e=Ll((function*(e){try{if(e){var t=yield n.swapService.emailOnlySignin(e),r=t.result,o=t.text,i=t.headers,a=t.status;return 200===a?r.new_member?{response:b,type:"redirect",headers:i,eventName:ze.EVENTS.SIGNUP,linkName:ze.LINKNAMES.SWAP_SIGNUP}:{response:N,type:"redirect",headers:i}:o===p||o===f?{response:T,type:"redirect",eventName:ze.EVENTS.CLICK,linkName:ze.LINKNAMES.SWAP_EMAIL_CONTINUE_CLICK}:{response:o,type:"error"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),Bl(this,"sendEmailLink",function(){var e=Ll((function*(e){try{if(e){var t=yield n.swapService.sendFinishSignup(e),r=t.result,o=t.text;if(200!==t.status)return{response:o,type:"error"};if(r===m)return{response:y,type:"success"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),Bl(this,"sendFinishSignup",function(){var e=Ll((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;try{if(e){var r=yield n.swapService.sendFinishSignup(e),o=r.text,i=r.status;return 200===i?t===R?{response:o,type:"success"}:{response:O,type:"redirect"}:{response:o,type:"error"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),Bl(this,"initiatePasswordRequest",function(){var e=Ll((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;try{if(e){var r=yield n.swapService.initiatePasswordRequest(e),o=r.result,i=r.text,a=r.status;if(200!==a)return{response:i,type:"error"};if(t===R)return{response:i||o,type:"success"};if(t===N||t===w)return{response:y,type:"success"};if(fe(t))return{response:M,type:"redirect"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),Bl(this,"signInGoogle",function(){var e=Ll((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=yield n.googleService.signInGoogle(e),o=r.result,i=r.headers,a=r.text,l=r.status;return 200===l?fe(t)?o.new_member?{response:k,type:"redirect",headers:i,eventName:ze.EVENTS.SIGNUP,linkName:fe(t)?ze.LINKNAMES.SIGNIN_GOOGLE:ze.LINKNAMES.MYACC_LOGIN_SIGNIN_GOOGLE,abTestMisc:He()}:{response:!0,type:"success",headers:i,eventName:ze.EVENTS.SIGNIN,linkName:fe(t)?ze.LINKNAMES.SIGNIN_GOOGLE:ze.LINKNAMES.MYACC_LOGIN_SIGNIN_GOOGLE,abTestMisc:He()}:o.new_member?{response:!0,type:"success",headers:i,eventName:ze.EVENTS.SIGNUP,linkName:t===w?ze.LINKNAMES.SWAP_GOOGLE:ze.LINKNAMES.SIGNUP_GOOGLE,abTestMisc:We()}:{response:!0,type:"success",headers:i,eventName:ze.EVENTS.SIGNIN,linkName:t===w?ze.LINKNAMES.SWAP_GOOGLE:ze.LINKNAMES.SIGNIN_GOOGLE,abTestMisc:We()}:{response:a,type:"error"}}));return function(){return e.apply(this,arguments)}}()),Bl(this,"signInApple",function(){var e=Ll((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=yield n.appleService.signinWithApple(e),o=r.result,i=r.headers,a=r.text,l=r.status;return 200===l?fe(t)?o.new_member?{response:k,headers:i,type:"redirect",eventName:ze.EVENTS.SIGNUP,linkName:fe(t)?ze.LINKNAMES.SIGNIN_APPLE:ze.LINKNAMES.MYACC_LOGIN_SIGNIN_APPLE,abTestMisc:He()}:vt({headers:i,eventName:ze.EVENTS.SIGNIN,linkName:fe(t)?ze.LINKNAMES.SIGNIN_APPLE:ze.LINKNAMES.MYACC_LOGIN_SIGNIN_APPLE,abTestMisc:He()}):vt({headers:i,eventName:ht(o.new_member),linkName:_t(Z,t,o.new_member)}):{response:a,type:"error"}}));return function(){return e.apply(this,arguments)}}()),Bl(this,"findUserWithEmail",function(){var e=Ll((function*(e){if(!e&&!e.email_address)throw new Error("Missing Payload");try{var t=yield n.loginService.findByEmail(e.email_address),r=t.result,o=t.status;return 200===o?r.code===h?{response:x,type:"redirect"}:{response:C,type:"redirect"}:{response:!1,type:"error"}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),Bl(this,"resetNewPassword",function(){var e=Ll((function*(e){try{if(e){var t=yield n.resetPasswordService.resetNewPassword(e),r=t.text,o=t.status;return 406===o?{response:r,type:"error"}:200===o?{response:!0,type:"success"}:{response:r,type:"error"}}}catch(e){return{response:e,type:"error"}}}));return function(){return e.apply(this,arguments)}}()),this.instantiateSvc(t)}return e,[{key:"instantiateSvc",value:function(e){e===S||e===L?(this.resetPasswordService=new Sl,this.swapService=new Zr,this.addPasswordService=new Dl,this.loginService=new Nr):e===_?(this.loginService=new Nr,this.googleService=new jn,this.appleService=new ro):e===g?(this.signupService=new jr,this.googleService=new jn,this.appleService=new ro):e===w||e===N||e===b||e===E||e===T||e===O?(this.swapService=new Zr,this.googleService=new jn,this.loginService=new Nr,this.appleService=new ro):(e===R||e===P||e===A||e===j||e===G||e===B)&&(this.signupService=new jr,this.resetPasswordService=new Sl,this.googleService=new jn,this.loginService=new Nr,this.appleService=new ro,this.swapService=new Zr,this.addPasswordService=new Dl)}}]),e}();function Ul(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}var Wl=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Ul(l,r,o,i,a,"next",e)}function a(e){Ul(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(e){var t,n=null===(t=new URLSearchParams(window.location.search))||void 0===t?void 0:t.get("access_token");return n&&e?yield new Hl(e).getPasswordMetaData(n,e):{response:null,type:"error"}}));return function(){return e.apply(this,arguments)}}();ction Zl(e,t,n){return t=function(e){var t=e,"string");return"symbol"===Vl(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xl(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}r Jl=function(e){var t=e.clearState,n=e.access_token,r=e.dynamicText,i=e.handleErrorModal,a=ql((0,o.useState)(null),2),l=(a[0],a[1]),c=ql((0,o.useState)({value:"",passwordVisible:!1}),2),s=c[0],u=c[1],d=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Xl(l,r,o,i,a,"next",e)}function a(e){Xl(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(){try{var e={access_token:n,password:s.value},o=yield new Hl(G).changePassword(e,G);if("success"===o.type){var a,c,u={email:null===r||void 0===r?void 0:r.email_address,password:e.password,tenant_id:null===r||void 0===r?void 0:r.tenantId},d={grantType:V,payload:u};if(null!==d&&void 0!==d&&d.grantType&&null!==d&&void 0!==d&&d.payload)a=null===(c=yield pn(d.grantType,d.payload))||void 0===c?void 0:c.result;var p=fn();try{if(p){var f=!(null!==r&&void 0!==r&&r.tenantId)&&(yield(new po).logIn(u)),m=f.response,y=f.headers;if("error"===f.type)document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge(),l(m),he();else{var v;if(y&&bn(y),Xe({authObj:p,tenantId:r.tenantId}))ve({isActive:!0,isNewMember:null===(v=a)||void 0===v||null===(v=v.result)||void 0===v?void 0:v.new_member}),St(ze.EVENTS.SIGNIN,{pagePrefix:"registration",pageName:"sign_in_password",containerModalName:"context_aware",action:"email"}),t(),window.location.href="".concat(window.location.origin).concat(null===r||void 0===r?void 0:r.redirect_url);else he(),document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge();(0,Ke.j)()&&window.googleOneTapEnabled&&Wn.closeGoogleOneTap()}}else{var h;l(null===(h=a)||void 0===h||null===(h=h.errors)||void 0===h||null===(h=h[0])||void 0===h?void 0:h.message)}}catch(e){console.log(e),i(!0)}}else"error"===o.type&&(console.log("Error while adding password ",o),l(o),i(!0))}catch(e){console.log(e),i(!0)}}));return ();return o.createElement(wo.l,{"data-testid":"add-password-form",gutter:{left:"16px",right:"16px"},onSubmit:d},o.createElement(So.c,null,o.createElement(To.c,{inputProps:{"data-testid":"add-password-input","aria-label":"Enter desired password"},id:"add_password",type:s.passwordVisible?"":"password",placeholder:"Enter password",label:"Set a password",helperText:"Use 8 or more characters with a combination of uppercase, lowercase, a number, and a symbol.",value:s.value||"",validators:[{validator:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=!0,n=wa(e,F);return n&&(t=!1),{valid:t,message:n}}},{validator:Ri.R}],endAddon:o.createElement(xo,{button:!0,type:"button","data-testid":s.passwordVisible?"show-password":"hide-password","aria-label":s.passwordVisible?"Show password text":"Hide password text",position:"end",onClick:,s.passwordVisible?o.createElement(Go,null):o.createElement(Vo,null)),onChange:autoComplete:"current-password"})),o.createElement(Zn.z,{"data-testid":"add-password-submit",styleType:"PrimaryDefault",bold:!0,type:"submit",fullWidth:!0,gutter:{top:"24px",bottom:"35px"}},"Add Password"))},$l=o.memo(Jl);ar ec=function(){var e=(function*(e,t){var n=e.access_token,r=e.password;if(n&&r){var o=yield new Hl(t).changePassword({access_token:n,password:r},t);return{response:o.response,type:o.type}}return{response:null,type:"error"}}));return function(){return e.apply(this,arguments)}}();function tc(e){return tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(e)}function nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rc(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?nc(Object(t),!0).forEach((function(n){oc(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function oc(e,t,n){return t=function(e){var t=function(e,t){if("object"!==tc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tc(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ic(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function ac(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(c){s=!0,o=c}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var cc=function(e){var t,n,r=e.clearState,i=e.access_token,a=e.dynamicText,l=e.handleErrorModal,c=ac((0,o.useState)(null),2),s=(c[0],c[1]),u=ac((0,o.useState)({value:"",visible:!1}),2),d=u[0],p=u[1],f=ac((0,o.useState)({value:"",visible:!1}),2),m=f[0],y=f[1],v=function(){var e,t;return null!==a&&void 0!==a&&a.tenant_id?(e=Ce.BACK_TO_HOME.TITLE,t=Ce.BACK_TO_HOME.TEST_ID):(e=Ce.BACK_TO_LOGIN.TITLE,t=Ce.BACK_TO_LOGIN.TEST_ID),{buttonLabel:e,buttonTestId:t}},h=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){ic(l,r,o,i,a,"next",e)}function a(e){ic(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(){try{var e={access_token:i,password:d.value,confirmPassword:m.value},t=yield ec(e,L),n=(t.response,t.type);if("success"===n){var o,c={email:null===a||void 0===a?void 0:a.email_address,password:e.password,tenant_id:null===a||void 0===a?void 0:a.tenant_id},u={grantType:V,payload:c},p=(null===u||void 0===u?void 0:u.grantType)&&(null===u||void 0===u?void 0:u.payload)&&(null===(o=yield pn(u.grantType,u.payload))||void 0===o?void 0:o.result),f=fn();try{if(f){var y=!(null!==a&&void 0!==a&&a.tenant_id)&&(yield(new po).logIn(c)),v=y.response,h=y.headers;if("error"===y.type)document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge(),s(v),he();else{var _;if(h&&bn(h),Xe({authObj:f,tenantId:null===a||void 0===a?void 0:a.tenant_id}))ve({isActive:!0,isNewMember:null===p||void 0===p||null===(_=p.result)||void 0===_?void 0:_.new_member}),St(ze.EVENTS.SIGNIN,{pagePrefix:"registration",pageName:"sign_in_password",containerModalName:"context_aware",action:"email"}),r(),window.location.href="".concat(window.location.origin).concat(null===a||void 0===a?void 0:a.redirect_url);else he(),document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",ge();(0,Ke.j)()&&window.googleOneTapEnabled&&Wn.closeGoogleOneTap()}}else{var g;s(null===p||void 0===p||null===(g=p.errors)||void 0===g||null===(g=g[0])||void 0===g?void 0:g.message),l(!0)}}catch(e){console.log(e),l(!0)}}else"error"===n&&(console.log("Error while updating password "),l(!0))}catch(e){console.log(e),l(!0)}}));return function(){return e.apply(this,arguments)}}();return o.createElement(wo.l,{"data-testid":"reset-password-form",gutter:{left:"16px",right:"16px"},onSubmit:h},o.createElement(So.c,null,o.createElement(To.c,{inputProps:{"data-testid":Ce.NEW_PWD.TEST_ID,"aria-label":"Enter Password"},id:"reset_password",type:d.visible?"":"password",placeholder:"New password",label:Ce.NEW_PWD.PLACEHOLDER,helperText:"Use 8 or more characters with a combination of uppercase, lowercase, a number, and a symbol.",value:d.value||"",validators:[{validator:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=!0;return(t=wa(e,F))&&(n=!1),{valid:n,message:t}}},{validator:Ri.R}],endAddon:o.createElement(xo,{button:!0,type:"button","data-testid":d.visible?"show-password":"hide-password","aria-label":d.visible?"Show password text":"Hide password text",position:"end",onClick:function(){p(rc(rc({},d),{},{visible:!d.visible}))}},d.visible?o.createElement(Go,null):o.createElement(Vo,null)),onChange:function(e){p({value:e.target.value})},autoComplete:"current-password"}),o.createElement(To.c,{inputProps:{"data-testid":Ce.CONFIRM_PWD.TEST_ID,"aria-label":"Confirm Password"},id:"confirm_password",type:m.visible?"":"password",placeholder:"Confirm password",label:Ce.CONFIRM_PWD.PLACEHOLDER,helperText:"Use 8 or more characters with a combination of uppercase, lowercase, a number, and a symbol.",value:m.value||"",validators:[{validator:function(){var e=d.value,m.value);return{valid:e,message:e?"":"Passwords do not match"}}},{validator:Ri.R}],endAddon:o.createElement(xo,{button:!0,type:"button","data-testid":m.visible?"show-password":"hide-password","aria-label":m.visible?"Show password text":"Hide password text",position:"end",onClick:function(){y(rc(rc({},m),{},{visible:!m.visible}))}},m.visible?o.createElement(Go,null):o.createElement(Vo,null)),onChange:function(e){y({value:e.target.value})},autoComplete:"current-password"})),o.createElement(Zn.z,{"data-testid":Ce.SUBMIT_BTN.TEST_ID,styleType:"PrimaryDefault",bold:!0,type:"submit",fullWidth:!0,gutter:{top:"24px"}},Ce.SUBMIT_BTN.TITLE),o.createElement(Zn.z,{"data-testid":(null===(t=v())||void 0===t?void 0:t.buttonTestId)||"back_to_login",styleType:"SecondaryDefault",onClick:function(e){return function(e){e.preventDefault(),window.location.href=null!==a&&void 0!==a&&a.tenant_id?"".concat(window.location.origin):"".concat(window.location.origin,"/myaccount/signin")}(e)},bold:!0,type:"submit",fullWidth:!0,gutter:{top:"24px",bottom:"32px"}},(null===(n=v())||void 0===n?void 0:n.buttonLabel)||"Back to Login"))},sc=o.memo(cc);function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},uc.apply(this,arguments)}function dc(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(c){s=!0,o=c}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var mc=function(e){var t=e.clearState,n=e.hideCloseIcon,r=pc((0,o.useState)(null),2),i=r[0],a=r[1],l=pc((0,o.useState)(null),2),c=l[0],s=l[1],u=pc((0,o.useState)(!1),2),d=u[0],p=u[1],f=pc((0,o.useState)(!1),2),m=f[0],y=f[1],v=function(){p(!1)},h=_={headerTitle:De.ERROR.HEADER_TITLE,headerDesc:De.ERROR.HEADERDESC,errorAnchorText:De.ERROR.ANCHORTEXT,errorSubHeadingTopText:De.ERROR.SUB_HEADING_TOP_TEXT,errorSubHeadingBottomText:De.ERROR.SUB_HEADING_BOTTOM_TEXT,clickHandler:function(){return window.location.assign("/")}};return(0,o.useEffect)((function(){return function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){dc(l,r,o,i,a,"next",e)}function a(e){dc(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(){try{window.location.search&&s(new URLSearchParams(window.location.search).get("access_token"));var e=yield Wl(B),t=e.response,n=e.type;y(!0),"success"===n?(p(!1),a(t)):"error"===n&&(console.log("Error while fetching metadata",t),p(!0))}catch(e){console.log(e),p(!0)}xt(y,h)}))(),),[]),o.createElement(o.Fragment,null,o.createElement(zn.u,{customHeader:tr,modalHeaderProps:{hideCloseIcon:!(void 0!==n)||n,handleModalOnClose:function(){return window.location.assign("/")},headerTitle:(null===i||void 0===i?void 0:i.header_title)||De.ERROR.HEADER_TITLE,headerDescription:null===i||void 0===i?void 0:i.header_description,passwordDynamicText:i},testId:"update-pwd-modal",show:m,customSize:{sm:"385px",md:"385px",lg:"385px"},mobileType:"dialog",removeBodyPadding:!0},o.createElement(yr,null,function(n){var r,a;return"new_subscriber_add_pwd"===n||"returning_subscriber_add_pwd"===n?o.createElement($l,uc({},e,{clearState:t,dynamicText:i,dataTestId:"add-pwd",access_token:c,REGISTRATION_ORIGIN_CONTEXT:null===(r=e.context)||void 0===r?void 0:r.REGISTRATION_ORIGIN_CONTEXT,handleErrorModal:v})):"reset_pwd"===n?o.createElement(sc,uc({},e,{clearState:t,dataTestId:"reset-pwd",dynamicText:i,access_token:c,REGISTRATION_ORIGIN_CONTEXT:null===(a=e.context)||void 0===a?void 0:a.REGISTRATION_ORIGIN_CONTEXT,handleErrorModal:v})):d&&o.createElement(il,{error:_})}(null===i||void 0===i?void 0:i.request_type))))},yc=o.memo(mc);unction hc(e){return hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(e)}function _c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(c){s=!0,o=c}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var bc=o.memo((function(e){var t,n,r,i,a,l,c,s,u,d=_c((0,o.useState)(null),2),p=d[0],f=d[1],m=_c((0,o.useState)(null),2),y=m[0],v=m[1],h=_c((0,o.useState)(null),2),b=(h[0],h[1]),E=_c((0,o.useState)(null),2),S=E[0],T=E[1],O=function(){document.getElementsByTagName("body")[0].classList.remove("modal-open"),f(null),T(null),v(null),b(null),Ee(null),ie&&window.googleOneTapEnabled&&Wn.closeGoogleOneTap()};(0,o.useEffect)((function(){f(e.componentType),window.addEventListener("googleOneTapSuccessful",O)}),[]),(0,o.useEffect)((function(){f(p)}),[p]),(0,o.useEffect)((,[e]);var N=Ae("MODAL_NAME",null);var I,A=function(){var t,n;T(p),I=function(e,t){var n,r,o,i,a=null===(n=window)||void 0===n?void 0:n.raasOptimizelyInstance;if(!a)return null;var l=Ge(document.cookie,"__vst")||"raas_x_optimizely_user",c=Ue(J);e===w?(r=t?"CONTEXT_".concat(t):"CONTEXT_DEFAULT",o=c?J:null):(e===_||e===g)&&(r=t?"CONTEXT_".concat(t):"CONTEXT_GNAV_".concat(e.toUpperCase()),o=c?J:null),Re(o);var s=!c&&Ue(o);try{(c||s)&&(i=a.getFeatureVariableJSON(o,r,l),e===w&&i&&!c?Ae("SWAP_VARIANT","".concat(o,":").concat(a.getVariation(o,l))):c&&Ae("CONTEXT_AWARE_REGISTRATION_VARIANT","".concat(o,":").concat(a.getVariation(o,l))))}catch(e){console.log(e)}return Ee(i),i||null}(p,null===(t=e.context)||void 0===t?void 0:t.REGISTRATION_ORIGIN_CONTEXT),null!==(n=I)&&void 0!==n&&n.containerName&&T(I.containerName)},R=function(){("object"===hc(be())||be())&&be()||(e.tenantId?T(U):(Ee(function(e){var t=ke,n=xe;return e===P?{landingPage:{headerTitle:t.LANDING_PAGE.HEADER_TITLE,headerDesc:t.LANDING_PAGE.HEADER_DESC},passwordPage:{signIn:{headerTitle:t.PASSWORD_PAGE.signIn.HEADER_TITLE,headerDesc:t.PASSWORD_PAGE.signIn.HEADER_DESC},signUp:{headerTitle:t.PASSWORD_PAGE.signUp.HEADER_TITLE,headerDesc:t.PASSWORD_PAGE.signUp.HEADER_DESC}},marketingOptIn:{headerTitle:t.MARKETING_OPT_IN.HEADER_TITLE,headerDesc:t.MARKETING_OPT_IN.HEADER_DESC},containerName:P}:e===j?{landingPage:{headerTitle:t.LANDING_PAGE.HEADER_TITLE,headerDesc:t.LANDING_PAGE.HEADER_DESC},passwordPage:{signIn:{headerTitle:t.PASSWORD_PAGE.signIn.HEADER_TITLE,headerDesc:t.PASSWORD_PAGE.signIn.HEADER_DESC},signUp:{headerTitle:t.PASSWORD_PAGE.signUp.HEADER_TITLE,headerDesc:t.PASSWORD_PAGE.signUp.HEADER_DESC}},marketingOptIn:{headerTitle:t.MARKETING_OPT_IN.HEADER_TITLE,headerDesc:t.MARKETING_OPT_IN.HEADER_DESC},containerName:j}:(Re(J),{landingPage:{headerTitle:n.LANDING_PAGE.HEADER_TITLE,headerDesc:n.LANDING_PAGE.HEADER_DESC,showProfessionalLogin:!1,showTermsAndPolicy:!1,showEmailMeLinkBtn:!1},passwordPage:{signIn:{headerTitle:n.PASSWORD_PAGE.signIn.HEADER_TITLE,headerDesc:n.PASSWORD_PAGE.signIn.HEADER_DESC,showProfessionalLogin:!1,showTermsAndPolicy:!1,showEmailMeLinkBtn:!1},signUp:{headerTitle:n.PASSWORD_PAGE.signUp.HEADER_TITLE,headerDesc:n.PASSWORD_PAGE.signUp.HEADER_DESC,showProfessionalLogin:!1,showTermsAndPolicy:!1,showEmailMeLinkBtn:!1},WelcomeBack:{headerTitle:n.PASSWORD_PAGE.WELCOMEBACK.HEADER_TITLE,headerDesc:n.PASSWORD_PAGE.WELCOMEBACK.HEADER_DESC,showProfessionalLogin:!1,showTermsAndPolicy:!1,showEmailMeLinkBtn:!1}},marketingOptIn:{headerTitle:n.MARKETING_OPT_IN.HEADER_TITLE,headerDesc:n.MARKETING_OPT_IN.HEADER_DESC,showProfessionalLogin:!1,showTermsAndPolicy:!1},forgotPassword:{headerTitle:n.FORGOT_PWD.SCREEN1.HEADER_TITLE,headerDescription:n.FORGOT_PWD.SCREEN1.HEADER_DESC,showProfessionalLogin:!1,showTermsAndPolicy:!1},almostDone:{headerTitle:n.FORGOT_PWD.SCREEN2.HEADER_TITLE,headerDescription:"".concat(n.FORGOT_PWD.SCREEN2.HEADER_DESC," \n ").concat(n.FORGOT_PWD.SCREEN2.HEADER_DESC2),showProfessionalLogin:!1,showTermsAndPolicy:!1},containerName:F,buttonsDisplayOrder:n.BUTTONS_DISPLAY_ORDER})}(p)),T(be().containerName)))};switch((0,o.useEffect)((function(){var t=e.raasOptimizelyInstanceInitialized;0<=W.indexOf(p)&&null!==t&&(p===_?ze.LINKNAMES.GNAV_LOGIN_LINK:ze.LINKNAMES.GNAV_SIGNUP_LINK),t&&A(),!t&&R())}),[e.raasOptimizelyInstanceInitialized,p]),null!==(t=e.context)&&void 0!==t&&t.DYNAMIC_VALUE_PROPOSOITION&&function(e){se=e}(null===(n=e.context)||void 0===n?void 0:n.DYNAMIC_VALUE_PROPOSOITION),S||p){case B:return o.createElement(yc,vc({},e,{changeComponentType:N,clearState:O,email:y,dataTestId:"update-pwd"}));case F:return o.createElement(rl,vc({},e,{html_string:we(),clearState:O,changeComponentType:N,email:y,dynamicText:be(),dataTestId:"context-aware-web",REGISTRATION_ORIGIN_CONTEXT:null===(r=e.context)||void 0===r?void 0:r.REGISTRATION_ORIGIN_CONTEXT,modalTrigger:null===(i=e.context)||void 0===i?void 0:i.MODAL_TRIGGER,pageName:null===(a=e.context)||void 0===a?void 0:a.pageName,tenantId:e.tenantId}));case H:return o.createElement(ul,vc({},e,{html_string:we(),clearState:O,changeComponentType:N,email:y,dynamicText:be(),dataTestId:"email-me-link",REGISTRATION_ORIGIN_CONTEXT:null===(l=e.context)||void 0===l?void 0:l.REGISTRATION_ORIGIN_CONTEXT,pageName:null===(c=e.context)||void 0===c?void 0:c.pageName}));case U:return o.createElement(pl,vc({},e,{html_string:we(),clearState:O,changeComponentType:N,email:y,dynamicText:be(),dataTestId:"error-modal",REGISTRATION_ORIGIN_CONTEXT:null===(s=e.context)||void 0===s?void 0:s.REGISTRATION_ORIGIN_CONTEXT,pageName:null===(u=e.context)||void 0===u?void 0:u.pageName}));default:return null}})),Ec=bc;function wc(e){return wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(e)}function Sc(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Tc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oc(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nc(n.key),n)}function Nc(e){var t=function(e,t){if("object"!==wc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wc(t)?t:t+""}function Ic(e,t){return Ic=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ic(e,t)}function Pc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],()),!0}catch(e){return!1}}();return function Ac(e,t){if(t&&("object"===wc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Rc(e){return Rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rc(e)}var kc=function(e){function t(){return Tc(this,t),n.apply(this,arguments)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ic(e,t)}(t,e);var n=Pc(t);return function(e,t,n){t&&Oc(e.prototype,t),n&&Oc(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"fetchAppleConfigs",value:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Sc(l,r,o,i,a,"next",e)}function a(e){Sc(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(){return{clientId:"".concat(qe.appleConfigs.clientId[this.currEnv]),scope:"".concat(qe.appleConfigs.scope[this.currEnv]),redirectURI:"".concat(qe.appleConfigs.redirectURI[this.currEnv]),usePopup:!0}}));return function(){return e.apply(this,arguments)}}()}]),t}(Xt);function xc(e){return xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(e)}function Cc(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Dc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mc(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jc(n.key),n)}function jc(e){var t=function(e,t){if("object"!==xc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xc(t)?t:t+""}function Lc(e,t){return Lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lc(e,t)}function Gc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fc(e);if(t){var o=Fc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bc(this,n)}}function Bc(e,t){if(t&&("object"===xc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Fc(e){return Fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fc(e)}var Hc=function(e){function t(){return Dc(this,t),n.apply(this,arguments)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lc(e,t)}(t,e);var n=Gc(t);return function(e,t,n){t&&Mc(e.prototype,t),n&&Mc(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"fetchDataFileUrl",value:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Cc(l,r,o,i,a,"next",e)}function a(e){Cc(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}((function*(){return"".concat(qe.optimizely[this.currEnv])}));return function(){return e.apply(this,arguments)}}()}]),t}(Xt);function Uc(e){return Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(e)}function Wc(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Vc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Wc(l,r,o,i,a,"next",e)}function a(e){Wc(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}function zc(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$c(n.key),n)}function Kc(e,t){return Kc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kc(e,t)}function Zc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yc(e);if(t){var o=Yc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xc(this,n)}}function Xc(e,t){if(t&&("object"===Uc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qc(e)}function qc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yc(e){return Yc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yc(e)}function Jc(e,t,n){return(t=$c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $c(e){var t=function(e,t){if("object"!==Uc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Uc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Uc(t)?t:t+""}var Qc=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jc(qc(o=n.call(this,e)),"googleSignupLibraries",(function(){ae("head","script",{src:"https://apis.google.com/js/platform.js",id:"google-Oauth",defer:!0,onload:le}),ae("head","script",{src:"https://apis.google.com/js/api:client.js",defer:!0})})),Jc(qc(o),"initGoogleOneTap",(function(){Wn.initGoogleOneTap()})),Jc(qc(o),"fetchOptimizelyDataFile",Vc((function*(){(new Hc).fetchDataFileUrl().then((function(e){o.fetchDataFile(e)}))}))),Jc(qc(o),"fetchDataFile",(function(e){window.fetch(e,{mode:"cors"}).then(().then((function(e){o.createOptimizelyInstance(e)})).catch(()})),Jc(qc(o),"createOptimizelyInstance",function(){var e=Vc((function*(e){var t=yield r.Fs({datafile:e});t.onReady().then((function(){ie&&(window.raasOptimizelyInstance=t,o.setState({optimizelyInstanceInitialized:!!window.raasOptimizelyInstance}))}))}));return function(){return e.apply(this,arguments)}}()),Jc(qc(o),"appleInit",(function(){try{o.appleSDKDownload(document,"script","apple-jssdk").then(()}catch(e){console.log("Apple init failed",e)}})),Jc(qc(o),"fbAsyncInit",(function(){window.fbAsyncInit=function(){window.FB.init({appId:"164239093852",cookie:!0,xfbml:!1,version:"v3.1"}),console.log("FB.init running...")},function(e,t,n){var r=e.getElementsByTagName(t)[0],o=e.createElement(t);o.id="facebook-jssdk",o.src="//connect.facebook.net/en_US/sdk.js",o.defer=!0,r.parentNode.insertBefore(o,r)}(document,"script")})),Jc(qc(o),"appleAsyncInit",Vc((function*(){if(ie&&window.AppleID&&window.AppleID.auth){var e=yield(new kc).fetchAppleConfigs();window.AppleID.auth.init(e),console.log("Apple.init running...")}}))),Jc(qc(o),"appleSDKDownload",(function(e,t,n){return new Promise((function(r,o){var i=e.getElementsByTagName(t)[0],a=document.createElement(t);a.src="//appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",a.id=n,a.onError=o,a.defer=!0,a.onload=r,a.addEventListener("error",o),a.addEventListener("load",r),i.parentNode.insertBefore(a,i)}))})),e.applicationEnv),o.state={optimizelyInstanceInitialized:null},o}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kc(e,t)}(t,e);var n=Zc(t);return function(e,t,n){t&&zc(e.prototype,t),n&&zc(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"componentDidMount",value:function(){var e=this;try{this.fetchOptimizelyDataFile()}catch(e){console.log("failed optimizely init",e)}try{this.fbAsyncInit()}catch(e){console.log("FB init failed")}try{this.googleSignupLibraries()}catch(e){console.log("Google Signup Library init failed")}ie&&window.googleOneTapEnabled&&setTimeout((,function(){var e,t,n,r=null===(e=localStorage)||void 0===e?void 0:e.getItem("moveAnalytics.previousPageNameCheck");return"V1"===(null===(t=localStorage)||void 0===t?void 0:t.getItem("appDownloadNudgeVariation"))&&(0<=["for_sale:home","for_sale:srp_list","for_sale:srp_map","for_sale:ldp","for_sale:ldp-quickview"].indexOf(r)||"ldp-quickview"===(null===(n=window)||void 0===n?void 0:n.pageType)&&0<=r.indexOf("for_sale"))}()?+localStorage.getItem("googleOneTapDelay"):0),ie&&this.appleInit()}},{key:"render",value:function(){var e,t,n,r=this.props.authViewType,i=null===(e=this.props)||void 0===e?void 0:e.raas_context,a=null===(t=this.props)||void 0===t?void 0:t.hideCloseIcon,l=null===(n=this.props)||void 0===n?void 0:n.tenantId;return o.createElement(Ec,{componentType:r,context:i,hideCloseIcon:a,raasOptimizelyInstanceInitialized:this.state.optimizelyInstanceInitialized,tenantId:l})}}]),t}(o.Component),es=Qc;function ts(e){return ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(e)}function ns(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function rs(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){ns(l,r,o,i,a,"next",e)}function a(e){ns(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}function os(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function is(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,as(n.key),n)}function as(e){var t=function(e,t){if("object"!==ts(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ts(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ts(t)?t:t+""}function ls(e,t){return ls=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ls(e,t)}function cs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=us(e);if(t){var o=us(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ss(this,n)}}function ss(e,t){if(t&&("object"===ts(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function us(e){return us=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},us(e)}var ds=function(e){function t(){return os(this,t),n.apply(this,arguments)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ls(e,t)}(t,e);var n=cs(t);return function(e,t,n){t&&is(e.prototype,t),n&&is(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"logout",value:function(){var e=rs((function*(){if(ie){var e="".concat(qe.myAccount[this.currEnv]).concat(Qe);document.cookie="REMEMBER_ME=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",-1===document.cookie.indexOf("FIND_AUTH=")&&(document.cookie="FIND_AUTH=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;");var t=yield this.get(e),n=t.result,r=t.headers,o=t.text,i=t.status;if(n&&n.error)throw new Error(n.error);Wn.onLogout(),ge();var a=(0,Ze.e)(document.cookie,"__vst");return a&&function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;ie&&window.appboy&&e&&window.appboy.changeUser("visitor_".concat(e))}(a),{result:n,headers:r,text:o,status:i}}}));return function(){return e.apply(this,arguments)}}()},{key:"reloginLogout",value:function(){var t=rs((function*(){try{yield this.logout()}catch(e){console.log(e)}document.cookie="_MyAccountRUI_session=; domain=.realtor.com; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",localStorage.removeItem("rdc-app-context"),window.location.assign("/")}));return function(){return t.apply(this,arguments)}}()}]),t}(Xt);function ps(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function fs(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){ps(l,r,o,i,a,"next",e)}function a(e){ps(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)}))}}var ms=function(){var e=fs((function*(){var e=new ds,t=yield e.logout(),n=t.headers;return 200===t.status?(bn(n),Promise.resolve()):Promise.reject()}));return function(){return e.apply(this,arguments)}}(),ys=function(){var e=fs((function*(){var e=new cn,t=fn();return e.refreshAccessToken((null===t||void 0===t?void 0:t.refresh_token)||null)}));return function(){return e.apply(this,arguments)}}(),vs=function(){var e=fs((function*(){var e=fn();return e?e=yield yn(e):null}));return function(){return e.apply(this,arguments)}}(),hs=function(){var e=fs((function*(){var e=yield vs();if(e){var t=e.access_token||e.refresh_token,n=mn(t);return n?n.sub.split("|")[1]:null}return null}));return function(){return e.apply(this,arguments)}}(),_s={RaasModule:es,raasLogout:ms,getAuthorizationObject:vs,refreshAccessToken:ys,fetchAccessToken:function(e){if(!fn())return(new cn).fetchAccessToken(e)},getMemberIdFromAccessToken:hs},gs=_s},39753:function(){"undefined"!=typeof window&&"function"!=typeof window.CustomEvent&&(window.CustomEvent=},63144:]);