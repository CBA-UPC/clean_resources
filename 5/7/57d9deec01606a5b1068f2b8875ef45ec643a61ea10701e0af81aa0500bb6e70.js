"use strict";(self.webpackChunkdouyin_live_v2=self.webpackChunkdouyin_live_v2||[]).push([[5205],{25205:function(e,t,l){let n;l.d(t,{nI:function(){return th},mJ:);var a,r,s,o,i,d=l(28268),u=l(6619),c=l(75467),v=l(35901),h=l(67143);l(98110);var p=l(82894),m=l(42552),f=l(67972),g={mask:"R1ISYqMn",modalContainer:"jUVlNwDJ",close:"MS69mL_z",title:"JahK0BQU",content:"quqn1heO"},x=l(86558),j=l.n(x),b=l(30346),C={svg:"W8j8pPAI"};let y=u.memo(e=>{let{src:t,width:l=18,height:n=18,color:a,viewBox:r,className:s="",onClick:o=()=>void 0,style:i={}}=e,u=a?(0,b._)({fill:a},i):(0,b._)({},i);return(0,d.jsx)(t,(0,b._)({className:j()(a?"":C.svg,s),width:l,height:n,viewBox:r||"0 0 36 36",onClick:o},u))}),{ArrowUp:w,ArrowDown:N,W:_,S:E,Escape:S,N:I}=m.KEY_MAP,O=e=>{let{children:t,title:l,visible:n,onCancel:a}=e,r=u.useCallback([]),s=u.useRef(null),o=e=>{e.stopPropagation()};return u.useEffect(()=>{let e="report/ui/Modal";return(0,f.o)({disableKey:[N,w,_,E,S,I].map(e=>e.code),pauseGlobalShortcut:!0},e),()=>{(0,f.m)(e)}},[]),u.useEffect(()=>{let{current:e}=s;if(e)return e.setAttribute("tabindex","0"),e.addEventListener("DOMMouseScroll",o),e.onwheel=e=>e.preventDefault(),e.focus(),,[n]),n?(0,d.jsx)("div",{className:g.mask,ref:s,onWheel:o,children:(0,d.jsxs)("div",{className:j()(g.modalContainer,e.className),"data-e2e":"report-container",children:[(0,d.jsx)("div",{className:g.close,onClick:r,"data-e2e":"report-container-close",children:(0,d.jsx)(y,{width:36,height:36,src:p.Z})}),l&&(0,d.jsx)("div",{className:g.title,children:l}),(0,d.jsx)("div",{className:g.content,children:t})]})}):null};l(76357);var L={reportContainer:"_zbpQuuH",reportDesc:"JQQfTDk5",submit:"aG4k8Ez0",reasonList:"tzlT6vSO",col:"KN5mB4Iy",reasonItem:"btjsW67T"},M=l(98205),k=new M.hD({report_web:{eventName:"report_web",params:{report_type:"",object_id:"",enter_method:""}}}),P=l(1180),R=l(71331),T={toastWrapper:"jRdHJFE8",toast:"sX0ZyjEp",parentToastWrapper:"vFCfK_ms"};function A(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}let B=null,U=null,F=null,q=null,D={text:"",duration:3e3};class H extends(a=u.Component){static create(e){if(B)return e&&e(B);F=document.body,document.querySelector("#toastContainer")||((q=document.createElement("div")).className=T.toastWrapper,q.id="toastContainer"),F.appendChild(q),c.render((0,d.jsx)(H,{ref:),q)}static info(e,t){let l=(0,b._)({},D);"string"==typeof e?(l.text=e,l.root=t):"object"==typeof e&&null!==e&&(l=(0,b._)((0,P._)((0,b._)({},D),{root:t}),e));let n=document.fullscreenElement||document.getElementsByClassName("xgplayer-fullscreen-parent")[0];(0,R.r)()&&n&&(l.root=n),this.textList.push(l),this.create(e=>{!U&&e&&e.handleShowToast()})}handleShowToast(){U&&(clearTimeout(U),U=null);let e=H.textList.shift();this.setState({showToast:!0,options:e}),U=setTimeout(()=>{H.textList.length?this.handleCloseToast(:(this.handleCloseToast(),this.destroy()),U=null},e.duration)}handleCloseToast(e){this.setState({showToast:!1},}destroyender(){let{showToast:e,options:t}=this.state,l=e&&t&&(0,d.jsx)("div",{className:j()(T.toast,t.className,{[T.parentToastWrapper]:t.root||(0,R.r)()}),children:t.text});return(0,d.jsx)(u.Fragment,{children:t&&t.root?c.createPortal(l,t.root):l})}A(H,"textList",[]);var V={radioContainer:"MBmBFOuF",radio:"Aqbs_VgN",selected:"PxQ9C7iH",disable:"D7veVeSy",label:"fg6oINId"};let z=e=>{let{selected:t,disable:l,label:n,className:a,onClick:r,value:s}=e,o=u.useCallback(()=>{r&&r(s,!t)},[s,t,r]);return(0,d.jsxs)("div",{className:j()(V.radioContainer,a),children:[(0,d.jsx)("div",{onClick:o,className:j()(V.radio,{[V.selected]:t,[V.disable]:l})}),n&&(0,d.jsx)("span",{className:V.label,children:n})]})};var J={textareaContainer:"i9Oh0xQe",textarea:"uTu7uUUn",count:"PYPz9z6A",overflow:"KwVoXgR3"};let G=e=>{let{notResize:t=!1,value:l,onChange:n,placeholder:a,maxLength:r,width:s,className:o,minHeight:i}=e,c=u.useRef(null),[v,h]=u.useState(),p=u.useCallback(e=>{let t=e.target.value;t.length<=r&&n(t)},[n]);return(0,d.jsxs)("div",{style:{width:s},className:j()(J.textareaContainer,o),children:[(0,d.jsx)("textarea",{value:l,ref:c,style:{minHeight:i,height:v},onChange:p,onKeyDown:e=>e.stopPropagation(),placeholder:a,className:J.textarea}),void 0!==r&&(0,d.jsxs)("div",{className:j()(J.count,{[J.overflow]:l.length>r}),children:[l.length,"/",r]})]})};var W={button:"Yx8ue_Xd",small:"X0jROBrl",fixed:"ZP3xBAhf",normal:"RnbP2mUQ",large:"rZHvltWJ",primary:"c9LCiwJb",border:"lJyKvPvx",secondary:"GsVBKF9X",ghost:"bf1e0Tes"};function K(e){let{size:t="normal",type:l="primary",children:n,autoFixed:a=!0,className:r,width:s,style:o,theme:i="solid",disabled:u=!1,onClick:c=function(){}}=e;return(0,d.jsx)("button",{type:"button",disabled:u,onClick:c,className:j()("Yx8ue_Xd",W[t],W[l],W[i],{ZP3xBAhf:!a},r),style:(0,b._)({width:s&&`${s}px`},o),children:n})}var X=e=>{let{reasons:t,type:l,object_id:n,isLive:a=!1,onLiveReport:r=()=>void 0,logParams:s,toast:o}=e,[i,c]=u.useState(""),[v,h]=u.useState(""),p=u.useMemo(()=>{let e={};for(let l=0;l<t.length;l++){let n=t[l];e[l%3]?e[l%3].push(n):e[l%3]=[n]}return e},[t]),m=u.useCallback([]),f=u.useCallback(()=>{a||(k.sendLog("report_web",(0,b._)({report_type:l,object_id:n},s)),null==e||e.onClose()),a&&(r(v,i),null==e||e.onClose()),o?o("Êèê‰∫§ÊàêÂäü",null==e?void 0:e.toastParent):H.info("Êèê‰∫§ÊàêÂäü",null==e?void 0:e.toastParent)},[v,i,r]);return(0,d.jsxs)("div",{className:L.reportContainer,"data-e2e":"report-container",children:[(0,d.jsxs)("div",{className:L.reasonList,children:[(0,d.jsx)("div",{className:L.col,children:(p[0]||[]).map(e=>(0,d.jsx)(z,{selected:v===e.value,label:e.label,value:e.value,className:L.reasonItem,onClick:m},e.value))}),(0,d.jsx)("div",{className:L.col,children:(p[1]||[]).map(e=>(0,d.jsx)(z,{selected:v===e.value,label:e.label,value:e.value,className:L.reasonItem,onClick:m},e.value))}),(0,d.jsx)("div",{className:L.col,children:(p[2]||[]).map(e=>(0,d.jsx)(z,{selected:v===e.value,label:e.label,value:e.value,className:L.reasonItem,onClick:m},e.value))})]}),(0,d.jsx)(G,{notResize:!0,maxLength:140,placeholder:"ËØ∑ËØ¶ÁªÜÊèèËø∞‰∏æÊä•ÂéüÂõ†Ôºå‰æø‰∫éÂπ≥Âè∞Âà§Êñ≠ËøùËßÑÊÉÖÂÜµ",minHeight:75,value:i,onChange:e=>c(e),className:L.reportDesc}),(0,d.jsx)(K,{className:L.submit,onClick:f,disabled:!v,children:"Êèê‰∫§"})]})};let Z=["Ëâ≤ÊÉÖ‰Ωé‰øó","ËøùÊ≥ïÁäØÁΩ™","ÈÄ†Ë∞£‰º†Ë∞£","ÂûÉÂúæÂπøÂëä","ÂîÆÂçñÂÅáË¥ß","ÈùûÂéüÂàõÂÜÖÂÆπ","Êú™ÊàêÂπ¥‰∫∫Áõ∏ÂÖ≥","ÂÖ∂‰ªñ"],Q=["Ëâ≤ÊÉÖ‰Ωé‰øó","ËøùÊ≥ïÁäØÁΩ™","ÈÄ†Ë∞£‰º†Ë∞£","ÂûÉÂúæÂπøÂëä","È™öÊâ∞","‰∫∫Ë∫´ÊîªÂáª","Êó∂Êîø‰∏çÂÆû‰ø°ÊÅØ"],$=["Ëâ≤ÊÉÖ‰Ωé‰øó","ËøùÊ≥ïÁäØÁΩ™","ÈÄ†Ë∞£‰º†Ë∞£","ÂûÉÂúæÂπøÂëä","È™öÊâ∞","‰∫∫Ë∫´ÊîªÂáª","Êó∂Êîø‰∏çÂÆû‰ø°ÊÅØ"],Y=["Ëâ≤ÊÉÖ‰Ωé‰øó","ËøùÊ≥ïÁäØÁΩ™","ÈÄ†Ë∞£‰º†Ë∞£","ÂûÉÂúæÂπøÂëä","ÂîÆÂçñÂÅáË¥ß","Êú™ÊàêÂπ¥Áõ∏ÂÖ≥","Â§¥ÂÉè„ÄÅÊòµÁß∞„ÄÅÁ≠æÂêç„ÄÅËÉåÊôØÂõæËøùËßÑ"],ee=["ËøùÊ≥ïËøùÁ¶Å","Ê∑´ÁßΩËâ≤ÊÉÖ","ÊäΩÁÉüÈ•ÆÈÖí","Ê¨∫ËØà/ÂîÆÂÅá","Êú™ÊàêÂπ¥‰∫∫Áõ∏ÂÖ≥","Âç±Èô©Ë°å‰∏∫","ÂΩïÂÉè/ÁõóÊí≠","Â£∞Èü≥ËøùËßÑ","ËØ±ÂØºÂà∑Á§º","ÂºïÂØºÁ∫ø‰∏ãËΩ¨Ë¥¶","‰æÆËæ±Ë∞©È™Ç","ÂÖ∂‰ªñ"];var et=e=>{let[t,l]=(0,u.useState)(!0),[n,a]=u.useState("AHj9AXVv"),r=u.useCallback(()=>{a("owzvf6jL"),setTimeout(()=>{var t;l(!1),c.unmountComponentAtNode(e.portalRef),e.portalRef.remove(),null===(t=e.onClose)||void 0===t||t.call(e)},300)},[t]);return(0,u.useEffect)(()=>()=>{h.Le.setConfig(h.gI.IsAlreadyE),(0,d.jsx)(O,{title:e.title,visible:t,className:n,onCancel:r,children:(0,d.jsx)(X,{toast:null==e?void 0:e.toast,toastParent:e.toastParent,reasons:function(e){switch(e){case"video":return Z.map(e=>({label:e,value:e}));case"comment":return Q.map(e=>({label:e,value:e}));case"user":return Y.map(e=>({label:e,value:e}));case"live":return ee.map(e=>({label:e,value:e}));case"danmaku":return $.map(e=>({label:e,value:e}));default:return[]}}(e.type),ont_id,type:e.type,isLive:!0,onLiveReport:e.onLiveReport,logParams:e.logParams})})};l(85517),l(19431);var el={mask:"RNCCV4WY",modalContainse:"qNqgzsw0",title:"m84qOsJZ",content:"r_T3_HqD",footer:"vzoTLupW"};let{ArrowUp:en,ArrowDown:ea,W:er,S:es,Escape:eo,N:ei}=m.KEY_MAP,ed=e=>{let{visible:t,children:l,title:n,footer:a,className:r,onCancel:s,showClose:o=!0}=e,i=turn(0,f.o)({disableKey:[ea,en,er,es,eo,ei].map(e=>e.code),pauseGlobalShortcut:!0},e),()=>{(0,f.m)(e)}},[]),(0,u.useEffect)(()=>{var e,t,l;return null===(e=i.current)||void 0===e||e.setAttribute("tabindex","0"),null===(t=i.current)||void 0===t||t.addEventListener("DOMMouseScroll",c),null===(l=i.current)||void 0===l||l.focus(),()=>{var e;null===(e=i.current)||void 0===e||e.removeEventListener("DOMMouseScroll",c)}},[t]),t)?(0,d.jsx)("div",{className:el.mask,ref:i,onWheel:c,children:(0,d.jsxs)("div",{className:j()(el.modalContainer,r),"data-e2e":"report-container",children:["div",{className:el.close,onClick:()=>{"function"==typeof s&&s(!1)},"data-e2e":"report-container-close",children:(0,d.jsx)(y,{width:36,height:36,src:p.Z})}),n&&(0,d.jsx)("div",{className:el.title,children:n}),(0,d.jsx)("div",{className:el.content,children:l}),(0,d.jsx)("div",{className:el.footer,children:a})]})}):null};function eu(e){let{children:t,className:l,width:n,style:a,disabled:r=!1,onClick:s=function(){}}=e;return(0,d.jsx)("button",{type:"button",disabled:r,onClick:s,className:j()("_CNTFYxW",l),style:(0,b._)({width:n&&`${n}px`},a),children:t})}var ec={container:"GlFAvnae",text:"m8kjf32d",icon:"AznJgvzg"};let ev=e=>{let{text:t,required:l=!1,className:n}=e;return(0,d.jsxs)("div",{className:j()(x)("div",{className:ec.text,children:t}),l&&(0,d.jsx)("div",{className:ec.icon,children:"*"})]})};var eh={container:"JtQjI7QU",radio:"WPxNO927",checked:"S634nkep",disabled:"u9MOFnsh",label:"C7sPRv19"};let ep=e=>{let{label:t,value:l,checked:n,disabled:a,className:r,style:s,onCheck:o}=e;return(0,d.jsxs)("div",{className:j()(eh.container,r),style:s,children:[(0,d.jsx)("div",{onClick:()=>{"function"==typeof o&&o(l)},className:j()(eh.radio,{[eh.checked]:n,[eh.disabled]:a})}),t&&(0,d.jsx)("span",{className:eh.label,children:t})]})},em=e=>{let{className:t,column:l=1,optionList:n,value:a,onChange:r}=e,s=(0,u.useMemo)(()=>({width:`${100/l}%`}),[l]);return Array.isArray(n)?(0,d.jsx)("div",{className:j()("qvXfL1DR",t),children:n.map(e=>(0,d.jsx)(ep,{className:"lNgiUIjI",style:s,label:e.label,value:e.value,checked:a===e.value,onCheck:r},e.value))}):null};var ef=l(16646);let eg=e=>{let{objectId:t,schemaType:l=1}=e,[n,a]=(0,u.useState)();return(0,u.useEffect)(()=>{let n=`schema_type=${l}&object_id=${t}`;(0,ef.ep)(e.objectId,{schema:n}).then(e=>{!e||(null==e?void 0:e.statusCode)?H.info("ÊúçÂä°Âô®ÊâìÁûåÁù°‰∫ÜÔºåËØ∑Á®çÂêéÂÜçËØï"):a(null==e?void 0:e.qrcodeUrl)})},[t,l]),(0,d.jsx)("img",{className:e.className,src:n})};var ex={textareaContainer:"R9n_cG6D",textarea:"KC2HEwZp",count:"cvDu7weV",overflow:"oXBOijl6"};let ej=e=>{let{value:t="",onChange:l,placeholder:n,maxLength:a,width:r,className:s,minHeight:o}=e,i=u.useRef(null),c=u.useCallback(e=>{let t=e.target.value;t.length<=a&&l(t)},[l]);return(0,d.jsxs)("div",{style:{width:r},className:j()(ex.textareaContainer,s),children:[(0,d.jsx)("textarea",{value:t,ref:i,style:{minHeight:o},onChange:c,onKeyDown:e=>e.stopPropagation(),placeholder:n,className:ex.textarea}),void 0!==a&&(0,d.jsxs)("div",{className:j()(ex.count,{[ex.overflow]:t.length>a}),children:[t.length,"/",a]})]})};l(4970),l(16454),l(99940);var eb=["title","titleId"];function eC(){return(eC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}var ey=u.forwardRef(function(e,t){var l=e.title,n=e.titleId,a=function(e,t){if(null==e)return{};var l,n,a=function(e,t){if(null==e)return{};var l,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)l=r[n],t.indexOf(l)>=0||(a[l]=e[l]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)l=r[n],!(t.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(e,l)&&(a[l]=e[l])}return a}(e,eb);return u.createElement("svg",eC",{id:n},l):null,r||(r=u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.071 25.071a1.929 1.929 0 103.857 0V19.93h5.143a1.929 1.929 0 000-3.858h-5.143V10.93a1.929 1.929 0 00-3.857 0v5.142H10.93a1.929 1.929 0 000 3.858h5.142v5.142z",fill:"#0A0C20"})))});l(75455);var ew=l(68800),eN=l(11755),e_=l.n(eN);function eE(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}class eS{initUploader(e,t){let{token:l,service_id:n,origin:a,template:r}=e,s=JSON.parse(l);this.bytedUploader=new(e_())({userId:t,appId:1128,stsToken:s,imageConfig:{serviceId:n}}),this.uploaderOptions={stsToken:s,serviceId:n,origin:a,template:r}}uploadFile(e){let t=this.bytedUploader.addImageFile({file:Array.from(e).map(e=>new Blob([e])),stsToken:this.uploaderOptions.stsToken});return this.bytedUploader.start(t),new Promise((e,t)=>{this.bytedUploader.on("complete",t=>{e(t.uploadResult)}),this.bytedUploader.on("error",e=>{t(e.extra)})})}constructor(e){eE(this,"bytedUploader",null),eE(this,"uploaderOptions",null),(0,ew.U2)("/aweme/v1/report/upload/auth/",{}).then(t=>{let{token:l,service_id:n,origin:a,template:r,status_code:s}=t;0===s&&this.initUploader({token:l,service_id:n,origin:a,template:r},e.}var eI=function(e){return n||(n=new eS({userId:e})),n};let eO="image/png,image/jpeg,image/jpg";function eL(e){let{currentLength:t,maxLength:l,onUpload:n}=e,a=(0,u.useRef)(),r=(0,u.useCallback)(()=>{var e;(null===(e=a.current)||void 0===e?void 0:e.value)&&(a.current.value="")},[]);return t===l?null:(0,d.jsxs)("div",{className:"j3pK5iV_",children:[(0,d.jsx)("input",{className:"ECQ8JMSQ",type:"file",accept:eO,multiple:!0,onChange:e=>n(e,r),ref:a}),(0,d.jsx)("div",{className:"RT2XpBEg",children:(0,d.jsxs)("div",{className:"fFN2lJ_m",children:[(0,d.jsx)(y,{width:24,height:24,src:ey}),(0,d.jsx)("div",{className:"lbafq9mb",children:`${t}/${l}`})]})})]})}function eM(e){let{dataList:t=[],onChange:l}=e,n=e=>{let n=[...t];n.splice(e,1),"function"==typeof l&&l(n)};return(0,d.jsx)(d.Fragment,{children:t.map((e,t)=>(0,d.jsxs)("div",{className:"BPg87Ros",children:[(0,d.jsx)("div",{className:"wUAdsm_o",onClick:()=>n(t)}),(0,d.jsx)("img",{className:"VmKtbonX",src:e.Url})]},e.Uri))})}function ek(e){let t=eI(),{maxLength:l=4,value:n=[],onChange:a}=e;return(0,d.jsxs)("div",{className:"JyNx772H",children:[(0,d.jsx)(eM,{dataList:n,onChange:a}),(0,d.jsx)(eL,{onUpload:(e,r)=>{let{files:s}=e.target;if(s.le‰º†ÂõæÁâáÊï∞ÈáèÂ§ß‰∫é ${l}`);return}for(let e=0;e<s.length;e++){if(s[e].size>10485760){H.info("ÂΩìÂâç‰∏ä‰º†ÂõæÁâáÂ∞∫ÂØ∏Â§ß‰∫é10M");return}if(!eO.includes(s[e].type)){H.info("ÂΩìÂâç‰∏ä‰º†ÂõæÁâáÊòØ‰∏çÊîØÊåÅÁöÑÁ±ªÂûã");return}}if(!t){H.info("ÂõæÁâá‰∏ä‰º†ÊúçÂä°‰∏çÂèØÁî®ÔºåËØ∑Á®çÂêéÂÜçËØï");return}t.uploadFile(s).then(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a([...n,...e.map((e,t)=>(0,P._)((0,b._)({},e),{Url:window.URL.createObjectURL(s[t])}))]),"function"==typeof r&&r()}).catch(()=>H.info("ÂõæÁâá‰∏ä‰º†Â§±Ë¥•ÔºåËØ∑ÈáçËØï"))},currentLength:n.length,maxLength:l})]})}var eP=["title","titleId"];function eR(){return(eR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}var eT=u.forwardRef(function(e,t){var l=e.title,n=e.titleId,a=function(e,t){if(null==e)return{};var l,n,a=function(e,t){if(null==e)return{};var l,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)l=r[n],t.indexOf(l)>=0||(a[l]=e[l]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)l=r[n],!(t.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(e,l)&&(a[l]=e[l])}return a}(e,eP);return u.createElement("svg",eR({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),l?u.createElement("title",{id:n},l):null,s||(s=u.createElement("path",{d:"M16.292 9.364a1.929 1.929 0 10-2.727 2.727l5.637 5.637-5.637 5.637a1.928 1.928 0 102.727 2.727l6.985-6.985.016-.015a1.929 1.929 0 000-2.728l-7-7z",fill:"#0A0C20"})))});let eA=e=>{let{value:t,className:l,onClick:n}=e;return(0,d.jsxs)("div",{className:j()("alOdB0gt",l),onClick:n,children:[(0,d.jsx)("div",{className:"TuGn_rcD",children:t}),(0,d.jsx)(y,{className:"OP3Rsv7T",src:eT,width:24,height:24})]})};var eB=["title","titleId"];function eU(){return(eU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}var eF=u.forwardRef(function(e,t){var l=e.title,n=e.titleId,a=function(e,t){if(null==e)return{};var l,n,a=function(e,t){if(null==e)return{};var l,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)l=r[n],t.indexOf(l)>=0||(a[l]=e[l]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)l=r[n],!(t.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(e,l)&&(a[l]=e[l])}return a}(e,eB);return u.createElement("svg",eU({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),l?u.createElement("ti:n},l):null,o||(o=u.createElement("path",{d:"M20.566 9.364a1.929 1.929 0 012.727 2.727l-5.637 5.637 5.637 5.637a1.928 1.928 0 11-2.727 2.727l-6.985-6.985-.016-.015a1.929 1.929 0 0l7-7z",fill:"#0A0C20"})))}),eq=e=>{let{visible:t,defaultValue:l=[],onCancel:n,onOk:a}=e,[r,s]=(0,u.useState)(l),{ReportEntry:o}=window;return o?(0,d.jsx)(ed,{title:(0,d.jsxs)("div",{className:"UCJI8nGr",children:[(0,d.jsx)(y,{className:"Jh2D3YnO",src:eF,width:24,height:24,onClick:()=>n()}),(0,d.jsx)("div",{children:"ÈÄâÊã©ËÅäÂ§©ËØÅÊçÆ"})]}),visible:t,showClose:!1,onCancel:()=>n(),footer:(0,d.jsx)(eu,{style:{width:"100%"},onClick:()=>a(r),disabled:!r.length,children:"Á°ÆÂÆö"}),children:(0,d.jsx)("div",{className:"t8u98SZT",children:(0,d.jsx)(o,{onMessageSelect:e=>s(e),selectedMessage:r})})}):null},eD={infringement:"oxyqio1a",douyinCode:"i2DokhHU",uploadContainer:"OPJPxbyy",uploadTips:"cMTYo6ty"},eH={VIDEO:101,COMMENT:102,USER:103,IMAGE:126,IM:106,IM_GROUP:115};let eV=e=>{var t,l,n,a,r;let{reportScene:s,objectId:o,reasonList:i,reasonMap:c,onChange:v}=e,[h,p]=(0,u.useState)(),[m,f]=(0,u.useState)(),[g,x]=(0,u.useState)(),[j,b]=(0,u.useState)(),[C,y]=(0,u.useState)();return(0,u.useEffect)(()=>{let e=s===eH.USER?m:h&&60448!==h;v({reasonCode:m||h,reportLabels:g,reportDesc:j,imgList:C,validate:e})},[h,m,g,j]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ev,{text:"‰∏æÊä•ÂéüÂõ†",required:!0}),(0,d.jsx)(em,{column:3,optionList:i,value:h,onChange:e=>{p(e),f(void 0),x(void 0)}}),60448===h?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:eD.infringement,children:["‰æµÊùÉÈóÆÈ¢òÈúÄË¶ÅËØ¶ÁªÜ‰∏æËØÅÔºåÂèØÊâ´Êèè‰∏ãÊñπÊäñÈü≥Á†ÅÂâçÂæÄ",(0,d.jsx)("br",{}),"„ÄåÊäñÈü≥APP„ÄçËøõË°å‰æµÊùÉ‰∏æÊä•"]}),(0,d.jsx)(eg,{className:eD.douyinCode,objectId:o,schemaType:s===eH.USER?4:1})]}):(0,d.jsxs)(d.Fragment,{children:[(null===(l=c.get(h))||void 0===l?void 0:null===(t=l.children)||void 0===t?void 0:t.length)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ev,{text:"ËØ∑ÈÄâÊã©ÂÖ∑‰ΩìÁöÑÁ±ªÂûã",required:s===eH.USER}),(0,d.jsx)(em,{column:3,optionList:null===(n=c.get(h))||void 0===n?void 0:n.children,value:m,onChange:f})]}),(null===(r=c.get(h))||void 0===r?void 0:null===(a=r.report_labels)||void 0===a?void 0:a.length)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ev,{text:"ËØ∑ÈÄâÊã©ÂÖ∑‰ΩìÁöÑÁ±ªÂûã"}),(0,d.jsx)(em,{column:3,optionList:c.get(h).report_labels,value:g,onChange:x})]}),(0,d.jsx)(ev,{text:"‰∏æÊä•ÊèèËø∞"}),(0,d.jsx)(ej,{maxLength:200,placeholder:"ËØ∑ËØ¶ÁªÜÊèèËø∞‰∏æÊä•ÂéüÂõ†Ôºå‰æø‰∫éÂπ≥Âè∞Âà§Êñ≠ËøùËßÑÊÉÖÂÜµ",minHeight:75,value:j,onChange:b}),(0,d.jsxs)("div",{className:eD.uploadContainer,children:[(0,d.jsx)(ek,{value:C,onChange:y}),(0,d.jsx)("div",{className:eD.uploadTips,children:"ÊØèÂº†Â∞è‰∫é 10MÔºåÊîØÊåÅJPG„ÄÅPNGÊ†ºÂºèÔºåÊúÄÂ§ö‰∏ä‰º†4Âº†"})]})]})]})},ez=e=>{var t,l,n,a,r;let{reasonList:s,reasonMap:o,onChange:i}=e,[c,v]=(0,u.useState)(),[h,p]=(0,u.useState)(),[m,f]=(0,u.useState)(),[g,x]=(0,u.useState)(),[j,b]=(0,u.useState)(!1);return(0,u.useEffect)(()=>{let e=c&&(null==g?void 0:g.length);i({reasonCode:h||c,reportLabels:m,chatList:g,validate:e})},[c,h,m,g]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ev,{text:"‰∏æÊä•ÂéüÂõ†",required:!0}),(0,d.jsx)(em,{ptionnChange:e=>{v(e),p(void 0),f(void 0)}}),(null===(l=o.get(c))||void 0===l?void 0:null===(t=l.children)||void 0===t?void 0:t.length)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ev,{text:"ËØ∑ÈÄâÊã©ÂÖ∑‰ΩìÁöÑÁ±ªÂûã"}),(0,d.jsx)(em,{column:3,optionList:null===(n=o.get(c))||void 0===n?void 0:n.children,value:h,onChange:p})]}),(null===(r=o.get(c))||void 0===r?void 0:null===(a=r.report_labels)||void 0===a?void 0:a.length)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ev,{text:"ËØ∑ÈÄâÊã©ÂÖ∑‰ΩìÁöÑÁ±ªÂûã"}),(0,d.jsx)(em,{column:3,optionList:o.get(c).report_labels,value:m,onChange:f})]}),(0,d.jsx)(ev,{text:"ËÅäÂ§©ËØÅÊçÆ",required:!0}),(0,d.jsx)(eA,{value:(null==g?void 0:g.length)?`Â∑≤Ê∑ªÂä†${g.length}Êù°ËÅäÂ§©ËØÅÊçÆ`:"Ê∑ªÂä†ËÅäÂ§©ËØÅÊçÆ",onClick:()=>b(!0)}),(0,d.jsx)(eq,{visible:j,defaultValue:g,onCancel:()=>b(!1),onOk:e=>{x(e),b(!1)}})]})},eJ=e=>{var t,l,n,a,r;let{videoId:s,reasonList:o,reasonMap:i,onChange:c}=e,[v,h]=(0,u.useState)(),[p,m]=(0,u.useState)(),[f,g]=(0,u.useState)();return(0,u.useEffect)(()=>{let e=v&&60466!==v;c({reasonCode:p||v,reportLabels:f,validate:e})},[v,p,f]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ev,{text:"‰∏æÊä•ÂéüÂõ†",required:!0}),(0,d.jsx)(em,{column:3,optionList:o,value:v,onChange:e=>{h(e),m(void 0),g(void 0)}}),60466===v?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:eD.infringement,children:["‰æµÊùÉÈóÆÈ¢òÈúÄË¶ÅËØ¶ÁªÜ‰∏æËØÅÔºåÂèØÊâ´Êèè‰∏ãÊñπÊäñÈü≥Á†ÅÂâçÂæÄ",(0,d.jsx)("br",{}),"„ÄåÊäñÈü≥APP„ÄçËøõË°å‰æµÊùÉ‰∏æÊä•"]}),(0,d.jsx)(eg,{className:eD.douyinCode,objectId:s})]}):(0,d.jsxs)(d.Fragment,{children:[(null===(l=i.get(v))||void 0===l?void 0:null===(t=l.children)||void 0===t?void 0:t.length)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ev,{text:"ËØ∑ÈÄâÊã©ÂÖ∑‰ΩìÁöÑÁ±ªÂûã"}),(0,d.jsx)(em,{column:3,optionList:null===(n=i.get(v))||void 0===n?void 0:n.children,value:p,onChange:m})]}),(null===(r=i.get(v))||void 0===r?void 0:null===(a=r.report_labels)||void 0===a?void 0:a.length)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ev,{text:"ËØ∑ÈÄâÊã©ÂÖ∑‰ΩìÁöÑÁ±ªÂûã"}),(0,d.jsx)(em,{column:3,optionList:i.get(v).report_labels,value:f,onChange:g})]})]})]})};var eG=e=>{let{reportScene:t,reasonData:l,dataSource:n,onValuesChange:a}=e,{object_id:r,video_id:s}=n,{reasonList:o=[],reasonMap:i=new Map}=l;return(0,d.jsxs)("div",{children:[[eH.VIDEO,eH.IMAGE,eH.USER].includes(t)&&(0,d.jsx)(eV,{reportScene:t,objectId:r,reasonList:o,reasonMap:i,onChange:a}),[eH.IM,eH.IM_GROUP].includes(t)&&(0,d.jsx)(ez,{reasonList:o,reasonMap:i,onChange:a}),[eH.COMMENT].includes(t)&&(0,d.jsx)(eJ,{videoId:s,reasonList:o,reasonMap:i,onChange:a})]})},eW=l(65127),eK=l(59626),eX=new M.hD({enter_report_edit_page:{eventName:"enter_report_edit_page",params:{object_type:"",object_id:"",enter_from:""}},report_submit:{eventName:"report_submit",params:{object_type:"",object_id:"",enter_from:"",follow_status:"",reason_type:"",report_labels:""}}}),eZ=l(Id:t,dataSource:l,logParams:n,onReport:a,toast:r}=e,{object_id:s,owner_id:o,owner_sec_id:i,user_id:v,comment_with_emoji:p,enter_from:m,con_short_id:f}=l,[g,x]=(0,u.useState)(!0),[j,C]=u.useState("kL62R5oH"),[y,w]=(0,u.useState)(),[N,_]=(0,u.useState)(),E=u.useCallback(()=>{C("ABDnH_Ll"),setTimeout(()=>{var t;x(!1),c.unmountComponentAtNode(e.portalRef),e.portalRef.remove(),null===(t=e.onClose)||void 0===t||t.call(e)},300)},[e.onClose]);(0,u.useEffect)(()=>{let e=eK.listen(eK.EVENT.hideModal,E);return()=>{e()}},[E]),(0,u.useEffect)(()=>()=>{h.Le.setConfig(h.gI.IsAlreadyExsitReportModal,!1)},[]),(0,eW.O)({onChange:e=>{let{isFullscreen:t}=e;t&&E()}});let S=(e,t)=>r?null==r?void 0:r(e,t):H.info(e,t),I=async()=>{let e,t,l;let r=await (0,eZ.b)(i),{reasonCode:d,reportLabels:u,reportDesc:c,imgList:h,chatList:p}=N,{reportScene:g,reasonData:x}=y;if(u){let t=new Map;x.reasonMap.get(d).report_labels.forEach(e=>t.set(e.value,e.label)),e=t.get(u)}(null==h?void 0:h.length)&&(t=null==h?vo=>e.Uri).join(",")),(null==p?void 0:p.length)&&(l=p.join(","));let j={follow_status:null==r?void 0:r.follow_status,con_short_id:f,im_message_list:l,source:m},C={app_id:6383,object_id:s,owner_id:o,user_id:v,reported_idort_desc:c,uri:t,image_uri_list:t,msg_list:[eH.IM,eH.IM_GROUP].includes(g)?l:void 0,report_data:JSON.stringify(j)};(0,et/submit/",{},C).then(t=>{switch(!0){case 2159===t.status_code:S("‰Ω†Â∑≤‰∏æÊä•ËøáËØ•ÂÜÖÂÆπÔºåËØ∑Á®çÂêéÂÜçËØï");break;case 0===t.status_code:eX.sendLog("report_submit",(0,b._)({object_type:y.reportScene,object_id:s,enter_from:m,follow_status:null==r?void 0:r.follow_status,reason_type:d,report_labels:e},n)),S("Êèê‰∫§ÊàêÂäüÔºåÊàë‰ª¨Â∞ÜÂ∞ΩÂø´ÂèóÁêÜ");break;default:S("Êèê‰∫§Â§±Ë¥•ÔºåËØ∑Á®çÂêéÂÜçËØï")}E(),null==a||a()}).catch(()=>S("ÊúçÂä°Âô®ÊâìÁûåÁù°‰∫ÜÔºåËØ∑Á®çÂêéÂÜçËØï"))};return((0,u.useEffect)(()=>{(function(e){let t=`https://lf-mortise.douyinstatic.com/obj/mortise-online/online/${e}_3364`;return fetch(t).then(e=>e.json()).then(e=>{let{reportScene:t,reasonCode:l}=e.pluginData,n=Array.isArray(l)?l[0].list.map(e=>{let{reason_code:t,next_reasons:l,report_labels:n}=e.data;return{label:e.text,value:t,children:Array.isArray(l)?l[0].list.map(e=>({label:e.text,value:e.data.reason_code})):void 0,report_labels:Array.isArray(n)?n.map(e=>({label:e.name,value:e.code})):void 0}}):[],a=new Map;return n.forEach(e=>{a.set(e.value,e)}),{reportScene:t,reasonData:{reasonList:n,reasonMap:a}}})})(t).then(e=>{eI(v),eX.sendLog("enter_report_edit_page",(0,b._)({object_type:e.reportScene,object_id:s,enter_from:m},n)),1===p&&e.reasonData.reasonList.push({label:"Ë°®ÊÉÖÂåÖ‰æµÊùÉ",value:60466}),w(e)}).catch(()=>S("ÊúçÂä°Âô®ÊâìÁûåÁù°‰∫ÜÔºåËØ∑Á®çÂêéÂÜçËØï",null==e?void 0:e.toastParent))},[]),y&&l)?(0,d.jsx)(ed,{title:e.title,visible:g,className:j,onCancel:E,footer:(0,d.jsx)(eu,{className:"i6MI45Me",onClick:I,disabled:!(null==N?void 0:N.validate),children:"Êèê‰∫§"}),children:(0,d.jsx)(eG,{dataSource:l,reportScene:y.reportScene,reasonData:y.reasonData,onValuesChan4),l(11468);var e$={divider:"H8tI7VZE",description:"RBUbvg_H",link:"wFLHfWHV",titleBar:"goTf2Xpb",title:"TYFgBy6P",svg:"mdnV6pM1",submit:"avhgkMh_",uploadContainer:"zPgaDfwi",uploadTips:"qXPW5968"},eY={container:"Xt4FJe7j",label:"ik_Lv9B6",icon:"goP06A8N",selected:"teCTotQO"};let e0=e=>{let{label:t,className:l,onSelect:n,value:a,style:r,selected:s}=e;return(0,d.jsxs)("div",{className:j()(eY.container,l),style:r,children:[(0,d.jsx)("div",{className:s?eY.selected:eY.icon,onClick:()=>n(a)}),t&&(0,d.jsx)("span",{className:eY.label,children:t})]})},e1=e=>{let{optionList:t,value:l=[],onChange:n}=e,a=new Set(l),r=e=>{a.has(e)?a.delete(e):a.adected:a.has(e.value),onSelect:r},e.value))}):null},e2=e=>{let.jsx)("div",{className:j()(e7.text,n),children:l})]})}var e9=l(59979),e3={categoryTextContainer:"NqhdsPdT",categoryText:"_0Ot3gH7",iconContainer:"wepBiYaP",alertCircle:"zEqTnVl6",categoryItemList:"CTBBPnQb",dataItemList:"srIygwRl",dataItem:"b0UjxO9M"},e5={tooltipWrapper:"rfcSO_04",tooltip:"zg0MbbI2",icon:"jbu8npg7",left:"trT0Kqdq",right:"HFCocqed",top:"y6mIpeIa",bottom:"OPFyBJX1"},e4=["title","titleId"];function e8(){return(e8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}var te=u.forwardRef(function(e,t){var l=e.title,n=e.titleId,a=function(e,t){if(null==e)return{};var l,n,a=function(e,t){if(null==e)return{};var l,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)l=r[n],t.indexOf(l)>=0||(a[l]=e[l]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)l=r[n],!(t.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(e,l)&&(a[l]=e[l])}return a}(e,e4);return u.createElement("svg",e8({width:4,height:17,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),l?u.createElement("title",{id:n},l):null,i||(i=u.createElement("path",{d:"M0 0a8 8 0 002.168 5.476l1.174 1.25a2 2 0 010 2.738l-1.174 1.25A8 8 0 000 16.19V0z",fill:"#323442"})))});let tt=e=>{let t;return(0,v.p)()?null:("string"==typeof e&&(t=documector(e)),"function"==typeof e&&(t=e()),"object"==typeof e&&e instanceof window.HTMLElement&&(t=e),t||document.body)};var tl={left:"top",right:"top",top:"left",bottom:"left"};let tn=e=>{let{type:t="left",text:l,offsetArrow:n,offsetContainer:a,className:r,children:s,onTipClick:o,renderContent:i,clickHidden:v=!1,target:h,offsetWidth:p=0}=e,[m,f]=(0,u.useState)({width:0,height:0}),[g,x]=(0,u.useState)(t),[C,w]=(0,u.useState)(!1),[N,_]=(0,u.useState)({}),E=(0,u.useRef)(null),S=(0,u.useRef)(),I=(0,u.useRef)(null),O=(0,u.useMemo)(()=>tt(h),[h]),L=(0,u.useMemo)(()=>"[object HTMLBodyElement]"===Object.prototype.toString.call(O),[O]),M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=window.innerWidth,r=window.innerHeight;return{left:e<0?e:0,top:t<0?t:0,right:e+l>a?a-e-l:0,bottom:t+n>r?r-t-n:0}},k=function(){clearTimeout(I.current),I.current=setTimeout(()=>{w(!1)},200)},R=(0,u.useCallback)(()=>{if(!E.current)return{};let e=S.current.getBoundingClientRect(),{width:l,height:n}=e,/2;if(["left","right"].includeght":r+=l+10}"number"==typeof a?s+=a:s+=-i}else if(["top","bottom"].includes(t)){switch(t){case"top":s-=m.height+10;break;case"bottom":s+=n+10}"number"==typeof a?r+=a,right:o,botts,m.width,m.height);x(t),["left","right"].includes(t)?(e&&(s-=e),i&&(s+=i),a&&!o&&(r+=m.width+20+l,x("right")),o&&!a&&(r-=m.width+20+l,x("left"))):["top","bottom"].includes(t)&&(a&&(r-=a+p),o&&(r+=o-p),e&&!i&&(s+=m.height+20+n,x("bottom")),i&&!e&&(s-=m.height+20+n,x("top")))}return(0,P._)((0,b._)({},N),{left:`${r}px`,top:`${s}px`})},[N,m,a,t,L]),T=(0,u.useCallback)(()=>{let e=u.Children.only(s);return u.cloneElement(e,{onMouseEnter:t=>{var l,n;clearTimeout(I.current),w(!0),S.current=t.target,_(R()),null==e||null===(n=e.props)||void 0===n||null===(l=n.onMouseEnter)||void 0===l||l.call(n,t)},onMouseLeave:()=>{k()}})},[R,s]);(0,u.useEffect)(()=>{let e=e=>{C&&_(R())};return document.addEventListener("scroll",e,!0),()=>{document.removeEventListener("scroll",e,!0)}},[R,C]),(0,u.useLayoutEffect)(()=>{E.current&&f(E.current.getBoundingClientRect())},[C]),(0,u.useLayoutEffect)(()=>{S.current&&_(R())},[m]);let A=(0,u.useMemo)(()=>(0,d.jsxs)("div",{ref:E,style:(0,b._)({position:L?"fixed":"absolute"},N),onMouseEnter:e=>{clearTimeout(I.current)},onMouseLeave:()=>{k()},className:j()("zg0MbbI2",e5[t],r),onClick:e=>{null==o||o(e),v&&w(!1)},children:[(0,d.jsx)(y,{width:4,height:17,src:te,style:{[tl[g]]:`${n}%`},className:j()("jbu8npg7",e5[g]),viewBox:"0 0 4 17"}),(0,d.jsx)("span",{className:"",children:i||l})]}),[g,r,v,n,o,i,l,N,t,L]);return(0,d.jsxs)(d.Fragment,{children:[C&&c.createPortal(A,O),T()]})};function ta(e){return(0,d.jsxs)("svg",{className:e.className,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{d:"M6.31015 4.19993C6.30457 3.81502 6.61505 3.5 7 3.5C7.38495 3.5 7.69543 3.81502 7.68984 4.19993L7.63803 7.77116C7.63297 8.11992 7.3488 8.4 7 8.4C6.6512 8.4 6.36703 8.11992 6.36197 7.77116L6.31015 4.19993Z"}),(0,d.jsx)("path",{d:"M7 1026 10.64 7.77 10.2953 7.77 9.87C7.77 9.44474 7.42526 9.1 7 9.1C6.57474 9.1 6.23 9.44474 6.23 9.87C6.23 10.2953 6.57474 10.64 7 10.64Z"}),(0,d.jsx)("path",{d:"M7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14ZM7 12.95C3.71391 12.95 1.05 10.2861 1.05 7C1.05 3.71391 3.71391 1.05 7 1.05C10.2861 1.05 12.95 3.71391 12.95 7C12.95 10.2861 10.2861 12.95 7 12.95Z"})]})}function tr(e){let{text:t,tooltip:l}=e,n=(0,u.useRef)();return(0,d.jsxs)("div",{className:e3.categoryTextContainer,children:[(0,d.jsx)("div",{className:e3.categoryText,children:t}),l&&(0,d.jsx)(tn,{text:l,type:"right",target:n.current,children:(0,d.jsx)("div",{className:e3.iconContainer,ref:n,children:(0,d.jsx)(ta,{className:e3.alertCircle})})})]})}function ts(e){let{dataList:t=[],value:l,onChange:n}=e;return(0,d.jsx)("div",{className:e3.dataItemList,children:t.map(e=>(0,d.jsx)(ep,{className:e3.dataItem,style:e.label.length>=7?{width:"calc(100% - 40px)"}:void 0,label:e.label,checked:(null==l?void 0:l.value)===e.value,value:e.value,onCheck:()=>n(e)},e.value))})}function to(e){let{dataList:t=[],value:l,onChange:n}=e;return(0,d.jsx)("div",{className:e3.container,children:t.map(e=>{let{name:t,tooltip:a,children:r=[]}=e;return(0,d.jsxs)("div",{className:e3.categoryItemList,children:[t&&(0,d.jsx)(tr,{text:t,tooltip:a}),(0,d.jsx)(ts,{dataList:r,value:l,onChange:n})]},t)})})}function ti(){return(0,d.jsxs)("svg",{className:e$.svg,viewBox:"0 0 10 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{d:"M6.12852 1.14357C5.95738 0.680906 5.51668 0.351562 5 0.351562C4.48332 0.351562 4.04262 0.680906 3.87148595 4.62081V5.837C1.38595 6.52216 1.19579 7.19354 0.837147 7.77455L0.11565 8.94342C-0.19778 9.45119 0.162759 10.1098 0.754132 10.1098H9.24587C9.83724 10.1098 10.1978 9.45119 9.88435 8.94342L9.16285 7.77455C8.80421 7.19354 8.61405 6.52216 8.61405 5.837V4.62081C8.61405 2.9984 7.5718 1.62361 6.12852 1.14357Z"}),(0,d.jsx)("path",{d:"M5 12.3969C4.07376 12.3969 3.27772 11.8324 2.92917 11.0247H7.07083C6.72228 11.8324 5.92624 12.3969 5 12.3969Z"})]})}let td=e=>{var t,l,n,a;let{dataSource:r,onChange:s}=e,[o,i]=(0,u.useState)(),[c,v]=(0,u.useState)(),[h,p]=(0,u.useState)(),[m,f]=(0,u.useState)(),[g,x]=(0,u.useState)(),[j,b]=(0,u.useState)(),C=(0,u.useRef)(),y=(0,u.useRef)(),w=(0,u.useMemo)(()=>{let e={};return r.forEach(t=>{let{label:l,tips:n}=t;e[l]?e[l].children=e[l].children.concat(t):e[l]={name:l,tooltip:n,children:[t]}}),Object.values(e).map(e=>{let{name:t,tooltip:l,children:n}=e;return{name:t,tooltip:l,children:n.map(e=>{let{text:t,reason_type_id:l,sub_reason_list:n=[],toast:a}=e;return{label:t,value:l,children:n.map(e=>({label:e.text,value:e.reason_type_id})),extra:a}})}})},[r]);return(0,u.useEffect)(()=>{switch(!0){case(null==o?void 0:o.value)===void 0:case(null==o?void 0:o.value)===18&&!(null==j?void 0:j.length):case(null==o?void 0:o.value)===18&&!h:case(null==j?void 0:j.includes(1))&&!m:s({verified:!1});break;default:s({reasonData:o,subReasonData:c,desc:h,info:m,images:g,codes:j,verified:!0})}},[o,c,h,m,g,j,s]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:e$.titleBar,children:[(0,d.jsx)(ti,{}),(0,d.jsx)("div",{className:e$.title,children:"ÊÇ®ÁöÑ‰∏æÊä•Êàë‰ª¨Â∞ÜÂ∞ΩÂø´ÂèóÁêÜÔºåÊ†∏ÂÆûÂêéÊàë‰ª¨Â∞ÜÁ¨¨‰∏ÄÊó∂Èó¥ÂëäÁü•ÂèóÁêÜÁªìÊûúÔºåËØ∑Â∞ΩÈáèÊèê‰∫§ÂÆåÊï¥ÁöÑ‰∏æÊä•ÊèèËø∞ÂèäÊùêÊñô„ÄÇ"})]}),(0,d.jsx)(ev,{text:"‰∏æÊä•ÂéüÂõ†",required:!0}),(0,d.jsx)(to,{dataList:w,onChange:e=>{e.value!==(null==o?void 0:o.value)&&(setTimeout(()=>{var t,l,n,a;(null==e?void 0:e.value)===18?null===(l=y.current)||void 0===l||null===(t=l.scrollIntoView)||void 0===t||t.call(l,{behavior:"smooth",block:"nearest"}):null===(a=C.current)||void 0===a||null===(n=a.scrollIntoView)||void 0===n||n.call(a,{behavior:"smooth",block:"nearest"})},0),v(void 0),b(void 0),i(e))},value:o}),(null==o?void 0:o.value)!==18&&(null==o?void 0:null===(t=o.children)||void 0===t?void 0:t.length)>0&&(0,d.jsxs)("div",{ref:C,children:[(0,d.jsx)(ev,{text:"ËØ∑ÈÄâÊã©ÂÖ∑‰ΩìÁöÑ‰∏æÊä•Á±ªÂûãÔºàÈÄâÂ°´Ôºâ"}),(0,d.jsx)(ts,{dataList:null==o?void 0:o.children,onChange:v,value:c})]}),(null==o?void 0:o.value)===18&&(null==o?void 0:null===(l=o.children)||void 0===l?void 0:l.length)>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:e$.divider}),(0,d.jsxs)("div",{className:e$.description,ref:y,children:["ÊùÉÂà©‰∫∫ËØ∑ÈÄöËøáÂπøÂëäÊäïËØâÂπ≥Âè∞",(0,d.jsxs)("a",{className:e$.link,href:"http://phoniex.toutiao.com/phoniex/index",target:"_blank",rel:"noreferrer",children:[" ","http://phoniex.toutiao.com/phoniex/index"," "]}),"ËøõË°åÊäïËØâÔºåÂêåÊó∂‰∏ä‰º†ÂÖ∑‰ΩìÊùêÊñôÔºàÊé„ÄÅ‰æµÊùÉÂÜÖÂÆπÂèäÊùÉÂà©ËØÅÊòjsx)(ev,{text:"‰∏æÊä•Á±ªÂûãÔºàÂ§öÈÄâÔºâ",required:(null==o?void 0:o.value)===18}),(0,d.jsx)(e1,{optionList:null==o?void 0:o.children,value:j,onChange:b}),(0,d.jsx)(ev,{text:(null==j?void 0:null===(n=j.includes)||void 0===n?void 0:n.call(j,1))?"Âø°ÊÅØ":"Âéü‰ΩúËÄÖ‰ø°ÊÅØÔºàÈÄâÂ°´Ôºâ",required:null==j?void 0:null===(a=j.includes)||void 0===a?void 0:a.call(j,1)}),(0,d.jsx)(e2,{placeholder:"ÂéüÂàõ‰ΩúËÄÖÊäñÈü≥ÂêçÁß∞„ÄÅ‰ΩúÂìÅÈìæÊé•ÊàñÂÖ∂‰ªñ‰ø°ÊÅØ",value:m,onChange:f})]}),(0,d.jsx)(ev,{text:(null==o?void 0:o.value)===18?"‰∏æÊä•ÊèèËø∞":"‰∏æÊä•ÊèèËø∞ÔºàÈÄâÂ°´Ôºâ",required:(null==o?void 0:o.value)===18}),(0,d.jsx)(ej,{maxLength:200,placeholder:"ËØ∑ËØ¶ÁªÜÊèèËø∞‰∏æÊä•ÂéüÂõ†Ôºå‰æø‰∫éÂπ≥Âè∞Âà§Êñ≠ËøùËßÑÊÉÖÂÜµ",minHeight:75,value:h,onChange:p}),(0,d.jsxs)("adContainer,children:[(0,d.jsx)(ek,{value:g,onChange:x}),(0,d.jsx)("div",{className:e$.uploadTips,children:"ÊØèÂº†Â∞è‰∫é 10MÔºåÊîØÊåÅJPG„ÄÅPNGÊ†ºÂºèÔºåÊúÄÂ§ö‰∏ä‰º†4Âº†"})]})]})};var tu=e=>{let{title:t,onClose:l,portalRef:n,toastParent:a,extraInfo:r}=e,[s,o]=(0,u.useState)(!0),[i,v]=u.useState(e$.zoomIn),[p,m]=(0,u.useState)(),[f,g]=(0,u.useState)(),x=u.useCallback(()=>{v(e$.zoomOut),setTimeout(()=>{o(!1),c.unmountComponentAtNode(n),n.remove(),null==l||l()},300)},[l]);(0,u.useEffect)(()=>()=>{h.Le.setConfig(h.gI.IsAlreadyExsitReportModal,!1)},[]),(0,u.useEffect)(()=>{let e=eK.listen(eK.EVENT.hideModal,x);return()=>{null==e||e()}},[x]);let j=(0,u.useCallback)(e=>{H.info(e,a)},[a]),b=async()=>{let{user_id:e,log_extra:t,creative_id:l}=r,{reasonData:n,subReasonData:a,desc:s,info:o,images:i=[],codes:d=[]}=f,u={creative_id:l,log_extra:t,data:{user_id:e,report_type_id:n.value,report_type_name:n.label,report_pictures:i.map(e=>e.Uri).toString(),report_description:s,sub_reason_id:18===n.value?void 0:null==a?void 0:a.value,sub_reason_name:18===n.value?void 0:null==a?void 0:a.label,report_author_info:18===n.value?o:void 0,report_right_type:18===n.value?d.toString():void 0}};(0,e9.GA)(u).then(e=>{0===e.code?(j("Êìç‰ΩúÊàêÂäüÔºåÂ∞Ü‰∏•Ê†ºÂÆ°Êü•ÂπøÂëäÂÜÖÂÆπ"),x()):j("ÊúçÂä°Âô®ÊâìÁûåÁù°‰∫ÜÔºåËØ∑Á®çÂêéÂÜçËØï")}).catch(()=>j("ÊúçÂä°Âô®ÊâìÁûåÁù°‰∫ÜÔºåËØ∑Á®çÂêéÂÜçËØï"))};return(0,eW.O)({onChange:e=>{let{isFullscreen:t}=e;t&&x()}}),(0,u.useEffect)(()=>{(0,e9.iL)().then(e=>{eI(null==r?void 0:r.user_id),m(e.data)}).catch(()=>j("ÊúçÂä°Âô®ÊâìÁûåÁù°‰∫ÜÔºåËØ∑Á®çÂêéÂÜçËØï"))},[]),(0,d.jsx)(ed,{title:t,visible:s,className:i,onCancel:x,footer:(0,d.jsx)(eu,{className:e$.submit,onClick:b,disabled:!(null==f?voiied),children:"Êèê‰∫§"}),children:p?(0,d.jsx)(td,{dataSource:p,onChange:g}):(0,d.jsx)(e6,{text:"Âä†ËΩΩ‰∏≠"})})};let tc=(e,t)=>{if(!(0,v.p)()&&h.Le.getConfig(h.gI.IsAlreadyExsitReportModal))return;let{loginDispatch:l,userInfo:n}=e;if((null==n?void 0:n.uid)||e.user_id||(null==e?void 0:e.isLive)||(null==e?void 0:e.isOrigin))(null==n?void 0:n.uid)&&(e.user_id=null==n?void 0:n.uid),tv(e,t);else{var a;(null===(a=window)||void 0===a?void 0:a.showAccount)&&window.showAccount({enterMethod:"report",success:n=>{l({type:"updateUserInfo"}),e.user_id=null==n?void 0:n.user_id,tv(e,t)}})}},tv=(e,t)=>{var l,n,a;if("object"!=typeof e)return;let r=()=>{h.Le.setConfig(h.gI.IsAlreadyExsitReportModal,!1),"function"==typeof e.onClose&&e.onClose()},s=document.createElement("div"),o=document.getElementById("root");if(t)o=t,null==t||t.appendChild(s);else{let e=document.getElementById("slideMode")||document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||document.getElementsByClassName("isCssFullScreen")[0]||document.fullscreenElement,t=document.querySelector(".modal-video-container");if((null===(l=h.Le.getConfig(h.gI.IsPageFullScreen))||void 0===l?void 0:l.type)||e)e&&(o=e),o.appendChild(s);else if(t)o=t,t.appendChild(s);else{let e=document.getElementById("root");null==e||e.appendChild(s)}}if(e.isOrigin)h.Le.setConfig(h.gI.IsAlreadyExsitReportModal,!0),null==e||null===(n=e.onShow)||void 0===n||n.call(e),c.render((0,d.jsx)(et,{toastParent:o,portalRef:s,title:e.title,type:e.type,object_id:e.object_id,logParams:e.logParams,onClose:r,onLiveReport:e.onLiveReport||(()=>void 0),toast:null==e?void 0:e.toast}),s);else{let{title:t,logParams:l,pipeline_id:n,object_id:i,owner_id:u,user_id:v,comment_with_emoji:p=0,enter_from:m,con_short_id:f,video_id:g,onReport:x,toast:j,owner_sec_id:b}=e;h.Le.setConfig(h.gI.IsAlreadyExsitReportModal,!0),null==e||null===(a=e.onShow)||void 0===a||a.call(e),c.render((0,d.jsx)(eQ,{toastParent:o,portalRef:s,title:t,onClose:r,logParams:l,pipelineId:n,dataSource:{object_id:i,owner_id:u,user_id:v,comment_with_emoji:p,enter_from:m,con_short_id:f,video_id:g,owner_sec_id:b},onReport:x,toast:j}),s)}},th=(e,t)=>{if(!(0,v.p)()&&h.Le.getConfig(h.gI.IsAlreadyExsitReportModal))return;let{loginDispatch:l,user_id:n}=e;if(n)tp(e,t);else{var a;(null===(a=window)||void 0===a?void 0:a.showAccount)&&window.showAccount({enterMethod:"report",success:n=>{var a;l({type:"updateUserInfo"}),null==e||null===(a=e.onLoginSuccess)||void 0===a||a.call(e),e.user_id=null==n?void 0:n.user_id,tp(e,t)}})}},tp=(e,t)=>{let{creative_id:l,log_extra:n,user_id:a,title:r,onClose:s,onShow:o}=e,i=document.createElement("div"),u=document.getElementById("root");if(t)u=t,null==t||t.appendChild(i);else{var v;let e=document.getElementById("slideMode")||document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||document.getElementsByClassName("isCssFullScreen")[0],t=document.querySelector(".modal-video-container");if((null===(v=h.Le.getConfig(h.gI.IsPageFullScreen))||void 0===v?void 0:v.type)||e)e&&(u=e),u.appendChild(i);else if(t)u=t,t.appendChild(i);else{let e=document.getElementById("root");null==e||e.appendChild(i)}}h.Le.setConfig(h.gI.IsAlreadyExsitReportModal,!0),null==o||o(),c.render((0,d.jsx)(tu,{toastParent:u,portalRef:i,title:r,onClose:()=>{h.Le.setConfig(h.gI.IsAlreadyExsitReportModal,!1),"function"==typeof s&&s()},extraInfo:{creative_id:l,log_extra:n,user_id:a}}),i)}}}]);