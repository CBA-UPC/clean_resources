(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{2084:function(e,t,a){"use strict";a.r(t);var r=a(7),o=a.n(r),r=a(23),i=a.n(r),r=a(2),n=a.n(r),s=a(40),u=a(124),r=a(85),d=a(997),r={name:"AgencyRealtorViewWrapper",mixins:[r.a,d.a],serverPrefetch:function(){return 200!==this.serverStatus?i.a.resolve({}):this.fetchData()},components:{agencyRealtorView:errorPage:,watch:{queryParamsCollection:"fetchData"},data:computed:{data:function(){return n()(this.$store.getters[this.viewType+"/viewData"],this.viewType,{})},view:refetchData:function(){return!o()(this.data).length||+this.data.id!=+this.entityId},isHiddenPage:serverStatus:function(){return this.$store.state.serverStatus},viewType:queryParamsCollection:function(){return this.entityId+"|"+this.$route.params.type},isBank:function(){return"bank"===this.$route.params.type},isRealtor:entityId:employeesParams:function(){return{agency_id:this.isRealtor?null:this.entityId,realtor_id:this.isRealtor?this.entityId:null,exclude_user_id:this.isRealtor?this.entityId:null,limit:3}}},methods:{fetchEmployees:fetchData:function(){var a=this,e=(this.loading=!0,this.$route),t=this.isRealtor?u.g:s.t,t=[t(this.entityId,{userId:this.$store.getters.userId||0,isBank:this.isBank,langId:e.meta.langId,category:n()(e.query,"category",0),operation:n()(e.query,"operation",0),show:e.fullPath.match("show")?1:0,with_realty:1})];return t.push(Object(s.q)(this.employeesParams)),i.a.all(t).then(function(e){var t=n()(e,"[0].data",null),e=n()(e,"[1].data",{});if(t&&t.redirectUrl)return i.a.reject({url:t.redirectUrl,statusCode:t.statusCode||302});a.$store.dispatch(a.viewType+"/setViewData",t||{status:404}),a.$store.dispatch(a.viewType+"/setEmployees",e)},function(e){console.log("fetchData err",e),a.$store.dispatch("setServerStatus",404),i.a.reject({code:404})}).finally(}},mounted:function(){this.setUtmCookie(window.location.search),this.refetchData&&this.fetchData()}},d=a(4),d=Object(d.a)(r,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t(e.view,{tag:"component",class:e.viewType,attrs:{isHidden:e.isHiddenPage,loading:e.loading}})},[],!1,null,null,null);t.default=d.exports},997:function(e,t,a){"use strict";var r=a(21),i=a.n(r),r=a(17),n=a.n(r),r=a(35),s=a.n(r),r=a(23),u=a.n(r),r=a(998),d=a.n(r),o=a(12),m=[{id:4,reg:[".*dom.ria.com(/uk|/ru)?/$"]},{id:4,reg:["^/$"]},{id:5,reg:[".*dom.ria.com(/uk|/ru)?/search/.*"]},{id:27,reg:[".*/map.*"]},{id:6,reg:[".*/?page=\\d+"]},{id:7,reg:[".*/prodazha-.*",".*/arenda-.*",".*/posutochnaia-arenda-.*",".*/nedvizhimost.*"]},{id:8,reg:[".*/realty-.*"]},{id:10,reg:[".*/realtors/.*"]},{id:11,reg:[".*/realtor-.*"]},{id:12,reg:[".*/agency-.*"]},{id:13,reg:[".*/agencies/.*"]},{id:14,reg:[".*/bank-.*"]},{id:15,reg:[".*/banks/.*"]},{id:16,reg:[".*/articles/.*"]},{id:23,reg:[".*novostroyk.*"]},{id:24,reg:[".*/notepad/.*"]},{id:25,reg:[".*/karta/.*"]},{id:4,reg:["^/uk/$"]}],c=[{id:10,reg:[".*flatfy.*"]},{id:11,reg:[".*google.*"]},{id:13,reg:[".*(agid|usid)(o|f)=.*"]},{id:14,reg:[".*realty.join.ua.*",".*dom.tochka.net.*",".*dom.memax.com.ua.*",".*dom.1info.net.*",".*domria.remarka.net.ua.*",".*realty.ua-today.com.*",".*dom.alter-idea.info.*",".*domik.kontrakty.ua.*",".*realestate.lbc.com.ua.*",".*dom.vesti-ua.net.*",".*dom.infoportal.pp.ua.*",".*realty.bizinform.net.*",".*dom.molbuk.ua.*",".*domria.elit.ck.ua.*",".*dim.lvivport.com.*",".*dim.radyvyliv.net.*",".*dom.ogo.ua.*",".*dom.kupuy.com.*","      .*dom.dubno.in.ua.*",".*dom.izmail.es.*",".*dom.odessa-life.od.ua.*",".*neruhomistj-u-lvovi.lvivposter.com.*",".*nedvigimost.vsetke.com.*",".*dom.mistoinfo.com.*",".*dom.e-city.com.ua.*",".*estate.codo.dn.ua.*",".*dom.azovie.info.*",".*dom.dzerghinsk.org.*",".*nedvizhimost.cherkasy.net.*",".*dom.zhzh.info.*",".*property.kalushfm.com.ua.*",".*dom.balta.in.ua.*",".*housesale.vholos.info.*",".*dom.pv-gazeta.dp.ua.*",".*dom.varash.rv.ua.*",".*dom.abcportal.com.*",".*dom.bizua.com.ua.*",".*dom.a.ua.*",".*auto.7ya.info.*",".*dom.randevucity.net.*",".*domik.broadband.org.ua.*",".*dom.mpshina.com.*",".*dom.ifoto.name.*",".*hata.shukalka.com.ua.*",".*dom.ria.pp.ua.*",".*dom.bazzar.com.ua.*",".*dom.marshrutka.com.ua.*",".*dom.servisdosok.com.ua.*",".*metr.mega.ua.*",".*ria.housing.com.ua.*",".*realty.profidom.com.ua.*",".*dom.komandirovka.in.ua.*",".*dom.prostobud.com.ua.*",".*dom.atlaskvartir.ua.*",".*kvartiry.ria.pp.ua.*",".*dom.rasp.dp.ua.*",".*dom.ptakiev.info.*",".*dom.rasp.odessa.ua.*",".*dom.rasp.kh.ua.*",".*dom.raspkr.dp.ua.*",".*dom.rasp.odessa.ua.*",".*dom.rasp.kh.ua.*",".*dom.raspkr.dp.ua.*",".*dim.me3.com.ua.*",".*dom.modista.org.ua.*",".*dom.informat.com.ua.*",".*dom.gorlovka.ua.*",".*dom.azovie.com.*",".*dim-kremenets.pp.ua.*",".*dom.uaport.info.*",".*dom.yum.in.ua.*",".*nedvizhimost.mitula.com.ua.*",".*dom.molbuk.ua.*",".*ua.trovit.com.*",".*dom.tgorlovka.com.*",".*novaxata.com.ua.*",".*informetr.com.*",".*metr.novosti.ua.*"]},{id:15,reg:[".*facebook.com.*"]},{id:16,reg:[".*t.co.*"]},{id:17,reg:[".*instagram.*"]},{id:18,reg:[".*telegram.*"]}],l=[{id:19,reg:[".*utm_source=(mail|alert|web_push|app_push|viber|sms).*"]}],h="refferalId";t.a={methods:{getReferrerId:function(r,t){var o=this,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return new u.a(function(e){var a=0;d()(t,function(e){var t=e.id,e=e.reg;return d()(e,function(e){e=new RegExp(e);if(r&&r.match(e)&&!a)return a=t,!0}),!1}),4===a&&1===Number(o.$cookie.get("isFeedReferrer"))&&(a=20),27===a&&(1===Number(o.$cookie.get("isMapReferrer"))?a=30:r.match(".*type=search*")&&o.$root.isMobile&&i&&(a=28)),e(a)})},saveReferrerId:function(e,t){var a,r;e&&(a=new Date((new Date).getTime()+2592e6),t===h&&+this.$cookie.get("duplicateRefferalId")?(r=+this.$cookie.get("duplicateRefferalId"),this.$setCookies({name:t,value:r,daysOrOptions:{path:"/",expires:a},gdprType:o.FUNCTIONAL_GDPR})):t===h&&+this.$cookie.get("duplicateClickRefferalId")?(r=+this.$cookie.get("duplicateClickRefferalId"),this.$setCookies({name:t,value:r,daysOrOptions:{path:"/",expires:a},gdprType:o.FUNCTIONAL_GDPR})):this.$setCookies({name:t,value:e,daysOrOptions:{path:"/",expires:a},gdprType:o.FUNCTIONAL_GDPR}))},setupReferrerId:function(){var o=this;return s()(i.a.mark(function e(){var t,a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.all([o.getReferrerId(o.$previousUrlPath,m,!0),o.getReferrerId(o.$previousUrlPath,c),o.getReferrerId(o.$route.fullPath,l)]);case 2:r=e.sent,r=n()(r,3),t=r[0],a=r[1],r=r[2],o.saveReferrerId(t,h),o.saveReferrerId(a||r,"referrerId");case 9:case"end":return e.stop()}},e,o)}))()}},mounted:},998:999:function(e,t,a){var i=a(185);e.exports=function(e,r){var o;return i(e,,!!o}}}]);