import{w as _,aQ as S,H as N,k as O,aN as h}from"./index_31ad23dc_r24-02-0_b0_t240129-161140.js";const T=({tagName:e,id:n,attributes:o,onLoad:r,onError:i,innerHTML:a})=>{if(_()){if(!n||!document.getElementById(n)){const t=document.createElement(e);return Object.entries({id:n,...o}).forEach(([s,c])=>{typeof c=="string"&&t.setAttribute(s,c)}),a&&(t.innerHTML=a),r&&t.addEventListener("load",r),i&&t.addEventListener("error",i),document.body.appendChild(t),t}return r&&r(),null}},f=({formData:e={},location:n="",useGetMethod:o=!1})=>{if(o)window.location.href=n;else{const r=Object.entries(e).reduce((a,[t,s])=>`${a}<input type="hidden" name="${t}", value="${s||""}" />`,"");T({tagName:"form",innerHTML:r,attributes:{method:"POST",enctype:"application/x-www-form-urlencoded",action:n}}).submit()}},R=/^http/,b=["klarna","klarna_account","klarna_paynow","ideal"],d=e=>e?R.test(e)?e:window.location.origin+e:null,U=({location:e,paymentData:n,paymentMethod:o,country:r,locale:i,guid:a,token:t,formData:s,failureUrl:c,successUrl:m,invalidAddressUrl:u,dfValue:E,cancelUrl:p=window.location.href})=>{const g=b.includes(String(o).toLowerCase()),l={paymentData:n,paymentMethod:o,country:r,locale:i,guid:a,token:t,dfValue:E,invalidAddressUrl:d(u),failureUrl:d(c),successUrl:d(m),cancelUrl:d(p),brand:O()};if(S){const w=encodeURIComponent(JSON.stringify({location:e,storageData:l,formData:s}));f({formData:{encodedPayload:w},location:h})}else N.setItem("pass-through",JSON.stringify(l)),f({formData:s,location:e,useGetMethod:g})};export{T as c,U as r};
