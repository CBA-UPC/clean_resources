(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[58],{192:function(e,t,r){window,e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=282)}([function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"j",(function(){return n})),r.d(t,"E",(function(){return i})),r.d(t,"k",(function(){return m})),r.d(t,"p",(function(){return w.a})),r.d(t,"v",(function(){return y})),r.d(t,"t",(function(){return _})),r.d(t,"u",(function(){return x})),r.d(t,"b",(function(){return T.a})),r.d(t,"r",(function(){return T.i})),r.d(t,"H",(function(){return T.j})),r.d(t,"m",(function(){return T.h})),r.d(t,"i",(function(){return T.g})),r.d(t,"e",(function(){return T.c})),r.d(t,"h",(function(){return T.f})),r.d(t,"f",(function(){return T.d})),r.d(t,"g",(function(){return T.e})),r.d(t,"d",(function(){return T.b})),r.d(t,"c",(function(){return C.a})),r.d(t,"D",(function(){return C.b})),r.d(t,"G",(function(){return C.c})),r.d(t,"q",(function(){return k.b})),r.d(t,"s",(function(){return k.c})),r.d(t,"F",(function(){return k.k})),r.d(t,"w",(function(){return k.d})),r.d(t,"C",(function(){return k.j})),r.d(t,"A",(function(){return k.h})),r.d(t,"z",(function(){return k.g})),r.d(t,"B",(function(){return k.i})),r.d(t,"x",(function(){return k.e})),r.d(t,"y",(function(){return k.f})),r.d(t,"J",(function(){return k.m})),r.d(t,"l",(function(){return k.a})),r.d(t,"o",(function(){return I.a})),r.d(t,"I",(function(){return I.b})),r.d(t,"n",(function(){return R.a})),r(431);var n,i,o=r(106),a=r(100),s=r(168),u=r(173),c=r(26),l=r(13),f=function(e){return"number"==typeof e||Object(l.a)(e)&&"[object Number]"==Object(c.a)(e)},d=r(1),h=r(5);!n||(n={})),function(e){e.Closed="closed",e.Welcome="welcome",e.Primary_Providers="primaryProviders",e.List_All_Providers="allProviders",e.Provider_Not_Found="providerNotFound",e.Provider_Dark_Phased="providerDarkPhased",e.Provider_Remembered="providerRemembered",e.Provider_Login="providerLogin",e.Provider_Login_Error="providerLoginError",e.Provider_Login_Success="providerLoginSuccess"}(i||(i={}));var p=r(49),v=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))};const g=p.a.getLogger("Auth").filter("auth");class b{constructor(e,t,r,i){this._authEngine=e,this._configService=t,this._freePreviewService=r,this._stateHandler=i,this.events=function(e){return Object(h.createEventCollection)(function(e){return{[n.PresentPicker]:Object(h.createEvent)(n.PresentPicker,e),[n.PresentLoginView]:Object(h.createEvent)(n.PresentLoginView,e),[n.PresentRegCode]:Object(h.createEvent)(n.PresentRegCode,e),[n.AuthNStatus]:Object(h.createEvent)(n.AuthNStatus,e),[n.PrepareRequested]:Object(h.createEvent)(n.PrepareRequested,e),[n.PrepareSuccess]:Object(h.createEvent)(n.PrepareSuccess,e),[n.PrepareError]:Object(h.createEvent)(n.PrepareError,e),[n.FetchContextRequested]:Object(h.createEvent)(n.FetchContextRequested,e),[n.FetchContextSuccess]:Object(h.createEvent)(n.FetchContextSuccess,e),[n.FetchContextError]:Object(h.createEvent)(n.FetchContextError,e),[n.FreePreviewRequested]:Object(h.createEvent)(n.FreePreviewRequested,e),[n.FreePreviewSuccess]:Object(h.createEvent)(n.FreePreviewSuccess,e),[n.FreePreviewError]:Object(h.createEvent)(n.FreePreviewError,e),[n.LoginRequested]:Object(h.createEvent)(n.LoginRequested,e),[n.LoginSuccess]:Object(h.createEvent)(n.LoginSuccess,e),[n.LoginError]:Object(h.createEvent)(n.LoginError,e),[n.AuthorizeRequested]:Object(h.createEvent)(n.AuthorizeRequested,e),[n.AuthorizeSuccess]:Object(h.createEvent)(n.AuthorizeSuccess,e),[n.AuthorizeError]:Object(h.createEvent)(n.AuthorizeError,e),[n.PreauthorizeRequested]:Object(h.createEvent)(n.PreauthorizeRequested,e),[n.PreauthorizeSuccess]:Object(h.createEvent)(n.PreauthorizeSuccess,e),[n.PreauthorizeError]:Object(h.createEvent)(n.PreauthorizeError,e),[n.LogoutRequested]:Object(h.createEvent)(n.LogoutRequested,e),[n.LogoutSuccess]:Object(h.createEvent)(n.LogoutSuccess,e),[n.LogoutError]:Object(h.createEvent)(n.LogoutError,e),[n.FetchMetadataRequested]:Object(h.createEvent)(n.FetchMetadataRequested,e),[n.FetchMetadataSuccess]:Object(h.createEvent)(n.FetchMetadataSuccess,e),[n.FetchMetadataError]:Object(h.createEvent)(n.FetchMetadataError,e),[n.FetchUserMetadataRequested]:Object(h.createEvent)(n.FetchUserMetadataRequested,e),[n.FetchUserMetadataSuccess]:Object(h.createEvent)(n.FetchUserMetadataSuccess,e),[n.FetchUserMetadataError]:Object(h.createEvent)(n.FetchUserMetadataError,e),[n.SelectProviderRequested]:Object(h.createEvent)(n.SelectProviderRequested,e),[n.SelectProviderSuccess]:Object(h.createEvent)(n.SelectProviderSuccess,e),[n.SelectProviderError]:Object(h.createEvent)(n.SelectProviderError,e),[n.CheckPermissionRequested]:Object(h.createEvent)(n.CheckPermissionRequested,e),[n.CheckPermissionSuccess]:Object(h.createEvent)(n.CheckPermissionSuccess,e),[n.CheckPermissionError]:Object(h.createEvent)(n.CheckPermissionError,e),[n.PickerHelpRequested]:Object(h.createEvent)(n.PickerHelpRequested,e),[n.PickerViewStateChanged]:Object(h.createEvent)(n.PickerViewStateChanged,e),[n.PickerRegistrationCodePresented]:Object(h.createEvent)(n.PickerRegistrationCodePresented,e),[n.PickerRegistrationCodeDismissed]:Object(h.createEvent)(n.PickerRegistrationCodeDismissed,e),[n.SSOPickerPresented]:Object(h.createEvent)(n.SSOPickerPresented,e),[n.SSOPickerDismissed]:Object(h.createEvent)(n.SSOPickerDismissed,e)}}(e),e)}(this),this._authConfig=e.authConfig,this._stateHandler.init(this.events)}buildImageURL(e){return this._configService.buildImageURLString(e)}checkIfAuthenticated(){return v(this,void 0,void 0,(function*(){try{return(yield this._fetchAuthContext()).isAuthenticated()}catch(e){return!1}}))}prepare(){return v(this,void 0,void 0,(function*(){this._stateHandler.handlePrepareRequested(this._authConfig);try{yield this._configService.fetchMVPDConfig(this._authConfig.mvpdConfigURL,this._authConfig.platform,this._authConfig.serviceAppId);try{const e=this._authEngine.setRequestor();this._stateHandler.handleAuthEnginePrepareRequested(),yield e}catch(e){const t=e instanceof Error?e.message:"Failed to set requestor during prepare()",r=(new d.a).withMessage(t).withCategory(d.b.Initialization).withDomain(d.c.Nexus).withNumeral(d.d.AdobeSetRequestorFailure).withRecoverySuggestion("Verify the brand/environment/softwareStatement provided in the AuthConfiguration and/or URL Scheme in Info.plist").withSeverity(d.f.Fatal).build();return g.error("prepare() error: "+JSON.stringify(r)),Promise.reject(r)}finally{this._stateHandler.handleAuthEnginePrepareCompleted()}const e=yield this._fetchAuthContext();return this._stateHandler.handlePrepareSuccess(e),e}catch(e){const t=e instanceof Error?(new d.a).withMessage(String(e)).withCategory(d.b.Initialization).withDomain(d.c.Runtime).withNumeral(d.d.AdobeInitializationFailure).build():e;return this._stateHandler.handlePrepareError(t),g.error("prepare() error: "+JSON.stringify(t)),Promise.reject(t)}}))}fetchAuthContext(){return v(this,void 0,void 0,(function*(){return this._stateHandler.handleFetchContextRequested(),this._fetchAuthContext().then(e=>(this._stateHandler.handleFetchContextSuccess(e),e),e=>(this._stateHandler.handleFetchContextError(e),Promise.reject(e)))}))}_fetchAuthContext(){return v(this,void 0,void 0,(function*(){if(this._authEngine.isInAuthenticationFlow&&this._cachedContext)return g.verbose("Resolving with cached context: "+JSON.stringify(this._cachedContext)),Promise.resolve(this._cachedContext);g.verbose("Fetching new Context");const e=new o.a;try{const{isAuthenticated:t}=yield this._authEngine.checkAuthenticatedStatus();if(t){let t;try{({provider:t}=yield this._authEngine.getSelectedProvider())}catch(e){}t&&!this._configService.isTemppassProvider(t)&&e.withAuthenticatedProvider(t).withAuthenticatedState(a.a.Authenticated).withAdobeHashId(this._authEngine.cachedUserGuid)}const r=e.build();return this._cachedContext=r,r}catch(e){const t=e instanceof Error?(new d.a).withMessage(String(e)).withCategory(d.b.Authentication).withDomain(d.c.Adobe).withNumeral(d.d.AdobeAuthenticationFailure).build():e;return g.warn("fetchAuthContext() error: "+JSON.stringify(t)),Promise.reject(t)}}))}fetchFreePreviewToken(e){return v(this,void 0,void 0,(function*(){if(!e){const e=(new d.a).withMessage('TypeError: A valid FreePreviewConfiguration is required for "fetchFreePreviewToken"').withCategory(d.b.FreeView).withDomain(d.c.Runtime).withNumeral(d.d.TypeError).build();return g.warn("fetchFreePreviewToken() error: "+JSON.stringify(e)),Promise.reject(e)}if(yield this.checkIfAuthenticated()){const e=(new d.a).withMessage("FreePreview unavailable when authenticated").withCategory(d.b.FreeView).withDomain(d.c.Shared).withNumeral(d.d.FreeViewNotAllowed).withRecoverySuggestion("Log out of your provider").build();return g.warn("fetchFreePreviewToken() error: "+JSON.stringify(e)),Promise.reject(e)}try{return yield this._freePreviewService.fetchToken(e)}catch(e){return g.warn("fetchFreePreviewToken() error: "+JSON.stringify(e)),Promise.reject(e)}}))}login(e){return v(this,void 0,void 0,(function*(){return this._stateHandler.handleLoginRequested(this._cachedContext),this._login(e).then(e=>(this._stateHandler.handleLoginSuccess(e),e),e=>(this._stateHandler.handleLoginError(e),Promise.reject(e)))}))}_login(e){return v(this,void 0,void 0,(function*(){try{yield this._authEngine.authenticate(e);const t=yield this._fetchAuthContext();try{const{authenticatedProvider:e}=t;e&&this._configService.setRememberedProvider(e)}catch(e){}return t}catch(e){const t=e instanceof Error?(new d.a).withMessage(String(e)).withCategory(d.b.Authentication).withDomain(d.c.Target).withNumeral(d.d.AdobeAuthenticationFailure).build():e;return g.warn("Failed to complete login: "+JSON.stringify(t)),Promise.reject(t)}}))}authorize(e){return v(this,void 0,void 0,(function*(){return this._stateHandler.handleAuthorizeRequested(e),this._authorize(e).then(t=>(this._stateHandler.handleAuthorizeSuccess(e,t),t),t=>(this._stateHandler.handleAuthorizeError(e,t),Promise.reject(t)))}))}_authorize(e){return v(this,void 0,void 0,(function*(){if(!e){const e=(new d.a).withMessage('TypeError: A valid Content object is required for "authorize"').withCategory(d.b.Authorization).withDomain(d.c.Runtime).withNumeral(d.d.TypeError).build();return g.warn("authorize() error: "+JSON.stringify(e)),Promise.reject(e)}const t=Object(s.a)(e);if(!t){const e=(new d.a).withMessage('TypeError: A valid Content object is required for "authorize"').withCategory(d.b.Authorization).withDomain(d.c.Runtime).withNumeral(d.d.TypeError).withSubErrorMessage("Failed to convert the provided Content object into an Adobe resource ID / MRSS string").build();return g.warn("authorize() error: "+JSON.stringify(e)),Promise.reject(e)}if(!(yield this.checkIfAuthenticated())){const e=(new d.a).withMessage("Not Authenticated").withCategory(d.b.Authorization).withDomain(d.c.Shared).withNumeral(d.d.NotAuthenticated).withRecoverySuggestion("Log in to your provider").build();return g.warn("authorize() error: "+JSON.stringify(e)),Promise.reject(e)}try{const e=yield this._authEngine.authorize(t),{channel:r,token:n}=e;return{channel:r,token:n}}catch(e){return g.warn("Failed to authorize: "+JSON.stringify(e)),Promise.reject(e)}}))}preauthorize(e,t){return v(this,void 0,void 0,(function*(){const r=t||{disableLocalCache:!1,disableRemoteCache:!1};return this._stateHandler.handlePreauthorizeRequested(e,r),this._preauthorize(e,r).then(t=>(this._stateHandler.handlePreauthorizeSuccess(e,r,t),t),t=>(this._stateHandler.handlePreauthorizeError(e,r,t),Promise.reject(t)))}))}_preauthorize(e,t){return v(this,void 0,void 0,(function*(){if(!e||!e.length){const e=(new d.a).withMessage("TypeError: Preauthorize must be called with an array of Channels").withCategory(d.b.Preauthorization).withDomain(d.c.Runtime).withNumeral(d.d.TypeError).build();return g.warn("preauthorize() error: "+JSON.stringify(e)),Promise.reject(e)}if(!(yield this.checkIfAuthenticated())){const e=(new d.a).withMessage("Not Authenticated. Preauthorization requires authentication.").withCategory(d.b.Preauthorization).withDomain(d.c.Shared).withNumeral(d.d.NotAuthenticated).withRecoverySuggestion("Log in to your provider").build();return g.warn("preauthorize() error: "+JSON.stringify(e)),Promise.reject(e)}try{return yield this._authEngine.preauthorize(e,t)}catch(e){return g.warn("Failed to preauthorize: "+JSON.stringify(e)),Promise.reject(e)}}))}logout(){return v(this,void 0,void 0,(function*(){return this._stateHandler.handleLogoutRequested(this._cachedContext),this._logout().then(e=>(this._stateHandler.handleLogoutSuccess(e),e),e=>(this._stateHandler.handleLogoutError(e),Promise.reject(e)))}))}_logout(){var e,t;return v(this,void 0,void 0,(function*(){try{if(null===(t=0==(null===(e=this._cachedContext)||void 0===e?void 0:e.isAuthenticated()))||void 0===t||t)return(new o.a).build();const r=yield this._authEngine.logout();if(r.isAuthenticated){const e=(new d.a).withMessage("Logout Failed").withCategory(d.b.Authentication).withDomain(d.c.Adobe).withNumeral(d.d.AdobeLogoutFailure).withSubErrorMessage("Authentication status was not invalidated post-logout").build();return g.warn("logout() error: "+JSON.stringify(e)),Promise.reject(e)}if(r.shouldLogoutInSettings){const e=(new d.a).withMessage("User is still authenticated in system settings.").withCategory(d.b.Authentication).withDomain(d.c.Nexus).withNumeral(d.d.AuthenticatedInSystemSettings).build();return g.warn("logout() error: "+JSON.stringify(e)),Promise.reject(e)}const n=(new o.a).build();return this._cachedContext=n,Promise.resolve(n)}catch(e){return g.warn("Failed to logout: "+JSON.stringify(e)),Promise.reject(e)}}))}fetchMetadata(e,t){return v(this,void 0,void 0,(function*(){return this._stateHandler.handleFetchMetadataRequested(e),this._fetchMetadata(e,t).then(t=>(this._stateHandler.handleFetchMetadataSuccess(e,t),t),t=>(this._stateHandler.handleFetchMetadataError(e,t),Promise.reject(t)))}))}_fetchMetadata(e,t){return v(this,void 0,void 0,(function*(){if(!e){const e=(new d.a).withMessage('TypeError: A key is required for "fetchMetadata"').withCategory(d.b.Metadata).withDomain(d.c.Runtime).withNumeral(d.d.TypeError).build();return g.warn("fetchMetadata() error: "+JSON.stringify(e)),Promise.reject(e)}const r=yield this._authEngine.fetchMetadata(e,t),n=Object.assign({},r);return(null==n.args||Object(u.a)(n.args))&&delete n.args,f(n.encrypted)&&(n.encrypted=Boolean(n.encrypted)),n}))}fetchUserMetadata(e=[]){return v(this,void 0,void 0,(function*(){return this._stateHandler.handleFetchUserMetadataRequested(e),this._fetchUserMetadata(e).then(t=>(this._stateHandler.handleFetchUserMetadataSuccess(e,t),t),t=>(this._stateHandler.handleFetchUserMetadataError(e,t),Promise.reject(t)))}))}_fetchUserMetadata(e=[]){return v(this,void 0,void 0,(function*(){if(!(e&&Array.isArray(e)&&e.length)){const e=(new d.a).withMessage('TypeError: An array of MetadataKey values is required for "fetchUserMetadata"').withCategory(d.b.Metadata).withDomain(d.c.Runtime).withNumeral(d.d.TypeError).build();return g.warn("fetchUserMetadata() error: "+JSON.stringify(e)),Promise.reject(e)}if(!(yield this.checkIfAuthenticated())){const e=(new d.a).withMessage("Not Authenticated").withCategory(d.b.Authentication).withDomain(d.c.Adobe).withNumeral(d.d.NotAuthenticated).build();return g.warn("fetchUserMetadata() error: "+JSON.stringify(e)),Promise.reject(e)}g.verbose(`fetchUserMetadata keys: [${e.join(", ")}]`);const t=yield e.reduce((e,t)=>e.then(e=>this._fetchMetadata(t).then(t=>{if(t){const{key:r,value:n}=t;if(r){const t=null==n?"":n;e[r]=t}}return e})),Promise.resolve({}));return g.verbose("fetchUserMetadata collected user metadata: "+JSON.stringify(t)),{metadata:t}}))}didSelectProvider(e){return v(this,void 0,void 0,(function*(){return this._stateHandler.handleSelectProviderRequested(e),this._didSelectProvider(e).then(}))}ndleRedirectURL(e){return this._authEngine.handleRedirectURL(e)}checkPermission(){return this._stateHandler.handleCheckPermissionRequested(),this._checkPermission().then(}_checkPermission(){return this._authEngine.checkPermission()}dispatchPickerEvent(e){switch(e.type){case n.PickerHelpRequested:this._stateHandler.handlePickerHelpRequested(e);break;case n.PickerViewStateChanged:this._stateHandler.handlePickerViewStateChanged(e);break;case n.PickerRegistrationCodePresented:this._stateHandler.handlePickerRegistrationCodePresented(e);break;case n.PickerRegistrationCodeDismissed:this._stateHandler.handlePickerRegistrationCodeDismissed(e);break;case n.SSOPickerPresented:this._stateHandler.handleSSOPickerPresented(e);break;case n.SSOPickerDismissed:this._stateHandler.handleSSOPickerDismissed(e)}}class m{constructor(){this._events=null}init(e){this._events=e}dispose(){this._events=null}handlePresentPicker(e){var t;null===(t=this._events)||void 0===t||t.presentPicker.dispatch({configuration:e})}andlePresentRegCode(e){var t;null===(t=this._events)||void 0===t||t.presentRegCode.dispatch({configuration:e})}handleAuthNStatus(e){var t;null===(t=this._events)||void 0===t||t.authNStatus.dispatch({authStatus:e})}handleMPVDConfigRequested(){this._mvpdConfigRequestedTime=Date.now()}handleMVPDConfigReceived(){this._mvpdConfigReceivedTime=Date.now()}handleMVPDConfigError(e){this._mvpdConfigError=e}handleAuthEnginePrepareRequested(){this._authEnginePrepareStartTime=Date.now()}andlePrepareRequested(e){var t;this._authConfig=e,null===(t=this._events)||void 0===t||t.prepareRequested.dispatch({config:e})}handlePrepareSuccess(e){var t,r,n,i,o;const a=this._authConfig,s={startTime:null!==(t=this._mvpdConfigRequestedTime)&&void 0!==t?t:0,completeTime:null!==(r=this._mvpdConfigReceivedTime)&&void 0!==r?r:0},u={startTime:null!==(n=this._authEnginePrepareStartTime)&&void 0!==n?n:0,completeTime:null!==(i=this._authEnginePrepareCompleteTime)&&void 0!==i?i:0};null===(o=this._events)||void 0===o||o.prepareSuccess.dispatch({config:a,context:e,mvpdConfigPerformanceMetrics:s,authEnginePerformanceMetrics:u})}handlePrepareError(e){var t;const r=this._authConfig;null===(t=this._events)||void 0===t||t.prepareError.dispatch({config:r,error:e})}handleFetchContextRequested(e){var t;const r={type:n.FetchContextRequested,context:e};null===(t=this._events)||void 0===t||t.fetchContextRequested.dispatch(r)}handleFetchContextSuccess(e){var t;const r={type:n.FetchContextSuccess,context:e};null===(t=this._events)||void 0===t||t.fetchContextSuccess.dispatch(r)}handleFetchContextError(e){var t;const r={type:n.FetchContextError,error:e};null===(t=this._events)||void 0===t||t.fetchContextError.dispatch(r)}handleFreePreviewRequested(e){var t;const r={type:n.FreePreviewRequested,config:e};null===(t=this._events)||void 0===t||t.freePreviewRequested.dispatch(r)}handleFreePreviewSuccess(e,t){var r;const i={type:n.FreePreviewSuccess,config:e,result:t};null===(r=this._events)||void 0===r||r.freePreviewSuccess.dispatch(i)}handleFreePreviewError(e,t){var r;const i={type:n.FreePreviewError,config:e,error:t};null===(r=this._events)||void 0===r||r.freePreviewError.dispatch(i)}handleLoginRequested(e){var t;const r={type:n.LoginRequested,context:e};null===(t=this._events)||void 0===t||t.loginRequested.dispatch(r)}handleLoginSuccess(e){var t;const r={type:n.LoginSuccess,context:e};null===(t=this._events)||void 0===t||t.loginSuccess.dispatch(r)}handleLoginError(e){var t;const r={type:n.LoginError,error:e};null===(t=this._events)||void 0===t||t.loginError.dispatch(r)}handleAuthorizeRequested(e){var t;const r={type:n.AuthorizeRequested,content:e};null===(t=this._events)||void 0===t||t.authorizeRequested.dispatch(r)}handleAuthorizeSuccess(e,t){var r;const i={type:n.AuthorizeSuccess,content:e,result:t};null===(r=this._events)||void 0===r||r.authorizeSuccess.dispatch(i)}handleAuthorizeError(e,t){var r;const i={type:n.AuthorizeError,content:e,error:t};null===(r=this._events)||void 0===r||r.authorizeError.dispatch(i)}handlePreauthorizeRequested(e,t){var r;const i={type:n.PreauthorizeRequested,channels:e,options:t};null===(r=this._events)||void 0===r||r.preauthorizeRequested.dispatch(i)}handlePreauthorizeSuccess(e,t,r){var i;const o={type:n.PreauthorizeSuccess,channels:e,result:r,options:t};null===(i=this._events)||void 0===i||i.preauthorizeSuccess.dispatch(o)}handlePreauthorizeError(e,t,r){var i;const o={type:n.PreauthorizeError,channels:e,error:r,options:t};null===(i=this._events)||void 0===i||i.preauthorizeError.dispatch(o)}handleLogoutRequested(e){var t;const r={type:n.LogoutRequested,context:e};null===(t=this._events)||void 0===t||t.logoutRequested.dispatch(r)}handleLogoutSuccess(e){var t;const r={type:n.LogoutSuccess,context:e};null===(t=this._events)||void 0===t||t.logoutSuccess.dispatch(r)}handleLogoutError(e){var t;const r={type:n.LogoutError,error:e};null===(t=this._events)||void 0===t||t.logoutError.dispatch(r)}handleFetchMetadataRequested(e){var t;const r={type:n.FetchMetadataRequested,key:e};null===(t=this._events)||void 0===t||t.fetchMetadataRequested.dispatch(r)}handleFetchMetadataSuccess(e,t){var r;const i={type:n.FetchMetadataSuccess,key:e,result:t};null===(r=this._events)||void 0===r||r.fetchMetadataSuccess.dispatch(i)}handleFetchMetadataError(e,t){var r;const i={type:n.FetchMetadataError,key:e,error:t};null===(r=this._events)||void 0===r||r.fetchMetadataError.dispatch(i)}handleFetchUserMetadataRequested(e){var t;const r={type:n.FetchUserMetadataRequested,keys:e};null===(t=this._events)||void 0===t||t.fetchUserMetadataRequested.dispatch(r)}handleFetchUserMetadataSuccess(e,t){var r;const i={type:n.FetchUserMetadataSuccess,keys:e,result:t};null===(r=this._events)||void 0===r||r.fetchUserMetadataSuccess.dispatch(i)}handleFetchUserMetadataError(e,t){var r;const i={type:n.FetchUserMetadataError,keys:e,error:t};null===(r=this._events)||void 0===r||r.fetchUserMetadataError.dispatch(i)}handleSelectProviderRequested(e){var t;const r={type:n.SelectProviderRequested,provider:e};null===(t=this._events)||void 0===t||t.selectProviderRequested.dispatch(r)}handleSelectProviderSuccess(e,t){var r;const i={type:n.SelectProviderSuccess,provider:e,result:t};null===(r=this._events)||void 0===r||r.selectProviderSuccess.dispatch(i)}handleSelectProviderError(e,t){var r;const i={type:n.SelectProviderError,provider:e,error:t};null===(r=this._events)||void 0===r||r.selectProviderError.dispatch(i)}handleCheckPermissionRequested(){var e;const t={type:n.CheckPermissionRequested};null===(e=this._events)||void 0===e||e.checkPermissionRequested.dispatch(t)}handleCheckPermissionSuccess(e){var t;const{status:r}=e,i={type:n.CheckPermissionSuccess,status:r};null===(t=this._events)||void 0===t||t.checkPermissionSuccess.dispatch(i)}handleCheckPermissionError(e){var t;const r={type:n.CheckPermissionError,error:e};null===(t=this._events)||void 0===t||t.checkPermissionError.dispatch(r)}handlePickerHelpRequested(e){var t;null===(t=this._events)||void 0===t||t.pickerHelpRequested.dispatch(e)}handlePickerViewStateChanged(e){var t;null===(t=this._events)||void 0===t||t.pickerViewStateChanged.dispatch(e)}handlePickerRegistrationCodePresented(e){var t;null===(t=this._events)||void 0===t||t.pickerRegistrationCodePresented.dispatch(e)}handlePickerRegistrationCodeDismissed(e){var t;null===(t=this._events)||void 0===t||t.pickerRegistrationCodeDismissed.dispatch(e)}handleSSOPickerPresented(e){var t;null===(t=this._events)||void 0===t||t.ssoPickerPresented.dispatch(e)}handleSSOPickerDismissedvar y,_,w=r(273);!function(e){e.WallClock="wallclock"}(y||(y={})),function(e){e.StreamURL="streamUrl",e.MediaId="mediaId"}(_||(_={}));var O=r(25),S=r(169),j=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))};const E=p.a.getLogger("FreePreviewService").filter("services");class A extends d.a{constructor(){super(),this.withCategory(d.b.FreeView),this.withDomain(d.c.Shared)}}class x{etchToken(e){return j(this,void 0,void 0,(function*(){const{temppassProviderId:t}=e;try{const r=this._signInWithTemppass(t);if(this._stateHandler.handleFreePreviewRequested(e),(yield r).isAuthenticated){const t=yield this._fetchTemppassToken(e);return this._stateHandler.handleFreePreviewSuccess(e,t),t}throw(new A).withMessage("FreePreview Expired").withNumeral(d.d.FreeViewExpired).build()}catch(t){throw this._stateHandler.handleFreePreviewError(e,t),t}}))}_signInWithTemppass(e){return j(this,void 0,void 0,(function*(){const t=this._configService.getTemppassProvider(e);if(!t){const e=(new A).withMessage("No Temppass Provider found").withDomain(d.c.Shared).withNumeral(d.d.FreeViewMissingTempPassId).build();return Promise.reject(e)}return E.info(`Signing in with temppass provider "${e}"`),this._authEngine.setTemppassProvider(t)}))}_fetchTemppassToken(e){return j(this,void 0,void 0,(function*(){if(!e||!e.channel){const e=(new A).withMessage('TypeError: A valid FreePreviewConfiguration is required for "fetchTemppassToken"').withCategory(d.b.FreeView).withDomain(d.c.Runtime).withNumeral(d.d.TypeError).build();return Promise.reject(e)}try{const t=yield this._authEngine.authorize(e.channel),{channel:r,token:n}=t,i={channel:r,token:n,tokenType:y.WallClock},o=yield this._authEngine.fetchMetadata(S.a.AUTHORIZED_TTL,{channel:r});if(o){const{value:e}=o;f(e)?i.expiration=e:Object(O.a)(e)&&(i.expiration=P(e))}return i}catch(e){const t=e instanceof Error?(new d.a).withMessage(String(e)).withCategory(d.b.FreeView).withDomain(d.c.Runtime).withNumeral(d.d.FreeViewUnexpectedFailure).build():e;return Promise.reject(t)}}))}}const P=e=>{const t=e.match(/(\d{4})\/(\d\d)\/(\d\d) (\d\d):(\d\d):(\d\d)(?: \S+)? ([+-]?)(\d\d)(\d\d)/);if(t){const[e,r,n,i,o,a,s,u,c,l]=t;return Date.UTC(parseInt(r),parseInt(n)-1,parseInt(i),parseInt(o),parseInt(a),parseInt(s))+("-"===u?1:-1)*(60*parseInt(c)+parseInt(l))*6e4}return new Date(e).getTime()};var T=r(22),C=r(21),k=r(94),I=r(274),R=r(171)},function(e,t,r){"use strict";(function(e){r.d(t,"g",(function(){return i})),r.d(t,"f",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"e",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return c})),r.d(t,"a",(function(){return h}));const n=r(49).a.getLogger("AuthError").filter("auth"),i=e=>null!=e&&"object"==typeof e&&"code"in e&&"severity"in e&&"message"in e;var o,a,s,u,c,l;!function(e){e.Error="error",e.Warn="warn",e.Fatal="fatal"}(o||(o={})),a||(a={})),function(e){e.Unknown="00",e.Web="01",e.iOS="02",e.Android="03",e.ReactNative="04"}(s||(s={})),function(e){e.Unknown="UN",e.Target="TA",e.Shared="SH",e.NativeService="NS",e.Nexus="NX",e.Adobe="AE",e.Runtime="RT"}(u||(u={})),c||(c={}));class f{function(e){e.RecoverySuggestion="recoverySuggestion",e.SubErrorCode="subErrorCode",e.SubErrorMessage="subErrorMessage"}(l||(l={}));const d=(()=>{const t={web:s.Web,ios:s.iOS,android:s.Android,"react-native":s.ReactNative};let r=s.Unknown;try{e.NexusPlatform.getPlatformInfo().then(e=>{n.debug("nexusPlatformInfo: "+JSON.stringify(e));const{nexus:i}=e,{nexusTarget:o}=i,a=t[o];a?r=a:n.warn("Failed to determine AuthError Platform from Nexus platform, or an unknown platform")})}catch(e){n.warn("Failed to determine Nexus platform")}return()=>r})();class h{constructor(){this.message="Unknown error",this.severity=o.Warn,this.category=a.Unknown,this.platform=s.Unknown,this.domain=u.Unknown,this.numeral=c.Unspecified,this.platform=d()}withMessage(e){return this.message=e,this}withSeverity(e){return this.severity=e,this}withCategory(e){return this.category=e,this}withPlatform(e){return this.platform=e,this}withDomain(e){return this.domain=e,this}withNumeral(e){return this.numeral=e,this}withMetadatawithMetadataProperty(e,t){return null!=t?(this.metadata=this.metadata||{},this.metadata[e]=t):this.metadata&&e in this.metadata&&delete this.metadata[e],this}withRecoverySuggestion(e){return this._withMetadataProperty(l.RecoverySuggestion,e)}withSubErrorCode(e){return this._withMetadataProperty(l.SubErrorCode,e)}etErrorCode(){return new f(this.category,this.platform,this.domain,this.numeral).build()}build(){const{severity:e,message:t,metadata:r}=this,n={message:t,code:this.getErrorCode(),severity:e};return r&&(n.metadata=r),n}}}).call(this,r(95))},function(e,t,r){"use strict";r.d(t,"f",(function(){return u})),r.d(t,"h",(function(){return c})),r.d(t,"a",(function(){return l})),r.d(t,"k",(function(){return f})),r.d(t,"o",(function(){return d})),r.d(t,"e",(function(){return h})),r.d(t,"l",(function(){return p})),r.d(t,"c",(function(){return v})),r.d(t,"b",(function(){return g})),r.d(t,"g",(function(){return m})),r.d(t,"n",(function(){return y})),r.d(t,"q",(function(){return _})),r.d(t,"p",(function(){return w})),r.d(t,"d",(function(){return S})),r.d(t,"m",(function(){return j})),r.d(t,"j",(function(){return E})),r.d(t,"i",(function(){return A}));var n=r(47),i=r(27),o=r(25),a=(r(186),r(120));const s=e=>null===e?0:"number"==typeof e?e:parseInt(e,10);function u(e){return document.createElement(e)}function c(e){return document.getElementById(e)}function l(e,t=document){return Object(a.a)(t.querySelectorAll(e))}function f(e,t=document){return t.querySelector(e)}function d(e,t){const r="textContent"in e?"textContent":"innerText";return 1===arguments.length||void 0===t||(e[r]=t),e[r]}const h=(()=>{const e=t=>{if(t))return t;if(Object(o.a)(t)){const r=t.trim();if(r){const t=r.split(/\s+/);return e(t)}}return Array.isArray(t)?t.reduce({}):{}},t=r=([e,t])=>e;return(...n)=>{const i=n.reduce({});return Object.entries(i).filter(t).map(r).join(" ")}})(),p=e=>e.parentNode;function v(e,t,r){return void 0===r?e.getAttribute(t):null===r?e.removeAttribute(t):e.setAttribute(t,r)}const g=(e,t=document.body)=>t.appendChild(e);function b(e,t){if(t){const t=v(e,"data-prevDisplay");e.style.display=null==t?"block":t}else{const t=e.style.display;t&&"none"!==t&&v(e,"data-prevDisplay",t),e.style.display="none"}return e}const m=e=>b(e,!1),y=_=()=>Object(n.a)(window.innerWidth)?window.innerWidth:document.documentElement.clientWidth,w=()=>Object(n.a)(window.innerHeight)?window.innerHeight:document.documentElement.clientHeight;function O(e,t){return e&&t?"getComputedStyle"in window?window.getComputedStyle(e,null).getPropertyValue(t):"currentStyle"in e?e.currentStyle[t]:void 0:null}function S(e){const t=Object(o.a)(e)?c(e):e;if(!t)return;const r="fixed"===O(t,"position"),n=t.style;let i=0,a=0,u=0,l=0;const f=r?0:Math.max(window.pageXOffset||0,document.documentElement.scrollLeft||0,document.body.scrollLeft||0),d=r?0:Math.max(window.pageYOffset||0,document.documentElement.scrollTop||0,document.body.scrollTop||0),h=_(),p=w(),v=O(t,"width"),g=O(t,"height");i=s(v||("offsetWidth"in t?t.offsetWidth:n.width)),a=s(g||("offsetHeight"in t?t.offsetHeight:n.height)),u=f,l=d,h>i&&(u=f+(h-i)/2),p>a&&(l=d+(p-a)/2),n.top=Math.round(l)+"px",n.left=Math.round(u)+"px"}function j(e){for(;e.firstChild;)e.removeChild(e.firstChild);e.parentNode&&e.parentNode.removeChild(e)}const E=(e,t,r)=>e.addEventListener(t,r,!1),A=(e,t,r)=>e.removeEventListener(t,r,!1);new Promise(e=>{const t=document,r=window;unction i(){A(t,"DOMContentLoaded",i),A(r,"load",i),n()}/^(?:loaded|complete)$/.test(t.readyState)?n():(E(t,"DOMContentLoaded",i),E(r,"load",i))})},function(e,t,r){window,e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=69)}([function(e,t,r){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){"use strict";var n=r(54),i="object"==typeof self&&self&&self.Object===Object&&self,o=n.a||i||Function("return this")();t.a=o},function(e,t,r){"use strict";var n=r(6),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n.a?n.a.toStringTag:void 0,u=Object.prototype.toString,c=n.a?n.a.toStringTag:void 0;t.a=,function(e,t,r){"use strict";var n=r(3).a.Symbol;t.a=n},function(e,t,r){"use strict";var n,i=r(30),o=r(3).a["__core-js_shared__"],a=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",s=r(2),u=r(18),c=/^\[object .+?Constructor\]$/,l=Function.prototype,f=Object.prototype,d=l.toString,h=f.hasOwnProperty,p=RegExp("^"+d.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.a=,function(e,t,r){"use strict";var n=r(30),i=r(37);t.a=function(e){return null!=e&&Object(i.a)(e.length)&&!Object(n.default)(e)}},function(e,t,r){"use strict";var n=r(67),i=r(2),o=r(21),a=Object.prototype.hasOwnProperty,s=r(10);t.a=function(e){return Object(s.a)(e)?Object(n.a)(e,!0):e)}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(116)),n(r(119)),n(r(81)),n(r(120)),n(r(73)),n(r(124)),n(r(82)),n(r(125)),n(r(127)),n(r(74)),n(r(128))},function(e,t,r){"use strict";var n=/^(?:0|[1-9]\d*)$/;t.a=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){"use strict";var n=r(39),i=r(9),o=Object.prototype.hasOwnProperty;t.a=function(e,t,r){var a=e[t];o.call(e,t)&&Object(i.a)(a,r)&&(void 0!==r||t in e)||Object(n.a)(e,t,r)}},function(e,t,r){"use strict";var n=r(9),i=function(e,t){for(var r=e.length;r--;)if(Object(n.a)(e[r][0],t))return r;return-1},o=Array.prototype.splice;function a(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}a.prototype.clear=function(){this.__data__=[],this.size=0},a.prototype.delete=function(e){var t=this.__data__,r=i(t,e);return!(r<0||(r==t.length-1?t.pop():o.call(t,r,1),--this.size,0))},a.prototype.get=function(e){var t=this.__data__,r=i(t,e);return r<0?void 0:t[r][1]},a.prototype.has=function(e){return i(this.__data__,e)>-1},a.prototype.set=function(e,t){var r=this.__data__,n=i(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},t.a=a},function(e,t,r){"use strict";var n=r(7),i=r(3),o=Object(n.a)(i.a,"Map");t.a=o},function(e,t,r){"use strict";var n=r(59),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?n.a;t.a=a},function(e,t,r){"use strict";var n=r(3).a.Uint8Array;t.a=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Adobe="adobe",e.JWS="jws"}(t.AuthTokenType||(t.AuthTokenType={}))},function(e,t,r){"use strict";var n=r(28),i=r(39),o=r(9),a=function(e,t,r){(void 0!==r&&!Object(o.a)(e[t],r)||void 0===r&&!(t in e))&&Object(i.a)(e,t,r)},s=r(60),u=r(61),c=r(34),l=r(68),f=r(16),d=r(0),h=r(10),p=r(1),v=g=r(14),b=r(30),m=r(2),y=r(48),_=r(44),w=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},O=r(8),S=r(11),j=function(e){return Object(O.a)(e,Object(S.a)(e))},E=t.a=function e(t,r,i,o,s){t!==r&&r,(,S.a)}},function(e,t,r){"use strict";var n=t.a=,function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(80)),n(r(132)),n(r(85))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(134))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(138)),n(r(139))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(140)),n(r(141))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(148)),n(r(100))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(113)),n(r(50))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(90))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(137)),n(r(91))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(143)),n(r(144))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(75))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(99)),n(r(149)),n(r(101))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(151)),n(r(153)),n(r(78)),n(r(154))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(155)),n(r(107)),n(r(108))},function(e,t,r){"use strict";r.r(t);var n=r(28),i=r(22),o=r(8),a=r(25),s=function(e,t){return e&&Object(o.a)(t,Object(a.a)(t),e)},u=r(11),c=function(e,t){return e&&Object(o.a)(t,Object(u.a)(t),e)},l=r(60),f=r(34),d=r(45),h=function(e,t){return Object(o.a)(e,Object(d.a)(e),t)},p=r(36),v=r(38),g=r(59),b=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Object(p.a)(t,Object(d.a)(e)),e=Object(v.a)(e);return t}:g.a,m=y=r(49),_=r(57),w=O=r(15),S=Object.prototype.hasOwnProperty,j=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&S.call(e,"index")&&(r.index=e.index,r.input=e.input),r},E=r(40),A=/\w*$/,x=r(6),P=x.a?x.a.prototype:void 0,T=P?P.valueOf:void 0,C=r(61),k=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return Object(E.a)(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return function(e,t){var r=t?Object(E.a)(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Object(C.a)(e,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,A.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Set]":return new n;case"[object Symbol]":return function(e){return T?Object(T.call(e)):{}}(e)}},I=r(68),R=r(0),L=r(14),N=r(1),M=r(19),D=r(17),U=D.a&&D.a.isMap,F=U?Object(M.a)(U):function(e){return Object(N.a)(e)&&"[object Map]"==Object(O.a)(e)},B=r(2),z=D.a&&D.a.isSet,q=z?Object(M.a)(z):function(e){return Object(N.a)(e)&&"[object Set]"==Object(O.a)(e)},H={};H["[object Arguments]"]=H["[object Array]"]=H["[object ArrayBuffer]"]=H["[object DataView]"]=H["[object Boolean]"]=H["[object Date]"]=H["[object Float32Array]"]=H["[object Float64Array]"]=H["[object Int8Array]"]=H["[object Int16Array]"]=H["[object Int32Array]"]=H["[object Map]"]=H["[object Number]"]=H["[object Object]"]=H["[object RegExp]"]=H["[object Set]"]=H["[object String]"]=H["[object Symbol]"]=H["[object Uint8Array]"]=H["[object Uint8ClampedArray]"]=H["[object Uint16Array]"]=H["[object Uint32Array]"]=!0,H["[object Error]"]=H["[object Function]"]=H["[object WeakMap]"]=!1,t.default=function(e){return function e(t,r,o,d,p,v){var g,b=1&r,_=2&r,S=4&r;if(o&&(g=p?o(t,d,p,v):o(t)),void 0!==g)return g;if(!Object(B.default)(t))return t;var E=Object(R.default)(t);if(E){if(g=j(t),!b)return Object(f.a)(t,g)}else{var A=Object(O.a)(t),x="[object Function]"==A||"[object GeneratorFunction]"==A;if(Object(L.a)(t))return Object(l.a)(t,b);if("[object Object]"==A||"[object Arguments]"==A||x&&!p){if(g=_||x?{}:Object(I.a)(t),!b)return _?m(t,c(g,t)):h(t,s(g,t))}else{if(!H[A])return p?t:{};g=k(t,A,b)}}v||(v=new n.a);var P=v.get(t);if(P)return P;v.set(t,g),q(t)?t.forEach((function(n){g.add(e(n,r,o,n,t,v))})):F(t)&&t.forEach((function(n,i){g.set(i,e(n,r,o,i,t,v))}));var T=S?_?w:y.a:_?u.a:a.a,C=E?void 0:T(t);return C||t,(function(n,a){C&&(n=t[a=n]),Object(i.a)(g,a,e(n,r,o,a,t,v))})),g}(e,5)}},function(e,t,r){"use strict";r.r(t);var n=r(65),i=r(64),o=a=r(56),s=r(29),u=r(35),c=s.a&&1/Object(u.a)(new s.a([,-0]))[1]==1/0?function(e){return new s.a(e)}:function(){};t.default=function(e){return e&&e.length?function(e,t,r){var i=-1,s=o,l=e.length,f=!0,d=[],h=d;if(l>=200){var p=c(e);if(p)return Object(u.a)(p);f=!1,s=a.a,h=new n.a}else h=d;e:for(;++i<l;){var v=e[i],g=v;if(v=0!==v?v:0,f&&g==g){for(var b=h.length;b--;)if(h[b]===g)continue e;d.push(v)}else s(h,g,r)||(h!==d&&h.push(g),d.push(v))}return d}(e):[]}},function(e,t,r){"use strict";r.r(t);var n=/\s/,i=/^\s+/,o=r(2),a=r(23),s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,f=t.default=,function(e,t,r){"use strict";r.r(t);var n=r(62),i=(r(55),r(64)),o=(r(19),r(34)),a=Array.prototype.splice,s=Object(n.a)((function(e,t){return e&&e.length&&t&&t.length?function(e,t,r,n){var s=i.a,u=-1,c=t.length,l=e;for(e===t&&(t=Object(o.a)(t));++u<c;)for(var f=0,d=t[u],h=d;(f=s(l,h,f,n))>-1;)l!==e&&a.call(l,f,1),a.call(e,f,1);return e}(e,t):e}));t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(22),i=r(42),o=r(20),a=r(2),s=r(41);t.default=function(e,t,r){return null==e?e:function(e,t,r,u){if(!Object(a.default)(e))return e;for(var c=-1,l=(t=Object(i.a)(t,e)).length,f=l-1,d=e;null!=d&&++c<l;){var h=Object(s.a)(t[c]),p=r;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(c!=f){var v=d[h];void 0===(p=void 0)&&(p=Object(a.default)(v)?v:Object(o.a)(t[c+1])?[]:{})}Object(n.a)(d,h,p),d=d[h]}return e}(e,t,r)}},)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"r",(function(){return ee})),r.d(t,"b",(function(){return te})),r.d(t,"m",(function(){return re})),r.d(t,"l",(function(){return ne})),r.d(t,"k",(function(){return ie})),r.d(t,"j",(function(){return oe})),r.d(t,"o",(function(){return ae})),r.d(t,"n",(function(){return se})),r.d(t,"p",(function(){return ue})),r.d(t,"v",(function(){return ce})),r.d(t,"w",(function(){return le})),r.d(t,"i",(function(){return fe})),r.d(t,"c",(function(){return de})),r.d(t,"d",(function(){return he})),r.d(t,"s",(function(){return pe})),r.d(t,"t",(function(){return ve})),r.d(t,"u",(function(){return ge})),r.d(t,"g",(function(){return be})),r.d(t,"h",(function(){return me})),r.d(t,"e",(function(){return ye})),r.d(t,"f",(function(){return _e})),r.d(t,"x",(function(){return we})),r.d(t,"y",(function(){return Oe})),r.d(t,"A",(function(){return Se})),r.d(t,"B",(function(){return je})),r.d(t,"q",(function(){return Ee})),r.d(t,"z",(function(){return Ae}));var n=r(1);class i extends Error{constructor(e){super(""+e.status),this.name="HTTPError",this.response=e}static is(e){const t=e;return null!=t&&"object"==typeof t&&"name"in t&&"HTTPError"===t.name&&"response"in t&&null!=t.response}}class o extends n.a{constructor(){super(),this.withDomain(n.c.Adobe)}}const{ClientlessUnknownError:a,ClientlessAPIBadRequest:s,ClientlessAPIUnexpectedResponseCode:u,ClientlessMissingSoftwareStatement:c,ClientlessClientRegistrationServiceException:l,ClientlessClientRegistrationInvalidResponseBody:f,ClientlessClientAccessTokenServiceException:d,ClientlessClientAccessTokenInvalidResponseBody:h,ClientlessConfigServiceException:p,ClientlessConfigInvalidResponseBody:v,ClientlessConfigParseError:g,ClientlessRegCodeServiceException:b,ClientlessRegCodeInvalidResponseBody:m,ClientlessRegCodeNotFound:y,ClientlessCheckAuthNServiceException:_,ClientlessCheckAuthNForbidden:w,ClientlessAuthNTokenServiceException:O,ClientlessAuthNTokenParseError:S,ClientlessAuthNTokenNotFound:j,ClientlessAuthNTokenExpired:E,ClientlessInvalidClient:A,ClientlessAccessDenied:x,ClientlessPreauthorizeServiceException:P,ClientlessPreauthorizeNoResourcesProvided:T,ClientlessPreauthorizeNotAuthorized:C,ClientlessPreauthorizeExpired:k,ClientlessPreauthorizeNotAuthenticated:I,ClientlessAuthorizeServiceException:R,ClientlessAuthorizeNotAuthorized:L,ClientlessAuthZTokenServiceException:N,ClientlessAuthZTokenParseError:M,ClientlessAuthZTokenNotAuthenticated:D,ClientlessAuthZTokenExpired:U,ClientlessAuthZTokenNotAuthorized:F,ClientlessShortMediaTokenServiceException:B,ClientlessShortMediaTokenParseError:z,ClientlessShortMediaTokenNotAuthorized:q,ClientlessUserMetadataServiceException:H,ClientlessUserMetadataParseError:V,ClientlessUserMetadataNotFound:$,ClientlessUserMetadataExpiredToken:W}=n.d,{Initialization:G,Config:J,Authentication:Y,Authorization:K,Metadata:Z}=n.b,Q={[a]:"Unknown Error",[s]:"Bad Request",[u]:"Unexpected Response Code",[c]:"Missing Software Statement",[l]:"Client Registration Service Exception",[f]:"Invalid Client Registration Response Body",[d]:"Client Access Token Service Exception",[h]:"Invalid Client Access Token Response Body",[p]:"Config Service Exception",[v]:"Invalid Config Response Body",[g]:"Config Parse Error",[b]:"Reg Code Service Exception",[m]:"Invalid Reg Code Response Body",[y]:"Reg Code Not Found",[_]:"Check AuthN Status Service Exception",[w]:"Check AuthN Status Forbidden",[O]:"Authentication Token Service Exception",[S]:"Authentication Token Parse Error",[j]:"Authentication Token Not Found",[E]:"Authentication Token Expired",[P]:"Preauthorize Service Exception",[T]:"No Resources Provided",[C]:"Not Authorized",[k]:"Expired",[I]:"Not Authenticated",[R]:"Authorize Service Exception",[L]:"Not Authorized",[N]:"Authorization Token Service Exception",[M]:"Authorization Token Parse Error",[D]:"Not Authenticated",[U]:"Authorization Token Expired",[F]:"Not Authorized",[B]:"Short Media Token Service Exception",[z]:"Short Media Token Parse Error",[q]:"Not Authorized",[H]:"User Metadata Service Exception",[V]:"User Metadata Parse Error",[$]:"User Metadata Not Found",[W]:"Expired Token"},X=ee=()=>(new o).withMessage("Missing software statement").withCategory(G).withNumeral(c).build(),te=e=>(new o).withMessage("Failed to refresh access token").withCategory(G).withNumeral(d).withSubErrorMessage(e).build(),re=(e,t)=>{let r=String(e)||"Unknown failure",n=a;if(i.is(e)){const{response:t}=e,{status:i}=t;n={400:s}[i]||l,r=`${i} ${X(n)}`}return(new o).withMessage(r).withCategory(G).withNumeral(n).build()},ne=e=>(new o).withMessage(String(e)||"Client registration response data JSON parse failure").withCategory(G).withNumeral(f).build(),ie=(e,t)=>{let r=String(e)||"Unknown failure",n=a;if(i.is(e)){const{response:t}=e,{status:i}=t;n={400:s,404:y}[i]||d,r=`${i} ${X(n)}`}return(new o).withMessage(r).withCategory(G).withNumeral(n).build()},oe=e=>(new o).withMessage(String(e)||"Client access token response data JSON parse failure").withCategory(G).withNumeral(h).build(),ae=e=>{let t=String(e)||"Unknown failure",r=a;if(i.is(e)){const{response:n}=e,{status:i}=n;r=p,t=`${i} ${X(r)}`}return(new o).withMessage(t).withCategory(J).withNumeral(r).build()},se=(e,t)=>{const{status:r,url:n}=e,i=""+r;return(new o).withMessage(String(t)||"Failed to obtain text body").withCategory(Y).withNumeral(v).withSubErrorCode(i).withSubErrorMessage(n).build()},ue=e=>(new o).withMessage(String(e)||"Config parse failure").withCategory(Y).withNumeral(g).build(),ce=e=>{let t=String(e)||"Unknown failure",r=a;if(i.is(e)){const{response:n}=e,{status:i}=n;r={400:s,404:y}[i]||b,t=`${i} ${X(r)}`}return(new o).withMessage(t).withCategory(Y).withNumeral(r).build()},le=e=>(new o).withMessage(String(e)||"Regcode response data JSON parse failure").withCategory(Y).withNumeral(m).build(),fe=e=>{let t=String(e)||"Unknown failure",r=a;if(i.is(e)){const{response:n}=e,{status:i}=n;r={400:s,403:w}[i]||_,t=`${i} ${X(r)}`}return(new o).withMessage(t).withCategory(Y).withNumeral(r).build()},de=e=>{let t=String(e)||"Unknown failure",r=a;if(i.is(e)){const{response:n}=e,{status:i}=n;r={400:s,401:x,403:A,404:j,410:E}[i]||O,t=`${i} ${X(r)}`}return(new o).withMessage(t).withCategory(Y).withNumeral(r).build()},he=e=>(new o).withMessage(String(e)||"AuthN token response data JSON parse failure").withCategory(Y).withNumeral(S).build(),pe=()=>(new o).withMessage("No resources provided").withCategory(K).withNumeral(T).build(),ve=e=>{let t=String(e)||"Unknown failure",r=a;if(i.is(e)){const{response:n}=e,{status:i}=n;r={400:s,401:I,404:C,410:k,412:I}[i]||P,t=`${i} ${X(r)}`}return(new o).withMessage(t).withCategory(K).withNumeral(r).build()},ge=e=>(new o).withMessage(String(e)||"Preauthorize response data JSON parse failure").withCategory(K).withNumeral(M).build(),be=e=>{let t=String(e)||"Unknown failure",r=a;if(i.is(e)){const{response:n}=e,{status:i}=n;r={400:s,403:L}[i]||R,t=`${i} ${X(r)}`}return(new o).withMessage(t).withCategory(K).withNumeral(r).build()},me=e=>(new o).withMessage(String(e)||"Authorize response data JSON parse failure").withCategory(K).withNumeral(M).build(),ye=e=>{let t=String(e)||"Unknown failure",r=a;if(i.is(e)){const{response:n}=e,{status:i}=n;r={400:s,404:F,410:U,412:D}[i]||N,t=`${i} ${X(r)}`}return(new o).withMessage(t).withCategory(K).withNumeral(r).build()},_e=e=>(new o).withMessage(String(e)||"AuthZ token response data JSON parse failure").withCategory(K).withNumeral(M).build(),we=e=>{let t=String(e)||"Unknown failure",r=a;if(i.is(e)){const{response:n}=e,{status:i}=n;r={400:s,403:q}[i]||B,t=`${i} ${X(r)}`}return(new o).withMessage(t).withCategory(K).withNumeral(r).build()},Oe=e=>(new o).withMessage(String(e)||"AuthZ token response data JSON parse failure").withCategory(K).withNumeral(z).build(),Se=e=>{let t=String(e)||"Unknown failure",r=a;if(i.is(e)){const{response:n}=e,{status:i}=n;r={400:s,404:$,412:W}[i]||H,t=`${i} ${X(r)}`}return(new o).withMessage(t).withCategory(Z).withNumeral(r).build()},je=e=>(new o).withMessage(String(e)||"User metadata response data JSON parse failure").withCategory(Z).withNumeral(V).build(),Ee=e=>{let t=String(e)||"Unknown failure",r=a;if(i.is(e)){const{response:n}=e,{status:i}=n;r={400:s}[i]||u,t=`${i} ${X(r)}`}return(new o).withMessage(t).withCategory(Y).withNumeral(r).build()},Ae=e=>{let t=String(e)||"Unknown failure",r=a;if(i.is(e)){const{response:n}=e,{status:i}=n;r={400:s}[i]||u,t=`${i} ${X(r)}`}return(new o).withMessage(t).withCategory(Y).withNumeral(r).build()}},function(e,t,r){"use strict";var n,i,o;r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a.a})),r.d(t,"c",(function(){return a.b})),n||(n={})),i||(i={})),o||(o={}));var a=r(169)},function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"i",(function(){return f})),r.d(t,"j",(function(){return d})),r.d(t,"h",(function(){return h.a})),r.d(t,"k",(function(){return n.g})),r.d(t,"g",(function(){return n.f})),r.d(t,"c",(function(){return n.b})),r.d(t,"f",(function(){return n.e})),r.d(t,"d",(function(){return n.c})),r.d(t,"e",(function(){return n.d})),r.d(t,"b",();var n=r(1),i=r(47),o=r(6);class a{static get(){const e={};return Object.assign(e,a.getNavigatorInfo()),Object.assign(e,a.getScreenInfo()),e}static getNavigatorInfo(){const e={};if("undefined"!=typeof navigator&&Object(o.a)(navigator)){const{userAgent:t,connection:r}=navigator;if(t&&(e.userAgent=t.toString()),Object(o.a)(r)){const{type:t,effectiveType:n}=r;switch(t){case"wifi":e.connectionType="WiFi";break;case"ethernet":e.connectionType="LAN";break;default:n&&(e.connectionType=n)}}}return e}static getScreenInfo(){const e={};if("undefined"!=typeof screen&&Object(o.a)(screen)){const{width:t,height:r}=screen;if(Object(i.a)(t)&&Object(i.a)(r)&&t*r>200){const n=Object(i.a)(devicePixelRatio)&&devicePixelRatio||1,o=t*n,a=r*n,s=96*n,u=o/s,c=a/s,l=Math.sqrt(Math.pow(u,2)+Math.pow(c,2));e.displayWidth=o.toFixed(2),e.displayHeight=a.toFixed(2),e.displayPpi=s.toFixed(2),e.diagonalScreenSize=l.toFixed(2)}}return e}var s=r(141),u=r(142);class c{ithPlatform(e){return this._platform=e.toLowerCase(),this}withMVPDConfigURL(e){return this._mvpdConfigURL=e,this}withAuthType(e){return this._authType=e,this}withServiceAppId(e){return this._serviceAppId=e,this}withClientfulConfiguration(e){return this._softwareStatement=e,this}withSoftwareStatement(e){return this._softwareStatement=e,this}withClientlessConfiguration(e,t,r){return this._publicKey=e,this._secretKey=t,r&&(this._deviceType=r),this}withDeviceType(e){return this._deviceType=e,this}withBrand(e){return this._brand=e,this}withHelpURL(e){return this._helpURL=e,this}withExperienceCloudId(e){return this._ecid=e,this}withEnvironment(e){return this._environment=e,this}ithRegistrationURL(e){return this._registrationURL=e,this}withPollingInterval(e){return this._pollingInterval=e,this}withUIDisplayConfig(e){return this._uiDisplayConfig=e,this}withDeviceInfo(e){return this._deviceInfo=e,this}uild(){switch(this._authType){case"clientful":if(!this._softwareStatement)throw l("softwareStatement");break;case"clientless":if(!(this._publicKey&&this._secretKey||this._softwareStatement))throw l("softwareStatement or publicKey/secretKey");break;case"activation":break;default:throw l("authType")}if(!this._platform)throw l("platform");if(!this._mvpdConfigURL)throw l("mvpdConfigURL");if(!this._brand)throw l("brand");if(!this._serviceAppId)throw l("serviceAppId");const e=Object.assign(Object.assign({},a.get()),Object(u.a)(this._deviceInfo,s.a));return{authType:this._authType,platform:this._platform,mvpdConfigURL:this._mvpdConfigURL,serviceAppId:this._serviceAppId,softwareStatement:this._softwareStatement||"",brand:this._brand,helpURL:this._helpURL,ecid:this._ecid,environment:this._environment||f.PRODUCTION,activationRedirectURL:this._activationRedirectURL,registrationURL:this._registrationURL,publicKey:this._publicKey||"",secretKey:this._secretKey||"",deviceType:this._deviceType||this._platform,pollingInterval:this._pollingInterval,uiDisplayConfig:this._uiDisplayConfig,deviceInfo:e,redirectUri:this._redirectUri}}}const l=e=>(new n.a).withMessage("missing required property: "+e).withSeverity(n.f.Fatal).withCategory(n.b.Config).withPlatform(n.e.Unknown).withDomain(n.c.Shared).withNumeral(n.d.Unspecified).build();var f;!f||(f={}));const d={title:"Login",subheading1select:"Sign in to your TV service provider to keep watching.",subheading2signin:"Sign in to your TV service provider to keep watching.",subheading3watch:"Watch what you want, where you want, when you want.",welcomemessage:"<p>Get unlimited access to all your favorite content.</p><p>It's free through your participating TV service provider and available on your favorite devices.</p>",welcomeloginbutton:"Get Started",rememberedcancelbutton:"Not My TV Provider",rememberedokbutton:"Continue to Log In",viewallbutton:"View All TV Providers",viewtopbutton:"View Top TV Providers",dontseebutton:"I Don't See My TV Provider",noprovidermessage:"<p>This service is only available through participating TV service providers.</p><p>Please check back soon to see if your TV service provider has been added.</p>",noproviderokbutton:"OK",darkproviderokbutton:"OK",signinmessage:"Connecting...",signincancelbutton:"Cancel",errormessage:"<p>There was a problem verifying your account with your TV service provider.</p><p>Please try again.</p>",errorokbutton:"OK",successmessage:"<p>Congratulations!</p><p>You're now ready to watch on mobile, tablet or the web.</p>",watchnowbutton:"Watch Now"};var h=r(100);r(106)},function(e,t,r){"use strict";var n=r(88),i=r(89);t.a=function(e,t,r,o){var a=!r;r||(r={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=o?o(r[c],e[c],c,r,e):void 0;void 0===l&&(l=e[c]),a?Object(i.a)(r,c,l):Object(n.a)(r,c,l)}return r}},function(e,t,r){"use strict";var n=r(63),i=r(200),o=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},a=r(179),s=function(e,t,r,n,s,u){var c=1&r,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var d=u.get(e),h=u.get(t);if(d&&h)return d==t&&h==e;var p=-1,v=!0,g=2&r?new i.a:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var b=e[p],m=t[p];if(n)var y=c?n(m,b,p,t,e,u):n(b,m,p,e,t,u);if(void 0!==y){if(y)continue;v=!1;break}if(g){if(!o(t,(function(e,t){if(!Object(a.a)(g,t)&&(b===e||s(b,e,r,n,u)))return g.push(t)}))){v=!1;break}}else if(b!==m&&!s(b,m,r,n,u)){v=!1;break}}return u.delete(e),u.delete(t),v},u=r(20),c=r(119),l=r(38),f=r(184),d=r(185),h=u.a?u.a.prototype:void 0,p=h?h.valueOf:void 0,v=g=r(140),b=Object.prototype.hasOwnProperty,m=function(e,t,r,n,i,o){var a=1&r,s=Object(g.a)(e),u=s.length;if(u!=Object(g.a)(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:b.call(t,l)))return!1}var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var h=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<u;){var v=e[l=s[c]],m=t[l];if(n)var y=a?n(m,v,l,t,e,o):n(v,m,l,e,t,o);if(!(void 0===y?v===m||i(v,m,r,n,o):y)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(h=!1)}return o.delete(e),o.delete(t),h},y=r(46),_=r(9),w=r(45),O=r(61),S="[object Object]",j=Object.prototype.hasOwnProperty,E=function(e,t,r,i,o,a){var u=Object(_.a)(e),c=Object(_.a)(t),l=u?"[object Array]":Object(y.a)(e),f=c?"[object Array]":Object(y.a)(t),d=(l="[object Arguments]"==l?S:l)==S,h=(f="[object Arguments]"==f?S:f)==S,p=l==f;if(p&&Object(w.a)(e)){if(!Object(w.a)(t))return!1;u=!0,d=!1}if(p&&!d)return a||(a=new n.a),u||Object(O.a)(e)?s(e,t,r,i,o,a):v(e,t,l,r,i,o,a);if(!(1&r)){var g=d&&j.call(e,"__wrapped__"),b=h&&j.call(t,"__wrapped__");if(g||b){var E=g?e.value():e,A=b?t.value():t;return a||(a=new n.a),o(E,A,r,i,a)}}return!!p&&(a||(a=new n.a),m(e,t,r,i,o,a))},A=r(13),x=function e(t,r,n,i,o){return t===r||(null==t||null==r||!Object(A.a)(t)&&!Object(A.a)(r)?t!=t&&r!=r:E(t,r,n,i,e,o))},P=r(6),T=C=r(30),k=I=function(e){var t=e);return 1==t.length&&t[0][2]?k(t[0][0],t[0][1]):,R=r(87),L=N=r(52),M=r(56),D=r(85),U=r(107),F=r(51),B=function(e,t){return null!=e&&function(e,t,r){for(var n=-1,i=(t=Object(N.a)(t,e)).length,o=!1;++n<i;){var a=Object(F.a)(t[n]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&Object(U.a)(i)&&Object(D.a)(a,i)&&(Object(_.a)(e)||Object(M.a)(e))}(e,t,L)},z=r(111),q=function(e,t){return Object(z.a)(e)&&T(t)?k(Object(F.a)(e),t):function(r){var n=r,e);return void 0===n&&n===t?B(r,e):x(t,n,3)}},H=r(84),V=function(e){return Object(z.a)(e)?function(e){return function(t){return null==t?void 0:t[e]}}(Object(F.a)(e)):e)};t.a=,function(e,t,r){"use strict";t.a=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){"use strict";r.d(t,"d",(function(){return l})),r.d(t,"a",(function(){return f})),r.d(t,"f",(function(){return d})),r.d(t,"e",(function(){return h})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return v})),r.d(t,"g",(function(){return g}));const n=r(0).w.getLogger("Store").filter("store"),i={_testKey:"__testlocalstorage__",_ready:void 0,_hasLocalStorage(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},_testLocalStorage(){try{this._setItem(this._testKey,this._testKey)}catch(e){return!1}return this._getItem(this._testKey)===this._testKey&&(this._removeItem(this._testKey),!0)},isSupported(){return void 0===this._ready&&(this._ready=this._hasLocalStorage()&&this._testLocalStorage()),this._ready},_wrap(e,t){if(this.isSupported())return e.apply(this,t);n.warn("Unable to access localStorage.")},_setItem:(e,t)=>window.localStorage.setItem(e,t),_getItem:e=>window.localStorage.getItem(e),_removeItem:e=>window.localStorage.removeItem(e),setItem(e,t){return this._wrap(this._setItem,[e,t])},getItem(e){return this._wrap(this._getItem,[e])},removeItem(e){return this._wrap(this._removeItem,[e])}},o={_testKey:"__testsessionstorage__",_ready:void 0,_hasSessionStorage_testSessionStorage(){try{this._setItem(this._testKey,this._testKey)}catch(e){return!1}return this._getItem(this._testKey)===this._testKey&&(this._removeItem(this._testKey),!0)},isSupported(){return void 0===this._ready&&(this._ready=this._hasSessionStorage()&&this._testSessionStorage()),this._ready},_wrap(e,t){if(this.isSupported())return e.apply(this,t);n.warn("Unable to access sessionStorage.")},_setItem:_getItem:e=>window.sessionStorage.getItem(e),_removeItem:setItem(e,t){return this._wrap(this._setItem,[e,t])},getItem(e){return this._wrap(this._getItem,[e])},removeItem(e){return this._wrap(this._removeItem,[e])}};class a{constructor(e,t){this.value=e,this.timeStamp=(null==t?void 0:t.timeStamp)||Date.now(),(null==t?void 0:t.expires)&&(this.expires=t.expires)}static parse(e){let t,r,n;try{t=JSON.parse(e),"data"in t&&(r=t.data),"meta"in t&&(n=t.meta)}catch(e){return null}return new a(r,n)}toObject(){const e={data:this.value,meta:{timeStamp:this.timeStamp}};return this.expires&&(e.meta.expires=this.expires),e}stringify(){let e;try{e=JSON.stringify(this.toObject())}catch(t){e=null}return e}isExpired(){return!!this.expires&&Date.now()>this.expires}}function s(e,t,r){if(this.removeItem(e),null==t)return n.verbose(`[setItem] No value to save for key "${e}"`),!0;const i=new a(t,r);if(i.isExpired())return n.verbose(`[setItem] Item of key "${e}" has expired and will not be stored.`),!0;const o=i.stringify();if(null===o)return n.debug(`[setItem] Item of key "${e}" could not be stringified and will not be stored.`),!1;try{return this.setItem(e,o),!0}catch(t){return n.warn(`[setItem] Item of key "${e}" could not be stored`),!1}}function u(e){let t;try{t=this.getItem(e)}catch(t){return n.warn(`[getItem] Item of key "${e}" could not be retrieved`),!1}if(null===t)return n.verbose(`[getItem] Item of key "${e}" did not return a value.`),null;const r=a.parse(t);return r?r.isExpired()?(n.verbose(`[getItem] Item of key "${e}" has expired and will not be retrieved.`),this.removeItem(e),null):r.value:(n.debug(`[getItem] Item of key "${e}" could not be parsed and will not be retrieved.`),!1)}function c(e){try{return this.removeItem(e),!0}catch(t){return n.warn(`[removeItem] Item of key "${e}" could not be removed`),!1}}const l=s.bind(i),f=u.bind(i),d=(c.bind(i),i.isSupported.bind(i)),h=s.bind(o),p=u.bind(o),v=c.bind(o),g=o.isSupported.bind(o)},function(e,r,n){"use strict";(function(e){var i=n(15),o=n(275),a=t&&!t.nodeType&&t,s=a&&"object"==typeof e&&e&&!e.nodeType&&e,u=s&&s.exports===a?i.a.Buffer:void 0,c=(u?u.isBuffer:void 0)||o.a;r.a=c}).call(this,n(234)(e))},function(e,t,r){"use strict";var n=r(39),i=r(15),o=Object(n.a)(i.a,"DataView"),a=r(93),s=Object(n.a)(i.a,"Promise"),u=Object(n.a)(i.a,"Set"),c=Object(n.a)(i.a,"WeakMap"),l=r(26),f=r(72),d=Object(f.a)(o),h=Object(f.a)(a.a),p=Object(f.a)(s),v=Object(f.a)(u),g=Object(f.a)(c),b=l.a;(o&&"[object DataView]"!=b(new o(new ArrayBuffer(1)))||a.a&&"[object Map]"!=b(new a.a)||s&&"[object Promise]"!=b(s.resolve())||u&&"[object Set]"!=b(new u)||c&&"[object WeakMap]"!=b(new c))&&(b=function(e){var t=Object(l.a)(e),r="[object Object]"==t?e.constructor:void 0,n=r?Object(f.a)(r):"";if(n)switch(n){case d:return"[object DataView]";case h:return"[object Map]";case p:return"[object Promise]";case v:return"[object Set]";case g:return"[object WeakMap]"}return t}),t.a=b},function(e,t,r){var n=r(3),i=r(12),o=r(148),a=n.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a function")}},function(e,t,r){"use strict";t.a=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},function(e,t,r){"use strict";var n=r(86);t.a=function(e){if("string"==typeof e||Object(n.a)(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,r){"use strict";var n=r(9),i=r(111),o=r(101);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(a.Cache||o.a),r}a.Cache=o.a;var s=a,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,l=function(e){var t=s((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(u,(function(e,r,n,i){t.push(n?i.replace(c,"$1"):r||e)})),t}),(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}(),f=r(117);t.a=,function(e,t,r){"use strict";var n=r(26),i=r(13),o=function(e){return Object(i.a)(e)&&"[object Arguments]"==Object(n.a)(e)},a=Object.prototype,s=a.hasOwnProperty,u=a.propertyIsEnumerable,c=o(function(){return arguments}())?o:function(e){return Object(i.a)(e)&&s.call(e,"callee")&&!u.call(e,"callee")};t.a=c},function(e,t,r){"use strict";var n=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,r){"use strict";var n=r(26),i=r(107),o=r(13),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var s=r(81),u=r(70),c=u.a&&u.a.isTypedArray,l=c?Object(s.a)(c):function(e){return Object(o.a)(e)&&Object(i.a)(e.length)&&!!a[Object(n.a)(e)]};t.a=l},function(e,t,r){"use strict";var n,i;r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i})),function(e){e.MVPD_SELECTION="mvpdSelection",e.AUTHENTICATION_DETECTION="authenticationDetection",e.AUTHORIZATION_DETECTION="authorizationDetection"}(n||(n={})),function(e){e.USER_ID="userID",e.ZIP="zip",e.MAX_RATING="maxRating",e.HOUSEHOLD_ID="householdID",e.CHANNEL_ID="channelID",e.HEAD_OF_HOUSEHOLD="is_hoh",e.TYPE_ID="typeID",e.PRIMARY_OID="primaryOID",e.LANGUAGE="language",e.UPSTREAM_USER_ID="upstreamUserID",e.HBA_STATUS="hba_status",e.ON_NET="onNet",e.IN_HOME="inHome",e.ALLOW_MIRRORING="allowMirroring",e.DEVICE_ID="DEVICE_ID",e.AUTHENTICATED_TTL="AUTHENTICATED_TTL",e.AUTHORIZED_TTL="AUTHORIZED_TTL"}(i||(i={}))},function(e,t,r){"use strict";var n=r(91),i=r(93),o=r(101);function a(e){var t=this.__data__=new n.a(e);this.size=t.size}a.prototype.clear=function(){this.__data__=new n.a,this.size=0},a.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},a.prototype.get=function(e){return this.__data__.get(e)},a.prototype.has=function(e){return this.__data__.has(e)},a.prototype.set=function(e,t){var r=this.__data__;if(r instanceof n.a){var a=r.__data__;if(!i.a||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new o.a(a)}return r.set(e,t),this.size=r.size,this},t.a=a},function(e,r,n){"use strict";(function(e){var i=n(174),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o&&i.a.process,u=function(){try{return a&&a.require&&a.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();r.a=u}).call(this,n(234)(e))},function(e,t,r){"use strict";var n=/\s/,i=/^\s+/,o=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}(e)+1).replace(i,""):e},a=r(6),s=r(86),u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;t.a=,function(e,t,r){"use strict";var n=Function.prototype.toString;t.a=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,r){"use strict";r.d(t,"a",(function(){return S})),r.d(t,"c",(function(){return C})),r.d(t,"b",(function(){return L})),r.d(t,"d",(function(){return N}));var n=r(64),i=r(143),o=r(25),a=r(4),s=r(0);const u=s.w.getLogger("LoginIframe").filter("picker"),c={position:"fixed",top:"0px",left:"0px",backgroundColor:"#000",width:"100%",height:"100%",opacity:"0.4",zIndex:"2999",filter:"alpha(opacity=40)"},l={position:"absolute",top:"50px",margin:"0",backgroundColor:"white",borderRadius:"4px",boxShadow:"4px 4px 8px #111",zIndex:"3000"},f={frameborder:"0",border:"0"},d={backgroundImage:'url("https://cvp1.cdn.turner.com/xslo/cvp/js/cvp.auth/close.png")',backgroundRepeat:"no-repeat",zIndex:"3001",position:"absolute",top:"3px",right:"3px",width:"54px",height:"14px",cursor:"pointer"};let h,p;const v={};class g extends s.F{constructor(e){super(),this.backdropId="mvpdbackdrop",this.iframeContainerId="mvpddiv",this.iframeId=e,this.opened=!1,this.backdropEl=null,this.iframeContainerEl=null,this.iframeEl=null,this.closeButtonEl=null}create({width:e,height:t},r){if(e&&t&&Object(n.a)(v,{width:e+"px",height:t+"px"}),this.backdropEl=Object(a.h)(this.backdropId),this.backdropEl?u.debug(`Unexpected presence of DOM element with ID "${this.backdropId}".`):(this.backdropEl=Object(a.f)("div"),Object(a.c)(this.backdropEl,"id",this.backdropId),Object(n.a)(this.backdropEl.style,c),Object(a.b)(this.backdropEl)),this.backdropEl.onclick=null,Object(a.n)(this.backdropEl),this.iframeContainerEl=Object(a.h)(this.iframeContainerId),this.iframeContainerEl)u.debug(`Unexpected presence of DOM element with ID "${this.iframeContainerId}".`);else{this.iframeContainerEl=Object(a.f)("div"),Object(a.c)(this.iframeContainerEl,"id",this.iframeContainerId),r&&Object(o.a)(r.iframeStyleOverride)?this.iframeContainerEl.className=r.iframeStyleOverride:Object(n.a)(this.iframeContainerEl.style,l,v),Object(a.g)(this.iframeContainerEl),s=this.iframeContainerEl,h=p=Object(i.a)(h,250),Object(a.j)(window,"resize",p),Object(a.j)(window,"orientationchange",p),this.iframeEl=Object(a.h)(this.iframeId),this.iframeEl?u.debug(`Unexpected presence of DOM element with ID "${this.iframeId}".`):(this.iframeEl=Object(a.f)("iframe"),Object(n.a)(this.iframeEl.style,f,v),this.iframeEl.name=this.iframeId,this.iframeEl.id=this.iframeId,this.iframeEl.scrolling="no",Object(a.b)(this.iframeEl,this.iframeContainerEl)),this.closeButtonEl=Object(a.f)("span"),r&&Object(o.a)(r.closeButtonStyleOverride)?this.closeButtonEl.className=r.closeButtonStyleOverride:Object(n.a)(this.closeButtonEl.style,d),this.closeButtonEl.onclick=this.close.bind(this),Object(a.b)(this.closeButtonEl,this.iframeContainerEl),Object(a.b)(this.iframeContainerEl);try{window.frames[this.iframeId].name=this.iframeId}catch(e){u.debug(`Failed to force the name of the "${this.iframeId}" iframe into the DOM.`)}}var s}destroy(){if(this.backdropEl&&(Object(a.m)(this.backdropEl),this.backdropEl=null),this.closeButtonEl&&(this.closeButtonEl.onclick=null,Object(a.m)(this.closeButtonEl),this.closeButtonEl=null),this.iframeEl){Object(a.m)(this.iframeEl),this.iframeEl=null;try{delete window.frames[this.iframeId]}catch(e){}}this.iframeContainerEl&&(Object(a.m)(this.iframeContainerEl),this.iframeContainerEl=null),p&&(Object(a.i)(window,"resize",p),Object(a.i)(window,"orientationchange",p),p=null),h=null}isOpened(){return this.opened}isClosed(){return!this.isOpened()}open(e,t){this.isOpened()||(this.backdropEl&&this.iframeContainerEl&&this.iframeEl||(this.destroy(),this.create(e,t)),this.backdropEl&&Object(a.n)(this.backdropEl),this.iframeContainerEl&&(h&&h(),Object(a.n)(this.iframeContainerEl)),this.opened=!0,this.emit("opened"))}close(){this.isOpened()&&(this.iframeContainerEl&&Object(a.g)(this.iframeContainerEl),this.destroy(),this.opened=!1,this.emit("closed"))}const b=s.w.getLogger("WindowWatcher").filter("picker");class m{constructor(e,t,r){this.id=e,this.url=t,this.options=r,this.window=null,this.isListening=!1,this.isExpectedOpen=!1}tSrc(e){this.window?this.isClosed()?b.warn("setSrc failed: cannot set location of closed window!"):this.window.location.href=e:b.warn("setSrc failed: no window!")}open(e,t=""){return this.isOpened()&&this.isExpectedOpen?(this.focus(),!0):(this.url=e||this.url,this.options=t,b.verbose(`opening window "${this.id}" to url "${this.url}"`),this.window=window.open(this.url,this.id,this.options,!0),!!this.window&&(this.isExpectedOpen=!0,this.focus(),!0))}close(){if(this.isClosed()&&!this.isExpectedOpen)return!0;if(this.window){b.verbose(`closing window "${this.id}"`);try{this.window.close()}catch(e){}}else b.verbose("No window to close");return this.isExpectedOpen=!1,!0}focus(){if(this.isOpened()&&this.window)try{this.window.focus()}catch(e){}}}const y=s.w.getLogger("LoginPopup").filter("picker");var _=r(201);const w=s.w.getLogger("LoginWindow").filter("picker"),O=s.w.getLogger("LoginManager").filter("picker");var S,j;!function(e){e.OPENED="opened",e.CLOSED="closed"}(S||(S={})),j||(j={}));const E=new g("mvpdframe"),A=new class extends m{openProviderLogin(e,t){if(y.verbose("open"),this.isOpened())return!0;const r=Object(a.q)(),n=Object(a.p)(),i=Math.min(1e3,r||1e3,window.screen.availWidth||1e3),o=Math.min(600,n||600,window.screen.availHeight||600),s=Number(t.width)||i,u=Number(t.height)||o,c=Math.max(25,Math.round((r-s)/2)),l=(window.screenX||window.screenLeft||0)+c,f=Math.max(25,Math.round((n-u)/2)),d=["width="+(s+16),"height="+(u+36),"left="+l,"top="+((window.screenY||window.screenTop||0)+f)].join(",");return super.open(e,d)}close(){return y.verbose("close"),super.close()}}("mvpdframe"),x=new class extends m{openProviderLogin(e,t){w.verbose("open");const r=Object(_.a)(t,.join(",");return super.open(e,r)}close(){return w.verbose("close"),super.close()}}("mvpdwindow"),P=(()=>{const e=navigator.userAgent||"",t=/\bEdge\/\d+\./.test(e);return/\bTrident\/\d+\./.test(e)||t})(),T=new s.s,C=T.on.bind(T),k=(T.off.bind(T),T.emit.bind(T)),I=()=>k(S.OPENED,{}),R=()=>k(S.CLOSED,{});function L(){O.verbose("closeLoginView"),x.close(),A.close(),E.close(),k(S.CLOSED,{})}function N(e,t){if(O.verbose("openLoginView"),L(),!e)return void O.verbose("Cannot open login for null provider");const r=function(e){return e.tempPass?(O.verbose(`Found "tempPass" flag for MVPD "${e.id}"`),j.TEMPPASS):e.iFrameRequired?e.iFrameRequired?P?j.IFRAME:j.POPUP:j.REDIRECT:j.WINDOW}(e);if(r!==j.TEMPPASS)if(r===j.WINDOW)x.openProviderLogin("",t)?(O.verbose("Succeeded in opening login window!"),I()):(O.error("Failed to open login window!"),R());else{const i={width:e.iFrameWidth,height:e.iFrameHeight};r===j.POPUP?A.openProviderLogin("",Object(n.a)(t,i))?(O.verbose("Succeeded in opening login window!"),I()):(O.error("Failed to open login popup!"),R()):r===j.IFRAME&&(E.open(i),I())}}},function(e,t,r){var n=r(3);e.exports=n},function(e,t,r){"use strict";t.a=function(e){return function(t){return e(t)}}},function(e,t,r){"use strict";var n=r(175),i=Object(n.a)(Object.getPrototypeOf,Object);t.a=i},function(e,t,r){"use strict";var n=r(26),i=r(13);t.a=function(e){return"symbol"==typeof e||Object(i.a)(e)&&"[object Symbol]"==Object(n.a)(e)}},function(e,t,r){"use strict";var n=r(118);t.a=function(e,t,r){"__proto__"==t&&n.a?Object(n.a)(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t,r){"use strict";var n=r(188),i=r(24),o=function(e,t){return function(t,r){if(null==t)return t;if(!Object(i.a)(t))return e(t,r);for(var n=t.length,o=-1,a=Object(t);++o<n&&!1!==r(a[o],o,a););return t}}(n.a);t.a=o},function(e,t,r){"use strict";var n=r(39),i=r(15),o=Object(n.a)(i.a,"Map");t.a=o},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return u})),r.d(t,"k",(function(){return c})),r.d(t,"d",(function(){return o.a})),r.d(t,"j",(function(){return o.g})),r.d(t,"h",(function(){return o.e})),r.d(t,"g",(function(){return o.d})),r.d(t,"i",(function(){return o.f})),r.d(t,"e",(function(){return o.b})),r.d(t,"f",(function(){return o.c})),r.d(t,"l",(function(){return l.a})),r.d(t,"m",(function(){return f.a})),r.d(t,"a",(function(){return d.a}));class n{constructor(){this._promise=new Promise(,this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),this.then=this.then.bind(this),this.catch=this.catch.bind(this),this.finally=this.finally.bind(this)}esolve(e){return this._resolve&&this._resolve(e),this.promise}reject(e){return this._reject&&this._reject(e),this.promise}then(...e){return Promise.prototype.then.apply(this.promise,e)}catchinally(e){return"finally"in Promise.prototype&&"function"==typeof Promise.prototype.finally?Promise.prototype.finally.apply(this.promise,e):"function"!=typeof e?Promise.prototype.then.call(this.promise,t=>Promise.resolve(e).then(()=>{throw t})):Promise.prototype.then.call(this.promise,}}var i=r(187),o=r(49);const a=o.a.getLogger("EventEmitter").filter("eventemitter"),s=(e,t,r)=>Object(i.a)(e,;class u{tatic emitEvent(e,t,r){const n=[...this._events[e]||[]],i=r||e;n.forEach(e=>{var r;(null===(r=e.options)||void 0===r?void 0:r.once)&&this.off(i,e.fn,e.context);try{e.fn.call(e.context,t)}catch(e){a.error(`exception thrown from handler of "${i}" event (check e.stack or obj.fn to see what function threw the exception)`),"stack"in e&&a.error(e.stack),setTimeout((e=>(e),0)}})}on(e,t,r=this,n={}){if("function"!=typeof t)return a.error(`A callback function was not provided to listen to the event "${e}".`),this;const i=this._events,o=i[e]||(i[e]=[]);return-1===s(o,t,r)&&o.push({fn:t,context:r,options:n}),this}once(e,t,r=this,n={}){return"function"!=typeof t?(a.error(`A callback function was not provided to listen to the event "${e}" once.`),this):this.on(e,t,r,Object.assign(n,{once:!0}))}off(e,t,r=this){const n=this._events;if(!(e in n))return a.info(`The provided callback function was not listening to the event "${e}".`),this;const i=n[e],o=s(i,t,r);return-1!==o&&(i.splice(o,1),0===i.length&&delete n[e]),this}emit(e,t){return u.emitEvent.call(this,e,t),u.emitEvent.call(this,"*",t,e),this}}class c{constructor(){this._emitter=new u,this.emit=this._emitter.emit.bind(this._emitter),this.on=this._emitter.on.bind(this._emitter),this.off=this._emitter.off.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter)}}var l=r(138),f=(r(168),r(170)),d=r(172)},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=r(39),i=Object(n.a)(Object,"create"),o=Object.prototype.hasOwnProperty,a=Object.prototype.hasOwnProperty;function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=function(){this.__data__=i?i(null):{},this.size=0},s.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},s.prototype.get=function(e){var t=this.__data__;if(i){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0},s.prototype.has=function(e){var t=this.__data__;return i?void 0!==t[e]:a.call(t,e)},s.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this};var u=s,c=r(91),l=r(93),f=function(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map};function d(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}d.prototype.clear=function(){this.size=0,this.__data__={hash:new u,map:new(l.a||c.a),string:new u}},d.prototype.delete=function(e){var t=f(this,e).delete(e);return this.size-=t?1:0,t},d.prototype.get=function(e){return f(this,e).get(e)},d.prototype.has=function(e){return f(this,e).has(e)},d.prototype.set=function(e,t){var r=f(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},t.a=d},function(e,t,r){var n;e.exports=n=n||Math)},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(100);class i{ass o{ithAuthenticatedState(e){return this.authenticatedState=e,this}withAuthenticatedProvider(e){return this.authenticatedProvider=e,this},function(e,t,r){"use strict";t.a=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,r){"use strict";t.a=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},function(e,t,r){"use strict";var n=r(180),i=r(181),o=r(35);t.a=function(e){return Object(n.a)(e,o.a,i.a)}},function(e,t,r){"use strict";t.a=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},function(e,t,r){"use strict";var n=r(119);t.a=function(e){var t=new e.constructor(e.byteLength);return new n.a(t).set(new n.a(e)),t}},function(e,t,r){"use strict";var n=r(34),i=r(24),o=r(30),a=r(187).a);t.a=a},function(e,t,r){"use strict";var n=r(20),i=r(50),o=r(9),a=r(86),s=n.a?n.a.prototype:void 0,u=s?s.toString:void 0;t.a=function(e){return null==e?"":function e(t){if("string"==typeof t)return t;if(Object(o.a)(t))return Object(i.a)(t,e)+"";if(Object(a.a)(t))return u?u.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}(e)}},function(e,t,r){"use strict";var n=r(39),i=function(){try{var e=Object(n.a)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.a=i},function(e,t,r){"use strict";var n=r(15).a.Uint8Array;t.a=n},function(e,t,r){"use strict";var n=r(20),i=r(112),o=r(46),a=r(24),s=r(25),u=r(184),c=r(185),l=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),f="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",d="\\ud83c[\\udffb-\\udfff]",h="[^\\ud800-\\udfff]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",g="(?:"+f+"|"+d+")?",b="[\\ufe0e\\ufe0f]?"+g+"(?:\\u200d(?:"+[h,p,v].join("|")+")[\\ufe0e\\ufe0f]?"+g+")*",m="(?:"+[h+f+"?",f,p,v,"[\\ud800-\\udfff]"].join("|")+")",y=RegExp(d+"(?="+d+")|"+m+b,"g"),_=function(e){return function(e){return l.test(e)}(e)?e):function(e){return e.split("")}(e)},w=r(193),O=n.a?n.a.iterator:void 0;t.a=function(e){if(!e)return[];if(Object(a.a)(e))return Object(s.a)(e)?_(e):Object(i.a)(e);if(O&&e[O])return e[O]());var t=Object(o.a)(e);return("[object Map]"==t?u.a:"[object Set]"==t?c.a:w.a)(e)}},function(e,t){e.exports={}},function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return d})),r.d(t,"a",(function(){return h}));var n=r(277),i=r.n(n),o=r(236),a=r.n(o),s=r(145),u=r.n(s),c=r(237),l=r.n(c);const f=(e,t)=>u.a.stringify(i()(e,t)),d=h=,function(e,t,r){"use strict";var n=r(180),i=r(110),o=r(30);t.a=function(e){return Object(n.a)(e,o.a,i.a)}},function(e,t,r){"use strict";var n=r(34),i=r(186),o=r(50),a=r(87),s=r(88),u=r(52),c=r(85),l=r(6),f=r(51),d=h=r(109),p=function(e,t){if(null==e)return{};var r=Object(o.a)(Object(h.a)(e),(function(e){return[e]}));return t=Object(n.a)(t),e,r,()};t.a=function(e,t){return p(e,Object(i.a)(Object(n.a)(t)))}},function(e,t,r){"use strict";var n=r(71);t.a=function(e){var t=e),r=t%1;return t==t?r?t-r:t:0}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(235);const i=e=>{if(!e)return"";const{channel:t,metadata:r}=e;if(!t)return"";if(null==r||"object"!=typeof r||0==Object.keys(r).length)return t;const i=(new n.DOMParser).parseFromString('<rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/"></rss>',"text/xml"),o=i.createElement("channel"),a=i.createElement("title"),s=i.createTextNode(t);if(a.appendChild(s),o.appendChild(a),r){const{title:e,guid:t,rating:n,ratingScheme:a}=r,s=i.createElement("item");if(e){const t=i.createElement("title"),r=i.createTextNode(e);t.appendChild(r),s.appendChild(t)}if(t){const e=i.createElement("guid"),r=i.createTextNode(t);e.appendChild(r),s.appendChild(e)}if(n&&a){const e=i.createElementNS("http://search.yahoo.com/mrss/","media:rating");e.setAttribute("scheme",a);const t=i.createTextNode(n);e.appendChild(t),s.appendChild(e)}o.appendChild(s)}return i.documentElement.appendChild(o),i.normalize(),(new n.XMLSerializer).serializeToString(i)}},function(e,t,r){"use strict";var n,i,o;r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))(n||(n={})),function(e){e.Browser="Browser",e.Web_View="WebView",e.Safari_View_Controller="SafariViewController",e.Chrome_Custom_Tab="ChromeCustomTab"}(i||(i={})),function(e){e.MVPD_SELECTION="mvpdSelection",e.AUTHENTICATION_DETECTION="authenticationDetection",e.AUTHORIZATION_DETECTION="authorizationDetection"}(o||(o={}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));const n=/[xy]/g,i,o=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(n,i)},function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n=r(278),i=r(206),o=r(9),a=r(173),s=r(47),u=r(6),c=r(5),l=r(10),f=r(170),d=r(138),h;const p=1800,v="GET",g="POST",b={Accept:"application/json"};class m{constructor(e){this._hashedUserId=null,this._cachedMvpdId=null,this._authZTokens=new Map;const{adobeEnv:t="prod",adobeOrigin:r,deviceId:n="",deviceInfo:o,deviceType:a="server",deviceUser:u,ecid:c,appVersion:l,appId:f,publicKey:h,secretKey:v,softwareStatement:g,redirectUri:b,requestorId:m="TBS",requestorDomain:y="turner.com",registrationUrl:_,regcodeTtl:w=p,hashDeviceId:O=!0}=e||{};this._adobeOrigin=r||("staging"===t?"https://api.auth-staging.adobe.com":"https://api.auth.adobe.com"),this._deviceId=n,this._deviceInfo=o,this._deviceType=a,this._deviceUser=u,this._ecid=c,this._appVersion=l,this._appId=f,this._publicKey=h,this._secretKey=v,this._softwareStatement=g,this._redirectUri=b,this._requestorId=m,this._requestorDomain=y,this._registrationUrl=_,this._hashedDeviceId=this._deviceId&&O?Object(d.c)(this._deviceId):this._deviceId,this._regcodeTtl=Object(s.a)(w)?Object(i.a)(w,600,36e3):p}_createAuthHeader(e,t){if(!this._secretKey||!this._publicKey)return;const r=`${e} ${["requestor_id="+this._requestorId,"nonce="+Object(f.a)(),"signature_method=HMAC-SHA1","request_time="+Date.now(),"request_uri="+t].join(", ")}`,n=Object(d.b)(r,this._secretKey);return[r,"public_key="+this._publicKey,"signature="+n].join(", ")}_call(e){var{path:t,method:r=v,headers:n={},searchParams:i={},body:o}=e,s(e,["path","method","headers","searchParams","body"]);return h(this,void 0,void 0,(function*(){if(!t)throw new Error('[ClientlessAPI:call] A "path" is required.');let e=`${this._adobeOrigin}${t}`;if(this._publicKey&&this._secretKey&&!this._softwareStatement){const e=this._createAuthHeader(r,t);e&&(n.Authorization=e)}else this._softwareStatement&&this._accessToken&&(n.Authorization="Bearer "+this._accessToken);this._fireTvToken&&(n["Adobe-Subject-Token"]=this._fireTvToken);const u=Object.assign({method:r,headers:n,body:o},s);this._ecid&&(i.ap_vi=this._ecid),Object(a.a)(i)||(e=Object(c.appendQuery)(e,i));const f=yield fetch(e,u);if(!f.ok)throw new l.a(f);return f}))}_getDeviceIdParam_clearCachedData(){this._hashedUserId=null,this._cachedMvpdId=null,this._userMetadata=void 0,this._authNToken=void 0,this._authZTokens.clear()}_getBase64DeviceInfo(){try{const e=JSON.stringify(this._deviceInfo);return n.Buffer.from(e).toString("base64")}catch(e){}return""}requestClientRegistration(){var e,t;return h(this,void 0,void 0,(function*(){const r="/o/client/register";if(!this._softwareStatement)return Promise.reject(Object(l.r)());const n={software_statement:this._softwareStatement};this._redirectUri&&(n.redirect_uri=this._redirectUri);const i=this._getBase64DeviceInfo();let o,a,s,u;const c=Object.assign(Object.assign({},b),{"Content-Type":"application/json"}),f=Object.assign(Object.assign({},c),{"User-Agent":null!==(t=null===(e=this._deviceInfo)||void 0===e?void 0:e.userAgent)&&void 0!==t?t:"unknown","X-Device-Info":i});try{o=yield this._call({method:g,path:r,headers:i?f:c,body:JSON.stringify(n)})}catch(e){if(i)try{o=yield this._call({method:g,path:r,headers:c,body:JSON.stringify(Object.assign(Object.assign({},n),{device_info:i}))})}catch(t){a=e}else a=e}if(o)try{u=yield o.json()}catch(e){s=e}return a?Promise.reject(Object(l.m)(a,null!=u?u:{})):s?Promise.reject(Object(l.l)(s)):Object.assign({success:!("error"in u)},u)}))}requestClientAccessToken({grantType:e,clientId:t,clientSecret:r}){return h(this,void 0,void 0,(function*(){let n;if(!this._softwareStatement)return Promise.reject(Object(l.r)());const i={client_id:t,client_secret:r};e&&(i.grant_type=e);const o=new URLSearchParams(i);try{n=yield this._call({method:g,path:"/o/client/token",headers:Object.assign(Object.assign({},b),{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}),body:o.toString()})}catch(e){return Promise.reject(Object(l.k)(e))}try{return yield n.json()}catch(e){return Promise.reject(Object(l.j)(e))}}))}setAccessToken(e){this._accessToken=e}getAccessToken(){return this._accessToken}setFireTvToken(e){this._fireTvToken=e}getFireTvToken(){return this._fireTvToken}requestConfig(){return h(this,void 0,void 0,(function*(){let e,t;try{e=yield this._call({method:v,path:"/api/v1/config/"+encodeURI(this._requestorId),headers:b})}catch(e){return Promise.reject(Object(l.o)(e))}try{t=yield e.json()}catch(t){return Promise.reject(Object(l.n)(e,t))}try{const e=O(t);if(!e)throw new Error("Missing mvpd data in Adobe config");return e}catch(e){return Promise.reject(Object(l.p)(e))}}))}requestRegCode(){return h(this,void 0,void 0,(function*(){this._clearCachedData();const e=this._getDeviceIdParams();let t,r;this._registrationUrl&&(e.registrationURL=this._registrationUrl),this._regcodeTtl&&(e.ttl=""+this._regcodeTtl);try{t=yield this._call({method:g,path:`/reggie/v1/${encodeURI(this._requestorId)}/regcode`,headers:Object.assign(Object.assign({},b),{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}),body:new URLSearchParams(e).toString()})}catch(e){return Promise.reject(Object(l.v)(e))}try{r=yield t.json()}catch(e){return Promise.reject(Object(l.w)(e))}return r}))}validateRegCode(e=""){return h(this,void 0,void 0,(function*(){let t,r;try{t=yield this._call({method:v,path:`/reggie/v1/${encodeURI(this._requestorId)}/regcode/${encodeURI(e)}`,headers:b})}catch(e){return Promise.reject(Object(l.v)(e))}try{r=yield t.json()}catch(e){return Promise.reject(Object(l.w)(e))}return r}))}releaseRegCode(e=""){return h(this,void 0,void 0,(function*(){try{return yield this._call({method:"DELETE",path:`/reggie/v1/${encodeURI(this._requestorId)}/regcode/${encodeURI(e)}`,headers:b}),!0}catch(e){return Promise.reject(Object(l.v)(e))}}))}getAuthenticationUrl({regCode:e,mvpdId:t,redirectUrl:r}){const n={requestor_id:this._requestorId,domain_name:this._requestorDomain,noflash:"true",no_iframe:"true",mso_id:t,redirect_url:r},i=new URL(this._adobeOrigin+"/api/v1/authenticate"),o=new URLSearchParams(n);return i.search=`reg_code=${e}&${o.toString()}`,i}checkRegCodeAuthN(e=""){return h(this,void 0,void 0,(function*(){const t={requestor:this._requestorId};return this._call({method:v,path:"/api/v1/checkauthn/"+encodeURI(e),headers:b,searchParams:t})}))}checkAuthNToken(){return h(this,void 0,void 0,(function*(){const e=Object.assign({requestor:this._requestorId},this._getDeviceIdParams());try{return yield this._call({method:v,path:"/api/v1/checkauthn",headers:b,searchParams:e}),!0}catch(e){return this._clearCachedData(),Promise.reject(Object(l.i)(e))}}))}_storeAuthNToken(e){if(Object(u.a)(e)){this._authNToken=e;const{userId:t,mvpd:r}=e;this._hashedUserId=t||null,this._cachedMvpdId=r||null}}requestAuthNToken(){return h(this,void 0,void 0,(function*(){const e=Object.assign({requestor:this._requestorId},this._getDeviceIdParams());let t,r;try{t=yield this._call({method:v,path:"/api/v1/tokens/authn",headers:b,searchParams:e})}catch(e){return Promise.reject(Object(l.c)(e))}try{r=yield t.json()}catch(e){return Promise.reject(Object(l.d)(e))}return this._storeAuthNToken(r),r}))}authorize(e=""){return h(this,void 0,void 0,(function*(){const t=Object.assign({requestor:this._requestorId,resource:e},this._getDeviceIdParams());let r,n;try{r=yield this._call({method:v,path:"/api/v1/authorize",headers:b,searchParams:t})}catch(e){return Promise.reject(Object(l.g)(e))}try{n=yield r.json()}catch(e){return Promise.reject(Object(l.h)(e))}return n.expires=_(n.expires),this._storeAuthZToken(e,n),n}))requestAuthZToken(e=""){return h(this,void 0,void 0,(function*(){const t=Object.assign({requestor:this._requestorId,resource:e},this._getDeviceIdParams());let r,n;try{r=yield this._call({method:v,path:"/api/v1/tokens/authz",headers:b,searchParams:t})}catch(e){return Promise.reject(Object(l.e)(e))}try{n=yield r.json()}catch(e){return Promise.reject(Object(l.f)(e))}return n.expires=_(n.expires),this._storeAuthZToken(e,n),n}))}requestShortMediaToken(e=""){return h(this,void 0,void 0,(function*(){const t=Object.assign({requestor:this._requestorId,resource:e},this._getDeviceIdParams());let r,n;try{r=yield this._call({method:v,path:"/api/v1/tokens/media",headers:b,searchParams:t})}catch(e){return Promise.reject(Object(l.x)(e))}try{n=yield r.json()}catch(e){return Promise.reject(Object(l.y)(e))}const{expires:i}=n;return n.expires=_(i),n}))}requestPreauthorizedResources(e){return h(this,void 0,void 0,(function*(){if(!e||!Array.isArray(e)||!e.length)return Promise.reject(Object(l.s)());const t=e.join(","),r=t.length<100?v:g,n=Object.assign({requestor:this._requestorId,resource:t,deviceId:this._deviceId},this._getDeviceIdParams());let i;const o={method:r,path:"/api/v1/preauthorize/",headers:b};r===g?o.body=new URLSearchParams(n):o.searchParams=n;try{i=yield this._call(o)}catch(e){return Promise.reject(Object(l.t)(e))}let a;try{a=yield i.json()}catch(e){return Promise.reject(Object(l.u)(e))}return a}))}logout(){return h(this,void 0,void 0,(function*(){this._clearCachedData();try{return this._call({method:"DELETE",path:"/api/v1/logout",headers:b,searchParams:this._getDeviceIdParams()})}catch(e){return Promise.reject(Object(l.q)(e))}}))}requestUserMetadata(){return h(this,void 0,void 0,(function*(){const e=Object.assign({requestor:this._requestorId},this._getDeviceIdParams());let t,r;try{t=yield this._call({method:v,path:"/api/v1/tokens/usermetadata",headers:b,searchParams:e})}catch(e){return Promise.reject(Object(l.A)(e))}try{r=yield t.json()}catch(e){return Promise.reject(Object(l.B)(e))}return r}))}getDeviceID(){return this._hashedDeviceId||null}getUserID(){return this._hashedUserId||null_getCachedAuthNToken(){let e=this._authNToken;if(Object(u.a)(e)){const{expires:t}=e;(!t||Date.now()>t)&&(e=this._authNToken=void 0)}return e}getAuthNTTL(){const e=this._getCachedAuthNToken();if(Object(u.a)(e)){const{expires:t=null}=e;return t}return null}_getCachedAuthZToken(e){let t=this._authZTokens.get(e);if(Object(u.a)(t)){const{expires:r}=t,n=Number(r);(!n||Date.now()>n)&&(this._authZTokens.delete(e),t=void 0)}return t}getAuthZTTL(e){if(!e)return null;const t=this._getCachedAuthZToken(e);if(Object(u.a)(t)){const{expires:e=null}=t;return e}return null}_updateCachedUserMetadata(){return h(this,void 0,void 0,(function*(){if(!this._userMetadata||!this._userMetadataUpdated||Math.abs(Date.now()-this._userMetadataUpdated)>432e5){const e=yield this.requestUserMetadata();if(Object(u.a)(e)){this._userMetadata=e;const{updated:t=Date.now()}=e;this._userMetadataUpdated=t}}}))}requestUserMetadataValue(e){return h(this,void 0,void 0,(function*(){if(!e)return null;if(yield this._updateCachedUserMetadata(),Object(u.a)(this._userMetadata)){const{data:t}=this._userMetadata;return Object(u.a)(t)?t[e]:null}return null}))}requestTempPassToken(e=""){return h(this,void 0,void 0,(function*(){this._clearCachedData();const t=Object.assign({domain_name:this._requestorDomain,requestor_id:this._requestorId,mso_id:e},this._getDeviceIdParams());try{return yield this._call({method:g,path:"/api/v1/authenticate/freepreview",headers:Object.assign(Object.assign({},b),{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}),body:new URLSearchParams(t).toString()}),!0}catch(e){return Promise.reject(Object(l.z)(e))}}))}}const y=(e,t,r)=>{if(Object(u.a)(e)){const{expires:n}=e,i=Number(n);(!i||!Object(s.a)(i)||Date.now()>=i)&&r.delete(t)}},_=e=>{const t=Number(e);return!isNaN(t)&&t&&Object(s.a)(t)?String(t):String(Date.now()+3e5)},w=e=>Object(o.a)(e)?e.map(w):Object(u.a)(e)?"value"in e?e.value:Object.entries(e).reduce,{}):e,O=e=>{try{return w(e).requestor.mvpds.mvpd}catch(e){}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));const n=[],i=new class{get libVersion(){return"2.13.0-57"}get nexusVersion(){return"2.2.12"get buildTime(){return 1674864574681}get buildTimeISO(){return"2023-01-28T00:09:34.681Z"},function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.a=r}).call(this,r(95))},function(e,t,r){"use strict";t.a=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){"use strict";t.a=function(e,t){return e.has(t)}},function(e,t,r){"use strict";var n=r(108),i=r(9);t.a=function(e,t,r){var o=t(e);return Object(i.a)(e)?o:Object(n.a)(o,r(e))}},function(e,t,r){"use strict";t.a=function(){return[]}},function(e,t,r){"use strict";t.a=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},function(e,r,n){"use strict";(function(e){var i=n(15),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.a.Buffer:void 0,u=s?s.allocUnsafe:void 0;r.a=function(e,t){if(t)return e.slice();var r=e.length,n=u?u(r):new e.constructor(r);return e.copy(n),n}}).call(this,n(234)(e))},function(e,t,r){"use strict";var n=r(113);t.a=function(e,t){var r=t?Object(n.a)(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},function(e,t,r){"use strict";var n=r(63),i=r(114),o=r(88),a=r(31),s=r(30),u=function(e,t){return e&&Object(a.a)(t,Object(s.a)(t),e)},c=r(35),l,f=r(189),d=r(112),h=r(110),p=function(e,t){return Object(a.a)(e,Object(h.a)(e),t)},v=r(181),g,b=r(140),m=r(109),y=r(46),_=Object.prototype.hasOwnProperty,w,O=r(113),S=/\w*$/,j=r(20),E=j.a?j.a.prototype:void 0,A=E?E.valueOf:void 0,x=r(192),P,T=r(190),C=r(9),k=r(45),I=r(13),R=r(81),L=r(70),N=L.a&&L.a.isMap,M=N?Object(R.a)(N):function(e){return Object(I.a)(e)&&"[object Map]"==Object(y.a)(e)},D=r(6),U=L.a&&L.a.isSet,F=U?Object(R.a)(U),B={};B["[object Arguments]"]=B["[object Array]"]=B["[object ArrayBuffer]"]=B["[object DataView]"]=B["[object Boolean]"]=B["[object Date]"]=B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Map]"]=B["[object Number]"]=B["[object Object]"]=B["[object RegExp]"]=B["[object Set]"]=B["[object String]"]=B["[object Symbol]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B["[object Error]"]=B["[object Function]"]=B["[object WeakMap]"]=!1,t.a=function e(t,r,a,h,v,_){var O,S=1&r,j=2&r,E=4&r;if(a&&(O=v?a(t,h,v,_):a(t)),void 0!==O)return O;if(!Object(D.a)(t))return t;var A=Object(C.a)(t);if(A){if(O=w(t),!S)return Object(d.a)(t,O)}else{var x=Object(y.a)(t),I="[object Function]"==x||"[object GeneratorFunction]"==x;if(Object(k.a)(t))return Object(f.a)(t,S);if("[object Object]"==x||"[object Arguments]"==x||I&&!v){if(O=j||I?{}:Object(T.a)(t),!S)return j?g(t,l(O,t)):p(t,u(O,t))}else{if(!B[x])return v?t:{};O=P(t,x,S)}}_||(_=new n.a);var R=_.get(t);if(R)return R;_.set(t,O),F(t)?t.forEach()):M(t)&&t.forEach());var L=E?j?m.a:b.a:j?c.a:s.a,N=A?void 0:L(t);return Object(i.a)(N||t,)),O}},function(e,t,r){"use strict";var n=r(50),i=r(195),o=r(52),a=r(87),s=function(e,t){return t.length<2?e:Object(a.a)(e(t,0,-1))},u=r(51),c=function(e,t){return t=Object(o.a)(t,e),null==(e=s(e,t))||delete e[Object(u.a)(t))]},l=r(31),f=r(27),d,h=r(205),p,v=r(176),g=r(199),b=r(109),m((function(e,t){var r={};if(null==e)return r;var a=!1;t=Object(n.a)(t,)),Object(l.a)(e,Object(b.a)(e),r),a&&(r=Object(i.a)(r,7,d));for(var s=t.length;s--;)c(r,t[s]);return r}));t.a=m},function(e,t,r){"use strict";var n=r(200),i=r(178),o=function(e){return e!=e},a=function(e,t){return!(null==e||!e.length)&&function(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Object(i.a)(e,o,r)}(e,t,0)>-1},s,u=r(50),c=r(81),l=r(179),f=r(205),d=r(83),h=r(139),p=Object(d.a)((function(e,t){return Object(h.a)(e)?function(e,t,r,i){var o=-1,f=a,d=!0,h=e.length,p=[],v=t.length;if(!h)return p;r&&(t=Object(u.a)(t,Object(c.a)(r))),i?(f=s,d=!1):t.length>=200&&(f=l.a,d=!1,t=new n.a(t));e:for(;++o<h;){var g=e[o],b=null==r?g:r(g);if(g=i||0!==g?g:0,d&&b==b){for(var m=v;m--;)if(t[m]===b)continue e;p.push(g)}else f(t,b,i)||p.push(g)}return p}(e,Object(f.a)(t,1,h.a,!0)):[]}));t.a=p},function(e,t,r){"use strict";var n=r(89),i,o=r(92),a,s=r(34),u=r(9),c=function(e,t){return function(t,r){var n={};return(Object(u.a)(t)?i:a)(t,e,Object(s.a)(r,2),n)}}((function(e,t,r){Object(n.a)(e,r,t)}));t.a=c},function(e,t,r){"use strict";var n=function(e){return function(){return e}},i=r(118),o=r(84),a=i.a?function(e,t){return Object(i.a)(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o.a,s=Date.now,u=function(e){var t=0,r=0;return function(){var n=s(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(a);t.a=u},function(e,t,r){"use strict";var n=r(101);function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n.a;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},i.prototype.has=function(e){return this.__data__.has(e)},t.a=i},function(e,t,r){"use strict";var n=r(50),i=r(34),o=r(92),a=r(24),s,u=r(9);t.a=function(e,t){return(Object(u.a)(e)?n.a:s)(e,Object(i.a)(t,3))}},function(e,t,r){"use strict";var n=r(56),i=r(9),o=r(45),a=r(85),s=r(61),u=Object.prototype.hasOwnProperty;t.a=function(e,t){var r=Object(i.a)(e),c=!r&&Object(n.a)(e),l=!r&&!c&&Object(o.a)(e),f=!r&&!c&&!l&&Object(s.a)(e),d=r||c||l||f,h=d?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],p=h.length;for(var v in e)!t&&!u.call(e,v)||d&&("length"==v||l&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||Object(a.a)(v,p))||h.push(v);return h}},function(e,t,r){"use strict";var n;t.a=n},function(e,t,r){"use strict";var n=r(108),i=r(20),o=r(56),a=r(9),s=i.a?i.a.isConcatSpreadable:void 0,u=function(e){return Object(a.a)(e)||Object(o.a)(e)||!!(s&&e&&e[s])};t.a=function e(t,r,i,o,a){var s=-1,c=t.length;for(i||(i=u),a||(a=[]);++s<c;){var l=t[s];r>0&&i(l)?r>1?e(l,r-1,i,o,a):Object(n.a)(a,l):o||(a[a.length]=l)}return a}},function(e,t,r){"use strict";var n=r(71);t.a=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=Object(n.a)(r))==r?r:0),void 0!==t&&(t=(t=Object(n.a)(t))==t?t:0),function(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e}(Object(n.a)(e),t,r)}},return t}},functd(t)}n.prototype.parsee"),o.doc},i.prototype={stasystemId)},steNode(f)}},arentNode},startPreion(e,t){},endPrefixMapping:function(e){},processingIu(this,r)},ignorablen(e,t,r){},cator,n)}},skiction(e){},endDocument:function(){this.doc.normalize()},setDocumNumber=0u(this,n)},startCDATA:function(){this.cdata=!0.cdata=!1(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,a(this.locatolocator))},.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replaurn null}}));var c=r(432),l=r(433),f=l.XMLReader,d=l.ParseError,h=t.DOMImplementation=r(272).DOMImplementation;t.XMLSerializer=r(272).XMLSerializer,t.DOMParser=n,t.__DOM.enc.Utf8},function(e,t,r){"use strict";var n=r(279),d 0:e[t]}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),a=r(117),s=/[&<>"']/g,u=RegExp(sce(s,o):e},l=r(31),f=r(90),d=r(35),h=Ob.a)(t),e)})),p=r(116),v=r(9),g=r(32),b=r(6),m=r(25),y=r(201),_=r(63),w=r(89)a)(e,t,r)},j=r(204),E=r(189),A=r(192),x=r(112),P=r(190),T=r(56),C=r(139),k=r(45),I=r(27)tu(d.a)(e))},M=function e(t,r,n,i,o){t!==r&&Object(j.a)(r,(function(a,s){if(o||(o=new _.a),ObjecS(e,r,l)}}(t,r,s,n,e,i,o);else{var u=i?i(L(t,s),a,s+"",t,r,o):void 0;void 0===u&&(u=a),S(t,s,u)}}),d.a)},D=Ob{M(e,t,r)})),U=Ob)(t),e,n)})),F=r(177),B=r(83),z=r(26)t(I.a)(e)},V=ObError(e)}})),$=r(194),W=Object.prototype,G=W.hasOwn(n,r)?t:e},Y={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"\\"+Y[e]},Z=r(115),Q=r(30),X=/<%=([\s\S]+?)%>/g,ee={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:X,variable:"",imports:{_:{escape:c}}},te=/\b__p \+= '';/g,re=/\b(__p \+=) '' \+/g,ne=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ie=/[()=,{}\[\]\/\s]/,oe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ae=/($^)/,se=/['\n\r\u2028\u2029\\]/g,ue=Object.prototype.hasOwnProperty,ce=r(193),lee.a)(e,5)},de=r(114),he=r(191),pe=r(188),ve=r(34),ge=r(82),be="transition",me="handling",ye="handled",_e="nohandler",we="transition",Oe="transitioned",Se="invalidstate";function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ee,Ae=[].slicsm."+Ee++});function Pe(){return{initialState:"uninitialized",eventListeners:{"*":[]},states:{},namespace:xe(),useSafeEmit:!1,hierarchy:{},pendingDelegations:{}}}var Te=["states","initialState"],Ce={createUUID:function(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},extend:function(e,t){var r,n=this,i={},o=function(){};return r=e&&e.hasOwnProperty("constructor")?e.constructor:function(){var e,t=Ae.call(arguments,0);t[0]=t[0]||{};var r=t[0].states||{};(e=D(fe(i),{states:r})).initialState=t[0].initialState||this.initialState,h(t[0],e),n.apply(this,t)},D(r,n),o.prototype=n.prototype,r.prototype=new o,e&&(h(r.prototn,i)})),r}(e,(function(e,t,r){-1!==Te.indexOf(r)&&(e[r]=t)})))),t&&D(r,t),r.prototype.constructor=r,r.__super__=n.prototype,r},getDefaultBehavioralOptions:Pe,getDefaultOptions:Pe,getDefaultClientMeta:function(){return{inputQueue:[],targetReplayState:"",state:void 0,priorState:void 0,priorAction:"",currentAction:"",currentActionArgs:void 0,inExitHandler:!1}},getChildFsmInstance:function(e){if(e){var t={};return"object"===je(e)?e.factory?(t=e).instance=t.factory():t.factory=function(){return e}:"function"==typeof e&&(t.factory=e),t.instance=t.factory(),t}},getLeaklessArgs:function(e,t){for(var r=[],n=t||0;n<e.length;n++)r[n]=e[n];return r},listenToChild:function(e,t){return t.on("*",(function(t,r){switch(t){case _e:r.ticket||r.delegated||r.namespace===e.namespace||(r.args[1].bubbling=!0),"_reset"!==r.inputType&&e.handle.apply(e,r.args);break;case me:var n=r.ticket;n&&e.pendingDelegations[n]&&delete e.pendingDelegations[n],e.emit(t,r);break;default:e.emit(t,r)}}))},makeFsmNamespace:xe};function ke(){return{emit:function(e){var t=Ce.getLeaklessArgs(arguments);this.eventListeners["*"]&&this.eventListeners["*"].forEach((function(e){if(this.useSafeEmit)try{e.apply(this,t)}catch(e){console&&void 0!==console.log&&console.log(e.stack)}else e.apply(this,t)}),this),this.eventListeners[e]&&this.eventListeners[e].forEach((function(e){if(this.useSafeEmit)try{e.apply(this,t.slice(1))}catch(e){console&&void 0!==console.log&&console.log(e.stack)}else e.apply(this,t.slice(1))}),this)},on:function(e,t){var r=this;return r.eventListeners=r.eventListeners||{"*":[]},r.eventListeners[e]||(r.eventListeners[e]=[]),r.eventListeners[e].push(t),{eventName:e,call.off(e,t)}}},off:function(e,t){this.eventListeners=this.eventListeners||{"*":[]},e?this.eventListeners[e]=t?this.eventListeners[urn e!==t})):[]:this.eventListeners={}}}}var Ie={getInstance:ke,instance:ke()},Re=Object.prototype,Le=Re.hasOwnProperty,Ne=Ob}return e})),Me=r(92),De=r(84),Ue=function(e,t){return(Object(v.a)(e)?de e?e:De.a}(t))},Feh(e.a)(t,3))},qe=r(197);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ve=Ie.instance;function $e(e){h(this,e),Ne(this,Ce.getDefaultBehavioralOptions()),this.initialize.apply(this,arguments),Ve.emit("newfsm",this)}h($e.prototype,{initialize:function(){},initClient:function(e){var t=this.initialState;if(!t)throw new Error("You must specify an initial state for this FSM");if(!this.states[t])throw new Error("The initial state specified does not exist in the states object.");this.transition(e,t)},configForState:function(e){var t,r=this.states[e];return Ue(this.hierarchy,(function(e,t){e&&"function"==typeof e.off&&e.off()})),r._child&&(r._child=Ce.getChildFsmInstance(r._child),t=r._child&&r._child.instance,this.hierarchy[t.namespace]=Ce.listenToChild(this,t)),t},ensureClientMeta:function(e){if("object"!==He(e))throw new Error("An FSM client must be an object.");return e.__machina__=e.__machina__||{},e.__machina__[this.namespace]||(e.__machina__[this.namespace]=fe(Ce.getDefaultClientMeta()),this.initClient(e)),e.__machina__[this.namespace]},buildEventPayload:function(e,t){return Object(I.a)(t)?h(t,{client:e,namespace:this.namespace}):{client:e,data:t||null,namespace:this.namespace}},getHandlerArgs:function(e,t){var r=e.slice(0),n=r[1];return"object"===He(n)&&r.splice(1,1,n.inputType),t?r:[r[0]].concat(r.slice(2))},getSystemHconcat(e)},handle:function(e,t){var r=t;if(void 0===t)throw new Error("The input argument passed to the FSM's handle method is undefined. Did you forget to pass the input name?");"string"==typeof t&&(r={inputType:t,delegated:!1,ticket:void 0});var n=this.ensureClientMeta(e),i=Ce.getLeaklessArgs(arguments);"object"!==He(t)&&i.splice(1,1,r),n.currentActionArgs=i.slice(1);var o,a,s,u,c,l=n.state,f=this.states[l],d=!1;if(!n.inExitHandler)if(!(s=this.configForState(l))||this.pendingDelegations[r.ticket]||r.bubbling){r.ticket&&this.pendingDelegations[r.ticket]&&delete this.pendingDelegations[r.ticket],d="*"===(o=f[r.inputType]?r.inputType:"*"),a=f[o]||this[o]||this["*"],c=n.state+"."+o,n.currentAction=c;var p=this.buildEventPayload(e,{inputType:r.inputType,delegated:r.delegated,ticket:r.ticket});a?(this.emit(me,p),"function"==typeof a?u=a.apply(this,this.getHandlerArgs(i,d)):(u=a,this.transition(e,a)),this.emit(ye,p)):this.emit(_e,h({args:i},p)),n.priorAction=n.currentAction,n.currentAction="",n.currentActionArgs=void 0}else r.ticket=r.ticket||Ce.createUUID(),r.delegated=!0,this.pendingDelegations[r.ticket]={delegatedTo:s.namespace},u=s.handle.apply(s,i);return u},transition:function(e,t){var r,n=this.ensureClientMeta(e),i=n.state,o=this.states[i],a=this.states[t],s=Ce.getLeaklessArgs(arguments).slice(2);if(!n.inExitHandler&&t!==i){if(a){r=this.configForState(t),o&&o._onExit&&(n.inExitHandler=!0,o._onExit.call(this,e),n.inExitHandler=!1),n.targetReplayState=t,n.priorState=i,n.state=t;var u=this.buildEventPayload(e,{fromState:n.priorState,action:n.currentAction,toState:t});return this.emit(we,u),a._onEnter&&(a._onEnter.apply(this,this.getSystemHandlerArgs(s,e)),this.emit(Oe,u)),r&&r.handle(e,"_reset"),void(n.targetReplayState===t&&this.processQueue(e,be))}this.emit(Se,this.buildEventPayload(e,{state:n.state,attemptedState:t}))}},deferUntilTransition:function(e,t){var r=this.ensureClientMeta(e);if(r.currentActionArgs){var n={type:be,untilState:t,args:r.currentActionArgs};r.inputQueue.push(n);var i=this.buildEventPayload(e,{state:r.state,queuedArgs:n});this.emit("deferred",i)}},deferAndtion(e,t)},processQueue:function(e){var t=this.ensureClientMeta(e),r=ze(t.i==t.state}));t.inputQueue=Object(qe.a)(t.inputQueue,r),r.forEach((function(t){this.handle.apply(this,[e].concat(t.args))}),this)},clearQueue:function(e,t){var r=this.ensureClientMeta(e);r.inputQueue=t?ze(r.inputQueue,(function(e){return!t||e.untilState!==t})):[]},compositeState:function(e){var t=this.ensureClientMeta(e).state,r=this.states[t]._child&&this.states[t]._child.instance;return r&&(t+="."+r.compositeState(e)),t}},Ie.getInstance()),$e.extend=Ce.extendof e})(e)}var Je={centMeta()},initClient:function(){var e=this.initialState;if(!e)throw new Error("You must specify an initial state for this FSM");if(!this.states[e])throw new Error("The initial state specified does not exist in the states object.");this.transition(e)},ensureClientMeta:function(){return this._stamped||(this._stamped=!0,Ne(this,fe(Ce.getDefaultClientMeta())),this.initClient()),this},ensureClientArg:function(e){var t=e;return"object"!==Ge(t[0])||"inputType"in t[0]||t[0]===this?("object"!==Ge(t[0])||"object"===Ge(t[0])&&"inputType"in t[0])&&t.unshift(this):t.splice(0,1,this),t},getHandlerArgs:function(e,t){var r=e,n=r[1];return"object"===("undefined"==typeof inputType?"undefined":Ge(inputType))&&r.splice(1,1,n.inputType),t?r.slice(1):r.slice(2)},getSystemHandlerArgs:function(e,t){return e},buildEventPayload:function(){var e=this.ensureClientArg(Ce.getLeaklessArgs(arguments)),t=e[1];return Object(I.a)(t)?h(t,{namespace:this.namespace}):{data:t||null,namespace:this.namespace}}};["handle","transition","deferUntilTransition","processQueue","clearQueue"].forEach((function(e){Je[e]=function(){var t=this.ensureClientArg(Ce.getLeaklessArgs(arguments));return We.prototype[e].apply(this,t)}}));var Ye=Je=We.extend(Je),Ke=D(Ie.instance,{Fsm:Ye,BehavioralFsm:We,utils:Ce,eventListeners:{newFsm:[]}}),Ze=r(4);const Qe=/[-[\]{}()*+?.,\\^$#\sQe,"\\$&"),et=r(40),tt=r(0);const rt=tt.w.getLogger("RememberedProvider").filter("picker");var nt={storeKey:"top.auth.rememberedPrstoreKey)},save(e){return rt.debug(`saving provider "${e}"...`),Object(et.d)(this.storeKey,e)}},it=r(73);const ot=tt.w.getLogger("Picker").filter("picker");let at=!1;const st="taui-mvpdpicker";let ut,ct=null,lt=null,ft=null,dt=null;function ht(e){const t=h({},e||window.event);return t.target||(t.target=e.srcElement||document),t}function pt(e){const t=ht(e).target;""===t.value.trim()&&(t.value="Enter your TV Provider")}function vt(e){const t=ht(e).target;"Enter your TV Provider"===t.value&&(t.value="")}let gt=null,bt=null;function mt(e,t,r){return{el:e,next:t<r.length-1?r[ore(e,t)}const wt=(()=>{let e;return()=>{if(!e){const t=document.getElementById(st);t&&(e=t)}retntains(e)}function St({el:e}){return Ot(e)}function jt(e){if(!gt)return;const{el:t,next:r}=e,n=gt.indexOf(e)+2;if(r)if(function({next:e}){return null!=e&&Ot(e)}(e))_t(t,r);else if(n<gt.length){const e=Object(p.a)(gt.slice(n),St);e?_t(t,e.el):yt(t)}else yt(t);else yt(t)}function Et(){gt&&gt.slice(0).reverse().forEach(jt)}const At=Object(i.a)((function(e){const t=e.target;if(!t)return;null===gt&&dt&&dt.length&&(bt=Ze.l(dt[0]),gt=dt.map(mt));const r=t.value;if(!r||"Enter your TV Provider"===r)return void Et();if(!gt||!gt.length)return;const n=new RegExp(r.replace(/\s+/,"").split("",15).map(Xe).join(".*"),"i");gt.forEach(e=>{const{el:t}=e,r=Ze.o(t);null!=r&&(n.test(r)?jt(e):function({el:e}){const t=Ze.l(e);t&&t.removeChild(e)}(e)At(ht(e))}const Pt=O&Ze.d(ct)},250,{leading:!0}),Tt=(e,t)=>{const{id:r}=t;return e[r]=t,e};eChanged"}(Ct"success"}(kt||(kt={}));const It={[kt.Welcome]:"taui-state-welcome",[kt.Remembered]:"taui-state-remember",[kt.FindByLogo]:"taui-state-mvpdlogo",[kt.FindByName]:"taui-state-mvpdlist",[kt.NoProvider]:"taui-state-notfound",[kt.DarkProvider]:"taui-state-dark",[kt.SignIn]:"taui-state-signin",[kt.Error]:"taui-state-error",[kt.Success]:"taui-state-success"},Rt={[kt.Welcome]:tt.E.Welcome,[kt.Remembered]:tt.E.Provider_Remembered,[kt.FindByLogo]:tt.E.Primary_Providers,[kt.FindByName]:tt.E.List_All_Providers,[kt.NoProvider]:tt.E.Provider_Not_Found,[kt.DarkProvider]:tt.E.Provider_Dark_Phased,[kt.SignIn]:tt.E.Provider_Login,[kt.Error]:tt.E.Provider_Login_Error,[kt.Success]:tt.E.Provider_Login_Success},Lt=function(e,t,r){var n=ee.imports._.templateSettings||ee;r&&Object(Z.a)(e,t,r)&&(t=void 0),e=Object(a.a)(e),t=U({},t,n,J);var i,o,s=U({},t.imports,n.imports,J),u=Object(Q.a)(s),c=Object($.a)(s,u),l=0,f=t.interpolate||ae,d="__p += '",h=RegExp((t.escape||ae).source+"|"+f.source+"|"+(f===X?oe:ae).source+"|"+(t.evaluate||ae).source+"|$","g"),p=ue.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e..length,t})),d+="';\n";var v=ue.call(t,"variable")&&t.variable;if(v){if(ie.test(v))throw new Error("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(te,""):d).replace(re,"$1").replace(ne,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}void 0,c)}));if(g.source=d,H(g))throw g;return g}(((e,...t)=>{const{raw:r}=e;let n="";return t.forEach((e,t)=>{const i=r[t];let o=e;Array.isArray(o)&&(o=o.join("")),n+=i,n+=o}),n+=r[r.length-1],n.split(/\/^\s+/,"")).join("").trim()})`
    <div class="taui-header">
        <div class="taui-help"></div>
        <div class="taui-close"></div>
        <div class="taui-title"><span><%= strings.title %></span></div>
    </div>
    <div class="taui-subheading-area">
        <div class="taui-subheading taui-subheading1select"><span><%= strings.subheading1select %></span></div>
        <div class="taui-subheading taui-subheading2signin"><span><%= strings.subheading2signin %></span></div>
        <div class="taui-subheading taui-subheading3watch"><span><%= strings.subheading3watch %></span></div>
    </div>
    <div class="taui-slates">
        <div class="taui-slate taui-welcome">
            <div class="taui-message taui-welcomemessage"><%= strings.welcomemessage %></div>
            <button class="taui-welcomeloginbutton"><span><%= strings.welcomeloginbutton %></span></button>
        </div>
        <div class="taui-slate taui-remembered">
            <div class="taui-message taui-rememberedmessage"></div>
            <div class="taui-footer taui-rememberedfooter">
                <button class="taui-rememberedcancelbutton"><span><%= strings.rememberedcancelbutton %></span></button>
                <button class="taui-rememberedokbutton"><span><%= strings.rememberedokbutton %></span></button>
            </div>
        </div>
        <div class="taui-slate taui-pickbylogo">
            <ul class="taui-mvpdsbylogo">
                <% primaryMvpds.forEach(function (mvpd, index) { %>
                    <li data-mvpdid="<%- mvpd.id %>" title="<%- mvpd.displayName %>"><div data-mvpdid="<%- mvpd.id %>" class="taui-mvpdlogo" style="background-image: url(<%- primaryLogos[index] %>)"></div></li>
                <% }); %>
            </ul>
            <div class="taui-footer">
                <button class="taui-viewallbutton"><span><%= strings.viewallbutton %></span></button>
            </div>
        </div>
        <div class="taui-slate taui-findbyname">
            <div class="taui-searchheader">
                <div class="taui-searchfield">
                    <input class="taui-mvpdsearch" type="text" value="Search">
                </div>
            </div>
            <div class="taui-searchpane">
                <ul class="taui-mvpdsbyname">
                    <% mvpds.forEach(function (mvpd) { %>
                        <li data-mvpdid="<%- mvpd.id %>"><%- mvpd.displayName %></li>
                    <% }); %>
                </ul>
            </div>
            <div class="taui-footer taui-searchfooter">
                <% if (primaryMvpds.length) { %>
                    <button class="taui-viewtopbutton"><span><%= strings.viewtopbutton %></span></button>
                <% } %>
                <button class="taui-dontseebutton"><span><%= strings.dontseebutton %></span></button>
            </div>
        </div>
        <div class="taui-slate taui-noprovider">
            <div class="taui-message taui-noprovidermessage"><%= strings.noprovidermessage %></div>
            <button class="taui-okbutton taui-noproviderokbutton"><span><%= strings.noproviderokbutton %></span></button>
        </div>
        <div class="taui-slate taui-darkprovider">
            <div class="taui-message taui-darkprovidermessage"></div>
            <button class="taui-okbutton taui-darkproviderokbutton"><span><%= strings.darkproviderokbutton %></span></button>
        </div>
        <div class="taui-slate taui-signin">
            <div class="taui-message taui-signinmessage"><%= strings.signinmessage %></div>
            <div class="taui-spinnerbox">
                <div class="taui-spinner"></div>
            </div>
            <button class="taui-cancelbutton taui-signincancelbutton"><span><%= strings.signincancelbutton %></span></button>
        </div>
        <div class="taui-slate taui-error">
            <div class="taui-message taui-errormessage"><%= strings.errormessage %></div>
            <button class="taui-okbutton taui-errorokbutton"><span><%= strings.errorokbutton %></span></button>
        </div>
        <div class="taui-slate taui-success">
            <div class="taui-message taui-successmessage"><%= strings.successmessage %></div>
            <button class="taui-watchnowbutton"><span><%= strings.watchnowbutton %></span></button>
        </div>
    </div>
`),Nt=new Ke.Fsm({config:{primaryImgWidth:237,primaryImgHeight:97},initialState:kt.Closed,_priorPickingState:kt.FindByLogo,_previousPickerView:tt.E.Closed,_currentPickerView:tt.E.Closed,_providers:[],_selectedProvider:void 0,_emits.state})},onStateChange({state:e}){var t;if(ct){if(ct.className=Ze.e(ct.className,Object(ce.a)(It).reduce((t,r)=>(t[r]=r===It[e],t),{})),e===kt.FindByName&&this.config.autoFocusProviderTextField&&ft)try{ft.focus()}catch(e){}if(e in Rt&&(null===(t=this._auth)||void 0===t?void 0:t.dispatchPickerEvent)){const t=this._currentPickerView,r=Rt[e];switch(this._previousPickerView=t,this._currentPickerView=r,r){case tt.E.Closed:case tt.E.Welcome:case tt.E.Provider_Not_Found:{const e={previousView:t,currentView:r},n={type:tt.j.PickerViewStateChanged,pickerView:r,pickerViewState:e};this._auth.dispatchPickerEvent(n);break}case tt.E.Primary_Providers:{const e={providers:this.primaryMvpds,previousView:t,currentView:r},n={type:tt.j.PickerViewStateChanged,pickerView:r,pickerViewState:e};this._auth.dispatchPickerEvent(n);break}case tt.E.List_All_Providers:{const e={providers:this.mvpds,previousView:t,currentView:r},n={type:tt.j.PickerViewStateChanged,pickerView:r,pickerViewState:e};this._auth.dispatchPickerEvent(n);break}case tt.E.Provider_Dark_Phased:case tt.E.Provider_Remembered:case tt.E.Provider_Login:case tt.E.Provider_Login_Error:case tt.E.Provider_Login_Success:{const e={provider:this._selectedProvider,previousView:t,currentView:r},n={type:tt.j.PickerViewStateChanged,pickerView:r,pickerViewState:e};this._auth.dispatchPickerEvent(n);break}}}}},handleMvpdClick(e,t){const r=Ze.c(e,"data-mvpdid");this.selectProviderByMvpdId(r)},helpClicked(){var e,t;const{helpURL:r}=this.config;r&&window.open(r,"new"),this.emit(Ct.HelpClicked,{state:this.state,helpURL:r});const n={type:tt.j.PickerHelpRequested,helpURL:r};null===(t=null===(e=this._auth)||void 0===e?void 0:e.dispatchPickerEvent)||void 0===t||t.call(e,n)},closeClicked(){this.emit(Ct.CloseClicked,{state:this.state}),this.transition(kt.Closed)},transitionToProvidingState)},darkProviderFailure(e){this.emit(Ct.DarkProviderSelected,{mvpdId:e,success:!1}),this.transition(kt.NoProvider)},requestDarkPhaseDataSuccess(e,t,r){"lines"in r&&Object(v.a)(r.lines)&&r.lines.length>0?(e.innerHTML=(e=>{const t=/\$\{([^${}\r\n]+)\}/g;return Object(y.a)(e.lines,r=>r.replace(t,(t,r)=>{const n=r.trim();if(Object(b.a)(e.meta)&&n in e.meta){const t=e.meta[n];if(Object(b.a)(t)&&"text"in t){const e=Object(m.a)(t.text)?t.text:n;return"url"===t.type&&Object(m.a)(t.url)?`<a target="_blank" href="${c(t.url)}">${e}</a>`:e}return n}return n})).join("<br/>")})(r),this.emit(Ct.DarkProviderSelected,{mvpdId:t,success:!0}),this.transition(kt.DarkProvider)):(ot.debug(`Failed to find dark data for provider "${t}"!`),this.darkProviderFailure(t))},requestDarkPhaseDataFailure(e){ot.debug(`Failed to obtain dark provider data for provider "${e}"!`),this.darkProviderFailure()},darkProviderSelected(e){const t=Ze.k("#taui-mvpdpicker .taui-darkprovidermessage");if(!t)return ot.error("Could not find .darkprovidermessage!"),void this.darkProviderFailure(e);const r=this.getMvpdConfigEntry(e);null!=r&&"darkphase"in r?this.requestDarkPhaseDataSuccess(t,e,r.darkphase):this.requestDarkPhaseDataFailure(e)},populateRememberedProvider(e){const t=Ze.k("#taui-mvpdpicker .taui-rememberedmessage");if(!t)return ot.debug("Failed to find Picker remembered message."),Promise.resolve();if(!e||!e.displayName&&!e.id)return ot.debug(`Failed to find remembered provider "${ut}"`),t.innerHTML="",Promise.resolve();const r=e.displayName||e.id;return(e.primaryOrder?this.getPrimaryLogoUrl(e.id):Promise.resolve(void 0)).then(n=>{var i,o,a;const s=[];n&&(null===(a=null===(o=null===(i=this._providerImageUrlMap)||void 0===i?void 0:i[e.id])||void 0===o?void 0:o.success)||void 0===a||a)?s.push(`<div data-mvpdid="${e.id}" class="taui-mvpdlogo" title="${r}" style="background-image: url(${n})"></div>`):s.push(`<p class="taui-rememberedprovider">${r}</p>`),t.innerHTML=s.join("")})},loginWithRemembevpdId(ut)},selectProviderByMvpdId(e){if(!e)return ot.warn("How did you select a null provider?"),void(this._selectedProvider=void 0);const t=this.mvpdMap[e];this._selectedProvider=t,t?t.darkphase?this.handle("darkProviderSelected",e):(this._auth?this._auth.didSelectProvider(t):ot.error("Auth was not provided to MVPDPicker"),this.emit(Ct.MvpdSelected,{state:this.state,mvpdId:e})):ot.error("How did you select a provider not in the MVPD config?")},delegateClickHandler(e=window.event){if(!e)return;const t=e.target||e.srcElement;let{classList:r}=t;const n=t.tagName,i=t.parentElement,o=i?i.tagName:null;i&&("SPAN"===n&&"BUTTON"===o&&({classList:r}=i),Ze.c(i,"data-mvpdid"))?this.handleMvpdClick(i,e):Ze.c(t,"data-mvpdid")?this.handleMvpdClick(t,e):r.contains("taui-help")?this.handle("helpClicked"):r.contains("taui-close")?this.handle("closeClicked"):r.contains("taui-welcomeloginbutton")?this.handle("welcomeLoginClicked"):r.contains("taui-viewallbutton")?this.handle("viewAllClicked"):r.contains("taui-viewtopbutton")?this.handle("viewTopClicked"):r.contains("taui-dontseebutton")?this.handle("dontSeeClicked"):r.contains("taui-noproviderokbutton")?this.handle("noproviderOkClicked"):r.contains("taui-darkproviderokbutton")?this.handle("darkproviderOkClicked"):r.contains("taui-rememberedcancelbutton")?this.handle("rememberedCancelClicked"):r.contains("taui-rememberedokbutton")?this.handle("rememberedOkClicked"):r.contains("taui-signincancelbutton")?this.handle("signinCancelClicked"):r.contains("taui-errorokbutton")?this.handle("errorOkClicked"):r.contains("taui-watchnowbutton")&&this.handle("watchNowClicked")},initialize(){this.onOpenedBound=this.onOpened.bind(this),this.onClosedBound=this.onClosed.bind(this),this.handleLoginOpenedBound=this.handleLoginOpened.bind(this),this.handleLoginClosedBound=this.handleLoginClosed.bind(this),this.delegateClickHandler=this.delegateClickHandler.bind(this),this.on("handling",(function(e){ot.debug(`[${this.state}] handling ${e.inputType}`)})),this.on("handled",(function(e){ot.debug(`[${this.state}] handled ${e.inputType}`)})),this.on("nohandler",(function(e){ot.debug(`[${this.state}] nohandler ${e.inputType}`)})),this.on("transition",(function(e){ot.debug(`[${this.state}] transition from "${e.fromState}" to "${e.toState}" via "${e.action}"`)})),this.on("invalidstate",(function(e){ot.debug(`[${this.state}] invalidstate attempted "${e.attemptedState}"`)})),this.on("deferred",(function(){ot.debug(`[${this.state}] deferred`)}))config,e)},setup(e){this._auth=e,it.c(it.a.OPENED,this.handleLoginOpenedBound),it.c(it.a.CLOSED,this.handleLoginClosedBound),"events"in this._auth&&this._auth.events?this._auth.events.listen({pres.open(e)},authNStatus:({authStatus:e})=>{const{isAuthenticated:t}=e;ot.verbose("Picker received authN status, isAuthenticated = "+t),t?(this.handle("authNPass"),this._auth.fetchAuthContext().then(({authenticatedProvider:e})=>{if(e){const{id:t}=e;nt.save(t)}})):this.handle("authNFail")}}):ot.error('No "events" on Auth object provided to MVPDPicker.setup()'),this.on(Cication()}),this.on(Ct.Opened,this.onOpenedBound),this.on(Ct.Closed,this.onClosedBound),this.on(Ct.StateChanged,this.onStateChange)},handleLoginOpened(){this.handle("loginOpened")},handlenClosed")},onOpened(){ot.verbose("onOpened"),Object(g.a)(this.config.onRender)?this.config.onRender.length?this.config.onRender.call(ct,this.display):(this.config.onRender.call(ct),this.display()):this.display()},onClosed(){ct&&lt&&(ct.className="taui-hidden",lt.className="taui-hidden",Ze.i(window,"resize",Pt),Ze.i(window,"orientationchange",Pt),Ze.i(ct,"click",this.delegateClickHandler)),ft&&(Ze.i(ft,"blur",pt),Ze.i(ft,"focus",vt),Ze.i(ft,"keydown",xkt.Closed},getMvpdvpdMap[e]},getPrimaryLogoUrl(e){var t;if(!e||!this._auth){const t=e?"Auth not available":"No MVPD ID provided";return ot.debug("Cannot call getPrimaryLogoUrl(): "+t),Promise.resolve(void 0)}const r=Math.max(1,"devicePixelRatio"in window&&Number(window.devicePixelRatio)||1),n=Math.floor(r*this.config.primaryImgWidth),i=Math.floor(r*this.config.primaryImgHeight),o={context:this.config.useCobrandingForPrimaryLogo?"cobranding":"primary",color:null!==(t=this.config.useCobrandingForPrimaryLogo)&&void 0!==t?t:"",providerId:e,width:n,height:i};return this._auth.buildImageUURL:e})URL: "+e)})},getRememberedProviderId(){const e=nt.get();if(e){if(Object(m.a)(e))return this.getMvpdConfigEntry(e)?e:void 0}else ot.debug("No value saved for remembered provider")},requestImageForProvider(e){const{id:t}=e;return this.getPrimaryLogoUrl(t).then(r=>{return r?(n=r,nt,r.src=n})).then(()=>({id:t,provider:e,success:!1,url:r})):Promise.resolve({id:t,provider:e,success:!1});var n})},preloadLogos(e){Promise.all(e.map(e=>this.requestImageForProvider(e))).then(e=>{this._providerImageUrlMa e[r]=t,e},{}),Object.values(this._providerImageUrlMap).forEach(e=>{const{id:t,success:r,url:n,provider:i}=e;if(ct&&n&&!r){const e=ct.querySelector(`.taui-mvpdlogo[data-mvpdid="${t}"]`);if(null==e?void 0:e.parentElement){const t=i.displayName||i.id,r=document.createElement("span");r.appendChild(document.createTextNode(t)),e.parentElement.replaceChild(r,e)}}})})},create(e){ot.verbose("create");const{helpURL:t,mvpdConfiguration:r,sortedProviderListData:i}=e;t&&!this.config.helpURL&&(this.config.helpURL=t),ot.verbose("Inserting CSS into the page..."),Object(n.insertCss)('@-ms-viewport{width:extend-to-zoom;zoom:1}@media print{body #taui-mvpdpicker,body #taui-mvpdpickerBackdrop{display:none}}#taui-mvpdpickerBackdrop{display:none;position:fixed;margin:0;border:0;padding:0;top:0;left:0;width:100%;height:100%;background-color:#000;opacity:.5;z-index:9998}#taui-mvpdpickerBackdrop.taui-hidden{display:none;top:-9999px;left:-9999px}#taui-mvpdpickerBackdrop.taui-visible{display:block;top:0;left:0}#taui-mvpdpicker{display:flex;flex-direction:column;box-sizing:border-box;position:absolute;top:0;left:0;width:800px;height:633px;z-index:9999;box-shadow:0 8px 8px;color:#000;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;transition:width .4s,height .4s,transform .4s}#taui-mvpdpicker *,#taui-mvpdpicker :after,#taui-mvpdpicker :before{box-sizing:inherit}#taui-mvpdpicker.taui-hidden{display:none;top:-9999px!important;left:-9999px!important}#taui-mvpdpicker.taui-visible{top:0;left:0}#taui-mvpdpicker .taui-header{position:relative;flex:none;width:100%;height:auto;background-color:#333;color:#fff}#taui-mvpdpicker .taui-help{display:block;position:absolute;top:8px;left:8px;border:0;padding:0;cursor:pointer}#taui-mvpdpicker .taui-help:before{content:"Help"}#taui-mvpdpicker .taui-close{display:block;position:absolute;top:8px;right:8px;border:0;padding:0;cursor:pointer}#taui-mvpdpicker .taui-close:before{content:""}#taui-mvpdpicker .taui-title{display:block;width:100%;height:50px;margin:0;border:0;padding:0;text-align:center}#taui-mvpdpicker .taui-title>span{display:inline-block;line-height:50px;font-size:22px;font-weight:700;color:#fff;text-shadow:-1px -1px #000}#taui-mvpdpicker a[href]{color:#2c6cc3;text-decoration:underline;font:inherit}#taui-mvpdpicker a[href]:visited{color:#36526d}#taui-mvpdpicker .taui-subheading-area{flex:none;display:block;width:100%;height:auto;margin:0 auto;border:0;padding:0;background-color:#fff;z-index:1;box-shadow:0 1px 8px 0 grey}#taui-mvpdpicker.taui-state-welcome .taui-subheading-area{display:none}#taui-mvpdpicker .taui-subheading{display:none;margin:8px 30%;text-align:center;font-size:16px;line-height:24px;font-weight:700}#taui-mvpdpicker.taui-state-dark .taui-subheading1select,#taui-mvpdpicker.taui-state-error .taui-subheading2signin,#taui-mvpdpicker.taui-state-mvpdlist .taui-subheading1select,#taui-mvpdpicker.taui-state-mvpdlogo .taui-subheading1select,#taui-mvpdpicker.taui-state-notfound .taui-subheading1select,#taui-mvpdpicker.taui-state-remember .taui-subheading2signin,#taui-mvpdpicker.taui-state-signin .taui-subheading2signin,#taui-mvpdpicker.taui-state-success .taui-subheading3watch{display:block}#taui-mvpdpicker .taui-slates{display:flex;flex-direction:column;justify-content:space-around;align-items:stretch;flex:auto;overflow:hidden;font-size:17px;color:#41424e;background-color:#f0eff5}#taui-mvpdpicker .taui-slate{display:none;flex:auto;width:100%;height:100%;overflow:auto}#taui-mvpdpicker.taui-state-dark .taui-darkprovider,#taui-mvpdpicker.taui-state-error .taui-error,#taui-mvpdpicker.taui-state-mvpdlist .taui-findbyname,#taui-mvpdpicker.taui-state-mvpdlogo .taui-pickbylogo,#taui-mvpdpicker.taui-state-notfound .taui-noprovider,#taui-mvpdpicker.taui-state-remember .taui-remembered,#taui-mvpdpicker.taui-state-signin .taui-signin,#taui-mvpdpicker.taui-state-success .taui-success,#taui-mvpdpicker.taui-state-welcome .taui-welcome{display:flex;flex-direction:column;justify-content:space-around;justify-content:space-evenly;align-items:stretch}#taui-mvpdpicker.taui-state-welcome .taui-welcome{justify-content:space-evenly;align-items:center}#taui-mvpdpicker button{outline:none;margin:2px;border:1px solid #8f8f8f;border-radius:5px;padding:.9em 1.5em 1em;box-shadow:0 0 1px #000;background-color:#454751;background-image:linear-gradient(180deg,#444650,#2e2f38);color:#fff;text-shadow:0 1px 4px #000;cursor:pointer}#taui-mvpdpicker button:active{border:1px solid #007bc5;background-color:#8f8f8f;background-image:linear-gradient(180deg,#75798a,#454654);box-shadow:none}#taui-mvpdpicker button>span{display:inline;font-size:16px;font-weight:700}#taui-mvpdpicker .taui-message{flex:0 1 auto;padding:2em 4em;text-align:center;line-height:1.5;overflow:auto}#taui-mvpdpicker .taui-footer{display:flex;flex-direction:row;justify-content:space-around;flex-wrap:wrap;flex:none;margin:0;border:0;padding:4px;border-top:1px solid #8f8f8f;background-color:#dfe0e4;text-align:center}#taui-mvpdpicker .taui-footer button{flex:none}#taui-mvpdpicker .taui-footer button+button{margin-left:20px}#taui-mvpdpicker .taui-welcome{align-items:center}#taui-mvpdpicker .taui-welcomemessage{font-size:24px}#taui-mvpdpicker .taui-welcomeloginbutton{flex:none}#taui-mvpdpicker .taui-rememberedmessage{flex:1 1 auto;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:32px;font-weight:700;line-height:1.5}#taui-mvpdpicker .taui-mvpdsbylogo{flex:1 1 auto;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-evenly;align-items:center;margin:0;border:0;padding:20px 10px 0;overflow:auto;text-align:center;-webkit-overflow-scrolling:touch}#taui-mvpdpicker .taui-mvpdsbylogo li{flex:none;display:inline-flex;justify-content:center;align-items:center;width:30%;margin:1%;border:0;padding:0;font-size:0;line-height:0;outline:none;transition:all .25s ease-in-out;cursor:pointer;overflow:hidden}#taui-mvpdpicker .taui-mvpdsbylogo li:active{outline:1px solid rgba(0,0,255,.5);box-shadow:0 0 1em #00f}#taui-mvpdpicker .taui-mvpdsbylogo li>*{max-width:100%;max-height:100%;margin:0;border:0;padding:0}#taui-mvpdpicker .taui-mvpdsbylogo li>span{font-size:14pt;line-height:16pt;font-weight:700}#taui-mvpdpicker .taui-mvpdlogo{display:inline-block;width:237px;height:97px;background-image:none;background-repeat:no-repeat;background-position:50%;background-size:contain}#taui-mvpdpicker .taui-searchheader{flex:none;margin:13px 1em 0}#taui-mvpdpicker .taui-searchfield{display:flex;margin:0;border:1px solid #ccc}#taui-mvpdpicker .taui-mvpdsearch{flex:auto;align-self:stretch;outline:0;margin:0;border:0;border-radius:4px;padding:0 .5em;background-color:#ececed;color:#939393;height:28px;font-size:16px;line-height:28px;text-align:left}#taui-mvpdpicker .taui-mvpdsearch::-ms-clear{display:none}#taui-mvpdpicker .taui-mvpdsearch:focus{background-color:#fff;color:#333}#taui-mvpdpicker .taui-searchpane{flex:1 1 auto;margin:11px 1em 16px;overflow-x:hidden;overflow-y:auto;background-color:#fff;background-image:linear-gradient(180deg,transparent 95%,rgba(0,0,0,.01) 97%,rgba(0,0,0,.05) 98%,rgba(0,0,0,.1) 99%,rgba(0,0,0,.2)),linear-gradient(180deg,rgba(0,0,0,.2) 0,rgba(0,0,0,.1) 1%,rgba(0,0,0,.05) 2%,rgba(0,0,0,.01) 3%,transparent 5%);-webkit-overflow-scrolling:touch}#taui-mvpdpicker .taui-mvpdsbyname{display:block;list-style-type:none;margin:0;border:0;padding:0;text-align:left}#taui-mvpdpicker .taui-mvpdsbyname li{margin:0;border-bottom:1px solid #e5e5e5;padding-left:.5em;font-size:18px;line-height:30px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#000;cursor:pointer}#taui-mvpdpicker .taui-mvpdsbyname li:hover{color:#007bc5}#taui-mvpdpicker .taui-noproviderokbutton{flex:none;align-self:center}#taui-mvpdpicker .taui-darkproviderokbutton{flex:none;align-self:center}#taui-mvpdpicker .taui-spinnerbox{flex:none;text-align:center}@-webkit-keyframes taui-mvpdspinner{to{transform:rotate(1turn)}}@keyframes taui-mvpdspinner{to{transform:rotate(1turn)}}#taui-mvpdpicker .taui-spinner{display:inline-block;width:10vw;height:10vw;border-radius:50%;border:5px solid #3c5872;border-top-color:#4ec0ff}#taui-mvpdpicker.taui-state-signin .taui-spinner{-webkit-animation:taui-mvpdspinner 1s linear infinite;animation:taui-mvpdspinner 1s linear infinite}#taui-mvpdpicker .taui-errorokbutton,#taui-mvpdpicker .taui-signincancelbutton{flex:none;align-self:center}#taui-mvpdpicker .taui-successmessage{font-size:24px}#taui-mvpdpicker .taui-watchnowbutton{flex:none;align-self:center;background-image:linear-gradient(180deg,#8bbcf8,#346fa2);border-color:#346fa2}#taui-mvpdpicker .taui-watchnowbutton span{font-size:x-large}@media only screen and (min-width:640px) and (max-width:800px),only screen and (orientation:landscape) and (min-height:506px) and (max-height:633px){#taui-mvpdpicker{transform:scale(.8)}}@media only screen and (max-width:639px),only screen and (orientation:landscape) and (max-height:505px){#taui-mvpdpickerBackdrop.taui-visible{display:none;top:-9999px;left:-9999px}#taui-mvpdpicker{position:fixed;width:100%;height:100%;box-shadow:none;transform:scale(1)}#taui-mvpdpicker.taui-visible{top:0!important;left:0!important}#taui-mvpdpicker .taui-mvpdsbylogo li{width:40%}#taui-mvpdpicker .taui-mvpdsbyname{max-height:0}@media (max-width:520px){#taui-mvpdpicker .taui-findbyname button,#taui-mvpdpicker .taui-remembered button{width:40%;padding:.5em 1em}}@media (orientation:landscape) and (max-height:300px){#taui-mvpdpicker .taui-spinnerbox,#taui-mvpdpicker .taui-subheading-area{display:none}}@media (min-width:540px){#taui-mvpdpicker .taui-subheading{margin:8px 10%}}@media (max-width:250px){#taui-mvpdpicker .taui-mvpdsbylogo li{width:100%}}@media (min-width:630px){#taui-mvpdpicker .taui-mvpdsbylogo li{width:30%}}@media (min-width:890px){#taui-mvpdpicker .taui-mvpdsbylogo li{width:20%}}@media (min-width:1260px){#taui-mvpdpicker .taui-mvpdsbylogo li{width:10%}}}',{prepend:!0});const{mvpd:o=[],cobrandingImgTemplate:a="https://cvp1.cdn.turner.com/xslo/tve/assets/${providerId}_${color}.png?w=${width}&h=${height}",primaryImgTemplate:s="https://cvp1.cdn.turner.com/xslo/tve/assets/Picker_${providerId}.png?w=${width}&h=${height}"}=r,{visibleProviderIds:u,primaryProviderIds:c}=i,l=o.reduce(Tt,{});this.map(e=>l[e]),this.cobrandingImgTemplate=a,this.primaryImgTemplate=s,this.mvpdMap=this.mvpds.reduce(Tt,{});cs.mvpdMap[e]);f.length&&this.preloadLogos(f),this.primaryMvpds=f;const d=Ze.f("div");d.id=st,d.className="taui-hidden";const h=Ze.f("iframe");h.id="taui-mvpdpickerBackdrop",h.className="taui-hidden",h.src="about:blank",h.scrolling="no",h.frameBorder="0",Ze.b(h),Ze.b(d),ct=d,lt=h;const{strings:p}=this.config,v=Object.assign({},tt.H,{title:r.brand},p);return PromiryLogoUrl(e))).then(e=>{ct&&(ct.innerHTML=Lt({strings:v,primaryMvpds:f,mvpds:this.mvpds,primaryLogos:e}),Pt(),at=!0)})},destroy(){ot.verbose("destroy"),ct&&Ze.m(ct),lt&&Ze.m(lt),ct=null,lt=null,at=!1},open(e){ot.verbose("open"),Promise.resolve().then(()=>{if(!at)return this.create(e)}).then(()=>{Ze.h(st)?this.handle("open"):ot.error(`could not find element "${st}"`)})},display(){if(ot.verbose("display"),ct&&lt){ft=Ze.k(".taui-mvpdsearch",ct),dt=Ze.a(".taui-mvpdsbyname li",ct),Ze.j(window,"resize",Pt),Ze.j(window,"orientationchange",Pt);const e={"taui-hidden":!1,"taui-visible":!0};lt.className=Ze.e(lt.className,e),ct.className=Ze.e(ct.className,e),Pt(),Ze.j(ct,"click",this.delegateClickHandler)}ft&&(ft.value="Enter your TV Provider",Et(),Ze.j(ft,"blur",pt),Ze.j(ft,"focus",vt),Ze.j(ft,"keydown",xt))},close(){ot.verbose("close"),this.transition(kt.Closed)},states:{[kt.Closed]:{_onEnter(){this.priorState&&(this.priorState!==kt.Success&&this.emit(Ct.Canceled,{state:this.priorState}),this.emit(Ct.Closed))},open(){this.emit(Ct.Opened),ut=this.getRememberedProviderId();const e=this.getMvpdConfigEntry(ut);Promise.resolve().then(()=>{if(e)return this._selectedProvider=e,this.populateRememberedProvider(e)}).finally(()=>{this.config.showWelcomeSlate?this.transition(kt.Welcome):e?this.transition(kt.Remembered):this.primaryMvpds.length?this.transition(kt.FindByLogo):this.transition(kt.FindByName)})}},[kt.Welcome]:{_onEnter(){this._emitStateChange()},helpClicked(){this.helpClicked()},closeClicked(){this.closeClicked()},welcomeLoginClicked(){ut?this.transition(kt.Remembered):this.transition(kt.FindByLogo)}},[kt.FindByLogo]:{_onEnter(){this._priorPickingState=this.state,this.primaryMvpds.length?this._emitStateChange():this.transition(kt.FindByName)},darkProviderSelected(e){this.darkProviderSelected(e)},helpClicked(){this.helpClicked()},closeClicked(){this.closeClicked()},viewAllClicked:kt.FindByName,loginOpened:kt.SignIn,authNPass:kt.Success},[kt.FindByNaateChange()},darkProSelected(e)},helpClicked(){this.helpClicked()},closeClicked(){this.closeClicked()},viewTopClicked:kt.FindByLogo,dontSeeClicked:kt.NoProvider,loginOpened:kt.SignIn,authNPass:kt.Success},[kt.NoProvider]:{_onEnter(){this._emitStateChange()},helpClicked(){this.helpClicked()},closeClicked(){this.closeClicked()},noproviderOkClicked(){this.transitionToProviderSelection()}},[kt.DarkProvider]:{_onEnter(){this._emitStateChange()},helpClicked(){this.helpClicked()},closeClicked(){this.closeClicked()},darkproviderOkClicked(){this.transitionToProviderSelection()}},[kt.Remembered]:{_onEnter(){this._emitStateChange()},helpClicked(){this.helpClicked()},closeClicked(){this.closeClicked()},rememberedCancelClicked:kt.FindByLogo,rememberedOkClicked(){this.loginWithRememberedProvider()},loginOpened:kt.SignIn,authNPass:kt.Success},[kt.SignIn]:{_onEnter(){this._emitStateChange()},helpClicked(){this.helpClicked()},closeClicked(){this.closeClicked()},loginClosed:kt.Indeterminate,signinCancelClicked(){this.transitionToProviderSelection()},authNPass:kt.Success,authNFail:kt.Error,_onExit(){it.b()}},[kt.Indeterminate]:{helpClicked(){this.helpClicked()},closeClicked(){this.closeClicked()},signinCancelClicked(){this.transitionToProviderSelection()},authNPass:kt.Success,authNFail:kt.Error},[kt.Error]:{_onEnter(){this._emitStateChange()},helpClicked(){this.helpClicked()},closeClicked(){this.closeClicked()},errorOkClicked:kt.Closed},[kt.Success]:{_onEnter(){this._emitStateChange();let e=!0;"showSuccessSlate"in this.config&&"boolean"==typeof this.config.showSuccessSlate?e=!!this.config.showSuccessSlate:"skipSuccessSlate"in this.config&&"boolean"==typeof this.config.skipSuccessSlate&&(e=!this.config.skipSuccessSlate),!1===e&&this.transition(kt.Closed)},helpClicked(){this.helpClicked()}seClicked()},authNFail:kt.Closed,watchNowClicked:kt.Closeds||s(e))}:s},function(e,t,r){var n=:m,clear:y}},function(e,t,r){var n=r(75);e.exports=/(?:ipad|iphone|ipod).*applewebki"!==r||"x"!==nsole.error("unknow Class:"+e),n.constructor=e)}var i={},o=i.ELEMENT_NODE=1,a=i.ATTRIBUTE_NODE=2,s=i.TEXT_NODE=3,u=i.CDATA_SECTION_NODE=4,c=i.ENTITY_REFERENCE_NODE=5,l=i.ENTITY_NODE=6,f=i.PROCESSING_INSTRUCTION_NODE=7,d=i.COMMENT_NODE=8,h=i.DOCUMENT_NODE=9,p=i.DOCUMENT_TYPE_NODE=10,v=i.DOCUMENT_FRAGMENT_NODE=11,g=i.NOTATION_NODE=12,b={},m={},y=(b.INDEX_SIZE_ERR=(m[1]="Index size error",1),b.DOMSTRING_SIZE_ERR=(m[2]="DOMString size error",2),b.HIERARCHY_REQUEST_ERR=(m[3]="Hierarchy request error",3)),_=(b.WRONG_DOCUMENT_ERR=(m[4]="Wrong document",4),b.INVALID_CHARACTER_ERR=(m[5]="Invalid character",5),b.NO_DATA_ALLOWED_ERR=(m[6]="No data allowed",6),b.NO_MODIFICATION_ALLOWED_ERR=(m[7]="No modification allowed",7),b.NOT_FOUND_ERR=(m[8]="Not found",8)),w=(b.NOT_SUPPORTED_ERR=(m[9]="Not supported",9),b.IN.code=e,t&&(tnode);te(e,"ures={},e)d)do{if(R(e,stChild=null),t}function F(){this._nsMap={}}function B(){}function z(){}function q(){}function H(){}function V(){}function $(){}function W(){}function G(){}functio;if(a.prefix==n)return a.namespace!=i}return!0}function ee(e,t,r,n,i){if(n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case o:i||(i=[]),i.length;var l=e.attributes,g=l.length,b=e.firstChild,m=e.tagName;r="http://www.w3.org/1999/xhtml"===e.namespaceURI||r,t.push("<",m);for(var y=0;y<g;y++)"xmlns"==(_=l.item(y)).prefix?i.push({prefix:_.localName,namespace:_.value}):"xmlns"==_.nodeName&&i.push({prefix:"",namespace:_.value});for(y=0;y<g;y++){var _;if(X(_=l.item(y),0,i)){var w=_.prefix||"",O=_.namespaceURI,S=w?" xmlns:"+w:" xmlns";t.push(S,'="',O,'"'),i.push({prefix:w,namespace:O})}ee(_,t,r,n,i)}if(X(e,0,i)&&(w=e.prefix||"",(O=e.namespaceURI)&&(S=w?" xmlns:"+w:" xmlns",t.push(S,'="',O,'"'),i.push({prefix:w,namespace:O}))),b||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(m)){if(t.push(">"),r&&/^script$/i.test(m))for(;b;)b.data?t.push(b.data):ee(b,t,r,n,i),b=b.nextSibling;else for(;b;)ee(b,t,r,n,i),b=b.nextSibling;t.push("</",m,">")}else t.push("/>");return;case h:case v:for(b=e.firstChild;b;)ee(b,t,r,n,i),b=b.nextSibling;return;case a:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,I),'"');case s:return t.push(e.data.replace(/[<&]/g,I).replace(/]]>/g,"]]&gt;"));case u:return t.push("<![CDATA[",e.data,"]]>");case d:return t.push("\x3c!--",e.data,"--\x3e");case p:var j=e.publicId,E=e.systemId;if(t.push("<!DOCTYPE ",e.name),j)t.push(" PUBLIC ",j),E&&"."!=E&&t.push(" ",E),t.push(">");else if(E&&"."!=E)t.push(" SYSTEM ",E,">");else{var A=e.internalSubset;A&&t.push(" [",A,"]"),t.push(">")}return;case f:return t.push("<?",e.target," ",e.data,"?>");case c:return t.push("&",ush("??",e.nodeName)}}function te(e,t,r){e[t]=r}b.INVALID_STATE_ERR=(m[11]="Invalid state",11),b.SYNTAX_ERR=(m[12]="Syntax error",12),b.INVALID_MODIFICATION_ERR=(m[13]="Invalid modification",13),b.NAMESPACE_ERR=(m[14]="Invalid namespace",14),b.INVALID_ACCESS_ERR=(m[15]="Invalid access",15),O.prototype=E{length:0.length;n++)ee(thiototype.item=function(e){return E(this),this[e]},n(j,S),A.protot;t--;){var r=deName);return I,e.localName),PedItem(e);return TemNS(e,t);returName==t&&n.namespaceURI==ures[e.toLowerC.createElementNS(e,name=e,n.nodeName=e,n.publicId=t,n.systemId=r,n}},k.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespacel,insertBefor){this.insertBefore(e,t),t&&this.removeChild(t)},removld:function(e)ldNodes:fuling;returd(t),e.appenis.ownerDocumeutes:functionype==a?t.ownerDocumype==a?t.ownerDocume:function(e){return null==this.lookupPrefix(e)}},r(i,k),r(i,k.prototype),L.prototype={nodeName:"#document",nodeType:h,doctyntElement=e)ement==e&&(d(e(t,s,n)),s=s==o&&r.getAttribute("idest(n.getAttries=new S,(t.attributes=eturn e.ownerDocument=this,e.childNodes=new S,e},createTextNode:function(e){var t=new q;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new H;return t.ownerDocV;return t.ownerDocument=thihis,r.tagName=r.e=e,t.nodeName=e,t.locew J;return t.owcalName=n[1]):r.lor.prefix=n[0],r.localName=n[1]):r.localName=tnction(e){ret=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){retuvalue=r.nodeValuAttributeNode.lastChild=t,M(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.aurn this.attributeibuteNodeNS(e,t(e,t){return nus.getAttributeNvalue=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attrpe!=o||"*"!==e&&n.tagNa==e||"*"!==t&&i.localName!=t||n.push(i)})),n}))}},L.prototype.getElementsByTagName=F.prototype.getElementsByTagName,L.prototype.getElementsByTagNameNS=F.prototype.getElementsByTagNameNS,n(F,k),B.prototype.nodefunction(e,this.nodeVansertData:fu},appendChileteData:funthis.nodeValue=this.data=r,this.length=r.length}},n(z,k),q.s.parentNode.insertBefore(n,this.nextSibling),n}},n(q,z),H.prototype={nodeName:"#comment",nodeType:d},n(H,z),V.prototype={nodeName:"#cdata-section",nodeType:u},n(V,z),$.prototype.nodeType=p,n($,k),W.prototype.nodeType=g,n(W,k),G.prototype.nodeType=l,n(G,k),J.prototype.nodeType=c,n(J,k),Y.prototype.nodeName="#document-fragment",Y.prototype.nodeType=v,n(Y,k),K.prototype.nodeType=f,n(K,k),Z.prototype.serializeToString=function(e,t,r){return Q.call(e,t,r)},k.prototype.toString=Q;try{Object.defineProperty&&h",{get:function(){return E(this),this.$$length}}),Objen r.ault:.nodeValue=e}}}),te=function(e,t,r){e["$$"+t]=r})}catch(e){}t.Node=k,t.DOMException=O,t.DOMImplementation=C,t.XMLSerializer=Z},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return d}));var n=r(197),i=r(27),o=r(25),a=r(32),s=r(1),u=r(49),c=r(276),l=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))};const f=u.a.getLogger("ConfigService").filter("services");class d{constructor(e){this._stateHandler=e}fetchMVPDConfig(e,t,r){return l(this,void 0,void 0,(function*(){if(this.mvpdConfig)return Promise.resolve(this.mvpdConfig);let n;try{let t;try{const n="app-id",i=new Headers;r&&i.set(n,r);const o=new Request(e.toString(),{headers:i});this._stateHandler.handleMPVDConfigRequested(),t=yield fetch(o)}catch(e){throw(e=>{const t=(new s.a).withSeverity(s.f.Fatal).withMessage("MVPD Config request failure").withCategory(s.b.Config).withDomain(s.c.Shared).withNumeral(s.d.MvpdConfigRequestFailure);return e instanceof Response&&(t.withSubErrorCode(`${e.status} ${e.statusText}`),t.withSubErrorMessage(e.url)),t.build()})(e)}try{n=yield t.json()}catch(e){throw(new s.a).withSeverity(s.f.Fatal).withMessage("MVPD Config failed to parse as JSON").withCategory(s.b.Config).withDomain(s.c.Shared).withNumeral(s.d.MvpdConfigResponseFailure).build()}}catch(e){return this._stateHandler.handleMVPDConfigError(e),Promise.reject(e)}if(!(n&&Object(i.a)(n)&&"mvpd"in n&&Array.isArray(n.mvpd)))return Promise.reject((new s.a).withSeverity(s.f.Fatal).withMessage("MVPD Config has no data or an invalid schema").withCategory(s.b.Config).withDomain(s.c.Shared).withNumeral(s.d.MvpdConfigResponseFailure).build());{const e=p.bind(null,t);n.mvpd=n.mvpd.map(e).filter(y).map(b).sort(O)}return this.mvpdConfig=n,this._stateHandler.handleMVPDConfigReceived(),this.mvpdConfig}))}fetchGeoLocation(e){return l(this,void 0,void 0,(function*(){try{const t=yield fetch(e.toString()),r=yield t.json();return this.country=r.country,this.country}catch(e){return f.info("Failed to obtain geolocation data, falling back to "+v),v}}))}buildImageURLString(e){return new Promise((t,r)=>{if(!this.mvpdConfig)throw new Error("Could not build url string");{const r="primary"==e.context?this.mvpdConfig.primaryImgTemplate:this.mvpdConfig.cobrandingImgTemplate;t({imageURL:Object(c.a)(r,e)})}})}getProviderWithId(e){if(this.mvpdConfig)return this.mvpt.id===e)}isTemppassProvider(e){return!!e&&m(e)}getTemppassProvider(e){if(this.mvpdConfig)return e?this.getProviderWithId(e):this.mvpdConfig.mvpd.find(this.isTemppassProvider)}getSortedProviderListData(){if(!this.mvpdConfig)return{enabledProviderIds:[],visibleProviderIds:[],primaryProviderIds:[]};const e=this.mvpdConfig.mvpd,t=e.filter(_),r=t.filter(w).sort(S);return{enabledProviderIds:e.map(j),visibleProviderIds:t.map(j),primaryProviderIds:r.map(j)}}validateAdobeMvpdIdConfig)return;const t=e.reduce((e,t)=>(e[t]=1,e),{}),r=({id:e})=>e,i=this.mvpdConfig.mvpd.map(r);vpd=this.mvpdConfig.mvpd.filter(({id:e})=>e in t);const o=this.mvpdConfig.mvpd.map(r);if(i.length!==o.length){const e=Object(n.a)(i,o);f.info(`Providers in MVPD Config that are not supported by Adobe: [${e.join(", ")}]`)}}setRememberedProvider(t){return l(this,void 0,void 0,(function*(){if(m(t))return;const r=e.NexusPlatform.localStorage,n="set"in r&&Object(a.a)(r.set)?r.set:r.setItem;yield n.call(r,d.RememberedProviderKey,t.id)}))}clearRememberedProvider(){return l(this,void 0,void 0,(function*(){const t=e.NexusPlatform.localStorage,r="clear"in t&&Object(a.a)(t.clear)?t.clear:t.removeItem;yield r.call(t,d.RememberedProviderKey)}))}getRememberedProvider(){return l(this,void 0,void 0,(function*(){try{const t=e.NexusPlatform.localStorage,r="get"in t&&Object(a.a)(t.get)?t.get:t.getItem,n=yield r.call(t,d.RememberedProviderKey);if(n){const e=n.replace(/"/g,""),t=this.getProviderWithId(e);return e&&!t&&this.clearRememberedProvider(),t}return}catch(e){return void f.warn("Failed to get remembered provider: "+e)}}))}}d.RememberedProviderKey="rememberedProvider";const h=["android","androidtv","appletv","firetv","ios","roku","tvos","samsungtv","web","xbox"],p=(e,t)=>Object.entries(t).reduce((t,[r,n])=>(r===e?Object.assign(t,n):h.includes(r)||(t[r]=n),t),{}),v="US",g=e=>{(e=>Object(i.a)(e)&&!("message"in e)&&"lines"in e)(e)&&(e.message=(e=>{if("lines"in e&&Array.isArray(e.lines)&&e.lines.length){const t=/\$\{([^${}\r\n]+)\}/g,r=r=>r.replace(t,(t,r)=>{const n=r.trim();if("meta"in e&&null!=e.meta&&Object(i.a)(e.meta)&&n in e.meta){const t=e.meta[n];if(null!=t&&Object(i.a)(t)&&"text"in t&&Object(o.a)(t.text))return t.text}return n});return e.lines.map(r).join("\n")}return""})(e))},b=e=>{const{darkphase:t,pickerUserMsg:r}=e;return t&&g(t)isplayName.trim(),e},m=e=>/temppass/i.test(e.id),y=e=>!("enabled"in e)||Boolean(e.enabled),_=e=>(e=>!visible))(e)&&!m(e),w=e=>Boolean(e.primaryOrder),O=(e,t)=>{const r=(e.displayName||e.id).toLowerCase(),n=(t.displayName||t.id).toLowerCase();return r<n?-1:r>n?1:0},S=(e,t)=>{const r=e.primaryOrder||0,n=t.primaryOrder||0;return r<n?-1:r>n?1:O(e,t)},j=e=>e.id}).call(this,r(95))},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return w})),r.d(t,"b",(function(){return P}));var n=r(206),i=r(116),o=r(47),a=r(32),s=r(6),u=r(141),c=r(198),l=r(196),f=r(142),d=r(5),h=r(171),p=r(21),v=r(22),g=r(94),b=r(172),m=r(10),y=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))};const _=g.d.getLogger("ClientlessAuthEngine").filter("auth");class w{constructor(e,t,r){this.isInAuthenticationFlow=!1,this._ready=new g.b,this.ready=this._ready.promise,this._pollingInterval=3e4,this._lastClientlessAccessTokenRequestTime=0,this.authConfig=e,this._stateHandler=t,this._configService=r}setRequestor(){return y(this,void 0,void 0,(function*(){const{environment:e,brand:t,publicKey:r,secretKey:i,softwareStatement:a,redirectUri:s,deviceType:u,deviceInfo:c,pollingInterval:l,ecid:f}=this.authConfig,d=e,v=yield S(),g=b.a.libVersion,m=t,y=m+":top-auth";this._pollingInterval=l&&Object(o.a)(l)?Object(n.a)(1e3*l,1e4,12e4):this._pollingInterval;const _={model:"JS",osName:"JS",userAgent:"JS",application:y};if(this._deviceInfo=yield E(_,c),this._clientlessApi=new h.a({adobeEnv:d,deviceId:v,deviceInfo:this._deviceInfo,deviceType:u,ecid:f,appVersion:g,appId:y,publicKey:r,secretKey:i,softwareStatement:a,redirectUri:s,requestorId:m}),a&&(yield this.refreshClientlessAccessToken()),!this._configService)throw new Error("Missing a config service");const{mvpdConfig:w}=this._configService;if(!w)throw new Error("Missing MVPD Config!");this._mvpdConfig=w;const O=yield this._clientlessApi.requestConfig(),{mvpd:j}=O,{mvpd:A}=this._mvpdConfig;return this._mvpdConfig.mvpd=P(A,j),this._ready.resolve(!0),{type:p.a.Did_Set_Requestor_Complete,status:!0}}))}refreshClientlessAccessToken(){return y(this,void 0,void 0,(function*(){if(!this._clientlessApi)return Promise.reject(Object(m.b)("no_clientless_api"));const e=yield this._clientlessApi.requestClientRegistration();if(!e.success)return Promise.reject(Object(m.b)(e.error));{const{client_id:t,client_secret:r,grant_types:n}=e,i={grantType:Array.isArray(n)&&n.length>0?n[0]:"client_credentials",clientId:t,clientSecret:r},{access_token:o}=yield this._clientlessApi.requestClientAccessToken(i);this._clientlessApi.setAccessToken(o)}return this._lastClientlessAccessTokenRequestTime=Date.now(),!0}))}checkAuthenticatedStatus(){return y(this,void 0,void 0,(function*(){if(yield this.ready,!this._clientlessApi)return A();const e={type:p.a.Did_Set_Authentication_Status,isAuthenticated:!1,info:"",shouldLogoutInSettings:!1};try{const t=yield this._clientlessApi.requestAuthNToken();try{yield this.getSelectedProvider(),this.cachedUserGuid=t.userId}catch(e){return this.cachedUserGuid=void 0,this.cancelAuthentication(),this.logout()}e.isAuthenticated=!0}catch(t){if(Object(v.k)(t)){const r=t;if(e.isAuthenticated=!1,e.info=`[${r.code}] ${r.message}`,r.code.endsWith(v.e.ClientlessAccessDenied))try{return yield this._retryCheckAuthNWithNewAccessToken()}catch(e){}}else _.error("Unexpected error in checkAuthenticatedStatus(): "+t)}return Object.assign({},e)}))}_retryCheckAuthNWithNewAccessToken(){return y(this,void 0,void 0,(function*(){if(Date.now()-this._lastClientlessAccessTokenRequestTime<432e5)throw new Error("Too soon to request new access token");return yield this.refreshClientlessAccessToken(),this.checkAuthenticatedStatus()}))}_getMvpdConfigEntry(e){if(this._mvpdConfig){if(e)return Object(i.a)(this._mvpdConfig.mvpd,t=>t.id===e);_.error("Cannot look up an MVPD config entry without an MVPD ID")}else _.error("Cannot continue without an MVPD config!")}getSelectedProvider(){return y(this,void 0,void 0,(function*(){if(yield this.ready,!this._clientlessApi)return A();const e=this._clientlessApi.getMvpdID();let t=null;return e&&(t=this._getMvpdConfigEntry(e)||null),t?{type:p.a.Did_Receive_Selected_Provider,provider:t}:Promise.reject(null)}))}authenticate(e){return y(this,void 0,void 0,(function*(){if(yield this.ready,!this._clientlessApi)return A();(null==e?void 0:e.fireTvToken)&&this._clientlessApi.setFireTvToken(e.fireTvToken);try{yield this.logout()}catch(e){}const t=yield this._clientlessApi.requestRegCode(),{code:r}=t;if(_.info("Reg code generated: "+r),this._mvpdConfig){const e={mvpdConfiguration:this._mvpdConfig,sortedProviderListData:this._configService.getSortedProviderListData(),registrationCode:r,registrationURL:this.authConfig.registrationURL,helpURL:this.authConfig.helpURL};this._stateHandler.handlePresentRegCode(e)}this.isInAuthenticationFlow=!0,this._poller&&this._poller.cancel();const n=this.pollForAuthNSuccess(),{promise:i}=n;this._poller=n;const o={type:p.a.Did_Set_Authentication_Status,isAuthenticated:!1,info:"",shouldLogoutInSettings:!1};try{yield i,o.isAuthenticated=!0}catch(e){if(o.isAuthenticated=!1,Object(v.k)(e)){const t=e;o.info=`[${t.code}] ${t.message}`}}finally{this._poller=void 0,this.isInAuthenticationFlow=!1}return Object.assign({},o)}))}didSelectProvider(e){return y(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}setTemppassProvider(e){return y(this,void 0,void 0,(function*(){if(yield this.ready,!this._clientlessApi)return A();const{id:t}=e;return yield this._clientlessApi.requestTempPassToken(t),{type:p.a.Did_Set_Authentication_Status,isAuthenticated:!0,info:"",spoller.cancel(),this.isInAuthenticationFlow=!1)}handleRedirectURL(e){throw new Error("Method not implemented.")}checkPermission(){throw new Error("Method not implemented.")}authorize(e){return y(this,void 0,void 0,(function*(){if(yield this.ready,!this._clientlessApi)return A();yield this._clientlessApi.authorize(e);const t=yield this._clientlessApi.requestShortMediaToken(e),{serializedToken:r}=t;let n;try{n=Object(g.l)(r)}catch(e){}return{type:p.a.Did_Set_Token,channel:e,token:n||r}}))}preauthorize(e){return y(this,void 0,void 0,(function*(){if(yield this.ready,!this._clientlessApi)return A();const t=yield this._clientlessApi.requestPreauthorizedResources(e);return{type:p.a.Did_Receive_Preauthorized_Resources,decisions:t.resources}}))}logout(){return y(this,void 0,void 0,(function*(){if(yield this.ready,!this._clientlessApi)return A();this.isInAuthenticationFlow=!0;try{yield this._clientlessApi.logout()}catch(e){throw e}finally{this.cachedUserGuid=void 0,this.isInAuthenticationFlow=!1}return{type:p.a.Did_Set_Authentication_Status,isAuthenticated:!1,info:"",shouldLogoutInSettings:!1}}))}fetchMetadata(e,t){return y(this,void 0,void 0,(function*(){if(!e)return x();switch(e){case p.b.DEVICE_ID:return this._getDeviceIdMetadata();case p.b.AUTHENTICATED_TTL:return this._fetchAuthNTTLMetadata();case p.b.AUTHORIZED_TTL:let r="";if(Object(s.a)(t)){const{channel:e,resource:n,resourceId:i,resourceID:o}=t;r=e||n||i||o||""}return this._fetchAuthZTTLMetadata(r);default:return this._fetchUserMetadata(e)}}))}validateRegistrationCode(e){throw new Error("Method not implemented.")}_getDeviceIdMetadata(){var e;const t=(null===(e=this._clientlessApi)||void 0===e?void 0:e.getDeviceID())||null;return{type:p.a.Did_Set_Metadata_Status,key:p.b.DEVICE_ID,encrypted:!1,value:t}}_fetchAuthNTTLMetadata(){return y(this,void 0,void 0,(function*(){if(!this._clientlessApi)return A();const e=this._clientlessApi.getAuthNTTL();return{type:p.a.Did_Set_Metadata_Status,key:p.b.AUTHENTICATED_TTL,encrypted:!1,value:e}}))}_fetchAuthZTTLMetadata(e=""){return y(this,void 0,void 0,(function*(){if(!this._clientlessApi)return A();const t=this._clientlessApi.getAuthZTTL(e);return{type:p.a.Did_Set_Metadata_Status,key:p.b.AUTHORIZED_TTL,encrypted:!1,resource:e,value:t}}))}_fetchUserMetadata(e){return y(this,void 0,void 0,(function*(){if(!this._clientlessApi)return A();const t=yield this._clientlessApi.requestUserMetadataValue(e);return{type:p.a.Did_Set_Metadata_Status,key:e,encrypted:!1,value:t}}))}pollForAuthNSuccess(){if(!this._clientlessApi)throw new TypeError("Clientless API is not available");const e=new g.b,t=Object(d.Timer)(d.TimerMode.Interval,()=>y(this,void 0,void 0,(function*(){if(!this._clientlessApi)return r(),void _.error("[Polling] Clientless API is not available");_.debug("[Polling] Awaiting authN success...");try{const t=yield this._clientlessApi.checkAuthNToken();_.debug("[Polling] Obtained authN success..."),e.resolve(t),r()}catch(t){if(Object(v.k)(t)){const n=t;n.code.endsWith(v.e.ClientlessCheckAuthNServiceException)&&(e.reject(n),_.warn("Exception thrown during authN polling: "+n),r())}else _.error("Unexpected error in pollForAuthNSuccess(): "+t)}})),this._pollingInterval),r=()=>{t.stop(),i.stop()},n=()=>{r(),e.reject((new v.b).withMessage("Canceled authentication").withCategory(v.c.Authentication).withDomain(v.d.Shared).withNumeral(v.e.ClientlessCheckAuthNCanceled).build())},i=Object(d.Timer)(d.TimerMode.Timeout,n,9e5);return t.start(),i.start(),{promise:e.promise,cancel:n}}}let O="";const S=()=>y(void 0,void 0,void 0,(function*(){if(O)return O;let t="";try{const r=e.NexusPlatform.localStorage,n="get"in r&&Object(a.a)(r.get)?r.get:r.getItem,i=yield n.call(r,"com.turner.top-2.deviceId");i&&(t=i)}catch(e){}if(!t){t=Object(g.m)();try{const r=e.NexusPlatform.localStorage;("set"in r&&Object(a.a)(r.set)?r.set:r.setItem).call(r,"com.turner.top-2.deviceId",t)}catch(e){}}return O=t,t})),j=(()=>{let t;return()=>y(void 0,void 0,void 0,(function*(){if(t)return t;try{const{application:r={},nexus:n={}}=yield e.NexusPlatform.getPlatformInfo(),{userAgent:i="Clientless"}=r,{nexusTarget:o,nexusVariant:a}=n;t={userAgent:i,nexusTarget:o,nexusVariant:a}}catch(e){}return t}))})(),E=(e,t)=>y(void 0,void 0,void 0,(function*(){const r=yield j(),{nexusTarget:n,nexusVariant:i,userAgent:o}=r||{},a={model:n,osName:i,userAgent:o};return Object.assign(Object.assign(Object.assign({},e),Object(f.a)(a,u.a)),Object(f.a)(t,u.a))})),A=()=>Promise.reject((new v.b).withMessage("Auth Engine is missing or was disposed").withSeverity(v.g.Fatal).withCategory(v.c.Initialization).withDomain(v.d.Target).withNumeral(v.e.ClientlessAPIUninitialized).withRecoverySuggestion("setRequestor() must be called first").build()),x=()=>Promise.reject((new v.b).withMessage('TypeError: A valid key param is required for "fetchMetadata"').withCategory(v.c.Metadata).withDomain(v.d.Runtime).withNumeral(v.e.TypeError).build()),P=(e,t)=>{if(!t||!t.length)return e;const r=Object(c.a)(t,e=>e.id);return e.map(e=>{const{id:t}=e;if(t in r){const n=r[t];return Object(l.a)(Object.assign(Object.assign({},n),e),["logoUrl"])}}).filter(Boolean)}}).call(this,r(95))},function(e,t,r){"use strict";t.a=function(){return!1}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n=(i=/\$\{([^}]*)\}/g,(e,t)=>e.replace(i,(e,r)=>{let n=null;returnh);++i)t[i+r]=e[i];return i}heet?i.styleSheet.cssText+=e:i.textContent+=e,i}e.exports=i,e.exports.insertCss=i},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(0),i=r(40),o=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))};const a="com.turner.top-2.activationRegCode",s=Object(n.J)();class u{constructor(e,t,r){this.isInAuthenticationFlow=!1,this.cachedUserGuid=void 0,this._ready=new n.q,this.ready=this._ready.promise,this.authConfig=e,this._stateHandler=t,this._configService=r}setRequestor(){return o(this,void 0,void 0,(function*(){const{environment:e,brand:t,deviceType:r,ecid:o}=this.authConfig,a=(()=>{if(Object(i.f)()){const e=Object(i.a)("com.turner.top-2.activationDeviceId");if(e)return e;Object(i.d)("com.turner.top-2.activationDeviceId",s)}return s})(),u=n.l.libVersion,c=t,l=c+":top-auth";if(this._clientlessApi=new n.n({adobeEnv:e,deviceId:a,deviceType:r,ecid:o,appVersion:u,appId:l,requestorId:c}),!this._configService)throw new Error("Missing a config service");const{mvpdConfig:f}=this._configService;if(!f)throw new Error("Missing MVPD Config!");this._mvpdConfig=f;const d=yield this._clientlessApi.requestConfig(),{mvpd:h}=d,{mvpd:p}=this._mvpdConfig;return this._mvpdConfig.mvpd=Object(n.I)(p,h),this._ready.resolve(!0),{type:n.c.Did_Set_Requestor_Complete,status:!0}}))}checkAuthenticatedStatus(){return o(this,void 0,void 0,(function*(){if(yield this.ready,!this._clientlessApi)return Promise.reject(c());const e={type:n.c.Did_Set_Authentication_Status,isAuthenticated:!1,info:"",shouldLogoutInSettings:!1};if(Object(i.g)()){const t=Object(i.b)(a);if(t)try{yield this._clientlessApi.checkRegCodeAuthN(t),e.isAuthenticated=!0}catch(t){e.isAuthenticated=!1,e.info=t.message}else e.info="No regcode found in sessionStorage";return e}return e.info="sessionStorage not accessible",e}))}getSelectedProvider(){const e={type:n.c.Did_Receive_Selected_Provider,provider:{id:"activationProviderId",displayName:"ActivationProvider",country:"US"}};return Promise.resolve(e)}authenticate({regCode:e}={}){return o(this,void 0,void 0,(function*(){if(yield this.ready,!this._clientlessApi)return Promise.reject(c());if(!this._mvpdConfig)return Promise.reject(l());if(!e)return Promise.reject((new n.d).withMessage("No regCode provided").withSeverity(n.i.Error).withCategory(n.e.Authentication).withDomain(n.f.Target).build());this.isInAuthenticationFlow=!0,this._inProgressAuthNDeferred=new n.q,Object(i.g)()&&Object(i.e)(a,e);const t={helpURL:this.authConfig.helpURL,mvpdConfiguration:this._mvpdConfig,sortedProviderListData:this._configService.getSortedProviderListData()};return this._stateHandler.handlePresentPicker(t),this._inProgressAuthNDeferred.promise}))}didSelectProvider(e){return o(this,void 0,void 0,(function*(){if(yield this.ready,!this._clientlessApi)return Promise.reject(c());const t=Object(i.b)(a)||"invalid",r=e.id,{activationRedirectURL:o=location.href}=this.authConfig,s=this._clientlessApi.getAuthenticationUrl({regCode:t,mvpdId:r,redirectUrl:o}).toString();return location.href=s,{type:n.c.Did_Receive_Navigate_To_URL,url:s,handler:n.G.Browser}}))}setTemppassProvider(e){throw new Error("Method not implemented.")}cancelAuthentication(){this.isInAuthenticationFlow&&(this.isInAuthenticationFlow=!1,this._inProgressAuterred&&this._inProgressAuthNDeferred.resolve(e)}))}handleRedirectU(e){throw new Error("Method not implemented.")}preauthorize(e,t){throw new Error("Method not implemented.")}logout(){Object(i.g)()&&Object(i.c)(a);const e={type:n.c.Did_Set_Authentication_Status,isAuthenticated:!1,info:"",shoue,t){throw new Error("Method not implemented.")}validateRegistrationCode(e){return o(this,void 0,void 0,(function*(){if(yield this.ready,!this._clientlessApi)return Promise.reject(c());if(!e)return Promise.reject((new n.d).withMessage("No regCode provided").withSeverity(n.i.Error).withCategory(n.e.Authentication).withDomain(n.f.Target).build());try{const t=yield this._clientlessApi.validateRegCode(e),{code:r,expires:i,generated:o,requestor:a}=t;return{type:n.c.Did_Receive_Registration_Code_Validation,regCode:r,expires:i,generated:o,brand:a}}catch(e){return Promise.reject((new n.d).withMessage("Registration code could not be validated").withCategory(n.e.Authentication).withDomain(n.f.Target).withNumeral(n.g.ClientlessRegCodeNotFound).build())}}))}}const c=()=>(new n.d).withMessage("Auth Engine is missing or was disposed").withSeverity(n.i.Fatal).withCategory(n.e.Initialization).withDomain(n.f.Target).withNumeral(n.g.ClientlessAPIUninitialized).withRecoverySuggestion("setRequestor() must be called first").build(),l=()=>(new n.d).withMessage("No MVPD Config").withSeverity(n.i.Fatal).withCategory(n.e.Authentication).withDomain(n.f.Shared).withNumeral(n.g.MvpdConfigResponseFailure).withRecoverySuggestion("A valid MVPD Config is required").build()},function(e,t,r){"use strict";r.d(t,"a",(function(){return P}));var n=r(116),i=r(6),o=r(198),a=r(196),s=r(0),u=r(62),c=r(64),l=r(9),f=r(27),d=r(25),h=r(120),p=r(144),v=(()=>{let e=0;return(t,r={})=>new Promise((n,i)=>{let o=document.createElement("script");const a=document.querySelector("script");o.async=!0,o.id=r.id||"auth_load_"+(e+=1),o.src=t;const s=()=>{o&&(o.onload=null,o.onerror=null,r.cleanup&&o.parentElement&&o.parentElement.removeCh};o.onload=e=>{s(),n(e)},o.onerror=e=>{s(),i(e)},(null==a?void 0:a.parentNode)&&a.parentNode.insertBefore(o,a)})})();const g=s.w.getLogger("WebAccessEnabler").filter("accessenabler");var b;!function(e){e.ENTITLEMENT_LOADED="entitlementLoaded",e.SELECTED_PROVIDER="selectedProvider",e.SET_CONFIG="setConfig",e.PREAUTHORIZED_RESOURCES="preauthorizedResources",e.SET_TOKEN="setToken",e.TOKEN_REQUEST_FAILED="tokenRequestFailed",e.SET_AUTHENTICATION_STATUS="setAuthenticationStatus",e.CREATE_IFRAME="createIFrame",e.DESTROY_IFRAME="destroyIFrame",e.SET_METADATA_STATUS="setMetadataStatus",e.DISPLAY_PROVIDER_DIALOG="displayProviderDialog",e.ERROR_EVENT="errorEvent",e.MVPD_SELECTION="mvpdSelection",e.AUTHENTICATION_DETECTION="authenticationDetection",e.AUTHORIZATION_DETECTION="authorizationDetection"}(b||(b={}));const m=(y=new DOMParser,e=>y.parseFromString(e,"text/xml"));var y;const _=(()=>{const{ELEMENT_NODE:e,TEXT_NODE:t}=Node;function r(n){return n.nodeType===t?n.nodeValue:n.nodeType===e&&n.hasChildNodes()?Object(h.a)(n.childNodes).reduce((n,i)=>(i.nodeType===e&&function(e,t,r){const n=Object(d.a)(r)?(e=>{switch(e){case"true":return!return e}})(r):r;!function(e){return void 0===e}(e[t])?(Object(l.a)(e[t])||(e[t]=[].concat(e[t])),e[t].push(n)):e[t]=n}(n,i.nodeName,i.firstChild&&i.firstChild.nodeType===t?i.textContent||i.innerText||i.firstChild.nodeValue:r(i)),n),{}):void 0}return e=>{let t;if(e){const n=e.getElementsByTagName("mvpds");n.length?t=r(n.item(0)):g.error("Failed to obtain mvpds from Adobe config!")}else g.error("Failed to obtain config XML from Adobe!");return t}})(),w=e=>{if(!Object(d.a)(e))return e;const t=e.trim();return t.length<24?"":t};class O extends s.F{constructor(e,t){super(),this.accessenablerVersion="unknown";const r=new s.q;this.ready=r.promise;const n=()=>{this._accessenabler?r.resolve(!0):r.reject((new s.d).withMessage("Callback entitlementLoaded called without instance of AccessEnabler").withSeverity(s.i.Fatal).withCategory(s.e.Initialization).withDomain(s.f.Target).withNumeral(s.g.AdobeInitializationFailure).build())};tdy.finally(()=>{this.off("entitlementLoaded",n)});try{v(e).then(()=>{this.externalizeCallbacks(),this._accessenabler=new window.Adobe.AccessEnabler(t),this._accessenablerModels=window.Adobe.models},e=>{g.error("Failed to load Adobe accessenabler JS"),r.reject((new s.d).withMessage("Failed to download AccessEnabler JS").withSeverity(s.i.Fatal).withCategory(s.e.Initialization).withDomain(s.f.Target).withNumeral(s.g.AdobeInitializationFailure).build())}).catch(e=>{g.error(e),r.reject((new s.d).withMessage("Failed to create instance of AccessEnabler").withSeverity(s.i.Fatal).withCategory(s.e.Initialization).withDomain(s.f.Target).withNumeral(s.g.AdobeInitializationFailure).build())})}catch(e){g.error("Failed to request Adobe accessenabler JS"),r.reject((new s.d).withMessage("Failed to request AccessEnabler JS").withSeverity(s.i.Fatal).withCategory(s.e.Initialization).withDomain(s.f.Target).withNumeral(s.g.AdobeInitializationFailure).build())}}dispose(){delete window.setAuthenticationStatus,delete window.setToken,delete window.tokenRequestFailed,delete window.displayProviderDialog,delete window.sendTrackingData,delete window.createIFrame,delete window.destroyIFrame,delete window.setMetadataStatus,delete window.setConfig,delete window.reportAdobeErrorEvent,delete window.preauthorizedResources,this.unbind("errorEvent","reportAdobeErrorEvent"),this._accessenabler=null}externalizeCallbacks(){window.entitlementLoaded=this.adobeEntitlementLoaded.bind(this),window.selectedProvider=this.adobeSelectedProvider.bind(this),window.setAuthenticationStatus=this.adobeSetAuthenticationStatus.bind(this),window.setToken=this.adobeSetToken.bind(this),window.tokenRequestFailed=this.adobeTokenRequestFailed.bind(this),window.displayProviderDialog=this.adobeDisplayProviderDialog.bind(this),window.sendTrackingData=this.adobeSendTrackingData.bind(this),window.createIFrame=this.adobeCreateIFrame.bind(this),window.destroyIFrame=this.adobeDestroyIFrame.bind(this),window.setMetadataStatus=this.adobeSetMetadataStatus.bind(this),window.setConfig=this.adobeSetConfig.bind(this),window.reportAdobeErrorEvent=this.adobeReportErrorEvent.bind(this),window.preauthorizedResources=this.adobePreauthorizedResources.bind(this)}adobeEntitlementLoaded(){g.info("Adobe:callback - entitlementLoaded()"),this.bind("errorEvent","reportAdobeErrorEvent"),this.emit(b.ENTITLEMENT_LOADED,{})}adobeSelectedProvider(e){g.info("Adobe:callback - selectedProvider(result): "+JSON.stringify(e)),this.emit(b.SELECTED_PROVIDER,e)}adobeSetConfig(e){let t={};if(e&&Object(d.a)(e))try{const r=m(e),n=_(r);n&&(t=n)}catch(e){}g.info("Adobe:callback - setConfig(config): "+JSON.stringify(t)),this.emit(b.SET_CONFIG,t)}adobePreauthorizedResources(e){g.info(`Adobe:callback - preauthorizedResources(resources=[${e}])`),this.emit(b.PREAUTHORIZED_RESOURCES,{resources:e})}adobeSetToken(e,t){g.info(`Adobe:callback - setToken(resource="${e}", token="${t}")`),this.emit(b.SET_TOKEN,{resource:e,token:t})}adobeTokenRequestFailed(e,t,r){r&&(r=w(r)),g.info(`Adobe:callback - tokenRequestFailed(resource="${e}", errorCode="${t}", errorString="${r}")`),this.emit(b.TOKEN_REQUEST_FAILED,{resource:e,errorCode:t,errorString:r})}adobeSetAuthenticationStatus(e,t){g.info(`Adobe:callback - setAuthenticationStatus(isAuthenticated="${e}", errorCode="${t}")`),this.emit(b.SET_AUTHENTICATION_STATUS,{isAuthenticated:1===Number(e),errorCode:t})}adobeSendTrackingData(e,t){if(g.info(`Adobe:callback - sendTrackingData(eventType="${e}", trackingData=[${t}])`),e===u.b.MVPD_SELECTION){const[e,r,n,i]=t;this.emit(b.MVPD_SELECTION,{mvpdId:e,deviceType:r,aeType:n,os:i})}else if(e===u.b.AUTHENTICATION_DETECTION){const[e,r,n,i,o,a,s]=t;this.emit(b.AUTHENTICATION_DETECTION,{success:e,mvpdId:r,guid:n,cache:i,deviceType:o,aeType:a,os:s})}else if(e===u.b.AUTHORIZATION_DETECTION){const[e,r,n,i,o,a,s]=t;this.emit(b.AUTHORIZATION_DETECTION,{success:e,mvpdId:r,guid:n,cache:i,deviceType:o,aeType:a,os:s})}}adobeCreateIFrame(e,t){g.info(`Adobe:callback - createIFrame(width=${e}, height=${t})`);const r=Object(p.a)(e),n=Object(p.a)(t);this.emit(b.CREATE_IFRAME,{width:r,height:n})}adobeDestroyIFrame(){g.info("Adobe:callback - destroyIFrame()"),this.emit(b.DESTROY_IFRAME,{})}adobeSetMetadataStatus(e,t,r){g.info(`Adobe:callback - setMetadataStatus(key="${e}", encrypted=${t}, value="${r}")`),this.emit(b.SET_METADATA_STATUS,{key:e,encrypted:t,value:r})}adobeDisplayProviderDialog(e){g.info("Adobe:callback - displayProviderDialog(providers)"),this.emit(b.DISPLAY_PROVIDER_DIALOG,{providers:e})}adobeReportErrorEvent(e){Object(f.a)(e)?("message"in e&&(e.message=w(e.message)),g.info(`Adobe:callback - reportErrorEvent(${JSON.stringify(e)})`),this.emit(b.ERROR_EVENT,e)):g.warn("Adobe:callback - reportErrorEvent(errorData): Cannot process errorData")}setRequestor(e,t,r){this._accessenabler&&(r=Object(c.a)(r,{callSetConfig:!0}),g.info(`Adobe:call - setRequestor(inRequestorID="${e}", endpoints="${JSON.stringify(t)}", options="${JSON.stringify(r)}")`),this._accessenabler.setRequestor(e,t,r))}setSelectedProvider(e){this._accessenabler&&(g.info(`Adobe:call - setSelectedProvider(providerId="${e}")`),this._accessenabler.setSelectedProvider(e))}getSelectedProvider(){this._accessenabler&&(g.info("Adobe:call - getSelectedProvider()"),this._accessenabler.getSelectedProvider())}checkAuthentication(){this._accessenabler&&(g.info("Adobe:call - checkAuthentication()"),this._accessenabler.checkAuthentication())}getAuthentication(e){this._accessenabler&&(g.info(`Adobe:call - getAuthentication(redirectURL="${e}")`),this._accessenabler.getAuthentication(e))}checkPreauthorizedResources(e,t){this._accessenabler&&(g.info(`Adobe:call - checkPreauthorizedResources(inResourceIds=[${e}], cache=${t})`),this._accessenabler.checkPreauthorizedResources(e,t))}checkAuthorization(e){this._accessenabler&&(g.info(`Adobe:call - checkAuthorization(inResourceId="${esenabler&&this._accessenabler.preauthorize(e,t)}makePreauthorizeRequestObject(e,t){if(!this._accessenablerModels)return;const r=this._accessenablerModels.PreauthorizeRequest.getBuilder();return r.setResources(e),t.disableLocalCache&&r.disableFeatures("LOCAL_CACHE"),t.disableRemoteCache&&r.disableFeatures("REMOTE_CACHE"),r.build()}getMetadata(e,t){this._accessenabler&&(g.info(`Adobe:call - getMetadata(key="${e}", paramscall - logout()"),this._accessenabler.logout())}bind(e,t){this._accessenabler&&(g.info(`Adobe:call - bind(${e}, ${t})`),this._accessenabler.bind(e,t))}unbind(e,t){this._accessenabler&&(g.info(`Adobe:call - unbind(${e}, ${t})`),this._accessenabler.unbind(e,t))}}var S=r(73);const j=s.w.getLogger("WebAuthEngine").filter("auth"),E=()=>(new s.d).withMessage("Auth Engine is missing or was disposed").withSeverity(s.i.Fatal).withCategory(s.e.Initialization).withDomain(s.f.Target).withNumeral(s.g.InternalFailure).withRecoverySuggestion("setRequestor() must be called first").build(),A=()=>(new s.d).withMessage("No MVPD Config").withSeverity(s.i.Fatal).withCategory(s.e.Authentication).withDomain(s.f.Shared).withNumeral(s.g.MvpdConfigResponseFailure).withRecoverySuggestion("A valid MVPD Config is required").build(),x=e=>{const{isAuthenticated:t,errorCode:r}=e;return{type:s.c.Did_Set_Authentication_Status,isAuthenticated:t,info:r||"",shouldLogoutInSettings:!1}};class P{constructor(e,t,r){this.isInAuthenticationFlow=!1,this.authConfig=e,this._stateHandler=t,this.configService=r;const{environment:n,softwareStatement:i,serviceAppId:o}=this.authConfig;if(!o)throw new TypeError('"serviceAppId" required in Auth config');const a=n===s.r.STAGING?"https://entitlement.auth-staging.adobe.com/entitlement/v4/AccessEnabler.js?debug":"https://entitlement.auth.adobe.com/entitlemine&&(this._engine.dispose(),this._engine=null)}setRequestor(){return this._engine?(j.verbose("setRequestor()"),this._engine.ready.then(()=>{var e;if(!this._engine)return Promise.reject(E());if(!this.mvpdConfig){if(!(null===(e=this.configService)||void 0===e?void 0:e.mvpdConfig))return Promise.reject(A());this.mvpdConfig=this.configService.mvpdConfig}const t=this.awaRROR_EVENT,({errorId:e})=>"R400"===e||"R401"===e),r=t.then(({errorId:e,message:t})=>Promise.reject(new Error(`${e} ${t}`)));r.cancel=t.cancel;const n=this.awaitAccessEnablerE.race([n,r]).finally(()=>{r.cancel(),n.cancel()}),u={backgroundLogin:!0,backgroundLogout:!0};if(this.authConfig&&"ecid"in this.authConfig){const{ecid:e}=this.authConfig;e&&(u.visitorID=e)}return this._engine.setRequestor(this.authConfig.brand,null,u),i.then(e=>{const{mvpd:t=[]}=e||{};return this.mvpdConfig?t.length?this.mvpdConfig.mvpd=((e,t)=>{if(!t||!t.length)return e;const r=Object(o.a)(t,e=>e.id);return e.map(e=>{const{id:t}=e;if(t in r){const n=r[t];return Object(a.a)(Object.assign(Object.assign({},n),e),["logoUrl"])}}).filter(Boolean)})(this.mvpdConfig.mvpd,t):j.error("Adobe list of MVPDs is empty!"):j.error("No MVPD Config obtained"),{type:s.c.Did_Set_Requestor_Complete,status:!0}})})):Promise.reject(E())}awaitAccessEnablerEventUntilPredicate(e,t){const r=new s.q,n=()=>{var t;null===(t=this._engine)||void 0===t||t.off(e,i)},i=e=>{t(e)&&(n(),r.resolve(e))},o=(e=new Error("Request was canceled"))=>{n(),r.reject(e)},a=o.bind(null,E());this._engine?this._engine.ready.then(()=>{this._engine?this._engine.on(e,i)awaitAccessEnablerEventUntilPredicate(e,()=>!0)}awaitAuthStatusResponse(){const e=this.awaitAccessEnablerEvent(b.SET_AUTHENTICATION_STATUS),t=this.awaitAccessEnablerEvent(b.AUTHENTICATION_DETECTION);return Promise.all([e,t]).then(([e,t])=>{const{isAuthenticated:r}=e;if(r){const{guid:e}=t;this.cachedUserGuid=e}else this.cachedUserGuid=void 0;return x(e)})}checkAuthenticatedStatus(){return this._engine?(j.verbose("checkAuthenticatedStatus()"),this._engine.ready.then(()=>{if(!this._engine)return Promise.reject(E());const e=this.awaitAuthStatusResponse();return this._engine.checkAuthentication(),e})):Promise.reject(E())}clearSelectedProvider(){return this._engine?(j.verbose("clearSelectedProvider()"),this._engine.ready.then(()=>{if(!this._engine)return Promise.reject(E());const e=this.awaitAccessEnablerEvent(b.SET_AUTHENTICATION_STATUS);return this._engine.setSelectedProvider(null),e.then(e=>{const{isAuthenticated:t,errorCode:r}=e;if(t){const e=(new s.d).withMessage("Failed to clear selected provider").withCategory(s.e.Authentication).withDomain(s.f.Shared).withNumeral(s.g.AdobeSetRequestorFailure).withRecoverySuggestion("Try again").withSubErrorCode(r).build();return Promlve()}).finally(()=>{this.cachedUserGuid=void 0})})):Promise.reject(E())}authenticate(){if(!this._engine)return Promise.reject(E());if(!this.mvpdConfig)return j.error("Cannot login, no mvpd config!"),Promise.reject(A());j.verbose("authenticate()");const e=()=>{if(!this._engine)return Promise.reject(E());const e=this.awaitAccessEnablerEvent(b.DISPLAY_PROVIDER_DIALOG);return this._engine.getAuthentication(),e.then(()=>{if(!this.mvpdConfig)return Promise.reject(A());const e={helpURL:this.authConfig.helpURL,mvpdConfiguration:this.mvpdConfig,sortedProviderListData:this.configService.getSortedProviderListData()};return this._stateHandler.handlePresentPicker(e),Promise.resolve()})},t=()=>{if(!this._engine)return Promise.reject(E());const e=this.awaitAuthStatusResponse();return this._engine.getAuthentication(),e},r=this._engine.ready.then(()=>{this.clearSelectedProvider()}).then(()=>(this.isInAuthenticationFlow=!0,e())).then(()=>t()).finally(()=hen(e=>{this._stateHandler.handleAuthNStatus(e)}),r}getMvpdConfigEntry(e){if(this.mvurn Object(n.a)(this.mvpdConfig.mvpd,t=>t.id===e);j.error("Cannot continue without an MVPD config!")}didSelectProvider(e){return this._engine?(j.verbose(`didSelectProvider(${null==e?e:Object(i.a)(e)&&"id"in e?e.id:"??"})`),this._engine.ready.then(()=>{if(!this._engine)return Promise.reject(E());const t=e.id,r=this.getMvpdConfigEntry(t);if(!r){const e=(new s.d).withMessage("Not found in MVPD Config").withCategory(s.e.Config).withDomain(s.f.Adobe).withNumeral(s.g.MvpdConfigProviderNotFound).withRecoverySuggestion("Try again later").withSubErrorMessage(`Failed to find an MVPD Config entry for ID "${t}"`).build();return Promise.reject(e)}S.d(r);const n=this.awaitAccessEnablerEvent(b.MVPD_SELECTION);return this._engine.setSelectedProvider(t),n.then(({mvpdId:e})=>({type:s.c.Did_Receive_Navigate_To_URL,url:"about:blank",handler:s.G.Browser}))})):Promise.reject(E())}setTemppassProvider(e){if(!this._engine)return Promise.reject(E());j.verbose(`setTemppassProvider(${null==e?e:Object(i.a)(e)&&"id"in e?e.id:"??"})`);const t=e.id,r=()=>{if(this._engine)return this._engine;throw E()},n=()=>{if(this.mvpdConfig)return this.mvpdConfig;throw A()},o=()=>{const e=r(),t=this.awaitAccessEnablerEvent(b.DISPLAY_PROVIDER_DIALOG);return e.getAuthentication(),t.then(e=>(n(),e))},a=()=>{const e=r(),i=this.awaitAuthStatusReturn e.setSelectedProvider(t),i.ne.ready.then(()=>{this.clearSelectedProvider()}).thehis.isInA()).finally(()=>{this.isInAuthenticationFlow=!1})}cancelAuthentication(){return this._engine?(j.verbose("cancelAuthentication()"),this._engine.ready.then(()=>{if(!this._engine)return Promise.reject(E());if(S.b(),!this.isInAuthenticationFlow){const e=(new s.d).withMessage("Not in authN flow, cannot cancel").withCategory(s.e.Authentication).withDomain(s.f.Runtime).withNumeral(s.g.CallOutsideOfAuthenticationFlow).build();return Promise.reject(e)}const e=this.awaitAuthStatusResponse();return this._engine.setSelectedProvider(null),e.then(e=>{const{isAuthenticated:t}=e;if(t){const e=(new s.d).withMessage("Failed to cancel authentication").withCategory(s.e.Authentication).withDomain(s.f.Adobe).withNumeral(s.g.AdobeAuthenticationFailure).build();return Promise.reject(e)}return Promise.resolve(e)})})):Promise.reject(E())}authorize(e){return this._engine?(j.verbose(`authorize(channel="${e}")`),this._engine.ready.then(()=>new Promise((t,r)=>{const n=b.SET_TOKEN,i=b.TOKEN_REQUEST_FAILED,o=()=>{this._engine&&(this._engine.off(n,a),this._engine.off(i,u))},a=n=>{const{resource:i}=n;if(i!==e)return;if(o(),!this._engine)return r(E());const a={type:s.c.Did_Set_Token,channel:n.resource,token:n.token};t(a)},u=t=>{const{resource:n,errorCode:i,errorString:a}=t;if(n!==e)return;if(o(),!this._engine)return r(E());const u=(new s.d).withMessage(a||`Not authorized for resource "${n}"`).withSeverity(s.i.Error).withCategory(s.e.Authorization).withDomain(s.f.Adobe).withNumeral(s.g.NotAuthorized).withRecoverySuggestion("Request new token").withSubErrorCode(i||"").withSubErrorMessage(a||"").build();r(u)};if(!this._engine)return r(E());this._engine.on(n,a),this._engine.on(i,u),this._engine.checkAuthorization(e)}))):Promise.reject(E())}preauthorize(e,t){return this._engine?(j.verbose(`-------- preauthorize(channels="${e}")`),this._engine.ready.then(()=>new Promise((r,n)=>{if(!this._engine)return;const i=this._engine.makePreauthorizeRequestObject(e,t);if(!i)return void j.error("Unable to construct access enabler request");const o={onResponse(e){const t={type:s.c.Did_Receive_Preauthorized_Resources,decisions:e.decisions};r(t)},onFailure(e){let t;if(e.status){const{status:{code:r,details:n,message:i}}=e;t=(new s.d).withMessage(`Preauthorization call failed. ${r}: ${n}`).withSubErrorMessage(""+i).withCategory(s.e.Preauthorization).withPlatform(s.h.Web).withDomain(s.f.Runtime).build()}else t=(new s.d).withMessage("Preauthorization call failed but no status object was returned").withCategory(s.e.Preauthorization).withPlatform(s.h.Web).withDomain(s.f.Runtime).build();n(t)}};this._engine.preauthorize(i,o)}))):Promise.reject(E())}logout(){return this._engine?(j.verbose("logout()"),this._engine.ready.then(()=>{if(!this._engine)return Promise.reject(E());this.isInAuthenticationFlow=!0;const e=this.awaitAccessEnablerEvent(b.SET_AUTHENTICATION_STATUS);return this._engine.logout(),e.then(x).finally(()=>{this.cachedUserGuid=void 0,this.isInAuthenticationFlow=!1})})):Promise.reject(E())}getSelectedProvider(){return this._engine?(j.verbose("getSelectedProvider()"),this._engine.ready.then(()=>{if(!this._engine)return Promise.reject(E());const e=this.awaitAccessEnablerEvent(b.SELECTED_PROVIDER);return this._engine.getSelectedProvider(),e.then(({MVPD:e})=>{const t=e?this.getMvpdConfigEntry(e):void 0,r={type:s.c.Did_Receive_Selected_Provider,provider:t};return Promise.resolve(r)})})):Promise.reject(E())}fetchMetadata(e,t){if(!this._engine)return Promise.reject(E());if(j.verbose(`fetchMetadata(key="${e}", args?="${t?JSON.stringify(t):""}")`),!e){const e=(new s.d).withMessage('TypeError: A valid key is required for "fetchMetadata"').withCategory(s.e.Metadata).withDomain(s.f.Runtime).withNumeral(s.g.TypeError).build();return Promiseconst r=null!=t?Object.entries(t).map(([e,t])=>t):void 0;let n=e;switch(n){case u.a.DEVICE_ID:n="DEVICEID";break;case u.a.AUTHENTICATED_TTL:n="TTL_AUTHN";break;case u.a.AUTHORIZED_TTL:n="TTL_AUTHZ"}return this._engine.ready.then(()=>new Promise((t,i)=>{const o=b.SET_METADATA_STATUS,a=r=>{if(!this._engine)return i(E());const{key:u}=r;u===n&&(this._engine.off(o,a),t(Object.assign(r,{type:s.c.Did_Set_Metadata_Status,key:e})))};if(!this._engine)return i(E());this._engine.on(o,a),this._engine.getMetadata(n,r)}))}handleRedirectURL(e){return Promise.reject(new Error("Mt(new Error("Method onlse.reject(new Error("Method not implemented."))}}},function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"default",(function(){return u})),r.d(t,"configurePicker",(function(){return c})),r(283),r(284),r(328),r(336),r(368),r(386),r(423),r(429);var n=r(0),i=r(238),o=r(280),a=r(281);r.d(t,"AuthConfigBuilder",(function(){return n.b})),r.d(t,"AuthenticatedState",(function(){return n.m})),r.d(t,"AuthErrorCategory",(function(){return n.e})),r.d(t,"AuthErrorDomain",(function(){return n.f})),r.d(t,"AuthErrorNumeral",(function(){return n.g})),r.d(t,"AuthErrorPlatform",(function(){return n.h})),r.d(t,"AuthErrorSeverity",(function(){return n.i})),r.d(t,"AuthEventType",(function(){return n.j})),r.d(t,"AuthVersion",(function(){return n.l})),r.d(t,"EnvironmentName",(function(){return n.r})),r.d(t,"FreePreviewContentType",(function(){return n.t})),r.d(t,"FreePreviewTokenType",(function(){return n.v})),r.d(t,"Log",(function(){return n.w})),r.d(t,"MetadataKey",(function(){return n.D})),r.d(t,"PickerViewName",(function(){return n.E})),r.d(t,"RedirectHandler",(function(){return n.G}));var s=r(62);function u(e){const t=new n.k,r=new n.p(t),s=(()=>{switch(e.authType){case"activation":return new o.a(e,t,r);case"clientless":return new n.o(e,t,r);default:return new a.a(e,t,r)}})(),u=new n.u(s,r,t);n.B.applyOverridesFromURL(document.location.href);const l=new n.a(s,r,u,t),{uiDisplayConfig:f}=e;return i.a.setup(l),f&&c(f),l}function c(e){("hasWelcomeSlate"in e||"skipSuccessSlate"in e)&&(n.w.getLogger("PickerConfigDeprecation").warn("AuthPicker: DEPRECATION WARNING: PickerConfig is deprecated as of 2.1.2-1. Please use UIDisplayConfig"),e=function(e){const{strings:t,onRender:r,hasWelcomeSlate:n=!1,skipSuccessSlate:i=!1,autoFocusProviderTextField:o,primaryImgWidth:a,primaryImgHeight:s}=e;return{strings:t,onRender:r,autoFocusProviderTextField:o,showWelcomeSlate:n,showSuccessSlate:!i,primaryImgWidth:a,primaryImgHeight:s}}(e)),i.a.configure(e)}r.d(t,"TrackingEventType",(function(){return s.b}));const l={create:u,configurePicker:c,AuthEventType:n.j,AuthenticatedState:n.m,MetadataKey:n.D,RedirectHandler:n.G,AuthConfigBuilder:n.b,builder:{AuthConfigBuilder:n.b},error:{AuthErrorCategory:n.e,AuthErrorPlatform:n.h,AuthErrorSeverity:n.i,AuthErrorDomain:n.f,AuthErrorNumeral:n.g},env:{EnvironmentName:n.r},freePreview:{FreePreviewContentType:n.t,FreePreviewTokenType:n.v},picker:{PickerViewName:n.E},Version:n.l};e.TOP||(e.TOP={}),e.TOP.Auth||(e.TOP.Auth={}),e.TOP.logging||(e.TOP.logging={Log:n.w,LogTheme:n.C,LogLevelType:n.A,LogLevelCompositeType:n.z,LogCategoryCompositeType:n.x,ev),Object.keys(l).forEach(t=>{e.TOP.Auth[t]=l[t]})}.call(this,r(95))},function(e,t,r){"use strict";var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n&&n,i="URLSearchParams"in n,o="Symbol"in n&&"ition(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in n,u="ArrayBuffer"in n;if(u)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]turn this.d(t);var r=this.maptotype.delete=fun(e){return e=f(unction(e){returprototype.set=functihasOwnProperty(r)n this.forEach((funurn this.forEach((fuis.forEach((function(t,r){e.push([r,t])})),h(e)},o&&(p.prototype[Symbol.iterator]=p.prototype.entries);var headers),this.ution(){return new w(this,{body:this._bodyInit})},y.call(w.Text,heatatus:0,statusText:""});return e.type="urn new S(null,{status:t,headers:{location:e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.c.send(void 0===o._bodyInit?null:o._bodyInit)}))}A.polyfill=!0,n.fetch||(n.fetch=A,n.Headers=p,n.Request=w,n.Respon?t(n(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},function(e,t,r)&&null===(t=t[s]))&&(t=void 0)),void 0===t?u:t}},function(e,t,r){var n=r(2),i=r(297),o=r(67);n({target:"A in r?r[u]=r[c]:delete r[u],u+=d,c+=d;return r}},function(e,t,r){"use strict";var n=r(2),i=r(79).every;n({target:"Array",proto:!0,forced:!r(69)("every")},{every:function(e){return i(th0,c=void 0===u?r:i(u,r);c>s;)t[s++]=e;return t}},function(e,t,r){"use strict";var n=r(2),i=r(79).filter;n({target:"Array",proto:!0,forced:!r(128)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){"use strict";var n=r(2),i=r(79).find,o=r(67),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{find:function(e){return i(this,e,argums--)if(s in t&&t[s]===e)return s||0;return-1}:c},function(e,t,r){"use strict";var n=r(2),i=r(79).map;n({target:"Array",proto:!0,forced:!r(128)("map")},{map:function(e){return i(tht[n]=i[n++];for(;n<c;)delete t[n++];return t}})},function(e,t,r){var n=r(75).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},function(e,t,r){var n=r(75);e.exports=/MSIE|Tr[f+y]=arguments[f+2];return b.lString:function(){return"[object "+i(this)+"]"}},ototype;e.exports=i===Object.prototype?void 0:i},5),r(366),r(367);var n=r(80);e.exports=n.Object},function(e,t,r){"use strict";var n=r(2),i=r(3),o=r(54),a=r(131),s=r(17),u=r(8),c=r(41),l=r(16),f=r(209),d=r(7),h=r(33),p=r(98),v=r(12),g=r(18),b=r(103),m=r(208),y=r(23),_=r(19),w=r(37),O=r(102),S=r(14),j=r(74),E=r(68),A=r(126),x=r(154),P=r(224),T=r(215),C=r(57),k=r(36),I=r(156),R=r(147),L=r(222),N=r(42),M=r(149),D=r(153),U=r(122),F=r(150),B=r(11),z=r(256),q=r(339),H=r(59),V=r(58),$=r(79).forEach,W=D("hidden"),G=B("toPrimitive"),J=V.set,Y=V.getterFor("Symbol"),K=Object.prototype,Z=i.Symbol,Q=Z&&Z.prototype,X=i.TypeError,ee=i.QObject,te=o("JSON","stringify"),re=C.f,ne=k.f,ie=P.f,oe=R.f,ae=u([].push),se=M("symbols"),ue=M("op-symbols"),ce=M("string-to-symbol-registry"),le=M("symbol-to-string-registry"),fe=M("wks"),de=!ee|unt);n&&l",e(en,(h(t!h( $(ction(e){!h(se l&&de&&he(K,t,{configurable:!0,set:r}),pe(t,e)}).prototype,"toString",(function(){return Y(this).tag})),N(Z,"withoutSetter",(function(e){return pe(F(e),e)})),RP.f=ye,T.f=_e,z.f=function(e){return pe(B(e)le:!0,get:function(){return Y(this).description}}),c||N(K,"propertyIsEnumerable",be,{unsafe:!0}))),n({global:!0,sham:!f},{Symbol:Z}),$(A(fe),(function(e){q(eturn cX(e+" is not a symbol");if(h(le,e))reter:function(){de=!0},useSimple:function(){de=!1}}),n({tafunction(e,t){return void 0===t?E(e):ge(E(e),t)},defineProperty:ve,defineProperties:ge,getOwnPropertyDescriptor:me}),n({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:ye,getOwnPropertySet:"Object",stat:!0,forcedOwnPropertySymbols:function(e){return T.f(_(e!=te([e])||"{}this,e,t)),!m(t))return t}),n[1]==Q.valueOf;N(Q,G,(functiol||(n.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},function(e,t,r){var n=r(2),i=r(257);n({target:"Objectt:"Object",stat:!0,sham:!r(16)},{create:r(68)})},function(e,t,r){var n=r(2),i=r(16),o=r(36).f;n({target:"Object",stat:!0,forced:Object.neProperties!==o,sham:!i},{defineProperties:o})},function(e,t,r){var n=r(2),i=r(258).entries;n({target:"Objec},{getPrototypeOf:function(e){return a(o(e))}})},function(e,t,r){r(2)({target:"Object",stat:!0},{hasOwn:r(33)})},function(e,trced:Object.isExtensible!==i},{isExtensible:i})},function(e,t,r){var n=r(2),i=r(7),o=r(18),a=r(53),s=r(225),u=Object.isFrozen;n({target:"Object",stat:!0,forced:i((function(){u(1)}))||s},{isFrozen:function(e){return(){o(1)}))},{keys:function(e){return o(i(e))}})},function(e,t,r){var n=r(2),i=r(18),o=r(135).onFreeze,a=r(159),s=r(7),u=Object.preventExtensions;n({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!a},{preventExt},{seal:function(e){return u&&i(e)?u(o(e)):e}})},function(e,t,r){r(2)({tact",stat:!0},{values:function(e){return i(e)}})},function(e,t,r){"use strict";var n=r(2),i=r(16),o=r(161),a=r(48),s=r(19),u=r(36);i&&n({target:"Object",proto:!0,forced:o},{__defineGetter__:function(e,t){u.f(s(this),e,{set:a(t),enumerable:!0,configurable:!0})}})},function(e,t,r){"use strict";var n=r(2),i=r(16),o=r(161),a=r(19),s=r(102),u=r(104),c=r(57).f;i&&n({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(e){var t,r=a(this),n=s(bal:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},=/ipad|iphone|ipod/i.test(n)&&void 0!==i.Pebble},function(e,t,r){varly!==d&&f(o.prototype,"finally",d,{unsafe:p(e,"g"),j?o(N,i,r):i[E](r)}}),j||E in P||b(P,E,N)},function(e,t,r){"use strict";var n=r(2),i=r(266).end;n({target:"String",proto:!0,forced:r(268)},{padEnd:function(e){return ir(232)("trim")},{trim:function(){return i(this)}})},function(e,t,r){"use strict";var n=r(2),i=r(231).start,o=r(232)("trimStart"),a=o?function(){return i(this)}:"".trimStart;n({target:"String",proto:!0,na,name:"trimEnd",forced:o},{trimEnd:a,trimRight:a})},function(e,t,r){"use strict";var n=r(2),i=r(43);n({target:"String",proto:!0,forced:r(44)("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},function(e,t,r){"use strict";var n=r(2),i=r(43);n({target:"String",proto:!0,forced:r(44)("big")},{big:function(){return i(this,"big","","")}})},function(e,t,r){"use strict";var n=r(2),i=r(43);n({target:"String",proto:!0,forced:r(44)("blink")},{blink:function(){return i(this,"blink","","")}})},function(e,t,r){"use strict";var n=r(2),i=r(43);n({target:"String",proto:!0,forced:r(44)("bold")},{bold:function(){return i(this,"b","","")}})},function(e,t,r){"use strict";var n=r(2),i=r(43);n({target:"String",proto:!0,forced:r(44)("fixed")},{fixed:function(){return i(this,"tt","","")}})},function(e,t,r){"use strict";var n=r(2),i=r(43);n({target:"String",proto:!0,forced:r(44)("fontcolor")},{fontcolor:function(e){return i(this,"font","color",e)}})},function(e,t,r){"use strict";var n=r(2),i=r(43);n({target:"String",proto:!0,forced:r(44)("fontsize")},{fontsize:function(e){return i(this,"font","size",e)}})},function(e,t,r){"use strict";var n=r(2),i=r(43);n({target:"String",proto:!0,forced:r(44)("italics"},{link:function(e){return i(this,"a","href",e)}})},function(e,t,r){"use strict";var n=r(2),i=r(43);n({target:"String",proto:!0,forced:r(44)("small")},{small:function(){return i(this,"small","","")}})},function(e,t,r){"use strict";var n=r(2),i=r(43);n({target:"String",proto:!0,forced:r(44)("strike")},{strike:function(){return i(this,"strike","","")}})},function(e,t,r){"use strict";var n=r(2),i=r(43);n({target:"String",proto:!0,forced:r(44)("su){r(425),r(428),r(233);var n=r(80);e.exports=n.URL},function(e,t,r){"use strict";r(134);var n,i=r(2),o=r(16),a=r(271),s=r(3),u=r(66),c=r(8),l=r(156).f,f=r(42),d=r(136),h=r(33),p=r(257),v=r(245),g=r(157),b=r(158).codeAt,m=r(426),y=r(14),_=r(59),w=r(233),O=r(58),S=O.set,j=O.getterFor("URL"),E=w.URLSearchParams,A=w.getState,x=s.URL,P=s.TypeError,T=s.parseInt,C=Math.floor,k=Math.pow,I=c("".charAt),R=c(/./.exec),L=c([].join),N=c(1..toString),M=c([].pop),D=c([].push),U=c("".replace),F=c([].shift),B=c("".split),z=c("".slice),q=c("".toLowerCase),H=c([].unshift),V=/[a-z]/i,$=/[\d+-.a-z]/i,W=/\d/,G=/^0x/i,J=/^[0-7]+$/,Y=/^\d+$/,K=/^[\da-f]+$/i,Z=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Q=/[\0\t\n\r #/:<>?@[\\\]^|]/,X=/^[\u(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},re={},ne=p({},re,{" ":1,'"':1,"<":1,">":1,"`":1}),ie=p({},ne,{"#":1,"?":1,"{":1,"}":1}),oe=p({},ie,{"/":1,":":1,";eturn r>32&&r<127&&!h(t,e)?e:encodeURIComponent(e)},se={flength"===t)},le=function(e){return"."===e||"%2e"===q(e)},fe={},de={},he={},pe={},ve={},ge={},be={},me={},ye={},_e={},we={},Oe={},Se={}i);(o=A(new E)).bindURL(this),te);break;c(e),n=0;n<r.length;n++)t+=ae(r[s.host||this.cannotBction(){reord},isSpeci"file"==th/"):"",narse(e);if)?e+"://"+tell"},getProt"},setProtocol:function(e){this.parse(y(e)+":",fe)},getUsername:function(){return this.username},setUsername:function(e){var t=v(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=ae(t[r],oe)}},getPavar r=0;port;return null===e?"":null===t?te(e):te(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,we)},getHostname:function(){vaunction(function()||(""==(e=his.cannotBe.cannotBeABaseURL||(this.path=[],this.parse(e,xe))},getSearch:functry="",this.parsehParams:h:functis.fragmn(){thisarchParams=n.getSeaturn j(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&l(Le,{href:Ne("serialize","setHref"),origin:Ne("getOrigin"),protocol:Ne("getProtocol","setProtocol"),username:Ne("getUsername","setUsername"),password:Ne("getPassword","setPassword"),host:Ne("getHost","setHost"),hostname:Ne("getHostname","setHostname"),port:Ne("getPort","setPort"),pathname:Ne("getPathname","setPathname"),search:Ne("getSearch","setSearch"),searchParams:Ne("getSearchParams"),hash:Ne("getHash","setHash")}),f(Le,"toJSON",(function(){return j(th,"toString",(function(){return j(this).serialize()}),{enumerable:!0}),x){var Me=x.createObjectURL,De=x.revokeObjectURL;Me&&f(Re,"createObjectURL",u(Me,x)),De&&f(Re,"revokeObjectURL",u(De,x))}_(R,r){r(233);var n=r(80);e.exports=rte:(e,t=500)=>e.length>t-3?e.slice(0,t-3)+"...":e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return p}));var n=r(3);const i=new(rsion:e,shortDimension:t,dpi:0,token:`${e}x${t}@0`}})(),a={hardwareManufacturer:"unknown",hardwareModel:i.os.name,hardwareVersion:i.os.version,softwarePlatform:i.browser.name,softwareVersion:i.browser.version,mobileCarrier:"unknown",isEmulator:!1,displayParameters:o,locale:"unknown",securityMode:"unknown"},s=(()=>{const e="nexus-web-application-identifier";let t=document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)nexus-web-application-identifier\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");if(t){const e=t.split("|");return{id:e[0],timestamp:e[1]}}const r={id:(n=(new Date).getTime(),"xxxn n=Math.floor(n/16),("x"==e?t:3&t|8).toString(16)}))),timestamp:Date.now().toString()};var n;return document.cookie=`${e}=${r.id}|${r.timestamp};path=/;max-age=2147483647`,r})(),u={applicationIdentifier:s.id,identifierSetTimestamp:s.timestamp},c={nexusTarget:"web",nexusVariant:"webnableJScalAsyncStorage=t.a.localStorage)}.call(this,r(5))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(tio"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",euro:"",trade:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"\u0370-\u037Dn l(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var o=e.indexOf("</"+r+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(r)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,n),i.characters(a,0,a.length),o)}return t+1}function f(e,t,r,n){var i=n[r];return null==i&&((i=e.lastIndexOf("</"+r+">"))<t&&(i=e.lastIndexOf=e.indexOf("--\x3e",t+4))>t?(r.comment(e,t+4,i-t-4),i+3):(n.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,i-t-9),r.endCDATA(),i+3}var o=function(e,t){var r,n=[]u=!1,c=!1;a>3&&(/^public$/i.test(o[2][0])?(u=o[3][0],c=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(c=o[3][0]));var l=o[a-1];return r.startDTD(s,u,c),r.endDTD(),l.index+l[0].length}}return->10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function d(t){if(t>S){var r=e.substring(S,t).replace(/&#?\w+;/g,a);_&&g(S),n.characters(r,0,t-S),S=t}}function g(t,r){for(;t>=m&&(r=y.exec(e));)b=r.index,m=b+r[0].length,_.lineNumber++;_.columnNumber=t-b+1}for(var b=0,m=0,y=/.*(?:\r\n?|\n)|.*$/g,_=n.locator,w=[{currentNSMap:t}],O={},S=0;;){try{var j=e.indexOf("<",S);if(j<0){if(!e.substr(S).match(/^\s*$/)){var E=n.doc,A=E.createTextNode(e.substr(S));E.appendChild(A),n.currentElement=A}return}switch(j>S&&d(j),e.charAt(j+1)){case"/":var x=e.indexOf(">",j+3),P=e.substring(j+2,x),T=w.pop();x<0?(P=e.substring(j+2).replace(/[\s<].*/,""),i.error("end tag name: "+P+" is not complete:"+T.tagName),x=j+1+P.length):P.match(/\s</)&&(P=P.replace(/[\s<].*/,""),i.error("end tag name: "+P+" maybe not complete"),x=j+1+P.length);var C=T.localNSMap,k=T.tagName==P;if(k||T.tagName&&T.tagName.toLowerCase()==P.toLowerCase()){if(n.endElement(T.uri,T.localName,P),C)for(var I in C)n.endPrefixMapping(I);k||i.fatalError("end tag name: "+P+" is not match the current start tagName:"+T.tagName)}else w.push(T);x++;break;case"?":_&&g(j),x=p(e,j,n);break;case"!":_&&g(j),x=h(e,j,n,i);break;default:_&&g(j);var R=new v,L=w[w.length-1].currentNSMap,N=(x=u(e,j,R,L,a,i),R.length);if(!R.closed&&f(e,x,R.tagName,O)&&(R.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),_&&N){for(var M=s(_,{}),D=0R),n.localement parse error: "+e),x=-1}x>S?S=x:d(Math.max(j,S)+1)}}(e,t,r,n,this.errorHandler),n.endDocument()}},v.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!i.test(e))throw new Error((a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=p,a/=256,c-=8);e[r+h-p]|=128*v}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}}])}}]);
//# sourceMappingURL=https://static-assets.bleacherreport.net/js/vendors~top-auth-block-web-0d15ceeb.js.map