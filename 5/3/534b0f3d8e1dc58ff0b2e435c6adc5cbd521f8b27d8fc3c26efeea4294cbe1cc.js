"use strict";(globalThis["webpackChunkconsumerhelpweb"]=globalThis["webpackChunkconsumerhelpweb"]||[]).push([[65],{65:(n,e,t)=>{function l(){var n="/runner/_work/ConsumerHelpWebApp/ConsumerHelpWebApp/src/components/ContactActions.vue",e="ab3d90eaf6c3c645ed96110bdcc5f1ea188fac90",t=new Function("return this")(),o="__coverage__",i={path:"/runner/_work/ConsumerHelpWebApp/ConsumerHelpWebApp/src/components/ContactActions.vue",statementMap:{0:{start:{line:1,column:13},end:{line:2,column:1}},1:{start:{line:1,column:39},end:{line:1,column:43}},2:{start:{line:1,column:47},end:{line:1,column:59}},3:{start:{line:1,column:60},end:{line:1,column:989}},4:{start:{line:1,column:303},end:{line:1,column:896}},5:{start:{line:1,column:771},end:{line:1,column:815}},6:{start:{line:3,column:22},end:{line:3,column:24}}},fnMap:{0:{name:"render",decl:{start:{line:1,column:22},end:{line:1,column:28}},loc:{start:{line:1,column:30},end:{line:2,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:1,column:283},end:{line:1,column:284}},loc:{start:{line:1,column:302},end:{line:1,column:897}},line:1},2:{name:"(anonymous_2)",decl:{start:{line:1,column:754},end:{line:1,column:755}},loc:{start:{line:1,column:770},end:{line:1,column:816}},line:1}},branchMap:{0:{loc:{start:{line:1,column:135},end:{line:1,column:910}},type:"cond-expr",locations:[{start:{line:1,column:149},end:{line:1,column:901}},{start:{line:1,column:902},end:{line:1,column:910}}],line:1},1:{loc:{start:{line:1,column:467},end:{line:1,column:526}},type:"cond-expr",locations:[{start:{line:1,column:492},end:{line:1,column:497}},{start:{line:1,column:500},end:{line:1,column:526}}],line:1},2:{loc:{start:{line:1,column:618},end:{line:1,column:680}},type:"cond-expr",locations:[{start:{line:1,column:662},end:{line:1,column:672}},{start:{line:1,column:675},end:{line:1,column:680}}],line:1},3:{loc:{start:{line:1,column:694},end:{line:1,column:740}},type:"binary-expr",locations:[{start:{line:1,column:694},end:{line:1,column:716}},{start:{line:1,column:720},end:{line:1,column:740}}],line:1},4:{loc:{start:{line:1,column:838},end:{line:1,column:884}},type:"binary-expr",locations:[{start:{line:1,column:838},end:{line:1,column:851}},{start:{line:1,column:855},end:{line:1,column:884}}],line:1}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ab3d90eaf6c3c645ed96110bdcc5f1ea188fac90"},c=t[o]||(t[o]={});c[n]&&c[n].hash===e||(c[n]=i);var a=c[n];return l=function(){return a},a}t.d(e,{Z:),l(),l().s[0]++;var o=function(){l().f[0]++;var n=(l().s[1]++,this),e=(l().s[2]++,n._self._c);return l().s[3]++,e("div",{ref:"contactsScrollTo",staticClass:"l-container--inner"},[n.actions?(l().b[0][0]++,e("ul",{staticClass:"c-help--contactActions u-clearfix",attrs:{role:"tablist","data-test":"contactChannels"}},n._l(n.actions,(function(t,o){return l().f[1]++,l().s[4]++,e("li",{key:`contact_${o}`,attrs:{role:"presentation"}},[e("f-button",{attrs:{"button-type":t.buttonType.toLowerCase(),"is-full-width":!0,href:n.isChat(t.id)?(l().b[1][0]++,!1):(l().b[1][1]++,n.actionLinkUrl(t)),role:"tab","data-gtm":n.gtmData(t.buttonEvent),"data-test":t.id,disabled:n.isSelectedContactDisabled(t.id)?(l().b[2][0]++,"disabled"):(l().b[2][1]++,!1),"is-loading":(l().b[3][0]++,n.isChat(t.id)&&(l().b[3][1]++,!n.chatInitialised))},on:{click:function(e){return l().f[2]++,l().s[5]++,n.selectContact(t.id,e)}}},[n._v(" "+n._s((l().b[4][0]++,t.title||(l().b[4][1]++,n.content[t.titleKey])))+" ")])],1)})),0)):(l().b[0][1]++,n._e()),e("contact-tab-content",{attrs:{"selected-contact":n.selectedContact}})],1)},i=(l().s[6]++,[]),c=(t(560),t(629)),a=t(945),s=t.n(a),u=t(1101);function r(){var n="/runner/_work/ConsumerHelpWebApp/ConsumerHelpWebApp/src/components/ContactTabContent.vue",e="b70840443987e49469544170292a74b81a507886",t=new Function("return this")(),l="__coverage__",o={path:"/runner/_work/ConsumerHelpWebApp/ConsumerHelpWebApp/src/components/ContactTabContent.vue",statementMap:{0:{start:{line:1,column:13},end:{line:2,column:1}},1:{start:{line:1,column:39},end:{line:1,column:43}},2:{start:{line:1,column:47},end:{line:1,column:59}},3:{start:{line:1,column:60},end:{line:1,column:597}},4:{start:{line:3,column:22},end:{line:3,column:24}}},fnMap:{0:{name:"render",decl:{start:{line:1,column:22},end:{line:1,column:28}},loc:{start:{line:1,column:30},end:{line:2,column:1}},line:1}},branchMap:{0:{loc:{start:{line:1,column:209},end:{line:1,column:389}},type:"cond-expr",locations:[{start:{line:1,column:231},end:{line:1,column:380}},{start:{line:1,column:381},end:{line:1,column:389}}],line:1},1:{loc:{start:{line:1,column:390},end:{line:1,column:595}},type:"cond-expr",locations:[{start:{line:1,column:454},end:{line:1,column:586}},{start:{line:1,column:587},end:{line:1,column:595}}],line:1},2:{loc:{start:{line:1,column:391},end:{line:1,column:452}},type:"binary-expr",locations:[{start:{line:1,column:391},end:{line:1,column:432}},{start:{line:1,column:436},end:{line:1,column:452}}],line:1},3:{loc:{start:{line:1,column:464},end:{line:1,column:582}},type:"cond-expr",locations:[{start:{line:1,column:492},end:{line:1,column:557}},{start:{line:1,column:558},end:{line:1,column:582}}],line:1}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b70840443987e49469544170292a74b81a507886"},i=t[l]||(t[l]={});i[n]&&i[n].hash===e||(i[n]=o);var c=i[n];return r=function(){return c},c}r(),r().s[0]++;var m=function(){r().f[0]++;var n=(r().s[1]++,this),e=(r().s[2]++,n._self._c);return r().s[3]++,e("div",{staticClass:"c-help--contactTabContent l-container--inner",attrs:{"data-test":`${n.selectedContact}_content`,role:"tabpanel"}},[n.selectedContact?(r().b[0][0]++,e("div",{staticClass:"c-help--contactIntro",attrs:{id:n.selectedContact},domProps:{innerHTML:n._s(n.getTabContent(n.selectedContact))}})):(r().b[0][1]++,n._e()),(r().b[2][0]++,n.selectedContact===n.emailActionId&&(r().b[2][1]++,n.emailContact)?(r().b[1][0]++,e("div",[n.queryTypes.length>0?(r().b[3][0]++,e("support-request-form",{attrs:{"query-types":n.queryTypes}})):(r().b[3][1]++,e("contact-email-form"))],1)):(r().b[1][1]++,n._e()))])},A=(r().s[4]++,[]),d=t(845),C=t(6334);function h(){var n="/runner/_work/ConsumerHelpWebApp/ConsumerHelpWebApp/src/components/ContactTabContent.vue",e="55a24606f25d81404d67361c2aa486e66b1c0130",t=new Function("return this")(),l="__coverage__",o={path:"/runner/_work/ConsumerHelpWebApp/ConsumerHelpWebApp/src/components/ContactTabContent.vue",statementMap:{0:{start:{line:9,column:28},end:{line:9,column:97}},1:{start:{line:10,column:30},end:{line:10,column:111}},2:{start:{line:18,column:15},end:{line:25,column:3}},3:{start:{line:30,column:4},end:{line:30,column:55}},4:{start:{line:31,column:4},end:{line:31,column:87}},5:{start:{line:32,column:4},end:{line:32,column:79}},6:{start:{line:33,column:4},end:{line:33,column:108}},7:{start:{line:34,column:4},end:{line:34,column:89}},8:{start:{line:39,column:6},end:{line:41,column:7}},9:{start:{line:40,column:8},end:{line:40,column:109}},10:{start:{line:42,column:6},end:{line:44,column:7}},11:{start:{line:43,column:8},end:{line:43,column:103}},12:{start:{line:45,column:6},end:{line:49,column:7}},13:{start:{line:46,column:33},end:{line:46,column:85}},14:{start:{line:47,column:42},end:{line:47,column:136}},15:{start:{line:48,column:8},end:{line:48,column:52}},16:{start:{line:50,column:6},end:{line:50,column:17}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:22},end:{line:9,column:23}},loc:{start:{line:9,column:28},end:{line:9,column:97}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:24},end:{line:10,column:25}},loc:{start:{line:10,column:30},end:{line:10,column:111}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:18,column:8},end:{line:18,column:9}},loc:{start:{line:18,column:15},end:{line:25,column:3}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:29,column:2},end:{line:29,column:3}},loc:{start:{line:29,column:12},end:{line:35,column:3}},line:29},4:{name:"(anonymous_4)",decl:{start:{line:37,column:4},end:{line:37,column:5}},loc:{start:{line:37,column:27},end:{line:51,column:5}},line:37}},branchMap:{0:{loc:{start:{line:31,column:24},end:{line:31,column:87}},type:"cond-expr",locations:[{start:{line:31,column:45},end:{line:31,column:68}},{start:{line:31,column:71},end:{line:31,column:87}}],line:31},1:{loc:{start:{line:32,column:22},end:{line:32,column:79}},type:"binary-expr",locations:[{start:{line:32,column:23},end:{line:32,column:40}},{start:{line:32,column:44},end:{line:32,column:72}},{start:{line:32,column:77},end:{line:32,column:79}}],line:32},2:{loc:{start:{line:33,column:31},end:{line:33,column:108}},type:"cond-expr",locations:[{start:{line:33,column:52},end:{line:33,column:82}},{start:{line:33,column:85},end:{line:33,column:108}}],line:33},3:{loc:{start:{line:34,column:30},end:{line:34,column:89}},type:"binary-expr",locations:[{start:{line:34,column:30},end:{line:34,column:54}},{start:{line:34,column:58},end:{line:34,column:89}}],line:34},4:{loc:{start:{line:39,column:6},end:{line:41,column:7}},type:"if",locations:[{start:{line:39,column:6},end:{line:41,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:39},5:{loc:{start:{line:39,column:10},end:{line:39,column:90}},type:"binary-expr",locations:[{start:{line:39,column:10},end:{line:39,column:37}},{start:{line:39,column:41},end:{line:39,column:58}},{start:{line:39,column:62},end:{line:39,column:90}}],line:39},6:{loc:{start:{line:42,column:6},end:{line:44,column:7}},type:"if",locations:[{start:{line:42,column:6},end:{line:44,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},7:{loc:{start:{line:45,column:6},end:{line:49,column:7}},type:"if",locations:[{start:{line:45,column:6},end:{line:49,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:45}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,sources:["ContactTabContent.vue"],names:[],mappings:";AAuBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",file:"ContactTabContent.vue",sourceRoot:"src/components",sourcesContent:['<template>\n  <div\n    :data-test="`${selectedContact}_content`"\n    class="c-help--contactTabContent l-container--inner"\n    role="tabpanel"\n  >\n    <div\n      v-if="selectedContact"\n      :id="selectedContact"\n      class="c-help--contactIntro"\n      v-html="getTabContent(selectedContact)"\n    ></div>\n    <div v-if="selectedContact === emailActionId && emailContact">\n      <support-request-form\n        v-if="queryTypes.length > 0"\n        :query-types="queryTypes"\n      />\n      <contact-email-form v-else />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \'vuex\'\nimport helpers from \'../utilities/helpers\'\nimport { ACTION_ID_EMAIL, ACTION_ID_PHONE, ACTION_ID_PHONE_PARTNER } from \'../utilities/topLevelActionsModel\'\n\nexport default {\n  name: \'ContactTabContent\',\n  components: {\n    ContactEmailForm: () => import(/* webpackChunkName: "email-form" */ \'./ContactEmailForm.vue\'),\n    SupportRequestForm: () => import(/* webpackChunkName: "support-request-form" */ \'./SupportRequestForm.vue\')\n  },\n  props: {\n    selectedContact: {\n      type: String,\n      required: true\n    }\n  },\n  data: () => ({\n    emailActionId: ACTION_ID_EMAIL,\n    emailContact: null,\n    isArticlePage: null,\n    partnerPhoneContact: null,\n    partnerPhoneNumber: null,\n    queryTypes: []\n  }),\n  computed: {\n    ...mapGetters([\'content\', \'emailAction\', \'emailArticleAction\', \'phonePartnerAction\', \'phonePartnerArticleAction\'])\n  },\n  mounted() {\n    this.isArticlePage = this.$route.name === \'article\'\n    this.emailContact = this.isArticlePage ? this.emailArticleAction : this.emailAction\n    this.queryTypes = (this.emailContact && this.emailContact.queryTypes) || []\n    this.partnerPhoneContact = this.isArticlePage ? this.phonePartnerArticleAction : this.phonePartnerAction\n    this.partnerPhoneNumber = this.partnerPhoneContact && this.partnerPhoneContact.action\n  },\n  methods: {\n    getTabContent(contact) {\n      // Legacy Email contact form content only\n      if (contact === ACTION_ID_EMAIL && this.emailContact && this.queryTypes.length === 0) {\n        return `<h3>${this.content.contact_email_title_text}</h3><p>${this.content.contact_email_p_text}</p>`\n      }\n      if (contact === ACTION_ID_PHONE) {\n        return `<p>${this.content.contact_call_p1_text}</p><p>${this.content.contact_call_p2_text}</p>`\n      }\n      if (contact === ACTION_ID_PHONE_PARTNER) {\n        const partnerPhoneLink = helpers.phoneNumberHtmlLink(this.partnerPhoneNumber)\n        const partnerPhoneParagraphText = this.content.contact_call_partner_text.replace(/\\{partner_phone_number\\}/gi, partnerPhoneLink)\n        return `<p>${partnerPhoneParagraphText}</p>`\n      }\n      return null\n    }\n  }\n}\n<\/script>\n\n<style lang="scss">\n  table {\n    margin-top: 16px;\n    th {\n      text-align: left;\n    }\n  }\n</style>\n']},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"55a24606f25d81404d67361c2aa486e66b1c0130"},i=t[l]||(t[l]={});i[n]&&i[n].hash===e||(i[n]=o);var c=i[n];return h=function(){return c},c}h();const p={name:"ContactTabContent",components:{ContactEmailForm:()=>(h().f[0]++,h().s[0]++,t.e(851).then(t.bind(t,3448))),SupportRequestForm:()=>(h().f[1]++,h().s[1]++,t.e(278).then(t.bind(t,5018)))},props:{selectedContact:{type:String,required:!0}},data:()=>(h().f[2]++,h().s[2]++,{emailActionId:C.Yh,emailContact:null,isArticlePage:null,partnerPhoneContact:null,partnerPhoneNumber:null,queryTypes:[]}),computed:{...(0,c.Se)(["content","emailAction","emailArticleAction","phonePartnerAction","phonePartnerArticleAction"])},mounted(){h().f[3]++,h().s[3]++,this.isArticlePage="article"===this.$route.name,h().s[4]++,this.emailContact=this.isArticlePage?(h().b[0][0]++,this.emailArticleAction):(h().b[0][1]++,this.emailAction),h().s[5]++,this.queryTypes=(h().b[1][0]++,this.emailContact&&(h().b[1][1]++,this.emailContact.queryTypes)||(h().b[1][2]++,[])),h().s[6]++,this.partnerPhoneContact=this.isArticlePage?(h().b[2][0]++,this.phonePartnerArticleAction):(h().b[2][1]++,this.phonePartnerAction),h().s[7]++,this.partnerPhoneNumber=(h().b[3][0]++,this.partnerPhoneContact&&(h().b[3][1]++,this.partnerPhoneContact.action))},methods:{getTabContent(n){if(h().f[4]++,h().s[8]++,h().b[5][0]++,n===C.Yh&&(h().b[5][1]++,this.emailContact)&&(h().b[5][2]++,0===this.queryTypes.length))return h().b[4][0]++,h().s[9]++,`<h3>${this.content.contact_email_title_text}</h3><p>${this.content.contact_email_p_text}</p>`;if(h().b[4][1]++,h().s[10]++,n===C.FK)return h().b[6][0]++,h().s[11]++,`<p>${this.content.contact_call_p1_text}</p><p>${this.content.contact_call_p2_text}</p>`;if(h().b[6][1]++,h().s[12]++,n===C.$r){h().b[7][0]++;const n=(h().s[13]++,d.Z.phoneNumberHtmlLink(this.partnerPhoneNumber)),e=(h().s[14]++,this.content.contact_call_partner_text.replace(/\{partner_phone_number\}/gi,n));return h().s[15]++,`<p>${e}</p>`}return h().b[7][1]++,h().s[16]++,null}}},b=p;var f=t(1001),v=(0,f.Z)(b,m,A,!1,null,null,null);const y=v.exports;function _(){var n="/runner/_work/ConsumerHelpWebApp/ConsumerHelpWebApp/src/utilities/liveChatConfigUtility.js",e="4ffdddc00669dc651f659f0b3903b608e3eba650",t=new Function("return this")(),l="__coverage__",o={path:"/runner/_work/ConsumerHelpWebApp/ConsumerHelpWebApp/src/utilities/liveChatConfigUtility.js",statementMap:{0:{start:{line:3,column:4},end:{line:3,column:34}},1:{start:{line:7,column:23},end:{line:17,column:5}},2:{start:{line:20,column:4},end:{line:29,column:5}},3:{start:{line:21,column:6},end:{line:28,column:7}},4:{start:{line:23,column:32},end:{line:27,column:10}},5:{start:{line:24,column:10},end:{line:26,column:42}},6:{start:{line:25,column:25},end:{line:25,column:48}},7:{start:{line:26,column:28},end:{line:26,column:41}},8:{start:{line:31,column:4},end:{line:31,column:21}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:2},end:{line:2,column:3}},loc:{start:{line:2,column:27},end:{line:4,column:3}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:82},end:{line:32,column:3}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:23,column:26},end:{line:23,column:27}},loc:{start:{line:23,column:32},end:{line:27,column:10}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:23,column:44},end:{line:23,column:45}},loc:{start:{line:23,column:65},end:{line:27,column:9}},line:23},4:{name:"(anonymous_4)",decl:{start:{line:25,column:18},end:{line:25,column:19}},loc:{start:{line:25,column:25},end:{line:25,column:48}},line:25},5:{name:"(anonymous_5)",decl:{start:{line:26,column:19},end:{line:26,column:20}},loc:{start:{line:26,column:28},end:{line:26,column:41}},line:26}},branchMap:{0:{loc:{start:{line:12,column:12},end:{line:12,column:49}},type:"cond-expr",locations:[{start:{line:12,column:38},end:{line:12,column:42}},{start:{line:12,column:45},end:{line:12,column:49}}],line:12},1:{loc:{start:{line:12,column:12},end:{line:12,column:35}},type:"binary-expr",locations:[{start:{line:12,column:12},end:{line:12,column:21}},{start:{line:12,column:25},end:{line:12,column:35}}],line:12},2:{loc:{start:{line:20,column:4},end:{line:29,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:29,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},3:{loc:{start:{line:20,column:8},end:{line:20,column:76}},type:"binary-expr",locations:[{start:{line:20,column:8},end:{line:20,column:23}},{start:{line:20,column:27},end:{line:20,column:76}}],line:20}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4ffdddc00669dc651f659f0b3903b608e3eba650"},i=t[l]||(t[l]={});i[n]&&i[n].hash===e||(i[n]=o);var c=i[n];return _=function(){return c},c}_();class g{constructor(n){_().f[0]++,_().s[0]++,this.dataService=n}CreateLiveChatConfig(n,e,t,l){_().f[1]++;const o=(_().s[1]++,{url:n.zopimUrl,enabled:e,actionNameTemplate:t.actionTemplate,pageTitleTemplate:t.pageTitleTemplate,user:(_().b[1][0]++,l.name&&(_().b[1][1]++,l.email)?(_().b[0][0]++,l):(_().b[0][1]++,null)),authentication:{enabled:!1,getTokenFunction:null}});return _().s[2]++,_().b[3][0]++,e&&(_().b[3][1]++,n.liveChatAuthenticationEnabled)?(_().b[2][0]++,_().s[3]++,o.authentication={enabled:!0,getTokenFunction:()=>(_().f[2]++,_().s[4]++,new Promise(((n,e)=>{_().f[3]++,_().s[5]++,this.dataService.getChatSupportToken().then((e=>(_().f[4]++,_().s[6]++,n(e.data.token)))).catch((n=>(_().f[5]++,_().s[7]++,e(n))))})))}):_().b[2][1]++,_().s[8]++,o}}const T=g;function I(){var n="/runner/_work/ConsumerHelpWebApp/ConsumerHelpWebApp/src/components/ContactActions.vue",e="6a61f4932afc6f988d577da0ae33b4688382d976",t=new Function("return this")(),l="__coverage__",o={path:"/runner/_work/ConsumerHelpWebApp/ConsumerHelpWebApp/src/components/ContactActions.vue",statementMap:{0:{start:{line:31,column:4},end:{line:34,column:5}},1:{start:{line:48,column:30},end:{line:48,column:50}},2:{start:{line:49,column:6},end:{line:54,column:7}},3:{start:{line:53,column:8},end:{line:53,column:43}},4:{start:{line:59,column:4},end:{line:62,column:5}},5:{start:{line:60,column:19},end:{line:60,column:48}},6:{start:{line:61,column:6},end:{line:61,column:30}},7:{start:{line:63,column:4},end:{line:63,column:26}},8:{start:{line:66,column:4},end:{line:66,column:26}},9:{start:{line:70,column:27},end:{line:70,column:32}},10:{start:{line:71,column:25},end:{line:71,column:30}},11:{start:{line:72,column:24},end:{line:72,column:29}},12:{start:{line:73,column:24},end:{line:73,column:29}},13:{start:{line:74,column:6},end:{line:74,column:77}},14:{start:{line:77,column:6},end:{line:77,column:72}},15:{start:{line:80,column:6},end:{line:80,column:42}},16:{start:{line:88,column:6},end:{line:88,column:76}},17:{start:{line:91,column:21},end:{line:91,column:74}},18:{start:{line:91,column:44},end:{line:91,column:73}},19:{start:{line:92,column:6},end:{line:94,column:7}},20:{start:{line:93,column:8},end:{line:93,column:29}},21:{start:{line:95,column:6},end:{line:105,column:7}},22:{start:{line:96,column:24},end:{line:96,column:26}},23:{start:{line:97,column:8},end:{line:97,column:59}},24:{start:{line:98,column:8},end:{line:98,column:39}},25:{start:{line:100,column:8},end:{line:103,column:9}},26:{start:{line:101,column:10},end:{line:101,column:57}},27:{start:{line:102,column:10},end:{line:102,column:30}},28:{start:{line:104,column:8},end:{line:104,column:32}},29:{start:{line:106,column:6},end:{line:106,column:17}},30:{start:{line:109,column:19},end:{line:113,column:7}},31:{start:{line:114,column:22},end:{line:114,column:40}},32:{start:{line:115,column:6},end:{line:117,column:7}},33:{start:{line:116,column:8},end:{line:116,column:30}},34:{start:{line:118,column:6},end:{line:118,column:17}},35:{start:{line:121,column:19},end:{line:121,column:34}},36:{start:{line:122,column:6},end:{line:122,column:31}},37:{start:{line:129,column:6},end:{line:134,column:7}},38:{start:{line:130,column:32},end:{line:130,column:57}},39:{start:{line:131,column:8},end:{line:133,column:9}},40:{start:{line:132,column:10},end:{line:132,column:61}},41:{start:{line:137,column:6},end:{line:140,column:7}},42:{start:{line:138,column:32},end:{line:138,column:57}},43:{start:{line:139,column:8},end:{line:139,column:44}},44:{start:{line:149,column:6},end:{line:177,column:7}},45:{start:{line:154,column:10},end:{line:154,column:41}},46:{start:{line:155,column:10},end:{line:155,column:42}},47:{start:{line:156,column:10},end:{line:156,column:30}},48:{start:{line:157,column:10},end:{line:157,column:30}},49:{start:{line:158,column:10},end:{line:158,column:15}},50:{start:{line:161,column:10},end:{line:161,column:41}},51:{start:{line:162,column:10},end:{line:162,column:15}},52:{start:{line:167,column:10},end:{line:167,column:41}},53:{start:{line:168,column:10},end:{line:168,column:42}},54:{start:{line:169,column:10},end:{line:169,column:33}},55:{start:{line:170,column:10},end:{line:170,column:36}},56:{start:{line:171,column:10},end:{line:171,column:15}},57:{start:{line:175,column:10},end:{line:175,column:35}},58:{start:{line:176,column:10},end:{line:176,column:15}},59:{start:{line:180,column:30},end:{line:180,column:57}},60:{start:{line:181,column:6},end:{line:186,column:13}},61:{start:{line:182,column:8},end:{line:185,column:10}},62:{start:{line:189,column:22},end:{line:189,column:63}},63:{start:{line:189,column:47},end:{line:189,column:62}},64:{start:{line:190,column:6},end:{line:190,column:31}},65:{start:{line:194,column:6},end:{line:211,column:8}},66:{start:{line:195,column:8},end:{line:210,column:9}},67:{start:{line:196,column:10},end:{line:196,column:37}},68:{start:{line:197,column:34},end:{line:197,column:68}},69:{start:{line:199,column:32},end:{line:202,column:11}},70:{start:{line:204,column:40},end:{line:204,column:78}},71:{start:{line:205,column:29},end:{line:205,column:140}},72:{start:{line:207,column:10},end:{line:209,column:12}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:9},end:{line:35,column:3}},line:30},1:{name:"(anonymous_1)",decl:{start:{line:46,column:4},end:{line:46,column:5}},loc:{start:{line:46,column:21},end:{line:55,column:5}},line:46},2:{name:"(anonymous_2)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:12},end:{line:64,column:3}},line:57},3:{name:"(anonymous_3)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:12},end:{line:67,column:3}},line:65},4:{name:"(anonymous_4)",decl:{start:{line:69,column:4},end:{line:69,column:5}},loc:{start:{line:69,column:19},end:{line:75,column:5}},line:69},5:{name:"(anonymous_5)",decl:{start:{line:76,column:4},end:{line:76,column:5}},loc:{start:{line:76,column:27},end:{line:78,column:5}},line:76},6:{name:"(anonymous_6)",decl:{start:{line:79,column:4},end:{line:79,column:5}},loc:{start:{line:79,column:15},end:{line:81,column:5}},line:79},7:{name:"(anonymous_7)",decl:{start:{line:87,column:4},end:{line:87,column:5}},loc:{start:{line:87,column:34},end:{line:89,column:5}},line:87},8:{name:"(anonymous_8)",decl:{start:{line:90,column:4},end:{line:90,column:5}},loc:{start:{line:90,column:18},end:{line:107,column:5}},line:90},9:{name:"(anonymous_9)",decl:{start:{line:91,column:39},end:{line:91,column:40}},loc:{start:{line:91,column:44},end:{line:91,column:73}},line:91},10:{name:"(anonymous_10)",decl:{start:{line:108,column:4},end:{line:108,column:5}},loc:{start:{line:108,column:15},end:{line:119,column:5}},line:108},11:{name:"(anonymous_11)",decl:{start:{line:120,column:4},end:{line:120,column:5}},loc:{start:{line:120,column:20},end:{line:123,column:5}},line:120},12:{name:"(anonymous_12)",decl:{start:{line:128,column:4},end:{line:128,column:5}},loc:{start:{line:128,column:26},end:{line:135,column:5}},line:128},13:{name:"(anonymous_13)",decl:{start:{line:136,column:4},end:{line:136,column:5}},loc:{start:{line:136,column:20},end:{line:141,column:5}},line:136},14:{name:"(anonymous_14)",decl:{start:{line:148,column:4},end:{line:148,column:5}},loc:{start:{line:148,column:36},end:{line:178,column:5}},line:148},15:{name:"(anonymous_15)",decl:{start:{line:179,column:4},end:{line:179,column:5}},loc:{start:{line:179,column:23},end:{line:187,column:5}},line:179},16:{name:"(anonymous_16)",decl:{start:{line:181,column:24},end:{line:181,column:25}},loc:{start:{line:181,column:30},end:{line:186,column:7}},line:181},17:{name:"(anonymous_17)",decl:{start:{line:188,column:4},end:{line:188,column:5}},loc:{start:{line:188,column:28},end:{line:191,column:5}},line:188},18:{name:"(anonymous_18)",decl:{start:{line:189,column:42},end:{line:189,column:43}},loc:{start:{line:189,column:47},end:{line:189,column:62}},line:189},19:{name:"(anonymous_19)",decl:{start:{line:192,column:4},end:{line:192,column:5}},loc:{start:{line:192,column:22},end:{line:212,column:5}},line:192},20:{name:"(anonymous_20)",decl:{start:{line:194,column:21},end:{line:194,column:22}},loc:{start:{line:194,column:27},end:{line:211,column:7}},line:194}},branchMap:{0:{loc:{start:{line:49,column:6},end:{line:54,column:7}},type:"if",locations:[{start:{line:49,column:6},end:{line:54,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},1:{loc:{start:{line:50,column:8},end:{line:51,column:48}},type:"binary-expr",locations:[{start:{line:50,column:8},end:{line:50,column:29}},{start:{line:51,column:8},end:{line:51,column:48}}],line:50},2:{loc:{start:{line:59,column:4},end:{line:62,column:5}},type:"if",locations:[{start:{line:59,column:4},end:{line:62,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59},3:{loc:{start:{line:59,column:8},end:{line:59,column:57}},type:"binary-expr",locations:[{start:{line:59,column:8},end:{line:59,column:24}},{start:{line:59,column:28},end:{line:59,column:57}}],line:59},4:{loc:{start:{line:74,column:47},end:{line:74,column:58}},type:"binary-expr",locations:[{start:{line:74,column:47},end:{line:74,column:52}},{start:{line:74,column:56},end:{line:74,column:58}}],line:74},5:{loc:{start:{line:74,column:65},end:{line:74,column:76}},type:"binary-expr",locations:[{start:{line:74,column:65},end:{line:74,column:70}},{start:{line:74,column:74},end:{line:74,column:76}}],line:74},6:{loc:{start:{line:77,column:13},end:{line:77,column:72}},type:"cond-expr",locations:[{start:{line:77,column:39},end:{line:77,column:53}},{start:{line:77,column:56},end:{line:77,column:72}}],line:77},7:{loc:{start:{line:80,column:13},end:{line:80,column:42}},type:"binary-expr",locations:[{start:{line:80,column:13},end:{line:80,column:15}},{start:{line:80,column:19},end:{line:80,column:42}}],line:80},8:{loc:{start:{line:88,column:13},end:{line:88,column:76}},type:"binary-expr",locations:[{start:{line:88,column:13},end:{line:88,column:15}},{start:{line:88,column:19},end:{line:88,column:45}},{start:{line:88,column:49},end:{line:88,column:76}}],line:88},9:{loc:{start:{line:92,column:6},end:{line:94,column:7}},type:"if",locations:[{start:{line:92,column:6},end:{line:94,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:92},10:{loc:{start:{line:92,column:10},end:{line:92,column:63}},type:"binary-expr",locations:[{start:{line:92,column:10},end:{line:92,column:16}},{start:{line:92,column:20},end:{line:92,column:34}},{start:{line:92,column:38},end:{line:92,column:63}}],line:92},11:{loc:{start:{line:95,column:6},end:{line:105,column:7}},type:"if",locations:[{start:{line:95,column:6},end:{line:105,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:95},12:{loc:{start:{line:95,column:10},end:{line:95,column:59}},type:"binary-expr",locations:[{start:{line:95,column:10},end:{line:95,column:27}},{start:{line:95,column:31},end:{line:95,column:59}}],line:95},13:{loc:{start:{line:100,column:8},end:{line:103,column:9}},type:"if",locations:[{start:{line:100,column:8},end:{line:103,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:100},14:{loc:{start:{line:100,column:12},end:{line:100,column:39}},type:"binary-expr",locations:[{start:{line:100,column:12},end:{line:100,column:18}},{start:{line:100,column:22},end:{line:100,column:39}}],line:100},15:{loc:{start:{line:115,column:6},end:{line:117,column:7}},type:"if",locations:[{start:{line:115,column:6},end:{line:117,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:115},16:{loc:{start:{line:129,column:6},end:{line:134,column:7}},type:"if",locations:[{start:{line:129,column:6},end:{line:134,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:129},17:{loc:{start:{line:131,column:8},end:{line:133,column:9}},type:"if",locations:[{start:{line:131,column:8},end:{line:133,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:131},18:{loc:{start:{line:137,column:6},end:{line:140,column:7}},type:"if",locations:[{start:{line:137,column:6},end:{line:140,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:137},19:{loc:{start:{line:139,column:8},end:{line:139,column:44}},type:"binary-expr",locations:[{start:{line:139,column:8},end:{line:139,column:12}},{start:{line:139,column:16},end:{line:139,column:44}}],line:139},20:{loc:{start:{line:149,column:6},end:{line:177,column:7}},type:"switch",locations:[{start:{line:153,column:8},end:{line:158,column:15}},{start:{line:160,column:8},end:{line:162,column:15}},{start:{line:164,column:8},end:{line:164,column:29}},{start:{line:165,column:8},end:{line:165,column:29}},{start:{line:166,column:8},end:{line:171,column:15}},{start:{line:174,column:8},end:{line:176,column:15}}],line:149},21:{loc:{start:{line:154,column:10},end:{line:154,column:41}},type:"binary-expr",locations:[{start:{line:154,column:10},end:{line:154,column:15}},{start:{line:154,column:19},end:{line:154,column:41}}],line:154},22:{loc:{start:{line:161,column:10},end:{line:161,column:41}},type:"binary-expr",locations:[{start:{line:161,column:10},end:{line:161,column:15}},{start:{line:161,column:19},end:{line:161,column:41}}],line:161},23:{loc:{start:{line:167,column:10},end:{line:167,column:41}},type:"binary-expr",locations:[{start:{line:167,column:10},end:{line:167,column:15}},{start:{line:167,column:19},end:{line:167,column:41}}],line:167},24:{loc:{start:{line:195,column:8},end:{line:210,column:9}},type:"if",locations:[{start:{line:195,column:8},end:{line:210,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:195},25:{loc:{start:{line:195,column:12},end:{line:195,column:108}},type:"binary-expr",locations:[{start:{line:195,column:12},end:{line:195,column:35}},{start:{line:195,column:39},end:{line:195,column:60}},{start:{line:195,column:64},end:{line:195,column:108}}],line:195}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0,0],9:[0,0],10:[0,0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0,0,0,0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0,0]},inputSourceMap:{version:3,sources:["ContactActions.vue"],names:[],mappings:";AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",file:"ContactActions.vue",sourceRoot:"src/components",sourcesContent:["<template>\n  <div ref=\"contactsScrollTo\" class=\"l-container--inner\">\n    <ul\n      v-if=\"actions\"\n      class=\"c-help--contactActions u-clearfix\"\n      role=\"tablist\"\n      data-test=\"contactChannels\"\n    >\n      <li\n        v-for=\"(channel, i) in actions\"\n        :key=\"`contact_${i}`\"\n        role=\"presentation\"\n      >\n        <f-button\n          :button-type=\"channel.buttonType.toLowerCase()\"\n          :is-full-width=\"true\"\n          :href=\"isChat(channel.id) ? false : actionLinkUrl(channel)\"\n          role=\"tab\"\n          :data-gtm=\"gtmData(channel.buttonEvent)\"\n          :data-test=\"channel.id\"\n          :disabled=\"isSelectedContactDisabled(channel.id) ? 'disabled' : false\"\n          :is-loading=\"isChat(channel.id) && !chatInitialised\"\n          @click=\"selectContact(channel.id, $event)\"\n        >\n          {{ channel.title || content[channel.titleKey] }}\n        </f-button>\n      </li>\n    </ul>\n    \x3c!-- Contact Action Tab Content --\x3e\n    <contact-tab-content :selected-contact=\"selectedContact\" />\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport FButton from '@justeat/f-button'\nimport DataService from '../services/DataService'\nimport ContactTabContent from './ContactTabContent.vue'\nimport LiveChatConfigUtility from '../utilities/liveChatConfigUtility'\nimport {\n  ACTION_ID_EMAIL,\n  ACTION_ID_LIVE_CHAT,\n  ACTION_ID_PHONE,\n  ACTION_ID_PHONE_PARTNER\n} from '../utilities/topLevelActionsModel'\n\nexport default {\n  name: 'ContactActions',\n  components: {\n    ContactTabContent,\n    FButton\n  },\n  props: {\n    actions: {\n      type: Array,\n      required: true\n    },\n    articleTitle: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      selectedContact: '',\n      chatInitialised: false\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'content',\n      'customisationConfig',\n      'liveChatDepartment',\n      'liveChatTags',\n      'user'\n    ])\n  },\n  watch: {\n    $route(to, from) {\n      // reacts on route changes e.g. back/forward browser button\n      const destinationHash = to.hash.substring(1)\n      if (\n        to.hash !== from.hash &&\n        destinationHash !== this.selectedContact\n      ) {\n        this.selectContact(destinationHash)\n      }\n    }\n  },\n  mounted() {\n    // Display content from URL hash\n    if (this.$route.hash && this.$route.hash.substring(1)) {\n      const hash = this.$route.hash.substring(1)\n      this.selectContact(hash)\n    }\n    this.initialiseChats()\n  },\n  updated() {\n    this.initialiseChats()\n  },\n  methods: {\n    gtmData(event) {\n      const { category } = event\n      const { action } = event\n      const { value } = event\n      const { label } = event\n      return category.concat('|', action, '|', value || '', '|', label || '')\n    },\n    actionLinkUrl(channel) {\n      return channel.type === 'Link' ? channel.action : `#${channel.id}`\n    },\n    isChat(id) {\n      return id && id.match(/^StartChat/i)\n    },\n    /**\n     * Disable selected contact if not Live Chat\n     * {@param} id Contact channel id\n     * {@returns} boolean value\n     */\n    isSelectedContactDisabled(id) {\n      return id && id !== ACTION_ID_LIVE_CHAT && id === this.selectedContact\n    },\n    chatMessage() {\n      const action = this.actions.find(a => a.id === this.selectedContact)\n      if (action && action.message && action.message.length > 0) {\n        return action.message\n      }\n      if (this.articleTitle && this.articleTitle.length > 0) {\n        const message = []\n        message.push(this.content.chat_page_title_template)\n        message.push(this.articleTitle)\n\n        if (action && action.length > 0) {\n          message.push(this.content.chat_action_template)\n          message.push(action)\n        }\n        return message.join(' ')\n      }\n      return null\n    },\n    chatData() {\n      const data = {\n        department: this.liveChatDepartment,\n        tags: this.liveChatTags,\n        user: this.user\n      }\n      const message = this.chatMessage()\n      if (message) {\n        data.message = message\n      }\n      return data\n    },\n    liveChatStart() {\n      const data = this.chatData()\n      this.$startLiveChat(data)\n    },\n    /**\n     * Update navigation hash with new channel id\n     * {@param} channelId Selected chanel id\n     */\n    addUrlHash(channelId) {\n      if (this.$router) {\n        const { hash, query } = this.$router.currentRoute\n        if (hash.indexOf(channelId) === -1) {\n          this.$router.push({ query, hash: `#${channelId}` })\n        }\n      }\n    },\n    removeUrlHash() {\n      if (this.$router) {\n        const { hash, query } = this.$router.currentRoute\n        hash && this.$router.push({ query })\n      }\n    },\n    /**\n     * Handle Contact Action selection and scroll them to top\n     * {@param} channelId selected channel id\n     * {@param} event [Optional] to prevent default click event\n     * Note: Do not prevent default event for external links (Order again)\n     */\n    selectContact(channelId, event) {\n      switch (channelId) {\n        // Keep on top\n        // Live Chat should always trigger\n        // Even on repeated clicks\n        case ACTION_ID_LIVE_CHAT:\n          event && event.preventDefault()\n          this.selectedContact = channelId\n          this.liveChatStart()\n          this.removeUrlHash()\n          break\n        // Prevent known repeated clicks and navigation\n        case this.selectedContact:\n          event && event.preventDefault()\n          break\n        // Select from known contact actions\n        case ACTION_ID_EMAIL:\n        case ACTION_ID_PHONE:\n        case ACTION_ID_PHONE_PARTNER:\n          event && event.preventDefault()\n          this.selectedContact = channelId\n          this.scrollToContacts()\n          this.addUrlHash(channelId)\n          break\n        // Other, such as external links etc.\n        // Do not prevent event\n        default:\n          this.selectedContact = ''\n          break\n      }\n    },\n    scrollToContacts() {\n      const scrollToElement = this.$refs.contactsScrollTo\n      window.setTimeout(() => {\n        scrollToElement.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start'\n        })\n      }, 300)\n    },\n    chatActionEnabled(type) {\n      const actions = this.actions.filter(a => a.type === type)\n      return actions.length > 0\n    },\n    initialiseChats() {\n      // CHAD-4759 Reduce recurring execution by `mounted` and `updated`\n      this.$nextTick(() => {\n        if (this.actions.length > 0 && !this.chatInitialised && this.customisationConfig.zopimUrl.length > 0) {\n          this.chatInitialised = true\n          const liveChatEnabled = this.chatActionEnabled('LiveChat')\n\n          const copyTemplates = {\n            actionTemplate: this.content.chat_action_template,\n            pageTitleTemplate: this.content.chat_page_title_template\n          }\n\n          const liveChatConfigUtility = new LiveChatConfigUtility(DataService)\n          const chatConfig = liveChatConfigUtility.CreateLiveChatConfig(this.customisationConfig, liveChatEnabled, copyTemplates, this.user)\n\n          this.$initialiseChat({\n            liveChat: chatConfig\n          })\n        }\n      })\n    }\n  }\n}\n<\/script>\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6a61f4932afc6f988d577da0ae33b4688382d976"},i=t[l]||(t[l]={});i[n]&&i[n].hash===e||(i[n]=o);var c=i[n];return I=c}I();const x={name:"ContactActions",components:{ContactTabContent:y,FButton:s()},props:{actions:{type:Array,required:!0},articleTitle:{type:String,default:""}},data(){return I().f[0]++,I().s[0]++,{selectedContact:"",chatInitialised:!1}},computed:{...(0,c.Se)(["content","customisationConfig","liveChatDepartment","liveChatTags","user"])},watch:{$route(n,e){I().f[1]++;const t=(I().s[1]++,n.hash.substring(1));I().s[2]++,I().b[1][0]++,n.hash!==e.hash&&(I().b[1][1]++,t!==this.selectedContact)?(I().b[0][0]++,I().s[3]++,this.selectContact(t)):I().b[0][1]++}},mounted(){if(I().f[2]++,I().s[4]++,I().b[3][0]++,this.$route.hash&&(I().b[3][1]++,this.$route.hash.substring(1))){I().b[2][0]++;const n=(I().s[5]++,this.$route.hash.substring(1));I().s[6]++,this.selectContact(n)}else I().b[2][1]++;I().s[7]++,this.initialiseChats()},updated(){I().f[3]++,I().s[8]++,this.initialiseChats()},methods:{gtmData(n){I().f[4]++;const{category:e}=(I().s[9]++,n),{action:t}=(I().s[10]++,n),{value:l}=(I().s[11]++,n),{label:o}=(I().s[12]++,n);return I().s[13]++,e.concat("|",t,"|",(I().b[4][0]++,l||(I().b[4][1]++,"")),"|",(I().b[5][0]++,o||(I().b[5][1]++,"")))},actionLinkUrl(n){return I().f[5]++,I().s[14]++,"Link"===n.type?(I().b[6][0]++,n.action):(I().b[6][1]++,`#${n.id}`)},isChat(n){return I().f[6]++,I().s[15]++,I().b[7][0]++,n&&(I().b[7][1]++,n.match(/^StartChat/i))},isSelectedContactDisabled(n){return I().f[7]++,I().s[16]++,I().b[8][0]++,n&&(I().b[8][1]++,n!==C.tI)&&(I().b[8][2]++,n===this.selectedContact)},chatMessage(){I().f[8]++;const n=(I().s[17]++,this.actions.find((n=>(I().f[9]++,I().s[18]++,n.id===this.selectedContact))));if(I().s[19]++,I().b[10][0]++,n&&(I().b[10][1]++,n.message)&&(I().b[10][2]++,n.message.length>0))return I().b[9][0]++,I().s[20]++,n.message;if(I().b[9][1]++,I().s[21]++,I().b[12][0]++,this.articleTitle&&(I().b[12][1]++,this.articleTitle.length>0)){I().b[11][0]++;const e=(I().s[22]++,[]);return I().s[23]++,e.push(this.content.chat_page_title_template),I().s[24]++,e.push(this.articleTitle),I().s[25]++,I().b[14][0]++,n&&(I().b[14][1]++,n.length>0)?(I().b[13][0]++,I().s[26]++,e.push(this.content.chat_action_template),I().s[27]++,e.push(n)):I().b[13][1]++,I().s[28]++,e.join(" ")}return I().b[11][1]++,I().s[29]++,null},chatData(){I().f[10]++;const n=(I().s[30]++,{department:this.liveChatDepartment,tags:this.liveChatTags,user:this.user}),e=(I().s[31]++,this.chatMessage());return I().s[32]++,e?(I().b[15][0]++,I().s[33]++,n.message=e):I().b[15][1]++,I().s[34]++,n},liveChatStart(){I().f[11]++;const n=(I().s[35]++,this.chatData());I().s[36]++,this.$startLiveChat(n)},addUrlHash(n){if(I().f[12]++,I().s[37]++,this.$router){I().b[16][0]++;const{hash:e,query:t}=(I().s[38]++,this.$router.currentRoute);I().s[39]++,-1===e.indexOf(n)?(I().b[17][0]++,I().s[40]++,this.$router.push({query:t,hash:`#${n}`})):I().b[17][1]++}else I().b[16][1]++},removeUrlHash(){if(I().f[13]++,I().s[41]++,this.$router){I().b[18][0]++;const{hash:n,query:e}=(I().s[42]++,this.$router.currentRoute);I().s[43]++,I().b[19][0]++,n&&(I().b[19][1]++,this.$router.push({query:e}))}else I().b[18][1]++},selectContact(n,e){switch(I().f[14]++,I().s[44]++,n){case C.tI:I().b[20][0]++,I().s[45]++,I().b[21][0]++,e&&(I().b[21][1]++,e.preventDefault()),I().s[46]++,this.selectedContact=n,I().s[47]++,this.liveChatStart(),I().s[48]++,this.removeUrlHash(),I().s[49]++;break;case this.selectedContact:I().b[20][1]++,I().s[50]++,I().b[22][0]++,e&&(I().b[22][1]++,e.preventDefault()),I().s[51]++;break;case C.Yh:I().b[20][2]++;case C.FK:I().b[20][3]++;case C.$r:I().b[20][4]++,I().s[52]++,I().b[23][0]++,e&&(I().b[23][1]++,e.preventDefault()),I().s[53]++,this.selectedContact=n,I().s[54]++,this.scrollToContacts(),I().s[55]++,this.addUrlHash(n),I().s[56]++;break;default:I().b[20][5]++,I().s[57]++,this.selectedContact="",I().s[58]++;break}},scrollToContacts(){I().f[15]++;const n=(I().s[59]++,this.$refs.contactsScrollTo);I().s[60]++,window.setTimeout((()=>{I().f[16]++,I().s[61]++,n.scrollIntoView({behavior:"smooth",block:"start"})}),300)},chatActionEnabled(n){I().f[17]++;const e=(I().s[62]++,this.actions.filter((e=>(I().f[18]++,I().s[63]++,e.type===n))));return I().s[64]++,e.length>0},initialiseChats(){I().f[19]++,I().s[65]++,this.$nextTick((()=>{if(I().f[20]++,I().s[66]++,I().b[25][0]++,this.actions.length>0&&(I().b[25][1]++,!this.chatInitialised)&&(I().b[25][2]++,this.customisationConfig.zopimUrl.length>0)){I().b[24][0]++,I().s[67]++,this.chatInitialised=!0;const n=(I().s[68]++,this.chatActionEnabled("LiveChat")),e=(I().s[69]++,{actionTemplate:this.content.chat_action_template,pageTitleTemplate:this.content.chat_page_title_template}),t=(I().s[70]++,new T(u.Z)),l=(I().s[71]++,t.CreateLiveChatConfig(this.customisationConfig,n,e,this.user));I().s[72]++,this.$initialiseChat({liveChat:l})}else I().b[24][1]++}))}}},k=x;var P=(0,f.Z)(k,o,i,!1,null,null,null);const $=P.exports}}]);
//# sourceMappingURL=65.d7fab425.js.map