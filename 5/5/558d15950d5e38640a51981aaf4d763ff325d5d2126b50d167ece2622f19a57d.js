!function(e){ar n={},i={2:0};.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(;t.push(n[2]=a);var s,o=document.createElement("script");o.charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.src=e);var u=new Error;s=function(t){o.onerror=o.onload=null,clearTimeout(d);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",u.name="ChunkLoadError",u.type=r,u.request=a,n[1](u)}i[e]=undefined}};var d=setTimeout(12e4);o.onerror=o.onload=s,document.head.appendChild(o)}return Promise.all(t)},r.m=e,r.c=n,r.d=r.r=r.t=r.n=r.o=r.p="https://ssl.pstatic.net/tveta/libs/ssp/",r.oe=function(e){throw e};var a=window.sspSdkJsonp=window.sspSdkJsonp||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var o=0;o<a.length;o++)t(a[o]);var u=s;r(r.s=161)}([function(e,t,n){var i=n(34)(Object.keys,Object);e.exports=i},function(e,t,n){"use strict";var i=n(1),r=n.n(i),a=n(2),s=n.n(a);window.naver_corp_da=window.naver_corp_da||{};var o=function(){function e(){r()(this,e)}return s()(e,[{key:"log",value:function(e){var t=this.appendDummy(e);window.spwp.logTrackingManager.handleTrackingUrl(t)}},{key:"appendDummy",value:function(e){return e.indexOf("?")>0?(e+="&dummy=",e+=Math.random()):(e+="?dummy=",e+=Math.random()),e}}],[{key:"convertStringToXml",value:function(e){try{return(new DOMParser).parseFromString(e,"text/xml")}catch(t){return null}}},{key:"getNearestNumIdx",value:function(e,t){if(e.sort(,(n=e.length)<2)return n-1;for(var n,i=Math.abs(e[--n]-t);n--&&!(i<(i=Math.abs(e[n]-t))););return n+1}},{key:"getVrAdNumIdx",value:function(e,t){return t>=480&&t<1080?t=720:t<480&&(t=480),this.getNearestNumIdx(e,t)}},{key:"encodeURIComponent",value:function(e){try{return"string"==typeof e?encodeURIComponent(e.replace(/(?:[\0-\x1F\x7F-\x9F\xA2-\xA6\xA8\xA9\xAC-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u0380-\u0385\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u058B-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7-\u05CF\u05EB-\u05EE\u05F5-\u0608\u060B\u060E-\u061A\u061C\u061D\u064B-\u065F\u0670\u06D6-\u06E4\u06E7-\u06ED\u06FD\u06FE\u070E\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07BF\u07EB-\u07F3\u07F6\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082F\u083F\u0859-\u085D\u085F\u086B-\u089F\u08B5\u08C8-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09E5\u09F2\u09F3\u09FA\u09FB\u09FE-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A65\u0A70\u0A71\u0A75\u0A77-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AE5\u0AF1-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B65\u0B70\u0B78-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0BE5\u0BF3-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B-\u0C5F\u0C62-\u0C65\u0C70-\u0C76\u0C7F\u0C81-\u0C83\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDD\u0CDF\u0CE2-\u0CE5\u0CF0\u0CF3-\u0D03\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57\u0D62-\u0D65\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DE5\u0DF0-\u0DF3\u0DF5-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E4E\u0E5C-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F03\u0F13\u0F15-\u0F1F\u0F34-\u0F39\u0F3E\u0F3F\u0F48\u0F6D-\u0F84\u0F86\u0F87\u0F8D-\u0FCF\u0FD5-\u0FD8\u0FDB-\u0FFF\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u135F\u137D-\u137F\u1390-\u139F\u13F6\u13F7\u13FE\u13FF\u166D\u169D-\u169F\u16F9-\u16FF\u170D\u1712-\u171F\u1732-\u1734\u1737-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D3\u17DB\u17DD-\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180B-\u180F\u181A-\u181F\u1879-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19FF\u1A17-\u1A1D\u1A55-\u1A7F\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE-\u1B04\u1B34-\u1B44\u1B4C-\u1B4F\u1B61-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BFB\u1C24-\u1C3A\u1C4A-\u1C4C\u1C89-\u1C8F\u1CBB\u1CBC\u1CC8-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1CFB-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u1FFF\u200B-\u200F\u202A-\u202E\u2044\u2052\u2060-\u206F\u2072\u2073\u207A-\u207C\u208A-\u208C\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A-\u2307\u230C-\u2328\u232B-\u245F\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2DFF\u2E50\u2E51\u2E53-\u2FFF\u3004\u3012\u3013\u3020\u302A-\u302F\u3036\u3037\u303E-\u3040\u3097-\u309C\u3100-\u3104\u3130\u318F-\u3191\u3196-\u319F\u31C0-\u31EF\u3200-\u321F\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\u9FFD-\u9FFF\uA48D-\uA4CF\uA62C-\uA63F\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA6F8-\uA716\uA720\uA721\uA789\uA78A\uA7C0\uA7C1\uA7CB-\uA7F4\uA802\uA806\uA80B\uA823-\uA82F\uA836-\uA83F\uA878-\uA881\uA8B4-\uA8CD\uA8DA-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA95E\uA97D-\uA983\uA9B3-\uA9C0\uA9CE\uA9DA-\uA9DD\uA9E5\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA4F\uAA5A\uAA5B\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAAEB-\uAAEF\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABE3-\uABEA\uABEC-\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE0F\uFE1A-\uFE2F\uFE53\uFE62\uFE64-\uFE67\uFE69\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDCFF\uDD03-\uDD06\uDD34-\uDD3F\uDD79-\uDD89\uDD8C-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEE0\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF76-\uDF7F\uDF9E\uDFC4-\uDFC7\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6E\uDD70-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC77\uDC78\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1E\uDD3A-\uDD3E\uDD40-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE01-\uDE0F\uDE14\uDE18\uDE36-\uDE3F\uDE49-\uDE4F\uDE59-\uDE5F\uDEA0-\uDEBF\uDEC8\uDEE5-\uDEEA\uDEF7-\uDEFF\uDF36-\uDF38\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDF98\uDF9D-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD24-\uDD2F\uDD3A-\uDE5F\uDE7F\uDEAA-\uDEAC\uDEAE\uDEAF\uDEB2-\uDEFF\uDF28-\uDF2F\uDF46-\uDF50\uDF5A-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC4E-\uDC51\uDC70-\uDC82\uDCB0-\uDCBA\uDCBD\uDCC2-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDD02\uDD27-\uDD35\uDD45\uDD46\uDD48-\uDD4F\uDD73\uDD77-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDDE0\uDDF5-\uDDFF\uDE12\uDE2C-\uDE37\uDE3E-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEAA-\uDEAF\uDEDF-\uDEEF\uDEFA-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC5C\uDC5E\uDC62-\uDC7F\uDCB0-\uDCC3\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDAF-\uDDC0\uDDDC-\uDDFF\uDE30-\uDE40\uDE45-\uDE4F\uDE5A-\uDE5F\uDE6D-\uDE7F\uDEAB-\uDEB7\uDEB9-\uDEBF\uDECA-\uDEFF\uDF1B-\uDF2F\uDF3F-\uDFFF]|\uD806[\uDC2C-\uDC3A\uDC3C-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD30-\uDD3E\uDD40\uDD42\uDD43\uDD47-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD1-\uDDE0\uDDE4-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47-\uDE4F\uDE51-\uDE5B\uDE8A-\uDE99\uDEA3-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC46-\uDC4F\uDC6D-\uDC6F\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8A-\uDD97\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF3-\uDEF6\uDEF9-\uDFAF\uDFB1-\uDFBF\uDFD5-\uDFFE]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F\uDC75-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD824-\uD82B\uD82D\uD82E\uD830-\uD833\uD837\uD839\uD83D\uD83F\uD87B-\uD87D\uD87F\uD885-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6D\uDE70-\uDECF\uDEEE-\uDEF4\uDEF6-\uDEFF\uDF30-\uDF36\uDF3C-\uDF3F\uDF45-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE9B-\uDEFF\uDF4B-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE4-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82C[\uDD1F-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDC9E\uDCA0-\uDFFF]|\uD834[\uDC00-\uDEDF\uDEF4-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD836[\uDC00-\uDE86\uDE8C-\uDFFF]|[\uD838\uD83C][\uDC00-\uDCFF\uDD2D-\uDD36\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDEBF\uDEEC-\uDEEF\uDEFA-\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD0-\uDCFF\uDD44-\uDD4A\uDD4C-\uDD4F\uDD5A-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCAC\uDCB0\uDCB5-\uDD00\uDD2E\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEDE-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,"")):encodeURIComponent(e)}catch(t){return""}})},{key:"getDocumentLocationURL",value:function(){var e=document.location.href?document.location.href:"";return e=e.length>255?e.substring(0,255):e}},{key:"isEmpty",value:function(e){if(null===e||undefined)return!0;if("number"==typeof e||"boolean"==typeof e||"function"==typeof e)return!1;for(var t in"string"==typeof e&&(e=e.trim()),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}}]),e}();t.a=o},function(e,t){.exports=,function(e,t,n){"use strict";n.d(t,"a",function(){return g});var i,r,a=n(9),s=n.n(a),o=n(20),u=n.n(o),d={SAFE_FRAME:"SF",EMPTY:"EMPTY",NDP:"NDP",JS:"JS",GOOGLE_GPT:"GOOGLE_GPT",GOOGLE_IMA:"GOOGLE_IMA",GV:"GV"},l={FLUID:"FLUID",PIXEL:"PIXEL"},c={BANNER:"BANNER",VIDEO:"VIDEO"},h="local",A="dev",f="test",p="staging",v="production",g=(r=function(e){var t=i.debug?i.phase:"production";return s()([h,f,A],t)?"test-img.tveta.naver.net":"http:"===e?"tveta.naver.net":"ssl.pstatic.net/melona"},i={debug:!1,enablePersistAd:!1,phase:"production",maxDedupReqCount:-1,requestTimeout:3e3,videoAdOptions:{enableHls:!1}},{getAdunitLayoutTypes:function(){return l},getRenderTypes:function(){return d},getCreativeTypes:function(){return c},getSspDomain:function(){var e=i.debug?i.phase:"production";return s()([h,f,A],e)?"test-gfp.veta.naver.com":e===p?"stg-gfp.veta.naver.com":"gfp.veta.naver.com"},getSspCdnDomain:r,getTivanDomain:function(){switch(i.debug?i.phase:"production"){case"staging":case"production":return"https://tivan.naver.com";default:return"https://test.tivan.naver.com"}},getNdpCdnDomain:function(e){var t=i.debug?i.phase:"production";return s()([h,f],t)?"test-img.tveta.naver.net":"http:"===e?"tveta.naver.net":"ssl.pstatic.net/melona"},getNdpPreviewDomain:function(){var e=i.debug?i.phase:"production";return s()([v,p],e)?"preview.ad.naver.com":"test-preview.ad.naver.com"},getSafeFrameContainerPath:function(e){var t=r(e),n=i.debug?i.phase:"production";return s()([v,f],n)?"".concat(e,"//").concat(t,"/libs/ssp/res/r.html"):n===A?"".concat(e,"//").concat(t,"/libs/ssp_dev/res/r.html"):n===p?"".concat(e,"//").concat(t,"/libs/ssp_stg/res/r.html"):"/build/dev/res/r.html"},getSafeFrameExtLibPath:function(){var e=i.debug?i.phase:"production";return e===v?"https://ssl.pstatic.net/tveta/libs/ssp/ssp.sf.ext.js":e===p?"https://ssl.pstatic.net/tveta/libs/ssp_stg/ssp.sf.ext.js":e===f?"https://test-img.tveta.naver.net/libs/ssp/ssp.sf.ext.js":e===A?"https://test-img.tveta.naver.net/libs/ssp_dev/ssp.sf.ext.js":"/build/dev/ssp.sf.ext.js"},getAdMuteLibPath:function(){var e=i.debug?i.phase:"production",t=r("https:");return e===v?"https://".concat(t,"/libs/glad_admute/prod/glad-admute.js"):e===p?"https://".concat(t,"/libs/glad_admute/stg/glad-admute.js"):e===f?"https://".concat(t,"/libs/glad_admute/test/glad-admute.js"):e===A?"https://".concat(t,"/libs/glad_admute/test/glad-admute.js"):"https://localhost:8080/glad-admute.js"},getConfig:function(){return i},setConfig:)},function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,a=r&&"function"==typeof r.apply?r.apply:i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||.exports=o,o.EventEmitter=o,o.prototype._events=undefined,o.prototype._eventsCount=0,o.prototype._maxListeners=undefined;var u=10;unction l(e,t,n,i){var r,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if((a=e._events)===undefined?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==undefined&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),s===undefined)s=a[t]=n,++e._eventsCount;else if("function"==typeof s?s=a[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=d(e))>0&&s.length>r&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=s.length,console&&console.warn}return e}function c(e,t,n){var i={fired:!1,wrapFn:undefined,target:e,type:t,listener:n},r=bind(i);return r.listener=n,i.wrapFn=r,r}function h(e,t,n){var i=e._events;if(i===undefined)return[];var r=i[t];return r===undefined?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?r):f(r,r.length)}function A(e){var t=this._events;if(t!==undefined){var n=t[e];if("function"==typeof n)return 1;if(n!==undefined)return n.length}return 0}bject.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:),o.init=function(){this._events!==undefined&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||undefined},o.prototype.setMaxListeners=o.prototype.getMaxListeners=o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(r!==undefined)i=i&&r.error===undefined;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var u=r[e];if(u===undefined)return!1;if("function"==typeof u)a(u,this,t);else{var d=u.length,l=f(u,d);for(n=0;n<d;++n)a(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,c(this,e,t)),this},o.prototype.prependOnceListener=o.prototype.removeListener=function(e,t){var n,i,r,a,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if((i=this._events)===undefined)return this;if((n=i[e])===undefined)return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,r=a;break}if(r<0)return this;0===r?n.shift():n,r),1===n.length&&(i[e]=n[0]),i.removeListener!==undefined&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,i;if((n=this._events)===undefined)return this;if(n.removeListener===undefined)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):n[e]!==undefined&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,a=Object.keys(n);for(i=0;i<a.length;++i)"removeListener"!==(r=a[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t!==undefined)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=o.listenerCount=o.prototype.listenerCount=A,o.prototype.eventNames=,function(e,t,n){var i=n(133),r=n(134),a=n(26),s=n(15);e.exports=function(e,t){return(s(e)?i:r)(e,a(t,3))}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(1),r=n.n(i),a=n(2),s=n.n(a),o=function(){function e(){r()(this,e)}return s()(e,null,[{key:"isBlank",value:,{key:"isNotBlank",value:]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return A});var i=n(4),r=n.n(i),a=n(7),s=n.n(a),o=n(1),u=n.n(o),d=n(2),l=n.n(d),c=n(28),h=n(8),A=function(){function e(t,n,i,r,a,s){u()(this,e),this.adChoice=t,this.creativeType=n,this.adDivId=i,this.runtimeType=r,this.theme="",this.initialAdMuteState=a||"init",this.adMuteCacheBurst=s||!1}return l()(e,[{key:"initAdMute",value:function(){var t=s()(r.a.mark(function n(t,i){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,this._isAdMuteLibLoadable()){n.next=3;break}return n.abrupt("return");case 3:if(e.isAdMuteLibLoaded()){n.next=6;break}return n.next=6,this.loadAdMuteLib();case 6:this._renderAdMute(),this.controller.addEventListener("AD_MUTE_COMPLETED",t),this.controller.addEventListener("MUTE_STATE_CHANGED",i),this.theme&&(this._setAdTheme(this.theme),this.theme=""),n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](0);case 15:case"end":return n.stop()}},n,this,[[0,12]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"_isAdMuteLibLoadable",value:function(){var e,t;return Boolean((null===(e=this.adChoice)||void 0===e?void 0:e.mute)||(null===(t=this.adChoice)||void 0===t?void 0:t.priv))}},{key:"loadAdMuteLib",value:function(){var e=h.a.getAdMuteLibPath();return this.adMuteCacheBurst&&(e="".concat(e,"?ts=").concat(+new Date)),window.spwp&&window.spwp.resourceLoader?spwp.resourceLoader.saveAndLoad("adMute","javascript",e,"utf-8"):window.resourceLoader?window.resourceLoader.saveAndLoad("adMute","javascript",e,"utf-8"):(window.resourceLoader=new c.a,window.resourceLoader.saveAndLoad("adMute","javascript",e,"utf-8"))}},{key:"_renderAdMute",value:function(){var e,t;this.controller=window.gladAdMute.createAdMuteController({muteUrl:null===(e=this.adChoice)||void 0===e?void 0:e.mute,privacyUrl:null===(t=this.adChoice)||void 0===t?void 0:t.priv,adDivId:this.adDivId,creativeType:this.creativeType,runtimeType:this.runtimeType,muteState:this.initialAdMuteState}),this.controller.render()}},{key:"setAdThemeByHostMeta",value:function(t){if(this._isAdMuteLibLoadable()&&t){var n=t.theme;n&&"string"==typeof n&&(e.isAdMuteLibLoaded()?this._setAdTheme(n):this.theme=n)}}},{key:"_setAdTheme",value:,{key:"destroy",value:,{key:"shouldRemoveAdMarkLegacy",value:function(){var e,t;return(null===(e=this.adChoice)||void 0===e?void 0:e.mute)&&!(null!==(t=this.adChoice)&&void 0!==t&&t.priv)}}],[{key:"isAdMuteLibLoaded",value:,{key:"replaceAdmToRemoveAdMarkLegacy",value:]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(1),r=n.n(i),a=n(2),s=n.n(a),o=n(0),u=n.n(o),d=n(22),l=[{key:"googlePublisherTag",type:"javascript",src:"https://securepubads.g.doubleclick.net/tag/js/gpt.js"}],c=function(){function e(){var t=this;r()(this,e),u()(this,"resources",{}),l.forEach(function(e){t.resources[e.key]={loaded:!1,type:e.type,src:e.src}})}return s()(e,[{key:"load",value:function(e,t){var n,i,r;return"javascript"===(null===(n=this.resources[e])||void 0===n?void 0:n.type)?this.loadJavaScript(e,t):"css"===(null===(i=this.resources[e])||void 0===i?void 0:i.type)?this.loadCss(e):Promise.reject(new Error("Received invalid type, ".concat(null===(r=this.resources[e])||void 0===r?void 0:r.type)))}},{key:"saveAndLoad",value:function(e,t,n,i){return d.a.isBlank(e)?Promise.reject(new Error("Received invalid key, ".concat(e))):d.a.isBlank(n)?Promise.reject(new Error("Received invalid src, ".concat(n))):(this.resources[e]||(this.resources[e]={loaded:!1,type:t,src:n}),this.load(e,i))}},{key:"loadJavaScript",value:function(e,t){var n=this;return new Promise(function(i,r){var a;if("googlePublisherTag"===e&&null!==(a=window.googletag)&&void 0!==a&&a.apiReady)n.resources[e].loaded=!0,i();else if(n.resources[e].loaded)i();else{var s=document.createElement("script");s.type="text/javascript",s.src=n.resources[e].src,s.async=!0,t&&(s.charset=t),s.readyState?s.onreadystatechange=function(){"loaded"!==s.readyState&&"complete"!==s.readyState||(s.onreadystatechange=null,n.resources[e].loaded=!0,i())}:s.onload=s.onerror=function(){n.resources[e].loaded=!1,r(new Error("".concat(n.resources[e].src," failed to load.")))},document.getElementsByTagName("head")[0].appendChild(s)}})}},{key:"loadCss",value:function(e){var t=this;return new Promise(function(n,i){if(t.resources[e].loaded)n();else try{var r=document.createElement("link");r.rel="stylesheet",r.href=t.resources[e].src;var a=function(i){t.resources[e].loaded||(t.resources[e].loaded=!0,n())};if("onload"in r)r.onload=function(){return a()};else{var s=document.createElement("img");s.onerror=function(){return a()},s.src=t.resources[e].src}"onerror"in r&&(r.onerror=function(){t.resources[e].loaded=!1,i(new Error("".concat(t.resources[e].src," failed to load.")))}),document.getElementsByTagName("head")[0].appendChild(r)}catch(o){t.resources[e].loaded=!1,i(new Error("".concat(t.resources[e].src," failed to load.")))}})}}]),e}()},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(40),r=n(47),a=Object.prototype.hasOwnProperty;e.exports=,function(e,t){e.exports=function(){return!1}},function(e,t,n){"use strict";(function(e){var i=n(19),r=setTimeout;unction s(){}otype["catch"]=o.prototype.then=o.prototype["finally"]=i.a,o.all=o.resolve=o.reject=o.race=o._immediateFn="function"==typeof e&&|o._unhandledRejectionFn=t.a=o}).call(this,n(59).setImmediate)},function(e,t,n){var i=n(39),r=n(40);e.exports=,function(e,t,n){var i=n(55),r=n(41);e.exports=,function(e,t,n){"use strict";(function(e){var t=n(43),i=n(19),r=);"Promise"in r?r.Promise.prototype["finally"]||(r.Promise.prototype["finally"]=i.a):r.Promise=t.a}).call(this,n(25))},function(e,t,n){var i=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";wrap=u;var l="suspendedStart",c="suspendedYield",h="executing",A="completed",f={};function p(){}function v(){}ar y={};y[a]=function(){return this};var m=Object.getPrototypeOf,E=m&&m(m(C([])));E&&E!==n&&i.call(E,a)&&(y=E);var D=g.prototype=p.prototype=Object.create(y);.prototype=D.constructor=g,g.constructor=v,g[o]=v.displayName="GeneratorFunction",e.isGeneratorFunction=e.mark=e.awrap=I(_.prototype),_.prototype[s]=function(){return this},e.AsyncIterator=_,e.async=I(D),D[o]="Generator",D[a]=D.toString=e.keys=e.values=C,L.prototype={constructor:L,reset:stop:dispatchException:abrupt:complete:finish:"catch":delegateYield:,e}(e.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},function(e,t){e.exports=function(e){return e}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=,function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var i=n(87),r=n(0);.exports=,function(e,t,n){var i=n(76),r=n(26),a=n(154),s=n(15),o=n(41);e.exports=,function(e,t){e.exports=,function(e,t,n){var i=n(74),r=n(75),a=1,s=2;e.exports=,function(e,t,n){var i=n(108),r=n(76),a=n(109),s=1,o=2;e.exports=function(e,t,n,u,d,l){var c=n&s,h=e.length,A=t.length;if(h!=A&&!(c&&A>h))return!1;var f=l.get(e);if(f&&l.get(t))return f==t;var p=-1,v=!0,g=n&o?new i:undefined;for(l.set(e,t),l.set(t,e);++p<h;){var y=e[p],m=t[p];if(u)var E=c?u(m,y,p,t,e,l):u(y,m,p,e,t,l);if(E!==undefined){if(E)continue;v=!1;break}if(g){if(!r(t,){v=!1;break}}else if(y!==m&&!d(y,m,n,u,l)){v=!1;break}}return l["delete"](e),l["delete"](t),v}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var i=n(112),r=1,a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,o,u){var d=n&r,l=i(e),c=l.length;if(c!=i(t).length&&!d)return!1;for(var h=c;h--;){var A=l[h];if(!(d?A in t:a.call(t,A)))return!1}var f=u.get(e);if(f&&u.get(t))return f==t;var p=!0;u.set(e,t),u.set(t,e);for(var v=d;++h<c;){var g=e[A=l[h]],y=t[A];if(s)var m=d?s(y,g,A,t,e,u):s(g,y,A,e,t,u);if(!(m===undefined?g===y||o(g,y,n,s,u):m)){p=!1;break}v||(v="constructor"==A)}if(p&&!v){var E=e.constructor,D=t.constructor;E!=D&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof D&&D instanceof D)&&(p=!1)}return u["delete"](e),u["delete"](t),p}},function(e,t,n){var i=n(34)(Object.keys,Object);e.exports=i},function(e,t,n){var i=n(75),r=n(17),a=n(118),s=n(65),o=n(80),u=n(81),d=n(35),l=1,c=2;e.exports=,function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=,function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(26),r=n(18),a=n(5);e.exports=,function(e,t,n){var i=n(29),r=n(137),a=n(140),s="Expected a function",o=Math.max,u=Math.min;e.exports=function(e,t,n){var d,l,c,h,A,f,p=0,v=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError(s);n t=a(t)||0,i(n)&&(v=!!n.leading,c=(g="maxWait"in n)?o(a(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),_.cancel=_.flush=_}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=,function(e,t){e.exports=,function(e,t,n){var i=n(82);e.exports=function(e,t){if(e!==t){var n=e!==undefined,r=null===e,a=e==e,s=i(e),o=t!==undefined,u=null===t,d=t==t,l=i(t);if(!u&&!l&&!s&&e>t||s&&o&&d&&!u&&!l||r&&o&&d||!n&&d||!a)return 1;if(!r&&!s&&!l&&e<t||l&&n&&a&&!r&&!s||u&&n&&a||!o&&a||!d)return-1}return 0}},function(e,t,n){"use strict";n.r(t);n(58),n(97),n(98);var i=n(4),r=n.n(i),a=n(7),s=n.n(a),o=n(0),u=n.n(o),d=n(23),l=n.n(d),c=n(10),h=n.n(c),A=n(9),f=n.n(A),p=n(3),v=n.n(p),g=n(12),y=n.n(g),m=n(13),E=n.n(m),D=n(8);window.spwp=window.spwp||{},window.spwp.cmd=window.spwp.cmd||[],window.spwp.adUnits=window.spwp.adUnits||[],window.spwp.activeViews=window.spwp.activeViews||{};var I,_,S,k,w,L,C,O,T,R,b=n(5),F=n.n(b),P=(I=[],_=[],k=function(e,t){if("undefined"!=typeof sessionStorage)try{sessionStorage.removeItem(e),sessionStorage.setItem(e,JSON.stringify(t))}catch(n){if(n.code)switch(n.code){case 22:L();break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===n.name&&L()}}},w=function(e){var t=null;return"undefined"!=typeof sessionStorage&&(t=JSON.parse(sessionStorage.getItem(e))),t},L=function(){"undefined"!=typeof sessionStorage&&(sessionStorage.removeItem("spwp_unitInfo"),sessionStorage.removeItem("spwp_adInfo"))},C=function(e,t){if(S()){I=w("spwp_adInfo")||[];var n=new Date;T(I,{key:e,adInfo:t,regDate:n}),k("spwp_adInfo",I)}},T=function(e,t){var n=y()(e,;n?t.adInfo?n.adInfo=t.adInfo:t.unitInfo?n.unitInfo=t.unitInfo:n=t:e.push(t)},{support:S=function(){var e=D.a.getConfig().enablePersistAd,t="undefined"!=typeof sessionStorage;return!(!e||!t)},isBackForwardType:setPersistUnitInfoData:function(e,t){if(S()){_=w("spwp_unitInfo")||[],t=t.map(;var n=new Date;T(_,{key:e,unitInfo:t,regDate:n}),k("spwp_unitInfo",_)}},getPersistUnitInfoData:function(e){if(!S())return null;var t=w("spwp_unitInfo")||[],n=y()(t,function(t){return t.key==e});return n?n.unitInfo:n},setPersistAdData:C,getPersistAdData:O=function(e){if(!S())return null;var t=w("spwp_adInfo")||[],n=y()(t,function(t){return t.key==e});return n?n.adInfo:n},resetPersistData:function(){if(S()){var e=w("spwp_adInfo")||[],t=new Date,n=new Date(t.setHours(0,0,0,0));k("spwp_adInfo",e.filter(function(e){var t=e.regDate?new Date(e.regDate):"";return n<=t}))}},initPersistAds:(R=s()(r.a.mark(function ua(e,t){var n;return r.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==F()(t).length||t.constructor!==Object){i.next=2;break}return i.abrupt("return");case 2:return(n=e.getAdapterManager()).isPersist=!0,n.setAdproviderInfo(t),i.next=7,n.handleRequestAdapters();case 7:case"end":return i.stop()}},ua)})),function(e,t){return R.apply(this,arguments)}),setAdMuteState:function(e,t){var n=O(e);n&&(n.muteState=t,C(e,n))},getAdMuteState:),M=n(1),N=n.n(M),B=n(2),x=n.n(B),U=n(20),V=n.n(U);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach(function(t){u()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var j=D.a.getCreativeTypes(),X=function(){function e(t){N()(this,e),u()(this,"unitId",void 0),u()(this,"divId",void 0),u()(this,"mediaType",void 0),u()(this,"activeViewConfig",void 0),u()(this,"sfRenderConfig",void 0),u()(this,"slotSeqNo",void 0),u()(this,"unitTarget",void 0),u()(this,"extraOption",void 0);var n=t.unitId,i=t.divId,r=t.mediaType,a=t.activeViewConfig,s=t.sfRenderConfig,o=t.slotSeqNo,d=void 0===o?1:o;this.unitId=n,this.setAdSlotElementId(i,d),this.setMediaType(r),this.setTargeting(G({},t.targeting)),this.setExtraOption(G({},t.extraOption)),this.activeViewConfig=a||{activeViewPercentage:.5,activeViewTime:1e3},this.sfRenderConfig=s||{renderDirectlyInHost:!1}}return x()(e,[{key:"getUnitId",value:function(){return this.unitId}},{key:"getMediaType",value:function(){return this.mediaType}},{key:"getAdSlotElementId",value:function(){return this.divId}},{key:"getTargeting",value:function(){return this.unitTarget}},{key:"setTargeting",value:function(e){this.unitTarget=new function t(e){N()(this,t);var n=e.yob,i=e.gender,r=e.uct,a=e.ai,s=e.iv;this.yob=n||"",this.gender=i||"",this.uct=r||"",this.ai=a||"",this.iv=s||""}(e)}},{key:"getExtraOption",value:function(){return this.extraOption}},{key:"setExtraOption",value:function(e){this.extraOption=new function t(e){N()(this,t);var n=e.oid,i=e.sid1,r=e.sid2,a=e.calp,s=e.gdid,o=e.mediaParams;this.oid=n||"",this.sid1=i||"",this.sid2=r||"",this.calp=a||"",this.gdid=s||"",this.mediaParams=o||{}}(e)}},{key:"setMediaType",value:function(e){this.mediaType=e!==undefined?e.toUpperCase():j.BANNER}},{key:"setAdSlotElementId",value:function(e,t){this.divId=e||"gfp_ad_".concat(this.unitId,"_").concat(t),this.slotSeqNo=t}},{key:"unitId",get:function(){return this.unitId}},{key:"divId",get:function(){return this.divId}},{key:"slotSeqNo",get:function(){return this.slotSeqNo}},{key:"activeViewConfig",get:function(){return this.activeViewConfig}},{key:"sfRenderConfig",get:function(){return this.sfRenderConfig}}]),e}(),H=function(){function e(t){N()(this,e);var n=t.adUnitData,i=t.gfpAd,r=t.unitId,a=t.divId,s=t.adProviderName,o=t.exclusionCriteria;this.adUnitData=n,this.gfpAd=i,this.unitId=r,this.divId=a,this.adProviderName=s,this.exclusionCriteria=o}return x()(e,[{key:"getAdUnitData",value:function(){return this.adUnitData}},{key:"getAd",value:function(){return this.gfpAd}},{key:"getExclusionCriteria",value:function(){return this.exclusionCriteria}}]),e}();u()(H,"Type",{AD_LOAD:"adLoad",AD_IMPRESSION:"adImpression",AD_CLICK:"adClick",STARTED:"start",SKIPPED:"skip",COMPLETE:"complete",PAUSED:"pause",RESUMED:"resume",MEDIATION_INIT:"MEDIATION_INIT",MEDIATION_READY:"MEDIATION_READY",MEDIATION_FAILED:"MEDIATION_FAILED",AD_MUTE_COMPLETED:"adMuteCompleted"});var q=function(){function e(t){N()(this,e);var n=t.adUnitData,i=t.gfpAdError,r=(t.adErrorData,t.unitId),a=t.divId,s=t.playerInfo;this.adUnitData=n,this.gfpAdError=i,this.sspAdError=i,this.unitId=r,this.divId=a,this.playerInfo=s}return x()(e,[{key:"getAdUnitData",value:function(){return this.adUnitData}},{key:"getError",value:function(){return this.gfpAdError}}]),e}();u()(q,"Type",{AD_LOAD_FAILED:"adLoadFailed",AD_ERROR:"adError"});var K=n(11),z=n.n(K),Q=function(){function e(t){var n=this;N()(this,e),this._eventList=t,this.internalEvent=new z.a,v()(F()(t),function(e){n.internalEvent.on(e,t[e])})}return x()(e,[{key:"onAdLoaded",value:function(e){this.internalEvent.emit(H.Type.AD_LOAD,e)}},{key:"onAdFailedToLoad",value:function(e){this.internalEvent.emit(q.Type.AD_LOAD_FAILED,e)}},{key:"onAdImpression",value:function(e){this.internalEvent.emit(H.Type.AD_IMPRESSION,e)}},{key:"onAdClicked",value:function(e){this.internalEvent.emit(H.Type.AD_CLICK,e)}},{key:"onAdError",value:function(e){this.internalEvent.emit(q.Type.AD_ERROR,e)}},{key:"onAdMuteCompleted",value:function(e){this.internalEvent.emit(H.Type.AD_MUTE_COMPLETED,e)}},{key:"eventList",get:function(){return this._eventList},set:function(e){this._eventList=e}}]),e}(),Z=window.navigator.userAgent.toLowerCase(),Y={IS_WIN:/Windows/i.test(Z),IS_MAC:/Macintosh/i.test(Z),IS_OP:"undefined"!=typeof window.opera||/Opera/i.test(Z),IS_IE:!!Z.match(/(?:(MSIE) |(Trident)\/.+rv[ :])([\w.]+)/i),IS_EDGE:/Edge/i.test(Z),IS_FF:/Firefox/i.test(Z),IS_CR:/Chrome|CriOS/i.test(Z),IS_SF:!/Chrome|CriOS/i.test(Z)&&(Z||"").indexOf("safari")>-1,IS_IOS:/iPhone|iPad|iPod/i.test(Z),IS_IPHONE:/iPhone;/i.test(Z),IS_IPAD:/iPad;/i.test(Z),IS_IPOD:/iPod;/i.test(Z),IS_ANDROID:/Android/i.test(Z),IS_WINDOWS_MOBILE:/Windows Phone|Windows CE/i.test(Z),IS_BLACKBERRY:/BlackBerry/i.test(Z),IS_SONYERICSSON:/SonyEricsson/i.test(Z),IS_SYMBIAN_OS:/SymbianOS/i.test(Z),IS_WEB_OS:/webOS/i.test(Z),IS_TIZEN:/Tizen/i.test(Z),IS_WEBKIT_MOBILE:/AppleWebKit/i.test(Z),IS_IE_MOBILE:/IEMobile/i.test(Z),IS_OPERA_MINI:/Opera Mini/i.test(Z),IS_DOLFIN:/Dolfin/i.test(Z),IS_NAVER_APP:/NAVER\((inapp|higgs)/i.test(Z),IS_SAMSUNG_BROWSER:/SamsungBrowser/i.test(Z),init:function(){this.IE="IE",this.EDGE="Edge",this.CR="Chrome",this.SF="Safari",this.OP="Opera",this.FF="Firefox",this.WEBKIT_MOBILE="WebKit Mobile",this.IE_MOBILE="IE Mobile",this.OPERA_MINI="Opera Mini",this.DOLFIN="Dolfin",this.NAVER_APP="Naver App",this.SAMSUNG_BROWSER="SamsungBrowser",this.WIN="Windows",this.MAC="Macintosh",this.IOS="IOS",this.ANDROID="Android",this.WINDOWS_MOBILE="Windows Mobile",this.BLACKBERRY="BlackBerry",this.SONYERICSSON="SonyEricsson",this.SYMBIAN_OS="SymbianOS",this.WEB_OS="WebOS",this.TIZEN="Tizen",this.UNKNOWN_OS="an unknown OS",this.UNKNOWN_BROWSER="an unknown browser",this.UNKNOWN_OR_NOT_SUPPORTED_BROWSER="an unknown or not supported browser",this.UNKNOWN_OR_NOT_SUPPORTED_OS="an unknown or not supported OS",this.UNKNOWN_BROWSER_VERSION=-1,this.UNKNOWN_OS_VERSION=-1,this.BROWSER=this.searchBrowser()||this.UNKNOWN_OR_NOT_SUPPORTED_BROWSER,this.OS=this.searchOS()||this.UNKNOWN_OR_NOT_SUPPORTED_OS},isMobile:function(){return this.IS_IOS||this.IS_ANDROID||this.IS_TIZEN||this.IS_WINDOWS_MOBILE||this.IS_BLACKBERRY||this.IS_SONYERICSSON||this.IS_SYMBIAN_OS||this.IS_WEB_OS||this.IS_OPERA_MINI||this.IS_DOLFIN},searchBrowser:function(){return this.isMobile()?this.IS_WEBKIT_MOBILE?this.WEBKIT_MOBILE:this.IS_IE_MOBILE?this.IE_MOBILE:this.IS_OPERA_MINI?this.OPERA_MINI:this.IS_DOLFIN?this.DOLFIN:this.IS_NAVER_APP?this.NAVER_APP:this.IS_SAMSUNG_BROWSER?this.SAMSUNG_BROWSER:this.UNKNOWN_BROWSER:this.IS_OP?this.OP:this.IS_IE?this.IE:this.IS_EDGE?this.EDGE:this.IS_FF?this.FF:this.IS_CR?this.CR:this.IS_SF?this.SF:this.UNKNOWN_BROWSER},searchBrowserVersion:function(){if(this.isMobile()){var e={chrome:this.UNKNOWN_BROWSER_VERSION,samsung:this.UNKNOWN_BROWSER_VERSION,webview:this.UNKNOWN_BROWSER_VERSION,naverapp:this.UNKNOWN_BROWSER_VERSION,naverapp_svc_cd:this.UNKNOWN_BROWSER_VERSION};try{this.IS_CR&&null!=Z.match(/(Chrome|CriOS)\/([0-9\.]+)/i)&&(e.chrome=parseFloat(Z.match(/(Chrome|CriOS)\/([0-9\.]+)/i)[2])),this.IS_SAMSUNG_BROWSER&&null!=Z.match(/SamsungBrowser\/([0-9\.]+)/i)&&(e.samsung=parseFloat(Z.match(/SamsungBrowser\/([0-9\.]+)/i)[1])),this.IS_WEBKIT_MOBILE&&null!=Z.match(/Version\/([0-9\.]+)/i)&&(e.webview=parseFloat(Z.match(/Version\/([0-9\.]+)/i)[1])),this.IS_NAVER_APP&&null!=Z.match(/NAVER\((inapp|higgs); search; ([0-9\.]+); ([0-9\.]+)(; ([a-z|0-9\.]+))?\)/i)&&(e.naverapp=parseFloat(Z.match(/NAVER\((inapp|higgs); search; ([0-9\.]+); ([0-9\.]+)(; ([a-z|0-9\.]+))?\)/i)[3]),e.naverapp_svc_cd=parseFloat(Z.match(/NAVER\((inapp|higgs); search; ([0-9\.]+); ([0-9\.]+)(; ([a-z|0-9\.]+))?\)/i)[2]))}catch(t){}finally{return e}}else try{return this.IS_IE?"Microsoft Internet Explorer"==navigator.appName?parseFloat(Z.match(/MSIE ([0-9\.]+)/i)[1]):"Netscape"==navigator.appName&&null!=new RegExp("trident/.*rv[ :]([0-9]{1,}[.0-9]{0,})").exec(Z)?parseFloat(RegExp.$1):-1:this.IS_EDGE?parseInt(Z.match(/Edge\/([0-9\.]+)/i)[1]):this.IS_CR?parseFloat(Z.match(/Chrome\/([0-9\.]+)/i)[1]):this.IS_SF?parseFloat(Z.match(/Version\/([0-9\.]+)/i)[1]):this.IS_OP?parseFloat(Z.match(/Version\/([0-9\.]+)/i)[1]):this.IS_FF?parseFloat(Z.match(/Firefox\/([0-9\.]+)/i)[1]):this.UNKNOWN_BROWSER_VERSION}catch(t){return this.UNKNOWN_BROWSER_VERSION}},searchOSVersion:function(){try{return this.isMobile()?this.IS_IOS?parseFloat(Z.match(/OS ((\d+_?){2,3})\s/i)[1].replace(/_/g,".")):this.IS_ANDROID?parseFloat(Z.match(/Android ([0-9\.]+)/i)[1]):/Windows Phone/i.test(Z)?parseFloat(Z.match(/Windows Phone ([0-9\.]+)|Windows Phone OS ([0-9\.]+)/i)[0].match(/[0-9\.]+/)):this.IS_SYMBIAN_OS?parseFloat(Z.match(/SymbianOS\/([0-9\.]+)/i)[1]):this.IS_WEB_OS?parseFloat(Z.match(/webOS\/([0-9\.]+)/i)[1]):this.IS_TIZEN?parseFloat(Z.match(/Tizen ([0-9\.]+)/i)[1]):this.UNKNOWN_OS_VERSION:this.IS_WIN?parseFloat(Z.match(/Windows NT ([0-9\.]+)/i)[1]):this.IS_MAC?parseFloat(Z.match(/Mac OS X ([\d\_.]+)/i)[1].replace(/\_/g,".")):this.UNKNOWN_OS_VERSION}catch(e){return this.UNKNOWN_OS_VERSION}},searchOS:function(){return this.isMobile()?this.IS_IOS?this.IOS:this.IS_ANDROID?this.ANDROID:this.IS_WINDOWS_MOBILE?this.WINDOWS_MOBILE:this.IS_BLACKBERRY?this.BLACKBERRY:this.IS_SONYERICSSON?this.SONYERICSSON:this.IS_SYMBIAN_OS?this.SYMBIAN_OS:this.IS_WEB_OS?this.WEB_OS:this.IS_TIZEN?this.TIZEN:this.UNKNOWN_OS:this.IS_WIN?this.WIN:this.IS_MAC?this.MAC:this.UNKNOWN_OS},checkAgent:function(e){return 10===e?!(!this.IS_WIN||!this.IS_IE||8==this.searchBrowserVersion()):20===e?!(!this.IS_WIN||!this.IS_IE):30===e?!(!this.IS_WIN||!this.IS_IE&&!this.IS_CR):40===e?!(!this.IS_WIN||!(this.IS_IE||this.IS_CR||this.IS_SF)):45===e?!(!this.IS_WIN||!(this.IS_IE||this.IS_SF||this.IS_OP)):50===e?!(!this.IS_WIN||!(this.IS_IE||this.IS_CR||this.IS_SF||this.IS_OP)):60===e?!(!this.IS_WIN||!(this.IS_IE||this.IS_CR||this.IS_SF||this.IS_FF)):80===e?!(!this.IS_WIN||!(this.IS_IE||this.IS_FF||this.IS_CR||this.IS_SF||this.IS_OP)):90===e&&!!(this.IS_IE||this.IS_FF||this.IS_CR||this.IS_SF||this.IS_OP)},hasFP:function(){if(navigator.plugins&&navigator.mimeTypes.length){var e=navigator.plugins["Shockwave Flash"];if(e&&e.description)return!0}else try{if(null!=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(t){}return!1}};Y.init();var J=Y,$=function(){function e(t){N()(this,e);var n=t.code,i=t.message,r=t.type,a=t.adProviderName;this.code=n,this.message=i,this.type=r,this.adProviderName=a}return x()(e,null,[{key:"ERROR_CODE",get:function(){return{ERROR_CODE_INTERNAL_ERROR:0,ERROR_CODE_INVALID_REQUEST:1,ERROR_CODE_NETWORK_ERROR:2,ERROR_CODE_NO_FILL:3}}},{key:"ERRORS",get:function(){return{INTERNAL_ERROR:{code:e.ERROR_CODE.ERROR_CODE_INTERNAL_ERROR,message:"INTERNAL_ERROR"},INVALID_REQUEST:{code:e.ERROR_CODE.ERROR_CODE_INVALID_REQUEST,message:"INVALID_REQUEST"},NETWORK_ERROR:{code:e.ERROR_CODE.ERROR_CODE_NETWORK_ERROR,message:"NETWORK_ERROR"},NO_FILL:{code:e.ERROR_CODE.ERROR_CODE_NO_FILL,message:"NO_FILL"}}}},{key:"LOAD_STAT_CODE",get:,{key:"START_STAT_CODE",get:,{key:"ERROR_DETAIL_CODE",get:]),x()(e,[{key:"getErrorCode",value:function(){return this.code}},{key:"getMessage",value:function(){return this.message}},{key:"getType",value:function(){return this.type}},{key:"getAdProvider",value:function(){return this.adProviderName}}]),e}();u()($,"Type",{AD_LOAD_ERROR:"adLoadError",AD_DSP_LOAD_ERROR:"adDspLoadError",AD_PLAY_ERROR:"adPlayError"});var ee=H.Type,te=ee.AD_LOAD,ne=ee.AD_IMPRESSION,ie=ee.AD_CLICK,re=ee.STARTED,ae=ee.SKIPPED,se=ee.COMPLETE,oe=ee.PAUSED,ue=ee.RESUMED,de=ee.AD_MUTE_COMPLETED,le=$.Type.AD_LOAD_ERROR,ce=function(){function e(t){N()(this,e);var n=t.adListener,i=t.videoQoeListener;this.info=t,this.adListener=n,this.videoQoeListener=i,this.eventListeners=E()([n,i],function(e){return void 0!==e})}return x()(e,[{key:"setEventListeners",value:function(e){var t=e.adListener,n=e.videoQoeListener;this.adListener=t,this.videoQoeListener=n,this.eventListeners=E()([t,n],}},{key:"notifyAdLoaded",value:function(e){var t=this.eventListeners,n=this.info,i=n.unitId,r=n.divId,a=n.adProviderName,s=n.exclusionCriteria;v()(t,function(t){var n=new H({adUnitData:{unitId:i,divId:r},gfpAd:e,type:te,unitId:i,divId:r,adProviderName:a,exclusionCriteria:s});t&&t.onAdLoaded(n)})}},{key:"notifyAdFailedToLoad",value:function(e){var t=e.code,n=e.message,i=e.type,r=this.adListener,a=this.info,s=a.unitId,o=a.divId,u=a.playerInfo,d=new $({code:t,message:n,type:i}),l=new q({adUnitData:{unitId:s,divId:o},gfpAdError:d,unitId:s,divId:o,playerInfo:u});r&&r.onAdFailedToLoad(l)}},{key:"notifyAdImpression",value:function(e){var t=this.adListener,n=this.info,i=n.unitId,r=n.divId,a=n.adProviderName,s=new H({adUnitData:{unitId:i,divId:r},gfpAd:e,type:ne,unitId:i,divId:r,adProviderName:a});t&&t.onAdImpression(s)}},{key:"notifyAdClicked",value:function(e){var t=this.eventListeners,n=this.info,i=n.unitId,r=n.divId,a=n.adProviderName;v()(t,function(t){var n=new H({adUnitData:{unitId:i,divId:r},gfpAd:e,type:ie,unitId:i,divId:r,adProviderName:a});t&&t.onAdClicked(n)})}},{key:"notifyAdError",value:function(e){var t=e.code,n=e.message,i=e.type,r=e.adErrorData,a=this.eventListeners,s=this.adListener,o=this.info,u=o.unitId,d=o.divId,l=o.adProviderName;i==le&&void 0!==s&&(a=[s]),v()(a,function(e){var a=new $({code:t,message:n,type:i,adProviderName:l}),s=new q({adUnitData:{unitId:u,divId:d},gfpAdError:a,adErrorData:r});e&&e.onAdError(s)})}},{key:"notifyAdStarted",value:function(e){var t=this.eventListeners,n=this.info,i=n.unitId,r=n.divId;v()(t,function(t){if(t.onAdStarted){var n=new H({adUnitData:{unitId:i,divId:r},gfpAd:e,type:re});t&&t.onAdStarted(n)}})}},{key:"notifyAdSkipped",value:function(e){var t=this.eventListeners,n=this.info,i=n.unitId,r=n.divId;v()(t,function(t){if(t.onAdSkipped){var n=new H({adUnitData:{unitId:i,divId:r},gfpAd:e,type:ae});t&&t.onAdSkipped(n)}})}},{key:"notifyAdComplete",value:function(e){var t=this.eventListeners,n=this.info,i=n.unitId,r=n.divId;v()(t,function(t){if(t.onAdComplete){var n=new H({adUnitData:{unitId:i,divId:r},gfpAd:e,type:se});t&&t.onAdComplete(n)}})}},{key:"notifyAdPaused",value:function(e){var t=this.videoQoeListener,n=this.info,i=n.unitId,r=n.divId,a=new H({adUnitData:{unitId:i,divId:r},gfpAd:e,type:oe});t&&t.onAdPaused(a)}},{key:"notifyAdResumed",value:function(e){var t=this.videoQoeListener,n=this.info,i=n.unitId,r=n.divId,a=new H({adUnitData:{unitId:i,divId:r},gfpAd:e,type:ue});t&&t.onAdResumed(a)}},{key:"notifyAdMuteCompleted",value:function(e){var t=this.adListener,n=this.info,i=n.unitId,r=n.divId,a=n.adProviderName,s=new H({adUnitData:{unitId:i,divId:r},gfpAd:e,type:de,unitId:i,divId:r,adProviderName:a});t&&t.onAdMuteCompleted(s)}}]),e}(),he=n(44),Ae=n.n(he),fe=n(42),pe=n.n(fe),ve=n(16),ge=n.n(ve);window.naver_corp_da=window.naver_corp_da||{};var ye=me=function(){function e(t){N()(this,e);var n=t.container,i=t.divId,r=t.scrollTarget,a=t.activeViewTime,s=t.activeViewPercentage,o=t.orientationChangeTime,u=t.callback,d=t.fluid;n&&(this.divId=i,this.container=n,this.scrollTarget=r||window,this.activeViewTime=a||1e3,this.activeViewPercentage=s||.5,this.orientationChangeTime=o||500,this.callback=u||null,this.fluid=d,this.viewPortIn=!1,this.timeout=null,this.onceCalled=!1,this.isMobile=J.isMobile(),this.checkViewPortHandler=function(e){var t=this;this.container=document.getElementById(this.divId);var n=this.beIntoViewPortWithRatio(this.container,this.activeViewPercentage),i=!this.beIntoViewPortWithRatio(this.container,.01);if(n){if(this.viewPortIn=!0,this.timeout)return;this.timeout=setTimeout(function(){t.viewPortIn&&(t.callback&&t.callback(),t.removeEventListener())},this.activeViewTime)}if(i){if(this.viewPortIn=!1,!this.timeout)return;clearTimeout(this.timeout),this.timeout=null}},this.orientationChangeEventHandler=function(e){var t=this;setTimeout(function(){t.checkViewPortHandler()},this.orientationChangeTime)},this.checkActiveView=function(){var e=this;setTimeout(function(){e.checkViewPortHandler()},700),this.addEventListener()},this.clearActiveView=}return x()(e,[{key:"beIntoViewPortWithRatio",value:function(e,t){if(!e)return!1;t=t||1;var n=parseInt(e.style.width)||parseInt(e.getBoundingClientRect().width)||parseInt(e.offsetWidth),i=parseInt(e.style.height)||parseInt(e.getBoundingClientRect().height)||parseInt(e.offsetHeight),r=window.pageYOffset,a=window.pageXOffset,s=window.pageXOffset+window.innerWidth,o=0;o=null!==naver_corp_da.webviewY&&naver_corp_da.webviewY!==undefined&&""!==naver_corp_da.webviewY?window.pageYOffset+(window.innerHeight-naver_corp_da.webviewY):window.pageYOffset+window.innerHeight;var u=r<=this.offset(e).top+i*(1-t),d=o>=this.offset(e).top+i*t,l=a<=this.offset(e).left+n*(1-t),c=s>=this.offset(e).left+n*t;return this.fluid?u&&d:u&&d&&l&&c}},{key:"offset",value:function(e){var t,n,i={top:0,left:0},r=e&&e.ownerDocument;if(r)return t=r.documentElement,"undefined"!==ge()(e.getBoundingClientRect)&&(i=e.getBoundingClientRect()),n=this.getWindow(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}}},{key:"getWindow",value:function(e){return e&&e===e.window?e:9===e.nodeType&&e.defaultView}},{key:"removeEventListener",value:function(){var e=this.isMobile,t=this.scrollTarget;t.removeEventListener?(t.removeEventListener("scroll",this,!1),e||t.removeEventListener("resize",this,!1)):(this.scrollTarget.detachEvent("scroll",this,!1),e||this.scrollTarget.detachEvent("resize",this,!1)),window.removeEventListener("orientationchange",this,!1)}},{key:"addEventListener",value:function(){var e=this.isMobile,t=this.scrollTarget;t.addEventListener?(t.addEventListener("scroll",this,!1),e||t.addEventListener("resize",this,!1)):(t.attachEvent("scroll",this,!1),e||t.attachEvent("resize",this,!1)),window.addEventListener("orientationchange",this,!1)}},{key:"handleEvent",value:function(e){switch(e.type){case"scroll":case"resize":this.checkViewPortHandler(e);break;case"orientationchange":this.orientationChangeEventHandler(e)}}}]),e}(),Ee=function(){function e(t){N()(this,e);var n=t.adProvider;this.adProvider=n}return x()(e,[{key:"getAdProvider",value:function(){return this.adProvider}}]),e}(),De=function(){function e(t){N()(this,e);var n=t.src,i=t.global,r=t.protocol,a=void 0===r?document.location.protocol:r;this.src=n,this.global=i,this.protocol=a,this.isLoaded=!1,this.isTryLoad=!1,this.promise}return x()(e,[{key:"loadScript",value:function(){var e=this;return this.isTryLoad=!0,new Promise(function(t,n){try{window[e.global]&&t();var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src="".concat(e.src);var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r),i.addEventListener("load",,i.addEventListener("error",function(t){n(new Error("".concat(e.src," failed to load.")))})}catch(a){n(new Error("".concat(e.src," failed to load.")))}})}},{key:"load",value:function(){var e=this;return this.isTryLoad?this.promise:(this.promise=new Promise(function(){var t=s()(r.a.mark(function n(t,i){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.isLoaded){n.next=12;break}return n.prev=1,n.next=4,e.loadScript();case 4:t(window[e.global]),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),i(n.t0);case 10:n.next=13;break;case 12:t(window[e.global]);case 13:case"end":return n.stop()}},n,null,[[1,7]])}));return function(e,n){return t.apply(this,arguments)}}()),this.promise)}}]),e}(),Ie=function(){function e(t){var n=t.timeout,i=t.divId;N()(this,e),this.timeout=n,this.divId=i,this.internalEvent=new z.a}return x()(e,[{key:"initTimer",value:function(t){var n,i=e.Type,r=i.LOAD_SUCCESS,a=i.LOAD_TIMEOUT,s=i.LOAD_FAILED;this.timeout>0&&(this.internalEvent.on(r,this.clearDefaultTimeout.bind(this)),this.internalEvent.on(s,this.clearDefaultTimeout.bind(this)),this.setDefaultTimeout()),this.addEventListener((n={},u()(n,r,function(e){t.onAdLoad&&t.onAdLoad(e)}),u()(n,a,function(e){t.onAdLoadFailedTimeout&&t.onAdLoadFailedTimeout(e)}),u()(n,s,,n))}},{key:"addEventListener",value:function(e){var t=this;v()(F()(e),function(n){t.internalEvent.on(n,e[n])})}},{key:"fireEvent",value:function(e){var t=e.name,n=e.evtData;this.internalEvent.emit(t,n),this.removeAllListeners()}},{key:"setDefaultTimeout",value:function(){var t=this,n=e.Type.LOAD_TIMEOUT,i=this.timeout;this.divId;this.timerId=window.setTimeout(function(){t.fireEvent({name:n})},i)}},{key:"clearDefaultTimeout",value:function(){this.divId;this.timerId&&(window.clearTimeout(this.timerId),this.timerId=null)}},{key:"removeAllListeners",value:function(){var t=this,n=e.Type;v()(n,function(e){t.internalEvent.removeAllListeners(e)})}}]),e}();u()(Ie,"Type",{LOAD_SUCCESS:"LOAD_SUCCESS",LOAD_TIMEOUT:"LOAD_TIMEOUT",LOAD_FAILED:"LOAD_FAILED"});var _e=function(){var e="offset",t={nullProps:[e+"Parent"],zeroProps:[]};t.zeroProps=[e+"Height",e+"Width","clientHeight","clientWidth"];var n=function(e){return window.getComputedStyle===undefined||"fixed"==window.getComputedStyle(e,null).getPropertyValue("position")};return{validateNode:function(e){var i=document.body,r=!1;if(null===e)return!0;var a,s=0===(a=e).childNodes.length||!Array.prototype.some.call(a.childNodes,;null!==i.getAttribute("abp")&&(r=!0);for(var o=0;o<t.nullProps.length&&!s;o++){if(null==e[t.nullProps[o]]&&!n(e)){r=!0;break}if(r)break}for(o=0;o<t.zeroProps.length&&!s&&!r;o++)0==e[t.zeroProps[o]]&&(r=!0);return function(e,t){for(;e&&1===e.nodeType&&!r;)t(e),e=e.parentNode}(e,function(e){if(window.getComputedStyle!==undefined){var t=window.getComputedStyle(e,null);"none"!=t.getPropertyValue("display")&&"hidden"!=t.getPropertyValue("visibility")||(r=!0)}}),r}}}();function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach(function(t){u()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var we=new De({src:"https://www.googletagservices.com/tag/js/gpt.js",global:"googletag"}),Le=($.Type.AD_LOAD_ERROR,$.LOAD_STAT_CODE),Ce=$.ERROR_DETAIL_CODE,Oe=Ie.Type,Te=Oe.LOAD_SUCCESS,Re=Oe.LOAD_FAILED,be=H.Type,Fe=be.MEDIATION_READY,Pe=be.MEDIATION_FAILED,Me=function(){function e(t){var n=this;N()(this,e),u()(this,"onAdLoadFailed",,u()(this,"onAdLoadFailedTimeout",function(){var e={st:Le.STAT_CODE_TIMEOUT,erc:Ce.LOAD_ERROR_AD_SELECTION_NO_FILL,erm:"GPT_AD_LOAD_FAILED_TIMEOUT"};n.collapseAdSlot(e)}),u()(this,"collapseAdSlot",function(e){var t=n.adapterManager,i=n.adProvider.encrypted,r=t.callLogs,a=n.info,s=a.divId;r(a.eventTracking.loadErrors,i,e,"ssp loaded error(gpt) url");var o=document.getElementById(s);"none"==o.style.display&&(o.style.display="block"),n.reset(),t.fireEvent({name:Pe})}),u()(this,"getGfpAd",function(){var e=n.adProviderName;return new Ee({adProvider:e})});var i=t.adProvider,r=t.eventTracking,a=t.eventNotifier,s=t.timeoutManager,o=t.adapterManager,d=t.divId,l=i.adInfo,c=i.adProviderName,h=i.connectionType,A=i.layoutType,f=i.renderType,p=i.creativeType,v=i.eventTracking;this.adProviderName=c,this.connectionType=h,this.layoutType=A,this.renderType=f,this.creativeType=p,this.responseSize,this.info=t,this.divId=d,this.eventNotifier=a,this.timeoutManager=s,this.adapterManager=o,this.adProvider=i,this.adInfo=l,this.eventTracking=r,this.adEvtTrk=v}return x()(e,[{key:"handle",value:function(){var e=s()(r.a.mark(function t(){var e,n,i,a,s,o,u,d,l,c,h,A,f,p,g,y=this;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.timeoutManager,n=this.adapterManager,i=this.adInfo,a=i.sdkRequestInfo,s=a.AD_UNIT_CODE,o=a.NETWORK_CODE,u=i.requestSizes,d=this.info,l=d.divId,c=d.mediaParams,c.contentKeywords,h=Ae()(c,["contentKeywords"]),e.initTimer(this),t.prev=5,t.next=8,we.load();case 8:this.googletag=window.googletag||{},(A=this.googletag).cmd=A.cmd||[],f="/".concat(o,"/").concat(s),p=u.map(,A.cmd.push(function(){try{var e=A.defineSlot(f,p,l);y.slot=e,null!==e?(e.addService(A.pubads()),v()(F()(h),,e.setCollapseEmptyDiv(!0),A.pubads().enableSingleRequest(),A.enableServices()):A.pubads().refresh()}catch(t){}}),n.fireEvent({name:Fe}),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](5),g={params:{st:Le.STAT_CODE_ERROR,erc:Ce.LOAD_ERROR_AD_SELECTION,erm:"GPT_LIB_LOAD_FAILED"}},e.fireEvent({name:Re,evtData:g});case 21:case"end":return t.stop()}},t,this,[[5,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"display",value:function(){var e=this,t=this.info.divId,n=this.googletag;n.cmd.push(}},{key:"setGptEventListener",value:function(){var e=this,t=this.info.divId;this.googletag.pubads().addEventListener("slotRenderEnded",function(n){if(null!=e.slot)try{if(n.slot==e.slot){var i=!n.isEmpty;if(e.responseSize=n.size,i)e.timeoutManager.fireEvent({name:Te}),e.addEventListener(t);else{var r={params:{st:Le.STAT_CODE_NO_FILL,erc:Ce.LOAD_ERROR_AD_SELECTION_NO_FILL,erm:"GPT_AD_LOAD_FAILED_NO_FILL"}};e.timeoutManager.fireEvent({name:Re,evtData:r})}}}catch(s){var a={params:{st:Le.STAT_CODE_ERROR,erc:Ce.LOAD_ERROR_AD_SELECTION,erm:"GPT_AD_LOAD_FAILED"}};e.timeoutManager.fireEvent({name:Re,evtData:a})}})}},{key:"addEventListener",value:function(e){var t=this.adapterManager,n=this.adProvider,i=this.getGfpAd,r=this.initActiveView,a=this.eventNotifier,s=this.eventTracking,o=this.adEvtTrk,u=this.creativeType,d=this.responseSize,l=t.callLogs,c=s.ackImpressions,h=s.renderedImpressions,A=s.viewableImpressions,f=o.ackImpressions,p=o.renderedImpressions,v=o.viewableImpressions,g=n.encrypted,y=t.activeViewConfig,m=D.a.getAdunitLayoutTypes(),E=this.layoutType===m.FLUID,I=window.da_scroll_target?window.da_scroll_target.targetEl:window,_=document.getElementById(e),S=document.getElementById(e),k={ct:u,sz:d&&d[0]&&d[1]?"".concat(d[0],"x").concat(d[1]):""};r(ke({scrollTarget:I,divId:e,container:S,callback:function(){_e.validateNode(_)||(l(v,null,null,"dsp viewable imp url"),l(A,g,k,"ssp viewable imp(gpt) url"))},fluid:E},y)),l(f,null,null,"ads ack url"),l(c,g,ke({st:Le.STAT_CODE_SUCCESS},k),"ssp ack(dsp) url"),a.notifyAdLoaded(i()),l(p,null,null,"dsp render imp url"),l(h,g,k,"ssp render imp(gpt) url"),a.notifyAdImpression(i())}},{key:"initActiveView",value:function(e){try{var t=e.divId;spwp.activeViews[t]=spwp.activeViews[t]||null,spwp.activeViews[t]&&(spwp.activeViews[t].clearActiveView(),spwp.activeViews[t]=null),spwp.activeViews[t]=new me(e),spwp.activeViews[t].checkActiveView()}catch(n){}}},{key:"initClickEventHander",value:function(e){var t=this.adapterManager,n=this.adProvider,i=this.eventTracking,r=this.adEvtTrk,a=this.creativeType,s=this.responseSize,o=i.clicks,u=r.clicks,d=n.encrypted,l=t.callLogs,c=e.contentDocument.querySelectorAll("a"),h={ct:a,sz:s&&s.width&&s.height?"".concat(s.width,"x").concat(s.height):""};Array.prototype.forEach.call(c,function(e){e.addEventListener("click",function(e){l(u,null,null,"ads click url"),l(o,d,h,"ssp click(gpt) url")},!1)})}},{key:"reset",value:function(){var e=this;if("undefined"!=typeof googletag&&googletag.apiReady!==undefined)googletag.destroySlots([this.slot]),googletag.pubads().clear([this.slot]);else{this.googletag=window.googletag||{};var t=this.googletag;t.cmd=t.cmd||[],t.cmd.push(function(){t.destroySlots([e.slot]),t.pubads().clear([e.slot])})}var n=this.divId;spwp.activeViews[n]&&(spwp.activeViews[n].clearActiveView(),spwp.activeViews[n]=null),this.timeoutManager.clearDefaultTimeout()}}]),e}(),Ne=n(6);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach(function(t){u()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ue=H.Type,Ve=Ue.MEDIATION_READY,We=(Ue.MEDIATION_FAILED,$.Type.AD_LOAD_ERROR),Ge=$.ERRORS.NO_FILL,je=Ge.code,Xe=Ge.message,He=$.LOAD_STAT_CODE,qe=function(){function e(t){var n=this;N()(this,e),u()(this,"resetContainer",function(){var e=n.divId,t=document.getElementById(e);t&&(t.innerHTML="",t.style.display="block")}),u()(this,"addEventListener",function(){var e=n.adapterManager,t=n.adProvider,i=n.eventTracking,r=n.adEvtTrk,a=n.encrypted,s=n.divId,o=t.renderedImpressed,u=void 0!==o&&o,d=t.viewableImpressed,l=void 0!==d&&d,c=e.activeViewConfig,h=e.callLogs,A=i.renderedImpressions,f=i.viewableImpressions,p=r.renderedImpressions,v=r.viewableImpressions;u||(h(p,null,null,"dsp render(empty) imp url"),h(A,a,null,"ssp render(empty) imp url"),n.setPersistAdData({renderedImpressed:!0}));var g=window.da_scroll_target?window.da_scroll_target.targetEl:window,y=document.getElementById(s);l||Ke(xe({scrollTarget:g,divId:s,container:y,callback:function(){var e,t=document.getElementById(s);_e.validateNode(t)||!spwp.activeViews[s]||null!==(e=spwp.activeViews[s])&&void 0!==e&&e.onceCalled||(spwp.activeViews[s].onceCalled=!0,h(v,null,null,"dsp viewable(empty) imp url"),h(f,a,null,"ssp viewable(empty) imp url"),n.setPersistAdData({viewableImpressed:!0}))}},c))});var i=t.adProvider,r=t.eventTracking,a=t.eventNotifier,s=t.adapterManager,o=t.divId,d=i.encrypted,l=i.eventTracking;this.adProvider=xe({},i),this.eventNotifier=a,this.adapterManager=s,this.eventTracking=r,this.adEvtTrk=l,this.encrypted=d,this.divId=o}return x()(e,[{key:"handle",value:function(){var e=this.adapterManager,t=this.eventNotifier,n=this.adEvtTrk,i=this.eventTracking,r=this.encrypted,a=(this.location,e.callLogs),s=i.ackImpressions,o=n.ackImpressions,u={st:He.STAT_CODE_NO_FILL};e.isPersist||(this.setPersistAdData({renderedImpressed:!1,viewableImpressed:!1}),a(o,null,null,"ads ack(empty) url"),a(s,r,u,"ssp ack(empty) url")),t.notifyAdFailedToLoad({code:je,message:Xe,type:We}),e.fireEvent({name:Ve})}},{key:"display",value:function(){var e=this.adapterManager,t=this.resetContainer,n=this.addEventListener,i=this.divId,r=e.renderConfig.preload;document.getElementById(i)&&(t(),r||n())}},{key:"setPersistAdData",value:function(e){var t=this.eventTracking,n=this.divId;P.support()&&(this.adProvider=xe(xe({},this.adProvider),e),P.setPersistAdData("".concat(Ne.a.getDocumentLocationURL(),"_").concat(n),{adProvider:this.adProvider,eventTracking:t,divId:n}))}},{key:"initEvent",value:function(){var e=this.addEventListener,t=this.divId;document.getElementById(t)&&e()}},{key:"reset",value:function(){var e=this.divId;spwp.activeViews[e]&&(spwp.activeViews[e].clearActiveView(),spwp.activeViews[e]=null)}}]),e}(),Ke=function(e){try{var t=e.divId;spwp.activeViews[t]=spwp.activeViews[t]||null,spwp.activeViews[t]&&(spwp.activeViews[t].clearActiveView(),spwp.activeViews[t]=null),spwp.activeViews[t]=new me(e),spwp.activeViews[t].checkActiveView()}catch(n){}},ze=qe,Qe=n(86),Ze=n.n(Qe),Ye="ready",Je="initEvent",$e="rendered",et="viewable",tt="hostMetaChange",nt=n(27);unction rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach(function(t){u()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var st=D.a.getAdunitLayoutTypes(),ot=$.LOAD_STAT_CODE,ut=$.ERROR_DETAIL_CODE,dt=Ie.Type,lt=dt.LOAD_SUCCESS,ct=dt.LOAD_FAILED,ht=H.Type,At=ht.MEDIATION_READY,ft=(ht.MEDIATION_FAILED,Ye),pt=Je,vt=$e,gt=et,yt=tt,mt=function(){function e(t){var n,i,r=this;N()(this,e),u()(this,"onAdMuteCompleted",function(){var e=r.adapterManager,t=r.eventTracking,n=r.adProvider,i=r.eventNotifier,a=r.getGfpAd,s=n.encrypted;(0,e.callLogs)(t.mute,s,null,"AD_MUTE_COMPLETED"),i.notifyAdMuteCompleted(a())}),u()(this,"onMuteStateChanged",function(e){e&&P.setAdMuteState("".concat(Ne.a.getDocumentLocationURL(),"_").concat(r.divId),e)}),u()(this,"renderAdm",function(){var e=r.initClickEventHander,t=r.adProvider,n=r.divId,i=r.renderDirectlyInHost,a=t.adInfo,s=a.adm,o=a.encoded,u=document.getElementById(n);if(u.innerHTML="",r.adm=1===o?decodeURIComponent(s):s,-1!==s.indexOf("ssp_script")||i){r.adMuteHandler.shouldRemoveAdMarkLegacy()?u.innerHTML=nt.a.replaceAdmToRemoveAdMarkLegacy(r.adm):u.innerHTML=r.adm;var d=u.getElementsByTagName("script");Array.prototype.forEach.call(d,function(e){if(""!==e.src){var t=document.createElement("script");t.src=e.src,e.parentNode.replaceChild(t,e)}else new Function(e.innerText).call()}),e(u)}else{var l=document.createElement("script");r.adMuteHandler.shouldRemoveAdMarkLegacy()?l.innerHTML=nt.a.replaceAdmToRemoveAdMarkLegacy(r.adm):l.innerHTML=r.adm,document.getElementsByTagName("head")[0].appendChild(l)}}),u()(this,"addEventListener",function(){var e=r.adapterManager,t=r.initActiveView,n=r.callback,i=r.adProvider,a=r.eventTracking,s=r.divId,o=r.layoutType,u=r.creativeType,d=r.responseSize,l=e.activeViewConfig,c=e.callLogs,h=i.encrypted,A=i.eventTracking,f=i.renderedImpressed,p=void 0!==f&&f,v=i.viewableImpressed,g=void 0!==v&&v,y=a.renderedImpressions,m=A.renderedImpressions,E=o===st.FLUID,D=window.da_scroll_target?window.da_scroll_target.targetEl:window,I=document.getElementById(s);g||t(at({scrollTarget:D,divId:s,container:I,callback:n,fluid:E},l));var _={sdkVersion:"1.3.6",os:"Web",osVersion:window.navigator.appVersion};r.fireEvent({evtType:ft,evtData:_});var S={ct:u,sz:d&&d.width&&d.height?"".concat(d.width,"x").concat(d.height):""};p||(c(m,null,null,"dsp render imp(js) url"),c(y,h,S,"ssp render imp(js) url"),r.setPersistAdData({renderedImpressed:!0}),r.fireEvent({evtType:vt}))}),u()(this,"callback",function(){var e,t=r.adapterManager,n=r.adProvider,i=r.eventTracking,a=r.divId,s=r.eventNotifier,o=r.getGfpAd,u=r.fireEvent,d=r.creativeType,l=r.responseSize,c=t.callLogs,h=n.encrypted,A=n.eventTracking,f=i.viewableImpressions,p=A.viewableImpressions,v=document.getElementById(a);if(!_e.validateNode(v)&&spwp.activeViews[a]&&(null===(e=spwp.activeViews[a])||void 0===e||!e.onceCalled)){spwp.activeViews[a].onceCalled=!0,u({evtType:gt});var g={ct:d,sz:l&&l.width&&l.height?"".concat(l.width,"x").concat(l.height):""};c(p,null,null,"dsp viewable imp(js) url"),c(f,h,g,"ssp viewable imp(js) url"),s.notifyAdImpression(o()),r.setPersistAdData({viewableImpressed:!0})}}),u()(this,"initClickEventHander",function(e){var t=r.adapterManager,n=r.getGfpAd,i=r.adProvider,a=r.eventTracking,s=r.eventNotifier,o=r.creativeType,u=r.responseSize,d=t.callLogs,l=i.encrypted,c=i.eventTracking,h=a.clicks,A=c.clicks;if(e){var f=e.querySelectorAll("[data-ssp='clk']");f&&0!==f.length||(f=e.querySelectorAll("a"));var p={ct:o,sz:u&&u.width&&u.height?"".concat(u.width,"x").concat(u.height):""};Array.prototype.forEach.call(f,function(e){e.addEventListener("click",function(e){d(A,null,null,"ads click url"),d(h,l,p,"ssp click(ndp) url"),s.notifyAdClicked(n())},!1),ye()&&e.setAttribute("target","_top")})}}),u()(this,"initActiveView",function(e){try{var t=e.divId;spwp.activeViews[t]=spwp.activeViews[t]||null,spwp.activeViews[t]&&(spwp.activeViews[t].clearActiveView(),spwp.activeViews[t]=null),spwp.activeViews[t]=new me(e),spwp.activeViews[t].checkActiveView()}catch(n){}}),u()(this,"getGfpAd",function(){var e=r.adProviderName;return new Ee({adProvider:e})}),u()(this,"fireEvent",function(e){var t=e.evtType,n=e.evtData;if(r.cbInfo!==undefined){var i=r.cbInfo,a=i.callback,s=i.eventList;if(i&&a)"function"==typeof a&&t===gt&&a.call();else if(i&&s)switch(t){case ft:case yt:"object"===ge()(s)&&"function"==typeof s[t]&&s[t].call(null,n);break;case vt:case gt:case pt:"object"===ge()(s)&&"function"==typeof s[t]&&s[t].call()}}}),u()(this,"onAdLoad",,u()(this,"onAdLoadFailed",function(){var e=r.adapterManager,t=r.eventTracking.startErrors,n=r.adProvider.encrypted;(0,e.callLogs)(t,n,{st:ot.STAT_CODE_TIMEOUT,erc:ut.START_ERROR,erm:"NDP_LIB_LOAD_FAILED"},"ssp start error(js) url")}),u()(this,"process",function(){for(;r.cmd.length>0;)try{r.cmd.shift().call()}catch(e){}});var a=t.adProvider,s=t.eventTracking,o=t.unitId,d=t.divId,l=t.eventNotifier,c=t.hostMeta,h=t.timeoutManager,A=t.adapterManager,f=t.renderDirectlyInHost,p=void 0!==f&&f,v=a.adInfo,g=a.adProviderName,y=a.connectionType,m=a.layoutType,E=a.renderType,D=a.creativeType,I=v.responseSize,_=v.adchoice;this.adProvider=at({},a),this.eventTracking=s,this.eventNotifier=l,this.timeoutManager=h,this.adapterManager=A,this.renderDirectlyInHost=p,this.unitId=o,this.divId=d,this.adProviderName=g,this.connectionType=y,this.layoutType=m,this.renderType=E,this.creativeType=D,this.responseSize=I,this.cbInfo,this.hostMeta=c,this.cmd=[];var S="init";A.isPersist&&(S=P.getAdMuteState("".concat(Ne.a.getDocumentLocationURL(),"_").concat(this.divId))||"init");var k=J.IS_IE&&"UTF-8"!==(null===(n=document)||void 0===n?void 0:null===(i=n.characterSet)||void 0===i?void 0:i.toUpperCase());this.adMuteHandler=new nt.a(_,D,d,"NDP_JS",S,k)}return x()(e,[{key:"handle",value:function(){var e=s()(r.a.mark(function t(){var e,n,i,a,s,o,u,d,l,c,h,A,f,p;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.adapterManager,n=this.adProvider,i=this.eventTracking,a=this.eventNotifier,s=this.getGfpAd,o=this.timeoutManager,u=this.creativeType,d=this.responseSize,l=e.callLogs,c=n.encrypted,h=n.eventTracking,A=i.ackImpressions,f=h.ackImpressions,p={st:ot.STAT_CODE_SUCCESS,ct:u,sz:d&&d.width&&d.height?"".concat(d.width,"x").concat(d.height):""},o.initTimer(this),e.isPersist||(P.setAdMuteState("".concat(Ne.a.getDocumentLocationURL(),"_").concat(this.divId),"init"),this.setPersistAdData({renderedImpressed:!1,viewableImpressed:!1}),l(f,null,null,"ads ack(js) url"),l(A,c,p,"ssp ack(js) url")),a.notifyAdLoaded(s()),t.next=11,this.loadLib();case 11:case"end":return t.stop()}},t,this)}));return function(){return e.apply(this,arguments)}}()},{key:"display",value:function(){var e=this.adapterManager,t=this.renderAdm,n=this.addEventListener,i=this.divId,r=e.renderConfig.preload;document.getElementById(i)&&(t(),r||n())}},{key:"setPersistAdData",value:function(e){var t=this.eventTracking,n=this.divId;if(P.support()){var i="".concat(Ne.a.getDocumentLocationURL(),"_").concat(n),r=P.getAdMuteState(i);this.adProvider=at(at({},this.adProvider),e),P.setPersistAdData(i,{adProvider:this.adProvider,eventTracking:t,divId:n,muteState:r})}}},{key:"initEvent",value:function(){var e=this,t=this.addEventListener,n=this.divId;document.getElementById(n)&&(t(),this.cmd.push(,this.cbInfo&&this.cbInfo.eventList&&this.cbInfo.eventList[pt]&&this.process())}},{key:"loadLib",value:function(){var e=s()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.timeoutManager,t.prev=1,t.next=4,spwp.resourceLoader.saveAndLoad("moSspVetaCore","javascript",(n=void 0,void 0,void 0,void 0,void 0,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var a=i[i.length-1]||{},s=[e[0]];return n.forEach(function(t,n){var r=t)?i[t]:a[t];s.push(r,e[n+1])}),s.join("")}}(it(),"protocol","ndpCdnDomain"),i="https:"==document.location.protocol,r=i?"https:":"http:",a=D.a.getNdpCdnDomain(),n({protocol:r,ndpCdnDomain:a})));case 4:e.fireEvent({name:lt}),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](1),e.fireEvent({name:ct});case 11:case"end":return t.stop()}var n,i,r,a},t,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"setHostMeta",value:function(e){var t=this.fireEvent;this.hostMeta=e,t({evtType:yt,evtData:this.hostMeta}),this.adMuteHandler.setAdThemeByHostMeta(this.hostMeta)}},{key:"onLoadAdm",value:function(e){(0,this.initClickEventHander)(document.getElementById(e)),this.adMuteHandler.initAdMute(this.onAdMuteCompleted,this.onMuteStateChanged),this.adMuteHandler.setAdThemeByHostMeta(this.hostMeta)}},{key:"addCallback",value:function(e){var t=this.fireEvent;this.cbInfo=e,t({evtType:yt,evtData:this.hostMeta}),this.cbInfo&&this.cbInfo.eventList&&this.cbInfo.eventList[pt]&&this.process()}},{key:"reset",value:function(){var e=this.divId;spwp.activeViews[e]&&(spwp.activeViews[e].clearActiveView(),spwp.activeViews[e]=null),this.timeoutManager.clearDefaultTimeout(),this.adMuteHandler.destroy()}}]),e}();var Et=Ie.Type.LOAD_SUCCESS,Dt=function(){function e(t){N()(this,e);var n=t.divId,i=t.innerWraper,r=t.frame,a=t.fluid,s=t.frameWidth,o=t.frameHeight,u=t.eventNotifier,d=t.timeoutManager,l=t.sfRequestAdapter,c=t.hostId;this.divId=n,this.innerWraper=i,this.frame=r,this.fluid=a,this.initFrameWidth=s,this.initFrameHeight=o,this.eventNotifier=u,this.container=document.getElementById(n),this.frameWindow=this.frame.contentWindow,this.timeoutManager=d,this.sfRequestAdapter=l,this.hostId=c}return x()(e,[{key:"addEventListener",value:function(){try{window.addEventListener("scroll",this,!1),window.addEventListener("resize",this,!1),window.addEventListener("orientationchange",this,!1),window.addEventListener("message",this,!1)}catch(e){}}},{key:"removeEventListener",value:function(){window.removeEventListener("scroll",this,!1),window.removeEventListener("resize",this,!1),window.removeEventListener("orientationchange",this,!1),window.removeEventListener("message",this,!1)}},{key:"handleEvent",value:function(e){try{switch(e.type){case"scroll":this.updatePosInfo(e);break;case"resize":case"orientationchange":this.updatePosInfo(e);break;case"message":this.handleMsgEvt(e)}}catch(e){}}},{key:"updatePosInfo",value:function(e){var t={evtType:"pos-update",parInfo:{}};t.parInfo.innerWidth=window.innerWidth?window.innerWidth:0,t.parInfo.innerHeight=window.innerHeight?window.innerHeight:0,t.parInfo.pageXOffset=window.pageXOffset?window.pageXOffset:0,t.parInfo.pageYOffset=window.pageYOffset?window.pageYOffset:0,t.parInfo.screenWidth=window.screen&&window.screen.width?window.screen.width:0,t.parInfo.screenHeight=window.screen&&window.screen.height?window.screen.height:0,t.parInfo.offsetTop=this.offset(this.container).top,t.parInfo.offsetLeft=this.offset(this.container).left,this.sendMsgtoSafeFrame(t)}},{key:"sendMsgtoSafeFrame",value:,{key:"handleMsgEvt",value:function(e){var t=e.data,n=t.frameId,i=t.evtType,r=t.params,a=t.hostId;if(this.frame.id===n)switch(i){case"load-sf":this._load_safeframe(r);break;case"register-sf":this._register_safeframe(r);break;case"set-fluid-sf":this._set_fluid_safeframe(r);break;case"init-sf":this._init_safeframe(r);break;case"expand-sf":this._expand_safeframe(r);break;case"collapse-sf":this._collapse_safeframe(r);break;case"adclick-sf":if(this.hostId!==a)return;this._adclick_safeframe(r);break;case"touchstart-sf":this._handle_touchstart_safeframe();break;case"adMuteCompleted-sf":this._handle_admute_completed();break;case"muteStateChanged-sf":this._handle_mute_state_changed(r)}}},{key:"offset",value:function(e){var t,n,i={top:0,left:0},r=e&&e.ownerDocument;if(r)return t=r.documentElement,"undefined"!==ge()(e.getBoundingClientRect)&&(i=e.getBoundingClientRect()),n=this.getWindow(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}}},{key:"getWindow",value:function(e){return e&&e===e.window?e:9===e.nodeType&&e.defaultView}},{key:"clearHost",value:function(){this.removeEventListener()}},{key:"_load_safeframe",value:function(e){var t=this.timeoutManager,n=this.frame;t.fireEvent({name:Et}),n.name=""}},{key:"_register_safeframe",value:function(e){this.sfRequestAdapter.onRegisterCallback()}},{key:"_set_fluid_safeframe",value:function(e){var t=e.frameHeight;this.initFrameHeight=t,this.frame.style.cssText="width:100%;height:".concat(t,"px;visibility: inherit; display: block; border: 0px; vertical-align: bottom;")}},{key:"_init_safeframe",value:function(e){var t=e.initWidth,n=e.initHeight,i=this.fluid;i||(this.initFrameWidth=t),this.initFrameHeight=n;var r=i?"100%":"".concat(t,"px"),a=i?"auto":"".concat(n,"px"),s=i?"100%":"".concat(t,"px"),o="".concat(n,"px"),u=i?"":"position:relative;",d=i?"":"position:absolute;";this.innerWraper.style.cssText="width:".concat(r,";height:").concat(a,";margin:0 auto;").concat(u),this.frame.style.cssText="width:".concat(s,";height:").concat(o,";visibility: inherit; display: block; border: 0px; vertical-align: bottom;").concat(d)}},{key:"_expand_safeframe",value:function(e){var t=e.deltaX,n=e.deltaY,i=e.position,r=e.easing,a=this.fluid?"100%":"".concat(t?this.initFrameWidth+t:this.initFrameWidth,"px"),s="".concat(n?this.initFrameHeight+n:this.initFrameHeight,"px"),o=a,u=this.fluid?"auto":s;this.innerWrapperPos=this.fluid?"":"position:relative;",this.safeFramePos=this.fluid?"":"position:absolute;",this.easingOpt=r?"transition: width 0.4s ease-in-out, height 0.4s;":"";var d=l()(F()(i),.join(";");this.innerWraper.style.cssText="width: ".concat(o,"; height: ").concat(u,"; margin: 0 auto; z-index: 3000; ").concat(this.easingOpt," ").concat(this.innerWrapperPos," "),this.frame.style.cssText="width: ".concat(a,"; height: ").concat(s,"; visibility: inherit; display: block; border: 0px; vertical-align: bottom; z-index: 3000; ").concat(this.easingOpt).concat(this.safeFramePos).concat(d," ")}},{key:"_collapse_safeframe",value:function(){var e=this.fluid?"100%":"".concat(this.initFrameWidth,"px"),t="".concat(this.initFrameHeight,"px"),n=e,i=this.fluid?"auto":t;this.innerWraper.style.cssText="width: ".concat(n,"; height: ").concat(i,"; margin: 0 auto; z-index: 0; ").concat(this.easingOpt," ").concat(this.innerWrapperPos," "),this.frame.style.cssText="width: ".concat(e,"; height: ").concat(t,"; visibility: inherit; display: block; border: 0px; vertical-align: bottom; z-index: 0; ").concat(this.easingOpt," ").concat(this.safeFramePos," ")}},{key:"_adclick_safeframe",value:,{key:"_handle_touchstart_safeframe",value:function(){"object"===("undefined"==typeof TEvent?"undefined":ge()(TEvent))&&"function"==typeof TEvent.touchStartEvent&&TEvent.touchStartEvent()}},{key:"_handle_admute_completed",value:function(){this.sfRequestAdapter.onAdMuteCompleted()}},{key:"_handle_mute_state_changed",value:function(e){this.sfRequestAdapter.onMuteStateChanged(null===e||void 0===e?void 0:e.muteState)}}]),e}(),It=[],_t=D.a.getRenderTypes(),St=D.a.getAdunitLayoutTypes(),kt=Ie.Type.LOAD_SUCCESS;function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach(function(t){u()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ct=D.a.getAdunitLayoutTypes(),Ot=$.LOAD_STAT_CODE,Tt=$.ERROR_DETAIL_CODE,Rt=H.Type,bt=Rt.MEDIATION_READY,Ft=(Rt.MEDIATION_FAILED,Ye),Pt=$e,Mt=et,Nt=tt,Bt=function(){function e(t){var n=this;N()(this,e),u()(this,"addEventListener",function(){var e=n.adapterManager,t=n.initActiveView,i=n.fireSfEvent,r=n.callback,a=n.adProvider,s=n.eventTracking,o=n.divId,u=n.layoutType,d=n.creativeType,l=n.responseSize,c=e.callLogs,h=a.encrypted,A=a.eventTracking,f=a.renderedImpressed,p=void 0!==f&&f,v=a.viewableImpressed,g=void 0!==v&&v,y=s.renderedImpressions,m=A.renderedImpressions,E=e.activeViewConfig,D=u===Ct.FLUID,I=window.da_scroll_target?window.da_scroll_target.targetEl:window,_=document.getElementById(o);g||t(Lt({scrollTarget:I,divId:o,container:_,callback:r,fluid:D},E));var S={sdkVersion:"1.3.6",os:"Web",osVersion:window.navigator.appVersion};i({evtType:Ft,sdkEnv:S});var k={ct:d,sz:l&&l.width&&l.height?"".concat(l.width,"x").concat(l.height):""};p||(c(m,null,null,"dsp render imp url"),c(y,h,k,"ssp render imp(sf) url"),i({evtType:Pt}),n.setPersistAdData({renderedImpressed:!0}))}),u()(this,"onAdLoad",function(){var e=n.adapterManager,t=n.addEventListener,i=n.process,r=(n.divId,e.renderConfig.preload);n.sfLoaded=!0,r?i():t()}),u()(this,"onAdLoadFailedTimeout",function(){var e=n.adapterManager,t=n.eventTracking.startErrors,i=n.adProvider.encrypted,r=n.divId,a=e.callLogs;document.getElementById(r);if(document.getElementById("".concat(r,"_tgtLREC"))){var s={st:Ot.STAT_CODE_TIMEOUT,erc:Tt.START_ERROR,erm:"SF_LOAD_FAILED_TIMEOUT"};a(t,i,s,"ssp start error(sf) url")}}),u()(this,"onAdClicked",function(){var e=n.adapterManager,t=n.eventTracking,i=n.adProvider,r=i.encrypted,a=i.eventTracking,s=n.creativeType,o=n.responseSize,u=e.callLogs,d=t.clicks,l=a.clicks,c={ct:s,sz:o&&o.width&&o.height?"".concat(o.width,"x").concat(o.height):""};u(l,null,null,"dsp clk(sf) url"),u(d,r,c,"ssp clk(sf) url")}),u()(this,"onAdMuteCompleted",function(){var e=n.adapterManager,t=n.eventTracking,i=n.adProvider,r=n.eventNotifier,a=n.getGfpAd,s=i.encrypted;(0,e.callLogs)(t.mute,s,null,"AD_MUTE_COMPLETED"),r.notifyAdMuteCompleted(a())}),u()(this,"onMuteStateChanged",function(e){e&&P.setAdMuteState("".concat(Ne.a.getDocumentLocationURL(),"_").concat(n.divId),e)}),u()(this,"callback",function(){var e,t=n.adapterManager,i=n.adProvider,r=n.eventTracking,a=n.divId,s=n.eventNotifier,o=n.getGfpAd,u=n.fireSfEvent,d=n.creativeType,l=n.responseSize,c=t.callLogs,h=i.encrypted,A=i.eventTracking,f=r.viewableImpressions,p=A.viewableImpressions,v=document.getElementById(a);if(!_e.validateNode(v)&&(spwp.activeViews[a]&&(null===(e=spwp.activeViews[a])||void 0===e||!e.onceCalled)&&(spwp.activeViews[a].onceCalled=!0,document.getElementById("".concat(a,"_tgtLREC"))))){u({evtType:Mt});var g={ct:d,sz:l&&l.width&&l.height?"".concat(l.width,"x").concat(l.height):""};c(p,null,null,"dsp viewable imp url"),c(f,h,g,"ssp viewable imp(sf) url"),s.notifyAdImpression(o()),n.setPersistAdData({viewableImpressed:!0})}}),u()(this,"fireSfEvent",function(e){var t=n.divId,i=document.getElementById("".concat(t,"_tgtLREC"));i&&i.contentWindow.postMessage(e,"*")}),u()(this,"initActiveView",function(e){try{var t=e.divId;spwp.activeViews[t]=spwp.activeViews[t]||null,spwp.activeViews[t]&&(spwp.activeViews[t].clearActiveView(),spwp.activeViews[t]=null),spwp.activeViews[t]=new me(e),spwp.activeViews[t].checkActiveView()}catch(n){}}),u()(this,"getGfpAd",function(){var e=n.adProviderName;return new Ee({adProvider:e})}),u()(this,"process",function(){for(;n.cmd.length>0;)try{n.cmd.shift().call()}catch(e){}});var i=t.adProvider,r=t.eventTracking,a=t.unitId,s=t.divId,o=t.eventNotifier,d=t.hostMeta,l=t.timeoutManager,c=t.adapterManager,h=i.adInfo,A=i.adProviderName,f=i.connectionType,p=i.layoutType,v=i.renderType,g=i.creativeType,y=i.encrypted,m=i.eventTracking,E=h.responseSize,D=r.clicks,I=m.clicks;this.adProvider=Lt({},i),this.eventTracking=r,this.eventNotifier=o,this.timeoutManager=l,this.adapterManager=c,this.unitId=a,this.divId=s,this.adProviderName=A,this.connectionType=f,this.layoutType=p,this.renderType=v,this.creativeType=g,this.responseSize=E,this.hostMeta=d,this.adClks=I,this.sspClks=D.map(function(e){return{url:"".concat(e.url).concat(y)}}),this.cmd=[],this.sfLoaded=!1}return x()(e,[{key:"handle",value:function(){var e=this.adapterManager,t=this.adProvider,n=this.sspClks,i=this.adClks,r=this.eventTracking,a=this.eventNotifier,s=this.divId,o=this.getGfpAd,u=this.hostMeta,d=this.timeoutManager,l=this.creativeType,c=this.responseSize,h=e.callLogs,A=t.encrypted,f=t.eventTracking,p=r.ackImpressions,v=f.ackImpressions,g={st:Ot.STAT_CODE_SUCCESS,ct:l,sz:c&&c.width&&c.height?"".concat(c.width,"x").concat(c.height):""};d.initTimer(this),this.sfRenderer=function(e){var t=e.adProvider,n=e.divId,i=e.sspClks,r=e.adClks,a=e.eventNotifier,s=e.hostMeta,o=e.timeoutManager,u=e.clickParams,d=e.sfRequestAdapter,l=t.adInfo,c=t.layoutType,h=t.renderType,A=t.creativeType,f=l.adm,p=l.adUrl,v=l.responseSize,g=l.encoded,y=l.adchoice,m=c===St.FLUID,E=function(e){try{var t=m?"100%":window.parseInt(v.width),n=m?0:window.parseInt(v.height),i=document.createElement("div"),r=document.createElement("iframe"),a='<!DOCTYPE html>\n\t\t\t<html>\n\t\t\t\t<head>\n\t\t\t\t\t<meta charset="utf-8"/>\n\t\t\t\t\t<meta http-equiv="imagetoolbar" content="no"/>\n\t\t\t\t\t<meta http-equiv="imagetoolbar" content="false"/>\n\t\t\t\t\t<meta name="ROBOTS" content="NOINDEX"/>\n\t\t\t\t\t<meta name="ROBOTS" content="NOFOLLOW"/>\n\t\t\t\t\t<meta name="ROBOTS" content="NOARCHIVE"/>\n\t\t\t\t\t<meta name="ROBOTS" content="NOSNIPPET"/>\n\t\t\t\t\t<meta name="ROBOTS" content="NOODP"/>\n\t\t\t\t\t<base target="_top"/>\n\t\t\t\t\t<title></title>\n\t\t\t\t\t<script type="text/javascript">window.onerror = function () { return true; };<\/script>\n\t\t\t\t\t<style type="text/css">\n\t\t\t\t\t\t#sf_body {\n\t\t\t\t\t\t\tmin-width: 100%;\n\t\t\t\t\t\t\twidth: 1px;\n\t\t\t\t\t\t\tmargin: 0px;\n\t\t\t\t\t\t\tpadding: 0px;\n\t\t\t\t\t\t\tbackground-color: transparent;\n\t\t\t\t\t\t}\n\t\t\t\t\t</style>\n\t\t\t\t</head>\n\t\t\t\t<body id="sf_body">\n\t\t\t\t\t<div class="sf" id="sf_align">\n\t\t\t\t\t\t<script src="'.concat(D.a.getSafeFrameExtLibPath(),"?sv=").concat(spwp.version,'"><\/script>\n\t\t\t\t\t</div>\n\t\t\t\t</body>\n\t\t\t</html>');_({container:e,innerWraper:i,frame:r,isSafeFrame:!1});var s=S(),o=s.hostId;r.name=JSON.stringify(s),i.appendChild(r);var u=setInterval(function(){r.contentWindow&&r.contentWindow.document&&(r.contentWindow.document.open(),r.contentWindow.document.write(a),r.contentWindow.document.close(),clearInterval(u))},10);w({innerWraper:i,frame:r,frameWidth:t,frameHeight:n,hostId:o})}catch(d){}},I=function(e){try{var t=m?"100%":window.parseInt(v.width),n=m?0:window.parseInt(v.height),i=document.createElement("div"),r=document.createElement("iframe");_({container:e,innerWraper:i,frame:r,isSafeFrame:!0});var a=S();r.name=JSON.stringify(a),i.appendChild(r),w({innerWraper:i,frame:r,frameWidth:t,frameHeight:n})}catch(s){}},_=function(e){var t=e.container,i=e.innerWraper,r=e.frame,a=e.isSafeFrame,s=m?"100%":"".concat(window.parseInt(v.width),"px"),o=m?"auto":"".concat(window.parseInt(v.height),"px"),u=m?"100%":window.parseInt(v.width),d=m?0:window.parseInt(v.height),l=m?"100%":"".concat(u,"px"),c=m?0:"".concat(d,"px"),h=m?"":"position:relative;",A=m?"":"position:absolute;";i.style.cssText="width:".concat(s,";height:").concat(o,";margin:0 auto;").concat(h),t.appendChild(i),r.id="".concat(n,"_tgtLREC"),a&&(r.src=D.a.getSafeFrameContainerPath("https:")),r.style.cssText="width:".concat(l,";height:").concat(c,";visibility: inherit; display: block; border: 0px; vertical-align: bottom;").concat(A),r.frameBorder="no",r.scrolling="no",r.tabindex="-1",J.IS_IE&&r.setAttribute("allowtransparency","true")},S=function(){var e,t,a={};if(void 0!==f)a.html=1===g?decodeURIComponent(f):f;else if(void 0!==p){var o="<script type='text/javascript' src='"+p+"'><\/script>";a.html=o}a.frameId="".concat(n,"_tgtLREC"),a.fluid=m,a.sspClks=i,a.adClks=r,a.evtType="sf-init",a.hostMeta=JSON.stringify(s),a.clickParams=JSON.stringify(u),a.hostId=Math.floor(1e14*Math.random())+1,a.parInfo=k(),a.adchoice=y,a.creativeType=A,a.divId=n;var l="init";return d.adapterManager.isPersist&&(l=P.getAdMuteState("".concat(Ne.a.getDocumentLocationURL(),"_").concat(n))||"init"),a.initialAdMuteState=l,a.adMuteCacheBurst=J.IS_IE&&"UTF-8"!==(null===(e=document)||void 0===e?void 0:null===(t=e.characterSet)||void 0===t?void 0:t.toUpperCase()),a},k=function(){var e={};return e.innerWidth=window.innerWidth?window.innerWidth:0,e.innerHeight=window.innerHeight?window.innerHeight:0,e.pageXOffset=window.pageXOffset?window.pageXOffset:0,e.pageYOffset=window.pageYOffset?window.pageYOffset:0,e.screenWidth=window.screen&&window.screen.width?window.screen.width:0,e.screenHeight=window.screen&&window.screen.height?window.screen.height:0,e},w=function(e){var t=e.innerWraper,i=e.frame,r=e.frameWidth,s=e.frameHeight,u=e.hostId;try{It[n]=It[n]||null,It[n]&&(It[n].clearHost(),It[n]=null),It[n]=new Dt({divId:n,innerWraper:t,frame:i,fluid:m,frameWidth:r,frameHeight:s,hostId:u,eventNotifier:a,timeoutManager:o,sfRequestAdapter:d}),It[n].addEventListener()}catch(l){}};return{divId:n,initSafeFrame:function(){var e=document.getElementById(n);e&&(e.innerHTML="",h===_t.SAFE_FRAME?J.IS_IE?I(e):E(e):o.fireEvent({name:kt}))},clearHl)}}}({adProvider:t,divId:s,sspClks:n,adClks:i,eventNotifier:a,hostMeta:u,timeoutManager:d,clickParams:g,sfRequestAdapter:this}),e.isPersist||(P.setAdMuteState("".concat(Ne.a.getDocumentLocationURL(),"_").concat(this.divId),"init"),this.setPersistAdData({renderedImpressed:!1,viewableImpressed:!1}),h(v,null,null,"ads ack url"),h(p,A,g,"ssp ack(sf) url")),a.notifyAdLoaded(o()),e.fireEvent({name:bt})}},{key:"display",va{}}},{key:"setPersistAdData",value:function(e){var t=this.eventTracking,n=this.divId;if(P.support()){var i="".concat(Ne.a.getDocumentLocationURL(),"_").concat(n),r=P.getAdMuteState(i);this.adProvider=Lt(Lt({},this.adProvider),e),P.setPersistAdData(i,{adProvider:this.adProvider,eventTracking:t,divId:n,muteState:r})}}},{key:"onRegisterCallback",value:function(){var e=this.fireSfEvent,t=this.hostMeta;e({evtType:Nt,hostMeta:t})}},{key:"initEvent",value:function(){var e=this.addEventListener,t=this.divId;this.cmd.p()}),!0===this.sfLoaded&&this.process()}},{key:"setHostMeta",value:function(e){var t=this.fireSfEvent;this.hostMeta=e,t({evtType:Nt,hostMeta:e})}},{key:"reset",value:function(){var e=this.divId;spwp.activeViews[e]&&(spwp.activeViews[e].clearActiveView(),spwp.activeViews[e]=null),this.sfRenderer&&this.sfRenderer.clearHost(),this.timeoutManager.clearDefaultTimeout()}}]),e}(),xt=$.LOAD_STAT_CODE,Ut=$.ERROR_DETAIL_CODE,Vt=H.Type.MEDIATION_FAILED,Wt=function(){function e(t){var n=t.adProvider,i=t.eventTracking,r=t.unitId,a=t.divId,s=t.adapterManager;N()(this,e);var o=n.encrypted,u=n.creativeType,d=n.renderType;this.adapterManager=s,this.eventTracking=i,this.unitId=r,this.divId=a,this.creativeType=u,this.encrypted=o,this.renderType=d}return x()(e,[{key:"handle",value:function(){var e=this.encrypted,t=(this.renderType,this.adapterManager);(0,t.callLogs)(this.eventTracking.loadErrors,e,{st:xt.STAT_CODE_ERROR,erc:Ut.INTERNAL_ERROR,erm:"UN_SUPPORTED_ADPROVIDER_TYPE"},"ssp internal error url"),t.fireEvent({name:Vt})}}]),e}(),Gt=D.a.getRenderTypes(),jt=Gt.SAFE_FRAME,Xt=Gt.NDP,Ht=Gt.JS,qt=Gt.GOOGLE_GPT,Kt=Gt.EMPTY,zt=H.Type,Qt=zt.MEDIATION_INIT,Zt=zt.MEDIATION_READY,Yt=zt.MEDIATION_FAILED,Jt=new Ne.a,$t=function(){function e(t){var n,i=this;N()(this,e);var a=t.adUnitInfo,o=a.activeViewConfig;this.adUnitInfo=a,this.activeViewConfig=o,this.adProviderInfos=[],this.currentAdapter={},this.getResponse=!1,this.cmd=[],this.eventNotifiers=[],this.adListener,this.hostMeta={},this.mediationEvent=new z.a,this.renderConfig={preload:!1},this.mediationStatus=Qt,this.isPersist=!1,this.addEventListener((n={},u()(n()}),u()(n,Yt,function(e){s()(r.a.mark(function t(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.mediationStatus=Yt,i.clear(),i.push(),e.next=5,i.handleRequestAdapters();case 5:case"end":return e.stop()}},t)}))()}),n))}return x()(e,[{key:"addEventListener",value:function(e){var t=this;v()(F()])})}},{key:"removeAllListeners",value:function(){var e=this;v()([Zt,Yt],function(t){e.mediationEvent.removeAllListeners(t)})}},{key:"fireEvent",van)}},{key:"setAdproviderInfos",value:function(e,t){var n=e.advertiserDomains,i=e.adDuplicationKeys,r=e.eventTracking,a=this.adUnitInfo,s=a.unitId,o=a.divId,u=new function d(e,t){N()(this,d),this.adDuplicationKeys=e||[],this.advertiserDomains=t||[]}(i,n);t&&t.accumulateExclusionCriteria(u),this.adProviderInfos=e.ads.o}}),this.support()||(this.adProviderInfos=this.adProviderInfos.filKt})),this.getResponse=!0}},{key:"setAdproviderInfo",va!0}},{key:"support",value:function(){return!(J.IS_IE&&J.searchBrowserVersion()<=9)}},{key:"setAdapter",value:function(e){var t=this.adListener,n=this.hostMeta,i=e.adProvider,r=e.exclusionCriteria,a=e.eventTracking,s=e.unitId,o=e.divId,u=i.adProviderName,d=i.renderType,l=i.adInfo.timeout,c=void 0===l?0:l,h=this.adUnitInfo?this.adUnitInfo.getExtraOption().mediaParams:{},A=this.adUnitInfo.sfRenderConfig.renderDirectlyInHost,f=new ce({unitId:s,divId:o,adProviderName:u,adListener:t,exclusionCriteria:r});this.eventNotifiers.push(f);switch(d){case jt:var p=new Ie({timeout:1e4,divId:o});return A?new mt({adProvider:i,eventTracking:a,unitId:s,divId:o,eventNotifier:f,hostMeta:n,timeoutManager:p,adapterManager:this,renderDirectlyInHost:A}):new Bt({adProvider:i,eventTracking:a,unitId:s,divId:o,eventNotifier:f,hostMeta:n,timeoutManager:p,adapterManager:this});case Xt:case Ht:var v=new Ie({timeout:1e4,divId:o});return new mt({adProvider:i,eventTracking:a,unitId:s,divId:o,eventNotifier:f,hostMeta:n,timeoutManager:v,adapterManager:this});case qt:var g=new Ie({timeout:c,divId:o});return new Me({adProvider:i,eventTracking:a,unitId:s,divId:o,eventNotifier:f,mediaParams:h,timeoutManager:g,adapterManager:this});case Kt:return new ze({adProvider:i,eventTracking:a,unitId:s,divId:o,eventNotifier:f,adapterManager:this});default:return new Wt({adProvider:i,eventTracking:a,unitId:s,divId:o,adapterManager:this})}}},{key:"handleRequestAdapters",value:function(){var e=s()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.adProviderInfos.shift())){t.next=5;break}return this.currentAdapter=this.setAdapter(e),t.next=5,this.currentAdapter.handle();case 5:case"end":return t.stop()}},t,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getCurrentAdapter",value:function(){return this.currentAdapter}},{key:"resetAdapters",value:function(){!h()(this.currentAdapter)&&this.currentAdapter.reset&&this.currentAdapter.reset(),this.adProviderInfos=[],this.currentAdapter={},this.getResponse=!1,this.eventNotifiers=[],this.renderConfig={preload:!1},this.mediationStatus=Qt}},{key:"push",value:function(){var e=this;this.cmd.push(function(){var t=e.getCurrentAdapter();h()(t)||t.display()}),this.mediationStatus===Zt&&this.process()}},{key:"initEvent",value:function(){var e=this.getCurrentAdapter();h()(e)||e.initEvent()}},{key:"process",value:function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){}}},{key:"clear",value:function(){for(;this.cmd.length>0;)this.cmd.shift()}},{key:"setHostMeta",value:function(e){var t,n;this.hostMeta=Object.assign(this.hostMeta,e),null===(t=this.currentAdapter)||void 0===t||null===(n=t.setHostMeta)||void 0===n||n.call(t,this.hostMeta)}},{key:"setAdListener",value:function(e){e&&(this.adListener=new Q(e),this.resetEventListeners())}},{key:"getAdListener",value:function(){return this.adListener}},{key:"resetEventListeners",value:function(){var e=this.adListener,t=this.eventNotifiers;v(})})}},{key:"callLogs",value:function(e,t,n,i){if(e){t=t||"";var r=n?"?".concat(F()(n).))}).join("&")):"";v()(e,function(e){Jt.log("".concat(e.url).concat(t).concat(r))})}}}]),e}(),en=n(89),tn=n.n(en),nn=function(){function e(t){N()(this,e);var n=t.controller,i=t.adContainerEl;this.controller=n,this.adContainerEl=i,this.playBtn=this.adContainerEl.querySelector("[data-role='playBtn']"),this.pauseBtn=this.adContainerEl.querySelector("[data-role='pauseBtn']"),this.adBtnControlEl=this.adContainerEl.querySelector("[data-role='adBtnControlEl']"),this.util=new Ne.a,this.setClass(this.playBtn,"btn_player btn_play hide"),this.setClass(this.pauseBtn,"btn_player btn_pause"),this.addEvent()}return x()(e,[{key:"setTrackingUrl",value:function(e){var t=e.pauseUrl,n=e.resumeUrl;this.pauseUrl=t,this.resumeUrl=n}},{key:"togglePlayPause",va()}},{key:"showBtnControl",value:function(){this.removeClass(this.adBtnControlEl,"hide")}},{key:"hideBtnControl",value:function(){this.addClass(this.adBtnControlEl,"hide")}},{key:"showPlayBtn",value:function(){this.removeClass(this.playBtn,"hide"),this.addClass(this.pauseBtn,"hide")}},{key:"showPauseBtn",va")}},{key:"addEvent",value:function(){this.playClickHandler=this.playClickAction.bind(this),this.pauseClickHandler=this.pauseClickAction.bind(this),this.playBtn.addEventListener("click",this.playClickHandler),this.pauseBtn.addEventListener("click",this.pauseClickHandler)}},{key:"removeEvent",var)}},{key:"playClickAction",value:function(){this.togglePlayPause(!0),this.controller.onAdPlay(),this.callLog(this.resumeUrl,"resumeUrl")}},{key:"pauseClickAction",value:function(){this.togglePlayPause(!1),this.controller.onAdPause(),this.callLog(this.pauseUrl,"pauseUrl")}},{key:"addClass",value:function(e,t){e.className=e.className.trim()+" "+t}},{key:"removeClass",value:function(e,t){var n=this.getClassRegexp(t);e.className=e.className.trim().replace(n,"")}},{key:"setClass",value:function(e,t){e.className=t}},{key:"getClassRegexp",value:function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")}},{key:"callLog",value:function(e,t){null!=e&&e!=undefined&&this.util.log(e)}}]),e}(),rn=function(){function e(t){N()(this,e);var n=t.adContainerEl;this.adContainerEl=n,this.loadingBar=this.adContainerEl.querySelector("[data-role='loadingBar']"),this.progressBar=this.adContainerEl.querySelector("[data-role='progressBar']"),this.curTimeLabel=this.adContainerEl.querySelector("[data-role='curTimeLabel']"),this.durationLabel=this.adContainerEl.querySelector("[data-role='durationLabel']"),this.duration}return x()(e,[{key:"updateProgressBar",value:function(e){this.progressBar.style.width="".concat(e,"%")}},{key:"updateLoadingBar",value:function(e){this.loadingBar.style.width="".concat(e,"%")}},{key:"setDuration",value:function(e){"undefined"==typeof this.duration&&(this.duration=Math.floor(e),this.durationLabel.innerHTML=this.calculateTime(e))}},{key:"updateCurrentTime",vae)}},{key:"calculateTime",value:function(e){var t=Math.floor(e/60)+"",n=Math.floor(e%60)+"";return(t=1===t.length?"0"+t:t)+":"+(n=1===n.length?"0"+n:n)}}]),e}(),an=function(){function e(t){N()(this,e);var n=t.controller,i=t.adPlayheadTracker,r=t.adContainerEl,a=t.isSkippable;this.controller=n,this.adPlayheadTracker=i,this.isSkippable=a,this.adContainerEl=r,this.countDownEl=this.adContainerEl.querySelector("[data-role='countDownEl']"),this.countDownTxt=this.adContainerEl.querySelector("[data-role='countDownTxt']"),this.skipBtn=this.adContainerEl.querySelector("[data-role='skipBtn']"),this.util=new Ne.a,this.countDownEnded=!1,this.setClass(this.skipBtn,"btn_skip hide"),this.addEvent()}return x()(e,[{key:"updateAdUi",value:function(){var e=this.adPlayheadTracker.currentTime,t=this.adPlayheadTracker.duration,n=this.controller.getCurrentAd().getSkipTimeOffset(),i=this.isSkippable?n-e:t-e;!this.countDownEnded&&i>=0&&(this.showCountDownUI(),this.updateCountDownUI(i)),this.isSkippable&&e>=n&&this.showSkipBtn(),e==t&&this.hideSkipBtn()}},{key:"updateCountDownUI",value:function(e){e>0?this.countDownTxt.innerHTML=e:0==e&&(this.hideCountDownUI(),this.countDownEnded=!0)}},{key:"showCountDownUI",value:function(){this.removeClass(this.countDownEl,"hide")}},{key:"hideCountDownUI",value:function(){this.addClass(this.countDownEl,"hide")}},{key:"addEvent",var)}},{key:"removeEvent",var)}},{key:"showSkipBtn",value:function(){this.removeClass(this.skipBtn,"hide")}},{key:"hideSkipBtn",va")}},{key:"onAdSkipClick",value:function(){var e=this.controller.getCurrentAd(),t=this.controller.adapter.adsManager,n=this.controller.adapter.adsManager.adPlayer;this.hideSkipBtn(),this.util.log(e.skip.tracking),this.skipBtn.removeEventListener("click",this.onAdSkipClickHandler),n&&n.clear(),t.onAdBreakSkipped()}},{key:"addClass",value:function(e,t){e.className=e.className.trim()+" "+t}},{key:"removeClass",value:function(e,t){var n=this.getClassRegexp(t);e.className=e.className.trim().replace(n,"")}},{key:"setClass",va=t}},{key:"getClassRegexp",value:function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")}}]),e}(),sn=function(){function e(t){N()(this,e);var n=t.controller,i=t.adContainerEl;this.controller=n,this.currentAd=this.controller.getCurrentAd(),this.adContainerEl=i,this.volumeBtn=this.adContainerEl.querySelector("[data-role='volumeBtn']"),this.track=this.adContainerEl.querySelector("[data-role='volumeTrack']"),this.volumeBar=this.adContainerEl.querySelector("[data-role='volumeBar']"),this.volumeSeekingArea=this.adContainerEl.querySelector("[data-role='volumeSeekingArea']"),this.volumeDrag=!1,this.util=new Ne.a,this.addEvent()}return x()(e,[{key:"initVolume",value:function(e){0==e?this.soundOff():this.soundOn(),this.lastVolume=e}},{key:"setTrackingUrl",va=n}},{key:"soundOn",value:function(){this.sVolumeOff=!1,this.removeClass(this.volumeBtn,"mute")}},{key:"soundOff",value:function(){this.sVolumeOff=!0,this.addClass(this.volumeBtn,"mute")}},{key:"unMute",value:function(){0===this.getLastVolume()&&this.setLastVolume(.5),this.controller.setVolume(this.getLastVolume()),this.callLog(this.unmuteUrl,"unmuteUrl")}},{key:"mute",value:function(){this.setLastVolume(this.controller.getVolume()),this.controller.setVolume(0),this.callLog(this.muteUrl,"muteUrl")}},{key:"updateTrack",va%"}},{key:"updateVolumeBar",va")}},{key:"setLastVolume",value:function(e){this.lastVolume=e}},{key:"getLastVolume",value:function(){return this.lastVolume}},{key:"setVolumeUI",value:function(){var e=100*this.controller.getVolume();this.updateTrack(e),this.updateVolumeBar(e)}},{key:"handleVolumeBtn",value:function(){this.sVolumeOff?(this.soundOn(),this.unMute()):(this.soundOff(),this.mute()),this.setVolumeUI()}},{key:"addEvent",value:function(){var e,t=this;this.volumeBtnHandler=this.handleVolumeBtn.bind(this),this.volumeBtn.addEventListener("click",this.volumeBtnHandler),this.events=(e={},u()(e,"mousedown",function(e){e.preventDefault(),t.volumeDrag=!0,t.updateVolume(e.pageX)}),u()(e,"mouseup",function(e){t.volumeDrag&&(t.volumeDrag=!1,t.updateVolume(e.pageX))}),u()(e,"mousemoX)}),e),v()(F()(this.events),function(e){"mouseup"==e?document.addEventListener(e,t.events[e]):t.volumeSeekingArea.addEventListener(e,t.events[e])})}},{key:"removeEvent",value:function(){var e=this;this.volumeBtn.removeEventListener("click",this.volumeBtnHandler),v()(F()(this.events),function(t){"mouseup"==t?document.removeEventListener(t,e.events[t]):e.volumeSeekingArea.removeEventListener(t,e.events[t])})}},{key:"updateVolume",value:function(e,t){var n;t?n=100*t:n=(100*(e-this.offset(this.track).left)/100).toFixed(2);n>98&&(n=100),n<2&&(n=0);var i=n/100;0===n?this.soundOff():this.soundOn(),this.updateTrack(n),this.updateVolumeBar(n),this.setLastVolume(this.controller.getVolume()),this.controller.setVolume(i)}},{key:"offset",value:function(e){var t,n,i={top:0,left:0},r=e&&e.ownerDocument;if(r)return t=r.documentElement,"undefined"!==ge()(e.getBoundingClientRect)&&(i=e.getBoundingClientRect()),n=this.getWindow(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}}},{key:"getWindow",value:function(e){return e&&e===e.window?e:9===e.nodeType&&e.defaultView}},{key:"addClass",value:function(e,t){e.className=e.className.trim()+" "+t}},{key:"removeClass",value:function(e,t){var n=this.getClassRegexp(t);e.className=e.className.trim().replace(n,"")}},{key:"getClassRegexp",value:function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")}},{key:"callLog",value:function(e,t){null!=e&&e!=undefined&&this.util.log(e)}}]),e}(),on={PRE_SKIP_INFO:{en:'Skip in <strong class="txt_point" data-role="countDownTxt"></strong>',ko:'<strong class="txt_point" data-role="countDownTxt"></strong>  <span class="txt_skip">SKIP</span>',vi:'Skip in <strong class="txt_point" data-role="countDownTxt"></strong>'},SKIP_INFO:{en:"SKIP",ko:"SKIP",vi:"SKIP"},NON_SKIP_INFO:{en:'Video will play in <strong class="txt_point" data-role="countDownTxt"></strong>',ko:'<strong class="txt_point" data-role="countDownTxt"></strong>  <span class="txt_skip"></span>',vi:'Video will play in <strong class="txt_point" data-role="countDownTxt"></strong>'},LINK_MORE_INFO:{en:"Learn More",ko:" toLowerCase().substring(0,2)},dn={getPreSkipInfo:function(e){return e=un(e),on.PRE_SKIP_INFO[e]||on.PRE_SKIP_INFO.en},getSkipInfo:function(e){return e=un(e),on.SKIP_INFO[e]||on.SKIP_INFO.en},getNonSkipInfo:function(e){return e=un(e),on.NON_SKIP_INFO[e]||on.NON_SKIP_INFO.en},getLinkMoreInfo:function(e){return e=un(e),on.LINK_MORE_INFO[e]||on.LINK_MORE_INFO.en}},ln=function(){function e(t){N()(this,e);var n=t.divId,i=t.controller,r=t.playerType,a=t.adContainer,s=t.locale,o=t.showControl,u=void 0!==o&&o;this.divId=n,this.controller=i,this.playerType=r,this.adContainerEl=a,this.locale=s||"en",this.currentTime,this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0,remainingTime:0},this.showCountdown=!0,this.showControl=u,this.adUiInfo={PRE_SKIP_INFO:dn.getPreSkipInfo(this.locale),SKIP_INFO:dn.getSkipInfo(this.locale),NON_SKIP_INFO:dn.getNonSkipInfo(this.locale),LINK_MORE_INFO:dn.getLinkMoreInfo(this.locale)}}return x()(e,trol&&this.createVideoWrap()}},{key:"createAdContainer",value:function(){if(this.playerWrapperDiv=document.getElementById(this.divId),this.playerWrapperDiv.style.position="relative","undefined"==typeof this.adContainerEl){var e=document.getElementById("".concat(this.divId,"_videoAdContainer"));if(null!==e)this.adContainerEl=e;else{e=document.createElement("div");var t=this.controller.getPlayerSize(),n=t.width,i=t.height;e.setAttribute("id","".concat(this.divId,"_videoAdContainer")),e.style.cssText="position:absolute;top:0px;left:0px;width:".concat(n,"px;height:").concat(i,"px"),this.playerWrapperDiv.appendChild(e),this.adContainerEl=e}}}},{key:"createVideoWrap",value:function(){null==this.adSubContainerEl.querySelector("[data-role='adVideoWrapEl']")&&(this.controller.isMobilePlayer()?this.makeHTML_MO():this.makeHTML_PC()),this.initControls()}},{key:"makeHTML_PC",value:function(){this.adSubContainerEl.innerHTML='<div class="vod_player_wrap pc" data-role="adVideoWrapEl">\n\t\t\t\t<div class="control_area hide" data-role="adControlEl">\n\t\t\t\t\t<div class="progress_area">\n\t\t\t\t\t\t<div class="progress_whole"></div>\n\t\t\t\t\t\t<div class="progress_loaded" data-role="loadingBar"></div>\n\t\t\t\t\t\t<div class="progress_played" data-role="progressBar"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="control_btn_area" data-role="adBtnControlEl">\n\t\t\t\t\t\t<div class="btn_area">\n\t\t\t\t\t\t\t<button type="button" class="btn_player btn_play hide" data-role="playBtn"><span class="blind"></span><i class="ico"></i></button>\n\t\t\t\t\t\t\t<button type="button" class="btn_player btn_pause" data-role="pauseBtn"><span class="blind"></span><i class="ico"></i></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="volume_area">\n\t\t\t\t\t\t\t<div class="volume_btn_area">\n\t\t\t\t\t\t\t\t<button type="button" class="btn_volume" data-role="volumeBtn">\n\t\t\t\t\t\t\t\t\t<span class="blind"></span>\n\t\t\t\t\t\t\t\t\t<i class="ico"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="volume_panel_area">\n\t\t\t\t\t\t\t\t<div class="volume_panel" data-role="volumeSeekingArea">\n\t\t\t\t\t\t\t\t\t<div class="volume_whole">\n\t\t\t\t\t\t\t\t\t\t<div class="volume_current" data-role="volumeTrack"></div>\n\t\t\t\t\t\t\t\t\t\t<span class="volume_handle" data-role="volumeBar"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="time_area">\n\t\t\t\t\t\t<span class="timer txt_point" data-role="curTimeLabel">00:00</span>\n\t\t\t\t\t\t<span class="time_separator"></span>\n\t\t\t\t\t\t<span class="timer" data-role="durationLabel">00:00</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="skip_area hide" data-role="countDownEl">'.concat(this.adUiInfo.PRE_SKIP_INFO,'</div>\n\t\t\t\t<button type="button" class="btn_skip hide" data-role="skipBtn"><span class="txt">').concat(this.adUiInfo.SKIP_INFO,'</span></button>\n\t\t\t\t<a class="link_more" target="_blank" data-role="linkMore"><span class="txt">').concat(this.adUiInfo.LINK_MORE_INFO,"</span></a>\n\t\t\t</div>")}},{key:"makeHTML_MO",value:function(){this.adSubContainerEl.innerHTML='<div class="vod_player_wrap mobile hide" data-role="adVideoWrapEl">\n\t\t\t\t<div class="control_area" data-role="adControlEl">\n\t\t\t\t\t<div class="progress_area">\n\t\t\t\t\t\t<div class="progress_whole"></div>\n\t\t\t\t\t\t<div class="progress_loaded" data-role="loadingBar"></div>\n\t\t\t\t\t\t<div class="progress_played" data-role="progressBar"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="control_btn_area hide" data-role="adBtnControlEl">\n\t\t\t\t\t\t<div class="btn_area">\n\t\t\t\t\t\t\t<button type="button" class="btn_player btn_play hide" data-role="playBtn"><span class="blind"></span><i class="ico"></i></button>\n\t\t\t\t\t\t\t<button type="button" class="btn_player btn_pause" data-role="pauseBtn"><span class="blind"></span><i class="ico"></i></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="time_area">\n\t\t\t\t\t\t<span class="timer txt_point" data-role="curTimeLabel">00:00</span>\n\t\t\t\t\t\t<span class="time_separator"></span>\n\t\t\t\t\t\t<span class="timer" data-role="durationLabel">00:00</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="skip_area hide" data-role="countDownEl">'.concat(this.adUiInfo.PRE_SKIP_INFO,'</div>\n\t\t\t\t<button type="button" class="btn_skip hide" data-role="skipBtn"><span class="txt">').concat(this.adUiInfo.SKIP_INFO,'</span></button>\n\t\t\t\t<a class="link_more" data-role="linkMore"><span class="txt">').concat(this.adUiInfo.LINK_MORE_INFO,"</span></a>\n\t\t\t</div>")}},{key:"initControls",value:function(){this.adVideoWrapEl=this.adContainerEl.querySelector("[data-role='adVideoWrapEl']"),this.adControlEl=this.adContainerEl.querySelector("[data-role='adControlEl']"),this.linkMore=this.adContainerEl.querySelector("[data-role='linkMore']"),this.controller.isMobilePlayer()?(this.initPlayPauseBtnController(),this.initProgressBarController()):(this.setPlayerWrapStyle(),this.initVolumeController(),this.initPlayPauseBtnController(),this.initProgressBarController())}},{key:"addEvent",value:function(){var e,t,n=this;this.controller.isMobilePlayer()?this.events=(e={},u()(e,"mouseenter",function(){n.playPauseBtnController.showBtnControl()}),u()(e,"mouseleave",function(){n.playPauseBtnController.hideBtnControl()}),u()(e,"touchenter",function(){n.playPauseBtnController.showBtnControl()}),u()(e,"touchleave",function(){n.playPauseBtnController.hideBtnControl()}),e):this.events=(t={},u()(t,"montrols()}),u()(t,"mouseleave",function(){n.hideAdControls()}),t);v()(F()(this.events),function(e){n.adVideoWrapEl.addEventListener(e,n.events[e])})}},{key:"removeEvent",value:function(){var e=this;v()(F()(this.events),function(t){e.adVideoWrapEl.removeEventListener(t,e.events[t])})}},{key:"setPlayerWrapStyle",value:function(){var e=this.controller.getPlayerSize().width;e<456?this.addClass(this.adVideoWrapEl,"size_s"):e>=456&&e<880&&this.addClass(this.adVideoWrapEl,"size_m")}},{key:"initVolumeController",value:function(){this.volumeController=new sn({controller:this.controller,adContainerEl:tontroller:this.controller,adContainerEl:ressBarController=new rn({adContainerEl:this.adContainerEl})}},{key:"initSkipBtnController",value:function(){var e=this.currentAd.isSkippable(),t=this.adContainerEl.querySelector("[data-role='countDownEl']");e||(t.innerHTML=this.adUiInfo.NON_SKIP_INFO),this.skipBtnController=new an({controller:this.controller,adPlayheadTracker:this.adPlayheadTracker,adContainerEl:this.adContainerEl,isSkippable:e})}},{key:"onAdFullscreenClick",value:function(){this.controller.toggleFullscreen()}},{key:"onAdsPaused",value:function(){this.showAdControls()}},{key:"onAdsResumed",value:function(){this.showAdControls()}},{key:"updateAdBufferUi",value:function(e){this.progressBarController.updateLoadingBar(e)}},{key:"updateAdUi",value:function(e,t,n,i,r){if(this.currentTime!=e){this.currentTime=e,this.adPlayheadTracker.currentTime=e,this.adPlayheadTracker.duration=n,this.adPlayheadTracker.adPosition=i,this.adPlayheadTracker.totalAds=r,this.adPlayheadTracker.remainingTime=t;var a=(100*(e/n)).toFixed(2);this.progressBarController.updateProgressBar(a),this.progressBarController.updateCurrentTime(e),this.progressBarController.setDuration(n),this.skipBtnController&&this.skipBtnController.updateAdUi(t)}}},{key:"setVolumeUI",value:function(e){this.showControl&&!this.controller.isMobilePlayer()&&(this.volumeController.initVolume(e),this.volumeController.setVolumeUI())}},{key:"showAdContainer",value:function(){this.adContainerEl.style.display="block",this.adContainerEl.style.zIndex="1000"}},{key:"hideAdContainer",value:function(){this.adContainerEl.style.display="none",this.adContainerEl.style.zIndex=""}},{key:"onAdError",value:function(){this.adContainerEl.style.display="none",this.adContainerEl.style.zIndex=""}},{key:"onAdBreakStart",value:function(e){this.adControlEl!=undefined&&(this.adContainerEl.style.display="block","application/javascript"!==e.getAd().getContentType()||this.controller.getSettings().showControlsForJSAds?this.adControlEl.style.display="block":this.adControlEl.style.display="none")}},{key:"onAdBreakEnd",value:function(){this.hideAdContainer()}},{key:"onAdComplete",value:function(){this.controller.isMobilePlayer()&&this.playPauseBtnController.hideBtnControl(),this.progressBarController.updateProgressBar(0),this.progressBarConerEl.style.display="none",thi{key:"onLinearAdLoad",value:function(){this.showAdControls()}},{key:"onLinearAdStart",value:function(){}},{key:"onNonLinearAdLoad",value:function(){}},{key:"showAdControls",value:function(){this.adControlEl&&this.removn(){this.adControlEl&&this.addClass(th=this.controlPrefix+t,e.className=this.controlPrefix+t+" "+t}},{key:"getClassRegexp",value:function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")}},{key:"addClass",value:function(e,t){e.className=e.className.trim()+" "+t}},{key:"removeClass",value:function(e,t){var n=this.getClassRegexp(t);e.className=e.className.trim().replace(n,"")}},{key:"getAdContainerDiv",value:function(e){var t=e.type;return"ima"==t?(this.adSubContainerEl=this.adContainerEl.querySelector("[data-role='imaAdContainerEl']"),this.adSubContainerEl):"gfd"==t?(this.adSubContainerEl=this.adContainerEl.querySelector("[data-role='gfdAdContainerEl']"),this.adSubContainerEl):this.adContainerEl}},{key:"setCurrentAd",value:function(e){var t,n,i,r;(this.currentAd=e,this.showControl)&&(this.currentAd.loggingEvent.events.forEach(function(e){"resume"==e.name?n=e.url:"pause"==e.name?t=e.url:"mute"==e.name?i=e.url:"unmute"==e.name&&(r=e.url)}),this.playPauseBtnController.setTrackingUrl({resumeUrl:n,pauseUrl:t}),this.volumeController&&this.volumeController.setTrackingUrl({muteUrl:i,unmuteUrl:r}),this.initSkipBtnController())}},{key:"reset",value:function(){this.showControl&&(this.removeEvent(),this.controller.isMobilePlayer()?this.playPauseBtnController.removeEvent():(this.volumeController.removeEvent(),this.playPauseBtnController.removeEvent()),tn()(this.currentAd)||this.skipBtnController.removeEvent())}}],[{key:"createAdContainer",value:function(e){e.adContainer!==undefined&&(e.adContainer.innerHTML='<div data-role="imaAdContainerEl" style="display:none"></div>\n\t\t\t\t<div data-role="gfdAdContainerEl" style="display:none"></div>')}}]),e}(),cn=n(56),hn=n.n(cn),An=["HTML5_MO"],fn=function(){function e(){N()(this,e),this.locale,this.playerType,this.autoPlayAdBreaks}return x()(e,[{key:"setLocale",value:function(e){this.locale=e}},{key:"getLocale",value:function(){return this.locale}},{key:"setPlayerType",value:function(e){this.playerType=e}},{key:"getPlayerType",value:function(){return this.playerType}},{key:"setAutoPlayAdBreaks",value:functi}],[{key:"isMobilePlayer",value:function(e){return f()(An,e)}}]),e}(),pn=function(){function e(t){N()(this,e);var n=t.divId,i=t.adapter,r=t.playerType,a=t.adContainer,s=t.locale,o=t.showControl,u=void 0!==o&&o;this.divId=n,this.adapter=i,this.playerType=r,this.locale=s,this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.adUi=new ln({divId:n,controller:this,playerType:r,adContainer:a,locale:s,showControl:u})}return x()(e,[{key:"initAdUiManager",value:function(){this.adUi.initAdUiManager()}},{key:"getCurrentAd",value:function(){this.adapter.getCurrentAd()}},{key:"setCurrentAd",value:function(e){this.adUi.setCurrentAd(e)}},{key:"getIsMobile",value:",value:function(){return fn.isMobilePlayer(this.playerType)}},{key:"getPlayerSize",value:function(){return this.adapter.getPlayerSize()}},{key:"onErrorLoadingAds",value:function(e){this.adUi.onAdError()}},{key:"onAdPlay",value:function(){this.adapter.resumeAds()}},{key:"onAdPause",value:function(){this.adapter.pauseAds()}},{key:"setVolume",value:function(e){this.adapter.setVolume(e)}},{key:"getVolume",value:function(){return this.adapter.getVolume()}},{key:"toggleFullscreen",value:function(){if(this.adapter.fullscreen){var e=document.exitFullscreen||document.exitFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen;e?e.call(document):this.adapter.onFullscreenChange()}else{var t=document.documentElement.requestFullscreen||document.documentElement.webkitRequestFullscreen||document.documentElement.mozRequestFullscreen||document.documentElement.requestFullScreen||document.documentElement.webkitRequestFullScreen||document.documentElement.mozRequestFullScreen;t?t.call(document.documentElement}}},{key:"onAdError",value:function(e){this.adUi.onAdError()}},{key:"onAdBreakStart",value:function(e){this.adUi.onAdBreakStart(e)}},{key:"showAdContainer",value:function(){this.adUi.showAdContainer()}},{key:"hideAdContainer",value:function(){this.adUi.hideAdContainer()}},{key:"onAdBreakEnd",value:function(){this.adUi.onAdBreakEnd()}},{key:"onAdComplete",value:function(){this.adUi.onAdComplete()}},{key:"onAllAdsCompleted",value:function(){this.adUi.onAllAdsCompleted()}},{key:"onAdsPaused",value:function(){}},{key:"onAdsd",value:function(e,t,n,i,r){this.adUi.updateAdUi(e,t,n,i,r)}},{key:"onAdBuffered",value:function(e){this.adUi.updateAdBufferUi(e)}},{key:"setVolumeUI",value:funrrentAd",value:function(){return this.adapter.getCurrentAd()}},{key:"onLinearAdLoad",value:function(){this.adUi.onLinearAdLoad()}},{key:"onLinearAdStart",value:function(){this.adUi.onLinearAdStart()}},{key:"onNonLinearAdLoad",value:function(){this.adUi.onNonLinearAdLoad()}},{key:"onNonLinearAdStart",value:function(){tDiv",value:function(ey:"reset",value:function(){this.adUi.reset(),this.adUi=null}}]),e}(ments,r)}else n=i.apply(this,arguments);return mn()(this,n)}}var _n,Sn=function(e){gn()(n,e);var t=In(n);function n(e){var i;N()(this,n);var r=e.placementType,a=e.timeOffset,s=e.duration,o=e.skipTimeOffset,u=e.vastMediaWidth,d=e.vastMediaHeight,l=e.noticeDurationSec;return(i=t.call(this,e)).placementType=r,i.duration=s,i.timeOffset=a,i.skipTimeOffset=o,i.vastMediaWidth=u,i.vastMediaHeight=d,i.noticeDurationSec=l,i.phase=i.placementType,i}return x()(n,[{key:"getPlacementType",value:function(){return this.placementType}},{key:"getDuration",value:function(){return this.duration}},{key:"getTimeOffset",value:function(){return this.timeOffset}},{key:"getSkipTimeOffset",value:function(){return this.skipTimeOffset}},{key:"getVastMediaWidth",value:function(){return this.vastMediaWidth}},{key:"getVastMediaHeight",value:function(){return this.vastMediaHeight}},{key:"setNonLinearAd",value:function(e){this.nonLinearAd=e}},{key:"getNonLinearAd",value:function(){return this.nonLinearAd}}]),n}(Ee),kn=n(21),wn=n.n(kn),Ln=n(90),Cn=n.n(Ln),On=new De({src:"https://ssl.pstatic.net/tveta.jseturn(new Date).getTime()},Rn=function(){return J.isMobile()},bn=$.ERROR_DETAIL_CODE;var Fn={maxMaxBufferLength:50,abrEwmaDefaultEstimate:1048576,manifestLoadingTimeOut:15e3,manifestLoadingMaxRetry:4,manifestLoadingRetryDelay:1500,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:500,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingLoopThreshold:3,minAutoBitrate:1e5},Pn=function(){function e(t){N()(this,e),this.player=t,this.videoAdOptions=t.videoAdOptions,this.adVideoEl=t.adVideoEl,this.events={url:"",t0:performance.now(),load:[],buffer:[],video:[],level:[],bitrate:[]}}return x()(e,[{key:"destroy",value:function(){this.waiting=!1,this.recoveredTime=null,this.hls&&(this.hls.destroy(),this.hls=null)}},{key:"loadMediaFile",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1];if(Hls.isSupported()){var n=Cn()({enabledBufferFlush:!1,enableWorker:!Rn()},Fn),i=this.hls=new Hls(n);i.loadSource(e),i.attachMedia(this.adVideoEl),this.setHlsEventListener(t),this.setHlsErrorListener()}else""!=this.adVideoEl.canPlayType("application/vnd.apple.mpegurl")||""!=this.adVideoEl.canPlayType("application/x-mpegURL")?this.adVideoEl.src=e:this.player.onAdError({code:bn.START_ERROR,message:"can not support to play a hls media file"})}},{key:"getStartLevel",valuitrate){var t=e.map(function(e){return e.bitrate?e.bitrate:0});return Ne.a.getNeareeturn wn()(e,function(e){return e.height>=450&&e.height<=480})}},{key:"get=Rn()?720:1080;return wn()(e,function(e){return e.height===t})}},{key:"setupStartAutoLevel",value:function(e){var t=this.hls,n=-1,i=-1;e&&e.length>0&&(n=this.getStartLevel(e),i=this.getMaxLevel(e)),this.currentAutoLevel=t.startLevel=t.firstLevel=n,n<i&&(t.loadLevel=n),t.autoLevelCapping=i}},{key:"getVideoPlaybackQualityInfo",value:function(){var e=this.adVideoEl,t={totalVideoFrames:0,droppedVideoFrames:0};return e.getVideoPlaybackQuality?t=e.getVideoPlaybackQuality():e.webkitDecodedFrameCount&&(t.totalVideoFrames=e.webkitDecodedFrameCount,t.droppedVideoFrames=e.webkitDroppedFrameCount),t}},{key:"getBufferHealth",value:function(){for(var e=this.adVideoEl.buffered,t=e.length,n=this.adVideoEl.currentTime,i=0,r=0;r<t;r++)if(e.start(r)<=n&&e.end(r)>n){i=e.end(rlQuality",value:function(e){return"".concat(e.height||0,"P")}},{key:"setHlsEventListener",value:function(e){var t=this,n=this.hls;n.on(Hls.Events.MEDIA_ATTACHED,function(){t.events.video.push({time:performance.now()-t.events.t0,type:"Media attached"})}),n.on(Hls.Events.MEDIA_DETACHED,function(){t.events.video.push({time:performance.now()-t.events.t0,type:"Media detached"})}),n.on(Hls.Events.FRAG_PARSING_INIT_SEGMENT,function(e,n){e={time:performance.now()-t.events.t0,type:n.id+" init segment"};t.events.video.push(e)}),n.on(Hls.Events.FRAG_PARSING_METADATA,function(e,t){}),n.on(Hls.Events.LEVEL_SWITCHING,function(e,i){t.events.level.push({time:performance.now()-t.events.t0,id:i.level,bitrate:Math.round(n.levels[i.level].bitrate/1e3)})}),n.on(Hls.Events.MANIFEST_PARSED,function(e,n){e={type:"manifest",name:"",start:0,end:n.levels.length,time:n.stats.trequest-t.events.t0,latency:n.stats.tfirst-n.stats.trequest,load:n.stats.tload-n.stats.tfirst,duration:n.stats.tload-n.stats.tfirst};t.events.load.push(e),t.setupStartAutoLevel(n.levels),_n={levelNb:n.levelssed:0}}),n.on(Hls.Events.AUDIO_TRACKS_UPDATED,function(e,t){}),n.on(Hls.Events.AUDIO_TRACK_SWITCHING,function(e,n){e={time:performance.now()-t.events.t0,type:"audio switching",name:"@"+n.id};t.events.video.push(e)}),n.on(Hls.Events.AUDIO_TRACK_SWITCHED,function(e,n){e={time:performance.now()-t.events.t0,type:"audio switched",name:"@"+n.id};t.events.video.push(e)}),n.on(Hls.Events.LEVEL_LOADED,function(e,n){t.events.isLive=n.details.live;e={type:"level",id:n.level,start:n.details.startSN,end:n.details.endSN,time:n.stats.trequest-t.events.t0,latency:n.stats.tfirst-n.stats.trequest,load:n.stats.tload-n.stats.tfirst,parsing:n.stats.tparsed-n.stats.tload,duration:n.stats.tload-n.stats.tfirst};var i=n.stats.tparsed-n.stats.tload;_n.levelParsed?t.sumLevelParsingMs+=i:t.sumLevelParsingMs=i,_n.levelParsed++,_n.levelParsingUs=Math.round(1e3*t.sumLevelParsingMs/_n.levelParsed),t.events.load.push(e)}),n.on(Hls.Events.AUDIO_TRACK_LOADED,function(e,n){t.events.isLive=n.details.live;e={type:"audio track",id:n.id,start:n.details.startSN,end:n.details.endSN,time:n.stats.trequest-t.events.t0,latency:n.stats.tfirst-n.stats.trequest,load:n.stats.tload-n.stats.tfirst,parsing:n.stats.tparsed-n.stats.tload,duration:n.stats.tload-n.stats.tfirst};t.events.load.push(e)}),n.on(Hls.Events.FRAG_BUFFERED,function(e,i){n.loadLevel=-1;var r=i.stats,a=i.frag,s=t.getVideoPlaybackQualityInfo(),o=n.abrController._bwEstimator||n.abrController.bwEstimator;try{var u={idx:a.sn,fs:Math.floor(r.loaded),fd:Math.floor(1e3*a.duration),q:t.getLevelQuality(n.levels[a.level]),rt:Math.floor(1e3*(r.tload-r.trequest)),mt:Math.floor(1e3*r.tparsed),cbw:Math.floor(8*r.loaded/((r.tload-r.trequest)/1e3)),fbw:Math.floor(o.fast_.getEstimate()),sbw:Math.floor(o.slow_.getEstimate()),drf:s.droppedVideoFrames,df:s.totalVideoFrames,hb:t.getBufferHealth()};Nn(u.cbw),Nn(Math.min(u.fbw,u.sbw))}catch(d){}}),n.on(Hls.Events.LEVEL_SWITCHED,function(e,n){e={time:performance.now()-t.events.t0,type:"level switched",name:n.level};t.events.video.push(e)}),n.on(Hls.Events.FRAG_CHANGED,function(e,n){var i=n.frag.level;t.currentAutoLevel!==i&&i>-1&&(t.currentAutoLevel=i);e={time:performance.now()-t.events.t0,type:"frag changed",name:n.frag.sn+" @ "+n.frag.level};t.events.video.push(e),_n.tagList=n.frag.tagList;var r=n.frag.level,a=n.frag.autoLevel;_n.levelStart===undefined&&(_n.levelStart=r),a?(_n.fragChangedAuto?(_n.autoLevelMin=Math.min(_n.autoLevelMin,r),_n.autoLevelMax=Math.max(_n.autoLevelMax,r),_n.fragChangedAuto++,t.levelLastAuto&&r!==_n.autoLevelLast&&_n.autoLevelSwitch++):(_n.autoLevelMin=_n.autoLevelMax=r,_n.autoLevelSwitch=0,_n.fragChangedAuto=1,t.sumAutoLevel=0),t.sumAutoLevel+=r,_n.autoLevelAvg=Math.round(1e3*t.sumAutoLevel/_n.fragChangedAuto)/1e3,_n.autoLevelLast=r):(_n.fragChangedManual?(_n.manualLevelMin=Math.min(_n.manualLevelMin,r),_n.manualLevelMax=Math.max(_n.manualLevelMax,r),_n.fragChangedManual++,t.levelLastAuto||r===_n.manualLevelLast||_n.manualLevelSwitch++):(_n.manualLevelMin=_n.manualLevelMax=r,_n.manualLevelSwitch=0,_n.fragChangedManual=1),_n.manualLevelLast=r),t.levelLastAuto=a}),n.on(Hls.Events.FRAG_LOAD_EMERGENCY_ABORTED,function(e,t){_n&&(_n.fragLoadEmergencyAborted===undefined?_n.fragLoadEmergencyAborted=1:_n.fragLoadEmergencyAborted++)}),n.on(Hls.Events.FRAG_DECRYPTED,function(e,n){_n.fragDecrypted||(_n.fragDecrypted=0,t.totalDecryptTime=0,_n.fragAvgDecryptTime=0),_n.fragDecrypted++,t.totalDecryptTime+=n.stats.tdecrypt-n.stats.tstart,_n.fragAvgDecryptTime=t.totalDecryptTime/_n.fragDecrypted})}},{key:"setHlsErrorListener",value:function(){var e=this;this.hls.on(Hls.Events.ERROR,function(t,n){var i=Mn[n.details]||{code:"h010",msg:"VIDEO_LOAD_ERROR"};if(n.fatal)switch(n.type){case Hls.ErrorTypes.MEDIA_ERROR:e.recoverMediaError();break;case Hls.ErrorTypes.NETWORK_ERROR:e.sendLog(i);break;default:e.destroy(),e.sendLog(i)}else e.sendLog(i)})}},{key:"recoverMediaError",value:function(){(!this.recoveredTime||Tn()-this.recoveredTime>3e3)&&(this.recoveredTime=Tn(),this.wa}},{key:"sendLog",value:function(e){this.player.f window)return window.MediaSource||window.WebKitMediaSource}(),t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!i}},{key:"initHlsModule",value:function(){var e=s()(r.a.mark(function t(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,On.load();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),new Error("failed to load hls library file");case 8:case"end":return e.stop()}},t,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}()}]),e}(),Mn={manifestLoadError:{code:"h011",msg:"ERR_SERVER"},manifestLoadTimeOut:{code:"h012",msg:"ERR_SERVER"},manifestParsingError:{code:"h013",msg:"VIDEO_LOAD_ERROR"},levelLoadError:{code:"h014",msg:"ERR_SERVER"},levelLoadTimeOut:{code:"h015",msg:"ERR_SERVER"},fragLoadError:{code:"h021",msg:"ERR_SERVER"},fragLoopLoadingError:{code:"h022",msg:"VIDEO_LOAD_ERROR"},fragLoadTimeOut:{code:"h023",msg:"ERR_SERVER"},fragDecryptError:{code:"h024",msg:"VIDEO_LOAD_ERROR"},fragParsingError:{code:"h025",msg:"VIDEO_LOAD_ERROR"},keyLoadError:{code:"h031",msg:"ERR_SERVER"},keyLoadTimeOut:{code:"h032",msg:"ERR_SERVER"},manifestIncompatibleCodecsError:{code:"h101",msg:"VIDEO_LOAD_ERROR"},bufferAddCodecError:{code:"h111",msg:"VIDEO_LOAD_ERROR"},bufferAppendError:{code:"h112",msg:"VIDEO_LOAD_ERROR"},bufferAppendingError:{code:"h113",msg:"VIDEO_LOAD_ERROR"},bufferStalledError:{code:"h114",msg:"VIDEO_LOAD_ERROR",frequency:!0},bufferFullError:{code:"h115",msg:"VIDEO_LOAD_ERROR"},bufferSeekOverHole:{code:"h116",msg:"VIDEO_LOAD_ERROR",frequency:!0},levelSwitchError:{code:"h201",msg:"VIDEO_LOAD_ERROR"},internalException:{code:"h202",msg:"VIDEO_LOAD_ERROR"}};function Nn(e){var t=e,n=["Bytes","KBps","MBps","GBps","TBps"];if(0===t)return"n/a";var i=parseInt(Math.floor(Math.log(t)/Math.log(1024)),10);return 0===i?"".concat(t," ").concat(n[i],")"):"".concat((t/Math.pow(1024,i)).toFixed(1)," ").concat(n[i])}var Bn="undefined"!=typeof performance&&"function"==typeof performance.mark&&"function"==typeof performance.clearMarks&&"function"==typeof performance.measurormance.clearMeasures,xn=function(),e)}return x()(e,[{key:"supports",value:function(){return Bn}},{key:"mark",value:function(e){this.supports()&&window.performance.mark(e)}},{key:"measure",value:function(e,t,n){if(this.supports()){if(!this.isExistMark(t)||!this.isExistMark(n))return;window.performance.measure(e,t,n)}}},{key:"getMeasureResult",value:function(e){if(this.supports()){var t=window.performance.getEntriesByType("measure"),n=y()(t,function(t){return t.name==e});rtion(e){this.supports()&nce.clearMarks!==undefined&&window.performance.clearMarks(e)}},{key:"clearAllMarks",value:function(){performance.clearMarks!==undefined&&window.performance.clearMarks()}},{key:"isExistMark",value:function(e){var t=window.performance.getEntriesByType("mark");return!(!this.supports()||-1===wn()(t,function(t){return t.name==e}))}},{key:"isExistMeasure",value:function(e){var t=window.performance.getE!(!this.suppor}))}}]),e}(),Un=function(){return window.navigator.userAgent},Vn=function(){return J.IS_ANDROID?J.searchOSVersion():-1},Wn=function(){return J.IS_WINDOWS_MOBILE},Gn=function(){return J.IS_IOS},jn=function(){return J.IS_IPAD},Xn=function(){return J.IS_ANDROID},Hn=function(){var e=Un();return new RegExp("NAVER\\(inapp; cafe;","i").test(e)},qn=function(){var e=Uew .([0-9]+)","i").exec(e)},zn=function(){return J.IS_NAVER_APP},Qn=function(){return J.IS_IOS?J.searchOSVersion():-1},Zn=function(){if(J.IS_ANDROID&&J.searchOSVersion()>=5)return!0},Yn=["Galaxy S3","GalaxyS4","Galaxy S4","SHW-M250","SHW-M440","SHV-E210","SHV-E300","SHV-E330","SM-G900","SM-G920","SM-G925","SHV-E160","SHV-E250","SM-N900","GT-N9000","GT-N9005","GT-N9002","SM-N910","SM-N915","GT-I920","GT-I8552","SM-G710","SHV-E270","SM-G7102","SM-G7105","SM-G720","SM-G360","SM-A500","SM-A700","SM-G530","SM-E500","SM-J700","SM-J100","SM-G357","SM-G355","GT-N5100","GT-N5110","GT-N5120","SHW-M480","GT-N8000","GT-N8005","GT-P3100","GT-P3105","SM-T320","SM-T321","SM-T322","SM-T700","SM-T701","SM-T702","LG-F320","LG-F180","LG-F240","LG-F200","LG-F160","LG-F300","LG-F400","LG-F350","LG-F300","IM-A860","IM-A890","IM-A900","Nexus 7","Nexus 5","MT1-U06","X9006","A500CG"];function Jn(e){var t=e.playerType,n=4.1,i=5;function r(){var e=Vn();return n<=e&&e<i}function a(e,t){var n=Un(),i=new RegExp(e,"i").exec(n),r=-1;if(i){var a=i[2],s=i[3],o=i[4],u=i[5]?i[5]:"";r=parseFloat(a+"."+s+o+u)}var d=n.indexOf("iPhone OS ")+"iPhone OS ".length,l=n.indexOf(" like"),c=n.substring(d,l),h=parseInt(c,10);return r>=t&&h>=6}var s,o;return!(!f()(["HTML5_PC"],t)||J.isMobile())||(!!Wn()||(!!jn()||(!qn()||!Gn())&&(!(Hn()&&a("NAVER\\(inapp; cafe; ([0-9]+); ([0-9]+)\\.([0-9]+)\\.([0-9]+)",3.39)&&Gn())&&(!!(zn()&&a("NAVER\\(inapp; search; ([0-9]+); ([0-9]+)\\.([0-9]+)\\.([0-9]+)",6.12)&&Gn())||(!!(Kn()&&a("Line/()([0-9]+).([0-9]+).([0-9]+).?([0-9]?)",5.606)&&Gn())||(!!(Gn()&&Qn()>=10)||!!Xn()&&(!!Zn()||(!(!zn()||!r())||(s=Un(),o=new RegExp(Yn.join("|"),"i"),!!(r()&&o.exec(s)&&function(){var e=Un(),t=new RegExp(" (chrome|safari)\\/(\\d+)\\.*(\\d+)*","i"),n=new RegExp(" (chrooperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ti=new De({src:"//imasdk.googleapis.com/js/sdkloader/ima3.js",global:"google.ima"}),ni=$.Type,ii=(ni.AD_LOAD_ERROR,ni.AD_PLAY_ERROR),ri=$.LOAD_STAT_CODE,ai=$.START_STAT_CODE,si=$.ERROR_DETAIL_CODE,oi=Ie.Type,ui=oi.LOAD_SUCCESS,di=(oi.LOAD_FAILED,H.Type),li=di.MEDIATION_READY,ci=di.MEDIATION_FAILED,hi=function(){function e(t){var n=this;N()(this,e),u()(this,"onAdLoadFailedTimeout",function(){var e=n.adapterManager,t=n.encrypted,i=n.eventTracking,r=e.callLogs,a=i.loadErrors;try{n.reset(),n.player.getThirdPartyAdController().removeAllEventListener()}catch(o){}var s={st:ri.STAT_CODE_TIMEOUT,erc:si.LOAD_ERROR_AD_SELECTION_NO_FILL,erm:"IMA_AD_LOAD_FAILED_TIMEOUT"};r(a,t,s,"ssp loaded error(ima) url"),e.fireEvent({name:ci})}),this.adDisplayContainer=null,this.adDisplayContainerInitialized=!1,this.adsLoader=null,this.adsManager=null,this.adsRenderingSettings=null,this.currentAd=null,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.adBreakReadyListener,this.contentCompleteCalled=!1;var i=t.adProvider,r=t.eventTracking,a=t.unitId,s=t.divId,o=t.playerInfo,d=t.adPlaybackInfo,l=t.videoAdOptions,c=t.eventNotifier,h=t.mediaParams,A=t.timeoutManager,f=t.adapterManager,p=o.player,v=o.adContainer,g=o.videoEl,y=o.locale,m=o.playerType,E=o.playback_method,D=i.adInfo,I=D.requestSizes,_=D.sdkRequestInfo,S=i.adProviderName,k=i.eventTracking,w=i.encrypted,L=i.videoOutput,C=i.creativeType,O=i.renderType,T=_.AD_UNIT_CODE,R=_.NETWORK_CODE,b=_.maxRedirect,F=(_.vastLoadTimeout,_.ad_rule),P=Ae()(_,["AD_UNIT_CODE","NETWORK_CODE","maxRedirect","vastLoadTimeout","ad_rule"]),M=h.contentKeywords,B=Ae()(h,["contentKeywords"]);this.adProviderName=S,this.eventTracking=r,this.adEvtTrk=k,this.encrypted=w,this.creativeType=C,this.renderType=O,this.unitId=a,this.divId=s,this.playerInfo=o,this.adPlaybackInfo=d,this.eventNotifier=c,this.adapterManager=f,this.player=p,this.videoEl=g,this.locale=y,this.playerType=m,this.playback_method=E,this.viewableImpFlag=!1,this.timeoutManager=A,this.adsManagerDimensions={width:0,height:0};var x={description_url:encodeURIComponent(location.href),hl:y,correlator:+new Date},U={iu:"/".concat(R,"/").concat(T)},W={sz:"".concat(I[0].width,"x").concat(I[0].height)},G={output:"".concat(L.toLowerCase())},j={cust_params:B},X={ad_rule:F||0},H={};H.params=V()({},U,W,G,P,j,X,x),H.numRedirects=b,H.vastLoadTimeout=A.timeout,H.contentKeywords=M,fn.isMobilePlayer(m)&&(Pn.isSupportedHls()||""!=g.canPlayType("application/vnd.apple.mpegurl")||""!=g.canPlayType("application/x-mpegURL"))?H.enableHls=l.enableHls:H.enableHls=!1,this.imaOptions=ei(ei({},H),{},{adsRenderingSettings:{}}),this.playerWrapperDiv=document.getElementById(s),this.autoPlayAdBreaks=this.imaOptions.autoPlayAdBreaks||!0,this.adTagUrl=e.buildAdTagUrl(this.imaOptions.params),this.controller=new pn({divId:s,adapter:this,playerType:m,adContainer:v,locale:y}),this.adContainerDiv=this.controller.getAdContainerDiv({type:"ima"}),this._registerEvents(),this.timingPerformanceDebuger=new xn}return x()(e,[{key:"handle",value:function(){var e=s()(r.a.mark(function t(e){var n,i,a,s,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.adapterManager,i=this.eventTracking.loadErrors,a=this.encrypted,s=n.callLogs,this.adapters=e,this.getPlaybackInfo(),t.prev=4,t.next=7,ti.load();case 7:this.adContainerDiv.style.display="block",this.playback_method(this,this.playerInfo,this.playbackInfo.initialized),this.playbackInfo.initialized&&(this.setVideoPlaybackInfo(this.playbackInfo),this.onPlayerReady()),this.adapterManager.fireEvent({name:li}),t.next=21;break;case 13:t.prev=13,t.t0=t["catch"](4),this.reset(),this.player.getThirdPartyAdController().removeAllEventListener(),o={st:ri.STAT_CODE_ERROR,erc:si.LOAD_ERROR_AD_SELECTION,erm:"IMA_LIB_LOAD_FAILED"},s(i,a,o,"ssp loaded error(ima) url"),onAdLoadFailed();c4,13]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getPlaybackInfo",value:function(){var e=this,t=y()(spwp.adUnits,function(t){return t.getUnitId()==e.unitId}).getAdapterManager();this.playbackInfo=t.playerInfo.playbackInfo}},{key:"setPlayerInfo",value:function(e){}},{key:"setVideoPlaybackInfo",value:function(e){var t=this,n=e.autoplayAllowed,i=e.autoplayRequiresMuted,r=e.bitrate;this.imaOptions.autoplayRequiresMuted=i,this.ima=y()(spwp.adUnits,function(e){return e.getUnitId()==t.unitId}).getAdapterManager();a.playerInfo.playbackInfo={autoplayAllowed:n,autoplayRequiresMuted:i,bitrate:r},a.playerInfo.playbackInfo.initialized=!0}},{key:"initAdObjects",value:function(){this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),this.imaOptions.vpaidMode&&this.adsLoader.getSettings().setVpaidMode(this.imaOptions.vpaidMode),this.locale&&this.adsLoader.getSettings().setLocale(this.locale),this.imaOptions.numRedirects&&this.adsLoader.getSettings().setNumRedirects(this.imaOptions.numRedirects),this.adsLoader.getSettings().setPlayerType(this.playerType),this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1)}},{key:"requestAds",value:function(){var e=new google.ima.AdsRequest;this.adTagUrl?e.adTagUrl=this.adTagUrl:e.adsResponse=this.imaOptions.adsResponse,this.imaOptions.forceNonLinearFullSlot&&(e.forceNonLinearFullSlot=!0),this.imaOptions.vastLoadTimeout>0&&(e.vastLoadTimeout=this.imaOptions.vastLoadTimeout),this.imaOptions.contentKeywords&&(e.contentKeywords=this.imaOptions.contentKeywords);var t=this.getPlayerSize();e.linearAdSlotWidth=t.width,e.linearAdSlotHeight=t.height,e.nonLinearAdSlotWidth=this.imaOptions.nonLinearWidth||t.width,e.nonLinearAdSlotHeight=this.imaOptions.nonLinearHeight||t.height,e.setAdWillPlayMuted(this.imaOptions.autoplayRequiresMuted),this.addTriggerCallback(),this.adsLoader.requestAds(e),this.timeoutManager.initTimer(this)}},{key:"addTriggerCallback",value:function(){var e=this,t=function n(){var t;t=e.adsManager.getCuePoints(),e._hasPostRoll=f()(t,-1),e.internalEvent.removeListener("metadataLoaded",n),e.internalEvent.removeListener("adLoaded",n),e.internalEvent.removeListener("contentPauseRequested",n)};this.internalEvent.on("metadataLoaded",t),this.internalEvent.on("adLoaded",t),this.internalEvent.on("contentPauseRequested",t)}},{key:"createAdsRenderingSettings",value:function(){this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!1,this.adsRenderingSettings.uiElements=[google.ima.UiElements.COUNTDOWN,google.ima.UiElements.AD_ATTRIBUTION],this.adsRenderingSettings.enablePreloading=!1,this.adsRenderingSettings.mimeTypes=["video/mp4"],this.imaOptions.enableHls&&this.adsRenderingSettings.mimeTypes.unshift("application/x-mpegURL");var e=this.imaOptions.adsRenderingSettings.bitrate;e&&0!==e&&(this.adsRenderingSettings.bitrate=e)}},{key:"onAdsManagerLoaded",value:function(e){var t,n=this;this.createAdsRenderingSettings(),this.adsManager=e.getAdsManager(this.videoEl,this.adsRenderingSettings),this.managerEvents=(t={},u()(t,google.ima.AdErrorEvent.Type.AD_ERROR,function(e){n.onAdError(e)}),u()(t,google.ima.AdEvent.Type.AD_BREAK_READY,function(e){n.onAdBreakReady(e)}),u()(t,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(e){n.onContentPauseRequested(e)}),u()(t,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(e){n.onContentResumeRequested(e)}),u()(t,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(e){n.onAllAdsCompleted(e)}),u()(t,google.ima.AdEvent.Type.AD_METADATA,function(e){n.onAdMetaData(e)}),u()(t,google.ima.AdEvent.Type.LOADED,function(e){n.onAdLoaded(e)}),u()(t,google.ima.AdEvent.Type.IMPRESSION,function(e){n.onAdImpression(e)}),u()(t,google.ima.AdEvent.Type.STARTED,function(e){n.onAdStarted(e)}),u()(t,google.ima.AdEvent.Type.AD_PROGRESS,function(e){n.onAdProgress(e)}),u()(t,google.ima.AdEvent.Type.CLICK,function(e){n.onAdClicked(e)}),u()(t,google.ima.AdEvent.Type.COMPLETE,function(e){n.onAdComplete(e)}),u()(t,google.ima.AdEvent.Type.SKIPPED,function(e){n.onAdSkipped(e)}),u()(t,google.ima.AdEvent.Type.LOG,function(e){n.onAdLog(e)}),u()(t,google.ima.AdEvent.Type.PAUSED,functigoogle.ima.AdEvent.Type.RESUMED,function(e){n.onAdResumed(e)}),t),v()(F()(this.managerEvents),function(e){n.adsManager.addEventListener(e,n.managerEvents[e])}),this.autoPlayAdBreaks||this.initAdsManager(),this.internalEvent.emit("adsReady")}},{key:"onAdsLoaderError",value:function(e){this.timingPerformanceDebuger.mark("mark_ad_load_end"),this.timingPerformanceDebuger.measure("measure_ad_load","mark_ad_load_begin","mark_ad_load_end");var t,n,i=this.adapterManager,r=this.eventTracking,a=i.callLogs,s=this.findeOut("measure_ad_load","failure"),o=r.loadErrors,u=e.getError(),d=u.getErrorCode(),l=(u.getVastErrorCode(),u.getMessage()),c=(u.getType(),{type:"error",data:[{code:d,message:l}]});this.internalEvent.emit("adLoadedError",c),d==google.ima.AdError.ErrorCode.VAST_EMPTY_RESPONSE?(t=ri.STAT_CODE_NO_FILL,n=si.LOAD_ERROR_AD_SELECTION_NO_FILL):d==google.ima.AdError.ErrorCode.VAST_LOAD_TIMEOUT?(t=ri.STAT_CODE_TIMEOUT,n=si.LOAD_ERROR_AD_SELECTION_NO_FILL):(t=ri.STAT_CODE_ERROR,n=si.LOAD_ERROR_AD_SELECTION);var h={st:t,erc:n,ersc:d,erm:l};s&&s.duration&&(h.rt=s.duration),a(o,this.encrypted,h,"ssp loaded error(ima) url");try{this.reset(),this.player.getThirdPartyAdController().removeAllEventListener()}catch(A){}this.timeoutManager.clearDefaultTimeout(),this.onAdLoadFailed()}},{key:"initAdsManager",value:function(){try{var e=this.getPlayerSize(),t=e.width,n=e.height,i=e.isFullscreen?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL;this.adsManagerDimensions.width=t,this.adsManagerDimensions.height=n,this.adsManager.init(t,n,i),this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainer.initialized=!0)}catch(r){}}},{key:"onAdError",value:function(e){this.timingPerformanceDebuger.mark("mark_ad_start_end"),this.timingPerformanceDebuger.measure("measure_ad_start","mark_ad_start_begin","mark_ad_start_end");var t=this.findeOut("measure_ad_start","failure"),n=this.adapterManager,i=this.eventTracking,r=n.callLogs,a=i.startErrors,s=e.getError!==undefined?e.getError().getErrorCode():"",o=e.getError!==undefined?e.getError().getMessage():e.stack;e.getError!==undefined&&e.getError().getType();this.adsActive=!1,this.adPlaying=!1;var u,d,l={type:"error",data:[{code:s,message:o}]};this.internalEvent.emit("adError",l),this.eventNotifier.notifyAdError({code:s,message:o,type:ii}),this.reset(),f()([google.ima.AdError.ErrorCode.VIDEO_PLAY_ERROR,google.ima.AdError.ErrorCode.AUTOPLAY_DISALLOWED],s)?(u=ai.STAT_CODE_ERROR,d=si.START_ERROR_MEDIA_START_FAILED):s==google.ima.AdError.ErrorCode.VAST_MEDIA_LOAD_TIMEOUT?(u=ai.STAT_CODE_TIMEOUT,d=si.START_ERROR_MEDIA_START_FAILED):(u=ai.STAT_CODE_ERROR,d=si.START_ERROR_MEDIA_START);var c={st:u,erc:d,ersc:s,erm:o};t&&t.duration&&(c.rt=t.duration),r(a,this.encrypted,c,"ssp play error(ima) url")}},{key:"o",value:function(){this.internalEvent.emit("metadataLoaded")}},{key:"onAdLoaded",value:function(e){var t=this.adapterManager,n=this.eventTracking,i=this.adEvtTrk,r=this.creativeType,a=t.callLogs;this.timingPerformanceDebuger.mark("mark_ad_start_begin"),this.timingPerformanceDebuger.mark("mark_ad_load_end"),this.timingPerformanceDebuger.measure("measure_ad_load","mark_ad_load_begin","mark_ad_load_end");var s=this.findeOut("measure_ad_load","success");this.controller.showAdContainer(),this.currentAd=e.getAd(),this.internalEvent.emit("adLoaded",this.getAdInfo()),e.getAd().isLinear()||(this.controller.onNonLinearAdLoad(),this.internalEvent.emit("nonLinearAdLoad"));var o=n.ackImpressions,u=i.ackImpressions,d={st:ri.STAT_CODE_SUCCESS,ct:r};s&&s.duration&&(d.rt=s.duration),a(u,null,null,"dsp ack url"),a(o,this.encrypted,d,"ssp ack(ima) url"),this.eventNotifier.notifyAdLoaded(this.getGfpAd()),this.timeoutManager.fireEvent({name:ui})}},{key:"onAdImpression",value:function(e){var t=this.adapterManager,n=this.eventTracking,i=this.adEvtTrk,r=this.creativeType,a=t.callLogs,s=n.renderedImpressions,o={ct:r};a(i.renderedImpressions,null,null,"dsp render imp url"),a(s,this.encrypted,o,"ssp render imp(ima) url"),this.eventNotifier.notifyAdImpression(this.getGfpAd()),this.viewableImpFlag=!1}},{key:"onAdStarted",value:function(e){this.currentAd=e.getAd();var t={};t.mediaUrl=this.currentAd.getMediaUrl(),t.vastMediaBitrate=this.currentAd.getVastMediaBitrate(),t.vastMediaWidth=this.currentAd.getVastMediaWidth(),t.vastMediaHeight=this.currentAd.getVastMediaHeight(),t.contentsBitrate=this.imaOptions.adsRenderingSettings.bitrate,this.timingPerformanceDebuger.mark("mark_ad_start_end"),this.timingPerformanceDebuger.measure("measure_ad_start","mark_ad_start_begin","mark_ad_start_end"),this.findeOut("measure_ad_start","success",t),this.currentAd.isLinear()?this.controller.onLinearAdStart():this.controller.onNonLinearAdStart(),this.internalEvent.emit("adStarted",this.getAdInfo()),this.eventNotifier.notifyAdStarted(this.getGfpAd())}},{key:"onAdProgress",value:function(e){var t=this.adapterManager,n=this.eventTracking,i=this.adEvtTrk,r=this.creativeType,a=t.callLogs,s=n.viewableImpressions,o=i.viewableImpressions,u=e.getAdData().currentTime,d=u>=2;if(!this.viewableImpFlag&&d){this.viewableImpFlag=!0;var l={ct:r};a(o,null,null,"dsp viewable imp url"),a(s,this.encrypted,l,"ssp viewable imp(ima) url")}}},{key:"onContentPauseRequested",value:function(e){this.currentAd=e.getAd(),this.adsActive=!0,this.adPlaying=!0,this.controller.onAdBreakStart(e),this.internalEvent.emit("contentPauseRequested",this.getAdInfo())}},{key:"onContentResumeRequested",value:function(e){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd(),this.internalEvent.emit("contentResumeRequested",this.getAdInfo())}},{key:"onAllAdsCompleted",value:function(e){this.contentCompleteCalled&&this.internalEvent.emit("allAdsCompleted"),this.allAdsCompleted=!0,this.controller.onAllAdsCompleted(),this.reset()}},{key:"onAdPaused",value:function(e){this.eventNotifier.notifyAdPaused(this.getGfpAd())}},{key:"onAdResumed",value:function(e){this.eventNotifier.notifyAdResumed(this.getGfpAd())}},{key:"onAdComplete",value:function(e){this.eventNotifierction(e){this.eventNotifier.notifyAdSkipped(this.getGfpAd())}},{key:"onAdClicked",value:function(e){var t=this.adapterManager,n=this.eventTracking,i=this.adEvtTrk,r=this.creativeType,a=t.callLogs,s=n.clicks,o={ct:r};a(i.clicks,null,null,"ads click url"),a(s,this.encrypted,o,"ssp click(dfp) url"),this.eventNotifier.notifyAdClicked(this.getGfpAd())}},{key:"onAdLog",value:function(e){}},{key:"onContentComplete",value:function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),this.player.getThirdPartyAdController().removeAllEventListener()}},{key:"createAdDisplayContainer",value:function(){var e=this;this.locale&&google.ima.settings.setLocale(this.locale),google.ima.settings.setPlayerType(this.playerType),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.adDisplayContainer=this.adPlaybackInfo.ima.adDisplayContainer?this.adPlaybackInfo.ima.adDisplayContainer:new google.ima.AdDisplayContainer(this.adContainerDiv,this.videoEl),v()(this.adapters,function(t){t!==e&&t.renderType!==e.renderType&&t.createAdDisplayContainer()}),this.adPlaybackInfo.ima.adDisplayContainer=this.adDisplayContainer}},{key:"initializeAdDisplayContainer",value:function(){var e=this;this.adDisplayContainer&&(this.adDisplayContainerInitialized=!0,this.adDisplayContainer.initialize()),v()(this.adapters,function(t){t!==e&&t.renderType!==e.renderType&&t.initializeAdDisplayContainer()})}},{key:"onPlayerReady",value:function(){if(Jn({playerType:this.playerType}))this.timingPerformanceDebuger.mark("mark_ad_load_begin"),this.initAdObjects(),(this.adTagUrl||this.imaOptions.adsResponse)&&this.requestAds();else{this.internalEvent.emit("adError",{type:"error",data:[{message:"not support browser"}]})}}},{key:"onPlayerReadyForPreroll",value:function(){if(this.autoPlayAdBreaks){this.initAdsManager();try{this.controller.showAdContainer(),this.adsManager.start()}catch(i){var e=i.getErrorCode!==undefined?i.getErrorCode():"",t=i.getMessage!==undefined?i.getMessage():"";this.adsActive=!1,this.adPlaying=!1;var n={type:"error",data:[{code:e,message:t}]};this.internalEvent.emit("adError",n),this.reset()}}}},{key:"onPlayerEnterFullscreen",value:function(){this.adsManager&&(this.adsManager.resize(window.screen.width-4,window.screen.height-4,google.ima.ViewMode.FULLSCREEN),this.playerWrapperDiv.style.cssText="position:absolute; top:0px; left:0px; width: ".concat(window.screen.width,"px; height: ").concat(window.screen.height,"px;"),this.adContainerDiv.style.cssText="position:absolute; top:0px; left:0px; width: ".concat(window.screen.width,"px; height: ").concat(window.screen.height,"px;"),this.fullscreen=!0)}},{key:"onPlayerExitFullscreen",value:function(){if(this.adsManager){var e=this.getPlayerSize();this.adsManager.resize(e.width,e.height,google.ima.ViewMode.NORMAL),this.playerWrapperDiv.style.cssText="position:relative; top:0px; left:0px;",this.adContainerDiv.style.cssText="position:absolute; top:0px; left:0px; width: ".concat(e.width,"px; height: ").concat(e.height,"ps.adsManager&&this.adsManager.setVolume(e),this.adMuted=0==e}},{key:"onPlayerResize",value:function(){if(this.adsManager){var e=this.getPlayerSize(),t=e.isFullscreen?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL;this.adsManagerDimensions.width=e.width,this.adsManagerDimensions.height=e.height,this.adsManager.resize(e.width,e.height,t)}}},{key:"getCurrentAd",value:function(){return this.currentAd}},{key:"setAdBreakReadyListener",value:function(e){this.adBreakReadyListener=e}},{key:"isAdPlaying",value:function(){return this.adPlaying}},{key:"isAdMuted",value:function(){return this.adMuted}},{key:"pauseAds",value:function(){this.adsManager&&(this.ahis.adsManager&&(this.adsManager.resume(),this.adPlaying=!0)}},{key:"unmute",value:function(){this.adsManager&&(thiss.adsManager&&(this.adsManager.setVolume(0),this.adMuted=!0)}},{key:"setVolume",value:function(e){this.adsManager&&(this.adsManager.setVolume(e),this.adMuted=0==e)}},{key:"playAdBreak",value:function(){!this.autoPlayAdBreaks&&this.adsManager&&(this.controller.showAdContain(e,t){this.adsManager&&this.adsManager.addEventListener(e,t)}},{key:"getAdsManager",value:function(){return this.adsManager}},{key:"reset",value:function(){var e=this;this.adContainerDiv.style.display="none",this.adsActive=!1,this.adPlaying=!1,this.adsManager&&(v()(F()(this.managerEvents),function(t){e.adsManager.removeEventListener(t,e.managerEvents[t])}),this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&(this.adsLoader.contentComplete(),this.adsLoader.destroy(),this.adsLoader=null),this._unregisterEvents(),this.timeoutManager.clearDefaultTimeout()}},{key:"_registerEvents",value:function(){var e=this,t=hn()(this.onPlayerResize.bind(this),5new z.a,this._coreEvents={resizeLayout:function(){return t()}},v()(F()(this._coreEvents),function(t){e.player.on(t,e._coreEvents[t])})}},{key:"_unregisterEvents",value:function(){var e=this;this._coreEvents&&(v()(F()(this._coreEvents),function(t){e.player.off(t,e._coreEvents[t])}),this._coreEvents=null),v()(F()(this.internalEvent._events),function(t){e.internalEvent.removeAllListeners(t)}),this.controller&&(this.controller.reset(),this.controller=null)}},{key:"getPlayerSize",value:function(){var e=this.player.getPlayerSize();return{isFullscreen:this.player.isFullScreen(),widreen=!1):(this.onPlayerEnterFullscreen(),this.fullscreen=!0)}},{key:"getAdInfo",value:function(){var e={type:"",data:[]},t=this.adProviderName,n=this.currentAd?this.currentAd.getAdPodInfo().getTimeOffset():"unknown",i=this.currentAd?this.currentAd.getSkipTimeOffset():"unknown";return 0==n?e.type="pre":-1==n?e.type="post":"unknown"==n?e.type="unknown":(e.type="mid",e.phase="mid"),e.data.push({adSystem:t,skipTimeOffset:i}),e}},{key:"getGfpAd",value:function(){var e=this.adProviderName,t=this.currentAd,n=t?t.getAdPodInfo().getTimeOffset():"unknown",i=t?t.getSkipTimeOffset():"unknown",r=t?t.getVastMediaWidth():"",a=t?t.getVastMediaHeight():"",s=t?t.getDuration():"";return new Sn({adProvider:e,placementType:0==n?"pre":-1==n?"post":"unknown"==n?"unknown":"mid",duration:s,skipTimeOf)}},{key:"on",value:function(e,t){this.internalEvent.on(e,t)}},{key:"hasPostRoll",value:function(){return this._hasPostRoll}},{key:"findeOut",value:function(e,t,n){if(this.timingPerformanceDebuger.supports()){var i={};if(this.timingPerformanceDebuger.supports()){if(!this.timingPerformanceDebuger.isExistMeasure(e))return;var r=this.timingPerformanceDebuger.getMeasureResult(e);i.name=r.name,i.adProvider="".concat(this.adProviderName),i.result=t,i.duration=Math.floor(r.duration),n&&(i.creativeInfo=n),this.timingPerformanceDebuger.clearMeasures(e),"measure_ad_start"==e?(this.timingPerformanceDebuger.clearMark("mark_ad_start_begin"),this.timingPerformanceDebuger.clearMark("mark_ad_start_end")):"measure_ad_load"==e&&(this.timingPerformanceDebuger.clearMark("mark_ad_load_begin"),this.timingPerformanceDebuger.clearMark("mark_ad_load_end"))}else i.name=e,i.adProvider="".concat(this.adProviderName),i.result=t;return D.a.getConfig().debug&&this.id",value:function(){this.adapterManager.fireEvent({name:ci})}}],[{key:"buildAdTagUrl",value:function(e){var t=[];return v()(F()(e),funv()(F()(i),function(e){r.push("".concat(e,"=").concat(i[e]))}),i=encodeURIComponent(r.join("&"))}t.push("".concat(n,"=").concat(i))}),"".concat("https://pubads.g.doubleclick.net/gampad/ads","?").concat(t.join("&"))}}]),e}(),Ai=n(91),fi=n.n(Ai),pi=function(){function e(t){N()(this,e);var n=new Array;n.loadstart=0,n.progress=0,n.suspend=0,n.abort=0,n.error=0,n.emptied=0,n.stalled=0,n.loadedmetadata=0,n.loadeddata=0,n.canplay=0,n.canplaythrough=0,n.playing=0,n.waiting=0,n.seeking=0,n.seeked=0,n.ended=0,n.durationchange=0,n.timeupdate=0,n.play=0,n.pause=0,n.ratechange=0,n.resize=0,n.volumechange=0,this.media_events=n,this.loadstarted=!1,this.runRatePercent=0,this.runRate=0,this.loadRatePercent=0;var i=t.video,r=t.progress,a=void 0===r?[]:r,s=t.quartiles,o=void 0===s?[]:s;this.video=i,this.progressOffset=a,this.quartilesOffset=o,this.callbacks=new Array,this.util=new Ne.a,this.ended=!1,this.addEvent()}return x()(e,[{key:"addListener",value:function(){return this.callbacks[arguments[0]]={callback:arguments[1]},this}},{key:"removeListener",value:function(){this.callbacks[arguments[0]]=null}},{key:"setAutoPlay",value:function(e){this.video.autoplay=e}},{key:"setControls",value:function(e){this.video.controls=e}},{key:"setPoster",vaster=e}},{key:"setPreload",value:function(e){video.preload=e}},{key:"addSource",value:function(e,t){var n=document.createElement("source");n.setAttribute("src",e),n.setAttribute("type",t),this.video.appendChild(n)}},{key:"getCurrentTime",value:function(){return this.video.currentTime}},{key:"setCurrentTime",value:fuon(){return isNaN(this.video.duration)?0:this.video.duration}},{key:"getVolume",valueume}},{key:"setVolume",value:function(e){this.video.volume=e}},{key:"eo.play()}},{key:"pause",value:function(){this.video.pause()}},{key:"mututed=!0}},{key:"unmute",value:function(){this.video.muted=!1}},{key:"isPaused",value:function(){return this.video.paused}},{key:"addEvent",value:function(){for(var e in this.media_events)window.addEventListener&&(this.bindEventHandler=this.videoEventHandler.bind(this),this.video.addEventListener(e,this.bindEventHandler))}},{key:"removeEvent",value:function(){for(var e in this.media_events)window.removeEventListener&&(this.video.removeEventListener(e,this.bindEventHandler),this.removeListener(e))}},{key:"videoEventHandler",value:function(e){var t=this.video;switch(e.type){case"loadstart":this.loadstarted=!0;break;case"durationchange":case"loadedmetadataHandler":case"timeupdate":if(isNaN(t.duration))return;this.runRatePercent=(t.currentTime/t.duration*100).toFixed(2),this.runRate=(t.currentTime/t.duration).toFixed(4),this.checkTracking(this.progressOffset,e.target.currentTime),this.checkTracking(this.quartilesOffset,e.target.currentTime);break;case"progress":for(var n=0,i=t.buffered.length-1;i>=0;i--)if(t.buffered.start(i)<=t.currentTime){n=t.buffered.end(i);break}this.loadRatePercent=(n/t.duration*100).toFixed(2);break;case"ended":this.ended=!0}this.callbacks[e.type]&&this.callbacks[e.type].callback({event:e,current:e.target.currentTime,currentTime:Math.floor(e.target.currentTime),duration:Math.floor(e.target.duration),runRatePercent:this.runRatePercent,loadRatePercent:this.loadRatePercent,runRate:this.runRate})}},{key:"checkTracking",value:function(e,t){var n=this;fi()(e,function(e){var i=e.mark<=5?.2:1,r=t+i<=e.mark&&t+i+.3>e.mark;return r&&n.util.log(e.url),r})}}]),e}(),vi={Type:{ADS_MANAGER_LOADED:"adsManagerLoaded"}},gi={Type:{AD_ERROR:"adError"}},yi={Type:{AD_METADATA:"adMetadata",AD_BUFFERING:"AdBuffering",AD_PROGRESS:"adProgress",ALL_ADS_COMPLETED:"allAdsCompleted",CLICK:"click",COMPLETE:"COMPLETE",CONTENT_PAUSE_REQUESTED:"contentPauseRequested",CONTENT_RESUME_REQUESTED:"contentResumeRequested",FIRST_QUARTILE:"firstquartile",IMPRESSION:"impression",LOADED:"loaded",MIDPOINT:"midpoint",PAUSED:"pause",RESUMED:"resume",SKIPPED:"skip",STARTED:"start",THIRD_QUARTILE:"thirdquartile",VIEWABLE_IMPRESSION:"viewable_impression"}},mi="normal",Ei="fullscreen",Di=n(92),Ii=n.n(Di),_i=$.ERROR_DETAIL_CODE,Si={STOPPED:"STOPPED",PAUSED:"PAUSED",PLAYING:"PLAYING"},ki=function(){function e(t){var n=this;N()(this,e),u()(this,"onPlayerInitialize",function(){n.adsManager.onPlayerInitialize()});var i=t.adContainerEl,r=t.adUiManager;this.adContainerEl=i,this.adUiManager=r,this.adVideoWrapEl=this.adContainerEl.querySelector("[data-role='adVideoWrapEl']"),this.adControlEl=this.adVideoWrapEl.querySelector("[data-role='adControlEl']"),this.linkMore=this.adContainerEl.querySelector("[data-role='linkMore']"),this.initialized=!1,this.loaded=!1,this.isTryInit=!1,this.playbackState=Si.STOPPED,this.autoplayAllowed,this.autoplayRequiresMuted,this.fullscreen=!1,this.util=new Ne.a,this.internalEvent=new z.a,this.events={},this.createVideo()}return x()(e,[{key:"createVideo",value:function(){var e=this.adVideoWrapEl.querySelector("[data-role='videoEl']");null!==e?this.adVideoEl=e:(this.adVideoEl=document.createElement("video"),this.adVideoEl.setAttribute("data-role","videoEl"),this.adVideoWrapEl.insertBefore(this.adVideoEl,this.adControlEl))}},{key:"initialize",value:function(){var e=this;return this.isTryInit?this.promise:(this.promise=new Promise(function(){var t=s()(r.a.mark(function n(t,i){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.initialized&&i(),n.prev=1,n.next=4,e.isTryInit=!0,new Promise(function(t,n){e.adVideoWrapEl.style.display="none",e.adVideoEl.src=Ii.a,e.adVideoEl.setAttribute("playsinline",!0),e.adVideoEl.setAttribute("webkit-playsinline",!0);var i=e.adVideoEl,r=i.play(),a=function(){i.volume=0,i.muted=!0;var e=i.play();e!==undefined&&e.then(s)["catch"](o)},s=function(){i.pause(),e.autoplayAllowed=!0,e.autoplayRequiresMuted=!0,u()},o=function(){i.volume=1,i.muted=!1,e.autoplayAllowed=!1,e.autoplayRequiresMuted=!1,u()},u=function(){e.initialized=!0;try{e.initialized&&(e.adsManager!==undefined?e.adsManager.onPlayerInitialize():e.addEventListener("init",e.onPlayerInitialize),t())}catch(n){}};r!==undefined?r.then(function(){i.pause(),e=!0,e.autoplayRequiresMuted=!1,u()})["catch"](function(){a()}):(e.adsManager!==undefined?e.adsManager.onPlayerInitialize():e.addEventListener("init",e.onPlayerInitialize),n(new Error("playPromise is undefined")))});case 4:t(),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),i(n.t0);,7]])}));return function(e,n){return t.apply(this,arguments)}}()),this.promise)}},{key:"init",value:function(e){var t=e.adsManager,n=e.settings,i=e.initWidth,r=e.initHeight,a=e.viewMode;this.adsManager=t,this.settings=n,this.playerType=this.settings.getPlayerType(),this.playerWidth=i,this.playerHeight=r,this.viewMode=a,this._setViewMode(a),this.internalEvent.emit("init",this),this.adVideoWrapEl.style.cssText="position: absolute; width:".concat(i,"pxsetAdWillPlayMuted",value:fn(){this.adWillPlayMuted?this.setVolume(0):this.setVolume(1)}},{key:"loadAd",value:function(e){if(h()(e.mediaUrl))throw new Error("can not find a media file to play");this.adVideoWrapEl.style.display="block",this.currentAd=e,this.adVideoEl.src=this.currentAd.mediaUrl,this.adVideoEl.style.cssText="background-color: rgb(0, 0, 0); position: absolute; width: 100%; height: 100%; left: 0px; top: 0px;",this._addEvent(),this.loaded=!0,this.removeClass(this.adVideoWrapEl,"hide")}},{key:"play",value:function(){var e=s()(r.a.mark(function t(){var e,n=this;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=1,this.initialized){t.next=5;break}return t.next=5,this.initialize();case 5:t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),new Error("failed to play a media file");case 11:t.prev=11,t.prev=12,thiay())!==unERROR_MEDIA_START_FAILED,msg:"failed to play a media file"})}):this.adUiManager.addEvent(),this.playbackState=Si.PLAYING,t.next=23;break;case 19:throw t.prev=19,t.t1=t["catch"](12),new Error("failed to play a media file");case 23:return t.finish(11);case 24:case"e12,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"pause",value:function(){this.adVideoEl.pause(),this.playbackState=Si.PAUSED}},{key:"resize",value:function(e,t,n){this.playerWidth=e,this.playerHeight=t,this.viewMode=n,this.adVideoWrapEl.style.cssText="position: absolute; width:".concat(e,"px; height:").concat(t,ue:function(e,t){this.events[e]=t,this.internalEvent.on(e,t)}},{key:,{key:"isFullscreen",value:function(){return this.fullscreen}},{key:"getDuration",value:function(){return this.adVideoEl.duration}},{key:"setVolume",value:function(e){this.adVideoEey:"getVolume",value:function(){return this.adVideoEl.volume}},{key:"_addEvent",value:function(){var e=this,t=this.adUiManager.playPauseBtnController;try{this.videoCore=new pi({video:this.adVideoEl,progress:this.currentAd.loggingEvent.progress,quartiles:this.currentAd.loger.onAdBreakLoaded(),e.adsManager.onContentPauseRequested()}),this.videoCore.addListener("loadedmetadata",function(e){}),this.videoCore.addListener("loadeddata",function(t){"4"==e.adVideoEl.readyState&&e.adsManager.updateBu)}),this.videoCore.addListener("durationchange",function(e){}),this.videoCore.addListener("playing",function(t){e.adsManager.onAdBreakImpression(),e.adsManager.onAdBreakStarted(),e.videoCore.removeListener("playing")}),this.videoCore.addListener("timeupdate",function(t){e.videoCore.loadstarted&&(e.currentAd.remainingTime=e.currentAd.getDuration()-t.currentTime,e.adsManager.updateProgresnction(t){e.adsManager.updateBuffereer("ended",function(t){e.clear(),e.adsManager.onAdBreakEnd()}),this.videoCore.addListener("pause",function(n){n.duration!==n.currentTime&&(e.adsManager.onAdBreakPaused(),t&&t.togglePlayPause(!1))}),this.videoCore.addListener("play",function(n){e.adsManager.onAdBreakResumed(),t&&t.togglePlayPause(!0)}),this.linkMore.addEventListener("click",function()k(),v()(e.currentAd.clicktrackings,function(t){e.util.log(t)}),window.open(e.currentAd.clickThroughUrl)},!1)}catch(n){}}},{key:"clear",value:function(){this.playbackState=Si.STOPPED,this.adVideoWrapEl.style.display="none",this.adVideoEl.src=""}},{key:"reset",value:function(){var e=this;thiss),function(t){e.internalEvent.turn new RegExp("(^|[^Ass",value:function(e,t){e.tClassRegexp(t);e.className=e.className.trim().replace(n,"")}}]),e}(),wi=n(57),Li=n.n(wi),Ci=n(93),Oi=n.n(Ci),Ti=n(32),Ri=n.n(Ti);function bi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=Dn()(e);if(t){var r=Dn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return mn()(this,n)}}var Fi=["application/x-mpegURL","application/vnd.apple.mpegurl"],Pi=function(e){gn()(n,e);var t=bi(n);function n(e){var i,r;N()(this,n),r=t.call(this,e),Ri()((i=Li()(r),Dn()(n.prototype)),"createVideo",i).call(i);var a=e.videoAdOptions;return r.videoAdOptions=a,r.hlsProvider=new Pn(Li()(r)),r}return x()(n,[{key:"loadAd",value:function(e){if(this.hlsSupport=f()(Fi,e.mediaType),this.hlsSupport){if(h()(e.mediaUrl))throw new Error("can not find a media file to play");this.adVideoWrapEl.style.display="block",this.currentAd=e,this.adVideoEl.style.cssText="background-color: rgb(0, 0, 0); position: absolute; width: 100%; height: 100%; left: 0px; top: 0px;";try{this.hlsProvider.loadMediaFile(e.mediaUrl),Ri()(Dn()(n.prototype),"_addEvent",this).call(this),Oi()(Dn()(n.prototype),"loaded",!0,this,!0),Ri()(Dn()(n.prototype),"removeClass",this).call(this,this.adVideoWrapEl,"hide")}catch(t){throw new Error(t)}}else Ri()(Dn()(n.prototype),"loadAd",this).call(this,e)}},{key:"onAdError",value:function(e){this.adsManager.onAdError(e)}},{key:"reset",value:function(){var e=this;this.hlsSupport?(this.videoCore&&this.videoCore.removeEvent(),this.hlsProvider&&(this.hlsProvider.destroy(),this.hlsProvider=null),v()(F()(this.events),function(t){e.internalEvent.removeListener(t,e.events[t])})):Ri()(Dn()(n.prototype),"reset",this).call(this)}}]),n}(ki),Mi=function(){function e(t,n,i,r){N()(this,e),this.adContainerEl=t,this.serviceVideoEl=n,this.adUiManager=r,i.enableHls?this.adPlayer=new Pi({adContainerEl:t,adUiManager:r,videoAdOptions:i}):this.adPlayer=new ki({adContainerEl:t,adUiManager:r})}return x()(e,[{key:"initialize",value:function(){this.adPlayer.initialize()}},{key:"setAdWillPlayMuted",value:function(uted(e)}},{key:"destroy",value:function(){this.adPlayer=null}}]),e}(),Ni=function(){function e(t){N()(this,e);var n=t.code,i=t.message;this.code=n,this.message=i}return x()(e,[{key:"getErrorCode",value:function(){return this.code}},{key:"getMessage",value:function(){return this.message}}]),e}(),Bi=function(){function e(t){N()(this,e),this.errorInfo=t}return x()(e,[{key:"getError",value:function(){return this.errorInfo}}]),e}(),xi=function(){function e(t){N()(this,e);var n=t.type,i=t.adProgressData,r=t.adBreak;this.type=n,this.adProgressData=i,this.adBreak=r}return x()(e,[{key:"getAd",value:function(){return this.adBreak}},{key:"getAdData",value:function(){return this.adProgressData}}]),e}(),Ui=n(94),Vi=n.n(Ui),Wi=n(95),Gi=n.n(Wi),ji=n(17),Xi=n.n(ji),Hi=function(){function e(t){N()(this,e);var n=t.code,i=t.type;this.code=n,this.type=i,this.loadingInfo,this.loggingEvent,this.clicktrackings,this.adId,this.adSystem,this.nonLinears=[],this.companisons=[],this.contentType="",this.extension,this.clickThroughUrl,this.description,this.duration,this.mediaUrl,this.vastMediaBitrate,this.vastMediaWidth,this.vastMediaHeight,this.linear=!1,this.remainingTime=-1,this.adPodInfo={},this.adProgressData={},this.title,this.skip}return x()(e,[{key:"isLinear",value:function(){return this.linear}},{key:"isSkippable",value:function(){return this.skip.skippable}},{key:"getSkipTimeOffset",value:function(){return this.skip.skipOffset}},{key:"getContentType",value:function(){return this.contentType}},{key:"getDuration",value:function(){return this.duration}},{key:"getAdPodInfo",value:function(){return this.adPodInfo}},{key:"getMediaUrl",value:function(){return this.mediaUrl}},{key:"getVastMediaBitrate",value:function(){return this.vastMediaBitrate}},{key:"getVastMediaWidth",value:function(){return this.vastMediaWidth}},{key:"getVastMediaHeight",value:function(){return this.vastMediaHeight}}]),e}(),qi=function(){function e(t){N()(this,e);var n=t.adPosition,i=t.totalAds,r=t.timeOffset;this.adPosition=n,this.totalAds=i,this.timeOffset=r}return x()(e,[{key:"getAdPosition",value:function(){return this.adPosition}},{key:"getTotalAds",value:function(){return this.totalAds}},{key:"getTimeOffset",value:function(){return this.timeOffset}}]),e}(),Ki=["application/x-mpegURL","application/vnd.apple.mpegurl"];function zi(e,t){if(e){if(-1==e.indexOf("%")){var n=e.split(".")[0],i=e.split(".")[1]?parseFloat("0.".concat(e.split(".")[1])):0,r=n.split(":");return 3600*parseInt(r[0],10)+60*parseInt(r[1],10)+parseInt(r[2],10)+i}var a=e.split("%")[0];return parseFloat((t*a/100).toFixed(2))}return 0}function Qame("Impression"),function(e){t.push(e.firstChild.nodeValue)}),t}var Zi=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;N()(this,e),u()(this,"filterMediaFiles",function(e,t){return E()(e,function(e){var n=e.getAttribute("type");return!n||(t?f()(Ki,n):"video/mp4"===n)})}),this.core=t}return x()(e,[{key:"parseWrapper",value:function(e,t,n){var i=e.getElementsByTagName("Ad");if(!i||0===i.length)return null;v()(i,function(t){t.getElementsByTagName("Wrapper")[0],t.getElementsByTagName("VASTAdTagURI")[0].firstChild.nodeValue;n.impressions=n.impressions.concat(Qi(e));var i=t.getElementsByTagName("Creative");v()(i,function(e){var t=e.getElementsByTagName("Linear")[0];if(t){var i=t.getElementsByTagName("Tracking");v()(i,function(e){n.trackingEvents.push({name:e.getAttribute("event"),offset:e.getAttribute("offset"),url:e.firstChild.nodeValue})})}});var r=t.getElementsByTagName("Error")[0];r&&n.errors.push(r.firstChild.nodeValue);var a=t.getElementsByTagName("ClickTracking");v()(a,function(e){n.clickTrackings.push(e.firstChild.nodeValue)})})}},{key:"parseVAST",value:function(e,t,n,i){var r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0,a=this.filterMediaFiles,s={impressions:[],errors:[],clickTrackings:[],trackingEvents:[]};if(!e)return null;if(e.getElementsByTagName("VASTAdTagURI")[0])return this.parseWrapper(e,t,s),null;var o=[],u=e.getElementsByTagName("Ad");if(!u||0===u.length)return null;var d=!fn.isMobilePlayer();return v()(u,function(e,n){var l=new Hi({code:"not_loaded",type:"VIDEO_AD"});l.adId=e.getAttribute("id"),l.adSystem=Xi()(e.getElementsByTagName("AdSystem"),"[0].firstChild.nodeValue"),l.description=Xi()(e.getElementsByTagName("Description"),"[0].firstChild.nodeValue"),l.title=Xi()(e.getElementsByTagName("AdTitle"),"[0].firstChild.nodeValue");var c=n+1,A=u.length;l.adPodInfo=new qi({adPosition:c,totalAds:A,timeOffset:r});var p=Qi(e),g=e.getElementsByTagName("Creative");v()(g,function(e){var n=e.getElementsByTagName("Linear")[0],r=e.getElementsByTagName("NonLinearAds"),u=e.getElementsByTagName("CreativeExtensions")[0],c=e.getElementsByTagName("CompanionAds");if(r&&v()(r,function(e){var t=e.getElementsByTagName("NonLinear");!t||t.length<1||v()(t,function(t){var n=t.getElementsByTagName("StaticResource"),i=t.getAttribute("apiFramework")||"",r=Xi()(t.getElementsByTagName("NonLinearClickTracking"),"[0].firstChild.nodeValue"),a=Xi()(t.getElementsByTagName("NonLinearClickThrough"),"[0].firstChild.nodeValue"),s={id:t.getAttribute("id"),type:""===i?"nonLinearOverlay":"nonLinear",link:a,trackingEvents:{},resources:[],clickTracking:r,apiFramework:i},o=e.getElementsByTagName("Tracking");v()(o,function(e){var t=e.getAttribute("event"),n=e.firstChild.nodeValue;s.trackingEvents[t]=n}),v()(t.getElementsByTagName("StaticResource"),function(e){s.resources.push({data:e.firstChild.nodeValue,type:e.getAttribute("creativeType")||"plain/text"})}),l.nonLinears.push(s),""==l.contentType&&(l.contentType=n[0].getAttribute("creativeType"))})}),c&&v()(c,function(e){var t=e.getElementsByTagName("StaticResource"),n=e.getElementsByTagName("Tracking"),i=Xi()(e.getElementsByTagName("CompanionClickThrough"),"[0].firstChild.nodeValue"),r={id:e.getAttribute("id"),companionClickThrough:i,clicktrackings:{},resources:[],trackingEvents:{}};v()(n,function(e){var t=e.getAttribute("event"),n=e.firstChild.nodeValue;r.trackingEvents[t]=n}),v()(t,function(e){r.type=e.getAttribute("creativeType")||"plain/text",r.resources.push({data:e.firstChild.nodeValue,type:e.getAttribute("creativeType")||"plain/text"})}),l.companisons.push(r)}),u){var A=Xi()(u.getElementsByTagName("CreativeExtension"),"[0].firstChild.wholeText");l.extension=JSON.parse(A)}if(n){l.linea(g,[function(e){),10)}]);var m=Gi()(Ki,function(e){return f()(i.mimeTypes,e)}),E=a(g,m);if(m&&0=,v()(g,function(e){var t=e.getAttribute("bitrate");y.push(t)});var D=Ne.a.getNearestNumIdx(y,t);if(g[D]){var I=g[D].getAttribute("type");I&&I.indexOf("video/mp4;dimension=360")>-1?(d&&(D=Ne.a.getVrAdNumIdx(y,t)),l.dimension="360"):l.dimension="normal",l.mediaUrl=g[D].firstChild.nodeValue,l.contentType=I,l.mediaType=I,l.vastMediaBitrate=parseInt(g[D].getAttribute("bitrate"))||0,l.vastMediaWidth=parseInt(g[D].getAttribute("width"))||0,l.vastMediaHeight=parseInt(g[D].getAttribute("height"))||0}l.mediaUrl||(l.mediaUrl=null,l.dimension="normal")}l.skip={skipOffset:zi(n.getAttribute("skipoffset"))||-1,skippable:!h()(n.getAttribute("skipoffset"))};var _=parseInt(zi(Xi()(n.getElementsByTagName("Duration"),"[0].firstChild.nodeValue"))),S=n.getElementsByTagName("Tracking");l.duration=_,l.loggingEvent={markExpression:"second",start:[],complete:[],progress:[],quartiles:[],events:[]};var k=function(e,t,n){if(e&&t)if("skip"!=e){var i={name:e,url:t};i.mark="progress"==e?zi(n,_):function(e,t){return"start"==e?0:"firstquartile"==e?Math.round(t/4):"midpoint"==e?Math.round(t/2):"thirdquartile"==e?Math.round(t/4*3):"complete"==e?t-1:void 0}(e.toLowerCase(),_),"progress"==e?l.loggingEvent.progress.push(i):"start"==e?l.loggingEvent.start.push(i):"complete"==e?l.loggingEvent.complete.push(i):f()(["firstQuartile","midpoint","thirdQuartile"],e)?l.loggingEvent.quartiles.push(i):l.loggingEvent.events.push(i)}else l.skip.tracking=t};v()(S,function(e){var t=e.getAttribute("event"),n=e.getAttribute("offs}),v()(s.trackingEvents,function(e){k(e.name,e.url,e.offset)}),n.getElementsByTagName("ClickThrough").length>0&&(l.clickThroughUrl=n.getElementsByTagName("ClickThrough")[0].firstChild.nodeValue),l.clicktra(w,function(e){l.clicktrackings.push(e.firstChild.nodeValue)}),l.clicktrackings=l.clicktrackings.concat(s.clickTrackings),p=(p=p.concat(s.impressions)).map(function(e){return{url:e}}),l.loadingInfo={impressions:p,callbackTime:0,isSended:!1},l.code="loaded",o.push(l)}})}),o}}]),e}(),Yi=$.ERROR_DETAIL_CODE,Ji={IDLE:"IDLE",INITIALIZED:"INITIALIZED",LOADED:"LOADED",BUFFERING:"BUFFERING",PLAYING:"PLAYING",PAUSED:"PAUSED",STOPPED:"STOPPED",FINISHED:"FINISHED",ERROR:"ERROR"},$i=function(){function e(t){N()(this,e);var n=t.adDisplayContainer,i=t.adsRequest,r=t.adsResponse,a=t.settings,s=t.contentPlayback,o=t.adsRenderingSettings,u=n.adPlayer;this.adDisplayContainer=n,this.adsRequest=i,this.adsResponse=r,this.settings=a,this.adPlayer=u,this.contentPlayback=s,this.adsRenderingSettings=o,this.parser=new Zi,this.util=new Ne.a,this.internalEvent=new z.a,this.events={},this.cuePoints=[],this.videoAdState=Ji.IDLE,this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0,paused:!1}}return x()(e,[{key:"init",value:function(e,t,n){try{var i=this.settings,r=this.adsRenderingSettings.bitrate;if("vast"===this.adsResponse.output){var a=Ne.a.convertStringToXml(this.adsResponse.adm),s=this.parser.parseVAST(a,r,this.settings,this.adsRenderingSettings);this.adList=s,this.adPlayer.init({adsManager:this,settings:i,initWidth:e,initHeight:t,viewMode:n,adList:s})}this.videoAdStatus=Ji.INITIALIZED}catch(o){this.onAdError({code:Yi.START_ERROR_MEDIA_START,msg:o.message}),this.videoAdState=Ji.ERROR}}},{key:"loadAd",value:function(){try{this.currentAd=this.adList.shift(),this.adPlayer.loadAd(this.currentAd)}catch(e){this.onAdError({code:Yi.START_ERROR_MEDIA_START,msg:e.message}),this.videoAdState=Ji.ERROR}}},{key:"addEventListener",value:function(e,t){this.events[e]=t,this.internalEvent.on(e,t)}},{key:"removeEventListener",value:function(e,t){this.internalEvent.removeListener(e,t)}},{key:"setPlaybackEvent",value:function(){var e=this;this.videoCore=new pi({video:this.ge",function(t){e.contentPlayheadTracker.duration=t.duration}),this.videoCore.addListener("timeupdate",function(t){e.contentPlayheadTracker.currentTime=t.current,e.videoAdState,Ji.FINISHED})}},{key:"getCuePoints",value:function(){return this.cuePoints}},{key:"start",value:function(){try{this.adPlayer.play(),this.videoAdState=Ji.PLAYING}catch(e){this.onAdError({code:Yi.START_ERy:"resize",value:function(e,t,n){this.adPlayer.resize(e,t,n)}},{key:"setVolume",value:function(e){this.adPlayer.setVolume(e)}},{key:"getVolume",value:function(){return this.adPlayer.getVolume()}},{key:"getCurrentAd",value:function(){return this.currentAd}},{key:"getRemainingTime",value:function(){return this.currentAd.remainingTime}},{key:"pause",value:function(){this.adPlayer.pause(),this.videoAdState=Ji.PAUSED}},{key:"resume",value:function(){this.adPlayer.play(),this.videoAdState=Ji.PLAYING}},{key:"destroy",value:function(){var e=this;v()(F()(this.events),function(t){e.internalEvent.removeListener(t,e.events[t])});try{this.videoCore&&this.videoCore.removeEvent(),this.adPlayer.reset()}catch(t){}this.internalEvent=null}},{key:"updateBufferedData",value:function(e){var t={};t.buffered=e,this._eventEmit(yi.Type.AD_BUFFERING,t),this.videoAdState=Ji.BUFFERING}},{key:"updateProgressData",value:function(e){var t={};t.adPosition=this.currentAd.getAdPodInfo().adPosition,t.totalAds=this.currentAd.getAdPodInfo().totalAds,t.companisons=this.currentAd.companisons,t.duration=this.currentAd.getDuration(),t.currentTime=e,this._eventlize",value:function(){this.loadAd(),this.setPlaybackEvent()}},{key:"onAdBreakLoaded",value:function(){this.videoAdState=Ji.LOADED,this._eventEmit(yi.Type.LOADED)}},{key:"onAdBreakImpression",value:function(){this._callLog(this.currentAd.loadingInfo.impressions,"impression url"),this.currentAd.loadingInfo.isSended=!0,this._eventEmit(yi.Type.IMPRESSION)}},{key:"onAdBreakStarted",value:function(){this._callLog(this.currentAd.loggingEvent.start,"start url"),this._eventEmit(yi.Type.STARTED)}},{key:"onContentPauseRequested",value:function(){this._eventEmit(yi.Type.CONTENT_PAUSE_REQUESTED),this.contentPlayheadTracker.paused=!0}},{key:"onContentResumeRequested",value:function(){this._eventEmit(yi.Type.CONTENT_RESUME_REQUESTED),this.contentPlayheadTracker.paused=!1}},{key:"onAdBreakPaused",value:function(){this._eventEmit(yi.Type.PAUSED)}},{key:"onAdBreakResumed",value:function(){this._eventEmit(yi.Type.RESUMED)}},{key:"onAdBreakEnd",value:function(){this._callLog(this.currentAd.loggingEvent.complete,"complete url"),this._eventEmit(yi.Type.COMPLETE),this.onContentResumeRequested(),this.videoAdState=Ji.FINISHED,0==this.adList.length?this._eventEmit(yi.Type.AdBreakClick",value:function(){this._eventEmit(yi.Type.CLICK)}},{key:"onAdBreakSkipped",value:function(){this._eventEmit(yi.Type.SKIPPED),this.onContentResumeRequested(),this.videoAdState=Ji.FINISHED,0==this.adList.length?this._eventEmit(yi.Type.ALL_ADS_COMPLETED):this.loadAd()}},{key:"onAdError",value:function(e){var t=new Ni({code:e.code,message:e.msg}),n=new Bi(t);this.internalEvent.emit(gi.Type.AD_ERROR,n),this.videoAdState=Ji.ERROR}},{key:"_eventEmit",value:function(e,t){var n=this.currentAd,i=new xi({type:e,adProgressData:t,adBreak:n});this.internalEvent.emit(e,i)}},{key:"_callLog",value:function(e,t){var n=this}]),e}(),er=function(){function e(t){N()(this,e),this.info=t}return x()(e,[{key:"getAdsManager",value:function(e,t){var n=this.info,i=n.adDisplayContainer,r=n.adsRequest,a=n.adsResponse,s=n.settings;return this.adsManager=new $i({adDisplayContainer:i,adsRequest:r,adsResponse:a,settings:s,contentPlayback:e,adsRenderingSettings:t}),this.adsManager}}]),e}(),tr=function(){function e(t){N()(this,e),this.adDisplayContainer=t,this.internalEvent=new z.a,this.settings=new fn,this.events={}}return x()(e,[{key:"addEventListener",value:function(e,t){this.events[e]=t,this.internalEvent.on(e,t)}},{key:"requestAds",value:function(e){var t=this;try{if(e.adTagUrl){var n=e.adTagUrl;_requestXHR(n,function(){if(4===xmlhttp.readyState){if(!(xmlhttp.status>=200&&xmlhttp.status<400))throw new Error("Response returned with non-OK status");var n=xmlhttp.response,i=e.adsResponse.output;t.adsResponse={adm:n,output:i}}})}else this.adsResponse=e.adsResponse;this.adDisplayContainer.setAdWillPlayMuted(e.adWillPlayMuted);var i=this.adDisplayContainer,r=this.adsResponse,a=this.settings,s=new er({adDisplayCunction(){t.internalEvesetTimeout(function(){t.internalEvent.emit(gi.Type.AD_ERROR)},0)}}},{key:"contentComplete",value:function(){}},{key:"getSettings",value:function(){return this.settings}},{key:"destroy",value:function(){var e=this;F()(this.events).forEach(function(t){e.internalEvent.removeListener(t,e.events[t])}),this.settings=null,this.internalEvent=null}},{key:"_requestXHR",value:function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="text",n.onload=t,n.send()}}]),e}(),nr=function(){function e(){N()(this,e),this.adTagUrl,this.adsResponse,this.vastLoadTimeout=5e3}return x()(e,[{key:"setAdWillAutoPlay",value:function(e){this.adWillAutoPlay=e}},{key:"setAdWillPlayMuted",value:function(e){this.adWillPlayMuted=e}}]),e}(),ir=function da(){N()(this,da),this.setting={},this.setting.enablePreloading,this.setting.bitrate,this.setting.mimeTypes},rr=$.Type,ar=(rr.AD_LOAD_ERROR,rr.AD_PLAY_ERROR),sr=$.LOAD_STAT_CODE,or=($.START_STAT_CODE,$.ERROR_DETAIL_CODE,H.Type),ur=or.MEDIATION_READY,dr=(or.MEDIATION_FAILED,function(){function e(t){N()(this,e);var n=t.adProvider,i=t.eventTracking,r=t.unitId,a=t.divId,s=t.playerInfo,o=t.adPlaybackInfo,u=t.videoAdOptions,d=t.eventNotifier,l=t.adapterManager,c=s.player,h=s.adContainer,A=s.videoEl,f=s.locale,p=s.playerType,v=s.playback_method,g=n.adInfo.adm,y=n.adProviderName,m=n.eventTracking,E=n.encrypted,D=n.videoOutput,I=n.creativeType;this.currentAd=null,this.adDisplayContainerInitialized=!1,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.contentCompleteCalled=!1,this.fullscreen=!1,this.initializeAd=!0,this.adProviderName=y,this.eventTracking=i,this.adEvtTrk=m,this.encrypted=E,this.creativeType=I,this.unitId=r,this.divId=a,this.playerInfo=s,this.adPlaybackInfo=o,this.eventNotifier=d,this.adapterManager=l,this.player=c,this.videoEl=A,this.locale=f,this.playerType=p,this.playback_method=v,this.viewableImpFlag=!1,this.adsManagerDimensions={width:0,height:0};var _={adm:g,output:D.toLowerCase()};fn.isMobilePlayer(p)||(u.enableHls=!1),this.gfpOptions={adsRenderingSettings:{},adsResponse:_,videoAdOptions:u},this.autoPlayAdBreaks=this.gfpOptions.autoPlayAdBreaks||!0,this.playerWrapperDiv=document.getElementById(a),this.controller=new pn({divId:a,adapter:this,playerType:p,adContainer:h,locale:f,showControl:!0}),this.adContainerDiv=this.controller.getAdContainerDiv({type:"gfd"}),this.controller.initAdUiManager(),this._registerEvents(),this.timingPerformanceDebuger=new xn}return x()(e,[{key:"handle",value:function(){var e=s()(r.a.mark(function t(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.adapters=e,this.getPlaybackInfo(),t.prev=2,t.next=5,Pn.initHlsModule();case 5:t.next=12;break;case 7:t.prev=7,t.t0=t["catch"](2),this.initializeAd=!1,this.errerInfo={message:t.t0.message};case 12:this.adContainerDiv.style.display="block",this.playback_method(this,this.playerInfo,this.playbackInfo.initialized),this.playbackInfo.initialized&&(this.setVideoPlaybackInfo(this.playbackInfo),this.onPlayerReady()),this.adapterManager.fireEvent({name:ur});case 16:case"end":return t.stop()}},t,this,[[2,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"setPlayerInfo",value:function(e){}},{key:"getPlaybackInfo",value:function(){var e=this,t=y()(spwp.adUnits,function(t){return t.getUnitId()==e.unitId}).getAdapterManager();this.playbackInfo=t.playerInfo.playbackInfo}},{key:"setVideoPlaybackInfo",value:function(e){var t=this,n=e.autoplayAllowed,i=e.autoplayRequiresMuted,r=e.bitrate;this.gfpOptions.autoplayRequiresMuted=i,this.gfpOptions.adsRenderingSettings.bitrate=r;var a=y()(spwp.adUnits,function(e){return e.getUnitId()==t.unitId}).getAdapterManager();a.playerInfo.playbackInfo={autoplayAllowed:n,autoplayRequiresMuted:i,bitrate:r},a.playerInfo.playbackInfo.initialized=!0}},{key:"initAdObjects",value:function(){this.adsLoader=new tr(this.adDisplayContainer),this.locale&&this.adsLoader.getSettings().setLocale(this.locale),this.adsLoader.getSettings().setPlayerType(this.playerType),this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks),this.adsLoader.addEventListener(vi.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(gi.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1)}},{key:"requestAds",value:function(){var e=new nr;e.adsResponse=this.gfpOptions.adsResponse,this.gfpOptions.vastLoadTimeout&&(e.vastLoadTimeout=this.gfpOptions.vastLoadTimeout);var t=this.getPlayerSize();e.linearAdSlotWidth=t.width,e.linearAdSlotHeight=t.height,e.nonLinearAdSlotWidth=this.gfpOptions.nonLinearWidth||t.width,e.nonLinearAdSlotHeight=this.gfpOptions.nonLinearHeight||t.height,e.setAdWillPlayMuted(this.gfpOptions.autoplayRequiresMuted),this.addTriggerCallback(),this.adsLoader.requestAds(e)}},{key:"addTriggerCallback",value:function(){var e=this,t=function n(){var t;t=e.adsManager.getCuePoints(),e._hasPostRoll=f()(t,-1),e.internalEvent.removeListener("metadataLoaded",n),e.internalEvent.removeListener("adLoaded",n),e.internalEvent.removeListener("contentPauseRequested",n)};this.internalEvent.on("metadataLoaded",t),this.internalEvent.on("adLoaded",t),this.internalEvent.on("contentPauseRequested",t)}},{key:"createAdsRenderingSettings",value:function(){this.adsRenderingSettings=new ir,this.adsRenderingSettings.enablePreloading=!1,this.adsRenderingSettings.mimeTypes=["video/mp4"],this.gfpOptions.videoAdOptions.enableHls&&(this.adsRenderingSettings.mimeTypes.unshift("application/x-mpegURL"),this.adsRenderingSettings.mimeTypes.unshift("application/vnd.apple.mpegurl"));var e=this.gfpOptions.adsRenderingSettings.bitrate;e&&0!==e&&(this.adsRenderingSettings.bitrate=e)}},{key:"onAdsManagerLoaded",value:function(e){var t,n=this;this.createAdsRenderingSettings(),this.adsManager=e.getAdsManager(this.videoEl,this.adsRenderingSettings),this.managerEvents=(t={},u()(t,gi.Type.AD_ERROR,function(e){n.onAdError(e)}),u()(t,yi.Type.CONTENT_PAUSE_REQUESTED,function(e){n.onContentPauseRequested(e)}),u()(t,yi.Type.CONTENT_RESUME_REQUESTED,function(e){n.onContentResumeRequested(e)}),u()(t,yi.Type.ALL_ADS_COMPLETED,function(e){n.onAllAdsCompleted(e)}),u()(t,yi.Type.AD_METADATA,function(e){n.onAdMetaData(e)}),u()(t,yi.Type.AD_BUFFERING,function(e){n.onAdBuffered(e)}),u()(t,yi.Type.LOADED,function(e){n.onAdLoaded(e)}),u()(t,yi.Type.IMPRESSION,function(e){n.onAdImpression(e)}),u()(t,yi.Type.STARTED,function(e){n.onAdStarted(e)}),u()(t,yi.Type.AD_PROGRESS,function(e){n.onAdProgress(e)}),u()(t,yi.Type.CLICK,function(e){n.onAdClicked(e)}),u()(t,yi.Type.COMPLETE,function(e){n.onAdComplete(e)}),u()(t,yi.Type.SKIPPED,function(e){n.onAdSkipped(e)}),u()(t,yi.Type.PAUSED,function(e){n.onAdPaused(e)}),u()(t,yi.Type.RESUMED,function(e){n.onAdResumed(e)}),t),v()(F()(this.managerEvents),function(e){n.adsManager.addEventListener(e,n.managerEvents[e])}),this.autoPlayAdBreaks||this.initAdsManager(),this.internalEvent.emit("adsReady")}},{key:"onAdsLoaderError",value:function(e){this.timingPerformanceDebuger.mark("mark_ad_load_end"),this.timingPerformanceDebuger.measure("measure_ad_load","mark_ad_load_begin","mark_ad_load_end"),this.findeOut("measure_ad_load","failure"),this.controller.onErrorLoadingAds(e);this.internalEvent.emit("adLoadedError",{type:"error",data:[]}),this.reset()}},{key:"initAdsManager",value:function(){try{var e=this.getPlayerSize(),t=e.width,n=e.height,i=e.isFullscreen?Ei:mi;this.adsManagerDimensions.width=t,this.adsManagerDimensions.height=n,this.adsManager.init(t,n,i),this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainer.initialized=!0)}catch(r){}}},{key:"onAdError",value:function(e){this.timingPerformanceDebuger.mark("mark_ad_start_end"),this.timingPerformanceDebuger.measure("measure_ad_start","mark_ad_start_begin","mark_ad_start_end"),this.findeOut("measure_ad_start","failure");var t=e.getError!==undefined?e.getError().getMessage():e.stack,n=e.getError!==undefined?e.getError().getErrorCode():"";this.controller&&this.controller.onAdError(e),this.adsActive=!1,this.adPlaying=!1;var i={type:"error",data:[{code:n,message:t}]};this.internalEvent.emit("adError",i),this.eventNotifier.notifyAdError({code:n,message:t,type:ar}),this.reset()}},{key:"onAdMetaData",value:function(){this.internalEvent.emit("metadataLoaded")}},{key:"onAdLoaded",value:function(e){var t=this.adapterManager,n=this.eventTracking,i=this.adEvtTrk,r=this.creativeType,a=t.callLogs;this.timingPerformanceDebuger.mark("mark_ad_start_begin"),this.timingPerformanceDebuger.mark("mark_ad_load_end"),this.timingPerformanceDebuger.measure("measure_ad_load","mark_ad_load_begin","mark_ad_load_end"),this.findeOut("measure_ad_load","success"),this.controller.setVolumeUI(this.adsManager.getVolume()),this.controller.showAdContainer(),this.currentAd=e.getAd(),this.controller.setCurrentAd(this.currentAd),this.internalEvent.emit("adLoaded",this.getAdInfo()),e.getAd().isLinear()?this.controller.onLinearAdLoad():(this.controller.onNonLinearAdLoad(),this.internalEvent.emit("nonLinearAdLoad"));var s=n.ackImpressions,o=i.ackImpressions,u={st:sr.STAT_CODE_SUCCESS,ct:r};a(o,null,null,"dsp ack url"),a(s,this.encrypted,u,"ssp ack(gv) url"),this.eventNotifier.notifyAdLoaded(this.getGfpAd())}},{key:"onAdImpression",value:function(e){var t=this.adapterManager,n=this.eventTracking,i=this.adEvtTrk,r=this.creativeType,a=t.callLogs,s=n.renderedImpressions,o={ct:r};a(i.renderedImpressions,null,null,"dsp render imp url"),a(s,this.encrypted,o,"ssp render imp(gv) url"),this.eventNotifier.notifyAdImpression(this.getGfpAd()),this.viewableImpFlag=!1}},{key:"onAdStarted",value:function(e){this.currentAd=e.getAd();var t={};t.mediaUrl=this.currentAd.getMediaUrl(),t.vastMediaBitrate=this.currentAd.getVastMediaBitrate(),t.vastMediaWidth=this.currentAd.getVastMediaWidth(),t.vastMediaHeight=this.currentAd.getVastMediaHeight(),t.contentsBitrate=this.gfpOptions.adsRenderingSettings.bitrate,this.timingPerformanceDebuger.mark("mark_ad_start_end"),this.timingPerformanceDebuger.measure("measure_ad_start","mark_ad_start_begin","mark_ad_start_end"),this.findeOut("measure_ad_start","success",t),this.currentAd.isLinear()?this.controller.onLinearAdStart():this.controller.onNonLinearAdStart(),this.internalEvent.emit("adStarted",this.getAdInfo()),this.eventNotifier.notifyAdStarted(this.getGfpAd())}},{key:"onAdBuffered",value:function(e){this.controller.onAdBuffered(e.getAdData().buffered)}},{key:"onAdProgress",value:function(e){var t=this.adapterManager,n=this.eventTracking,i=this.adEvtTrk,r=this.creativeType,a=t.callLogs,s=n.viewableImpressions,o=i.viewableImpressions,u=e.getAdData().currentTime,d=u>=2;if(this.onAdPlayheadTrackerInterval(),!this.viewableImpFlag&&d){this.viewableImpFlag=!0;var l={ct:r};a(o,null,null,"dsp viewable imp url"),a(s,this.encrypted,l,"ssp viewable imp(gv) url")}}},{key:"onContentPauseRequested",value:function(e){this.currentAd=e.getAd(),this.adsActive=!0,this.adPlaying=!0,this.controller.onAdBreakStart(e),this.internalEvent.emit("contentPauseRequested",this.getAdInfo())}},{key:"onContentResumeRequested",value:function(e){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd(),this.internalEvent.emit("contentResumeRequested",this.getAdInfo())}},{key:"onAllAdsCompleted",value:function(e){this.contentCompleteCalled&&this.internalEvent.emit("allAdsCompleted"),this.allAdsCompleted=!0,this.controller.onAllAdsCompleted(),this.reset()}},{key:"onAdPaused",value:function(e){this.controller.onAdsPaused(),this.eventNotifier.notifyAdPaused(this.getGfpAd())}},{key:"onAdResumed",value:function(e){this.controller.onAdsResumed(),this.eventNotifier.notifyAdResumed(this.getGfpAd())}},{key:"onAdComplete",value:function(e){this.eventNotifier.notifyAdComplete(this.getGfpAd()),this.controller.onAdComplete()}},{key:"onAdSkipped",value:function(e){this.eventNotifier.notifyAdSkipped(this.getGfpAd())}},{key:"onAdClicked",value:function(e){var t=this.adapterManager,n=this.eventTracking,i=this.adEvtTrk,r=this.creativeType,a=t.callLogs,s=n.clicks,o={ct:r};a(i.clicks,null,null,"ads click url"),a(s,this.encrypted,o,"ssp click(dfp) url"),this.eventNotifier.notifyAdClicked(this.getGfpAd())}},{key:"onAdPlayheadTrackerInterval",value:function(){var e=this.adsManager.getRemainingTime(),t=this.currentAd.getDuration(),n=t-e;n=n>0?n:0;var i,r=0;this.currentAd.getAdPodInfo()&&(i=this.currentAd.getAdPodInfo().adPosition,r=this.currentAd.getAdPodInfo().totalAds),this.controller.onAdPlayheadUpdated(n,e,t,i,r)}},{key:"onContentComplete",value:function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),this.player.getThirdPartyAdController().removeAllEventListener()}},{key:"createAdDisplayContainer",value:function(){if(!this.adDisplayContainerCreated){var e=this.adContainerDiv,t=this.videoEl,n=this.gfpOptions.videoAdOptions,i=this.controller.adUi;this.adDisplayContainer=new Mi(e,t,n,i),this.adDisplayConontainerInitialized=!0,this.adDisplayContainer.initialize())}},{key:"onPlayerReady",value:function(){if(!this.initializeAd){var e={type:"error",data:[this.errerInfo]};this.internalEvent.emit("adError",e),this.reset()}if(Jn({playerType:this.playerType}))this.timingPerformanceDebuger.mark("mark_ad_load_begin"),this.initAdObjects(),(this.adTagUrl||this.gfpOptions.adsResponse)&&this.requestAds();else{this.internalEvent.emit("adError",{type:"error",data:[{message:"not support browser"}]})}}},{key:"onPlayerReadyForPreroll",value:function(){if(this.autoPlayAdBreaks)try{this.initAdsManager(),this.controller&&this.controller.showAdContainer(),this.adsManager&&("undefined"!=typeof this.adPlaybackInfo.volume&&this.adsManager.setVolume(this.adPlaybackInfo.volume),this.adsManager.start())}catch(i){var e=i.getErrorCode!==undefined?i.getErrorCode():"",t=i.getMessage!==undefined?i.getMessage():"";this.adsActive=!1,this.adPlaying=!1;var n={type:"error",data:[{code:e,message:t}]};this.internalEvent.emit("adError",n),this.reset()}}},{key:"onPlayerEnterFullscreen",value:function(){this.adsManager&&(this.adsManager.resize(window.screen.width,window.screen.height,Ei),this.playerWrapperDiv.style.cssText="position:absolute; top:0px; left:0px; width: ".concat(window.screen.width,"px; height: ").concat(window.screen.height,"px;"),this.adContainerDiv.style.cssText="position: absolute; top: 0px; left: 0px; width: ".concat(window.screen.width,"px; height: ").concat(window.screen.height,"px;"))}},{key:"onPlayerExitFullscreen",value:function(){if(this.adsManager){var e=this.getPlayerSize();this.adsManager.resize(e.width,e.height,mi),this.playerWrapperDiv.style.cssText="position:relative; top:0px; left:0px;",this.adContainerDiv.style.cssText="position: absolute; top: 0px; left: 0px; width: ".concat(e.width,"px; height: ").concat(e.height,"px;")}}},{key:"onPlayerVolumeChanged",value:function(e){this.adsManager&&this.adsManager.setVolume(e),this.adMuted=0==e}},{key:"onPlayerResize",value:function(){if(this.adsManager){var e=this.getPlayerSize(),t=e.isFullscreen?Ei:mi;this.adsManagerDimensions.width=e.width,this.adsManagerDimensions.height=e.height,this.adsManager.resize(e.width,e.height,t)}}},{key:"getCurrentAd",value:function(){return this.currentAd}},{key:"isAdPlaying",value:function(){return this.adPlaying}},{key:"isAdMuted",value:function(){return this.adMuted}},{key:"pauseAds",value:function(){this.adsManager&&(this.adsManager.pause(),this.adPlaying=!1)}},{key:"resumeAds",value:function(){this.adsManager&&(this.adsManager.resume(),this.adPlaying=!0)}},{key:"unmute",value:function(){this.adsManager&&(this.adsManager.setVolume(1),this.adMuted=!1)}},{key:"mute",value:function(){this.adsManager&&(this.adsManager.setVolume(0),this.adMuted=!0)}},{key:"setVolume",value:function(e){this.adsManager&&(this.adsManager.setVolume(e),this.adPlaytion(){if(this.adsManager)return this.adsManager.getVolume()}},{key:"playAdBreak",value:function(){!this.autoPlayAdBreaks&&this.adsManager&&(this.controller.showAdContainer(),this.adsManager.start())}},{key:"addEventListener",value:function(e,t){this.adsManager&&this.adsManager.addEventListener(e,t)}},{key:"getAdsManager",value:function(){return this.adsManager}},{key:"reset",value:function(){var e=this;this.adContainerDiv.style.display="none",this.adsActive=!1,this.adPlaying=!1,this.adsManager&&(v()(F()(this.managerEvents),function(t){e.adsManager.removeEventListener(t,e.managerEvents[t])}),this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&(this.adsLoader.contentComplete(),this.adsLoader.destroy(),this.adsLoader=null),this._unregisterEvents()}},{key:"_registerEvents",value:function(){var e=this,t=hn()(this.onPlayerResize.bind(this),500);this.internalEvent=new z.a,this._coreEvents={resizeLayout:function(){return t()}},v()(F()(this._coreEvents),function(t){e.player.on(t,e._coreEvents[t])})}},{key:"_unregisterEvents",value:function(){var e=this;this._coreEvents&&(v()(F()(this._coreEvents),function(t){e.player.off(t,e._coreEvents[t])}),this._coreEvents=null),v()(F()(this.internalEvent._events),function(t){e.internalEvent.removeAllListeners(t)}),this.controller&&(this.controller.reset(),this.controller=null)}},{key:"getPlayerSize",value:function(){var e=this.player.getPlayerSize();return{isFullscreen:this.player.isFullScreen(),width:e.width,height:e.height}}},{key:"onFullscreenChange",value:function(){this.fullscreen?(this.onPlayerExitFullscreen(),this.fullscreen=!1):(this.onPlayerEnterFullscreen(),this.fullscreen=!0)}},{key:"getAdInfo",value:function(){var e={type:"",data:[]},t=this.adProviderName,n=this.currentAd?this.currentAd.getAdPodInfo().getTimeOffset():"unknown",i=this.currentAd?this.currentAd.getSkipTimeOffset():"unknown";return e.type=0==n?"pre":-1==n?"post":"unknown"==n?"unknown":"mid",e.data.push({adSystem:t,skipTimeOffset:i}),e}},{key:"getGfpAd",value:function(){var e=this.adProviderName,t=this.currentAd,n=t?t.getAdPodInfo().getTimeOffset():"unknown",i=t?t.getSkipTimeOffset():"unknown",r=t?t.getVastMediaWidth():"",a=t?t.getVastMediaHeight():"",s=t?t.getDuration():"";return new Sn({adProvider:e,placementType:0==n?"pre":-1==n?"post":"unknown"==n?"unknown":"mid",duration:s,skipTimeOffset:i,vastMediaWidth:r,vastMediaHeight:a})}},{key:"on",value:function(e,t){this.internalEvent.on(e,t)}},{key:"hasPostRoll",value:function(){return this._hasPostRoll}},{key:"findeOut",value:function(e,t,n){if(this.timingPerformanceDebuger.supports()){var i={};if(this.timingPerformanceDebuger.supports()){if(!this.timingPerformanceDebuger.isExistMeasure(e))return;var r=this.timingPerformanceDebuger.getMeasureResult(e);i.name=r.name,i.adProvider="".concat(this.adProviderName),i.result=t,i.duration=Math.floor(r.duration),n&&(i.creativeInfo=n),this.timingPerformanceDebuger.clearMeasures(e),"measure_ad_start"==e?(this.timingPerformanceDebuger.clearMark("mark_ad_start_begin"),this.timingPerformanceDebuger.clearMark("mark_ad_start_end")):"measure_ad_load"==e&&(this.timingPerformanceDebuger.clearMark("mark_ad_load_begin"),this.timingPerformanceDebuger.clearMark("mark_ad_load_end"))}else i.name=e,i.adProvider="".concat(this.adProviderName),i.result=t;D.a.getConfig().debug&&this.internalEvent.emit("debug",i)}}}]),e}()),lr=$.Type.AD_LOAD_ERROR,cr=$.ERRORS.NO_FILL,hr=cr.code,Ar=cr.message,fr=$.LOAD_STAT_CODE,pr=function(){function e(t){N()(this,e),u()(this,"initActiveView",function(e){try{var t=e.divId;spwp.activeViews[t]=spwp.activeViews[t]||null,spwp.activeViews[t]&&(spwp.activeViews[t].clearActiveView(),spwp.activeViews[t]=null),spwp.activeViews[t]=new me(e),spwp.activeViews[t].checkActiveView()}catch(n){}});var n=t.adapterManager,i=t.adProvider,r=t.eventTracking,a=t.unitId,s=t.divId,o=t.playerInfo,d=t.eventNotifier,l=o.player,c=o.adContainer,h=o.videoEl,A=o.locale,f=o.playerType,p=o.playback_method,v=i.eventTracking,g=i.encrypted;this.adapterManager=n,this.eventTracking=r,this.adEvtTrk=v,this.encrypted=g,this.unitId=a,this.divId=s,this.playerInfo=o,this.eventNotifier=d,this.player=l,this.videoEl=h,this.locale=A,this.playerType=f,this.playback_method=p,this.adProvider=i,this.controller=new pn({divId:s,adapter:this,playerType:f,adContainer:c,locale:A}),this.adContainerDiv=c,this.internalEvent=new z.a}return x()(e,[{key:"handle",value:function(){this.getPlaybackInfo(),this.controller.hideAdContainer(),this.addEventListener(),this.playback_method(this,this.playerInfo,this.playbackInfo.initialized),this.playbackInfo.initialized&&this.requestContentsResume()}},{key:"setPlayerInfo",value:function(){}},{key:"getPlaybackInfo",value:function(){var e=this,t=y()(spwp.adUnits,function(t){return t.getUnitId()==e.unitId}).getAdapterManager();this.playbackInfo=t.playerInfo.playbackInfo}},{key:"addEventListener",value:function(){var e=this.adapterManager,t=this.eventNotifier,n=this.eventTracking,i=this.adEvtTrk,r=this.adProvider,a=this.initActiveView,s=this.divId,o=e.callLogs,u=n.ackImpressions,d=n.renderedImpressions,l=n.viewableImpressions,c=i.ackImpressions,h=i.renderedImpressions,A=i.viewableImpressions,f=r.encrypted,p={st:fr.STAT_CODE_NO_FILL};o(c,null,null,"dsp ack(empty) url"),o(u,f,p,"ssp ack(empty) url"),o(h,null,null,"dsp render(empty) imp url"),o(d,f,null,"ssp render(empty) imp url"),t.notifyAdFailedToLoad({code:hr,message:Ar,type:lr}),t.notifyAdError({code:hr,message:Ar,type:lr});var v=window.da_scroll_target?window.da_scroll_target.targetEl:window,g=document.getElementById(s);a({scrollTarget:v,divId:s,container:g,callback:function(){var e=document.getElementById(s);_e.validateNode(e)||spwp.activeViews[s]&&!spwp.activeViews[s].onceCalled&&(spwp.activeViews[s].onceCalled=!0,o(A,null,null,"dsp viewable(empty) imp url"),o(l,f,null,"ssp viewable(empty) imp url"))}})}},{key:"setVideoPlaybackInfo",value:function(e){var t=this,n=e.autoplayAllowed,i=e.autoplayRequiresMuted,r=e.bitrate,a=y()(spwp.adUnits,function(e){return e.getUnitId()==t.unitId}).getAdapterManager();a.playerInfo.playbackInfo={autoplayAllowed:n,autoplayRequiresMuted:i,bitrate:r},a.playerInfo.playbackInfo.initialized=!0}},{key:"requestContentsResume",value:function(){this.internalEvent.emit("adError",{type:"error",data:[{message:"NO AD"}]})}},{key:"createAdDisplayContainer",value:function(){}},{key:"initializeAdDisplayContainer",value:function(){}},{key:"onPlayerReady",value:function(){this.requestContentsResume()}},{key:"onPlayerReadyForPreroll",value:functio.player.getThirdPartyAdController().removeAllEventListener()}},{key:"on",value:functiEvent.on(e,t)}},{key:"hasPostRoll",value:function(){return!1}},{key:"getPlayerSize",value:function(){var e=this.player.getPlayerSize();return{isFullscreen:this.player.isFullScreen(),width:e.width,height:e.height}}},{key:"_unregisterEvents",value:function(){var e=this;v()(F()(this.internalEvent._events),function(t){e.internalEvent.removeAllListeners(t)}),this.controller&&(this.controller.reset(),this.controller=null)}},{key:"reset",value:function(){}}]),e}();function vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=Dn()(e);if(t){var r=Dn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return mn()(this,n)}}var gr=function(e){gn()(n,e);var t=vr(n);function n(e){var i;return N()(this,n),(i=t.call(this,e))._eventList=e,i.internalEvent=new z.a,v()(F()(e),function(t){i.internalEvent.on(t,e[t])}),i}return x()(n,[{key:"onAdStarted",value:function(e){this.internalEvent.emit(H.Type.STARTED,e)}},{key:"onAdSkipped",value:function(e){this.internalEvent.emit(H.Type.SKIPPED,e)}},{key:"onAdComplete",value:function(e){this.internalEvent.emit(H.Type.COMPLETE,e)}},{key:"eventList",get:function(){return this._eventList},set:function(e){this._eventList=e}}]),n}(Q),yr=function(){function e(t){var n=this;N()(this,e),this._eventList=t,this.internalEvent=new z.a,v()(F()(t),function(e){n.internalEvent.on(e,t[e])})}return x()(e,[{key:"onAdLoaded",value:function(e){this.internalEvent.emit(H.Type.AD_LOAD,e)}},{key:"onAdError",value:function(e){this.internalEvent.emit(q.Type.AD_ERROR,e)}},{key:"onAdStarted",value:function(e){this.internalEvent.emit(H.Type.STARTED,e)}},{key:"onAdSkipped",value:function(e){this.internalEvent.emit(H.Type.SKIPPED,e)}},{key:"onAdComplete",value:function(e){this.internalEvent.emit(H.Type.COMPLETE,e)}},{key:"onAdClicked",value:function(e){this.internalEvent.emit(H.Type.AD_CLICK,e)}},{key:"onAdPaused",value:function(e){this.i,value:function(e){this.internalEvent.emit(H.Type.RESUMED,e)}},{key:"eventList",get:function(){return this._eventList},set:function(e){this._eventList=e}}]),e}(),mr=D.a.getRenderTypes(),Er=mr.GOOGLE_IMA,Dr=mr.GV,Ir=mr.EMPTY,_r=H.Type,Sr=_r.MEDIATION_READY,kr=_r.MEDIATION_FAILED,wr=new Ne.a,Lr=function(){function e(t){var n,i=this;N()(this,e);var a=t.adUnitInfo;this.adUnitInfo=a,this.adProviderInfos=[],this.currentAdapter={},this.getResponse=!1,this.adapters=[],this.cmd=[],this.eventNotifiers=[],this.adListener,this.videoQoeListener,this._adPlaybackInfo={ima:{}},thithis.addEventListener((n={},u()(n,Sr,function(e){i.process()}),u()(n,kr,function(e){s()(r.a.mark(function t(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.clear(),i.push(),e.next=4,i.handleRequestAdapters();case 4:case"end":return e.stop()}},t)}))()}),n))}return x()(e,[{key:"addEventListener",value:function(e){var t=this;v()(F()(e),function(n){t.mediationEvent.on(n,e[n])})}},{key:"removeAllListeners",value:function(){var e=this;v()([Sr,kr],function(t){e.mediationEvent.removeAllListeners(t)})}},{key:"fireEvent",value:function(e){var t=e.name,n=e.evtData;this.mediationEvent.emit(t,n)}},{key:"setAdproviderInfos",value:function(e){var t=this,n=e.eventTracking,i=this.aion(e){return{adProvider:e,eventTracking:n,unitId:r,divId:a}}),this.support()||(this.adProviderInfos=this.adProviderInfos.filter(function(e){return e.adProvider.renderType===Ir}=this.adProviderInfos.map(function(e){return t.setAdapter(e)})}},{key:"setAdproviderInfo",value:function(e){this.adProviderInfos.push(e),this.getResponse=!0}},{key:"support",value:function(){return!(J.IS_IE&&J.searchBrowserVersion()<=9)}},{key:"setPlayerInfo",value:function(e){e&&(this.playerInfo=e,this.playerInfo.playbackInfo={initialized:!1},ln.createAdContainer(this.playerInfo))}},{key:"getPlayerInfo",value:function(){return this.playerInfo}},{key:"setAdapter",value:function(e){var t=this.adListener,n=this.videoQoeListener,i=e.adProvider,r=e.eventTracking,a=e.unitId,s=e.divId,o=i.adProviderName,u=i.renderType,d=i.adInfo.timeout,l=void 0===d?0:d,c=D.a.getConfig().videoAdOptions,h=this.playerInfo,A=this._adPlaybackInfo,f=this.adUnitInfo.getExtraOption().mediaParams,p=new ce({unitId:a,divId:s,adProviderName:o,adListener:t,videoQoeListener:n,playerInfo:h});this.eventNotifiers.push(p);switch(u){case Er:var v=new Ie({timeout:l,divId:s});return new hi({adProvider:i,eventTracking:r,unitId:a,divId:s,playerInfo:h,adPlaybackInfo:A,videoAdOptions:c,eventNotifier:p,mediaParams:f,timeoutManager:v,adapterManager:this});case Dr:return new dr({adProvider:i,eventTracking:r,unitId:a,divId:s,playerInfo:h,adPlaybackInfo:A,videoAdOptions:c,eventNotifier:p,adapterManager:this});case Ir:return new pr({adProvider:i,eventTracking:r,unitId:a,divId:s,playerInfo:h,eventNotifier:p,adapterManager:this});default:return new Wt({adProvider:i,eventTracking:r,unitId:a,divId:s,adapterManager:this})}}},{key:"handleRequestAdapters",value:function(){var e=s()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.getAdapters(),this.currentAdapter=this.adapters.shift(),!this.currentAdapter){t.next=5;break}return t.next=5,this.currentAdapter.handle(e);case 5:case"end":return t.stop()}},t,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAdapters",value:function(){return this.adapters}},{key:"getCurrentAdapter",value:function(){return this.currentAdapter}},{key:"resetAdapters",value:function(){h()(this.currentAdapter)||this.currentAdapter.reset(),this.adProviderInfos=[],this.adapters=[],this.currentAdapter={},this.getResponse=!1,this.eventNotifiers=[]}},{key:"push",value:function(){var e=this;this.cmd.push(function(){var t=e.getCurrentAdapter();h()(t)||t.display&&t.display()})}},{key:"process",value:function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){}}},{key:"clear",value:function(){for(;this.cmd.length>0;)this.cmd.shift()}},{key:"setAdListener",value:function(e){e&&(this.adListener=new gr(e),this.resetEventListeners())}},{key:"setVideoQoeListener",value:function(e){e&&(this.videoQoeListener=new yr(e),this.resetEventListeners())}},{key:"getAdListener",value:function(){return this.adListener}},{key:"getVideoQoeListener",value:function(){return this.videoQoeListener}},{key:"resetEventListeners",value:function(){var e=this.an){n&&n.setEventListeners({adListener:e,videoQoeListener:t})})}},{key:"callLogs",value:function(e,t,n,i){if(e){t=t||"";var r=n?"?".concat(F()(n).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n[e]))}).join("&")):"";v()(e,function(e){wr.log("".concat(e.url).concat(t).concat(r))})}}},{key:"adPlaybackInfo",get:function(){return this._adPlaybackInfo},set:function(e){this._adPlaybackInfo=e,this._adPlaybackInfo.ima.adDisplayContainer=null}}]),e}(),Cr=D.a.getCreativeTypes(),Or=function(){function e(t){N()(this,e),this.adUnitInfo=new X(t),this.adapterManager={},this.initAdManager(),this.unitId=this.adUnitInfo.unitId,this.divId=this.adUnitInfo.divId}return x()(e,[{key:"getUnitId",value:function(){return this.adUnitInfo.getUnitId()}},{key:"getMediaType",value:function(){return this.adUnitInfo.getMediaType()}},{key:"getAdSlotElementId",value:function(){return this.adUnitInfo.getAdSlotElementId()}},{key:"getTargeting",value:function(){return this.adUnitInfo.getTargeting()}},{key:"setTargeting",value:function(e){this.adUnitInfo.setTargeting(e)}},{key:"getExtraOption",value:function(){return this.adUnitInfo.getExtraOption()}},{key:"setExtraOption",value:function(e){this.adUnitInfo.setExtraOption(e)}},{key:"setCustomParam",value:function(e,t){this.adUnitInfo.getExtraOption().mediaParams=V()({},this.adUnitInfo.getExtraOption().mediaParams,u()({},e,t))}},{key:"setHostMeta",value:function(e){this.adapterManager.setHostMeta(e)}},{key:"getAdUnitInfo",value:function(){return this.adUnitInfo}},{key:"getAdapterManager",value:function(){return this.adapterManager}},{key:"initAdManager",value:function(){var e=this.adUnitInfo,t=e.getMediaType()==Cr.VIDEO?new Lr({adUnitInfo:e}):new $t({adUnitInfo:e});this.setAdapterManager(t)}},{key:"setAdapterManager",value:function(e){this.adapterManager=e}},{key:"destroy",value:function(){this.adapterManager.resetAdapters()}}]),e}(),Tr=n(24),Rr=n.n(Tr),br=n(45),Fr=n.n(br),Pr=n(22);function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var Nr=function(){function e(){N()(this,e)}return x()(e,null,[{key:"makeAdRequestParam",value:function(t){var n=t.adUnit,i=t.exclusionCriteria,r=n.getAdUnitInfo(),a=r.unitId,s=r.divId,o=r.getTargeting(),u=o.yob,d=o.gender,c=o.uct,h=o.ai,A=o.iv,f=document.referrer?document.referrer:"";f=f.length>255?f.substring(0,255):f;var p,v,g=document.location.href?document.location.href:"";if(g=g.length>255?g.substring(0,255):g,i){var y,m,E=i.advertiserDomains,D=i.adDuplicationKeys;p=null!==(y=l()(E,function(e){return encodeUR",v=null!==(m=l()(D,function(e){return encodeURIComponent(e)}).join("|"))&&void 0!==m?m:""}var I="".concat(1e17*Math.random()),_={u:a,xdid:s,p:e.getEncodedCustomParamString(r),ai:h,iv:A,yob:u,g:d,uct:c,ba:p||"",bx:v||"",r:f,c:g,sv:spwp.version,sn:"web",rui:I};return Fr()(F()(_),function(e,t){return Ne.a.isEmpty(_[t])||(e[t]=_[t]),e},{})}},{key:"getEncodedCustomParamString",value:function(e){var t=e.divId,n=e.getExtraOption(),i=n.oid,r=n.sid1,a=n.sid2,s=n.calp,o=n.roperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({oid:i,sid1:r,sid2:a,calp:s,gdid:o},d),h=l()(E()(F()(c),function(e){if(Ne.a.isEmpty(isArray(t)?(c[e]=t.filter(function(e){return!Ne.a.isEmpty(e)}),!0):!Ne.a.isEmpty(t)}),function(e){return"".concat(Ne.a.encodeURIComponent(String(e).trim()),":"y.isArray(c[e])?l()(c[e],function(e){return String(e).trim()}).join("|"):String(c[e]).trim()))});return h.push("".concat("da_dom_id",":").concat(Ne.a.encodeURIComponent(t))),h.join(",")}}]),e}(),Br=new(function(){function e(){N()(this,e),u()(this,"ua",void 0),u()(this,"IS_WIN",void 0),u()(this,"IS_MAC",void 0),u()(this,"IS_OP",void 0),u()(this,"IS_IE",void 0),u()(this,"IS_EDGE",void 0),u()(this,"IS_FF",void 0),u()(this,"IS_CR",void 0),u()(this,"IS_SF",void 0),u()(this,"IS_IOS",void 0),u()(this,"IS_IPHONE",void 0),u()(this,"IS_IPAD",void 0),u()(this,"IS_IPOD",void 0),u()(this,"IS_ANDROID",void 0),u()(this,"IS_WINDOWS_MOBILE",void 0),u()(this,"IS_BLACKBERRY",void 0),u()(this,"IS_SONYERICSSON",void 0),u()(this,"IS_SYMBIAN_OS",void 0),u()(this,"IS_WEB_OS",void 0),u()(this,"IS_TIZEN",void 0),u()(this,"IS_WEBKIT_MOBILE",void 0),u()(this,"IS_IE_MOBILE",void 0),u()(this,"IS_OPERA_MINI",void 0),u()(this,"IS_DOLFIN",void 0),u()(this,"IS_NAVER_APP",void 0),u()(this,"IS_SAMSUNG_BROWSER",void 0),u()(this,"IS_WHALE",void 0),u()(this,"IS_LINE_APP",void 0),u()(this,"IE","IE"),u()(this,"EDGE","Edge"),u()(this,"CR","Chrome"),u()(this,"SF","Safari"),u()(this,"OP","Opera"),u()(this,"FF","Firefox"),u()(this,"WEBKIT_MOBILE","WebKit Mobile"),u()(this,"IE_MOBILE","IE Mobile"),u()(this,"OPERA_MINI","Opera Mini"),u()(this,"DOLFIN","Dolfin"),u()(this,"NAVER_APP","Naver App"),u()(this,"SAMSUNG_BROWSER","SamsungBrowser"),u()(this,"WHALE","Whale"),u()(this,"LINE_APP","Line App"),u()(this,"WIN","Windows"),u()(this,"MAC","MacOS"),u()(this,"IOS","IOS"),u()(this,"ANDROID","Android"),u()(this,"WINDOWS_MOBILE","Windows Mobile"),u()(this,"BLACKBERRY","BlackBerry"),u()(this,"SONYERICSSON","SonyEricsson"),u()(this,"SYMBIAN_OS","SymbianOS"),u()(this,"WEB_OS","WebOS"),u()(this,"TIZEN","Tizen"),u()(this,"UNKNOWN_OS","an unknown OS"),u()(this,"UNKNOWN_BROWSER","an unknown browser"),u()(this,"UNKNOWN_OR_NOT_SUPPORTED_BROWSER","an unknown or not supported browser"),u()(this,"UNKNOWN_OR_NOT_SUPPORTED_OS","an unknown or not supported OS"),u()(this,"UNKNOWN_BROWSER_VERSION",-1),u()(this,"UNKNOWN_OS_VERSION",-1),u()(this,"BROWSER",this.searchBrowser()||this.UNKNOWN_OR_NOT_SUPPORTED_BROWSER),u()(this,"OS",this.searchOS()||this.UNKNOWN_OR_NOT_SUPPORTED_OS);var t=window.navigator.userAgent.toLowerCase();this.ua=t,this.IS_WIN=/Windows/i.test(t),this.IS_MAC=/Macintosh/i.test(t),this.IS_OP="undefined"!=typeof window.opera||/Opera/i.test(t),this.IS_IE=!!t.match(/(?:(MSIE) |(Trident)\/.+rv[ :])([\w.]+)/i),this.IS_EDGE=/Edg/i.test(t),this.IS_FF=/Firefox/i.test(t),this.IS_CR=/Chrome|CriOS/i.test(t),this.IS_SF=!/Chrome|CriOS/i.test(t)&&(t||"").indexOf("safari")>-1,this.IS_IOS=/iPhone|iPad|iPod/i.test(t),this.IS_IPHONE=/iPhone;/i.test(t),this.IS_IPAD=/iPad;/i.test(t),this.IS_IPOD=/iPod;/i.test(t),this.IS_ANDROID=/Android/i.test(t),this.IS_WINDOWS_MOBILE=/Windows Phone|Windows CE/i.test(t),this.IS_BLACKBERRY=/BlackBerry/i.test(t),this.IS_SONYERICSSON=/SonyEricsson/i.test(t),this.IS_SYMBIAN_OS=/SymbianOS/i.test(t),this.IS_WEB_OS=/webOS/i.test(t),this.IS_TIZEN=/Tizen/i.test(t),this.IS_WEBKIT_MOBILE=/AppleWebKit/i.test(t),this.IS_IE_MOBILE=/IEMobile/i.test(t),this.IS_OPERA_MINI=/Opera Mini/i.test(t),this.IS_DOLFIN=/Dolfin/i.test(t),this.IS_NAVER_APP=/NAVER\((inapp|higgs);\s?search;\s?/i.test(t),this.IS_SAMSUNG_BROWSER=/SamsungBrowser/i.test(t),this.IS_WHALE=/Whale/i.test(t),this.IS_LINE_APP=/\bLine\b/i.test(t)}return x()(e,[{key:"searchBrowser",value:function(){return this.isMobile()?this.IS_NAVER_APP?this.NAVER_APP:this.IS_SAMSUNG_BROWSER?this.SAMSUNG_BROWSER:this.IS_WHALE?this.WHALE:this.IS_LINE_APP?this.LINE_APP:this.IS_CR?this.CR:this.IS_SF?this.SF:this.IS_WEBKIT_MOBILE?this.WEBKIT_MOBILE:this.IS_IE_MOBILE?this.IE_MOBILE:this.IS_OPERA_MINI?this.OPERA_MINI:this.IS_DOLFIN?this.DOLFIN:this.UNKNOWN_BROWSER:this.IS_OP?this.OP:this.IS_IE?this.IE:this.IS_EDGE?this.EDGE:this.IS_FF?this.FF:this.IS_WHALE?this.WHALE:this.IS_CR?this.CR:this.IS_SF?this.SF:this.UNKNOWN_BROWSER}},{key:"searchBrowserVersion",value:function(){var e=this.ua;if(this.isMobile()){var t={chrome:this.UNKNOWN_BROWSER_VERSION,samsung:this.UNKNOWN_BROWSER_VERSION,webview:this.UNKNOWN_BROWSER_VERSION,naverApp:this.UNKNOWN_BROWSER_VERSION,lineApp:this.UNKNOWN_BROWSER_VERSION,whale:this.UNKNOWN_BROWSER_VERSION,safari:this.UNKNOWN_BROWSER_VERSION,naverAppSvcCd:this.UNKNOWN_BROWSER_VERSION,defaultVersion:this.UNKNOWN_BROWSER_VERSION};try{if(this.IS_CR&&null!=e.match(/(Chrome|CriOS)\/([0-9.]+)/i)&&(t.chrome=parseFloat(e.match(/(Chrome|CriOS)\/([0-9.]+)/i)[2])),this.IS_SAMSUNG_BROWSER&&null!=e.match(/SamsungBrowser\/([0-9.]+)/i)&&(t.samsung=parseFloat(e.match(/SamsungBrowser\/([0-9.]+)/i)[1])),this.IS_WHALE&&null!=e.match(/Whale\/([0-9.]+)/i)&&(t.whale=parseFloat(e.match(/Whale\/([0-9.]+)/i)[1])),this.IS_SF&&(t.safari=parseFloat(e.match(/Version\/([0-9.]+)/i)[1])),this.IS_WEBKIT_MOBILE&&null!=e.match(/Version\/([0-9.]+)/i)&&(t.webview=parseFloat(e.match(/Version\/([0-9.]+)/i)[1])),this.IS_NAVER_APP){var n=/NAVER\((inapp|higgs);\s?search;\s?([0-9\.]+);\s?([0-9\.]+)(;\s?([a-z|0-9\.]+))?\)/i;null!=e.match(n)&&(t.naverApp=parseFloat(e.match(n)[3]),t.naverAppSvcCd=parseFloat(e.match(n)[2]))}switch(this.IS_LINE_APP&&null!=e.match(/Line\/([0-9.]+)/i)&&(t.lineApp=parseFloat(e.match(/Line\/([0-9.]+)/i)[1])),this.searchBrowser()){case this.SAMSUNG_BROWSER:t.defaultVersion=t.samsung;break;case this.NAVER_APP:t.defaultVersion=t.naverApp;break;case this.LINE_APP:t.defaultVersion=t.lineApp;break;case this.WHALE:t.defaultVersion=t.whale;break;case this.CR:t.defaultVersion=t.chrome;break;case this.SF:t.defaultVersion=t.safari;break;case this.WEBKIT_MOBILE:t.defaultVersion=t.webview}}catch(i){}return t}try{return this.IS_IE?"Microsoft Internet Explorer"==navigator.appName?parseFloat(e.match(/MSIE ([0-9.]+)/i)[1]):"Netscape"==navigator.appName&&null!=new RegExp("trident/.*rv[ :]([0-9]{1,}[.0-9]{0,})").exec(e)?parseFloat(RegExp.$1):-1:this.IS_EDGE?parseInt(e.match(/Edg\/([0-9.]+)/i)[1]):this.IS_WHALE?parseFloat(e.match(/Whale\/([0-9.]+)/i)[1]):this.IS_CR?parseFloat(e.match(/Chrome\/([0-9.]+)/i)[1]):this.IS_SF?parseFloat(e.match(/Version\/([0-9.]+)/i)[1]):this.IS_OP?parseFloat(e.match(/Version\/([0-9.]+)/i)[1]):this.IS_FF?parseFloat(e.match(/Firefox\/([0-9.]+)/i)[1]):this.UNKNOWN_BROWSER_VERSION}catch(i){return this.UNKNOWN_BROWSER_VERSION}}},{key:"searchOS",value:function(){return this.isMobile()?this.IS_IOS?this.IOS:this.IS_ANDROID?this.ANDROID:this.IS_WINDOWS_MOBILE?this.WINDOWS_MOBILE:this.IS_BLACKBERRY?this.BLACKBERRY:this.IS_SONYERICSSON?this.SONYERICSSON:this.IS_SYMBIAN_OS?this.SYMBIAN_OS:this.IS_WEB_OS?this.WEB_OS:this.IS_TIZEN?this.TIZEN:this.UNKNOWN_OS:this.IS_WIN?this.WIN:this.IS_MAC?this.MAC:this.UNKNOWN_OS}},{key:"searchOSVersion",value:function(){var e=this.ua;try{return this.isMobile()?this.IS_IOS?parseFloat(this.ua.match(/OS ((\d+_?){2,3})\s/i)[1].replace(/_/g,".")):this.IS_ANDROID?parseFloat(e.match(/Android ([0-9.]+)/i)[1]):/Windows Phone/i.test(e)?parseFloat(e.match(/Windows Phone ([0-9.]+)|Windows Phone OS ([0-9.]+)/i)[0].match(/[0-9.]+/)[0]):this.IS_SYMBIAN_OS?parseFloat(e.match(/SymbianOS\/([0-9.]+)/i)[1]):this.IS_WEB_OS?parseFloat(e.match(/webOS\/([0-9.]+)/i)[1]):this.IS_TIZEN?parseFloat(e.match(/Tizen ([0-9.]+)/i)[1]):this.UNKNOWN_OS_VERSION:this.IS_WIN?parseFloat(e.match(/Windows NT ([0-9.]+)/i)[1]):this.IS_MAC?parseFloat(e.match(/Mac OS X ([\d_.]+)/i)[1].replace(/_/g,".")):this.UNKNOWN_OS_VERSION}catch(t){return this.UNKNOWN_OS_VERSION}}},{key:"isMobile",value:function(){return this.IS_IOS||this.IS_ANDROID||this.IS_TIZEN||this.IS_WINDOWS_MOBILE||this.IS_BLACKBERRY||this.IS_SONYERICSSON||this.IS_SYMBIAN_OS||this.IS_WEB_OS||this.IS_OPERA_MINI||this.IS_DOLFIN}}]),e}()),xr=new xn,Ur=$.Type.AD_LOAD_ERROR,Vr=ion(){function e(){N()(this,e),this.resetExclusioxclusionCriteria={advertiserDomains:[],adDuplicationKeys:[]}}},{key:"setExclusionCriteria",value:function(e){this.exclusionCriteria=e||{advertiserDomains:[],adDuplicationKeys:[]}}},{key:"getExclusionCriteria",value:function(){return this.exclusionCriteria}},{key:"requestAds",value:function(){var t=s()(r.a.mark(function n(t){var i,a,s,o,u,d;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=t.adUnit,a=t.requestTimeout,s=Nr.makeAdRequestParam({adUnit:i}),o=i.getAdapterManager(),u=e.buildAdRequestUrl(s),o.resetAdapters(),xr.mark("mark_ssp_ad_load_begin"),n.next=9,e.makeXhrRequest(u,a);case 9:return d=n.sent,o.setAdproviderInfos(d),n.next=13,o.handleRequestAdapters();case 13:xr.mark("mark_ssp_ad_load_end"),xr.measure("measure_gfp_ad_load","mark_ssp_ad_load_begin","mark_ssp_ad_load_end"),this.findOut("measure_gfp_ad_load","success",i),n.next=21;break;case 18:n.prev=18,n.t0=n["catch"](0),this.handleError({e:n.t0,adUnit:adUnit});case 21:case"end":return n.stop()}},n,this,[[0,18]])}));return function(e){return t.apply(this,arguments)}}()},{key:"requestAdsXHR",value:function(){var t=s()(r.a.mark(function n(t){var i,a,s,o,u,d,l,c,h,A,f,p,v,g,y;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.adUnit,a=t.adapterManager,s=t.requestTimeout,o=this.exclusionCriteria,u=Nr.makeAdRequestParam({adUnit:i,exclusionCriteria:o}),d=e.buildAdRequestUrl(u),n.prev=4,xr.mark("mark_ssp_ad_load_begin"),n.next=8,e.makeXhrRequest(d,s);case 8:return l=n.sent,c=function(e){return E()(e,function(e,t,n){return n.indexOf(e)===t})},h=l.advertiserDomains,A=void 0===h?[]:h,f=l.adDuplicationKeys,p=void 0===f?[]:f,v=this.exclusionCriteria,g=v.advertiserDomains,y=v.adDuplicationKeys,this.exclusionCriteria={advertiserDomains:c([].concat(Rr()(g),Rr()(A))),adDuplicationKeys:c([].concat(Rr()(y),Rr()(p)))},a.setAdproviderInfos(l),n.next=16,a.handleRequestAdapters();case 16:xr.mark("mark_ssp_ad_load_end"),xr.measure("measure_gfp_ad_load","mark_ssp_ad_load_begin","mark_ssp_ad_load_end"),this.findOut("measure_gfp_ad_load","success",i),n.next=24;break;case 21:n.prev=21,n.t0=n["catch"](4),this.handleError({e:n.t0,adUnit:i,exclusionCriteria:o});case 24:case"end":return n.stop()}},n,this,[[4,21]])}));return function(e){return t.apply(this,arguments)}}()},{key:"requestAdChunk",value:function(){var t=s()(r.a.mark(function n(t,i,a){var s,o,u,d,l;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=a.mergeIntoExclusionCriteria(),o=D.a.getConfig().requestTimeout,u=Nr.makeAdRequestParam({adUnit:t,exclusionCriteria:s}),d=e.buildAdRequestUrl(u),n.prev=4,xr.mark("mark_ssp_ad_load_begin"),n.next=8,e.makeXhrRequest(d,o);case 8:return l=n.sent,i.setAdproviderInfos(l,a),n.next=12,i.handleRequestAdapters();case 12:xr.mark("mark_ssp_ad_load_end"),xr.measure("measure_gfp_ad_load","mark_ssp_ad_load_begin","mark_ssp_ad_load_end"),this.findOut("measure_gfp_ad_load","success",t),n.next=20;break;case 17:n.prev=17,n.t0=n["catch"](4),this.handleError({e:n.t0,adUnit:t,exclusionCriteria:s});c]])}));return function(e,n,i){return t.apply(this,arguments)}}()},{key:"findOut",value:function(e,t,n){var i=n.getUnitId();if(xr.supports()&&xr.supports()){var r=xr.getMeasureResult(e),a={name:e,result:t,unitId:i,adProvider:"GFP",duration:r.duration};return xr.clearMeasures(e),a}}},{key:"handleError",value:function(e){var t=e.e,n=e.adUnit,i=e.exclusionCriteria,r=n.getUnitId(),a=n.getAdSlotElementId(),s=n.getAdapterManager();xr.mark("mark_ssp_ad_load_end"),xr.measure("measure_gfp_ad_load","mark_ssp_ad_load_begin","mark_ssp_ad_load_end");var o=this.findOut("measure_gfp_ad_load","failure",n),u=s.getAdListener(),d=s.getVideoQoeListener?s.getVideoQoeListener():undefined,l=s.playerInfo||{},c=new ce({unitId:r,divId:a,playerInfo:l});if(c.setEventListeners({adListener:u,videoQoeListener:d}),c.notifyAdFailedToLoad({code:Wr,message:Gr,type:Ur}),c.notifyAdError({code:Wr,message:Gr,type:Ur}),!t.response){var h,A=Math.floor(null!==(h=o.duration)&&void 0!==h?h:0),f=Nr.makeAdRequestParam({adUnit:n,exclusionCriteria:i});this.notifyNetworkError(n,f,A)}}},{key:"notifyNetworkError",value:function(e,t,n){var i,r=this.makeNetworkErrorQueryString(t,n),a=Br.searchBrowser(),s=Br.searchBrowserVersion(),o=Br.searchOS(),d=Br.searchOSVersion(),l=(i={q:r,u:t.u,bn:a,bv:"number"==typeof s?s:s.defaultVersion,os:o,osv:d},u()(i,"erc",3210),u()(i,"ersc","GFP_NETWORK_ERROR"),u()(i,"erm","Network Error"),i),c=[{url:"".concat(D.a.getTivanDomain(),"/se")}];e.getAdapterManager().callLogs(c,"",l,"adcall network error url")}},{key:"makeNetworkErrorQueryString",value:function(e,t){var n,i=(n={},u()(n,"st",0),u()(n,"erc",3210),u()(n,"ersc","GFP_NETWORK_ERROR"),u()(n,"erm","Network Error"),u()(n,"rt",t),n),r=Object.assign({},e,i);return Fr()(F()(r),function(t,n){var i=e[n];if("p"===n){var r=Fr()(F()(i),function(e,t){var n=i[t];return Ne.a.isEmpty(n)||e.push("".concat(Ne.a.encodeURIComponent(t),":").concat(Ne.a.encodeURIComponent(n))),e},[]).join(",");return t.push("".concat(Ne.a.encodeURIComponent(n),"=").concat(Ne.a.encodeURIComponent(r))),t}return Ne.a.isEmpty(i)||t.push("".concat(Ne.a.encodeURIComponent(n),"=").concat(Ne.a.encor",value:function(){return this.adLoader=new e,this.adLoader}},{key:"buildAdRequestUrl",value:function(e){var t=D.a.getSspDomain(),n=[];return v()(F()(e),function(t){n.push("".concat(t,"=").concat(Ne.a.encodeURIComponent(e[t])))}),"".concat("https:","//").concat(t,"/call?").concat(n.join("&"))}},{key:"withTimeout",value:ft(function(){clearTimeout(i),n(new Error("request timeout"))},e)});return Promise.race([n,t])}},{key:"makeXhrRequest",value:function(e,t){return new Promise(function(n,i){var r=new XMLHttpRequest;r.open("GET",e),r.timeout=t,J.IS_IE||(r.responseType="json"),r.withCredentials=!0,r.onload=function(){var e=r.readyState,t=r.status,a=r.statusText,s=J.IS_IE?JSON.parse(r.response):r.response;4===e?t>=200&&t<300?n(s):i({status:t,statusText:a,response:s}):i()},r.onerror=function(){var e=r.status,t=r.statusText,n=timeout=function(){r.abort(),i(new Error("request timeout"))},r.send()})}}]),e}(),Xr=n(96),Hr=n.n(Xr),qr=function(){function e(t){N()(this,e),ution(e){return E()(e,function(e,t,n){return n.indexOf(e)===t})}),this.adDeduplicationManager=t,this.maxDedupReqCount=this.adDeduplicationManager.maxDedupReqCount,this.exclusionCriteriaList=Rr()(this.adDeduplicationManager.exclusionCriteriaList),this.dequeue()}return x()(e,[{key:"execute",value:function(){var e=s()(r.a.mark(function t(e){var n,i,a,s,o,u,d,l,c,h,A=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=A.h(function(e){i.hasAdSlot(e.getAdSlotElementId())&&a.push(e)}),s=!0,o=!1,t.prev=6,d=Hr()(a);case 8:return t.next=10,d.next();case 10:return l=t.sent,s=l.done,t.next=14,l.value;case 14:if(c=t.sent,s){t.next=28;break}if(h=c,n){t.next=23;break}return t.next=21,this.requestAd(h);case 21:t.next=25;break;case 23:return t.next=25,this.restoreAd(h);case 25:s=!0,t.next=8;break;case 28:t.next=34;break;case 30:t.prev=30,t.t0=t["catch"](6),o=!0,u=t.t0;case 34:if(t.prev=34,t.prev=35,s||null==d["return"]){t.next=39;break}return t.next=39,d["return"]();case 39:if(t.prev=39,!o){t.next=42;break}throw u;case 42:return t.finish(39);case 43:return t.finish(34);case 44:case"end":return t.stop()}},t,this,[[6,30,34,44],[35,,39,43]])}));return function(t){return e.apply(this,arguments)}}()},{key:"requestAd",value:function(){var e=s()(r.a.mark(function t(e){var n,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=jr.builder(),(i=e.getAdapterManager()).resetAdapters(),t.next=5,n.requestAdChunk(e,i,this);case 5:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"restoreAd",value:function(){var e=s()(r.a.mark(function t(e){var n,i,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=window.spwp,i=e.getAdSlotElementId(),e.getAdapterManager().resetAdapters(),a=P.getPersistAdData("".concat(Ne.a.getDocumentLocationURL(),"_").concat(i)),!P.support()||h()(a)){t.next=10;break}return P.resetPersistData(),t.next=9,P.initPersistAds(e,a);case 9:n.renderAd(i);case 10:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}()},{key:"accumulateExclusionCriteria",value:function(e){if(e){var t=e.advertiserDomains,n=e.adDuplicationKeys;h()(t)&&h()(n)||(this.exclusionCriteriaList.push(e),this.adDeduplicationManager.accumulateExclusionCriteria(e),this.dequeue())}}},{key:"mergeIntoExclusionCriteria",value:function(){var e=[],t=[];return this.exclusionCriteriaList.forEach(function(n){e.push.apply(e,Rr()(n.adDuplicationKeys)),t.push.apply(t,Rr()(n.advertiserDomains))}),{adDuplicationKeys:this.removeDuplicateItemInArray(e),advertiserDomains:this.removeDuplicateItemInArray(t)}}},{key:"dequeue",value:function(){if(-1!==this.maxDedupReqCount)for(;this.exclusionCriteriaList.length>this.maxDedupReqCount;)this.exclusionCriteriaList.shift()}}]),e}();function Kr(e,t){var n;if("undefined"==typUi|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zr(e,t)}(e))||t&&e&&"number"==ncngth?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must )}l.n(rength);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Qr=function(){function e(t,n){N()(this,e),this._dedupReqId=t,this.maxDedupReqCount=n,this._globalMaxDedupReqCount=2*n,this._exclusionCriteriaList=[],this._adSlots=[]}return x()(e,[{key:"requestAds",value:function(e){var t=this;new qr(this).execute(e);var n,i=on(t){return t.getAdSlotElementId()===e.getAdSlotElementId()})&&t._adSlots.push(e)};for(i.s();!(n=i.n()).done;)r()}catch(a){i.e(a)}finally{i.f()}}},{key:"restoreAds",value:function(e){e||(e=this._adSlots),new qr(this).execute(e,!0)}},{key:"accumulateExclusionCriteria",value:function(e){if(e){var t=e.adDuplicationKeys,n=e.advertiserDomains;h()(t)&&h()(n)||(this._exclusionCriteriaLilExclusions",value:function(){this._exclusionCriteriaList=[]}},{key:"dequeue",value:function(){if(-1!==this.maxDedupReqCount)for(;this._exclusionCriteriaList.length>this._globalMaxDedupReqCount;)this._exclusionCriteriaList.shift()}},{key:"dedupReqId",get:function(){return this._dedupReqId}},{key:"exclusionCriteriaList",get:function(){return this._exclusionCriteriaList}}]),e}(),Zr=function(){function e(){var t,n=this;N()(this,e),this.logTrackingQueue=[],this.events=(t={},u()(t,"pageshow",function(){oreunload",function(){n.clearTrackingQueue(),n.removeEvent()}),t),document.readyState&&"complete"!==document.readyState&&(this.addEvent(),this.setDefaultTimeout())}return x()(e,[{key:"addEvent",value:function(){var e=this;v()(F()(this.events),function(t){window.addEventListener(t,e.events[t])})}},{key:"vents),function(t){window.removeEvId=window.setTimeout(function(){e.tTimeout",value:function(){window.clearTimeout(this.timerId)}},{key:"handleTrackingUrl",value:function(e){var t=this.initBeacon();document.readyState&&"complete"===document.readyState?this.callTrackingUrl(t)}},{key:"initBeacon",value:function(){return new Image(1,1)}},{key:"callTrackingUrl",value:function(e,t){e.src=t}},{key:"accumulateTrackingUrl",value:function(e,t){e.setAttribute("data-src",t),this.logTrackingQueue.push(e)}},{key:"clearTrackingQueue",value:function(){for(this.clearDefaultTimeout();this.logTrackingQueue.length>0;){var e=this.logTrackingQueue.shift(),t=e.getAttribute("data-src");this.callTrackingUrl(e,t)}}}]),e}(),Yr=n(28);function Jr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return $r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(o)throw a}}}}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach(function(t){u()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var na,ia=window.spwp;ia.adEvent={AD_LOAD:"adLoad",AD_LOAD_FAILED:"adLoadFailed",AD_IMPRESSION:"adImpression",AD_CLICK:"adClick",AD_MUTE_COMPLETED:"adMuteCompleted"},ia.adError={ErrorCode:$.ERROR_CODE},ia.version="1.3.6",ia.GfpAdEvent={Type:H.Type},ia.GfpAdErrorEvent={Type:q.Type},ia.GfpAdError={Type:$.Type,ErrorCode:$.ERROR_CODE},ia.logTrackingManager=new Zr,ia.resourceLoader=new Yr.a;var ra,aa=D.a.getCreativeTypes(),sa=[],oa=function(e){fo(e){e.forEach(function(e){var t=new Or(e);ia.adUnits.push(t)})},ia.defineAdSlot=function(e){var t=e.unitId,n=e.divId,i=ia.findAdSlot(n);if(i)return i;var r=E()(ia.adUnits,function(e){return e.getUnitId()==t}).length+1,a=new Or(ta(ta({},e),{},{slotSeqNo:r}));return a.getAdapterManager().setAdListener(na),ia.adUnits.push(a),a},ia.destroyAdSlots=function(e){var t=[];if(e){if(!Array.isArray(e))return;v()(e,function(e){t.push(e)})}else t=ia.adUnits;var n,i=Jr(t);tria.adUnits.filter(function(t){return e!==t||(t.destroy(),!1)})};for(i.s();!(n=i.n()).done;)r()}catch(a){i.e(a)}finally{i.f()}},ia.findAdSlot=function(e){return e?y()(ia.adUnits,funcull},ia.hasAdSlot=function(e){return null!==ia.findAdSlot(e)},ia.findAdDedupManager=function(e){return e?y()(sa,function(t){return t.dedupReqId==e}):null},ia.setAdDeduplication=function(e,t){var n=ia.findAdDedupManager(e);return n?(n.maxDedupReqCount=t||D.a.getConfig().maxDedupReqCount,n.clearAllExclus(e){var t=ia.findAdAllExclusions()},ia.clearAllAdUnits=function(){ia.adUnits=[]},ia.setAdListener=function(e){var t=e.adUnitIds,n=e.eventList;t||(na=n),(t&&t.length?E()(ia.adUnits,).forEach(function(e){e.getAdapterManager().setAdListener(n)})},ia.setVideoQoeListener=function(()(ia.adUnits,function(e){return e.getMediaType()===aa.VIDEO}).forEach(function(e){var n=e.getAdapterManager();(i||void 0===n.getVideoQoeListener())&&n.setVideoQoeListener(t)})},ia.updateUnitInfo=function(e){var t=e.divId,n=ia.findAdSlot(t);n&&(n.setTargeting(ta({},e.targeting)),n.setExtraOption(ta({},e.extraOption)))},ia.requestAds=function(){var e=s()(r.a.mark(function t(e){var n,i,a,o,u,d,l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.adUnits,i=e.adUnitIds,a=e.timeout,o=e.eventList,u=a||D.a.getConfig().requestTimeout,n||(n=i&&i.length?E()(ia.adUnits,function(e){return f()(i,e.getUnitId())}):ia.adUnits),d=Jr(n);try{for(d.s();!(l=d.n()).done;)l.value.destroy()}catch(c){d.e(c)}finally{d.f()}n.forEach(function(){var e=s()(r.a.mark(function t(e){var n,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.getAdSlotElementId(),e.getAdapterManager().setAdListener(o),i=P.getPersistAdData("".concat(Ne.a.getDocumentLocationURL(),"_").concat(n)),P.support()&&h()(i)&&P.setPersistAdData("".concat(Ne.a.getDocumentLocationURL(),"_").concat(n),{}),!P.support()||!P.isBackForwardType()||h()(i)){t.next=11;break}return P.resetPersistData(),t.next=9,P.initPersistAds(e,i);case 9:t.next=13;break;case 11:return t.next=13,jr.builder().requestAds({adUnit:e,requestTimeout:u});case 13:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),ia.requestAdsSync=function(){var e=s()(r.a.mark(function t(e){var n,i,a,s,o,u,d,l,c,A,p,v,g,y,m;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.adUnits,i=e.adUnitIds,a=e.timeout,s=e.eventList,o=e.exclusionCriteria,u=a||D.a.getConfig().requestTimeout,n||(n=i&&i.length?E()(ia.adUnits,function(e){return f()(i,e.getUnitId())}):ia.adUnits),(d=jr.builder()).setExclusionCriteria(o),l=Jr(n);try{for(l.s();!(c=l.n()).done;)c.value.destroy()}catch(r){l.e(r)}finally{l.f()}A=Jr(n),t.prev=9,A.s();case 11:if((p=A.n()).done){t.next=28;break}if(v=p.value,g=v.getAdSlotElementId(),(y=v.getAdapterManager()).setAdListener(s),m=P.getPersistAdData("".concat(Ne.a.getDocumentLocationURL(),"_").concat(g)),P.support()&&h()(m)&&P.setPersistAdData("".concat(Ne.a.getDocumentLocationURL(),"_").concat(g),{}),!P.support()||!P.isBackForwardType()||h()(m)){t.next=24;break}return P.resetPersistData(),t.next=22,P.initPersistAds(v,m);case 22:t.next=26;break;case 24:return t.next=26,d.requestAdsXHR({adUnit:v,adapterManager:y,requestTimeout:u});case 26:t.next=11;break;case 28:t.next=33;break;case 30:t.prev=30,t.t0=t["catch"](9),A.e(t.t0);case 33:return t.prev=33,A.f(),t.finish(33);case 36:d.resetExclusionCriteria();case 37:case"end":return t.stop()}},t,null,[[9,30,33,36]])}));return function(t){return e.apply(this,arguments)}}(),ia.renderAd=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{preload:!1},n=ia.findAdSlot(e);if(n){var i=n.getAdapterManager();i.renderConfig=t,i.push()}},ia.renderAds=function(e){var t=e.adUnits,n=e.divIds;t&&(n=t.map(function(e){re|(n=ia.adUnits.map(function(e){return e.getAdSlotElementId()})),n.forEach(function(e){return ia.renderAd(e)})},ia.initEvent=function(e){e.unitId;var t=e.divId,n=ia.findAdSlot(t);n&&n.getAdapterManager().initEvent()},ia.setMediationList=function(){var e=s()(r.a.mark(function t(e,n){var i,a,s,o,u,d;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=4;break}return t.abrupt("return");case 4:if(e.adUnit&&e.adDivId){t.next=7;break}return t.abrupt("return");case 7:if(i=e.adUnit,a=e.adDivId,s=a?y()(ia.adUnits,function(e){return e.getUnitId()==i&&e.getAdSlotElementId()==a}):y()(ia.adUnits,function(e){return e.getUnitId()==i}),n&&(u=ia.findAdDedupManager(n),o=new qr(u)),!s){t.next=15;break}return(d=s.getAdapterManager()).setAdproviderInfos(e,o),t.next=15,d.handleRequestAdapters();case 15:case"end":return t.stop()}},t)}));return function(t,n){return e.apply(this,arguments)}}(),ia.handlePassback=function(){var e=s()(r.a.mark(function t(e){var n,i,a,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.unitId,n=e.divId,i=e.creativeType,!(a=ia.findAdSlot(n))){t.next=8;break}return(s=a.getAdapterManager()).clear(),t.next=7,s.handleRequestAdapters();case 7:i==aa.BANNER&&s.getCurrentAdapter().display();case 8:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),ia.onLoadAdm=function(e){var t=ia.findAdSlot(e);if(t){var n=t.getAdapterManager().getCurrentAdapter();if(h()(n))return;n.onLoadAdm&&n.onLoadAdm(e)}},ia.addCallback=function(e){var t=e.divId,n=ia.findAdSlot(t);if(n){var i=n.getAdapterManager().getCurrentAdapter();if(h()(i))return;i.addCallback&&i.addCallback(e)}},ia.previewNdpAd=function(){var e=s()(r.a.mark(function t(e){var i,a,s,o,u,d,l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.acId,a=e.preCreativeId,s=e.creativeId,t.prev=1,t.next=4,n.e(0).then(n.bind(null,164));case 4:o=t.sent,u=o.requestNdpPreviewAdByAcId,d=o.requestNdpPreviewAdByPrc,l=o.requestNdpPreviewAdByCreativeId,i?u(e):a?d(e):s&&l(e),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1);case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),ia.setPlayerInfo=function(e){var t=e.unitId,n=e.divId,i=e.playerInfo,r=n?y()(ia.adUnits,function(e){returnId()==n}):y()(ia.adUnits,function(e){return e.getUnitId()==t});r&&r.getAdapterManager().setPlayerInfo(i)},ia.setHostMeta=function(e){var t,n=e.divIds,i=e.metaData,r=n&&n.length?l()((t=n,E()(t,function(e,t,n){return n.indexOf(e)===t})),function(e){return ia.findAdSlot(e)}):ia.adUnits;v()(r,function(e){e.setHostMeta(i)})},ia.clearActiveViews=function(){var e=ia.activeViews;for(var t in e)e.hasOwnProperty(t)&&e[t]&&(e[t].clearActiveView(),e[t]=null)},ia.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(t){}},ia.setConfig=D.a.setConfig,ia.getConfig=D.a.getConfig,ia.defineAdUnit=ia.defineAdSlot,(ra=ia.cmd).forEach(function(e){if("undefined"==typeof e.called)try{e.call(),e.called=!0}catch(t){}}),oa(ra)}]);