"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[991],{56171:function(O,C,I){var D,P,j=I(34155);Object.defineProperty(C,"__esModule",{value:!0});var N,H=(N={},"undefined"!=typeof window&&(N=window),N.vp=N.vp||{},N.vp.auth=N.vp.auth||{},N.vp.auth.deps=N.vp.auth.deps||null,N.vp.auth.cache=N.vp.auth.cache||null,N),W={getDeps:function(){return H.vp.auth.deps},setDeps:function(O){O&&(H.vp.auth.deps=O)},isDepsInitialized:function(){return null!==H.vp.auth.deps},getCache:function(){return H.vp.auth.cache},setCache:function(O){O&&(H.vp.auth.cache=O)},isCacheInitialized:function(){return null!==H.vp.auth.cache}};function i(O){var C=O.split(".");try{var I=C[1];return JSON.parse(atob(I))}catch(O){return null}}var z={parse:i,getCanonicalId:function(O){return O["https://claims.cimpress.io/canonical_id"]},getRecentAnonymousIds:function(O){return O["https://claims.cimpress.io/was"]},isValidToken:function(O){return i(O).exp-Math.round(Date.now()/1e3)>7200}},F="a00e1368c32c471cb7e2ba0defd99a1a",Y="h7mue3Z1WYL2KW1DHv0dO0qbqd29aG61",X="cimpress.auth0.com";function c(O){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(O)}function p(O,C){(null==C||C>O.length)&&(C=O.length);for(var I=0,D=Array(C);I<C;I++)D[I]=O[I];return D}var G=["vistaprint","vista"];function d(O,C,I){var D=function(O){if(!O)return null;for(var C=O.split(".").slice(-3),I=C.length-1;I>=0;I-=1){var D=C[I];if(G.indexOf(D)>=0)return C.slice(I).join(".")}return O}(window.location.hostname);document.cookie=O+"="+C+";expires="+I+";path=/;domain="+D}function g(O){var C=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],I=null;try{return document.cookie.split(";").every(function(C){var D,P=(D=C.trim().split("="),function(O){if(Array.isArray(O))return O}(D)||function(O){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(O))return Array.from(O)}(D)||function(O,C){if(O){if("string"==typeof O)return p(O,C);var I=Object.prototype.toString.call(O).slice(8,-1);if("Object"===I&&O.constructor&&(I=O.constructor.name),"Map"===I||"Set"===I)return Array.from(O);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return p(O,C)}}(D)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),j=P[0],N=P.slice(1);return j!==O||(I=N.join("="),!1)}),I&&C?JSON.parse(I):I}catch(C){return console.error("Unable to parse cookie value for - ".concat(O)),null}}var $={setPresumedLoginState:function(){var O=new Date;O.setTime(O.getTime()+2592e6),d("_pls",1,O.toUTCString())},deletePresumedLoginState:function(){d("_pls","","Thu, 01 Jan 1970 00:00:00 UTC")},getPresumedLoginState:function(){return g("_pls")},setAnonymousIdentityState:function(O,C,I){var D=new Date;D.setTime(D.getTime()+864e8);var P=D.toUTCString();d("anon",JSON.stringify({id:O,nonce:C,anonKey:I}),P)},getAnonymousIdentityState:function(){return g("anon")},deleteAnonymousIdentityState:function(){d("anon","","Thu, 01 Jan 1970 00:00:00 UTC")},getOptimizelyId:function(){return g("optimizelyEndUserId",!1)},setAuthCookie:function(O){var C=new Date;C.setTime(C.getTime()+2592e6);var I=C.toUTCString();d("vpauth",JSON.stringify(O),I)},getAuthCookie:function(){return g("vpauth")},deleteAuthCookie:function(){d("vpauth","","Thu, 01 Jan 1970 00:00:00 UTC")},getCookie:g,setSessionCookie:function(O){var C=new Date;C.setTime(C.getTime()+2592e6),d("vpsession",O,C.toUTCString())},getSessionCookie:function(){return g("vpsession",!1)},deleteSessionCookie:function(){d("vpsession","","Thu, 01 Jan 1970 00:00:00 UTC")},setConfigCookie:function(O,C){var I=new Date;I.setTime(I.getTime()+2592e6);var D=I.toUTCString();d("vpconfig",JSON.stringify({clientId:O,domain:C}),D)},getConfigCookie:function(){return g("vpconfig")},deleteConfigCookie:function(){d("vpconfig","","Thu, 01 Jan 1970 00:00:00 UTC")}},Z="https://sessions.cimpress.io/v1/sessions";function v(O){var C=$.getSessionCookie(),I=new XMLHttpRequest;I.onload=w,I.onerror=w,I.passToken=O,I.open("PUT","".concat(Z,"/").concat(C,"/tokens")),I.setRequestHeader("Content-Type","application/json"),I.send(JSON.stringify({accessToken:O}))}function w(){var O;if(200!==this.status)return console.log("Unable to update session from Sessions service. Status:"+this.status),O=this.passToken,void setTimeout(function(){v(O)},12e4)}function b(){204===this.status?$.deleteSessionCookie():console.log("Unable to close session from Sessions service. Status:"+this.status)}var Q={createSession:function(O,C,I){var D=new XMLHttpRequest;D.onload=function(){if(201===this.status){var C=JSON.parse(this.response).sessionId;$.setSessionCookie(C)}window.location=decodeURIComponent(O.redirectUrl)},D.onerror=function(){console.log("Unable to create a new session from Sessions service having the origin"+window.location.origin),window.location=decodeURIComponent(O.redirectUrl)},D.open("POST",Z),D.setRequestHeader("Content-Type","application/json"),D.send(JSON.stringify({origin:window.location.origin,clientId:O.clientId||C.oidc.clientID,accessToken:I.accessToken}))},updateSession:v,closeSession:function(){var O=$.getSessionCookie(),C=new XMLHttpRequest;C.onload=b,C.onerror=b,C.open("POST","".concat(Z,"/").concat(O,"/lifecycle/logout")),C.send()}},te=["signUp"];function k(O){this.connection=O.connection,this.site=O.site,this.culture=O.culture,this.allowGuestUser=O.allowGuestUser,this.guestReturnUrl=O.guestReturnUrl,this.clientId=O.oidc&&O.oidc.clientID,this.domain=O.oidc&&O.oidc.domain,this.hasAnonymousId=!1,this.hasCulture=!1,this.skipFasterCheckoutText=!0===O.skipFasterCheckoutText,this.loginContext=O.loginContext,this.navHint=O.navHint,this.originUrl=String(window.location.href).split("?")[0],this.requireSession=!0===O.requireSession,this.customText=O.customText,this.enableGoogleOneTap=!0===O.enableGoogleOneTap,this.enforcedEmail=O.enforcedEmail,this.isFirstLogin=!0===O.isFirstLogin,this.unificationEntityId=O.unificationEntityId,this.vcsStoreUrl=O.vcsStoreUrl}function E(O){if(!O||!O.href||!O.origin)throw Error("[ReturnUrlBuilder]: Parameter 'location' has to be specified and valid.");this.location=O,this.additionalQueryParams=[],this.additionalHashParams=[]}function A(O,C,I){if(0===C.length)return O;var D=C.map(function(O){return"".concat(O[0],"=").concat(O[1])}).join("&");return"".concat(O).concat(I).concat(D)}k.prototype.withReturnUrl=function(O){if(!O)throw Error("[AuthOptionsBuilder] Error: ReturnUrl is not provided.");return this.returnUrl=O,this},k.prototype.withAnonymousId=function(){return this.hasAnonymousId=!0,this},k.prototype.withCulture=function(){return this.hasCulture=!0,this},k.prototype.build=function(){var O,C;if(!this.returnUrl)throw Error("[AuthOptionsBuilder] Error: ReturnUrl was not set up.");return -1===this.connection.indexOf("ADFS")&&(O=function(O,C,I,D,P,j,N,H,W,z,F,Y,X,G,Z,Q,tr){var to={site:N||function(){for(var O=((window.location||{}).host||"").split("."),C={promotique:"Promotique","99designs":"99designs",vistacreate:"vistacreate"},I=Object.keys(C),D=0;D<O.length;D++)if(I.includes(O[D]))return C[O[D]];return"Vistaprint"}()};if(O){var ts=$.getAnonymousIdentityState();ts&&(to.anonymousId=encodeURIComponent(ts.id),to.validationKey=encodeURIComponent(ts.nonce),to.anonKey=ts.anonKey&&encodeURIComponent(ts.anonKey))}var ta=$.getOptimizelyId();ta&&(to.optimizelyId=ta),C&&I&&(to.culture=I),j&&(to.redirectUrl=j),D&&(to.guestReturnUrl=P||j),H&&(to.skipFasterCheckoutText=!0),W&&(to.loginContext=W),z&&(te.includes(z)?to.navHint=z:console.error("Invalid nav hint value passed - ",z)),F&&(to.originUrl=F);var tu=$.getCookie("_ga",!1);tu&&(to.ga=tu);var th=$.getCookie("visit",!1);return th&&(to.visit=th),Y&&(to.customText=Y),X&&(to.enableGoogleOneTap=X),G&&(to.enforcedEmail=G),Z&&(to.isFirstLogin=Z),Q&&(to.unificationEntityId=Q),tr&&(to.vcsStoreUrl=tr),btoa(JSON.stringify(to))}(this.hasAnonymousId,this.hasCulture,this.culture,this.allowGuestUser,this.guestReturnUrl,this.returnUrl,this.site,this.skipFasterCheckoutText,this.loginContext,this.navHint,this.originUrl,this.customText,this.enableGoogleOneTap,this.enforcedEmail,this.isFirstLogin,this.unificationEntityId,this.vcsStoreUrl)),{connection:this.connection,state:(C=this.returnUrl,btoa(JSON.stringify({redirectUrl:C,wauth:O,clientId:this.clientId,requireSession:this.requireSession,domain:this.domain}))),wauth:O}},E.prototype.withAdditionalQueryParam=function(O,C){var I=encodeURIComponent(O),D=encodeURIComponent(C);return this.additionalQueryParams.push([I,D]),this},E.prototype.withAdditionalHashParam=function(O,C){var I=encodeURIComponent(O),D=encodeURIComponent(C);return this.additionalHashParams.push([I,D]),this},E.prototype.build=function(){if(0===this.additionalQueryParams.length&&0===this.additionalHashParams.length&&0>this.location.search.indexOf("askUserToLogin"))return this.location.href;var O,C,I,D,P,j=this.location.origin,N=this.location.search?function(O){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"askUserToLogin",I=O.split("?");if(I.length>=2){for(var D=encodeURIComponent(C)+"=",P=I[1].split(/[&;]/g),j=P.length-1;j>=0;j--)-1!==P[j].lastIndexOf(D,0)&&P.splice(j,1);return I[0]+(P.length>0?"?"+P.join("&"):"")}return O}(this.location.search):"";return j=A((O=j,I=j=(C=this.location.pathname)?O+C:O,j=N?I+N:I),this.additionalQueryParams,N?"&":"?"),j=A((D=j,j=(P=this.location.hash)?D+P:D),this.additionalHashParams,N?"&":"#")};var tr={trackSignIn:function(O,C){!function(O,C){if(!window||!window.tracking||"function"!=typeof window.tracking.track)return void console.warn("Tracking-js not found. Cannot track sign-in event.");window.tracking.track(O,{caller:C})}("Sign-in Flow Initiated",O),C&&setTimeout(C,300)}},to="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==I.g?I.g:"undefined"!=typeof self?self:{};function x(O,C){return O(C={exports:{}},C.exports),C.exports}for(var ts=x(function(O){"function"==typeof Object.create?O.exports=function(O,C){C&&(O.super_=C,O.prototype=Object.create(C.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}))}:O.exports=function(O,C){if(C){O.super_=C;var n=function(){};n.prototype=C.prototype,O.prototype=new n,O.prototype.constructor=O}}}),ta=[],tu=[],th="undefined"!=typeof Uint8Array?Uint8Array:Array,tc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tp=0,tl=tc.length;tp<tl;++tp)ta[tp]=tc[tp],tu[tc.charCodeAt(tp)]=tp;function V(O){var C=O.length;if(C%4>0)throw Error("Invalid string. Length must be a multiple of 4");var I=O.indexOf("=");return -1===I&&(I=C),[I,I===C?0:4-I%4]}tu["-".charCodeAt(0)]=62,tu["_".charCodeAt(0)]=63;var tf={byteLength:function(O){var C=V(O),I=C[0],D=C[1];return 3*(I+D)/4-D},toByteArray:function(O){var C,I,D=V(O),P=D[0],j=D[1],N=new th(3*(P+j)/4-j),H=0,W=j>0?P-4:P;for(I=0;I<W;I+=4)C=tu[O.charCodeAt(I)]<<18|tu[O.charCodeAt(I+1)]<<12|tu[O.charCodeAt(I+2)]<<6|tu[O.charCodeAt(I+3)],N[H++]=C>>16&255,N[H++]=C>>8&255,N[H++]=255&C;return 2===j&&(C=tu[O.charCodeAt(I)]<<2|tu[O.charCodeAt(I+1)]>>4,N[H++]=255&C),1===j&&(C=tu[O.charCodeAt(I)]<<10|tu[O.charCodeAt(I+1)]<<4|tu[O.charCodeAt(I+2)]>>2,N[H++]=C>>8&255,N[H++]=255&C),N},fromByteArray:function(O){for(var C,I=O.length,D=I%3,P=[],j=0,N=I-D;j<N;j+=16383)P.push(function(O,C,I){for(var D,P=[],j=C;j<I;j+=3)P.push(ta[(D=(O[j]<<16&16711680)+(O[j+1]<<8&65280)+(255&O[j+2]))>>18&63]+ta[D>>12&63]+ta[D>>6&63]+ta[63&D]);return P.join("")}(O,j,j+16383>N?N:j+16383));return 1===D?P.push(ta[(C=O[I-1])>>2]+ta[C<<4&63]+"=="):2===D&&P.push(ta[(C=(O[I-2]<<8)+O[I-1])>>10]+ta[C>>4&63]+ta[C<<2&63]+"="),P.join("")}},K=function(O,C,I,D,P){var j,N,H=8*P-D-1,W=(1<<H)-1,z=W>>1,F=-7,Y=I?P-1:0,X=I?-1:1,G=O[C+Y];for(Y+=X,j=G&(1<<-F)-1,G>>=-F,F+=H;F>0;j=256*j+O[C+Y],Y+=X,F-=8);for(N=j&(1<<-F)-1,j>>=-F,F+=D;F>0;N=256*N+O[C+Y],Y+=X,F-=8);if(0===j)j=1-z;else{if(j===W)return N?NaN:1/0*(G?-1:1);N+=Math.pow(2,D),j-=z}return(G?-1:1)*N*Math.pow(2,j-D)},J=function(O,C,I,D,P,j){var N,H,W,z=8*j-P-1,F=(1<<z)-1,Y=F>>1,X=23===P?5960464477539062e-23:0,G=D?0:j-1,$=D?1:-1,Z=C<0||0===C&&1/C<0?1:0;for(isNaN(C=Math.abs(C))||C===1/0?(H=isNaN(C)?1:0,N=F):(N=Math.floor(Math.log(C)/Math.LN2),C*(W=Math.pow(2,-N))<1&&(N--,W*=2),(C+=N+Y>=1?X/W:X*Math.pow(2,1-Y))*W>=2&&(N++,W/=2),N+Y>=F?(H=0,N=F):N+Y>=1?(H=(C*W-1)*Math.pow(2,P),N+=Y):(H=C*Math.pow(2,Y-1)*Math.pow(2,P),N=0));P>=8;O[I+G]=255&H,G+=$,H/=256,P-=8);for(N=N<<P|H,z+=P;z>0;O[I+G]=255&N,G+=$,N/=256,z-=8);O[I+G-$]|=128*Z},td={}.toString,tg=Array.isArray||function(O){return"[object Array]"==td.call(O)},ty=x(function(O,C){function n(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(O,C){if(n()<C)throw RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(O=new Uint8Array(C)).__proto__=r.prototype:(null===O&&(O=new r(C)),O.length=C),O}function r(O,C,I){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(O,C,I);if("number"==typeof O){if("string"==typeof C)throw Error("If encoding is specified then the first argument must be a string");return a(this,O)}return o(this,O,C,I)}function o(O,C,I,D){if("number"==typeof C)throw TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&C instanceof ArrayBuffer?function(O,C,I,D){if(C.byteLength,I<0||C.byteLength<I)throw RangeError("'offset' is out of bounds");if(C.byteLength<I+(D||0))throw RangeError("'length' is out of bounds");return C=void 0===I&&void 0===D?new Uint8Array(C):void 0===D?new Uint8Array(C,I):new Uint8Array(C,I,D),r.TYPED_ARRAY_SUPPORT?(O=C).__proto__=r.prototype:O=u(O,C),O}(O,C,I,D):"string"==typeof C?function(O,C,I){if("string"==typeof I&&""!==I||(I="utf8"),!r.isEncoding(I))throw TypeError('"encoding" must be a valid string encoding');var D=0|h(C,I),P=(O=i(O,D)).write(C,I);return P!==D&&(O=O.slice(0,P)),O}(O,C,I):function(O,C){if(r.isBuffer(C)){var I,D=0|c(C.length);return 0===(O=i(O,D)).length||C.copy(O,0,0,D),O}if(C){if("undefined"!=typeof ArrayBuffer&&C.buffer instanceof ArrayBuffer||"length"in C)return"number"!=typeof C.length||(I=C.length)!=I?i(O,0):u(O,C);if("Buffer"===C.type&&tg(C.data))return u(O,C.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(O,C)}function s(O){if("number"!=typeof O)throw TypeError('"size" argument must be a number');if(O<0)throw RangeError('"size" argument must not be negative')}function a(O,C){if(s(C),O=i(O,C<0?0:0|c(C)),!r.TYPED_ARRAY_SUPPORT)for(var I=0;I<C;++I)O[I]=0;return O}function u(O,C){var I=C.length<0?0:0|c(C.length);O=i(O,I);for(var D=0;D<I;D+=1)O[D]=255&C[D];return O}function c(O){if(O>=n())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|O}function h(O,C){if(r.isBuffer(O))return O.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(O)||O instanceof ArrayBuffer))return O.byteLength;"string"!=typeof O&&(O=""+O);var I=O.length;if(0===I)return 0;for(var D=!1;;)switch(C){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":case void 0:return q(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*I;case"hex":return I>>>1;case"base64":return L(O).length;default:if(D)return q(O).length;C=(""+C).toLowerCase(),D=!0}}function p(O,C,I){var D,P,j=!1;if((void 0===C||C<0)&&(C=0),C>this.length||((void 0===I||I>this.length)&&(I=this.length),I<=0)||(I>>>=0)<=(C>>>=0))return"";for(O||(O="utf8");;)switch(O){case"hex":return function(O,C,I){var D,P=O.length;(!C||C<0)&&(C=0),(!I||I<0||I>P)&&(I=P);for(var j="",N=C;N<I;++N)j+=(D=O[N])<16?"0"+D.toString(16):D.toString(16);return j}(this,C,I);case"utf8":case"utf-8":return T(this,C,I);case"ascii":return function(O,C,I){var D="";I=Math.min(O.length,I);for(var P=C;P<I;++P)D+=String.fromCharCode(127&O[P]);return D}(this,C,I);case"latin1":case"binary":return function(O,C,I){var D="";I=Math.min(O.length,I);for(var P=C;P<I;++P)D+=String.fromCharCode(O[P]);return D}(this,C,I);case"base64":return D=C,P=I,0===D&&P===this.length?tf.fromByteArray(this):tf.fromByteArray(this.slice(D,P));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(O,C,I){for(var D=O.slice(C,I),P="",j=0;j<D.length;j+=2)P+=String.fromCharCode(D[j]+256*D[j+1]);return P}(this,C,I);default:if(j)throw TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),j=!0}}function l(O,C,I){var D=O[C];O[C]=O[I],O[I]=D}function f(O,C,I,D,P){if(0===O.length)return -1;if("string"==typeof I?(D=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),isNaN(I=+I)&&(I=P?0:O.length-1),I<0&&(I=O.length+I),I>=O.length){if(P)return -1;I=O.length-1}else if(I<0){if(!P)return -1;I=0}if("string"==typeof C&&(C=r.from(C,D)),r.isBuffer(C))return 0===C.length?-1:d(O,C,I,D,P);if("number"==typeof C)return C&=255,r.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?P?Uint8Array.prototype.indexOf.call(O,C,I):Uint8Array.prototype.lastIndexOf.call(O,C,I):d(O,[C],I,D,P);throw TypeError("val must be string, number or Buffer")}function d(O,C,I,D,P){var j,N=1,H=O.length,W=C.length;if(void 0!==D&&("ucs2"===(D=String(D).toLowerCase())||"ucs-2"===D||"utf16le"===D||"utf-16le"===D)){if(O.length<2||C.length<2)return -1;N=2,H/=2,W/=2,I/=2}function c(O,C){return 1===N?O[C]:O.readUInt16BE(C*N)}if(P){var z=-1;for(j=I;j<H;j++)if(c(O,j)===c(C,-1===z?0:j-z)){if(-1===z&&(z=j),j-z+1===W)return z*N}else -1!==z&&(j-=j-z),z=-1}else for(I+W>H&&(I=H-W),j=I;j>=0;j--){for(var F=!0,Y=0;Y<W;Y++)if(c(O,j+Y)!==c(C,Y)){F=!1;break}if(F)return j}return -1}function T(O,C,I){I=Math.min(O.length,I);for(var D=[],P=C;P<I;){var j,N,H,W,z=O[P],F=null,Y=z>239?4:z>223?3:z>191?2:1;if(P+Y<=I)switch(Y){case 1:z<128&&(F=z);break;case 2:128==(192&(j=O[P+1]))&&(W=(31&z)<<6|63&j)>127&&(F=W);break;case 3:j=O[P+1],N=O[P+2],128==(192&j)&&128==(192&N)&&(W=(15&z)<<12|(63&j)<<6|63&N)>2047&&(W<55296||W>57343)&&(F=W);break;case 4:j=O[P+1],N=O[P+2],H=O[P+3],128==(192&j)&&128==(192&N)&&128==(192&H)&&(W=(15&z)<<18|(63&j)<<12|(63&N)<<6|63&H)>65535&&W<1114112&&(F=W)}null===F?(F=65533,Y=1):F>65535&&(F-=65536,D.push(F>>>10&1023|55296),F=56320|1023&F),D.push(F),P+=Y}return function(O){var C=O.length;if(C<=4096)return String.fromCharCode.apply(String,O);for(var I="",D=0;D<C;)I+=String.fromCharCode.apply(String,O.slice(D,D+=4096));return I}(D)}function E(O,C,I){if(O%1!=0||O<0)throw RangeError("offset is not uint");if(O+C>I)throw RangeError("Trying to access beyond buffer length")}function S(O,C,I,D,P,j){if(!r.isBuffer(O))throw TypeError('"buffer" argument must be a Buffer instance');if(C>P||C<j)throw RangeError('"value" argument is out of bounds');if(I+D>O.length)throw RangeError("Index out of range")}function A(O,C,I,D){C<0&&(C=65535+C+1);for(var P=0,j=Math.min(O.length-I,2);P<j;++P)O[I+P]=(C&255<<8*(D?P:1-P))>>>8*(D?P:1-P)}function U(O,C,I,D){C<0&&(C=4294967295+C+1);for(var P=0,j=Math.min(O.length-I,4);P<j;++P)O[I+P]=C>>>8*(D?P:3-P)&255}function R(O,C,I,D,P,j){if(I+D>O.length||I<0)throw RangeError("Index out of range")}function x(O,C,I,D,P){return P||R(O,0,I,4),J(O,C,I,D,23,4),I+4}function B(O,C,I,D,P){return P||R(O,0,I,8),J(O,C,I,D,52,8),I+8}C.Buffer=r,C.SlowBuffer=function(O){return+O!=O&&(O=0),r.alloc(+O)},C.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==to.TYPED_ARRAY_SUPPORT?to.TYPED_ARRAY_SUPPORT:function(){try{var O=new Uint8Array(1);return O.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===O.foo()&&"function"==typeof O.subarray&&0===O.subarray(1,1).byteLength}catch(O){return!1}}(),C.kMaxLength=n(),r.poolSize=8192,r._augment=function(O){return O.__proto__=r.prototype,O},r.from=function(O,C,I){return o(null,O,C,I)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(O,C,I){return s(O),O<=0?i(null,O):void 0!==C?"string"==typeof I?i(null,O).fill(C,I):i(null,O).fill(C):i(null,O)},r.allocUnsafe=function(O){return a(null,O)},r.allocUnsafeSlow=function(O){return a(null,O)},r.isBuffer=function(O){return!(null==O||!O._isBuffer)},r.compare=function(O,C){if(!r.isBuffer(O)||!r.isBuffer(C))throw TypeError("Arguments must be Buffers");if(O===C)return 0;for(var I=O.length,D=C.length,P=0,j=Math.min(I,D);P<j;++P)if(O[P]!==C[P]){I=O[P],D=C[P];break}return I<D?-1:D<I?1:0},r.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(O,C){if(!tg(O))throw TypeError('"list" argument must be an Array of Buffers');if(0===O.length)return r.alloc(0);if(void 0===C)for(C=0,I=0;I<O.length;++I)C+=O[I].length;var I,D=r.allocUnsafe(C),P=0;for(I=0;I<O.length;++I){var j=O[I];if(!r.isBuffer(j))throw TypeError('"list" argument must be an Array of Buffers');j.copy(D,P),P+=j.length}return D},r.byteLength=h,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var O=this.length;if(O%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var C=0;C<O;C+=2)l(this,C,C+1);return this},r.prototype.swap32=function(){var O=this.length;if(O%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var C=0;C<O;C+=4)l(this,C,C+3),l(this,C+1,C+2);return this},r.prototype.swap64=function(){var O=this.length;if(O%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var C=0;C<O;C+=8)l(this,C,C+7),l(this,C+1,C+6),l(this,C+2,C+5),l(this,C+3,C+4);return this},r.prototype.toString=function(){var O=0|this.length;return 0===O?"":0==arguments.length?T(this,0,O):p.apply(this,arguments)},r.prototype.equals=function(O){if(!r.isBuffer(O))throw TypeError("Argument must be a Buffer");return this===O||0===r.compare(this,O)},r.prototype.inspect=function(){var O="",I=C.INSPECT_MAX_BYTES;return this.length>0&&(O=this.toString("hex",0,I).match(/.{2}/g).join(" "),this.length>I&&(O+=" ... ")),"<Buffer "+O+">"},r.prototype.compare=function(O,C,I,D,P){if(!r.isBuffer(O))throw TypeError("Argument must be a Buffer");if(void 0===C&&(C=0),void 0===I&&(I=O?O.length:0),void 0===D&&(D=0),void 0===P&&(P=this.length),C<0||I>O.length||D<0||P>this.length)throw RangeError("out of range index");if(D>=P&&C>=I)return 0;if(D>=P)return -1;if(C>=I)return 1;if(this===O)return 0;for(var j=(P>>>=0)-(D>>>=0),N=(I>>>=0)-(C>>>=0),H=Math.min(j,N),W=this.slice(D,P),z=O.slice(C,I),F=0;F<H;++F)if(W[F]!==z[F]){j=W[F],N=z[F];break}return j<N?-1:N<j?1:0},r.prototype.includes=function(O,C,I){return -1!==this.indexOf(O,C,I)},r.prototype.indexOf=function(O,C,I){return f(this,O,C,I,!0)},r.prototype.lastIndexOf=function(O,C,I){return f(this,O,C,I,!1)},r.prototype.write=function(O,C,I,D){if(void 0===C)D="utf8",I=this.length,C=0;else if(void 0===I&&"string"==typeof C)D=C,I=this.length,C=0;else{if(!isFinite(C))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");C|=0,isFinite(I)?(I|=0,void 0===D&&(D="utf8")):(D=I,I=void 0)}var P,j,N,H,W,z,F,Y,X,G,$=this.length-C;if((void 0===I||I>$)&&(I=$),O.length>0&&(I<0||C<0)||C>this.length)throw RangeError("Attempt to write outside buffer bounds");D||(D="utf8");for(var Z=!1;;)switch(D){case"hex":return function(O,C,I,D){I=Number(I)||0;var P=O.length-I;D?(D=Number(D))>P&&(D=P):D=P;var j=C.length;if(j%2!=0)throw TypeError("Invalid hex string");D>j/2&&(D=j/2);for(var N=0;N<D;++N){var H=parseInt(C.substr(2*N,2),16);if(isNaN(H))break;O[I+N]=H}return N}(this,O,C,I);case"utf8":case"utf-8":return W=C,z=I,M(q(O,this.length-W),this,W,z);case"ascii":case"latin1":case"binary":;return P=this,j=O,N=C,H=I,M(function(O){for(var C=[],I=0;I<O.length;++I)C.push(255&O.charCodeAt(I));return C}(j),P,N,H);case"base64":return F=C,Y=I,M(L(O),this,F,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X=C,G=I,M(function(O,C){for(var I,D,P=[],j=0;j<O.length&&!((C-=2)<0);++j)D=(I=O.charCodeAt(j))>>8,P.push(I%256),P.push(D);return P}(O,this.length-X),this,X,G);default:if(Z)throw TypeError("Unknown encoding: "+D);D=(""+D).toLowerCase(),Z=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.slice=function(O,C){var I,D=this.length;if((O=~~O)<0?(O+=D)<0&&(O=0):O>D&&(O=D),(C=void 0===C?D:~~C)<0?(C+=D)<0&&(C=0):C>D&&(C=D),C<O&&(C=O),r.TYPED_ARRAY_SUPPORT)(I=this.subarray(O,C)).__proto__=r.prototype;else{var P=C-O;I=new r(P,void 0);for(var j=0;j<P;++j)I[j]=this[j+O]}return I},r.prototype.readUIntLE=function(O,C,I){O|=0,C|=0,I||E(O,C,this.length);for(var D=this[O],P=1,j=0;++j<C&&(P*=256);)D+=this[O+j]*P;return D},r.prototype.readUIntBE=function(O,C,I){O|=0,C|=0,I||E(O,C,this.length);for(var D=this[O+--C],P=1;C>0&&(P*=256);)D+=this[O+--C]*P;return D},r.prototype.readUInt8=function(O,C){return C||E(O,1,this.length),this[O]},r.prototype.readUInt16LE=function(O,C){return C||E(O,2,this.length),this[O]|this[O+1]<<8},r.prototype.readUInt16BE=function(O,C){return C||E(O,2,this.length),this[O]<<8|this[O+1]},r.prototype.readUInt32LE=function(O,C){return C||E(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+16777216*this[O+3]},r.prototype.readUInt32BE=function(O,C){return C||E(O,4,this.length),16777216*this[O]+(this[O+1]<<16|this[O+2]<<8|this[O+3])},r.prototype.readIntLE=function(O,C,I){O|=0,C|=0,I||E(O,C,this.length);for(var D=this[O],P=1,j=0;++j<C&&(P*=256);)D+=this[O+j]*P;return D>=(P*=128)&&(D-=Math.pow(2,8*C)),D},r.prototype.readIntBE=function(O,C,I){O|=0,C|=0,I||E(O,C,this.length);for(var D=C,P=1,j=this[O+--D];D>0&&(P*=256);)j+=this[O+--D]*P;return j>=(P*=128)&&(j-=Math.pow(2,8*C)),j},r.prototype.readInt8=function(O,C){return C||E(O,1,this.length),128&this[O]?-1*(255-this[O]+1):this[O]},r.prototype.readInt16LE=function(O,C){C||E(O,2,this.length);var I=this[O]|this[O+1]<<8;return 32768&I?4294901760|I:I},r.prototype.readInt16BE=function(O,C){C||E(O,2,this.length);var I=this[O+1]|this[O]<<8;return 32768&I?4294901760|I:I},r.prototype.readInt32LE=function(O,C){return C||E(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},r.prototype.readInt32BE=function(O,C){return C||E(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},r.prototype.readFloatLE=function(O,C){return C||E(O,4,this.length),K(this,O,!0,23,4)},r.prototype.readFloatBE=function(O,C){return C||E(O,4,this.length),K(this,O,!1,23,4)},r.prototype.readDoubleLE=function(O,C){return C||E(O,8,this.length),K(this,O,!0,52,8)},r.prototype.readDoubleBE=function(O,C){return C||E(O,8,this.length),K(this,O,!1,52,8)},r.prototype.writeUIntLE=function(O,C,I,D){O=+O,C|=0,I|=0,D||S(this,O,C,I,Math.pow(2,8*I)-1,0);var P=1,j=0;for(this[C]=255&O;++j<I&&(P*=256);)this[C+j]=O/P&255;return C+I},r.prototype.writeUIntBE=function(O,C,I,D){O=+O,C|=0,I|=0,D||S(this,O,C,I,Math.pow(2,8*I)-1,0);var P=I-1,j=1;for(this[C+P]=255&O;--P>=0&&(j*=256);)this[C+P]=O/j&255;return C+I},r.prototype.writeUInt8=function(O,C,I){return O=+O,C|=0,I||S(this,O,C,1,255,0),r.TYPED_ARRAY_SUPPORT||(O=Math.floor(O)),this[C]=255&O,C+1},r.prototype.writeUInt16LE=function(O,C,I){return O=+O,C|=0,I||S(this,O,C,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[C]=255&O,this[C+1]=O>>>8):A(this,O,C,!0),C+2},r.prototype.writeUInt16BE=function(O,C,I){return O=+O,C|=0,I||S(this,O,C,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[C]=O>>>8,this[C+1]=255&O):A(this,O,C,!1),C+2},r.prototype.writeUInt32LE=function(O,C,I){return O=+O,C|=0,I||S(this,O,C,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[C+3]=O>>>24,this[C+2]=O>>>16,this[C+1]=O>>>8,this[C]=255&O):U(this,O,C,!0),C+4},r.prototype.writeUInt32BE=function(O,C,I){return O=+O,C|=0,I||S(this,O,C,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[C]=O>>>24,this[C+1]=O>>>16,this[C+2]=O>>>8,this[C+3]=255&O):U(this,O,C,!1),C+4},r.prototype.writeIntLE=function(O,C,I,D){if(O=+O,C|=0,!D){var P=Math.pow(2,8*I-1);S(this,O,C,I,P-1,-P)}var j=0,N=1,H=0;for(this[C]=255&O;++j<I&&(N*=256);)O<0&&0===H&&0!==this[C+j-1]&&(H=1),this[C+j]=(O/N>>0)-H&255;return C+I},r.prototype.writeIntBE=function(O,C,I,D){if(O=+O,C|=0,!D){var P=Math.pow(2,8*I-1);S(this,O,C,I,P-1,-P)}var j=I-1,N=1,H=0;for(this[C+j]=255&O;--j>=0&&(N*=256);)O<0&&0===H&&0!==this[C+j+1]&&(H=1),this[C+j]=(O/N>>0)-H&255;return C+I},r.prototype.writeInt8=function(O,C,I){return O=+O,C|=0,I||S(this,O,C,1,127,-128),r.TYPED_ARRAY_SUPPORT||(O=Math.floor(O)),O<0&&(O=255+O+1),this[C]=255&O,C+1},r.prototype.writeInt16LE=function(O,C,I){return O=+O,C|=0,I||S(this,O,C,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[C]=255&O,this[C+1]=O>>>8):A(this,O,C,!0),C+2},r.prototype.writeInt16BE=function(O,C,I){return O=+O,C|=0,I||S(this,O,C,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[C]=O>>>8,this[C+1]=255&O):A(this,O,C,!1),C+2},r.prototype.writeInt32LE=function(O,C,I){return O=+O,C|=0,I||S(this,O,C,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[C]=255&O,this[C+1]=O>>>8,this[C+2]=O>>>16,this[C+3]=O>>>24):U(this,O,C,!0),C+4},r.prototype.writeInt32BE=function(O,C,I){return O=+O,C|=0,I||S(this,O,C,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),r.TYPED_ARRAY_SUPPORT?(this[C]=O>>>24,this[C+1]=O>>>16,this[C+2]=O>>>8,this[C+3]=255&O):U(this,O,C,!1),C+4},r.prototype.writeFloatLE=function(O,C,I){return x(this,O,C,!0,I)},r.prototype.writeFloatBE=function(O,C,I){return x(this,O,C,!1,I)},r.prototype.writeDoubleLE=function(O,C,I){return B(this,O,C,!0,I)},r.prototype.writeDoubleBE=function(O,C,I){return B(this,O,C,!1,I)},r.prototype.copy=function(O,C,I,D){if(I||(I=0),D||0===D||(D=this.length),C>=O.length&&(C=O.length),C||(C=0),D>0&&D<I&&(D=I),D===I||0===O.length||0===this.length)return 0;if(C<0)throw RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw RangeError("sourceStart out of bounds");if(D<0)throw RangeError("sourceEnd out of bounds");D>this.length&&(D=this.length),O.length-C<D-I&&(D=O.length-C+I);var P,j=D-I;if(this===O&&I<C&&C<D)for(P=j-1;P>=0;--P)O[P+C]=this[P+I];else if(j<1e3||!r.TYPED_ARRAY_SUPPORT)for(P=0;P<j;++P)O[P+C]=this[P+I];else Uint8Array.prototype.set.call(O,this.subarray(I,I+j),C);return j},r.prototype.fill=function(O,C,I,D){if("string"==typeof O){if("string"==typeof C?(D=C,C=0,I=this.length):"string"==typeof I&&(D=I,I=this.length),1===O.length){var P,j=O.charCodeAt(0);j<256&&(O=j)}if(void 0!==D&&"string"!=typeof D)throw TypeError("encoding must be a string");if("string"==typeof D&&!r.isEncoding(D))throw TypeError("Unknown encoding: "+D)}else"number"==typeof O&&(O&=255);if(C<0||this.length<C||this.length<I)throw RangeError("Out of range index");if(I<=C)return this;if(C>>>=0,I=void 0===I?this.length:I>>>0,O||(O=0),"number"==typeof O)for(P=C;P<I;++P)this[P]=O;else{var N=r.isBuffer(O)?O:q(new r(O,D).toString()),H=N.length;for(P=0;P<I-C;++P)this[P+C]=N[P%H]}return this};var I=/[^+\/0-9A-Za-z-_]/g;function q(O,C){var I;C=C||1/0;for(var D=O.length,P=null,j=[],N=0;N<D;++N){if((I=O.charCodeAt(N))>55295&&I<57344){if(!P){if(I>56319||N+1===D){(C-=3)>-1&&j.push(239,191,189);continue}P=I;continue}if(I<56320){(C-=3)>-1&&j.push(239,191,189),P=I;continue}I=65536+(P-55296<<10|I-56320)}else P&&(C-=3)>-1&&j.push(239,191,189);if(P=null,I<128){if((C-=1)<0)break;j.push(I)}else if(I<2048){if((C-=2)<0)break;j.push(I>>6|192,63&I|128)}else if(I<65536){if((C-=3)<0)break;j.push(I>>12|224,I>>6&63|128,63&I|128)}else{if(!(I<1114112))throw Error("Invalid code point");if((C-=4)<0)break;j.push(I>>18|240,I>>12&63|128,I>>6&63|128,63&I|128)}}return j}function L(O){return tf.toByteArray(function(O){var C;if((O=((C=O).trim?C.trim():C.replace(/^\s+|\s+$/g,"")).replace(I,"")).length<2)return"";for(;O.length%4!=0;)O+="=";return O}(O))}function M(O,C,I,D){for(var P=0;P<D&&!(P+I>=C.length||P>=O.length);++P)C[P+I]=O[P];return P}}),tm=(ty.Buffer,ty.SlowBuffer,ty.INSPECT_MAX_BYTES,ty.kMaxLength,x(function(O,C){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var I=ty.Buffer;function i(O,C){for(var I in O)C[I]=O[I]}function r(O,C,D){return I(O,C,D)}I.from&&I.alloc&&I.allocUnsafe&&I.allocUnsafeSlow?O.exports=ty:(i(ty,C),C.Buffer=r),r.prototype=Object.create(I.prototype),i(I,r),r.from=function(O,C,D){if("number"==typeof O)throw TypeError("Argument must not be a number");return I(O,C,D)},r.alloc=function(O,C,D){if("number"!=typeof O)throw TypeError("Argument must be a number");var P=I(O);return void 0!==C?"string"==typeof D?P.fill(C,D):P.fill(C):P.fill(0),P},r.allocUnsafe=function(O){if("number"!=typeof O)throw TypeError("Argument must be a number");return I(O)},r.allocUnsafeSlow=function(O){if("number"!=typeof O)throw TypeError("Argument must be a number");return ty.SlowBuffer(O)}})),tv=(tm.Buffer,tm.Buffer);function tt(O,C){this._block=tv.alloc(O),this._finalSize=C,this._blockSize=O,this._len=0}tt.prototype.update=function(O,C){"string"==typeof O&&(C=C||"utf8",O=tv.from(O,C));for(var I=this._block,D=this._blockSize,P=O.length,j=this._len,N=0;N<P;){for(var H=j%D,W=Math.min(P-N,D-H),z=0;z<W;z++)I[H+z]=O[N+z];N+=W,(j+=W)%D==0&&this._update(I)}return this._len+=P,this},tt.prototype.digest=function(O){var C=this._len%this._blockSize;this._block[C]=128,this._block.fill(0,C+1),C>=this._finalSize&&(this._update(this._block),this._block.fill(0));var I=8*this._len;if(I<=4294967295)this._block.writeUInt32BE(I,this._blockSize-4);else{var D=(4294967295&I)>>>0,P=(I-D)/4294967296;this._block.writeUInt32BE(P,this._blockSize-8),this._block.writeUInt32BE(D,this._blockSize-4)}this._update(this._block);var j=this._hash();return O?j.toString(O):j},tt.prototype._update=function(){throw Error("_update must be implemented by subclass")};var tb=tm.Buffer,tw=[1518500249,1859775393,-1894007588,-899497514],t_=Array(80);function ot(){this.init(),this._w=t_,tt.call(this,64,56)}ts(ot,tt),ot.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},ot.prototype._update=function(O){for(var C,I=this._w,D=0|this._a,P=0|this._b,j=0|this._c,N=0|this._d,H=0|this._e,W=0;W<16;++W)I[W]=O.readInt32BE(4*W);for(;W<80;++W)I[W]=I[W-3]^I[W-8]^I[W-14]^I[W-16];for(var z=0;z<80;++z){var F,Y,X,G,$=~~(z/20),Z=0|((C=D)<<5|C>>>27)+(F=P,Y=j,X=N,0===$?F&Y|~F&X:2===$?F&Y|F&X|Y&X:F^Y^X)+H+I[z]+tw[$];H=N,N=j,j=(G=P)<<30|G>>>2,P=D,D=Z}this._a=D+this._a|0,this._b=P+this._b|0,this._c=j+this._c|0,this._d=N+this._d|0,this._e=H+this._e|0},ot.prototype._hash=function(){var O=tb.allocUnsafe(20);return O.writeInt32BE(0|this._a,0),O.writeInt32BE(0|this._b,4),O.writeInt32BE(0|this._c,8),O.writeInt32BE(0|this._d,12),O.writeInt32BE(0|this._e,16),O};var tT=tm.Buffer,tk=[1518500249,1859775393,-1894007588,-899497514],tE=Array(80);function lt(){this.init(),this._w=tE,tt.call(this,64,56)}ts(lt,tt),lt.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},lt.prototype._update=function(O){for(var C,I=this._w,D=0|this._a,P=0|this._b,j=0|this._c,N=0|this._d,H=0|this._e,W=0;W<16;++W)I[W]=O.readInt32BE(4*W);for(;W<80;++W)I[W]=(C=I[W-3]^I[W-8]^I[W-14]^I[W-16])<<1|C>>>31;for(var z=0;z<80;++z){var F,Y,X,G,$,Z=~~(z/20),Q=((F=D)<<5|F>>>27)+(Y=P,X=j,G=N,0===Z?Y&X|~Y&G:2===Z?Y&X|Y&G|X&G:Y^X^G)+H+I[z]+tk[Z]|0;H=N,N=j,j=($=P)<<30|$>>>2,P=D,D=Q}this._a=D+this._a|0,this._b=P+this._b|0,this._c=j+this._c|0,this._d=N+this._d|0,this._e=H+this._e|0},lt.prototype._hash=function(){var O=tT.allocUnsafe(20);return O.writeInt32BE(0|this._a,0),O.writeInt32BE(0|this._b,4),O.writeInt32BE(0|this._c,8),O.writeInt32BE(0|this._d,12),O.writeInt32BE(0|this._e,16),O};var tO=tm.Buffer,tS=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],tC=Array(64);function bt(){this.init(),this._w=tC,tt.call(this,64,56)}ts(bt,tt),bt.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},bt.prototype._update=function(O){for(var C,I=this._w,D=0|this._a,P=0|this._b,j=0|this._c,N=0|this._d,H=0|this._e,W=0|this._f,z=0|this._g,F=0|this._h,Y=0;Y<16;++Y)I[Y]=O.readInt32BE(4*Y);for(;Y<64;++Y)I[Y]=0|(((C=I[Y-2])>>>17|C<<15)^(C>>>19|C<<13)^C>>>10)+I[Y-7]+(((G=I[Y-15])>>>7|G<<25)^(G>>>18|G<<14)^G>>>3)+I[Y-16];for(var X=0;X<64;++X){var G,$,Z,Q,te,tr,to,ts,ta=F+((($=H)>>>6|$<<26)^($>>>11|$<<21)^($>>>25|$<<7))+(Z=H,Q=W,(te=z)^Z&(Q^te))+tS[X]+I[X]|0,tu=(((tr=D)>>>2|tr<<30)^(tr>>>13|tr<<19)^(tr>>>22|tr<<10))+((to=D)&(ts=P)|j&(to|ts))|0;F=z,z=W,W=H,H=N+ta|0,N=j,j=P,P=D,D=ta+tu|0}this._a=D+this._a|0,this._b=P+this._b|0,this._c=j+this._c|0,this._d=N+this._d|0,this._e=H+this._e|0,this._f=W+this._f|0,this._g=z+this._g|0,this._h=F+this._h|0},bt.prototype._hash=function(){var O=tO.allocUnsafe(32);return O.writeInt32BE(this._a,0),O.writeInt32BE(this._b,4),O.writeInt32BE(this._c,8),O.writeInt32BE(this._d,12),O.writeInt32BE(this._e,16),O.writeInt32BE(this._f,20),O.writeInt32BE(this._g,24),O.writeInt32BE(this._h,28),O};var tI=tm.Buffer,tA=Array(64);function At(){this.init(),this._w=tA,tt.call(this,64,56)}ts(At,bt),At.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},At.prototype._hash=function(){var O=tI.allocUnsafe(28);return O.writeInt32BE(this._a,0),O.writeInt32BE(this._b,4),O.writeInt32BE(this._c,8),O.writeInt32BE(this._d,12),O.writeInt32BE(this._e,16),O.writeInt32BE(this._f,20),O.writeInt32BE(this._g,24),O};var tU=tm.Buffer,tR=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],tD=Array(160);function Bt(){this.init(),this._w=tD,tt.call(this,128,112)}function qt(O,C){return(O>>>28|C<<4)^(C>>>2|O<<30)^(C>>>7|O<<25)}function Lt(O,C){return(O>>>14|C<<18)^(O>>>18|C<<14)^(C>>>9|O<<23)}function Wt(O,C){return O>>>0<C>>>0?1:0}ts(Bt,tt),Bt.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Bt.prototype._update=function(O){for(var C=this._w,I=0|this._ah,D=0|this._bh,P=0|this._ch,j=0|this._dh,N=0|this._eh,H=0|this._fh,W=0|this._gh,z=0|this._hh,F=0|this._al,Y=0|this._bl,X=0|this._cl,G=0|this._dl,$=0|this._el,Z=0|this._fl,Q=0|this._gl,te=0|this._hl,tr=0;tr<32;tr+=2)C[tr]=O.readInt32BE(4*tr),C[tr+1]=O.readInt32BE(4*tr+4);for(;tr<160;tr+=2){var to,ts,ta,tu,th,tc,tp,tl,tf=C[tr-30],td=C[tr-30+1],tg=((to=tf)>>>1|(ts=td)<<31)^(to>>>8|ts<<24)^to>>>7,ty=((ta=td)>>>1|(tu=tf)<<31)^(ta>>>8|tu<<24)^(ta>>>7|tu<<25),tm=((th=tf=C[tr-4])>>>19|(tc=td=C[tr-4+1])<<13)^(tc>>>29|th<<3)^th>>>6,tv=((tp=td)>>>19|(tl=tf)<<13)^(tl>>>29|tp<<3)^(tp>>>6|tl<<26),tb=C[tr-14],tw=C[tr-14+1],t_=C[tr-32],tT=C[tr-32+1],tk=ty+tw|0,tE=tg+tb+Wt(tk,ty)|0;tE=(tE=tE+tm+Wt(tk=tk+tv|0,tv)|0)+t_+Wt(tk=tk+tT|0,tT)|0,C[tr]=tE,C[tr+1]=tk}for(var tO=0;tO<160;tO+=2){tE=C[tO],tk=C[tO+1];var tS,tC,tI,tA,tU,tD,tx,tB,tP,tj,tq=(tS=I)&(tC=D)|P&(tS|tC),tL=(tI=F)&(tA=Y)|X&(tI|tA),tM=qt(I,F),tN=qt(F,I),tH=Lt(N,$),tW=Lt($,N),tz=tR[tO],tV=tR[tO+1],tF=(tU=N,tD=H,(tx=W)^tU&(tD^tx)),tK=(tB=$,tP=Z,(tj=Q)^tB&(tP^tj)),tY=te+tW|0,tJ=z+tH+Wt(tY,te)|0;tJ=(tJ=(tJ=tJ+tF+Wt(tY=tY+tK|0,tK)|0)+tz+Wt(tY=tY+tV|0,tV)|0)+tE+Wt(tY=tY+tk|0,tk)|0;var tX=tN+tL|0,tG=tM+tq+Wt(tX,tN)|0;z=W,te=Q,W=H,Q=Z,H=N,Z=$,N=j+tJ+Wt($=G+tY|0,G)|0,j=P,G=X,P=D,X=Y,D=I,Y=F,I=tJ+tG+Wt(F=tY+tX|0,tY)|0}this._al=this._al+F|0,this._bl=this._bl+Y|0,this._cl=this._cl+X|0,this._dl=this._dl+G|0,this._el=this._el+$|0,this._fl=this._fl+Z|0,this._gl=this._gl+Q|0,this._hl=this._hl+te|0,this._ah=this._ah+I+Wt(this._al,F)|0,this._bh=this._bh+D+Wt(this._bl,Y)|0,this._ch=this._ch+P+Wt(this._cl,X)|0,this._dh=this._dh+j+Wt(this._dl,G)|0,this._eh=this._eh+N+Wt(this._el,$)|0,this._fh=this._fh+H+Wt(this._fl,Z)|0,this._gh=this._gh+W+Wt(this._gl,Q)|0,this._hh=this._hh+z+Wt(this._hl,te)|0},Bt.prototype._hash=function(){var O=tU.allocUnsafe(64);function e(C,I,D){O.writeInt32BE(C,D),O.writeInt32BE(I,D+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),O};var tx=tm.Buffer,tB=Array(160);function Kt(){this.init(),this._w=tB,tt.call(this,128,112)}ts(Kt,Bt),Kt.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Kt.prototype._hash=function(){var O=tx.allocUnsafe(48);function e(C,I,D){O.writeInt32BE(C,D),O.writeInt32BE(I,D+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),O};var tP=x(function(O){var C=O.exports=function(O){var I=C[O=O.toLowerCase()];if(!I)throw Error(O+" is not supported (we accept pull requests)");return new I};C.sha=ot,C.sha1=lt,C.sha224=At,C.sha256=bt,C.sha384=Kt,C.sha512=Bt}),tj=x(function(O){var C=tm.Buffer,I=to.crypto||to.msCrypto;I&&I.getRandomValues?O.exports=function(O,D){if(O>4294967295)throw RangeError("requested too many random bytes");var P=C.allocUnsafe(O);if(O>0){if(O>65536)for(var N=0;N<O;N+=65536)I.getRandomValues(P.slice(N,N+65536));else I.getRandomValues(P)}return"function"==typeof D?j.nextTick(function(){D(null,P)}):P}:O.exports=function(){throw Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}});function Gt(){this.version="6.1.136"}function Zt(O){return -1!==O.options.connection.indexOf("ADFS")}function Qt(O){return O.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}Gt.prototype.getToken=function(){if(!W.isDepsInitialized())return null;var O=W.getDeps(),C=O.storage.get(O.options.storageTokenKey);return C?C.value:null},Gt.prototype.getTokenType=function(){if(!W.isDepsInitialized())return null;var O=W.getDeps(),C=O.storage.get(O.options.storageTokenKey);return C?C.type:null},Gt.prototype.signIn=function(O,C,I){if(!W.isDepsInitialized())throw Error("[WebAuth] Error: Not initialized. Use init().");var D=W.getDeps();if(!this.isSignedIn()){var P,j=(P=new E(window.location),Array.isArray(O)&&O.forEach(function(O){O&&P.withAdditionalQueryParam(O.key,O.value)}),Array.isArray(C)&&C.forEach(function(O){O&&P.withAdditionalHashParam(O.key,O.value)}),P.build());console.error("[authjs] Debug:redirectURL "+j);var N=D.options||{};I&&(void 0!==I.allowGuestUser&&(N.allowGuestUser=I.allowGuestUser),void 0!==I.guestReturnUrl&&(N.guestReturnUrl=I.guestReturnUrl),void 0!==I.site&&(N.site=I.site),void 0!==I.skipFasterCheckoutText&&(N.skipFasterCheckoutText=I.skipFasterCheckoutText),void 0!==I.loginContext&&(N.loginContext=I.loginContext),void 0!==I.navHint&&(N.navHint=I.navHint),void 0!==I.requireSession&&(N.requireSession=I.requireSession),void 0!==I.enableGoogleOneTap&&(N.enableGoogleOneTap=I.enableGoogleOneTap),void 0!==I.enforcedEmail&&(N.enforcedEmail=I.enforcedEmail),void 0!==I.customText&&(N.customText=I.customText),void 0!==I.isFirstLogin&&(N.isFirstLogin=I.isFirstLogin),void 0!==I.unificationEntityId&&(N.unificationEntityId=I.unificationEntityId),void 0!==I.vcsStoreUrl&&(N.vcsStoreUrl=I.vcsStoreUrl));var H=new k(N).withReturnUrl(j);Zt(D)||(H.withAnonymousId().withCulture(),console.error("[authjs] Debug:culture "+N.culture));var z=this;tr.trackSignIn(I&&I.trackingCaller,function(){z.authorize(H.build(),D)})}},Gt.prototype.authorize=function(O,C){var I=Qt(tj(32).toString("base64")),D=Qt(tP("sha256").update(I).digest("base64"));C.storage.set(C.options.storageVerifierKey,"user",I);var P="https://".concat(C.options.oidc.domain,"/authorize");P+="?connection=".concat(O.connection)+"&state=".concat(encodeURIComponent(O.state))+"".concat(Zt(C)?"":"&wauth=".concat(O.wauth))+"&response_type=".concat(C.options.oidc.responseType)+"&client_id=".concat(C.options.oidc.clientID)+"&audience=".concat(C.options.oidc.audience)+"&code_challenge=".concat(D)+"&code_challenge_method=S256"+"&scope=".concat(encodeURIComponent(C.options.oidc.scope))+"&redirect_uri=".concat(C.options.oidc.redirectUri),window.location=P},Gt.prototype.signOut=function(){if(!W.isDepsInitialized())throw Error("[WebAuth] Error: Not initialized. Use init().");var O=W.getDeps();if(this.isSignedIn()){O.storage.delete(O.options.storageTokenKey),O.storage.delete(O.options.storageRefreshKey),$.deleteAuthCookie(),$.deletePresumedLoginState();var C,I,D,P,j=/-Customers$/.test(O.options.connection)||/-Unification$/.test(O.options.connection),N=(C=O.options.signOutUrl,I=(P=W.getDeps().options.redirectAfterSignOutCallback())?"raso=".concat(encodeURIComponent(P)):null,D="".concat(C,"/sign-out-callback/"),W.getDeps().options.developmentMode&&(D="".concat(C,"/")),I?"".concat(D,"?").concat(I):D),H={returnTo:N};if(j){if(O.options&&"Vistaprint-Staging-Customers"===O.options.connection)H.federated=!0;else if("VP-Customers-Unification"===O.options.connection)H={clientID:"KYWF9D4UM3hT8jM1asfQj7X6xSDXZp7R",returnTo:"https://vistaprint-unification.eu.auth0.com/v2/logout?returnTo=".concat(N,"&client_id=7KyluKip2WIpBexLw8HuyujKPiSnAuBI")};else{var z="https://account.vista.com/v2/logout?returnTo=".concat(N,"&client_id=YhWiXWN12uDSeYo62BY2uD35vWLeETx1");H={clientID:void 0,returnTo:"https://account.vistaprint.com/v2/logout?returnTo=".concat(encodeURIComponent(z),"&client_id=YhWiXWN12uDSeYo62BY2uD35vWLeETx1")}}}O.options.requireSession&&$.getSessionCookie()&&Q.closeSession(),this.logout(H)}},Gt.prototype.logout=function(O){if(!W.isDepsInitialized())throw Error("[WebAuth] Error: Not initialized. Use init().");var C=W.getDeps(),I=$.getConfigCookie(),D=C.options.oidc.clientID,P=C.options.oidc.domain;I?P=I.domain:D===F&&(P=X);var j="https://".concat(P,"/v2/logout");j+="?returnTo=".concat(encodeURIComponent(O.returnTo)),O.clientID&&(j+="&clientID=".concat(O.clientID)),O.federated&&(j+="&federated"),window.location=j},Gt.prototype.isSignedIn=function(){if(!W.isDepsInitialized())return!1;var O=W.getDeps(),C=this.getTokenType();return O.options.enableCrossSiteSso?"user"===C:"user"===C&&$.getPresumedLoginState()},Gt.prototype.getProfile=function(){var O=this.getToken();return O?z.parse(O):null},Gt.prototype.getCanonicalId=function(){var O=this.getProfile();return O?z.getCanonicalId(O):null},Gt.prototype.getRecentAnonymousIds=function(){var O=this.getProfile();return O?z.getRecentAnonymousIds(O):null},Gt.prototype.getIdentity=function(){return{profile:this.getProfile(),accessToken:this.getToken(),isSignedIn:this.isSignedIn(),canonicalId:this.getCanonicalId(),recentAnonymousIds:this.getRecentAnonymousIds(),authorizationHeader:this.getAuthorizationHeader(),authorization:this.getAuthorization()}},Gt.prototype.getAuthorizationHeader=function(){var O=this.getAuthorization();return O?"".concat(O.type," ").concat(O.token):null},Gt.prototype.getAuthorization=function(){var O=this.getToken();return O?{type:"Bearer",token:O}:null},Gt.prototype.onUserIdentityUpdate=function(O){"function"==typeof O&&(W.isCacheInitialized()&&O(W.getCache()),window.addEventListener("userIdentity",function(C){O(C.detail)}))};var tq="undefined"!=typeof window?window:void 0!==I.g?I.g:"undefined"!=typeof self?self:{};function ne(O,C){return O(C={exports:{}},C.exports),C.exports}var tL=ne(function(O){var C;C=function(){return function(){return function(O){var C=[];if(O[0].match(/^[^\/:]+:\/*$/)&&O.length>1){var I=O.shift();O[0]=I+O[0]}O[0].match(/^file:\/\/\//)?O[0]=O[0].replace(/^([^\/:]+):\/*/,"$1:///"):O[0]=O[0].replace(/^([^\/:]+):\/*/,"$1://");for(var D=0;D<O.length;D++){var P=O[D];if("string"!=typeof P)throw TypeError("Url must be a string. Received "+P);""!==P&&(D>0&&(P=P.replace(/^[\/]+/,"")),P=D<O.length-1?P.replace(/[\/]+$/,""):P.replace(/[\/]+$/,"/"),C.push(P))}var j=C.join("/"),N=(j=j.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return N.shift()+(N.length>0?"?":"")+N.join("&")}("object"==c(arguments[0])?arguments[0]:[].slice.call(arguments))}},O.exports?O.exports=C():tq.urljoin=C()}),tM=ne(function(O,C){var I=Object.prototype.hasOwnProperty,D=function(){for(var O=[],C=0;C<256;++C)O.push("%"+((C<16?"0":"")+C.toString(16)).toUpperCase());return O}();C.arrayToObject=function(O,C){for(var I=C&&C.plainObjects?Object.create(null):{},D=0;D<O.length;++D)void 0!==O[D]&&(I[D]=O[D]);return I},C.merge=function(O,D,P){if(!D)return O;if("object"!=c(D)){if(Array.isArray(O))O.push(D);else{if("object"!=c(O))return[O,D];(P.plainObjects||P.allowPrototypes||!I.call(Object.prototype,D))&&(O[D]=!0)}return O}if("object"!=c(O))return[O].concat(D);var j=O;return Array.isArray(O)&&!Array.isArray(D)&&(j=C.arrayToObject(O,P)),Array.isArray(O)&&Array.isArray(D)?(D.forEach(function(D,j){I.call(O,j)?O[j]&&"object"==c(O[j])?O[j]=C.merge(O[j],D,P):O.push(D):O[j]=D}),O):Object.keys(D).reduce(function(O,I){var j=D[I];return Object.prototype.hasOwnProperty.call(O,I)?O[I]=C.merge(O[I],j,P):O[I]=j,O},j)},C.decode=function(O){try{return decodeURIComponent(O.replace(/\+/g," "))}catch(C){return O}},C.encode=function(O){if(0===O.length)return O;for(var C="string"==typeof O?O:String(O),I="",P=0;P<C.length;++P){var j=C.charCodeAt(P);45===j||46===j||95===j||126===j||j>=48&&j<=57||j>=65&&j<=90||j>=97&&j<=122?I+=C.charAt(P):j<128?I+=D[j]:j<2048?I+=D[192|j>>6]+D[128|63&j]:j<55296||j>=57344?I+=D[224|j>>12]+D[128|j>>6&63]+D[128|63&j]:(P+=1,I+=D[240|(j=65536+((1023&j)<<10|1023&C.charCodeAt(P)))>>18]+D[128|j>>12&63]+D[128|j>>6&63]+D[128|63&j])}return I},C.compact=function(O,I){if("object"!=c(O)||null===O)return O;var D=I||[],P=D.indexOf(O);if(-1!==P)return D[P];if(D.push(O),Array.isArray(O)){for(var j=[],N=0;N<O.length;++N)O[N]&&"object"==c(O[N])?j.push(C.compact(O[N],D)):void 0!==O[N]&&j.push(O[N]);return j}return Object.keys(O).forEach(function(I){O[I]=C.compact(O[I],D)}),O},C.isRegExp=function(O){return"[object RegExp]"===Object.prototype.toString.call(O)},C.isBuffer=function(O){return null!=O&&!!(O.constructor&&O.constructor.isBuffer&&O.constructor.isBuffer(O))}}),tN=(tM.arrayToObject,tM.merge,tM.decode,tM.encode,tM.compact,tM.isRegExp,tM.isBuffer,String.prototype.replace),tH=/%20/g,tW={default:"RFC3986",formatters:{RFC1738:function(O){return tN.call(O,tH,"+")},RFC3986:function(O){return O}}},tz={brackets:function(O){return O+"[]"},indices:function(O,C){return O+"["+C+"]"},repeat:function(O){return O}},tV=Date.prototype.toISOString,tF={delimiter:"&",encode:!0,encoder:tM.encode,encodeValuesOnly:!1,serializeDate:function(O){return tV.call(O)},skipNulls:!1,strictNullHandling:!1},pe=function t(O,C,I,D,P,j,N,H,W,z,F,Y){var X=O;if("function"==typeof N)X=N(C,X);else if(X instanceof Date)X=z(X);else if(null===X){if(D)return j&&!Y?j(C):C;X=""}if("string"==typeof X||"number"==typeof X||"boolean"==typeof X||tM.isBuffer(X))return j?[F(Y?C:j(C))+"="+F(j(X))]:[F(C)+"="+F(String(X))];var G,$=[];if(void 0===X)return $;if(Array.isArray(N))G=N;else{var Z=Object.keys(X);G=H?Z.sort(H):Z}for(var Q=0;Q<G.length;++Q){var te=G[Q];P&&null===X[te]||($=Array.isArray(X)?$.concat(t(X[te],I(C,te),I,D,P,j,N,H,W,z,F,Y)):$.concat(t(X[te],C+(W?"."+te:"["+te+"]"),I,D,P,j,N,H,W,z,F,Y)))}return $},tK=Object.prototype.hasOwnProperty,tY={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:tM.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},de=function(O,C,I){if(O){var D=I.allowDots?O.replace(/\.([^.[]+)/g,"[$1]"):O,P=/(\[[^[\]]*])/g,j=/(\[[^[\]]*])/.exec(D),N=j?D.slice(0,j.index):D,H=[];if(N){if(!I.plainObjects&&tK.call(Object.prototype,N)&&!I.allowPrototypes)return;H.push(N)}for(var W=0;null!==(j=P.exec(D))&&W<I.depth;){if(W+=1,!I.plainObjects&&tK.call(Object.prototype,j[1].slice(1,-1))&&!I.allowPrototypes)return;H.push(j[1])}return j&&H.push("["+D.slice(j.index)+"]"),function t(O,C,I){if(!O.length)return C;var D,P=O.shift();if("[]"===P)D=(D=[]).concat(t(O,C,I));else{D=I.plainObjects?Object.create(null):{};var j="["===P.charAt(0)&&"]"===P.charAt(P.length-1)?P.slice(1,-1):P,N=parseInt(j,10);!isNaN(N)&&P!==j&&String(N)===j&&N>=0&&I.parseArrays&&N<=I.arrayLimit?(D=[])[N]=t(O,C,I):D[j]=t(O,C,I)}return D}(H,C,I)}},ge=function(O,C){var I=C||{};if(null!==I.decoder&&void 0!==I.decoder&&"function"!=typeof I.decoder)throw TypeError("Decoder has to be a function.");if(I.delimiter="string"==typeof I.delimiter||tM.isRegExp(I.delimiter)?I.delimiter:tY.delimiter,I.depth="number"==typeof I.depth?I.depth:tY.depth,I.arrayLimit="number"==typeof I.arrayLimit?I.arrayLimit:tY.arrayLimit,I.parseArrays=!1!==I.parseArrays,I.decoder="function"==typeof I.decoder?I.decoder:tY.decoder,I.allowDots="boolean"==typeof I.allowDots?I.allowDots:tY.allowDots,I.plainObjects="boolean"==typeof I.plainObjects?I.plainObjects:tY.plainObjects,I.allowPrototypes="boolean"==typeof I.allowPrototypes?I.allowPrototypes:tY.allowPrototypes,I.parameterLimit="number"==typeof I.parameterLimit?I.parameterLimit:tY.parameterLimit,I.strictNullHandling="boolean"==typeof I.strictNullHandling?I.strictNullHandling:tY.strictNullHandling,""===O||null==O)return I.plainObjects?Object.create(null):{};for(var D="string"==typeof O?function(O,C){for(var I={},D=O.split(C.delimiter,C.parameterLimit===1/0?void 0:C.parameterLimit),P=0;P<D.length;++P){var j,N,H=D[P],W=-1===H.indexOf("]=")?H.indexOf("="):H.indexOf("]=")+1;-1===W?(j=C.decoder(H),N=C.strictNullHandling?null:""):(j=C.decoder(H.slice(0,W)),N=C.decoder(H.slice(W+1))),tK.call(I,j)?I[j]=[].concat(I[j]).concat(N):I[j]=N}return I}(O,I):O,P=I.plainObjects?Object.create(null):{},j=Object.keys(D),N=0;N<j.length;++N){var H=j[N],W=de(H,D[H],I);P=tM.merge(P,W,I)}return tM.compact(P)},ye=function(O,C){var I=O,D=C||{};if(null!==D.encoder&&void 0!==D.encoder&&"function"!=typeof D.encoder)throw TypeError("Encoder has to be a function.");var P=void 0===D.delimiter?tF.delimiter:D.delimiter,j="boolean"==typeof D.strictNullHandling?D.strictNullHandling:tF.strictNullHandling,N="boolean"==typeof D.skipNulls?D.skipNulls:tF.skipNulls,H="boolean"==typeof D.encode?D.encode:tF.encode,W="function"==typeof D.encoder?D.encoder:tF.encoder,z="function"==typeof D.sort?D.sort:null,F=void 0!==D.allowDots&&D.allowDots,Y="function"==typeof D.serializeDate?D.serializeDate:tF.serializeDate,X="boolean"==typeof D.encodeValuesOnly?D.encodeValuesOnly:tF.encodeValuesOnly;if(void 0===D.format)D.format=tW.default;else if(!Object.prototype.hasOwnProperty.call(tW.formatters,D.format))throw TypeError("Unknown format option provided.");var G,$,Z=tW.formatters[D.format];"function"==typeof D.filter?I=($=D.filter)("",I):Array.isArray(D.filter)&&(G=$=D.filter);var Q,te=[];if("object"!=c(I)||null===I)return"";Q=D.arrayFormat in tz?D.arrayFormat:"indices"in D?D.indices?"indices":"repeat":"indices";var tr=tz[Q];G||(G=Object.keys(I)),z&&G.sort(z);for(var to=0;to<G.length;++to){var ts=G[to];N&&null===I[ts]||(te=te.concat(pe(I[ts],ts,tr,j,N,H?W:null,$,z,F,Y,Z,X)))}return te.join(P)},tJ=ne(function(O){function e(O){if(O)return function(O){for(var C in e.prototype)O[C]=e.prototype[C];return O}(O)}O.exports=e,e.prototype.on=e.prototype.addEventListener=function(O,C){return this._callbacks=this._callbacks||{},(this._callbacks["$"+O]=this._callbacks["$"+O]||[]).push(C),this},e.prototype.once=function(O,C){function n(){this.off(O,n),C.apply(this,arguments)}return n.fn=C,this.on(O,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(O,C){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var I,D=this._callbacks["$"+O];if(!D)return this;if(1==arguments.length)return delete this._callbacks["$"+O],this;for(var P=0;P<D.length;P++)if((I=D[P])===C||I.fn===C){D.splice(P,1);break}return this},e.prototype.emit=function(O){this._callbacks=this._callbacks||{};var C=[].slice.call(arguments,1),I=this._callbacks["$"+O];if(I)for(var D=0,P=(I=I.slice(0)).length;D<P;++D)I[D].apply(this,C);return this},e.prototype.listeners=function(O){return this._callbacks=this._callbacks||{},this._callbacks["$"+O]||[]},e.prototype.hasListeners=function(O){return!!this.listeners(O).length}}),ve=function(O){return null!==O&&"object"==c(O)};function be(O){if(O)return function(O){for(var C in be.prototype)O[C]=be.prototype[C];return O}(O)}be.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},be.prototype.parse=function(O){return this._parser=O,this},be.prototype.responseType=function(O){return this._responseType=O,this},be.prototype.serialize=function(O){return this._serializer=O,this},be.prototype.timeout=function(O){if(!O||"object"!=c(O))return this._timeout=O,this._responseTimeout=0,this;for(var C in O)switch(C){case"deadline":this._timeout=O.deadline;break;case"response":this._responseTimeout=O.response;break;default:console.warn("Unknown timeout option",C)}return this},be.prototype.retry=function(O,C){return 0!=arguments.length&&!0!==O||(O=1),O<=0&&(O=0),this._maxRetries=O,this._retries=0,this._retryCallback=C,this};var tX=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];function Ie(O){if(O)return function(O){for(var C in Ie.prototype)O[C]=Ie.prototype[C];return O}(O)}function Ee(){this._defaults=[]}be.prototype._shouldRetry=function(O,C){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var I=this._retryCallback(O,C);if(!0===I)return!0;if(!1===I)return!1}catch(O){console.error(O)}return!!(C&&C.status&&C.status>=500&&501!=C.status||O&&(O.code&&~tX.indexOf(O.code)||O.timeout&&"ECONNABORTED"==O.code||O.crossDomain))},be.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},be.prototype.then=function(O,C){if(!this._fullfilledPromise){var I=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(O,C){I.end(function(I,D){I?C(I):O(D)})})}return this._fullfilledPromise.then(O,C)},be.prototype.catch=function(O){return this.then(void 0,O)},be.prototype.use=function(O){return O(this),this},be.prototype.ok=function(O){if("function"!=typeof O)throw Error("Callback required");return this._okCallback=O,this},be.prototype._isResponseOK=function(O){return!!O&&(this._okCallback?this._okCallback(O):O.status>=200&&O.status<300)},be.prototype.get=function(O){return this._header[O.toLowerCase()]},be.prototype.getHeader=be.prototype.get,be.prototype.set=function(O,C){if(ve(O)){for(var I in O)this.set(I,O[I]);return this}return this._header[O.toLowerCase()]=C,this.header[O]=C,this},be.prototype.unset=function(O){return delete this._header[O.toLowerCase()],delete this.header[O],this},be.prototype.field=function(O,C){if(null==O)throw Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),ve(O)){for(var I in O)this.field(I,O[I]);return this}if(Array.isArray(C)){for(var D in C)this.field(O,C[D]);return this}if(null==C)throw Error(".field(name, val) val can not be empty");return"boolean"==typeof C&&(C=""+C),this._getFormData().append(O,C),this},be.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},be.prototype._auth=function(O,C,I,D){switch(I.type){case"basic":this.set("Authorization","Basic "+D(O+":"+C));break;case"auto":this.username=O,this.password=C;break;case"bearer":this.set("Authorization","Bearer "+O)}return this},be.prototype.withCredentials=function(O){return null==O&&(O=!0),this._withCredentials=O,this},be.prototype.redirects=function(O){return this._maxRedirects=O,this},be.prototype.maxResponseSize=function(O){if("number"!=typeof O)throw TypeError("Invalid argument");return this._maxResponseSize=O,this},be.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},be.prototype.send=function(O){var C=ve(O),I=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),C&&!this._data)Array.isArray(O)?this._data=[]:this._isHost(O)||(this._data={});else if(O&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(C&&ve(this._data))for(var D in O)this._data[D]=O[D];else"string"==typeof O?(I||this.type("form"),I=this._header["content-type"],this._data="application/x-www-form-urlencoded"==I?this._data?this._data+"&"+O:O:(this._data||"")+O):this._data=O;return!C||this._isHost(O)||I||this.type("json"),this},be.prototype.sortQuery=function(O){return this._sort=void 0===O||O,this},be.prototype._finalizeQueryString=function(){var O=this._query.join("&");if(O&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+O),this._query.length=0,this._sort){var C=this.url.indexOf("?");if(C>=0){var I=this.url.substring(C+1).split("&");"function"==typeof this._sort?I.sort(this._sort):I.sort(),this.url=this.url.substring(0,C)+"?"+I.join("&")}}},be.prototype._appendQueryString=function(){console.trace("Unsupported")},be.prototype._timeoutError=function(O,C,I){if(!this._aborted){var D=Error(O+C+"ms exceeded");D.timeout=C,D.code="ECONNABORTED",D.errno=I,this.timedout=!0,this.abort(),this.callback(D)}},be.prototype._setTimeouts=function(){var O=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){O._timeoutError("Timeout of ",O._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){O._timeoutError("Response timeout of ",O._responseTimeout,"ETIMEDOUT")},this._responseTimeout))},Ie.prototype.get=function(O){return this.header[O.toLowerCase()]},Ie.prototype._setHeaderProperties=function(O){var C=O["content-type"]||"";this.type=C.split(/ *; */).shift();var I=C.split(/ *; */).reduce(function(O,C){var I=C.split(/ *= */),D=I.shift(),P=I.shift();return D&&P&&(O[D]=P),O},{});for(var D in I)this[D]=I[D];this.links={};try{O.link&&(this.links=O.link.split(/ *, */).reduce(function(O,C){var I=C.split(/ *; */),D=I[0].slice(1,-1);return O[I[1].split(/ *= */)[1].slice(1,-1)]=D,O},{}))}catch(O){}},Ie.prototype._setStatusProperties=function(O){var C=O/100|0;this.status=this.statusCode=O,this.statusType=C,this.info=1==C,this.ok=2==C,this.redirect=3==C,this.clientError=4==C,this.serverError=5==C,this.error=(4==C||5==C)&&this.toError(),this.accepted=202==O,this.noContent=204==O,this.badRequest=400==O,this.unauthorized=401==O,this.notAcceptable=406==O,this.forbidden=403==O,this.notFound=404==O},["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(O){Ee.prototype[O]=function(){return this._defaults.push({fn:O,arguments:arguments}),this}}),Ee.prototype._setDefaults=function(O){this._defaults.forEach(function(C){O[C.fn].apply(O,C.arguments)})};for(var tG=ne(function(O,C){function i(){}"undefined"!=typeof window?I=window:"undefined"!=typeof self?I=self:(console.warn("Using browser-only version of superagent in non-browser environment"),I=tq);var I,D=C=O.exports=function(O,I){return"function"==typeof I?new C.Request("GET",O).end(I):1==arguments.length?new C.Request("GET",O):new C.Request(O,I)};C.Request=l,D.getXHR=function(){if(!(!I.XMLHttpRequest||I.location&&"file:"==I.location.protocol&&I.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(O){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(O){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(O){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(O){}throw Error("Browser-only version of superagent could not find XHR")};var P="".trim?function(O){return O.trim()}:function(O){return O.replace(/(^\s*|\s*$)/g,"")};function s(O){if(!ve(O))return O;var C=[];for(var I in O)!function a(O,C,I){if(null!=I){if(Array.isArray(I))I.forEach(function(I){a(O,C,I)});else if(ve(I))for(var D in I)a(O,C+"["+D+"]",I[D]);else O.push(encodeURIComponent(C)+"="+encodeURIComponent(I))}else null===I&&O.push(encodeURIComponent(C))}(C,I,O[I]);return C.join("&")}function u(O){for(var C,I,D={},P=O.split("&"),j=0,N=P.length;j<N;++j)-1==(I=(C=P[j]).indexOf("="))?D[decodeURIComponent(C)]="":D[decodeURIComponent(C.slice(0,I))]=decodeURIComponent(C.slice(I+1));return D}function h(O){return/[\/+]json($|[^-\w])/.test(O)}function p(O){this.req=O,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var C=this.xhr.status;1223===C&&(C=204),this._setStatusProperties(C),this.header=this.headers=function(O){for(var C,I,D,j,N=O.split(/\r?\n/),H={},W=0,z=N.length;W<z;++W)-1!==(C=(I=N[W]).indexOf(":"))&&(D=I.slice(0,C).toLowerCase(),j=P(I.slice(C+1)),H[D]=j);return H}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&O._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function l(O,C){var I=this;this._query=this._query||[],this.method=O,this.url=C,this.header={},this._header={},this.on("end",function(){var O,C=null,D=null;try{D=new p(I)}catch(O){return(C=Error("Parser is unable to parse the response")).parse=!0,C.original=O,I.xhr?(C.rawResponse=void 0===I.xhr.responseType?I.xhr.responseText:I.xhr.response,C.status=I.xhr.status?I.xhr.status:null,C.statusCode=C.status):(C.rawResponse=null,C.status=null),I.callback(C)}I.emit("response",D);try{I._isResponseOK(D)||(O=Error(D.statusText||"Unsuccessful HTTP response"))}catch(C){O=C}O?(O.original=C,O.response=D,O.status=D.status,I.callback(O,D)):I.callback(null,D)})}function f(O,C,I){var P=D("DELETE",O);return"function"==typeof C&&(I=C,C=null),C&&P.send(C),I&&P.end(I),P}D.serializeObject=s,D.parseString=u,D.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},D.serialize={"application/x-www-form-urlencoded":s,"application/json":JSON.stringify},D.parse={"application/x-www-form-urlencoded":u,"application/json":JSON.parse},Ie(p.prototype),p.prototype._parseBody=function(O){var C=D.parse[this.type];return this.req._parser?this.req._parser(this,O):(!C&&h(this.type)&&(C=D.parse["application/json"]),C&&O&&(O.length||O instanceof Object)?C(O):null)},p.prototype.toError=function(){var O=this.req,C=O.method,I=O.url,D=Error("cannot "+C+" "+I+" ("+this.status+")");return D.status=this.status,D.method=C,D.url=I,D},D.Response=p,tJ(l.prototype),be(l.prototype),l.prototype.type=function(O){return this.set("Content-Type",D.types[O]||O),this},l.prototype.accept=function(O){return this.set("Accept",D.types[O]||O),this},l.prototype.auth=function(O,C,I){return 1==arguments.length&&(C=""),"object"==c(C)&&null!==C&&(I=C,C=""),I||(I={type:"function"==typeof btoa?"basic":"auto"}),this._auth(O,C,I,function(O){if("function"==typeof btoa)return btoa(O);throw Error("Cannot use basic auth, btoa is not a function")})},l.prototype.query=function(O){return"string"!=typeof O&&(O=s(O)),O&&this._query.push(O),this},l.prototype.attach=function(O,C,I){if(C){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(O,C,I||C.name)}return this},l.prototype._getFormData=function(){return this._formData||(this._formData=new I.FormData),this._formData},l.prototype.callback=function(O,C){if(this._shouldRetry(O,C))return this._retry();var I=this._callback;this.clearTimeout(),O&&(this._maxRetries&&(O.retries=this._retries-1),this.emit("error",O)),I(O,C)},l.prototype.crossDomainError=function(){var O=Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");O.crossDomain=!0,O.status=this.status,O.method=this.method,O.url=this.url,this.callback(O)},l.prototype.buffer=l.prototype.ca=l.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},l.prototype.pipe=l.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},l.prototype._isHost=function(O){return O&&"object"==c(O)&&!Array.isArray(O)&&"[object Object]"!==Object.prototype.toString.call(O)},l.prototype.end=function(O){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=O||i,this._finalizeQueryString(),this._end()},l.prototype._end=function(){var O=this,C=this.xhr=D.getXHR(),I=this._formData||this._data;this._setTimeouts(),C.onreadystatechange=function(){var I,D=C.readyState;if(D>=2&&O._responseTimeoutTimer&&clearTimeout(O._responseTimeoutTimer),4==D){try{I=C.status}catch(O){I=0}if(!I){if(O.timedout||O._aborted)return;return O.crossDomainError()}O.emit("end")}};var i=function(C,I){I.total>0&&(I.percent=I.loaded/I.total*100),I.direction=C,O.emit("progress",I)};if(this.hasListeners("progress"))try{C.onprogress=i.bind(null,"download"),C.upload&&(C.upload.onprogress=i.bind(null,"upload"))}catch(O){}try{this.username&&this.password?C.open(this.method,this.url,!0,this.username,this.password):C.open(this.method,this.url,!0)}catch(O){return this.callback(O)}if(this._withCredentials&&(C.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof I&&!this._isHost(I)){var P=this._header["content-type"],j=this._serializer||D.serialize[P?P.split(";")[0]:""];!j&&h(P)&&(j=D.serialize["application/json"]),j&&(I=j(I))}for(var N in this.header)null!=this.header[N]&&this.header.hasOwnProperty(N)&&C.setRequestHeader(N,this.header[N]);return this._responseType&&(C.responseType=this._responseType),this.emit("request",this),C.send(void 0!==I?I:null),this},D.agent=function(){return new Ee},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(O){Ee.prototype[O.toLowerCase()]=function(C,I){var P=new D.Request(O,C);return this._setDefaults(P),I&&P.end(I),P}}),Ee.prototype.del=Ee.prototype.delete,D.get=function(O,C,I){var P=D("GET",O);return"function"==typeof C&&(I=C,C=null),C&&P.query(C),I&&P.end(I),P},D.head=function(O,C,I){var P=D("HEAD",O);return"function"==typeof C&&(I=C,C=null),C&&P.query(C),I&&P.end(I),P},D.options=function(O,C,I){var P=D("OPTIONS",O);return"function"==typeof C&&(I=C,C=null),C&&P.send(C),I&&P.end(I),P},D.del=f,D.delete=f,D.patch=function(O,C,I){var P=D("PATCH",O);return"function"==typeof C&&(I=C,C=null),C&&P.send(C),I&&P.end(I),P},D.post=function(O,C,I){var P=D("POST",O);return"function"==typeof C&&(I=C,C=null),C&&P.send(C),I&&P.end(I),P},D.put=function(O,C,I){var P=D("PUT",O);return"function"==typeof C&&(I=C,C=null),C&&P.send(C),I&&P.end(I),P}}),t$=(tG.Request,function(O){return 3*O.length/4-Me(O)}),tZ=[],tQ=[],t0="undefined"!=typeof Uint8Array?Uint8Array:Array,t1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t2=0,t3=t1.length;t2<t3;++t2)tZ[t2]=t1[t2],tQ[t1.charCodeAt(t2)]=t2;function Me(O){var C=O.length;if(C%4>0)throw Error("Invalid string. Length must be a multiple of 4");return"="===O[C-2]?2:"="===O[C-1]?1:0}tQ["-".charCodeAt(0)]=62,tQ["_".charCodeAt(0)]=63;var t5={byteLength:t$,toByteArray:function(O){var C,I,D,P,j,N,H=O.length;j=Me(O),N=new t0(3*H/4-j),D=j>0?H-4:H;var W=0;for(C=0,I=0;C<D;C+=4,I+=3)P=tQ[O.charCodeAt(C)]<<18|tQ[O.charCodeAt(C+1)]<<12|tQ[O.charCodeAt(C+2)]<<6|tQ[O.charCodeAt(C+3)],N[W++]=P>>16&255,N[W++]=P>>8&255,N[W++]=255&P;return 2===j?(P=tQ[O.charCodeAt(C)]<<2|tQ[O.charCodeAt(C+1)]>>4,N[W++]=255&P):1===j&&(P=tQ[O.charCodeAt(C)]<<10|tQ[O.charCodeAt(C+1)]<<4|tQ[O.charCodeAt(C+2)]>>2,N[W++]=P>>8&255,N[W++]=255&P),N},fromByteArray:function(O){for(var C,I=O.length,D=I%3,P="",j=[],N=0,H=I-D;N<H;N+=16383)j.push(function(O,C,I){for(var D,P=[],j=C;j<I;j+=3)P.push(tZ[(D=(O[j]<<16)+(O[j+1]<<8)+O[j+2])>>18&63]+tZ[D>>12&63]+tZ[D>>6&63]+tZ[63&D]);return P.join("")}(O,N,N+16383>H?H:N+16383));return 1===D?P+=tZ[(C=O[I-1])>>2]+tZ[C<<4&63]+"==":2===D&&(P+=tZ[(C=(O[I-2]<<8)+O[I-1])>>10]+tZ[C>>4&63]+tZ[C<<2&63]+"="),j.push(P),j.join("")}},t6={raw:"9.10.4"},t4=Object.prototype.toString;function Fe(O,C,I,D){if(I="array"===I?"object":I,O&&c(O[C])!==I)throw Error(D)}function Ye(O,C,I){if(c(O)!==C)throw Error(I)}function Ke(O,C,I){if(-1===C.indexOf(O))throw Error(I)}var t8={check:function(O,C,I){if(C.optional&&!O||Ye(O,C.type,C.message),"object"===C.type&&I)for(var D=Object.keys(I),P=0;P<D.length;P++){var j=D[P];I[j].optional&&!O[j]||I[j].condition&&!I[j].condition(O)||(Fe(O,j,I[j].type,I[j].message),I[j].values&&Ke(O[j],I[j].values,I[j].value_message))}},attribute:Fe,variable:Ye,value:Ke,isArray:function(O){return this.supportsIsArray()?Array.isArray(O):"[object Array]"===t4.call(O)},supportsIsArray:function(){return null!=Array.isArray}};function Xe(O){if(null==O)throw TypeError("Cannot convert first argument to object");for(var C=Object(O),I=1;I<arguments.length;I++){var D=arguments[I];if(null!=D)for(var P=Object.keys(Object(D)),j=0,N=P.length;j<N;j++){var H=P[j],W=Object.getOwnPropertyDescriptor(D,H);void 0!==W&&W.enumerable&&(C[H]=D[H])}}return C}var t7={get:function(){return Object.assign?Object.assign:Xe},objectAssignPolyfill:Xe};function Ge(O,C){return C.reduce(function(C,I){return O[I]&&(C[I]=O[I]),C},{})}function Qe(){var O=function(O){var C=[];for(var I in O)C.push(O[I]);return C}(arguments);return O.unshift({}),t7.get().apply(void 0,O)}function tn(O){var C=O.match(/^(https?:|file:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return C&&{href:O,protocol:C[1],host:C[2],hostname:C[3],port:C[4],pathname:C[5],search:C[6],hash:C[7]}}function en(O,C){var I=Qe(O);return O[C]&&(I[C]=O[C].trim()),I}var t9={toSnakeCase:function t(O,C){return"object"!=c(O)||t8.isArray(O)||null===O?O:(C=C||[],Object.keys(O).reduce(function(I,D){return I[-1===C.indexOf(D)?function(O){for(var C,I="",D=0,P=!0,j=!0;D<O.length;)C=O.charCodeAt(D),!j&&C>=65&&C<=90||!P&&C>=48&&C<=57?I+="_"+O[D].toLowerCase():I+=O[D].toLowerCase(),P=C>=48&&C<=57,j=C>=65&&C<=90,D++;return I}(D):D]=t(O[D]),I},{}))},toCamelCase:function t(O,C,I){return"object"!=c(O)||t8.isArray(O)||null===O?O:(C=C||[],I=I||{},Object.keys(O).reduce(function(D,P){var j,N=-1===C.indexOf(P)?(j=P.split("_")).reduce(function(O,C){return O+C.charAt(0).toUpperCase()+C.slice(1)},j.shift()):P;return D[N]=t(O[N]||O[P],[],I),I.keepOriginal&&(D[P]=t(O[P],[],I)),D},{}))},blacklist:function(O,C){return Object.keys(O).reduce(function(I,D){return -1===C.indexOf(D)&&(I[D]=O[D]),I},{})},merge:function(O,C){return{base:C?Ge(O,C):O,with:function(O,C){return O=C?Ge(O,C):O,Qe(this.base,O)}}},pick:Ge,getKeysNotIn:function(O,C){var I=[];for(var D in O)-1===C.indexOf(D)&&I.push(D);return I},extend:Qe,getOriginFromUrl:function(O){if(O){var C=tn(O),I=C.protocol+"//"+C.hostname;return C.port&&(I+=":"+C.port),I}},getLocationFromUrl:tn,trimUserDetails:function(O){return["username","email","phoneNumber"].reduce(en,O)}};function rn(O){this.request=O,this.method=O.method,this.url=O.url,this.body=O._data,this.headers=O._header}function on(O){this.request=O}function sn(O){this._sendTelemetry=!1!==O._sendTelemetry||O._sendTelemetry,this._telemetryInfo=O._telemetryInfo||null,this._timesToRetryFailedRequests=O._timesToRetryFailedRequests,this.headers=O.headers||{},this._universalLoginPage=O.universalLoginPage}function an(){return window}rn.prototype.abort=function(){this.request.abort()},rn.prototype.getMethod=function(){return this.method},rn.prototype.getBody=function(){return this.body},rn.prototype.getUrl=function(){return this.url},rn.prototype.getHeaders=function(){return this.headers},on.prototype.set=function(O,C){return this.request=this.request.set(O,C),this},on.prototype.send=function(O){return this.request=this.request.send(t9.trimUserDetails(O)),this},on.prototype.withCredentials=function(){return this.request=this.request.withCredentials(),this},on.prototype.end=function(O){return this.request=this.request.end(O),new rn(this.request)},sn.prototype.setCommonConfiguration=function(O,C){if(C=C||{},this._timesToRetryFailedRequests>0&&(O=O.retry(this._timesToRetryFailedRequests)),C.noHeaders)return O;var I=this.headers;O=O.set("Content-Type","application/json");for(var D=Object.keys(this.headers),P=0;P<D.length;P++)O=O.set(D[P],I[D[P]]);return this._sendTelemetry&&(O=O.set("Auth0-Client",this.getTelemetryData())),O},sn.prototype.getTelemetryData=function(){var O,C=this._universalLoginPage?"auth0.js-ulp":"auth0.js",I={name:C,version:t6.raw};return this._telemetryInfo&&((I=t9.extend({},this._telemetryInfo)).env=t9.extend({},this._telemetryInfo.env),I.env[C]=t6.raw),O=JSON.stringify(I),t5.fromByteArray(function(O){for(var C=Array(O.length),I=0;I<O.length;I++)C[I]=O.charCodeAt(I);return C}(O)).replace(/\+/g,"-").replace(/\//g,"_")},sn.prototype.get=function(O,C){return new on(this.setCommonConfiguration(tG.get(O),C))},sn.prototype.post=function(O,C){return new on(this.setCommonConfiguration(tG.post(O),C))},sn.prototype.patch=function(O,C){return new on(this.setCommonConfiguration(tG.patch(O),C))};var et={redirect:function(O){an().location=O},getDocument:function(){return an().document},getWindow:an,getOrigin:function(){var O=an().location,C=O.origin;return C||(C=t9.getOriginFromUrl(O.href)),C}};function cn(){}cn.prototype.getItem=function(){return null},cn.prototype.removeItem=function(){},cn.prototype.setItem=function(){};var ee=ne(function(O,C){O.exports=function(){function t(){for(var O=0,C={};O<arguments.length;O++){var I=arguments[O];for(var D in I)C[D]=I[D]}return C}return function e(O){function i(C,I,D){var P;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(D=t({path:"/"},i.defaults,D)).expires){var j=new Date;j.setMilliseconds(j.getMilliseconds()+864e5*D.expires),D.expires=j}D.expires=D.expires?D.expires.toUTCString():"";try{P=JSON.stringify(I),/^[\{\[]/.test(P)&&(I=P)}catch(O){}I=O.write?O.write(I,C):encodeURIComponent(String(I)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),C=(C=(C=encodeURIComponent(String(C))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var N="";for(var H in D)D[H]&&(N+="; "+H,!0!==D[H]&&(N+="="+D[H]));return document.cookie=C+"="+I+N}C||(P={});for(var W=document.cookie?document.cookie.split("; "):[],z=/(%[0-9A-Z]{2})+/g,F=0;F<W.length;F++){var Y=W[F].split("="),X=Y.slice(1).join("=");this.json||'"'!==X.charAt(0)||(X=X.slice(1,-1));try{var G=Y[0].replace(z,decodeURIComponent);if(X=O.read?O.read(X,G):O(X,G)||X.replace(z,decodeURIComponent),this.json)try{X=JSON.parse(X)}catch(O){}if(C===G){P=X;break}C||(P[G]=X)}catch(O){}}return P}}return i.set=i,i.get=function(O){return i.call(i,O)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(O,C){i(O,"",t(C,{expires:-1}))},i.withConverter=e,i}(function(){})}()});function pn(){}function ln(O){this.disableWarnings=O.disableWarnings}function fn(O){if(this.warn=new ln({}),this.storage=new pn,!0===O.__tryLocalStorageFirst)try{var C=et.getWindow().localStorage;C&&(this.storage=C)}catch(O){this.warn.warning(O),this.warn.warning("Can't use localStorage. Using CookieStorage instead.")}}function dn(O){this.handler=new fn(O)}function gn(O){this.storage=new dn(O)}function yn(O,C){return{error:O,errorDescription:C}}pn.prototype.getItem=function(O){return ee.get(O)},pn.prototype.removeItem=function(O){ee.remove(O)},pn.prototype.setItem=function(O,C,I){var D=t9.extend({expires:1},I);ee.set(O,C,D)},ln.prototype.warning=function(O){this.disableWarnings||console.warn(O)},fn.prototype.failover=function(){this.storage instanceof cn?this.warn.warning("DummyStorage: ignore failover"):this.storage instanceof pn?(this.warn.warning("CookieStorage: failing over DummyStorage"),this.storage=new cn):(this.warn.warning("LocalStorage: failing over CookieStorage"),this.storage=new pn)},fn.prototype.getItem=function(O){try{return this.storage.getItem(O)}catch(C){return this.warn.warning(C),this.failover(),this.getItem(O)}},fn.prototype.removeItem=function(O){try{return this.storage.removeItem(O)}catch(C){return this.warn.warning(C),this.failover(),this.removeItem(O)}},fn.prototype.setItem=function(O,C,I){try{return this.storage.setItem(O,C,I)}catch(D){return this.warn.warning(D),this.failover(),this.setItem(O,C,I)}},dn.prototype.getItem=function(O){var C=this.handler.getItem(O);try{return JSON.parse(C)}catch(O){return C}},dn.prototype.removeItem=function(O){return this.handler.removeItem(O)},dn.prototype.setItem=function(O,C,I){var D=JSON.stringify(C);return this.handler.setItem(O,D,I)},gn.prototype.set=function(O,C){this.storage.setItem("auth0.ssodata",JSON.stringify({lastUsedConnection:O,lastUsedSub:C}))},gn.prototype.get=function(){var O=this.storage.getItem("auth0.ssodata");if(O)return JSON.parse(O)};var ei={buildResponse:yn,invalidToken:function(O){return yn("invalid_token",O)}};function vn(O,C){return(C=C||{}).ignoreCasing=!!C.ignoreCasing&&C.ignoreCasing,function(I,D){var P;return I||D?(!I&&D.err&&(I=D.err,D=null),!I&&D.error&&(I=D,D=null),I?(P={original:I},I.response&&I.response.statusCode&&(P.statusCode=I.response.statusCode),I.response&&I.response.statusText&&(P.statusText=I.response.statusText),I.response&&I.response.body&&(I=I.response.body),I.err&&(I=I.err),P.code=I.code||I.error||I.error_code||I.status||null,P.description=I.errorDescription||I.error_description||I.description||I.error||I.details||I.err||null,C.forceLegacyError&&(P.error=P.code,P.error_description=P.description),I.name&&(P.name=I.name),I.policy&&(P.policy=I.policy),O(P)):D.type&&("text/html"===D.type||"text/plain"===D.type)?O(null,D.text):C.ignoreCasing?O(null,D.body||D):O(null,t9.toCamelCase(D.body||D,[],{keepOriginal:C.keepOriginalCasing}))):O(ei.buildResponse("generic_error","Something went wrong"))}}var er=["realm","audience","client_id","client_secret","redirect_uri","scope","code","grant_type","username","password","refresh_token","assertion","client_assertion","client_assertion_type","code_verifier"],eo=["connection","connection_scope","auth0Client","owp","device","realm","protocol","_csrf","_intstate","login_ticket","client_id","response_type","response_mode","redirect_uri","audience","scope","state","nonce","display","prompt","max_age","ui_locales","claims_locales","id_token_hint","login_hint","acr_values","claims","registration","request","request_uri","code_challenge","code_challenge_method","access_type","display"],es={oauthTokenParams:function(O,C){return t9.pick(C,er)},oauthAuthorizeParams:function(O,C){var I=t9.getKeysNotIn(C,eo);return I.length>0&&O.warning("Following parameters are not allowed on the `/authorize` endpoint: ["+I.join(",")+"]"),C}},ea=ne(function(O,C){var I,D,P,j,N,H,W,z,F,Y,X,G,$;O.exports=I||(D=Math,P=Object.create||function(){function t(){}return function(O){var C;return t.prototype=O,C=new t,t.prototype=null,C}}(),H=(N=(j={}).lib={}).Base={extend:function(O){var C=P(this);return O&&C.mixIn(O),C.hasOwnProperty("init")&&this.init!==C.init||(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var O=this.extend();return O.init.apply(O,arguments),O},init:function(){},mixIn:function(O){for(var C in O)O.hasOwnProperty(C)&&(this[C]=O[C]);O.hasOwnProperty("toString")&&(this.toString=O.toString)},clone:function(){return this.init.prototype.extend(this)}},W=N.WordArray=H.extend({init:function(O,C){O=this.words=O||[],this.sigBytes=null!=C?C:4*O.length},toString:function(O){return(O||F).stringify(this)},concat:function(O){var C=this.words,I=O.words,D=this.sigBytes,P=O.sigBytes;if(this.clamp(),D%4)for(var j=0;j<P;j++){var N=I[j>>>2]>>>24-j%4*8&255;C[D+j>>>2]|=N<<24-(D+j)%4*8}else for(j=0;j<P;j+=4)C[D+j>>>2]=I[j>>>2];return this.sigBytes+=P,this},clamp:function(){var O=this.words,C=this.sigBytes;O[C>>>2]&=4294967295<<32-C%4*8,O.length=D.ceil(C/4)},clone:function(){var O=H.clone.call(this);return O.words=this.words.slice(0),O},random:function(O){for(var C,I=[],r=function(O){var C=987654321;return function(){var I=((C=36969*(65535&C)+(C>>16)&4294967295)<<16)+(O=18e3*(65535&O)+(O>>16)&4294967295)&4294967295;return I/=4294967296,(I+=.5)*(D.random()>.5?1:-1)}},P=0;P<O;P+=4){var j=r(4294967296*(C||D.random()));C=987654071*j(),I.push(4294967296*j()|0)}return new W.init(I,O)}}),F=(z=j.enc={}).Hex={stringify:function(O){for(var C=O.words,I=O.sigBytes,D=[],P=0;P<I;P++){var j=C[P>>>2]>>>24-P%4*8&255;D.push((j>>>4).toString(16)),D.push((15&j).toString(16))}return D.join("")},parse:function(O){for(var C=O.length,I=[],D=0;D<C;D+=2)I[D>>>3]|=parseInt(O.substr(D,2),16)<<24-D%8*4;return new W.init(I,C/2)}},Y=z.Latin1={stringify:function(O){for(var C=O.words,I=O.sigBytes,D=[],P=0;P<I;P++){var j=C[P>>>2]>>>24-P%4*8&255;D.push(String.fromCharCode(j))}return D.join("")},parse:function(O){for(var C=O.length,I=[],D=0;D<C;D++)I[D>>>2]|=(255&O.charCodeAt(D))<<24-D%4*8;return new W.init(I,C)}},X=z.Utf8={stringify:function(O){try{return decodeURIComponent(escape(Y.stringify(O)))}catch(O){throw Error("Malformed UTF-8 data")}},parse:function(O){return Y.parse(unescape(encodeURIComponent(O)))}},G=N.BufferedBlockAlgorithm=H.extend({reset:function(){this._data=new W.init,this._nDataBytes=0},_append:function(O){"string"==typeof O&&(O=X.parse(O)),this._data.concat(O),this._nDataBytes+=O.sigBytes},_process:function(O){var C=this._data,I=C.words,P=C.sigBytes,j=this.blockSize,N=P/(4*j),H=(N=O?D.ceil(N):D.max((0|N)-this._minBufferSize,0))*j,z=D.min(4*H,P);if(H){for(var F=0;F<H;F+=j)this._doProcessBlock(I,F);var Y=I.splice(0,H);C.sigBytes-=z}return new W.init(Y,z)},clone:function(){var O=H.clone.call(this);return O._data=this._data.clone(),O},_minBufferSize:0}),N.Hasher=G.extend({cfg:H.extend(),init:function(O){this.cfg=this.cfg.extend(O),this.reset()},reset:function(){G.reset.call(this),this._doReset()},update:function(O){return this._append(O),this._process(),this},finalize:function(O){return O&&this._append(O),this._doFinalize()},blockSize:16,_createHelper:function(O){return function(C,I){return new O.init(I).finalize(C)}},_createHmacHelper:function(O){return function(C,I){return new $.HMAC.init(O,I).finalize(C)}}}),$=j.algo={},j)}),eu=ne(function(O,C){var I,D,P,j,N,H,W,z,F;O.exports=(I=Math,P=(D=ea.lib).WordArray,j=D.Hasher,N=ea.algo,H=[],W=[],function(){function n(O){return 4294967296*(O-(0|O))|0}for(var O=2,C=0;C<64;)(function(O){for(var C=I.sqrt(O),D=2;D<=C;D++)if(!(O%D))return!1;return!0})(O)&&(C<8&&(H[C]=n(I.pow(O,.5))),W[C]=n(I.pow(O,1/3)),C++),O++}(),z=[],F=N.SHA256=j.extend({_doReset:function(){this._hash=new P.init(H.slice(0))},_doProcessBlock:function(O,C){for(var I=this._hash.words,D=I[0],P=I[1],j=I[2],N=I[3],H=I[4],F=I[5],Y=I[6],X=I[7],G=0;G<64;G++){if(G<16)z[G]=0|O[C+G];else{var $=z[G-15],Z=($<<25|$>>>7)^($<<14|$>>>18)^$>>>3,Q=z[G-2],te=(Q<<15|Q>>>17)^(Q<<13|Q>>>19)^Q>>>10;z[G]=Z+z[G-7]+te+z[G-16]}var tr=D&P^D&j^P&j,to=(D<<30|D>>>2)^(D<<19|D>>>13)^(D<<10|D>>>22),ts=X+((H<<26|H>>>6)^(H<<21|H>>>11)^(H<<7|H>>>25))+(H&F^~H&Y)+W[G]+z[G];X=Y,Y=F,F=H,H=N+ts|0,N=j,j=P,P=D,D=ts+(to+tr)|0}I[0]=I[0]+D|0,I[1]=I[1]+P|0,I[2]=I[2]+j|0,I[3]=I[3]+N|0,I[4]=I[4]+H|0,I[5]=I[5]+F|0,I[6]=I[6]+Y|0,I[7]=I[7]+X|0},_doFinalize:function(){var O=this._data,C=O.words,D=8*this._nDataBytes,P=8*O.sigBytes;return C[P>>>5]|=128<<24-P%32,C[14+(P+64>>>9<<4)]=I.floor(D/4294967296),C[15+(P+64>>>9<<4)]=D,O.sigBytes=4*C.length,this._process(),this._hash},clone:function(){var O=j.clone.call(this);return O._hash=this._hash.clone(),O}}),ea.SHA256=j._createHelper(F),ea.HmacSHA256=j._createHmacHelper(F),ea.SHA256)}),eh=ne(function(O,C){var I;O.exports=(I=ea.lib.WordArray,ea.enc.Base64={stringify:function(O){var C=O.words,I=O.sigBytes,D=this._map;O.clamp();for(var P=[],j=0;j<I;j+=3)for(var N=(C[j>>>2]>>>24-j%4*8&255)<<16|(C[j+1>>>2]>>>24-(j+1)%4*8&255)<<8|C[j+2>>>2]>>>24-(j+2)%4*8&255,H=0;H<4&&j+.75*H<I;H++)P.push(D.charAt(N>>>6*(3-H)&63));var W=D.charAt(64);if(W)for(;P.length%4;)P.push(W);return P.join("")},parse:function(O){var C=O.length,D=this._map,P=this._reverseMap;if(!P){P=this._reverseMap=[];for(var j=0;j<D.length;j++)P[D.charCodeAt(j)]=j}var N=D.charAt(64);if(N){var H=O.indexOf(N);-1!==H&&(C=H)}return function(O,C,D){for(var P=[],j=0,N=0;N<C;N++)if(N%4){var H=D[O.charCodeAt(N-1)]<<N%4*2,W=D[O.charCodeAt(N)]>>>6-N%4*2;P[j>>>2]|=(H|W)<<24-j%4*8,j++}return I.create(P,j)}(O,C,P)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},ea.enc.Base64)}),ec=ne(function(O,C){O.exports=ea.enc.Hex}),ep=ne(function(O,C){(function(){function n(O,C,I){null!=O&&("number"==typeof O?this.fromNumber(O,C,I):null==C&&"string"!=typeof O?this.fromString(O,256):this.fromString(O,C))}function i(){return new n(null)}var C,I="undefined"!=typeof navigator;I&&"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=function(O,C,I,D,P,j){for(var N=32767&C,H=C>>15;--j>=0;){var W=32767&this[O],z=this[O++]>>15,F=H*W+z*N;P=((W=N*W+((32767&F)<<15)+I[D]+(1073741823&P))>>>30)+(F>>>15)+H*z+(P>>>30),I[D++]=1073741823&W}return P},D=30):I&&"Netscape"!=navigator.appName?(n.prototype.am=function(O,C,I,D,P,j){for(;--j>=0;){var N=C*this[O++]+I[D]+P;P=Math.floor(N/67108864),I[D++]=67108863&N}return P},D=26):(n.prototype.am=function(O,C,I,D,P,j){for(var N=16383&C,H=C>>14;--j>=0;){var W=16383&this[O],z=this[O++]>>14,F=H*W+z*N;P=((W=N*W+((16383&F)<<14)+I[D]+P)>>28)+(F>>14)+H*z,I[D++]=268435455&W}return P},D=28),n.prototype.DB=D,n.prototype.DM=(1<<D)-1,n.prototype.DV=1<<D,n.prototype.FV=4503599627370496,n.prototype.F1=52-D,n.prototype.F2=2*D-52;var D,P,j,N=[];for(P=48,j=0;j<=9;++j)N[P++]=j;for(P=97,j=10;j<36;++j)N[P++]=j;for(P=65,j=10;j<36;++j)N[P++]=j;function u(O){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(O)}function c(O,C){var I=N[O.charCodeAt(C)];return null==I?-1:I}function h(O){var C=i();return C.fromInt(O),C}function p(O){var C,I=1;return 0!=(C=O>>>16)&&(O=C,I+=16),0!=(C=O>>8)&&(O=C,I+=8),0!=(C=O>>4)&&(O=C,I+=4),0!=(C=O>>2)&&(O=C,I+=2),0!=(C=O>>1)&&(O=C,I+=1),I}function l(O){this.m=O}function f(O){this.m=O,this.mp=O.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<O.DB-15)-1,this.mt2=2*O.t}function d(O,C){return O&C}function g(O,C){return O|C}function y(O,C){return O^C}function m(O,C){return O&~C}function b(){}function _(O){return O}function T(O){this.r2=i(),this.q3=i(),n.ONE.dlShiftTo(2*O.t,this.r2),this.mu=this.r2.divide(O),this.m=O}l.prototype.convert=function(O){return O.s<0||O.compareTo(this.m)>=0?O.mod(this.m):O},l.prototype.revert=function(O){return O},l.prototype.reduce=function(O){O.divRemTo(this.m,null,O)},l.prototype.mulTo=function(O,C,I){O.multiplyTo(C,I),this.reduce(I)},l.prototype.sqrTo=function(O,C){O.squareTo(C),this.reduce(C)},f.prototype.convert=function(O){var C=i();return O.abs().dlShiftTo(this.m.t,C),C.divRemTo(this.m,null,C),O.s<0&&C.compareTo(n.ZERO)>0&&this.m.subTo(C,C),C},f.prototype.revert=function(O){var C=i();return O.copyTo(C),this.reduce(C),C},f.prototype.reduce=function(O){for(;O.t<=this.mt2;)O[O.t++]=0;for(var C=0;C<this.m.t;++C){var I=32767&O[C],D=I*this.mpl+((I*this.mph+(O[C]>>15)*this.mpl&this.um)<<15)&O.DM;for(O[I=C+this.m.t]+=this.m.am(0,D,O,C,0,this.m.t);O[I]>=O.DV;)O[I]-=O.DV,O[++I]++}O.clamp(),O.drShiftTo(this.m.t,O),O.compareTo(this.m)>=0&&O.subTo(this.m,O)},f.prototype.mulTo=function(O,C,I){O.multiplyTo(C,I),this.reduce(I)},f.prototype.sqrTo=function(O,C){O.squareTo(C),this.reduce(C)},n.prototype.copyTo=function(O){for(var C=this.t-1;C>=0;--C)O[C]=this[C];O.t=this.t,O.s=this.s},n.prototype.fromInt=function(O){this.t=1,this.s=O<0?-1:0,O>0?this[0]=O:O<-1?this[0]=O+this.DV:this.t=0},n.prototype.fromString=function(O,C){var I;if(16==C)I=4;else if(8==C)I=3;else if(256==C)I=8;else if(2==C)I=1;else if(32==C)I=5;else{if(4!=C)return void this.fromRadix(O,C);I=2}this.t=0,this.s=0;for(var D=O.length,P=!1,j=0;--D>=0;){var N=8==I?255&O[D]:c(O,D);N<0?"-"==O.charAt(D)&&(P=!0):(P=!1,0==j?this[this.t++]=N:j+I>this.DB?(this[this.t-1]|=(N&(1<<this.DB-j)-1)<<j,this[this.t++]=N>>this.DB-j):this[this.t-1]|=N<<j,(j+=I)>=this.DB&&(j-=this.DB))}8==I&&0!=(128&O[0])&&(this.s=-1,j>0&&(this[this.t-1]|=(1<<this.DB-j)-1<<j)),this.clamp(),P&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var O=this.s&this.DM;this.t>0&&this[this.t-1]==O;)--this.t},n.prototype.dlShiftTo=function(O,C){var I;for(I=this.t-1;I>=0;--I)C[I+O]=this[I];for(I=O-1;I>=0;--I)C[I]=0;C.t=this.t+O,C.s=this.s},n.prototype.drShiftTo=function(O,C){for(var I=O;I<this.t;++I)C[I-O]=this[I];C.t=Math.max(this.t-O,0),C.s=this.s},n.prototype.lShiftTo=function(O,C){var I,D=O%this.DB,P=this.DB-D,j=(1<<P)-1,N=Math.floor(O/this.DB),H=this.s<<D&this.DM;for(I=this.t-1;I>=0;--I)C[I+N+1]=this[I]>>P|H,H=(this[I]&j)<<D;for(I=N-1;I>=0;--I)C[I]=0;C[N]=H,C.t=this.t+N+1,C.s=this.s,C.clamp()},n.prototype.rShiftTo=function(O,C){C.s=this.s;var I=Math.floor(O/this.DB);if(I>=this.t)C.t=0;else{var D=O%this.DB,P=this.DB-D,j=(1<<D)-1;C[0]=this[I]>>D;for(var N=I+1;N<this.t;++N)C[N-I-1]|=(this[N]&j)<<P,C[N-I]=this[N]>>D;D>0&&(C[this.t-I-1]|=(this.s&j)<<P),C.t=this.t-I,C.clamp()}},n.prototype.subTo=function(O,C){for(var I=0,D=0,P=Math.min(O.t,this.t);I<P;)D+=this[I]-O[I],C[I++]=D&this.DM,D>>=this.DB;if(O.t<this.t){for(D-=O.s;I<this.t;)D+=this[I],C[I++]=D&this.DM,D>>=this.DB;D+=this.s}else{for(D+=this.s;I<O.t;)D-=O[I],C[I++]=D&this.DM,D>>=this.DB;D-=O.s}C.s=D<0?-1:0,D<-1?C[I++]=this.DV+D:D>0&&(C[I++]=D),C.t=I,C.clamp()},n.prototype.multiplyTo=function(O,C){var I=this.abs(),D=O.abs(),P=I.t;for(C.t=P+D.t;--P>=0;)C[P]=0;for(P=0;P<D.t;++P)C[P+I.t]=I.am(0,D[P],C,P,0,I.t);C.s=0,C.clamp(),this.s!=O.s&&n.ZERO.subTo(C,C)},n.prototype.squareTo=function(O){for(var C=this.abs(),I=O.t=2*C.t;--I>=0;)O[I]=0;for(I=0;I<C.t-1;++I){var D=C.am(I,C[I],O,2*I,0,1);(O[I+C.t]+=C.am(I+1,2*C[I],O,2*I+1,D,C.t-I-1))>=C.DV&&(O[I+C.t]-=C.DV,O[I+C.t+1]=1)}O.t>0&&(O[O.t-1]+=C.am(I,C[I],O,2*I,0,1)),O.s=0,O.clamp()},n.prototype.divRemTo=function(O,C,I){var D=O.abs();if(!(D.t<=0)){var P=this.abs();if(P.t<D.t)return null!=C&&C.fromInt(0),void(null!=I&&this.copyTo(I));null==I&&(I=i());var j=i(),N=this.s,H=O.s,W=this.DB-p(D[D.t-1]);W>0?(D.lShiftTo(W,j),P.lShiftTo(W,I)):(D.copyTo(j),P.copyTo(I));var z=j.t,F=j[z-1];if(0!=F){var Y=F*(1<<this.F1)+(z>1?j[z-2]>>this.F2:0),X=this.FV/Y,G=(1<<this.F1)/Y,$=1<<this.F2,Z=I.t,Q=Z-z,te=null==C?i():C;for(j.dlShiftTo(Q,te),I.compareTo(te)>=0&&(I[I.t++]=1,I.subTo(te,I)),n.ONE.dlShiftTo(z,te),te.subTo(j,j);j.t<z;)j[j.t++]=0;for(;--Q>=0;){var tr=I[--Z]==F?this.DM:Math.floor(I[Z]*X+(I[Z-1]+$)*G);if((I[Z]+=j.am(0,tr,I,Q,0,z))<tr)for(j.dlShiftTo(Q,te),I.subTo(te,I);I[Z]<--tr;)I.subTo(te,I)}null!=C&&(I.drShiftTo(z,C),N!=H&&n.ZERO.subTo(C,C)),I.t=z,I.clamp(),W>0&&I.rShiftTo(W,I),N<0&&n.ZERO.subTo(I,I)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var O=this[0];if(0==(1&O))return 0;var C=3&O;return(C=(C=(C=(C=C*(2-(15&O)*C)&15)*(2-(255&O)*C)&255)*(2-((65535&O)*C&65535))&65535)*(2-O*C%this.DV)%this.DV)>0?this.DV-C:-C},n.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},n.prototype.exp=function(O,C){if(O>4294967295||O<1)return n.ONE;var I=i(),D=i(),P=C.convert(this),j=p(O)-1;for(P.copyTo(I);--j>=0;)if(C.sqrTo(I,D),(O&1<<j)>0)C.mulTo(D,P,I);else{var N=I;I=D,D=N}return C.revert(I)},n.prototype.toString=function(O){if(this.s<0)return"-"+this.negate().toString(O);if(16==O)C=4;else if(8==O)C=3;else if(2==O)C=1;else if(32==O)C=5;else{if(4!=O)return this.toRadix(O);C=2}var C,I,D=(1<<C)-1,P=!1,j="",N=this.t,H=this.DB-N*this.DB%C;if(N-- >0)for(H<this.DB&&(I=this[N]>>H)>0&&(P=!0,j=u(I));N>=0;)H<C?I=(this[N]&(1<<H)-1)<<C-H|this[--N]>>(H+=this.DB-C):(I=this[N]>>(H-=C)&D,H<=0&&(H+=this.DB,--N)),I>0&&(P=!0),P&&(j+=u(I));return P?j:"0"},n.prototype.negate=function(){var O=i();return n.ZERO.subTo(this,O),O},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(O){var C=this.s-O.s;if(0!=C)return C;var I=this.t;if(0!=(C=I-O.t))return this.s<0?-C:C;for(;--I>=0;)if(0!=(C=this[I]-O[I]))return C;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+p(this[this.t-1]^this.s&this.DM)},n.prototype.mod=function(O){var C=i();return this.abs().divRemTo(O,null,C),this.s<0&&C.compareTo(n.ZERO)>0&&O.subTo(C,C),C},n.prototype.modPowInt=function(O,C){var I;return I=O<256||C.isEven()?new l(C):new f(C),this.exp(O,I)},n.ZERO=h(0),n.ONE=h(1),b.prototype.convert=_,b.prototype.revert=_,b.prototype.mulTo=function(O,C,I){O.multiplyTo(C,I)},b.prototype.sqrTo=function(O,C){O.squareTo(C)},T.prototype.convert=function(O){if(O.s<0||O.t>2*this.m.t)return O.mod(this.m);if(0>O.compareTo(this.m))return O;var C=i();return O.copyTo(C),this.reduce(C),C},T.prototype.revert=function(O){return O},T.prototype.reduce=function(O){for(O.drShiftTo(this.m.t-1,this.r2),O.t>this.m.t+1&&(O.t=this.m.t+1,O.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>O.compareTo(this.r2);)O.dAddOffset(1,this.m.t+1);for(O.subTo(this.r2,O);O.compareTo(this.m)>=0;)O.subTo(this.m,O)},T.prototype.mulTo=function(O,C,I){O.multiplyTo(C,I),this.reduce(I)},T.prototype.sqrTo=function(O,C){O.squareTo(C),this.reduce(C)};var H,W,z,F=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Y=67108864/F[F.length-1];function S(){var O;O=(new Date).getTime(),W[z++]^=255&O,W[z++]^=O>>8&255,W[z++]^=O>>16&255,W[z++]^=O>>24&255,z>=$&&(z-=$)}if(n.prototype.chunkSize=function(O){return Math.floor(Math.LN2*this.DB/Math.log(O))},n.prototype.toRadix=function(O){if(null==O&&(O=10),0==this.signum()||O<2||O>36)return"0";var C=this.chunkSize(O),I=Math.pow(O,C),D=h(I),P=i(),j=i(),N="";for(this.divRemTo(D,P,j);P.signum()>0;)N=(I+j.intValue()).toString(O).substr(1)+N,P.divRemTo(D,P,j);return j.intValue().toString(O)+N},n.prototype.fromRadix=function(O,C){this.fromInt(0),null==C&&(C=10);for(var I=this.chunkSize(C),D=Math.pow(C,I),P=!1,j=0,N=0,H=0;H<O.length;++H){var W=c(O,H);W<0?"-"==O.charAt(H)&&0==this.signum()&&(P=!0):(N=C*N+W,++j>=I&&(this.dMultiply(D),this.dAddOffset(N,0),j=0,N=0))}j>0&&(this.dMultiply(Math.pow(C,j)),this.dAddOffset(N,0)),P&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(O,C,I){if("number"==typeof C){if(O<2)this.fromInt(1);else for(this.fromNumber(O,I),this.testBit(O-1)||this.bitwiseTo(n.ONE.shiftLeft(O-1),g,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(C);)this.dAddOffset(2,0),this.bitLength()>O&&this.subTo(n.ONE.shiftLeft(O-1),this)}else{var D=[],P=7&O;D.length=1+(O>>3),C.nextBytes(D),P>0?D[0]&=(1<<P)-1:D[0]=0,this.fromString(D,256)}},n.prototype.bitwiseTo=function(O,C,I){var D,P,j=Math.min(O.t,this.t);for(D=0;D<j;++D)I[D]=C(this[D],O[D]);if(O.t<this.t){for(P=O.s&this.DM,D=j;D<this.t;++D)I[D]=C(this[D],P);I.t=this.t}else{for(P=this.s&this.DM,D=j;D<O.t;++D)I[D]=C(P,O[D]);I.t=O.t}I.s=C(this.s,O.s),I.clamp()},n.prototype.changeBit=function(O,C){var I=n.ONE.shiftLeft(O);return this.bitwiseTo(I,C,I),I},n.prototype.addTo=function(O,C){for(var I=0,D=0,P=Math.min(O.t,this.t);I<P;)D+=this[I]+O[I],C[I++]=D&this.DM,D>>=this.DB;if(O.t<this.t){for(D+=O.s;I<this.t;)D+=this[I],C[I++]=D&this.DM,D>>=this.DB;D+=this.s}else{for(D+=this.s;I<O.t;)D+=O[I],C[I++]=D&this.DM,D>>=this.DB;D+=O.s}C.s=D<0?-1:0,D>0?C[I++]=D:D<-1&&(C[I++]=this.DV+D),C.t=I,C.clamp()},n.prototype.dMultiply=function(O){this[this.t]=this.am(0,O-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(O,C){if(0!=O){for(;this.t<=C;)this[this.t++]=0;for(this[C]+=O;this[C]>=this.DV;)this[C]-=this.DV,++C>=this.t&&(this[this.t++]=0),++this[C]}},n.prototype.multiplyLowerTo=function(O,C,I){var D,P=Math.min(this.t+O.t,C);for(I.s=0,I.t=P;P>0;)I[--P]=0;for(D=I.t-this.t;P<D;++P)I[P+this.t]=this.am(0,O[P],I,P,0,this.t);for(D=Math.min(O.t,C);P<D;++P)this.am(0,O[P],I,P,0,C-P);I.clamp()},n.prototype.multiplyUpperTo=function(O,C,I){--C;var D=I.t=this.t+O.t-C;for(I.s=0;--D>=0;)I[D]=0;for(D=Math.max(C-this.t,0);D<O.t;++D)I[this.t+D-C]=this.am(C-D,O[D],I,0,0,this.t+D-C);I.clamp(),I.drShiftTo(1,I)},n.prototype.modInt=function(O){if(O<=0)return 0;var C=this.DV%O,I=this.s<0?O-1:0;if(this.t>0){if(0==C)I=this[0]%O;else for(var D=this.t-1;D>=0;--D)I=(C*I+this[D])%O}return I},n.prototype.millerRabin=function(O){var C=this.subtract(n.ONE),I=C.getLowestSetBit();if(I<=0)return!1;var D=C.shiftRight(I);(O=O+1>>1)>F.length&&(O=F.length);for(var P=i(),j=0;j<O;++j){P.fromInt(F[Math.floor(Math.random()*F.length)]);var N=P.modPow(D,this);if(0!=N.compareTo(n.ONE)&&0!=N.compareTo(C)){for(var H=1;H++<I&&0!=N.compareTo(C);)if(0==(N=N.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=N.compareTo(C))return!1}}return!0},n.prototype.clone=function(){var O=i();return this.copyTo(O),O},n.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return -1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},n.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},n.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},n.prototype.toByteArray=function(){var O=this.t,C=[];C[0]=this.s;var I,D=this.DB-O*this.DB%8,P=0;if(O-- >0)for(D<this.DB&&(I=this[O]>>D)!=(this.s&this.DM)>>D&&(C[P++]=I|this.s<<this.DB-D);O>=0;)D<8?I=(this[O]&(1<<D)-1)<<8-D|this[--O]>>(D+=this.DB-8):(I=this[O]>>(D-=8)&255,D<=0&&(D+=this.DB,--O)),0!=(128&I)&&(I|=-256),0==P&&(128&this.s)!=(128&I)&&++P,(P>0||I!=this.s)&&(C[P++]=I);return C},n.prototype.equals=function(O){return 0==this.compareTo(O)},n.prototype.min=function(O){return 0>this.compareTo(O)?this:O},n.prototype.max=function(O){return this.compareTo(O)>0?this:O},n.prototype.and=function(O){var C=i();return this.bitwiseTo(O,d,C),C},n.prototype.or=function(O){var C=i();return this.bitwiseTo(O,g,C),C},n.prototype.xor=function(O){var C=i();return this.bitwiseTo(O,y,C),C},n.prototype.andNot=function(O){var C=i();return this.bitwiseTo(O,m,C),C},n.prototype.not=function(){for(var O=i(),C=0;C<this.t;++C)O[C]=this.DM&~this[C];return O.t=this.t,O.s=~this.s,O},n.prototype.shiftLeft=function(O){var C=i();return O<0?this.rShiftTo(-O,C):this.lShiftTo(O,C),C},n.prototype.shiftRight=function(O){var C=i();return O<0?this.lShiftTo(-O,C):this.rShiftTo(O,C),C},n.prototype.getLowestSetBit=function(){for(var O=0;O<this.t;++O)if(0!=this[O])return O*this.DB+function(O){if(0==O)return -1;var C=0;return 0==(65535&O)&&(O>>=16,C+=16),0==(255&O)&&(O>>=8,C+=8),0==(15&O)&&(O>>=4,C+=4),0==(3&O)&&(O>>=2,C+=2),0==(1&O)&&++C,C}(this[O]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var O=0,C=this.s&this.DM,I=0;I<this.t;++I)O+=function(O){for(var C=0;0!=O;)O&=O-1,++C;return C}(this[I]^C);return O},n.prototype.testBit=function(O){var C=Math.floor(O/this.DB);return C>=this.t?0!=this.s:0!=(this[C]&1<<O%this.DB)},n.prototype.setBit=function(O){return this.changeBit(O,g)},n.prototype.clearBit=function(O){return this.changeBit(O,m)},n.prototype.flipBit=function(O){return this.changeBit(O,y)},n.prototype.add=function(O){var C=i();return this.addTo(O,C),C},n.prototype.subtract=function(O){var C=i();return this.subTo(O,C),C},n.prototype.multiply=function(O){var C=i();return this.multiplyTo(O,C),C},n.prototype.divide=function(O){var C=i();return this.divRemTo(O,C,null),C},n.prototype.remainder=function(O){var C=i();return this.divRemTo(O,null,C),C},n.prototype.divideAndRemainder=function(O){var C=i(),I=i();return this.divRemTo(O,C,I),[C,I]},n.prototype.modPow=function(O,C){var I,D,P=O.bitLength(),j=h(1);if(P<=0)return j;I=P<18?1:P<48?3:P<144?4:P<768?5:6,D=P<8?new l(C):C.isEven()?new T(C):new f(C);var N=[],H=3,W=I-1,z=(1<<I)-1;if(N[1]=D.convert(this),I>1){var F=i();for(D.sqrTo(N[1],F);H<=z;)N[H]=i(),D.mulTo(F,N[H-2],N[H]),H+=2}var Y,X,G=O.t-1,$=!0,Z=i();for(P=p(O[G])-1;G>=0;){for(P>=W?Y=O[G]>>P-W&z:(Y=(O[G]&(1<<P+1)-1)<<W-P,G>0&&(Y|=O[G-1]>>this.DB+P-W)),H=I;0==(1&Y);)Y>>=1,--H;if((P-=H)<0&&(P+=this.DB,--G),$)N[Y].copyTo(j),$=!1;else{for(;H>1;)D.sqrTo(j,Z),D.sqrTo(Z,j),H-=2;H>0?D.sqrTo(j,Z):(X=j,j=Z,Z=X),D.mulTo(Z,N[Y],j)}for(;G>=0&&0==(O[G]&1<<P);)D.sqrTo(j,Z),X=j,j=Z,Z=X,--P<0&&(P=this.DB-1,--G)}return D.revert(j)},n.prototype.modInverse=function(O){var C=O.isEven();if(this.isEven()&&C||0==O.signum())return n.ZERO;for(var I=O.clone(),D=this.clone(),P=h(1),j=h(0),N=h(0),H=h(1);0!=I.signum();){for(;I.isEven();)I.rShiftTo(1,I),C?(P.isEven()&&j.isEven()||(P.addTo(this,P),j.subTo(O,j)),P.rShiftTo(1,P)):j.isEven()||j.subTo(O,j),j.rShiftTo(1,j);for(;D.isEven();)D.rShiftTo(1,D),C?(N.isEven()&&H.isEven()||(N.addTo(this,N),H.subTo(O,H)),N.rShiftTo(1,N)):H.isEven()||H.subTo(O,H),H.rShiftTo(1,H);I.compareTo(D)>=0?(I.subTo(D,I),C&&P.subTo(N,P),j.subTo(H,j)):(D.subTo(I,D),C&&N.subTo(P,N),H.subTo(j,H))}return 0!=D.compareTo(n.ONE)?n.ZERO:H.compareTo(O)>=0?H.subtract(O):0>H.signum()?(H.addTo(O,H),0>H.signum()?H.add(O):H):H},n.prototype.pow=function(O){return this.exp(O,new b)},n.prototype.gcd=function(O){var C=this.s<0?this.negate():this.clone(),I=O.s<0?O.negate():O.clone();if(0>C.compareTo(I)){var D=C;C=I,I=D}var P=C.getLowestSetBit(),j=I.getLowestSetBit();if(j<0)return C;for(P<j&&(j=P),j>0&&(C.rShiftTo(j,C),I.rShiftTo(j,I));C.signum()>0;)(P=C.getLowestSetBit())>0&&C.rShiftTo(P,C),(P=I.getLowestSetBit())>0&&I.rShiftTo(P,I),C.compareTo(I)>=0?(C.subTo(I,C),C.rShiftTo(1,C)):(I.subTo(C,I),I.rShiftTo(1,I));return j>0&&I.lShiftTo(j,I),I},n.prototype.isProbablePrime=function(O){var C,I=this.abs();if(1==I.t&&I[0]<=F[F.length-1]){for(C=0;C<F.length;++C)if(I[0]==F[C])return!0;return!1}if(I.isEven())return!1;for(C=1;C<F.length;){for(var D=F[C],P=C+1;P<F.length&&D<Y;)D*=F[P++];for(D=I.modInt(D);C<P;)if(D%F[C++]==0)return!1}return I.millerRabin(O)},n.prototype.square=function(){var O=i();return this.squareTo(O),O},n.prototype.Barrett=T,null==W){if(W=[],z=0,"undefined"!=typeof window&&window.crypto){if(window.crypto.getRandomValues){var X=new Uint8Array(32);for(window.crypto.getRandomValues(X),C=0;C<32;++C)W[z++]=X[C]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var G=window.crypto.random(32);for(C=0;C<G.length;++C)W[z++]=255&G.charCodeAt(C)}}for(;z<$;)C=Math.floor(65536*Math.random()),W[z++]=C>>>8,W[z++]=255&C;z=0,S()}function x(){}function B(){this.i=0,this.j=0,this.S=[]}x.prototype.nextBytes=function(O){var C;for(C=0;C<O.length;++C)O[C]=function(){if(null==H){for(S(),(H=new B).init(W),z=0;z<W.length;++z)W[z]=0;z=0}return H.next()}()},B.prototype.init=function(O){var C,I,D;for(C=0;C<256;++C)this.S[C]=C;for(I=0,C=0;C<256;++C)I=I+this.S[C]+O[C%O.length]&255,D=this.S[C],this.S[C]=this.S[I],this.S[I]=D;this.i=0,this.j=0},B.prototype.next=function(){var O;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,O=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=O,this.S[O+this.S[this.i]&255]};var $=256;n.SecureRandom=x,n.BigInteger=n,O.exports=n}).call(tq)}).BigInteger,el={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},ef={sha256:eu};function An(O,C){if(this.n=null,this.e=0,!(null!=O&&null!=C&&O.length>0&&C.length>0))throw Error("Invalid key data");this.n=new ep(O,16),this.e=parseInt(C,16)}function Rn(O){var C=O.length%4;return 0===C?O:O+Array(4-C+1).join("=")}function Dn(O){for(var C="",I=0;I<O.length;I++)C+=String.fromCharCode(O[I]);return C}function xn(O){for(var C=Array(O.length),I=0;I<O.length;I++)C[I]=O.charCodeAt(I);return C}function Bn(O){for(var C="",I=0;I<O.length;I++){var D=O[I].toString(16);C+=2===D.length?D:"0"+D}return C}An.prototype.verify=function(O,C){C=C.replace(/[^0-9a-f]|[\s\n]]/gi,"");var I=new ep(C,16);if(I.bitLength()>this.n.bitLength())throw Error("Signature does not match with the key modulus.");var D=function(O){for(var C in el){var I=el[C],D=I.length;if(O.substring(0,D)===I)return{alg:C,hash:O.substring(D)}}return[]}(I.modPowInt(this.e,this.n).toString(16).replace(/^1f+00/,""));if(0===D.length)return!1;if(!ef.hasOwnProperty(D.alg))throw Error("Hashing algorithm is not supported.");var P=ef[D.alg](O).toString();return D.hash===P};var ed={encodeString:function(O){return t5.fromByteArray(xn(encodeURIComponent(O).replace(/%([0-9A-F]{2})/g,function(O,C){return String.fromCharCode("0x"+C)}))).replace(/\+/g,"-").replace(/\//g,"_")},decodeToString:function(O){return O=Rn(O).replace(/\-/g,"+").replace(/_/g,"/"),decodeURIComponent(Dn(t5.toByteArray(O)).split("").map(function(O){return"%"+("00"+O.charCodeAt(0).toString(16)).slice(-2)}).join(""))},byteArrayToString:Dn,stringToByteArray:xn,padding:Rn,byteArrayToHex:Bn,decodeToHEX:function(O){return Bn(t5.toByteArray(Rn(O)))},base64ToBase64Url:function(O){var C={"+":"-","/":"_","=":""};return O.replace(/[+\/=]/g,function(O){return C[O]})}},eg=ne(function(O){var C;C=function(){return function(){var O=arguments;return"object"==c(arguments[0])&&(O=arguments[0]),[].slice.call(O,0).join("/").replace(/:\//g,"://").replace(/([^:\s])\/+/g,"$1/").replace(/\/(\?|&|#[^!])/g,"$1").replace(/(\?.+)\?/g,"$1&")}},O.exports?O.exports=C():tq.urljoin=C()});function qn(O){return{modulus:ed.decodeToHEX(O.n),exp:ed.decodeToHEX(O.e)}}var ey={process:qn,getJWKS:function(O,C){var I=O.jwksURI||eg(O.iss,".well-known","jwks.json");return tG.get(I).end(function(I,D){var P,j,N=null;if(I)return C(I);for(P=0;P<D.body.keys.length&&null===N;P++)(j=D.body.keys[P]).kid===O.kid&&(N=j);return C(null,qn(N))})}};function Mn(O){this.name="ConfigurationError",this.message=O||""}function Nn(O){this.name="TokenValidationError",this.message=O||""}Mn.prototype=Error.prototype,Nn.prototype=Error.prototype;var em={ConfigurationError:Mn,TokenValidationError:Nn};function zn(){}zn.prototype.get=function(){return null},zn.prototype.has=function(){return!1},zn.prototype.set=function(){};var ev=["RS256"];function Fn(O){var C=O||{};if(this.jwksCache=C.jwksCache||new zn,this.expectedAlg=C.expectedAlg||"RS256",this.issuer=C.issuer,this.audience=C.audience,this.leeway=C.leeway||0,this.__disableExpirationCheck=C.__disableExpirationCheck||!1,this.jwksURI=C.jwksURI,this.leeway<0||this.leeway>60)throw new em.ConfigurationError("The leeway should be positive and lower than a minute.");if(-1===ev.indexOf(this.expectedAlg))throw new em.ConfigurationError("Algorithm "+this.expectedAlg+" is not supported. (Expected algs: ["+ev.join(",")+"])")}function Kn(O,C){this.plugins=C;for(var I=0;I<this.plugins.length;I++){if(this.plugins[I].version!==t6.raw){var D="";throw this.plugins[I].constructor&&this.plugins[I].constructor.name&&(D=this.plugins[I].constructor.name),Error("Plugin "+D+" version ("+this.plugins[I].version+") is not compatible with the SDK version ("+t6.raw+")")}this.plugins[I].setWebAuth(O)}}Fn.prototype.verify=function(O,C,I){var D=this.decode(O);if(D instanceof Error)return I(D,!1);var P=D.encoded.header+"."+D.encoded.payload,j=ed.decodeToHEX(D.encoded.signature),N=D.header.alg,H=D.header.kid,W=D.payload.aud,z=D.payload.iss,F=D.payload.exp,Y=D.payload.nbf,X=D.payload.nonce||null;if(this.issuer!==z)return I(new em.TokenValidationError("Issuer "+z+" is not valid."),!1);if(this.audience!==W)return I(new em.TokenValidationError("Audience "+W+" is not valid."),!1);if(this.expectedAlg!==N)return I(new em.TokenValidationError("Algorithm "+N+" is not supported. (Expected algs: ["+ev.join(",")+"])"),!1);if(X!==C)return I(new em.TokenValidationError("Nonce does not match."),!1);var G=this.verifyExpAndNbf(F,Y);return G?I(G,!1):this.getRsaVerifier(z,H,function(O,C){return O?I(O):C.verify(P,j)?I(null,D.payload):I(new em.TokenValidationError("Invalid signature."))})},Fn.prototype.verifyExpAndNbf=function(O,C){var I=new Date,D=new Date(0),P=new Date(0);return this.__disableExpirationCheck?null:(D.setUTCSeconds(O+this.leeway),I>D?new em.TokenValidationError("Expired token."):void 0===C?null:(P.setUTCSeconds(C-this.leeway),I<P?new em.TokenValidationError("The token is not valid until later in the future. Please check your computed clock."):null))},Fn.prototype.verifyExpAndIat=function(O,C){var I=new Date,D=new Date(0),P=new Date(0);return this.__disableExpirationCheck?null:(D.setUTCSeconds(O+this.leeway),I>D?new em.TokenValidationError("Expired token."):(P.setUTCSeconds(C-this.leeway),I<P?new em.TokenValidationError("The token was issued in the future. Please check your computed clock."):null))},Fn.prototype.getRsaVerifier=function(O,C,I){var D=this,P=O+C;if(this.jwksCache.has(P)){var j=this.jwksCache.get(P);I(null,new An(j.modulus,j.exp))}else ey.getJWKS({jwksURI:this.jwksURI,iss:O,kid:C},function(O,C){return O?I(O):(D.jwksCache.set(P,C),I(null,new An(C.modulus,C.exp)))})},Fn.prototype.decode=function(O){var C,I,D=O.split(".");if(3!==D.length)return new em.TokenValidationError("Cannot decode a malformed JWT");try{C=JSON.parse(ed.decodeToString(D[0])),I=JSON.parse(ed.decodeToString(D[1]))}catch(O){return new em.TokenValidationError("Token header or payload is not valid JSON")}return{header:C,payload:I,encoded:{header:D[0],payload:D[1],signature:D[2]}}},Fn.prototype.validateAccessToken=function(O,C,I,D){if(this.expectedAlg!==C)return D(new em.TokenValidationError("Algorithm "+C+" is not supported. (Expected alg: "+this.expectedAlg+")"));var P=eu(O),j=ec.stringify(P),N=j.substring(0,j.length/2),H=ec.parse(N),W=eh.stringify(H);return D(ed.base64ToBase64Url(W)!==I?new em.TokenValidationError("Invalid access_token"):null)},Kn.prototype.get=function(O){for(var C=0;C<this.plugins.length;C++)if(this.plugins[C].supports(O))return this.plugins[C].init();return null};var eb={randomString:function(O){var C=new Uint8Array(O),I=[],D="0123456789ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvwxyz-._~",P=et.getWindow().crypto||et.getWindow().msCrypto;if(!P)return null;for(var j=P.getRandomValues(C),N=0;N<j.length;N++)I.push(D[j[N]%D.length]);return I.join("")}};function Xn(O){var C=O.transaction||{};this.namespace=C.namespace||"com.auth0.auth.",this.keyLength=C.keyLength||32,this.storage=new dn(O),this.options=O}function $n(O){if(this.url=O.url,this.callback=O.callback,this.timeout=O.timeout||6e4,this.timeoutCallback=O.timeoutCallback||null,this.eventListenerType=O.eventListenerType||"message",this.iframe=null,this.timeoutHandle=null,this._destroyTimeout=null,this.transientMessageEventListener=null,this.proxyEventListener=null,this.eventValidator=O.eventValidator||{isValid:function(){return!0}},"function"!=typeof this.callback)throw Error("options.callback must be a function")}function Gn(O){this.webAuth=O,this.warn=new ln(O.baseOptions)}function Zn(O,C){this.webAuth=O,this.baseOptions=C,this.request=new sn(C),this.webMessageHandler=new Gn(O),this.storage=new dn(C)}function Qn(O,C){return["co/verifier",encodeURIComponent(O),encodeURIComponent(C)].join("/")}function ti(O,C){this.webAuth=O,this.baseOptions=C,this.crossOriginAuthentication=new Zn(O,this.baseOptions),this.warn=new ln({disableWarnings:!!C._disableDeprecationWarnings})}Xn.prototype.process=function(O){if(!O.responseType)throw Error("responseType is required");var C=O.realm||O.connection,I=-1!==O.responseType.indexOf("id_token"),D=this.generateTransaction(O.appState,O.state,O.nonce,C,I);return O.state||(O.state=D.state),I&&!O.nonce&&(O.nonce=D.nonce),O},Xn.prototype.generateTransaction=function(O,C,I,D,P){return C=C||eb.randomString(this.keyLength),I=I||(P?eb.randomString(this.keyLength):null),et.getWindow().location.host===this.options.domain||this.storage.setItem(this.namespace+C,{nonce:I,appState:O,state:C,lastUsedConnection:D},{expires:1/48}),{state:C,nonce:I}},Xn.prototype.getStoredTransaction=function(O){var C;return C=this.storage.getItem(this.namespace+O),this.clearTransaction(O),C},Xn.prototype.clearTransaction=function(O){this.storage.removeItem(this.namespace+O)},$n.prototype.init=function(){var O=this,C=et.getWindow();switch(this.iframe=C.document.createElement("iframe"),this.iframe.style.display="none",this.proxyEventListener=function(C){O.eventListener(C)},this.eventListenerType){case"message":this.eventSourceObject=C;break;case"load":this.eventSourceObject=this.iframe;break;default:throw Error("Unsupported event listener type: "+this.eventListenerType)}this.eventSourceObject.addEventListener(this.eventListenerType,this.proxyEventListener,!1),C.document.body.appendChild(this.iframe),this.iframe.src=this.url,this.timeoutHandle=setTimeout(function(){O.timeoutHandler()},this.timeout)},$n.prototype.eventListener=function(O){var C={event:O,sourceObject:this.eventSourceObject};this.eventValidator.isValid(C)&&(this.destroy(),this.callback(C))},$n.prototype.timeoutHandler=function(){this.destroy(),this.timeoutCallback&&this.timeoutCallback()},$n.prototype.destroy=function(){var O=this;clearTimeout(this.timeoutHandle),this._destroyTimeout=setTimeout(function(){O.eventSourceObject.removeEventListener(O.eventListenerType,O.proxyEventListener,!1),O.iframe.parentNode&&O.iframe.parentNode.removeChild(O.iframe)},0)},Gn.prototype.run=function(O,C){var I=this;O.responseMode="web_message",O.prompt="none";var D=et.getOrigin(),P=t9.getOriginFromUrl(O.redirectUri);if(P&&D!==P)return C({error:"origin_mismatch",error_description:"The redirectUri's origin ("+P+") should match the window's origin ("+D+")."});!function(O,C,I){new $n({url:O,eventListenerType:"message",callback:function(O){I(null,O)},timeout:C.timeout,eventValidator:{isValid:function(O){return"authorization_response"===O.event.data.type&&C.state===O.event.data.response.state}},timeoutCallback:function(){I({error:"timeout",error_description:"Timeout during executing web_message communication",state:C.state})}}).init()}(this.webAuth.client.buildAuthorizeUrl(O),O,function(D,P){var j=D;if(!D&&P.event.data.response.error&&(j=P.event.data.response),!j){var N=P.event.data.response;return I.webAuth.validateAuthenticationResponse(O,N,C)}return"consent_required"===j.error&&"localhost"===et.getWindow().location.hostname&&I.warn.warning("Consent Required. Consent can't be skipped on localhost. Read more here: https://auth0.com/docs/api-auth/user-consent#skipping-consent-for-first-party-clients"),I.webAuth.transactionManager.clearTransaction(j.state),C(t9.pick(j,["error","error_description"]))})},Zn.prototype.login=function(O,C){var I=this,D=tL(this.baseOptions.rootUrl,"/co/authenticate");O.username=O.username||O.email,delete O.email;var P={client_id:O.clientID||this.baseOptions.clientID,username:O.username};O.password&&(P.password=O.password),O.otp&&(P.otp=O.otp);var j=O.realm||this.baseOptions.realm;if(j){var N=O.credentialType||this.baseOptions.credentialType||"http://auth0.com/oauth/grant-type/password-realm";P.realm=j,P.credential_type=N}else P.credential_type="password";this.request.post(D).withCredentials().send(P).end(function(D,P){if(D){var j=D.response&&D.response.body||{error:"request_error",error_description:JSON.stringify(D)};return vn(C,{forceLegacyError:!0})(j)}var N=!0===O.popup;O=t9.blacklist(O,["password","credentialType","otp","popup"]);var H=t9.merge(O).with({loginTicket:P.body.login_ticket}),W=Qn(I.baseOptions.rootUrl,P.body.co_id);I.storage.setItem(W,P.body.co_verifier,{expires:1/96}),N?I.webMessageHandler.run(H,vn(C,{forceLegacyError:!0})):I.webAuth.authorize(H)})},Zn.prototype.callback=function(){var O=decodeURIComponent(function(O){var C=("&"+et.getWindow().location.hash.substring(1)).split("&"+O+"=");if(2===C.length)return C.pop().split("&").shift()}("origin")),C=et.getWindow(),I=this;C.addEventListener("message",function(O){if("co_verifier_request"===O.data.type){var C=Qn(O.origin,O.data.request.id),D=function(O,C){try{var I=O.getItem(C);return O.removeItem(C),I||""}catch(O){return""}}(I.storage,C);O.source.postMessage({type:"co_verifier_response",response:{verifier:D}},O.origin)}}),C.parent.postMessage({type:"ready"},O)},ti.prototype.loginWithCredentials=function(O,C){O.realm=O.realm||O.connection,delete O.connection,this.crossOriginAuthentication.login(O,C)},ti.prototype.signupAndLogin=function(O,C){var I=this;return this.webAuth.client.dbConnection.signup(O,function(D){return D?C(D):(O.realm=O.realm||O.connection,delete O.connection,I.webAuth.login(O,C))})};var ew=ne(function(O){var C=function(){function t(O,C,I){O.attachEvent?O.attachEvent("on"+C,I):O.addEventListener&&O.addEventListener(C,I,!1)}function e(O,C,I){O.detachEvent?O.detachEvent("on"+C,I):O.removeEventListener&&O.removeEventListener(C,I,!1)}function n(O){/^https?:\/\//.test(O)||(O=window.location.href);var C=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(O);return C?C[1]:O}var O=function(){if("undefined"==typeof navigator)return!1;var O=-1,C=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName?null!=RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(C)&&(O=parseFloat(RegExp.$1)):C.indexOf("Trident")>-1&&null!==RegExp("rv:([0-9]{2,2}[.0-9]{0,})").exec(C)&&(O=parseFloat(RegExp.$1)),O>=8}();return"undefined"!=typeof window&&window.JSON&&window.JSON.stringify&&window.JSON.parse&&window.postMessage?{open:function(C,I){if(!I)throw"missing required callback argument";C.url||(D="missing required 'url' parameter"),C.relay_url||(D="missing required 'relay_url' parameter"),D&&setTimeout(function(){I(D)},0),C.window_name||(C.window_name=null),C.window_features&&!function(){try{var O=navigator.userAgent;return -1!=O.indexOf("Fennec/")||-1!=O.indexOf("Firefox/")&&-1!=O.indexOf("Android")}catch(O){}return!1}()||(C.window_features=void 0);var D,P,j,N=C.origin||n(C.url);if(N!==n(C.relay_url))return setTimeout(function(){I("invalid arguments: origin of url and relay_url must match")},0);O&&((P=document.createElement("iframe")).setAttribute("src",C.relay_url),P.style.display="none",P.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(P),j=P.contentWindow);var H=C.popup||window.open(C.url,C.window_name,C.window_features);C.popup&&(H.location.href=C.url),j||(j=H);var W=setInterval(function(){H&&H.closed&&(f(),I&&(I("User closed the popup window"),I=null))},500),z=JSON.stringify({a:"request",d:C.params});function f(){if(P&&document.body.removeChild(P),P=void 0,W&&(W=clearInterval(W)),e(window,"message",d),e(window,"unload",f),H)try{H.close()}catch(O){j.postMessage("die",N)}H=j=void 0}function d(O){if(O.origin===N){try{var C=JSON.parse(O.data)}catch(O){if(I)return I(O);throw O}"ready"===C.a?j.postMessage(z,N):"error"===C.a?(f(),I&&(I(C.d),I=null)):"response"===C.a&&(f(),I&&(I(null,C.d),I=null))}}return t(window,"unload",f),t(window,"message",d),{close:f,focus:function(){if(H)try{H.focus()}catch(O){}}}},onOpen:function(C){var I="*",D=O?function(){for(var O=window.opener.frames,C=O.length-1;C>=0;C--)try{if(O[C].location.protocol===window.location.protocol&&O[C].location.host===window.location.host&&"__winchan_relay_frame"===O[C].name)return O[C]}catch(O){}}():window.opener;if(!D)throw"can't find relay frame";function s(C){C=JSON.stringify(C),O?D.doPost(C,I):D.postMessage(C,I)}function a(O){if("die"===O.data)try{window.close()}catch(O){}}t(O?D:window,"message",function t(O){var D;try{D=JSON.parse(O.data)}catch(O){}D&&"request"===D.a&&(e(window,"message",t),I=O.origin,C&&setTimeout(function(){C(I,D.d,function(O){C=void 0,s({a:"response",d:O})})},0))}),t(O?D:window,"message",a);try{s({a:"ready"})}catch(O){t(D,"load",function(O){s({a:"ready"})})}var u=function(){try{e(O?D:window,"message",a)}catch(O){}C&&s({a:"error",d:"client closed window"}),C=void 0;try{window.close()}catch(O){}};return t(window,"unload",u),{detach:function(){e(window,"unload",u)}}}}:{open:function(O,C,I,D){setTimeout(function(){D("unsupported browser")},0)},onOpen:function(O){setTimeout(function(){O("unsupported browser")},0)}}}();O.exports&&(O.exports=C)}),e_={extractOrigin:function(O){/^https?:\/\//.test(O)||(O=window.location.href);var C=/^(https?:\/\/[-_a-zA-Z.0-9:]+)/.exec(O);return C?C[1]:O}};function ii(){this._current_popup=null}function ri(O,C){this.baseOptions=C,this.baseOptions.popupOrigin=C.popupOrigin,this.client=O.client,this.webAuth=O,this.transactionManager=new Xn(this.baseOptions),this.crossOriginAuthentication=new Zn(O,this.baseOptions),this.warn=new ln({disableWarnings:!!C._disableDeprecationWarnings})}function oi(O){this.authenticationUrl=O.authenticationUrl,this.timeout=O.timeout||6e4,this.handler=null,this.postMessageDataType=O.postMessageDataType||!1,this.postMessageOrigin=O.postMessageOrigin||et.getWindow().location.origin||et.getWindow().location.protocol+"//"+et.getWindow().location.hostname+(et.getWindow().location.port?":"+et.getWindow().location.port:"")}function si(O){this.baseOptions=O,this.request=new sn(O),this.transactionManager=new Xn(this.baseOptions)}function ai(O,C){this.baseOptions=C,this.client=O,this.baseOptions.universalLoginPage=!0,this.request=new sn(this.baseOptions),this.warn=new ln({disableWarnings:!!C._disableDeprecationWarnings})}function ui(O){t8.check(O,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},popupOrigin:{optional:!0,type:"string",message:"popupOrigin is not valid"},leeway:{optional:!0,type:"number",message:"leeway is not valid"},plugins:{optional:!0,type:"array",message:"plugins is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"},_timesToRetryFailedRequests:{optional:!0,type:"number",message:"_timesToRetryFailedRequests option is not valid"}}),O.overrides&&t8.check(O.overrides,{type:"object",message:"overrides option is not valid"},{__tenant:{optional:!0,type:"string",message:"__tenant option is required"},__token_issuer:{optional:!0,type:"string",message:"__token_issuer option is required"},__jwks_uri:{optional:!0,type:"string",message:"__jwks_uri is required"}}),this.baseOptions=O,this.baseOptions.plugins=new Kn(this,this.baseOptions.plugins||[]),this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions._timesToRetryFailedRequests=O._timesToRetryFailedRequests?parseInt(O._timesToRetryFailedRequests,0):0,this.baseOptions.tenant=this.baseOptions.overrides&&this.baseOptions.overrides.__tenant||this.baseOptions.domain.split(".")[0],this.baseOptions.token_issuer=this.baseOptions.overrides&&this.baseOptions.overrides.__token_issuer||"https://"+this.baseOptions.domain+"/",this.baseOptions.jwksURI=this.baseOptions.overrides&&this.baseOptions.overrides.__jwks_uri,this.transactionManager=new Xn(this.baseOptions),this.client=new pi(this.baseOptions),this.redirect=new ti(this,this.baseOptions),this.popup=new ri(this,this.baseOptions),this.crossOriginAuthentication=new Zn(this,this.baseOptions),this.webMessageHandler=new Gn(this),this._universalLogin=new ai(this,this.baseOptions),this.ssodataStorage=new gn(this.baseOptions)}function ci(O,C){this.baseOptions=C,this.request=O}function hi(O,C){this.baseOptions=C,this.request=O}function pi(O,C){2==arguments.length?this.auth0=O:C=O,t8.check(C,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=C,this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions.rootUrl="https://"+this.baseOptions.domain,this.request=new sn(this.baseOptions),this.passwordless=new ci(this.request,this.baseOptions),this.dbConnection=new hi(this.request,this.baseOptions),this.warn=new ln({disableWarnings:!!C._disableDeprecationWarnings}),this.ssodataStorage=new gn(this.baseOptions)}function li(O){t8.check(O,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},token:{type:"string",message:"token option is required"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=O,this.baseOptions.headers={Authorization:"Bearer "+this.baseOptions.token},this.request=new sn(this.baseOptions),this.baseOptions.rootUrl=tL("https://"+this.baseOptions.domain,"api","v2")}ii.prototype.calculatePosition=function(O){var C=O.width||500,I=O.height||600,D=et.getWindow(),P=void 0!==D.screenX?D.screenX:D.screenLeft,j=void 0!==D.screenY?D.screenY:D.screenTop,N=void 0!==D.outerWidth?D.outerWidth:D.document.body.clientWidth,H=void 0!==D.outerHeight?D.outerHeight:D.document.body.clientHeight;return{width:C,height:I,left:O.left||P+(N-C)/2,top:O.top||j+(H-I)/2}},ii.prototype.preload=function(O){var C=this,I=et.getWindow(),D=this.calculatePosition(O.popupOptions||{}),P=t9.merge(D).with(O.popupOptions),j=O.url||"about:blank",N=ye(P,{encode:!1,delimiter:","});return this._current_popup&&!this._current_popup.closed||(this._current_popup=I.open(j,"auth0_signup_popup",N),this._current_popup.kill=function(){this.close(),C._current_popup=null}),this._current_popup},ii.prototype.load=function(O,C,I,D){var P=this,j=this.calculatePosition(I.popupOptions||{}),N=t9.merge(j).with(I.popupOptions),H=t9.merge({url:O,relay_url:C,window_features:ye(N,{delimiter:",",encode:!1}),popup:this._current_popup}).with(I),W=ew.open(H,function(O,C){return P._current_popup=null,D(O,C)});return W.focus(),W},ri.prototype.buildPopupHandler=function(){var O=this.baseOptions.plugins.get("popup.getPopupHandler");return O?O.getPopupHandler():new ii},ri.prototype.preload=function(O){O=O||{};var C=this.buildPopupHandler();return C.preload(O),C},ri.prototype.getPopupHandler=function(O,C){return O.popupHandler?O.popupHandler:C?this.preload(O):this.buildPopupHandler()},ri.prototype.callback=function(O){var C=this,I=et.getWindow(),D=(O=O||{}).popupOrigin||this.baseOptions.popupOrigin||et.getOrigin();I.opener?ew.onOpen(function(I,P,j){if(I!==D)return j({error:"origin_mismatch",error_description:"The popup's origin ("+I+") should match the `popupOrigin` parameter ("+D+")."});C.webAuth.parseHash(O||{},function(O,C){return j(O||C)})}):I.doPost=function(O){I.parent&&I.parent.postMessage(O,D)}},ri.prototype.authorize=function(O,C){var I,D,P={},j=this.baseOptions.plugins.get("popup.authorize"),N=t9.merge(this.baseOptions,["clientID","scope","domain","audience","tenant","responseType","redirectUri","_csrf","state","_intstate","nonce"]).with(t9.blacklist(O,["popupHandler"]));return t8.check(N,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),D=tL(this.baseOptions.rootUrl,"relay.html"),O.owp?N.owp=!0:(P.origin=e_.extractOrigin(N.redirectUri),D=N.redirectUri),O.popupOptions&&(P.popupOptions=t9.pick(O.popupOptions,["width","height","top","left"])),j&&(N=j.processParams(N)),(N=this.transactionManager.process(N)).scope=N.scope||"openid profile email",delete N.domain,I=this.client.buildAuthorizeUrl(N),this.getPopupHandler(O).load(I,D,P,vn(C,{keepOriginalCasing:!0}))},ri.prototype.loginWithCredentials=function(O,C){O.realm=O.realm||O.connection,O.popup=!0,O=t9.merge(this.baseOptions,["redirectUri","responseType","state","nonce"]).with(t9.blacklist(O,["popupHandler","connection"])),O=this.transactionManager.process(O),this.crossOriginAuthentication.login(O,C)},ri.prototype.passwordlessVerify=function(O,C){var I=this;return this.client.passwordless.verify(t9.blacklist(O,["popupHandler"]),function(D){if(D)return C(D);O.username=O.phoneNumber||O.email,O.password=O.verificationCode,delete O.email,delete O.phoneNumber,delete O.verificationCode,delete O.type,I.client.loginWithResourceOwner(O,C)})},ri.prototype.signupAndLogin=function(O,C){var I=this;return this.client.dbConnection.signup(O,function(D){if(D)return C(D);I.loginWithCredentials(O,C)})},oi.create=function(O){return new oi(O)},oi.prototype.login=function(O,C){this.handler=new $n({auth0:this.auth0,url:this.authenticationUrl,eventListenerType:O?"message":"load",callback:this.getCallbackHandler(C,O),timeout:this.timeout,eventValidator:this.getEventValidator(),timeoutCallback:function(){C(null,"#error=timeout&error_description=Timeout+during+authentication+renew.")},usePostMessage:O||!1}),this.handler.init()},oi.prototype.getEventValidator=function(){var O=this;return{isValid:function(C){switch(C.event.type){case"message":return C.event.origin===O.postMessageOrigin&&C.event.source===O.handler.iframe.contentWindow&&(!1===O.postMessageDataType||C.event.data.type&&C.event.data.type===O.postMessageDataType);case"load":if("about:"===C.sourceObject.contentWindow.location.protocol)return!1;default:return!0}}}},oi.prototype.getCallbackHandler=function(O,C){return function(I){O(null,C?"object"==c(I.event.data)&&I.event.data.hash?I.event.data.hash:I.event.data:I.sourceObject.contentWindow.location.hash)}},si.prototype.login=function(O,C){var I,D;return I=tL(this.baseOptions.rootUrl,"usernamepassword","login"),O.username=O.username||O.email,O=t9.blacklist(O,["email"]),D=t9.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience"]).with(O),D=this.transactionManager.process(D),D=t9.toSnakeCase(D,["auth0Client"]),this.request.post(I).send(D).end(vn(C))},si.prototype.callback=function(O){var C,I=et.getDocument();(C=I.createElement("div")).innerHTML=O,I.body.appendChild(C).children[0].submit()},ai.prototype.login=function(O,C){if(et.getWindow().location.host!==this.baseOptions.domain)throw Error("This method is meant to be used only inside the Universal Login Page.");var I,D=t9.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience","_csrf","state","_intstate","nonce"]).with(O);return t8.check(D,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(I=new si(this.baseOptions)).login(D,function(O,D){return O?C(O):I.callback(D)})},ai.prototype.signupAndLogin=function(O,C){var I=this;return I.client.client.dbConnection.signup(O,function(D){return D?C(D):I.login(O,C)})},ai.prototype.getSSOData=function(O,C){var I,D="";return"function"==typeof O&&(C=O,O=!1),t8.check(O,{type:"boolean",message:"withActiveDirectories parameter is not valid"}),t8.check(C,{type:"function",message:"cb parameter is not valid"}),O&&(D="?"+ye({ldaps:1,client_id:this.baseOptions.clientID})),I=tL(this.baseOptions.rootUrl,"user","ssodata",D),this.request.get(I,{noHeaders:!0}).withCredentials().end(vn(C))},ui.prototype.parseHash=function(O,C){C||"function"!=typeof O?O=O||{}:(C=O,O={});var I,D,P=et.getWindow(),j=void 0===O.hash?P.location.hash:O.hash;if((I=ge(j=j.replace(/^#?\/?/,""))).hasOwnProperty("error"))return D=ei.buildResponse(I.error,I.error_description),I.state&&(D.state=I.state),C(D);if(!I.hasOwnProperty("access_token")&&!I.hasOwnProperty("id_token")&&!I.hasOwnProperty("refresh_token"))return C(null,null);var N=(this.baseOptions.responseType||O.responseType||"").split(" ");return N.length>0&&-1!==N.indexOf("token")&&!I.hasOwnProperty("access_token")?C(ei.buildResponse("invalid_hash","response_type contains `token`, but the parsed hash does not contain an `access_token` property")):N.length>0&&-1!==N.indexOf("id_token")&&!I.hasOwnProperty("id_token")?C(ei.buildResponse("invalid_hash","response_type contains `id_token`, but the parsed hash does not contain an `id_token` property")):this.validateAuthenticationResponse(O,I,C)},ui.prototype.validateAuthenticationResponse=function(O,C,I){var D=this;O.__enableIdPInitiatedLogin=O.__enableIdPInitiatedLogin||O.__enableImpersonation;var P=C.state,j=this.transactionManager.getStoredTransaction(P),N=O.state||j&&j.state||null,H=N===P;if((P||N||!O.__enableIdPInitiatedLogin)&&!H)return I({error:"invalid_token",errorDescription:"`state` does not match."});var W=O.nonce||j&&j.nonce||null,z=O.state||j&&j.appState||null,h=function(O,P){var N;return O?I(O):(j&&j.lastUsedConnection&&(P&&(N=P.sub),D.ssodataStorage.set(j.lastUsedConnection,N)),I(null,{accessToken:C.access_token||null,idToken:C.id_token||null,idTokenPayload:P||null,appState:z||null,refreshToken:C.refresh_token||null,state:C.state||null,expiresIn:C.expires_in?parseInt(C.expires_in,10):null,tokenType:C.token_type||null,scope:C.scope||null}))};return C.id_token?this.validateToken(C.id_token,W,function(O,I){return O?"invalid_token"!==O.error||"Nonce does not match."===O.errorDescription||"HS256"!==(new Fn).decode(C.id_token).header.alg?h(O):C.access_token?D.client.userInfo(C.access_token,function(O,C){return O?h(O):h(null,C)}):h({error:"invalid_token",description:"The id_token cannot be validated because it was signed with the HS256 algorithm and public clients (like a browser) cant store secrets. Please read the associated doc for possible ways to fix this. Read more: https://auth0.com/docs/errors/libraries/auth0-js/invalid-token#parsing-an-hs256-signed-id-token-without-an-access-token"}):C.access_token&&I.at_hash?(new Fn).validateAccessToken(C.access_token,"RS256",I.at_hash,function(O){return O?h(ei.invalidToken(O.message)):h(null,I)}):h(null,I)}):h(null,null)},ui.prototype.validateToken=function(O,C,I){new Fn({issuer:this.baseOptions.token_issuer,jwksURI:this.baseOptions.jwksURI,audience:this.baseOptions.clientID,leeway:this.baseOptions.leeway||0,__disableExpirationCheck:this.baseOptions.__disableExpirationCheck}).verify(O,C,function(O,C){if(O)return I(ei.invalidToken(O.message));I(null,C)})},ui.prototype.renewAuth=function(O,C){var I=!!O.usePostMessage,D=O.postMessageDataType||!1,P=O.postMessageOrigin||et.getWindow().origin,j=O.timeout,N=this,H=t9.merge(this.baseOptions,["clientID","redirectUri","responseType","scope","audience","_csrf","state","_intstate","nonce"]).with(O);H.responseType=H.responseType||"token",H.responseMode=H.responseMode||"fragment",H=this.transactionManager.process(H),t8.check(H,{type:"object",message:"options parameter is not valid"}),t8.check(C,{type:"function",message:"cb parameter is not valid"}),H.prompt="none",H=t9.blacklist(H,["usePostMessage","tenant","postMessageDataType","postMessageOrigin"]),oi.create({authenticationUrl:this.client.buildAuthorizeUrl(H),postMessageDataType:D,postMessageOrigin:P,timeout:j}).login(I,function(O,I){if("object"==c(I))return C(O,I);N.parseHash({hash:I},C)})},ui.prototype.checkSession=function(O,C){var I=t9.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(O);return"code"===I.responseType?C({error:"error",error_description:"responseType can't be `code`"}):(O.nonce||(I=this.transactionManager.process(I)),I.redirectUri?(t8.check(I,{type:"object",message:"options parameter is not valid"}),t8.check(C,{type:"function",message:"cb parameter is not valid"}),I=t9.blacklist(I,["usePostMessage","tenant","postMessageDataType"]),void this.webMessageHandler.run(I,vn(C,{forceLegacyError:!0,ignoreCasing:!0}))):C({error:"error",error_description:"redirectUri can't be empty"}))},ui.prototype.changePassword=function(O,C){return this.client.dbConnection.changePassword(O,C)},ui.prototype.passwordlessStart=function(O,C){var I=t9.merge(this.baseOptions,["responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(O.authParams);return O.authParams=this.transactionManager.process(I),this.client.passwordless.start(O,C)},ui.prototype.signup=function(O,C){return this.client.dbConnection.signup(O,C)},ui.prototype.authorize=function(O){var C=t9.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(O);t8.check(C,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(C=this.transactionManager.process(C)).scope=C.scope||"openid profile email",et.redirect(this.client.buildAuthorizeUrl(C))},ui.prototype.signupAndAuthorize=function(O,C){var I=this;return this.client.dbConnection.signup(t9.blacklist(O,["popupHandler"]),function(D){if(D)return C(D);O.realm=O.connection,O.username||(O.username=O.email),I.client.login(O,C)})},ui.prototype.login=function(O,C){var I=t9.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(O);I=this.transactionManager.process(I),et.getWindow().location.host===this.baseOptions.domain?(I.connection=I.realm,delete I.realm,this._universalLogin.login(I,C)):this.crossOriginAuthentication.login(I,C)},ui.prototype.passwordlessLogin=function(O,C){var I=t9.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(O);if(I=this.transactionManager.process(I),et.getWindow().location.host===this.baseOptions.domain)this.passwordlessVerify(I,C);else{var D=t9.extend({credentialType:"http://auth0.com/oauth/grant-type/passwordless/otp",realm:I.connection,username:I.email||I.phoneNumber,otp:I.verificationCode},t9.blacklist(I,["connection","email","phoneNumber","verificationCode"]));this.crossOriginAuthentication.login(D,C)}},ui.prototype.crossOriginAuthenticationCallback=function(){this.crossOriginVerification()},ui.prototype.crossOriginVerification=function(){this.crossOriginAuthentication.callback()},ui.prototype.logout=function(O){et.redirect(this.client.buildLogoutUrl(O))},ui.prototype.passwordlessVerify=function(O,C){var I=this,D=t9.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(O);return t8.check(D,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),D=this.transactionManager.process(D),this.client.passwordless.verify(D,function(O){return O?C(O):et.redirect(I.client.passwordless.buildVerifyUrl(D))})},ci.prototype.buildVerifyUrl=function(O){var C,I;return t8.check(O,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(O){return!O.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(O){return!O.phoneNumber}}}),C=t9.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","protocol","nonce"]).with(O),this.baseOptions._sendTelemetry&&(C.auth0Client=this.request.getTelemetryData()),I=ye(C=t9.toSnakeCase(C,["auth0Client"])),tL(this.baseOptions.rootUrl,"passwordless","verify_redirect","?"+I)},ci.prototype.start=function(O,C){var I,D;return t8.check(O,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},send:{type:"string",message:"send option is required",values:["link","code"],value_message:"send is not valid ([link, code])"},phoneNumber:{optional:!0,type:"string",message:"phoneNumber option is required",condition:function(O){return"code"===O.send||!O.email}},email:{optional:!0,type:"string",message:"email option is required",condition:function(O){return"link"===O.send||!O.phoneNumber}},authParams:{optional:!0,type:"object",message:"authParams option is required"}}),t8.check(C,{type:"function",message:"cb parameter is not valid"}),I=tL(this.baseOptions.rootUrl,"passwordless","start"),(D=t9.merge(this.baseOptions,["clientID","responseType","redirectUri","scope"]).with(O)).scope&&(D.authParams=D.authParams||{},D.authParams.scope=D.scope),D.redirectUri&&(D.authParams=D.authParams||{},D.authParams.redirect_uri=D.redirectUri),D.responseType&&(D.authParams=D.authParams||{},D.authParams.response_type=D.responseType),delete D.redirectUri,delete D.responseType,delete D.scope,D=t9.toSnakeCase(D,["auth0Client","authParams"]),this.request.post(I).send(D).end(vn(C))},ci.prototype.verify=function(O,C){var I,D;return t8.check(O,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(O){return!O.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(O){return!O.phoneNumber}}}),t8.check(C,{type:"function",message:"cb parameter is not valid"}),D=t9.pick(O,["connection","verificationCode","phoneNumber","email","auth0Client"]),D=t9.toSnakeCase(D,["auth0Client"]),I=tL(this.baseOptions.rootUrl,"passwordless","verify"),this.request.post(I).send(D).end(vn(C))},hi.prototype.signup=function(O,C){var I,D,P;return t8.check(O,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"},password:{type:"string",message:"password option is required"}}),t8.check(C,{type:"function",message:"cb parameter is not valid"}),I=tL(this.baseOptions.rootUrl,"dbconnections","signup"),P=(D=t9.merge(this.baseOptions,["clientID"]).with(O)).user_metadata||D.userMetadata,D=t9.blacklist(D,["scope","userMetadata","user_metadata"]),D=t9.toSnakeCase(D,["auth0Client"]),P&&(D.user_metadata=P),this.request.post(I).send(D).end(vn(C))},hi.prototype.changePassword=function(O,C){var I,D;return t8.check(O,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"}}),t8.check(C,{type:"function",message:"cb parameter is not valid"}),I=tL(this.baseOptions.rootUrl,"dbconnections","change_password"),D=t9.merge(this.baseOptions,["clientID"]).with(O,["email","connection"]),D=t9.toSnakeCase(D,["auth0Client"]),this.request.post(I).send(D).end(vn(C))},pi.prototype.buildAuthorizeUrl=function(O){var C,I;return t8.check(O,{type:"object",message:"options parameter is not valid"}),C=t9.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience"]).with(O),t8.check(C,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},redirectUri:{optional:!0,type:"string",message:"redirectUri option is required"},responseType:{type:"string",message:"responseType option is required"},nonce:{type:"string",message:"nonce option is required",condition:function(O){return -1===O.responseType.indexOf("code")&&-1!==O.responseType.indexOf("id_token")}},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),this.baseOptions._sendTelemetry&&(C.auth0Client=this.request.getTelemetryData()),C.connection_scope&&t8.isArray(C.connection_scope)&&(C.connection_scope=C.connection_scope.join(",")),C=t9.blacklist(C,["username","popupOptions","domain","tenant","timeout","appState"]),C=t9.toSnakeCase(C,["auth0Client"]),I=ye(C=es.oauthAuthorizeParams(this.warn,C)),tL(this.baseOptions.rootUrl,"authorize","?"+I)},pi.prototype.buildLogoutUrl=function(O){var C,I;return t8.check(O,{optional:!0,type:"object",message:"options parameter is not valid"}),C=t9.merge(this.baseOptions,["clientID"]).with(O||{}),this.baseOptions._sendTelemetry&&(C.auth0Client=this.request.getTelemetryData()),C=t9.toSnakeCase(C,["auth0Client","returnTo"]),I=ye(t9.blacklist(C,["federated"])),O&&void 0!==O.federated&&!1!==O.federated&&"false"!==O.federated&&(I+="&federated"),tL(this.baseOptions.rootUrl,"v2","logout","?"+I)},pi.prototype.loginWithDefaultDirectory=function(O,C){return t8.check(O,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),O.grantType="password",this.oauthToken(O,C)},pi.prototype.login=function(O,C){return t8.check(O,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},realm:{type:"string",message:"realm option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),O.grantType="http://auth0.com/oauth/grant-type/password-realm",this.oauthToken(O,C)},pi.prototype.oauthToken=function(O,C){var I,D;return t8.check(O,{type:"object",message:"options parameter is not valid"}),t8.check(C,{type:"function",message:"cb parameter is not valid"}),I=tL(this.baseOptions.rootUrl,"oauth","token"),D=t9.merge(this.baseOptions,["clientID","scope","audience"]).with(O),t8.check(D,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},grantType:{type:"string",message:"grantType option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),D=t9.toSnakeCase(D,["auth0Client"]),D=es.oauthTokenParams(this.warn,D),this.request.post(I).send(D).end(vn(C))},pi.prototype.loginWithResourceOwner=function(O,C){var I,D;return t8.check(O,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},connection:{type:"string",message:"connection option is required"},scope:{optional:!0,type:"string",message:"scope option is required"}}),t8.check(C,{type:"function",message:"cb parameter is not valid"}),I=tL(this.baseOptions.rootUrl,"oauth","ro"),D=t9.merge(this.baseOptions,["clientID","scope"]).with(O,["username","password","scope","connection","device"]),(D=t9.toSnakeCase(D,["auth0Client"])).grant_type=D.grant_type||"password",this.request.post(I).send(D).end(vn(C))},pi.prototype.getSSOData=function(O,C){if(this.auth0||(this.auth0=new ui(this.baseOptions)),et.getWindow().location.host===this.baseOptions.domain)return this.auth0._universalLogin.getSSOData(O,C);"function"==typeof O&&(C=O),t8.check(C,{type:"function",message:"cb parameter is not valid"});var I=this.baseOptions.clientID,D=this.ssodataStorage.get()||{};this.auth0.checkSession({responseType:"token id_token",scope:"openid profile email",connection:D.lastUsedConnection,timeout:5e3},function(O,P){return O?"login_required"===O.error?C(null,{sso:!1}):("consent_required"===O.error&&(O.error_description="Consent required. When using `getSSOData`, the user has to be authenticated with the following scope: `openid profile email`."),C(O,{sso:!1})):D.lastUsedSub&&D.lastUsedSub!==P.idTokenPayload.sub?C(O,{sso:!1}):C(null,{lastUsedConnection:{name:D.lastUsedConnection},lastUsedUserID:P.idTokenPayload.sub,lastUsedUsername:P.idTokenPayload.email||P.idTokenPayload.name,lastUsedClientID:I,sessionClients:[I],sso:!0})})},pi.prototype.userInfo=function(O,C){var I;return t8.check(O,{type:"string",message:"accessToken parameter is not valid"}),t8.check(C,{type:"function",message:"cb parameter is not valid"}),I=tL(this.baseOptions.rootUrl,"userinfo"),this.request.get(I).set("Authorization","Bearer "+O).end(vn(C,{ignoreCasing:!0}))},pi.prototype.delegation=function(O,C){var I,D;return t8.check(O,{type:"object",message:"options parameter is not valid"},{grant_type:{type:"string",message:"grant_type option is required"}}),t8.check(C,{type:"function",message:"cb parameter is not valid"}),I=tL(this.baseOptions.rootUrl,"delegation"),D=t9.merge(this.baseOptions,["clientID"]).with(O),D=t9.toSnakeCase(D,["auth0Client"]),this.request.post(I).send(D).end(vn(C))},pi.prototype.getUserCountry=function(O){var C;return t8.check(O,{type:"function",message:"cb parameter is not valid"}),C=tL(this.baseOptions.rootUrl,"user","geoloc","country"),this.request.get(C).end(vn(O))},li.prototype.getUser=function(O,C){var I;return t8.check(O,{type:"string",message:"userId parameter is not valid"}),t8.check(C,{type:"function",message:"cb parameter is not valid"}),I=tL(this.baseOptions.rootUrl,"users",O),this.request.get(I).end(vn(C,{ignoreCasing:!0}))},li.prototype.patchUserMetadata=function(O,C,I){var D;return t8.check(O,{type:"string",message:"userId parameter is not valid"}),t8.check(C,{type:"object",message:"userMetadata parameter is not valid"}),t8.check(I,{type:"function",message:"cb parameter is not valid"}),D=tL(this.baseOptions.rootUrl,"users",O),this.request.patch(D).send({user_metadata:C}).end(vn(I,{ignoreCasing:!0}))},li.prototype.linkUser=function(O,C,I){var D;return t8.check(O,{type:"string",message:"userId parameter is not valid"}),t8.check(C,{type:"string",message:"secondaryUserToken parameter is not valid"}),t8.check(I,{type:"function",message:"cb parameter is not valid"}),D=tL(this.baseOptions.rootUrl,"users",O,"identities"),this.request.post(D).send({link_with:C}).end(vn(I,{ignoreCasing:!0}))};var eT={Authentication:pi},ek={getTenantConfiguration:function(O){return{clientId:O&&O.shopperToken?F:Y,connection:"VP-Customers",defaultSite:"Vistaprint",domain:O&&O.shopperToken?"oauth.cimpress.io":X}}};function gi(O){return O?"/":"/auth-callback/"}var eE={create:function(O,C){var I,D=ek.getTenantConfiguration(C);return{developmentMode:!!O,storageTokenKey:"vp-access-token",storageRefreshKey:"vp-refresh-token",storageVerifierKey:"vp-code-verifier",oidc:(I={domain:D.domain,clientID:D.clientId,audience:"https://api.cimpress.io/",redirectUri:window.location.origin+gi(O),responseType:"code",scope:"openid offline_access",leeway:60},"object"===c(O)&&("string"==typeof O.clientID&&(I.clientID=O.clientID,"string"!=typeof O.domain&&(I.domain="cimpress.auth0.com")),"string"==typeof O.redirectUriOrigin&&(I.redirectUri=O.redirectUriOrigin.replace(/\/$/,"")+gi(O)),"string"==typeof O.domain&&(I.domain=O.domain),"string"==typeof O.audience&&(I.audience=O.audience),"string"==typeof O.scope&&(I.scope=O.scope)),I),tokenRefreshInterval:18e5,connection:D.connection,site:D.defaultSite||"Vistaprint",anonymousEndpoint:"https://anon.oauth.cimpress.io/v0/7AeLhPS4Ab7fztoMVAchwX",cimpressAnonymousEndpoint:"https://anon.oauth.cimpress.io/v0/pA8i267E3bgjL8Tomhmrew",signOutUrl:window.location.origin,redirectAfterSignOutCallback:function(){return window.location.origin}}}};function vi(O,C){C=C||{bubbles:!1,cancelable:!1,detail:null};var I=document.createEvent("CustomEvent");return I.initCustomEvent(O,C.bubbles,C.cancelable,C.detail),I}var eO=("undefined"!=typeof window&&"function"!=typeof window.CustomEvent&&(window.CustomEvent=vi),vi);function bi(){this.target=window}function Ti(O,C){this.storage=O,this.options=C}function Ci(O,C,I){if(!C)throw Error("[Session] Error: Storage layer not provided.");if(!O)throw Error("[Session] Error: Anonymous fallback not provided.");if(!I)throw Error("[Session] Error: Options not provided.");this.anon=O,this.storage=C,this.options=I,this.events=new bi,this.storageNotification=new Ti(C,I),this.hasInitialEventBeenPublished=!1,this.bindedEventListenerCallback=this.eventListenerCallback.bind(this)}function Ei(){try{return window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),!0}catch(O){return!1}}function Si(O){window.addEventListener("storage",O)}function Ai(O){window.removeEventListener("storage",O)}bi.prototype.publish=function(O,C){var I=new eO(O,C);this.target.dispatchEvent(I)},bi.prototype.publishUserIdentity=function(O){var C=z.parse(O);this.publish("userIdentity",{detail:{profile:C,accessToken:O,isSignedIn:!0,canonicalId:z.getCanonicalId(C),recentAnonymousIds:z.getRecentAnonymousIds(C),authorizationHeader:"Bearer ".concat(O),authorization:{type:"Bearer",token:O}}})},bi.prototype.publishAnonymousIdentity=function(O){var C=z.parse(O);this.publish("userIdentity",{detail:{profile:C,accessToken:O,isSignedIn:!1,canonicalId:z.getCanonicalId(C),authorizationHeader:"Bearer ".concat(O),authorization:{type:"Bearer",token:O}}})},Ti.prototype.subscribeOnce=function(O,C){this.storageChangedBound=this.storageChanged.bind(this,O,C),this.storage.addStorageChangedInOtherWindowEventListener(this.storageChangedBound)},Ti.prototype.storageChanged=function(O,C,I){if(I.key===this.options.storageTokenKey){var D=function(O){if(!O)return null;try{return JSON.parse(O)}catch(O){return null}}(I.newValue);D&&D.type===O&&(this.storage.removeStorageChangedInOtherWindowEventListener(this.storageChangedBound),C())}},Ci.prototype.init=function(){if(!this.options.enableCrossSiteSso&&!$.getPresumedLoginState()){var O=this.storage.get(this.options.storageTokenKey);return O&&"user"===O.type&&this.storage.delete(this.options.storageTokenKey),this.storage.delete(this.options.storageRefreshKey),$.deleteAuthCookie(),this.anon.init(this)}this.storageNotification.subscribeOnce("anonymous",this.storageChanged.bind(this)),this.checkRefresh(),window.addEventListener("visibilitychange",this.bindedEventListenerCallback)},Ci.prototype.eventListenerCallback=function(){"visible"===document.visibilityState&&this.checkRefresh()},Ci.prototype.refreshPkce=function(O,C,I){var D=new XMLHttpRequest;D.onload=this.refreshTokenCallback.bind(this,D,{clientId:I,domain:C}),D.onerror=this.refreshTokenCallback.bind(this,D,{clientId:I,domain:C}),D.open("POST","https://".concat(C,"/oauth/token")),D.setRequestHeader("Content-Type","application/json"),D.send(JSON.stringify({grant_type:"refresh_token",refresh_token:O,client_id:I}))},Ci.prototype.refreshTokenCallback=function(O,C){if(this.signedOutInOtherWindow)this.signedOutInOtherWindow=null;else{if(200!==O.status)return $.deleteAuthCookie(),$.deleteSessionCookie(),$.deleteConfigCookie(),this.storage.delete(this.options.storageRefreshKey),this.options.requireSession&&$.getSessionCookie()&&Q.closeSession(),this.cleanUp();var I=JSON.parse(O.response);this.options.requireSession&&$.getSessionCookie()&&Q.updateSession(I.access_token),this.storage.set(this.options.storageTokenKey,"user",I.access_token),this.storage.set(this.options.storageRefreshKey,"user",I.refresh_token),$.setAuthCookie(I.refresh_token),$.setConfigCookie(C.clientId,C.domain),$.setPresumedLoginState(),this.events.publishUserIdentity(I.access_token),this.schedule()}},Ci.prototype.schedule=function(O){D&&clearTimeout(D);var C=O||this.options.tokenRefreshInterval;D=setTimeout(this.checkRefresh.bind(this),C)},Ci.prototype.checkRefresh=function(){if(this.signedOutInOtherWindow)this.signedOutInOtherWindow=null;else{var O=this.storage.get(this.options.storageTokenKey),C=this.storage.get(this.options.storageRefreshKey),I=$.getAuthCookie()||C&&C.value;if(I){var D=this.options.oidc.domain,P=this.options.oidc.clientID,j=$.getConfigCookie();if(j?(P=j.clientId,D=j.domain):P===F&&(P=Y,D=X),O&&"anonymous"!==O.type){var N=Date.now()-O.timestamp;z.isValidToken(O.value)?(this.hasInitialEventBeenPublished||(this.events.publishUserIdentity(O.value),this.hasInitialEventBeenPublished=!0),this.schedule(this.options.tokenRefreshInterval-N>0?this.options.tokenRefreshInterval-N:this.options.tokenRefreshInterval)):this.refreshPkce(I,D,P)}else this.refreshPkce(I,D,P)}else this.cleanUp()}},Ci.prototype.cleanUp=function(){return this.sessionEnded=!0,this.hasInitialEventBeenPublished=!1,$.deletePresumedLoginState(),window.removeEventListener("visibilitychange",this.bindedEventListenerCallback),this.anon.init(this)},Ci.prototype.storageChanged=function(){this.sessionEnded?this.sessionEnded=null:(this.signedOutInOtherWindow=!0,this.hasInitialEventBeenPublished=!1,window.removeEventListener("visibilitychange",this.bindedEventListenerCallback),this.anon.init(this))};var eS={getStorage:function(){return Ei()?{getItem:window.localStorage.getItem.bind(window.localStorage),setItem:window.localStorage.setItem.bind(window.localStorage),removeItem:window.localStorage.removeItem.bind(window.localStorage),addStorageChangedInOtherWindowEventListener:Si,removeStorageChangedInOtherWindowEventListener:Ai}:null},isAvailable:Ei};function Ri(){this.storage={}}function xi(){!0===eS.isAvailable()?this.storage=eS.getStorage():this.storage=new Ri}function ji(O,C){if(!O)throw Error("[AnonymousSession] Error: Storage layer not provided.");if(!C)throw Error("[AnonymousSession] Error: Options not provided.");this.storage=O,this.options=C,this.cookies=$,this.events=new bi,this.auth0AnonKey=C.anonymousEndpoint.split("/").pop(),this.cimpressAnonKey=C.cimpressAnonymousEndpoint.split("/").pop(),this.hasInitialEventBeenPublished=!1,this.storageNotification=new Ti(O,C)}Ri.prototype.getItem=function(O){return this.storage[O]},Ri.prototype.setItem=function(O,C){this.storage[O]=C},Ri.prototype.removeItem=function(O){this.storage[O]=void 0},Ri.prototype.addStorageChangedInOtherWindowEventListener=function(){},Ri.prototype.removeStorageChangedInOtherWindowEventListener=function(){},xi.prototype.set=function(O,C,I,D){if("string"!=typeof I)throw Error("[Storage.prototype.set] Error: Value must be of type 'string'.");var P=JSON.stringify({type:C,value:I,timestamp:Date.now(),data:D});this.storage.setItem(O,P)},xi.prototype.get=function(O){var C=this.storage.getItem(O);if(!C)return null;try{return JSON.parse(C)}catch(C){return this.storage.removeItem(O),null}},xi.prototype.delete=function(O){this.storage.removeItem(O)},xi.prototype.addStorageChangedInOtherWindowEventListener=function(O){this.storage.addStorageChangedInOtherWindowEventListener(O)},xi.prototype.removeStorageChangedInOtherWindowEventListener=function(O){this.storage.removeStorageChangedInOtherWindowEventListener(O)},ji.prototype.init=function(O){this.session=O,this.storageNotification.subscribeOnce("user",this.storageChanged.bind(this)),this.checkRefresh()},ji.prototype.checkRefresh=function(){if(this.signedInOtherWindow)this.signedInOtherWindow=null;else{var O=this.storage.get(this.options.storageTokenKey),C=this.cookies.getAnonymousIdentityState();if(C){if(O){var I=Date.now()-O.timestamp;z.isValidToken(O.value)?I>this.options.tokenRefreshInterval?this.validateAnonymousIdentity(C,O):(this.hasInitialEventBeenPublished||(this.events.publishAnonymousIdentity(O.value),this.hasInitialEventBeenPublished=!0),this.schedule(this.options.tokenRefreshInterval-I)):this.refreshAnonymousIdentity(C)}else this.refreshAnonymousIdentity(C)}else this.createAnonymousIdentity()}},ji.prototype.createAnonymousIdentity=function(){var O=new XMLHttpRequest;O.onload=this.createAnonymousIdentityCallback.bind(this,O),O.onerror=this.createAnonymousIdentityCallback.bind(this,O);var C=this.options.anonymousEndpoint;this.options.overrides&&this.options.overrides.anonToken&&(C=this.options.cimpressAnonymousEndpoint),O.open("POST",C+"/token"),O.send()},ji.prototype.refreshAnonymousIdentity=function(O){var C=new XMLHttpRequest;C.onload=this.refreshAnonymousIdentityCallback.bind(this,C,O),C.onerror=this.refreshAnonymousIdentityCallback.bind(this,C,O);var I=O.anonKey===this.cimpressAnonKey?this.options.cimpressAnonymousEndpoint:this.options.anonymousEndpoint;C.open("POST",I+"/identities/"+O.id+"/token"),C.setRequestHeader("Content-Type","application/json"),C.send(JSON.stringify({validationKey:O.nonce}))},ji.prototype.validateAnonymousIdentity=function(O,C){var I=new XMLHttpRequest;I.onload=this.validateAnonymousIdentityCallback.bind(this,I,C),I.onerror=this.validateAnonymousIdentityCallback.bind(this,I,C);var D=O.anonKey===this.cimpressAnonKey?this.options.cimpressAnonymousEndpoint:this.options.anonymousEndpoint;I.open("POST",D+"/identities/"+O.id+"/validate"),I.setRequestHeader("Content-Type","application/json"),I.send(JSON.stringify({validationKey:O.nonce}))},ji.prototype.createAnonymousIdentityCallback=function(O){201===O.status?this.processTokenResponse(O.response,this.options.overrides&&this.options.overrides.anonToken?this.cimpressAnonKey:this.auth0AnonKey):(console.log("Unable to create token from Cimpress anon service. Status:"+O.status),[408,429,500,502,503,504,522,524].includes(O.status)&&this.scheduleCreateAnonymousIdentity())},ji.prototype.refreshAnonymousIdentityCallback=function(O,C){if(200!==O.status)return console.log("Unable to refresh token from Cimpress anon service. Status:"+O.status),void this.schedule();this.processTokenResponse(O.response,C.anonKey||this.auth0AnonKey)},ji.prototype.validateAnonymousIdentityCallback=function(O,C){204!==O.status?console.log("Unable to validate anonymous identity from Cimpress anon service. Status:"+O.status):this.events.publishAnonymousIdentity(C.value),this.schedule()},ji.prototype.processTokenResponse=function(O,C){if(this.signedInOtherWindow)this.signedInOtherWindow=null;else{var I=JSON.parse(O),D={id:I.anonymousId,nonce:I.validationKey,value:I.anonymousToken};this.storage.set(this.options.storageTokenKey,"anonymous",D.value),this.cookies.setAnonymousIdentityState(D.id,D.nonce,C),this.schedule(),this.events.publishAnonymousIdentity(D.value)}},ji.prototype.schedule=function(O){P&&clearTimeout(P);var C=O||this.options.tokenRefreshInterval;P=setTimeout(this.checkRefresh.bind(this),C)},ji.prototype.scheduleCreateAnonymousIdentity=function(){setTimeout(this.createAnonymousIdentity.bind(this),3e4)},ji.prototype.storageChanged=function(){this.signedInOtherWindow=!0,this.hasInitialEventBeenPublished=!1,this.session.init()};var eC={getFragments:function(){return window.location.hash||window.location.search?(window.location.search&&(-1!==window.location.search.indexOf("code=")||-1!==window.location.search.indexOf("raso="))?window.location.search:window.location.hash).substring(1).split("&").reduce(function(O,C){var I=C.split("=");return O[I[0]]=I[1],O},{}):{}}},Mi=function(O){try{return JSON.parse(atob(decodeURIComponent(O)))}catch(C){return{redirectUrl:O}}};function Ni(O,C,I,D){var P=eC.getFragments();$.setPresumedLoginState(),$.getAnonymousIdentityState()&&$.deleteAnonymousIdentityState(),I?(C.set(O.storageTokenKey,"user",I.accessToken),C.set(O.storageRefreshKey,"user",I.refreshToken),$.setAuthCookie(I.refreshToken),$.setConfigCookie(D.clientId,D.domain)):C.set(O.storageTokenKey,"user",P.access_token)}function Hi(O){console.error("[callback] Debug:redirectURL "+O),window.location=decodeURIComponent(O)}function zi(O){return!!O.match(/^[a-zA-Z]{2,3}$/)}function Wi(O){return!!O.match(/^[a-zA-Z]{2}$/)||!!O.match(/^[0-9]{3}$/)}function Vi(O){if(!O)return!1;var C=O.split("-");return 2===C.length?zi(C[0])&&Wi(C[1]):3===C.length&&zi(C[0])&&!!C[1].match(/^[a-zA-Z]{4}$/)&&Wi(C[2])}var eI={isCultureCodeValid:Vi,convertToConvention:function(O){if(!Vi(O))return O;var C=O.split("-");return 2===C.length?[C[0].toLowerCase(),C[1].toUpperCase()].join("-"):3===C.length?[C[0].toLowerCase(),C[1].charAt(0).toUpperCase()+C[1].slice(1).toLowerCase(),C[2].toUpperCase()].join("-"):void 0}};function Ki(O,C,I,D){var P={anonToken:!1,shopperToken:!1};if(200===O.status){var j=JSON.parse(O.response);j&&(j.anonToken&&j.anonToken.includes(window.location.hostname)&&(P.anonToken=!0),j.shopperToken&&j.shopperToken.includes(window.location.hostname)&&(P.shopperToken=!0))}Ji(C,I,P,D)}function Ji(O,C,I,D){P=function(O,C){if(!O)throw Error("[@vp/auth#init] Configuration must be provided.");if(!eI.isCultureCodeValid(O.culture))throw Error("[@vp/auth#init] Configuration must contain a valid culture code.");if(O.options=O.options||{},null!=O.options.redirectAfterSignOutCallback&&!(O.options.redirectAfterSignOutCallback instanceof Function))throw Error("[@vp/auth#init] redirectAfterSignOutCallback must be a function.");O.options.culture=eI.convertToConvention(O.culture),O.options.enableCrossSiteSso=!!O.enableCrossSiteSso,O.developmentMode=O.developmentMode||!1;var I,D,P=(I=eE.create(O.developmentMode,C),D=O.options,"function"==typeof Object.assign?Object.assign({},I,D):[I,D].reduce(function(O,C){return null==C||Object.keys(C).forEach(function(I){O[I]=C[I]}),O},{}));return O.options.clientID&&(P.oidc.clientID=O.options.clientID,O.developmentMode&&O.developmentMode.domain||(P.oidc.domain="cimpress.auth0.com")),P.overrides=C,P}(O,I),j=new xi,O.developmentMode&&function(O,C,I){var D=eC.getFragments();if(I.developmentMode&&D.raso&&Hi(D.raso),window.location.origin+window.location.pathname===I.oidc.redirectUri){if(window.location.search){if(D.code&&D.state){var P=C.get(I.storageVerifierKey),j=Mi(D.state),N=j.requireSession,H=j.clientId||I.oidc.clientID,W=j.domain||I.oidc.domain;O.oauthToken({grantType:"authorization_code",clientId:H,codeVerifier:P.value,code:D.code,redirect_uri:j.redirectUrl},function(O,D){O?console.error(O):(Ni(I,C,D,{clientId:H,domain:W}),N&&D?Q.createSession(j,I,D):Hi(j.redirectUrl))})}}else window.location.hash&&(D.access_token&&Ni(I,C),D.state&&Hi(Mi(D.state).redirectUrl))}}(new eT.Authentication({domain:P.oidc.domain,clientID:P.oidc.clientID,audience:P.oidc.audience,scope:"openid offline_access"}),j,P),N=new ji(j,P),H=new Ci(N,j,P),W.setDeps({options:P,storage:j,anon:N,session:H}),window.addEventListener("userIdentity",function(O){W.setCache(O.detail)}),$i(C);var P,j,N,H,z=W.getDeps();z.session&&z.session.init(),D&&D.askUserToLogin&&(new Gt).signIn([],[],{})}function $i(O){"function"==typeof O&&(W.isCacheInitialized()?O(W.getCache()):window.addEventListener("userIdentity",function e(C){window.removeEventListener("userIdentity",e,!1),O(C.detail)}))}console.log("@vp/auth:6.1.136");var eA={WebAuth:Gt,init:function(O,C){W.isDepsInitialized()?$i(C):function(O,C){var I;if(window.location.search&&(I=window.location.search.substring(1).split("&").reduce(function(O,C){var I=C.split("=");return O[I[0]]=I[1],O},{})),I&&(I.overrides||I.code&&I.state)){var D={anonToken:!1,shopperToken:!1};I.overrides?D={anonToken:!0,shopperToken:!0}:I.code&&I.state&&Mi(I.state).clientId===F&&(D={anonToken:!0,shopperToken:!0}),Ji(O,C,D,I)}else{var P=new XMLHttpRequest;P.onload=Ki.bind(this,P,O,C,I),P.onerror=Ki.bind(this,P,O,C,I),P.open("GET","https://oauth.cimpress.io/overrides.json"),P.send(null)}}(O,C)}},eU=eA.WebAuth,eR=eA.init;C.WebAuth=eU,C.default=eA,C.init=eR}}]);com,SoXFw,CHpEc,%EC%A7%84%ED%96%89%20%EC%A4%91...,Yap%C4%B1lan%20denetim%20beklenenden%20uzun%20s%C3%BCr%C3%BCyor.%20%C4%B0nternet%20ba%C4%9Flant%C4%B1n%C4%B1z%C4%B1%20kontrol%20edin%20ve%20sorun%20devam%20ederse%20sayfay%C4%B1%20yenileyin.,mBRUr,JiCpz,DLwwC,sPWeI,Melanjutkan%20ke%20laman%20sebenarnya...,parent,Verificando...,FnyrI,render,URL: ,dTGFl,DaH%20nuvpu\\'%20qeylIS%20je%2C%20qeylIS%20je,yHep2,YGgWp,stringify,Ce%20d%C3%A9fi%20doit%20%C3%AAtre%20int%C3%A9gr%C3%A9%20%C3%A0%20une%20page%20parent.,%3Cb%3EreH%20HIvjaj%20nge\\'!%3C%2Fb%3E%3Cbr%2F%3EloDnI\\'pu\\'%20DaQoyDI\\'.%20%3Ca%20target%3D%22_blank%22%20rel%3D%22noopener%20noreferrer%22%20href%3D%22https%3A%2F%2Fdevelopers.cloudflare.com%2Ffundamentals%2Fget-started%2Fconcepts%2Fcloudflare-challenges%2F%23browser-support%22%3E\\'e\\'%20yIchav.%3C%2Fa%3E,wlhll,zh-tw,zpEth,peghbogh%20ghaH%20peghbogh%20\\'oH%20pongwIj\\'e\\',mKKqp,catch,footer_text,%3Cb%3EVotre%20Navigateur%20est%20obsol%C3%A8te%C2%A0!%3C%2Fb%3E%3Cbr%2F%3EMettez%20%C3%A0%20jour%20votre%20navigateur%20pour%20afficher%20ce%20site%20web%20correctement.%20%3Ca%20target%3D%22_blank%22%20rel%3D%22noopener%20noreferrer%22%20href%3D%22https%3A%2F%2Fdevelopers.cloudflare.com%2Ffundamentals%2Fget-started%2Fconcepts%2Fcloudflare-challenges%2F%23browser-support%22%3EPlus%20d%E2%80%99informations.%3C%2Fa%3E,LdAXI,classList,aFbEu,example.com%20%EC%95%84%EC%9D%B4%EC%BD%98,gsnTh,1x00000000000000000000AA,https%3A%2F%2Fwww.cloudflare.com%2Fes-es%2Fprivacypolicy%2F,turnstile_failure,dXZys,Dieser%20Browser%20wird%20nicht%20unterst%C3%BCtzt,d.cookie,Domaine%20non%20valide.%20Contactez%20l%E2%80%99administrateur%20du%20site%20si%20le%20probl%C3%A8me%20persiste.,fghvZ,https%3A%2F%2Fwww.cloudflare.com%2Fzh-cn%2Fwebsite-terms%2F,xWKds,%EC%9D%B4%20%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80%EB%8A%94%20%EC%A7%80%EC%9B%90%EB%90%98%EC%A7%80%20%EC%95%8A%EC%8A%B5%EB%8B%88%EB%8B%A4,cTplB,Cloudflare,Properti%20web%20yang%20hendak%20diunduh%20tidak%20dapat%20diakses%20melalui%20alamat%20ini.,cursor,spinner-redirecting,DtWkZ,4OKRxGU,%D0%A2%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE%20%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5.,NqqwQ,zjZcP,Verifikasi%20gagal!,qfCRm,VsOfJ,OYICI,1|4|3|2|0,RHtOx,%D8%A7%DB%8C%D9%86%20%D9%88%DB%8C%DA%98%DA%AF%DB%8C%20%D9%88%D8%A8%20%D8%A7%D8%B2%D8%B7%D8%B1%DB%8C%D9%82%20%D8%A7%DB%8C%D9%86%20%D9%86%D8%B4%D8%A7%D9%86%DB%8C%20%D9%82%D8%A7%D8%A8%D9%84%E2%80%8C%D8%AF%D8%B3%D8%AA%D8%B1%D8%B3%20%D9%86%DB%8C%D8%B3%D8%AA.,toString,passive,eqSrI,RtWwn,A%20conex%C3%A3o%20%C3%A9%20segura,ARoSC,AHqEK,Ray ID: <code>,Active%20JavaScript%20y%20cookies%20para%20continuar,qGMch,XMLHttpRequest,NAXgd,%EC%8B%A4%ED%8C%A8!,XoJzU,getResponseHeader,Este%20desaf%C3%ADo%20debe%20incrustarse%20en%20una%20p%C3%A1gina%20principal.,%D0%9E%D0%B1%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C,YAeDE,TJjBu,QdRcP,La%20conexi%C3%B3n%20es%20segura,self,xCPTz,example.com%20%E7%9A%84%E5%9C%96%E7%A4%BA,cFPWv,puneX,%D9%85%D9%88%D9%81%D9%82%20%D9%86%D8%A8%D9%88%D8%AF!,chlApiAppareance,iwKwK4,chlApiUrl,Memeriksa%20apakah%20koneksi%20ke%20situs%20aman,cBfPb,yFTYY,footer-text,Connection%20is%20secure,QaNrF,NpnRs,ZeLLe,GImjN7,%D0%9F%D1%96%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%BD%D1%8F%20%D0%B1%D0%B5%D0%B7%D0%BF%D0%B5%D1%87%D0%BD%D0%B5,UBUCL,vYcgK,dSbEv,challenge-stage,%3Cb%3EYour%20browser%20is%20out%20of%20date!%3C%2Fb%3E%3Cbr%2F%3EUpdate%20your%20browser%20to%20view%20this%20website%20correctly.%20%3Ca%20target%3D%22_blank%22%20rel%3D%22noopener%20noreferrer%22%20href%3D%22https%3A%2F%2Fdevelopers.cloudflare.com%2Ffundamentals%2Fget-started%2Fconcepts%2Fcloudflare-challenges%2F%23browser-support%22%3EMore%20Information.%3C%2Fa%3E,HJQNZ,CXaqO,WSMBY,requestTurnstileResults,%D0%97%D0%BD%D0%B0%D1%87%D0%BE%D0%BA%20%D0%B4%D0%BB%D1%8F%20example.com,overrun-warning,content,rcV,THFNo,oOStE,nextSibling,NqHpi,BScXr,lukRf,ONEcU,Auf%20diese%20Website%20kann%20%C3%BCber%20diese%20Adresse%20nicht%20zugegriffen%20werden.,%E5%A4%B1%E6%95%97%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F!,err,%3Cb%3EBrowser%20Anda%20telah%20kedaluwarsa!%3C%2Fb%3E%3Cbr%2F%3EPerbarui%20browser%20untuk%20melihat%20situs%20web%20secara%20baik.%20%3Ca%20target%3D%22_blank%22%20rel%3D%22noopener%20noreferrer%22%20href%3D%22https%3A%2F%2Fdevelopers.cloudflare.com%2Ffundamentals%2Fget-started%2Fconcepts%2Fcloudflare-challenges%2F%23browser-support%22%3EInformasi%20lebih%20lanjut.%3C%2Fa%3E,JtTwh,example.com%20%E9%9C%80%E8%A6%81%E5%9C%A8%E7%B9%BC%E7%BA%8C%E4%B9%8B%E5%89%8D%E6%AA%A2%E9%96%B1%E6%82%A8%E7%9A%84%E9%80%A3%E7%B7%9A%E5%AE%89%E5%85%A8%E6%80%A7%E3%80%82,Failure!,Verifiziere...,Success!,GewKX,PoXEc,%EC%9E%A0%EC%8B%9C%EB%A7%8C%20%EA%B8%B0%EB%8B%A4%EB%A6%AC%EC%8B%AD%EC%8B%9C%EC%98%A4%E2%80%A6,NtFCC,2x00000000000000000000AB,https%3A%2F%2Fwww.cloudflare.com%2Fja-jp%2Fwebsite-terms%2F,fNwAG,teAWM,AYaht,DdCbb,UOGWl,ffByP,cTTimeMs,dcVpA,fromCharCode,TBnpf,favicon_alt,epfaN,execute,timeout,%EA%B0%9C%EC%9D%B8%20%EC%A0%95%EB%B3%B4,slice,rxwAK,readyState,jdc,chlTimeoutMs,LaWEv,Checking%20if%20the%20site%20connection%20is%20secure,omIhO,chlApiRetryInterval,click,cqVVs,ULAFy,font-red,Aktualisieren,%E5%A4%B1%E6%95%97!,kbocV,FYFKI,IBxRZ,EVNaK,Questa%20propriet%C3%A0%20Web%20non%20%C3%A8%20accessibile%20tramite%20questo%20indirizzo.,wdGcB,ctp-label,Warunki,ctp-checkbox-label,YuGHg,ZcDQW".split(','),a=function(){return lE},a()}function ho(c,d,kG){if(kG=ia,!c)return;c[kG(1348)][kG(2306)](d,c[kG(2004)])}function i0(ls,c){ls=ia,c={'oIbXW':function(d,e){return d(e)}},c[ls(2419)](hS,ls(1867))}function g9(d,f,g,j8,h,m,i){h=(j8=ia,{'DpNQt':function(j,l){return j(l)},'EasuY':j8(1913),'VsOfJ':j8(2272)});try{return f[g][h[j8(2287)]](function(){}),'p'}catch(j){}try{if(j8(569)!==j8(621)){if(f[g]==null)return f[g]===void 0?'u':'x'}else return m=new k()[j8(1461)](l),m[j8(1661)][j8(1840)](j8(2199),m)[j8(762)](function(C,j9){return j9=j8,m[j9(1325)](new x(C))[j9(1874)](D=>D[j9(1949)](16)[j9(873)](2,'0'))[j9(684)]('')})[j8(1913)](function(ja){return ja=j8,h[ja(1179)](m,x(B))})}catch(m){return'i'}return d[j8(1185)][j8(2256)](f[g])?'a':f[g]===d[j8(1185)]?'q0':(i=typeof f[g],h[j8(1944)]==i?g8(d,f[g])?'N':'f':g7[i]||'?')}function g4(c,iV,e,g){return iV=ia,e={'cAcku':function(h,i){return h(i)}},g=new TextEncoder()[iV(1461)](c),crypto[iV(1661)][iV(1840)](iV(2199),g)[iV(762)](function(h,iW){return iW=iV,Array[iW(1325)](new Uint8Array(h))[iW(1874)](i=>i[iW(1949)](16)[iW(873)](2,'0'))[iW(684)]('')})[iV(1913)](function(iX){return iX=iV,e[iX(2420)](g2,g3(c))})}function b(c,d,e){return e=a(),b=function(f,g,h){return f=f-469,h=e[f],h},b(c,d)}function fK(h,iu,i,j,k,l,m,n,o){iu=ia,i={},i[iu(1302)]=function(s,u){return u^s},i[iu(1698)]=function(s,u){return u&s},i[iu(1276)]=function(s,u){return s-u},i[iu(788)]=function(s,u){return s^u},i[iu(713)]=function(s,u){return s+u},i[iu(855)]=function(s,u){return s-u},i[iu(1630)]=function(s,u){return s^u},i[iu(2172)]=function(s,u){return s+u},i[iu(2222)]=function(s,u){return u^s},i[iu(1148)]=function(s,u){return s^u},i[iu(2195)]=function(s,u){return s===u},i[iu(1310)]=function(s,u){return s^u},i[iu(970)]=function(s,u){return s^u},i[iu(1441)]=function(s,u){return s^u},i[iu(1991)]=function(s,u){return u===s},i[iu(1260)]=function(s,u){return s%u},i[iu(2411)]=function(s,u){return s^u},i[iu(829)]=function(s,u){return u===s},i[iu(527)]=function(s,u){return s^u},i[iu(928)]=function(s,u){return s^u},i[iu(747)]=function(s,u){return u^s},i[iu(1937)]=function(s,u){return u^s},i[iu(1054)]=function(s,u){return s^u},i[iu(1891)]=function(s,u){return u^s},i[iu(1834)]=function(s,u){return u^s},i[iu(1210)]=function(s,u){return s<<u},i[iu(2167)]=function(s,u){return u^s},i[iu(2207)]=function(s,u){return u==s},i[iu(1269)]=function(s,u){return u===s},i[iu(647)]=function(s,u){return u^s},i[iu(1550)]=function(s,u){return u===s},i[iu(500)]=function(s,u){return s^u},i[iu(1318)]=function(s,u){return u^s},i[iu(1094)]=function(s,u){return s^u},i[iu(1827)]=function(s,u){return s^u},i[iu(1600)]=function(s,u){return s^u},j=i,k=j[iu(1302)](this.h[this.g^109][3],56+this.h[109.03^this.g][1][iu(1460)](this.h[this.g^109.47][0]++)&255),l=this.h[109^this.g][3]^j[iu(1698)](j[iu(1276)](this.h[this.g^109][1][iu(1460)](this.h[109^this.g][0]++),200)+256,255),m=this.h[j[iu(788)](109,this.g)][3]^j[iu(713)](j[iu(855)](this.h[this.g^109.82][1][iu(1460)](this.h[j[iu(1630)](109,this.g)][0]++),200),256)&255.86,n=-1,o=0,h===122?(n=151.23^k,o=j[iu(2172)](this.h[l^110.97^this.g],this.h[j[iu(2222)](j[iu(1148)](m,15),this.g)])):j[iu(2195)](179,h)?(n=j[iu(1310)](k,149),o=j[iu(1276)](this.h[this.g^(224.1^l)],this.h[this.g^(54.47^m)])):23===h?(n=j[iu(970)](k,109),o=this.h[j[iu(1441)](214.25^l,this.g)]*this.h[this.g^(26^m)]):j[iu(1991)](62,h)?(n=10.43^k,o=this.h[74.68^l^this.g]/this.h[m^99.31^this.g]):j[iu(2195)](244,h)?(n=k^135,o=j[iu(1260)](this.h[j[iu(1302)](171.72^l,this.g)],this.h[j[iu(1441)](m^241,this.g)])):j[iu(2195)](10,h)?(n=j[iu(1441)](k,196),h=this.h[j[iu(2411)](192.87^m,this.g)],o=this.h[j[iu(1302)](j[iu(1302)](l,49),this.g)]&&h):j[iu(829)](99,h)?(n=111.59^k,h=this.h[j[iu(527)](m,144)^this.g],o=this.h[j[iu(928)](j[iu(1441)](l,210),this.g)]||h):33===h?(n=154^k,o=this.h[this.g^(l^167.22)]&this.h[j[iu(747)](m,104)^this.g]):h===182?(n=j[iu(1310)](k,37),o=this.h[j[iu(1937)](l,28)^this.g]|this.h[j[iu(527)](m,210)^this.g]):152===h?(n=j[iu(1054)](k,8),o=j[iu(1891)](this.h[j[iu(1834)](j[iu(747)](l,88),this.g)],this.h[this.g^(228.23^m)])):h===102?(n=k^97.14,o=j[iu(1210)](this.h[j[iu(1834)](j[iu(1148)](l,105),this.g)],this.h[j[iu(1310)](146.76^m,this.g)])):j[iu(1991)](69,h)?(n=203^k,o=this.h[this.g^(133.54^l)]>>this.h[j[iu(747)](186^m,this.g)]):j[iu(1991)](104,h)?(n=j[iu(1834)](k,92),o=this.h[j[iu(970)](152^l,this.g)]>>>this.h[j[iu(2167)](j[iu(1302)](m,93),this.g)]):j[iu(2195)](20,h)?(n=178.51^k,o=j[iu(2207)](this.h[this.g^(l^200)],this.h[this.g^(90.12^m)])):j[iu(1269)](189,h)?(n=j[iu(1054)](k,193),o=this.h[j[iu(1302)](l^39.22,this.g)]===this.h[j[iu(647)](m^7.29,this.g)]):j[iu(1550)](79,h)?(n=241.4^k,o=this.h[j[iu(1054)](l,175)^this.g]>this.h[j[iu(500)](m^113.07,this.g)]):50===h?(n=j[iu(1318)](k,123),o=this.h[j[iu(2411)](j[iu(500)](l,120),this.g)]>=this.h[this.g^(m^153)]):h===19&&(n=j[iu(1094)](k,145),o=this.h[j[iu(1827)](j[iu(1600)](l,90),this.g)]instanceof this.h[201.63^m^this.g]),this.h[n^this.g]=o}function hI(l6,d,e,g){(l6=ia,d={},d[l6(860)]=l6(2399),d[l6(2182)]=l6(1126),d[l6(2233)]=l6(477),e=d,!fw[l6(1343)]&&fw[l6(1896)])&&(l6(1126)===e[l6(2182)]?fw[l6(1896)][l6(2210)]({'source':l6(494),'widgetId':fw[l6(1060)][l6(945)],'event':e[l6(2233)]},'*'):j[l6(1896)][l6(2210)]&&(g={},g[l6(854)]=l6(494),g[l6(1411)]=v[l6(1060)][l6(945)],g[l6(2001)]=w[l6(1060)][l6(1658)],g[l6(2239)]=e[l6(860)],g[l6(1307)]=x[l6(1060)][l6(1296)],g[l6(1768)]=B[l6(1060)][l6(1134)],g[l6(550)]=C,u[l6(1896)][l6(2210)](g,'*')))}}()