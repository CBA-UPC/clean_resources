"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[170],{97739:18002:82354:function(e,t,n){n.d(t,{i9:function(){return C},ZP:function(){return AnnounceWorkspaceOnboarding},zi:function(){return useQualifiesForOnboardingAnnouncement}});var a=n(52322),r=n(2784),l=n(97739),s=n(8583),i=n(51830),o=n(73235),c=n(66547),d=n(40230),u=n(26806);function _templateObject(){let e=(0,o._)(["\n    mutation CreateStarterProject($data: StarterProjectCreateInput!) {\n  createStarterProject(data: $data) {\n    ...Project\n  }\n}\n    ",""]);return _templateObject=function(){return e},e}let m=(0,c.ZP)(_templateObject(),d.q);var p=n(65877),h=n(84038),x=n(86414),v=n(83122),f=n(45152),b=n(69260),g=n(96577),y=n.n(g),j=n(5632),w=n(56958);let C="introducing-workspace-onboarding";function useQualifiesForOnboardingAnnouncement(){var e;let{workspace:t}=(0,f.cF)(),n=(0,f.gV)(),a=null==n?void 0:null===(e=n.role)||void 0===e?void 0:e.name;return(a===b.Vt||a===b.pp)&&!t.hadLegacyProjects}et Spacer=k=[{key:0,title:"Build your first Product Demo",Component:,{key:1,title:"Customize a branded Theme",Component:,{key:2,title:"Connect a CRM integration",Component:,{key:3,title:"Invite workspace members",Component:];,71786:7471:12348:57256:43744:32775:function(e,t,n){n.d(t,{Z:function(){return LayoutBase}});var a=n(52322),r=n(2784),l=n(82354),s=n(43744),i=n(68810),o=n(64529),c=n(8583),d=n(73235),u=n(66547),m=n(26806);function _templateObject(){let e=(0,d._)(["\n    query WorkspaceOmniSearch($searchText: String!, $workspaceId: String!) {\n  workspaceOmniSearch(searchText: $searchText, workspaceId: $workspaceId) {\n    id\n    items {\n      id\n      name\n      path\n      parents\n      category\n    }\n  }\n}\n    "]);return _templateObject=function(){return e},e}let p=(0,u.ZP)(_templateObject());var h=n(47330),x=n(45152),v=n(39097),f=n.n(v);let ListItemContainer=e=>{let{children:t}=e;return(0,a.jsx)("li",{className:"mb-0 flex flex-row items-center px-4 py-1 hover:bg-gray-100",children:t})},ListContainer=ResultsLoading=categoryToIcon=OmniSearchResults=var b=n(86414),g=n(89370);let y=globalThis.navigator?0===globalThis.navigator.platform.indexOf("Mac")||"iPhone"===globalThis.navigator.platform?"⌘":"⌃":void 0,SearchIn})};var OmniSearch_OmniSearchll};function updateUserLastActive_templateObject(){let e=(0,d._)(["\n    mutation UpdateUserLastActive($workspaceId: String!) {\n  updateUserLastActive(workspaceId: $workspaceId) {\n    user {\n      id\n    }\n    workspace {\n      id\n    }\n  }\n}\n    "]);return updateUserLastActive_templateObject=function(){return e},e}let j=(0,u.ZP)(updateUserLastActive_templateObject());var w=n(83122),C=n(95965),k=n(23848),N=n(5632),P=n.n(N),S=n(7471),L=n(46995),_=n(51830),T=n(24595),O=n(2701);function workspacePaymentStatus_templateObject(){let e=(0,d._)(["\n    query WorkspacePaymentStatus($workspaceId: String!) {\n  workspacePaymentStatus(workspaceId: $workspaceId) {\n    id\n    daysLeft\n    status\n  }\n}\n    "]);return workspacePaymentStatus_templateObject=function(){return e},e}let F=(0,u.ZP)(workspacePaymentStatus_templateObject()),useInBuile}},NavBan})},UpgradeBanll},BrowserBan})},PaymentBan)}),DelinquentBan})},ExpiringTrialBan})};var I=n(12348),Z=n(91077),Layout_CollapseNavBut})},OpenOmnisearchBut]}),z=n(43913),A=n(98291),E=n(10347),M=n(66542),D=n(16377),B=n(71659),U=n(82002),R=n(77512);let stopPropagationHandler=e=>e.stopPropagation(),WorkspaceSwitcherPanel_SearchInput=e=>{let{search:t,onChange:n,...r}=e;return(0,a.jsx)("div",{className:"sticky top-0 rounded bg-gray-800 px-2 py-2",children:(0,a.jsx)(R.E1,{variant:"subtle",autoFocus:!0,name:"search",value:t||"",className:"w-full",placeholder:"Search ...","aria-describedby":"search",onChange:n,styles:{input:{backgroundColor:"transparent",color:"white"}},...r})})},MembershipListLoadingSkele]}),MembershipL})},MembershipListId)};var Layout_WorkspaceSwitcherPanel=e=>{let{close:t,back:n,memberships:l,fetching:s}=e,{workspace:i}=(0,x.cF)(),o=(0,x.Ps)(),{slug:d}=i||{},[u,m]=(0,r.useState)(l||[]),[p,h]=(0,r.useState)(""),v=(0,N.useRouter)();(0,r.useEffel)},[l]),(0,r.useEffe)}},[p,l]);let b=(0,r.useCallba()},[v,t]);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:n,className:"mt-3 px-4 text-sm font-medium text-gray-400 hover:text-gray-300",children:"← Back"}),(0,a.jsx)(WorkspaceSwitcherPanel_SearchInput,{search:p,onChange:h,...(0,U.AN)({handler:()=>t(),cancelEvent:!0})}),(0,a.jsx)(MembershipList,{fetching:s,memberships:u,activeWorkspaceSlug:d||"",handleSelect:b}),o&&(0,a.jsx)("div",{className:"sticky bottom-0 z-10 w-full border-t border-gray-700/80",children:(0,a.jsx)(f(),{href:"/create-workspace",legacyBehavior:!0,children:(0,a.jsxs)("button",{className:"mb-0 flex w-full cursor-pointer flex-row items-center bg-gray-800 px-4 py-3 hover:bg-gray-700",style:{fontSize:14},children:[(0,a.jsx)(c.pOD,{className:"mr-1 h-3 w-3"}),"Create new workspace"]})})})]})};let W="w-full hover:bg-gray-700/30 text-left px-4 py-2";var Layout_UserDropdown)})]})}let navGroupDefinition=e=>{let{showProductDemos:t,hideAccountsTab:n}=e;return[{key:"projects",nav:[{icon:c.ReH,path:"/product-demos",name:"Product Demos",hidden:!t},{icon:c.Zab,path:"/analytics",name:"Analytics"}]},{key:"leads",nav:[{icon:c.oyc,path:"/visitors",name:"Visitors"},...n?[]:[{name:"Accounts",path:"/accounts",icon:c.ZyV,new:!0}]]},{key:"manage",nav:[{icon:c.QLK,path:"/themes",name:"Themes"},{icon:c.XgF,path:"/integrations",name:"Integrations"},{icon:c.WwQ,path:"/settings/teams",name:"Teams",new:!0},{icon:c.ewm,path:"/settings",name:"Workspace Admin",excludeSelectedPaths:["/settings/teams"]}]}]};function NavItem(e){var t,n,l;let{n:s,isChild:i,collapsed:o}=e,[c,d]=(0,r.useState)(!1),u=(0,N.useRouter)(),m=u.asPath,p=m.includes(s.path)&&!(null===(t=s.excludeSelectedPaths)||void 0===t?void 0:t.some(e=>m.includes(e))),h=null===(n=s.stayOpen)||void 0===n?void 0With(e)),x=s.nav&&(c||h);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.Z,{href:s.path,children:(0,a.jsxs)("a",{className:(0,w.AK)(s.hidden&&"hidden",p?"border-gray-700 bg-gray-700/60":"border-transparent hover:bg-gray-700/20",i?"pl-8 text-sm":"text-[15px]","group flex cursor-pointer items-center rounded-md border px-2 py-2 text-gray-400"),children:[s.icon&&(0,a.jsx)(s.icon,{height:o?"1.1rem":"1rem",width:o?"1.1rem":"1rem",className:o?"mx-auto":"mr-2"}),!o&&(0,a.jsx)("span",{className:"flex-1",children:s.name}),s.new&&!o&&(0,a.jsx)(I.Z,{color:"#a1a1aa",text:"New"}),s.nav&&!o&&!h&&(0,a.jsx)("div",{,d(!c)},className:(0,w.AK)("rounded px-1 leading-none text-gray-500 hover:bg-gray-700/30 hover:text-gray-400"),children:c?"-":"+"})]})}),x&&!o&&(0,a.jsx)("div",{className:"mb-1",children:null===(l=s.nav)||void 0===l?void 0:l.map(e=>(0,a.jsx)(NavItem,{collapsed:o,n:e,isChild:!0},e.path))})]})}var Layout_SideNav=function(e){let{collapsed:t,setCollapsed:n,openSearch:r}=e,{workspace:l}=(0,x.cF)();return(0,a.jsx)("div",{className:"h-screen",children:(0,a.jsx)("div",{className:"flex h-full min-h-0 flex-1 flex-col bg-gray-800",children:(0,a.jsxs)("div",{className:"flex flex-1 flex-col overflow-y-auto pb-4 pt-5",children:[t?(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4 text-white",children:[(0,a.jsx)(Layout_CollapseNavButton,{onClick:()=>n(!t),collapsed:t}),(0,a.jsx)(Z.H,{white:!0})]}):(0,a.jsxs)("div",{className:(0,w.AK)("mb-3 flex flex-shrink-0 items-center justify-between px-4","group text-gray-800 hover:text-white"),children:[(0,a.jsx)(Z.Z,{white:!0}),(0,a.jsx)(Layout_CollapseNavButton,{=>n(!t),collapsed:t})]}),!t&&(0,a.jsx)(UserDropdown,{}),!t&&(0,a.jsx)(OpenOmnisearchButton,{onClick:r}),(0,a.jsx)("nav",{className:"mt-2 flex-1 space-y-4 bg-gray-800 px-2","aria-label":"Sidebar",children:(0,a.jsx)("div",{children:navGroupDefinition({hideAccountsTab:!!l.hideAccountsTab,showProductDemos:!0}).map(e=>(0,a.jsxs)("div",{className:t?"":"mb-4 px-1",children:[!t&&(0,a.jsx)("div",{className:"mb-1 px-1 text-sm uppercase text-gray-500",children:e.key}),e.nav.map(e=>(0,a.jsx)(NavItem,{collapsed:t,isChild:!1,n:e},e.name))]},e.key))})})]})})})};function LayoutBase(e){let{children:t,navLeft:n,fixedLayout:i=!1,blockLayout:o=!1,hideNav:c=!0}=e,{currentUser:d}=(0,x.xJ)(),{workspace:u}=(0,x.cF)(),[,p]=m.Db(j),h=(0,x.gV)(),v=(0,k.useSession)(),[f,g]=(0,r.useState)(!1),[y,_]=(0,C.ZP)("navattic-sidenav-collapsed",window.innerWidth<768);(0,r.use),!0))},[]),(0,r.used:x})}},[p,d,u,v,h]);let T=(0,r.un?e:""},[y,n]),O=(0,N.useRouter)(),F="/[workspace_slug]/product-demos/[id]/flows/[flow_id]/builder"===O.pathname||"/[workspace_slug]/product-demos/[id]/checklist/builder"===O.pathname,I="/auth/onboarding"===O.pathname,Z="/[workspace_slug]/product-demos/[id]"===O.pathname;return(0,a.jsxs)("div",{className:"relative flex h-full min-h-screen w-full flex-col",children:[(0,a.jsxs)(L.h,{enabled:!F,children:[(0,a.jsx)(UpgradeBanner,{}),(0,a.jsx)(ExpiringTrialBanner,{}),(0,a.jsx)(DelinquentBanner,{})]}),(0,a.jsx)(L.h,{enabled:F||Z,children:(0,a.jsx)(BrowserBanner,{})}),(0,a.jsx)(OmniSearch_OmniSearchbar,{open:f,setOpen:g}),(0,a.jsx)("div",{className:(0,w.AK)(!c&&"mt-14","relative flex flex-1 flex-row"),style:{background:"#f8f8f8"},children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:{width:T},className:"ease fixed top-0 transition-all",children:(0,a.jsx)(Layout_SideNav,{openSearch:()=>g(!0),collapsed:y,setCollapsed:_})}),(0,a.jsxs)("main",{style:{paddingLeft:T},className:"ease m-5 w-full flex-1 transition-all",children:[!(null==u?void 0:u.isClosed)&&(0,a.jsx)(l.ZP,{}),t]})]}):(0,a.jsx)("main",{style:{paddingLeft:T,display:o?"block":"flex",position:i?"fixed":"relative"},className:"w-full",children:t})}),!F&&!I&&(0,a.jsx)(s.Z,{})]})})})})}},170:function(e,t,n){n.d(t,{Z:function(){return AppWorkspaceLayout}});var a=n(52322),r=n(2784),l=n(8583),s=n(45152),i=n(68810),o=n})})})}function ClosedWorkspaceOverlay(){let e=(0,s.Ps)(),{workspace:t}=(0,s.cF)(),n=(null==t?void 0:t.isClosed)&&!e;return n?(0,a.jsx)(OverlayModal,{Icon:l.khe,title:"Workspace deactivated",dataTestId:"workspace-closed-overlay",description:(0,a.jsxs)(a.Fragment,{children:["If you think there's been a mistake or you'd like to reactivate the workspace, please"," ",(0,a.jsx)("a",{className:"link",href:"mailto:team@navattic.com?subject='Workspace Closed'",children:"reach out to support"})]})}):null}var c=n(51830),d=n(47330),u=:null}var m=n(83389),p=n(73235),h=n(66547),x=n(51357),v=n(26806);function _templateObject(){let e=(0,p._)(["\n    query GetCurrentUser {\n  currentUser {\n    ...CurrentUser\n  }\n}\n    ",""]);return _templateObject=function(){return e},e}let f=(0,h.ZP)(_templateObject(),x.o);var b=n(52793);function getWorkspaceLayoutConfig_templateObject(){let e=(0,p._)(["\n    query GetWorkspaceLayoutConfig($membershipId: String) {\n  workspaceLayoutConfig(membershipId: $membershipId) {\n    ...Workspace\n  }\n}\n    ",""]);return getWorkspaceLayoutConfig_templateObject=function(){return e},e}let g=(0,h.ZP)(getWorkspaceLayoutConfig_templateObject(),b.L);var y=n(10347),j=n(70505),w=n(65538),C=n(75435),k=n(61482),N=n(99071),P=n(23375),S=n(20851),L=n(83408),_=n(23848),T=n(57256),O=n(27091),F=n(32775);let I=(0,L.hu)("debug:navattic:workspace-layout");function WorkspaceLayout(e){let[t,n]=(0,r.ushipId()),[{data:l,fetching:i}]=v.aM({query:f}),[{data:o}]=(0,y.r)(),c=null==o?void 0:o.currentUserMemberships,d=(0,u.useRouter)(),p=d.pathname.startsWith("/auth/onboarding"),h=p||d.pathname.startsWith("/auth/"),x=d.pathname.includes("[workspace_slug]"),b=(0,C.c)(),L=(0,r.useMemo)(()=>({membershipId:t}),[t]),[{data:O,fetching:Z}]=v.aM({query:g,variables:L,context:L,pause:!t}),{status:z}=(0,s.U8)(!h);(0,k.H)();let A=null==O?void 0:O.workspaceLayoutConfig,E=null==l?void 0:l.currentUser,M=(0,r.useCanull))},[]);(0,r.useEffect)(()=>{if(!A||!E||!t)return;let e=(null==c?void 0==A.id}))||null;e&&e.id===t||M(e)},[E,t,c,M,A]);let D=d.asPath;return((0,r.useEffect)(()=>{var e;if(A&&E&&x&&(null===(e=d.query)||void 0===e?void 0:e.workspace_slug)!==A.slug){let e=D.split("/"),t=e[1],n=A.slug,a=t?null==c?void 0:c.find(e=>{var n;return!(0,S.Rw)(null==e?void 0:null===(n=e.workspace)||void 0===n?void 0:n.slug)&&e.workspace.slug===t}):void 0;if(null==a?void 0:a.accepted)M(a);else{e[1]=n;let t=e.join("/");I.log({pathname:d.pathname,asPath:d.asPath,workspacePath:t,willReroute:t!==d.asPath}),t!==d.asPath&&d.push(t)}}},[E,A,D,d,M,x,c]),(0,r.useEffect)(()=>{!t||A||Z||h||"authenticated"!==z||M(null)},[t,A,Z,h,z,M]),(0,r.useion"})},[E,i,h,z,b]),(0,r.useEffect)(()=>{if(t||!E)return;let e=null==c?void 0ccepted);e?M(e):p||!1!==E.isOnboarded||(I.warn("User does not have an accepted membership"),(0,_.signOut)({callbackUrl:"/auth/login?error=membership-not-accepted"}))},[t,E,M,p,c]),(0,r.useding")},[E,i,p,d,z]),"loading"!==z&&(h||(null==A?void 0:A.slug)&&(null==E?void 0:E.id)))?(0,a.jsx)(s.vh,{currentUser:E,children:(0,a.jsx)(s.X8,{workspace:A,setActiveMembership:M,children:(0,a.jsx)(s.fr,{currentUser:E,workspaceMembershipId:t,children:(0,a.jsx)(N.R4,{currentUser:E,children:(0,a.jsx)(w.O,{children:(0,a.jsxs)(j.I,{children:[(0,a.jsx)(T.ZP,{children:(0,a.jsx)(m.ZP,{children:(0,a.jsx)(F.Z,{...e})})}),!h&&!p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ExpiredTrialOverlay,{}),(0,a.jsx)(ClosedWorkspaceOverlay,{}),(0,a.jsx)(PaymentMethodRequiredOverlay,{})]})]})})})})})}):null}function AppWorkspaceLayout(e){let{session:t,...n}=e;return(0,a.jsx)(O.Z,{session:t,children:(0,a.jsx)(WorkspaceLayout,{...n})})}})]})}text)(ren:r})]})}}ion:l)}})]}]})})}})})]}})]})})}},51357:function(e,t,n){n.d(t,{o:function(){return s}});var a=n(73235),r=n(66547);function _templateObject(){let e=(0,a._)(["\n    fragment TeamMembership on TeamMembership {\n  id\n  role\n  team {\n    id\n    name\n    workspaceId\n  }\n}\n    "]);return _templateObject=function(){return e},e}let l=(0,r.ZP)(_templateObject());function currentUser_templateObject(){let e=(0,a._)(["\n    fragment CurrentUser on User {\n  id\n  firstName\n  lastName\n  fullName\n  image\n  email\n  isOnboarded\n  onboardingChecklistCompleted\n  onboardingChecklistDismissed\n  createdAt\n  position\n  teamMemberships {\n    ...TeamMembership\n  }\n  featureFlags {\n    id\n    name\n  }\n  dismissedAnnouncements {\n    id\n    slug\n  }\n}\n    ",""]);return currentUser_templateObject=function(){return e},e}let s=(0,r.ZP)(currentUser_templateObject(),l)},36711:function(e,t,n){n.d(t,{S:function(){return s}});var a=n(73235),r=n(66547),l=n(66254);function _templateObject(){let e=(0,a._)(["\n    fragment Membership on Membership {\n  id\n  role {\n    ...WorkspaceRole\n  }\n  user {\n    id\n    email\n    firstName\n    lastName\n    fullName\n    createdAt\n  }\n  workspace {\n    id\n    slug\n    name\n  }\n  createdAt\n  lastActive\n  accepted\n}\n    ",""]);return _templateObject=function(){return e},e}let s=(0,r.ZP)(_templateObject(),l.O)},52793:function(e,t,n){n.d(t,{L:function(){return s}});var a=n(73235),r=n(66547),l=n(82104);function _templateObject(){let e=(0,a._)(["\n    fragment Workspace on Workspace {\n  id\n  name\n  slug\n  defaultThemeId\n  workosOrganizationId\n  isClosed\n  accountType\n  referredBy\n  trialEndDate\n  paymentMethodRequired\n  permissions {\n    ...WorkspacePermission\n  }\n  featureFlags {\n    id\n    name\n  }\n  showNavatticBranding\n  hideAccountsTab\n  domain\n  hadLegacyProjects\n  planType\n  teamLimit\n}\n    ",""]);return _templateObject=function(){return e},e}let s=(0,r.ZP)(_templateObject(),l.y)},82104:function(e,t,n){n.d(t,{y:function(){return l}});var a=n(73235),r=n(66547);function _templateObject(){let e=(0,a._)(["\n    fragment WorkspacePermission on WorkspacePermission {\n  id\n  action\n  roleId\n  workspaceItem\n}\n    "]);return _templateObject=function(){return e},e}let l=(0,r.ZP)(_templateObject(t(),l.s.Db(il.Db(s,...e})}},55839:function(e,t,n){n.d(t,{U:function(){return useListPersonalizationVariablesQuery}});var a=n(73235),r=n(66547),l=n(54786),s=n(26806);function _templateObject(){let e=(0,a._)(["\n    query ListPersonalizationVariables($workspaceId: String!) {\n  personalizationVariables(workspaceId: $workspaceId) {\n    ...PersonalizationVariable\n  }\n}\n    ",""]);return _templateObject=function(){return e},e}let i=(0,r.ZP)(_templateObject(),l.s);function useListPersonalizationVariablesQuery(e){return s.aM({query:i,...e},...e}t.erroext)(se,t]),nFrontext)(o},[]),e,t,n]dler(t)}},99071:function(e,t,n){n.d(t,{R4:function(){return LaunchpadUserContextProvider},SH:function(){return removeLaunchpadCookie},mk:function(){return useLaunchpadUser}});var a=n(52322),r=n(2784),l=n(61482),s=n(45152),i=n(69260),o=n(5632);let c="nvL:00 UTC"}let d=(0,r.createContext)({}),LaunchpadUserContextProvider=e=>{let{currentUser:t,children:n}=e,[u,m]=(0,r.useState)(!1),p=(0,o.useRouter)(),h=p.pathname.startsWith("/auth/onboarding"),x=(0,s.gV)();(0,r.uslug}}))},[t,h,p,m,x]);let v=(0,ryUser:u}),[u]);return(0,a.jsx)(d.Provider,{value:v,children:n})};function useLaunchpadUser(){return(0,r.useContext)(d)}},45152:function(e,t,n){n.d(t,{vh:function(){return CurrentUserContextProvider},fr:function(){return TeamContextProvider},X8:function(){return WorkspaceContextProvider},xJ:function(){return useCurrentUser},cn:function(){return useIsAdmin},Ps:function(){return useIsRootAccount},T4:function(){return useIsWorkspaceFeatureFlagEnabled},AH:function(){return usePrivacy},U8:function(){return useSessionOfflineSafe},t7:function(){return useTeam},cF:function(){return useWorkspace},j_:function(){return useWorkspaceItemPermission},gV:function(){return useWorkspaceMembership},eC:function(){return userHasDismissedAnnouncement},sg:function(){return userHasFeatureFlag},BH:function(){return workspaceHasBoardsEnabled},NK:function(){return workspaceHasFeatureFlag},OC:function(){return workspaceHasTeamsEnabled}});var a=n(52322),r=n(2784),l=n(73235),s=n(66547),i=n(36711),ourn e},e}let c=(0,s.ZP)(_templateObject(),i.S);var d=n(10347),u=n(23375),m=n(69260),p=n(95965),h=n(23848),xrkspace)}n(83122);let v=(0,r.createContext)({}),CurrentUserContextext)(v)}function userHasFeatureFlag(e,t){var n,a;return null!==(a=null==e?void 0:null===(n=e.featureFlags)||void 0===n?void 0:n.some(e=>e.name===t))&&void 0!==a&&a}function userHasDismissedAnnouncement(e,t){var n,a;return null!==(a=null==e?void 0:null===(n=e.dismissedAnnouncements)||void 0===n?void.slug===t))&&void 0!==a&&a}let useSessionOfef=t)}})},useIsRo0!==n&&n},useIsAdmin=()=>{var e;let t=useWorkspaceMembership();return(null==t?void 0:null===(e=t.role)||void 0===e?void 0:e.name)===m.Vt},f=(0,r.createContext)({}),WorkspaceContextProvider=e=>{let{workspace:t,setActiveMembership:n,children:l}=e,s=(0,rspace:t}),[n,t]);return(0,a.jsx)(f.Provider,{value:s,children:l})};function useWorkspace(){let{workspace:e,setActiveMembership:t}=(0,r.useContext)(f);return{workspace:e,setActiveMembership:t}}function useWorkspaceMembership(){var e;let{workspace:t}=useWorkspace(),[{data:n}]=(e={variables:{workspaceId:null==t?void 0:t.id},pause:!(null==t?void 0:t.id)},o.aM({query:c,...e})),a=null==n?void 0:n.workspaceMembershipype)}let b=(0,r.createContext)({}),TeamContextProvider=e=>{let{currentUser:t,workspaceMembershipId:n,children:l}=e,[s,i]=(0,r.useState)(()=>u.t.getActiveTeamId()),[o,c]=(0,r.useState)(!0),[m,p]=(0,r.useState)(!1),[{data:h}]=(0,d.r)(),v=(0,r.use{i(e.id)},[i]),f=(0,r==r?r:[]},[t,n,null==h?void 0:h.currentUserMemberships]),g=(0,ra?a:null},[s,t]),y=(0,rading:o}),[g,f,m,v,s,o]);return(0,r.useEffect)(()=>{var e,a,r;if(!t||!n||g||!o)return;let l=null==h?void 0:null===(e=h.currentUserMemberships)||void 0===e?void 0:e.find(e=>{let{id:t}=e;return t===n});if(!l){c(!1);return}let s=null==t?void 0:null===(a=t.teamMemberships)||void 0===a?void 0:t.id)}),i=null==t?void 0:null===(r=t.teamMemberships)||void 0===r?void.Manager});p(!!i),(null==s?void 0:s.id)&&v(s),c(!1)},[t,n,g,i,null==h?void 0:h.currentUserMemberships,v,o]),(0,a.jsx)(b.Provider,{value:y,chilading:s4)(n,t)}}}]);
//# sourceMappingURL=170-2c058e419eb7403e.js.map