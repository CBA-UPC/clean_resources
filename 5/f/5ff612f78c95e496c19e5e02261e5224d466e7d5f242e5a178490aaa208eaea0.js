import{LOGGERS as o,MODULE_ALREADY_INITIALIZED as i}from"../base/config.js";import{storeGetItem as p,storeSetItem as u,debug}from"../base/croco.js";import{webworker as l}from"../base/webworker.js";const m=+new Date+24*60*60*1e3;const g=o.OFFLINE;let j=false;export function offlineLoaderInit(){if(j){debug("error",g,i);return}const o=document.querySelector('script[itemprop="lacoste-resource"]');const t=[Lacoste.features.network.offlinepage];if(o){t.push(o.src)}if(!p({group:"offline",item:"update"})){u({group:"offline",item:"update",value:"",expiration:m});l.post("addCache",{name:"lcst-offline",data:t})}j=true}