(self.webpackChunk=self.webpackChunk||[]).push([["ConstituencyResultWidget"],{"./campaign/election/common/component/ConstituencyResultWidget.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:);var l=n("../node_modules/react/index.js"),a=n("../node_modules/prop-types/index.js"),r=n.n(a),o=n("../node_modules/react-redux/es/index.js"),s=n("./components/common/AnchorLink.js"),i=n("./utils/util.js"),c=(n("./campaign/election/actions/constituency/constituencylist.js"),n("./campaign/election/utils/util.js")),u=n("./components/lib/errorboundery/ErrorBoundary.js"),d=n("./campaign/election/utils/constants.js"),m=n("./components/common/SectionHeader/SectionHeader.js");"./campaign/election/common/css/ConstituencyDetail.scss");var f=(0,i.m5)(),y=((0,i.pR)(),process.env.SITE),b=function(e){var t=e.constituencylist,n=e.params,a=e.isFetching,r=e.iframeConfig,o=e.resultrefresh,p=e.showlivedata,b=e.crrYrData,E=e.notCallJCMSFeed,S=e.isAmpPage,j=e.tabChildComponent,_=v((0,l.useState)(n.statename||""),2),h=_[0],C=_[1],w=v((0,l.useState)(null),2),I=w[0],x=w[1],A=(0,c.JC)(n.statename,p),N=(0,i.Uh)(t,"cnsResultTableData",null),T=v((0,l.useState)(!0),2),k=T[0],D=(T[1],(0,i.Uh)(t,"yearArr",[]));(0,l.useEffect)((function(){var t,n=h||e&&e.params&&e.params.statename,l=!("false"==o),a=function(){return(0,c.TY)(n).then(()};return A&&!E&&(a(),l)?(t=setInterval((,3e4),function(){return clearInterval(t)}):),[h]);var L=function(e,t){if(e){var n=(0,c.Go)(t)||{};return e.find(()||d._G.ELECTION_YEAR}}(D,h),F=S?b:I,R=(0,c.uw)(F),O="elections/".concat(null==n?void 0:n.statename,"-assembly-elections-constituencies"),Y=function(e){var t=e.map(();t.sort(();var n=2;return A&&(n=3),t.slice(0,n).map(()}(D);return l.createElement(u.Z,null,l.createElement("div",{className:"state_wise_result_widget","data-state":h},l.createElement(m.Z,{sectionhead:f.locale.seatwise_result,weblink:!(null==n||!n.statename)&&O}),j||l.createElement(g,{statename:n.statename,selectedState:h,setSelectedState:C}),N&&!a?l.createElement(l.Fragment,null,(0,i.qt)(N)?l.createElement("div",{className:"ele_table_wrap ele_result_table ".concat(k?"":"load-more-table")},l.createElement("table",{className:"election-table"},l.createElement("tr",null,l.createElement("th",null,f.locale.assembly_area),Y&&Y.map((function(e){return l.createElement("th",{key:e},e," ",e==L&&A?l.createElement("span",{className:"tbl_leadtrail"},"Leads+Wins"):null)}))),(0,i.qt)(N)&&N.map((function(e){var t,a,o,i,u,d,m,v,p;if(m=Y,p=0,null!=(v=e)&&v.data&&v.data.map((function(e){null!=v&&v.year&&m.includes(null==e?void 0:e.year)&&(p+=1)})),p)return null==e||e.data.sort((),l.createElement("tr",{key:e&&e.uname||""},l.createElement("td",null,null!=e&&null!==(t=e.regInfo)&&void 0!==t&&null!==(a=t[y])&&void 0!==a&&a.name?l.createElement(l.Fragment,null,r&&r.init?l.createElement("span",null,null==e||null===(o=e.regInfo)||void 0===o||null===(i=o[y])||void 0===i?void 0:i.name):l.createElement(s.Z,{href:"".concat(process.env.WEBSITE_URL,"elections/").concat(n.statename,"-assembly-elections/").concat(e.uname,"-constituency-").concat(e.cns_id)},null==e||null===(u=e.regInfo)||void 0===u||null===(d=u[y])||void 0===d?void 0:d.name)):l.createElement("span",null,null==e?void 0:e.uname)),(null==e?void 0:e.data)&&e.data.map((function(t,n){if(null!=t&&t.year&&Y.includes(null==t?void 0:t.year)){var a=function(e,t){var n={};if((null==e?void 0:e.year)==L&&A){var l=null==R?void 0:R.get(parseInt(t,10));n={abbr:(null==l?void 0:l.abbr)||"-",color:null==l?void 0:l.color,winStatus:c.sl[null==l?void 0:l.winStatus]||"Awaited"}}else{var a,r,o,s;n={abbr:(null==e||null===(a=e.party)||void 0===a||null===(r=a.regInfo)||void 0===r?void 0:r.abbr)||(null==e||null===(o=e.party)||void 0===o?void 0:o.abbr)||"-",color:(null==e||null===(s=e.party)||void 0===s?void 0:s.color)||""}}return n}(t,null==e?void 0:e.cns_id),r="".concat(n).concat(null==a?void 0:a.abbr);return l.createElement("td",{key:r.toString()||""},l.createElement("span",{className:"partyname",style:{color:null==a?void 0:a.color,border:"solid 1px ".concat(null==a?void 0:a.color)}},null==a?void 0:a.abbr))}})))})))):l.createElement("div",{className:"no_data_found"},"No Data Found")):l.createElement("div",{className:"wdt_loading"},l.createElement("span",{className:"spinner_circle"}))))};function g(e){var t=e.statename,n=e.selectedState,a=e.setSelectedState;if("iag"!=process.env.SITE||"gujarat"!=t){var r=((0,c.Go)(t)||{}).stateTabs||[];return l.createElement("div",{className:"state-tab-button"},(0,i.qt)(r)&&r.map((function(e){var t=(0,c.jq)(e);return l.createElement("span",{key:e&&e.toLowerCase(),className:n&&e&&n.replace("_","-").toLowerCase()==e.replace("_","-").toLowerCase()?"active":"","data-exclude":"amp",onClick:function(){return a(e)},role:"button",tabIndex:0,onKeyPress:,l.createElement("b",null,t))})))}return null}g.propTypes={statename:r().string,selectedState:r().string,setSelectedState:r().func},b.propTypes={constituencylist:r().object,isFetching:r().bool,params:r().object,iframeConfig:r().object,resultrefresh:r().string,showlivedata:r().string,notCallJCMSFeed:r().bool,crrYrData:r().array,isAmpPage:r().bool,tabChildComponent:r().any};const E=(0,o.$j)((function(e){var t,n,l,a;return{resultrefresh:null==e||null===(t=e.app)||void 0===t||null===(n=t.election)||void 0===n?void 0:n.resultrefresh,showlivedata:null==e||null===(l=e.app)||void 0===l||null===(a=l.election)||void 0===a?void 0:a.showlivedata}}))(b)},"../node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[2].use[1]!../node_modules/css-loader/index.js??ruleSet[1].rules[2].use[2]!../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../node_modules/postcss-loader/lib/index.js??ruleSet[1].rules[2].use[4]!./campaign/election/common/css/ConstituencyDetail.scss":"./campaign/election/common/css/ConstituencyDetail.scss":(e,t,n)=>{"use strict";var l=n("../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n.n(l),r=n("../node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[2].use[1]!../node_modules/css-loader/index.js??ruleSet[1].rules[2].use[2]!../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../node_modules/postcss-loader/lib/index.js??ruleSet[1].rules[2].use[4]!./campaign/election/common/css/ConstituencyDetail.scss"),o=n.n(r);a()(o(),{insert:"head",singleton:!1}),o().locals}}]);