(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{EcvJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s}));var o=n("Jqp9"),i=n("wXC7"),a=n.n(i),r=Object(o.css)("background-color:",a.a.color.gray50,";border-radius:50%;height:","26px",";width:","26px",";max-width:unset;object-fit:cover;"),c=Object(o.css)("min-width:","26px",";width:","26px",";line-height:0;"),s=Object(o.css)("background:none;border:none;color:",a.a.color.linkColor,";font-family:",a.a.font.franklinBase,";font-size:0.5625rem;font-weight:",a.a.font.weight.medium,";letter-spacing:0.013em;line-height:normal;padding-top:3px;text-align:center;text-decoration:none;text-transform:uppercase;width:100%;&:hover{text-decoration:underline;cursor:pointer;}")},GUXu:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o={};n.r(o),n.d(o,"actionClass",(function(){return f})),n.d(o,"secondaryClass",(function(){return b})),n.d(o,"defaultClass",(function(){return h}));var i=n("pVnL"),a=n.n(i),r=n("QILm"),c=n.n(r),s=n("q1tI"),l=n.n(s),d=n("Jqp9"),m=n("wXC7"),u=n.n(m),p=Object(d.css)("background:none;border:none;color:",u.a.color.linkColor,";font-family:",u.a.font.franklinBase,";font-size:",u.a.font.size(13),";line-height:",u.a.font.size(18),";text-decoration:none;&:hover{text-decoration:underline;cursor:pointer;}"),f=Object(d.css)("button&,a{",p,";font-weight:",u.a.font.weight.mediumBold,";}"),b=Object(d.css)("button&,a{",p,";}"),h=Object(d.css)("button&,a{",p,";color:",u.a.color.gray40,";padding-bottom:4px;}"),v=["children","onClick","theme"],g={ACTION:"action",SECONDARY:"secondary",DEFAULT:"default"},y=function(e){var t=e.children,n=e.onClick,i=e.theme,r=c()(e,v),s=o["".concat(i,"Class")];return n?l.a.createElement("button",a()({type:"button",tabIndex:0,className:s,onClick:n},r),t):l.a.createElement("span",a()({className:s},r),t)};y.displayName="TextButton",y.defaultProps={children:null,onClick:null,theme:g.DEFAULT};t.b=y},Id00:function(e,t,n){"use strict";var o=n("gcR/"),i=n.n(o),a=(n("q1tI"),n("+4HN")),r=n("GB3f"),c=function(e){var t=e.children;return i()(a.a,{url:Object(r.b)()},void 0,t)};c.displayName="LoginLink",t.a=c},VOpz:function(e,t,n){"use strict";n.d(t,"k",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return v})),n.d(t,"l",(function(){return g}));var o=n("Jqp9"),i=n("wXC7"),a=n.n(i),r=n("EcvJ"),c=Object(o.css)("display:flex;font-size:",a.a.font.size(15),";margin-bottom:5px;width:100%;"),s=Object(o.css)("margin:14px 0 10px;.",r.b,"{margin-right:15px;}"),l=Object(o.css)("flex-grow:2;"),d=Object(o.css)("margin-left:10px;"),m=Object(o.css)("font-weight:",a.a.font.weight.bold,";"),u=Object(o.css)("color:",a.a.color.gray35,";font-size:",a.a.font.size(14),";font-weight:",a.a.font.weight.light,";line-height:",a.a.font.size(17),";margin-top:3px;a{color:",a.a.color.gray35,";font-family:",a.a.font.franklinBase,";text-decoration:none;display:inline-flex;&:hover{text-decoration:underline;}}"),p=Object(o.css)("& > *{&::before{color:",a.a.color.gray60,";content:'|';display:inline-block;margin:0 8px;}&:first-child::before{content:'';margin:0;}}"),f=Object(o.css)(".",m,"{background:",a.a.color.gray80,";height:10px;width:162px;}.",u,"{background:",a.a.color.gray80,";height:10px;margin-top:4px;width:100px;}"),b=Object(o.css)("border:7px inset transparent;display:inline-block;height:0;position:absolute;width:0;border-bottom:7px solid ",a.a.color.gray70,";margin-left:2px;top:13px;z-index:1;visibility:hidden;"),h=Object(o.css)("border:7px inset transparent;display:inline-block;height:0;position:absolute;width:0;border-bottom:7px solid white;left:-7px;top:-4px;"),v=Object(o.css)("visibility:hidden;position:relative;width:214px;border:2px solid ",a.a.color.gray70,";padding:11px 11px 10px 15px;font-size:",a.a.font.size(11),";font-family:",a.a.font.franklinBase,";font-weight:",a.a.font.weight.medium,";line-height:",a.a.font.size(15),";text-wrap:wrap;margin-top:-10px;background:white;box-shadow:0 0 10px rgba(0,0,0,0.15);a{text-decoration:underline;cursor:pointer;}"),g=Object(o.css)("position:relative;cursor:help;max-height:",a.a.font.size(40),";overflow:visible;&:hover .",v,"{visibility:visible;}&:hover .",b,"{visibility:visible;}")},dlEz:,"f+2V",izyI:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var o=n("gcR/"),i=n.n(o),a=n("lSNA"),r=n.n(a),c=(n("q1tI"),n("Jqp9")),s=n("kILT"),l=n("ZKN5"),d=n("wXC7"),m=n.n(d),u=Object(c.css)("display:inline-block;margin-right:10px;overflow:hidden;object-fit:cover;.medium &{border-radius:50%;height:30px;width:30px;}.small &{border-radius:50%;height:26px;width:26px;}span&{background:",m.a.color.gray50,";color:",m.a.color.white,";display:inline-block;font-size:12px;text-align:center;text-transform:uppercase;.medium &{line-height:33px;}.small &{line-height:29px;}}.placeholder &{background:",m.a.color.gray80,";}"),p=new RegExp("http(s?)://graphics8.nytimes.com/images/apps/timespeople/none.png"),f="medium",b="small";function h(e){var t=e.url,n=e.title,o=e.size,a=e.placeholder,r=function(e){return e&&p.test(e)?null:e}(t);return i()("div",{className:Object(c.cx)(o,{placeholder:a}),"aria-hidden":"true"},void 0,r&&i()("img",{className:u,alt:n,src:r,onError:function(e){var t=e.currentTarget;t.onerror=null,t.outerHTML="<span class=".concat(u,">").concat(n.substr(0,1),"</span>")}}),!r&&i()("span",{className:u},void 0,n.substr(0,1)))}h.displayName="UserHeader",h.defaultProps={size:f,title:"",url:null,placeholder:!1};var v,g,y=Object(l.a)(h),x=n("VOpz"),O={MEDIUM:"medium",SMALL:"small"},w=(v={},r()(v,O.MEDIUM,f),r()(v,O.SMALL,b),v);function j(e){var t=e.title,n=e.location,o=e.avatarUrl,a=e.secondaryContent,r=e.size,l=e.avatarTitle,d=e.placeholder,m=e.isStaffCommenter,u=e.nytTitle,p=e.timeStamp;return d?i()("div",{className:Object(c.cx)(x.k,x.a)},void 0,i()(y,{size:w[r],placeholder:!0}),i()("div",{className:x.b},void 0,i()("div",{className:x.g}),i()("div",{className:x.e}))):i()("div",{className:x.k},void 0,i()(y,{title:l||t,url:o,size:w[r]}),i()("div",{className:x.b},void 0,i()("div",{className:x.g},void 0,t,m&&(g||(g=i()("div",{className:s.b})))),i()("div",{className:x.e},void 0,i()("span",{className:x.f},void 0,m?i()("span",{},void 0,u):i()("span",{dangerouslySetInnerHTML:{__html:n}}),p))),a&&i()("div",{className:x.c},void 0,a))}j.displayName="UserHeader",j.defaultProps={title:"",location:"",avatarUrl:null,secondaryContent:null,size:O.M,avatarTitle:null,placeholder:!1,isStaffCommenter:!1,timeStamp:null,nytTitle:""};t.b=j},kILT:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var o=n("Jqp9"),i=n("wXC7"),a=n.n(i),r=Object(o.css)("border:1px solid ",a.a.color.gray60,";border-radius:3px;color:",a.a.color.black,";font-family:",a.a.font.franklinBase,";font-size:",a.a.font.size(15),";line-height:",a.a.font.size(18),";padding:10px 15px;transition:0.6s;width:100%;&:focus{border-color:",a.a.color.blue20,";}"),c=Object(o.css)("overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;white-space:pre-wrap;"),s=Object(o.css)("color:",a.a.color.red10,";display:inline-block;"),l=Object(o.css)("border-radius:50%;height:18px;width:18px;background-color:",a.a.color.black,";background-image:url('","/vi-assets/static-assets/icon-t-logo-16x16-white-6d6d01f365f1dbdab596ce5f3e5b4592.svg","');background-position:center;background-repeat:no-repeat;background-size:10px 10px;display:inline-block;margin-left:4px;vertical-align:text-bottom;white-space:nowrap;")},vAfL:function(e,t,n){"use strict";n.r(t),n.d(t,"default",));var o=n("VkAN"),i=n.n(o),a=n("gcR/"),r=n.n(a),c=n("q1tI"),s=n.n(c),l=n("QS0n"),d=n("eFc+"),m=n.n(d),u=n("ZKN5"),p=n("8iTF"),f=n("TVGw"),b=n("lSNA"),h=n.n(b),v=n("J4zp"),g=n.n(v),y=n("X6oL"),x=n("cr+I"),O=n.n(x),w=n("Vg22"),j=n("wXC7"),I=n.n(j),C=n("iEJF"),k=n("f+2V"),N=n("rONy"),T=n("SYzA"),z=n("HChe"),E=n("Rb+W"),S=n("06b3"),R=n("Jqp9"),L=n("hU1o"),A=n("hKNt"),P=n("a9ya"),M=n("e0Jg"),U=n("RIqP"),F=n.n(U),_=n("cFmA"),B=n("f81r"),H=n("uyHG"),D=n.n(H),V=n("2oaX"),q=(D()((function(e){return null==e?void 0:e[Math.floor(Math.random()*e.length)]})),D()((function(e,t,n){var o;return null==e||null===(o=e.commentIds)||void 0===o?void 0:o.filter((function(e){return Object(V.b)(t,e).attributes.text.length<=n}))})),n("dlEz")),G=n("7FfI"),J=n("izyI"),X=n("kILT"),K=Object(R.css)("padding-top:10px;"),W=Object(R.css)("font-size:",I.a.font.size(13),";line-height:",I.a.font.size(17),";h6{color:#589714;font-weight:",I.a.font.weight.bold,";}"),Y=Object(R.css)("font-size:",I.a.font.size(14),";line-height:",I.a.font.size(18),";background:",I.a.color.gray90,";margin-top:15px;padding:15px;"),Q=Object(R.css)(X.d,";font-size:",I.a.font.size(14),";line-height:",I.a.font.size(20),";margin-left:40px;");function Z(e){var t=e.avatarUrl,n=e.location,o=e.commentNotify,i=e.displayName,a=e.text,c=e.isReply,s=e.isStaffCommenter,l=e.nytTitle;return r()("div",{className:Object(R.cx)(h()({},K,c))},void 0,r()("div",{className:W},void 0,r()("h6",{},void 0,s?B.a.commentPosted:B.a.submissionThanks)(s,o)),r()("div",{className:Y},void 0,r()(J.b,{size:J.a.MEDIUM,title:i,avatarUrl:t,location:n,timeStamp:!s&&r()("span",{},void 0,B.a.pendingApproval),nytTitle:l,isStaffCommenter:s}),r()("div",{className:Q},void 0,r()("p",{},void 0,a))))}Z.displayName="SubmittedComment",Z.defaultProps={avatarUrl:null,isReply:!1,isStaffCommenter:!1,nytTitle:"",location:""};var $,ee=Object(w.connect)((function(e,t){var n=e.profile.data;return{avatarUrl:n.picURL,commentNotify:Boolean(n.comment_notify),displayName:n.displayName,email:n.email,isStaffCommenter:n.isReporter,location:n.location,nytTitle:n.title,text:e.commentEntry.submittedComments[t.replyToCommentId]}}))(Z),te=n("InUh"),ne=n.n(te),oe=ne()((function(){return Promise.all([n.e(0),n.e(24),n.e(70)]).then(n.bind(null,"69BI"))}),{loadableGenerated:{webpack:function(){return["69BI"]},modules:["./CommentForm"]}}),ie=Object(R.css)("position:relative;");function ae(e){var t=e.replyToCommentId,n=e.article;return r()("div",{className:ie},void 0,r()(oe,{article:n,replyToCommentId:t}))}ae.displayName="CommentEntry",ae.defaultProps={replyToCommentId:void 0},ae.fragments={article:m()($||($=i()(["\n    fragment CommentEntry_article on Article {\n      id\n      ...CommentForm_article\n    }\n    fragment CommentForm_article on Article {\n      id\n      url\n    }\n  "])))};var re=Object(w.connect)()(ae),ce=Object(R.css)("font-size:",I.a.font.size(12),";font-weight:",I.a.font.weight.light,";line-height:",I.a.font.size(16),";margin-top:15px;h4{color:",I.a.color.gray35,";text-transform:uppercase;}"),se=Object(R.css)("border-left:2px solid ",I.a.color.gray70,";padding-left:15px;"),le=Object(R.css)("background:",I.a.color.white,";border:1px solid ",I.a.color.gray50,";border-radius:4px;color:",I.a.color.gray27,";display:block;font-size:0.62rem;font-weight:",I.a.font.weight.medium,";letter-spacing:0.025rem;line-height:",I.a.font.size(18),";margin-top:20px;padding:5px 0;text-transform:uppercase;width:100%;&:hover{background-color:",I.a.color.gray90,";border:1px solid ",I.a.color.gray60,";color:",I.a.color.gray25,";}"),de=function(e){var t=e.numTotalReplies,n=e.replies,o=e.viewId,i=e.fetchReplies,a=e.isFetchingReplies,c=e.isAcceptingComments,s=e.sourceId,l=e.articleId;if(0===t)return null;var d=n.length<t;return r()("div",{className:ce},void 0,r()("h4",{},void 0,t," ",t>1?B.a.replies:B.a.reply),r()("div",{className:se,"aria-live":"polite"},void 0,n.map((function(e){return r()(qe,{commentId:e,viewId:o,isAcceptingComments:c,isNested:!0,sourceId:s,articleId:l},e)}))),d&&r()("button",{type:"button",className:le,onClick:i},void 0,a?B.a.loading:B.a.viewAllReplies))};de.displayName="ReplyList",de.defaultProps={fetchReplies:void 0,isFetchingReplies:void 0,isAcceptingComments:void 0};var me=de,ue=n("PgO9"),pe=n("HUmG"),fe=n("TwAE"),be=n("Id00"),he=n("GUXu");function ve(e){var t=e.hasUserRecommended,n=e.recommendedCount,o=e.unrecommendComment,i=e.recommendComment,a=Object(ue.a)().user,c=Object(y.useTracking)(),s=t?B.a.recommended:B.a.recommend,l=n>0?"".concat(n," ").concat(s):s;return Object(pe.d)(a)?r()(he.b,{theme:he.a.SECONDARY,onClick:function(){return function(e){t?(c.trackEvent(Object(M.q)(e)),o()):(c.trackEvent(Object(M.k)(e)),i())}(l)}},void 0,l):r()(he.b,{theme:he.a.SECONDARY},void 0,r()(be.a,{},void 0,l))}ve.displayName="RecommendButton";var ge=Object(w.connect)((function(e,t){return{recommendedCount:Object(V.e)(e,t.commentId),hasUserRecommended:Object(V.f)(e,t.commentId)}}),(function(e,t){return{recommendComment:function(){return e(Object(A.n)(t.commentId))},unrecommendComment:function(){return e(Object(A.q)(t.commentId))}}}))(ve);function ye(e){var t=e.openCommentEntry,n=Object(ue.a)().user;return Object(pe.d)(n)?r()(he.b,{theme:he.a.ACTION,onClick:function(){t()}},void 0,B.a.reply):r()(he.b,{theme:he.a.ACTION},void 0,r()(be.a,{},void 0,B.a.reply))}ye.displayName="ReplyButton";var xe=Object(w.connect)(null,(function(e,t){return{openCommentEntry:function(){return e(Object(A.m)(t.replyToCommentId))}}}))(ye);function Oe(e){var t=e.commentId,n=e.isNested,o=e.numReplies,i=e.replyToAuthorName,a=e.replyToCommentId,c=e.shouldHideReplies,s=e.isAcceptingComments,d=e.handleShowReplies,m=Object(l.useHistory)(),u=Object(l.useLocation)(),p=!n&&a&&i&&s;if(p)return r()("span",{},void 0,p&&r()(he.b,{theme:he.a.ACTION,onClick:function(e){e.preventDefault(),Object(f.f)({history:m,location:u},a)}},void 0,B.a.inReplyTo," ",i));if(c){var b="".concat(o," ").concat(o>1?B.a.replies:B.a.reply);return r()(he.b,{theme:he.a.ACTION,onClick:d},void 0,b)}return s?r()(xe,{replyToCommentId:t}):null}Oe.defaultProps={isNested:!1,replyToAuthorName:void 0,replyToCommentId:void 0,isAcceptingComments:void 0,shouldHideReplies:void 0,handleShowReplies};var we=Object(w.connect)((function(e,t){return{numReplies:Object(V.d)(e,t.commentId),replyToCommentId:Object(V.h)(e,t.commentId),replyToAuthorName:Object(V.g)(e,t.commentId)}}))(Oe),je=n("7WMn"),Ie=function(e){var t=e.sourceId,n=e.commentId,o=e.userIsModerator,i=e.articleId;if(!o)return null;return r()(he.b,{onClick:function(){var e=Object(je.b)()===je.a.PRD?"prd":"dev",o=i.includes("/live/")?"live":"article",a="https://moderator-dashboard.".concat(e,".nyt.net/articles/").concat(o,"_").concat(t,"/comments/").concat(n);window.open(a)}},void 0,"Moderate")};Ie.displayName="InternalUseOnlyModerateButton";var Ce=Ie,ke=Object(R.css)("margin:20px 0 15px;font-family:",I.a.font.franklinBase,";font-size:0.75rem;color:",I.a.color.gray40,";line-height:1;text-align:center;width:100%;"),Ne="".concat(B.a.permalink,": ");function Te(e){var t=e.shortUrl,n=e.commentId,o=e.fetchShortUrl,i=Object(y.useTracking)().trackEvent;Object(c.useEffect)(),[o]);var a="#permid=".concat(n),s=Ne+(t?"".concat(t).concat(a):"Loading...");return r()("input",{className:ke,readOnly:!0,onClick,onFocus:function(e){var t=e.target;t.focus(),window.setTimeout(),0)},value:s})}Te.displayName="Permalink",Te.defaultProps={shortUrl:null};var ze=Object(w.connect)(),(function(e,t){return{fetchShortUrl}}))(Te),Ee=Object(R.css)("a,button{background:none;border:none;color:",I.a.color.linkColor,";font-family:",I.a.font.franklinBase,";font-size:",I.a.font.size(13),";line-height:",I.a.font.size(18),";margin-right:10px;text-align:left;text-decoration:none;vertical-align:top;&:hover{text-decoration:underline;cursor:pointer;}}"),Se=Object(R.css)("margin-right:0;float:right;a,button{color:",I.a.color.gray40,";}"),Re=ne()(),{loadableGenerated:{webpack,modules:["../FlagForm"]}});function Le(e){var t=e.commentId,n=e.viewId,o=e.sourceId,i=e.isNested,a=e.shouldHideReplies,c=e.isAcceptingComments,s=e.handleShowReplies,l=e.userIsModerator,d=e.articleId,m=Object(ue.a)().user,u=Object(pe.d)(m);return r()("div",{},void 0,r()("div",{className:Ee},void 0,r()(Ce,{userIsModerator:l,commentId:t,sourceId:o,articleId:d}),r()(we,{handleShowReplies:s,shouldHideReplies:a,isAcceptingComments:c,viewId:n,commentId:t,isNested:i}),r()(ge,{commentId:t}),r()(fe.a,{width:400,ariaLabel:"Share permalink",arrowPosition:"top",buttonContent:B.a.share,modalContent:r()(ze,{commentId:t})}),r()("div",{className:Se},void 0,u&&r()(fe.a,{width:400,ariaLabel:"Flag content menu",arrowPosition:"top",className:Se,buttonContent:B.a.flag,modalContent:r()(Re,{commentId:t})}),!u&&r()(be.a,{},void 0,B.a.flag))))}Le.displayName="Toolbar",Le.defaultProps={viewId:null};var Ae=Le,Pe=Object(R.css)("border-bottom:1px solid ",I.a.color.gray60,";font-family:",I.a.font.franklinBase,";font-weight:",I.a.font.weight.medium,";margin-top:20px;padding-bottom:20px;&:last-of-type{border:none;padding-bottom:40px;}"),Me=Object(R.css)(X.d,";margin-left:40px;"),Ue=Object(R.css)("display:inline-block;float:right;font-size:",I.a.font.size(12),";font-weight:",I.a.font.weight.bold,";line-height:",I.a.font.size(18),";white-space:nowrap;",I.a.breakpoint.medium,"{font-size:0.737rem;line-height:1.05rem;}&::before{border-radius:50%;height:18px;width:18px;background-color:#fcc772;background-image:url('","/vi-assets/static-assets/icon-t-logo-16x16-333333-d6642c94331b1039d5c1246dcdf3926a.svg","');background-position:center;background-repeat:no-repeat;background-size:10px 10px;content:'';display:inline-block;margin-right:4px;margin-bottom:-1px;vertical-align:sub;}"),Fe=Object(R.css)("font-size:",I.a.font.size(14),";line-height:",I.a.font.size(20),";overflow-x:hidden;a{color:",I.a.color.linkColor,";font-family:",I.a.font.franklinBase,";text-decoration:none;&:hover{text-decoration:underline;}",X.d,";}"),_e=Object(R.css)("font-size:",I.a.font.size(12),";line-height:",I.a.font.size(15),";color:",I.a.color.red10,";margin-top:5px;"),Be=Object(R.css)("margin-top:15px;"),He=Object(R.css)("border:none;padding-bottom:0;.",Me,"{margin-left:36px;}"),De=Object(R.css)("margin-top:10px;");function Ve(e){var t,n=e.commentId,o=e.isNested,i=e.viewId,a=e.totalComments,s=e.commentIndex,d=e.isAcceptingComments,m=e.sourceId,u=e.articleId,p=e.error,b=Object(w.useSelector)((function(t){return function(e,t){var n,o=Object(V.b)(e,t.commentId);if(!o)return{error:!0};var i=o.attributes.authorPanel,a=Object(V.h)(e,t.commentId),r={profile:{name:i.name,location:i.location,avatarUrl:i.avatar,title:i.title},isoTimestamp:o.attributes.sourceApprovedAt,isHighlighted:Boolean(o.attributes.isHighlighted),isStaffCommenter:Boolean(o.attributes.isReporterReply),replyToCommentId:a,hasSubmittedReply:t.commentId in e.commentEntry.submittedComments,text:o.attributes.text,isFlagged:Object(V.k)(e,t.commentId),commentEntryReplyToCommentId:e.commentEntry.replyToCommentId,numTotalReplies:Object(V.d)(e,t.commentId),userIsModerator:null===(n=e.profile.data)||void 0===n?void 0:n.isModerator};return t.isNested||(r.isFetchingReplies=o.relationships.replies.isFetchingReplies,r.replies=Object(V.c)(e,t.commentId)||[]),r}(t,e)})),v=b.profile,x=b.isoTimestamp,O=b.isHighlighted,j=b.isStaffCommenter,C=b.replyToCommentId,k=b.hasSubmittedReply,N=b.text,T=b.isFlagged,z=b.commentEntryReplyToCommentId,E=b.numTotalReplies,S=b.userIsModerator,L=b.replies,U=b.isFetchingReplies,F=Object(w.useDispatch)(),_=Object(y.useTracking)(Object(M.c)(n)),H=_.Track,D=_.trackEvent,X=Object(l.useHistory)(),K=Object(l.useLocation)(),W=Object(c.useState)((i===P.d.HIGHLIGHTED||i===P.d.RECOMMENDED)&&0!==E),Y=g()(W,2),Q=Y[0],Z=Y[1],$=function(){i===P.d.REPORTER_REPLIES?F(Object(A.g)(u,n)):F(Object(A.i)(u,n,L.length)),D(Object(M.e)(B.a.viewAllReplies))},te=function(e){e.preventDefault(),D(Object(M.m)(i,P.d.SINGLE_COMMENT)),C?Object(f.f)({history:X,location:K},C,n):Object(f.f)({history:X,location:K},n)};if(p)return null;var ne,oe=Object(G.formatDate)(x,"elapsed","en",!0),ie="".concat(null==v?void 0:v.name," commented ").concat(oe),ae=!o&&!!E&&!Q,ce=(ne=t||(t=r()(q.a,{iso:x,formatter:"elapsed"})),i===P.d.SINGLE_COMMENT?ne:r()("a",{href:"",onClick:te},void 0,ne));return r()(H,{},void 0,r()("div",{className:Object(R.cx)(Pe,h()({},He,o)),role:"article",tabIndex:0,"aria-setsize":a,"aria-posinset":s,"aria-labelledby":"comment-description-".concat(s),"aria-describedby":"comment-content-".concat(s)},void 0,r()("a",{className:Object(R.cx)(I.a.a11y.visuallyHidden),href:"",id:"comment-description-".concat(s),"aria-label":ie,tabIndex:-1},void 0,ie),r()(J.b,{avatarTitle:null==v?void 0:v.name,title:null==v?void 0:v.name,avatarUrl:null==v?void 0:v.avatarUrl,location:null==v?void 0:v.location,timeStamp:ce,isStaffCommenter:j,secondaryContent:O&&r()("div",{className:Ue},void 0,B.a.timesPick),size:o?J.a.SMALL:J.a.MEDIUM,nytTitle:null==v?void 0:v.title}),r()("div",{className:Me},void 0,r()("p",{id:"comment-content-".concat(s),className:Fe,dangerouslySetInnerHTML:{__html:N}}),T&&r()("div",{className:_e},void 0,B.a.reported),!T&&r()("div",{className:Be},void 0,r()(Ae,{viewId:i,commentId:n,sourceId:m,isNested:o,handleShowReplies:function(){E>0&&0===L.length&&$(),Z(!1)},shouldHideReplies:Q,isAcceptingComments:d,userIsModerator:S,articleId:u}),z===n&&r()("div",{className:De},void 0,r()(re,{replyToCommentId:n})),k&&r()(ee,{isReply:!0,replyToCommentId:n}),ae&&r()(me,{viewId:i,replies:L,numTotalReplies:E,fetchReplies:$,isFetchingReplies:U,isAcceptingComments:d,sourceId:m,articleId:u})))))}Ve.displayName="Comment",Ve.defaultProps={error:!1,isNested:!1,totalComments:0,commentIndex:0};var qe=Object(u.a)(Ve),Ge=n("XnIf"),Je=Object(R.css)("color:",I.a.color.blue20,";font-size:13px;margin-bottom:10px;position:relative;text-align:right;"),Xe=Object(R.css)("cursor:pointer;display:inline-block;"),Ke=Object(R.css)("background:none;display:inline-block;width:9px;margin-left:6px;margin-bottom:2px;vertical-align:baseline;@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){height:10px;}"),We=Object(R.css)("background-color:",I.a.color.white,";cursor:pointer;position:absolute;right:0;width:105px;ul{border-style:solid;box-shadow:2px 4px 6px ",I.a.color.gray60,";padding-top:4px;text-align:left;}li{color:",I.a.color.black,";padding:10px;&:hover{background-color:",I.a.color.gray90,";}}"),Ye=Object(R.css)("font-weight:",I.a.font.weight.mediumBold,";");function Qe(e){var t=e.articleId,n=e.listId,o=e.sortOptions,i=e.sortCommentList,a=e.selectedSortType,l=Object(y.useTracking)(),d=Object(c.useRef)(null),m=Object(c.useRef)(null),u=Object(c.useState)(!1),p=g()(u,2),f=p[0],b=p[1];Object(c.useEffect)(),[]);var v,x=function(e,o){o.preventDefault(),e!==a&&(i(t,n,e),l.trackEvent(Object(M.n)(e))),v(),m.current&&m.current.focus()};if(0===o.length)return null;var O=o.find());return s.a.createElement("div",{className:Je,ref:d},s.a.createElement("div",{role:"button",id:"comment-list-toggle-sort-options",tabIndex:0,onClick:v,onKeyDown:function(e){return Object(k.a)(e,v)},className:Xe,ref:m},r()("span",{},void 0,"Sort by: ",O.label),r()("button",{type:"button",className:Ke,tabIndex:-1,"aria-expanded":f,"aria-haspopup":"true"},void 0,r()(Ge.a,{fill:I.a.color.blue20}))),f&&r()("div",{className:We},void 0,r()("ul",{role:"tablist"},void 0,o.map((function(e){var t=e.sortType,n=e.label;return r()("li",{onClick,onKeyDown:function(e){Object(k.a)(e,))},role:"tab",className:Object(R.cx)(h()({},Ye,t===a)),"aria-selected":t===a,tabIndex:0},t,n)})))))}Qe.displayName="SortOptions",Qe.defaultProps={selectedSortType:null};var Ze=Object(w.connect)((function(e,t){var n=e.commentLists[t.listId];return{sortOptions:(n.sortTypes||[]).map()),selectedSortType:n.selectedSortType||null}}),(function(e){return{sortCommentList:function(t,n,o){return e(Object(A.p)(t,n,o))}}}))(Qe),$e=Object(R.css)("font-size:",I.a.font.size(13),";line-height:",I.a.font.size(20),";margin-top:20px;"),et=Object(R.css)("background:",I.a.color.white,";border:1px solid ",I.a.color.gray50,";border-radius:4px;color:",I.a.color.gray27,";display:block;font-size:0.62rem;font-weight:",I.a.font.weight.medium,";letter-spacing:0.025rem;line-height:",I.a.font.size(18),";margin-top:20px;padding:5px 0;text-transform:uppercase;width:100%;&:hover{background-color:",I.a.color.gray90,";border:1px solid ",I.a.color.gray60,";color:",I.a.color.gray25,";}"),tt=function(e){var t=e.children,n=e.offset,o=e.onEnter,i=e.onExit;if(e.disable||n>t.length)return t;var a=F()(t),c=r()(_.Waypoint,{onEnter:o,onExit:i},"waypointTwo");return a.splice(t.length-n,0,c),a};function nt(e){var t=e.shouldShowPanel,n=e.fetchCommentList,o=e.fetchCommentListNext,i=e.selectedSortType,a=e.viewId,s=e.articleId,l=e.listId,d=e.sourceId,m=e.commentIds,u=e.isFetching,p=e.isAcceptingComments,f=e.hasNext,b=e.isFetchingNext,h=Object(y.useTracking)();Object(c.useEffect)(),[t,l,n,s]);var v=u||null===m?B.a.loading:0===m.length?B.a.noComments:null;if(v)return r()("div",{className:$e},void 0,v);var g=B.a.readMore,x=B.a.loading;return r()("div",{role:"feed",tabIndex:-1,"aria-label":B.a.commentList},void 0,i&&r()(Ze,{articleId:s,listId:l,viewId:a}),m&&r()(tt,{offset:15,onEnter,disable:!f},void 0,m.map((function(e,t){return r()(qe,{tabIndex:0,totalComments:m.length,commentIndex:t+1,articleId:s,viewId:a,isAcceptingComments:p,commentId:e,sourceId:d},e+a)}))),f&&r()("button",{id:"comments-panel-read-more",type:"button",className:et,onClick:function(){return e=g,h.trackEvent(Object(M.h)(a,e)),void o(s,l);var e},disabled:b},void 0,b?x:g))}nt.displayName="CommentList",nt.defaultProps={commentIds:null,selectedSortType:null,sourceId:void 0,isFetching:void 0,isFetchingNext:void 0,isAcceptingComments:void 0};var ot,it=Object(w.connect)((function(e,t){var n,o,i=function(e,t){var n=function(e,t){return e.views[t]||null}(e,t);return n?n.listId:null}(e,t.viewId),a(e,i),r=null,c=!1,s=null;return a&&(r=a.commentIds||null,c=!!a.nextUrl,s=a.selectedSortType||null),{listId:i,commentIds:r,hasNext:c,isFetching:null===(n=e.commentLists[i])||void 0===n?void 0:n.isFetching,isFetchingNext:null===(o=e.commentLists[i])||void 0===o?void 0:o.isFetchingNext,selectedSortType:s}}),(function(e){return{fetchCommentList:function(t,n){return e(Object(A.e)(t,n))},fetchCommentListNext}}))(nt),at=Object(R.css)("margin-top:10px;"),rt=Object(R.css)("color:",I.a.color.gray20,";font-size:",I.a.font.size(14),";font-weight:",I.a.font.weight.medium,";line-height:",I.a.font.size(18),";margin-bottom:12px;margin-top:15px;a{color:",I.a.color.blue20,";font-family:",I.a.font.franklinBase,";text-decoration:none;&:hover{text-decoration:underline;}}",I.a.breakpoint.medium,"{line-height:",I.a.font.size(20),";}"),ct=Object(R.css)(X.c,";box-sizing:border-box;color:",I.a.color.gray30,";display:block;font-size:",I.a.font.size(14),";height:42px;line-height:",I.a.font.size(24),";padding-top:11px;"),st=Object(R.css)("cursor:text;");function lt(e){var t,n=e.article,o=e.isFetching,i=e.isAcceptingComments,a=e.isStaffCommenter,c=e.commentEntryReplyToCommentId,l=e.openCommentEntry,d=Object(ue.a)().user,m=Object(y.useTracking)(),u=null==n||null===(t=n.commentProperties)||void 0===t?void 0:t.prompt;if(o)return null;if(!i)return r()("div",{className:Object(R.cx)(at,rt),dangerouslySetInnerHTML:{__html:B.a.commentsClosed}});var p=Object(V.i)(),f=Object(pe.d)(d);if(c===p&&f)return r()("div",{className:at},void 0,r()(re,{article:n,replyToCommentId:p}));var b=B.a.commentPromptPlaceholder,h=u||B.a.welcome,v=B.a.moderationDisclaimer;return r()("div",{className:at},void 0,f&&r()("span",{className:Object(R.cx)(ct,st),onClick:l,onKeyPress:l,role:"textbox",tabIndex:"0"},void 0,b),!f&&r()(be.a,{},void 0,r()("span",{className:ct},void 0,b)),r()("div",{className:rt},void 0,a?B.a.verifiedNote:s.a.createElement(s.a.Fragment,null,h," ",r()("a",{href:"https://www.nytimes.com/content/help/site/usercontent/usercontent.html",target:"_blank",rel:"noopener noreferrer",onClick:function(){return e=v,void m.trackEvent(Object(M.f)(e));var e}},void 0,v))))}lt.displayName="CommentPrompt",lt.defaultProps={article:void 0,isAcceptingComments:void 0,isFetching:void 0,commentEntryReplyToCommentId:void 0,isStaffCommenter:!1},lt.fragments={article:m()(ot||(ot=i()(["\n    fragment CommentPrompt_article on Article {\n      id\n      ...CommentEntry_article\n    }\n    ","\n  "])),re.fragments.article)};var dt=Object(w.connect)((function(e){var t,n;return{isStaffCommenter:null===(t=e.profile)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.isReporter,isFetching:e.article.isFetching&&e.profile.isFetching,commentQuestion:e.panel.commentQuestion||"",commentEntryReplyToCommentId:e.commentEntry.replyToCommentId}}),(function(e){return{openCommentEntry:function(){return e(Object(A.m)(Object(V.i)()))}}}))(lt),mt=Object(R.css)("background:none;border:none;color:",I.a.color.blue20,";font-size:",I.a.font.size(13),";font-weight:",I.a.font.weight.book,";line-height:",I.a.font.size(20),";"),ut=Object(R.css)("max-width:300px;text-align:center;"),pt=Object(R.css)("font-family:",I.a.font.franklinBase,";font-weight:",I.a.font.weight.bold,";font-size:17px;display:flex;justify-content:center;align-items:center;.",ut,"{padding:100px 0;}@supports (height:100vh){height:70vh;.",ut,"{padding:0;}}");function ft(e){var t=e.articleId,n=e.sourceId,o=e.commentId,i=e.replyCommentId,a=e.isFetching,s=e.isCommentLoaded,l=e.isAcceptingComments,d=e.fetchComments,m=e.closeView,u=Object(c.useState)(a),p=g()(u,2),f=p[0],b=p[1];return Object(c.useEffect)((function(){var e;d(t,o,i?[i]:[]).then(e).catch(e)}),[t,o,d,i]),r()("div",{},void 0,r()("button",{type:"button",className:mt,onClick:m},void 0,B.a.backToAllComments),s&&r()(qe,{articleId:t,sourceId:n,commentId:o,viewId:P.d.SINGLE_COMMENT,isAcceptingComments:l}),!f&&!s&&r()("div",{className:pt},void 0,r()("span",{className:ut},void 0,B.a.commentNotFound)))}ft.displayName="SingleComment",ft.defaultProps={isFetching:!0,sourceId:void 0,isAcceptingComments:void 0,isCommentLoaded:!1,replyCommentId:""};var bt,ht=Object(w.connect)((function(e,t){var n=Object(V.b)(e,t.commentId);return{isCommentLoaded:Boolean(n)}}),))(ft),vt=n("+4HN"),gt=Object(R.css)("font-family:",I.a.font.franklinBase,";font-weight:",I.a.font.weight.medium,";font-size:",I.a.font.size(17),";letter-spacing:0.2px;line-height:1.2rem;display:flex;justify-content:center;align-items:center;height:100%;width:100%;"),yt=Object(R.css)("max-width:300px;p{padding:1em 0;}"),xt=Object(R.css)("color:",I.a.color.blue20,";"),Ot=function(){return bt||(bt=r()("div",{className:gt},void 0,r()("div",{className:yt},void 0,r()("p",{},void 0,"Due to technical difficulties, comments are unavailable. Weâ€™re working to fix the issue as soon as possible."),r()("p",{},void 0,"If you have a critical piece of feedback for us, you can always reach the newsroom via the"," ",r()(vt.a,{className:xt,alt:"reader center",url:"https://www.nytimes.com/2017/08/08/reader-center/we-want-to-hear-from-you.html"},void 0,"Reader Center"),"."),r()("p",{},void 0,"Thank you for reading, and sorry for the trouble!"))))};Ot.displayName="UnderMaintenance";var wt=Ot,jt=Object(R.css)("position:relative;"),It=Object(R.css)("background:-webkit-linear-gradient(left,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);height:42px;position:absolute;pointer-events:none;right:0;top:0;width:30px;z-index:2;"),Ct=Object(R.css)("background:",I.a.color.white,";border-bottom:1px solid ",I.a.color.gray60,";box-shadow:0 6px 6px -6px ",I.a.color.gray60,";display:block;height:42px;-webkit-overflow-scrolling:touch;overflow-x:auto;overflow-y:hidden;&::-webkit-scrollbar{display:none;}@media (max-width:",I.a.breakpoint.width.small,"px){padding:0 20px;}ul{color:",I.a.color.gray35,";display:inline-block;font-size:",I.a.font.size(14),";line-height:",I.a.font.size(21),";overflow:hidden;white-space:nowrap;",I.a.breakpoint.medium,"{font-size:",I.a.font.size(14),";line-height:",I.a.font.size(21),";}",I.a.breakpoint.extraLarge,"{font-size:",I.a.font.size(14),";line-height:",I.a.font.size(21),";}li{display:inline-block;cursor:pointer;padding-top:15px;padding-bottom:4px;margin-right:20px;min-width:30px;text-align:center;font-weight:",I.a.font.weight.mediumBold,";a{color:",I.a.color.gray35,";}&.selected{border-bottom:2px solid ",I.a.color.black,";color:",I.a.color.black,";font-weight:",I.a.font.weight.mediumBold,";a{color:",I.a.color.black,";}}}}");function kt(e){var t=e.tabs,n=e.selectedViewId,o=e.selectView,i=e.firstTabRef,a=Object(y.useTracking)();return 0===t.length?null:r()("div",{className:jt},void 0,r()("div",{className:It}),r()("div",{className:Ct},void 0,r()("ul",{role:"tablist"},void 0,t.map((function(e,t){var c=e.viewId,l=e.label;return r()("li",{className:Object(R.cx)({selected:n===c}),role:"tab","aria-selected":n===c},c,s.a.createElement("a",{href:"",ref:0===t?i:null,tabIndex:0,onClick:function(e){return function(e,t){t.preventDefault(),e!==n&&(a.trackEvent(Object(M.m)(n,e)),o(e))}(c,e)}},l))})))))}kt.displayName="Tabs",kt.defaultProps={tabs:[],selectedViewId:null};var Nt,Tt=Object(w.connect}}}}))(kt),zt=n("kV2j"),Et=Object(R.css)("color:",I.a.color.black,";display:inline-block;font-weight:",I.a.font.weight.bold,";font-size:",I.a.font.size(30),";line-height:",I.a.font.size(34),";padding-left:2px;padding-right:2px;span{color:",I.a.color.gray20,";font-weight:",I.a.font.weight.medium,";font-size:",I.a.font.size(24),";line-height:",I.a.font.size(29),";}a:focus{outline:0;}"),St=Object(R.css)("color:",I.a.color.blue30,";display:none;font-family:",I.a.font.serifMedium,";line-height:1.18rem;margin-top:5px;text-decoration:none;&:hover{text-decoration:underline;}"),Rt=Object(R.css)("font-family:",I.a.font.franklinBase,";font-size:",I.a.font.size(14),";line-height:",I.a.font.size(20),";font-weight:",I.a.font.weight.bold,";text-transform:uppercase;letter-spacing:0.05em;top:50px;right:125px;"),Lt="Comments Panel";function At(e){var t=e.closePanel,n=e.skipToCommentList,o=e.commentCount,i=e.article;return r()("header",{},void 0,r()("h2",{className:Et},void 0,r()("a",{href:"#commentsContainer",tabIndex:-1,"aria-label":Lt},void 0,"Comments ",o>0&&r()("span",{},void 0,o))),r()("a",{className:St,href:"",onClick:t},void 0,i.headline.default),r()("a",{href:"",className:Object(R.cx)(I.a.a11y.visuallyHidden,I.a.a11y.focusable,Rt),onClick:n,tabIndex:0},void 0,"Skip to Comments"))}At.displayName="Header",At.defaultProps={commentCount:void 0},At.fragments={article:m()(Nt||(Nt=i()(["\n    fragment Header_article on Article {\n      id\n      headline {\n        default\n      }\n    }\n  "])))};var Pt,Mt,Ut=Object(w.connect}}))(At),Ft=Object(R.css)("background-color:",I.a.color.white,";box-shadow:3px 0 12px 3px rgba(0,0,0,0.25);font-family:",I.a.font.franklinBase,";height:100%;overflow:hidden;position:fixed;right:0;top:0;width:100%;z-index:",I.a.zIndex.commentsPanel,";visibility:hidden;",I.a.printHide,";",I.a.breakpoint.small,"{width:530px;}"),_t=Object(R.css)("transform:translateX(110%);transition:transform 300ms ease,visibility 300ms;"),Bt=Object(R.css)("visibility:visible;transform:none;transition:transform 300ms ease,visibility 300ms;"),Ht=Object(R.css)(I.a.breakpoint.small,"{width:100%;}"),Dt=Object(R.css)("background-color:",I.a.color.white,";display:block;height:15px;right:16px;position:absolute;top:16px;width:15px;z-index:3;@media (max-width:",I.a.breakpoint.width.small,"px){right:15px;}"),Vt=Object(R.css)("height:100%;overflow-y:scroll;width:100%;-webkit-overflow-scrolling:touch;"),qt=Object(R.css)("padding:40px 0;position:relative;box-sizing:border-box;height:100%;"),Gt=Object(R.css)("padding:0 40px;z-index:0;@media (max-width:",I.a.breakpoint.width.small,"px){padding:0 20px;}"),Jt=Object(R.css)("margin-bottom:10px;position:sticky;top:0;z-index:2;",I.a.breakpoint.small,"{padding:0 40px;}"),Xt=Object(R.css)("position:fixed;inset:0;background:rgba(0,0,0,0.3);z-index:1000000105;"),Kt=Object(z.a)(),Wt=Object(E.f)(S.a);function Yt(e){var t,n=e.article,o=e.shouldShowPanel,i=Object(w.useDispatch)(),a=Object(l.useHistory)(),d=Object(l.useLocation)(),m=Object(T.a)(),u=Object(c.useRef)(null),b=Object(c.useRef)(null),v=Object(c.useRef)(null),x=Object(c.useRef)(null),j=Object(c.useRef)(null),z=Object(c.useState)(!1),E=g()(z,2),S=E[0],U=E[1],F=Object(c.useState)(!1),_=g()(F,2),B=_[0],H=_[1],D=Object(w.useSelector)((function(e){return function(e,t){var n,o={viewId:e.panel.viewId},i=Object(f.c)(t.location),a=i.commentId,r=i.replyCommentId;return a&&(o.backToViewId=o.viewId,o.viewId=P.d.SINGLE_COMMENT,o.singleComment={commentId:a,replyCommentId:r}),null!==(n=e.article)&&void 0!==n&&n.data&&(o.articleId=e.article.data.id),o.isAcceptingComments=Object(p.f)(e.article.commentStatus),o.hasSubmittedParentComment=!1,o.replyToCommentId=Object(V.i)(),o.isUnderMaintenance=e.panel.isUnderMaintenance||!1,e.commentEntry&&(o.hasSubmittedParentComment=Object(V.i)()in e.commentEntry.submittedComments),o}(e,{location:d})})),q=D.viewId,G=D.backToViewId,J=D.singleComment,X=D.articleId,K=D.isAcceptingComments,W=D.replyToCommentId,Y=D.hasSubmittedParentComment,Q=D.isUnderMaintenance,Z=Object(y.useTracking)(Object(M.l)(q)),$=Z.Track,te=Z.trackEvent,ne=function(){te(Object(M.b)()),function(){if(document&&window){var e=window.NYT_SPEECHBUBBLE||"comments-speech-bubble-top",t=document.getElementById(e);t&&(t.focus(),delete window.NYT_SPEECHBUBBLE)}}(),Object(f.a)({history:a,location:d})},)},ie=function(e){if("Tab"===e.key||9===e.keyCode){var t=null==v?void 0:v.current.querySelectorAll('button:not(button[id="comments-panel-read-more"]), [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=t[t.length-1];e.shiftKey&&document.activeElement===u.current&&(e.preventDefault(),n.focus()),e.shiftKey||document.activeElement!==n||(e.preventDefault(),u.current.focus())}},ae=function(){var e,t,o=O.a.parse(d.search);i(Object(A.h)(n.url)),i(Object(A.d)(X,n.url)),u.current&&setTimeout((function(){return u.current.focus()}),450),"HPCommentsRefer"===o.modref?t=M.a.AUTOOPEN_HOME:"comment-approval"===o.emc?t=M.a.AUTOOPEN_EMAIL_LINK:q===P.d.SINGLE_COMMENT?t=M.a.AUTOOPEN_PERMALINK:void 0===(null===(e=a.location)||void 0===e?void 0:e.state)&&a.location.hash==="#".concat(p.b.COMMENTS_PANEL)&&(t=M.a.AUTOOPEN),Object(f.g)({hidden:!0}),t&&setTimeou)}),1e3)},)};Object(c.useEffect)((function(){var e;return o&&(e=setTimeou)}),3e3),B&&Object(N.a)((function(){!S&&o&&(window.Iterate("install","6193eb18c2492100018d54a9"),window.Iterate("identify",{agentId:Wt,referrerUrl:document.referrer,referrerPage:document.location,device:Kt}),U(!0))}))}}),[o,S,B]),Object(c.useEffect)((function(){o&&ae(),window.NYT_openCommentsPanel=re}),[]),Object(c.useEffect)((function(){null!==j.current&&!j.current&&o&&ae(),j.current=o;var e=null==u?void 0:u.current;return o&&e&&(document.addEventListener("keydown",oe),document.addEventListener("keydown",ie)}}),[o]);var ce=!Q&&J&&J.commentId,se=!Q&&!ce,le=Object(L.a)().fastlyAbraConfig,de="1_commentsTransition"!==(null==le?void 0:le.WP_cwv_inp_1023)?_t:"";return r()($,{},void 0,r()("div",{id:"overlay-comment-pannel",className:Object(R.cx)(h()({},Xt,o&&!m)),onClick:function(e){e.stopPropagation(),"overlay-comment-pannel"===e.target.id&&ne()}},void 0,r()("div",{className:Object(R.cx)(Ft,de,(t={},h()(t,Bt,o),h()(t,Ht,m),t)),id:"comments-panel",role:"region","aria-label":"comments panel","data-testid":"comments-panel",tabIndex:-1},void 0,!m&&s.a.createElement("button",{ref:u,type:"button",className:Dt,onClick:ne,"aria-label":"close comments panel","data-testid":"close-comments-panel"},r()(C.a,{tabIndex:0,stroke:I.a.color.gray30})),r()("div",{className:Vt},void 0,r()("div",{className:qt},void 0,Q&&(Pt||(Pt=r()(wt,{}))),ce&&X&&r()("div",{className:Gt},void 0,r()(ht,{tabIndex:0,sourceId:n.sourceId,articleId:X,commentId:J.commentId,replyCommentId:J.replyCommentId,closeView:function(){te(Object(M.m)(P.d.SINGLE_COMMENT,G)),Object(f.b)({history:a,location:d})},isAcceptingComments:K})),se&&r()("div",{},void 0,r()("div",{className:Gt},void 0,r()(Ut,{article:n,closePanel:ne,skipToCommentList:function(e){e.preventDefault(),x.current&&setTimeou)}),500)}}),!Y&&r()(dt,{article:n,isAcceptingComments:K}),Y&&r()(ee,{replyToCommentId:W})),s.a.createElement("div",{ref:b,className:Jt},r()(Tt,{selectedViewId:q,firstTabRef:x})),s.a.createElement("div",{ref:v,className:Gt},X&&q&&r()(it,{shouldShowPanel:o,isAcceptingComments:K,viewId:q,articleId:X,sourceId:n.sourceId}))))))))}Yt.displayName="CommentsPanel",Yt.fragments={article:m()(Mt||(Mt=i()(["\n    fragment CommentsPanel_article on Article {\n      id\n      ...CommentPrompt_article\n      ...Header_article\n      sourceId\n      url\n    }\n    ","\n    ","\n  "])),dt.fragments.article,Ut.fragments.article)};var Qt,Zt=Yt;function $t(e){var t=e.article,n=Object(l.useLocation)();return Object(p.h)(t.commentProperties.status)?r()(Zt,{shouldShowPanel:Object(f.d)({location:n}),article:t}):null}$t.fragments={article:m()(Qt||(Qt=i()(["\n    fragment CommentsPanelContainer_article on Article {\n      id\n      commentProperties {\n        status\n        prompt\n      }\n      ...CommentsPanel_article\n    }\n    ","\n  "])),Zt.fragments.article)};var en=Object(u.a)($t);en.displayName="CommentsPanelContainer";var tn=en}}]);
//# sourceMappingURL=comments-eeb56c9961899103c0c8.js.map