!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[7035,9966,6341,2781,2299],{27178:(e,t,s)=>{s.d(t,{Z:()=>T});var i=s(54138),a=s.n(i),n=s(33970),r=s.n(n),o=s(2843),l=s(54382),d=s(90127),c=s(95004),h=s(13883),p=s(42580),u=s(43523),g=s(42946),m=s(78667),v=s(58849),x=s(1e4),f=s(80328),b=s(63583),j=s.n(b),w=s(2629);let T=e=>{var t=e.title,s=e.subtitle,i=e.signupText,n=e.source,b=void 0===n?"explore_floating_sign_up":n,T=e.isDismissible,y=void 0===T||T,k=e.isFloating,C=void 0===k||k,N=e.avoidSidebar,P=e.fullWidth,S=e.textColor,R=void 0===S?j().white:S,I=e.backgroundColor,M=void 0===I?j().zunePurple:I,Z=e.withLoginButton,L=(0,m.bp)(),B=L.routeSet,F=L.isLoggedIn,E=L._t,_=L._c,O=L.getCookie,A=L.setCookie,z=L.logEvent,D=L.features,H=D.loggedOutImprovementsCtas,V=D.redpopDesktopVerticalNav,U=(0,v.h)().openLoginWall,W=(0,c.useState)(!1),q=r()(W,2),J=q[0],G=q[1],Q="main"===B?F:O(h.zC.LOGGED_IN)===h.Ox;(0,c.useEffect)(()=>{G(!0)},[]);var $=_("This is a caption for a button indicating that the user doesn't want to sign up now, but we're optimistic that they will sign up later. Should be kept short to fit smaller form factors.","Maybe later"),Y=null!=i?i:E(V&&!H?"Log in":"Sign me up"),K=null!=t?t:H?void 0:E("It's time to try Tumblr"),X=(null!=s?s:H)?(0,w.jsx)(l.ZP,{comment:"Subtitle on a call to action bragging to a potential user about how great our content is",components:{strong:(0,w.jsx)("strong",{})},children:"Join over [strong]100 million[/strong] people using [strong]Tumblr[/strong] to find their [strong]communities[/strong] and make [strong]friends[/strong]."}):_("This is our website bragging to a potential user about how great our content is","You'll never be bored again."),ee=(0,c.useCallback)(()=>{var e=new Date(Date.now()+g.g.Week);A(h.zC.SIGN_UP_CTA_DISMISSED,h.Ox,{expires:e}),z({eventName:u.J.SignUpCTAClickDismiss})},[z,A]),et=(0,f.Z)(b),es=(0,c.useCallback)(e=>{if(null==e||e.preventDefault(),z({eventName:u.J.SignUpCTAClickRegister,eventDetails:{loggedOutImprovementsCtas:!!H,isBottomBanner:C}}),"archive_floating_sign_up"===b){var t=(0,d.gZ)({formToShow:p.c.Register},{source:"archive_login_wall"});window.location.assign(`//${(0,x.Z)(window.location.host)}${t}`)}else U({form:p.c.Register,source:et})},[]);return(V||O(h.zC.SIGN_UP_CTA_DISMISSED)!==h.Ox)&&!Q&&J?(0,w.jsx)(o.Z,a()(a()({title:K,subtitle:X,floating:C,avoidSidebar:void 0!==N&&N,fullWidth:void 0!==P&&P,dismissButtonCallback:ee},y&&{dismissButtonCaption:$}),{},{confirmButtonCaption:Y,centered:!y,onConfirm:es,color:R,source:et,background:M,withLoginButton:H&&void 0!==Z&&Z,wavy:!H})):null}},94765:(e,t,s)=>{s.d(t,{Z:()=>u});var i=s(54138),a=s.n(i),n=s(9156),r=s(95004),o=s(78994),l=s(36485),d=s(22979),c=s(78667),h=s(26963),p=let u=e=>{var t=e.children,s=e.getEndpointApiRequestFromQueryParams,i=e.timelineName,h=(0,c.bp)().bestStuffFirstDisabled,u=(0,o.s0)(),g=(0,o.TH)(),m=g.pathname,v=g.search,x=g.state,f=(0,o.UO)(),b=(0,n.Z)((e,t,i,n,r)=>s(a()({max_post_id:t,v:i,"wrapped-timeline":n},r&&{cursor:r})),{maxSize:1});(0,r.useEffect)(()=>{var e=()=>{window.history.replaceState(a()(a()({},x),{},{paginationQueryParams:{}}),"")};return window.addEventListener("beforeunload",e),,[]);var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;return a()(a()(a()({},!t&&(null==x?void 0:x.paginationQueryParams)),p(e)),f)},w=j();return(0,r.cloneElement)(t,{endpointApiRequest:b(i,w.max_post_id,w.v,w["wrapped-timeline"],w.cursor),updateUrlFromCurrentPageLink:(e,t)=>{var s=j(e,t||!e);u((0,l.Z)(m,a()(a()({},p(v)),{},{max_post_id:s.max_post_id})),{state:a()(a()({},x),{},{paginationQueryParams:s})})},updateUrlFromObjects:e=>{if(h){var t,s=null==e||null===(t=e.filter(d.xT))||void 0===t?void 0:t[0];if(s){var i=s.id;"undefined"!=typeof BigInt&&(i=(BigInt(i)+BigInt(1)).toString()),u((0,l.Z)(m,a()(a()({},p(v)),{},{max_post_id:i})),{state:a()(a()({},x),{},{paginationQueryParams:{}})})}}},prevButtonIsRefresh:!!w.max_post_id})}},53852:(e,t,s)=>{s.d(t,{Z:()=>a});var i=(0,s(36343).q)("posts-photo",{altIcon:"posts-photo-alt"});i.defaultProps={size:{width:24,height:24},useAltIcon:!1};let a=i},26472:(e,t,s)=>{s.d(t,{Z:()=>z});var i=s(54138),a=s.n(i),n=s(33970),r=s.n(n),o=s(95004),l=s(45222),d=s(5700),c=/_1280\.(gif|jpg|png)/;function h(e){var t=e.url;return e.width>=1280||c.test(t)}function p(e){var t=e.media;return!!t&&!!t&&t.filter(h).length>0}function u(e){var t=e.content;return!!t&&t.filter(d.RD).filter(p).length>0}var g=s(50209),m=s.n(g),v=s(5754),x=s.n(v),f=s(35665),b=s(2629);class j extends o.Component{constructor(){super(...arguments),m()(this,"state",{isImageLoaded:!1}),m()(this,"imageDidLoad",()=>{this.setState({isImageLoaded:!0})})}render(){var e=this.props,t=e.imageResponse,s=e.sizes,i=this.state.isImageLoaded;return(0,b.jsx)("aside",{className:x()("YkJTX",{HvnFz:!i}),children:(0,b.jsx)(f.Z,{className:"nFMBL",imageResponse:t,tabIndex:-1,onLoad:this.imageDidLoad,sizes:void 0===s?"100vw":s})})}}var w=s(54382),T=s(82952),y=s(56777),k=s(36376);let C={background:"wA_I7",content:"KQFN5",attribution:"OW98Y",attributionText:"jkvAS",attributionAvatar:"peaPK",footer:"pjd4J"};var N=e=>{var t=(0,o.useState)(null==e?void 0:e.filter(u)),s=r()(t,2),i=s[0],a=s[1];(0,T.s)(()=>{a(null==e?void 0:e.filter(u))},[e]);var n=(0,y.h)(i);if(!n)return null;var l=[n.content.filter(d.RD)[0].media[0]],c=n.blog.theme,h=(0,k.Z)(n);return{imageResponse:l,avatarShape:null==c?void 0:c.avatarShape,postAttribution:h}},P=e=>{var t=e.children,s=e.footer,i=N(e.posts),n=null;if(i){var r=i.postAttribution.blog,o=r.url,d=r.name,c=r.avatar,h=i.avatarShape,p=(0,b.jsx)(w.ZP,{comment:"Post attribution.",params:{blogName:d},components:{strong:(0,b.jsx)("strong",{})},children:"Posted by [strong][blogName][/strong]"}),u=(0,b.jsx)(w.ZP,{comment:"More descriptive post attribution for background art on landing page.",params:{blogName:d},components:{strong:(0,b.jsx)("strong",{})},children:"Background art by [strong][blogName][/strong]"});n=(0,b.jsxs)("div",{className:C.attribution,children:[(0,b.jsxs)("a",{className:C.attributionText,href:o,children:[(0,b.jsx)("span",{role:"presentation","aria-hidden":!0,children:p}),(0,b.jsx)("span",{className:"screenReaderOnly",children:u})]}),(0,b.jsx)("span",{className:C.attributionAvatar,children:(0,b.jsx)(l.Z,{imageResponse:c,avatarShape:h,name:d,url:o,dimension:24})})]})}var g=i?(0,b.jsx)(j,a()({},i)):null;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:C.background,"aria-hidden":!0,children:g}),(0,b.jsxs)("div",{className:C.content,children:[t,(0,b.jsxs)("div",{className:C.footer,children:[(0,b.jsx)("div",{children:s}),n]})]})]})},S=s(84397);let R={backgroundGrid:"c94kc",gridImg:"Tf7JU",content:"PSkJW"};var I=e=>{var t=e.children,s=e.posts.map(e=>{var t=e.trail,s=e.content;return(0,S.Z)(t,s,!0)}).filter(.slice(0,12).map(e=>e.media),i=s.length?s.map(e=>(0,b.jsx)("div",{className:R.gridImg,children:(0,b.jsx)(j,{imageResponse:e,sizes:"33vw"})},e[0].url)):null;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:R.backgroundGrid,children:i}),(0,b.jsx)("div",{className:R.content,children:t})]})},M=s(17287),Z=s(83644),L=s(37236),B=s(43523),F=s(78667),E=e=>{var t,s,i=e.objectType,a=e.price,n=e.supplyRequestId,r=e.supplyOpportunityInstanceId,o=e.adProviderId,l=e.isTumblrSponsoredPost,d=e.sponsoredBadgeUrl,c=e.advertiserId,h=e.adProviderForeignPlacementId,p=e.adProviderPlacementId,u=e.adProviderInstanceId,g=e.mediationCandidateId,m=e.displayType,v=e.fillId,x=e.placementId,f=e.creativeId,b=e.campaignId,j=e.adGroupId,w=e.id,T=e.adRequestId,y=e.adInstanceId,k=e.adInstanceCreatedTimestamp,C=e.supplyProviderId,N=new Date().getTime()-k;return{price:a,trackable_type:i,supply_opportunity_instance_id:r,supply_provider_id:C,supply_request_id:n,ad_provider_id:o,is_tumblr_sponsored_post:l||d?1:0,advertiser_id:c,ad_provider_placement_id:p,ad_provider_foreign_placement_id:h,ad_provider_instance_id:u,mediation_candidate_id:g,display_mode:m,blog_id:null!==(t=null===(s=e.blog)||void 0===s?void 0:s.uuid)&&void 0!==t?t:"",placement_id:x,fill_id:v,creative_id:f,ad_id:w,ad_instance_age:N,ad_request_id:T,ad_instance_id:y,ad_group_id:j,campaign_id:b}};let _={backgroundTakeover:"IxjTL",takeoverAttribution:"WkCgc",takeoverAvatar:"IzrMQ"},O=function(e){var t,s,i,a,n,r=e.footer,o=e.children,d=(0,F.bp)(),c=d.configRef,h=d.logEvent,p=d.logImpression,u=null==c?void 0:c.takeoverLoggedOut,g=null!=u&&u.takeoverAd?E(u.takeoverAd):{};if(!(null!=u&&u.imageUrl))return null;if(u.imageBlogName){var m=(0,b.jsx)(w.ZP,{comment:"Post attribution.",params:{blogName:u.imageBlogName},components:{strong:(0,b.jsx)("strong",{})},children:"Posted by [strong][blogName][/strong]"});i=(0,b.jsx)(M.Z,{blogName:u.imageBlogName,title:u.imageBlogName,krakenEventName:B.J.LoggedOutLandingBlogClick,krakenEventDetails:g,children:m})}if(u.imageAvatarUrl){var v={url:u.imageAvatarUrl,height:64,width:64},f=(0,b.jsx)(l.Z,{imageResponse:[v],avatarShape:L.o.Square,name:u.imageBlogName,url:u.imageBlogUrl,dimension:24,eventName:B.J.LoggedOutLandingAvatarClick,eventDetails:g});a=(0,b.jsx)("span",{className:_.takeoverAvatar,children:f})}if(u.imageArtistName){var j=(0,b.jsx)(w.ZP,{comment:"Post attribution.",params:{artistName:u.imageArtistName},components:{strong:(0,b.jsx)("strong",{})},children:"Art by [strong][artistName][/strong]"});n=(0,b.jsx)("li",{children:(0,b.jsx)("a",{href:u.imageArtistUrl,onClick:children:j})})}var T=(0,b.jsxs)("ul",{className:x()(C.attribution,_.takeoverAttribution),children:[(0,b.jsxs)("li",{children:[i,a]}),n]}),y={backgroundImage:"url("+u.imageUrl+")"};return p({displayType:Z.y.Sponsored,serveId:null===(t=u.takeoverAd)||void 0===t?void 0:t.adInstanceId,placementId:null===(s=u.takeoverAd)||void 0===s?void 0:s.placementId,eventName:B.J.Impression,eventDetails:g}),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:_.backgroundTakeover,style:y}),(0,b.jsxs)("div",{className:C.content,children:[o,(0,b.jsxs)("div",{className:C.footer,children:[(0,b.jsx)("div",{children:r}),T]})]})]})};var A=s(25190);let z=e=>{var t=e.footer,s=e.posts,i=e.children,a=(0,F.bp)().configRef;return null!=a&&a.takeoverLoggedOut?(0,b.jsx)(O,{footer:t,posts:s,children:i}):(0,b.jsx)(A.ZP,{children:e=>e.isMobile?(0,b.jsx)(I,{posts:s,children:i}):(0,b.jsx)(P,{footer:t,posts:s,children:i})})}},20929:(e,t,s)=>{s.d(t,{Z:()=>n});var i=s(54382),a=s(2629);let n=function(){return(0,a.jsx)("footer",{role:"contentinfo",children:(0,a.jsxs)("ul",{className:"dcVg0",children:[(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"/policy",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(i.ZP,{comment:"Link to terms of service",children:"Terms"})})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"/privacy_policy",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(i.ZP,{comment:"Link to privacy policy",children:"Privacy"})})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"/jobs",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(i.ZP,{comment:"Link to jobs page",children:"Jobs"})})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"/support",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(i.ZP,{comment:"Link to support page",children:"Support"})})})]})})}},931:(e,t,s)=>{s.d(t,{Z:()=>L});var i=s(50209),a=s.n(i),n=s(5754),r=s.n(n),o=s(95004),l=s(55351),d=s(90127),c=s(43452),h=s(5700),p=s(59215),u=s(44561),g=s(83875),m=s(39277),v=s(54138),x=s.n(v),f=s(81022),b=s(66052),j=s(48430),w=s(53852),T=s(75815),y=s(60951),k=s(40565),C=s(63583),N=s(70834),P=s(2629),S={height:35,width:40},R={[h.hQ.Text]:(0,P.jsx)(y.Z,{colors:{primary:C.colorTextPostIcon},size:S}),[h.hQ.Photo]:(0,P.jsx)(w.Z,{colors:{primary:C.colorPhotoPost},size:S}),[h.hQ.Quote]:(0,P.jsx)(T.Z,{colors:{primary:C.colorQuotePost},size:S}),[h.hQ.Link]:(0,P.jsx)(j.Z,{colors:{primary:C.colorLinkPost},size:S}),[h.hQ.Chat]:(0,P.jsx)(b.Z,{colors:{primary:C.colorChatPost},size:S}),[h.hQ.Audio]:(0,P.jsx)(f.Z,{colors:{primary:C.colorAudioPost},size:S}),[h.hQ.Video]:(0,P.jsx)(k.Z,{colors:{primary:C.colorVideoPost},size:S})};let I=function(e){var t=e.postType,s=e.label,i=e.onClick,a=(0,N.I)("new-post-type-button");return(0,P.jsxs)("button",x()(x()({onClick:className:"FOqaP","aria-label":s},a),{},{children:[(0,P.jsx)("span",{className:"ADK9v",children:R[t]}),s]}))};class M extends o.Component{constructor(){super(...arguments),a()(this,"state",{}),a()(this,"onPostTypeButtonClick",(e,t)=>{(this.props.onPostCreation||this.createDefaultPost.bind(this))(t)})}tchBlog(){var e=this.props,t=e.selectedBlogName;return(0,e.appContext.getUserInfo)().then(e=>{var s=t?e.blogs.find(e=>e.name===t):(0,u.Z)(e.blogs);this.setState({blog:s})})}createDefaultPost(e){var t=this.props,s=t.navigate,i=t.saveButtonState,a=t.selectedBlogName;(0,t.appContext.logEvent)({eventName:(0,g.Y)(e),page:"toolbar"}),s((0,d.TL)({postType:e},{[c.xq.PostSaveButtonState]:i,[c.xq.BlogName]:a}))}render(){var e=this.props.appContext._t;return(0,P.jsx)(l.Z,{children:(0,P.jsx)("div",{className:r()("wttFd",this.props.className),children:(0,P.jsxs)("ul",{children:[(0,P.jsx)("li",{children:(0,P.jsx)(I,{postType:h.hQ.Text,onClick:this.onPostTypeButtonClick,label:e("Text")})}),(0,P.jsx)("li",{children:(0,P.jsx)(I,{postType:h.hQ.Photo,onClick:this.onPostTypeButtonClick,label:e("Photo")})}),(0,P.jsx)("li",{children:(0,P.jsx)(I,{postType:h.hQ.Quote,onClick:this.onPostTypeButtonClick,label:e("Quote")})}),(0,P.jsx)("li",{children:(0,P.jsx)(I,{postType:h.hQ.Link,onClick:this.onPostTypeButtonClick,label:e("Link")})}),(0,P.jsx)("li",{children:(0,P.jsx)(I,{postType:h.hQ.Chat,onClick:this.onPostTypeButtonClick,label:e("Chat")})}),(0,P.jsx)("li",{children:(0,P.jsx)(I,{postType:h.hQ.Audio,onClick:this.onPostTypeButtonClick,label:e("Audio")})}),(0,P.jsx)("li",{children:(0,P.jsx)(I,{postType:h.hQ.Video,onClick:this.onPostTypeButtonClick,label:e("Video")})})]})})})}}var Z=(0,p.X9)(M,{appContext:!0});let L=(0,m.Z)(Z)},78079:(e,t,s)=>{s.d(t,{Z:()=>l});var i=s(5754),a=s.n(i),n=s(78143);let r={pillTagsContainer:"YDdl_",pillTag:"avzpt",isColorful:"AaHfQ"};var o=s(2629);let l=e=>{var t=e.tags,s=e.isColorful,i=e.wrapperClassName,l=e.className;return t?(0,o.jsx)("div",{className:a()(r.pillTagsContainer,i,{[r.isColorful]:s}),children:null==t?void 0:t.map(e=>(0,o.jsx)(n.Z,{tagName:e,className:r.tagLink,pillClassName:a()(r.pillTag,l),isPill:!0},e))}):null}},84458:(e,t,s)=>{s.d(t,{T:()=>h});var i=s(33970),a=s.n(i),n=s(5754),r=s.n(n),o=s(95004),l=s(78667),d=s(56625),c=s(2629),h=(0,o.forwardRef)((e,t)=>{var s,i=e.children,n=e.additionalOffset,h=void 0===n?0:n,p=e.isMasonryView,u=(0,l.bp)().features,g=(0,d.B)(),m=(0,o.useRef)(null),v=(0,o.useRef)(0);(0,o.useImperativeHandle)(t,()=>({preventTabbedDashboardAppearOnNextScroll:current:m.current}));var x=(0,o.useState)(0),f=a()(x,2),b=f[0],j=f[1],w=(0,o.useState)(!1),T=a()(w,2),y=T[0],k=T[1];(0,o.useEffect)(()=>{var e,t=(null===(e=m.current)||void 0===e?void 0:e.clientHeight)||0;t&&j(t)},[]),(0,o.useEffect)(()=>(document.body.style.setProperty("--dashboard-tabs-header-height",y?"0px":`${b}px`),()=>void document.body.style.removeProperty("--dashboard-tabs-header-height")),[y,b]);var C=(0,o.useCallback)(()=>{var e,t=(null===(e=m.current)||void 0===e?void 0:e.clientHeight)||0,s=window.scrollY>v.current,i=window.scrollY>t+200,a=!!(s&&i?t:0);a!==y&&(k(a),j(t)),v.current=window.scrollY},[y]);(0,o.useEffect)([C]);var N=y&&null!=m&&m.current?h+(null==m||null===(s=m.current)||void 0===s?void 0:s.clientHeight):h;return(0,c.jsx)("div",{style:{"--offset":`${N}px`},className:r()("Dk06o",{X4W3M:u.redpopDesktopVerticalNav,IOXBr:void 0!==p&&p,W8gYd:g}),ref:m,children:i})})},43107:(e,t,s)=>{s.d(t,{Z:()=>E});var i=s(54138),a=s.n(i),n=s(33970),r=s.n(n),o=s(54589),l=s.n(o),d=s(5754),c=s.n(d),h=s(95004),p=s(55673),u=s(36485),g=s(44009),m=(0,s(36343).q)("filter-alt");m.defaultProps={size:{width:24,height:24}};var v=s(99708),x=s(39191),f=s(25190),b=s(90127),j=s(43523),w=s(78667),T=s(68144),y=s(96467);let k={tabsNavArrowButton:"KO5EN",arrowLeft:"V7v4g",arrowRight:"TyF2z",hidden:"m2bR1"};var C=s(2629);function N(e){var t=e.scrollingEl,s=(0,w.bp)()._c,i=(0,h.useState)(!0),a=r()(i,2),n=a[0],o=a[1],l=(0,h.useState)(!0),d=r()(l,2),p=d[0],u=d[1],m=e=>{var s=t.scrollLeft+(e?t.clientWidth/2:-Math.abs(t.clientWidth/2));t.scrollTo({left:s})};return(0,h.useEffect)(()=>{function e(e){var s=t.clientWidth,i=t.children[0].clientWidth;o(e<=y.timelineTabHorizontalMarginPx),u(e>=i-s-y.timelineTabHorizontalMarginPx)}(t.scrollLeft),t.addEventListener("scroll",s);var i=new ResizeObserver(;return i.observe(t.children[0]),function(){null==t||t.children[0].removeEventListener("scroll",s),i.unobserve(t),i.disconnect()}},[t]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(g.Z,{onClick:()=>m(!1),wrapperClassName:c()(k.tabsNavArrowButton,k.arrowLeft,n&&k.hidden),"aria-label":s("Label for a button that scrolls left","Scroll left"),children:(0,C.jsx)(T.UX,{})}),(0,C.jsx)(g.Z,{onClick:()=>{m(!0)},wrapperClassName:c()(k.tabsNavArrowButton,k.arrowRight,p&&k.hidden),"aria-label":s("Label for a button that scrolls right","Scroll right"),children:(0,C.jsx)(T.jV,{})})]})}var P=s(28431),S=s(98384),R=s(9557),I=s(54382),M=s(43684);let Z={dropdownMenu:"rTGl_",dropdownMenuItem:"RSD75",dropdownTitleContainer:"WojaA",arrow:"hXMYF",isActive:"nNfe0"},L=function(e){var t,s=e.submenuElements,i=e.activeOption,n=e.getLinkProps,r=e.getButtonProps,o=e.wrapperClassName,l=e.isActiveClassName,d=!!s.includes(i),h=(0,C.jsx)("div",{className:Z.dropdownMenu,children:s.map(e=>{if(n){var t=n(e);return(0,C.jsx)(P.Z,{linkTo:t.to,className:Z.dropdownMenuItem,onClick:t.onClick,children:(0,C.jsx)("span",{"aria-label":t["aria-label"],children:t.children})},t.to)}return!!r&&(0,C.jsx)(P.Z,{children:(0,C.jsx)(g.Z,a()({},r(e)))},e)})});return(0,C.jsx)(R.Z,{component:h,position:M.I2.BottomStart,width:200,height:"auto",usePortals:!0,children:(0,C.jsx)(g.Z,{wrapperClassName:c()(void 0===o?"wrapper":o,{[void 0===l?"active":l]:d}),className:Z.timelineOptionInner,children:(0,C.jsxs)("span",{className:Z.dropdownTitleContainer,children:[(0,C.jsx)("span",{className:Z.titleContainerText,children:(t=s.find()?n?n(t).children:r(t).label:(0,C.jsx)(I.ZP,{children:"More"})}),(0,C.jsx)("span",{className:c()(Z.arrow,{[Z.isActive]:d}),children:(0,C.jsx)(S.$S,{})})]})})})},B={timelineHeader:"p4DiZ",reblogRedesignEnabled:"ani78",timelineHeaderNavInner:"WVvBo",timelineOptionsItemWrapper:"MNkkC",timelineHeaderNav:"JuP8X",timelineHeaderButtons:"Ojie7",configurableTabsHeader:"Wxvpx",timelineOptions:"uM3pd",timelineLoggedOut:"kjNtH",addBottomMargin:"ZHf8b",timelineChangeOption:"wl0Ka",timelineOptionInner:"OPOal",active:"sSq2h",timelineScrollable:"bZTy6",submenuWrapper:"vBp1h",loggedOutOptions:"DV0UQ",tabManagementLink:"vli36",sparkle:"P6ZvZ",hidden:"MR2LH"};var F=["activeOption","addBottomMargin","defaultActiveOption","getButtonProps","getLinkProps","hideOnDesktop","isConfigurableTabsHeader","isScrollingHeader","submenuOptions","timelineChangeOptionClassName","timelineOptions","timelineOptionsClassName"];let E=function(e){var t,s,i=e.activeOption,n=e.addBottomMargin,o=e.defaultActiveOption,d=e.getButtonProps,T=e.getLinkProps,y=e.hideOnDesktop,k=e.isConfigurableTabsHeader,P=void 0!==k&&k,S=e.isScrollingHeader,R=void 0!==S&&S,I=e.submenuOptions,M=e.timelineChangeOptionClassName,Z=e.timelineOptions,E=e.timelineOptionsClassName,_=l()(e,F),O=(0,f.v$)().isMobile,A=(0,w.bp)(),z=A._c,D=A.features,H=A.isLoggedIn,V=A.logEvent,U=!H&&O,W=(0,h.useState)(null),q=r()(W,2),J=q[0],G=q[1],Q=(0,h.useState)(!1),$=r()(Q,2),Y=$[0],K=$[1],X=(0,h.useCallback)(e=>c()(B.timelineChangeOption,M,{[B.active]:e,[B.loggedOutOptions]:U}),[M]),ee=(0,h.useCallback)(e=>{G(e)},[]),et=null!==(t=(0,h.useRef)(),(0,h.useEffect)([i]),s=t.current)&&void 0!==s?s:o;(0,h.useEffect)(()=>{var e=Z.indexOf(i),t=et&&Z.indexOf(et);return V({eventName:j.J.DashboardTabScreenView,eventDetails:{screen_id:"DashboardTab",tab_position:e}}),void 0!==t&&t!=e&&V({eventName:j.J.TabbedDashboardTabChanged,eventDetails:{origin_tab_index:t,destination_tab_index:e,origin_tab_id:Z[t],destination_tab_id:Z[e]}}),()=>{V({eventName:j.J.DashboardTabScreenLeft,eventDetails:{screen_id:"DashboardTab",tab_position:e}})}},[i,P]);var es=(0,h.useRef)(new Map),ei=(e,t)=>{var s=es.current;t?null==s||s.set(e,t):null==s||s.delete(e),e===i&&ea(e),K(!0)},ea=(0,h.useCallback)(e=>{if(R){var t=es.current,s=null==t?void 0:t.get(e);s&&J&&((e,t)=>{var s=matchMedia("(prefers-reduced-motion: reduce)").matches?"instant":"smooth",i=e.offsetLeft-(t.clientWidth/2-e.clientWidth/2);t.scrollTo({left:i,behavior:s})})(s,J)}},[i,Z]);return(0,C.jsxs)("div",{className:c()(B.timelineHeader,{[B.addBottomMargin]:void 0!==n&&n,[B.hideOnDesktop]:void 0!==y&&y,[B.reblogRedesignEnabled]:D.reblogRedesignNew}),children:[(0,C.jsx)("div",{className:B.timelineHeaderNav,children:(0,C.jsx)("div",{className:c()(B.timelineHeaderNavInner,{[B.timelineScrollable]:R}),ref:ee,children:(0,C.jsxs)("div",{className:c()(B.timelineOptions,E,{[B.timelineLoggedOut]:U}),children:[R&&J&&Y?(0,C.jsx)(N,{scrollingEl:J}):null,Z.map(e=>{var t=X(e===i),s={key:e},n=null==d?void 0:d(e);return T?R?(0,C.jsx)("div",{className:c()(e===i&&B.active,B.timelineOptionsItemWrapper),ref:children:(0,C.jsx)(p.rU,a()(a()(a()({},s),T(e)),{},{className:t}))},e):(0,C.jsx)(p.rU,a()(a()(a()({},s),T(e)),{},{className:t})):(0,C.jsx)(g.Z,a()(a()(a()({},s),n),{},{wrapperClassName:t,className:B.timelineOptionInner,children:n.label}))}),I&&(0,C.jsx)("div",{className:c()(B.submenuWrapper,{[B.loggedOutOptions]:U}),children:(0,C.jsx)(L,a()({activeOption:i,submenuElements:I,isActiveClassName:B.active,wrapperClassName:B.timelineChangeOption},d?{getButtonProps:d}:{getLinkProps:T}),"submenu")})]})})}),!O&&_.viewsShown.length>0&&(0,C.jsx)("div",{className:B.timelineHeaderButtons,children:(0,C.jsx)(x.Z,a()({},_))}),P?(0,C.jsx)("div",{className:c()(B.timelineHeaderButtons,B.configurableTabsHeader),children:(0,C.jsx)("div",{className:B.tabManagementLink,children:(0,C.jsxs)(p.rU,{to:i?(0,u.S)(b.o_.tabManagement,{active:i}):b.o_.tabManagement,title:z("Button that opens Dashboard Tabs Configure screen","Configure Dashboard Tabs"),children:[(0,C.jsx)(m,{}),(0,C.jsx)("span",{className:c()(B.sparkle,B.hidden),children:(0,C.jsx)(v.Z,{})})]})})}):null]})}},84456:(e,t,s)=>{s.d(t,{Z:()=>f});var i=s(17276),a=s.n(i),n=s(50209),r=s.n(n),o=s(5754),l=s.n(o),d=s(95004),c=s(44009),h=s(6135),p=s(30962),u=s(60023),g=s(59215);let m={timelineObject:"YZ6YQ",desktopContainer:"MV1bs",usesNewDimensions:"x8N5H",loading:"UYXNw",header:"OpUw8",title:"FcPBI",tagList:"j1I7U",endOfList:"A9fnQ",nextPage:"PmamQ"};var v=s(2629);class x extends d.Component{constructor(){super(...arguments),r()(this,"state",{timelineObject:this.props.timelineObject,hasFetchedAll:!1,isFetchingElements:!1,offset:0}),r()(this,"nextPage",()=>{var e,t,s,i,a=this.props,n=a.elementsPerPage,r=a.getStickyElements,o=a.getPageableElements,l=this.state,d=l.hasFetchedAll,c=l.isFetchingElements,h=l.timelineObject,p=l.offset;if(!c){var u=r?r(h.elements):[],g=o?o(h.elements):h.elements.filter(e=>!u.includes(e)),m=p+n;d&&m>g.length?(this.setState({offset:0}),null===(e=(t=this.props).onShowMoreClicked)||void 0===e||e.call(t,0)):(this.setState({offset:m}),null===(s=(i=this.props).onShowMoreClicked)||void 0===s||s.call(i,m)),!d&&m+2*n>g.length&&this.fetchNext()}})}render(){var e=this.props,t=e.appContext,s=t._t,i=t.features.redpopDesktopVerticalNav,a=e.elementsPerPage,n=e.getStickyElements,r=e.getPageableElements,o=e.headerText,d=e.endOfTimelineMessage,p=e.showMoreLabel,u=this.state,g=u.isFetchingElements,x=u.offset,f=u.timelineObject,b=n?n(f.elements):[],j=r?r(f.elements):f.elements.filter(;if(0===b.length&&0===j.length)return null;var w=j.slice(x,a+x),T=x>j.length-a&&this.state.hasFetchedAll,y=T?s("Back to the top"):null!=p?p:s("Show more");return(0,v.jsxs)("div",{className:l()(m.desktopContainer,{[m.usesNewDimensions]:i}),children:[(0,v.jsx)("div",{className:m.header,children:(0,v.jsx)("span",{className:m.title,children:o})}),(0,v.jsxs)("div",{className:m.tagList,children:[this.renderElements(b),g?(0,v.jsx)("div",{className:m.loading,children:(0,v.jsx)(h.Z,{})}):this.renderElements(w),T&&(0,v.jsx)("div",{className:m.endOfList,children:null!=d?d:s("No more items to show.")})]}),(0,v.jsx)("div",{className:m.nextPage,children:j.length>a&&(0,v.jsx)(c.Z,{label:y,onClick:this.nextPage,children:y})})]})}renderElements(e){var t=this.props.timelineObjectClassName;return e.map(e=>{var s="function"==typeof t?t(e):t;return(0,v.jsx)(p.ZP,{timelineObject:e,className:l()(m.timelineObject,s)},e.id)})}getFetchNextPageRequest(){var e,t=null===(e=this.state.timelineObject.links)||void 0===e||null===(e=e.next)||void 0===e?void 0:e.href;if(void 0===t)throw Error("End of timeline data");return new u.x(this.props.appContext.apiFetch,t)}fetchNext(){var e,t,s,i=this;return a()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return i.setState({isFetchingElements:!0}),e=i.state.timelineObject,n.prev=2,n.next=5,a()().awrap(i.getFetchNextPageRequest().fetch());case 5:0===(t=n.sent.response.timeline).elements.length?i.setState({hasFetchedAll:!0,isFetchingElements:!1}):(s={elements:[...e.elements,...t.elements],links:t.links},i.setState({timelineObject:s,isFetchingElements:!1})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),i.setState({hasFetchedAll:!0,isFetchingElements:!1});case 13:case"end":return n.stop()}},null,null,[[2,10]],Promise)}}let f=(0,g.X9)(x,{appContext:!0})},868:(e,t,s)=>{s.d(t,{Z:()=>I,z:()=>N});var i=s(54138),a=s.n(i),n=s(17276),r=s.n(n),o=s(44027),l=s.n(o),d=s(33970),c=s.n(d),h=s(50209),p=s.n(h),u=s(95004),g=s(29583),m=s(23670),v=s(67023),x=s(43523),f=s(63665),b=s(22979),j=s(78667),w=s(49116),T=s(32156),y=s(91264),k=s(64986),C=s(2629),N=e=>{var t=e.timelineName,s=w.K.getItem(t);return s&&JSON.parse(s)};class P extends u.Component{constructor(){var e;super(...arguments),e=this,p()(this,"setHasRestoredTimelineDuringThisSession",e=>{var t=e.timelineName,s=e.restored;return w.K.setItem(t,JSON.stringify(s))}),p()(this,"state",{isShowingRestoredState:!1,latestPostDate:null}),p()(this,"postRefs",[]),p()(this,"objects",[]),p()(this,"nextLinkMap",[]),p()(this,"restoreTimeline",e=>{var t=this.props,s=t.canonicalPath,i=t.didShowRestoredState,a=t.updateUrlFromObjects;window.history.replaceState("","",s);var n=this.getStoredTimeline();if(n){null==a||a(n.objects);var r,o=null===(r=n.objects)||void 0===r?void 0:r.find(b.xT),l=null==o?void 0:o.date,d=e&&i;this.setState({isShowingRestoredState:!0,latestPostDate:!d&&l?l:null},()=>{d&&(null==i||i()),w.E.removeItem(this.getTimelineStorageKey()),this.setHasRestoredTimelineDuringThisSession({timelineName:this.getTimelineStorageKey(),restored:!0})})}}),p()(this,"onUpdatePageLinkClick",()=>{this.props.appContext.logEvent({eventName:x.J.RestoreTimelineIndicatorRefreshTap}),this.hideLatestPostDate()}),p()(this,"hideLatestPostDate",,p()(this,"storeElements",()=>{if(this.nextLinkMap.length&&this.previousPaginatorRequestType!==f.vO.Initial){var e=this.getVisibleElementIndex(),t=this.getNextLinkAndEndingIndex(e),s=c()(t,2),i=s[0],a=s[1];this.setStoredTimeline({nextLink:i,objects:this.objects.slice(e,a)})}}),p()(this,"getVisibleElementIndex",()=>{var e,t=l()(this.postRefs.entries());try{for(t.s();!(e=t.n()).done;){var s=c()(e.value,2),i=s[0],a=s[1];if(null!=a&&a.ref){var n=a.ref.getBoundingClientRect(),r=n.top,o=n.height;if(r+o>g.j0)return i}}}catch(e){t.e(e)}finally{t.f()}return 0}),p()(this,"getNextLinkAndEndingIndex",e=>{var t,s=l()(this.nextLinkMap);try{for(s.s();!(t=s.n()).done;){var i=t.value;if(e>=i.start&&e<=i.end)return[i.nextLink,i.end]}}catch(e){s.e(e)}finally{s.f()}return[this.nextLinkMap[0].nextLink,this.nextLinkMap[0].end]}),p()(this,"onPagination",e=>{var t,s,i=e.objects,a=e.nextLink,n=e.requestType,r=e.response,o=this.props,l=o.onPagination,d=o.appContext.endlessScrollingDisabled;null==l||l({objects:i,nextLink:a,requestType:n,response:r});var c=this.props.getObjectsFromResponse(r);this.objects=i,this.nextLinkMap.push({nextLink:a,start:i.length-c.length-1,end:i.length}),this.previousPaginatorRequestType=n,n===f.vO.Refresh&&(null===(t=(s=this.props).didFinishShowingRestoredState)||void 0===t||t.call(s)),n===f.vO.Pagination&&d&&this.hideLatestPostDate()}),p()(this,"setRefreshCallback",t=>{var s=this.props,i=s.setRefreshCallback,a=s.didFinishShowingRestoredState;null==i||i(function(){return r()().async(function(s){for(;;)switch(s.prev=s.next){case 0:t(),e.hideLatestPostDate(),null==a||a();case 3:case"end":return s.stop()}},null,null,null,Promise)})}),p()(this,"getStoredTimeline",()=>{var e=w.E.getItem(this.getTimelineStorageKey());return e&&JSON.parse(e)}),p()(this,"setStoredTimeline",e=>{var t=e.objects,s=e.nextLink;try{w.E.setItem(this.getTimelineStorageKey(),JSON.stringify({objects:t,nextLink:s}))}catch(e){w.E.removeItem(this.getTimelineStorageKey())}}),p()(this,"getTimelineStorageKey",()=>`${this.props.canonicalPath}-${T.Ye}`)}componentDidMount(){var e=this.props,t=e.shouldRestoreIfPossible,s=e.letTimelineBeRestorable;history.scrollRestoration="manual",document.addEventListener("visibilitychange",this.storeElements),t()?this.restoreTimeline(!0):s&&this.getStoredTimeline()&&s(}ender(){var e=this.state,t=e.isShowingRestoredState,s=e.latestPostDate,i=this.props.appContext,n=i._getLocaleDateString,r=i._c,o=i.bestStuffFirstDisabled,l=s&&n(s,v.C.DateAndTime,!0),d=o&&l?r('Input is a translated date string, e.g., "July 20, 2020, 4:56 PM"',"%1$s - See new posts",[l]):r("Text that refreshes dashboard when clicked","See new posts");return(0,C.jsxs)(C.Fragment,{children:[s&&(0,C.jsx)(m.Z,{to:"/dashboard",className:k.Z.restoreTimelineText,onClick:this.onUpdatePageLinkClick,children:d}),(0,u.createElement)(y.ZP,a()(a()({},this.props),{},{key:`${t}`,getInitialPage:t?this.getStoredTimeline:this.props.getInitialPage,onPagination:this.onPagination,setRefreshCallback:this.setRefreshCallback,forwardedPostRefs:this.postRefs}))]})}}p()(P,"defaultProps",y.ZP.defaultProps);var S=(0,j.HJ)(P);class R extends u.Component{render(){return(0,C.jsx)(S,a()({},this.props))}}p()(R,"defaultProps",P.defaultProps);let I=R},58637:(e,t,s)=>{s.d(t,{Z:()=>n});var i=s(25190),a=s(2629);let n=function(e){var t=e.children;return(0,a.jsx)(i.ZP,{children:)}},25161:(e,t,s)=>{s.d(t,{KB:()=>u,EG:()=>c,ev:()=>h});var i=s(17276),a=s.n(i),n=s(33590),r=s(54138),o=s.n(r);s(1308);var l=(e,t)=>e("/v2/tabs",{method:"GET",queryParams:o()({},t)}),d=s(78667),c=["dashboard-tabs"];function h(){var e=(0,d.bp)().apiFetch;return(0,n.a)({queryKey:c,queryFn:staleTime:6e4})}function p(e,t){var s;return a()().async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a()().awrap(l(e,t));case 2:return s=i.sent.response.tabs,i.abrupt("return",s);case 5:case"end":return i.stop()}},null,null,null,Promise)}function u(e,t,s){return a()().async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",t.fetchQuery({queryKey:c,queryFn:));case 1:case"end":return i.stop()}},null,null,null,Promise)}},15618:(e,t,s)=>{s.r(t),s.d(t,{default:()=>eU});var i=s(54138),a=s.n(i),n=s(50209),r=s.n(n),o=s(5754),l=s.n(o),d=s(95004),c=s(36485),h=s(52980),p=s(2474),u=s(78667),g=s(63583),m=s.n(g),v=s(94576);let x={wrapper:"qn4rB",shown:"kp7A0",hidden:"Jj5Z2",newPostIndicator:"bjtTv",text:"bUnoB"};var f=s(2629);class b extends d.Component{constructor(){super(...arguments),r()(this,"state",{isShown:!1}),r()(this,"show",()=>{var e=this.props,t=e.eventNameShow,s=e.appContext.logEvent;(0,v.Rr)("scroll",this.hide),s({eventName:t}),this.setState({isShown:!0})}),r()(this,"hide",e=>{var t=e.distanceFromTop,s=this.props,i=s.eventNameHide,a=s.appContext.logEvent;this.state.isShown&&t>300&&(a({eventName:i}),this.setState({isShown:!1}),(0,v.oQ)("scroll",this.hide))}),r()(this,"onClick",()=>{var e=this.props,t=e.onClick,s=e.eventNameTap,i=e.appContext.logEvent;t(),i({eventName:s})})}render(){var e=this.state.isShown;return(0,f.jsx)("div",{className:l()(x.wrapper,e?x.shown:x.hidden),"aria-hidden":!e,children:(0,f.jsxs)("button",{className:x.newPostIndicator,onClick:this.onClick,tabIndex:e?void 0:-1,"aria-label":this.props.label,children:[(0,f.jsx)("div",{style:{transform:`rotate(${this.props.rotateIcon}deg)`},children:(0,f.jsx)(p.Mq,{colors:{primary:g.paletteNavy},size:{width:12,height:12}})}),(0,f.jsx)("span",{className:x.text,children:this.props.displayText})]})})}componentWillUnmount(){(0,v.oQ)("scroll",this.hide)}}r()(b,"defaultProps",{rotateIcon:0});let j=(0,u.tM)(b);var w=s(94765),T=s(29860),y=s(931),k=s(48352),C=s(30337),N=s(33970),P=s.n(N),S=s(44009),R=s(98384),I=s(77);let M={tagsFilter:"TXjht",header:"JP3VN",searchIcon:"nkDKC",closeIcon:"ajdBh",footer:"vO52p",cancelButtonWrapper:"Oymh2",clearButton:"bDmZL",applyButton:"xy1OR",tagPill:"e4xmD",selectedTagPill:"w7RFu",tagsContainer:"hSZfZ",actionLink:"BEcMi",filterByTagButton:"oXcDI",disabled:"aCGox",newDimensions:"R1h1i"},Z=e=>{var t=e.clickedTags,s=e.setClickedTags,i=e.displayedTags;return(0,f.jsx)("div",{className:M.tagsContainer,children:i.map(e=>{var i=t.includes(e);return(0,f.jsx)(S.Z,{onClick:()=>{i?s(t.filter():s([...t,e])},children:(0,f.jsxs)("div",{className:l()(M.tagPill,{[M.selectedTagPill]:i}),children:["#",e]})},e)})})};var L=s(55673),B=s(54382),F=s(90127);let E=e=>{var t=e.searchKeyword,s=e.toggleManageTagsModal;return(0,f.jsxs)("div",{className:M.tagsContainer,children:[(0,f.jsx)("p",{children:(0,f.jsx)(B.ZP,{comment:"Text indicating that a tag search provided no results",params:{searchKeyword:t},components:{strong:(0,f.jsx)("strong",{})},children:"No results in your tags for [strong][searchKeyword][/strong]"})}),(0,f.jsxs)(L.rU,{to:(0,F.W8)(t),className:M.actionLink,children:[(0,f.jsx)(B.ZP,{comment:"Link to search a term on tumblr",children:"Search all on Tumblr"})," ",(0,f.jsx)(p.fj,{colors:{primary:m().colorPrimaryLink},size:{width:12,height:12}})]}),(0,f.jsxs)(S.Z,{className:M.actionLink,onClick:s,children:[(0,f.jsx)(B.ZP,{comment:"Link to open the tags manager modal",children:"Manage all your tags"})," ",(0,f.jsx)(p.fj,{colors:{primary:m().colorPrimaryLink},size:{width:12,height:12}})]})]})},_=e=>{var t=e.followedTags,s=e.clickedTags,i=e.toggleTagsFilter,a=e.setFilteredTags,n=e.setClickedTags,r=(0,I.iv)().setHighlightedTags,},l=s.length?` (${s.length})`:"",d=!!s.length;return(0,f.jsxs)("div",{className:M.footer,children:[(0,f.jsx)("div",{className:M.cancelButtonWrapper,children:(0,f.jsx)(S.Z,{onClic},children:(0,f.jsx)(B.ZP,{comment:"Button to cancel a tags filter selection",children:"Cancel"})})}),(0,f.jsx)(S.Z,{onClic),wrapperClassName:M.clearButton,disabled:!d,children:(0,f.jsx)(B.ZP,{comment:"Remove all selected tags from the filter",params:{count:l},children:"Clear[count]"})}),(0,f.jsx)(S.Z,{onClick:()=>{a(s),s.length?r(s):r(t),i()},wrapperClassName:M.applyButton,children:(0,f.jsx)(B.ZP,{comment:"Button to apply the selected tags to a filter",children:"Apply"})})]})};var O=s(98478),A=s(19486);let z=e=>{var t=e.searchKeyword,s=e.setSearchKeyword,i=(0,u.bp)()._c;return(0,f.jsxs)("div",{className:M.header,children:[(0,f.jsx)("div",{className:M.searchIcon,children:(0,f.jsx)(A.Z,{size:{width:18,height:18}})}),(0,f.jsx)("input",{value:t,onChange:e=>s(e.target.value),placeholder:i("Place holder text on a input in which the user will type a tag to search","Search your tags")}),!!t.length&&(0,f.jsx)(S.Z,{onClick:()=>s(""),className:M.closeIcon,"aria-label":i("Label for a button that will allow a user to dismiss a tag search","Dismiss tag search"),children:(0,f.jsx)(O.Z,{size:{width:12,height:12}})})]})};var D=s(52858);let H=(e,t)=>{var s=(0,L.lr)(),i=P()(s,2),a=i[0],n=i[1],r=(0,d.useState)(!1),o=P()(r,2),l=o[0],c=o[1];return(0,d.useEffect)(()=>{"manage-tags"===a.get("action")&&c(!0)},[a]),{tagsManagerModal:l&&(0,f.jsx)(D.Z,{onClose:s=>{c(!1),s&&(e(),t()),"manage-tags"===a.get("action")&&(a.delete("action"),n(a))}}),toggleManageTagsModa)}};var V=s(20943);let U=(e,t)=>{var s=(0,u.bp)().apiFetch,i=(0,I.iv)().setHighlightedTags,a=(0,d.useState)([]),n=P()(a,2),r=n[0],o=n[1],l=()=>{var e=[];o([]),t();var a=t=>{t.response.elements.forEac));var n,r=null===(n=t.response.links)||void 0===n||null===(n=n.next)||void 0===n?void 0:n.href;r?s(r).then(a):(o([...e]),i([...e]))};(0,V.Y4)(s).fetch().then(a)};return(0,d.useEffect)(l,[]),{displayedTags:""===e?r:r.filte)),followedTags:r,loadTags:l}};var W=s(50213);let q=e=>{var t=e.filteredTags,s=e.setFilteredTags,i=(0,u.bp)(),a=i._c,n=i.features.redpopDesktopVerticalNav,r=(0,d.useState)([]),o=P()(r,2),c=o[0],h=o[1],p=(0,d.useState)(""),g=P()(p,2),m=g[0],v=g[1],x=(0,d.useState)(!1),b=P()(x,2),j=b[0],w=b[1],T=(0,I.iv)().setAdditionalHeaderOffset,},k=()=>{y(),w(!j),j&&T(0)},C=U(}),N=C.followedTags,L=C.displayedTags,B=H(C.loadTags,k),F=B.tagsManagerModal,O=B.toggleManageTagsModal,A=t.length?1===t.length?a("Indicates that the filter tag is active with only one tag","Filtering by 1 tag"):a("Indicates how many tags are selected on the tags filter","Filtering by %1$s tags",[t.length.toString()]):a("Button to open the tags filter","Filter by tag"),D=!!N.length,V=D?k:void 0,q=l()(M.filterByTagButton,{[M.disabled]:!D,[M.newDimensions]:n});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(S.Z,{onClick:V,wrapperClassName:q,children:[A,"  ",(0,f.jsx)(R.$S,{size:{width:12,height:12}})]}),F,j&&(0,f.jsx)(W.Z,{onGlassClick:()=>k(),children:(0,f.jsxs)("div",{className:M.tagsFilter,children:[(0,f.jsx)(z,{searchKeyword:m,setSearchKeyword:v}),L.length?(0,f.jsx)(Z,{clickedTags:c,displayedTags:L,setClickedTags:h}):(0,f.jsx)(E,{searchKeyword:m,toggleManageTagsModal:O}),(0,f.jsx)(_,{followedTags:N,clickedTags:c,toggleTagsFilter:k,setFilteredTags:s,setClickedTags:h})]})})]})};var J=s(43107),G=s(868),Q=s(79153),$=s(33608),Y=s(30646),K=s(73465);let X={button:"aNmak",count:"mOOFe",isHidden:"T0YTo"},ee=e=>{var t=e.backgroundColor,s=e.blogId,i=e.count,a=e.icon,n=e.productGroup,r=(0,u.bp)(),o=r._c,c=r._cn,h=(0,d.useState)(!1),p=P()(h,2),g=p[0],m=p[1],v=(0,K.tD)(a,o("[Badge Management] Badge Icon alt text","Badge icon"),X.icon);return(0,f.jsxs)(f.Fragment,{children:[g&&(0,f.jsx)(Y.Nz,{onClose:()=>m(!1),productGroup:n,blogId:s}),(0,f.jsxs)(S.Z,{className:l()(X.button,{[X.isHidden]:g}),onCli0),label:c("Label for unopened TumblrMart Badges","You have an unlocked badge!","You have unlocked badges!",i),style:{background:t},children:[v,i>1&&(0,f.jsx)("span",{className:X.count,style:{background:t},children:i})]})]})};var et=s(78994);function es(){return(0,f.jsxs)("svg",{width:"98",height:"111",fill:"none",role:"img",viewBox:"0 0 98 111",children:[(0,f.jsxs)("g",{filter:"url(#filter0_d_147_6175)",children:[(0,f.jsx)("path",{fill:"#F15CC3",d:"M23 40h52v12a2 2 0 0 1-2 2H25a2 2 0 0 1-2-2V40Z"}),(0,f.jsx)("path",{fill:"#F15CC3",d:"M25 54h48v28a2 2 0 0 1-2 2H27a2 2 0 0 1-2-2V54Z"}),(0,f.jsx)("path",{fill:"#7C5CFF",d:"M25 54h48v5H25z"}),(0,f.jsx)("path",{fill:"#7C5CFF",d:"M30.793 32.177A4 4 0 0 1 33.627 31h30.746a4 4 0 0 1 2.834 1.177L75 40H23l7.793-7.823Z"}),(0,f.jsx)("path",{fill:"#E8D73A",d:"M44 54h10v30H44z"}),(0,f.jsx)("path",{fill:"#D7C736",d:"M44 40h10v14H44z"}),(0,f.jsx)("path",{fill:"#E8D73A",fillOpacity:".7",d:"M46.333 31.051h5.385l1.795 8.526h-8.974l1.794-8.526Z"}),(0,f.jsx)("path",{fill:"#7C5CFF",fillOpacity:".6",d:"M44 54h10v5H44z"}),(0,f.jsx)("path",{fill:"#E8D73A",d:"M31.797 28.602c-2.517 3.146-1.502 7.935 0 9.794 1.674 2.073 15.584.786 17.37 0 .058-4.575-.396-10.346-.743-12.747-.93-6.434-2.43-6.934-4.904-6.555-7.148 1.716-7.601 6.291-6.934 8.364-2.23-1.6-4.122.096-4.79 1.144Z"}),(0,f.jsx)("path",{fill:"#7C5CFF",fillOpacity:".6",d:"M36.586 27.53c.286 1.773 3.455 4.837 5.004 6.148-3.03-1.087-5.933-2.693-7.005-3.36-2.116-1.144-2.026-2.335-1.716-2.788 1.487-1.316 3.098-.548 3.717 0Z"}),(0,f.jsx)("path",{fill:"#7C5CFF",fillOpacity:".6",d:"M44.092 21.24c-.057 4.746 3.38 10.843 5.047 13.274-.143-2.145-.286-4.743-.429-6.434-.592-7.006-2.21-8.795-3.045-8.914-1.315-.514-1.596 1.168-1.573 2.073Z"}),(0,f.jsx)("path",{fill:"#E8D73A",d:"M66.42 28.602c2.517 3.146 1.502 7.935 0 9.794-1.674 2.073-15.584.786-17.37 0-.058-4.575.396-10.346.743-12.747.929-6.434 2.43-6.934 4.904-6.555 7.148 1.716 7.601 6.291 6.934 8.364 2.23-1.6 4.122.096 4.79 1.144Z"}),(0,f.jsx)("path",{fill:"#7C5CFF",fillOpacity:".6",d:"M61.63 27.53c-.285 1.773-3.454 4.837-5.003 6.148 3.03-1.087 5.933-2.693 7.005-3.36 2.116-1.144 2.026-2.335 1.716-2.788-1.487-1.316-3.098-.548-3.717 0Z"}),(0,f.jsx)("path",{fill:"#7C5CFF",fillOpacity:".6",d:"M54.125 21.24c.057 4.746-3.38 10.843-5.047 13.274.143-2.145.286-4.743.429-6.434.592-7.006 2.211-8.795 3.045-8.914 1.315-.514 1.596 1.168 1.573 2.073Z"}),(0,f.jsx)("g",{filter:"url(#filter1_d_147_6175)",children:(0,f.jsx)("path",{fill:"#E8D73A",d:"M55.145 52.534c-.696-7.511-5.1-12.519-7.65-14.084 1.448-1.507 5.18-3.86 8.519-1.217 3.338 2.643 5.448 10.027 6.085 13.388l-4.173-1.739-2.782 3.652Z"})}),(0,f.jsx)("g",{filter:"url(#filter2_d_147_617)",children:(0,f.jsx)("path",{fill:"#E8D73A",d:"M43.356 53.313c.564-7.522 4.881-12.605 7.404-14.214-1.475-1.481-5.248-3.769-8.54-1.068-3.291 2.7-5.272 10.12-5.85 13.492l4.141-1.812 2.845 3.602Z"})})]}),(0,f.jsxs)("defs",{children:[(0,f.jsxs)("filter",{id:"filter0_d_147_6175",width:"98",height:"111",x:"0",y:"0",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,f.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,f.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,f.jsx)("feOffset",{dy:"4"}),(0,f.jsx)("feGaussianBlur",{stdDeviation:"11.5"}),(0,f.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,f.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.75 0"}),(0,f.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_147_6175"}),(0,f.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_147_6175",result:"shape"})]}),(0,f.jsxs)("filter",{id:"filter1_d_147_6175",width:"17.605",height:"20.494",x:"44.494",y:"36.039",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,f.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,f.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,f.jsx)("feOffset",{dx:"-3",dy:"4"}),(0,f.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,f.jsx)("feColorMatrix",{values:"0 0 0 0 0.486275 0 0 0 0 0.360784 0 0 0 0 1 0 0 0 0.4 0"}),(0,f.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_147_6175"}),(0,f.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_147_6175",result:"shape"})]}),(0,f.jsxs)("filter",{id:"filter2_d_147_617",width:"18.39",height:"18.535",x:"32.369",y:"36.778",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,f.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,f.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,f.jsx)("feOffset",{dx:"-4",dy:"2"}),(0,f.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,f.jsx)("feColorMatrix",{values:"0 0 0 0 0.486275 0 0 0 0 0.360784 0 0 0 0 1 0 0 0 0.4 0"}),(0,f.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_147_6175"}),(0,f.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_147_6175",result:"shape"})]})]})]})}var ei=s(47211);let ea={button:"pSHgK",badge:"GcSv9"},en=e=>{var t=e.count,s=e.deeplink,i=(0,u.bp)()._cn,a=(0,et.s0)();return(0,f.jsxs)(S.Z,{className:ea.button,onClick:()=>{s?(0,K.XW)(s,a):a((0,F.B9)({page:ei.f.Gifts}))},label:i("Label for unopened TumblrMart gifts","You have an unopened gift!","You have unopened gifts!",t),children:[(0,f.jsx)(es,{}),t>1&&(0,f.jsx)("span",{className:ea.badge,children:t})]})};var er=()=>{var e=(0,$.Th)(),t=e.isPending,s=e.data;if("undefined"==typeof window||t||!(null!=s&&s.length))return null;var i=s.filter(e=>"gift"===e.type);if(i.length){var a,n=i[0].deeplink;return(0,Q.createPortal)((0,f.jsx)(en,{count:i.length,deeplink:n}),null===(a=document)||void 0===a?void 0:a.body)}var r=s.filtpe);if(r.length){var o,l=r[0],d=l.imageUrl,c=l.productGroup,h=l.tumblelogUuid,p=l.backgroundColor;return(0,Q.createPortal)((0,f.jsx)(ee,{backgroundColor:p,count:r.length,icon:d,productGroup:c,blogId:h}),null===(o=document)||void 0===o?void 0:o.body)}return null},eo=s(43597);let el=s.p+"src/assets/images/tour-guide/welcome-aea23306.svg";var ed=s(43906);let ec=()=>{var e=(0,ed.g)().welcomeMessageShown;return(0,d.useEffect)(()=>e,[]),(0,f.jsxs)("div",{className:"B5krg",children:[(0,f.jsx)("img",{src:el,alt:""}),(0,f.jsx)("h1",{children:(0,f.jsx)(B.ZP,{children:"Welcome to your corner of the internet"})}),(0,f.jsx)("p",{children:(0,f.jsx)(B.ZP,{children:"Think of your dashboard as your own little world—one that you get to shape with blogs, tags, and other stuff you like."})})]})};var eh=s(25161),ep=s(61822),eu=s(32468),eg=s(50899),em=s(43523),ev=s(92183),ex=s(63665),ef=s(71417),eb=s(22979),ej=s(85795),ew=s(60023),eT=s(1308),ey=s(18599),ek=s(59215),eC=s(93099),eN=s(45051),eP=s(26963),eS=s(88655);let eR={postColumn:"O4V_R",badge:"k1Smf",static:"vAPcV"};var eI=s(44238),eM=s(84458),eZ=s(61512),eL=s(46244);let eB=s.p+"src/assets/icons/blaze-announcement-760a2f8d.svg";var eF=s(6233),eE=s(11007),e_=s(24946),eO=s(49116);let eA={icon:"S0XvJ",title:"ZcxPx",text:"kFu2G",infoText:"xB7E8",buttons:"pZsgR",actionButtonClose:"uCImh",actionButtonChange:"j7m58"},ez=()=>{var e,t=(0,et.s0)(),s=(0,u.bp)(),i=s._c,a=s._t,n=s.apiFetch,r=s.logEvent,o=s._getLanguage,l=s.features.showBlazeSettingsBanner,c=o().localization,h=(0,e_.sU)(c),p=null===(e=(0,eE.g)().data)||void 0===e?void 0:e.name,g="true"===eO.E.getItem("blazeSettingsBannerShown"),m=void 0!==p&&!g&&!0===l,v=(0,d.useState)(!0),x=P()(v,2),b=x[0],j=x[1];(0,d.useEffect)(()=>{b&&m&&r({eventName:em.J.BlazeOtherPeopleAnnouncementShown})},[b,m,r]);var w=(0,eL.D)({mutatiT"}),onError:()=>{r({eventName:em.J.BlazeOtherPeopleAnnouncementAcknowledgeCallFailed})},retry:2});if(!b||!m)return null;var T=()=>{eO.E.setItem("blazeSettingsBannerShown","true"),j(!1)},y=()=>{void 0!==p&&t((0,F.BR)({blogName:p})+"#blaze")},k=()=>{r({eventName:em.J.BlazeOtherPeopleAnnouncementClose}),T(),w.mutate()};return(0,f.jsxs)(eF.Z,{title:" ",compact:!0,onClose:k,theme:eF.L.Rounded,modalWrapperClass:"blazeAnnouncement",children:[(0,f.jsx)("div",{className:eA.icon,children:(0,f.jsx)(()=>(0,f.jsx)("img",{className:eA.blazed,src:eB,alt:i("Alternate text for a blaze other people posts icon","Blaze other people posts icon")}),{})}),(0,f.jsx)("header",{className:eA.title,children:i("[Blaze other people posts announcement] Label title for the blaze announcement pop up","Things are heating up!")}),(0,f.jsx)("header",{className:eA.title,children:i("[Blaze other people posts announcement] Label title for the blaze announcement pop up","Now your posts can be Blazed by others!")}),(0,f.jsx)("main",{className:eA.text,children:i("[Blaze other people posts announcement] Label text for the blaze announcement pop up","We love seeing all the amazing things you’ve Blazed so much, that we’ve decided to let you Blaze posts from any blog. This feature can be disabled from the blog settings page.")}),(0,f.jsxs)("footer",{className:eA.buttons,children:[(0,f.jsx)(S.Z,{label:a("Awesome news"),wrapperClassName:eA.actionButtonClose,onClick:k,children:a("Awesome news")}),(0,f.jsx)(S.Z,{label:a("I want to change it"),wrapperClassName:eA.actionButtonChange,onClick:()=>{r({eventName:em.J.BlazeOtherPeopleAnnouncementTakeMeToSettings}),T(),w.mutate(),y()},children:a("I want to change it")})]}),(0,f.jsxs)("footer",{className:eA.infoText,children:[(0,f.jsx)("a",{href:"https://www.tumblr.com/support",target:"_blank",onClick:()=>{r({eventName:em.J.BlazeOtherPeopleAnnouncementHelpClicked})},children:a("Help")}),"  •  ",(0,f.jsx)("a",{href:`https://help.tumblr.com/hc/${h}/articles/5298854249367`,target:"_blank",onClick:()=>{r({eventName:em.J.BlazeOtherPeopleAnnouncementFaqClicked})},children:a("FAQs")})]})]})};var eD="hubs",eH=e=>{var t=e.getTabId,s=e.defaultTabId,i=e.tabs,a=e.tabsHeaderRef,n=e.additionalHeaderOffset,r=e.getTimelineChangeLinkProps,o=e.setFilteredTags,l=e.filteredTags,d=t(),c=(void 0===i?[]e.isHidden).map(e=>e.id),h=t()===eD;return(0,f.jsxs)(eM.T,{ref:a,additionalOffset:n,children:[(0,f.jsx)(J.Z,{timelineOptions:c,submenuOptions:void 0,viewsShown:[],onViewClick:eN.Z,currentView:eb.mt.List,activeOption:d,defaultActiveOption:s,getLinkProps:r,isConfigurableTabsHeader:!0,isScrollingHeader:!0}),h&&(0,f.jsx)(q,{setFilteredTags:o,filteredTags:l})]})};class eV extends ef.lb{constructor(e){var t;super(e),r()(this,"apiHelper",(0,ej.ZP)(this.props.appContext.apiFetch)),r()(this,"state",{filteredTags:[],highlightedTags:[],defaultTabId:(null===(t=this.props.tabs)||void 0===t?void 0:t[0].id)||eS.Zi,additionalHeaderOffset:0}),r()(this,"preventTabbedDashboardAppearOnNtScroll()}),r()(this,"getTabId",()=>{var e,t,s=null===(e=this.props.params)||void 0===e?void 0:e.tabId;return s&&null!==(t=this.props.tabs)&&void 0!==t&&t.find(e=>e.id===s)?s:this.state.defaultTabId}),r()(this,"isCurrentTabFollowing",()=>this.getTabId()===eS.Zi),r()(this,"isServingOnRoot",()=>{var e;return(null===(e=this.props.location)||void 0===e?void 0:e.pathname)==="/"}),r()(this,"getTimelineChangeLinkProps",e=>{var t,s=this.props.pollerContext.unseenPosts,i=this.props.appContext.features.redpopUnreadNotificationsOnTab,a=e===eS.Zi&&i&&s>0,n=(0,f.jsxs)(f.Fragment,{children:[null===(t=this.props.tabs)||void 0===t||null===(t=t.find(t=>t.id===e))||void 0===t?void 0:t.title,a&&(0,f.jsx)(eI.Z,{className:l()(eR.badge,eR.static),count:s})]});return{to:(0,eC.Z)(F.o_.dashboardByTabId,{tabId:e}),children:n}}),r()(this,"getTabIndexById",e=>{var t;return null===(t=this.props.tabs)||void 0===t?void 0:t.findIndex(t=>t.id===e)}),r()(this,"getTabLoggingIdById",e=>{var t,s=null===(t=this.props.tabs)||void 0===t?voi=>t.id===e);return null==s?void 0:s.loggingId}),r()(this,"getDashboardContextValue",()=>{var e,t,s=this.getTabId(),i=null===(e=this.props.tabs)||void 0===e?void 0:e.map(e=>e.id),a=this.getTabIndexById(s),n={tabId:s,tabPosition:a,preventTabbedDashboardAppearOnNextScroll:this.preventTabbedDashboardAppearOnNextScroll,highlightedTags:this.state.highlightedTags,setHighlightedTags:this.setHighlightedTags,setAdditionalHeaderOffset:this.setAdditionalHeaderOffset,tabs:i};for(var r in n)if(n[r]!==(null===(t=this.prevDashboardContext)||void 0===t?void 0:t[r]))return this.prevDashboardContext=n,n;return this.prevDashboardContext||n}),r()(this,"getBody",()=>{var e=this.props.appContext,t=e._t,s=e._c,i=e.features,a=this.props.tourGuideContext.shouldShowWelcomeMessage,n=(0,c.S)(`/dashboard/${this.getTabId()}`,this.getFilteredTagsQueryParams()),r=(0,f.jsx)(eH,{getTabId:this.getTabId,defaultTabId:this.state.defaultTabId,tabs:this.props.tabs,tabsHeaderRef:this.tabsHeaderRef,additionalHeaderOffset:this.state.additionalHeaderOffset,getTimelineChangeLinkProps:this.getTimelineChangeLinkProps,setFilteredTags:this.setFilteredTags,filteredTags:this.state.filteredTags});return(0,f.jsxs)("main",{className:eR.postColumn,children:[(0,f.jsx)(ez,{}),this.isCurrentTabFollowing()&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(j,{onClick:this.refreshDashboard,ref:this.setNewPostIndicatorRef,displayText:t("New posts"),label:t("Refresh timeline to see new posts"),eventNameShow:em.J.NewPostIndicatorShow,eventNameHide:em.J.NewPostIndicatorHide,eventNameTap:em.J.NewPostIndicatorTap,rotateIcon:90}),(0,f.jsx)(j,{onClick:this.onTimelineIndicatorClick,ref:this.setRestoreTimelineIndicatorRef,displayText:s("Text for button that restores timeline to what it was when you last left the site.","Now, where were we?"),label:t("Restore timeline to what it was when you last viewed it"),eventNameShow:em.J.RestoreTimelineIndicatorShow,eventNameHide:em.J.RestoreTimelineIndicatorHide,eventNameTap:em.J.RestoreTimelineIndicatorTap,rotateIcon:-90})]}),i.redpopDesktopVerticalNav&&(0,f.jsx)(I.E9.Provider,{value:this.getDashboardContextValue(),children:r}),(0,f.jsx)(y.Z,{}),a()&&(0,f.jsx)(ec,{}),this.props.tabs&&(0,f.jsxs)(I.E9.Provider,{value:this.getDashboardContextValue(),children:[!i.redpopDesktopVerticalNav&&r,(0,f.jsx)(w.Z,{timelineName:n,getEndpointApiRequestFromQueryParams:this.getEndpointApiRequestFromQueryParams,children:(0,f.jsx)(G.Z,{shouldRestoreIfPossible:this.shouldRestoreState,canonicalPath:`/dashboard/${this.getTabId()}`,endpointApiRequest:void 0,getObjectsFromResponse:this.getObjectsFromResponse,getInitialPage:this.getInitialPage,id:`timeline/${this.props.location.pathname}-${this.props.location.search}`,setRefreshCallback:this.setRefreshCallback,didShowRestoredState:this.setNewPostIndicatorVisible,didFinishShowingRestoredState:this.setNewPostIndicatorHidden,onPagination:this.onPagination,letTimelineBeRestorable:this.letTimelineBeRestorable})})]}),(0,f.jsx)(er,{})]})}),r()(this,"getFilteredTagsQueryParams",()=>{var e={};return this.getTabId()===eD&&this.state.filteredTags.forEach((t,s)=>{e[`tags[${s}]`]=t}),e}),r()(this,"getEndpointApiRequestFromQueryParams",e=>{var t,s=this.props.appContext.apiFetch,i=this.getTabId(),n=null===(t=this.props.tabs)||void 0===t||null===>i===e.id))||void 0===t?void 0:t.timelineUri;return!n||this.isCurrentTabFollowing()?this.apiHelper.getDashboard(e):new ew.x(s,n,{queryParams:a()(a()(a()(a()({},(0,eT.xr)()),e),this.getFilteredTagsQueryParams()),{},{reblog_info:!0})})}),r()(this,"onPagination",e=>{var t=e.requestType;return[ex.vO.Initial,ex.vO.Refresh].includes(t)&&this.props.pollerContext.rerequestPoll()}),r()(this,"getInitialPage",()=>{var e,t,s=null===(e=this.props.appContext.getBootstrap(eS.Rn))||void 0===e?void 0:e.dashboardTimeline;if(s){var i=s.response,a=i.timeline,n=a.elements,r=a.links,o=i.adsUserSync;return{objects:n,nextLink:null==r?void 0:r.next,pixels:null!==(t=null==o?void 0:o.pixels.map(e=>{var t=e.url.replace("URLENCODED_REDPOP_HOST",eg.Cw);return{id:e.id,url:t}}))&&void 0!==t?t:[]}}}),r()(this,"getObjectsFroe.elements),r()(this,"setFilteredTags",e=>{this.setState({filteredTags:e})}),r()(this,"setRefreshCallback",e=>this.refreshCallback=e),r()(this,"setAdditionalHeaffset:e})}),r()(this,"refreshall(this)}),r()(this,"setNewPostIndicatorVisible",()=>{var e;return null===(e=this.newPostIndicator)||void 0===e?void 0:e.show()}),r()(this,"setNewPostIndicatorHidden",()=>{var e;return null===(e=this.newPostIndicator)||void 0===e?void 0:e.hide({distanceFromTop:301})}),r()(this,"setRestoreTimelineIndicat:e.show()}),r()(this,"setRestoreTimelineIndicatorHidden",()=>{var e;return null===(e=this.restoreTimelineIndicator)||void 0===e?void 0:e.hide({distanceFromTop:301})}),r()(this,"letTimelineBeRVisible()}),r()(this,"onTimelineIndicatorClick",()=>{var e;null===(e=this.restoreCallback)||void 0===e||e.call(this),this.setRestoreTimelineIndicatorHidden()}),r()(this,"shouldRestoreState",()=>{var e,t=(0,eP.b)(null===(e=this.props.location)||void 0===e?void 0:e.search),s=t.restore,i=t.installed;if(s||i)return!0;if(!(0,ey.EK)(this.props.appContext.getBrowserInfo()))return!1;var a="standalone"in window.navigator&&window.navigator.standalone,n=!(0,G.z)({timelineName:"/dashboard"});return!!a&&!!n}),r()(this,"setNewPostIndicatorRef",e=>this.newPostIndicator=e),r()(this,"setRestoreTimelineIndndicator=e),r()(this,"setHighlidTags:e})}),this.tabsHeaderRef=d.createRef()}render(){var e,t,s=this.props.appContext.features,i=this.getInitialPage();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(k.Z,{page:null!==(e=this.props.params)&&void 0!==e&&e.tabId?`${eS.HJ.analyticsPageName}Tab`:eS.HJ.analyticsPageName,eventDetails:{tab:this.getTabLoggingIdById(this.getTabId()||eZ.AO.Following)}}),(0,f.jsx)(ep.M.Provider,{value:this.refreshDashboard,children:(0,f.jsxs)(h.Z,{activePage:eu.vS.home,children:[this.isServingOnRoot()&&(0,f.jsx)(T.Z,{canonicalUrl:`${eg.Cw}${F.o_.dashboard}`}),(0,f.jsx)(eo.Z,{sidebar:(0,f.jsx)(C.Z,{showRecommendedBlogs:!0,showRadar:!0,showAd:s.redpopMrec,supplyProviderId:ev.E.RIGHT_RAIL}),children:this.getBody()}),null==i||null===(t=i.pixels)||void 0===t?void 0:t.map(e=>(0,f.jsx)("img",{src:e.url,style:{height:1,width:1},"aria-hidden":!0,alt:""},e.id))]})})]})}}let eU=(0,ek.Bg)(function(e){var t=(0,eh.ev)().data;return(0,f.jsx)(eV,a()(a()({},e),{},{tabs:t}))},{appContext:!0,pollerContext:!0,tourGuideContext:!0})},16481:(e,t,s)=>{s.r(t),s.d(t,{default:()=>eZ});var i=s(54138),a=s.n(i),n=s(50209),r=s.n(n),o=s(5754),l=s.n(o),d=s(95004),c=s(78994),h=s(27178),p=s(52980),u=s(33970),g=s.n(u),m=s(44009),v=s(67043),x=s(78667),f=s(14544),b=s(99693),j=s(63583),w=s.n(j),T=s(2629);let y=e=>{var t=e.paletteToggled,s=(0,x.bp)(),i=s._c,a=s._t,n=(0,f.M)(),r=(0,b.QL)(n.name,i),o=(0,d.useState)(void 0!==t&&t),l=g()(o,2),c=l[0],h=l[1],p=c?r:a("Change palette");return(0,T.jsx)("div",{className:"osUS3",children:(0,T.jsxs)(m.Z,{label:a("Change palette"),className:"u24HE",wrapperStyle:{width:"100%"},type:"buttoe(),h(!0)},children:[(0,T.jsx)("div",{className:"sADin",children:(0,T.jsx)(v.Z,{size:{width:20,height:20},colors:{primary:w().paletteAccent}})}),p]})})};var k=s(55673),C=s(97612),N=s(38149),P=s(54382),S=s(90127),R=s(43523),I=s(59215),M=s(96467);let Z={colorfulOrderedTagList:"nKYyP",topPositioned:"CXVtW",colorfulListItemWrapper:"vT7_j",fullItemLink:"yTeF1",contentTitle:"CJe61",content:"k_NNN",relatedTagLink:"jofje",contentBody:"sEVNj",imgLink:"o6N4U",emptyImg:"y6JFX",column:"FSlaf",buttonWrapper:"gREXw",showMoreButton:"iAQuj",mobileWrapper:"S227z",colorfulOrderedTagListWrapper:"VUHVZ",isCollapsed:"IWDxU"};class L extends d.Component{constructor(){super(...arguments),r()(this,"state",{isCollapsed:!0}),r()(this,"maxRelatedTagsToDisplay",3),r()(this,"avatarSize",64),r()(this,"collapsedTagsCount",4),r()(this,"shpsed:!1})}),r()(this,"renderMobile",(e,t)=>{var s=this.props.appContext._t;return(0,T.jsxs)("div",{className:l()(Z.mobileWrapper,{[Z.isCollapsed]:!!this.state.isCollapsed}),children:[(0,T.jsx)("div",{className:Z.colorfulOrderedTagListWrapper,children:(0,T.jsx)("ol",{className:e,children:t.map(this.renderItem)})}),this.state.isCollapsed&&t.length>this.collapsedTagsCount&&(0,T.jsx)(m.Z,{wrapperClassName:Z.buttonWrapper,className:Z.showMoreButton,onClick:this.showAllTags,label:s("Show More"),children:(0,T.jsx)(P.ZP,{children:"Show More"})})]})}),r()(this,"renderItem",(e,t)=>{var s=this.props.appContext,i=s._c,n=s.isLoggedIn,r=(0,S.fO)(e.label);return t<8&&(0,T.jsx)("div",{className:Z.colorfulListItemWrapper,children:(0,T.jsxs)("li",{"data-index":t+1,children:[(0,T.jsx)(k.rU,a()({className:Z.fullItemLink,tod(e.label)},!n&&{"data-login-wall-type":"tags","data-login-wall-tag-label":e.label,"data-login-wall-destination":r,"data-login-wall-redirect":r,"data-login-wall-title":i("Login wall: Title shown when user clicks on a blog or image after exceeding click counter limit","Seems we're out of free samples."),"data-login-wall-text":i("Login wall: Text shown when user clicks on a blog or image after exceeding click counter limit","But there's good news. Get free samples from now until, well, the ends of time itself by signing up for Tumblr and getting unlimited access not just to this blog, but countless others like it.")})),(0,T.jsxs)("div",{className:Z.content,children:[(0,T.jsx)("span",{className:Z.contentTitle,children:e.label}),(0,T.jsx)("div",{className:Z.contentBody,children:this.renderRelatedTags(e)})]}),(0,T.jsx)("div",{className:Z.imgLink,style:{width:`${this.avatarSize}px`},children:this.renderImage(e)})]})},`trending-tag-${e.label}`)}),r()(this,"renderImage",e=>{var t;return null!=e&&null!==(t=e.resources)&&void 0!==t&&null!==(t=t[0])&&void 0!==t&&t.thumbUrl?(0,T.jsx)(N.pC,{imageResponse:this.getImageResponseFromTagResource(e.resources[0]),altText:e.label,sizes:`${this.avatarSize}px`}):(0,T.jsx)("div",{className:Z.emptyImg,style:{width:`${this.avatarSize}px`,height:`${this.avatarSize}px`}})}),r()(this,"logUserClickedOnTagCard",e=>this.props.appContext.logEvent({eventName:R.J.ClickedOnTagCard,eventDetails:{tag:e}})),r()(this,"getImageResponseFromTagResource",e=>[{url:e.thumbUrl,width:this.avatarSize,height:this.avatarSize}]),r()(this,"renderRelatedTags",e=>e.relatedTags.reduce((e,t)=>{var s=this.props.appContext,i=s._c,n=s.isLoggedIn,r=(0,S.fO)(t);return e.length<this.maxRelatedTagsToDisplay?[...e,(0,T.jsx)(k.rU,a()(a()({to:r,className:Z.relatedTagLiTagCard(t)},!n&&{"data-login-wall-type":"tags","data-login-wall-tag-label":t,"data-login-wall-destination":r,"data-login-wall-redirect":r,"data-login-wall-title":i("Login wall: Title shown when user clicks on a blog or image after exceeding click counter limit","Seems we're out of free samples."),"data-login-wall-text":i("Login wall: Text shown when user clicks on a blog or image after exceeding click counter limit","But there's good news. Get free samples from now until, well, the ends of time itself by signing up for Tumblr and getting unlimited access not just to this blog, but countless others like it.")}),{},{children:`#${t} `}),`related-tag-${t}`)]:e},[]))}render(){var e=this.props,t=e.isMobile,s=e.items,i=e.columns,a=e.topPositioned,n=l()(Z.colorfulOrderedTagList,{[Z.topPositioned]:!!a}),r=M.timelineMasonryPostWidth+M.timelineMasonryPostSpacing;return t?this.renderMobile(n,s):(0,T.jsx)("ol",{className:n,children:(0,T.jsxs)(C.Z,{visibleWidth:r*i-M.timelineMasonryPostSpacing,itemWidth:r,children:[this.getColumn(0,1),this.getColumn(2,3),this.getColumn(4,5),this.getColumn(6,7)]})})}getColumn(e,t){var s=this.props.items,i=s[e],a=s[t];return(0,T.jsxs)("div",{className:Z.column,children:[i&&this.renderItem(i,e),a&&this.renderItem(a,t)]})}}r()(L,"defaultProps",{items:[],columns:4,isMobile:!1});let B=(0,I.X9)(L,{appContext:!0,loginContext:!0});var F=s(94765),E=s(29860),_=s(98724),O=s(78079),A=s(30337),z=s(91264),D=s(43107),H=s(25321),V=s(36180),U=s(84456),W=s(43597),q=s(61822),J=s(32468),G=s(13883),Q=s(18046),$=s(50899),Y=s(92183),K=s(66498),X=s(71417),ee=s(22979),et=s(86694),es=s(20943),ei=s(93099),ea=s(399),en=s(58546),er=s(48385),eo=s(55015),el=s(75891),ed=s(68782),ec=s(94576),eh=s(48352),ep=s(84458),eu=s(17287),eg=s(20103),em=s(6233),ev=s(18488),ex=s(67023),ef=s(73125);let eb={root:"zKC5L",hasImage:"Dyavw",info:"EXJlM",horizontalLayout:"P39Zg",date:"AwrnU",liveMessage:"msIyY",description:"kxAnp",buttons:"bY0uJ",button:"nXJBu",image:"hSkG6",helpButton:"ekF1b",helpText:"jE08q",liveDot:"JDmeV"},ej=e=>{var t,s,i=e.takeover,a=e.verticalLayout,n=(0,x.bp)(),r=n.isLoggedIn,o=n._c,c=n._getLocaleDateString,h=(0,d.useState)(null!==(t=null==i||null===(s=i.answerTime)||void 0===s?void 0:s.followed)&&void 0!==t&&t),p=g()(h,2),u=p[0],m=p[1],v=(0,d.useState)(!1),f=g()(v,2),b=f[0],j=f[1];if(!(null!=i&&i.answerTime))return null;var w=i.answerTime,y=w.blogName,k=w.description,C=w.startDate,N=w.liveClickthroughUrl,S=i.headerImage,R=i.live,I=i.completed,M=C?new Date(1e3*C):null,Z=(null==N?void 0:N.split("/").pop())||"answertime";return(0,T.jsxs)("div",{className:l()(eb.root,{[eb.horizontalLayout]:!(void 0!==a&&a),[eb.hasImage]:!!S}),children:[(0,T.jsxs)("div",{className:eb.info,children:[R?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:eb.liveDot,children:(0,T.jsxs)("ol",{children:[(0,T.jsx)("li",{}),(0,T.jsx)("li",{}),(0,T.jsx)("li",{}),(0,T.jsx)("li",{})]})}),(0,T.jsx)("span",{className:eb.liveMessage,children:(0,T.jsx)(P.ZP,{comment:"Message displayed when an Answer Time is live",children:"Live now"})})]}):M?(0,T.jsx)("time",{className:eb.date,dateTime:M.toISOString(),children:c(M,ex.C.DateAndTimeLongWithTimezone,!0)}):null,k&&(y?(0,T.jsx)(eu.Z,{blogName:y,showBlogCard:!1,className:eb.description,children:k}):(0,T.jsx)("div",{className:eb.description,children:k})),y&&(0,T.jsxs)("div",{className:eb.buttons,children:[I?(0,T.jsx)(ev.Z,{isRounded:!0,className:eb.button,as:"a",href:`/${y}/tagged/${Z}`,children:o("Button label that links to posts for a completed answertime","Answers")}):(0,T.jsx)(ev.Z,{isRounded:!0,className:eb.button,as:"a",href:r?`/new/ask/${y}`:"/login",children:o("Button label to send a question to a blog","Ask a question")}),R&&(0,T.jsx)(ev.Z,{isRounded:!0,className:eb.button,as:"a",href:`/${y}/tagged/${Z}`,children:o("Button label that links to answer posts","See answers")}),(0,T.jsx)(eg.Z,{isStyledButton:!0,isRounded:!0,following:u,blogName:y,blogUrl:(0,ef.Z)(y),className:eb.buttot)=>{m(t)},children:e=>e?o("Button label to unfollow a blog","Following"):o("Button label to follow a blog","Follow")})]})]}),S&&(y?(0,T.jsx)(eu.Z,{blogName:y,showBlogCard:!1,className:eb.image,style:{backgroundImage:`url('${S}')`},"data-testid":"hero-image"}):(0,T.jsx)("span",{className:eb.image,style:{backgroundImage:`url('${S}')`},"data-testid":"hero-image",children:" "})),(0,T.jsx)("button",{className:eb.helpButton,onClick:()=>{j(!0)},children:(0,T.jsx)(P.ZP,{comment:"Button label for Answer Time help",children:"What is Answer Time?"})}),b&&(0,T.jsx)(em.Z,{showClose:!0,title:o("Title for the Answer Time help modal","What is Answer Time?"),theme:em.L.Roun()=>{j(!1)},children:(0,T.jsxs)("section",{className:eb.helpText,children:[(0,T.jsx)("p",{children:(0,T.jsx)(P.ZP,{comment:"Help text for Answer Time - paragraph 1 of 3",children:"We get the world's most interesting people to open up their Tumblr ask box, and you get a few days to fill it with whatever questions you want. Then they'll answer as many questions as they can, live on their Tumblrs, for one eclectic hour."})}),(0,T.jsx)("p",{children:(0,T.jsx)(P.ZP,{comment:"Help text for Answer Time - paragraph 2 of 3",children:"Not sure what to ask? Poke through the archives on this page—you'll see. Answer Times get rowdy, deep, funny, and weird. So go ahead. Ask whatever your heart wants to ask."})}),(0,T.jsx)("p",{children:(0,T.jsx)(P.ZP,{comment:"Help text for Answer Time - paragraph 3 of 3",children:"It's the best hour you can catch up on later."})})]})})]})};var ew=s(31726);let eT={postColumn:"V9TEa",mainColumnContainer:"YDpaw",newDesktopLayout:"peM4H",isNativeWebview:"Qsumj",emptyView:"VbmN8",recommendedTags:"qY_MN",trendingTags:"Fd3xx",apiError:"SmuUJ",pillTags:"hxC_t",pillTag:"aTzUH",isSnowBright:"thm0N"};var ey=e=>!!(null!=e&&e.trendingBlogsTimeline),ek=e=>!!(null!=e&&e.recommendedBlogsTimeline),eC=e=>!!(null!=e&&e.followedTag)(e.timeline),eP=e=>!!(null!=e&&e.trendingTagsTimeline),eS=e=>!!(null!=e&&e.tagInfoRowsTimeline),eR=e=>!!(null!=e&&e.recommendedTagsTimeline),eI=e=>!!(null!=e&&e.staffPicksTagsTimeline);class eM extends X.lb{constructor(e){super(e),r()(this,"state",this.getInitialState()),r()(this,"isFetchingFollowedTags",!1),r()(this,"isFetchingRecommendedBlogs",!1),r()(this,"isFetchingTrendingBlogs",!1),r()(this,"isFetchingMainTimeline",!1),r()(this,"isFetchingTagInfoRows",!1),r()(this,"isFetchingTrendingTags",!1),r()(this,"isFetchingRecommendedTags",!1),r()(this,"isFetchingStaffPicksTags",!1),r()(this,"hasLoggedInfoAboutSidebarBucketing",!1),r()(this,"translatedTextForModeTitle",(()=>{var e=this.props.appContext,t=e._t,s=e._c;return{[Q.Ru.Recommended]:s("Tab label on Explore","For You"),[Q.Ru.Today]:s("Tab label on Explore","Today"),[Q.Ru.StaffPicks]:s("Tab label on Explore","Staff Picks"),[Q.Ru.Trending]:s("Tab label on Explore","Trending"),[Q.Ru.AnswerTime]:t("Answer Time"),[Q.Ru.Gifs]:t("GIFs"),[Q.Ru.Video]:t("Videos"),[Q.Ru.Asks]:t("Asks"),[Q.Ru.Audio]:t("Audio"),[Q.Ru.Chats]:t("Chats"),[Q.Ru.Photos]:t("Photos"),[Q.Ru.Quotes]:t("Quotes"),[Q.Ru.Text]:t("Text")}})()),r()(this,"setRefshCallback=e}),r()(this,"refe.call(this)}),r()(this,"hasFetchedTagCarouselState",()=>{switch(this.getExploreMode()){case Q.Ru.Recommended:return eR(this.state);case Q.Ru.Trending:return eP(this.state);case Q.Ru.StaffPicks:return eI(this.state);default:return!0}}),r()(this,"hasFetchedSidebar",()=>{var e=this.props.appContext.isLoggedIn,t=this.getExploreMode();return e?!!eC(this.state)&&(t===Q.Ru.Trending?ey(this.state):ek(this.state)):ey(this.state)}),r()(this,"hasFetchedInitialState",()=>this.hasFetchedTagCarouselState()&&eN(this.state)),r()(this,"isServingOnRoot",()=>{var e;return(null===(e=this.props.location)||void 0===e?void 0:e.pathname)==="/"}),r()(this,"shouldRedirectToExploreMode",()=>{var e=this.props.appContext.features.exploreTodayTab,t=this.getExploreMode();return!this.isServingOnRoot()&&(!this.props.params.exploreMode||!this.getExploreModes().includes(t)||!e&&t===Q.Ru.Today)}),r()(this,"getTimelineChangeLinkProps",e=>({to:(0,ei.Z)(S.o_.exploreByMode,{exploreMode:e}),children:this.translatedTextForModeTitle[e],onClick:()=>this.props.appContext.logEvent({eventName:R.J.TimelineOptionChange,eventDetails:{option:e}})})),r()(this,"renderSidebar",()=>{var e=this.props.appContext,t=e._t,s=e.isLoggedIn,i=e.features,a=i.exploreRightRailAds,n=i.redpopDesktopVerticalNav,r=i.trendingTagsSidebar,o=e.logEvent,l=this.props.loggedOutFeatureContext,d=this.state,c=d.followedTagsTimeline,p=d.tagInfoRowsTimeline,u=this.isServingOnRoot()?Q.Ru.Today:this.getExploreMode(),g=r&&u!==Q.Ru.Trending&&p,m=s||(null==l?void 0:l.isReady);if(!this.hasFetchedSidebar()||!m)return(0,T.jsx)(A.Z,{allContentSticky:!0,children:(0,T.jsx)(_.w,{})});var v=!!(null!=l&&l.features.loggedOutTest);return null!=l&&l.isReady&&!this.hasLoggedInfoAboutSidebarBucketing&&(o({eventName:v?R.J.LoggedOutTreatmentDisplay:R.J.LoggedOutControlDisplay}),this.hasLoggedInfoAboutSidebarBucketing=!0),(0,T.jsxs)(A.Z,{supplyProviderId:Y.E.EXPLORE,showAd:a,followedTags:s&&c,children:[g?(0,T.jsx)(U.Z,{headerText:t("Popular Tags"),showMoreLabel:t("Show more tags"),endOfTimelineMessage:t("No more tags to show."),elementsPerPage:4,timelineObject:p,getPagE.TagInfoRow)}):(0,T.jsx)(H.D,{timelineObject:this.getRecommendedBlogs(),displayMode:ee.mt.Masonry}),!s&&!n&&(0,T.jsx)(h.Z,{backgroundColor:w().betamaxOrange,isFloating:!1,isDismissible:!1,title:t("Curate your own Dashboard"),signupText:t("Sign me up 🙌"),source:"explore_right_rail_sign_up"}),!s&&!n&&(0,T.jsx)(y,{})]})}),r()(this,"renderPageViewLogger",()=>{var e=!!this.props.params.exploreMode;return(0,T.jsx)(eh.Z,a()({page:e?`${ew.HJ.analyticsPageName}Tab`:ew.HJ.analyticsPageName},e&&{eventDetails:{tab:this.getExploreMode()}}))}),r()(this,"renderMetaData",()=>{var e=this.props.appContext,t=e._c,s=e._t,i={},n=this.isServingOnRoot()?Q.Ru.Today:this.getExploreMode(),r=t("Page title for the Explore page","Explore | Tumblr"),o=s("From fandoms to photography, gaming to anime, Tumblr is where your people are.");if(this.isServingOnRoot()&&(i.canonicalUrl=`${$.Cw}${(0,ei.Z)(S.o_.exploreByMode,{exploreMode:n})}`),i.pageName=ew.HJ.analyticsPageName,!n)return(0,T.jsx)(E.Z,{title:r,description:o});switch(n){case Q.Ru.Recommended:i.title=s("Recommended for you on Tumblr"),i.description=s("These up-to-date topics are curated just for you. The more you engage with content on Tumblr, the more exciting your personalized recommendations will feel.");break;case Q.Ru.Today:i.title=s("Today on Tumblr"),i.description=s("Explore today’s picks from the Tumblr team.");break;case Q.Ru.StaffPicks:i.title=s("Staff picks on Tumblr"),i.description=s("These are the best new GIFs, fan art, illustrations, photos on the internet as curated by Tumblr staff.");break;case Q.Ru.Trending:i.title=s("Trending topics on Tumblr"),i.description=s("Explore trending topics on Tumblr. See all of the GIFs, fan art, and general conversation about the internet’s favorite things.");break;default:i.title=this.translatedTextForModeTitle[n]?`${this.translatedTextForModeTitle[n]} | Tumblr`:r,i.description=o}return(0,T.jsx)(E.Z,a()({},i))}),r()(this,"renderTagsSection",()=>{var e=this.props.appContext,t=e.features.redpopDesktopVerticalNav,s=e.isLoggedIn,i=this.props.paletteContext.name,a=this.props.viewportContext,n=a.isViewportMounted,r=a.width,o=this.state,d=o.recommendedTagsTimeline,c=o.trendingTagsTimeline,h=o.staffPicksTagsTimeline;if((0,en.Q)(d)&&(0,en.Q)(c)&&(0,en.Q)(h))return null;var p=this.isMobile();switch(this.getExploreMode()){case Q.Ru.Recommended:return(null==d?void 0:d.elements)&&(0,T.jsx)("div",{className:eT.recommendedTags,children:(0,T.jsx)(V.Z,{timelineObject:d,itemWidth:M.tagCardCarouselItemWidth+M.carouselItemSpacing,loaderClass:"carouselLoaderTagCard"},Q.Ru.Recommended)});case Q.Ru.Trending:if(!((null==c?void 0:c.elements)&&n))return null;if(!s&&p){var u=null==c?vments.map(e=>e.label);return(0,T.jsx)(O.Z,{isColorful:!0,tags:u,wrapperClassName:eT.pillTags,className:l()(eT.pillTag,{[eT.isSnowBright]:i===K.Z.snowBright})})}return(0,T.jsx)("div",{className:eT.trendingTags,children:(0,T.jsx)(B,{isMobile:p,transparent:!0,topPositioned:!0,columns:this.isListView()?2:(0,er.vk)(r,!0,t),items:c.elements})});case Q.Ru.StaffPicks:return(null==h?void 0:h.elements)&&(0,T.jsx)("div",{className:eT.recommendedTags,children:(0,T.jsx)(V.Z,{timelineObject:h,itemWidth:M.tagCardCarouselItemWidth+M.carouselItemSpacing,loaderClass:"carouselLoaderTagCard"},Q.Ru.StaffPicks)});default:return null}}),r()(this,"getExploreModes",()=>this.props.appContext.isLoggedIn?Object.values(Q.Ru):Object.values(Q.Um)),r()(this,"switchView",e=>{this.setState({displayMode:e},()=>this.props.appContext.setCookie(G.zC.TAGGED_DISPLAY_MODE,e))}),r()(this,"renderEmptyTimeline",()=>(0,T.jsx)("div",{className:eT.emptyView,children:(0,T.jsx)(P.ZP,{children:"We couldn’t find any posts like that."})})),r()(this,"getInitialPage",()=>{var e,t=this.state.timeline[this.getExploreMode()];return{objects:(null==t?void 0:t.elements)||[],nextLink:null==t||null===(e=t.links)||void 0===e?void 0:e.next}}),r()(this,"getRecommendedBlogs",()=>{var e,t=this.props.appContext.isLoggedIn,s=this.state,i=s.recommendedBlogsTimeline,a=s.trendingBlogsTimeline,n=this.getExploreMode()!==Q.Ru.Trending&&t?i:a;return(0,el.Z)({elements:null==n||null===(e=n.elements)||voidjectType!==ee.RP.Title),objectType:ee.TE.Carousel,id:"id",links:null==n?void 0:n.links},this.getTranslatedTextForBlogsSidebar())}),r()(this,"getTranslatedTextForBlogsSidebar",()=>{var e=this.props.appContext,t=e._c,s=e.isLoggedIn;return this.getExploreMode()!==Q.Ru.Trending&&s?t("Title for the sidebar section with blogs recommended for the user","Check out these blogs"):t("Title for the sidebar section with trending blogs","Trending Blogs")}),r()(this,"onPagination",()=>this.props.appContext.logEvent({eventName:R.J.Pagination})),r()(this,"isListView",()=>this.isMobile()||this.state.displayMode===ee.mt.List),r()(this,"getEndpointApiRequestFromQueryParams",e=>{var t=this.getExploreMode();return(0,ew.Aw)([this.props.appContext.apiFetch,this.props.appContext.apiFetchWithSchema],t,e)}),r()(this,"renderTimelineContent",()=>{var e=this.isMobile(),t=this.props.viewportContext.isViewportMounted;if(this.isFetchingMainTimeline||!t||!eN(this.state))return(0,T.jsx)(_.w,{condensed:e});var s=this.state.timelineKey,i=this.getExploreMode(),a=i===Q.Ru.AnswerTime?e||this.state.displayMode===ee.mt.Masonry?eo.Z.answerTimeMobile:eo.Z.answerTimeDesktop:void 0;return(0,T.jsx)(F.Z,{timelineName:`/explore/${i}`,getEndpointApiRequestFromQueryParams:this.getEndpointApiRequestFromQueryParams,children:(0,T.jsx)(z.ZP,{id:`explore-${i}`,getInitialPage:this.getInitialPage,getObjectsFromResponse:this.getTimelineElementsFromResponse,getNextLink:this.getNextLinkFromResponse,onPagination:this.onPagination,displayMode:this.isListView()?ee.mt.List:ee.mt.Masonry,maximumNumberOfColumns:ew.GI,masonryRendersWithSidebar:!0,emptyView:this.renderEmptyTimeline(),doesNotRemoveUnfollowedObjects:!0,overridePresentationStyle:a,setRefreshCallback:this.setRefreshCallback,initialLoader:(0,T.jsx)(_.w,{condensed:e})},s)})}),r()(this,"fetchCurrentTimeline",()=>{var e=this.getExploreMode(),t=this.props.appContext,s=t.apiFetch,i=t.apiFetchWithSchema;this.isFetchingMainTimeline=!0,(0,ew.kh)([s,i],e).then(t=>{this.isFetchingMainTimeline=!1,this.setState({timeline:a()(a()({},this.state.timeline),{},{[e]:t.timeline[e]}),takeover:a()(a()({},this.state.takeover),t.takeover),hasFetchError:t.hasFetchError})})}),r()(this,"getTimelineElementsFromResponse",e=>{var t;return(null===(t=e.response.timeline)||void 0===t?void 0:t.elements)||[]}),r()(this,"getNextLinkFromResponse",e=>{var t;return null===(t=e.response.timeline)||void 0===t||null===(t=t.links)||void 0===t?void 0:t.next}),r()(this,"getExploreMode",()=>{var e;return null!==(e=this.props.params.exploreMode)&&void 0!==e?e:this.props.appContext.features.exploreTodayTab?Q.Ru.Today:Q.Ru.Trending}),this.tabsHeaderRef=(0,d.createRef)()}getInitialState(){var e=this.props.appContext,t=e.getBootstrap,s=e.getCookie,i=e.isLoggedIn,a=e.features.exploreTodayTab,n=t(ew.Rn),r=a||!i?ee.mt.List:ee.mt.Masonry;return{displayMode:(s(G.zC.TAGGED_DISPLAY_MODE)||r)===ee.mt.List?ee.mt.List:ee.mt.Masonry,followedTagsTimeline:null==n?void 0:n.followedTagsTimeline,timeline:(null==n?void 0:n.timeline)||{},recommendedBlogsTimeline:null==n?void 0:n.recommendedBlogsTimeline,trendingBlogsTimeline:null==n?void 0:n.trendingBlogsTimeline,recommendedTagsTimeline:null==n?void 0:n.recommendedTagsTimeline,trendingTagsTimeline:null==n?void 0:n.trendingTagsTimeline,staffPicksTagsTimeline:null==n?void 0:n.staffPicksTagsTimeline,hasFetchError:!1,timelineKey:0,takeover:null==n?void 0:n.takeover}}componentDidMount(){this.shouldRedirectToExploreMode()||(eN(this.state)||this.fetchCurrentTimeline(),this.fetchTags(),this.fetchSidebar())}componentDidUpdate(e){var t=e.params.exploreMode,s=this.state,i=s.timeline,a=s.hasFetchError,n=s.timelineKey,r=this.getExploreMode();i[r]||this.isFetchingMainTimeline||a?t&&t!==r&&this.hasFetchedInitialState()&&this.setState({timelineKey:n+1}):this.fetchCurrentTimeline(),t!==r&&(this.fetchTags(iewportContext.width)}render(){var e=this.props.appContext,t=e.isLoggedIn,s=e._t,i=e.getCookie,n=e.features,r=n.exploreTodayTab,o=n.redpopDesktopVerticalNav,d=n.loggedOutImprovementsCtas,u=this.state,g=u.hasFetchError,m=u.displayMode,v=this.isMobile(),x=v?0:o?"100vh":`calc(100vh - ${M.desktopHeaderEffectiveHeightPx}px + 1px)`,f=G.X3.includes(i(G.zC.NATIVE_APP_WEBVIEW)),b=this.getExploreMode()||(r?Q.Ru.Today:Q.Ru.Trending);if(this.shouldRedirectToExploreMode())return(0,T.jsxs)(T.Fragment,{children:[this.renderPageViewLogger(),(0,T.jsx)(c.Fg,{to:(0,S.wT)({exploreMode:r?Q.Ru.Today:t?Q.Ru.Recommended:Q.Ru.Trending}),replace:!0})]});var j={activePage:J.vS.explore,mainContentIsMasonry:!this.isListView(),maxMasonryColumns:ew.GI};if(g){var w=(0,ed.U)((0,ea.Pk)(s));return(0,T.jsxs)(T.Fragment,{children:[this.renderPageViewLogger(),(0,T.jsxs)(p.Z,a()(a()({},j),{},{children:[this.renderMetaData(),(0,T.jsx)("div",{className:eT.apiError,children:w}),";"]}))]})}return(0,T.jsxs)(T.Fragment,{children:[this.renderPageViewLogger(),(0,T.jsx)(q.M.Provider,{value:this.refreshTimeline,children:(0,T.jsxs)(p.Z,a()(a()({},j),{},{children:[this.renderMetaData(),!t&&(!v||d)&&(0,T.jsx)(h.Z,{fullWidth:o,avoidSidebar:!o,isDismissible:!(o||d),source:"explore_floating_sign_up",withLoginButton:d}),(0,T.jsx)(W.Z,{innerBorder:!v,maxMasonryColumns:ew.GI,mainContentIsMasonry:!this.isListView(),sidebar:this.renderSidebar(),children:(0,T.jsxs)("main",{style:{minHeight:x},className:l()(eT.mainColumnContainer,this.isListView()?eT.postColumn:eT.postMasonry,{[eT.newDesktopLayout]:o,[eT.isNativeWebview]:f}),children:[(0,T.jsx)(ep.T,{ref:this.tabsHeaderRef,additionalOffset:0,isMasonryView:!this.isListView(),children:(0,T.jsx)(D.Z,{timelineOptions:t?[...r?[Q.Ru.Today]:[],Q.Ru.Recommended,Q.Ru.Trending,Q.Ru.StaffPicks,Q.Ru.AnswerTime]:[...r?[Q.Ru.Today]:[],Q.Ru.Trending,Q.Ru.StaffPicks,Q.Ru.AnswerTime],submenuOptions:Q.PX,viewsShown:[ee.mt.List,ee.mt.Masonry],onViewClick:this.switchView,currentView:m,activeOption:b,addBottomMargin:b===Q.Ru.StaffPicks,getLinkProps:this.getTimelineChangeLinkProps,isScrollingHeader:!0})}),this.renderTagsSection(),this.getExploreMode()===Q.Ru.AnswerTime&&(0,T.jsx)(ej,{takeover:this.state.takeover,verticalLayout:this.state.displayMode===ee.mt.List}),this.renderTimelineContent()]})})]}))})]})}fetchTrendingTagsState(){var e=this.props.appContext.apiFetch;this.isFetchingTrendingTags=!0,(0,ew.Ks)(e).then(e=>{this.isFetchingTrendingTags=!1,this.setState(a()({},e))})}fetchTagInfoRowsState(){var e=this.props.appContext.apiFetch;this.isFetchingTagInfoRows=!0,(0,ew.Iy)(e).then(e=>{this.isFetchingTrendingTags=!1,this.setState(a()({},e))})}fetchRecommendedTagsState(){var e=this.props.appContext,t=e.apiFetch,s=e.isLoggedIn;this.isFetchingRecommendedTags=!0,(0,ew.zJ)(t,s).then(e=>{this.isFetchingRecommendedTags=!1,this.setState(a()({},e))})}fetchStaffPicksTagsState(){var e=this.props.appContext.apiFetch;this.isFetchingStaffPicksTags=!0,(0,ew.lu)(e).then(e=>{this.isFetchingStaffPicksTags=!1,this.setState(a()({},e))})}fetchTags(){switch(this.getExploreMode()){case Q.Ru.Recommended:eR(this.state)||this.isFetchingRecommendedTags||this.fetchRecommendedTagsState();break;case Q.Ru.Trending:eP(this.state)||this.isFetchingTrendingTags||this.fetchTrendingTagsState();break;case Q.Ru.StaffPicks:eI(this.state)||this.isFetchingStaffPicksTags||this.fetchStaffPicksTagsState()}}fetchFollowedTagsState(){var e=this.props.appContext.apiFetch;this.isFetchingFollowedTags=!0,(0,es.KN)(e).fetch().then(e=>{var t=e.response,s=(void 0===t?{}:t).timeline;this.isFetchingFollowedTags=!1,this.setState({followedTagsTimeline:s})})}fetchRecommendedBlogsState(){var e=this.props.appContext.apiFetch;this.isFetchingRecommendedBlogs=!0,(0,et.Iv)(e).fetch().then(e=>{var t=e.response,s=(void 0===t?{}:t).timeline;this.isFetchingRecommendedBlogs=!1,this.setState({recommendedBlogsTimeline:s})})}fetchTrendingBlogsState(){var e=this.props.appContext.apiFetch;this.isFetchingTrendingBlogs=!0,(0,et.E1)(e).fetch().then(e=>{var t=e.response,s=(void 0===t?{}:t).timeline;this.isFetchingTrendingBlogs=!1,this.setState({trendingBlogsTimeline:s})})}fetchSidebar(){var e=this.props.appContext.isLoggedIn,t=this.getExploreMode(),s=this.props.appContext.features.trendingTagsSidebar;e||!s||eS(this.state)||this.isFetchingTagInfoRows||this.fetchTagInfoRowsState(),e&&t!==Q.Ru.Trending||ey(this.state)||this.isFetchingTrendingBlogs||this.fetchTrendingBlogsState(),!e||(eC(this.state)||this.isFetchingFollowedTags||this.fetchFollowedTagsState(),t===Q.Ru.Trending||ek(this.state)||this.isFetchingRecommendedBlogs||this.fetchRecommendedBlogsState())}}let eZ=(0,I.Bg)(eM,{appContext:!0,loggedOutFeatureContext:!0,viewportContext:!0,paletteContext:!0})},20285:(e,t,s)=>{s.r(t),s.d(t,{default:()=>tK,getFormToShow:()=>t$});var i=s(54138),a=s.n(i),n=s(50209),r=s.n(n),o=s(54236),l=s(29846),d=s(33970),c=s.n(d),h=s(5754),p=s.n(h),uapply(this,arguments)},v="")),j(),!0}return!1}function y(e){return u.forwardRef(function(t,s){var i="";"string"==typeof t.to&&t.to.includes("#")?i="#"+t.to.split("#").slice(1).join("#"):"object"==typeof t.to&&"string"==typeof t.to.hash&&(i=t.to.hash);var a={}e.isExaa]]=e[i[a]]);return s}(t,["scroll","smooth","timeout","elementId"]);return u.createElement(e,m({},a,n,{onClick:function(e){if(j(),v=t.elementId?"#"+t.elementId:i,t.onClick&&t.onClick(e),""!==v&&!e.defaultPrevented&&0===e.button&&(!t.target||"_self"===t.target)&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftK}):e.scrollIntoView()},s=t.timction(){j()},s||1e4))},0)}},ref:s}),t.children)})}var k=y(g.rU);y(g.OL);var C=s(21283);let N={deck:"P7XUh",deckNavigation:"FhRnI",dot:"jQSBY",active:"BetvO"};var P=s(2629);let S=function(e){var t=e.children,s=e.disableNavigation,i=void 0!==s&&s,a=(0,u.useState)(0),n=c()(a,2),r=n[0],o=n[1],l=(0,u.useRef)(null),d=(0,C.Z)(()=>{var e=l.current;o(Math.round(e.scrollTop/(e.scrollHeight/u.Children.count(t))))},100),h=(0,u.useCallback)(d,[t]);return(0,P.jsxs)("div",{className:N.deck,ref:l,onScroll:h,children:[!i&&(0,P.jsx)("nav",{className:N.deckNavigation,children:(0,P.jsx)("ul",{children:u.Children.map(t,(e,t)=>{var s=e.props.name;return(0,P.jsx)("li",{children:(0,P.jsxs)(k,{to:`#${s}`,smooth:!0,children:[(0,P.jsx)("div",{className:p()(N.dot,{[N.active]:t===r})}),(0,P.jsx)("span",{className:"screenReaderOnly",children:s})]})})})})}),u.Children.map(t,(e,t)=>i&&0!==t?void 0:(0,u.cloneElement)(e,{active:t===r}))]})},R=function(e){var t=e.children,s=e.name,i=e.active;return(0,P.jsx)("section",{id:s,className:"thwmc",chiElement)(e,{active:i}))})};var I=s(30862),M=s(42496),Z=s(93853),L=s(26472),B=s(20929),F=s(341),E=s(52870),_=s(33814);let O=function(e){var t=e.showHeader,s=e.children;return(0,P.jsx)("header",{className:p()("h1rLz",{le6nD:!t}),children:s})};var A=s(92717),z=s(54382),D=s(90127),H=s(42580),V=s(838),U=s(78667),W=s(73315),q=s(18488),J=s(63583),G=s.n(J);let Q=e=>(0,P.jsx)(q.Z,a()(a()({textColor:J.black,backgroundColor:J.dreamcastBlue,size:"entireWidth",type:"submit"},e),{},{disabledBackgroundColor:e.disabledBackgroundColor||e.backgroundColor,disabledTextColor:e.textColor,disabledTheme:"default",wrapperClassName:p()("yC5pj",e.wrapperClassName)}));var $=s(54589),Y=s.n($),K=["name","autoComplete","autoFocus","hidden"];let X=e=>{var t=e.name,s=e.autoComplete,i=e.autoFocus,n=e.hidden,r=Y()(e,K);return(0,P.jsx)("input",a()({className:p()("gj_Aq",{szP6f:n}),name:t,"aria-label":t,autoComplete:void 0===s?"off":s,autoFocus:void 0!==i&&i},r))};var ee=s(6135),et=s(58849),es=s(38405);let ei=e=>{var t=e.onVerification,s=e.onError,i=(0,U.bp)()._t,a=(0,et.h)().fetchLoginMode,n=(0,u.useState)(""),r=c()(n,2),o=r[0],l=r[1],d=(0,u.useCallback)(e=>l(e.target.value),[]),h=(0,u.useState)(!1),p=c(=>{m(!1),s("Unknown")},x=e=>{var i=e.response;m(!1);var a=i.mode,n=i.captchaRequired,r=(0,es.w)(a);r?t({email:o,allowedLoginMode:r,needsCaptcha:!!n}):s("Unknown")},f=(0,u.useCallback)(e=>{e.preventDefault(),g||(m(!0),a(o).then(x).catch(v))},[o,g]);return(0,P.jsxs)("form",{action:"",method:"post",onSubmit:f,children:[(0,P.jsx)(X,{type:"text",name:"email",placeholder:i("Email"),autoComplete:"email",autoFocus:!0,value:o,onChange:d}),(0,P.jsx)(Q,{label:i("Next"),children:g?(0,P.jsx)(ee.Z,{small:!0,color:J.black}):i("Next")})]})};var ea=s(41595),en=s(44787);let er=e=>{var t,s=e.wwwBaseUrl,i=e.action,n={components:{tumblrTOSLink:(0,P.jsx)("a",{href:`${s}/policy/terms-of-service`,target:"_blank",rel:"noopener noreferrer"}),tumblrPrivacyLink:(0,P.jsx)("a",{href:`${s}/policy/privacy`,target:"_blank",rel:"noopener noreferrer"})}};return t="log-in"===i?(0,P.jsx)(z.ZP,a()(a()({},n),{},{children:"By clicking log in, or continuing with the other options below, you agree to Tumblr’s [tumblrTOSLink]Terms of Service[/tumblrTOSLink] and have read the [tumblrPrivacyLink]Privacy Policy[/tumblrPrivacyLink]"})):"sign-up"===i?(0,P.jsx)(z.ZP,a()(a()({},n),{},{children:"By clicking sign up, or continuing with the other options below, you agree to Tumblr’s [tumblrTOSLink]Terms of Service[/tumblrTOSLink] and have read the [tumblrPrivacyLink]Privacy Policy[/tumblrPrivacyLink]"})):(0,P.jsx)(z.ZP,a()(a()({},n),{},{children:"By continuing with the options below, you agree to Tumblr’s [tumblrTOSLink]Terms of Service[/tumblrTOSLink] and have read the [tumblrPrivacyLink]Privacy Policy[/tumblrPrivacyLink]"})),(0,P.jsx)("div",{className:"wTMi1",children:t})};var eo=s(43523);let el={button:"QXFvZ",googleSignInText:"FOMdK",appleSignInText:"SiQEE",dividerContainer:"QnWzN",divider:"gqith",dividerLeft:"pWa_V",dividerRight:"YJ2v4"},ed=e=>{var t=e.children,s=e.formToShow,i=e.queryParams.redirect_to,a=(0,U.bp)(),n=a.logEvent,r=a.wwwBJ.AuthenticationStepShown})},[]),(0,P.jsxs)(P.Fragment,{children:[!s&&(0,P.jsx)(er,{wwwBaseUrl:r}),t,(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:el.dividerContainer,children:[(0,P.jsx)("div",{className:p()(el.divider,el.dividerLeft)}),(0,P.jsx)(z.ZP,{comment:"Text that separates our different login methods",children:"or"}),(0,P.jsx)("div",{className:p()(el.divider,el.dividerRight)})]}),(0,P.jsxs)(q.Z,{className:el.button,"data-testid":"google-login-button",textColor:J.black,backgroundColor:J.white,size:"entireWidth",feature:!1,href:`/auth/google?redirectTo=${i}`,onClick:()=>{n({eventName:s===H.c.Register?eo.J.GoogleRegisterClick:eo.J.GoogleLoginClick})},children:[(0,P.jsx)(en.Z,{}),(0,P.jsx)("div",{className:el.googleSignInText,children:(0,P.jsx)(z.ZP,{comment:"Text on button to log in with Google",children:"Continue with Google"})})]}),(0,P.jsxs)(q.Z,{className:el.button,"data-testid":"apple-login-button",textColor:J.black,backgroundColor:J.white,size:"entireWidth",feature:!1,href:`/auth/apple?redirectTo=${i}`,onClick:()=>{n({eventName:s===H.c.Register?eo.J.AppleRegisterClick:eo.J.AppleLoginClick})},children:[(0,P.jsx)(ea.Z,{}),(0,P.jsx)("div",{className:el.appleSignInText,children:(0,P.jsx)(z.ZP,{comment:"Text on button to log in with Apple",children:"Continue with Apple"})})]})]})]})},ec=function(e){var t=e.email,s=e.onUsePasswordClick,i=(0,(0,U.bp)()._t)("Use password to log in");return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(A.Vx,{children:[(0,P.jsx)("h3",{children:(0,P.jsx)(z.ZP,{children:"We sent you a magic link!"})}),(0,P.jsx)("p",{children:(0,P.jsx)(z.ZP,{params:{email:t},components:{bold:(0,P.jsx)("b",{})},children:"We sent an email to [bold][email][/bold]. It contains a magic link that’ll log you in."})})]}),(0,P.jsx)(Q,{onClick:s,label:i,children:i})]})};var eh=s(69938),ep=s(86747);let eu={forgotPassword:"i9WPo",loader:"Lbj5E",formRow:"NqEjV"};var eg=(0,P.jsx)("div",{className:eu.loader,children:(0,P.jsx)(ee.Z,{small:!0,color:J.black})});let em=e=>{var t=e.email,s=e.magicLinkAllowed,i=e.initialNeedsCaptcha,a=e.initialCaptchaToken,n=e.onLoginSuccess,r=e.onMagicLinkRequested,o=e.onError,l=e.onGdprConsentRequired,d=(0,U.bp)(),h=d._t,p=d.apiFetch,g=d.getBootstrap,m=d.wwwBaseUrl,v=d.features,x=v.redpopThirdPartyAuthentication,f=v.loginWithPrimaryTumblelog,b=(0,et.h)().logIn,j=(0,u.useState)(t),w=c()(j,2),T=w[0],y=w[1],k=(0,u.useCallback)(e=>y(e.target.value),[]),C=(0,u.useState)(""),N=c()(C,2),S=N[0],R=N[1],I=(0,u.useCallback)(e=>R(e.target.value),[]),M=(0,u.useState)(!1),Z=c()(M,2),L=Z[0],B=Z[1],F=(0,u.useState)(void 0),E=c()(F,2),_=E[0],O=E[1],A=(0,u.useCallback)(e=>O(e.target.value),[]),z=(0,u.useState)(!1),D=c()(z,2),H=D[0],W=D[1],q=(0,u.useState)(i),G=c()(q,2),$=G[0],Y=G[1],K=(0,u.useState)(a),ee=c()(K,2),ei=ee[0],ea=ee[1],en=g("recaptchaV3PublicKey").value,eo=(0,u>{$&&(0,eh.loadReCaptcha)(en)},[$]);var el=(0,u.useCallback)(e=>{if(W(!1),ea(void 0),(0,ep._V)(e)){l();return}var t,s,i,a,n=!!(null!==(t=e.body)&&void 0!==t&&t.captchaRequired)||(null===(s=e.body)||void 0===s?void 0:s.error)==="captcha_invalid";$&&n&&(null===(a=eo.current)||void 0===a||a.execute()),Y(n);var r=(0,es.j)(e.status,T,S,null===(i=e.body)||void 0===i?void 0:i.error);409===e.status&&B(!0),o(r)},[S,T,$]);(0,u.useEffect)(()=>{H&&(!$||ei)&&b({captchaToken:ei,password:S,tfaToken:_,email:T}).then(n).catch(el)},[H,$,ei(e=>{e.preventDefault(),W(!0)},[H]),ec=(0,u.useState)(!1),em=c()(ec,2),ev=em[0],ex=em[1],ef=(0,u.useCallback)(e=>{e.preventDefault(),ev||(ex(!0),(0,V.it)(p,{email:t)=>r()).catch(()=>o("Unknown")))},[t,ev]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("form",{action:"",method:"post",className:eu.login,onSubmit:ed,children:[(0,P.jsx)("div",{className:eu.formRow,children:(0,P.jsx)(X,{type:"text",name:f?"email or blog name":"email",placeholder:h(f?"Email or blog name":"Email"),autoComplete:f?"email or blog name":"email",value:T,onChange:k,autoFocus:x&&!L})}),(0,P.jsx)("div",{className:eu.formRow,children:(0,P.jsx)(X,{type:"password",name:"password",placeholder:h("Password"),autoComplete:"current-password",value:S,onChange:I,autoFocus:!x&&!L})}),L?(0,P.jsx)(X,{type:"text",name:"tfaToken",placeholder:h("Enter auth code"),autoComplete:"one-time-code",value:_,onChange:A,autoFocus:L,readOnly:H}):null,$&&(0,P.jsx)(eh.ReCaptcha,{ref:eo,sitekey:en,action:"login",verifyCallback:ea}),(0,P.jsx)(er,{wwwBaseUrl:m,action:"log-in"}),(0,P.jsx)(Q,{disabled:H,label:h("Log in"),children:H?eg:h("Log in")})]}),s?(0,P.jsx)(Q,{backgroundColor:J.glassGreen,disabled:ev,onClick:ef,label:h("Send me a magic link"),children:ev?eg:h("Send me a magic link")}):null,(0,P.jsx)("a",{className:eu.forgotPassword,href:`${m}/forgot_password`,children:h("Forgot your password?")})]})},ev={signupPrompt:"BayF6"};class ex extends u.Component{constructor(){super(...arguments),r()(this,"state",{email:"",password:"",tfaToken:"",loading:!1,needsTfaToken:!1,magicLinkRequested:!1,needsCaptcha:!1,error:null}),r()(this,"onEmailVerificationSuccess",e=>{var t=e.email,s=e.allowedLoginMode,i=e.needsCaptcha;this.setState({email:t,needsCaptcha:i,loginMode:s,error:s===V.hY.PasswordReset?"ResetRequirer",e=>this.setState({error:e})),r()(this,"onLoginSuccess",()=>{var e;return location.replace((0,W.Z)(null===(e=this.props.queryParams)||void 0===e?void 0:e.redirect_to))}),r()(this,"onGdprConsentRequired",()=>{var e=this.props,t=e.appContext,s=t.wwwBaseUrl,i=t.features.gdprAnalyticsConsent,a=e.queryParams.redirect_to;location.replace(`${s}${(0,D.XU)({redirect:(0,W.Z)(a)},i)}`)}),rLinkRequested:!0,error:null})})cLinkRequested:!1,error:null}))}render(){var e=this.state,t=e.loginMode,s=void 0===t?this.props.loginMode:t,i=e.error,a=e.magicLinkRequested,n=e.email,r=e.needsCaptcha,o=this.props,l=o.signupClickCallback,d=o.queryParams,c=s===V.hY.Register?(0,P.jsx)(A.Vx,{children:(0,P.jsx)(z.ZP,{comment:"when trying to login and the email doesn't have an account",components:{link:(0,P.jsx)(g.rU,{to:(0,D.gZ)({formToShow:H.c.Register},{source:"email_not_used_yet"})})},children:"This email doesn't have a Tumblr account. [link]Sign up[/link] now?"})}):(0,P.jsx)(A.Bc,{error:i});return s===V.hY.PasswordReset?(0,P.jsxs)(P.Fragment,{children:[c,(0,P.jsx)(ei,{onVerification:this.onEmailVerificationSuccess,onError:this.onError})]}):s&&s!==V.hY.Register?a||s===V.hY.MagicLinkSent?(0,P.jsx)(ec,{email:n,onUsePasswordClick:this.onUsePasswordClick}):(0,P.jsxs)(P.Fragment,{children:[c,(0,P.jsx)(em,{email:n,magicLinkAllowed:s===V.hY.MagicLink,initialNeedsCaptcha:r,onLoginSuccess:this.onLoginSuccess,onMagicLinkRequested:this.onMagicLinkRequested,onError:this.onError,onGdprConsentRequired:this.onGdprConsentRequired})]}):(0,P.jsxs)(P.Fragment,{children:[c,(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(ed,{formToShow:H.c.Login,queryParams:d,children:(0,P.jsx)(em,{email:n,magicLinkAllowed:!1,initialNeedsCaptcha:r,onLoginSuccess:this.onLoginSuccess,onMagicLinkRequested:this.onMagicLinkRequested,onError:this.onError,onGdprConsentRequired:this.onGdprConsentRequired})}),(0,P.jsx)("div",{className:ev.signupPrompt,children:(0,P.jsx)(z.ZP,{components:{a:(0,P.jsx)(g.rU,{to:"/register?source=new_to_tumblr",onClick:l})},children:"New to Tumblr? [a]Sign up![/a]"})})]})]})}}let ef=(0,U.HJ)(ex);var eb=s(66276),ej=s(13883),ew=s(42946),eT=s(59215),ey=s(17276),ek=s.n(ey),eC=s(46811),eN=s(93799),eP=s(25200);let eS=e=>{var t=e.queryParams.redirect_to,s=(0,U.bp)(),i=s._t,a=s._c,n=s.apiFetch,r=s.getCookie,o=(0,u.useState)(null),l=c()(o,2),d=l[0],h=l[1],p=(0,u.useState)(""),g=c()(p,2),m=g[0],v=g[1],x=a("Text on button to login after entering the two factor authentication code","Log in");return(0,P.jsxs)("form",{action:"",method:"post",onSubmit:e=>{var s,i,o,l,d;return ek()().async(function(c){for(;;)switch(c.prev=c.next){case 0:if(e.preventDefault(),h(null),!m){c.next=16;break}return c.prev=3,c.next=6,ek()().awrap((0,V.nz)(n,{idToken:r(ej.Iu),nonce:(0,eC.Z)(),tfaCode:m}).fetch());case 6:location.replace((0,W.Z)(t)),c.next=14;break;case 9:c.prev=9,c.t0=c.catch(3),o=null===c.t0||void 0===c.t0||null===(s=c.t0.body)||void 0===s||null===(s=s.response)||void 0===s||null===(s=s.tumblelogErrors)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.message,l=null===c.t0||void 0===c.t0||null===(i=c.t0.body)||void 0===i||null===(i=i.errors)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.code,o?h(o):l===eN.Z.TfaInvalid?h(a("Invalid auth code","The auth code you entered was invalid.")):(h((null===c.t0||void 0===c.t0||null===(d=c.t0.body)||void 0===d||null===(d=d.errors)||void 0===d||null===(d=d[0])||void 0===d?void 0:d.detail)||a("General error message","Something broke. Try again.")),(0,eP.Tb)(c.t0));case 14:c.next=17;break;case 16:h(a("Error message when entering two factor authentication code","You forgot to enter your auth code!"));case 17:case"end":return c.stop()}},null,null,[[3,9]],Promise)},children:[d&&(0,P.jsx)(A.Vx,{children:d}),(0,P.jsx)("div",{className:ev.inputFields,children:(0,P.jsx)(X,{type:"text",name:"tfaToken",placeholder:i("Enter auth code"),autoComplete:"o,onChange:e=>v(e.target.value)})}),(0,P.jsx)(Q,{children:x})]})};var eR=s(50302),eI=s(91860);let eM=e=>{var t=e.onSuccess,s=e.birthdate,i=(0,U.bp)()._c,a=(0,u.useState)(s),n=c()(a,2),r=n[0],o=n[1],l=(0,u.useState)(!1),d=c()(l,2),h=d[0],g=d[1],m=i("Text on button to go to the next page after user registration","Next");return(0,P.jsxs)("form",{acpost",onSubmit:()=>{r&&t(r,h)},className:p()(eI.Z.ageWrapper,eI.Z.onboardingRedesign),children:[(0,P.jsx)(eR.Z,{className:eI.Z.ageTosWrapper,onSetBirthdate:o,onSetLiveTosAccepted:g}),(0,P.jsx)(Q,{label:m,disabled:!r,wrapperClassName:eI.Z.button,children:m})]})};var eZ=s(12695),eL=s(5340),eB=s(65148),eF=s(57873),eE=s(13430);let e_=e=>{var t=e.email,s=e.password,i=e.onEmailError,n=e.onPasswordError,r=e.age,o=e.birthdate,l=e.liveTosAccepted,d=e.queryParams,h=e.onSuccess,p=e.onTooYoungToRegisterError,g=e.initialBlogname,m=e.recaptchaToken,v=e.recaptchaRef,x=(0,U.bp)(),f=x._c,b=x.apiFetch,j=x.logEvent,w=(0,u.useState)(g),T=c()(w,2),y=T[0],k=T[1],C=(0,u.useState)(null),N=c()(C,2),S=N[0],R=N[1],I=(0,u.useState)(!1),M=c()(I,2),Z=M[0],L=M[1],B=(0,u.useState)([]),F=c()(B,2),E=F[0],_=F[1],O=(0,u.useRef)(m);(0,u.useEffect)(()=>{Z&&""!==m&&O.current!==m&&(L(!1),O.current=m,D(!0))},[Z,m]);var z=()=>{y&&(0,V.KJ)(b,{email:t,passworlelog:y}).fetch().then(()=>D()).catch(e=>{var t,s,a,r=e.body.response,o=(null===(t=r.alternates)||void 0===t?void 0:t.suggestedUserNames)||(null===(s=r.alternates)||void 0===s?void 0:s.suggestedRandomNames)||[];switch(r.code){case 2:i("EmailUnavailable");return;case 3:R("BlognameUnavailable"),_(o);break;case 4:R((null==e||null===(a=e.body)||void 0===a||null===(a=a.response)||void 0===a||null===(a=a.tumblelogErrors)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.code)===3?"BlognameUnavailable":"BlognameInvalid"),_(o);break;case 1030:n("PasswordInvalid",r.rejectReason||"");break;default:R("Unknown")}})},D=e=>{var i;return ek()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ek()().awrap((0,eF.Hp)());case 2:i=n.sent,(0,V.z2)(b,a()(a()({email:t,password:s,age:r||(o?(0,eE.x)(o).toString():"1")},o&&{birthDate:o.toISOString().slice(0,10)}),{},{liveTosAccepted:l,blogName:y,httpReferer:document.referrer||void 0,queryParams:i?(0,eL.ju)(d):d,token:m})).fetch().then(()=>{j({eventName:l?eo.J.TumblrLiveToSOnboardingAccepted:eo.J.TumblrLiveToSOnboardingDeclined},{sendPayloadImmediately:!0}),j({eventName:eo.J.RegistrationSuccess},{sendPayloadImmediately:!0}),h({blogname:y})}).catch(t=>{var s,i,a=null===(s=t.body)||void 0===s||null===(s=s.response)||void 0===s?void 0:s.code,n=null==t||null===(i=t.body)||void 0===i||null===(i=i.errors)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.code;j({eventName:eo.J.RegistrationFailed}),t.status===eB.Z.Unauthorized&&n===eN.Z.RecaptchaTokenExpired?(null==v||v.execute(),e?R("RecaptchaExpired"):L(!0)):7===a?p():R("Unknown"),(0,eP.Tb)(t)});case 4:case"end":return n.stop()}},null,null,null,Promise)},H=f("label on a registration form that takes user to the next step","Sign up");return(0,P.jsxs)("div",{className:eI.Z.blognameWrapper,children:[(0,P.jsx)(eZ.Z,{blogname:y,surNames:E,onSelection:e=>{k(e)},onSubmit:z,theme:"light"}),(0,P.jsx)(A.Bc,{error:S}),(0,P.jsx)(Q,{label:H,onClick:z,wrapperClassName:eI.Z.button,disabled:!m||""===y,children:H})]})};var eO=s(42914),eA=s(71650),ez=s(69260);class eD extends u.Component{constructor(){var e;super(...arguments),e=this,r()(this,"state",{email:this.props.email,password:this.props.password,error:null,passwordScore:void 0,suggestedBlogNames:[]}),r()(this,"handleEmailChange",e=>{this.setState({error:null}),this.setState({email:e.target.value}),this.checkPasswordStrengthDebounced()}),r()(this,"handlePasswordChange",e=>{this.setState({error:null}),this.setState({password:e.target.value}),this.checkPasswordStrengthDebounced()}),r()(this,"onSubmit",function(t){var s,i,a,n,r,o;return ek()().async(function(l){for(;;)switch(l.prev=l.next){case 0:if(t&&t.preventDefault(),a=(i=e.state).email,n=i.password,!(!a.length||!n.length)){l.next=5;break}return e.setState({error:"InputsEmpty"}),l.abrupt("return");case 5:if(!(n.length<A.N$)){l.next=8;break}return e.setState({error:"PasswordLength"}),l.abrupt("return");case 8:if(!((r=new TextEncoder().encode(n).length)>A.Z$)){l.next=12;break}return n.length!==r?e.setState({error:"PasswordMaxByteLength"}):e.setState({error:"PasswordMaxLength"}),l.abrupt("return");case 12:return l.next=14,ek()().awrap((0,V.Vs)(e.props.appContext.apiFetch,{password:n,email:a}).fetch());case 14:if(!(null!==(s=(o=l.sent).response)&&void 0!==s&&s.rejectReason)){l.next=18;break}return e.props.onPasswordError("PasswordInvalid",o.response.rejectReason),l.abrupt("return");case 18:if((0,eA.J)(a)){l.next=21;break}return e.setState({error:"MalformedEmail"}),l.abrupt("return");case 21:a.length&&n.length&&e.props.onSuccess({email:a,password:n});case 22:case"end":return l.stop()}},null,null,null,Promise)}),r()(this,"checkPasswordStrength",function(){var t,s,i;return ek()().async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=(t=e.state).password,i=t.email,s.length){a.next=4;break}return e.setState({passwordScore:void 0}),a.abrupt("return");case 4:return a.abrupt("return",(0,V.Vs)(e.props.appContext.apiFetch,{password:s,email:i}).fetch().then(t=>{var s=t.response;return e.setState({passwordScore:s.score})}).catch(()=>e.setState({passwordScore:void 0})));case 5:case"end":return a.stop()}},null,null,null,Promise)}),r()(this,"checkPasswordStrengthDebounced",(0,eO.Z)(thor:this.props.initialError})}render(){var e=this.state,t=e.error,s=e.email,i=e.password,a=e.passwordScore,n=this.props.appContext,r=n._t,o=(0,n._c)("Text on button to go to the next page after user registration","Sign up");return(0,P.jsxs)("form",{className:eI.Z.form,action:"",method:"post",onSubmit:this.onSubmit,children:[(0,P.jsx)(A.Bc,{error:t,contentOverride:this.props.passwordRejectionReason}),(0,P.jsxs)("div",{className:eI.Z.inputFields,children:[(0,P.jsx)("div",{className:eI.Z.formRow,children:(0,P.jsx)(X,{type:"text",name:"email",placeholder:r("Email"),autoComplete:"off",value:s,onChange:this.handleEmailChange,autoFocus:!0})}),(0,P.jsxs)("div",{className:eI.Z.formRow,children:[(0,P.jsx)(X,{type:"password",name:"password",placeholder:r("Password"),autoComplete:"off",value:i,onChange:this.handlePasswordChange}),(0,P.jsx)(ez.Z,{score:a})]})]}),(0,P.jsx)(Q,{label:o,children:o})]})}}let eH=(0,U.HJ)(eD);var eV=s(50899),eU=()=>{var e=(0,U.bp)(),t=e._c,s=e.apiFetch,i=e.getCookie,a=(0,u.useMemo)(()=>i(ej.pY)||"",[]),n=(0,u.useState)(!1),r=c()(n,2),o=r[0],l=r[1],d=t("Button to send email with reset password link","Send reset link");return o?(0,P.jsx)("div",{className:eI.Z.message,children:(0,P.jsx)(z.ZP,{components:{br:(0,P.jsx)("br",{}),a:(0,P.jsx)("a",{href:"https://tumblr.zendesk.com/hc/articles/226167067-Resetting-your-password"})},children:"We've sent you an email with instructions to reset your password. [br/][br/] Please make sure it didn't wind up in your Junk Mail. If you aren't receiving our password reset emails, see our [a]help documents[/a]."})}):(0,P.jsxs)("form",{action:"",method:"post",onSubmit:e=>{e.preventDefault(),""!==a?((0,V.cx)(s,a).fetch(),l(!0)):window.location.replace(`${eV.Cw}/forgot_password`)},children:[(0,P.jsx)("div",{className:eI.Z.prompt,children:(0,P.jsx)(A.Vx,{children:(0,P.jsx)(z.ZP,{children:"We've noticed some suspicious activity on your account. To help keep everything safe, you should definitely reset your password."})})}),(0,P.jsx)(Q,{label:d,children:d})]})};let eW=()=>{var e=(0,U.bp)(),t=e._c,s=e._t,i=t("Registration error text","We could not complete your registration at this time.");return(0,P.jsx)("div",{className:"R2BSv",children:(0,P.jsxs)("div",{className:"VHr2m",children:[(0,P.jsx)("h1",{children:s("Sorry")}),(0,P.jsx)("h2",{children:i})]})})},eq=e=>{var t=e.queryParams,s=t.redirect_to,i=t.source,a=(0,U.bp)(),n=a._t,r=a._c,o=a.apiFetch,l=a.getCookie,d=a.logEvent,h=(0,u.useState)(null),p=c()(h,2),g=p[0],m=p[1],v=(0,u.useState)(!1),x=c()(v,2),f=x[0],b=x[1],j=(0,u.useState)(""),w=c()(j,2),T=w[0],y=w[1],k=(0,u.useState)(""),C=c()(k,2),N=C[0],S=C[1],R=(0,W.Z)(s),I=r("Text on button to go link account to a third party authentication provider","Link Account"),M=r("Text on button to go back from linking account to a third party authentication provider","Go Back");return(0,P.jsxs)("form",{action:"",method:"post",onSubmit:e=>{var t,s,a,n,c;return ek()().async(function(h){for(;;)switch(h.prev=h.next){case 0:if(d({eventName:"google"===i?eo.J.GoogleLinkAccountClick:eo.J.AppleLinkAccountClick}),e.preventDefault(),m(null),h.prev=3,N.length){h.next=7;break}return m(r("Error message when linking third party authentication account","You forgot to enter your password!")),h.abrupt("return");case 7:return h.next=9,ek()().awrap((0,V.nz)(o,{idToken:l(ej.Iu),nonce:(0,eC.Z)(),tfaCode:T,password:N}).fetch());case 9:window.location.replace(`//${window.location.host}${R}`),h.next=17;break;case 12:h.prev=12,h.t0=h.catch(3),a=null===h.t0||void 0===h.t0||null===(t=h.t0.body)||void 0===t||null===(t=t.response)||void 0===t||null===(t=t.tumblelogErrors)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.message,n=null===h.t0||void 0===h.t0||null===(s=h.t0.body)||void 0===s||null===(s=s.errors)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.code,a?m(a):n===eN.Z.PasswordInvalid?m(r("Invalid password error message","The password you entered was invalid.")):n===eN.Z.TfaInvalid?b(!0):(m((null===h.t0||void 0===h.t0||null===(c=h.t0.body)||void 0===c||null===(c=c.errors)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.detail)||r("General error message","Something broke. Try again.")),(0,eP.Tb)(h.t0));case 17:case"end":return h.stop()}},null,null,[[3,12]],Promise)},children:[g&&(0,P.jsx)(A.Vx,{children:g}),(0,P.jsxs)(A.Vx,{children:[(0,P.jsx)("div",{className:eI.Z.prompt,children:(0,P.jsx)(z.ZP,{comment:"Text prompt letting the user know their account already exists",children:"Looks like your account already exists."})}),(0,P.jsx)(z.ZP,{comment:"Text prompt asking the user if they want to link their Tumblr account with the third party one(Google or Apple)",components:{a:(0,P.jsx)("a",{href:`${eV.Cw}/forgot_password`})},children:"Please enter your password to link your account. If you forgot your password or don't have one for your account, click [a]here[/a] to reset your password."})]}),(0,P.jsxs)("div",{className:eI.Z.inputFields,children:[(0,P.jsx)("div",{className:eI.Z.formRow,children:(0,P.jsx)(X,{type:"password",name:"password",placeholder:n("Password"),autoComplete:"off",value:N,onChange:e=>void S(e.target.value)})}),f&&(0,P.jsx)(X,{type:"text",name:"tfaToken",placeholder:n("Enter auth code"),autoComplete:"one-time-code",value:T,onChange:e=>void y(e.target.value)})]}),(0,P.jsx)(Q,{label:I,children:I}),(0,P.jsx)(q.Z,{className:eI.Z.button,textColor:J.black,backgroundColor:J.glassGreen,size:"entireWidth",href:(0,D.gZ)({formToShow:H.c.Login}),children:M})]})};var eJ=s(78994);let eG=e=>{var t=e.queryParams,s=t.redirect_to,i=t.source,a=t.verifiedBlogname,n=(0,U.bp)(),r=n._t,o=n._c,l=n.apiFetch,d=n.logEvent,h=n.wwwBaseUrl,p=n.getCookie,g=(0,eJ.s0)(),m=(0,u.useState)(null),v=c()(m,2),x=v[0],f=v[1],b=(0,u.useState)(0),j=c()(b,2),w=j[0],T=j[1],y=(0,u.useState)(!1),k=c()(y,2),C=k[0],N=k[1],S=(0,u.useState)(a||""),R=c()(S,2),I=R[0],M=R[1];(0,u.useEffect)(()=>{""===p(ej.Iu)&&g(D.o_.register,{replace:!0})},[p,g]);var L=()=>{var e,t,a,n;return ek()().async(function(r){for(;;)switch(r.prev=r.next){case 0:if(d({eventName:"google"===i?eo.J.GoogleCompleteRegistrationClick:eo.J.AppleCompleteRegistrationClick}),f(null),!(w&&I.length)){r.next=18;break}return r.prev=3,r.next=6,ek()().awrap((0,V.oM)(l,{tumblelog:I}).fetch());case 6:return e=p(ej.Iu),r.next=9,ek()().awrap((0,V.wx)(l,{idToken:e,age:Number(w),nonce:(0,eC.Z)(),tumblelog:I,liveTosAccepted:C}).fetch().then(()=>{d({eventName:C?eo.J.TumblrLiveToSOnboardingAccepted:eo.J.TumblrLiveToSOnboardingDeclined},{sendPayloadImmediately:!0}),d({eventName:eo.J.RegistrationSuccess},{sendPayloadImmediately:!0})}));case 9:location.replace((0,W.Z)(s)),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(3),(a=null===r.t0||void 0===r.t0||null===(t=r.t0.body)||void 0===t||null===(t=t.response)||void 0===t||null===(t=t.tumblelogErrors)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.message)?f(a):(f((null===r.t0||void 0===r.t0||null===(n=r.t0.body)||void 0===n||null===(n=n.errors)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.detail)||o("General error message","Something broke. Try again.")),(0,eP.Tb)(r.t0));case 16:r.next=19;break;case 18:I.length?f(o("Error message on registration screen","You forgot to enter your age!")):f(o("Error message on registration screen","You forgot to enter your blog name!"));case 19:case"end":return r.stop()}},null,null,[[3,12]],Promise)},B=o("Text on button to go to the next page after user registration","Next");return(0,P.jsxs)("form",{action:"",method:"post",onSubmit:e=>ek()().async(function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),L();case 2:case"end":return t.stop()}},null,null,null,Promise),children:[x&&(0,P.jsx)(A.Vx,{children:x}),(0,P.jsxs)("div",{className:eI.Z.inputFields,children:[(0,P.jsx)("div",{className:eI.Z.formRow,children:(0,P.jsx)(X,{type:"text",name:"blogName",placeholder:r("Blog name"),autoComplete:"off",value:I,onChange:e=>void M(e.target.value),onKeyDown:e=>{e.key!==Z.SV.Enter||e.nativeEvent.isComposing||L()}})}),(0,P.jsx)("div",{className:eI.Z.ageRow,children:(0,P.jsx)(eR.Z,{onSetAge:e=>void T(e),onSetLiveTosAccepted:e=>void N(e),onSubmit:L})})]}),(0,P.jsx)(Q,{label:B,children:B}),(0,P.jsx)("div",{className:eI.Z.accountExistsPrompt,children:(0,P.jsx)(z.ZP,{comment:"Text prompt for a user to reset their password if they already have an account",components:{a:(0,P.jsx)("a",{href:`${h}/forgot_password`})},children:"[a]I already have an account.[/a]"})})]})};class eQ extends u.Component{constructor(){super(...arguments),r()(this,"state",{hasUnrecoverableError:(()=>{var e=this.props.appContext,t=e.getBootstrap,s=e.getCookie,i=t("cookieBootstrap");return!!i&&!!i[ej.zC.COPPA_REGISTRATION_BLOCKED]||!!s(ej.zC.COPPA_REGISTRATION_BLOCKED)})(),email:"",password:"",blogName:"",recaptchaToken:"",recaptchaRef:null,error:null,passwordRejectionRate.age&&!this.state.birthname",()=>!this.state.blogName),r()(this,"needsEmailOrPassword",()=>!this.state.email.length||!this.state.password.length),r()(this,"onTooYoungToRegisterError",()=>{this.props.appContext.setCookie(ej.zC.COPPA_REGISTRATION_BLOCKED,"1",{maxAge:ew.y.Day}),this.setState({hasUnrecoverableError:s.setState({email:"",error:e})),r()(this,"onPasswordError",(e,t)=>this.setState({password:"",error:e,passwordRejectionReason:t}))irthdate:e,liveTosAccepted:t})),r()(this,"onBlognameSuccess",e=>{var t=e.blogname;this.setState({blogName:t})}),r()(this,"onRecaptachaLoaded",(e,t)=>{this.setState({recaptchaToken:e}),t&&this.setState({recaptchaRef:t})}),r()(this,"onEmailPasswordSuccess",e=>{var t=e.email,s=e.password;return this.setState({email:t,password:s,error:null,passwordRejectionReason:""})})}componentDidUpdate(){if(!(this.needsAge()||this.needsEmailOrPassword()||this.needsBlogname())){var e=this.props,t=e.tourGuideContext.newUserRegistered,s=e.queryParams.redirect_to||D.o_.topicSelection;t(),location.replace((0,W.Z)(s))}}render(){var e=this.props,t=e.formToShow,s=e.queryParams,i=this.state,a=i.hasUnrecoverableError,n=i.email,r=i.password,o=i.recaptchaToken,l=i.recaptchaRef,d=i.error,c=i.passwordRejectionReason,h=i.age,p=i.birthdate,u=i.blogName,g=i.liveTosAccepted;return a?(0,P.jsx)(eW,{}):t===H.c.LinkAccount?(0,P.jsx)(eq,{queryParams:s}):t===H.c.PasswordReset?(0,P.jsx)(eU,{}):t===H.c.TwoFactorAuthentication?(0,P.jsx)(eS,{queryParams:s}):t===H.c.Onboarding?(0,P.jsx)(eG,{queryParams:s}):this.needsEmailOrPassword()?(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(ed,{formToShow:t,queryParams:s,children:(0,P.jsx)(eH,{onSuccess:this.onEmailPasswordSuccess,onPasswordError:this.onPasswordError,initialError:d,passwordRejectionReason:c,email:n,password:r})})}):this.needsAge()?(0,P.jsx)(eM,{onSuccess:this.onBirthdateSuccess,birthdate:p}):this.needsBlogname()?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(eb.Z,{onRecaptchaLoaded:this.onRecaptachaLoaded,showTerms:this.needsBlogname()}),(0,P.jsx)(e_,{onTooYoungToRegisterError:this.onTooYoungToRegisterError,onSuccess:this.onBlognameSuccess,email:n,password:r,age:h,birthdate:p,liveTosAccepted:g,queryParams:s,onEmailError:this.onEmailError,onPasswordError:this.onPasswordError,initialBlogname:u,recaptchaToken:o,recaptchaRef:l})]}):null}}let e$=(0,eT.X9)(eQ,{appContext:!0,tourGuideContext:!0});var eY=s(55351),eK=s(58637),eX=s(34438),e0=s(1e4),e1=s(26963),e2=s(73129);let e4={mainContent:"MGngl",form:"Fygd5",exploreBtn:"Z_jN4",downloadLinks:"Qo15M",button:"bS3ge",logoWord:"RUPPJ"},e6=e=>{var t,s=e.formToShow,i=e.heading,n=e.loginClickCallback,r=e.showFooterLink,o=e.signupClickCallback,l=e.wrapperClass,d=e.footer,c=e.blogNetworkDetails,h=e.showLogo,g=(0,eJ.TH)().search,m=u.useEffect)(()=>{(0,e2.Lz)()},[]),s===H.c.Register||s===H.c.Onboarding||s===H.c.NoMatchedAccount||s===H.c.LinkAccount||s===H.c.TwoFactorAuthentication||s===H.c.PasswordReset)t=(0,P.jsx)(e$,{formToShow:s,queryParams:m});else if(s===H.c.Login)t=(0,P.jsx)(ef,{signupClickCallback:o,queryParams:m});else{var v=(0,D.gZ)({formToShow:H.c.Register},{source:c?"archive_login_wall":"login_register_center"}),x=(0,D.gZ)({formToShow:H.c.Login},a()({},!!c&&{redirect_to:(0,eX.SS)({peeprBlogname:c.blogName,peeprPostId:c.postId})})),f=(0,P.jsxs)("form",{children:[(0,P.jsx)(q.Z,a()(a()({className:e4.button,textColor:G().black,backgroundColor:G().white,size:"entireWidth",href:c?`//${(0,e0.Z)(window.location.host)}${v}`:v,feature:!c},!c&&{onClick:o}),{},{children:(0,P.jsx)(z.ZP,{comment:"Text on button to register an account",children:"Sign up"})})),(0,P.jsx)(q.Z,a()(a()({className:e4.button,textColor:G().black,backgroundColor:G().white,size:"entireWidth",href:c?`//${(0,e0.Z)(window.location.host)}${x}`:x,feature:!c},!c&&{onClick:n}),{},{children:(0,P.jsx)(z.ZP,{children:"Log in"})}))]});t=c?f:(0,P.jsx)(ed,{queryParams:m,children:f})}var b=d&&(0,P.jsx)("div",{style:{marginTop:"12px"},children:d});return(0,P.jsxs)("section",{className:p()(e4.mainContent,void 0===l?"":l),children:[(void 0===h||h)&&(0,P.jsx)("div",{className:e4.logoWord,children:(0,P.jsx)("a",{href:"/","aria-label":"Tumblr",children:(0,P.jsx)(_.Z,{})})}),(0,P.jsx)(O,{showHeader:s!==H.c.Register&&s!==H.c.Onboarding&&s!==H.c.LinkAccount,children:i}),(0,P.jsxs)("div",{className:e4.form,children:[t,(0,P.jsx)(eY.Z,{children:(void 0===r||r)&&s!==H.c.Login?(0,P.jsxs)("a",{href:"/explore",className:e4.exploreBtn,children:[(0,P.jsx)(E.Z,{}),(0,P.jsx)(z.ZP,{comment:"Landing page link to explore page",children:"Here's what's trending"})]}):null}),(0,P.jsxs)(eK.Z,{children:[(0,P.jsx)("div",{className:e4.downloadLinks,children:(0,P.jsx)(F.Z,{campaign:"signup_page"})}),b]})]})]})};var e5=s(32468),e3=s(71417),e7=s(85795),e8=s(86033),e9=s(83573);let te={desktopLoginPageWithNav:"swg26",desktopLoginPageWithoutNav:"i7U68",slideZero:"ppIFU",whatIs:"CKhNM"},tt=e=>{var t=e.disableNavigation,s=e.loginPage,i=e.slideOneName;return(0,P.jsxs)("div",{className:te.slideZero,children:[(0,P.jsx)("div",{className:t?te.desktopLoginPageWithoutNav:te.desktopLoginPageWithNav,children:s}),t||(0,P.jsx)(k,{to:`#${i}`,smooth:!0,className:te.whatIs,children:(0,P.jsx)("span",{children:(0,P.jsx)(z.ZP,{children:"What is Tumblr?"})})})]})};var ts=s(33590),ti=s(94833),ta=s(91253),tn=ti.z.lazy(()=>(0,ta.i)(ti.z.object({tumblelogCom(e=>e.response.tumblelogCount)),tr=s(60612);let to={slideOne:"r6yN6",sectionContent:"Xyilb",aboutGraphic:"IM_Lo",visible:"djsel",icon:"Q_zEe",audioA:"JKUi3",audioB:"o8g5V",chatA:"Qd1P7",chatB:"i8Efp",chatC:"scqUT",followA:"Qmt3L",followB:"o7cOo",followC:"khmWi",likeA:"r_Hec",likeB:"okT92",likeC:"mI4C6",linkA:"OSgBS",linkB:"zT8lw",photoA:"srD2Z",photoB:"Ns2mr",quoteA:"e4W50",quoteB:"aVzVF",reblogA:"rhA3B",reblogB:"armu8",textA:"atxdd",videoA:"pu7Nd",videoB:"ptBlf"};var tl=J.glassGreen;let td=function(e){var t=e.isVisible;return(0,P.jsx)(tr.ZP,{in:t,timeout:500,children:e=>(0,P.jsxs)("svg",{className:p()(to.aboutGraphic,{[to.exiting]:e===tr.Ix,[to.visible]:e===tr.cn}),fill:tl,stroke:"#00B82F",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2.6",viewBox:"0 0 284.5 221.8",role:"img","aria-hidden":!0,focusable:!1,children:[(0,P.jsxs)("g",{className:p()(to.reblogB,to.icon,{[to.visible]:e===tr.cn}),children:[(0,P.jsx)("path",{d:"M138.5 209.7l9-9v6.5h16.9v-2.4l6.7-6.7v13c0 1.6-1.3 2.9-2.9 2.9h-20.7v6.6l-9-9c-.5-.6-.5-1.4 0-1.9z"}),(0,P.jsx)("path",{d:"M139.1 191.8c0-1.6 1.3-2.9 2.9-2.9h20.7v-6.6l9 9c.5.5.5 1.3 0 1.8l-9 9v-6.5h-16.9v2.4l-6.7 6.7v-12.9z"})]}),(0,P.jsxs)("g",{className:p()(to.reblogA,to.icon,{[to.visible]:e===tr.cn}),children:[(0,P.jsx)("path",{d:"M81.7 37.9l10.7-10.6V35h19.9v-3l7.9-7.9v15.3c0 1.9-1.5 3.4-3.4 3.4H92.3v7.7L81.7 39.9c-.6-.5-.6-1.5 0-2z"}),(0,P.jsx)("path",{d:"M82.4 16.8c0-1.9 1.5-3.4 3.4-3.4h24.4V5.6l10.7 10.6c.6.6.6 1.5 0 2.1l-10.7 10.6v-7.7H90.3v2.9L82.4 32V16.8z"})]}),(0,P.jsxs)("g",{className:p()(to.videoB,to.icon,{[to.visible]:e===tr.cn}),children:[(0,P.jsx)("path",{d:"M45.7 32.1v-.6h3.2v0c3.7 0 6.8 2.4 8 5.7.8-2.3 2.6-4.2 4.9-5.1v-.6h4v0c4.3.4 7.7 4.1 7.7 8.5 0 4.7-3.8 8.6-8.6 8.6h-16c-4.7 0-8.6-3.8-8.6-8.6 0-3.6 2.3-6.7 5.4-7.9z"}),(0,P.jsx)("path",{d:"M53.1 48.7H72c1.1 0 2 .9 2 2v.7c0 1.1-.9 2-2 2h-1.9V65c0 1.1-1.4 2-2.7 2H53.1V48.7z"}),(0,P.jsx)("path",{d:"M30.1 48.4c.2-.1.4-.1.6-.1.4 0 .8.2 1.1.5 0 0 6 6.1 6.1 6.3v-6.3h30.9v4.8h-3.6V65c0 1.1-1.4 2-2.7 2h-22c-1.2 0-2.7-.8-2.7-1.9v-5.7c-.1.2-6.1 6.3-6.1 6.3-.3.3-.7.5-1.1.5-.2 0-.4 0-.6-.1-.6-.2-1-.8-1-1.4V49.8c.1-.6.5-1.1 1.1-1.4z"}),(0,P.jsx)("path",{d:"M37.8 55v4.4"}),(0,P.jsx)("path",{d:"M45.7 31.5c3.7 0 6.9 2.4 8.1 5.7 1.2-3.3 4.3-5.7 8.1-5.7 4.7 0 8.6 3.8 8.6 8.6s-3.8 8.6-8.6 8.6H45.7c-4.7 0-8.6-3.8-8.6-8.6s3.9-8.6 8.6-8.6z"}),(0,P.jsx)("circle",{cx:"61.8",cy:"40",r:"3.2"}),(0,P.jsx)("circle",{cx:"45.7",cy:"40",r:"3.2"}),(0,P.jsx)("path",{d:"M65 31.5h-3.2"}),(0,P.jsx)("path",{d:"M53.8 34.6c-.2-.6-.8-1.2-1.4-1.4"}),(0,P.jsx)("path",{d:"M70.8 53.6c-1.1 0-2-.9-2-2v-.7c0-1.1.9-2 2-2"})]}),(0,P.jsxs)("g",{className:p()(to.videoA,to.icon,{[to.visible]:e===tr.cn}),children:[(0,P.jsx)("path",{d:"M258.5 56.8v-.7H255h0v0c-4.1 0-7.5 2.7-8.8 6.3-.9-2.6-2.9-4.6-5.4-5.6v-.6h-4.5 0v0c-4.8.5-8.5 4.5-8.5 9.4 0 5.2 4.2 9.4 9.4 9.4H255c5.2 0 9.4-4.2 9.4-9.4.1-4-2.4-7.4-5.9-8.8z"}),(0,P.jsx)("path",{d:"M250.3 75.1h-20.9c-1.2 0-2.2 1-2.2 2.2v.8c0 1.2 1 2.2 2.2 2.2h2.1V93c0 1.2 1.6 2.2 2.9 2.2h15.9V75.1z"}),(0,P.jsx)("path",{d:"M275.8 74.8c-.2-.1-.4-.1-.6-.1-.4 0-.9.2-1.2.5 0 0-6.6 6.7-6.7 6.9v-7h-34.1v5.3h4v12.7c0 1.2 1.6 2.2 2.9 2.2h24.2c1.3 0 2.9-.8 2.9-2.1v-6.3c.1.2 6.7 6.9 6.7 6.9.3.3.8.5 1.2.5.2 0 .4 0 .6-.1.6-.3 1.1-.9 1.1-1.6V76.4c0-.7-.4-1.3-1-1.6z"}),(0,P.jsx)("path",{d:"M267.2 82.1v4.8"}),(0,P.jsx)("path",{d:"M258.5 56.1c-4.1 0-7.6 2.6-8.9 6.3-1.3-3.7-4.8-6.3-8.9-6.3-5.2 0-9.4 4.2-9.4 9.4s4.2 9.4 9.4 9.4h17.8c5.2 0 9.4-4.2 9.4-9.4.1-5.1-4.2-9.4-9.4-9.4z"}),(0,P.jsx)("circle",{cx:"240.7",cy:"65.6",r:"3.6"}),(0,P.jsx)("circle",{cx:"258.5",cy:"65.6",r:"3.6"}),(0,P.jsx)("path",{d:"M237.2 56.1h3.5"}),(0,P.jsx)("path",{d:"M249.6 59.6c.3-.7.9-1.3 1.6-1.5"}),(0,P.jsx)("path",{d:"M230.9 80.5c1.2 0 2.2-1 2.2-2.2v-.8c0-1.2-1-2.2-2.2-2.2"})]}),(0,P.jsxs)("g",{className:p()(to.textA,to.icon,{[to.visible]:e===tr.cn}),children:[(0,P.jsx)("path",{d:"M184.5 104.3l-2.3-7.1h-11.5l-2.3 7.1h-9.2L172 68.4h9.2l12.7 35.9h-9.4zm-4.6-14.5l-3.3-10.3-3.4 10.3h6.7z"}),(0,P.jsx)("path",{d:"M204.7 105.1c-2.5 0-4.6-.7-6.2-2.2-1.7-1.5-2.5-3.5-2.5-6.2 0-3.4 1.4-5.9 4-7.5 1.4-.8 3.5-1.4 6.2-1.7l2.3-.3c1.4-.2 2.1-.4 2.4-.5.9-.4 1-.8 1-1.2 0-1-.4-1.3-.7-1.5-.6-.3-1.6-.5-2.9-.5-1.3 0-2.3.3-2.8.9-.4.5-.6 1.1-.8 2l-.1.6h-7.9l.1-.8c.1-2.4.8-4.4 2-5.9 1.9-2.4 5.2-3.7 9.7-3.7 2.9 0 5.5.6 7.8 1.7 2.4 1.2 3.7 3.6 3.7 6.9v14.6c.1 1 .2 1.3.3 1.4.1.2.4.4.7.5l.4.2v2.2h-8.5l-.2-.5c-.2-.6-.4-1.1-.5-1.6 0 0 0 0 0 0-.7.6-1.4 1.1-2.2 1.6-1.5 1.1-3.3 1.5-5.3 1.5zm6.9-12.5c-.5.2-1.1.3-1.9.5l-1.5.3c-1.7.3-2.4.6-2.8.8-.8.5-1.2 1.2-1.2 2.2 0 .9.2 1.5.7 1.9.5.4 1.1.6 1.9.6 1.3 0 2.5-.4 3.6-1.1 1-.7 1.5-2 1.6-4v-1.2c-.3-.1-.3-.1-.4 0z"})]}),(0,P.jsxs)("g",{className:p()(to.photoB,to.icon,{[to.visible]:e===tr.cn}),children:[(0,P.jsx)("path",{d:"M50.1 77.3H39.9L38 74.4H21.8L20 77.3H9.8c-4.2 0-7.6 3.4-7.6 7.6v29.2c0 4.2 3.4 7.6 7.6 7.6h40.4c4.2 0 7.6-3.4 7.6-7.6V84.9c-.1-4.1-3.5-7.6-7.7-7.6z"}),(0,P.jsx)("path",{d:"M58.8 77.3H48.6l-1.9-2.9H30.5l-1.9 2.9H18.4c-4.2 0-7.6 3.4-7.6 7.6v29.2c0 4.2 3.4 7.6 7.6 7.6h40.4c4.2 0 7.6-3.4 7.6-7.6V84.9c0-4.1-3.5-7.6-7.6-7.6z"}),(0,P.jsx)("path",{d:"M38.7 117.2c-9.1 0-16.5-7.4-16.5-16.5s7.4-16.5 16.5-16.5h4.9v33h-4.9z"}),(0,P.jsx)("circle",{cx:"43.7",cy:"100.7",r:"16.5"}),(0,P.jsx)("circle",{cx:"43.7",cy:"100.7",r:"9.4"}),(0,P.jsx)("circle",{cx:"43.7",cy:"100.6",r:"7.8"}),(0,P.jsx)("path",{d:"M39.1 100.6c0-2.5 2.1-4.6 4.6-4.6"}),(0,P.jsx)("circle",{cx:"59.1",cy:"83.7",r:"2.5"})]}),(0,P.jsxs)("g",{className:p()(to.photoA,to.icon,{[to.visible]:e===tr.cn}),children:[(0,P.jsx)("path",{d:"M223.1 159.8h-9l-1.7-2.6h-14.3l-1.7 2.6h-9c-3.7 0-6.7 3-6.7 6.7v25.8c0 3.7 3 6.7 6.7 6.7H223c3.7 0 6.7-3 6.7-6.7v-25.8c.1-3.7-2.9-6.7-6.6-6.7z"}),(0,P.jsx)("path",{d:"M230.7 159.8h-9l-1.7-2.6h-14.3l-1.7 2.6h-9c-3.7 0-6.7 3-6.7 6.7v25.8c0 3.7 3 6.7 6.7 6.7h35.6c3.7 0 6.7-3 6.7-6.7v-25.8c.1-3.7-2.9-6.7-6.6-6.7z"}),(0,P.jsx)("path",{d:"M213 194.9c-8.1 0-14.6-6.5-14.6-14.6s6.5-14.6 14.6-14.6h4.4v29.2H213z"}),(0,P.jsx)("circle",{cx:"217.4",cy:"180.3",r:"14.6"}),(0,P.jsx)("circle",{cx:"217.4",cy:"180.3",r:"8.3"}),(0,P.jsx)("circle",{cx:"217.4",cy:"180.3",r:"6.9"}),(0,P.jsx)("path",{d:"M213.3 180.3c0-2.2 1.8-4.1 4.1-4.1"}),(0,P.jsx)("circle",{cx:"231",cy:"165.4",r:"2.2"})]}),(0,P.jsxs)("g",{className:p()(to.quoteB,to.icon,{[to.visible]:e===tr.cn}),children:[(0,P.jsx)("path",{d:"M18.6 161.8c-5.8 0-9.6-4.3-9.6-10.8 0-8.1 6.8-15.5 13.2-19.6l.6-.4 4.2 4.2-1.1.9c-2.6 1.9-5.8 4.3-7 7.3 5.3.5 8.7 4.2 8.7 9.6 0 4.9-4 8.8-9 8.8z"}),(0,P.jsx)("path",{d:"M41.2 161.8c-5.8 0-9.6-4.3-9.6-10.8 0-8.1 6.8-15.5 13.2-19.6l.6-.4 4.2 4.2-1.1.9c-2.6 1.9-5.8 4.3-7 7.3 5.3.5 8.7 4.2 8.7 9.6.1 4.9-3.9 8.8-9 8.8z"})]}),(0,P.jsxs)("g",{className:p()(to.quoteA,to.icon,{[to.visible]:e===tr.cn}),children:[(0,P.jsx)("path",{d:"M262.9 106.7c5.8 0 9.6 4.3 9.6 10.8 0 8.1-6.8 15.5-13.2 19.6l-.6.4-4.2-4.2 1.1-.9c2.6-1.9 5.8-4.3 7-7.3-5.3-.5-8.7-4.2-8.7-9.6-.1-4.9 3.9-8.8 9-8.8z"}),(0,P.jsx)("path",{d:"M240.2 106.7c5.8 0 9.6 4.3 9.6 10.8 0 8.1-6.8 15.5-13.2 19.6l-.6.4-4.2-4.2 1.1-.9c2.6-1.9 5.8-4.3 7-7.3-5.3-.5-8.7-4.2-8.7-9.6-.1-4.9 3.9-8.8 9-8.8z"})]}),(0,P.jsxs)("g",{className:p()(to.linkB,to.icon,{[to.visible]:e===tr.cn}),children:[(0,P.jsx)("path",{d:"M108 113.1c-2.6-2.8-6.2-4.4-10.2-4.4-7.9 0-14.9 6.4-15.5 14.3l-.6 6.6h-6.6c-7.9 0-14.9 6.4-15.5 14.3-.3 4 .9 7.8 3.5 10.6s6.2 4.4 10.2 4.4c7.9 0 14.9-6.4 15.5-14.3l.6-6.6H96c7.9 0 14.9-6.4 15.5-14.3.3-4-.9-7.7-3.5-10.6zm-27.6 30.8c-.3 3.6-3.6 6.6-7.2 6.6-1.6 0-3-.6-4-1.7s-1.5-2.6-1.3-4.2c.3-3.6 3.6-6.6 7.2-6.6H81l-.6 5.9zM96 129.6h-5.9l.5-5.9c.3-3.6 3.6-6.6 7.2-6.6 1.6 0 3 .6 4 1.7s1.5 2.6 1.3 4.2c-.3 3.6-3.6 6.6-7.1 6.6z"}),(0,P.jsx)("path",{d:"M81.6 129.6H90"}),(0,P.jsx)("path",{d:"M81.2 138H90"})]}),(0,P.jsxs)("g",{className:p()(to.linkA,to.icon,{[to.visible]:e===tr.cn}),children:[(0,P.jsx)("path",{d:"M243.2 19.3c-2.9-3.2-7-5-11.5-5-8.9 0-16.8 7.2-17.6 16.2l-.7 7.5H206c-8.9 0-16.8 7.2-17.6 16.1-.4 4.5 1 8.8 4 12 2.9 3.2 7 5 11.5 5 8.9 0 16.8-7.2 17.6-16.2l.7-7.5h7.5c8.9 0 16.8-7.2 17.6-16.2.3-4.5-1.2-8.7-4.1-11.9zM212 54c-.4 4.1-4.1 7.5-8.1 7.5-1.8 0-3.4-.7-4.5-1.9s-1.7-2.9-1.5-4.7c.4-4.1 4.1-7.5 8.1-7.5h6.6L212 54zm17.6-16.1H223l.6-6.6c.4-4.1 4.1-7.5 8.1-7.5 1.8 0 3.4.7 4.5 1.9s1.7 2.9 1.5 4.7c-.4 4.1-4.1 7.5-8.1 7.5z"}),(0,P.jsx)("path",{d:"M213.3 37.9h9.5"}),(0,P.jsx)("path",{d:"M212.8 47.4h10"})]}),(0,P.jsxs)("g",{className:p()(to.chatC,to.icon,{[to.visible]:e===tr.cn}),children:[(0,P.jsx)("path",{d:"M89.1 172.5H97s-2.2-4.8-10.4-4.5l-.4 1.3 2.6 3.3"}),(0,P.jsx)("path",{d:"M97.7 183.2v-7.8c0-4.3-4.3-7.8-9.4-7.8H65c-5.2 0-9.4 4.3-9.4 9.4v25.2c0 5.2 4.3 9.4 9.4 9.4h23.3c5.2 0 9.4-3.5 9.4-7.8V196l6.5-6.4-6.5-6.4z"}),(0,P.jsx)("path",{d:"M89.8 183.2v-7.8c0-4.3-4.3-7.8-9.4-7.8H57.1c-5.2 0-9.4 4.3-9.4 9.4v25.2c0 5.2 4.3 9.4 9.4 9.4h23.3c5.2 0 9.4-3.5 9.4-7.8V196l6.5-6.4-6.5-6.4z"}),(0,P.jsx)("path",{d:"M104.2 189.6h-7.9"}),(0,P.jsxs)("g",{strokeWidth:1.1,children:[(0,P.jsx)("path",{d:"M76.6 183.4c0-1 .6-1.5 1.6-1.5s1.6.5 1.6 1.5v2.3c0 .3 0 .6-.1.9l-.6 4.7c-.1.6-.4.7-.9.7s-.8-.2-.9-.7l-.6-4.7c0-.3-.1-.6-.1-.9v-2.3z"}),(0,P.jsx)("path",{d:"M68.4 195.3c0 .8-.3 1.5-1.5 1.5-1.1 0-1.5-.7-1.5-1.5v-5.1c0-1.2-.6-2-1.8-2-1 0-2.2.8-2.2 2.3v4.8c0 .8-.3 1.5-1.5 1.5-1.1 0-1.5-.7-1.5-1.5v-12c0-1 .6-1.5 1.5-1.5s1.5.5 1.5 1.5v4c.6-.8 1.6-1.5 3.3-1.5 1.8 0 3.7.9 3.7 3.8v5.7z"}),(0,P.jsx)("path",{d:"M73.7 195.3c0 .8-.3 1.5-1.5 1.5-1.1 0-1.5-.7-1.5-1.5v-8c0-.8.3-1.5 1.5-1.5 1.1 0 1.5.7 1.5 1.5v8z"}),(0,P.jsx)("path",{d:"M72.3 184.8c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5c0 .9-.7 1.5-1.5 1.5z"}),(0,P.jsx)("path",{d:"M78.2 196.7c-.9 0-1.6-.7-1.6-1.6 0-.9.7-1.6 1.6-1.6.9 0 1.6.7 1.6 1.6.1.8-.7 1.6-1.6 1.6z"})]}),(0,P.jsx)("path",{d:"M89.8 183.2h7.9"}),(0,P.jsx)("path",{d:"M90.6 195.9h7.1"})]}),(0,P.jsxs)("g",{className:p()(to.chatB,to.icon,{[to.visible]:e===tr.cn}),children:[(0,P.jsx)("path",{d:"M162.9 12.2h6.1s-1.7-3.7-8.1-3.5l-.3 1 2 2.5"}),(0,P.jsx)("path",{d:"M169.5 20.5v-6.1c0-3.4-3.3-6.1-7.4-6.1H144c-4 0-7.4 3.3-7.4 7.4v19.6c0 4 3.3 7.4 7.4 7.4h18.1c4 0 7.4-2.7 7.4-6.1v-6.1l5-5-5-5z"}),(0,P.jsx)("path",{d:"M163.4 20.5v-6.1c0-3.4-3.3-6.1-7.4-6.1h-18.1c-4 0-7.4 3.3-7.4 7.4v19.6c0 4 3.3 7.4 7.4 7.4H156c4 0 7.4-2.7 7.4-6.1v-6.1l5-5-5-5z"}),(0,P.jsx)("path",{d:"M174.6 25.5h-6.2"}),(0,P.jsxs)("g",{strokeWidth:1.1,children:[(0,P.jsx)("path",{d:"M153.1 20.7c0-.8.5-1.2 1.2-1.2.8 0 1.2.4 1.2 1.2v1.8c0 .2 0 .5-.1.7l-.5 3.6c-.1.5-.3.6-.7.6-.4 0-.6-.1-.7-.6l-.5-3.6c0-.2-.1-.5-.1-.7v-1.8z"}),(0,P.jsx)("path",{d:"M146.7 30c0 .6-.2 1.1-1.1 1.1-.9 0-1.1-.5-1.1-1.1v-4c0-.9-.5-1.6-1.4-1.6-.8 0-1.7.7-1.7 1.8V30c0 .6-.2 1.1-1.1 1.1-.9 0-1.1-.5-1.1-1.1v-9.3c0-.7.5-1.1 1.1-1.1.7 0 1.1.4 1.1 1.1v3.1c.5-.6 1.2-1.2 2.5-1.2 1.4 0 2.9.7 2.9 3V30z"}),(0,P.jsx)("path",{d:"M150.9 30c0 .6-.2 1.1-1.1 1.1-.9 0-1.1-.5-1.1-1.1v-6.3c0-.6.2-1.1 1.1-1.1.9 0 1.1.5 1.1 1.1V30z"}),(0,P.jsx)("circle",{cx:"149.8",cy:"20.7",r:"1.2"}),(0,P.jsx)("path",{d:"M154.4 31c-.7 0-1.3-.6-1.3-1.3 0-.7.6-1.3 1.3-1.3.7 0 1.3.6 1.3 1.3-.1.8-.6 1.3-1.3 1.3z"})]}),(0,P.jsx)("path",{d:"M163.4 20.5h6.1"}),(0,P.jsx)("path",{d:"M164 30.5h5.5"})]}),(0,P.jsxs)("g",{className:p()(to.chatA,to.icon,{[to.visible]:e===tr.cn}),children:[(0,P.jsx)("path",{d:"M190.5 120.1H185s1.5-3.4 7.2-3.2l.3.9-1.8 2.3"}),(0,P.jsx)("path",{d:"M184.5 127.6v-5.5c0-3 3-5.5 6.6-5.5h16.2c3.6 0 6.6 3 6.6 6.6v17.5c0 3.6-3 6.6-6.6 6.6h-16.2c-3.6 0-6.6-2.5-6.6-5.5v-5.5l-4.5-4.5 4.5-4.2z"}),(0,P.jsx)("path",{d:"M190 127.6v-5.5c0-3 3-5.5 6.6-5.5h16.2c3.6 0 6.6 3 6.6 6.6v17.5c0 3.6-3 6.6-6.6 6.6h-16.2c-3.6 0-6.6-2.5-6.6-5.5v-5.5l-4.5-4.5 4.5-4.2z"}),(0,P.jsx)("path",{d:"M180 132.1h5.5"}),(0,P.jsxs)("g",{strokeWidth:1.1,children:[(0,P.jsx)("path",{d:"M210.3 127.8c0-.7.4-1.1 1.1-1.1.7 0 1.1.4 1.1 1.1v1.6c0 .2 0 .4-.1.7l-.4 3.3c-.1.4-.2.5-.6.5-.4 0-.6-.1-.6-.5l-.4-3.3c0-.2-.1-.4-.1-.7v-1.6z"}),(0,P.jsx)("path",{d:"M204.5 136.1c0 .5-.2 1-1 1s-1-.5-1-1v-3.6c0-.8-.4-1.4-1.3-1.4-.7 0-1.5.6-1.5 1.6v3.4c0 .5-.2 1-1 1s-1-.5-1-1v-8.4c0-.7.4-1 1-1s1 .3 1 1v2.8c.4-.5 1.1-1.1 2.3-1.1 1.2 0 2.6.6 2.6 2.7v4z"}),(0,P.jsx)("path",{d:"M208.2 136.1c0 .5-.2 1-1 1s-1-.5-1-1v-5.6c0-.5.2-1 1-1s1 .5 1 1v5.6z"}),(0,P.jsx)("circle",{cx:"207.2",cy:"127.7",r:"1.1"}),(0,P.jsx)("path",{d:"M211.4 137c-.6 0-1.1-.5-1.1-1.1 0-.6.5-1.1 1.1-1.1.6 0 1.1.5 1.1 1.1 0 .6-.5 1.1-1.1 1.1z"})]}),(0,P.jsx)("path",{d:"M184.4 127.6h5.5"}),(0,P.jsx)("path",{d:"M185 136.5h4.9"})]}),(0,P.jsxs)("g",{className:p()(to.audioB,to.icon,{[to.visible]:e===tr.cn}),children:[(0,P.jsx)("path",{d:"M123 78.5c-1-13-10.5-21.3-22.1-21.3-11.5 0-21.1 8.3-22.1 21.4l4.7-.1c1-10.3 8.4-16.4 17.3-16.4 9 0 16.4 6.1 17.3 16.4h4.9z"}),(0,P.jsx)("path",{d:"M79.3 78.6h6.3v19.5h-6.3c-2.7 0-4.8-2-4.8-4.6V83.2c0-2.5 2.1-4.6 4.8-4.6z"}),(0,P.jsx)("path",{d:"M123.3 78.6h-6v19.5h6c2.5 0 4.6-2 4.6-4.6V83.2c0-2.5-2.1-4.6-4.6-4.6z"}),(0,P.jsx)("path",{d:"M127.8 82.3c-.4-2.1-2.3-3.7-4.5-3.7h-6v3.7h10.5z"}),(0,P.jsx)("path",{d:"M79.3 78.6h6.2v19.5h-6.2c-2.7 0-4.8-2-4.8-4.6V83.2c0-2.5 2.1-4.6 4.8-4.6z"}),(0,P.jsx)("path",{d:"M123.3 78.6h-6v19.5h6c2.5 0 4.6-2 4.6-4.6V83.2c0-2.5-2.1-4.6-4.6-4.6z"}),(0,P.jsx)("path",{d:"M115 76.9c1.7 0 3.1 1.2 3.1 2.7V97c0 1.5-1.4 2.7-3.1 2.7-1.7 0-3.1-1.2-3.1-2.7V79.6c0-1.5 1.4-2.7 3.1-2.7z"}),(0,P.jsx)("path",{d:"M87.6 76.9c-1.5 0-2.7 1.2-2.7 2.7V97c0 1.5 1.2 2.7 2.7 2.7 1.5 0 2.7-1.2 2.7-2.7V79.6c0-1.5-1.2-2.7-2.7-2.7z"}),(0,P.jsx)("path",{d:"M99.9 100.2h-.3c-.6-.1-1.1-.7-1.1-1.3v-7l-1.5.5c-.1 0-.3.1-.4.1-.4 0-.7-.2-1-.4-.4-.4-.5-.9-.3-1.4l4.8-12.3c.2-.5.7-.9 1.2-.9h.3c.6.1 1.1.7 1.1 1.3v7l2.4-.8c.1 0 .3-.1.4-.1.4 0 .7.2 1 .4.4.4.4 1 .2 1.5L101 99.4c0 .5-.5.8-1.1.8z"})]}),(0,P.jsxs)("g",{className:p()(to.audioA,to.icon,{[to.visible]:e===tr.cn}),children:[(0,P.jsx)("path",{d:"M279.7 160.9c-.7-9.4-7.6-15.4-15.9-15.4s-15.2 6-15.9 15.4h3.4c.7-7.4 6.1-11.8 12.5-11.8 6.5 0 11.8 4.4 12.5 11.8h3.4z"}),(0,P.jsx)("path",{d:"M248.1 161h4.6v14.1h-4.6c-1.9 0-3.5-1.5-3.5-3.3v-7.5c0-1.8 1.6-3.3 3.5-3.3z"}),(0,P.jsx)("path",{d:"M279.9 161h-4.3v14.1h4.3c1.8 0 3.3-1.5 3.3-3.3v-7.5c0-1.8-1.5-3.3-3.3-3.3z"}),(0,P.jsx)("path",{d:"M283.1 163.7c-.3-1.5-1.6-2.7-3.2-2.7h-4.3v2.7h7.5z"}),(0,P.jsx)("path",{d:"M248.1 161h4.5v14.1h-4.5c-1.9 0-3.5-1.5-3.5-3.3v-7.5c0-1.8 1.6-3.3 3.5-3.3z"}),(0,P.jsx)("path",{d:"M279.9 161h-4.3v14.1h4.3c1.8 0 3.3-1.5 3.3-3.3v-7.5c0-1.8-1.5-3.3-3.3-3.3z"}),(0,P.jsx)("path",{d:"M273.9 159.8c1.2 0 2.2.9 2.2 2v12.6c0 1.1-1 2-2.2 2-1.2 0-2.2-.9-2.2-2v-12.6c-.1-1.2.9-2 2.2-2z"}),(0,P.jsx)("path",{d:"M254.1 159.8c-1.1 0-2 .9-2 2v12.6c0 1.1.9 2 2 2s2-.9 2-2v-12.6c-.1-1.2-.9-2-2-2z"}),(0,P.jsx)("path",{d:"M263 176.6h-.2c-.4-.1-.8-.5-.8-1v-5l-1.1.4h-.3c-.3 0-.5-.1-.7-.3-.3-.3-.3-.7-.2-1l3.5-8.9c.1-.4.5-.6.9-.6h.2c.5.1.8.5.8 1v5l1.7-.6h.3c.3 0 .5.1.7.3.3.3.3.7.2 1.1l-4.1 9.1c-.2.3-.5.5-.9.5z"})]}),(0,P.jsx)("path",{d:"M122.4 196.5c-.3.2-.7.2-1 0-7-3.7-11.7-9-11.6-14.7.1-5.2 3.6-6.9 6.3-6.8 2.7.1 5 1.8 5.8 2.6h0c.8-.8 3.1-2.5 5.8-2.6 2.7-.1 6.2 1.6 6.3 6.8.1 5.7-4.6 11-11.6 14.7z",className:p()(to.likeC,to.icon,{[to.visible]:e===tr.cn})}),(0,P.jsx)("path",{d:"M30.9 185.6c-.2.1-.5.1-.7 0-4.8-2.5-8-6.1-7.9-10.1.1-3.6 2.5-4.7 4.3-4.7 1.8 0 3.4 1.2 4 1.8h0c.5-.6 2.1-1.7 4-1.8 1.8 0 4.2 1.1 4.3 4.7.1 4-3.2 7.6-8 10.1z",className:p()(to.likeB,to.icon,{[to.visible]:e===tr.cn})}),(0,P.jsx)("path",{d:"M146.3 80.1c-.4.2-.8.2-1.1 0-8.1-4.3-13.6-10.4-13.4-17 .1-6 4.2-8 7.3-7.9 3.1.1 5.8 2 6.7 3h0c.9-1 3.6-3 6.7-3 3.1-.1 7.2 1.9 7.3 7.9.1 6.6-5.3 12.7-13.5 17z",className:p()(to.likeA,to.icon,{[to.visible]:e===tr.cn})}),(0,P.jsx)("path",{d:"M120.9 158.3h-8v8H105v-8h-8v-8h8v-8h7.9v8h8z",className:p()(to.followC,to.icon,{[to.visible]:e===tr.cn})}),(0,P.jsx)("path",{d:"M175.1 144.9H170v5.2h-5.2v-5.2h-5.2v-5.1h5.2v-5.2h5.2v5.2h5.1z",className:p()(to.followB,to.icon,{[to.visible]:e===tr.cn})}),(0,P.jsx)("path",{d:"M197.7 30.7h-5.2v5.2h-5.2v-5.2h-5.2v-5.1h5.2v-5.2h5.2v5.2h5.2z",className:p()(to.followA,to.icon,{[to.visible]:e===tr.cn})}),(0,P.jsx)("path",{stroke:J.white,d:"M165.89 167c-2.68 2.86-8.89 4.8-14.45 4.89h-.61c-18.67 0-22.73-13.73-22.73-21.74V127.9h-7.35a1.54 1.54 0 01-1.54-1.54v-10.51a2.62 2.62 0 011.74-2.47c9.59-3.38 12.59-11.74 13-18.1.12-1.7 1-2.52 2.48-2.52h11A1.54 1.54 0 01149 94.3v17.81h12.84a1.54 1.54 0 011.54 1.54v12.63a1.54 1.54 0 01-1.54 1.54h-12.9v20.59c0 5.17 3.41 6.6 5.51 6.6a15.49 15.49 0 005-1.06 3.32 3.32 0 012-.35 1.63 1.63 0 011.14 1.22l3.4 9.94c.23.78.47 1.64-.1 2.24z"})]})})},tc=function(e){var t,s=e.active,i=(t=(0,U.bp)().apiFetchWithSchema,(0,ts.a)({queryKey:["st 1:case"end":return e.stop()}},null,null,null,Promise),staleTime:1/0})).data;return(0,P.jsxs)("div",{className:to.slideOne,children:[(0,P.jsx)(td,{isVisible:!!s}),(0,P.jsxs)("div",{className:to.sectionContent,children:[(0,P.jsx)("h1",{children:(0,P.jsx)(z.ZP,{children:"Tumblr is so easy to use that it’s hard to explain."})}),(0,P.jsx)("p",{children:(0,P.jsx)(z.ZP,{comment:"Introducing Tumblr",params:{blogCountMillions:Math.floor((void 0===i?5e8:i)/1e6)},children:"We made it really, really simple for people to make a blog and put whatever they want on it. Stories, photos, GIFs, TV shows, links, quips, dumb jokes, smart jokes, Spotify tracks, mp3s, videos, fashion, art, deep stuff. Tumblr is [blogCountMillions] million different blogs, filled with literally whatever."})})]})]})};var th=s(9041),tp=s(91264),tu=s(22979),tg=s(55015),tm=s(68782);let tv={slideTwo:"hGi3d",content:"EqUIc",textContent:"NGk3q",timeline:"AiNLD"};var tx=e=>{var t;return(0,tm.J)(e.response.posts,null===(t=e.response.posts)||void 0===t?void 0:t.length)};let tf=function(){var e=(0,th.YD)(),t=e.ref,s=e.inView,i=(0,U.bp)(),a=i._t,n=i.apiFetch,r=(0,e7.ZP)(n).getRadar({limit:"15"});return(0,P.jsx)("div",{className:tv.slideTwo,ref:t,children:s&&(0,P.jsxs)("div",{className:tv.content,children:[(0,P.jsxs)("div",{className:tv.textContent,children:[(0,P.jsx)("h1",{children:a("Tumblr is blogs.")}),(0,P.jsx)("p",{children:a("Turns out that when you make it easy to create interesting things, that’s exactly what people do. All those great, random blogs your friends send you, those are Tumblr blogs. We’ll help you find and follow blogs like that, and we’ll help other people find and follow yours.")})]}),(0,P.jsx)("div",{className:tv.timeline,"aria-hidden":!0,role:"presentation",children:(0,P.jsx)(tp.ZP,{id:"landing-page-slide-2",endpointApiRequest:r,displayMode:tu.mt.Masonry,getObjectsFromResponse:tx,overridePresentationStyle:tg.Z.radar})})]})})},tb=s.p+"src/assets/images/about-tumblr/dash_post_01-5eb7ca64.jpg",tj=s.p+"src/assets/images/about-tumblr/dash_post_02-91974182.jpg",tw=s.p+"src/assets/images/avatar/cube_closed_64-651ce9f9.png",tT=s.p+"src/assets/images/avatar/octahedron_open_64-6b4c100f.png",ty=s.p+"src/assets/images/avatar/sphere_open_64-5962eddc.png";var tk=s(45222),tC=s(81022),tN=s(66052),tP=s(48430),tS=s(53852),tR=s(75815),tI=s(60951),tM=s(40565);let tZ={slideThree:"cqnv1",content:"DdC8v",animateIn:"uqa5O",visible:"JjLg4",dashboard:"a1iTO",avatar:"yRy5h",postBar:"juSYs",postTypeButton:"PS3aj",icon:"_lXYt",post:"BmCJh",header:"jOoB7",headerContent:"QDKBp",leftContent:"KukD0",footer:"U_VJj",noteCount:"rmo3r",controls:"bv6v0",controlIcon:"uVwAW"};var tL=function(e){var t=e.label,s=e.icon;return(0,P.jsxs)("div",{className:tZ.postTypeButton,children:[(0,P.jsx)("span",{className:tZ.icon,children:s}),t]})};let tB=function(e){var t=e.avatar,s=G().colorTextPostIcon,i=G().colorPhotoPost,a=G().colorQuotePost,n=G().colorLinkPost,r=G().colorChatPost,o=G().colorAudioPost,l=G().colorVideoPost,d={height:35,width:40};return(0,P.jsxs)("div",{className:tZ.postBar,children:[(0,P.jsx)("div",{className:tZ.avatar,children:(0,P.jsx)(tk.Z,{imageResponse:t,dimension:tg.Z.desktop.avatarDimension})}),(0,P.jsxs)("ul",{children:[(0,P.jsx)("li",{children:(0,P.jsx)(tL,{label:(0,P.jsx)(z.ZP,{children:"Text"}),icon:(0,P.jsx)(tI.Z,{colors:{primary:s},size:d})})}),(0,P.jsx)("li",{children:(0,P.jsx)(tL,{label:(0,P.jsx)(z.ZP,{children:"Photo"}),icon:(0,P.jsx)(tS.Z,{colors:{primary:i},size:d})})}),(0,P.jsx)("li",{children:(0,P.jsx)(tL,{label:(0,P.jsx)(z.ZP,{children:"Quote"}),icon:(0,P.jsx)(tR.Z,{colors:{primary:a},size:d})})}),(0,P.jsx)("li",{children:(0,P.jsx)(tL,{label:(0,P.jsx)(z.ZP,{children:"Link"}),icon:(0,P.jsx)(tP.Z,{colors:{primary:n},size:d})})}),(0,P.jsx)("li",{children:(0,P.jsx)(tL,{label:(0,P.jsx)(z.ZP,{children:"Chat"}),icon:(0,P.jsx)(tN.Z,{colors:{primary:r},size:d})})}),(0,P.jsx)("li",{children:(0,P.jsx)(tL,{label:(0,P.jsx)(z.ZP,{children:"Audio"}),icon:(0,P.jsx)(tC.Z,{colors:{primary:o},size:d})})}),(0,P.jsx)("li",{children:(0,P.jsx)(tL,{label:(0,P.jsx)(z.ZP,{children:"Video"}),icon:(0,P.jsx)(tM.Z,{colors:{primary:l},size:d})})})]})]})};var tF=s(27755),tE=s(18042),t_=s(54916),tO=s(82145),tA=s(38149),tz=()=>Math.floor(495*Math.random())+5;let tD=function(e){var t=e.blogName,s=e.image,i=e.avatar,a=e.noteCount,n=tg.Z.desktop.avatarDimension;return(0,P.jsxs)("article",{className:tZ.post,children:[(0,P.jsx)("div",{className:tZ.avatar,children:(0,P.jsx)(tk.Z,{imageResponse:i,dimension:n})}),(0,P.jsx)("header",{role:"banner",className:tZ.header,children:(0,P.jsxs)("div",{className:tZ.headerContent,children:[(0,P.jsx)("div",{className:tZ.leftContent,children:(0,P.jsx)("span",{children:t})}),(0,P.jsx)("div",{className:tZ.rightContent,children:(0,P.jsx)(tE.b,{})})]})}),(0,P.jsx)(tA.pC,{imageResponse:s,sizes:"540px"}),(0,P.jsxs)("footer",{role:"contentinfo",className:tZ.footer,children:[(0,P.jsx)("div",{className:tZ.noteCount,children:`${a||tz()} notes`}),(0,P.jsxs)("div",{className:tZ.controls,children:[(0,P.jsx)("div",{className:tZ.controlIcon,children:(0,P.jsx)(tF.Z,{size:{width:21,height:21},colors:{primary:G().paletteGray65}})}),(0,P.jsx)("div",{className:tZ.controlIcon,children:(0,P.jsx)(tO.Z,{size:{width:21,height:21},colors:{primary:G().paletteGray65}})}),(0,P.jsx)("div",{className:tZ.controlIcon,children:(0,P.jsx)(t_.Z,{size:{width:23,height:21},emptyIconColors:{primary:G().paletteGray65}})})]})]})]})},tH=function(e){var t=e.isVisible,s=(0,tm.J)(["fandom","kpop","action","postitforward","music","gaming","fashion"],2),i=c()(s,2),a=i[0],n=i[1];return(0,P.jsxs)("div",{className:tZ.dashboard,"aria-hidden":!0,role:"presentation",children:[(0,P.jsx)(tr.ZP,{in:t,timeout:100,children:e=>(0,P.jsx)("div",{className:p()(tZ.animateIn,{[tZ.exiting]:e===tr.Ix,[tZ.visible]:e===tr.cn}),children:(0,P.jsx)(tB,{avatar:[{url:tw,width:64,height:64}]})})}),(0,P.jsx)(tr.ZP,{in:t,timeout:200,children:e=>(0,P.jsx)("div",{className:p()(tZ.animateIn,{[tZ.exiting]:e===tr.Ix,[tZ.visible]:e===tr.cn}),children:(0,P.jsx)(tD,{blogName:a,avatar:[{url:tT,width:64,height:64}],image:[{url:tb,width:540,height:429}]})})}),(0,P.jsx)(tr.ZP,{in:t,timeout:300,children:e=>(0,P.jsx)("div",{className:p()(tZ.animateIn,{[tZ.exiting]:e===tr.Ix,[tZ.visible]:e===tr.cn}),children:(0,P.jsx)(tD,{blogName:n,avatar:[{url:ty,width:64,height:64}],image:[{url:tj,width:540,height:675}]})})})]})},tV=function(e){var t=e.active,s=(0,th.YD)(),i=s.ref,a=s.inView;return(0,P.jsxs)("div",{ref:i,className:tZ.slideThree,children:[a&&(0,P.jsx)(tH,{isVisible:void 0!==t&&t}),(0,P.jsxs)("div",{className:tZ.content,children:[(0,P.jsx)("h1",{children:(0,P.jsx)(z.ZP,{children:"You already know how this works."})}),(0,P.jsx)("p",{children:(0,P.jsx)(z.ZP,{children:"Once you follow a blog, all of its posts show up in your dashboard, just like you’d expect. See something great? Reblog it to your own blog. Add commentary if you like. Make it your own. Other people will do the same to your posts. That’s how you meet people here."})})]})]})},tU={slideFour:"CyK0C",content:"vdOsp",postTypes:"mes8O",postType:"xYvZb",visible:"f2qpO",postTypeIcon:"IbRaV",postTypeChat:"y3M2U"},tW=function(e){var t=e.active,s=(0,U.bp)()._t,i={colors:{primary:J.betamaxOrange},size:{width:32,height:32}};return(0,P.jsx)("div",{className:tU.slideFour,children:(0,P.jsxs)("div",{className:tU.content,children:[(0,P.jsxs)("div",{className:tU.postTypes,children:[(0,P.jsxs)("div",{className:p()(tU.postType,{[tU.visible]:t}),children:[(0,P.jsx)("div",{className:tU.postTypeIcon,children:(0,P.jsx)(tI.Z,a()({},i))}),s("Text")]}),(0,P.jsxs)("div",{className:p()(tU.postType,{[tU.visible]:t}),children:[(0,P.jsx)("div",{className:tU.postTypeIcon,children:(0,P.jsx)(tS.Z,a()({},i))}),s("Photo")]}),(0,P.jsxs)("div",{className:p()(tU.postType,{[tU.visible]:t}),children:[(0,P.jsx)("div",{className:tU.postTypeIcon,children:(0,P.jsx)(tR.Z,a()({},i))}),s("Quote")]}),(0,P.jsxs)("div",{className:p()(tU.postType,{[tU.visible]:t}),children:[(0,P.jsx)("div",{className:tU.postTypeIcon,children:(0,P.jsx)(tP.Z,a()({},i))}),s("Link")]}),(0,P.jsxs)("div",{className:p()(tU.postType,tU.postTypeChat,{[tU.visible]:t}),children:[(0,P.jsx)("div",{className:tU.postTypeIcon,children:(0,P.jsx)(tN.Z,a()({},i))}),s("Chat")]}),(0,P.jsxs)("div",{className:p()(tU.postType,{[tU.visible]:t}),children:[(0,P.jsx)("div",{className:tU.postTypeIcon,children:(0,P.jsx)(tC.Z,a()({},i))}),s("Audio")]}),(0,P.jsxs)("div",{className:p()(tU.postType,{[tU.visible]:t}),children:[(0,P.jsx)("div",{className:tU.postTypeIcon,children:(0,P.jsx)(tM.Z,a()({},i))}),s("Video")]})]}),(0,P.jsx)("h1",{children:s("Seriously, put anything you want here.")}),(0,P.jsx)("p",{children:s("Seven post types to get you started. Your brain can do the rest. This thing is yours. Use it however you like.")})]})})},tq=function(e){var t=e.posts;return(0,P.jsx)(L.Z,{posts:t,children:(0,P.jsxs)("div",{className:"nYbR2",children:[(0,P.jsx)("h1",{children:(0,P.jsx)(z.ZP,{children:"Okay, it’s not actually hard to explain."})}),(0,P.jsx)("p",{children:(0,P.jsx)(z.ZP,{children:"We lied. But now you understand this thing. So come on in."})}),(0,P.jsx)(e6,{})]})})};var tJ=s(29860),tG=s(48352);let tQ={landingPage:"EmpUU",mobileLoginPage:"fDMRI",loginForm:"JdsBc",heading:"Yyr2r"};function t$(e){return(0,D.go)(e)?H.c.Login:(0,D.y8)(e)?H.c.Register:e.substring(1)}class tY extends e3.lb{constructor(){super(...arguments),r()(this,"state")=>{this.cancelInProgressFetchIfNecessary()}),r()(this,"renderMetaData",()=>{var e=this.props.appContext._c,t={},s=e("Page title for the Register page","Register - Login");return t.pageName=e9.H.analyticsPageName,(0,P.jsx)(tJ.Z,a()({title:s},t))}),r()(this,"isServingOnRoot",()=>{var e;return(null===(e=this.props.location)||void 0===e?void 0:e.pathname)==="/"}),r()(this,"getLoginRegisterPage",()=>{var e=this.props,t=e.appContext.features.redpopThirdPartyAuthentication,s=t$(e.location.pathname);return(0,P.jsxs)(L.Z,{footer:(0,P.jsx)(B.Z,{}),posts:this.state.posts,children:[this.renderMetaData(),(0,P.jsx)("div",{className:tQ.loginForm,children:(0,P.jsx)(e6,{heading:s===H.c.Login&&t?null:(0,P.jsx)("div",{className:tQ.heading,children:(0,P.jsx)(z.ZP,{comment:"Landing page form header text",children:"Make stuff, look at stuff, talk about stuff, find your people."})}),formToShow:s,footer:(0,P.jsx)(B.Z,{})})})]})})}getResponse(e){return(0,e7.ZP)(e).getRadar({limit:"15"}).fetch().then(e=>e&&e.response?e.response.posts:[])}componentDidMount(){return this.cancelInProgressFetchIfNecessary(),this.fetchInProgress=(0,e8.Z)(this.getResponse(this.props.appContext.apiFetch)),this.fetchInProgress.then(e=>{this.fetrogress.cancel(),this.fetchInProgress=null)}render(){var e=this.props,t=e.appContext._t,s=e.location.pathname,i=this.getLoginRegisterPage(),a=t("Easy to use"),n=t$(s),r=!!n;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(tG.Z,{page:e9.H.analyticsPageName}),(0,P.jsxs)("div",{className:tQ.landingPage,children:[(0,P.jsx)(l.Z,{overflow:"auto"}),(0,P.jsx)(o.rU,{rel:"canonical",href:`${eV.Cw}${this.isServingOnRoot()?D.o_.login:s}`}),(0,P.jsx)(Z.ZP,{disable:Z.$6}),(0,P.jsxs)(eY.Z,{children:[(0,P.jsxs)(S,{disableNavigation:r,children:[(0,P.jsx)(R,{name:t("Get started"),children:(0,P.jsx)(tt,{disableNavigation:r,loginPage:i,slideOneName:a})}),(0,P.jsx)(R,{name:a,children:(0,P.jsx)(tc,{})}),(0,P.jsx)(R,{name:t("Tumblr is blogs."),children:(0,P.jsx)(tf,{})}),(0,P.jsx)(R,{name:t("You already know how this works."),children:(0,P.jsx)(tV,{})}),(0,P.jsx)(R,{name:t("Seriously, put anything you want here."),children:(0,P.jsx)(tW,{})}),(0,P.jsx)(R,{name:t("Okay, it’s not actually hard to explain."),children:(0,P.jsx)(tq,{posts:this.state.posts})})]}),(0,P.jsx)(I.Z,{activePage:e5.vS.landing,headerTheme:"transparent",transparentBackground:!0,showLimitedHeader:!0,hideLoginButton:n===H.c.Login,hideSignUpButton:n===H.c.Register})]}),(0,P.jsxs)(eK.Z,{children:[(0,P.jsx)(M.Z,{hideLoginButton:n===H.c.Login,hideSignUpButton:n===H.c.Register}),(0,P.jsx)("div",{className:tQ.mobileLoginPage,children:i})]})]})]})}}let tK=(0,U.VP)(tY)},82534:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var i=s(15618),a=s(16481),n=s(20285),r=s(78667),o=s(2629);let l=()=>{var e=(0,r.bp)(),t=e.configRef,s=e.isLoggedIn;return!s&&null!=t&&t.takeoverLoggedOut?(0,o.jsx)(n.default,{}):s?(0,o.jsx)(i.default,{}):(0,o.jsx)(a.default,{})}},27452:(e,t,s)=>{s.d(t,{f:()=>i});var i={postType:void 0,postRole:"any",postSort:s(5700).H_.CreatedDesc}},61512:(e,t,s)=>{s.d(t,{AO:()=>r,gd:()=>o});var i=s(54138),a=s.n(i);s(27452);var n=s(5700),r={Posts:"Posts",Likes:"Likes",Following:"Following"};function o(e){var t=e.postSort,s=e.postRole,i=e.postType;return a()(a()({peeprSelectedPostType:i},"any"!==s&&{peeprPostRole:s}),t===n.H_.PopularityDesc&&{peeprSearchMode:(?:com|net)(?::\d{4})?)\/?$/);return t?t[1]:e}},82952:(e,t,s)=>{s.d(t,{s:()=>a});var i=s(95004),a=ct)(()=>{if(s.current)return e();s.current=!0},t)}},56777:(e,t,s)=>{s.d(t,{h:()=>d});var i=s(33970),a=s.n(i),n=s(95004),r=s(78667),o=s(82952),l=s(68782);function d(e){var t=(0,r.bp)().randomNumber,s=(0,n.useState)((0,l.U=i[0],c=i[1];return(0,o.s)(()=>{c((0,l.U)(e))},[e]),d}},83875:(e,t,s)=>{s.d(t,{Y:()=>n});var i=s(43523),a=s(5700),n=e=>{switch(e){case a.hQ.Text:return i.J.PFComposePostText;case a.hQ.Audio:return i.J.PFComposePostAudio;case a.hQ.Photo:return i.J.PFComposePostPhoto;case a.hQ.Quote:return i.J.PFComposePostQuote;case a.hQ.Link:return i.J.PFComposePostLink;case a.hQ.Chat:return i.J.PFComposePostChat;case a.hQ.Video:return i.J.osePostVideo}}},75891:(e,t,s)=>{s.d(t,{Z:()=>r});var i=s(54138),a=s.n(i),n=s(22979);function r(e,t){return(0,n.eO)(e)?a()(a()({},e),{},{display:a()(a()({},e.display),{},{title:t})}):e}}}]);