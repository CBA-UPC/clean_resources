window.hjSiteSettings = window.hjSiteSettings || {"site_id":1584225,"r":0.48061730985449735,"rec_value":0.0,"state_change_listen_mode":"automatic","record":true,"continuous_capture_enabled":true,"recording_capture_keystrokes":false,"session_capture_console_consent":false,"anonymize_digits":false,"anonymize_emails":true,"suppress_all":false,"suppress_all_on_specific_pages":[],"suppress_text":false,"suppress_location":false,"user_attributes_enabled":false,"legal_name":null,"privacy_policy_url":null,"deferred_page_contents":[],"record_targeting_rules":[],"feedback_widgets":[],"heatmaps":[],"polls":[{"id":714139,"created_epoch_time":1627327205,"skin":"dark","background":"#333333","effective_show_branding":true,"position":"right","content":{"version":2,"questions":[{"next":"byOrder","required":true,"text":"Is this OK?","type":"single-open-ended-multiple-line","uuid":"02acefa7-9613-417d-b877-2d40d462dd60"},{"answers":[{"comments":true,"text":"Yes (please enter your email address)"},{"comments":false,"text":"No thanks"}],"next":"byOrder","pin_last_to_bottom":false,"randomize_answer_order":false,"required":true,"text":"Would you like a response to your question or comment?","type":"single-close-ended","uuid":"5396d16b-7867-4017-b78e-a05ee3e404c6"}],"thankyou":"Thank you for answering this Survey. Your feedback is highly appreciated!"},"connect_visit_data":"always","ask_for_consent":false,"language":"en","display_condition":"immediate","display_delay":0,"persist_condition":"response","targeting_percentage":100,"targeting":[{"component":"url","match_operation":"simple","negate":false,"pattern":"https://hello.pressreader.com/hp-test-inbound","name":null,"rule_type":null},{"component":"device","match_operation":"exact","negate":false,"pattern":"phone","name":null,"rule_type":null},{"component":"device","match_operation":"exact","negate":false,"pattern":"tablet","name":null,"rule_type":null},{"component":"device","match_operation":"exact","negate":false,"pattern":"desktop","name":null,"rule_type":null}],"uuid":"712f8c99-7c95-49fa-bc58-9d60e6a665de","invite":{"title":"Your feedback is important to us!","description":"Tell us what you think about this page by taking our quick Survey.","button":"Yes, I will give feedback","close":"No thanks"},"invite_enabled":false,"display_type":"full_screen","show_legal":false,"logo_url":null,"button_color":"#00C764","parent_element_selector":null}],"integrations":{"optimizely":{"tag_recordings":false},"abtasty":{"tag_recordings":false},"mixpanel":{"send_events":false},"unbounce":{"tag_recordings":false},"google_optimize":{"tag_recordings":false},"hubspot":{"enabled":true,"send_recordings":false,"send_surveys":true}},"features":["survey.screenshots","survey.image_question","feedback.widgetV2","survey.embeddable_widget","error_reporting","feedback.widget_telemetry","settings.billing_v2","survey.type_button","feedback.embeddable_widget","client_script.compression.pc","ask.popover_redesign"],"tracking_code_verified":true};

!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}function r(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(r)?r:String(r)}var n,i=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.send=e,this.batchSize=r,this.flushInterval=n,this.buffer=[],this.flushTimer=null}var r,n;return r=t,(n=[{key:"getBuffer",value:function(){return this.buffer}},{key:"add",value:function(t){var e=this;this.buffer.push(t),this.buffer.length>=this.batchSize?this.flush():this.flushTimer||(this.flushTimer=setTimeout((function(){e.flush()}),this.flushInterval))}},{key:"flush",value:function(){this.buffer.length>0&&(this.send(this.buffer),this.buffer=[]),this.flushTimer&&(clearTimeout(this.flushTimer),this.flushTimer=null)}}])&&e(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}();function a(){return a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a.apply(this,arguments)}var o,s=function(){try{return"performance"in window&&"now"in window.performance}catch(t){return!1}},c={version:6,metricsUrl:(null===(n=window._hjSettings)||void 0===n?void 0:n.metricsUrl)||"https://metrics.hotjar.io",sampling:{metrics:.1,fieldMetrics:.01,debug:.5,universalDebug:.05*.1},browser:{hasPerformance:!1,shouldLogMetrics:!1,inLab:!1},buffer:{bufferSize:40,flushInterval:3e3}},u={isDebugEnabled:!1,isMetricsEnabled:!1,isFieldMetricsEnabled:!1,loggedMetrics:{},genericTags:{}},l=function(t,e,r){var n;u.loggedMetrics[t]=a(a({},u.loggedMetrics[t]),{},((n={})[e]=r||{},n))},f=function(t){if(!t)return"value";var e=Object.keys(t)[0];return e&&t[e]||"value"},d=function(t){var e,r=null!==(e=t.tag)&&void 0!==e?e:void 0;return u.isDebugEnabled?a(a(a({},r),t.extraTags),u.genericTags):r},h=function(t,e){if(!o)return!1;var r=u.isMetricsEnabled||u.isDebugEnabled;return"lab"===t&&(r=c.browser.inLab),"field"===t&&(r=u.isFieldMetricsEnabled),e?r&&e.flush:r},g=function(t){var e=!1,r="v=".concat(c.version),n=u.isDebugEnabled?"".concat(c.metricsUrl,"?").concat(r,"&debug=true"):"".concat(c.metricsUrl,"?").concat(r),i=JSON.stringify(t);if("sendBeacon"in navigator)try{e=navigator.sendBeacon.bind(navigator)(n,i)}catch(t){}if(!1===e)try{var a=new XMLHttpRequest;a.open("POST",n),a.timeout=1e4,a.send(i)}catch(t){}c.browser.shouldLogMetrics&&console.debug("New Metrics: ",t)},b={getConfig:function(t){return c[t]},getState:function(t){return u[t]},start:function(){try{c.browser={hasPerformance:s(),shouldLogMetrics:/hjMetrics=1/.test(location.search),inLab:/hjLab=true/.test(location.search)};var t=b.time(),e=window.hjSiteSettings||{},r=e.features,n=e.site_id,a=new Set(r),l=c.sampling;return u.genericTags={site_id:n},u.isDebugEnabled=Math.random()<=l.universalDebug||a.has("client_script.metrics.debug")&&Math.random()<=l.debug,u.isMetricsEnabled=Math.random()<=l.metrics,u.isFieldMetricsEnabled=u.isMetricsEnabled&&Math.random()<=l.fieldMetrics,o=new i(g,c.buffer.bufferSize,c.buffer.flushInterval),t}catch(t){console.debug("Error in metrics.start",{error:t})}},reset:function(){u.loggedMetrics={}},stop:function(){u.isDebugEnabled=!1,u.isMetricsEnabled=!1,u.genericTags={}},count:function(t,e){var r=e.incr,n=e.tag,i=e.extraTags,s=e.type;try{var c,l=f(n),g=u.loggedMetrics[t],b=0;if(r?(b=(g&&g[l]||0)+(r.value||1),u.loggedMetrics[t]=a(a({},g),{},((c={})[l]=null!=r&&r.flush?0:b,c))):b=1,h(s,r)){var v={name:t,type:"count",value:b,tags:d({tag:n,extraTags:i})};o.add(v)}}catch(t){}},distr:function(t,e){var r=e.task,n=e.value,i=e.extraTags;h()&&o.add({name:t,type:"distribution",value:n,tags:d({tag:{task:r},extraTags:i})})},time:function(){try{if(!c.browser.hasPerformance)return;return performance.now()}catch(t){}},timeEnd:function(t,e){var r=e.tag,n=e.start,i=e.total,a=e.extraTags,s=e.type;try{var c=b.time();if(!i&&!c)return;var u=f(r),g=i||(n&&c?c-n:void 0);if(l(t,u,{}),g&&g>0&&h(s)){var v={name:t,type:"distribution",value:Math.round(g),tags:d({tag:r,extraTags:a})};o.add(v)}return c}catch(e){console.debug("Failed to send timer metric: ",{name:t,tag:r,error:e})}},timeIncr:function(t,e){var r,n,i,a,o=e.tag,s=e.start,c=e.flush,d=e.extraTags,h=e.type,g=hj.metrics.time(),v=s&&g?g-s:void 0,m=(r=t,{tagName:n=f(o),start:(a=(i=u.loggedMetrics[r])&&i[n]||{}).start,total:a.total}),w=v?v+(m.total||0):m.total;return l(t,m.tagName,{total:w}),c&&b.timeEnd(t,{tag:o,total:w,extraTags:d,type:h}),w},timeWatcher:function(){var t,e=0,r=!1,n=function(){var r,n=b.time();return e+=null!==(r=t&&n&&n-t)&&void 0!==r?r:0,t=b.time(),e};return{start:function(){if(!r)return r=!0,t=b.time()},incr:n,end:function(){var r=n();return e=0,t=void 0,r}}},getErrorMessage:function(t){return t instanceof Error?t.message:"string"==typeof t?t:""}};window.hj=window.hj||function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];(window.hj.q=window.hj.q||[]).push(e)},window.hj.metrics=b;var v=hj.metrics.start();window.hjBootstrap=window.hjBootstrap||function(t,e,r){var n,i=new RegExp("bot|google|headless|baidu|bing|msn|duckduckbot|teoma|slurp|yandex|phantomjs|pingdom|ahrefsbot","i"),a=(null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||"unknown";if(i.test(a))return hj.metrics.count("session-rejection",{tag:{reason:"bot"}}),void console.warn("Hotjar not launching due to suspicious userAgent:",a);var o="http:"===window.location.protocol,s=Boolean(window._hjSettings.preview);if(o&&!s)return hj.metrics.count("session-rejection",{tag:{reason:"https"}}),void console.warn("For security reasons, Hotjar only works over HTTPS. Learn more: https://help.hotjar.com/hc/en-us/articles/115011624047");var c=function(t,e,r){window.hjBootstrapCalled=(window.hjBootstrapCalled||[]).concat(r),window.hj&&window.hj._init&&window.hj._init._verifyInstallation&&hj._init._verifyInstallation()};c(0,0,r);var u=window.document,l=u.head||u.getElementsByTagName("head")[0];hj.scriptDomain=t;var f=u.createElement("script");f.async=1,f.src=hj.scriptDomain+e,f.charset="utf-8",l.appendChild(f),c.revision="4cce220",window.hjBootstrap=c},window.hjBootstrap("https://script.hotjar.com/","modules.bab19612e24942353c1e.js","1584225"),hj.metrics.timeEnd("resource-blocking-time",{tag:{resource:"hotjar-js"},start:v,type:"lab"}),window.hjLazyModules=window.hjLazyModules||{SURVEY_V2:{js:"survey-v2.c3b62eb2c8979375c4d6.js"},SURVEY_BOOTSTRAPPER:{js:"survey-bootstrapper.0656b4af4d0e458171c1.js"},SURVEY_ISOLATED:{js:"survey-isolated.ec0131e1400a11867d18.js"},HEATMAP_RETAKER:{js:"heatmap-retaker.f79c0c7bb13d8a14bddc.js"},SURVEY_INVITATION:{js:"survey-invitation.0c3413ba323a3b80de21.js"},NOTIFICATION:{js:"notification.dcf8412c061e7fe8234d.js"},PREACT_INCOMING_FEEDBACK:{js:"preact-incoming-feedback.7b5a9e5c07a2f5e4fc0c.js"},SENTRY:{js:"sentry.58c81e3e25532810f6fd.js"},BROWSER_PERF:{js:"browser-perf.8417c6bba72228fa2e29.js"}}}();d=n.instanceId||"",n.instanceId+="_"+t)}const xe=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?_.B.Manga:e};var Pe=i(37802);class Se extends x.l{constructor(){super(),this.useMangaWCPage=!1,this.enableNewProviderBannerDesign=!1,this.actionTrayGridAreaStyles="",this.actionTrayWrapperStyles="",this.commonHeaderHeight=0,this.consumptionPageContentHeight=0,this.consumptionPageContentRefChanged=()=>{window.setTimeout((()=>{var e;this.consumptionPageContentHeight=(null===(e=this.consumptionPageContentRef)||void 0===e?void 0:e.getBoundingClientRect().height)||0}))},this.consumptionPageRefChanged=()=>{window.setTimeout((()=>{this.consumptionPageRef&&this.attachObserverToPageContainer()}))},this.consumptionPageStructureRefChanged=e=>{window.setTimeout((()=>{var t,i;e&&(null===(i=this.resizeObserver)||void 0===i||i.unobserve(e));this.consumptionPageStructureRef&&(null===(t=this.resizeObserver)||void 0===t||t.observe(this.consumptionPageStructureRef))}))},this.dwellTimeStartAllowedClassName="",this.isImmersiveFullscreenOpen=!1,this.isRailBelow=!1,this.isLargeBannerAd=!1,this.renderSideSpan=!1,this.viewsHeaderHeight=0,this.viewsHeaderRefChanged=()=>{this.viewsHeaderRef&&window.setTimeout((()=>{var e;this.viewsHeaderRef&&(this.setBannerAdStart(),this.viewsHeaderHeight=(null===(e=this.viewsHeaderRef)||void 0===e?void 0:e.getBoundingClientRect().height)||0,this.viewsHeaderColorSampleCSS=this.getHeaderGradientStyles(this.viewsHeaderRef,this.colorSamples,this.config.luminosityValue))}))},this.bannerAdStart=0,this.shouldRenderEoabLeadgen=!1,this.disableAds=!1,this.enableRR1Column=!1,this.backgroundColorValue="",this.mappingUtilities={},this.markTimeToVisuallyReadyCalled=!1,this.expTTVRDependentList=new Map([[L.JX.ViewsContentHeader,-1],[L.JX.ViewsContentProvider,-1]]),this.viewsContentTopicId="",this.darkModeQuery=window.matchMedia("(prefers-color-scheme:dark)"),this.headerGradientStylesHandler=()=>{this.viewsHeaderRef&&(this.viewsHeaderColorSampleCSS=this.getHeaderGradientStyles(this.viewsHeaderRef,this.colorSamples,this.config.luminosityValue)),this.backgroundColorChangeHandler()},this.backgroundColorChangeHandler=()=>{this.backgroundColorValue=(0,O.oR)()?b.Yw:b.dw},this.resizeObserverCallback=()=>{this.updateRightRailVisibility(),this.updateActionTrayStyles()},this.updateBannerAdContainerHeight=e=>{var t,i;const{height:n=0,targetId:o=""}=e,r=null===(t=this.bannerAdRef)||void 0===t?void 0:t.querySelector(this.displayAdWebComponentName);null!=r&&null!==(i=r.shadowRoot)&&void 0!==i&&i.getElementById(o)?this.isLargeBannerAd=n>111:!r&&o.startsWith("banner")&&(this.isLargeBannerAd=!1)},this.setVerticalSpanVisibility=()=>{const e=this.topSpanRef;if(!e)return;const t=e.getBoundingClientRect().top;this.renderSideSpan=!(t>0)},this.consumptionFeedActivityChange=e=>{var t,i;e.detail.contentId===this.contentId&&this.documentTitleCb&&(null===(t=this.documentTitleCb)||void 0===t||t.call(this,null===(i=this.contentData)||void 0===i?void 0:i.title))},this.handleFatalError=e=>{var t,i,n;if(e instanceof D.jI?this.errorState=1:e instanceof D.o8?this.errorState=2:this.errorState=3,(0,g.H)(u.aGD,"Failed to get content view data",`ContentId: ${this.contentId}`,{id:this.contentId,error:e}),null!==(t=this.infiniteReadingContext)&&void 0!==t&&t.markContentAsFailed)return this.infiniteReadingContext.markContentAsFailed(this.contentId);if(null===(i=this.infiniteReadingContext)||void 0===i||null===(n=i.updateInitialContentLoadingState)||void 0===n||n.call(i,2),!this.infiniteReadingContext||this.infiniteReadingContext.isMainArticle){const e=(0,M.gA)(this.contentId,!0,this.infiniteReadingContext,this.config.homepageUrl);(0,O.MS)(e)}},this.getActionTrayWrapperStyles=()=>{var e,t;let i=(this.commonHeaderHeight??132)+8;((0,k.c)(this.config.featureFlags||{},k.T.hideHeaderNavBar)||(0,k.c)(this.config.featureFlags||{},k.T.enableFixedAtTop))&&(i=119);const n=(null===(e=this.consumptionPageViewsHeaderAreaRef)||void 0===e?void 0:e.getBoundingClientRect().top)||0,o=(null===(t=this.consumptionPageContentHeaderRef)||void 0===t?void 0:t.getBoundingClientRect().top)||0;return"margin-top:"+(0,s.a)(Math.max(o-n,0))+";top: "+(0,s.a)(i)},this.getHeaderGradientStyles=(e,t,i)=>{const n=(0,B.D)((0,O.oR)(),t),o=(0,O.oR)()&&i||0;let r="";for(const[e,t]of Object.entries((0,B.b)(n,o)))r+=`${e}: ${t};`;return`height: ${(0,s.a)(e.offsetHeight)}; ${r}`},this.removePageFromTheFeed=()=>{var e,t,i;this.removeArticleFromTheProvider((null===(e=this.contentProps)||void 0===e||null===(t=e.header)||void 0===t||null===(i=t.provider)||void 0===i?void 0:i.id)||"",this.contentId)},this.onBreakpointCallback=e=>{this.columnArrangement=e,this.updateRightRailVisibility()},this.setBannerAdStart=()=>{this.viewsHeaderRef&&(d.Al.MarketDir!==o.N.rtl?this.bannerAdStart=-Math.abs(this.viewsHeaderRef.offsetLeft):this.bannerAdStart=-Math.abs(window.innerWidth-this.viewsHeaderRef.offsetLeft))},this.updateLeadgen=()=>{var e;const t=null===(e=this.contentProps)||void 0===e?void 0:e.content;if(t){var i,n;const{provider:e}=(null===(i=t.context)||void 0===i?void 0:i.articleData)||(null===(n=t.context)||void 0===n?void 0:n.slideshowData)||{};if(!e||!e.leadgen)return;this.updateLeadgenData(e)}},this.stampPagePZeroTTVR=(e,t)=>{this.infiniteReadingContext.isMainArticle&&e&&(t||(t=window.performance.now()),(0,h.o_)(e,!1,t),this.trySetTTVRAndMilestone(e,t))},this.onToggleImmersiveFullscreen=()=>{this.isImmersiveFullscreenOpen=!this.isImmersiveFullscreenOpen},this.markInfiniteReadingTTVRIfNeeded=(()=>{let e=!1;return async()=>{if(e||!this.infiniteReadingContext||this.infiniteReadingContext.isMainArticle)return;e=!0;let t=null;try{t=(0,v.lX)(`TTVR-${this.contentId}`)}catch(e){$.M0.sendAppErrorEvent({...u.Qh4,message:"Unable to mark refresh TTVR on infinite reading",pb:{...u.Qh4.pb,customMessage:`Unable to mark refresh TTVR on infinite reading. ContentId: ${this.contentId} . Experience: ArticlePage . error:${e}`}})}const i=this.infiniteReadingContext.initializedPromise||Promise.resolve();if(await i.then((()=>new Promise((e=>window.setTimeout(e))))),t){const e={markers:{[`TTVR.${J[this.contentType]}`]:t,[`TTVR.${L.JX.ViewsContentHeader}`]:t,[`TTVR.${L.JX.ViewsContentProvider}`]:t,TTVR:t}};(0,H.x$)(this.contentId,e)}}})(),this.getTopSpanModuleContent=async e=>{if(!this.viewsFullPageConnector)return[];const t=I.tT.topSpan,i=await this.viewsFullPageConnector.getPageSectionData(this.contentId,t,1,this.config.localizedStrings,{shouldStampTMPL:t=>R.DT.has(t)&&!e},this.topSpanTelemetryObject);if(null!=i&&i.length)return i;const n=(0,k.c)(this.config.featureFlags,k.T.enableTeraCT);if((0,k.c)(this.config.featureFlags,k.T.enableTeraTT)||n){var o,r,a;const e=(0,N.A)(this.contentId,this.config.slots.topicTags,null===(o=this.contentProps)||void 0===o||null===(r=o.topSpan)||void 0===r||null===(a=r.jsonDataMap)||void 0===a?void 0:a.interests,n);if(null!=e&&e.length)return e}return[]},this.setShareBridge=()=>{this.config.slots.socialBarWC&&i.e("experiences_consumption-page_dist_utils_socialUtils_js").then(i.bind(i,36490)).then((e=>{let{getShareBridge:t}=e;this.shareBridge=t()}))},this.shareActionHandler=()=>{var e;this.shareBridge&&this.shareBridge.share({title:"Following",url:this.infiniteReadingContext.baseContentUrl??(0,me.l4)(),text:(null===(e=this.contentData)||void 0===e?void 0:e.title)??""})},this.columnArrangement=(0,y.Bn)().currentColumnArrangement,this.setVerticalSpanVisibility=(0,Pe.Z)(this.setVerticalSpanVisibility,1e3)}contentTypeChanged(){this.contentType===_.Q.Article&&this.expTTVRDependentList.set(L.JX.ArticleContent,-1),(async e=>{switch(e){case _.Q.Article:return await i.e("web-components_article-page-wc_dist_index_js").then(i.bind(i,43894));case _.Q.Gallery:return await Promise.all([i.e("libs_ad-service_dist_BeaconService_js"),i.e("libs_ad-service_dist_NativeAdService_js"),i.e("web-components_slideshow-base_dist_SlideshowBase_js-web-components_slideshow-base_dist_define-c4d2c7"),i.e("web-components_slideshow-base_dist_slideshow-components_gallery-slideshow_index_js-web-compon-747804"),i.e("libs_views-helpers_dist_views-coachmark-helper_ViewsFRECoachmarkHelper_js-libs_views-helpers_-a05c47")]).then(i.bind(i,65178));case _.B.Manga:return await i.e("web-components_manga-page-wc_dist_index_js").then(i.bind(i,24551));default:;}})(xe(this.contentType,this.useMangaWCPage))}get contentProviderCardConfig(){var e,t;const i=null===(e=this.contentProps)||void 0===e||null===(t=e.rail)||void 0===t?void 0:t.config.slots.providerCarousel;return{...i,instanceId:`${null==i?void 0:i.instanceId}-${this.contentId}`}}get bannerAdStyles(){return`top: ${this.commonHeaderHeight}px; margin-inline-start: ${this.bannerAdStart}px;`}get riverHeadingClassnames(){return(0,r.A)(this.config.centralizedUx?"consumption-page-river-heading-centralized":"consumption-page-river-heading","consumption-page-river-heading-ext",["arb-style-header",Boolean(this.config.slots.aboveRiverBlock)])}get contentAreaClassname(){return this.contentType?Te[xe(this.contentType,this.useMangaWCPage)]:""}get bannerAdHeight(){return this.config.slots.bannerAd&&this.bannerAdRef?this.isLargeBannerAd?Se.largeBannerAdContainerHeight:Se.smallBannerAdContainerHeight:0}get displayAdWebComponentName(){return(0,S.hZ)((0,P.ITY)(C.x.displayAdsWC))}get errorText(){var e,t,i;switch(this.errorState){case 1:return null===(e=this.config.localizedStrings)||void 0===e?void 0:e.goneMessage;case 2:return null===(t=this.config.localizedStrings)||void 0===t?void 0:t.missingMessage;default:return null===(i=this.config.localizedStrings)||void 0===i?void 0:i.errorMessage}}get isRightRailReady(){var e,t;return this.columnArrangement!==w.K$.c1&&(null===(e=this.config.componentConfigs)||void 0===e?void 0:e.rightRailConfigs)&&(null===(t=this.contentProps)||void 0===t?void 0:t.rail)}getRequestIdOverride(){return this.requestIdOverride||(this.requestIdOverride=(0,H.d$)(this.contentId,this.infiniteReadingContext&&!this.infiniteReadingContext.isMainArticle)),this.requestIdOverride}experienceConnected(){var e;if((0,k.c)(this.config.featureFlags||{},k.T.enableAddNavHistory)&&!(0,O.XO)()){const e=(0,l.h_)(this.config.homepageUrl)??L.Z2;(0,E.bW)(e)}Ae(this.config.slots,this.contentId),this.resizeObserver=new ResizeObserver(this.resizeObserverCallback),this.attachDisplayAdServiceEventListeners(),this.viewsFullPageConnector=A._.getInstance().rootReducer.connector(T.z.ViewsFullPage),this.viewsContentTopicId=(null===(e=this.infiniteReadingContext)||void 0===e?void 0:e.isMainArticle)&&new URLSearchParams(location.search).get("viewsContentTopicId")||"",this.useMangaWCPage=(0,k.c)(this.config.featureFlags||{},k.T.enableMangaWC)&&this.isMangaContent(),this.enableNewProviderBannerDesign=(0,k.c)(this.config.featureFlags,k.T.enableNewProviderBanner),this.enableRR1Column=(0,k.c)(this.config.featureFlags||{},k.T.enableRR1Column),this.setMainBannerAdProps(),this.darkModeQuery.addEventListener("change",this.headerGradientStylesHandler),this.backgroundColorChangeHandler()}shadowDomPopulated(){(0,y.Bn)().subscribe(this.onBreakpointCallback),this.attachMutationObserverToCommonHeader(),this.loadContent(),this.updateRightRailVisibility(),this.attachObserverToPageContainer(),this.markInfiniteReadingTTVRIfNeeded(),window.addEventListener("resize",this.setBannerAdStart)}disconnectedCallback(){var e,t;super.disconnectedCallback(),(0,y.Bn)().unsubscribe(this.onBreakpointCallback),null===(e=this.commonHeaderMutationObserver)||void 0===e||e.disconnect(),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),document.removeEventListener(V.Nt,this.consumptionFeedActivityChange),window.removeEventListener("resize",this.setBannerAdStart),window.removeEventListener("scroll",this.setVerticalSpanVisibility),this.darkModeQuery.removeEventListener("change",this.headerGradientStylesHandler)}setMainBannerAdProps(){if(!this.infiniteReadingContext.isMainArticle||this.mainBannerAdProps)return;const e={columnArrangement:this.columnArrangement,disableAds:this.disableAds,infiniteReadingContext:this.infiniteReadingContext,onToggleImmersiveFullscreen:this.onToggleImmersiveFullscreen,nextSlideshowPromise:void 0,telemetryObject:this.telemetryObject,requestIdOverride:this.infiniteReadingContext.isMainArticle?void 0:this.getRequestIdOverride()};this.mainBannerAdProps=he(this.config,e,this.contentId,d.Al.ClientSettings.pagetype)}attachObserverToPageContainer(){if(!this.consumptionPageRef||this.pageContainerModuleObserver)return;this.pageContainerModuleObserver=new IntersectionObserver(this.onPageContainerModuleObserve.bind(this),{root:null,threshold:0}),this.pageContainerModuleObserver.observe(this.consumptionPageRef)}onPageContainerModuleObserve(e){e&&e.forEach((e=>{e.intersectionRatio>.001&&(this.dwellTimeStartAllowedClassName=(0,W.R)(this.contentId))}))}attachMutationObserverToCommonHeader(){const e=document.querySelector(`#${L.ue}`);e&&!this.commonHeaderMutationObserver&&(this.commonHeaderHeight=e.clientHeight,this.commonHeaderMutationObserver=new MutationObserver((()=>{window.requestAnimationFrame((()=>{const t=e.clientHeight;t!==this.commonHeaderHeight&&(this.commonHeaderHeight=t)}))})),this.commonHeaderMutationObserver.observe(e,{attributes:!0}))}attachDisplayAdServiceEventListeners(){m.V.addEventListener(f.T.AdReturned,this.updateBannerAdContainerHeight),m.V.addEventListener(f.T.AdRefreshed,this.updateBannerAdContainerHeight),m.V.addEventListener(f.T.AdNoBid,this.updateBannerAdContainerHeight)}async loadContent(){var e,t,i;try{var n;const e=!this.infiniteReadingContext||null!==(n=this.infiniteReadingContext)&&void 0!==n&&n.isMainArticle?d.Al.ClientSettings.pagetype:this.contentType;this.contentData=await async function(e,t){const i=D.jt.getInstance();let n;if(n=t===_.Q.Video?await i.fetchVideoDataAsync(e):await i.fetchContentDetailWithLocaleDataAsync(e,d.Al.Locale,!0,!1),!n)throw new Error("No data found on views service");if(n instanceof Error)throw n;return n}(this.contentId,e)}catch(e){return void this.handleFatalError(e)}if(c.jG.IsChinaCompliance&&this.contentData.locale!==L.sq)return void this.handleFatalError(new D.o8);let o;if(this.telemetryObject.contract.name="ConsumptionPage"+((i=L.Qh.get(this.contentData.type))?">"+ne.get(i):""),this.setupViewsTracker(this.contentData),this.topSpanTelemetryObject=this.telemetryObject.addOrUpdateChild({name:L.IW.topSpan,type:ee.get(this.contentData.type)}),document.addEventListener(V.Nt,this.consumptionFeedActivityChange),this.disableAds=Boolean(this.shouldDisableAds()),this.contentData.type===_.Q.Gallery){this.viewsFullPageConnector.hasFetchStarted(this.contentId)||await this.viewsFullPageConnector.initialConnectorFetch(this.contentId);const e=this.viewsFullPageConnector.getExperimentalSectionData(F.j.NextSlideshowContent,this.contentId),t=(0,k.c)(this.config.featureFlags||{},k.T.useWebPImageFormat);o=(0,z.K)(e,t)}this.mappingUtilities={columnArrangement:this.columnArrangement,disableAds:this.disableAds,infiniteReadingContext:this.infiniteReadingContext,onToggleImmersiveFullscreen:this.onToggleImmersiveFullscreen,nextSlideshowPromise:o,telemetryObject:this.telemetryObject,requestIdOverride:this.infiniteReadingContext.isMainArticle?void 0:this.getRequestIdOverride()},this.contentProps=await we(this.contentData,this.config,this.mappingUtilities),this.feedProps=this.getFeedData(),this.contentType=this.contentData.type,this.colorSamples=this.contentData.colorSamples,this.enableLoadingState&&(null===(e=this.infiniteReadingContext)||void 0===e||null===(t=e.updateInitialContentLoadingState)||void 0===t||t.call(e,1)),this.setBannerAdStart(),this.updateDocumentTitle(this.contentData.title),await(0,h.b1)(),this.loadTopSpanModuleContent(),this.updateLeadgen(),this.setShareBridge()}updateDocumentTitle(e){if(!this.documentTitleCb||"function"!=typeof this.documentTitleCb)return;this.documentTitleCb=this.infiniteReadingContext?this.documentTitleCb.bind(this,e):this.documentTitleCb;(!this.infiniteReadingContext||this.infiniteReadingContext.isMainArticle)&&this.documentTitleCb(e)}trackThirdParty(e){var t;if((null===(t=this.contentData)||void 0===t?void 0:t.type)===_.Q.Article){var i,n;const t=null===(i=this.config.componentConfigs)||void 0===i||null===(n=i.articlePageConfig)||void 0===n?void 0:n.partnerThirdPartyTrackers;(0,U.trackThirdPartyProviders)(e,this.contentId,t)}}async setupViewsTracker(e){const{provider:t,id:i,title:n,type:o}=e,r=L.Qh.get(o)||"video",a={providerData:(s=t,{...s,logo:s.logo&&Ce(s.logo),promotionalLogo:s.promotionalLogo&&Ce(s.promotionalLogo),thumbnailLogo:s.thumbnailLogo&&Ce(s.thumbnailLogo),upsellImage:s.upsellImage&&Ce(s.upsellImage)}),entityId:i,entitySrc:L.yg.get(o)||"",contentTitle:n,isLocalContent:(0,O.Tz)(e)};var s;const{vertical:d,category:l}=le(e);d&&(a.verticalKey=d),a.categoryKey=l||"other";const c=new j.m(a);this.infiniteReadingContext?(c.pageUrl=this.infiniteReadingContext.baseContentUrl,c.referralUrl=this.infiniteReadingContext.referralUrl,c.pageOrigin=this.infiniteReadingContext.isMainArticle?void 0:L.dq,c.pageType=L.Ck.get(r),c.pageName=G.q.getPageName(r,void 0,void 0,!0),Q.i.addContentEntry(i,c.getMetadataOverride()),this.infiniteReadingContext.initializedPromise&&await this.infiniteReadingContext.initializedPromise,this.infiniteReadingContext.isMainArticle||(0,H.kB)(i,this.getRequestIdOverride()),(0,H.P9)(i,`${L.BS}-depth`,`${this.infiniteReadingContext.scrollDepth}`)):(0,H.P9)(i,`${L.BS}-depth`,"1"),await c.trackPageAsync(void 0,1,void 0,!0),this.trackThirdParty(t),this.infiniteReadingContext&&Q.i.dwellTimeStart(i)}getExperienceType(){return C.x.consumptionPage}updateActionTrayStyles(){this.actionTrayGridAreaStyles=this.getActionTrayGridAreaStyles(),this.actionTrayWrapperStyles=this.getActionTrayWrapperStyles()}getActionTrayGridAreaStyles(){let e="";if(window.matchMedia("(max-width: 767px)").matches&&this.consumptionPageContentHeight){var t;e+=`height: ${((null===(t=this.consumptionPageContentRef)||void 0===t?void 0:t.offsetHeight)||0)+this.viewsHeaderHeight+this.bannerAdHeight}px`}return e}updateRightRailVisibility(){this.isRailBelow=this.shouldShowRailBelow()}shouldShowRailBelow(){return!!this.isRightRailReady&&(this.columnArrangement===w.K$.c2||window.matchMedia(`(max-width: ${ie})`).matches)}getVerticalCategory(e){return{vertical:e?le(e).vertical??"other":"other",category:e?le(e).category??"other":"other"}}getFeedData(){var e,t;const{feedWC:i}=this.config.slots;if(!i)return;const{vertical:n,category:o}=this.getVerticalCategory(this.contentData),r={contentID:this.contentId,verticalKeyOverride:n,categoryKeyOverride:o,context:{disableAds:this.disableAds},mappedPageType:this.config.nativeAdMappedPageType,partnerId:L.Qh.get((null===(e=this.contentData)||void 0===e?void 0:e.type)||_.Q.Video)||"video",pageNumber:(null===(t=this.infiniteReadingContext)||void 0===t?void 0:t.scrollDepth)||1};var a,s;(r.maxVisibleRows=this.getMaxFeedRows(),r.isInfiniteScrollFeed=this.isInfiniteScrollFeed(),this.infiniteReadingAvailableCards&&(r.infiniteReadingCards=this.infiniteReadingAvailableCards),this.infiniteReadingContext&&this.infiniteReadingContext.infiniteReadingRiverHelper&&(r.infiniteReadingRiverHelper=this.infiniteReadingContext.infiniteReadingRiverHelper),this.config.enableSegmentRiver)&&(r.providerProfileId=null===(a=this.contentProps)||void 0===a?void 0:a.header.provider.profileId,r.providerName=null===(s=this.contentProps)||void 0===s?void 0:s.header.provider.name);return r}getMaxFeedRows(){var e;if(null!==(e=this.infiniteReadingDynamicProps)&&void 0!==e&&e.hasInfiniteRiver)return;const t=(0,k.c)(this.config.featureFlags||{},k.T.enable2RowRiver),i=(0,k.c)(this.config.featureFlags||{},k.T.enableExtendedRiver);return t&&i&&this.columnArrangement===w.K$.c5?2:(0,O.ep)(this.config.maxFeedRows,this.isNextContent(),this.config.nextContentMaxFeedRows)}isMangaContent(){if(this.isNextContent()){var e;const t=null===(e=this.infiniteReadingContext)||void 0===e?void 0:e.baseContentUrl;return null!=t&&t.includes("/manga/")}return(0,O.OG)(new p.fH)}isNextContent(){return this.infiniteReadingContext&&!this.infiniteReadingContext.isMainArticle}isInfiniteScrollFeed(){var e;return!(null===(e=this.infiniteReadingDynamicProps)||void 0===e||!e.hasInfiniteRiver)}composeActionTrayProps(e){if(e)return{...e,moreActions:{...e.moreActions,cardStatus:this.cardActionState,refreshFeedCallback:this.removePageFromTheFeed},disableNextBtn:!!this.isInfiniteScrollFeed(),disablePrevBtn:!!this.infiniteReadingContext.isMainArticle}}updateLeadgenData(e){this.shouldRenderEoabLeadgen=!!this.shouldRenderLeadgenEoab(e),this.shouldRenderEoabLeadgen&&!this.leadGenCardProps&&(this.leadGenCardProps=this.getLeadgenProps(e))}shouldRenderLeadgenEoab(e){var t;return e.leadgen&&!(null!==(t=this.config.noSSOLeadgenProviders)&&void 0!==t&&t.includes(e.id||""))}getLeadgenProps(e){var t,i,n,o,r,a,s;const d=null===(t=this.config.componentConfigs)||void 0===t||null===(i=t.endOfContentBlockConfigs)||void 0===i||null===(n=i.slots)||void 0===n?void 0:n.endOfContentLeadGen,l=this.getLeadgen(e.id,e.leadgen);return d&&l?{cardWidthType:null===(o=this.config.componentConfigs)||void 0===o||null===(r=o.endOfContentBlockConfigs)||void 0===r?void 0:r.leadGenCardWidthType,experienceConfigInfo:{...d,instanceId:`${d.instanceId}-${this.contentId}`},contentId:this.contentId,publisherProfileId:e.profileId,leadgen:l,providerLeadgenData:(0,O.Z4)(e.name),providerLogoUrl:null===(a=this.contentProps)||void 0===a||null===(s=a.header.provider.logo)||void 0===s?void 0:s.src}:void 0}getLeadgen(){var e,t,i,n,o;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;return null!==(e=this.config.componentConfigs)&&void 0!==e&&null!==(t=e.articlePageConfig)&&void 0!==t&&t.leadGenProviders?null===(i=this.config.componentConfigs)||void 0===i||null===(n=i.articlePageConfig)||void 0===n||null===(o=n.leadGenProviders.find((e=>e.providerId===r)))||void 0===o?void 0:o.leadgen:a}shouldRenderActionTray(){var e;return this.config.slots.actionTray&&(null===(e=this.contentProps)||void 0===e?void 0:e.actionTray)}shouldDisableAds(){var e;const t=this.contentData;if(!t)return;const i=le(t).category||"other";return(0,k.c)(null===(e=this.config)||void 0===e?void 0:e.featureFlags,k.T.forceDisableAds)||!!(i&&this.config.disAdsForCategs&&this.config.disAdsForCategs[i])||t.facets&&(0,O.Gi)(t.facets)}trySetTTVRAndMilestone(e,t){if(this.markTimeToVisuallyReadyCalled)return;let i=!0,n=-1;-1===this.expTTVRDependentList.get(e)&&(this.expTTVRDependentList.set(e,t),this.expTTVRDependentList.forEach((e=>{-1===e&&(i=!1),e>n&&(n=e)})),i&&(super.markVisuallyReady(n),this.markTimeToVisuallyReadyCalled=!0))}async loadTopSpanModuleContent(){this.topSpanModuleContent=await this.getTopSpanModuleContent(!!this.viewsContentTopicId),this.contentType===_.Q.Article&&this.topSpanModuleContent&&this.topSpanRef&&window.addEventListener("scroll",this.setVerticalSpanVisibility)}isTopSpanContentDisabled(e){var t,i;if(!e)return!1;const n=null===(t=this.config.componentConfigs)||void 0===t||null===(i=t.topSpanConfig)||void 0===i?void 0:i[e];var o,r,a,s,d,l;return!!n&&!!(null!=n&&null!==(o=n.disabledForVertical)&&void 0!==o&&o.includes((null===(r=this.contentProps)||void 0===r||null===(a=r.topSpan)||void 0===a?void 0:a.vertical)||"")||null!=n&&null!==(s=n.disabledForCategory)&&void 0!==s&&s.includes((null===(d=this.contentProps)||void 0===d||null===(l=d.topSpan)||void 0===l?void 0:l.category)||""))}}Se.definition={shadowOptions:null},Se.smallBannerAdContainerHeight=115,Se.largeBannerAdContainerHeight=275,(0,n.gn)([a.LO],Se.prototype,"actionTrayGridAreaStyles",void 0),(0,n.gn)([a.LO],Se.prototype,"actionTrayWrapperStyles",void 0),(0,n.gn)([a.LO],Se.prototype,"bannerAdRef",void 0),(0,n.gn)([a.LO],Se.prototype,"bannerAdWrapperClassnames",void 0),(0,n.gn)([a.LO],Se.prototype,"cardActionState",void 0),(0,n.gn)([a.LO],Se.prototype,"columnArrangement",void 0),(0,n.gn)([a.LO],Se.prototype,"commonHeaderHeight",void 0),(0,n.gn)([a.LO],Se.prototype,"consumptionPageContentHeaderRef",void 0),(0,n.gn)([a.LO],Se.prototype,"consumptionPageContentHeight",void 0),(0,n.gn)([a.LO],Se.prototype,"consumptionPageContentRef",void 0),(0,n.gn)([a.LO],Se.prototype,"consumptionPageRef",void 0),(0,n.gn)([a.LO],Se.prototype,"consumptionPageStructureRef",void 0),(0,n.gn)([a.LO],Se.prototype,"consumptionPageViewsHeaderAreaRef",void 0),(0,n.gn)([a.LO],Se.prototype,"contentProps",void 0),(0,n.gn)([a.LO],Se.prototype,"contentType",void 0),(0,n.gn)([a.LO],Se.prototype,"dwellTimeStartAllowedClassName",void 0),(0,n.gn)([a.LO],Se.prototype,"feedProps",void 0),(0,n.gn)([a.LO],Se.prototype,"isImmersiveFullscreenOpen",void 0),(0,n.gn)([a.LO],Se.prototype,"isRailBelow",void 0),(0,n.gn)([a.LO],Se.prototype,"isLargeBannerAd",void 0),(0,n.gn)([a.LO],Se.prototype,"topBannerAdClassnames",void 0),(0,n.gn)([a.LO],Se.prototype,"topBannerAdCSS",void 0),(0,n.gn)([a.LO],Se.prototype,"topSpanModuleContent",void 0),(0,n.gn)([a.LO],Se.prototype,"topSpanRef",void 0),(0,n.gn)([a.LO],Se.prototype,"renderSideSpan",void 0),(0,n.gn)([a.LO],Se.prototype,"topSpanModuleInfos",void 0),(0,n.gn)([a.LO],Se.prototype,"viewsHeaderColorSampleCSS",void 0),(0,n.gn)([a.LO],Se.prototype,"viewsHeaderHeight",void 0),(0,n.gn)([a.LO],Se.prototype,"viewsHeaderRef",void 0),(0,n.gn)([a.LO],Se.prototype,"bannerAdStart",void 0),(0,n.gn)([a.LO],Se.prototype,"leadGenCardProps",void 0),(0,n.gn)([a.LO],Se.prototype,"shouldRenderEoabLeadgen",void 0),(0,n.gn)([a.LO],Se.prototype,"disableAds",void 0),(0,n.gn)([a.LO],Se.prototype,"errorState",void 0),(0,n.gn)([a.LO],Se.prototype,"mainBannerAdProps",void 0),(0,n.gn)([a.LO],Se.prototype,"enableRR1Column",void 0),(0,n.gn)([a.LO],Se.prototype,"backgroundColorValue",void 0),(0,n.gn)([a.lk],Se.prototype,"bannerAdStyles",null),(0,n.gn)([a.lk],Se.prototype,"riverHeadingClassnames",null),(0,n.gn)([a.lk],Se.prototype,"contentAreaClassname",null),(0,n.gn)([a.lk],Se.prototype,"bannerAdHeight",null),(0,n.gn)([a.lk],Se.prototype,"errorText",null),(0,n.gn)([a.lk],Se.prototype,"isRightRailReady",null);var $e=i(49218),Ie=i(93703),Re=i(41472),Fe=i(89150),Le=i(49903),Oe=i(28904),De=i(78923),Me=i(68178);const ke=De.i` .eocb-ads{width:auto;display:flex;flex-direction:column;align-items:center;padding:0px 32px 32px 32px;border-radius:10px;box-shadow:0px 4px 8px 0px rgba(0,0,0,0.14);border:1px solid rgba(0,0,0,0.08);background:${(0,Me.Y)()?"rgba(0, 0, 0, 0.1)":"rgb(247 247 247)"}}${(0,w.vW)(null,w.K$.c3)}{.eocb-ads{padding:0;background:transparent;box-shadow:none;border:none}}.eocb-ads-title{padding:8px;color:${(0,Me.Y)()?"#FFFFFF":"#717171"};font-weight:bold;line-height:30px;font-size:16px}.eocb-ads-content{min-height:300px}`;function Be(e,t){return 1===t?e:$e.dy`<div></div>`}const He=$e.dy`<div class="eocb-ads"><span class="eocb-ads-title">${e=>{var t;return(null===(t=e.config.localizedStrings)||void 0===t?void 0:t.sponsoredContentEocbAdHeading)||"Sponsored Content"}}</span><div class="eocb-ads-content">${e=>{var t;return(0,Le.Ot)(e.config.slots.endOfContentNativeAd,{properties:{props:{...null===(t=e.childProps)||void 0===t?void 0:t.eocbNativeAds,isFullWidth:e.columnView===w.K$.c1}}})}}</div></div>`,Ne=$e.dy`<div class="eocb-views">${e=>{var t;return(0,Le.Ot)(e.config.slots.endOfContentViews,{properties:{...null===(t=e.childProps)||void 0===t?void 0:t.eocbViews,positionCallback:e.eocbPositionCallback}})}}</div>`,_e=$e.dy` ${(0,Ie.g)((e=>e.leadGenCardProps),$e.dy` ${e=>{var t;return(0,Le.Ot)(null===(t=e.leadGenCardProps)||void 0===t?void 0:t.experienceConfigInfo,{properties:e.leadGenCardProps})}} `)}
`,Ee=$e.dy` ${(0,Ie.g)((e=>{var t;return!(null===(t=e.childProps)||void 0===t||!t.eocbViews||e.eocbPosition!==oe.S.AboveTopicsForYou&&e.eocbPosition!==oe.S.ReplaceTopicsForYou)}),(()=>$e.dy`${Ne}`))} ${(0,Ie.g)((e=>{var t,i;return!(e.disableAds||e.isImmersiveFullscreenOpen||!e.config.slots.endOfContentNativeAd||null===(t=e.childProps)||void 0===t||!t.eocbNativeAds||null!==(i=e.childProps)&&void 0!==i&&i.eocbViews&&e.eocbPosition===oe.S.ReplaceTopicsForYou)}),(()=>$e.dy` ${He} `))} ${(0,Ie.g)((e=>{var t;return!(null===(t=e.childProps)||void 0===t||!t.eocbViews)&&e.eocbPosition===oe.S.BelowTopicsForYou}),(()=>$e.dy`${Ne}`))}
`,Ve=$e.dy`${e=>e.leadGenCardProps?_e:Be(Ee,e.loadState)}`;var We=i(42590);function ze(e,t,i,n){return{contentId:e,vertical:i,category:n,featureFlagMapping:t}}class Ue extends Oe.H{constructor(){super(...arguments),this.eocbPosition=oe.S.ReplaceTopicsForYou,this.loadState=0,this.eocbPositionCallback=e=>{this.eocbPosition=e}}leadGenCardPropsChanged(){this.leadGenCardProps&&(this.loadState=1)}configChanged(){var e,t,i;Ae(this.config.slots,this.contentId),this.childProps={eocbNativeAds:this.config.slots.endOfContentNativeAd?(e=this.contentId,t=this.nativeAdMappedPageType,i=this.nativeAdPartnerId,{contentId:e,mappedPageType:t,partnerId:i}):void 0,eocbViews:this.config.slots.endOfContentViews?ze(this.contentId,this.featureFlagMapping,this.vertical,this.category):void 0},this.loadState=1}}(0,n.gn)([(0,We.Lj)({attribute:"content-id"})],Ue.prototype,"contentId",void 0),(0,n.gn)([We.Lj],Ue.prototype,"vertical",void 0),(0,n.gn)([We.Lj],Ue.prototype,"category",void 0),(0,n.gn)([a.LO],Ue.prototype,"columnView",void 0),(0,n.gn)([a.LO],Ue.prototype,"isFirstArticle",void 0),(0,n.gn)([a.LO],Ue.prototype,"eocbPosition",void 0),(0,n.gn)([a.LO],Ue.prototype,"childProps",void 0),(0,n.gn)([a.LO],Ue.prototype,"loadState",void 0),(0,n.gn)([a.LO],Ue.prototype,"isImmersiveFullscreenOpen",void 0),(0,n.gn)([a.LO],Ue.prototype,"leadGenCardProps",void 0);let je=class extends Ue{};je=(0,n.gn)([(0,Oe.M)({name:"end-of-content-block",template:Ve,styles:ke})],je);var Ge=i(51947);const Qe=$e.dy`<div class="article-content">${(0,Ie.g)((e=>{var t;return null===(t=e.props)||void 0===t?void 0:t.context}),$e.dy`<msn-article-page :articleId="${e=>{var t;return null===(t=e.props)||void 0===t?void 0:t.id}}" :config="${e=>e.config}" :localizedStrings="${e=>e.localizedStrings}" :rootTelemetryObject="${e=>e.rootTelemetryObject}" :infiniteReadingContext="${e=>{var t;return null===(t=e.props)||void 0===t?void 0:t.context.infiniteReadingContext}}" :stampPagePZeroTTVR="${e=>e.stampPagePZeroTTVR}" :handleFatalError="${e=>e.handleFatalError}" :onToggleImmersiveFullscreen="${e=>{var t;return null===(t=e.props)||void 0===t?void 0:t.context.onToggleImmersiveFullscreen}}" :articleData="${e=>{var t;return null===(t=e.props)||void 0===t?void 0:t.context.articleData}}" :enableIntraVideosBugFix="${e=>{var t;return null===(t=e.props)||void 0===t?void 0:t.context.enableIntraVideosBugFix}}" :enableExtendedArrowHitbox="${e=>{var t;return null===(t=e.props)||void 0===t?void 0:t.context.enableExtendedArrowHitbox}}" :enableImmersiveOnClick="${e=>{var t;return null===(t=e.props)||void 0===t?void 0:t.context.enableImmersiveOnClick}}" :disableSlideClick="${e=>{var t;return null===(t=e.props)||void 0===t?void 0:t.context.disableSlideClick}}" :disableAds="${e=>{var t;return null===(t=e.props)||void 0===t?void 0:t.context.disableAds}}" :shouldRenderEoabLeadgen="${e=>e.shouldRenderEoabLeadgen}" :providerLogoUrl=${e=>e.providerLogoUrl}></msn-article-page>`)}</div>`;class Ke extends Oe.H{connectedCallback(){super.connectedCallback()}}(0,n.gn)([a.LO],Ke.prototype,"props",void 0),(0,n.gn)([a.LO],Ke.prototype,"config",void 0),(0,n.gn)([a.LO],Ke.prototype,"localizedStrings",void 0),(0,n.gn)([a.LO],Ke.prototype,"rootTelemetryObject",void 0),(0,n.gn)([a.LO],Ke.prototype,"stampPagePZeroTTVR",void 0),(0,n.gn)([a.LO],Ke.prototype,"shouldRenderEoabLeadgen",void 0),(0,n.gn)([a.LO],Ke.prototype,"providerLogoUrl",void 0),(0,n.gn)([a.LO],Ke.prototype,"handleFatalError",void 0);let qe=class extends Ke{};qe=(0,n.gn)([(0,Oe.M)({name:"article-content",template:Qe,shadowOptions:null})],qe);const Ye=De.i`
`,Ze=$e.dy`<gallery-slideshow :contentId=${e=>e.props.id} :parentContentId=${e=>e.props.id} :contentPageType=${e=>e.contentPageType} :parentPageType=${e=>e.parentPageType} :mappedPageType=${e=>e.context.mappedPageType} :strings=${e=>e.localizedStrings} :swipeable=${!0} :hideNumber=${!0} :infiniteReadingContext=${e=>e.context.infiniteReadingContext} :useFullWidthOnFiveCol=${e=>(0,k.c)(e.config.featureFlags,k.T.useFullWidthOnFiveCol)} :onOpenImmersiveCallback=${e=>e.context.onToggleImmersiveFullscreen} :enableDisplayAdsSlideshowRefresh=${e=>(0,k.c)(e.config.featureFlags,k.T.enableDspAdsRefresh)} :loadAdsOnLoad=${e=>(0,k.c)(e.config.featureFlags,k.T.eagerLoadInstAds)} :slideshowData=${e=>e.slideshowData} :nextSlideshowPromise=${e=>e.context.nextSlideshowPromise} :parentTelemetryObject=${e=>e.context.telemetryObject} :enableExtendedArrowHitbox=${e=>e.context.enableExtendedArrowHitbox} :enableImmersiveOnClick=${e=>e.context.enableImmersiveOnClick} :disableSlideClick=${e=>e.context.disableSlideClick} :hasAutorotateUX=${e=>(0,k.c)(e.config.featureFlags,k.T.enableAutorotate)} :autorotateTimeInMs=${e=>e.autorotateTimeInMs} :autorotateAdRfshRate=${e=>e.config.autorotateAdRfshRate} :enableImmersiveFullscreen=${e=>(0,k.c)(e.config.featureFlags,k.T.enableImmersiveFullscreen)} :enableDynamicAutorotate=${e=>(0,k.c)(e.config.featureFlags,k.T.dynamicAutorotate)} :providerId=${e=>{var t,i;return null===(t=e.context.slideshowData)||void 0===t||null===(i=t.provider)||void 0===i?void 0:i.id}} :enableSlidePreload=${e=>(0,k.c)(e.config.featureFlags,k.T.enableSlidePreload)} :relativeInterstitialIndex=${e=>(0,k.c)(e.config.featureFlags,k.T.relativeInterstitialIndex)} :enableUpNextSlideshowThumbnail=${e=>(0,k.c)(e.config.featureFlags,k.T.enableUpNextSlideshowThumbnail)}></gallery-slideshow>`,Xe=$e.dy` ${e=>(0,Le.Ot)(e.config.slots.immersiveFullscreen,{properties:{context:e.immersiveSlideshowContext,isRenderWCEFromReact:!1,useWCSlideshowTemplate:!0,onCloseCallback:e.context.onToggleImmersiveFullscreen}})}
`,Je=$e.dy` ${(0,Ie.g)((e=>e.isImmersiveFullscreenOpen),Xe,Ze)}
`,et=$e.dy` ${e=>Be(Je,e.loadState)}
`;var tt=i(67961),it=i(28951);class nt extends Oe.H{constructor(){super(...arguments),this.loadState=0,this.useWebPImageFormat=!1}connectedCallback(){if(super.connectedCallback(),Ae(this.config.slots,this.props.id),this.context=this.props.context,this.contentPageType="gallery",this.parentPageType="gallery",this.useWebPImageFormat=(0,k.c)(this.config.featureFlags,k.T.useWebPImageFormat),this.prepareSlideshowSettings(),this.prepareSlideshowFullscreenSettings(),this.immersiveSlideshowContext={contentId:this.props.id,parentContentId:this.props.id,contentPageType:this.contentPageType,parentPageType:this.parentPageType,mappedPageType:this.context.mappedPageType,strings:this.localizedStrings,parentTelemetryObject:this.context.telemetryObject,fullScreenSlots:this.config.fullScreenSlideshowSettings.slots,slideshowData:this.slideshowFullscreenData,enableDisplayAdsSlideshowRefresh:(0,k.c)(this.config.featureFlags,k.T.enableDspAdsRefresh),loadAdsOnLoad:(0,k.c)(this.config.featureFlags,k.T.eagerLoadInstAds),nextSlideshowPromise:this.context.nextSlideshowPromise,relativeInterstitialIndex:(0,k.c)(this.config.featureFlags,k.T.relativeInterstitialIndex),enableUpNextSlideshowThumbnail:(0,k.c)(this.config.featureFlags,k.T.enableUpNextSlideshowThumbnail),telemetryOverrides:{pageName:G.q.getPageName("gallery")}},this.loadState=1,(0,k.c)(this.config.featureFlags,k.T.enableAutorotate)){var e;this.autorotateTimeInMs=this.config.autorotateTimeInMs;const t=null===(e=it.c.getParamsWithItems(location.search,!0,"citem").find((e=>{let{key:t}=e;return"autorotateTime"===t})))||void 0===e?void 0:e.value;t&&(this.autorotateTimeInMs=parseInt(t,10))}}prepareSlideshowSettings(){var e,t;this.slideshowData=(0,tt.tQ)(this.config.slideshowSettings.imageSettings,this.config.slideshowSettings.thumbnailImageSettings,this.config.interstitialNativeAds,(null===(e=this.localizedStrings)||void 0===e?void 0:e.adSlideMetadataText)||"",(null===(t=this.localizedStrings)||void 0===t?void 0:t.adSlideMetadataTitleText)||"",this.context.slideshowData,this.props.id,this.context.disableAds,this.useWebPImageFormat,void 0,(0,k.c)(this.config.featureFlags,k.T.enableAutorotate))}prepareSlideshowFullscreenSettings(){var e,t;this.slideshowFullscreenData=(0,tt.tQ)(this.config.fullScreenSlideshowSettings.imageSettings,this.config.fullScreenSlideshowSettings.thumbnailImageSettings,this.config.interstitialNativeAds,(null===(e=this.localizedStrings)||void 0===e?void 0:e.adSlideMetadataText)||"",(null===(t=this.localizedStrings)||void 0===t?void 0:t.adSlideMetadataTitleText)||"",this.context.slideshowData,this.props.id,this.context.disableAds,this.useWebPImageFormat)}}(0,n.gn)([a.LO],nt.prototype,"isImmersiveFullscreenOpen",void 0),(0,n.gn)([a.LO],nt.prototype,"slideshowData",void 0),(0,n.gn)([a.LO],nt.prototype,"slideshowFullscreenData",void 0),(0,n.gn)([a.LO],nt.prototype,"loadState",void 0);let ot=class extends nt{};ot=(0,n.gn)([(0,Oe.M)({name:"gallery-content",template:et,styles:Ye,shadowOptions:null})],ot);const rt=De.i` .video-content{aspect-ratio:16 / 9;width:100%}.video-abstract{margin-top:20px}`;i(65706).y;const at=$e.dy`<div class="video-content-wrapper"><div class="video-content">${e=>(0,Le.Ot)(e.config.slots.content,{properties:e.props})}</div><div class="video-abstract"><text-inline-expander :text=${e=>e.props.context.videoData.abstract||""} :strings=${e=>e.getLocalizedStringsToTextInlineStrings()} :lineCountClampSeeMore=${e=>e.config.abstractLineClamp} :shouldSeeMoreBelowText=${!0}></text-inline-expander></div></div>`,st=$e.dy`${e=>Be(at,e.loadState)}`;class dt extends Oe.H{constructor(){super(...arguments),this.loadState=0}connectedCallback(){super.connectedCallback(),Ae(this.config.slots,this.props.id),this.loadState=1}getLocalizedStringsToTextInlineStrings(){var e,t;return{seeLess:(null===(e=this.localizedStrings)||void 0===e?void 0:e.seeLessDescriptionLabel)||"",seeMore:(null===(t=this.localizedStrings)||void 0===t?void 0:t.seeMoreDescriptionLabel)||""}}}(0,n.gn)([a.LO],dt.prototype,"loadState",void 0);let lt=class extends dt{};lt=(0,n.gn)([(0,Oe.M)({name:"video-content",template:st,styles:rt,shadowOptions:null})],lt);const ct=De.i`
`,pt=$e.dy`<manga-page-wc :contentId=${e=>e.props.id} :contentPageType=${e=>e.contentPageType} :strings=${e=>e.localizedStrings} :infiniteReadingContext=${e=>e.context.infiniteReadingContext} :slideshowData=${e=>e.slideshowData}></manga-page-wc>`,gt=$e.dy` ${e=>Be(pt,e.loadState)}
`;class ut extends Oe.H{constructor(){super(...arguments),this.loadState=0,this.useWebPImageFormat=!1}connectedCallback(){super.connectedCallback(),Ae(this.config.slots,this.props.id),this.context=this.props.context,this.contentPageType="gallery",this.parentPageType="gallery",this.useWebPImageFormat=(0,k.c)(this.config.featureFlags,k.T.useWebPImageFormat),this.prepareSlideshowSettings(),this.prepareSlideshowFullscreenSettings(),this.immersiveSlideshowContext={contentId:this.props.id,parentContentId:this.props.id,contentPageType:this.contentPageType,parentPageType:this.parentPageType,mappedPageType:this.context.mappedPageType,strings:this.localizedStrings,parentTelemetryObject:this.context.telemetryObject,fullScreenSlots:this.config.fullScreenSlideshowSettings.slots,slideshowData:this.slideshowFullscreenData,enableDisplayAdsSlideshowRefresh:(0,k.c)(this.config.featureFlags,k.T.enableDspAdsRefresh),loadAdsOnLoad:(0,k.c)(this.config.featureFlags,k.T.eagerLoadInstAds),nextSlideshowPromise:this.context.nextSlideshowPromise,telemetryOverrides:{pageName:G.q.getPageName("gallery")}},this.loadState=1}prepareSlideshowSettings(){var e,t;this.slideshowData=(0,tt.tQ)(this.config.slideshowSettings.imageSettings,this.config.slideshowSettings.thumbnailImageSettings,this.config.interstitialNativeAds,(null===(e=this.localizedStrings)||void 0===e?void 0:e.adSlideMetadataText)||"",(null===(t=this.localizedStrings)||void 0===t?void 0:t.adSlideMetadataTitleText)||"",this.context.slideshowData,this.props.id,this.context.disableAds,this.useWebPImageFormat,void 0,(0,k.c)(this.config.featureFlags,k.T.enableAutorotate))}prepareSlideshowFullscreenSettings(){var e,t;this.slideshowFullscreenData=(0,tt.tQ)(this.config.fullScreenSlideshowSettings.imageSettings,this.config.fullScreenSlideshowSettings.thumbnailImageSettings,this.config.interstitialNativeAds,(null===(e=this.localizedStrings)||void 0===e?void 0:e.adSlideMetadataText)||"",(null===(t=this.localizedStrings)||void 0===t?void 0:t.adSlideMetadataTitleText)||"",this.context.slideshowData,this.props.id,this.context.disableAds,this.useWebPImageFormat)}}(0,n.gn)([a.LO],ut.prototype,"isImmersiveFullscreenOpen",void 0),(0,n.gn)([a.LO],ut.prototype,"rootTelemetryObject",void 0),(0,n.gn)([a.LO],ut.prototype,"stampPagePZeroTTVR",void 0),(0,n.gn)([a.LO],ut.prototype,"shouldRenderEoabLeadgen",void 0),(0,n.gn)([a.LO],ut.prototype,"slideshowData",void 0),(0,n.gn)([a.LO],ut.prototype,"slideshowFullscreenData",void 0),(0,n.gn)([a.LO],ut.prototype,"loadState",void 0);let ht=class extends ut{};ht=(0,n.gn)([(0,Oe.M)({name:"manga-content",template:gt,styles:ct,shadowOptions:null})],ht);var vt=i(92541);i(95741).Ug,Ge.H,vt.ContentCardListicle;const mt=(e,t,i,n)=>i&&$e.dy`<article-content :config=${i} :rootTelemetryObject=${t} :localizedStrings=${n||{}} :props=${e} :stampPagePZeroTTVR=${e=>e.stampPagePZeroTTVR} :isImmersiveFullscreenOpen=${e=>e.isImmersiveFullscreenOpen} :shouldRenderEoabLeadgen=${e=>e.shouldRenderEoabLeadgen} :providerLogoUrl=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.header.provider.logo)||void 0===i?void 0:i.src}} :handleFatalError=${e=>e.handleFatalError}></article-content>`,ft=(e,t,i,n)=>{var o;return(null==i||null===(o=i.componentConfigs)||void 0===o?void 0:o.slideshowConfigs)&&$e.dy`<manga-content :config=${i.componentConfigs.slideshowConfigs} :localizedStrings=${(null==n?void 0:n.slideshow)||{}} :props=${e} :stampPagePZeroTTVR=${e=>e.stampPagePZeroTTVR} :rootTelemetryObject=${t} :shouldRenderEoabLeadgen=${e=>e.shouldRenderEoabLeadgen}></manga-content>`},bt=$e.dy`<div class="breaking-news-banner">${e=>(0,Le.Ot)(e.config.slots.breakingNews,{properties:{currentContentId:e.contentId}})}</div>`,yt=$e.dy`${e=>(0,Le.Ot)(e.config.slots.toastWC)}`,wt=$e.dy`<div class="consumption-page-banner-ad" id=${e=>{var t,i,n;return(null===(t=e.mainBannerAdProps)||void 0===t?void 0:t.id)??(null===(i=e.contentProps)||void 0===i||null===(n=i.bannerAd)||void 0===n?void 0:n.id)}}>${(0,Ie.g)((e=>{var t;return e.config.slots.bannerAd&&(e.mainBannerAdProps||(null===(t=e.contentProps)||void 0===t?void 0:t.bannerAd))&&!e.disableAds}),(e=>{var t;return(0,Le.Ot)(e.config.slots.bannerAd,{properties:e.infiniteReadingContext.isMainArticle?e.mainBannerAdProps:null===(t=e.contentProps)||void 0===t?void 0:t.bannerAd,memoize:!1})}))}</div>`,Ct=$e.dy`<div class="consumption-page-banner-wrapper" style=${e=>`${e.bannerAdStyles}background-color: ${e.backgroundColorValue};`} ${(0,Re.i)("bannerAdRef")}>${(0,Ie.g)((e=>Boolean(e.config.slots.bannerAd)),wt)} ${(0,Ie.g)((e=>e.infiniteReadingContext.isMainArticle&&Boolean(e.config.slots.breakingNews)),bt)}</div>`,Tt=$e.dy`<div class="social-bar-wrapper">${e=>{var t;return(0,Le.Ot)(e.config.slots.socialBarWC,{properties:{contentId:e.contentId,locale:null===(t=e.contentData)||void 0===t?void 0:t.locale,isCommentsInPage:!1,shareActionHandler:e.shareActionHandler}})}}
`,At=$e.dy`<div class=${e=>{var t;return(0,r.A)("consumption-page-content-header",["consumption-page-content-header-no-border",Boolean(null===(t=e.config.slots)||void 0===t?void 0:t.socialBarWC)])}} ${(0,Re.i)("consumptionPageContentHeaderRef")}><views-header-wc :contentId=${e=>{var t;return null===(t=e.contentProps)||void 0===t?void 0:t.header.contentId}} :config=${e=>{var t;return null===(t=e.config.componentConfigs)||void 0===t?void 0:t.viewsHeaderConfigs}} :isOpinion=${e=>{var t;return null===(t=e.contentProps)||void 0===t?void 0:t.header.isOpinion}} :localizedStrings=${e=>{var t;return null===(t=e.config.localizedStrings)||void 0===t?void 0:t.viewsHeader}} :visualReadinessCallback=${e=>e.stampPagePZeroTTVR} :enablePublisherFlyout=${e=>{var t;return null===(t=e.contentProps)||void 0===t?void 0:t.header.enablePublisherFlyout}} :providerId=${e=>{var t;return null===(t=e.contentProps)||void 0===t?void 0:t.header.provider.id}} :providerLogoUrl=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.header.provider.logo)||void 0===i?void 0:i.src}} :providerName=${e=>{var t;return null===(t=e.contentProps)||void 0===t?void 0:t.header.provider.name}} :providerProfileId=${e=>{var t;return null===(t=e.contentProps)||void 0===t?void 0:t.header.provider.profileId}} :providerUrl=${e=>{var t;return null===(t=e.contentProps)||void 0===t?void 0:t.header.provider.url}} :publishedDateString=${e=>{var t;return null===(t=e.contentProps)||void 0===t?void 0:t.header.publishedDateString}} :removeDivider=${e=>{var t;return null===(t=e.contentProps)||void 0===t?void 0:t.header.removeDivider}} :viewsAuthors=${e=>{var t;return null===(t=e.contentProps)||void 0===t?void 0:t.header.author}} :viewsHeaderText=${e=>{var t;return null===(t=e.contentProps)||void 0===t?void 0:t.header.title}} :enableLargeLogo=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.header)||void 0===i?void 0:i.enableLargeLogo}} :enableNewProviderHeader=${e=>e.enableNewProviderBannerDesign} :viewsheaderTelemetryContentData=${e=>{var t;return null===(t=e.contentProps)||void 0===t?void 0:t.header.viewsHeaderTelemetryContentData}} :rootTelemetryObject=${e=>e.telemetryObject} ${(0,Re.i)("viewsHeaderRef")}></views-header-wc>${(0,Ie.g)((e=>{var t;return null===(t=e.config.slots)||void 0===t?void 0:t.socialBarWC}),Tt)}</div>`,xt=$e.dy`<div class=${e=>(0,r.A)(["consumption-page-eocb",!e.leadGenCardProps],["consumption-page-gridarea_eocb_leadgen",!!e.leadGenCardProps])}><end-of-content-block :category=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.endOfContentBlock)||void 0===i?void 0:i.category}} :columnView=${e=>e.columnArrangement} :config=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.endOfContentBlock)||void 0===i?void 0:i.config}} :contentId=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.endOfContentBlock)||void 0===i?void 0:i.contentId}} :enableEoabNativeXandr=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.endOfContentBlock)||void 0===i?void 0:i.enableEoabNativeXandr}} :featureFlagMapping=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.endOfContentBlock)||void 0===i?void 0:i.featureFlagMapping}} :nativeAdMappedPageType=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.endOfContentBlock)||void 0===i?void 0:i.nativeAdMappedPageType}} :nativeAdPartnerId=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.endOfContentBlock)||void 0===i?void 0:i.nativeAdPartnerId}} :vertical=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.endOfContentBlock)||void 0===i?void 0:i.vertical}} :disableAds=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.endOfContentBlock)||void 0===i?void 0:i.disableAds}} :isImmersiveFullscreenOpen=${e=>e.isImmersiveFullscreenOpen} :leadGenCardProps=${e=>e.leadGenCardProps}></end-of-content-block></div>`,Pt=$e.dy`<views-right-rail :contentId=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.rail)||void 0===i?void 0:i.contentId}} :contentTitle=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.rail)||void 0===i?void 0:i.contentTitle}} :isAdsDisabled=${e=>{var t,i;return(null===(t=e.contentProps)||void 0===t||null===(i=t.rail)||void 0===i?void 0:i.disableAds)||e.isImmersiveFullscreenOpen}} :isHorizontalLayout=${e=>e.isRailBelow} :topPositionPx=${e=>e.bannerAdRef?80:127} :topDisplayAdConfig=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.rail)||void 0===i?void 0:i.config.slots.topDisplayAd}} :bottomDisplayAdConfig=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.rail)||void 0===i?void 0:i.config.slots.bottomDisplayAd}} :contentInfoForAd=${e=>{var t,i;return null===(t=e.contentProps)||void 0===t||null===(i=t.rail)||void 0===i?void 0:i.adProperties}} :skipInitialRenderingVisibilityCheckForAds=${e=>{var t;return null===(t=e.infiniteReadingContext)||void 0===t?void 0:t.isMainArticle}} :contentProviderCardConfig=${e=>e.contentProviderCardConfig} :publisherProfileId=${e=>{var t;return null===(t=e.contentProps)||void 0===t?void 0:t.header.provider.profileId}} :renderContentCard=${e=>{var t,i;return(null===(t=e.config.componentConfigs)||void 0===t||null===(i=t.rightRailConfigs)||void 0===i?void 0:i.topStoriesRequestConfig)&&(e=>{const t=e.config.componentConfigs.rightRailConfigs;return()=>{var i;return $e.dy`<content-card-listicle style="height: fit-content;" class=${e.isRailBelow?"rr-top-stories-below":""} :title=${((null==t||null===(i=t.localizedStrings)||void 0===i?void 0:i.topStoriesHeading)??"Top Stories").toUpperCase()} :cardDataProviderConfig=${(null==t?void 0:t.topStoriesRequestConfig)||{}} :iconSvg=${'<img src="https://assets.msn.com/staticsb/statics/latest/views/watch/icons/TrendingNewsRR.svg"/>'}></content-card-listicle>`}})(e)}}></views-right-rail>`,St=$e.dy`<h2 class=${e=>e.riverHeadingClassnames}>${e=>{var t;return(null===(t=e.config.localizedStrings)||void 0===t?void 0:t.riverHeading)||"More for You"}}</h2>`,$t=$e.dy`<div class="consumption-page-feed-wrapper" style="background-color: ${e=>e.backgroundColorValue};">${(0,Ie.g)((e=>!e.config.enableSegmentRiver),St)} ${e=>(0,Le.Ot)(e.config.slots.feedWC,{properties:e.feedProps})}</div>`,It=$e.dy`
${e=>{var t,i,n,o,r;return null!==(t=e.cardProps)&&void 0!==t&&t.experienceConfigInfo?(0,Le.Ot)((0,O.nv)(null===(i=e.cardProps)||void 0===i?void 0:i.experienceConfigInfo,`${null===(n=e.cardProps)||void 0===n||null===(o=n.experienceConfigInfo)||void 0===o?void 0:o.instanceId}-${null===(r=e.cardProps)||void 0===r?void 0:r.id}-top`),{properties:e.cardProps}):null}}
`,Rt=$e.dy`
${(0,Ie.g)(((e,t)=>{var i;return(null===(i=e.cardProps)||void 0===i?void 0:i.experienceConfigInfo)&&!t.parent.isTopSpanContentDisabled(e.card.type)}),It)}
`,Ft=$e.dy`<div class="top-span-module" ${(0,Re.i)("topSpanRef")}>${(0,Fe.rx)((e=>e.topSpanModuleContent),Rt)}</div>`,Lt=$e.dy`
${e=>{var t,i,n,o,r,a;return null!==(t=e.cardProps)&&void 0!==t&&t.experienceConfigInfo&&te.isModuleAllowed(null===(i=e.card)||void 0===i?void 0:i.type)?(0,Le.Ot)((0,O.nv)(null===(n=e.cardProps)||void 0===n?void 0:n.experienceConfigInfo,`${null===(o=e.cardProps)||void 0===o||null===(r=o.experienceConfigInfo)||void 0===r?void 0:r.instanceId}-${null===(a=e.cardProps)||void 0===a?void 0:a.id}-side`),{properties:{...e.cardProps,isStickyVertical:!0}}):null}}
`,Ot=$e.dy`<div class="side-span-module ${e=>e.renderSideSpan?"show-side-span-module":"hide-side-span-module"}">${(0,Fe.rx)((e=>e.topSpanModuleContent),Lt)}</div>`,Dt=$e.dy`<div class="consumption-page-gridarea_action" style=${e=>e.actionTrayGridAreaStyles}><div class="consumption-page-action-tray-wrapper" style=${e=>e.actionTrayWrapperStyles}>${e=>{var t;return(0,Le.Ot)(e.config.slots.actionTray,{properties:e.composeActionTrayProps(null===(t=e.contentProps)||void 0===t?void 0:t.actionTray),includeTelemetryTag:!1})}} ${(0,Ie.g)((e=>e.topSpanModuleContent),Ot)}</div></div>`,Mt=$e.dy`<div class="consumption-page-header_gradient" style=${e=>e.viewsHeaderColorSampleCSS+`; margin-top: ${e.bannerAdHeight}px`}></div>`,kt=$e.dy`<div class="consumption-page-gridarea_rail" style=${e=>`margin-top: ${e.bannerAdHeight}px;`}><div class="consumption-page-rail-wrapper">${Pt}</div></div>`,Bt=$e.dy`<div class="consumption-page ${e=>e.dwellTimeStartAllowedClassName}" id="${e=>`ViewsPageId-${e.contentId}`}" data-t="${e=>e.telemetryObject.getMetadataTag()}" ${(0,Re.i)("consumptionPageRef")}>${(0,Ie.g)((e=>!e.enableNewProviderBannerDesign),Mt)}<div class="consumption-page-structure" ${(0,Re.i)("consumptionPageStructureRef")}>${(0,Ie.g)((e=>e.shouldRenderActionTray()),Dt)}<div class="consumption-page-gridarea_content"><div class=${"viewsHeaderWrapper"} ${(0,Re.i)("consumptionPageViewsHeaderAreaRef")}>${(0,Ie.g)((e=>!e.isImmersiveFullscreenOpen),Ct)} ${(0,Ie.g)((e=>{var t;return null===(t=e.contentProps)||void 0===t?void 0:t.header}),At)}</div>${Ft}<div class="consumption-page-content-wrapper ${e=>e.contentAreaClassname}" ${(0,Re.i)("consumptionPageContentRef")}>${e=>{var t;return(null===(t=e.contentProps)||void 0===t?void 0:t.content)&&((e,t,i,n)=>{var o,r,a;const s=t.slots.content,d=t.localizedStrings;switch(e){case _.Q.Webcontent:case _.Q.Video:return(null===(o=t.componentConfigs)||void 0===o?void 0:o.videoContentConfigs)&&$e.dy`<video-content :config=${t.componentConfigs.videoContentConfigs} :props=${i} :localizedStrings=${(null==d?void 0:d.videoContent)||{}}></video-content>`;case _.B.Manga:return ft(i,n,t,d);case _.Q.Gallery:return(null===(r=t.componentConfigs)||void 0===r?void 0:r.slideshowConfigs)&&$e.dy`<gallery-content :config=${t.componentConfigs.slideshowConfigs} :props=${i} :localizedStrings=${(null==d?void 0:d.slideshow)||{}} :isImmersiveFullscreenOpen=${e=>e.isImmersiveFullscreenOpen}></gallery-content>`;case _.Q.Article:return mt(i,n,null===(a=t.componentConfigs)||void 0===a?void 0:a.articlePageConfig,{...null==d?void 0:d.articlePage,...null==d?void 0:d.slideshow});default:return(0,Le.Ot)(s,{properties:i})}})(e.useMangaWCPage?_.B.Manga:e.contentType,e.config,e.contentProps.content,e.telemetryObject)}}</div>${xt}</div>${(0,Ie.g)((e=>{var t;return!e.isRailBelow&&(e.isRightRailReady||e.enableRR1Column&&(null===(t=e.contentProps)||void 0===t?void 0:t.rail))}),kt)}</div>${(0,Ie.g)((e=>{var t;return e.isRailBelow&&(e.isRightRailReady||e.enableRR1Column&&(null===(t=e.contentProps)||void 0===t?void 0:t.rail))}),$e.dy`<div class="railBelow_c2">${Pt}</div>`)} ${e=>{var t,i;return!e.disableAds&&e.config.slots.aboveRiverBlock&&null!==(t=e.contentProps)&&void 0!==t&&t.aboveRiverBlock?(0,Le.Ot)(e.config.slots.aboveRiverBlock,{properties:null===(i=e.contentProps)||void 0===i?void 0:i.aboveRiverBlock}):""}} ${(0,Ie.g)((e=>e.config.slots.feedWC&&e.feedProps),$t)} ${(0,Ie.g)((e=>e.config.slots.toastWC),yt)}</div>`,Ht=$e.dy`<div class="consumption-error-page"><h1>${e=>e.errorText}</h1><p>${e=>{var t;return null===(t=e.config.localizedStrings)||void 0===t?void 0:t.redirectMessage}}</p></div>`,Nt=$e.dy` ${e=>e.errorState?Ht:Bt}`;var _t=i(29717),Et=i(80986),Vt=i(42689),Wt=i(56774),zt=i(48220);const Ut=De.i` .consumption-page-banner-ad{min-height:${(0,s.a)(112)};padding-top:${(0,s.a)(4)}}.railBelow_c2{display:flex;&>*{margin:auto;margin-bottom:40px}}.consumption-page-banner-wrapper{position:sticky;width:100vw;z-index:300;align-items:center;display:flex;flex-direction:column;justify-content:center;margin-bottom:4px;background-color:${b.dw}}.consumption-page-structure{display:grid;grid-template-areas:"actions . content . rail"". . eocb . .";grid-template-columns:${(0,s.a)(L.g9)} ${(0,s.a)(L.jA)} ${(0,s.a)(L.Hw)} ${(0,s.a)(L.jA)} ${(0,s.a)(L.eA)};justify-content:center;position:relative}.consumption-page-header_gradient{position:absolute;width:100%}.consumption-page-gridarea_action{grid-area:actions;z-index:${(Et.K.Over+1).toString()};// Needs to be above banner ad container z-index}.consumption-page-action-tray-wrapper{margin-inline-end:auto;background:transparent;position:sticky;width:fit-content;z-index:2;display:flex;flex-direction:column;align-items:center}.consumption-page-gridarea_content{grid-area:content}.consumption-page-content-wrapper{position:relative}.consumption-page-content-header{margin:32px 0px;border-bottom:1px solid rgba(0,0,0,0.1)}.consumption-page-content-header-no-border{border-bottom:none !important}.consumption-page-gridarea_rail{grid-area:rail;background-color:transparent;position:relative;width:max-content;border-inline-start:1px solid rgba(0,0,0,0.06)}.consumption-page-rail-wrapper{position:sticky;height:100%}.consumption-page-gridarea_eocb_leadgen{grid-area:eocb;width:100%}.consumption-page-eocb{margin:32px auto 0px}.consumption-page-feed-wrapper{background-color:#F7F7F7;padding-bottom:${(0,s.a)(L.AR)}}.consumption-page-river-heading{margin:0 auto;color:${Vt.C};font-size:20px;font-weight:bold;width:1236px;padding:20px 0}.consumption-page-river-heading-centralized{margin:0 auto;color:${Vt.C};text-align:center;font-size:28px;text-transform:uppercase;font-weight:bold;padding:25px 0}.arb-style-header{font-weight:600}.rr-top-stories-below{width:276px}.top-span-module{width:100%;max-height:60px;margin-bottom:32px}.top-span-module:empty,.side-span-module:empty{display:none}.side-span-module{margin-top:24px;transition:opacity 300ms,visibility 300ms;-webkit-transition:opacity 300ms,visibility 300ms}.hide-side-span-module{opacity:0;pointer-events:none;visibility:hidden}.show-side-span-module{opacity:1;pointer-events:all;visibility:visible}.breaking-news-banner{width:1311px}.consumption-error-page{margin:100px 150px;font-size:20px;color:${Vt.C}}.consumption-error-page h1{font-size:25px}.gallery_content{min-height:${(0,s.a)(Wt.z_[Wt.ww.ProviderModule]+Wt.z_[Wt.ww.TopDisplayAd]+2*Wt.L+2)}}.social-bar-wrapper{min-height:32px}.social-bar-wrapper social-bar-wc::part(social-bar-buttons-tooltip){bottom:9px;left:calc(100% + 10px);background:#3B3B3B;border-radius:2px;color:#fff;content:attr(data-content);font-size:14px;padding:4px 10px;white-space:nowrap;box-shadow:0 6.4px 14.4px rgba(0,0,0,0.13),0 0 5.6px rgba(0,0,0,0.11);outline:auto;outline-color:#3B3B3B;max-width:150px;transform:none}${(0,w.eH)(w.K$.c5)}{.consumption-page-river-heading{width:${(0,s.a)(Z)}}}${(0,w.eH)(w.K$.c4)}{.consumption-page-river-heading-centralized,.consumption-page-river-heading{width:${(0,s.a)(X)}}.consumption-page-structure{grid-template-columns:${(0,s.a)(L.g9)} ${(0,s.a)(L.cS)} ${(0,s.a)(L.AD)} ${(0,s.a)(L.cS)} ${(0,s.a)(L.eA)}}.above-river-heading{width:${(0,s.a)(zt.on)}}}@media (max-width:1341px){.consumption-page-structure{grid-template-areas:"actions . content . rail";grid-template-columns:${(0,s.a)(48)} ${(0,s.a)(36)} ${(0,s.a)(O.LT)} ${(0,s.a)(36)} ${(0,s.a)(L.yS)}}}${(0,w.eH)(w.K$.c3)}{.consumption-page-structure{grid-template-areas:"actions . content . rail";grid-template-columns:${(0,s.a)(26)} ${(0,s.a)(24)} ${(0,s.a)(L.fq)} ${(0,s.a)(L.dz)} ${(0,s.a)(L.eA)}}.consumption-page-river-heading{width:924px}.consumption-page-river-heading-centralized{width:toPx(CONSUMPTION_PAGE_WIDTH_3_COL)}.consumption-page-structure > .consumption-page-gridarea_action{grid-area:none;margin-inline-start:16px;position:absolute}.consumption-page-gridarea_action{grid-area:none;position:absolute;margin-inline-start:16px;height:100%}.above-river-heading{width:${(0,s.a)(zt.Xl)}}.breaking-news-banner{width:999px}}.above-river-block{padding-bottom:${(0,s.a)(zt.A6)};min-height:${(0,s.a)(zt.eG)};display:block}.above-river-block.river-bg{background:#F7F7F7;padding-bottom:${(0,s.a)(zt.q8)}}.above-river-heading{margin:0 auto;color:${Vt.C};font-size:${(0,s.a)(zt.Oz)};font-weight:${zt.sl.toString()};width:${(0,s.a)(zt.wT)};line-height:${(0,s.a)(zt.KQ)};padding-bottom:${(0,s.a)(zt.vZ)}}.above-river-block.river-bg .above-river-heading{padding-top:${(0,s.a)(zt.Xi)}}@media (max-width:${ie}){.consumption-page-structure{grid-template-areas:"actions content .";grid-template-columns:1fr ${(0,s.a)(L.dl)} 1fr}.consumption-page-structure > .consumption-page-gridarea_rail{display:none}.consumption-page-structure > .consumption-page-gridarea_action{grid-area:actions;position:static;margin-inline-start:16px;height:100%}}@media (max-width:1051px){.consumption-page-structure{grid-template-areas:"actions . content .";grid-template-columns:1fr 24px ${(0,s.a)(L.rV)} 1fr}}${(0,w.eH)(w.K$.c2)}{.consumption-page-structure{grid-template-areas:"actions . content .";grid-template-columns:1fr 24px ${(0,s.a)(L.rV)} 1fr}.consumption-page-river-heading{width:612px}.consumption-page-river-heading-centralized{width:toPx(CONSUMPTION_PAGE_WIDTH_2_COL)}.above-river-heading{width:${(0,s.a)(zt.YY)}}.breaking-news-banner{width:687px}}@media (max-width:767px){.consumption-page-structure{gap:24px;grid-template-areas:"actions content .";grid-template-columns:1fr ${(0,s.a)(L.Bi)} 1fr}}${(0,w.eH)(w.K$.c1)}{.consumption-page-structure{grid-template-areas:"content content content";grid-template-columns:1fr 1fr 1fr}.consumption-page-gridarea_content{margin-top:8px;padding:0 8px}.consumption-page-river-heading{width:300px}.consumption-page-river-heading-centralized{max-width:440px;padding:0 24px}.breaking-news-banner{padding:0px 6px;width:100%}.consumption-page-gridarea_action,.consumption-page-gridarea_rail{display:none}.consumption-error-page{margin:10px}}`.withBehaviors((0,_t.Uu)(De.i` .consumption-page-gridarea_rail{border-inline-start:1px solid rgba(255,255,255,0.06)}.consumption-page-gridarea_rail .ad-container,.consumption-page-gridarea_rail .mfp-container{background-color:${b.Yw}}.consumption-page-content-header{border-bottom:1px solid rgba(255,255,255,0.1)}.consumption-page-banner-wrapper{background-color:${b.Yw}}.consumption-page-feed-wrapper{background-color:#2B2B2B;padding-bottom:${(0,s.a)(L.AR)}}.above-river-block.river-bg{background:#2B2B2B;padding-bottom:${zt.q8.toString()}}consumption-page-content-header{border-bottom:1px solid rgba(255,255,255,0.1)}`)),jt={experienceConfigSchema:undefined}},71934:function(e,t,i){"use strict";i.d(t,{t:function(){return a}});var n=i(22944),o=i(22680);const r=/[:/?#[\]@!$&'()*+,;=]/g;function a(e,t,i,a){let s=`${n.jG.NavTargetUrlWithLocale}/channel`;if(e&&i){const n="source"===i?"sr":"tp";s+="/"+[i,t?encodeURIComponent(t.replace(r,"")):"",`${n}-${e}`].filter((e=>e)).join("/")}const d=new URL(s);return a||(d.search=(0,o.zp)()),(0,o.zw)().includes("localhost.msn.com")&&(d.host=(0,o.zw)()),d.toString()}},13564:function(e,t,i){"use strict";i.d(t,{lX:function(){return l},nZ:function(){return d}});var n=i(21215),o=i(64107);let r,a=!1;const s="TTVR.ContentRefresh";function d(e){if(!a&&(0,n.N)()){a=!0;const t=e||s;o.A.clearMark(`${t}-start`),o.A.clearMark(`${t}-end`),o.A.startMark(t),r=setTimeout((()=>{a=!1}),15e3)}}function l(e){if((0,n.N)()&&a){a=!1;const t=e||s;return clearTimeout(r),o.A.endMark(t),Math.round(o.A.measurePerfMarker(t)[t].duration)}}},50859:function(e,t,i){"use strict";i.d(t,{Rg:function(){return d},bW:function(){return l}});var n=i(5232),o=i(44132),r=i(66813);const a="backToHomePage";let s="";function d(e,t){if(window.history&&!(0,r.nG)()){const i=window.history.length,o=`${e}?ocid=${(0,n.ku)()}`;if(1===i){const e=()=>{window.location.href=o,window.onpopstate=null},i=new URL(window.location.href),n=document.title;document.title=t,history.replaceState({name:"homepage"},"",o),history.pushState({name:"backToHomePage"},"",i.toString()),document.title=n,window.onpopstate=e}}}async function l(e){var t,i,d;if(s=null===(t=window)||void 0===t||null===(i=t.location)||void 0===i?void 0:i.hash,window.history&&!(0,r.nG)()){const t=1===window.history.length,i=history&&history.state&&(history.state.name===a||!0===history.state[a]),l=2===window.history.length&&(null===(d=window.history)||void 0===d?void 0:d.state)&&("foryou"===window.history.state.category||"watch"===window.history.state.displayKey);if(t||i&&null===window.onpopstate||l){if((0,r.D5)(window.location.href)===(0,r.D5)(e))return;const t=new URL(window.location.href),d=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=document.referrer;if(o){const t=(0,r.D5)(o);if("https://ntp.msn.com"===t)return"https://ntp.msn.com/edge/ntp";if("https://ntp.msn.cn"===t)return"https://ntp.msn.cn/edge/ntp";if(t===(0,r.D5)(e))return(0,n.w_)(e)}else{if(t&&t.startsWith("winp"))return(0,n.w_)(e);if(t&&(t.includes("ntp")||t.includes("dhp")))return e.startsWith("https://www.msn.cn")?"https://ntp.msn.cn/edge/ntp":"https://ntp.msn.com/edge/ntp";if(i)return(0,n.w_)(e)}}(e,t.searchParams.get("ocid"));if(d){const e=()=>{var e,t,i,n;(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.hash)===s?(o.M0.addOrUpdateTmplProperty("BackstackNTPCB","1"),window.location.replace(d),window.onpopstate=null):s=null===(i=window)||void 0===i||null===(n=i.location)||void 0===n?void 0:n.hash};i||l||history.pushState({name:a},"",t.toString()),window.onpopstate=e}}}}},72017:function(e,t,i){"use strict";function n(e,t){var i,n;return t&&t.length?e?null===(i=t.find((e=>e.isDarkMode)))||void 0===i?void 0:i.hexColor:null===(n=t.find((e=>!e.isDarkMode)))||void 0===n?void 0:n.hexColor:null}function o(e,t){return e?{background:`linear-gradient(180deg, ${r(e,t)}, transparent)`}:{}}function r(e,t){const i=e.slice(1).match(/#?(.{2})(.{2})(.{2})/).slice(1).map((e=>parseInt(e,16))),n=i[0]/255,o=i[1]/255,r=i[2]/255,a=Math.max(n,o,r),s=Math.min(n,o,r),d=a-s,l=a+s;let c=0;s!=a&&(c=n===a?(60*(o-r)/d+360)%360:o===a?60*(r-n)/d+120:60*(n-o)/d+240);const p=.5*l;let g=0;0===p||1===p?g=p:p<=.5?g=d/l:0!==p&&(g=d/(2-l));return`hsla(${Math.round(c)}, ${Math.round(100*g)}%, ${0!==t?t:Math.round(100*p)}%, ${0!==t?.3:.5})`}i.d(t,{D:function(){return n},b:function(){return o}})},17661:function(e,t,i){"use strict";i.d(t,{R:function(){return o}});const n="dwellTimeStartAllowed";function o(e){return n+"-"+e}},44254:function(e,t,i){"use strict";i.d(t,{S:function(){return n},f:function(){return o}});const n={ReplaceTopicsForYou:"ReplaceTopicsForYou",AboveTopicsForYou:"AboveTopicsForYou",BelowTopicsForYou:"BelowTopicsForYou",AboveMoreForYou:"AboveMoreForYou",BelowMoreForYou:"BelowMoreForYou",None:"None"};function o(e){return{categoryFeatureFlags:{shopping:null==e?void 0:e.enableShopCarousel,lifestyleshopping:null==e?void 0:e.enableShopCarousel,travel:null==e?void 0:e.enableTravelEoabCarousel,lifestyletravel:null==e?void 0:e.enableTravelEoabCarousel},verticalFeatureFlags:{finance:null==e?void 0:e.enableMoneyCarousel,money:null==e?void 0:e.enableMoneyCarousel,autos:null==e?void 0:e.enableAutosCarousel,travel:null==e?void 0:e.enableTravelEoabCarousel}}}},24290:function(e,t,i){"use strict";i.d(t,{y:function(){return r}});var n=i(53915);const o=new RegExp("(<a.*?/a>)","gim"),r={buildContentParagraph(e){const t={marker:e,position:"normal",startIndex:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),type:"textparagraph"};if(e){const i=[],r=e.match(o);if((0,n.B8)(r)){let n=0;r.map(((t,o)=>{const r=e.indexOf(t,n);i.push(e.substring(n,r)),i.push(t.replace("<a",`<a {${o}} `)),n=r+t.length})),i.push(e.substring(n)),t.data=r.length,t.marker=i.join("")}}return t}}},56774:function(e,t,i){"use strict";var n;i.d(t,{L:function(){return a},M9:function(){return d},gL:function(){return r},gv:function(){return s},ww:function(){return n},z_:function(){return o}}),function(e){e[e.TopDisplayAd=1]="TopDisplayAd",e[e.ProviderModule=2]="ProviderModule",e[e.TrendingModule=4]="TrendingModule",e[e.NativeAd=8]="NativeAd",e[e.BottomDisplayAd=16]="BottomDisplayAd",e[e.RecommendingModule=32]="RecommendingModule",e[e.TipSelectionModule=64]="TipSelectionModule",e[e.BeaconProviderUpsellModule=128]="BeaconProviderUpsellModule",e[e.ShoppingSDCard=256]="ShoppingSDCard"}(n||(n={}));const o={[n.ProviderModule]:360,[n.TopDisplayAd]:270,[n.TrendingModule]:462,[n.NativeAd]:462,[n.BottomDisplayAd]:270,[n.RecommendingModule]:360,[n.TipSelectionModule]:191,[n.BeaconProviderUpsellModule]:304,[n.ShoppingSDCard]:304},r={morefromprovider:o[n.ProviderModule],topAd:o[n.TopDisplayAd],trending:o[n.TrendingModule],nativeAd:o[n.NativeAd],bottomAd:o[n.BottomDisplayAd],RecommendedSearch:o[n.RecommendingModule],tipSelection:o[n.TipSelectionModule],BeaconProviderUpsell:o[n.BeaconProviderUpsellModule],ShoppingSDCard:o[n.ShoppingSDCard]},a=24,s=20,d=32},73745:function(e,t,i){"use strict";i.d(t,{oI:function(){return a},rR:function(){return o},yt:function(){return r}});var n=i(61357);function o(e,t){return n.Zy*e+n.er*t}const r={VIEWS_PAGE_WIDTH_1_COL:o(4,3),VIEWS_PAGE_WIDTH_2_COL:o(8,7),VIEWS_PAGE_WIDTH_3_COL:o(12,11),VIEWS_PAGE_WIDTH_4_COL:o(16,15),VIEWS_CONTENT_WIDTH_1_COL:o(4,3),VIEWS_CONTENT_WIDTH_2_COL:o(8,7),VIEWS_CONTENT_WIDTH_3_COL:o(7,6),VIEWS_CONTENT_WIDTH_4_COL:o(10,9)},a=1051},48220:function(e,t,i){"use strict";i.d(t,{A6:function(){return g},KQ:function(){return l},Oz:function(){return d},Xi:function(){return p},Xl:function(){return o},YY:function(){return n},eG:function(){return u},on:function(){return r},q8:function(){return h},sl:function(){return s},vZ:function(){return c},wT:function(){return a}});const n=612,o=924,r=1236,a=1548,s=600,d=20,l=27,c=20,p=20,g=20,u=353,h=0},66220:function(e,t,i){"use strict";i.r(t),i.d(t,{trackThirdPartyProviders:function(){return a}});var n=i(5302),o=i(21767),r=i(53915);const a=async(e,t,a)=>{const s=null==a?void 0:a[e.id];if(!s||(0,r.XO)())return;const d=s.type;try{const{track:e}=await i(1356)(`./${d}`);await e(s.parameters)}catch(i){return void(0,o.ij)(t,{...n.ufQ,message:`Unable to setup tracker for ${e.id}`,pb:{...n.ufQ.pb,customMessage:`Error for TPT: ${i}`}})}}},74853:function(e,t,i){"use strict";function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return 0;const i=e.getBoundingClientRect(),{bottom:n,top:o,height:r}=i,a=window.innerHeight;if(o>a||n<t)return 0;let s=0;return s=o>t?Math.min(a-o,r):Math.max(r+o-t,0),Math.min(s,a-t)}function o(e,t){return function t(i){if(!i||i===document||i===window)return null;const n=i.assignedSlot;return n&&(i=n),i.closest(e)||t(i.getRootNode().host)}(t)}i.d(t,{M:function(){return n},p:function(){return o}})},32139:function(e,t,i){"use strict";i.d(t,{Nc:function(){return a},Ol:function(){return r}});var n=i(665),o=i(242);function r(e){const t=e||(0,o.Ou)().TTVR;(0,n.gR)({name:"PERF_NEWS_L2_CONTENT_LOADING",data:{ContentLoading_WebL2:t}})}function a(e){(0,n.gR)({name:"PAGE_VIEW_NEWS_L2",data:e})}},93032:function(e,t,i){"use strict";i.d(t,{K:function(){return a}});var n=i(73344),o=i(82957),r=i(38454);async function a(e,t){var i,a;const s=null===(i=await e)||void 0===i||null===(a=i.cards)||void 0===a?void 0:a[0];if(null!=s&&s.url){var d,l,c;const e=new URL(s.url);e.search=new URL((0,o.sY)(location.href)).search;const i=null===(d=s.images)||void 0===d?void 0:d[0],a=i&&i.url?{src:(0,r.N)(i.url,{width:100,height:80,enableDpiScaling:!1,format:t?n.D3.WEBP:void 0}),alt:i.title}:null,p=null===(l=s.provider)||void 0===l?void 0:l.logoUrl,g=p?{src:(0,r.N)(p,{width:16,height:16,enableDpiScaling:!1,format:t?n.D3.WEBP:void 0}),alt:s.provider.name}:null,{upvoteCount:u,downvoteCount:h,commentCount:v,commentsEnabled:m}=function(e){let t,i,n;if("on"===e.reactionStatus&&e.reactionSummary&&e.reactionSummary.subReactionSummaries){var o,r;const n=e.reactionSummary.subReactionSummaries;t=(null===(o=n.find((e=>"upvote"===e.type)))||void 0===o?void 0:o.totalCount)||0,i=(null===(r=n.find((e=>"downvote"===e.type)))||void 0===r?void 0:r.totalCount)||0}const a="off"!==e.commentStatus;a&&e.commentSummary&&(n=e.commentSummary.totalCount||0);return{upvoteCount:t,downvoteCount:i,commentCount:n,commentsEnabled:a}}(s);return{image:a.src,title:s.title,providerName:null==s||null===(c=s.provider)||void 0===c?void 0:c.name,providerLogo:g.src,publishedDateTime:s.publishedDateTime,url:e.toString(),upvoteCount:u,downvoteCount:h,commentCount:v,commentsEnabled:m}}}},69376:function(e,t,i){"use strict";i.d(t,{EU:function(){return o},Hi:function(){return n},yL:function(){return r}});const n=e=>{const t=(new DOMParser).parseFromString(e,"text/html").querySelectorAll("img[data-reference='image']"),i=[];return t.forEach((e=>{e.dataset.documentId&&i.push(e.dataset.documentId)})),i},o=e=>e&&e.split("/").slice(-1)[0]||"",r=e=>{if(!e.height||!e.width)return!1;const t=e.width/e.height;return t>1.65&&t<1.9}},10683:function(e,t,i){"use strict";i.d(t,{N:function(){return n}});const n=Object.freeze({InterstitialAd:"InterstitialAd",SlideImage:"SlideImage",NextSlideshowCard:"NextSlideshowCard"})},38454:function(e,t,i){"use strict";i.d(t,{N:function(){return o}});var n=i(73344);const o=(e,t)=>(0,n.mL)(e,{width:t.width,height:t.height,quality:t.quality,mode:t.mode,enableDpiScaling:!1,format:t.format})},67961:function(e,t,i){"use strict";i.d(t,{Z5:function(){return m},tQ:function(){return v}});var n=i(62512),o=i(52965),r=i(81586),a=i(78058),s=i(24290),d=i(53915),l=i(69376),c=i(10683),p=i(38454),g=i(73344),u=i(98303);const h="_";function v(e,t,i,n,o,r,a,s,d,l,c){const p=r.slides?r.slides.length:0,[g,u,h]=f(e,t,i,n,o,a,r.slides,p,s,d,l,c);return b(r,a,g,u,p,h)}function m(e,t,i,n,o,r){const a=n.imageResources,s=(0,l.Hi)(n.body),c=a?s.length:0,[p,g]=function(e,t,i,n,o,r,a){const s={},c=[],p=[];if((0,d.B8)(o)){let d=0;n.forEach((n=>{const g=o.find((e=>e.cmsId===n));if(!g)return;let u=(0,l.EU)(g.cmsId);Object.prototype.hasOwnProperty.call(s,u)?(u+=h+s[u],s[u]++):s[u]=1;const v={image:g,body:g.title},m=y(e,v,u,r,d,i,a);if(c.push(m),t){const e=w(t,v,u,d,a);p.push(e)}d++}))}return[c,p]}(e,t,i,s,a,c,r);return b(n,o,p,g,c)}const f=(e,t,i,n,o,r,a,s,l,p,g,u)=>{const v={},m=[],f=[];if((0,d.B8)(a)){let i=0;a.forEach((n=>{if(!n.image)return;let r=n.image.id;Object.prototype.hasOwnProperty.call(v,r)?(v[r]++,r+=h+v[r]):v[r]=0;const a=y(e,n,r,s,i,o,p);if(m.push(a),t){const e=w(t,n,r,i,p);f.push(e)}i++}))}if(g){const e={componentType:c.N.NextSlideshowCard,id:"nextSlideshowCard",ariaLabel:"Next Slideshow"};m.push(e)}const b=u?f:void 0,[C,T,A]=l?[m,void 0]:function(e,t,i,n,o){const r=i.slice(),a=[];let s=0;if((0,d.B8)(r)){let d=0;null==e||e.forEach((e=>{const l=e.indices.filter((e=>e>0&&e<i.length));l.length&&(a.push({region:e.region,indices:l,imageWidth:e.imageWidth,imageHeight:e.imageHeight,img:{w:Number(e.imageWidth),h:Number(e.imageHeight)}}),l.forEach((i=>{var a;const l=`${null===(a=e.childExperienceGitConfigInfo)||void 0===a?void 0:a.instanceId}_${t}_${s}`,p={...e.childExperienceGitConfigInfo,instanceId:l},g={id:l,componentType:c.N.InterstitialAd,adData:{id:"ad",configInfo:p,title:n,adIndex:i}};if(r.splice(i-1+d,0,g),o){const e={id:l,image:{src:"",alt:"",attribution:""},index:s,body:"",isAd:!0};o.splice(i-1+d,0,e)}s++,d++})))}))}return[r,{placements:a},o]}(i,r,m,n,b);return[C,A||f,T]};function b(e,t,i,n,o,r){const{categories:a,facets:s,provider:d,title:l}=e;return{id:t,summary:l,facets:s||[],slides:i,thumbnails:n,categories:T(a),provider:A(d),totalSlidesWithoutAds:o,adPlacements:r}}function y(e,t,i,l,p,g,h){const v=(0,o.Z)(t),m=(p+1).toString(),f=(0,n.WU)(g,m,l.toString())+" "+(0,d.PY)(v.body);C(v.image,e,h);const b=new u.fH,y=(0,u.DO)(b),w=new a.D({name:"image"+(p+1),action:r.Aw.Click,behavior:r.wu.Navigate,content:{type:r.uH.Image},overrideDestinationUrl:y});return{id:i,componentType:c.N.SlideImage,imageData:{body:v.body,id:v.image.id,image:v.image,index:p,initialized:!1,inlineComponent:s.y.buildContentParagraph(v.body,0,0),telemetryTags:w.getMetadataTag(),title:v.title},ariaLabel:f}}function w(e,t,i,n,s){const d=(0,o.Z)(t);C(d.image,e,s);const l=new a.D({name:"thumbnail"+(n+1),action:r.Aw.Click,behavior:r.wu.Navigate,content:{type:r.uH.Image}});return{id:i,image:d.image,index:n,telemetryTags:l.getMetadataTag()}}function C(e,t,i){i&&(t.format=g.D3.WEBP),e.src=(0,p.N)(e.url,t),e.attribution=(0,d.ju)(e.attribution),delete e.url,delete e.focalRegion}function T(e){return e?e.map((e=>({product:e.product,subcategoryKey:e.label}))):[]}function A(e){return{id:e.id,isPremium:e.isPremium,legalName:e.companyLegalName,name:e.name}}},54479:function(e,t,i){"use strict";i.d(t,{A:function(){return s}});var n=i(22944),o=i(33779),r=i(5302),a=i(21767);function s(e,t,i,s){if(!t||!i)return[];const d=function(e){var t;if(!e)return[];let i;try{i=JSON.parse(e)}catch(t){return(0,o.OO)(t,r.ZsO,"Malformed interests JSON",e),[]}if(null===(t=i)||void 0===t||!t.length)return[];return i.map((e=>({feedId:e.Id,label:e.Name,locale:n.jG.CurrentMarket,logo:e.ImageUrl})))}(i),l=(null==d?void 0:d.length)||0;if((0,a.P9)(e,"topicTagCount",l.toString()),!l||s)return[];return[{card:{id:`topicTopSpan-${e}`,type:"TopicTopSpan"},cardProps:{experienceConfigInfo:t,contentId:e,initialTopicTagItems:d}}]}},15315:function(e,t,i){"use strict";i.d(t,{i:function(){return g}});var n=i(44132),o=i(21767),r=i(5302);class a{constructor(e,t){if(this.contentId=t,this.heartbeatInfo=new Map,null==e||!e.length)return this.heartbeats=[],void(this.originalHeartbeats=[]);const i=this.getSortedHeartbeats(e);this.originalHeartbeats=i,this.heartbeats=[...i]}startTimers(){if(!this.heartbeatInfo.size)for(const e of this.heartbeats){const t={timeoutId:setTimeout((()=>this.sendHeartbeat(e)),e),lastStarted:Date.now()};this.heartbeatInfo.set(e,t)}}stopTimers(){if(!this.heartbeatInfo.size)return;const e=[];for(const[t,i]of this.heartbeatInfo.entries()){clearTimeout(i.timeoutId);const n=this.calculateTimeout(i.lastStarted,t);e.push(n)}this.heartbeats=e,this.heartbeatInfo.clear()}sendHeartbeat(e){const t=this.originalHeartbeats.length-this.heartbeats.length,i={type:"SATCI",metrics:{SATCI:this.originalHeartbeats[t]}};(0,o.zj)(this.contentId,i),this.heartbeats.shift(),this.heartbeatInfo.delete(e)}calculateTimeout(e,t){return t-(Date.now()-e)}getSortedHeartbeats(e){return e.every(((t,i)=>i===e.length-1||e[i]<=e[i+1]))?e:[...e].sort()}}class s{constructor(e,t){this.contentId=e,this.heartbeats=t,this.started=!1,this.paused=!1,this.startTime=0,this.dwellTimeElapse=0,this.previousDwellTime=0,this.heartbeatManager=new a(this.heartbeats,e)}getContentId(){return this.contentId}isActive(){return this.started&&!this.paused}start(){this.isActive()||(this.startTime=Date.now(),this.paused=!1,this.started=!0,this.heartbeatManager.startTimers())}pause(){!this.paused&&this.started&&(this.paused=!0,this.dwellTimeElapse+=Date.now()-this.startTime,this.heartbeatManager.stopTimers())}getDwellTime(){if(!this.started)return 0;let e=this.dwellTimeElapse;return this.paused||(e+=Date.now()-this.startTime),e<this.previousDwellTime&&(0,o.ij)(this.contentId,{...r._NC,message:`DwellTime decreased for contentID: ${this.contentId}`,pb:{...r._NC.pb,customMessage:`DwellTIme decreased from ${this.previousDwellTime} to ${e}`}}),this.previousDwellTime=e,e}reset(){this.previousDwellTime=0,this.dwellTimeElapse=0,this.startTime=0,this.paused=!1,this.started=!1,this.heartbeatManager.stopTimers(),this.heartbeatManager=new a(this.heartbeats,this.contentId)}getRawDwellTimeElapse(){return this.dwellTimeElapse}}var d=i(74853),l=i(82957),c=i(28951),p=i(46728);const g=new class{constructor(){this.contentDictionary={},this.dtManagersToRestart=[],this.featureFlags={},this.heartbeats=[],this.getContentDictionary=()=>this.contentDictionary,this.onFocus=()=>{if(this.dtManagersToRestart.length){n.M0.isDwellTimeActive()||n.M0.startDwellTime();for(const e of this.dtManagersToRestart)e.isActive()||e.start();this.dtManagersToRestart=[]}},this.onBlur=()=>{if(this.dtManagersToRestart.length)return;n.M0.isDwellTimeActive()&&n.M0.pauseDwellTime();const e=[];for(const t of Object.values(this.contentDictionary)){const{dwellTimeManager:i,contentId:n}=t;i.isActive()&&(i.pause(),(0,l.cm)(n),e.push(i))}this.dtManagersToRestart=e},this.onVisibilityChange=()=>{"visible"===document.visibilityState?this.onFocus():this.onBlur()},this.contractOverrider=e=>{const t=this.getContentDictionaryEntry(e),{metadata:i,dwellTimeManager:n,contentId:o,requestId:r}=t||{};return o?{contentId:o,metadata:i,requestId:r,dwellTimeInfo:{isActive:n.isActive(),startTime:n.startTime,dwellTime:n.getRawDwellTimeElapse()}}:null}}initializeTelemetryOverrider(e,t){(0,o.xb)(n.M0)&&(this.featureFlags=e,this.heartbeats=t,n.M0.config.disableAutoCalculateDwellTime=!0,n.M0.setContractOverrider(this.contractOverrider),n.M0.setContentDictionaryGetter(this.getContentDictionary),window.addEventListener("focus",this.onFocus),window.addEventListener("blur",this.onBlur),window.addEventListener("visibilitychange",this.onVisibilityChange),location.search.includes("viewsDwellDebug")&&c.c.getParamsWithItems(location.search,!0,"citem").find((e=>{let{key:t}=e;return"viewsDwellDebug"===t}))&&this.dwellTimeDebug())}inactiveUnloadTelemetryOverrider(){window.removeEventListener("focus",this.onFocus),window.removeEventListener("blur",this.onBlur),window.removeEventListener("visibilitychange",this.onVisibilityChange)}dwellTimeStart(e){this.contentDictionary[e]||this.addContentEntry(e,{});const{dwellTimeManager:t}=this.contentDictionary[e];t.isActive()||(this.featureFlags.enableInitialTabbedOutDwellTime||document.hasFocus()?(t.start(),n.M0.isDwellTimeActive()||n.M0.startDwellTime()):this.dtManagersToRestart.includes(t)||this.dtManagersToRestart.push(t))}dwellTimePause(e){this.contentDictionary[e]||this.addContentEntry(e,{});const{dwellTimeManager:t}=this.contentDictionary[e];if(!this.featureFlags.enableInitialTabbedOutDwellTime&&!document.hasFocus()){const e=this.dtManagersToRestart.indexOf(t);-1!==e&&this.dtManagersToRestart.splice(e,1)}if(!t.isActive())return;t.pause();const i=Object.values(this.contentDictionary).map((e=>{let{dwellTimeManager:t}=e;return t}));n.M0.isDwellTimeActive()&&i.every((e=>!e||!e.isActive()))&&n.M0.pauseDwellTime(),(0,l.cm)(e)}dwellTimeReset(e){if(!this.contentDictionary[e])return;const{dwellTimeManager:t}=this.contentDictionary[e];t.reset(),n.M0.resetDwellTime()}getDwellTime(e){this.contentDictionary[e]||this.addContentEntry(e,{});const{dwellTimeManager:t}=this.contentDictionary[e];return t.getDwellTime()}addContentEntry(e,t){const i=this.contentDictionary[e]||{},o=i.requestId||n.M0.getRequestId();this.contentDictionary[e]={contentId:e,metadata:(0,p.Z)(i.metadata,t),requestId:o,dwellTimeManager:i.dwellTimeManager||new s(e,this.heartbeats)}}getContentDictionaryEntry(e){let t;if("string"==typeof e)t=e;else{const i=this.findClosestFeedContent(e);if(t=null==i?void 0:i.dataset.contentId,!t)return null}return this.contentDictionary[t]||this.addContentEntry(t,{}),this.contentDictionary[t]}findClosestFeedContent(e){return e?(0,d.p)(".consumption-feed-content",e):this.mostVisibleFeedContent()}mostVisibleFeedContent(){const e=document.getElementsByClassName("consumption-feed-content");if(e.length<2)return e[0];let t={element:null,pixels:0};for(let i=0;i<e.length;i++){const n=e[i],o=(0,d.M)(n);if(!o&&t.pixels>0)break;t.pixels>o||(t={element:n,pixels:o})}return t.element}dwellTimeDebug(){setTimeout((async()=>{const{ViewsDwellTimeManagerDebugger:e}=await i.e("icon-assets-WeatherMapLoading").then(i.bind(i,65707)),t=new e;t.id="views-dwell-time-debugger-id",t.contentDictionary=this.contentDictionary,document.body.appendChild(t)}),2500)}}},39574:function(e,t,i){"use strict";i.d(t,{m:function(){return a}});var n=i(44132),o=i(32139),r=i(44018);class a{constructor(e){this.overridePersistPageMetadata=!0,this.providerData=e.providerData,this.entityId=e.entityId,this.entitySrc=e.entitySrc,this.totalPages=e.totalPages,this.contentTitle=e.contentTitle,this.pageName=e.pageName,this.pageType=e.pageType,this.subscriptionType=e.subscriptionType,this.parentId=e.parentId,this.isLocalContent=e.isLocalContent,this.providerType=e.providerType,this.verticalKey=e.verticalKey,this.categoryKey=e.categoryKey,this.subcategoryKey=e.subcategoryKey,this.referralUrl=e.referralUrl,this.pageUrl=e.pageUrl,this.pageOrigin=e.pageOrigin,void 0!==e.overridePersistPageMetadata&&(this.overridePersistPageMetadata=e.overridePersistPageMetadata)}trackPageAsync(e,t,i,a){return new Promise((s=>{const d=n.M0.getPageMetadata(),l=this.getExistingTelemetryPageMetadata(d);let c=this.getMetadataOverride(e,t);null!=a&&(c={...c,page:{...c.page,isCorePV:a}}),n.M0.sendPageView(c,!i),(0,r.ti)()&&(0,o.Nc)(c),this.updatePageMetadata(d,l),s()}))}sendActionEvent(e,t,i,o){const r=n.M0.getPageMetadata(),a=this.getMetadataOverride(),s=this.getExistingTelemetryPageMetadata(r);this.updatePageMetadata(r,a),n.M0.sendActionEvent(e,t,i,o),this.updatePageMetadata(r,s)}getExistingTelemetryPageMetadata(e){if(!this.overridePersistPageMetadata){const t={page:{name:e.contract.page.name,type:e.contract.page.type,content:{subscriptionType:"article"==e.contract.page.type?"free":e.contract.page.content.subscriptionType,providerType:e.contract.page.content.providerType},referral:e.contract.page.referral}};return e.contract.page.content&&(t.page.content={...e.contract.page.content}),t}return null}getMetadataOverride(e,t){const i={page:{content:{brandId:this.providerData?this.providerData.id:null,id:this.entityId,source:this.entitySrc,isLocal:this.isLocalContent,subscriptionType:this.subscriptionType,providerType:this.providerType}}},n=e||this.referralUrl;if(n&&(i.page.referral=n),t&&(i.gallery||(i.gallery={}),i.gallery.idx=t),this.totalPages&&(i.gallery||(i.gallery={}),i.gallery.total=this.totalPages),this.pageName&&(i.page.name=this.pageName),this.pageType&&(i.page.type=this.pageType),this.subscriptionType&&(i.page.content.subscriptionType=this.subscriptionType),this.parentId&&(i.page.content.parentId=this.parentId),this.providerData){const e=this.providerData.legalName?this.providerData.legalName.replace(/ /g,"+"):"";i.page.content.brand=this.providerData.name,i.page.content.partnerName=e,i.page.content.brandId=this.providerData.id}return this.contentTitle&&(i.page.content.title=this.contentTitle),this.providerType&&(i.page.content.providerType=this.providerType),this.verticalKey&&(i.page.content.vertical=this.verticalKey),this.categoryKey&&(i.page.content.category=this.categoryKey),this.subcategoryKey&&(i.page.content.subcategory=this.subcategoryKey),this.pageUrl&&(i.page.url=this.pageUrl),void 0!==this.pageOrigin&&(i.page.origin=this.pageOrigin),i}updatePageMetadata(e,t){this.overridePersistPageMetadata||(n.M0.updatePageMetadata(t),e.updateContract())}}},92541:function(e,t,i){"use strict";i.r(t),i.d(t,{ContentCardListicle:function(){return D}});var n=i(33940),o=i(28904),r=i(73344),a=i(33779),s=i(5302),d=i(9279),l=i(7766);const c=56;class p{static async fetch(e){try{var t;const i=new d.d(e);if(!i)throw Error("Failed to create card provider.");const n=await i.fetch();if(!n)throw Error("Failed to fetch data.");if(null===(t=n.cardMetadata)||void 0===t||!t.length)throw Error("Empty results for data.");return n.cardMetadata.filter((e=>!!e)).map((e=>this.ContentCardListicleItem(e.cardContent)))}catch(e){return(0,a.OO)(e,s.Rqk,(null==e?void 0:e.message)||"Unknown error"),[]}}static ContentCardListicleItem(e){var t,i,n,o,a,s,d,p;const g=null===(t=e.images)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.caption,u=this.scaleImageUrl(null===(n=e.images)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.url,c),h=null===(a=e.images)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.attribution,v=null===(d=e.provider)||void 0===d?void 0:d.name,m=this.scaleImageUrl(null===(p=e.provider)||void 0===p?void 0:p.logoUrl,16);return{title:e.title,type:e.type,href:l.$D.removeOcidFromUrl(e.url||e.destinationUrl),media_src:u&&(0,r.mL)(u,{width:c,height:c,enableDpiScaling:!1}),media_alt:`${h||""} ${g||""}`,media_width:"56px",media_height:"56px",attribution_src:m&&(0,r.mL)(m,{width:16,height:16,enableDpiScaling:!1}),attribution_alt:v,attribution_title:v,more_actions:!1,telemetry_context:{id:e.id,category:e.category,recoId:e.recoId}}}static scaleImageUrl(e,t){if(!e)return"";try{const i=new URL(e);return i.searchParams.set("w",String(t)),i.searchParams.set("h",String(t)),i.toString()}catch(e){return""}}}var g=i(13218),u=i(42590),h=i(99452),v=i(34800),m=i(81586),f=i(78058);class b extends o.H{constructor(){super(...arguments),this.title="",this.cardList=[],this.cardTelemetryObject=new f.D({name:"ContentCardListicle"})}async connectedCallback(){super.connectedCallback(),this.cardDataProviderConfig&&(this.cardList=await p.fetch(this.cardDataProviderConfig))}get isReady(){return Boolean(this.cardList&&this.cardList.length>0)}buildItemTelemetryTags(e){if(!e.telemetry_context)return"";const{id:t="",category:i="",ext:n={recoId:""}}=e.telemetry_context,o=this.cardTelemetryObject.addOrUpdateChild({name:"destination",action:m.Aw.Click,behavior:m.wu.Navigate,content:{id:t,category:i,headline:e.title,type:this.getTelemetryContentType(e.type),vertical:g.Al.ClientSettings&&g.Al.ClientSettings.verticalKey||"news"},ext:{recoId:n.recoId},destinationUrl:e.href});return o&&o.getMetadataTag()||""}getTelemetryContentType(e){switch(e){case v.PL.Slideshow:return m.uH.Gallery;case v.PL.Video:return m.uH.Video;default:return m.uH.Article}}}(0,n.gn)([u.Lj],b.prototype,"title",void 0),(0,n.gn)([h.LO],b.prototype,"iconSvg",void 0),(0,n.gn)([h.LO],b.prototype,"cardList",void 0),(0,n.gn)([h.LO],b.prototype,"cardDataProviderConfig",void 0),(0,n.gn)([h.lk],b.prototype,"isReady",null);var y=i(49218),w=i(89150),C=i(93703);const T=y.dy`<li key=${(e,t)=>t.index} class="card-list-item"><fluent-card class="card-item-fluentcard"><msft-content-card title="${e=>e.title}" href="${e=>e.href}" target="_self" :anchorTelemetryTag="${(e,t)=>t.parent.buildItemTelemetryTags(e)}" :isGrid="true">${e=>e.title}<img slot="media" src="${e=>e.media_src}" alt="${e=>e.media_alt||""}" width="${e=>e.media_width}" height="${e=>e.media_height}" /><msft-attribution slot="attribution"><img src="${e=>e.attribution_src}" alt="${e=>e.attribution_alt||""}" /><span>${e=>e.attribution_title}</span></msft-attribution></msft-content-card></fluent-card></li>`,A=y.dy`<ol class="content-ol">${(0,w.rx)((e=>e.cardList),T,{positioning:!0})}</ol>`,x=y.dy`<div class="title-container"><span class="icon-container">${e=>y.dy`${y.dy.partial(e.iconSvg||"")}`}</span><div class="title-text">${e=>e.title}</div></div>`,P=y.dy` ${(0,C.g)((e=>e.isReady),y.dy`<fluent-card class="content-card" data-t="${e=>e.cardTelemetryObject.getMetadataTag()}">${x} ${A}</fluent-card>`,y.dy`<div></div>`)}
`;var S=i(78923),$=i(42166),I=i(68178);const R=S.i` .title-container{display:flex;margin-inline-start:14px}.icon-container{height:${(0,$.a)(16)};width:${(0,$.a)(16)};margin-top:-4px}.title-text{margin-inline-start:6px;font-size:12px;line-height:16px;color:${(0,I.Y)()?"#AFAFAF":"var(--neutral-foreground-hint)"};height:24px;font-weight:600}`,F=S.i` .content-ol{margin:5px 0 0;padding-inline-start:30px}.card-list-item{margin-bottom:7px}.card-item-fluentcard{height:80px;background-color:transparent;box-shadow:none}`,L=S.i` msft-attribution{margin-bottom:0}msft-attribution > span{width:124px;display:inline-block;overflow:hidden;text-overflow:ellipsis;vertical-align:top;white-space:nowrap}msft-attribution > img{margin-inline-end:5px}msft-content-card::part(heading-container){height:95px;padding-block:3px 0;padding-inline:2px 16px}msft-content-card::part(heading){display:-webkit-box;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-line-clamp:2;font-size:14px;line-height:20px;--heading-font-size:20px;font-weight:600}msft-content-card::part(media){width:${(0,$.a)(c)};height:${(0,$.a)(c)};margin-inline-start:5px}msft-content-card > img{width:100%;object-fit:cover}`,O=S.i` :host{height:inherit;width:300px;border-radius:4px;margin-block:24px;background:none;display:block}.content-card{padding-top:18px;background:${(0,I.Y)()?"rgba(255, 255, 255, 0.06)":"rgba(255, 255, 255, 0.5)"};border-radius:8px;box-shadow:0px 0px 2px 0px #0000001F,0px 8px 16px 0px #0000000F}${R} ${F} ${L}
`;let D=class extends b{};D=(0,n.gn)([(0,o.M)({name:"content-card-listicle",template:P,styles:O})],D)},95741:function(e,t,i){"use strict";i.d(t,{Ug:function(){return V}});var n=i(33940),o=i(28904),r=i(72263),a=i(80986),s=i(78923),d=i(42689),l=i(22674),c=i(61357);const p="#fafafa",g="#1f1f1f",u=s.i`
@media (hover:hover) and (pointer:fine){.tooltip:before{left:35px}.tooltip:before,.tooltip:after{transform:translate3d(3px,0,0)}}`,h=s.i`
@media (hover:hover) and (pointer:fine){.tooltip:before{right:62px}.tooltip:before,.tooltip:after{transform:translate3d(-3px,0,0)}}`,v=s.i` .providerInfo{display:flex;font-family:'Segoe UI','SegoeUI','Roboto',sans-serif,margin-bottom:2px}.providerContainer{align-items:center;display:inherit}.providerInfoWrapper,.providerLogoAndName,.providerLogoAndName a{display:flex;align-items:center}.providerLogoAndName:hover .providerName,.providerLogoAndName:hover .providerNameLarge,.providerLogoAndName:hover .providerNameSm{text-decoration:underline}.providerInfoWrapper{margin:0 auto}.providerLogo{height:${36..toString()}px;min-width:${36..toString()}px}.providerLogoLarge{height:${48..toString()}px;min-width:${48..toString()}px}.providerLogo img,.providerLogoLarge img,.providerLogoSm img{border-radius:4px;display:block;margin-right:auto;background-color:#fff;-ms-high-contrast-adjust:none}.providerName{color:${d.C};font-size:18px;line-height:${36..toString()}px;margin:0 10px;word-break:keep-all}.providerNameLarge{color:${d.C};font-size:20px;font-weight:600;line-height:${48..toString()}px;margin:0px 16px 0px 10px;word-break:keep-all}.providerNameSm{color:${d.C};font-size:16px;line-height:22px;margin:0 8px;font-weight:600;word-break:keep-all}.providerInfoWrapper a:link,.providerInfoWrapper a:visited,.providerInfoWrapper a:hover,.providerInfoWrapper a:active{color:white;text-decoration:none;cursor:pointer}.viewsInfo{font-family:'Segoe UI','SegoeUI','Roboto',sans-serif;text-align:center;width:100%}.viewsHeader h1{color:${d.C};font-family:${c.Bd};font-size:36px;font-weight:normal;line-height:40px;margin:0;max-height:160px;overflow:hidden;padding-bottom:3px;padding-top:10px}${(0,r.eH)(r.K$.c3)}{.viewsHeaderText{font-size:28px}}.viewsAttributionDivider{border-bottom:1px solid #878787}.viewsAttribution{color:${d.C};margin:17px auto 20px;min-height:19px;padding-bottom:20px}.viewsAttributionNewRR{display:inline-block}.viewsAuthors{overflow:hidden;white-space:normal;line-height:22px}.viewsOpinionWord{font-weight:bold;font-style:italic}.content{text-align:center}.noContent .viewsAttribution{border-bottom:1px black}.profilePromotionContainer{position:relative;z-index:${a.K.Flyout.toString()}}.gradientBackground .providerInfoWrapper{margin:0}.gradientBackground .providerName{font-size:var(--type-ramp-plus-1-font-size);font-weight:600}.gradientBackground .viewsHeader h1{font-size:var(--type-ramp-plus-5-font-size);;font-weight:600;padding-top:12px;padding-bottom:0px}.gradientBackground .viewsInfo,.gradientBackground .viewsHeader h1,.gradientBackground .viewsAttribution{text-align:start}.gradientBackground .content{text-align:start}.gradientBackground .providerName,.gradientBackground .providerNameLarge,.gradientBackground .viewsHeader h1,.gradientBackground .viewsAttribution,.gradientBackground .providerInfoWrapper a:link,.gradientBackground .providerInfoWrapper a:visited,.gradientBackground .providerInfoWrapper a:hover,.gradientBackground .providerInfoWrapper a:active{color:var(--neutral-foreground-rest)}.gradientBackground .viewsAttribution{margin-left:0;margin-right:0;opacity:0.8;margin-top:14px;margin-bottom:22px;padding-bottom:0px}.newProviderBannerContainer{padding:20px;border-radius:8px;outline:1px solid rgba(0,0,0,0.06)}.newProviderBannerContainer.fullProviderLogo{padding:24px}.newProviderBannerBgLight{background-color:${p}}.newProviderBannerBgDark{background-color:${g}}.providerLogoSm{height:${32..toString()}px;width:${32..toString()}px}.providerLogoFull{height:${24..toString()}px;width:${120..toString()}px}.providerInfoSpace{gap:8px}.providerInfoSpace.fullProviderLogo{gap:16px}.providerInfoSpace>:last-child{flex-grow:1}${(0,r.eH)(r.K$.c1)}{.gradientBackground .viewsHeader h1{font-size:24px;padding-top:8px;padding-bottom:3px}.gradientBackground .viewsAttribution{margin-top:0px;margin-bottom:0px}.viewsHeader h1{max-height:320px;font-size:24px;line-height:28px}.viewsAttribution{font-size:14px;line-height:20px;padding-bottom:0}.providerInfoWrapper{margin:0}.providerName{line-height:24px;overflow:hidden;max-width:calc(100vw - ${90..toString()}px - ${32..toString()}px - ${36..toString()}px - ${20..toString()}px)}.providerNameWithNoLogo{max-width:calc(100vw - ${90..toString()}px - ${32..toString()}px)}.providerNameLarge{line-height:28px;overflow:hidden;max-width:calc(100vw - ${90..toString()}px - ${32..toString()}px - ${48..toString()}px - ${20..toString()}px)}}${(0,r.eH)(r.K$.c3)}{.viewsInfo{width:100%;margin:0 auto}.viewsAttributionLowerCol{width:100%}}${(0,r.eH)(r.K$.c4)}{.providerInfoWrapper:not(.providerInfoFullSizeWidth){margin:0}.viewsInfo:not(.viewsInfoFullWidth){text-align:initial;width:85%}.viewsInfo:not(.viewsInfoFullWidth,.viewsInset){width:100%}.viewsAttribution:not(.viewsAttributionFullWidth){margin:17px 0 20px}.viewsAttributionLowerCol{width:100%}}@media (hover:hover) and (pointer:fine){.tooltip{position:relative;margin-left:4px}.tooltip:before,.tooltip:after{display:block;opacity:0;pointer-events:none;position:absolute;transition:all .15s ease-in-out}.tooltip:after{content:'';height:0;width:0;top:0;right:0}.tooltip:before{background:#fff;border-radius:4px;color:#333;content:attr(data-content);font-size:14px;padding:6px 10px;top:-4px;white-space:nowrap;line-height:normal;box-shadow:0 0 2px 0 #0000001F,0 4px 8px 0 #00000024}.tooltip:hover:after,.tooltip:hover:before,.tooltip:focus-visible:after,.tooltip:focus-visible:before{opacity:1;transform:translate3d(0,0,0)}}@media (prefers-color-scheme:dark) and (hover:hover) and (pointer:fine){.tooltip:before{background:#333;color:#fff;box-shadow:0 0 2px 0 #0000003D,0 4px 8px 0 #00000047}}`.withBehaviors(new l.O(u,h));var m=i(86117),f=i(49218),b=i(41472),y=i(93703),w=i(72685),C=i(21215),T=i(19628);const A={AAnTEc:{sampleColor:"#FAFAFA",logoResId:"BBqR2zz"},AA28VO:{sampleColor:"#FAFAFA",logoResId:"AAxY64Z"},BBpg4Jv:{sampleColor:"#FAFAFA",logoResId:"BBAJ2Ob"},AAf3a78:{sampleColor:"#FAFAFA",logoResId:"AAy0gwh"},BBrLgnM:{sampleColor:"#FFFFFF",logoResId:"AAy3Ayt"},BBpgaEl:{sampleColor:"#000000",logoResId:"BBphlJa"},BBYOtgb:{sampleColor:"#FFFFFF",logoResId:"BBYTU2m"},AA28KK:{sampleColor:"#FAFAFA",logoResId:"AAxYt0c"},AAEwYPi:{sampleColor:"#FAFAFA",logoResId:"AAF0xx2"},AAH1SAb:{sampleColor:"#FFFFFF",logoResId:"AAH1TvX"},AA2JLGB:{sampleColor:"#FFFFFF",logoResId:"BB10OWBS"},AAgx3en:{sampleColor:"#FAFAFA",logoResId:"AAgyC0T"},BBNhSow:{sampleColor:"#FAFAFA",logoResId:"BBNt3de"},AAzjKCM:{sampleColor:"#FAFAFA",logoResId:"AAzMLt4"},BBk7bYP:{sampleColor:"#FFFFFF",logoResId:"AAJDmCI"}},x=f.dy`<div class="${e=>e.providerInfoClassNames}" style="${e=>e.bannerBackgroundColor?`background-color: ${e.bannerBackgroundColor}`:""}"><div class="${e=>e.providerInfoWrapperClassNames}" data-t=${e=>{var t,i;return null===(i=null===(t=e.viewsHeaderTelemetryContext)||void 0===t?void 0:t.providerLinkWrapper)||void 0===i?void 0:i.getMetadataTag()}}><div class="providerLogoAndName" ${(0,b.i)("providerLogoAndNameRef")}>${(0,y.g)((e=>e.providerUrl&&e.providerLogoUrl),f.dy`<a href="${e=>e.providerLogoAndNameUrl}" header="${e=>e.providerName}" target="_blank" data-t="${e=>{var t;return null===(t=e.viewsHeaderTelemetryContext)||void 0===t?void 0:t.providerLink.getMetadataTag()}}" class="providerContainer"><div class=${e=>e.providerLogoClassName} aria-live="off"><img alt="${e=>e.providerName}" src="${e=>{var t;return null!==(t=e.providerFullLogo)&&void 0!==t?t:e.providerLogoUrl}}" @load="${e=>e.providerLogoOnLoad()}" @error="${e=>e.providerLogoOnError()}" /></div>${(0,y.g)((e=>!e.providerHasFullLogo),f.dy`<div class="${e=>e.providerNameClassName}"" style=${e=>e.overrideProviderNameStyle}>${e=>e.providerName}</div>`)}</a>`)} ${(0,y.g)((e=>e.providerUrl&&!e.providerLogoUrl),f.dy`<a href="${e=>e.providerLogoAndNameUrl}" header="${e=>e.providerName}" target="_blank" data-t="${e=>{var t;return null===(t=e.viewsHeaderTelemetryContext)||void 0===t?void 0:t.providerLink.getMetadataTag()}}"><div class="${e=>e.providerNameClassName}" providerNameWithNoLogo" style=${e=>e.overrideBodyFontFamily?`font-family: ${e.overrideBodyFontFamily}`:""}>${e=>e.providerName}</div></a>`)} ${(0,y.g)((e=>!e.providerUrl&&e.providerLogoUrl),f.dy`<div class="providerContainer"><div class=${e=>e.providerLogoClassName}><img alt="${e=>e.providerName}" src="${e=>e.providerLogoUrl}" @load="${e=>e.providerLogoOnLoad()}" /></div><div class="${e=>e.providerNameClassName}"" style=${e=>e.overrideBodyFontFamily?`font-family: ${e.overrideBodyFontFamily}`:""}>${e=>e.providerName}</div></div>`)} ${(0,y.g)((e=>!e.providerUrl&&!e.providerLogoUrl),f.dy`<div class="${e=>e.enableLargeLogo?"providerNameLarge":"providerName"}" providerNameWithNoLogo" style=${e=>e.overrideBodyFontFamily?`font-family: ${e.overrideBodyFontFamily}`:""}>${e=>e.providerName}</div>`)}</div>${(0,y.g)((e=>{var t;return(null===(t=e.config)||void 0===t?void 0:t.slots.publisherSubscribeFollowButton)&&!e.isNewsbarFeedMode&&e.renderFollowButton}),f.dy` ${e=>e.renderPublisherFollow()} `)}</div></div>`,P=f.dy`
${x}<div class="${e=>e.viewsInfoClassNames}"><div class="viewsHeader" data-test-id="views-title"><h1 style=${e=>e.overrideHeaderFontFamily?`font-family: ${e.overrideHeaderFontFamily}`:""} class="viewsHeaderText">${e=>e.viewsHeaderText}</h1></div><div class="${e=>e.viewsHeaderText?"content":"noContent"}"><div class=${e=>e.viewsAttributionClassNames} style=${e=>e.overrideBodyFontFamily?`font-family: ${e.overrideBodyFontFamily}`:""}><span class=${e=>e.viewsAuthorsClassName} title=${e=>e.viewsAuthors} class="tooltip">${(0,y.g)((e=>e.isOpinion&&e.viewsAuthors&&e.opinionAuthorHeaderText),f.dy`<span class="viewsOpinionWord">${e=>T.Ld.Format(e.opinionAuthorHeaderText||"",e.viewsAuthors)}</span>`)} ${(0,y.g)((e=>e.isOpinion&&!e.viewsAuthors&&e.opinionWithoutAuthorHeaderText),f.dy`<span class="viewsOpinionWord">${e=>e.opinionWithoutAuthorHeaderText}</span>`)} ${(0,y.g)((e=>e.viewsAuthors&&!e.isOpinion),f.dy` ${e=>T.Ld.Format(e.authorMessage||"",e.viewsAuthors)} `)} ${(0,y.g)((e=>e.publishedTimeStamp&&e.viewsAuthors),f.dy`  `)}<span class="tooltip" data-content="${e=>e.publishedDateTimeString}" data-t="${e=>{var t,i;return null===(i=null===(t=e.viewsHeaderTelemetryContext)||void 0===t?void 0:t.lastUpdateDateTime)||void 0===i?void 0:i.getMetadataTag()}}" @mouseenter=${(e,t)=>{t.event&&e.handleHoverOnDate(t.event.currentTarget)}} @focusin=${(e,t)=>{t.event&&e.handleHoverOnDate(t.event.currentTarget)}} title>${e=>e.publishedTimeStamp}</span></span></div></div>${(0,y.g)((()=>!(0,C.N)()),(e=>(0,w.a)(`${m.nz}viewsHeaderWC`)))}</div>`,S=f.dy`${P}`;var $=i(99452),I=i(54256),R=i(13218),F=i(9872),L=i(23907),O=i(49903),D=i(53915),M=i(81586),k=i(78058);var B=i(44132),H=i(97022),N=i(71934),_=i(73344);let E=class extends o.H{constructor(){super(...arguments),this.hidePublisherFollowButton=!1,this.loadState=0,this.isProviderLogoTtvrFired=!1,this.publisherFlyoutRegistered=!1,this.lastUpdatedFullDateTmplStamped=!1,this.onTogglePublisherFollowButton=e=>{this.hidePublisherFollowButton=e},this.handleHoverOnDate=e=>{this.lastUpdatedFullDateTmplStamped||(this.lastUpdatedFullDateTmplStamped=!0,B.M0.sendActionEvent(e,M.Aw.Hover,M.wu.Show))}}connected(){this.updateDateString(),this.loadState=1,(0,C.N)()&&(this.renderFollowButton=!0)}providerNameChanged(){this.isProviderNoLogo()&&(0,C.N)()&&window.requestAnimationFrame((()=>{window.setTimeout((()=>{this.fireProviderLogoTTVR()}))}))}providerProfileIdChanged(){this.enablePublisherFlyout&&(0,C.N)()&&this.registerPublisherFlyoutTrigger()}viewsHeaderTextChanged(){this.viewsHeaderText&&(0,C.N)()&&this.visualReadinessCallback&&this.visualReadinessCallback(c.JX.ViewsContentHeader)}providerLogoAndNameRefChanged(){this.tryRegisterPublisherFlyoutTrigger()}publishedTimeStampChanged(){this.updateDateString()}rootTelemetryObjectChanged(){this.rootTelemetryObject&&(this.viewsHeaderTelemetryContext=((e,t)=>{const i={name:"destination",type:M.c9.ActionButton,behavior:M.wu.Navigate,content:Object.assign(Object.assign({},t),{type:M.uH.PartnerLinks})},n=e.addOrUpdateChild(i),o=new k.D({name:"providerLogo"}),r=e.addOrUpdateChild({name:"lastUpdateDateTime",action:M.Aw.Hover,behavior:M.wu.Hover});return{componentRoot:e,providerLink:n,providerLinkWrapper:o,lastUpdateDateTime:r}})(this.rootTelemetryObject,this.viewsHeaderTelemetryContentData))}get viewsInfoClassNames(){return(0,I.A)("viewsInfo","gradientBackground",["viewsInset",!!this.isInset],["viewsInfoFullWidth",!!this.isFullSizeMode])}get viewsAttributionClassNames(){return(0,I.A)("viewsAttribution","viewsAttributionNewRR",["viewsAttributionFullWidth",!!this.isFullSizeMode],["viewsAttributionDivider",!this.isNewsbarFeedMode&&!this.removeDivider],["viewsAttributionLowerCol",!!this.shouldRenderLowerColArrangement])}get providerInfoClassNames(){return this.enableNewProviderHeader?(0,I.A)("newProviderBannerContainer",this.newProviderBannerClassName,["fullProviderLogo",this.providerHasFullLogo]):(0,I.A)("providerInfo","gradientBackground")}get viewsAuthorsClassName(){return(0,I.A)("viewsAuthors")}get authorMessage(){var e;return null===(e=this.localizedStrings)||void 0===e?void 0:e.authorMessage}get opinionAuthorHeaderText(){var e;return null===(e=this.localizedStrings)||void 0===e?void 0:e.opinionAuthorHeaderText}get providerHasFullLogo(){var e;return this.enableNewProviderHeader&&!!(null===(e=A[this.providerId])||void 0===e?void 0:e.logoResId)}get providerFullLogo(){if(!this.providerHasFullLogo)return;const e=(0,D.dn)(A[this.providerId].logoResId);return(0,_.mL)(e,{width:120,height:24,enableDpiScaling:!1,format:_.D3.PNG})}get bannerBackgroundColor(){if(this.enableNewProviderHeader)return A[this.providerId]&&A[this.providerId].sampleColor?A[this.providerId].sampleColor:(0,D.oR)()?g:p}get isBgLuminanceDarkmode(){return this.enableNewProviderHeader&&function(e){const t=e.substring(1),i=parseInt(t,16);if(.2126*(i>>16&255)+.7152*(i>>8&255)+.0722*(i>>0&255)<128)return!0}(this.bannerBackgroundColor)}get overrideProviderNameStyle(){let e="";return this.overrideBodyFontFamily&&(e+=`font-family: ${this.overrideBodyFontFamily};`),this.bannerBackgroundColor&&!this.providerHasFullLogo&&(e+=`color: ${this.isBgLuminanceDarkmode?"#ffffff":"#2b2b2b"};`),e}updateDateString(){if(!this.localizedStrings)return;const e=new F.$;e.overrideDateFormat(F.g.Weekday,{weekday:"long"});const t=new Date(this.publishedDateString);this.publishedDateTimeString=t.toLocaleString(R.Al.Locale),this.publishedTimeStamp=t?(0,L.fh)(t,R.Al.Locale,(0,D.DW)(this.localizedStrings,!0),void 0,e,!0,!0):""}renderPublisherFollow(){if(this.config.slots.publisherSubscribeFollowButton)return(0,O.Ot)((0,D.HQ)(this.config.slots.publisherSubscribeFollowButton,this.contentId),{properties:{enablePublisherFlyout:this.enablePublisherFlyout,publisherId:this.providerId,publisherProfileId:this.providerProfileId,publisherName:this.providerName,hidePublisherFollowButton:this.hidePublisherFollowButton,enableNewProviderHeader:this.enableNewProviderHeader,isBgLuminanceDarkmode:this.isBgLuminanceDarkmode}})}registerPublisherFlyoutTrigger(){var e;const t=null===(e=this.config)||void 0===e?void 0:e.slots.socialProfilePromo;this.providerProfileId&&t&&(this.publisherFlyoutRenderer=()=>f.dy`${(0,O.Ot)((0,D.HQ)(t,this.contentId),{properties:{containerStyle:"padding-top: 16px;",providerId:this.providerId,providerProfileId:this.providerProfileId,providerUrl:this.providerUrl,providerName:this.providerName,providerLogoUrl:this.providerLogoUrl}})}`,this.tryRegisterPublisherFlyoutTrigger())}async tryRegisterPublisherFlyoutTrigger(){if(await(0,m.b1)(),this.enablePublisherFlyout&&this.providerProfileId&&!this.publisherFlyoutRegistered&&this.providerLogoAndNameRef&&this.publisherFlyoutRenderer){const{PopoverManager:e}=await i.e("libs_social-utils_dist_utils_PopoverManager_js").then(i.bind(i,69766));e.registerTrigger({triggerElement:this.providerLogoAndNameRef,childrenRenderer:this.publisherFlyoutRenderer,childrenType:"WC",onToggle:this.onTogglePublisherFollowButton}),this.publisherFlyoutRegistered=!0}}providerLogoOnLoad(){this.fireProviderLogoTTVR(window.performance.now())}providerLogoOnError(){this.fireProviderLogoTTVR()}fireProviderLogoTTVR(e){!this.isProviderLogoTtvrFired&&(0,C.N)()&&(this.visualReadinessCallback&&this.visualReadinessCallback(c.JX.ViewsContentProvider,e),this.isProviderLogoTtvrFired=!0)}isProviderNoLogo(){return this.providerName&&!this.providerLogoUrl}get newProviderBannerClassName(){let e="newProviderBannerBgLight";return(0,D.oR)()&&(e="newProviderBannerBgDark"),e}get providerLogoClassName(){let e="providerLogo";return this.enableLargeLogo&&(e="providerLogoLarge"),this.enableNewProviderHeader&&(e=this.providerFullLogo?"providerLogoFull":"providerLogoSm"),e}get providerNameClassName(){let e="providerName";return this.enableLargeLogo&&(e="providerNameLarge"),this.enableNewProviderHeader&&(e="providerNameSm"),e}get providerInfoWrapperClassNames(){return(0,I.A)("providerInfoWrapper",["providerInfoFullSizeWidth",!!this.isFullSizeMode],["providerInfoSpace",this.enableNewProviderHeader],["fullProviderLogo",this.enableNewProviderHeader&&this.providerHasFullLogo])}get providerLogoAndNameUrl(){var e;if(this.enableNewProviderHeader){const t=null!==(e=this.providerName)&&void 0!==e?e:"page";return(0,N.t)(this.providerProfileId,t,"source")}return this.providerUrl}};(0,n.gn)([$.LO],E.prototype,"providerLogoUrl",void 0),(0,n.gn)([$.LO],E.prototype,"providerName",void 0),(0,n.gn)([$.LO],E.prototype,"providerProfileId",void 0),(0,n.gn)([$.LO],E.prototype,"renderFollowButton",void 0),(0,n.gn)([$.LO],E.prototype,"providerUrl",void 0),(0,n.gn)([$.LO],E.prototype,"removeDivider",void 0),(0,n.gn)([$.LO],E.prototype,"viewsAuthors",void 0),(0,n.gn)([$.LO],E.prototype,"viewsHeaderText",void 0),(0,n.gn)([$.LO],E.prototype,"hidePublisherFollowButton",void 0),(0,n.gn)([$.LO],E.prototype,"isFullSizeMode",void 0),(0,n.gn)([$.LO],E.prototype,"isInset",void 0),(0,n.gn)([$.LO],E.prototype,"isNewsbarFeedMode",void 0),(0,n.gn)([$.LO],E.prototype,"isOneColumn",void 0),(0,n.gn)([$.LO],E.prototype,"isOpinion",void 0),(0,n.gn)([$.LO],E.prototype,"loadState",void 0),(0,n.gn)([$.LO],E.prototype,"opinionWithoutAuthorHeaderText",void 0),(0,n.gn)([$.LO],E.prototype,"overrideBodyFontFamily",void 0),(0,n.gn)([$.LO],E.prototype,"overrideHeaderFontFamily",void 0),(0,n.gn)([$.LO],E.prototype,"providerLogoAndNameRef",void 0),(0,n.gn)([$.LO],E.prototype,"publishedTimeStamp",void 0),(0,n.gn)([$.LO],E.prototype,"publishedDateTimeString",void 0),(0,n.gn)([$.LO],E.prototype,"shouldRenderLowerColArrangement",void 0),(0,n.gn)([$.LO],E.prototype,"viewsHeaderTelemetryContext",void 0),(0,n.gn)([$.LO],E.prototype,"viewsHeaderTelemetryContentData",void 0),(0,n.gn)([$.LO],E.prototype,"rootTelemetryObject",void 0),(0,n.gn)([$.lk],E.prototype,"viewsInfoClassNames",null),(0,n.gn)([$.lk],E.prototype,"viewsAttributionClassNames",null),(0,n.gn)([$.lk],E.prototype,"bannerBackgroundColor",null),(0,n.gn)([$.lk],E.prototype,"isBgLuminanceDarkmode",null),(0,n.gn)([$.lk],E.prototype,"overrideProviderNameStyle",null),E=(0,n.gn)([H.b],E);let V=class extends E{};V=(0,n.gn)([(0,o.M)({name:"views-header-wc",template:S,styles:v})],V)},51947:function(e,t,i){"use strict";i.d(t,{H:function(){return A}});var n=i(33940),o=i(28904),r=i(99452),a=i(51389),s=i(42701),d=i(95796),l=i(10290),c=i(70041),p=i(86763);class g extends o.H{constructor(){super(...arguments),this.contentTitle="",this.contentId="",this.isHorizontalLayout=!1,this.isAdsDisabled=!1,this.topPositionPx=127,this.hasContentProviderCard=!0,this.skipInitialRenderingVisibilityCheckForAds=!1,this.additionalContainerHeight=0,this.isTopAdBig=!1,this.isBottomAdBig=!1,this.updateContainerHeight=e=>{var t,i,n,o;const{height:r=0,targetId:a=""}=e,s=null===(t=this.secondDisplayAdRef)||void 0===t?void 0:t.querySelector(this.displayAdWebComponentName);null!=s&&null!==(i=s.shadowRoot)&&void 0!==i&&i.getElementById(a)&&(this.isBottomAdBig=r>p.gM);const d=null===(n=this.firstDisplayAdRef)||void 0===n?void 0:n.querySelector(this.displayAdWebComponentName);null!=d&&null!==(o=d.shadowRoot)&&void 0!==o&&o.getElementById(a)&&(this.isTopAdBig=r>p.gM)}}get displayAdOptions(){return{properties:{...this.contentInfoForAd,skipInitialRenderingVisibilityCheck:this.skipInitialRenderingVisibilityCheckForAds},memoize:!1}}get hasBottomAd(){return!this.isAdsDisabled&&(this.hasBottomAdInHorizontalLayout||!this.isHorizontalLayout)}get topPosition(){const e=this.componentHeight;return window.innerHeight-this.topPositionPx>e||this.isAdsDisabled?this.topPositionPx:window.innerHeight-e-p.dt}get contentProviderCardOptions(){return{properties:{contentId:this.contentId,contentTitle:this.contentTitle,publisherProfileId:this.publisherProfileId,onContentProviderCardFetched:e=>{var t;return this.hasContentProviderCard=Boolean(null==e||null===(t=e.itemList)||void 0===t?void 0:t.length)}}}}connectedCallback(){super.connectedCallback(),s.V.addEventListener(d.T.AdReturned,this.updateContainerHeight),s.V.addEventListener(d.T.AdRefreshed,this.updateContainerHeight)}disconnectedCallback(){super.disconnectedCallback()}get componentHeight(){const e=this.isTopAdBig?p.CG:p.gM,t=this.isBottomAdBig?p.CG:p.gM;return e+(p.gM+this.additionalContainerHeight)+t+2*p.mr}get hasBottomAdInHorizontalLayout(){return this.isHorizontalLayout&&!this.hasContentProviderCard&&!this.isBottomAdBig}get displayAdWebComponentName(){return(0,a.hZ)((0,l.ITY)(c.x.displayAdsWC))}}(0,n.gn)([r.LO],g.prototype,"contentTitle",void 0),(0,n.gn)([r.LO],g.prototype,"contentId",void 0),(0,n.gn)([r.LO],g.prototype,"isHorizontalLayout",void 0),(0,n.gn)([r.LO],g.prototype,"isAdsDisabled",void 0),(0,n.gn)([r.LO],g.prototype,"topPositionPx",void 0),(0,n.gn)([r.LO],g.prototype,"contentProviderCardConfig",void 0),(0,n.gn)([r.LO],g.prototype,"topDisplayAdConfig",void 0),(0,n.gn)([r.LO],g.prototype,"bottomDisplayAdConfig",void 0),(0,n.gn)([r.LO],g.prototype,"firstDisplayAdRef",void 0),(0,n.gn)([r.LO],g.prototype,"secondDisplayAdRef",void 0),(0,n.gn)([r.LO],g.prototype,"contentInfoForAd",void 0),(0,n.gn)([r.LO],g.prototype,"hasContentProviderCard",void 0),(0,n.gn)([r.LO],g.prototype,"publisherProfileId",void 0),(0,n.gn)([r.LO],g.prototype,"skipInitialRenderingVisibilityCheckForAds",void 0),(0,n.gn)([r.LO],g.prototype,"renderContentCard",void 0),(0,n.gn)([r.LO],g.prototype,"additionalContainerHeight",void 0),(0,n.gn)([r.LO],g.prototype,"isTopAdBig",void 0),(0,n.gn)([r.LO],g.prototype,"isBottomAdBig",void 0),(0,n.gn)([r.lk],g.prototype,"topPosition",null),(0,n.gn)([r.lk],g.prototype,"componentHeight",null);var u=i(49218),h=i(41472),v=i(93703),m=i(54256),f=i(49903),b=i(42166);const y=u.dy`<div ${(0,h.i)("firstDisplayAdRef")} class="${p.Sh.topDisplayAd}">${(0,v.g)((e=>e.topDisplayAdConfig&&e.contentInfoForAd),(e=>(0,f.Ot)(e.topDisplayAdConfig,e.displayAdOptions)))}</div>`,w=u.dy`<div ${(0,h.i)("secondDisplayAdRef")}>${(0,v.g)((e=>e.bottomDisplayAdConfig&&e.contentInfoForAd),(e=>(0,f.Ot)(e.bottomDisplayAdConfig,e.displayAdOptions)))}</div>`,C=u.dy`<fluent-design-system-provider use-defaults>${e=>(0,f.Ot)(e.contentProviderCardConfig,e.contentProviderCardOptions)}</fluent-design-system-provider>`,T=u.dy`<div class="${e=>(0,m.A)(e.isHorizontalLayout?p.Sh.HorizontalContainer:p.Sh.VerticalContainer,[p.Sh.twoBlocksContainer,!e.hasContentProviderCard])}" data-test-id="right-rail" style=${e=>`top: ${(0,b.a)(e.topPosition)}`} part="rail-container">${(0,v.g)((e=>!e.isAdsDisabled),y)} ${(0,v.g)((e=>e.contentProviderCardConfig&&e.hasContentProviderCard&&!e.renderContentCard),C,u.dy`${e=>{var t;return null===(t=e.renderContentCard)||void 0===t?void 0:t.call(e)}}`)} ${(0,v.g)((e=>e.hasBottomAd),w)}</div>`;let A=class extends g{};A=(0,n.gn)([(0,o.M)({name:"views-right-rail",template:T,styles:p.QA})],A)},86763:function(e,t,i){"use strict";i.d(t,{CG:function(){return l},QA:function(){return h},Sh:function(){return u},dt:function(){return s},gM:function(){return d},mr:function(){return a}});var n=i(78923),o=i(42166),r=i(72263);const a=20,s=32,d=270,l=620,c=(0,o.a)(d),p=(0,o.a)(s);function g(e){return`views-right-rail-${e}`}const u={topDisplayAd:g("top-display"),twoBlocksContainer:g("two-blocks"),VerticalContainer:g("vertical"),HorizontalContainer:g("horizontal")},h=n.i` :host{display:block;height:100%}.${u.VerticalContainer}{display:grid;position:sticky;grid-template-rows:${c} ${c} max-content;grid-gap:${(0,o.a)(a)};padding-inline-start:32px;padding-bottom:${p};padding-top:${p}}.${u.VerticalContainer}.${u.twoBlocksContainer}{grid-template-rows:${c} max-content}.${u.HorizontalContainer}{display:flex;align-items:center;height:${c};gap:12px;margin:${p} auto 0;padding:0}.${u.HorizontalContainer} .${u.topDisplayAd}{order:2}.${u.topDisplayAd}{overflow:hidden}${(0,r.eH)(r.K$.c3)}{.${u.VerticalContainer}{padding:${p} 0 ${p} ${(0,o.a)(20)}}}`},97022:function(e,t,i){"use strict";i.d(t,{b:function(){return a}});var n=i(99452),o=i(28904);const r={handleChange(e){e.$fastController.isConnected?e.connected&&e.connected():e.disconnected&&e.disconnected()}};function a(e){return class extends e{constructor(){super(...arguments),n.y$.getNotifier(this.$fastController).subscribe(r,"isConnected")}}}a(o.H)}}]);