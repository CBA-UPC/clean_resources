  def('bootstrap/alert', function(){ def("alert",function(){$("body").on("click",".alert-open",function(e){e.preventDefault(),$(this).next(".alert").toggleClass("show")}),$("body").on("click",".alert-close",}); });    def('bootstrap/forms', function(){ function FormFilter(e){var t,n,l=this,r={onOpen:!1,onClose:!1,onSelect:!1};function i(){var e=[].slice.call(arguments),t=e.shift();return e.unshift(this.element),"function"==typeof r[t]?r[t].apply(this,e):null}this.element=e,this.template=function(t,n,r){var i=n?new RegExp("("+n.join("|")+")","gim"):null,s=e.querySelector(".target");l.list||(l.list=t||[]),s.innerHTML=(t||l.list).map(function(e){return{text:e[1]||e[0],attrs:e[2]}}).reduce(function(e,t,n){if(i){var l=t.text.replace(/<[^>]+>/g,"").trim();i.test(l)&&(t.text=t.text.replace(l,l.replace(i,'<span class="result-highlight">$&</span>')))}var s="";if(t.attrs)for(var o=t.attrs.length-1;o>=0;o--)s+=t.attrs[o].name+"='"+t.attrs[o].value+"' ";return e+'<li class="select-option '+(r==n?"selected-term":"")+'" '+s+" >"+t.text+"</li>"},"");var o=s.querySelector(".selected-term");s.scrollTop=o?o.offsetTop-o.offsetHeight-18:0},this.config=t=null,(n=$(l.element)).off().on("click",".final-term, .svg-icon, .btn-close",function(e){e.preventDefault(),l.list&&l.template(l.list),toggleListResult.call(this)}).on("keyup",".input-term",function(e){var n;t&&(t=clearTimeout(t)),l.list||(l.list=(n=Array.prototype.slice.call(l.element.querySelectorAll(".select-option"))).length?n.reduce(function(e,t){return e.push([t.innerText,t.innerHTML,t.attributes]),e},[]):[]);var r=this;t=setTimeout(120)}).on("click",".select-option",getText.bind(l)),n.on("form-filter-open",function(){i.call(l,"onOpen")}).on("form-filter-close",.on("form-filter-select",}function preventScroll(e,t){if(!t&&-1==!t.indexOf(lib.breakpoints.breakpoint.name)){var n,l=$("body"),r=$("html");e?(n=window.pageYOffset,r.css({overflow:"hidden"}),l.css({position:"fixed",top:-n})):(n=-parseInt(l.css("top")),r.css({overflow:""}),l.css({position:"",top:""}),window.scrollTo(0,n))}}function inputKey(e,t){var n=this.value,l=t.list;if(l)if("selected"in l||(l.selected=0),27==e.keyCode)t.template(l),toggleListResult();else if(n){var r=n.split(" ");if(38==e.keyCode)l.selected=l.selected>0?l.selected-1:l.indexes.length-1;else if(40==e.keyCode)l.selected=l.selected+1<l.indexes.length?l.selected+1:0;else{if(13==e.keyCode)return $(this).parents(".form-filter").find(".selected-term").trigger("click"),t.template(l),void toggleListResult();37!=e.keyCode&&39!=e.keyCode&&(l.selected=0,l.indexes=l.filter(function(e){return r.length==r.filter(function(t){return-1!=lib.string.slug(e[0]).indexOf(lib.string.slug(t))}).length}))}t.template(l.indexes,r,l.selected)}else t.template(l)}function toggleListResult(){var e=$(this).closest(".form-filter"),t=$(".form-filter").not(e).addClass("closed");t.find(".svg-icon > use")?t.find(".svg-icon > use").attr("xlink:href","#svg-single-arrow-down"):t.find("i").removeClass("icon-single-arrow-up").addClass("icon-single-arrow-down");var n=e.toggleClass("closed");if(n.find(".svg-icon > use")){const e="#svg-single-arrow-up";n.find(".svg-icon > use").attr("xlink:href",function(t,n){return n==e?"#svg-single-arrow-down":e})}else n.find("i").toggleClass("icon-single-arrow-down icon-single-arrow-up");$(".form-filter").not(e).each(function(){var e=$(this);e.hasClass("closed")||(e.addClass("closed").find("i").removeClass("icon-single-arrow-up").addClass("icon-single-arrow-down"),e.triggerHandler("form-filter-close"),preventScroll(!1,["xs"]))}),e.length&&e.hasClass("closed")?(e.triggerHandler("form-filter-open"),preventScroll(!0,["xs"])):e.length&&(e.triggerHandler("form-filter-close"),preventScroll(!1,["xs"])),e.find(".input-term").focus().val("")}function getText(e){var t=$(e.currentTarget),n=t.closest(".form-filter");n.find(".final-term").html(t.html()),toggleListResult(),this.list&&(this.list.selected=t.index()),n.triggerHandler("form-filter-select",t.data())}expose.selector=".form-filter",expose.init=function(){this.FormFilter=new FormFilter(this.dom),$(this.dom).data("formFilter",this.FormFilter)},0==$(document).find(".form-filter").length&&0==$(document).find(".lazy-component").length||$(document).mouseup(function(e){0==$(e.target).closest(".form-filter").length&&toggleListResult()}),$(".drop-select").off().on("click",".drop-item",function(){var e=$(this),t=e.parents(".drop-select"),n=t.find(".selector").children("span"),l=null,r=parseInt(t.attr("data-open")),i=(parseInt(t.attr("data-selected")),e.prop("tagName").toLowerCase());r?t.attr("data-open",0):t.attr("data-open",1);if(t.find("p.selector").find("use").attr("xlink:href",,"label"==i){e.attr("data-default")?(l="0",t.find("input:checkbox").removeAttr("checked")):l="1",t.attr("data-selected",l);var s=e.children("span").html();n.html(s),t.find(".drop-item").removeClass("selected"),e.addClass("selected")}return!1}),0!=$(document).find(".drop-select[data-open=1]").length&&$(document).mouseup(function(e){var t=$(".drop-select[data-open=1]");t.is(e.target)||0!==t.has(e.target).length||(1==t.attr("data-open")&&t.attr("data-close-metric")&&hitAudience.countClick(t.attr("data-close-metric")),t.attr("data-open",0),t.find("p.selector").find("use").attr("xlink:href","#svg-single-arrow-down"))}); });    def('bootstrap/photo', function(){ def("photo",function(){expose.pinit=function(){var t=$(this.dom),i=navigator.userAgent||"";t.each(function(){var t=$(this),n="uol_"+Date.now(),e=$('<a class="pinit-btn" href="javascript:void(0)"><img width="56" height="28" src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_red_28.png" /></a>'),o=t[0].classList.contains("img-placeholder")?" placeholder":"";t.wrap('<div class="pinit-wraper'+o+'"></div>'),e.insertAfter(t),e.on("click",function(){var i="http://br.pinterest.com/pin/create/button/?url="+location.protocol+"//"+location.host+location.pathname+"&media="+(t.attr("data-src")||t.attr("src-pin"))+"&description="+document.title;hitAudience.countClick({component:"pinterest-on-images",reference:"compartilhe_pinterest",action:"clique"}),window.open(i,n,"height=550, width=750")}),i.match(/Windows Phone/i)?t.parent().on("click",function(){e.toggle()}):(t.parent().on("mouseover",function(){e.show()}),t.parent().on("mouseout",function(){e.hide()}))})},expose.init=function(){window.lazyload(this.dom,this.pinit.bind(this))},expose.selector=".pinit-img"}); });    def('bootstrap/read-more', function(){ def("read-more",function(){"use strict";include("breakpoints"),expose.flag=!1,expose.update=function(t){var s=this.parse(this.dom.getAttribute("data-height"),{}),e=this.breakpoints.sortOptions(Object.keys(s),!0,!1),i=$(this.dom).find(".calc-height").length>0?$(this.dom).find(".calc-height"):$(this.dom);$(this.dom).removeClass("btn-hide").addClass("btn-show"),e&&0!=s[e].close&&s[e]["min-height"]<i.outerHeight()?this.flag||this.change(s[e].close+"px"):($(this.dom).addClass("btn-hide").removeClass("btn-show"),this.show(!1))},expose.scrollTop=function(t){var s=$(t).parents(".read-more").offset().top;s-=50,$("html,body").animate({scrollTop:s+"px"})},expose.hide=expose.show=function(t){!1!==t&&(this.flag=!0),this.change("auto")},expose.change=function(t){var s=$(this.dom);s.removeClass("auto"==t?"closed":"opened").addClass("auto"==t?"opened":"closed"),"auto"==t?s.removeAttr("style"):s.height(t)},expose.isOpen=expose.toggle=expose.init=function(){var t=this;if(this.update(),this.breakpoints.change(this,,!this.dom.querySelector(".read-more-btn")){$(this.dom).append('<div class="read-more-btn"><button class="btn btn-primary btn-large btn-first">Ver mais <svg class="svg-icon-view-box-small right-icon"><use xlink:href="#svg-single-arrow-down" /></svg></button><button class="btn btn-primary btn-large btn-last hide">Ver menos <svg class="svg-icon-view-box-small right-icon"><use xlink:href="#svg-single-arrow-up" /></svg></button></div>')}$(this.dom).on("click",".read-more-btn:last > .btn, .read-more-btn:last .btn-divisor",function(s){$(this).hasClass("btn-last")&&t.scrollTop(this,$(this).parent(".read-more")),t.toggle.call(t),$(this).parent().find(".btn").toggleClass("hide")})}}); });    def('modal', function(){ instances.modal=[];var bodyTopPosition=0;expose.create=expose.open=function(e,o,t,s,n){var c=this.create();return o&&c.setMode.apply(c,o.split(":").reverse()),t&&c.setStyle(t),s&&c.setEvents(s),c.setContent(e,!0),-1==document.body.className.indexOf("modal-open")&&(n?(bodyTopPosition=document.body.scrollTop||document.documentElement.scrollTop,$("body").addClass("googleCaptcha")):document.body.style.top="-"+(document.body.scrollTop||document.documentElement.scrollTop)+"px"),document.body.className+=" modal-open",c},expose.Modal=function(){this.buildStructure(),this.enableUIControl(),this.enableEscClose(),this.enableClickClose(),"function"==typeof crazyloadinit&&this.addScrollEvent(crazyloadinit),instances.modal.push(this),$(this.dom).parent().prepend('<svg width="70px" height="70px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="loading uil-ring"><rect x="0" y="0" width="100" height="100" fill="none" class="bk"></rect><defs><filter id="uil-ring-shadow" x="-100%" y="-100%" width="300%" height="300%"><feOffset result="offOut" in="SourceGraphic" dx="0" dy="0"></feOffset><feGaussianBlur result="blurOut" in="offOut" stdDeviation="0"></feGaussianBlur><feBlend in="SourceGraphic" in2="blurOut" mode="normal"></feBlend></filter></defs><path d="M10,50c0,0,0,0.5,0.1,1.4c0,0.5,0.1,1,0.2,1.7c0,0.3,0.1,0.7,0.1,1.1c0.1,0.4,0.1,0.8,0.2,1.2c0.2,0.8,0.3,1.8,0.5,2.8 c0.3,1,0.6,2.1,0.9,3.2c0.3,1.1,0.9,2.3,1.4,3.5c0.5,1.2,1.2,2.4,1.8,3.7c0.3,0.6,0.8,1.2,1.2,1.9c0.4,0.6,0.8,1.3,1.3,1.9 c1,1.2,1.9,2.6,3.1,3.7c2.2,2.5,5,4.7,7.9,6.7c3,2,6.5,3.4,10.1,4.6c3.6,1.1,7.5,1.5,11.2,1.6c4-0.1,7.7-0.6,11.3-1.6 c3.6-1.2,7-2.6,10-4.6c3-2,5.8-4.2,7.9-6.7c1.2-1.2,2.1-2.5,3.1-3.7c0.5-0.6,0.9-1.3,1.3-1.9c0.4-0.6,0.8-1.3,1.2-1.9 c0.6-1.3,1.3-2.5,1.8-3.7c0.5-1.2,1-2.4,1.4-3.5c0.3-1.1,0.6-2.2,0.9-3.2c0.2-1,0.4-1.9,0.5-2.8c0.1-0.4,0.1-0.8,0.2-1.2 c0-0.4,0.1-0.7,0.1-1.1c0.1-0.7,0.1-1.2,0.2-1.7C90,50.5,90,50,90,50s0,0.5,0,1.4c0,0.5,0,1,0,1.7c0,0.3,0,0.7,0,1.1 c0,0.4-0.1,0.8-0.1,1.2c-0.1,0.9-0.2,1.8-0.4,2.8c-0.2,1-0.5,2.1-0.7,3.3c-0.3,1.2-0.8,2.4-1.2,3.7c-0.2,0.7-0.5,1.3-0.8,1.9 c-0.3,0.7-0.6,1.3-0.9,2c-0.3,0.7-0.7,1.3-1.1,2c-0.4,0.7-0.7,1.4-1.2,2c-1,1.3-1.9,2.7-3.1,4c-2.2,2.7-5,5-8.1,7.1 c-0.8,0.5-1.6,1-2.4,1.5c-0.8,0.5-1.7,0.9-2.6,1.3L66,87.7l-1.4,0.5c-0.9,0.3-1.8,0.7-2.8,1c-3.8,1.1-7.9,1.7-11.8,1.8L47,90.8 c-1,0-2-0.2-3-0.3l-1.5-0.2l-0.7-0.1L41.1,90c-1-0.3-1.9-0.5-2.9-0.7c-0.9-0.3-1.9-0.7-2.8-1L34,87.7l-1.3-0.6 c-0.9-0.4-1.8-0.8-2.6-1.3c-0.8-0.5-1.6-1-2.4-1.5c-3.1-2.1-5.9-4.5-8.1-7.1c-1.2-1.2-2.1-2.7-3.1-4c-0.5-0.6-0.8-1.4-1.2-2 c-0.4-0.7-0.8-1.3-1.1-2c-0.3-0.7-0.6-1.3-0.9-2c-0.3-0.7-0.6-1.3-0.8-1.9c-0.4-1.3-0.9-2.5-1.2-3.7c-0.3-1.2-0.5-2.3-0.7-3.3 c-0.2-1-0.3-2-0.4-2.8c-0.1-0.4-0.1-0.8-0.1-1.2c0-0.4,0-0.7,0-1.1c0-0.7,0-1.2,0-1.7C10,50.5,10,50,10,50z" filter="url(#uil-ring-shadow)"></path></svg>')},expose.Modal.prototype={mode:"normal",upmode:"",fx:{name:"fade",speed:200},visible:!1,onshow:function(){},onbeforeshow:function(){},onhide:function(){},onclose:function(e){if(e&&e.category){var o=e&&this.audienceObject(e);o&&hitAudience.countClick(o)}},audienceObject:function(e,o){return o=o||"","click"==e.type&&-1!=e.target.className.indexOf("icon-close")?o="fechar-modal":"click"==e.type&&-1!=e.target.className.indexOf("no-load")?o="fechar-clique-fora":"keyup"==e.type&&-1!=e.target.className.indexOf("modal-open")&&(o="fechar-esc-keyup"),e={reference:o,category:"login-"+e.category,action:"clique"}},onbeforeclose:function(){$("body").hasClass("googleCaptcha")&&(document.body.style.top=-1*bodyTopPosition+"px",$("body").removeClass("googleCaptcha"),$("body").removeClass("modal-open"))},visible_:!1,esc_:!1,click_:!1,queue_:[],setMode:function(e,o,t){t?this.fx.name=t:e&&(this.fx.name=e),e&&(this.closure.className+=" modal-mode-"+(this.mode=e)),void 0!==o&&(this.upmode&&(document.body.className=document.body.className.replace(" modal-"+this.upmode,"")),this.upmode=o,document.body.className+=" modal-"+this.upmode)},setEvents:setStyle:setContent:function(e,o){if(!0===o&&(o=this.show),e instanceof jQuery&&(e=e.get(0)),e instanceof Node&&(e=e.outerHTML),"object"==typeof e){var t=(Config||{}).servicename!=undefined?Config.servicename:"/service/",s=(e.path||t)+"?json&loadComponent="+e.type+"&data="+encodeURIComponent(JSON.stringify(e.args))+"&configPath="+(e.configPath||Config.configPath);this.setMode(null,e.type),def.prototype.getjson.call(this,s,function(e){this.dom.innerHTML=e.body,o&&o.call(this),render()})}else-1==e.indexOf("\n")&&/^(https?:)?\/+[a-z0-9]|\..{2,4}$/.test(e)?def.prototype.getjson.call(this,e,function(e){this.dom.innerHTML=e.body,o&&o.call(this),render()}):(this.dom.innerHTML=e,o&&o.call(this),render())},show:function(e){if(this.visible=!0,this.closure.className=this.closure.className.replace(/\s+hide/,""),0==this.onbeforeshow())return!1;var o=this;"left"==this.fx.name?$(this.dom).animate({left:"0"},"normal",function(){e&&e.call(o),o.onshow(),render(),$(o.closure).addClass("no-load")}):"fade"==this.fx.name?$(this.dom).hide().fadeIn(this.fx.speed,function(){e&&e.call(o),o.onshow(),render(),$(o.closure).addClass("no-load")}):(e&&e.call(o),this.onshow(),$(o.closure).addClass("no-load"))},hide:function(e){this.visible=!1;var o=this;"left"==this.fx.name?($(this.closure).fadeOut(),$(this.dom).animate({left:"-100%"},"normal",function(){o.closure.className+=" hide",e&&e.call(o),o.onhide()})):"fade"==this.fx.name?$(this.dom).show().fadeOut(this.fx.speed,function(){o.closure.className+=" hide",e&&e.call(o),o.onhide()}):(this.closure.className+=" hide",e&&e.call(this),this.onhide()),this.upmode&&(document.body.className=document.body.className.replace(" modal-"+this.upmode,""));e:{for(var t=instances.modal.length;t--;)if(instances.modal[t].visible)break e;var s=Math.abs(parseInt(document.body.style.top));document.body.className=document.body.className.replace(/\smodal-open/g,""),document.body.removeAttribute("style"),window.scrollTo(0,s)}},enableUIControl:function(){var e=this;$(this.closure).on("click",".modal-close",function(o){o.preventDefault(),e.close(o);var t=$("head meta[name=viewport]"),s=t.attr("content");t.remove(),$("head").prepend('<meta name="viewport" content="'+s+'" />')})},enableEscClose:function(){this.esc_=!0},disableEscClose:function(){this.esc_=!1},enableClickClose:function(){this.click_=!0},disableClickClose:addButtonClose:function(e,o,t){const s=o||"fechar-modal",n=t?',"paywallType": "'+t+'"':"";$(this.dom).prepend('<button class="btn modal-close" data-audience-click=\'{"reference":"'+s+'","component":"'+e+'"'+n+'}\'><i class="icon-close-2"></i></button>')},addHeader:function(e,o){var t="",s=this.dom;"object"==typeof e?(t=e.html,s=e.closure?this.closure:s):(e&&(t+="<h4>"+e+"</h4>"),o&&(t+='<p class="node"><small>'+o+"</small></p>")),t='<div class="modal-header">'+t+"</div>",$(".modal-header",this.dom).remove(),"BUTTON"==(this.dom.firstElementChild||{}).nodeName?$(this.dom.firstElementChild).after(t):$(s).prepend(t)},addScrollEvent:function(e){var o=this;$(this.dom).on("scroll",},standalone:function(){for(var e=instances.modal.length;e--;){var o=instances.modal[e];o!==this&&(o.visible_=o.visible,o.visible&&o.hide(),this.queue_.push(instances.modal.splice(e,1)[0]))}},close:function(e){if(!1!==this.onbeforeclose()){e&&document.getElementsByClassName("modal-mode-babel-login").length&&(e.category=document.getElementsByClassName("modal-mode-babel-login")[0].dataset.category);for(var o=instances.modal.length;o--&&instances.modal[o]!==this;);if(-1!=o){for(var t=instances.modal.length;--t>o;)instances.modal.splice(t,1)[0].close();instances.modal.splice(o,1)}this.hide(function(){if(this.closure.parentNode.removeChild(this.closure),this.close=function(){},this.onclose(e),this.queue_.length){for(var o=this.queue_.length;o--;)this.queue_[o].visible_&&this.queue_[o].show();instances.modal=this.queue_}})}},buildStructure:function(){this.closure=document.createElement("div"),this.closure.className="modal",this.dom=document.createElement("div"),this.dom.className="modal-wrapper",this.closure.appendChild(this.dom),document.body.appendChild(this.closure)},unique:function(){for(var e=instances.modal.length;e--;)instances.modal[e]!==this&&instances.modal[e].close()}},window.addEventListener("keyup",function(e){switch(e.which||e.keyCode){case 27:const o=2===document.getElementsByClassName("modal modal-mode-left no-load").length;modal=o?new Array(instances.modal[instances.modal.length-1]):instances.modal&&instances.modal.slice(-1)[0],modal&&modal.esc_&&modal.close(e)}}),window.addEventListener("click",function(e){var o=[];if((o=2===document.getElementsByClassName("modal modal-mode-left no-load").length?new Array(instances.modal[instances.modal.length-1]):instances.modal&&instances.modal.slice(-1)[0])&&o.click_){for(var t=window.SVGElementInstance&&e.target instanceof SVGElementInstance?e.target.correspondingUseElement:e.target;t&&("object"==typeof t.className||!t.className||-1==t.className.indexOf("modal-wrapper")&&-1==t.className.indexOf("loginbox"));)t=t.parentNode;t||o.close(e)}document.querySelector(".wrapper-header")&&document.querySelector(".wrapper-header").classList.remove("positioning")},!0); });    def('babel', function(){ "use strict";function like(e){action.call(this,"like",e)}unction action(e,i){return e?i?void lib["babel-login"].login().then(function(o){o.token&&lib["babel-service"].get({type:"message",service:e,id:i,params:{token:o.token}}).then(function(e){if(e.error)return alert(e.error),!1})}):(console.log("Informe o ID do comentário."),!1):(console.error("Informe o tipo da ação (like/dislike)."),!1)}expose.like=like,expose.dislike=dislike; });    def('babel-login', function(){ def("babel-login",["widget-profile","babel-service","babel","modal"],function(){"use strict";var e="babel.user.",o={opener:".babel-login, .pill.not-logged",modal:".modal",user:"#loginUser",password:"#loginPassword",login:"#login",logout:".logout, .pill.logged",message:"label.error",social:".login .loginWith a",changeView:".login .backToLogin a)}function n(){var o=this;0==document.getElementsByClassName("open-comments").length&&"object"==typeof widgetProfile&&widgetProfile.reloadWidget();var t="object"==typeof widgetProfile&&widgetProfile.Settings.getAuth();events.emit(e+"login.success",null,["Usuário checado",t]),o.checkStatus().then(function(o){200==+o.code&&o.result&&o.result.user?5!=o.result.user.userStatus&&7!=o.result.user.userStatus||events.emit(e+"needNickname",null,["Usuário necessita um apelido"]):(events.emit(e+"login.checked",null,["Usuário checado",o]),events.emit("contauol.login.revalidate",null,null))},function(e){console.error("Babel Error:",e),setTimeout(function(){n.call(o)},1e3)})}function i(){var e,o=this,t=$.Deferred();return(e={product:"noticias",source:"UOL",auto_import:!0},console.debug("checkLogin ",e),lib["babel-service"].get({type:"user",service:"login",params:e||{}})).then(function(e){if(e&&"code"in e&&(200==+e.code||401==+e.code||428==+e.code)&&"result"in e&&"isLogged"in e.result)o.session=e.result,o.session.code=+e.code,t.resolve(o.session);else{if(e&&500==+e.code)return o.whereAmI().then(e=>{200==+e.code&&(e.result.isLogged=!0,o.session=e.result,t.resolve(o.session))});t.reject({type:"error",msg:"Houve um problema na autenticação do usuário. Tente novamente."})}}),t.promise()}function s(o){o="function"==typeof o?o:function(){};var t=this;widgetProfile&&widgetProfile.Login.doLogout(!1,function(){t.session=!1;try{instances.header[0].showItens(0)}catch(s){console.error("[widget-profile] A função instances.header[0].showItens() não existe!")}events.emit(e+"logout.success",null,"Deslogado com sucesso!"),document.querySelector(".header, .bbolp-2014").querySelector("#uol-mail-link").querySelector(".mail-notification").innerHTML="";var n=document.querySelector(".news-notice .girouol #subscriber-cmp1"),i=!1;typeof n!==undefined&&null!==n&&(i=!0),i&&(n.value=""),o()})}function a(e){var o="",t=e.separator||"&";return e.separator&&delete e.separator,jQuery.each(e,function(e,n){o+=(o.length?t:"")+encodeURIComponent(e)+"="+encodeURIComponent(n)}),o}function r(e){if("boolean"==typeof e.isLogged&&localStorage.getItem("porteira-login")){var o=e.isLogged?"login-success":"login-failure",t=JSON.parse(localStorage.getItem("porteira-login"));localStorage.removeItem("porteira-login"),e={category:t.component,reference:t.network,action:o},"undefined"!=t.component&&hitAudience.countEvent(e)}else if("string"==typeof e){var n=document.getElementsByClassName("modal-wrapper")[0].dataset.category;localStorage.setItem("porteira-login",JSON.stringify({network:e,component:n}))}}expose.session=!1;var l={fields:o.user+","+o.password+","+o.login,inputs:o.user+","+o.password,enabled:function(e){$(l.fields).attr("disabled",!e)},hasFocus:function(){$(this).closest("label")["focusin"==event.type||"focus"==event.type?"addClass":"removeClass"]("focus")}ernative")}},c={login:function(e){var o={network:{facebook:{sn:1,source:"FACEBOOK"},twitter:{sn:5,source:"TWITTER"}}[(e=$.extend(!0,{type:"login",network:"facebook"},e)).network].sn,type:e.type,url:location.protocol+"//"+location.host+'/service/?loadComponent=babel-login&data={"closeWindow":true}'};r(e.network),l.enabled(!1);var t=window.open("","socialLogin",a({separator:",",width:600,height:600,scrolling:"no",statusbar:"no",resizeable:"no"}));lib["babel-service"].get({type:"user",service:"socialStart",params:{sn:o.network,social_auth_type:o.type,url_callback:o.url}}).then(function(e){var n={separator:"&",sn:o.network,"x-uol-social-tk":e.result.socialtoken};t.location.href="https://social.api.uol.com.br/oauth?"+a(n)})},select:function(e){e.preventDefault(),c.login({network:$(this).text().trim().toLowerCase()})},attempts:0,callback:function(e){var o=lib["babel-login"];if(e.success){var t=function(){i.call(o).then(function(e){!e.isLogged&&c.attempts<=1?(c.attempts++,setTimeout(t,1e3)):(c.attempts=0,u.instance&&u.newWindow&&u.close&&u.close(),events.emit("babel.user.login.success",null,["Logado com sucesso!",u]),o.loginRegister({isLogged:e.isLogged}))},function()ll(null,e)},1e3)})};setTimeout(t,100)}else g.error("Ocorreu um erro na autenticação por Rede Social. Tente novamente mais tarde!"),o.loginRegister({isLogged:!1})}},u={template:null,instance:null,newWindow:!0,getTemplate:function(e,o){if(u.template)u.template=u.template.replace(/(:"login)(-\w+)*/gi,"$1-"+o),e();else{var t={type:"babel-login",args:{page:window.location.href.replace(/#.*/,""),category:o}},n=new XMLHttpRequest;n.open("GET","/service/?loadComponent="+t.type+"&data="+encodeURIComponent(JSON.stringify(t.argonseText,e()},n.send()}},open:function(o){o.preventDefault();var n=o.currentTarget.dataset.category||"undefined",i=$.Deferred(),s={action:"open"};if("undefined"!=n&&(s={action:"open",loginStyle:{hideOutdoor:!1,title:"Acesse sua conta",subtitle:"Para dar sua opinião, participar do debate e interagir com os demais leitores, faça seu login no UOL."},metrics:{category:n}}),n&&window.widgetCustom[n]){var a=window.widgetCustom[n]||{};s.loginStyle={hideOutdoor:!1,title:a.titulo,subtitledal.open",n)})};401===lib["babel-login"].session.code&&lib["babel-login"].isLogged()||428===lib["babel-login"].session.code?lib["babel-login"].logout(r):r();var l=o.data&&o.data.instance||{};if(!!t.apply(l)){var c=$(this).data("config")||{};events.emit(e+"logged",null,["Usuário logado!",c])}return i.nstance.close()}},g={login:function(o){var t=o.data.instance;t.loginRegister("uol"),t.session=!1,t.login().then(function(o){o.type&&"error"==o.type?(g.error(o.msg),t.loginRegister({isLogged:"error"!=o.type})):(console.debug("self.login else",o),t.loginRegister({isLogged:!0}),events.emit(e+"login.success",null,["Logado com sucesso!",u]))})},logout:function(o){var t=o.data.instance;s.call(t),events.emit(e+"logout.success",null,"Deslogado com sucesso!"),"object"==typeof widgetProfile&&widgetProfile.reloadWidget()},error:function(o){$(".login .form").addClass("hasError").find(".error").text(o).removeClass("hidden").end().findn""==this.value}).first().focus(),l.enabled(!0),r({islogged:!1}),events.emit(e+"login.fail",null,o)}};$("body").on("close",o.modal,u.close).on("click",o.opener,{instance:expose},u.open).on("click",o.login,{instance:expose},g.login).on("click",o.logout,{instance:expose},g.logout).on("click",o.social,c.select).on("click",o.changeView,l.changeView).on("focusin focusout",l.inputs,l.hasFocus),expose.login=function(){var e=$.Deferred();return this.isLogged()?(events.emit("babel.user.login.success",null,["Logado com sucesso!",u]),e.resolve(this.session)):function t(){var e=this,n=$.Deferred(),i=$(o.user).val(),s=$(o.password).val();if($(o.message).html(""),console.debug("doLogin"),!i||!s){var a=i?"Informe a senha.":"Informe o usuário.";return n.resolve({type:"error",msg:a})}return $.ajaxFrame({url:lib["babel-service"].routes.url.auth,data:{user:i,pass:s},callback:function(){e.checkStatus().then(function(e){n.resolve(e.isLogged?e:{type:"error",msg:"Email ou senha informados estão incorretos."})},function(){console.error("Babel Error:ction(){t.call(e)},1e3)})}}),n.promise()}.call(this)},expose.logout=s,expose.modalLogin=u.open,expose.isLogged=t,expose.socialLogin=c.login,expose.whereAmI=function(){return lib["babel-service"].get({type:"user",service:"socialSimpleWhereAmI"})},expose.setSession=n,expose.checkStatus=i,expose.loginRegister=r,window.callbackSocialLogin=c.callback,window.onfocus=function(e){var o=lib["babel-login"];if(window.widgetProfile&&e.currentTarget===window&&o){var t=o.isLogged(),i=function(){for(var e=document.cookie.split(";"),o=0;o<e.length;o++){for(var t=e[o];" "==t.charAt(0);)t=t.substring(1);if(0==t.indexOf("JS_SESS="))return t.substring("JS_SESS=".length,t.length)}return"eos"}();(!t&&"eos"!=i||t&&"eos"==i)&&n.call(o)}};var d=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;"xs"==lib.breakpoints.breakpoint.name&&d&&document.addEventListener("widgetNotifyModalLogin",function(e){var o=e.detail;"modal-open"===o.action?$(".header").addClass("modal-login-ios"):"modal-close"===o.action&&$(".header").removeClass("modal-login-ios")},!0),jQuery.ajaxFrame=function(e){var o,t,n;e=jQuery.extend({data:{},dataType:"post",callback:jQuery.noop},e);var i="ajax-frame-"+(new Date).getTime(),s=jQuery('<iframe scrolling="no" frameborder="0" name="'+i+'"></iframe>');for(n in o='<form action="'+e.url+'" method="'+e.dataType+'" target="'+i+'">',e.data)e.data.hasOwnProperty(n)&&(o+='<input type="hidden" name="'+n+'" value="'+e.data[n]+'"/>');o+="</form>",t=jQuery(o),s.hide().appendTo("body"),t.appendTo("body").hide(),window.setTimeout(function(){s.load(function(){window.setTimeout(function(){s.remove()},500),t.remove(),e.callback.apply(this,arguments)}),t.submit()},500)}}); });    def('contauol-login', function(){ def("contauol-login",function(){"use strict";var n=lib["babel-login"],o=".contauol-login, .pill.not-logged",e=window.location.href.split("?")[0],t="comentarios";e.indexOf("economia.uol.com.br/mais")>-1&&(t="economia-mais");var i={popup:`https://conta.uol.com.br/login?t=${t}&dest=${e}/?loadComponent=contauol-login`,productVerification:"https://n.comentarios.uol.com.br/ws/v4/user/login?auto_import=true&product=noticias&source=UOL&theme_id=538"};expose.session=null,expose.isAuthByV4=!1,expose.delay=0;var u=function(n){if(n){try{n.close()}catch(o){}try{n.close()}catch(o){}}window.focus()};expose.validUser=function(o){var e=$.Deferred(),t=this;return clearTimeout(t.delay),events.emit("contauol.login.running",null,!0),t.delay=setTimeout(function(){$.ajax({url:i.productVerification,method:"GET",xhrFields:{withCredentials:!0},success:function(i){var u=(n.session||{}).user||{};t.session=i.result,t.isAuthByV4=null!==i.result&&null!==i.result.user,e.resolve(t.isAuthByV4),u&&u.socialNetwork&&"uol"!=u.socialNetwork.toLowerCase()&&o?document.location.reload():(events.emit("contauol.login.check",null,t.isAuthByV4),events.emit("contauol.login.running",null,!1))},error:function(n){t.session=null,e.reject(!1),events.emit("contauol.login.check",null,t.isAuthByV4),events.emit("contauol.login.running",null,!1)}})},650),e.promise()},expose.binds=function(){var e=this,t=!1,l=15,ngth)}return null}("JS_SESS");return null!==n&&n!==undefined},c=function(){var n=function(){t.closed||s()?e.validUser(!0).then(function(){u(s()?t:undefined)},function(){u(s()?t:undefined)}):setTimeout(n,50)};n()},r=function(){s()&&l>0?setTimeout(function(){r(),l--},300):l&&(t=window.open(i.popup,"popup","height= 600px, width= 780px"),c())};$("body").on("click",o,{instance:expose},function(){var o=n,u=(n.session||{}).user||{};e.isAuthByV4||"UOL"!=u.socialNetwork?(t=window.open(i.popup,"popup","height= 600px, width= 780px"),c()):(o.logout(),r())}),events.push("contauol.login.revalidate",null,function(){e.validUser(!1).then(function(){},function(){})})}}); });    def('babel-service', function(){ def("babel-service",["/exposejs/jsonp-promise"],function(){"use strict";var e="https://n.comentarios.uol.com.br/",o={url:{auth:"https://acesso.uol.com.br/login.html?skin=comentarios&dest=REDIR|"+location.protocol+"//www3.uol.com.br/interacao/comentarios/blank.htm"},messages:{subject:"v1/messages/subject/{id}",editor:"v1/messages/editor-recommended/{id}",likesBySubject:"v1/users/likes-by-subject/{id}",parent:"parent/{id}"},subject:{retrieve:"ws/v1/subject/retrieve/{id}",simpleRetrieve:"ws/v1/subject/simple-retrieve/"},user:{login:"ws/v2/user/login",logout:"ws/v1/user/logout",create:"ws/v2/user/create",update:"ws/v2/user/update",ping:"ws/v1/user/ping",updateNotification:"ws/v1/user/update/reply-notification",updateNotificationType:"ws/v1/user/update/reply-notification-type",socialStart:"ws/v1/user/social/start-session",socialSimpleWhereAmI:"ws/v1/user/social/simple-where-am-i",socialWhereAmI:"ws/v1/user/social/where-am-i"},message:{create:"ws/v2/message/create",preview:"ws/v1/message/preview",del:"ws/v1/message/delete/{id}",edit:"ws/v2/message/edit/{id}",createSubject:"ws/v2/message/create/subject",pin:"ws/v1/message/pin/{id}/{id}",unpin:"ws/v1/messager/unpin/{id}",like:"ws/v1/message/like/{id}",dislike:"ws/v1/message/dislike/{id}"}};expose.get=function(s){var a;if(a={user:e,message:e,messages:"https://view.comentarios.uol.com.br/",subject:"https://view.comentarios.uol.com.br/"}[s.type]+function(e){return o[e.type][e.service].replace(/{id}/,e.id)}(s),s.params){var i;for(i in s.params)s.params.hasOwnProperty(i)&&"sort"!==i&&(s.params[i]=encodeURIComponent(s.params[i]));a+="?"+$.param(s.params)}return lib["jsonp-promise"]&&lib["jsonp-promise"].jsonp(a,s.service).error(function(e){var o="Ocorreu uma falha na requisição de dados.",a=s.root&&s.root.dom||!1;a?events.emit("babel.service.feedback",a,o):events.emit("babel.service.feedback",null,o)})},expose.routes=o,expose.messageHandler=function(e){if(!e)return console.log("Sem param"),!1;var o={api:{423:"Assunto inativo",425:"Usuário não encontrado",426:"Assunto não encontrado",427:"Mensagem não encontrada",428:"Você já avaliou esta mensagem",431:"Token de autenticação inválido",432:"Proteção antiflood",433:"Json inválido",434:"Critério de avaliação inválido",435:"Critério de avaliação não encontrado",436:"Usuário não tem permissão",440:"Falha na autenticação",444:"Tema não encontrado",446:"Falha na autorização",451:"Turing inválido",458:"Avaliação e comentários obrigatórios",500:"Operação não realizada, verifique os dados*"},friendlyMessage:{200:{message:{create:"Seu comentário foi enviado com sucesso.",del:"Seu comentário foi removido com sucesso.",preview:"",edit:"",createSubject:"",pin:"",unpin:"",like:"",dislike:""}},423:"Esta discussão foi encerrada",425:"Usuário não encontrado",426:"Assunto não encontrado",427:"Mensagem não encontrada",428:"Você já avaliou esta mensagem",431:"Token de autenticação inválido",432:"Ops!\n Aguarde alguns instantes antes de publicar seu novo comentário",433:"Json inválido",434:"Critério de avaliação inválido",435:"Critério de avaliação não encontrado",436:"Usuário não tem permissão",440:"Tempo para responder foi excedido.\n Por favor, faça novamente o login.",444:"Tema não encontrado",446:"Falha na autorização",451:"Turing inválido",458:"Avaliação e comentários obrigatórios",500:"Operação não realizada, verifique os dados*"},events:{200:"babel:success",400:"babel:invalid-parameter",422:"babel:subject:invalid-size",431:"babel:user:nickname",423:"babel:subject:close",432:"babel:user:anti-flood",436:"babel:user:not-allowed",440:"babel:session-expired"}},s={},a="Seu comentário foi enviado com sucesso.",i=+e.data.code,r=e.data.callback||jQuery.noop;if(!i)throw"Erro na API";200===i?(s=e.data.result,o.friendlyMessage[i][e.type]&&(a=o.friendlyMessage[i][e.type][e.service]),+s.pending_messages&&+s.user_pending_messages&&(a={badword_disapproved:"Seu comentário contém URL ou palavras de abuso. \nEscreva novamente seu comentário em <var>15</var> segundos",pending:"Seu comentário foi enviado com sucesso para moderação. \nHá "+s.pending_messages+" "+(1==s.pending_messages?"comentário":"comentários")+" na fila de moderação. "+s.user_pending_messages+" "+(1==s.user_pending_messages?"foi enviado":"foram enviados")+" por você."}[s.moderation_status.toLowerCase()],"badword_disapproved"==s.moderation_status.toLowerCase()&&(i=432))):a=o.friendlyMessage[i][e.type]?o.friendlyMessage[i][e.type][e.service]:o.friendlyMessage[i];var n={msg:a,code:i,callback:r};return e.root.dom?(n.button=e.button,events.emit("babel.service.feedback",e.root.dom,n)):events.emit("babel.service.feedback",null,n),a}}); });    def('suggest', function(){ instances.suggest=[],expose.create=function(e,t){var s=new this.Suggest;if(e instanceof jQuery)e=e[0];return s.dom=e,s.input=s.dom&&s.dom.querySelector(".suggest[data-args]"),t&&s.setEvents(t),s.events.call(s),s},expose.Suggest=function(){instances.suggest.push(this)},expose.Suggest.prototype.fired=!1,expose.Suggest.prototype.storage={},expose.Suggest.prototype.lastRequest=function(){},expose.Suggest.prototype.onSuccess=function(){},expose.Suggest.prototype.onCancel=function(){},expose.Suggest.prototype.on.onBeforeSearch=function(){},expose.Suggest.prototype.setEvents=function(e){for(key in e)this[key]=e[key]},expose.Suggest.prototype.search=function(e,t){if(e.getAttribute("data-search")&&"false"!=$(e).attr("changepage")){this.onBeforeSearch.call(this);var s=$(e).closest(".input-box").find(".suggest-list li");s.attr("data-link")?location.href=s.attr("data-link"):location.href=e.getAttribute("data-search")+encodeURIComponent(e.value)}},expose.Suggest.prototype.events=function(){var e=this;this.input&&$(this.input).on("keyup",function(t){var s=this.value,o=this.getAttribute("data-length");if(clearTimeout(e.lastRequest),(""==s||o&&s.length<=o||!o&&s.length<=3||27==t.keyCode)&&e.fired)return e.fired=!1,27==t.keyCode&&(this.value=""),void e.onCancel.call(e);if(!o&&s.length>=3||o&&s.length>=o){var n="request",a=$(this).parent().find(".suggest-list li");13==t.keyCode&&a.length>0&&a.first().attr("data-link")&&(n="search"),e[n].call(e,this,t)}}),this.dom&&$(this.dom).on("click","[data-search-suggest]",function(t){t.preventDefault();var s=this.innerHTML||this.text;e.input.value=s,e.search.call(e,e.input,t)})},expose.Suggest.prototype.request=function(e,t){var s=this;this.lastRequest=setTimeout(function(){var t=e.getAttribute("data-args"),o=JSON.parse(t).slugify?lib.string.slug(e.value):e.value,n=location.origin+Config.servicename+"?loadComponent=suggest&data="+encodeURIComponent(t.replace(/<<value>>/g,o)ction(e){"empty result"==e.message?s.onEmpty.call(s):s.onSuccess.call(s,e.data),s.lastRequest=function(){},s.fired=!0})},1e3)}; });    def('ads', function(){ !function(){"use strict";include("breakpoints"),expose.update=function(){var e=this.parse(this.dom.getAttribute("data-ads"),{}),i=this.parse(this.dom.getAttribute("data-position")),t=this.dom.getAttribute("data-tag"),a=!0;if(e.push!==undefined){a=e.push;delete e.push}var s=[],n=Object.keys(e);for(var d in n)if(n.hasOwnProperty(d)){var o=n[d];o&&o.match(/(xs|sm|md|lg)/)&&s.push(o)}for(var r=this.breakpoints.sortOptions(s),l=0;l<r.length;l++)if(this.breakpoints.checkin(r[l],!!e[r[l]])){if(e[r[l]])var h=r[l];break}if($(this.dom).children().hide().removeClass("visible"),h){if($(this.dom).show().children().each(function(){this.id.match(e[h])&&$(this).show().addClass("visible")}),!$(this.dom).children(".visible").length){var u=document.createElement("div"),p=document.querySelectorAll("[id*=banner-"+e[h]+"]").length+1;if("120x35-area"!=e[h]&&"120x35-area-2"!=e[h]&&"120x35-3-area"!=e[h]&&"120x35-2-area"!=e[h]?u.id="banner-"+e[h]+"-"+p:u.id="banner-"+e[h],-1!=e[h].indexOf("120x35")&&(u.style.display="none"),u.setAttribute("data-ads-text",this.dom.getAttribute("data-text")||""),"banner-responsive-vertical-1"==u.id&&0==document.querySelectorAll("[id*=banner-responsive-top-vertical-1]").length&&(u.id="banner-responsive-top-vertical-1"),""!=i&&-1!=u.id.indexOf("banner-300x250-area-")&&(u.id="banner-300x250-area-"+i),this.dom.appendChild(u),-1!=u.id.indexOf("banner-responsive-middle-2-horizontal-area-")&&-1!=u.id.indexOf("banner-responsive-middle-2-horizontal-area-2"))a=!1;a&&!$("body").hasClass("modal-open")&&window._uolabtestsev.push(()=>{const e=$(this.dom).attr("data-adsisconfig");e&&""!=e?(universal_variable.aud&&universal_variable.aud.tags,console.log("[#ADS]",u.id),window.pushAds&&window.pushAds.push(u.id),console.log("[#pushAds]",window.pushAds)):_uolabtest("_uolabteste4")&&"abTest/d.json"!=_uolabtest("_uolabteste4")?(universal_variable.aud&&universal_variable.aud.tags,googletag.cmd.push(function(){-1==location.href.indexOf("test__ads")&&googletag.pubads().enable(),googletag.display(u.id)})):t?window[window.adsType].push({id:u.id,customTargetings:{tags:t}}):window[window.adsType]&&window[window.adsType].push({id:u.id}isplay="none"},expose.init=function(){this.update(),this.breakpoints.change(this,function(){this.update()})}}(); });    def('share', function(){ include("breakpoints","modal"),expose.view={},expose.socialpage=[],expose.omniturereferences={},expose.update=!0,expose.tpl={link:'<div class="link"><span>compartilhar</span><svg class="svg-icon svg-icon-share-right"><use xlink:href="#svg-share-right" /></svg></div>',more:'<div class="share-item more-item clearfix"><div class="share-item social-item more" data-ref="more"><div class="table"><div><svg class="icon-more"><use xlink:href="#svg-more" /></svg></div></div></div><div class="share-item group"><div class="overflow">{{group}}</div></div></div>',after:'<div class="share-item after">{{group}}</div>',component:'<div class="share-item social-item comp-{{name}}" data-ref="{{name}}" data-target-click><div class="table">{{component}}</div></div>',def:'<div class="share-item social-item {{name}}" data-ref="{{name}}" data-target-click><div class="table"><div><svg class="icon-{{name}}"><use xlink:href="#svg-{{svg}}"/></svg></div></div></div>'},expose.defaultapis={general:{"follow-title":!1,kicker:!1,title:!1,description:!1,image:{src:!1},date:!1,site:!1,url:!1,redirect:!1,app_id:!1},facebook:{sharing:{defaults:{newtab:!0,host:"https://tm.uol.com.br/bt/facebook_auth/facebook-check-login.html?group=B&url_share=//www.facebook.com/dialog/feed",params:{app_id:!1,display:"popup",link:!1,redirect_uri:!1,quote:""}}},newwindow:"width=626,height=316,left=350,top=350"},twitter:{sharing:{defaults:{newtab:!0,host:"{{protocol}}//twitter.com/intent/tweet",params:{url:!1,text:!1,via:!1,hashtags:!1}}},newwindow:"width=450,height=270,scrollbars=yes,left=350,top=350"},pinterest:{sharing:{defaults:{newtab:!0,host:"{{protocol}}//br.pinterest.com/pin/create/button/",params:{url:!1,media:!1,description:!1}}},newwindow:"width=700,height=300"},linkedin:{sharing:{defaults:{newtab:!0,host:"{{protocol}}//www.linkedin.com/shareArticle",params:{url:!1,mini:!0,title:!1,summary:!1,source:!1}}},newwindow:"width=700,height=300"},mail:{sharing:{xs:{host:"mailto:",params:{cc:!1,bcc:!1,subject:!1,body:!1}},defaults:{host:"{{protocol}}//www3.uol.com.br/envie/index.jhtm",params:{origem:!1,texto:!1,xurl:!1,data:!1}}},newwindow:"width=780,height=693,left=450,top=150",svgicon:"mail"},whatsapp:{sharing:{defaults:{host:"whatsapp://send",params:{url:!1,concat:"text"}}},newwindow:"width=900,height=600,left=350,top=350"},viber:{sharing:{defaults:{host:"viber://forward",params:{url:!1,concat:"text"}}}},messenger:{sharing:{defaults:{host:"fb-messenger://share",params:{link:!1}}}}},expose.apiupdate=function(){var e=this,i="general";this.config.defaults.general.url=this.config.defaults.general.url.replace(/[&?]json/g,"");var t=[this.config.defaults,this.current in this.config?this.config[this.current]:{}],s=[],a={},r=function(e,i,t){var s,a=Object.keys(t);return"url"!=e&&"link"!=e||t[e]?"title"!=e||t[e]?"description"!=e||t[e]?"image"!=e||t[e]?"site"!=e||t[e]?"kicker"!=e||t[e]?"date"!=e||t[e]?"redirect"!=e||t[e]?"domain"!=e||t[e]||-1!=a.indexOf("source")&&(s="source"):-1!=a.indexOf("redirect_uri")&&(s="redirect_uri"):-1!=a.indexOf("data")&&(s="data"):-1!=a.indexOf("origem")&&(s="origem"):-1!=a.indexOf("via")&&(s="via"):-1!=a.indexOf("media")&&"pinterest"==i?s="media":-1!=a.indexOf("picture")&&"facebook"==i&&(s="picture"):-1!=a.indexOf("summary")&&(s="summary"):-1!=a.indexOf("name")?s="name":-1!=a.indexOf("text")&&"twitter"==i?s="text":-1!=a.indexOf("description")&&"pinterest"==i?s="description":-1!=a.indexOf("texto")&&"mail"==i&&(s="texto"):-1!=a.indexOf("link")?s="link":-1!=a.indexOf("xurl")?s="xurl":-1!=a.indexOf("url")&&(s="url"),s||e};this.config.defaultapis&&Object.keys(this.config.defaultapis).length>0&&function(i,t,s){i=i||e.config.defaultapis,t=t||e.apis;for(var a in i){var r="object"==typeof i[a];r&&"sharing"!=s?a in t&&r&&!Array.isArray(i[a])&&arguments.callee(i[for(var o=0;o<t.length;o++){var n=Object.keys(t[o]);-1!=n.indexOf(i)&&(n=n.filter(function(e){return e!=i})).unshift(i),s.push(n)}for(c in this.apis)if(this.apis[c].sharing){var h=this.current in this.apis[c].sharing?this.current:"defaults";this.apis[c].sharing=this.apis[c].sharing[h]}for(o=0;o<t.length;o++){if(-1!=s[o].indexOf(i))for(g in this.apis)if(this.apis[g].sharing&&this.apis[g].sharing.params&&g!=i)for(y in t[o].general){var d=r(y,g,this.apis[g].sharing.params);d in this.apis[g].sharing.params&&(!a[g]||-1==a[g].indexOf(d))&&(this.apis[g].sharing.params[d]="image"==y?t[o].general[y].src:t[o].general[y],a[g]||(a[g]=[]),a[g].push(d))}for(var l=0;l<s[o].length;l++)if(s[o][l]in this.apis){var m=s[o][l];$.extend(!0,this.apis[m].sharing&&this.apis[m].sharing.params||this.apis[m],t[o][m])}}for(z in this.apis)if(this.apis[z].sharing&&this.apis[z].sharing.params&&this.apis[z].sharing.params.concat){var p=this.apis[z].sharing.params.concat,f="";for(v in this.apis[z].sharing.params)"url"==v||"concat"==v||v==p||Array.isArray(this.apis[z].sharing.params[v])||!1===this.apis[z].sharing.params[v]||(!this.apis[z].sharing.params.not||-1!=this.apis[z].sharing.params.not.indexOf(v))&&this.apis[z].sharing.params.not||(f+=this.apis[z].sharing.params[v]+" ");f+=this.apis[z].sharing.params.url,this.apis[z].sharing.params={},""!=f&&(this.apis[z].sharing.params[p]=f.substr(0,f.length))}for(var m in this.config["characters-limit"])if(this.apis[m]&&this.apis[m].sharing&&this.apis[m].sharing.params)for(var g in this.config["characters-limit"][m])g in this.apis[m].sharing.params&&this.apis[m].sharing.params[g].length>this.config["characters-limit"][m][g]&&(this.apis[m].sharing.params[g]=$("<textarea>").html(this.apis[m].sharing.params[g]).val().substr(0,this.config["characters-limit"][m][g])+"...");this.update=!1},expose.sharingFacebookApi=function(e){FB.ui({method:"share_open_graph",action_type:"og.shares",display:"popup",action_properties:JSON.stringify({object:{"og:url":e.url||"","og:title":e.title||"","og:description":e.body||"","og:image":e.image.src||"","og:image:width":e.image.width||80,"og:image:height":e.image.height||80}})})},expose.loadFacebookApi=function(){var e,i=document,t="script",s="facebook-jssdk",a=i.getElementsByTagName(t)[0];i.getElementById(s)||((e=i.createElement(t)).id=s,e.src="//connect.facebook.net/pt_BR/sdk.js#xfbml=1&version=v2.6",a.parentNode.insertBefore(e,a))},expose.urlbuilder=function(e){var i="",t="facebook"==e||!1;for(key in this.params)if(!1!==this.params[key]||""!=this.params[key]){var s=[t?encodeURIComponent("?"):"?",t?encodeURIComponent("&"):"&",window[t?"escape":"encodeURIComponent"]($("<textarea>").html(this.params[key]).val())];i+=(""==i?this.host.replace("{{protocol}}",location.protocol)+s[0]:s[1])+key+"="+s[2]}return i};var template=function(e){var i=this,t=e.name,s=-1!=this.config.components.indexOf(t)?this.tpl.component:this.tpl[e.tpl]||this.tpl[t]||this.tpl.def,a=function(){var s=$(i.originaldom).find("."+(e.tpl||t));if(!(s=s.get(0)&&s.get(0).outerHTML)||-1==i.config.components.indexOf(t))return"";var a=-1!=i.view.mode.indexOf("large")?t+"-large":-1!=i.view.mode.indexOf("medium")?t+"-medium":t+"-small",r=new RegExp(t+"-large|"+t+"-medium|"+t+"-small","g");return s.match(r)?s.replace(r,a):s.replace(/(class=\"[^"]+)/,"$1 "+a+'"')}(),r=(i.apis[t]||{}).svgicon;return s=(s=(s=(s=s.replace(/{{name}}/g,t)).replace(/{{svg}}/g,r||"social-"+t)).replace(/{{component}}/,a)).replace(/{{group}}/,e.pattern),-1==this.config.components.indexOf(t)||a?s:""},mount=function(){var e="";for(order in this.view.mode&&-1!=this.view.mode.indexOf("link")&&(e+=template.call(this,{name:"link"})),this.view.order)if("before"!=order){var t="";for(i in this.view.order[order])t+=template.call(this,{name:this.view.order[order][i]}),this.socialpage.push(this.view.order[order][i]);e+=template.call(this,{tpl:order,pattern:t})}else for(i in this.view.order[order])e+=template.call(this,{name:this.view.order[order][i]}),this.socialpage.push(this.view.order[order][i]);return e};expose.sharing=function(e){e.update&&e.apiupdate.call(e);var i=this.getAttribute("data-ref"),t=!(!e.apis[i]||!e.apis[i].sharing||0==Object.keys(e.apis[i].sharing.params).length)&&e.urlbuilder.call(e.apis[i].sharing,i);if(i){if(i in e.omniturereferences){var s=$.extend(!0,{},e.config.audience.click);s.reference=e.omniturereferences[i],hitAudience.countClick.call(this,s)}if(!t)return;if(e.breakpoints.checkin("xs")||e.breakpoints.checkin("sm")||"whatsapp"!=i||(t=t.replace("whatsapp://","https://web.whatsapp.com/")),!e.breakpoints.checkin("xs")||e.apis[i].sharing.newtab){var a=[!e.breakpoints.checkin("xs")&&e.apis[i].newwindow?e.apis[i].newwindow:"","fullscreen=yes","scrollbars=yes","type=fullWindow"].join(",");"facebook"==i&&e.config.facebookApi?e.sharingFacebookApi(e.config.defaults.general):open(t,"shareUOL",a)}else location.href=t}},expose.mode=function(){for(mode in this.view.mode||(this.view.mode=[]),this.view.mode)this.dom.className+=" share-"+this.view.mode[mode]},expose.events=function(){var e=this,i=$(this.dom).find(':not(".modal-mode-share") .overflow'),t=[-1!=e.view.mode.indexOf("column"),-1!=e.view.mode.indexOf("right")&&-1!=e.view.mode.indexOf("vertical")&&-1==e.view.mode.indexOf("column")],s=i.children()[t[0]?"height":"width"]()*i.children().length;i[t[0]?"height":"width"](s),$(this.dom).on("click",".link, .more",function(i){var a=$.extend(!0,{},e.config.audience.click),r=this.getAttribute("data-ref")||"more";if(-1!=e.view.mode.indexOf("modal")||e.breakpoints.checkin("xs")&&-1==e.view.mode.indexOf("no-modal"))-1==e.view.mode.indexOf("modal")?e.view.mode.push("modal"):e.view.mode=e.dom.getAttribute("data-originalmode").split(","),e._modal=e.modal.open(e.dom,"share"),e._modal.disableClickClose(),e._modal.addHeader({html:'<div class="modal-close"><h1>Fechar</h1> <div class="icon-close"></div></div>',closure:!0}),e._modal.onbeforeclose=function(){a.reference=e.omniturereferences[r+"-close"],hitAudience.countClick.call(this,a)},e._modal.dom.querySelector(".share").className="share share-center share-modal",$(e._modal.dom).find(".share .overflow").childrector(".share")),$(e._modal.dom).find(".share-item:visible").on("click",function(){e.sharing.call(this,e)}),a.reference=e.omniturereferences[r+"-open"];else if(this.className.match("more")&&e.dom.className.match("share-link"))$(e.dom).children().removeClass("visible").end().children(".link").show(),a.reference=e.omniturereferences[r+"-close"];else if(this.className.match("more")&&-1==e.view.mode.indexOf("modal")){var o={},n=0==$(this).siblings(".group")[t[0]?"height":"width"]()?s:0;t[0]?o.height=n:t[1]?(o.width=n,o.marginLeft=n):o.width=n,a.reference=e.omniturereferences[r+"-"+(/open/.test(this.parentNode.className)?"close":"open")],this.parentNode.className=this.parentNode.className.replace(" open","")+(-1==this.parenten":"");var h=this;$(this).siblings(".group").stop(!0,!1).animate(o,200,function(){$(h).toggleClass("on")})}else this.className.match("link")&&-1==e.view.mode.indexOf("modal")&&($(this).hide().nextAll().addClass("visible"),a.reference=e.omniturereferences[r+"-open"]);i.originalEvent&&hitAudience.countClick.call(this,a)}),$(this.dom).on("click","[data-target-click]",function(i){-1==e.config.components.indexOf(this.getAttribute("data-ref"))&&i.stopPropagation(),e.sharing.call(this,e)}),$(this.dom).onde.indexOf("link")||(e.timeOpened=seem .more.on").trigger("click")},4e3))}),$(this.dom).on("mouseenter",function(){clearTimeout(e.timeOpened)})},expose.destroy=function(){this.dom.className=this.selector.substr(1),this.view={},this.socialpage=[],this.update=!0,this._modal&&this._modal.close(),$(this.dom).off("click"),this._modal&&$(this._modal.dom).find(".share-item").off("click")},expose.modelOrder=function(e){for(var i in e)if("string"==typeof e[i]&&"mode"==i)e[i]=e[i].split(";");else if("order"==i)for(var t in e[i])"string"==typeof e[i][t]&&(e[i][t]=e[i][t].split(";"));return e},expose.init=function(){/no-mount/.test(this.dom.className)||this.render()},expose.render=function(){this.config=this.config||this.parse(this.dom.getAttribute("data-config").replace(/\n/g,"{{new-line}}"),this.config),this.breakpoint=this.breakpoints.sortOptions(Object.keys(this.config),!0,!0),this.omniturereferences=this.config.omniturereferences||{},this.current=this.breakpoints.breakpoint.name,this.view=this.modelOrder(this.config[this.breakpoint]),this.config.facebookApi&&this.loadFacebookApi(),this.dom.setAttribute("data-originalmode",this.view.mode),this.tpl=$.extend(!0,{},this.tpl),this.apis=$.extend(!0,{},this.defaultapis),this.dom.removeAttribute("style"),-1!=this.view.mode.indexOf("fixed")?this.dom.removeAttribute("data-static"):this.dom.setAttribute("data-static",!0),this.updateBreakpoint||this.breakpoints.change(this,function(){this.updateBreakpoint=!0,this.destroy.call(this),this.init.call(this)}),this.originaldom||(this.originaldom=this.dom.outerHTML),this.dom.innerHTML=mount.call(this),$(this.dom).find("[initiated]").length&&($(this.dom).find("[initiated]").removeAttr("initiated"),render()),this.mode.call(this),!this.view&&this.view.disabled||(this.dom.className=this.dom.className.replace(/hidden/,""),this.events.call(this))},expose.loadComponent=function(e,i,t){"object"==typeof i&&ngify(i));var s=`${window.Config.servicename}?loadComponent=${e}&data=${i}&jsonthen(e=>e.json()).then(e=>{try{if(e.body){var{body:i}=e;window.lib.components.load(e.components,()=>{t(i)})}}catch(s){console.log(s)}})},expose.selector=".share"; });    def('tooltip', function(){ !function(){"use strict";include("breakpoints"),expose.selector=".tooltip-container";var t={init:function(){t.binds.call(this)},binds:function(){var i=this;"ontouchstart"in window?($(this.dom).on("click",".open-tooltip, .icon-close",function(e){t.building.call(i,e.type,!0)}),$(this.dom).find(".tooltip").on("scroll",t.scroll)):$(this.dom).hasClass("show-opened")?($(thisn("click",function(t){t.preventDefault(),$(this).paren").hide()})):$(this.dom).on("mouseenter mouseleave",".w-tooltip",function(e){t.building.call(i,e.type,!1)})},building:function(i,e){const o=JSON.parse(this.dom.querySelector(".w-tooltip").dataset.config||!1);if(o&&!this.dom.querySelector(".over-tooltip")){const i=t.build(o);this.dom.querySelector(".w-tooltip").append(i),function(){var t=$(this.dom).find(".w-tooltip"),i=t.find(".tabs a"),e=t.find(".tab-item");i.on("click",function(t){t.preventDefault();var o=this;i.each(function(t){$(this)[o==this?"addClass":"removeClass"]("active"),e.eq(t)[o==this?"show":"hide"]()})})}.call(this),function(){var t=$(this.dom).closest(".read-more");if(t.length&&lib.breakpoints.checkin(["lg"])){var i=-154,e=160;t.find(".author").offset().left>500&&(i=-310,e=312),$(this.dom).find(".w-tooltip .tooltip").css("left",i+"px"),$(this.dom).find(".w-tooltip .tooltip .arrow").css("left",e+"px")}}.call(this)}t.toggle.call(this,i,e)},toggle:function(i,e){var o,n="open"==(o=e?"none"==$(this.dom).find(".tooltip").css("display")?"open":"close":"mouseenter"==i?"open":"close")?["fadeIn","addClass"]:["fadeOut","removeClass"];(lib.breakpoints.checkin(["sm"])||lib.breakpoints.checkin(["md"]))&&("open"==o?$(this.dom).parents(".article, .readme").bind("touchstart",function(){0==$(event.touches[0].target).parents(".tooltip").length&&t.toggle.call(self,"touchend",!0)}):$(this.dom).parents(".article, .readme").unbind("touchstart"));var s=this.dom?this.dom:".tooltip-container";$(s).find(".tooltip").stop()[n[0]](300),$(s).find(".arrow").stop()[n[0]](300),$(s).find(".over-tooltip")[n[1]]("active")},scroll:function(){this.scrollTop>10?$(this).find("header").addClass("border"):$(this).find("header").removeClass("border")},build:function(i){const e=t.template;let o=document.createElement("div"),n="",s="";o.classList.add("over-tooltip"),o.innerHTML=e.container.trim();for(const t of i){n+=e.tabs.replace("[name]",t.title).replace("[active]",t.first?"active":"");const o=e.link.replaceAll("[link]",t.link);s+=e.author.replace("[name]",t.title).replace("[desc]",t.description).replace("[tab]",i.length>1?"tab-item":"").replaceAll("[link]",t.link?o:"")}if(i.length>1){o.firstChild.innerHTML+=e.title.trim();let t=document.createElement("div");t.classList.add("tabs"),t.innerHTML=n;let i=document.createElement("div");i.classList.add("items"),i.innerHTML=s,o.firstChild.append(t),o.firstChild.append(i)}else o.firstChild.innerHTML+=s;return o},template:{container:'<div class="tooltip"><div class="arrow"></div><i class="icon-close hide-icon"></i></div>',title:'<header class="header"><h2>sobre os colunistas</h2></header>',tabs:'<a href="#" class="tab [active]">[name]</a>',author:'<div class="c-author [tab]"><div class="info"><h3 class="title">[name]</h3>[link]</div><div class="description"><p'<a href="[link]"><span class="info-author">[link]</span></a>'}};expose.init=function(){t.init.call(this)}}(); });    def('comments', function(){ def("comments",function(){"use strict";include("babel","teaser","modal","/exposejs/jsonp-promise","/exposejs/datapersist");var e=e||{},t=lib.cookie;$("body").off("click").on("click",".open-comments",function(){var e=$(this);if("string"==typeof(t=e.data("config")||!1))var t=JSON.parse(t.replace(/\'/g,'"'));if(!t||!t.id)return console.log("Não há dados de configuração setados neste botão"),!1;e.removeAttr("data-config");var n={type:"comments",args:$.extend({},t)};n.args.hasOwnProperty("modalOpen")&&(n.args.modalOpen=":"+n.args.modalOpen);var o=lib.modal.open(n,n.type+(n.args.modalOpen||""));o.onshow=function(){$(".babel-login",this.closure).data("modalOpen",t.modalOpen)},o.onbeforeshow=function(){var e=$(".comments:first",this.closure),n=e.da=$.extend(!0,{},n,t);e.data("config",i),o.addButtonClose("comments"),render.call(this)},o.onclose=function(e){}}),$("body").on("click",".comunicate .alertDefault(),t.set("showComunicate",!1,!1),$(this).closest(".comunicate").fadeOut(300,function(){$(this).remove()})}),expose.run=function(){var n=angular.module("comentario",[]).filter("html",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),o=this;this.$dom=$(this.dom),window.socialSimpleWhereAmI=window.socialSimpleWhereAmI||"";o.$dom.hasClass("display-inline");var i,r=this.$dom.data("initial-size");this.babel=lib.babel,this.babelLogin=lib["babel-login"],this.contaUolLogin=lib["contauol-login"],this.babelService=lib["babel-service"],this.contaUolLogin.binds(),this.$dom.show(),n.constant("config",(i=o.$dom.data("config")||{},o.$dom.removeAttr("data-config"),i)),n.value("docs",[]),n.value("tabFilter",{type:"all",size:r||5,sort:"created:desc"}),n.run(function(){events.push("babel.service.feedback",o.$dom,function(e){var t=e.split?e:e.msg,n=e.code||0,i=e.callback||null,r=(t=t.split("\n")).length,s=t[0],a="";if(r>1){for(var c=1;c<r;c++)a+=(1==c?"<p>":"<br/>")+t[c];a+="</p>"}var l,u='<div class="row alert alert-'+(200===n?"success":"danger")+'"><h3>'+s+"</h3>"+a+'<a class="alert-close"><i class="icon-close-2"></i></a></div>',d=e.button==undefined?o.$dom.find(".feedback-service").first():o.$dom.find(e.button).parents(".comment-reply").find(".feedback-service"e){d.css("height",0).parent().css("height","auto"),window.setTimeout(function(){d.removeClass("show").html("")},300),e&&e.call&&e.call(this),closingAlert&&window.clearTimeout(closingAlert)}f.css("height",f.outerHeight()),window.scrollY>m&&window.scrollTo(0,d.offset().top),d.html(u).addClass("show"),l=d.find(".ale),d.add(f).css("height",l).find(".alert").addClass("show"),d.find(".alert-close").bind("click",function(){g(i)}),window.closingAlert=window.setTimeout(function(){d.find(".alert").length&&g(i)},3e4)}),$(".feedback-service").ajaxError(function(e,t,n){events.emit("babel.service.feedback",o.$dom,"Error requesting page "+n.url)})}),n.filter("brDate",[function(){return function(e){return e.trim().replace(/^(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})$/,"$3/$2/$1 $4:$5:$6")}}]),n.filter("prettyDate",[function(){return function(e){var t=new Date((e||"").replace(/-/g,"/").replace(/[TZ]/g," ")),n=((new Date).getTime()-($(window).data("server-date-diff")||0)-t.getTime())/1e3,o=Math.floor(n/86400);if(!(isNaN(o)||o<0)){var i=Math.ceil(o/7);return 0===o&&((n<60?"agora":n<120&&"1 minuto")||n<3600&&Math.floor(n/60)+" minutos atrás"||n<7200&&"1 hora atrás"||n<86400&&Math.floor(n/3600)+" horas atrás")||1==o&&"ontem"||o<7&&o+" dias atrás"||7==o&&"1 semana atrás"||i<=5&&Math.ceil(o/7)+" semanas atrás"||i>5&&e.on(){return function(e){return e.trim().replace(/^(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2}r("inversedDate",[function(){return function(e){if(!(e instanceof Date))return!1;function t(e){return(e<10?"0":"")+e}return e.getFullYear()+ttes())+t(e.getSeconds())}}]),n.filter("htmlentities",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),n.directive("ngImgonerror",function(){return{restrict:"A",link:function(e,t,n){t.bind("error",function(){$(this).attr("src","https://imguol.com/c/_layout/v2/components/comments/avatar.png").attr("title","O avatar não foi encontrado!").parent().addClass("img-error")})}}}),n.directive("ngHasTeaser",function(){return{restrict:"A",link:function(e,t,n){var i=t.find("textarea"),r=t.find(".teaser"),s=n.ngHasTeaser||960;o.teaser.create({dom:t,input:i,output:r,invert:!0,limit:s})}}}),n.directive("ngHasFocus",function(){return{restrict:"A",link:function(e,t,n){$(t).closest("label")["focusin"==event.type||"focus"==event.type?"addClass":"removeClass"]("focus")}}}),n.directive("ngAutoHeight",function(){return{restrict:"A",link:function(e,t,n){t.on("keyup",function(){var e=$(this),t=e.val(),n=e.css("max-height"),o=n.replace(/(\d+).*/,"$1");e.next().is(".resize")||e.after('<div class="resize"/>');var i=e.next(".resize");t=t.replace(/\n/g,"<br/>"),i.html(t+'<b>=o?"auto":"hidden"),e.css("height",i.height())}).on("keydown",function(){if($(this).hasClass("babel-loginpend('<metnd('<meta name="viewport" content="initial-scale=1.0, width=device-width, maximum-scale=10.0, user-scalable=yes" />')})}}}),n.service("Rating",function(){this.get=function(e){var t=e?$(e).first():o.$dom.find(".comment-post").first(),n=t.find(".rating").find(".rating-star").length,i=t.find(".rating").attr("data-rating");return!(!n||!i)&&i/n*100},this.reset=function(e){var t=e?$(e).first():o.$dom.find(".comment-post").first();t.find(".rating").find(".rating-star").removeClass("on"),t.find(".rating").attr("data-rating","0")},this.set=function(e){for(var t=[],n=1;n<=5;n++)t.push(parseInt(+e/20)>=n);return t}}),n.factory("User",[function(){var e,t={},n="https://imguol.com/c/_layout/v2/components/comments/avatar.png",i="";return{get:function(e){return e?e in t&&t[e]:t},set:function(r,s,a){e=o.babelLogin.session,r&&r in e&&(e[r]=s),t.isLogged=e.user&&!0,events.emit("contauol.login.check",null,null),t.uniqueId=e.user&&e.user.uniqueId,t.loggedWithFacebook=e.user&&"facebook"===e.user.socialNetwork.toLowerCase(),t.loggedWithTwitter=e.user&&"twitter"===e.user.socialNetwork.toLowerCase(),t.loggedWithUol=e.user&&"uol"===e.user.socialNetwork.toLowerCase(),"facebook"===window.socialSimpleWhereAmI?(t.loggedWithTwitter=!1,t.loggedWithFacebook=!0):"twitter"===window.socialSimpleWhereAmI&&(t.loggedWithTwitter=!0,t.loggedWithFacebook=!1),t.user.avatarUrl||n).replace("http:","https:"),t.alternativeText=e.user&&e.user.name||i},getSession:function(){return e},setSession:function(e){return e&&(e.__isAuthByV4=o.contaUolLogin.isAuthByV4),o.babelLogin.setSession()}}}]),n.factory("Likes",["$filter","User","config",function(e,t,n){var i={};var r=10;return{getFromUser:function(e){var r=$.Deferred(),s=t.get("isLogged",Object.keys(i));return!s||Object.keys(i).length?(s||(i={}),r.resolve(!0)):(o.babelService.get({type:"messages",root:{dSubject",id:n.id}).then(function(e){return i=e.docs||{},r.resoltion(e){return e in i},it:function s(n,r>30)){if(t.get("isLogged")){var u=function(){o.babel[a](n.id),d()};l?u():o.contaUolLogin.validUser().then(e=>{e&&u()})}else d(),window.setTimeout(function(){t.set(),s(n,a,c,!0)},1e3);r++}function d(){l||(n.like++,n.likedByMe=!0,i[n.id]=e("inversedDate")(new Date))}}}}]),n.service("Action",["Subject","User","Likes","Rating","config",function(e,t,n,i,r){var s=[];this.create=function(){var e,n=this,a=t.getSession(),c=(n.newText||"").trim(),l=i.get();if(hitAudience.countClick({component:"comments",reference:"enviar-comentario"}),!l&&!c.length)return events.emit("babel.service.feedback",o.$dom,"Avaliação ou comentário obrigatórios."),!1;(e=$.Deferred(),s.length?e.resolve(s):o.babelLogin.whereAmI().then(function(t){if(200==+t.code)for(var n in t.result){var o=t.result[n];s.push(o.snname)}e.resolve(s)}),e.promise()).then(function(e){var t={type:"message",root:{dom:o.$dom},service:"create",params:{subject:r.id,token:a.token,product:"noticias",source:"UOL"}};""!==c&&(t.params.message=c),l&&(t.params.rating='{"344": "'+l+'"}'),o.contaUolLogin.validUser().then(e=>{e&&o.babelService.get(t).then(function(e){t.data=e,o.babelService.messageHandler(t),200==+e.code&&(i.reset(),n.newText="",n.refresh())})})})},this.del=function(e,n){var i=this,r=n||e,s=t.getSession(),a={type:"message",root:{dom:o.$dom},service:"del",id:r.id,params:{token:s.token}};o.contaUolLogin.validUser().then(t=>{t&&o.babelService.get(a).then(function(t){if(a.data=t,o.babelService.messageHandler(a),200==+t.code){if(r.del=!0,n)e.reply_count>0&&e.reply_count--;i.refresh()}})})},this.reply=function(e,n){var i=this,s=n.currentTarget,a=t.getSession(),c=e.replyText[e.id],l={type:"message",service:"create",button:s,root:{dom:o.$dom},params:{subject:r.id,parent:e.id,message:c,token:a.token}};hitAudience.countClick({component:"comments",reference:"enviar-resposta"}),o.contaUolLogin.validUser().then(t=>{t&&o.babelService.getService.messageHandle",e.replyit=!0,setTimeout(function(){e.replyit=!1,i.nction(e,t){return n.it(e,"like",t)},this.logout=function(){$(".comment-fadOut").fadeOut(function(){o.babelLogin.logout()}),hitAudience.countClick({component:"comments",reference:"deslogar"})}}]),n.factory("Subject",["config","tabFilter",function(e,t){if(e.id){var n={comments:{},subject:{}},i=functiges",root:{dom:o.$dom},service:t.service,id:e.id,params:t.params})};return{get:function(e){return n.subject[e]||n.subject},load:function(r){var s=$.Deferred();function a(){i(r).then(function(e){return n.comments="docs"in e?e:undefined,s.resolve({data:n})})}return(r=angular.extend({params:{}},r)).service="subject",r.next&&(r.params.next=r.next),r.prev&&(r.params.prev=r.prev),r.last_id&&(r.params.last_id=r.last_id),r.params.size=t.size,r.size&&(r.params.size=r.size),Object.keys(n.subject).length?a():function(t){return o.babelService.get({type:"subject",service:"retrieve",root:{dom:o.$dom},id:e.id,params:t.params})}(r).then(function(e){if(200!=+e.code)return s.resolve({hasError:!0,result:e});n.subject=e,a()}),s.promise()}}}}]),n.controller("CommentsController",["$scope","Subject","User","Action","Rating","Likes","config","docs","tabFilter",functioisAuthByV4=o.contaon(){n.__isAuthByV4=!1}),n.btnSizeReplies=function(){return"xs"==lib.breakpoints.breakpoint.name?"btn-small":"btn-medium"};var f=t.get("showComunicate");n.__showComunicate=f==undefined||f,m.report=function(e,t){"comment"==e?hitAudience.countClick({component:"comments",reference:"denunciar-comentario"},t):"reply"==e&&hitAudience.countClick({component:"comments",reference:"denunciar-resposta"},t)},m.replyit=function(){hitAudience.countClick({component:"comments",reference:"responder-comentario"}),hitAudience.countClick({action:r.get("isLogged")?"logged-user-sucess":"abrir-modal-login",area:"modal-login",component:"login-comments",position:"coluna-unica",reference:r.get("isLogged")?"responder-comentario":"impressao"})},m.textArea=function(e){n.__isAuthByV4=o.contaUolLogin.isAuthByV4,"escrever"==e?(hitAudience.countClick({component:"comments",reference:"escrever-comentario"}),r.get("isLogged")&&hitAudience.countClick({action:"logged-user-sucess",area:"modal-login",component:"login-comments",position:"coluna-unica",reference:"escrever-comentario"})):"responder"==e&&hitAudience.countClick({component:"comments",reference:"escrever-resposta"})},m.getMore=function(e){hitAudience.countClick({component:"comments",reference:"ver-mais-comentarios"});var t=o.$dom.find(".comment").last();if(l["display-inline"])t.offset().top,t.outerHeight();else t.position().top,t.outerHeight();m.docs.length,o.$dom.children().first().appell",id:l.subjectId,last_id:m.last_id,size:n.nextsize,next:m.next}),setTimeout(function(){o.$dom.find(".overlay").remove()},100),m.refresh()},m.filter=function(){var e=r.get("isLogged"),t=r.get("uniqueId");function n(n){return n.hasReplies=+n.reply_count,n.commentedWithFB="facebook"===n.social_network.toLowerCase(),n.commentedWithTT="twitter"===n.social_network.toLowerCase(),n.has_rating&&(n.rating=a.set(n.rating_averasage=n.unique_user_id===t),n.likedByMe=c.apply(n.id),n}return u.filter(function(e){n(e),e.replies.filter(function(e){ay-inline"]&&l["first-comment"]&&window.setTimeout(function(){$(".modal .comments .babel-login:visible").trigger("click")},300)},m.openReplies=function(e){if(hitAudience.countClick({component:"comments",reference:"ver-respostas"}),e.hasReplies&&!e.replies){var t=r.getSession(),n=i.get("result"),s={type:"messages",service:"parent",root:{dom:o.$dom},id:e.id,params:{size:20,repository:n.repository,token:t.token}};o.babelService.get(s).then(function(e){angular.forEach(m.docs,function(t,n){if(t.id==coment.id)return t.replies.push(e.docs),!1}),m.docs=m.filter()})}e.repliesOpened=!e.repliesOpened},m.getReplies=function(e){if(e.hasReplies>3){if(e.replies.length>3)var t=n.nextsizereplies;else t=n.nextsizereplies+3;e.nextReplies||(e.nextReplies="");var s=r.getSession(),a=i.get("result"),c={type:"messages",service:"parent",root:{dom:o.$dom},id:e.id,params:{size:t,repository:a.repository,next:e.nextReplies,token:s.token}};o.babelService.get(c).then(function(t){angular.forEae.id)return e.nextReplies||t.docs.splice(0,3),e.nextReplies=t.next,angular.forEach(t.docs,function(e,t){n.replies.push(e)}),!1}),m.refresh()}),hitAudience.countClick({component:"comments",reference:"ver-mais-respostas"})}},m.del=s.del,m.reply=s.reply,m.logout=s.logout,m.create=s.create,m.like=function(e,t,n){return"comment"==n?(hitAudience.countClick({component:"comments",reference:"curtir-comentario"}),hitAudience.countClick({action:r.get("isLogged")?"logged-user-sucess":"abrir-modal-login",area:"modal-login",component:"login-comments",position:"coluna-unica",reference:r.get("isLogged")?"curtir-comentario":"impressao"})):"reply"==n&&(hitAudience.countClick({component:"comments",reference:"curtir-resposta"}),hitAudience.countClick({action:r.get("isLogged")?"logged-user-sucess":"abrir-modal-login",area:"modal-login",component:"login-comments",position:"coluna-unica",reference:r.get("isLogged")?"curtir-resposta":"impressao"})),m.refresh(),c.it(e,"like",t)},m.load=function(e){o.$dom.attr("data-loaded","true"),i.load(e).then(function(e){var t=e.data;if(e.hasError)m.hasError=!0;else{if(t.subject&&t.subject.result){m.subject=t.subject;var o=m.subject.result,i=+o.total;o.hasRating&&(i+=+o.totalRatings+ +o.totalCommentsWithRatings),o.replies&&(i+=+o.replies),m.isClosed=o.isClosed,m.info=o,m.total=i,m.title=m.title||m.info.description}if(t.comments){for(var r=t.comments.docs.length,s=0;s<r;s++)t.comments.docs[s].avatar=t.comments.docs[s].avatar.replace("http://","//");u=u.concat(t.comments.docs),m.docs=m.filter(),m.next=t.comments.next,m.prev=t.comments.prev}}m.isVisible=!0,n.$apply(),render()})},m.whereAmI=function(){o.babelLogin.whereAmI().then(function(e){if(200==+e.code){for(var t in e.result){var n=e.result[t];window.socialSimpleWhereAmI=n.snname}m.refresh()}})},m.refresh=function(){r.set(),n.user=r.get(),n.user.isLogged||(m.newText=""),m.docs=m.filter(),n.$$phase||n.$apply()},m.isDebug=l.debug||!1,m.title=l.title||e.mediaTitle||"",m.subtitle=l.subtitle||"",events.push("babel.user.logged",null,function(e,t){m.refresh(),console.log("logged",e,t)}),events.push("babel.user.login.checked",null,function(e,t){""===window.socialSimpleWhereAmI&&(window.socialSimpleWhereAmI="Request Realizado!",m.whereAmI()),setTimeout(function(){n.__isAuthByV4=o.contaUolLogin.isAuthByV4},1e3),m.refresh(),console.log("login.checked",e)}),events.push("contauol.login.check",null,function(e){n.__isAuthByV4=o.contaUolLogin.isAuthByV4,n.$$phase||n.$apply()}),events.push("contauol.login.running",null,function(e){n.__isAuthByV4Running=e,n.$$phase||n.$appction(e,t){l["display-inline"];m.refresh(),t.def&&t.def(),setTimeout(function(){n.__isAuthByV4=o.contaUolLogin.isAuthByV4},1e3),console.log("login.success",e)}),events.push("babel.user.login.faile.log("login.fail",e)}),events.push("babel.user.needNickname",null,function(e){m.refresh(),console.log("needNickname",e)}),events.push("babel.user.logout.success",null,function(e){m.refresh(),n.__isAuthByV4=!1,o.contaUolLogin.isAuthByV4=!1,console.log("logout.success",e)}),setTimeout(function(){var e=$(".sign-up-link")?$(".sign-up-link").attr("href"):"";e&&$(".sign-up-link").attr("href",e.split("?dest=")[0]+"?dest="+location.href.split("?")[0])},1e3),m.load()}]),angular.bootstrap(this.dom,["comentario"])},expose.init=function(){window.lazyload(this.dom,this.run.bind(this))}}); });    def('tabs', function(){ !function(s){"use strict";include("breakpoints","/src/iscroll/iscroll.min.js","svg/svg.js"),expose.isWeb=null,expose.breakpoint=null,expose.widthOfList=function(){var s=0;return $(this.dom).find(".nav-tabs li").each(function(){var i=$(this).outerWidth(!0);s+=i}),s},expose.reAdjust=function(){var s=this,i=$(this.dom),t=i.find(".wrapper"),e="lg"==this.breakpoints.breakpoint.name||"md"==this.breakpoints.breakpoint.name;this.isWeb=e,this.breakpoint=this.breakpoints.breakpoint.name,i.hasClass("active-white")||0!=this.widthOfList()&&i.find(".nav-tabs").css("width",this.widthOfList()),t.outerWidth()<this.widthOfList()?i.find(".nav-tabs").addClass("left"):i.find(".nav-tabs").removeClass("left"),t.outerWidth()<this.widthOfList()?(i.find(".nav-wrapper").css("width",this.widthOfList()),i.find(".tab-wrapper").addClass("slider")):i.find(".tab-wrapper").hasClass("slider")&&i.find(".der"),this.iScroll&&(s.iScroll.destroy(),s.iScroll=null,s.configIscroll()),$(document).ready(function(){s.configIscroll()})},expose.toggle=function(s){var i=-s.maxScrollX,t=-s.x;t>0&&t<i&&$(this.dom).find(".tab-wrapper.slider").addClass("on-left").addClass("on-right"),0==t&&$(this.dom).find(".tab-wrapper.slider").addClass("on-left").removeClass("on-right"),t==i&&$(this.dom).find(".tab-wrapper.slider").addClass("on-right").removeClass("on-left")},expose.configIscroll=function(){var s=this,i=this.isWeb?{scrollX:!0,scrollY:!1,snap:!0,disableMouse:!0,preventDefault:!1}:{scrollX:!0,scrollY:!1,click:!0};this.iScroll=new IScroll(this.dom.querySelector(".tab-container"),i),s.iScroll.scrollToElement("li.active",0,!0,!0),$ht").on("click",function(i.dom).find(".scroller-left").on("click",function(i){s.iScroll.prev()}),s.iScroll.on("scrollEnd",function(){s.toggle(this)}),s.toggle(s.iScroll)},expose.bind=functio=this,i=$(this.dom),t=iasClass("active-white")&&t.each(function(s){t[s].removeAttribute("href")}),$(window).on("resize",function(i){s.reAdjust()}),this.dom.classList.contains("link")&&!this.dom.classList.contains("anchor-link")||t.on("click",function(s){var i=this,t=$(i).closest(".tabs"),e=$(".inner-tabs a",t),o=$(".tab-item",t);if(e.each(function(s){$(this).parent("li")[i==this?"addClass":"removeClass"]("active"),o.eq(s)[i==this?"addClass":"removeClass"]("active")}),$(t)[0].classList.contains("anchor-link")){const s=$(this).attr("href"),i=120;$("html,body").animate({scrollTop:$(s).offset().top-i},"slow")}})},expose.fixTab=function(){let s=this.breakpoints.breakpoint.name,i=this,t="xs"==s?63:54,e="xs"==s?"-93px":"-60px";window.addEventListener("scroll",function(s){this.scrollY<=t&&(i.dom.style.position="unset",i.dom.style.top="unset")}),new IntersectionObserver(s=>{s.forEach(s=>{let{isIntersecting:i,intersectionRatio:t}=s;(!1===i||t<=0)&&(this.dom.style.position="fixed",this.dom.style.top="0")})},{rootMargin:e}).observe(this.dom)},expose.init=function(){this.reAdjust(),window.loadSvg("uol-svg-subscriber",{groups:"subscriber"}),this.bind(),this.dom.classList.contains("xRay")&&this.fixTab()}}(); });    def('components/areas/economia/ticker-financial-market', function(){ "use strict";include("breakpoints");var base={search:{url:"https://api.cotacoes.uol.com/mixed/summary",params:{currencies:"1,11,5",itens:"1,23243,1168",fields:"name,openbidvalue,askvalue,variationpercentbid,price,exchangeasset,open,pctChange,date,abbreviation"}},items:{"dolar-comercial":{name:"Dólar com.",link:"https://economia.uol.com.br/cotacoes/cambio/dolar-comercial-estados-unidos/",type:"currencies",valueClass:"bra"},"peso-argentino":{name:"Peso",link:"https://economia.uol.com.br/cotacoes/cambio/peso-argentina/",type:"currencies",valueClass:"bra"},euro:{name:"Euro",link:"https://economia.uol.com.br/cotacoes/cambio/euro-uniao-europeia/",type:"currencies",valueClass:"bra"},bitcoin:{name:"BITCOIN",link:"https://economia.uol.com.br/cotacoes/cambio/criptomoeda/bitcoin",type:"currencies",valueClass:"bra",hideClass:"hidden-md"},"bvsp-bovespa-ind":{name:"Bovespa",link:"https://economia.uol.com.br/cotacoes/bolsas/bvsp-bovespa/",type:"stock",valueClass:"pts"},selic:{name:"SELIC",type:"indicatoock:[],indicators:[]},finalSearch:{}};expose.searchItems=function(e){var a="";$.each(e.params,function(e,s){a+="&"+e+"="+s});var s=e.url+"?"+a;return $.ajax({url:s,dataType:"jsonp",jsonp:"jsonp",timeout:3e3,cache:!0,jsonpCallback:"jsonp",error:function(e,a){"timeout"==a&&console.error("[ticker-financial-market] ERRO: Timeout na reposta do serviço de moedas");var t={status:e.status,statusText:e.statusText,compName:"ticker-financial-market"};window.ReportError&&window.ReportError({message:"Timeout no serviço de cotações",stack:"Url service: "+s+'\n "response" : '+JSON.stringify(t)})},success:function(e){if(e&&e.docs)return base.finalSearch=e,!0;console.error("[ticker-financial-market] ERRO: Não foram retornados dados")}})},ear e=this,a=this.searchItems(base.search);$.when(a).then(function(){$.each(base.finalSearch.docs,function(a,s){e.formatItems(s)}),$.each(base.markup,function(a,s){$(e.dom).find("."+a+"> .info").remove()}),e.printElements(base.markup)})},expose.printElements=function(e){var a=this;$.each(e,function(e,s){$.each(s,function(s,t){var n='<div class="info '+t.hideClass+'"><span class="name">'+t.name+'</span><div class="numbers"><span class="data '+t.classe+'">'+t.pct+'</span><span class="value '+t.valueClasse+'">'+t.value+"</span></div></div>";t.link&&(n='<div class="info"><a href="'+t.link+'"><span class="name"> '+t.name+'</span><div class="numbers"><span class="data '+t.classe+'">'+t.pct+'</span><span class="value '+t.valueClasse+'">'+t.value+"</span></div></a></div>"),$(a.dom).find("."+e).append(n)})}),a.adjustWidth(),$(a.dom).find(".loading-box").remove()},expose.decimalAdjust=function(e,a){return void 0===a||0==+a?Math.round(e):(e=+e,a=+a,isNaN(e)||"number"!=typeof a||a%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]-a:-a)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+a:a))))},expose.formatItems=function(e){e.variationpercentbid&&(e.variationpercentbid=this.decimalAdjust(e.variationpercentbid,-2));var a=3,s=this.formatDate(e.date);"bitcoin"!=this.slugify(e.name||e.exchangeasset)&&"bvsp-bovespa-ind"!=this.slugify(e.name||e.exchangeasset)||(a=2);var t={name:this.slugify(e.name||e.exchangeasset),pct:"SELIC"==e.exchangeasset?String(e.price).replace(".",","):this.formatNumber(e.variationpercentbid||e.pctChange,2),value:"SELIC"==e.exchangeasset?s:this.formatNumber(e.askvalue||e.price,a)};t.link=base.items[t.name].link,t.type=base.items[t.name].type,t.valueClasse=base.items[t.name].valueClass,t.hideClass="",base.items[t.name].hideClass&&(t.hideClass=base.items[t.name].hideClass),t.classe="neutral",t.name=base.items[t.name].name,e.variationpercentbid>0?t.classe="pos":e.variationpercentbid<0?t.classe="neg":"SELIC"==e.exchangeasset?e.price>0?t.classe="pos":e.price<0&&(t.classe="neg"):("BITCOIN"==e.exchangeasset||(e.exchangeasset||"").indexOf("BOVESPA")>0)&&(e.pctChange>0?t.classe="pos":e.pctChange<0&&(t.classe="neg")),base.markup[t.type].push(t)},expose.formatDate=function(e){var a=e.slice(0,4),s=e.slice(4,6);return e.slice(6,8)+"."+["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][s-1]+"."+a},expose.formatNumber=function(e,a){return e?(e=(Number(Math.round(e+"e"+a)+"e-"+a)+"").split("."))[0].replace(/\B(?=(\d{3})+(?!\d))/g,".")+","+(e[1]||"00"):"0,00"},expose.slugify=function(e){return e.replace(/\s\(R\$\)/g,"").toString().toLowerCase().replace(/[àÀáÁâÂãäÄÅåª]+/g,"a").replace(/[èÈéÉêÊëË]+/g,"e").replace(/[ìÌíÍîÎïÏ]+/g,"i").replace(/[òÒóÓôÔõÕöÖº]+/g,"o").replace(/[ùÙúÚûÛüÜ]+/g,"u").replace(/[çÇ]+/g,"c").replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},expose.adjustWidth=function(){for(var e=0,a=document.querySelectorAll("section .info"),s=0;s<a.length;s++)e+=$(a[s]).outerWidth();document.querySelectostyle.width=e+50+"px"},expose.init=function(){var e=this;this.mountElements(),(e.breakpoints.checkin(["xs"])||e.breakpoints.checkin(["sm"]))&&setTimeout(()=>{this.adjustWidth()},1e3),$(this.dom).attr("data-reload")&&setInterval(function(){base.markup={currencies:[],stock:[],indicators:[]},e.mountElements()},165e3)},expose.selector=".ticker-financial-market"; });  