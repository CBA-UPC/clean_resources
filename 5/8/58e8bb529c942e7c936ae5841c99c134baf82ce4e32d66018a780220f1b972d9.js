"use strict";(self.webpackChunkkoa2_react_redux_dom=self.webpackChunkkoa2_react_redux_dom||[]).push([[4404,8495],{26527:(e,t,n)=>{n.d(t,{K0:()=>d,NP:()=>u,dP:()=>c});var a=n(73255),l=n(26937),o=n(91668),r=n(85117),i=n(86158);const s=e=>{const t=window?.store?.getState?.(),n=(0,i.e)(t);return(0,o.zN)("/api/newbuild/sellerContactYou",{body:{pageUrl:window.location.href.split("?")[0],webUserId:(0,r.Ol)(),...e,messageCanals:n}}).then((e=>e.json())).then((e=>("ok"!==e?.status&&l.Z.error(e),e)))},d=e=>s({...e,type:a.CONSULTATION_REQUEST}).catch((e=>{l.Z.error(e)})),c=e=>s({...e,type:a.RESERVATION_REQUEST}),u=e=>s({...e,type:a.VISIT_REQUEST}).catch((e=>{l.Z.error(e)}))},71804:(e,t,n)=>{n.d(t,{Z:()=>R});var a=n(71893),l=n(67294),o=n(65858),r=n(5199),i=n(14011),s=n(2659),d=n(11700),c=n.n(d),u=n(41079),m=n.n(u),p=n(64663),E=n(97626),b=n(97516),f=n(60638);const x=a.default.div.withConfig({displayName:"TimeInfoComponent__WorkTimeWrap",componentId:"sc-1k3fdku-0"})(["display:flex;flex-direction:column;padding:15px;gap:1px;background-color:",";"],r.F3),I=a.default.div.withConfig({displayName:"TimeInfoComponent__TimeRow",componentId:"sc-1k3fdku-1"})(["font-size:18px;font-weight:bold;line-height:24px;span:first-child:after{content:'  ·  ';}"]);class h extends l.Component{render(){const{translate:e,timeFrom:t,timeTo:n,saturdayTimeFrom:a,saturdayTimeTo:o,dayFrom:r,dayTo:i,langId:s,sundayTimeFrom:d,sundayTimeTo:u,name:E,developerId:b}=this.props,f=c()(m()(r,s)),h=c()(m()(i,s)),{otherWorkDays:T,timeFrom:w,timeTo:y}=(0,p.getOtherWorkInfo)({developerId:b});return l.createElement(x,null,l.createElement("span",{className:"size16"},e("Отдел продаж ","Відділ продажу "),`${E} ${e("работает","працює")}`),T?l.createElement(I,null,l.createElement("span",null,T.map((e=>c()(m()(e,s)))).join(", ")),l.createElement("span",null,`${w}-${y}`)):l.createElement(l.Fragment,null,f&&h&&t&&n?l.createElement(I,null,l.createElement("span",null,`${f}-${h}`),l.createElement("span",null,`${t}-${n}`)):null,a&&o?l.createElement(I,null,l.createElement("span",null,c()(m()(6,s))),l.createElement("span",null,`${a} - ${o}`)):null,d&&u?l.createElement(I,null,l.createElement("span",null,c()(m()(7,s))),l.createElement("span",null,`${d} - ${u}`)):null))}}h.defaultProps={timeFrom:"",timeTo:"",saturdayTimeFrom:"",saturdayTimeTo:"",sundayTimeFrom:"",sundayTimeTo:""};const T=(0,o.$j)(((e,t)=>{let{newbuildId:n}=t;const a=(0,f.x5)(e,n);return{name:(0,f.UMi)(e,n),langId:(0,b.Ql)(e),dayFrom:E.rm(e,a),dayTo:E.hz(e,a),timeFrom:E.ul(e,a),timeTo:E.Zs(e,a),saturdayTimeFrom:E.rU(e,a),saturdayTimeTo:E.s9(e,a),sundayTimeFrom:E.GP(e,a),sundayTimeTo:E.bR(e,a),developerId:a}}))(h);var w=n(10971),y=n(8783),g=n(75473),v=n(48436),C=n(60193),k=n(17678),_=n(45786);const N=a.default.div.withConfig({displayName:"CommonModalComponent__ModalHeader",componentId:"sc-twe2mr-0"})(["box-sizing:border-box;height:60px;display:flex;justify-content:space-between;padding:24px;align-items:center;color:#fff;background-color:#000;font-size:20px;@media (min-width:","px){border-radius:20px 20px 0 0;}"],_.dB),S=a.default.div.withConfig({displayName:"CommonModalComponent__ModalContentWrap",componentId:"sc-twe2mr-1"})(["padding:15px;display:flex;flex-direction:column;gap:15px;line-height:20px;input,textarea{height:40px;box-sizing:border-box;background-color:",";border-radius:20px;border:none;width:100%;padding:10px 20px;font-size:18px;font-family:inherit;::placeholder{color:#9B9B9B;}:focus-visible{outline:none;box-shadow:0 0 7px -2px blue;}}textarea{height:100%;}.inputError{-webkit-appearance:none;box-shadow:0 0 7px -2px #e92929;}"],r.Wz),$=(0,a.default)(y.Z).withConfig({displayName:"CommonModalComponent__SubmitBtn",componentId:"sc-twe2mr-2"})(["background-color:",";color:#000;border:none;"],r.wl),O={position:"absolute",top:"auto",left:0,right:0,bottom:"auto",background:"#fff",overflow:"unset",border:0,borderRadius:"20px",WebkitOverflowScrolling:"touch",outline:"none",padding:0,margin:"auto",width:"400px",lineHeight:"24px"},P={overlay:{backgroundColor:"transparent",zIndex:100,overflowY:"auto",display:"flex",alignItems:"flex-start"},content:O},Z=e=>{let{children:t,newbuildId:n,translate:a,isOpen:o,onClose:r,onSubmit:d,isMobile:c,submitText:u,submitInfoText:m,headerText:p,hasError:E,orderType:b,cityNameTranslit:f,callPrice:x,price:I,cityId:h,submitHeaderText:g,commercial:k,OnSuccessComponent:_}=e;const[Z,R]=(0,l.useState)(!1),[z,F]=(0,l.useState)(null);(0,l.useEffect)((()=>()=>clearTimeout(z)));c&&(O.width="100%",O.bottom="auto",O.borderRadius="0");return Z?l.createElement(w.Z,{isOpen:Z,style:P,onRequestClose:r},l.createElement(N,null,l.createElement("div",{role:"button",onClick:r,"aria-label":"close window"},l.createElement(i.Z,null)),l.createElement("div",{"data-tm":"request_accepted"},g||a("Заявка принята!","Заявку прийнято!")),l.createElement("div",{role:"button",onClick:r,"aria-label":"close window"},l.createElement(s.Z,null))),l.createElement(S,null,l.createElement("div",null,m||a("Отдел продаж свяжется с Вами для подтверждения","Відділ продажів зв'яжеться з Вами для підтвердження")),_||null,l.createElement(y.Z,{onClick:r,"data-tm":"request_btn_close"},a("Понятно","Зрозуміло"))),k&&b?l.createElement(C.Z,{orderType:b,price:I,cityId:h,regionName:f,newbuildId:n,callPrice:x}):null):l.createElement(w.Z,{isOpen:o,style:P,onRequestClose:r},l.createElement(N,null,l.createElement("div",{role:"button",onClick:r,"aria-label":"close window"},l.createElement(i.Z,null)),l.createElement("div",null,p||""),l.createElement("div",{role:"button",onClick:r,"aria-label":"close window"},l.createElement(s.Z,null))),n?l.createElement(T,{translate:a,newbuildId:n}):null,l.createElement(S,null,t,l.createElement($,{onClick:async e=>{e.preventDefault(),E||(await d(),(()=>{R(!0);const e=setTimeout((()=>{R(!1),r()}),5e3);F(e)})())}},u||`${a("Забронировать","Забронювати")}`),l.createElement(v.Z,{translate:a})))};Z.defaultProps={hasError:!1,orderType:"",price:0,callPrice:0,cityNameTranslit:"",submitInfoText:"",submitHeaderText:"",OnSuccessComponent:null};const R=(0,o.$j)(((e,t)=>{let{newbuildId:n,location:a}=t;return{isMobile:(0,g.eD)(e),commercial:(0,f.xI)(e,n),price:(0,f.AOe)(e,n),callPrice:(0,f.fBp)(e,n),cityNameTranslit:(0,f.ptW)(e,n),cityId:(0,k.OP)({location:a,...e})}}))(Z)},8495:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var a=n(67294),l=n(71893),o=n(11700),r=n.n(o),i=n(28357),s=n(65858),d=n(76627),c=n.n(d),u=n(73255),m=n(6328),p=n(62759),E=n.n(p),b=n(71804),f=n(60939),x=n(60638),I=n(12359),h=n(97516),T=n(5199),w=n(51906),y=n(31111),g=n(87320),v=n(26527),C=n(10407),k=n(54839),_=n(83397),N=n(73346);const S=l.default.div.withConfig({displayName:"VisitRequestModalComponent__VisitDescriptionWrap",componentId:"sc-1mp2f0m-0"})(["padding:15px 15px;background-color:",";border-radius:8px;font-size:16px;display:flex;flex-direction:column;gap:15px;white-space:break-spaces;div{display:flex;flex-direction:column;gap:1px;}"],T.Rf),$=e=>{let{userName:t,userPhone:n,translate:l,newbuildId:o,isOpen:s,onClose:d,newbuildName:p,langId:x,street:I,areaName:h,userId:T,cityId:$,stateId:O,requestConversionValue:P,callPrice:Z,price:R,developerId:z,actionBlock:F}=e;const V=(0,i.i_)(E()[x]),[U,q]=(0,a.useState)(t),[M,B]=(0,a.useState)(n),[W,D]=(0,a.useState)(""),[A,Q]=(0,a.useState)(""),[j,H]=(0,a.useState)(!1),[G,K]=(0,a.useState)(_.AT);(0,a.useEffect)((()=>{(0,w.K)({eventId:m.REVIEW_MODAL_OPEN,request_type:u.VISIT_REQUEST,newbuildId:o,developerId:z,ownerId:z,userId:T,conversionValue:P,action_block:F})}),[]);(0,a.useEffect)((()=>q(t)),[t]),(0,a.useEffect)((()=>B(n)),[n]),(0,a.useEffect)((()=>{if(G===_.Ow&&(0,_.JR)(M).length>=10)return void H(!0);const e=(0,g.Z)(M);H(12===e.length)}));const L=()=>a.createElement(S,null,a.createElement("div",null,a.createElement("span",null,l("Адрес отдела продаж:","Адреса відділу продажу:")),a.createElement("span",{className:"bold size18"},`${h?`${h} район, `:""}${I}`)),A?a.createElement("div",null,a.createElement("span",null,l("Дата визита:","Дата візиту:")),a.createElement("span",{className:"bold size18"},`${r()(V(A).format("dddd"))}, ${V(A).format("D")}`)):null);return a.createElement(b.Z,{translate:l,newbuildId:o,submitText:l("Запись на визит","Записатись на візит"),headerText:l("Запись на визит","Записатись на візит"),isOpen:s,onClose:d,onSubmit:()=>{(0,v.NP)({userName:U,userPhone:M,comment:W,newbuildId:o,dateOfView:A}),(0,y.CV)({newbuildId:o,stateId:O,callPrice:Z,cityId:$,price:R,requestConversionValue:P}),(0,w.K)({ownerId:T,eventId:m.REQUEST_CREATING,request_type:u.VISIT_REQUEST,conversion_value:P,cityId:$,stateId:O,newbuildId:o,count:1,action_block:F})},hasError:!j,orderType:"consultation",OnSuccessComponent:a.createElement(L,null),submitHeaderText:`${l("Спасибо, взяли в работу","Дякуємо, взяли в роботу")} 👍`,submitInfoText:`${l("В ближайшее время менеджер отдела продаж свяжется с вами для подтверждения визита","Найближчим часом менеджер з відділу продажу зв'яжеться з вами для підтвердження візиту")}`},a.createElement(f.Z,{translate:l,developerId:z,setSelectedDay:Q,selectedDay:A}),a.createElement("input",{"data-tm":"userName",type:"text",value:U,name:"userName",onChange:e=>q(e.target.value),placeholder:l("Имя","Ім'я")}),a.createElement(C.i,null,a.createElement(k.Z,{changeCountryHandler:e=>{K(e.target.checked?_.Ow:_.AT),B(""),H(!1)}}),a.createElement(c(),{mask:(0,_.BR)(G),value:M,onChange:e=>B(e.target.value),formatChars:{1:"[1-9]",9:"[0-9]"}},(()=>a.createElement("input",{"data-tm":"userPhone",type:"text",value:M,name:"userPhone",className:j?"":"inputError",placeholder:(0,_.G)(G)})))),a.createElement(N.Z,null),a.createElement("textarea",{value:W,cols:"30",rows:"3",onChange:e=>D(e.target.value),placeholder:l(`Укажите какая информация вас интересует по ${p}`,`Вкажіть яка інформація вас цікавить по ${p}`)}))};$.defaultProps={requestConversionValue:0,callPrice:0,userId:0,areaName:"",street:"",userName:"",userPhone:"",actionBlock:0,langId:0};const O=(0,s.$j)(((e,t)=>{let{newbuildId:n}=t;const a=(0,x.x5)(e,n);return{langId:(0,h.Ql)(e),developerId:a,newbuildId:n,userName:(0,I.zr)(e),userPhone:(0,I.Uh)(e),newbuildName:(0,x.UMi)(e,n),areaName:(0,x.a63)(e,n),street:(0,x.GOZ)(e,n),userId:(0,I.c7)(e),cityId:(0,x._2X)(e,n),stateId:(0,x.TyN)(e,n),requestConversionValue:(0,x.e3D)(e,n),callPrice:(0,x.fBp)(e,n),price:(0,x.AOe)(e,n)}}))($)}}]);