{"prompt":{"prompt_type":"native","accent":"2699cd","icon":"https://cdn.subscribers.com/uploads/setting/modal_image/44548/Screen_Shot_2020-04-01_at_5.11.43_PM.png","headline":"Macworld wants to show you notifications","subheadline":"You can turn off notifications at any time from your browser","ctaButton":"Accept","noButton":"Do not accept","includeBranding":true,"customCSS":null,"subscriptionCategories":[],"position":"top-center","inset":24,"overlay":"light","showModalAgainAfter":7,"showSubscribersCount":false,"alternatePromptStyle":"chicklet"},"site":{"name":"www.macworld.com","appleWebsitePushId":null,"enabled":true,"subdomain":"macworld-2","public_vapid_key":null,"triggerConditions":"{\"pageViews\":1,\"pageDelay\":5,\"scrollPercentage\":0,\"pageRule\":{\"include\":\"ALL\",\"operator\":\"\",\"value\":\"\"},\"device\":\"ALL\"}","installed":true,"https":true,"serviceWorkerPath":null,"serviceWorkerFilename":null,"siteLanguage":null,"inPageMonetization":{"active":null,"frequency":null,"showImage":null,"closeAfter":null,"rule":null},"inBrowserPush":true,"inBrowserNotifications":"[{\"id\":null,\"created_at\":\"2024-01-31T15:00:00-06:00\",\"title\":\"Vision Pro needs a reality distortion field\",\"body\":\"A flawed, ultra-niche product for $3,499 is a tough sell.\",\"target_url\":\"https://www.macworld.com/article/2211381/apple-vision-pro-steve-jobs-reality-distortion-field.html?utm_campaign=subscribers-\\u0026utm_medium=subscribers_push_notification\\u0026utm_source=subscribers\",\"icon_url\":\"https://cdn.subscribers.com/uploads/message/image/291673/square_icon_mini_magick20240131-35-o6xu8k.png\"},{\"id\":null,\"created_at\":\"2024-01-30T15:00:58-06:00\",\"title\":\"New App Store rules will hurt Vision Pro\",\"body\":\"Apple is turning developers against Vision Pro before it even arrives.\",\"target_url\":\"https://www.macworld.com/article/2220841/app-store-fees-maliciious-compliance-vision-pro.html?utm_campaign=subscribers-\\u0026utm_medium=subscribers_push_notification\\u0026utm_source=subscribers\",\"icon_url\":\"https://cdn.subscribers.com/uploads/message/image/291590/square_icon_mini_magick20240130-26-1m93nfz.png\"},{\"id\":null,\"created_at\":\"2024-01-29T15:00:57-06:00\",\"title\":\"Vision Pro’s uphill battle is only beginning\",\"body\":\"Don’t get the eyeballs, you don’t get the apps.\",\"target_url\":\"https://www.macworld.com/article/2214076/vision-pro-netflix-spotify-apps-users-new-platform.html?utm_campaign=subscribers-\\u0026utm_medium=subscribers_push_notification\\u0026utm_source=subscribers\",\"icon_url\":\"https://cdn.subscribers.com/uploads/message/image/291507/square_icon_mini_magick20240129-26-1weizd5.png\"}]"}}dataset.original?t.dataset.original:"A"===t.parentNode.tagName?t.parentNode.getAttribute("href"):null}function v(t,e,n){!function(t){var e=g,n=m;if(t.transition){var i=t.transition;delete t.transition,t[e]=i}if(t.transform){var o=t.transform;delete t.transform,t[n]=o}}(e);var i=t.style,o={};for(var r in e)n&&(o[r]=i[r]||""),i[r]=e[r];return o}var g="transition",m="transform",b="transform",y="transitionend";var w=function(){},E={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:w,onClose:w,onGrab:w,onMove:w,onRelease:w,onBeforeOpen:w,onBeforeClose:w,onBeforeGrab:w,onBeforeRelease:w,onImageLoading:w,onImageLoaded:w},O={init:function(t){var e,n;e=this,n=t,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){e[t]=e[t].bind(n)}))},click:function(t){if(t.preventDefault(),x(t))return window.open(this.target.srcOriginal||t.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(t.currentTarget)},scroll:function(){var t=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||t.scrollLeft,n=window.pageYOffset||t.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:n});var i=this.lastScrollPosition.x-e,o=this.lastScrollPosition.y-n,r=this.options.scrollThreshold;(Math.abs(o)>=r||Math.abs(i)>=r)&&(this.lastScrollPosition=null,this.close())},keydown:function(t){(function(t){return"Escape"===(t.key||t.code)||27===t.keyCode})(t)&&(this.released?this.close():this.release(this.close))},mousedown:function(t){if(_(t)&&!x(t)){t.preventDefault();var e=t.clientX,n=t.clientY;this.pressTimer=setTimeout(function(){this.grab(e,n)}.bind(this),200)}},mousemove:function(t){this.released||this.move(t.clientX,t.clientY)},mouseup:function(t){_(t)&&!x(t)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(t){t.preventDefault();var e=t.touches[0],n=e.clientX,i=e.clientY;this.pressTimer=setTimeout(function(){this.grab(n,i)}.bind(this),200)},touchmove:function(t){if(!this.released){var e=t.touches[0],n=e.clientX,i=e.clientY;this.move(n,i)}},touchend:function(t){(function(t){t.targetTouches.length})(t)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function _(t){return 0===t.button}function x(t){return t.metaKey||t.ctrlKey}var k={init:function(t){this.el=document.createElement("div"),this.instance=t,this.parent=document.body,v(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(t.options),d(this.el,"click",t.handler.clickOverlay.bind(t))},updateStyle:function(t){v(this.el,{zIndex:t.zIndex,backgroundColor:t.bgColor,transition:"opacity\n        "+t.transitionDuration+"s\n        "+t.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},L={init:function(t,e){this.el=t,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=p(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var t=this.instance.options,e=t.zIndex,n=t.enableGrab,i=t.transitionDuration,o=t.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:n?h:l,transition:b+"\n        "+i+"s\n        "+o,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=v(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,v(this.el,{transform:"none"})},grab:function(t,e,n){var i=C(),o=i.x-t,r=i.y-e;v(this.el,{cursor:u,transform:"translate3d(\n        "+(this.translate.x+o)+"px, "+(this.translate.y+r)+"px, 0px)\n        scale("+(this.scale.x+n)+","+(this.scale.y+n)+")"})},move:function(t,e,n){var i=C(),o=i.x-t,r=i.y-e;v(this.el,{transition:b,transform:"translate3d(\n        "+(this.translate.x+o)+"px, "+(this.translate.y+r)+"px, 0px)\n        scale("+(this.scale.x+n)+","+(this.scale.y+n)+")"})},restoreCloseStyle:function(){v(this.el,this.styleClose)},restoreOpenStyle:function(){v(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var t=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",t.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),t.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var t=C(),e=this.rect.left+this.rect.width/2,n=this.rect.top+this.rect.height/2;return{x:t.x-e,y:t.y-n}},calculateScale:function(){var t=this.el.dataset,e=t.zoomingHeight,n=t.zoomingWidth,i=this.instance.options,o=i.customSize,r=i.scaleBase;if(!o&&e&&n)return{x:n/this.rect.width,y:e/this.rect.height};if(o&&"object"===(void 0===o?"undefined":A(o)))return{x:o.width/this.rect.width,y:o.height/this.rect.height};var s=this.rect.width/2,a=this.rect.height/2,c=C(),l={x:c.x-s,y:c.y-a},h=l.x/s,u=l.y/a,d=r+Math.min(h,u);if(o&&"string"==typeof o){var f=n||this.el.naturalWidth,p=e||this.el.naturalHeight,v=parseFloat(o)*f/(100*this.rect.width),g=parseFloat(o)*p/(100*this.rect.height);if(d>v||d>g)return{x:v,y:g}}return{x:d,y:d}}};function C(){var t=document.documentElement;return{x:Math.min(t.clientWidth,window.innerWidth)/2,y:Math.min(t.clientHeight,window.innerHeight)/2}}function S(t,e,n){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(i){d(t,i,e[i],n)}))}var R=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=Object.create(L),this.overlay=Object.create(k),this.handler=Object.create(O),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=T({},E,e),this.overlay.init(this),this.handler.init(this)}return I(t,[{key:"listen",value:function(t){if("string"==typeof t)for(var e=document.querySelectorAll(t),n=e.length;n--;)this.listen(e[n]);else"IMG"===t.tagName&&(t.style.cursor=c,d(t,"click",this.handler.click),this.options.preloadImage&&f(p(t)));return this}},{key:"config",value:function(t){return t?(T(this.options,t),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var i="string"==typeof t?document.querySelector(t):t;if("IMG"===i.tagName){if(this.options.onBeforeOpen(i),this.target.init(i,this),!this.options.preloadImage){var o=this.target.srcOriginal;null!=o&&(this.options.onImageLoading(i),f(o,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),d(document,"scroll",this.handler.scroll),d(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&d(window,"resize",this.handler.resizeWindow);var r=function t(){d(i,y,t,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&S(document,e.handler,!0),n(i)};return d(i,y,r),this}}}},{key:"close",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var n=this.target.el;this.options.onBeforeClose(n),this.lock=!0,this.body.style.cursor=a,this.overlay.fadeOut(),this.target.zoomOut(),d(document,"scroll",this.handler.scroll,!1),d(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&d(window,"resize",this.handler.resizeWindow,!1);var i=function i(){d(n,y,i,!1),t.shown=!1,t.lock=!1,t.target.downgradeSource(),t.options.enableGrab&&S(document,t.handler,!1),t.target.restoreCloseStyle(),t.overlay.remove(),e(n)};return d(n,y,i),this}}},{key:"grab",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var o=this.target.el;this.options.onBeforeGrab(o),this.released=!1,this.target.grab(t,e,n);var r=function t(){d(o,y,t,!1),i(o)};return d(o,y,r),this}}},{key:"move",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=u,this.target.move(t,e,n);var o=this.target.el,r=function t(){d(o,y,t,!1),i(o)};return d(o,y,r),this}}},{key:"release",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var n=this.target.el;this.options.onBeforeRelease(n),this.lock=!0,this.body.style.cursor=a,this.target.restoreOpenStyle();var i=function i(){d(n,y,i,!1),t.lock=!1,t.released=!0,e(n)};return d(n,y,i),this}}}]),t}();n("Wr5T");var M=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=[];return t&&(n=Array.prototype.slice.call(e.querySelectorAll(t))),n}("[data-ad-campaign]");M.length>0&&M.forEach((function(t){var e=t.getAttribute("data-ad-campaign");t.addEventListener("click",(function(){ga("send","event","Ads","Ad Click",e)}));var n=new IntersectionObserver((function(i){i[0].isIntersecting&&(ga("send","event","Ads","Ad View",e,{nonInteraction:!0}),n.unobserve(t))}));n.observe(t)}));var z,H;z=document.body.querySelectorAll(".js-post-audio-player"),Array.from(z).forEach((function(t){var e=document.getElementById(t.getAttribute("aria-controls"));e&&t.addEventListener("click",(function(){e.paused?(e.play(),t.classList.add("is-playing")):(e.pause(),t.classList.remove("is-playing"))}))})),n("uQj1"),H=document.body.getElementsByTagName("a"),Array.from(H).forEach((function(t){-1===t.href.indexOf("javascript:")&&-1===t.href.indexOf(window.location.host)&&(t.setAttribute("target","_blank"),t.setAttribute("rel","".concat(t.getAttribute("rel")," noopener")))})),function(t){var e=t.querySelectorAll(".js-inplace");function n(){var t=this.value?"add":"remove";this.parentNode.classList[t]("is-filled")}Array.from(e).forEach((function(t){var e=t.querySelector("input, textarea");e.addEventListener("keyup",n),e.addEventListener("paste",n),e.addEventListener("change",n),n.call(e)}))}(window.document);r(document),new o.a(document.getElementById("drawer"),{trapFocus:!0,assignFocus:!1,closeOnClickOutside:!0,mediaQuery:"(max-width: 600px)",onShow:function(){document.documentElement.classList.add("has-drawer")},onHide:function(){document.documentElement.classList.remove("has-drawer")},onDisable:function(){document.documentElement.classList.remove("has-drawer")}});var N=document.getElementById("header-login-form");N&&new o.a(N,{trapFocus:!0,assignFocus:!0,closeOnClickOutside:!0,onShow:function(){N.querySelector('input[name="log"]').focus()}}),s('.c-post__content iframe:not([src*="docs.google.com"])'),new R({bgOpacity:.75,enableGrap:!1,scaleBase:.9}).listen('.c-post__content a[href*=".jpg"] img, .c-post__content a[href*=".jpeg"] img, .c-post__content a[href*=".png"] img')},Wr5T:function(t,e){!function(t,e){"use strict";if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},o.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},o.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},o.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},o.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(t,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},o.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(t,"resize",this._checkForIntersections,!0),s(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},o.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),n=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(o){var r=o.element,s=a(r),c=this._rootContainsTarget(r),l=o.entry,h=e&&c&&this._computeTargetAndRootIntersection(r,n),u=o.entry=new i({time:t.performance&&performance.now&&performance.now(),target:r,boundingClientRect:s,rootBounds:n,intersectionRect:h});l?e&&c?this._hasCrossedThreshold(l,u)&&this._queuedEntries.push(u):l&&l.isIntersecting&&this._queuedEntries.push(u):this._queuedEntries.push(u)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},o.prototype._computeTargetAndRootIntersection=function(n,i){if("none"!=t.getComputedStyle(n).display){for(var o,r,s,c,h,u,d,f,p=a(n),v=l(n),g=!1;!g;){var m=null,b=1==v.nodeType?t.getComputedStyle(v):{};if("none"==b.display)return;if(v==this.root||v==e?(g=!0,m=i):v!=e.body&&v!=e.documentElement&&"visible"!=b.overflow&&(m=a(v)),m&&(o=m,r=p,s=void 0,c=void 0,h=void 0,u=void 0,d=void 0,f=void 0,s=Math.max(o.top,r.top),c=Math.min(o.bottom,r.bottom),h=Math.max(o.left,r.left),u=Math.min(o.right,r.right),f=c-s,!(p=(d=u-h)>=0&&f>=0&&{top:s,bottom:c,left:h,right:u,width:d,height:f})))break;v=l(v)}return p}},o.prototype._getRootRect=function(){var t;if(this.root)t=a(this.root);else{var n=e.documentElement,i=e.body;t={top:0,left:0,right:n.clientWidth||i.clientWidth,width:n.clientWidth||i.clientWidth,bottom:n.clientHeight||i.clientHeight,height:n.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(t)},o.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==i)for(var o=0;o<this.thresholds.length;o++){var r=this.thresholds[o];if(r==n||r==i||r<n!=r<i)return!0}},o.prototype._rootIsInDom=function(){return!this.root||c(e,this.root)},o.prototype._rootContainsTarget=function(t){return c(this.root||e,t)},o.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},o.prototype._unregisterInstance=function(){var t=n.indexOf(this);-1!=t&&n.splice(t,1)},t.IntersectionObserver=o,t.IntersectionObserverEntry=i}function i(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,i=this.intersectionRect,o=i.width*i.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function o(t,e){var n,i,o,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){n(),o=null}),i))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function r(t,e,n,i){"function"==typeof t.addEventListener?t.addEventListener(e,n,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function s(t,e,n,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,i||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function a(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(t,e){for(var n=e;n;){if(n==t)return!0;n=l(n)}return!1}function l(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}}(window,document)},"X+FX":function(t,e,n){t.exports=function(){"use strict";var t=function(t){var e,n=null,i=function(i){return function(){n=null,t.apply(i,e)}},o=function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];e=o,null===n&&(n=requestAnimationFrame(i(this)))};return o.cancel=function(){cancelAnimationFrame(n),n=null},o},e={trapFocus:!0,assignFocus:!0,closeOnEsc:!0,closeOnClickOutside:!1,mediaQuery:!1,onShow:function(){},onHide:function(){},onEnable:function(){},onDisable:function(){}},n=['a[href]:not([tabindex^="-"]):not([inert])','area[href]:not([tabindex^="-"]):not([inert])',"input:not([disabled]):not([inert])","select:not([disabled]):not([inert])","textarea:not([disabled]):not([inert])","button:not([disabled]):not([inert])",'iframe:not([tabindex^="-"]):not([inert])','[contenteditable]:not([tabindex^="-"]):not([inert])','[tabindex]:not([tabindex^="-"]):not([inert])'],i=9,o=27;function r(t,e){var n=(e||document).querySelectorAll(t);return Array.prototype.slice.call(n)}return function(){function s(n,i){void 0===i&&(i={}),n&&n instanceof HTMLElement?(this.content=n,this.id=n.id,this.buttons=r("[data-toggle='"+this.id+"']"),this.focusableChildren=this.getFocusableChildElements(),this.options=Object.assign({},e,i),this.throttledMediaQueryTest=t(this.testMediaQuery.bind(this)),0!==this.buttons.length?this.setup():console.warn("Toggle: there are no buttons that control the toggleable element.")):console.warn("Toggle: first parameter must by an HTML element.")}var a=s.prototype;return a.setup=function(){!1===this.options.mediaQuery?this.enable():(this.testMediaQuery(),window.addEventListener("resize",this.throttledMediaQueryTest))},a.destroy=function(){window.removeEventListener("resize",this.throttledMediaQueryTest),this.disable()},a.enable=function(){var t=this;if(!this.active){this.boundClickHandler=this.clickHandler.bind(this),this.boundKeypressHandler=this.keypressHandler.bind(this),document.addEventListener("keydown",this.boundKeypressHandler),document.addEventListener("click",this.boundClickHandler),this.content.setAttribute("aria-labelledby",this.id+"-control-0"),this.buttons.forEach((function(e,n){e.setAttribute("aria-controls",t.id),e.setAttribute("id",t.id+"-control-"+n)})),this.content.hasAttribute("data-toggle-open")?this.show():this.hide(),"function"==typeof this.options.onEnable&&this.options.onEnable();var e=new Event("toggle-enable");this.content.dispatchEvent(e),this.active=!0}},a.disable=function(){if(this.active){document.removeEventListener("click",this.boundClickHandler),document.removeEventListener("keyup",this.boundKeyupHandler),this.buttons.forEach((function(t){t.removeAttribute("aria-label"),t.removeAttribute("aria-expanded"),t.removeAttribute("aria-controls"),t.removeAttribute("id")})),this.content.removeAttribute("aria-hidden"),this.content.removeAttribute("aria-labelledby"),this.focusableChildren.forEach((function(t){t.hasAttribute("data-toggle-tabindex")?(t.setAttribute("tabindex",t.getAttribute("data-toggle-tabindex")),t.removeAttribute("data-toggle-tabindex")):t.removeAttribute("tabindex")})),"function"==typeof this.options.onDisable&&this.options.onDisable();var t=new Event("toggle-disable");this.content.dispatchEvent(t),this.active=!1}},a.testMediaQuery=function(){this.options.mediaQuery&&window.matchMedia(this.options.mediaQuery).matches?this.enable():this.disable()},a.isOpen=function(){return"true"!==this.content.getAttribute("aria-hidden")},a.show=function(){if(this.content.setAttribute("aria-hidden","false"),this.buttons.forEach((function(t){t.setAttribute("aria-expanded","true")})),this.focusableChildren.forEach((function(t){t.hasAttribute("data-toggle-tabindex")?t.setAttribute("tabindex",t.getAttribute("data-toggle-tabindex")):t.removeAttribute("tabindex")})),this.options.assignFocus){var t=this.content.querySelector("[autofocus]")||this.focusableChildren[0];t&&t.focus()}"function"==typeof this.options.onShow&&this.options.onShow();var e=new Event("toggle-show");return this.content.dispatchEvent(e),this},a.hide=function(){this.content.setAttribute("aria-hidden","true"),this.buttons.forEach((function(t){t.setAttribute("aria-expanded","false")})),this.focusableChildren.forEach((function(t){var e=t.getAttribute("tabindex");e&&(t.dataset.toggleTabindex=e),t.setAttribute("tabindex","-1")})),"function"==typeof this.options.onShow&&this.options.onHide();var t=new Event("toggle-hide");return this.content.dispatchEvent(t),this},a.toggle=function(t){return void 0===t&&(t=!this.isOpen()),t?this.show():this.hide(),this},a.clickHandler=function(t){for(var e=t.target;e&&1===e.nodeType;){if(this.buttons.includes(e))return t.preventDefault(),void this.toggle();e=e.parentNode}this.options.closeOnClickOutside&&this.isOpen()&&this.content!==t.target&&!this.content.contains(t.target)&&(t.preventDefault(),this.hide())},a.keypressHandler=function(t){this.options.closeOnEsc&&this.isOpen()&&t.which===o&&(t.preventDefault(),this.hide(),this.buttons[0].focus()),this.options.trapFocus&&t.which===i&&this.trapFocus(t)},a.getFocusableChildElements=function(){return r(n.join(","),this.content).filter((function(t){return Boolean(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}))},a.trapFocus=function(t){if(this.focusableChildren.length>0){var e=this.focusableChildren.indexOf(document.activeElement)||0;t.shiftKey||e!==this.focusableChildren.length-1||(this.focusableChildren[0].focus(),t.preventDefault()),t.shiftKey&&0===e&&(this.focusableChildren[this.focusableChildren.length-1].focus(),t.preventDefault())}},s}()}()},"hz+k":function(t,e){},tv6c:function(t,e){},uQj1:function(t,e){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return e.querySelector(t)}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=[];return t&&(n=Array.prototype.slice.call(e.querySelectorAll(t))),n}function o(t){return/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i.test(t)}var r;document.addEventListener("DOMContentLoaded",(function(){i(".sharedaddy a").forEach((function(t){var e=t.getAttribute("href");e&&-1!==e.indexOf("share=")&&t.setAttribute("href","".concat(e,"&nb=1")),(t.classList.contains("share-facebook")||t.classList.contains("share-twitter")||t.classList.contains("share-google")||t.classList.contains("share-reddit")||t.classList.contains("share-pinterest"))&&t.addEventListener("click",(function(e){!function(t){r&&r.close(),r=window.open(t.target.href,"wpcom","menubar=1,resizable=1,width=600,height=400"),t.preventDefault()}(e),"function"==typeof gtag&&gtag("event","share",{method:t.innerText,event_action:"share",content_id:t.href.substr(0,t.href.indexOf("?"))})}))}));var t=n("#sharing_email");if(t){t.style.display="";var e=n("form",t),s=n(".response",t),a=n("input[name=source_email]",e),c=n("input[name=target_email]",e);i(".sharedaddy ul").forEach((function(i){"true"!==i.getAttribute("data-has-click-events")&&(i.setAttribute("data-has-click-events","true"),n("a.share-email",i).addEventListener("click",(function(i){var o=i.target;if(t.classList.contains("is-open"))t.classList.remove("is-open");else{s&&s.parentNode.removeChild(s),n("input[type=submit]",t).removeAttribute("disabled"),n("a.sharing_cancel",e).style.display="inline";var r=o.getBoundingClientRect();t.style.left="".concat(r.left+document.body.scrollLeft,"px"),t.style.top="".concat(r.top+document.body.scrollTop+o.offsetHeight,"px"),t.classList.add("is-open")}i.preventDefault()})))})),n("a.sharing_cancel").addEventListener("click",(function(n){i(".errors",e).forEach((function(t){t.style.display="none"})),i(".error",e).forEach((function(t){t.classList.remove("error")})),t.classList.remove("is-open"),n.preventDefault()})),n("input[type=submit]",t).addEventListener("click",(function(r){var s=r.target,l=n(".sharedaddy a.share-email").getAttribute("href"),h=!1;if(s.setAttribute("disabled","disabled"),n("a.sharing_cancel",e).style.display="none",n("img.loading",e).style.display="block",i(".errors",e).forEach((function(t){t.style.display="none"})),i(".error",e).forEach((function(t){t.classList.remove("error")})),o(a.value)||(a.classList.add("error"),h=!0),o(c.value)||(c.classList.add("error"),h=!0),h)s.removeAttribute("disabled"),n("a.sharing_cancel",e).style.display="inline",n("img.loading",e).style.display="none",n("img.loading",e).style.display="none",n(".errors-1",e).style.display="block";else{var u=new XMLHttpRequest;u.onreadystatechange=function(){u.readyState===XMLHttpRequest.DONE&&200===u.status&&(n("img.loading",e).style.display="none","1"===u.response||"2"===u.response||"3"===u.response?(n(".errors-".concat(u.response),e).style.display="block",n("input[type=submit]",e).removeAttribute("disabled"),n("a.sharing_cancel",e).style.display="inline"):(e.style.display="none",t.innerHTML=u.response,n(".sharing_cancel",t).addEventListener("click",(function(){return t.classList.remove("is-open"),!1}))))};var d=[].filter.call(e.elements,(function(t){return t.name&&t.value})).map((function(t){return"".concat(encodeURIComponent(t.name),"=").concat(encodeURIComponent(t.value))})).join("&");u.open("POST",l),u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),u.setRequestHeader("X-Requested-With","xmlhttprequest"),u.send(d)}r.preventDefault()}))}}))}});