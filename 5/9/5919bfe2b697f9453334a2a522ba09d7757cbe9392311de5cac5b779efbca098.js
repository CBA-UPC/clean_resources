"use strict";(self.mvWrapperJsonp=self.mvWrapperJsonp||[]).push([[8982],{8982:(e,t,o)=>{o.d(t,{ZP:()=>H});var i=o(5671),n=o(3583),s=o(4222),a=o(2321),r=o(6039),l=o(4441),d=o(5595),g=o(9860);const c="utm_source",u="utm_campaign";const h=new class{constructor(e=document){this._document=e,window.__cmp||window.__tcfapi||(this.utmSourceCookie=new l.V({name:c,maxAge:0}),this.utmCampaignCookie=new l.V({name:u,maxAge:0}),this.utmSource=(0,d.Ph)(c,this._document.location.search)||this.utmSourceCookie.value,this.utmSourceCookie.set(this.utmSource),this.utmCampaign=(0,d.Ph)(u,this._document.location.search)||this.utmCampaignCookie.value,this.utmCampaignCookie.set(this.utmCampaign))}};var m=o(6057),p=o(4666),w=o(2137),v=o(953),b=o(6921),y=o(7713),f=o(2946),S=o(9909),k=o(7475),T=o(2183),P=o(3528),_=o(6600),R=o(4530),A=o(6500),C=o(2226),E=o(6135),L=o(8387),M=o(91),z=Object.defineProperty,Z=Object.defineProperties,I=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,D=B=x=const j="https://securepubads.g.doubleclick.net/tag/js/gpt.js",F=s.w.googletag,$=[C.i["Food Allergies"],C.i["Vegan Diets"]];class H{constructor(e,t,o,n=window){this.model=e,this.auctionHouse=t,this.keywordService=o,this._window=n,this.refreshTimeReachedMap={},this.completedAuctionResultsMap={},window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],!function(){const e=!!document.querySelector(`script[src$="${j}"]`),t=void 0!==window.googletag.getVersion;return e||t}()?i(j,F):window.googletag.cmd.push((),a.Z.on(a.Z.events.bidReady,this.handleBidReady.bind(this)),a.Z.on(a.Z.events.refreshTimeReached,this.handleRefreshTimeReached.bind(this)),H.onReady((()=>{this.addEventListeners(t),this.setPageUrl(),this.addPageLevelTargeting(e),r.A.isMobileOrTablet?this.pubads.setSafeFrameConfig({allowOverlayExpansion:!1,allowPushExpansion:!1,sandbox:!0}):this.pubads.setSafeFrameConfig({allowOverlayExpansion:!0,allowPushExpansion:!0,sandbox:!0}),this.pubads.collapseEmptyDivs(),this.pubads.enableSingleRequest(),this.pubads.disableInitialLoad(),this.googletag.enableServices()}))}static tryADifferentBidResponse(e){const t=[new m.d(e.model,e,{})];H.triggerRefreshedAdEvents(e,t)}static triggerRefreshedAdEvents(e,t){e.reauctions++,a.Z.trigger(a.Z.events.bidReady,t),e.refreshes++,a.Z.trigger(a.Z.events.refreshTimeReached,e)}static onReady(e){return window.googletag&&window.googletag.pubadsReady?Promise.resolve(e()):new Promise(((t,o)=>{i.ready(F,{success:()=>{window.googletag.cmd.push(()},error:)})).then((e=>e))}et pubads(){return this._pubads=this._pubads||this._window.googletag.pubads(),this._pubads}setPPID(){H.onReady((()=>{if(_.Wu.id){(0,R.i)(_.Wu.id).then(()}}))}setSlotTargeting(e){return x(this,null,(function*(){var t,i;const{slot:n}=e;let s={};if(this.model.uam){const{AmazonAdapter:e}=yield o.e(9110).then(o.bind(o,3322));s=e.getAmazonTargeting(n.id)}n.amazonTargeting=s;const{hbCount:a,highestBid:r,currentBidWon:l}=this.auctionHouse.getHighestBidData(n,e),c=r&&r.adserverTargeting||void 0,u=c&&c.hb_bsbid?c.hb_bsbid:0;n.highestPrebid=r,(0,d.DY)("test","nativeS2S")&&c&&(c.hb_pb="10.05");const h=this.shouldAllowGoogleToBid(n),m=this.model.psas&&n.psaEligible&&!this.model.testSite?this.model.psas.map((e=>e.gam_key)):[],p=window.$adManagementConfig.video&&window.$adManagementConfig.video.playerGroup,w=f.Rw.new(this.model).getPartnerLiftValue(),v=k.CP.getDisplayFloor(this.model,n.adUnitId),P=k.CP.getOutstreamFloor(this.model,n.adUnitId),_=(0,y.sS)(u||v),R=(0,y.av)(u,P);var L,M;return n.setTargeting((L=B(B(B({},c),e.getPrebidBidderTargeting()),this.keywordService.getResults()),M={partnerLift:w,hb_bid:c&&c.hb_bid||"no_bid",slot_id:n.id,hb_bidder:c&&c.hb_bidder?c.hb_bidder:"no_bidder_"+(l?"1":"0"),hb_count:String(a),hb_pool:l?"1":"0",hb_pmp:r&&r.dealId?"1":"0",UR:s.amznadj?[_,s.amznadj]:_,URP:R,OE:"0",google:h,native:"1"===h&&"SidebarBtfStacked"!==n.type?"1":"0",slot_number:n.number.toString(),slot:"GutterAtf"===n.type?"gutter":n.adUnitId,arrival:"arrival"===n.id?"1":"0",refresh:n.isRefreshing?"1":"0",refresh_count:n.refreshes>0?n.refreshes:void 0,amznbid:s.amznbid,amznbidub:s.amznbidub,amznadj:s.amznadj,amznadid:s.amznadid,amzniid:s.amzniid,amznp:s.amznp,amznsize:s.amznsize,iiq:(0,E.qC)(r),sspm:null==(t=null==r?void 0:r.ext)?void 0:t.sspm,tam_liv:s.tam_liv,bidFloor:(0,g.B5)(v),player_group:p,ccpa:b.Yg.uspString,psa:m,timeout:n.timeout.targetingCode,gid:T.iJ.gid||S.Z.gid,inview:n.onRail?"1":"0",adomain:null==r?void 0:r.adomain,grow_state:S.Z.state,grow_source:S.Z.source,grow_version:S.Z.version,dsp_id:null==r?void 0:r.dspSeat,deal_id:null==r?void 0:r.dealId,"3pc":V(),illr:n.isLessLazyRendered?"1":"0",gpp:`${A.GPP.gppGAMApplicableSections}-${A.GPP.gppGAMApplicable}-${A.GPP.gppGAMDeclinedPermission}`,pps:null==(i=window.$adManagementConfig.web.sda)?void 0:i.filter((e=>Object.values(C.i).includes(e)&&!$.includes(e)))},Z(L,I(M)))),this.applyTargeting(n),e}))}applyTargeting(e){const t=e.gSlot;return t?(t.clearTargeting(),this.filterTargeting(e),Object.keys(e._targeting).forEach((o=>{const i=e._targeting[o];(i||0===i)&&t.setTargeting(o,i)}))):P.ZP.debug(`gSlot is undefined on ${e.id}`),e._targeting={},e}shouldAllowGoogleToBid(e){const t=this.model.google,o=e.adXEligible,i=!(0,d.DY)("test","placeholders"),n=!this.model.testSite;return t&&o&&i&&n?"1":"0"}filterTargeting(e){e._targeting.hb_pb||(e._targeting.UR=(0,y.sS)(k.CP.getDisplayFloor(e.model,e.adUnitId))),e._targeting.velocity&&e._targeting.velocity>1e3&&(e._targeting.velocity=1e3)}handleBidReady(e){const t=[];e.forEach((e=>{const o=e.slot,i=o.id;this.refreshTimeReachedMap[i]||0===o.reauctions?(this.refreshTimeReachedMap[i]=!1,t.push(e)):this.completedAuctionResultsMap[i]=e})),t.length&&this.displayAds(t)}handleRefreshTimeReached(e){const t=e.id,o=this.completedAuctionResultsMap[t];o?(this.completedAuctionResultsMap[t]=void 0,this.displayAds([o])):this.refreshTimeReachedMap[t]=!0}displayAds(e){H.onReady((()=>x(this,null,(function*(){const t=e.map((e=>("GutterAtf"===e.slot.type&&e.slot.destroyGSlotIfWeShould(),this.setSlotTargeting(e)))),o=[];(yield Promise.all(t)).forEach((e=>{var t;const i=e.slot;if(!i.growSmartLocked)if(a.Z.trigger(a.Z.events.slotRefreshed,i),i.adXEligible||i.highestPrebid||(null==(t=i.amazonTargeting)?void 0:t.amzniid))o.push(e),M.P.turnLock({bidReceived:!0});else{const e=this.getSpoofEmptySlotRenderEndedEvent(i);a.Z.trigger(a.Z.events.slotRenderEnded,e,i)}}));const i=o.map(().filter(();i.length>0&&this.pubads.refresh(i)}))))}getSpoofEmptySlotRenderEndedEvent(e){return{isEmpty:!0,size:"",slot:e.gSlot,serviceName:"publisher_ads"}}addEventListeners(e){return this.pubads.addEventListener(a.Z.events.slotRenderEnded,(e=>{const t=v.Z.getSlotByGSlot(e.slot);t&&a.Z.trigger(a.Z.events.slotRenderEnded,e,t)})),!0}getGaSessionId(){return(new l.V({name:"_ga"}).value||"").split(".")[2]||""}ddPageLevelTargeting(e){const t=new Date,o=new p.l;this.pubads.setTargeting("site",e.slug.substr(0,n.n3)).setTargeting("path",window.location.pathname.substr(0,n.n3)).setTargeting("secure","https:"===window.location.protocol?"1":"0").setTargeting("sessiondepth",w.ZP.depth.toString()).setTargeting("optout",e.optouts.map(()).setTargeting("categories",e.categories.map(()).setTargeting("generator","web").setTargeting("bucket",(Math.floor(100*Math.random())+1).toString()).setTargeting("referrer_url",w.ZP.referrer).setTargeting("utm_source",h.utmSource||"").setTargeting("utm_campaign",h.utmCampaign||"").setTargeting("dow",t.getUTCDay().toString()).setTargeting("day",t.getUTCDate().toString()).setTargeting("month",String(t.getUTCMonth()+1)).setTargeting("hour",t.getUTCHours().toString()).setTargeting("wrapper_group",e.versionGroup.name||"").setTargeting("wswy",e.wswy).setTargeting("sessionId",this.getGaSessionId()).setTargeting("groupm",e.group_m_approved?"1":"0").setTargeting("browser",r.A.browser).setTargeting("os",r.A.os),o.recipeCard&&this.pubads.setTargeting("rcard",o.recipeCard),Object.keys(e.customTargeting).forEach(();let i=(0,d.Ph)("test");i=i?Array.isArray(i)?i:[i]:[];const s=i.indexOf("placeholders");return(-1!==s||e.testSite)&&(-1!==s?i[s]="houseads":i.push("houseads")),i.length>0&&this.pubads.setTargeting("test",i),!0}}function V(){let e;const t=window.$adManagementConfig.web.tpc;return e=t?t.timedOut?"timedOut":t.supported?"1":"0":"unknown",e}},91:(e,t,o)=>{o.d(t,{P:()=>l});var i=o(3127),n=o(2321),s=o(953);const a=[".wp-block-mv-list",".mv-create-card.mv-list-card",".wp-block-mv-recipe",".mv-create-card:not(.mv-index-card)",".wprm-recipe-container",".tasty-recipes"],r=class{constructor(e,t,o){this.model=e,this.blockListAll=t,this.growLoggedIn=o,r.canActivate(e,t,o)&&(n.Z.on(n.j.bidReady,r.lockSlots.bind(r)),window.growMe.on("authStatusChanged",r.unlockContent.bind(r)),r.lockReady=!0)}static insertKey(){r.lockReady&&!r.keyInsertedAt&&(r.keyInsertedAt=Date.now(),setTimeout((,3e3))}static turnLock({bidReceived:e}){r.lockReady&&!r.lockTurned&&(r.lockTurned=!0,r.force||r.shouldTurnLock(e)?(r.lockContent(),r.newRelicPageAction(2)):(r.done(),r.newRelicPageAction(3)))}static canActivate(e,t,o){var n,s;return!t&&!o&&"1"===e.experiment.activate(i.l.enableGrowSmartLock)&&"US"===e.geoLoc.country_code&&e.growSmartLockEligible&&!!(null==(n=window.GrowMeSite)?void 0:n.growEnabled)&&!!(null==(s=window.growMe)?void 0:s.on)&&"/"!==window.location.pathname}static done(){var e;r.locked=!1,r.unlockSlots(),r.moveUniversalPlayer(),null==(e=r.resizeObserver)||e.disconnect()}static fetchAdhesion(){var e;return(null==(e=s.Z.adhesionSlot)?void 0:e.wrapper)||null}static fetchModal(){var e,t;return(null==(t=null==(e=document.querySelector(".grow-smart-lock-content-root"))?void 0:e.shadowRoot)?void 0:t.querySelector(".smartLockModal"))||null}static fetchRecipeCard(){return document.querySelectorAll(a.join(", "))[0]||null}static fetchUniversalPlayer(){var e;return(null==(e=s.Z.getSlotById("universalPlayer"))?void 0:e.wrapper)||null}static listenForElmResize(){const{elmAdhesion:e,elmModal:t,elmUniversalPlayer:o}=r;e&&t&&o&&(r.resizeObserver=new ResizeObserver(r.moveUniversalPlayer.bind(r)),r.resizeObserver.observe(e),r.resizeObserver.observe(t))}static lockContent(){return e=this,t=null,o=function*(){var e;try{r.elmLockableContent=r.fetchRecipeCard(),yield null==(e=window.growMe)?void 0:e.smartLock({targetElement:r.elmLockableContent}),r.locked=!0,r.newRelicPageAction(1),r.elmAdhesion=r.fetchAdhesion(),r.elmModal=r.fetchModal(),r.elmUniversalPlayer=r.fetchUniversalPlayer(),r.listenForElmResize()}catch(e){r.done()}},new Promise(();var e,t,o}static lockSlots(e){r.locked&&e.forEach((({slot:e})=>{var t;(null==(t=r.elmLockableContent)?void 0:t.contains(e.target))&&(r.slotIds.push(e.id),e.growSmartLocked=!0)}))}static moveUniversalPlayer(){const{elmAdhesion:e,elmModal:t,elmUniversalPlayer:o,locked:i}=r;if(e&&t&&o){const n=o.classList.contains("universalPlayer__left");o.style.bottom=i?t.clientHeight-e.clientHeight+"px":"",o.style.right=i&&n?window.innerWidth-o.clientWidth-15+"px":""}}static newRelicPageAction(e){window.$adManagementConfig.metricsTracker.record("GrowSmartLock",{status:e,domain:window.location.hostname.replace("www.",""),wrapperVersion:window.$adManagementConfig.web.model.versionGroup.version,wrapperGroup:window.$adManagementConfig.web.model.versionGroup.name},.1)}static shouldTurnLock(e){const t=r.keyInsertedAt+3e3<Date.now();return!e||e&&t}static unlockContent({isLoggedIn:e}){r.locked&&e&&(r.newRelicPageAction(0),r.done())}static unlockSlots(){const e=[];r.slotIds.forEach((t=>{const o=s.Z.getSlotById(t);(null==o?void 0:o.gSlot)&&(o.growSmartLocked=!1,e.push(o.gSlot))})),e.length&&window.googletag.cmd.push((),r.slotIds=[]}};let l=r;l.locked=!1,l.elmAdhesion=null,l.elmLockableContent=null,l.elmModal=null,l.elmUniversalPlayer=null,l.keyInsertedAt=0,l.lockReady=!1,l.lockTurned=!1,l.slotIds=[],l.force="true"===new URLSearchParams(location.search).get("smartLock")},2226:(e,t,o)=>{o.d(t,{i:);var i=(e=>(e["Aolcoholic Beverages"]="369",e["Barbecues and Grilling"]="370",e.Cooking="371",e["Desserts and Baking"]="372",e["Dining Out"]="373",e["Food Allergies"]="374",e["Food Movements"]="375",e["Healthy Cooking and Eating"]="376",e["Non-Alcoholic Beverages"]="377",e["Vegan Diets"]="378",e["Vegetarian Diets"]="379",e["World Cuisines"]="380",e["Food & Drink"]="368",e["Hobbies & Interests"]="422",e["Home & Garden"]="457",e["Business and Finance"]="268",e["Healthy Living"]="406",e["Music and Audio"]="481",e["Style & Fashion"]="676",e.Automotive="243",e["Technology & Computing"]="687",e.Travel="719",e))(i||{})}}]);