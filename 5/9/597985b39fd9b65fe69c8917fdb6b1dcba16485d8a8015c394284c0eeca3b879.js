function u(t){return!!(t.offsetParent||t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function s(t){const n=t.tagName.toLowerCase();return t.getAttribute("tabindex")==="-1"||t.hasAttribute("disabled")||n==="input"&&t.getAttribute("type")==="radio"&&!t.hasAttribute("checked")||!u(t)||window.getComputedStyle(t).visibility==="hidden"?!1:(n==="audio"||n==="video")&&t.hasAttribute("controls")||t.hasAttribute("tabindex")||t.hasAttribute("contenteditable")&&t.getAttribute("contenteditable")!=="false"?!0:["button","input","select","textarea","a","audio","video","summary"].includes(n)}function d(t){var n,i;const e=b(t),a=(n=e[0])!=null?n:null,r=(i=e[e.length-1])!=null?i:null;return{start:a,end:r}}function b(t){const n=[];function i(e){if(e instanceof Element){if(e.hasAttribute("inert"))return;!n.includes(e)&&s(e)&&n.push(e);const a=r=>{var o;return((o=r.getRootNode({composed:!0}))==null?void 0:o.host)!==t};e instanceof HTMLSlotElement&&a(e)&&e.assignedElements({flatten:!0}).forEach(r=>{i(r)}),e.shadowRoot!==null&&e.shadowRoot.mode==="open"&&i(e.shadowRoot)}[...e.children].forEach(a=>i(a))}return i(t),n.sort((e,a)=>{const r=Number(e.getAttribute("tabindex"))||0;return(Number(a.getAttribute("tabindex"))||0)-r})}export{d as a,b as g};
Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$2=!1,c.$3=null,c.state={visible:!1},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.$2=!0,this.$4()};e.componentDidUpdate=function(a){this.$4(a)};e.componentWillUnmount=function(){this.$2=!1,this.$5()};e.$4=function(a){var b=this,e;try{e=d("ReactDOM").findDOMNode(this)}catch(a){return}this.$3&&(!a||a.buffer!==this.props.buffer||e!==this.$1)&&this.$5();if(!this.$3){if(!(e instanceof Element)){this.$1=null;return}this.$1=e;this.$3=c("observeIntersection")(e,function(a){a=c("intersectionObserverEntryIsIntersecting")(a);var d=a?b.props.onVisible:b.props.onHidden;b.setState({visible:a});d&&d()},{rootMargin:this.props.buffer!=null?this.props.buffer+"px":"0px"})}};e.$5=function(){this.$3&&(this.$3.remove(),this.$3=null)};e.check=function(){c("FBLogger")("onvisible").mustfix("Deprecated method `check()` was called. Remove the call immediately.")};e.reset=function(){if(this.$2===!1)return;this.$5();this.$4()};e.render=function(){var a=this.props.children;a=typeof a==="function"?a(this.state.visible):a;return i.Children.only(a)};return b}(i.Component);g["default"]=a}),98);
__d("FeedAnimatedImageShare.react",["cx","AnimatedImageMarauderLogger","DOMContainer.react","Event","Image.react","OnVisible.react","ReactDOM","ReactTransitionEvents","SubscriptionsHandler","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||d("react"),k=20;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={disableAutoplay:!1,hasPlayedAtleastOnce:!1,isLoaded:!1,isLoading:!1,isPlaying:!1,wasPlaying:!1},c.$3=null,c.$5=function(){c.setState({disableAutoplay:!0});if(!c.props.isPlayableInline){window.open(c.props.href,"_blank");return}c.state.isPlaying?c.pause("user_initiated"):c.play("user_initiated")},c.$7=function(){c.$2.reset()},c.$13=function(a){c.$2=a},c.$14=function(){c.$11(),!c.state.isPlaying&&c.props.isPlayableInline&&(c.$8()||c.state.wasPlaying)&&c.play(c.state.wasPlaying?"page_visibility_initiated":"autoplay_initiated")},c.$6=function(){c.$12(),c.setState({wasPlaying:c.state.isPlaying}),c.state.isPlaying&&c.pause("page_visibility_initiated")},c.play=function(a){c.$1.logStaticClick(Date.now());c.setState({isPlaying:!0});if(c.props.videoController){c.state.hasPlayedAtleastOnce||c.setState({hasPlayedAtleastOnce:!0});var b=c.props.videoController;b&&b.play(a)}else c.$9()},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.$1=new(c("AnimatedImageMarauderLogger"))(),this.refs.playButton&&d("ReactTransitionEvents").addEndEventListener(d("ReactDOM").findDOMNode(this.refs.playButton),this.play),this.$4()};e.$4=function(){var a=this;if(!this.props.videoController||!this.refs.videoPlayer)return;d("ReactDOM").findDOMNode(this.refs.videoPlayer).addEventListener("click",this.$5);this.props.videoController.addListener("finishPlayback",function(){window.setTimeout(function(){a.props.videoController.play("loop_initiated")},1)});this.$3=new(c("SubscriptionsHandler"))();this.$3.addSubscriptions(c("Event").listen(window,"blur",this.$6),c("Event").listen(window,"focus",this.$7))};e.componentWillUnmount=function(){this.$3&&this.$3.release()};e.$8=function(){return this.props.autoplay&&!this.state.disableAutoplay};e.$9=function(){var a=this;if(this.state.isLoading)return;this.setState({isLoading:!0});var b=new Image();b.onload=function(){a.setState({hasPlayedAtleastOnce:!0,isLoaded:!0,isLoading:!1}),a.$1.logAnimatedRender(Date.now())};b.src=this.props.animatedSrc};e.$10=function(){if(this.props.disableClickToPlayButton)return null;var a=this.props.isPlayableInline&&(!this.state.isPlaying||this.state.isLoading),b=this.state.isLoading,c=!this.state.hasPlayedAtleastOnce&&this.state.isLoaded;return j.jsxs("div",{className:a?"":"hidden_elem",onClick:this.$5,role:"presentation",children:[j.jsx("div",{ref:"playButton",className:"_393-"+(c?" _30a":"")}),j.jsx("div",{className:"_30b"+(b?" _30c":"")+(c?" _30e":"")}),j.jsx("div",{className:"_30h"+(c?" _30i":"")})]})};e.$11=function(){this.$1.initSession(this.props.autoplay,this.props.fbid,this.props.href,this.props.isPlayableInline,!!this.props.videoController,Date.now())};e.$12=function(){this.$1&&this.$1.hasCurrentSession()&&this.$1.endSession(Date.now())};e.$15=function(){return!this.props.staticSrc?null:j.jsx(c("Image.react"),{className:"_9_m _30j",src:this.props.staticSrc,width:this.props.width,height:this.props.height,onClick:this.$5})};e.$16=function(){return j.jsx(c("Image.react"),{className:"_9_m",src:this.props.animatedSrc,width:this.props.width,height:this.props.height,onClick:this.$5})};e.$17=function(){return!this.state.isPlaying||!this.state.isLoaded||!this.props.isPlayableInline?this.$15():this.$16()};e.$18=function(){return!this.props.videoElement?null:j.jsxs("span",{children:[j.jsx("span",{className:this.state.hasPlayedAtleastOnce?"":"hidden_elem",children:j.jsx(c("DOMContainer.react"),{ref:"videoPlayer",children:this.props.videoElement})}),j.jsx("span",{className:this.state.hasPlayedAtleastOnce?"hidden_elem":"",children:this.$15()})]})};e.$19=function(){if(!this.state.isPlaying)if(this.props.overlayNode)return this.props.overlayNode;else if(this.props.overlay)return j.jsx(c("DOMContainer.react"),{children:this.props.overlay});return null};e.pause=function(a){this.setState({isPlaying:!1}),this.props.videoController&&this.props.videoController.pause(a)};e.render=function(){var a=-1*(this.props.height*k/100);return j.jsx(c("OnVisible.react"),{onVisible:this.$14,onHidden:this.$6,buffer:a,ref:this.$13,children:j.jsxs("div",{className:this.props.className,children:[this.$18()||this.$17(),this.$10(),this.$19()]})})};return b}(j.Component);a.defaultProps={autoplay:!1,isPlayableInline:!1};g["default"]=a}),98);