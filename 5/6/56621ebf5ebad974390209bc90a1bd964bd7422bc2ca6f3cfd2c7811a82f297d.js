void 0==window.c1&&(window.c1=0),void 0==window.widgetCssLoaded&&(window.widgetCssLoaded=!1);var smartWidgetsServerBaseUrl,productIdsFileData=[],deletedFileData=[],currentPageInPagination=1,deletedFileCreatedData=[],schemaData=[],tokenFileData=[],languageData=[],summaryFileData=[],widgetFileCount=[],alreadyLoadedWidgets=[],totalPageLinks=0,isForward=!0,lastDifferenceFactor=0,currentMaxToSkip=0,counter=1,hashProductIdsData=null;smartWidgetsServerBaseUrl=void 0!=window._ekomiWidgetsServerUrl?window._ekomiWidgetsServerUrl:window._ekomiServerUrl;var fallBackLanguage="de",languageMapping={en:"en",de:"de",fr:"fr",es:"es",it:"it",nl:"nl",jpn:"ja",kor:"ko",tr:"tr",ru:"ru",pt:"pt",zht:"zh",el:"el",svk:"sl",ara:"ar",ukr:"uk",aze:fallBackLanguage,tha:"th",zhs:fallBackLanguage,da:"da",pl:"pl",ro:"ro",cze:"cs",bg:"bg",hu:"hu",Tfng:fallBackLanguage,sv:"swe"};function getKeyByValue(e){for(var t in languageMapping)if(languageMapping.hasOwnProperty(t)&&languageMapping[t]===e)return t}function getPageLanguage(e){var t=window._language[e];return("auto"==window._language||"auto"==t||void 0==t)&&void 0==(t=getKeyByValue(t=(t=window.navigator.userLanguage||window.navigator.language).split("-")[0]))&&(t=fallBackLanguage),void 0==t?fallBackLanguage:t}function evolute(e=""){let t=(e=e.replace(" ","")).split(/[+\-*/]/),a=[],i=[],r=parseFloat(t.shift());for(let n=0;n<e.length;n++)n==e.length-1&&a.push(r),"*"==e[n]||"/"==e[n]?r=arthmatic(r,parseFloat(t.shift()),e[n]):"+"==e[n]?(a.push(r),r=parseFloat(t.shift())):"-"==e[n]&&(i.push(r),r=parseFloat(t.shift()));let s=0;for(let o=0;o<Math.max(a.length,i.length);o++)s+=a[o]?a[o]:0-i[o]?i[o]:0;return s}function arthmatic(e,t,a=""){switch(a){case"+":return e+t;case"-":return e-t;case"*":return e*t;case"/":return e/t}}function replaceRepeatFilledStarComputedWidth(e,t,a){var i=RegExp("\\*\\|repeat_filled_stars_computed_width\\|\\*","g"),r=e.repeat_filled_stars_computed_formula;if(!r)return a;var n=r.replace("*|rating|*",t).replace("*|rating_floor|*",Math.floor(t));return n=evolute(n),a.replace(i,n)}function getDate(e,t){var a="";if(-1!=e.indexOf("n")&&-1!=e.indexOf("j")&&-1!=e.indexOf("Y"))return(a=(a=e.replace("Y",t.getFullYear())).replace("n",t.getMonth()+1)).replace("j",t.getDate());var i=" ";-1!=e.indexOf("/")?i="/":-1!=e.indexOf(".")?i=".":-1!=e.indexOf("-")&&(i="-");for(var r=e.split(i),n=r.length,s=0;s<n;s++)-1!=r[s].indexOf("d")||-1!=r[s].indexOf("D")?""==a?a+=t.getDate()>9?t.getDate():"0"+t.getDate():a+=i+(t.getDate()>9?t.getDate():"0"+t.getDate()):-1!=r[s].indexOf("m")||-1!=r[s].indexOf("M")?""==a?a+=t.getMonth()>8?t.getMonth()+1:"0"+(t.getMonth()+1):a+=i+(t.getMonth()>8?t.getMonth()+1:"0"+(t.getMonth()+1)):(-1!=r[s].indexOf("y")||-1!=r[s].indexOf("Y"))&&(""==a?a+=t.getFullYear():a+=i+t.getFullYear());return a}nction getSealForReview(e){var t="standard";return ratingRange(e,4.8,5.1)?t="gold":ratingRange(e,4.45,4.8)?t="silver":ratingRange(e,4,4.45)&&(t="bronze"),t}function replaceReviewPlaceholders(e,t,a,i){var r=RegExp("\\*\\|review_rating_grade\\|\\*","g"),n=RegExp("Verified Customer","g"),s=RegExp("\\*\\|review_seal_type\\|\\*","g"),o=RegExp("\\*\\|review_rating_double\\|\\*","g"),l=getRatingGrade(0,e),d=getSealForReview(e),c="",g="Verified Customer";return void 0!=a.rating_grade_translated?c=a.rating_grade_translated[l]:void 0!=languageData[a.tpl][getPageLanguage(i)]&&languageData[a.tpl][getPageLanguage(i)].rating_grade_translated&&(c=languageData[a.tpl][getPageLanguage(i)].rating_grade_translated[l]),languageData[a.tpl]&&void 0!=languageData[a.tpl][getPageLanguage(i)]&&languageData[a.tpl][getPageLanguage(i)].verified_customer&&(g=languageData[a.tpl][getPageLanguage(i)].verified_customer),t=(t=(t=(t=t.replace(n,g)).replace(r,c)).replace(o,2*e)).replace(s,d)}unction getDateFormat(e){var t="",a=e.indexOf("*|date_format_"),i=e.indexOf("|*",a);if(a>0){for(z=a+14;z<i;z++)t+=e[z];"xxxxx"===t&&(t="d.M.yyyy")}else t="d.M.yyyy";return t}function getStringBetween(e,t,a){var i=(e=" "+e).indexOf(t);if(0===i)return"";i+=t.length;var r=e.indexOf(a,i)-i;return e.substr(i,r)}function getRatingGrade(e,t){var a="";return ratingRange(t,4.8,5.1)&&e>=50?a="excellent":ratingRange(t,4.4,4.8)&&e>=50?a="excellent":ratingRange(t,4,4.4)&&e>=50?a="good":ratingRange(t,4,5.1)&&e<50?(a="good",ratingRange(t,4.45,5.1)&&(a="excellent")):ratingRange(t,0,4.1)&&e<50&&(a=""),a}function getSealType(e,t){var a="standard";return ratingRange(t,4.8,5.1)&&e>=50?a="gold":ratingRange(t,4.4,4.8)&&e>=50?a="silver":ratingRange(t,4,4.4)&&e>=50?a="bronze":ratingRange(t,4,5.1)&&e<50?a="neutral":ratingRange(t,0,4.1)&&e,a}function translateText(e,t,a,i){a.attr("disabled","disabled"),void 0==i&&(i=null);var r=new FormData;return r.append("text",e),null!=i&&r.append("browser_language",i),r.append("crossDomain",!0),r.append("shop_id",window._customerId),fetch(window._ekomiWidgetsServerUrl+"/translate-data",{method:"POST",body:r}).then(function(e){return e.json()}).then(function(i){var r=i.translate_text;t.addClass("text_translate_"+counter).html(r),t.after('<span class="trans_after trans_after_'+counter+'" hidden>'+r+"</span>"),t.after('<span class="trans_before trans_before_'+counter+'" hidden>'+e+"</span>"),counter++,a.removeAttr("disabled")}),""}function getWidgetContainer(e,t,a){var i=e("#widget-container");return a&&(e(".ekomi-widget-"+t+".div_"+(a=a.replace(/\./g,"-_dot_-").split("%").join("-_perc_-").split("#").join("-_hash_-").split("/").join("-_slash_-").replace(/\s+/g,"-_-_").replace("+","plus").replace("(","brkt").replace(")","brkt").replace("{","brkt").replace("}","brkt").replace("[","brkt").replace("]","brkt").split(":").join("-coln-"))).length?i=e(".ekomi-widget-"+t+".div_"+a):e(".ekomi-widget-"+t).length&&(i=e(".ekomi-widget-"+t))),i}!function(){window.ekomiWidgetJquery;var e,t="";e=void 0!==window._ekomiWidgetsServerUrl?window._ekomiWidgetsServerUrl:window._ekomiServerUrl;var a="https://smart-widget-assets.ekomiapps.de/";void 0!=window._bucket&&(a="https://widgets.coddle.de/");var i=a+"data_files",r='<script id="google-rich-snippet-structured-data" type="application/ld+json">',n="</script>",s='<script type="application/ld+json">',o="</script>",l=["sf1083005a9426b0e5630","sf1083005a9426c23452c","sf1083005a84045d7445a","sf1083005a84016b3bc54","sf914485a0270efa05f1","sf1082605aa264256efa8","sf68945aba468f73234","sf37558599c3a89c9a73","sf3159259a52ab9d2aae","88954587dc1ce2e3c4","8895457d1574b3870b"],d={rating:0,empty_review_message:"No Reviews",rating_double:0,rating_floor:0,rating_grade:"",rating_grade_translated:"",filled_stars_computed_width:0,total_reviews_last_year:0,total_reviews:0,rating_percent:0,last_review_text:"",last_review_date:"0000-00-00 00:00:00",last_positive_review_text:"",second_last_positive_review_text:"",last_positive_review_date:"0000-00-00 00:00:00",seal_type:"standard",review_seal_type:"standard",ekomi_certificate_seo:"",positive_reviews_percentage:0,neutral_reviews_percentage:0,negative_reviews_percentage:0,widget_position:"bottom_left",date_format_xxxxx:"",today_date:"",your_company_name:"",review_title:"",review_text_title:"",review_date:"",review_time:"",review_text:"",review_rating:"",review_rating_double:"",shop_website:"",review_company_name:"",repeat_filled_stars_computed_width:0,review_pretty_datetime:"",total_positive_reviews:0,total_negative_reviews:0,total_neutral_reviews:0,random_postive_review_text:"",product_name:"",product_image_url:"",product_id:"","5_star_count":0,"5_star_percentage":0,"4_star_count":0,"4_star_percentage":0,"3_star_count":0,"3_star_percentage":0,"2_star_count":0,"2_star_percentage":0,"1_star_count":0,"1_star_percentage":0,rating_sff:0,total_reviews_sff:0,recommended_customers_percentage_sff:0,filled_stars_computed_width_sff:0,"5_star_count_sff":0,"5_star_percentage_sff":0,"4_star_count_sff":0,"4_star_percentage_sff":0,"3_star_count_sff":0,"3_star_percentage_sff":0,"2_star_count_sff":0,"2_star_percentage_sff":0,"1_star_count_sff":0,"1_star_percentage_sff":0,recommended_customers_percentage:0,user_reviews:"",slider_last_10_positive_reviews:"",carousel_slider_reviews:"",rating_group:0,total_reviews_group:0,filled_stars_computed_width_group:0,review_comment_text:"",comment_pretty_datetime:"",widget_social_like:[],widget_social_dislike:[],reviewer_firstname:"",reviewer_lastname:"",seal_type_group:"standard",rating_double_group:0,rating_percent_group:0,last_positive_review_text_group:"",review_images:""},c=!1;if(void 0===window._ekomiToken||v(window._ekomiToken,window._customerId)){if(void 0!==window._ekomiWidgetTokens&&window._ekomiWidgetTokens.forEach(function(e,t){v(e,window._customerId)||(c=!0)}),!c){if(void 0===window.ekomiWidgetJqueryFile&&0==document.querySelectorAll('[data-ekomi-jquery-not-required="true"]').length&&(void 0===window.jQuery||window.jQuery.fn.jquery<"3.1.0")){window.ekomiWidgetJqueryFile=!0;var g=document.createElement("script");g.setAttribute("type","text/javascript"),g.setAttribute("src","https://sw-assets.ekomiapps.de/static_resources/jquery.min.js"),g.readyState?g.onreadystatechange=function(){("complete"===this.readyState||"loaded"===this.readyState)&&u()}:g.onload=u,(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(g)}else window.ekomiWidgetJquery=window.jQuery,f();window.ekomiWidgetMain=f}}function p(e,t){for(var a in e)if(e[a]===t)return a;return!1}function u(){if(window.ekomiWidgetJquery=window.jQuery.noConflict(!0),isIE()&&9>=isIE()){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","https://sw-assets.ekomiapps.de/static_resources/jquery.xdomainrequest.min.js"),e.readyState?e.onreadystatechange=f(),(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(e)}else f()}function v(e,t){return!(void 0!=e&&e.includes("sf")&&e.split("sf")[1].indexOf(t,0))}function f(c=0,g=""){window.ekomiWidgetJquery(document).ready(function(u){var f=window._customerId;if(void 0!==window._ekomiToken&&h(window._ekomiToken),void 0==m)var m=[];function h(e){if(void 0!=e&&v(e,f)){if(t=e,0==e.indexOf("sf")){$(e,f,t);return}var a=i+"/mapping/default_mapping.json";void 0!==f&&""!==f&&(a=i+"/mapping/"+f+"_mapping.json");var r="";fetch(a).then(function(e){return 404==e.status?null:200==e.status&&e.ok?e.json():void 0}).then(function(a){if(null!=a){var i=a[e];if(void 0!==f&&""!==f){var n=i.length,s=window._language;if(void 0===s||""===s)void 0==i[0]?(r=i.new_token,f=i.customerId):(r=i[0].new_token,f=i[0].customerId);else for(var o=0;o<n;o++)i[o].language===s&&(r=i[o].new_token)}else r=i.new_token,f=i.customerId;$(r,f,t)}})}}function $(t,c,g){g!=t&&(void 0==document.getElementsByClassName("ekomi-widget-"+g)[0]?document.getElementById("widget-container").className+=" ekomi-widget-"+t:document.getElementsByClassName("ekomi-widget-"+g)[0].className+=" ekomi-widget-"+t),0!=u.inArray(t,l)&&!function t(l,c){function g(t,a,r){var n,s,o,l,d,g,p,v=(-1!=(s=(n=t).html).indexOf("google-rich-snippet-structured-data")&&(s=s.replace('<script id="google-rich-snippet-structured-data" type="application/ld+json">{"@context":"http://schema.org/","@type":"Service","aggregateRating":{"@type":"AggregateRating","ratingValue":"*|rating|*","bestRating":"5","reviewCount":"*|total_reviews|*"}}</script>',"")),s);o=t.css,l=r,d=o,g=document.head||document.getElementsByTagName("head")[0],p=document.createElement("style"),document.querySelector(".sw-css-"+l)||(g.appendChild(p),p.type="text/css",p.className="eKomi-widget-css sw-css-"+l,p.styleSheet?p.styleSheet.cssText=d:p.appendChild(document.createTextNode(d)));var f,m,h,$,w=t.widget_data;if(f=w,m=r,(void 0==f.ctime||void 0!=f.ctime&&Math.floor(Date.now()/1e3)>f.ctime)&&(h=m,$=c,h&&$&&("/"===e.slice(-1)&&(e=e.slice(0,-1)),fetch(e+"/update-widget-file/"+h+"?customerId="+$+"&domain="+window.location.hostname).then(function(e){}).then(function(e){}))),!window.ekomiWidgetJquery('[data-ekomi-global-css-not-required="true"]').length&&void 0==w.global_css_not_required&&!window.widgetCssLoaded)window.widgetCssLoaded=!0,u("<link>",{rel:"stylesheet",type:"text/css",href:"https://sw-assets.ekomiapps.de/static_resources/widget.css"}).appendTo("head");if(void 0!=w.demoWidget){var k=document.createElement("script");k.src="https://smart-widget-assets.ekomiapps.de/static_resources/demo.js",void 0!=window._bucket&&(k.src="https://widgets.coddle.de/static_resources/demo-unminified.js"),k.onload=document.head.appendChild(k)}else if(void 0!=w.load_from_widget&&665==c){if("undefined"==typeof ekomiWidgetFJs){ekomiWidgetFJs=!0;var k=document.createElement("script");k.src="https://smart-widget-assets.ekomiapps.de/static_resources/g-widget.js",void 0!=window._bucket&&(k.src="https://widgets.coddle.de/static_resources/unminified-g-widget.js"),k.onload=function(){loadOldWidget(r,a)},document.head.appendChild(k)}else loadOldWidget(r,a)}else!function e(t,a,r,n){var s=i+"/json/"+c+"_seller_summary.json";if(void 0!=a.lite_service_hash?s=i+"/json/"+c+"_"+a.lite_service_hash+"_summary.json":void 0!=a.lite_service&&(s=void 0!=a.prioritized_tpl?i+"/json/"+c+"_"+a.prioritized_tpl+"_"+a.lite_service+"_summary.json":Array.isArray(a.lite_service)?i+"/json/"+c+"_"+a.lite_service[0]+"_summary.json":i+"/json/"+c+"_"+a.lite_service+"_summary.json"),void 0!=a.srr_hash&&(s=i+"/json/"+c+"_"+a.srr_hash+"_summary.json"),void 0==a.group_shops_hash||r){if(u(".data-ekomi-emp").length&&r){if(-1==r.indexOf(","))return x(t,a,r,n);var o=new FormData;o.append("pid",r),fetch(smartWidgetsServerBaseUrl+"/cnv.php",{method:"POST",body:o}).then(.then(function(e){x(t,a,e.join(","),n)}).catch(function(e){x(t,a,r=(B=r.split(",").sort().sort().join(","),n)})}else if(!u(".data-ekomi-emp").length&&r);else if(u(".data-ekomi-emp").length||void 0==a.product_widget)y(s,t,a,r,n,!1,null);else{var s=i+"/product/"+c+"/summary.json";y(s,t,a,r,n,!1,null)}}else y(s=i+"/group/"+a.group_shops_hash+"_summary.json",t,a,r,n,!0,null)}(v,w,a,r)}function v(t,r){void 0!=tokenFileData[r]&&"loading"!=tokenFileData[r]?g(tokenFileData[r],t,r):"loading"==tokenFileData[r]?setTimeout(function(){v(t,r)},1e3):(tokenFileData[r]="loading",fetch(i+"/widget/"+r+".json").then(function(e){if(404==e.status){if(widgetFileCount[r]>=1)return;return widgetFileCount[r]=widgetFileCount[r]+1,function e(t,a){if(t&&a){void 0!=deletedFileCreatedData[a]&&f(t,a),void 0!=deletedFileData[a]&&!1==(r=-1!=u.inArray(t,deletedFileData[a]))&&f(t,a);var r="noValue";fetch(i+"/json/"+a+"_deletedWidgets.json").then(function(e){if(404==e.status)deletedFileCreatedData[a]=1,f(t,a);else if(200==e.status&&e.ok)return e.json()}).then(function(e){if(null!=e){try{deletedFileData[a]=e}catch(i){}!1==(r=-1!=u.inArray(t,[]))&&f(t,a)}})}}(r,c),null}if(200==e.status&&e.ok)return e.json()}).then(function(i){if(null!==i){var n=i;if(tokenFileData[r]=n,void 0!=n.widget_data.dynamic_content&&void 0!=n.widget_data.tpl){var s=getPageLanguage(r);(function t(i,r,n,s){var o=i.widget_data.tpl,l=a+"resources/language/"+o+"_"+s+".json";void 0==languageData[o]&&(languageData[o]=[]),"loading"==languageData[o][s]?setTimeout(function(){t(i,r,n,s)},1e3):(languageData[o][s]="loading",fetch(l).then(function(a){var l,d,c,g;return 404==a.status?(l=o,d=s,c=e+"/create-template-translation",(g=new FormData).append("template_id",l),g.append("language",d),fetch(c,{method:"POST",body:g}),t(i,r,n,fallBackLanguage),null):200==a.status&&a.ok?a.json():void 0}).then(function(e){i.translations&&(e=Object.assign(e,i.translations[s])),languageData[o][s]=e;var t=i.html,a=i.css,l=languageData[o][s];for(var d in l)if(l.hasOwnProperty(d)&&"rating_grade_translated"!=d){var c=RegExp("\\*\\|"+d+"\\|\\*","g");t=t.replace(c,l[d]);var p=RegExp("{{"+d+"}}","g");a=a.replace(p,l[d]),t=t.replace(p,l[d])}i.html=t,i.css=a,g(i,n,r)}))})(n,r,t,s)}else g(n,t,r)}}))}function f(t,a){t&&a&&("/"===e.slice(-1)&&(e=e.slice(0,-1)),fetch(e+"/update-widget-file/"+t+"?customerId="+a).then(.then()}function m(e,t,a){var r=t.includes("*|paginate|*"),n=!1;for(var s in d)if(d.hasOwnProperty(s)){var o,l=RegExp("\\*\\|"+s+"\\|\\*","g");t!=(t=t.replace(l,d[s]))&&(n=!0)}var l=RegExp("\\*\\|comment_text\\|\\*","g");t=t.replace(l,'<com class="comment_div_hidden"></com>');var g=RegExp("\\*\\|(.*?)\\|\\*","g");t=t.replace(g,"");for(var v=u("#widget-container"),f=a.split(",").sort(),m=".div_count_"+f.length,w=0;w<f.length;w++)m+=".div_"+f[w].replace(/\./g,"-_dot_-").split("%").join("-_perc_-").split("#").join("-_hash_-").split("/").join("-_slash_-").replace(/\s+/g,"-_-_").replace("+","plus");u(m+".ekomi-widget-"+e).length?v=u(m+".ekomi-widget-"+e):u(".ekomi-widget-"+e).length&&(v=u(".ekomi-widget-"+e)),v.html(t),void 0!=tokenFileData[e].widget_data.hideWidgetIfNoReviews&&0==v.find(".hd_total_reviews").data("val")&&v.hide(),v.find(".comment_div_hidden").each(function(){ekomiWidgetJquery(this).parents("comment_repeat").remove()});var k=p(productIdsFileData[c],a);(tokenFileData[e].widget_data.is_lp||tokenFileData[e].widget_data.is_cp||r)&&function e(t,a,r,n){if(s=t,o=a,l=r,void 0==(d=tokenFileData[o].widget_data.lp_translations)&&void 0!=languageData[tokenFileData[o].widget_data.tpl][getPageLanguage(o)]&&languageData[tokenFileData[o].widget_data.tpl][getPageLanguage(o)].lp_translations&&(d=languageData[tokenFileData[o].widget_data.tpl][getPageLanguage(o)].lp_translations),s.find(".reviews").before('<div class="filter-content"><div class="filter-heading"><span class="title-section-inner">'+d["evaluation and review"]+'</span></div><div class="controls"><ul><li class="sort chronological_filter active LP_filters" data-filter-type="filterischronological" data-sort-direction="desc"><span>'+d["newest first"]+'</span></li><li class="sort chronological_filter LP_filters" data-filter-type="filterischronological" data-sort-direction="asc"><span>'+d["oldest first"]+'</span></li><li class="sort rating_filter LP_filters" data-filter-type="filterisrating" data-sort-rating-direction="desc"> <span>'+d["in descending order of evaluation"]+'</span></li><li class="sort rating_filter LP_filters" data-filter-type="filterisrating" data-sort-rating-direction="asc"><span>'+d["in ascending order of evaluation"]+"</span></li></ul></div></div>"),u(document).on("click",".chronological_filter",function(){if(!u(this).hasClass("active")){currentPageInPagination=1,s.find(".LP_filters").removeClass("ekomi-star-filter-active"),u(this).addClass("ekomi-star-filter-active"),s.find(".LP_filters").removeClass("active"),u(this).addClass("active");var e=u(this).data("sort-direction");$(0,o,s,e,null,null,l)}}),u(document).on("click",".rating_filter",function(){if(!u(this).hasClass("active")){currentPageInPagination=1,s.find(".LP_filters").removeClass("ekomi-star-filter-active"),u(this).addClass("ekomi-star-filter-active"),s.find(".LP_filters").removeClass("active"),u(this).addClass("active");var e=u(this).data("sort-rating-direction");$(0,o,s,null,e,null,l)}}),!function e(t,a,i){for(var r=1;r<=5;r++){var n=t.find("filterisstar_"+r).html();t.find("filterisstar_"+r).before('<a href="javascript:" data-filter-type="filterisstar" data-filter="'+r+'" class="ratingFilterLP LP_filters ekomi_widget_filter_star">'+n+"</a>"),t.find("filterisstar_"+r).remove()}u(".ratingFilterLP").click(function(){currentPageInPagination=1,t.find(".LP_filters").removeClass("ekomi-star-filter-active"),u(this).addClass("ekomi-star-filter-active"),$(0,a,t,null,null,u(this).data("filter"),i)})}(t,a,r),r)var s,o,l,d,g=i+"/product/"+c+"/"+n+"/summary.json";else if(void 0!=tokenFileData[a].widget_data.lite_service)g=void 0!=tokenFileData[a].widget_data.prioritized_tpl?i+"/json/"+c+"_"+tokenFileData[a].widget_data.prioritized_tpl+"_"+tokenFileData[a].widget_data.lite_service+"_summary.json":Array.isArray(tokenFileData[a].widget_data.lite_service)?i+"/json/"+c+"_"+tokenFileData[a].widget_data.lite_service[0]+"_summary.json":i+"/json/"+c+"_"+tokenFileData[a].widget_data.lite_service+"_summary.json";else var g=i+"/json/"+c+"_seller_summary.json";h(summaryFileData[g].total_reviews,t,a,r),u(document).find(".nav-pagination").before('<div id="spinner" class="spinner" style="display: none;"><img class="img-spinner" src="'+smartWidgetsServerBaseUrl+'/resources/images/default.svg" alt="Loading"></div>')}(v,e,a,k)}function h(e,t,a,r){ekomiWidgetJquery(".nav-pagination").remove();var n=tokenFileData[a].widget_data.lp_translations;void 0==n&&void 0!=languageData[tokenFileData[a].widget_data.tpl][getPageLanguage(a)]&&languageData[tokenFileData[a].widget_data.tpl][getPageLanguage(a)].lp_translations&&(n=languageData[tokenFileData[a].widget_data.tpl][getPageLanguage(a)].lp_translations);var s=tokenFileData[a].html,o=s.match(/<repeat_[^>]+>/i)[0].match(/\d+/)[0],l=Math.ceil(e/o);lastDifferenceFactor=9;var d=n["full backward arrow"],g=n.previous,p=n.next;n["single forward arrow"],n["single backward arrow"];var v=n["full forward arrow"],f=!1;-1!==s.indexOf("full_first_last_links")&&currentPageInPagination>1&&(f=!0);var m=l<=9?l:9,h=function e(t,a,r,n,s,o,l,d,g,p){var v="";d?(totalPageLinks=!0==g?1*p+5:totalPageLinks,isForward&&(totalPageLinks=!1==g?totalPageLinks-lastDifferenceFactor+1:totalPageLinks,currentMaxToSkip=currentMaxToSkip-lastDifferenceFactor*l+l),(totalPageLinks=totalPageLinks<=n?n+1:totalPageLinks)>r&&(totalPageLinks=r+1),o>r&&(o=r)):(totalPageLinks=!0==g&&o>=n?p-5:totalPageLinks,!0==g&&(totalPageLinks=o>=n?p-5:p-1),isForward||(totalPageLinks=!1==g?totalPageLinks+lastDifferenceFactor-1:totalPageLinks,currentMaxToSkip=currentMaxToSkip+lastDifferenceFactor*l-l),totalPageLinks+o>r&&(o=r>n?n:r-totalPageLinks,totalPageLinks=r-o),r<=n&&(totalPageLinks=0,currentMaxToSkip=0,o=r));for(var f=1;f<=o;f++){var m="";d?(currentMaxToSkip=(--totalPageLinks-1)*l,g&&totalPageLinks==p&&(m="active"),v='<li class="'+m+'"><a href="javascript:" class="page_link" data-page-link="'+totalPageLinks+'" data-skip="'+currentMaxToSkip+'">'+totalPageLinks+"</a></li>"+v):(currentMaxToSkip=(++totalPageLinks-1)*l,g&&totalPageLinks==p&&(m="active"),v+='<li class="'+m+'"><a href="javascript:" class="page_link" data-page-link="'+totalPageLinks+'" data-skip="'+currentMaxToSkip+'">'+totalPageLinks+"</a></li>")}return isForward=!d,lastDifferenceFactor=o,u(document).off("click",".page_link").on("click",".page_link",function(){var e=u(this).data("skip");currentPageInPagination=u(this).data("page-link");var i=null,r=null,n=null;ekomiWidgetJquery(".rating_filter.ekomi-star-filter-active").length&&(i=ekomiWidgetJquery(".rating_filter.ekomi-star-filter-active").data("sort-rating-direction")),ekomiWidgetJquery(".chronological_filter.ekomi-star-filter-active").length&&(r=ekomiWidgetJquery(".chronological_filter.ekomi-star-filter-active").data("sort-direction")),ekomiWidgetJquery(".ratingFilterLP.ekomi-star-filter-active").length&&(n=ekomiWidgetJquery(".ratingFilterLP.ekomi-star-filter-active").data("filter")),$(e,s,a,r,i,n,t)}),u(document).off("click",".page_link_dots_forward").on("click",".page_link_dots_forward",function(e){e.stopPropagation(),e.preventDefault(),u(".btm-pagination.nav-pagination nav ul li.active").next().find(".page_link").trigger("click")}),u(document).off("click",".page_link_dots_backward").on("click",".page_link_dots_backward",,u(document).off("click",".page_link_dots_full_forward").on("click",".page_link_dots_full_forward",function(){var r=summaryFileData[i+"/json/"+c+"_seller_summary.json"].total_reviews,o=tokenFileData[s].html.match(/<repeat_[^>]+>/i)[0].match(/\d+/)[0],l=Math.ceil(r/o);currentMaxToSkip=(l-n)*o,totalPageLinks=l-n+1,isForward=!1;var d=e(t,a,l,n,s,l<=n?l:n,o,!1,!1);u(".nav-pagination ul.pagination").html(d),u(".nav-pagination ul.pagination li:last-child").find(".page_link").trigger("click")}),v}(r,t,l,9,a,m,o,!0,!0,currentPageInPagination),w="",k='<li class="previous" style="display:none;"><a href="javascript:" class="previous page_link_dots_full_backward" style="display:none;">'+d+"</a></li>";f&&(k='<li class="previous"><a href="javascript:" class="previous page_link_dots_full_backward">'+d+"</a></li>");var y='<div class="col-md-3 col-xs-3"><ul class="pre-next">'+k+'<li class="previous"><a href="javascript:" class="previous page_link_dots_backward" style="display:none;">'+g+"</a></li></ul></div>";if(m>1){var _='<li class="next"><a href="javascript:" class="next page_link_dots_full_forward" style="display:none;">'+v+"</a></li>";f&&(_='<li class="next"><a href="javascript:" class="next page_link_dots_full_forward">'+v+"</a></li>"),w='<div class="col-md-3 col-xs-3"><ul class="pre-next"><li class="next"><a href="javascript:" class="next page_link_dots_forward">'+p+"</a></li>"+_+"</ul></div>"}u(".reviews").after('<div class="btm-pagination text-center nav-pagination clearfix">'+y+'<div class="col-md-6 col-xs-6"><nav aria-label="Page navigation"><ul class="pagination">'+h+"</ul></nav></div>"+w+"</div>"),currentPageInPagination>1?u(".page_link_dots_backward").show():u(".page_link_dots_backward").hide(),currentPageInPagination==l?u(".page_link_dots_forward").hide():u(".page_link_dots_forward").show(),void 0!==tokenFileData[a].widget_data&&void 0!==tokenFileData[a].widget_data.is_cp&&tokenFileData[a].widget_data.is_cp&&function e(){document.querySelector("ul.pagination").id="paginator";var t=document.querySelectorAll("#paginator li"),a=[];for(let i=0;i<t.length;i++)t[i].classList.contains("active")?(a[i]=!1,null!=t[i].nextSibling&&(a[i+i]=!1),null!=t[i].previousSibling&&(a[i+i]=!1)):null!=t[i].nextSibling&&t[i].nextSibling.classList.contains("active")?a[i]=!1:null!=t[i].previousSibling&&t[i].previousSibling.classList.contains("active")?a[i]=!1:a[i]=!0;for(let r=0;r<t.length;r++)a[r]&&t[r].remove();"undefined"!=typeof setWidgetPagination&&setWidgetPagination()}(),"undefined"!=typeof setWidgetPagination&&setWidgetPagination()}function $(e,t,a,i,r,n,s){var o=tokenFileData[t].html,l=o.match(/<repeat_[^>]+>/i),d=l[0].match(/\d+/)[0],c=l[0].match(/(?:_[a-zA-Z]+)*_/i)[0].replace(/_/g,""),g=tokenFileData[t].widget_data;u("#spinner").show();var p=[],v={widgetToken:t,crossDomain:!0,dataType:"jsonp",productId:s,lastShown:e,required:d,sortDirection:i,orderByRating:r,filterRating:n,returnTotal:!0,language:getPageLanguage(t)};for(var f in v)v.hasOwnProperty(f)&&v[f]&&p.push(f+"="+encodeURIComponent(v[f]));fetch(smartWidgetsServerBaseUrl+"/get-more-reviews?"+p.join("&")).then(function(e){return 404==e.status?(m(t,o,s),k(data,s,t),null):200==e.status&&e.ok?e.json():void 0}).then(function(e){if(null!==e){var i=e,r=l[0],n="</repeat";c&&"random"!=c&&(n+="_"+c),d&&(n+="_"+d),n+=">",-1==o.indexOf(n)&&(n="</repeat>");for(var s=getStringBetween(tokenFileData[t].html,r,n),p=getDateFormat(s),v="",f=i.length>0?i[0].total_reviews:0,m=0;m<d&&m<i.length;m++){var $=i[m],w=s;for(var k in $){if("review_rating"==k||"rating"==k||"review_rating_double"==k)w=replaceRepeatFilledStarComputedWidth(g,$[k],w),w=replaceReviewPlaceholders($[k],w,g,t),b=RegExp("\\*\\|rating\\|\\*","g"),w=w.replace(b,$[k]),b=RegExp("\\*\\|review_rating\\|\\*","g"),w=w.replace(b,$[k]),b=RegExp("\\*\\|review_rating_double\\|\\*","g"),w=w.replace(b,$[k]);else if("review_date"==k){var y=new Date($[k]);if(isSafari()){var _=$[k].split(" ").join("T");y=new Date(_)}$[k]=getDate(p,y);var j=y.getHours()+":"+(10>y.getMinutes()?"0"+y.getMinutes():y.getMinutes()),D=RegExp("\\*\\|review_time\\|\\*","g");w=w.replace(D,j);var x=RegExp("\\*\\|review_date_only\\|\\*","g");w=w.replace(x,getDate(getDateFormat(o),y))}var b=RegExp("\\*\\|"+k+"\\|\\*","g");w=w.replace(b,$[k])}v+=w}""==v&&(v="*|empty_review_message|*");var b=RegExp("\\*\\|comment_text\\|\\*","g");v=v.replace(b,'<com class="comment_div_hidden"></com>');var P=RegExp("\\*\\|(.*?)\\|\\*","g");v=v.replace(P,""),u(".reviews").html(v),u(".reviews").find(".comment_div_hidden").each(function(){ekomiWidgetJquery(this).parents("comment_repeat").remove()}),h(f,a,t),u("#spinner").hide()}})}function w(e,t,d,g,p,v,f){var h,$=!1;if((void 0!=p.is_rich||void 0!=p.is_rich_with_reviews||void 0!=p.is_local_business)&&void 0!=e&&e.total_reviews>0){var w=g;if(void 0!=schemaData[c]&&void 0!=schemaData[c][w])void 0!==p.is_rich_with_reviews?d+=r+schemaData[c][w].rich_snippet_with_reviews+n:void 0!==p.is_rich&&(d+=r+schemaData[c][w].rich_snippet+n),void 0!==p.is_local_business&&(d+=r+schemaData[c][w].local_business+n);else{$=!0;var k=i+"/json/"+c+"_schema.json";void 0!=p.lite_service&&(k=void 0!=p.prioritized_tpl?i+"/json/"+c+"_"+p.prioritized_tpl+"_"+p.lite_service+"_schema.json":i+"/json/"+c+"_"+p.lite_service+"_schema.json"),u(".data-ekomi-emp").length&&g&&(k=i+"/product/"+c+"/"+f+"/schema.json"),fetch(k).then(function(e){return 404==e.status?null:200==e.status&&e.ok?e.json():void 0}).then(function(a){if(null!==a){if(void 0==schemaData[c]&&(schemaData[c]=[]),void 0!=window._schema_fields){var i=window._schema_fields;if(void 0!=a.rich_snippet){var l=JSON.parse(a.rich_snippet);for(var u in i)i.hasOwnProperty(u)&&(l[u]=i[u]);a.rich_snippet=JSON.stringify(l)}if(void 0!=a.rich_snippet_with_reviews){var h=JSON.parse(a.rich_snippet_with_reviews);for(var u in i)i.hasOwnProperty(u)&&(h[u]=i[u]);a.rich_snippet_with_reviews=JSON.stringify(h)}}if(schemaData[c][w]=a,void 0!==p.is_rich&&void 0!==p.is_local_business&&void 0!=a.rich_snippet)try{var $=JSON.parse(a.local_business),k=JSON.parse(a.rich_snippet);$.aggregateRating=k.aggregateRating,d+=s+JSON.stringify($)+o}catch(y){void 0!==p.is_rich_with_reviews&&void 0!=a.rich_snippet_with_reviews?d+=r+a.rich_snippet_with_reviews+n:void 0!==p.is_rich&&void 0!=a.rich_snippet&&(d+=r+a.rich_snippet+n),void 0!==p.is_local_business&&(d+=s+a.local_business+o)}else if(void 0!==p.is_rich_with_reviews&&void 0!==p.is_local_business&&void 0!=a.rich_snippet_with_reviews)try{var $=JSON.parse(a.local_business),_=JSON.parse(a.rich_snippet_with_reviews);$.aggregateRating=_.aggregateRating,$.review=_.review,d+=s+JSON.stringify($)+o}catch(j){void 0!==p.is_rich_with_reviews&&void 0!=a.rich_snippet_with_reviews?d+=r+a.rich_snippet_with_reviews+n:void 0!==p.is_rich&&void 0!=a.rich_snippet&&(d+=r+a.rich_snippet+n),void 0!==p.is_local_business&&(d+=s+a.local_business+o)}else void 0!==p.is_rich_with_reviews&&void 0!=a.rich_snippet_with_reviews?d+=r+a.rich_snippet_with_reviews+n:void 0!==p.is_rich&&void 0!=a.rich_snippet&&(d+=r+a.rich_snippet+n),void 0!==p.is_local_business&&(d+=s+a.local_business+o)}null==e&&m(t,d,g),T(t,e,p,d,v,g,f),setTimeout(1e3)})}}if(void 0!=p.lite_service_hash||void 0!=p.lite_service){var y=d.match(/<social_repeat/i),_=!1;if(null!=y&&void 0!==y[0])for(var j=getStringBetween(d,"<social_repeat>","</social_repeat>"),D="",x=0;x<p.lite_service.length;x++){var b=e[p.lite_service[x]],P=j,F=RegExp("\\*\\|current_social_item_number\\|\\*","g");for(var L in P=P.replace(F,x),F=RegExp("\\*\\|social_logo\\|\\*","g"),P=P.replace(F,a+"resources/social_"+p.lite_service[x]+".png"),F=RegExp("\\*\\|social_slug\\|\\*","g"),P=P.replace(F,p.lite_service[x]),b)b.hasOwnProperty(L)&&(F=RegExp("\\*\\|"+L+"\\|\\*","g"),void 0!==L[0]&&"<"==L[0]&&(F=RegExp(L,"g")),P=P.replace(F,b[L]));D+=P}else _=!0;d=d.replace("<social_repeat>"+j+"</social_repeat>",D);var S=u("#widget-container");if(u(".ekomi-widget-"+t+".div_"+g).length?S=u(".ekomi-widget-"+t+".div_"+g):u(".ekomi-widget-"+t).length&&(S=u(".ekomi-widget-"+t)),S.html(d),void 0!=tokenFileData[t].widget_data.hideWidgetIfNoReviews&&0==S.find(".hd_total_reviews").data("val")&&S.hide(),m(t,d,W),!_)return}void 0!=p.enable_google_tracking&&(d+=(h=t,"<script async src=\"https://www.googletagmanager.com/gtag/js?id=G-2S5RGNGSQW\"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-2S5RGNGSQW');gtag('event', 'event_widget_hits', {'event_category' : 'category_widget_hits','event_label' : '"+h+"','value': 1});</script>")),$||(null==e&&m(t,d,g),T(t,e,p,d,v,g,f)),p.qa_enable&&function e(t,a){var i=smartWidgetsServerBaseUrl+"/get-question-answer";fetch(i=i+"?widget_token="+t+"&product_id="+a).then(.then(e=>{null!=e&&u("#widget-container").append(e)})}(l,g)}function k(e,t,i){if(void 0!=e&&void 0!=e.enableSeal){var r=u("#widget-container");if(u(".ekomi-widget-"+i+".div_"+t).length?r=u(".ekomi-widget-"+i+".div_"+t):u(".ekomi-widget-"+i).length&&(r=u(".ekomi-widget-"+i)),void 0!=e.doHideWidget&&e.doHideWidget){r.hide();return}var n=0;r.children().each(;var s='<img src="'+a+"resources/en_seal_standard-"+function e(t){if(t<41)return 33;if(t<46)return 41;if(t<56)return 46;if(t<66)return 56;if(t<72)return 66;else if(t<74)return 72;else if(t<81)return 74;else if(t<90)return 81;else if(t<105)return 90;else if(t<150)return 105;else if(t<232)return 150;else if(t<500)return 232;else return 500}(n)+'.png">';r.html(s)}}function y(e,t,a,i,r,n,s){if(void 0!=summaryFileData[e]&&"loading"!=summaryFileData[e]){var o=summaryFileData[e];-1!=e.indexOf("combined_summary")&&(o=summaryFileData[e][s]),w(o,r,t,i,a,n,s)}else"loading"==summaryFileData[e]?setTimeout(function(){y(e,t,a,i,r,n,s)},1e3):(summaryFileData[e]="loading",fetch(e).then(function(e){return 404==e.status?(m(r,t,i),null):200==e.status&&e.ok?e.json():void 0}).then(function(o){null!=o&&(summaryFileData[e]=o,-1!=e.indexOf("combined_summary")&&(o=o[s]),w(o,r,t,i,a,n,s))}))}function _(t,a){if(-1!=t.indexOf(",")){var i=e+"/create-product-file-hash",r=new FormData;r.append("shop_id",a),r.append("product_id",t),fetch(i,{method:"POST",body:r})}}function j(e,t,a,i,r,n){window.c1++;var s=smartWidgetsServerBaseUrl+"/g_f_n_f_p?shop_id="+t+"&hash="+e;1==window.c1?D(s,e,t,a,i,r,n):setTimeout(2e3)}function D(e,t,a,r,n,s,o){for(var l in hashProductIdsData)for(var d in hashProductIdsData[l])if(d==t){y(jsonLink=1==l?i+"/product/"+a+"/combined_summary.json":i+"/product/"+a+"/combined_summary_"+l+".json",r,n,s,o,!1,t);break}}function x(e,t,a,r){for(var n=a.split(",").sort(),s=".div_count_"+n.length,o=0;o<n.length;o++)s+=".div_"+n[o].replace(/\./g,"-_dot_-").split("%").join("-_perc_-").split("#").join("-_hash_-").split("/").join("-_slash_-").replace(/\s+/g,"-_-_").replace("+","plus");var l=u(s+".ekomi-widget-"+r);if(l.hasClass("data-ekomi-emp")){if(void 0!=productIdsFileData[c]&&"loading"!=productIdsFileData[c]){var d=p(productIdsFileData[c],a);if(!1==d)_(a,c),m(r,e,a),u(".data-ekomi-emp").length&&a&&l.removeClass("data-ekomi-emp");else{var g=d;void 0!==t.lite_service?y(jsonLink=i+"/product/"+c+"/"+g+"_"+t.lite_service+"/summary.json",e,t,a,r,!1,g):void 0!==t.sff_form_hash?y(jsonLink=i+"/product/"+c+"/"+t.sff_form_hash+"_"+g+"/summary.json",e,t,a,r,!1,g):void 0!=t.load_from_widget&&u(".ekomi-widget-"+r).length>1?j(g,c,e,t,a,r):void 0!=t.load_combined_summary&&u(".ekomi-widget-"+r).length>1?j(g,c,e,t,a,r):void 0!=t.group_shops_hash?y(jsonLink=i+"/group/product/"+c+"/"+g+"/"+t.group_shops_hash+"_summary.json",e,t,a,r,!0,g):y(jsonLink=i+"/product/"+c+"/"+g+"/summary.json",e,t,a,r,!1,g)}}else if("loading"==productIdsFileData[c])setTimeout(2e3);else{var v=null;productIdsFileData[c]="loading",fetch(i+"/product/"+c+"/productIdsHash.json").then(function(e){if(404==e.status)v=null;else if(200==e.status&&e.ok)return e.json()}).then(function(n){if(null!==n){var s=null;for(var o in hashProductIdsData=n,n)s=Object.assign({},n[o],s);n=s,productIdsFileData[c]=n;var l=p(n,a);if(!1==l){if(_(a,c),m(r,e,a),u(".data-ekomi-emp").length&&a){for(var d=a.split(",").sort(),g=".div_count_"+d.length,v=0;v<d.length;v++)g+=".div_"+d[v].replace(/\./g,"-_dot_-").split("%").join("-_perc_-").split("#").join("-_hash_-").split("/").join("-_slash_-").replace(/\s+/g,"-_-_").replace("+","plus");u(g+".ekomi-widget-"+r).removeClass("data-ekomi-emp")}}else{var f=l;void 0!==t.lite_service?y(jsonLink=i+"/product/"+c+"/"+f+"_"+t.lite_service+"/summary.json",e,t,a,r,!1,f):void 0!==t.sff_form_hash?y(jsonLink=i+"/product/"+c+"/"+t.sff_form_hash+"_"+f+"/summary.json",e,t,a,r,!1,f):void 0!=t.load_from_widget&&u(".ekomi-widget-"+r).length>1?j(f,c,e,t,a,r):void 0!=t.load_combined_summary&&u(".ekomi-widget-"+r).length>1?j(f,c,e,t,a,r):void 0!=t.group_shops_hash?y(jsonLink=i+"/group/product/"+c+"/"+f+"/"+t.group_shops_hash+"_summary.json",e,t,a,r,!0,f):y(jsonLink=i+"/product/"+c+"/"+f+"/summary.json",e,t,a,r,!1,f)}}})}}}unction P(e){var t=" ";-1!=e.indexOf("/")?t="/":-1!=e.indexOf(".")?t=".":-1!=e.indexOf("-")&&(t="-");var a,i=e.split(t),r=i[0],n=i[1],s=i[2].split(" ")[0].trim();return s+"-"+n+"-"+r+" "+i[2].split(" ")[1].split(":")[0].trim()+":"+i[2].split(" ")[1].split(":")[1].trim()}function F(e,t){var a=RegExp("\\*\\|empty_review_message\\|\\*","g");return"empty_review_message"in e||(e.empty_review_message=d.empty_review_message),t.replace(a,e.empty_review_message)}function L(e,t,a){var i=RegExp("\\*\\|seal_type\\|\\*","g"),r=RegExp("\\*\\|seal_type_group\\|\\*","g"),n=getSealType(e,t);return(a=a.replace(r,n)).replace(i,n)}function S(e,t,a,i){var r=RegExp("\\*\\|rating_grade\\|\\*","g"),n=RegExp("\\*\\|rating_grade_translated\\|\\*","g"),s=getRatingGrade(t,a),o="";return void 0!=e.rating_grade_translated?o=e.rating_grade_translated[s]:void 0!=languageData[e.tpl][getPageLanguage(l)]&&languageData[e.tpl][getPageLanguage(l)].rating_grade_translated&&(o=languageData[e.tpl][getPageLanguage(l)].rating_grade_translated[s]),""==s&&(o=""),(i=i.replace(n,o)).replace(r,s)}function O(e,t,a){var i=RegExp("\\*\\|filled_stars_computed_width\\|\\*","g"),r=RegExp("\\*\\|filled_stars_computed_width_group\\|\\*","g"),n=e.filled_stars_computed_formula;if(!n)return a;var s=n.replace("*|rating|*",t).replace("*|rating_floor|*",Math.floor(t));return s=evolute(s),(a=a.replace(i,s)).replace(r,s)}function C(e,t){var a=RegExp("\\*\\|rating_double\\|\\*","g"),i=RegExp("\\*\\|rating_floor\\|\\*","g"),r=RegExp("\\*\\|rating_percent\\|\\*","g"),n=RegExp("\\*\\|rating_group\\|\\*","g"),s=RegExp("\\*\\|rating_double_group\\|\\*","g"),o=RegExp("\\*\\|rating_percent_group\\|\\*","g");return(t=(t=(t=(t=(t=t.replace(i,Math.floor(e))).replace(r,Math.round(e/5*100))).replace(n,e)).replace(s,2*e)).replace(o,Math.round(e/5*100))).replace(a,2*e)}function R(e,t,a,i,r){for(var n in e)if(e.hasOwnProperty(n)){var s=RegExp("\\*\\|"+n+"\\|\\*","g");void 0!==n[0]&&"<"==n[0]&&(s=RegExp(n,"g")),t=t.replace(s,e[n])}t=function e(t,a,i,r){var n=void 0!=t&&void 0!=t.total_reviews?t.total_reviews:0;if(r){if(void 0!=t&&void 0!=t.rating_group)var s=t.rating_group;else if(void 0!=t&&void 0!=t.rating)var s=t.rating;if(void 0!=s){i=L(n,s,i=F(a,i)),i=S(a,n,s,i),i=C(s,i),i=O(a,s,i);var o=RegExp("\\*\\|ekomi_certificate_seo\\|\\*","g");i=i.replace(o,a.ekomi_certificate_seo)}}else if(void 0!=t&&void 0!=t.rating&&void 0!=n){var s=void 0!=t.rating?t.rating:0;i=L(n,s,i=F(a,i)),i=S(a,n,s,i),i=C(s,i),i=O(a,s,i)}return i}(e,a,t,i),function e(t,a,i){var r=getDateFormat(a);if((a=a.replace("*|date_format_"+r+"|*","")).indexOf("SimpleScrollbar.initEl")>0){var n=document.createElement("script");n.src="https://sw-assets.ekomiapps.de/static_resources/simple-scrollbar.min.js",n.type="text/javascript",n.onload=document.getElementsByTagName("head")[0].appendChild(n)}else if(u(".data-ekomi-emp").length&&i){for(var s=i.split(",").sort(),o=".div_count_"+s.length,l=0;l<s.length;l++)o+=".div_"+s[l].replace(/\./g,"-_dot_-").split("%").join("-_perc_-").split("#").join("-_hash_-").split("/").join("-_slash_-").replace(/\s+/g,"-_-_").replace("+","plus");u(o+".ekomi-widget-"+t).removeClass("data-ekomi-emp"),m(t,a,i)}else m(t,a,i);var d=u("#widget-container");u(".ekomi-widget-"+t).length&&(d=u(".ekomi-widget-"+t)),d.find(".ekomi-slick-slider").length&&(window.jq=u,u.getScript("https://sw-assets.ekomiapps.de/static_resources/slick.js",)}(r,t,W)}function T(e,t,a,r,n,s,o){var l=(r=function e(t,a){if(-1==t.indexOf("*|widget_theme|*"))return t;var i=RegExp("\\*\\|widget_theme\\|\\*","g");return t.replace(i,a)}(r=function e(t,a){if(-1==t.indexOf("*|slider_data_source_html|*"))return t;var i=RegExp("\\*\\|slider_data_source_html\\|\\*","g");return t.replace(i,a.slider_data_source_html)}(r=function e(t,a){if(-1==t.indexOf("*|widget_event|*"))return t;var i=RegExp("\\*\\|widget_event\\|\\*","g");return t.replace(i,a.widget_event)}(r=function e(t,a){if(-1==t.indexOf("*|widget_position|*"))return t;var i=RegExp("\\*\\|widget_position\\|\\*","g");return t.replace(i,a.widget_position)}(r=function e(t,a){if(-1==t.indexOf("*|product_id|*"))return t;var i=RegExp("\\*\\|product_id\\|\\*","g");return t.replace(i,a)}(r=function e(t,a){if(-1==t.indexOf("*|token|*"))return t;var i=RegExp("\\*\\|token\\|\\*","g");return t.replace(i,a)}(r=function e(t){if(-1==t.indexOf("*|today_date|*"))return t;var a=getDateFormat(t),i=getDate(a,new Date),r=RegExp("\\*\\|today_date\\|\\*","g");return t.replace(r,i)}(r),e),s),a),a),a),window._theme)).match(/<repeat_[^>]+>/i);null!=l&&void 0!==l[0]?function e(t,a,r,n,s,o,l,d){var g=o[0].match(/(?:_[a-zA-Z]+)*_/i)[0].replace(/_/g,""),p=o[0].match(/\d+/)[0],u=o[0];""==g&&(g="random");var v="";fetch(v=void 0!==r.sff_form_hash?i+"/product/"+c+"/"+r.sff_form_hash+"_"+s+"/"+g+"_1.json":void 0==r.group_shops_hash||n?n?void 0!==r.lite_service?i+"/product/"+c+"/"+s+"_"+r.lite_service+"/"+g+"_1.json":void 0!=r.group_shops_hash?i+"/group/product/"+c+"/"+s+"/"+r.group_shops_hash+"_"+g+"_1.json":i+"/product/"+c+"/"+s+"/"+g+"_1.json":void 0!=r.lite_service&&void 0!=r.prioritized_tpl?i+"/json/"+c+"_"+r.prioritized_tpl+"_"+r.lite_service+"_"+g+"_1.json":void 0!=r.lite_service?i+"/json/"+c+"_"+r.lite_service+"_"+g+"_1.json":void 0!=r.product_widget?i+"/product/"+c+"/"+g+"_1.json":i+"/json/"+c+"_"+g+"_1.json":i+"/group/"+r.group_shops_hash+"_"+g+"_1.json").then(function(e){return 404==e.status?(m(d,a,n),k(t,n,d),null):200==e.status&&e.ok?e.json():void 0}).then(function(e){if(null!==e)try{var i=e;if(null==i)return a;var s="",o="</repeat";g&&"random"!=g&&(o+="_"+g),p&&(o+="_"+p),o+=">",-1==a.indexOf(o)&&(o="</repeat>");for(var c=getStringBetween(a,u,o),v=getDateFormat(c),f=0;f<p&&f<i.length;f++){var m=i[f],h=c;for(var $ in m){if("review_rating"==$)h=replaceRepeatFilledStarComputedWidth(r,m[$],h),h=replaceReviewPlaceholders(m[$],h,r,d);else if("review_date"==$){if(b(m[$]))var w=new Date(1e3*m[$]);else if(isSafari())var y=P(m[$]).split("-").join("/"),w=new Date(y);else var w=new Date(P(m[$]));m[$]=getDate(v,w);var _=w.getHours()+":"+(10>w.getMinutes()?"0"+w.getMinutes():w.getMinutes()),j=RegExp("\\*\\|review_time\\|\\*","g");h=h.replace(j,_);var D=RegExp("\\*\\|review_date_only\\|\\*","g");h=h.replace(D,getDate(getDateFormat(a),w))}var x=RegExp("\\*\\|"+$+"\\|\\*","g");h=h.replace(x,m[$])}s+=h}""==s&&(s="*|empty_review_message|*");var F=u+c+o;a=a.replace(F,s),R(t,a,r,l,d),k(t,n,d)}catch(L){}})}(t,r,a,s,o,l,n,e):(R(t,r,a,n,e),k(t,s,e))}widgetFileCount[l]=0;var W="";if("ekomi-product-widget-identifier"==u(".ekomi-widget-"+l).next().attr("id")){var I=u("#ekomi-product-widget-identifier");u(".prod-data-emp").length&&(I=u(".ekomi-widget-"+l).next(".prod-data-emp").first()).removeClass("prod-data-emp"),W=I.text();var M=I.prev(),B=W.split(",").sort(),q="div_count_"+B.length;W=B.join(","),M.addClass(q),u.each(B,function(e,t){M.addClass("div_"+t.replace(/\./g,"-_dot_-").split("%").join("-_perc_-").split("#").join("-_hash_-").split("/").join("-_slash_-").replace(/\s+/g,"-_-_").replace("+","plus").replace("(","brkt").replace(")","brkt").replace("{","brkt").replace("}","brkt").replace("[","brkt").replace("]","brkt").split(":").join("-coln-"))}),W.trim()||(W="")}v(W,l)}(t,c)}"ajax"==c?h(g):u.each(window._ekomiWidgetTokens,function(e,t){var a,i,r=t;void 0==m[r]?m[r]=0:m[r]++,e+1==window._ekomiWidgetTokens.length&&(window.ajaxEnabled=!0),i=!1,ekomiWidgetJquery(".ekomi-widget-"+(a=t)).each(function(){0==ekomiWidgetJquery.trim(ekomiWidgetJquery(this).text()).length&&(i=!0)}),i&&(m[r]>=1?setTimeout(2e3):h(r))}),window.ekomiWidgetJquery(document).on("click",".translate_text_btn",function(e){if(e.preventDefault(),u(this).is("[disabled=disabled]"))return!1;var t=u(this),a=u(this).parents(".text_translate_parent").find(".text_translate");0!==u(this).parents(".text_translate_parent").find(".trans_after").length?a.each(function(){var e=u.grep(this.className.split(" "),.join(),t=u("."+e).html(),a=e.split("_")[2],i=u(this).parents(".text_translate_parent").find(".trans_after_"+a).text();if(t.trim()===i){var r=u(this).parents(".text_translate_parent").find(".trans_before_"+a).text();u(this).parents(".text_translate_parent").find(".text_translate_"+a).html(r)}else u(this).parents(".text_translate_parent").find(".text_translate_"+a).html(i)}):a.each(function(){var e=u(this).html();e&&translateText(e.trim(),u(this),t)})})})}}();