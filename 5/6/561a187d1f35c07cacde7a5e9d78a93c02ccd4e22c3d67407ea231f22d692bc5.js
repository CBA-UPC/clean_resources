/*! For license information please see dw-min-3.0.27.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("dw",e):(t="undefined"!=typeof globalThis?globalThis:t||self).dw=e()}(this,(function(){"use strict";function t(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}var e={},r={};Object.defineProperty(r,"__esModule",{value:!0}),r.compareVersion=void 0,r.compareVersion=function(t,e){void 0===e&&(e="3.0.27");var r=/(\d+)\.(\d+)\.(\d+)/,n=t.match(r),o=e.match(r);if(!n||!o)return console.error("[dw-js-sdk] 传入版本错误! from="+t+" to="+e),0;for(var i=1;i<4;i++){var s=parseInt(n[i]),a=parseInt(o[i]);if(s!==a)return a>s?1:-1}return 0};var n={},o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},o(t,e)},i=function(){return i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]};function a(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function u(t){return this instanceof u?(this.v=t,this):new u(t)}var d=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},l=Object.freeze({__proto__:null,__extends:function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},get __assign(){return i},__rest:function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r},__decorate:function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},__param:function(t,e){return function(r,n){e(r,n,t)}},__metadata:function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__awaiter:function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{c(n.next(t))}catch(t){i(t)}}function a(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))},__generator:function(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__createBinding:s,__exportStar:function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||s(e,t,r)},__values:a,__read:c,__spread:function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t},__spreadArrays:function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n},__spreadArray:function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||e)},__await:u,__asyncGenerator:function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){o[t]&&(n[t]=function(e){return new Promise((function(r,n){i.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=o[t](e)).value instanceof u?Promise.resolve(r.value.v).then(c,d):l(i[0][2],r)}catch(t){l(i[0][3],t)}var r}function c(t){a("next",t)}function d(t){a("throw",t)}function l(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}},__asyncDelegator:function(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(r=!r)?{value:u(t[n](e)),done:"return"===n}:o?o(e):e}:o}},__asyncValues:function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=a(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,o){!function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)}(n,o,(e=t[r](e)).done,e.value)}))}}},__makeTemplateObject:function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__importStar:function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&s(e,t,r);return d(e,t),e},__importDefault:function(t){return t&&t.__esModule?t:{default:t}},__classPrivateFieldGet:function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},__classPrivateFieldSet:function(t,e,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(t,r):o?o.value=r:e.set(t,r),r}}),h=t(l),p={exports:{}};!function(t,e){!function(r){var n=e,o=t&&t.exports==n&&t,i="object"==typeof global&&global;i.global!==i&&i.window!==i||(r=i);var s=function(t){this.message=t};(s.prototype=new Error).name="InvalidCharacterError";var a=function(t){throw new s(t)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,d={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var e,r,n,o,i=t.length%3,s="",u=-1,d=t.length-i;++u<d;)e=t.charCodeAt(u)<<16,r=t.charCodeAt(++u)<<8,n=t.charCodeAt(++u),s+=c.charAt((o=e+r+n)>>18&63)+c.charAt(o>>12&63)+c.charAt(o>>6&63)+c.charAt(63&o);return 2==i?(e=t.charCodeAt(u)<<8,r=t.charCodeAt(++u),s+=c.charAt((o=e+r)>>10)+c.charAt(o>>4&63)+c.charAt(o<<2&63)+"="):1==i&&(o=t.charCodeAt(u),s+=c.charAt(o>>2)+c.charAt(o<<4&63)+"=="),s},decode:function(t){var e=(t=String(t).replace(u,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var r,n,o=0,i="",s=-1;++s<e;)n=c.indexOf(t.charAt(s)),r=o%4?64*r+n:n,o++%4&&(i+=String.fromCharCode(255&r>>(-2*o&6)));return i},version:"1.0.0"};if(n&&!n.nodeType)if(o)o.exports=d;else for(var l in d)d.hasOwnProperty(l)&&(n[l]=d[l]);else r.base64=d}(this)}(p,p.exports);var f={};!function(t){!function(t){var e,r,n,o=String.fromCharCode;function i(t){for(var e,r,n=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(r=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--):n.push(e);return n}function s(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function a(t,e){return o(t>>e&63|128)}function c(t){if(0==(4294967168&t))return o(t);var e="";return 0==(4294965248&t)?e=o(t>>6&31|192):0==(4294901760&t)?(s(t),e=o(t>>12&15|224),e+=a(t,6)):0==(4292870144&t)&&(e=o(t>>18&7|240),e+=a(t,12),e+=a(t,6)),e+o(63&t|128)}function u(){if(n>=r)throw Error("Invalid byte index");var t=255&e[n];if(n++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function d(){var t,o;if(n>r)throw Error("Invalid byte index");if(n==r)return!1;if(t=255&e[n],n++,0==(128&t))return t;if(192==(224&t)){if((o=(31&t)<<6|u())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if((o=(15&t)<<12|u()<<6|u())>=2048)return s(o),o;throw Error("Invalid continuation byte")}if(240==(248&t)&&(o=(7&t)<<18|u()<<12|u()<<6|u())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}t.version="3.0.0",t.encode=function(t){for(var e=i(t),r=e.length,n=-1,o="";++n<r;)o+=c(e[n]);return o},t.decode=function(t){e=i(t),r=e.length,n=0;for(var s,a=[];!1!==(s=d());)a.push(s);return function(t){for(var e,r=t.length,n=-1,i="";++n<r;)(e=t[n])>65535&&(i+=o((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=o(e);return i}(a)}}(t)}(f);var v={},y={};Object.defineProperty(y,"__esModule",{value:!0}),y.validateBoolean=void 0,y.validateBoolean=function(t,e){if("boolean"!=typeof t)throw Error("sdk error: "+e+" only accept argument of a type of Boolean!");return!0};var g={};Object.defineProperty(g,"__esModule",{value:!0}),g.validateDeviceId=void 0,g.validateDeviceId=function(t){if("string"!=typeof t&&"number"!=typeof t)throw Error("sdk error: _dw.setDeviceKey(deviceId) call error, deviceId should be type of String or Number");return!0};var m={};Object.defineProperty(m,"__esModule",{value:!0}),m.validateString=void 0,m.validateString=function(t,e){if("string"!=typeof t)throw Error("sdk error: "+e+" only accept argument of a type of String!");return!0};var _={},w={};Object.defineProperty(w,"__esModule",{value:!0}),w.copy=void 0,w.copy=function(t){return JSON.parse(JSON.stringify(t))},Object.defineProperty(_,"__esModule",{value:!0}),_.DWConfig=void 0;var b=w,D=function(){function t(t){this.Reporter=t,this.data=this.generateDefaultConfig()}return t.prototype.generateDefaultConfig=function(){var t=this.Reporter.defaults;return{protocol:11,st:"js",sv:"3.0.27",accountId:"",deviceId:"",appKey:t.appKey||"",channel:"default_channel",version:t.appVersion||"default_version",dbg:t.debugMode||!1,dbgUrl:"",customPublicAttrs:{},customPV:t.customPV||!1,defaultEvents:!0,noEncrypted:t.noEncrypted||!1}},t.prototype.validateKey=function(t){if("string"!=typeof t)throw Error("[dw error] config key should be string.");if(!(t in this.data))throw Error("[dw error] the key '"+t+" is invalid.'")},t.prototype.set=function(t,e){this.validateKey(t),this.data[t]=e},t.prototype.get=function(t){return this.validateKey(t),this.data[t]},t.prototype.getAll=function(){return b.copy(this.data)},t.prototype.setCustomPublicAttrs=function(t,e){this.data.customPublicAttrs[t]=e},t}();_.DWConfig=D;var E={},S={};Object.defineProperty(S,"__esModule",{value:!0}),S.DWRequest=void 0;var P=function(){function t(){}return t.prototype.stopPost=function(){return this.stopped=!0,this},t.prototype.cancelStopPost=function(){return this.stopped=!1,this},t.prototype.isPostStopped=function(){return this.stopped},t}();S.DWRequest=P;var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.dateFormat=void 0,T.dateFormat=function(t){var e=function(t){return t<10?"0"+t:t},r=t,n=[r.getFullYear(),r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1,e(r.getDate())].join("-"),o=e(r.getHours()),i=e(r.getMinutes()),s=e(r.getSeconds()),a=r.getMilliseconds().toString(),c=a.length<3?"000".slice(0,3-a.length)+a:a;return[n,[o,i,s].join(":")+"."+c,"+0800"].join(" ")};var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.generateGuid=void 0,A.generateGuid=function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()};var B={};Object.defineProperty(B,"__esModule",{value:!0}),B.getSessionId=void 0,B.getSessionId=function(){try{if("undefined"!=typeof document&&"string"==typeof document.cookie)return/SESS\w*ID=([^;]+)/i.test(document.cookie)?RegExp.$1:""}catch(t){}return""};var x={},O=Object.freeze({__proto__:null,default:function(t){return{all:t=t||new Map,on:function(e,r){var n=t.get(e);n&&n.push(r)||t.set(e,[r])},off:function(e,r){var n=t.get(e);n&&n.splice(n.indexOf(r)>>>0,1)},emit:function(e,r){(t.get(e)||[]).slice().map((function(t){t(r)})),(t.get("*")||[]).slice().map((function(t){t(e,r)}))}}}}),C=t(O),R={},I={};!function(t){var e,r;Object.defineProperty(t,"__esModule",{value:!0}),t.Http=void 0,(r=(e=t.Http||(t.Http={})).Type||(e.Type={})).GET="GET",r.POST="POST",r.JSONP="jsonp"}(I),Object.defineProperty(R,"__esModule",{value:!0}),R.DWDynamic=void 0;var k=h,M=I,j=function(t){function e(e){var r=t.call(this)||this;return r.dwProcess=e,r.retryCount=0,r.appKeyCount=0,r.redirectCount=0,r}return k.__extends(e,t),e.prototype.read=function(){return this.local=this.dwProcess.dwStorage.readDynamicData(),this},e.prototype.save=function(t){return this.dwProcess.dwStorage.saveDynamicData(t)},e.prototype.remove=function(){return this.local=null,this.dwProcess.dwStorage.removeDynamicData()},e.prototype.checkExpire=function(){return k.__awaiter(this,void 0,void 0,(function(){var t,e,r,n,o;return k.__generator(this,(function(i){switch(i.label){case 0:return this.local?[4,this.local]:[2,!0];case 1:return(t=i.sent())&&t.serverTime?(e=this.dwProcess.getRemoteDate())?[3,3]:[4,this.dwProcess.dwStorage.readTimeDifference()]:[2,!0];case 2:if(!(r=i.sent()))return[2,!0];this.dwProcess.timeDifference=r,i.label=3;case 3:return n=new Date(t.serverTime),o=null!=e?e:this.dwProcess.getRemoteDate(),[2,n.toLocaleDateString()!==o.toLocaleDateString()]}}))}))},e.prototype.generateRequestBody=function(t,e){var r,n,o,i,s,a;return void 0===t&&(t={}),k.__awaiter(this,void 0,void 0,(function(){return k.__generator(this,(function(c){return[2,{appVersion:t.version,sendUrlVersion:null!==(n=null===(r=null==e?void 0:e.sendUrls)||void 0===r?void 0:r.version)&&void 0!==n?n:0,transportControlVersion:null!==(i=null===(o=null==e?void 0:e.uploadStrategy)||void 0===o?void 0:o.version)&&void 0!==i?i:0,eventsVersion:null!==(a=null===(s=null==e?void 0:e.events)||void 0===s?void 0:s.version)&&void 0!==a?a:0,abTestName:"",abTestGroupId:""}]}))}))},e.prototype.body=function(){var t=this,e=this.dwProcess.dwConfig;return this.local?this.requestBody=this.local.then((function(r){return t.generateRequestBody(e.getAll(),null!=r?r:{})})):this.requestBody=this.generateRequestBody(e.getAll()),this},e.prototype.post=function(t){return k.__awaiter(this,void 0,void 0,(function(){var e,r,n,o,i,s,a,c=this;return k.__generator(this,(function(u){switch(u.label){case 0:return this.requestBody?this.isPostStopped()?[2]:(e=this.dwProcess.dwConfig.get("appKey"))?this.retryCount>=parseInt("15")||this.redirectCount>=parseInt("10")?[4,this.stopRetry().remove()]:[3,2]:(this.appKeyCount<parseInt("60")?(this.appKeyCount++,this.retry()):console.error('[dw-js-sdk] appKey not be detected, please set the appKey by "dw.setAppKey()"!'),[2]):(console.error("[dw-js-sdk] dwDynamic.body() needs to be invoked"),[2]);case 1:return u.sent(),console.error("[dw-js-sdk] requestDynamic failed for max connect count!"),[2];case 2:return t?(this.url=t,[3,7]):[3,3];case 3:return r=this.dwProcess.Reporter,n=r.defaults,(o=r.fixed).dynamicUrl?(this.url=o.dynamicUrl,[3,7]):[3,4];case 4:return this.local?[4,this.local]:[3,6];case 5:return(i=u.sent())&&i.dynamicUrl?this.url=i.dynamicUrl:this.url=n.dynamicUrl,[3,7];case 6:this.url=n.dynamicUrl,u.label=7;case 7:return this.dwProcess.emit("before-dynamic-send",{dwDynamic:this,dwProcess:this.dwProcess}),this.isPostStopped()?[2]:[4,this.requestBody];case 8:return s=u.sent(),a=this.url+"/api/dynamicParam/v1/app/"+e,this.dwProcess.Reporter.adapters.http.send(a,{type:M.Http.Type.JSONP,timeout:parseInt("3000"),data:s},(function(t,e){return k.__awaiter(c,void 0,void 0,(function(){var r,n=this;return k.__generator(this,(function(o){return r=function(t){n.dwProcess.emit("after-dynamic-send",{dwDynamic:n,dwProcess:n.dwProcess,dynamicData:t})},t||!e?(this.retryCount++,this.retry(this.url),r(),[2]):"object"==typeof e&&1===Object.keys(e).length&&e.dynamicUrl?(this.redirectCount++,this.retry(e.dynamicUrl,0),r(),[2]):(this.data=Promise.resolve(e),this.stopRetry().mergeLocal(e).handleData().data.then(r),[2])}))}))})),[2]}}))}))},e.prototype.retry=function(t,e){var r=this;return void 0===e&&(e=parseInt("1000")),this.stopRetry(),this.retryTimer=setTimeout((function(){r.cancelStopPost(),r.post(t)}),e),this},e.prototype.stopRetry=function(){return clearTimeout(this.retryTimer),this},e.prototype.handleData=function(t){var e=this,r=this.dwProcess;return this.data?(this.data=this.data.then((function(n){return k.__awaiter(e,void 0,void 0,(function(){return k.__generator(this,(function(e){switch(e.label){case 0:return n?t?[3,2]:(n.localTime=Date.now(),[4,this.save(n)]):(console.error("[dw-js-sdk] dynamic data resolved is null"),[2,n]);case 1:e.sent(),e.label=2;case 2:return n.serverTime&&(n.localTime?(r.timeDifference=n.serverTime-n.localTime,r.dwStorage.saveTimeDifference(r.timeDifference)):r.dwStorage.readTimeDifference().then((function(t){r.timeDifference=null!=t?t:0}))),[2,n]}}))}))})),this):(console.error("[dw-js-sdk] dynamic data is not resolved"),this)},e.prototype.mergeLocal=function(t){return this.data=this.local?this.local.then((function(e){if(e){var r={};try{for(var n in t){var o=n,i=t[o];"[object Object]"!==Object.prototype.toString.call(i)?r[o]=i:r[o]=Object.assign({},e[o],i)}}catch(t){}return r}return t})):Promise.resolve(t),this},e.prototype.useLocal=function(){var t=this,e=this.dwProcess;return this.data=this.local.then((function(t){return t})),this.handleData(!0),this.data.then((function(r){e.emit("after-dynamic-send",{dwDynamic:t,dwProcess:e,dynamicData:r})})),this},e}(S.DWRequest);R.DWDynamic=j,Object.defineProperty(x,"__esModule",{value:!0}),x.DWProcess=void 0;var W=h,F=W.__importDefault(C),L=R,N=E,V=function(){function t(e,r,n,o){this.Reporter=e,this.dwConfig=r,this.dwStorage=n,this.dwService=o,this.state="prepare",this.cache={appEndExtraEvents:[],defaultEventsData:{},others:{}},this.dwDynamic=new L.DWDynamic(this),this.eventBus=F.default(),t.instances.push(this)}return t.prototype.getRemoteDate=function(t){if(void 0===t&&(t=new Date),null!=this.timeDifference){var e=t.getTime()+this.timeDifference,r=60*(new Date).getTimezoneOffset()*1e3,n=new Date;return n.setTime(e+r+288e5),n}},t.prototype.sendPageView=function(){var e=this.Reporter.adapters.osInfo,r=this.cache.defaultEventsData,n=new N.DWEvent("_page_view",W.__assign(W.__assign(W.__assign({},r.common),r._page_view),{title:e.getTitle(),url:e.getUrl(),refer:e.getReferer()}),this);return t.printLog("Process","sendPageView","",n),n.post()},t.prototype.sendAppStart=function(t){return void 0===t&&(t={}),W.__awaiter(this,void 0,void 0,(function(){var e,r,n;return W.__generator(this,(function(o){switch(o.label){case 0:return[4,this.dwStorage.readIsFirstVisit()];case 1:return e=o.sent(),r=this.cache.defaultEventsData,e&&this.dwStorage.saveVisitAlready(),n=new N.DWEvent("_app_start",W.__assign(W.__assign(W.__assign(W.__assign({},r.common),r._app_start),{is_first_time:e.toString(),start_type:this.hotLaunch?"2":"1",resume_from_background:"false"}),t),this),this.startDate||(this.startDate=new Date),[2,n.post()]}}))}))},t.prototype.generateAppEndEvent=function(t){var e=this;void 0===t&&(t={});var r=[],n=this.cache.defaultEventsData;return this.cache.appEndExtraEvents.forEach((function(t){t.localDate=new Date,t.remoteDate=e.getRemoteDate(t.localDate)})),r.push.apply(r,W.__spreadArray([],W.__read(this.cache.appEndExtraEvents))),new N.DWEvent("_app_end",W.__assign(W.__assign(W.__assign(W.__assign({},n.common),n._app_end),{use_duration:this.startDate?Date.now()-this.startDate.getTime():0}),t),this,null,r).body()},t.prototype.sendAppEnd=function(t){void 0===t&&(t={});var e=this.generateAppEndEvent(t);return this.hotLaunch=!0,e.post()},t.prototype.prepare=function(){return W.__awaiter(this,void 0,void 0,(function(){var e;return W.__generator(this,(function(r){switch(r.label){case 0:return this.state="prepare",t.printLog("Process","prepare","preparing"),[4,new Promise((function(t){return setTimeout(t)}))];case 1:return r.sent(),[4,this.Reporter.adapters.osInfo.getInfo()];case 2:return r.sent(),e=this.cache,[4,this.dwStorage.readDeviceId(this.dwConfig.get("appKey"),this.dwConfig)];case 3:return e.deviceId=r.sent(),[4,this.dwStorage.readEvents(this)];case 4:return r.sent(),t.printLog("Process","prepare","prepare done"),this.state="normal",[2]}}))}))},t.prototype.refresh=function(e){var r;return W.__awaiter(this,void 0,void 0,(function(){var n,o;return W.__generator(this,(function(i){switch(i.label){case 0:return this.state="prepare",this.emit("before-refresh",{dwProcess:this}),n=null!==(r=this.getRemoteDate())&&void 0!==r?r:new Date,o=this.startDate&&n.toDateString()!==this.startDate.toDateString()||e,this.dwConfig.get("defaultEvents")&&o?[4,this.sendAppEnd()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,this.init({fresh:!0,isForceRefresh:e})];case 3:return i.sent(),t.printLog("Process","refresh","",{currentDate:n,startDate:this.startDate},!0),this.state="normal",[2]}}))}))},t.prototype.init=function(e){var r,n;return void 0===e&&(e={}),W.__awaiter(this,void 0,void 0,(function(){var o,i,s,a=this;return W.__generator(this,(function(c){switch(c.label){case 0:return this.state="prepare",t.printLog("Process","init"),this.dwConfig.get("defaultEvents")?(o=function(){return W.__awaiter(a,void 0,void 0,(function(){var e;return W.__generator(this,(function(r){return(e=[]).push(this.sendAppStart()),this.dwConfig.get("customPV")||e.push(this.sendPageView()),t.printLog("Process","init","sending defaultEvent",e),[2,Promise.all(e)]}))}))},e.fresh&&this.startDate||e.isForceRefresh?(i=null!==(r=this.getRemoteDate())&&void 0!==r?r:new Date,t.printLog("Process","init","fresh",{startDate:this.startDate,currentDate:i,isForceRefresh:e.isForceRefresh}),i.toDateString()!==this.startDate.toDateString()||e.isForceRefresh?(this.startDate=null,this.hotLaunch=!1,[4,o()]):[3,2]):[3,3]):[3,6];case 1:c.sent(),c.label=2;case 2:return[3,5];case 3:return[4,o()];case 4:c.sent(),c.label=5;case 5:null===(n=this.Reporter.defaults)||void 0===n||n.handleAppEnd(this,e),c.label=6;case 6:e.fresh||(this.on("after-dynamic-send",(function(e){e.dynamicData&&(a.dynamicData=e.dynamicData,a.state="normal",t.printLog("Process","init","sending allStorages"),a.sendAllStorages())})),this.on("after-event-send",(function(e){(null==e?void 0:e.response)&&!e.response.error&&(clearTimeout(s),s=setTimeout((function(){t.instances.forEach((function(t){return t.sendAllStorages()}))}),800))}))),c.label=7;case 7:return c.trys.push([7,11,,13]),this.dwConfig.get("dbg")?(this.dwDynamic.read().body().post(),[3,10]):[3,8];case 8:return[4,this.dwDynamic.read().checkExpire()];case 9:c.sent()?(t.printLog("Process","init","getting dwDynamic"),this.dwDynamic.body().post()):this.dwDynamic.useLocal(),c.label=10;case 10:return[3,13];case 11:return c.sent(),[4,this.dwDynamic.remove()];case 12:return c.sent(),this.dwDynamic.body().retry(),[3,13];case 13:return[2]}}))}))},t.prototype.sendAllStorages=function(){this.dwService.sendWaitEvents(this),this.dwService.sendCacheEvents(this),this.dwService.sendFailEvents(this)},t.printLog=function(t,e,r,n,o,i){void 0===r&&(r="");try{((null===globalThis||void 0===globalThis?void 0:globalThis.dw_print_debug_log)||i)&&console.log("%c js-sdk-3.0.27 %c "+t+"-"+e+" %c "+(r||"")+"%c ","background:#35495e ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background: "+(o?"#e5447a":"#41b883")+" ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff","background:transparent; font-weight: bolder","font-weight: normal",n||"")}catch(t){}},t.prototype.isDebug=function(){return this.dwConfig.get("dbg")},t.prototype.on=function(t,e){return this.eventBus.on(t,e),this},t.prototype.off=function(t,e){return this.eventBus.off(t,e),this},t.prototype.emit=function(t,e){return this.eventBus.emit(t,e),this},t.instances=[],t}();x.DWProcess=V,Object.defineProperty(E,"__esModule",{value:!0}),E.DWEvent=void 0;var z=h,H=T,K=A,U=B,q=x,J=function(t){function e(e,r,n,o,i){var s,a,c,u,d,l,h,p,f;void 0===i&&(i=[]);var v=t.call(this)||this;return v.name=e,v.data=r,v.dwProcess=n,v.mixin=o,v.combineEvents=i,v.id=null!==(a=null===(s=v.mixin)||void 0===s?void 0:s.id)&&void 0!==a?a:K.generateGuid(),v.from=null!==(u=null===(c=v.mixin)||void 0===c?void 0:c.from)&&void 0!==u?u:"event",v.position="event",v.failCount=null!==(l=null===(d=v.mixin)||void 0===d?void 0:d.count)&&void 0!==l?l:0,v.urls=null===(h=v.mixin)||void 0===h?void 0:h.urls,q.DWProcess.printLog("Event","constructor","generatingEvent",v),o?(null!==(p=v.name)&&void 0!==p||(v.name=o.name),null!==(f=v.data)&&void 0!==f||(v.data=o.data),v.localDate=o.localTime?new Date(o.localTime):new Date,v.remoteDate=o.remoteTime?new Date(o.remoteTime):n.getRemoteDate(v.localDate)):(v.localDate=new Date,v.remoteDate=n.getRemoteDate(v.localDate)),v.urls||v.generateEventUrls(),q.DWProcess.printLog("Event","constructor","generatedEvent",v),v}return z.__extends(e,t),Object.defineProperty(e.prototype,"urlsParsed",{get:function(){return[this.urls.replace(/^\(|\)$/g,"").split(" ")[0]]},enumerable:!1,configurable:!0}),e.prototype.generateEventUrls=function(){var t,e,r,n,o,i,s=this.dwProcess,a=s.dwConfig,c=s.dynamicData,u=s.Reporter,d=null!==(e=null===(t=null==c?void 0:c.sendUrls)||void 0===t?void 0:t.urls)&&void 0!==e?e:u.defaults.sendUrl,l=u.defaults.debugUrl,h=a.getAll(),p=d;if(h.dbg)p=h.dbgUrl||(null===(r=null==c?void 0:c.sendUrls)||void 0===r?void 0:r.debugUrls)||l;else for(var f=null!==(i=null===(o=null===(n=null==c?void 0:c.events)||void 0===n?void 0:n.data)||void 0===o?void 0:o.length)&&void 0!==i?i:0,v=0;v<f;v++){var y=c.events.data[v];if(y.name===this.name){p=(null==y?void 0:y.sendUrls)||d;break}}return q.DWProcess.printLog("Event","generateEventUrls","",{urls:p,name:this.name}),this.urls=p,this},e.prototype.generateEventObject=function(){var t,e,r,n,o,i,s,a,c=this.dwProcess,u=c.dynamicData;this.remoteDate||(this.remoteDate=c.getRemoteDate(this.localDate)),!this.dataEncrypted&&this.data&&c.emit("event-data-encrypt",{dwEvent:this,dwProcess:c,eventData:this.data});var d={_time:H.dateFormat(null!==(e=this.remoteDate)&&void 0!==e?e:this.localDate),_session_id:U.getSessionId(),_event_id:this.id,_abtest_name:null!==(n=null===(r=null==u?void 0:u.abTestTag)||void 0===r?void 0:r.name)&&void 0!==n?n:"",_abtest_group_id:null!==(i=null===(o=null==u?void 0:u.abTestTag)||void 0===o?void 0:o.groupId)&&void 0!==i?i:""};return q.DWProcess.printLog("Event","generateEventObject","",z.__assign(z.__assign({name:this.name},d),null!==(s=this.dataEncrypted)&&void 0!==s?s:this.data)),(t={_type:"general"})[this.name]=z.__assign(z.__assign({},d),null!==(a=this.dataEncrypted)&&void 0!==a?a:this.data),t},e.prototype.generateEventAdd=function(){var t=this.dwProcess.Reporter.adapters.osInfo;return{_brand:t.getBrand(),_os:t.getOs(),_model:t.getModel(),_screen:t.getScreen(),_os_ver:t.getOsVer(),_carrier:t.getCarrier(),_network:t.getNetwork(),_language:t.getLanguage(),_gps:t.getGps()}},e.prototype.generateEventBody=function(){var t,e=this.dwProcess,r=e.cache,n=e.dwConfig.getAll(),o=n.deviceId||r.deviceId,i=null!==(t=e.getRemoteDate())&&void 0!==t?t:new Date,s={_p:n.protocol,_st:n.st,_sv:n.sv,_app:n.appKey,_gid:o,_did:o,_aid:n.accountId,_ut:H.dateFormat(i),_rid:K.generateGuid(),_av:n.version,_ch:n.channel,_dbg:n.dbg,_add:this.generateEventAdd()};return Object.assign(s,n.customPublicAttrs),s},e.prototype.validate=function(){if(this.eventValidate)return this;if(!this.name)throw Error('"_dw.onEvent(name, data)" call error, name is not allowed to be empty!');if(this.name&&"string"!=typeof this.name)throw Error('"_dw.onEvent(name, data)" call error, name should be String!');if(void 0!==this.data){var t=Object.prototype.toString.call(this.data).toLowerCase();if("[object object]"!==t&&"[object null]"!==t)throw Error('"_dw.onEvent(name, data)" call error, data should be Object!');for(var e in this.data)if(Object.prototype.hasOwnProperty.call(this.data,e)&&null!=this.data[e]&&!/string|boolean|number/.test(typeof this.data[e]))throw Error('"_dw.onEvent(name, data)" call error, value should be string/number/boolean!')}return this.eventValidate=!0,this},e.prototype.body=function(){var t=this;if("wait"!==this.from&&this.validate(),!this.eventBody){this.eventBody=this.generateEventBody();try{this.events=this.eventBody._events=this.data?[this.generateEventObject()]:[]}catch(t){q.DWProcess.printLog("Event","body","generatedEventBody-error",{event:this,error:t})}var e=function(r){r.forEach((function(r){var n;try{r.name&&t.events.push(r.generateEventObject()),(null===(n=r.combineEvents)||void 0===n?void 0:n.length)&&e(r.combineEvents)}catch(e){q.DWProcess.printLog("Event","body","combineEvents-generatedEventBody-error",{event:t,error:e})}}))};e(this.combineEvents),this.urls||this.generateEventUrls()}return q.DWProcess.printLog("Event","body","generatedEventBody",this),this},e.prototype.checkDisabled=function(t){for(var e,r,n,o=null!==(n=null===(r=null===(e=null==t?void 0:t.events)||void 0===e?void 0:e.data)||void 0===r?void 0:r.length)&&void 0!==n?n:0,i=0;i<o;i++){var s=t.events.data[i];if(this.name===s.name&&(!0===s.disable||"true"===s.disable))return!0}return!1},e.prototype.post=function(t){return z.__awaiter(this,void 0,void 0,(function(){var e,r,n,o,i=this;return z.__generator(this,(function(s){return e=this.dwProcess,r=e.dwService,n=e.dynamicData,t&&(this.urls=t),this.isPostStopped()?(q.DWProcess.printLog("Event","post","event stopped",this,!0),[2,!1]):"prepare"===e.state?(q.DWProcess.printLog("Event","post","process preparing",this,!0),this.saveCache(),[2,!1]):this.checkDisabled(n)?(q.DWProcess.printLog("Event","post","event Expired",this,!0),[2,!1]):(e.emit("before-event-send",{dwEvent:this,dwProcess:e}),this.isPostStopped()?(q.DWProcess.printLog("Event","post","event stopped 2",this,!0),[2,!1]):(this.body(),this.eventBodyEncrypted||e.emit("event-body-encrypt",{dwEvent:this,dwProcess:e,eventBody:this.eventBody}),o=this.eventBodyEncrypted,this.isPostStopped()?[2,!1]:[2,new Promise((function(t,n){var s=0,a=0,c=function(t,r){e.emit("after-event-send",{dwEvent:i,dwProcess:e,response:{error:t,data:r}})},u=function(){var e,n=i.urlsParsed[s];if(!n)return t(!0);if("string"==typeof n)e=n;else{if(!(n.length>a))return a=0,s++,u();e=n[a]}r.sendEvent(e,o,(function(r,o){r?s===i.urlsParsed.length-1?(i.saveFail().log("event upload fail"),c(r,o),t(!1)):(s++,u()):"string"==typeof n||a===n.length-1?(i.log("event upload success",{url:e}),c(r,o),t(!0)):(a++,u())}))};u()}))]))}))}))},e.prototype.generateCommonStorageEvent=function(){var t,e;return{id:this.id,name:this.name,from:this.from,localTime:this.localDate.getTime(),remoteTime:null!==(e=null===(t=this.remoteDate)||void 0===t?void 0:t.getTime())&&void 0!==e?e:0,data:this.data}},e.prototype.saveCache=function(){var t=this.dwProcess.dwStorage;return this.cancelStopPost(),"cache"!==this.position&&(this.position="cache",q.DWProcess.printLog("Event","saveCache","saving events",this),t.cache.save([this])),this},e.prototype.saveWait=function(){q.DWProcess.printLog("Event","saveWait","saving events",this);var t=this.dwProcess.dwStorage,e=[],r=function(t){"wait"!==t.position&&(t.position="wait",e.push(t))};return this.cancelStopPost(),this.data&&r(this),this.combineEvents.forEach(r),t.wait.save(e),this},e.prototype.saveFail=function(){q.DWProcess.printLog("Event","saveFail","saving events",this);var t=this.dwProcess.dwStorage,e=parseInt("10"),r=[],n=function(t){t.failCount<e&&"fail"!==t.position&&(t.position="fail",r.push(t))};return this.cancelStopPost(),this.data&&n(this),this.combineEvents.forEach(n),t.fail.save(r),this},e.prototype.log=function(t,e){void 0===e&&(e={});var r=this.dwProcess,n=e.name,o=void 0===n?this.name:n,i=e.data,s=void 0===i?this.data:i,a=e.url,c=void 0===a?this.urls:a,u=e.body,d=void 0===u?this.eventBody:u;return q.DWProcess.printLog("LOG",t,"",{time:(new Date).toLocaleString(),name:o,data:s,url:c,length:d._events.length,body:d},!0,r.dwConfig.get("dbg")),this},e.prototype.destroy=function(){this.data=null,this.mixin=null,this.combineEvents.length=0,this.dataEncrypted=null,this.events=null,this.eventBody=null,this.eventBodyEncrypted=null},e}(S.DWRequest);E.DWEvent=J;var G={},X={};!function(t){var e,r;Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=void 0,(r=(e=t.Storage||(t.Storage={})).Name||(e.Name={})).STORE_FIRST_VISIT_NAME="dw_store_first_item_token",r.STORE_START_TIMESTAMP_NAME="dw_store_timestamp_key",r.STORE_FAILED_EVENTS_NAME="dw_store_queen_data_events",r.STORE_WAIT_SEND_EVENTS_NAME="dw_store_wait_send_events",r.STORE_CACHE_EVENTS_NAME="dw_store_cache_events",r.STORE_DYNAMIC_DATA_NAME="dw_store_dynamic_data",r.STORE_TIME_DIFFERENCE="dw_store_time_sub",(e.CommonName||(e.CommonName={})).STORE_DEVICE_ID_NAME="dw_store_device_id_key"}(X),Object.defineProperty(G,"__esModule",{value:!0}),G.DWStorage=void 0;var Z=h,Y=X,Q=A,$=E,tt=x,et=function(){function t(e,r,n){this.name=e,this.dwStorage=r,this.generateSyncData=n,this.data=[],this.suffixCount=0,t.instances.push(this)}return t.prototype.save=function(e){var r,n,o=t.instances,i=t.maxLength,s=o.reduce((function(t,e){return t+e.data.length}),0)+e.length-i;if(s<=0)(r=this.data).push.apply(r,Z.__spreadArray([],Z.__read(e)));else{var a=e.length-s;a>0&&(n=this.data).push.apply(n,Z.__spreadArray([],Z.__read(e.slice(0,a))))}this.debounceSync()},t.prototype.read=function(){return this.data},t.prototype.reset=function(){this.data=[],clearTimeout(this.debounceSyncTimer),this.sync()},t.prototype.sync=function(){return this.dwStorage.set(this.name,JSON.stringify(this.data.map(this.generateSyncData))).catch()},t.prototype.debounceSync=function(){var t=this,e=this.dwStorage,r=this.data;clearTimeout(this.debounceSyncTimer),this.debounceSyncTimer=setTimeout((function(){e.suffix?(t.suffixCount=0,e.set(t.name,JSON.stringify(r.map(t.generateSyncData))).catch()):(t.suffixCount<parseInt("60;")&&t.debounceSync(),t.suffixCount++)}),100)},t.prototype.resync=function(t){var e=this;return this.dwStorage.get(this.name).then((function(r){var n;try{""===r&&(r="[]");var o=JSON.parse(r);(n=e.data).push.apply(n,Z.__spreadArray([],Z.__read(o.map((function(e){return new $.DWEvent(null,null,t,e)})))))}catch(t){tt.DWProcess.printLog("Storage","resync","ERROR",t,!0),e.reset()}}))},t.instances=[],t.maxLength=parseInt("5000"),t}(),rt=function(){function t(t){this.Reporter=t,this.cache=new et(Y.Storage.Name.STORE_CACHE_EVENTS_NAME,this,(function(t){return Z.__assign({type:"cache"},t.generateCommonStorageEvent())})),this.wait=new et(Y.Storage.Name.STORE_WAIT_SEND_EVENTS_NAME,this,(function(t){return Z.__assign({type:"wait",urls:t.urls},t.generateCommonStorageEvent())})),this.fail=new et(Y.Storage.Name.STORE_FAILED_EVENTS_NAME,this,(function(t){return Z.__assign({type:"fail",urls:t.urls,count:t.failCount+1},t.generateCommonStorageEvent())}))}return t.prototype.readEvents=function(t){return Promise.all([this.cache.resync(t),this.wait.resync(t),this.fail.resync(t)])},t.prototype.readDeviceId=function(t,e){return Z.__awaiter(this,void 0,void 0,(function(){var r,n,o,i,s,a,c,u,d,l,h,p,f,v,y,g,m;return Z.__generator(this,(function(_){switch(_.label){case 0:return r=this.Reporter.adapters,n=r.storage,o=r.osInfo,[4,new Promise((function(t){return setTimeout(t)}))];case 1:return _.sent(),i="web"===n.type,s=Y.Storage.CommonName.STORE_DEVICE_ID_NAME,a=s+"@"+t,c=function(){var t=e.get("deviceId");return n.set(a,t),t},tt.DWProcess.printLog("Storage","readDeviceId","",{deviceId:c()}),c()?[2,c()]:[4,o.getDeviceId()];case 2:return u=_.sent(),c()?[2,c()]:u?[2,u]:[4,n.get(s)];case 3:if(d=_.sent(),c())return[2,c()];if(i){if(l=window.localStorage.getItem(a))return d||this.syncDeviceId(l,t,{common:"cover"}),[2,l];if(d)return this.syncDeviceId(d,t,{self:"cover"}),[2,d];for(h=s+"@",p=window.localStorage.length,f=0;f<p;f++)if(0===(v=window.localStorage.key(f)).indexOf(h)&&(y=window.localStorage.getItem(v)))return this.syncDeviceId(y,t,{common:"cover",self:"cover"}),[2,y];return g=Q.generateGuid(),this.syncDeviceId(g,t,{common:"cover",self:"cover"}),[2,g]}if(d)return[2,d];m=Q.generateGuid(),_.label=4;case 4:return _.trys.push([4,6,,8]),[4,n.set(s,m)];case 5:return _.sent(),[3,8];case 6:return _.sent(),[4,this.readDeviceId(t,e)];case 7:return[2,_.sent()];case 8:return[2,m]}}))}))},t.prototype.syncDeviceId=function(t,e,r){var n=this.Reporter.adapters.storage,o=Y.Storage.CommonName.STORE_DEVICE_ID_NAME;if(tt.DWProcess.printLog("Storage","syncDeviceId","",{positions:r,deviceId:t,appKey:e}),"web"===n.type&&e){var i=o+"@"+e;switch(r.self){case"cover":n.set(i,t);break;case"fill":setTimeout((function(){n.get(i).then((function(e){!e&&n.set(i,t)}))}),50)}}switch(r.common){case"cover":n.set(o,t);break;case"fill":setTimeout((function(){n.get(o).then((function(e){!e&&n.set(o,t)}))}),50)}},t.prototype.setSuffix=function(t){this.suffix=t},t.prototype.set=function(t,e){var r=this.getInnerKey(t);return this.Reporter.adapters.storage.set(r,e)},t.prototype.get=function(t){var e=this.getInnerKey(t);return this.Reporter.adapters.storage.get(e)},t.prototype.rm=function(t){var e=this.getInnerKey(t);return this.Reporter.adapters.storage.rm(e)},t.prototype.getInnerKey=function(t){return this.suffix?t+"_"+this.suffix:t},t.prototype.readIsFirstVisit=function(){return Z.__awaiter(this,void 0,void 0,(function(){return Z.__generator(this,(function(t){switch(t.label){case 0:return[4,this.get(Y.Storage.Name.STORE_FIRST_VISIT_NAME)];case 1:return[2,"true"!==t.sent()]}}))}))},t.prototype.saveVisitAlready=function(){return this.set(Y.Storage.Name.STORE_FIRST_VISIT_NAME,"true")},t.prototype.saveDynamicData=function(t){if("object"==typeof t)return this.set(Y.Storage.Name.STORE_DYNAMIC_DATA_NAME,JSON.stringify(t))},t.prototype.readDynamicData=function(){return Z.__awaiter(this,void 0,void 0,(function(){var t;return Z.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.get(Y.Storage.Name.STORE_DYNAMIC_DATA_NAME)];case 1:return t=e.sent(),[2,JSON.parse(t||"null")];case 2:return e.sent(),[2,null];case 3:return[2]}}))}))},t.prototype.removeDynamicData=function(){return Z.__awaiter(this,void 0,void 0,(function(){return Z.__generator(this,(function(t){return[2,this.rm(Y.Storage.Name.STORE_DYNAMIC_DATA_NAME)]}))}))},t.prototype.saveTimeDifference=function(t){return void 0===t&&(t=0),this.set(Y.Storage.Name.STORE_TIME_DIFFERENCE,t.toString())},t.prototype.readTimeDifference=function(){return Z.__awaiter(this,void 0,void 0,(function(){var t;return Z.__generator(this,(function(e){switch(e.label){case 0:return[4,this.get(Y.Storage.Name.STORE_TIME_DIFFERENCE)];case 1:return t=e.sent(),[2,parseInt(t||"0")]}}))}))},t}();G.DWStorage=rt;var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.DWService=void 0;var ot=E,it=I,st=x,at=function(){function t(t){this.Reporter=t}return t.prototype.sendCacheEvents=function(t){var e=t.dwStorage,r=e.cache.read();e.cache.reset(),e.wait.save(r),r.length&&st.DWProcess.printLog("Service","sendCacheEvents","",r),this.sendWaitEvents(t)},t.prototype.sendFailEvents=function(t){var e=t.dwStorage,r=e.fail.read();e.fail.reset(),e.wait.save(r),r.length&&st.DWProcess.printLog("Service","sendFailEvents","",r),this.sendWaitEvents(t)},t.prototype.sendWaitEvents=function(e){var r,n,o,i,s=e.dwStorage,a=e.dynamicData,c=s.wait.read();if(c.length&&st.DWProcess.printLog("Service","sendWaitEvents","",c),c.length){s.wait.reset();var u={},d=(null!==(r=e.getRemoteDate())&&void 0!==r?r:new Date).getTime(),l=c.reduce((function(e,r){var n;return d-(null!==(n=r.remoteDate)&&void 0!==n?n:r.localDate).getTime()>t.maxExpireTime||r.id in u||(u[r.id]=1,e[r.urls]||(e[r.urls]=[]),e[r.urls].push(r),r.position="event"),e}),{});st.DWProcess.printLog("Service","sendWaitEvents","eventMap",l);var h=null!==(i=null===(o=null===(n=null==a?void 0:a.uploadStrategy)||void 0===n?void 0:n.transportControl)||void 0===o?void 0:o.splitSize)&&void 0!==i?i:parseInt("100");for(var p in l)if(Object.prototype.hasOwnProperty.call(l,p)){var f=l[p];st.DWProcess.printLog("Service","sendWaitEvents","newEvent-combineEvents",{key:p,events:f});for(var v=0;v<Math.ceil(f.length/h);v++)new ot.DWEvent(null,null,e,{from:"wait"},f.slice(h*v,h*(v+1))).post()}}},t.prototype.sendEvent=function(t,e,r){return this.Reporter.adapters.http.send(t,{type:it.Http.Type.POST,data:e,header:{"dw-protocol":"1.0"},timeout:parseInt("3000")},r)},t.maxExpireTime=2592e6,t}();nt.DWService=at,Object.defineProperty(v,"__esModule",{value:!0}),v.Reporter=void 0;var ct=h,ut=y,dt=g,lt=m,ht=_,pt=E,ft=x,vt=G,yt=nt,gt=function(){function t(e){var r=this;void 0===e&&(e={}),this.options=e,this.dwProcess=new ft.DWProcess(t,new ht.DWConfig(t),new vt.DWStorage(t),new yt.DWService(t)),this.version="3.0.27",t.defaultBinds.length&&t.defaultBinds.forEach((function(t){r.dwProcess.on(t.event,t.callback)})),ft.DWProcess.printLog("Reporter","init")}return t.appendPreBind=function(t){for(var e=0;e<this.defaultBinds.length;e++)if(this.defaultBinds[e].name===t.name)return this;this.defaultBinds.push(t)},t.use=function(t,e){t.install(this,e)},t.prototype.onEvent=function(t,e){void 0===e&&(e={}),ft.DWProcess.printLog("Reporter","onEvent",t,e,!0),null===e&&(e={}),new pt.DWEvent(t,e,this.dwProcess).validate().post()},t.prototype.setAccountId=function(t){return void 0===t&&(t=""),this.dwProcess.dwConfig.set("accountId",String(t)),ft.DWProcess.printLog("Reporter","setAccountId",t),this},t.prototype.setAppKey=function(t){var e=this;if(t&&lt.validateString(t,"dw.setAppKey(appKey)")){var r=t;this.options.storageSuffix&&(r+="_"+this.options.storageSuffix);var n=function(){e.dwProcess.dwStorage.setSuffix(r),ft.DWProcess.printLog("Reporter","setSuffix",r),e.dwProcess.prepare().then((function(){return e.dwProcess.init()}))};ft.DWProcess.instances.find((function(e){return e.dwConfig.get("appKey")===t}))?setTimeout((function(){return n()}),300):n(),ft.DWProcess.printLog("Reporter","setAppKey",t),this.dwProcess.dwConfig.set("appKey",t)}return this},t.prototype.setChannel=function(t){return t&&lt.validateString(t,"dw.setChannel(channel)")&&(this.dwProcess.dwConfig.set("channel",t),ft.DWProcess.printLog("Reporter","setChannel",t)),this},t.prototype.setCustomPublicAttrs=function(t,e){if(ft.DWProcess.printLog("Reporter","setCustomPublicAttrs","",t),t){if("string"==typeof t)return this.dwProcess.dwConfig.setCustomPublicAttrs(t,e),this;if("object"==typeof t)return this.dwProcess.dwConfig.set("customPublicAttrs",t),this}throw Error("sdk error: setCustomPublicAttrs(key, value) arguments error!")},t.prototype.setCustomPV=function(t){return ut.validateBoolean(t,"dw.setCustomPV(bool)")&&(this.dwProcess.dwConfig.set("customPV",t),ft.DWProcess.printLog("Reporter","setCustomPV","",t)),this},t.prototype.setDebug=function(t,e,r){return void 0===e&&(e=""),void 0===r&&(r=!1),ut.validateBoolean(t,"dw.setDebug(debug, [url], noEncrypted)")&&this.dwProcess.dwConfig.set("dbg",t),e&&lt.validateString(e,"dw.setDebug(debug, [url], noEncrypted)")&&this.dwProcess.dwConfig.set("dbgUrl",e),e&&ut.validateBoolean(r,"dw.setDebug(debug, [url], noEncrypted)")&&this.dwProcess.dwConfig.set("noEncrypted",r),this},t.prototype.setDefaultEvents=function(t){return ut.validateBoolean(t,"dw.setDefaultEvents(bool)")&&(this.dwProcess.dwConfig.set("defaultEvents",t),ft.DWProcess.printLog("Reporter","setDefaultEvents","",t)),this},t.prototype.setDeviceKey=function(t){if(t&&dt.validateDeviceId(t)){var e=this.dwProcess,r=e.dwConfig,n=e.dwStorage;ft.DWProcess.printLog("Reporter","setDeviceKey",t),r.set("deviceId",t),n.syncDeviceId(t,r.get("appKey"),{common:"fill",self:"fill"})}return this},t.prototype.setDefaultEventsData=function(t,e){void 0===e&&(e="common");var r=this.dwProcess;return new pt.DWEvent("_setDefaultEventsData",t,r).validate(),ft.DWProcess.printLog("Reporter","setDefaultEventsData","",{data:t,position:e}),r.cache.defaultEventsData[e]=t,this},t.prototype.setAppEndExtraData=function(t,e){var r=this.dwProcess;return ft.DWProcess.printLog("Reporter","setAppEndExtraData","",{data:e,name:t}),"string"==typeof t?r.cache.appEndExtraEvents.push(new pt.DWEvent(t,e,r).validate()):r.cache.appEndExtraEvents=t.map((function(t){var e=ct.__read(t,2),n=e[0],o=e[1];return new pt.DWEvent(n,o,r).validate()})),this},t.prototype.setVersion=function(t){return t&&lt.validateString(t,"dw.setVersion(version)")&&(this.dwProcess.dwConfig.set("version",t),ft.DWProcess.printLog("Reporter","setVersion",t)),this},t.prototype.sendPageView=function(){return this.dwProcess.dwConfig.get("customPV")?this.dwProcess.sendPageView():console.error("[dw-js-sdk] sendPageView > 请先使用dw.setCustomPV(true)开启自定义pv"),this},t.prototype.on=function(t,e){return this.dwProcess.on(t,e),ft.DWProcess.printLog("Reporter","on","",t),this},t.adapters={http:{},osInfo:{},storage:{}},t.fixed={},t.defaults={},t.defaultBinds=[],t}();v.Reporter=gt;var mt={},_t={};Object.defineProperty(_t,"__esModule",{value:!0}),_t.HttpBase=_t.HttpAdapter=void 0;var wt=function(){function t(){}return t.prototype.formatQuery=function(t){var e=[];for(var r in t){var n=t;e.push(encodeURIComponent(r)+"="+encodeURIComponent(n[r]))}return e.join("&")},t.prototype.transform=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];"function"==typeof n&&(t=n(t))}return t},t.prototype.getJsonpTransformer=function(){return function(t){try{return JSON.parse(t.slice(t.indexOf("(")+1,t.length-1))}catch(e){return t}}},t}();_t.HttpBase=wt;_t.HttpAdapter=function(){},Object.defineProperty(mt,"__esModule",{value:!0}),mt.HttpAdapterWeb=void 0;var bt=h,Dt=I,Et=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="web",e.send=function(t,r,n){void 0===r&&(r={});var o=r.transformResponse,i=void 0===o?[]:o;r.type===Dt.Http.Type.JSONP&&(r.type=Dt.Http.Type.GET,i.unshift(e.getJsonpTransformer()));var s=function(t,e){s.called||(s.called=!0,n&&n(t,e))},a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");for(var c in r.type===Dt.Http.Type.GET&&"object"==typeof r.data&&(t+=(t.includes("?")?"&":"?")+e.formatQuery(r.data)),a.open(r.type,t),r.type===Dt.Http.Type.POST&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.header)a.setRequestHeader(c,r.header[c]);a.onreadystatechange=function(){var t=a.status>=200&&a.status<=207;4===a.readyState&&t?s(null,a.responseText?e.transform(a.responseText,i):null):4!==a.readyState||t||0===a.status||s(new Error("http error 1: status not ok"))},a.onerror=function(){s(new Error("http error 2: onerror"))};try{a.timeout=r.timeout,a.ontimeout=function(){s(new Error("http error 3: timeout"))},a.send("object"==typeof r.data?JSON.stringify(r.data):r.data)}catch(t){s(new Error("http error 4: catch"))}return{cancel:function(){a.abort()}}},e}return bt.__extends(e,t),e}(_t.HttpBase);mt.HttpAdapterWeb=Et;var St={},Pt={};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.OSInfoAdapter=void 0;Pt.OSInfoAdapter=function(){},Object.defineProperty(St,"__esModule",{value:!0}),St.OSInfoAdapterWeb=void 0;var Tt=h,At=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="web",e.cache={info:{isMobile:!1,mobilePlatform:null,mobileOs:null,pcOs:null,brand:null,os:null}},e}return Tt.__extends(e,t),e.prototype.getBrand=function(){return this.cache.info.brand},e.prototype.getOs=function(){return this.cache.info.os||"unknown"},e.prototype.getModel=function(){return this.getBrand()+"_"+(this.cache.info.isMobile?this.cache.info.mobilePlatform:this.cache.info.pcOs)},e.prototype.getScreen=function(){var t=screen.width,e=screen.height;return t&&e?t+"*"+e:""},e.prototype.getOsVer=function(){return""},e.prototype.getCarrier=function(){return""},e.prototype.getNetwork=function(){return"wifi"},e.prototype.getLanguage=function(){return navigator.language||"zh"},e.prototype.getGps=function(){return""},e.prototype.getPlatform=function(){return""},e.prototype.getCountryCode=function(){return"CN"},e.prototype.getTitle=function(){var t;return null!==(t=document.title)&&void 0!==t?t:""},e.prototype.getUrl=function(){var t;return null!==(t=location.href)&&void 0!==t?t:""},e.prototype.getReferer=function(){var t;return null!==(t=document.referrer)&&void 0!==t?t:""},e.prototype.getDeviceId=function(){return""},e.prototype.getInfo=function(t){void 0===t&&(t={});var e=t.ua,r=void 0===e?navigator.userAgent:e;if(this.cache.info.isMobile=/Android|webOS|iPhone|iPod|iPad|BlackBerry|windows phone/i.test(r))for(var n=[[/android|linux/i,"Android","Android"],[/iphone/i,"iPhone","iOS"],[/ipad/i,"iPad","iOS"],[/windows/i,"Windows Phone","Win mobile"],[null,"unknown","unknown"]],o=0;o<n.length;o++){var i=Tt.__read(n[o],3),s=i[0],a=i[1],c=i[2];if(!s||s.test(r)){this.cache.info.mobilePlatform=a,this.cache.info.os=this.cache.info.mobileOs=c;break}}else{a=navigator.platform?navigator.platform.toLowerCase():"";var u=[[/win/i,"Win"],[/mac/i,"MacOs"],[/linux/i,"Linux"],[null,"unknown"]];for(o=0;o<u.length;o++){var d=Tt.__read(u[o],2);if(s=d[0],c=d[1],!s||s.test(a)){this.cache.info.os=this.cache.info.pcOs=c;break}}}var l=[[/msie/i,"IE"],[/rv:11.0/i,"IE"],[/edge/i,"Edge"],[/firefox|fxios/i,"Firefox"],[/qq/i,"QQ"],[/micromessenger|wechat/i,"Wechat"],[/2345/i,"2345"],[/lbbrowser|liebao/i,"Cheetah"],[/opr/i,"Opera"],[/ubrowser|ucbrowser/i,"UC"],[/bidubrowser|baidu/i,"Baidu"],[/metasr|sogou/i,"Sogou"],[/qihoobrowser|360ee|360se/i,"360"],[/chrome|crios/i,"Chrome"],[/safari|mac/i,"Safari"]];for(o=0;o<l.length;o++){var h=Tt.__read(l[o],2),p=(s=h[0],h[1]);if(!s||s.test(r)){this.cache.info.brand=p;break}}return Promise.resolve(this.cache.info)},e}(Pt.OSInfoAdapter);St.OSInfoAdapterWeb=At;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.StorageAdapterWeb=void 0;var xt=function(){function t(){this.type="web"}return t.prototype.set=function(t,e){return window.localStorage.setItem(t,e),Promise.resolve()},t.prototype.get=function(t){var e;return Promise.resolve(null!==(e=window.localStorage.getItem(t))&&void 0!==e?e:"")},t.prototype.rm=function(t){return window.localStorage.removeItem(t),Promise.resolve()},t}();Bt.StorageAdapterWeb=xt;var Ot={},Ct={},Rt={exports:{}},It={exports:{}},kt=t(Object.freeze({__proto__:null,default:{}}));!function(t,e){var r;t.exports=(r=r||function(t,e){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!=typeof global&&global.crypto&&(r=global.crypto),!r)try{r=kt}catch(t){}var n=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),i={},s=i.lib={},a=s.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=a.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||d).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,o=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var s=r[i>>>2]>>>24-i%4*8&255;e[n+i>>>2]|=s<<24-(n+i)%4*8}else for(var a=0;a<o;a+=4)e[n+a>>>2]=r[a>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(n());return new c.init(e,t)}}),u=i.enc={},d=u.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new c.init(r,e/2)}},l=u.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new c.init(r,e)}},h=u.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},p=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r,n=this._data,o=n.words,i=n.sigBytes,s=this.blockSize,a=i/(4*s),u=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,d=t.min(4*u,i);if(u){for(var l=0;l<u;l+=s)this._doProcessBlock(o,l);r=o.splice(0,u),n.sigBytes-=d}return new c.init(r,d)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});s.Hasher=p.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new f.HMAC.init(t,r).finalize(e)}}});var f=i.algo={};return i}(Math),r)}(It);!function(t,e){var r;t.exports=(r=It.exports,function(){var t=r,e=t.lib.WordArray;function n(t,r,n){for(var o=[],i=0,s=0;s<r;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2|n[t.charCodeAt(s)]>>>6-s%4*2;o[i>>>2]|=a<<24-i%4*8,i++}return e.create(o,i)}t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var o=[],i=0;i<r;i+=3)for(var s=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<r;a++)o.push(n.charAt(s>>>6*(3-a)&63));var c=n.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(t){var e=t.length,r=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<r.length;i++)o[r.charCodeAt(i)]=i}var s=r.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(e=a)}return n(t,e,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)}({exports:{}});!function(t,e){var r;t.exports=(r=It.exports,function(t){var e=r,n=e.lib,o=n.WordArray,i=n.Hasher,s=e.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=s.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,o=t[n];t[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,s=t[e+0],c=t[e+1],p=t[e+2],f=t[e+3],v=t[e+4],y=t[e+5],g=t[e+6],m=t[e+7],_=t[e+8],w=t[e+9],b=t[e+10],D=t[e+11],E=t[e+12],S=t[e+13],P=t[e+14],T=t[e+15],A=i[0],B=i[1],x=i[2],O=i[3];A=u(A,B,x,O,s,7,a[0]),O=u(O,A,B,x,c,12,a[1]),x=u(x,O,A,B,p,17,a[2]),B=u(B,x,O,A,f,22,a[3]),A=u(A,B,x,O,v,7,a[4]),O=u(O,A,B,x,y,12,a[5]),x=u(x,O,A,B,g,17,a[6]),B=u(B,x,O,A,m,22,a[7]),A=u(A,B,x,O,_,7,a[8]),O=u(O,A,B,x,w,12,a[9]),x=u(x,O,A,B,b,17,a[10]),B=u(B,x,O,A,D,22,a[11]),A=u(A,B,x,O,E,7,a[12]),O=u(O,A,B,x,S,12,a[13]),x=u(x,O,A,B,P,17,a[14]),A=d(A,B=u(B,x,O,A,T,22,a[15]),x,O,c,5,a[16]),O=d(O,A,B,x,g,9,a[17]),x=d(x,O,A,B,D,14,a[18]),B=d(B,x,O,A,s,20,a[19]),A=d(A,B,x,O,y,5,a[20]),O=d(O,A,B,x,b,9,a[21]),x=d(x,O,A,B,T,14,a[22]),B=d(B,x,O,A,v,20,a[23]),A=d(A,B,x,O,w,5,a[24]),O=d(O,A,B,x,P,9,a[25]),x=d(x,O,A,B,f,14,a[26]),B=d(B,x,O,A,_,20,a[27]),A=d(A,B,x,O,S,5,a[28]),O=d(O,A,B,x,p,9,a[29]),x=d(x,O,A,B,m,14,a[30]),A=l(A,B=d(B,x,O,A,E,20,a[31]),x,O,y,4,a[32]),O=l(O,A,B,x,_,11,a[33]),x=l(x,O,A,B,D,16,a[34]),B=l(B,x,O,A,P,23,a[35]),A=l(A,B,x,O,c,4,a[36]),O=l(O,A,B,x,v,11,a[37]),x=l(x,O,A,B,m,16,a[38]),B=l(B,x,O,A,b,23,a[39]),A=l(A,B,x,O,S,4,a[40]),O=l(O,A,B,x,s,11,a[41]),x=l(x,O,A,B,f,16,a[42]),B=l(B,x,O,A,g,23,a[43]),A=l(A,B,x,O,w,4,a[44]),O=l(O,A,B,x,E,11,a[45]),x=l(x,O,A,B,T,16,a[46]),A=h(A,B=l(B,x,O,A,p,23,a[47]),x,O,s,6,a[48]),O=h(O,A,B,x,m,10,a[49]),x=h(x,O,A,B,P,15,a[50]),B=h(B,x,O,A,y,21,a[51]),A=h(A,B,x,O,E,6,a[52]),O=h(O,A,B,x,f,10,a[53]),x=h(x,O,A,B,b,15,a[54]),B=h(B,x,O,A,c,21,a[55]),A=h(A,B,x,O,_,6,a[56]),O=h(O,A,B,x,T,10,a[57]),x=h(x,O,A,B,g,15,a[58]),B=h(B,x,O,A,S,21,a[59]),A=h(A,B,x,O,v,6,a[60]),O=h(O,A,B,x,D,10,a[61]),x=h(x,O,A,B,p,15,a[62]),B=h(B,x,O,A,w,21,a[63]),i[0]=i[0]+A|0,i[1]=i[1]+B|0,i[2]=i[2]+x|0,i[3]=i[3]+O|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;r[o>>>5]|=128<<24-o%32;var i=t.floor(n/4294967296),s=n;r[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(o+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var d=c[u];c[u]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return a},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,r,n,o,i,s){var a=t+(e&r|~e&n)+o+s;return(a<<i|a>>>32-i)+e}function d(t,e,r,n,o,i,s){var a=t+(e&n|r&~n)+o+s;return(a<<i|a>>>32-i)+e}function l(t,e,r,n,o,i,s){var a=t+(e^r^n)+o+s;return(a<<i|a>>>32-i)+e}function h(t,e,r,n,o,i,s){var a=t+(r^(e|~n))+o+s;return(a<<i|a>>>32-i)+e}e.MD5=i._createHelper(c),e.HmacMD5=i._createHmacHelper(c)}(Math),r.MD5)}({exports:{}});!function(t,e){var r,n,o,i,s,a,c,u;t.exports=(n=(r=u=It.exports).lib,o=n.WordArray,i=n.Hasher,s=r.algo,a=[],c=s.SHA1=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],s=r[3],c=r[4],u=0;u<80;u++){if(u<16)a[u]=0|t[e+u];else{var d=a[u-3]^a[u-8]^a[u-14]^a[u-16];a[u]=d<<1|d>>>31}var l=(n<<5|n>>>27)+c+a[u];l+=u<20?1518500249+(o&i|~o&s):u<40?1859775393+(o^i^s):u<60?(o&i|o&s|i&s)-1894007588:(o^i^s)-899497514,c=s,s=i,i=o<<30|o>>>2,o=n,n=l}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}}),r.SHA1=i._createHelper(c),r.HmacSHA1=i._createHmacHelper(c),u.SHA1)}({exports:{}});!function(t,e){var r,n,o;t.exports=(n=(r=It.exports).lib.Base,o=r.enc.Utf8,void(r.algo.HMAC=n.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=o.parse(e));var r=t.blockSize,n=4*r;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),s=this._iKey=e.clone(),a=i.words,c=s.words,u=0;u<r;u++)a[u]^=1549556828,c[u]^=909522486;i.sigBytes=s.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(r))}})))}({exports:{}}),function(t,e){var r,n,o,i,s,a,c,u;t.exports=(o=(n=(r=u=It.exports).lib).Base,i=n.WordArray,a=(s=r.algo).MD5,c=s.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r,n=this.cfg,o=n.hasher.create(),s=i.create(),a=s.words,c=n.keySize,u=n.iterations;a.length<c;){r&&o.update(r),r=o.update(t).finalize(e),o.reset();for(var d=1;d<u;d++)r=o.finalize(r),o.reset();s.concat(r)}return s.sigBytes=4*c,s}}),r.EvpKDF=function(t,e,r){return c.create(r).compute(t,e)},u.EvpKDF)}({exports:{}});!function(t,e){var r;t.exports=void((r=It.exports).lib.Cipher||function(t){var e=r,n=e.lib,o=n.Base,i=n.WordArray,s=n.BufferedBlockAlgorithm,a=e.enc;a.Utf8;var c=a.Base64,u=e.algo.EvpKDF,d=n.Cipher=s.extend({cfg:o.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?_:g}return function(e){return{encrypt:function(r,n,o){return t(n).encrypt(e,r,n,o)},decrypt:function(r,n,o){return t(n).decrypt(e,r,n,o)}}}}()});n.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=e.mode={},h=n.BlockCipherMode=o.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),p=l.CBC=function(){var t=h.extend();function e(t,e,r){var n,o=this._iv;o?(n=o,this._iv=undefined):n=this._prevBlock;for(var i=0;i<r;i++)t[e+i]^=n[i]}return t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,o=n.blockSize;e.call(this,t,r,o),n.encryptBlock(t,r),this._prevBlock=t.slice(r,r+o)}}),t.Decryptor=t.extend({processBlock:function(t,r){var n=this._cipher,o=n.blockSize,i=t.slice(r,r+o);n.decryptBlock(t,r),e.call(this,t,r,o),this._prevBlock=i}}),t}(),f=(e.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,n=r-t.sigBytes%r,o=n<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(o);var c=i.create(s,n);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}};n.BlockCipher=d.extend({cfg:d.cfg.extend({mode:p,padding:f}),reset:function(){var t;d.reset.call(this);var e=this.cfg,r=e.iv,n=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=n.createEncryptor:(t=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,r&&r.words):(this._mode=t.call(n,this,r&&r.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4});var v=n.CipherParams=o.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),y=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,r=t.salt;return(r?i.create([1398893684,1701076831]).concat(r).concat(e):e).toString(c)},parse:function(t){var e,r=c.parse(t),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(e=i.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),v.create({ciphertext:r,salt:e})}},g=n.SerializableCipher=o.extend({cfg:o.extend({format:y}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var o=t.createEncryptor(r,n),i=o.finalize(e),s=o.cfg;return v.create({ciphertext:i,key:r,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),m=(e.kdf={}).OpenSSL={execute:function(t,e,r,n){n||(n=i.random(8));var o=u.create({keySize:e+r}).compute(t,n),s=i.create(o.words.slice(e),4*r);return o.sigBytes=4*e,v.create({key:o,iv:s,salt:n})}},_=n.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:m}),encrypt:function(t,e,r,n){var o=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize);n.iv=o.iv;var i=g.encrypt.call(this,t,e,o.key,n);return i.mixIn(o),i},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var o=n.kdf.execute(r,t.keySize,t.ivSize,e.salt);return n.iv=o.iv,g.decrypt.call(this,t,e,o.key,n)}})}())}({exports:{}}),function(t,e){var r;t.exports=(r=It.exports,function(){var t=r,e=t.lib.BlockCipher,n=t.algo,o=[],i=[],s=[],a=[],c=[],u=[],d=[],l=[],h=[],p=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var r=0,n=0;for(e=0;e<256;e++){var f=n^n<<1^n<<2^n<<3^n<<4;f=f>>>8^255&f^99,o[r]=f,i[f]=r;var v=t[r],y=t[v],g=t[y],m=257*t[f]^16843008*f;s[r]=m<<24|m>>>8,a[r]=m<<16|m>>>16,c[r]=m<<8|m>>>24,u[r]=m,m=16843009*g^65537*y^257*v^16843008*r,d[f]=m<<24|m>>>8,l[f]=m<<16|m>>>16,h[f]=m<<8|m>>>24,p[f]=m,r?(r=v^t[t[t[g^v]]],n^=t[t[n]]):r=n=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],v=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],s=0;s<n;s++)s<r?i[s]=e[s]:(u=i[s-1],s%r?r>6&&s%r==4&&(u=o[u>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u]):(u=o[(u=u<<8|u>>>24)>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u],u^=f[s/r|0]<<24),i[s]=i[s-r]^u);for(var a=this._invKeySchedule=[],c=0;c<n;c++){if(s=n-c,c%4)var u=i[s];else u=i[s-4];a[c]=c<4||s<=4?u:d[o[u>>>24]]^l[o[u>>>16&255]]^h[o[u>>>8&255]]^p[o[255&u]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,a,c,u,o)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,d,l,h,p,i),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,o,i,s,a){for(var c=this._nRounds,u=t[e]^r[0],d=t[e+1]^r[1],l=t[e+2]^r[2],h=t[e+3]^r[3],p=4,f=1;f<c;f++){var v=n[u>>>24]^o[d>>>16&255]^i[l>>>8&255]^s[255&h]^r[p++],y=n[d>>>24]^o[l>>>16&255]^i[h>>>8&255]^s[255&u]^r[p++],g=n[l>>>24]^o[h>>>16&255]^i[u>>>8&255]^s[255&d]^r[p++],m=n[h>>>24]^o[u>>>16&255]^i[d>>>8&255]^s[255&l]^r[p++];u=v,d=y,l=g,h=m}v=(a[u>>>24]<<24|a[d>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^r[p++],y=(a[d>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&u])^r[p++],g=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^r[p++],m=(a[h>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&l])^r[p++],t[e]=v,t[e+1]=y,t[e+2]=g,t[e+3]=m},keySize:8});t.AES=e._createHelper(v)}(),r.AES)}(Rt);var Mt={exports:{}};!function(t,e){t.exports=It.exports.enc.Utf8}(Mt);var jt={exports:{}};!function(t,e){t.exports=It.exports.pad.Pkcs7}(jt),Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.aesEncrypt=void 0;var Wt=h,Ft=Wt.__importDefault(Rt.exports),Lt=Wt.__importDefault(Mt.exports),Nt=Wt.__importDefault(jt.exports);function Vt(t,e){var r="object"==typeof e?e=JSON.stringify(e):e,n=Lt.default.parse(""),o=Lt.default.parse(t);return e=Lt.default.parse(e),Ft.default.encrypt(r,o,{iv:n,padding:Nt.default}).toString()}Ct.aesEncrypt=Vt;var zt={install:function(t,e){t.appendPreBind({name:"plugin-encrypt-aes",event:"event-body-encrypt",callback:function(t){var r=t.dwEvent,n=t.eventBody,o=t.dwProcess.dwConfig.getAll();(o.dbg||o.debugMode)&&o.noEncrypted?r.eventBodyEncrypted=JSON.stringify(n):r.isPostStopped()||(r.eventBodyEncrypted=Vt(e.aesKey,n))}})}};Ct.default=zt;var Ht,Kt={};function Ut(t,e,r){null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function qt(){return new Ut(null)}Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.linebrk=Kt.hex2b64=void 0,"Microsoft Internet Explorer"==navigator.appName?(Ut.prototype.am=function(t,e,r,n,o,i){for(var s=32767&e,a=e>>15;--i>=0;){var c=32767&this[t],u=this[t++]>>15,d=a*c+u*s;o=((c=s*c+((32767&d)<<15)+r[n]+(1073741823&o))>>>30)+(d>>>15)+a*u+(o>>>30),r[n++]=1073741823&c}return o},Ht=30):"Netscape"!=navigator.appName?(Ut.prototype.am=function(t,e,r,n,o,i){for(;--i>=0;){var s=e*this[t++]+r[n]+o;o=Math.floor(s/67108864),r[n++]=67108863&s}return o},Ht=26):(Ut.prototype.am=function(t,e,r,n,o,i){for(var s=16383&e,a=e>>14;--i>=0;){var c=16383&this[t],u=this[t++]>>14,d=a*c+u*s;o=((c=s*c+((16383&d)<<14)+r[n]+o)>>28)+(d>>14)+a*u,r[n++]=268435455&c}return o},Ht=28),Ut.prototype.DB=Ht,Ut.prototype.DM=(1<<Ht)-1,Ut.prototype.DV=1<<Ht,Ut.prototype.FV=Math.pow(2,52),Ut.prototype.F1=52-Ht,Ut.prototype.F2=2*Ht-52;var Jt,Gt,Xt,Zt,Yt,Qt=new Array;for(Jt="0".charCodeAt(0),Gt=0;Gt<=9;++Gt)Qt[Jt++]=Gt;for(Jt="a".charCodeAt(0),Gt=10;Gt<36;++Gt)Qt[Jt++]=Gt;for(Jt="A".charCodeAt(0),Gt=10;Gt<36;++Gt)Qt[Jt++]=Gt;function $t(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function te(t,e){var r=Qt[t.charCodeAt(e)];return null==r?-1:r}function ee(t){var e=qt();return e.fromInt(t),e}function re(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function ne(t){this.m=t}function oe(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function ie(){this.i=0,this.j=0,this.S=new Array}function se(){var t;t=(new Date).getTime(),Zt[Yt++]^=255&t,Zt[Yt++]^=t>>8&255,Zt[Yt++]^=t>>16&255,Zt[Yt++]^=t>>24&255,Yt>=256&&(Yt-=256)}if(ne.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},ne.prototype.revert=function(t){return t},ne.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},ne.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},ne.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},oe.prototype.convert=function(t){var e=qt();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(Ut.ZERO)>0&&this.m.subTo(e,e),e},oe.prototype.revert=function(t){var e=qt();return t.copyTo(e),this.reduce(e),e},oe.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},oe.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},oe.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},Ut.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},Ut.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},Ut.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,o=!1,i=0;--n>=0;){var s=8==r?255&t[n]:te(t,n);s<0?"-"==t.charAt(n)&&(o=!0):(o=!1,0==i?this[this.t++]=s:i+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-i)-1)<<i,this[this.t++]=s>>this.DB-i):this[this.t-1]|=s<<i,(i+=r)>=this.DB&&(i-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,i>0&&(this[this.t-1]|=(1<<this.DB-i)-1<<i)),this.clamp(),o&&Ut.ZERO.subTo(this,this)},Ut.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},Ut.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},Ut.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},Ut.prototype.lShiftTo=function(t,e){var r,n=t%this.DB,o=this.DB-n,i=(1<<o)-1,s=Math.floor(t/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e[r+s+1]=this[r]>>o|a,a=(this[r]&i)<<n;for(r=s-1;r>=0;--r)e[r]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},Ut.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,o=this.DB-n,i=(1<<n)-1;e[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)e[s-r-1]|=(this[s]&i)<<o,e[s-r]=this[s]>>n;n>0&&(e[this.t-r-1]|=(this.s&i)<<o),e.t=this.t-r,e.clamp()}},Ut.prototype.subTo=function(t,e){for(var r=0,n=0,o=Math.min(t.t,this.t);r<o;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},Ut.prototype.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),o=r.t;for(e.t=o+n.t;--o>=0;)e[o]=0;for(o=0;o<n.t;++o)e[o+r.t]=r.am(0,n[o],e,o,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&Ut.ZERO.subTo(e,e)},Ut.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},Ut.prototype.divRemTo=function(t,e,r){var n=t.abs();if(!(n.t<=0)){var o=this.abs();if(o.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=qt());var i=qt(),s=this.s,a=t.s,c=this.DB-re(n[n.t-1]);c>0?(n.lShiftTo(c,i),o.lShiftTo(c,r)):(n.copyTo(i),o.copyTo(r));var u=i.t,d=i[u-1];if(0!=d){var l=d*(1<<this.F1)+(u>1?i[u-2]>>this.F2:0),h=this.FV/l,p=(1<<this.F1)/l,f=1<<this.F2,v=r.t,y=v-u,g=null==e?qt():e;for(i.dlShiftTo(y,g),r.compareTo(g)>=0&&(r[r.t++]=1,r.subTo(g,r)),Ut.ONE.dlShiftTo(u,g),g.subTo(i,i);i.t<u;)i[i.t++]=0;for(;--y>=0;){var m=r[--v]==d?this.DM:Math.floor(r[v]*h+(r[v-1]+f)*p);if((r[v]+=i.am(0,m,r,y,0,u))<m)for(i.dlShiftTo(y,g),r.subTo(g,r);r[v]<--m;)r.subTo(g,r)}null!=e&&(r.drShiftTo(u,e),s!=a&&Ut.ZERO.subTo(e,e)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),s<0&&Ut.ZERO.subTo(r,r)}}},Ut.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},Ut.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},Ut.prototype.exp=function(t,e){if(t>4294967295||t<1)return Ut.ONE;var r=qt(),n=qt(),o=e.convert(this),i=re(t)-1;for(o.copyTo(r);--i>=0;)if(e.sqrTo(r,n),(t&1<<i)>0)e.mulTo(n,o,r);else{var s=r;r=n,n=s}return e.revert(r)},Ut.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,o=!1,i="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(r=this[s]>>a)>0&&(o=!0,i=$t(r));s>=0;)a<e?(r=(this[s]&(1<<a)-1)<<e-a,r|=this[--s]>>(a+=this.DB-e)):(r=this[s]>>(a-=e)&n,a<=0&&(a+=this.DB,--s)),r>0&&(o=!0),o&&(i+=$t(r));return o?i:"0"},Ut.prototype.negate=function(){var t=qt();return Ut.ZERO.subTo(this,t),t},Ut.prototype.abs=function(){return this.s<0?this.negate():this},Ut.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},Ut.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+re(this[this.t-1]^this.s&this.DM)},Ut.prototype.mod=function(t){var e=qt();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(Ut.ZERO)>0&&t.subTo(e,e),e},Ut.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new ne(e):new oe(e),this.exp(t,r)},Ut.ZERO=ee(0),Ut.ONE=ee(1),ie.prototype.init=function(t){var e,r,n;for(e=0;e<256;++e)this.S[e]=e;for(r=0,e=0;e<256;++e)r=r+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[r],this.S[r]=n;this.i=0,this.j=0},ie.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},null==Zt){Zt=new Array,Yt=0;var ae=void 0;if(window.crypto&&window.crypto.getRandomValues){var ce=new Uint8Array(32);for(window.crypto.getRandomValues(ce),ae=0;ae<32;++ae)Zt[Yt++]=ce[ae]}if("Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto&&window.crypto.random){var ue=window.crypto.random(32);for(ae=0;ae<ue.length;++ae)Zt[Yt++]=255&ue.charCodeAt(ae)}for(;Yt<256;)ae=Math.floor(65536*Math.random()),Zt[Yt++]=ae>>>8,Zt[Yt++]=255&ae;Yt=0,se()}function de(){if(null==Xt){for(se(),(Xt=new ie).init(Zt),Yt=0;Yt<Zt.length;++Yt)Zt[Yt]=0;Yt=0}return Xt.next()}function le(){}function he(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}le.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=de()},he.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},he.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=new Ut(t,16),this.e=parseInt(e,16)):alert("Invalid RSA public key")},he.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var r=new Array,n=t.length-1;n>=0&&e>0;){var o=t.charCodeAt(n--);o<128?r[--e]=o:o>127&&o<2048?(r[--e]=63&o|128,r[--e]=o>>6|192):(r[--e]=63&o|128,r[--e]=o>>6&63|128,r[--e]=o>>12|224)}r[--e]=0;for(var i=new le,s=new Array;e>2;){for(s[0]=0;0==s[0];)i.nextBytes(s);r[--e]=s[0]}return r[--e]=2,r[--e]=0,new Ut(r)}(t,this.n.bitLength()+7>>3);if(null==e)return null;var r=this.doPublic(e);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n};var pe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";Kt.hex2b64=function(t){var e,r,n="";for(e=0;e+3<=t.length;e+=3)r=parseInt(t.substring(e,e+3),16),n+=pe.charAt(r>>6)+pe.charAt(63&r);for(e+1==t.length?(r=parseInt(t.substring(e,e+1),16),n+=pe.charAt(r<<2)):e+2==t.length&&(r=parseInt(t.substring(e,e+2),16),n+=pe.charAt(r>>2)+pe.charAt((3&r)<<4));(3&n.length)>0;)n+="=";return n},Kt.linebrk=function(t,e){for(var r="",n=0;n+e<t.length;)r+=t.substring(n,n+e),n+=e;return r+t.substring(n,t.length)},Kt.default=he;var fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.generateRandomString=void 0,fe.generateRandomString=function(t){void 0===t&&(t=32);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=e.length,n="",o=0;o<t;o++)n+=e.charAt(Math.floor(Math.random()*r));return n},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.webEncrypt=t.rsaEncrypt=t.aesEncrypt=void 0;var e=h,r=e.__importStar(Ct),n=e.__importStar(Kt),o=fe,i=Ct;function s(t,e){if(n.default&&n.linebrk&&n.hex2b64){var r=0,o=function(t,e){var i=new n.default;i.setPublic(t,"10001");var s=i.encrypt(e);return 344!==(s=n.linebrk(n.hex2b64(s),64)).length&&r<10&&(r++,s=o(t,e)),r=0,s};return o(t,e)}return e}function a(t,e,n){for(var i=Object.assign({},t),a=o.generateRandomString(16),c=0,u=e.length;c<u;c++){var d=e[c],l=i[d];null!=l&&(i[d]=r.aesEncrypt(a,String(l)))}return{encryptedData:i,encryptedKey:s(n,a)}}Object.defineProperty(t,"aesEncrypt",{enumerable:!0,get:function(){return i.aesEncrypt}}),t.rsaEncrypt=s,t.webEncrypt=a;var c={install:function(t,e){t.appendPreBind({name:"plugin-encrypt-web",event:"event-data-encrypt",callback:function(t){var r,n,o,i=t.dwEvent,s=t.dwProcess;i.validate();var c=s.dwConfig.getAll();if((c.dbg||c.debugMode)&&c.noEncrypted)i.dataEncrypted=i.data;else{var u,d=null!==(o=null===(n=null===(r=s.dynamicData)||void 0===r?void 0:r.events)||void 0===n?void 0:n.data)&&void 0!==o?o:[];if("_page_view"===i.name)u=["title","url","refer"];else for(var l=0;l<d.length;l++){var h=d[l];if(h.name===i.name){h.encryptAttrs&&(u=h.encryptAttrs);break}}if(u&&i.data){var p=a(i.data,u,e.rsaKey),f=p.encryptedData,v=p.encryptedKey;if(v){var y={_encrypted_key:v,_encrypted_version:"20160113",_encrypted_fields:u.join(",")};Object.assign(f,y)}i.dataEncrypted=f}}}}),r.default.install(t,{aesKey:e.aesKey})}};t.default=c}(Ot);var ve={};Object.defineProperty(ve,"__esModule",{value:!0}),ve.default={install:function(t,e){var r=0,n=e.max;t.appendPreBind({name:"send-in-limit-connect-before-event",event:"before-event-send",callback:function(t){var e=t.dwEvent;e.isPostStopped()||(r>=n?e.saveWait().stopPost():r++)}}),t.appendPreBind({name:"send-in-limit-connect-after-event",event:"after-event-send",callback:function(t){t.dwProcess,r>0&&r--}}),t.appendPreBind({name:"send-in-limit-connect-before-dynamic",event:"before-dynamic-send",callback:function(t){var e=t.dwDynamic;e.isPostStopped()||(r>=n?(e.retry(),e.stopPost()):r++)}}),t.appendPreBind({name:"send-in-limit-connect-after-dynamic",event:"after-dynamic-send",callback:function(){r>0&&r--}})}};var ye={};Object.defineProperty(ye,"__esModule",{value:!0});var ge={install:function(t,e){var r=null!=e?e:{},n=r.debounce,o=void 0===n?0:n,i=r.throttle,s=void 0===i?0:i,a=r.ignoreEventNames,c=void 0===a?[]:a;t.appendPreBind({name:"plugin-send-in-throttle",event:"before-event-send",callback:function(t){var e=t.dwEvent,r=t.dwProcess;r.cache.others.throttle||(r.cache.others.throttle={first:!1,debounceTimer:null,throttleTimer:null});var n=r.dwService,i=r.cache.others.throttle;if(!e.isPostStopped()&&"wait"!==e.from&&!c.includes(e.name)){var a=function(){i.first=!1,clearTimeout(i.debounceTimer),clearTimeout(i.throttleTimer),i.debounceTimer=null,i.throttleTimer=null,n.sendWaitEvents(r)};o>0&&(e.saveWait().stopPost(),clearTimeout(i.debounceTimer),i.debounceTimer=setTimeout(a,o)),s>0&&(i.first||(i.first=!0,clearTimeout(i.throttleTimer),i.throttleTimer=setTimeout(a,s)))}}})}};ye.default=ge,Object.defineProperty(n,"__esModule",{value:!0}),n.WebReporter=void 0;var me=h,_e=me.__importDefault(p.exports),we=me.__importDefault(f),be=v,De=mt,Ee=St,Se=Bt,Pe=me.__importDefault(Ot),Te=me.__importDefault(ve),Ae=me.__importDefault(ye),Be=x;be.Reporter.adapters.http=new De.HttpAdapterWeb,be.Reporter.adapters.osInfo=new Ee.OSInfoAdapterWeb,be.Reporter.adapters.storage=new Se.StorageAdapterWeb,be.Reporter.defaults={dynamicUrl:"https://dw-online.ksosoft.com",sendUrl:"(https://shuc-js.ksord.com/bat/js/cors)",debugUrl:"(https://dw-collect-debug.ksord.com)",handleAppEnd:function(t,e){if(!e.fresh){var r=t.dwStorage,n=function(){if("function"==typeof navigator.sendBeacon){var e=t.generateAppEndEvent();if("boolean"==typeof navigator.onLine&&!navigator.onLine)return e.saveFail(),void r.fail.sync();var n=_e.default.encode(we.default.encode(JSON.stringify(e.eventBody))),o=new Blob([n],{type:"application/x-www-form-urlencoded"}),i=e.urlsParsed[0];t.isDebug()&&(console.log("beacon url",i),console.log("beacon body",JSON.stringify(e.eventBody))),navigator.sendBeacon("string"==typeof i?i:i[0],o)}else console.log('[dw-js-sdk] "sendBeacon" is not supported, use normal method to send app_end.'),t.sendAppEnd()};"onbeforeunload"in window?window.addEventListener("beforeunload",n,!1):window.addEventListener("pagehide",n,!1)}}},be.Reporter.use(Pe.default,{aesKey:"ZctYg7JjXcPySXxw",rsaKey:"8762DEC337D703A5841A8090180350203AC0C2809A864BF6CA31979FCD7AA3D1BFA38CF8B243878984CBC9B83496CBAC87B448F74EA7550D579BD5820EFD17F5D22D0665AB114FB6EBA74261B4EB040828FBCA7CF95EF0D56BBFD9C67E5941AFFB34DE4C6FA2E737C16D9C703A43D90F65B40E7F3E44C1165C1ED3BD10BC449421863174E8EFA3CA618E0DEE7EDD65F07AAE0586AB1702B1D95F29F3BA447AD744E9B37ACB3F510D068A2D6BDBE4F0689B26A9AFCF66219160E7CF802D2F1A56503F462693B62747AD4163DBC1222687D154C53C03BBB5D2DE9ABC2DE6907E3B26E45C4FCA63F28258C4D07D3E152AE51F80A0DA7B77A3E1D0EFE72A988B57F9"}),be.Reporter.use(Ae.default,{debounce:parseInt("300"),throttle:parseInt("5000"),ignoreEventNames:["_app_end"]}),be.Reporter.use(Te.default,{max:3});var xe=function(t){function e(e){void 0===e&&(e={});var r=t.call(this,e)||this;r.options=e;var n=new Date;return r._lastFreshDate=[n.getFullYear(),n.getMonth()+1,n.getDate()],r}return me.__extends(e,t),e.prototype.createReporter=function(t,r){if(!t)throw Error("createReporter requires param appKey.");return new e(r).setAppKey(t)},e.prototype.setDailyFresh=function(t){var e=this;void 0===t&&(t="00:15");var r=t.match(/(\d?\d):(\d?\d)/),n="请设置正确的时间格式 hh:mm";if(!r)throw Error(n);var o=parseInt(r[1]),i=parseInt(r[2]);if(o>24||i>60)throw Error(n);var s=this.dwProcess.getRemoteDate();if(Be.DWProcess.printLog("WebReporter","setDailyFresh",t),s){var a=new Date(s),c=parseInt("21600000 # 6小时");a.setHours(o),a.setMinutes(i),a.setSeconds(0,0),a.setTime(a.getTime()+Math.random()*c);var u=a.getTime()-s.getTime(),d=864e5,l=u>0?u:u+d,h=function(){e.dwProcess.refresh(),e._dailyRefreshTimer=setTimeout(h,d)};clearTimeout(this._dailyRefreshTimer),this._dailyRefreshTimer=setTimeout(h,l)}else setTimeout((function(){return e.setDailyFresh(t)}),6e4);return this},e.prototype.forceFresh=function(){var t=new Date,e=[t.getFullYear(),t.getMonth()+1,t.getDate()],r=function(t,e,r){var n=e;return 1===r&&(n*=100),t+n};e.reduce(r)-this._lastFreshDate.reduce(r)<=0?Be.DWProcess.printLog("WebReporter","forceFresh","fail: same date",{currentDate:e.join("-"),lastFreshDate:this._lastFreshDate.join("-")}):(Be.DWProcess.printLog("WebReporter","forceFresh","success",{currentDate:e.join("-"),lastFreshDate:this._lastFreshDate.join("-")},!0),this.dwProcess.refresh(!0),this._lastFreshDate=e)},e}(be.Reporter);return n.WebReporter=xe,n.default=xe,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.dw=void 0;var e=r,o=n;t.dw=function(){var t=window;if(void 0===t._dw)t._dw=t.dw=new o.WebReporter({});else{if(console.group("[dw-js-sdk] warn"),void 0===t._dw.version)return console.warn("[dw-js-sdk] 检测到您已引入旧版sdk, 请升级您的版本至v3.0.27或以上"),new o.WebReporter({});switch(e.compareVersion(t._dw.version)){case-1:console.log("[dw-js-sdk] 检测到新的版本, 请升级您的sdk");break;case 1:console.log("[dw-js-sdk] 检测到当前环境存在旧版本的sdk!")}console.log("[dw-js-sdk] (1/3) 当前环境已存在统计工具 window._dw"),console.log("[dw-js-sdk] (2/3) 可能的原因是存在重复引入 sdk 文件"),console.log('[dw-js-sdk] (3/3) 请使用 window._dw.createReporter("your-app-key") 创建一个新的统计工具'),console.groupEnd()}return t._dw}(),t.default=t.dw}(e),function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(e)}));cument.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(e,0);else{document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t,!1),e()}),!1)}else document.attachEvent&&(a=e,r=t.document,o=!1,(c=function(){try{r.documentElement.doScroll("left")}catch(t){return void setTimeout(c,50)}n()})(),r.onreadystatechange=function(){"complete"==r.readyState&&(r.onreadystatechange=null,n())});function n(){o||(o=!0,a())}var a,r,o,c}((function(){var t,e;(t=document.createElement("div")).innerHTML=n,n=null,(e=t.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",function(t,e){e.firstChild?function(t,e){e.parentNode.insertBefore(t,e)}(t,e.firstChild):e.appendChild(t)}(e,document.body))}))}(window)},94:function(t,e,n){t.exports=n.p+"encs/ep_site/images/02ff190.png"},95:function(t,e,n){"use strict";e.a=function(t,e){return e=e||{},new Promise((function(n,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(JSON.parse(s.responseText))},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(t){return i[t.toLowerCase()]},has:function(t){return t.toLowerCase()in i}}}};for(var c in s.open(e.method||"get",t,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){o.push(e=e.toLowerCase()),u.push([e,n]),i[e]=i[e]?i[e]+","+n:n})),n(a())},s.onerror=r,s.withCredentials="include"==e.credentials,e.headers)s.setRequestHeader(c,e.headers[c]);s.send(e.body||null)}))}},97:function(t,e,n){"use strict";var r=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===o}(t)}(t)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(t,e){return!1!==e.clone&&e.isMergeableObject(t)?h((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function l(t,source,e){return t.concat(source).map((function(element){return c(element,e)}))}function d(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(symbol){return t.propertyIsEnumerable(symbol)})):[]}(t))}function f(t,source,e){var n={};return e.isMergeableObject(t)&&d(t).forEach((function(r){n[r]=c(t[r],e)})),d(source).forEach((function(r){e.isMergeableObject(source[r])&&t[r]?n[r]=function(t,e){if(!e.customMerge)return h;var n=e.customMerge(t);return"function"==typeof n?n:h}(r,e)(t[r],source[r],e):n[r]=c(source[r],e)})),n}function h(t,source,e){(e=e||{}).arrayMerge=e.arrayMerge||l,e.isMergeableObject=e.isMergeableObject||r;var n=Array.isArray(source);return n===Array.isArray(t)?n?e.arrayMerge(t,source,e):f(t,source,e):c(source,e)}h.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return h(t,n,e)}),{})};var v=h;t.exports=v}},[[141,13,2]]]);
//# sourceMappingURL=f37246a1.js.map,n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));n("d3b7"),n("159b"),n("25f0"),n("ac1f"),n("466d"),n("00b4");function A(){var e=window.navigator.userAgent;return!(!e.match(/MicroMessenger\/[0-9]/i)&&!e.match(/QQ\/[0-9]/i))}function a(){var e=window.navigator.userAgent,t=/mac/.test(e)&&navigator.maxTouchPoints>0;return/(iPhone|iPad|iPod|iOS)/i.test(e)||t?"IOS":/(Android)/i.test(e)?"Android":void 0}function i(){var e=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];return e.some((function(e){return navigator.userAgent.match(e)}))}function o(){return!0}},dd53:function(e,t,n){"use strict";n("5e8b")},dde5:function(e,t,n){},e524:function(e,t,n){"use strict";n.r(t);var A=function(){var e=this,t=e.$createElement,A=e._self._c||t;return A("el-dialog",{attrs:{width:"660px",center:!0,visible:e.visible,"close-on-click-modal":!1,"append-to-body":!0,"custom-class":"k-center-dialog-box"},on:{close:e.updateShowDialog}},[A("div",{staticClass:"mac-dialog"},[A("h1",{staticClass:"title"},[e._v("选择适合你 Mac 的金山协作版本")]),A("div",{staticClass:"intro"},[e._v(" 金山协作为 Mac 用户分别提供了适配 Intel 芯片和 Apple 芯片的两个版本，请选择更适合你电脑的版本，助力高效办公！ ")]),A("div",{staticClass:"intro"},[A("span",{staticClass:"strong"},[e._v("需注意")]),e._v("，Apple 芯片版无法在 Intel 芯片的电脑上正常运行。 ")]),A("div",{staticClass:"btn",on:{click:function(t){return e.download("mac")}}},[e._v(" 下载 Mac 通用版 "),A("el-tooltip",{attrs:{"visible-arrow":!1,effect:"light",content:"Intel、Apple 芯片的 Mac 电脑通用",placement:"right","popper-class":"mac-arm-download-tooltip"}},[A("svg-icon",{staticClass:"download-tip",attrs:{name:"mac-download-tip",width:"18",height:"18"}})],1)],1),A("div",{staticClass:"link-btn",on:{click:function(t){return e.download("mac-arm64")}}},[e._v("下载 Apple 芯片适配版")]),A("div",{staticClass:"guide",class:{expand:e.showStep},on:{click:e.toggleShowStep}},[e._v(" *如何确定电脑芯片类型 "),A("svg-icon",{staticClass:"step-icon",class:{rotate:e.showStep},attrs:{name:"mac-download-next",width:"16",height:"16"}})],1),A("div",{directives:[{name:"show",rawName:"v-show",value:e.showStep,expression:"showStep"}],staticClass:"step-container"},[A("div",{staticClass:"step"},[e._v(" 1. 点击电脑屏幕左上角 "),A("span",{staticClass:"strong"},[A("svg-icon",{staticClass:"apple",attrs:{name:"mac-download-apple-tag",width:"18",height:"18"}}),e._v(" 菜单 → 关于本机")],1)]),A("div",{staticClass:"step"},[e._v(" 2. 在 "),A("span",{staticClass:"strong"},[e._v("概览")]),e._v(" 页面找到 "),A("span",{staticClass:"strong"},[e._v("处理器")]),e._v(" 或 "),A("span",{staticClass:"strong"},[e._v("芯片")]),e._v(" 一栏，确定芯片类型为“"),A("span",{staticClass:"strong"},[e._v("Intel")]),e._v("”或“"),A("span",{staticClass:"strong"},[e._v("Apple")]),e._v("”后，选择对应版本进行下载 ")]),A("div",{staticClass:"step-image"},[A("img",{attrs:{width:"178px",src:n("50ec"),alt:""}}),A("img",{attrs:{width:"24px",src:n("6ac5"),alt:""}}),A("img",{attrs:{width:"178px",src:n("bd53"),alt:""}}),A("img",{attrs:{width:"24px",src:n("b26e"),alt:""}}),A("img",{attrs:{width:"178px",src:n("6744"),alt:""}})])])])])},a=[],i=n("d4ec"),o=n("bee2"),c=n("262e"),r=n("2caf"),s=n("9ab4"),l=n("60a3"),u=n("31c8"),d=function(e){Object(c["a"])(n,e);var t=Object(r["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.showStep=!1,e}return Object(o["a"])(n,[{key:"updateShowDialog",value:function(){this.$emit("update:visible",!1)}},{key:"toggleShowStep",value:function(){this.showStep=!this.showStep}},{key:"download",value:function(e){this.$emit("download",e);var t={mac:"macintel","mac-arm64":"macapple"};t[e]&&Object(u["c"])(t[e])}}]),n}(l["c"]);Object(s["a"])([Object(l["b"])({default:!1})],d.prototype,"visible",void 0),d=Object(s["a"])([l["a"]],d);var p=d,f=p,v=(n("6a77"),n("efce"),n("2877")),m=Object(v["a"])(f,A,a,!1,null,"c1b5d1c8",null);t["default"]=m.exports},efce:function(e,t,n){"use strict";n("0970")},f30f:function(e,t){e.exports="data:image/png;base64,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"},f9f6:function(e,t,n){},fd2d:function(e,t,n){"use strict";n.r(t);var A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer"},[n("div",{staticClass:"main"},[e._m(0),n("div",{staticClass:"product"},[n("div",[n("div",{staticClass:"title"},[e._v("产品支持")]),e._l(e.productSupportList,(function(t,A){return n("div",{key:A,staticClass:"service-item"},[n("a",{attrs:{target:"_blank",rel:"noopener noreferrer",href:t.href},domProps:{textContent:e._s(t.name)},on:{click:function(n){return e.dwReport(t.dwKey)}}})])}))],2),n("div",[n("div",{staticClass:"title"},[e._v("服务")]),e._l(e.serviceList,(function(t,A){return n("div",{key:A,staticClass:"service-item"},[t.href?n("a",{attrs:{target:"_blank",rel:"noopener noreferrer",href:t.href},domProps:{textContent:e._s(t.name)},on:{click:function(n){return e.dwReport(t.dwKey)}}}):n("div",{domProps:{textContent:e._s(t.name)},on:{click:function(t){return e.$notOpen()}}})])}))],2),n("div",[n("div",{staticClass:"title"},[e._v("帮助中心")]),e._l(e.helpList,(function(t,A){return n("div",{key:A,staticClass:"service-item"},[e.isFunction(t.href)?n("div",{domProps:{textContent:e._s(t.name)},on:{click:function(e){return t.href()}}}):n("a",{attrs:{target:"_blank",rel:"noopener noreferrer",href:t.href},domProps:{textContent:e._s(t.name)},on:{click:function(n){return e.dwReport(t.dwKey)}}})])}))],2),n("div",[n("div",{staticClass:"title"},[e._v("开放平台")]),e._l(e.openList,(function(t,A){return n("div",{key:A,staticClass:"service-item"},[t.href?n("a",{attrs:{target:"_blank",rel:"noopener noreferrer",href:t.href},domProps:{textContent:e._s(t.name)},on:{click:function(n){return e.dwReport(t.dwKey)}}}):n("div",{domProps:{textContent:e._s(t.name)},on:{click:function(t){return e.$notOpen()}}})])}))],2)])]),n("div",{staticClass:"copyright"},[[e._v(" "+e._s(e.operatingCompany)+" | 由金山云提供公网版本存储方案 | "),n("a",{attrs:{href:e.serviceAgreement,target:"_blank",rel:"noopener noreferrer"},on:{click:function(t){return e.dwReport("other-agreement")}}},[e._v("服务协议")]),e._v(" | "),n("a",{attrs:{href:e.privacyPolicy,target:"_blank",rel:"noopener noreferrer"},on:{click:function(t){return e.dwReport("other-private")}}},[e._v("隐私政策")]),n("br")],e._v(" Copyright 2008-2022 Kingsoft Office, All Rights Reserved. | 开发者：珠海金山办公软件有限公司"),n("br"),n("a",{staticClass:"link-space",attrs:{target:"_blank",rel:"noopener noreferrer",href:e.businessLicenseUrl},on:{click:function(t){return e.dwReport("other-private")}}},[e._v(" 营业执照 ")]),e.policeCode?[n("a",{staticClass:"link-space",attrs:{target:"_blank",rel:"noopener noreferrer",href:e.policeCodeUrl}},[n("span",{staticClass:"police"}),e._v("粤公网安备 "+e._s(e.policeCode)+"号")])]:e._e(),n("a",{staticClass:"link-space",attrs:{target:"_blank",rel:"noopener noreferrer",href:"http://beian.miit.gov.cn"},on:{click:function(t){return e.dwReport("other-icp")}}},[e._v(" "+e._s(e.IcpCode))]),e.isWpsHost?e._e():n("span",{staticClass:"link-space"},[e._v(" 增值电信业务经营许可证：B2-20220382 ")])],2)])},a=[function(){var e=this,t=e.$createElement,A=e._self._c||t;return A("div",{staticClass:"consult"},[A("img",{staticClass:"logo",attrs:{src:n("f30f"),alt:""}}),A("div",{staticClass:"title"},[e._v("产品解疑 | 申请试用 | 咨询业务")]),A("div",[e._v("电话：400-677-5005")]),A("div",[e._v("邮箱："),A("a",{attrs:{href:"mailto:baiying@wps.cn"}},[e._v("xiezuo@wps.cn")])]),A("div",[e._v("服务时间：周一至周日9:00 - 18:00")])])}],i=n("ade3"),o=n("3835"),c=n("d4ec"),r=n("bee2"),s=n("262e"),l=n("2caf"),u=(n("ac1f"),n("1276"),n("b0c0"),n("caad"),n("2532"),n("9ab4")),d=n("60a3"),p=n("31c8"),f=n("8f12"),v=n("2ef0"),m=n("82e0"),b=function(e){Object(s["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.productSupportList=[{name:"金山数字办公平台",href:"https://plus.wps.cn",dwKey:"product-ksdigital"},{name:"金山文档",href:"https://www.kdocs.cn/welcome",dwKey:"product-ksdocs"},{name:"金山会议",href:"https://www.kdocs.cn/meeting/view/homepage",dwKey:"product-ksmeetings"},{name:"金山日历",href:"https://rili.wps.cn",dwKey:"product-ksrili"}],e.helpList=[{name:"申请试用",href:function(){Object(m["a"])()},dwKey:"help-apply"},{name:"问答 Q&A",href:"https://kdocs.cn/l/stQ1pMxNfZXa",dwKey:"help-qa"},{name:"产品白皮书",href:"https://kdocs.cn/l/spjGweig3BKz",dwKey:"help-whitebook"}],e.openList=[{name:"能力中心",href:"https://open-xz.wps.cn/features/",dwKey:"open-ability"},{name:"生态伙伴",href:"https://open-xz.wps.cn/partners/",dwKey:"open-partner"},{name:"开发文档",href:"https://open-xz.wps.cn/pages/快速入门/快速了解应用类型/",dwKey:"open-devdocs"}],e.serviceList=[{name:"版本更新日志",href:"https://kdocs.cn/l/snULO61yAlmA",dwKey:"service-versionlog"},{name:"服务协议",href:e.serviceAgreement,dwKey:"service-agreement"},{name:"隐私政策",href:e.privacyPolicy,dwKey:"service-private"},{name:"应用权限",href:"https://privacy.wps.cn/policies/permissions/xiezuo",dwKey:"service-permission"}],e.policeCode=e.getPoliceCode(),e}return Object(r["a"])(n,[{key:"businessLicenseUrl",get:function(){return f["p"]?"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44049102496073":"https://www.kimxz.com/business-license.jpeg"}},{key:"IcpCode",get:function(){return f["p"]?f["m"]:f["k"]}},{key:"serviceAgreement",get:function(){return f["p"]?"https://www.kdocs.cn/privacy/xiezuo":"https://privacy.wps.cn/policies/agreements/xiezuo"}},{key:"privacyPolicy",get:function(){return f["p"]?"https://www.wps.cn/privacy/xiezuo":"https://privacy.wps.cn/policies/privacy/xiezuo"}},{key:"operatingCompany",get:function(){return f["p"]?"珠海优艺科技运营":"珠海金山办公科技有限公司运营"}},{key:"policeCodeUrl",get:function(){return"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=".concat(this.policeCode)}},{key:"dwReport",value:function(e){var t;if(e){var n=e.split("-"),A=Object(o["a"])(n,2),a=A[0],c=A[1];Object(p["a"])((t={},Object(i["a"])(t,a,c),Object(i["a"])(t,"from",this.$route.name),t))}}},{key:"getPoliceCode",value:function(){var e=location.host;return e.includes(f["l"])?f["n"]:e.includes(f["e"])?f["f"]:e.includes(f["h"])?f["i"]:void 0}}]),n}(d["c"]);b=Object(u["a"])([Object(d["a"])({name:"Footer",data:function(){return{isWpsHost:f["p"]}},methods:{isFunction:v["isFunction"]}})],b);var h=b,g=h,w=(n("8f70"),n("2877")),k=Object(w["a"])(g,A,a,!1,null,"56ea3754",null);t["default"]=k.exports}});