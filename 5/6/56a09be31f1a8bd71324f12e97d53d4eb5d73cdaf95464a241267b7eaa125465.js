(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{1295:function(t,n,e){"use strict";e.r(n);var r=e(5),o=e(529),i=e(79),u=e(242);const a="ce1f12a6-c61e-40d9-9588-60f7ccd4abef";a&&Object(u.c)((async()=>{const{init:t}=await e.e(89).then(e.bind(null,1220));t(a)}));const c=t=>({baseLayout:Object(o.b)(t)}),s={routeData:c};var f=Object(r.defineComponent)(Object.assign({},s,{__name:"maskotcards-index",setup(t){const{baseLayout:n}=Object(i.c)();return{__sfc:!0,routeData:c,baseLayout:n,BaseLayout:o.a}}})),l=e(45),p=Object(l.a)(f,(function(){var t=this._self._c,n=this._self._setupProxy;return t(n.BaseLayout,{attrs:{twig:"","route-data":n.baseLayout}})}),[],!1,null,null,null);n.default=p.exports},308:function(t,n,e){var r=e(310),o=e(88),i=e(183),u=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=o(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var e=a.test(t);return e||c.test(t)?s(t.slice(2),e?2:8):u.test(t)?NaN:+t}},309:function(t,n,e){var r=e(80);t.exports=function(){return r.Date.now()}},310:function(t,n,e){var r=e(311),o=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(o,""):t}},311:function(t,n){var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},587:function(t,n){t.exports=function(t){if(null==t)throw new TypeError("Cannot destructure "+t)},t.exports.__esModule=!0,t.exports.default=t.exports},86:function(t,n,e){var r=e(88),o=e(309),i=e(308),u=Math.max,a=Math.min;t.exports=function(t,n,e){var c,s,f,l,p,v,d=0,b=!1,x=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(n){var e=c,r=s;return c=s=void 0,d=n,l=t.apply(r,e)}function w(t){var e=t-v;return void 0===v||e>=n||e<0||x&&t-d>=f}function h(){var t=o();if(w(t))return _(t);p=setTimeout(h,function(t){var e=n-(t-v);return x?a(e,f-(t-d)):e}(t))}function _(t){return p=void 0,y&&c?m(t):(c=s=void 0,l)}function O(){var t=o(),e=w(t);if(c=arguments,s=this,v=t,e){if(void 0===p)return function(t){return d=t,p=setTimeout(h,n),b?m(t):l}(v);if(x)return clearTimeout(p),p=setTimeout(h,n),m(v)}return void 0===p&&(p=setTimeout(h,n)),l}return n=i(n)||0,r(e)&&(b=!!e.leading,f=(x="maxWait"in e)?u(i(e.maxWait)||0,n):f,y="trailing"in e?!!e.trailing:y),O.cancel=function(){void 0!==p&&clearTimeout(p),d=0,c=v=s=p=void 0},O.flush=function(){return void 0===p?l:_(o())},O}}}]);owModal=!this.showModal},async onAddButtonClick(t){this.setSelectedMerchantId(t.original.id),this.checkCampaigns(t),this.hasCampaign&&(await this.setMerchant(t.original),this.$emit("continue"))},checkCampaigns(t){this.hasCampaign=t.original.hasCampaign},getSuggestions(t){return t?Object(d.b)(t):this.initialMerchantList},setSelectedMerchantId(t){this.selectedMerchantId=t}})},f=a(44),g=Object(f.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"width--all-12"},[e("div",{staticClass:"width--max-pageNarrow space--mh-a"},[e("div",{staticClass:"formList-label text--color-charcoalTint text--b"},[e("span",{staticClass:"lbox--v-1"},[t._v(t._s("Buscar tienda"))])]),e("AutoSuggest",t._g(t._b({staticClass:"space--mb-5 text--color-charcoalShade iGrid-item width--all-12 width--max-12 hAlign--all-l",attrs:{items:t.getSuggestions,"query-value":t.selectedMerchantName,"load-suggestions-on-focus":"","is-icon-right":"","no-filter":"",placeholder:"Buscar...","input-icon":"search",height:"400px","keep-query-in-search":!0},scopedSlots:t._u([{key:"suggestions",fn:function({suggestions:a,highlighted:s,highlight:i,select:r}){return[e("AutoSuggestListResult",{attrs:{suggestions:a,highlighted:s},on:{highlight:i,select:r},scopedSlots:t._u([{key:"default",fn:function({suggestion:a,isHighlighted:s}){return[e("div",{staticClass:"autoSuggest-suggestion autoSuggest-suggestion--hoverHighlight boxAlign-ai--all-c overflow--wrap-off space--v-3 space--h-3 flex boxSec-div width--all-12 clickable overflow--hidden",class:{selected:s},on:{mousedown:function(e){return t.onAddButtonClick(a)}}},[e("div",{staticClass:"img img--frame img--darken img--noBorder img--square-xs img--type-entity"},[e("MerchantAvatar",{staticClass:"img--type-entity",attrs:{merchant:a.original,size:"xs"}})],1),e("span",{staticClass:"size--all-s text--b overflow--ellipsis space--l-2 text--color-charcoalTint"},[t._v(t._s(a.original.name))]),a.original.hasCampaign?e("span",{staticClass:"space--l-2 size--all-s text--color-greyShade"},[t._v(" "+t._s("añadido por")+" "+t._s(a.original.usedByUsersCount)+" "+t._s("usuarios"))]):e("span",{staticClass:"size--all-s space--l-2 text--color-greyShade"},[t._v(t._s("Sin campañas"))])])]}}],null,!0)})]}}])},"AutoSuggest",t.$attrs,!1),t.$listeners)),t.hasCampaign?[e("div",{staticClass:"text--color-charcoalTint formList-label text--b"},[e("span",{staticClass:"lbox--v-1"},[t._v(t._s("Cómo funciona"))])]),e("div",{staticClass:"referralOverview bg--color-greyPanel aGrid bRad--a-m space--v-4 space--h-3 flex--fromW4 space--fromW4-b-5 space--fromW4-t-5 boxAlign-jc--all-sb"},[t.$breakpoint.lgAndUp?e("div",{staticClass:"referralOverview-dashedLine width--all-12 aGrid-item"},[e("img",{attrs:{src:"/assets/img/referral-submission/dashed-curve_c7922.svg",width:"385",height:"55",alt:""}})]):t._e(),e("div",{staticClass:"referralOverview-item boxAlign-ai--all-c flex flex--fromW4-dir-col"},[e("div",{staticClass:"referralOverview-item-imgWrapper space--toW4-mr-3 space--fromW4-mb-3 boxAlign-jc--all-sa boxAlign-ai--all-c bRad--round aGrid flex"},[e("img",{attrs:{src:"/assets/img/referral-submission/link_00645.png",width:"27",height:"27",alt:""}})]),e("div",[e("div",{staticClass:"referralOverview-item-title size--all-m text--b space--mb-2"},[t._v(" "+t._s("Comparte tu oferta de referido")+" ")]),e("div",{staticClass:"size--all-s text--color-greyShade"},[t._v(" "+t._s("Con millones de miembros de la comunidad")+" ")])])]),e("div",{staticClass:"referralOverview-item boxAlign-ai--all-c flex flex--fromW4-dir-col"},[e("div",{staticClass:"referralOverview-item-imgWrapper space--toW4-mr-3 space--fromW4-mb-3 boxAlign-jc--all-sa boxAlign-ai--all-c bRad--round aGrid flex"},[e("img",{attrs:{src:"/assets/img/referral-submission/scissors_72098.png",width:"27",height:"27",alt:""}})]),e("div",[e("div",{staticClass:"referralOverview-item-title size--all-m text--b space--mb-2"},[t._v(" "+t._s("Los miembros de la comunidad utilizan tu código")+" ")]),e("div",{staticClass:"size--all-s text--color-greyShade"},[t._v(" "+t._s("Los compradores elegibles obtienen el descuento")+" ")])])]),e("div",{staticClass:"referralOverview-item boxAlign-ai--all-c flex flex--fromW4-dir-col"},[e("div",{staticClass:"referralOverview-item-imgWrapper space--toW4-mr-3 space--fromW4-mb-3 boxAlign-jc--all-sa boxAlign-ai--all-c bRad--round aGrid flex"},[e("img",{attrs:{src:"/assets/img/referral-submission/tada_4f047.png",width:"27",height:"27",alt:""}})]),e("div",[e("div",{staticClass:"referralOverview-item-title size--all-m text--b space--mb-2"},[t._v(" "+t._s("Tienes recompensa")+" ")]),e("div",{staticClass:"size--all-s text--color-greyShade"},[t._v(" "+t._s("Gana beneficios de referido de esta tienda.")+" ")])])])])]:e("div",{staticClass:"flex boxAlign-jc--all-sa flex--dir-col boxAlign-ai--all-c"},[e("img",{staticClass:"space--mb-3",attrs:{src:"/assets/img/support-images/blank_9fec7.svg",width:"75",height:"80",alt:""}}),e("div",{staticClass:"space--mb-3"},[t._v(t._s("Lo siento, no hay campañas activas para esta tienda."))]),e("BaseButton",{attrs:{variant:"primary",mode:"brand"},on:{click:t.toggleModal}},[t._v(" "+t._s("Solicitud para añadir una campaña")+" ")]),t.showModal?e("BaseModal",{attrs:{active:t.showModal,width:t.modalWidth,layout:"absolute"},on:{"update:active":function(e){t.showModal=e}},scopedSlots:t._u([{key:"default",fn:function({close:a}){return[e("ModalHead",{staticClass:"text--color-greyShade",attrs:{icon:"pencil"}},[t._v(t._s("Mensaje nuevo"))]),e("ModalBody",[e("RequestCampaignForm",{attrs:{"merchant-id":t.selectedMerchantId},on:{close:a}})],1)]}}],null,!1,948241744)}):t._e()],1)],2)])}),[],!1,null,null,null).exports,v=a(810),b=Object(s.defineComponent)({__name:"merchant-step",setup:t=>({__sfc:!0,FormWizardStepBase:i.a,FormWizardStepTitle:r.a,MerchantStepForm:g,BaseBadge:v.a})}),x=Object(f.a)(b,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e(a.FormWizardStepBase,{scopedSlots:t._u([{key:"title",fn:function(){return[e(a.FormWizardStepTitle,[t._v(" "+t._s("Selecciona una tienda")+" ")])]},proxy:!0},{key:"form",fn:function(){return[e(a.MerchantStepForm,{on:{continue:function(e){return t.$emit("continue")}}})]},proxy:!0},{key:"footnotes",fn:function(){return[e("div",{staticClass:"flex flex--dir-col boxAlign-ai--all-c space--mt-4"},[e(a.BaseBadge,{staticClass:"text--normal text--color-charcoal bg--color-greyPanel space--mb-2"},[t._v(t._s("Beta"))]),e("div",{staticClass:"userHtml size--all-s",domProps:{innerHTML:t._s('Puedes compartir tus impresiones sobre tu experiencia poniéndote en contacto con nosotros <a target="_blank" href="https://www.chollometro.com/contact">aquí.</a>')}})],1)]},proxy:!0}])})}),[],!1,null,null,null);e.default=x.exports},521:function(t,e,a){"use strict";a.d(e,"a",(function(){return d})),a.d(e,"b",(function(){return u}));var s=a(10),i=a.n(s),r=a(11),l=a.n(r);let o=function(t){return t.CROP="cp",t.RESIZE="re",t.BLUR="bl",t.FIT="fi",t.FIT_BY_SIZE="fs",t.QUALITY="qt",t.FILE_TYPE="ft",t}({}),n=function(t){return t.ANIMATED_SOURCE="as",t}({});const c={[o.CROP]:"crop",[o.RESIZE]:"resize",[o.BLUR]:"blur",[o.FIT]:"fit",[o.FIT_BY_SIZE]:"fitBySize",[o.QUALITY]:"quality",[o.FILE_TYPE]:"fileType"};let d=function(){function t(e,a){if(i()(this,t),e){if("object"==typeof e){const{path:t,name:s}=e;if(!t||!s)throw Error("Invalid picsy image object");const i=e.animated?"".concat(n.ANIMATED_SOURCE,"/"):"",{name:r=s,ext:l="jpg"}=a||{},o=e.ext||l;this.path="".concat("https://static.chollometro.com","/").concat(t,"/").concat(s,"/").concat(i),this.file="".concat(r,".").concat(o)}else{if("string"!=typeof e)throw Error("Expected picsy image path, but received: ".concat(e));if("string"!=typeof a)throw Error("Expected picsy image file name, but received: ".concat(a));this.path=e,this.file=a}Object.freeze(this)}}return l()(t,[{key:"blur",value:function(t){return t>0&&t<=100?this.addOperation(o.BLUR,t):this}},{key:"quality",value:function(t){return t>=0&&t<=100?this.addOperation(o.QUALITY,t):this}},{key:"resize",value:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return this.dimOperation(o.RESIZE,...e)}},{key:"fit",value:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return this.dimOperation(o.FIT,...e)}},{key:"fitBySize",value:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return this.dimOperation(o.FIT_BY_SIZE,...e)}},{key:"crop",value:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return this.dimOperation(o.CROP,...e)}},{key:"fileType",value:function(e){if(!e||!this.file)return this;const a="".concat(this.file.substr(0,this.file.lastIndexOf(".")),".").concat(e);return new t(this.path,a)}},{key:"toString",value:function(){return this.path?this.path+this.file:""}},{key:"apply",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((t,e)=>{let[a,...s]=e;const i=c[a];return i?t[i](...s):t}),this)}},{key:"dimOperation",value:function(t,e,a){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=Math.round(e)||"",r=Math.round(a)||"";return i||r?this.addOperation(t,"".concat(i).concat(r?"x"+r:"").concat(s?"w":"")):this}},{key:"addOperation",value:function(e,a){return this.path?new t("".concat(this.path).concat(e,"/").concat(a,"/"),this.file):this}}]),t}();const u=t=>{const e=[o.CROP,o.RESIZE,o.FIT,o.FIT_BY_SIZE];for(const[a,s,i]of t)if(e.includes(a))return{width:s,height:i};return{width:0,height:0}}},538:function(t,e,a){"use strict";var s=a(5),i=a(522),r=a(550);const l={center:r.e,bottomSheet:r.b,bottomCenter:r.c,bottomRight:r.d,fullscreen:r.f,absolute:r.a},o=Object(s.defineComponent)({name:"BaseModal"});var n=Object(s.defineComponent)(Object.assign({},o,{props:{layout:{type:[String,Object],default:"center",validator:t=>"string"!=typeof t||t in l},backdrop:{type:Boolean,default:!0},mobileSheet:{type:Boolean,default:!0},contentRepos:{type:Boolean,default:!1},scrollRepos:{type:Boolean,default:!1}},setup(t,e){let{expose:a}=e;const r=t,o=Object(s.computed)((()=>{const t="string"==typeof r.layout?l[r.layout]:r.layout;return[Object.assign({},t,{backdrop:r.backdrop})]})),n=Object(s.ref)(),c=()=>n.value.close();return Object(s.onMounted)((()=>n.value.activate(o))),Object(s.watch)(o,(()=>n.value.updateLayouts(o))),a({close:c}),{__sfc:!0,layoutPresets:l,props:r,popoverLayouts:o,popover:n,close:c,BasePopover:i.a}}})),c=a(44),d=Object(c.a)(n,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e(a.BasePopover,t._g(t._b({ref:"popover",attrs:{"scroll-repos":t.scrollRepos,"content-repos":t.contentRepos,"mobile-sheet":t.mobileSheet&&"fullscreen"!==t.layout},scopedSlots:t._u([{key:"default",fn:function({}){return[t._t("default",null,{close:a.close})]}}],null,!0)},"BasePopover",t.$attrs,!1),t.$listeners))}),[],!1,null,null,null);e.a=d.exports},612:function(t,e,a){"use strict";var s=a(521);const i={xs:{"1x":[["re",22,22],["ft","jpg"],["qt",70]],"2x":[["re",44,44],["ft","jpg"],["qt",70]]},s:{"1x":[["re",38,38],["ft","jpg"],["qt",70]],"2x":[["re",76,76],["ft","jpg"],["qt",70]]},m:{"1x":[["re",54,54],["ft","jpg"],["qt",70]],"2x":[["re",108,108],["ft","jpg"],["qt",70]]},l:{"1x":[["re",70,70],["ft","jpg"],["qt",70]],"2x":[["re",140,140],["ft","jpg"],["qt",70]]},xl:{"1x":[["re",94,94],["ft","jpg"],["qt",70]],"2x":[["re",188,188],["ft","jpg"],["qt",70]]},default:"/assets/img/default-merchant_ce645.svg"};var r={props:{merchant:{type:Object,required:!0},size:{validator:t=>["xs","s","m","l","xl"].includes(t),default:"s"},altText:{type:String}},computed:{avatarSrc(){return this.merchant.avatar?new s.a(this.merchant.avatar).apply(i[this.size]["1x"]).toString():i.default},avatarSrc2x(){return this.merchant.avatar?new s.a(this.merchant.avatar).apply(i[this.size]["2x"]).toString():i.default},avatarAltText(){var t;return null!==(t=this.altText)&&void 0!==t?t:this.merchant.logoAlt}}},l=a(44),o=Object(l.a)(r,(function(){var t=this;return(0,t._self._c)("img",{class:`img--square-${t.size}`,attrs:{src:t.avatarSrc,srcset:`${t.avatarSrc2x} 2x`,alt:t.avatarAltText}})}),[],!1,null,null,null);e.a=o.exports},666:function(t,e,a){"use strict";var s=a(538),i=a(519),r=a(517),l=a(524),o=a(512),n=a(520);e.a={components:{BaseModal:s.a,ModalHead:i.a,ModalBody:r.a,ModalFooter:l.a,ModalClose:o.a,ModalAsync:n.a}}},729:function(t,e,a){"use strict";var s={props:{alignCenter:{type:Boolean,default:!1}},computed:{containerClasses(){return{"boxAlign-ai--all-c":this.alignCenter}},hasTitle(){return!!this.$scopedSlots.title},hasSubTitle(){return!!this.$scopedSlots["sub-title"]}}},i=a(44),r=Object(i.a)(s,(function(){var t=this,e=t._self._c;return e("Transition",t._g({attrs:{appear:"",name:"slide-in","leave-active-class":"hide","leave-to-class":"hide"}},t.$listeners),[e("section",{staticClass:"flex flex--grow-1 flex--shrink-0 boxAlign-jc--all-c width--all-12",class:t.containerClasses},[e("div",{staticClass:"flex flex--dir-col space--fromW2-h-4 space--h-3 space--fromW3-t-6 space--b-4 boxAlign-ai--all-c width--all-12"},[t.hasTitle?e("div",{staticClass:"space--mb-4 width--all-12 width--max-pageNarrow"},[t._t("title")],2):t._e(),t.hasSubTitle?e("div",{staticClass:"space--mb-4 width--all-12 width--max-pageNarrow"},[t._t("sub-title")],2):t._e(),t._t("form"),t._t("footnotes")],2)])])}),[],!1,null,null,null);e.a=r.exports},730:function(t,e,a){"use strict";var s=a(44),i=Object(s.a)({},(function(t,e){return t("h1",{staticClass:"size--all-xxxl text--color-charcoal text--b",class:e.data.staticClass},[e._t("default")],2)}),[],!0,null,null,null);e.a=i.exports}}]);