"use strict";(self.webpackChunkphotobucket_web=self.webpackChunkphotobucket_web||[]).push([[4073],{27071:function(e,n,i){i.d(n,{Z:function(){return A}});var t=i(4942),o=i(90297),r=i(27744),a=i(43408),l=i(17592),d=i(57829),s=i(24193),u=i(47131),c=i(61689),p=i(58467),m=i(2135),g=i(91345),v=i(20716),f=i(49872),x=i(705),h=i(81952),b=i(12157),Z=i(46417),j=(0,l.ZP)(u.Z)((function(e){var n,i=e.theme;return n={background:"none",border:"1px solid #e1e1e1",borderLeft:"none",borderRight:"none",borderRadius:0,color:"#000",margin:0,padding:"0 7px","&:hover":{backgroundColor:"#1C47CB",color:"#ffffff"}},(0,t.Z)(n,i.breakpoints.up("sm"),{padding:"0 12px"}),(0,t.Z)(n,i.breakpoints.up("md"),{padding:"0 20px",fontSize:"1rem"}),(0,t.Z)(n,i.breakpoints.up("xl"),{padding:"0 30px",fontSize:"1.5rem"}),n})),w=(0,l.ZP)(u.Z)((function(e){var n,i=e.theme;return n={background:"none",border:"1px solid #e1e1e1",borderLeft:"none",borderRadius:0,color:"#000",margin:0,padding:"0 7px","&:hover":{backgroundColor:"#1C47CB",color:"#ffffff"}},(0,t.Z)(n,i.breakpoints.up("sm"),{padding:"0 12px"}),(0,t.Z)(n,i.breakpoints.up("md"),{padding:"0 20px",fontSize:"1rem"}),(0,t.Z)(n,i.breakpoints.up("xl"),{padding:"0 30px",fontSize:"1.5rem"}),n})),I=(0,l.ZP)(s.Z)((function(e){var n,i=e.theme;return n={background:"linear-gradient(158.55deg, #202CD3 5.3%, #02E39F 102.34%)",fontFamily:'"Outfit", Helvetica, sans-serif',fontWeight:500,textTransform:"none",borderRadius:"0 60px 60px 0",border:"1px solid #e1e1e1",color:"#fff",fontSize:"0.75rem",margin:0,padding:"0 14px 0 7px","&:hover":{backgroundColor:"#002D62",color:"#ffffff"}},(0,t.Z)(n,i.breakpoints.up("sm"),{padding:"0 20px 0 12px"}),(0,t.Z)(n,i.breakpoints.up("md"),{padding:"0 30px 0 20px",fontSize:"1.125rem"}),(0,t.Z)(n,i.breakpoints.up("xl"),{padding:"0 40px 0 30px",fontSize:"1.5rem"}),n})),T=(0,l.ZP)(s.Z)((function(e){var n,i=e.theme;return n={background:"none",fontFamily:'"Outfit", Open Sans, sans-serif',fontWeight:500,textTransform:"none",border:"1px solid #e1e1e1",borderRadius:"60px 0 0 60px",color:"#1c47cb",fontSize:"0.75rem",margin:0,padding:"0 7px 0 14px"},(0,t.Z)(n,i.breakpoints.up("sm"),{padding:"0 12px 0 20px"}),(0,t.Z)(n,i.breakpoints.up("md"),{padding:"0 20px 0 30px",fontSize:"1.125rem"}),(0,t.Z)(n,i.breakpoints.up("xl"),{padding:"0 30px 0 40px",fontSize:"1.5rem"}),n})),k=function(){window.open("https://play.google.com/store/apps/details?id=com.photobucket.android&utm_medium=web&utm_source=navBar&utm_content=deviceIcons&utm_campaign=v2_android","_blank")},S=function A(){var e=(0,v.Z)().isEmpty,n=(0,v.Z)().selectedMedia,i=(0,o.l)(g._N),t=i.media||i.albums||!e(),l=(0,p.UO)().userId,s=(0,p.TH)().pathname,u=s.substring(s.indexOf("/a/")+3);return(0,Z.jsxs)(d.Z,{sx:{display:"flex"},children:[l&&(t?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(x.Z,{ids:n,isPublic:!0}),(0,Z.jsx)(h.Z,{ids:n,isUnauthenticated:!0,isPublic:!0}),(0,Z.jsx)(f.Z,{albumId:u,username:l,disabled:!u}),(0,Z.jsx)(b.Z,{ids:n,isDisabled:!1})]}):(0,Z.jsx)(f.Z,{albumId:u,username:l,disabled:!1})),(0,Z.jsxs)(d.Z,{sx:{display:"flex"},children:[(0,Z.jsx)(T,{color:"inherit",component:m.rU,to:"/login","data-test":"appbar-signin",id:"appbar-signin",children:"Sign In"}),(0,Z.jsx)(c.Z,{arrow:!0,title:"Download iOS",componentsProps:{tooltip:{sx:{backgroundColor:"#2b2b2b",borderRadius:"1.5rem",fontSize:".85rem",lineHeight:1.8,maxWidth:"16rem",padding:"1rem"}}},children:(0,Z.jsx)(w,{id:"appbar-mobile-app-dl-apple",onClick:S,children:(0,Z.jsx)(a.Z,{sx:{fontSize:{xs:"1rem",md:"2rem"}}})})}),(0,Z.jsx)(c.Z,{arrow:!0,title:"Download Android",componentsProps:{tooltip:{sx:{backgroundColor:"#2b2b2b",borderRadius:"1.5rem",fontSize:".85rem",lineHeight:1.8,maxWidth:"16rem",padding:"1rem"}}},children:(0,Z.jsx)(j,{id:"appbar-mobile-app-dl-android",onClick:k,children:(0,Z.jsx)(r.Z,{sx:{fontSize:{xs:"1rem",md:"2rem"}}})})}),(0,Z.jsx)(I,{color:"inherit","data-test":"appbar-signup",id:"appbar-signup",variant:"outlined",component:m.rU,to:"/signup",children:"Sign Up"})]})]})}},46588:63694:function(e,n,i){i.d(n,{Z:function(){return a}});var t=i(90297),o=i(58467),r=i(91345);function a(){var e,n,i,a,l,d,s,u,c,p,m,g=(0,t.l)(r.at),v=null===g||void 0===g||null===(e=g.profile)||void 0===e?void 0:e.subscription,f=((null===v||void 0===v?void 0:v.totalUserUsedSpace)||0)>=((null===v||void 0===v||null===(n=v.plan)||void 0===n?void 0:n.maxSpace)||1/0),x=((null===v||void 0===v?void 0:v.totalImagesCount)||0)>=((null===v||void 0===v||null===(i=v.plan)||void 0===i?void 0:i.maxImagesCount)||1/0),h=!(null===v||void 0===v||!v.plan.hostingThreshold)&&!(null!==v&&void 0!==v&&v.plan.hostingThreshold.maxHostingThreshold),b=f||x,Z="free"===(null===v||void 0===v?void 0:v.plan.title.toLowerCase()),j=(0,o.bS)("/u/:userId/search"),w="VALID"===(null===g||void 0===g||null===(a=g.profile)||void 0===a?void 0:a.emailStatus),I={};return null===g||void 0===g||null===(l=g.profile)||void 0===l||null===(d=l.subscription.restrictions)||void 0===d||d.forEach((),{defaultAlbum:null===g||void 0===g||null===(s=g.profile)||void 0===s?void 0:s.defaultAlbum,isAccountOverStorage:b,isBuyPrintsDisabled:b,isEditDisabled:Z||b||I.IMAGE_EDITOR,isFavoriteDisabled:b||I.FAVORITES,isFreeUser:Z,isLimited:h||I.HOSTING,isMediaTagsDisabled:I.USER_TAGS,isMoveDisabled:!!j||b,isSearchDisabled:I.SEARCH,isModifyAlbumsDisabled:I.MODIFY_ALBUMS,isShareDisabled:b||I.SHARING,isSlideShowDisabled:!!j,isSortDisabled:I.SORT_BY_TITLE||I.SORT_BY_UPLOAD_DATE,isUploadDisabled:!w||b||!!j,isDownloadDisabled:!w,isVideoPlayerDisabled:I.VIDEO_PLAYER,linkBackOption:null===g||void 0===g||null===(u=g.profile)||void 0===u||null===(c=u.albumsSettings)||void 0===c?void 0:c.linkBackOption,mobileAlbum:null===g||void 0===g||null===(p=g.profile)||void 0===p?void 0:p.mobileAlbum,username:null===g||void 0===g||null===(m=g.profile)||void 0===m?void 0:m.username}}},72399:function(e,n,i){i.d(n,{Z:function(){return M}});var t=i(1413),o=i(93433),r=i(29439),a=i(61511),l=i(72668),d=i(90297),s=i(8586),u=i(99115),c=i(73808),p=i(50494),m=i(19860),g=i(9019),v=i(61113),f=i(47131),x=i(24193),h=i(57829),b=i(16783),Z=i(52769),j=i(98492),w=i(41872),I=i(70816),T=i.n(I),k=i(47313),S=i(18248),A=i(28422),y=i(91345),P=i(75909),C=i(12164),D=i(60790),E=i(39437);var _=i(57493),O=i(66212);var R=i(63694),F=i(46417);function B(e){var n=e.handleSaveTags,i=e.currentImage,a=function(){var e=(0,E.Z)().createAlert,n=(0,D.D)(A.$NU,{onError:function(){e("There was a problem adding user tags")}}),i=(0,r.Z)(n,2);return{mutation:i[0],results:i[1]}}().mutation,d=function(){var e=(0,E.Z)().createAlert,n=(0,D.D)(A.MYT,{onError:function(){e("There was a problem removing user tags")}}),i=(0,r.Z)(n,2);return{mutation:i[0],results:i[1]}}().mutation,s=(0,R.Z)().isMediaTagsDisabled,u=(0,k.useState)(!1),c=(0,r.Z)(u,2),p=c[0],m=c[1],g=(0,k.useState)([]),v=(0,r.Z)(g,2),f=v[0],x=v[1],h=(0,k.useState)(""),Z=(0,r.Z)(h,2),j=Z[0],w=Z[1],I=(0,k.useState)(""),T=(0,r.Z)(I,2),S=T[0],y=T[1],P=function(e){var n=(0,E.Z)().createAlert,i={tagPattern:e},t=(0,l.a)(A.HVt,{variables:i,onError:function(){n("There was a problem retrieving tags.")}}),o=t.data,r=t.loading,a=t.error;return{tags:(null===o||void 0===o?void 0:o.getUserTags)||[],loading:r,error:a}}(j),C=P.tags;(0,k.useEffect)((,[i]);return(0,F.jsxs)("div",{style:{padding:16},children:[(0,F.jsx)(_.Z,{open:p,disabled:s,onOpen:function(){return m(!0)},onClose:isOptionEqualToValue:options:C,value:S,inputValue:j,renderInput:function(e){return(0,F.jsx)(b.Z,{label:"Add tag",placeholder:"Add tag...",disabled:s,fullWidth:!0,id:e.id,InputLabelProps:e.InputLabelProps,InputProps:(0,t.Z)((0,t.Z)({},e.InputProps),{},{inputProps:e.inputProps})})},onInputChange:onChange:function(e,t){if(t&&t.trim()&&null!==i&&void 0!==i&&i.id){var r=t.trim(),l=[].concat((0,o.Z)(f),[r]);if(x(l),-1===C.indexOf(r)){var d={imageIds:[i.id],tags:[r]};a({variables:d}),n(l)}else n(l);y(""),w("")}},filterOptions:function(e,n){var i=e.filter(();return""!==n.inputValue&&i.push(n.inputValue),i},selectOnFocus:!0,clearOnBlur:!0,freeSolo:!0}),(0,F.jsx)("div",{style:{marginTop:"16px"},children:f.map((function(e){return(0,F.jsx)(O.Z,{color:"primary",sx:{marginLeft:"4px",marginBottom:"4px"},label:e,onDelete:function(){return function(e){if(null!==i&&void 0!==i&&i.userTags&&i.userTags.indexOf(e)>-1){var t={imageIds:[i.id],tags:[e]};d({variables:t})}var o=f.filter(();x(o),n(o)}(e)}},e)}))})]})}function M(e){var n,i,I,_,O,R,M,U,L,z,W,N,H,Y,V=e.id,G=e.onClose,q=(0,m.Z)(),K=(0,a.x)(),J=(0,l.a)(A.D9W),X=J.error,Q=J.data,$=(0,d.l)(y.sh),ee=K.readFragment({id:"Image:".concat(V),fragment:A.xDo}),ne=(0,C.Z)(),ie=function(){var e=(0,E.Z)().createAlert,n=(0,D.D)(A.Eko,{onError:function(){e("There was a problem updating image settings. Please try again later.")},onCompleted:update:function(e){setTimeout((,2e3)}}),i=(0,r.Z)(n,2);return{mutation:i[0],results:i[1]}}(),te=ie.mutation,oe=T()(null===ee||void 0===ee?void 0:ee.uploadDate),re=(0,k.useState)(!0),ae=(0,r.Z)(re,2),le=ae[0],de=ae[1],se=(0,k.useState)({}),ue=(0,r.Z)(se,2),ce=ue[0],pe=ue[1];(0,k.useEffect)((function(){pe({title:(null===ee||void 0===ee?void 0:ee.title)||"",description:(null===ee||void 0===ee?void 0:ee.description)||""})}),[ee]);var me=function(e){if(e.preventDefault(),ee){var n={imageId:ee.id,description:ce.description,userTags:ee.userTags,title:ce.title};te({variables:n})}else{var i=[].concat((0,o.Z)($),[{id:(0,S.Z)(),message:"you are trying to delete an image that does not exist",severity:"error"}]);(0,y.sh)(i)}},ge=function(e){var n=(0,t.Z)({},ce);n[e.target.name]=e.target.value,pe(n)};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(g.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",sx:{padding:2},children:[(0,F.jsx)(v.Z,{sx:{fontSize:18,color:"#081230"},"data-test":"image-details-drawer",children:"Details"}),(0,F.jsx)(f.Z,{onClick:G,"data-test":"close",size:"large",children:(0,F.jsx)(s.Z,{})})]}),!X&&(0,F.jsxs)(g.ZP,{container:!0,direction:"row",alignItems:"center",sx:{borderTop:"1px solid #EAEAEA",borderBottom:"1px solid #EAEAEA",color:"#9195A4",padding:q.spacing(2)},children:[(0,F.jsx)(u.Z,{fontSize:"small"}),(0,F.jsx)("span",{style:{marginLeft:"10px"},"data-test":"username",children:null===Q||void 0===Q||null===(n=Q.getProfile)||void 0===n?void 0:n.username})]}),(0,F.jsxs)("div",{style:{padding:16},children:[(0,F.jsx)(v.Z,{sx:{color:"#9195A4"},children:"Album"}),ne.allAlbums&&ne.allAlbums.filter(().map((function(e){var n;return(0,F.jsxs)(x.Z,{href:"/u/".concat(null===Q||void 0===Q||null===(n=Q.getProfile)||void 0===n?void 0:n.username,"/a/").concat(e.id),sx:{marginTop:q.spacing(1),marginBottom:q.spacing(2),padding:q.spacing(1,0),textTransform:"unset","& svg":{marginRight:q.spacing(1.5)}},color:"primary",variant:"text",children:[(0,F.jsx)(c.Z,{}),e.title]},e.id)})),(0,F.jsx)(h.Z,{mb:2,children:(0,F.jsx)(b.Z,{"data-test":"title",label:"Title",placeholder:"Title",variant:"outlined",fullWidth:!0,onChange:ge,name:"title",onBlur:me,value:ce.title||""})}),(0,F.jsx)(h.Z,{mb:2,children:(0,F.jsx)(b.Z,{"data-test":"description",label:"Description",placeholder:"Description",variant:"outlined",multiline:!0,rows:4,fullWidth:!0,onChange:ge,name:"description",onBlur:me,value:ce.description||""})})]}),(0,F.jsx)("div",{children:(0,F.jsxs)(Z.Z,{expanded:le,onChange:sx:{boxShadow:"none","&:before":{display:"none"}},children:[(0,F.jsx)(j.Z,{expandIcon:(0,F.jsx)(p.Z,{}),sx:{background:le?"rgba(6, 114, 203, 0.08)":"",color:le?"#0672CB":""},children:(0,F.jsx)(v.Z,{children:"More Details"})}),(0,F.jsx)(w.Z,{children:(0,F.jsxs)("div",{style:{padding:16},children:[(0,F.jsxs)(g.ZP,{container:!0,sx:{padding:q.spacing(.25,0)},children:[(0,F.jsx)(v.Z,{sx:{paddingRight:"5px",fontWeight:800},variant:"overline",children:"Upload Date:"}),(0,F.jsx)("div",{children:(0,F.jsx)(v.Z,{sx:{color:"#2F364E",paddingLeft:"5px",fontStyle:"italic",textTransform:"none"},variant:"overline",children:oe.format("MMM D[,] YYYY [at] LT")})})]}),(null===ee||void 0===ee?void 0:ee.dateTaken)&&(0,F.jsxs)(g.ZP,{container:!0,sx:{padding:q.spacing(.25,0)},children:[(0,F.jsx)(v.Z,{sx:{paddingRight:"5px",fontWeight:800},variant:"overline",children:"Date Taken:"}),(0,F.jsx)("div",{children:(0,F.jsx)(v.Z,{sx:{color:"#2F364E",paddingLeft:"5px",fontStyle:"italic",textTransform:"none"},variant:"overline",children:T()(null===ee||void 0===ee?void 0:ee.dateTaken).format("MMM D[,] YYYY [at] LT")})})]}),(0,F.jsxs)(g.ZP,{container:!0,sx:{padding:q.spacing(.25,0)},children:[(0,F.jsx)(v.Z,{sx:{paddingRight:"5px",fontWeight:800},variant:"overline",children:"Original Filename:"}),(0,F.jsx)("div",{children:(0,F.jsx)(v.Z,{sx:{color:"#2F364E",paddingLeft:"5px",fontStyle:"italic",textTransform:"none"},variant:"overline",children:null===ee||void 0===ee?void 0:ee.originalFilename})})]}),(0,F.jsxs)(g.ZP,{container:!0,sx:{padding:q.spacing(.25,0)},children:[(0,F.jsx)(v.Z,{sx:{paddingRight:"5px",fontWeight:800},variant:"overline",children:"File Size:"}),(0,F.jsx)("div",{children:(0,F.jsx)(v.Z,{sx:{color:"#2F364E",paddingLeft:"5px",fontStyle:"italic",textTransform:"none"},variant:"overline",children:(0,P.Z)(null===ee||void 0===ee||null===(i=ee.originalImage)||void 0===i?void 0:i.size)})})]}),(null===ee||void 0===ee||null===(I=ee.originalImage)||void 0===I?void 0:I.width)&&(null===ee||void 0===ee||null===(_=ee.originalImage)||void 0===_?void 0:_.height)&&(0,F.jsxs)(g.ZP,{container:!0,sx:{padding:q.spacing(.25,0)},children:[(0,F.jsx)(v.Z,{sx:{paddingRight:"5px",fontWeight:800},variant:"overline",children:"Image Size:"}),(0,F.jsx)("div",{children:(0,F.jsxs)(v.Z,{sx:{color:"#2F364E",paddingLeft:"5px",fontStyle:"italic",textTransform:"none"},variant:"overline",children:[null===ee||void 0===ee||null===(O=ee.originalImage)||void 0===O?void 0:O.width,"px x ",null===ee||void 0===ee||null===(R=ee.originalImage)||void 0===R?void 0:R.height,"px"]})})]}),(null===ee||void 0===ee||null===(M=ee.originalImage)||void 0===M||null===(U=M.exif)||void 0===U?void 0:U.cameraBrand)&&(0,F.jsxs)(g.ZP,{container:!0,sx:{padding:q.spacing(.25,0)},children:[(0,F.jsx)(v.Z,{sx:{paddingRight:"5px",fontWeight:800},variant:"overline",children:"Camera Brand:"}),(0,F.jsx)("div",{children:(0,F.jsx)(v.Z,{sx:{color:"#2F364E",paddingLeft:"5px",fontStyle:"italic",textTransform:"none"},variant:"overline",children:null===ee||void 0===ee||null===(L=ee.originalImage)||void 0===L||null===(z=L.exif)||void 0===z?void 0:z.cameraBrand})})]}),(null===ee||void 0===ee||null===(W=ee.originalImage)||void 0===W||null===(N=W.exif)||void 0===N?void 0:N.cameraModel)&&(0,F.jsxs)(g.ZP,{container:!0,sx:{padding:q.spacing(.25,0)},children:[(0,F.jsx)(v.Z,{sx:{paddingRight:"5px",fontWeight:800},variant:"overline",children:"Camera Model:"}),(0,F.jsx)("div",{children:(0,F.jsx)(v.Z,{sx:{color:"#2F364E",paddingLeft:"5px",fontStyle:"italic",textTransform:"none"},variant:"overline",children:null===ee||void 0===ee||null===(H=ee.originalImage)||void 0===H||null===(Y=H.exif)||void 0===Y?void 0:Y.cameraModel})})]}),!(null!==ee&&void 0!==ee&&ee.isMobileUpload)&&(0,F.jsx)(g.ZP,{container:!0,sx:{padding:q.spacing(.25,0)},children:(0,F.jsx)(v.Z,{sx:{paddingRight:"5px",fontWeight:800},variant:"overline",children:"Mobile Upload"})})]})})]})}),(0,F.jsx)(B,{handleSaveTags:function(e){var n=ee;if(n){var i={imageId:V,title:n.title,description:n.description,userTags:e};te({variables:i})}else{var t=[].concat((0,o.Z)($),[{id:(0,S.Z)(),message:"you are trying to delete an image that does not exist",severity:"error"}]);(0,y.sh)(t)}},currentImage:ee})]})}B.defaultProps={currentImage:void 0}},45576:function(e,n,i){i.d(n,{Z:function(){return f}});var t=i(61511),o=i(8586),r=i(99115),a=i(19860),l=i(9019),d=i(61113),s=i(47131),u=i(57829),c=i(16783),p=i(58467),m=i(28422),g=i(56179),v=i(46417);function f(e){var n=e.id,i=e.onClose,f=(0,a.Z)(),x=(0,t.x)(),h=(0,p.UO)(),b=h.userId,Z=h.albumId,j=x.readFragment({id:"Image:".concat(n),fragment:m.xDo}),w=(0,g.Z)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(l.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",sx:{padding:2},children:[(0,v.jsx)(d.Z,{sx:{fontSize:18,color:"#081230"},"data-test":"image-details-drawer",children:"Details"}),(0,v.jsx)(s.Z,{onClick:i,"data-test":"close",size:"large",children:(0,v.jsx)(o.Z,{})})]}),(0,v.jsxs)(l.ZP,{container:!0,direction:"row",alignItems:"center",sx:{borderTop:"1px solid #EAEAEA",borderBottom:"1px solid #EAEAEA",color:"#9195A4",padding:f.spacing(2)},children:[(0,v.jsx)(r.Z,{fontSize:"small"}),(0,v.jsx)("span",{style:{marginLeft:"10px"},"data-test":"username",children:b})]}),(0,v.jsxs)("div",{style:{padding:16},children:[(0,v.jsx)(d.Z,{sx:{color:"#9195A4"},children:"Album"}),w.allAlbums&&w.allAlbums.filter(().map((function(e){return(0,v.jsx)(d.Z,{sx:{marginTop:f.spacing(1),marginBottom:f.spacing(2),padding:f.spacing(1,0),textTransform:"unset",fontWeight:500,"& svg":{marginRight:f.spacing(1.5)}},color:"primary",children:e.title},e.id)})),(0,v.jsx)(u.Z,{mb:2,children:(0,v.jsx)(c.Z,{"data-test":"title",label:"Title",placeholder:"Title",variant:"outlined",fullWidth:!0,name:"title",value:(null===j||void 0===j?void 0:j.title)||"No Information Available",disabled:!0})}),(0,v.jsx)(u.Z,{mb:2,children:(0,v.jsx)(c.Z,{"data-test":"description",label:"Description",placeholder:"Description",variant:"outlined",multiline:!0,rows:4,fullWidth:!0,name:"description",value:(null===j||void 0===j?void 0:j.description)||"No Information Available",disabled:!0})})]})]})}},49872:function(e,n,i){i.d(n,{Z:function(){return s}});var t=i(63451),o=i(61689),r=i(47131),a=i(58467),l=i(91345),d=i(46417);function s(e){var n=e.albumId,i=e.username,s=e.color,u=e.onCompleted,c=e.disabled,p=(0,a.s0)(),m=(0,a.TH)(),g=(0,a.bS)("/u/:userId"),v=(0,a.bS)("/u/:userId/trash");return(0,d.jsx)(r.Z,{color:s,"aria-label":"Slideshow",disabled:c||!!v,onClick:function(){(0,l.nt)(null),p(g?"/u/".concat(i,"/slideshow"):"/u/".concat(i,"/a/").concat(n,"/slideshow"),{state:m.state}),u&&u()},id:"slideshow-button","data-test":"slideshow",children:(0,d.jsx)(o.Z,{title:"Start Slideshow",arrow:!0,children:(0,d.jsx)(t.Z,{})})})}s.defaultProps={color:"inherit",onCompleted:void 0,disabled:!1,albumId:void 0,username:void 0}},705:function(e,n,i){i.d(n,{Z:function(){return p}});var t=i(29439),o=i(47196),r=i(61689),a=i(46923),l=i(47131),d=i(47313),s=i(72399),u=i(45576),c=i(46417);function p(e){var n=e.ids,i=e.color,p=e.onCompleted,m=e.isPublic,g=(0,d.useState)(!1),v=(0,t.Z)(g,2),f=v[0],x=v[1],h=return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l.Z,{"aria-label":"Media Details",color:i,onClick:h,disabled:1!==n.length,id:"details-button","data-test":"details-button",children:(0,c.jsx)(r.Z,{title:"Details",arrow:!0,children:(0,c.jsx)(o.Z,{})})}),(0,c.jsx)(a.ZP,{anchor:"right",open:f,onClose:PaperProps:{sx:{width:"400px",maxWidth:"100%"}},children:m?(0,c.jsx)(u.Z,{id:n[0],onClose:h}):(0,c.jsx)(s.Z,{id:n[0],onClose:h})})]})}p.defaultProps={color:"inherit",onCompleted:void 0,isPublic:!1}},81952:function(e,n,i){i.d(n,{Z:function(){return f}});var t=i(29439),o=i(61511),r=i(96420),a=i(42996),l=i(61689),d=i(47131),s=i(16031),u=i(18248),c=i(28422),p=i(91345),m=i(25258),g=i(64641),v=i(46417);function f(e){var n=e.ids,i=e.color,f=e.onCompleted,x=e.isUnauthenticated,h=e.isPublic,b=(0,o.x)(),Z=(0,g.Z)(),j=Z.download,w=Z.downloadMultiple,I=(0,s.isEmpty)(n)||x&&n.length>1,T=(0,r.t)(c.yMU,{onError:function(){var e={id:(0,u.Z)(),message:"There was a problem downloading your image. Please try again later.",severity:"error"};(0,p.sh)([e])},onCompleted:function(e){var n=e.image;if(n){var i=n.id,t=n.originalFilename,o=n.title,r=n.image.url;j({title:o,originalFilename:t,url:r,id:i})}}}),k=(0,t.Z)(T,1)[0];return(0,v.jsx)(d.Z,{"aria-label":"Download Media",color:i,disabled:I,onClick:function(){if(1===n.length)if(h){var e,i,t=b.readFragment({id:"Image:".concat(n[0]),fragment:c.xDo}),o=null!==(e=null===t||void 0===t?void 0:t.image.url)&&void 0!==e?e:"",r=null!==(i=null===t||void 0===t?void 0:t.title)&&void 0!==i?i:n[0],a=null===t||void 0===t?void 0:t.originalFilename;if(!a)return(0,p.sh)([{id:(0,u.Z)(),message:"There was an error downloading your image",severity:"error"}]),void m.Z.error("Unable to find originalFilename for ".concat(t));j({title:r,originalFilename:a,url:o,id:n[0],isPublic:h})}else{var l={id:n[0]};k({variables:l})}else w({imageIds:n});f&&f()},"data-test":"download",id:"download-button",children:(0,v.jsx)(l.Z,{title:"Download",arrow:!0,children:(0,v.jsx)(a.Z,{})})})}f.defaultProps={color:"inherit",onCompleted:void 0,isUnauthenticated:!1,isPublic:!1}},12157:function(e,n,i){i.d(n,{Z:function(){return v}});var t=i(93433),o=i(29439),r=i(61511),a=i(96420),l=i(15472),d=i(47131),s=i(61689),u=i(16031),c=i(47313),p=i(28422),m=i(39437),g=i(46417);function v(e){var n=e.ids,i=void 0===n?[]:n,v=e.isDisabled,f=e.color,x=(0,r.x)(),h=(0,c.useRef)(x),b=(0,c.useState)([]),Z=(0,o.Z)(b,2),j=Z[0],w=Z[1],I=(0,c.useState)([]),T=(0,o.Z)(I,2),k=T[0],S=T[1],A=(0,m.Z)().createAlert,y=(0,a.t)(p.KTJ,{fetchPolicy:"no-cache",onError:onCompleted:function(e){var n=e.getDirectLinks.map(();if(n.push.apply(n,(0,t.Z)(k)),!(0,u.isEmpty)(n)){var i="https://printshoplab.printshoplab.com/prints/quick-order?source=".concat(n.join(";"));window.open(i,"_blank")}}}),P=(0,o.Z)(y,1)[0];(0,c.useEffect)((function(){var e=[],n=[];i.forEach((function(i){var t=h.current.readFragment({id:"Image:".concat(i),fragment:p.xDo});null!==t&&void 0!==t&&t.originalImage.url.toLowerCase().includes(".heic")?e.push(encodeURIComponent(t.originalImage.url)):null!==t&&void 0!==t&&t.isVideoType||n.push(i)})),w(n),S(e)}),[i]);return(0,g.jsx)(d.Z,{"aria-label":"Order Prints",disabled:(0,u.isEmpty)(i)||v,onClick:color:f,"data-test":"order-prints",id:"order-prints-button",children:(0,g.jsx)(s.Z,{title:"Buy Prints",arrow:!0,children:(0,g.jsx)(l.Z,{})})})}v.defaultProps={ids:[],isDisabled:!1,color:"inherit"}},12164:function(e,n,i){i.d(n,{Z:function(){return d}});var t=i(72668),o=i(16031),r=i(58467),a=i(28422),l=i(91345);function d(){var e,n,i=(0,r.UO)().albumId,d=(0,l.at)(),s=(0,t.a)(a.Xsc,{variables:{sortBy:{desc:!1}}}),u=s.data,c=s.loading,p=[null===d||void 0===d||null===(e=d.profile)||void 0===e?void 0:e.mobileAlbum],m=null!==u&&void 0!==u&&u.albumsReadAll?null===u||void 0===u?void 0:u.albumsReadAll:[],g=(0,o.sortBy)(m,"title"),v=(0,o.groupBy)(g,(function(e){return e.parentAlbumId?e.parentAlbumId:"parent"})),f=m.find(()||m.find((),x=f&&v[f.id]?v[f.id]:[],h=Boolean(f&&f.id===(null===d||void 0===d||null===(n=d.profile)||void 0===n?void 0:n.defaultAlbum)),b=m.find(();return{allAlbums:m,groupedAlbums:v,currentAlbum:f,currentIsRoot:h,currentSubAlbums:x,rootAlbum:b,loading:c,pinnedAlbums:p}}},56179:function(e,n,i){i.d(n,{Z:function(){return s}});var t=i(93433),o=i(1413),r=i(72668),a=i(16031),l=i(58467),d=i(28422);function s(){var e,n=(0,l.UO)(),i=(0,r.a)(d.flN,{variables:{username:n.userId}}),s=(0,r.a)(d.sSh,{variables:{owner:n.userId||"",sortBy:{field:d.hqH.DateTaken}}}),u=s.data,c=s.loading,p=null===(e=i.data)||void 0===e?void 0:e.getForeignUser.defaultAlbum,m=null!==u&&void 0!==u&&u.getAllPublicAlbums?null===u||void 0===u?void 0:u.getAllPublicAlbums:[],g=(0,a.groupBy)(m,();return{currentAlbum:m.find((function(e){return!n.albumId&&(null===e||void 0===e?void 0:e.id)===p||n.albumId===(null===e||void 0===e?void 0:e.id)})),loading:c,albumTree:function(e){var n,i={},r=[],a=e.map((function(e,n){return i[e.id]=n,(0,o.Z)((0,o.Z)({},e),{},{children:[]})}));return a.forEach((function(e){if(e.id!==e.parentAlbumId&&null!==e.parentAlbumId){if(e.parentAlbumId){var o=i[e.parentAlbumId],l=a[o];l?l.children=[].concat((0,t.Z)(l.children),[e]):r.push(e)}}else n=e})),n&&(n.children=[].concat((0,t.Z)(n.children),r)),n}(m),groupedAlbums:g,allAlbums:m}}},64641:function(e,n,i){i.d(n,{Z:);var t=i(1413),o=i(15861),r=i(64687),a=i.n(r),l=i(61511),d=i(44766),s=i(31881),u=i.n(s),c=i(19655),p=i(58585),m=i.n(p),g=i(16031),v=i(70816),f=i.n(v),x=i(18248),h=i(28297),b=i(28422),Z=i(39437),j=function(e,n){var i;if((0,g.isEmpty)(e))return n;var t=null===(i=n.split(".").pop())||void 0===i?void 0:i.toLowerCase();return"".concat(e,".").concat(t)};function w(){var e=(0,l.x)(),n=(0,Z.Z)().createAlert,i=function(){var e=(0,o.Z)(a().mark((function e(i){var o,r,l,s,p,g,v,b,Z,j;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n("Media is downloading...","info"),e.next=4,null===(o=(0,c.v0)().currentUser)||void 0===o?void 0:o.getIdToken();case 4:if(r=e.sent){e.next=7;break}throw new d.ZR("auth/session-expired","Image download failed. Session expired.");case 7:return l={Authorization:r,"X-Correlation-Id":(0,x.Z)()},s=(0,t.Z)({},i),e.next=11,u().post(h.ZP.api.download,s,{responseType:"blob",headers:l});case 11:p=e.sent,g=new Blob([p.data],{type:"application/zip"}),v=["archive","-",f()().valueOf(),".","zip"].join(""),m()(g,v,"application/zip"),n("Your Media has successfully downloaded.","success"),e.next=27;break;case 18:if(e.prev=18,e.t0=e.catch(0),Z=e.t0,j="There was an error while trying to download your media.",null===(b=Z.response)||void 0===b||!b.data){e.next=26;break}return e.next=25,Z.response.data.text();case 25:j=e.sent;case 26:n(j);case 27:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(n){return e.apply(this,arguments)}}(),r=function(){var i=(0,o.Z)(a().mark((function i(t){var o,r,l,d,s,c,p,g,v,f,x,h,Z;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=t.url,r=t.originalFilename,l=t.title,d=t.id,s=t.isPublic,c=void 0!==s&&s,i.prev=1,n("Media is downloading...","info"),p=j(l,r)||r,!c){i.next=8;break}g=o,i.next=18;break;case 8:return i.prev=8,i.next=11,e.query({query:b.KTJ,variables:{ids:[d]}});case 11:v=i.sent,g=v.data.getDirectLinks[0]||o,i.next=18;break;case 15:i.prev=15,i.t0=i.catch(8),n("There was a problem while trying to generate direct links.");case 18:if(!g){i.next=24;break}return i.next=21,u().get(g,{responseType:"blob"});case 21:f=i.sent,m()(f.data,p),n("Your media has successfully downloaded.","success");case 24:i.next=35;break;case 26:if(i.prev=26,i.t1=i.catch(1),h=i.t1,Z="There was an error while trying to download your media.",null===(x=h.response)||void 0===x||!x.data){i.next=34;break}return i.next=33,h.response.data.text();case 33:Z=i.sent;case 34:n(Z);case 35:case"end":return i.stop()}}),i,null,[[1,26],[8,15]])})));return ();return{download:r,downloadMultiple:i,findNameWithExtension:j}}}}]);