"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4179],{4976:(e,a,s)=>{s.r(a),s.d(a,{default:()=>Ka});s(86277);var t=s(50959),i=s(82187),r=s.n(i),l=s(75802),n=s(69736),o=s(90779),c=s(54189),u=s(11317),d=s(85648),m=s(20580),g=s(86696),y=s(62182),h=s(81639),v=s(16118),p=s(91643),x=s(57986),b=s(64222),L=s(66713),k=s(38174);const j="o2TlnuNKxRO5RnB9BpHB",f="q0Ke_aAvTcc4dO4wCHQt",C="UlKUfS_GcROZmofuafOW",I="I5LORTI1u3A6VoUvRCBf",N="TS85Qkpioa31wR0p4kzT",A="yL1DLXBc05CR_ACv_NhA",R="k5kRkUyoz9znqg_SGOVQ";var w=s(97583),P=s(93421),U=s(82857),T=s(11401),S=s(58206),D=s(99909),E=s(11527);let O=function(e){return e.SMALL="small",e.LARGE="large",e}({});const B=e=>{let{art:a,disabled:s=!1,LinkComponent:t,name:i,size:n=O.SMALL,type:o,uri:c}=e;const m=a?[a]:[],g=n===O.SMALL?(0,w.R)(o):function(e){switch(e){case D.n.SINGLE:return d.ag.get("track-page.from-the-single");case D.n.EP:return d.ag.get("track-page.from-the-ep");case D.n.COMPILATION:return d.ag.get("track-page.from-the-compilation");case D.n.ALBUM:default:return d.ag.get("track-page.from-the-album")}}(o),y=(0,l.s0)();return(0,E.jsxs)("div",{className:r()(j,{[C]:n===O.SMALL,[f]:s}),children:[(0,E.jsx)("div",{className:I,children:(0,E.jsx)(P.O,{images:m,size:T.m$.SIZE_80,title:i,type:U.p.ALBUM})}),(0,E.jsxs)("div",{className:N,children:[(0,E.jsx)(S.D,{variant:n===O.SMALL?"mestoBold":"finale",children:g}),(0,E.jsx)(t,{to:c,children:(0,E.jsx)(S.D,{as:"div",className:A,variant:"balladBold",dir:"auto",children:i})})]}),(0,E.jsx)("div",{onClick:()=>{y((0,u.EC)(c).toURLPath(!0))},className:R})]})};var F=s(23255),M=s(22527),_=s(29673),G=(s(70054),s(70526));let Y=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const z=(e,a)=>{switch(a.type){case"LYRICS_LOADING":return{...e,[a.uri]:{status:Y.LOADING}};case"LYRICS_LOADED":return{...e,[a.uri]:{status:Y.LOADED,data:a.response}};case"LYRICS_ERROR":return{...e,[a.uri]:{status:Y.UNAVAILABLE}};default:return(0,G.U)(a,`Unhandled lyrics action with type: ${a.type}`)}};var K=s(13188),$=s(85332);var q=s(71069);const H=async e=>{let{trackUri:a,api:s,imageForLyricsRequest:t,isPlayable:i}=e;if(!i)return{hasLyrics:!1};const r=(0,u.EC)(a);try{const e=await(async(e,a,s)=>(await e.build().withHost($.f).withPath(`/track/${encodeURIComponent(a)}/image/${encodeURIComponent(s)}`).withHeaders([{key:"App-Platform",value:"WebPlayer"}]).withQueryParameters({format:"json",vocalRemoval:!1}).withEndpointIdentifier("/track/{trackId}").send()).body)(s||K.b.getInstance(),r.id,t||"");return{hasLyrics:!0,syncType:e.lyrics.syncType,lyrics:e.lyrics.lines,provider:e.lyrics.provider,providerDisplayName:e.lyrics.providerDisplayName,providerLyricsId:e.lyrics.providerLyricsId,isRtlLanguage:e.lyrics.isRtlLanguage}}catch(l){if(l instanceof q.m&&404===l.status)return{hasLyrics:!1};throw l}},V={status:Y.LOADING},W={status:Y.UNAVAILABLE},J=t.createContext(void 0),Z=e=>{let{children:a,initialState:s={}}=e;const i=t.useReducer(z,s);return(0,E.jsx)(J.Provider,{value:i,children:a})},Q=e=>{let{uri:a,isAnonymous:s,imageForLyricsRequest:i,isPlayable:r}=e;const l=t.useContext(J);if(void 0===l)throw new Error("useTrackEntityLyrics must be used within a TrackEntityLyricsProvider");const[n,o]=l,c=a?n[a]:null;return(0,t.useEffect)((()=>{!c&&a&&(o({type:"LYRICS_LOADING",uri:a}),H({trackUri:a,imageForLyricsRequest:i,isPlayable:r}).then((e=>{o({type:"LYRICS_LOADED",uri:a,response:e})})).catch((()=>{o({type:"LYRICS_ERROR",uri:a})})))}),[o,i,r,c,a]),a&&(0,u.wj)(a)&&!s&&r?c||V:W};var X=s(80626),ee=s(5380),ae=s(8696),se=s(43104),te=(s(75930),s(65484),s(35174),s(96241),s(94722)),ie=s(32793),re=s(52476);const le="oTRKhYD0MZlNPm66W3Tw",ne="sc95MwPalcHwYGZ7j3xN",oe="zrCZCfYv4zZiB1HYv9i8",ce="RnlxIDmWcYTbbwNSJNjA",ue="SHkxfN1vy0wpRMP1hK7I",de="COXBS6zLyyxKNYuEAzjZ",me="sR5IpdOUvoUGYKlC9Dk1",ge="FHMr3WxshoYjZ7jd3YwI",ye="Evcwc4KM2tf9xrLbfB8B",he="x4_dsi31Cx2SO1L0uYIj",ve="euPDqfFEBILj9KHDNLC1",pe="x6FPRUKK40oDCPP7g6Ls",xe="k3SPcfaKewjfdYumDcGw",be="t9C7vRiN1OSC9uWfJEr0",Le="Onv6dO4lntCzKUqYa8PE",ke="vHNIIDpwcSLuHumlKDbY",je=e=>{let{richTrack:a}=e;const{search:s}=(0,l.TH)(),i=(0,t.useCallback)((()=>new URLSearchParams(s.slice(1)).get("highlight")||""),[s])(),{tracklistRef:r}=(0,re.W)(),n=a.albumOfTrack,o=(0,ie.Y)((null==n?void 0:n.uri)||""),{usePlayContextItem:c}=(0,M.n)({uri:o},{featureIdentifier:"album"}),u=(0,t.useMemo)((()=>({items:[],totalCount:0})),[]);return n?(0,E.jsx)("div",{ref:r,className:me,children:(0,E.jsx)(te.L,{ariaLabel:n.name,nrTracks:n.tracks.totalCount,albumUri:n.uri,highlightUri:i,discs:u,usePlayContextItem:c,hasHeaderRow:!1})}):null};var fe=s(38338),Ce=s(57562),Ie=s(97013),Ne=s(22795),Ae=s(15842),Re=s(66205),we=s(66819),Pe=s(13734),Ue=s(9443);const Te=t.memo((function(e){let{uri:a,togglePlay:s,isPlaying:i,isActive:r,spec:l,logger:n,backgroundColor:o,name:c,isPlayable:u,albumUri:h,artists:v}=e;const p=(0,Pe.o)(),L=(0,Ue.k)(),[k,j]=(0,Ne.Z)(a),f=(0,t.useCallback)((async()=>{p({targetUri:a,intent:k?"unsave":"save",type:"click"});const e=l.saveButtonFactory();n.logInteraction(k?e.hitRemoveLike({itemNoLongerLiked:a}):e.hitLike({itemToBeLiked:a}));try{await j(!k)}catch{}}),[p,a,k,l,n,j]),C=(0,t.useCallback)((()=>{const e=(0,b.aK)({isPlaying:i,isActive:r,spec:l.playButtonFactory(),logger:n,uri:a});s({loggingParams:e})}),[r,i,n,l,s,a]),I=(0,t.useCallback)((()=>{n.logInteraction(l.contextButtonFactory().hitUiReveal())}),[n,l]),N=(0,we.j)();return(0,E.jsx)(Ae.o,{backgroundColor:o,children:(0,E.jsxs)(Re.F,{children:[(0,E.jsx)(y.rn,{children:(0,E.jsx)(x.$,{onClick:C,isPlaying:i,disabled:!u,size:N,uri:a})}),(0,E.jsx)(y.rn,{children:(0,E.jsx)(fe.H,{isAdded:!!k,onClick:f,disabled:!L,size:N})}),(0,E.jsx)(Ce.o,{uri:a,isFollowing:!!k,onFollow:f,size:N}),(0,E.jsx)(m.yj,{menu:(0,E.jsx)(g.$,{uri:a,albumUri:h,artists:v}),onShow:I,children:(0,E.jsx)(Ie.z,{label:d.ag.get("more.label.context",c),size:N})})]})})})),Se="OH5mnpJIVCJozYM3raMt",De="etw0slM6uVrCi5RR3iDi",Ee=e=>{let{padded:a,providerDisplayName:s}=e;return s?(0,E.jsx)(S.D,{as:"p",dir:"auto",variant:"finale",className:`${Se} ${a?De:""}`,children:d.ag.get("web-player.lyrics.providedBy",s)}):null},Oe=e=>{let{uri:a,imageForLyricsRequest:s,isPlayable:t}=e;const{data:i}=Q({uri:a,imageForLyricsRequest:s,isPlayable:t});return null!=i&&i.hasLyrics?(0,E.jsx)(Ee,{providerDisplayName:i.providerDisplayName}):null};var Be=s(29132),Fe=s(43286);const Me="QhDsXG1Gmo7XmQWLggAO",_e="bZgWQj7UxvK8GYKWDA7N",Ge="AW61P3tnW5cKJCWtbhFh",Ye=e=>{let{buttonText:a,onSecondaryButtonClick:s,onPrimaryButtonClick:t,secondaryButtonText:i,text:r}=e;return(0,E.jsxs)("div",{className:Me,"data-testid":"static-activation-trigger",children:[(0,E.jsx)(n.x,{className:_e,variant:"bodyMediumBold",children:r}),(0,E.jsxs)("div",{className:Ge,children:[(0,E.jsx)(o.o,{onClick:s,semanticColor:"textBase",children:i}),(0,E.jsx)(Fe.D,{onClick:t,colorSet:"invertedLight",children:a})]})]})};var ze=s(60046);const Ke="T1nqQ4HEh3heHy4RCCKa",$e="L8zjshPVgUMXyZR4FtOk",qe="YMn1FWcFmOz9osBrNvhF",He="Inbyq3TnvKDOJtcKFTDQ",Ve="lWk5se4WETUOJwaEb8D6",We="i8DyQbWCmDV_8N5XGJQT",Je="t5WPFlGTY6GCd9UOFfLu",Ze="AGQ3wRyMVK1odq860qnT",Qe="ZX_r7uZgPgssaUplfpxT",Xe="qrqctaPu2XBpxsw23nPX",ea="XnWidTagai3nQwMPxIMF";var aa=s(57944),sa=s(81995);let ta=function(e){return e.SMALL="small",e.LARGE="large",e}({});const ia=e=>{const{disabled:a,images:s,LinkComponent:t,name:i,size:n,uri:o,enableI18nRoutes:c,enableI18nAdditionalPages:m}=e,g=n===ta.SMALL,y=(0,l.s0)(),h=(0,u.EC)(o),v=null==h?void 0:h.type,p=d.ag.getLocaleForURLPath(),x=(0,aa.S9)({localeFeatureFlag:c,entityFeatureFlag:m,urlLocale:p,entity:v,type:"link"});return(0,E.jsxs)("div",{className:r()($e,{[qe]:a}),"data-testid":"track-artist-link-card",children:[(0,E.jsx)(P.O,{shape:P.K.CIRCLE,images:s,size:T.m$.SIZE_80,title:i,type:U.p.ARTIST}),(0,E.jsxs)("div",{className:r()(Ve,{[We]:g}),children:[(0,E.jsx)(S.D,{variant:"mestoBold",className:He,children:d.ag.get("card.tag.artist")}),(0,E.jsx)(t,{to:o,children:(0,E.jsx)(S.D,{as:"div",dir:"ltr",className:Je,variant:"balladBold",children:i})})]}),(0,E.jsx)("div",{onClick:()=>{const e=null==h?void 0:h.toURL(`/${sa.F0}${p}/`);if(h){const a=x?e:h.toURLPath(!0);y(a)}},className:Ze})]})},ra=e=>{let{size:a=ta.LARGE,disabled:s=!1,enableI18nRoutes:i,enableI18nAdditionalPages:l,...n}=e;const[c,u]=(0,t.useState)(!1),m=(0,t.useCallback)((()=>{u(!c)}),[c]),g=n.artists;return(0,E.jsxs)("div",{"data-testid":"track-artist-link-card-container",children:[(0,E.jsx)("div",{className:Ke,children:g.map(((e,t)=>(0,E.jsx)("div",{className:r()({[Xe]:c&&t>5,[Qe]:t>5}),children:(0,E.jsx)(ia,{name:e.name,uri:e.uri,images:e.images,size:a,LinkComponent:n.LinkComponent,disabled:s,enableI18nRoutes:i,enableI18nAdditionalPages:l},e.id)},`${e.uri}-${t}`)))}),g.length>6&&(0,E.jsx)(o.o,{onClick:m,className:ea,children:(0,E.jsx)(S.D,{as:"p",variant:"violaBold",children:c?d.ag.get("show_less"):d.ag.get("mwp.search.artists.all")})})]})};var la=s(8509),na=s(75390);const oa="EaTxqhHk6J4ecKHwpY5m",ca="dUQl9yd5x_1oWk4L0Ntm",ua="xt5C47eHPYNiriMJxGnC",da=e=>{let{words:a,onObserve:s,lyricsInView:i}=e;const{ref:r,inView:l}=(0,na.YD)({threshold:0}),n=(0,t.useRef)(!1);return(0,t.useEffect)((()=>{i||(n.current=!1)}),[i]),(0,t.useEffect)((()=>{n.current||l&&(s({text:a,outOfView:!1}),n.current=!0)}),[l,s,a]),(0,E.jsx)(S.D,{ref:r,as:"p",dir:"auto",variant:"ballad",className:ua,children:a})};var ma=s(90171);const ga=e=>{let{data:a,eventSender:s,playbackId:i,uri:r}=e;const{lyrics:l=[],provider:n,providerLyricsId:o,syncType:c}=a,{ref:u,inView:m}=(0,na.YD)({threshold:0}),g=function(e){const{trackUri:a,provider:s,providerLyricsId:i,syncType:r,eventSender:l,playbackId:n}=e,o=(0,t.useRef)(null),[c,u]=(0,t.useState)(!1),[d,m]=(0,t.useState)(0),[g,y]=(0,t.useState)(!1),h=(0,t.useMemo)((()=>(0,ma.N)({lyrics_format:"track-page",track_uri:a,provider:s,provider_lyrics_id:i,sync_type:r,playback_id:n})),[s,i,r,a,n]);return(0,t.useEffect)((()=>{u(!1),m(0),y(!1),o.current=null}),[a]),(0,t.useEffect)((()=>{c&&n&&u(!1)}),[n]),(0,t.useEffect)((()=>{c||d>=140&&g&&(null==l||l.send(h),u(!0))}),[d,c,h,l,g]),(0,t.useCallback)((e=>{const{text:a,outOfView:s}=e;a&&a.length>1&&(m((e=>e+a.length)),c||null!==o.current||(o.current=setTimeout((()=>{y(!0)}),1500))),s&&(o.current&&clearTimeout(o.current),o.current=null,m(0))}),[m,c])}({trackUri:r,provider:n,providerLyricsId:o,syncType:c,eventSender:s,playbackId:i});return(0,t.useEffect)((()=>{m||g({outOfView:!0})}),[m,g]),(0,E.jsxs)("div",{className:oa,ref:u,children:[(0,E.jsx)(S.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:ca,children:d.ag.get("web-player.lyrics.title")}),l.map(((e,a)=>{let{words:s}=e;return(0,E.jsx)(da,{onObserve:g,words:s,lyricsInView:m},`lyrics-seo-line-${a}`)}))]})};var ya=s(65019),ha=s(81912),va=s(24071);const pa=e=>{let{uri:a,imageForLyricsRequest:s,isPlayable:t}=e;const{data:i}=Q({uri:a,imageForLyricsRequest:s,isPlayable:t}),r=(0,va.s4)(),{isPaused:l,currentTrackUri:n,playbackId:o}=(0,ya.Y)((e=>{var a;return{isPaused:null==e?void 0:e.isPaused,currentTrackUri:null==e||null===(a=e.item)||void 0===a?void 0:a.uri,playbackId:null==e?void 0:e.playbackId}}),ha.V),c=!l&&n===a;return i&&null!=i&&i.hasLyrics?(0,E.jsx)(ga,{data:i,uri:a,eventSender:r,playbackId:c?o:void 0}):null};var xa=s(71042),ba=s(87350);const La=e=>{const{albumArtists:a,columnCount:s,imageForLyricsRequest:i,isPlayable:l,uri:n}=e,o=s-2,c={"--column-count":s,"--left-column-end":o-2,"--right-column-start":o},{isAnonymous:u}=(0,Be.v9)(ba.Gg),m=(0,Ue.k)(),{data:g,status:y}=Q({uri:n,isAnonymous:u,imageForLyricsRequest:i,isPlayable:l}),h=!!g&&g.hasLyrics&&y!==Y.UNAVAILABLE||u,v=(0,Be.v9)(xa.br),p=(0,Be.v9)(xa.yE);return(0,E.jsxs)(t.Suspense,{fallback:null,children:[h&&(0,E.jsx)("div",{className:r()(oe,{[ce]:s>5}),style:{...c},"data-testid":"lyrics-container",children:u?(0,E.jsx)(Ye,{buttonText:d.ag.get("sign_up"),secondaryButtonText:d.ag.get("login"),text:d.ag.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:la.L6,onSecondaryButtonClick:la.h$}):(0,E.jsx)(pa,{uri:n,imageForLyricsRequest:i,isPlayable:l})}),(0,E.jsx)("div",{className:r()(le,{[ne]:s>5&&h}),style:{...c},children:(0,E.jsx)(ra,{artists:a,LinkComponent:ze.default,disabled:!m,enableI18nRoutes:v,enableI18nAdditionalPages:p})})]})};var ka=s(41038),ja=s(9108),fa=s(45438),Ca=s(73928),Ia=s(91991),Na=s(29770);const Aa=e=>{let{album:a,index:s,artistURI:t}=e;return(0,E.jsx)(fa.JL,{value:"card",index:s,children:(0,E.jsx)(Na.i,{index:s,latest:!1,showType:!0,...(0,Ia.B$)(a,t,a.name)})})};var Ra=s(70930);const wa=e=>{let{albums:a,artistName:s,artistId:t,artistUri:i,className:r}=e;return a?(0,E.jsx)(fa.JL,{value:"shelf/albums",children:(0,E.jsx)(Ra.P,{total:a.totalCount,title:d.ag.get("rich-page.popular-albums-by-artist",{artist:s}),seeAllUri:`${(0,Ia.GJ)(t)}:discography:${Ca.VZ.Album.toLowerCase()}`,seeAllLabel:d.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:r,children:(0,Ia.Hr)(a.items).map(((e,a)=>(0,E.jsx)(Aa,{album:e,index:a,artistURI:i},e.uri)))})}):null};var Pa=s(25959);const Ua=e=>{let{artistId:a,className:s,fansAlsoLike:t,title:i}=e;return(0,E.jsx)(fa.JL,{value:"shelf/fans-also-like",children:(0,E.jsx)(Ra.P,{total:t.length,title:i??d.ag.get("rich-page.fans-also-like"),seeAllUri:`${(0,Ia.GJ)(a)}:related`,className:s,children:t.map(((e,a)=>{var s;return(0,E.jsx)(fa.JL,{value:"card",index:a,children:(0,E.jsx)(Pa.I,{index:a,uri:e.uri,name:e.profile.name,images:(null===(s=e.visuals.avatarImage)||void 0===s?void 0:s.sources)||[]})},e.uri)}))})})};var Ta=s(80548);const Sa="ERm7dIKbVoqGwPb_lXPH",Da=e=>{let{artistName:a,artistUri:s,headerClassName:i,rowClassName:r,topTracks:l,topTracksTransformer:o,uri:c}=e;const u=(0,t.useMemo)((()=>null==l?void 0:l.items.map((e=>o(e,c)))),[null==l?void 0:l.items,o,c]),{usePlayContextItem:m}=(0,M.n)({uri:s},{featureIdentifier:"artist"});return u&&u.length>0?(0,E.jsxs)("div",{className:r,children:[(0,E.jsxs)("div",{children:[(0,E.jsx)(n.x,{variant:"bodySmall",className:Sa,children:d.ag.get("rich-page.popular-tracks")}),(0,E.jsx)(n.x,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:i,children:a})]}),(0,E.jsx)(Ta.k,{nrTracks:u.length,initialTracks:u,usePlayContextItem:m})]}):null},Ea=e=>{let{artistName:a,artistId:s,artistUri:t,className:i,releases:r,artistImages:l}=e;return r?(0,E.jsx)(fa.JL,{value:"shelf/releases",children:(0,E.jsx)(Ra.P,{total:10,title:d.ag.get("rich-page.popular-releases-by-artist",{artist:a}),seeAllUri:`${(0,Ia.GJ)(s)}:discography:${Ca.VZ.Album.toLowerCase()}`,seeAllLabel:d.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:i,listRowHeaderProps:l?{title:a,pretitle:d.ag.get("artist-page.popular"),media:(0,ee.o)(l,{desiredSize:48})||""}:null,children:r.items.map(((e,a)=>(0,E.jsx)(Aa,{album:e,index:a,artistURI:t},e.uri)))})}):null},Oa=e=>{let{artistId:a,artistName:s,artistUri:t,className:i,singles:r}=e;return r?(0,E.jsx)(fa.JL,{value:"shelf/singles-and-eps",children:(0,E.jsx)(Ra.P,{total:r.totalCount,title:d.ag.get("rich-page.popular-singles-and-eps-by-artist",{artist:s}),seeAllUri:`${(0,Ia.GJ)(a)}:discography:${Ca.VZ.Single.toLowerCase()}`,seeAllLabel:d.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:i,children:(0,Ia.Hr)(r.items).map(((e,a)=>(0,E.jsx)(Aa,{album:e,index:a,artistURI:t},e.uri)))})}):null};var Ba=s(62116),Fa=s(50540),Ma=s(13222),_a=s(44059);const Ga=e=>(e.items||[]).map((e=>{var a;return{name:e.profile.name,images:((null===(a=e.visuals.avatarImage)||void 0===a?void 0:a.sources)||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.uri,id:e.id}})),Ya=e=>(e||[]).map((e=>e.profile.name)),za=e=>{var a,s,i,l,u,p,j,f,C;let{uri:I,track:N}=e;const A=(0,Ue.k)(),R=(0,Fa.g)(),w=(0,Ba.k)({type:"locale",uri:I}),P=d.ag.getLocaleForTranslation(),T=parseInt(N.playcount||"0",10),{firstArtist:S,otherArtists:D,albumOfTrack:F,duration:G,name:Y}=N,z=null==F?void 0:F.coverArt,K=null==F?void 0:F.copyright.items,$=null==F?void 0:F.courtesyLine,{date:q,precision:H}=null!=F&&F.date?(0,ae.dR)(F.date):{date:void 0,precision:void 0},V=null==z||null===(a=z.extractedColors)||void 0===a?void 0:a.colorRaw.hex,W=((null==z?void 0:z.sources)||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),J={uri:(null==F?void 0:F.uri)||"",name:(null==F?void 0:F.name)||""},Q=Ya(S.items),te=Ya(D.items),re=Ga(S),le=Ga(D),ne=[...re,...le],oe=S.items[0],ce=N.albumOfTrack,me=null==ce||null===(s=ce.playability)||void 0===s?void 0:s.playable,fe={artistId:null==oe?void 0:oe.id,artistName:null==oe||null===(i=oe.profile)||void 0===i?void 0:i.name,artistUri:null==oe?void 0:oe.uri},Ce=null===(l=N.albumOfTrack)||void 0===l||null===(l=l.coverArt)||void 0===l?void 0:l.sources,Ie=(0,ee.o)(Ce||void 0,{desiredLabel:"large",desiredSize:600})??(null==Ce||null===(u=Ce[0])||void 0===u?void 0:u.url)??"",[Ne,Ae]=(0,t.useState)(!1),Re=(0,t.useCallback)((()=>{Ae(!Ne)}),[Ne]),we=D&&D.items.length>5,{spec:Pe,logger:Se}=(0,X.fU)(c.createDesktopTrackEventFactory,{data:{uri:I}}),De=N.playability.playable,Ee=(0,ie.Y)(I),{togglePlay:Be,isPlaying:Fe,isActive:Me}=(0,M.n)({uri:Ee},{featureIdentifier:"track"}),_e=(0,t.useCallback)((()=>(0,_.Zs)({i18n:d.ag,trackArtistsList:[...Q,...te].join(d.ag.getSeparator()),trackName:N.name,shouldLocalize:w})),[Q,te,w,N.name]),Ge=(0,t.useCallback)(((e,a)=>{Se.logInteraction(Pe.headerFactory().artistLinkFactory({position:a.position,uri:a.creator.uri}).hitUiNavigate({destination:a.creator.uri}))}),[Se,Pe]),Ye=(0,t.useCallback)((()=>{const e=(0,b.aK)({isPlaying:Fe,isActive:Me,spec:Pe.actionBarFactory().playButtonFactory(),logger:Se,uri:I});Be({loggingParams:e})}),[Me,Fe,Se,Pe,Be,I]),Ke=null==ce?void 0:ce.uri,$e=(0,t.useMemo)((()=>[...S.items,...D.items].map((e=>({uri:e.uri,name:e.profile.name})))),[S.items,D.items]),qe=(0,E.jsx)(g.$,{uri:I,albumUri:Ke,artists:$e});return(0,E.jsxs)("section",{"data-testid":"track-page",children:[(0,E.jsx)(ka.$,{children:_e()}),(0,E.jsxs)(y.gF,{backgroundColor:V,children:[(0,E.jsxs)(h.W,{children:[(0,E.jsx)(x.$,{size:"medium",onClick:Ye,disabled:!De,isPlaying:Fe,uri:I}),(0,E.jsx)(v.i,{text:Y,dragUri:I,dragLabel:Y})]}),(0,E.jsx)(m._P,{menu:qe,children:(0,E.jsx)(y.Oz,{dragUri:I,images:W,name:Y,placeholderType:"album"})}),(0,E.jsxs)(y.sP,{children:[(0,E.jsx)(n.x,{variant:"bodySmallBold",children:d.ag.get("song")}),(0,E.jsx)(m._P,{menu:qe,children:(0,E.jsx)(y.xd,{dragUri:I,dragLabel:Y,children:Y})}),(0,E.jsx)(y.QS,{creators:re,releaseDate:q,releaseDatePrecision:H,durationMilliseconds:G.totalMilliseconds,onCreatorClick:Ge,isTrack:!0,album:J,playcount:T})]})]}),(0,E.jsx)(Te,{uri:I,togglePlay:Be,isPlaying:Fe,isActive:Me,spec:(0,t.useMemo)((()=>Pe.actionBarFactory()),[Pe]),logger:Se,backgroundColor:V,name:Y,isPlayable:De,albumUri:Ke,artists:$e}),(0,E.jsxs)(Z,{children:[(0,E.jsxs)("div",{className:"contentSpacing",children:[(0,E.jsx)("div",{className:ue,children:(0,E.jsx)(k.T,{render:e=>{let{columnCount:a}=e;return(0,E.jsx)(La,{imageForLyricsRequest:Ie,albumArtists:ne,columnCount:a,uri:I,isPlayable:De})}})}),(0,E.jsx)(ja.y,{subtitle:d.ag.get("internal-link-recommender.based-on-this-song"),uri:N.uri,entityType:U.p.TRACK}),(0,E.jsx)(Da,{artistName:oe.profile.name,artistUri:oe.uri,headerClassName:ye,rowClassName:ue,topTracks:oe.discography.topTracks,topTracksTransformer:Ma.X7,uri:N.uri}),(0,E.jsx)(Ea,{className:ge,releases:null==oe||null===(p=oe.discography)||void 0===p?void 0:p.popularReleasesAlbums,...fe}),(0,E.jsx)(wa,{albums:null==oe||null===(j=oe.discography)||void 0===j?void 0:j.albums,className:ge,...fe}),(0,E.jsx)(Oa,{className:ge,singles:null==oe||null===(f=oe.discography)||void 0===f?void 0:f.singles,...fe}),D&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:ve,children:D.items.map(((e,a)=>{var s;return(0,E.jsx)(Ea,{className:r()(he,{[xe]:a>4,[be]:Ne&&a>4}),releases:e.discography.popularReleasesAlbums,artistName:e.profile.name,artistId:e.id,artistUri:e.uri,artistImages:null===(s=e.visuals.avatarImage)||void 0===s?void 0:s.sources},e.id)}))}),we&&(0,E.jsx)(o.o,{onClick:Re,className:Le,children:(0,E.jsx)(n.x,{as:"h2",variant:"bodySmallBold",children:Ne?d.ag.get("show_less"):d.ag.get("mwp.search.artists.all")})}),(0,E.jsx)(Ua,{artistId:oe.id,className:r()(ge,{[pe]:D.items.length>0}),fansAlsoLike:oe.relatedContent.relatedArtists.items,title:d.ag.get("artist-page.fansalsolike")})]}),ce&&(0,E.jsx)(B,{art:null===(C=ce.coverArt)||void 0===C?void 0:C.sources[0],disabled:!me||!A,LinkComponent:ze.default,name:ce.name,type:ce.type,size:O.LARGE,uri:ce.uri}),(0,E.jsx)(je,{richTrack:N})]}),(0,E.jsx)("div",{className:"contentSpacing",children:(0,E.jsxs)("div",{className:de,children:[q&&(0,E.jsx)(n.x,{as:"p",variant:"bodySmall",className:ke,children:(0,se.BI)((0,se.RX)(q),P,{year:"numeric",month:"long",day:"numeric"},H)}),(0,E.jsx)(L.k,{copyrights:K||[],courtesyLine:$}),!R&&(0,E.jsx)(Oe,{uri:I,imageForLyricsRequest:Ie,isPlayable:De})]})})]})]})},Ka=(0,t.memo)((function(){var e,a;const{trackId:s=""}=(0,l.UO)(),t=(0,u.tn)(s).toURI(),i=(0,_a.Q)({uri:t});return i.loading||i.error||"Track"!==(null===(e=i.data)||void 0===e||null===(e=e.trackUnion)||void 0===e?void 0:e.__typename)?(0,E.jsx)(p.h,{hasError:!i.loading,errorMessage:d.ag.get("track-page.error")}):(0,E.jsx)(F.fd,{surface:F.Tg.TRACK,uris:[t,(null===(a=i.data.trackUnion.albumOfTrack)||void 0===a?void 0:a.uri)??null],children:(0,E.jsx)(za,{uri:t,track:i.data.trackUnion})})}))},44059:(e,a,s)=>{s.d(a,{Q:()=>l});var t=s(23120),i=s(20069);const r=new t.o("getTrack","query","ae85b52abb74d20a4c331d4143d4772c95f34757bfa8c625474b912b9055b5c0",null),l=(e,a)=>(0,i.a)(r,e,a)}}]);
//# sourceMappingURL=xpui-routes-track-v2.f5f0b0cf.js.map