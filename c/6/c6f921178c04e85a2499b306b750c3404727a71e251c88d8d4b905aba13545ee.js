/*! For license information please see ata.js.LICENSE.txt */
(()=>{var t,e,r,n,i={9325:t=>{var e;self,e=()=>(()=>{"use strict";var t={372:t=>{t.exports=function(t,e){for(var r=0,n=t.length;r<n;r++){var i=t[r];if(e(i,r))return i}return null}},287:t=>{t.exports=function(t,e){var r;return void 0===e&&(e=0),function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];r||(r=!0,t.apply({},n),setTimeout((function(){return r=!1}),e))}}},524:(t,e,r)=>{var n=r(372),i=r(931);t.exports=function(t,e){void 0===e&&(e=document.cookie);var r=e.split("; "),o=n(r,(function(e){return i(e,t+"=")}));return o?o.split("=")[1]:""}},464:165:t=>{var e="https:";t.exports=function(t,r,n,i,o,s,a,c){void 0===n&&(n=-1),void 0===c&&(c=window.document);var u=[t+"="+r];if(n>-1){var l=new Date(Date.now()+1e3*n);u.push("expires="+l.toUTCString())}i&&u.push("path="+i),o&&u.push("domain="+o),s&&location.protocol===e&&u.push("secure"),a&&("None"===a?s&&location.protocol===e&&u.push("sameSite="+a):u.push("sameSite="+a)),c.cookie=u.join("; ")}},28:t=>{t.exports=function(t){void 0===t&&(t=window);var e=t.location;return e&&(e.protocol+"//"+(e.host||e.hostname)||"")}},168:t=>{var e="Shockwave Flash",r="application/x-shockwave-flash";.exports=function(t){void 0===t&&(t=window);var i="0",o=t.navigator;if(void 0!==o.plugins&&"object"==typeof o.plugins[e])(s=o.plugins[e].description)&&void 0!==o.mimeTypes&&o.mimeTypes[r]&&o.mimeTypes[r].enabledPlugin&&(i=[n((s=s.replace(/^.*\s+(\S+\s+\S+$)/,"$1")).replace(/^(.*)\..*$/,"$1")),n(s.replace(/^.*\.(.*)\s.*$/,"$1")),/[a-zA-Z]/.test(s)?n(s.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0].join("."));else if(void 0!==t.ActiveXObject)try{var s,a=new t.ActiveXObject("ShockwaveFlash.ShockwaveFlash");a&&(s=a.GetVariable("$version"))&&(i=[n((s=s.split(" ")[1].split(","))[0]),n(s[1]),n(s[2])].join("."))}catch(t){}return i}},933:t=>{t.exports=function(t){void 0===t&&(t=window);var e=t.navigator;return!(!e||!e.cookieEnabled)}},716:t=>{var e=function(){function t(){this.events={}}return t.prototype.on=function(t,e){if(this.events[t]){if(-1!==(r=this.events[t]).indexOf(e))throw new Error('This handler has already been subcribed for "'+t+'" event');r.push(e)}else{var r;(r=[]).push(e),this.events[t]=r}},t.prototype.off=function(t,e){var r=this.events[t],n=r.indexOf(e);-1!==n&&r.splice(n,1)},t.prototype.emit=function(t,e){void 0===e&&(e=[]);var r=this.events[t];r&&r.map((function(t){e?t.apply(void 0,e):t()}))},t}();t.exports=e},991:t=>{t.exports=function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return""+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},396:t=>{t.exports=function(){var t=0;return function(){return""+t++}}},471:(t,e,r)=>{var n=r(59);t.exports=function(t,e,r){return void 0===r&&(r=""),"<"+t+n(e)+">"+r+"</"+t+">"}},59:t=>{t.exports=function(t){var e=Object.keys(t),r=[];e.forEach((function(e){var n=t[e];void 0!==n&&r.push(e+'="'+n+'"')}));var n=""+r.join(" ");return n?" "+n:""}},563:t=>{t.exports=function(t){for(var e="",r=0,n=t;r<n.length;r++){var i=n[r],o=i.toLowerCase();e+=i===o?o:"-"+o}return e}},850:(t,e,r)=>{var n=r(563);t.exports=function(t){var e="";return Object.keys(t).forEach((function(r){return e+=n(r)+":"+t[r]+";"})),e}},184:278:(t,e,r)=>{var n=r(755),i=r(583);t.exports=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n(t)||i(t))throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),s=1;s<arguments.length;s++){var a=arguments[s];if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o}},79:(t,e,r)=>{var n=r(411),i=r(398),o=r(583);t.exports=function(t,e,r){if(!n(t))return r;if(!i(e))return r;try{var s=e.split(".").reduce((function(t,e){return t[e]}),t);return o(s)?r:s}catch(t){return r}}},931:t=>{t.exports=function(t,e){return t.indexOf(e)>-1}},923:(t,e,r)=>{var n=r(11),i=r(755),o=r(411),s=r(583);t.exports=function t(e,r,a){void 0===r&&(r=""),void 0===a&&(a=".");var c=Object.keys(e),u=[];return c.forEach((function(n){var c=e[n];if(o(c)){var l=r+n+a;u.push(t(c,l))}else{if(i(c)||s(c))return;var f=encodeURIComponent(r+n);u.push(f+"="+encodeURIComponent(c))}})),u.filter(n).join("&")}},63:696:t=>{t.exports=function(t){return"function"==typeof t}},248:(t,e,r)=>{var n=r(755);t.exports=function(t){return!n(t)&&"object"==typeof t&&Object.keys(t).length>0}},11:t=>{t.exports=function(t){return"string"==typeof t&&t.length>0}},755:411:t=>{t.exports=function(t){var e=typeof t;return"object"===e&&null!=t||"function"===e}},398:583:781:(t,e)=>{var r,n,i;Object.defineProperty(e,"__esModule",{value:!0}),e.ESafeFrameEvents=e.EHostEvents=e.EBaseTargets=void 0,(i=e.EBaseTargets||(e.EBaseTargets={})).TOP="_top",i.SELF="_self",i.BLANK="_blank",i.PARENT="_parent",(n=e.EHostEvents||(e.EHostEvents={})).BEFORE_HOOK="onBeforePosMsg",n.RENDER_END="onEndPosRender",n.FAILURE="onFailure",n.MESSAGE="onPosMsg",n.RENDER_START="onStartPosRender",n.SUCCESS="onSuccess",(r=e.ESafeFrameEvents||(e.ESafeFrameEvents={})).GEOMETRY_UPDATE="geom-update",r.FOCUS_CHANGE="focus-change",r.READ_COOKIE="read-cookie",r.WRITE_COOKIE="write-cookie",r.FAILURE="failed",r.ERROR="error"},106:function(t,e){var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};function n(){var t=window.innerHeight||0,e=window.innerWidth||0,r=window.pageYOffset||0,n=window.pageXOffset||0;return{t:r,l:n,b:t+r,r:e+n,w:e,h:t}}function i(t){if(!t)return{t:0,l:0,r:0,b:0,w:0,h:0,z:0};var e=t.getBoundingClientRect(),r=e.top+window.pageYOffset,n=e.left+window.pageXOffset,i=e.width,o=e.height;return{t:r,l:n,b:r+o,r:n+i,w:i,h:o,z:parseInt(getComputedStyle(t).getPropertyValue("z-index"),10)||0}}function o(t,e){var r=Math.min(e.r,t.r)-Math.max(e.l,t.l);r=(r=r<0?0:r)>e.w?e.w:r;var n=Math.min(e.b,t.b)-Math.max(e.t,t.t);n=(n=n<0?0:n)>e.h?e.h:n;var i=e.w>0?Number((r/e.w).toFixed(2)):0,o=e.h>0?Number((n/e.h).toFixed(2)):0;return{iv:Number((r*n/(e.w*e.h)).toFixed(2))||0,xiv:i,yiv:o}}Object.defineProperty(e,"__esModule",{value:!0}),e.calcElementGeometry=e.calcElementVisiblePercents=e.getSafeFrameBoxGeometricInfo=e.getWindowBoxGeometricInfo=void 0,e.getWindowBoxGeometricInfo=n,e.getSafeFrameBoxGeometricInfo=i,e.calcElementVisiblePercents=o,e.calcElementGeometry=function(t){var e=document.getElementById(t),s=n(),a=i(e),c=o(s,a);return{exp:r(r({},a),{xs:0,yx:0}),self:r(r({},a),c),win:s}}},785:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(168)),o=n(r(933)),s=n(r(472));e.default=function(){return{ck_on:Number((0,o.default)()),flash_ver:(0,i.default)(),sf_ver:(0,s.default)()}}},395:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=,728:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(184)),o=n(r(278)),s=n(r(79)),a=n(r(696)),c=n(r(11)),u=n(r(411)),l=n(r(472));e.default=function(t){if(this.cdn="",this.ver=(0,l.default)(),this.renderFile="",this.hostFile="",this.extFile="",this.bootFile="",this.to=3e4,this.positions={},this.auto=!1,this.msgFile="",this.debug=!1,this.onBeforePosMsg=i.default,this.onEndPosRender=i.default,this.onFailure=i.default,this.onPosMsg=i.default,this.onStartPosRender=i.default,this.onSuccess=i.default,(0,u.default)(t)&&(0,o.default)(this,t),this.auto&&(0,c.default)(this.bootFile)){var e=(0,s.default)(window,"$sf.host.boot");e&&(0,a.default)(e)&&e()}}},694:function(t,e,r){var n,i=this&&this.__extends||(n=,o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r(287)),a=r(464),c=o(r(28)),u=o(r(716)),l=o(r(991)),f=o(r(850)),d=o(r(184)),p=o(r(278)),h=o(r(931)),v=o(r(63)),y=o(r(11)),g=r(781),m=r(106),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.focus=!1,e.guids={},e.subscribed=!1,e.renderedPositionsMap={},e.getConfig=e.setConfig=e.boot=function(){return!0},e.status=e.nuke=function(t){var r=e.getConfig(),n=r.positions||{};"*"===t&&(t=Object.keys(n)),(0,v.default)(t)||(t=[t]),t.forEach((function(t){e.nukePositionById(t),delete r.positions[t],delete e.renderedPositionsMap[t]})),e.setConfig(r)},e.get=e.render=function(t){e.subscribed||e.setupListeners(),(0,v.default)(t)||(t=[t]),t.forEach(e.renderPosition)},e.nukePositionById=function(t){var e=document.getElementById(t);if(e){var r=e.parentElement;r.removeChild(e),r.removeAttribute("style")}},e.renderPosition=function(t){var r=t.id,n=e.getConfig(),i=n.positions[r];if(i){var o=i.w,s=i.h,a=i.z,c=i.dest,u=document.getElementById(c);if(u){u.setAttribute("style",e.getDestStyles(o,s,a));var l=e.setRenderingTimeout(r,n.to);e.emit(g.EHostEvents.RENDER_START,[r]);var f=e.createIframeForPosition(t,i,n,();u.appendChild(f)}}},e.createIframeForPosition=function(t,r,n,i){void 0===i&&(i=d.default);var o=t.id,s=r.w,a=r.h,c=r.z,u=r.dest,l=e.getRenderParams(t,n,u),f=document.createElement("iframe"),p=e.getFrameStyles(s,a,c);return f.src=n.renderFile,f.referrerPolicy="unsafe-url",f.id=o,f.name=JSON.stringify(l),e.setIframeAttributes(f,p),f.onload=function(){e.setGuidForPosition(o,l.guid),i()},f},e.setRenderingTimeout=function(t,r){return window.setTimeout((function(){e.nuke(t),e.emit(g.EHostEvents.MESSAGE,["render-timeout",t]),e.emit(g.EHostEvents.FAILURE,[t])}),r)},e.getDestStyles=function(t,e,r){return(0,f.default)({height:"".concat(e,"px"),position:"relative",visibility:"inherit",width:"".concat(t,"px"),"z-index":r})},e.getFrameStyles=function(t,e,r){return(0,f.default)({border:"none",display:"none",height:"".concat(e,"px"),left:0,margin:0,position:"absolute",top:0,visibility:"hidden",width:"".concat(t,"px"),"z-index":r})},e.getRenderParams=function(t,r,n){return{conf:t.config,geom:e.calcGeometry(n),guid:(0,l.default)(),has_focus:e.getFocus(),host:(0,c.default)(),html:t.html,meta:t.meta,src:r.renderFile}},e.setIframeAttributes=function(t,e){void 0===e&&(e=""),t.setAttribute("frameborder","no"),t.setAttribute("scrolling","no"),t.setAttribute("allowtranparency","true"),t.setAttribute("hidefocus","true"),t.setAttribute("tabindex","-1"),t.setAttribute("marginwidth","0"),t.setAttribute("marginheight","0"),t.setAttribute("style",e)},e.handleFrameRendered=function(t,r,n){e.renderedPositionsMap[r]=!0,clearTimeout(n),t.removeAttribute("name"),t.style.visibility="inherit",t.style.display="block",e.emit(g.EHostEvents.RENDER_END,[r]),e.emit(g.EHostEvents.SUCCESS,[r])},e.handleMessage=function(t){try{var r=e.getSafeFrameRenderFile();if((0,h.default)(r,t.origin)){var n=JSON.parse(t.data);e.isValidMessageEvent(t.source,n)&&(t.stopImmediatePropagation(),e.processMessage(n))}}catch(t){}},e.isValidMessageEvent=function(t,r){var n=r.id,i=r.guid;if(!n||!i)return!1;var o=document.getElementById(n);if(o){var s=o.contentWindow,a=e.getGuidForPosition(n);return s===t&&i===a}return!1},e.processMessage=function(t){var r=t.cmd,n=t.id,i=t.params.info||{};switch(r){case g.ESafeFrameEvents.READ_COOKIE:var o=i.cookie,s=void 0===o?"":o;e.tryToReadCookie(n,s);break;case g.ESafeFrameEvents.WRITE_COOKIE:var a=i.cookie,c=(s=void 0===a?"":a,i.value),u=void 0===c?"":c;e.tryToWriteCookie(n,s,u)}},e.calcGeometry=e.handleFocus=e.handlerBlur=e.getFocus=e.setFocus=function(t){void 0===t&&(t=!1),e.focus=t,e.fireFocusChange(e.focus)},e.fireFocusChange=function(t){var r=e.getConfig();r&&Object.keys(r.positions||{}).forEach((function(r){var n=g.ESafeFrameEvents.FOCUS_CHANGE;e.sendResponse({cmd:n,guid:e.getGuidForPosition(r),id:r,params:{cmd:n,info:t}})}))},e.fireGeomUpdate=function(){var t=e.getConfig();t&&Object.keys(t.positions||{}).forEach((function(t){var r=e.calcGeometry(t),n=g.ESafeFrameEvents.GEOMETRY_UPDATE;e.sendResponse({cmd:n,guid:e.getGuidForPosition(t),id:t,params:{cmd:n,info:r}})}))},e.sendResponse=function(t){var r=t.params,n=t.id;if(e.isPositionRendered(n)){e.emit(g.EHostEvents.MESSAGE,[n,r.cmd,{info:r.info}]);var i=document.getElementById(n);i&&i.contentWindow.postMessage(JSON.stringify(t),e.getSafeFrameRenderFile())}},e.getGuidForPosition=e.setGuidForPosition=e.tryToReadCookie=function(t,r){var n,i,o=g.ESafeFrameEvents.READ_COOKIE,s=g.ESafeFrameEvents.FAILURE;if((0,y.default)(r)){var c=e.getConfig().positions[t].supports;c&&c[o]?(n=(0,a.get)(r),s=o):i="No permissions for command execution"}else i="Wrong data format";e.sendResponse({cmd:s,guid:e.getGuidForPosition(t),id:t,params:{cmd:o,info:n,reason:i}})},e.tryToWriteCookie=function(t,r,n){var i,o,s=g.ESafeFrameEvents.WRITE_COOKIE,c=g.ESafeFrameEvents.FAILURE;if((0,y.default)(r)&&(0,y.default)(n)){var u=e.getConfig().positions[t].supports;u&&u[s]?((0,a.set)(r,n),(0,a.get)(r)===n?(i=n,c=s):o="Failure when tried set cookie data"):o="No permissions for command execution"}else o="Wrong data format";e.sendResponse({cmd:c,guid:e.getGuidForPosition(t),id:t,params:{cmd:s,info:i,reason:o}})},e.getSafeFrameRenderFile=e}return i(e,t),e.prototype.setupListeners=function(){window.addEventListener("message",this.handleMessage),window.addEventListener("resize",(0,s.default)(this.fireGeomUpdate,1e3)),window.addEventListener("scroll",(0,s.default)(this.fireGeomUpdate,1e3)),window.addEventListener("focus",this.handleFocus),window.addEventListener("blur",this.handlerBlur),this.subscribed=!0},e.prototype.isPositionRendered=e}(u.default);e.default=b},327:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(696)),o=n(r(248)),s=r(781),a=n(r(728)),c=n(r(694)),u=n(r(35)),l=n(r(40)),f=n(r(599));e.default=function(){var t=this;this.internalAPI=new c.default,this.boot=function(){return t.internalAPI.boot()},this.status=function(e){return t.internalAPI.status(e)},this.nuke=function(e){t.internalAPI.nuke(e)},this.get=this.render=function(e){t.internalAPI.render(e)},this.Config=function(e){var r=t.getGlobalConfig();if((0,o.default)(r))return r;for(var n in r=new a.default(e),s.EHostEvents)if(s.EHostEvents.hasOwnProperty(n)){var c=n,u=s.EHostEvents[c],l=r[u];(0,i.default)(l)&&t.internalAPI.on(u,l)}return t.updateGlobalConfig(r),r},this.PosConfig=function(e,r,n){var i=t.getGlobalConfig();!i&&n&&(n=t.Config(n));var o=new u.default(e,r,n);return i.positions[o.id]=o,t.updateGlobalConfig(i),o},this.PosMeta=this.Position=function(e,r,n,i){var s;return i||(s=(0,o.default)(e)?e.id:e)&&((i=t.getGlobalConfig().positions[s])||(i=t.PosConfig({id:s},null))),new l.default(e,r,n,i)},this.getGlobalConfig=this.updateGlobalConfig=},35:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(396)),o=n(r(278)),s=n(r(923)),a=n(r(11)),c=n(r(411)),u=r(781),l=n(r(395)),f=(0,i.default)(),d=(0,l.default)(),p=function(){function t(t,e,r){this.bg="transparent",this.css="",this.dest="",this.h=0,this.id="safeframe-pos-".concat(f()),this.size="",this.tgt=u.EBaseTargets.BLANK,this.w=0,this.z=0,this.supports=d,(0,c.default)(t)?(0,o.default)(this,t):(0,a.default)(t)&&(this.id=t),(0,a.default)(e)&&(this.dest=e);var n=this,i=n.w,s=n.h,l=n.size;if(i&&s)this.size="".concat(i,"x").concat(s);else if((0,a.default)(l)){var p=l.split(/x/gi);this.w=parseFloat(p[0])||0,this.h=parseFloat(p[1])||0}this.supports=(0,o.default)({},d,this.supports)}return t.prototype.toString=function(){return(0,s.default)(this)},t}();e.default=p},599:function(t,e,r){var n=this&&this.__assign||i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(r(248)),s=i(r(11)),a=i(r(785)),c=function(){function t(t,e,r){var i;this.shared=n({},(0,a.default)()),(0,o.default)(t)&&(this.shared=n(n({},this.shared),t)),(0,s.default)(e)&&(0,o.default)(r)&&(this.nonShared=((i={})[e]=r,i)),Object.freeze(this)}return t.prototype.value=function(t,e){var r;if((0,s.default)(t)){var n=this.shared,i=this.nonShared;r=(0,s.default)(e)?e in i?i[e][t]:void 0:n[t]}return r},t}();e.default=c},40:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(396)),o=n(r(471)),s=n(r(278)),a=n(r(923)),c=n(r(248)),u=n(r(11)),l=n(r(411)),f=n(r(599)),d=(0,i.default)(),p=function(){function t(t,e,r,n){this.config={},this.html="",this.id="safeframe-pos-".concat(d()),this.meta=new f.default,arguments.length<2||((0,l.default)(t)?(0,s.default)(this,t):(0,u.default)(t)&&(this.id=t),(0,u.default)(e)?this.html=e:this.src&&(this.html=(0,o.default)("script",{src:this.src})),(0,c.default)(r)&&(this.meta=r),(0,c.default)(n)&&(this.config=n))}return t.prototype.toString=t}();e.default=p},336:function(t,e,r){var n,i=(this&&this.__importDefault||(r(327));try{window===top&&(n={host:new i.default,info:{errs:[],list:[]}})}catch(t){}t.exports=n},472:(t,e,r)=>{r.r(e),r.d(e,{default:()=>i});const n={i8:"0.0.10"};},e={};eturn r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(336)})(),t.exports=e()},8611:t=>{"use strict";t.exports=,8267:t=>{"use strict";t.exports=,7372:t=>{"use strict";t.exports=function(t,e){for(var r=0,n=t.length;r<n;r++){var i=t[r];if(e(i,r))return i}return null}},3716:t=>{"use strict";.exports=function(t){return t.filter(e)}},746:(t,e,r)=>{"use strict";var n,i=r(2716),o=r(8696);!n||(n={}));var s=function(){function t(t,e){var r=this;this.status=n.PENDING,this.emitter=new i,this.onFulfilled=function(t){r.status===n.PENDING&&(r.status=n.RESOLVED,r.emitter.emit(n.RESOLVED,[t]))},this.onRejected=function(t){r.status===n.PENDING&&(r.status=n.REJECTED,r.emitter.emit(n.REJECTED,[t]))};var o=e?o():setTimeout(o,0)}return t.resolve=t.reject=t.prototype.then=function(e,r){var i=this;return new t((function(s,a){i.emitter.on(n.RESOLVED,(function(r){if(o(e)){var n=e(r);n instanceof t?n.then(s,a):s(n)}else s(r)})),i.emitter.on(n.REJECTED,(function(e){if(o(r)){var n=r(e);n instanceof t?n.then(s,a):s(n)}else a(e)}))}),!0)},t.prototype.catch=function(e){var r=this;return new t((function(i){o(e)&&r.emitter.on(n.REJECTED,(function(r){var n=e(r);n instanceof t?n.then(i):i(n)})),r.emitter.on(n.RESOLVED,i)}),!0)},t}();t.exports=s},453:t=>{"use strict";t.exports=function(t,e){var r;return void 0===e&&(e=0),function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=function(){r=null,t.apply({},n)};e?(clearTimeout(r),r=window.setTimeout(o,e)):o()}}},287:t=>{"use strict";t.exports=function(t,e){var r;return void 0===e&&(e=0),function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];r||(r=!0,t.apply({},n),setTimeout((,e))}}},2524:(t,e,r)=>{"use strict";var n=r(7372),i=r(6931);t.exports=function(t,e){void 0===e&&(e=document.cookie);var r=e.split("; "),o=n(r,();return o?o.split("=")[1]:""}},165:t=>{"use strict";var e="https:";t.exports=function(t,r,n,i,o,s,a,c){void 0===n&&(n=-1),void 0===c&&(c=window.document);var u=[t+"="+r];if(n>-1){var l=new Date(Date.now()+1e3*n);u.push("expires="+l.toUTCString())}i&&u.push("path="+i),o&&u.push("domain="+o),s&&location.protocol===e&&u.push("secure"),a&&("None"===a?s&&location.protocol===e&&u.push("sameSite="+a):u.push("sameSite="+a)),c.cookie=u.join("; ")}},5328:t=>{"use strict";t.exports=function(t){var e=new Blob([t],{type:"text/javascript"});return new Worker(window.URL.createObjectURL(e))}},8910:t=>{"use strict";t.exports=function(){return window.navigator&&window.navigator.userAgent||""}},1087:t=>{"use strict";t.exports=,6633:(t,e,r)=>{"use strict";var n=r(8910),i=r(1087);t.exports=function(){var t=n(),e=i();return/Chrome/.test(t)&&/Google Inc/.test(e)}},8010:(t,e,r)=>{"use strict";var n=r(312);t.exports=function(t,e){if(t.closest)return t.closest(e);var r=t;do{if(n(r,e))return r;r=r.parentElement||r.parentNode}while(null!==r&&1===r.nodeType);return null}},5657:(t,e,r)=>{"use strict";var n=r(8611);t.exports=,312:t=>{"use strict";t.exports=function(t,e){var r=t.matches||t.msMatchesSelector||t.webkitMatchesSelector;return!!r&&r.call(t,e)}},7265:(t,e,r)=>{"use strict";var n=r(8267),i=r(5762);t.exports=function(t,e){if(0!==e.length){var r=t.className,o=i(r).filter(();t.setAttribute("class",o.join(" "))}}},2716:t=>{"use strict";var e=function(){eturn t.prototype.on=function(t,e){if(this.events[t]){if(-1!==(r=this.events[t]).indexOf(e))throw new Error('This handler has already been subcribed for "'+t+'" event');r.push(e)}else{var r;(r=[]).push(e),this.events[t]=r}},t.prototype.off=function(t,e){var r=this.events[t],n=r.indexOf(e);-1!==n&&r.splice(n,1)},t.prototype.emit=function(t,e){void 0===e&&(e=[]);var r=this.events[t];r&&r.map((function(t){e?t.apply(void 0,e):t()}))},t}();t.exports=e},5580:t=>{"use strict";t.exports=function(t,e,r){var n=t.addEventListener(e,n)}},7027:t=>{"use strict";t.exports=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length-1;return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.reduceRight((function(t,n,i){return i===r?n.apply(void 0,e):n(t)}),void 0)}}},8991:t=>{"use strict";t.exports=,3396:t=>{"use strict";t.exports=,7818:(t,e,r)=>{"use strict";var n=r(11);t.exports=function(t,e){if(void 0===e&&(e=window),n(t)){var r=e.document,i=r.createElement("style");return r.body.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(r.createTextNode(t)),i}}},1059:t=>{"use strict";t.exports=function(t){var e=Object.keys(t),r=[];e.forEach((function(e){var n=t[e];void 0!==n&&r.push(e+'="'+n+'"')}));var n=""+r.join(" ");return n?" "+n:""}},563:t=>{"use strict";t.exports=function(t){for(var e="",r=0,n=t;r<n.length;r++){var i=n[r],o=i.toLowerCase();e+=i===o?o:"-"+o}return e}},4850:(t,e,r)=>{"use strict";var n=r(563);t.exports=function(t){var e="";return Object.keys(t).forEach((function(r){return e+=n(r)+":"+t[r]+";"})),e}},4282:(t,e,r)=>{"use strict";var n=r(3396),i=r(9184),o=r(8696),s={},a=function(){function t(){var e=this;this.addEventListener=i,this.removeEventListener=i,this.setRequestHeader=i,this.overrideMimeType=i,this.onTimeout=function(){o(e.ontimeout)&&e.ontimeout(),e.destroy()},this.onError=function(){o(e.onerror)&&e.onerror(),e.destroy()},this.onLoad=function(){e.readyState=4,e.responseText=e.xdr.responseText,e.status=200,o(e.onreadystatechange)&&e.onreadystatechange(),o(e.onload)&&e.onload(),e.destroy()},this.id=t.getID(),this.xdr=new window.XDomainRequest,this.xdr.onerror=this.onError,this.xdr.ontimeout=this.onTimeout,this.xdr.onprogress=i,this.xdr.onload=this.onLoad,s[this.id]=this.xdr}return t.prototype.dispatchEvent=t.prototype.open=t.prototype.send=function(t){var e=this;this.xdr.timeout=this.timeout,setTimeout((,0)},t.prototype.getResponseHeader=function(){return""},t.prototype.getAllResponseHeaders=function(){return""},t.prototype.abort=t.prototype.destroy=t.getID=n(),t}();t.exports=a},7861:(t,e,r)=>{"use strict";var n=r(4282),i=r(7621);t.exports=function(t,e){window.XDomainRequest?i(t,new n,e):i(t,new XMLHttpRequest,e)}},4518:(t,e,r)=>{"use strict";var n=r(9184),i=r(8696);t.exports=function(t,e,r){var o,s,a=document.createElement("script"),c=e instanceof HTMLElement&&e;if(o=i(e)?e:i(r)?r:n,a.src=t,a.onload=a.onerror=function(){o("error")},c)s=c;else{var u=document.getElementsByTagName("head");s=u&&0!==u.length?u[0]:document.documentElement}s.appendChild(a)}},7973:(t,e,r)=>{"use strict";var n=r(8696);t.exports=function(t,e){var r,i=t.uri,o=t.timeout,s=new Image,a=function(){clearTimeout(r),s.onerror=null,s.onload=null,s.onerror=null};o&&(r=window.setTimeout((function(){a(),n(e)&&e("timeout")}),o)),s.onload=function(){a(),n(e)&&e(void 0)},s.onerror=function(){a(),n(e)&&e("error")},s.src=i}},7621:(t,e,r)=>{"use strict";var n=r(2810);t.exports=function(t,e,r){var i=t.method,o=t.data,s=t.headers,a=t.timeout,c=t.withCredentials,u=t.queryParams,l=t.url;if(u&&(l=n(l,u)),e.open(i,l),s)for(var f in s)s.hasOwnProperty(f)&&e.setRequestHeader(f,s[f]);c&&(e.withCredentials=Boolean(c)),a&&(e.timeout=a),e.onreadystatechange=function(){4===e.readyState&&(e.status>=200&&e.status<300||304===e.status?r&&r(void 0,e.responseText):0!==e.status&&r&&r("error: "+e.status))},e.onerror=function(){r("error")},e.ontimeout=function(){r("timeout")},e.onabort=function(){r("aborted")},e.send(o)}},9184:3278:(t,e,r)=>{"use strict";var n=r(4755),i=r(583);t.exports=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n(t)||i(t))throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),s=1;s<arguments.length;s++){var a=arguments[s];if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o}},1348:(t,e,r)=>{"use strict";var n=r(8379);t.exports=function(t){var e=[];return n(t,(function(t,r){return e.push([String(r),t]),!0})),e}},8379:t=>{"use strict";t.exports=function(t,e){for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r,t))return}},5079:(t,e,r)=>{"use strict";var n=r(8411),i=r(8398),o=r(583);t.exports=function(t,e,r){if(!n(t))return r;if(!i(e))return r;try{var s=e.split(".").reduce((,t);return o(s)?r:s}catch(t){return r}}},280:9830:t=>{"use strict";t.exports=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new Promise((function(r,n){t.apply(null,e.concat([))}))}}},6931:t=>{"use strict";t.exports=,7639:t=>{"use strict";t.exports=,6723:t=>{"use strict";t.exports=,5762:t=>{"use strict";t.exports=,693:(t,e,r)=>{"use strict";var n=r(6931);t.exports=function(t,e,r){var i=e+"="+r;return t+(n(t,"?")?"&":"?")+i}},2810:(t,e,r)=>{"use strict";var n=r(6931),i=r(3809);t.exports=function(t,e){var r=i(e);return 0===r.length?t:t+(n(t,"?")?"&":"?")+r}},3809:(t,e,r)=>{"use strict";var n=r(4755),i=r(583);t.exports=function(t){var e=Object.keys(t),r=[];return e.forEach((function(e){var o=t[e];n(o)||i(o)||r.push(e+"="+encodeURIComponent(t[e]))})),r.join("&")}},8063:7836:t=>{"use strict";t.exports=function(t){return"boolean"==typeof t}},8696:t=>{"use strict";t.exports=function(t){return"function"==typeof t}},3248:(t,e,r)=>{"use strict";var n=r(4755);t.exports=function(t){return!n(t)&&"object"==typeof t&&Object.keys(t).length>0}},11:t=>{"use strict";t.exports=,4755:t=>{"use strict";t.exports=,8437:t=>{"use strict";t.exports=function(t){return"number"==typeof t}},8411:t=>{"use strict";t.exports=function(t){var e=typeof t;return"object"===e&&null!=t||"function"===e}},8398:583:t=>{"use strict";t.exports=,7633:8188:9074:9662:(t,e,r)=>{"use strict";var n=r(614),i=r(6330),o=TypeError;t.exports=function(t){if(n(t))return t;throw o(i(t)+" is not a function")}},9483:6077:1223:5787:9670:7556:1318:2092:1589:206:7475:5417:7072:4326:648:5631:9320:7710:9920:8544:6178:8880:9114:6135:7045:8052:9190:3072:9781:4154:317:7871:3823:1528:6833:(t,e,r)=>{"use strict";var n=r(8113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},5268:1036:8113:7392:748:1060:5392:2914:2109:7293:6677:2104:9974:4374:6916:6530:5668:1470:1702:5005:1246:4121:8173:7854:2597:3501:t=>{"use strict";t.exports={}},842:490:4664:8361:9587:2788:8340:2423:9909:7659:3157:614:4411:4705:8554:111:1913:2190:408:9212:3061:1656:3383:7497:6244:6339:4758:5948:8523:6277:30:6048:3070:1236:1156:8006:5181:9518:2050:7976:6324:1956:5296:7674:288:2140:3887:857:2534:3702:2492:9478:612:8572:4488:6340:8003:6200:5465:2309:,6707,8710,6293,261,1400,5656,9303,7466,7908,7593,4948,1694,1340,6330,9711,3307,3353,8053,4811,5112,6967,9170:(t,e,r)=>{"use strict";r(6967)},6992,1539,7922,821,4668,4164,3401,7727,8674,6027,683,6294,7227,189:(t,e,r)=>{"use strict";r(7227)},8783,1202,4129,9087:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(3645),i=r.n(n)()((function(t){return t[1]}));i.push([t.id,".ata-controls__complain-btn:hover,\n.ata-controls__privacy-btn:hover {\n    color: #666666 !important;\n}\n.ata-controls__complain-btn:active,\n.ata-controls__privacy-btn:active {\n    color: #5ac8fa !important;\n}\n.ata-controls__complain-btn_clicked,\n.ata-controls__complain-btn_clicked:hover,\n.ata-controls__complain-btn_clicked:active {\n    color: #000 !important;\n    cursor: default !important;\n}\n.ata-frame-wrapper {\n    overflow: hidden;\n    position: relative;\n}\n",""]);const o=i},5152:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(3645),i=r.n(n)()((function(t){return t[1]}));i.push([t.id,".bottom-sticky__ad-container {\n    background: #f1f1f1;\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    transform: translate(0,0);\n    transition: transform .2s ease-in-out;\n    user-select: none;\n    padding-top: 10px;\n    z-index: 49999;         /* AUTOMATTIC-2205 - because cookie consent banner has 50000 z-index */\n}\n.bottom-sticky__ad-container_hidden {\n    visibility: hidden;\n    transform: translate(0,1000px);\n}\n.bottom-sticky__ad-close-btn {\n    width: 20px;\n    height: 20px;\n    position: absolute;\n    box-sizing: content-box;\n    border: 2px solid #9d9d9d;\n    right: 2px;\n    top: -14px;\n    border-radius: 50%;\n    background-color: #fff;\n    cursor: pointer;\n    overflow: hidden;\n    background-size: 12px;\n    background-repeat: no-repeat;\n    background-position: center;\n    background-image: url(\"data:image/svg+xml,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke-width='4' stroke='%239d9d9d' d='M0 0l24 24M0 24L24 0'/%3E%3C/svg%3E\");\n}\n.bottom-sticky__ad-container .adtags-button {\n    color: #000;\n}",""]);const o=i},9018,3645,5350:(t,e,r)=>{var n=r(9087);n&&n.__esModule&&(n=n.default),t.exports="string"==typeof n?n:n.toString()},8223:(t,e,r)=>{var n=r(5152);n&&n.__esModule&&(n=n.default),t.exports="string"==typeof n?n:n.toString()},8197,1907:function(t,e,r){!function(t){"use strict";if(!t.WeakMap){var e=Object.prototype.hasOwnProperty,r=Object.defineProperty&(),n;t.WeakMap()}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:this)},7061,8698,4687,1002},o={}s.m=i,s.n,e=Object.getPrototypeOf,s.t,s.d,s.f={},s.e,s.u,s.g(),s.o,r={},n="automattic-adtags:",s.l,s.r,s.p="https://c0.pubmine.com/2.39.01695837358837/",)(),(()=>{"use strict";var t=s(1002)a=s(5079),c=s.n(a),u=s(8437),l=s.n(u)(7633);var p=s(4687),h=s.n(p),v=s(7818),y=s.n(v),g=s(8696),m=s.n(g),b=s(746),w=s.n(b),x=function(){function t(){e(this,t)}return i(t,null,[{key:"configure",value},{key:"error",value((function(t,e){this.config&&this.config.onError?this.config.onError(t,e):window.console&&console.log(t,e)}))}]),t}();o(x,"config",void 0);const S=x;var O=2;function E(){return(t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,e=Date.now(),function(t){return new(w())((function(e,r){var n;window.setTimeout((function(){clearTimeout(n),r&&r("cmp ping timeout")}),t),function t(){window.__tcfapi?window.__tcfapi("ping",O,(function(i,o){o&&i.cmpLoaded?e():o?n=window.setTimeout(t,50):r&&r("cmp ping returned error with data: ".concat(JSON.stringify(i)))})):r&&r("CMP is not defined")}()}))}(t).then((function(){var r=Date.now()-e,n=t-r;return new(w())((function(t,e){window.__tcfapi?(window.__tcfapi("getTCData",O,(function(r,n){n?t(r):e&&e("cmp getTCData returned error with data: ".concat(JSON.stringify(r)))})),setTimeout(),n)):e&&e("CMP is not defined")}))}))).catch((function(t){return S.error(t),"boolean"==typeof(e=c()(window,"__ATA_PP.gdpr_applies"))?{gdprApplies:e}:{};var e}));var t,ej=s(3716),_=s.n(j),I=s(5657),T=s.n(I),D=s(6931),M=s.n(D),L="data:image/png;base64,",B=L+"iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQYV2NgYGD4DwABBAEAcCBlCwAAAABJRU5ErkJggg==",F=L+"iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQYV2NgYGD8DwABBgEB8Oyl4AAAAABJRU5ErkJggg==",N=L+"iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQYV2NgYGD6DwABCAECAKvsagAAAABJRU5ErkJggg==";function z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function H(t){return{id:t.getAttribute("id"),macroses:(e=t.outerHTML,[].concat(C(function(t){var e=[];return M()(t,B)&&e.push("NATIVE_IMAGE"),M()(t,N)&&e.push("NATIVE_ICON"),M()(t,F)&&e.push("NATIVE_LOGO"),e}(e)),C(function(t){for(var e,r=/\${(NATIVE_[A-Z]+)}/g,n=[];null!==(e=r.exec(t));)n.push(e[1]);return _()(n)}(e))))};var efunction G(t){var e=document.querySelector(t.originalElementSelector);if(!e)return[];var r,n=R([(r=e).clientWidth,r.clientHeight],1)[0];return T()(t.slotSelector).filter(V).map(H).map())}var q=s(8267),W=s.n(q),J=s(3396),Y=s.n(J),K=s(4850),Q=s.n(K),Z=s(8611),X=s.n(Z),$=s(7639),tt=s.n($);s(1907);var et=0,rt="data-adtags-visited",nt="data-adtags-width",it=function(t){return t[t.OTHER=0]="OTHER",t[t.PARAGRAPH=1]="PARAGRAPH",t[t.STOP_ELEMENT=2]="STOP_ELEMENT",t}(it||{}),ot=Y()();function st(t){return t.map((function(t){var e=t.node,r=t.width,n=t.height,i="inline-ad-".concat(ot()),o=function(t,e){var r=R(e,2),n=r[0],i=r[1],o=document.createElement("p");return o.className="inline-ad-slot",o.id=t,o.setAttribute("style",Q()(function(t,e){return{float:"left",height:tt()(e),margin:"0 auto",overflow:"hidden",width:tt()(t)}}(n,i))),o.setAttribute(nt,String(n)),ct(o),o}(i,[r,n]);return e.insertAdjacentElement("beforebegin",o),{height:n,id:i,width:r}}))}function at(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return X()(e.querySelectorAll(t))function ut(t,e){var r=!0;return e&&e.domElement===t&&(r=e.type!==it.STOP_ELEMENT),r}function lt(t,e,r,n,i,o,s,a){var c,u=function(t,e,r,n,i,o){for(var s,a=[],c=t.length,u=ft(e),l=(s=e,X()(s.children).filter((function(t){var e=getComputedStyle(t).getPropertyValue("position");return"relative"===e||"absolute"===e}))),f=[].concat(C(r),C(pt(l))),d=r.map()),p=u+i,h=0;h<c&&!(n>=o);h++){var v=t[h],y=v.domElement;if(v.type===it.PARAGRAPH){ct(y);var g=ft(y);if(g>p){var m=t[h-1];!ut(y.previousElementSibling,m)||W()(d,y)||dt(y,f)||(a.push(y),n++,p=g+i)}}}return a}(function(t,e,r){for(var n=[],i=at(r,t),o=function(t,e){var r=new WeakMap;return t.forEach((function(t){r.set(t,it.PARAGRAPH)})),e.forEach()),r}(at(e,t),i),s=t.firstElementChild;s;){if("true"!==s.getAttribute(rt)){var a=o.get(s)||it.OTHER;n.push({domElement:s,type:a})}s=s.nextElementSibling}return n}(t,r,e),t,n,i,o,a);if(u.length){var l=(c=getComputedStyle(t).width,parseInt(c,10));return s>l?[]:u.map())}return[]function dt(t,e){for(var r,n,i=!1,o=e.length,s=0;s<o;s++){var a=e[s],c=a.domElement,u=a.position;if(t!==c){var l=ht(t);l.bottom=l.top,n=u,i=!((r=l).bottom<n.top||r.top>n.bottom||r.right<n.left||r.left>n.right)}if(i)break}return i}function pt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.map())}function ht(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t.getBoundingClientRect(),n=r.top,i=r.left,o=r.width,s=r.height,a=n+pageYOffset,c=i+pageXOffset;return{bottom:a+s+e,left:c,right:c+o,top:a-e}=function(t){gt(s,t);var r,n,o=(r=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function s(t,r){return e(this,s),o.call(this,"".concat(t," input: ").concat(JSON.stringify(r)))}return i(s)}(xt(Error)),Ot=i((function r(n){var i=this;e(this,r),o(this,"id",void 0),o(this,"serverCreative",void 0),o(this,"creativeLabel",void 0),o(this,"creativeButtons",void 0),o(this,"onElementViewable",void 0),o(this,"onPassback",void 0),o(this,"blcr",void 0),o(this,"closeURL",void 0),o(this,"reloadTime",void 0),o(this,"isCMPDefined",!1),o(this,"isGdprApplied",!1),o(this,"viewablePixel",void 0);var s=n.creative,a=n.onElementViewable,c=n.onPassback,u=n.blcr,l=n.isCMPDefined,f=n.isGdprApplied,d=n.creativeUIConfig;if("object"!==(0,t.Z)(s)||null===s)throw new St("data should be an object",s);if(this.serverCreative=s,this.onElementViewable=function(t){i.viewablePixel&&a(i.viewablePixel),t&&a(t)},this.onPassback=c,this.blcr=u,this.isCMPDefined=l,this.isGdprApplied=f,"string"!=typeof this.serverCreative.sid)throw new St("data.sid must be a string",s);this.id=this.serverCreative.sid;var p=this.serverCreative,h=p.close_url,v=p.reload_time,y=p.imp_view_url;"string"==typeof h&&(this.closeURL=h),"number"==typeof v&&(this.reloadTime=v),"string"==typeof y&&(this.viewablePixel=y),this.creativeLabel=d.label,this.creativeButtons={privacySettings:d.privacySettings,reportAd:d.reportAd}}));var Et=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(t){var r;e(this,a),o(vt(r=s.call(this,t)),"passbackURL",void 0),o(vt(r),"passbackChain",void 0);var n=r.serverCreative,i=n.subs,c=n.passback_url;return r.passbackChain=r.parsePassbackChain(i),"string"==typeof c&&(r.passbackURL=c),r}return i(a,[{key:"parsePassbackChain",value:function(t){if(Array.isArray(t))return t.map((function(t){var e=t.data,r=t.sandbox_url,n=t.complain_url,i=t.passback_url;if("string"==typeof e)return{complainURL:n,content:e,passbackURL:i,sandboxURL:r};throw new Error("subs[i].data must be a string")}))}}]),a}(Ot);var kt=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(t){var r;e(this,a),o(vt(r=s.call(this,t)),"size",void 0),o(vt(r),"content",void 0),o(vt(r),"sandboxURL",void 0),o(vt(r),"complainURL",void 0),o(vt(r),"fallbackURL",void 0),o(vt(r),"enableParallax",void 0),o(vt(r),"parallaxFailURL",void 0);var n=r.serverCreative,i=n.s,c=n.sandbox_url,u=n.complain_url,l=n.data,f=n.fallback_url,d=n.parallax,p=n.parallax_fail_url;if(!Array.isArray(i)||"number"!=typeof i[0]||"number"!=typeof i[1])throw new St("size must be [number,number]",r.serverCreative);if(r.size=i,"string"!=typeof l)throw new St("data must be a string",r.serverCreative);return r.content=l,"string"==typeof c&&(r.sandboxURL=c),"string"==typeof u&&(r.complainURL=u),"string"==typeof f&&(r.fallbackURL=f),r.enableParallax=Boolean(d),"string"==typeof p&&(r.parallaxFailURL=p),r}return i(a)}(Et),At=s(6633),Pt=s.n(At),Rt=s(7973),Ct=s.n(Rt),jt=s(11),_t=s.n(jt);function It(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Tt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?It(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Dt={height:"100%",position:"relative",width:"100%"},Mt={height:"100%",position:"absolute",width:"100%"},Lt={position:"fixed",top:"50%",transform:"translate(0, -50%)"};function Bt(t,e){if(e.getProps().enableParallax){var r=e.getSize();if(function(t,e){var r=e[1],n=(window.innerHeight-r)/2,i=t.getBoundingClientRect(),o=i.top,s=i.bottom,a=o+pageYOffset,c=s+pageYOffset,u=document.documentElement.offsetHeight;return a>=n&&u-c>=n}(t,r))return e.setParallaxHeight(50),function(t,e){var r,n,i,o=R(e,2),s=o[0],a=o[1],c=(r=a,n=document.createElement("div"),(i=Tt({},Dt)).height=r>0?"".concat(r,"px"):i.height,n.setAttribute("style",Q()(i)),n),u=function(){var t=document.createElement("div"),e=Pt()()?Tt({clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"},Mt):Tt({clip:"rect(0px auto auto 0px)"},Mt);return t.setAttribute("style",Q()(e)),t}(),l=function(t,e){var r=document.createElement("div");return r.setAttribute("style",Q()(Tt(Tt({},Lt),{},{height:"".concat(e,"px"),width:"".concat(t,"px")}))),r}(s,a);return t.appendChild(c),c.appendChild(u),u.appendChild(l),l}(t,r);e.getCreatives().forEach((function(t){if(t instanceof kt){var e=t.parallaxFailURL;e&&_t()(e)&&Ct()({uri:e})}}))}return t}var Ft=s(1059),Nt=s.n(Ft),zt=s(3278),Ut=s.n(zt),Ht=s(693),Vt=s.n(Ht)function qt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Jt=["Seen too often","Not relevant","Offensive","Broken"],Yt="user-feedback",Kt="".concat(Yt,"__slider"),Qt="".concat(Yt,"__reason"),Zt="".concat(Yt,"__thank-message"),Xt="data-reason-id",$t="data-direction",te=Q()({boxSizing:"border-box",padding:"5px",textAlign:"center",display:"table-cell",verticalAlign:"middle",margin:0,width:"100%"}),ee=Q()({boxSizing:"border-box",textAlign:"center",display:"table-cell",padding:0,verticalAlign:"middle",position:"absolute",top:"50%",margin:"-25px 0 0 0"}),re=Q()({left:0,right:0}),ne={borderRadius:"2px",position:"relative",overflow:"hidden",display:"inline-block",padding:"1px 5px",width:"95px",height:"40px",border:"none",backgroundColor:"#FFFFFF",cursor:"pointer",boxSizing:"border-box",margin:"8px auto 0",color:"#404040",fontWeight:"normal",textDecoration:"none"},ie=Q()(Wt(Wt({},ne),{},{display:"block",width:"110px"})),oe=Q()(Wt(Wt({},ne),{},{marginLeft:"-1px",marginTop:0,boxShadow:"none",border:"1px solid #E0E0E0",height:"50px"})),se=Q()(Wt(Wt({},ne),{},{marginLeft:"8px"})),ae=Q()(Wt(Wt({},ne),{},{marginLeft:"-1px",marginTop:0,boxShadow:"none",border:"1px solid #E0E0E0",height:"50px",width:"60px"})),ce=Q()(Wt(Wt({},ne),{},{display:"block",height:"15%",width:"50%"})),ue=Q()({width:"100%",height:"100%",display:"table",textAlign:"center",margin:0,padding:0}),le=Q()({verticalAlign:"middle",display:"table-cell",textAlign:"center",lineHeight:"14px",whiteSpace:"normal",margin:0,padding:0}),fe=Q()({position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",background:"#f1f1f1",whiteSpace:"nowrap",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"12px",lineHeight:"12px",boxShadow:"0px 1px 2px 0px inset #999",margin:0,display:"none",tableLayout:"fixed",letterSpacing:"0.2px",zIndex:5e3,padding:0}),de=Q()({color:"#808080",fontSize:"10px",lineHeight:"10px",textAlign:"center",margin:0,padding:0,position:"absolute",top:"4px",width:"100%"}),pe=Q()({color:"#404040",margin:"8px 0 0 0",whiteSpace:"normal",display:"none",textAlign:"center",padding:0,lineHeight:"12px"}),he=Q()({fontWeight:"bold",textAlign:"center",lineHeight:"12px"}),ve={boxSizing:"border-box",position:"absolute",top:"50%",margin:"-25px 0 0 0",height:"50px",textAlign:"center",cursor:"pointer",width:"30px",border:"1px solid transparent",backgroundColor:"rgba(0,0,0,0.4)",padding:0},ye={boxSizing:"border-box",position:"absolute",top:"50%",left:"50%",height:"24px",width:"24px",margin:"-12px 0 0 -12px",padding:0},ge,me=Q()(Wt(Wt({},ve),{},{borderTopRightRadius:"4px",borderBottomRightRadius:"4px",left:0})),be=Q()(Wt(Wt({},ye),{},{backgroundImage:ge("M20,5L10,15L20,25")})),we=Q()(Wt(Wt({},ve),{},{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px",right:0})),xe=Q()(Wt(Wt({},ye),{},{backgroundImage:ge("M10,5L20,15L10,25")})),Se=s(8197),Oe=function(){function t(r){var n=this;e(this,t),this.props=r,o(this,"rootElement",void 0),o(this,"templateType",void 0),o(this,"visible",!1),o(this,"isWide",!1),o(this,"isNarrow",!1),o(this,"clickHandler",(function(t){t.preventDefault();var e=n.props.onSelectReason,r=t.currentTarget;if(M()(r.className,Qt)){var i=r.getAttribute(Xt);i&&(e(i),n.onSubmit())}else if(M()(r.className,Kt)){var o,s=r.getAttribute($t);if(s&&null!==(o=n.rootElement)&&void 0!==o&&o.firstElementChild){var a="left"===s?"right":"left";n.rootElement.firstElementChild.style[s]="0",n.rootElement.firstElementChild.style[a]="",n.hideSliderButton(s),n.showSliderButton(a)}}})),this.insertStyles(r.window),this.templateType=r.responsive?"responsive":this.getTemplateType();var i=this.buildMarkup(),s=r.container;s.insertAdjacentHTML("afterbegin",i),this.setupListeners();var a=s.querySelector(".".concat(Yt));if(!a)throw new Error("The container width class ".concat(Yt," is not found"));this.rootElement=a}return i(t,[{key:"isVisible",value:function(){return this.visible}},{key:"show",value:function(){this.props.onStateChange("onshow"),this.rootElement.style.display="table",this.visible=!0}},{key:"insertStyles",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;Se&&m()(Se.toString)&&y()(Se.toString(),t)}},{key:"getTemplateType",value:function(){var t="square",e=R(this.props.size,2),r=e[0],n=e[1],i=r/n;return n<250?t=n>=90&&i>=4?"board":"small":i>=4?t="board":n>=250&&(t="square"),t}},{key:"getFormStyleByTemplate",value:function(){var t=te;if("small"===this.templateType){t=ee;var e=95*Jt.length-10,r=95*Math.ceil(Jt.length/2),n=R(this.props.size,1)[0];n>=e&&(t+=re,this.isWide=!0),n<r&&(this.isNarrow=!0)}return t}},{key:"getReasonStyle",value:function(){var t;switch(this.templateType){case"square":t=ie;break;case"small":t=this.isNarrow?ae:oe;break;case"board":t=se;break;case"responsive":t=ce}return t}},{key:"buildMarkup",value:function(){var t=this.getFormStyleByTemplate(),e=this.getReasonStyle(),r="small"===this.templateType,n=Jt.map((function(t,n){var i="";return r&&0===n&&(i="margin-left:0;"),'<a class="'.concat(Qt,'" ').concat(Xt,'="').concat(n+1,'" style="').concat(e,";").concat(i,'">\n                <div style="').concat(ue,'">\n                    <span style="').concat(le,'">').concat(t,"</span>\n                </div>\n            </a>")})).join(""),i=me,o=we;if(this.isNarrow){var s="width:20px;";i+=s,o+=s}var a=r&&!this.isWide?'\n            <a class="'.concat(Kt,'" ').concat($t,'="left" style="').concat(i,';display: none;">\n                <div style="').concat(be,'"></div>\n            </a>\n            <a class="').concat(Kt,'" ').concat($t,'="right" style="').concat(o,'">\n                <div style="').concat(xe,'"></div>\n            </a>\n        '):"",c=r?"":'<div style="'.concat(de,'">').concat("Powered by wordads.co","</div>");return'\n            <div class="'.concat(Yt,'" style="').concat(fe,'">\n                ').concat(c,'\n                <div style="').concat(t,'">\n                    <div style="').concat(pe,'" class="').concat(Zt,'">\n                        <div style="').concat(he,'">').concat("We've received your report.","</div>\n                        <br>\n                        ").concat("Thanks for your feedback!","\n                    </div>\n                    ").concat(n,"\n                </div>\n                ").concat(a,"\n            </div>\n        ")}},{key:"setupListeners",value:function(){var t=this;Gt(this.props.container.querySelectorAll("a")).forEach())}},{key:"onSubmit",value:function(){this.props.onStateChange("onsubmit"),this.removeClickableElements(),this.showThankMessage(),this.updateStyles()}},{key:"removeClickableElements",value:function(){Gt(this.rootElement.querySelectorAll("a")).forEach())}},{key:"showThankMessage",value:function(){var t=this.rootElement.querySelector(".".concat(Zt));t&&(t.style.display="block")}},{key:"updateStyles",value:function(){"small"===this.templateType&&(this.rootElement.firstElementChild.style.left="0",this.rootElement.firstElementChild.style.right="0")}},{key:"getDirectedSliderButton",value:function(t){var e=".".concat(Kt,"[").concat($t,'="').concat(t,'"]');return this.rootElement.querySelector(e)}},{key:"showSliderButton",value:function(t){var e=this.getDirectedSliderButton(t);e&&(e.style.display="block")}},{key:"hideSliderButton",value}]),t}(),Ee=s(9184),ke=s.n(Ee),Ae=s(5328),Pe=s.n(Ae),Re(Re||{}),Ce=i((function t(){var r=this;e(this,t),o(this,"timerWorker",void 0),o(this,"callbacksMap",{}),o(this,"startTimer",(function(t,e,n){r.timerWorker.postMessage({command:Re.START,guid:t,timeout:e}),r.callbacksMap[t]=n})),o(this,"pauseTimer",)),o(this,"onMessage",(function(t){var e=t.data,n=e.command,i=e.guid;if(n===Re.FINISH){var o=r.callbacksMap[i];o&&(o(),delete r.callbacksMap[i])}})),this.timerWorker=Pe()('var TIMER_COMMANDS = /*#__PURE__*/function (TIMER_COMMANDS) {\n  TIMER_COMMANDS[TIMER_COMMANDS["START"] = 0] = "START";\n  TIMER_COMMANDS[TIMER_COMMANDS["PAUSE"] = 1] = "PAUSE";\n  TIMER_COMMANDS[TIMER_COMMANDS["FINISH"] = 2] = "FINISH";\n  return TIMER_COMMANDS;\n}(TIMER_COMMANDS || {});\nvar TICK_INTERVAL = 100;\nvar timersMap = {};\nfunction startTimer(_ref) {\n  var guid = _ref.guid,\n    timeout = _ref.timeout;\n  var timePassed = timersMap[guid] && timersMap[guid].timePassed;\n  if (typeof timePassed !== "undefined") {\n    timePassed += TICK_INTERVAL;\n  } else {\n    timePassed = 0;\n  }\n  if (timePassed > timeout) {\n    onTimerFinish(guid);\n  } else {\n    timersMap[guid] = {\n      timePassed: timePassed,\n      // @ts-ignore\n      timerId: setTimeout(function () {\n        startTimer({\n          guid: guid,\n          timeout: timeout\n        });\n      }, TICK_INTERVAL)\n    };\n  }\n}\nfunction pauseTimer(_ref2) {\n  var guid = _ref2.guid;\n  var timerId = timersMap[guid] && timersMap[guid].timerId;\n  clearTimeout(timerId);\n}\nfunction onTimerFinish(guid) {\n  removeTimer(guid);\n  // @ts-ignore\n  postMessage({\n    command: TIMER_COMMANDS.FINISH,\n    guid: guid\n  });\n}\nfunction removeTimer(guid) {\n  pauseTimer({\n    guid: guid\n  });\n  delete timersMap[guid];\n}\nonmessage = function onmessage(_ref3) {\n  var data = _ref3.data;\n  if (!data.guid) {\n    return;\n  }\n  switch (data.command) {\n    case TIMER_COMMANDS.START:\n      {\n        startTimer(data);\n        break;\n      }\n    case TIMER_COMMANDS.PAUSE:\n      {\n        pauseTimer(data);\n        break;\n      }\n  }\n};'),this.timerWorker.onmessage=this.onMessage})),je=s(8991),_e=s.n(je),Ie=function()return i(t,[{key:"getIntersectionRatio",value:function(t){var e=t.getBoundingClientRect();return e.width*e.height>=242500?.3:.5}}]),t}(),Te=function(){function t(){var r=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ie,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;e(this,t),this.measurementStrategy=n,this.win=i,o(this,"elements",new Map),o(this,"observer",void 0),o(this,"timerStrategy",void 0),o(this,"onThresholdReach",(function(t){t.forEach((function(t){var e=r.elements.get(t.target);if(e){var n=t.isIntersecting&&r.isElementVisible(t,e);!e.isVisible&&n?r.timerStrategy.startTimer(e.guid,e.visibilityThreshold,r.onTimerReach(t.target)):e.isVisible&&!n&&r.timerStrategy.pauseTimer(e.guid),e.isVisible=n}}))})),o(this,"onTimerReach",(function(t){return function(){var e=r.elements.get(t);null==e||e.callback(t),r.unsubscribe(t)}}));for(var s=[],a=0;a<=1;a+=.01)s.push(a);this.onThresholdReach=this.onThresholdReach.bind(this),this.observer=new i.IntersectionObserver(this.onThresholdReach,{threshold:s})}return i(t,[{key:"setTimerStrategy",value:function(t){this.timerStrategy=t}},{key:"observe",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=this.measurementStrategy.getIntersectionRatio(t);return this.elements.set(t,{callback:e,guid:_e()(),intersectionBorders:this.getIntersectionBorders(i),intersectionRatio:i,isVisible:!1,visibilityThreshold:n}),this.observer.observe(t)}},{key:"getIntersectionBorders",value:function(t){return[window.innerWidth*t,window.innerHeight*t]}},{key:"isElementVisible",value:function(t,e){var r=t.intersectionRatio,n=t.intersectionRect,i=R(e.intersectionBorders,2),o=i[0],s=i[1];return r>=e.intersectionRatio||n.width>=o&&n.height>=s}},{key:"unsubscribe",value}],[{key:"isSupported",value:function(){return Boolean(window.Map)&&Boolean(window.IntersectionObserver)}}]),t}();const De=new(function(){function t(){e(this,t),o(this,"observer",void 0),Te.isSupported()&&(this.observer=new Te,this.observer.setTimerStrategy(new Ce))}return i(t,[{key:"observeViewability",value:function(t){var e=t.element,r=t.onElementViewable,n=t.visibilityThreshold;return this.observer?this.observer.observe(e,r,n):ke()}}]),t}());function Me(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Le(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Me(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Be={color:"#c8c7cc",cursor:"pointer",fontFamily:"Verdana, sans-serif",fontSize:"6px",letterSpacing:"0.3px",textTransform:"uppercase",verticalAlign:"middle"};function Fe(t){var e=t.slotContainer,r=t.id,n=t.buttons,i=t.size,o=t.window;if(!e)throw new Error("Container doesn't exist");var s=R(i,1)[0],a=[];if(n.reportAd){var c=n.reportAd.text;a.push({cssClass:"ata-controls__complain-btn",idPostfix:"__complain-btn",onClick:n.reportAd.onClick?n.reportAd.onClick:ke(),style:Le(Le({},Be),{},{float:"right"}),text:c,type:"complain"})}if(n.privacySettings&&a.push({cssClass:"ata-controls__privacy-btn",idPostfix:"__privacy-btn",onClick:n.privacySettings.onClick?n.privacySettings.onClick:ke(),style:Le(Le({},Be),{},{float:"left"}),text:n.privacySettings.text,type:"button"}),a.length){var u={cssClass:"ata-controls",elements:a,style:{height:"".concat(10,"px"),lineHeight:"".concat(10,"px"),margin:0,padding:0,textAlign:"right",width:"".concat(s,"px")}},l=function(t,e){var r=e.elements.reduce((function(e,r){var n=r.idPostfix;if(!n)throw new Error("idPostfix is required");var i=r.style,o=r.text,s=r.cssClass;if(!o)throw new Error("text is required");return e+['<span id="'.concat(t).concat(n,'" '),s?'class="'.concat(s,'"'):"",i?'style="'.concat(Q()(i),'"'):"",">".concat(o,"</span>")].join("")}),"");return['<div id="'.concat(t,'__controls" '),e.cssClass?'class="'.concat(e.cssClass,'"'):"",e.style?'style="'.concat(Q()(e.style),'"'):"",">",r,"</div>"].join("")}(r,u);e.insertAdjacentHTML("beforeend",l),a.forEach((function(t){var e=o.document.getElementById(r+t.idPostfix);e&&t.onClick&&e.addEventListener("click",t.onClick)}))}}const Ne=function(){function t(r){var n=this;e(this,t),this.props=r,o(this,"messageHandler",(function(t){var e=n.props,r=e.slotId,i=e.onPassback,o=n.findSlotIframe(r);try{var s=JSON.parse(t.data);if("passback"===s.event&&s.slotId===r)return void i()}catch(t){}o&&"passback"===t.data&&n.isMessageFromIframe(o,t)&&i()}))}return i(t,[{key:"subscribe",value:function(){this.props.window.addEventListener("message",this.messageHandler)}},{key:"unsubscribe",value},{key:"findSlotIframe",value:function(t){var e=document.getElementById(t);return e?e.querySelector("iframe"):null}},{key:"isMessageFromIframe",value:function(t,e){for(var r=e.source,n=t.contentWindow;r&&r!==window.top;){if(n===r)return!0;r=r.parent}return!1}}]),t}();function ze(t,e,r){var n=e.firstElementChild.contentWindow;if(!n)throw new Error("Can not get window of an iframe");var i=n.document;if(!i)throw new Error("Can not get document of an iframe window");try{i.open("text/html","replace"),i.write(t),i.close()}catch(t){}}var Ue=s(9325);function He(t,e,r){var n=Ue&&Ue.host;if(!n)throw new Error("Can't find SafeFrame host API");var i=r.id,o=r.size,s=r.sandboxURL,a=R(o,2),c=a[0],u=a[1],l="sf-".concat(i),f="safeframe-".concat(l);e.id=l,e.innerHTML="";var d=Q()({margin:0,overflow:"hidden",padding:0,position:"relative"}),p={dest:l,h:u,html:t,id:f,w:c},h=(n.Config({onEndPosRender:function(t){var e=document.getElementById(t),r=null==e?void 0:e.parentElement;if(r){var n=r.getAttribute("style");r.setAttribute("style","".concat(n,";").concat(d))}},renderFile:s}),new n.PosConfig(p),new n.Position(p));n.render(h)}var Ve=s(5580),Ge=s.n(Ve),qe="sandbox";function We(t,e,r){var n=r.sandboxURL,i=e.firstElementChild;if(!i)throw new Error("frame is not the firstChile of adContainer");if(!n)throw new Error("creative must have sandboxURL");i.src=n,i.setAttribute("sandbox","allow-popups-to-escape-sandbox allow-popups allow-forms allow-scripts allow-pointer-lock");var o=i.contentWindow;if(!o)throw new Error("Can not get window of an iframe");Ge()(i,"load",))}function Je(t,e){var r=t.content,n=t.sandboxURL,i=ze;n&&(i=/sandbox\.html$/.test(n)?We:He),i(r,e,t)}function Ye(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ke(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ye(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Qe="ata-frame-wrapper",Ze={font:"10px 'Open Sans', Arial, sans-serif",height:"12px",margin:0,padding:0,textAlign:"left"},Xe=function(){function t(r){var n=this;e(this,t),this.props=r,o(this,"passbackHandler",void 0),o(this,"mainContainer",void 0),o(this,"slotContainer",void 0),o(this,"iframe",void 0),o(this,"passbackChainIndex",-1),o(this,"currentPassbackAd",void 0),o(this,"lastTracked",Date.now()),o(this,"parallaxHeight",0),o(this,"feedbackForm",void 0),o(this,"complainBtn",void 0),o(this,"unsubscribeViewabilityTracker",void 0),o(this,"onComplain",(function(t,e){var r=Vt()(t,"type",e);Ct()({uri:r})})),o(this,"onFeedbackFormStateChange",(function(t){n.complainBtn&&("onshow"===t?n.complainBtn.innerText="Report submission":"onsubmit"===t&&(n.complainBtn.innerText="Report submitted"),n.complainBtn.setAttribute("class","ata-controls__complain-btn ata-controls__complain-btn_clicked"))}))}return i(t,[{key:"getSize",value:function(){var t=this.props,e=t.creative,r=t.label,n=R(e.size,2),i=n[0],o=n[1],s=e.complainURL?10:0,a=0;if(r){var c=this.getLabelStyle();a=parseInt(String(c.height),10)||0}return[i,o+s+a+this.parallaxHeight]}},{key:"getProps",value:function(){return this.props}},{key:"getCreatives",value},{key:"render",value:function(){var t=this,e=this.props,r=e.slotId,n=e.creative,i=e.window;if(!this.validateSize())throw new Error("The creative for the slot with id ".concat(r," has incorrect size"));var o=i.document.getElementById(r);if(!o)throw new Error("the container width id ".concat(r," is not found"));this.mainContainer=o,this.slotContainer=Bt(o,this),(this.props.creative.passbackChain||this.props.creative.passbackURL)&&(this.passbackHandler=new Ne({onPassback:this.onPassback.bind(this),slotId:r,window:i}),this.passbackHandler.subscribe()),this.setViewabilityTracker(o,n),this.renderContent(this.props.creative);var s=n.complainURL;if(s){var a=this.getFrameWrapper(this.slotContainer);a&&(this.feedbackForm=new Oe({container:a,onSelectReason:function(e){return t.onComplain(s,e)},onStateChange:this.onFeedbackFormStateChange,size:n.size,window:i}))}this.renderLabel(),this.renderControls()}},{key:"destroy",value:function(){this.unsubscribeViewabilityTracker&&this.unsubscribeViewabilityTracker(),this.mainContainer&&(this.mainContainer.innerHTML=""),this.passbackHandler&&this.passbackHandler.unsubscribe()}},{key:"setParallaxHeight",value:function(t){this.parallaxHeight=t}},{key:"onPassback",value:function(){var e;this.notifyAboutPassback(),this.passbackChainIndex+=1;var r=this.props.creative,n=null===(e=r.passbackChain)||void 0===e?void 0:e[this.passbackChainIndex];n?(this.currentPassbackAd=new t(Ke(Ke({},this.props),{},{creative:Ke(Ke(Ke({},r),n),{},{passbackChain:void 0})})),this.currentPassbackAd.render()):(this.collapseSlot(),S.error("The ad got a passback message, but there isn't the next creative to show"))}},{key:"setViewabilityTracker",value:function(t,e){var r=e.onElementViewable;this.unsubscribeViewabilityTracker=De.observeViewability({element:t,onElementViewable:r})}},{key:"notifyAboutPassback",value:function(){var t,e,r;if(t=-1===this.passbackChainIndex?this.props.creative.passbackURL:null===(e=this.props.creative.passbackChain)||void 0===e||null===(r=e[this.passbackChainIndex])||void 0===r?void 0:r.passbackURL){var n=Date.now(),i=this.lastTracked-n;this.lastTracked=n,this.props.creative.onPassback(t,i)}}},{key:"validateSize",value:function(){return R(this.getSize(),1)[0]<=this.props.width}},{key:"getContainerHTML",value:function(){var t=this.props.slotId,e=R(this.props.creative.size,2),r=e[0],n=e[1],i="".concat(r,"px"),o="".concat(n,"px"),s="".concat(t,"_iframe"),a={frameBorder:0,scrolling:"no",src:"about:blank",style:Q()({border:"none",height:o,margin:0,overflow:"hidden",width:i})},c=Q()({height:"100%",margin:0,overflow:"hidden",padding:0,position:"relative",width:"100%"}),u=Q()({height:o,width:i}),l=Q()({height:"100%",width:"100%"});return'<div style="'.concat(u,'" class="').concat("ata-slot-container-wrapper",'">\n                <div style="').concat(l,'" class="').concat("ata-slot-container",'">\n                    <div style="').concat(c,'" class="').concat(Qe,'">\n                        <iframe id="').concat(s,'" ').concat(Nt()(a),' class="').concat("ata-frame",'"></iframe>\n                    </div>\n                </div>\n            </div>')}},{key:"renderContent",value:function(t){this.slotContainer.innerHTML=this.getContainerHTML();var e=this.getFrameWrapper(this.slotContainer);if(this.iframe=null==e?void 0:e.firstElementChild,!e)throw new Error("iframe doesn't exists");Je(t,e)}},{key:"getLabelStyle",value:function(){var t=this.props.label;return Ut()({},null==t?void 0:t.style,Ze)}},{key:"renderLabel",value:function(){var t=this.props.label;if(t){var e=Q()(this.getLabelStyle()),r=Nt()({class:t.cssClass,style:e}),n="<div ".concat(r,">").concat(t.text,"</div>");this.slotContainer.insertAdjacentHTML("afterbegin",n)}}},{key:"renderControls",value:function(){var t=this,e=this.props,r=e.creative,n=e.buttons,i=e.window,o=r.id,s=r.size,a=r.complainURL,c=r.isCMPDefined,u=r.isGdprApplied,l=a?Ut()(n.reportAd,{onClick}):void 0;Fe({buttons:{privacySettings:c&&u?n.privacySettings:void 0,reportAd:l},id:o,size:s,slotContainer:this.slotContainer,window:i});var f=this.props.window.document.getElementById("".concat(o,"__complain-btn"));f&&(this.complainBtn=f)}},{key:"getFrameWrapper",value},{key:"collapseSlot",value:function(){this.slotContainer.style.width="0",this.slotContainer.style.height="0",this.unsubscribeViewabilityTracker&&this.unsubscribeViewabilityTracker()}}]),t}();const $e=Xe;var tr=function(){function t(r){e(this,t),this.options=r,o(this,"adsSizes",[])}return i(t,[{key:"setAdSize",value}]),t}();const er=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(){var t;e(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return o(vt(t=s.call.apply(s,[this].concat(n))),"fullSize",void 0),t}return i(a,[{key:"getContainerStyle",value:function(){var t=R(this.getFullSize(),2),e=(t[0],t[1]);return Q()({display:"block",height:"".concat(e,"px"),margin:"0 auto",overflow:"hidden",padding:0,textAlign:"center"})}},{key:"getAdStyle",value:function(){return Q()({display:"block",margin:"0 auto"})}},{key:"validateAdSize",value:function(){var t=R(this.options.containerSize,2),e=t[0],r=t[1],n=R(this.getFullSize(),2),i=n[0],o=n[1],s=!0;return r&&(s=r>=o),s&&e>=i}},{key:"getFullSize",value:function(){if(!this.fullSize){var t=0,e=0;this.adsSizes.forEach((function(r){var n=R(r,2),i=n[0],o=n[1];t+=o,i>e&&(e=i)})),this.fullSize=[e,t]}return this.fullSize}}]),a}(tr);const rr=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(){var t;e(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return o(vt(t=s.call.apply(s,[this].concat(n))),"fullSize",void 0),t}return i(a,[{key:"getContainerStyle",value:function(){return Q()({display:"block",height:"".concat(this.calcContainerHeight(),"px"),margin:"0 auto",overflow:"hidden",padding:0,textAlign:"center"})}},{key:"getAdStyle",value:function(){return Q()({display:"inline-block",margin:"0px ".concat(this.calcSideMargin(),"px"),"vertical-align":"middle"})}},{key:"validateAdSize",value:function(){return R(this.options.containerSize,1)[0]>=R(this.getFullSize(),1)[0]}},{key:"getFullSize",value:function(){if(!this.fullSize){var t=0,e=0;this.adsSizes.forEach((function(r){var n=R(r,2),i=n[0],o=n[1];e+=i+10,o>t&&(t=o)})),this.fullSize=[e,t]}return this.fullSize}},{key:"calcContainerHeight",value:function(){return Math.max.apply(Math,C(this.adsSizes.map())))}},{key:"calcSideMargin",value:function(){var t=R(this.options.containerSize,1)[0],e=R(this.getFullSize(),1)[0],r=0;if(t!==e){var n=(t-e)/2,i=this.adsSizes.length;r=Math.min(5,Math.round(n/i))}return r}}]),a}(tr);var nr="compound-ad-unit";const ir=function(){function t(r){e(this,t),this.props=r,o(this,"ads",[]),o(this,"mainContainer",void 0),o(this,"htmlMarkupElements",[]),o(this,"renderStrategy",void 0),o(this,"compoundContainerId",void 0),o(this,"compoundContainer",void 0),o(this,"parallaxHeight",0);var n=this.props.window.document.getElementById(r.slotId);if(!n)throw new Error("Container for slot ".concat(r.slotId," is not found"));this.mainContainer=n;var i=this.props.slotId;this.compoundContainer=this.props.window.document.createElement("div"),this.compoundContainerId="".concat(i,"-compound-container"),this.compoundContainer.setAttribute("id",this.compoundContainerId);var s,a,c=this.props,u=c.width,l=c.height,f=c.type;this.renderStrategy=(s=f,a={containerId:this.compoundContainerId,containerSize:[u,l]},"h"===s?new er(a):new rr(a)),this.createAds(),Bt(n,this).appendChild(this.compoundContainer)}return i(t,[{key:"getSize",value:function(){var t=R(this.renderStrategy.getFullSize(),2);return[t[0],t[1]+this.parallaxHeight]}},{key:"getProps",value:function(){return this.props}},{key:"getCreatives",value:function(){return this.props.creatives}},{key:"render",value:function(){if(!this.validateSize())throw new Error("The creative for the slot with id ".concat(this.props.slotId," has incorrect size"));this.appendHTMLToContainer(),this.appendStyles(),this.ads.forEach())}},{key:"destroy",value},{key:"setParallaxHeight",value},{key:"createAds",value:function(){var t=this,e=this.props,r=e.creatives,n=e.label,i=e.buttons;r.map((function(e){if(e instanceof kt){var r=e.id,o=R(e.size,1)[0],s=new $e({buttons:i,creative:e,label:n,slotId:r,width:o,window:t.props.window});t.ads.push(s);var a=s.getSize();t.renderStrategy.setAdSize(a),t.htmlMarkupElements.push(t.createAdHTML(r,a))}}))}},{key:"validateSize",value},{key:"createAdHTML",value:function(t,e){var r=R(e,2),n=r[0],i=r[1],o=Q()({height:"".concat(i,"px"),padding:0,width:"".concat(n,"px")});return'<div id="'.concat(t,'"\n            style="').concat(o,'"\n            class="').concat(nr,'">\n        </div>')}},{key:"appendHTMLToContainer",value},{key:"appendStyles",value:function(){this.compoundContainer.setAttribute("style",this.renderStrategy.getContainerStyle()),y()("\n            #".concat(this.compoundContainerId," .").concat(nr," { ").concat(this.renderStrategy.getAdStyle()," }\n        "))}}]),t}();var or({});var sr(Ot);function ar(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function cr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ar(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ur=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(t){var r;e(this,a),o(vt(r=s.call(this,t)),"members",void 0),o(vt(r),"type",void 0),o(vt(r),"enableParallax",void 0);var n=r.serverCreative,i=n.com,c=n.type,u=n.parallax;if(!Array.isArray(i))throw new St("Can't create CompoundAdResponse",r.serverCreative);return r.members=i.map((function(e,n){return e.noad?new sr(t):new kt(cr(cr({},t),{},{creative:cr(cr({},e),{},{reload_time:void 0,sid:r.generateId(n)})}))})),"string"==typeof c&&_t()(c)?r.type=c:r.type="w",r.enableParallax=Boolean(u),r}return i(a,[{key:"generateId",value:function(t){var e="".concat(this.id,"-compound");return"".concat(e,"-").concat(t)}}]),a}(Ot);var lr=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(t){var r;e(this,a),o(vt(r=s.call(this,t)),"size",void 0),o(vt(r),"content",void 0),o(vt(r),"fallbackURL",void 0);var n=r.serverCreative,i=n.data,c=n.fallback_url,u=n.s;if(!Array.isArray(u)||"number"!=typeof u[0]||"number"!=typeof u[1])throw new St("size must be [number,number]",r.serverCreative);if(r.size=u,"string"!=typeof i)throw new St("data must be a string",r.serverCreative);return r.content=i,"string"==typeof c&&(r.fallbackURL=c),r}return i(a)}(Et),fr=s(7372),dr=s.n(fr);function pr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function hr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pr(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var vr=function(r){gt(c,r);var n,s,a=(n=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(n);if(s){var r=bt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return mt(this,t)});function c(r){var n;e(this,c),o(vt(n=a.call(this,r)),"fallbackUrls",[]),o(vt(n),"fallbackAdResponse",void 0),o(vt(n),"passbackURL",void 0);var i=n.serverCreative,s=i.fallback,u=i.passback_url;if(s){if("object"!==(0,t.Z)(s)||null===s)throw new St("fallback should be an object",s);if(s.noad)n.fallbackAdResponse=new sr(hr(hr({},r),{},{creative:s}));else if(s.com){var l=new ur(hr(hr({},r),{},{creative:s}));l.members.forEach((function(t){if(t instanceof kt){var e=t.fallbackURL;e&&n.fallbackUrls.push(e)}})),n.fallbackAdResponse=l}else if(s.do_not_wrap){var f=new lr(hr(hr({},r),{},{creative:s}));"string"==typeof f.fallbackURL&&n.fallbackUrls.push(f.fallbackURL),n.fallbackAdResponse=f}else{var d=new kt(hr(hr({},r),{},{creative:s}));"string"==typeof d.fallbackURL&&n.fallbackUrls.push(d.fallbackURL),n.fallbackAdResponse=d}"string"==typeof n.serverCreative.fallback_url&&n.fallbackUrls.push(n.serverCreative.fallback_url)}return"string"==typeof u&&(n.passbackURL=u),n}return i(c)}(Ot);var yr=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e(this,a),o(vt(r=s.call(this,t)),"size",[0,0]),o(vt(r),"markup",void 0),o(vt(r),"teadsId",void 0);var i=dr()(n,));if(!i||!i.response)throw new St("Teads response is not found in response",n);var c=i.response[0];if(!c)throw new St("Teads bid is not found in response",i);r.teadsId=c.request&&c.request.code;var u=c.prebidBidObject&&c.prebidBidObject.ad;if("string"!=typeof u)throw new St("Teads ad data should be string",u);return r.markup=u,r}return i(a)}(vr);var gr=function(r){gt(c,r);var n,s,a=(n=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(n);if(s){var r=bt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return mt(this,t)});function c(r){var n;e(this,c),o(vt(n=a.call(this,r)),"playerType",void 0),o(vt(n),"videoErrorUrl",void 0),o(vt(n),"playerConfig",{}),o(vt(n),"vastXML",void 0),o(vt(n),"viewPixel",void 0),o(vt(n),"videoDebugFunction",void 0);var i=n.serverCreative,s=i.data,u=i.plc,l=i.adslot_view_url;if("string"!=typeof s)throw new St("data must be a string",s);n.vastXML=s,"string"==typeof l&&(n.viewPixel=l),"object"===(0,t.Z)(u)&&null!==u&&(n.playerConfig=u);var f=r.playerType,d=r.videoErrorUrl,p=r.videoDebugFunction;return n.playerType=f,n.videoErrorUrl=d,m()(p)&&(n.videoDebugFunction=p),n}return i(c)}(vr);const mr=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)})return i(a,[{key:"render",value:function(){var t=this.getProps(),e=t.slotId,r=t.creative,n=t.window,i=n.document.getElementById(e);if(!i)throw new Error("the container width id ".concat(e," is not found"));this.container=i,this.setViewabilityTracker(i,r),(r.passbackChain||r.passbackURL)&&(this.passbackHandler=new Ne({onPassback:this.onPassback.bind(this),slotId:e,window:n}),this.passbackHandler.subscribe());var o=document.createRange().createContextualFragment(r.content);this.container.appendChild(o)}}]),a}($e);var br=function(){function t(r){e(this,t),this.props=r}return i(t,[{key:"render",value:function(){var t=this.props,e=t.slotId,r=t.creative,n=r.teadsId,i=r.markup,o=document.getElementById(e);if(!o)throw new Error("Element with ".concat(e," not found"));var s=document.createElement("iframe");s.setAttribute("style","display: none"),o.insertBefore(s,o.firstElementChild),o.setAttribute("id",n),ze(i,o)}},{key:"getSize",value:function(){return this.props.size}},{key:"destroy",value:function(){}}]),t}();function wr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wr(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const Sr=new(function()return i(t,[{key:"setStore",value:function(t){this.store=Object.freeze(xr(xr({},this.store),t))}},{key:"getStore",value:function(){return this.store}}]),t}());function Or(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Er(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Or(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Or(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var kr=function(){function t(r){var n=this;e(this,t),this.props=r,o(this,"playerId",""),o(this,"impressionCount",0),o(this,"slotContainer",void 0),o(this,"feedbackForm",void 0),o(this,"complainBtn",void 0),o(this,"videoContainerId",void 0),o(this,"size",void 0),o(this,"store",Sr),o(this,"onImpression",(function(){n.impressionCount++,n.renderControls(),De.observeViewability({element:n.slotContainer,onElementViewable:n.onViewable,visibilityThreshold:2e3})})),o(this,"onComplete",(function(){0===n.impressionCount&&n.props.onNoAd&&n.props.onNoAd(),n.props.onComplete&&n.props.onComplete()})),o(this,"onLoaded",(function(){var t=n.props.window.outstream.getAdExtensions(n.playerId),e=n.getCreativeId(t);_t()(e)&&n.store.setStore({shownCreativesIds:[].concat(C(n.getShownCreativesIds()),[e])})})),o(this,"playAd",(function(){var t=n.props,e=t.creative,r=t.window,i=e.videoErrorUrl,o=e.playerType,s=e.videoDebugFunction,a=void 0===s?ke():s,c=Er(Er({},e.playerConfig),{},{customMediaFilesFilter:n.duplicateAdsFilter,logEventFn:a}),u={appendPlayerInfo:!0,errorUrl:i,format:"inread",inViewTracker:e.viewPixel,onComplete:n.onComplete,onImpression:n.onImpression,onLoaded:n.onLoaded,selector:"#".concat(n.videoContainerId),vastXml:e.vastXML,vendor:o,vendorConfig:c};n.playerId=r.outstream.play(u)})),o(this,"onViewable",(function(){var t=n.props.creative.onElementViewable,e=n.props.window.outstream.getAdExtensions(n.playerId);t(n.getPropertyFromExtensions(e,"imp_view_url"))})),o(this,"calcVideoHeight",)),o(this,"renderControls",(function(){var t,e=n.props,r=e.buttons,i=e.creative,o=e.size,s=e.window,a=s.outstream.getAdExtensions(n.playerId),c=n.getPropertyFromExtensions(a,"complain_url");c&&(n.feedbackForm=new Oe({container:n.slotContainer.firstElementChild,onSelectReason,onStateChange:n.onFeedbackFormStateChange,responsive:!0,size:n.size,window:s}),t=Ut()(r.reportAd,{onClick:function(t){n.feedbackForm&&!n.feedbackForm.isVisible()&&(s.outstream.pause(n.playerId),n.feedbackForm.show())}})),Fe({buttons:{reportAd:t},id:i.id,size:o,slotContainer:n.slotContainer,window:s});var u=s.document.getElementById("".concat(i.id,"__complain-btn"));u&&(n.complainBtn=u)})),o(this,"onComplain",(function(t,e){var r=Vt()(t,"type",e);Ct()({uri:r}),setTimeout(),3e3)})),o(this,"onFeedbackFormStateChange",(function(t){n.complainBtn&&("onshow"===t?n.complainBtn.innerText="Report submission":"onsubmit"===t&&(n.complainBtn.innerText="Report submitted"),n.complainBtn.setAttribute("class","ata-controls__complain-btn ata-controls__complain-btn_clicked"))})),o(this,"getShownCreativesIds",(function(){var t=n.store.getStore().shownCreativesIds;return void 0===t?[]:t})),o(this,"getCreativeId",(function(t){var e=n.getPropertyFromExtensions(t,"creative");return e?"".concat(c()(e,"@id")):""})),o(this,"duplicateAdsFilter",(function(t){var e=t.ad.getExtensions(),r=n.getCreativeId(e),i=n.getShownCreativesIds();if(!W()(i,r))return t}));var i=R(r.size,2),s=i[0],a=i[1];this.size=[s,a||this.calcVideoHeight(s)]}return i(t,[{key:"render",value:function(){var t=this,e=this.props,r=e.slotId,n=e.beforeRender,i=void 0===n?ke():n,o=document.getElementById(r);if(!o)throw new Error("Element with id '".concat(r,"' not found"));this.slotContainer=o,this.slotContainer.innerHTML=this.getContainerHTML(),i(),s.e(659).then(s.bind(s,6659)).then())}},{key:"getSize",value:function(){var t=R(this.size,2);return[t[0],t[1]+10]}},{key:"destroy",value:function(){}},{key:"getPropertyFromExtensions",value:function(t,e){var r=dr()(t,));return c()(r,e,"")}},{key:"getContainerHTML",value:function(){var t=this.props.slotId,e=R(this.size,1)[0],r=Q()({height:"auto",margin:0,overflow:"hidden",padding:0,position:"relative",width:"".concat(e,"px")});return this.videoContainerId="".concat(t,"-video"),'<div id="'.concat(this.videoContainerId,'" style="').concat(r,'"></div>')}}]),t}(),Ar=function(){function t(r){var n=this;e(this,t),this.props=r,o(this,"fallbackUrls",[]),o(this,"ad",void 0),o(this,"fallbackAd",void 0),o(this,"noVideo",!1),o(this,"onNoAd",)),o(this,"beforeVideoRender",(function(){var t=n.props.slotId;if(!t)throw Error(".tryToRenderVastCreative elementId is empty");var e=document.getElementById(t);if(!e)throw new Error(".tryToRenderVastCreative. Element is not found");var r=e.getAttribute("style"),i=Q()({border:"0",height:"".concat(e.style.height),margin:"0",padding:"0",width:"".concat(e.style.width)});e.setAttribute("style",i),r&&e.setAttribute("data-style-before-video",r)})),o(this,"onVideoComplete",(function(){if(!n.noVideo){var t=n.props.slotId;if(t){var e=document.getElementById(t);if(e){var r=e.getAttribute("data-style-before-video");r&&setTimeout(),500)}else S.error(".onVideoComlete element is not found")}else S.error(".onVideoComplete  elementId is empty")}}));var i=r.creative,s=r.slotId,a=r.size,c=R(a,2),u=c[0],l=c[1];if(i instanceof yr)this.ad=new br({creative:i,size:a,slotId:s});else{if(!(i instanceof gr))throw new Error("Can't create ad for given props ".concat(JSON.stringify(r)));this.ad=new kr({beforeRender:this.beforeVideoRender,buttons:i.creativeButtons,creative:i,onComplete:this.onVideoComplete,onNoAd:this.onNoAd,size:a,slotId:s,window})}var f=i.fallbackAdResponse,d=i.fallbackUrls;if(f)if(this.fallbackUrls=d,f instanceof ur)this.fallbackAd=new ir({buttons:f.creativeButtons,creatives:f.members,enableParallax:f.enableParallax,height:l,label:f.creativeLabel,slotId:s,type:f.type,width:u,window});else if(f instanceof kt)this.fallbackAd=new $e({buttons:f.creativeButtons,creative:f,enableParallax:f.enableParallax,label:f.creativeLabel,slotId:s,width:u,window});else if(f instanceof lr)this.fallbackAd=new mr({buttons:f.creativeButtons,creative:f,label:f.creativeLabel,slotId:s,width:u,window});else{if(!(f instanceof sr))throw new Error("Can't create fallback ad for given props ".concat(JSON.stringify(r)));this.fallbackAd=void 0}}return i(t,[{key:"render",value},{key:"getSize",value:function(){var t;return(null===(t=this.ad)||void 0===t?void 0:t.getSize())||this.props.size}},{key:"destroy",value:function(){}},{key:"firePassbackAndRenderFallback",value:function(){var t=this.props.creative.passbackURL,e=void 0===t?"":t;this.sendGetRequest(e),this.renderFallback()}},{key:"renderFallback",value:function(){if(this.fallbackAd){var t=this.props.afterFallbackRender,e=void 0===t?ke():t;this.fallbackAd.render(),e(this.fallbackAd.getSize()),this.fireFallbackPixels()}}},{key:"sendGetRequest",value:function(t){_t()(t)&&Ct()({uri:t})}},{key:"fireFallbackPixels",value}]),t}(),Pr=function(){function t(r){e(this,t),this.props=r,o(this,"ad",void 0)}return i(t,[{key:"getID",value},{key:"showAd",value:function(t){this.createAd(t);try{var e;null===(e=this.ad)||void 0===e||e.render()}catch(t){S.error("Can't render creative",t)}}},{key:"getProps",value},{key:"onSlotRemovedFromDOM",value:function(){}}]),t}();var Rr=function(t){gt(a,t);var r,n,s=(r=a,n());function a(){var t;e(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return o(vt(t=s.call.apply(s,[this].concat(n))),"appendStyles",(function(e){var r=t.getID(),n=document.getElementById(r);if(n){var i=R(e,1)[0],o=t.ad instanceof mr?"visible":"hidden",s=Q()({display:"block",height:"auto","margin-left":"auto","margin-right":"auto",overflow:o,padding:0,width:"".concat(i,"px")});n.setAttribute("style",s)}})),t}return i(a,[{key:"createAd",value:function(t){var e=this.props,r=e.width,n=e.height,i=this.getID();if(t instanceof vr)this.ad=new Ar({afterFallbackRender:this.appendStyles,creative:t,size:[r,n],slotId:i});else if(t instanceof ur)this.ad=new ir({buttons:t.creativeButtons,creatives:t.members,enableParallax:t.enableParallax,height:n,label:t.creativeLabel,slotId:i,type:t.type,width:r,window});else if(t instanceof kt)this.ad=new $e({buttons:t.creativeButtons,creative:t,enableParallax:t.enableParallax,label:t.creativeLabel,slotId:i,width:r,window});else if(t instanceof lr)this.ad=new mr({buttons:t.creativeButtons,creative:t,label:t.creativeLabel,slotId:i,width:r,window});else{if(!(t instanceof sr))throw new Error("Can't create ad for given props ".concat(JSON.stringify(t)));this.ad=void 0}}},{key:"serialize",value:function(){return{format:"IAD",m:[or.DISPLAY,or.NATIVE],sid:this.getID(),w:this.props.width}}},{key:"showAd",value:function(t){if(this.createAd(t),this.ad)try{this.ad.render(),this.afterRender()}catch(t){S.error("Can't render creative",t)}}},{key:"afterRender",value}]),a}(Pr),Cr=s(8010),jr=s.n(Cr),_r=s(7265),Ir=s.n(_r),Tr=s(1348),Dr=s.n(Tr),Mr=s(6723),Lr=s.n(Mr);function Br(t,e){var r=R(e,2),n=r[0],i=r[1],o=new RegExp("\\${"+n+"}","g");return t.replace(o,i)}function Fr(t){var e,r,n,i=t.id,o=t.macroses,s=t.removeClasses,a=t.imageSelector,c=t.style,u=t.imptrackers,l=void 0===u?[]:u,f=t.clicktrackers,d=void 0===f?[]:f,p=document.getElementById(i);if(p){var h(p.outerHTML,o);h=function(t,e){var r=e.NATIVE_IMAGE,n=e.NATIVE_LOGO,i=e.NATIVE_ICON;return r&&(t=Lr()(t,B,r)),n&&(t=Lr()(t,F,n)),i&&(t=Lr()(t,N,i)),t}(h,o),p.outerHTML=h,p=document.getElementById(i),l.length&&l.forEach((function(t){return Ct()({uri:t})})),d.length&&(e=p,r=d,n=o.NATIVE_CLICKURL,e.addEventListener("click",(function(t){r.forEach());var i=t.target;_t()(n)&&function(t,e,r){return!!jr()(e,"#".concat(r.id,' a[href="').concat(t,'"]'))}(n,i,e)&&(t.preventDefault(),window.open(n))}))),s&&Ir()(p,s),a&&c&&X()(p.querySelectorAll(a)).forEach((function(t){var e=t.getAttribute("style")||"";t.setAttribute("style","".concat(e,";").concat(c))}))}ar Ur=function()return i(t,[{key:"getSize",value:function(){return[this.props.width,0]}},{key:"render",value:function(){var t=this.props.adResponse,e=t.id,r=t.onElementViewable,n=this.props.window.document.getElementById(e);n&&De.observeViewability({element:n,onElementViewable:r}),Fr(zr(zr({},this.props),this.props.adResponse))}},{key:"destroy",value:function(){}}]),t}();var Hr=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(t){var r;e(this,a),o(vt(r=s.call(this,t)),"macroses",void 0),o(vt(r),"imptrackers",[]),o(vt(r),"clicktrackers",[]);var n=r.serverCreative,i=n.data,c=n.clicktrackers,u=n.imptrackers;if(r.macroses=i,u){if(!Array.isArray(u))throw new St("imp trackers must be an array",u);r.imptrackers=u}if(c){if(!Array.isArray(c))throw new St("click trackers must be an array",c);r.clicktrackers=c}return r}return i(a)}(Ot);function Vr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var Gr=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(){return e(this,a),s.apply(this,arguments)}return i(a,[{key:"createAd",value:function(t){if(t instanceof Hr)this.ad=new Ur({adResponse:t,window:this.props.window||window},this.props));else{if(!(t instanceof sr))throw new Error("Can't create ad for given props ".concat(JSON.stringify(t)));this.ad=void 0}}},{key:"serialize",value:function(){var t=this.props,e=t.width;return{assets:t.macroses,format:"NAT",sid:this.getID(),w:e}}}]),a}(Pr),qr=s(2716);var Wr="pageVisibilityChange",Jr=!0,Yr=!1,Kr={blur:Yr,focus:Jr,focusin:Jr,focusout:Yr,pagehide:Yr,pageshow:Jr};const Qr=new(function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(){var t;return e(this,a),o(vt(t=s.call(this)),"pageVisibility",!0),o(vt(t),"visibilityHandler",)),o(vt(t),"visibilityHandlerForOldBrowsers",(function(e){var r=e||window.event,n=t.pageVisibility;r.type in Kr&&(n=Kr[r.type]),t.onVisibilityChange(n)})),t.setPageVisibilityListener(),t}return i(a,[{key:"isPageVisible",value:function(){return this.pageVisibility}},{key:"setPageVisibilityListener",value:function(){"hidden"in document?document.addEventListener("visibilitychange",this.visibilityHandler):"mozHidden"in document?document.addEventListener("mozvisibilitychange",this.visibilityHandler):"webkitHidden"in document?document.addEventListener("webkitvisibilitychange",this.visibilityHandler):"msHidden"in document?document.addEventListener("msvisibilitychange",this.visibilityHandler):"onfocusin"in document?document.onfocusin=document.onfocusout=this.visibilityHandlerForOldBrowsers:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=this.visibilityHandlerForOldBrowsers}},{key:"onVisibilityChange",value:function(t){this.pageVisibility=t,this.emit(Wr,[t])}}]),a}(s.n(qr)()));var Zr=function(){function t(r,n){var i=this;e(this,t),this.timeout=r,this.callback=n,o(this,"timeoutId",0),o(this,"counterId",0),o(this,"msPassed",0),o(this,"isVisible",!0),o(this,"isPaused",!1),o(this,"visibilityChangeHandler",(function(t){i.isVisible=t,i.isVisible&&!i.isPaused?i.continueTimer():i.pauseTimer()})),o(this,"onTimeoutReach",(function(){i.pauseTimer(),Qr.off(Wr,i.visibilityChangeHandler),i.callback()})),Qr.isPageVisible()&&this.startTimer(),Qr.on(Wr,this.visibilityChangeHandler)}return i(t,[{key:"pause",value:function(){this.isPaused=!0,this.pauseTimer()}},{key:"continue",value},{key:"startTimer",value:function(){var t=this;this.timeoutId=window.setTimeout(this.onTimeoutReach,this.timeout),this.msPassed=0,this.counterId=window.setInterval(),1e3)}},{key:"continueTimer",value:function(){this.timeout=this.timeout-this.msPassed,this.startTimer()}},{key:"pauseTimer",value}]),t}();const Xr=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)})return i(a,[{key:"showAd",value:function(t){if(this.createAd(t),this.ad)try{this.beforeRender(),this.ad.render(),this.afterRender()}catch(t){S.error("Can't render creative",t)}this.setReloadTimeout()}},{key:"stopReloadTimer",value},{key:"onSlotRemovedFromDOM",value:function(){this.stopReloadTimer()}},{key:"getReloadCounter",value:function(){return this.reloadCounter}},{key:"increaseReloadCounter",value}]),a}(Pr);const $r=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(t){var r;return e(this,a),o(vt(r=s.call(this,t)),"blcr",void 0),o(vt(r),"closeURL",void 0),o(vt(r),"adResponse",void 0),o(vt(r),"slotContainer",void 0),r.slotContainer=r.createSlot(),r}return i(a,[{key:"serialize",value:function(){var t=R(this.getSlotSize(),1)[0],e=this.getReloadCounter();return{blcr:this.blcr,format:this.getSlotFormat(),m:[or.DISPLAY,or.NATIVE],r_count:e,sid:this.getID(),w:t}}},{key:"createAd",value:function(t){this.adResponse=t;var e=t instanceof sr;e||(this.blcr=t.blcr,this.closeURL=t.closeURL,this.ad&&this.ad.destroy());var r=this.getID(),n=R(this.getSlotSize(),1)[0];if(t instanceof ur)this.ad=new ir({buttons:t.creativeButtons,creatives:t.members,height:0,label:t.creativeLabel,slotId:r,type:t.type,width:n,window});else if(t instanceof kt)this.ad=new $e({buttons:t.creativeButtons,creative:t,label:t.creativeLabel,slotId:r,width:n,window});else{if(!e)throw new Error("Can't create ad for given props ".concat(JSON.stringify(t)));this.ad=void 0}}},{key:"showAd",value:function(t){if(this.createAd(t),this.ad)try{this.beforeRender(),this.ad.render(),this.afterRender()}catch(t){S.error("Can't render creative",t)}this.setReloadTimeout()}}]),a}(Xr);var tn=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(){var t;e(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return o(vt(t=s.call.apply(s,[this].concat(n))),"styleElementRef",void 0),o(vt(t),"minPageWidth",0),t}return i(a,[{key:"beforeRender",value:function(){this.resetStyles()}},{key:"afterRender",value:function(){this.appendStyles()}},{key:"getSlotFormat",value:function(){var t=this.getProps().position;return"left"===(void 0===t?"left":t)?"DPL":"DPR"}},{key:"getSlotSize",value:function(){var t=this.getProps();return[t.width,t.height]}},{key:"createSlot",value:function(){var t=this.props.position,e=void 0===t?"left":t,r=this.getID(),n=document.createElement("div");return n.id=r,n.style[e]="0",n.style.display="none",document.body.appendChild(n),n}},{key:"setReloadTimeout",value:function(){var t,e=this,r=this.getProps().onReloadReady,n=null===(t=this.adResponse)||void 0===t?void 0:t.reloadTime;r&&n&&(this.reloadTimer=new Zr(n,(function(){e.isSlotHidden()||(r(e),e.increaseReloadCounter())})))}},{key:"appendStyles",value:function(){if(!this.ad)throw new Error("ad has not been created yet");var t=R(this.ad.getSize(),2),e=(t[0],t[1]),r=this.props,n=r.position,i=void 0===n?"left":n,s=r.contentSelector,a=r.zIndex,c=void 0===a?16777271:a,u=Q()(o({display:"block",height:"".concat(e,"px"),marginTop:"".concat(-e/2,"px"),position:"fixed",top:"50%",zIndex:c},i,0));if(!this.slotContainer)throw new Error(".slotContainer is empty");this.slotContainer.setAttribute("style",u);var l=window.innerWidth,f=l,d=document.querySelector(s);if(d){var p=parseInt(getComputedStyle(this.slotContainer).getPropertyValue("width"),10),h=document.documentElement.clientWidth,v=d.getBoundingClientRect(),g=l-h;if(v.right-v.width===v.left)f=l-(h-v.width-2*p);else{var m=v.x,b=h-v.right,w=Math.min(m,b);f=v.width+p+w+g}}var x=this.getID();this.styleElementRef=y()("\n            @media (max-width: ".concat(f-1,"px) {\n                #").concat(x," {\n                    display: none !important;\n                }\n            }\n        ")),this.minPageWidth=f}},{key:"resetStyles",value:function(){var t,e=Q()({display:"none"});if(!this.slotContainer)throw new Error(".slotContainer is empty");this.slotContainer.setAttribute("style",e),null!==(t=this.styleElementRef)&&void 0!==t&&t.parentElement&&(this.styleElementRef.parentElement.removeChild(this.styleElementRef),this.styleElementRef=void 0)}},{key:"isSlotHidden",value}]),a}($r);function en(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function rn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?en(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):en(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var nn=function(){function t(r){var n=this;e(this,t),this.config=r,o(this,"processDynamicSlots",d(h().mark((function t(){var e,r,i,o,s;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=[],r=n.config.nativeCfg)try{i=r.postSelector,o=r.nativeSlotSelector,s=G({originalElementSelector:i,slotSelector:o}).map((function(t){return new Gr(rn(rn(rn({},t),r),{},{elementId:t.id}))})),e=e.concat(s)}catch(t){S.error("Can't process native slots",t)}if(n.config.inlineAds)try{e=e.concat(n.processInlineSlots())}catch(t){S.error("Can't process inline ads",t)}if(n.config.sidebarSticky)try{e=e.concat(n.processSidebarSticky())}catch(t){S.error("Can't process sticky ads",t)}try{n.config.onReadyToShow({slots:e})}catch(t){S.error("Can't show dynamic ads",t)}case 6:case"end":return t.stop()}}),t)})))),"loading"!==document.readyState?this.processDynamicSlots():document.addEventListener("DOMContentLoaded",this.processDynamicSlots)}return i(t,[{key:"processInlineSlots",value:function(){var t=this.config.inlineAds;return t?function(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:20,a=0,c=[],u=at(t),l=u.length;if(l){for(var f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return{viewportHeight:t.innerHeight,viewportWidth:t.innerWidth}}(),d=f.viewportHeight,p=Math.ceil(n*d),h=pt(i?at(i):[],p),v=0;v<l&&!(a>=s);v++){var y=lt(u[v],r,e,h,a,p,o,s);c.push.apply(c,C(y)),a+=y.length}if(c.length)return st(c)}return[]}(t.articleSelector,t.paragraphSelector,t.stopSelector,t.viewportRatio,t.resetSelector,t.minWidth,t.maxSlots).map((function(t){return new Rr(rn({elementId:t.id},t))})):[]}},{key:"processSidebarSticky",value:function(){var t=this.config,e=t.sidebarSticky,r=t.onReloadReady;if(!e)return[];var n=e.contentSelector,i=e.minWidth,o=e.position,s=e.zIndex,a=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=document.documentElement.clientWidth,i=document.querySelector(e);if(i){var o=i.getBoundingClientRect()[t],s="right"===t?n-o:o,a=Math.max(0,Math.floor(s));if(!(r>a))return{id:"sidebar-sticky-ad",width:a}}}(o,n,i);return a?[new tn(rn(rn({},a),{},{contentSelector:n,elementId:a.id,height:0,onReloadReady:r,position:o,zIndex:s}))]:[]}}]),t}(),on="hbInSafeFrameRender";const sn=new(function()return i(t,[{key:"isListenerSet",value:function(){return this.isSet}},{key:"setupListener",value:function(){var t=this;window.addEventListener("message",))}},{key:"messageHandler",value:function(t){var e=t.data,r=t.source,n=t.origin;if(M()("https://c0.pubmine.com",n))try{var i=JSON.parse(e),o=i.message,s=i.bidId;if(o===on){var a=window.__ATA_HB;if(a){var c=a.getCreativeByBidId&&a.getCreativeByBidId(s),u=JSON.stringify({creative:c,message:on});r.postMessage(u,"*")}}}catch(t){}}}]),t}()),an=function(){function t(r){var n=this;e(this,t),this.slotRegistry=r,o(this,"mutationObserver",void 0),this.mutationObserver=new MutationObserver((function(t){t.forEach((function(t){Gt(t.removedNodes).forEach())}))})),this.mutationObserver.observe(document.documentElement,{childList:!0,subtree:!0})}return i(t,[{key:"findAndUnregisterSlots",value:function(t){var e=this,r=this.slotRegistry,n=t.id;r.get(n)?this.unregisterSlot(n):r.keys().forEach((function(r){t.querySelector&&t.querySelector("#".concat(r))&&e.unregisterSlot(r)}))}},{key:"unregisterSlot",value}]),t}();var cn=s(280),un=s.n(cn);const ln=function(){function t(){e(this,t),o(this,"registeredSlotsMap",{})}return i(t,[{key:"get",value:function(t){return this.registeredSlotsMap[t]}},{key:"getAll",value},{key:"keys",value},{key:"register",value:function(t){var e=this;t.forEach((function(t){var r=t.getID();e.registeredSlotsMap[r]||(e.registeredSlotsMap[r]=t)}))}},{key:"unregisterSlotAndReturnIt",value}]),t}();var fn,dn,pn=s(2524),hn=s.n(pn),vn=s(7027),yn=s.n(vn),gn=s(8398),mn=s.n(gn),bn=(fn=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document).createElement("VIDEO");return["video/ogg","video/mp4","application/x-mpegURL","video/webm"].filter())},dn={},function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=JSON.stringify(e);return n in dn||(dn[n]=fn.apply(void 0,e)),dn[n]}),wn=function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bn;return o(r={},"startdelay",0),o(r,"api",[2]),o(r,"linearity",1),o(r,"protocols",[2,3,5,6]),o(r,"w",Math.floor(t)),o(r,"h",Math.floor(e)),o(r,"playbackmethods",[2]),o(r,"mimes",["application/javascript"].concat(C(n()))),r},xn=s(165),Sn=s.n(xn),On=s(7861),En=s.n(On),kn=s(9830),An=s.n(kn),Pn=s(2810),Rn=s.n(Pn),Cn=s(7836),jn=s.n(Cn),_n=s(583),In=s.n(_n),Tn=1,Dn=100;function Mn(){return new(w())((function(t){window.__uspapi&&m()(window.__uspapi)?(window.__uspapi("getUSPData",Tn,(function(e,r){r&&t(e.uspString),t(void 0)})),setTimeout(),Dn)):t(void 0)}))}var Ln=An()(Ct()),Bn=s(8063),Fn=s.n(Bn),Nn=s(3248),zn=s.n(Nn),Un="s.pubmine.com";function Hn(t){return t&&_t()(t)?function(t,e){return{config:{complete:1,nodes:[{asi:e,hp:1,sid:t}],ver:"1.0"},validation:"strict"}}(t,Un):null}function Vn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Gn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vn(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var qn="TDS",Wn=0;function Jn(t,e){var r=c()(e,"c"),n=c()(e,"ds",[]),i=c()(e,"vs",[]);r===qn&&i.length&&(Wn++,i=i.map((function(t){return Gn(Gn({},t),{},{code:"".concat(c()(t,"code"),"_").concat(Wn)})})));var o=c()(e,"to",4e3),s=c()(e,"p",{}),a=function(t){var e=c()(t,"schain",{});if(zn()(e))return{config:e,validation:"strict"}}(e),u=i.concat(n);return"string"==typeof r&&t.push({code:r,displaySlots:n,params:s,schain:a,slots:u,timeout:o,videoSlots:i}),t}function Yn(t){return Fn()(t)?t.reduce(Jn,[]):[]}function Kn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Kn(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Zn(t){switch(t.error){case __ATA_HB.AdapterError.ADAPTER_ERROR:return"err";case __ATA_HB.AdapterError.BIDDER_TIMEOUT:return"to";default:return"err"}var $n="nobid"function ei(t,e){return e.status===__ATA_HB.BidStatus.NO_BID?e.size?Qn(Qn({},ti(t,e)),{},{s:Xn(e.size)}):ti(t,e):{b:{bid:e.value},c:t,crid:e.creativeId,s:Xn(e.size)}}function ri(t,e){var r=[];return t.forEach((function(t){if(In()(t.error))Array.isArray(t.response)&&t.response.forEach((function(e){r.push(function(t,e){switch(e.mediaType){case __ATA_HB.BidMediaType.VIDEO:return function(t,e){var r=ei(t,e),n=r.b,i=r.s,o=r.c,s=r.r,a=r.crid;return{b:mn()(n)?n:Qn(Qn({},n),{},{vast:e.vast}),c:o,crid:a,m:e.mediaType,r:s,s:i}}(t,e);case __ATA_HB.BidMediaType.NATIVE:return function(t,e){var r=ei(t,e),n=r.b,i=r.s,o=r.c,s=r.r,a=r.crid;return{b:mn()(n)?n:Qn(Qn({},n),{},{assets:e.assets}),c:o,crid:a,m:e.mediaType,r:s,s:i}}(t,e);case __ATA_HB.BidMediaType.DISPLAY:return function(t,e){return Qn(Qn({},ei(t,e)),{},{b:e.status===__ATA_HB.BidStatus.NO_BID?$n:{bid:e.value,cid:e.bidId},m:e.mediaType})}(t,e);default:return ei(t,e)}}(t.code,e))}));else{var n=dr()(e,)),i=n.displaySlots,o=n.videoSlots;i&&i.forEach((function(e){r.push({b:Zn(t),c:t.code,r:e})})),o&&o.forEach((function(e){r.push({b:Zn(t),c:t.code,r:e})}))}})),r}function ni(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ii(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ni(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ni(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var oi=An()(En()),si=function(){function r(t){var n;e(this,r),this.config=t,o(this,"isAdBlockPlusEnabled",void 0),o(this,"adRequestCount",0),o(this,"apiUrl",void 0),this.setUserIdCookie(t),this.apiUrl="//".concat(t.authority),this.isAdBlockPlusEnabled=(n=this.apiUrl,Ln({uri:n+"/pixel?id=15&type=img",timeout:1e3})).then((function(){return!1})).catch((function(t){return"timeout"!==t||void 0}))}var n,s,a,c,u;return i(r,[{key:"getAdsForSlots",value:(u=d(h().mark((function t(e){var r,n,i,o,s,a,c,u,l,f,d,p,v,y=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.slots,n=e.hb,o=(i=void 0===n?{}:n).response,s=void 0===o?[]:o,a=i.config,c=void 0===a?[]:a,u={},l=r.map((function(t){return u[t.getID()]=t,t.serialize()})),t.next=5,this.getCommonPostRequestParams();case 5:return f=t.sent,t.next=8,this.sendPostRequest("/adjr",ii({count:++this.adRequestCount,hb_bids:ri(s,c),imp_delay:this.getImpDelay(),section_id:this.findSectionId(l),slots:l,vma:Number(this.config.isViewabilityMeasurable)},f));case 8:return d=t.sent,p=JSON.parse(d),this.setUserIdCookie(p),v=[],p.ads.forEach((function(t){var e=u[t.sid];if(e){var r;try{r=y.createAdResponse(t,e.getID(),s,1===f.gdpr)}catch(t){return void S.error("Ad response validation failed",t)}v.push([e,r])}})),t.abrupt("return",v);case 14:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"sendError",value:function(t,e){var r=Rn()(this.apiUrl+"/jslog",{m:e&&e.toString(),n:t,pvid:this.config.pageViewID,s:"err",v:"2.39.01695837358837"});Ct()({uri:r})}},{key:"getHBConfig",value:(c=d(h().mark((function t(e){var r,n,i,o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCommonPostRequestParams();case 2:return r=t.sent,n=ii({slots:e.map())},r),t.next=6,this.sendPostRequest("/adconf",n);case 6:return i=t.sent,o=JSON.parse(i),this.setUserIdCookie(o),t.abrupt("return",Yn(o.hb));case 10:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"setUserIdCookie",value:function(t){var e=t.tuuid;e&&"number"==typeof e.maxAge&&"string"==typeof e.value&&(Sn()("__ATA_tuuid",e.value,e.maxAge,"/",void 0,!0,"None"),this.config.userID=e.value)}},{key:"sendPassback",value:function(t,e){var r=Rn()(t,{imp_delay:e});Ct()({uri:r})}},{key:"sendViewabilityPixel",value:function(t){_t()(t)&&Ct()({uri:t})}},{key:"sendVideoDebug",value:(a=d(h().mark((function t(e,r){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={debug:r,player_id:e,plt:this.config.playerType},t.prev=1,t.next=4,this.sendPostRequest("/v_debug",n);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),S.error("Can't send /v_debug",t.t0);case 9:case"end":return t.stop()}}),t,this,[[1,6]])}))),function(t,e){return a.apply(this,arguments)})},{key:"getVideoErrorURL",value},{key:"createAdResponse",value:function(e,r,n,i){var o={blcr:e.blcr,creative:e,creativeUIConfig:this.config.creativeUIConfig,isCMPDefined:this.config.isCMPDefined,isGdprApplied:i,onElementViewable:this.sendViewabilityPixel,onPassback:this.sendPassback};if(e.noad)return new sr(o);if(e.com)return new ur(o);if(e.teads)return new yr(o,n);if(e.adslot_view_url)return new gr(ii(ii({},o),{},{playerType:this.config.playerType,videoDebugFunction:this.config.videoDebug?this.sendVideoDebug.bind(this,r):void 0,videoErrorUrl:this.getVideoErrorURL()}));if("object"===(0,t.Z)(e.data)&&null!==e.data)return new Hr(o);if(e.do_not_wrap)return new lr(o);if(!e.com&&!e.adslot_view_url)return new kt(o);throw new Error("Can't create parse AdResponse")}},{key:"getCommonPostRequestParams",value:(s=d(h().mark((function t(){var e,r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.isAdBlockPlusEnabled;case 2:if(e=t.sent,r={},!this.config.isCMPDefined){t.next=13;break}return t.prev=5,t.next=8,E();case 8:r=t.sent,t.next=13;break;case 11:t.prev=11,t.t0=t.catch(5);case 13:return t.t1=ii,t.t2=jn()(e)?Number(e):void 0,t.t3=this.config.pageParams,t.t4=window.top!==window?document.referrer:window.location.href,t.t5=this.config.userID,t.next=20,Mn();case 20:return t.t6=t.sent,t.t7="2.39.01695837358837",t.t8={player:wn(640,360),plt:this.config.playerType},t.t9={h:this.config.viewPort.height,w:this.config.viewPort.width},t.t10={ab:t.t2,pp:t.t3,ref:t.t4,tuuid:t.t5,us_privacy:t.t6,v:t.t7,video:t.t8,vp:t.t9},t.t11=(void 0,void 0,i=(n=r).gdprApplies,o=n.tcString,{gdpr:"boolean"==typeof i?Number(i):void 0,gdpr_consent:mn()(o)?o:void 0}),t.abrupt("return",(0,t.t1)(t.t10,t.t11));case 27:case"end":return t.stop()}var n,i,o}),t,this,[[5,11]])}))),function(){return s.apply(this,arguments)})},{key:"sendPostRequest",value:(n=d(h().mark((function t(e,r){var n,i,o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.apiUrl+e,i={mockserverSessionId:this.getMockserverSessionId(),pvid:this.config.pageViewID,rid:String(this.config.routeId)},o={data:JSON.stringify(r),headers:{"Content-type":"text/plain"},method:"POST",queryParams:i,url:n,withCredentials:!0},t.abrupt("return",oi(o));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"findSectionId",value:function(t){var e=dr()(t,));return e?e.section_id:void 0}},{key:"getImpDelay",value:function(){return this.config.libraryLoadedAt?Date.now()-this.config.libraryLoadedAt:void 0}},{key:"getMockserverSessionId",value:function(){return hn()("mockserverSessionId")||window.mockserverSessionId||null}}]),r}(),ai=s(4518),ci=s.n(ai);var ui=function(t){return t[t.IFRAME=1]="IFRAME",t[t.IMG=2]="IMG",t[t.SCRIPT=3]="SCRIPT",t}({}),li=An()(Ct());var fi=function(t){gt(s,t);var r,n,o=(r=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function s(){return e(this,s),o.apply(this,arguments)}return i(s)}(xt(Error)),di=s(287),pi=s.n(di)var vi=s(8223),yi="bottom-sticky__ad",gi="".concat(yi,"-container"),mi=gi,bi="".concat(gi," ").concat(gi,"_hidden"),wi="".concat(yi,"-close-btn"),xi=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(t){var r;return e(this,a),o(vt(r=s.call(this,t)),"isClosed",!1),o(vt(r),"lastPageYOffset",0),o(vt(r),"slotRenderedTs",0),o(vt(r),"isAdRendered",!1),o(vt(r),"onScroll",(function(){var t;pageYOffset<0||r.isClosed||!r.isAdRendered||(pageYOffset!==r.lastPageYOffset&&null!==(t=r.slotContainer)&&void 0!==t&&t.className&&(pageYOffset<r.lastPageYOffset?r.hideSlot():r.showSlot()),r.lastPageYOffset=pageYOffset)})),r.insertStyles(),r.addListeners(),r}return i(a,[{key:"beforeRender",value},{key:"afterRender",value:function(){this.showSlot(),this.slotRenderedTs=Date.now(),this.isAdRendered=!0}},{key:"getSlotFormat",value},{key:"getSlotSize",value:function(){var t=hi();return[t.width,t.height]}},{key:"createSlot",value:function(){var t=this.props,e=t.width,r=t.zIndex,n=this.getID(),i=Q()({margin:"0 auto",width:"".concat(e,"px")}),o=r?Q()({zIndex:r}):"",s='<div class="'.concat(bi,'" id="').concat(mi,'" style="').concat(o,'">\n            <div class="').concat(wi,'"></div>\n            <div id="').concat(n,'" style="').concat(i,'"></div>\n        </div>');return document.body.insertAdjacentHTML("beforeend",s),document.getElementById(mi)}},{key:"setReloadTimeout",value:function(){var t,e=this,r=this.getProps().onReloadReady,n=null===(t=this.adResponse)||void 0===t?void 0:t.reloadTime;r&&n&&(this.reloadTimer=new Zr(n,(function(){r(e),e.increaseReloadCounter()})))}},{key:"addListeners",value:function(){var t=document.querySelector(".".concat(wi));null==t||t.addEventListener("click",this.closeSlotContainer.bind(this)),this.onScroll=pi()(this.onScroll,100),window.addEventListener("scroll",this.onScroll)}},{key:"removeListeners",value},{key:"removeAdContainer",value:function(){var t,e;null===(t=this.slotContainer)||void 0===t||null===(e=t.parentNode)||void 0===e||e.removeChild(this.slotContainer)}},{key:"closeSlotContainer",value},{key:"showSlot",value:function(){var t;this.slotContainer.className=gi,null===(t=this.reloadTimer)||void 0===t||t.continue()}},{key:"hideSlot",value},{key:"sendClosePixel",value:function(){if(this.closeURL){var t=Date.now()-this.slotRenderedTs,e=Vt()(this.closeURL,"msec","".concat(t));Ct()({uri:e})}}},{key:"insertStyles",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;vi&&m()(vi.toString)&&y()(vi.toString(),t)}},{key:"resetStyles",value:function(){if(!this.slotContainer)throw new Error(".slotContainer is empty");this.slotContainer.className=bi}}]),a}($r);function Si(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Oi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Si(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Si(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ei({}),ki=function(t){return t[t.IMMEDIATELY=0]="IMMEDIATELY",t[t.ON_DOM_CONTENT_LOADED=1]="ON_DOM_CONTENT_LOADED",t[t.ON_LOAD_COMPLETE=2]="ON_LOAD_COMPLETE",t}({}),Ai=s(8411),Pi=s.n(Ai)function Ci(){return Ci=d(h().mark((function t(e,r,n,i){var o,a,c,u;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return",[]);case 2:return t.prev=2,t.next=5,s.e(627).then(s.t.bind(s,3627,23));case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(2),new Error("Can't download hb lib");case 10:if(o={},!r){t.next=26;break}return t.prev=12,t.next=15,E();case 15:a=t.sent,c=a.gdprApplies,u=a.tcString,o={gdprApplies:c},mn()(u)&&(o.consentString=u),t.next=24;break;case 22:t.prev=22,t.t1=t.catch(12);case 24:t.next=27;break;case 26:Pi()(n)&&(o=n);case 27:return __ATA_HB.setPrebidConfig({schain:Hn(i),userSync:{enableOverride:!0,iframeEnabled:!0}}),t.abrupt("return",new Promise(function(){var t=d(h().mark((function t(r,n){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=__ATA_HB,t.t1=o,t.t2=e,t.next=6,Mn();case 6:t.t3=t.sent,t.t4={gdpr:t.t1,partners:t.t2,usPrivacy:t.t3},t.t5=r,t.t0.getBids.call(t.t0,t.t4,t.t5),t.next=15;break;case 12:t.prev=12,t.t6=t.catch(0),n(t.t6);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return}()));case 29:case"end":return t.stop()}}),t,null,[[2,7],[12,22]])}))),Ci.apply(this,arguments)}s(8188),s(9074);var ji;function _i(t,e){var r={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(c()(i,"value"))r[n]=i.value;else{if(!c()(i,"src")||!c()(i,"type"))continue;var o=i,s=c()(t,o.src);if(o.type(s))r[n]=o.map?o.map(s):s;else{if(o.required)return;In()(o.default)||(r[n]=o.default)}}}return r}function Ii(t){return _i(t,{consentString:{src:"gdpr.cs",type:_i.string},gdprApplies:{src:"gdpr.ga",type:_i.number,map:Boolean}})||{}}_i.string=mn(),_i.number=l(),_i.boolean=jn(),_i.array=function(t){return function(e){return Fn()(e)&&!e.some(yn()(ji,t))}};var Ti=function(){function t(r){e(this,t),this.context=r}var r,n;return i(t,[{key:"show",value:(n=d(h().mark((function t(e){var r,n,i;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.slots.length){t.next=2;break}return t.abrupt("return");case 2:if(n=this.context.getStore(),i=n.adServer){t.next=6;break}return S.error("Ad request failed",new Error("adServer must be initialized")),t.abrupt("return");case 6:return t.next=8,i.getAdsForSlots(e);case 8:r=t.sent,Fn()(r)?r.forEach((function(t){var e=R(t,2),r=e[0],n=e[1];try{r.showAd(n)}catch(t){S.error("Error while showing creative in ad ".concat(r),t)}})):S.error("ads is not an array");case 10:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"requestHBAndShow",value:(r=d(h().mark((function t(e){var r,n,i,o,s,a,c;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.slots.length){t.next=2;break}return t.abrupt("return");case 2:if(r=this.context.getStore(),n=r.cmp,i=r.adServer,o=r.config,i){t.next=5;break}throw new Error("adServer must be initialized");case 5:return s=[],a=[],t.prev=7,t.next=10,i.getHBConfig(e.slots);case 10:a=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),S.error("HB config request failed",t.t0);case 16:if(!a||!a.length){t.next=27;break}return c=Ii(o),t.prev=18,t.next=21,Ri(a,n,c);case 21:s=t.sent,t.next=27;break;case 24:t.prev=24,t.t1=t.catch(18),S.error("HB request failed",t.t1);case 27:this.show({slots:e.slots,hb:{response:s,config:a}});case 28:case"end":return t.stop()}}),t,this,[[7,13],[18,24]])}))),function(t){return r.apply(this,arguments)})}]),t}();const Di=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(){var t;e(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return o(vt(t=s.call.apply(s,[this].concat(n))),"showAds",function(){var e=d(h().mark((function e(r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.hb&&zn()(r.hb)?t.show(r):t.requestHBAndShow(r);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t}return i(a)}(Ti);var Mi=function(){function t(r){var n=this;e(this,t),this.props=r,o(this,"observer",void 0),o(this,"registeredSlotsMap",{}),o(this,"fetchPolyfillPromise",void 0),o(this,"onThresholdReach",(function(t){var e=[];t.forEach((function(t){if(t.isIntersecting){var r=t.target.id,i=n.registeredSlotsMap[r];i&&e.push(i)}})),n.props.showAdsCallback({slots:e})})),o(this,"register",(function(t){t.forEach((function(t){var e,r=t.getID(),i=document.getElementById(r);i&&(n.registeredSlotsMap[r]=t,null===(e=n.observer)||void 0===e||e.observe(i))}))})),this.fetchPolyfillPromise=this.fetchPolyfillIfNeeded(),this.fetchPolyfillPromise.then((function(){n.observer=new IntersectionObserver(n.onThresholdReach,{rootMargin:r.viewportMargin}),delete n.fetchPolyfillPromise})).catch())}var r;return i(t,[{key:"registerSlots",value:function(t){var e=this,r=t.slots;this.fetchPolyfillPromise?this.fetchPolyfillPromise.then()).catch()):this.observer?this.register(r):this.props.showAdsCallback({slots:r})}},{key:"unregisterSlots",value:function(t){var e=this;t.slots.forEach((function(t){var r,n=t.getID(),i=document.getElementById(n);i&&(delete e.registeredSlotsMap[n],null===(r=e.observer)||void 0===r||r.unobserve(i))}))}},{key:"fetchPolyfillIfNeeded",value:(r=d(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isIntersectionObserverSupported()){t.next=4;break}return t.abrupt("return",Promise.resolve());case 4:return t.abrupt("return",s.e(337).then(s.t.bind(s,6337,23)));case 5:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"isIntersectionObserverSupported",value}]),t}();const Li=Mi,Bi=function(){function t(r){e(this,t),this.props=r}return i(t,[{key:"destroy",value:function(){}},{key:"getSize",value:function(){var t=R(this.props.creative.size,2);return[t[0],t[1]]}},{key:"render",value:function(){var t=Q()({border:"none",height:"0px",margin:0,overflow:"hidden",width:"0px"}),e=Q()({height:"0px",width:"0px"}),r=document.createElement("div");r.id=this.props.slotId,r.setAttribute("style",e);var n=document.createElement("iframe");n.setAttribute("style",t),r.appendChild(n),document.body.appendChild(r),Je(this.props.creative,r)}}]),t}();var Fi=function(t){gt(s,t);var r,n,o=(r=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function s(){return e(this,s),o.apply(this,arguments)}return i(s,[{key:"createAd",value:function(t){if(t instanceof kt){var e=t.id,r=t.size;this.ad=new Bi({buttons:t.creativeButtons,creative:t,slotId:e,width:r[0],window})}else if(!(t instanceof sr))throw new Error("Can't create ad for given props ".concat(JSON.stringify(t)))}},{key:"serialize",value:function(){return{format:"OGURY",m:[or.DISPLAY],sid:this.getID()}}}]),s}(Pr);const Ni=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(t){var r;return e(this,a),(r=s.call(this,t)).context=t,o(vt(r),"lazyLoadObserver",void 0),o(vt(r),"showAds",function(){var t=d(h().mark((function t(e){var n,i,o,s;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.slots.length){t.next=2;break}return t.abrupt("return");case 2:n=[],i=[],o=[],s=[],e.slots.forEach((function(t){t instanceof xi?n.push(t):t instanceof tn?i.push(t):t instanceof Fi?s.push(t):o.push(t)})),s.length&&r.show({slots:s,hb:e.hb}),n.length&&(e.hb&&zn()(e.hb)?r.show({slots:n,hb:e.hb}):r.requestHBAndShow({slots:n})),i.length&&r.requestHBAndShow({slots:i}),o.length&&r.registerSlots({slots:o});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),o(vt(r),"registerSlots",function(){var t=d(h().mark()));return function(e){return t.apply(this,arguments)}}()),r.lazyLoadObserver=new Li({showAdsCallback,viewportMargin:r.getViewportMargin()}),r}return i(a,[{key:"getViewportMargin",value:function(){var t=hi().height,e=this.context.getStore().config,r=c()(e,"lazyload.viewportMarginRatio",.5);return"".concat(t*r,"px")}}]),a}(Ti);var zi=s(453),Ui=s.n(zi),Hi=i());var Vi=function(t){gt(c,t);var r,n,s,a=(n=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(n);if(s){var r=bt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return mt(this,t)});function c(){var t;e(this,c);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return o(vt(t=a.call.apply(a,[this].concat(n))),"processQueueDebounced",void 0),t}return i(c,[{key:"onEnter",value:function(){this.processQueueDebounced=Ui()(this.processAdQue.bind(this),1),this.processQueueDebounced()}},{key:"onExit",value:function(){}},{key:"showAd",value:function(t){this.context.getStore().slotQue.push(t),this.processQueueDebounced&&this.processQueueDebounced()}},{key:"processAdQue",value:(r=d(h().mark((function t(){var e,r,n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.context){t.next=2;break}throw new Error(".processAdQue is called before onEnter");case 2:e=this.context.getStore(),r=e.slotQue,n=e.initialHB,this.context.showAds({hb:{config:n&&n.config,response:n&&n.response},slots:r}),this.context.setStore({initialHB:void 0,slotQue:[]});case 5:case"end":return t.stop()}}),t,this)}))))}]),c}(Hi);var Gi=function(t){gt(a,t);var r,n,o,s=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(n);if(o){var r=bt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return mt(this,t)});function a(){return e(this,a),s.apply(this,arguments)}return i(a,[{key:"onEnter",value:function(t){var e=this.getInitialHBConfig();e.length>0?this.callBidders(e):t.changeState(new Vi(t))}},{key:"onExit",value:function(){}},{key:"showAd",value},{key:"getInitialHBConfig",value:function(){var t=this.context.getStore().config;return Yn(c()(t,"hb"))}},{key:"callBidders",value:(r=d(h().mark((function t(e){var r,n,i,o,s,a;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.context.getStore(),n=r.cmp,i=r.config,o=r.pubid,s=Ii(i),t.prev=2,t.next=5,Ri(e,n,s,o);case 5:a=t.sent,this.context.setStore({initialHB:{config:e,response:a}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),S.error("Initial headerbidding failed",t.t0);case 12:this.context.changeState(new Vi(this.context));case 13:case"end":return t.stop()}}),t,this,[[2,9]])}))),function(t){return r.apply(this,arguments)})}]),a}(Hi);function qi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qi(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ji=function(t){gt(s,t);var r,n,o=(r=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function s(){return e(this,s),o.apply(this,arguments)}return i(s,[{key:"onEnter",value:function(t){this.setShowAdsStrategy(),this.initAdServer(),this.configureLogger(),this.initLibInjector(),this.callSyncUrls(),this.initThumbnailAd(),this.initStickyAds(),this.initDynamicAds(),t.changeState(new Gi(this.context))}},{key:"onExit",value:function(){}},{key:"showAd",value:function(t){this.context&&this.context.getStore().slotQue.push(t)}},{key:"setShowAdsStrategy",value:function(){var t=this.context.getStore().config;c()(t,"lazyload",!1)?this.context.setShowAdsStrategy(new Ni(this.context)):this.context.setShowAdsStrategy(new Di(this.context))}},{key:"initAdServer",value:function(){var t=this.context.getStore(),e=t.config,r=t.loaderProps,n=this.context.getStore(),i=n.cmp,o=n.pageParams,s=n.pubid,a=this.getNativeConfig(),c=this.getCreativeUIConfig(o),u=_i(e,{authority:{src:"sdom",type:_i.string,default:"s.pubmine.com"},creativeUIConfig:{value:c},isCMPDefined:{value:i},isViewabilityMeasurable:{value:Te.isSupported()},libraryLoadedAt:{value:r.createdAt},nativeCfg:{value:a},pageParams:{value:o},pageViewID:{src:"pvid",type:_i.string},playerType:{src:"plt",type:_i.string},pubid:{value:s},routeId:{value:r.rid},tuuid:{value:_i(e,{maxAge:{src:"tuuid.maxAge",type:_i.number,required:!0},value:{src:"tuuid.value",type:_i.string,required:!0}})},userID:{value:hn()("__ATA_tuuid")},videoDebug:{src:"v_debug",type:_i.boolean},viewPort:{value:hi()}});if(u)try{this.context.setStore({adServer:new si(u)})}catch(t){S.error("Can't initiate the ad server",t)}else S.error("Can't create config for server")}},{key:"configureLogger",value:function(){var t=this.context.getStore().adServer;if(!t)throw new Error("adServer should be created before configureLogger call");S.configure({onError:t.sendError.bind(t)})}},{key:"isLibrary",value:function(t){var e=_i(t,{cs:{src:"cs",type:_i.string},ex:{src:"ex",type:_i.number},url:{src:"url",type:_i.string},when:{src:"when",type:_i.number}});return Boolean(e)}},{key:"initLibInjector",value:function(){var t=_i(this.context.getStore().config,{libs:{required:!0,src:"libs",type:_i.array(this.isLibrary)}});t&&function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.document,n=[],i=[],o=function(t){var n=t.url,i=t.onLibLoaded;return ci()(n,r.body,(function(t){t?e({message:"Unable to fetch lib by following url: ".concat(n),name:"LibError"}):i()}))},s=function(t){return function(){if(t)try{window.eval(t)}catch(r){e({message:"Catch error (".concat(r,") while executing code snippet: ").concat(t),name:"SnippetError"})}}};"complete"!==r.readyState&&r.addEventListener("readystatechange",(function(t){var e=t.target.readyState;"interactive"===e&&i.length&&i.forEach(o),"complete"===e&&n.length&&n.forEach(o)})),t.forEach((function(t){var a=t.when,c=t.url,u=t.cs,l=t.ex;u&&l===Ei.BEFORE_LIB_LOAD&&s(u)();var f=ke();u&&l===Ei.AFTER_LIB_LOAD&&(f=s(u)),c&&(a===ki.IMMEDIATELY?ci()(c,(function(t){t&&e({message:"Unable to fetch lib by following url: ".concat(c),name:"LibError"})})):a===ki.ON_LOAD_COMPLETE&&"complete"!==r.readyState?n.push({onLibLoaded:f,url:c}):a===ki.ON_DOM_CONTENT_LOADED&&"loading"===r.readyState?i.push({onLibLoaded:f,url:c}):o({onLibLoaded:f,url:c}))}))}(t.libs,(function(t){S.error("injectLibs error",t)}))}},{key:"isSyncUrl",value:function(t){return mn()(c()(t,"url"))&&l()(c()(t,"type"))}},{key:"callSyncUrls",value:function(){var t,e,r=_i(this.context.getStore().config,{syncUrls:{required:!0,src:"sync",type:_i.array(this.isSyncUrl)}});r&&(t=r.syncUrls,e,t.forEach((function(t){return function(t,e){var r=t.url,n=t.type;switch(n){case ui.IFRAME:(r);break;case ui.IMG:li({uri:r}).then(ke()).catch(ke());break;case ui.SCRIPT:!function(t){ci()(t,ke())}(r);break;default:e(new fi("Invalid type (".concat(n,") for sync url: ").concat(r)))}}(t,e)})))}},{key:"parseStickyAd",value:function(t){return _i(t,{format:{map,required:!0,src:"format",type:_i.string},height:{src:"h",type:_i.number,required:!0},minHeight:{src:"vph",type:_i.number},minWidth:{src:"vpw",type:_i.number},padding:{src:"pad",type:_i.number,default:0},width:{src:"w",type:_i.number,required:!0},zIndex:{src:"z-index",type:_i.number}})}},{key:"initStickyAds",value:function(){var t,e,r,n,i=this,o=this.context.getStore().config,s=yn()(Boolean,this.parseStickyAd),a=_i(o,{stickyAds:{map:function(t){return t.map(i.parseStickyAd).filter())},required:!0,src:"stad",type:_i.array(s)}});a&&(t={configs:a.stickyAds,onReloadReady,showAd:this.context.showAd.bind(this.context)},r=t.showAd,n=t.onReloadReady,(e=t.configs).length&&e.forEach((function(t){try{"MTS"===t.format&&r(new xi(Oi(Oi({},t),{},{elementId:"bottom-sticky-ad",onReloadReady:n})))}catch(t){S.error("Can't init a sticky ad",t)}})))}},{key:"initThumbnailAd",value:function(){var t=this.context.getStore().config;c()(t,"ogury",!1)&&this.context.showAd(new Fi({elementId:"ogury-thumbnail-ad"}))}},{key:"getNativeConfig",value:function(){return _i(this.context.getStore().config,{imageSelector:{src:"native_cfg.is",type:_i.string},nativeSlotSelector:{src:"native_cfg.nss",type:_i.string,required:!0},postSelector:{src:"native_cfg.ps",type:_i.string,required:!0},removeClasses:{src:"native_cfg.rc",type:_i.array(_i.string)},style:{src:"native_cfg.st",type:_i.string}})}},{key:"getSidebarStickyConfig",value:function(){return _i(this.context.getStore().config,{contentSelector:{src:"sds.c",type:_i.string,required:!0},minWidth:{src:"sds.mw",type:_i.number},position:{src:"sds.p",type:_i.string,map},zIndex:{src:"sds.z-index",type:_i.number}})}},{key:"getInlineAdsConfig",value:function(){return _i(this.context.getStore().config,{articleSelector:{src:"ia.a",type:_i.string,required:!0},maxSlots:{src:"ia.ms",type:_i.number},minWidth:{src:"ia.mw",type:_i.number},paragraphSelector:{src:"ia.p",type:_i.string,required:!0},resetSelector:{src:"ia.r",type:_i.string},stopSelector:{src:"ia.s",type:_i.string},viewportRatio:{src:"ia.v",type:_i.string,required:!0,map:Number}})}},{key:"initDynamicAds",value:function(){var t=this,e=this.getNativeConfig(),r=this.getSidebarStickyConfig(),n=this.getInlineAdsConfig();if(this.context.setStore({inlineAdsConfig:n}),e||n||r)try{var i=this.context.showAds.bind(this.context);this.context.setStore({modules:{dynamicAds:new nn({inlineAds:n,nativeCfg:e,onReadyToShow:i,onReloadReady:function(e){t.context&&t.context.showAds({slots:[e]})},sidebarSticky:r})}})}catch(t){S.error("Can't initiate dynamic ads",t)}}},{key:"getCreativeUIConfig",value:function(t){return{label:Wi({text:"Advertisement"},c()(t,"ad.label")),privacySettings:Wi({text:"Privacy Settings"},c()(t,"ad.privacySettings")),reportAd:Wi({text:"Report this ad"},c()(t,"ad.reportAd"))}}}]),s}(Hi);function Yi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ki(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yi(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Qi=s(5350),Zi=function(){function t(r,n,i){var s=this;e(this,t),o(this,"store",void 0),o(this,"state",void 0),o(this,"showAdsStrategy",void 0),o(this,"slotMutationObserver",void 0),o(this,"slotRegistry",new ln),o(this,"showAds",function(){var t=d(h().mark((function t(e){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.slotRegistry.register(e.slots),t.abrupt("return",s.showAdsStrategy.showAds(e));case 2:case"end":return t.stop()}}),t)})));return}()),o(this,"refreshSlots",d(h().mark((function t(){var e;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.slotRegistry.getAll(),t.abrupt("return",s.showAds({slots:e}));case 2:case"end":return t.stop()}}),t)}))));var a,u=c()(r,"pubid","");this.store={cmp:k(),config:r,loaderProps:n,modules:{},pageParams:i,pubid:u,slotQue:[]},sn.isListenerSet()||sn.setupListener(),this.slotMutationObserver=new an(this.slotRegistry),this.state=new Ji(this),this.state.onEnter&&this.state.onEnter(this),this.insertStyles(),k()&&("useractioncomplete",a,window.__tcfapi?window.__tcfapi("addEventListener",O,(function(t,e){t.eventStatus&&"useractioncomplete"===t.eventStatus&&a()})):S.error("Cannot set listener to CMP events. CMP is not defined"))}return i(t,[{key:"showAd",value},{key:"insertStyles",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;Qi&&m()(Qi.toString)&&y()(Qi.toString(),t)}},{key:"insertInlineAds",value:function(){var t=this.getStore().inlineAdsConfig;t&&new nn({inlineAds:t,onReadyToShow:this.showAds})}},{key:"changeState",value:function(t){"function"==typeof this.state.onExit&&this.state.onExit(this),this.state=t,"function"==typeof this.state.onEnter&&this.state.onEnter(this)}},{key:"setStore",value:function(t){this.store=Object.freeze(Ki(Ki({},this.store),t))}},{key:"getStore",value:function(){return this.store}},{key:"setShowAdsStrategy",value:function(t){this.showAdsStrategy=t}}]),t}();var Xi=function(t){gt(s,t);var r,n,o=(r=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function s(){return e(this,s),o.apply(this,arguments)}return i(s,[{key:"createAd",value:function(t){var e=t.id;if(t instanceof ur)this.ad=new ir({buttons:t.creativeButtons,creatives:t.members,height:0,slotId:e,type:t.type,width:this.props.width,window:this.props.window||window});else if(t instanceof kt)this.ad=new $e({buttons:t.creativeButtons,creative:t,slotId:e,width:this.props.width,window:this.props.window||window});else{if(!(t instanceof sr))throw new Error("Can't create ad for given props ".concat(JSON.stringify(t)));this.ad=void 0}}},{key:"showAd",value:function(t){if(this.createAd(t),this.ad)try{this.beforeRender(),this.ad.render()}catch(t){S.error("Can't render creative",t)}}},{key:"serialize",value:function(){var t=this.props,e=t.width,r=t.siteId,n={l:this.props.location,m:[or.DISPLAY,or.NATIVE],sid:this.getID(),w:e};return r||(n.section_id=this.props.sectionId),n}},{key:"beforeRender",value:function(){var t=R(this.ad.getSize(),2),e=t[0],r=t[1];this.props.window.context.renderStart({height:r,width:e})}}]),s}(Pr);var $i=function(t){gt(s,t);var r,n,o=(r=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function s(){return e(this,s),o.apply(this,arguments)}return i(s,[{key:"createAd",value:function(t){if(t instanceof kt){var e=t.id,r=t.complainURL,n=t.creativeButtons;this.ad=new $e({buttons:n,creative:t,enableControls:Boolean(r),slotId:e,width:this.props.width,window:this.props.window||window})}else if(!(t instanceof sr))throw new Error("Can't create ad for given props ".concat(JSON.stringify(t)))}},{key:"showAd",value:function(t){if(this.createAd(t),this.ad)try{this.ad.render()}catch(t){S.error("Can't render creative",t)}}},{key:"serialize",value:function(){var t=this.props,e=t.width,r=t.height,n=t.siteId,i={l:this.props.location,m:[or.DISPLAY,or.NATIVE],s:[e,r],sid:this.getID()};return n||(i.section_id=this.props.sectionId),i}}]),s}(Pr);var to=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(t){var r;e(this,a),o(vt(r=s.call(this,t)),"blcr",void 0),o(vt(r),"adResponse",void 0),o(vt(r),"width",void 0);var n=document.getElementById(t.elementId);if(!n)throw new Error("DynamicAd element not found");var i=n.getBoundingClientRect().width;return i=Math.floor(i),n.setAttribute("data-adtags-width",String(i)),r.width=i,r}return i(a,[{key:"createAd",value:function(t){this.adResponse=t;var e=this.width;t instanceof sr||(this.blcr=t.blcr,this.ad&&this.ad.destroy());var r=t.id,n=t.creativeButtons,i=t.creativeLabel;if(t instanceof ur)this.ad=new ir({buttons:n,creatives:t.members,enableParallax:t.enableParallax,height:0,label:i,slotId:r,type:t.type,width:e,window});else if(t instanceof kt)this.ad=new $e({buttons:n,creative:t,enableParallax:t.enableParallax,label:i,slotId:r,width:e,window});else{if(!(t instanceof sr))throw new Error("Can't create ad for given props ".concat(JSON.stringify(t)));this.ad=void 0}}},{key:"serialize",value:function(){var t=this.props,e=t.location,r=t.formFactor,n=this.getReloadCounter();return{blcr:this.blcr,ff:r,l:e,m:[or.DISPLAY,or.NATIVE],r_count:n,sid:this.getID(),w:this.width}}},{key:"setReloadTimeout",value:function(){var t,e=this,r=this.getProps().onReloadReady,n=null===(t=this.adResponse)||void 0===t?void 0:t.reloadTime;r&&n&&(this.reloadTimer=new Zr(n,)))}},{key:"beforeRender",value:function(){}},{key:"afterRender",value},{key:"appendStyles",value:function(){if(this.ad){var t=this.getID(),e=document.getElementById(t);if(e){var r=R(this.ad.getSize(),2),n=r[0],i=r[1],o=Q()({display:"block",height:"".concat(i,"px"),margin:"0 auto",overflow:"hidden",padding:0,width:"".concat(n,"px")});e.setAttribute("style",o)}}}}]),a}(Xr);var eo=[640,360],ro=function(t){gt(a,t);var r,n,s=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(n){var i=bt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return mt(this,t)});function a(){var t;e(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return o(vt(t=s.call.apply(s,[this].concat(n))),"onVideoComplete",(function(){var e=t.getID();if(e){var r=document.getElementById(e);if(r){var n=Q()({display:"none"});setTimeout((function(){return r.setAttribute("style",n)}),500)}else S.error(".onVideoComlete element is not found")}else S.error(".onVideoComplete  elementId is empty")})),t}return i(a,[{key:"createAd",value:function(t){var e=this.getID();if(t instanceof yr)this.ad=new br({creative:t,size:eo,slotId:e});else if(t instanceof gr){var r=eo[0],n=document.getElementById(e);this.ad=new kr({buttons:t.creativeButtons,creative:t,onComplete:this.onVideoComplete,size:[(null==n?void 0:n.offsetWidth)||r,0],slotId:e,window:this.props.window||window})}else{if(!(t instanceof sr))throw new Error("Can't create ad for given props ".concat(JSON.stringify(Ot)));this.ad=void 0}}},{key:"serialize",value:function(){var t=this.props,e=t.siteId,r=t.sectionId,n=t.playerType,i={m:[or.VIDEO],s:eo,sid:this.getID(),v:{player:wn.apply(void 0,eo),plt:n}};return"number"!=typeof e&&(i.section_id=r),i}}]),a}(Pr);const no=Number.isInteger|;function io(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function oo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?io(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):io(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}new(function(){function r(){e(this,r),o(this,"cmd",void 0),o(this,"app",void 0),o(this,"config",void 0),o(this,"pageParams",void 0),o(this,"executeCommand",(function(t){try{t()}catch(t){S.error("__ATA can't execute a command from the que",t)}return 0}));var n=window.__ATA,i=window.__ATA_PP||{};if(n&&Array.isArray(n.cmd)&&(this.cmd=n.cmd,this.cmd.push=this.executeCommand),i&&"object"===(0,t.Z)(i)&&(this.pageParams=i),n&&n.config&&"object"===(0,t.Z)(n.config)){if(!l()(n.rid))return void S.error("__ATA.rid must be a number");var s={createdAt:n.createdAt,rid:n.rid};this.app=new Zi(n.config,s,this.pageParams),this.config=n.config,this.processQueue()}else S.error("__ATA.config is not defined")}return i(r,[{key:"initSlot",value:function(e,r){try{var n,i=".initSlot";if("string"!=typeof e)throw new Error("".concat(i," the first arg must a string"));if("object"!==(0,t.Z)(r)||null===r)throw new Error("".concat(i," the second arg must an object"));var o=r,s=o.width,a=o.height,u=o.sectionId,l=o.location,f=o.window;if("number"!=typeof s||"number"!=typeof a)throw new Error("".concat(i," params.width and params.height must be numbers"));var d=null===(n=this.pageParams)||void 0===n?void 0:n.siteid,p=Boolean(c()(this.pageParams,"amp",!1)),h=oo(oo({},r),{},{elementId:e,height:a,location:"number"==typeof l&&no(l)&&l>=0?l:void 0,sectionId:"string"==typeof u?u:void 0,siteId:"number"==typeof d?d:void 0,width:s,window:"object"===(0,t.Z)(f)&&null!==f?f:void 0}),v=p?new Xi(h):new $i(h);this.app&&this.app.showAd(v)}catch(t){S.error("Can't show the banner ad with params ".concat(JSON.stringify(r)),t)}}},{key:"initVideoSlot",value:function(e,r){try{var n=".initVideoSlot";if("string"!=typeof e)throw new Error("".concat(n," the first arg must a string"));if("object"!==(0,t.Z)(r)||null===r)throw new Error("".concat(n," the second arg must be an object"));var i=r,o=i.sectionId,s=i.format;if("string"!=typeof o)throw new Error("".concat(n," params.sectionId must be a string"));if("inread"!==s)throw new Error("".concat(n," params.format must be 'inread'"));if(!this.config||"string"!=typeof this.config.plt)throw new Error("the config doesn't have .plt field");var a=new ro({elementId:e,format:s,playerType:this.config.plt,sectionId:o,siteId:this.pageParams&&this.pageParams.siteid,window:"object"===("undefined"==typeof window?"undefined":(0,t.Z)(window))&&null!==window?window:void 0});this.app&&this.app.showAd(a)}catch(t){S.error("Can't show the video ad with params ".concat(JSON.stringify(r)),t)}}},{key:"initDynamicSlot",value:function(e){var r=this;try{var n=".initDynamicSlot";if("object"!==(0,t.Z)(e)||null===e)throw new Error("".concat(n," params must be an object"));var i=e,o=i.id,s=i.location,a=i.formFactor;if("string"!=typeof o)throw new Error("".concat(n," params.id must be a string"));if("number"!=typeof s||!no(s)||s<0)throw new Error("".concat(n," params.location must be a nonnegative integer"));if("string"!=typeof a)throw new Error("".concat(n," params.formFactor must be a string"));var c=new to({elementId:o,formFactor:a,location:s,onReloadReady:function(t){r.app&&r.app.showAds({slots:[t]})}});this.app&&this.app.showAd(c)}catch(t){S.error("Can't show the dynamic ad with params ".concat(JSON.stringify(e)),t)}}},{key:"insertStyles",value},{key:"insertInlineAds",value:function(){var t=this;this.cmd&&this.cmd.push())}},{key:"processQueue",value:function(){window.__ATA=this,this.cmd&&(this.cmd.forEach(this.executeCommand),this.cmd.push=this.executeCommand)}}]),r}())})()})();