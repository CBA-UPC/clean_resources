/*! @name videojs-contrib-ads @version 7.3.2 @license Apache-2.0 */
!this,function(e,t,n){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var a="7.3.2";var r=o=i=s=d=l=h={},g=y="",v=function(e,n){if(void 0===n&&(n=t),n.__uspapi)n.__uspapi("getUSPData",1,;else{var a=n);if(!a)return void e(null);var r=Math.random().toString(36).substring(2),o={__uspapiCall:{command:"getUSPData",version:1,callId:r}};n.addEventListener("message",!1),a.postMessage(o,"*")}},m=A=_=S=function(a){return{"{player.id}":a.options_["data-player"]||a.id_,"{player.height}":a.currentHeight(),"{player.width}":a.currentWidth(),"{player.heightInt}":Math.round(a.currentHeight()),"{player.widthInt}":Math.round(a.currentWidth()),"{player.autoplay}":a.autoplay()?1:0,"{player.muted}":a.muted()?1:0,"{player.language}":a.language()||"","{mediainfo.id}":a.mediainfo?a.mediainfo.id:"","{mediainfo.name}":a.mediainfo?a.mediainfo.name:"","{mediainfo.duration}":a.mediainfo?a.mediainfo.duration:"","{player.duration}":a.duration(),"{player.durationInt}":Math.round(a.duration()),"{player.live}":a.duration()===1/0?1:0,"{player.pageUrl}":e.dom.isInFrame()?n.referrer:t.location.href,"{playlistinfo.id}":a.playlistinfo?a.playlistinfo.id:"","{playlistinfo.name}":a.playlistinfo?a.playlistinfo.name:"","{timestamp}":(new Date).getTime(),"{document.referrer}":n.referrer,"{window.location.href}":t.location.href,"{random}":Math.floor(1e12*Math.random())}},b=k=P=C=var T={processMetadataTracks:setMetadataTrackMode:function(e){},getSupportedAdCue:isSupportedAdCue:getCueId:,R=w=.processAdTrack=var M={},L=e;M.isMiddlewareMediatorSupported=M.playMiddleware=M.testHook=var j=M.playMiddleware,E=M.isMiddlewareMediatorSupported,I=var N=),O=);N.registerState("State",O);var x=O);N.registerState("AdState",x);var D=O);N.registerState("ContentState",D);var F,U=N.getState("ContentState"));N.registerState("AdsDone",U);var V={start:end:,q=N.getState("AdState"));N.registerState("Preroll",q);var H=N.getState("ContentState"));N.registerState("BeforePreroll",H);var W=N.getState("AdState"));N.registerState("Midroll",W);var z=N.getState("AdState"));N.registerState("Postroll",z);var $=N.getState("ContentState"));N.registerState("ContentPlayback",$);var J=N.getState("ContentState"));N.registerState("StitchedContentPlayback",J);var Y=N.getState("AdState"));N.registerState("StitchedAdRoll",Y);var G=M.isMiddlewareMediatorSupported,K=e.getTech("Html5").Events,Q={timeout:5e3,prerollTimeout:void 0,postrollTimeout:void 0,debug:!1,stitchedAds:!1,contentIsLive:void 0,liveCuePoints:!0,allowVjsAutoplay:e.options.normalizeAutoplay||!1},X=function(t){var n=this,r=e.obj.merge(Q,t),o=[];K.concat(["firstplay","loadedalldata"]).forEach(,n.on(o,u),G()||n,r.debug),n.setTimeout(5e3),n.on("ended",,n.on("contenttimeupdate",function(){n.removeClass("vjs-waiting")}),n.on(["addurationchange","adcanplay"],,n.on("nopreroll",function(){n.ads.debug("Received nopreroll event"),n.ads.nopreroll_=!0}),n.on("nopostroll",,n.on("playing",,n.on("play",function(){n.ads._playRequested=!0}),n.one("loadstart",function(){n.ads._hasThereBeenALoadStartDuringPlayerLife=!0}),n.on("loadeddata",function(){n.ads._hasThereBeenALoadedData=!0}),n.on("loadedmetadata",,n.ads=n),n.ads.settings=r,r.stitchedAds=!!r.stitchedAds,r.stitchedAds?n.ads._state=new(N.getState("StitchedContentPlayback"))(n):n.ads._state=new(N.getState("BeforePreroll"))(n),n.ads._state.init(n),n.ads.cueTextTracks=T,n.ads.adMacroReplacement=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n={});var a=n.disableDefaultMacros||!1,r=n.macroNameOverrides||{};delete n.disableDefaultMacros,delete n.macroNameOverrides;var o=n;if(a)return C(e,o,t,r);var i=_(e),s=i.defaults,d=i.modifiedString;for(var l in e=d,c(o,S(this),A(this.mediainfo,s),b(h),k(),P(e,s,r)),e=C(e,o,t,r),s)e=e.replace(l,s[l]);return e}.bind(n),n),n.on("contentchanged",n.ads.reset);var i=n.ready(,n.on(["play","playing","ended","adsready","adscanceled","adskip","adserror","adtimeout","adended","ads-ad-started","ads-ad-skipped","contentchanged","dispose","contentresumed","readyforpostroll","nopreroll","nopostroll"],,n.on("dispose",,g(),v(function(){}),n.ads.listenToTcf=g,n.ads.updateUsPrivacyString=;return X.VERSION=a,X),X});
