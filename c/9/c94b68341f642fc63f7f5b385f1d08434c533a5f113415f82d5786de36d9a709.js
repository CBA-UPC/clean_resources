"use strict";(window.webpackChunkNRBA=window.webpackChunkNRBA||[]).push([[118],{6668:(t,e,n)=>{n.d(e,{o:()=>C});var r=n(5673),s=n(9557),i=n(7022),a=n(532),o=n(2438);function u(){return""+location}var h=n(6562),c=n(4917),d=n(2053),l=n(8544),f=n(9226);var v=n(8226),p=n(2374);const y=!!navigator.sendBeacon;class b extends s.w{constructor(t){super(t),this.tooManyRequestsDelay=(0,h.Mt)(this.sharedContext.agentIdentifier,"harvest.tooManyRequestsDelay")||60,this.obfuscator=new f.RR(this.sharedContext),this.getScheme=()=>!1===(0,h.Mt)(this.sharedContext.agentIdentifier,"ssl")?"http":"https",this._events={}}sendX(t,e,n){var s=g(t,e);if(!s)return!1;var i={retry:s.method===r.T.xhr};return this.obfuscator.shouldObfuscate()?this.obfuscateAndSend(t,this.createPayload(t,i),e,s,n):this._send(t,this.createPayload(t,i),e,s,n)}send(t,e,n,r,s){var a=this,o=x(),u=x();e.body&&(0,i.D)(e.body,o),e.qs&&(0,i.D)(e.qs,u);var h={body:o(),qs:u()},c=this.obfuscator.shouldObfuscate()?function(){return a.obfuscateAndSend(...arguments)}:function(){return a._send(...arguments)};return c(t,h,n,r,s)}obfuscateAndSend(t,e,n,r,s){var i=this;return function(t,e,n,r){return t&&"object"==typeof t?(n=n||"string",r=r||[],function t(r){for(var i in r)r.hasOwnProperty(i)&&("object"==typeof r[i]?t(r[i]):typeof r[i]!==n||s(i)||(r[i]=e(r[i])));return r}(t)):t;function s(t){for(var e=!1,n=0;n<r.length;n++)if(r[n]===t){e=!0;break}return e}}(e,(function(){return i.obfuscator.obfuscateString(...arguments)}),"string",["e"]),this._send(t,e,n,r,s)}_send(t,e,n,s,i){var u=(0,h.C5)(this.sharedContext.agentIdentifier);if(!u.errorBeacon)return!1;var c=(0,h.OP)(this.sharedContext.agentIdentifier);if(!e.body)return i&&i({sent:!1}),!1;n||(n={});var d=this.getScheme()+"://"+u.errorBeacon+"/"+t+"/1/"+u.licenseKey+this.baseQueryString();e.qs&&(d+=(0,a.j6)(e.qs,c.maxBytes)),s||(s=g(t,n));var f,v=s.method,y=s.useBody,b=d;y&&"events"===t?f=e.body.e:y?f=(0,o.P)(e.body):b=d+(0,a.j6)(e.body,c.maxBytes);var m=v(b,f,n.unload&&p.v6);i&&v===r.T.xhr&&m.addEventListener("load",(function(){var t={sent:!0};429===this.status?(t.retry=!0,t.delay=this.tooManyRequestsDelay):408!==this.status&&500!==this.status&&503!==this.status||(t.retry=!0),n.needResponse&&(t.responseText=this.responseText),i(t)}),(0,l.m$)(!1));return m||v!==r.T.beacon||(m=(v=r.T.img)(d+(0,a.j6)(e.body,c.maxBytes))),m}baseQueryString(){var t=(0,h.OP)(this.sharedContext.agentIdentifier),e=(0,h.C5)(this.sharedContext.agentIdentifier),n=(0,c.f)(u()),r=this.obfuscator.shouldObfuscate()?this.obfuscator.obfuscateString(n):n;return["?a="+e.applicationID,(0,a.wu)("sa",e.sa?""+e.sa:""),(0,a.wu)("v",v.q),m(e),(0,a.wu)("ct",t.customTransaction),"&rst="+(0,d.zO)(),"&ck=0","&s="+(t.sessionId||"0"),(0,a.wu)("ref",r),(0,a.wu)("ptid",t.ptid?""+t.ptid:"")].join("")}createPayload(t,e){for(var n=x(),r=x(),s=this._events[t]&&this._events[t]||[],a=0;a<s.length;a++){var o=s[a](e);o&&(o.body&&(0,i.D)(o.body,n),o.qs&&(0,i.D)(o.qs,r))}return{body:n(),qs:r()}}on(t,e){(this._events[t]||(this._events[t]=[])).push(e)}resetListeners(){(0,i.D)(this._events,(t=>{this._events[t]=[]}))}}function g(t,e){var n,s;return(e=e||{}).needResponse?(s=!0,n=r.T.xhr):e.unload&&p.il?(s=y,n=y?r.T.beacon:r.T.img):(s=!0,n=r.T.xhr),{method:n,useBody:s}}function m(t){return t.transactionName?(0,a.wu)("to",t.transactionName):(0,a.wu)("t",t.tNamePlain||"Unnamed Transaction")}function x(){var t={},e=!1;return function(n,r){if(r&&r.length&&(t[n]=r,e=!0),e)return t}}var w=n(9071),T=n(8305),j=n(6998);if(p.v6){p._A.cleanupTasks=[];const t=p._A.close;p._A.close=()=>{for(let t of p._A.cleanupTasks)t();t()}}var H=n(6625);class C extends s.w{constructor(t,e,n){super(n),this.endpoint=t,this.opts=e||{},this.started=!1,this.timeoutHandle=null,this.harvest=new b(this.sharedContext),function(t,e){if(p.il)if(e)(0,j.N)(t,!0),(0,l.bP)("pagehide",t);else{var n=(0,T.Z)(t);!w.I||navigator.sendBeacon?(0,l.bP)("pagehide",n):(0,l.bP)("beforeunload",n),(0,l.bP)("unload",n)}else p.v6&&p._A.cleanupTasks.push(t)}((()=>{var t,e;this.opts.onUnload&&this.opts.onUnload(),this.runHarvest({unload:!0}),t=this.sharedContext.agentIdentifier,e=(0,h.Mt)(t,"privacy.cookies_enabled"),H.s&&e&&p.il&&exports.setCookie()}),(0,h.Mt)(this.sharedContext.agentIdentifier,"allow_bfcache"))}startTimer(t,e){this.interval=t,this.started=!0,this.scheduleHarvest(null!=e?e:this.interval)}stopTimer(){this.started=!1,this.timeoutHandle&&clearTimeout(this.timeoutHandle)}scheduleHarvest(t,e){if(!this.timeoutHandle){var n=this;null==t&&(t=this.interval),this.timeoutHandle=setTimeout((()=>{n.timeoutHandle=null,n.runHarvest(e)}),1e3*t)}}runHarvest(t){var e=this;if(this.opts.getPayload){var n=g(this.endpoint,t);if(!n)return!1;var s=n.method===r.T.xhr,i=this.opts.getPayload({retry:s});if(i){i="[object Array]"===Object.prototype.toString.call(i)?i:[i];for(var a=0;a<i.length;a++)this.harvest.send(this.endpoint,i[a],t,n,o)}}else{const e=t?.unload?void 0:o;this.harvest.sendX(this.endpoint,t,e)}return void(this.started&&this.scheduleHarvest());function o(n){n.blocked?e.onHarvestBlocked(t,n):e.onHarvestFinished(t,n)}}onHarvestFinished(t,e){if(this.opts.onFinished&&this.opts.onFinished(e),e.sent&&e.retry){var n=e.delay||this.opts.retryDelay;this.started&&n?(clearTimeout(this.timeoutHandle),this.timeoutHandle=null,this.scheduleHarvest(n,t)):!this.started&&n&&this.scheduleHarvest(n,t)}}}},4917:(t,e,n)=>{n.d(e,{f:()=>i});var r=/([^?#]*)[^#]*(#[^?]*|$).*/,s=/([^?#]*)().*/;function i(t,e){return t.replace(e?r:s,"$1$2")}},532:(t,e,n)=>{n.d(e,{j6:()=>d,nI:()=>c,wu:()=>l});var r=n(7022),s=n(2438),i={"%2C":",","%3A":":","%2F":"/","%40":"@","%24":"$","%3B":";"},a=(0,r.D)(i,(function(t){return t})),o=new RegExp(a.join("|"),"g");function u(t){return i[t]}function h(t){return null==t?"null":encodeURIComponent(t).replace(o,u)}function c(t,e){for(var n=0,r=0;r<t.length;r++)if((n+=t[r].length)>e)return t.slice(0,r).join("");return t.join("")}function d(t,e){var n=0,i="";return(0,r.D)(t,(function(t,r){var a,o,u=[];if("string"==typeof r)a="&"+t+"="+h(r),n+=a.length,i+=a;else if(r.length){for(n+=9,o=0;o<r.length&&(a=h((0,s.P)(r[o])),n+=a.length,!(void 0!==e&&n>=e));o++)u.push(a);i+="&"+t+"=%5B"+u.join(",")+"%5D"}})),i}function l(t,e){return e&&"string"==typeof e?"&"+t+"="+h(e):""}},8305:(t,e,n)=>{n.d(e,{Z:()=>i});var r=n(8683),s=n.n(r);function i(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,s()(arguments)))}}},2438:(t,e,n)=>{n.d(e,{P:()=>u});var r=n(7022),s=n(3752),i=n(2374),a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function u(t){try{return c("",{"":t})}catch(t){try{s.ee.emit("internal-error",[t])}catch(t){}}}function h(t){return a.lastIndex=0,a.test(t)?'"'+t.replace(a,(function(t){var e=o[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}function c(t,e){var n=e[t];switch(typeof n){case"string":return h(n);case"number":return isFinite(n)?String(n):"null";case"boolean":return String(n);case"object":if(!n)return"null";var s=[];if(n instanceof i._A.Array||"[object Array]"===Object.prototype.toString.apply(n)){for(var a=n.length,o=0;o<a;o+=1)s[o]=c(o,n)||"null";return 0===s.length?"[]":"["+s.join(",")+"]"}return(0,r.D)(n,(function(t){var e=c(t,n);e&&s.push(h(t)+":"+e)})),0===s.length?"{}":"{"+s.join(",")+"}"}}},5673:(t,e,n)=>{n.d(e,{T:()=>r});const r={jsonp:function(t,e){var n=document.createElement("script");n.type="text/javascript",n.src=t+"&jsonp="+e;var r=document.getElementsByTagName("script")[0];return r.parentNode.insertBefore(n,r),n},xhr:function(t,e,n){var r=new XMLHttpRequest;r.open("POST",t,!n);try{"withCredentials"in r&&(r.withCredentials=!0)}catch(t){}return r.setRequestHeader("content-type","text/plain"),r.send(e),r},img:function(t){var e=new Image;return e.src=t,e},beacon:function(t,e){return window.navigator.sendBeacon.bind(navigator)(t,e)}}},5330:(t,e,n)=>{n.d(e,{m:()=>s});var r=n(1509);class s extends r.W{constructor(t,e,n){super(t,e,n)}}}}]);