var frontend_viewability;!function(){"use strict";var e={};e.g=),e.r=var t,n={};e.r(n);var i={omidGlobal:t=function(){if(void 0!==t&&t)return t;if(void 0!==e.g&&e.g)return e.g;if("undefined"!=typeof window&&window)return window;if("undefined"!=typeof globalThis&&globalThis)return globalThis;var n=Function("return this")();if(n)return n;throw new Error("Could not determine global object context.")}()},r="NONE",o="DIRECT",a={IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish"};function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=function(){ar t,n,i;return t=e,(n=[{key:"handleMessage",value:,{key:"serialize",value:,{key:"deserialize",value:,{key:"isDirectCommunication",value:])&&s(t.prototype,n),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();unction l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f="omid_message_guid",d="omid_message_method",h="omid_message_version",v="omid_message_args",y=function(){ar t,n,i;return t=e,i=[{key:"deserialize",value:],(n=[{key:"serialize",value:function(){var e,t=(c(e={},f,this.guid),c(e,d,this.method),c(e,h,this.version),e);return void 0!==this.args&&(t[v]=this.args),t}}])&&l(t.prototype,n),i&&l(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();unction m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}=function(e){!a,e);var t,n,i,r=g(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=r.call(this,e)).communicationType_=o,t.handleExportedMessage=a.prototype.handleExportedMessage.bind(w(t)),t}return t=a,n=[{key:"sendMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.to;if(!t)throw new Error("Message destination must be defined at construction time or when sending the message.");t.handleExportedMessage(e.serialize(),this)}},{key:"handleExportedMessage",value:,{key:"isCrossOrigin",value:],n&&m(t.prototype,n),i&&m(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(u),S=k,E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return null!=e&&void 0!==e.top&&null!=e.top},x=i.omidGlobal,T=["omid","v1_VerificationServiceCommunication"],M=["omidVerificationProperties","serviceWindow"];unction j(e,t){if(!e))try{var n=C(e,t);if(n)return new S(n)}catch(e){}return null}function P(e,t){for(var n=0;n<e.length;n+=1){var i=j(e[n],t);if(i)return i}return null}function I(e){var t,n=[],i=C(e,M);return i&&n.push(i),n.push(E(t=e)?t.top:x),P(n,T)}var R=L=function(e,t){for(var n=e.split("-")[0].split("."),i=t.split("-")[0].split("."),r=0;r<3;r+=1){var o=parseInt(n[r],10),a=parseInt(i[r],10);if(o>a)return!0;if(o<a)return!1}return!0},D="1.0.3";unction H(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){return t="y"===e,n=16*Math.random()|0,t?(3&n|8).toString(16):n.toString(16);var t,n}))}var V="VerificationService.",G=U=ar A="1.3.37-dev",W=i.omidGlobal,F=function(){function e(t){var n,i;!this,e),this.callbackMap_={},this.imgCache_=[],this.remoteTimeouts_=0,this.communication=t||I((i=n,void 0===n&&"undefined"!=typeof window&&window&&(i=window),E(i)?i:x)),this.communication&&(this.communication.onMessage=this.handleMessage_.bind(this));var r=W.omidVerificationProperties;this.injectionId_=r?r.injectionId:void 0}var t,n,i;return t=e,n=[{key:"isSupported",value:,{key:"registerSessionObserver",value:,{key:"addEventListener",value:,{key:"sendUrl",value:function(e,t,n){W.document?this.sendUrlWithImg_(e,t,n):this.sendMessage_("sendUrl",(,e)}},{key:"sendUrlWithImg_",value:function(e,t,n){var i=this,r=W.document.createElement("img");this.imgCache_.push(r);var o=function(e){var t=i.imgCache_.indexOf(r);t>=0&&i.imgCache_.splice(t,1),e&&e()};r.addEventListener("load",o.bind(this,t)),r.addEventListener("error",o.bind(this,n)),r.src=e}},{key:"sendMessage_",value:function(e,t){if(this.communication){var n=H();t&&(this.callbackMap_[n]=t);for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];var a=new y(n,U(e),A,N(A,r));this.communication.sendMessage(a)}}},{key:"handleMessage_",value:function(e,t){var n=e.method,i=e.guid,r=e.args;if("response"===n&&this.callbackMap_[i]){var o=function(e,t){return R(e)&&L(e,D)?t||[]:t?JSON.parse(t):[]}(A,r);this.callbackMap_[i].apply(this,o)}}},{key:"hasTimeoutMethods_",value:,{key:"setTimeout",value:function(e,t){if(t<=0)return-1;if(this.hasTimeoutMethods_())return W.setTimeout(e,t);this.remoteTimeouts_+=1;var n=this.remoteTimeouts_;return this.sendMessage_("setTimeout",e,n,t),n}},{key:"clearTimeout",value:function(e){e<=0||(this.hasTimeoutMethods_()?W.clearTimeout(e):this.sendOneWayMessage_("clearTimeout",e))}},{key:"sendOneWayMessage_",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.sendMessage_.apply(this,[e,.concat(n))}}],n&&z(t.prototype,n),i&&z(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function J(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}new(function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.customReferenceData="",this.DefaultLogServer="",this.timeoutHandle=null,this.sent=!1,this.verificationClient_=t,this.verificationClient_.isSupported()&&(this.verificationClient_.registerSessionObserver((function(e){return i.sessionObserverCallback_(e)}),n),Object.keys(a).forEach((function(e){return i.verificationClient_.addEventListener(a[e],(function(e){return i.omidEventListenerCallback_(e)}))})))}var t,n,i;return t=e,(n=[{key:"isImpressionEvent",value:function(e){return"impression"===e.type}},{key:"isGeometryEvent",value:,{key:"isOver50Percent",value:function(e){return e.data.adView.percentageInView>=50}},{key:"startTimeCheck",value:function(e){this.timeoutHandle||(this.timeoutHandle=this.verificationClient_.setTimeout(e,1e3))}},{key:"invalidateTimer",value:,{key:"sendImpressionEvent",value:function(e){this.isImpressionEvent(e)&&this.verificationClient_.sendUrl(this.customReferenceData)}},{key:"sendViewabilityEvent",value:function(e){var t=this;if(this.isGeometryEvent(e)){if(this.isOver50Percent(e))return void this.startTimeCheck(();this.invalidateTimer()}}},{key:"setLogServer",value:function(e){this.DefaultLogServer=e.data.contentUrl,e.data.context&&(this.customReferenceData=e.data.context.customReferenceData)}},{key:"sendPrint_",value:,{key:"sessionObserverCallback_",value:,{key:"omidEventListenerCallback_",value:])&&J(t.prototype,n),i&&J(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}())(new F,"iabtechlab.com-omid"),frontend_viewability=n}();