"use strict";(window.webpackChunkNRBA=window.webpackChunkNRBA||[]).push([[242],{3228:(t,e,s)=>{s.d(e,{setupAgentSession:()=>h});var n=s(5763),o=s(8e3),r=s(2177),c=s(4322),i=s(3860);class a{get(t){try{return localStorage.getItem(t)||void 0}catch(t){return""}}set(t,e){try{return null==e?this.remove(t):localStorage.setItem(t,e)}catch(t){return}}remove(t){try{localStorage.removeItem(t)}catch(t){return}}}class u{constructor(t){this.domain=t}get(t){try{var e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));if(e)return e[2]}catch(t){return""}}set(t,e){try{const s="".concat(t,"=").concat(e,"; Domain=").concat(domain,"; Path=/");document.cookie=s}catch(t){return}}remove(t){try{return document.cookie="".concat(t,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; Domain=").concat(domain,"; Path=/")}catch(t){return}}}let m=0;function h(t){const e=(0,n.OP)(t);if(m++)return e.session;const s=(0,n.P_)(t).session,h=s?.domain?new u(s.domain):new a;e.session=new i.$s({agentIdentifier:t,key:"SESSION",storage:h,expiresMs:s?.expiresMs,inactiveMs:s?.inactiveMs});const d=e.session.state.custom,g=(0,n.C5)(t);d&&(g.jsAttributes={...g.jsAttributes,...d});const l=r.ee.get(t);return(0,c.X)("api-setCustomAttribute",((t,s,n)=>{e.session.syncCustomAttribute(s,n)}),"session",l),(0,c.X)("api-setUserId",((t,s,n)=>{e.session.syncCustomAttribute(s,n)}),"session",l),(0,o.L)(t,"session"),e.session}}}]);