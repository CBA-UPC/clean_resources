'use strict';mix_d("AutomotivePartfinderDetailPageCards__automotive-partfinder-desktop-dp-v1:automotive-partfinder-desktop-dp-v1__jHK-H_FP","require exports tslib @c/logger @c/scoped-dom @c/browser-operations @c/aui-modal @c/dom @c/metrics @c/scoped-metrics @p/a-popover @p/a-button @c/aui-untrusted-ajax @c/remote-operations @p/A @c/aui-truncate @p/a-dropdown @p/a-events".split(" "),function(ja,sc,n,ke,le,me,ne,V,wb,oe,pe,qe,Pa,re,se,te,ue,ve){r u=P(ke),Qa=P(le),y=P(me),tc=P(ne),uc=P(V),W=P(pe),xb=P(qe),Ra=P(Pa),S=P(re),X=P(se),we=P(te),fa=P(ue),yb=P(ve),I=function(a){function b(c,d,e,f,k){var h=a.call(this,c)||this;h.toString=function(){var m="NA";
if(h.cause)if(h.cause instanceof b)m=h.cause.toString();else if(h.cause instanceof Error)Error.stackTraceLimit=1,m=(m=h.cause.stack)?"[ name: "+h.cause.name+" ], [ message: "+h.cause.message+" ], [ stackTrace: "+m.replace(/(\r\n|\n|\r)/gm,";"):"[ name: "+h.cause.name+" ], [ message: "+h.cause.message+" ], [ stackTrace: "+m;else try{m=JSON.stringify(h.cause)}catch(p){m=""+h.cause}return"Error occurred with following detail: [ message: "+h.message+" ], [ component: "+h.componentName+" ], [ method: "+
h.methodName+" ], [ errorCode: "+JSON.stringify(h.errorCode)+" ], [ cause: "+m+" ]"};h.getRootCause=function(){return h.cause?h.cause instanceof b?h.cause.getRootCause():h.cause:h};h.cause=k;h.componentName=d;h.errorCode=f;h.methodName=e;h.name=h.constructor.name;Object.setPrototypeOf(h,b.prototype);return h}n.__extends(b,a);return b}(Error),l={COMPONENT_METRIC_PREFIX:"automotive-ui-components",logCount:function(a,b){try{wb.count(a,b)}catch(c){u["default"].log("Failed to log "+a+" CSM metric with error: "+
c,"ERROR","international-automotive")}},logEvent:function(a,b,c,d){try{wb.event(a,b,c,d)}catch(e){u["default"].log("Failed to log nexus metric with error: "+e,"ERROR","international-automotive")}},logScopedCount:function(a,b){try{oe.count(a,b)}catch(c){u["default"].log("Failed to log "+a+" CSM metric with error: "+c,"ERROR","international-automotive")}}},vc=function(a,b,c){a=new I(a,b,c,{code:400,isRetriable:!1,name:"BadRequestError"});u["default"].log(a.toString(),"ERROR","international-automotive");
l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":"+b+":badRequest",1);return a},wc=function(a,b,c){a=new I(a,b,c,{code:400,isRetriable:!1,name:"BadRequestError"});l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":"+b+":badRequest",1);return a},xc=function(a,b,c,d){a=new I(""+a,b,c,{code:424,isRetriable:!1,name:"FailedDependencyError"},d);u["default"].log(a.toString(),"ERROR","international-automotive");l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":"+b+":failure",1);return a},yc=function(a,b,c,d){a=new I(""+
a,b,c,{code:424,isRetriable:!1,name:"FailedDependencyError"},d);l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":"+b+":failure",1);return a},r={logAndReturnBadRequestError:vc,logAndReturnFailedDependencyError:xc,logAndThrowBadRequestError:function(a,b,c){throw vc(a,b,c);},logAndThrowFailedDependencyError:function(a,b,c,d){throw xc(a,b,c,d);},returnBadRequestError:wc,returnFailedDependencyError:yc,throwBadRequestError:function(a,b,c){throw wc(a,b,c);},throwFailedDependencyError:function(a,b,c,d){throw yc(a,
b,c,d);}},Y={sentiment:"Not-selected",selectedFeedbackOptions:new Set},w;((w||(w={}));var zc=Ac,F={getId:function(a,b){return zc(b)?Ac+"-"+a+"-"+b:
a+"-"+b},isSecondaryViewElement:zc,setRandomPrefix:function(a){Ac=a}},Bc,Cc={initializeFormConfig:function(a){return n.__awaiter(void 0,void 0,void 0,function(){var b,c,d;return n.__generator(this,function(e){switch(e.label){case 0:"function"!==typeof Pa.get&&r.logAndThrowBadRequestError("could not execute ajax GET to retrieve Forms config because cards GET API is undefined","customer-feedback","getFormDetails"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Pa.get("/forms/"+a,{accepts:"application/json"})];
case 2:return b=e.sent(),c=b.responseBody,Bc={fields:c.fields,csrfToken:c.csrfToken.token,endPoint:c.submitEndpoint},[3,4];case 3:return d=e.sent(),r.throwFailedDependencyError("failed to retrieve or parse Form configuration from Forms","customer-feedback","getFormDetails",d),[3,4];case 4:return[2]}})})},getFormConfig:function(){return Bc}},Dc=function(a){var b,c=[];try{for(var d=n.__values(uc["default"].scopes),e=d.next();!e.done;e=d.next())for(var f=e.value.getElementsByClassName(a),k=0;k<f.length;k++)void 0!==
f[k]&&c.push(f[k])}catch(m){var h={error:m}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(h)throw h.error;}}return c},Ec=function(a){var b=Dc(a);b.length||r.logAndThrowFailedDependencyError("could not find elements with class: "+a,"dom-client","getElementsByClassNameOrThrow",null);return b},g={getElementByClassName:function(a){var b,c=[];try{for(var d=n.__values(uc["default"].scopes),e=d.next();!e.done;e=d.next()){var f=e.value.getElementsByClassName(a)[0];void 0!==f&&c.push(f)}}catch(h){var k=
{error:h}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(k)throw k.error;}}if(1===c.length)return c[0]},getElementsByClassName:Dc,getElementsByClassNameOrThrow:Ec,getFirstElementByClassNameOrThrow:,Fc,Sa=Ta={initializeAndValidateMetadata:function(a){var b=g.getElementsByClassName(F.getId(a,w.formMetadata));b.length||Sa("form metadata is missing from page, looking for id: "+F.getId(a,
w.formMetadata));(a=b[0].getAttribute("data-feedback-form-metadata"))||Sa("form metadata is missing from page, looking for attribute: data-feedback-form-metadata");try{var c=JSON.parse(a)}catch(d){Sa("form metadata is malformed. could not parse it into an object")}c.hasOwnProperty("asin")&&c.asin.length&&c.hasOwnProperty("sessionId")&&c.sessionId.length&&c.hasOwnProperty("formId")&&c.formId.length&&c.hasOwnProperty("deviceType")&&c.deviceType.length||Sa("form metadata is malformed. it is missing one or more necessary properties");
Fc={asin:c.asin,sessionId:c.sessionId,garageItemDisplayName:c.garageItemDisplayName,fitment:c.fitment,formId:c.formId,deviceType:c.deviceType}},getMetadata:function(){return Fc}},zb,xe=function(a,b){return n.__awaiter(void 0,void 0,void 0,function(){var c,d,e,f,k;return n.__generator(this,function(h){switch(h.label){case 0:c=[],a.forEach(,d=c.join("&"),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Pa.post(b,{accepts:"*/*",contentType:"application/x-www-form-urlencoded;charset=UTF-8"},
d)];case 2:return e=h.sent(),[3,4];case 3:return f=h.sent(),r.logAndThrowFailedDependencyError("Encountered error when submitting form. Forms returned non-200 response","customer-feedback","serializeAndSubmitForm",f),[3,4];case 4:return e.responseBody.hasOwnProperty("successful")&&e.responseBody.successful||(k=e.responseBody.message,r.logAndThrowFailedDependencyError("Encountered error when submitting form. Forms error message: "+k,"customer-feedback","serializeAndSubmitForm",null)),[2]}})})},Gc=
{submit:function(){return n.__awaiter(void 0,void 0,void 0,function(){var a,b,c,d;return n.__generator(this,function(e){void 0===zb&&r.logAndThrowFailedDependencyError("customer-feedback-client improperly initialized. Requires `createForm` strategy handler to be attached","customer-feedback","submit",null);a=Ta.getMetadata();b=Cc.getFormConfig();c={data:{metadata:a,formConfig:b,customerSelection:Y}};d=zb(c);return[2,xe(d,b.endPoint)]})})},setCreateFormStrategy:function(a){zb=a}},Ab,Bb,ye={setCreateBottomSheetCallback:function(a){Ab=
a},createBottomSheet:function(){if(!Bb){if(void 0===Ab)throw Error("customer-feedback-client - mobileInterface.ts: createBottomSheet method was called, but no create strategy was set");Bb=Ab()}return Bb}},la,Hc,ze=function(a){a=g.getElementsByClassName(F.getId(a,w.secondaryContentRoot));if(a.length&&a[0].firstChild){var b=V.unscope(a[0].firstChild);la.render(}},Cb={updateAndGetSecondaryView:function(a){void 0===la?la="mobile"===Hc?ye.createBottomSheet():
tc["default"].create(a+"-modal-name","."+F.getId(a,w.secondaryContentRoot),{a11yOpenMessage:"Customer feedback modal-screen opened",width:600}):ze(a);return la},getSecondaryView:function(){return la},resetSecondaryView:setDeviceType:function(a){Hc=a}},Ic=!1,Jc=function(a){var b=g.getFirstElementByClassNameOrThrow(F.getId(a,w.disabledSubmitButtonContainer));a=g.getFirstElementByClassNameOrThrow(F.getId(a,w.enabledSubmitButtonContainer));b.classList.add("aok-hidden");a.classList.remove("aok-hidden")},
Ae=function(a){Cb.updateAndGetSecondaryView(a).show().then(function(b){b||(l.logScopedCount("customer-feedback-secondary-view-show-failure",1),r.logAndThrowFailedDependencyError("Feedback secondary view show failed with status: "+b,"customer-feedback","showSecondaryView",null))}).catch(function(b){l.logScopedCount("customer-feedback-secondary-view-show-failure",1);r.logAndThrowFailedDependencyError("Feedback secondary view show failed with error","customer-feedback","showSecondaryView",b)})},Be=function(){var a=
Cb.getSecondaryView();null===a||void 0===a?void 0:a.hide().then(function(b){b||(l.logScopedCount("customer-feedback-secondary-view-hide-failure",1),r.logAndThrowFailedDependencyError("Feedback secondary view hide failed with status: "+b,"customer-feedback","hideSecondaryView",null))}).catch(function(b){l.logScopedCount("customer-feedback-secondary-view-hide-failure",1);r.logAndThrowFailedDependencyError("Feedback secondary view hide failed with error","customer-feedback","hideSecondaryView",b)})},
Ce=function(){l.logScopedCount("customer-feedback-sentiment-"+Y.sentiment,1);Gc.submit().catch(function(a){l.logScopedCount("customer-feedback-submit-failure",1);r.logAndThrowFailedDependencyError("encountered error when trying to submit form","customer-feedback","submitFeedback",a)})},De={initializeBrowserOps:function(a){var b;Y.sentiment="Not-selected";Y.selectedFeedbackOptions.clear();var c=y["default"].setup();Ic||(c.define("feedbackTriggerClicked","click",,c.define("positiveFeedbackButtonClicked",
"click",function(){Y.sentiment="Positive";g.getFirstElementByClassNameOrThrow(F.getId(a,w.optionsContainer)).classList.add("aok-hidden");Jc(a)}),c.define("negativeFeedbackButtonClicked","click",function(){Y.sentiment="Negative";g.getFirstElementByClassNameOrThrow(F.getId(a,w.optionsContainer)).classList.remove("aok-hidden");Jc(a)}),c.define("feedbackOptionClicked","click",function(h){h=h.currentTarget.id;Y.selectedFeedbackOptions.has(h)?(Y.selectedFeedbackOptions.delete(h),xb["default"]("#"+h).setStatus("normal")):
Y.selectedFeedbackOptions.add(h)}),c.define("submitButtonClicked","click",function(){Be();Ce();g.getFirstElementByClassNameOrThrow(F.getId(a,w.feedbackTrigger)).classList.add("aok-hidden");g.getFirstElementByClassNameOrThrow(F.getId(a,w.feedbackSubmittedMessage)).classList.remove("aok-hidden")}),Ic=!0);var d=g.getFirstElementByClassNameOrThrow(F.getId(a,w.feedbackTrigger));c.attach("feedbackTriggerClicked",d);d=g.getFirstElementByClassNameOrThrow(F.getId(a,w.positiveFeedbackButton));c.attach("positiveFeedbackButtonClicked",
d);d=g.getFirstElementByClassNameOrThrow(F.getId(a,w.negativeFeedbackButton));c.attach("negativeFeedbackButtonClicked",d);d=g.getElementsByClassNameOrThrow(F.getId(a,w.feedbackOptionButton));try{for(var e=n.__values(d),f=e.next();!f.done;f=e.next())c.attach("feedbackOptionClicked",f.value)}catch(h){var k={error:h}}finally{try{f&&!f.done&&(b=e.return)&&b.call(e)}finally{if(k)throw k.error;}}k=g.getFirstElementByClassNameOrThrow(F.getId(a,w.submitButton));c.attach("submitButtonClicked",k)}},Ee=function(a){a=
g.getFirstElementByClassNameOrThrow(F.getId(a,w.randomPrefix)).dataset.randomPrefix;if(void 0===a)throw Error("could not find the randomPrefix for the secondaryViewContent ids");F.setRandomPrefix(a)},Db=function(a,b){b.hasOwnProperty("errorCode")&&400===b.errorCode.code?l.logScopedCount("customer-feedback-client-bad-request",1):(l.logScopedCount("customer-feedback-client-init-failed",1),r.logAndThrowFailedDependencyError("Failed to initialize for "+a,"customer-feedback","initialize",b))},Kc={initialize:function(a){try{Ee(a),
Ta.initializeAndValidateMetadata(a),Cb.setDeviceType(Ta.getMetadata().deviceType),De.initializeBrowserOps(a),Cc.initializeFormConfig(Ta.getMetadata().formId).then(function(){try{g.getFirstElementByClassNameOrThrow(F.getId(a,w.feedbackTrigger)).classList.remove("aok-hidden")}catch(b){Db(a,r.returnFailedDependencyError("Could not find customer-feedback trigger on the DOM","customer-feedback","showSecondaryViewTrigger",b))}}).catch(function(b){Db(a,b)})}catch(b){Db(a,b)}},strategy:function(a,b){switch(a){case "CreateFormData":Gc.setCreateFormStrategy(b)}}},
Eb;(Eb||(Eb={})).fitmentNotePopoverIconClickHandler="fitmentNotePopoverIconClickHandler";var Lc=!1,Mc=function(a){var b=a+"-popover";a+="-info-icon-div";var c=W["default"].get(b);c||(a=g.getElementsByClassName(a)[0],c=W["default"].create(a,{closeButton:!0,name:b,position:"triggerTop",width:600}));c.show()},Fe=function(a){(a=W["default"].get(a+"-popover"))&&W["default"].remove(a)},Ge={initialize:function(a){Fe(a);if(!Lc){var b=y["default"].setup().define;b(Eb.fitmentNotePopoverIconClickHandler,"click",
function(c){c.acknowledge();0===a.localeCompare(c.currentTarget.dataset.viewId)&&(Mc(a),l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":fitment-note-with-popover:icon-click",1))});Lc=!0}Mc(a)}},He={initialize:function(a){Ge.initialize(a)}},ma;(function(a){a.partfinderPrimaryDesktopProductDropdownButtonClickHandler="partfinderPrimaryDesktopProductDropdownButtonClickHandler";a.partfinderPrimaryDesktopProductMakeSureThisFitsClickHandler="partfinderPrimaryDesktopProductMakeSureThisFitsClickHandler";a.partfinderPrimaryDesktopProductSuggestedfitIconClickHandler=
"partfinderPrimaryDesktopProductSuggestedfitIconClickHandler";a.partfinderPrimaryDesktopProductUpdateClickHandler="partfinderPrimaryDesktopProductUpdateClickHandler"})(ma||(ma={}));var ya={getComponentIdFromUpdateInformationMessagePopoverId:function(a){return a.substring(0,a.lastIndexOf("-partfinder-product-maybe-update-information-message-popover"))},getFitmentNoteWithPopoverId:function(a){return a+"-yes-fitment-note-with-popover"},getPartfinderPrimaryDesktopProductDataDivId:function(a){return a+
"-data"},getUpdateInformationMessagePopoverId:function(a){return a+"-partfinder-product-maybe-update-information-message-popover"}},Fb;(Fb||(Fb={})).helpIconClickHandler="helpIconClickHandler";var Nc=!1,Ie=function(a){(a=W["default"].get(a+"-popover"))&&W["default"].remove(a)},Je={initialize:function(a,b,c){Ie(a);if(!Nc){var d=y["default"].setup().define;d(Fb.helpIconClickHandler,"click",function(e){e.acknowledge();if(0===a.localeCompare(e.currentTarget.dataset.componentId)){e=a+"-popover";var f=
a+"-info-icon-div",k=W["default"].get(e);k||(f=g.getElementsByClassName(f)[0],k=W["default"].create(f,{closeButton:!0,height:b,name:e,width:c}));k.show();l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":help-icon:click",1)}});Nc=!0}}},Oc={click:function(a){g.getElementByClassName(a+"-info-icon").click()},initialize:,Gb;(Gb||(Gb={})).updateInformationMessageClickHandler="updateInformationMessageClickHandler";var Pc={attach:function(a,b){switch(a){case "click":a=y["default"].setup().define,
a(Gb.updateInformationMessageClickHandler,"click",function(c){b({data:{id:c.currentTarget.dataset.componentId}})})}},initialize:function(a,b,c){var d=a+"-help-icon";try{Oc.initialize(d,b,c)}catch(e){throw r.logAndReturnFailedDependencyError("Failed on helpIconClient.initialize resolution with id [ "+a+" ]","update-information-message-popover","initialize",e);}Oc.click(d)}},Ke={initialize:function(a,b,c){a=y["default"].setup().define;a(ma.partfinderPrimaryDesktopProductSuggestedfitIconClickHandler,
"click",function(d){d.acknowledge();var e=d.currentTarget.dataset.componentId;if(e){d=e+"-suggestedfit-popover";e+="-suggestedfit-icon-div";var f=W["default"].get(d);f||(e=g.getElementsByClassName(e)[0],f=W["default"].create(e,{closeButton:!0,height:b,name:d,width:c}));f.show();l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":partfinder-primary-desktop-product:suggested-fit-icon-click",1)}})}},na=function(a){try{var b=g.getElementsByClassName(ya.getPartfinderPrimaryDesktopProductDataDivId(a))[0].dataset.partfinderPrimaryDesktopProductData;
var c=JSON.parse(b)}catch(e){a=new I("Failed to retrieve HTMLDivElement corresponding to input id "+a+".","partfinder-primary-desktop-product","getPartfinderPrimaryDesktopProductData",{code:400,isRetriable:!1,name:"BadRequestError"},e);u["default"].log(a.toString(),"ERROR","international-automotive");l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":partfinder-primary-desktop-product:data-failure",1);var d=a}return{data:c,error:d}},ba={attach:function(a,b){var c=y["default"].setup().define;switch(a){case "dropdown-button-click":c(ma.partfinderPrimaryDesktopProductDropdownButtonClickHandler,
"click",function(d){d.acknowledge();b(na(d.currentTarget.dataset.componentId))});break;case "make-sure-this-fits":c(ma.partfinderPrimaryDesktopProductMakeSureThisFitsClickHandler,"click",function(d){b(na(d.currentTarget.dataset.componentId))});break;case "update-information":Pc.attach("click",function(d){(d=ya.getComponentIdFromUpdateInformationMessagePopoverId(d.data.id))&&b(na(d))}),c(ma.partfinderPrimaryDesktopProductUpdateClickHandler,"click",}},
getData:initialize:function(a){var b=na(a);if(b.error)throw b.error;var c=b.data.productFitment;c="undefined"!==typeof c.fitment&&"Yes"===c.fitment.type?"undefined"!==typeof c.fitment.fitmentCriteriaGroups&&0<c.fitment.fitmentCriteriaGroups.length||"undefined"!==typeof c.fitment.fitmentNote:!1;if(c)try{He.initialize(ya.getFitmentNoteWithPopoverId(a))}catch(d){throw r.logAndReturnFailedDependencyError("Failed on fitmentNoteWithPopoverClient.initialize with id [ "+a+" ]","partfinder-primary-desktop-product",
"initializeFitmentNoteWithPopoverClient",d);}c=g.getElementsByClassName(ya.getPartfinderPrimaryDesktopProductDataDivId(a))[0].dataset.partfinderPrimaryDesktopProductIsSaveTires;if(b.data.productFitment.fitment&&"Maybe"===b.data.productFitment.fitment.type&&"false"===c)try{Pc.initialize(ya.getUpdateInformationMessagePopoverId(a),150,450)}catch(d){throw r.logAndReturnFailedDependencyError("Failed on updateInformationMessagePopoverClient.initialize with id [ "+a+" ]","partfinder-primary-desktop-product",
"initializeUpdateInformationMessagePopoverClient",d);}if(b.data.customerFeedbackPresented)try{Kc.initialize(a)}catch(d){r.logAndReturnFailedDependencyError("Failed to init the customer-feedback component with id [ "+a+" ]","partfinder-primary-desktop-product","initializeCustomerFeedbackClient",d)}Ke.initialize(a,150,450)},strategy:function(a,b){Kc.strategy(a,b)}},Ua;(function(a){a.secondaryViewHideTrigger="secondaryViewHideTrigger";a.secondaryViewContentCall="secondaryViewContentCall"})(Ua||(Ua={}));
var oa,q={ID:"automotive-pf",getErrorAttributionId:function(){return"international-automotive"},getPartfinderSecondaryViewId:function(){oa||(oa=Math.floor(1E3*Math.random())+1);return"automotive-pf-partfinder-secondary-view-id-"+oa},getPrimaryViewContainerId:function(){return"automotive-pf-primary-view-container"},getPrimaryViewId:function(){return"automotive-pf-primary-view"},getSecondaryViewContentChildContainerId:function(){return"automotive-pf-secondary-view-content-child-container"},getOfferXSecondaryViewContentChildContainerId:function(){return"offerx-secondary-view-content-child-container"},
getSecondaryViewContentContainerId:function(){return"automotive-pf-secondary-view-content-container"},getSecondaryViewContentParentContainerId:function(){return"automotive-pf-secondary-view-content-parent-container"},getSecondaryViewErrorMsgContainerId:function(){return"automotive-pf-secondary-view-error-msg-container"},getSecondaryViewHideTrigger:function(){return"automotive-pf-secondary-view-hide-trigger"},getSecondaryViewHsnTsnErrorMsgContainerId:function(){return"automotive-pf-secondary-view-error-msg-container-hsn-tsn"},
getSecondaryViewName:function(){return"automotive-pf-secondary-view-name"},getSecondaryViewSpinnerContainerId:function(){return"automotive-pf-secondary-view-spinner-container"},getSecondaryViewTrigger:function(){return"automotive-pf-secondary-view-trigger"},getTirefinderSecondaryViewId:function(){oa||(oa=Math.floor(1E3*Math.random())+1);return"automotive-pf-tirefinder-secondary-view-id-"+oa},getFilterButtonDisabled:function(){return"offerx-secondary-view-id-filter-button-disabled"},getFilterButtonEnabled:function(){return"offerx-secondary-view-id-filter-button-enabled"},
getOfferXSecondaryViewId:function(){return"offerx-secondary-view-id"},getOfferXSecondaryPopoverName:function(){return"offerx-secondary-view-content"}},C={getElementByClassName:function(a){var b=g.getElementsByClassName(a);if(1===b.length)return b[0];u["default"].log("Failed to find "+a+" element.","ERROR",q.getErrorAttributionId());l.logScopedCount("dom-element-not-found",1)}},R;(function(a){a.PF_DESKTOP_DP_PU="auto_pf_dp_pu_d";a.PF_MOBILE_DP_PU="auto_pf_dp_pu_m";a.PF_DESKTOP_DP_FILTER_BY_VEHICLE_FILTER=
"auto_pf_dp_vh_ftr_d";a.PF_MOBILE_DP_FILTER_BY_VEHICLE_FILTER="auto_pf_dp_vh_ftr_m";a.PF_DESKTOP_DP_BY_NUMBER_PLATE_FILTER="auto_pf_dp_npl_ftr_d";a.PF_MOBILE_DP_BY_NUMBER_PLATE_FILTER="auto_pf_dp_npl_ftr_m";a.PF_DESKTOP_DP_BY_OTHER_FILTER="auto_pf_dp_otr_ftr_d";a.PF_MOBILE_DP_BY_OTHER_FILTER="auto_pf_dp_otr_ftr_m";a.TF_DESKTOP_DP_PU="auto_tf_dp_pu_d";a.TF_MOBILE_DP_PU="auto_tf_dp_pu_m";a.TF_DESKTOP_DP_BY_VEHICLE_FILTER="auto_tf_dp_ftr_oetr_d";a.TF_MOBILE_DP_BY_VEHICLE_FILTER="auto_tf_dp_ftr_oetr_m";
a.TF_DESKTOP_DP_BY_TIRE_FILTER="auto_tf_dp_ftr_tr_d";a.TF_MOBILE_DP_BY_TIRE_FILTER="auto_tf_dp_ftr_tr_m";a.OFFERX_DESKTOP_DP_PU="auto_offerx_dp_pu_d";a.OFFERX_DESKTOP_DP_ATC="auto_d_add_to_basket";a.OFFERX_MOBILE_DP_ATC="auto_m_add_to_basket";a.OFFERX_MOBILE_DP_PU="auto_offerx_dp_pu_m";a.OFFERX_DESKTOP_DP_FILTER_BY_VEHICLE_FILTER="auto_offerx_dp_vh_ftr_d";a.OFFERX_MOBILE_DP_FILTER_BY_VEHICLE_FILTER="auto_offerx_dp_vh_ftr_m";a.OFFERX_DESKTOP_DP_BY_NUMBER_PLATE_FILTER="auto_offerx_dp_npl_ftr_d";a.OFFERX_MOBILE_DP_BY_NUMBER_PLATE_FILTER=
"auto_offerx_dp_npl_ftr_m";a.OFFERX_DESKTOP_DP_BY_OTHER_FILTER="auto_offerx_dp_otr_ftr_d";a.OFFERX_MOBILE_DP_BY_OTHER_FILTER="auto_offerx_dp_otr_ftr_m";a.OFFERX_DESKTOP_DP_CHECK_ANOTHER_VEHICLE="auto_offerx_dp_pu_ch_an_vh_d";a.OFFERX_MOBILE_DP_CHECK_ANOTHER_VEHICLE="auto_offerx_dp_pu_ch_an_vh_m"})(R||(R={}));var Hb=function(){var a=C.getElementByClassName(q.getSecondaryViewErrorMsgContainerId());a.classList.remove("aok-hidden");a.firstChild.classList.remove("aok-hidden")},Ib=function(){var a=C.getElementByClassName(q.getSecondaryViewErrorMsgContainerId());
a.classList.add("aok-hidden");a.firstChild.classList.add("aok-hidden")},Jb=function(){var a=C.getElementByClassName(q.getSecondaryViewHsnTsnErrorMsgContainerId());a.classList.add("aok-hidden");a.firstChild.classList.add("aok-hidden")},Kb=function(){var a=C.getElementByClassName(q.getSecondaryViewSpinnerContainerId());a.classList.remove("aok-hidden");a.firstChild.classList.remove("aok-hidden")},za=function(){var a=C.getElementByClassName(q.getSecondaryViewSpinnerContainerId());a.classList.add("aok-hidden");
a.firstChild.classList.add("aok-hidden")},Qc=function(){C.getElementByClassName(q.getSecondaryViewContentChildContainerId()).classList.add("aok-hidden")},Rc=function(){C.getElementByClassName(q.getOfferXSecondaryViewContentChildContainerId()).classList.add("aok-hidden")},G={afterShowHandler:function(a,b){b(R.OFFERX_DESKTOP_DP_PU).then(function(c){var d=C.getElementByClassName(q.getSecondaryViewContentChildContainerId());c=V.unscope(c);d.firstChild?d.replaceChild(c,d.firstChild):d.appendChild(c);a();
d.classList.remove("aok-hidden");za()}).catch(function(c){Hb();u["default"].log("Secondary view content provider OR content initializer failed with error: "+c,"ERROR",q.getErrorAttributionId());l.logScopedCount("secondary-view-display-failed",1);za()})},offerXAfterShowHandler:function(a,b){b(R.OFFERX_DESKTOP_DP_PU).then(function(c){var d=C.getElementByClassName(q.getOfferXSecondaryViewContentChildContainerId()),e=C.getElementByClassName(q.getFilterButtonEnabled());c=V.unscope(c);d.firstChild?d.replaceChild(c,
d.firstChild):d.appendChild(c);a();var f=C.getElementByClassName("offerx-secondary-view-id-garage-vehicle-selection-vehicles-view-page-0-0-0");setTimeout(function(){void 0!==f&&(f.click(),e.click())},300);void 0===f&&(d.classList.remove("aok-hidden"),za())}).catch(function(c){Hb();u["default"].log("Secondary view content provider OR content initializer failed with error: "+c,"ERROR",q.getErrorAttributionId());l.logScopedCount("secondary-view-display-failed",1);za()})},beforeShowHandler:function(){Ib();
Jb();Qc();Kb()},offerXbeforeShowHandler:hideErrorMessageContainer:Ib,hideErrorMessageContainerHsnTsn:Jb,hideSecondaryViewContentContainer:Qc,showOfferXSecondaryViewContentContainer:function(){C.getElementByClassName(q.getOfferXSecondaryViewContentChildContainerId()).classList.remove("aok-hidden")},hideOfferXSecondaryViewContentContainer:Rc,hideSpinner:za,showErrorMessageContainer:Hb,showErrorMessageContainerHsnTsn:function(){var a=C.getElementByClassName(q.getSecondaryViewHsnTsnErrorMsgContainerId());
a.classList.remove("aok-hidden");a.firstChild.classList.remove("aok-hidden")},showSecondaryViewContentContainer:function(){C.getElementByClassName(q.getSecondaryViewContentChildContainerId()).classList.remove("aok-hidden")},showSpinner:Kb,showSecondaryViewPrimaryContentContainer:function(){C.getElementByClassName(q.getSecondaryViewContentContainerId()).classList.remove("aok-hidden")},hideSecondaryViewPrimaryContentContainer:function(){C.getElementByClassName(q.getSecondaryViewContentContainerId()).classList.add("aok-hidden")},
hideFilterButtonDisabled:function(){C.getElementByClassName(q.getFilterButtonDisabled()).classList.add("aok-hidden")},hideFilterButtonEnabled:function(){C.getElementByClassName(q.getFilterButtonEnabled()).classList.add("aok-hidden")}},ca,Lb=!1,Mb={hide:function(){Lb||(u["default"].log("Modal hide called without initialization","ERROR",q.getErrorAttributionId()),l.logScopedCount("uninitialized-modal-hide",1));ca.hide().then(function(a){a||(u["default"].log("Modal hide failed with status: "+a,"ERROR",
q.getErrorAttributionId()),l.logScopedCount("modal-hide-failed",1))}).catch(function(a){u["default"].log("Modal hide failed with error: "+a,"ERROR",q.getErrorAttributionId());l.logScopedCount("modal-hide-failed",1)})},initialize:function(a,b){void 0===ca&&(ca=tc["default"].create(q.getSecondaryViewName(),"."+q.getSecondaryViewContentContainerId(),{a11yOpenMessage:"",width:550}),ca.on("beforeShow",function(){ca.render(function(c){G.beforeShowHandler()}).then().catch(function(c){u["default"].log("Modal beforeShow render failed with error: "+
c,"ERROR",q.getErrorAttributionId());l.logScopedCount("modal-beforeshow-render-failed",1)})}),ca.on("afterShow",function(){ca.render(function(c){G.afterShowHandler(a,b)}).then().catch(function(c){u["default"].log("Modal afterShow render failed with error: "+c,"ERROR",q.getErrorAttributionId());l.logScopedCount("modal-aftershow-render-failed",1)})}),Lb=!0)},show:function(){Lb||(u["default"].log("Modal show called without initialization","ERROR",q.getErrorAttributionId()),l.logScopedCount("uninitialized-modal-show",
1));ca.show().then(function(a){a||(u["default"].log("Modal hide show with status: "+a,"ERROR",q.getErrorAttributionId()),l.logScopedCount("modal-show-failed",1))}).catch(function(a){u["default"].log("Modal show failed with error: "+a,"ERROR",q.getErrorAttributionId());l.logScopedCount("modal-show-failed",1)})}},Le={browserOps:function(a,b){var c=y["default"].setup().define;c(Ua.secondaryViewHideTrigger,"click",;c(Ua.secondaryViewContentCall,"click",function(){return n.__awaiter(void 0,
void 0,void 0,function(){return n.__generator(this,function(d){G.showSpinner();G.hideOfferXSecondaryViewContentContainer();a(R.OFFERX_DESKTOP_DP_CHECK_ANOTHER_VEHICLE).then(function(e){var f=C.getElementByClassName(q.getOfferXSecondaryViewContentChildContainerId());e=V.unscope(e);f.firstChild?f.replaceChild(e,f.firstChild):f.appendChild(e);b();f.classList.remove("aok-hidden");G.hideSpinner()}).catch(;return[2]})})})}},Sc,Tc={getEventThrottlingTime:
getLastEventType:setLastEventType:,Va=function(a,b,c){Tc.setLastEventType(b);l.logScopedCount("partfinder-primary-desktop-product-client-"+b,1);c(a)},Me={attach:function(a){ba.attach("dropdown-button-click",function(b){Va(b,"dropdown-button-click",a)});ba.attach("make-sure-this-fits",function(b){Va(b,"make-sure-this-fits",a)});ba.attach("update-information",},partfinderPrimaryDesktopProductClientEventHandler:Va},Nb=
{initialize:function(){try{ba.initialize(q.getPrimaryViewId())}catch(a){throw l.logScopedCount("partfinder-primary-desktop-product-client-initialize-error",1),Error("partfinderPrimaryDesktopProductClient initialization error: "+a);}}},Uc=function(a){return n.__awaiter(void 0,void 0,void 0,function(){var b,c;return n.__generator(this,function(d){switch(d.label){case 0:return Ne(a),b=a.retryNumber?a.retryNumber:0,[4,a.remoteOperation(a.request).then(.catch(function(e){if(e.statusCode&&
500<=e.statusCode&&599>=e.statusCode||e.statusText&&-1<e.statusText.indexOf("timeout")){if(0<b)return a.retryNumber=b-1,Uc(a);e=new I("Failed to Call remote operation for remoteOperationRequest.",a.componentName,a.methodName,{code:e.statusCode,isRetriable:!0,name:"ServiceUnavailable"},e);u["default"].log(e.toString(),"ERROR");throw e;}if(0===e.statusCode)throw e=new I("Failed to Call remote operation for remoteOperationRequest.",a.componentName,a.methodName,{code:e.statusCode,isRetriable:!1,name:"NetworkUnavailableError"},
e),u["default"].log(e.toString(),"ERROR"),e;if(e.statusCode&&400<=e.statusCode&&499>=e.statusCode)throw e=404===e.statusCode?new I("Failed to Call remote operation for remoteOperationRequest.",a.componentName,a.methodName,{code:e.statusCode,isRetriable:!1,name:"ResourceNotFoundError"},e):new I("Failed to Call remote operation for remoteOperationRequest.",a.componentName,a.methodName,{code:e.statusCode,isRetriable:!1,name:"ClientServiceError"},e),u["default"].log(e.toString(),"ERROR"),e;e=new I("Failed to Call remote operation for remoteOperationRequest.",
a.componentName,a.methodName,{code:e.statusCode,isRetriable:!1,name:"UnknownServiceError"},e);u["default"].log(e.toString(),"ERROR");throw e;})];case 1:return c=d.sent(),[2,c]}})})},Ne=function(a){if(!a.componentName.length)throw a=new I("component name should have a value","remote-operation-client","validateRequest",{code:400,isRetriable:!1,name:"BadRequestError"}),u["default"].log(a.toString(),"ERROR"),a;if(!a.methodName.length)throw a=new I("method name should have a value","remote-operation-client",
"validateRequest",{code:400,isRetriable:!1,name:"BadRequestError"}),u["default"].log(a.toString(),"ERROR"),a;if(!a.request.id.length)throw a=new I("Request payload should have valid ID.","remote-operation-client","validateRequest",{code:400,isRetriable:!1,name:"BadRequestError"}),u["default"].log(a.toString(),"ERROR"),a;},pa={performHtmlRemoteOperation:Uc},Vc=function(){return function(a,b,c,d){var e=this;this.getCurrentSelections=function(){return JSON.parse(e.getBlockStates().selectionsJson).concat(e.getAllAttributeValues())};
this.isLastBlock=this.isBlockEmpty=this.getRequiredAttributes=this.bindListeners=function(){var f,k=e.getAttributeIds();try{for(var h=n.__values(k),m=h.next();!m.done;m=h.next())yb["default"].on("a:dropdown:selected:"+e.getDropDownClassName(m.value),e.attributeSelectionListner)}catch(t){var p={error:t}}finally{try{m&&!m.done&&
(f=h.return)&&f.call(h)}finally{if(p)throw p.error;}}};this.unbindListeners=function(){var f,k=e.getAttributeIds();try{for(var h=n.__values(k),m=h.next();!m.done;m=h.next()){var p=m.value,t=e.getDropDownNativeId(p);e.setDefaultSelectedValue(t);yb["default"].off("a:dropdown:selected:"+e.getDropDownClassName(p),e.attributeSelectionListner)}}catch(Q){var v={error:Q}}finally{try{m&&!m.done&&(f=h.return)&&f.call(h)}finally{if(v)throw v.error;}}};this.resetLastSelectedAttribute=function(){if(-1!==e.lastSelectedAttributeIndex){var f=
e.getAttributeIds();f=e.getDropDownNativeId(f[e.lastSelectedAttributeIndex]);e.setDefaultSelectedValue(f)}};this.getBlockStates=function(){return g.getElementsByClassName(e.id+"-active-block-states-"+e.attributesBlockIndex)[0].dataset};this.getAttributeIds=function(){var f=e.getBlockStates().activeAttributeIdsJson;return JSON.parse(f)};this.getDropDownNativeId=this.getDropDownClassName=function(f){return e.id+"-"+f};this.areAllAttributesInBlockSelected=
function(){var f,k=e.getAllAttributeValues();try{for(var h=n.__values(k),m=h.next();!m.done;m=h.next())if(!m.value.value.length)return!1}catch(t){var p={error:t}}finally{try{m&&!m.done&&(f=h.return)&&f.call(h)}finally{if(p)throw p.error;}}return!0};this.attributeSelectionListner=function(f){var k=e.getAttributeIds(),h=f.name.substring(e.id.length+1);f=k.findIndex(;k=e.getSelectedValue(e.getDropDownNativeId(k[f]));if(""!==k&&void 0!==k)e.lastSelectedAttributeIndex=f,-1===
e.getAllAttributeValues().findIndex(function(m){return""===m.value})&&e.allAttributesSelectionCallback(e.attributesBlockIndex);else throw l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":attributes-selection:"+h+":wrongValue",1),r.logAndReturnBadRequestError("Invalid attribute value for "+h+". It should not be empty or undefined","attributes-selection","attributeSelectionListner");l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":attributes-selection:"+h+"-attribute-selected",1)};this.getAllAttributeValues=
function(){return e.getAttributeIds().map(function(f){var k=e.getSelectedValue(e.getDropDownNativeId(f));return{id:f,value:k?k:""}})};this.setDefaultSelectedValue=function(f){(f=fa["default"].getSelect(f))&&f.setValue("")};this.getSelectedValue=function(f){if(f=fa["default"].getSelect(f))return f.val()};this.id=a;this.allAttributesSelectionCallback=b;this.attributesBlockIndex=c;this.lastSelectedAttributeIndex=d}}(),Oe=new Map([["A1PA6795UKMFR9","de"],["A1F83G8C2ARO7P","uk"],["A13V1IB3VIYZZH","nl-prod"],
["A1805IZSGTT6HS","nl-devo"],["A1C3SOZRARQ6R3","pl-prod"],["AKY4K4WKH21YQ","pl-devo"],["A2NODRKZP88ZB9","se-prod"],["AT614YYYNOC1S","se-devo"],["APJ6JRA9NG5V4","it-prod"],["A3HOBANJMCMD83","it-devo"],["A1RKKUPIHCS9HS","es-prod"],["AJZF8LZ1EJVJN","es-devo"]]),Pe=function(){function a(b){var c=this;this.attributesSelectionBlockClients={};this.allAttributesSelectCallbacks=[];this.attributesResetCallbacks=[];this.operationProxy=S["default"].setup();this.attach=function(e,f){switch(e){case "all-attributes-select":c.allAttributesSelectCallbacks.push(f);
break;case "attribute-reset":c.attributesResetCallbacks.push(f)}};this.remove=function(){c.reset();g.getElementsByClassName(""+c.id)[0].remove()};this.reset=this.getCurrentSelections=function(){return c.attributesSelectionBlockClients[c.getActiveBlockClassName(c.currentTotalActiveBlocks-1)].getCurrentSelections()};this.areAllRequiredAttributesSelected=function(){var e=c.attributesSelectionBlockClients[c.getActiveBlockClassName(c.currentTotalActiveBlocks-
1)];return e.isLastBlock()&&e.areAllAttributesInBlockSelected()};this.getNonEmptyActiveBlocksCount=function(){var e=c.attributesSelectionBlockClients[c.getActiveBlockClassName(c.currentTotalActiveBlocks-1)];return e.isBlockEmpty()&&e.isLastBlock()?c.currentTotalActiveBlocks-1:c.currentTotalActiveBlocks};this.prepareRequestForRemoteOperation=function(e){var f=c.attributesSelectionBlockClients[c.getActiveBlockClassName(e)],k=f.getCurrentSelections();f=f.getRequiredAttributes();var h=c.getAttributesSelectionType();
e+=1;return{asin:c.getAsin(),attributesBlockIndex:""+e,id:c.id,isLayoutHorizontal:c.getLayout(),requiredSelection:f,selectionType:h,selections:k}};this.deleteBlockFromComponent=function(e){var f=g.getElementsByClassName(""+c.id)[0];e=f.getElementsByClassName(e)[0];f&&e&&f.removeChild(e)};this.setupNextAttributesSelectionBlockClient=function(e){var f=new Vc(c.id,c.allAttributesSelectionInsideBlockCallback,e,-1);c.attributesSelectionBlockClients[c.getActiveBlockClassName(e)]=f;f.unbindListeners();f.bindListeners();
return f};this.changeErrorMessageVisibility=function(e,f){e=g.getElementsByClassName(e+"-error-box")[0];f?e.classList.add("aok-hidden"):e.classList.remove("aok-hidden")};this.getLayout=function(){var e=a.getAttributesSelectionStates(c.id),f=!1;void 0!==e&&(f="true"===e.horizontalLayout);return f};this.getAsin=function(){var e=a.getAttributesSelectionStates(c.id);if(void 0!==e)var f=e.asin;return""===f?void 0:f};this.isEUMarketPlace=function(){var e=a.getRetailSelection(c.id);return void 0!==e&&(e=
e.market,void 0!==e&&Oe.has(e))?!0:!1};this.allAttributesSelectionInsideBlockCallback=function(e){var f=c.attributesSelectionBlockClients[c.getActiveBlockClassName(e)];if(f)if(e<c.getNonEmptyActiveBlocksCount()-1&&c.callAttributesResetCallbacks(),f.isLastBlock())c.callAllAttributesSelectCallbacks();else{var k={componentName:"attributes-selection",methodName:"allAttributesSelectionInsideBlockCallback",remoteOperation:c.operationProxy.getAttributesSelectionView,request:c.prepareRequestForRemoteOperation(e)};
c.showSpinner();pa.performHtmlRemoteOperation(k).then(function(h){var m=e+1;c.deleteAllFollowingActiveBlocks(e);c.deleteBlockFromComponent(c.getInActiveBlockClassName());c.appendActiveAndInActiveBlocks(h,m);h=c.setupNextAttributesSelectionBlockClient(m);"true"===h.getBlockStates().isSingleOptionWeblab&&(c.prepopulateSingleOptionDropdowns(h),c.displayOrHideSingleOptionDropdownNote());h.isLastBlock()&&h.isBlockEmpty()&&c.callAllAttributesSelectCallbacks();c.changeErrorMessageVisibility(c.id,!0);c.hideSpinner()}).catch(function(){c.deleteAllFollowingActiveBlocks(e);
c.deleteBlockFromComponent(c.getInActiveBlockClassName());c.changeErrorMessageVisibility(c.id,!1);f.resetLastSelectedAttribute();c.hideSpinner()})}};this.callAttributesResetCallbacks=function(){var e;try{for(var f=n.__values(c.attributesResetCallbacks),k=f.next();!k.done;k=f.next()){var h=k.value,m={data:{currentSelections:c.getCurrentSelections(),id:c.id,allAttributesSelected:!1}};h(m)}}catch(t){var p={error:t}}finally{try{k&&!k.done&&(e=f.return)&&e.call(f)}finally{if(p)throw p.error;}}};this.callAllAttributesSelectCallbacks=
function(){var e;try{for(var f=n.__values(c.allAttributesSelectCallbacks),k=f.next();!k.done;k=f.next()){var h=k.value,m={data:{id:c.id,currentSelections:c.getCurrentSelections(),allAttributesSelected:!0}};h(m)}}catch(t){var p={error:t}}finally{try{k&&!k.done&&(e=f.return)&&e.call(f)}finally{if(p)throw p.error;}}};this.appendActiveAndInActiveBlocks=function(e,f){var k=g.getElementsByClassName(""+c.id)[0];if(k){if(f=e.getElementsByClassName(c.getActiveBlockClassName(f))[0])f=V.unscope(f),k.appendChild(f),
c.currentTotalActiveBlocks++;if(e=e.getElementsByClassName(c.getInActiveBlockClassName())[0])e=V.unscope(e),k.appendChild(e)}};this.deleteAllFollowingActiveBlocks=function(e){var f=c.currentTotalActiveBlocks;for(e+=1;e<f;e++)c.attributesSelectionBlockClients[c.getActiveBlockClassName(e)].unbindListeners(),c.deleteBlockFromComponent(c.getActiveBlockClassName(e)),c.currentTotalActiveBlocks--};this.getActiveBlockClassName=function(e){return c.id+"-active-block-"+e};this.getActiveBlockStateClassName=
this.getInActiveBlockClassName=this.showSpinner=function(){var e=g.getElementsByClassName(c.id+"-spinner-container")[0];e.classList.remove("aok-hidden");e.firstChild.classList.remove("aok-hidden");e=g.getElementsByClassName(""+c.id)[0].getElementsByTagName("*");for(var f=0;f<e.length;f++)e[f].disabled=!0};this.hideSpinner=function(){var e=g.getElementsByClassName(c.id+"-spinner-container")[0];e.classList.add("aok-hidden");
e.firstChild.classList.remove("aok-hidden");e=g.getElementsByClassName(""+c.id)[0].getElementsByTagName("*");for(var f=0;f<e.length;f++)e[f].disabled=!1};this.getAttributesSelectionType=function(){switch(a.getAttributesSelectionStates(c.id).attributesSelectionType){case "base":return"base";case "variant":return"variant";case "last-exclusive":return"last-exclusive"}var e=new I("Unable to get selection type","attributes-selection","getAttributesSelectionType",{code:404,isRetriable:!1,name:"NotFoundError"});
u["default"].log(e.toString(),"ERROR","international-automotive");throw e;};this.prepopulateSingleOptionDropdowns=function(e){var f;try{for(var k=n.__values(e.getAttributeIds()),h=k.next();!h.done;h=k.next()){var m=h.value,p=e.getDropDownNativeId(m),t=fa["default"].getSelect(p);if(1===t.getOptions().info().length){t.setValue(t.getOptions().info()[0].value);var v=e.getDropDownClassName(m);yb["default"].trigger("a:dropdown:selected:"+v,{name:v})}}}catch(Z){var Q={error:Z}}finally{try{h&&!h.done&&(f=
k.return)&&f.call(k)}finally{if(Q)throw Q.error;}}};this.displayOrHideSingleOptionDropdownNote=function(){for(var e,f,k=g.getFirstElementByClassNameOrThrow(c.id+"-single-option-note"),h=!1,m=0;m<c.currentTotalActiveBlocks;m++){var p=c.attributesSelectionBlockClients[c.getActiveBlockClassName(m)];try{for(var t=(e=void 0,n.__values(p.getAttributeIds())),v=t.next();!v.done;v=t.next()){var Q=p.getDropDownNativeId(v.value);1===fa["default"].getSelect(Q).getOptions().info().length&&(h=!0)}}catch(Z){e={error:Z}}finally{try{v&&
!v.done&&(f=t.return)&&f.call(t)}finally{if(e)throw e.error;}}}h?k.classList.remove("aok-hidden"):k.classList.add("aok-hidden")};this.getBlockSelectionJsonSize=function(e){e=c.getActiveBlockStateClassName(e);e=g.getElementsByClassName(e)[0].dataset;return JSON.parse(JSON.stringify(e.selectionsJson)).length};this.id=b;this.currentTotalActiveBlocks=JSON.parse(a.getAttributesSelectionStates(b).activeBlockSize);for(b=0;b<this.currentTotalActiveBlocks;++b){var d=-1;b<this.currentTotalActiveBlocks-1&&(d=
this.getBlockSelectionJsonSize(b),d=this.getBlockSelectionJsonSize(b+1)-d-1);d=new Vc(this.id,this.allAttributesSelectionInsideBlockCallback,b,d);this.attributesSelectionBlockClients[this.getActiveBlockClassName(b)]=d;d.bindListeners()}}a.getAttributesSelectionStates=function(b){return g.getElementsByClassName(b+"-states")[0].dataset};a.getRetailSelection=function(b){return g.getElementsByClassName(b+"-retailrequest")[0].dataset};return a}(),J={},Wc=function(a){if(void 0!==J[a]){var b={},c;for(c in J)c!==
a&&(b[c]=J[c]);J=b}},D={attach:function(a,b){var c;try{for(var d=n.__values(Object.keys(J)),e=d.next();!e.done;e=d.next())J[e.value].attach(a,b)}catch(k){var f={error:k}}finally{try{e&&!e.done&&(c=d.return)&&c.call(d)}finally{if(f)throw f.error;}}},getData:function(a){var b=new I("attributes-selection does not exists for id: "+a+".","attributes-selection","getData",{code:400,isRetriable:!1,name:"BadRequestError"});if(void 0!==J[a])try{var c=J[a].getCurrentSelections();return{data:{allAttributesSelected:J[a].areAllRequiredAttributesSelected(),
currentSelections:c,id:a}}}catch(d){}return{error:b}},initialize:function(a){void 0===J[a]&&(J[a]=new Pe(a))},remove:function(a){void 0!==J[a]&&(J[a].remove(),Wc(a))},reset:function(a){void 0!==J[a]&&(J[a].reset(),Wc(a))}},Xc=function(a){var b=a.data.nativeId;a=a.data.viewId;var c=g.getElementsByClassName(a)[0];b=fa["default"].getSelect(b).val();c.dataset.currentSelection=b;JSON.parse(b).vehicle.identity===c.dataset.selectedVehicleId?(b=g.getElementsByClassName(a+"-additional-attribute-selection-holder")[0],
a=g.getElementsByClassName(a+"-additional-info-holder")[0],b&&b.classList.remove("aok-hidden"),a&&a.classList.remove("aok-hidden")):(b=g.getElementsByClassName(a+"-additional-attribute-selection-holder")[0],a=g.getElementsByClassName(a+"-additional-info-holder")[0],b&&b.classList.add("aok-hidden"),a&&a.classList.add("aok-hidden"))},Qe={initialize:function(a){X["default"].declarative("additional-attribute-select-handler","change",function(b){0===a.localeCompare(b.data.viewId)&&Xc(b)})}},Yc={},Zc=[],
$c=function(a,b){a=a.data.id;a=a.substring(0,a.lastIndexOf("-attributes-selection"));a={data:{currentSelectedVehicle:Ob(a),currentSelection:Pb(a),currentVehicleSelection:Wa(a),id:a}};b(a)},Pb=function(a){return g.getElementsByClassName(a+"-attributes-selection")[0]?D.getData(a+"-attributes-selection").data.currentSelections:Wa(a)},Ob=function(a){if((a=g.getElementsByClassName(a)[0])&&a.dataset&&a.dataset.currentSelection)return JSON.parse(a.dataset.currentSelection).vehicle},Wa=function(a){if((a=
g.getElementsByClassName(a)[0])&&a.dataset&&a.dataset.currentSelection)return JSON.parse(a.dataset.currentSelection).vehicleSelection},aa={attach:function(a,b){switch(a){case "garage-vehicle-change":Zc.push(b);break;case "additional-attributes-reset":D.attach("attribute-reset",function(c){$c(c,b)});break;case "additional-attributes-select":D.attach("all-attributes-select",function(c){$c(c,b)})}},getData:function(a){return{data:{currentSelectedVehicle:Ob(a),currentSelection:Pb(a),currentVehicleSelection:Wa(a),
id:a}}},initialize:function(a){try{void 0!==g.getElementsByClassName(a+"-attributes-selection")[0]&&D.initialize(a+"-attributes-selection")}catch(b){throw r.logAndReturnFailedDependencyError("Failed to initialize attributes-selection for "+a+".","garage-vehicle-additional-attributes-selection","initialize",b);}!0!==Yc[a+"-garageVehicleAdditionalAttributesSelectionBrowserOps"]&&(Qe.initialize(a),Yc[a+"-garageVehicleAdditionalAttributesSelectionBrowserOps"]=!0,X["default"].declarative(a+"-additional-attribute-select-handler",
"change",function(b){var c;Xc(b);b=b.data.viewId;b={data:{currentSelectedVehicle:Ob(b),currentSelection:Pb(b),currentVehicleSelection:Wa(b),id:b}};try{for(var d=n.__values(Zc),e=d.next();!e.done;e=d.next()){var f=e.value;f(b)}}catch(h){var k={error:h}}finally{try{e&&!e.done&&(c=d.return)&&c.call(d)}finally{if(k)throw k.error;}}}))},reset:function(a){try{D.reset(a+"-attributes-selection")}catch(b){throw r.logAndReturnFailedDependencyError("Failed to reset attributes-selection for "+a,"garage-vehicle-additional-attributes-selection",
"reset",b);}}},E;((E||(E={}));var Xa=[],ad=[],Qb={addEventHandlers:emitEvent:function(a,b){var c,d,e;switch(a){case "hsn-tsn-select":try{for(var f=
n.__values(Xa),k=f.next();!k.done;k=f.next()){var h=k.value;h(b)}}catch(Aa){var m={error:Aa}}finally{try{k&&!k.done&&(c=f.return)&&c.call(f)}finally{if(m)throw m.error;}}break;case "hsn-tsn-reset":try{for(var p=n.__values(Xa),t=p.next();!t.done;t=p.next())h=t.value,h(b)}catch(Aa){var v={error:Aa}}finally{try{t&&!t.done&&(d=p.return)&&d.call(p)}finally{if(v)throw v.error;}}break;case "hsn-tsn-vehicle-select":try{for(var Q=n.__values(ad),Z=Q.next();!Z.done;Z=Q.next())h=Z.value,h(b)}catch(Aa){var bd=
{error:Aa}}finally{try{Z&&!Z.done&&(e=Q.return)&&e.call(Q)}finally{if(bd)throw bd.error;}}}}},Rb;(Rb||(Rb={})).hsntsnSearchButtonClickHandler="hsntsnSearchButtonClickHandler";var K={getDropDownNativeId:function(a){return a+"-matches-native-id"},getErrorDivId:function(a){return a+"-error"},getHsnTextInputId:function(a){return a+"-hsn-input"},getResultDataDivId:function(a){return a+"-results-data"},getSearchButtonId:function(a){return a+"-search-button"},getSearchResultHolderId:function(a){return a+
"-results-holder"},getSpinnerContainerId:function(a){return a+"-spinner-container"},getTsnTextInputId:function(a){return a+"-tsn-input"}},cd=function(a){a=x.isHTMLElementAvailable(K.getResultDataDivId(a))?Ya(K.getResultDataDivId(a)).dataset.selections:Ya(a).dataset.currentSelection;return JSON.parse(a)},Ya=function(a){return g.getElementsByClassName(""+a)[0]},Sb=function(a){a=g.getElementsByClassName(a)[0];return a.hasChildNodes()?a.firstChild.value:a.value},x={getCurrentSelections:function(a){a=
g.getElementsByClassName(""+a)[0];return JSON.parse(a.dataset.currentSelection)},getCurrentWrittenValue:function(a){var b=Sb(a+"-hsn-input");a=Sb(a+"-tsn-input");return b+a},getHTMLDivElement:Ya,getHTMLElement:function(a){return g.getElementsByClassName(""+a)[0]},getHsnTextInputValue:function(a){a=x.getHTMLElement(K.getHsnTextInputId(a));return a.hasChildNodes()?a.firstChild.value:a.value},getInputSelections:cd,getSelections:function(a){var b=Object.assign([],cd(a));x.isHTMLElementAvailable(K.getResultDataDivId(a))&&
((a=fa["default"].getSelect(K.getDropDownNativeId(a)))&&a.val()?b.push(JSON.parse(a.val())):l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":hsn-tsn-input:dropdown-error",1));return b},getTextInputValue:Sb,getTsnTextInputValue:function(a){a=x.getHTMLElement(K.getTsnTextInputId(a));return a.hasChildNodes()?a.firstChild.value:a.value},getVehicleIdentifierAttributeName:function(a){return Ya(a).dataset.hsnTsnAttributeId},isHTMLElementAvailable:function(a){return 0!==g.getElementsByClassName(a).length}},Tb=
{hideErrorSection:function(a){x.getHTMLDivElement(K.getErrorDivId(a)).classList.add("aok-hidden")},showErrorSection:function(a){x.getHTMLDivElement(K.getErrorDivId(a)).classList.remove("aok-hidden")}},Re={getEncryptedId:function(a,b,c){return n.__awaiter(void 0,void 0,void 0,function(){var d,e,f,k;return n.__generator(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,Ra["default"].post("/automotive-components/vehicle-identifier?sif_profile=AutomotiveUIComponentsVehicleIdentifierSIFProfile",
{accepts:"*/*",contentType:"application/json"},(k={},k.automotiveVehicleIdentifier=a,k))];case 1:d=h.sent();e=d.responseBody;if(!e)throw Error("Encrypted value of hsn tsn can not be undefined");return[2,e.automotiveVehicleIdentifier];case 2:throw f=h.sent(),r.logAndThrowFailedDependencyError("Ajax Request Failed for hsn tsn encryption",c,b,f);case 3:return[2]}})})}},Se=function(a){return n.__awaiter(void 0,void 0,void 0,function(){var b,c,d,e,f,k;return n.__generator(this,function(h){switch(h.label){case 0:return b=
S["default"].setup(),c=b.getMatchingResultHsnTsn,d=x.getHsnTextInputValue(a),e=x.getTsnTextInputValue(a),[4,Re.getEncryptedId(d.concat(e),"performSearchButtonClickOperation","hsn-tsn-input")];case 1:return f=h.sent(),k={componentName:"hsn-tsn-input",methodName:"performSearchButtonClickOperation",remoteOperation:c,request:{automotiveHsnTsn:f,id:a,nextAttributeId:x.getVehicleIdentifierAttributeName(a),selections:x.getSelections(a)}},[2,k]}})})},Te=function(a){a={data:{automotiveHsnTsn:x.getCurrentWrittenValue(a),
id:a,inputSelection:x.getInputSelections(a)}};Qb.emitEvent("hsn-tsn-reset",a)},Ue=function(a){var b=x.getHTMLElement(K.getSpinnerContainerId(a));b.classList.remove("aok-hidden");b.firstChild.classList.remove("aok-hidden");a=x.getHTMLElement(K.getSearchButtonId(a));dd(a)},Ub=function(a){var b=x.getHTMLElement(K.getSpinnerContainerId(a));b.classList.add("aok-hidden");b.firstChild.classList.add("aok-hidden");a=x.getHTMLElement(K.getSearchButtonId(a));ed(a)},Ve={performSearchButtonClickOperation:function(a){var b=
x.getHTMLElement(K.getSearchResultHolderId(a));b.firstChild&&(b.firstChild.remove(),Te(a));Ue(a);Se(a).then(function(c){pa.performHtmlRemoteOperation(c).then(function(d){Tb.hideErrorSection(a);b.innerHTML=d.innerHTML;Ub(a)}).catch(function(d){Tb.showErrorSection(a);u["default"].log("hsn-tsn-input remoteOperations failed for "+a+" with "+d+".","ERROR","international-automotive");l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":hsn-tsn-input:remoteOperations-failure",1);Ub(a)})}).catch(function(c){Tb.showErrorSection(a);
u["default"].log("hsn-tsn-input getRemoteOperationRequest failed for "+a+" with "+c+".","ERROR","international-automotive");l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":hsn-tsn-input:getRemoteOperationRequest-failure",1);Ub(a)})}},We=function(a){a=a.currentTarget.dataset.componentId;x.getHTMLElement(K.getSearchButtonId(a)).classList.contains("a-button-disabled")||(Ve.performSearchButtonClickOperation(a),l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":hsn-tsn-input:search-button-click",1))},ed=function(a){var b=
a?a.getElementsByClassName("a-button-input")[0]:void 0;a.classList.remove("a-button-disabled");b&&(b.disabled=!1)},dd=function(a){var b=a?a.getElementsByClassName("a-button-input")[0]:void 0;a.classList.add("a-button-disabled");b&&(b.disabled=!0)},Xe={initialize:function(a){X["default"].declarative("hsn-tsn-input-change","keyup",function(c){if(0===a.localeCompare(c.data.viewId)){c=x.getHsnTextInputValue(a);var d=x.getTsnTextInputValue(a),e=x.getHTMLElement(K.getSearchButtonId(a));4<=c.length&&3<=
d.length?ed(e):dd(e)}});X["default"].declarative("hsn-tsn-result-select-action","change",function(c){0===a.localeCompare(c.data.componentId)&&(c={data:{automotiveHsnTsn:x.getCurrentWrittenValue(a),id:a,inputSelection:x.getInputSelections(a)}},Qb.emitEvent("hsn-tsn-vehicle-select",c),l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":hsn-tsn-input:vehicle-selected",1))});var b=y["default"].setup().define;b(Rb.hsntsnSearchButtonClickHandler,"click",We)}},Ba,hd=function(a,b){a=a.data.viewId;a={data:{automotiveHsnTsn:fd(a),
id:a,inputSelection:gd(a)}};b(a)},gd=function(a){a=g.getElementsByClassName(""+a)[0];return JSON.parse(a.dataset.currentSelection)},fd=function(a){var b=qa(a+"-hsn-input");a=qa(a+"-tsn-input");return b+a},qa=function(a){a=g.getElementsByClassName(a)[0];return a.hasChildNodes()?a.firstChild.value:a.value},ra={attach:function(a,b){if(Ba)switch(a){case "hsn-tsn-select":X["default"].declarative("hsn-tsn-input-change","keyup",function(c){var d=c.data.viewId,e=qa(d+"-hsn-input");d=qa(d+"-tsn-input");e&&
0!==e.length&&d&&0!==d.length&&hd(c,b)});break;case "hsn-tsn-reset":X["default"].declarative("hsn-tsn-input-change","keyup",function(c){var d=c.data.viewId,e=qa(d+"-hsn-input");d=qa(d+"-tsn-input");e&&0!==e.length&&d&&0!==d.length||hd(c,b)})}else Qb.addEventHandlers(a,b)},getData:function(a){return Ba?{data:{automotiveHsnTsn:fd(a),id:a,inputSelection:gd(a)}}:{data:{automotiveHsnTsn:x.getCurrentWrittenValue(a),id:a,inputSelection:x.getSelections(a)}}},initialize:function(a){var b,c=g.getElementsByClassName(a+
"-hsntsn-match")[0];(Ba="true"===(null===(b=null===c||void 0===c?void 0:c.dataset)||void 0===b?void 0:b.isSearchButtonWeblabEnabled))||Xe.initialize(a)}},id=[],jd=[],Vb={addEventHandlers:function(a,b){switch(a){case "number-plate-reset":id.push(b);break;case "number-plate-vehicle-select":jd.push(b)}},emitEvent:function(a,b){var c,d;switch(a){case "number-plate-reset":try{for(var e=n.__values(id),f=e.next();!f.done;f=e.next()){var k=f.value;k(b)}}catch(v){var h={error:v}}finally{try{f&&!f.done&&(c=
e.return)&&c.call(e)}finally{if(h)throw h.error;}}break;case "number-plate-vehicle-select":try{for(var m=n.__values(jd),p=m.next();!p.done;p=m.next())k=p.value,k(b)}catch(v){var t={error:v}}finally{try{p&&!p.done&&(d=m.return)&&d.call(m)}finally{if(t)throw t.error;}}}}},M={getDropDownNativeId:function(a){return a+"-matches-native-id"},getErrorDivId:function(a){return a+"-error"},getResultDataDivId:function(a){return a+"-results-data"},getSearchButtonId:function(a){return a+"-search-button"},getSearchResultHolderId:function(a){return a+
"-results-holder"},getSpinnerContainerId:function(a){return a+"-spinner-container"},getTextInputId:function(a){return a+"-text-input"}},kd=function(a){a=z.isHTMLElementAvailable(M.getResultDataDivId(a))?Za(M.getResultDataDivId(a)).dataset.selections:Za(a).dataset.selections;return JSON.parse(a)},Za=function(a){return g.getElementsByClassName(""+a)[0]},z={getHTMLDivElement:Za,getHTMLElement:getInputSelections:kd,getNumberPlateTextInputValue:function(a){a=
z.getHTMLElement(M.getTextInputId(a));return a.hasChildNodes()?a.firstChild.value:a.value},getSelections:function(a){var b=Object.assign([],kd(a));z.isHTMLElementAvailable(M.getResultDataDivId(a))&&((a=fa["default"].getSelect(M.getDropDownNativeId(a)))&&a.val()?b.push(JSON.parse(a.val())):l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":number-plate-input:dropdown-error",1));return b},getVehicleIdentifierAttributeName:isHTMLElementAvailable:,Wb;(Wb||(Wb={})).numberPlateSearchButtonClickHandler="numberPlateSearchButtonClickHandler";var Xb={hideErrorSection:function(a){z.getHTMLDivElement(M.getErrorDivId(a)).classList.add("aok-hidden")},showErrorSection:function(a){z.getHTMLDivElement(M.getErrorDivId(a)).classList.remove("aok-hidden")}},Ye={getEncryptedId:function(a,b,c){return n.__awaiter(void 0,void 0,void 0,function(){var d,e,f,k;return n.__generator(this,function(h){switch(h.label){case 0:return h.trys.push([0,
2,,3]),[4,Ra["default"].post("/automotive-components/vehicle-identifier?sif_profile=AutomotiveUIComponentsVehicleIdentifierSIFProfile",{accepts:"*/*",contentType:"application/json"},(k={},k.automotiveVehicleIdentifier=a,k))];case 1:d=h.sent();e=d.responseBody;if(!e)throw Error("Encrypted value of number plate can not be undefined");return[2,e.automotiveVehicleIdentifier];case 2:throw f=h.sent(),r.logAndThrowFailedDependencyError("Ajax Request Failed for number plate encryption",c,b,f);case 3:return[2]}})})}},
Ze=function(a){return n.__awaiter(void 0,void 0,void 0,function(){var b,c,d,e,f;return n.__generator(this,function(k){switch(k.label){case 0:return b=S["default"].setup(),c=b.getMatchingResult,d=z.getNumberPlateTextInputValue(a),[4,Ye.getEncryptedId(d,"performSearchButtonClickOperation","number-plate-input")];case 1:return e=k.sent(),f={componentName:"number-plate-input",methodName:"performSearchButtonClickOperation",remoteOperation:c,request:{automotiveNumberPlate:e,id:a,nextAttributeId:z.getVehicleIdentifierAttributeName(a),
selections:z.getSelections(a)}},[2,f]}})})},$e=function(a){a={data:{id:a,inputSelections:z.getInputSelections(a),selections:z.getSelections(a)}};Vb.emitEvent("number-plate-reset",a)},af=function(a){var b=z.getHTMLElement(M.getSpinnerContainerId(a));b.classList.remove("aok-hidden");b.firstChild.classList.remove("aok-hidden");a=z.getHTMLElement(M.getSearchButtonId(a));ld(a)},Yb=function(a){var b=z.getHTMLElement(M.getSpinnerContainerId(a));b.classList.add("aok-hidden");b.firstChild.classList.add("aok-hidden");
a=z.getHTMLElement(M.getSearchButtonId(a));md(a)},bf={performSearchButtonClickOperation:function(a){var b=z.getHTMLElement(M.getSearchResultHolderId(a));b.firstChild&&(b.firstChild.remove(),$e(a));af(a);Ze(a).then(function(c){pa.performHtmlRemoteOperation(c).then(function(d){Xb.hideErrorSection(a);b.innerHTML=d.innerHTML;Yb(a)}).catch(function(d){Xb.showErrorSection(a);u["default"].log("number-plate-input remoteOperations failed for "+a+" with "+d+".","ERROR","international-automotive");l.logScopedCount(l.COMPONENT_METRIC_PREFIX+
":number-plate-inpute:remoteOperations-failure",1);Yb(a)})}).catch(function(c){Xb.showErrorSection(a);u["default"].log("number-plate-input getRemoteOperationRequest failed for "+a+" with "+c+".","ERROR","international-automotive");l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":number-plate-inpute:getRemoteOperationRequest-failure",1);Yb(a)})}},cf=function(a){a=a.currentTarget.dataset.componentId;z.getHTMLElement(M.getSearchButtonId(a)).classList.contains("a-button-disabled")||(bf.performSearchButtonClickOperation(a),
l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":number-plate-input:search-button-click",1))},md=function(a){var b=a?a.getElementsByClassName("a-button-input")[0]:void 0;a.classList.remove("a-button-disabled");b&&(b.disabled=!1)},ld=function(a){var b=a?a.getElementsByClassName("a-button-input")[0]:void 0;a.classList.add("a-button-disabled");b&&(b.disabled=!0)},df={initialize:function(a){X["default"].declarative("number-plate-input-change","keyup",function(c){if(0===a.localeCompare(c.data.componentId)){c=
z.getNumberPlateTextInputValue(a);var d=z.getHTMLElement(M.getSearchButtonId(a));1<=c.length?md(d):ld(d)}});X["default"].declarative("number-plate-result-select-action","change",function(c){0===a.localeCompare(c.data.componentId)&&(c={data:{id:a,inputSelections:z.getInputSelections(a),selections:z.getSelections(a)}},Vb.emitEvent("number-plate-vehicle-select",c),l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":number-plate-input:vehicle-selected",1))});var b=y["default"].setup().define;b(Wb.numberPlateSearchButtonClickHandler,
"click",cf)}},$a={attach:getData:function(a){return{data:{id:a,inputSelections:z.getInputSelections(a),selections:z.getSelections(a)}}},initialize:function(a){df.initialize(a)}},sa;((sa||(sa={}));var ha={getErrorContainerId:function(a){return a+"-error-container"},
getSeeMoreButtonContainerId:function(a){return a+"-see-more-button-container"},getSeeMoreButtonId:function(a){return a+"-see-more-button"},getSeeMoreContainerId:function(a){return a+"-see-more-container"},getSpinnerContainer:function(a){return a+"-spinner-container"}},da={getVehiclesViewMainDiv:hideErrorMessage:function(a){a=g.getElementByClassName(ha.getErrorContainerId(a));a.classList.add("aok-hidden");a.classList.add("aok-offscreen");a.firstChild.classList.add("aok-hidden");
a.firstChild.classList.add("aok-offscreen");a.firstChild.firstChild.classList.add("aok-hidden");a.firstChild.firstChild.classList.add("aok-offscreen")},hideSeeMoreButtonContainer:function(a){a=g.getElementByClassName(ha.getSeeMoreButtonContainerId(a));a.classList.add("aok-hidden");a.classList.add("aok-offscreen")},hideSpinner:function(a){a=g.getElementByClassName(ha.getSpinnerContainer(a));a.classList.add("aok-hidden");a.classList.add("aok-offscreen");a.firstChild.classList.add("aok-hidden");a.firstChild.classList.add("aok-offscreen")},
removeSeeMoreContainer:showErrorMessage:function(a){a=g.getElementByClassName(ha.getErrorContainerId(a));a.classList.remove("aok-hidden");a.classList.remove("aok-offscreen");a.firstChild.classList.remove("aok-hidden");a.firstChild.classList.remove("aok-offscreen");a.firstChild.firstChild.classList.remove("aok-hidden");a.firstChild.firstChild.classList.remove("aok-offscreen")},showSeeMoreButtonContainer:function(a){a=g.getElementByClassName(ha.getSeeMoreButtonContainerId(a));
a.classList.remove("aok-hidden");a.classList.remove("aok-offscreen")},showSpinner:function(a){a=g.getElementByClassName(ha.getSpinnerContainer(a));a.classList.remove("aok-hidden");a.classList.remove("aok-offscreen");a.firstChild.classList.remove("aok-hidden");a.firstChild.classList.remove("aok-offscreen")}},ef=function(a,b,c,d,e){return{componentName:"vehicles-view",methodName:"performSearchButtonClickOperation",remoteOperation:S["default"].setup().getVehiclesViewNextPage,request:{id:e,next:a,pageNumber:b,
pageSize:c,selections:d}}},ff={seeMoreGarageVehiclesButtonClickHandler:function(a,b){if(0===a.localeCompare(b.currentTarget.dataset.vehiclesViewId)){l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":vehicles-view:see-more-click",1);var c=b.currentTarget.dataset.next,d=+b.currentTarget.dataset.nextPageNumber,e=+b.currentTarget.dataset.pageSize,f=JSON.parse(b.currentTarget.dataset.selections);b=ef(c,d,e,f,b.currentTarget.dataset.vehiclesViewId);var k=a+"-page-"+(d-1);da.showSpinner(k);da.hideErrorMessage(k);
da.hideSeeMoreButtonContainer(k);pa.performHtmlRemoteOperation(b).then(function(h){h=V.unscope(h);var m=da.getVehiclesViewMainDiv(a);da.removeSeeMoreContainer(k);m.append(h.firstChild);2===h.childNodes.length&&m.append(h.lastChild);we["default"].updateAll()}).catch(function(h){da.showErrorMessage(k);da.hideSpinner(k);da.showSeeMoreButtonContainer(k);u["default"].log("vehicles-view remoteOperations failed for "+a+" with "+h+".","ERROR","international-automotive");l.logScopedCount(l.COMPONENT_METRIC_PREFIX+
":vehicles-view:remoteOperations-failure",1)})}}},gf={initialize:function(a){var b=y["default"].setup().define;b(sa.vehicleViewEventHandler,"click",function(c){if(0===a.localeCompare(c.currentTarget.dataset.vehiclesViewId)){var d=g.getElementsByClassName(c.currentTarget.dataset.vehiclesViewId)[0].dataset;d.selectedVehicle=c.currentTarget.dataset.vehicle;d.selectedVehicleSelection=c.currentTarget.dataset.currentSelection;l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":vehicles-view:vehicle-selected",
1);(d=g.getElementsByClassName("vehicles-view-garage-image-selected")[0])&&d.classList.remove("vehicles-view-garage-image-selected");g.getElementsByClassName(c.currentTarget.dataset.cellId)[0].classList.add("vehicles-view-garage-image-selected")}});b(sa.seeMoreGarageVehiclesButtonClickHandler,"click",}},Zb=function(a){a=g.getElementsByClassName(a)[0];if(void 0!==a.dataset.selectedVehicle)return JSON.parse(a.dataset.selectedVehicle)},$b=
function(a){a=g.getElementsByClassName(a)[0];if(void 0!==a.dataset.selectedVehicleSelection)return JSON.parse(a.dataset.selectedVehicleSelection)},Ca={attach:function(a,b){var c=y["default"].setup().define;"vehicle-select"===a&&c(sa.vehicleViewEventHandler,"click",function(d){var e=d.currentTarget.dataset.vehiclesViewId;g.getElementsByClassName(e)[0].dataset.selectedVehicle=d.currentTarget.dataset.vehicle;d={data:{currentSelections:$b(e),id:e,selectedVehicle:Zb(e)}};b(d)});"vehicle-add"===a&&c(sa.addVehicleClickHandler,
"click",function(d){d=d.currentTarget.dataset.vehiclesViewId;d={data:{currentSelections:$b(d),id:d,selectedVehicle:Zb(d)}};b(d)})},getData:function(a){return{data:{currentSelections:$b(a),id:a,selectedVehicle:Zb(a)}}},initialize:function(a){gf.initialize(a)}},nd=function(a){a=a.data.id;a=a.substring(0,a.lastIndexOf("-additional-attribute-selection"));g.getElementsByClassName(a)[0].dataset.vehicleSelectionChanged="true"},hf=function(a){a=a.data.id;a=a.substring(0,a.lastIndexOf("-vehicles-view"));g.getElementsByClassName(a+
"-vehicle-by-attribute-row-header-select")[0].click()},ab=function(a,b){g.getElementsByClassName(""+a)[0].dataset.rowSelected=b},jf={initialize:function(){var a=y["default"].setup().define;a(E.handleHSNTSNRowSelect,"click",function(b){ab(b.currentTarget.dataset.viewId,"hsn-tsn");l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":garage-vehicle-selection:hsn-tsn-row-selected",1)});a(E.handleNumberPlateRowSelect,"click",function(b){ab(b.currentTarget.dataset.viewId,"number-plate");l.logScopedCount(l.COMPONENT_METRIC_PREFIX+
":garage-vehicle-selection:number-plate-row-selected",1)});a(E.handleVehiclesByAttributeRowSelect,"click",function(b){ab(b.currentTarget.dataset.viewId,"vehicle-by-attribute");l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":garage-vehicle-selection:vehicle-by-attribute-row-selected",1)});a(E.handleGarageVehicleRowSelect,"click",function(b){ab(b.currentTarget.dataset.viewId,"garage-vehicle");l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":garage-vehicle-selection:garage-vehicle-row-selected",1)});Ca.attach("vehicle-add",
hf);aa.attach("garage-vehicle-change",nd)}},N={},A=function(a){var b=g.getElementsByClassName(a)[0].dataset.rowSelected;var c="hsn-tsn"===b?ra.getData(a+"-hsn-tsn-input").data.automotiveHsnTsn:void 0;if("garage-vehicle"===b){if(bb(a)){var d=aa.getData(a+"-additional-attribute-selection");var e=d.data?d.data.currentSelectedVehicle:void 0}else d=Ca.getData(a+"-vehicles-view"),e=d.data?d.data.selectedVehicle:void 0;d=e?e.identity:void 0}var f=g.getElementsByClassName(a)[0];f=JSON.parse(f.dataset.inputSelections);
var k=g.getElementsByClassName(a)[0].dataset.rowSelected;switch(k){case "garage-vehicle":bb(a)?(k=aa.getData(a+"-additional-attribute-selection"),k="true"===g.getElementsByClassName(a)[0].dataset.vehicleSelectionChanged?k.data.currentVehicleSelection:k.data?k.data.currentSelection:void 0):k=Ca.getData(a+"-vehicles-view").data.currentSelections;break;case "hsn-tsn":k=ra.getData(a+"-hsn-tsn-input").data.inputSelection;break;case "number-plate":k=$a.getData(a+"-number-plate-input").data.selections;break;
case "vehicle-by-attribute":k=D.getData(a+"-vehicle-attributes-selection").data.currentSelections;break;default:throw r.logAndReturnBadRequestError("Unable to find selected row: "+k,"garage-vehicle-selection","getCurrentVehicleSelections");}return{data:{automotiveHsnTsn:c,garageId:d,garageVehicle:e,id:a,inputSelections:f,selections:k,vehicleSelectionType:kf(a,b)}}},kf=function(a,b){switch(b){case "garage-vehicle":if(b=bb(a))b=(b=g.getElementsByClassName(a+"-vehicle-view")[0])?"true"===b.dataset.isVehicleFullySelected:
!1,b=!b;return b&&"true"!==g.getElementsByClassName(a)[0].dataset.vehicleSelectionChanged?"additional-attribute":"garage";case "hsn-tsn":return"hsn-tsn";case "number-plate":return"number-plate";case "vehicle-by-attribute":return"attribute";default:throw r.logAndReturnBadRequestError("Unable to find selected row: "+b,"garage-vehicle-selection","getCurrentVehicleSelections");}},bb=function(a){return(a=g.getElementsByClassName(a+"-vehicle-view")[0])?"garage-vehicle-selection"!==a.dataset.vehiclesViewType:
!1},od=function(a){return-1<a.data.id.indexOf("vehicle-attributes-selection")},pd=function(a){return-1<a.data.id.indexOf("additional-attribute-selection")},qd=function(a,b,c){a=a.data.id;a=a.substring(0,a.lastIndexOf("-hsn-tsn-input"));g.getElementsByClassName(a)[0].dataset.isAllSelectedHsnTsn=b?"false":"true";b=A(a);c(b)},cb=function(a,b,c){var d=ra.getData(a+"-hsn-tsn-input"),e="";d&&d.data&&(e=d.data.automotiveHsnTsn);7===e.length?"hsn-tsn-select"===b&&(a=A(a),c(a)):"hsn-tsn-reset"===b&&(a=A(a),
c(a))},rd=function(a,b,c){a=a.data.id;a=a.substring(0,a.lastIndexOf("-number-plate-input"));g.getElementsByClassName(a)[0].dataset.isAllSelectedNumberplate=b?"false":"true";b=A(a);c(b)},sd=function(a){return a.substring(0,a.lastIndexOf("-vehicle-attributes-selection"))},ac=function(a,b){a=a.currentTarget.dataset.viewId;var c=g.getElementsByClassName(a)[0];if(c&&c.dataset&&"true"===c.dataset.isAllSelectedAdditionalAttributeSelection){var d=A(a);b(d)}c&&c.dataset&&"true"===c.dataset.isVehiclesViewSelected&&
(d=A(a),b(d));c&&c.dataset&&"true"===c.dataset.vehicleSelectionChanged&&"true"===c.dataset.doesNotContainAdditionalAttributeSelection&&(d=A(a),b(d))},O={attach:function(a,b){var c=y["default"].setup().define;switch(a){case "hsn-tsn-reset":Ba?(X["default"].declarative("hsn-tsn-input-handler","keyup",function(d){cb(d.data.viewId,a,b)}),c(E.handleHSNTSNRowSelect,"click",function(d){cb(d.currentTarget.dataset.viewId,a,b)})):(ra.attach("hsn-tsn-reset",function(d){qd(d,!0,b)}),c(E.handleHSNTSNRowSelect,
"click",function(d){d=d.currentTarget.dataset.viewId;var e=g.getElementsByClassName(d)[0];e&&e.dataset&&"true"!==e.dataset.isAllSelectedHsnTsn&&(d=A(d),b(d))}));break;case "hsn-tsn-select":Ba?(X["default"].declarative("hsn-tsn-input-handler","keyup",,c(E.handleHSNTSNRowSelect,"click",):(ra.attach("hsn-tsn-vehicle-select",function(d){qd(d,!1,b)}),c(E.handleHSNTSNRowSelect,"click",function(d){d=d.currentTarget.dataset.viewId;
var e=g.getElementsByClassName(d)[0];e&&e.dataset&&"true"===e.dataset.isAllSelectedHsnTsn&&(d=A(d),b(d))}));break;case "number-plate-reset":$a.attach("number-plate-reset",function(d){rd(d,!0,b)});c(E.handleNumberPlateRowSelect,"click",function(d){d=d.currentTarget.dataset.viewId;var e=g.getElementsByClassName(d)[0];e&&e.dataset&&"true"!==e.dataset.isAllSelectedNumberplate&&(d=A(d),b(d))});break;case "number-plate-select":$a.attach("number-plate-vehicle-select",;c(E.handleNumberPlateRowSelect,
"click",function(d){d=d.currentTarget.dataset.viewId;var e=g.getElementsByClassName(d)[0];e&&e.dataset&&"true"===e.dataset.isAllSelectedNumberplate&&(d=A(d),b(d))});break;case "garage-vehicle-select":Ca.attach("vehicle-select",function(d){d=d.data.id;d=d.substring(0,d.lastIndexOf("-vehicles-view"));var e=A(d);g.getElementsByClassName(d)[0].dataset.isVehiclesViewSelected="true";b(e)});c(E.handleGarageVehicleRowSelect,"click",function(d){ac(d,b)});break;case "attribute-selection-reset":D.attach("attribute-reset",
function(d){od(d)&&(d=sd(d.data.id),g.getElementsByClassName(d)[0].dataset.isAllSelectedAttributeSelection="false",d=A(d),b(d))});c(E.handleVehiclesByAttributeRowSelect,"click",function(d){d=d.currentTarget.dataset.viewId;"true"!==g.getElementsByClassName(d)[0].dataset.isAllSelectedAttributeSelection&&(d=A(d),b(d))});break;case "attribute-selection-select":D.attach("all-attributes-select",function(d){od(d)&&(d=sd(d.data.id),g.getElementsByClassName(d)[0].dataset.isAllSelectedAttributeSelection="true",
d=A(d),b(d))});c(E.handleVehiclesByAttributeRowSelect,"click",function(d){d=d.currentTarget.dataset.viewId;"true"===g.getElementsByClassName(d)[0].dataset.isAllSelectedAttributeSelection&&(d=A(d),b(d))});break;case "garage-vehicle-reset":c(E.handleGarageVehicleRowSelect,"click",function(d){d=d.currentTarget.dataset.viewId;var e=g.getElementsByClassName(d)[0];e&&e.dataset&&"true"!==e.dataset.isVehiclesViewSelected&&(d=A(d),b(d))});break;case "additional-attribute-selection-reset":aa.attach("additional-attributes-reset",
function(d){pd(d)&&(d=d.data.id,d=d.substring(0,d.lastIndexOf("-additional-attribute-selection")),g.getElementsByClassName(d)[0].dataset.isAllSelectedAdditionalAttributeSelection="false",d=A(d),b(d))});c(E.handleGarageVehicleRowSelect,"click",function(d){d=d.currentTarget.dataset.viewId;var e=g.getElementsByClassName(d)[0];e&&e.dataset&&"true"!==e.dataset.isVehiclesViewSelected&&"true"!==e.dataset.isAllSelectedAdditionalAttributeSelection&&"true"!==e.dataset.doesNotContainAdditionalAttributeSelection&&
"true"!==e.dataset.vehicleSelectionChanged&&(d=A(d),b(d))});break;case "additional-attribute-selection-select":aa.attach("additional-attributes-select",function(d){pd(d)&&(d=d.data.id,d=d.substring(0,d.lastIndexOf("-additional-attribute-selection")),g.getElementsByClassName(d)[0].dataset.isAllSelectedAdditionalAttributeSelection="true",d=A(d),b(d))});c(E.handleGarageVehicleRowSelect,"click",function(d){ac(d,b)});break;case "additional-attribute-selection-vehicle-select":aa.attach("garage-vehicle-change",
function(d){nd(d);var e=d.data.id;d=e.substring(0,e.lastIndexOf("-additional-attribute-selection"));var f=g.getElementsByClassName(d)[0];e=g.getElementsByClassName(e+"-additional-attribute-selection-holder")[0];!e||e.classList.contains("aok-hidden")?f.dataset.doesNotContainAdditionalAttributeSelection="true":f.dataset.doesNotContainAdditionalAttributeSelection="false";d=A(d);b(d)}),c(E.handleGarageVehicleRowSelect,"click",function(d){ac(d,b)})}},getData:A,initialize:function(a){if(!0!==N[a+"-vehicles-view"])try{Ca.initialize(a+
"-vehicles-view"),N[a+"-vehicles-view"]=!0}catch(c){throw r.logAndReturnFailedDependencyError("Failed to initialize vehicles-view for "+a,"garage-vehicle-selection","initializeVehiclesViewClient",c);}if(!0!==N[a+"-number-plate-input"])try{$a.initialize(a+"-number-plate-input"),N[a+"-number-plate-input"]=!0}catch(c){throw r.logAndReturnFailedDependencyError("Failed to initialize number-plate-input for "+a,"garage-vehicle-selection","initializeNumberPlateClient",c);}if(!0!==N[a+"-hsn-tsn-input"])try{ra.initialize(a+
"-hsn-tsn-input"),N[a+"-hsn-tsn-input"]=!0}catch(c){throw r.logAndReturnFailedDependencyError("Failed to initialize hsn-tsn-input for "+a,"garage-vehicle-selection","initializeHsnTsnClient",c);}if(!0!==N[a+"-vehicle-attributes-selection"])try{D.initialize(a+"-vehicle-attributes-selection"),N[a+"-vehicle-attributes-selection"]=!0}catch(c){throw r.logAndReturnFailedDependencyError("Failed to initialize attributes-selection for "+a,"garage-vehicle-selection","initializeAttributesSelectionClient",c);
}if(!0!==N[a+"-additional-attribute-selection"])try{var b=g.getElementsByClassName(a+"-vehicle-view")[0];b&&"additional-attribute-selection"===b.dataset.vehiclesViewType&&(aa.initialize(a+"-additional-attribute-selection"),N[a+"-additional-attribute-selection"]=!0)}catch(c){throw r.logAndReturnFailedDependencyError("Failed to initialize garage-additional-attribute-selection for "+a,"garage-vehicle-selection","initializeGarageAdditionalAttributeClient",c);}if(!0!==N.initializeBrowserOperation)try{jf.initialize(),
N.initializeBrowserOperation=!0}catch(c){throw r.logAndReturnFailedDependencyError("Failed to initialize browser operation for "+a,"garage-vehicle-selection","initializeBrowserOperation",c);}},isAdditionalAttributeSelection:bb,reset:function(a){try{D.reset(a+"-vehicle-attributes-selection"),aa.reset(a+"-additional-attribute-selection"),N[a+"-vehicle-attributes-selection"]=!1,N[a+"-additional-attribute-selection"]=!1}catch(b){throw r.logAndReturnFailedDependencyError("Failed to reset attributes-selection for "+
a,"garage-vehicle-selection","reset",b);}}},db;(function(a){a.partfinderGarageEntitySelectionManageYourGarageLinkClick="partfinderGarageEntitySelectionManageYourGarageLinkClick";a.partfinderGarageEntitySelectionFilterButtonClick="partfinderGarageEntitySelectionFilterButtonClick"})(db||(db={}));var lf={initialize:function(a){a=y["default"].setup().define;a(db.partfinderGarageEntitySelectionManageYourGarageLinkClick,"click",function(b){l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":"+b.currentTarget.dataset.metric,
1)})}},ea={},td=!1,T=function(a,b,c){O.attach(c,function(d){a(d,b)})},ud=function(a){var b=O.getData(eb(a));return void 0===b.error?{data:{asin:g.getElementsByClassName(bc(a))[0].dataset.asin,automotiveHsnTsn:b.data.automotiveHsnTsn,garageId:b.data.garageId,garageVehicle:b.data.garageVehicle,id:a,inputSelections:b.data.inputSelections,partfinderGarageEntitySelectionType:{"additional-attribute":"VehicleAdditionalAttribute",attribute:"VehicleAttribute",garage:"GarageVehicle","hsn-tsn":"HsnTsn","number-plate":"NumberPlate"}[b.data.vehicleSelectionType],
selections:b.data.selections}}:{error:b.error}},ta=function(a,b){a=vd(a.data.id);0===b.localeCompare(a)&&(b=g.getElementsByClassName(bc(a))[0],a=g.getElementsByClassName(a+"-filter-button-disabled")[0],b.classList.remove("aok-hidden"),a.classList.add("aok-hidden"))},Da=function(a,b){a=vd(a.data.id);0===b.localeCompare(a)&&wd(a)},eb=function(a){return a+"-garage-vehicle-selection"},vd=function(a){return a.substring(0,a.lastIndexOf("-garage-vehicle-selection"))},bc=function(a){return a+"-filter-button-enabled"},
wd=function(a){var b=g.getElementsByClassName(bc(a))[0];a=g.getElementsByClassName(a+"-filter-button-disabled")[0];b.classList.add("aok-hidden");a.classList.remove("aok-hidden")},cc={attach:function(a,b){switch(a){case "filter-button-click":a=y["default"].setup().define,a(db.partfinderGarageEntitySelectionFilterButtonClick,"click",function(c){var d=ud(c.currentTarget.dataset.componentId);b(d);l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":"+c.currentTarget.dataset.metric,1)})}},getData:ud,initialize:function(a){!0!==
td&&(lf.initialize(a),td=!0);try{O.initialize(eb(a))}catch(c){throw r.logAndReturnFailedDependencyError("Failed on initialize with id [ "+a+" ]","partfinder-garage-entity-selection","initialize",c);}var b=a+"-garageVehicleSelectionClientDefaultAttach";!0!==ea[b]&&(T(ta,a,"garage-vehicle-select"),T(ta,a,"hsn-tsn-select"),T(ta,a,"number-plate-select"),T(Da,a,"garage-vehicle-reset"),T(Da,a,"hsn-tsn-reset"),T(Da,a,"number-plate-reset"),ea[b]=!0);b=a+"-garageVehicleSelectionClientAttributeSelectionAttach";
!0!==ea[b]&&(T(Da,a,"attribute-selection-reset"),T(ta,a,"attribute-selection-select"),ea[b]=!0);O.isAdditionalAttributeSelection(eb(a))&&(b=a+"-garageVehicleSelectionClientAdditionalAttributesAttach",!0!==ea[b]&&(T(ta,a,"additional-attribute-selection-select"),T(ta,a,"additional-attribute-selection-vehicle-select"),T(Da,a,"additional-attribute-selection-reset"),ea[b]=!0))},reset:function(a){try{var b=eb(a);O.reset(b);ea[a+"-garageVehicleSelectionClientAttributeSelectionAttach"]=!1;ea[a+"-garageVehicleSelectionClientAdditionalAttributesAttach"]=
!1;wd(a)}catch(c){throw a=new I("partfinder-garage-entity-selection failed to reset for "+a+".","partfinder-garage-entity-selection","reset",{code:424,isRetriable:!1,name:"FailedDependencyError"},c),u["default"].log(a.toString(),"ERROR","international-automotive"),l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":partfinder-garage-entity-selection:reset-failed",1),a;}}},mf=function(){return n.__awaiter(void 0,void 0,void 0,function(){return n.__generator(this,function(a){l.logScopedCount("partfinder-garage-entity-selection-client-event-error",
1);throw Error("PartfinderGarageEntitySelection triggerred errored event with wrong data.");})})},xd={mapper:function(a,b){return{asin:a,automotiveHsnTsn:b.data.automotiveHsnTsn,garageId:b.data.garageId,garageVehicle:b.data.garageVehicle,id:q.getPrimaryViewId(),inputSelections:b.data.inputSelections,selectionType:b.data.partfinderGarageEntitySelectionType,selections:b.data.selections}}},Ea={getEntitySourceTypeFromPartfinderPrimaryProductData:function(a,b){var c="MRU"===a?"mru-tire":"select-tire";
"VEHICLE"===b.garageItemType&&(c=1===b.attributesSelections.selectedEntityAttributes.filter(function(d){return"tireSize"===d.id}).length?"MRU"===a?"mru-vehicle-tire":"select-vehicle-tire":"MRU"===a?"mru-vehicle":"select-vehicle");return c},logEvent:function(a,b,c,d){var e,f={};f.asin=d.asin;f.customerId=void 0!==a.customerId?a.customerId:null;f.deviceType=c;f.doesFit=void 0!==d.fitment?d.fitment.type:"error-case";f.entitySource=b;f.feature="ANY"===d.productType?"Partfinder":"Tirefinder";f.marketplaceId=
a.marketplaceId;f.sessionId=a.sessionId;if(d.attributesSelections.selectedEntityAttributes)try{for(var k=n.__values(d.attributesSelections.selectedEntityAttributes),h=k.next();!h.done;h=k.next()){var m=h.value;f[m.id]=m.value}}catch(t){var p={error:t}}finally{try{h&&!h.done&&(e=k.return)&&e.call(k)}finally{if(p)throw p.error;}}l.logEvent(f,"international-automotive","international_automotive.dp_partfinder.4")}},yd=function(){var a=ba.getData(q.getPrimaryViewId());if(a.data){var b=Qa["default"].cardRoot.getElementsByTagName("DIV")[0];
Ea.logEvent(JSON.parse(b.dataset.retailContext),Ea.getEntitySourceTypeFromPartfinderPrimaryProductData("SELECT",a.data.productFitment),"desktop",a.data.productFitment)}},nf=function(){return n.__awaiter(void 0,void 0,void 0,function(){var a;return n.__generator(this,function(b){switch(b.label){case 0:return[4,new Promise(function(c,d){ja(["@c/tracking"],function(e){c(ka(e))},d)})];case 1:return a=b.sent().addTracking,[2,a]}})})},dc={getValueHTMLWithTracking:function(a,b){return n.__awaiter(void 0,
void 0,void 0,function(){var c,d,e,f,k;return n.__generator(this,function(h){switch(h.label){case 0:c=S["default"].setup(),d=!1,h.label=1;case 1:return h.trys.push([1,7,,8]),[4,Promise.race([nf(),new Promise(function(m,p){return setTimeout(function(){return p(Error("dependency not found"))},10)})]).catch(function(){l.logScopedCount("pf-dynamic-tracking-import-failure",1);d=!0})];case 2:return h.sent(),d?[4,c.getPartfinderView(a)]:[3,4];case 3:return[2,h.sent()];case 4:return[4,new Promise(function(m,
p){ja(["@c/tracking"],function(t){m(ka(t))},p)})];case 5:return e=h.sent().addTracking,f=e(c.getPartfinderView,b),[4,f(a)];case 6:return[2,h.sent()];case 7:throw k=h.sent(),Error("PartfinderPrimaryViewRemoteOperationInterface getPartfinderView with Tracking remote operation failed: "+k);case 8:return[2]}})})}},of={getEncryptedId:function(a,b,c){return n.__awaiter(void 0,void 0,void 0,function(){var d,e,f,k;return n.__generator(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,
Ra["default"].post("/automotive-components/vehicle-identifier?sif_profile=AutomotiveUIComponentsVehicleIdentifierSIFProfile",{accepts:"*/*",contentType:"application/json"},(k={},k.automotiveVehicleIdentifier=a,k))];case 1:d=h.sent();e=d.responseBody;if(!e)throw Error("Encrypted value of HsnTsn can not be undefined");return[2,e.automotiveVehicleIdentifier];case 2:throw f=h.sent(),r.logAndThrowFailedDependencyError("Ajax Request Failed for HsnTsn encryption",c,b,f);case 3:return[2]}})})}},zd={handler:function(a,
b,c,d){G.showSpinner();G.hideSecondaryViewContentContainer();G.hideErrorMessageContainer();G.hideErrorMessageContainerHsnTsn();b().then(function(e){e=V.unscope(e);var f=C.getElementByClassName(q.getPrimaryViewContainerId());e&&e.firstElementChild&&e.firstElementChild.dataset&&"false"===e.firstElementChild.dataset.hsnTsnResolved?G.showErrorMessageContainerHsnTsn():(f.firstChild?f.replaceChild(e,f.firstChild):f.appendChild(e),a(),d(),c());G.hideSpinner();G.showSecondaryViewContentContainer()}).catch(function(e){G.showErrorMessageContainer();
G.hideErrorMessageContainerHsnTsn();u["default"].log("Primary view content retrieval OR content initialization failed with error: "+e,"ERROR",q.getErrorAttributionId());l.logScopedCount("primary-view-content-provider-or-initialization-failed",1);G.hideSpinner();G.showSecondaryViewContentContainer()})}},Ad=qf=function(a){return n.__awaiter(void 0,void 0,void 0,function(){var b,c,d;return n.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,of.getEncryptedId(a.data.automotiveHsnTsn,
"vehicleIdHelper","resolveEncryptedHsnTsn")];case 1:return b=e.sent(),[3,3];case 2:throw c=e.sent(),r.logAndThrowFailedDependencyError("Ajax Error for encryption of HsnTsn","vehicleIdHelper","resolveEncryptedHsnTsn",c);case 3:return d={data:{asin:a.data.asin,automotiveHsnTsn:b,garageId:a.data.garageId,garageVehicle:a.data.garageVehicle,id:a.data.id,inputSelections:a.data.inputSelections,partfinderGarageEntitySelectionType:a.data.partfinderGarageEntitySelectionType,selections:a.data.selections}},[2,
d]}})})},pf=function(a){var b;a&&a.data&&!a.error?a.data.id===q.getPartfinderSecondaryViewId()&&(b=function(){return n.__awaiter(void 0,void 0,void 0,function(){var c,d;return n.__generator(this,function(e){switch(e.label){case 0:return"HsnTsn"!==a.data.partfinderGarageEntitySelectionType?[3,2]:[4,qf(a)];case 1:return d=e.sent(),c=xd.mapper(d.data.asin,d),[3,3];case 2:c=xd.mapper(a.data.asin,a),e.label=3;case 3:return[4,dc.getValueHTMLWithTracking(c,{ref_:Bd(a)})];case 4:return[2,e.sent()]}})})}):
b=mf;if(b)try{zd.handler(Nb.initialize,b,yd,Cd)}catch(c){u["default"].log("SecondaryViewEventHandler failed with error: "+c,"ERROR",q.getErrorAttributionId()),l.logScopedCount("secondary-view-event-handler-failed",1)}},Cd=function(){Qa["default"].cardRoot.getElementsByClassName(q.getSecondaryViewHideTrigger())[0].getElementsByClassName("a-button-input")[0].click()},Bd=function(a){if(a.data){if("VehicleAttribute"===a.data.partfinderGarageEntitySelectionType||"VehicleAdditionalAttribute"===a.data.partfinderGarageEntitySelectionType)return R.PF_DESKTOP_DP_FILTER_BY_VEHICLE_FILTER;
if("NumberPlate"===a.data.partfinderGarageEntitySelectionType||"HsnTsn"===a.data.partfinderGarageEntitySelectionType)return R.PF_DESKTOP_DP_BY_NUMBER_PLATE_FILTER}return R.PF_DESKTOP_DP_BY_OTHER_FILTER},rf={attach:function(){cc.attach("filter-button-click",Ad)},filterButtonClickEventHandler:Ad,getPartFinderFilterButtonRefTagForDesktop:Bd,secondaryViewControl:Cd},ec;(ec||(ec={})).seasonSelectEventHandler="seasonSelectEventHandler";var sf={initialize:function(a){var b=y["default"].setup().define;b(ec.seasonSelectEventHandler,
"change",function(c){if(0===(a+"-states").localeCompare(c.currentTarget.dataset.stateDivId)){c=c.currentTarget.dataset;var d=g.getElementsByClassName(c.stateDivId)[0].dataset;d[c.stateFlagName]=("false"===d[c.stateFlagName]).toString();var e=l.COMPONENT_METRIC_PREFIX+":season-select:"+c.stateFlagName+"-change";try{wb.count(e,"true"===d[c.stateFlagName]?1:-1)}catch(f){u["default"].log("Failed to log "+e+" CSM metric","ERROR",e)}}})}},ua={getData:function(a){var b=g.getElementsByClassName(a+"-states")[0].dataset;
var c="".concat("true"===b.summerSelected?"S":"");c=c.concat("true"===b.allSeasonSelected?"Y":"");c=c.concat("true"===b.winterSelected?"W":"");return{data:{id:a,season:c}}},initialize:function(a){try{var b=g.getElementsByClassName(a)[0]}catch(c){throw r.logAndReturnFailedDependencyError("Failed to initialized for input id [ "+a+" ].","season-select","initialize",c);}b&&void 0!==b.dataset?sf.initialize(a):r.logAndThrowBadRequestError("Failed to retrieve state DOMStringMap corresponding to input id "+
a,"season-select","initialize")}},B={getBaseAttributesSelectionId:function(a){return a+"-base-attributes-selection"},getHelpInfoId:function(a){return a+"-help-info"},getOptionalAttributesSelectionContainerId:function(a){return a+"-optional-attributes-selection-container"},getOptionalAttributesSelectionId:function(a){return a+"-optional-attributes-selection"},getOriginalIdFromBaseAttributesSelectionId:getSeasonSelectGroupId:function(a){return a+
"-season-select-group"},getSeasonSelectId:function(a){return a+"-season-select"}},fc=[],Dd=[],tf=function(a){try{D.initialize(a)}catch(b){throw r.logAndReturnFailedDependencyError("Failed on initialize for id [ "+a+" ].","tire-attributes-selection","initializeAttributesSelection",b);}},fb=function(a){a=g.getElementsByClassName(a)[0];return JSON.parse(a.dataset.inputSelections)},uf=function(a){try{gb(a)&&ua.initialize(a)}catch(b){throw r.logAndReturnFailedDependencyError("Failed on initialize for id [ "+
a+" ].","tire-attributes-selection","initializeSeasonSelect",b);}},hb=function(a,b){b=Array.from(b);a.length&&b.push({id:"season",value:a});return b},wf=function(a,b){var c=B.getOriginalIdFromBaseAttributesSelectionId(a.data.id),d="";gb(B.getSeasonSelectId(c))&&(d=ua.getData(B.getSeasonSelectId(c)).data.season);var e=a.data.currentSelections,f={data:{id:c,inputSelections:fb(c),selections:hb(d,e),allAttributesSelected:a.data.allAttributesSelected}};pa.performHtmlRemoteOperation(vf(b,{id:c,selections:a.data.currentSelections})).then(function(k){var h=
g.getElementsByClassName(B.getOptionalAttributesSelectionContainerId(c))[0];h.firstChild&&(D.remove(B.getOptionalAttributesSelectionId(c)),h.firstChild.remove());k=V.unscope(k);h.appendChild(k);D.initialize(B.getOptionalAttributesSelectionId(c));h.classList.remove("aok-hidden");gc(fc,f)}).catch(},gc=function(a,b){var c;try{for(var d=n.__values(a),e=d.next();!e.done;e=d.next()){var f=e.value;f(b)}}catch(h){var k={error:h}}finally{try{e&&!e.done&&(c=d.return)&&c.call(d)}finally{if(k)throw k.error;
}}},vf=va={attach:function(a,b){switch(a){case "base-attributes-select":fc.push(b);break;case "attribute-reset":Dd.push(b)}},getData:function(a){var b,c="";gb(B.getSeasonSelectId(a))&&(c=ua.getData(B.getSeasonSelectId(a)).data.season);var d=D.getData(B.getBaseAttributesSelectionId(a)).data,e=D.getData(B.getOptionalAttributesSelectionId(a)).data,
f;d&&(f={id:d.id,inputSelections:fb(a),selections:hb(c,d.currentSelections),allAttributesSelected:d.allAttributesSelected});if(f&&e){f=e.currentSelections.slice(d.currentSelections.length);var k=Array.from(d.currentSelections);try{for(var h=n.__values(f),m=h.next();!m.done;m=h.next()){var p=m.value;p.value.length&&k.push(p)}}catch(v){var t={error:v}}finally{try{m&&!m.done&&(b=h.return)&&b.call(h)}finally{if(t)throw t.error;}}f={id:a,inputSelections:fb(a),selections:hb(c,k),allAttributesSelected:d.allAttributesSelected&&
e.allAttributesSelected}}return{data:f}},initialize:function(a){tf(B.getBaseAttributesSelectionId(a));uf(B.getSeasonSelectId(a));try{D.attach("all-attributes-select",function(b){if(b.data.id===B.getBaseAttributesSelectionId(a)){var c=S["default"].setup(["getTireOptionalAttributesSelectionView"]);wf(b,c)}}),D.attach("attribute-reset",function(b){if(b.data.id===B.getBaseAttributesSelectionId(a)){var c=B.getOriginalIdFromBaseAttributesSelectionId(b.data.id),d="";gb(B.getSeasonSelectId(c))&&(d=ua.getData(B.getSeasonSelectId(c)).data.season);
var e=b.data.currentSelections;b={data:{id:c,inputSelections:fb(c),selections:hb(d,e),allAttributesSelected:b.data.allAttributesSelected}};d=g.getElementsByClassName(B.getOptionalAttributesSelectionContainerId(c))[0];d.classList.add("aok-hidden");d.firstChild&&d.firstChild.firstChild&&(D.remove(B.getOptionalAttributesSelectionId(c)),d.firstChild.remove());gc(Dd,b)}})}catch(b){throw r.logAndReturnFailedDependencyError("Failed on initialize for id [ "+a+" ].","tire-attributes-selection","initialize",
b);}},reset:function(a){try{D.reset(B.getBaseAttributesSelectionId(a));var b=g.getElementsByClassName(B.getOptionalAttributesSelectionContainerId(a))[0];b.firstChild&&b.firstChild.firstChild&&(D.remove(B.getOptionalAttributesSelectionId(a)),b.firstChild.remove())}catch(c){throw r.logAndReturnFailedDependencyError("Failed to reset attributes-selection for "+a,"tire-attributes-selection","reset",c);}}},gb=function(a){a=g.getElementsByClassName(a);return void 0!==a&&1===a.length?!0:!1},U;((U||(U={}));var hc;(hc||(hc={})).tireSizeCalculateButtonClickHandler=
"tireSizeCalculateButtonClickHandler";var Ed=function(a){return{circumference:25.4*a.circumference,diameter:25.4*a.diameter,rimSize:25.4*a.rimSize,sidewall:25.4*a.sidewall,tireSize:a.tireSize,width:25.4*a.width}},ic=function(a){return Number(Fa(a+"-tireSizeInput1"))},Fa=function(a){a=g.getElementsByClassName(a)[0];return a.hasChildNodes()?a.firstChild.value:a.value},Fd=function(a){var b=g.getElementsByClassName(a+"-mmButton")[0].classList.contains("a-button-selected");if(100>ic(a)){g.getElementsByClassName(a+
"-imperialMetricTireSizeSymbol")[0].innerText="x";var c=ic(a);var d=Number(Fa(a+"-tireSizeInput3"));var e=Number(Fa(a+"-tireSizeInput2"));c={circumference:Math.PI*c,diameter:c,rimSize:d,sidewall:(c-d)/2,tireSize:c+"x"+e+"R"+d,width:e};b&&(c=Ed(c));b=c}else{g.getElementsByClassName(a+"-imperialMetricTireSizeSymbol")[0].innerText="/";c=Number(Fa(a+"-tireSizeInput2"));d=Number(Fa(a+"-tireSizeInput3"));e=ic(a);var f=c*e/2540,k=d+2*f;c={circumference:Math.PI*k,diameter:k,rimSize:d,sidewall:f,tireSize:e+
"/"+c+"R"+d,width:e/25.4};b&&(c=Ed(c));b=c}c=b;if(void 0!==c){if(d=g.getElementsByClassName(a+"-diameter")[0])d.innerText=""+c.diameter.toFixed(1);if(d=g.getElementsByClassName(a+"-width")[0])d.innerText=""+c.width.toFixed(1);if(d=g.getElementsByClassName(a+"-circumference")[0])d.innerText=""+c.circumference.toFixed(1);if(d=g.getElementsByClassName(a+"-sidewall")[0])d.innerText=""+c.sidewall.toFixed(1);if(d=g.getElementsByClassName(a+"-tireSize")[0])d.innerText=""+c.tireSize}d=g.getElementsByClassName(a+
"-tireProfileSideImage")[0];c=g.getElementsByClassName(a+"-tireProfileSideInsideImage")[0];e=b.rimSize/b.diameter*d.width;c.style.height=e+"px";c.width=e;d=(d.width-c.width)/2;c.style.left=d+"px";c.style.top=d+"px";g.getElementsByClassName(a+"-tireImageWidth")[0].innerText=b.width.toFixed(1);g.getElementsByClassName(a+"-tireImageDiameterOrange")[0].innerText=b.diameter.toFixed(1)},xf={initialize:function(a){Fd(a);var b=y["default"].setup().define;b(hc.tireSizeCalculateButtonClickHandler,"click",function(c){c.acknowledge();
c.currentTarget.dataset.componentId&&Fd(a)})}},yf={initialize:function(a){xf.initialize(a)}},ib;(function(a){a.tireSizeCompareButtonClickHandler="tireSizeCompareButtonClickHandler";a.tireMmButtonClickHandler="tireMmButtonClickHandler"})(ib||(ib={}));var zf=[25,35,45,55,65,75],Af=[30,50,70,90,110,130],Gd=function(a){return{circumference:25.4*a.circumference,diameter:25.4*a.diameter,rimSize:25.4*a.rimSize,sidewall:25.4*a.sidewall,tireSize:a.tireSize,width:25.4*a.width}},Hd=function(a,b){return[(b.diameter-
a.diameter)/a.diameter*100,(b.width-a.width)/a.width*100,(b.circumference-a.circumference)/a.circumference*100,(b.sidewall-a.sidewall)/a.sidewall*100]},Id=function(a,b,c,d){c=d/c;for(d=1;7>d;d++){var e=b[d-1],f=e*c,k=f-e,h=g.getElementsByClassName(a+"-tireSpeedometerVal"+d)[0];h&&(h.innerText=String(e));if(e=g.getElementsByClassName(a+"-tireSpeedometerCalc"+d)[0])e.innerText=f.toFixed(2);if(f=g.getElementsByClassName(a+"-tireSpeedometerDiff"+d)[0])f.innerText=k.toFixed(2)}},Ld=function(a,b,c,d){for(var e=
[b.diameter,b.width,b.circumference,b.sidewall],f=[c.diameter,c.width,c.circumference,c.sidewall],k=0;4>k;k++){var h=g.getElementsByClassName(a+"-size1"+k)[0];h&&(h.innerText=String(e[k].toFixed(1)));if(h=g.getElementsByClassName(a+"-size2"+k)[0])h.innerText=String(f[k].toFixed(1));if(h=g.getElementsByClassName(a+"-difference"+k)[0])h.innerText=d[k].toFixed(1)+"%"}if(d=g.getElementsByClassName(a+"-tireSizeComp")[0])d.innerText=""+b.tireSize;Jd(a,b);g.getElementsByClassName(a+"-tireImageWidthComp")[0].innerText=
b.width.toFixed(1);g.getElementsByClassName(a+"-tireImageDiameterBlue")[0].innerText=b.diameter.toFixed(1);if(b=g.getElementsByClassName(a+"-tireSizeComp2")[0])b.innerText=""+c.tireSize;Kd(a,c);g.getElementsByClassName(a+"-tireImageWidthComp2")[0].innerText=c.width.toFixed(1);g.getElementsByClassName(a+"-tireImageDiameterOrange")[0].innerText=c.diameter.toFixed(1)},Jd=function(a,b){var c=g.getElementsByClassName(a+"-tireProfileSideImageComp")[0];a=g.getElementsByClassName(a+"-tireProfileSideInsideImage")[0];
b=b.rimSize/b.diameter*c.width;a.style.height=b+"px";a.width=b;c=(c.width-a.width)/2;a.style.left=c+"px";a.style.top=c+"px"},Kd=function(a,b){var c=g.getElementsByClassName(a+"-tireProfileSideImageComp2")[0];a=g.getElementsByClassName(a+"-tireProfileSideInsideImageComp2")[0];b=b.rimSize/b.diameter*c.width;a.style.height=b+"px";a.width=b;c=(c.width-a.width)/2;a.style.left=c+"px";a.style.top=c+"px"},Md=function(a){var b=g.getElementsByClassName(a+"-tireProfileImageComp")[0];b.width=40;b.height=120;
b=g.getElementsByClassName(a+"-tireProfileImageComp2")[0];b.width=40;b.height=120;b=g.getElementsByClassName(a+"-tireProfileSideImageComp")[0];b.width=120;b.height=120;a=g.getElementsByClassName(a+"-tireProfileSideImageComp2")[0];a.width=120;a.height=120},Nd=function(a){var b=g.getElementsByClassName(a+"-tireProfileImageComp")[0];b.width=33;b.height=100;b=g.getElementsByClassName(a+"-tireProfileImageComp2")[0];b.width=33;b.height=100;b=g.getElementsByClassName(a+"-tireProfileSideImageComp")[0];b.width=
100;b.height=100;a=g.getElementsByClassName(a+"-tireProfileSideImageComp2")[0];a.width=100;a.height=100},Od=function(a,b,c){var d=c.diameter/b.diameter,e=c.width/b.width;if("mobile"===g.getElementsByClassName(a+"-data-block")[0].dataset.deviceType){Nd(a);var f=g.getElementsByClassName(a+"-tireProfileImageComp2")[0];f.height=100*d;var k=g.getElementsByClassName(a+"-tireProfileSideImageComp2")[0];k.width=100*d;k.height=100*d;var h=g.getElementsByClassName(a+"-tireProfileImageComp")[0],m=g.getElementsByClassName(a+
"-tireProfileSideImageComp")[0];115<Math.max(h.height,m.height,f.height,k.height)&&(Nd(a),h.width=33/e,h.height=100/d,m.width=100/d,m.height=100/d)}else Md(a),f=g.getElementsByClassName(a+"-tireProfileImageComp2")[0],f.height=120*d,k=g.getElementsByClassName(a+"-tireProfileSideImageComp2")[0],k.width=120*d,k.height=120*d,h=g.getElementsByClassName(a+"-tireProfileImageComp")[0],m=g.getElementsByClassName(a+"-tireProfileSideImageComp")[0],130<Math.max(h.height,m.height,f.height,k.height)&&(Md(a),h.width=
40/e,h.height=120/d,m.width=120/d,m.height=120/d);d=(g.getElementsByClassName(a+"-tireProfileImageComp")[0].height-35)/2;g.getElementsByClassName(a+"-tireImageDiameterBlue")[0].style.marginTop=d+"px";d=(g.getElementsByClassName(a+"-tireProfileImageComp2")[0].height-35)/2;g.getElementsByClassName(a+"-tireImageDiameterOrange")[0].style.marginTop=d+"px";Jd(a,b);Kd(a,c)},jb=function(a){a=document.getElementById(a+"-announce");a.style.fontSize="11px";a.style.lineHeight="20px";a.style.padding="1px 0px 0px 0px"},
Sd=function(a){"mobile"===g.getElementsByClassName(a+"-data-block")[0].dataset.deviceType&&(jb(a+"-inchesButton"),jb(a+"-mmButton"),jb(a+"-mphButton"),jb(a+"-kmhButton"));var b=g.getElementsByClassName(a+"-inchesButton")[0],c=g.getElementsByClassName(a+"-mphButton")[0];if(b.classList.contains("a-button-selected")||c.classList.contains("a-button-selected")){b=g.getElementsByClassName(a+"-inchesButton")[0];c=g.getElementsByClassName(a+"-mmButton")[0];var d=g.getElementsByClassName(a+"-mphButton")[0],
e=g.getElementsByClassName(a+"-kmhButton")[0];if(b.classList.contains("a-button-selected")||d.classList.contains("a-button-selected"))b.classList.add("a-button-selected"),d.classList.add("a-button-selected"),e.classList.remove("a-button-selected"),c.classList.remove("a-button-selected");b=kb(Pd(a),!1);c=kb(Qd(a),!1);d=Hd(b,c);Ld(a,b,c,d);Id(a,zf,b.circumference,c.circumference);Od(a,b,c)}else Rd(a)},kb=function(a,b){if(100>a.textInput1){var c=a.textInput1;a={circumference:Math.PI*c,diameter:c,rimSize:a.textInput3,
sidewall:(a.textInput1-a.textInput3)/2,tireSize:a.textInput1+"x"+a.textInput2+"R"+a.textInput3,width:a.textInput2};b&&(a=Gd(a));b=a}else{c=a.textInput2*a.textInput1/2540;var d=a.textInput3+2*c;a={circumference:Math.PI*d,diameter:d,rimSize:a.textInput3,sidewall:c,tireSize:a.textInput1+"/"+a.textInput2+"R"+a.textInput3,width:a.textInput1/25.4};b&&(a=Gd(a));b=a}return b},Rd=function(a){var b=g.getElementsByClassName(a+"-inchesButton")[0],c=g.getElementsByClassName(a+"-mmButton")[0],d=g.getElementsByClassName(a+
"-mphButton")[0],e=g.getElementsByClassName(a+"-kmhButton")[0];if(c.classList.contains("a-button-selected")||e.classList.contains("a-button-selected"))c.classList.add("a-button-selected"),e.classList.add("a-button-selected"),b.classList.remove("a-button-selected"),d.classList.remove("a-button-selected");b=kb(Pd(a),!0);c=kb(Qd(a),!0);d=Hd(b,c);Ld(a,b,c,d);Id(a,Af,b.circumference,c.circumference);Od(a,b,c)},wa=function(a){a=g.getElementsByClassName(a)[0];return a.hasChildNodes()?a.firstChild.value:
a.value},Pd=function(a){return{id:a,textInput1:Number(wa(a+"-tireSizeInput1")),textInput2:Number(wa(a+"-tireSizeInput2")),textInput3:Number(wa(a+"-tireSizeInput3"))}},Qd=function(a){return{id:a,textInput1:Number(wa(a+"-tireSizeInput4")),textInput2:Number(wa(a+"-tireSizeInput5")),textInput3:Number(wa(a+"-tireSizeInput6"))}},Bf={initialize:function(a){Sd(a);var b=y["default"].setup().define;b(ib.tireSizeCompareButtonClickHandler,"click",function(c){c.currentTarget.dataset.componentId&&Sd(a)});b(ib.tireMmButtonClickHandler,
"click",}},Cf={initialize:,lb;(function(a){a.tireCalculatorButtonClickHandler="tireCalculatorButtonClickHandler";a.tireComparisonButtonClickHandler="tireComparisonButtonClickHandler"})(lb||(lb={}));var Df={initialize:function(a){var b=y["default"].setup().define;b(lb.tireCalculatorButtonClickHandler,"click",function(c){c.acknowledge();c=g.getElementsByClassName(a+"-tire-calculator")[0];var d=g.getElementsByClassName(a+
"-tire-comparison")[0];c.classList.remove("aok-offscreen");d.classList.add("aok-offscreen")});b(lb.tireComparisonButtonClickHandler,"click",function(c){c.acknowledge();c=g.getElementsByClassName(a+"-tire-calculator")[0];var d=g.getElementsByClassName(a+"-tire-comparison")[0];c.classList.add("aok-offscreen");d.classList.remove("aok-offscreen")})}},Ef={initialize:function(a){try{Df.initialize(a),yf.initialize(a+"-tire-calculator"),Cf.initialize(a+"-tire-comparison")}catch(b){throw r.logAndReturnFailedDependencyError("Failed to initialize for "+
a,"tire-tools-selection","initialize",b);}}},mb=nb;(function(a){a.tireSizeSelection="tireSizeSelection";a.tireSizeSelectionInternal="tireSizeSelectionInternal"})(nb||(nb={}));var Td=function(a){a=a.currentTarget.dataset;var b=g.getElementsByClassName(a.stateDivId)[0].dataset,c=JSON.parse(b.selections);c.push({id:b.tireSizeAttributeId,value:a.tireSize});b.currentSelections=JSON.stringify(c);l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":tires-by-vehicle:selected-size",
1)},Ff={initialize:function(a){var b=y["default"].setup().define;b(nb.tireSizeSelectionInternal,"change",function(c){0===(a+"-states").localeCompare(c.currentTarget.dataset.stateDivId)&&Td(c)})}},Vd=function(a){var b=g.getElementsByClassName(a+"-states")[0].dataset;if(Ud(mb(a)))var c=ua.getData(mb(a)).data.season;a=JSON.parse(b.currentSelections);a:{b=b.tireSizeAttributeId;var d;try{for(var e=n.__values(a),f=e.next();!f.done;f=e.next()){var k=f.value;if(k.id===b){var h={id:b,value:k.value};break a}}}catch(p){var m=
{error:p}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(m)throw m.error;}}h=void 0}return{seasonSelection:c,tireSize:h,tireSizeSelection:a}},ob={attach:function(a,b){"tire-select"===a&&(a=y["default"].setup().define,a(nb.tireSizeSelection,"change",function(c){Td(c);b({data:{garageVehicle:c.currentTarget.dataset.garageVehicle,id:c.currentTarget.dataset.viewId,tiresByVehicleSelections:Vd(c.currentTarget.dataset.viewId)}})}))},getData:function(a){var b=g.getElementsByClassName(a+"-states")[0].dataset;
return{data:{garageVehicle:JSON.parse(b.garageVehicle),id:a,tiresByVehicleSelections:Vd(a)}}},initialize:function(a){var b=g.getElementsByClassName(a);void 0!==b&&1===b.length||r.logAndThrowBadRequestError("Undefined Component/Multiple Components","initialize","tires-by-vehicle");try{Ud(mb(a))&&ua.initialize(mb(a))}catch(c){throw r.logAndReturnFailedDependencyError("Failed on initialization for "+a,"tires-by-vehicle","initialize",c);}Ff.initialize(a)}},Ud=function(a){a=g.getElementsByClassName(a);
return void 0!==a&&1===a.length?!0:!1},Ga;((Ga||(Ga={}));var Gf={getEncryptedId:function(a,b,c){return n.__awaiter(void 0,void 0,void 0,function(){var d,e,f,k;return n.__generator(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,Ra["default"].post("/automotive-components/vehicle-identifier?sif_profile=AutomotiveUIComponentsVehicleIdentifierSIFProfile",{accepts:"*/*",contentType:"application/json"},(k={},k.automotiveVehicleIdentifier=
a,k))];case 1:d=h.sent();e=d.responseBody;if(!e)throw Error("Encrypted value of HsnTsn can not be undefined");return[2,e.automotiveVehicleIdentifier];case 2:throw f=h.sent(),r.logAndThrowFailedDependencyError("Ajax Request Failed for hsn tsn encryption",c,b,f);case 3:return[2]}})})}},L={},pb=function(a){var b=g.getElementsByClassName(a+"-filter-button-enabled")[0];a=g.getElementsByClassName(a+"-filter-button-disabled")[0];b.classList.remove("aok-hidden");a.classList.add("aok-hidden")},Ha=function(a){var b=
g.getElementsByClassName(a+"-filter-button-enabled")[0];a=g.getElementsByClassName(a+"-filter-button-disabled")[0];b.classList.add("aok-hidden");a.classList.remove("aok-hidden")},qb=function(a){var b=g.getElementsByClassName(a+"-update-size-button-enabled")[0];a=g.getElementsByClassName(a+"-update-size-button-disabled")[0];b&&a&&(b.classList.add("aok-hidden"),a.classList.remove("aok-hidden"))},Wd=function(a){var b=g.getElementsByClassName(a+"-update-size-button-enabled")[0];a=g.getElementsByClassName(a+
"-update-size-button-disabled")[0];b&&a&&(b.classList.add("aok-hidden"),a.classList.add("aok-hidden"))},Xd=function(a,b){a=g.getElementsByClassName(""+a)[0];a.parentElement?a.parentElement.innerHTML=b.innerHTML:a.innerHTML=b.innerHTML},Hf=function(a,b,c){"hsn-tsn"===b.data.vehicleSelectionType&&Gf.getEncryptedId(b.data.automotiveHsnTsn,"resolveHsnTsn","tire-finder-garage-entity").then(function(d){c(a,{data:{automotiveHsnTsn:d,garageId:b.data.garageId,garageVehicle:b.data.garageVehicle,id:b.data.id,
inputSelections:b.data.inputSelections,selections:b.data.selections,vehicleSelectionType:b.data.vehicleSelectionType}})}).catch(function(d){throw r.logAndReturnFailedDependencyError("tire-finder-garage-entity-selection failed to getEncryptedData for "+a,"tire-finder-garage-entity-selection","resolveHsnTsn",d);})},Ka=function(a,b){var c=S["default"].setup().getViewOnGarageEntitySelect,d={asin:rb(a),automotiveHsnTsn:b.data.automotiveHsnTsn,currentSelections:b.data.selections,garageVehicle:b.data.garageVehicle,
id:a,isSeasonSelectRequired:"true"===sb(a),requiredSelection:["tireSize"],selections:b.data.inputSelections,tireFinderGarageEntitySelectionType:{"additional-attribute":"VehicleAdditionalAttribute",attribute:"VehicleAttribute",garage:"GarageVehicle","hsn-tsn":"HsnTsn","number-plate":"NumberPlate"}[b.data.vehicleSelectionType],vehicleByIdentifierFlow:tb(a),vehicleId:b.data.garageId||""};c={componentName:"tire-finder-garage-entity-selection",methodName:"getNextViewFromSelection",remoteOperation:c,request:d};
jc(a);pa.performHtmlRemoteOperation(c).then(function(e){var f=e.dataset.viewType;if("invalid-hsn-tsn"===f)Ia(a,!1),Ja(a,!0);else{if("empty-tire-size-selection"===f)e=g.getElementsByClassName(a+"-tire-size-selection")[0],f=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}),e.dispatchEvent(f);else{if("tire-size-selection"===f){f=g.getElementsByClassName(a+"-selection-container")[0];var k=g.getElementsByClassName(a+"-tire-selection-container")[0];f.classList.add("aok-hidden");k.innerHTML=
e.innerHTML;e=g.getElementsByClassName(a)[0];ob.initialize(a+"-tires-by-vehicle");e.dataset.currentView="tires-by-vehicle";Wd(a)}else f=O.isAdditionalAttributeSelection(b.data.id),g.getElementsByClassName(a+"-by-vehicle")[0].innerHTML=e.innerHTML,e=O.isAdditionalAttributeSelection(b.data.id),!f&&e&&(aa.initialize(a+"-vehicle-selection-additional-attribute-selection"),Yd(a)),qb(a);Ha(a)}kc(a)&&lc(a)&&"tires-by-vehicle"===g.getElementsByClassName(a)[0].dataset.currentView&&mc(a,Ga.Filter);e=g.getElementsByClassName(a)[0].dataset.currentView;
f=g.getElementsByClassName(a+"-back-to-vehicle-selection")[0];"tires-by-vehicle"===e?f.classList.remove("aok-hidden"):f.classList.add("aok-hidden");Ja(a,!0);Ia(a,!0)}xa(a)}).catch(function(){Ja(a,!1);Ia(a,!0);xa(a)})},mc=function(a,b){var c=a+"-enableFilterButton",d=a+"-disableFilterButton";var e,f;a=g.getElementsByClassName(a)[0];b="Next"===b?null===(e=null===a||void 0===a?void 0:a.dataset)||void 0===e?void 0:e.nextButtonText:null===(f=null===a||void 0===a?void 0:a.dataset)||void 0===f?void 0:f.filterButtonText;
xb["default"]("#"+c).text(b);xb["default"]("#"+d).text(b)},rb=function(a){return g.getElementsByClassName(a)[0].dataset.asin},sb=function(a){return g.getElementsByClassName(a)[0].dataset.seasonSelectRequired},Zd=function(a){var b;a=g.getElementsByClassName(a)[0];return"true"===(null===(b=null===a||void 0===a?void 0:a.dataset)||void 0===b?void 0:b.isSaveTires)},lc=function(a){var b;a=g.getElementsByClassName(a)[0];return"true"===(null===(b=null===a||void 0===a?void 0:a.dataset)||void 0===b?void 0:
b.isNextButtonExperimentWeblabEnabled)},$d=function(a){var b;a=g.getElementsByClassName(a+"-vehicle-selection-hsn-tsn-input-hsntsn-match")[0];return"true"===(null===(b=null===a||void 0===a?void 0:a.dataset)||void 0===b?void 0:b.isSearchButtonWeblabEnabled)},kc=function(a){var b;a=g.getElementsByClassName(a)[0];return"true"===(null===(b=null===a||void 0===a?void 0:a.dataset)||void 0===b?void 0:b.isNextButtonGatingWeblabEnabled)},tb=function(a){a=g.getElementsByClassName(a)[0];if(a.dataset.vehicleByIdentifierFlow&&
"tire-by-vehicle-by-identifier"===a.dataset.vehicleByIdentifierFlow)return"tire-by-vehicle-by-identifier"},Ja=function(a,b){a=g.getElementsByClassName(a+"-error-box")[0];b?a.classList.add("aok-hidden"):a.classList.remove("aok-hidden")},Ia=function(a,b){a=g.getElementsByClassName(a+"-hsn-tsn-error-box")[0];b?a.classList.add("aok-hidden"):a.classList.remove("aok-hidden")},Yd=function(a){H(La,a,"additional-attribute-selection-reset");H(Ma,a,"additional-attribute-selection-select");H(nc,a,"additional-attribute-selection-select");
H(If,a,"additional-attribute-selection-vehicle-select");H(nc,a,"additional-attribute-selection-vehicle-select")},Ma=function(a,b){a.data.id===b+"-vehicle-selection"&&(a=Na(a),pb(a),Oa(a+"-by-vehicle","true"))},nc=function(a,b){var c,d,e;a.data.id===b+"-vehicle-selection"&&(b=Na(a),(null===(e=null===(d=null===(c=a.data)||void 0===c?void 0:c.garageVehicle)||void 0===d?void 0:d.tires)||void 0===e?0:e.length)?(a=g.getElementsByClassName(b+"-update-size-button-enabled")[0],c=g.getElementsByClassName(b+
"-update-size-button-disabled")[0],a&&c&&(a.classList.remove("aok-hidden"),c.classList.add("aok-hidden"))):qb(b))},ub=function(a,b){a.data.id===b+"-vehicle-selection"&&(a=Na(a),qb(a))},La=function(a,b){a.data.id===b+"-vehicle-selection"&&(a=Na(a),Ha(a),Oa(a+"-by-vehicle","false"))},Oa=function(a,b){g.getElementsByClassName(a)[0].dataset.filterButtonEnabled=b},Na=function(a){a=a.data.id;return a.substring(0,a.lastIndexOf("-vehicle-selection"))},If=function(a,b){a.data.id===b+"-vehicle-selection"&&
ae(a,b)},ae=function(a,b){a.data.id===b+"-vehicle-selection"&&(b=Na(a),void 0!==a.data.selections&&Ma(a,b))},Jf=function(a){a=be(a);Ha(a);Oa(a+"-by-tire-size","false")},Kf=function(a){a=be(a);pb(a);Oa(a+"-by-tire-size","true")},be=function(a){a=a.data.id;return a.substring(0,a.lastIndexOf("-tire-attribute-selection"))},H=function(a,b,c){O.attach(c,function(d){a(d,b)})},ce=oc=function(a){try{O.reset(a+"-vehicle-selection"),va.reset(a+"-tire-attribute-selection"),
L[a+"-garageVehicleSelectionClientAttributeSelectionAttach"]=!1,L[a+"-garageVehicleSelectionClientAdditionalAttributesAttach"]=!1,L[a+"-tireAttributeSelectionClientDefaultAttach"]=!1}catch(b){throw r.logAndReturnFailedDependencyError("tire-finder-garage-entity-selection failed to reset for "+a,"tire-finder-garage-entity-selection","reset",b);}},jc=function(a){var b=g.getElementsByClassName(a+"-spinner-container")[0];b.classList.remove("aok-hidden");b.firstChild.classList.remove("aok-hidden");Ha(a);
b=(a=g.getElementsByClassName(a+"-back-to-vehicle-selection")[0])?a.getElementsByClassName("a-button-input")[0]:void 0;a.classList.add("a-button-disabled");b&&(b.disabled=!0)},xa=function(a){var b=g.getElementsByClassName(a+"-spinner-container")[0];b.classList.add("aok-hidden");b.firstChild.classList.add("aok-hidden");b=(a=g.getElementsByClassName(a+"-back-to-vehicle-selection")[0])?a.getElementsByClassName("a-button-input")[0]:void 0;a.classList.remove("a-button-disabled");b&&(b.disabled=!1)},vb=
function(a){return!g.getElementsByClassName(a+"-by-tire-size")[0].classList.contains("aok-hidden")},Lf=function(a){a=a.currentTarget.dataset.viewId;var b=g.getElementsByClassName(a+"-by-vehicle")[0],c=g.getElementsByClassName(a+"-by-tire-size")[0],d=g.getElementsByClassName(a+"-tire-tools")[0],e=g.getElementsByClassName(a+"-tire-selection-footer")[0],f=g.getElementsByClassName(a+"-back-tire-tools")[0];c.classList.add("aok-hidden");b.classList.remove("aok-hidden");void 0!==f&&(f.dataset.currentView=
a+"-vehicle-selection");void 0!==d&&d.classList.add("aok-hidden");e.classList.remove("aok-hidden");qb(a);kc(a)&&lc(a)&&mc(a,Ga.Next);pc(a,a+"-by-vehicle")},pc=function(a,b){"true"===g.getElementsByClassName(b)[0].dataset.filterButtonEnabled?pb(a):Ha(a)},Mf=function(a){var b=a.currentTarget.dataset.viewId,c=g.getElementsByClassName(b+"-by-vehicle")[0],d=g.getElementsByClassName(b+"-by-tire-size")[0],e=g.getElementsByClassName(b+"-tire-tools")[0],f=g.getElementsByClassName(b+"-empty-tire-size-message")[0],
k=g.getElementsByClassName(b+"-tire-selection-footer")[0],h=g.getElementsByClassName(b+"-back-tire-tools")[0];d.classList.remove("aok-hidden");!0===a.event.isTrusted?f.classList.add("aok-hidden"):f.classList.remove("aok-hidden");c.classList.add("aok-hidden");void 0!==h&&(h.dataset.currentView=b+"-tire-size-selection");void 0!==e&&e.classList.add("aok-hidden");k.classList.remove("aok-hidden");Wd(b);kc(b)&&lc(b)&&mc(b,Ga.Filter);pc(b,b+"-by-tire-size")},Nf=function(a){var b=a.currentTarget.dataset.viewId;
a=g.getElementsByClassName(b+"-by-vehicle")[0];var c=g.getElementsByClassName(b+"-by-tire-size")[0],d=g.getElementsByClassName(b+"-tire-tools")[0],e=g.getElementsByClassName(b+"-tire-selection-footer")[0],f=g.getElementsByClassName(b+"-selection-container-header")[0];b=g.getElementsByClassName(b+"-back-tire-tools")[0];c.classList.add("aok-hidden");a.classList.add("aok-hidden");e.classList.add("aok-hidden");f.classList.add("aok-hidden");d.classList.remove("aok-hidden");void 0!==b&&b.classList.remove("aok-hidden")},
Of=function(a){var b,c;a=a.currentTarget.dataset.viewId;var d=g.getElementsByClassName(a)[0].dataset.currentView,e=O.getData(a+"-vehicle-selection"),f=null===(c=null===(b=e.data)||void 0===b?void 0:b.garageVehicle)||void 0===c?void 0:c.tires;"tires-by-vehicle"===d||vb(a)||void 0!==f&&0<f.length&&Zd(a)||void 0!==e.data.selections&&(e.data&&"hsn-tsn"!==e.data.vehicleSelectionType?Ka(a,e):e.data&&$d(a)?Hf(a,e,Ka):e.data&&Ka(a,e))},Pf=function(a){a=a.currentTarget.dataset.viewId;if("tires-by-vehicle"!==
g.getElementsByClassName(a)[0].dataset.currentView){var b=O.getData(a+"-vehicle-selection");void 0!==b.data.selections&&(b.data&&"hsn-tsn"!==b.data.vehicleSelectionType?Ka(a,b):$d(a)||b.data&&Ka(a,b))}},Qf={initialize:function(a){a=y["default"].setup().define;a(U.tireFinderGarageEntitySelectionManageYourGarageLinkClick,"click",function(b){l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":"+b.currentTarget.dataset.metric,1)});a(U.handleByVehicleClick,"click",Lf);a(U.handleByTireClick,"click",Mf);a(U.handleFilterButtonClick,
"click",Of);a(U.handleUpdateSizeButtonClick,"click",Pf);a(U.handleTireToolsClick,"click",Nf)}},qc=function(a){try{O.initialize(a+"-vehicle-selection")}catch(d){throw r.logAndReturnFailedDependencyError("Failed to initialize for "+a,"tire-finder-garage-entity-selection","initialize",d);}try{va.initialize(a+"-tire-attribute-selection")}catch(d){throw r.logAndReturnFailedDependencyError("tire-finder-garage-entity-selection failed to initialize for "+a,"tire-finder-garage-entity-selection","initialize",
d);}if("true"===g.getElementsByClassName(a)[0].dataset.tireToolsRequired)try{Ef.initialize(a+"-tire-tools")}catch(d){throw r.logAndReturnFailedDependencyError("Failed to initialize for "+a,"tire-finder-garage-entity-selection","initialize",d);}if(!0!==L.initializeBrowserOperation){var b=y["default"].setup().define;b(U.handleBackButtonClick,"click",Rf);b(U.handleBackButtonFromTireToolsClick,"click",Sf);try{Qf.initialize(a),L.initializeBrowserOperation=!0}catch(d){throw r.logAndReturnFailedDependencyError("Failed to initialize for "+
a,"tire-finder-garage-entity-selection","initialize",d);}}a:{b=a+"-garageVehicleSelectionClientDefaultAttach";!0!==L[b]&&(H(La,a,"hsn-tsn-reset"),H(La,a,"number-plate-reset"),H(La,a,"garage-vehicle-reset"),H(Ma,a,"hsn-tsn-select"),H(Ma,a,"number-plate-select"),H(ae,a,"garage-vehicle-select"),H(nc,a,"garage-vehicle-select"),H(ub,a,"garage-vehicle-reset"),H(ub,a,"hsn-tsn-reset"),H(ub,a,"number-plate-reset"),L[b]=!0);b=a+"-garageVehicleSelectionClientAttributeSelectionAttach";!0!==L[b]&&(H(La,a,"attribute-selection-reset"),
H(Ma,a,"attribute-selection-select"),H(ub,a,"attribute-selection-reset"),L[b]=!0);if(O.isAdditionalAttributeSelection(a+"-vehicle-selection")){b=a+"-garageVehicleSelectionClientAdditionalAttributesAttach";if(!0===L[b])break a;Yd(a);L[b]=!0}b=a+"-tireAttributeSelectionClientDefaultAttach";!0!==L[b]&&(ce(Jf,a,"attribute-reset"),ce(Kf,a,"base-attributes-select"),L[b]=!0);Tf()}var c;if(null===(c=va.getData(a+"-tire-attribute-selection").data)||void 0===c?0:c.allAttributesSelected)Oa(a+"-by-tire-size",
"true"),vb(a)&&pc(a,a+"-by-tire-size"),l.logScopedCount(l.COMPONENT_METRIC_PREFIX+":tire-finder-garage-entity-selection:pre-populated-tire-by-size",1)},Rf=function(a){var b=a.currentTarget.dataset.viewId,c=g.getElementsByClassName(b)[0],d=c.dataset.currentView;a=S["default"].setup();"tires-by-vehicle"===d&&(c={asin:c.dataset.asin,attributesSelectionFlow:"tire-by-vehicle-by-attributes",currentTireSelections:[],currentVehicleSelections:[],filterButtonText:c.dataset.filterButtonText,garageRefTag:c.dataset.garageRef,
garageVehicleSelectionType:c.dataset.garageVehicleSelectionType,id:b,isSeasonSelectRequired:"true"===sb(b),nextButtonText:c.dataset.nextButtonText,requiredSelection:["tireSize"],vehicleByIdentifierFlow:tb(b)},jc(b),a.getViewForGarageEntitySelect(c).then(function(e){Xd(b,e);oc(b);qc(b);xa(b)}).catch(function(){Ja(b,!1);Ia(b,!0);xa(b)}))},Sf=function(a){var b=a.currentTarget.dataset.viewId,c=g.getElementsByClassName(b)[0],d=S["default"].setup();a=a.currentTarget.dataset.currentView===b+"-tire-size-selection"?
{asin:c.dataset.asin,attributesSelectionFlow:"tire-by-vehicle-by-attributes",currentTireSelections:[],currentVehicleSelections:[],filterButtonText:c.dataset.filterButtonText,garageRefTag:c.dataset.garageRef,garageVehicleSelectionType:c.dataset.garageVehicleSelectionType,id:b,isSeasonSelectRequired:"true"===sb(b),nextButtonText:c.dataset.nextButtonText,requiredSelection:["tireSize"],tireFinderGarageEntitySelectionType:"tire-attribute-selection",vehicleByIdentifierFlow:tb(b)}:{asin:c.dataset.asin,attributesSelectionFlow:"tire-by-vehicle-by-attributes",
currentTireSelections:[],currentVehicleSelections:[],filterButtonText:c.dataset.filterButtonText,garageRefTag:c.dataset.garageRef,garageVehicleSelectionType:c.dataset.garageVehicleSelectionType,id:b,isSeasonSelectRequired:"true"===sb(b),nextButtonText:c.dataset.nextButtonText,requiredSelection:["tireSize"],tireFinderGarageEntitySelectionType:"vehicle-tire-attribute-selection",vehicleByIdentifierFlow:tb(b)};jc(b);d.getViewForGarageEntitySelect(a).then(function(e){Xd(b,e);oc(b);qc(b);xa(b)}).catch(function(){Ja(b,
!1);Ia(b,!0);xa(b)})},Tf=function(){!0!==L.tiresByVehicleClientAttach&&(ob.attach("tire-select",function(a){a=a.data.id;a=a.substring(0,a.lastIndexOf("-tires-by-vehicle"));pb(a)}),L.tiresByVehicleClientAttach=!0)},Uf=function(a,b){var c,d,e,f,k,h,m,p,t=null===(d=null===(c=b.data)||void 0===c?void 0:c.garageVehicle)||void 0===d?void 0:d.tires;void 0!==t&&(c=null===(e=t[0].selectedDisplayAttribute.find()||void 0===e?void 0:e.value,void 0!==c&&(null===(k=null===(f=
b.data)||void 0===f?void 0:f.selections)||void 0===k?void 0:k.push({id:"tireSize",value:c})));return{data:{asin:rb(a),selections:null===(h=b.data)||void 0===h?void 0:h.selections,garageId:null===(m=b.data)||void 0===m?void 0:m.garageId,garageVehicle:null===(p=b.data)||void 0===p?void 0:p.garageVehicle,id:a,tirefinderGarageEntitySelectionType:"ByVehicleTireAttribute"}}},de=function(a,b){var c=rb(a);var d=g.getElementsByClassName(a)[0];d=JSON.parse(d.dataset.inputTireSelections);return{data:{asin:c,
id:a,inputTireSelections:d,selections:b.data.selections,tirefinderGarageEntitySelectionType:"ByTireAttributes"}}},ee=function(a,b){if(b.data.tiresByVehicleSelections.seasonSelection){var c=b.data.tiresByVehicleSelections.seasonSelection;var d=Array.from(b.data.tiresByVehicleSelections.tireSizeSelection);c&&d.push({id:"season",value:c});c=d}else c=b.data.tiresByVehicleSelections.tireSizeSelection;d=rb(a);var e=b.data.garageVehicle?b.data.garageVehicle.identity:void 0,f=b.data.garageVehicle;var k=g.getElementsByClassName(a)[0];
k=JSON.parse(k.dataset.inputVehicleSelections);return{data:{asin:d,garageId:e,garageVehicle:f,id:a,inputVehicleSelections:k,selections:c,tireSize:b.data.tiresByVehicleSelections.tireSize,tirefinderGarageEntitySelectionType:"ByVehicleTireAttribute"}}},rc={attach:function(a,b){var c=y["default"].setup().define;switch(a){case "tire-selected":c(U.handleFilterButtonClick,"click",function(d){var e;d=d.currentTarget.dataset.viewId;var f=g.getElementsByClassName(d)[0].dataset.currentView;if("tires-by-vehicle"===
f){var k=ob.getData(d+"-tires-by-vehicle");d=ee(d,k);b(d)}else if(vb(d))k=va.getData(d+"-tire-attribute-selection"),d=de(d,k),b(d);else if("vehicle-or-tire-size-selection"===f){f=O.getData(d+"-vehicle-selection");var h=null===(e=null===(k=f.data)||void 0===k?void 0:k.garageVehicle)||void 0===e?void 0:e.tires;void 0!==h&&0<h.length&&Zd(d)&&(d=Uf(d,f),b(d))}})}},getData:function(a){if(vb(a)){var b=va.getData(a+"-tire-attribute-selection");return de(a,b)}b=ob.getData(a+"-tires-by-vehicle");return ee(a,
b)},initialize:qc,reset:oc},Vf=function(){return n.__awaiter(void 0,void 0,void 0,function(){return n.__generator(this,function(a){l.logScopedCount("tirefinder-garage-entity-selection-client-event-error",1);throw Error("TireFinderGarageEntitySelection triggerred errored event with wrong data.");})})},Wf={mapper:function(a,b){return{asin:a,garageId:b.data.garageId,garageVehicle:b.data.garageVehicle,id:q.getPrimaryViewId(),inputSelections:"ByVehicleTireAttribute"===b.data.tirefinderGarageEntitySelectionType?
b.data.inputVehicleSelections:b.data.inputTireSelections,selectionType:b.data.tirefinderGarageEntitySelectionType,selections:b.data.selections}}},ge=function(a){if(!a||!a.data||a.error)var b=Vf;else if(a.data.id===q.getTirefinderSecondaryViewId()){var c=Wf.mapper(a.data.asin,a);b=function(){return n.__awaiter(void 0,void 0,void 0,function(){return n.__generator(this,function(d){switch(d.label){case 0:d=dc.getValueHTMLWithTracking;var e;var f="ByTireAttributes"===(null===(e=a.data)||void 0===e?void 0:
e.tirefinderGarageEntitySelectionType)?R.TF_DESKTOP_DP_BY_TIRE_FILTER:R.TF_DESKTOP_DP_BY_VEHICLE_FILTER;return[4,d.call(dc,c,{ref_:f})];case 1:return[2,d.sent()]}})})}}if(b)try{zd.handler(Nb.initialize,b,yd,fe)}catch(d){u["default"].log("SecondaryViewEventHandler failed with error: "+d,"ERROR",q.getErrorAttributionId()),l.logScopedCount("secondary-view-event-handler-failed",1)}},fe=function(){Qa["default"].cardRoot.getElementsByClassName(q.getSecondaryViewHideTrigger())[0].getElementsByClassName("a-button-input")[0].click()},
Xf={attach:filterButtonClickEventHandler:ge,secondaryViewControl:fe},he={validate:function(a){if(!a||!a.data||a.error)throw l.logScopedCount("partfinder-primary-desktop-product-client-event-error",1),Error("PartfinderPrimaryDesktopProduct component client triggerred errored event");}},ie=function(){var a=ba.getData(q.getPrimaryViewId());he.validate(a);if("ANY"===a.data.productFitment.productType){a=q.getPartfinderSecondaryViewId();try{cc.reset(a)}catch(b){throw l.logScopedCount("partfinder-garage-entity-selection-client-reset-error",
1),Error("partfinderGarageEntitySelectionClient reset error: "+b);}try{cc.initialize(a)}catch(b){throw l.logScopedCount("partfinder-garage-entity-selection-client-initialization-error",1),Error("partfinderGarageEntitySelectionClient initialization error: "+b);}}else{a=q.getTirefinderSecondaryViewId();try{rc.reset(a)}catch(b){throw l.logScopedCount("tirefinder-garage-entity-selection-client-reset-error",1),Error("tireFinderGarageEntitySelectionClient reset error: "+b);}try{rc.initialize(a)}catch(b){throw l.logScopedCount("tirefinder-garage-entity-selection-client-init-error",
1),Error("tireFinderGarageEntitySelectionClient initialization error: "+b);}}},ia={getCurrentSelection:function(a){return!a.fitment||"Yes"!==a.fitment.type&&"No"!==a.fitment.type&&"Maybe"!==a.fitment.type?[]:a.attributesSelections.selections},getGarageVehicleSelectionType:,Yf=function(){return n.__awaiter(void 0,void 0,void 0,function(){var a;return n.__generator(this,function(b){switch(b.label){case 0:return[4,
new Promise(function(c,d){ja(["@c/tracking"],function(e){c(ka(e))},d)})];case 1:return a=b.sent().addTracking,[2,a]}})})},Zf={getValueHTMLWithTracking:function(a,b,c){return n.__awaiter(void 0,void 0,void 0,function(){var d,e,f,k,h,m;return n.__generator(this,function(p){switch(p.label){case 0:d=S["default"].setup(),e={asin:a.asin,attributesSelectionFlow:"vehicle-by-attributes",attributesSelectionType:"variant",currentSelections:ia.getCurrentSelection(a),garageVehicleSelectionType:ia.getGarageVehicleSelectionType(),
id:q.getPartfinderSecondaryViewId(),requiredSelection:[]},"undefined"!==typeof c&&(e={asin:a.asin,attributesSelectionFlow:"vehicle-by-attributes",attributesSelectionType:"variant",currentSelections:ia.getCurrentSelection(a),garageVehicleSelectionType:ia.getGarageVehicleSelectionType(),id:q.getOfferXSecondaryViewId(),requiredSelection:[]}),f=!1,p.label=1;case 1:return p.trys.push([1,7,,8]),[4,Promise.race([Yf(),new Promise(function(t,v){return setTimeout(function(){return v(Error("dependency not found"))},
10)})]).catch(function(){l.logScopedCount("pf-dynamic-tracking-import-failure",1);f=!0})];case 2:return p.sent(),f?[4,d.getPartfinderGarageEntitySelection(e)]:[3,4];case 3:return[2,p.sent()];case 4:return[4,new Promise(function(t,v){ja(["@c/tracking"],function(Q){t(ka(Q))},v)})];case 5:return k=p.sent().addTracking,h=k(d.getPartfinderGarageEntitySelection,b),[4,h(e)];case 6:return[2,p.sent()];case 7:throw m=p.sent(),Error("PartfinderGarageEntitySelectionRemoteOperationInterface getPartfinderGarageEntitySelection with tracking remote operation failed: "+
m);case 8:return[2]}})})}},$f=function(a){return{asin:a.asin,attributesSelectionFlow:"tire-by-vehicle-by-attributes",currentTireSelections:"TIRE"===a.garageItemType?ia.getCurrentSelection(a):[],currentVehicleSelections:"VEHICLE"===a.garageItemType?ia.getCurrentSelection(a):[],garageVehicleSelectionType:ia.getGarageVehicleSelectionType(),id:q.getTirefinderSecondaryViewId(),requiredSelection:["tireSize"]}},ag=function(){return n.__awaiter(void 0,void 0,void 0,function(){var a;return n.__generator(this,
function(b){switch(b.label){case 0:return[4,new Promise(function(c,d){ja(["@c/tracking"],function(e){c(ka(e))},d)})];case 1:return a=b.sent().addTracking,[2,a]}})})},bg={getValueHTMLWithTracking:function(a,b){return n.__awaiter(void 0,void 0,void 0,function(){var c,d,e,f,k,h;return n.__generator(this,function(m){switch(m.label){case 0:c=S["default"].setup(),d=$f(a),e=!1,m.label=1;case 1:return m.trys.push([1,7,,8]),[4,Promise.race([ag(),new Promise(function(p,t){return setTimeout(
10)})]).catch(function(){l.logScopedCount("tf-dynamic-tracking-import-failure",1);e=!0})];case 2:return m.sent(),e?[4,c.getTireFinderGarageEntitySelection(d)]:[3,4];case 3:return[2,m.sent()];case 4:return[4,new Promise(];case 5:return f=m.sent().addTracking,k=f(c.getTireFinderGarageEntitySelection,b),[4,k(d)];case 6:return[2,m.sent()];case 7:throw h=m.sent(),Error("TireFinderGarageEntityRemoteOperationInterface getTireFinderGarageEntitySelection remote operation failed: "+
h);case 8:return[2]}})})}},je=function(){return n.__awaiter(void 0,void 0,void 0,function(){var a;return n.__generator(this,function(b){switch(b.label){case 0:return a=ba.getData(q.getPrimaryViewId()),he.validate(a),"ANY"!==a.data.productFitment.productType?[3,2]:[4,Zf.getValueHTMLWithTracking(a.data.productFitment,{ref_:R.PF_DESKTOP_DP_PU})];case 1:return[2,b.sent()];case 2:return[4,bg.getValueHTMLWithTracking(a.data.productFitment,{ref_:R.TF_DESKTOP_DP_PU})];case 3:return[2,b.sent()]}})})},cg=sc._operationNames="getPartfinderGarageEntitySelection getMatchingResult getMatchingResultHsnTsn getAttributesSelectionView getVehiclesViewNextPage getPartfinderView getTireFinderGarageEntitySelection getViewOnGarageEntitySelect getViewForGarageEntitySelect getTireOptionalAttributesSelectionView".split(" ");sc.card=function(){return n.__awaiter(void 0,void 0,void 0,function(){var a;return n.__generator(this,function(b){try{if((a=Qa["default"].cardRoot.getElementsByClassName("_automotive-partfinder-desktop-dp-v1_style_automotive-pf__546cI")[0])&&
a.dataset&&"false"===a.dataset.isDeviceAttributeRobot){Nb.initialize();Me.attach(cg);rf.attach();Xf.attach();var c=JSON.parse(a.dataset.retailContext),d,e,f=ba.getData(q.getPrimaryViewId());f.data&&"NoFitment"!==(null===(d=f.data.productFitment.fitment)||void 0===d?void 0:d.type)&&((null===(e=f.data)||void 0===e?0:e.productFitment.garageItemDisplayName)?Ea.logEvent(c,Ea.getEntitySourceTypeFromPartfinderPrimaryProductData("MRU",f.data.productFitment),"desktop",f.data.productFitment):Ea.logEvent(c,
"","desktop",f.data.productFitment));Le.browserOps(je,ie)}}catch(k){throw a&&a.classList.add("aok-offscreen"),l.logScopedCount("card-initialization-error",1),u["default"].log("Card initialization failed","ERROR",q.getErrorAttributionId()),Error("Card initialization error: "+k);}return[2]})})}});
