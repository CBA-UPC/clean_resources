var GA4_RS=function(e){"use strict";nction(){var e;d<=2&&(e=console).log.apply(e,arguments)},v=function(){var e;d<=3&&(e=console).warn.apply(e,arguments)},g=function(){var e;d<=4&&(e=console).error.apply(e,arguments)},h="RS_JS_SDK",m=["Request failed with status:"],_=function(e){var t=window.RudderStackGlobals&&window.RudderStackGlobals.errorReporting;t&&e instanceof Error&&t.notify(e)},b=function(e,t){try{return JSON.stringify(e,function(e){var t=[];return function(r,n){if(!e||null!=n){if("object"!==o(n)||null===n)return n;for(;t.length>0&&t[t.length-1]!==this;)t.pop();return t.includes(n)?(y("Circular Reference detected for key: ".concat(r)),"[Circular Reference]"):(t.push(n),n)}}}(t))}catch(r){return v("Failed to convert the value to a JSON string."),null}},w=function(e){return e?0===Object.keys(e).length:(v("input is undefined or null"),!0)},C=function(e,t,r){var n,i;try{n="string"==typeof e?e:e instanceof Error||e.message?e.message:b(e)}catch(a){n=""}if("object"===o(i=e)&&null!==i&&"target"in i){if(e.target&&"script"!==e.target.localName)return"";if(e.target.dataset&&(e.target.dataset.loader!==h||"true"!==e.target.dataset.isnonnativesdk))return"";if(n="error in script loading:: src::  ".concat(e.target.src," id:: ").concat(e.target.id),"ad-block"===e.target.id)return r.page("RudderJS-Initiated","ad-block page request",{path:"/ad-blocked",title:n},r.sendAdblockPageOptions),""}return"[handleError]::".concat(t||"",' "').concat(n,'"')},O=function(e,t,r){var n;try{n=C(e,t,r)}catch(o){g("[handleError] Exception:: ",o),g("[handleError] Original error:: ",b(e)),_(o)}n&&(g(n),function(e){return!e.message||!m.some(()}(e)&&_(e))},j="GA4",A="Google Analytics 4 (GA4)";s({},A,"GA4"),s(s(s(s(s(s(s(s(s(s({},j,j),"Google Analytics 4",j),"Google analytics 4",j),"google analytics 4",j),"Google Analytics4",j),"Google analytics4",j),"google analytics4",j),"Google Analytics 4 (GA4)",j),"google analytics 4 (ga4)",j),"GoogleAnalytics4",j);var E="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};ar I,k,K={exports:{}};function F(){if(k)return I;k=1;var e=1e3,t=60*e,r=60*t,n=24*r,i=7*n,a=365.25*n;eturn I=I}var D=function(e){urn t.debug=t,t.default=t,t.coerce=t.disable=t.enable=t.enabled=t.humanize=F(),t.destroy=Object.keys(e).forEach((),t.names=[],t.skips=[],t.formatters={},t.selectColor=t.enable(t.load()),t};!K,K.exports);var x=K.exports,P=x("cookie"),R=function(e,t,r){switch(arguments.length){case 3:case 2:return function(e,t,r){r=r||{};var n=N(e)+"="+N(t);null==t&&(r.maxage=-1);r.maxage&&(r.expires=new Date(+new Date+r.maxage));r.path&&(n+="; path="+r.path);r.domain&&(n+="; domain="+r.domain);r.expires&&(n+="; expires="+r.expires.toUTCString());r.samesite&&(n+="; samesite="+r.samesite);r.secure&&(n+="; secure");document.cookie=n}(e,t,r);case 1:return function(e){return T()[e]}(e);default:return T()}};function T(){var e;try{e=document.cookie}catch(t){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t.stack||t),{}}return function(e){var t,r={},n=e.split(/ *; */);if(""==n[0])return r;for(var o=0;o<n.length;++o)r[U((t=n[o].split("="))[0])]=U(t[1]);return r}(e)}function N(e){try{return encodeURIComponent(e)}catch(t){P("error `encode(%o)` - %o",e,t)}}function U(e){try{return decodeURIComponent(e)}catch(t){P("error `decode(%o)` - %o",e,t)}}var L=S(R),M={exports:{}},G=Math.max,V=B=Math.max,q=V,$=W=Object.prototype.hasOwnProperty,Y=Object.prototype.toString,H=J=z=Z=function(e,t){if(r=t,!Boolean(r)||"object"!==o(r))return t;var r;e=e||J;for(var n=q(2,arguments),i=0;i<n.length;i+=1)for(var a in n[i])e(t,n[i],n[i][a],a);return t},Q=M.exports=M.exports.deep=Q;var X=S(M.exports),ee={exports:{}},te=x("cookie"),re=unction oe(e){try{return encodeURIComponent(e)}catch(t){te("error `encode(%o)` - %o",e,t)}}function(e,t){var r=re;.levels=function(e){var t,r,n=("function"!=typeof window.URL?(t=e,(r=document.createElement("a")).href=t,r.hostname):new URL(e).hostname).split("."),o=n[n.length-1],i=[];if(4===n.length&&o===parseInt(o,10))return i;if(n.length<=1)return i;for(var a=n.length-2;a>=0;--a)i.push(n.slice(a).join("."));return i},n.cookie=r,t=e.exports=n}(ee,ee.exports);var ae=S(ee.exports);function ue(e){return function t(r){return 0===arguments.length||r)?t:e.apply(this,arguments)}}var se=ue(();function ce(e,t,r){if(r||(r=new le),function(e){var t=o(e);return null==e||"object"!=t&&"function"!=t}(e))return e;var n,i=switch(se(e)){case"Object":return i(Object.create(Object.getPrototypeOf(e)));case"Array":return i([]);case"Date":return new Date(e.valueOf());case"RegExp":return n=e,new RegExp(n.source,n.flags?n.flags:(n.global?"g":"")+(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.sticky?"y":"")+(n.unicode?"u":"")+(n.dotAll?"s":""));case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return e.slice();default:return e}}var le=),fe=ue((),pe=function(){function e(t){i(this,e),this.cOpts={},this.options(t),this.isSupportAvailable=this.checkSupportAvailability()}return u(e,[{key:"options",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0===arguments.length)return this.cOpts;var t=".".concat(ae(window.location.href));return"."===t&&(t=null),this.cOpts=X(e,{maxage:31536e6,path:"/",domain:t,samesite:"Lax"}),e.sameDomainCookiesOnly&&delete this.cOpts.domain,this.cOpts}},{key:"set",value:function(e,t){try{return L(e,t,fe(this.cOpts)),!0}catch(r){return g(r),!1}}},{key:"get",value:function(e){return L(e)}},{key:"remove",value:,{key:"checkSupportAvailability",value:function(){var e="test_rudder_cookie";return this.set(e,!0),!!this.get(e)&&(this.remove(e),!0)}}]),e}(),de=new pe({}),ye={LOG:{value:0,method:console.log},INFO:{value:1,method:console.info},DEBUG:{value:2,method:console.debug},WARN:{value:3,method:console.warn},ERROR:{value:4,method:console.error}},ve=),ge=["item_id","itemId","product_id","item_name","itemName","name","coupon","item_brand","itemBrand","brand","item_variant","itemVariant","variant","price","quantity","index","position","affiliation","discount","item_category","itemCategory","category","item_category2","item_category3","item_category4","item_category5","item_list_id","item_list_name","location_id"],he=[{sourceKeys:["product_id","itemId"],destKey:"item_id"},{sourceKeys:["name","itemName"],destKey:"item_name"},{sourceKeys:"coupon",destKey:"coupon"},{sourceKeys:["brand","itemBrand"],destKey:"item_brand"},{sourceKeys:["variant","itemVariant"],destKey:"item_variant"},{sourceKeys:"price",destKey:"price",metadata:{type:"toNumber"}},{sourceKeys:"quantity",destKey:"quantity",metadata:{type:"toNumber"}},{sourceKeys:"position",destKey:"index",metadata:{type:"toNumber"}},{sourceKeys:"affiliation",destKey:"affiliation"},{sourceKeys:"discount",destKey:"discount"},{sourceKeys:["category","itemCategory"],destKey:"item_category"},{sourceKeys:"item_category2",destKey:"item_category2"},{sourceKeys:"item_category3",destKey:"item_category3"},{sourceKeys:"item_category4",destKey:"item_category4"},{sourceKeys:"item_category5",destKey:"item_category5"},{sourceKeys:"item_list_id",destKey:"item_list_id"},{sourceKeys:"item_list_name",destKey:"item_list_name"},{sourceKeys:"location_id",destKey:"location_id"}],me={method:{sourceKeys:"properties.method",destKey:"method"},product_cart_shared_method:{sourceKeys:"properties.share_via",destKey:"method"},currency:{sourceKeys:"properties.currency",destKey:"currency",metadata:{defaultValue:"USD"}},value:{sourceKeys:["properties.total","properties.value","properties.revenue","properties.price"],destKey:"value",metadata:{type:"toNumber"}},product_add_or_remove_value:{sourceKeys:["properties.total","properties.value","properties.revenue",{operation:"multiplication",args:[{sourceKeys:"properties.price"},{sourceKeys:"properties.quantity",defaultVal:1}]}],destKey:"value",metadata:{type:"toNumber"}},search:{sourceKeys:"properties.query",destKey:"search_term"},list_id:{sourceKeys:"properties.list_id",destKey:"item_list_id"},list_name:{sourceKeys:"properties.category",destKey:"item_list_name"},creative_name:{sourceKeys:["properties.creative_name","properties.creative"],destKey:"creative_name"},creative_slot:{sourceKeys:["properties.creative_slot","properties.position"],destKey:"creative_slot"},promotion_id:{sourceKeys:"properties.promotion_id",destKey:"promotion_id"},promotion_name:{sourceKeys:["properties.promotion_name","properties.name"],destKey:"promotion_name"},coupon:{sourceKeys:"properties.coupon",destKey:"coupon"},payment_method:{sourceKeys:"properties.payment_method",destKey:"payment_type"},shipping_method:{sourceKeys:"properties.shipping_method",destKey:"shipping_tier"},order_id:{sourceKeys:"properties.order_id",destKey:"transaction_id"},shipping:{sourceKeys:"properties.shipping",destKey:"shipping",metadata:{type:"toNumber"}},tax:{sourceKeys:"properties.tax",destKey:"tax",metadata:{type:"toNumber"}},content_type:{sourceKeys:"properties.content_type",destKey:"content_type"},item_id:{sourceKeys:["properties.item_id","properties.product_id","properties.sku"],destKey:"item_id"},cart_shared_item_id:{sourceKeys:["properties.item_id","properties.cart_id"],destKey:"item_id"},url:{sourceKeys:["properties.url","context.page.url"],destKey:"page_location"},referrer:{sourceKeys:["properties.referrer","context.page.referrer"],destKey:"page_referrer"},title:{sourceKeys:["properties.title","context.page.title"],destKey:"page_title"}},_e={LOGIN:{event:"login",mapping:[me.method]},SIGN_UP:{event:"sign_up",mapping:[me.method]},GENERATE_LEAD:{event:"generate_lead",mapping:[me.currency,r(r({},me.value),{},{required:!0})]},PRODUCTS_SEARCHED:{event:"search",mapping:[me.search]},PRODUCT_SEARCHED:{event:"search",mapping:[me.search]},PRODUCT_LIST_VIEWED:{event:"view_item_list",itemList:"YES",mapping:[me.list_id,me.list_name]},PROMOTION_VIEWED:{event:"view_promotion",itemList:"YES",mapping:[me.promotion_id,me.creative_slot,me.creative_name,me.promotion_name]},PROMOTION_CLICKED:{event:"select_promotion",itemList:"NO",mapping:[me.promotion_id,me.creative_slot,me.creative_name,me.promotion_name]},PRODUCT_CLICKED:{event:"select_item",item:"YES",mapping:[me.list_id,me.list_name]},PRODUCTS_CLICKED:{event:"select_item",item:"YES",mapping:[me.list_id,me.list_name]},PRODUCT_VIEWED:{event:"view_item",item:"YES",mapping:[me.currency,r(r({},me.value),{},{required:!0})]},PRODUCT_ADDED:{event:"add_to_cart",itemList:"NO",item:"YES",mapping:[me.currency,r(r({},me.product_add_or_remove_value),{},{required:!0})]},PRODUCT_REMOVED:{event:"remove_from_cart",itemList:"NO",item:"YES",mapping:[me.currency,r(r({},me.product_add_or_remove_value),{},{required:!0})]},CART_VIEWED:{event:"view_cart",itemList:"YES",mapping:[me.currency,r(r({},me.value),{},{required:!0})]},CHECKOUT_STARTED:{event:"begin_checkout",itemList:"YES",mapping:[me.currency,me.coupon,r(r({},me.value),{},{required:!0})]},PAYMENT_INFO_ENTERED:{event:"add_payment_info",itemList:"YES",mapping:[me.currency,me.coupon,me.payment_method,r(r({},me.value),{},{required:!0})]},CHECKOUT_STEP_COMPLETED:{event:"add_shipping_info",itemList:"YES",mapping:[me.currency,me.coupon,me.shipping_method,r(r({},me.value),{},{required:!0})]},ORDER_COMPLETED:{event:"purchase",itemList:"YES",mapping:[me.tax,me.coupon,me.shipping,me.currency,r(r({},me.value),{},{required:!0}),r(r({},me.order_id),{},{required:!0})]},ORDER_REFUNDED:{event:"refund",itemList:"NO",mapping:[me.tax,me.coupon,me.shipping,me.currency,r(r({},me.value),{},{required:!0}),r(r({},me.order_id),{},{required:!0})]},PRODUCT_ADDED_TO_WISHLIST:{event:"add_to_wishlist",itemList:"NO",item:"YES",mapping:[me.currency,r(r({},me.value),{},{required:!0})]},PRODUCT_SHARED:{event:"share",mapping:[me.item_id,me.content_type,me.product_cart_shared_method]},CART_SHARED:{event:"share",mapping:[me.content_type,me.cart_shared_item_id,me.product_cart_shared_method]},PAGE:{event:"page_view",mapping:[me.url,me.title,me.referrer]}},be=[_e.PRODUCT_CLICKED.event,_e.PRODUCT_VIEWED.event,_e.PRODUCT_ADDED.event,_e.PRODUCT_REMOVED.event,_e.PRODUCT_ADDED_TO_WISHLIST.event],we=Ce=function(e,t,r){if(we(r)||(r={default:r}),!Ae(e))return void 0!==r.default?r.default:e;"number"==typeof t&&(t=String(t));var n=Array.isArray(t),o="string"==typeof t,i=r.separator||".",a=r.joinChar||("string"==typeof i?i:".");if(!o&&!n)return e;if(o&&t in e)return je(t,e,r)?e[t]:r.default;var u=n?t:t,i,r),s=u.length,c=0;do{var l=u[c];for("number"==typeof l&&(l=String(l));l&&"\\"===l.slice(-1);)l=Oe([l.slice(0,-1),u[++c]||""],a,r);if(l in e){if(!je(l,e,r))return r.default;e=e[l]}else{for(var f=!1,p=c+1;p<s;)if(f=(l=Oe([l,u[p++]],a,r))in e){if(!je(l,e,r))return r.default;e=e[l],c=p-1;break}if(!f)return r.default}}while(++c<s&&Ae(e));return c===s?e:r.default};(var Ee=S(Ce),Se=256;Se--;)(Se+256).toString(16).substring(1);for(var Ie=0;Ie<256;Ie++)(Ie+256).toString(16).substring(1);function ke(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set,i=r;return o.has(e)?(i[t]="[Circular Reference]",r):(o.add(e),Object(e)!==e?i[t]=e:Array.isArray(e)?function(){for(var r=e.length,n=0;n<r;n+=1)ke(e[n],t?"".concat(t,".").concat(n):"".concat(n),i,o);0===r&&(i[t]=[])}():(n=!0,Object.keys(e).forEach((function(r){n=!1,ke(e[r],t?"".concat(t,".").concat(r):r,i,o)})),n&&(i[t]={})),o.delete(e),i)}function Ke(e){return ke(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",{})}function Fe(e,t,r,n){var o=[],i=t||{};return Array.isArray(r)?r.forEach((function(t){var r=Ee(e,t);r&&(Object.keys(r).forEach((function(e){n.includes(e)||o.push(e)})),o.forEach((function(e){void 0!==r[e]&&(i[e]=Ee(r,e))})))})):"root"===r?(Object.keys(e).forEach((),o.forEach((function(t){void 0!==e[t]&&(i[t]=Ee(e,t))}))):y("unable to parse keys"),i}var De=function(e){return e)&&e)},xe=function(e){var t=e.message,r=e.operationObject,n=r.operation,o=r.args.map((function(e){var r=e.sourceKeys,n=e.defaultVal,o=Ee(t,r);return o||!1===o||0===o?o:n}));if(!o.every((function(e){return De(e)})))return null;var i=null;switch(n){case"multiplication":i=1;var a,u=p(o);try{for(u.s();!(a=u.n()).done;){var s=a.value;if("number"!=typeof s)return null;i*=s}}catch(d){u.e(d)}finally{u.f()}return i.toFixed(2);case"addition":i=0;var c,l=p(o);try{for(l.s();!(c=l.n()).done;){var f=c.value;if("number"!=typeof f)return null;i+=f}}catch(d){l.e(d)}finally{l.f()}return i.toFixed(2);default:return null}},Pe=function(e,t){var r=e,n={jsonStringify:jsonStringifyOnObject:function(){"string"!=typeof e&&(r=JSON.stringify(e))},toString:function(){r=String(e)},toNumber:function(){r=Number(e)},toFloat:toInt:toLower:function(){r=e.toString().toLowerCase()},trim:function(){"string"==typeof e&&(r=e.trim())},IsBoolean:function(){r=!0,"boolean"!=typeof e&&(y("Boolean value missing, so dropping it"),r=!1)}};t in n&&(0,n[t])();return r},Re=function(e,t){var r={};return Array.isArray(t)&&t.length>0&&t.forEach((function(t){var n=t.sourceKeys,i=t.destKey,a=t.metadata,u=function(e,t){if(!t)return e;var r=t.type,n=t.defaultValue;if(!De(e))return n||e;var o=e;return r&&(Array.isArray(r)?r.forEach(():o=Pe(o,r)),o}(function(e,t){if(Array.isArray(t)&&t.length>0){var r,n=p(t);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=void 0;if((a="object"===o(i)?xe({message:e,operationObject:i}):Ee(e,i))||!1===a||0===a)return a}}catch(u){n.e(u)}finally{n.f()}return null}return"object"===o(t)?xe({message:e,operationObject:t}):Ee(e,t)}(e,n),a);(u||0===u||!1===u)&&i&&(r[i]=u)})),r},Te={exports:{}};!function(e,t){var r=9007199254740991,n="[object Arguments]",i="[object Function]",a="[object GeneratorFunction]",u="[object Map]",s="[object Promise]",c="[object Set]",l="[object WeakMap]",f="[object DataView]",p=/^\[object .+?Constructor\]$/,d="object"==o(E)&&E&&E.Object===Object&&E,y="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,v=d||y||Function("return this")(),g=t&&!t.nodeType&&t,h=g&&e&&!e.nodeType&&e,m=h&&h.exports===g;var _,b,w,C=Function.prototype,O=Object.prototype,j=v["__core-js_shared__"],A=(_=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",S=C.toString,I=O.hasOwnProperty,k=O.toString,K=RegExp("^"+S.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=m?v.Buffer:void 0,D=O.propertyIsEnumerable,x=F?F.isBuffer:void 0,P=(b=Object.keys,w=Object,function(e){return b(w(e))}),R=Y(v,"DataView"),T=Y(v,"Map"),N=Y(v,"Promise"),U=Y(v,"Set"),L=Y(v,"WeakMap"),M=!D.call({valueOf:1},"valueOf"),G=J(R),V=J(T),B=J(N),q=J(U),$=J(L);unction Y(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return W(r)?r:void 0}var H=function(e){return k.call(e)};function J(e){if(null!=e){try{return S.call(e)}catch(t){}try{return e+""}catch(t){}}return""}R&&H(new R(new ArrayBuffer(1)))!=f||T&&H(new T)!=u||N&&H(N.resolve())!=s||U&&H(new U)!=c||L&&H(new L)!=l)&&(H=;var Z=Array.isArray;ar X=x||function ee(e){var t=te(e)?k.call(e):"";return t==i||t==a}function te(e){var t=o(e);return!!e&&("object"==t||"function"==t)}e.exports=(Te,Te.exports);var Ne=S(Te.exports),Ue={exports:{}};!function(e,t){var r="__lodash_hash_undefined__",n=1,i=2,a=1/0,u=9007199254740991,s="[object Arguments]",c="[object Array]",l="[object Boolean]",f="[object Date]",p="[object Error]",d="[object Function]",y="[object GeneratorFunction]",v="[object Map]",g="[object Number]",h="[object Object]",m="[object Promise]",_="[object RegExp]",b="[object Set]",w="[object String]",C="[object Symbol]",O="[object WeakMap]",j="[object ArrayBuffer]",A="[object DataView]",S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I=/^\w*$/,k=/^\./,K=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,F=/\\(\\)?/g,D=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[s]=P[c]=P[j]=P[l]=P[A]=P[f]=P[p]=P[d]=P[v]=P[g]=P[h]=P[_]=P[b]=P[w]=P[O]=!1;var R="object"==o(E)&&E&&E.Object===Object&&E,T="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,N=R||T||Function("return this")(),U=t&&!t.nodeType&&t,L=U&&e&&!e.nodeType&&e,M=L&&L.exports===U&&R.process,G=),V=G&&G.isTypedArray;function B(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},z=Array.prototype,Z=Function.prototype,Q=Object.prototype,X=N["__core-js_shared__"],ee=(J=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"",te=Z.toString,re=Q.hasOwnProperty,ne=Q.toString,oe=RegExp("^"+te.call(re).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=N.Symbol,ae=N.Uint8Array,ue=Y(Object.getPrototypeOf,Object),se=Q.propertyIsEnumerable,ce=z.splice,le=Object.getOwnPropertySymbols,fe=Y(Object.keys,Object),pe=Be(N,"DataView"),de=Be(N,"Map"),ye=Be(N,"Promise"),ve=Be(N,"Set"),ge=Be(N,"WeakMap"),he=Be(Object,"create"),me=et(pe),_e=et(de),be=et(ye),we=et(ve),Ce=et(ge),Oe=ie?ie.prototype:void 0,je=Oe?Oe.valueOf:void 0,Ae=Oe?Oe.toString:void 0;function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ne(e){return"function"==typeof e?e:null==e?vt:"object"==o(e)?ot(e)?e[0],e[1]):e):He(t=e)?(r=Xe(t),:t);var t,r}totype.clear=Ee.prototype.delete=Ee.prototype.get=Ee.prototype.has=Ee.prototype.set=Se.prototype.clear=Se.prototype.delete=Se.prototype.get=Se.prototype.has=Se.prototype.set=Ie.prototype.clear=Ie.prototype.delete=function(e){return Ve(this,e).delete(e)},Ie.prototype.get=function(e){return Ve(this,e).get(e)},Ie.prototype.has=Ie.prototype.set=ke.prototype.add=ke.prototype.push=ke.prototype.has=function(e){return this.__data__.has(e)},Ke.prototype.clear=Ke.prototype.delete=function(e){return this.__data__.delete(e)},Ke.prototype.get=function(e){return this.__data__.get(e)},Ke.prototype.has=Ke.prototype.set=var qe=le?Y(le,Object):gt,$e=le?gt,We=We(new pe(new ArrayBuffer(1)))!=A||de&&We(new de)!=v||ye&&We(ye.resolve())!=m||ve&&We(new ve)!=b||ge&&We(new ge)!=O)&&(We=;var Qe=tt(();che=Ie;var ot=Array.isArray;tion ct(e){return!!e&&"object"==o(e)}ar ft,pt=V?(ft=V,:ports=(Ue,Ue.exports);var Le=9007199254740991,Me="[object Arguments]",Ge="[object Function]",Ve="[object GeneratorFunction]",Be="[object Symbol]",qe="object"==o(E)&&E&&E.Object===Object&&E,$e="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,We=qe||$e||Function("return this")();ar He=Object.prototype,Je=He.hasOwnProperty,ze=He.toString,Ze=We.Symbol,Qe=He.propertyIsEnumerable,Xe=Ze?Ze.isConcatSpreadable:void 0,et=Math.max; ot,it,at=Array.isArray;t=it=et(void 0===it?ot.length-1:it,0);var st=1/0,ct="[object Symbol]",lt="object"==o(E)&&E&&E.Object===Object&&E,ft="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,pt=lt||ft||Function("return this")(),dt=Object.prototype.toString,yt=pt.Symbol,vt=yt?yt.prototype:void 0,gt=vt?vt.toString:void 0;ar mt=S(();function _t(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal",o={};return function e(i,a){var u,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(s.has(i))o[a]="[Circular Reference]";else{if(s.add(i),Object(i)!==i)o[a]=i;else if(Array.isArray(i)){for(u=0,t=i.length;u<t;u+=1)e(i[u],"strict"===n?"".concat(a).concat(r).concat(u):"".concat(a,"[").concat(u,"]"),s);0===t&&(o[a]=[])}else{var c=!0;Object.keys(i).forEach((function(t){c=!1,e(i[t],a?"".concat(a).concat(r).concat(t):t,s)})),c&&a&&(o[a]={})}s.delete(i)}}(e,""),o}var bt=new ve(A),wt=Ct=function(e){var t={};return"object"!==o(e)||Array.isArray(e)?e:(Object.keys(e).forEach((function(r){var n=e[r];("items"===r||"object"!==o(n)&&!n))&&(t[r]=n)})),t)},Ot=function(e,t,r){var n={};return n=Fe(e,n,t,r),w(n)||(n=_t(n,"_","strict")),n},jt=function(e){var t=[],n=e.properties,i=null==n?void 0:n.products,a=!1;return"object"!==o(i)||Array.isArray(i)||(a=!0,i=[i]),Array.isArray(i)&&i.forEach((function(n,o){var i=Re(n,he),u=Fe(e,{},a?["properties.products"]:["properties.products.".concat(o)],ge);w(u)||(i=Ct(r(r({},i),_t(u,"_","strict")))),w(i)||t.push(i)})),t},At=function(e){var t=e.properties,r=[];if(t&&Object.keys(t).length>0){var n=Re(t,he);w(n)||r.push(n)}return r},Et=function(e,t){var n=t.event,o=t.mapping,i=Re(e,o);if(Array.isArray(o)&&o.length>0&&o.some((function(e){return!(i[e.destKey]||!e.required)&&(bt.error("Missing required value from ".concat(JSON.stringify(e.sourceKeys))),!0)})))return null;var a=function(e,t){var r=t.itemList,n=t.item,o=[],i=!1;return r&&n?(o=jt(e))&&o.length>0||(i=!0,o=At(e)):n?(i=!0,o=At(e)):r&&(o=jt(e)),{items:o,mapRootLevelPropertiesToGA4ItemsArray:i}}(e,t),u=a.items,s=function(e,t,r){var n=t.reduce((function(e,t){var r=t.sourceKeys;return"string"==typeof r?e.push(wt(r)):Array.isArray(r)&&r.forEach((function(t){"string"==typeof t&&e.push(wt(t))})),e}),[]);return n.push("products"),e&&be.includes(r)&&(n=n.concat(ge)),n}(a.mapRootLevelPropertiesToGA4ItemsArray,o,n),c=Ot(e,["properties"],s);return u.length>0&&(i.items=u),w(c)||(i=r(r({},i),c)),i},St=function(e,t){var r=_e["".concat(t.toUpperCase())],n=r?Et(e,r):function(e){return Ot(e,["properties"],[])}(e);return n?{params:Ct(n),event:r?r.event:t}:null},It=new ve(A),kt=function(){function e(t,r,n){i(this,e),r.logLevel&&It.setLogLevel(r.logLevel),this.name=j,this.clientId="",this.sessionId="",this.sessionNumber="",this.cookie=de,this.sendUserId=!0,this.analytics=r,this.measurementId=t.measurementId,this.debugView=t.debugView||!1,this.capturePageView=t.capturePageView||"rs",this.isHybridModeEnabled="hybrid"===t.connectionMode,this.piiPropertiesToIgnore=t.piiPropertiesToIgnore||[],this.extendPageViewParams=t.extendPageViewParams||!1,this.overrideClientAndSessionId=t.overrideClientAndSessionId||!1;var o=null!=n?n:{};this.shouldApplyDeviceModeTransformation=o.shouldApplyDeviceModeTransformation,this.propagateEventsUntransformedOnError=o.propagateEventsUntransformedOnError,this.destinationId=o.destinationId}return u(e,[{key:"loadScript",value:function(e){var t=this;window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||window.gtag("js",new Date);var r,n,o,i={};if("rs"===this.capturePageView&&(i.send_page_view=!1),this.sendUserId=(r=this.analytics.loadOnlyIntegrations,null===(n=null==r||null===(o=r.GA4)||void 0===o?void 0:o.sendUserId)||void 0===n||n),this.sendUserId&&this.analytics.getUserId()&&(i.user_id=this.analytics.getUserId()),this.isHybridModeEnabled&&this.overrideClientAndSessionId)i.cookie_prefix="rs",i.client_id=this.analytics.getAnonymousId(),i.session_id=this.analytics.getSessionId();else{var a=this.cookie.get("rs_ga"),u=this.cookie.get("_ga"),s=this.measurementId.split("-"),c=this.cookie.get("rs_ga_".concat(s[1]));if(!u&&a&&c){var l=a.split("."),f=l.length>3?"".concat(l[2],".").concat(l[3]):l[2],p=c.split(".")[2];f&&(i.client_id=f),p&&(i.session_id=p)}this.cookie.remove("rs_ga"),this.cookie.remove("rs_ga_".concat(s[1]))}this.debugView&&(i.debug_mode=!0),0===Object.keys(i).length?window.gtag("config",e):window.gtag("config",e,i),window.gtag("get",this.measurementId,"session_id",(function(e){t.sessionId=e})),window.gtag("get",this.measurementId,"client_id",(function(e){t.clientId=e})),window.gtag("get",this.measurementId,"session_number",(),function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(document.getElementById(e))return;var n=document.createElement("script");n.src=t,n.async=void 0===r.async||r.async,n.type="text/javascript",n.id=e,!0!==r.skipDatasetAttributes&&(n.setAttribute("data-loader",h),void 0!==r.isNonNativeSDK&&n.setAttribute("data-isNonNativeSDK",r.isNonNativeSDK));var o=document.getElementsByTagName("head");if(o.length>0)o[0].insertBefore(n,o[0].firstChild);else{var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}}catch(i){O(i)}}("google-analytics 4","https://www.googletagmanager.com/gtag/js?id=".concat(e))}},{key:"init",value:,{key:"isLoaded",value:,{key:"isReady",value:,{key:"identify",value:function(e){var t=e.message,n=t.context.traits,o=function(e,t){var n=[],o={},i=t,a={};return e.length>0&&e.forEach((function(e){"string"==typeof e.piiProperty&&""!==e.piiProperty.trim()&&n.push(e.piiProperty.trim())})),Object.keys(i).forEach((function(e){var t=i[e];n.includes(e)?o[e]=null:a[e]=t})),r(r({},o),a)}(this.piiPropertiesToIgnore,n);if(Object.keys(o).length>0&&window.gtag("set","user_properties",o),this.sendUserId&&t.userId){var i=t.userId;window.gtag("config",this.measurementId,{user_id:i})}}},{key:"track",value:function(e){if(!this.isHybridModeEnabled){var t=e.message,r=function(e){if(!e||"string"!=typeof e)return bt.error("Event name is required and should be a string"),null;var t=e.trim().replace(/\s+/g,"_");return["click","error","scroll","form_start","form_submit","first_open","first_visit","app_remove","video_start","session_start","view_complete","file_download","video_progress","user_engagement","in_app_purchase","app_store_refund","app_store_subscription_cancel","app_store_subscription_renew"].includes(t)?(bt.error("Reserved event name ".concat(t," is not allowed")),null):t}(null==t?void 0:t.event);if(r){var n=St(t,r);if(n){var o=n.params,i=n.event,a=this.addSendToAndMeasurementIdToPayload(o,e);window.gtag("event",i,a)}}else It.error("Event name is required")}}},{key:"page",value:function(e){if("rs"===this.capturePageView){var t=e.message,n=t.properties,o=Re(t,_e.PAGE.mapping);o=this.addSendToAndMeasurementIdToPayload(o,e),this.extendPageViewParams?window.gtag("event","page_view",r(r({},Ke(n)),o)):window.gtag("event","page_view",o)}}},{key:"group",value:function(e){if(!this.isHybridModeEnabled){var t=e.message,n=t.groupId,o=t.traits,i=r({group_id:n},o=this.addSendToAndMeasurementIdToPayload(o,e));window.gtag("event","join_group",i)}}},{key:"addSendToAndMeasurementIdToPayload",value:function(e,t){var r=t.message.userId,n=e;return n.send_to=this.measurementId,this.sendUserId&&r&&(n.user_id=r),n}},{key:"getDataForIntegrationsObject",value:function(){return s({},A,{clientId:this.clientId,sessionId:this.sessionId,sessionNumber:this.sessionNumber})}}]),e}();return e.GA4=kt,e}({});
//# sourceMappingURL=GA4.min.js.map
