"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{41044:function(e,t,n){n.d(t,{Z:function(){return FilterButton}});var r=n(52322),a=n(2784),s=n(89623),l=n(43913),i=n(68810),o=n(77512),c=n(60696),d=n(83122),u=n(53954),m=n(99219);function FilterButton(e){var t;let{filterOptions:n,filters:f,setFilters:p,reset:h}=e,[x]=(0,u.AH)(),[b,g]=(0,a.useState)(null),[j,v]=(0,a.useState)(null),{styles:y,attributes:w}=(0,s.D)(b,j,{placement:"bottom",strategy:"absolute"}),[N,P]=(0,a.useState)(f);(0,a.useEffect)(()=>{N||f===N||P(f)},[f,N]);let toggleFilter=e=>{e.key in N?(delete N[e.key],P({...N})):P({...N,[e.key]:e.default})},removeUnused=e=>{Object.keys(e).forEach(t=>{(void 0===e[t]||Array.isArray(e[t])&&!e[t].length)&&delete e[t]})},onClose=C=null===(t=Object.keys(N))||void 0===t?void 0:t.length,k=n;return x===c.Privacy.PRIVATE&&(k=n.filter(),(0,r.jsxs)(l.J,{children:[(0,r.jsx)(l.J.Button,{as:"div",ref:g,children:(0,r.jsxs)("button",{className:(0,d.AK)(C>0?"border-blue-primary text-blue-primary":"border-gray-200 text-zinc-500","flex items-center rounded-md border bg-zinc-50 px-3.5 py-2 text-base font-normal"),children:[(0,r.jsx)(m.eqi,{className:"-ml-.5 mr-1 h-3.5 w-3.5"}),"Filters ",C>0&&(0,r.jsxs)("span",{className:"ml-1",children:["(",C,")"]})]})}),(0,r.jsx)(i.u,{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:onClose,children:(0,r.jsx)(l.J.Panel,{ref:v,style:{...y.popper},...w.popper,className:"bottom-full z-10 mt-1 w-60 rounded-md bg-white pb-3 text-base text-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:e=>{let{close:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 px-2 py-2 text-sm",children:[(0,r.jsx)("button",{className:"btn-gray-border px-2 py-1 text-sm",onClick:()=>{p([]),P([]),h(),t()},children:"Clear"}),(0,r.jsx)("div",{className:"text-base font-medium",children:"Filters"}),(0,r.jsx)("button",{className:"btn-blue px-2 py-1 text-sm shadow-sm",onClick:children:"Done"})]}),null==k?void 0:k.map(e=>{let t=e.key in N;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"border-b border-gray-100 px-2 py-2",children:(0,r.jsx)(o.XZ,{labelText:e.name,name:e.value,checked:t,onChange:)}),t&&e.render&&(0,r.jsx)("div",{className:"bg-gray-50 p-3",children:e.render({value:N[e.key],handleChange:t=>P({...N,[e.key]:"function"==typeof t?t(N[e.key]):t})})})]},e.name)})]})}})})]})}},33297:function(e,t,n){n.d(t,{dI:function(){return l},xN:function(){return generateLabelColor}});var r=n(52322),a=n(12348),s=n(99219);n(56268);let l=["#10b981","#06b6d4","#f59e0b","#0ea5e9","#d946ef","#f43f5e","#6366f1","#ca8a04","#78716c"],generateLabelColor=t.ZP=e=>{let{tag:t,onRemove:n,onClickLabel:l}=e;return(0,r.jsx)(a.Z,{color:t.color,text:t.label,onClick:children:n&&(0,r.jsx)(s.aMB,{className:"ml-1 h-3 w-3 shrink-0 cursor-pointer",onClick:e=>n({e,item:t})})})}},18406:15329:function(e,t,n){n.d(t,{Z:function(){return MissingViewPermission}});var r=n(52322),a=n(99219),s=n(51830);,39186:function(e,t,n){n.d(t,{Z:function(){return AccessControlStatus}});var r=n(52322),a=n(56268),s=n(47330);let InfoSection=e=>{let{title:t,description:n,tooltipElement:s}=e;return(0,r.jsx)("div",{className:"mt-4 rounded-md border bg-gray-50 px-3 py-2.5 font-medium",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("h3",{className:"mr-1.5 text-sm text-gray-500",children:[t,":"]}),(0,r.jsx)("div",{className:"text-sm text-gray-800",children:n}),s&&(0,r.jsx)("div",{className:"relative ml-2 flex flex-col items-center text-sm",children:(0,r.jsx)(a.Z,{children:s})})]})})};function AccessControlStatus(e){let{boards:t}=e,n=new Set(t.reduce((e,t)=>{if(t.permissionType===s.xf.Team){var n;null===(n=t.teamAccess)||void 0===n||n.forEach(}return e},[])),a=t.filter(;return a.length>0?(0,r.jsx)(InfoSection,{title:"Access Level",description:"Workspace",tooltipElement:(0,r.jsxs)("p",{children:["Workspace access level inherited from"," ",(0,r.jsx)("b",{className:"font-semibold",children:"".concat(a[0].name)}),"."]})}):n.size>0?(0,r.jsx)(InfoSection,{title:"Teams",description:"".concat(Array.from(n).join(", "))}):(0,r.jsx)(InfoSection,{title:"Access level",description:"Workspace"})}},11029:function(e,t,n){n.d(t,{Z:function(){return ProductDemoDetailsModal}});var r=n(52322),a=n(2784),s=n(99219),l=n(39186),i=n(94441),o=n(16548),c=n(32517),d=n(66227),u=n(78066),m=n(51830),f=n(28299),p=n(52668),h=n(47330),x=n(86414),b=n(1422),g=n(63831),j=n(53954),v=n(77512),y=n(56958);function ProductDemoDetailsModal(e){let{project:t,open:n,handleClose:w}=e,[,N]=(0,f.G)(),[P,C]=(0,a.useState)(""),[k,A]=(0,a.useState)([]),[_,O]=(0,a.useState)(!1),S=t.status===h.kJ.Archived,{workspace:Z}=(0,j.cF)(),F=(0,j.BH)(Z),[B,M]=(0,a.useState)([]),[{data:T}]=(0,p.T)({variables:{id:t.id,filterForCurrentUser:!0},pause:!t.id||!F}),V=(0,a.useMemo)(()=>(null==T?void 0:T.projectBoards)||[],[T]),{availableOptions:D,selectedBoards:I}=(0,g.Z)({workspaceId:Z.id,boardsEnabled:F,selected:B});(0,a.useEffect)(()=>{let e=V.map(e=>{let{board:t}=e;return{id:t.id,name:t.displayName}});M(e)},[V]),(0,a.useEffect)(()=>{t&&(C(t.name||"Untitled"),A(t.tags))},[t]);let handleArchive=async e=>{O(!0);let n=e?h.kJ.Archived:h.kJ.Active,r=await N({data:{id:t.id,status:n}});if(O(!1),r.error){(0,c.Rn)("Could not ".concat(e?"archive":"unarchive"," Product Demo"));return}(0,c.Vp)("".concat(e?"Archived":"Unarchived"," Product Demo")),e?x.Z.track("project_archived"):x.Z.track("project_unarchived"),w()};return(0,r.jsxs)(u.Z,{title:"Edit Product Demo",containerClass:"mt-10",open:n,handleClose:w,handleNext:()=>{if(F&&!B.length){(0,c.Rn)("Please select at least one board");return}let e=diffBoards(V.map(,B);return y.A.promise(N({data:{id:t.id,name:P,tags:k,boards:e.add.length||e.remove.length?e:void 0}}).then(e=>{if(e.error)throw Error((0,b.q)(e.error.message));w()}),{loading:"Updating Product Demo...",success:"Updated Product Demo",error:c.bW})},nextText:"Save",nextOnEnter:!0,children:[(0,r.jsx)("label",{className:"label-small",children:"Name"}),(0,r.jsx)(v.oi,{className:"mb-4 w-full",placeholder:"Enter name",value:P,onChange:C}),F?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,r.jsx)("label",{className:"label-small",children:"Boards"}),(0,r.jsx)(m.Z,{href:"/settings/boards",children:(0,r.jsx)("a",{className:"mb-1.5 text-sm text-gray-400 hover:text-gray-500",children:"Manage"})})]}),(0,r.jsx)(i.Z,{options:D,selected:B,onChange:M}),(0,r.jsx)(l.Z,{boards:I})]}):null,(0,r.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,r.jsx)("label",{className:"label-small",children:"Labels"}),(0,r.jsx)(m.Z,{href:"/settings/labels",children:(0,r.jsx)("a",{className:"mb-1.5 text-sm text-gray-400 hover:text-gray-500",children:"Manage"})})]}),(0,r.jsx)(o.Z,{allowCreate:!0,selected:k,onChange:A}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(d.Z,{children:(0,r.jsxs)("div",{className:"rounded-md border p-3",children:[(0,r.jsxs)("div",{className:"mb-1 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(s.rKT,{className:"mr-1 text-gray-500"}),(0,r.jsx)("div",{children:"Archive"})]}),(0,r.jsx)(v.rs,{"data-testid":"archive-switch",disabled:_,checked:!!S,onChange:handleArchive})]}),(0,r.jsx)("div",{className:"max-w-[300px] text-sm font-normal text-gray-500",children:"Prevent visitors from accessing this product demo and remove it from unfiltered lists."})]})})})]})}let diffBoards=(e,t)=>{let n=e.map(e=>e.id),r=t.map(e=>e.id);return{add:t.filter(e=>!n.includes(e.id)).map(e=>e.id),remove:n.filter(}}},94441:function(e,t,n){n.d(t,{Z:function(){return SelectBoards}});var r=n(52322),a=n(54297);function SelectBoards(e){let{options:t,selected:n,onChange:s}=e;return(0,r.jsx)(a.Z,{allowCreate:!1,field:"name",placeHolder:"Select boards",diffField:"id",items:t,selected:n,onChange:s})}},16548:function(e,t,n){n.d(t,{Z:function(){return SelectWorkspaceLabel}});var r=n(52322),a=n(99219),s=n(54297),l=n(51830),i=n(72034),o=n(53954),c=n(6676),d=n.n(c),u=n(33297);let ManageLabelsFooter=()=>{let e=(0,o.cn)();return e?(0,r.jsx)(l.Z,{href:"/settings/labels",children:(0,r.jsxs)("button",{className:"flex w-full items-center rounded-b-md border-t bg-zinc-50 px-4 py-2.5 text-sm font-medium text-gray-600 ",children:[(0,r.jsx)(a.ewm,{className:"mr-1.5 h-3 w-3 shrink-0"}),"Manage Labels"]})}):null};function SelectWorkspaceLabel(e){let{selected:t,onChange:n,allowCreate:a}=e,[l]=(0,o.AH)(),{workspace:c}=(0,o.cF)(),[{data:m}]=(0,i.J)({variables:{data:{workspaceId:c.id,privacy:l}},pause:!(null==c?void 0:c.id)});return(0,r.jsx)(s.Z,{allowCreate:a,field:"label",items:(null==m?void 0:m.tags)||[],onCreate:e=>({...e,id:d()(),color:(0,u.xN)(),privacy:l}),selected:t||[],placeHolder:a?"Add labels":"Select labels",onChange:n,Footer:(0,r.jsx)(ManageLabelsFooter,{})})}},70805:47409:function(e,t,n){n.d(t,{Z:function(){return FloatingActionsDropdown}});var r=n(52322),a=n(2784),s=n(28316),l=n(66379),i=n(84061),o=n(87862),c=n(39708),d=n(99219),u=n(83122);function FloatingActionsDropdown(e){let{tabs:t,Button:n,isHorizontal:a=!1,...s}=e,{refs:m,floatingStyles:f}=(0,l.YF)({placement:"bottom-end",strategy:"fixed",middleware:[(0,i.cv)(8)],whileElementsMounted:o.Me}),handleAction=(e,t)=>{t.onClick&&t.onClick(e,t),e.stopPropagation()};return(0,r.jsxs)(c.v,{as:"div",className:"flex justify-end text-left",...s,children:[(0,r.jsx)("div",{ref:m.setReference,children:n||(0,r.jsx)(c.v.Button,{onClick:className:"rounded-md border border-gray-300/0 px-2 py-0.5 shadow-none transition-shadow duration-100 ease-in-out hover:cursor-pointer hover:border-gray-300/100 hover:shadow-md focus:outline-none focus:ring active:border-gray-300/100 active:shadow group-hover:border-gray-300/100 group-hover:bg-white group-hover:shadow-md","data-test":"more-actions",children:(0,r.jsx)(d.nWS,{className:(0,u.AK)(a?"rotate-90":"","h-5 w-5 text-gray-300 hover:text-gray-400")})})}),(0,r.jsx)(Portal,{children:(0,r.jsx)(c.v.Items,{ref:m.setFloating,style:f,className:"w-50 divide-y divide-gray-100 overflow-hidden rounded-md border border-gray-200 bg-white shadow-lg outline-none focus:outline-none",children:t.map(e=>(0,r.jsx)(c.v.Item,{children:t=>{var n,a;let{active:s}=t;return(0,r.jsxs)("div",{onClick:className:(0,u.AK)(e.hide&&"hidden",(null===(n=e.name)||void 0===n?void 0:n.includes("Delete"))||(null===(a=e.name)||void 0===a?void 0:a.includes("Archive"))?"text-red-900 opacity-70 hover:opacity-100":s?"bg-gray-50 text-gray-800":"text-gray-700","flex cursor-pointer items-center px-5 py-2 text-sm"),style:{minWidth:"110px"},children:[e.icon&&(0,r.jsx)(e.icon,{className:"-ml-0.5 mr-2 h-4 w-4"}),e.name]})}},e.id||e.name))})})]})}function Portal(e){let{children:t}=e,[n,r]=(0,a.useState)(!1);return((0,a.useEffect)([]),n)?(0,s.createPortal)(t,document.body):null}},54297:55261:function(e,t,n){n.d(t,{V:function(){return s}});var r=n(73235),a=n(66547);function _templateObject(){let e=(0,r._)(["\n    fragment Board on Board {\n  id\n  createdAt\n  updatedAt\n  name\n  displayName\n  description\n  permissionType\n  teamAccess {\n    permission\n    team {\n      id\n      name\n    }\n  }\n  order\n  autoGenerated\n  projectCount\n}\n    "]);return _templateObject=function(){return e},e}let s=(0,a.ZP)(_templateObject())},33512:function(e,t,n){n.d(t,{c:function(){return d}});var r=n(73235),a=n(66547),s=n(77894);function _templateObject(){let e=(0,r._)(["\n    fragment ChecklistWithVersion on ChecklistWithVersion {\n  id\n  createdAt\n  updatedAt\n  version {\n    ...ChecklistVersion\n  }\n}\n    ",""]);return _templateObject=function(){return e},e}let l=(0,a.ZP)(_templateObject(),s.r);var i=n(12464);function flowWithVersion_templateObject(){let e=(0,r._)(["\n    fragment FlowWithVersion on FlowWithVersion {\n  id\n  createdAt\n  updatedAt\n  name\n  originalGuideId\n  version {\n    ...FlowVersion\n  }\n}\n    ",""]);return flowWithVersion_templateObject=function(){return e},e}let o=(0,a.ZP)(flowWithVersion_templateObject(),i.m);et c=(0,a.ZP)(projectDocument_templateObject(),l,o);function projectVersion_templateObject(){let e=(0,r._)(["\n    fragment ProjectVersion on ProjectVersion {\n  id\n  createdAt\n  projectId\n  title\n  description\n  doc {\n    ...ProjectDocument\n  }\n}\n    ",""]);return projectVersion_templateObject=function(){return e},e}let d=(0,a.ZP)(projectVersion_templateObject(),c)},28299:7199:function(e,t,n){n.d(t,{H:function(){return useListBoardsQuery}});var r=n(73235),a=n(66547),s=n(55261),l=n(26806);function _templateObject(){let e=(0,r._)(["\n    query ListBoards($workspaceId: String!, $filterForCurrentUser: Boolean) {\n  boards(workspaceId: $workspaceId, filterForCurrentUser: $filterForCurrentUser) {\n    ...Board\n  }\n}\n    ",""]);return _templateObject=function(){return e},e}let i=(0,a.ZP)(_templateObject(),s.V);function useListBoardsQuery(e){return l.aM({query:i,...e})}},52668:function(e,t,n){n.d(t,{T:function(){return useListProjectBoardsQuery}});var r=n(73235),a=n(66547);et s=(0,a.ZP)(_templateObject());var l=n(26806);function listProjectBoards_templateObject(){let e=(0,r._)(["\n    query ListProjectBoards($id: String!, $filterForCurrentUser: Boolean) {\n  projectBoards(id: $id, filterForCurrentUser: $filterForCurrentUser) {\n    ...ProjectBoard\n  }\n}\n    ",""]);return listProjectBoards_templateObject=function(){return e},e}let i=(0,a.ZP)(listProjectBoards_templateObject(),s);function useListProjectBoardsQuery(e){return l.aM({query:i,...e})}},72034:63831:function(e,t,n){var r=n(2784),a=n(7199);t.Z=e=>{let{workspaceId:t,boardsEnabled:n,selected:s}=e,[{data:l,fetching:i}]=(0,a.H)({variables:{workspaceId:t,filterForCurrentUser:!0},pause:!t||!n}),o=(0,r.useMemo)([null==l?void 0:l.boards]),c=o.map(,d=(0,r.useMemo)(()=>{let e=s.map(e=>e.id);return o.filter(},[o,s]),u=(0,r.useMemo)(()=>{let e=s.map(;return c.filter(},[c,s]);return{allOptions:c,availableOptions:u,selectedBoards:d,fetching:i}}}}]);
//# sourceMappingURL=674-84707db139799e39.js.map