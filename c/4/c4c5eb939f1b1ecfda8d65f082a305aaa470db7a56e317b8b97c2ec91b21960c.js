!function(){var __webpack_modules__={57135:82385:function(module,__unused_webpack_exports,__webpack_require__){__webpack_require__(37115);module.exports=function template(locals){var pug_html="";return pug_html+='<div class="bookmark-share"><span class="bookmark-text">Bookmark</span><span class="bookmark-icon"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path><path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#35334E"></path></svg></span></div>'}},32341:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x4:function(){return login},sq:function(){return getUid},oE:function(){return getBookmarks},Rl:function(){return addBookmark},eM:function(){return removeBookmark}});var _window$TMCONFIG,_window$TMCONFIG$feat,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(27791),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(57135),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),baseUrl=(__webpack_require__(63238),__webpack_require__(61418),null===(_window$TMCONFIG=window.TMCONFIG)||void 0===_window$TMCONFIG||null===(_window$TMCONFIG$feat=_window$TMCONFIG.features)||void 0===_window$TMCONFIG$feat?void 0:_window$TMCONFIG$feat.bookmarksBaseUrl),getUid=function getUid(){var _JSON$parse,authUser=localStorage.getItem("auth-user");return authUser&&(null===(_JSON$parse=JSON.parse(authUser))||void 0===_JSON$parse?void 0:_JSON$parse.Uid)||null},login=function login(authOrigin){window.dispatchEvent(new CustomEvent("auth-ui.authenticate",{detail:{origin:authOrigin}}))},withHeaders=function withHeaders(method){var body=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,publication=window.TMCONFIG.publication,uid=getUid(),options={method,mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json",publication}};return uid&&(options.headers.uid=uid),body&&(options.body=JSON.stringify(body)),options},getBookmarks=function(){var _ref=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee(){var getBookmarksUrl;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(getBookmarksUrl="".concat(baseUrl,"/bookmarks"),!getUid()){_context.next=12;break}return _context.prev=3,_context.next=6,fetch(getBookmarksUrl,withHeaders("GET"));case 6:return _context.abrupt("return",_context.sent);case 9:return _context.prev=9,_context.t0=_context.catch(3),_context.abrupt("return",_context.t0);case 12:return _context.abrupt("return",null);case 13:case"end":return _context.stop()}}),_callee,null,[[3,9]])})));return function getBookmarks(){return _ref.apply(this,arguments)}}(),addBookmark=function(){var _ref2=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee2(newBookmark){var addBookmarkUrl,uid,options;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(addBookmarkUrl="".concat(baseUrl,"/addBookmark"),uid=getUid(),options=withHeaders("POST",newBookmark),!uid){_context2.next=13;break}return _context2.prev=4,_context2.next=7,fetch(addBookmarkUrl,options);case 7:return _context2.abrupt("return",_context2.sent);case 10:return _context2.prev=10,_context2.t0=_context2.catch(4),_context2.abrupt("return",_context2.t0);case 13:return _context2.abrupt("return",null);case 14:case"end":return _context2.stop()}}),_callee2,null,[[4,10]])})));return function addBookmark(_x){return _ref2.apply(this,arguments)}}(),removeBookmark=function(){var _ref3=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee3(articleId){var removeBookmarkUrl,options;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(removeBookmarkUrl="".concat(baseUrl,"/removeBookmark"),options=withHeaders("DELETE",{articleId}),!options.headers.uid){_context3.next=13;break}return _context3.prev=4,_context3.next=7,fetch(removeBookmarkUrl,options);case 7:return _context3.abrupt("return",_context3.sent);case 10:return _context3.prev=10,_context3.t0=_context3.catch(4),_context3.abrupt("return",_context3.t0);case 13:return _context3.abrupt("return",null);case 14:case"end":return _context3.stop()}}),_callee3,null,[[4,10]])})));return ()},148:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{lV:function(){return confirmBookmarked},uP:function(){return setLocalBookmarksData},S2:function(){return scrubLocalStorage},o_:function(){return handleAddBookmark},lt:function(){return handleRemoveBookmark},Df:function(){return changeBookmarkUI},H:function(){return isBookmarksUpdateRequired},lf:function(){return watchLoginEventHandler},CF:function(){return showToast},wT:function(){return setBookmarkCookie},FG:function(){return getBookmarkCookie}});__webpack_require__(72410),__webpack_require__(15610),__webpack_require__(17460),__webpack_require__(25901),__webpack_require__(92189),__webpack_require__(91047),__webpack_require__(5769),__webpack_require__(14078);var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(27791),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(57135),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__),_bookmarks_auth_js__WEBPACK_IMPORTED_MODULE_17__=(__webpack_require__(23938),__webpack_require__(98010),__webpack_require__(63238),__webpack_require__(53984),__webpack_require__(61418),__webpack_require__(52077),__webpack_require__(911),__webpack_require__(72482),__webpack_require__(32341));r getLocalBookmarksData=function getLocalBookmarksData(){return JSON.parse(window.localStorage.getItem("bookmarks"))||[]},setLocalBookmarksData=function setLocalBookmarksData(data){return window.localStorage.setItem("bookmarks",JSON.stringify(data))},scrubLocalStorage=function scrubLocalStorage(){window.localStorage.removeItem("bookmarks"),window.localStorage.setItem("lastBookmarkUpdate",0)},handleAddBookmark=function handleAddBookmark(el,newBookmark){var localData=getLocalBookmarksData(),newLocalData=[newBookmark].concat(localData);setLocalBookmarksData(newLocalData),_bookmarks_auth_js__WEBPACK_IMPORTED_MODULE_17__.Rl(newBookmark).then((function(){if(el.length){var _step,_iterator=_createForOfIteratorHelper(el);try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value.style.pointerEvents=""}}catch(err){_iterator.e(err)}finally{_iterator.f()}}})).catch((function(error){return error}))},handleRemoveBookmark=function handleRemoveBookmark(el,id){var newData=getLocalBookmarksData().filter(();setLocalBookmarksData(newData),_bookmarks_auth_js__WEBPACK_IMPORTED_MODULE_17__.eM(id).then((function(){if(el.length){var _step2,_iterator2=_createForOfIteratorHelper(el);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_step2.value.style.pointerEvents=""}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}})).catch((function(error){return error}))},confirmBookmarked=function confirmBookmarked(id){var _step3,publication=window.TMCONFIG.publication,_iterator3=_createForOfIteratorHelper(getLocalBookmarksData());try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var bookmark=_step3.value;if(bookmark.articlePublisher===publication&&bookmark.articleId===id)return!0}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return!1},changeBookmarkUI=function changeBookmarkUI(btn){var svgPaths=btn.querySelectorAll("path"),bookmarkText=btn.querySelector(".bookmark-text"),articleId=btn.getAttribute("data-article-id"),isBookmarked=confirmBookmarked(articleId);if(2===svgPaths.length){var bookmarkColor=getComputedStyle(svgPaths[1]).fill||svgPaths[1].getAttribute("fill");svgPaths[0].setAttribute("fill",isBookmarked?bookmarkColor:"rgba(0,0,0,0)")}bookmarkText&&(bookmarkText.innerText=isBookmarked?"Saved":"Bookmark")},convertTimestampToSeconds=isBookmarksUpdateRequired=function isBookmarksUpdateRequired(){var currentTimestamp=convertTimestampToSeconds(Date.now()),localTimestamp=window.localStorage.getItem("lastBookmarkUpdate")||0;return currentTimestamp-(localTimestamp=convertTimestampToSeconds(localTimestamp))>1800},watchLoginEventHandler=function(){var _ref=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_18__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().mark((function _callee(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!_bookmarks_auth_js__WEBPACK_IMPORTED_MODULE_17__.sq()||!isBookmarksUpdateRequired()){_context.next=5;break}return window.localStorage.setItem("lastBookmarkUpdate",Date.now()),_context.next=5,_bookmarks_auth_js__WEBPACK_IMPORTED_MODULE_17__.oE().then((function(res){return res.ok?res.json():Promise.reject(res)})).then((function(res){return setLocalBookmarksData(res)})).then((function(){var _step4,_iterator4=_createForOfIteratorHelper(document.querySelectorAll(".bookmark-btn-container"));try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var btn=_step4.value,articleId=btn.getAttribute("data-article-id");confirmBookmarked(articleId)&&changeBookmarkUI(btn)}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}})).catch((function(error){return error}));case 5:case"end":return _context.stop()}}),_callee)})));return (),showToast=function showToast(){var toast=window.document.getElementById("bookmark-toast");toast&&(toast.className="show",setTimeout((,5e3))},setBookmarkCookie=function setBookmarkCookie(){var d=new Date;d.setTime(d.getTime()+864e5);var expires="expires=".concat(d.toUTCString());document.cookie="bookmark_clicked=".concat(new Date,";").concat(expires,";path=/")},getBookmarkCookie=function getBookmarkCookie(){return 2==="; ".concat(document.cookie).split("; bookmark_clicked=").length}},45089:function(module,__unused_webpack_exports,__webpack_require__){var global=__webpack_require__(22086),isCallable=__webpack_require__(90930),tryToString=__webpack_require__(9268),TypeError=global.TypeError;module.exports=function(argument){if(isCallable(argument))return argument;throw TypeError(tryToString(argument)+" is not a function")}},41449:81378:78669:99966:51855:56112:20435:21842:56198:28062:69955:83329:70745:18789:85574:47850:68939:52306:90375:48474:47209:60471:72585:55736:89720:98432:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(51695),call=__webpack_require__(59413),IS_PURE=__webpack_require__(43296),FunctionName=__webpack_require__(94398),isCallable=__webpack_require__(90930),createIteratorConstructor=__webpack_require__(60471),getPrototypeOf=__webpack_require__(62130),setPrototypeOf=__webpack_require__(77530),setToStringTag=__webpack_require__(70914),createNonEnumerableProperty=__webpack_require__(72585),redefine=__webpack_require__(11007),wellKnownSymbol=__webpack_require__(50211),Iterators=__webpack_require__(97719),IteratorsCore=__webpack_require__(13083),PROPER_FUNCTION_NAME=FunctionName.PROPER,CONFIGURABLE_FUNCTION_NAME=FunctionName.CONFIGURABLE,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR=wellKnownSymbol("iterator"),returnThis=function(){return this};module.exports=function(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED){createIteratorConstructor(IteratorConstructor,NAME,next);var CurrentIteratorPrototype,methods,KEY,getIterationMethod=TO_STRING_TAG=NAME+" Iterator",INCORRECT_VALUES_NAME=!1,IterablePrototype=Iterable.prototype,nativeIterator=IterablePrototype[ITERATOR]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT],defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT),anyNativeIterator="Array"==NAME&&IterablePrototype.entries||nativeIterator;if(anyNativeIterator&&(CurrentIteratorPrototype=getPrototypeOf(anyNativeIterator.call(new Iterable)))!==Object.prototype&&CurrentIteratorPrototype.next&&(IS_PURE||getPrototypeOf(CurrentIteratorPrototype)===IteratorPrototype||(setPrototypeOf?setPrototypeOf(CurrentIteratorPrototype,IteratorPrototype):isCallable(CurrentIteratorPrototype[ITERATOR])||redefine(CurrentIteratorPrototype,ITERATOR,returnThis)),setToStringTag(CurrentIteratorPrototype,TO_STRING_TAG,!0,!0),IS_PURE&&(Iterators[TO_STRING_TAG]=returnThis)),PROPER_FUNCTION_NAME&&"values"==DEFAULT&&nativeIterator&&"values"!==nativeIterator.name&&(!IS_PURE&&CONFIGURABLE_FUNCTION_NAME?createNonEnumerableProperty(IterablePrototype,"name","values"):(INCORRECT_VALUES_NAME=!0,defaultIterator=function values(){return call(nativeIterator,this)})),DEFAULT)if(methods={values:getIterationMethod("values"),keys:IS_SET?defaultIterator:getIterationMethod("keys"),entries:getIterationMethod("entries")},FORCED)for(KEY in methods)(BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME||!(KEY in IterablePrototype))&&redefine(IterablePrototype,KEY,methods[KEY]);else $({target:NAME,proto:!0,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods);return IS_PURE&&!FORCED||IterablePrototype[ITERATOR]===defaultIterator||redefine(IterablePrototype,ITERATOR,defaultIterator,{name:DEFAULT}),Iterators[NAME]=defaultIterator,methods}},64145:25283:20821:933:73526:70172:91848:84344:function(module,__unused_webpack_exports,__webpack_require__){var userAgent=__webpack_require__(4999);module.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent)},81801:54928:4999:21448:58684:51695:63677:82331:67258:18516:86059:32395:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var global=__webpack_require__(22086),uncurryThis=__webpack_require__(78240),aCallable=__webpack_require__(45089),isObject=__webpack_require__(28759),hasOwn=__webpack_require__(49606),arraySlice=__webpack_require__(70745),NATIVE_BIND=__webpack_require__(86059),Function=global.Function,concat=uncurryThis([].concat),join=uncurryThis([].join),factories={},construct=module.exports=NATIVE_BIND?Function.bind:,59413:94398:78240:10563:61667:73546:2964:18509:22086:49606:7153:function(module){module.exports={}},71670:25963:26761:95974:39277:83278:92814:46526:90930:41956:67189:28759:43296:67994:92071:94722:26737:13083:97719:82871:43173:8109:73193:9316:98722:44710:77711:77826:function(__unused_webpack_module,exports,__webpack_require__){var global=__webpack_require__(22086),DESCRIPTORS=__webpack_require__(25283),IE8_DOM_DEFINE=__webpack_require__(26761),V8_PROTOTYPE_DEFINE_BUG=__webpack_require__(98202),anObject=__webpack_require__(56112),toPropertyKey=__webpack_require__(2258),TypeError=global.TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?V8_PROTOTYPE_DEFINE_BUG?$defineProperty:,94399:53226:20062:66952:62130:95516:91352:68779:7446:77530:70999:97999:46095:79775:function(module,__unused_webpack_exports,__webpack_require__){var global=__webpack_require__(22086);module.exports=global},54522:10880:7733:49431:11007:31189:84861:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var re1,re2,call=__webpack_require__(59413),uncurryThis=__webpack_require__(78240),toString=__webpack_require__(64059),regexpFlags=__webpack_require__(54276),stickyHelpers=__webpack_require__(94930),shared=__webpack_require__(49197),create=__webpack_require__(44710),getInternalState=__webpack_require__(83278).get,UNSUPPORTED_DOT_ALL=__webpack_require__(42582),UNSUPPORTED_NCG=__webpack_require__(2910),nativeReplace=shared("native-string-replace",String.prototype.replace),nativeExec=RegExp.prototype.exec,patchedExec=nativeExec,charAt=uncurryThis("".charAt),indexOf=uncurryThis("".indexOf),replace=uncurryThis("".replace),stringSlice=uncurryThis("".slice),UPDATES_LAST_INDEX_WRONG=(re2=/b*/g,call(nativeExec,re1=/a/,"a"),call(nativeExec,re2,"a"),0!==re1.lastIndex||0!==re2.lastIndex),UNSUPPORTED_Y=stickyHelpers.BROKEN_CARET,NPCG_INCLUDED=void 0!==/()??/.exec("")[1];(UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED||UNSUPPORTED_Y||UNSUPPORTED_DOT_ALL||UNSUPPORTED_NCG)&&(patchedExec=,module.exports=patchedExec},54276:94930:42582:2910:69586:83648:67420:70914:88944:74489:49197:48515:83448:84953:function(module,__unused_webpack_exports,__webpack_require__){var location,defer,channel,port,global=__webpack_require__(22086),apply=__webpack_require__(67258),bind=__webpack_require__(18516),isCallable=__webpack_require__(90930),hasOwn=__webpack_require__(49606),fails=__webpack_require__(63677),html=__webpack_require__(25963),arraySlice=__webpack_require__(70745),createElement=__webpack_require__(20821),validateArgumentsLength=__webpack_require__(71635),IS_IOS=__webpack_require__(84344),IS_NODE=__webpack_require__(81801),set=global.setImmediate,clear=global.clearImmediate,process=global.process,Dispatch=global.Dispatch,Function=global.Function,MessageChannel=global.MessageChannel,String=global.String,counter=0,queue={};try{location=global.location}catch(error){}var run=runner=listener=post=set&&clear||(set=clear=IS_NODE?defer=function(id){process.nextTick(runner(id))}:Dispatch&&Dispatch.now?defer=MessageChannel&&!IS_IOS?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=bind(port.postMessage,port)):global.addEventListener&&isCallable(global.postMessage)&&!global.importScripts&&location&&"file:"!==location.protocol&&!fails(post)?(defer=post,global.addEventListener("message",listener,!1)):defer="onreadystatechange"in createElement("script")?,module.exports={set,clear}},7740:64088:69502:24005:3060:1288:2258:12371:64059:9268:65422:91876:98202:71635:69251:50211:23938:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(51695),global=__webpack_require__(22086),fails=__webpack_require__(63677),isArray=__webpack_require__(46526),isObject=__webpack_require__(28759),toObject=__webpack_require__(3060),lengthOfArrayLike=__webpack_require__(82871),createProperty=__webpack_require__(89720),arraySpeciesCreate=__webpack_require__(85574),arrayMethodHasSpeciesSupport=__webpack_require__(69955),wellKnownSymbol=__webpack_require__(50211),V8_VERSION=__webpack_require__(21448),IS_CONCAT_SPREADABLE=wellKnownSymbol("isConcatSpreadable"),TypeError=global.TypeError,IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION>=51||!fails((),SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("concat"),isConcatSpreadable=$({target:"Array",proto:!0,forced:!IS_CONCAT_SPREADABLE_SUPPORT||!SPECIES_SUPPORT},{concat:function concat(arg){var i,k,length,len,E,O=toObject(this),A=arraySpeciesCreate(O,0),n=0;for(i=-1,length=arguments.length;i<length;i++)if(isConcatSpreadable(E=-1===i?O:arguments[i])){if(n+(len=lengthOfArrayLike(E))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(k=0;k<len;k++,n++)k in E&&createProperty(A,n,E[k])}else{if(n>=9007199254740991)throw TypeError("Maximum allowed index exceeded");createProperty(A,n++,E)}return A.length=n,A}})},53984:98010:15610:5769:72410:63238:61418:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,$=__webpack_require__(51695),IS_PURE=__webpack_require__(43296),global=__webpack_require__(22086),getBuiltIn=__webpack_require__(10563),call=__webpack_require__(59413),NativePromise=__webpack_require__(8109),redefine=__webpack_require__(11007),redefineAll=__webpack_require__(49431),setPrototypeOf=__webpack_require__(77530),setToStringTag=__webpack_require__(70914),setSpecies=__webpack_require__(67420),aCallable=__webpack_require__(45089),isCallable=__webpack_require__(90930),isObject=__webpack_require__(28759),anInstance=__webpack_require__(51855),inspectSource=__webpack_require__(39277),iterate=__webpack_require__(94722),checkCorrectnessOfIteration=__webpack_require__(68939),speciesConstructor=__webpack_require__(48515),task=__webpack_require__(84953).set,microtask=__webpack_require__(43173),promiseResolve=__webpack_require__(10880),hostReportErrors=__webpack_require__(71670),newPromiseCapabilityModule=__webpack_require__(98722),perform=__webpack_require__(54522),Queue=__webpack_require__(7733),InternalStateModule=__webpack_require__(83278),isForced=__webpack_require__(67189),wellKnownSymbol=__webpack_require__(50211),IS_BROWSER=__webpack_require__(70172),IS_NODE=__webpack_require__(81801),V8_VERSION=__webpack_require__(21448),SPECIES=wellKnownSymbol("species"),PROMISE="Promise",getInternalState=InternalStateModule.getterFor(PROMISE),setInternalState=InternalStateModule.set,getInternalPromiseState=InternalStateModule.getterFor(PROMISE),NativePromisePrototype=NativePromise&&NativePromise.prototype,PromiseConstructor=NativePromise,PromisePrototype=NativePromisePrototype,TypeError=global.TypeError,document=global.document,process=global.process,newPromiseCapability=newPromiseCapabilityModule.f,newGenericPromiseCapability=newPromiseCapability,DISPATCH_EVENT=!!(document&&document.createEvent&&global.dispatchEvent),NATIVE_REJECTION_EVENT=isCallable(global.PromiseRejectionEvent),SUBCLASSING=!1,FORCED=isForced(PROMISE,(),INCORRECT_ITERATION=FORCED||!checkCorrectnessOfIteration((),isThenable=callReaction=notify=dispatchEvent=onUnhandled=isUnhandled=onHandleUnhandled=bind=internalReject=internalResolve=if(FORCED&&(PromisePrototype=(PromiseConstructor=.prototype,(Internal=.prototype=redefineAll(PromisePrototype,{then:catch:),OwnPromiseCapability=newPromiseCapabilityModule.f=newPromiseCapability=!IS_PURE&&isCallable(NativePromise)&&NativePromisePrototype!==Object.prototype)){nativeThen=NativePromisePrototype.then,SUBCLASSING||(redefine(NativePromisePrototype,"then",(,{unsafe:!0}),redefine(NativePromisePrototype,"catch",PromisePrototype.catch,{unsafe:!0}));try{delete NativePromisePrototype.constructor}catch(error){}setPrototypeOf&&setPrototypeOf(NativePromisePrototype,PromisePrototype)}$({global:!0,wrap:!0,forced:FORCED},{Promise:PromiseConstructor}),setToStringTag(PromiseConstructor,PROMISE,!1,!0),setSpecies(PROMISE),PromiseWrapper=getBuiltIn(PROMISE),$({target:PROMISE,stat:!0,forced:FORCED},{reject:),$({target:PROMISE,stat:!0,forced:IS_PURE||FORCED},{resolve:),$({target:PROMISE,stat:!0,forced:INCORRECT_ITERATION},{all:race:)},3214:52077:17460:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var charAt=__webpack_require__(83448).charAt,toString=__webpack_require__(64059),InternalStateModule=__webpack_require__(83278),defineIterator=__webpack_require__(98432),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("String Iterator");defineIterator(String,"String",(,()},911:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var apply=__webpack_require__(67258),call=__webpack_require__(59413),uncurryThis=__webpack_require__(78240),fixRegExpWellKnownSymbolLogic=__webpack_require__(82331),fails=__webpack_require__(63677),anObject=__webpack_require__(56112),isCallable=__webpack_require__(90930),toIntegerOrInfinity=__webpack_require__(69502),toLength=__webpack_require__(24005),toString=__webpack_require__(64059),requireObjectCoercible=__webpack_require__(69586),advanceStringIndex=__webpack_require__(99966),getMethod=__webpack_require__(2964),getSubstitution=__webpack_require__(18509),regExpExec=__webpack_require__(31189),REPLACE=__webpack_require__(50211)("replace"),max=Math.max,min=Math.min,concat=uncurryThis([].concat),push=uncurryThis([].push),stringIndexOf=uncurryThis("".indexOf),stringSlice=uncurryThis("".slice),REPLACE_KEEPS_$0="$0"==="a".replace(/./,"$0"),REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=!!/./[REPLACE]&&""===/./[REPLACE]("a","$0");fixRegExpWellKnownSymbolLogic("replace",(,!!fails(()||!REPLACE_KEEPS_$0||REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE)},72482:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var apply=__webpack_require__(67258),call=__webpack_require__(59413),uncurryThis=__webpack_require__(78240),fixRegExpWellKnownSymbolLogic=__webpack_require__(82331),isRegExp=__webpack_require__(67994),anObject=__webpack_require__(56112),requireObjectCoercible=__webpack_require__(69586),speciesConstructor=__webpack_require__(48515),advanceStringIndex=__webpack_require__(99966),toLength=__webpack_require__(24005),toString=__webpack_require__(64059),getMethod=__webpack_require__(2964),arraySlice=__webpack_require__(83329),callRegExpExec=__webpack_require__(31189),regexpExec=__webpack_require__(84861),stickyHelpers=__webpack_require__(94930),fails=__webpack_require__(63677),UNSUPPORTED_Y=stickyHelpers.UNSUPPORTED_Y,min=Math.min,$push=[].push,exec=uncurryThis(/./.exec),push=uncurryThis($push),stringSlice=uncurryThis("".slice),SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=!fails(();fixRegExpWellKnownSymbolLogic("split",(function(SPLIT,nativeSplit,maybeCallNative){var internalSplit;return internalSplit="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?"0".split(void 0,0).length?nativeSplit,[}),!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC,UNSUPPORTED_Y)},92189:91047:25901:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(51695),global=__webpack_require__(22086),getBuiltIn=__webpack_require__(10563),apply=__webpack_require__(67258),call=__webpack_require__(59413),uncurryThis=__webpack_require__(78240),IS_PURE=__webpack_require__(43296),DESCRIPTORS=__webpack_require__(25283),NATIVE_SYMBOL=__webpack_require__(73193),fails=__webpack_require__(63677),hasOwn=__webpack_require__(49606),isArray=__webpack_require__(46526),isCallable=__webpack_require__(90930),isObject=__webpack_require__(28759),isPrototypeOf=__webpack_require__(95516),isSymbol=__webpack_require__(92071),anObject=__webpack_require__(56112),toObject=__webpack_require__(3060),toIndexedObject=__webpack_require__(64088),toPropertyKey=__webpack_require__(2258),$toString=__webpack_require__(64059),createPropertyDescriptor=__webpack_require__(55736),nativeObjectCreate=__webpack_require__(44710),objectKeys=__webpack_require__(68779),getOwnPropertyNamesModule=__webpack_require__(20062),getOwnPropertyNamesExternal=__webpack_require__(53226),getOwnPropertySymbolsModule=__webpack_require__(66952),getOwnPropertyDescriptorModule=__webpack_require__(94399),definePropertyModule=__webpack_require__(77826),definePropertiesModule=__webpack_require__(77711),propertyIsEnumerableModule=__webpack_require__(7446),arraySlice=__webpack_require__(70745),redefine=__webpack_require__(11007),shared=__webpack_require__(49197),sharedKey=__webpack_require__(88944),hiddenKeys=__webpack_require__(7153),uid=__webpack_require__(65422),wellKnownSymbol=__webpack_require__(50211),wrappedWellKnownSymbolModule=__webpack_require__(69251),defineWellKnownSymbol=__webpack_require__(64145),setToStringTag=__webpack_require__(70914),InternalStateModule=__webpack_require__(83278),$forEach=__webpack_require__(28062).forEach,HIDDEN=sharedKey("hidden"),TO_PRIMITIVE=wellKnownSymbol("toPrimitive"),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("Symbol"),ObjectPrototype=Object.prototype,$Symbol=global.Symbol,SymbolPrototype=$Symbol&&$Symbol.prototype,TypeError=global.TypeError,QObject=global.QObject,$stringify=getBuiltIn("JSON","stringify"),nativeGetOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,nativeDefineProperty=definePropertyModule.f,nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f,nativePropertyIsEnumerable=propertyIsEnumerableModule.f,push=uncurryThis([].push),AllSymbols=shared("symbols"),ObjectPrototypeSymbols=shared("op-symbols"),StringToSymbolRegistry=shared("string-to-symbol-registry"),SymbolToStringRegistry=shared("symbol-to-string-registry"),WellKnownSymbolsStore=shared("wks"),USE_SETTER=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDescriptor=DESCRIPTORS&&fails(()?nativeDefineProperty,wrap=$defineProperty=$defineProperties=$propertyIsEnumerable=$getOwnPropertyDescriptor=$getOwnPropertyNames=$getOwnPropertySymbols=(NATIVE_SYMBOL||($Symbol=redefine(SymbolPrototype=$Symbol.prototype,"toString",(function toString(){return getInternalState(this).tag})),redefine($Symbol,"withoutSetter",(function(description){return wrap(uid(description),description)})),propertyIsEnumerableModule.f=$propertyIsEnumerable,definePropertyModule.f=$defineProperty,definePropertiesModule.f=$defineProperties,getOwnPropertyDescriptorModule.f=$getOwnPropertyDescriptor,getOwnPropertyNamesModule.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames,getOwnPropertySymbolsModule.f=$getOwnPropertySymbols,wrappedWellKnownSymbolModule.f=DESCRIPTORS&&(nativeDefineProperty(SymbolPrototype,"description",{configurable:!0,get:),IS_PURE||redefine(ObjectPrototype,"propertyIsEnumerable",$propertyIsEnumerable,{unsafe:!0}))),$({global:!0,wrap:!0,forced:!NATIVE_SYMBOL,sham:!NATIVE_SYMBOL},{Symbol:$Symbol}),$forEach(objectKeys(WellKnownSymbolsStore),(),$({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL},{for:keyFor:useSetter:function(){USE_SETTER=!0},useSimple:),$({target:"Object",stat:!0,forced:!NATIVE_SYMBOL,sham:!DESCRIPTORS},{create:defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor}),$({target:"Object",stat:!0,forced:!NATIVE_SYMBOL},{getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$({target:"Object",stat:!0,forced:fails(()},{getOwnPropertySymbols:),$stringify)&&$({target:"JSON",stat:!0,forced:!NATIVE_SYMBOL||fails(()},{stringify:);if(!SymbolPrototype[TO_PRIMITIVE]){var valueOf=SymbolPrototype.valueOf;redefine(SymbolPrototype,TO_PRIMITIVE,()}setToStringTag($Symbol,"Symbol"),hiddenKeys[HIDDEN]=!0},14078:37115:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var pug_has_own_property=Object.prototype.hasOwnProperty;function pug_classes(val,escaping){return Array.isArray(val)?function pug_classes_array(val,escaping){for(var className,classString="",padding="",escapeEnabled=Array.isArray(escaping),i=0;i<val.length;i++)(className=pug_classes(val[i]))&&(escapeEnabled&&escaping[i]&&(className=pug_escape(className)),classString=classString+padding+className,padding=" ");return classString}(val,escaping):val&&"object"==typeof val?function pug_classes_object(val){var classString="",padding="";for(var key in val)key&&val[key]&&pug_has_own_property.call(val,key)&&(classString=classString+padding+key,padding=" ");return classString}(val):val||""}ports.merge=exports.classes=pug_classes,exports.style=pug_style,exports.attr=pug_attr,exports.attrs=function pug_attrs(obj,terse){var attrs="";for(var key in obj)if(pug_has_own_property.call(obj,key)){var val=obj[key];if("class"===key){val=pug_classes(val),attrs=pug_attr(key,val,!1,terse)+attrs;continue}"style"===key&&(val=pug_style(val)),attrs+=pug_attr(key,val,!1,terse)}return attrs};var pug_match_html=/["&<>]/;xports.escape=pug_escape,exports.rethrow=,86248:function(module){var runtime=function(exports){"use strict";var Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";ry{define({},"")}catch(err){define=ports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}ar IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);eneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=exports.mark=exports.awrap=defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(),define(Gp,"toString",(),exports.keys=exports.values=values,Context.prototype={constructor:Context,reset:stop:dispatchException:abrupt:complete:finish:catch:delegateYield:,exports}(module.exports);try{regeneratorRuntime=runtime}catch(accidentalStrictMode){"object"==typeof globalThis?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}},96469:function(){},27791:,__webpack_module_cache__={};_webpack_require__.n=__webpack_require__.d=__webpack_require__.g=),__webpack_require__.o=function(){"use strict";__webpack_require__(3214);k_require__(63238),__webpack_require__(61418);var bookmark_section=__webpack_require__(82385),bookmark_section_default=__webpack_require__.n(bookmark_section),bookmarks_auth=__webpack_require__(32341),bookmarks_utils=__webpack_require__(148);indow.customElements.define("bookmarks-section",function(_HTMLButtonElement){!BookmarksSection,_HTMLButtonElement);var _super=_createSuper(BookmarksSection);function BookmarksSection(){var _this;return this,BookmarksSection),(_this=_super.call(this)).articleId=_this.getAttribute("data-article-id"),_this.url=_this.getAttribute("data-url"),_this.imageUrl=_this.getAttribute("data-img"),_this.headline=_this.getAttribute("data-headline"),_this.innerHTML=bookmark_section_default()(),_this}return BookmarksSection,[{key:"createBookmark",value:function createBookmark(){var publication=window.TMCONFIG.publication;return{articleId:this.articleId,articleUrl:this.url,articlePublisher:publication,bookmarkingPublication:publication,dateCreated:new Date,headline:this.headline,imageUrl:this.imageUrl,isRead:!1}}},{key:"updateBookmarksData",value:function updateBookmarksData(isBookmarked){if(isBookmarked)(0,bookmarks_utils.lt)([this],this.articleId);else{var newBookmark=this.createBookmark();(0,bookmarks_utils.o_)([this],newBookmark)}}},{key:"bookmarkClickEvent",value:function bookmarkClickEvent(e){if(e.preventDefault(),bookmarks_auth.sq()){this.style.pointerEvents="none";var isBookmarked=(0,bookmarks_utils.lV)(this.articleId);this.updateBookmarksData(isBookmarked),(0,bookmarks_utils.FG)()||isBookmarked||((0,bookmarks_utils.wT)(),(0,bookmarks_utils.CF)()),(0,bookmarks_utils.Df)(this)}else bookmarks_auth.x4("bookmarks")}},{key:"handleButton",value:function handleButton(){(0,bookmarks_utils.lV)(this.articleId)&&(0,bookmarks_utils.Df)(this),this.addEventListener("click",this.bookmarkClickEvent)}},{key:"init",value:function init(){var _this2=this;bookmarks_auth.sq()&&(0,bookmarks_utils.H)()?(window.localStorage.setItem("lastBookmarkUpdate",Date.now()),bookmarks_auth.oE().then(().then(().then(().catch(()):(this.handleButton(),window.addEventListener("loginradius.user.profile",bookmarks_utils.lf))}},{key:"connectedCallback",value:function connectedCallback(){bookmarks_auth.sq()||(0,bookmarks_utils.S2)(),this.init()}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.removeEventListener("click",this.bookmarkClickEvent),window.removeEventListener("loginradius.user.profile",bookmarks_utils.lf)}}]),BookmarksSection}(_wrapNativeSuper(HTMLButtonElement)),{extends:"button"})}()}();