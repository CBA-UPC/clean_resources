"use strict";posts-analystic",{data:function(){return{posts:[],value2:"",pickerOptions:{disabledDate:shortcuts:[{text:"今天",onCle)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]}}},created:function(){this.getTopics()},methods:{getTopics:function(){var t=this;axios.get("/__api/v3/posts?date="+thisayload.posts})},handlechange:function(){this.getTopics()}},template:'<div>\n    <el-date-picker\n      v-model="value2"\n      align="right"\n      type="date"\n      placeholder="选择日期"\n      value-format="yyyy-M-d"\n      :picker-options="pickerOptions" @change="handlechange">\n    </el-date-picker>\n    <span class="total">文章数{{ posts.length }}</span>\n    <el-table :data="posts" stripe style="width: 100%">\n    <el-table-column prop="title" label="标题" width="380">\n    </el-table-column>\n    <el-table-column prop="date" label="日期">\n    </el-table-column>\n    <el-table-column prop="realview" label="阅读量" sortable>\n    </el-table-column>\n    <el-table-column prop="realread" label="完读量" sortable>\n    </el-table-column>\n    <el-table-column prop="comment" label="评论数" sortable>\n    </el-table-column>\n    <el-table-column prop="bookmark" label="收藏" sortable>\n    </el-table-column>\n</el-table>\n</div>\n'}),Vue.component("event-analystic",{data:function(){return{categories:[{name:"全部",slug:"all"},{name:"线上课程",slug:"online"},{name:"线下课程",slug:"offline"},{name:"活动",slug:"event"},{name:"公开课",slug:"open"},{name:"普通文章",slug:"post"}],categoryType:"all",activeTotal:0,activePaged:1,activePerPage:12,loading:!1,categoryPosts:[],cat:7146}},created:function(){this.getEvents()},watch:{categoryType:function(){"post"!=this.categoryType?this.cat=7146:this.cat="",this.activePaged=1,this.getEvents()}},methods:{switchCategory:function(e){e=e.currentTarget;console.log(e.dataset.actionValue),this.categoryType=e.dataset.actionValue},handleCurrentChange:function(e){this.activePaged=e,this.getEvents()},getEvents:function(){var t=this;axios.get("/__api/v3/posts/event",{params:{post_type:this.categoryType,paged:this.activePaged,cat:this.cat}}).then(function(e){t.categoryPosts=e.data.payload.posts,t.activeTotal=parseInt(e.data.payload.total)})}},template:'<div><div class="active--nav u-shadowed">\n    <span v-for="item in categories" v-bind:key="item.slug" v-on:click="switchCategory" :data-action-value="item.slug" v-bind:class="{active: item.slug == categoryType}">{{ item.name }}</span>\n</div>\n<div class="active--cardList">\n    <el-table :data="categoryPosts" stripe style="width: 100%">\n        <el-table-column prop="title" label="标题" width="380">\n        </el-table-column>\n        <el-table-column prop="date" label="日期">\n        </el-table-column>\n        <el-table-column prop="realview" label="阅读量" sortable>\n        </el-table-column>\n        <el-table-column prop="realread" label="完读量" sortable>\n        </el-table-column>\n        <el-table-column prop="comment" label="评论数" sortable>\n        </el-table-column>\n        <el-table-column prop="bookmark" label="收藏" sortable>\n        </el-table-column>\n    </el-table>\n</div>\n<div class="active--cardNav" v-if="activeTotal > 12">\n    <el-pagination background layout="prev, pager, next" :page-size="activePerPage" :total="activeTotal" :current-page="activePaged" @current-change="handleCurrentChange">\n    </el-pagination>\n</div></div>'});var authorFollowButton=Vue.component("author-follow-button",{props:["id","status"],template:"\n    <button class=\"button button--follow\" @click=\"handleFollow\" :data-dts-event-location=\" status ? 'unfollow_user' : 'follow_user'\" :id:' + id + '}'\" :class=\"{active: status}\">{{ status ? '已关注' : '关注' }}</button>\n    ",data:function(){return{loading:!1}},methods:{handleFollow:function(){var e=this;if(!PURE.is_user_logged_in)return this.$parent.showLogin=!0;this.loading||(this.loading=!0,this.status?axios.post("/api-o/api/userRelation/unFollow.html?friendUid="+this.id).then(function(){e.$emit("update:status",!1),e.$message("取消关注成功"),e.loading=!1}):axios.post("/api-o/api/userRelation/follow.htm?friendUid="+this.id).then(function(){e.$emit("update:status",!0),e.$message("关注成功"),e.loading=!1}))}}}),authorNav=Vue.component("author-nav",{props:["current","id"],data:function(){return{post:0,question:0,answer:0,activity:0,inspiration:0,navs:[{name:"文章",key:"post"},{name:"动态",key:"activity"},{name:"提问",key:"question"},{name:"回答",key:"answer"},{name:"图文",key:"inspiration"},{name:"视频",key:"video"}],userArticleCountVo:"",userCommonCtion(){this.getData(),this.getUser()},computed:{filterNavs:function(){var t=this;return this.navs.filtet[e.key],e})}},methods:{getUser:function(){var t=this,e="/__api/v3/user/"+this.id;axios({url:e,method:"get"}).then(function(e){t.inspiration=e.data.payload.user.inspiration_count})},getData:function(){var t=this;this.userLoading=!0;axios({url:"/api2/user/profile",method:"get",params:{uid:this.id}}).then(function(e){200==e.data.CODE&&(t.answer=e.data.RESULT.userCommonCountVo.replyCount,t.question=e.data.RESULT.userCommonCountVo.questionCount,t.activity=e.data.RESULT.userCommonCountVo.dynamicCount,t.post=e.data.RESULT.userESULT.userCommonCountVo.videoCount),t.userLoading=!1;e=t.filterNavs.length?t.filterNavs[0].key:"post";t.handleChange(e)})},handleChange:function(e){this.$emit("update:current",e)}},template:'<nav class="author--nav">\n    <div class="author--navList">\n    <span v-for="item,index in filterNavs" :key="index" :class="{current: current == item.key}" @click="handleChange(item.key)" >{{ item.name }} {{item.count }}</span>\n    </div>\n    </nav>'}),authorMeta=Vue.component("function(){return{info:"",userLoading:!1,userArticleCountVo:"",userCommonCountVo:"",userBadgeList:[],userTags:[]}},computed:{isCurrentUser:function(){return this.id==PURE.user_id},isTrashed:function(){return-3==this.info.state}},template:'<header class="u-flex container pm--authorPageHeader" v-if="!isTrashed">\n    <img :src="info.avartar" height="110" width="110" class="avatar">\n    <div class="pm--authorPageHeader__content">\n        <div class="name">{{ info.nickName }}\n            <el-tooltip class="item" effect="dark" :content="item.tagName" placement="top" v-for="item,index in userTags">\n                <img :src="item.tagCode == 1601 ? item.icon_1 :  item.icon_2" class="user--badgetItem icon-height20" @click="openVip(item)" :class="{\'u-cursorPointer\': item.parentCode == 1200}">\n            </el-tooltip>\n            <button class="button button--follow" @click="subauthor(id)" :data-id="id" v-if="!isCurrentUser"\n  :data-dts-event-location=" status ? \'unfollow_user\' : \'follow_user\'"\n  :data-dts-event-info="\'{author_id:\' + id + \'}\'"\n  :class="{active: status}">{{ status ? \'已关注\' : \'关注\' }}</button>\n        </div>\n        <div class="pm-author-age">\n            学龄：{{ info.pmAge }} IP：{{ info.ipAddr }}\n        </div>\n        <div class="description">{{ info.description }}</div>\n    </div>\n    <div class="author-page-meta">\n        <span v-if="!!userArticleCountVo.articalCount"><i>{{ userArticleCountVo.articalCount}} 篇</i> 文章</span>\n        <span v-if="!!userCommonCountVo.fansCount"><i>{{ userCommonCountVo.fansCount }}</i> 粉丝数</span>\n        <span v-if="userArticleCountVo.newsViewCount > 0"><i>{{ userArticleCountVo.newsViewCount }}</i> 总阅读</span>\n        <span v-if="!!userArticleCountVo.articalPraiseCount"><i>{{ userArticleCountVo.articalPraiseCount }}</i>被赞</span>\n        <span v-if="!!userCommonCountVo.videoCount"><i>{{ userCommonCountVo.videoCount }}</i>视频</span>\n    </div>\n</header>\n<div class="user--noData" v-else>\n    该用户已注销\n</div>\n',created:function(){this.getData()},methods:{openVip:function(e){console.log(e),1200==e.parentCode&&window.open("https://996.pm/YP38J")},subauthor:function(e){var t=this;if(!PURE.is_user_logged_in)return this.$parent.showLogin=!0;this.status?axios.post(WEN_API_BASE+"/api/userRelation/unFollow.html?friendUid="+e).then(function(){t.$emit("update:status",!1),t.$message.success("取消关注成功")}):axios.post(WEN_API_BASE+"/api/userRelation/follow.htm?friendUid="+e).then(function(){t.$emit("update:status",!0),t.$message.success("关注成功")})},getData:function(){var t=this;this.userLoading=!0;axios({url:"/api2/user/profile",method:"get",params:{uid:this.id}}).then(function(e){200==e.data.CODE&&(t.info=e.data.RESULT.userInfoVo,-3==t.info.state&&(t.$message.error("该用户已注销"),document.querySelector(".container.u-centered").style.display="none"),t.userArticleCountVo=e.data.RESULT.userArticleCountVo,t.userCommonCountVo=e.data.RESULT.userCommonCountVo,t.userBadgeList=e.data.RESULT.userRoleInfo.userBadgeList,e.data.RESULT.userTags)&&(t.userTags=JSON.parse(e.data.RESULT.userTags)),t.userLoading=!1})}}}),WidgetBookList=Vue.component("widget-book-list",{name:"widgetbooks",data:function(){return{list:[]}},created:function(){this.getData()},methods:{getData:function(){var t=this;axios.get("/tensorflow/book/recommend_list").then(function(e){t.list=e.data.result,t.$nextTick(function(){jQuery(".widget-book-slider").slide({mainCell:".widget-book-list",titCell:".supernice li",effect:"left",interTime:3700,autoPlay:!0})})})}},template:'\n    <div class="inner widget-book-slider">\n                <div class="widget-title"><span>好书推荐</span>\n                    <div class="u-floatRight btn"><a href="/books" target="_blank">查看更多</a></div>\n                </div><div class="widget-book-list">\n                <div class="widget-book-item" v-for="item,index in list" :key="index">\n                                <a :href="item.link" class="img" target="_blank">\n                                    <img :src="item.cover">\n                                </a>\n                                <div class="content">\n                                    <div class="t"><a :href="item.link" target="_blank">{{ item.name }}</a></div>\n                                    <div class="des">{{ item.descriptio                </div>\n                   v>\n                </div>\n    <ul class="supernice">\n        <li v-for="item,index in list" :key="index"></li>\n   Vue.component("book-list",{name:"books",data:function(){return{list:[]}},created:function(){this.getData()},mounted:function(){},methods:{getData:function(){var t=this;axios.get("/tensorflow/book/all").then(function(e){t.list=e.data.result.filter(function(e){return 0<e.books.length}),t.$nextTick(function(){function e(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,t=Math.round(t),n=0;a.each(function(){var e=i(this).attr("href"),e=i(e);0<e.length&&e.offset().top-100<=t&&(n=a.index(this))}),a.removeClass("active"),a.eq(n).addClass("active")}var i,t,a;console.log("bookmark init"),i=jQuery,(a=i('.u-booknav li a[href^="#"]')).length<1||(e(),i(window).on("scroll",e)),(t=i('[href^="#"]')).length<1||t.on("click",function(){var e=i(this).attr("href"),e=i(e);if(0<e.length)return console.log(e),e=e.offset(),i("html,body").animate({scrollTop:e.top-90},200),!1})})})}},template:'<div class="y-width1080 u-clearfix article_books">\n    <div class="u-booknav">\n                    <ul>\n                    <li v-for="item,index in list" :key="index">\n                                <a :href="\'#cat-\' + item.id">\n                                    {{ item.name }}</a>\n                            </li>\n                                            </ul>\n                </div>\n        <div class="u-backgroundColorWhite u-rounded u-marginBottom20" v-for="item,index in list" :key="index" :id="\'cat-\' + item.id">\n            <header class="jl-book-header"><h2 class="jl-book-title--hero">{{ item.name }}</h2></header>\n            <div class="books">\n            <a class="book" :href="book.link" target="_blank" v-for="book in item.books" :key="book.id">\n                                            <img :src="book.cover" />\n                                            <div class="text">{{ book.name }}</div>\n                                            <div class="desc">{{ book.description }}</div>\n                                            <div class="item-btns">京东购书</div>\n                                        </a>\n            </div>\n        </div>\n    </div>\n    '}),categoryCard=Vue.component("category-card-list",{data:function(){return{caame:"全部",slug:"all"},{name:"线上课程",slug:"online"},{name:"线下课程",slug:"offline"},{name:"活动",slug:"event"},{name:"公开课",slug:"open"}],activePaged:1,activeTotal:0,activePerPage:12,loading:!1}},created:function(){this.getEvents()},watch:{categoryType:function(){this.activePaged=1,this.getEvents()}},methods:{handleCurrentCEvents()},getEvents:function(){var t=this;this.loading=!0,axios.get("/__api/v3/posts/event",{params:{post_type:this.categoryType,paged:this.activePaged,cat:7146}}).then(function(e){t.categoryPosts=e.data.payload.posts.map(function(e){return e.title=e.title.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)}),e}),t.activeTotal=parseInt(e.data.payload.total),t.loading=!1})},switchCategory:function(e){this.categoryType=e}},template:'\n    \n    <section>\n    <div class="active--nav u-shadowed">\n            <span v-for="item in categories" :key="item.slug" @click="switchCategory(item.slug)"  :class="{active: item.slug == categoryType}">{{ item.name }}</span>\n        </div>\n        <div class="active--cardList" v-loading="loading">\n        <div class="active-item u-backgroundColorWhite u-shadowed active-item__narrow" v-for="post in categoryPosts" :key="post.id">\n        <a :href="post.permalink" target="_blank" class="active--image"><img :src="post.image + \'!/both/670x406\'"></a>\n        <div class="content">\n            <h2 class="post-title">\n                <a :href="post.permalink" target="_blank">{{ post.title }}</a>\n            </h2>\n            <div class="meta">\n                <div class="date"><svg class="icon" viewBox="0 0 1024 1024" width="20" height="20">\n                        <path d="M512 838.01c-179.76 0-326.01-146.24-326.01-326.01S332.23 185.99 512 185.99 838.01 332.23 838.01 512 691.76 838.01 512 838.01z m0-573.78c-136.62 0-247.77 111.15-247.77 247.77S375.38 759.77 512 759.77 759.77 648.62 759.77 512 648.62 264.23 512 264.23z" p-id="2700"></path>\n                        <path d="M647.62 629.36h-161.7c-21.6 0-39.12-17.52-39.12-39.12V381.6c0-21.6 17.52-39.12 39.12-39.12 21.6 0 39.12 17.52 39.12 39.12v169.52h122.58c21.6 0 39.12 17.52 39.12 39.12s-17.52 39.12-39.12 39.12z" p-id="2701"></path>\n                    </svg>{{ post.eventdate }}</div>\n                <div class="address"><svg class="icon" viewBox="0 0 1024 1024" width="20" height="20">\n                        <path d="M511.826 853.5c-21.65 0-42.38-7.55-59.14-21.69-4.02-3.36-7.64-7.03-11-11-61.97-73.23-197.88-271.11-197.88-381.92-0.09-71.62 27.76-139 78.38-189.71 50.63-50.67 117.97-78.64 189.63-78.69h0.26c147.86 0.09 268.14 120.5 268.1 268.4 0 110.77-135.9 308.64-197.92 381.92-15.8 18.77-37.97 30.24-62.45 32.34-2.66 0.22-5.32 0.35-7.98 0.35z m0.04-615.97c-53.72 0.04-104.26 20.99-142.23 59.05-37.97 38.01-58.83 88.55-58.79 142.27 0 76.59 106.01 248.85 182.03 338.67 8.16 7.38 15.01 9.65 21.21 8.82 6.63-0.57 12.66-3.67 16.98-8.77 76.07-89.86 182.08-262.16 182.08-338.67 0.04-110.98-90.21-201.28-201.15-201.37h-0.13z" p-id="2857"></path>\n                        <path d="M512.086 558.35c-35.87 0-69.61-13.97-94.97-39.32-25.4-25.4-39.41-59.14-39.41-95.05 0-74.15 60.27-134.46 134.33-134.46h0.13c74.06 0 134.33 60.23 134.38 134.33 0.04 35.92-13.92 69.7-39.32 95.1-25.4 25.4-59.14 39.41-95.05 39.41-0.04-0.01-0.09-0.01-0.09-0.01z m0-201.81c-37.14 0-67.34 30.24-67.34 67.38 0 18.02 7.03 34.96 19.77 47.66 12.7 12.74 29.59 19.73 47.57 19.73h0.04c18.02 0 34.96-7.03 47.66-19.73 12.74-12.74 19.73-29.68 19.73-47.66-0.04-37.18-30.24-67.38-67.34-67.38h-0.09z" p-id="2858"></path>\n                    </svg>{{ post.eventlocation }}</div>\n                <a :href="post.permalink" class="event-status" target="_blank">查看详情</a>\n            </div>\n        </div>\n    </div>\n        </div>\n        <div class="active--cardNav">\n            <el-pagination v-if="activeTotal > 12" background layout="prev, pager, next" :page-size="activePerPage" :total="activeTotal" :current-page="activePaged" @current-change="handleCurrentChange">\n            </el-pagination>\n        </div>\n    </section>\n    '}),commentReport=Vue.component("comment-report",{props:["id","show"],template:'\n    <el-dialog title="举报" :visible.sync="show" width="30%" :before-close="handleClose" class="report--dialog">\n        <el-form ref="form" :model="form" label-width="80px" size="small" label-position="top">\n            <el-form-item label="举报原因" required prop="reason">\n                <el-radio-group v-model="form.reason" class="report--list">\n                    <el-radio :label="item.code" v-for="item,index in options" class="report--item">{{ item.name }}</el-radio>\n                </el-radio-group>\n            </el-form-item>\n        </el-form>\n        <span slot="footer" class="dialog-footer">\n            <el-button type="primary" @click="handleSubmit"  size="small" :loading="loading">提交</el-button>\n            <el-button @click="handleClose"  size="small">取消</el-button>\n        </span>\n    </el-dialog>\n    ',data:function(){return{loading:!1,options:[],form:{reason:""}}},created:function(){this.getList()},methods:{getList:function(){var t=this;axios({url:"/api2/api/report/type/options",params:{moduleId:302}}).then(function(e){200==e.data.CODE&&(t.options=e.data=this;this.$refs.form.validate(function(e){e&&(t.loading=!0,axios({url:"/api2/api/report",method:"post",data:{moduleId:302,sid:t.id,typeId:t.form.reason}}).then(function(e){200==e.data.CODE?(t.$message.success("举报成功"),t.$emit("update:show",!1)):t.$message.error(e.data.MESSAGE),t.loadite:show",!1)}}}),widgetCoopList=Vue.component("widget-coop-list",{data:function(){return{hotPosts:[],loading:!1,category_list:[],type:"",paged:1}},created:function(){this.getHotPosts()},methods:{getHotPosts:function(){var t=this;this.hotPosts=[],this.loading=!0,axios.get("/tensorflow/coop/recommend").then(function(e){t.hotPosts=e.data.result,t.loading=!1})}},template:'\n    <div class="widget u-backgroundColorWhite">\n    <div class="inner">\n    <div class="widget-title">\n    <span>合作推荐</span>\n    </div>\n    <div class="coop--list">\n                    <div\n                        class="widget--coop--item"\n                        v-for="(item, index) in hotPosts"\n                        :key="index"\n                    >\n                    \n                        <div class="widget--coopContent">\n                        <div class="widget--coopAvatar">\n                    <img :src="item.avatar" class="avatar" />\n                </div>\n                <div>\n                            <div class="user">\n                                <a :href="\'/u/\' + item.user_id" target="_blank" class="cute">{{ item.user_name }}</a>\n                            </div>\n                            <div class="title"><a :href="\'/coop/\' + item.id" target="_blank"><span v-if="item.product_name">【{{ item.product_name }}】</span>{{ item.title }}</a></div>\n                            </div>\n                        </div>\n                        <div class="meta">\n                                <span class="metaContent">{{ item.category_name }}</span>\n                                <span class="metaContent">{{ item.industry_name }}</span>\n                            </div>\n                    </div>\n                </div>\n                </div>\n    </div>\n  \n  '}),coopList=Vue.component("coop-list",{data:function(){return{hotPosts:[],loading:!1,category_list:[],type:"",paged:1}},watch:{type:function(){this.getHotPosts()}},created:function(){this.getHotPosts(),this.getCategoryList()},methods:{formatTime:function(e){e=10===(""+e).length?1e3*parseInt(e):+e;var t=new Date(e),t=(Date.now()-t)/1e3;return t<30?"刚刚":t<3600?Math.ceil(t/60)+"分钟前":t<86400?Math.ceil(t/3600)+"小时前":t<172800?"1天前":parseTime(e,"{y}-{m}-{d}")},getCategoryList:function(){var t=this;axios.get("/tensorflow/coop/categories").then(function(e){t.category_list=[{id:"",name:"全部"}].concat(_toConsumableArray(e.data.result))})},handleTab:function(e){this.type=e,this.getHotPosts()},getHotPosts:function(){var n=this;this.hotPosts=[],this.loading=!0,axios.get("/tensorflow/coop/feed?paged="+(this.paged-1)+"&category="+this.type).then(function(e){n.hotPosts=e.data.result.map(function(e){var t=new Date(e.refresh_time),t=(e.refresh_time=n.formatTime(t.getTime()),new Date(e.update_time));return e.update_time=parseTime(t.getTime(),"{y}-{m}-{d}"),e}),n.loading=!1})}},template:'\n    <section>\n    <nav class="hot-post-nav">\n        <span class="hot-post-nav-item" v-for="item in category_list" :class="{active: type === item.id}" @click="handleTab(item.id)">{{ item.name }}</span>\n    </nav>\n    <div class="coop--list">\n                    <div\n                        class="coop--item u-shadowed u-rounded"\n                        v-for="(item, index) in hotPosts"\n                        :key="index"\n                    >\n                    <div class="coop--itemAvatar">\n                    <img :src="item.avatar" class="avatar" />\n                    <a :href="\'/coop/\' + item.id" target="_blank" class="coop--itemLink">联系</a>\n                </div>\n                        <div class="coop--itemContent">\n                            <div class="user">\n                                <a :href="\'/u/\' + item.user_id" target="_blank" class="cute">{{ item.user_name }}</a> <span class="dot"></span>{{ item.corp_name }} \n                                {{ item.job }}\n                                <div class="u-marginLeftAuto coop--areaMeta">\n                                    <span class="el-icon el-icon-location-outline"></span><span\n                                    class="coop--location"\n                                        v-for="location in item.locations"\n                                        :key="location"\n                                        >{{ location }}</span\n                                    >\n                                </div>\n                            </div>\n                            <div class="user user--desc">{{ item.descripiton }}</div>\n                            <div class="title"><a :href="\'/coop/\' + item.id" target="_blank"><span v-if="item.product_name">【{{ item.product_name }}】</span>{{ item.title }}</a></div>\n                            <div class="meta">\n                                <span class="metaContent">需求类型:{{ item.category_name }}</span>\n                                <span class="metaContent">行业:{{ item.industry_name }}</span>\n                                <span class="metaContent">更新时间:{{ item.update_time }}</span>\n                                <div class="u-marginLeftAuto">\n                                    {{ item.view_count }} 次浏览<span class="dot"></span\n                                    >{{ item.refresh_time }}顶过\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <el-empty v-if="hotPosts.length === 0 && !loading" description="暂无数据"></el-empty>\n                <div class="block--action"><div class="loadmore u-rounded"><a href="/cooperations" target="_blank">查看更多</a></div></div>\n    </section>\n  \n  '}),CoopItem=Vue.component("coop-item",{name:"coop-item",props:["id"],data:function(){return{detail:"",current_user_id:PURE.uting:!1,form:{company:"",job:"",contact_mail:"",contact_phone:"",contact_wechat:""},hasInfo:!1,rules:{company:[{required:!0,message:"请输入公司名称",trigger:"blur"}],job:[{required:!0,message:"请输入职位",trigger:"blur"}],contact_phone:[{reqer:"blur"}],contact_wechat:[{required:!0,message:"请输入微信",trigger:"blur"}],contact_mail:[{required:!0,message:"请输入邮箱",trigger:"blur"}]}}},created:function(){this.checkInfo(),this.getData()},methods:{bookmarkCoop:function(){var t=this;if(!PURE.is_user_logged_in)return this.$parent.showLogin=!0;this.detail.is_bookmark=!this.detail.is_bookmark,axios({url:"/tensorflow/coop/"+this.id+"/bookmark",method:"post",data:{user_id:PURE.user_id}}).then(function(e){t.$message.success("操作成功")})},checkInfo:function(){var t=this;axios.get("/tensorflow/coop/check?user_id="+PURE.user_id).then(function(e){e.data.result.contact&&(t.form.contact_mail=e.data.result.contact.contact_mail,t.form.contact_phone=e.data.result.contact.contact_phone,t.form.contact_wechat=e.data.result.contact.contact_wechat),t.hasInfo=e.data.result.user.corp_name&&e.data.result.user.job,t.form.company=e.data.result.user.corp_name,t.form.job=e.data.result.user.job})},showcontactCoop:function(){if(!PURE.is_user_logged_in)return this.$parent.showLogin=!0;this.infoDialogVisible=!0},contactCoop:function(e){var t=this;if(!PURE.is_user_logged_in)return this.$parent.showLogin=!0;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.submiting=!0,axios({url:"/tensorflow/coop/"+t.id+"/contact",method:"post",data:{user_id:PURE.user_id,corp_name:t.form.company,job:t.form.job,contact_mail:t.form.contact_mail,contact_phone:t.form.contact_phone,contact_wechat:t.form.contact_wechat}}).then(function(e){t.getData(),t.$message.success("联系成功"),t.infoDialogVisible=!1})})},getData:function(){var t=this;axios.get("/tensorflow/coop/"+this.id+"?user_id="+PURE.user_id).then(function(e){e=e.data.result;t.detail=e,t.$nextTick(function(){document.title=t.detail.title+" - "+document.title})})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.submiting=!0,axios({method:"patch",url:"/api2/user/info",params:{company:t.form.company,job:t.form.company,nickName:t.$parent.userInfo.nickName,description:t.$parent.userInfo.description,avatar:t.$parent.userInfo.avartar}}).then(function(e){200==e.data.CODE?(t.infoDialogVisible=!1,t.$parent.fetchUserInfo()):(t.$message.error(e.data.MESSAGE),t.submiting=!1)})})}},template:'<div class="home--questionCards u-shadowed u-rounded">\n    <header class="coop--header">\n    <div class="coop--title"><span v-if="detail.product_name">【{{ detail.product_name }}】</span>{{ detail.title }}</div>\n    <div class="inner">\n        <img :src="detail.user_avatar" class="support--avatar" />\n        <div>\n            <div><a :href="\'/u/\' + detail.user_id" target="_blank" class="cute">{{ detail.user_name }}</a><span class="dot"></span>{{ detail.corp_name }}\n            {{ detail.job }}</div>\n            <div>{{ detail.user_description }}</div>\n        </div>\n    </div>\n    <el-descriptions>\n        <el-descriptions-item label="所属行业">{{\n            detail.industry_name\n        }}</el-descriptions-item>\n        <el-descriptions-item label="有效时间">{{\n            detail.terminal_time\n        }}</el-descriptions-item>\n        <el-descriptions-item label="合作地区">\n            <span v-for="location in detail.locations" :key="location" class="coop--location">{{ location }}</span>\n        </el-descriptions-item>\n        <el-descriptions-item label="浏览量">{{ detail.view_count }}</el-descriptions-item>\n        <el-descriptions-item label="需求类型">{{\n            detail.category_name\n        }}</el-descriptions-item>\n    </el-descriptions>\n</header>\n<div class="coop--content">\n    <h3>我提供</h3>\n    <div>{{ detail.support_content }}</div>\n    <el-image\n        style="width: 100px; height: 100px"\n        v-for="(item, index) in detail.media"\n        :src="item"\n        :zoom-rate="1.2"\n        :preview-src-list="detail.media"\n        :initial-index="index"\n        fit="cover"\n    />\n    <h3>我需要</h3>\n    <div>{{ detail.need_content }}</div>\n    <el-image\n        style="width: 100px; height: 100px"\n        v-for="(item, index) in detail.need_media"\n        :src="item"\n        :zoom-rate="1.2"\n        :preview-src-list="detail.need_media"\n        :initial-index="index"\n        fit="cover"\n    />\n</div>\n<div class="coop--content" v-if="detail.is_contact || detail.user_id == current_user_id">\n    <el-descriptions title="联系方式">\n        <el-descriptions-item label="电话">{{ detail.contact_phone }}</el-descriptions-item>\n        <el-descriptions-item label="微信">{{\n            detail.contact_wechat\n        }}</el-descriptions-item>\n        <el-descriptions-item label="邮箱">{{ detail.contact_mail }}</el-descriptions-item>\n    </el-descriptions>\n</div>\n<div class="coop--content">\n            <el-button type="primary" @click="showcontactCoop" v-if="!detail.is_contact && detail.user_id != current_user_id" size="mini" :looading="loading"\n                >联系</el-button\n            >\n            <el-button type="primary" @click="bookmarkCoop" size="mini" v-if="detail.user_id != current_user_id" >{{\n                detail.is_bookmark ? \'已收藏\' : \'收藏\'\n            }}</el-button>\n        </div>\n        <div class="coop--notice">\n            <span class="el-icon-warning"></span>安全提示：以上信息由发布者本人提交，平台无法保证信息100%真实性，建议合作前充分了解对方并签署协议，如遭遇合作问题，请联系客服。\n        </div>\n        <el-dialog :visible.sync="infoDialogVisible" title="完善个人信息" width="500px" >\n        <div class="contact--note">请填写你的个人信息进行交换名片。</div>\n            <el-form :model="form" size="small" ref="userInfo" label-width="80px" :rules="rules">\n            <template v-if="!hasInfo">\n                <el-form-item label="公司名称" prop="company" >\n                    <el-input v-model="form.company" maxlength=24 show-word-limit></el-input>\n                </el-form-item>\n                <el-form-item label="职位" prop="job" >\n                    <el-input v-model="form.job" maxlength=12 show-word-limit></el-input>\n                </el-form-item>\n                </template>\n                <el-form-item label="电话" prop="contact_phone" >\n                    <el-input v-model="form.contact_phone"></el-input>\n                </el-form-item>\n                <el-form-item label="微信" prop="contact_wechat" >\n                    <el-input v-model="form.contact_wechat"></el-input>\n                </el-form-item>\n                <el-form-item label="邮箱"  prop="contact_mail" >\n                    <el-input v-model="form.contact_mail"></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type="primary" @click="contactCoop(\'userInfo\')" :loading="submiting">提交</el-button>\n                    <el-button @click="infoDialogVisible = false">取消</el-button>\n                </el-form-item>\n        </el-dialog>\n  </div>'}),userCoop=Vue.component("user-coop-list",{data:function(){return{loading:!1,myBookmarks:[],myBookmarksTotal:0,myBookmarksPaged:1,bookmarkType:"bookmark",userBookmarkNav:[{name:"我的发布",slug:"bookmark"},{name:"我的收藏",slug:"topic"},{name:"我的联系",slug:"question"},{name:"联系我的",slug:"answer"}]}},template:'\n    <section>\n    <div class="userNavTab">\n        <span\n            v-for="item in userBookmarkNav"\n            :key="item.slug"\n            @click="switchBookmarkStatus(item.slug)"\n            :class="{ current: item.slug == bookmarkType }"\n            class="userNavTab--item"\n            >{{ item.name }}</span\n        >\n        <a href="/usercoopcreate" target="_blank" class="u-marginLeftAuto el-icon-circle-plus-outline coop--createLink">发布</a>\n    </div>\n    <div class="user-main-content" v-loading="loading">\n    <div class="coop--list" v-if="bookmarkType == \'bookmark\'">\n    <div class="coop--item" v-for="(item, index) in myBookmarks" :key="index">\n    <div class="coop--itemContent">\n    <div class="user">\n    <div class="coop--areaMeta">\n    <span class="el-icon el-icon-location-outline"></span><span\n    class="coop--location"\n        v-for="location in item.locations"\n        :key="location"\n        >{{ location }}</span\n    >\n</div>\n        <div class="u-marginLeftAuto">\n                        <span class="coop--status">{{ item.status_name }}</span>\n                        <el-link\n                            @click.stop="offlineCoop(item)"\n                            v-if="item.status == \'published\'"\n                            type="primary"\n                            class="u-marginLeft10"\n                            >下线</el-link\n                        >\n                        <el-link\n                            @click.stop="refreshCoop(item)"\n                            v-if="item.status == \'published\'"\n                            class="u-marginLeft10"\n                            type="primary"\n                            :disabled="item.refresh_enable"\n                            >刷新</el-link\n                        >\n                        <el-link\n                            @click.stop="onlineCoop(item)"\n                            type="primary"\n                            class="u-marginLeft10"\n                            v-if="item.status == \'offline\' || item.status == \'draft\'"\n                            >上线</el-link\n                        >\n                        <el-link\n                            :href="\'/coop/\' + item.id"\n                            type="primary"\n                            v-if="item.status == \'published\'"\n                            class="u-marginLeft10"\n                            target="_blank"\n                            >查看</el-link\n                        >\n                        <el-link\n                            :href="\'/usercoopcreate?coop_id=\' + item.id"\n                            type="primary"\n                            class="u-marginLeft10"\n                            target="_blank"\n                            >编辑</el-link\n                        >\n                    </div>\n    </div>\n    <div class="title"><a :href="\'/coop/\' + item.id" target="_blank" ><span v-if="item.product_name">【{{ item.product_name }}】</span> {{ item.title }}</a></div>\n    <div class="meta">\n        <span class="metaContent">需求类型:{{ item.category_name }}</span>\n        <span class="metaContent">行业:{{ item.industry_name }}</span>\n        <span class="metaContent">发布时间:{{ item.create_time }}</span>\n        <div class="u-marginLeftAuto" v-if="item.status == \'published\'">\n            {{ item.view_count }} 次浏览<span class="dot"></span\n            >{{ item.refresh_time }}顶过\n        </div>\n    </div>\n</div>\n    </div>\n</div>\n<div class="coop--list" v-else-if="bookmarkType == \'answer\'">\n<div class="coop-follower--item" v-for="(item, index) in myBookmarks" :key="index">\n<div class="coop--itemContent">\n    <div class="title"><a :href="\'/coop/\' + item.coop.id" target="_blank" >{{ item.coop.title }}</a></div>\n    <div class="user">\n                    <img :src="item.target_user_avatar" class="" width="24" />\n                    <a :href="\'/u/\' + item.user_id" target="_blank" class="cute">{{ item.target_user_name }}</a> <span class="dot"></span>{{ item.create_time }}\n                </div>\n                <div class="meta">\n                    <div>\n                        {{ item.target_user_corp_name }} -\n                        {{ item.target_user_job }}\n                        <div class="user">{{ item.descripiton || \'该用户暂无描述\' }}</div>\n                    </div>\n                    <div class="contact--info u-marginLeftAuto">\n                        <div>联系电话:{{ item.contact_phone }}</div>\n                        <div>联系微信:{{ item.contact_wechat }}</div>\n                        <div>联系邮箱:{{ item.contact_mail }}</div>\n                    </div>\n                </div>\n</div>\n</div>\n</div>\n<div class="coop--list" v-else>\n<div class="coop--item" v-for="(item, index) in myBookmarks" :key="index">\n<div class="coop--itemAvatar">\n                    <img :src="item.target_user_avatar" class="avatar" />\n                    <a :href="\'/coop/\' + item.coop.id" target="_blank" class="coop--itemLink">联系</a>\n                </div>\n            <div class="coop--itemContent">\n            <div class="user">\n                {{ item.target_user_name }} <span class="dot"></span\n                >{{ item.target_user_corp_name }}\n                {{ item.target_user_job }}\n                <div class="u-marginLeftAuto coop--areaMeta">\n                <span class="el-icon el-icon-location-outline"></span><span\n                class="coop--location"\n                    v-for="location in item.coop.locations"\n                    :key="location"\n                    >{{ location }}</span\n                >\n                </div>\n            </div>\n            <div class="user">{{ item.descripiton }}</div>\n            <div class="title">\n            <a :href="\'/coop/\' + item.coop.id" target="_blank" >\n                <span v-if="item.coop.product_name">【{{ item.coop.product_name }}】</span> {{ item.coop.title }}</a>\n            </div>\n            <div class="meta">\n                <span class="metaContent">需求类型:{{ item.coop.category_name }}</span>\n                <span class="metaContent">行业:{{ item.coop.industry_name }}</span>\n                <span class="metaContent">{{ bookmarkType == \'question\' ? \'联系时间\' : \'收藏时间\'}}:{{ item.create_time }}</span>\n            </div>\n           bookmarkType == \'question\'">\n                <div>联系电话:{{ item.coop.contact_phone }}</div>\n                <div>联系微信:{{ item.coop.contact_wechat }}</div>\n                <div>联系邮箱:{{ item.coop.contact_mail }}</div>\n            </div>\n            <el-link @click.stop="deleteBookmark(item)" type="primary" v-if="bookmarkType == \'topic\'">取消收藏</el-link>\n        </div>\n  ength == 0 && !loading" description="暂无数据"></el-empty>\n    </div>\n    <div class="active--cardNav u-marginTop30">\n        <el-pagination\n            v-if="myBookmarksTotal > 15"\n            background\n            layout="prev, pager, next"\n            :page-size="15"\n            :total="myBookmarksTotal"\n            :current-page="myBookmarksPaged"\n            @current-change="handleBookmarkCurrentChange"\n        >\n        </el-pagination>\n    </div>\n</section>\n \n  ',created:function(){this.getMyBookmarks()},watch:{bookmarkType:function(){this.myBookmarksPaged=1,this.myBookmarks=[],this.myBookmarksTotal=0,this.getMyBookmarks()}},methods:{deleteBookmark:function(e){var t=this;axios({url:"/tensorflow/coop/"+e.coop_id+"/bookmark",method:"post",data:{user_id:PURE.user_id}}).then(function(e){0!=e.data.code?t.$message.error(e.data.message):t.$message.success("取消收藏成功"),t.getMyBookmarks()})},handleBookmarkCurrentChange:function(e){this.myBookmarksPaged=e,this.getMyBookmarks()},getMyBookmarks:function(){var t=this;this.loading=!0,"topic"==this.bookmarkType?axios.get("/tensorflow/coop/user/bookmarks",{params:{page:this.myBookmarksPaged-1}}).then(function(e){t.loading=!1,t.myBookmarks=e.data.result,t.myBookmarksTotal=e.data.total}):"question"==this.bookmarkTyer/contacts",{params:{page:this.myBookmarksPaged-1}}).then(function(e){t.loading=!1,t.myBookmarks=e.data.result,t.myBookmarksTotal=e.data.total}):"answer"==this.bookmarkType?axios.get("/tensorflow/coop/user/followers",{params:{page:this.myBookmarksPaged-1}}).then(function(e){t.loading=!1,t.myBookmarks=e.data.result,t.myBookmarksTotal=e.data.total}):axios.get("/tensorflow/coop/user/coops",{params:{page:this.myBookmarksPaged-1}}).then(function(e){t.loading=!1,t.myBookmarks=e.data.result.map(function(e){var t=new Date(e.refresh_time),t=(e.refresh_time=formatTime(t.getTime()),e.refresh_enable=t.getDate()+1>(new Date).getDate(),new Date(e.create_time));switch(e.create_time=parseTime(t.getTime(),"{y}-{m}-{d}"),e.status){case"pending":e.status_name="待审核";break;case"rejected":e.status_name="审核未通过";break;case"offline":e.status_name="已下线";break;case"published":e.status_name="已发布";break;case"draft":e.status_name="草稿"}return e}),t.myBookmarksTotal=e.data.total})},switchBookmarkStatus:function(e){this.bookmarkType=e},refreshCoop:function(t){var n=this;axios({url:"/tensorflow/coop/"+t.id+"/refresh",method:"post",data:{user_id:PURE.user_id}}).then(function(e){0==e.data.code?(t.status="offline",n.$message.success("刷新成功")):n.$message.error(e.data.message)})},offlineCoop:function(t){var n=this;axios({url:"/tensorflow/coop/"+t.id+"/offline",method:"post",data:{user_id:PURE.user_id}}).then(function(e){0==e.data.code?(t.status="offline",t.status_name="已下线",n.$message.success("下线成功")):n.$message.error(e.data.message)})},onlineCoop:function(t){var n=this;axios({url:"/tensorflow/coop/"+t.id+"/online",method:"post",data:{user_id:PURE.user_id}}).then(function(e){0==e.data.code?(t.status="pending",t.status_name="待审核",n.$message.success("上线成功，待审核。")):n.$message.error(e.data.message)})}}}),coopCreate=Vue.component("coop-create",{props:["id"],data:function(){return{rules:{title:[{required:!0,message:"请填写需求名称",trigger:"blur"}],locations:[{required:!0,message:"请选择合作区域",trigger:"blur"}],job:[{required:!0,message:"请填写您的职位名称",trigger:"blur"}],corp_name:[{required:!0,message:"请填写您的公司名称",trigger:"blur"}],support_content:[{required:!0,message:"请填写我能提供的内容",trigger:"blur"}],need_content:[{required:!0,message:"请填写你的需求内容",trigger:"blur"}],terminal_time:[{required:!0,message:"请选择截止时间",trigger:"blur"}],industry:[{required:!0,message:"请选择行业",trigger:"blur"}],category:[{required:!0,message:"请选择需求分类",trigger:"blur"}],contact_phone:[{required:!0,message:"请填写手机号",trigger:"blur"}],contact_mail:[{required:!0,message:"请填写邮箱",trigger:"blur"}],contact_wechat:[{required:!0,message:"请填写微信号",trigger:"blur"}]},users:[],total:0,paged:1,loading:!1,search:"",visible:!1,manageVisible:!1,catename:"",current:{id:0,title:"",support_content:"",need_content:"",terminal_time:"",industry:"",media:[],need_media:[],user_id:0,contact_phone:"",contact_wechat:"",contact_mail:"",category:"",product_name:"",corp_name:"",job:"",locations:[],view_count:0},category_list:[],category:"",newning:!1,recommend:"",status:[{label:"已过期",value:"expired"},{label:"未通过",value:"rejected"},{label:"待审核",value:"pending"},{label:"已发布",value:"publish"},{label:"全部",value:""}],industries:[],industry:"",options:[{label:"热门地区",options:[{value:"全国",label:"全国"},{value:"北京市",label:"北京市"},{value:"上海市",label:"上海市"},{value:"广东省",label:"广东省"},{value:"安徽省",label:"安徽省"}]},{label:"更多",options:[{value:"北京市",label:"北京市"},{value:"天津市",label:"天津市"},{value:"上海市",label:"上海市"},{value:"重庆市",label:"重庆市"},{value:"河北省",label:"河北省"},{value:"山西省",label:"山西省"},{value:"辽宁省",label:"辽宁省"},{value:"吉林省",label:"吉林省"},{value:"黑龙江省",label:"黑龙江省"},{value:"江苏省",label:"江苏省"},{value:"浙江省",label:"浙江省"},{value:"安徽省",label:"安徽省"},{value:"福建省",label:"福建省"},{value:"江西省",label:"江西省"},{value:"山东省",label:"山东省"},{value:"河南省",label:"河南省"},{value:"湖北省",label:"湖北省"},{value:"湖南省",label:"湖南省"},{value:"广东省",label:"广东省"},{value:"海南省",label:"海南省"},{value:"四川省",label:"四川省"},{value:"贵州省",label:"贵州省"},{value:"云南省",label:"云南省"},{value:"陕西省",label:"陕西省"},{value:"甘肃省",label:"甘肃省"},{value:"青海省",label:"青海省"},{value:"台湾省",label:"台湾省"},{value:"内蒙古",label:"内蒙古"},{value:"广西",label:"广西"},{value:"西藏",label:"西藏"},{value:"宁夏",label:"宁夏"}]}]}},created:function(){this.getIndustries(),this.getCategoryList(),this.id?this.getCoop():this.checkInfo()},methods:{checkInfo:function(){var t=this;axios.get("/tensorflow/coop/check?user_id="+PURE.user_id).then(function(e){e.data.result.contact&&(t.current.contact_mail=e.data.result.contact.contact_mail,t.current.contact_phone=e.data.result.contact.contact_phone,t.current.contact_wechat=e.data.result.contact.contact_wechat),t.current.corp_name=e.data.result.user.corp_name,t.current.job=e.data.result.user.job})},getCoop:function(){var t=this;axios({url:"/tensorflow/coop/"+this.id+"?edit=true&user_id="+PURE.user_id}).then(function(e){0==e.data.code&&(t.current=e.data.result)})},handleMediaImage:function(e,t){0==e.code?this.current[t].push(e.result[0].url):this.$message.error(e.message)},handleRemove:function(){},handlePictureCardPreview:function(){},getIndustries:function(){var t=this;axios({url:"/tensorflow/coop/industries"}).then(function(e){t.industries=e.data.result})},getCategoryList:function(){var t=this;axios({url:"/tensorflow/coop/categories"}).then(function(e){t.category_list=e.data.result})},updateNews:function(){var t=this;this.$refs.coopform.validate(function(e){if(!e)return t.$message.error("请填写完整信息"),!1;t.current.id?"published"==t.current.status?t.$confirm("修改后需要重新审核，确定要修改吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.loading=!0,axios({url:"/tensorflow/coop/"+t.current.id,method:"put",data:{title:t.current.title,support_content:t.current.support_content,need_content:t.current.need_content,terminal_time:t.current.terminal_time,industry:Array.isArray(t.current.industry)?t.current.industry[1]:t.current.industry,media:t.current.media,need_media:t.current.need_media,user_id:t.current.user_id,contact_mail:t.current.contact_mail,contact_phone:t.current.contact_phone,contact_wechat:t.current.contact_wechat,product_name:t.current.product_name,category:t.current.category,corp_name:t.current.corp_name,job:t.current.job,location:t.current.locations,view_count:t.current.view_count}}).then(function(e){0===e.data.code?(t.$message.success("修改成功，等待审核"),window.location.href="/usercoop"):(t.$message.error(e.data.message),t.loading=!1)})}):(t.loading=!0,axios({url:"/tensorflow/coop/"+t.current.id,method:"put",data:{title:t.current.title,support_content:t.current.support_content,need_content:t.current.need_content,terminal_time:t.current.terminal_time,industry:Array.isArray(t.current.industry)?t.current.industry[1]:t.current.industry,media:t.current.media,need_media:t.current.need_media,user_id:t.current.user_id,contact_mail:t.current.contact_mail,contact_phone:t.current.contact_phone,contact_wechat:t.current.contact_wechat,product_name:t.current.product_name,category:t.current.category,corp_name:t.current.corp_name,job:t.current.job,location:t.current.locations,view_count:t.current.view_count}}).then(function(e){0===e.data.code?(t.$message.success("修改成功，等待审核"),window.location.href="/usercoop"):(t.$message.error(e.data.message),t.loading=!1)})):(t.loading=!0,axios({url:"/tensorflow/coop/create",method:"post",data:{title:t.current.title,support_content:t.current.support_content,need_content:t.current.need_content,terminal_time:t.current.terminal_time,industry:t.current.industry[1],media:t.current.media,need_media:t.current.need_media,contact_mail:t.current.contact_mail,contact_phone:t.current.contact_phone,contact_wechat:t.current.contact_wechat,product_name:t.current.product_name,category:t.current.category,corp_name:t.current.corp_name,job:t.current.job,location:t.current.locations,view_count:t.current.view_count}}).then(function(e){0===e.data.code?(t.$message.success("新建成功"),window.location.href="/usercoop"):(t.$message.error(e.data.message),t.loading=!1)}))})},handleViewImage:function(e){0==e.code?this.current.cover=e.result[0].url:this.$message.error(e.message)}},template:'\n    <el-form\n        size="small"\n        :model="current"\n        :rules="rules"\n        label-width="100px"\n        ref="coopform"\n        class="u-paddingTop30"\n    >\n        <el-alert\n            title="填写须知：1.填写的合作信息需真实有效且符合法律法规；2.平台会对你填写的信息进行保密。3.填写虚假信息平台将有权追究法律责任"\n            class="u-marginBottom20"\n            type="info"\n        >\n            </el-alert>\n        <el-form-item label="需求名称" prop="title">\n            <el-input\n                v-model="current.title"\n                placeholder="请填写你的需求名称"\n                maxlength="64"\n                show-word-limit\n            ></el-input>\n        </el-form-item>\n        <el-form-item label="合作区域" prop="locations">\n            <el-select v-model="current.locations" placeholder="请选择合作区域" multiple>\n                <el-option-group\n                    v-for="group in options"\n                    :key="group.label"\n                    :label="group.label"\n                >\n                    <el-option\n                        v-for="item in group.options"\n                        :key="item.value"\n                        :label="item.label"\n                        :value="item.value"\n                    />\n                    </el-option-group\n                >\n                </el-select\n            >\n        </el-form-item>\n        <el-form-item label="公司名称" prop="corp_name">\n            <el-input\n                v-model="current.corp_name"\n                placeholder="请填写您的公司全称"\n                maxlength="32"\n                show-word-limit\n            ></el-input>\n        </el-form-item>\n        <el-form-item label="所属行业" prop="industry">\n            <el-cascader\n                :options="industries"\n                :show-all-levels="false"\n                placeholder="请选择行业"\n                class="u-marginLeft15"\n                v-model="current.industry"\n            />\n        </el-form-item>\n        <el-form-item label="职位名称" prop="job">\n            <el-input\n                v-model="current.job"\n                placeholder="请填写您的职位名称"\n                maxlength="32"\n                show-word-limit\n            ></el-input>\n        </el-form-item>\n        <el-form-item label="产品名称">\n            <el-input\n                v-model="current.product_name"\n                placeholder="请填写当前需求对应的产品名称"\n                maxlength="32"\n                show-word-limit\n            ></el-input>\n        </el-form-item>\n        <el-form-item label="我能提供" prop="support_content">\n            <el-input\n                v-model="current.support_content"\n                placeholder="请填写你能给别人提供的价值/资源/内容/合作等"\n                maxlength="512"\n                type="textarea"\n                show-word-limit\n            ></el-input>\n        </el-form-item>\n        <el-form-item label="图片附件">\n            <el-upload\n                action="/tensorflow/oss/upload"\n                :show-file-list="false"\n                name="files"\n                :on-success="(res) => handleMediaImage(res, \'media\')"\n            >\n                <i slot="default" class="el-icon-plus"></i>\n                </el-upload\n            >\n            \n            <div class="image--list">\n                \n                <div class="image--item" v-for="(item, i) in current.media" :key="i">\n                    <img :src="item" width="100"/>\n                    <span\n                        @click="current.media.splice(i, 1)"\n                        class="el-icon-delete"\n                    ></span>\n                    \n                </div>\n                \n            </div>\n        </el-form-item>\n        <el-form-item label="我的需求" prop="need_content">\n            <el-input\n                v-model="current.need_content"\n                placeholder="请填写你希望别人给你提供的价值/资源/内容/合作等"\n                type="textarea"\n                maxlength="512"\n                show-word-limit\n            ></el-input>\n        </el-form-item>\n        <el-form-item label="图片附件">\n            <el-upload\n                action="/tensorflow/oss/upload"\n                :show-file-list="false"\n                name="files"\n                :on-success="(res) => handleMediaImage(res, \'need_media\')"\n            >\n                <i slot="default" class="el-icon-plus"></i>\n            </el-upload>\n            <div class="image--list">\n                <div class="image--item" v-for="(item, i) in current.need_media" :key="i">\n                    <img :src="item" width="100"/><span\n                        @click="current.need_media.splice(i, 1)"\n                        class="el-icon-delete"\n                    ></span>\n                </div>\n            </div>\n        </el-form-item>\n        <el-form-item label="需求有效期" prop="terminal_time">\n            <el-date-picker\n                v-model="current.terminal_time"\n                placeholder="选择截止时间"\n                value-format="yyyy-MM-dd"\n            ></el-date-picker>\n        </el-form-item>\n        <el-form-item label="需求分类" prop="category">\n            <el-select\n                v-model="current.category"\n                placeholder="请选择需求分类"\n                class="u-marginLeft15"\n            >\n                <el-option\n                    v-for="(item, index) in category_list"\n                    :key="index"\n                    :label="item.label"\n                    :value="item.value"\n                ></el-option>\n                </el-select\n            >\n        </el-form-item>\n        <el-form-item label="手机" prop="contact_phone">\n            <el-input\n                v-model="current.contact_phone"\n                placeholder="请填写你的手机号码"\n                maxlength="12"\n                show-word-limit\n            ></el-input>\n        </el-form-item>\n        <el-form-item label="邮箱" prop="contact_mail">\n            <el-input\n                v-model="current.contact_mail"\n                placeholder="请填写你的邮箱"\n                maxlength="36"\n                show-word-limit\n            ></el-input>\n        </el-form-item>\n        <el-form-item label="微信" prop="contact_wechat">\n            <el-input\n                v-model="current.contact_wechat"\n                placeholder="请填写你的微信号"\n                maxlength="24"\n                show-word-limit\n            ></el-input>\n        </el-form-item>\n        <el-form-item>\n            <el-button type="primary" @click="updateNews" :loading="loading">保存</el-button>\n        </el-form-item>\n        </el-form>\n  '}),homeCoopList=Vue.component("home-coop-list",{data:function(){return{hotPosts:[],loading:!1,category_list:[],type:"",paged:1,search:"",category:"",total:0,users:[],recommend_list:[],bannerVisible:!0}},watch:{search:function(){this.paged=1,this.getHotPosts()},category:function(){this.paged=1,this.getHotPosts()},industry:function(){this.paged=1,this.getHotPosts()}},created:function(){this.getHotPosts(),this.getCategoryList()},methods:{goCreate:function(){if(!PURE.is_user_logged_in)return this.$parent.showLogin=!0;window.location.href="/usercoopcreate"},getCategoryList:function(){var t=this;axios.get("/tensorflow/coop/categories").then(function(e){t.category_list=e.data.result})},formatTime:function(e){e=10===(""+e).length?1e3*parseInt(e):+e;var t=new Date(e),t=(Date.now()-t)/1e3;return t<30?"刚刚":t<3600?Math.ceil(t/60)+"分钟前":t<86400?Math.ceil(t/3600)+"小时前":t<172800?"1天前":parseTime(e,"{y}-{m}-{d}")},changePaged:function(e){this.paged=e,this.getHotPosts()},handleTab:function(e){this.type=e,this.getHotPosts()},getHotPosts:function(){var n=this;this.hotPosts=[],this.loading=!0,axios.get("/tensorflow/coop/feed?page="+(this.paged-1)+"&category="+this.category+"&title="+this.search).then(function(e){n.hotPosts=e.data.result.map(function(e){var t=new Date(e.refresh_time),t=(e.refresh_time=n.formatTime(t.getTime()),new Date(e.update_time));return e.update_time=parseTime(t.getTime(),"{y}-{m}-{d}"),e}),n.total=e.data.total,n.loading=!1})},closeBanner:function(){this.bannerVisible=!1,localStorage.setItem("bannerVisible",!1)}},template:'\n    <section class="cooperation-banner">\n    <div class="es-bannerNotice" v-if="bannerVisible">\n        <div class="container">\n        1000个企业推广名额，限时免费开放 <a href="/esapply" target="_blank">立即领取</a>\n        <span class="close" @click="closeBanner">x</span>\n        </div>\n    </div>\n    <header class="hero--standalone">\n    <h2 class="hero-title hero-title__flex"><span><i class="hti">资源置换</i><a class="hti" href="/eslist" target="_blank">优选企服</a></span></h2>\n    <p class="hero-description">发现靠谱合作伙伴，一起双赢，做大做强</p>\n        <p class="hero-description">\n            <input v-model="search" class="hero--search" placeholder="请输入需求搜索" />\n        </p>\n    </header>\n    <div class="container u-relative">\n        <div class="pm--topTopic--list">\n            <div class="cateList">\n                <span class="cateItem" :class="{ active: category == \'\' }" @click="category = \'\'"\n                    >全部</span\n                >\n                <span\n                    v-for="(item, index) in category_list"\n                    :key="index"\n                    class="cateItem"\n                    :class="{ active: category == item.id }"\n                    @click="category = item.id"\n                >\n                    {{ item.label }}\n                </span>\n            </div>\n            <div class="u-marginLeftAuto u-flex0">\n                <div class="esApply--count">共找到{{ total }}条合作</div>\n                <a @click="goCreate" class="esApply--btn">免费发布</a>\n            </div>\n        </div>\n    </div>\n    <section class="container u-marginTop30">\n        <div class="esWrapper">\n            <div class="esWrapper--left">\n                <div class="coop--list" v-loading="loading">\n                    <div\n                        class="coop--item"\n                        v-for="(item, index) in hotPosts"\n                        :key="index"\n                    >\n                        <div class="coop--itemAvatar">\n                            <img :src="item.avatar" class="avatar" />\n                            <a :href="\'/coop/\' + item.id" target="_blank"  class="coop--itemLink">联系</a>\n                        </div>\n                        <div class="coop--itemContent">\n                            <div class="user">\n                            <a :href="\'/u/\' + item.user_id" class="cute" target="_blank">{{ item.user_name }}</a></span\n                                ><span class="dot"></span>{{ item.corp_name }}\n                                {{ item.job }}\n                                <div class="u-marginLeftAuto coop--areaMeta">\n                                    <span class="el-icon el-icon-location-outline"></span><span\n                                    class="coop--location"\n                                        v-for="location in item.locations"\n                                        :key="location"\n                                        >{{ location }}</span\n                                    >\n                                </div>\n                            </div>\n                            <div class="user user--desc">{{ item.descripiton }}</div>\n                            <div class="title"><a :href="\'/coop/\' + item.id" target="_blank"><span v-if="item.product_name">【{{ item.product_name }}】</span>{{ item.title }}</a></div>                            <div class="meta">\n                                <span class="metaContent">需求类型:{{ item.category_name }}</span>\n                                <span class="metaContent">行业:{{ item.industry_name }}</span>\n                                <span class="metaContent">更新时间:{{ item.update_time }}</spans="u-marginLeftAuto">\n                                    {{ item.view_count }} 次浏览<span class="dot"></span\n                                    >{{ item.refresh_time }}顶过\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="coop--navs">\n                    <el-pagination\n                        background\n                        layout="pager"\n                        @current-change="changePaged"\n                        :hide-on-single-page="true"\n                        :total="total"\n                        :page-size="15"\n                    >\n                    </el-pagination>\n                </div>\n                <el-empty v-if="hotPosts.length == 0 && !loading" description="暂无数据"></el-empty>\n            </div>\n            <aside class="u-width335 u-marginLeft20">\n            <div class="widget widget-ad">\n                <a href="/esapply" target="_blank"><img src="https://image.woshipm.com/wp-files/2023/03/NjKCT7vCdMmXXFKcJTTR.png"></a>\n            </div>\n            <div class="widget u-backgroundColorWhite">\n            \n            <div class="esCard">\n                <div class="esCard--title">\n                    平台顾问为您推荐服务商\n                </div>\n                <div class="esCard--desc">\n                平台顾问将根据您的实际需求提供一对一的咨询服务，免费为您匹配最合适的服务商\n                </div>\n                <div class="esCard--action">\n                <el-popover\n  placement="bottom"\n  width="150"\n  trigger="click">\n  <img src="https://wework.qpic.cn/wwpic/147686_fKGbLcBkQ9eTtqE_1677052166/0" width="150" />\n  <span slot="reference" class="esCard--actionItem">推荐优质服务商</span>\n</el-popover>\n                </div>\n                </div>\n            </div>\n            <widget-coop-list />\n            <widget-qrcode-card></widget-qrcode-card>\n            <div class="widget u-backgroundColorWhite">\n                <div class="inner">\n                    <div class="widget-title"><span>快讯</span>\n                        <div class="u-floatRight btn"><a href="/digest" target="_blank">查看更多</a></div>\n                    </div>\n                    <digests></digests>\n                </div>\n            </div>\n            </aside>\n        </div>\n    </section>\n    </section>\n  \n  '}),DigestArchive=Vue.component("digest-archive",{name:"digest-archive",data:function(){return{list:[],total:0,paged:1}},created:function(){this.getData()},computed:{list_date:function(){return _.groupBy(this.list,function(e){return"星期"+parseTime(new Date(e.update_time).getTime(),"{a}  {m}-{d}")})}},methods:{getData:function(){var t=this;axios.get("/tensorflow/digest/list",{params:{page:this.paged-1}}).then(function(e){t.list=[].concat(_toConsumableArray(t.list),_toConsumableArray(e.data.result.map(function(e){var t=e.update_time.split(" ");return e.update_time=t[0]+"T"+t[1],e.date=formatTime(new Date(e.update_time).getTime()),e.show=!1,e.is_fav=!1,e.loading=!1,e})))})},favItem:t.is_fav=!0,axios.put("/tensorflow/digest/"+t.id+"/fav").then(function(e){t.fav_count+=1}))},loadMore:function(){this.paged++,this.getData()},showPoster:function(t){t.loading=!0,axios.get("/tensorflow/digest/"+t.id+"/poster").then(function(e){t.loading=!1,t.show=!t.show})}},template:'<div class="home--questionCards u-shadowed u-rounded">\n    <div class="widget-title"><span class="is-link"><a href="/news">日报</a></span><span>快讯</span></div>\n        <div v-for="(date, name) in list_date" :key="name" class="digest--dateWrap">\n            <div class="digest--date"><span>{{ name }}</span></div>\n            <div v-for="item in date" :key="item.id" class="digest--dateItem">\n                    <div class="title"><a :href="\'/digest/\' + item.id" target="_blank">{{ item.title }}</a></div>\n                    <div class="time">{{ item.date }}<span v-if="item.is_hot">重磅</span></div>\">{{ item.content }}</div>\n                    <div class="action"><el-popover\n                    placement="top-start"\n                    width="200"\n                    trigger="manual"\n                    v-model="item.show"\n                   >\n                   <span class="el-icon-close" @click="item.show = false"></span>\n                   <img v-if="item.show" :src="\'https://star.woshipm.com/poster/qr\' + item.id + \'.jpg\'">\n                   <div class="share--text">扫码微信分享</div>\n                    <el-button slot="reference" :loading="item.loading" type="text" size="large" @click="showPoster(item)" icon="el-icon-share">{{ item.share_c           </el-popover>\n                  <el-button type="text" size="large" @click="favItem(item)" :icon="item.is_fav ? \'el-icon-star-on\' : \'el-icon-star-off\'">{{ item.fav_count }}</el-button>\n                  </div>\n            </div>\n        </div>\n        <div class="u-textAlignCenter">\n        <el-button @click="loadMore" type="primary" size="mini">加载更多</el-button>\n        </div>\n  </div>'}),Digests=Vue.component("digests",{name:"digests",data:function(){return{list:[]}},created:function(){this.getData()},methods:{getData:function(){var t=this;axios.get("/tensorflow/digest/list").then(function(e){t.list=e.data.result.slice(0,3).map(function(e){var t=e.update_time.split(" ");return e.update_time=t[0]+"T"+t[1],e.update_time=formatTime(new Date(e.update_time).getTime()),e.show=!1,e.loading=!1,e})})},favItem:function(t){t.is_fav||(t.is_fav=!0,axios.put("/tensorflow/digest/"+t.id+"/fav").then(function(e){t.fav_count+=1}))},handleMovie:function(e){e.show=!0},handleLeft:function(e){e.show=!1}},template:'<div class="digest--list">\n        <div class="digest--item" v-for="item,index in list" :key="index" @mouseover="handleMovie(item)" @mouseleave="handleLeft(item)">\n                <div class="digest--title"><a :href="\'/digest/\' + item.id" target="_blank">{{ item.title }}</a></div>\n                <div class="digest--time">{{ item.update_time }}</div>\n                <div class="digest--desc" v-if="item.show">\n                <div class="digest--summary">{{ item.content }}<div class="digest--source" v-if="item.content_source"><a :href="item.content_source">{{ item.source_name ? \'来源:\' + item.source_name : \'原文链接\' }}</a></div>\n                <div class="digest--source" v-else-if="item.source_name">来源:{{ item.source_name }}</div></div>\n                </div>\n        </div>\n    </div>\n    '}),DigestItem=Vue.component("digest-item",{name:"digest-item",props:["id"],data:function(){return{detail:"",next:""}},created:function(){this.getData(),this.getNext()},methods:{getData:function(){var n=this;axios.get("/tensorflow/digest/"+this.id).then(function(e){var e=e.data.result,t=(e.show=!1,e.loading=!1,e.is_fav=!1,e.update_time.split(" "));e.update_time=t[0]+"T"+t[1],e.date=formatTime(new Date(e.update_time).getTime()),n.detail=e})},getNext:function(){var n=this;axios.get("/tensorflow/digest/"+this.id+"/next").then(function(e){var e=e.data.result,t=(e.show=!1,e.loading=!1,e.update_time.split(" "));e.update_time=t[0]+"T"+t[1],e.date=formatTime(new Date(e.update_time).getTime()),n.next=e})},favItem:function(t){t.is_fav||(t.is_fav=!0,axios.put("/tensorflow/digest/"+t.id+"/fav").then(function(e){t.fav_count+=1}))},showPoster:function(t){t.loading=!0,axios.get("/tensorflow/digest/"+t.id+"/poster").then(function(e){t.loading=!1,t.show=!t.show})}},template:'<div class="home--questionCards u-shadowed u-rounded">\n    <div class="widget-title"><span>快讯</span></div>\n    <div class="digest--single">\n    <div class="title">{{ detail.title }}</div>\n    <div class="time">{{ detail.date }}<span v-if="detail.is_hot">重磅</span></div>\n    <div class="short">{{ detail.content }}</div>\n    <div class="action" v-if="detail"><el-popover\n    placement="top-start"\n    width="200"\n    trigger="manual"\n    v-model="detail.show"\n   >\n    <span class="el-icon-close" @click="detail.show = false"></span>\n   <img v-if="detail.show" :src="\'https://star.woshipm.com/poster/qr\' + detail.id + \'.jpg\'">\n   <div class="share--text">扫码微信分享</div>\n    <el-button slot="reference" :loading="detail.loading" type="text" size="large" @click="showPoster(detail)" icon="el-icon-share">{{ detail.share_count}}</el-button>\n  </el-popover>\n  <el-button type="text" size="large" @click="favItem(detail)" :icon="detail.is_fav ? \'el-icon-star-on\' : \'el-icon-star-off\'">{{ detail.fav_count }}</el-button>\n\n  </div>\n</div>\n<div v-if="next" class="digest--next">\n<div class="next--title">下一篇</div>\n<div class="title"><a :href="\'/digest/\' + next.id">{{ next.title }}</a></div>\n    <div class="time">{{ next.date }}<span v-if="next.is_hot">重磅</span></div></div>\n  </div>'}),donateButton=Vue.component("donate-button",{props:["author","post_id","avatar"],data:function(){return{forbid:!0}},methods:{checkIsForbid:function(){var t=this,e="/api3/reward/rewardUserList.html?authorId="+this.author+"&newsId="+this.post_id;axios.get(e).then(function(e){200==e.data.CODE&&(t.forbid=e.data.RESULT.isForbidReward)})}},created:function(){this.checkIsForbid()},template:'<button class="button--pay article--bottomAction" v-show="!forbid" :data-post-id="post_id" :data-author="author" :data-avatar="avatar"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z" /></svg>\n    赞赏</button>'}),RewardCount=Vue.component("reward-count",{data:function(){return{count:0}},methods:{getRewardCount:function(){var t=this;axios({method:"post",url:"/api3/reward/accountInfo.html",data:{COMMON_ACCESS_TOKEN:PURE.token,COMMON_ACCESS_TOKEN_SECRET:PURE.secret},params:{COMMON_ACCESS_TOKEN:PURE.token,COMMON_ACCESS_TOKEN_SECRET:PURE.secret}}).then(function(e){200==e.data.CODE&&(t.count=e.data.RESULT.myAccount)})}},created:function(){this.getRewardCount()},template:"<span> {{ count }} 元<i>收益</i> </span>"}),esList=Vue.component("es-list",{data:function(){return{hotPosts:[],loading:!1,type:"",paged:1,category_list:[]}},watch:{type:function(){this.getHotPosts()}},created:function(){this.getCategoryList(),this.getHotPosts()},methods:{getCategoryList:function(){var t=this;axios.get("/tensorflow/es/categories").then(function(e){t.category_list=[{id:"",name:"全部"}].concat(_toConsumableArray(e.data.result))})},handleTab:function(e){this.type=e},getHotPosts:function(){var t=this;this.hotPosts=[],this.loading=!0,axios.get("/tensorflow/es/feed?paged="+(this.paged-1)+"&category="+this.type).then(function(e){t.hotPosts=e.data.result.map(function(e){return e.products=e.products.slice(0,3),e}),t.loading=!1})}},template:'\n    <section>\n    <nav class="hot-post-nav">\n        <span class="hot-post-nav-item" v-for="item in category_list" :class="{active: type === item.id}" @click="handleTab(item.id)">{{ item.name }}</span>\n    </nav>\n    <div class="esList" v-loading="loading">\n    <div class="esItem  u-shadowed u-rounded" v-for="(item, index) in hotPosts" :key="index">\n        <div class="itemCompanyInfo">\n        <a class="itemCompinyHeader" :href="\'/es/\' + item.id" target="_blank">\n                <img class="esItem__logo" :src="item.logo" />\n                <div class="companyTitle">\n                    <div class="esItem__name">\n                        {{ item.title }}\n                        <img src="https://image.woshipm.com/es-verified.png" v-if="item.is_verified" class="es-icon" width="24" />\n                        <span class="topic-i" v-if="item.is_recommend">推荐</span>\n                    </div>\n\n                    <div class="esItem__description">{{ item.description }}</div>\n                    <div class="esItem__meta">\n                        <span class="size">{{ item.corp_size }}</span>\n                        <span class="size">{{ item.category_name }}</span>\n                        <span class="size">{{ item.location }}</span>\n                    </div>\n                </di              <div class="esItem__countItem" v-if=m__title">产品</div>\n                        <div class="esItem__countItem__value">\n                            {{ item.product_count }}\n                        </div>\n                    </div>\n                    <div class="esItem__countItem" v-if="item.case_count">\n                        <div class="esItem__countItem__title">案例</div>\n                        <div class="esItem__countItem__value">\n                            {{ item.case_count }}\n                        </div>\n                    </div>\n                    <div class="esItem__countItem" v-if="item.service_count">\n                        <div class="esItem__countItem__title">服务</div>\n                        <div class="esItem__countItem__value">\n                            {{ item.service_count }}\n                        </div>\n                    </div>\n                    <div class="esItem__countItem" v-if="item.remark_count">\n                        <div class="esItem__countItem__title">评价</div>\n                        <div class="esItem__countItem__value">\n                            {{ item.remark_count }}\n                        </div>\n                    </div>\n                </div>\n            </a>\n        </div>\n    </div>\n</div>\n<el-empty v-if="hotPosts.length === 0 && !loading" description="暂无数据"></el-empty>\n                <div class="block--action"><div class="loadmore u-rounded"><a href="/eslist" target="_blank">查看更多</a></div></div>\n    </section>\n  '}),homeEsList=Vue.component("home-es-list",{data:function(){return{hotPosts:[],loading:!1,search:"",type:"daily",paged:1,category_list:[],category:"",total:0,bannerVisible:!0,recommend_list:[]}},watch:{category:function(){this.paged=1,this.getHotPosts()},search:function(){this.paged=1,this.getHotPosts()}},created:function(){this.getHotPosts(),this.getCategoryList(),this.getRecommendList(),this.$nextTick(function(){jQuery(".es--slider").slide({mainCell:".pic",effect:"fold",autoPlay:!0,delayTime:600,trigger:"click"})})},methods:{changePaged:function(e){this.paged=e,this.getHotPosts()},getRecommendList:function(){var t=this;axios.get("/tensorflow/es/recommend").then(function(e){t.recommend_list=e.data.result})},getCategoryList:function(){var t=this;axios.get("/tensorflow/es/categories").then(function(e){t.category_list=e.data.result})},getHotPosts:function(){var t=this;this.hotPosts=[],this.total=0,this.loading=!0,axios.get("/tensorflow/es/feed?page="+(this.paged-1)+"&category="+this.category+"&title="+this.search).then(function(e){t.hotPosts=e.data.result.map(function(e){return e.products=e.products.slice(0,3),e}),t.total=e.data.total,t.loading=!1})},closeBanner:function(){this.bannerVisible=!1,localStorage.setItem("bannerVisible",!1)}},template:'\n    <section class="es-banner">\n    <div class="es-bannerNotice" v-if="bannerVisible">\n\n        <div class="container">\n        1000个企业推广名额，限时免费开放 <a href="/esapply" target="_blank">立即领取</a>\n        <span class="close" @click="closeBanner">x</span>\n        </div>\n    </div>\n    <div class="event-banner es--slider">\n    <ul class="pic">\n    <li style="background-image: url(https://image.woshipm.com/2024/01/09/651e9b54-aeb1-11ee-a644-00163e142b65.jpg); ">\n    <a href="https://zt.woshipm.com/author/2023/pmResult.html" target="_blank"></a>\n    </li>\n    <li style="background-image: url(https://image.woshipm.com/2023/12/01/afa4e66e-904e-11ee-9da4-00163e142b65.png);">\n    <a href="https://boardmix.cn/?utm_source=youxuanqifu&utm_medium=banner&utm_campaign=%E4%BA%BA%E4%BA%BA%E9%83%BD%E6%98%AF%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86&_channel_track_key=zuplMdZo" target="_blank"></a>\n    </li>\n    \n    </ul> \n    <ul class="hd"><li class=""></li><li></li>\n    </ul>\n    </div>\n    <div class="container u-relative">\n        <div class="pm--topTopic--list">\n            <div class="cateList">\n                <span class="cateItem" :class="{ active: category == \'\' }" @click="category = \'\'"\n                    >全部</span\n                >\n                <span\n                    v-for="(item, index) in category_list"\n                    :key="index"\n                    class="cateItem"\n                    :class="{ active: category == item.id }"\n                    @click="category = item.id"\n                >\n                    {{ item.label }}\n                </span>\n            </div>\n            <div class="u-marginLeftAuto u-flex0">\n                <div class="esApply--count">共找到{{ total }}家服务商</div>\n                <a href="/esapply" target="_black" class="esApply--btn">我也要入驻</a>\n            </div>\n        </div>\n    </div>\n    <section class="container u-marginTop30">\n        <div class="esWrapper">\n            <div class="esWrapper--left">\n    <div class="esList" v-loading="loading">\n    <div class="esItem u-shadowed u-rounded" v-for="(item, index) in hotPosts" :key="index">\n        <div class="itemCompanyInfo">\n            <a class="itemCompinyHeader" :href="\'/es/\' + item.id" target="_blank">\n                <img class="esItem__logo" :src="item.logo" />\n                <div class="companyTitle">\n                    <div class="esItem__name">\n                        {{ item.title }}\n                        <img src="https://image.woshipm.com/es-verified.png" v-if="item.is_verified" class="es-icon" width="24" />\n                        <span class="topic-i" v-if="item.is_recommend">推荐</span>\n                    </div>\n                    <div class="esItem__description">{{ item.description }}</div>\n                    <div class="esItem__meta">\n                        <span class="size">{{ item.corp_size }}</span>\n                        <span class="size">{{ item.category_name }}</span>\n                        <span class="size">{{ item.location }}</span>\n                    </div>\n                </div>\n                <div class="esItem__count">\n                    <div class="esItem__countItem" v-if="item.product_count">\n                        <div class="esItem__countItem__title">产品</div>\n                        <div class="esItem__countItem__value">\n                            {{ item.product_count }}\n                        </div>\n                    </div>\n                    <div class="esItem__countItem" v-if="item.case_count">\n                        <div class="esItem__countItem__title">案例</div>\n                        <div class="esItem__countItem__value">\n                            {{ item.case_count }}\n                        </div>\n                    </div>\n                    <div class="esItem__countItem" v-if="item.service_count">\n                        <div class="esItem__countItem__title">服务</div>\n                        <div class="esItem__countItem__value">\n                            {{ item.service_count }}\n                        </div>\n                    </div>\n                    <div class="esItem__countItem" v-if="item.remark_count">\n                        <div class="esItem__countItem__title">评价</div>\n                        <div class="esItem__countItem__value">\n                            {{ item.remark_count }}\n                        </div>\n         on\n            v-if="total > 15"\n            background\n            layout="prev, pager, next"\n            :page-size="15"\n            :total="total"\n            :current-page="paged"\n       >\n        </el-pagination>\n</div>\n<el-empty v-if="hotPosts.length == 0 && !loading" description="暂无数据"></el-empty>\n    </div>\n    <aside class="u-width335 u-marginLeft20">\n    <div class="esApply--contact">\n    <img\n        class="icon"\n        src="https://image.woshipm.com/2023/04/11/d50f43b4-d838-11ed-bdd7-acde48001122.png"\n    />\n    <span class="gustor">帮找服务商</span>\n    <div class="addonArea">\n        <div class="addonArea--title">免费帮找服务商</div>\n        <div class="addonArea--list">\n            <span>专业顾问</span><span>及时响应</span><span>一对一</span>\n        </div>\n        <img\n            src="https://wework.qpic.cn/wwpic/147686_fKGbLcBkQ9eTtqE_1677052166/0"\n            class="qrcode"\n        />\n        <div class="addonArea--note">微信扫码咨询</div>\n    </div>\n</div>\n            <div class="widget widget-ad">\n                <a href="/esapply" target="_blank"><img src="https://image.woshipm.com/wp-files/2023/03/NjKCT7vCdMmXXFKcJTTR.png"></a>\n            </div>\n            <div class="widget u-backgroundColorWhite">\n                <div class="inner">\n                <div class="recommend--list">\n                    <div class="recommend--list__title">推荐服务商</div>\n                    <div\n                        class="recommend--list__item"\n                        v-for="(item, index) in recommend_list"\n                        :key="index"\n                    >\n                        <a :href="\'/es/\' + item.id" target="_blank">\n                            <img class="recommend--list__item__logo" :src="item.logo" />\n                            <div>\n                                <div class="recommend--list__item__title">{{ item.title }}</div>\n                                <div class="recommend--list__item__meta">\n                                    {{ item.category_name }}\n                                </div>\n                            </div>\n                        </a>\n                    </div>\n                </div></div></div>\n            </aside>\n</div></section>\n    </section>\n  \n  '}),EsItem=Vue.component("es-item",{name:"es-item",props:["id"],data:function(){return{detail:"",id:"",products:[],cases:[],services:[],rateForm:{score_sale:"",score_cost:"",score_easy:"",score_demand:"",content:""},visible:!1,type:"product",form:{name:"",content:"",logo:"",link:"",describe:"",media:[],product_id:""},rates:[],contactVisible:!1,recommend_list:[],rateVisible:!1,posts:[]}},created:function(){this.getData(),this.getEsProductList(),this.getEsCaseList(),this.getEsServiceList(),this.getEsRateList(),this.getRecommendList()},methods:{showRateDialog:function(){if(!PURE.is_user_logged_in)return this.$parent.showLogin=!0;this.rateVisible=!0},getRecommendList:function(){var t=this;axios.get("/tensorflow/es/recommend").then(function(e){t.recommend_list=e.data.result})},getEsposts:function(){var t=this;axios.get("/__api/v3/articles?page=1&author="+this.detail.user_id).then(function(e){t.posts=e.data})},getEsServiceList:function(){var t=this;axios.get("/tensorflow/es/service/list?es_id="+this.id+"&user_id="+PURE.user_id).then(function(e){t.services=e.data.result.filter(function(e){return"approved"==e.status})})},getEsRateList:function(){var t=this;axios.get("/tensorflow/es/rate/list?es_id="+this.id+"&user_id="+PURE.user_id).then(function(e){t.rates=e.data.result.filter(function(e){return"approved"==e.status||e.user_id==PURE.user_id})})},getEsCaseList:function(){var t=this;axios.get("/tensorflow/es/case/list?es_id="+this.id+"&user_id="+PURE.user_id).then(function(e){t.cases=e.data.result.filter(function(e){return"approved"==e.status})})},getEsProductList:function(){var t=this;axios.get("/tensorflow/es/product/list?es_id="+this.id+"&user_id="+PURE.user_id).then(function(e){t.products=e.data.result.filter(function(e){return"approved"==e.status})})},getData:function(){var t=this;axios.get("/tensorflow/es/"+this.id+"?user_id="+PURE.user_id).then(function(e){e=e.data.result;"published"!=(t.detail=e).status&&e.user_id!=PURE.user_id&&(window.location.href="/404"),t.$nextTick(function(){document.title=t.detail.title+" - "+document.title}),t.detail.user_id&&t.getEsposts()})},showContact:function(){this.contactVisible=!0},goCase:function(e){},goProduct:function(e){},goService:function(e){},newRate:function(){var t=this;if(!(this.rateForm.score_demand&&this.rateForm.score_easy&&this.rateForm.score_cost&&this.rateForm.score_sale))return this.$message.error("请填写评分");axios({url:"/tensorflow/es/rate",method:"post",data:_objectSpread({es_id:this.id,user_id:PURE.user_id},this.rateForm)}).then(function(e){0==e.data.code?(t.$message.success("添加成功，等待审核。"),t.getEsRateList(),t.rateVisible=!1):t.$message.error(e.data.message)})}},template:'<div class="u-rounded">\n    <el-dialog title="添加评价" :visible="rateVisible" width="500px" @close="rateVisible = false">\n        <div class="rateScore--list">\n            <div class="rateScore--item">最终效果：<el-rate v-model="rateForm.score_demand" /></div>\n            <div class="rateScore--item">售前服务：<el-rate v-model="rateForm.score_easy" /></div>\n            <div class="rateScore--item">性价比：<el-rate v-model="rateForm.score_cost" /></div>\n            <div class="rateScore--item">售后服务：<el-rate v-model="rateForm.score_sale" /></div>\n        </div>\n        <el-input\n            v-model="rateForm.content"\n            placeholder="服务怎么样"\n            type="textarea"\n            maxlength="1024"\n            show-word-limit\n        ></el-input>\n        <div class="u-marginTop20">\n        <el-button type="primary" @click="newRate" size="small">添加评价</el-button>\n        </div>\n    </el-dialog>\n    <el-dialog\n        title="立即联系"\n        class="contact--dialog"\n        :visible="contactVisible"\n        width="400px"\n        :show-close="false"\n        :center="true"\n        :align-center="true"\n        @close="contactVisible = false"\n    >\n        <div class="contact--area">\n            <div>\n                <span class="el-icon-phone"></span>{{ detail.contact_phone }}\n            </div>\n            <div>\n                <span class="el-icon-s-custom"></span>{{ detail.contact_wechat }}\n            </div>\n            <div>\n                <span class="el-icon-s-finance"></span>{{ detail.contact_mail }}\n            </div>\n        </div>\n    </el-dialog>\n    <div class="esApply--contact">\n    <img\n        class="icon"\n        src="https://image.woshipm.com/2023/04/11/d50f43b4-d838-11ed-bdd7-acde48001122.png"\n    />\n    <span class="gustor">帮找服务商</span>\n    <div class="addonArea">\n        <div class="addonArea--title">免费帮找服务商</div>\n        <div class="addonArea--list">\n            <span>专业顾问</span><span>及时响应</span><span>一对一</span>\n        </div>\n        <img\n            src="https://wework.qpic.cn/wwpic/147686_fKGbLcBkQ9eTtqE_1677052166/0"\n            class="qrcode"\n        />\n        <div class="addonArea--note">微信扫码咨询</div>\n    </div>\n</div>\n    <div class="home-block">\n        <div class="u-width850">\n        <header class="es--header">\n            <div class="inner">\n                <img :src="detail.logo" class="es--header__logo" />\n                <div class="es--header__content">\n                    <div class="es--header__name">\n                        {{ detail.title }}\n                        <a\n                            :href="detail.corp_link"\n                            v-if="detail.corp_link"\n                            class="es--header__link"\n                            target="_blank"\n                            ><span class="el-icon-link"></span>查看官网</a\n                        >\n                    </div>\n                    <div class="es--header__description">\n                        {{ detail.description }}\n                        <el-button type="primary" @click="showContact" size="small">立即联系</el-button>\n                    </div>\n                </div>\n            </div>\n            <el-descriptions>\n                <el-descriptions-item label="所在城市">{{ detail.location }}</el-descriptions-item>\n                <el-descriptions-item label="服务类型">{{\n                    detail.category_name\n                }}</el-descriptions-item>\n                <el-descriptions-item label="所属行业">{{\n                    detail.industry_name\n                }}</el-descriptions-item>\n                <el-descriptions-item label="成立时间">{{\n                    detail.start_time\n                }}</el-descriptions-item>\n                <el-descriptions-item label="公司规模">\n                    {{ detail.corp_size }}\n                </el-descriptions-item>\n                <el-descriptions-item label="浏览量">{{ detail.view_count }}</el-descriptions-item>\n                <el-descriptions-item label="入驻时间">{{\n                    detail.create_time\n                }}</el-descriptions-item>\n                <el-descriptions-item label="评分" v-if="detail.remark_count">\n                <div class="es--rateInfo">\n                    <el-rate\n                        v-model="detail.rate"\n                        disabled\n                        show-score\n                        text-color="#ff9900"\n                        score-template="{value} 分"\n                    />\n                    ({{ detail.remark_count }} 人评价)\n                    </div>\n                    </el-descriptions-item\n                >\n            </el-descriptions>\n        </header>\n        <div class="corp--content-wrap">\n            <h3>公司介绍</h3>\n            <div class="corp--content">{{ detail.content }}</div>\n            <h3>产品列表</h3>\n            <div class="productList u-marginBottom30">\n                <a\n                    v-for="item in products"\n                    :key="item.id"\n                    class="productItem"\n                    :href="\'/esproduct?id=\' + item.id"\n                    target="_blank"\n                >\n                    <img :src="item.logo" />\n                    <div>\n                        <div class="product-name">\n                            {{ item.name }}\n                        </div>\n                        <div class="product-desc">{{ item.describe }}</div>\n                    </div>\n                </a>\n            </div>\n            <h3>经典案例</h3>\n            <div class="productList u-marginBottom30">\n                <a\n                    v-for="item in cases"\n                    :key="item.id"\n                    class="case-item"\n                    :href="\'/escase?id=\' + item.id"\n                    target="_blank"\n                >\n                    <div class="cover-wrap">\n                        <span class="product-name">经典案例</span>\n                        <div class="cover img-wrapper">\n                            <img\n                                :src="item.logo"\n                                class="img"\n                                style="object-fit: cover"\n                            />\n                        </div>\n                    </div>\n                    <div class="con-wrap">\n                        <div class="title">\n                            {{ item.name }}\n                        </div>\n                    </div>\n                </a>\n            </div>\n            <h3>服务项目</h3>\n            <div class="productList">\n                <a\n                    v-for="item in services"\n                    :key="item.id"\n                    class="case-item"\n                    :href="\'/esservice?id=\' + item.id"\n                    target="_blank"\n                >\n                    <div class="cover-wrap">\n                        <span class="product-name">服务项目</span>\n                        <div class="cover img-wrapper">\n                            <img\n                            :src="item.logo"\n                            class="img"\n                                style="object-fit: cover"\n                            />\n                        </div>\n                    </div>\n                    <div class="con-wrap">\n                        <div class="title">\n                            {{ item.name }}\n                        </div>\n                    </div>\n                </a>\n            </div>\n            <div class="coop--notice">\n            <span class="el-icon-warning"></span>*信息来源:企业自主上传或其他公开渠道的信息\n        </div>\n            </div>\n            <div class="corp--content-wrap" v-if="posts.length > 0">\n        <h3>相关文章</h3>\n        <div class="postlist-item u-backgroundColorWhite" v-for="post in posts" :key="post.id">\n            <div class="post-img">\n                <a :href="post.permalink" target="_blank">\n                    <img :src="post.image" />\n                </a>\n            </div>\n            <div class="content">\n                <h2 class="post-title">\n                    <a :href="post.permalink" target="_blank">{{ post.title }}</a>\n                </h2>\n                <div class="des">{{ post.content }}</div>\n                <div class="stream-list-meta">\n                    <div class="meta--sup">\n                        <time itemprop="datePublished">{{ post.date }}</time><span class="dot"></span>\n                        <div class="meta--sup__right">{{ post.bookmark }} 收藏</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n            <div class="corp--content-wrap">\n            <h3>用户评分</h3>\n            <div class="comment--list">\n                <div v-for="item in rates" :key="item.id" class="comment--item">\n                    <header>\n                        <img :src="item.userinfo.avatar" alt="" />\n                        <div>\n                            <div class="name"><a :href="\'/u/\' + item.user_id" class="cute" target="_blank">{{ item.userinfo.name }}</a></div>\n                            <div class="rate--info">\n                                <el-rate\n                                    v-model="item.score_ava"\n                                    disabled\n                                    show-score\n                                    text-color="#ff9900"\n                                    score-template="{value} 分"\n                                />\n\n                                性价比： {{ item.score_cost }} 售前服务：{{\n                                    item.score_easy\n                                }}\n                                最终效果：{{ item.score_demand }} 售后服务： {{ item.score_sale }}\n                            </div>\n                        </div>\n                    </header>\n                    <div class="comment--content">\n                        {{ item.content || \'此用户没有填写评价内容\' }}\n                    </div>\n                    <footer>\n                        <span class="el-icon-timer"></span>{{ item.create_time }}<span v-if="item.status == \'pending\'" class="dot">等待审核</span>\n                    </footer>\n                </div>\n            </div>\n            <div><el-button size="mini" type="primary" @click="showRateDialog">添加评价</el-button></div>\n        </div>     </div>\n        <aside class="esWrapper--right">\n        <div class="recommend--list">\n        <div class="recommend--list__title">推荐服务商</div>\n        <div\n            class="recommend--list__item"\n            v-for="(item, index) in recommend_list"\n            :key="index"\n        >\n            <a :href="\'/es/\' + item.id" target="_blank">\n                <img class="recommend--list__item__logo" :src="item.logo" />\n                <div>\n                    <div class="recommend--list__item__title">{{ item.title }}</div>\n                    <div class="recommend--list__item__meta">\n                        {{ item.category_name }}\n                    </div>\n                </div>\n            </a>\n        </div>\n    </div>\n        </aside>\n    </div>\n  </div>'}),userEs=Vue.component("user-es-list",{data:function(){return{type:"",visible:!1,loading:!1,bookmarkType:"info",infovisible:!1,detail:"",es_id:"",userBookmarkNav:[{name:"服务商信息",slug:"info"},{name:"产品管理",slug:"product"},{name:"案例管理",slug:"case"},{name:"服务管理",slug:"service"}],services:[],cases:[],products:[],form:{name:"",content:"",logo:"",link:"",describe:"",media:[],product_id:""},category_list:[],options:[{value:"0~20人",label:"0~20人"},{value:"20~99人",label:"20~99人"},{value:"100~499人",label:"100~499人"},{value:"500~999人",label:"500~999人"},{value:"1000~9999人",label:"1000~9999人"},{value:"10000人以上",label:"10000人以上"}],industries:[],rules:{name:[{required:!0,message:"请输入标题",trigger:"blur"}],logo:[{required:!0,message:"请上传logo/封面",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}]},esrules:{title:[{required:!0,message:"请输入公司名称",trigger:"blur"}],location:[{required:!0,message:"请选择所在城市",trigger:"blur"}],corp_size:[{required:!0,message:"请选择公司规模",trigger:"blur"}],logo:[{required:!0,message:"请上传logo",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}],start_time:[{required:!0,message:"请选择成立时间",trigger:"blur"}],industry:[{required:!0,message:"请选择分类",trigger:"blur"}],category:[{required:!0,message:"请选择需求类型",trigger:"blur"}],contact_phone:[{required:!0,message:"请输入联系手机号",trigger:"blur"}],contact_mail:[{required:!0,message:"请输入联系邮箱",trigger:"blur"}],contact_wechat:[{required:!0,message:"请输入联系微信",trigger:"blur"}]}}},template:'<section>\n    <div class="userNavTab">\n        <span\n            v-for="item in userBookmarkNav"\n            :key="item.slug"\n            @click="switchBookmarkStatus(item.slug)"\n            :class="{ current: item.slug == bookmarkType }"\n            class="userNavTab--item"\n            >{{ item.name }}</span\n        >\n        <a :href="\'/es/\' + es_id" target="_blank" class="u-marginLeftAuto el-icon-link coop--createLink">服务商主页</a>\n    </div>\n    <div class="user-main-content" v-loading="loading">\n        <div class="coop--list" v-if="bookmarkType == \'info\'">\n            <div class="es--topActions">\n                <span class="es--topInfo" v-if="detail.parent_id">当前信息为草稿信息</span>\n                <el-link\n                    @click="infovisible = true"\n                    type="primary"\n                    icon="el-icon-edit"\n                    class="u-marginLeftAuto"\n                    >编辑</el-link\n                >\n                <el-link\n                type="primary"\n                @click="submitEsPending"\n                icon="el-icon-finished"\n                v-if="(detail.parent_id && detail.status == \'draft\') || (detail.status == \'created\' && detail.type == \'initial\')"\n                >提交审核</el-link\n            >\n            </div>\n            <header class="es--header">\n                <div class="inner">\n                    <img :src="detail.logo" class="es--header__logo" />\n                    <div class="es--header__content">\n                        <div class="es--header__name">\n                            {{ detail.title }}\n                        </div>\n                        <div class="esProduct--desc">{{ detail.description }}</div>\n                    </div>\n                </div>\n                <el-descriptions>\n                    <el-descriptions-item label="官网地址">{{\n                        detail.corp_link\n                    }}</el-descriptions-item>\n                    <el-descriptions-item label="所在城市">{{\n                        detail.location\n                    }}</el-descriptions-item>\n                    <el-descriptions-item label="服务类型">{{\n                        detail.category_name\n                    }}</el-descriptions-item>\n                    <el-descriptions-item label="所属行业">{{\n                        detail.industry_name\n                    }}</el-descriptions-item>\n                    <el-descriptions-item label="成立时间">{{\n                        detail.start_time\n                    }}</el-descriptions-item>\n                    <el-descriptions-item label="公司规模">\n                        {{ detail.corp_size }}\n                    </el-descriptions-item>\n                    <el-descriptions-item label="浏览量">{{\n                        detail.view_count\n                    }}</el-descriptions-item>\n                    <el-descriptions-item label="入驻时间">{{\n                        detail.create_time\n                    }}</el-descriptions-item>\n                    <el-descriptions-item label="联系电话">{{\n                        detail.contact_phone\n                    }}</el-descriptions-item>\n                    <el-descriptions-item label="联系邮箱">{{\n                        detail.contact_mail\n                    }}</el-descriptions-item>\n                    <el-descriptions-item label="联系微信">{{\n                        detail.contact_wechat\n                    }}</el-descriptions-item>\n                </el-descriptions>\n            </header>\n            <div class="corp--content-wrap">\n                <h3>公司介绍</h3>\n                <div class="corp--content">{{ detail.content }}</div>\n            </div>\n        </div>\n        <div class="coop--list" v-else-if="bookmarkType == \'product\'">\n            <div class="es--topActions">\n                <span class="es--topInfo" v-if="detail.parent_id"\n                    >信息审核通过后才可对外展示</span\n                >\n                <el-link\n                    type="primary"\n                    @click="showDrawer(\'product\')"\n                    icon="el-icon-circle-plus-outline"\n                    class="u-marginLeftAuto"\n                    >添加</el-link\n                >\n            </div>\n            <div class="productList">\n                <div v-for="item in products" :key="item.id" class="productItem">\n                    <img :src="item.logo" />\n                    <div>\n                        <div class="product-name">\n                            {{ item.name }}\n                        </div>\n                        <div class="actions">\n                            <span\n                                class="el-icon-edit"\n                                @click.stop="editRow(item, \'product\')"\n                            ></span>\n                            <span\n                                class="el-icon-delete"\n                                @click.stop="removeRow(item, \'product\')"\n                            ></span>\n                        </div>\n                        <div class="product-desc">\n                            {{ item.describe }} - {{ item.status_name }}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <el-empty v-if="!products.length"></el-empty>\n        </div>\n        <div class="coop--list" v-else-if="bookmarkType == \'case\'">\n            <div class="es--topActions">\n                <span class="es--topInfo" v-if="detail.parent_id"\n                    >信息审核通过后才可对外展示</span\n                >\n                <el-link\n                    type="primary"\n                    @click="showDrawer(\'case\')"\n                    icon="el-icon-circle-plus-outline"\n                    class="u-marginLeftAuto"\n                    >添加</el-link\n                >\n            </div>\n            <div class="productList">\n                <div\n                    v-for="item in cases"\n                    :key="item.id"\n                    class="case-item"\n                    @click="goCase(item)"\n                    target="_blank"\n                >\n                    <div class="cover-wrap">\n                        <span class="product-name">{{ item.status_name }}</span>\n                        <div class="cover img-wrapper">\n                            <div class="actions">\n                                <span\n                                    class="el-icon-edit"\n                                    @click.stop="editRow(item, \'case\')"\n                                ></span>\n                                <span\n                                    class="el-icon-delete"\n                                    @click.stop="removeRow(item, \'case\')"\n                                ></span>\n                            </div>\n                            <img :src="item.logo" class="img" style="object-fit: cover" />\n                        </div>\n                    </div>\n                    <div class="con-wrap">\n                        <div class="title">\n                            {{ item.name }}\n                        </div>\n                        <div class="content">\n                            {{ item.content }}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <el-empty v-if="!cases.length"></el-empty>\n        </div>\n        <div class="coop--list" v-else-if="bookmarkType == \'service\'">\n            <div class="es--topActions">\n                <span class="es--topInfo" v-if="detail.parent_id"\n                    >信息审核通过后才可对外展示</span\n                >\n                <el-link\n                    type="primary"\n                    @click="showDrawer(\'service\')"\n                    icon="el-icon-circle-plus-outline"\n                    class="u-marginLeftAuto"\n                    >添加</el-link\n                >\n            </div>\n            <div class="productList">\n                <div\n                    v-for="item in services"\n                    :key="item.id"\n                    class="case-item"\n                    @click="goService(item)"\n                >\n                    <div class="cover-wrap">\n                        <span class="product-name">{{ item.status_name }}</span>\n                        <div class="cover img-wrapper">\n                            <div class="actions">\n                                <span\n                                    class="el-icon-edit"\n                                    @click.stop="editRow(item, \'service\')"\n                                ></span>\n                                <span\n                                    class="el-icon-delete"\n                                    @click.stop="removeRow(item, \'service\')"\n                                ></span>\n                            </div>\n                            <img :src="item.logo" class="img" style="object-fit: cover" />\n                        </div>\n                    </div>\n                    <div class="con-wrap">\n                        <div class="title">\n                            {{ item.name }}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <el-empty v-if="!services.length"></el-empty>\n        </div>\n    </div>\n    <el-drawer\n        :visible.sync="infovisible"\n        title="编辑"\n        :direction="\'rtl\'"\n        @close="handleClose"\n        :with-header="false"\n        :wrapperClosable="false"\n    >\n        <el-form :model="detail" ref="form" size="small" style="padding: 20px" :rules="esrules">\n            <el-form-item label="公司名" prop="title">\n                <el-input\n                    v-model="detail.title"\n                    placeholder="请输入公司名"\n                    maxlength="32"\n                    show-word-limit\n                ></el-input>\n            </el-form-item>\n            <el-form-item label="Logo" prop="logo">\n                <el-upload\n                    action="/tensorflow/oss/upload"\n                    :show-file-list="false"\n                    name="files"\n                    :on-success="handleViewImage"\n                >\n                    <img v-if="detail.logo" :src="detail.logo" class="avatar" width="100" />\n                    <el-button type="primary" v-else>上传</el-button>\n                </el-upload>\n            </el-form-item>\n            <el-form-item label="所在行业" prop="industry">\n                <el-cascader\n                    :options="industries"\n                    :show-all-levels="false"\n                    placeholder="选择所在行业"\n                    class="u-marginLeft15"\n                    v-model="detail.industry"\n                />\n            </el-form-item>\n            <el-form-item label="一句话描述" prop="description">\n                <el-input\n                    v-model="detail.description"\n                    placeholder="请输入一句话描述公司"\n                    maxlength="100"\n                    show-word-limit\n                ></el-input>\n            </el-form-item>\n            <el-form-item label="公司简介" prop="content">\n                <el-input\n                    v-model="detail.content"\n                    type="textarea"\n                    maxlength="2048"\n                    placeholder="请输入公司简介（请输入文本，如需图文排版请联系客服）"\n                ></el-input>\n            </el-form-item>\n            <el-form-item label="官方网址" prop="corp_link">\n                <el-input\n                    v-model="detail.corp_link"\n                    placeholder="请输入官网地址"\n                    maxlength="64"\n                    show-word-limit\n                ></el-input>\n            </el-form-item>\n            <el-form-item label="人员规模" prop="corp_size">\n                <el-select v-model="detail.corp_size" placeholder="选择人员规模">\n                    <el-option\n                        v-for="(item, index) in options"\n                        :key="index"\n                        :label="item.label"\n                        :value="item.value"\n                    ></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label="成立时间" prop="start_time">\n                <el-date-picker\n                    v-model="detail.start_time"\n                    type="date"\n                    placeholder="选择日期"\n                    value-format="yyyy-MM-dd"\n                ></el-date-picker>\n            </el-form-item>\n            <el-form-item label="服务类型" prop="category">\n                <el-select v-model="detail.category" placeholder="选择服务类型">\n                    <el-option\n                        v-for="(item, index) in category_list"\n                        :key="index"\n                        :label="item.label"\n                        :value="item.value"\n                    ></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label="所在城市"  prop="location">\n                <el-input\n                    v-model="detail.location"\n                    placeholder="请输入公司所在城市"\n                    maxlength="12"\n                    show-word-limit\n                ></el-input>\n            </el-form-item>\n            <el-form-item label="联系人手机号" prop="contact_phone">\n                <el-input\n                    v-model="detail.contact_phone"\n                    placeholder="请输入联系人手机号"\n                ></el-input>\n            </el-form-item>\n            <el-form-item label="联系人微信"prop="contact_wechat">\n                <el-input\n                    v-model="detail.contact_wechat"\n                    placeholder="请输入联系人微信"\n                ></el-input>\n            </el-form-item>\n            <el-form-item label="联系人邮箱" prop="contact_mail">\n                <el-input v-model="detail.contact_mail" placeholder="请输入联系人邮箱"></el-input>\n            </el-form-item>\n            <el-form-item label="">\n                <el-button @click="infovisible = false" size="small">取消</el-button>\n                <el-button type="primary" @click="updateEsDetail">保存</el-button>\n            </el-form-item>\n        </el-form></el-drawer\n    >\n    <el-drawer\n        :visible.sync="visible"\n        title="编辑"\n        :direction="\'rtl\'"\n        @close="handleClose"\n        :with-header="false"\n        :wrapperClosable="false"\n    >\n        <el-form size="small" style="padding: 20px" :model="form" ref="ruleForm" :rules="rules">\n            <el-form-item label="标题名称" prop="name">\n                <el-input\n                    v-model="form.name"\n                    maxlength="20"\n                    placeholder="请输入标题名称"\n                    show-word-limit\n                ></el-input>\n            </el-form-item>\n            <el-form-item label="项目Logo/封面" prop="logo">\n                <el-upload\n                    action="/tensorflow/oss/upload"\n                    :show-file-list="false"\n                    name="files"\n                    :on-success="handleCaseImage"\n                >\n                    <img v-if="form.logo" :src="form.logo" class="avatar" width="100" />\n                    <el-button type="primary" v-else>上传</el-button>\n                </el-upload>\n            </el-form-item>\n            <el-form-item label="链接地址">\n                <el-input v-model="form.link" placeholder="请输入网页链接"></el-input>\n            </el-form-item>\n            <el-form-item label="一句话描述" v-if="type == \'product\'">\n                <el-input v-model="form.describe" maxlength="100" show-word-limit placeholder="请输入一句话描述产品"></el-input>\n            </el-form-item>\n            <el-form-item label="详细描述" prop="content">\n                <el-input\n                    v-model="form.content"\n                    type="textarea"\n                    maxlength="1000"\n                    show-word-limit\n                    placeholder="请输入详细描述（请输入文本，如需图文排版请联系客服）"\n                ></el-input>\n            </el-form-item>\n            <el-form-item label="图片" v-if="type == \'product\'">\n                <el-upload\n                    action="/tensorflow/oss/upload"\n                    :show-file-list="false"\n                    name="files"\n                    :on-success="handleMediaImage"\n               ="default" class="el-icon-plus"></i>\n                </el-upload>\n                <div class="image--list">\n                    <div class="image--item" v-for="(item, i) in form.media" :key="i">\n                        <img :src="item" width="100" />\n                        <span @click="form.media.splice(i, 1)" class="el-icon-delete"></span>\n                    </div>\n                </div>\n            </el-form-item>\n            <el-form-item label="关联产品" v-if="type !== \'product\'">\n                <el-select v-model="form.product_id" placeholder="请选择" clearable>\n                    <el-option\n                        v-for="item in products"\n                        :key="item.id"\n                        :label="item.name"\n                        :value="item.id"\n                    ></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item\n                ><div style="flex: auto">\n                    <el-button @click="visible = false" size="small">取消</el-button>\n                    <el-button type="primary" @click="confirmSubmit" size="small"\n                        >确定</el-button\n                    >\n                </div>\n            </el-form-item>\n        </el-form>\n    </el-drawer>\n</section>',created:function(){this.checkStatus()},methods:{submitEsPending:function(){var t=this;axios({url:"/tensorflow/es/"+this.es_id+"/pending",met){0==e.data,t.getMyBookmarks()):t.$message.error(e.data.message)})},checkStatus:function(){var t=this;this.loading=!0,axios({method:"post",url:"/tensorflow/es/status",data:{user_id:PURE.user_id}}).then(function(e){if(0==e.data.code){if(t.es_id=e.data.result.es,!t.es_id)return window.location.href="/";t.loading=!1,t.getMyBookmarks(),t.getCategoryList(),t.getIndustries(),t.getEsProductList(),t.getEsCaseList(),t.getEsServiceList(),t.getEsRateList()}})},handleMediaImage:function(e){0==e.code?this.form.media.push(e.result[0].url):this.$message.error(e.message)},createEsProduct:function(){var t=this;this.form.id?axios({method:"put",url:"tensorflow/es/product/"+this.form.id,data:{es_id:this.es_id,name:this.form.name,content:this.form.content,product_id:this.form.product_id,logo:this.form.logo,media:this.form.media,describe:this.form.describe,link:this.form.link}}).then(function(e){0==e.data.code&&(t.visible=!1,t.form={name:"",content:"",logo:"",link:"",describe:"",media:[],product_id:""},t.getEsProductList(),t.$message.success("添加成功，等待审核。"))}):axios({method:"post",url:"tensorflow/es/product/create",data:{es_id:this.es_id,name:this.form.name,content:this.form.content,product_id:this.form.product_id,logo:this.form.logo,media:this.form.media,describe:this.form.describe,link:this.form.link}}).then(function(e){0==e.data.code&&(t.visible=!1,t.form={name:"",content:"",logo:"",link:"",describe:"",media:[],product_id:""},t.getEsProductList(),t.$message.success("添加成功，等待审核。"))})},createEsService:function(){var t=this;this.form.id?axios({method:"put",url:"/tensorflow/es/service/"+this.form.id,data:{es_id:this.es_id,name:this.form.name,content:this.form.content,product_id:this.form.product_id,logo:this.form.logo}}).then(function(e){0==e.data.code&&(t.visible=!1,t.form={name:"",content:"",logo:"",link:"",describe:"",media:[],product_id:""},t.getEsCaseList(),t.$message.success("添加成功，等待审核。"))}):axios({method:"post",url:"/tensorflow/es/service/create",data:{es_id:this.es_id,name:this.form.name,content:this.form.content,product_id:this.form.product_id,logo:this.form.logo}}).then(function(e){0==e.data.coda:[],product_id:""},t.getEsServiceList(),t.$message.审核。"))})},removeRow:function(t,e){var n=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){"product"==e?(n.products=n.products.filter(function(e){return e.id!=t.id}),axios({method:"deoduct/"+t.id})):"case"==e?(n.cases=n.cases.filter(function(e){return e.id!=t.id}),axios({method:"delete",user_id:PURE.user_id,url:"/tensorflow/es/case/"+t.id})):"service"==e&&(n.services=n.services.filter(function(e){return e.id!=t.id}),axios({method:"delete",user_id:PURE.user_id,url:"/tensorflow/es/service/"+t.id})),n.$message.success("删除成功")}).catch(function(){n.$message({type:"info",message:"已取消删除"})})},createEsCase:function(){var t=this;this.form.id?axios({method:"put",url:"/tensorflow/es/case/"+this.form.id,data:{es_id:this.es_id,name:this.form.name,content:this.form.content,product_id:this.form.product_id,logo:this.form.logo}}).then(function(e){0==e.data.code&&(t.visible=!1,t.form={name:"",content:"",logo:"",link:"",describe:"",media:[],product_id:""},t.getEsCaseList(),t.$message.success("修改成功，等待审核。"))}):axios({method:"post",url:"/tensorflow/es/case/create",data:{es_id:this.es_id,name:this.form.name,content:this.form.content,product_id:this.form.product_id,logo:this.form.logo}}).then(function(e){0==e.data.code&&(t.visible=!1,t.form={name:"",content:"",logo:"",link:"",describe:"",media:[],product_id:""},t.getEsCaseList(),t.$message.success("添加成功，等待审核。"))})},confirmSubmit:function(){var n=this;this.$refs.ruleForm.validate(function(e,t){console.log(e),e?n.form.id?n.$confirm("修改后内容将重新审核，审核期间内容对外不可见，确认修改吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){"product"==n.type?n.createEsProduct():"case"==n.type?n.createEsCase():"service"==n.type&&n.createEsService()}):"product"==n.type?n.createEsProduct():"case"==n.type?n.createEsCase():"service"==n.type&&n.createEsService():n.$message({message:"请检查表单",type:"error"})})},editRow:function(e,t){this.type=t,this.visible=!0,this.form=e},showDrawer:function(e){this.type=e,this.visible=!0},switchBookmarkStatus:function(e){this.bookmarkType=e},getEsServiceList:function(){var t=this;axios({url:"/tensorflow/es/service/list",method:"get",params:{es_id:this.es_id}}).then(function(e){t.services=e.data.result.map(function(e){switch(e.status){case"pending":e.status_name="待审核";break;case"approved":e.status_name="已通过";break;case"rejected":e.status_name="已拒绝"}return e})})},getEsRateList:function(){var t=this;axios({url:"/tensorflow/es/rate/list",params:{es_id:this.es_id}}).then(function(e){t.rates=e.data.result.map(function(e){switch(e.status){case"pending":e.status_name="待审核";break;case"approved":e.status_name="已通过";break;case"rejected":e.status_name="已拒绝"}return e})})},getEsCaseList:function(){var t=this;axios({url:"/tensorflow/es/case/list",params:{es_id:this.es_id}}).then(function(e){t.cases=e.data.result.map(function(e){switch(e.status){case"pending":e.status_name="待审核";break;case"approved":e.status_name="已通过";break;case"rejected":e.status_name="已拒绝"}return e})})},getEsProductList:function(){var t=this;axios({url:"/tensorflow/es/product/list",params:{es_id:this.es_id}}).then(function(e){t.products=e.data.result.map(function(e){switch(e.status){case"pending":e.status_name="待审核";break;case"approved":e.status_name="已通过";break;case"rejected":e.status_name="已拒绝"}return e})})},getIndustries:function(){var t=this;axios.get("/tensorflow/coop/industries").then(function(e){t.industries=e.data.result})},getCategoryList:function(){var t=this;axios.get("/tensorflow/es/categories").then(function(e){t.category_list=e.data.result})},updateEsDetail:function(){var n=this;this.$refs.form.validate(function(e,t){console.log(e),e?axios({method:"put",url:"/tensorflow/es/"+n.es_id,data:{title:n.detail.title,category:n.detail.category,corp_size:n.detail.corp_size,location:n.detail.location,start_time:n.detail.start_time,content:n.detail.content,industry:n.detail.industry&&"object"==_typeof(n.detail.industry)?n.detail.industry[1]:n.detail.industry,contact_phone:n.detail.contact_phone,contact_wechat:n.detail.contact_wechat,contact_mail:n.detail.contact_mail,description:n.detail.description,corp_link:n.detail.corp_link,logo:n.detail.logo}}).then(function(e){n.getMyBookmarks(),n.$message({message:"更新成功",type:"success"})}):n.$message({message:"请检查表单",type:"error"})}).catch(function(e){console.log(e)})},handleInfoclose:function(){this.infovisible=!1},handleClose:function(){this.visible=!1,this.form={name:"",content:"",logo:"",link:"",describe:"",media:[],product_id:""}},getMyBookmarks:function(){var t=this;axios.get("/tensorflow/es/"+this.es_id,{params:{user_id:PURE.user_id,preview:!0}}).then(function(e){t.loading=!1,t.detail=e.data.result})},handleViewImage:function(e){0==e.code?this.detail.logo=e.result[0].url:this.$message.error(e.message)},handleCaseImage:function(e){0==e.code?this.form.logo=e.result[0].url:this.$message.error(e.message)}}}),esApply=Vue.component("es-apply",{data:function(){return{loading:!1,form:{type:"",job:"",name:"",phone:"",wechat:"",email:"",corp_name:"",user_id:""},status:!1,category_list:[],rules:{type:[{required:!0,message:"请选择类型",trigger:"blur"}],job:[{required:!0,message:"请输入您的职位",trigger:"blur"}],phone:[{required:!0,message:"请输入您的手机号",trigger:"blur"}],name:[{required:!0,message:"请输入您的称呼",trigger:"blur"}],wechat:[{required:!0,message:"请输入您的微信",trigger:"blur"}],email:[{required:!0,message:"请输入您的邮箱",trigger:"blur"}],corp_name:[{required:!0,message:"请输入你的公司",trigger:"blur"}]}}},created:function(){this.getCategoryList(),this.checkApplyStatus()},methods:{getCategoryList:function(){var t=this;axios.get("/tensorflow/es/categories").then(function(e){t.category_list=e.data.result})},checkApplyStatus:function(){var t=this;axios({method:"get",url:"/tensorflow/es/form/status",params:{user_id:PURE.user_id}}).then(function(e){t.status=e.data.result.apply})},applyEs:function(){var t=this;if(!PURE.is_user_logged_in)return this.$parent.showLogin=!0;this.$refs.form.validate(function(e){if(!e)return!1;t.loading=!0,axios({method:"post",url:"/tensorflow/es/form/apply",data:{user_id:PURE.user_id,name:t.form.name,corp_name:t.form.corp_name,job:t.form.job,phone:t.form.phone,wechat:t.form.wechat,email:t.form.email,type:t.form.type}}).then(function(e){console.log(e),0==e.data.code?(t.$message.success("提交成功"),t.status=!0):t.$message.error(e.data.message),t.loading=!1})})}},template:'<section class="u-backgroundColorWhite">    <div class="esApply--content">\n    <div class="esApply--content__left">\n        <div class="title cute">限时免费</div>\n        <div class="title">入驻即可成为企服联盟会员</div>\n        <div class="subtitle">解锁<span>4大</span>推广权益</div>\n        <div class="list">\n            <div class="item">\n                <img src="//image.woshipm.com/fp/images/icon-1.png" />\n                <div>\n                    <div class="top">专属展示页面免费生成</div>\n                    <div class="bottom">企业专属展示页面，优质信息持续曝光</div>\n                </div>\n            </div>\n            <div class="item">\n                <img src="//image.woshipm.com/fp/images/icon-2.png" />\n                <div>\n                    <div class="top">高意向客户线索高效获取</div>\n                    <div class="bottom">多渠道优质流量，助力企业匹配高意向客户</div>\n                </div>\n            </div>\n            <div class="item">\n                <img src="//image.woshipm.com/fp/images/icon-3.png" />\n                <div>\n                    <div class="top">企业推广精准曝光</div>\n                    <div class="bottom">多种推广方案，满足企业独家曝光需求</div>\n                </div>\n            </div>\n            <div class="item">\n                <img src="//image.woshipm.com/fp/images/icon-4.png" />\n                <div>\n                    <div class="top">企业信息免费更新</div>\n                    <div class="bottom">企业信息免费更新</div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="esApply--content__right" v-if="status">\n        <el-result\n            icon="success"\n            title="提交成功！我们将尽快与您联系"\n            sub-title="可扫描二维码与客服联系"\n        >\n            <template #extra>\n                <img\n                    src="https://wework.qpic.cn/wwpic/147686_fKGbLcBkQ9eTtqE_1677052166/0"\n                    class="qrcode"\n                    width="180"\n                />\n            </template>\n        </el-result>\n    </div>\n    <el-form\n        :model="form"\n        class="esApply--content__right"\n        ref="form"\n        size="small"\n        label-width="100px"\n        :rules="rules"\n        label-position="top"\n        v-else\n    >\n        <el-form-item label="人人ID" required prop="user_id">\n            <el-input\n                v-model="form.user_id"\n                placeholder="人人数字ID，自动拉取个人信息"\n            ></el-input>\n        </el-form-item>\n        <el-form-item label="服务类型" required prop="type">\n            <el-select v-model="form.type" placeholder="选择服务类型">\n                <el-option\n                    v-for="(item, index) in category_list"\n                    :key="index"\n                    :label="item.label"\n                    :value="item.value"\n                ></el-option>\n            </el-select>\n        </el-form-item>\n        <el-form-item label="姓名" required prop="name">\n            <el-input\n                v-model="form.name"\n                placeholder="请输入姓名"\n                show-word-limit\n                maxlength="12"\n            ></el-input>\n        </el-form-item>\n        <el-form-item label="公司" required prop="corp_name">\n            <el-input\n                v-model="form.corp_name"\n                placeholder="请输入公司"\n                show-word-limit\n                maxlength="36"\n            ></el-input>\n        </el-form-item>\n        <el-form-item label="职位" required prop="job">\n            <el-input\n                v-model="form.job"\n                placeholder="请输入职位"\n                show-word-limit\n                maxlength="12"\n            ></el-input>\n        </el-form-item>\n        <el-form-item label="手机号" required prop="phone">\n            <el-input\n                v-model="form.phone"\n                placeholder="请输入您的联系手机号"\n                show-word-limit\n                maxlength="12"\n            ></el-input>\n        </el-form-item>\n        <el-form-item label="微信" required prop="wechat">\n            <el-input\n                v-model="form.wechat"\n                placeholder="请输入微信"\n                show-word-limit\n                maxlength="36"\n            ></el-input>\n        </el-form-item>\n        <el-form-item label="邮箱" required prop="email">\n            <el-input\n                v-model="form.email"\n                placeholder="请输入邮箱"\n                show-word-limit\n                maxlength="36"\n            ></el-input>\n        </el-form-item>\n        <el-form-item label="">\n            <el-button\n                type="primary"\n                @click="applyEs"\n                :loading="loading"\n                class="button--esapply"\n                >立即申请</el-button\n            >\n            <el-popover\n  placement="bottom"\n  width="150"\n  trigger="click">\n  <img src="https://wework.qpic.cn/wwpic/147686_fKGbLcBkQ9eTtqE_1677052166/0" width="150" />\n  <el-button\n                type="primary"\n                slot="reference"\n                class="button--contact"\n                >直接咨询客服</el-button\n            >\n</el-popover>\n            \n        </el-form-item>\n    </el-form>\n</div>\n<div class="asApply--addon">\n    <div class="asApply--addon__left">\n        <div class="title">独特优势</div>\n        <div class="list">\n            <div class="item">企业品牌宣传，精准获客的窗口</div>\n            <div class="item">提供多样化的获客方案</div>\n            <div class="item">解锁曝光、流量、线索等权益</div>\n            <div class="item">平台用户质量高，是推动企业变革的重要角色</div>\n        </div>\n    </div>\n    <div class="asApply--addon__right">\n        <div class="title">企服联盟简介</div>\n        <div class="desc">\n            <p>\n                企服联盟是企业树立品牌形象、传递理念、推动好的企服产品向互联网人群安利的信息窗口。\n            </p>\n            <p>\n                人人都是产品经理为满足加入联盟的品牌曝光需求而推出传播矩阵化资源包，持续助力企服联盟企业高效触达互联网人群，让更多好企业、好产品，能让互联网人看见。\n            </p>\n        </div>\n    </div>\n</div>\n<div class="esApply--contact">\n    <img\n        class="icon"\n        src="https://image.woshipm.com/2023/04/11/d50f43b4-d838-11ed-bdd7-acde48001122.png"\n    />\n    <span class="gustor">帮找服务商</span>\n    <div class="addonArea">\n        <div class="addonArea--title">免费帮找服务商</div>\n        <div class="addonArea--list">\n            <span>专业顾问</span><span>及时响应</span><span>一对一</span>\n        </div>\n        <img\n            src="https://wework.qpic.cn/wwpic/147686_fKGbLcBkQ9eTtqE_1677052166/0"\n            class="qrcode"\n        />\n        <div class="addonArea--note">微信扫码咨询</div>\n    </div>\n</div></section>'}),esService=Vue.component("es-service",{props:["id"],data:function(){return{detail:"",id:"",products:[],cases:[]}},created:function(){this.getData()},methods:{getData:function(){var t=this;axios.get("/tensorflow/es/service/"+this.id).then(function(e){t.detail=e.data.result,t.$nextTick(function(){document.title=t.detail.name+" - "+document.title})})}},template:'    <div class="home-block">\n    <div class="u-width850">\n        <div class="corp--content-wrap">\n            <h2 class="es--caseDetailTitle">{{ detail.name }}</h2>\n            <div class="es--caseDetailMeta">\n                <span class="el-icon-view"></span>{{ detail.view_count\n                }}<span class="dot"></span><span class="el-icon-timer"></span\n                >{{ detail.create_time }}\n            </div>\n            <div class="esProduct--body">\n                <div v-html="detail.content" class="esProduct--content"></div>\n                <div v-if="detail.es" class="esProduct--infos">\n                    <div class="esProduct--info">\n                        <div class="esProduct--info__title">\n                            <span class="el-icon-s-cooperation"></span>公司信息\n                        </div>\n                        <div class="esProduct--info__content">{{ detail.es.title }}</div>\n                    </div>\n                    <div class="esProduct--info">\n                        <div class="esProduct--info__title">\n                            <span class="el-icon-connection"></span>官网地址\n                        </div>\n                        <div class="esProduct--info__content">{{ detail.es.corp_link }}</div>\n                    </div>\n                    <div class="esProduct--info">\n                        <div class="esProduct--info__title">\n                            <span class="el-icon-time"></span>成立时间\n                        </div>\n                        <div class="esProduct--info__content">{{ detail.es.start_time }}</div>\n                    </div>\n                    <div class="esProduct--info">\n                        <div class="esProduct--info__title">\n                            <span class="el-icon-location-outline"></span>公司地址\n                        </div>\n                        <div class="esProduct--info__content">{{ detail.es.location }}</div>\n                    </div>\n                    <div class="esProduct--info">\n                        <div class="esProduct--info__title">\n                            <span class="el-icon-wallet"></span>公司规模\n                        </div>\n                        <div class="esProduct--info__content">{{ detail.es.corp_size }}</div>\n                    </div>\n                </div>\n                <div class="esProduct--addon" v-if="detail.product_id">\n                    <div class="esProduct--imageTitle">关联产品</div>\n                    <div class="productList u-marginBottom30">\n                        <a\n                            class="productItem"\n                            :href="\'/esproduct?id=\' + detail.product.id"\n                            target="_blank"\n                        >\n                            <img :src="detail.product.logo" />\n                            <div>\n                                <div class="product-name">\n                                    {{ detail.product.name }}\n                                </div>\n                                <div class="product-desc">{{ detail.product.describe }}</div>\n                            </div>\n                        </a>\n                    </div>\n                </div>\n                <div class="coop--notice"><span class="el-icon-warning"></span>*信息来源:企业自主上传或其他公开渠道的信息\n        </div>\n            </div>\n        </div>\n    </div>\n    <aside class="esWrapper--right">\n        <div class="recommend--list u-marginBottom30">\n            <div class="recommend--list__item" v-if="detail.es">\n                <a :href="\'/es/\' + detail.es_id" target="_blank">\n                    <img :src="detail.es.logo" class="recommend--list__item__logo" />\n                    <div>\n                        <div class="recommend--list__item__title">{{ detail.es.title }}</div>\n                        <div class="recommend--list__item__meta">\n                            {{ detail.es.description }}\n                        </div>\n                    </div>\n                </a>\n            </div>\n        </div>\n    </aside>\n    <div class="esApply--contact">\n    <img\n        class="icon"\n        src="https://image.woshipm.com/2023/04/11/d50f43b4-d838-11ed-bdd7-acde48001122.png"\n    />\n    <span class="gustor">帮找服务商</span>\n    <div class="addonArea">\n        <div class="addonArea--title">免费帮找服务商</div>\n        <div class="addonArea--list">\n            <span>专业顾问</span><span>及时响应</span><span>一对一</span>\n        </div>\n        <img\n            src="https://wework.qpic.cn/wwpic/147686_fKGbLcBkQ9eTtqE_1677052166/0"\n            class="qrcode"\n        />\n        <div class="addonArea--note">微信扫码咨询</div>\n    </div>\n</div>\n</div>'}),esCase=Vue.component("es-case",{props:["id"],data:function(){return{detail:"",id:"",products:[],cases:[]}},created:function(){this.getData()},methods:{getData:function(){var t=this;axios.get("/tensorflow/es/case/"+this.id+"?user_id="+etEsCaseList(),t.$nextTick(function(){document.title=t.detail.name+" - "+document.title})})},getEsCaseList:function(){var t=this;axios.get("/tensorflow/es/case/list?es_id="+this.detail.es_id+"&user_id="+PURE.user_id).then(function(e){t.cases=e.data.result.filter(function(e){return e.id!==t.detail.id&&"approved"==e.status})})}},template:'<div class="home-block">\n    <div class="u-width850">\n        <div class="corp--content-wrap">\n            <h2 class="es--caseDetailTitle">{{ detail.name }}</h2>\n            <div class="es--caseDetailMeta">\n                <span class="el-icon-view"></span>{{ detail.view_count\n                }}<span class="dot"></span><span class="el-icon-timer"></span\n                >{{ detail.create_time }}\n            </div>\n            <div class="esProduct--body">\n                <div v-html="detail.content" class="esProduct--content"></div>\n                <div v-if="detail.es" class="esProduct--infos">\n                    <div class="esProduct--info">\n                        <div class="esProduct--info__title">\n                            <span class="el-icon-s-cooperation"></span>公司信息\n                        </div>\n                        <div class="esProduct--info__content">{{ detail.es.title }}</div>\n                    </div>\n                    <div class="esProduct--info">\n                        <div class="esProduct--info__title">\n                            <span class="el-icon-connection"></span>官网地址\n                        </div>\n                        <div class="esProduct--info__content">{{ detail.es.corp_link }}</div>\n                    </div>\n                    <div class="esProduct--info">\n                        <div class="esProduct--info__title">\n                            <span class="el-icon-time"></span>成立时间\n                        </div>\n                        <div class="esProduct--info__content">{{ detail.es.start_time }}</div>\n                    </div>\n                    <div class="esProduct--info">\n                        <div class="esProduct--info__title">\n                            <span class="el-icon-location-outline"></span>公司地址\n                        </div>\n                        <div class="esProduct--info__content">{{ detail.es.location }}</div>\n                    </div>\n                    <div class="esProduct--info">\n                        <div class="esProduct--info__title">\n                            <span class="el-icon-wallet"></span>公司规模\n                        </div>\n                        <div class="esProduct--info__content">{{ detail.es.corp_size }}</div>\n                    </div>\n                </div>\n                <div class="esProduct--addon" v-if="detail.product_id">\n                    <div class="esProduct--imageTitle">关联产品</div>\n                    <div class="productList u-marginBottom30">\n                        <a\n                            class="productItem"\n                            :href="\'/esproduct?id=\' + detail.product.id"\n                            target="_blank"\n                        >\n                            <img :src="detail.product.logo" />\n                            <div>\n                                <div class="product-name">\n                                    {{ detail.product.name }}\n                                </div>\n                                <div class="product-desc">{{ detail.product.describe }}</div>\n                            </div>\n                        </a>\n                    </div>\n                </div>\n                <div class="coop--notice"><span class="el-icon-warning"></span>*信息来源:企业自主上传或其他公开渠道的信息\n        </div>\n            </div>\n        </div>\n    </div>\n    <aside class="esWrapper--right">\n    <div class="esApply--contact">\n    <img\n        class="icon"\n        src="https://image.woshipm.com/2023/04/11/d50f43b4-d838-11ed-bdd7-acde48001122.png"\n    />\n    <span class="gustor">帮找服务商</span>\n    <div class="addonArea">\n        <div class="addonArea--title">免费帮找服务商</div>\n        <div class="addonArea--list">\n            <span>专业顾问</span><span>及时响应</span><span>一对一</span>\n        </div>\n        <img\n            src="https://wework.qpic.cn/wwpic/147686_fKGbLcBkQ9eTtqE_1677052166/0"\n            class="qrcode"\n        />\n        <div class="addonArea--note">微信扫码咨询</div>\n    </div>\n</div>\n    <div class="recommend--list u-marginBottom30">\n    <div class="recommend--list__item" v-if="detail.es"><a\n    :href="\'/es/\' + detail.es_id"\n    target="_blank"\n    \n    >\n    <img :src="detail.es.logo" class="recommend--list__item__logo" />\n    <div>\n                        <div class="recommend--list__item__title">{{ detail.es.title }}</div>\n                        <div class="recommend--list__item__meta">{{ detail.es.description }}</div>\n                    </div>\n                    </a>\n    </div>\n    </div>\n        <div class="recommend--list" v-if="cases.length">\n            <div class="recommend--list__title">更多案例</div>\n            <div class="recommend--list__item" v-for="(item, index) in cases"\n            :key="index">\n                <a\n                    :href="\'/escase?id=\' + item.id"\n                    target="_blank"\n                    \n                    ><img :src="item.logo" class="recommend--list__item__logo" />\n                    <div>\n                        <div class="recommend--list__item__title">{{ item.name }}</div>\n                        <div class="recommend--list__item__meta">{{ item.describe }}</div>\n                    </div></a\n                >\n            </div>\n        </div>\n    </aside>\n</div>'}),esProduct=Vue.component("es-product",{props:["id"],data:function(){return{detail:"",id:"",products:[],cases:[]}},created:function(){this.getData()},methods:{getData:function(){var t=this;axios.get("/tensorflow/es/product/"+this.id).then(function(e){t.detail=e.data.result,t.$nextTick(function(){document.title=t.detail.name+" - "+document.title})})}},template:'<div class="home-block">\n    <div class="u-width850">\n        <div class="corp--content-wrap">\n            <header class="es-productDetailHeader">\n                <div class="es-productDetailLogo">\n                    <img :src="detail.logo" alt="" />\n                </div>\n                <div class="es-productDetailName">\n                    {{ detail.name }}\n                </div>\n                <div class="es--caseDetailMeta">\n                    <span class="el-icon-view"></span>{{ detail.view_count\n                    }}<span class="dot"></span><span class="el-icon-timer"></span\n                    >{{ detail.create_time }}\n                </div>\n            </header>\n            <div class="esProduct--body">\n                <div class="esProduct--title">产品简介</div>\n                <div class="esProduct--desc">{{ detail.describe }}</div>\n                <div v-html="detail.content" class="esProduct--content"></div>\n                <div v-if="detail.es" class="esProduct--infos">\n                    <div class="esProduct--info">\n                        <div class="esProduct--info__title">\n                            <span class="el-icon-s-cooperation"></span>公司信息\n                        </div>\n                        <div class="esProduct--info__content">{{ detail.es.title }}</div>\n                    </div>\n                    <div class="esProduct--info">\n                        <div class="esProduct--info__title">\n                            <span class="el-icon-connection"></span>官网地址\n                        </div>\n                        <div class="esProduct--info__content">{{ detail.es.corp_link }}</div>\n                    </div>\n                    <div class="esProduct--info">\n                        <div class="esProduct--info__title">\n                            <span class="el-icon-time"></span>成立时间\n                        </div>\n                        <div class="esProduct--info__content">{{ detail.es.start_time }}</div>\n                    </div>\n                    <div class="esProduct--info">\n                        <div class="esProduct--info__title">\n                            <span class="el-icon-location-outline"></span>公司地址\n                        </div>\n                        <div class="esProduct--info__content">{{ detail.es.location }}</div>\n                    </div>\n                    <div class="esProduct--info">\n                        <div class="esProduct--info__title">\n                            <span class="el-icon-wallet"></span>公司规模\n                        </div>\n                        <div class="esProduct--info__content">{{ detail.es.corp_size }}</div>\n                    </div>\n                </div>\n                <div class="esProduct--addon" v-if="detail.media && detail.media.length">\n                    <div class="esProduct--imageTitle">\n                        产品截图<span class="count">共 {{ detail.media.length }} 张</span>\n                    </div>\n                    <div class="esProduct--images">\n                        <el-image\n                            v-for="(item, index) in detail.media"\n                            :src="item"\n                            :key="index"\n                            :preview-src-list="detail.media"\n                            :initial-index="index"\n                            fit="cover"\n                            :zoom-rate="1.2"\n                        ></el-image>\n                    </div>\n                </div>\n                <div class="esProduct--addon" v-if="detail.cases && detail.cases.length">\n                    <div class="esProduct--imageTitle">\n                        相关案例<span class="count">共 {{ detail.cases.length }} 个</span>\n                    </div>\n                    <div class="productList">\n                        <a\n                            v-for="item in detail.cases"\n                            :key="item.id"\n                            class="case-item"\n                            :href="\'/escase?id=\' + item.id"\n                            target="_blank"\n                        >\n                            <div class="cover-wrap">\n                                <span class="product-name">经典案例</span>\n                                <div class="cover img-wrapper">\n                                    <img\n                                        :src="item.logo"\n                                        class="img"\n                                        style="object-fit: cover"\n                                    />\n                                </div>\n                            </div>\n                            <div class="con-wrap">\n                                <div class="title">\n                                    {{ item.name }}\n                                </div>\n                            </div>\n                        </a>\n                    </div>\n                </div>\n                <div class="coop--notice">\n                    <span class="el-icon-warning"></span\n                    >*信息来源:企业自主上传或其他公开渠道的信息\n                </div>\n            </div>\n        </div>\n    </div>\n    <aside class="esWrapper--right">\n    <div class="esApply--contact">\n    <img\n        class="icon"\n        src="https://image.woshipm.com/2023/04/11/d50f43b4-d838-11ed-bdd7-acde48001122.png"\n    />\n    <span class="gustor">帮找服务商</span>\n    <div class="addonArea">\n        <div class="addonArea--title">免费帮找服务商</div>\n        <div class="addonArea--list">\n            <span>专业顾问</span><span>及时响应</span><span>一对一</span>\n        </div>\n        <img\n            src="https://wework.qpic.cn/wwpic/147686_fKGbLcBkQ9eTtqE_1677052166/0"\n            class="qrcode"\n        />\n        <div class="addonArea--note">微信扫码咨询</div>\n    </div>\n</div>\n        <div class="recommend--list u-marginBottom30">\n            <div class="recommend--list__item" v-if="detail.es">\n                <a :href="\'/es/\' + detail.es_id" target="_blank">\n                    <img :src="detail.es.logo" class="recommend--list__item__logo" />\n                    <div>\n                        <div class="recommend--list__item__title">{{ detail.es.title }}</div>\n                        <div class="recommend--list__item__meta">\n                            {{ detail.es.description }}\n                        </div>\n                    </div>\n                </a>\n            </div>\n        </div>\n    </aside>\n</div>'}),eventOverlay=(Vue.component("event-overlay",{props:["overlay"],methods:{close:function(){this.$emit("eventclose",!1)}},template:'\n    <div class="overlay overlay--dark">\n    <div class="overlay-dialog overlay--content__contact overlay-dialog--animate">\n    <button @click="close" class="button button--close">\n    <span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"></path></svg></span>\n    </button>\n    <div class="overlay--onlineContent">\n    <div class="overlay--onlineItem"><svg class="icon" viewBox="0 0 1194 1024" width="36" height="36"><path d="M728.064 535.296a35.498667 35.498667 0 1 1-70.912 0 35.498667 35.498667 0 0 1 70.912 0M974.08 535.296a35.498667 35.498667 0 1 1-70.997333 0 35.498667 35.498667 0 0 1 70.997333 0" fill="#5079b7" p-id="2198"></path><path d="M902.144 930.133333l-6.656 1.450667a594.176 594.176 0 0 1-18.602667 3.669333c-26.453333 4.778667-44.629333 6.826667-64 6.144-167.850667-5.546667-298.666667-87.893333-351.061333-218.709333a446.464 446.464 0 0 1-6.826667-19.114667l-1.962666-6.058666a199.68 199.68 0 0 1-3.84-13.653334 338.858667 338.858667 0 0 1-9.216-75.690666c0-171.008 157.013333-305.92 354.304-314.709334l8.874666-0.682666c7.850667-0.597333 12.970667-0.853333 18.773334-0.853334H836.693333l9.301334 0.170667c188.16 14.677333 340.394667 156.672 340.394666 323.925333 0 78.336-38.826667 155.733333-109.653333 222.293334a303.530667 303.530667 0 0 1-7.082667 6.4l9.984 71.082666a49.152 49.152 0 0 1-69.12 58.453334l-98.816-46.421334a582.485333 582.485333 0 0 1-9.472 2.304z m220.16-314.026666c0-131.754667-124.586667-247.978667-279.125333-260.096H821.930667c-3.754667 0-7.68 0.085333-13.994667 0.597333l-10.666667 0.768C631.466667 364.8 503.978667 474.453333 503.978667 608.256.842667 0.597333 2.474667 1.450667 5.632 2.56 9.216l1.706667 4.949333c2.133333 6.570667 4.266667 12.629333 5.632 15.957333 42.325333 105.728 149.930667 173.397333 293.717333 178.176 13.738667 0.512 28.16-1.109333 50.346667-5.12a531.626667 531.626667 0 0 0 16.64-3.242666l5.632-1.28c4.693333-1.109333 8.448-1.962667 19.370666-4.778667a32 32 0 0 1 21.418667 2.133333l85.248 40.106667-9.984-69.290667a32 32 0 0 1 13.909333-31.232c1.194667-0.853333 8.618667-6.912 15.189334-13.056 58.709333-55.210667 89.429333-116.394667 89.429333-175.616z m-1109.333333-237.909334C12.970667 171.52 206.677333 5.376 442.709333 5.376c208.384 0 394.24 130.304 431.872 306.090667 1.28 5.973333 1.28 11.264 0.512 16.896a32 32 0 0 1-63.658666-5.973334C779.178667 179.2 621.482667 69.376 442.709333 69.376 240.042667 69.376 76.970667 209.152 76.970667 378.282667c0 89.941333 46.165333 171.52 136.021333 237.568a32 32 0 0 1 11.434667 35.84l-23.296 69.973333 104.96-48.896a32 32 0 0 1 22.442666-1.706667l5.461334 1.706667c54.357333 11.093333 76.288 14.506667 108.714666 14.506667a200.789333 200.789333 0 0 0 32.256-4.010667c-0.512 0.170667-1.536 0.512-2.730666 1.536a33.109333 33.109333 0 0 1 39.253333 1.109333 32 32 0 0 1 5.376 44.970667c-11.776 14.848-47.36 20.309333-74.24 20.309333-37.12 0-62.037333-3.584-119.893333-15.530666L198.570667 793.6a49.493333 49.493333 0 0 1-68.949334-59.733333l26.88-80.64C62.976 577.706667 12.970667 482.986667 12.970667 378.197333z" fill="#4370f5" p-id="2199"></path><path d="M344.576 254.378667a44.373333 44.373333 0 1 1-88.746667 0.085333 44.373333 44.373333 0 0 1 88.746667 0M636.586667 254.378667a44.373333 44.373333 0 1 1-88.746667 0.085333 44.373333 44.373333 0 0 1 88.746667 0" fill="#4370f5"></path></svg>\n    <div class="text">微信咨询</div>\n    <div class="dropdown"><img :src="overlay.qrcode"></div>\n    </div>\n    <div class="overlay--onlineItem"><svg class="icon" viewBox="0 0 1024 1024" width="36" height="36"><path d="M834.048 968.192H185.856c-13.824 0-25.088-11.264-25.088-25.088V81.408c0-13.824 11.264-25.088 25.088-25.088h648.192c13.824 0 25.088 11.264 25.088 25.088v861.184c0 14.336-11.264 25.6-25.088 25.6z m-623.104-50.688h597.504V107.008H210.944v810.496z" fill="#4370f5"></path><path d="M718.848 724.48H300.544c-13.824 0-25.088-11.264-25.088-25.088V204.8c0-13.824 11.264-25.088 25.088-25.088h417.792c13.824 0 25.088 11.264 25.088 25.088v494.592c0.512 13.824-10.752 25.088-24.576 25.088z m-392.704-50.176h367.616V230.4H326.144v443.904z" fill="#4370f5"></path><path d="M509.952 818.688m-50.176 0a50.176 50.176 0 1 0 100.352 0 50.176 50.176 0 1 0-100.352 0Z" fill="#4370f5"></path></svg>\n    <div class="text">电话咨询</div>\n    <div class="dropdown phone">{{ overlay.phone }}</div>\n    </div>\n    <a :href="overlay.link" target="_blank" class="overlay--onlineItem">\n    <svg class="icon" viewBox="0 0 1024 1024" width="36" height="36"><path d="M864.768 424.448c-10.752 0-20.992 2.048-30.208 5.632V373.248c0-177.664-144.384-322.048-322.048-322.048S190.464 195.584 190.464 373.248V430.08c-9.216-3.584-18.944-5.632-29.696-5.632-46.592 0-83.968 37.888-83.968 83.968V665.6c0 46.592 37.888 83.968 83.968 83.968 14.336 0 27.648-3.584 39.424-9.728 30.208 104.448 126.976 181.248 241.152 181.248h6.144c19.968 28.672 53.248 47.616 91.136 47.616 60.928 0 110.592-49.664 110.592-110.592 0-60.928-49.664-110.592-110.592-110.592-60.928 0-110.592 49.664-110.592 110.592 0 3.072 0 5.632 0.512 8.704-100.864-6.656-181.248-89.6-184.32-191.488 0.512-3.072 0.512-6.656 0.512-9.728V508.928c0-3.584-0.512-7.168-1.024-10.752V373.248c0-147.968 120.32-267.776 267.776-267.776s267.776 120.32 267.776 267.776v309.76c0 7.68 3.584 14.848 8.704 19.968 13.824 27.648 42.496 46.592 75.264 46.592 46.592 0 83.968-37.888 83.968-83.968V508.928c2.048-46.592-35.84-84.48-82.432-84.48z m-325.12 377.344c31.232 0 56.832 25.6 56.832 56.832s-25.6 56.832-56.832 56.832-56.832-25.6-56.832-56.832 25.088-56.832 56.832-56.832z m-378.368-105.984c-16.896 0-30.208-13.824-30.208-30.208V508.928c0-16.896 13.824-30.208 30.208-30.208 14.336 0 26.624 10.24 29.696 23.552v170.496c-3.072 13.312-14.848 23.04-29.696 23.04z m734.208-30.208c0 16.896-13.824 30.208-30.208 30.208s-30.208-13.824-30.208-30.208V508.928c0-16.896 13.824-30.208 30.208-30.208s30.208 13.824 30.208 30.208V665.6z" fill="#4370f5"></path></svg>\n    <div class="text">在线咨询</div>\n    </a>\n    </div>\n    </div>\n    </div>'}),Vue.component("online-overlay",{props:["overlay"],methods:{close:function(){this.$emit("eventclose",!1)}},template:'\n    <div class="overlay overlay--dark">\n    <div v-if="overlay == 1" class="overlay-dialog overlay--content__contact overlay-dialog--animate">\n    <button class="button button--close" @click="close"><span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"></path></svg></span></button>\n        <div class="overlay--contactTitle">商务、市场、赞助等合作</div>\n        <div class="overlay--contactContent"><img src="https://image.yunyingpai.com/wp/2019/12/GFakBAIYFKwFI7Rm4Jet.jpeg">\n        <div>\n        <p>扫码联系我</p>\n<p>或拨打电话</p>\n<p>13113616130</p>\n</div>\n</div>\n        </div>\n        <div v-else class="overlay-dialog overlay--content__contact overlay-dialog--animate"><button class="button button--close" @click="close"><span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"></path></svg></span></button>\n        <div class="overlay--contactTitle">票务咨询、企业团购等问题</div>\n        <div class="overlay--contactContent">\n<img src="https://image.yunyingpai.com/wp/2019/12/3mM8CfyPWbt3pgUL54pl.jpeg">\n<div>\n        <p>扫码联系我</p>\n\n\n<p>或拨打电话</p>\n<p>15018475272</p></div></div>\n        </div>\n        </div>\n        \n        '}),Vue.component("event-overlay",{props:["showLogin"],data:function(){return{url:"",show:!1,read:!1}},created:function(){var t=this;this.$nextTick(function(){var e;setTimeout(function(){t.show=!0},1e4),document.querySelector(".trackRead")&&(e=getElementTopstener("scroll",function(){window.scrollY+window.innerHeight>eow=!0)}))})},template:'\n  <div class="overlay overlay--dark overlay--new" v-show="show">\n        <div class="qdb--dialog">\n        <span class="icon--close" @click="hideLoginForm"></span>\n        <div class="left">\n            <div class="h--title">免费送</div>\n            <div class="s--title">扫码添加 领取全套资料</div>\n            <div class="list">\n                <div class="item">\n                    <img\n                        src="https://image.woshipm.com/2023/06/27/3bbd0c38-14b9-11ee-b89d-00163e0b5ff3.png"\n                    />\n                    免费领取·<b>行业解决方案</b>\n                </div>\n                <div class="item">\n                    <img\n                        src="https://image.woshipm.com/2023/06/27/3bbd0c38-14b9-11ee-b89d-00163e0b5ff3.png"\n                    />免费领取·<b>数字化产品经理能力模型</b>\n                </div>\n                <div class="item">\n                    <img\n                        src="https://image.woshipm.com/2023/06/27/3bbd0c38-14b9-11ee-b89d-00163e0b5ff3.png"\n                    />免费领取·<b>数字化人才测评模型</b>\n                </div>\n                <div class="item">\n                    <img\n                        src="https://image.woshipm.com/2023/06/27/3bbd0c38-14b9-11ee-b89d-00163e0b5ff3.png"\n                    />免费领取·<b>行业培养案例</b>\n                </div>\n            </div>\n        </div>\n        <div class="right">\n            <div class="right--title">\n                <img\n                    class="avatar"\n                    src="https://image.woshipm.com/2023/06/27/2f666d30-14b9-11ee-bdec-00163e0b5ff3.png"\n                />你好，我是你的专属顾问\n            </div>\n            <div class="qrcode--area">\n                <div>微信扫码添加</div>\n                <img\n                    src="https://static.woshipm.com/views/woshipm_api_def_20230321173512_8845.png"\n                    class="qrcode"\n                />\n                <div>咨询电话 <b>18529089743</b></div>\n            </div>\n        </div>\n    </div>\n    </div>\n  ',methods:{hideLoginForm:function(){this.show=!1}}})),hotPostItem=Vue.component("hot-post-list",{data:function(){return{hotPosts:[],loading:!1,types:[{name:"日榜",key:"daily"},{name:"周榜",key:"weekly"},{name:"月榜",key:"monthly"}],type:"daily"}},watch:{type:function(){this.getHotPosts()}},created:function(){this.getHotPosts()},methods:{handleTab:function(e){this.type=e},openVip:function(e){console.log(e),1200==e.parentCode&&window.open("https://996.pm/YP38J")},getHotPosts:function(){var t=this;this.hotPosts=[],this.loading=!0,axios.get("/api2/app/article/popular/"+this.type).then(function(e){t.hotPosts=e.data.RESULT.map(function(e){return e.data.permalink="https://www.woshipm.com/?p="+e.data.id,e.data.tag=e.data.tag?e.data.tag.split(" ").slice(0,3):[],e.data}),t.loading=!1})}},template:'\n    <section>\n    <nav class="hot-post-nav">\n        <span class="hot-post-nav-item" v-for="item in types" :class="{active: type === item.key}" @click="handleTab(item.key)">{{ item.name }}</span>\n    </nav>\n    <div class="user-main-content" data-dts-event-location="article_items">\n    <div class="u-paddingBottom30" v-if="loading">\n    <div class="postlist-item u-backgroundColorWhite placeholder postlist-placeholder" ><div class="post-img">\n        <div class="img"></div>\n    </div> <div class="content">\n    <h2 class="title"></h2>\n    <div class="desc"></div>\n    <div class="desc"></div>\n    </div>\n    </div>\n    <div class="postlist-item u-backgroundColorWhite placeholder postlist-placeholder" ><div class="post-img">\n        <div class="img"></div>\n    </div> <div class="content">\n    <h2 class="title"></h2>\n    <div class="desc"></div>\n    <div class="desc"></div>\n    </div>\n    </div>\n    <div class="postlist-item u-backgroundColorWhite placeholder postlist-placeholder" ><div class="post-img">\n        <div class="img"></div>\n    </div> <div class="content">\n    <h2 class="title"></h2>\n    <div class="desc"></div>\n    <div class="desc"></div>\n    </div>\n    </div>\n    </div>\n    <div class="postlist-item u-backgroundColorWhite" v-for="post in hotPosts" :key="post.id">\n  <div class="post-img">\n  <a :href="post.permalink" target="_blank">\n  <img :src="post.imageUrl">\n  </a>\n  </div>\n  <div class="content">\n  <h2 class="post-title"><a :href="post.permalink"  target="_blank">{{ post.articleTitle }}</a></h2>\n  <div class="des">{{ post.articleSummary }}</div>\n  <div class="stream-list-meta"><div class="u-flex0">\n  <a target="_blank" :href="\'https://www.woshipm.com/u/\' + post.uid " class="u-flex u-relative">\n  <img :src="post.articleAuthorAvatar" class="avatar"></a></div><div class="u-flex1"><div class="author u-flex"><a target="_blank" :href="\'/u/\' + post.uid "  class="ui-captionStrong u-flex">{{ post.articleAuthor }}</a><el-tooltip v-for="tag in post.userTags.filter( e=> {\n    return ![1600].includes(e.parentCode) && e.tagCode !== 1204;\n})" :class="\'newusertagIcon icon-num-\' + tag.tagCode" effect="dark" :content="tag.tagName" placementoshipm.com/tag/\' +lick="openVip(tag)" :class="{\'u-cursorPointer\': tag.parentCode == 1200}" /></el-tooltip></div>\n<div class="meta--sup"><time itemprop="datePublished">{{ post.timeStr }}</titlist-item__tag" v-for="tag,oi in post.tag" :key="oi">{{ tag }}</span>\n  </div>\n  </div>\n  </div>\n  </div>\n  </div>\n  </div></div>\n    </section>\n  \n  '{props:["card"],data:function(){return{hotQuestions:[],paged:1,total:0,loading:!1}},created:function(){this.getHotQuestions()},methods:{loadMore:function(){this.finished||this.loading||(this.paged++,this.getHotQuestions())},getHotQuestions:function(){var t=this;this.loading=!0,axios({url:"/api/recommendation/questions/full-info",params:{PN:this.paged,PS:20}}).then(function(e){t.loading=!1,t.hotQuestions=[].concat(_toConsumableArray(t.hotQuestions),_toConsumableArray(e.data.RESULT.list)),t.total=e.data.RESULT.count})}},computed:{finished:function(){return this.hotQuestions.length>=this.total},hotQuestionsFilter:function(){return this.hotQuestions.filter(function(e,t){return t<2})},hotQuestionsList:function(){return this.card?this.hotQuestions.filter(function(e,t){return 2<=t}):this.hotQuestions}},template:'<section>\n    <div class="hot-qlist-hero" v-if="card">\n        <div\n            class="widget--question--hero"\n            v-for="(question, index) in hotQuestionsFilter"\n            :key="index"\n        >\n            <img\n                :src="\n                    index == 0\n                        ? \'//image.woshipm.com/wp-files/2020/06/qgEa9DwE5Xshp2Q7EbAx.png\'\n                        : \'//image.woshipm.com/wp-files/2020/06/6cZ8GZZmlv0Gyut9yFBD.png\'\n                "\n                class="img"\n            />\n            <div class="content">\n                <div class="title">{{ question.title }}</div>\n                <div class="des">\n                    {{ question.UName }}\n                </div>\n                <div class="meta">\n                    <div class="avatar-list">\n                        <img\n                            v-for="user in question.LUInfos"\n                            :key="user.LUID"\n                            :src="user.UAvatar"\n                            class="avatar"\n                            height="24"\n                            width="24"\n                        />\n                        <span class="c"\n                            >{{ question.clickCount }} 人阅读<span class="dot"></span\n                            >{{ question.commentCount }}                   >\n                    </div>\n                    <a :href="question.questionUrl" target="_blank" class="btn">进入回答</a>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="js-hot-qlist-home">\n        <div\n            class="user-qes-item u-shadowed u-rounded"\n            v-for="question in hotQuestionsList"\n            :key="question.id"\n        >\n            <h2>\n                <a :href="question.questionUrl" target="_blank">{{ question.title }}</a>\n            </h2>\n            <div class="user-qes-meta">\n                <div class="user-avatars">\n                    <img\n                        v-for="user in question.LUInfos"\n                        :key="user.LUID"\n                        :src="user.UAvatar"\n                        class="avatar"\n                    />\n                </div>\n                {{ question.commentCount }} 人参与讨论<span class="dot"></span>{{ question.clickCount }} 人阅读\n                <div class="meta-right">\n                    <a :href="question.questionUrl" target="_blank" class="btn">进入回答</a>\n                </div>\n            </div>\n        </div>\n        \n    </div><div class="block--action"><div class="loadmore u-rounded" v-loading="loading"><span class="u-cursorPointer" @click="loadMore">{{ finished ? \'没有更多了\' : \'更多问答\'}}</span></div></div>\n</section>'}),imageView=Vue.component("imageView",{template:'<div class="wrapper" ref="wrapper">\n    <div class="brief-view-wrapper" ref="outerWrapper">\n        <template v-if="isSingleImage">\n            <div\n                v-if="!isMobilie"\n                class="single-img-container"\n            >\n                <img :src="imageList[0] + \'?imageView2/0/w/200\'" class="b-thumb" />\n            </div>\n            <div v-else class="single-img-container">\n                <img\n                    :src="imageList[0] + \'?imageView2/0/w/200\'"\n                    class="b-thumb previewer-demo-img"\n                />\n            </div>\n        </template>\n        <template v-else>\n            <div class="multiple-img-wrapper" :class="[colsOfMultipleImages]">\n                <template v-if="!isMobilie">\n                    <div\n                        class="multiple-img-container"\n                        v-for="item in imageList"\n                        :key="item"\n                    >\n                        <img :src="item + \'?imageView2/1/w/300\'" class="b-thumb" />\n                    </div>    <template v-else>\n                    <div\n                        class="multiple-img-container"\n                        v-for="(item, index) in imageList  :key="item"\n                    >\n                        <img\n                            :src="item + \'?imageView2/0/w/200\'"\n                            class="b-thumb previewer-demo-img"\n                        />\n                    </div>\n                </template>\n            </div>\n        </template>\n    </div>\n</div>turn{isShowDetail:!1,currentImageIndex:0,isMobilie:!1,options:{getThumbBoundsFn:function(e){var e=document.querySelectorAll(".previewer-demo-img")[e],t=window.pageYOffset||document.documentElement.scrollTop,e=e.getBoundingClientRect();return{x:e.left,y:e.top+t,w:e.width}}}}},computed:{isSingleImage:function(){return!(1<this.imageList.length)},colsOfMultipleImages:function(){var e=this.imageList.length;return 0===e?"":{1:"col-4",2:"col-4",3:"col-3",4:"col-4",5:"col-3",6:"col-3",7:"col-3",8:"col-3",9:"col-3"}[e]},imageListMobile:function(){var t=[];return this.imageList.forEach(function(e){t.push({src:e,msrc:e})}),t}},methods:{show:function(e){this.$refs.previewer.show(e)},showDetailImage:function(e){this.currentImageIndex=this.imageList.indexOf(e);var t=this.$refs.detailImage;t.onload=function(){},t.src=e,this.isShowDetail=!0},hideDetailImage:function(){this.isShowDetail=!1,this.$emit("closezoom",!0)},switchImage:function(e){var t=this;t.currentImageIndex+=e,console.log(t.currentImageIndex),t.showDetailImage(t.imageList[t.currentImageIndex])},switchSmallImage:function(e){this.showDetailImage(this.imageList[e])}}}),infoSetting=(Vue.component("index-question-card",{data:function(){return{questions:[]}},created:function(){this.getAnswer()},computed:{randomHomeQuestions:function(){return this.questions.slice(0,6)}},methods:{getAnswer:function(){var t=this;axios.get("/api/recommendation/questions/rewards").then(function(e){t.questions=e.data.RESULT.list}).catch(function(){t.questions=[]})}},template:'<div class="home--questionCards u-shadowed u-rounded">\n    <nav class="stream-video--title">\n        <span class="title">悬赏问答</span>\n        <a href="https://wen.woshipm.com/" target="_blank" class="more">更多问答</a>\n    </nav>\n    <div class="questionCard- v-for="question in randomHomeQuestions" :key="question.id" :question="question"></index-question>\n    </div>\n  </div>'}),Vue.component("index-question",{props:["question"],template:'\n    <div class="questionCard--item">\n    <div class="content">\n        <div class="title">\n        <div class="reward">\n            <img src="/read.svg"><span>¥{{ question.reward }}</span>\n        </div>\n        <a :href="question.questionUrl" target="_blank">{{ question.title }}</a>\n        </div>\n        <div class="action">\n            <div class="rachel--box__list">\n               <img v-for="avatar in question.LUInfos" :src="avatar.UAvatar" class="avatar" />\n            </div>\n            {{ question.commentCount }} 人参与了讨论<span class="dot"></span>{{ question.clickCountStr }} 阅读\n            <a :href="question.questionUrl" target="_blank" class="link">前往回答</a>\n        </div>\n    </div>\n  </div>\n    '}),Vue.component("index-topic-card",{props:["title","exclude"],data:function(){return{randomTopics:[],webp:!1}},created:function(){this.getTopics()},methods:{getTopics:function(){var t=this,n=!1;try{n=0==documeas").toDataURL("image/webp").indexOf("data:image/webp")}catch(e){console.log(e)}console.log(n),axios({url:"/__api/v3/topic-suggestions",params:{exclude:this.exclude}}).then(function(e){t.randomTopics=e.data.map(function(e){return e.image=n?e.image+"?x-oss-process=image/quality,q_80/format,webp":e.image,console.log(n),e}),t.$nextTick(function(){sidebarAffix()})})}},template:'<div class="stream-topics u-shadowed u-rounded js-topic-list">\n    <nav class="stream-video--title">\n        <span class="title">{{ title ? title : \'推荐专题\' }}</span>\n        <a href="/topic-list" target="_blank" class="more">更多专题</a>\n    </nav>\n    <div class="stream-list-topic" >\n    <div class="stream-img-pad"  v-for="topic in randomTopics" :key="topic.id">\n    <a target="_blank" :href="topic.link" class="image">\n        <i class="topic-i">专题</i>\n        <img :src="topic.image">\n        <div class="meta">{{ topic.views }}人已学习<span class="dot"></span>{{ topic.count }}篇文章</div>\n    </a>\n    <div class="info">\n        <div class="title"><a target="_blank" :href="topic.link">{{ topic.name }}</a></div>\n        <div class="desc">{{ topic.description }}</div>\n    </div>\n  </div>\n    </div>\n</div>'}),Vue.component("widget-authors",{props:["author"],data:function(){return{loading:!1}},methods:{handleFollow:function(){var e=this;if(!PURE.is_user_logged_in)return this.$parent.showLogin=!0;this.loading||(this.loading=!0,this.author.isConcern?axios.post("/api-o/api/userRelation/unFollow.html?friendUid="+this.author.authorId).then(function(){e.$message("取消关注成功"),e.loading=!1}):axios.post("/api-o/api/userRelation/follow.htm?friendUid="+this.author.authorId).then(function(){e.$message("关注成功"),e.loading=!1}),this.author.isConcern=!this.author.isConcern)}},template:'\n    <div class="widget-author-list-item">\n    <a class="image-link u-relative" :href="\'/u/\' + author.authorId" target="_blank">\n    <img :src="author.avartar" width="44" height="44" class="avatar">\n    \n    </a>\n    <div class="widget-author-list-content">\n    <h4><a :href="\'/u/\' + author.authorId " target="_blank" class="u-flex">{{ author.nickName }}<el-tooltip v-for="tag in author.tags.filter( e=> {\n        return e.parentCode == 1100;\n    })"class="newusertagIcon" effect="dark" :content="tag.tagName" placement="top"><img :src="\'https://static.woshipm.com/tag/\' + tag.tagCode + \'_1@2x.png \'" width=16 /></el-tooltip></a>\n    <button class="button button--follow" @click="handleFollow" :class="{active: author.isConcern }">{{ author.isConcern ? \'已关注\' : \'关注\' }}</button>\n    </h4>\n    <div class="des">{{ author.user_identity }}</div>\n    <div class="meta">{{ author.articleCount }} 文章<span class="dot"></span> {{ author.subCount }} 关注</div>\n    </div>\n    </div>\n    '}),Vue.component("widget-authors-card",{data:function(){return{authors:[],loading:!1}},created:function(){this.getWidgetAuthors()},computed:{randomHomeAuthors:function(){return this.authors.slice(0,3)}},methods:{getWidgetAuthors:function(){var t=this;axios({url:"/api2/recommendation/authors/simple-info"}).then(function(e){t.authors=e.data.RESULT.authors}).catch(function(){t.authors=[]})},handleFollow:function(e){var t=this;if(!PURE.is_user_logged_in)return this.$parent.showLogin=!0;this.loading||(this.loading=!0,e.isConcern?axios.post("/api-o/api/userRelation/unFollow.html?friendUid="+e.authorId).then(function(){t.$message("取消关注成功"),t.loading=!1}):axios.post("/api-o/api/userRelation/follow.htm?friendUid="+e.authorId).then(function(){t.$message("关注成功"),t.loading=!1}),e.isConcern=!e.isConcern)}},template:'<div class="widget u-backgroundColorWhite">\n    <div class="inner">\n        <div class="widget-title"><span>推荐作家</span>\n            <div class="u-floatRight btn" data-dts-event-location="recom_author_more">\n                <a href="/users" target="_blank">查看更多</a>\n            </div>\n        </div>\n        <div class="widget-content widget-author-list js-hot-ulist" data-dts-event-location="recom_author_module">\n        <div class="widget-author-list-item" v-for="author in randomHomeAuthors" :key="ative" :href="\'/u/\' + author.authorId" target="_blank">\n    <img :src="author.avartar" width="44" h="widget-author-list-content">\n    <h4><a :href="\'/u/\' + author.authorId " target="_blank" class="u-flex">{{ author.nickName }}<el-tooltip v-for="tag in author.tags.filter( e=> {\n        return e.parentCode == 1100;\n    })"class="newusertagIcon" effect="dark" :content="tag.tagName" placement="top"><img :src="\'https://static.woshipm.com/tag/\' + tag.tagCode + \'_1@2x.png \'" width=16 /></el-tooltip></a>\n    <button class="button button--follow" @click="handleFollow(author)" :class="{active: author.isConcern }">{{ author.isConcern ? \'已关注\' : \'关注\' }}</button>\n    </h4>\n    <div class="des">{{ author.user_identity }}</div>\n    <div class="meta">{{ author.articleCount }} 文章<span class="dot"></span> {{ author.subCount }} 关注</div>\n    </div>\n    </div>\n        </div>\n    </div>\n</div>'}),Vue.component("user-info-setting",{props:["status","info"],data:function(){return{settingNav:[{name:"资料设置",value:"info"},{name:"密码设置",value:"password"},{name:"更多资料",value:"more"}],customOptions:{shortcuts:[{text:"至今",value:-1,onClick:function(e){e.$emit("pick","")}}]},settingType:"info",userLoading:!1,infoSubmiting:!1,educationList:[],workList:[],degreeList:[{name:"其他",value:5},{name:"博士",value:4},{name:"研究生",value:3},{name:"本科",value:1},{name:"大专",value:2},{name:"高中",value:0}],educationForm:{school:"",major:"",degree:"",fromTime:"",endTime:"",id:0},educationFormVisible:!1,workForm:{company:"",job:"",fromTime:"",endTime:"",industry:"",id:0},headers:{COMMON_ACCESS_TOKEN:PURE.token,COMMON_ACCESS_TOKEN_SECRET:PURE.secret},workFormVisible:!1,authenticated:0,industryList:[{name:"互联网",value:"互联网"},{name:"金融",value:"金融"},{name:"教育",value:"教育"},{name:"医疗",value:"医疗"},{name:"游戏",value:"游戏"},{name:"电商",value:"电商"},{name:"广告",value:"广告"},{name:"媒体",value:"媒体"},{name:"房地产",value:"房地产"},{name:"其他",value:"其他"}],user:{nickname:"",description:"",user_company:"",user_job:"",user_avatar:"",user_phone:"",email:"",user_name:""}}},created:function(){this.getData()},methods:{getData:function(){var t=this;axios({url:"/api3/user/profileV3.html",params:{COMMON_ACCESS_TOKEN:PURE.token,COMMON_ACCESS_TOKEN_SECRET:PURE.secret}}).then(function(e){e.data.RESULT.educationList&&(t.educationList=e.data.RESULT.educationList.map(function(e){return e})),e.data.RESULT.workList&&(t.workList=e.data.RESULT.workList),t.user={nickname:e.data.RESULT.profile.nickName,description:e.data.RESULT.profile.description,user_company:e.data.RESULT.profile.company,user_job:e.data.RESULT.profile.user_job,user_avatar:e.data.RESULT.profile.avartar,user_phone:e.data.RESULT.profile.mobile,email:e.data.RESULT.profile.email,user_name:e.data.RESULT.profile.userLogin},t.authenticated=e.data.RESULT.profile.authenticated})},switchSetting:function(e){this.settingType=e},onSubmit:function(){var t=this;this.infoSubmiting=!0,axios({method:"patch",url:"/api2/user/info",params:{nickName:this.user.nickname,description:this.user.description,company:this.user.user_company,job:this.user.user_job,avatar:this.user.user_avatar}}).then(function(e){200==e.data.CODE?t.$message.success("保存成功"):t.$message.error(e.data.MESSAGE),t.$parent.fetchUserInfo(),t.infoSubmiting=!1})},onChangePassword:function(){var t=this;this.user.password!==this.user.passwordrepeat&&this.$message.error("新密码确认不一致"),this.infoSubmiting=!0,axios.post("/__api/v3/me/password",{passwordold:this.user.passwordold,passwordnew:this.user.password}).then(function(e){t.$message.success(e.data.message),t.infoSubmiting=!1})},handleAvatarSuccess:function(e,t){200==e.CODE?this.user.user_avatar=e.RESULT.url:this.$message.error(e.MESSAGE)},beforeAvatarUpload:function(e){e=e.size/1024/1024<10;return e||this.$message.error("上传头像图片大小不能超过 10MB!"),e},deleteEducation:function(e){var t=this,n=this.educationList.indexOf(e);this.$confirm("此操作将永久删除该条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){axios({method:"delete",url:"/api2/user/education/"+e.id}).then(function(e){t.educationList.splice(n,1),t.$message.success("删除成功")})})},onSubmitEducation:function(){var n=this;this.$refs.educationForm.validate(function(e){e&&axios({method:"post",url:"/api2/user/education",data:{school:n.educationForm.school,major:n.educationForm.major,degree:n.educationForm.degree,fromTime:n.educationForm.fromTime,endTime:n.educationForm.endTime,id:n.educationForm.id}}).then(function(t){200==t.data.CODE?(n.educationForm.id?n.educationList=n.educationList.map(function(e){return e=e.id==n.educationForm.id?t.data.RESULT:e}):n.educationList.push(t.data.RESULT),n.educationForm={school:"",major:"",degree:"",fromTime:"",endTime:"",id:0},n.educationFormVisible=!1,n.$message.success("保存成功")):n.$message.error(t.data.MESSAGE)})})},onSubmitWork:function(){var n=this;this.$refs.workForm.validate(function(e){e&&axios({method:"post",url:"/api2/user/work",data:{company:n.workForm.company,job:n.workForm.job,fromTime:n.workForm.fromTime,endTime:n.workForm.endTime||-1,industry:n.workForm.industry,id:n.workForm.id}}).then(function(t){200==t.data.CODE?(n.workList.id?n.workList=n.workList.map(function(e){return e=e.id==n.workForm.id?t.data.RESULT:e}):n.workList.push(t.data.RESULT),n.workFormVisible=!1,n.$message.success("保存成功")):n.$message.error(t.data.MESSAGE)})})},editWork:function(e){this.workForm={company:e.company,job:e.job,fromTime:e.fromTime.toString(),endTime:-1==e.endTime?"":e.endTime.toString(),industry:e.industry,id:e.id},this.workFormVisible=!0},editEducation:function(e){this.educationForm={school:e.school,major:e.major,degree:e.degree,fromTime:e.fromTime.toString(),endTime:-1==e.endTime?"":e.endTime.toString(),id:e.id},this.educationFormVisible=!0},newEducation:function(){this.educationFormVisible=!0},closeWorkForm:function(){this.workFormVisible=!1,this.workForm={company:"",job:"",fromTime:"",endTime:"",industry:"",id:0}},closeEducationForm:function(){this.educationFormVisible=!1,this.educationForm={school:"",major:"",degree:"",fromTime:"",endTime:"",id:0}},newWork:function(){this.workFormVisible=!0},deleteWork:function(e){var t=this,n=this.workList.indexOf(e);this.$confirm("此操作将永久删除该条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){axios({method:"delete",url:"/api2/user/work/"+e.id}).then(function(e){t.workList.splice(n,1),t.$message.success("删除成功")})})},querySearchAsync:function(e,t){axios.get("https://www.woshipm.com/api3/seachAPI/getCompanyData.html?key="+e).then(function(e){200==e.data.CODE&&(e=e.data.RESULT.map(function(e){return{value:e.companyName,id:e.id}}),t(e))})},handleSelect:function(e){console.log(e),this.user.user_company=e.value}},computed:{pending:function(){return 0===this.status||5===this.status}},template:'<section>\n    <el-dialog title="添加工作经历" :visible.sync="workFormVisible" width="600px" @close="closeWorkForm">\n        <el-form ref="workForm" :model="workForm" label-width="80px" size="small">\n            <el-form-item label="公司名称" required prop="company">\n                <el-input v-model="workForm.company" placeholder="请输入公司名称" maxlength="20" show-word-limit></el-input>\n            </el-form-item>\n            <el-form-item label="职位" required prop="job">\n                <el-input v-model="workForm.job" placeholder="请输入职位"  maxlength="20" show-word-limit></el-input>\n            </el-form-item>\n            <el-form-item label="行业" required prop="industry">\n                <el-select v-model="workForm.industry" placeholder="请选择">\n                    <el-option v-for="item in industryList" :key="item.value" :label="item.name" :value="item.value"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label="在职时间" required prop="fromTime">\n                <el-date-picker v-model="workForm.fromTime" type="month" placeholder="选择日期"  value-format="yyyyMM"></el-date-picker> - \n                <el-date-picker v-model="workForm.endTime" type="month" :placeholder="workForm.endTime ? workForm.endTime : \'至今\'"  value-format="yyyyMM" :picker-options="customOptions" class="holder--black"></el-date-picker>\n            </el-form-item>\n        </el-form>\n        <span slot="footer" class="dialog-footer">\n            <el-button @click="closeWorkForm" size="small">取 消</el-button>\n            <el-button type="primary" @click="onSubmitWork" size="small">确 定</el-button>\n        </span>\n    </el-dialog>\n    <el-dialog title="添加教育经历" :visible.sync="educationFormVisible" width="500px" @close="closeEducationForm">\n\n        l-width="80px" size="small">\n            <el-form-item label="学校名称" required prop="school">\n                <el-input v-model="educationForm.school" placeholder="请输入学校名称" maxlength="20" show-word-limit></el-input>\n            </el-form-item>\n            <el-form-item label="学历" required prop="degree">\n                <el-select v-model="educationForm.degree" placeholder="请选择">\n                    <el-option v-for="item in degreeList" :key="item.value" :label="item.name" :value="item.value"></el-option>\n           学时间" required prop="fromTime">\n                <el-date-picker v-model="educationForm.fromTime" type="month" placeholder="选择日期" value-format="yyyyMM"></el-date-picker>\n            </el-form-item>\n            <el-form-item label="毕业时间" required prop="endTime">\n                <el-date-picker v-model="educationForm.endTime" type="month" placeholder="选择日期" value-format="yyyyMM"></el-date-picker>\n            </el-form-item>\n            <el-form-item label="专业" required prop="major" >\n       lder="请输入专业名称"  maxlength="20" show-word-limit></el-input>\n            </el-form-item>\n        </el-form>\n        <span slot="footer" class="dialog-footer">\n            <el-button @click="closeEducationForm" size="small">取 消</el-button>\n            <el-button type="primary" @click="onSubmitEducation" size="small">确 定</el-button>\n        </span>\n    </el-dialog>\n    <div class="userNavTab">\n            <span v-for="item in settingNav" :key="item.value" @click="switchSetting(item.value)" :class="{current: item.value == settingType}" class="userNavTab--item">{{ item.name }}</span>\n            <a class="userNavTab--item" href="https://passport.woshipm.com/logout/view.html" target="_blank">注销账户</a>\n        </div>\n        <el-form v-if="settingType == \'info\'" ref="form" :model="user" label-width="80px" label-position="top" v-loading="userLoading">\n            <el-upload class="avatar-uploader"  :on-success="handleAvatarSuccess" action="https://api2.woshipm.com/media"\n            :headers="headers"\n            :show-file-list="false"\n            :before-upload="beforeAvatarUpload"\n            :data="{ biz: \'view\'}" :disabled="pending">\n                <img v-if="user.user_avatar" :src="pending ? info.authAvatar : user.user_avatar" class="avatar">\n                <i v-else class="el-icon-plus avatar-uploader-icon"></i>\n            </el-upload>\n            <div class="form--content">\n                <div class="verify--note" v-if="pending && info">信息审核中，部分信息暂时无法修改。</div>\n                <el-form-item label="用户名">\n                    <el-input v-model="user.user_name" prefix="" :disabled="true"></el-input>\n                </el-form-item>\n                <el-form-item label="邮箱">\n                    <el-input v-model="user.email" label="邮箱" :disabled="true"></el-input>\n                </el-form-item>\n                <el-form-item label="手机号">\n                    <el-input v-model="user.user_phone" label="手机号" :disabled="true"></el-input>\n                </el-form-item>\n                <el-form-item label="昵称">\n                    <el-input v-model="pending ? info.authNickName : user.nickname" label="用户名" maxlength="10" show-word-limit :disabled="pending"></el-input>\n                </el-form-item>\n                <el-form-item label="公司">\n                <el-autocomplete\n  v-model="user.user_company"\n  :fetch-suggestions="querySearchAsync"\n  placeholder="请输入公司"\n  @select="handleSelect"\n  clearable\n></el-autocomplete>\n                </el-form-item>\n                <el-form-item label="简介">\n                    <el-input type="textarea" :rows="2" placeholder="例如：起点学院移动端高级产品经理" v-model="pending ? info.authDescription : user.description" maxlength="40" show-word-limit :disabled="pending">\n                    </el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type="primary" size="small" @click="onSubmit" data-dts-event-location="update_user_info" :loading="infoSubmiting">保存</el-button>\n                </el-form-item>\n            </div>\n        </el-form>\n        <div v-else-if="settingType == \'more\'" class="user--info__more">\n            <div class="user--info__more--item">\n            <h4>教育经历<span class="el-icon-circle-plus-outline" @click="newEducation"></span> </h4>\n                <div class="education--item" v-for="item,index in educationList" :key="index">\n                    <div class="education--item__title">{{ item.school }} {{ item.major }} {{ degreeList.find((i) => i.value == item.degree).name }}<div class="action"><i class="el-icon-edit" @click="editEducation(item)"></i><i class="el-icon-delete" @click="deleteEducation(item)"></i> </div>\n                    </div>\n                    <div class="education--item__time">{{ item.fromTime }} - {{ item.endTime == -1 ? \'至今\' : item.endTime }}</div>\n                </div>\n                <el-empty :image-size="50" v-if="educationList.length == 0" description="暂无经历"></el-empty>\n            </div>\n            <div class="user--info__more--item">\n            <h4>职业经历<span class="el-icon-circle-plus-outline" @click="newWork"></span> </h4>\n                <div class="education--item" v-for="item,index in workList" :key="index">\n                    <div class="education--item__title">{{ item.company }} {{ item.industry }} {{ item.job }}<div class="action"><i class="el-icon-edit" @click="editWork(item)"></i><i class="el-icon-delete" @click="deleteWork(item)"></i></div></div>\n                    <div class="education--item__time">{{ item.fromTime }} - {{ item.endTime == -1 ? \'至今\' : item.endTime }}</div>\n                </div>\n                <el-empty :image-sition="暂无经历"></el-empty>\n            </div>\n        </div>\n        <elabel-width="80px" label-position="top">\n            <div class="form--content">\n                <el-form-item label="旧密码">\n                    <el-input v-model="user.passwordold" placeholder="请输入旧密码" label="旧密码" show-password></el-input>\n                </el-form-item>\n                <el-form-item label="新密码">\n                    <el-input v-model="user.password" placeholder="请输入新密码" show-password></el-input>\n                </el-form-item>\n                <el-form-item label="新密码确认">\n                    <el-input v-model="user.passwordrepeat" placeholder="请确认新密码" show-password></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type="primary" size="small" @click="onChangePassword" data-dts-event-location="update_pwd" :loading="infoSubmiting">保存</el-button>\n                </el-form-item>\n            </div>\n        </el-form>\n    </section>'})),loginOverlay=Vue.component("login-overlay",{props:["showLogin"],data:function(){return{showEditLogin:this.showLogin,url:""}},created:function(){this.url="https://passport.woshipm.com/user/wechatServiceLogin.html?_protocol=http&FS=PM&ISPOP=1&REDIRECT="+window.location.href},template:'\n  <div class="overlay overlay--dark overlay--new">\n        <button class="overlayclose-btn button--close" @click="hideLoginForm">×</button>\n        <iframe id="top_login_frame" :src="url" width="380" height="506" scrolling="no" class="top_fc_box" sandbox="allow-forms allow-scripts allow-same-origin allow-top-navigation allow-popups"\n        ></iframe>\n    </div>\n  ',methods:{hideLoginForm:function(){this.showEditLogin=!1,this.$emit("closeloginchild",this.showEditLogin)}}}),UserMessage=Vue.component("user-message",{name:"user-message",data:function(){return{list:[],total:0,paged:1,type:1,timestamp:0,loading:!1,menus:[{name:"互动通知",type:1,key:"interact"},{name:"关注通知",type:2,key:"attention"},{name:"邀请通知",type:3,key:"invite"},{name:"文章通知",type:4,key:"articleRelative"},{name:"系统通知",type:0,key:"system"}],unreadCount:"",hasNext:!1}},created:function(){var e=window.location.search;-1<e.indexOf("type")&&(e=e.split("type=")[1].split("&")[0],this.type=e),this.getUnread(),this.getData()},computed:{messages:function(){return _.groupBy(this.list,"createTimeStr")}},methods:{getUnread:function(){var t=this;axios.get("/api2/informs/un-read").then(function(e){200==e.data.CODE&&(t.unreadCount=e.data.RESULT)})},handleClick:function(e){e!==this.type&&(this.list=[],this.type=e,this.timestamp="",this.getData())},loadMore:function(){this.timestamp=this.list[this.list.length-1].createTime,this.getData()},getData:function(){var t=this;this.loading=!0,axios.get("/api2/informs",{params:{type:this.type,timestamp:this.timestamp}}).then(function(e){t.list=[].concat(_toConsumableArray(t.list),_toConsumableArray(e.data.RESULT.records.map(function(e){return e.jumpText=[101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,191,201,202,203,204,205,206,901,903,904,905,906,921,929,908,902,907].includes(e.type)?e.relativeContent1:"查看详情",e}))),t.hasNext=e.data.RESULT.hasMore,t.loading=!1})}},template:'<div class="user-right u-shadowed">\n    <div class="userNavTab">\n        <span class="userNavTab--item" v-for="item,index in menus" :index="index" @click="handleClick(item.type)" :class="{\n            \'current\': item.type === type\n        }">{{ item.name }}<template v-if="unreadCount[item.key]">({{ unreadCount[item.key] }})</template></span>\n    </div>\n    <div class="user-main-content">\n    <div class="pm-notice-content" v-loading="loading">\n    <div>\n    <div v-for="(items, index) in messages" :key="index" class="message--listDate">\n    <div class="pm-notice-date">{{ index }}</div>\n    <div class="user-message-item" :class="{\n        unread: item.state === 0\n    }" v-for="item,index in items" :key="item.id">\n        <div class="user-message__title" v-if="item.relativeContent1 && ( item.type == 930 || item.type == 931 )">{{ item.relativeContent1 }}</div>\n\n\n    {{ item.fullyContent }} <a :href="item.jumpUrl" class="cute" v-if="item.jumpUrl" target="_blank">{{ item.jumpText }}</a>\n    \n    </div>\n    </div>\n    </div>\n    <el-empty v-if="!loading && list.length === 0" description="暂无数据"></el-empty>\n    <div class="message--more u-rounded" v-if="hasNext" @click="loadMore">更多</div>\n    </div></div>\n    </div>'}),metabarNotice=Vue.component("metabar-notice",{props:["islogin"],computed:{compNUm:function(){return 99<this.noticenum?"99+":this.noticenum}},template:'\n  <div v-if="islogin" class="pm--metabarItem u-flex">\n                        <a href="/me/message" target="_blank" class="u-flex message--link has-message">\n                            <span v-if="noticenum" class="message-count">{{ compNUm }}</span>\n                            <svg class="svgIcon-use" width="17" height="18" viewBox="0 0 17 18">\n                                <path d="M14.888,15.427 L14.873,15.427 C14.848,15.427 14.825,15.430 14.800,15.430 L11.942,15.430 C11.898,16.853 10.396,17.996 8.548,17.996 C8.540,17.996 8.533,17.994 8.525,17.994 C8.500,17.994 8.477,17.999 8.452,17.999 C6.602,115.430 C0.945,15.430 -0.000,14.969 -0.000,13.787 C-0.000,12.677 1.531,12.226 1.683,10.367 L1.683,8.211 C1.683,5.168 3.845,2.612 6.768,1.892 L6.768,1.856 C6.768,0.833 7.526,0.003 8.460,0.003 C8.471,0.003 8.480,0.010 8.491,0.010 C8.508,0.010 8.522,-0.001 8.539,-0.001 C9.474,-0.001 10.231,0.829 10.231,1.852 L10.231,1.888 C13.155,2.609 15.316,5.165 15.316,8.207 L15.316,10.363 C15.468,12.222 17.000,12.673 17.000,13.783 C17.000,14.966 16.054,15.427 14.888,15.427 ZM7.687,1.892 L7.687,2.615 C4.816,3.019 2.610,5.435 2.610,8.355 L2.610,9.981 L2.623,9.981 L2.623,10.812 C2.249,12.715 0.946,13.173 0.935,13.711 L0.935,13.862 C0.928,14.156 1.144,14.347 1.407,14.459 C1.496,14.493 1.586,14.525 1.679,14.544 C1.691,14.547 1.702,14.549 1.714,14.551 C1.840,14.574 1.964,14.586 2.073,14.586 L2.081,14.586 C2.109,14.584 2.141,14.585 2.165,14.581 L14.927,14.581 C15.136,14.581 15.398,14.538 15.629,14.444 C15.676,14.422 15.723,14.399 15.765,14.372 C15.772,14.368 15.778,14.362 15.785,14.357 C15.952,14.243 16.070,14.083 16.065,13.866 L16.065,13.866 L16.065,13.714 C16.054,13.177 14.751,12.719 14.377,10.816 L14.377,9.985 L14.390,9.985 L14.390,8.359 C14.390,5.439 12.184,3.023 9.313,2.619 L9.313,1.896 C9.313,1.337 8.947,0.888 8.492,0.869 C8.045,0.898 7.687,1.340 7.687,1.892 ZM10.993,15.461 C10.993,15.451 10.993,15.440 10.992,15.430 L6.007,15.430 C6.007,15.439 6.007,15.448 6.007,15.457 C6.007,16.376 7.134,17.121 8.528,17.129 C9.896,17.101 10.993,16.367 10.993,15.461 Z"></path>\n                            </svg>\n                        </a>\n                    </div>\n  ',methods:{getUnread:function(){var t=this;axios.get("/api2/informs/un-read").then(function(e){200==e.data.CODE?t.noticenum=e.data.RESULT.articleRelative+e.data.RESULT.system+e.data.RESULT.attention+e.data.RESULT.interact+e.data.RESULT.invite:axios({url:"/__api/v1/u/"+PURE.user_id+"/logout?_csrf=",method:"get"}).then(function(e){"true"==e.data.success&&window.location.reload()})})}},data:function(){return{noticenum:0}},created:function(){this.islogin&&this.course-list",data:function(){return{list:[],loading:!1}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.loading=!0,axios.get("/api2/course/open-course").then(function(e){t.list=e.data.RESULT,t.loading=!1})}},template:'\n    <span class="withOpenCourse">公开课<section class="openCourse--container">\n        <div class="openCourse--item" v-for="item,index in list" :key="index">\n            <img :src="item.courseImage" alt="" class="openCourse--image">\n            <div class="openCourse--title">{{item.courseName}}</div>\n            <div class="openCourse--teacher">{{item.teacherName}}</div>\n            <div class="openCourse--meta" vn                    {{ item.signTxt }} <img :src="item.signUrl" alt="" class="openCourse--qrcode" />\n            </div>\n        </div>\n    </section></span>\n '}),overlaySearch=Vue.component("overlay-search",{template:'\n  <div class="overlay--search">\n    <div class="container">\n        <div class="overlay--search__title">搜索</div>\n        <form action="https://api.woshipm.com/search/list.html" method="get" target="_blank">\n        <input type="search" name="key" class="overlay--search__input" placeholder="输入搜索内容后按回车键搜索" autocomplete="off">\n        </form>\n        <div class="overlay--search__tags">\n            <a href="https://api.woshipm.com/search/list.html?key=竞品分析" target="_blank" class="overlay--search__tag">竞品分析</a>\n            <a href="https://api.woshipm.com/search/list.html?key=需求文档" target="_blank" class="overlay--search__tag">需求文档</a>\n            <a href="https://api.woshipm.com/search/list.html?key=活动策划" target="_blank" class="overlay--search__tag">活动策划</a>\n            <a href="https://api.woshipm.com/search/list.html?key=项目管理" target="_blank" class="overlay--search__tag">项目管理</a>\n            <a href="https://api.woshipm.com/search/list.html?key=产品规划" target="_blank" class="overlay--search__tag">产品规划</a>\n            <a href="https://api.woshipm.com/search/list.html?key=B端产品" target="_blank" class="overlay--search__tag">B端产品</a>\n            <a href="https://api.woshipm.com/search/list.html?key=产品经理" target="_blank" class="overlay--search__tag">产品经理</a>\n            <a href="https://api.woshipm.com/search/list.html?key=交互设计" target="_blank" class="overlay--search__tag">交互设计</a>\n            <a href="https://api.woshipm.com/search/list.html?key=用户调研" target="_blank" class="overlay--search__tag">用户调研</a>\n            <a href="https://api.woshipm.com/search/list.html?key=产品分析" target="_blank" class="overlay--search__tag">产品分析</a>\n            <a href="https://api.woshipm.com/search/list.html?key=PRD" target="_blank" class="overlay--search__tag">PRD</a>\n            <a href="https://api.woshipm.com/search/list.html?key=BRD" target="_blank" class="overlay--search__tag">BRD</a>\n            <a href="https://api.woshipm.com/search/list.html?key=MRD" target="_blank" class="overlay--search__tag">MRD</a>\n            <a href="https://api.woshipm.com/search/list.html?key=数据分析" target="_blank" class="overlay--search__tag">数据分析</a>\n            <a href="https://api.woshipm.com/search/list.html?key=社群" target="_blank" class="overlay--search__tag">社群</a>\n            <a href="https://api.woshipm.com/search/list.html?key=文案" target="_blank" class="overlay--search__tag">文案</a>\n        </div>\n        <div class="overlay--search__recommand">\n            <div v-if="ad" class="search--aladdin">\n                <a :href="ad.url" target="_blank" class="star--link"><img :src="ad.image_url"></a>\n            </div>\n        </div>\n    </div>\n</div>\n  ',data:function(){return{ad:""}},created:function(){this.getData()},methods:{shuffle:function(e){for(var t,n=e.length;0!=n;){t=Math.floor(Math.random()*n),n--;var i=[e[t],e[n]];e[n]=i[0],e[t]=i[1]}return e},getData:function(){var t=this;fetch("https://server.woshipm.com/api/v1/advert/feed?position_ids=37").then(function(e){e.json().then(function(e){0===e.code&&0<e.result.length&&(t.ad=t.shuffle(e.result)[0]),fetch("https://server.woshipm.com/api/v1/advert/"+t.ad.id+"/track?type=show&position_id=37"),t.$nextTick(function(){document.querySelector(".search--aladdin").addEventListener("click",function(){fetch("https://server.woshipm.com/api/v1/advert/"+t.ad.id+"/track?type=click&hint="+localStorage.getItem("__starID")+"&position_id=37")})})})})}}}),recUserCard=Vue.component("rec-user-list",{data:function(){return{recUsers:[],recUsersPaged:1,recUsersTotal:0,loading:!1}},computed:{recUsersFilter:function(){var e=this.recUsers.length%4;return this.recUsers.slice(0,this.recUsers.length-e)}},created:function(){this.getRecommandUsers()},methods:{handlerecUsersCurrentChange:function(e){this.recUsersPaged=e,this.getRecommandUsers()},getRecommandUsers:function(){var t=this;this.loading=!0,axios.get("/api2/recommendation/authors/with-article-info?PN="+this.recUsersPaged+"&PS=20").then(function(e){t.loading=!1,t.recUsers=e.data.RESULT.authors,t.recUsersTotal=e.data.RESULT.totleSize})},subRecUserHack:function(n){var i=this;if(!PURE.is_user_logged_in)return this.showLogin=!0;this.recUsers.forEach(function(e,t){e.authorId==n&&(e.isConcern?axios.post("/api-o/api/userRelation/unFollow.html?friendUid="+n).then(function(){i.recUsers[t].isConcern=!1}):axios.post("/api-o/api/userRelation/follow.htm?friendUid="+n).then(function(){i.recUsers[t].isConcern=!0}))})}},template:'<section>\n    <div class="userList" data-dts-event-location="author_items" v-loading="loading">\n        <div\n            class="userItem u-textAlignCenter u-shadowed"\n            v-for="user in recUsersFilter"\n            :key="user.authorId"\n        >\n            <a :href="\'/u/\' + user.authorId" target="_blank" class="u-relative"\n                ><img :src="user.avartar" height="80" width="80" class="avatar"\n            /></a>\n            <div class="name">\n                <a :href="\'/u/\' + user.authorId" target="_blank" class="u-flex">{{ user.nickName }}<el-tooltip v-for="tag in user.tags.filter( e=> {\n                                  })"class="newusertagIcon" effect="dark" :content="tag.tagName" placement="top"><img :src="\'https://static.woshipm.com/tag/\' + tag.tagCode + \'_1@2x.png \'" width=18 /></el-tooltip></a>\n            </div>\n            <div class="des">{{ user.user_identity }}</div>\n            <div class="action">\n                <button\n                    :class="{ active: user.isConcern }"\n                    @click="subRecUserHack(user.authorId)"\n                    class="button button--toggle"\n                    :data-dts-event-location="user.isConcern ? \'unfollow_user\' : \'follow_user\'"\n                    :data-dts-event-info="\'{author_id:\' + user.authorId + \'}\'"\n                >\n                    <span class="default">关注</span><span class="active">已关注</span>\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="active--cardNav u-marginTop30">\n        <el-pagination\n            v-if="recUsersTotal > 20"\n            background\n            layout="prev, pager, next"\n            :page-size="20"\n            :total="recUsersTotal"\n            :current-page="recUsersPaged"\n            @current-change="handlerecUsersCurrentChange"\n        >\n        </el-pagination>\n    </div>\n</section>'}),homeUserCard=Vue.component("home-user-list",{data:function(){return{recUsers:[],recUsersPaged:1,recUsersTotal:0,loading:!1}},created:function(){this.getRecommandUsers()},methods:{handlerecUsersCurrentChange:function(e){this.recUsersPaged=e,this.getRecommandUsers()},getRecommandUsers:function(){var t=this;this.loading=!0,axios.get("/api2/recommendation/authors/with-article-info?PN="+this.recUsersPaged+"&PS=24").then(function(e){t.loading=!1,t.recUsers=e.data.RESULT.authors,t.recUsersTotal=e.data.RESULT.totleSize})},subRecUserHack:function(e){if(!PURE.is_user_logged_in)return this.$parent.showLogin=!0;e.isConcern?axios.post("/api-o/api/userRelation/unFollow.html?friendUid="+e.authorId).then(function(){e.isConcern=!1}):axios.post("/api-o/api/userRelation/follow.htm?friendUid="+e.authorId).then(function(){e.isConcern=!0})}},template:'<section class="pmFeature--container">\n    <div class="pmFeature--list" data-dts-event-location="author_items" v-loading="loading">\n        <div\n            v-for="user in recUsers"\n            :key="user.authorId"\n            class="pmFeature--item u-shadowed pmFeature--item__small pmFeature--item__author"\n        >\n            <div class="pmFeature--image pmFeature--image__small pmFeature--image__avatar">\n                <a :href="\'/u/\' + user.authorId" target="_blank" class="u-relative"\n                    ><img :src="user.avartar" height="80" width="80" class="cover avatar"\n                /></a>\n            </div>\n            <div class="pmFeature--content">\n                <h2 class="pmFeature--authorInfo">\n                    <a :href="\'/u/\' + user.authorId" target="_blank" class="u-flex">{{ user.nickName }}<el-tooltip v-for="tag in user.tags.filter( e=> {\n                        return e.parentCode == 1100;\n                    })"class="newusertagIcon" effect="dark" :content="tag.tagName" placement="top"><img :src="\'https://static.woshipm.com/tag/\' + tag.tagCode + \'_1@2x.png \'" width=18 /></el-tooltip></a\n                    ><button class="button button--follow" :class="{active: user.isConcern }" @click="subRecUserHack(user)">{{\n                        user.isConcern ? \'已关注\' : \'关注\'\n                    }}</button>\n                </h2>\n                <div class="pmFeature--des">\n                    {{ user.user_identity || user.description }}\n                </div>\n                <h4 class="pmFeature--post">\n                    最新文章:\n                    <a :href="user.articles[0].link" target="_blank">{{\n                        user.articles[0].title\n                    }}</a>\n                </h4>\n            </div>\n        </div>\n    </div>\n    <div class="block--action"><div class="loadmore u-rounded"><a href="/users" target="_blank">更多作者</a></div></div>\n</section>'}),shareButton=Vue.component("share-button",{props:["title","image","link","topic"],template:'<el-popover placement="top" width="100" trigger="click">\n                                <div class="shareMenu">\n                                    <div class="shareMenu--item">\n                                        <a class="shareMenu--title" target="_blank" :href="\'https://service.weibo.com/share/share.php?appkey=2775287854&title=\' + title + \'&url=\' +  link + \'&pic=\' + image">\n                                            <svg fill="currentColor" viewBox="0 0 24 24" width="17" height="17">\n                                                <path fill="#FB6622" d="M15.518 3.06c8.834-.854 7.395 7.732 7.394 7.731-.625 1.439-1.673.309-1.673.309.596-7.519-5.692-6.329-5.692-6.329-.898-1.067-.029-1.711-.029-1.711zm4.131 6.985c-.661 1.01-1.377.126-1.376.126.205-3.179-2.396-2.598-2.396-2.598-.719-.765-.091-1.346-.091-1.346 4.882-.551 3.863 3.818 3.863 3.818zM5.317 7.519s4.615-3.86 6.443-1.328c0 0 .662 1.08-.111 2.797.003-.003 3.723-1.96 5.408.159 0 0 .848 1.095-.191 2.649 0 0 2.918-.099 2.918 2.715 0 2.811-4.104 6.44-9.315 6.44-5.214 0-8.05-4.495 3.444-10.33zm10.448 7.792s.232-4.411-5.71-4.207c-6.652.231-6.579 4.654-6.579 4.654.021.39.097 3.713 5.842 3.713 5.98 0 6.447-4.16 6.447-4.16zm-9.882.86s-.059-3.632 3.804-3.561c3.412.06 3.206 3.165 3.206 3.165s-.026 2.979-3.684 2.979c-3.288 0-3.326-2.583-3.326-2.583zm2.528 1.037c.672 0 1.212-.447 1.212-.998 0-.551-.543-.998-1.212-.998-.672 0-1.215.447-1.215.998 0 .551.546.998 1.215.998z" fill-rule="evenodd"></path>\n                                            </svg>分享到微博</a>\n                                    </div>\n                                    <div class="shareMenu--item">\n                                 tle">\n                                            <svg color="#60C84D" fill="currentColor" viewBox="0 0 24 24" width="17" height="17">\n                                                <path d="M2.224 21.667s4.24-1.825 4.788-2.056C15.029 23.141 22 17.714 22 11.898 22 6.984 17.523 3 12 3S2 6.984 2 11.898c0 1.86.64 3.585 1.737 5.013-.274.833-1.513 4.756-1.513 4.756zm5.943-9.707c.69 0 1.25-.569 1.25-1.271a1.26 1.26 0 0 0-1.25-1.271c-.69 0-1.25.569-1.25 1.27 0 .703.56 1.272 1.25 1.272zm7.583 0c.69 0 1.25-.569 1.25-1.271a1.26 1.26 0 0 0-1.25-1.271c-.69 0-1.25.569-1.25 1.27 0 .703.56 1.272 1.25 1.272z" fill-rule="evenodd"></path>\n                                            </svg>微信扫一扫\n                                        </div>\n                                        <div class="u-flex">\n                                            <img :src="\'https://api.pwmqr.com/qrcode/create/?url=\' + link" alt="微信二维码">\n                                        </div>\n                                    </div>\n                                </div>\n                                <button class="button button--toggle" slot="reference" :class="{topicshare: topic}">分享</button>\n                            </el-popover>\n  '}),subButton=Vue.component("sub-button",{props:["author","status"],methods:{showLogin:function(){},followUser:function(){var e=this.author;this.$emit("subauthorchild",e)}},template:"<button class=\"button button--follow\" @click=\"followUser\" :data-id=\"author\"\n  :data-dts-event-location=\" status ? 'unfollow_user' : 'follow_user'\"\n  :data-dts-event-info=\"'{author_id:' + author + '}'\"\n  :class=\"{active: status}\">{{ status ? '已关注' : '关注' }}</button>"}),topActivity=Vue.component("top-activity",{data:function(){return{activity:""}},created:function(){this.getTopEvent()},methods:{getTopEvent:function(){var t=this;axios.get("/__api/v3/events").then(function(e){t.activity=_.sampleSize(e.data,1)[0]})}},template:'<div class="top-activity u-shadowed" v-if="activity">\n  <a target="_blank" :href="activity.permalink">\n      <span class="status">报名中</span>\n      <img :src="activity.image + \'!/both/670x406\'">\n  </a>\n  <div class="content">\n      <div class="activity-title"><a target="_blank" :href="activity.permalink">{{ activity.title }}</a></div>\n      <div class="meta">\n          <div class="date">\n          <svg class="icon" viewBox="0 0 1024 1024" width="16" height="16">\n                  <path d="M512 838.01c-179.76 0-326.01-146.24-326.01-326.01S332.23 185.99 512 185.99 838.01 332.23 838.01 512 691.76 838.01 512 838.01z m0-573.78c-136.62 0-247.77 111.15-247.77 247.77S375.38 759.77 512 759.77 759.77 648.62 759.77 512 648.62 264.23 512 264.23z" p-id="2556"></path>\n                  <path d="M647.62 629.36h-161.7c-21.6 0-39.12-17.52-39.12-39.12V381.6c0-21.6 17.52-39.12 39.12-39.12 21.6 0 39.12 17.52 39.12 39.12v169.52h122.58c21.6 0 39.12 17.52 39.12 39.12s-17.52 39.12-39.12 39.12z"></path>\n              </svg>\n              {{ activity.event_info.date }}\n              </div>\n          <div class="address">\n          <svg class="icon" viewBox="0 0 1024 1024" width="16" height="16">\n                  <path d="M511.826 853.5c-21.65 0-42.38-7.55-59.14-21.69-4.02-3.36-7.64-7.03-11-11-61.97-73.23-197.88-271.11-197.88-381.92-0.09-71.62 27.76-139 78.38-189.71 50.63-50.67 117.97-78.64 189.63-78.69h0.26c147.86 0.09 268.14 120.5 268.1 268.4 0 110.77-135.9 308.64-197.92 381.92-15.8 18.77-37.97 30.24-62.45 32.34-2.66 0.22-5.32 0.35-7.98 0.35z m0.04-615.97c-53.72 0.04-104.26 20.99-142.23 59.05-37.97 38.01-58.83 88.55-58.79 142.27 0 76.59 106.01 248.85 182.03 338.67 8.16 7.38 15.01 9.65 21.21 8.82 6.63-0.57 12.66-3.67 16.98-8.77 76.07-89.86 182.08-262.16 182.08-338.67 0.04-110.98-90.21-201.28-201.15-201.37h-0.13z"></path>\n                  <path d="M512.086 558.35c-35.87 0-69.61-13.97-94.97-39.32-25.4-25.4-39.41-59.14-39.41-95.05 0-74.15 60.27-134.46 134.33-134.46h0.13c74.06 0 134.33 60.23 134.38 134.33 0.04 35.92-13.92 69.7-39.32 95.1-25.4 25.4-59.14 39.41-95.05 39.41-0.04-0.01-0.09-0.01-0.09-0.01z m0-201.81c-37.14 0-67.34 30.24-67.34 67.38 0 18.02 7.03 34.96 19.77 47.66 12.7 12.74 29.59 19.73 47.57 19.73h0.04c18.02 0 34.96-7.03 47.66-19.73 12.74-12.74 19.73-29.68 19.73-47.66-0.04-37.18-30.24-67.38-67.34-67.38h-0.09z"></path>\n              </svg>\n              {{ activity.event_info.location }}\n              </div>\n      </div>\n  </div>\n</div>\n  '}),TopicList=Vue.component("topic-list",{props:["small","limit"],name:"topic-list",data:function(){return{list:[],total:0,paged:1,loading:!1}},created:function(){this.getData()},methods:{loadMore:function(){this.paged++,this.getData()},getData:function(){var t=this;this.loading=!0,axios.get("/__api/v3/topic/list",{params:{paged:this.paged,with_posts:!0,limit:this.limit||10}}).then(function(e){t.list=[].concat(_toConsumableArray(t.list),_toConsumableArray(e.data.list)),t.total=e.data.total,t.loading=!1})}},template:'<section class="pmFeature--container"><div class="pmFeature--list">\n    <div\n        v-for="(item, index) in list"\n        :key="index"\n        class="pmFeature--item u-shadowed"\n        :class="{\'pmFeature--item__small\' : small }"\n        data-dts-event-location="topic_items"\n    >\n        <div class="pmFeature--image" :class="{\'pmFeature--image__small\' : small }">\n            <a :href="item.link" target="_blank"><img :src="item.thumbnail" class="cover" /></a>\n        </div>\n        <div class="pmFeature--content">\n            <h2>\n                <a :href="item.link" target="_blank">{{ item.name }}</a>\n            </h2>\n            <div class="pmFeature--des">\n            {{ item.description }}\n            </div>\n            <h4>\n                文章数 {{ item.count }} <span class="dot"></span\n                ><span class="views"> 学习人数 {{ item.views }} </span>\n            </h4>\n            <ul data-dts-event-location="article_items" v-if="!small">\n                <li v-for="post in item.posts" :key="item.id">\n                    <a :href="post.permalink" target="_blank">{{ post.title }}</a>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>\n<div class="topic--loading" v-loading="loading"></div>\n<div class="u-textAlignCenter u-paddingBottom30">\n    <el-button @click="loadMore" type="primary" class="featureLoadMore" size="small" :loading="loading" v-if="total > list.length">加载更多</el-button>\n</div>\n</section>\n '}),TopicButton=Vue.component("topic-button",{props:["id"],data:function(){return{loading:!1}},computed:{status:function(){return this.$parent.mySubTopics.includes(parseInt(this.id))}},methods:{handleClick:function(){var t=this;if(!PURE.is_user_logged_in)return this.$parent.showLogin=!0;var e=this.status?"/api3/topic/unSubscribe":"/api3/topic/subscribe";this.loading=!0,axios({method:"post",url:e,params:{id:this.id,COMMON_ACCESS_TOKEN:PURE.token,COMMON_ACCESS_TOKEN_SECRET:PURE.secret}}).then(function(e){t.loading=!1,t.status?(t.$parent.mySubTopics=t.$parent.mySubTopics.filter(function(e){return e!==t.id}),t.$message.success("取消收藏成功")):(t.$parent.mySubTopics.push(t.id),t.$message.success("收藏成功"))})}},template:'<el-button @click="handleClick" type="primary" size="mini" :loading="loading" :class="{\'is-success\' : status}">{{ status ? \'已收藏\' : \'收藏专题\' }}</el-button>'}),TopicOverlay=Vue.component("topic-overlay",{data:function(){return{loading:!1,search:"",topics:[],total:0}},created:function(){this.getData()},methods:{getData:function(){var t=this,e="/__api/v3/topic/list?paged=1&limit=%27%27&search="+this.search;this.loading=!0,axios({method:"get",url:e}).then(function(e){t.loading=!1,t.topics=e.data.list,t.total=e.data.total})},close:function(){this.$emit("close")}},template:'<div class="overlay overlay--dark ">\n    <div class="overlay-dialog overlay--content__contact overlay-dialog--animate overlay-dialog__topics">\n    <button @click="close" class="button button--close">\n    <span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"></path></svg></span>\n    </button>\n    <el-input v-model="search" placeholder="请输入专题名称回车搜索" clearable class="searchInput" @keyup.enter.native="getData" @clear="getData" ></el-input>\n\n    <div class="overlay--topics" v-loading="loading">\n        <a class="overlay--topic" v-for="item in topics" :key="item.id" :href="item.link" target="_blank">\n            <img :src="item.thumbnail" class="overlay--topic__image" />\n            <div class="overlay--topic__content">\n            <div class="overlay--topic__title">{{ item.name }}</div>\n            <div class="overlay--topic__desc">{{ item.description }}</div>\n            </div>\n        </a>\n    </div>\n    <el-empty v-if="topics.length == 0 && !loading" description="暂无数据"></el-empty>\n    </div>\n    </div>\n    '}),userActivity=Vue.component("user-activity-list",{props:["user_id"],components:{imageView:imageView},data:function(){return{list:[],total:0,paged:1,loading:!1}},created:function(){this.getSubPosts()},methods:{getSubPosts:function(){var t=this;this.loading=!0,axios({url:"/api2/views/publishs",method:"get",params:{PN:this.paged,PS:20,uid:this.user_id}}).then(function(e){t.list=t.list.concat(e.data.RESULT.list.filter(function(e){var t=e.imageInfo.width,n=e.imageInfo.height,t=880<e.imageInfo.width/2?880:e.imageInfo.width/2;return 500<(n=parseInt(t/e.imageInfo.width*e.imageInfo.height))&&(n=500,t=parseInt(n/e.imageInfo.height*e.imageInfo.width)),e.width=t,e.height=n,!(3==e.viewType&&!e.newsBasicInfo)})),t.loading=!1})}},template:'\n    <section class="authorActivity--list" v-loading="loading">\n    <el-empty v-if="list.length === 0 && !loading" :description="\'暂无动态\'"></el-empty>\n    <article class="card--status" ref="card" :data-id="view.id" v-for="view,index in list" :key="index">\n        <div class="ts-main">\n        <div class="tm-article" v-if="view.viewType == 3 || view.viewType == 8">\n        <p class="ta-title">{{ view.viewType == 8 ? \'分享\' : \'发布\' }}了文章</p>\n        <p class="ta-txt" v-if="view.viewType == 8">{{ view.content }}</p>\n        <template v-if="view.newsBasicInfo">\n        <a :href="view.newsBasicInfo.link" target="_blank">\n            <div class="ta-link">\n                <div class="tl">\n                    <img :src="view.newsBasicInfo.image" />\n                </div>\n                <p>{{ view.newsBasicInfo.title }}</p>\n            </div>\n        </a>\n        </template>\n        \x3c!-- 位置 --\x3e\n        <div class="tm-position" v-if="view.pushLocation">\n            <img src="https://static.woshipm.com/2022071515285635574position_icon.png" />\n            <span>{{ view.pushLocation }}</span>\n        </div>\n        <div class="tm-position" v-if="!view.pushLocation && view.ipAddress">\n            <span>IP属地</span>\n            <span>{{ view.ipAddress }}</span>\n        </div>\n    </div>\n    <div class="tm-article" v-else-if="view.viewType == 6">\n        <p class="ta-title">评论了文章</p>\n        <p class="ta-txt">{{ view.content }}</p>\n        <template v-if="view.newsBasicInfo">\n        <a :href="view.newsBasicInfo.link" target="_blank">\n            <div class="ta-link">\n                <div class="tl">\n                    <img :src="view.newsBasicInfo.image" />\n                </div>\n                <p>{{ view.newsBasicInfo.title }}</p>\n            </div>\n        </a>\n        </template>\n    </div>\n    <div class="tm-article" v-else-if="view.viewType == 7">\n        <p class="ta-title">发布了视频</p>\n        <a :href="\'/fish/view/\' + view.id" target="_blank">\n            <div class="ta-link">\n                <div class="tl">\n                    <img :src="view.videoInfo.videoImage" />\n                </div>\n                <p>{{ view.content }}</p>\n            </div>\n        </a>\n    </div>\n    \x3c!-- 发布了提问  --\x3e\n    <div class="tm-article" v-else-if="view.viewType == 4 || view.viewType == 9">\n        <p class="ta-title">{{ view.viewType == 9 ? \'分享\' : \'发布\' }}了提问</p>\n        <a :href="view.questionInfo.link" target="_blank">\n            <div class="ta-link">\n                \x3c!-- 普通问答 --\x3e\n                <div class="tl quest" v-if="view.questionInfo.questionType == 0">\n                    <img src="https://static.woshipm.com/2022071815270811434quest.png" />\n                </div>\n                \x3c!-- 悬赏问答 --\x3e\n                <div class="tl red-bag" v-else>\n                    <img src="https://static.woshipm.com/2022071815270079569redbag.png" />\n                </div>\n                <p>{{ view.questionInfo.title }}</p>\n            </div>\n        </a>\n    </div>\n    \x3c!-- 回答了问题  --\x3e\n    <div class="tm-article" v-else-if="view.viewType == 5">\n        <p class="ta-title">{{ view.viewType == 5 ? \'回答了问题\' : \'分享了回答\' }}</p>\n        <p class="ta-txt">{{ view.content }}</p>\n        <a :href="view.questionInfo.link" target="_blank">\n            <div class="ta-link">\n                \x3c!-- 普通问答 --\x3e\n                <div class="tl quest" v-if="view.questionInfo.questionType == 0">\n                    <img src="https://static.woshipm.com/2022071815270811434quest.png" />\n                </div>\n                \x3c!-- 悬赏问答 --\x3e\n                <div class="tl red-bag" v-else>\n                    <img src="https://static.woshipm.com/2022071815270079569redbag.png" />\n                </div>\n                <p>{{ view.questionInfo.title }}</p>\n            </div>\n        </a>\n    </div>\n    <div class="tm-article" v-else-if="view.viewType == 10">\n    <p class="ta-title">{{ view.viewType == 5 ? \'回答了问题\' : \'分享了回答\' }}</p>\n    <p class="ta-txt">{{ view.content }}</p>\n    <a :href="view.commentInfo.link" target="_blank">\n        <div class="ta-link">\n            \x3c!-- 普通问答 --\x3e\n            <div class="tl quest" v-if="view.commentInfo.questionType == 0">\n                <img src="https://static.woshipm.com/2022071815270811434quest.png" />\n            </div>\n            \x3c!-- 悬赏问答 --\x3e\n            <div class="tl red-bag" v-else>\n                <img src="https://static.woshipm.com/2022071815270079569redbag.png" />\n            </div>\n            <p>{{ view.commentInfo.title }}</p>\n        </div>\n    </a>\n</div>\n    <div class="tm-article" v-else-if="view.viewType == 11">\n        <p class="ta-title">分享了快讯</p>\n        <p class="ta-txt">{{ view.content }}</p>\n        <a :href="\'/digest/\' + view.flashNewsInfo.id" target="_blank">\n            <div class="ta-link">\n                <div class="tl red-bag">\n                    <img src="https://static.woshipm.com/2022071815270079569redbag.png" />\n                </div>\n                <p>{{ view.flashNewsInfo.title }}</p>\n            </div>\n        </a>\n    </div>\n            \x3c!-- 普通类型 --\x3e\n            <div v-else class="tm-article">\n                <div class="card--status__content">{{ view.content }}</div>\n                <imageView\n                    v-if="view.imageList.length > 0"\n                    :imageList="view.imageList"\n                ></imageView>\n                <a :href="view.link.link" target="_blank" v-if="view.link && view.link.link">\n                    <div class="ta-link">\n                        \x3c!-- 普通问答 --\x3e\n                        <div class="tl quest">\n                            <img :src="view.link.image" />\n                        </div>\n                        <p>{{ view.link.title }}</p>\n                    </div>\n                </a>\n                <div class="card--tags">\n                    <span\n                        class="card--tag"\n                        v-for="tag in view.tagList"\n                        :key="tag.tagId"\n                        :to="\'/tag/\' + tag.tagId"\n                        >{{ tag.tag }}</span\n                    >\n                </div>\n                <footer class="card--status__footer">\n                <a :href="\'/fish/view/\' + view.id" target="_blank"><i class="fa fa-comment"></i> {{ view.commentCount }}</a>\n                    <span class="dot"></span>\n                    <a :href="\'/fish/view/\' + view.id" target="_blank"><i class="fa fa-thumbs-up"></i> {{ view.praiseCount }}</a>\n                    <span class="dot"></span>\n                    <a :href="\'/fish/view/\' + view.id" target="_blank"\n                        ><i class="fa fa-share"></i\n                    ></a>\n                </footer>\n            </div>\n        </div>\n    </article>\n    <div class="block--action" v-if="list.length > 5"><div class="loadmore u-rounded"><a :href="\'/fish/user/\' + user_id" target="_blank">查看更多</a></div></div>\n    </section>\n  '}),userAnswer=Vue.component("user-answer-list",{props:["user_id"],data:function(){return{list:[],total:0,paged:1,loading:!1}},computed:{hasNext:function(){return this.total>this.list.length},LTime:function(){return console.log(this.list.length?this.list[this.list.length-1].createTime:""),this.list.length?this.list[this.list.length-1].modifyTime:""}},created:function(){this.getData(),this.getSubPosts()},methods:{getData:function(){var t=this;this.userLoading=!0;axios({url:"/api2/user/profile",method:"get",params:{uid:this.user_id}}).then(function(e){200==e.data.CODE&&(t.total=e.data.RESULT.userCommonCountVo.replyCount)})},loadMore:function(){this.paged++,this.getSubPosts()},getSubPosts:function(){var t=this;this.loading=!0,axios({url:"/api-o/api/user1/commentlist.html",method:"get",params:{PN:this.paged,PS:20,LTime:this.LTime,UID:this.user_id,_cV:"5.0.0"}}).then(function(e){t.list=t.list.concat(e.data.RESULT.commentlist.map(function(e){return e.comment=e.comment.replace(/<\/?[^>]*>/g,""),e.comment=e.comment.replace(/[ | ]*\n/g,"\n"),e.comment=e.comment.replace(/&nbsp;/gi,""),e.comment="答："+e.comment,e})),t.loading=!1})}},template:'<section class="authorActivity--list">\n    <article v-for="item,index in list" :key="index" class="card--status"><div class="ts-main"><div class="tm-article">\n    <a class="pm-answerCard" :href="item.sourceUrl" target="_blank">\n        <div class="pm-answerCard--content">\n            <div class="pm-answerCard--title">{{ item.title }}</div>\n            <div class="pm-answerCard--content--text" v-html="item.comment"></div>\n        </div>\n    <div class="pm-answerCard--icon"><img src="https://static.woshipm.com/2022071815270811434quest.png"></div>\n    </a>\n    <p class="ta-title">回答了问题</p>\n    </div>\n    </div>\n    </article>\n    <el-empty v-if="list.length === 0 && !loading" :description="\'暂无回答\'"></el-empty>\n    <div class="loadmore u-rounded" v-if="hasNext" @click="loadMore">更多</div>\n    </section>'}),userBookmarkItem=Vue.component("user-bookmark-list",{data:function(){return{loading:!1,myBookmarks:[],myBookmarksTotal:0,myBookmarksPaged:1,bookCount:0,cats:[],cat:"",bookmarkType:"bookmark",userBookmarkNav:[{name:"文章收藏",slug:"bookmark"},{name:"专题收藏",slug:"topic"},{name:"问题收藏",slug:"question"},{name:"回答收藏",slug:"answer"}]}},template:'\n    <section>\n    <div class="userNavTab">\n        <span\n            v-for="item in userBookmarkNav"\n            :key="item.slug"\n            @click="switchBookmarkStatus(item.slug)"\n            :class="{ current: item.slug == bookmarkType }"\n            class="userNavTab--item"\n            >{{ item.name }}</span\n        >\n    </div>\n    <div class="user-main-content" v-loading="loading">\n    <template v-if="bookmarkType == \'bookmark\'">\n        <nav class="bookmarkCats">\n            <span v-for="cate in cCats" :key="cate.eName" @click="cat = cate.eName" :class="{ current: cate.eName == cat }">{{ cate.cName}}<i>({{ cate.count }})</i></span>\n        </nav>\n    </template>\n        <div class="userPost--item" v-for="post in myBookmarks" :key="post.id">\n        <template v-if="bookmarkType == \'question\'">\n        <div class="title">\n        <a :href="post.sourceUrl" target="_blank">{{ post.title }}</a>\n    </div>\n    <div class="meta">\n    {{ post.clickCountStr }} 次浏览\n    <span class="dot"></span>{{ post.modifyTimeStr }}<span class="dot"></span><span\n    class="action"\n    @click="removeQuestion(post.id)"\n    >取消收藏</span></div>\n        </template>\n        <template v-else-if="bookmarkType == \'answer\'">\n        <div class="title">\n        <a :href="post.sourceUrl" target="_blank">{{ post.comment }}</a>\n    </div>\n    <div class="meta">\n    {{ post.title }}\n    <span class="dot"></span>{{ post.UName }}<span class="dot"></span><span\n    class="action"\n    @click="removeComment(post.id)"\n    >取消收藏</span></div>\n        </template>\n        <template v-else>\n            <div class="title">\n                <a :href="post.permalink" target="_blank">{{ post.title }}</a>\n            </div>\n            <div class="meta">\n                <span\n                    v-if="bookmarkType == \'bookmark\'"\n                    :data-id="post.id"\n                    class="action"\n                    @click="removebook(post.id)"\n                    >取消收藏</span>\n                <span v-else-if="bookmarkType == \'topic\'" @click="handleClick(post.id)" class="action">取消收藏</span>\n                <span v-if="bookmarkType != \'viewed\'" class="dot"></span>\n                <span v-if="bookmarkType == \'topic\'">{{ post.post_count }} 篇文章</span\n                ><span v-else>{{ post.date }}</span\n                ><span class="dot"></span>{{ post.view }} 次浏览\n            </div>\n            </template>\n        </div>\n        <el-empty v-if="myBookmarks.length == 0 && !loading" description="暂无数据"></el-empty>\n    </div>\n    <div class="active--cardNav u-marginTop30">\n        <el-pagination\n            v-if="myBookmarksTotal > 20"\n            background\n            layout="prev, pager, next"\n            :page-size="20"\n            :total="my :current-page="myBookmarksPaged"\n            @current-change="handleBookmarkCurrentChange"\n        >\n        </el-pagination>\n    </div>\n</section>\n \n  ',created:function(){this.getMyBookmarks(),this.getCats()},computed:{cCats:function(){return[{cName:"全部",count:this.bookCount,eName:""}].concat(_toConsumableArray(this.cats))}},watch:{bookmarkType:function(){this.myBookmarksPaged=1,this.myBookmarks=[],this.myBookmarksTotal=0,this.getMyBookmarks()},cat:function(){this.myBookmarksPaged=1,this.myBookmarks=[],this.myBookmarksTotal=0,this.getMyBookmarks()}},methods:{getCatV4.html?_cT=IOS&_cV=5.2.3&_cA=PM").then(function(e){t.cats=e.data.RESULT.typeList})},handleBookmarkCurrentChange:function(e){this.myBookmarksPaged=e,this.getMyBookmarks()},getMyBookmarks:function(){var t=this;this.loading=!0,"question"==this.bookmarkType?axios.get("/api-o/api/user1/attentionQuestionList.html",{params:{PN:this.myBookmarksPaged}}).then(function(e){t.loading=!1,t.myBookmarks=e.data.RESULT.attentionList,t.myBookmarksTotal=e.data.RESULT.attentionCount}):"answer"==this.bookmarkType?axios.get("/api-o/api/user1/attentionCommentList.html",{params:{PN:this.myBookmarksPaged}}).then(function(e){t.loading=!1,t.myBookmarks=e.data.RESULT.attentionList,t.myBookmarksTotal=e.data.RESULT.attentionCount}):"bookmark"==this.bookmarkType?axios.get("/api3/user/V4/favoriteList.html?_cT=IOS&_cV=5.2.3&_cA=PM",{params:{type:this.cat,PN:this.myBookmarksPaged,PS:20}}).then(function(e){t.loading=!1,t.myBookmarks=e.data.RESULT.favorites.map(function(e){return{id:e.id,title:e.title,permalink:"https://www.woshipm.com/?p="+e.id,date:parseTime(e.publishTime,"{y}-{m}-{d}"),view:e.clickCount}}),t.bookCount=e.data.RESULT.favoriteCount,t.myBookmarksTotal=e.data.RESULT.favoriteCount}):axios.get("/__api/v3/me/bookmarks",{params:{post_status:this.bookmarkType,paged:this.myBookmarksPaged}}).then(function(e){t.loading=!1,t.myBookmarks=e.data.payload.postsatus:function(e){this.bookmarkType=e},removeComment:function(t){var n=this;axios({url:"/api-o/api/qatt/commentCancelAttention",method:"post",params:{commentId:t}}).then(function(){var e=n.myBookmarks.filter(function(e){return e.id!=t});n.myBookmarks=e,n.$message.success("取消收藏成功")})},removeQuestion:function(t){var n=this;axios({url:"/api-o/api/qatt/cancelAttention",method:"post",params:{questionId:t}}).then(function(){var e=n.myBookmarks.filter(function(e){return e.id!=t});n.myBookmarks=e,n.$message.success("取消收藏成功")})},removebook:function(t){var n=this;axios.delete("/__api/v3/post/"+t+"/bookmarks",{headers:{"X-WP-Nonce":PURE.nonce}}).then(function(){var e=n.myBookmarks.filter(function(e){return e.id!=t});n.myBookmarks=e,n.$message.success("取消收藏成功")})},handleClick:function(t){var n=this;if(!PURE.is_user_logged_in)return this.$parent.showLogin=!0;axios({method:"post",url:"/api3/topic/unSubscribe",params:{id:t,COMMON_ACCESS_TOKEN:PURE.token,COMMON_ACCESS_TOKEN_SECRET:PURE.secret}}).then(function(e){n.myBookmarks=n.myBookmarks.filter(function(e){return e.id!=t}),n.$message.success("取消收藏成功")})}}}),userRecordItem=Vue.component("user-record-list",{data:function(){return{loading:!1,myBookmarks:[],myBookmarksTotal:0,myBookmarksPaged:1,bookmarkType:"viewed",userBookmarkNav:[{name:"最近浏览",slug:"viewed"}]}},template:'\n    <section>\n    <div class="userNavTab">\n        <span\n            v-for="item in userBookmarkNav"\n            :key="item.slug"\n            @click="switchBookmarkStatus(item.slug)"\n            :class="{ current: item.slug == bookmarkType }"\n            class="userNavTab--item"\n            >{{ item.name }}</span\n        >\n    </div>\n    <div class="user-main-content" v-loading="loading">\n        <div class="userPost--item" v-for="post in myBookmarks" :key="post.id">\n        <template v-if="bookmarkType == \'question\'">\n        <div class="title">\n        <a :href="post.sourceUrl" target="_blank">{{ post.title }}</a>\n    </div>\n    <div class="meta">\n    {{ post.clickCountStr }} 次浏览\n    <span class="dot"></span>{{ post.modifyTimeStr }}<span class="dot"></span><span\n    class="action"\n    @click="removeQuestion(post.id)"\n    >取消收藏</span></div>\n        </template>\n        <template v-else-if="bookmarkType == \'answer\'">\n        <div class="title">\n        <a :href="post.sourceUrl" target="_blank">{{ post.comment }}</a>\n    </div>\n    <div class="meta">\n    {{ post.title }}\n    <span class="dot"></span>{{ post.UName }}<span class="dot"></span><span\n    class="action"\n    @click="removeComment(post.id)"\n    >取消收藏</span></div>\n        </template>\n        <template v-else>\n            <div class="title">\n                <a :href="post.permalink" target="_blank">{{ post.title }}</a>\n            </div>\n            <div class="meta">\n                <span\n                    v-if="bookmarkType == \'bookmark\'"\n                    :data-id="post.id"\n                    class="action"\n                    @click="removebook(post.id)"\n                    >取消收藏</span>\n                <span v-else-if="bookmarkType == \'topic\'" @click="handleClick(post.id)" class="action">取消收藏</span>\n                <span v-if="bookmarkType != \'viewed\'" class="dot"></span>\n                <span v-if="bookmarkType == \'topic\'">{{ post.post_count }} 篇文章</span\n                ><span v-else>{{ post.date }}</span\n                ><span class="dot"></span>{{ post.view }} 次浏览\n            </div>\n            </template>\n        </div>\n        <el-empty v-if="myBookmarks.length == 0 && !loading" description="暂无数据"></el-empty>\n    </div>\n    <div class="active--cardNav u-marginTop30">\n        <el-pagination\n            v-if="myBookmarksTotal > 20"\n            background\n            layout="prev, pager, next"\n            :page-size="20"\n            :total="myBookmarksTotal"\n            :current-page="myBookmarksPaged"\n            @current-change="handleBookmarkCurrentChange"\n        >\n        </el-pagination>\n    </div>\n</section>\n \n  ',created:function(){this.getMyBookmarks()},watch:{bookmarkType:function(){this.myBookmarksPaged=1,this.myBookmarks=[],this.myBookmarksTotal=0,this.getMyBookmarks()}},methods:{handleBookmarkCurrentChange:function(e){this.myBookmarksPaged=e,this.getMyBookmarks()},getMyBookmarks:function(){var t=this;this.loading=!0,"question"==this.bookmarkType?axios.get("/api-o/api/user1/attentionQuestionList.html",{params:{PN:this.myBookmarksPaged}}).then(function(e){t.loading=!1,t.myBookmarks=e.data.RESULT.attentionList,t.myBookmarksTotal=e.data.RESULT.attentionCount}):"answer"==this.bookmarkType?axios.get("/api-o/api/user1/attentionCommentList.html",{params:{PN:this.myBookmarksPaged}}).then(function(e){t.loading=!1,t.myBookmarks=e.data.RESULT.attentionList,t.myBookmarksTotal=e.data.RESULT.attentionCount}):axios.get("/__api/v3/me/bookmarks",{params:{post_status:this.bookmarkType,paged:this.myBookmarksPaged}}).then(function(e){t.loading=!1,t.myBookmarks=e.data.payload.posts,t.myBookmarksTotal=e.data.payload.count})},switchBookmarkStatus:function(e){this.bookmarkType=e},removeComment:function(t){var n=this;axios({url:"/api-o/api/qatt/commentCancelAttention",method:"post",params:{commentId:t}}).then(function(){var e=n.myBookmarks.filter(function(e){return e.id!=t});n.myBookmarks=e,n.$message.success("取消收藏成功")})},removeQuestion:function(t){var n=this;axios({url:"/api-o/api/qatt/cancelAttention",method:"post",params:{questionId:t}}).then(function(){var e=n.myBookmarks.filter(function(e){return e.id!=t});n.myBookmarks=e,n.$message.success("取消收藏成功")})},removebook:function(t){var n=this;axios.delete("/__api/v1/post/"+t+"/bookmarks",{headers:{"X-WP-Nonce":PURE.nonce}}).then(function(){var e=n.myBookmarks.filter(function(e){return e.id!=t});n.myBookmarks=e,n.$message.success("取消收藏成功")})},handleClick:function(t){var n=this;if(!PURE.is_user_logged_in)return this.$parent.showLogin=!0;axios({method:"post",url:"/api3/topic/unSubscribe",params:{id:t,COMMON_ACCESS_TOKEN:PURE.token,COMMON_ACCESS_TOKEN_SECRET:PURE.secret}}).then(function(e){n.myBookmarks=n.myBookmarks.filter(function(e){return e.id!=t}),n.$message.success("取消收藏成功")})}}}),userCommentItem=Vue.component("user-comment-list",{data:function(){return{myComments:[],myCommentsTotal:0,myCommentsPaged:1,loading:!1}},created:function(){this.getMyComments()},methods:{deleteComment:function(e){var t=this;this.$confirm("此操作将永久删除该评论, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){axios.delete("/__api/v3/me/comment/"+e).then(function(e){"true"==e.data.success?(t.$message({message:"删除成功",type:"success"}),t.getMyComments()):t.$message({message:"删除失败",type:"error"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},getMyComments:function(){var t=this;this.loading=!0,axios.get("/__api/v3/me/comments?paged="+this.myCommentsPaged).then(function(e){t.myComments=e.data.payload.comments,t.myCommentsTotal=e.data.payload.count,t.loading=!1})},handleCommentCurrentChange:function(e){this.myCommentsPaged=e,this.getMyComments()}},template:'\n    <section>\n    <div class="user-main-content" data-dts-event-location="article_items" v-loading="loading">\n    <div class="userComment--item" v-for="comment in myComments" :key="comment.id"><div class="title">在文章<a :href="comment.link" target="_blank">《{{ comment.title }}》</a>中的评论</div>\n  <div class="content">{{ comment.content }}</div>\n  <div class="meta">{{ comment.create_time}}<span class="dot"></span><span class="action" @click="deleteComment(comment.id)">删除</span></div>\n</div>\n        </div>\n        <el-empty v-if="myComments.length == 0 && !loading" description="暂无评论"></el-empty>\n        <div class="active--cardNav u-marginTop30">\n            <el-pagination v-if="myCommentsTotal > 20" background layout="prev, pager, next" :page-size="20" :total="myCommentsTotal" :current-page="myCommentsPaged" @current-change="handleCommentCurrentChange">\n            </el-pagination>\n        </div>\n        </section>'}),userDropdown=Vue.component("user-dropdown",{props:["user","status","info","es_id"],data:function(){return{user_id:PURE.user_id,logout:PURE.logout}},template:'<div class="pm--metabar__dropdown u-flex u-relative u-paddingLeft20">\n    <img\n        :src="user.user_avatar_thumb"\n        class="avatar"\n        width="30"\n        :class="{\n            is_es: es_id > 0,\n        }"\n    />\n    <div class="pm--userCard__dropdown u-shadowed">\n        <div class="userCard--info">\n            <img :src="user.user_avatar_thumb" class="userCard--avatar" />\n            <div class="userCard--name">\n                {{ user.nickname }}\n                <span v-if="status === 1 || status === 2" class="real--verify">已认证</span>\n            </div>\n            <div class="userCard--description">{{ user.description }}</div>\n        </div>\n        <div class="userCard--menu">\n            <div class="menuItem">\n                <a href="/me/posts" class="item" target="_blank">\n                    <div class="item-content">\n                        <svg class="icon" viewBox="0 0 1024 1024" width="32" height="32">\n                            <path\n                                d="M734.634667 72.448C717.824 55.978667 685.226667 42.666667 661.674667 42.666667H204.8C162.389333 42.666667 128 79.189333 128 124.330667v775.338666C128 944.768 162.474667 981.333333 204.8 981.333333h614.4c42.410667 0 76.8-36.693333 76.8-81.578666V273.493333c0-23.68-13.781333-56.405333-30.378667-72.661333l-130.986666-128.426667zM341.333333 298.666667h341.333334a42.666667 42.666667 0 0 1 0 85.333333H341.333333a42.666667 42.666667 0 1 1 0-85.333333z m0 170.666666h170.666667a42.666667 42.666667 0 0 1 0 85.333334H341.333333a42.666667 42.666667 0 0 1 0-85.333334z"\n                                p-id="2152"\n                            ></path>\n                        </svg>\n                        <div>个人中心</div>\n                    </div>\n                </a>\n                <a href="/userescenter" class="item" target="_blank" v-if="es_id">\n                    <div class="item-content">\n                        <svg class="icon" viewBox="0 0 1024 1024" width="32" height="32">\n                            <path\n                                d="M658.285714 292.571429V22.857143q12.571429 8 20.571429 16l233.142857 233.142857q8 8 16 20.571429h-269.714286z m-73.142857 18.285714q0 22.857143 16 38.857143t38.857143 16h310.857143v603.428571q0 22.857143-16 38.857143t-38.857143 16H128q-22.857143 0-38.857143-16t-16-38.857143V54.857143q0-22.857143 16-38.857143t38.857143-16h457.142857v310.857143z"\n                            ></path>\n                        </svg>\n                        <div>服务商后台</div>\n                    </div>\n                </a>\n                <a href="/me/bookmarks" class="item" target="_blank" v-else>\n                    <div class="item-content">\n                        <svg\n                            t="1591943898033"\n                            class="icon"\n                            viewBox="0 0 1024 1024"\n                            width="32"\n                            height="32"\n                        >\n                            <path\n                                d="M739.584 70.592c-92.224 0-177.792 63.04-228.224 109.568C460.864 133.632 375.36 70.592 283.008 70.592 108.48 70.592 0 176.96 0 348.16 0 492.8 130.688 608.256 131.2 608.64l340.544 328.512c10.432 10.432 24.448 16.256 39.552 16.256s29.056-5.824 39.296-16l341.248-328.64c30.656-29.376 130.752-134.848 130.752-260.544C1022.656 176.96 914.176 70.592 739.584 70.592z"\n                                p-id="4511"\n                            ></path>\n                        </svg>\n                        <div>我的收藏</div>\n                    </div>\n                </a>\n ss="item" target="_m-content">\n                        <svg class="icon" viewBox="0 0 1024 1024" width="32" height="32">\n                            <path\n                                d="M512 512c141.4 0 256-114.6 256-256S653.4 0 512 0 256 114.6 256 256s114.6 256 256 256z m179.2 64h-33.4c-44.4 20.4-93.8 32-145.8 32s-101.2-11.6-145.8-32h-33.4C184.4 576 64 696.4 64 844.8V928c0 53 43 96 96 96h704c53 0 96-43 96-96v-83.2c0-148.4-120.4-268.8-268.8-268.8z"\n                                fill=""\n                                p-id="14846"\n                            ></path>\n                        </svg>\n                        <div>个人主页</div>\n                    </div>\n                </a>\n            </div>\n            <div class="menuItem">\n                <div class="item" target="_blank">\n                    <a href="/me/setting" target="_blank">资料修改</a>\n                </div>\n                <div class="item">\n                    <a :href="logout">退出登录</a>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}),userExp=Vue.component("user-exp",{data:function(){return{list:[],page:1,pageSize:10,total:0,loading:!1,finished:!1,rewardNav:[{name:"积分变动",value:"outcome"},{name:"积分规则",value:"income"}],rewardType:"outcome"}},methods:{getMyOutcome:function(){var t=this;axios.get("/api-o/api/user/expLogData?pageNow="+this.page).then(function(e){t.list=e.data.RESULT.xpLogs.records,t.total=e.data.RESULT.xpLogs.totalRecords})},handleAnswerCurrentChange:function(e){this.page=e,this.getMyOutcome()},switchReward:function(e){this.rewardType=e}},created:function(){this.getMyOutcome()},template:'<section>\n    <div class="userNavTab" style="align-items:center">\n            <span v-for="item in rewardNav" :key="item.value" @click="switchReward(item.value)" :class="{current: item.value == rewardType}" class="userNavTab--item">{{ item.name }}</span><span style="margin-left:auto;font-size:14px;color:rgba(0,0,0,.6)">请前往 APP「我的钱包」中提现</span>\n        </div>\n        <div class="user-main-content">\n        <div class="userReward--list" v-if="rewardType == \'income\'">\n        <div class="widgetQuestion--item"  v-for="item in list" :key="item.id" >\n        <div class="title">{{ item.desc }}</div>\n        <div class="meta">{{ item.time }}<span class="dot"></span>{{ item.source }}<span class="dot"></span>{{ item.score }}</div>\n        </div>\n        </div>\n    <div class="userReward--list">\n    <div class="widgetQuestion--item"  v-for="item in list" :key="item.id" ><div class="title">{{ item.desc }}</div>\n    <div class="meta">{{ item.time }}<span class="dot"></span>{{ item.source }}<span class="dot"></span>{{ item.score }}</div></div>\n    </div>\n    </div>\n    <div class="active--cardNav u-marginTop30">\n            <el-pagination v-if="total > 20" background layout="prev, pager, next" :page-size="20" :total="total" :current-page="page" @current-change="handleAnswerCurrentChange">\n            </el-pagination>\n        </div>\n    </section>'}),userPostList=Vue.component("user-post-list",{data:function(){return{myPosts:[],loading:!1,postStatus:"all",paged:1,total:0,userPostNav:[{name:"全部文章",slug:"all"},{name:"已发布",slug:"publish"},{name:"审核中",slug:"pending"},{name:"定时发布",slug:"future"},{name:"草稿箱",slug:"draffunction(){this.getMyPosts()},methods:{switchPostStatus:function(e){this.postStatus=e},handlePostsCurrentChange:function(e){this.paged=e,this.getMyPosts()},getMyPosts:function(){var t=this;this.loading=!0,axios({url:"/__api/v3/me/posts",params:{post_status:this.postStatus,paged:this.paged}}).then(function(e){t.loading=!1,t.myPosts=e.data.payload.posts.map(function(e){var t="";switch(e.post_status){case"draft":t="草稿";break;case"publish":t="已发布";break;case"pending":t="待审核";break;case"feature":t="定时发布";break;default:t="其他"}return e.title="【"+t+"】"+e.title,e}),t.total=parseInt(e.data.payload.count)})}},template:'<section>\n    <div class="userNavTab">\n            <span v-for="item in userPostNav" :key="item.slug" @click="switchPostStatus(item.slug)" :class="{current: item.slug == postStatus}" class="userNavTab--item">{{ item.name }}</span>\n        </div>\n        <div class="user-main-content" data-dts-event-location="article_items" v-loading="loading">\n        <div class="userPost--item" v-for="post in myPosts" :key="post.id">\n  <div class="title"><a :href="post.permalink" target="_blank">{{ post.title }}</a></div>\n  <div class="meta">\n  <a :href="\'/writing?pid=\' + post.id" target="_blank" class="cute">编辑</a>\n  <span class="dot"></span>{{ post.date }}\n  <span class="dot"></span>{{ post.view}} 次浏览\n  <span class="dot"></span>{{ post.bookmark}} 收藏\n  <span class="dot"></span>{{ post.postlike}} 喜欢\n  </div>\n</div>\n<div class="user-post-empty" v-if="!loading && myPosts.length == 0">\n<el-empty />\n</div>\n\n        </div>\n        <div class="active--cardNav u-marginTop30">\n            <el-pagination v-if="total > 20" background layout="prev, pager, next" :page-size="ent-change="handlePostsCurrentChange">\n            </el-pagination>\n        </div>\n  </section>\n  '}),userQuestion=Vue.component("user-question-list",{props:["user_id"],data:function(){return{list:[],total:0,paged:1,loading:!1}},computed:{hasNext:function(){return this.total>this.list.length},LTime:function(){return this.list.length?this.list[this.list.length-1].modifyTime:""}},created:function(){this.getData(),this.getSubPosts()},methods:{getData:function(){var t=this;this.userLoading=!0;axios({url:"/api2/user/profile",method:"get",params:{uid:this.user_id}}).then(function(e){200==e.data.CODE&&(t.total=e.data.RESULT.userCommonCountVo.replyCount)})},loadMore:function(){this.paged++,this.getSubPosts()},getSubPosts:function(){var t=this;this.loading=!0,axios({url:"/api-o/api/user1/questionlist.html",method:"get",params:{PN:this.paged,PS:20,UID:this.user_id,_cV:"5.0.0",LTime:this.LTime}}).then(function(e){t.list=t.list.concat(e.data.RESULT.questionList),t.loading=!1})}},template:'<section class="authorActivity--list">\n    <article v-for="item,index in list" :key="index" class="card--status">\n    <div class="ts-main"><div class="tm-article">\n    <a class="pm-answerCard" :href="item.sourceUrl" target="_blank">\n        <div class="pm-answerCard--content">\n            <div class="pm-answerCard--title">{{ item.title }}</div>\n            <div class="pm-answerCard--content--text" v-html="item.commentStr"></div>\n        </div>\n    <div class="pm-answerCard--icon"><img src="https://static.woshipm.com/2022071815270811434quest.png"></div>\n    </a>\n    <p class="ta-title">提出了问题</p>\n    </article>\n    <el-empty v-if="list.length === 0 && !loading" :description="\'暂无提问\'"></el-empty>\n    <div class="loadmore u-rounded" v-if="hasNext" @click="loadMore">更多</div>\n    </section>'}),userInspiration=Vue.component("user-inspiration",{props:["user_id"],data:function(){return{list:[],total:0,paged:1,loading:!1,hasNext:!1}},created:function(){this.getSubPosts()},methods:{loadMore:function(){this.paged++,this.getSubPosts()},getSubPosts:function(){var t=this;this.loading=!0,axios({url:"/__api/v3/inspirations",params:{authorId:this.user_id}}).then(function(e){t.loading=!1,t.list=t.list.concat(e.data.articles),t.total=e.data.total})}},template:'\n    <div class="blockCards blockCards__user" v-loading="loading">\n    <div class="blockCard blockCard--inspiration" v-for="(item, index) in list" :key="index">\n            <a\n                class="cover"\n                :style="\'background-image: url(\' + item.image + \')\'"\n                :href="item.link"\n                target="_blank"\n            ></a>\n            <div class="content">\n                <h3 class="title">\n                    <a :href="item.link" target="_blank">{{ item.title }}</a>\n                </h3>\n                <div class="meta">\n                    <img :src="item.author_avatar" class="avatar" />\n                    {{ item.author_name }}\n                    <span class="tag">{{ item.tag }}</span>\n                </div>\n            </div>\n        </div>\n    </div>'}),userVideo=Vue.component("user-video",{props:["user_id"],data:function(){return{list:[],total:0,paged:1,loading:!1}},created:function(){this.getSubPosts()},computed:{hasNext:function(){return this.total>this.list.length}},methods:{loadMore:function(){this.paged++,this.getSubPosts()},getSubPosts:function(){var t=this,e="/api2/views/videos?uid="+this.user_id+"&pageNow="+this.paged;this.loading=!0,axios({url:e,params:{}}).then(function(e){t.loading=!1,t.list=t.list.concat(e.data.RESULT.records),t.total=e.data.RESULT.total})}},template:'\n    <div class="u-paddingBottom30" v-loading="loading">\n        <div class="video--list">\n            <a\n                class="video--item"\n                v-for="(item, index) in list"\n                :key="index"\n                :href="\'https://www.woshipm.com/fish/view/\' + item.id"\n                target="_blank"\n            >\n                <div class="cover">\n                    <svg\n                        fill="#eee"\n                        height="32px"\n                        width="32px"\n                        version="1.1"\n                        viewBox="0 0 481 481"\n                        xml:space="preserve"\n                    >\n                        <path\n                            d="M410.6,70.4C365.1,25,304.7,0,240.5,0S115.9,25,70.4,70.4C25,115.9,0,176.3,0,240.5s25,124.6,70.4,170.1\n\t\t\tC115.8,456,176.2,481,240.5,481s124.6-25,170.1-70.4C456,365.2,481,304.8,481,240.5S456,115.9,410.6,70.4z M240.5,454\n\t\t\tC122.8,454,27,358.2,27,240.5S122.8,27,240.5,27S454,122.8,454,240.5S358.2,454,240.5,454z"\n                        />\n                        <path\n                            d="M349.2,229.1l-152.6-97.9c-4.2-2.7-9.47,11.8\n\t\t\tc2,1.1,4.3,1.7,6.5,1.7c2.5,0,5.1-0.7,7.3-2.1l152.6-97.9c3.9-2.5,6.2-6.8,6.2-11.4S353,231.6,349.2,229.1z M202.8,313.7V167.3\n\t\t\tl114.1,73.2L202.8,313.7z"\n                        />\n                    </svg>\n                    <img :src="item.videoInfo.videoImage" />\n                    <div class="time" v-if="0 > 1">12:00</div>\n                </div>\n                <div class="content">\n                    <div class="prefix">\n                        <span class="tag" v-for="tag in item.tagList" :key="tag.tagId">{{\n                            tag.tag\n                        }}</span>\n                    </div>\n                    <div class="title">{{ item.content }}</div>\n                    <div class="meta">\n                        <img :src="item.uavatar" class="avatar" height="32" width="32" />\n                        <span class="name">{{ item.uname }}</span>\n                    </div>\n                </div>\n            </a>\n    </div>\n    <div class="loadmore u-rounded" v-if="hasNext" @click="loadMore">更多</div>\n    </div>'}),userRewardIncome=Vue.component("user-reward-income",{props:["item"],template:'\n  <div class="widgetQuestion--item"><div class="title">{{ item.nickName }} 在文章《<a :href="\'/?p=\' + item.SID" class="cute" target="_blank">{{ item.title }}</a>》打赏了{{ item.totalFee }} 元。</div>\n</div>\n  '}),userRewardOutcome=Vue.component("user-reward-outcome",{props:["item"],template:'\n  <div class="widgetQuestion--item"><div class="title">您在文章《<a :href="\'/?p=\' + item.SID" class="cute" target="_blank">{{ item.title }}</a>》打赏了{{ item.totalFee }} 元</div>\n</div>\n  '}),userRewards=Vue.component("user-rewards",{data:function(){return{list:[],page:1,pageSize:10,total:0,loading:!1,finished:!1,rewardNav:[{name:"我的打赏",value:"outcome"},{name:"我的收益",value:"income"}],rewardType:"outcome"}},watch:{rewardType:function(){"income"==this.rewardType?this.getMyIncome():this.getMyOutcome()}},methods:{getMyIncome:function(){var t=this;axios.get("/api2/reward/orders/income?PN=1&PS=20").then(function(e){t.list=e.data.RESULT.incomeRecords})},getMyOutcome:function(){var t=this;axios.get("/api2/reward/orders/output?PN=1&PS=20").then(function(e){t.list=e.data.RESULT.outputRecords})},handleAnswerCurrentChange:function(e){this.page=e,this.getData()},switchReward:function(e){this.rewardType=e}},created:function(){this.getMyOutcome()},template:'<section>\n    <div class="userNavTab" style="align-items:center">\n            <span v-for="item in rewardNav" :key="item.value" @click="switchReward(item.value)" :class="{current: item.value == rewardType}" class="userNavTab--item">{{ item.name }}</span><span style="margin-left:auto;font-size:14px;color:rgba(0,0,0,.6)">请前往 APP「我的钱包」中提现</span>\n        </div>\n        <div class="user-main-content">\n        <div class="userReward--list" v-if="rewardType == \'income\'">\n    <user-reward-income v-for="item in list" :key="item.id" :item="item"></user-reward-income>\n    </div>\n    <div class="userReward--list" v-else>\n    <user-reward-outcome v-for="item in list" :key="item.id" :item="item"></user-reward-outcome>\n    </div>\n    </div>\n    <div class="active--cardNav u-marginTop30">\n            <el-pagination v-if="total > 20" background layout="prev, pager, next" :page-size="20" :total="total" :current-page="page" @current-change="handleAnswerCurrentChange">\n            </el-pagination>\n        </div>\n    </section>'}),widgetQues=Vue.component("widget-question-card",{methods:{getWidgetQuestions:function(){var t=this;this.loading=!0,axios.get("/api/recommendation/questions/simple-info?PN=1&PS=10").then(function(e){t.widgetQuestions=e.data.RESULT.list,t.loading=!1}).catch(function(){t.widgetQuestions="",t.loading=!1})}},computed:{topQuestion:function(){return 0<this.widgetQuestions.length&&this.widgetQuestions[0]},randomQuestions:function(){return 0<this.widgetQuestions.length?this.widgetQuestions.slice(1,4):[]}},created:function(){this.getWidgetQuestions()},data:function(){return{widgetQuestions:[]}},template:'<div class="widget u-backgroundColorWhite" data-dts-event-location="recom_question_items">\n    <div class="widget--question--hero" v-if="topQuestion">\n        <img class="img" src="//image.woshipm.com/wp-files/2020/06/qgEa9DwE5Xshp2Q7EbAx.png" />\n        <div class="content">\n            <div class="title">{{ topQuestion.title }}</div>\n            <div class="des">{{ topQuestion.content }}</div>\n            <div class="meta">\n                <div class="avatar-list">\n                    <img\n                        src="https://static.woshipm.com/WX_U_202001_20200121114005_5237.jpg?imageView2/2/w/80/size-limit/5k!"\n                        height="24"\n                        width="24"\n                        class="avatar"\n                    />\n                    <img\n                        src="https://static.woshipm.com/WX_U_201805_20180531185421_8464.jpg?imageView2/2/w/80/size-limit/5k!"\n                        height="24"\n                        width="24"\n                        class="avatar"\n                    />\n                    <om//wp-files/2015/10/touxiang-5.jpg!avatar"\n                        height="24"\n                        width="24"\n                        class="avatar"\n                    />\n                    <span class="c"\n                        >{{ topQuestion.clickCountStr }} 点击<span class="dot"></span\n                        >{{ topQuestion.commentCount }} 回答</span\n                    >\n                </div>\n                <a :href="topQuestion.questionUrl" target="_blank" class="btn">进入回答</a>\n            </div>\n        </div>\n    </div>\n    <div class="inner">\n        <div class="js-hot-qlist">\n            <div\n                class="widgetQuestion--item"\n                v-for="question in randomQuestions"\n                :key="question.id"\n            >\n                <div class="title">\n                    <a :href="question.questionUrl" target="_blank">{{ question.title }}</a>\n                </div>\n                <div class="meta">\n                    {{ question.clickCountStr }} 点击<span class="dot"></span\n                    >{{ question.commentCount }} 回答\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}),userAnswerItem=Vue.component("user-answer-item",{props:["answer"],template:'\n  <div class="userAnswer--item"><div class="title"><a :href="answer.questionUrl" target="_blank">{{ answer.title }}</a></div>\n</div>\n  '}),userAnswers=Vue.component("user-answers",{data:function(){return{answers:[],page:1,pageSize:10,total:0,loading:!1,finished:!1}},methods:{getData:function(){var t=this;axios.get("/api/user/answers?uid="+PURE.user_id+"&PN="+this.page).then(function(e){t.answers=e.data.RESULT.pagerecords.records,t.total=e.data.RESULT.pagerecords.totalRecords})},handleAnswerCurrentChange:function(e){this.page=e,this.getData()}},created:function(){this.getData()},template:'<section>\n    <user-answer-item v-for="answer in myAnswers" v-bind:key="answer.id" v-bind:answer="answer"></user-answer-item>\n    <div class="active--cardNav u-marginTop30">\n            <el-pagination v-if="total > 20" background layout="prev, pager, next" :page-size="20" :total="total" :current-page="page" @current-change="handleAnswerCurrentChange">\n            </el-pagination>\n        </div>\n    </section>'}),userSubCard=Vue.component("user-sub-card",{data:function(){return{myUsers:[],myUsersTotal:0,myUsersPaged:1,loading:!1,rewardNav:[{name:"关注",value:"follow"},{name:"粉丝",value:"funs"}],rewardType:"follow"}},watch:{rewardType:function(){this.myUsersPaged=1,this.myUsersTotal=0,this.myUsers=[],this.getMySubs()}},created:function(){var e=window.location.search;-1<e.indexOf("type")&&(e=e.split("type=")[1].split("&")[0],this.rewardType=e),this.getMySubs()},methods:{openVip:function(e){console.log(e),1200==e.6.pm/YP38J")},switchReward:function(e){this.rewardType=e},handleSubUserCurrentChange:function(e){this.myUsersPaged=e,this.getMySubs()},getMySubs:function(){var t=this;this.loading=!0,"follow"==this.rewardType?axios.get("/api2/app/user-relationship/follow?pageNow="+this.myUsersPaged+"&PS=20").then(function(e){t.myUsers=e.data.RESULT.records.map(function(e){return e.userTags=JSON.parse(e.userTags),e}),t.myUsersTotal=e.data.RESULT.total,t.loading=!1}):axios.get("/api2/app/user-relationship/fans?pageNow="+this.myUsersPaged+"&PS=20").then(function(e){t.myUsers=e.data.RESULT.records.map(function(e){return e.userTags=JSON.parse(e.userTags),e}),t.myUsersTotal=e.data.RESULT.total,t.loading=!1})},subUserHack:function(e){if(!PURE.is_user_logged_in)return this.showLogin=!0;e.meFollowed?axios.post("/api-o/api/userRelation/unFollow.html?friendUid="+e.uid):axios.post("/api-o/api/userRelation/follow.htm?friendUid="+e.uid),e.meFollowed=!e.meFollowed}},template:'\n    <section>\n    <div class="userNavTab" style="align-items:center">\n            <span v-for="item in rewardNav" :key="item.value" @click="switchReward(item.value)" :class="{current: item.value == rewardType}" class="userNavTab--item">{{ item.name }}</span>\n        </div>\n    <div class="user-main-content">\n            <div class="userSubCard--list" v-loading="loading">\n            <div class="userSubCard--item" v-for="user in myUsers" :key="user.sid">\n  <img :src="user.avatar" class="avatar">\n  <div class="content">\n  <div class="name">\n    <a :href="\'/u/\' + user.uid" target="_blank">{{ user.nickName }}</a>  \n    <el-tooltip v-for="tag in user.userTags.filter( item=>{\n        return item.parentCode != 1600;\n    })" :class="\'newusertagIcon icon-num-\' + tag.tagCode" effect="dark" :content="tag.tagName" placement="top"><img :src="\'https://static.woshipm.com/tag/\' + tag.tagCode + \'_1@2x.png \'" width=16  @click="openVip(tag)" :class="{\'u-cursorPointer\': tag.parentCode == 1200}"/></el-tooltip>\n  </div>\n  <div class="des">{{ user.background }}</div>\n  <div class="tags" v-if="user.mutualInfos.length">\n    <div class="tag" v-for="item in user.mutualInfos" :key="item">{{ item }}</div>\n  </div>\n  </div>\n  <div class="userSubCard--action">\n    <button class="button button--toggle" :class="{ active: user.meFollowed }" @click="subUserHack(user)"\n    :data-dts-event-location=" user.meFollowed ? \'unsubscription\' : \'subscription\'"\n    :data-dts-event-info="\'{author_id:\' + user.uid + \'}\'"\n    ><span class="default">关注</span><span class="active">取消关注</span></button>\n  </div>\n</div>\n            </div>\n            <el-empty v-if="!loading && myUsers.length == 0" description="您还没关注任何人" />\n            <div class="active--cardNav u-marginTop30">\n                <el-pagination v-if="myUsersTotal > 20" background layout="prev, pager, next" :page-size="20" :total="myUsersTotal" :current-page="myUsersPaged" @current-change="handleSubUserCurrentChange">\n                </el-pagination>\n            </div>\n        </div></section>'}),userSubItem=Vue.component("user-sub-list",{data:function(){return{mySubPosts:[],mySubTotal:0,mySubPaged:1,loading:!1}},created:function(){this.getSubPosts()},methods:{openVip:function(e){console.log(e),1200==e.parentCode&&window.open("https://996.pm/YP38J")},handleSubCurrentChange:function(e){this.mySubPaged=e,this.getSubPosts()},getSubPosts:function(){var t=this;this.loading=!0,axios.get("/api2/user/followings/articles?PS=20&PN="+this.mySubPaged).then(function(e){200==e.data.CODE&&(t.mySubPosts=e.data.RESULT.articleList,t.mySubTotal=parseInt(e.data.RESULT.count)),t.loading=!1})}},template:'\n    <section>\n    <div class="user-main-content" data-dts-event-location="article_items" v-loading="loading">\n    <div class="postlist-item u-backgroundColorWhite" v-for="post in mySubPosts" :key="post.id">\n    <div class="post-img">\n    <a :href="post.link" target="_blank">\n        <img :src="post.image + \'!/both/236x143\'" :srcset="post.image + \'!/both/472x286 2x\'">\n    </a>\n    </div>\n    <div class="content">\n    <h2 class="post-title"><a :href="post.link"  target="_blank">{{ post.title}}</a></h2>\n    <div class="des">{{ post.description }}</div>\n    <div class="stream-list-meta"><div class="u-flex0"><a target="_blank" :href="\'/u/\' + post.UID " class="u-flex u-relative"><img alt="" :src="post.UAvatar" class="avatar avatar-36 photo" width=36 height=36>\n    </a></div> <div class="u-flex1"><div class="author u-flex"><a target="_blank" :href="\'/u/\' + post.UID " class="ui-captionStrong u-flex">{{ post.UName }}</a>\n    <el-tooltip v-for="tag in post.tags.filter( e=> {\n        return ![1600].includes(e.parentCode) && e.tagCode !== 1204;\n    })" :class="\'newusertagIcon icon-num-\' + tag.tagCode" effect="dark" :content="tag.tagName" placement="top"><img :src="\'https://static.woshipm.com/tag/\' + tag.tagCode + \'_1@2x.png \'" width=16 @click="openVip(tag)" :class="{\'u-cursorPointer\': tag.parentCode == 1200}" /></el-tooltip>\n    </div> <div class="meta--sup"><time itemprop="datePublished">{{ post.publishTimeStr }}</time>\n    </div></div></div>\n    </div></div>\n                    </div>\n                    <el-empty v-if="mySubPosts.length == 0 && !loading" description="暂无订阅内容"></el-empty>\n                    <div class="active--cardNav u-marginTop30">\n                        <el-pagination v-if="mySubTotal > 20" background layout="prev, pager, next" :page-size="20" :total="mySubTotal" :current-page="mySubPaged" @current-change="handleSubCurrentChange">\n                        </el-pagination>\n                    </div>\n                    </section>\n  '});function validEmail(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function isPhoneNumber(e){return/^1[3-9]\d{9}$/.test(e)}function validatorIDCard(e){if("string"!=typeof e)return{code:-1,msg:"为了避免javascript数值范围误差，idcode 必须是字符串"};if(!/^[1-9][0-9]{5}([1][9][0-9]{2}|[2][0][0|1][0-9])([0][1-9]|[1][0|1|2])([0][1-9]|[1|2][0-9]|[3][0|1])[0-9]{3}([0-9]|[X])$/.test(e))return{code:-1,msg:"身份证号码格式错误"};for(var t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],n=e[17],i=e.substring(0,17).split(""),a=i.length,s=0,o=0;o<a;o++)s+=i[o]*t[o];e=n===["1","0","X","9","8","7","6","5","4","3","2"][s%11];return{code:e?1:-1,msg:e?"":"身份证号码格式错误"}}var pmVerify=Vue.component("pm-verify",{data:function(){return{loadings:{idNumberFrontFile:!1,idNumberContraryFile:!1,companyBusinessLicense:!1},form:{authenticationType:1,idNumber:"",companySocialCode:"",nickName:"",idNumberFrontFile:"",idNumberContraryFile:"",email:"",description:"",avatar:"",authorizationState:"",authorizationFile:"",authEndTime:"",authStartTime:"",contactEmail:"",contactMobile:"",contactName:"",trueName:"",companyBusinessLicense:""},active:1,loading:!1,status:0,checked:!1,paging:!1,headers:{COMMON_ACCESS_TOKEN:PURE.token,COMMON_ACCESS_TOKEN_SECRET:PURE.secret}}},created:function(){this.getInfo()},methods:{getInfo:function(){var t=this;this.paging=!0,axios({url:"https://api2.woshipm.com/user/profile?uid="+PURE.user_id,method:"get"}).then(function(e){200==e.data.CODE&&(t.form.avatar=e.data.RESULT.userInfoVo.avartar,t.form.nickName=e.data.RESULT.userInfoVo.nickName,t.form.description=e.data.RESULT.userInfoVo.description,t.form.idNumber=e.data.RESULT.authorAuthInfoVo.idNumber,t.status=e.data.RESULT.authorAuthInfoVo.authorAuthed,0==t.status&&(t.active=3),2!=t.status&&3!=t.status&&5!=t.status||(document.location.href="https://www.woshipm.com/")),t.paging=!1})},handleUploadSuccess:function(e,t){200==t.CODE?(this.form[e]=t.RESULT.url,this.loadings[e]=!1):this.$message.error(t.MESSAGE)},beforeAvatarUpload:function(e){e=e.size/1024/1024<10;return e||this.$message.error("上传图片大小不能超过 10MB!"),e},verifyHttp:function(){var t=this;this.loading=!0,axios({url:"https://api2.woshipm.com/app/author/authentication",method:"post",data:{authEndTime:"2099-03-01 00:00:00",authStartTime:"2022-03-01 00:00:00",authenticationType:this.form.authenticationType,authorizationState:1,avatar:this.form.avatar,companyName:this.form.companyName,companyBusinessLicense:this.form.companyBusinessLicense,companySocialCode:this.form.companySocialCode,contactMobile:this.form.contactMobile,contactEmail:this.form.contactEmail,contactName:this.form.contactName,idNumber:this.form.idNumber,idNumberContraryFile:this.form.idNumberContraryFile,idNumberFrontFile:this.form.idNumberFrontFile,nickName:this.form.nickName,trueName:this.form.trueName,description:this.form.description}}).then(function(e){200==e.data.CODE?(t.$message.success("提交成功"),t.active=3):t.$message.error(e.data.MESSAGE),t.loading=!1})},handleProgress:function(e,t){this.loadings[e]=!0},submitVerify:function(){var e=this;if(this.active<2)return this.active++;if(!this.form.nickName)return this.$message.error("请输入账号名称");if(!this.form.description)return this.$message.error("请输入账号简介");if(1==this.form.authenticationType){if(1!=validatorIDCard(this.form.idNumber).code)return this.$message.error("请输入正确的身份证号码");if(!this.form.trueName)return this.$message.error("请输入真实姓名");if(!this.form.idNumberFrontFile)return this.$message.error("请上传身份证正面照");if(!this.form.idNumberContraryFile)return this.$message.error("请上传身份证反面照")}else{if(!this.form.companyBusinessLicense)return this.$message.error("请上传营业执照");if(!this.form.companyName)return this.$message.error("请输入公司名称");if(!this.form.companySocialCode)return this.$message.error("请输入社会信用代码")}return this.form.contactName?isPhoneNumber(this.form.contactMobile)?validEmail(this.form.contactEmail)?void this.$confirm("确认提交审核吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.verifyHttp()}).catch(function(){e.$message({type:"info",message:"已取消"}),e.loading=!1}):this.$message.error("请输入联系人邮箱"):this.$message.error("请输入联系人手机号"):this.$message.error("请输入联系人姓名")}},template:'<section class="pm-verify" v-loading="paging">\n    <el-steps :active="active" finish-status="success">\n        <el-step title="同意协议"></el-step>\n        <el-step title="填写资料"></el-step>\n        <el-step title="提交成功"></el-step>\n    </el-steps>\n    <div v-if="active == 1" class="verify--content">\n    <p>欢迎你使用人人都是产品经理平台！</p>\n\n    <p>申请作者认证是一项严肃的法征经理作者认证，申请成功后即可成为人人都是产品经理作者，在平台上可发布文章、动态、问答等。已仔细阅读并同意以下内容及<a href="https://www.woshipm.com/it/1010671.html" target="_blank" rel="noopener">《人人都是产品经理作者协议》。</a></p>\n\n    <p>1. 在帐号资质审核成功之后，帐号的使⽤权属于通过资质审核的拟认证主体，该帐号⾃注册时其产⽣的⼀切权利义务均由该主体承担，该帐号所获得的所有收益、权限均归认证后的主体享有，且所有运营活动都必须以该主体对外开展。</p>\n\n    <p>2. 拟认证主体提交给平台的认证资料真实⽆误，并不可撤销地授权平台及其委托的任何第三⽅审核机构对提交的资料进⾏甄别核实，⼀经申请即产⽣平台及其委托的第三⽅审核机构的审核成本，故所交纳的认证审核服务费⽤将不因认证结果、拟认证主体是否提出撤回申请等因素⽽退回。</p>\n\n    <p>3. 拟认证主体在申请平台认证服务过程中填写并向平台提交的认证联系⼈（包括后续不时变更的⼈员）为拟认证主体指定的认证联系⼈员，并特此授权由该指定⼈员以拟认证主体的名义负责该微信帐号的内容维护、开发维护及运营管理。认证联系人的所有操作行为，均代表拟认证主体，拟认证主体均需承担一切责任。</p>\n\n    <p>4. 本认证服务仅对该帐号所提交的认证资料的真实性、合法性进⾏书⾯甄别核实，其功能、权限是否开通、帐号能否发布等均需遵守对应业务平台为此所制定的专项规则《人人都是产品经理作者协议》。</p>\n\n    <p>5. 拟认证主体如违反上述承诺，均需承担一切责任，对平台或第三方造成损失的，须赔偿损失。在平台同意通过新的认证服务之前，本公函持续有效。</p>\n\n    <p>更多协议内容请查阅：<a href="https://www.woshipm.com/it/1010671.html" target="_blank" rel="noopener">人人都是产品经理作者协议</a></p>\n       \n    <p><el-checkbox label="" v-model="checked">我已阅读、理解和确认同意协议内容</el-checkbox></p>\n    </div>\n    <template v-if="active == 2">\n        <el-form v-model="form" label-width="150px" size="small" class="verify--form">\n            <div class="verify--title">账号信息</div>\n            <el-form-item label="账号名称" required>\n                <el-input\n                    v-model="form.nickName"\n                    placeholder="请填写账号名称，类似公众号名称"\n                    maxlength="12"\n                    show-word-limit\n                ></el-input>\n            </el-form-item>\n            <el-form-item label="账号简介" required>\n                <el-input\n                    v-model="form.description"\n                    placeholder="请填写账号简介，类似公众号介绍"\n                    type="textarea"\n                    maxlength="32"\n                    show-word-limit\n                ></el-input>\n            </el-form-item>\n            <el-form-item label="账号头像">\n            <div class="verify--note">\n                系统默认头像将无法通过审核\n            </div>\n                <el-upload\n                    action="https://api2.woshipm.com/media"\n                    :show-file-list="false"\n                    :on-success="(res) => handleUploadSuccess(\'avatar\', res)"\n                    :before-upload="beforeAvatarUpload"\n                    :data="{ biz: \'view\'}"\n                    :headers="headers"\n\n                >\n                    <el-button type="primary" >{{\n                        form.avatar ? "重新上传" : "点击上传"\n                    }}</el-button>\n                </el-upload>\n                <img v-if="form.avatar" :src="form.avatar" class="verify--avatar" width="64" />\n            </el-form-item>\n            <el-form-item label="认证类型" required>\n                <el-select v-model="form.authenticationType" placeholder="请选择认证类型">\n                    <el-option label="个人认证" :value="1"></el-option>\n                    <el-option label="企业认证" :value="2"></el-option>\n                </el-select>\n            </el-form-item>\n            <template v-if="form.authenticationType == 1">\n                <div class="verify--title">个人信息</div>\n                <el-form-item label="姓名" required>\n                    <el-input v-model="form.trueName" placeholder="请输入姓名"></el-input>\n                </el-form-item>\n                <el-form-item label="身份证号" required>\n                    <el-input v-model="form.idNumber" placeholder="请输入身份证号"></el-input>\n                </el-form-item>\n                <el-form-item label="身份证正面" required>\n                    <el-upload\n                        action="https://api2.woshipm.com/media"\n                        :show-file-list="false"\n                        :on-success="(res) => handleUploadSuccess(\'idNumberFrontFile\', res)"\n                        :before-upload="beforeAvatarUpload"\n                        :on-progress="event=> handleProgress(\'idNumberFrontFile\',event)"\n                        :data="{ biz: \'view\' , aiCensor: false }"\n                        :headers="headers"\n                    >\n                        <el-button type="primary" :loading="loadings.idNumberFrontFile">{{\n                            form.idNumberFrontFile ? "重新上传" : "点击上传"\n                        }}</el-button>\n                    </el-upload>\n                    <img\n                        v-if="form.idNumberFrontFile"\n                        :src="form.idNumberFrontFile"\n                        class="verify--image"\n                    />\n                </el-form-item>\n                <el-form-item label="身份证反面" required>\n                    <el-upload\n                        action="https://api2.woshipm.com/media"\n                        :show-file-list="false"\n                        :on-success="(res) => handleUploadSuccess(\'idNumberContraryFile\', res)"\n                        :before-upload="beforeAvatarUpload"\n                        :on-progress="event=> handleProgress(\'idNumberContraryFile\',event)"\n                        :data="{ biz: \'view\' , aiCensor: false }"\n                        :headers="headers"\n\n                    >\n                        <el-button type="primary" :loading="loadings.idNumberContraryFile">{{\n                            form.idNumberContraryFile ? "重新上传" : "点击上传"\n                        }}</el-button>\n                    </el-upload>\n                    <img\n                        v-if="form.idNumberContraryFile"\n                        :src="form.idNumberContraryFile"\n                        class="verify--image"\n                    />\n                </el-form-item>\n            </template>\n            <template v-else>\n                <div class="verify--title">企业资质信息</div>\n                <el-form-item label="企业名称" required>\n                <el-input\n                        v-model="form.companyName"\n                        placeholder="请输入企业名称"\n                    ></el-input>\n                </el-form-item>\n                <el-form-item label="统一社会信用代码" required>\n                    <div class="verify--note">\n                        务必与营业执照上的注册号或统一社会信用代码一致\n                    </div>\n                    <el-input\n                        v-model="form.companySocialCode"\n                        placeholder="请输入统一社会信用代码"\n                    ></el-input>\n                </el-form-item>\n                <el-form-item label="工商营业执照" required>\n                    <div class="verify--note">\n                        请上传最新的营业执照，\n                        格式要求：原件照片、扫描件或者加盖公章的复印件，支持.jpg .jpeg .bmp .gif\n                        .png格式照片，大小不超过10M。\n                    </div>\n\n                    <el-upload\n                        action="https://api2.woshipm.com/media"\n                        :show-file-list="false"\n                        :on-progress="event=> handleProgress(\'companyBusinessLicense\',event)"\n                        :on-success="\n                            (res) => handleUploadSuccess(\'companyBusinessLicense\', res)\n                        "\n                        :before-upload="beforeAvatarUpload"\n                        :data="{ biz: \'view\' , aiCensor: false }"\n                        :headers="headers"\n\n                    >\n                        <el-button type="primary" :loading="loadings.companyBusinessLicense">{{\n                            form.companyBusinessLicense ? "重新上传" : "点击上传"\n                        }}</el-button>\n                    </el-upload>\n                    <img\n                        v-if="form.companyBusinessLicense"\n                        :src="form.companyBusinessLicense"\n                        class="verify--image"\n                    />\n                </el-form-item>\n            </template>\n            <div class="verify--title">认证联系人信息</div>\n\n            <el-form-item label="联系人姓名" required>\n                <el-input\n                    v-model="form.contactName"\n                    placeholder="请输入联系人姓名"\n                    maxlength="8"\n                    sh话" required>\n                <el-input\n                    v-model="form.contactMobile"\n                    placeholder="请输入联系人电话"\n                ></el-input>\n            </el-form-item>\n            <el-form-item label="联系人邮箱" required>\n                <el-input v-model="form.contactEmail" placeholder="请输入联系人邮箱"></el-input>\n            </el-form-item>\n        </el-form>\n    </template>\n    <div class="verify--success" v-if="active == 3">\n        <div class="msg">提交成功，我们会在1-3个工作日完成审核，请留意短信/站内信通知。</div>\n    </div>\n    <footer class="verify--footer">\n        <el-button size="small" v-if="active == 2" @click="active = 1" :disabled="loading"\n            >上一步</el-button\n        >\n        <el-button\n            @click="submitVerify"\n            v-if="active < 3"\n            type="primary"\n            size="small"\n            :disable:0,paged:1,loading:!1}}N="+this.paged+"&PS=20"}).then(function(e){200==e.data.CODE&&(t.list=e.data.RESULT.list),t.loading=!1})}},template:'<section class="home--views" v-loading="loading">\n    <nav class="views--nav">推荐/最新</nav>\n    <article class="card--status" ref="card" :data-id="view.id" v-for="view,index in list" :key="index">\n        <div class="ts-main">\n            \x3c!-- 发布了文章 --\x3e\n            <div class="tm-article" v-if="view.viewType == 3">\n                <p class="ta-title">发布了文章</p>\n                <a :href="view.newsBasicInfo.link" target="_blank">\n                    <div class="ta-link">\n                        <div class="tl">\n                            <img :src="view.newsBasicInfo.image" />\n                        </div>\n                        <p>{{ view.newsBasicInfo.title }}</p>\n                    </div>\n                </a>\n                \x3c!-- 位置 --\x3e\n                <div class="tm-position" v-if="view.pushLocation">\n                    <img src="https://static.woshipm.com/2022071515285635574position_icon.png" />\n                    <span>{{ view.pushLocation }}</span>\n                </div>\n                <div class="tm-position" v-if="!view.pushLocation && view.ipAddress">\n                    <span>IP属地</span>\n                    <span>{{ view.ipAddress }}</span>\n                </div>\n            </div>\n            \x3c!-- 发布了提问  --\x3e\n            <div class="tm-article" v-else-if="view.viewType == 4">\n                <p class="ta-title">发布了提问</p>\n                <a :href="view.questionInfo.link" target="_blank">\n                    <div class="ta-link">\n                        \x3c!-- 普通问答 --\x3e\n                        <div class="tl quest" v-if="view.questionInfo.questionType == 0">\n                            <img src="https://static.woshipm.com/2022071815270811434quest.png" />\n                        </div>\n                        \x3c!-- 悬赏问答 --\x3e\n                        <div class="tl red-bag" v-else>\n                            <img src="https://static.woshipm.com/2022071815270079569redbag.png" />\n                        </div>\n                        <p>{{ view.questionInfo.title }}</p>\n                    </div>\n                </a>\n                \x3c!-- 位置 --\x3e\n                <div class="tm-position" v-if="view.pushLocation">\n                    <img src="https://static.woshipm.com/2022071515285635574position_icon.png" />\n                    <span>{{ view.pushLocation }}</span>\n                </div>\n                <div class="tm-position" v-if="!view.pushLocation && view.ipAddress">\n                    <span>IP属地</span>\n                    <span>{{ view.ipAddress }}</span>\n                </div>\n            </div>\n            \x3c!-- 回答了问题  --\x3e\n            <div class="tm-article" v-else-if="view.viewType == 5">\n                <p class="ta-title">回答了问题</p>\n                <p class="ta-txt">{{ content }}</p>\n                <a :href="view.questionInfo.link" target="_blank">\n                    <div class="ta-link">\n                        \x3c!-- 普通问答 --\x3e\n                        <div class="tl quest" v-if="view.questionInfo.questionType == 0">\n                            <img src="https://static.woshipm.com/2022071815270811434quest.png" />\n                        </div>\n                        \x3c!-- 悬赏问答 --\x3e\n                        <div class="tl red-bag" v-else>\n                            <img src="https://static.woshipm.com/2022071815270079569redbag.png" />\n                        </div>\n                        <p>{{ view.questionInfo.title }}</p>\n                    </div>\n                </a>\n                \x3c!-- 位置 --\x3e\n                <div class="tm-position" v-if="view.pushLocation">\n                    <img src="https://static.woshipm.com/2022071515285635574position_icon.png" />\n                    <span>{{ view.pushLocation }}</span>\n                </div>\n                <div class="tm-position" v-if="!view.pushLocation && view.ipAddress">\n                    <span>IP属地</span>\n                    <span>{{ view.ip-- 普通类型 --\x3e\n            <div v-else class="tm-article">\n                <div class="card--status__content">{{ view.content }}</div>\n                <imageView\n              t="view.imageList"\n                ></imageView>\n                <a :href="view.link.link" target="_blank" v-if="view.link && view.link.link">\n                    <div class="ta-link">\n                        \x3c!-- 普通问答 --\x3e\n                        <div class="tl quest">\n                            <img :src="view.link.image" />\n                        </div>\n                        <p>{{ view.link.title }}</p>\n                    </div>\n                </a>\n                <div class="card--tags">\n                    <span\n                        class="card--tag"\n                        v-for="tag in view.tagList"\n                             :to="\'/tag/\' + tag.tagId"\n                        >{{ tag.tag }}</span\n                    >\n                </div>\n                <footer class="card--status__footer">\n                    <span class="action"\n                        ><i class="fa fa-comment"></i> {{ view.commentCount }}</span\n                    >\n                    <span class="dot"></span>\n                    <span\n                        class="action"\n   ew.id"\n                        :class="{ cute: view.isPraise }"\n                        ><i class="fa fa-thumbs-up"></i> {{ view.praiseCount }}</span\n                    >\n                    <span class="dot"></span>\n                    <a :href="\'/fish/view/\' + view.id" target="_blank"\n                        ><i class="fa fa-sharea>\n                    <div class="footer--right">\n                        <el-popover placement="top" width="130" trigger="hover">\n                            <img :src="view.appletCode" />\n                            <div class="qrcode-des"><i class="fa fa-wechat"></i>微信扫一扫</div>\n      享</span>\n                        </el-popover>\n                    </div>\n                </footer>\n                \x3c!-- 位置 --\x3e\n                <div class="tm-position" v-if="view.pushLocation">\n       tic.woshipm.com/2022071515285635574position_icon.png" />\n                    <span>{{ view.pushLocation }}</span>\n                </div>\n                <div class="tm-position" v-if="!view.pushLocation && view.ipAddress">\n                    <span>IP属地</span>\n                    <span>{{ view.ipAddress }}</span>\n                </div>\n            </div>\n        </div>\n    </article>\n    </section>'}),widgetQrcodeCard=Vue.component("widget-qrcode-card",{data:function(){return{loading:!1,type:"wechat",wechatList:[],qqList:[]}},created:function(){this.getHotPosts()},methods:{getHotPosts:function(){var t=this;console.log("init"),this.loading=!0,axios.get("/__api/v3/qrcode_list").then(function(e){t.wechatList=e.data.category,t.qqList=PURE.is_singular?e.data.single}},template:'<div class="widget u-backgroundColorWhite">\n    <div class="inner">\n        <div class="widget-title">\n            <span>社群</span>\n            <div class="tab">\n                <a @click="type = \'qq\'" class="tabItem" :class="{ \'is-active\': type == \'qq\' }"\n                    >QQ群</a\n                >\n                |\n                <a\n                    @click="type = \'wechat\'"\n                    class="tabItem"\n                    :class="{ \'is-active\': type == \'wechat\' }"\n                    >微信群</a\n                >\n            </div>\n        </div>\n        <div class="widget-content">\n            <ul v-if="type == \'qq\'" class="code-ul">\n                <li v-for="(item, index) in qqList" :key="index">\n                    <img :src="\'//image.woshipm.com/fp/images/a\' + (index + 1) + \'.svg\'" /><span\n                        class="text"\n                        >{{ item.name }}</span\n                    ><a target="_blank" :href="item.link">加入</a>\n                </li>\n            </ul>\n            <ul v-else class="code-ul cold-wechat">\n                <li v-for="(item, index) in wechatList" :key="index">\n                    <img :src="\'//image.woshipm.com/fp/images/a\' + (index + 1) + \'.svg\'" /><span\n                        class="text"\n                        >{{ item.name }}</span\n                    >\n                    <el-popover\n                        style="margin-left: auto; cursor: pointer"\n                        placement="left"\n                        width="300"\n                        trigger="hover"\n                    >\n                        <div class="widget-wechat">\n                            <div class="img">\n                                <img :src="item.link" />\n                            </div>\n                            <div class="content">\n                                <div class="title">扫码加我拉你进群</div>\n                                <p>请注明：姓名-公司-职位</p>\n                                <p>以便审核进群资格，未注明则拒绝</p>\n                            </div>\n                        </div>\n                        <a slot="reference">加入</a>\n                    </el-popover>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>'}),WEN_API_BASE="/api-o";function getElementTop(e){for(var t=e.offsetTop,n=e.offsetParent;null!==n;)t+=n.offsetTop,n=n.offsetParent;return t}function TOC(){!function(s){var e=this,n=s(".widget--toc li"),i=s(".article--content h2"),a=s(window),o=n.length-1;a.on("scroll",function(){for(var e=a.scrollTop(),t=o;-1<t;t--)if(e>=i.eq(t).offset().top-80){n.removeClass("current").eq(t).addClass("current");break}}),n.each(function(t){s(e).on("click",function(e){s("html,body").animate({scrollTop:i.eq(t).offset().top-80},800),e.preventDefault()})}),s(document).on("click",".yoonaOnline--pickDateItem",function(e){e.preventDefault();var t,n,i,a,e=s(this);e.hasClass("disabled")||(s(".yoonaOnline--pickDateItem").removeClass("is-active"),t=e.data("price"),n=e.data("link"),i=e.data("des"),a="¥"+e.data("original"),e.addClass("is-active"),s(".price").html(t),s(".yoonaOnline--linkItem__buy").attr("href",n),s(".price--original").html(a),s(".yoonaOnline--description").html(i),t==e.data("original")&&s(".price--original").html(""))}),s("#getting-started").countdown(s("#getting-started").data("time")).on("update.countdown",function(e){s(this).html(e.strftime("<span class='training-red'>%D</span> 天 <span class='training-red'>%H</span> 小时 <span class='training-red'>%M</span> 分 <span class='training-red'>%S</span> 秒"))}).on("finish.countdown",function(){s(this).html("敬请期待下一期~"),s(".yoonaOpen--action").html('<span class="yoonaOnline--linkItem yoonaOnline--linkItem__buy disabled">报名已结束</span>')})}(jQuery)}function sidebarAffix(){var e,n;$(".widget--fixed").length&&(e=$(".widget--fixed").offset().top,console.log(e),$(window).on("scroll",function(){console.log($(this).scrollTop()),$(this).scrollTop()-$(window).height()+90>e?$(".widget--fixed").addClass("is-active"):$(".widget--fixed").removeClass("is-active")})),document.querySelector(".js-sidebar")&&(n=getElementTop(document.querySelector(".js-sidebar")),window.addEventListener("scroll",function(){var e=window.scrollY,t=document.querySelector(".site-footer").offsetTop;e+window.innerHeight>n+document.querySelector(".js-sidebarideba}-{d} {h}:{i}:{s}",e="object"===_typeof(e)?e:("number"==typeof(e="string"==typeof e?/^[0-9]+$/.test(e)?parseInt(e):e.replace(new RegExp(/-/gm)String().length&&(e*=1e3),new Date(e)),i={y:e.getFullYear(),m:e.getMonth()+1,d:e.getDate(),h:e.getHours(),i:e.getMinutes(),s:e.getSeconds(),a:e.getDay()},t.replace(/{([ymdhisa])+}/g,function(e,t){var n=i[t];return"a"===t?["日","一","二","三","四","五","六"][n]:n.toString().padStart(2,"0")})):null}function formatTime(e){e=10===(""+e).length?1e3*parseInt(e):+e;var t=new Date(e),t=(Date.now()-t)/1e3;return t<30?"刚刚":t<3600?Math.ceil(t/60)+"分钟前":t<86400?Math.ceil(t/3600)+"小时前":t<172800?"1天前":parseTime(e,"{h}:{i}")}axios.defaults.headers.common["X-WP-Nonce"]=PURE.nonce,axios.defaults.headers.common.COMMON_ACCESS_TOKEN=PURE.token,axios.defaults.headers.common.COMMON_ACCESS_TOKEN_SECRET=PURE.secret,axios.defaults.headers.common.JLStar="Bearer "+PURE.jltoken,axios.defaults.withCredentials=!0,axios.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var QRCode,app=new Vue({el:"#app",components:{hotPostItem:hotPostItem,DigestItem:DigestItem,DigestArchive:DigestArchive,Digests:Digests,userDropdown:userDropdown,categoryCard:categoryCard,topActivity:topActivity,overlaySearch:overlaySearch,recUserCard:recUserCard,userSubCard:userSubCard,shareButton:shareButton,userPostList:userPostList,metabarNotice:metabarNotice,loginOverlay:loginOverlay,userBookmarkItem:userBookmarkItem,subButton:subButton,userSubItem:userSubItem,hotQuestionItem:hotQuestionItem,userRewardIncome:userRewardIncome,userRewardOutcome:userRewardOutcome,widgetQues:widgetQues,userCommentItem:userCommentItem,userAnswerItem:userAnswerItem,pmVerify:pmVerify,infoSetting:infoSetting,userActivity:userActivity,imageView:imageView,widgetQrcodeCard:widgetQrcodeCard,viewList:viewList,homeUserCard:homeUserCard,UserMessage:UserMessage,OpenCourseList:OpenCourseList,authorFollowButton:authorFollowButton,userQuestion:userQuestion,userAnswer:userAnswer,authorNav:authorNav,authorMeta:authorMeta,BookList:BookList,userExp:userExp,coopList:coopList,donateButton:donateButton,RewardCount:RewardCount,eventOverlay:eventOverlay,userInspiration:userInspiration,TopicOverlay:TopicOverlay},data:function(){return{eventOverlay:!1,onlineOverlay:!1,overlay:{qrcode:"",phone:"",link:""},showTopicOverlay:!1,homeTab:"latest",online:1,comment_post_ID:PURE.id,islogin:parseInt(PURE.user_id),comment_parent:0,reportVisivle:!1,reportComment:0,user:{user_name:"",nickname:"",email:"",user_phone:"",user_company:"",description:"",user_avatar:"",user_avatar_thumb:"",password:"",passwordold:"",user_id:0},postmeta:{bookmark:0,postlike:0},isMarked:!1,isFollowing:!1,isLiked:!1,read:!1,showLogin:!1,comment:"",searchActive:!1,busy:!1,noticeNum:0,userStatus:0,userLoading:!1,authInfo:"",authorType:"post",userInfo:"",mySubTopics:[],es_id:0,is_zhi:!1,userCountInfo:"",unionid:"",enter_time:0}},created:function(){var t=this;this.$nextTick(function(){new Swiper(".swiper--inspiration",{loop:!1,fractionDigits:0,pagination:{el:".fraction",type:"fraction"},navigation:{nextEl:".icon-a-commonrightarrow",prevEl:".icon-a-commonleftarrow"}}),(PURE.is_singular||PURE.is_author)&&t.subInfo(),sidebarAffix()}),PURE.is_user_logged_in&&axios.get("https://api.woshipm.com/userInfo/query/wechatBind.html").then(function(e){t.unionid=e.data.RESULT.unionId,STAR.unionid=e.data.RESULT.unionId}),this.slider(),parseInt(PURE.user_id)&&(this.fetchUserInfo(),this.checkEsStatus(),this.getMyTopics()),PURE.is_singular&&!PURE.is_preview&&(this.postView(),this.postRead())},methods:{goVip:function(e){1200==e.parentCode&&window.open("https://996.pm/YP38J")},checkEsStatus:function(){var t=this;axios({method:"post",url:"/tensorflow/es/status"}).then(function(e){0==e.data.code&&(t.es_id=e.data.result.es)}).catch(function(e){axios({method:"post",url:"/__api/v3/user/init"}).then(function(e){e.data.success||t.$message.error(e.data.message)})})},showReport:function(e){if(!PURE.is_user_logged_in)return this.showLogin=!0;this.reportComment=e,console.log(this.reportComment),this.reportVisivle=!0},getMyTopics:function(){var t=this;axios({url:"/api3/topic/subscribedTopics",params:{PN:1,PS:100,COMMON_ACCESS_TOKEN:PURE.token,COMMON_ACCESS_TOKEN_SECRET:PURE.secret}}).then(function(e){t.mySubTopics=e.data.RESULT.topicsData.map(function(e){return e.termTaxonomyId})})},fetchUserInfo:function(){var t=this;this.userLoading=!0;axios({url:"/api2/user/profile",method:"get",params:{uid:PURE.user_id}}).then(function(e){200==e.data.CODE&&(t.userStatus=e.data.RESULT.authorAuthInfoVo.authorAuthed,t.authInfo=e.data.RESULT.authorAuthInfoVo,t.userInfo=e.data.RESULT.userInfoVo,t.userCountInfo=e.data.RESULT.userCommonCountVo,t.userArticleInfo=e.data.RESULT.userArticleCountVo,t.is_zhi=e.data.RESULT.userRoleInfo.userBadgeList.find(function(e){return"智囊团"==e.name}),t.user={nickname:e.data.RESULT.userInfoVo.nickName,user_avatar_thumb:e.data.RESULT.userInfoVo.avartar,description:e.data.RESULT.userInfoVo.description,user_company:e.data.RESULT.userInfoVo.company,user_job:e.data.RESULT.userInfoVo.job,user_avatar:e.data.RESULT.userInfoVo.avartar}),t.userLoading=!1,console.log(t.userStatus)})},showLoginForm:function(){this.showLogin=!0},subauthor:function(e){var t=this;if(!PURE.is_user_logged_in)return this.showLogin=!0;this.isFollowing?axios.post(WEN_API_BASE+"/api/userRelation/unFollow.html?friendUid="+e).then(function(){t.isFollowing=!1,t.$message("取消关注成功")}):axios.post(WEN_API_BASE+"/api/userRelation/follow.htm?friendUid="+e).then(function(){t.isFollowing=!0,t.$message("关注成功")})},closelogin:function(e){this.showLogin=e},onlineOverlayOpen:function(e){e=e.currentTarget;this.online=e.dataset.actionValue,this.onlineOverlay=!0},onlineOverlayClose:function(e){this.onlineOverlay=!1},eventOverlayClose:function(e){this.eventOverlay=!1},eventOverlayOpen:function(e){e=e.currentTarget;this.overlay={qrcode:e.dataset.qrcode,phone:e.dataset.phone,link:e.dataset.link},this.eventOverlay=!0},bookmark:function(e){var t=this;if(!PURE.is_user_logged_in)return this.showLoginForm(e);this.isMarked?axios.delete("/__api/v3/post/"+PURE.id+"/bookmarks",{headers:{"X-WP-Nonce":PURE.nonce}}).then(function(){t.isMarked=!t.isMarked,t.postmeta.bookmark=t.postmeta.bookmark-1;var e="https://api.wpista.com/api/v1/track/post?site=woshipm&post_id="+PURE.id+"&score=30&type=bookmark";(new Image).src=e}):axios.put("/__api/v3/post/"+PURE.id+"/bookmarks",{headers:{"X-WP-Nonce":PURE.nonce}}).then(function(e){t.isMarked=!t.isMarked,t.postmeta.bookmark=t.postmeta.bookmark+1})},getInfo:function(){var t=this;axios.get("/__api/v3/me/info").then(function(e){t.user=e.data})},postlike:function(){var t=this;if(1==this.isLiked)return this.$message("您已经赞过了");axios.put("/__api/v3/post/"+PURE.id+"/likes",{headers:{"X-WP-Nonce":PURE.nonce}}).then(function(){t.isLiked=!0,t.postmeta.postlike=t.postmeta.postlike+1;var e="https://api.wpista.com/api/v1/track/post?site=woshipm&post_id="+PURE.id+"&score=20&type=postlike";(new Image).src=e})},commentSubmit:function(e){var o=this;if(e.preventDefault(),!PURE.is_user_logged_in)return this.showLoginForm(e);axios.post("/__api/v3/post/"+PURE.id+"/comment",{comment:this.comment,comment_post_ID:this.comment_post_ID,comment_parent:this.comment_parent}).then(function(e){if("500"==e.data.status)return o.$message({message:e.data.data,dangerouslyUseHTMLString:!0});var t=addComment,n=t.I("cancel-comment-reply-link"),i=t.I("wp-temp-form-div"),a=t.I(t.respondId),s=(t.I("comment_post_ID").value,t.I("comment_parent").value,e.data.data);o.$nextTick(function(){o.comment="";var e='<li class="comment">\n          <div class="comment-block">\n          <div class="comment-avatar">\n          <a href="/u/'.concat(PURE.user_id,'" target="_blank">').concat(s.avatar,'</a>\n          </div>\n          <div class="comment-section">\n          <div class="comment-info">\n          <div class="comment-meta">\n          <div class="comment-author"><a href="/u/').concat(PURE.user_id,'" target="_blank">').concat(s.comment_author,'</a></div>\n          </div>\n          </div>\n          <div class="comment-content">').concat(s.comment_text,'</div>\n          <div class="comment-bottom">\n          <span class="comment-time"_parent?jQuery(".respond").before('<ol class="children>'+e+"</ol>"):jQuery(".comment-list").prepend(e),jQuery(".no-comment").remove(),o.comment_parent=0,o.$message("提交成功"),n.style.display="none",n.onclick=null,t.I("comment_parent").value="0",i&&a&&(i.parentNode.insertBefore(a,i),i.parentNode.removeChild(i))})})},moveForm:function(e){if(!PURE.is_user_logged_in)return this.showLogin=!0;var t=e.currentTarget.dataset.id;this.comment_parent=t,this.$nextTick(function(){return addComment.moveForm("comment-"+t,t,"respond",PURE.id)})},postRead:function(){var n=this;this.$nextTick(function(){var t;document.querySelector(".trackRead")&&(t=getElementTop(document.querySelector(".trackRead")),window.addEventListener("scroll",function(){var e=window.scrollY;e+window.innerHeight>t&&!n.read&&(n.read=!0,axios.post("/__api/v3/post/"+PURE.id+"/read").then(function(e){var t="https://api.wpista.com/api/v1/track/post?site=woshipm&post_id="+PURE.id+"&score=3&type=read";(new Image).src=t}),n.unionid&&PURE.is_adpost&&axios.post("/wxwork/event/common/create",{type:"articleread",content:"读完了文章["+PURE.post_title+"]",unionid:n.unionid}),PURE.is_adpost)&&PURE.is_user_logged_in&&axios.post("/tensorflow/user/view/record",{post_id:PURE.id,jlid:PURE.user_id,acoad.is_liked,t.postmeta.postlike=parseInt(e.data.payload.postlike),t.postmeta.bookmark=parseInt(e.data.payload.bookmark);e="https://api.wpista.com/api/v1/track/post?site=woshipm&post_id="+PURE.id+"&score=1&type=view";(new Image).src=e}),PURE.is_adpost&&PURE.is_user_logged_in&&(this.enter_time=Date.now(),axios.post("/tensorflow/user/view/record",{post_id:PURE.id,unionid:this.unionid,jlid:PURE.user_id}));(n={}).timeout=(e={timeout:1e3,func:function(e,t){var n=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,i=new Date,a=i-this.current_time;(4e3<a&&n-e.$viewport_position!=0||t)&&(e.event_duration=Math.min(18e3,parseInt(a)/1e3),e.event_duration=e.event_duration<0?0:e.event_duration,n=e,n={post_id:PURE.id,jlid:PURE.user_id,view_period:parseInt(e.event_duration),action:"stay"},axios({url:"/tensorflow/user/view/record",method:"post",data:n})),this.current_time=i}}).timeout||1e3,n.func=e.func,n.hasInit=!1,n.inter=null,n.main=function(e,t){this.func(e,t),this.inter=null},n.go=function(e){var t={};this.inter||(t.$viewport_position=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,t.$viewport_position=Math.round(t.$viewport_position)||0,e?n.main(t,!0):this.inter=setTimeout(function(){n.main(t)},this.timeout))};var e,n,i=n;i.current_time=new Date,this.$nextTick(function(){TOC(),PURE.is_adpost&&PURE.is_user_logged_in&&(window.addEventListener("scroll",function(){i.go()}),window.addEventListener("unload",function(){i.go("notime");var e={post_id:PURE.id,unionid:t.unionid,jlid:PURE.user_id,view_period:parseInt((Date.now()-t.enter_time)/1e3),action:"leave"},e=new Blob([JSON.stringify(e)],{type:"application/json"});navigator.sendBeacon("/tensorflow/user/view/record",e)}))})},shuffle:function(e){for(var tction(){if(jQuery(".postlist-item-1").length&&aser/event/posts").then(function(e){var t,n,e=a.shuffle(e.data.result.map(function(e){var t=new Date(e.post_date);return e.post_date=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),e}));e.length&&(t=e[0],n='<div class="post-img"><div class="post-cat active"><a href="https://www.woshipm.com/category/active" rel="category tag">讲座沙龙</a></div> <a href="'.concat(t.post_link,'" target="_blank" ><img src="').concat(t.post_cover,'!/both/236x143"  srcset="').concat(t.post_cover,'!/both/472x286 2x"></a></div> <div class="content"><h2 itemprop="headline" class="post-title"><a href="').concat(t.post_link,'" target="_blank">').concat(t.post_title,'</a></h2> <div itemprop="about" class="des">\n                        ').concat(t.description,'</div> <div class="stream-list-meta"><div class="u-flex0"><a target="_blank" href="https://www.woshipm.com/u/26539" class="u-flex u-relative"><img src="https://static.woshipm.com/pmadmin_avatar_20221221114757_2704.jpg?imageView2/1/w/72/h/72/q/100" alt="" height="36" width="36" class="avatar"></a></div> <div class="u-flex1 u-flex"><div data-id="26539" class="author u-flex"><a target="_blank" href="https://www.woshipm.com/u/26539" class="ui-captionStrong">起点课堂</a> </div> \n                        <div class="meta--sup__right"><span class="icon--hot"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2223" width="16" height="16"><path d="M455.110656 56.889344s303.839232 94.456832 236.606464 386.414592c0 0 33.61href="').concat(t.post_link,'" target="_blank">').concat(t.post_title,'</a></h2> <div itemprop="about" class="des">\n                        ').concat(t.description,'</div> <div class="stream-list-meta"><div class="u-flex0"><a target="_blank" href="https://www.woshipm.com/u/26539" class="u-flex u-relative"><img src="https://static.woshipm.com/pmadmin_avatar_20221221114757_2704.jpg?imageView2/1/w/72/h/72/q/100" alt="" height="36" width="36" class="avatar"></a></div> <div class="u-flex1 u-flex"><div data-id="26539" class="author u-flex"><a target="_blank" .woshipm.com/u/26539" class="ui-captionStrong">起点课堂</a> </div><div class="meta--sup__right"><span class="icon--hot"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2223" width="16" height="16"><path d="M455.110656 56.889344s303.839232 94.456832 236.606464 386.414592c0 0 33.615872-25.760768 67.232768-77.283328 0 0 151.272448 120.2176 151.272448 291.958784 0 120.2176-100.84864 223.261696-302.54592 309.131264l-22.998016-2.18112c65.773568-96.335872 68.07552-175.75424 6.90688-238.25408C457.120768 597.869568 515.948544 512 515.948544 512S373.615616 581.07904 345.9584 709.77536c-14.848 69.087232 3.351552 155.353088 94.353408 257.335296l80.779264-1.302528-94.424064 1.302528c-168.96-56.32-310.0416-167.344128-312.846336-336.198656l-0.043008-5.134336c0-320.92672 318.13632-267.33568 341.332992-568.88832z" fill="#fa455f"></path></svg>热文</span>\n                        </div></div></div></div>'),jQuery(".postlist-item-2").html(n))}),jQuery(".fixed--posts").length&&axios.get("/tensorflow/user/event/posts").then(function(e){var e=a.shuffle(e.data.result.map(function(e){var t=new Date(e.post_date);return e.post_date=t.getMonth()+1+"-"+t.getDate(),e}));e.length?(e=e[0],e='<div class="fixed--post__item"><a href="'.concat(e.post_link,'" target="_blank" class="img-link"><img src="').concat(e.post_cover,'!/both/240x168" alt="').concat(e.post_title,'" class="cover"></a> <div class="content"><div class="title"><a href="').concat(e.post_link,'" target="_blank">').concat(e.post_title,'</a></div> <div class="meta"><span class="rts">推荐</span></div></div></div>'),jQuery(".fixed--posts").html(e)):jQuery(".fixed--posts").remove()}),jQuery(".main-slider").length){var i=!1;try{i=0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(e){console.log(e)}axios.get("https://server.woshipm.com/api/v1/advert/feed?position_ids=32").then(function(e){var t,n;0==e.data.code&&0<e.data.result.length&&(n=t="",e.data.result.forEach(function(e){t+='<li>\n                                <a href="'.concat(e.url,'" target="_blank">\n                                <img src="').concat(i?e.image_url+"?x-oss-process=image/quality,q_80/format,webp":e.image_url,'" class="home--bannerImage" width="623" height="336">\n                                <i class="mask"></i>\n                                <div class="title">').concat(e.title,"</div>\n                                </a>\n                                </li>"),n+='<li><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" preserveAspectRatio="none"><circle cx="7" cy="7" r="6" data-v-5a9e329f=""></circle></svg></li>'}),jQuery(".bd ul").html(t),jQuery(".supernice ul").html(n)),jQuery(".main-slider").slide({mainCell:".bd ul",titCell:".supernice li",effect:"left",interTime:3700,autoPlay:!0})}),axios.get("https://server.woshipm.com/api/v1/advert/feed?position_ids=34").then(function(e){var t;0==e.data.code&&0<e.data.result.length&&(t="",e.data.result.forEach(function(e){t+='<div class="small-slider-item u-shadowed"><a href="'.concat(e.url,'" target="_blank"><img src="').concat(i?e.image_url+"?x-oss-process=image/quality,q_80/format,webp":e.image_url,'" class="small-slider-img"> <i class="mask"></i> <div class="title">').concat(e.title,"</div></a></div>")}),jQuery(".small-slider").html(t))})}jQuery(".focusBox").length&&axios.get("https://server.woshipm.com/api/v1/advert/feed?position_ids=33").then(function(e){var t,n;0==e.data.code&&0<e.data.result.length?(n=t="",e.data.result.forEach(function(e){t+='<li style="background-image:url('.concat(i?e.image_url+"?x-oss-process=image/quality,q_80/format,webp":e.image_url,')"><a href="').concat(e.url,'" target="_blank"></a></li>'),n+="<li></li>"}),jQuery(".focusBox .pic").html(t),jQuery(".focusBox .hd").html(n),jQuery(".focusBox").slide({mainCell:".pic",effect:"fold",autoPlay:!0,delayTime:600,trigger:"click"})):jQuery(".focusBox").remove()})})},switchSearch:function(){this.searchActive?this.searchAc.then(function(e){0<e.articles.length&&t._render(e.articles)})})}},{kelscreen-img-viewer cov        <div class="swiper-pagination"></div>\n                <div clas"cover" style="background-3>\n                  <span class=",fractionDigits:0,pl(".inspiration--navItem").lector(".posts-nlass="butterBar({runtimes:"html5,html4",browse_button:e,container:i,multipart:!0,multipart_params:{action:"wpuf_insert_image",post_id:s("#post_id").val()},multiple_queues:!0,multi_selection:!0,urlstream_upload:!0,file_data_name:"files",headers:{JLStar:"Bearer "+PURE.jltoken},max_file_size:"5mb",url:"/tensorflow/upyun/upload",flash_swf_url:wpuf_frontend_upload.plupload.fla,function(e,t)nsole.log("- -"):(i=i||t,!e||200<e.length?console.log("fail"):(e=s(".fa-editor-form").serialize()+"&action=add_draft&post_content="+encodeURIComponent(t),a.addClass("is-loadingApp"),void s.ajax({url:PURE.ajax_url,type:"POST",dataType:"json",data:e,success:function(e){e.post_id&&!s("#post_id").length&&s(".fa-editor-form").append('<input type="hidden" name="post_id" id="post_id" value="'+e.post_id+'">'),i=t,s("#wpuf-preview").attr("href",e.url).show(),a.removeClass("is-loadingApp")}}))):console.log("fail")},0<s(".fa-editor-form").length&&(r=setInterval("fa_post_auto_save()",3e5),window.onbeforeunload=function(){}),s(document).on("click",'[data-action="showPhoneOAuth"]',function(e){e.preventDefault(),s(".overlay").remove(),s("body").append('<div class="overlay overlay--dark">\n    <div class="overlay-dialass="phone-form">>\n         ="user-card-id" nam"off"> <" value="" type="text" aut         <p><inpction e(t){re文章内").seax({url:PURE.ajax_url,type:"POST",dataType:"json",data:n,success:function(e){1==e.success?(s(".surface-container").addClass("u-hide"),a.append('<div class="overlay overlay--dark"><div class="overlay-dialog"><h3 class="overlay-title"件通知。</p><p>有如问题请扫码咨询</pps://wework.qpic_162875884/div><divl bution(e){e.preventDefault();var t,n,i,a=s(this);if(!a.hasClass("is-active"))return e=s("#user-card-id").val(),t=s("#user-name").val(),n=s("#user-phone-number").val(),i=s("#creditnum").val(),function(e){var t=!0;if(e&&/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(e))if({11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "}[e.substr(0,2)]){if(18==e.length){e=e.split("");for(var n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],i=[1,0,"X",9,8,7,6,5,4,3,2],a=0,s=0;s<17;s++)a+=e[s]*n[s];i[a%11]!=e[17]&&(t=!1)}}else t=!1;else t=!1;return t}(e)?t?/^(((13[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(n)?(a.addClass("is-active"),void s.ajax({url:PURE.ajax_url,type:"POST",dataType:"json",data:{name:t,cardID:e,phone:n,verifyCode:i,action:"checkCreditNum"},success:function(e){200==e.CODE?(s(".user-info-message").html(e.RESULT.cName),s(".overlay").remove(),o("绑定成功")):(s(".user-info-message").html(e.RESULT.cName),a.removeClass("is-active"))}})):s(".user-info-message").html("请输入正确的手机号。"):s(".user-info-message").html("请输入姓名。"):s(".user-info-message").html("请输入正确的身份证号。")});s(document).on("click",'[data-action="post-draft"]',function(e){e.preventDefault();var t,n=s(this);if(!n.hasClass("is-active"))return e=tinyMCE.get("post_content").getContent(),t=s("#post_title").val(),e?!t||200<t.length?o("文章内容为空或者标题过长。",!0):(t=s(".fa-editor-form").serialize()+"&action=add_draft&post_content="+encodeURIComponent(e),n.addClass("is-active"),n.html("保存中..."),void s.ajax({url:PURE.ajax_url,type:"POST",dataType:"json",data:t,success:function(e){e.post_id&&!s("#post_id").length&&s(".fa-editor-form").append('<input type="hidden" name="post_id" id="post_id" value="'+e.post_id+'">'),s("#wpuf-preview").attr("href",e.url).show(),o("草稿保存成功"),n.removeClass("is-active"),n.html("保存草稿")}})):o("文章内容不能为空。",!0)});var t="";s(window).on("scroll",function(){s(".mce-toolbar-grp").length&&!t&&(t=s(".mce-toolbar-grp").offset().top);var e=s(this).scrollTop();t&&t<=e?s(".mce-toolbar-grp").addClass("is-sticky"):s(".mce-toolbar-grp").removeClass("is-sticky")})}(jQuery),!function(){function t(e){this.mode=s.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,n=this.data.length;t<n;t++){var i=[],a=this.data.charCodeAt(t);65536<a?(i[0]=240|(1835008&a)>>>18,i[1]=128|(258048&a)>>>12,i[2]=128|(4032&a)>>>6,i[3]=128|63&a):2048<a?(i[0]=224|(61440&a)>>>12,i[1this.parsedData.unhis.parsedData.leut(t);this.dataList.push(e),this.dataCache=null},isDark:fu{return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this.typeNumber&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&n<=ength;t++)for(var s++)for(var o=-2;o<=2;o++)this.modules[i+s][a+o]=-2==s||2==s||-2==o||2==o||0==s&&0==o}},setupTypeNumber:function(e){for(var t=g.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){vafunction(e,t){for(s=0,o=this.moduleCoun(a.getLengthInBits()>8rorCorrectPolynomial(cl);o[r]=new Array(r(var p=0,d=0;d<t.rrafor(on(e,t,n){switch(e){return(t*n%3+(t+n)%2)%2==0;)t=t.multiply(new f([1,nBits:function(e,t){if(1<=t&&t<10)switch(e){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:case s.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(var a=0;a<t;a++){for(var s=0,o=e.isDark(i,a),r=-1;r<=1;r++)if(!(i+r<0||t<=i+r))for(var l=-1;l<=1;l++)a+l<0||t<=a+l||0==r&&0==l||o==e.isDark(i+r,a+l)&&s++;5<s&&(n+=3+s-5)}for(i=0;i<t-1;i++)for(a=0;a<t-1;a++){var c=0;e.isDark(i,a)&&c++,e.isDark(i+1,a)&&c++,e.isDark(i,a+1)&&c++,e.isDark(i+1,a+1)&&c++,0!=c&&4!=c||(n+=3)}for(i=0;i<t;i++)for(a=0;a<t-6;a++)e.isDark(i,a)&&!e.isDark(i,a+1)&&e.isDark(i,a+2)&&e.isDark(i,a+3)&&e.isDark(i,a+4)&&!e.isDark(i,a+5)&&e.isDark(i,a+6)&&(n+=40);for(a=0;a<t;a++)for(i=0;i<t-6;i++)e.isDark(i,a)&&!e.isDark(i+1,a)&&e.isDark(i+2,a)&&e.isDark(i+3,a)&&e.isDark(i+4,a)&&!e.isDark(i+5,a)&&e.isDark(i+6,a)&&(n+=40);for(var d=0,a=0;a<t;a++)for(i=0;i<t;i++)e.isDark(i,a)&&d++;return n+=10*(Math.abs(100*d/t/t-50)/5)}},v={glog:function(e){if(e<1)throw new Error("glog("+e+")");return v.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;256<=e;)e-=255;return v.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)v.EXP_TABLE[e]=1<<e;for(e=8;e<256;e++)v.EXP_TABLE[e]=v.EXP_TABLE[e-4]^v.EXP_TABLE[e-5]^v.EXP_TABLE[e-6]^v.EXP_TABLE[e-8];for(e=0;e<255;e++)v.LOG_TABLE[v.EXP_TABLE[e]]=e;function f(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}function h(e,t){this.totalCount=e,this.dataCount=t}function _(){this.buffer=[],this.length=0}f.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=v.gexp(v.glog(this.get(n))+v.glog(e.get(i)));return new f(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=v.glog(this.get(0))-v.glog(e.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<e.getLength();i++)n[i]^=v.gexp(v.glog(e.get(i))+t);return new f(n,0).mod(e)}},h.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],h.getRSBlocks=function(e,t){var n=h.getRsBlockTable(e,t);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=n.length/3,a=[],s=0;s<i;s++)for(var o=n[3*s+0],r=n[3*s+1],l=n[3*s+2],c=0;c<o;c++)a.push(new h(r,l));return a},h.getRsBlockTable=function(e,t){switch(t){case c.L:return h.RS_BLOCK_TABLE[4*(e-1)+0];case c.M:return h.RS_BLOCK_TABLE[4*(e-1)+1];case c.Q:return h.RS_BLOCK_TABLE[4*(e-1)+2];case c.H:return h.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},_.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(e)00%",height:"100%",fill:t.colorLight});s.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.appendChild(s),s.appendChild(a("rect",{fill:t.colorLight,width:"100%",height:"100%"})),s.appendChild(a("rect",{fill:t.colorDark,width:"1",height:"1",id:"template"}));for(var o=0;o<i;o++)for(var r,l=0;l<i;l++)e.isDark(o,l)&&((r=a("use",{x:String(l),y:String(o)})).setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),s.appendChild(r))},n.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)};var b=n;function n(e,t){this._el=e,this._htOption=t}varument.documentElement.tagName.toLowerCase()?b:"undefined"==typeof CanvasRenderingContext2D?(T.prototype.draw=function(e){for(var t=this._htOption,n=this._el,i=e.getModuleCount(),a=Math.floor(t.width/i),s=Math.floor(t.height/i),o=['<table style="border:0;border-collapse:collapse;">'],r=0;r<i;r++){o.push("<tr>");for(var l=0;l<i;l++)o.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+a+"px;height:"+s+"px;background-color:"+(e.isDark(r,l)?t.colorDark:t.colorLight)+';"></td>');o.push("</tr>")}o.push("</table>"),n.innerHTML=o.join("");var n=n.childNodes[0],c=(t.width-n.offsetWidth)/2,d=(t.height-n.offsetHeight)/2;0<c&&0<d&&(n.style.margin=d+"px "+c+"px")},T.prototype.clear=function(){this._el.innerHTML=""},T):(x.prototype.draw=function(e){var t=this._elImage,n=this._oContext,i=this._htOption,a=e.getModuleCount(),s=i.width/a,o=i.height/a,r=Math.round(s),l=Math.round(o);t.style.display="none",this.clear();for(var c=0;c<a;c++)for(var d=0;d<a;d++){var m=e.isDark(c,d),u=d*s,p=c*o;n.strokeStyle=m?i.colorDark:i.colorLight,n.lineWidth=1,n.fillStyle=m?i.colorDark:i.colorLight,n.fillRect(u,p,s,o),n.strokeRect(Math.floor(u)+.5,Math.floor(p)+.5,r,l),n.strokeRect(Math.ceil(u)-.5,Math.ceil(p)-.5,r,l)}this._bIsPainted=!0},x.prototype.makeImage=function(){this._bIsPainted&&!function(e,t){var n=this;n._fFail=t,n._fSuccess=e,null===n._bSupportDataURI?((t=document.createElement("img")).onabort=e=function(){n._bSupportDataURI=!1,n._fFail&&n._fFail.call(n)},t.onerror=e,t.onload=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)},t.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg=="):!0===n._bSupportDataURI&&n._fSuccess?n._fSuccess.call(n):!1===n._bSupportDataURI&&n._fFail&&n._fFail.call(n)}.call(this,C)},x.prototype.isPainted=function(){return this._bIsPainted},x.prototype.clear=function(){this._as.width,this._elCanvas.height),this._bIsPainted=!1},x.prhis._elImage.style.display="block",this._elC(),this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null}function T(e,t){this._el=e,this._htOption=t}function E(e,t){for(var n,i=1,a=(e=e,(n=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a")).length+(n.length!=e?3:0)),s=0,o=w.length;s<=o;s++){var r=0;switch(t){case c.L:r=w[s][0];break;case c.M:r=w[s][1];break;case c.Q:r=w[s][2];break;case c.H:r=w[s][3]}if(a<=r)break;i++}if(w.length<i)throw new Error("Too long data");return i}(QRCode=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:c.H},t="string"==typeof t?{text:t}:t)for(var n in t)this._htOption[n]=t[n];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(k=b),this._android=y(),this._el=e,this._oQRCode=null,this._oDrawing=new k(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(e){this._oQRCode=new l(E(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||3<=this._android)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=c}(),!function(o){o(document).on("click",".button--pay",function(e){var t=o(this),n=t.data("post-id"),i=t.data("avatar"),t=t.data("author"),i=(o(".support-title").html(),console.log("show pay"),'<div class="overlay overlay--dark"><div class="wpd-dialog"><button class="wpd-btn-close" data-action="overlay-close">×</button><div class="wpd-overlay-body"><header class="wpd-header"><img class="wpd-avatar" src="'+i+'"></header><div class="wpd-payway u-textAlignLeft"><h5 class="wpd-payway-title">选择支付金额</h5><div class="wpd-payItem"><label class="demo--label"><input class="demo--radio" type="radio" name="paycount" value="1" checked=true><span class="demo--radioText">1元</span></label><label class="demo--label"><input class="demo--radio" type="radio" name="paycount" value="2"><span class="demo--radioText">2元</span></label><label class="demo--label"><input class="demo--radio" type="radio" name="paycount" value="5"><span class="demo--radioText">5元</span></label></div></div><div class="wpd-payway u-textAlignLeft"><h5 class="wpd-payway-title">选择支付adio" name="payway" value="wechat" checked=true><span class="demo--radioInput"></span><img class="day wechat" src="//image.woshipm.com/wp-files/2017/08/BXSWI33kxkno7ro13E4h.png"></label><label class="demo--label"><input class=</label></div></div><div class="wpd-inputs u-textAlignLeft"><div class="wpd-input-item message"><textarea id="reward_message" name="message" class="wpd-input-textarea" placeholder="给Ta留言"></textarea></div></div><input name="postid" type="hidden" value="'+n+'"><input name="authorid" type="hidden" value="'+t+'"><div class="overlay-actions buttonSet"><div class="buttonSet buttonSet--vertical"><button class="wpd-btn-confirm" data-action="pay"><span class="button-label js-buttonLabel" data-dts-event-location="reward" data-dts-event-info=\'{"author_id":'+t+'}\'>立即支付</span></button><div class="wpd-overlay-notice">注：打赏的收益归作者，非平台</div></div></div></div></div></div>');o("body").append(i)});var r,l='<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" version="1.1" width="80" height="80" viewBox="0 0 64 64"><g class="transform-group"><g tr024-101.132328-95.882767-142.218072-41.084721-41.085744-88.934518-73.345472-142.218072-95.881744-55.17667-23.337521-113.7763-35.171034-174.170808-35.171034S393.764132 76.126818 338.588485 99.464339c-53.283554 22.536272-101.132328 54.796-142.218072 95.881744s-73.345472 88.934518-95.881744 142.218072c-23.337521 55.175647-35.171034 113.775276-35.171034 174.170808 0 60.395532 11.83249 118.995161 35.171034 174.170808 22.536272 53.283554 54.796 101.132328 95.881744 142.218072 41.085744 41.084.881744 55.175647 23.337521 113.775276 35.170011 174.170808 35.170011s118.994138-11.83249 174.170808-35.170011c53.28253-22.537296 101.132328-54.797024 142.218072-95.881744 41.085744-41.085744 73.345472-88.934518 95.882767-142.218072 23.337521-55.175647 35.170011-113.775276 35.170011-174.170808C960.200952 451.339432 948.367439 392.739802 925.030941 337.564156zM512.759293 918.243351c-224.149083 0-406.508387-182.359304-406.508387-406.508387s182.359304-406.508387 406.508387-406.508387c224.150106 0 406.509411 182.359304 406.509411 406.508387S736.909399 918.243351 512.759293 918.243351zM621.354594 281.552467l-72.883961 134.291542c-19.436678 36.393885-31.323403 60.584843-35.666314 72.573899l-1.24127 0c-12.822027-29.153994-49.002041-98.107435-108.550275-206.865441l-68.541049 0 127.46916 218.96092L357.423459 500.513388l0 48.381917 122.507148 0 0 66.680678L357.423459 615.575983l0 49.003064 122.507148 0 0 97.074919 60.787458 0 0-97.074919 118.166283 0 0-49.003064L540.717042 615.575983l0-66.680678 118.166283 0 0-48.381917-101.416807 0 128.708384-218.96092L621.354594 281.552467z" fill="#272636"></path></g></g></svg><p>报告土豪，您已打赏成功。</p><p class="wpd-overlay-notice">注：打赏数据显示有延迟</p>';function c(){clearInterval(r),o(".overlay").remove()}o(document).on("click",'[data-action="overlay-close"]',function(e){c()}),window.check_trade=function(e){o.ajax({url:"/api3/reward/ispay.html?orderNo="+e,type:"GET",dataType:"json",success:function(e){200==e.CODE?e.RESULT.ispay&&(o(".wpd-overlay-body").html(l),clearInterval(r)):500==e.status&&(clearInterval(r),alert(e.message))}})},o(document).on("click",'[data-action="pay"]',function(e){var n=o('input[name="paycount"]:checked').val(),t=o("#reward_message").val(),i=o('input[name="payway"]:checked').val(),a=o('input[name="authorid"]').val(),s=o('input[name="postid"]').val();return 60<t.length?alert("留言内容必须小于30字。"):!o.isNumeric(n)||parseFloat(n)<1?alert("金额不能小于1"):void(o(this).hasClass("is-active")||(o(this).addClass("is-active").html("loading"),"alipay"==i?(i="https://api.woshipm.com/reward/aliPcPay.html?authorId="+a+"&articleId="+s+"&totalFee="+n+"&payType=1&platType=1&source=1&message="+t+"&COMMON_ACCESS_TOKEN="+PURE.token+"&COMMON_ACCESS_TOKEN_SECRET="+PURE.secret,window.open(i),o(".wpd-overlay-body").html(l),clearInterval(r)):(i=new Date,o.ajax({url:"/api3/reward/wxPcPay.html",type:"POST",dataType:"json",data:{authorId:a,articleId:s,totalFee:n,payType:2,platType:1,source:1,message:t,preOrderno:"nimabi"+i.getTime(),COMMON_ACCESS_TOKEN:PURE.token,COMMON_ACCESS_TOKEN_SECRET:PURE.secret},success:function(e){var t;200!=e.CODE?(alert("输入内容有误，重新输入。"),c()):(t="<h4>微信扫码支付</h4><p>打赏金额：<span>"+n+' 元</span></p><div id="qrcode"></div></div>',o(".wpd-overlay-body").html(t),new QRCode(document.getElementById("qrcode"),e.RESULT.code_url),window.doooo_trade_id=e.RESULT.orderNo,r=setInterval("check_trade(doooo_trade_id)",1e3))}}))))})}(jQuery),!function(e){var t,n,i;"function"==typeof define&&define.amd&&(define(e),t=!0),"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&(module.exports=e(),t=!0),t||(n=window.Cookies,(i=window.Cookies=e()).noConflict=function(){return window.Cookies=n,i})}(function(){function r(){for(var e=0,t={};e<arguments.length;e++){var n,i=arguments[e];for(n in i)t[n]=i[n]}return t}function c(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(l){function o(){}function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=r({path:"/"},o.defaults,n)).expires&&(n.expires=new Date(+new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var i=JSON.stringify(t);/^[\{\[]/.test(i)&&(t=i)}cat3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComp|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a,s="";for(a in n)n[a]&&(s+="; "+a,!0!==n[a])&&(s+="="+n[a].split(";")[0]);return document.cookie=e+"="+t+s}}function t(e,t){if("undefint.cookie?document.cookie.split("; "):[],a=.charAt(0)||(o=o.slice(1,-1));try{var r=c(s[0]),o=(l.read||l)(o,r)||c(o);if(t)try{o=JSON.parse(o)}catch(e){}if(n[r]=o,e===r)break}catch(e){}}return e?n[e]:n}}return o.set=n,o.get=function(e){return t(e,!1)},o.getJSON=function(e){return t(e,!0)},o.remove=function(e,t){n(e,"",r(t,{expires:-1}))},o.defaults={},o.withConverter=e,o}(function(){})}),!function(i){var e,a,n=this,t=i(".e_title"),s=i(".grap h2");i(window),t.length;PURE.is_user_logged_in||(e="KEY",e=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),null!=(e=window.location.search.substr(1).match(e))&&unescape(e[2]))||i.ajax({type:"get",url:"https://passport.woshipm.com/callback/token.html?tsf=woshipm",dataType:"jsonp",jsonp:"callback",jsonpCallback:"passportCallback",success:function(e){e=JSON.parse(e);if(e.hasOwnProperty("common_access_token"))try{axios({url:PURE.restapi+"v3/check_auth",method:"POST",data:{KEY:e.pmKey,COMMON_ACCESS_TOKEN:e.common_access_token,COMMON_ACCESS_TOKEN_SECRET:e.common_access_token_secret}}).then(function(e){})}catch(e){}}}),t.each(function(t){i(n).on("click",function(e){i("html,body").animate({scrollTop:s.eq(t).offset().top-50},800),e.preventDefault()})}),Cookies.get("isFooterShow")||axios({url:"https://server.woshipm.com/api/v1/advert/feed",params:{user_id:PURE.user_id,position_ids:31}}).then(function(e){var t;0==e.data.code&&0<e.data.result.length?(e=e.data.result[0],t='<a class="js-footer-overlay" data-id="'.concat(e.id,'" href="').concat(e.url,'" target="_blank" style="background-image: url(').concat(e.image_url,'); height: 88px; position: fixed; cursor: pointer; bottom: 0px; left: 0px; right: 0px; background-position-x: 50%; z-index: 14;"></a>'),i("body").append(t),fetch("https://server.woshipm.com/api/v1/advert/"+e.id+"/track?type=show&position_id=31"),document.querySelector(".js-footer-overlay").addEventListener("click",function(e){console.log("clicked");e=e.currentTarget;fetch("https://server.woshipm.com/api/v1/advert/"+e.dataset.id+"/track?type=click&hint="+localStorage.getItem("__starID")+"&position_id=31")}),Cookies.set("isFooterShow","feelinglucky",{expires:1})):console.warn("cannot find a footer ad")}),Cookies.get("isOverlayPopShow")||axios.get("https://server.woshipm.com/api/v1/advert/feed?position_ids=26").then(function(e){0==e.data.code&&0<e.data.result.length?(e=e.data.result[0],e='<div class="overlay overlay--dark"><div class="overlay--sammi overlay-dialog--animate"><a class="close-btn-2" data-action="overlay-close" href="javascript:;">x</a><a data-adid="23" class="overlayAdlink" \n                        data-name="'.concat(e.title,'" data-course="').concat(e.courses,'"\n                        data-id="').concat(e.id,'" href="').concat(e.url,'" target="_blank"><img src="').concat(e.image_url,'"></a></div></div>'),i("body").append(e),Cookies.set("isOverlayPopShow","feelinglucky",{expires:1})):console.warn("cannot find a overlay ad")}),i(document).on("click",'[data-action="overlay-close"]',function(){i(".overlay").remove()}),i(document).on("click",".pm--topTopic--item .el-button",function(){i("body").hasClass("topicAll--active")?i("body").removeClass("topicAll--active"):i("body").addClass("topicAll--active")}),i(document).on("click",".js-submit-report",function(e){e.preventDefault(),i(".c-article-comments-report-form").remove()}),i(document).on("click",".overlayAdlink",function(){i(".overlay").remove(),axios.post("https://aladdin.woshipm.com/v1/statistic/create_click",{position_id:i(this).data("adid"),advert_id:i(this).data("id"),user_id:PURE.user_id}),unionid&&axios.post("/wxwork/event/common/create",{type:"adclick",content:"点击了广告["+i(this).data("name")+"]，关联课程["+i(this).data("course")+"]",unionid:unionid})}),i("#postAudio").length&&(a="",i("#postAudio").jPlayer({preload:"none",ready:function(){i(this).jPlayer("setMedia",{mp3:"https://audio-pm.woshipm.com/cache/vava-"+PURE.id+".mp3"})},timeupdate:function(e){i(".js-play-bar").css("width",e.jPlayer.status.currentPercentAbsolute+"%"),a=e.jPlayer.status.duration},swfPath:"../../dist/jplayer",supplied:"mp3",wmode:"window"}),i(".js-progress").on("click",function(e){e.preventDefault();var t=i(this),n=t.offset().left,e=(e.pageX-n)/t.width();i("#postAudio").jPlayer("play",a*e)}),i("#postAudio").bind(i.jPlayer.event.play,function(){i.ajax({url:PURE.restapi+"v3/post/"+PURE.id+"/audio",type:"POST",headers:{"X-WP-Nonce":PURE.nonce},dataType:"json"})}))}(jQuery),function(){function t(e){_classCallCheck(this,t),this._lastScroll=0,this._ticking=!1,this.userid="",this.makeid(),e=e||{},this._optionsContainer=document.querySelector(e.container)||window,this._optionsSelector=e.selector||"[data-star]",this._optionsAttr=e.attr||"data-lazyr",this._optionsAttrRetina=e.retinaAttr||"data-layzr-retina",this._optionsAttrBg=e.bgAttr||"data-layzr-bg",this._optionsAttrHidden=e.hiddenAttr||"data-layzr-hidden",this._optionsThreshold=e.threshold||0,this._optionsCallback=e.callback||null,this.unionid=e.unionid||"",this._retina=1<window.devicePixelRatio,this._srcAttr=this._retina?this._optionsAttrRetina:this._optionsAttr,this._nodes=document.querySelectorAll(this._optionsSelector),this._wepb=!1,this.isSupportWebp(),this.init()}return _createClass(t,[{key:"isSupportWebp",value:function(){var e=!1;try{e=0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(e){console.log(e)}return this._wepb=e}},{key:"makeid",value:function(){if(localStorage.getItem("__starID"))return this.userid=localStorage.getItem("__starID");for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,i=0;i<20;i++)e+=t.charAt(Math.floor(Math.random()*n));this.userid=e,localStorage.setItem("__starID",e)}},{key:"_requestScroll",value:function(){this._optionsContainer===window?this._lastScroll=window.scrollY||window.pageYOffset:this._lastScroll=this._optionsContainer.scrollTop+this._getOffset(this._optionsContainer),this._requestTick()}},{key:"_getOffset",value:function(e){for(var t=0;isNaN(e.offsetTop)||(t+=e.offsetTop),e=e.offsetParent;);return t}},{key:"_requestTick",value:function(){this._ticking||(requestAnimationFrame(this.update.bind(this)),this._ticking=!0)}},{key:"update",value:function(){for(var e=this._nodes.length,t=0;t<e;t++){var n=this._nodes[t];!n.classList.contains("star--show")&&this._inViewport(n)&&n.dataset.adId&&this._reveal(n)}this._ticking=!1}},{key:"_destroy",value:function(){this._optionsContainer.removeEventListener("scroll",this._requestScroll.bind(this),!1),this._optionsContainer.removeEventListener("resize",this._requestScroll.bind(this),!1)}},{key:"_inViewport",value:function(e){var t=this._lastScroll,n=t+this._getContainerHeight(),i=this._getOffset(e),a=i+this._getContainerHeight(),s=this._optionsThreshold/100*window.innerHeight;return t-s<=a&&i<=n+s&&!e.hasAttribute(this._optionsAttrHidden)}},{key:"_reveal",value:function(e){var t=this;"function"==typeof this._optionsCallback&&this._optionsCallback.call(e),e.classList.add("star--show"),e.addEventListener("click",function(e){e=e.currentTarget;fetch("https://server.woshipm.com/api/v1/advert/"+e.dataset.adId+"/track?type=click&hint="+t.userid+"&position_id="+e.dataset.id+"&jlid="+PURE.user_id),t.unionid&&axios.post("/wxwork/event/common/create",{type:"adclick",content:"点击了广告["+e.dataset.name+"]，关联课程["+e.dataset.course+"]",unionid:t.unionid})}),fetch("https://server.woshipm.com/api/v1/advert/"+e.dataset.adId+"/track?type=show&position_id="+e.dataset.id)}},{key:"_getContainerHeight",value:function(){return this._optionsContainer.innerHeight||this._optionsContainer.offsetHeight}},{key:"shuffle",value:function(e){for(var t,n=e.length;0!=n;){t=Math.floor(Math.random()*n),n--;var i=[e[t],e[n]];e[n]=i[0],e[t]=i[1]}return e}},{key:"init",value:function(){var s=this,e=Array.from(this._nodes).map(function(e){return e.dataset.id});fetch("https://server.woshipm.com/api/v1/advert/result?position_ids=".concat(e.join(","))).then(function(e){e.json().then(function(e){var a;0===e.code&&0<e.result.length&&(a=e.result,s._nodes.forEach(function(e){var t,n=e.dataset.id,i=a.find(function(e){return e.position_id==n});i&&0<i.advert_list.length?(i=i.advert_list,i=s.shuffle(i)[0],t="",t=44==n||45==n?"2"==i.type?'<a href="'.concat(i.url,'" data-id="').concat(i.id,'" data-adid="').concat(n,'" data-name="').concat(i.title,'" data-course="').concat(i.courses,'" target="_blank" class="yyp--fancyText"><span class="title">').concat(i.content,'</span><div class="yyp--fancyPostBtn">查看详情 &gt;</div></a>'):'<a href="'.concat(i.url,'" target="_blank" class="yyp--fancyPostItem"><img src="').concat(i.image_url,'" class="cover">\n                                <div class="content">\n                                    <div class="title">').concat(i.title,'</div>\n                                    <div class="meta">').concat(i.content,'</div>\n                                </div>\n                                <div class="yyp--fancyPostBtn">查看详情 &gt;</div>\n                                </a>'):41==n||42==n?'<div class="img"><a href="'.concat(i.url,'" target="_blank"><img  src="').concat(s._wepb?i.image_url+"?x-oss-process=image/quality,q_80/format,webp":i.image_url,'"></a></div> <div class="content"><div class="title"><a href="').concat(i.url,'" target="_blank" >').concat(i.title,'</a></div> <div class="meta">刚刚</div></div>'):11==n?'<a href="'.concat(i.url,'" data-id="').concat(i.id,'" data-adid="').concat(n,'" data-name="').concat(i.title,'" data-course="').concat(i.courses,'" target="_blank"  class="star--link relate--fancy"><img src="').concat(s._wepb?i.image_url+"?x-oss-process=image/quality,q_80/format,webp":i.image_url,'" class="cover">\n                                <span class="title">').concat(i.title,"</span></a>"):"2"==i.type?'<a href="'.concat(i.url,'" data-id="').concat(i.id,'" data-adid="').concat(n,'" data-name="').concat(i.title,'" data-course="').concat(i.courses,'" target="_blank" class="star--link">\n                                ').concat(i.content,"</a>"):"3"==i.type?'<div class="content"><div class="title"><a lass="star--link" href="'.concat(i.url,'" target="_blank" >').concat(i.title,'</a></div><div class="meta">刚刚</div></div><a href="').concat(i.url,'" target="_blank" class="img"><img src="').concat(s._wepb?i.image_url+"?x-oss-process=image/quality,q_80/format,webp":i.image_url,'" class="cover"></a>'):"6"==i.type?'<a href="'.concat(i.url,'" target="_blank" class="img" class="star--link"><img src="').concat(s._wepb?i.image_url+"?x-oss-process=image/quality,q_80/format,webp":i.image_url,'"></a>\n                                <div class="content">\n                                    <div class="title"><a href="').concat(i.url,'" target="_blank">').concat(i.title,'</a></div>\n                                    <div class="meta">2 天前</div>\n                                </div>'):'<a href="'.concat(i.url,'" data-id="').concat(i.id,'" data-adid="').concat(n,'" target="_blank" class="star--link" data-name="').concat(i.title,'" data-course="').concat(i.courses,'"><img src="').concat(s._wepb?i.image_url+"?x-oss-process=image/quality,q_80/format,webp":i.image_url,'"></a>'),e.innerHTML=t,e.dataset.name=i.title,e.dataset.course=i.courses,e.dataset.adId=i.id):e.remove()}))})}),this._requestScroll(),this._optionsContainer.addEventListener("scroll",this._requestScroll.bind(this),!1),this._optionsContainer.addEventListener("resize",this._requestScroll.bind(this),!1)}},{key:"updateSelector",value:function(){this._nodes=document.querySelectorAll(this._optionsSelector)}}]),t}()),JLViews=(window.STAR=new Star({selector:".js-star"}),function(){function t(e){_classCallCheck(this,t),e=e||{},this._optionsContainer=document.querySelector(e.container)||window,this._optionsSelector=e.selector||"[data-id]",this._nodes=document.querySelectorAll(this._optionsSelector),this.init()}return _createClass(t,[{key:"init",value:function(){var e=this;setInterval(function(){e.updateSelector(),e.fecthViews()},3e4)}},{key:"fecthViews",value:function(){var t=this,e=Array.from(this._nodes).map(function(e){return e.dataset.id});fetch("/__api/v3/article_meta?post_ids=".concat(e.join(","))).then(function(e){e.json().then(function(e){0<e.result.length&&t._nodes.forEach(function(t){t.querySelector(".views").innerHTML=e.result.find(function(e){return e.post_id==t.dataset.id}).views})})})}},{key:"updateSelector",value:function(){this._nodes=document.querySelectorAll(this._optionsSelector)}}]),t}());