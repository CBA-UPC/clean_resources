(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7408],{33806:function(e,t,n){Promise.resolve().then(n.bind(n,80863)),Promise.resolve().then(n.bind(n,80332)),Promise.resolve().then(n.t.bind(n,19167,23))},80863:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return site}});var o=n(57437),r=n(2265),a=n(20446),l=n.n(a),s=n(81499),i=n(79248),d=n(80332),active=e=>{let{incidents:t,maintenances:n}=e,{site:a}=(0,r.useContext)(d.CustomContext);return t&&t.length>0||n&&n.length>0?(0,o.jsxs)("div",{className:"active-incidents active-maintenances relative mx-5 ".concat(l()({"lg:mt-8":"simple"===a.skin||"panda"===a.skin,"z-20":"stormtrooper"===a.skin})),children:[t&&t.map(e=>(0,o.jsx)(s.Z,{item:e,isActive:!0},e.id)),n&&n.sort(.map(]}):null},c=n(67768),u=n(8371),m=n.n(u),f=n(79667),p=n(46710),h=n(67317),g=n(98954),b=n(28811),y=n.n(b);let x=y()({loadableGenerated:{webpack:()=>[98847]},ssr:!1});var history_day=e=>{let{day:t,firstDateRef:n,lastDateRef:a,minWidth:c,dateFormat:u,locale:b,translation:y,dayIndex:v,isLastDay:w}=e,{language:_}=(0,r.useContext)(d.CustomContext),j=(0,g.Z)(_),[C,k]=(0,r.useState)(1),[E,S]=(0,r.useState)(!1),[N,L]=(0,r.useState)([]),[D,P]=(0,r.useState)(!t.isLastPage);return(0,r.useEffect)(()=>{if(t.isLastPage)return;1!==C&&S(!0);let e=[];for(let n=1;n<C;n++)e.push((0,o.jsx)(x,{pageNo:n+1,dayKey:t.dayKey,setShowLoadMore:n+1===C?e=>{S(!1),P(!e)}:,n+1));L([...e])},[t.dayKey,t.isLastPage,C]),(0,o.jsxs)("div",{className:m().dynamic([["6eb14d7fa13e91cb",[c+20,c+20]]]),children:[(0,o.jsxs)("div",{className:m().dynamic([["6eb14d7fa13e91cb",[c+20,c+20]]])+" "+"relative cursor-pointer incidents-monthly__item ".concat(l()({"py-2 group":0===t.notices.length,"pt-2 pb-5 line":0!==t.notices.length})),children:[(0,o.jsx)("p",{className:m().dynamic([["6eb14d7fa13e91cb",[c+20,c+20]]])+" "+"font-medium incidents-monthly__item__month text-black dark:text-white group-hover:opacity-100 ".concat(l()({"opacity-50":0===t.notices.length})),children:(0,o.jsx)("span",{ref:0===v?n:w?a:null,className:m().dynamic([["6eb14d7fa13e91cb",[c+20,c+20]]]),children:(0,p.Z)(new Date(t.dayStr),u,{locale:b})})}),0===t.notices.length&&t.isLastPage?(0,o.jsxs)("p",{style:{left:c+20},className:m().dynamic([["6eb14d7fa13e91cb",[c+20,c+20]]])+" absolute items-center hidden text-gray-600 top-2 group-hover:flex dark:text-gray-300 incidents-monthly__empty",children:[(0,o.jsx)(h.Z,{className:"w-6 h-6 mr-1 fill-current text-ok"}),y("noNotices")]}):t.notices.map((e,t)=>e.started?(0,o.jsx)(s.Z,{item:e},t):(0,o.jsx)(i.Z,{item:e},t)),N,D&&(0,o.jsx)("button",{type:"button",onClick:className:m().dynamic([["6eb14d7fa13e91cb",[c+20,c+20]]])+" w-full py-4 mt-4 font-medium text-gray-800 uppercase transition duration-150 ease-in-out border border-gray-200 rounded-lg bg-gray-50 focus:outline-none hover:bg-gray-100 disabled:bg-gray-100 disabled:cursor-default disabled:text-gray-300 dark:disabled:bg-gray-900 dark:bg-gray-950 dark:border-gray-900 dark:text-gray-300 dark:hover:border-gray-850 dark:hover:bg-gray-950 dark:disabled:text-gray-700",children:E?(0,o.jsx)(f.Z,{}):j("loadMore")})]}),(0,o.jsx)(m(),{id:"6eb14d7fa13e91cb",dynamic:[c+20,c+20],children:'.line:after{content:"";position:absolute;z-index:0;top:18px;width:-webkit-calc(100% - '.concat(c+20,"px);width:-moz-calc(100% - ").concat(c+20,"px);width:calc(100% - ").concat(c+20,"px);left:").concat(c+20,"px;border-top:1px solid#f5f5f5}.dark .line:after{border-top:1px solid#161616}")})]})},v=n(6171),w=n(97932),_=n(80363),j=n(21356),C=n(28222),daily=e=>{let{dailyGroupedNotices:t=[]}=e,{language:n,site:a}=(0,r.useContext)(d.CustomContext),s=a.recentNoticesDays||7,i=0===t.filter(e=>{var t;return(null==e?void 0:null===(t=e.notices)||void 0===t?void 0:t.length)>0}).length,[c,u]=(0,r.useState)(100),f=(0,g.Z)(n),p=C[f("dateLocale")],b=(0,r.useRef)(null),y=(0,r.useRef)(null),x=(0,r.useRef)(null);return(0,r.useEffect)(()=>{var e,n;if(!t)return;let o=[];if(t.forEach(e=>{o.push(...e.notices),e.notices=[]}),function(e){return(0,_.Z)(1,arguments),(0,w.Z)(e,(0,v.Z)(Date.now(),1))}(new Date(null===(e=t[0])||void 0===e?void 0:e.dayStr))){t.shift();let e=(0,j.Z)(new Date(t.at(-1).dayStr),1);t.push({dayStr:e.toString().substring(0,15),dayKey:new Date(e).getTime(),notices:[],isLastPage:!0})}if(new Date(null===(n=t[0])||void 0===n?void 0:n.dayStr))){t.pop();let e=(0,v.Z)(new Date(t[0].dayStr),1);t.unshift({dayStr:e.toString().substring(0,15),dayKey:new Date(e).getTime(),notices:[],isLastPage:!0})}null==o||o.forEach(e=>{var n;let o=e.start?e.start:e.started,r=new Date(o).toString().substring(0,15),a=t.findIndex(;null===(n=t[a])||void 0===n||n.notices.push(e)})},[t]),(0,r.useEffect)(()=>{var e,t,n,o;(null==b?void 0:null===(e=b.current)||void 0===e?void 0:e.offsetWidth)&&(null==b?void 0:null===(t=b.current)||void 0===t?void 0:t.offsetWidth)>c&&u(b.current.offsetWidth),(null==y?void 0:null===(n=y.current)||void 0===n?void 0:n.offsetWidth)&&(null==y?void 0:null===(o=y.current)||void 0===o?void 0:o.offsetWidth)>c&&u(y.current.offsetWidth)},[b,y,c]),(0,o.jsxs)("div",{className:m().dynamic([["6eb14d7fa13e91cb",[c+20,c+20]]])+" "+"daily-incidents mt-10 md:mt-16 pb-8 ".concat(l()({"no-incidents":i})),children:[(0,o.jsx)("h2",{className:m().dynamic([["6eb14d7fa13e91cb",[c+20,c+20]]])+" pb-4 text-base tracking-wider text-gray-600 uppercase incidents-monthly__heading dark:text-gray-200",children:f("recentNotices")}),(0,o.jsxs)("div",{ref:x,className:m().dynamic([["6eb14d7fa13e91cb",[c+20,c+20]]])+" relative mx-auto mb-4 md:mt-4 md:mb-12 daily-incidents__list",children:[i&&(0,o.jsxs)("div",{className:m().dynamic([["6eb14d7fa13e91cb",[c+20,c+20]]])+" flex items-center",children:[(0,o.jsx)(h.Z,{className:"w-6 h-6 -ml-[2px] mr-[6px] fill-current text-ok"}),(0,o.jsx)("p",{className:m().dynamic([["6eb14d7fa13e91cb",[c+20,c+20]]])+" text-black dark:text-gray-100",children:f("noNoticesDays").replace("{{days}}",s)})]}),!i&&(null==t?void 0:t.map((e,n)=>(0,o.jsx)(history_day,{day:e,firstDateRef:b,lastDateRef:y,minWidth:c,dateFormat:a.dateFormat,locale:p,translation:f,dayIndex:n,isLastDay:n+1===t.length},n)))]}),(0,o.jsx)(m(),{id:"6eb14d7fa13e91cb",dynamic:[c+20,c+20],children:'.line:after{content:"";position:absolute;z-index:0;top:18px;width:-webkit-calc(100% - '.concat(c+20,"px);width:-moz-calc(100% - ").concat(c+20,"px);width:calc(100% - ").concat(c+20,"px);left:").concat(c+20,"px;border-top:1px solid#f5f5f5}.dark .line:after{border-top:1px solid#161616}")})]})},k=n(27587),E=n(25419),home=e=>{let{activeIncidents:t,components:n,componentsUptime:a}=e,{site:l}=(0,r.useContext)(d.CustomContext),s=l.maxUptimeDays||90;return(0,o.jsx)(E.Z,{startDate:(0,j.Z)(new Date,s).toString(),endDate:new Date().toString(),activeIncidents:t,isHistory:!1,components:n,componentsUptime:a})},S=n(75474);let handleLogo=e=>{let t=document.querySelector("#logo-container");if(!t)return;let n=document.createElement("div");n.classList.add("relative","flex","w-40","h-12");let o=document.createElement("img");o.classList.add("object-contain","object-left","w-full","h-full"),o.setAttribute("style","position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent"),o.setAttribute("src",e),n.appendChild(o),t.innerHTML="",t.appendChild(n)};var custom_brand=e=>{let{property:t,value:n}=e;if("logo"===t)return handleLogo(n);let o={brandColor:"--brand-color",okColor:"--ok-color",disruptedColor:"--disrupted-color",degradedColor:"--degraded-color",downColor:"--down-color",noticeColor:"--notice-color",unknownColor:"--unknown-color"}[t];if(!o)return;let r=document.querySelector("#brand-css");if(!r)return;let a=r.innerHTML,l=a.replace(new RegExp("".concat(o,":\\s*[^;]+;")),"".concat(o,": ").concat(n,";"));r.innerHTML=l},custom_design=(e,t,n)=>{let{property:o,value:r}=e;"appearance"===o?"dark"===r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"):t[o]=r,n({site:t})};let handleCustomHtml=(e,t)=>{let n=document.querySelector({cssGlobal:"#custom-css",htmlAboveHeader:".custom-html-above-header",htmlBelowHeader:".custom-html-below-header",htmlBelowComponents:".custom-html-below-components",htmlAboveFooter:".custom-html-above-footer",htmlBelowFooter:".custom-html-below-footer",htmlBelowSummary:".custom-html-below-summary"}[e]);n&&(n.innerHTML=t)};var live_iframe_preview_custom_html=get_height=e=>{let t=document.body,n=document.documentElement,o=Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);e.source.postMessage(JSON.stringify({type:"get-height",height:o}),"https://dashboard.instatus.com")},inner_css=e=>{let t=document.getElementById("custom-css");if(t){t.innerHTML=e;return}let n=document.createElement("style");n.setAttribute("id","custom-css"),n.innerHTML=e,document.head.appendChild(n),console.log(n)},N=n(1375),L=n.n(N);let D=y()({loadableGenerated:{webpack:});var site=function(e){let{site:t,activeIncidents:n,activeMaintenances:a,dailyGroupedNotices:l,language:s,languages:i,componentsUptime:u,metrics:m}=e,[f,p]=(0,r.useReducer)(0),{update:h}=(0,r.useContext)(d.CustomContext);if((0,r.useEffect)(()=>{let listener=e=>{if("https://dashboard.instatus.com"!==e.origin)return;let n=JSON.parse(e.data);switch(n.type){case"custom-html":return live_iframe_preview_custom_html(n);case"custom-brand":return custom_brand(n);case"custom-design":custom_design(n,t,;case"get-height":return get_height(e);case"inner-css":return inner_css(n.css)}};return window.addEventListener("message",listener),,[t,h]),!t)return console.log("site not found"),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(L(),{statusCode:404})});let g=(0,S.Z)(null==t?void 0:t.htmlBelowComponentsTranslation,s,null==t?void 0:t.htmlBelowComponents);return(0,o.jsxs)(k.Z,{title:"",description:"",languages:i,type:k.G.HOME,children:[(0,o.jsx)(active,{incidents:n,maintenances:a}),(0,o.jsx)(home,{activeIncidents:n,components:t.components,componentsUptime:u}),(0,o.jsx)(c.Z,{className:"custom-html-below-components",value:g}),m&&m.length>0&&(0,o.jsx)(D,{metrics:m}),t.recentNoticesDays>0&&(0,o.jsx)(daily,{dailyGroupedNotices:l})]})}},55327:28811:57075:1375:,);