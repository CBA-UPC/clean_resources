![function(t,e,i){"use strict";function n(){}i.r(e),i.d(e,"default",(function(){return n})),n.prototype={isJSON:function(t){return!!/^[\],:{}\s]*$/.test(t.replace(/\\["\\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))},getParameterByNameFromUrl:function(t,e){var i=t,n=e;n||(n=window.location.href),i=i.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]".concat(i,"(=([^&#]*)|&|#|$)")).exec(n);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},ajax:function(t,e,i,n,r,o,s){var a=new XMLHttpRequest;a.open(t,e,!0),n&&(a.onload=n),a.onerror=function(){console.error("Xhr request error of ".concat(e)),void 0!==o&&"function"==typeof o&&o.call()},a.withCredentials="boolean"!=typeof r||r,void 0!==s&&(a.timeout=s,"function"==typeof o&&(a.ontimeout=),a.send(i&&JSON.stringify(i))},queryStringify:function(t){if(!t)return"";if("string"==typeof t)return t;var e=[];return Object.keys(t).map((function(i){if(null!==t[i]&&void 0!==t[i]){var n=null;Array.isArray(t[i])?n=t[i].map((function(t){return e.push("".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(t)))})):(n=encodeURIComponent(t[i]),e.push("".concat(encodeURIComponent(i),"=").concat(n)))}return e})),e.length>0?"?".concat(e.join("&")):""},getParamByScriptPlacement:function(t){return-1!==document.head.innerHTML.indexOf("widget-".concat(t,".js"))?"h":"b"},hashCode:function(t){var e=0;if(0===t.length)return e;for(var i=0;i<t.length;i+=1){e=(e<<5)-e+t.charCodeAt(i),e|=0}return e},isDebugMode:decodeBase64:},function(t,e,i){"use strict";.r(e),i.d(e,"default",(function(){return n})),n.prototype={get:set:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t,r=e,o=i;o.samesite="lax";var s=o.expires;if("number"==typeof s&&s){var a=new Date;a.setTime(a.getTime()+1e3*s),s=a,o.expires=a}s&&s.toUTCString&&(o.expires=s.toUTCString()),n=encodeURIComponent(n),r=encodeURIComponent(r);var c="".concat(n,"=").concat(r);Object.keys(o).forEach((),document.cookie=c}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.replaceItemTags=e.replaceTags=e.buildItems=e.drawWidgetCells=void 0;var n=i(0),r=i(3);function o(t,e){var i=t;return i?i=(i=(i=i.replace(/%ADP_ID%/g,"adp_id"in e?e.adp_id.toString():"")).replace(/%COLS%/g,"cols"in e?e.cols.toString():"")).replace(/%ROWS%/g,"rows"in e?e.rows.toString():""):""}e.drawWidgetCells=function(t,e,i){var s=this.widgets[i],a=this.widgets[i].tpl,c=this,d=this.widgets[i].settings.config;Object.keys(d).forEach((function(t){var e=new RegExp(t,"g");Object.keys(a).forEach(()}));var l={adp_id:parseInt(s.ae.id),cols:s.cols,rows:Math.ceil(s.cells.length/s.cols)},u="";-1===a.css.indexOf("<style>")?(u+="<style>",u+=o(a.css,l),u+="</style>"):u+=o(a.css,l),u+=o(a.header,l),u+=o(a.row_header,l);var h=this.build_items(i,e,a.item,l);u+=h,u+=o(a.row_footer,l),u+=o(a.footer,l);var f=document.getElementById(t);if(h){if(a.preload_js.length>0){var g=u,p=a.preload_js,_={div:t,instance:c,configHost:n.store.states.config.host};this.handlePreloadJS(p,g,_)}else f.innerHTML=u;var m=this.get_mode(i);if(this.adblockDetected&&(m=r.TeaserTypes.AE),this.widgets[i].on_show_tags=[],this.widgets[i].cells)for(var v=0,w=this.widgets[i].cells;v<w.length;v++){var b=w[v];this.ws_tags.push("ws_"+b+"_"+(i+1)),this.pv_tags.push("pv_"+b),this.widgets[i].on_show_tags.push("pv_"+b)}else this.pv_tags.push("pv_"+m),this.widgets[i].on_show_tags.push("pv_"+m);s.lurk_mode&&f.querySelector(".grf-widget__logo").remove();for(var y=f.querySelectorAll('[data-rtype^="cc"] script'),O=0,T=Array.from(y);O<T.length;O++){var k=T[O];if(k.hasAttribute("src")){var E=document.createElement("script");E.src=E.getAttribute("src"),E.async||E.getAttribute("async")?E.async=!0:E.async=!1,E.defer||E.getAttribute("defer")?E.defer=!0:E.defer=!1,E.replaceWith(E)}else new Function(k.innerText)()}for(var A=f.querySelectorAll("[data-rtype] a"),S=f.querySelectorAll("a[data-grf-url]"),x=0,C=Array.from(A);x<C.length;x++){var j=C[x];if("_blank"===j.getAttribute("target")&&(j.getAttribute("href")&&j.getAttribute("href").indexOf(n.store.states.config.host.baseDomain+"/click")>-1||j.getAttribute("data-grf-url")&&j.getAttribute("data-grf-url").indexOf(n.store.states.config.host.baseDomain+"/click")>-1)){var I=j.closest("[data-rtype]").getAttribute("data-rtype");[r.TeaserTypes.AE,r.TeaserTypes.NA,r.TeaserTypes.RV].indexOf(I)>-1&&j.addEventListener("click",(function(t){var e=t.target;c.update_teaser(e.closest("[data-rtype]"),s)}))}}for(var M=0,N=Array.from(S);M<N.length;M++){var D=N[M];D.hasAttribute("data-grf-url")&&D.addEventListener("click",(function(t){var e=t.target,i=e.closest("[data-grf-url]").getAttribute("data-grf-url");e.closest("[data-grf-url]").setAttribute("href",i)}))}var P=[];s.on_show_tags=s.on_show_tags||[],s.on_show_tags.forEach((),P.length===s.on_show_tags.length&&document.getElementById(t).querySelector(".grf-list").classList.add("grf-list--rv")}this.draw()},e.buildItems=function(t,e,i,n){for(var o="",s=this.widgets[t],a=[],c=function(t){var c=s.cells[t],l="";switch(c){case r.TeaserTypes.PR:Object.keys(e).forEach((function(t){t.substr(0,2)===r.TeaserTypes.PR&&a.indexOf(t)<0&&""===l&&(l=t,a.push(l))}));break;case r.TeaserTypes.NA:case r.TeaserTypes.AE:case r.TeaserTypes.RV:l=s[c].id;break;case r.TeaserTypes.RTB:l="rtb"+s.rv.id;break;default:/cc([0-9]+)/.test(c)&&(l=c)}if(e[l]&&e[l].length){var u=e[l].shift();u.adpId=l,u.cell_type=c,u.rtype="rtype"in u?u.rtype:c,u.announce=u.description||u.announce||"";u.img="image_492x277"in u?u.image_492x277:u.img||"",o+=d.replaceItemTags(i,u,n,s,t)}},d=this,l=0;l<s.cells.length;l+=1)c(l);return o},e.replaceTags=o,e.replaceItemTags=function(t,e,i,s,a){var c=e,d=t;if(!d)return"";if(c.cell_type===r.TeaserTypes.RTB?c.cell_type=r.TeaserTypes.RV:c.cell_type===r.TeaserTypes.PR&&(c.cell_type=r.TeaserTypes.AE),d=o(d,i),c.isIframeContent){var l='<iframe id="'+c.banner_id+'"\n                    frameborder="0"\n                    scrolling="no"\n                    style="overflow:hidden;"\n                    height="100%"\n                    width="100%">\n                </iframe>',u=new RegExp("(.*)(%BEGIN_CONTENT%.*%END_CONTENT%)(.*)","gs");d=d.replace(u,"$1"+l+"$3")}else d=(d=d.replace(/%BEGIN_CONTENT%/g,"")).replace(/%END_CONTENT%/g,"");if(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=d.replace(/%AD_MARK%/g,String("ad_mark"in c&&c.ad_mark))).replace(/%ERID%/g,"erir"in c&&c.erir&&c.erir.erid?c.erir.erid:"")).replace(/%CONTRAGENT%/g,"erir"in c&&c.erir&&c.erir.contragent?c.erir.contragent:"")).replace(/%INN%/g,"erir"in c&&c.erir&&c.erir.inn?c.erir.inn:"")).replace(/%TITLE%/g,"title"in c&&c.title?c.title:"")).replace(/%CELL_RTYPE%/g,"rtype"in c&&c.rtype?c.rtype:"")).replace(/%ANNOUNCE%/g,"announce"in c&&c.announce?c.announce:"")).replace(/%SITE_NAME%/g,"site_name"in c&&c.site_name?c.site_name:"")).replace(/%CELL_TYPE%/g,"cell_type"in c&&c.cell_type?c.cell_type:"")).replace(/%ADVERTISER%/g,"advertiser_name"in c&&c.advertiser_name?c.advertiser_name:"")).replace(/%TARGET%/g,"cell_type"in c&&"ae"===c.cell_type?"_top":"_blank")).replace(/%IMG_(\d+)x(\d+)%/g,(function(t,e,i){var n=/\/(\d+)x(\d+)\//g;return c.img?c.img.replace(n,"/"+e+"x"+i+"/"):c.image?c.image.replace(n,"/"+e+"x"+i+"/"):""})),"meta"in c)for(var h=c.meta,f=0,g=Object.keys(h);f<g.length;f++){var p=g[f],_="%META_"+p.toUpperCase()+"%";d=d.replace(new RegExp(_,"g"),h[p]?h[p]:"")}d=(d=d.replace(/%META_([\w])+%/g,"")).replace(/%CELL_ID%/g,c.rtype+"_"+a);var m=document.createElement("div");m.innerHTML=d;var v=m.querySelector('a[href="%URL%"]');c.adpId&&c.vtracker&&(v.dataset.adpId=c.adpId,v.dataset.vtracker=c.vtracker);var w="";if(c.cell_type===r.TeaserTypes.RV){var b=s.settings&&s.settings.redirectUrl?s.settings.redirectUrl:"https://data."+n.store.states.config.host.baseDomain,y="url"in c?c.url:"",O="click/rv/"+this.name,T=this.utils.queryStringify({ref:this.ref||null,u:this.url});w=y?b+"/"+O+"/"+T+"&go="+y:"",c.target_url="target_url"in c?c.target_url:y}else w="url"in c?c.url:"";return v&&(v.setAttribute("data-grf-url",w),v.setAttribute("href",c.target_url)),c.type===r.TeaserTypes.CC&&(m.firstChild.innerHTML=c.html.replace(/%TIMESTAMP%/g,(new Date).getTime().toString()).replace(/%CELL_ID%/g,c.rtype+"_"+a)),m.innerHTML}},function(module,__webpack_exports__,__webpack_require__){"use strict";var GRFJSONP=function GRFJSONP(src,optionsArg){var options=optionsArg||{},callbackName=options.callbackName||"callback".concat(String(Math.random()).substr(2)),onSuccess=options.onSuccess||function(){},onTimeout=options.onTimeout||function(){},onError=options.onError||function(){},timeout=options.timeout||10,fullSrc="".concat(src,"&callback=").concat(callbackName),timeoutTrigger=window.setTimeout((,1e3*timeout);window[callbackName]=function(data){window.clearTimeout(timeoutTrigger),data[0]&&data[0].slot&&data[0].html?eval(data[0].html):onSuccess(data)};var script=document.createElement("script"),head=document.getElementsByTagName("head")[0];script.type="text/javascript",script.async=!0,script.src=fullSrc,script.onload=script.onerror=function(){onError()},head.appendChild(script)};__webpack_exports__.a=GRFJSONP},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(20)),o=n(i(2)),s=i(15),a=i(16),c=i(18),d=i(0),l=i(19);!function(t,e,i){try{l.updateConfigMain(e),l.updateConfigHost({  "baseDomain": "giraff.io",  "rtbAdapters": ["DaAdapter"],  "daBidderUrl": "https://a.giraff.io/bidder/giraffjs",  "rtbCurrency": "RUB",  "preConnectUrls": [    "https://a.giraff.io",    "https://cdn.giraff.io",    "https://directadvert.codenet.one"  ]}),void 0===window.giraffDebugInit&&(window.giraffDebugInit=!1);try{(new c.PreConnect).insertLinks()}catch(t){console.error("preConnect error",t)}try{s.initTags()}catch(t){console.error("Error during init tags: "+t)}if((new o.default).get("giraff_debug")&&!window.giraffDebugInit){window.giraffDebugInit=!0,window.giraffDebugConfig=e;var n=document.createElement("script");return n.src="http://localhost:8080/widget.js?"+(new Date).getTime(),void document.head.appendChild(n)}if(void 0!==window.giraffDebugConfig&&(e=window.giraffDebugConfig),window.giraff||(window.giraff={}),void 0!==window.giraff[e.name])return;if(e.widgets){e.widgets.sort(()}window.giraff[e.name]=new r.default("202308281606",e),window.grf_change_article=function(t,i,n,r){window.giraff[r||e.name].change_article(t,i,n),window.giraff[r||e.name].stats.clear_stats()},window.grf_run_widget=function(t,i,n){window.giraff[n||e.name].callback_name=t,window.giraff[n||e.name].callback_options=i,window.giraff[n||e.name].parent.postMessage("giraff:get_config","*")};var u=window.history,h=u.pushState.bind(u);u.pushState=function(t,i,n){return window.giraff[e.name].stats&&window.giraff[e.name].stats.clear_stats(),h(t,i,n)}}catch(t){new a.ErrorHandler(t,"//data."+d.store.states.config.host.baseDomain+"/errlog/"+e.name+"/").sendTrace()}}(0,{"name": "utroru", "widgets": [{"idx": 0, "ae": {"id": 1964018, "fill": 50}, "na": {"id": 1964020, "fill": 0}, "rv": {"id": 1964022, "fill": 50}, "settings": {"cols": 3, "cells": ["ae", "rtb", "ae", "ae", "ae", "rtb"], "active": true, "config": {"%LOGO%": "visible", "%ADS_SHOW%": "none", "%IMAGE_GAP%": "6px", "%TEASER_BG%": "transparent", "%TITLE_FONT%": "inherit", "%WIDGET_GAP%": "8.5px", "%IMAGE_WIDTH%": "300px", "%TITLE_ALIGN%": "left", "%IMAGE_HEIGHT%": "186px", "%LINK_PADDING%": "0px 0px 0px 0px", "%TEXT_PADDING%": "0px 0px 0px 0px", "%WIDGET_WIDTH%": "100%", "%WIDGET_HEIGHT%": "none", "%IMAGE_POSITION%": "top", "%TITLE_FONT_SIZE%": "18px", "%WIDGET_PADDINGS%": 0, "%TITLE_FONT_COLOR%": "#48485C", "%TITLE_FONT_WEIGHT%": "normal", "%TITLE_LINE_HEIGHT%": "1.4", "%TITLE_FONT_UNDERLINE%": "none", "%IMAGE_RELATIVE_HEIGHT%": "62%"}, "pattern": "default"}, "tpl": {"css": ".grf-widget--%ADP_ID% {\n                    font-size: %TITLE_FONT_SIZE%;\n                    padding: %WIDGET_PADDINGS%;\n                    max-width: %WIDGET_WIDTH%;\n                    max-height: %WIDGET_HEIGHT%;\n                    font-family: 'Boblic', sans-serif;\n                }\n\n                .grf-widget--%ADP_ID% .grf-widget__title{\n                    text-transform: uppercase;\n                    font-size: 20px;\n                    color: rgba(67, 67, 67, 0.5);\n                    font-weight: 400;\n                    padding: 0 0 12px;\n                    border-bottom: solid 2px rgba(67, 67, 67, 0.2);\n                    margin: 0 0 20px;\n                    font-family: 'Boblic', sans-serif;\n                }\n\n                .grf-widget--%ADP_ID% .grf-widget__logo {\n                    text-align: right;\n                    margin-top: 10px;\n                }\n\n                .grf-widget--%ADP_ID% .grf-widget__logo.grf-hidden{\n                    display: none;\n                }\n\n                .grf-widget--%ADP_ID% .grf-widget__logo-link {\n                    position: relative;\n                    width: 50px;\n                    height: 16px;\n                    display: inline-block;\n                    background-image: url('//code.giraff.io/data/logo.svg');\n                    -moz-background-size: 100%;\n                    -o-background-size: 100%;\n                    background-size: 100%;\n                    cursor: pointer;\n                }\n\n                .grf-widget--%ADP_ID% .grf-widget__logo-link:hover:after {\n                    content: \"\";\n                    position: absolute;\n                    width: 100%;\n                    left: 0;\n                    top: 100%;\n                    height: 1px;\n                    background: #a3a3ad;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list {\n                    letter-spacing: -0.31em;\n                    margin: 0 -%WIDGET_GAP%;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list:before, .grf-widget--%ADP_ID% .grf-list:after {\n                    display: table;\n                    content: \" \";\n                }\n\n                .grf-widget--%ADP_ID% .grf-list:after {\n                    clear: both;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list__item {\n                    position: relative;\n                    display: inline-block;\n                    vertical-align: top;\n                    letter-spacing: normal;\n                    width: 100%;\n                    -webkit-box-sizing: border-box;\n                    -moz-box-sizing: border-box;\n                    box-sizing: border-box;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list__link {\n                    padding: 0 %WIDGET_GAP% %WIDGET_GAP%;\n                    display: block;\n                    position: relative;\n                    text-decoration: %TITLE_FONT_UNDERLINE%;\n                    color: %TITLE_FONT_COLOR%;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list__link:hover .grf-list__title{\n                    color: #0099f1;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list__link-img {\n                    position: relative;\n                    min-width: 100%;\n                    max-width: 15.38em;\n                    padding-top: %IMAGE_RELATIVE_HEIGHT%;\n                    margin-bottom: %IMAGE_GAP%;\n                    overflow: hidden;\n                    background: #f2f5f6;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list__link-title {\n                    display: block;\n                    overflow: hidden;\n                    text-align: %TITLE_ALIGN%;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list__item[data-type=\"rv\"] .grf-list__link-title:after {\n                    content: \"\u0420\u0435\u043a\u043b\u0430\u043c\u0430\";\n                    color: %TITLE_FONT_COLOR%;\n                    opacity: 0.7;\n                    display: none;\n                    margin-top: 5px;\n                    font-family: %TITLE_FONT%, sans-serif;\n                    font-size: 0.9em;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list__img {\n                    position: absolute;\n                    left: 0;\n                    top: 0;\n                    max-width: 100%;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list__title {\n                    display: block;\n                    line-height: %TITLE_LINE_HEIGHT%;\n                    color: %TITLE_FONT_COLOR%;\n                    font-weight: %TITLE_FONT_WEIGHT%;\n                    cursor: pointer;\n                    transition: color .25s;\n                    font-family: %TITLE_FONT%, sans-serif;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list[data-cols=\"6\"] .grf-list__item {\n                    width: 16.666666%;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list[data-cols=\"5\"] .grf-list__item {\n                    width: 20%;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list[data-cols=\"4\"] .grf-list__item {\n                    width: 25%;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list[data-cols=\"3\"] .grf-list__item {\n                    width: 33.333333%;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list[data-cols=\"2\"] .grf-list__item {\n                    width: 50%;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list__item.grf-left .grf-list__link-img {\n                    float: left;\n                    width: %IMAGE_WIDTH%;\n                    height: %IMAGE_HEIGHT%;\n                    min-width: initial;\n                    margin-right: %IMAGE_GAP%;\n                    margin-bottom: 0;\n                    padding: 0;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list__item.grf-right .grf-list__link-img {\n                    float: right;\n                    width: %IMAGE_WIDTH%;\n                    height: %IMAGE_HEIGHT%;\n                    min-width: initial;\n                    margin-right: %IMAGE_GAP%;\n                    margin-bottom: 0;\n                    padding: 0;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list--rv .grf-list__item[data-type=\"rv\"] .grf-list__link-title:after{\n                    display: none;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list__item-privacy-link{\n                    position: absolute;\n                    right: %WIDGET_GAP%;\n                    top: 0;\n                    z-index: 2;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list__item-privacy-link + a{\n                    z-index: 1;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list__item-privacy-link img{\n                    display: block;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list__announce {\n                    display: block;\n                    font-size: 0.9em;\n                    opacity: 0.8;\n                    padding-top: 6px;\n                    line-height: 16px;\n                    color: #333;\n                    font-family: %TITLE_FONT%, sans-serif;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list__item[data-rtype]:not([data-rtype=\"mt\"]):not([data-rtype=\"cr\"]) .grf-list__announce {\n                    display: none;\n                }\n\n                .grf-widget--%ADP_ID% .grf-list__item[data-rtype=\"cr\"] .grf-list__img,\n                .grf-widget--%ADP_ID% .grf-list__item[data-rtype=\"mt\"] .grf-list__img {\n                    position: absolute;\n                    top: 0;\n                    left: 50%;\n                    height: 100%;\n                    -webkit-transform: translate(-50%, 0);\n                    -ms-transform: translate(-50%, 0);\n                    transform: translate(-50%, 0);\n                }\n\n@media(max-width: 1104px){\n                .grf-widget--%ADP_ID% .grf-list[data-cols=\"3\"] .grf-list__item {\n                    width: 50%;\n                }\n}\n\n@media(max-width: 632px){\n                .grf-widget--%ADP_ID% .grf-list[data-cols=\"3\"] .grf-list__item {\n                    width: 100%;\n                }\n}\n\n        .grf-widget--%ADP_ID% .grf-list__item[ad-mark=\"true\"] .grf-list__erir-btn,\n.grf-widget--%ADP_ID% .grf-list__item[ad-mark=\"true\"] .grf-list__erir-btn:hover {\n    display: flex !important;\n    justify-content: center;\n    align-items: center;\n    content: \"i\";\n    position: absolute;\n    font-family: %TITLE_FONT%;\n    right: 4px;\n    top: 4px;\n    font-size: 10px;\n    font-weight: 400;\n    letter-spacing: -.08px;\n    line-height: 12px;\n    cursor: pointer;\n    width: 10px;\n    height: 10px;\n    color: #a3a3a3;\n    border: 1px solid #a3a3a3;\n    border-radius: 50%;\n    z-index: 99999;\n    margin: %WIDGET_GAP%;\n    margin-top: 0;\n    box-shadow: none;\n    background-color: rgba(255, 255, 255, 0.8);\n}\n\n.grf-widget--%ADP_ID% .grf-list__item[ad-mark=\"true\"] .grf-list__erir {\n    position: absolute;\n    top: 0;\n    left: 0;\n    background-color: #fff;\n    border: 1px solid #ccc;\n    padding: 5px;\n    font-size: 10px;\n    line-height: 12px;\n    font-family: %TITLE_FONT%;\n    z-index: 99;\n    display: none;\n    margin: %WIDGET_GAP%;\n    margin-top: 0;\n}\n\n.grf-widget--%ADP_ID% .grf-list__item[ad-mark=\"true\"] .grf-list__erir.show {\n    display: block;\n}\n\n\n.grf-widget--%ADP_ID% .grf-list__item[ad-mark=\"false\"] .grf-list__erir,\n.grf-widget--%ADP_ID% .grf-list__item[ad-mark=\"false\"] .grf-list__erir-btn {\n    display: none;\n}\n", "item": "<div class=\"grf-list__item grf-%IMAGE_POSITION%\" data-type=\"%CELL_TYPE%\" data-rtype=\"%CELL_RTYPE%\" ad-mark=\"%AD_MARK%\">\n    <div class=\"grf-list__erir-btn\">i</div>\n    <div class=\"grf-list__erir\">\n        \u0420\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044c: %CONTRAGENT%\n        <br />\n        ERID: %ERID%\n        <br />\n        \u0418\u041d\u041d: %INN%\n    </div>\n            <a class=\"grf-list__link\" href=\"%URL%\" target=\"%TARGET%\">\n                <div class=\"grf-list__link-img\">\n                    <img class=\"grf-list__img\" src=\"%IMG_300x186%\"/>\n                </div>\n                <div class=\"grf-list__link-title\">\n                    <div class=\"grf-list__title\">%TITLE%</div>\n                    <div class=\"grf-list__announce\">%ANNOUNCE%</div>\n                </div>\n            </a>\n        </div>", "footer": "</div>\n            </div>\n                <div class=\"grf-widget__logo grf-%LOGO%\">\n                    <a href=\"https://giraff.io/\" class=\"grf-widget__logo-link\" target=\"_blank\"></a>\n                </div>\n            </div>", "header": "<div class=\"grf-widget grf-widget--%ADP_ID%\" data-cols=\"%COLS%\">\n                     <style>\n                         .grf-widget--%ADP_ID% .grf-list__item[ad-mark=\"true\"] .grf-list__link:after {\n                             display: block!important;\n                             content: \"\u0420\u0435\u043a\u043b\u0430\u043c\u0430\";\n                             position: absolute;\n                             backdrop-filter: blur(1px);\n                             color: hsla(0, 0%, 100%, .64);\n                             font-family: %TITLE_FONT%;\n                             left: 4px;\n                             position: absolute;\n                             text-shadow: 0 0 4px rgba(0, 0, 0, 1);\n                             top: 4px;\n                             font-size: 10px;\n                             font-weight: 400;\n                             letter-spacing: -.08px;\n                             line-height: 12px;\n                         }\n                     </style>\n<div class=\"grf-widget__title\">\u0427\u0438\u0442\u0430\u0439\u0442\u0435 \u0442\u0430\u043a\u0436\u0435</div>\n                    <div class=\"grf-widget__content\">\n                        <div class=\"grf-list\" data-cols=\"%COLS%\" data-rows=\"%ROWS%\">", "preload_js": "\n(function(n, t) {\n    var i = document.getElementById(t.div);\n    i.innerHTML = n;\n    const infoButton = i.querySelectorAll(\".grf-list__item .grf-list__erir-btn\");\n    const infoErir = i.querySelectorAll(\".grf-list__item .grf-list__erir\");\n\n    if (typeof infoButton !== undefined && typeof infoErir !== undefined) {\n        for (let i = 0; i < infoButton.length; i++) {\n            infoButton[i].addEventListener(\"click\", () => {\n                infoErir[i].classList.toggle(\"show\");\n            });\n        }\n    }\n}(tpl, options))\n", "row_footer": "", "row_header": ""}, "cells": ["ae", "rtb", "ae", "ae", "ae", "rtb"], "cells_adblock": [], "cols": 3}, {"idx": 1, "ae": {"id": 8887811, "fill": 50}, "na": {"id": 8887812, "fill": 0}, "rv": {"id": 8887813, "fill": 50}, "settings": {"cells": ["rtb", "rtb", "rtb", "rtb", "rtb", "rtb"], "cells_adblock": ["ae", "ae", "ae", "ae", "ae", "ae"], "cols": 3, "config": {"%ADS_SHOW%": "block", "%ANNOUNCE_ALIGN%": "left", "%ANNOUNCE_DISPLAY%": "none", "%ANNOUNCE_FONT%": "inherit", "%ANNOUNCE_FONT_COLOR%": "#000", "%ANNOUNCE_FONT_SIZE%": "14px", "%ANNOUNCE_FONT_UNDERLINE%": "none", "%ANNOUNCE_FONT_WEIGHT%": "400", "%ANNOUNCE_LINE_HEIGHT%": "18px", "%ANNOUNCE_PADDING%": "6px", "%BOX_SHADOW%": "none", "%HOVER_BOX_SHADOW%": "none", "%HOVER_TRANSITION%": "all 0s ease 0s", "%IMAGE_BORDER_RADIUS%": "0px 0px 0px 0px", "%IMAGE_DISPLAY%": "block", "%IMAGE_GAP%": "10px", "%IMAGE_HEIGHT%": "300px", "%IMAGE_HOVER_OPACITY%": "1", "%IMAGE_HOVER_TRANSFORM%": "translate(-50%, -50%)", "%IMAGE_HOVER_TRANSITION%": "all 0s ease 0s", "%IMAGE_POSITION%": "top", "%IMAGE_RELATIVE_HEIGHT%": "100%", "%IMAGE_WIDTH%": "300px", "%LINK_BORDER_RADIUS%": "0 0 0 0", "%LINK_PADDING%": "0 0 0 0", "%LOGO%": "block", "%LOGO_MARGINS%": "0 0 0 0", "%LOGO_POSITION%": "bottom-right", "%LOGO_POSITION_HORIZONTAL%": "right", "%LOGO_POSITION_VERTICAL%": "bottom", "%LOGO_STYLE%": "light", "%TEASER_BG%": "transparent", "%TEXT_PADDING%": "0 0 0 0", "%TITLE_ALIGN%": "left", "%TITLE_FONT%": "Boblic, sans-serif", "%TITLE_FONT_COLOR%": "#626262", "%TITLE_FONT_SIZE%": "22px", "%TITLE_FONT_UNDERLINE%": "none", "%TITLE_FONT_WEIGHT%": "400", "%TITLE_HOVER_COLOR%": "#000", "%TITLE_HOVER_TRANSITION%": "all 0s ease 0s", "%TITLE_LINE_HEIGHT%": "22px", "%WIDGET_BG%": "transparent", "%WIDGET_GAP%": "10px 10px 10px 10px", "%WIDGET_GAP_MARGIN%": "0 -10px 0 -10px", "%WIDGET_HEIGHT%": "none", "%WIDGET_PADDINGS%": "0px 0px 10px 0px", "%WIDGET_WIDTH%": "100%"}, "pattern": "default", "active": true}, "tpl": {"preload_js": "(function(n, t) {\n    var i = document.getElementById(t.div);\n    i.innerHTML = n;\n    const infoButton = i.querySelectorAll(\".grf-list__item .grf-list__erir-btn\");\n    const infoErir = i.querySelectorAll(\".grf-list__item .grf-list__erir\");\n\n    if (typeof infoButton !== undefined && typeof infoErir !== undefined) {\n        for (let i = 0; i < infoButton.length; i++) {\n            infoButton[i].addEventListener(\"click\", () => {\n                infoErir[i].classList.toggle(\"show\");\n            });\n        }\n    }\n}(tpl, options))", "css": ".grf-widget--%ADP_ID% {\n    overflow: hidden;\n    position: relative;\n    font-size: %TITLE_FONT_SIZE%;\n    padding: %WIDGET_PADDINGS%;\n    max-width: %WIDGET_WIDTH%;\n    max-height: %WIDGET_HEIGHT%;\n    background-color: %WIDGET_BG%;\n}\n\n.grf-widget--%ADP_ID% .grf-widget__logo {\n    position: absolute;\n    display: %LOGO%;\n    margin: %LOGO_MARGINS%;\n    z-index: 100;\n}\n\n.grf-widget--%ADP_ID% .grf-widget__logo--%LOGO_POSITION% {\n    %LOGO_POSITION_VERTICAL%: 0;\n    %LOGO_POSITION_HORIZONTAL%: 0;\n}\n\n.grf-widget--%ADP_ID% .grf-widget__logo-link {\n    position: relative;\n    width: 20px;\n    height: 20px;\n    display: block;\n    cursor: pointer;\n    float: right;\n    background-repeat: no-repeat;\n    background-position: 4px 50%;\n    -webkit-transition: width 0.4s;\n    -o-transition: width 0.4s;\n    -moz-transition: width 0.4s;\n    transition: width 0.4s;\n}\n\n.grf-widget--%ADP_ID% .grf-widget__logo-link--light {\n    background-image: url(//code.giraff.io/data/logo.svg);\n}\n\n.grf-widget--%ADP_ID% .grf-widget__logo-link--dark {\n    background-image: url(//code.giraff.io/data/logo_dark.svg);\n}\n\n.grf-widget--%ADP_ID% .grf-widget__logo-link:hover {\n    width: 58px;\n}\n\n.grf-widget--%ADP_ID% .grf-list {\n    margin: %WIDGET_GAP_MARGIN%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-wrap: wrap;\n    flex-wrap: wrap;\n}\n\n.grf-widget--%ADP_ID% .grf-list__item {\n    position: relative;\n    padding: %WIDGET_GAP%;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    width: calc(100%/%COLS%);\n    -webkit-box-flex: 1;\n    -ms-flex-positive: 1;\n    flex-grow: 1;\n}\n\n.grf-widget--%ADP_ID% .grf-list__link {\n    padding: %LINK_PADDING%;\n    display: block;\n    position: relative;\n    text-decoration: %TITLE_FONT_UNDERLINE%;\n    color: %TITLE_FONT_COLOR%;\n    background-color: %TEASER_BG%;\n    height: 100%;\n    border-radius: %LINK_BORDER_RADIUS%;\n    -webkit-box-shadow: %BOX_SHADOW%;\n    box-shadow: %BOX_SHADOW%;\n    -webkit-transition: -webkit-%HOVER_TRANSITION%;\n    transition: -webkit-%HOVER_TRANSITION%;\n    -o-transition: %HOVER_TRANSITION%;\n    transition: %HOVER_TRANSITION%;\n    transition: %HOVER_TRANSITION%, -webkit-%HOVER_TRANSITION%;\n}\n\n.grf-widget--%ADP_ID% .grf-list__link:hover {\n    -webkit-box-shadow: %HOVER_BOX_SHADOW%;\n    box-shadow: %HOVER_BOX_SHADOW%;\n}\n\n.grf-widget--%ADP_ID% .grf-list__link:hover .grf-list__img {\n    opacity: %IMAGE_HOVER_OPACITY%;\n    transform: %IMAGE_HOVER_TRANSFORM%;\n    -webkit-transition: -webkit-%IMAGE_HOVER_TRANSITION%;\n    transition: -webkit-%IMAGE_HOVER_TRANSITION%;\n    -o-transition: %IMAGE_HOVER_TRANSITION%;\n    transition: %IMAGE_HOVER_TRANSITION%;\n    transition: %IMAGE_HOVER_TRANSITION%, -webkit-%IMAGE_HOVER_TRANSITION%;\n}\n\n.grf-widget--%ADP_ID% .grf-list__link:hover .grf-list__title {\n    color: %TITLE_HOVER_COLOR%;\n    transform: %TITLE_HOVER_TRANSITION%;\n    -webkit-transition: -webkit-%TITLE_HOVER_TRANSITION%;\n    transition: -webkit-%TITLE_HOVER_TRANSITION%;\n    -o-transition: %TITLE_HOVER_TRANSITION%;\n    transition: %TITLE_HOVER_TRANSITION%;\n    transition: %TITLE_HOVER_TRANSITION%, -webkit-%TITLE_HOVER_TRANSITION%;\n}\n\n.grf-widget--%ADP_ID% .grf-list__link-img {\n    display: %IMAGE_DISPLAY%;\n    position: relative;\n    width: 100%;\n    padding-top: %IMAGE_RELATIVE_HEIGHT%;\n    margin-bottom: %IMAGE_GAP%;\n    overflow: hidden;\n    background: #f2f5f6;\n    border-radius: %IMAGE_BORDER_RADIUS%;\n}\n\n.grf-widget--%ADP_ID% .grf-list__link-title {\n    overflow: hidden;\n    padding: %TEXT_PADDING%;\n    text-align: %TITLE_ALIGN%;\n}\n\n.grf-widget--%ADP_ID% .grf-list__item[ad-mark=\"true\"] .grf-list__link:after {\n    display: %ADS_SHOW%;\n    content: \"\u0420\u0435\u043a\u043b\u0430\u043c\u0430\";\n    position: absolute;\n    backdrop-filter: blur(1px);\n    color: hsla(0, 0%, 100%, .64);\n    font-family: %TITLE_FONT%;\n    left: 4px;\n    position: absolute;\n    text-shadow: 0 0 4px rgba(0, 0, 0, 1);\n    top: 4px;\n    font-size: 10px;\n    font-weight: 400;\n    letter-spacing: -.08px;\n    line-height: 12px;\n}\n\n.grf-widget--%ADP_ID% .grf-list__img {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    width: auto;\n    height: 100%;\n    max-width: none;\n    transform: translate(-50%, -50%);\n}\n\n.grf-widget--%ADP_ID% .grf-list__title {\n    line-height: %TITLE_LINE_HEIGHT%;\n    color: %TITLE_FONT_COLOR%;\n    font-weight: %TITLE_FONT_WEIGHT%;\n    cursor: pointer;\n    font-family: %TITLE_FONT%;\n    max-height: calc(4 * %TITLE_LINE_HEIGHT%);\n    overflow: hidden;\n    box-sizing: border-box;\n}\n\n.grf-widget--%ADP_ID% .grf-list__item.grf-left .grf-list__link-img {\n    float: left;\n    width: %IMAGE_WIDTH%;\n    height: %IMAGE_HEIGHT%;\n    min-width: initial;\n    margin-right: %IMAGE_GAP%;\n    margin-bottom: 0;\n    padding: 0;\n}\n\n.grf-widget--%ADP_ID% .grf-list__item.grf-right .grf-list__link-img {\n    float: right;\n    width: %IMAGE_WIDTH%;\n    height: %IMAGE_HEIGHT%;\n    min-width: initial;\n    margin-right: %IMAGE_GAP%;\n    margin-bottom: 0;\n    padding: 0;\n}\n\n.grf-widget--%ADP_ID% .grf-list--rv .grf-list__item[data-type=\"rv\"] .grf-list__link-title:after {\n    display: none;\n}\n\n.grf-widget--%ADP_ID% .grf-list__item-privacy-link {\n    position: absolute;\n    right: 0;\n    top: 0;\n    margin: %WIDGET_GAP%;\n    z-index: 2;\n}\n\n.grf-widget--%ADP_ID% .grf-list__item-privacy-link+a {\n    z-index: 1;\n}\n\n.grf-widget--%ADP_ID% .grf-list__item-privacy-link img {\n    display: block;\n}\n\n.grf-widget--%ADP_ID% .grf-list__announce {\n    font-size: %ANNOUNCE_FONT_SIZE%;\n    font-weight: %ANNOUNCE_FONT_WEIGHT%;\n    text-decoration: %ANNOUNCE_FONT_UNDERLINE%;\n    padding-top: %ANNOUNCE_PADDING%;\n    line-height: %ANNOUNCE_LINE_HEIGHT%;\n    color: %ANNOUNCE_FONT_COLOR%;\n    text-align: %ANNOUNCE_ALIGN%;\n    font-family: %ANNOUNCE_FONT%;\n    max-height: calc(4 * %ANNOUNCE_LINE_HEIGHT% + %ANNOUNCE_PADDING%);\n    overflow: hidden;\n    box-sizing: border-box;\n}\n\n.grf-widget--%ADP_ID% .grf-list__item[data-rtype]:not([data-rtype=\"cr\"]) .grf-list__announce {\n    display: %ANNOUNCE_DISPLAY%;\n}\n\n.grf-widget--%ADP_ID% .grf-list__item[data-rtype=\"cr\"] .grf-list__img {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    max-height: 100%;\n    max-width: 100%;\n    width: auto;\n    transform: translate(-50%, -50%);\n    -ms-transform: translate(-50%, -50%);\n    -webkit-transform: translate(-50%, -50%);\n}\n\n.grf-widget--%ADP_ID% .grf-list__item[ad-mark=\"true\"] .grf-list__erir-btn,\n.grf-widget--%ADP_ID% .grf-list__item[ad-mark=\"true\"] .grf-list__erir-btn:hover {\n    display: flex !important;\n    justify-content: center;\n    align-items: center;\n    content: \"i\";\n    position: absolute;\n    font-family: %TITLE_FONT%;\n    right: 4px;\n    top: 4px;\n    font-size: 10px;\n    font-weight: 400;\n    letter-spacing: -.08px;\n    line-height: 12px;\n    cursor: pointer;\n    width: 10px;\n    height: 10px;\n    color: #a3a3a3;\n    border: 1px solid #a3a3a3;\n    border-radius: 50%;\n    z-index: 99999;\n    margin: %WIDGET_GAP%;\n    box-shadow: none;\n    background-color: rgba(255, 255, 255, 0.8);\n}\n\n.grf-widget--%ADP_ID% .grf-list__item[ad-mark=\"true\"] .grf-list__erir {\n    position: absolute;\n    top: 0;\n    left: 0;\n    background-color: #fff;\n    border: 1px solid #ccc;\n    padding: 5px;\n    font-size: 10px;\n    line-height: 12px;\n    font-family: %TITLE_FONT%;\n    z-index: 99;\n    display: none;\n    margin: %WIDGET_GAP%;\n}\n\n.grf-widget--%ADP_ID% .grf-list__item[ad-mark=\"true\"] .grf-list__erir.show {\n    display: block;\n}\n\n.grf-widget--%ADP_ID% .grf-list__item[ad-mark=\"false\"] .grf-list__erir,\n.grf-widget--%ADP_ID% .grf-list__item[ad-mark=\"false\"] .grf-list__erir-btn {\n    display: none;\n}\n\n@media(max-width: 1024px) {\n    .grf-widget--%ADP_ID% .grf-widget__logo-link {\n        width: 58px;\n    }\n}", "footer": "</div>\n            </div>\n                <div class=\"grf-widget__logo grf-widget__logo--%LOGO_POSITION%\">\n                    <a\n                      href=\"//giraff.io\"\n                      class=\"grf-widget__logo-link grf-widget__logo-link--%LOGO_STYLE%\"\n                      target=\"_blank\"\n                    >\n                    </a>\n                </div>\n            </div>", "header": "<div class=\"grf-widget grf-widget--%ADP_ID%\" data-cols=\"%COLS%\">\n                    <div class=\"grf-widget__content\">\n                        <div class=\"grf-list\" data-cols=\"%COLS%\" data-rows=\"%ROWS%\">", "item": "<div\n                class=\"grf-list__item grf-%IMAGE_POSITION%\"\n                data-type=\"%CELL_TYPE%\"\n                ad-mark=\"%AD_MARK%\"\n                data-rtype=\"%CELL_RTYPE%\"\n            >\n            <div class=\"grf-list__erir-btn\">i</div>\n            <div class=\"grf-list__erir\">\n                \u0420\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044c: %CONTRAGENT%\n                <br />\n                ERID: %ERID%\n                <br />\n                \u0418\u041d\u041d: %INN%\n            </div>\n            <a class=\"grf-list__link\" href=\"%URL%\" target=\"%TARGET%\">\n                <div class=\"grf-list__link-img\">\n                    <img class=\"grf-list__img\" src=\"%IMG_300x300%\"/>\n                </div>\n                <div class=\"grf-list__link-title\">\n                    <div class=\"grf-list__title\">%TITLE%</div>\n                    <div class=\"grf-list__announce\">%ANNOUNCE%</div>\n                </div>\n            </a>\n        </div>", "row_footer": "", "row_header": ""}, "cells": ["rtb", "rtb", "rtb", "rtb", "rtb", "rtb"], "cells_adblock": ["ae", "ae", "ae", "ae", "ae", "ae"], "cols": 3}], "url_settings": {"safe_params": [], "store_hash": false}, "html_tags": [], "stats": {"socials": {"no_fb": true}}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.store=e.dispatch=void 0;var r=i(6),o=n(i(10)),s=r.createStore(o.default,{},void 0),a=s.dispatch;e.dispatch=a;var c=new function(){var t=this;this.states=s.getState(),s.subscribe(()};e.store=c},function(t,e,i){"use strict";var n=this&&this.__importDefault||Object.defineProperty(e,"__esModule",{value:!0});var r=i(6),o=n(i(11));e.default=r.combineReducers({config:o.default})},function(t,e,i){"use strict";var n=this&&this.__assign||Object.defineProperty(e,"__esModule",{value:!0});var r=i(5);e.default=function(t,e){switch(void 0===t&&(t={main:null,host:null}),e.type){case r.UPDATE_CONFIG_HOST:t.host=n({},e.payload);break;case r.UPDATE_CONFIG_MAIN:t.main=n({},e.payload)}return t}},function(t,e){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=,"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t){var e=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=function(t){var n=t+1<1||e.length<=t+1?void 0:e[t+1];null!=n&&Object.keys(n).forEach(()},r=1;r<(arguments.length<=1?0:arguments.length-1);r+=1)n(r);return i},writable:!0,configurable:!0}),String.prototype.includes||(String.prototype.includes=function(t,e){var i;return"number"!=typeof e&&(i=0),!(i+t.length>this.length)&&-1!==this.indexOf(t,i)})},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),n||(n={})),e.default=n},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.initTags=void 0;var r=n(i(1)),o=i(0),s=new r.default,a=s.isDebugMode();function c(t){var e=t.location,i=t.code,n=t.is_javascript,r=s.decodeBase64(i);if(n)return r);if("only_child"!==e){var o=document.createElement("div");return o.innerHTML=r,o}return r}function d(t){var e=t.selector;return document.querySelector(e)||null}function l(t){var e=t.location,i=t.is_javascript,n=c(t),r=d(t);try{"before"===e?r.before(n):"first_child"===e?r.prepend(n):"only_child"===e&&i?(r.innerHTML="",r.prepend(n)):"only_child"===e&&"string"==typeof n?r.innerHTML=n:"last_child"===e?r.append(n):"after"===e?r.after(n):a&&console.warn("Error during insert code")}catch(t){a&&console.warn("Error during insert code: "+t)}}e.initTags=function(){var t=o.store.states.config.main;t.html_tags&&t.html_tags.length?t.html_tags.forEach((function(t){var e=t.trigger;!function(t){return!t||window.location.href.toLowerCase().includes(t.toLowerCase())}(e)?a&&console.log("trigger "+e+" not found"):function(t){var e=t.selector,i=document.querySelector("body");if(!d(t)){var n=new MutationObserver((function(){if(document.querySelector(e))return l(t),void n.disconnect();setTimeout((function(){n.disconnect(),!document.querySelector(e)&&a&&console.log("Target "+e+" to insert not found")}),1e4)}));n.observe(i,{childList:!0,subtree:!0})}l(t)}(t)})):a&&console.log("No tags")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){eturn t.prototype.sendTrace=function(){this.traceObject={href:window.location.href},this.error instanceof Error?(this.traceObject.message=this.error.message,this.traceObject.name=this.error.name,this.traceObject.stack=this.error.stack):this.traceObject.message=JSON.stringify(this.error);var t=document.createElement("script");t.src=this.traceUrl+"&e="+encodeURIComponent(this.traceObject.name)+"&m="+encodeURIComponent(this.traceObject.message)+"&h="+encodeURIComponent(this.traceObject.href),this.traceObject.stack&&(t.src+="&s="+encodeURIComponent(this.traceObject.stack)),t.src.length>this.maxUrlLength&&(t.src=t.src.substring(0,this.maxUrlLength-1)),t.async=!0,t.onerror=function(){t.remove()},t.onload=function(){t.remove()},document.body.appendChild(t)},t}();e.default=n},function(t,e,i){"use strict";var n=this&&this.__spreadArray||Object.defineProperty(e,"__esModule",{value:!0}),e.PreConnect=void 0;var r=i(0),o=function(){function t(){}return t.prototype.createLinks=function(t){var e=[];return t.forEach((),e},t.getUrls=function(){return n([],r.store.states.config.host.preConnectUrls)},t.prototype.insertLinks=function(){var e=t.getUrls();this.createLinks(e).map((function(t){document.head.appendChild(t)}))},t}();e.PreConnect=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateConfigHost=e.updateConfigMain=void 0;var n=i(5),r=i(0);e.updateConfigMain=function(t){return r.dispatch({type:n.UPDATE_CONFIG_MAIN,payload:t})};e.updateConfigHost=e.default={updateConfigMain:e.updateConfigMain,updateConfigHost:e.updateConfigHost}},function(t,e,i){"use strict";i.r(e),i.d(e,"default",();var n=i(2);.prototype={run:function(t){var e;this.url=t,this.url_enc=encodeURIComponent(this.url),this.sn_count=0;try{e=this.stat.parent.config.stats.socials}catch(t){}void 0===e&&(e={}),e.no_fb||(this.sn_count+=1,this.get_fb()),-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>-1||e.no_vk||(this.sn_count+=1,this.get_vk()),e.no_ok||(this.sn_count+=1,this.get_ok())},load:function(t){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=t,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)},send_stat:function(t,e){this.sn_stat.push({name:t,count:e}),this.sn_stat.length>=this.sn_count&&this.stat.set_social_stats(this.sn_stat)},get_fb:function(){var t=this,e="_grf_".concat(Math.random().toString().substr(2));window[e]=function(i){var n=0;try{n=i.share.share_count}catch(t){}t.send_stat("fb",n),window[e]=void 0},this.load("https://graph.facebook.com/?id=".concat(this.url_enc,"&callback=").concat(e))},get_vk:function(){var t=this,e=null,i=!window.VK;i&&(window.VK={});var n=!window.VK.Share;n&&(window.VK.Share={});var r=!!window.VK.Share.count;r&&(e=window.VK.Share.count),window.VK.Share.count=function(o,s){t.send_stat("vk",s),r&&(window.VK.Share.count=e),n&&(window.VK.Share=void 0),i&&(window.VK=void 0)},this.load("https://vk.com/share.php?act=count&url=".concat(this.url_enc,"&index=0"))},get_ok:function(){var t=this,e=null,i=!window.ODKL;i&&(window.ODKL={});var n=!!window.ODKL.updateCount;n&&(e=window.ODKL.updateCount),window.ODKL.updateCount=function(r,o){t.send_stat("ok",o),n&&(window.ODKL.updateCount=e),i&&(window.ODKL=void 0)},this.load("https://connect.ok.ru/dk?st.cmd=extLike&uid=odklcnt0&ref=".concat(this.url_enc))}};var o=i(0);ction d(t,e){var i=this;this.parent=e,this.reading_time=0,this.content_reading_time=0,this.page_visible=!0,this.max_scroll_percent=0,this.max_scroll_height=0,this.max_scroll_distance=!1,this.time_hash="".concat((new Date).getTime(),".").concat((new Date).getMilliseconds()),this.already_added=[],this.already_visited=[window.location.href],this.last_page_position=0,this.pv_tags_sent={},this.config=t,this.settings=t.settings,this.adblockDetected=this.config.adblockDetected,this.name=this.config.name,this.cbGeo=this.config.cbGeo,this.inactive=!1,this.active=!1,this.url_settings=this.config.url_settings,this.url=null,this.elem=null,this.set_url(this.config.url),this.is_vac=this.config.is_vac,this.vis=this.config.vis,this.ref=this.config.referrer,this.ref_full=this.config.referrer_full,this.version=this.config.version,this.social_stats=null,this.watchedTeasers={},this.addWatchedTaser=function(t){var e=t.widgetId-1;void 0===i.watchedTeasers[e]&&(i.watchedTeasers[e]=[]),i.watchedTeasers[e].push(t)},this.clear_stats=function(){-1===i.already_visited.indexOf(window.location.href)&&i.last_page_position-(window.pageYOffset||document.documentElement.scrollTop)<0&&(i.send_stat(),i.set_ref(i.url),window.giraff[t.name].set_ref(i.url),window.giraff[t.name].set_url(window.location.href),i.already_visited.push(window.location.href),i.last_page_position=document.body?document.body.scrollTop:0,i.pv_tags_sent={},i.add_tracker(),i.content_depth=0,i.content_depth_percent=0,i.reading_time=0,i.content_reading_time=0,i.max_scroll_percent=0)},this.soc_stat=new r(this);var n=this;this.add_event(window,"focus",(function(){n.page_visible=!0})),this.add_event(window,"blur",(),this.add_event(window,"scroll",(function(){n.calc_scroll(n.elem),-1===i.already_visited.indexOf(window.location.href)&&i.clear_stats()})),this.add_event(window,"load",(function(){n.calc_scroll(n.elem)})),this.add_event(window,"beforeunload",(function(){n.send_stat()})),this.arr=[],this.arrWidgets=[],this.arrTeasers=[],this.content_depth=0,this.content_depth_percent=0,this.content_selector=".js-giraff-article",this.widget_selector="grf_".concat(this.name,"_");var o=function(){var t=Math.random();n.settings&&n.settings.outlog_sample&&t<n.settings.outlog_sample&&n.check_outlog_clicks(),n.get_widgets(n.check_watch_widget()),n.get_blocks(),n.init_clicks(),n.init_check_depth(),n.observeDOM(document,(function(){n.get_widgets(n.check_watch_widget()),n.get_blocks(),n.init_clicks(),n.init_check_depth()}),n.config)};this.add_event(window,"resize",(function(){n.check_watch_widget()})),this.add_event(window,"scroll",(),document.addEventListener?document.addEventListener("DOMContentLoaded",o()):this.add_event(window,"load",o())}d.prototype={run:function(){var t=this;this.add_tracker();var e=this;setInterval((,1e3),setInterval((function(){e.calc_content_reading_time()}),1e3),setTimeout((function(){for(var i=t.parent.config.widgets,n=0;n<i.length;n+=1)if(i[n].settings&&i[n].settings.noSocial)return;e.soc_stat.run(e.url)}),200)},check_outlog_clicks:function(){var t=this,e=this.config.name,i=this.config.settings.outlog_sample,n=r=function(e,i){var n=i||window.event,r=n.target||n.srcElement;"IFRAME"===r.nodeName&&t.changeIframeFlag(e?r:"")};document.addEventListener("click",bind(this,e,i)),document.addEventListener("mouseover",r.bind(this,!0)),document.addEventListener("mouseout",r.bind(this,!1)),window.addEventListener("unload",n.bind(this,e,i)),window.addEventListener("blur",n.bind(this,e,i))},check_outlog_clicks_handler:function(t,e,i){for(var n=t.target;n!==document;){if("A"===n.tagName){var r="";if(n.href.length){r=n.host===window.location.host?"local":n.host;var o=this.parent.utils.queryStringify({d:r,s:i});this.send("/outlog/".concat(e,"/").concat(o))}return}n=n.parentNode}},changeIframeFlag:check_page_out:function(t,e,i){if(window.giraff.iframeHoverFlag){var n=t.src||t.name||t.id||"unknown_address",r=this.parent.utils.queryStringify({d:n,f:1,s:i});this.send("/outlog/".concat(e,"/").concat(r))}},set_inactive:function(t){this.inactive=t},set_active:function(t){this.active=t},set_url:function(t){this.url!==t&&(this.url=t,this.reading_time=0,this.page_visible=!0,this.max_scroll_percent=0,this.max_scroll_height=0,this.max_scroll_distance=!1,this.time_hash="".concat((new Date).getTime(),".").concat((new Date).getMilliseconds()))},set_container:function(t){this.elem=t,this.reading_time=0,this.page_visible=!0,this.max_scroll_percent=0,this.max_scroll_height=0,this.max_scroll_distance=!1},add_event:function(t,e,i,n){if(n){if(this.already_added.indexOf(t)>-1)return;this.already_added.push(t)}t.addEventListener(e,i)},element_offset_top:function(t){var e=t.getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop||(document.body?document.body.scrollTop:0),n=document.documentElement.clientTop||document.body.clientTop||0,r=e.top+i-n;return Math.round(r)},init_clicks:function(){var t=this;window.giraff[this.config.name]&&window.giraff[this.config.name].callbacks&&window.giraff[this.config.name].callbacks.click&&function(){for(var e=t,i=document.getElementsByTagName("a"),n=0;n<i.length;n+=1){var r=i[n];r.href&&r.className&&r.className.indexOf("grf-list__link")>-1&&t.add_event(r,"click",(function(){e.send_click()}),!0)}}()},calc_reading_time:function(t){this.page_visible=void 0!==document.hidden?!document.hidden:this.page_visible,this.page_visible&&(t&&this.max_scroll_distance?this.reading_time+=1:t||(this.reading_time+=1))},calc_scroll:function(t){var e,i=(window.pageYOffset||document.documentElement.scrollTop)+document.documentElement.clientHeight-this.last_page_position;if(t){e=Math.max(t.clientHeight,t.scrollHeight,t.offsetHeight);var n=this.element_offset_top(t);this.max_scroll_distance=i>=n&&n+e>=i,i=this.max_scroll_distance?i-n:0}else e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);var r=e!==this.max_scroll_height;this.max_scroll_height=e;var o=Math.round(100*i/this.max_scroll_height);this.scroll_depth=i,(o>this.max_scroll_percent||r)&&(this.max_scroll_percent=o),this.max_scroll_percent>100&&(this.max_scroll_percent=100)},observeDOM:function(){var t=window.MutationObserver||window.WebKitMutationObserver,e=window.addEventListener;return function(i,n){t?new t(().observe(i,{childList:!0,attributes:!1,subtree:!0,characterData:!1}):e&&(i.addEventListener("DOMNodeInserted",n,!1),i.addEventListener("DOMNodeRemoved",n,!1))}}(),get_coords:function(t){var e=t.getBoundingClientRect(),i=document.body,n=document.documentElement,r=window.pageYOffset||n.scrollTop||(i?i.scrollTop:0),o=n.clientTop||i&&i.clientTop||0,s=e.top+r-o,a=e.height,c=s+a;return{top:Math.round(s),height:a,bottom:Math.round(c),watched:!1,el:t}},get_blocks:function(){if(this.blocks=document.querySelectorAll(this.content_selector),this.blocks&&this.blocks.length)for(var t=0;t<this.blocks.length;t+=1)0!==this.get_coords(this.blocks[t]).height&&this.arr.push(this.get_coords(this.blocks[t]))},mutex_get_widgets:!1,sentVtrackers:[],get_widgets:function(t){if(!this.mutex_get_widgets){this.mutex_get_widgets=!0;for(var e=document.querySelectorAll("[id^='".concat(this.widget_selector,"']")),i=0;i<e.length;i+=1){for(var n=!0,r=e[i],o=r.id.substring(this.widget_selector.length),s=o.substring(o.indexOf("_"),-1),a=0;a<this.arrWidgets.length;a+=1)if(this.arrWidgets[a].el===r){n=!1;break}if(n){var c=this.get_coords(r);r.innerHTML.length>0&&o.indexOf("_")>0&&this.arrWidgets.push([{id:s},c].reduce((function(t,e){var i=t;return Object.keys(e).forEach((),i}),{}))}this.get_teasers(r,s)}this.mutex_get_widgets=!1,t&&t()}},get_teasers:function(t,e){for(var i=this,n=Array.from(t.querySelectorAll("a[data-grf-url]")),r=function(t){var r=n[t],o=r.dataset,s=o.adpId,c=o.vtracker,d=o.grfUrl,l=r.parentElement;if(l&&d&&!(i.arrTeasers.filter((function(t){return t.grfUrl===d})).length>0)){var u=i.get_coords(l);i.arrTeasers.push(a(a({},u),{},{id:s,el:l,widgetId:e,vtracker:c,grfUrl:d}))}},o=0;o<n.length;o+=1)r(o)},check_visible_widget:function(){var t=this;this.page_visible=void 0!==document.hidden?!document.hidden:this.page_visible;var e=[];if(this.page_visible){for(var i=window.pageYOffset||document.documentElement.scrollTop||(document.body?document.body.scrollTop:0),n=i+window.innerHeight,r=function(r){var s=t.arrWidgets[r],a=t.parent.widgets;!1===s.watched&&function(e,r){var s=e.el.getAttribute("class");if((0!==e.height||null!==s&&-1!==s.indexOf("grf-inline--show")||null!==s&&-1!==s.indexOf("grf-mobile-fullscreen--show"))&&(e.top>=i&&e.top<n||e.bottom>i&&e.bottom<=n||e.top<i&&e.bottom>n)){if(void 0!==o.store.states.config.main.widgets[e.id-1].settings.view_trigger_percent){var a=t.watchedTeasers[e.id-1];void 0!==a&&a.length>0&&(e.watched=!0)}else e.watched=!0;r&&e.watched&&r()}}(s,(function(){if(a[s.id-1].on_show_tags)for(var t=0;t<a[s.id-1].on_show_tags.length;t+=1)e.push("".concat(a[s.id-1].on_show_tags[t].replace("pv_","wv_"),"_").concat(s.id))}))},s=0;s<this.arrWidgets.length;s+=1)r(s);for(var a=function(e){var r,s,a,c,d,l,u=t.arrTeasers[e];!1===u.watched&&(r=u,s=function(){var e=t.config.widgetLoadedTime.getTime(),i=Math.floor(e/1e3);if(u.vtracker){if(t.sentVtrackers.indexOf(u.vtracker)>-1)return;t.sentVtrackers.push(u.vtracker),(new Image).src="".concat(u.vtracker,"&exp=").concat(i+3600)}},d=o.store.states.config.main.widgets[r.widgetId-1].settings,l=50,void 0!==d.view_trigger_percent?l=parseInt(d.view_trigger_percent):void 0!==(null===(a=o.store.states.config.main)||void 0===a||null===(c=a.settings)||void 0===c?void 0:c.view_trigger_percent)&&(l=parseInt(o.store.states.config.main.settings.view_trigger_percent)),(r.top>=i&&r.top<n&&n-r.top>=r.height/100*l||r.bottom>i&&r.bottom<=n&&r.bottom-i>=r.height/100*l||r.top<i&&r.bottom>n)&&(t.addWatchedTaser(r),r.watched=!0,s&&s()))},c=0;c<this.arrTeasers.length;c+=1)a(c)}return e},check_watch_widget:function(){var t=this.check_visible_widget();t&&t.length&&window.giraff[this.config.name].sendCustomTags(t)},init_check_depth:function(){if(this.arr&&this.arr.length){var t=window.pageYOffset||document.documentElement.scrollTop||(document.body?document.body.scrollTop:0),e=t+window.innerHeight,i=0;this.arr.sort(();for(var n=0;n<this.arr.length;n+=1)for(var r=n+1;r<this.arr.length;r+=1)this.arr[n].top===this.arr[r].top&&this.arr[n].bottom===this.arr[r].bottom?(this.arr.splice(r,1),n=0):this.arr[n].top<this.arr[r].top&&this.arr[n].bottom<this.arr[r].bottom&&this.arr[n].bottom>=this.arr[r].top?(this.arr[n].bottom=this.arr[r].bottom,this.arr.splice(r,1),n=0):this.arr[n].top===this.arr[r].top&&this.arr[n].bottom<this.arr[r].bottom||this.arr[n].top>this.arr[r].top&&this.arr[n].bottom===this.arr[r].bottom||this.arr[n].top>this.arr[r].top&&this.arr[n].bottom<this.arr[r].bottom?(this.arr[n].bottom=this.arr[r].bottom,this.arr[n].top=this.arr[r].top,this.arr.splice(r,1),n=0):this.arr[n].top===this.arr[r].top&&this.arr[n].bottom>this.arr[r].bottom||this.arr[n].top<this.arr[r].top&&this.arr[n].bottom===this.arr[r].bottom||this.arr[n].top<this.arr[r].top&&this.arr[n].bottom>this.arr[r].bottom?(this.arr.splice(r,1),n=0):this.arr[n].top>this.arr[r].top&&this.arr[n].bottom>this.arr[r].bottom&&this.arr[n].top<=this.arr[r].bottom&&(this.arr[n].top=this.arr[r].top,this.arr.splice(r,1),n=0);this.arr.forEach((),this.sum_depth(t,e),0===i?this.content_depth_percent=0:(this.content_depth_percent>100&&(this.content_depth_percent=100),this.content_depth_percent=Number((this.content_depth/i*100).toFixed(2)))}},sum_depth:function(t,e){var i=this;this.arr.forEach((function(t){if(t.top<e&&t.bottom<=e){if(!1===t.watched){for(var n=i.content_depth,r=0;r<i.arr.length;r+=1)!0===i.arr[r].watched&&(n-=i.arr[r].height);n-=t.height,i.content_depth-=n,t.watched=!0}}else if(t.top<e&&t.bottom>=e&&!1===t.watched){for(var o=0,s=0;s<i.arr.length;s+=1)!0===i.arr[s].watched&&(o+=i.arr[s].height);var a=e-t.top;a&&a>0&&(i.content_depth=a+o)}}))},calc_content_reading_time:function(){this.page_visible=void 0!==document.hidden?!document.hidden:this.page_visible;var t=0;if(this.page_visible){for(var e=window.pageYOffset||document.documentElement.scrollTop||(document.body?document.body.scrollTop:0),i=e+window.innerHeight,n=0;n<this.arr.length;n+=1)(this.arr[n].top>e&&this.arr[n].top<i||this.arr[n].bottom<i&&this.arr[n].bottom>e||this.arr[n].bottom<i&&this.arr[n].top>e)&&(t=1);t&&(this.content_reading_time+=1)}},add_tracker:function(){var t="data.".concat(o.store.states.config.host.baseDomain);this.config.settings&&this.config.settings.stats_domain&&(t=this.config.settings.stats_domain);var e=document.createElement("script");e.type="text/javascript",e.async=!0;var i=this.parent.utils.queryStringify({r:this.ref_full,u:this.url,rand:Math.random(),v:this.version,if:window.giraff_iframe_mode?1:null,ab:this.adblockDetected?1:null,vac:this.is_vac?1:null,ref:this.ref||null,vis:this.vis?1:null,callback:this.cbGeo?this.cbGeo:null,sp:this.parent.utils.getParamByScriptPlacement(this.name)}),n="//".concat(t,"/track/").concat(this.name,".js").concat(i);e.src=n,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)},send:function(t){var e="data.".concat(o.store.states.config.host.baseDomain);this.config.settings&&this.config.settings.stats_domain&&(e=this.config.settings.stats_domain);var i="//".concat(e+t);this.parent.utils.ajax("GET",i)},send_tags:function(t){if(t.length){this.is_vac&&t.indexOf("pv_ae")>-1&&t.push("vac_ae");var e=this.parent.widgetLoadedTime.getTime(),i=new Date,n=this.parent.utils.queryStringify({u:this.url,tag:t,ref:this.ref||null,ht:i.getTime()-e,ab:this.adblockDetected?1:null,if:window.giraff_iframe_mode?1:null,rand:Math.random()});this.send("/hit/".concat(this.name).concat(n))}},send_pv_tags:function(t){for(var e=[],i=0;i<t.length;i+=1){var n=t[i];this.pv_tags_sent[n]||(this.pv_tags_sent[n]=!0,e.push(n))}e.length&&this.send_tags(e)},send_click:function(){window.giraff[this.config.name]&&window.giraff[this.config.name].callbacks&&window.giraff[this.config.name].callbacks.click&&window.giraff[this.config.name].callbacks.click()},send_stat:function(){var t=this.arr&&this.arr.length?this.content_reading_time:this.reading_time,e=this.arr&&this.arr.length?this.content_depth_percent:this.max_scroll_percent,i=this.parent.widget_drawn>0?1:0,n=this.parent.utils.queryStringify({u:this.url,ref:this.ref||null,rand:Math.random(),rt:this.reading_time,sd:this.max_scroll_percent,crt:t,csd:e,ts:i,time:this.time_hash});this.send("/reading/".concat(this.name,"/").concat(n).concat(this.social_stats?"&".concat(this.social_stats.join("&")):""))},set_social_stats:function(t){if(t.length){for(var e=[],i=0,n=0;n<t.length;n+=1)e.push("".concat(t[n].name,"=").concat(t[n].count)),i+=Number(t[n].count);i&&(this.social_stats=e)}},set_ref:function(t){this.ref=t}};var l=i(7),u=i(1);nction g(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}h.prototype={get:function(t){return window[this.storeName].getItem(t)||""},set:;var p=new u.default,_=p.isDebugMode(),m=new h("sessionStorage");function v(t){this.config=t,this.name="da",this.onResponse=null,this.pixels={},this.uid=null}v.prototype={adapterName:"DaAdapter",getLoadUrl:makeRequest:function(t,e,i,n){var r=e.rv.id,s=Date.now(),a=Math.floor(1e7+9e7*Math.random()),c="IMP-".concat(r,"-").concat(s,"-").concat(a),d="BID-".concat(r,"-").concat(s,"-").concat(a),l={w:300,h:300};try{e.settings&&e.settings.config&&e.settings.config["%IMAGE_WIDTH%"]&&e.settings.config["%IMAGE_HEIGHT%"]&&(l.w=+e.settings.config["%IMAGE_WIDTH%"].slice(0,-2),l.h=+e.settings.config["%IMAGE_HEIGHT%"].slice(0,-2))}catch(t){console.log(t)}var u={id:""+r,ref:document.referrer,page:n,domain:n.split("/")[2],name:n.split("/")[2],cat:["IAB24"],publisher:{id:""+r}},h={id:this.uid,customdata:JSON.stringify({s:m.get("_grf_as_rv")})},f={ip:i,ua:window.navigator.userAgent,language:window.navigator.language.split("-")[0]},g={ver:"1.1",plcmtcnt:t,seq:0,assets:[{id:1,required:1,title:{len:75}},{id:2,required:1,img:{wmin:l.w,hmin:l.h,type:3,mimes:["image/jpeg","image/jpg","image/png"]}}]},p={ver:"1.1",request:JSON.stringify(g)};return{id:d,site:u,user:h,device:f,imp:[{id:"".concat(c),bidfloor:0,bidfloorcur:o.store.states.config.host.rtbCurrency,secure:0===document.location.href.indexOf("https://")?1:0,native:p}],bcat:["IAB7-31"],cur:[o.store.states.config.host.rtbCurrency],at:1}},doRequest:function(t,e){var i=this;this.onResponse=e;var n=this.getLoadUrl();p.ajax("POST",n,t,(function(){i.parseResponse(this.responseText)}))},parseTrackers:function(t){var e=[];try{var i=t.eventtrackers;if(i)for(var n=0;n<i.length;n+=1)1===i[n].event&&(e=[].concat(f(e),[i[n].url]));else _&&console.log("event trackers not found");var r=t.imptrackers;r&&(e=[].concat(f(e),f(r)))}catch(t){_&&console.log("Error during parseTracker: ".concat(t))}return f(new Set(e))},parseResponse:function(t){var e=null;try{e=JSON.parse(t)}catch(t){return this.onResponse([])}if(!e||!e.seatbid)return this.onResponse([]);for(var i=[],n=0;n<e.seatbid.length;n+=1)for(var r=e.seatbid[n],o=0;o<r.bid.length;o+=1)try{var s=r.bid[o],a=JSON.parse(s.adm),c=a.native||a,d=null,l=null,u=null;if(c.assets)for(var h=0;h<c.assets.length;h+=1){var g=c.assets[h];g&&g.title?d=g.title.text:g&&g.img?l=g.img.url.replace("200x200","100x100"):g&&g.data&&(u=g.data.value||"")}if(!d||!l||!c.link)continue;var p=Math.random(),_={grf_adapter:this,grf_uid:p,ad_id:s.adid,cpm:s.price,rtype:"rv",url:c.link.url,title:d,announce:u,img:l};s.ext&&(s.ext.ad_mark&&(_.ad_mark=s.ext.ad_mark),s.ext.erir&&(_.erir=s.ext.erir)),i.push(_),this.pixels[p]=[s.nurl].concat(f(this.parseTrackers(c)))}catch(t){console.log(t)}return this.onResponse(i)},sendPixels:function(t,e){var i=0;(function n(r){var s=this;if(r){var a=r.grf_uid;if(i+=1,a in this.pixels)for(var c=this.pixels[a],d=0;d<c.length;d+=1){var l=c[d];if("js"===(l=(l=(l=(l=l.replace("${AUCTION_AD_ID}",r.ad_id)).replace("${AUCTION_PRICE}",r.cpm)).replace("${AUCTION_CURRENCY}",o.store.states.config.host.rtbCurrency)).replace(/^https?:/,"")).substr(-2))!function(){var e=document.getElementsByTagName("head")[0],r=document.createElement("script");r.src=l;var o=r.onload=o(i),r.onerror=o(i),e.appendChild(r)}();else{var u=new Image;u.src=l,u.onload=n.bind(this,t[i]),u.onerror=n.bind(this,t[i])}}}else e(this.name)}).call(this,t[i])}};var w=v,b=new u.default,y={DaAdapter:w};function O(){var t;this.adapters_enabled=(t=[],Object.keys(y).map((function(e){o.store.states.config.host.rtbAdapters.indexOf(e)>-1&&t.push(y[e])})),t),this.adapters=[],this.requests=0,this.responses=0,this.results=[],this.config=null}O.prototype={init:function(t){var e=this;this.config=t,this.adapters_enabled.forEach(()},run:function(t,e,i,n,r){this.requests=0,this.responses=0,this.results=[];t.geoRegion;var o=t.ipUser;function s(t,s){var a=t.makeRequest(e,i,o,n);if(a){s.requests+=1,t.doRequest(a,(function(t){s.responses+=1;for(var i=0;i<t.length;i+=1)s.results.push(t[i]);s.requests===s.responses&&s.holdAuction(e,r)}))}}for(var a=0;a<this.adapters.length;a+=1){s(this.adapters[a],this)}},holdAuction:function(t,e){var i=this;this.results.sort(();var n=this.results.slice(0,t),r=[];this.adapters.map(();for(var o=function(t){(r=r.filter(()).length||e(n)},s=function(t){var e=i.adapters[t];e.sendPixels(n.filter((),o)},a=0;a<this.adapters.length;a+=1)s(a)},createPixel:setUID:function(t){this.uid=t;for(var e=0;e<this.adapters.length;e+=1)this.adapters[e].uid=t},runCookieMatching:function(){var t=new n.default;if(!t.get("_grf_cm")){var e=this,i="//a.".concat(o.store.states.config.host.baseDomain,"/rtb/match/list");b.ajax("GET",i,{},(,!1),t.set("_grf_cm",1,{path:"/",expires:86400})}},parseCookieMatchingResponse:function(t){var e=null;try{e=JSON.parse(t)}catch(t){return}for(var i=0;i<e.length;i+=1){var n=e[i];n=n.replace("%UID%",this.uid),(new Image).src=n}}};i(12);var T=i(4),k=i(3);ction x(t,e){var i=this;window.addEventListener("message",(,!1),this.config=e,this.version=t,this.name=this.config.name,this.widgets=this.config.widgets,this.url_settings=this.config.url_settings,this.cbGeo="cbGeo".concat(Math.floor(1e9*Math.random())),this.cookies=new n.default,this.utils=new u.default,this.sessionStorage=new h("sessionStorage"),this.widgetLoadedTime=new Date,this.ampContext=window.context,this.isAmp=!!(this.ampContext&&"AMP-AD"===this.ampContext.tagName&&this.ampContext.data&&this.ampContext.data.ampSlotIndex),this.iframeMode=window.giraff_iframe_mode||!1,this.parent=this.isAmp||this.iframeMode?window:window.top,this.is_parent=this.parent===window,this.run_mode="default","string"==typeof this.config.run_mode&&"callback"===this.config.run_mode&&(this.run_mode="callback"),void 0!==this.config.single_mode&&(this.single_mode=this.config.single_mode),this.callback_name=null,this.callback_options=null,this.loadTeasersSrc="",this.widget_queue=[],this.draw_queue=[],this.pv_tags=[],this.ws_tags=[],this.has_active_drawing=!1,this.is_drawing=!1,this.single_mode=!0,this.window_count=0,this.window_idx=0,this.widget_drawn=0,this.check_adBlock(),this.init_rtb()}x.prototype={init:function(){this.inactive=!1,this.mode=this.get_mode(0),"varrietycom"===this.name&&(this.campaign=this.utils.getParameterByNameFromUrl("utm_campaign"));var t=this.isAmp?this.ampContext.canonicalUrl:this.get_canonical_url(),e=!!t;t||(t=window.location.href),this.set_url(t,e);var i,n=this.isAmp?this.ampContext.location.href:window.location.href,r=!1;(i="rusdelfilv"===this.name&&n.indexOf("utm_source%3Dgrf-eng")>-1||n.indexOf("utm_source=grf-eng")>-1)?(r=!0,this.cookies.set("_grf_vac",1,{path:"/"})):this.cookies.get("_grf_vac")&&(r=!0);var o=!1;this.ref="";var s=this.isAmp?this.ampContext.referrer:document.referrer,a=s.split("/")[2],c=n.split("/")[2],l=this.cookies.get("_grf_ref"),u=this.cookies.get("_grf_vis");a&&!i||(a=c),a!==c||u||(o=!0,this.cookies.set("_grf_vis",1,{path:"/"})),a!==c?(o=!0,this.ref=a,this.cookies.set("_grf_vis",1,{path:"/"}),this.cookies.set("_grf_ref",a,{path:"/",expires:2592e3})):l&&l!==c&&(this.ref=l),this.campaign&&(this.ref=this.campaign),this.stats=new d({name:this.name,settings:this.config.settings,url:this.url,url_settings:this.url_settings,is_vac:r,vis:o,referrer:this.ref,adblockDetected:this.adblockDetected,referrer_full:s,version:this.version,cbGeo:this.cbGeo,widgetLoadedTime:this.widgetLoadedTime},this),this.stats.run()},init_rtb:function(){this.rtb=new O;for(var t=!1,e=0;e<this.widgets.length;e+=1){var i=this.widgets[e];if(i.cells){for(var n=0;n<i.cells.length;n+=1)if("rtb"===i.cells[n]){t=!0;break}if(t)break}}t&&this.rtb.init(this.config)},check_parent:function(){var t=this,e=this.run_mode,i=this.cbGeo,n=this.config.name;window[i]=function(i){i.region&&(t.geoRegion=i.region,t.ipUser=i.ip),"default"===e&&t.parent.postMessage("giraff:get_config:".concat(n),"*")},this.is_parent?this.init():this.parent.postMessage("giraff:get_geo:".concat(n),"*")},check_adBlock:function(){var t,e=this,i=new Image;.onload=function(){n(),e.adblockDetected=!1,e.check_parent()},i.onerror=var r="code.".concat(o.store.states.config.host.baseDomain);this.config.settings&&this.config.settings.pixel_domain&&(r=this.config.settings.pixel_domain),i.src="https://".concat(r,"/data/advert.gif"),t=setTimeout((function(){i.onload=function(){},i.onabort=function(){},i.onerror=function(){},e.adblockDetected=!1,n(),e.check_parent()}),1e3)},change_article:function(t,e,i){t&&this.set_url(t,!!i),e&&this.set_container(e)},message_handler:function(t){if("string"==typeof t.data){var e=t.data.split(":");if("giraff"===e[0]&&e[e.length-1]===this.config.name){if("set_geo"===e[1]&&(this.geoRegion=e[2],this.ipUser=e[3],this.parent.postMessage("giraff:get_config:".concat(this.config.name),"*")),"get_geo"===e[1]&&t.source.postMessage("giraff:set_geo:".concat(this.geoRegion,":").concat(this.ipUser,":").concat(this.config.name),"*"),"get_config"===e[1]){this.window_count+=1;var i=this.single_mode?this.mode:"multi";return i=this.inactive?"inactive":i,void t.source.postMessage("giraff:set_config:".concat(this.window_count,":").concat(i,":").concat(encodeURIComponent(this.url),":").concat(encodeURIComponent(this.ref),":").concat(this.config.name),"*")}if("set_config"===e[1]){var n=A(e,3);if(this.window_idx=n[2],"inactive"===e[3])this.mode=!1,this.inactive=!0;else if("multi"===e[3])this.mode=!1,this.inactive=!1;else{var r=A(e,4);this.mode=r[3],this.inactive=!1}return this.set_url(decodeURIComponent(e[4]),!0),this.ref=decodeURIComponent(e[5]),this.setUID(),void this.run()}return"draw_request"===e[1]?(this.draw_queue.push(t.source),void this.allow_drawing()):"draw_done"===e[1]?(this.has_active_drawing=!1,this.allow_drawing(),void(window.giraff[this.config.name]&&window.giraff[this.config.name].callbacks&&window.giraff[this.config.name].callbacks.widget&&window.giraff[this.config.name].callbacks.widget())):void("draw_allowed"!==e[1]?"custom_tags"===e[1]&&e[2]&&this.stats.send_pv_tags(e[2].split(",")):this.draw())}}},get_canonical_url:function(){for(var t=document.getElementsByTagName("meta"),e=0;e<t.length;e+=1){var i=t[e].getAttribute("property"),n=t[e].getAttribute("content");if(i&&"og:url"===i&&n&&"http"===n.substr(0,4))return n}for(var r=document.getElementsByTagName("link"),o=0;o<r.length;o+=1){var s=r[o].getAttribute("rel"),a=r[o].getAttribute("href");if(s&&"canonical"===s&&a&&"http"===a.substr(0,4))return a}return!1},set_url:function(t,e){var i=t;if(e)this.url=i;else{var n=null,r="";i.indexOf("#")&&(n=i.split("#"),i=n.shift(),this.url_settings.store_hash&&(r=n.join("#")));var o="";i.indexOf("?")&&(n=i.split("?"),i=n.shift(),o=n.join("?"));var s=[];if(o.length)for(var a=o.split("&"),c=0;c<a.length;c+=1){var d=a[c].split("=")[0];this.url_settings.safe_params.indexOf(d)>-1&&s.push(a[c])}this.url=i+(s.length?"?".concat(s.join("&")):"")+(r?"#".concat(r):"")}this.stats&&this.stats.set_url(this.url)},set_container:set_ref:get_mode:function(t){if(t>=this.widgets.length)return!1;if(this.mode)return this.mode;for(var e,i=this.widgets[t],n=[{mode:"ae",fill:i.ae.fill},{mode:"na",fill:i.na.fill},{mode:"rv",fill:i.rv.fill}],r=0,o=100*Math.random(),s=0;s<n.length;s+=1)if(o<=(r+=n[s].fill))return e=n[s].mode;return e},setUID:function(){var t=this.cookies.get("_grf_uid");t?this.uid=t:(t=this.utils.hashCode("ip=".concat(this.ipUser," ua=").concat(window.navigator.userAgent)),t=(t=Math.abs(t)).toString(),this.uid=t,this.cookies.set("_grf_uid",t,{path:"/",expires:31536e3})),this.rtb.setUID(this.uid),this.rtb.runCookieMatching()},run:function(){var t=this;this.observer=new MutationObserver((function(e){var i=0;e.forEach((function(e){if("childList"===e.type&&e.addedNodes.length){var n=function(e,n,r){var o=document.createElement("div");if(o.id="grf_".concat(t.name,"_").concat(r.idx+1),document.querySelector(n)){var s=e.nextSibling;s&&3!==s.nodeType&&s.matches("[id^='grf_".concat(t.name,"']"))||(e.insertAdjacentElement("afterEnd",o),t.widget_queue.push(o),i+=1)}};Array.prototype.forEach.call(e.addedNodes,(function(e){Array.prototype.forEach.call(t.widgets,(function(r){var o=r.selector||r.settings&&r.settings.selector||!1;o&&(e.tagName&&e.matches(o)?n(e,o,r):e.childNodes.length&&Array.prototype.forEach.call(e.querySelectorAll(o),()),e.id&&"string"==typeof e.id&&0===e.id.indexOf("grf_".concat(t.name))?(t.widget_queue.push(e),i+=1):e.childNodes.length&&Array.prototype.forEach.call(e.querySelectorAll("[id^='grf_".concat(t.name,"']")),(function(e){t.widget_queue.push(e),i+=1}))}))}))}})),i>0&&t.drawingStart()})),this.observer.observe(document,{childList:!0,subtree:!0}),Array.prototype.forEach.call(this.widgets,(function(e){var i=e.selector||e.settings&&e.settings.selector||!1;if(i){var n=document.querySelectorAll(i);n.length>0&&Array.prototype.forEach.call(n,(function(i){var n=document.createElement("div");n.id="grf_".concat(t.name,"_").concat(e.idx+1);var r=i.nextSibling;r&&3!==r.nodeType&&r.matches("[id^='grf_".concat(t.name,"']"))||i.insertAdjacentElement("afterEnd",n)}))}}));var e=new RegExp("^grf_".concat(t.name,"(_\\d+)*$")),i=document.querySelectorAll("[id^='grf_".concat(t.name,"']")),n=Array.prototype.filter.call(i,();n.length&&(n.forEach((),this.drawingStart())},allow_drawing:function(){this.inactive||!this.draw_queue.length||this.has_active_drawing||(this.has_active_drawing=!0,this.draw_queue.shift().postMessage("giraff:draw_allowed:".concat(this.config.name),"*"))},handlePreloadJS:function(t,e,i){var n="\n            try {\n              ".concat(t,"\n            } catch (error) {\n              console.error('Caught at preload_js: ' + error.message);\n            }\n        ");new Function("tpl, options",n)(e,i)},drawingStart:function(){this.widget_queue.length&&!this.is_drawing&&(this.is_drawing=!0,this.parent.postMessage("giraff:draw_request:".concat(this.config.name),"*"))},draw:function(){var t=this;if(this.widget_queue.length){var e=this.widget_queue.shift();if(e.id&&0!==e.id.indexOf("grf_".concat(this.name)))this.draw();else{var i,n=e.id.replace("grf_".concat(this.name),"").split("_");if(1===n.length)i=1,e.id+="_1";else{if(2!==n.length)return void this.draw();var r=A(n,2);i=r[1]}if(i-=1,"object"===E(this.widgets[i])){if(this.widget_drawn+=1,this.widgets[i].settings&&this.widgets[i].settings.ab_test&&!this.widgets[i].settings.ab_test.is_disabled){var s=this.widgets[i].settings.ab_test.settings;if(s&&s.length>0)for(var a=Math.random(),c=0,d=0;d<s.length;d+=1){if(a>=c&&a<c+s[d].prob){i=s[d].idx;break}c+=s[d].prob}e.id="grf_".concat(this.name,"_").concat(i+1,"_").concat(this.window_idx,"_").concat(this.widget_drawn)}else e.id+="_".concat(this.window_idx,"_").concat(this.widget_drawn);this.get_mode(i);var l=this.widgets[i].settings;if(l&&"feed"===l.pattern){for(var u=l.config,h=u.cycles,f=u.feedList,g=0;g<f.length;g+=1)if(this.widgets[f[g]-1].settings&&this.widgets[f[g]-1].settings.pattern&&"feed"===this.widgets[f[g]-1].settings.pattern)return void this.draw();var p=function(){for(var i=0,n=0;n<f.length;n+=1){var r=document.createElement("div");r.id="grf_".concat(t.name,"_").concat(f[n]),e.appendChild(r)}var o=e.getBoundingClientRect().bottom+window.pageYOffset,s=document.documentElement.scrollTop||document.body&&document.body.scrollTop||0,a=document.body.clientHeight+s;document.addEventListener("scroll",(function(){return function(){if(o=e.getBoundingClientRect().bottom+window.pageYOffset,s=document.documentElement.scrollTop||document.body&&document.body.scrollTop||0,a=document.documentElement.clientHeight+s,o<a+100&&e.lastChild.innerHTML.length)if(0===h)for(var n=0;n<f.length;n+=1){var r=document.createElement("div");r.id="grf_".concat(t.name,"_").concat(f[n]),e.appendChild(r)}else if(i<h){for(var c=0;c<f.length;c+=1){var d=document.createElement("div");d.id="grf_".concat(t.name,"_").concat(f[c]),e.appendChild(d)}i+=1}}()}))},_=this.widgets[i].tpl;if(_.preload_js.length>0){var m=_.preload_js,v={div:e.id,instance:this,configHost:o.store.states.config.host,handleDrawFeed:p};this.handlePreloadJS(m,"",v)}else p();this.draw()}else if(!1!==this.widgets[i].settings.active){if(this.adblockDetected)for(var w=this.widgets[i],b=w.cells,y=w.cells_adblock,O=0;O<b.length;O+=1)if(y&&y.length>0){var T,S=null!==(T=y[O])&&void 0!==T?T:k.TeaserTypes.AE;b.splice(O,1,S)}else b[O]!==k.TeaserTypes.AE&&(b[O]=k.TeaserTypes.AE);if(void 0!==this.geoRegion&&this.widgets[i].settings.hide_rv_by_geo){var x=function(e){for(var n=0;n<e.length;n+=1)if(t.geoRegion.includes(e[n]))for(var r=t.widgets[i].cells,o=0;o<r.length;o+=1)["rv","rtb"].indexOf(r[o])>-1&&(r[o]="ae")};"string"==typeof this.widgets[i].settings.hide_rv_by_geo&&this.utils.isJSON(this.widgets[i].settings.hide_rv_by_geo)?x(JSON.parse(this.widgets[i].settings.hide_rv_by_geo)):x(this.widgets[i].settings.hide_rv_by_geo)}this.load_widget_data(e.id,i)}else this.draw()}else this.draw()}}else this.onDrawDone()},load_widget_data:function(t,e){for(var i=this,n=this.widgets[e],r={},o=(this.adblockDetected?n.promo_ads_adblock:n.promo_ads)||[],s=0;s<n.cells.length;s+=1){var a=void 0;switch(n.cells[s]){case"ae":case"rv":case"na":a=n[n.cells[s]].id;break;case"ps":var c=this.get_mode(e);if("rv"===c&&n.settings.hide_rv_by_geo){var d=function(t){for(var e=0;e<t.length;e+=1)i.geoRegion.includes(t[e])&&(c="ae")};"string"==typeof n.settings.hide_rv_by_geo&&this.utils.isJSON(n.settings.hide_rv_by_geo)?d(JSON.parse(n.settings.hide_rv_by_geo)):d(n.settings.hide_rv_by_geo)}a=n[c].id,n.cells[s]=c;break;case"pr":if(o.length){var l=o[Math.floor(Math.random()*o.length)];o.splice(o.indexOf(l),1),a="pr".concat(l)}else a=n.ae.id,n.cells[s]="ae";break;case"rtb":a="rtb".concat(n.rv.id);break;default:a=n.cells[s]}var u=n.cells[s];r[a]?r[a].count+=1:r[a]={count:1,type:u}}var h={pr:[],ae:[],na:[],rv:[],ps:[],rtb:[]};Object.keys(r).forEach((function(t){var e=r[t],i=e.type,n=e.count;(h[i]=h[i]||[]).push({id:t,num:n,type:i})}));var f=Object.keys(h).reduce((,[]);this.load_teasers(t,f,0,[],e)},detectmob:saveShownTeasers:function(t,e){var i;i=""===(i="pr"===t||"ae"===t?this.sessionStorage.get("_grf_as_ae"):"rv"===t||"na"===t?this.sessionStorage.get("_grf_as_rv"):this.sessionStorage.get("_grf_as_".concat(t)))?[]:i.split(":");for(var n=0;n<e.length;n+=1){var r=e[n].id;-1!==i.indexOf(r)&&i.splice(i.indexOf(r),1),i.push(r)}var o=i.length;i=i.filter((function(){return o<=50||(o--,!1)})).join(":"),"pr"===t||"ae"===t?this.sessionStorage.set("_grf_as_ae",i):"rv"===t||"na"===t?this.sessionStorage.set("_grf_as_rv",i):this.sessionStorage.set("_grf_as_".concat(t),i)},load_teasers:function(t,e,i,n,r,s){var a=this,c=i,d=n,u=function(t,e,i,n){var r=n;return t.reverse().map((function(t){return t===e&&r?(r-=1,i):t})).reverse()};if(c>=e.length&&!s)return Object.keys(d).forEach((function(t){return(!d[t]||0===d[t].length)&&delete d[t]})),this.draw_widget_cells(t,d,r);var h="",f=e[c].type,g=this;switch(f){case"ae":case"rv":case"na":var p=this.widgets[r].ads_domain||"a.".concat(o.store.states.config.host.baseDomain);this.widgets[r].settings&&this.widgets[r].settings.ads_domain&&(p=this.widgets[r].settings.ads_domain);var _,m=s||e[c].num,v=s?this.widgets[r][f].id:e[c].id;_="ae"===f?this.sessionStorage.get("_grf_as_ae"):this.sessionStorage.get("_grf_as_rv");var w=this.utils.queryStringify({json:1,phago:this.widgets[r].phago||null,async:1,cs:"utf-8",rand:Math.random(),num:m>0?m:null,tag:s&&"rv"===f?"grf_rvf_".concat(v):null,as:_,nodupes:"ae"!==f?1:null});h="//".concat(p,"/data/").concat(v,".js").concat(w),this.loadTeasersSrc=h;break;case"pr":var b=this.widgets[r].ads_domain||"a.".concat(o.store.states.config.host.baseDomain);this.widgets[r].settings&&this.widgets[r].settings.ads_domain&&(b=this.widgets[r].settings.ads_domain);var y=this.widgets[r].ae.id,O=null;"pr"===e[c].id.substr(0,2)&&(O=e[c].id.substr(2,e[c].id.length-2));var T=this.utils.queryStringify({json:1,phago:this.widgets[r].phago||null,async:1,cs:"utf-8",rand:Math.random(),sa:O});h="//".concat(b,"/data/").concat(y,".js").concat(T),this.loadTeasersSrc=h;break;case"rtb":var k=e[c].num,A=e[c].id;this.rtb.run(g,k,this.widgets[r],this.url,(function(i){if(void 0!==e[c]){d[A]=d[A]||[];for(var n=0;n<i.length;n+=1)if(d[A].push(i[n]),g.config.settings&&g.config.settings.rtblog||g.widgets[r].settings&&g.widgets[r].settings.rtblog){var o=g.utils.queryStringify({u:i[n].url,p:i[n].rtype,w:r}),s=g.config.name;g.stats.send("/rtblog/".concat(s).concat(o))}var l=d[A].length,h=e[c].num-l,f=i.filter(().map(();a.saveShownTeasers("rv",f),l<e[c].num&&(Object.assign(e[c],{type:"ae",id:a.widgets[r].ae.id.toString()}),g.widgets[r].cells=u(g.widgets[r].cells,"rtb","ae",h),c-=1),c+=1,g.load_teasers(t,e,c,d,r,h)}}));break;default:if(/cc([0-9]+)/.test(f)){var S=e[c],x=S.id,C=S.num,j=x.replace("cc",""),I=this.config.custom_codes&&this.config.custom_codes[j];d[x]=d[x]||[];for(var M={type:"cc",rtype:f,html:I&&I.code||""},N=0;N<C;N+=1)d[x].push(M);return c+=1,g.load_teasers(t,e,c,d,r),!0}}return-1===["rtb"].indexOf(f)&&Object(l.a)(h,{onSuccess:function(i){var n,o=i;if("object"===E(o)&&null!=o||(o=[]),"rv"===f)for(var s=0;s<o.length;s+=1)o[s].imptracker&&((new Image).src=o[s].imptracker);a.saveShownTeasers(f,o);for(var l=e[c].id||g.widgets[c][f].id,h=0;h<o.length;h+=1)o[h].rtype=f;d[l]=Array.isArray(d[l])?d[l].concat(o):o;var p=d[l].length;if(("rv"===f||"na"===f)&&p<e[c].num&&(n=e[c].num-p,Object.assign(e[c],{type:"ae",id:a.widgets[r].ae.id.toString()}),g.widgets[r].cells=u(g.widgets[r].cells,f,"ae",n),c-=1),"pr"===f&&p<e[c].num){n=e[c].num-p;var _=a.widgets[r],m=(a.adblockDetected?_.promo_ads_adblock:_.promo_ads)||[];if(m.length>0){var v=m[Math.floor(Math.random()*m.length)];m.splice(m.indexOf(v),1),Object.assign(e[c],{id:"pr".concat(v)})}else Object.assign(e[c],{type:"ae",id:a.widgets[r].ae.id.toString()}),a.widgets[r].cells=u(g.widgets[r].cells,"pr","ae",n);c-=1}c+=1,g.load_teasers(t,e,c,d,r,n)},onError:),!1},draw_widget_cells:function(t,e,i){return T.drawWidgetCells.apply(this,[t,e,i])},build_items:function(t,e,i,n){return T.buildItems.apply(this,[t,e,i,n])},replace_tags:function(t,e){return T.replaceTags.apply(this,[t,e])},replaceItemTags:function(t,e,i,n,r){return T.replaceItemTags.apply(this,[t,e,i,n,r])},onDrawDone:function(){this.is_drawing=!1,this.parent.postMessage("giraff:draw_done:".concat(this.config.name),"*");var t=[];t=t.concat(this.pv_tags,this.ws_tags),this.stats&&(t=t.concat(this.stats.check_visible_widget())),this.pv_tags=[],this.ws_tags=[],this.sendCustomTags(t)},sendCustomTags:function(t){t.length&&this.parent.postMessage("giraff:custom_tags:".concat(t.join(","),":").concat(this.config.name),"*")}}}]);