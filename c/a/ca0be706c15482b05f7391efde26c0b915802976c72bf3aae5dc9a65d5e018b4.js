(window.webpackJsonp=window.webpackJsonp||[]).push([[221],{1292:function(e,t,o){"use strict";o.r(t);var s=o(5),a=o(14),i=o(108),n=o(17);const r=new a.a("appDownloadMessage"),d=Object.assign({isUserEligible:!1,isVisible:!1,isThreadExpired:!1,threadTypeId:n.m[n.a],source:"",isEnabledOnClickout:!1,isEnabledOnThreadVoting:!1},(()=>{let e=r.get();return Object(i.f)()===e.tryDate||(e={tryDate:Object(i.f)(),shown:0,couldShowOnClickout:0,threadVotes:0},r.set(e)),e})()),l={firstTime:e=>0===e.shown,firstTimeForVoting:(e,t)=>e.threadVotes>=t.appDownloadMessageSettings.minimumThreadVotesForFirstShowing,reachedMaxDailyShows:(e,t)=>e.shown>=t.appDownloadMessageSettings.maximumShowingsPerDay,shouldShowNextTimesForClickout:(e,t)=>e.couldShowOnClickout>=t.appDownloadMessageSettings.minimumClickOutsForNextShowing&&!t.reachedMaxDailyShows,shouldShowNextTimesForVoting:(e,t)=>e.threadVotes>=t.appDownloadMessageSettings.minimumThreadVotesForNextShowing&&!t.reachedMaxDailyShows,appDownloadMessageSettings:(e,t,o)=>{var s;return null!==(s=o.settings.appDownloadMessage)&&void 0!==s?s:{}}},c={writeStorage(e,t){let{commit:o}=e;const s=Object.assign({tryDate:Object(i.f)()},t);r.extend(s);o("MERGE",Object.fromEntries(Object.entries(s).filter((e=>{let[,t]=e;return t||0===t}))))},hide(e){let{commit:t}=e;t("UPDATE_IS_VISIBLE",!1)},showOnVote(e){let{commit:t,dispatch:o,getters:s}=e;d.isEnabledOnThreadVoting&&(o("increaseThreadVotes"),s.firstTime?s.firstTimeForVoting&&t("UPDATE_IS_VISIBLE",!0):s.shouldShowNextTimesForVoting&&t("UPDATE_IS_VISIBLE",!0))},showOnClickout(e){let{commit:t,dispatch:o,state:s,getters:a}=e;s.isEnabledOnClickout&&(a.firstTime?t("UPDATE_IS_VISIBLE",!0):(o("increaseCouldShowOnClickout"),a.shouldShowNextTimesForClickout&&t("UPDATE_IS_VISIBLE",!0)))},show(e,t){let{commit:o,dispatch:s,state:a}=e,{source:i="clickout",isThreadExpired:r=!1,threadTypeId:d=n.m[n.a]}=t;if(a.isUserEligible)switch(o("UPDATE_THREAD_PROPS",{threadTypeId:d,isThreadExpired:r,source:i}),i){case"clickout":s("showOnClickout");break;case"vote":s("showOnVote")}},increaseShown(e){let{state:t,dispatch:o}=e;o("writeStorage",{shown:t.shown+1,couldShowOnClickout:0,threadVotes:0})},increaseCouldShowOnClickout(e){let{state:t,dispatch:o}=e;o("writeStorage",{couldShowOnClickout:t.couldShowOnClickout+1})},increaseThreadVotes(e){let{state:t,dispatch:o}=e;o("writeStorage",{threadVotes:t.threadVotes+1})},merge(e,t){let{commit:o}=e;o("MERGE",t)}},h={UPDATE_IS_VISIBLE(e,t){e.isVisible=t},UPDATE_THREAD_PROPS(e,t){let{threadTypeId:o,isThreadExpired:s,source:a}=t;e.threadTypeId=o,e.isThreadExpired=s,e.source=a},MERGE(e,t){Object.assign(e,t)}};var p=o(523),w=Object(p.b)("appDownloadMessage",{create:()=>({namespaced:!0,state:d,getters:l,mutations:h,actions:c})}),u=o(2),g=o(574),m=o(71),S=o(4);const T={mixins:[w]};var E=Object(s.defineComponent)(Object.assign({},T,{__name:"app-download-message",props:{data:null},setup(e){var t,a;const i=e,n=Object(m.c)();S.a.dispatch("appDownloadMessage/merge",{isEnabledOnClickout:i.data.features.promotionTools.appDownloadMessage,isEnabledOnThreadVoting:i.data.features.promotionTools.appDownloadMessageForThreadVoting,isUserEligible:null!==(t=null===(a=i.data.me)||void 0===a?void 0:a.isEligibleForShowingAppDownloadMessage)&&void 0!==t&&t});const r=Object(s.computed)((()=>S.a.state.appDownloadMessage.isVisible)),d=Object(s.computed)((()=>r.value&&n.smAndDown)),l=()=>S.a.dispatch("appDownloadMessage/increaseShown"),c=e=>S.a.dispatch("appDownloadMessage/show",e);return u.a.add("show-app-download-message-onclick","click",((e,t)=>c(t)),{events:["click"],preventDefault:!1}),u.a.add("show-app-download-message-ondestroy","destroy",((e,t)=>c(t))),{__sfc:!0,MessageInfo:()=>o.e(197).then(o.bind(null,1251)),breakpoints:n,props:i,isVisible:r,isActive:d,increaseShown:l,show:c,hide:()=>S.a.dispatch("appDownloadMessage/hide"),onActivation:e=>{e&&l()},BaseModal:g.a}}})),b=o(45),D=Object(b.a)(E,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return o.isActive?t(o.BaseModal,{attrs:{layout:"bottomCenter"},on:{"update:active":o.onActivation}},[t(o.MessageInfo,{staticClass:"overflow--scrollY",on:{hide:o.hide}})],1):e._e()}),[],!1,null,null,null);t.default=D.exports}}]);ofileTrigger:r.a}}}),c=a(45),m=Object(c.a)(l,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"flex flex--dir-col"},[t("div",{staticClass:"flex boxAlign-ai--all-c"},[t(a.UserShortProfileTrigger,{class:a.usernameLinkClasses,attrs:{user:e.user},scopedSlots:e._u([{key:"default",fn:function({popoverHandler:s}){return[t("button",{directives:[{name:"track",rawName:"v-track:showUserShortProfile.click",arg:"showUserShortProfile",modifiers:{click:!0}}],staticClass:"space--mr-2",on:{click:function(e){return s(e,a.popoverPreset)}}},[e._v(" "+e._s(a.userName)+" ")]),e.user.persona?t(a.UserPersona,{attrs:{user:e.user}}):e._e()]}}])}),e.badgeText?t("span",{staticClass:"space--mr-0 space--ml-1"},[t("span",{staticClass:"text--color-black text--normal textBadge textBadge--greyBackground size--all-xs"},[e._v(" "+e._s(e.badgeText)+" ")])]):e._e()],1),e.date||e.isNew?t("div",{staticClass:"lbox--v-small size--all-s flex boxAlign-ai--all-c"},[t("time",{staticClass:"text--color-greyShade overflow--wrap-off space--mr-2"},[e._v(e._s(e.date))]),e.isNew?t(a.CommentBadgeNewAnimated,{staticClass:"space--mr-2"}):e._e()],1):e._e()])}),[],!1,null,null,null);t.default=m.exports},1112:function(e,t,a){"use strict";var s=a(717),n={computed:{mediaMax:()=>Object(s.a)("w3")}},o=a(45),i=Object(o.a)(n,(function(){var e=this._self._c;return e("div",{staticClass:"comment-padding"},[e("span",{staticClass:"skeleton"},[e("picture",[e("source",{attrs:{media:this.mediaMax,srcset:"/assets/img/skeletons/comment-mobile_95bc4.svg"}}),e("img",{attrs:{src:"/assets/img/skeletons/comment-desktop_b2f48.svg",height:"100"}})])])])}),[],!1,null,null,null);t.a=i.exports},1113:function(e,t,a){"use strict";var s=a(970),n={props:{type:{validator:s.d,required:!0},size:{validator:e=>Object.keys(s.c).includes(e),default:"m"}},computed:{reaction(){return s.a[this.type]},pixelSize(){return s.c[this.size]}}},o=a(45),i=Object(o.a)(n,(function(){var e=this;return(0,e._self._c)("img",{attrs:{src:e.reaction.img,width:e.pixelSize,height:e.pixelSize,alt:e.reaction.label}})}),[],!1,null,null,null);t.a=i.exports},1114:function(e,t,a){"use strict";var s=a(970),n={props:{type:{validator:s.d,required:!0}},computed:{reaction(){return s.a[this.type]}}},o=a(45),i=Object(o.a)(n,(function(){var e=this;return(0,e._self._c)("span",{class:e.reaction.colorClass},[e._t("default",(function(){return[e._v(e._s(e.reaction.label))]}))],2)}),[],!1,null,null,null);t.a=i.exports},1116:function(e,t,a){"use strict";var s=a(1015).a,n=a(45),o=Object(n.a)(s,(function(){var e=this,t=e._self._c;return e.isEditMode?t("CommentEditForm",{attrs:{edit:e.isEditMode,comment:e.comment},on:{"update:edit":function(t){e.isEditMode=t}}}):t("div",{directives:[{name:"track",rawName:"v-track:comment",value:{id:e.comment.commentId},expression:"{ id: comment.commentId }",arg:"comment"}],class:{"commentList-comment--highlighted":e.isHighlighted}},[e.comment.ignored?t("div",{staticClass:"comment-padding size--all-m text--b text--color-charcoalTint"},[t("BaseIcon",{staticClass:"space--mr-2 icon-lineWrap",attrs:{name:"hide"}}),e._v(" "+e._s(e.ignoredUserText)+" ")],1):e._e(),e.comment.ignored?e._e():t("div",{staticClass:"comment-padding",class:[e.ceptClasses,e.hasReplyClass]},[e.showDeletedHeader?t("div",{staticClass:"flex boxAlign-ai--all-c space--mb-4 text--color-greyShade size--all-m text--b"},[t("BaseIcon",{staticClass:"space--mr-2",attrs:{name:"show"}}),e._v(" "+e._s("Hidden content (Deleted)")+" ")],1):e._e(),t("article",{staticClass:"comment"},[t("div",[e.comment.isPinned?t("CommentBadge",{attrs:{icon:"pin"}},[e._v(" "+e._s("Fijado")+" ")]):e._e(),e.isShowUnderReview?t("CommentBadge",{attrs:{icon:"lock-timer"}},[e._v(" "+e._s("En revisión (no publicado)")+" ")]):e._e()],1),t("div",{staticClass:"comment-header"},[t("UserProfileAvatarLegacy",{directives:[{name:"track",rawName:"v-track:showUserShortProfile.click",arg:"showUserShortProfile",modifiers:{click:!0}}],staticClass:"comment-avatar",class:e.mutedClass,attrs:{user:e.comment.user,"avatar-class":"width--all-12 height--all-full"}}),t("div",{staticClass:"width--max-12 space--mr-a"},[t("CommentAuthor",{class:e.mutedClass,attrs:{user:e.comment.user,date:e.createdAt,"badge-text":e.commentAuthorBadgeText,"is-new":e.comment.isNotSeenByCurrentUser}})],1),t("CommentMenu",{attrs:{comment:e.comment,perma:e.can("perma"),edit:e.can("edit"),remove:e.can("delete"),report:e.can("report"),"edit-mode":e.isEditMode},on:{"update:editMode":function(t){e.isEditMode=t},"update:edit-mode":function(t){e.isEditMode=t}}})],1),t("div",{staticClass:"comment-body"},[e.comment.parentReply?t("p",{staticClass:"mute--text space--b-2"},[e._v(" "+e._s("Respondiendo a")+" "),t("button",{staticClass:"link",on:{click:function(t){return e.$emit("gotoParent",e.comment)}}},[e._v(" "+e._s(e.parentUserName)+" ")])]):e._e(),t("UserHtml",{class:{"mute--opacity-40":e.isModerated&&e.isOwn||e.isDeletedOrHidden},attrs:{"xhr-name":"comments"}},[t("div",{domProps:{innerHTML:e._s(e.htmlContent)}})])],1),e.hasFooterOptions||e.hasAdminTools?t("div",{staticClass:"comment-footer",class:e.mutedClass},[e.hasFooterOptions?t("div",{staticClass:"text--b flex"},[e.can("react")?t("CommentReact",{staticClass:"space--mr-3",attrs:{comment:e.comment}}):e._e(),e.can("reply")?t("CommentReply",{staticClass:"space--mr-3",attrs:{comment:e.comment}}):e._e(),e.showReactions?t("CommentReactionCounts",{staticClass:"space--ml-a",attrs:{comment:e.comment}}):e._e()],1):e._e(),e.hasAdminTools?t("AdminTools",{attrs:{comment:e.comment,edit:e.isEditMode},on:{"update:edit":function(t){e.isEditMode=t}}}):e._e()],1):e._e()])]),e.isInReplyMode?t("CommentSubmitReply",{attrs:{comment:e.comment},on:{create:e.addReply}}):e._e(),e.showReplies?t("CommentReplies",{ref:"replies",attrs:{comment:e.comment,"needs-bigger-loads":e.needsBiggerLoads}}):e._e()],1)}),[],!1,null,null,null);t.a=o.exports},1179:function(e,t,a){"use strict";a(1088)},1199:function(e,t,a){"use strict";var s=a(38),n=a(654),o=a(10),i=a.n(o),r=a(11),l=a.n(r);let c=function(){function e(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;i()(this,e),this.firstPageLimit=t,this.doubleCount=a}return l()(e,[{key:"getLimit",value:function(e){return e<1?0:e<3?this.firstPageLimit:this.firstPageLimit*2**Math.min(e-2,this.doubleCount)}},{key:"getPage",value:function(e){return e<1?0:1===e?1:e<=this.doubleCount+1?2:e-this.doubleCount}},{key:"getCount",value:function(e){return e<1?0:this.getCount(e-1)+this.getLimit(e)}}]),e}();var m=a(111),d=a(21),u=a(976),p=a(844),h=a(1112),g=a(1),f=a(1116),b=a(507),v=a(515);const C=e=>t=>t.commentId===e.commentId;var y={components:{BaseSpinner:v.a,BaseButton:b.a,BaseAnchor:p.a,BaseComment:f.a,CommentSkeleton:h.a,CommentBadgeNewAnimated:u.a},props:{comment:{type:Object,required:!0},needsBiggerLoads:{type:Boolean,default:!1}},data:()=>({anchorsEnabled:!0,scrollTargetId:null,loadedPage:0,isLoading:!1}),computed:{pageDoubler(){const e=this.needsBiggerLoads?50:20;return new c(e,2)},isSummaryView(){return 0===this.loadedPage},loadedRepliesAll(){return this.comment.loadedReplies||this.comment.repliesPreview||[]},loadedRepliesVisible(){return this.$store.state.comments.features.adminTools.seeDeleted?this.loadedRepliesAll:this.loadedRepliesAll.filter((e=>!Object(m.n)(e)))},addedReplies(){return this.comment.addedReplies||[]},localReplies(){return[...this.loadedRepliesAll,...this.addedReplies]},maxCount(){return this.comment.replyCount},remaining(){return Math.max(this.maxCount-this.loadedRepliesAll.length-this.addedReplies.length,0)},nextCount(){return Math.min(this.pageDoubler.getCount(this.loadedPage+1),this.maxCount)},nextRemaining(){return Math.max(this.maxCount-this.nextCount-this.addedReplies.length,0)},canLoadMore(){return(this.isLoading?this.nextRemaining:this.remaining)>0},placeholderCount(){return this.isLoading?Math.min(this.remaining,5):0},anchoredReplyId(){return this.$store.getters["threadComments/anchoredReplyId"]}},beforeCreate(){this.$options.components.BaseComment=f.a},created(){this.needsBiggerLoads&&this.loadMore(50)},methods:{getCeptScrollTarget(e){return this.scrollTargetId,""},onScrollToView(e){this.scrollTargetId=e,Object(m.t)()},scrollToCommentPure(e){document.querySelector(Object(m.j)(e)).scrollIntoView()},scrollToComponentTop(){this.$el.scrollIntoView()},async loadMoreAndScroll(){this.scrollToComponentTop(),this.anchorsEnabled=!1;const e=this.loadedRepliesVisible[this.loadedRepliesVisible.length-1],t=await this.loadMore(),a=t.findIndex(C(e)),s=t[a+1],n=a>-1?null!=s?s:e:t[0];n&&this.scrollToCommentPure(n)},async loadMore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=this.loadedPage+1,{pagination:a,items:o}=await Object(s.g)(this.comment.threadId,{mainCommentId:this.comment.commentId,limit:null!=e?e:this.pageDoubler.getLimit(t),page:this.pageDoubler.getPage(t),order:{direction:g.s.Ascending}}).finally(Object(n.a)(this,"isLoading")),i=this.isSummaryView?o:this.loadedRepliesAll.concat(o),r=this.addedReplies.filter((e=>!o.some(C(e))));return this.updateComment({replyCount:a.count,loadedReplies:i,addedReplies:r}),this.loadedPage+=1,i},async addReply(e){this.localReplies.some(C(e))?this.$store.commit("comments/UPDATE",e):this.updateComment({addedReplies:[...this.addedReplies,e],replyCount:this.maxCount+1,showReplies:!0}),await this.$nextTick(),this.scrollToComment(e)},updateComment(e){this.$store.commit("comments/UPDATE",Object.assign({commentId:this.comment.commentId},e))},async gotoParent(e){if(!this.localReplies.some(C(e.parentReply))){const t=await Object(s.i)(e.commentId);this.updateComment({loadedReplies:[...t.reverse(),e]}),this.loadedPage=0,await this.$nextTick()}this.scrollToComment(e.parentReply)},scrollToComment(e){this.anchorsEnabled=!0,Object(d.i)(Object(m.j)(e))},anchorId:e=>Object(m.j)(e).slice(1)}},_=y,w=a(45),x=Object(w.a)(_,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"comment-replies anchorTarget"},[e.placeholderCount?e._l(e.placeholderCount,(function(e){return t("CommentSkeleton",{key:e})})):e._l(e.loadedRepliesVisible,(function(a){return t("BaseAnchor",{key:a.commentId,class:e.getCeptScrollTarget(a.commentId),attrs:{id:e.anchorId(a),"data-id":a.commentId,enabled:e.anchorsEnabled},on:{scrolled:function(t){return e.onScrollToView(a.commentId)}},scopedSlots:e._u([{key:"default",fn:function({isTarget:s}){return t("BaseComment",{staticClass:"comment-replies-item anchorTarget",class:{"commentList-comment--target":s},attrs:{comment:a},on:{gotoParent:e.gotoParent,addReply:e.addReply}})}}],null,!0)})})),e.canLoadMore?t("div",{staticClass:"comment-hPadding space--v-3 space--fromW3-b-4 space--t-2 space--fromW3-t-0 flex boxAlign-ai--all-c"},[t("BaseButton",{directives:[{name:"track",rawName:"v-track:moreReplies.click",arg:"moreReplies",modifiers:{click:!0}}],attrs:{variant:"secondary",mode:"default",seal:e.isLoading},on:{click:function(t){return e.loadMoreAndScroll()}}},[e.isLoading?t("BaseSpinner",{staticClass:"spinner--centered"}):e._e(),e._v(" "+e._s("Ver más respuestas")+" ("+e._s(e.remaining)+") ")],1),e.comment.repliesNotSeenByCurrentUserCount>0?t("CommentBadgeNewAnimated",{staticClass:"space--ml-2"}):e._e()],1):e._e(),e._l(e.addedReplies,(function(a){return t("BaseAnchor",{key:a.commentId,class:e.getCeptScrollTarget(a.commentId),attrs:{id:e.anchorId(a),"data-id":a.commentId,enabled:e.anchorsEnabled},on:{scrolled:function(t){return e.onScrollToView(a.commentId)}},scopedSlots:e._u([{key:"default",fn:function({isTarget:s}){return t("BaseComment",{staticClass:"anchorTarget",class:{"commentList-comment--target":s},attrs:{comment:a},on:{gotoParent:e.gotoParent,addReply:e.addReply}})}}],null,!0)})}))],2)}),[],!1,null,null,null);t.a=x.exports},1210:function(e,t,a){"use strict";var s=a(103),n=a(526),o=a(970),i=a(1113),r=a(1114),l=a(516),c=a(507),m=a(854);var d={components:{LottiePlayer:()=>Promise.all([a.e(217),a.e(227)]).then(a.bind(null,1357)),ReactionImage:i.a,ReactionLabel:r.a,BaseButton:c.a},mixins:[s.a,l.a],props:{comment:{type:Object,required:!0}},data:()=>({popoverActive:!1,animatedReactionType:null}),computed:{reactions:()=>o.a,currentUserReaction(){var e;return null===(e=this.comment.currentUserReaction)||void 0===e?void 0:e.type},ceptClasses(){return[this.currentUserReaction?this.reactions[this.currentUserReaction].unCept:"",""]},popoverLayouts:()=>[Object.assign({},m.a,{x:-16,width:248,bottom:{offset:0}})]},created(){this.guarded.config={login:{source:"like"}}},methods:{trigger(){this.guard((()=>{this.currentUserReaction?this.react(null):this.$refs.popover.activate(this.popoverLayouts,{target:this.$el})}))},react(e){Object(n.a)().record({category:"comment",action:e||"un-".concat(this.currentUserReaction),label:"contribution"}),this.$store.dispatch("comments/react",{commentId:this.comment.commentId,type:e}),e&&(this.animatedReactionType=e)},onAnimationComplete(){this.animatedReactionType=null,this.$refs.popover.close()}}},u=(a(1179),a(45)),p=Object(u.a)(d,(function(){var e=this,t=e._self._c;return t("BaseButton",{staticClass:"size--all-s",class:e.ceptClasses,attrs:{variant:"text",mode:"secondary",size:"s"},on:{click:e.trigger}},[e.currentUserReaction?[t("ReactionImage",{staticClass:"space--mr-1",attrs:{size:"s",type:e.currentUserReaction}}),t("ReactionLabel",{attrs:{type:e.currentUserReaction}})]:[t("BaseIcon",{attrs:{name:"thumb-up",left:"",small:""}}),e._v(" "+e._s("Me gusta")+" ")],t("BasePopover",{ref:"popover",attrs:{active:e.popoverActive,"layer-class":"popover--reactions",arrow:!1},on:{"update:active":function(t){e.popoverActive=t}},scopedSlots:e._u([{key:"default",fn:function({}){return[t("div",{staticClass:"size--all-s text--b mute--text overflow--wrap-off space--h-3 space--v-2"},e._l(e.reactions,(function(a,s){return t("button",{key:s,staticClass:"flex--inline flex--dir-col boxAlign-ai--all-c width--all-4",class:[a.hoverColorClass,a.cept],on:{click:function(t){return e.react(s)}}},[e.animatedReactionType===s?t("LottiePlayer",{staticClass:"reaction-animation",attrs:{"animation-data":a.animationData,autoplay:""},on:{"animation-complete":e.onAnimationComplete}}):t("ReactionImage",{staticClass:"flex reaction-image",attrs:{type:s,size:"xl"}}),e._v(" "+e._s(a.label)+" ")],1)})),0)]}}])})],2)}),[],!1,null,null,null);t.a=p.exports},1211:function(e,t,a){"use strict";var s=a(103),n=a(537),o={components:{BaseButton:a(507).a,ActivationModal:()=>a.e(38).then(a.bind(null,675))},props:{comment:{type:Object,required:!0}},data:()=>({showActivationModal:!1}),computed:{user(){return this.$store.getters["auth/me"]}},methods:{async reply(){try{await Object(s.b)({login:{source:"reply"}}),Object(n.c)(this.user)?this.showActivationModal=!0:this.$store.commit("threadComments/UPDATE_IN_REPLY_MODE",this.comment.commentId)}catch(e){if(e instanceof Error)throw e}}}},i=a(45),r=Object(i.a)(o,(function(){var e=this,t=e._self._c;return t("BaseButton",{directives:[{name:"track",rawName:"v-track:reply.click",arg:"reply",modifiers:{click:!0}}],staticClass:"size--all-s",attrs:{variant:"text",mode:"secondary",size:"s"},on:{click:e.reply},scopedSlots:e._u([{key:"postfix",fn:function(){return[e.showActivationModal?t("ActivationModal",{attrs:{user:e.user,active:e.showActivationModal},on:{"update:active":function(t){e.showActivationModal=t}}}):e._e()]},proxy:!0}])},[t("BaseIcon",{attrs:{name:"reply",left:"",small:""}}),e._v(" "+e._s("Responder")+" ")],1)}),[],!1,null,null,null);t.a=r.exports},1212:function(e,t,a){"use strict";var s=a(516),n={components:{BaseButton:a(507).a,CommentPermalink:()=>a.e(56).then(a.bind(null,1358)),CommentDelete:()=>a.e(56).then(a.bind(null,1359)),CommentEdit:()=>a.e(56).then(a.bind(null,1360)),CommentReport:()=>a.e(56).then(a.bind(null,1361))},mixins:[s.a],props:{comment:{type:Object,required:!0},perma:{type:Boolean,default:!1},edit:{type:Boolean,default:!1},remove:{type:Boolean,default:!1},report:{type:Boolean,default:!1}},data:()=>({popoverActive:!1}),computed:{optionCount(){return this.perma+this.edit+this.remove+this.report},popoverLayout:()=>[{preset:"s",y:-4,right:{target:".comment-padding"}}]}},o=a(45),i=Object(o.a)(n,(function(){var e=this,t=e._self._c;return e.optionCount?t("BaseButton",{directives:[{name:"popover",rawName:"v-popover",value:e.popoverLayout,expression:"popoverLayout"}],staticClass:"space--mr-1",attrs:{variant:"tertiary",mode:"default",size:"s",selected:e.popoverActive,square:""}},[t("BaseIcon",{attrs:{name:"overflow"}}),t("BasePopover",{attrs:{active:e.popoverActive,width:"300"},on:{"update:active":function(t){e.popoverActive=t}},scopedSlots:e._u([{key:"default",fn:function({close:a}){return[t("div",{staticClass:"space--v-2 box--all-s",style:{minHeight:40*e.optionCount+"px"}},[e.perma?t("CommentPermalink",{attrs:{comment:e.comment},on:{click:function(e){return a()}}}):e._e(),e.edit?t("CommentEdit",{on:{click:function(t){return e.$emit("update:editMode",!0)}}}):e._e(),e.remove?t("CommentDelete",{attrs:{comment:e.comment},on:{click:function(e){return a()}}}):e._e(),e.report?t("CommentReport",{attrs:{comment:e.comment},on:{close:function(e){return a()}}}):e._e()],1)]}}],null,!1,3919170807)})],1):e._e()}),[],!1,null,null,null);t.a=i.exports},1213:function(e,t,a){"use strict";var s=a(526),n=a(38),o=a(970),i=a(1113),r=a(1114),l=a(666),c=a(578);var m={components:{ReactionImage:i.a,ReactionLabel:r.a,UserAvatarLegacy:c.a,UserLink:c.c},mixins:[l.a],props:{comment:{type:Object,required:!0}},data:()=>({showReactions:!1,reactions:[],filterBy:null}),computed:{reaction(){var e;return null===(e=this.comment.currentUserReaction)||void 0===e?void 0:e.type},count(){return this.sortedCounts.reduce(((e,t)=>e+t.count),0)},sortedCounts(){return[...this.comment.reactionCounts].sort(((e,t)=>e.count!==t.count?t.count-e.count:o.b.indexOf(e.type)-o.b.indexOf(t.type)))},filteredCount(){return this.filterBy?this.comment.reactionCounts.find((e=>e.type===this.filterBy)).count:this.count},skeletonCount(){return this.reactions.length?0:Math.min(this.filteredCount,8)}},created(){this.initFilter()},beforeUpdate(){this.initFilter()},methods:{togglePopover(){this.showReactions=!this.showReactions,this.showReactions&&(Object(s.a)().record({category:"comment",action:"show_like_popover",label:"engagement"}),this.loadReactions())},isMe(e){var t;return e.userId===(null===(t=this.$store.getters["auth/me"])||void 0===t?void 0:t.userId)},async loadReactions(){this.reactions=[];const e=await Object(n.e)(this.comment.commentId,{type:this.filterBy||void 0,limit:200});this.reactions=e.items,this.$store.dispatch("comments/update",{optimistic:{commentId:this.comment.commentId,reactionCounts:e.counts}})},setFilter(e){this.filterBy=e,this.loadReactions()},initFilter(){this.filterBy=1===this.comment.reactionCounts.length?this.comment.reactionCounts[0].type:null}}},d=m,u=a(45),p=Object(u.a)(d,(function(){var e=this,t=e._self._c;return e.count?t("button",{staticClass:"comment-reactions overflow--wrap-off text--b",attrs:{title:"Reacciones"},on:{click:e.togglePopover}},[e._l(e.sortedCounts,(function(a,s){return t("span",{key:a.type,staticClass:"size--all-s",class:{"comment-reactions-count--inactive":a.type!==e.reaction,"space--l-2 space--fromW2-l-3":s}},[t("ReactionImage",{staticClass:"space--mr-1",attrs:{type:a.type}}),t("ReactionLabel",{attrs:{type:a.type}},[e._v(e._s(a.count))])],1)})),e.showReactions?t("BaseModal",{attrs:{active:e.showReactions,"min-width":"375","content-class":""},on:{"update:active":function(t){e.showReactions=t}},scopedSlots:e._u([{key:"default",fn:function({}){return[t("ModalHead",[e._v(e._s("Reacciones"))]),t("div",{staticClass:"flex border--b border--color-greyTint popover-space space--b-0"},[e.sortedCounts.length>1?t("button",{staticClass:"comment-reactionTab",class:{"comment-reactionTab--active text--color-blue":!e.filterBy},attrs:{disabled:!e.filterBy},on:{click:function(t){return e.setFilter(null)}}},[t("span",{staticClass:"lbox--v-2"},[e._v(e._s("Todas")+" "+e._s(e.count))])]):e._e(),e._l(e.sortedCounts,(function(a){return t("button",{key:a.type,attrs:{disabled:a.type===e.filterBy},on:{click:function(t){return e.setFilter(a.type)}}},[t("ReactionLabel",{staticClass:"comment-reactionTab",class:{"comment-reactionTab--active":a.type===e.filterBy},attrs:{type:a.type}},[t("span",{staticClass:"lbox--v-2"},[t("ReactionImage",{staticClass:"space--mr-1",attrs:{type:a.type,size:"l"}}),e._v(" "+e._s(a.count)+" ")],1)])],1)}))],2),t("ModalBody",{staticClass:"comment-reactionList"},[e._l(e.reactions,(function(a){return t("div",{key:a.user.userId,staticClass:"flex boxAlign-ai--all-c space--t-3"},[t("div",{staticClass:"aGrid"},[t("UserAvatarLegacy",{staticClass:"space--mr-1",attrs:{user:a.user,size:"nav"}}),t("ReactionImage",{staticClass:"aGrid-item aGrid-item--b-0 aGrid-item--r-0",attrs:{type:a.type}})],1),e.isMe(a.user)?t("UserLink",{staticClass:"text--b linkPlain space--ml-1",attrs:{user:a.user}},[e._v(" "+e._s("Tú")+" ")]):t("UserLink",{staticClass:"text--b linkPlain space--ml-1",attrs:{user:a.user}})],1)})),e._l(e.skeletonCount,(function(e){return t("div",{key:e,staticClass:"skeleton box--all-b space--t-3"},[t("img",{attrs:{src:"/assets/img/skeletons/reaction-user_9c035.svg",width:"124",height:"36",alt:""}})])}))],2)]}}],null,!1,4108394200)}):e._e()],2):e._e()}),[],!1,null,null,null);t.a=p.exports},1218:function(e,t,a){"use strict";var s=a(45),n=Object(s.a)({},(function(e,t){return e("div",{staticClass:"mute--text textBadge textBadge--greyBackground flex--inline boxAlign-ai--all-c size--all-s space--v-1 text--b space--mb-2 space--mr-2"},[e("BaseIcon",{staticClass:"space--mr-2",attrs:{width:"20",height:"20",name:t.data.attrs.icon}}),t._t("default")],2)}),[],!0,null,null,null);t.a=n.exports},1227:function(e,t,a){"use strict";a.r(t);var s=a(4),n=a(151),o=a(531),i=a(113),r=a(644),l=a(85),c=a(38),m=a(629),d=a(111),u=a(905),p=a(21);const h=e=>{let{threadId:t,newComments:a}=e;return{threadId:t,newComments:a,inReplyMode:null}},g=(e,t)=>{let{direction:a=(null==e?void 0:e.order),orderBy:s=(null==e?void 0:e.orderBy)}=t;return Object.assign({},e,{order:a,orderBy:s})},f={order:e=>{var t,a,s,n;return{orderBy:null!==(t=null===(a=e.pagination)||void 0===a?void 0:a.orderBy)&&void 0!==t?t:d.a,direction:null!==(s=null===(n=e.pagination)||void 0===n?void 0:n.order)&&void 0!==s?s:null}},orderRequestParams:(e,t)=>Object(d.k)(t.order),overridePagination:()=>g,pageItemCount:e=>Object(m.b)(e.pagination),hasComment:e=>t=>e.comments.items.some((e=>e.commentId===t)),thread:(e,t,a,s)=>s["threads/get"](e.threadId),count:(e,t)=>t.thread.commentCount,loadedCommentsReactionCount:e=>e.comments.items.reduce(((e,t)=>e+t.reactionCounts.reduce(((e,t)=>e+t.count),0)),0)},b={gotoComment(e,t){let{dispatch:a,state:s,getters:n}=e,{comment:o,page:i,shouldRefresh:r=!1}=t;o.threadId===s.threadId?((i===s.pagination.current&&!n.hasComment(o.commentId)||r)&&a("loadPage",i),a("gotoPage",{page:i,hash:Object(d.j)(o)})):p.l.push({name:"comments.permalink",params:{commentId:o.commentId}})},handlePinnedComment(e,t){let{dispatch:a}=e,{page:s,comment:n}=t;1===s&&!0===n.popular?a("gotoComment",{comment:n,page:s,shouldRefresh:!0}):a("loadPage",s)},gotoNewComment(e,t){let{state:a,dispatch:s,commit:n}=e,{comment:o,page:i}=t;a.comments.items.some((e=>e.commentId===o.commentId))&&n("comments/UPDATE",o,{root:!0}),s("gotoComment",{comment:o,page:i})},gotoPage(e,t){let{rootState:a,dispatch:s,getters:n,state:o}=e,{page:i,hash:r,direction:l,orderBy:c}=t;s("pagination/replace",n.overridePagination(o.pagination,{direction:l,orderBy:c})),p.l.push({query:Object.assign({},a.route.query,{page:1===i?void 0:i}),hash:r}).catch((()=>{}))},async loadPage(e,t){let{dispatch:a,state:s,getters:n,rootGetters:o}=e;t!==s.pagination.current&&a("pagination/setPage",t);const i=n.orderRequestParams.direction?n.orderRequestParams:null,r={queryCache:!!Object(d.r)()||10},l=await Object(c.h)(s.threadId,{page:t,order:i},!0,r).then((e=>{const t=e.threadId;return a=>t===e.threadId?a:Promise.reject()})(s)).finally(await a("loading/start")),{items:m,pagination:p}=l.comments;for(const e of m)e.addedReplies=[];if(a("pagination/replace",p),a("comments/replace",m),1===t){const{items:e}=l.commentsPinned;a("commentsPinned/replace",e)}!o["auth/me"]&&Object(u.b)(n.order)},replace(e,t){let{dispatch:a,commit:s}=e;s("REPLACE",t),a("pagination/replace",t.comments.pagination),a("comments/replace",t.comments.items),a("commentsPinned/replace",t.commentsPinned.items)},tearDown(e){let{dispatch:t}=e;t("comments/tearDown")}},v={REPLACE(e,t){Object.assign(e,h(t))},UPDATE_IN_REPLY_MODE(e,t){e.inReplyMode=t}};const C=Object(n.a)("threadComments",((e,t)=>{s.a.dispatch("comments/mergeFeatures",e.features),s.a.dispatch("users/update",{optimistic:e.me});return t(s.a.subscribeAction({after(e,t){"comments/setPopular"===e.type&&s.a.dispatch("threadComments/handlePinnedComment",{page:t.threadComments.pagination.current,comment:e.payload.comment})}})),(e=>{!function(e,t){if(!e)return;const a=t.items.find((t=>t.commentId===e.mainCommentId));a&&(a.loadedReplies=[...e.parentReplies.reverse(),e],delete e.parentReplies)}(e.comment,e.comments);const t=e.commentsPinned?e.commentsPinned.items:[];return{namespaced:!0,state:h(e),modules:{pagination:Object(r.a)(g(e.comments.pagination,Object(u.a)())),comments:Object(o.a)(l.a,e.comments.items,!0),commentsPinned:Object(o.a)(l.a,t,!0),loading:Object(i.a)()},getters:f,actions:b,mutations:v}})(e)}));var y=a(5),_=a(768),w=a(509),x=a(770),k=a(776),O=a(510),B=a(515),P=a(28),S=a(544),j=Object(y.defineComponent)({__name:"inline-feedback-form",props:{reasonRequired:{type:Boolean,default:!1},title:{default:"Esta función está en fase de pruebas. ¿Te resultó útil? ¡Cuéntanos!"},likeBtn:{default:"Útil"},likeLabel:{default:"¿Por qué te pareció útil?"},likePlaceholder:{default:"Me pareció útil porque..."},dislikeBtn:{default:"No es útil"},dislikeLabel:{default:"¿Por qué no te pareció útil?"},dislikePlaceholder:{default:"No me pareció útil porque..."}},emits:["submit"],setup(e,t){let{emit:a}=t;const s=e,{isLoading:n,setLoader:o}=Object(S.a)(),i=Object(y.ref)(""),r=Object(y.ref)(null),l=Object(y.computed)((()=>"boolean"==typeof r.value)),c=Object(y.computed)((()=>r.value?s.likePlaceholder:s.dislikePlaceholder)),m=Object(y.computed)((()=>r.value?s.likeLabel:s.dislikeLabel)),d=Object(y.computed)((()=>{const e={vote:r.value};if(i.value){const t=i.value.slice(0,1e3);e.reason=t}return e}));return{__sfc:!0,props:s,isLoading:n,setLoader:o,emit:a,reason:i,vote:r,handleSubmit:async()=>{await Object(P.d)(200).finally(o()),a("submit")},isVoted:l,reasonPlaceholder:c,reasonLabel:m,trackData:d,FormLabel:_.a,FormList:w.l,FormRow:w.o,FormTextarea:x.a,FormContent:k.a,BaseButton:O.a,BaseSpinner:B.a}}}),R=a(45),A=Object(R.a)(j,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.FormList,{staticClass:"space--mb-0",attrs:{wide:""}},[t(a.FormRow,{staticClass:"flex flex--wrap boxAlign-ai--all-c size--all-m",class:{"space--mb-2":a.isVoted}},[t("span",{staticClass:"space--toW3-mb-2 space--r-3"},[e._v(e._s(e.title))]),t("div",{staticClass:"flex flex--wrap"},[t(a.BaseButton,{directives:[{name:"track",rawName:"v-track:positive.click",arg:"positive",modifiers:{click:!0}}],staticClass:"flex boxAlign-ai--all-c space--mr-2",attrs:{selected:!0===a.vote,mode:!0===a.vote?"default":"brand",variant:"tertiary"},on:{click:function(e){a.vote=!0}}},[t("BaseIcon",{attrs:{name:"thumb-up",small:"",left:""}}),e._v(" "+e._s(e.likeBtn)+" ")],1),t(a.BaseButton,{directives:[{name:"track",rawName:"v-track:negative.click",arg:"negative",modifiers:{click:!0}}],staticClass:"flex boxAlign-ai--all-c",attrs:{selected:!1===a.vote,mode:!1===a.vote?"default":"brand",variant:"tertiary"},on:{click:function(e){a.vote=!1}}},[t("BaseIcon",{staticClass:"icon--flip-y",attrs:{name:"thumb-up",small:"",left:""}}),e._v(" "+e._s(e.dislikeBtn)+" ")],1)],1)]),a.isVoted?t(a.FormRow,[t(a.FormLabel,{staticClass:"text--normal size--all-m space--b-2",attrs:{optional:!e.reasonRequired}},[e._v(" "+e._s(a.reasonLabel)+" ")]),t(a.FormContent,[t(a.FormTextarea,{staticClass:"size--all-m input--noResize",attrs:{placeholder:a.reasonPlaceholder,name:"reason",rows:"3",disabled:a.isLoading},model:{value:a.reason,callback:function(e){a.reason=e},expression:"reason"}})],1)],1):e._e(),a.isVoted?t(a.FormRow,{staticClass:"flex boxAlign-jc--all-fe"},[t(a.BaseButton,{directives:[{name:"track",rawName:"v-track:sendFeedback.click",value:a.trackData,expression:"trackData",arg:"sendFeedback",modifiers:{click:!0}}],attrs:{variant:"primary",mode:"brand",seal:a.isLoading},on:{click:a.handleSubmit}},[a.isLoading?t(a.BaseSpinner,{staticClass:"spinner--centered"}):e._e(),e._v(" "+e._s("Escribe tus comentarios aquí")+" ")],1)],1):e._e()],1)}),[],!1,null,null,null).exports,I=Object(y.defineComponent)({__name:"inline-feedback",props:{isCompleted:{type:Boolean},formProps:null},setup:e=>({__sfc:!0,InlineFeedbackForm:A})}),T=Object(R.a)(I,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"flex flex--dir-col width--all-12 space--v-3 space--h-3 bRad--a",class:{"border border--color-green border--w-2":e.isCompleted,"bg--color-greyPanel":!e.isCompleted}},[e.isCompleted?t("div",{staticClass:"flex space--mv-2 text--color-charcoalShade"},[t("BaseIcon",{staticClass:"text--color-green",attrs:{name:"thumb-up",left:""}}),t("p",{staticClass:"size--all-m"},[e._v(" "+e._s("¡Gracias por compartir tu opinión con nosotros!")+" ")])],1):t(a.InlineFeedbackForm,e._g(e._b({},"InlineFeedbackForm",e.formProps,!1),e.$listeners))],1)}),[],!1,null,null,null).exports,L=a(14);var M=Object(y.defineComponent)({__name:"comment-summary-feedback",props:{threadId:null},setup(e){const t=e,{setStorage:a,storage:s}=((e,t,a)=>{const s=new L.a(e,a),n=Object(y.ref)(s.get().value||t);return{storage:n,setStorage:e=>{n.value=e,s.set({value:e})}}})("commentSummaryFeedback",[]),n=Object(y.computed)((()=>s.value.includes(t.threadId)));return{__sfc:!0,formProps:{title:"El resumen de calificaciones está en su versión de pruebas. ¿Te resultó útil? ¡Cuéntanos!",likeBtn:"Útil",likeLabel:"¿Por qué te pareció útil?",likePlaceholder:"Me pareció útil porque...",dislikeBtn:"No es útil",dislikeLabel:"¿Por qué no te pareció útil?",dislikePlaceholder:"No me pareció útil porque..."},setStorage:a,storage:s,props:t,markAsCompleted:()=>a([...s.value,t.threadId]),isCompleted:n,InlineFeedback:T}}}),$=Object(R.a)(M,(function(){var e=this._self._c,t=this._self._setupProxy;return e(t.InlineFeedback,{directives:[{name:"track",rawName:"v-track:commentSummaryFeedback",arg:"commentSummaryFeedback"}],attrs:{"form-props":t.formProps,"is-completed":t.isCompleted},on:{submit:t.markAsCompleted}})}),[],!1,null,null,null).exports,N=a(814),U=a(632),E=Object(y.defineComponent)({__name:"comment-summary-review",props:{commentSummary:null},setup:e=>({__sfc:!0,BaseBadge:N.a,StarRating:U.a})}),D=Object(R.a)(E,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[t("div",{staticClass:"space--b-4 cept-comments-summary"},[t("div",{staticClass:"flex boxAl--ai-c"},[t("p",{staticClass:"size--all-xl text--b space--r-2"},[e._v(" "+e._s(e.commentSummary.title)+" ")]),t(a.BaseBadge,{staticClass:"textBadge--greyBackground text--color-charcoal size--all-xs flex`"},[e._v("Beta")])],1),t("p",{staticClass:"size--all-m text--color-greyShade"},[e._v(e._s(e.commentSummary.subtitle))])]),t("ul",{staticClass:"space--b-3"},e._l(e.commentSummary.criteria,(function({title:s,rating:n,explanation:o}){return t("li",{key:s,staticClass:"space--b-3"},[t("div",{staticClass:"flex boxAlign-ai--all-c space--b-1"},[t("p",{staticClass:"space--r-1 size--all-m text--b"},[e._v(" "+e._s(s)+" ")]),t(a.StarRating,{attrs:{rating:n,disabled:""}})],1),t("span",{staticClass:"size--all-s text--color-greyShade"},[e._v(e._s(o))])])})),0),e._t("default")],2)}),[],!1,null,null,null).exports,F=Object(y.defineComponent)({__name:"comment-summary",props:{thread:null,commentSummary:null},setup:e=>({__sfc:!0,CommentSummaryFeedback:$,CommentSummaryReview:D})}),z=Object(R.a)(F,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.CommentSummaryReview,{attrs:{"comment-summary":e.commentSummary}},[t(a.CommentSummaryFeedback,{attrs:{"thread-id":e.thread.threadId}})],1)}),[],!1,null,null,null).exports,q=a(518),V=a(516),H={mixins:[q.a,V.a],inheritAttrs:!1,props:{popoverClasses:{type:Array,default:()=>[]}},computed:{popoverLayout:()=>[{preset:"s",x:"100%",top:{offset:0},right:{target:"$self"}},{preset:"n",x:"100%",bottom:{offset:0},right:{target:"$self"}}]}},W=Object(R.a)(H,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex--inline"},[t("button",{directives:[{name:"popover",rawName:"v-popover",value:e.popoverLayout,expression:"popoverLayout"}],staticClass:"space--t-2 space--fromW2-t-0"},[t("span",{staticClass:"flex boxAlign-ai--all-c"},[t("span",[e._v(e._s(e.selectedOption?e.selectedOption[e.textKey]:e.placeholder))]),t("BaseIcon",{staticClass:"space--ml-1",attrs:{name:"dropdown"}})],1),t("BasePopover",{attrs:{arrow:!1,"layer-class":"popover--dropdown","content-class":e.popoverClasses},scopedSlots:e._u([{key:"default",fn:function({close:a}){return[t("ul",{staticClass:"dropdown-itemList text--b"},e._l(e.options,(function(s,n){return t("li",{key:n,class:{"border--b border--color-greyTint":n!==e.options.length-1}},[t("button",{staticClass:"flex size--all-s space--a-3 width--all-12 space--v-3 space--h-3 text--color-charcoalTint link--hover-brandPrimary",attrs:{value:s[e.valueKey]},on:{click:function(t){e.selectedValue=s[e.valueKey],a()}}},[e._v(" "+e._s(s[e.textKey])+" ")])])})),0)]}}])})],1)])}),[],!1,null,null,null).exports,G=a(93),K=a(1);const Y=[{order:{orderBy:d.a,direction:K.s.Descending},value:"newest_first",text:"Descendente"},{order:{orderBy:d.a,direction:K.s.Ascending},value:"oldest_first",text:"Ascendente"},{order:{orderBy:"helpful",direction:K.s.Descending},value:"helpful_first",text:"El más útil"},{order:{orderBy:"top",direction:K.s.Descending},value:"top_first",text:"Comentarios top primero"}];var J={components:{SelectDropdown:W},computed:Object.assign({},Object(G.e)("threadComments",["loading"]),Object(G.c)("threadComments",["order"]),{options:()=>Y,selected(){return this.options.find((e=>{let{direction:t,orderBy:a=d.a}=e;return e=>{let{order:s}=e;return s.orderBy===a&&s.direction===t}})(this.order))}}),methods:Object.assign({},Object(G.b)("threadComments",["gotoPage"]),{async update(e){const t=this.options.find((t=>{let{value:a}=t;return a===e}));this.gotoPage(Object.assign({page:1,hash:"#comments"},t.order)),await this.$nextTick(),this.$el.dispatchEvent(new Event("change",{bubbles:!0}))}})},Q=Object(R.a)(J,(function(){var e=this;return(0,e._self._c)("SelectDropdown",{directives:[{name:"track",rawName:"v-track:sort.change.change-ga",value:{by:e.selected.value},expression:"{ by: selected.value }",arg:"sort",modifiers:{change:!0,"change-ga":!0}}],staticClass:"text--b text--color-brandPrimary",attrs:{options:e.options,value:e.selected.value,mode:e.loading.busy?"disabled":null,"popover-classes":[""]},on:{update:e.update}})}),[],!1,null,null,null).exports,X=a(103),Z=a(102),ee=a(507),te={components:{BaseButton:ee.a},mixins:[X.a],computed:{thread(){return this.$store.getters["threads/get"](this.$route.params.threadId)},config(){return this.thread.subscribed?{label:"Desuscribirse",trackName:"unsubscribe",iconName:"bell-active",ceptClass:""}:{label:"Suscribirse",trackName:"subscribe",iconName:"bell",ceptClass:""}}},created(){this.guarded.config={login:{source:"subscribe",trackAction:"subscribe"}}},methods:Object.assign({},Object(G.b)("threads",["toggleSubscription"]),{toggle(){this.guard((async()=>{const e=!this.thread.subscribed;Object(Z.g)(this.thread.threadId,this.toggleSubscription({subscribed:e,threadId:this.thread.threadId}))}))}})},ae=Object(R.a)(te,(function(){var e=this,t=e._self._c;return t("BaseButton",{directives:[{name:"track",rawName:"v-track:[config.trackName].click",arg:e.config.trackName,modifiers:{click:!0}}],attrs:{variant:"tertiary",mode:"default",size:"s",square:"",selected:e.thread.subscribed,title:e.config.label},on:{click:e.toggle}},[t("BaseIcon",{class:e.config.ceptClass,attrs:{name:e.config.iconName,width:"20",height:"20"}})],1)}),[],!1,null,null,null).exports,se={components:{ThreadCommentsSort:Q,CommentBadgeNew:Object(R.a)({},(function(e,t){return e("span",{staticClass:"textBadge size--all-s textBadge--primaryPale bRad--circle overflow--hidden",class:t.props.classes},[t._t("default",(function(){return[t._v(t._s("Nuevo"))]}))],2)}),[],!0,null,null,null).exports,CommentsSubscribe:ae},computed:Object.assign({},Object(G.e)("threadComments",["newComments","comments"]),Object(G.c)("threadComments",["count"]),{hasNewComments(){var e;return(null===(e=this.newComments)||void 0===e?void 0:e.count)>0}})},ne=Object(R.a)(se,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"threadItem-header space--b-3 flex"},[t("div",[t("h2",{staticClass:"flex--inline boxAlign-ai--all-c"},[t("span",{staticClass:"size--all-l size--fromW3-xl text--b overflow--wrap-off"},[e._v(" "+e._s(e.count)+" "+e._s(e.$t(" Comentario| Comentarios",{count:e.count}))+" ")]),e.hasNewComments?t("CommentBadgeNew",{attrs:{classes:"space--ml-1 space--mr-0 "}},[e._v(" "+e._s(e.newComments.count)+" "+e._s(e.$t("nuevo| nuevos",{count:e.newComments.count}))+" ")]):e._e()],1),e.count>2?t("span",{staticClass:"size--all-m size--fromW3-l overflow--wrap-off"},[e._v(" "+e._s("Ordenados")+" "),t("ThreadCommentsSort",{staticClass:"vAlign--all-bl"})],1):e._e()]),t("CommentsSubscribe",{staticClass:"space--ml-a"})],1)}),[],!1,null,null,null).exports,oe=a(1116),ie=a(844),re={components:{BaseComment:oe.a,BaseAnchor:ie.a},mixins:[],props:{descending:{type:Boolean,required:!0},showUnreadMarker:{type:Boolean,default:!0},comments:{type:Array,required:!0},newComments:{type:Object,default:null}},data:()=>({scrollTargetId:null}),computed:{canSeeDeleted(){return this.$store.state.comments.features.adminTools.seeDeleted},visibleComments(){return this.canSeeDeleted?this.comments:this.comments.filter((e=>!Object(d.n)(e)))}},methods:{getCeptScrollTarget(e){return this.scrollTargetId,""},onScrollToView(e){this.scrollTargetId=e,Object(d.t)()}}},le=Object(R.a)(re,(function(){var e=this,t=e._self._c;return t("ol",{staticClass:"commentList commentList--anchored"},e._l(e.visibleComments,(function(a){return t("BaseAnchor",{key:a.commentId,class:e.getCeptScrollTarget(a.commentId),attrs:{id:`comment-${a.commentId}`,"data-id":a.commentId},on:{scrolled:function(t){return e.onScrollToView(a.commentId)}},scopedSlots:e._u([{key:"default",fn:function({isTarget:e}){return t("li",{staticClass:"commentList-item"},[t("BaseComment",{staticClass:"commentList-comment",class:{"commentList-comment--target":e},attrs:{comment:a,"needs-bigger-loads":e}})],1)}}],null,!0)})})),1)}),[],!1,null,null,null).exports,ce={components:{CommentSkeleton:a(1112).a},props:{count:{type:Number,required:!0}}},me=Object(R.a)(ce,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"commentList"},e._l(e.count,(function(e){return t("CommentSkeleton",{key:e,staticClass:"commentList-item"})})),1)}),[],!1,null,null,null).exports,de=a(24),ue={components:{CommentList:le,CommentListSkeleton:me,BaseAnchor:ie.a},data:()=>({maxRendered:0}),computed:Object.assign({},Object(G.e)("threadComments",["pagination","newComments","comments","commentsPinned","loading"]),Object(G.c)("threadComments",["pageItemCount","order"]),{isMaxed(){return this.maxRendered>=this.comments.items.length},isFirstPage(){return 1===this.pagination.current},items(){return this.isMaxed?this.comments.items:this.comments.items.slice(0,this.maxRendered)},itemsWithCommentsPinnedOnTop(){return[...this.commentsPinned.items,...this.items.filter((e=>!1===e.isPinned))]},paginationVars(){var e,t;return[this.$route.query.page,null===(e=this.order)||void 0===e?void 0:e.direction,null===(t=this.order)||void 0===t?void 0:t.orderBy]},isUnreadMarkerAvailable(){var e,t;return null===(null===(e=this.order)||void 0===e?void 0:e.orderBy)||(null===(t=this.order)||void 0===t?void 0:t.orderBy)===d.a},isDescending(){return this.order.direction===K.s.Descending}}),watch:{paginationVars:{deep:!0,handler(e,t){const[a=1,s,n]=e,[o=1,i,r]=t;i&&(parseInt(a)===parseInt(o)&&s===i&&n===r||this.loadPage(parseInt(a)))}}},mounted(){this.fillItems(),this.initialScrolling()},methods:Object.assign({},Object(G.b)("threadComments",["loadPage"]),{async fillItems(){for(;this.maxRendered<this.pagination.size;)this.maxRendered>0&&await Object(P.c)(),this.maxRendered=Math.min(this.maxRendered+5,this.pagination.size)},async initialScrolling(){"#comments"===this.$router.currentRoute.hash&&(de.e&&(history.scrollRestoration="manual"),document.getElementById("comments").scrollIntoView())}})},pe=Object(R.a)(ue,(function(){var e=this,t=e._self._c;return e.pagination.count?t("BaseAnchor",{staticClass:"anchorTarget",attrs:{id:"thread-comments"}},[t("section",{staticClass:"boxSec-div"},[e.loading.busy?t("CommentListSkeleton",{attrs:{count:e.pageItemCount}}):t("CommentList",{attrs:{comments:e.isFirstPage?e.itemsWithCommentsPinnedOnTop:e.items,"new-comments":e.newComments,descending:e.isDescending,"show-unread-marker":e.isUnreadMarkerAvailable}})],1)]):e._e()}),[],!1,null,null,null).exports,he=a(895),ge=a(975),fe=a(526),be=a(654),ve=a(17),Ce=a(537),ye={components:{BaseSpinner:B.a,BaseButton:ee.a,CommentWysiwygSkeleton:ge.a,UserProfileAvatarLegacy:he.a,BaseAnchor:ie.a,ActivationModal:()=>a.e(38).then(a.bind(null,675)),CommentWysiwyg:()=>Promise.all([a.e(165),a.e(1),a.e(2),a.e(10),a.e(62)]).then(a.bind(null,1277)),CommentSubmitEmpty:()=>a.e(59).then(a.bind(null,1350)),CommentSubmitNewbie:()=>a.e(60).then(a.bind(null,1368)),BaseRecaptcha:()=>a.e(134).then(a.bind(null,1338)),CommentSectionLocked:()=>a.e(58).then(a.bind(null,1351))},props:{thread:{type:Object,required:!0},formModifier:{type:String,default:"space--b-4"}},data:()=>({commentContent:null,loading:!1,active:!1,saving:!1,showActivationModal:!1}),computed:{buttonDisabled(){return!this.commentContent.content},user(){return this.$store.getters["auth/me"]},features(){return this.$store.state.comments.features.commentForm},hasComments(){return this.$store.state.threadComments.pagination.count>0},isNewbieThread(){const{threadTypeId:e,threadId:t,user:a}=this.thread;return t===a.firstApprovedDealOrVoucherId&&(Object(ve.r)(e)||Object(ve.y)(e))}},async created(){this.ready=new Promise((e=>{this.$once("ready",e)}))},methods:Object.assign({},Object(G.b)("threads",["refreshSubscriptionStatus"]),{async activate(){if(!this.active)try{if(await Object(X.b)({login:{source:"comment"}}),Object(Ce.c)(this.user))return void(this.showActivationModal=!0);await this.$options.components.CommentWysiwyg().finally(Object(be.a)(this,"loading")),this.commentContent=Object(d.i)(this.thread.threadId),this.active=!0,await this.ready}catch(e){if(e instanceof Error)throw e}},async createComment(){try{const e=this.features.captcha?await this.$refs.captcha.execute():null,{comment:t,on:a}=await Object(c.l)(Object.assign({},this.commentContent,{mentions:this.$refs.wysiwyg.updateMentions(),shortcodes:this.$refs.wysiwyg.updateShortcodes()}),e).finally(Object(be.a)(this,"saving"));await this.reset(),this.track("submit_comment","contribution"),this.$emit("create",{comment:t,page:a}),this.active=!1,this.refreshSubscriptionStatus(this.thread.threadId)}catch(e){}},async reset(){this.commentContent=Object(d.i)(this.thread.threadId),await this.$refs.wysiwyg.clearRestore(),this.features.captcha&&this.$refs.captcha.reset()},track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"engagement";Object(fe.a)().record({category:"comment_add_form",action:e,label:t})}})},_e=ye,we=Object(R.a)(_e,(function(){var e=this,t=e._self._c;return e.thread.isLocked?t("CommentSectionLocked",{staticClass:"boxSec-div",attrs:{"thread-type":e.thread.type}}):t("BaseAnchor",{staticClass:"anchorTarget",attrs:{id:"comment-form"}},[e.hasComments||e.active?t("section",{staticClass:"comment-hPadding",class:e.formModifier},[e.active&&e.isNewbieThread?t("CommentSubmitNewbie",{staticClass:"space--mb-3",attrs:{thread:e.thread}}):e._e(),t("div",{staticClass:"flex boxAlign-jc--all-c"},[t("UserProfileAvatarLegacy",{directives:[{name:"track",rawName:"v-track:showUserShortProfile.click",arg:"showUserShortProfile",modifiers:{click:!0}}],staticClass:"comment-avatar flex--shrink-0",attrs:{user:e.user,"avatar-class":"width--all-12 height--all-full"}}),t("div",{staticClass:"flex--grow-1"},[e.active?[t("CommentWysiwyg",e._b({ref:"wysiwyg",attrs:{disabled:e.saving,placeholder:"Comparte tu opinión..."},on:{ready:function(t){return e.$emit("ready")}},scopedSlots:e._u([{key:"action",fn:function(){return[t("BaseButton",{staticClass:"button--toW3-square space--ml-a",attrs:{variant:"primary",mode:"brand",seal:e.saving,disabled:e.buttonDisabled},on:{click:e.createComment}},[e.saving?t("BaseSpinner",{staticClass:"spinner--centered"}):e._e(),t("BaseIcon",{attrs:{name:"send",width:"20",height:"20"}}),t("span",{staticClass:"hide--toW3 space--ml-2"},[e._v(e._s("Comentar"))])],1)]},proxy:!0}],null,!1,3518054446)},"CommentWysiwyg",e.commentContent,!1,!0)),e.features.captcha?t("BaseRecaptcha",{ref:"captcha"}):e._e()]:t("CommentWysiwygSkeleton",{attrs:{loading:e.loading,placeholder:"Comparte tu opinión..."},on:{activate:e.activate},scopedSlots:e._u([{key:"activationModal",fn:function(){return[e.showActivationModal?t("ActivationModal",{attrs:{user:e.user,active:e.showActivationModal},on:{"update:active":function(t){e.showActivationModal=t}}}):e._e()]},proxy:!0}])})],2)],1)],1):t("CommentSubmitEmpty",{on:{cta:e.activate},scopedSlots:e._u([{key:"activationModal",fn:function(){return[e.showActivationModal?t("ActivationModal",{attrs:{user:e.user,active:e.showActivationModal},on:{"update:active":function(t){e.showActivationModal=t}}}):e._e()]},proxy:!0}],null,!1,3011860649)})],1)}),[],!1,null,null,null).exports,xe=a(657),ke=a(108),Oe={components:{JsonLD:a(781).a},computed:Object.assign({},Object(G.e)("threadComments",["comments"]),Object(G.c)("threadComments",["thread","count","loadedCommentsReactionCount"]),{schemaEnabled(){return!Object(ve.t)(this.thread.threadTypeId)},mainThreadGroupName(){const e=Object(Z.c)(this.thread);return(null==e?void 0:e.threadGroupName)||""},schema(){return{"@context":"https://schema.org","@type":"Article",author:{"@type":"Person",name:this.thread.user.username},publisher:{"@type":"Organization",brand:"Promodescuentos",logo:"https://www.promodescuentos.com/assets/images/schema.org/organisation/promodescuentos.png"},mainEntityOfPage:{"@type":"WebPage","@id":this.thread.url},datePublished:new Date(Object(ke.e)(this.thread.publishedAt)).toISOString(),dateModified:new Date(Object(ke.e)(this.thread.updatedAt)).toISOString(),headline:this.thread.title,description:this.removeProfileLinks(this.thread.threadDetails.preparedHtmlDescription),comment:this.commentsSchema,commentCount:this.count,interactionStatistic:this.loadedCommentsReactionCount,articleSection:this.mainThreadGroupName}},commentsSchema(){return this.comments.items.map((e=>({"@type":"Comment","@id":e.url,author:{"@type":"Person",name:e.user.username},datePublished:new Date(Object(ke.e)(e.createdAtTs)).toISOString(),text:e.preparedHtmlContent})))}}),methods:{removeProfileLinks:e=>e.replace(/<a href=[^>]+\/profile[^>]+>([^<]+)<\/a>/gi,"$1")}},Be=Object(R.a)(Oe,(function(){var e=this,t=e._self._c;return e.schemaEnabled?t("JsonLD",{attrs:{schema:e.schema}}):e._e()}),[],!1,null,null,null).exports;const Pe={components:{CommentSectionArticleSchema:Be,ThreadComments:pe,ThreadCommentsHeader:ne,CommentSubmit:we,ThePagination:xe.a},computed:Object.assign({},Object(G.e)("threadComments",["pagination","threadId","comments"]),Object(G.c)("threadComments",["hasComment","thread","count"]),{canComment(){return Object(d.b)(this.threadId)},isPaginated(){return this.pagination.last>1},showSubmitAbove(){return 1===this.pagination.current},showSubmitBottom(){return!this.showSubmitAbove||this.canComment&&this.comments.items.length>2},showBottomBorder(){return this.showSubmitBottom&&!this.isPaginated},showCommentSummary(){return this.thread.isCommentSummaryEnabled&&this.commentSummary}}),methods:Object.assign({},Object(G.b)("threadComments",["gotoNewComment","gotoPage"]))};var Se=Object.assign(Pe,{__name:"comment-section",props:{commentSummary:{type:Object,required:!1},commentSection:{type:Object,required:!0}},setup(e){const t=e;return C((()=>t.commentSection)),{__sfc:!0,props:t,ThreadCommentsHeader:ne,ThreadComments:pe,CommentSubmit:we,ThePagination:xe.a,CommentSectionArticleSchema:Be,CommentSummary:z}}}),je=Object(R.a)(Se,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("section",{directives:[{name:"track",rawName:"v-track:comments",value:{page:e.pagination.current},expression:"{ page: pagination.current }",arg:"comments"}],staticClass:"threadItem-card bg--main overflow--hidden bRad--fromW4-a space--b-0"},[e.showCommentSummary?t(a.CommentSummary,{staticClass:"space--h-3 space--fromW3-h-4 space--b-5 boxSec-divB",attrs:{thread:e.thread,"comment-summary":e.commentSummary}}):e._e(),t(a.ThreadCommentsHeader,{class:{"space--t-4":e.showCommentSummary}}),e.showSubmitAbove?t(a.CommentSubmit,{attrs:{thread:e.thread},on:{create:e.gotoNewComment}}):e._e(),t(a.ThreadComments,{class:{"boxSec-divB":e.showBottomBorder}}),e.isPaginated?t(a.ThePagination,{staticClass:"space--v-2 bg--color-greyPanel",attrs:{pagination:e.pagination,"current-page-btn-mode":"secondary","button-class":"comments-pagi-page","ga-category":"pagination type:comment"},on:{update:function(t){return e.gotoPage({page:arguments[0],hash:"#comments"})}}}):e._e(),e.showSubmitBottom?t(a.CommentSubmit,{attrs:{"form-modifier":"space--v-4",thread:e.thread},on:{create:e.gotoNewComment}}):e._e(),t(a.CommentSectionArticleSchema)],1)}),[],!1,null,null,null);t.default=je.exports},518:function(e,t,a){"use strict";a.d(t,"b",(function(){return n}));const s={model:{event:"update"},props:{name:{type:String,default:""},value:{type:[String,Number,Object],default:null},placeholder:{type:String,default:""},options:{type:Array,default:()=>[]},mode:{type:String,default:""},valueKey:{type:String,default:"value"},textKey:{type:String,default:"text"},retainValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{selectedValue:{get(){return this.value},set(e){e!==this.value&&this.$emit("update",e)}},selectedOption(){return this.options.find((e=>e[this.valueKey]===this.value))}}},n={mixins:[s],props:{value:{type:Array,default:()=>[]},separator:{type:String,default:","},open:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{expanded:this.open,filterValue:""}},computed:{filteredOptions(){return this.options.filter((e=>e[this.textKey].toLowerCase().includes(this.filterValue.toLowerCase())))}},methods:{toggleLayer(){this.disabled||(this.expanded=!this.expanded)},expandLayer(){this.expanded=!1},setFilterValue(e){this.filterValue=e}}};t.a=s},565:function(e,t,a){"use strict";(function(e){var s=a(570),n=a.n(s);const o=["star-empty","star-half","star"],i=["s","m","l"];t.a={props:{rating:{type:Number,required:!0},max:{type:Number,default:5},color:{type:String,default:"yellow"},offStarColor:{type:String},offStarType:{type:String,default:"star",validator:e=>-1!==o.indexOf(e)},size:{validator:e=>-1!==i.indexOf(e),default:"m"},width:{type:String,default:""},height:{type:String,default:""},iconClass:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{classArray(){return[this.iconClass,"aGrid-item--t-0",{"seal--pointer-on":!this.disabled,clickable:!this.disabled}]},level(){return Math.round(2*this.rating)},label(){return e("1 Estrellas|:count Estrellas",{count:this.level/2})},icons(){return Array.from({length:this.max},((e,t)=>{const a=n()(this.level-2*t,0,2),s=0===a,i=o.findIndex((e=>e===this.offStarType)),r=s&&this.offStarColor?this.offStarColor:this.color;return{name:o[s&&this.offStarColor?i:a],color:r}}))}}}}).call(this,a(70).translation)},632:function(e,t,a){"use strict";var s=a(565).a,n=a(45),o=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("span",e._g({staticClass:"flex",attrs:{"aria-label":e.label}},e.$listeners),e._l(e.icons,(function(a,s){return t("BaseIcon",{key:s,class:e.classArray,attrs:{name:a.name,color:a.color,small:"s"===e.size,large:"l"===e.size,width:e.width,height:e.height},nativeOn:{mouseenter:function(t){return e.$emit("star-hovered",s)}}})})),1)}),[],!1,null,null,null);t.a=o.exports},644:function(e,t,a){"use strict";var s=a(629);const n={replace(e,t){let{commit:a}=e;a("REPLACE",t)},setPage(e,t){let{commit:a,state:s}=e;a("REPLACE",Object.assign({},s,{current:t}))},setCount(e,t){let{commit:a,state:s}=e;a("REPLACE",Object.assign({},s,{count:t}))}},o={REPLACE(e,t){Object.assign(e,Object(s.a)(t))}};t.a=e=>({namespaced:!0,state:Object(s.a)(e||{}),actions:n,mutations:o})},650:function(e,t,a){"use strict";a.r(t);var s={props:{lastPage:{type:[Number,String],required:!0},currentPage:{type:[Number,String],required:!0}},data:()=>({selectedPage:null}),computed:{visiblePages(){return Array.from({length:Math.min(this.lastPage,1e3)},((e,t)=>"".concat(t+1)))}},methods:{selectPage(e){this.selectedPage=e,this.$emit("update",e)}}},n=a(45),o=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPage,expression:"selectedPage"}],staticClass:"input border--b border--color-blue bRad--b-r width--ctrl-s hide--touch-on",attrs:{placeholder:`${e.lastPage}…`,max:e.lastPage,type:"number",min:"1"},domProps:{value:e.selectedPage},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selectPage(e.selectedPage)},input:function(t){t.target.composing||(e.selectedPage=t.target.value)}}}),t("ul",{staticClass:"overflow--scrollY pagi-popover--list width--ctrl-s"},e._l(e.visiblePages,(function(a){return t("li",{key:a,class:{"boxSec-div":"1"!==a}},[a===e.currentPage?t("div",{staticClass:"space--v-1 hAlign--all-c text--b text--color-brandPrimary"},[e._v(" "+e._s(a)+" ")]):t("button",{staticClass:"clickable width--all-12 space--v-1 hAlign--all-c text--b",on:{click:function(t){return e.selectPage(a)}}},[e._v(" "+e._s(a)+" ")])])})),0),"1"!==e.selectedPage?t("input",{attrs:{type:"hidden",name:"page"},domProps:{value:e.selectedPage}}):e._e()])}),[],!1,null,null,null);t.default=o.exports},654:function(e,t,a){"use strict";t.a=(e,t)=>(e[t]=!0,()=>{e[t]=!1})},657:function(e,t,a){"use strict";var s=a(650),n=a(526),o=a(516),i=a(507),r={components:{PaginationPopover:s.default,BaseButton:i.a},mixins:[o.a],props:{pagination:{type:Object,required:!0},buttonClass:{type:String,default:""},currentPageBtnClass:{type:String,default:""},currentPageBtnMode:{type:String,default:"none"},gaCategory:{type:String,default:"pagination"},ellipsisStyle:{type:Object,default:()=>({ellipsisLeft:"",ellipsisRight:""})}},methods:{loadPage(e,t){Object(n.a)().record({category:this.gaCategory,action:e,label:"engagement"}),this.$emit("update",t)}}},l=a(45),c=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("nav",{staticClass:"flex boxAlign-jc--all-c boxAlign-ai--all-c text--b",attrs:{role:"navigation","aria-label":"Paginación"}},[t("button",{staticClass:"space--h-1",class:[e.buttonClass],attrs:{type:"button","aria-label":"Primer página",disabled:1===e.pagination.current},on:{click:function(t){return e.loadPage("goto_first_page",1)}}},[e._v(" 1 ")]),t("span",{staticClass:"mute--text space--r-3",class:e.ellipsisStyle.ellipsisLeft},[e._v("…")]),t("BaseButton",{attrs:{variant:"tertiary",mode:"default",size:"s",square:"","aria-label":"Página anterior",disabled:!e.pagination.previous},on:{click:function(t){return e.loadPage("goto_previous_page",e.pagination.previous)}}},[t("BaseIcon",{attrs:{name:"left"}})],1),t("BaseButton",{directives:[{name:"popover",rawName:"v-popover.n.s",modifiers:{n:!0,s:!0}}],staticClass:"space--h-3",class:[e.currentPageBtnClass],attrs:{variant:"text",mode:e.currentPageBtnMode,type:"button",size:"s","aria-label":"Página actual"}},[t("span",{staticClass:"hide--toW2"},[e._v(" "+e._s(e.$t("Página :number",{replaces:{number:e.pagination.current}}))+" ")]),t("span",{staticClass:"hide--fromW2"},[e._v(e._s(e.pagination.current))]),t("BasePopover",{scopedSlots:e._u([{key:"default",fn:function({close:a}){return[t("PaginationPopover",{attrs:{"last-page":e.pagination.last,"current-page":e.pagination.current},on:{update:function(t){e.loadPage("goto_page",t),a()}}})]}}])})],1),t("BaseButton",{attrs:{variant:"tertiary",mode:"default",size:"s",square:"","aria-label":"Siguiente página",disabled:!e.pagination.next},on:{click:function(t){return e.loadPage("goto_next_page",e.pagination.next)}}},[t("BaseIcon",{attrs:{name:"right"}})],1),t("span",{staticClass:"mute--text space--l-3",class:e.ellipsisStyle.ellipsisRight},[e._v("…")]),t("button",{staticClass:"space--h-1",class:[e.buttonClass],attrs:{type:"button","aria-label":"Última página",disabled:e.pagination.current===e.pagination.last},on:{click:function(t){return e.loadPage("goto_last_page",e.pagination.last)}}},[e._v(" "+e._s(e.pagination.last)+" ")])],1)}),[],!1,null,null,null);t.a=c.exports},661:function(e,t,a){"use strict";var s=a(571),n={name:"IntersectionTarget",inject:{intersectionBoundaryKey:{default:null}},props:{active:{type:Boolean,default:!0},use:{type:String,default:null},once:{type:Boolean,default:!0},value:{type:Boolean,default:!1}},watch:{active:"updateActivation"},mounted(){this.updateActivation()},beforeDestroy(){this.active&&this.boundary.remove(this)},methods:{updateActivation(){var e;this.active?(this.boundary=s.a.get(this.use||this.intersectionBoundaryKey||"viewport"),null===(e=this.boundary)||void 0===e||e.register(this)):this.boundary&&this.boundary.remove(this)},on(){this.once&&this.boundary.remove(this),this.$emit("intersecting"),this.$emit("input",!0)},off(){this.$emit("notIntersecting")}},render(){return this.$slots.default?this.$slots.default[0]:null}},o=a(45),i=Object(o.a)(n,undefined,undefined,!1,null,null,null);t.a=i.exports},666:function(e,t,a){"use strict";var s=a(538),n=a(519),o=a(517),i=a(524),r=a(512),l=a(520);t.a={components:{BaseModal:s.a,ModalHead:n.a,ModalBody:o.a,ModalFooter:i.a,ModalClose:r.a,ModalAsync:l.a}}},844:function(e,t,a){"use strict";var s=a(28),n={name:"BaseAnchor",props:{enabled:{type:Boolean,default:!0}},computed:{hash(){return"#".concat(this.$attrs.id)},isTarget(){return this.enabled&&this.$route.hash===this.hash}},watch:{isTarget(e){e&&this.scrollTo()}},mounted(){this.scrollTo()},methods:{async scrollTo(){this.isTarget&&(await this.$nextTick(),await Object(s.d)(200),this.$el.scrollIntoView(),this.$emit("scrolled"))}},render(){return this.$scopedSlots.default({id:this.$attrs.id,isTarget:this.isTarget})}},o=a(45),i=Object(o.a)(n,undefined,undefined,!1,null,null,null);t.a=i.exports},854:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s={preset:"n",transition:{enterActiveClass:"animation--fadeFromBottom"}}},895:function(e,t,a){"use strict";var s=a(578),n={components:{UserShortProfileTrigger:a(545).a,UserAvatarLegacy:s.a,UserBadge:s.b},props:{user:{type:Object,default:null},avatarProps:{type:Object,default:null},avatarClass:{type:String,default:null},wrapperClass:{type:String,default:null},noBadge:{type:Boolean,default:!1},showUserInfo:{type:Boolean,default:!0}},computed:{showProfile(){return this.user&&!this.user.isDeletedOrPendingDeletion},showBadge(){return!this.noBadge&&this.user.bestBadge}},methods:{handleClick(e,t){this.showUserInfo&&e(t)}}},o=a(45),i=Object(o.a)(n,(function(){var e=this,t=e._self._c;return e.showProfile?t("UserShortProfileTrigger",{attrs:{tag:"span",user:e.user},scopedSlots:e._u([{key:"default",fn:function({popoverHandler:a}){return[t("span",{directives:[{name:"track",rawName:"v-track:showUserShortProfile.click",arg:"showUserShortProfile",modifiers:{click:!0}}],staticClass:"box--all-i aGrid clickable",class:e.wrapperClass,on:{click:function(t){return e.handleClick(a,t)}}},[t("UserAvatarLegacy",e._b({class:e.avatarClass,attrs:{user:e.user}},"UserAvatarLegacy",e.avatarProps,!1)),e.showBadge?t("UserBadge",{attrs:{badge:e.user.bestBadge}}):e._e()],1)]}}],null,!1,708483707)}):t("UserAvatarLegacy",e._b({attrs:{user:e.user}},"UserAvatarLegacy",e.avatarProps,!1))}),[],!1,null,null,null);t.a=i.exports},970:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return r}));var s=a(1);const n={[s.Y.Like]:{img:"/assets/img/reactions/like_5b90c.svg",animationData:()=>a.e(243).then(a.t.bind(null,1186,3)),label:"Me gusta",colorClass:"comment-like",hoverColorClass:"comment-hoverLiked",cept:"",unCept:""},[s.Y.Funny]:{img:"/assets/img/reactions/funny_42567.svg",animationData:()=>a.e(241).then(a.t.bind(null,1187,3)),label:"Jajaja",colorClass:"comment-funny",hoverColorClass:"comment-hoverFunny",cept:"",unCept:""},[s.Y.Helpful]:{img:"/assets/img/reactions/helpful_2b9d0.svg",animationData:()=>a.e(242).then(a.t.bind(null,1188,3)),label:"Útil",colorClass:"comment-helpful",hoverColorClass:"comment-hoverHelpful",cept:"",unCept:""}},o={s:12,m:16,l:20,xl:32},i=[s.Y.Like,s.Y.Funny,s.Y.Helpful],r=e=>i.includes(e)},975:function(e,t,a){"use strict";var s={components:{BaseSpinner:a(515).a},props:{loading:{type:Boolean,default:!1},placeholder:{type:String,default:""}},methods:{activate(){this.loading||this.$emit("activate")}}},n=a(45),o=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"redactor aGrid",class:{"redactor--inactive":!e.loading}},[t("div",{staticClass:"redactor-editor redactor-placeholder width--all-12 size--all-m",attrs:{placeholder:e.placeholder,tabindex:"0"},on:{click:e.activate}}),e.loading?t("BaseSpinner",{staticClass:"spinner--centered spinner--size-big"}):e._e(),e._t("activationModal")],2)}),[],!1,null,null,null);t.a=o.exports},976:function(e,t,a){"use strict";var s=a(562),n=a(661),o={components:{IntersectionBoundary:s.a,IntersectionTarget:n.a},methods:{onIntersect(){this.$el.classList.add("comment-newBadge--animated")}}},i=a(45),r=Object(i.a)(o,(function(){var e=this,t=e._self._c;return t("IntersectionBoundary",[t("IntersectionTarget",{on:{intersecting:e.onIntersect}},[t("span",{staticClass:"comment-newBadge--willAnimate textBadge size--all-s textBadge--primaryPale bRad--a-xl overflow--hidden"},[e._t("default",(function(){return[e._v(" "+e._s("Nuevo")+" ")]}))],2)])],1)}),[],!1,null,null,null);t.a=r.exports}}]);