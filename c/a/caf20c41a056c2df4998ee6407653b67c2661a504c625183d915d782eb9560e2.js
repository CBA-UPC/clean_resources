import{u as A}from"./store.89882d1e.js";import{l as F,c as r,G as d,P as g,Y as n,z as a,a6 as c,R as C,a7 as E,F as w,Q as L,an as V,ao as D,a4 as H,bd as P,b6 as j,r as R,q as z,y as q,x as G,a as J,H as T,$ as O,be as Q}from"./graphql.5cf3693b.js";import{ck as I,l as W,as as k,ay as Y,bR as K,h as X,bo as Z}from"./itinerary-entities.5f897bcd.js";import{bF as s}from"./service-client.4862e840.js";import{T as ee}from"./Tabs.33981f5c.js";import"./itinerary-modules.2ea32123.js";const S=te={class:"root"},se={class:"logo-container"},ae=["src"],ne={class:"airline"},re={class:"flight-number"},oe={class:"body-container"},ie={class:"origin-destination"},ce={class:"time"},le=S(()=>n("br",{class:"mobile"},null,-1)),ue=S(,de=F({__name:"FlightInfoCard",props:{item:{},direction:{}},setup(e){const{day:m}=W(),f=r(()=>{switch(e.item.status){case s.NUMBER_0:return"نشست - پایان دریافت بار";case s.NUMBER_1:return"نشست - دریافت بار از نقاله";case s.NUMBER_2:return"باطل شد";case s.NUMBER_3:return"در حال نشستن";case s.NUMBER_4:return"در حال سوار شدن";case s.NUMBER_5:return"طبق برنامه";case s.NUMBER_6:return"اعلام ورود";case s.NUMBER_7:return`تأخیر ${e.item.realTime||""}`;case s.NUMBER_8:return"پایان پذیرش - منتظر اعلام باشید";case s.NUMBER_9:return"دریافت کارت پرواز";case s.NUMBER_10:return"برخاست";case s.NUMBER_12:return"آماده پرواز";case s.NUMBER_13:return"پایان پذیرش مسافر";case s.NUMBER_11:default:return"نامعلوم"}}),l=r(()=>e.direction==="in"?`از مبدا ${e.item.origin}`:`به مقصد ${e.item.destination}`),v=r(()=>m.js(e.item.scheduledTime).format("dddd H:mm")),h=r(()=>e.item.realTime?`زمان واقعی: ${m.gregory(e.item.realTime,"HH:mm:ss").format("H:mm")}`:""),_=r(()=>e.item.counter?` - کانتر ${e.item.counter}`:""),p=r(()=>{const{logo:t}=e.item;return I.svg.includes(`${t}.svg`)?`/img/AirlineLogos/svg/${t}.svg`:I.png.includes(`${t}.png`)?`/img/AirlineLogos/${t}.png`:"/img/AirlineLogos/svg/default.svg"});return(t,B)=>(d(),g("div",te,[n("div",se,[n("img",{class:"logo",src:a(p),alt:"logo"},null,8,ae),n("p",ne,c(t.item.airline),1),n("p",re,c(t.item.flightNumber),1)]),n("div",oe,[n("p",ie,c(a(l)),1),n("div",{class:C(["status",[`status-${t.item.status}`]])},c(a(f))+c(a(_)),3),n("p",ce,[E(" زمان برنامه‌ای: "+c(a(v))+" ",1),a(h)?(d(),g(w,{key:0},[le,ue,E(" "+c(a(h)),1)],64)):L("",!0)])])]))}});const me=k(de,[["__scopeId","data-v-ee4ecc78"]]),_e={class:"cards-container"},ge={class:"cards"},fe={key:1,class:"error"},he=F({__name:"[airport]",props:{search:{default:""}},async setup(e){let m,f;const l=A(),{inboundFlights:v,outboundFlig=>Q(async()=>{await l.fetchAirports();const o=_.params.airport;await l.fetchFlights(o)},"$A9twTOm4jW")),await m,f();const p=r(()=>{var o;return`اطلاعات ${((o=l.airportsort))==null?void 0:o.airportName)||""}`});j({title:p});const t=R("out"),B=[{id:"out",title:"پروازهای خروجی",icon:X},{id:"in",title:"پروازهای ورودی",icon:Z}],x=R(!1),y=R(null),N=r(()=>t.value==="in"?v.value:h.value),b=r(()=>N.value.length?e.search&&!$.value.length?"هیچ پروازی با فیلتر مورد نظر شما یافت نشد.":"":`در حال حاضر پرواز ${t.value==="in"?"ورودی":"خروجی"} در فرودگاه انتخابی ثبت نشده است.`),$=r(()=>{const o=t.value==="in"?"origin":"destination";return((u=i.flightNumber)==null?void 0:u.toString().includes(e.search))||((M=i[o])=(e.search))||((U=i.airline)==null?void 0:U.includes(e.search))}):N.value});return z(()=>{y.value=window.setInterval(()=>{const o=_.params.airport;l.fetchFlights(o)},6e4)}),q(()=>{y.value&&window.clearInterval(y.value)}),(o,i)=>(d(),g("div",_e,[G(ee,{modelValue:a(t),"onUpdate:modelValue":i[0]||(i[0]=u=>J(t)?t.value=u:null),items:B,class:"tabs"},null,8,["modelValue"]),n("div",ge,[a(x)?(d(),T(K,{key:0})):a(b)?(d(),g("p",fe,c(a(b)),1)):(d(!0),g(w,{key:2},O(a($),u=>(d(),T(me,{key:u.flightId,item:u,direction:a(t),class:"card"},null,8,["item","direction"]))),128))])]))}});const be=k(he,[["__scopeId","data-v-da798295"]]);export{be as default};
