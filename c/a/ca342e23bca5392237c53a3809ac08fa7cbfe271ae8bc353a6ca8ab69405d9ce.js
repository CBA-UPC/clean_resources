// For license information, see `https://assets.adobedtm.com/0681c221600c/a809aa50e68e/deedfa021d8f/RC973cb607afde4a70b22dc8164a761b01-source.js`.
_satellite.__registerScript('https://assets.adobedtm.com/0681c221600c/a809aa50e68e/deedfa021d8f/RC973cb607afde4a70b22dc8164a761b01-source.min.js', "DTM.tools.elpais={dl:{realTime:\"production\"==_satellite.environment.stage&&_satellite.getVar(\"validPage\")?\"https://tracker.datanoticias.prisasd.com/pixel.png\":\"https://tracker.dev.datanoticias.prisasd.com/pixel.png\",cloudfront:\"//d30wo2lffetbp8.cloudfront.net/\",realTimeParams:{}},trackedPV:!1,map:{events:{readArticle:\"readArticle\",userLogin:\"oklog\",userRegister:\"okreg\",recommenderImpression:\"r\",internalPixel:\"internalPixel\",videoPlay:\"videoPlay\"},vars:{registerType:\"rgt\",registerOrigin:\"rgo\",registerProd:\"rgp\",recommenderTime1:\"t1\",recommenderTime:\"t\",recommenderError:\"e\",recommenderTo:\"to\",recommenderS:\"s\",userID:\"u\"}},init:function(){DTM.tools.list.push(\"elpais\"),this.trackPV()},trackPV:function(){return!0!==this.trackedPV&&(this.dl.realTimeParams={ev:\"pageView\",ts:this.getTimeStamp(),edc:_satellite.getVar(\"edition\"),edn:_satellite.getVar(\"editionNavigation\"),pn:_satellite.getVar(\"pageName\"),g:_satellite.getVar(\"destinationURL\"),ch:_satellite.getVar(\"primaryCategory\"),tit:_satellite.getVar(\"pageTitle\"),typ:_satellite.getVar(\"pageType\"),h:_satellite.getVar(\"server\"),r:_satellite.getVar(\"referringURL\"),cms:_satellite.getVar(\"cms\"),co:_satellite.getVar(\"user:country\"),sys:_satellite.getVar(\"sysEnv\"),arcid:\"not-set\",uid:_satellite.getVar(\"user:profileID\"),aid:_satellite.getVar(\"user:experienceCloudID\"),ust:_satellite.getVar(\"user:registeredUser\"),usty:_satellite.getVar(\"user:type\"),piid:_satellite.getVar(\"pageInstanceID\"),ustamp:\"not-set\",pwt:\"1\"===_satellite.getVar(\"paywall:signwallType\")?\"reg\":\"free\",pws:\"0\"==_satellite.getVar(\"paywall:contentBlocked\")?\"abierto\":_satellite.getVar(\"paywall:contentBlocked\"),pwp:_satellite.getVar(\"user:subscriptions\"),pwstep:\"\",pwact:\"1\"===_satellite.getVar(\"paywall:active\")?\"activo\":\"inactivo\",pwcou:_satellite.getVar(\"paywall:counter\"),pwad:_satellite.getVar(\"paywall:contentAdType\"),pwfp:\"not-set\",pwbc:\"not-set\",pwmod:_satellite.getVar(\"paywall:type\")},DTM.utils.sendBeacon(this.dl.realTime,this.dl.realTimeParams,!1,\"rnd\"),DTM.notify((!0===DTM.dataLayer.asyncPV?\"Async \":\"\")+\"PV tracked in tool <elpais>\"),this.trackedPV=!0,!0)},trackAsyncPV:function(){return this.trackedPV=!1,this.trackedPV=this.trackPV(!0),this.trackedPV},trackEvent:function(e){if(void 0===_satellite.getVar(\"event\")[e])return DTM.notify(\"ept event past not valid <\"+t+\">\"),!1;var t=_satellite.getVar(\"event\")[e].eventInfo.eventName,a=_satellite.getVar(\"event\")[e].attributes;if(!this.map.events.hasOwnProperty(t))return DTM.events.setEffect(e,\"elpais\",!1),!1;var r=!1,s={};if(\"userRegister\"==t||\"userLogin\"==t||\"readArticle\"==t){this.dl.realTimeParams.ev=this.map.events[t],this.dl.realTimeParams.ts=this.getTimeStamp(!1);for(let e in this.map.vars)a.hasOwnProperty(e)&&(s[e]=a[e]);DTM.utils.sendBeacon(this.dl.realTime,this.dl.realTimeParams,!1,\"rnd\"),r=!0}else if(\"internalPixel\"==t||\"recommenderImpression\"==t){if(this.dl.realTimeParams.ch=_satellite.getVar(\"primaryCategory\"),a.hasOwnProperty(\"userID\")||(a.userID=_satellite.getVar(\"user:profileID\")),\"object\"==typeof a.extraParams)for(var i in a.extraParams)s[i]=a.extraParams[i];for(let e in this.map.vars)a.hasOwnProperty(e)&&(s[this.map.vars[e]]=\"e\"==this.map.vars[e]?a[e].toUpperCase():a[e]);var l=a.hasOwnProperty(\"pixelName\")?a.pixelName:\"r\";DTM.utils.sendBeacon(ep_dl.src.cloudfront+encodeURIComponent(l)+\".gif\",s,!1,!1,!1),r=!0}else if(!(\"videoPlay\"!=t&&\"video50\"!=t&&\"videoEnd\"!=t||\"epmas>para-conocer\"!=_satellite.getVar(\"subCategory1\")&&\"epmas>para-conhecer\"!=_satellite.getVar(\"subCategory1\"))){s=DTM.utils.copyObject(this.dl.realTimeParams),this.dl.realTimeParams.ev=this.map.events[t],this.dl.realTimeParams.ts=this.getTimeStamp(!1);for(let e in this.map.vars)a.hasOwnProperty(e)&&(s[e]=a[e]);DTM.utils.sendBeacon(this.dl.realTime,this.dl.realTimeParams,!1,\"rnd\"),r=!0}return r&&DTM.notify(\"Event <\"+t+\"> tracked in tool <EL PAIS>\"),DTM.events.setEffect(e,\"elpais\",r),r},getTimeStamp:function(e){var t=\"\";if(e)t=_satellite.getVar(\"date:fullYear\")+\"/\"+_satellite.getVar(\"date:month\")+\"/\"+_satellite.getVar(\"date:day\")+\"T\"+_satellite.getVar(\"date:hours\")+\":\"+_satellite.getVar(\"date:minutes\")+\":\"+_satellite.getVar(\"date:seconds\");else{var a=new Date;t=a.getFullYear()+\"/\"+DTM.utils.formatDate(a.getMonth()+1)+\"/\"+DTM.utils.formatDate(a.getDate())+\"T\"+DTM.utils.formatDate(a.getHours())+\":\"+DTM.utils.formatDate(a.getMinutes())+\":\"+DTM.utils.formatDate(a.getSeconds())}return t}},DTM.tools.elpais.init();");