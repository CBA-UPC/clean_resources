import{P as v,H as w,Q as x,L as c,A as p,B as h,O as a,N as b,D as $,G as m,I as e,X as G,J as u,V as L,_ as M,$ as T,a0 as D}from"./vendor_6ed58054_r24-02-0_b0_t240129-161140.js";import{R as E,b6 as F,u as q,c as B}from"./index_31ad23dc_r24-02-0_b0_t240129-161140.js";import{u as z}from"./csrViewStoreInventory_328e6f57_r24-02-0_b0_t240129-161140.js";import{useSsrViewStoreProduct as _}from"./ssrViewStoreProduct_cb84dadb_r24-02-0_b0_t240129-161140.js";import{p as N}from"./PdpLoadingSkeleton_189563a3_r24-02-0_b0_t240129-161140.js";import{P as R,S as j,A as H,p as U}from"./PdpErrorMessages_007db928_r24-02-0_b0_t240129-161140.js";import{P as Y}from"./ProductMedia_e4d0ff65_r24-02-0_b0_t240129-161140.js";import Q from"./Swatches_6d0b4cf5_r24-02-0_b0_t240129-161140.js";import{q as J}from"./QuantityComponent_04984c84_r24-02-0_b0_t240129-161140.js";import{S as W}from"./SvgIcon_e55bd28a_r24-02-0_b0_t240129-161140.js";import{f as X}from"./lsanalytics-search_5c11f356_r24-02-0_b0_t240129-161140.js";import{p as K}from"./target-page-params_d05c3299_r24-02-0_b0_t240129-161140.js";import{t as Z}from"./lsanalytics-pageload_302e263b_r24-02-0_b0_t240129-161140.js";import{j as tt}from"./lsanalytics-product_ee6481c4_r24-02-0_b0_t240129-161140.js";import{E as S}from"./eventBus_552c1ba1_r24-02-0_b0_t240129-161140.js";import{V as ot}from"./VClientOnly_1c944b18_r24-02-0_b0_t240129-161140.js";import{_ as et}from"./_plugin-vue_export-helper_c27b6911_r24-02-0_b0_t240129-161140.js";import"./productUtils_e3499a9f_r24-02-0_b0_t240129-161140.js";import"./i18n_4b81f106_r24-02-0_b0_t240129-161140.js";import"./csrGlobalStoreCart_c99ec818_r24-02-0_b0_t240129-161140.js";import"./csrGlobalStoreInternationalCarts_2b023aac_r24-02-0_b0_t240129-161140.js";import"./csrGlobalStoreAppState_f9ff4bfa_r24-02-0_b0_t240129-161140.js";import"./csrViewStorePickupInStore_9251cc88_r24-02-0_b0_t240129-161140.js";import"./csrViewStoreFavorite_1d3eb3f3_r24-02-0_b0_t240129-161140.js";import"./imageUtils_fcbf42ca_r24-02-0_b0_t240129-161140.js";import"./ssrGlobalStoreHeadMeta_ca820fb3_r24-02-0_b0_t240129-161140.js";import"./ssrViewStoreReviews_9157a0cf_r24-02-0_b0_t240129-161140.js";import"./SustainabilityBadge_e1787275_r24-02-0_b0_t240129-161140.js";import"./ChannelBadge_17220cf9_r24-02-0_b0_t240129-161140.js";import"./FinalSaleMessage_2ed5012a_r24-02-0_b0_t240129-161140.js";import"./vuex.esm-bundler_aa359dca_r24-02-0_b0_t240129-161140.js";import"./csrViewStoreNotifyMe_836d5172_r24-02-0_b0_t240129-161140.js";import"./VBackgroundVideo_6949e84c_r24-02-0_b0_t240129-161140.js";import"./LscoLazyLoadDirective_02fa23a1_r24-02-0_b0_t240129-161140.js";import"./VProductMediaSSR_5d417f74_r24-02-0_b0_t240129-161140.js";import"./VResponsivePicture_fb50e2e9_r24-02-0_b0_t240129-161140.js";import"./csrViewStoreCart_eff1e54c_r24-02-0_b0_t240129-161140.js";import"./formatCurrency_d08cd85e_r24-02-0_b0_t240129-161140.js";import"./ssrGlobalStoreRoute_1f7c671b_r24-02-0_b0_t240129-161140.js";import"./lsanalytics-cart_5cb2710b_r24-02-0_b0_t240129-161140.js";const st={name:"PGiftCards",inject:["mq"],data:()=>({navigatedFromSwatch:!1}),components:{VClientOnly:ot,pdpLoadingSkeleton:N,ProductMedia:Y,ProductTitleBadge:R,"app-product-swatches":Q,"app-size-selection":j,"app-add-to-cart-component":H,"app-pdp-error-message":U,qtySelect:J,SvgIcon:W},computed:{...v(_,["showLoading","soldOutForever","swatches","egiftCardExtraInfo","activeSwatchCode","productImages"]),...v(z,["buyOptions"]),...w(_,{product:"productPDP"}),...w(q,["country","locale"]),...w(B,["paths"]),allProductMedia(){const{galleryImage:t,videos:o}=this.productImages;return o?[...t,...o]:t},allSoldOut(){let t=!0;const o=this.product.variantOptions;return o&&o.forEach(s=>{(s.stock.stockLevel!==0||s.stock.stockLevelStatus!=="outOfStock")&&(t=!1)}),t},soldOutForever(){return this.product.soldOutForever&&this.allSoldOut},isAvailable(){return!this.soldOutForever},selectedVariant(){return this.buyOptions.selectedVariant},getImageSlides(){var t;return(t=this.this.productImages)!=null&&t.galleryImage?this.allProductMedia.filter(o=>o.format!=="Video").map(o=>({url:o.url,index:o.galleryIndex})):null},isMobile(){return this.mq.current==="mobile"}},watch:{product(t,o){var s,r,l,i,n;if(t.code!==o.code){window.internalTargetPageParams=()=>K(this.product,this.country,this.product.code);let d=[];d=X(this.product),this.allSoldOut&&d.push("outOfStock");const f={product_id:((s=this.product)==null?void 0:s.code)??"",pdpGroupId:((r=this.product)==null?void 0:r.pdpGroupId)??"",department:((l=this.product)==null?void 0:l.department)??"",sku:((i=this.buyOptions)==null?void 0:i.selectedVariant)??"",swatchClick:((n=this.product)==null?void 0:n.swatchClicked)??!1,badge_types:d};Z([{func:tt,params:[f]}])}},selectedVariant(){let t={};const o=this.selectedVariant;o&&(t=this.product.variantOptions.find(r=>r.code===o).priceData),this.product.price={...t}}},beforeRouteUpdate(t,o,s){const r=this.swatches.map(l=>l.code);this.navigatedFromSwatch=r.includes(t.params.code),s()},methods:{...x(_,["fetchProductAndSwatches"]),getProductData(t){this.fetchProductAndSwatches({code:t,swatchClicked:!1})},handleSwatchChange(t){const o=`/${this.country}/${this.locale}${t.url}`;o!==this.$route.path&&(this.activeSwatchCode=t.code,this.swatchLoading=!0,this.pdpNavigationPreventScroll=!0,this.fetchProductAndSwatches({code:t.code,swatchClicked:!0}),this.$router.replace({path:o}))}},async mounted(){var s,r,l,i,n;const t=_(),o=(l=(r=(s=this.$router.options)==null?void 0:s.history)==null?void 0:r.state)==null?void 0:l.back;if(this.paths.pGiftCards!==o&&(await t.clearPdpProduct(),t.addToCartDisabled=!1),this.$route.name===E.PHYSICAL_GIFT_CARDS){const d=await t.getGiftCardDetail({type:F.PHYSICAL_GIFTCARD});await t.fetchProductAndSwatches({code:(n=(i=d==null?void 0:d.data)==null?void 0:i.giftCardDetail)==null?void 0:n.code,swatchClicked:!1})}else await t.fetchProductAndSwatches({code:this.$route.params.code,swatchClicked:!1});S.$on("swatchChange",this.handleSwatchChange)},beforeUnmount(){S.$off("swatchChange",this.handleSwatchChange)}},C=t=>(T("data-v-acc511cc"),t=t(),D(),t),at={role:"main"},ct={key:1,class:"p-gift-cards-container"},rt={class:"lsco-row product-details__breadcrumbs"},it={class:"search-breadcrumbs lsco-row lsco-row-xs--center"},dt={class:"search-breadcrumbs__pdp lsco-col-xs-offset-1"},lt={class:"search-breadcrumbs__pdp_text"},nt={class:"lsco-row product-details__top"},pt={class:"product_title_badge"},ut={class:"lsco-col-xs-25 lsco-col-lg-14 lsco-col-lg-offset-right-2 lsco-col-md-14 lsco-col-md-offset-right-1 product-details__hero"},ht={key:0,"aria-label":"Physical Gift Card Banner",role:"figure"},mt={class:"lsco-col-lg-8 lsco-col-lg-offset-right-0 lsco-col-lg-offset-0 lsco-col-md-9 lsco-col-md-offset-right-0 lsco-col-md-offset-0 lsco-col-xs-21 lsco-col-xs-offset-2 lsco-col-xs-offset-right-2 product-details__buy-box"},_t={class:"buybox product-main-info right-wrapper",ref:"buyBox"},ft={class:"product_title_badge","aria-label":"Product Title"},gt=C(()=>e("div",{class:"box-separator show-mobile"},null,-1)),wt={class:"size-container lsco-row lsco-row-xs--between lsco-row-xs--middle","aria-labelledby":"selectACardValue"},vt={id:"selectACardValue",class:"size-title lsco-col-14"},bt=C(()=>e("div",{class:"box-separator"},null,-1)),St={class:"afterpay-section"},Ct={class:"purchase-limit"},yt={class:"lsco-row qty-container"},Pt={class:"lsco-col-xs-14 lsco-col-md-6 lsco-col-lg-5 qty-titlebox"},kt={class:"lsco-col-xs-7 lsco-col-md-3 lsco-col-lg-3 qty-selectbox"},It={class:"sticky-bar"};function Ot(t,o,s,r,l,i){const n=c("pdpLoadingSkeleton"),d=c("SvgIcon"),f=c("router-link"),g=c("product-title-badge"),y=c("ProductMedia"),P=c("app-product-swatches"),k=c("app-size-selection"),I=c("qtySelect"),O=c("app-pdp-error-message"),V=c("app-add-to-cart-component"),A=c("VClientOnly");return p(),h("div",at,[a(A,null,{default:b(()=>[t.showLoading?(p(),$(n,{key:0})):m("",!0),t.product.code&&!t.showLoading?(p(),h("div",ct,[e("div",rt,[e("div",it,[e("div",dt,[a(d,{name:"arrow-left-breadcrumb",class:"search-breadcrumbs__pdp__navigate","set-aria-hidden":""}),e("span",lt,[a(f,{to:t.paths.giftCards},{default:b(()=>[G(u(t.$t("i18n.giftCardsTitle")),1)]),_:1},8,["to"])])])])]),e("div",nt,[e("div",pt,[a(g)]),e("div",ut,[i.allProductMedia[0]?(p(),h("div",ht,[a(y,{"media-obj":i.allProductMedia[0],"product-alt":t.product.altText,"column-width":14,"aspect-ratio-width":3,"aspect-ratio-height":4},null,8,["media-obj","product-alt"])])):m("",!0)]),e("div",mt,[e("div",_t,[e("div",ft,[a(g)]),a(P,{swatches:t.swatches},null,8,["swatches"]),gt,i.isAvailable?(p(),h(L,{key:0},[e("div",wt,[e("div",vt,u(t.$t("i18n.selectCardValue")),1)]),a(k,{"show-quick-view":!1,"variant-selection-type":"value"}),bt,e("div",St,[e("span",null,u(t.$t("i18n.gcNotEligibleForAfterPay")),1),a(d,{name:"afterpay",class:"afterpay-icon",title:"AfterPay icon","set-aria-hidden":!1,"aria-label":"afterpay logo"})]),e("div",Ct,u(t.$t("i18n.uptoFiveGCPerOrder")),1),e("div",yt,[e("div",Pt,u(t.$t("i18n.selectQuantity")),1),e("div",kt,[a(I,{source:"pdp"})])]),a(O),e("div",It,[e("div",{class:M([{"lsco-row":t.isMounted&&i.isMobile}])},[a(V,{"show-quick-view":!1})],2)])],64)):m("",!0)],512)])])])):m("",!0)]),_:1})])}const _o=et(st,[["render",Ot],["__scopeId","data-v-acc511cc"]]);export{_o as default};
