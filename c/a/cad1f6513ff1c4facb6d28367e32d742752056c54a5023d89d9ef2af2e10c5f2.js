
ACC.richRelevanceTracking={maxAdditionalItems:15,trackAdditionaProducts:function(RR_){var sku=$('[data-rich-relevance-product-code]');if(sku){$.each(sku,function(i){if($(this).data('rich-relevance-product-code')){RR_.addItemId($(this).data('rich-relevance-product-code'));}
return i<ACC.richRelevanceTracking.maxAdditionalItems-1;});}},trackCommon:function(data,existingPlaceholders){var json=ACC.cookie.getRichRelevanceTrackingCookie();var sessionId=ACC.cookie.getRichRelevanceSessionCookie();R3_COMMON=new r3_common();R3_COMMON.setClickthruServer(ACC.config.baseUrl+ACC.config.encodedContextPath);R3_COMMON.setBaseUrl(window.location.protocol+'//'+ACC.config.richRelevanceEnviroment+'.richrelevance.com/rrserver/');R3_COMMON.setApiKey(ACC.config.richRelevanceApiKey);R3_COMMON.setRegionId(ACC.config.richRelevanceRegion);R3_COMMON.setSessionId(sessionId);if(json.user){R3_COMMON.setUserId(json.user);}
if(json.cartTotal){R3_COMMON.setCartValue(json.cartTotal);}
if(typeof existingPlaceholders==='undefined'||existingPlaceholders==null||(existingPlaceholders!=null&&existingPlaceholders.length===0)){R3_COMMON.addPlacementType(data.pageType);}else{var uniquePlacementNames=[];$(existingPlaceholders).each(function(i,value){var placementName=$(value).data('placement-name');if($.inArray(placementName,uniquePlacementNames)===-1&&placementName.indexOf(data.pageType)>=0){R3_COMMON.addPlacementType(placementName);uniquePlacementNames.push(placementName);}});}},trackHomepage:function(data){R3_HOME=new r3_home();ACC.richRelevanceTracking.trackAdditionaProducts(R3_COMMON);},trackContentPage:function(data){ACC.richRelevanceTracking.trackAdditionaProducts(R3_COMMON);},trackCart:function(data){R3_CART=new r3_cart();$(data.cartProducts).each(function(i,value){if(value.productCode){R3_CART.addItemId(value.productCode);}
return i<ACC.richRelevanceTracking.maxAdditionalItems-1;});},trackCategory:function(data){R3_CATEGORY=new r3_category();ACC.richRelevanceTracking.trackAdditionaProducts(R3_COMMON);R3_CATEGORY.setId(data.categoryCode);R3_CATEGORY.setName(data.categoryName);},trackItemPage:function(data){R3_COMMON.addCategoryHintId(data.categoryCode);R3_ITEM=new r3_item();R3_ITEM.setId(data.productCode);},trackErrorPage:function(data){R3_ITEM=new r3_error();},trackPersonalPage:function(data){R3_HOME=new r3_home();},trackSearchPage:function(data){R3_SEARCH=new r3_search();var keywords=$('meta[name=keywords]').attr("content");R3_SEARCH.setTerms(keywords);$(data.searchProducts).each(function(i,value){if(value.productCode){R3_SEARCH.addItemId(value.productCode);}
return i<ACC.richRelevanceTracking.maxAdditionalItems-1;});},trackPurchasedPage:function(data){R3_PURCHASED=new r3_purchased();R3_PURCHASED.setOrderNumber(data.orderCode);$(data.purchasedProducts).each(function(i,value){if(value.productCode){R3_PURCHASED.addItemIdPriceQuantity(value.productCode,value.productPrice.toFixed(2),value.productQuantity,value.productSKU);}});},trackWishlistPage:function(data){R3_WISHLIST=new r3_wishlist();$(data.wishlistProducts).each(function(i,value){if(value.productCode){R3_WISHLIST.addItemId(value.productCode);}
return i<ACC.richRelevanceTracking.maxAdditionalItems-1;});},trackAddToCartPage:function(productCode,placementName){if(placementName){if(RR){RR.data={};}
var json=ACC.cookie.getRichRelevanceTrackingCookie();var sessionId=ACC.cookie.getRichRelevanceSessionCookie();R3_COMMON=new r3_common();R3_COMMON.setClickthruServer(ACC.config.baseUrl+ACC.config.encodedContextPath);R3_COMMON.setBaseUrl(window.location.protocol+'//'+ACC.config.richRelevanceEnviroment+'.richrelevance.com/rrserver/');R3_COMMON.setApiKey(ACC.config.richRelevanceApiKey);R3_COMMON.setRegionId(ACC.config.richRelevanceRegion);R3_COMMON.setSessionId(sessionId);if(json.user){R3_COMMON.setUserId(json.user);}
if(json.cartTotal){R3_COMMON.setCartValue(json.cartTotal);}
R3_COMMON.addPlacementType(placementName);}
R3_ADDTOCART=new r3_addtocart();if(productCode){R3_ADDTOCART.addItemIdToCart(productCode);}
return R3_ADDTOCART;},trackAddToCartEvent:function(placementName){var productCode=$('.js-rich-relevance-add-to-cart').data('rich-relevance-product-code');ACC.richRelevanceTracking.trackAddToCartPage(productCode,placementName);rr_flush_onload();r3();},trackPageSpecific:function(richRelevanceTrackingData){switch(richRelevanceTrackingData.pageType){case'cart_page':ACC.richRelevanceTracking.trackCart(richRelevanceTrackingData);break;case'category_page':ACC.richRelevanceTracking.trackCategory(richRelevanceTrackingData);break;case'wish_list_page':ACC.richRelevanceTracking.trackWishlistPage(richRelevanceTrackingData);break;case'home_page':ACC.richRelevanceTracking.trackHomepage(richRelevanceTrackingData);break;case'item_page':ACC.richRelevanceTracking.trackItemPage(richRelevanceTrackingData);break;case'personal_page':ACC.richRelevanceTracking.trackPersonalPage(richRelevanceTrackingData);break;case'search_page':ACC.richRelevanceTracking.trackSearchPage(richRelevanceTrackingData);break;case'purchase_complete_page':ACC.richRelevanceTracking.trackPurchasedPage(richRelevanceTrackingData);break;case'error_page':ACC.richRelevanceTracking.trackErrorPage(richRelevanceTrackingData);break;case'add_to_cart_page':ACC.richRelevanceTracking.trackAddToCartPage(richRelevanceTrackingData);break;default:ACC.richRelevanceTracking.trackContentPage(richRelevanceTrackingData);}},setRRPrivacyConsent:function(consent){if(consent){delete R3_COMMON.privateMode;R3_COMMON.addSegment('optin','optin');}else{R3_COMMON.setPrivateMode(true);R3_COMMON.addSegment('optout','optout');}},setUserCentricsRichRelevancePrivacySettings:function(){var consent=null;try{if(window.usercentrics){consent=window.usercentrics.getConsents(ACC.config.richRelevanceUserCentricsKey).consentStatus;}else if(window.UC_UI){consent=window.UC_UI.getServicesBaseInfo().find(function(data){return data.id===ACC.config.richRelevanceUserCentricsKey;}).consent.status;}else{consent=localStorage.getItem(ACC.config.richRelevanceConsentKey);if(consent!==null&&consent!=='null'){consent=consent.indexOf('true')!==-1?true:false;}}}catch(e){dataLayer.push({event:'standardEventTracking',eventCategory:'Caught Errors',eventAction:'RichRelevance consent',eventLabel:e,eventValue:undefined,eventNonInteractive:undefined});consent=false;}
if(consent!==null){ACC.richRelevanceTracking.setRRPrivacyConsent(consent);localStorage.setItem(ACC.config.richRelevanceConsentKey,consent);}},setDefaultRichRelevancePrivacySettings:function(){var consent=JSON.parse(localStorage.getItem(ACC.config.richRelevanceConsentKey));if(consent!==null){ACC.richRelevanceTracking.setRRPrivacyConsent(consent);return;}
if(ACC.config.richRelevanceOptOutCountries.indexOf(ACC.cookie.getCookieValueFor("ucountry"))!==-1){ACC.richRelevanceTracking.setRRPrivacyConsent(false);}else{ACC.richRelevanceTracking.setRRPrivacyConsent(true);}}};$(document).ready(function(){if(ACC.cookie.checkIfCookiesAreDisabled()){return;}
$('.js-richrelevance-component.fallback').hide();if(typeof richRelevanceTrackingData!=='undefined'){var timeOut=ACC.config.richRelevanceTimeOut;var existingPlaceholders=$(".js-richrelevance-component");ACC.richRelevanceTracking.trackCommon(richRelevanceTrackingData,existingPlaceholders);ACC.richRelevanceTracking.trackPageSpecific(richRelevanceTrackingData);window.addEventListener("uc_event",function(){ACC.richRelevanceTracking.setUserCentricsRichRelevancePrivacySettings();});ACC.richRelevanceTracking.setDefaultRichRelevancePrivacySettings();rr_flush_onload();RR.jsonCallback=function(){if(!ACC.richRelevanceTracking.timeOutExceeded){clearTimeout(ACC.richRelevanceTracking.timeOut);ACC.richRelevanceRenderer.renderAll();}};r3();ACC.richRelevanceTracking.timeOut=setTimeout(function(){ACC.richRelevanceTracking.timeOutExceeded=true;console.log('Timeout for RichRelevance');var dataLayer=(window.dataLayer=window.dataLayer||[]);dataLayer.push({event:'standardEventTracking',eventCategory:'RichRelevance Errors',eventAction:'timeout',eventLabel:'request timeout',eventValue:undefined,eventNonInteractive:true});ACC.richRelevanceRenderer.fallbackAll(existingPlaceholders);},timeOut);}});

ACC.richRelevanceRenderer={productPlacementCount:1,rrData:[],rrPlacements:[],rrComponentType:{STANDARD:'standard',BUY_TOGETHER:'buyTogether',HINTED:'hinted',SHOP_THIS_LOOK:'shopThisLook',IMAGE_WITH_PRODUCT:'imageWithProduct',IMAGE_WITH_PRODUCT_CAROUSEL:'imageWithProductCarousel',PRODUCT_GRID:'productGrid'},rrLayouts:{HINTED_JSON:"Hinted JSON",RR_TEST_BUT_TOGHETER:"RRTestBuyTogether",IMAGE_WITH_PRODUCT:"imageWithProduct",IMAGE_WITH_PRODUCT_CAROUSEL:'imageWithProductCarousel',PRODUCT_GRID:"productGrid",},renderAll:function(){ACC.richRelevanceRenderer.rrData=RR.data;ACC.richRelevanceRenderer.rrPlacements=ACC.richRelevanceRenderer.rrData?ACC.richRelevanceRenderer.rrData.JSON.placements:[];if(ACC.richRelevanceRenderer.rrPlacements.length>0){if(!window.productSuggestionClass){document.addEventListener('swaProductSuggestionsInitialized',function(){ACC.richRelevanceRenderer.getUpdatedPrices();});}else{ACC.richRelevanceRenderer.getUpdatedPrices();}}else{$(window).trigger("RRnoCartData");}},renderComponents:function(){var placementPageID=ACC.richRelevanceRenderer.rrData.JSON.placements[0].placement_name.split(".")[0];if(placementPageID==="add_to_cart_page"){if($("#swa-pdp-main").length){$(window).trigger("RRrenderCartFlyout");}else{$(window).trigger("RRnoCartData");}
return;}
$.each(ACC.richRelevanceRenderer.rrPlacements,function(index,placement){ACC.richRelevanceRenderer.renderComponent(placement,index);});},renderComponent:function(placement,index){var componentContainer=$('.js-richrelevance-component[data-placement-name="'+placement.placement_name+'"]');if(!componentContainer.length){return;}
var componentType=ACC.richRelevanceRenderer.determineComponentType(placement);switch(componentType){case ACC.richRelevanceRenderer.rrComponentType.HINTED:ACC.richRelevanceRenderer.renderHinted(componentContainer,placement);break;case ACC.richRelevanceRenderer.rrComponentType.BUY_TOGETHER:ACC.richRelevanceRenderer.renderBuyTogether(componentContainer,placement);break;case ACC.richRelevanceRenderer.rrComponentType.SHOP_THIS_LOOK:ACC.richRelevanceRenderer.renderShopThisLook(componentContainer,placement,index);break;case ACC.richRelevanceRenderer.rrComponentType.IMAGE_WITH_PRODUCT:ACC.richRelevanceRenderer.renderImageWithProduct(componentContainer,placement);break;case ACC.richRelevanceRenderer.rrComponentType.IMAGE_WITH_PRODUCT_CAROUSEL:ACC.richRelevanceRenderer.renderImageWithProductCarousel(componentContainer,placement);break;case ACC.richRelevanceRenderer.rrComponentType.PRODUCT_GRID:ACC.richRelevanceRenderer.renderProductGrid(componentContainer,placement);break;default:ACC.richRelevanceRenderer.renderStandard(componentContainer,placement);}},renderCarouselHeadlines:function(componentContainer,fallbackStrategyMessage){var carouselHeadlines='';if(componentContainer.data('headline')||componentContainer.data('subheadline')){carouselHeadlines+='<h3 class="swa-overline-sans">'+componentContainer.data('headline')+'</h3>';carouselHeadlines+='<h2 class="swa-headline-serif--default">'+componentContainer.data('subheadline')+'</h2>';}else{carouselHeadlines='<h2 class="swa-headline-serif--default">'+fallbackStrategyMessage+'</h2>';}
componentContainer.find('.js-richRelevance-header').html(carouselHeadlines);},initializeCarouselBehavior:function(componentContainer){var productSuggestionCarousel=componentContainer[0].querySelector('.js-swa-product-suggestion');if(!window.productSuggestionClass||!productSuggestionCarousel){return;}
new window.productSuggestionClass(productSuggestionCarousel).init();},determineComponentType:function(placement){var componentType="";switch(placement.layout){case ACC.richRelevanceRenderer.rrLayouts.HINTED_JSON:componentType=ACC.richRelevanceRenderer.rrComponentType.HINTED;break;case ACC.richRelevanceRenderer.rrLayouts.RR_TEST_BUT_TOGHETER:componentType=ACC.richRelevanceRenderer.rrComponentType.BUY_TOGETHER;break;case ACC.richRelevanceRenderer.rrLayouts.IMAGE_WITH_PRODUCT:componentType=ACC.richRelevanceRenderer.rrComponentType.IMAGE_WITH_PRODUCT;break;case ACC.richRelevanceRenderer.rrLayouts.IMAGE_WITH_PRODUCT_CAROUSEL:componentType=ACC.richRelevanceRenderer.rrComponentType.IMAGE_WITH_PRODUCT_CAROUSEL;break;case ACC.richRelevanceRenderer.rrLayouts.PRODUCT_GRID:componentType=ACC.richRelevanceRenderer.rrComponentType.PRODUCT_GRID;break;default:componentType=ACC.richRelevanceRenderer.rrComponentType.STANDARD;}
return componentType;},renderHinted:function(componentContainer,placement){if(!componentContainer){return;}
var componentUid=componentContainer.data("component-uid");var placementName=componentContainer.data("placement-name");var maxProducts=componentContainer.data("max-products");if(!placement.seed){console.error("Seed item was removed due to not being available. Placement rendering for "+placementName+" stopped");return;}
var parentContainerTemplate='';parentContainerTemplate+='<div class="swa-container swa-container--spaced swa-container--product-suggestion">';parentContainerTemplate+='<div class="js-richRelevance-header swa-headlines swa-headlines--condensed swa-headlines--center js-swa-headlines">';parentContainerTemplate+='</div>';parentContainerTemplate+='<div data-placement-name="{placementName}" data-max-num-items="{componentMaxProducts}">';parentContainerTemplate+='<div class="swa-product-suggestion swa-product-suggestion__hinted">';parentContainerTemplate+='<div class="swa-product-suggestion__hinted--highlight js-swa-product-suggestion-hinted-highlight">';parentContainerTemplate+='<div class="swa-product-suggestion__item js-suggestion-hinted-highlight" data-placement-name="{placementName}">';parentContainerTemplate+='</div></div>';parentContainerTemplate+='<div id="swa-product-suggestion_{componentUid}" class="splide swa-product-suggestion swa-product-suggestion__hinted--carousel '+'js-swa-product-suggestion" data-slide-step-desktop="3" data-slide-step-mobile="1">';parentContainerTemplate+='<div class="splide__track" data-splide-el="track">';parentContainerTemplate+='<div class="splide__list js-suggestion-items" data-placement-name="{placementName}" aria-label="Product Slide">';parentContainerTemplate+='</div></div>';parentContainerTemplate+='<div class="splide__arrows swa-product-suggestion__arrows js-swa-product-suggestion-arrows" data-splide-el="controls">';parentContainerTemplate+='<button class="splide__arrow splide__arrow--prev js-swa-product-suggestion__prev" data-splide-dir="<">';parentContainerTemplate+='<span class="swa-product-suggestion__icon swa-product-suggestion__icon--left" role="img" aria-label="Previous"></span>';parentContainerTemplate+='</button>';parentContainerTemplate+='<button class="splide__arrow splide__arrow--next js-swa-product-suggestion__next" data-splide-dir=">">';parentContainerTemplate+='<span class="swa-product-suggestion__icon swa-product-suggestion__icon--right" role="img" aria-label="Next"></span>';parentContainerTemplate+='</button>';parentContainerTemplate+='</div></div></div></div></div>';parentContainerTemplate=ACC.richRelevanceRenderer.replaceAll(parentContainerTemplate,/{componentUid}/,componentUid);parentContainerTemplate=ACC.richRelevanceRenderer.replaceAll(parentContainerTemplate,/{placementName}/,placementName);parentContainerTemplate=ACC.richRelevanceRenderer.replaceAll(parentContainerTemplate,/{componentMaxProducts}/,maxProducts);var parseHTMLElement=$.parseHTML(parentContainerTemplate);componentContainer.append(parseHTMLElement[0]);componentContainer.append(parseHTMLElement[1]);var suggestionItemContainer=componentContainer.find('.js-suggestion-hinted-highlight[data-placement-name="'+placement.placement_name+'"]')[0];suggestionItemContainer.appendChild(ACC.richRelevanceRenderer.createItemTile(componentContainer,placement.seed,placement.placement_name,false));var itemContainer=componentContainer.find('.js-suggestion-items[data-placement-name="'+placement.placement_name+'"]')[0];ACC.richRelevanceRenderer.addRRSlidesToContainer(componentContainer,itemContainer,placement,3);ACC.richRelevanceRenderer.renderCarouselHeadlines(componentContainer,placement.strategy_message);ACC.richRelevanceRenderer.displayContentStageComponent(componentUid);ACC.richRelevanceRenderer.initializeCarouselBehavior(componentContainer);},displayContentStageComponent:function(componentUid){$(".js-richrelevance-component[data-component-uid='"+componentUid+"']").removeClass("swa-hidden");$(".swa-divider[data-component-uid='"+componentUid+"']").removeClass("swa-hidden");if(window.cl){window.requestAnimationFrame(function(){window.cl.responsive();});}},addRRSlidesToContainer:function(componentContainer,itemContainer,placement,slidesPerView){var createSlideElement=function(){var slideElement=document.createElement('div');slideElement.className='splide__slide swa-product-suggestion__item';return slideElement;};var slideElement=createSlideElement();placement.items.forEach(function(item,index){slideElement.appendChild(ACC.richRelevanceRenderer.createItemTile(componentContainer,item,placement.placement_name,true));itemContainer.appendChild(slideElement);slideElement=createSlideElement();});},renderShopThisLook:function(componentContainer,placement,index){ACC.richRelevanceRenderer.renderStandard(componentContainer,placement,index);},renderBuyTogether:function(componentContainer,placement){if(!componentContainer){return;}
var componentUid=componentContainer.data("component-uid");var placementName=componentContainer.data("placement-name");var maxProducts=componentContainer.data("max-products");if(!placement.seed){console.error("Seed item was removed due to not being available. Placement rendering for "+placementName+" stopped");return;}
var parentContainerTemplate='';parentContainerTemplate+='<div class="swa-container swa-container--spaced swa-container--product-suggestion">';parentContainerTemplate+='<div class="js-richRelevance-header swa-headlines swa-headlines--condensed swa-headlines--center js-swa-headlines">';parentContainerTemplate+='</div>';parentContainerTemplate+='<div class="swa-product-suggestion__wrapper" data-placement-name="{placementName}" data-max-num-items="{componentMaxProducts}">';parentContainerTemplate+='<div id="swa-product-suggestion_{componentUid}" class="splide swa-product-suggestion swa-product-suggestion__buy-together" data-placement-name="{placementName}">';parentContainerTemplate+='<img class="swa-product-suggestion__buy-together__cta js-swa-product-suggestion-buy-together-cta" '+'src="{plusRectangleUrl}" alt="Buy Together">';parentContainerTemplate+='</div></div></div>';parentContainerTemplate=ACC.richRelevanceRenderer.replaceAll(parentContainerTemplate,/{componentUid}/,componentUid);parentContainerTemplate=ACC.richRelevanceRenderer.replaceAll(parentContainerTemplate,/{placementName}/,placementName);parentContainerTemplate=ACC.richRelevanceRenderer.replaceAll(parentContainerTemplate,/{componentMaxProducts}/,maxProducts);parentContainerTemplate=ACC.richRelevanceRenderer.replaceAll(parentContainerTemplate,/{plusRectangleUrl}/,ACC.config.themeResourcePath+'/images/icons/icon-plus-rectangle-black.svg');var parseHTMLElement=$.parseHTML(parentContainerTemplate);componentContainer.append(parseHTMLElement[0]);componentContainer.append(parseHTMLElement[1]);var itemContainer=componentContainer.find('.swa-product-suggestion__buy-together[data-placement-name="'+placement.placement_name+'"]')[0];var leftItemTile=ACC.richRelevanceRenderer.createItemTile(componentContainer,placement.seed,placement.placement_name,true);var rightItemTile=ACC.richRelevanceRenderer.createItemTile(componentContainer,placement.items[0],placement.placement_name,true);itemContainer.appendChild(leftItemTile);itemContainer.appendChild(rightItemTile);ACC.richRelevanceRenderer.renderCarouselHeadlines(componentContainer,placement.strategy_message);ACC.richRelevanceRenderer.displayContentStageComponent(componentUid);},renderProductGrid:function(componentContainer,placement){if(!componentContainer){return;}
var componentUid=componentContainer.data("component-uid");var maxNumberOfProducts=componentContainer.data("max-products");var placementItems=placement.items.slice(0,maxNumberOfProducts);let productUrlPrefix=componentContainer.data("product-url-prefix");var getHtmlBasedOnFlags=(flags)=>{var flagsHtml='';if(!flags){return flagsHtml;}
for(var flagCode in flags){if(flags.hasOwnProperty(flagCode)){flagsHtml+='<div class="swa-flags__unlabeled__flag swa-headline-sans--tiny" style="color: #757575">'+flags[flagCode]+'</div>';}}
return flagsHtml;};var getHtmlBasedOnItem=(item,index,productUrlPrefix,placementName)=>{var itemsHTML='';itemsHTML+='<div class="swa-product-list__tile-container">';itemsHTML+='<div class="swa-plp-product-tile-wrapper">';itemsHTML+='<div class="swa-plp-product-tile">';itemsHTML+='<a href="'+ACC.richRelevanceRenderer.adjustProductUrl(item.productUrl,productUrlPrefix)+'"'
+' data-gtm-product-id="'+item.baseProduct+'"'
+' data-gtm-product-position="'+index+'"'
+' data-gtm-product-variant="'+item.variant+'"'
+' data-gtm-product-price="'+item.netPriceValue+'"'
+' data-gtm-product-coupon="'+item.coupon+'"'
+' data-gtm-product-listId="'+placementName+'">';let productName=item.name;itemsHTML+='<picture data-alt="'+productName+' , '+item.id+'">';itemsHTML+='<img src="'+item.image_url+'" loading="lazy" class="swa-plp-product-tile__image js-swa-richrelevance-image-set-dpr"'
+' alt="'+productName+'" title="'+productName+'">';itemsHTML+='</picture>';itemsHTML+='<div class="swa-plp-product-tile__information">';itemsHTML+='<div class="swa-flags js-swa-flags">';itemsHTML+='<div class="swa-flags__labeled">';if(item.percentage){itemsHTML+='<span class="swa-flags__labeled__flag swa-headline-sans--tiny" style="color: #5a5a5a;background: #f0eee4">';itemsHTML+='-'+item.percentage+'%';itemsHTML+='</span>';}
if(item.colors){itemsHTML+='<span class="swa-flags__labeled__flag swa-headline-sans--tiny" style="color: #5a5a5a;background: #f0eee4">';itemsHTML+=item.colors;itemsHTML+='</span>';}
itemsHTML+='</div>';if(item.flags&&!$.isEmptyObject(item.flags)){itemsHTML+='<div class="swa-flags__unlabeled">';itemsHTML+=getHtmlBasedOnFlags(item.flags);itemsHTML+='</div>';}
itemsHTML+='</div>';itemsHTML+='<p>';if(item.nameLine1){itemsHTML+='<span class="swa-plp-product-tile__information__title swa-labelflex-sans--small-strong">';itemsHTML+=item.nameLine1;itemsHTML+='</span>';}
if(item.nameLine2){itemsHTML+='<span class="swa-plp-product-tile__information__subtitle swa-labelflex-sans--small">';itemsHTML+=item.nameLine2;itemsHTML+='</span>';}
itemsHTML+='</p>';itemsHTML+='<div class="swa-plp-product-tile__information__price swa-label-sans--small  swa-label-sans--small">';itemsHTML+='<span class="swa-product-tile__information__price-current">'+item.price+'</span>';if(item.sale_price){itemsHTML+='<span class="swa-product-tile__information__price-old">'+item.sale_price+'</span>';}
itemsHTML+='</div>';itemsHTML+='</div>';itemsHTML+='</a>';itemsHTML+='</div>';itemsHTML+='</div>';itemsHTML+='</div>';return itemsHTML;}
var parentContainerTemplate='';parentContainerTemplate+='<div class="swa-cms-copy  swa-cms-copy--center swa-cms-copy--default">';if(componentContainer.data('subheadline')||componentContainer.data('headline')){parentContainerTemplate+='<div class="swa-headlines js-swa-headlines">';parentContainerTemplate+='<h3 class="swa-overline-sans swa-cms-copy__headline">'+componentContainer.data('headline')+'</h3>';parentContainerTemplate+='</div>';parentContainerTemplate+='<div class="swa-headlines js-swa-headlines">';parentContainerTemplate+='<h3 class="swa-headline-serif--big swa-cms-copy__subheadline">'+componentContainer.data('subheadline')+'</h3>';parentContainerTemplate+='</div>';}else if(placement.strategy_message){parentContainerTemplate+='<div class="swa-headlines js-swa-headlines">';parentContainerTemplate+='<h3 class="swa-headline-serif--big swa-cms-copy__subheadline">'+placement.strategy_message+'</h3>';parentContainerTemplate+='</div>';}
parentContainerTemplate+='</div>';parentContainerTemplate+='<div class="swa-product-list">';parentContainerTemplate+='<div class="swa-product-list__tiles">';placementItems.forEach(function(product,i){parentContainerTemplate+=getHtmlBasedOnItem(product,i+1,productUrlPrefix,placement.placement_name);})
parentContainerTemplate+='</div>';parentContainerTemplate+='</div>';var parseHTMLElement=$.parseHTML(parentContainerTemplate);componentContainer.append(parseHTMLElement[0]);componentContainer.append(parseHTMLElement[1]);ACC.richRelevanceRenderer.displayContentStageComponent(componentUid);},renderImageWithProduct:function(componentContainer,placement){if(!componentContainer){return;}
var placementItem=placement.items[0];var getHtmlBasedOnFlags=(flags)=>{var flagsHtml='';if(!flags){return flagsHtml;}
var i=0;for(var flagCode in flags){if(flags.hasOwnProperty(flagCode)){if(i>0){flagsHtml+='<span class="swa-cms-product-tile__label-separator"> · </span>';}
flagsHtml+='<div class="swa-headline-sans--tiny">'+flags[flagCode]+'</div>';}
i+=1;}
return flagsHtml;};let productName=placementItem.name;let productUrl=ACC.richRelevanceRenderer.adjustProductUrl(placementItem.link_url,componentContainer.data("product-url-prefix"));let parentContainerTemplate='';parentContainerTemplate+='<div class="swa-cms-product-tile ">';parentContainerTemplate+='<a href="'+productUrl+'"'
+' data-gtm-product-id="'+placementItem.baseProduct+'"'
+' data-gtm-product-position="1"'
+' data-gtm-product-variant="'+placementItem.variant+'"'
+' data-gtm-product-price="'+placementItem.netPriceValue+'"'
+' data-gtm-product-coupon="'+placementItem.coupon+'"'
+' data-gtm-product-listId="'+placement.placement_name+'">';var defaultImageUrl=ACC.config.themeResourcePath+'/images/transparent-pixel.gif';var itemImageUrl=placementItem.image_url;var itemImageContent=ACC.richRelevanceRenderer.createPictureWithImageContent(defaultImageUrl,itemImageUrl,277,277,'w_690','w_503','w_220','w_277','swa-cms-product-tile__image','swa-cms-product-tile__picture');parentContainerTemplate+='<div class="swa-cms-product-tile__image-wrapper">';parentContainerTemplate+=itemImageContent;parentContainerTemplate+='</div>';parentContainerTemplate+='<div class="swa-cms-product-tile__content">';parentContainerTemplate+='<div class="swa-cms-product-tile__content-labels">';if(placementItem.percentage){parentContainerTemplate+='<div class="swa-cms-product-tile__content-label swa-text-sans--small">';parentContainerTemplate+='-'+placementItem.percentage+"%";parentContainerTemplate+='</div>';}
if(placementItem.colors){parentContainerTemplate+='<div class="swa-cms-product-tile__content-label swa-text-sans--small">';parentContainerTemplate+=placementItem.colors;parentContainerTemplate+='</div>';}
parentContainerTemplate+='</div>';parentContainerTemplate+='<div class="swa-cms-product-tile__content-labels swa-cms-product-tile__content-labels--alternative">';parentContainerTemplate+=getHtmlBasedOnFlags(placementItem.flags);parentContainerTemplate+='</div>';parentContainerTemplate+='<h2>';if(placementItem.nameLine1&&placementItem.nameLine2){parentContainerTemplate+='<span class="swa-cms-product-tile__content-title swa-label-sans--default">';parentContainerTemplate+=placementItem.nameLine1;parentContainerTemplate+='</span>';parentContainerTemplate+='<span class="swa-cms-product-tile__content-subtitle swa-label-sans--default">';parentContainerTemplate+=placementItem.nameLine2;parentContainerTemplate+='</span>';}else{parentContainerTemplate+='<span class="swa-cms-product-tile__content-title swa-label-sans--default">';parentContainerTemplate+=placementItem.name;parentContainerTemplate+='</span>';}
parentContainerTemplate+='</h2>';parentContainerTemplate+='<div class="swa-cms-product-tile__content-price swa-label-sans--default">';parentContainerTemplate+='<div class="swa-cms-product-tile__content-price-current">'+placementItem.price+'</div>';parentContainerTemplate+='<div class="swa-cms-product-tile__content-price-old">'+placementItem.sale_price+'</div>';parentContainerTemplate+='</div>';parentContainerTemplate+='</div>';parentContainerTemplate+='</a>';parentContainerTemplate+='</div>';var parseHTMLElement=$.parseHTML(parentContainerTemplate);componentContainer.append(parseHTMLElement[0]);var componentUid=componentContainer.data("component-uid");ACC.richRelevanceRenderer.displayContentStageComponent(componentUid);},renderImageWithProductCarousel:function(componentContainer,placement){if(!componentContainer){return;}
var parentContainerTemplate='';var componentUid=componentContainer.data("component-uid");let productUrlPrefix=componentContainer.data("product-url-prefix");parentContainerTemplate+=this.renderImageWithProductCarouselForDesktopAndMobile(componentUid,placement,false,productUrlPrefix);parentContainerTemplate+=this.renderImageWithProductCarouselForDesktopAndMobile(componentUid,placement,true,productUrlPrefix);parentContainerTemplate=ACC.richRelevanceRenderer.replaceAll(parentContainerTemplate,/{componentUid}/,componentUid);componentContainer.html(parentContainerTemplate);ACC.richRelevanceRenderer.displayContentStageComponent(componentUid);new window.CmsImageWithProductCarouselClass(document.querySelector("#cmsProductCarouselMobile-"+componentUid).closest(".js-swa-cms-image-with-product-carousel")).init();},renderImageWithProductCarouselForDesktopAndMobile:function(componentUid,placement,isMobile,productUrlPrefix){var parentContainerTemplate='';if(isMobile){parentContainerTemplate+='<div class="splide swa-cms-image-with-product-carousel__slider-mobile" id="cmsProductCarouselMobile-';}else{parentContainerTemplate+='<div class="splide swa-cms-image-with-product-carousel__slider" id="cmsProductCarousel-';}
parentContainerTemplate+=componentUid;parentContainerTemplate+='">';parentContainerTemplate+='<div class="splide__track">';parentContainerTemplate+='<div class="splide__list">';for(var i=0;i<placement.items.length;i++){var placementItem=placement.items[i];var getHtmlBasedOnFlags=(flags)=>{var flagsHtml='';if(!flags||$.isEmptyObject(flags)){return flagsHtml;}
var j=0;for(var flagCode in flags){if(flags.hasOwnProperty(flagCode)){if(j>0){flagsHtml+='<span class="swa-cms-product-tile__label-separator"> · </span>';}
flagsHtml+='<div class="swa-headline-sans--tiny">'+flags[flagCode]+'</div>';}
j+=1;}
return flagsHtml;};let itemUrl=ACC.richRelevanceRenderer.adjustProductUrl(placementItem.link_url,productUrlPrefix);parentContainerTemplate+='<div class="splide__slide p-splide__slide">';parentContainerTemplate+='<div class="swa-cms-product-tile swa-cms-product-tile--small">';parentContainerTemplate+='<a href="'+itemUrl+'"'
+' data-gtm-product-id="'+placementItem.baseProduct+'"'
+' data-gtm-product-position="'+(i+1)+'"'
+' data-gtm-product-variant="'+placementItem.variant+'"'
+' data-gtm-product-price="'+placementItem.netPriceValue+'"'
+' data-gtm-product-coupon="'+placementItem.coupon+'"'
+' data-gtm-product-listId="'+placement.placement_name+'">';var defaultImageUrl=ACC.config.themeResourcePath+'/images/transparent-pixel.gif';var itemImageUrl=placementItem.image_url;var itemImageContent=ACC.richRelevanceRenderer.createPictureWithImageContent(defaultImageUrl,itemImageUrl,277,277,'w_362','w_310','w_240','w_240','swa-cms-product-tile__image swa-cms-product-tile__image','swa-cms-product-tile__picture');parentContainerTemplate+='<div class="swa-cms-product-tile__image-wrapper swa-cms-product-tile__image-wrapper--animated">';parentContainerTemplate+=itemImageContent;parentContainerTemplate+='</div>';parentContainerTemplate+='<div class="swa-cms-product-tile__content">';parentContainerTemplate+='<div class="swa-cms-product-tile__content-labels">';if(placementItem.percentage){parentContainerTemplate+='<div class="swa-cms-product-tile__content-label swa-text-sans--tiny">';parentContainerTemplate+='-'+placementItem.percentage+"%";parentContainerTemplate+='</div>';}
if(placementItem.colors){parentContainerTemplate+='<span class="swa-cms-product-tile__content-label swa-text-sans--tiny" ">';parentContainerTemplate+=placementItem.colors;parentContainerTemplate+='</span>';}
parentContainerTemplate+='</div>';parentContainerTemplate+='<div class="swa-cms-product-tile__content-labels swa-cms-product-tile__content-labels--alternative">';parentContainerTemplate+=getHtmlBasedOnFlags(placementItem.flags);parentContainerTemplate+='</div>';parentContainerTemplate+='<h2>';if(placementItem.nameLine1&&placementItem.nameLine2){parentContainerTemplate+='<span class="swa-product-tile__information__title swa-product-sans--name">';parentContainerTemplate+=placementItem.nameLine1;parentContainerTemplate+='</span>';parentContainerTemplate+='<span class="swa-product-tile__information__subtitle swa-product-sans--description">';parentContainerTemplate+=placementItem.nameLine2;parentContainerTemplate+='</span>';}else{parentContainerTemplate+='<span class="swa-product-tile__information__title swa-product-sans--name">';parentContainerTemplate+=placementItem.name;parentContainerTemplate+='</span>';}
parentContainerTemplate+='</h2>';parentContainerTemplate+='<div class="swa-cms-product-tile__content-price swa-label-sans--medium">';parentContainerTemplate+='<div class="swa-cms-product-tile__content-price-current">'+placementItem.price+'</div>';parentContainerTemplate+='<div class="swa-cms-product-tile__content-price-old">'+placementItem.sale_price+'</div>';parentContainerTemplate+='</div>';parentContainerTemplate+='</div>';parentContainerTemplate+='</a>';parentContainerTemplate+='</div>';parentContainerTemplate+='</div>';var imageLink=placementItem.image_url;parentContainerTemplate=ACC.richRelevanceRenderer.replaceAll(parentContainerTemplate,/{image_url}/,imageLink);}
parentContainerTemplate+='</div>';parentContainerTemplate+='</div>';parentContainerTemplate+='</div>';return parentContainerTemplate;},renderStandard:function(componentContainer,placement){if(!componentContainer){return;}
var parentContainerTemplate='';parentContainerTemplate+='<div class="swa-container swa-container--spaced swa-container--product-suggestion">';parentContainerTemplate+='<div class="js-richRelevance-header swa-headlines swa-headlines--condensed swa-headlines--center js-swa-headlines">';parentContainerTemplate+='</div>';parentContainerTemplate+='<div class="swa-product-suggestion__wrapper" data-placement-name="{placementName}" data-max-num-items="{componentMaxProducts}">';parentContainerTemplate+='<div id="swa-product-suggestion_{componentUid}" class="splide swa-product-suggestion js-swa-product-suggestion" data-slide-step-desktop="4" data-slide-step-mobile="2">';parentContainerTemplate+='<div class="splide__track" data-splide-el="track">';parentContainerTemplate+='<div class="splide__list js-richrelevance-items" aria-label="Product Slide" data-placement-name="{placementName}">';parentContainerTemplate+='</div></div>';parentContainerTemplate+='<div class="splide__arrows swa-product-suggestion__arrows js-swa-product-suggestion-arrows" data-splide-el="controls">';parentContainerTemplate+='<button class="splide__arrow splide__arrow--prev js-swa-product-suggestion__prev" data-splide-dir="<">';parentContainerTemplate+='<span class="swa-product-suggestion__icon swa-product-suggestion__icon--left" role="img" aria-label="Previous"></span>';parentContainerTemplate+='</button>';parentContainerTemplate+='<button class="splide__arrow splide__arrow--next js-swa-product-suggestion__next" data-splide-dir=">">';parentContainerTemplate+='<span class="swa-product-suggestion__icon swa-product-suggestion__icon--right" role="img" aria-label="Next"></span>';parentContainerTemplate+='</button>';parentContainerTemplate+='</div></div></div></div>';var componentUid=componentContainer.data("component-uid");var placementName=componentContainer.data("placement-name");var maxProducts=componentContainer.data("max-products");parentContainerTemplate=ACC.richRelevanceRenderer.replaceAll(parentContainerTemplate,/{componentUid}/,componentUid);parentContainerTemplate=ACC.richRelevanceRenderer.replaceAll(parentContainerTemplate,/{placementName}/,placementName);parentContainerTemplate=ACC.richRelevanceRenderer.replaceAll(parentContainerTemplate,/{componentMaxProducts}/,maxProducts);var parseHTMLElement=$.parseHTML(parentContainerTemplate);componentContainer.append(parseHTMLElement[0]);componentContainer.append(parseHTMLElement[1]);var itemContainer=componentContainer.find('.js-richrelevance-items[data-placement-name="'+placement.placement_name+'"]')[0];ACC.richRelevanceRenderer.addRRSlidesToContainer(componentContainer,itemContainer,placement,4);ACC.richRelevanceRenderer.renderCarouselHeadlines(componentContainer,placement.strategy_message);ACC.richRelevanceRenderer.displayContentStageComponent(componentUid);ACC.richRelevanceRenderer.initializeCarouselBehavior(componentContainer);},createItemTile:function(componentContainer,item,placementName){var defaultImageUrl=ACC.config.themeResourcePath+'/images/transparent-pixel.gif';var itemImageUrl=item.image_url;var itemImageContent=ACC.richRelevanceRenderer.createPictureWithImageContent(defaultImageUrl,itemImageUrl,127,127,'w_215','w_192','w_192','w_127','swa-product-tile__image js-swa-product-tile-image ls-is-cached');var floatPrice=item.price.match(/\d+(?:\.\d+)?/g);var floatSalePrice=item.sale_price.match(/\d+(?:\.\d+)?/g);if(floatPrice&&floatSalePrice&&parseFloat(floatPrice[0])>parseFloat(floatSalePrice[0])){console.error('Product with id "'+item.id+'" is not in the system so Price and SalePrice might not be correct!');}
if(item.percentage&&!floatSalePrice){console.error('Product with id "'+item.id+'" is not in the system so DiscountPercentage and SalePrice might not be correct!');}
let itemUrl=ACC.richRelevanceRenderer.adjustProductUrl(decodeURIComponent(item.link_url),componentContainer.data("product-url-prefix"));var itemHtml='';itemHtml+='<div class="swa-product-tile-wrapper  js-swa-product-tile-wrapper">';itemHtml+='<div class="swa-product-tile js-swa-product-tile">';itemHtml+='<a href="'+itemUrl+'" class="js-swa-product-tile-link" tabindex="0"'
+' data-gtm-product-id="'+item.baseProduct+'"'
+' data-gtm-product-position="'+ACC.richRelevanceRenderer.productPlacementCount++ +'"'
+' data-gtm-product-price="'+item.netPriceValue+'"'
+' data-gtm-product-variant="'+item.variant+'"'
+' data-gtm-product-coupon="'+item.coupon+'"'
+' data-gtm-product-listId="'+placementName+'" >';itemHtml+='<div class="swa-product-tile__image-wrapper">';itemHtml+=itemImageContent;itemHtml+='</div>';itemHtml+='<div class="swa-product-tile__information">';itemHtml+='<div class="swa-flags js-swa-flags">';itemHtml+='<div class="swa-flags__labeled">';if(item.percentage){itemHtml+='<span class="swa-flags__labeled__flag swa-headline-sans--tiny" style="color: #5a5a5a; background: #f0eee4">'
+'-'+Math.round(item.percentage)+'%</span>';}
if(item.colors){itemHtml+='<span class="swa-flags__labeled__flag swa-headline-sans--tiny" style="color: #5a5a5a; background: #f0eee4">'
+item.colors+'</span>';}
itemHtml+='</div>'
if(item.flags&&!$.isEmptyObject(item.flags)){itemHtml+='<div class="swa-flags__unlabeled">'+ACC.richRelevanceRenderer.getProductFlags(item.flags)+'</div>';}
itemHtml+='</div><p>';if(item.nameLine1){itemHtml+='<span class="swa-product-tile__information__title swa-product-tile__information__name swa-labelflex-sans--small-strong js-swa-product-tile-name">';itemHtml+=item.nameLine1;itemHtml+='</span>';}
if(item.nameLine2){itemHtml+='<span class="swa-product-tile__information__subtitle swa-labelflex-sans--small">';itemHtml+=item.nameLine2;itemHtml+='</span>';}
itemHtml+='<div class="swa-product-tile__information__price swa-label-sans--small js-swa-product-tile-price">';if(item.sale_price){itemHtml+='<span class="swa-product-tile__information__price-discount">'+item.price+'</span>';itemHtml+='<span class="swa-product-tile__information__price-old">'+item.sale_price+'</span> ';}else{itemHtml+='<span class="swa-product-tile__information__price-current">'+item.price+'</span>';}
itemHtml+='</div></div></a></div></div>';return $.parseHTML(itemHtml)[0];},createPictureWithImageContent:function(defaultImageUrl,itemImageUrl,imgWidth,imgHeight,wideImageWSize,desktopImageWSize,tabletImageWSize,mobileImageWSize,imgClasses,pictureClass){var preloadedWideImage=itemImageUrl.replace('w_auto',wideImageWSize);var preloadedDesktopImage=itemImageUrl.replace('w_auto',desktopImageWSize);var preloadedTabletImage=itemImageUrl.replace('w_auto',tabletImageWSize);var preloadedMobileImage=itemImageUrl.replace('w_auto',mobileImageWSize);var sourceSetElements='<source srcset="'
+preloadedWideImage.replace('dpr_auto','dpr_1.0')+' 1x, '
+preloadedWideImage.replace('dpr_auto','dpr_2.0')+' 2x, '
+preloadedWideImage.replace('dpr_auto','dpr_3.0')+' 3x" media="(min-width: 1450px)"/>'+'<source srcset="'
+preloadedDesktopImage.replace('dpr_auto','dpr_1.0')+' 1x, '
+preloadedDesktopImage.replace('dpr_auto','dpr_2.0')+' 2x, '
+preloadedDesktopImage.replace('dpr_auto','dpr_3.0')+' 3x" media="(min-width: 1025px)"/>'+'<source srcset="'
+preloadedTabletImage.replace('dpr_auto','dpr_1.0')+' 1x, '
+preloadedTabletImage.replace('dpr_auto','dpr_2.0')+' 2x, '
+preloadedTabletImage.replace('dpr_auto','dpr_3.0')+' 3x" media="(min-width: 760px)"/>'+'<source srcset="'
+preloadedMobileImage.replace('dpr_auto','dpr_1.0')+' 1x, '
+preloadedMobileImage.replace('dpr_auto','dpr_2.0')+' 2x, '
+preloadedMobileImage.replace('dpr_auto','dpr_3.0')+' 3x" media="(max-width: 759px)"/>';var imageElement='<img src="'+defaultImageUrl+'" '
+'loading="lazy" '
+'alt="Product tile" title="Product Suggestion" '
+'class="'+imgClasses+'" '
+'width="'+imgWidth+'" '
+'height="'+imgHeight+'" '
+'/>';return(!pictureClass?'<picture>':'<picture class="'+pictureClass+'">')+
sourceSetElements+
imageElement+'</picture>';},getProductFlags:function(flags){var flagsHtml='';if(!flags){return flagsHtml;}
for(var flagCode in flags){if(flags.hasOwnProperty(flagCode)){flagsHtml+='<span class="swa-flags__unlabeled__flag swa-flags__unlabeled__flag--new swa-product-sans--flag" style="color: #757575">'
+flags[flagCode]+'</span> ';}}
return flagsHtml;},handleSacPriceDataLookup:function(result){var rrPriceData;var isUpdated;$.each(ACC.richRelevanceRenderer.rrPlacements,function(index){var i=ACC.richRelevanceRenderer.rrPlacements[index].items.length;while(i--){rrPriceData=ACC.richRelevanceRenderer.rrPlacements[index].items[i];isUpdated=ACC.richRelevanceRenderer.updateRrPriceData(result,rrPriceData);currentName=ACC.richRelevanceRenderer.rrPlacements[index].items[i].name;firstCommaOccurance=currentName.indexOf(',');if(firstCommaOccurance>=0){ACC.richRelevanceRenderer.rrPlacements[index].items[i].nameLine1=currentName.substring(0,firstCommaOccurance);ACC.richRelevanceRenderer.rrPlacements[index].items[i].nameLine2=currentName.substring(firstCommaOccurance+2)}else{ACC.richRelevanceRenderer.rrPlacements[index].items[i].nameLine1=currentName;ACC.richRelevanceRenderer.rrPlacements[index].items[i].nameLine2='';}
if(!isUpdated){ACC.richRelevanceRenderer.rrPlacements[index].items.splice(i,1);}}
if(ACC.richRelevanceRenderer.rrPlacements[index].seed){rrPriceData=ACC.richRelevanceRenderer.rrPlacements[index].seed;isUpdated=ACC.richRelevanceRenderer.updateRrPriceData(result,rrPriceData);if(!isUpdated){delete ACC.richRelevanceRenderer.rrPlacements[index].seed;}}});ACC.richRelevanceDataLayerTracker.trackProductsToDataLayer(ACC.richRelevanceRenderer.rrData);ACC.richRelevanceRenderer.renderComponents();},updateRrPriceData:function(sacProducts,rrPriceData){var sacProduct=sacProducts[rrPriceData.id];var sacPriceData;if(sacProduct){sacPriceData=sacProduct.price;rrPriceData.flags=sacProduct.flags;rrPriceData.colors=sacProduct.colors;rrPriceData.baseProduct=sacProduct.baseProduct?sacProduct.baseProduct:rrPriceData.id;rrPriceData.variant=sacProduct.variant?sacProduct.variant:rrPriceData.id;rrPriceData.coupon=sacPriceData.priceList?sacPriceData.priceList:'';rrPriceData.netPriceValue=sacPriceData.netPriceValue;}
if(sacPriceData===undefined){return false;}
if(sacPriceData.formattedOriginalValue){rrPriceData.percentage=sacPriceData.discountPercentage;rrPriceData.price=sacPriceData.formattedValue;rrPriceData.sale_price=sacPriceData.formattedOriginalValue;}else{rrPriceData.percentage='';rrPriceData.price=sacPriceData.formattedValue;rrPriceData.sale_price='';}
return true;},getUpdatedPrices:function(){var rrProductCodes=[];$.each(ACC.richRelevanceRenderer.rrPlacements,function(index,placement){if($('.js-richrelevance-component[data-placement-name="'+placement.placement_name+'"]').length>0){$.each(placement.items,function(){rrProductCodes.push(this.id);});if(placement.seed){rrProductCodes.push(placement.seed.id);}}});if(rrProductCodes.length){rrProductCodes=rrProductCodes.toString();$.ajax({url:ACC.config.richRelevanceTrackingPriceDataUrl,cache:false,type:"GET",contentType:"application/json",async:true,data:{products:rrProductCodes},dataType:"json",success:function(result){if(!Object.keys(result).length&&result.constructor===Object){console.error("No products received from the system, we are not going to render anything ");return;}
ACC.richRelevanceRenderer.handleSacPriceDataLookup(result);if(ACC.richRelevanceSetDPR){ACC.richRelevanceSetDPR.replaceUrlDpr();}}});}},renderRecommendationCartItem:function(renderItem){var position=renderItem.positionIndex?renderItem.positionIndex:"";var defaultImageUrl=ACC.config.themeResourcePath+'/images/transparent-pixel.gif';var itemDivClass='swa-product-tile js-swa-product-tile';var primaryImageUrl=renderItem.primaryImageUrl;var productName=renderItem.productName;var itemDiv=$('<div class="'+itemDivClass+'" data-productcode="'+renderItem.productCode+'"'+' data-positionindex="'+position+'" role="option"></div>');var gtmAttributes='data-gtm-product-id = "'+renderItem.productCode+'" data-gtm-product-position = "'+position+'" data-gtm-product-price="'+(renderItem.salePrice||renderItem.productPrice)+'" data-gtm-product-listId="'+renderItem.placementName+'"';var linkA=$('<a href="'+renderItem.productUrl+'" title="'+renderItem.productName+'" '+gtmAttributes+'/>');var itemTemplate='<div class="swa-product-tile__image-wrapper">';var productPrimaryImage=$(itemTemplate+'<img loading="lazy" class="swa-product-tile__image js-swa-product-tile-image js-swa-richrelevance-image-set-dpr"'+' src="'+primaryImageUrl+'" alt="'+productName+'" title="'+productName+'"/>'+'</div>');linkA.append(productPrimaryImage);linkA.append(ACC.richRelevanceRenderer.getItemCartInfoDiv(renderItem.productName,renderItem.productTitle,renderItem.productSubtitle,renderItem.productPrice,renderItem.productUrl,renderItem.salePrice,renderItem.discountPercentage,renderItem.colors,renderItem.flags));itemDiv.append(linkA);return itemDiv;},getItemCartInfoDiv:function(productName,productTitle,productSubtitle,productPrice,productUrl,salePrice,discountPercentage,productColors,productFlags){var itemInfoDiv='';itemInfoDiv+='<div class="swa-product-tile__information">';itemInfoDiv+='<div class="swa-flags js-swa-flags">';itemInfoDiv+='<div class="swa-flags__labeled swa-flags__labeled--new">';if(discountPercentage){itemInfoDiv+='<span class="swa-flags__labeled__flag swa-flags__labeled__flag--new swa-product-sans--flag" style="color: #5a5a5a;background: #f0eee4;border-color: #f0eee4">';itemInfoDiv+="&minus;"+Math.round(discountPercentage)+"%";itemInfoDiv+="</span>";}
if(productColors){itemInfoDiv+='<span class="swa-flags__labeled__flag swa-flags__labeled__flag--new swa-product-sans--flag" style="color: #5a5a5a; background: #ffffff;border-color: #f0eee4">';itemInfoDiv+=productColors;itemInfoDiv+='</span>';}
itemInfoDiv+='</div>';if(productFlags&&!$.isEmptyObject(productFlags)){itemInfoDiv+='<div class="swa-flags__unlabeled">'+ACC.richRelevanceRenderer.getProductFlags(productFlags)+'</div>';}
itemInfoDiv+='</div>';itemInfoDiv+='<p>';if(productTitle){itemInfoDiv+='<span class="swa-product-tile__information__title swa-product-sans--name js-swa-product-tile-name">';itemInfoDiv+=productTitle;itemInfoDiv+='</span>';}
if(productSubtitle){itemInfoDiv+='<span class="swa-product-tile__information__subtitle swa-product-sans--description">';itemInfoDiv+=productSubtitle;itemInfoDiv+='</span>';}
itemInfoDiv+='</p>';itemInfoDiv+='<div class="swa-product-tile__information__price swa-label-sans--medium js-swa-product-tile-price">';if(salePrice){itemInfoDiv+='<span class="swa-product-tile__information__price-current swa-product-sans--price">'+
productPrice+'</span><span class="swa-product-tile__information__price-old swa-product-sans--old-price">'+salePrice+"</span></div></div></a>";}else{itemInfoDiv+='<div class="swa-product-tile__information__price-current swa-product-sans--price">'+productPrice+'</div></div></a>';}
return itemInfoDiv;},renderCartFlyout:function(componentContainer,data){if(data===undefined){return;}
var headerContainer=$('<div class="swa-cart-rrelevance__headline">'+'<div class="swa-headlines">'+'<h5 class="swa-label-sans--medium">'+ACC.global.decodeHTMLEntities(data.strategy_message)+"</h5></div></div>");componentContainer.append(headerContainer);var rrContainer=$('<div class="swa-cart-rrelevance__items js-swa-product-tile-items" data-placementname="'+data.placement_name+'">');var RrelevanceItem=$("<div class='swa-product-tile-wrapper'></div>");var maxLength=data.items.length<4?data.items.length:4;for(var i=0;i<maxLength;i++){var renderItem={productCode:data.items[i].id,productName:data.items[i].name,productTitle:data.items[i].nameLine1,productSubtitle:data.items[i].nameLine2,productUrl:data.items[i].link_url,primaryImageUrl:data.items[i].image_url,productPrice:data.items[i].price,salePrice:data.items[i].sale_price,discountPercentage:data.items[i].percentage,positionIndex:i+1,placementName:data.placement_name,colors:data.items[i].colors,flags:data.items[i].flags};var itemDiv=ACC.richRelevanceRenderer.renderRecommendationCartItem(renderItem);RrelevanceItem.append(itemDiv);rrContainer.append(RrelevanceItem);RrelevanceItem=$("<div class='swa-product-tile-wrapper'></div>");componentContainer.append(rrContainer);}
componentContainer.removeClass('swa-hidden');if(window.cl){window.requestAnimationFrame(function(){window.cl.responsive();});}},fallbackAll:function(){var $rrComponents=$(".js-richrelevance-component");var foundAtLeastOneShowing=false;for(var i=0;i<$rrComponents.length;i++){var $parentContainer=$($rrComponents[i]).parent();if(!$parentContainer.hasClass("swa-hidden")){foundAtLeastOneShowing=true;break;}}
if(!foundAtLeastOneShowing){$(".js-richrelevance-component.fallback").removeClass("swa-hidden");}
var dataLayer=window.dataLayer=window.dataLayer||[];if(!ACC.richRelevanceTracking.timeOutExceeded&&($rrComponents.length&&RR.data.JSON.placements.length<$rrComponents.length)){dataLayer.push({event:'standardEventTracking',eventCategory:'RichRelevance Errors',eventAction:'no data',eventLabel:'data for '+($rrComponents.length-RR.data.JSON.placements.length)+' placement was expected but not received',eventValue:undefined,eventNonInteractive:true});}},replaceAll:function(element,search,replacement){return element.split(search).join(replacement);},adjustProductUrl:function(url,urlPrefix){if(!urlPrefix||!(urlPrefix.length>0)){return url;}
return url.replace('/p-',urlPrefix+'p-');}};

ACC.richRelevanceDataLayerTracker={_autoload:["bindClickEvent"],bindClickEvent:function(){$(document).on("click",".js-trackingrichrelevanceclickedevent",function(){$.ajax({url:ACC.config.richRelevanceTrackingDataLayerClickUrl,cache:false,type:'GET',contentType:"application/json",data:{"listId":$(this).closest("*[data-placementname]").attr("data-placementname"),"listType":"productTeaserComponent","product":$(this).closest("*[data-productcode]").attr("data-productcode"),"event":"productClick","position":$(this).closest("*[data-positionindex]").attr("data-positionindex")},dataType:"json",success:function(result){dataLayer.push(result);}});});},trackProductsToDataLayer:function(dataAvailable){dataAvailable.JSON.placements.forEach(function(placement){var productCodes="";if(placement.seed){productCodes+=placement.seed.id?placement.seed.id+",":"";}
placement.items.forEach(function(item){productCodes+=item.id+",";});if(productCodes!==""){$.ajax({url:ACC.config.richRelevanceTrackingDataLayerUrl,cache:false,type:'GET',contentType:"application/json",data:{"listId":placement.placement_name,"listType":"productTeaserComponent","products":productCodes,"event":"productImpressions"},dataType:"json",success:function(result){dataLayer.push(result);}});}});}};

ACC.richRelevanceSetDPR={replaceUrlDpr:function(){var images=document.querySelectorAll('.js-swa-richrelevance-image-set-dpr');images.forEach(function(image){var userDPR=Math.ceil(window.devicePixelRatio);var linkDPR='dpr_'+userDPR+'.0';var imageSrc=image.src;var newImageSrc='';var isTablet=window.innerWidth<760;var linkWidth='w_'+(isTablet?500:360);newImageSrc=imageSrc.replace('dpr_auto',linkDPR).replace('w_auto',linkWidth);image.src=newImageSrc;});}};
/*! p13n.js Copyright 2007-2019 RichRelevance, Inc. All Rights Reserved. Build V1.2.6.20191022 */
function rr_addLoadEvent(a){RR.ol(a)}function rr_create_script(a){var b=document.createElement("script");b.type="text/javascript",b.charset=RR.charset,b.src=a,b.async=!0,document.getElementsByTagName("head")[0].appendChild(b)}function r3_generic(){this.type="GENERIC",RR.registerPageType(this,this.type),this.destroy=RR.unregisterPageType,this.createScript=function(a){return a}}function r3_home(){this.type="HOME",RR.registerPageType(this,this.type),this.destroy=RR.unregisterPageType,this.createScript=function(a){return a}}function r3_error(){this.type="ERROR",RR.registerPageType(this,this.type),this.destroy=RR.unregisterPageType,this.createScript=function(a){return a}}function r3_personal(){this.type="PERSONAL",RR.registerPageType(this,this.type),this.destroy=RR.unregisterPageType,this.createScript=function(a){return a}}function r3_brand(){this.type="BRAND",RR.registerPageType(this,this.type),this.destroy=RR.unregisterPageType,this.createScript=function(a){return a}}function r3_item(){this.type="ITEM",RR.registerPageType(this,this.type),this.destroy=RR.unregisterPageType,this.setId=function(a){RR.set.call(this,a,"id")},this.setName=function(a){RR.set.call(this,a,"name")},this.setRecommendable=function(a){RR.set.call(this,a,"recommendable")},this.setPrice=function(a){RR.set.call(this,a,"price")},this.setSalePrice=function(a){RR.set.call(this,a,"salePrice")},this.setBrand=function(a){RR.set.call(this,a,"brand")},this.addAttribute=function(a,b){var c=a+":"+b;RR.add.call(this,c,"attributes")},this.setEndDate=function(a){RR.set.call(this,a,"endDate")},this.setImageId=function(a){RR.set.call(this,a,"imageId")},this.setLinkId=function(a){RR.set.call(this,a,"linkId")},this.setRating=function(a){RR.set.call(this,a,"rating")},this.setReleaseDate=function(a){RR.set.call(this,a,"releaseDate")},this.addCategory=function(a,b){var c=a+":"+b;RR.add.call(this,c,"categories")},this.addCategoryId=function(a){RR.add.call(this,a,"categoryIds")},this.createScript=function(a){return this.categories&&(a+="&cs="+encodeURIComponent(this.categories)),this.categoryIds&&(a+="&cis="+encodeURIComponent(this.categoryIds)),this.id&&(a+="&p="+encodeURIComponent(this.id)),this.name&&(a+="&n="+encodeURIComponent(this.name)),this.imageId&&(a+="&ii="+encodeURIComponent(this.imageId)),this.linkId&&(a+="&li="+encodeURIComponent(this.linkId)),this.releaseDate&&(a+="&rd="+encodeURIComponent(this.releaseDate)),this.price&&(a+="&np="+encodeURIComponent(this.price)),this.salePrice&&(a+="&sp="+encodeURIComponent(this.salePrice)),this.endDate&&(a+="&ed="+encodeURIComponent(this.endDate)),this.rating&&(a+="&r="+encodeURIComponent(this.rating)),typeof this.recommendable!=RR.U&&(a+="&re="+encodeURIComponent(this.recommendable)),this.brand&&(a+="&b="+encodeURIComponent(this.brand)),this.attributes&&(a+="&at="+encodeURIComponent(this.attributes)),a}}function r3_category(){this.type="CATEGORY",RR.registerPageType(this,this.type),this.destroy=RR.unregisterPageType,this.setId=function(a){RR.set.call(this,a,"id")},this.setName=function(a){RR.set.call(this,a,"name")},this.setParentId=function(a){RR.set.call(this,a,"parentId")},this.setTopName=function(a){RR.set.call(this,a,"topName")},this.addItemId=RR.addItemId,this.createScript=function(a){return this.name&&(a+="&cn="+encodeURIComponent(this.name)),this.id&&(a+="&c="+encodeURIComponent(this.id)),this.parentId&&(a+="&pc="+encodeURIComponent(this.parentId)),this.topName&&(a+="&tcn="+encodeURIComponent(this.topName)),a}}function r3_cart(){this.type="CART",RR.registerPageType(this,this.type),this.destroy=RR.unregisterPageType,this.addItemId=RR.addItemId,this.addItemIdCentsQuantity=RR.addItemIdCentsQuantity,this.addItemIdDollarsAndCentsQuantity=RR.addItemIdDollarsAndCentsQuantity,this.addItemIdPriceQuantity=RR.addItemIdPriceQuantity,this.createScript=function(a){return this.purchasesCents&&(a+="&ppc="+encodeURIComponent(this.purchasesCents)),this.purchasesDollarsAndCents&&(a+="&pp="+encodeURIComponent(this.purchasesDollarsAndCents)),this.quantities&&(a+="&q="+encodeURIComponent(this.quantities)),this.purchasesPrice&&(a+="&pp="+encodeURIComponent(this.purchasesPrice)),a}}function r3_addtocart(){this.type="ADDTOCART",RR.registerPageType(this,this.type),this.destroy=RR.unregisterPageType,this.addItemIdToCart=RR.addItemIdToCart,this.createScript=function(a){return this.addedToCartItemIds&&(a+="&atcid="+encodeURIComponent(this.addedToCartItemIds)),a}}function r3_purchased(){this.type="PURCHASED",RR.registerPageType(this,this.type),this.destroy=RR.unregisterPageType,this.addItemId=RR.addItemIdCentsQuantity,this.addItemIdCentsQuantity=RR.addItemIdCentsQuantity,this.addItemIdDollarsAndCentsQuantity=RR.addItemIdDollarsAndCentsQuantity,this.addItemIdPriceQuantity=RR.addItemIdPriceQuantity,this.setOrderNumber=function(a){this.orderNumber=a},this.setTotalPrice=function(a){this.totalPrice=a},this.setShippingCost=function(a){this.shippingCost=a},this.setTaxes=function(a){this.taxes=a},this.setPromotionCode=function(a){this.promotionCode=a},this.createScript=function(a){return this.orderNumber&&(a+="&o="+encodeURIComponent(this.orderNumber)),this.purchasesCents&&(a+="&ppc="+encodeURIComponent(this.purchasesCents)),this.purchasesDollarsAndCents&&(a+="&pp="+encodeURIComponent(this.purchasesDollarsAndCents)),this.quantities&&(a+="&q="+encodeURIComponent(this.quantities)),this.purchasesPrice&&(a+="&pp="+encodeURIComponent(this.purchasesPrice)),this.totalPrice&&(a+="&tp="+encodeURIComponent(this.totalPrice)),this.shippingCost&&(a+="&sc="+encodeURIComponent(this.shippingCost)),this.taxes&&(a+="&tx="+encodeURIComponent(this.taxes)),this.promotionCode&&(a+="&pmc="+encodeURIComponent(this.promotionCode)),a}}function r3_search(){this.type="SEARCH",RR.registerPageType(this,this.type),this.destroy=RR.unregisterPageType,this.addItemId=RR.addItemId,this.setTerms=RR.addSearchTerm,this.createScript=function(a){return a}}function r3_wishlist(){this.type="WISHLIST",RR.registerPageType(this,this.type),this.destroy=RR.unregisterPageType,this.addItemId=RR.addItemId,this.createScript=function(a){return a}}function r3_addtoregistry(){this.type="ADDTOREGISTRY",RR.registerPageType(this,this.type),this.destroy=RR.unregisterPageType,this.addItemIdCentsQuantity=RR.addItemIdCentsQuantity,this.createScript=function(a){return a}}function r3_common(){function a(a,b){rr_placement_place_holders.push({elementId:a,placementType:b})}function b(a){return a!==!1}this.type="COMMON",RR.registerPageType(this,this.type),this.destroy=RR.unregisterPageType;var c={startRow:-1,count:-1,priceRanges:[],filterAttributes:{}};this.baseUrl="http://recs.richrelevance.com/rrserver/",this.jsFileName="p13n_generated.js",this.devFlags={},this.addCategoryHintId=function(a){RR.add.call(this,a,"categoryHintIds")},this.addClickthruParams=function(a,b){var c=encodeURIComponent(a)+":"+encodeURIComponent(b);RR.add.call(this,c,"clickthruParams")},this.addContext=function(a,b){RR.addObject.call(this,a,"context",b)},this.addFilter=function(a){RR.add.call(this,a,"filters")},this.addFilterBrand=function(a){RR.add.call(this,a,"filterBrands")},this.addFilterCategory=function(a){RR.add.call(this,a,"filterCategories")},this.addItemId=RR.addItemId,this.addItemIdToCart=RR.addItemIdToCart,this.addPlacementType=function(b,c){RR.add.call(this,b,"placementTypes"),c&&a(c,b)},this.addRefinement=function(a,b){var c=a+":"+b;RR.add.call(this,c,"refinements")},this.setRefinementFallback=function(a){var b=Boolean(a)?"t":"f";RR.set.call(this,b,"doRefinementsFallback")},this.addSearchTerm=RR.addSearchTerm,this.addSegment=function(a,b){var c;c=void 0===b?a:a+":"+b,RR.add.call(this,c,"segments")},this.blockItemId=function(a){RR.add.call(this,a,"blockeditemIds")},this.forceDisplayMode=function(a){this.devFlags.displayModeForced=b(a)},this.forceDevMode=function(a){this.devFlags.devModeForced=b(a)},this.forceDebugMode=function(a){this.devFlags.debugMode=b(a)},this.setApiKey=function(a){RR.set.call(this,a,"apiKey")},this.setBaseUrl=function(a){RR.set.call(this,a,"baseUrl")},this.setCartValue=function(a){RR.set.call(this,a,"cartValue")},this.setChannel=function(a){RR.set.call(this,a,"channel")},this.setClickthruServer=function(a){RR.set.call(this,a,"clickthruServer")},this.setFilterBrandsIncludeMatchingElements=function(a){RR.set.call(this,a,"filterBrandsInclude")},this.setForcedTreatment=function(a){RR.set.call(this,a,"forcedTreatment")},this.setMVTForcedTreatment=function(a){RR.set.call(this,a,"mvtforcedTreatment")},this.setPageBrand=function(a){RR.set.call(this,a,"brand")},this.setImageServer=function(a){RR.set.call(this,a,"imageServer")},this.setRegionId=function(a){RR.set.call(this,a,"regionId")},this.setLanguage=function(a){RR.set.call(this,a,"language")},this.forceLocale=function(a){RR.set.call(this,a,"flo")},this.setCurrency=function(a){RR.set.call(this,a,"currency")},this.setRegistryId=function(a){RR.set.call(this,a,"registryId")},this.setRegistryType=function(a){RR.set.call(this,a,"registryType")},this.setSessionId=function(a){RR.set.call(this,a,"sessionId")},this.setUserId=function(a){RR.set.call(this,a,"userId")},this.setPrivateMode=function(a){RR.set.call(this,a,"privateMode")},this.useDummyData=function(a){this.devFlags.dummyDataUsed=b(a),this.devFlags.displayModeForced=b(a)},this.enableRad=function(a){this.devFlags.rad=b(a)},this.enableCfrad=function(a){this.devFlags.cfrad=b(a)},this.RICHSORT={paginate:function(a,b){c.startRow=a,c.count=b},filterPrice:function(a){c.priceRanges=a||[]},filterAttribute:function(a,b){c.filterAttributes[a]=b}},this.initFromParams=function(){var a=RR.checkParamCookieValue("RR Environment","r3_env","r3_envCookie","r3_env");if(a&&""!==a){var b=0===this.baseUrl.toLowerCase().indexOf("https://")||0===this.baseUrl.indexOf("//")&&0===location.protocol.indexOf("https:"),c=(b?"https://":"http://")+a+".richrelevance.com/rrserver/";RR.set.call(this,c,"baseUrl")}var d=RR.checkParamCookieValue("CFRAD","cfrad","cfrad","cfrad");if(d&&""!==d&&this.enableCfrad(!0),RR.lc("rr_spoof")){var e=RR.pq("rr_spoof");RR.set.call(this,e,"spoof")}if(RR.lc("rrPreview")){var f=RR.pq("rrPreview");RR.set.call(this,f,"rrPreview")}if(RR.lc("r3_forceDisplay=true")&&(this.forceDebugMode(!0),this.forceDisplayMode(!0)),RR.lc("r3_forceDev=true")&&(this.forceDebugMode(!0),this.forceDevMode(!0)),RR.lc("r3_rad=true")){this.forceDebugMode(!0),this.forceDevMode(!0),this.enableRad(!0);var g=RR.pq("r3_radLevel");""!==g&&RR.set.call(this,g,"radLevel")}if(RR.lc("cfrad")){var h=RR.pq("cfrad");""!==h&&RR.set.call(this,h,"cfrad")}RR.lc("r3_useDummyData=true")&&(this.forceDebugMode(!0),this.useDummyData(!0),this.forceDevMode(!0));var i=RR.pq("r3_forcedTreatment");i&&""!==i&&RR.set.call(this,i,"forcedTreatment");var j=RR.checkParamCookieValue("RR MVT Treatment","r3_mvtTreatmentId","r3_mvtCookie","r3_mvtTreatmentId");j&&""!==j&&RR.set.call(this,j,"mvtforcedTreatment");var k=RR.pq("r3_ftp");k&&""!==k&&RR.set.call(this,k,"forcedFtp");var l=RR.pq("r3_responseDetails");if(l&&""!==l&&RR.set.call(this,l,"rap"),RR.lc("r3_debugMode=true")?this.forceDebugMode(!0):RR.lc("r3_debugMode=false")&&this.forceDebugMode(!0),RR.lc("rr_vg=")&&RR.set.call(this,RR.pq("rr_vg"),"viewGuid"),RR.lc("rm=")&&RR.set.call(this,RR.pq("rm"),"fromRichMail"),RR.lc("r3_privateMode=true")&&RR.set.call(this,!0,"privateMode"),typeof this.userId===RR.U||""===this.userId)if(RR.lc("rr_u=")){var m=RR.pq("rr_u");if(RR.set.call(this,m,"userId"),RR.lc("rr_u_days=")){var n=RR.pq("rr_u_days");isNaN(parseFloat(n))||RR.c("rr_u",m,n)}}else m=RR.c("rr_u"),m&&RR.set.call(this,m,"userId");var o=RR.pq("rrEnv_requestTS");o&&""!==o&&RR.set.call(this,o,"tsSpoof")},this.createScript=function(a,b,d){var e,f,g,h,i,j,k,l,m=[],n=new Date,o=0,p=[],q=!1,r="";if(this.initFromParams(),q=0===this.baseUrl.toLowerCase().indexOf("https://")||0===this.baseUrl.indexOf("//")&&0===location.protocol.indexOf("https:"),a=this.baseUrl+this.jsFileName+"?a="+encodeURIComponent(this.apiKey)+"&ts="+n.getTime()+"&v="+rr_v+(q?"&ssl=t":"")+a,this.placementTypes?a+="&pt="+encodeURIComponent(this.placementTypes):d&&(this.addPlacementType(d),a+="&pt="+encodeURIComponent(d),a+="&pte=t"),this.privateMode?a+="&privm=t":this.userId&&(a+="&u="+encodeURIComponent(this.userId)),this.sessionId&&(a+="&s="+encodeURIComponent(this.sessionId)),this.viewGuid&&""!==this.viewGuid&&(a+="&vg="+encodeURIComponent(this.viewGuid)),this.segments&&(a+="&sgs="+encodeURIComponent(this.segments)),this.channel&&(a+="&channelId="+encodeURIComponent(this.channel)),this.clickthruServer&&(a+="&cts="+encodeURIComponent(this.clickthruServer)),this.imageServer&&(a+="&imgsrv="+encodeURIComponent(this.imageServer)),this.addedToCartItemIds&&(a+="&atcid="+encodeURIComponent(this.addedToCartItemIds)),this.cartValue&&(a+="&cv="+encodeURIComponent(this.cartValue)),this.forcedTreatment&&""!==this.forcedTreatment&&(a+="&ftr="+encodeURIComponent(this.forcedTreatment)),this.mvtforcedTreatment&&""!==this.mvtforcedTreatment&&(a+="&mvt_ftr="+encodeURIComponent(this.mvtforcedTreatment)),this.forcedFtp&&""!==this.forcedFtp&&(a+="&ftp="+encodeURIComponent(this.forcedFtp)),this.rap&&""!==this.rap&&(a+="&rap="+encodeURIComponent(this.rap)),this.fromRichMail&&""!==this.fromRichMail&&(a+="&rm="+encodeURIComponent(this.fromRichMail)),this.categoryHintIds&&(a+="&chi="+encodeURIComponent(this.categoryHintIds)),this.brand&&(a+="&fpb="+encodeURIComponent(this.brand)),this.filterBrands&&(a+="&filbr="+encodeURIComponent(this.filterBrands)),this.filterBrandsInclude&&(a+="&filbrinc="+encodeURIComponent(this.filterBrandsInclude)),this.filterCategories&&(a+="&filcat="+encodeURIComponent(this.filterCategories)),this.filterCategoriesInclude&&(a+="&filcatinc="+encodeURIComponent(this.filterCategoriesInclude)),this.clickthruParams&&(a+="&ctp="+encodeURIComponent(this.clickthruParams)),this.regionId&&(a+="&rid="+encodeURIComponent(this.regionId)),this.language&&(a+="&lang="+encodeURIComponent(this.language)),this.flo&&(a+="&flo="+encodeURIComponent(this.flo)),this.currency&&(a+="&currency="+encodeURIComponent(this.currency)),this.filters&&(a+="&if="+encodeURIComponent(this.filters)),this.refinements&&(a+="&rfm="+encodeURIComponent(this.refinements),this.doRefinementsFallback&&(a+="&rfb="+encodeURIComponent(this.doRefinementsFallback))),this.devFlags.rad&&(a+="&rad=t"),typeof this.radLevel!=RR.U&&(a+="&radl="+encodeURIComponent(this.radLevel)),typeof this.cfrad!=RR.U&&(a+="&cfrad="+this.cfrad),typeof this.context!=RR.U)for(i in this.context)if(j=this.context[i],a+="&"+i+"=",RR.isArray(j))a+=encodeURIComponent(j.join("|"));else if(j===Object(j)){l=[],k="";for(f in j)k=f+":",k+=RR.isArray(j[f])?j[f].join(";"):j[f],l.push(k);a+=encodeURIComponent(l.join("|"))}else a+=encodeURIComponent(j);if(this.registryId&&(a+="&rg="+encodeURIComponent(this.registryId)),this.registryType&&(a+="&rgt="+encodeURIComponent(this.registryType)),typeof this.searchTerms!=RR.U&&(a+="&st="+encodeURIComponent(this.searchTerms)),this.jsonCallback&&(a+="&jcb="+encodeURIComponent(this.jsonCallback)),this.blockeditemIds&&(a+="&bi="+encodeURIComponent(this.blockeditemIds)),this.itemIds&&(a+="&p="+encodeURIComponent(this.itemIds)),c.startRow>0&&(a+="&rssr="+encodeURIComponent(c.startRow)),c.count>0&&(a+="&rsrc="+encodeURIComponent(c.count)),"undefined"!=typeof c.priceRanges&&c.priceRanges.length>0){for(h=c.priceRanges.length;h>o;o+=1)p.push(c.priceRanges[o].join(";"));a+="&rspr="+encodeURIComponent(p.join("|"))}for(e in c.filterAttributes)m.push(e+":"+c.filterAttributes[e].join(";"));return m.length>0&&(a+="&rsfoa="+encodeURIComponent(m.join("|"))),this.devFlags.debugMode&&(this.devFlags.displayModeForced&&(a+="&fdm=t"),this.devFlags.devModeForced&&(a+="&dev=t"),this.devFlags.dummyDataUsed&&(a+="&udd=t")),""!==RR.d.referrer&&typeof RR.d.referrer!=RR.U?r=RR.d.referrer:""!==RR.d.referer&&typeof RR.d.referer!=RR.U&&(r=RR.d.referer),""!==r&&(a+="&pref="+encodeURIComponent(r)),g=RR.c("rr_rcs"),g.length&&(a+="&rcs="+g),this.spoof&&(a+="&spoof="+encodeURIComponent(this.spoof)),this.rrPreview&&(a+="&preview="+this.rrPreview),this.tsSpoof&&(a+="&test_rt="+encodeURIComponent(this.tsSpoof)),a+="&l=1"}}function r3_placement(a){var b="rr_placement_"+rr_placement_place_holders.length;document.write('<div id="'+b+'"></div>'),rr_placement_place_holders.push({elementId:b,placementType:a})}function r3(a,b,c){typeof c!=RR.U&&c||RR.js()}function rr_flush_onload(){RR.onloadCalled||(RR.onloadCalled=!0,rr_onload_called=!0,rr_flush())}function rr_flush(){}function rr_insert_placement(a,b){RR.insert(a,b,rr_placements)}var rr_v="1.2.6.20191022",rr_onload_called=!1,rr_placements=[],rr_placement_place_holders=[],RR;RR=function(){function a(b,c){var d,e=b.cloneNode(!1);if("SCRIPT"===e.nodeName)e.text=b.innerHTML,c.appendChild(e);else if("#text"===e.nodeName)c.appendChild(e);else for(c.appendChild(e),d=0;d<b.childNodes.length;d++)a(b.childNodes[d],e)}function b(a){var b=document.createElement("script");b.type="text/javascript",b.charset=RR.charset,b.src=a,b.async=!0,document.getElementsByTagName("head")[0].appendChild(b)}function c(a){var b=a.split(".").reverse(),c=b.length;return c>=3&&b[1].match(/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i)?b[2]+"."+b[1]+"."+b[0]:b[1]+"."+b[0]}return{U:"undefined",charset:"UTF-8",rcsCookieDefaultDuration:730,registeredPageTypes:{},registerPageType:function(a){var b=a.type||"NOTYPE";RR.registeredPageTypes[b]=a},unregisterPageType:function(a){if(!a){if(!this.type)return;a=this}RR.registeredPageTypes[a.type]=null},unregisterAllPageType:function(a){for(var b in RR.registeredPageTypes){if(!a&&"COMMON"===b)break;RR.registeredPageTypes.hasOwnProperty(b)&&RR.unregisterPageType(RR.registeredPageTypes[b])}},setCharset:function(a){RR.charset=a},isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)},fixName:function(a){var b=String(a);return b.indexOf("&amp;")>-1&&(b=b.replace(/&amp;/g,"&")),b.indexOf("&#039;")>-1&&(b=b.replace(/&#039;/g,"'")),b},l:location.href,d:document,c:function(a,b,d,e){if(typeof b==RR.U||null===b){if(-1!=d){if(RR.d.cookie.length>0)for(var f=RR.d.cookie.split(";").reverse(),g=0,h=f.length;h>g;g++){var i=f[g];i="function"==typeof i.trim?i.trim():i.replace(/^\s+|\s+$/g,"");var j=i.indexOf(a+"=");if(0===j){j=j+a.length+1;var k=i.length;return unescape(i.substring(j,k))}}try{var l=new Date;l=l.getTime();var m=JSON.parse(localStorage.getItem(a));if(m&&m.expires>l)return m.value}catch(n){}return""}RR.d.cookie=a+"=;path=/;expires=Thu, 01-Jan-1970 00:00:01 GMT";try{localStorage.removeItem(a)}catch(n){}}else if(d){var o=new Date,p=e?c(window.location.hostname):"";o=new Date(o.getTime()+1e3*d*60*60*24),RR.d.cookie=a+"="+escape(b)+";path=/;domain="+p+";expires="+o.toUTCString();try{var m={value:b,expires:o.getTime()};localStorage.setItem(a,JSON.stringify(m))}catch(n){}}else RR.d.cookie=a+"="+escape(b)},id:function(a){return RR.d.getElementById(a)},lc:function(a){if(-1===a.indexOf("=")&&(a+="="),-1===a.indexOf("?")&&-1===a.indexOf("&")){var b=RR.l.indexOf("?"+a);return-1===b&&(b=RR.l.indexOf("&"+a)),-1!==b}return-1!==RR.l.indexOf(a)},ol:function(a){if("function"!=typeof window.onload)window.onload=a;else{if(typeof window.rr_onloads==RR.U){var b=window.onload;window.rr_onloads=[b],window.onload=function(a){for(;window.rr_onloads.length>0;){var b=window.rr_onloads.shift();b&&"function"==typeof b&&b.call(window,a)}}}window.rr_onloads.push(a)}},pq:function(a){var b=RR.l.indexOf("?"+a+"=");-1==b&&(b=RR.l.indexOf("&"+a+"="));var c;if(-1!==b){b++;var d=RR.l.indexOf("&",b);c=-1!=d?RR.l.substring(b+a.length+1,d):RR.l.substring(b+a.length+1,RR.l.length)}else c="";return c},debugWindow:function(a){var b=RR.d.createElement("DIV");b.innerHTML=a,b.style.position="absolute",b.style.top="0px",b.style.right="0px",b.style.zIndex="10000",b.style.width="200px",b.style.border="2px solid black",b.style.padding="5px",b.style.background="#DDD",RR.d.body.insertBefore(b,RR.d.body.firstChild)},jsonCallback:function(a){},defaultCallback:function(b){var c,d,e,f,g,h,i,j,k=b.placements,l=rr_placement_place_holders;for(h=0;h<l.length;h++)if(g=!1,c=RR.id(l[h].elementId),c&&typeof c!=RR.U)for(i=0;i<k.length;i++)if(!k[i].used&&k[i].placementType==l[h].placementType){if(k[i].placeholderIndex=h,k[i].used=!0,-1==k[i].html.indexOf("<script")?(c.innerHTML=k[i].html,g=!0):RR.d.implementation.hasFeature("Range","2.0")&&RR.d.createRange&&(e=RR.d.createRange(),e.selectNodeContents&&e.createContextualFragment&&e.detach&&(e.selectNodeContents(c),f=e.createContextualFragment(k[i].html),c.appendChild(f),e.detach(),g=!0)),!g)for(d=RR.d.createElement("div"),d.innerHTML=k[i].html,j=0;j<d.childNodes.length;j++)a(d.childNodes[j],c);break}for(rr_placements=[],i=0;i<k.length;i++)rr_placements[i]=[k[i].used?1:0,k[i].placementType,k[i].html];if(typeof rr_remote_data!==RR.U&&rr_remote_data.length){var m=RR.rcsCookieDuration||RR.rcsCookieDefaultDuration;RR.c("rr_rcs",rr_remote_data.toString(),m,!0)}},onloadCalled:!1,js:function(a){var c="",d=!1,e="";return RR.registeredPageTypes.COMMON&&typeof RR.registeredPageTypes.COMMON.baseUrl!=RR.U&&typeof RR.registeredPageTypes.COMMON.apiKey!=RR.U?(typeof RR.registeredPageTypes.COMMON.placementTypes!==RR.U&&""!==RR.registeredPageTypes.COMMON.placementTypes||(d=!0),RR.registeredPageTypes.PURCHASED?(e="purchase_complete_page",c=RR.registeredPageTypes.PURCHASED.createScript(c)):RR.registeredPageTypes.CART?(e="cart_page",c=RR.registeredPageTypes.CART.createScript(c)):RR.registeredPageTypes.ADDTOCART?(e="add_to_cart_page",c=RR.registeredPageTypes.ADDTOCART.createScript(c)):RR.registeredPageTypes.ADDTOREGISTRY?(e="add_to_registry_page",c=RR.registeredPageTypes.ADDTOREGISTRY.createScript(c)):RR.registeredPageTypes.ITEM?(e="item_page",c=RR.registeredPageTypes.ITEM.createScript(c)):RR.registeredPageTypes.BRAND?(e="brand_page",c=RR.registeredPageTypes.BRAND.createScript(c)):RR.registeredPageTypes.CATEGORY?(e="category_page",c=RR.registeredPageTypes.CATEGORY.createScript(c)):RR.registeredPageTypes.SEARCH?(e="search_page",c=RR.registeredPageTypes.SEARCH.createScript(c)):RR.registeredPageTypes.WISHLIST?(e="cart_page",c=RR.registeredPageTypes.WISHLIST.createScript(c)):RR.registeredPageTypes.HOME?(e="home_page",c=RR.registeredPageTypes.HOME.createScript(c)):RR.registeredPageTypes.PERSONAL?(e="personal_page",c=RR.registeredPageTypes.PERSONAL.createScript(c)):RR.registeredPageTypes.GENERIC?(e="generic_page",c=RR.registeredPageTypes.GENERIC.createScript(c)):RR.registeredPageTypes.ERROR&&(e="error_page",c=RR.registeredPageTypes.ERROR.createScript(c)),c=RR.registeredPageTypes.COMMON.createScript(c,d,e),a||(setTimeout(function(){b(c)},10),RR.ol(rr_flush_onload)),c):void 0},insert:function(b,c,d){var e,f,g,h,j,k;for(j=0;j<d.length;j++)if(e=!1,0===d[j][0]&&d[j][1]==c){if(d[j][0]=1,-1==d[j][2].indexOf("<script")?(b.innerHTML=d[j][2],e=!0):RR.d.implementation.hasFeature("Range","2.0")&&RR.d.createRange&&(g=RR.d.createRange(),g.selectNodeContents&&g.createContextualFragment&&g.detach&&(g.selectNodeContents(b),h=g.createContextualFragment(d[j][2]),b.appendChild(h),g.detach(),e=!0)),!e)for(f=RR.d.createElement("div"),f.innerHTML=d[i][2],k=0;k<f.childNodes.length;k++)a(f.childNodes[k],b);return}},get:function(a){return this[a]},set:function(a,b){return this[b]=RR.fixName(a),this[b]},add:function(a,b){return typeof this[b]==RR.U&&(this[b]=""),this[b]+="|"+RR.fixName(a),this[b]},addObject:function(a,b,c){var d,e,f;(typeof this[b]==RR.U||c)&&(this[b]={});for(d in a)if(e=a[d],void 0===this[b][d])this[b][d]=e;else if(this[b][d]===Object(this[b][d])&&e===Object(e))for(f in e)this[b][d][f]=e[f];else{var g=this[b][d],h=e;RR.isArray(g)||(g=[g]),RR.isArray(e)||(h=[e]),this[b][d]=g.concat(h)}},addItemId:function(a,b){var c=a;typeof b!=RR.U&&(c=c+"~"+b),RR.add.call(RR.registeredPageTypes.COMMON,c,"itemIds")},addItemIdToCart:function(a,b){var c=a;typeof b!=RR.U&&(c=c+"~"+b),RR.add.call(this,c,"addedToCartItemIds")},addSearchTerm:function(a){RR.add.call(RR.registeredPageTypes.COMMON,a,"searchTerms")},genericAddItemPriceQuantity:function(a,b,c,d,e){typeof c==RR.U&&(c=0),typeof e==RR.U&&(e=-1),e=String(e),-1!=e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),RR.addItemId.call(this,a,b),RR.add.call(this,c,d),RR.add.call(this,e,"quantities")},addItemIdCentsQuantity:function(a,b,c,d){RR.genericAddItemPriceQuantity.call(this,a,d,b,"purchasesCents",c)},addItemIdDollarsAndCentsQuantity:function(a,b,c,d){RR.genericAddItemPriceQuantity.call(this,a,d,b,"purchasesDollarsAndCents",c)},addItemIdPriceQuantity:function(a,b,c,d){RR.genericAddItemPriceQuantity.call(this,a,d,b,"purchasesPrice",c)},checkParamCookieValue:function(a,b,c,d){var e,f=RR.pq(b),g=RR.pq(c),h=new RegExp("^\\w+$");if(h.test(f))return"session"===g?RR.c(d,f):isNaN(parseInt(g))?RR.c(d,null,-1):RR.c(d,f,g),RR.debugWindow(a+' set to "'+f+'".'),f;if(f=RR.c(d),f&&h.test(f)){if(e=RR.pq("r3_mvtCookie"),"remove"!==e)return RR.debugWindow(a+' set to "'+f+'". To remove from cookie, add '+c+"=remove to your query parameters."),f;RR.c(d,null,-1)}return null}}}();var RR=window.RR||{};RR.renderDynamicPlacements=function(){if(rr_dynamic&&rr_dynamic.placements)for(var a=0;a<rr_dynamic.placements.length;a++)RR.insertDynamicPlacement(rr_dynamic.placements[a])},RR.insertDynamicPlacement=function(a){var b,c,d,e,f;try{if(b=JSON.parse(a.anchoringData),c=RR.getDomElement(b.selectors),!c)throw new Error("Unable to find DOM element");if(!a.html)throw new Error("Unable to render html");if(-1!=a.html.indexOf("<script")&&RR.d.createRange&&(f=RR.d.createRange(),f.selectNodeContents&&f.createContextualFragment&&f.detach))return f.selectNodeContents(c),e=f.createContextualFragment(a.html),d=document.createElement("div"),d.appendChild(e),c.insertAdjacentElement(b.position,d.children[0]),void f.detach();d=document.createElement("div"),d.innerHTML=a.html,c.insertAdjacentElement(b.position,d.children[0])}catch(g){console.log("Unable to insert dynamic placement: ",a.name),console.log(g.message)}},RR.getDomElement=function(a){var b=null;if(!a||!a.length)return null;for(var c=0;c<a.length&&("string"!=typeof a[c]||!(b=document.querySelector(a[c])));c++);return b};
}`;case"tour":return`${e}:${t.tourSlug}`}}(i,s),u=new URLSearchParams(location.search);return u.append("help-page",l),a.createElement(a.Fragment,null,a.createElement(m.Z,{small:!0}),a.createElement(o.Z,{id:"uhqm-home-button",size:"small",onPress:r},a.createElement(T.Z,null)),e&&a.createElement(f.Modal,{onClose:r,useWindowHeight:!1},a.createElement(E.Z,null,n(`help-tool.shareButton.title.${i}`)),a.createElement(C.Z,{name:"radio",defaultValue:"home",options:[{description:n("help-tool.shareButton.descriptionHome"),value:"home",label:n("help-tool.shareButton.radioItemHome"),content:a.createElement(P.Z,{gray:!0},a.createElement(I.Z,{correctFootprint:!0},`https://portal.klarna.com?${u.toString()}`))},{description:n("help-tool.shareButton.descriptionCurrent"),value:"current",label:n("help-tool.shareButton.radioItemCurrent"),content:a.createElement(P.Z,{gray:!0},a.createElement(I.Z,{correctFootprint:!0},`https://portal.klarna.com${location.pathname}?${u.toString()}`))}]})))};var x=n("VRwF"),z=n("4Q/P");function j(){const e=h.hooks.useTranslator(),{close:t,navigation:n,searchQuery:r,setSearchQuery:k,isSearching:S,setIsSearching:T}=(0,y.XS)(),{setSidePanelOpen:E}=(0,v.useSidePanelContext)(),C=(0,i.useSelector)(b.selectors.isKlarnaRealm),P=()=>a.createElement(o.Z,{id:"uhqm-close-button",size:"small",onPress:I},a.createElement(s.Z,null));function I(){S&&k(""),n.reset(),L(),t(),E(!1)}const x={padding:"16px 20px 30px 30px",backgroundColor:l.default.Palette.Opal},z={display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 20px",height:60,backgroundColor:l.default.Palette.Opal};return 1===n.stacksize?a.createElement("header",{style:x},a.createElement(f.Flex,{justifyContent:"flex-end"},a.createElement(P,null)),a.createElement(u.Z,{medium:!0}),a.createElement(w,null),a.createElement(u.Z,{medium:!0}),a.createElement(f.SearchField,{id:"uhqm-search-input",focused:!0,value:r,onChange:k,label:e("help-tool.search.input",{},"Search for articles ...")})):a.createElement(a.Fragment,null,a.createElement("header",{style:z},a.createElement(d.Z,{Icon:c.Z,ariaLabel:"Back",id:"uhqm-back-button",onPress:function(){n.pop(),L()},size:"small"}),a.createElement("div",{style:{display:"flex"}},a.createElement(O,{testId:"uhqm-search-button",label:e("help-tool.search.buttonLabel",{},"Search"),Icon:p.Z,onClick:function(){S&&k(""),T(!S)},toggled:S,size:"small"}),a.createElement(m.Z,{small:!0}),a.createElement(o.Z,{id:"uhqm-home-button",size:"small",onPress:function(){n.reset(),L()}},a.createElement(g.Z,null)),C&&a.createElement(A,null),a.createElement(m.Z,{small:!0}),a.createElement(P,null))),S&&a.createElement("div",{style:{padding:"10px 20px"}},a.createElement(f.SearchField,{id:"uhqm-search-input",focused:!0,value:r,onChange:k,label:e("help-tool.search.input",{},"Search for articles ...")})))}const O=({testId:e,label:t,Icon:n,onClick:r,toggled:i=!1})=>i?a.createElement(k.Z,{"data-testid":e,size:"small",ariaLabel:t,onPress:r},a.createElement(n,null)):a.createElement(o.Z,{"data-testid":e,size:"small",ariaLabel:t,onPress:r},a.createElement(n,null)),L=()=>(0,x.P5)(z.uH);O.propTypes={testId:r.string.isRequired,label:r.string.isRequired,Icon:r.func.isRequired,onClick:r.func.isRequired,toggled:r.bool}},QFjy:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var a=n("ERkP"),r=n("aWzz"),i=n.n(r),o=n("p7Sg"),s=n("Caap"),l=n("lYcC"),u=n("tR9r"),d=n("lLZn"),c=n("Jioa"),p=n("bSWz"),m=function(){var e=(0,p.m)();(0,a.useEffect)((function(){var t=setInterval((function(){(0,c.Pe)()&&(n(),(0,c.e$)(e))}),100),n=function(){t&&clearInterval(t)};return setTimeout(n,15e3),n}),[])};const g=120;function k({isXLDesktop:e}){return{position:e?"absolute":"fixed",bottom:0,transition:"bottom .2s ease-in-out",width:"100%",height:g,background:"linear-gradient(0, rgba(255,255,255,1) 60%, rgba(255,255,255,0) 100%)",padding:20,display:"flex",justifyContent:"center",alignItems:"flex-end"}}function h({container:e}){const{navigation:t}=(0,d.XS)();m();const n=u.hooks.useTranslator(),{isXLDesktop:r}=(0,l.useResponsiveContext)();return["supportHelpbot","support","supportChannelSelector"].includes(t.activePage.path)?null:a.createElement("div",{style:k({isXLDesktop:r})},a.createElement(o.Z,{"data-browser-test-id":"uhqm-chat-button",icon:s.Z,size:"medium",onClick:()=>{t.push("supportHelpbot")}},n("helpbot.button.label")))}h.propTypes={container:i().instanceOf(Element)}},"4HAR":(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n("ERkP"),r=n("aWzz"),i=n.n(r),o=n("P3Ru"),s=n("lLZn"),l=n("vTWI");function u({title:e,analyticsCategory:t,query:n}){const r=(0,s.cF)(n),i=!r||""===r,u=(0,o.Dm)({contentType:"UHQMArticle",filters:{query:r,"hidden[ne]":!0},skip:i});return a.createElement(l.Z,{title:e,articles:u,analyticsCategory:t})}u.propTypes={title:i().string.isRequired,analyticsCategory:i().string.isRequired,query:i().string}},vTWI:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a=n("ERkP"),r=n("aWzz"),i=n.n(r),o=n("tR9r"),s=n("tqbn"),l=n("eJn+"),u=n("3vfH"),d=n("lLZn");p.propTypes={title:i().string.isRequired,articles:i().arrayOf(i().object.isRequired),analyticsCategory:i().string.isRequired};const c=(e,t)=>n=>{n.preventDefault(),e.push("article",{articleSlug:t.slug})};function p({articles:e,title:t,analyticsCategory:n}){const{navigation:r}=(0,d.XS)(),i=(0,d.Gz)(e);if(!i)return null;const p=i.filter((e=>!e.hidden));if(!p||!p.length)return null;const m=p.slice(0,4);return a.createElement("div",null,a.createElement(s.Z,{small:!0}),a.createElement(l.Z,null,a.createElement(o.Message,{path:t})),m.map((e=>a.createElement("div",{key:e.id},a.createElement(s.Z,{extraSmall:!0}),a.createElement(u.ggu,{onClick:c(r,e)},e.title)))),a.createElement(s.Z,{small:!0}))}},tul4:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>La});var a=n("ERkP"),r=n("lLZn"),i=n("aWzz"),o=n.n(i),s=n("Y4Ca"),l=n("tqbn"),u=n("P3Ru"),d=n("UTGr"),c=n("yd50");function p({articles:e,analyticsCategory:t}){const{navigation:n}=(0,r.XS)();return e&&e.length?a.createElement(c.Z,{id:"uhqm-article-list",onSelect:function(t){const a=e.find((e=>e.id===t));n.push("article",{articleSlug:a.slug})},options:m(e)}):null}function m(e){return e.map((e=>({value:e.id,label:e.title})))}p.propTypes={articles:o().arrayOf(o().object).isRequired,analyticsCategory:o().string.isRequired};var g=n("Y5+s");function k({parameters:{topicSlug:e},navigation:t}){const n=(0,u.t)({filters:{slug:e},contentType:"UHQMTopic"});return n?a.createElement("div",null,a.createElement(d.Analytics,{category:"uhqm/page/topic",action:"pageview",label:n.name,referenceType:"topic",referenceId:n.id}),a.createElement(s.Z,{id:"uhqm-topic-title"},a.createElement("span",{style:{overflowWrap:"break-word"}},n.name)),a.createElement(l.Z,{small:!0}),a.createElement(h,{articles:n.articles})):a.createElement(g.Z,null)}function h({articles:e}){const t=(0,r.Gz)(e);if(!t)return null;const n=function(e){return e.filter((e=>!e.hidden))}(t);return a.createElement(p,{articles:n,analyticsCategory:"uhqm/article-title/topic"})}k.propTypes={parameters:o().shape({topicSlug:o().string}),navigation:o().shape({push:o().func,replace:o().func,pop:o().func}).isRequired},h.propTypes={articles:o().arrayOf(o().object.isRequired).isRequired};var b=n("eJn+"),f=n("tR9r"),v=n("JTLF"),y=n("HJJb"),S=n("IgB6"),w=n("7/nm");function T(e){return(0,v.useSelector)(w.selectors.getUserAccessibleApps)(e).map((({clientId:e})=>e))}var E=n("h6pt"),C=n("W6jZ");var P=n("40c4");function I({items:e}){const{navigation:t}=(0,r.XS)(),n=e.map((e=>({label:e.title,description:e.description,icon:A(e.icon),value:e.id})));return a.createElement(c.Z,{key:"selector",onSelect:function(n){const a=e.find((e=>e.id===n)),{target:r}=a;switch(r.contentType){case"UHQMArticle":t.push("article",{articleSlug:r.slug});break;case"UHQMTour":t.push("tour",{tourSlug:r.slug})}},options:n})}function A(e){const t=P[e];return t?a.createElement(t,null):null}I.propTypes={items:o().arrayOf(o().shape({id:o().string.isRequired,target:o().object.isRequired,title:o().string.isRequired,description:o().string.isRequired,icon:o().string.isRequired})).isRequired};const x=function(){const e=y.hooks.useTokenHelper(),t=(0,v.useSelector)(y.selectors.isKlarnaRealm),{data:n,isLoading:r}=function(e){const t=(0,v.useStore)(),[n,r]=(0,a.useState)(null),[i,o]=(0,a.useState)(!1),s=T(e).includes("disputes-fe");return(0,a.useEffect)((()=>{if(s){const e=t.getState();!async function(e,t,n){t(!0);try{n((await e.request({method:"POST",url:"/v3/disputes/search",data:{investigation_status:"unresolved",sort_options:[{field:"investigation_deadline_expires_at",direction:"asc"}]}})).data.pagination.total)}catch(e){S.Tb(e),n(0)}finally{t(!1)}}(y.selectors.createBackendClient(e)("disputes"),o,r)}}),[t]),{data:n,isLoading:i}}(e),i=!r&&n&&n>0?"merchant-orientation-v2-disputes":"merchant-orientation-v2",{data:o,isLoading:s}=function(e,t){const n=(0,u.Dm)({contentType:"Orientation",filters:{slug:e},include:2}),a=T(t),r=(0,C.hz)(),i=(0,v.useSelector)(y.selectors.isKlarnaRealm);if(!n||!r)return{isLoading:!0};const o=n[0];if(!o)return{isLoading:!1};const s=o.orientationItems.filter((e=>t=>!t.experimentationFeature||(0,E.Z)([t.experimentationFeature,"variate_id"],e)===t.experimentationVariate)(r)).filter(((e=[])=>t=>{if(t.requiredApps&&t.requiredApps.length>0)for(const n of t.requiredApps)if(!e.includes(n))return!1;return!0})(a));return{isLoading:!1,data:{...o,orientationItems:i?o.orientationItems:s}}}(i,e),l=(e=>{const t=(0,C.SS)(e);return!(!t||!t.is_enabled)&&"true"===t.is_enabled})("meg.uhqm.orientation-v2"),d=t||l,c=(null==o?void 0:o.orientationItems.length)>0;return r||s||!d||!c?null:a.createElement(a.Fragment,null,a.createElement(b.Z,null,a.createElement(f.Message,{path:"orientation.title",fallback:"Learn how to ..."})),a.createElement(I,{items:o.orientationItems}))};var z=n("KmH7"),j=n("omU6"),O=n("u9N9"),L=n("H21b"),D=n("4h86"),M=n("vTWI");function F(e,t){return null!=e&&e.relatedTopic?{id:e.relatedTopic.id}:null!=e&&e.id?{links_to_entry:e.id}:t&&t.length>0?{"slug[in]":t.join(",")}:void 0}function N({article:e,topicSlugs:t,analyticsCategory:n}){const r=(0,u.Dm)({contentType:"UHQMTopic",filters:F(e,t)}),i=(0,z.Z)((0,j.Z)((e=>e.articles||[])),O.Z,L.Z,(0,D.Z)((t=>!e||t.id!==e.id)))(r||[]);return a.createElement(M.Z,{title:"help-tool.relatedContent.title",articles:i,analyticsCategory:n})}N.propTypes={article:o().shape({id:o().string.isRequired,relatedTopic:o().shape({id:o().string.isRequired})}),topicSlugs:o().arrayOf(o().string),analyticsCategory:o().string.isRequired};var B=n("y8kX"),R=n("S+Yj"),_=n("p7Sg"),Z=n("9vlI");H.propTypes={topics:o().arrayOf(o().object.isRequired).isRequired,analyticsCategory:o().string.isRequired,limit:o().number};const K=B.default.div.withConfig({displayName:"TopicList__Wrapper"})(["display:inline-block;margin-bottom:","px;margin-right:","px;button > div{height:auto !important;div:nth-child(2){width:100%;text-align:initial;}}"],R.default.Grid.SIZE,R.default.Grid.SIZE);function H({topics:e,analyticsCategory:t,limit:n=null}){const r=f.hooks.useTranslator(),[i,o]=(0,a.useState)(!1),s=i?e.length:n||e.length,l=e.slice(0,s),u=e.length>l.length;return a.createElement("div",null,l.map(((e,n)=>a.createElement(G,{key:e.id,topic:e,index:n,analyticsCategory:t}))),u&&a.createElement(_.Z,{id:"uhqm-topic-link",onClick:()=>{o(!0)},size:"small"},`${r("help-tool.topics.expandButton")} >>`))}function G({topic:e,index:t,analyticsCategory:n}){const{navigation:i}=(0,r.XS)();return a.createElement(K,null,a.createElement(Z.Z,{id:"uhqm-topic-link",onClick:()=>{i.push("topic",{topicSlug:e.slug})},size:"small"},e.name))}function q(){const e=(0,u.Dm)({contentType:"UHQMTopic"});return e?a.createElement(H,{topics:e,analyticsCategory:"uhqm/topic-title/all",limit:6}):null}G.propTypes={topic:o().object.isRequired,index:o().number.isRequired,analyticsCategory:o().string.isRequired};var V=n("ReqN"),W=n("eVJ2"),U=n("9cga"),Y=n("3vfH"),J=n("KZQE");function Q({articleId:e,articleTitle:t}){return a.createElement(J.Z,{title:"help-tool.feedback.title",yesOptionLabel:"help-tool.feedback.optionYes",noOptionLabel:"help-tool.feedback.optionNo",yesFeedbackAlert:"help-tool.feedback.positiveFeedback",category:"uhqm/feedback",referenceType:"article",referenceId:e})}function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$.apply(this,arguments)}Q.propTypes={articleId:o().string.isRequired,articleTitle:o().string.isRequired};const X=(0,E.Z)(["data","target","file","url"]);function ee(e){return{renderNode:{[W.RG.PARAGRAPH]:(e,t)=>a.createElement(U.Z,null,t),[W.Ev.ENTRY_HYPERLINK]:(t,n)=>a.createElement(d.Analytics,{action:"click"},(r=>a.createElement(Y.nZ,{onClick:()=>{const{contentType:n,slug:a,id:i}=t.data.target;switch(n){case"UHQMTour":r({category:"uhqm/article-content-link/tour",label:a,referenceType:"tour",referenceId:i}),e.push("tour",{tourSlug:a});break;case"UHQMTopic":r({category:"uhqm/article-content-link/topic",label:a,referenceType:"topic",referenceId:i}),e.push("topic",{topicSlug:a});break;case"UHQMArticle":r({category:"uhqm/article-content-link/article",label:a,referenceType:"article",referenceId:i}),e.push("article",{articleSlug:a})}},inParagraph:!0,medium:!0},n))),[W.Ev.HYPERLINK]:(t,n)=>{return"help-page:change-of-bad"===t.data.uri?a.createElement(Y.nZ,{onClick:()=>{e.push("bad")},inParagraph:!0,medium:!0},n):a.createElement(Y.nZ,{target:(r=t.data.uri,r.startsWith(window.location.origin)||r.startsWith("/")?"_self":"_blank"),href:t.data.uri,inParagraph:!0,medium:!0},n);var r},[W.Ev.ASSET_HYPERLINK]:(e,t)=>a.createElement(Y.nZ,{target:"_blank",href:e.data.target.file.url,inParagraph:!0,medium:!0},t),[W.RG.EMBEDDED_ASSET]:(e,t)=>a.createElement("img",$({style:{maxWidth:"100%",marginTop:5},src:X(e)},e.data.target.description?{alt:e.data.target.description}:{}))}}}var te=n("YcIz"),ne=n("7nmT"),ae=n("4Q/P");ie.propTypes={onClick:o().func.isRequired};const re="position: absolute; top: 0; bottom: 0; left: 0; right: 0; z-index: 100; mix-blend-mode: hard-light; pointer-events: none;";function ie({children:e,onClick:t}){const n=document.createElement("div");n.style=re;const r=(0,a.useRef)(n);return(0,a.useLayoutEffect)((()=>{const e=document.querySelector(ae.BZ).parentNode;if(e)return e.appendChild(r.current),()=>e.removeChild(r.current)}),[r.current]),r&&r.current&&ne.createPortal(a.createElement("div",{onClick:t,id:"tour-overlay",style:{zIndex:9999,position:"fixed",top:0,bottom:0,left:0,right:0,background:"#000",opacity:.6,mixBlendMode:"hard-light",pointerEvents:"none"}},e),r.current)}const oe=ie,se=document.getElementById("root"),le={attributes:!0,childList:!0,subtree:!0};de.propTypes={target:o().string,onClickOutside:o().func};const ue=10;function de({target:e,onClickOutside:t}){const n=(0,a.useRef)(null),[r,i]=(0,a.useState)(null);function o(){if(n.current=document.querySelector(e),n.current&&"function"==typeof n.current.getBoundingClientRect){const e=n.current.getBoundingClientRect(),t=e.height+2*ue,a=e.width+2*ue,r=e.y-ue+window.pageYOffset,o=e.x-ue;i({height:t,width:a,top:r,left:o})}}const s=e=>{(({x:e,y:t})=>{if(n.current&&"function"==typeof n.current.getBoundingClientRect){const a=n.current.getBoundingClientRect(),r=a.height+2*ue,i=a.width+2*ue,o=a.y-ue,s=a.x-ue;return t>o&&t<o+r&&e>s&&e<s+i}})(e)||t()};return(0,a.useEffect)((()=>{const e=document.querySelector(ae.BZ).parentElement;return e.addEventListener("click",s),()=>e.removeEventListener("click",s)}),[]),(0,a.useEffect)((()=>{o(),n.current&&n.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"});const e=document.querySelector(ae.BZ).parentElement;e.addEventListener("scroll",o);const t=new MutationObserver(o);return t.observe(se,le),()=>{t.disconnect(),e.removeEventListener("scroll",o)}}),[e]),r?a.createElement("div",{style:{...r,position:"absolute",background:"gray"}}):null}const ce=de;var pe=n("zCf4"),me=n("J8MB"),ge=n("QWlZ");function ke({terms:e=[]}){return e.map((e=>a.createElement(a.Fragment,{key:e.id},a.createElement(me.Z,{title:e.word,content:[e.definition],iconType:ge.Z}),a.createElement(l.Z,{small:!0}))))}function he(e,t){if(!e)return;const n=window.location.pathname.replace(/\/+$/,""),a=e.replace(/\/+$/,"");if(n!==a){const e=n.replace(/^\/+/,"").split("/")[0],[r,...i]=a.replace(/^\/+/,"").split("/");e!==r?setTimeout((()=>{window.location.pathname=a}),300):t.push(`/${i.join("/")}`)}}function be({steps:e,title:t}){const[n,i]=(0,a.useState)(0),[o,u]=(0,a.useState)(e.length>0),[d,c]=(0,a.useState)(!1),[p,m]=(0,a.useState)(!1),g=(0,a.useRef)({}),{navigation:k}=(0,r.XS)(),h=(0,pe.k6)(),b=f.hooks.useTranslator(),v=e[n];(0,a.useEffect)((()=>{he(v.stepUrl,h)}),[]);const y=0===n?null:e[n-1];(0,r.Ac)(y&&y.optional?[y.selector]:null,(e=>e&&i(n-1)),2e3),(0,r.Ac)(v.stepCompleteSelectors,(e=>{e&&C()})),(0,a.useEffect)((()=>{m(!1)}),[v.selector]),(0,r.Ac)([v.selector],(e=>c(e)),5e3,(e=>{m(v.selectorFallbackContent&&!e)}));const S=(n+1)/e.length*100,w=!v.stepCompleteSelectors&&n<e.length-1&&!p,T=n===e.length-1&&!p,E=p?v.selectorFallbackContent:v.body;return a.createElement("div",null,a.createElement(U.Z,{medium:!0},t),a.createElement(l.Z,{small:!0}),a.createElement(te.Z,{percentage:S}),a.createElement(l.Z,{large:!0}),a.createElement(s.Z,{small:!0},v.title),a.createElement(l.Z,{small:!0}),(0,V.h)(E,ee(k)),a.createElement(l.Z,{small:!0}),a.createElement(ke,{terms:v.terms}),a.createElement("div",{style:{display:"flex",marginTop:10}},n>0&&a.createElement(_.Z,{size:"small",onClick:()=>{!function(){let t=n-1;for(;t>=0&&e[t].optional;)t-=1;he(e[t].stepUrl||g.current[t],h),i(t),u(!0)}()}},b("help-tool.tour.prev",{},"Previous")),w&&a.createElement("div",{style:{marginLeft:"auto"}},a.createElement(_.Z,{size:"small",onClick:()=>{C()}},b("help-tool.tour.next",{},"Next"))),T&&a.createElement("div",{style:{marginLeft:"auto"}},a.createElement(_.Z,{size:"small",onClick:()=>{k.pop()}},b("help-tool.tour.done",{},"Done"))),o&&d&&a.createElement(oe,{onClick:()=>u(!1)},a.createElement(ce,{target:v.selector,onClickOutside:()=>u(!1)}))));function C(){const t=e.findIndex(((e,t)=>t>n&&!e.optional)),a=e[t].stepUrl;g.current[n]=window.location.pathname,he(a,h),i(t),u(!0)}}ke.propTypes={termIds:o().arrayOf(o().string)},be.propTypes={title:o().string.isRequired,steps:o().arrayOf(o().shape({id:o().string,selector:o().string,selectorFallbackContent:o().string,title:o().string,body:o().object,stepUrl:o().url,optional:o().bool,stepCompleteSelectors:o().arrayOf(o().string),terms:o().arrayOf(o().shape({id:o().string.isRequired,word:o().string.isRequired,definition:o().string.isRequired}))}))};const fe=be,ve=function(){const{navigation:e}=(0,r.XS)();return a.createElement("div",null,a.createElement(b.Z,null,a.createElement(f.Message,{path:"help-tool.notAvailableMobile.title",fallback:"Not Available"})),a.createElement(U.Z,null,a.createElement(f.Message,{path:"help-tool.notAvailableMobile.paragraph",fallback:"This content is not available on your device."})),a.createElement(l.Z,{medium:!0}),a.createElement(_.Z,{onClick:()=>e.pop()},a.createElement(f.Message,{path:"help-tool.notAvailableMobile.buttonBack",fallback:"Back"})))};var ye=n("lYcC");function Se({parameters:{tourSlug:e}}){const{isMobile:t,isTablet:n}=(0,ye.useResponsiveContext)(),r=(0,u.Dm)({contentType:"UHQMTour",filters:{slug:e},include:2});if(t||n)return a.createElement(ve,null);const i=r&&r.length>0?r[0]:null,o=i?i.items:[];return o&&0!==o.length?a.createElement(a.Fragment,null,a.createElement(fe,{steps:o,title:i.title}),a.createElement(d.Analytics,{category:"uhqm/page/tour",action:"pageview",label:e,referenceType:"tour",referenceId:r[0].id})):null}Se.propTypes={parameters:o().shape({tourSlug:o().string})};const we=Se;function Te({length:e,singleResultTranslation:t,multipleResultsTranslation:n}){return 0===e?null:a.createElement(b.Z,null,a.createElement(f.Message,{path:1===e?t:n,params:{count:e}}))}Te.propTypes={length:o().number.isRequired,singleResultTranslation:o().string.isRequired,multipleResultsTranslation:o().string.isRequired};var Ee=n("Eaxl");function Ce(){return a.createElement(a.Fragment,null,a.createElement(Ee.Z,{id:"uhqm-search-no-results"},a.createElement(f.Message,{path:"help-tool.search.results.empty",fallback:"Sorry, no results were found for your query. Try searching for a different term."})))}function Pe({topics:e,articles:t}){return e.length||t.length?a.createElement(a.Fragment,null,a.createElement(Te,{length:e.length,singleResultTranslation:"help-tool.search.results.singleTopicFound",multipleResultsTranslation:"help-tool.search.results.multipleTopicsFound"}),a.createElement(l.Z,{small:!0}),a.createElement(H,{topics:e,analyticsCategory:"uhqm/topic-title/search"}),!!e.length&&a.createElement(l.Z,{medium:!0}),a.createElement(Te,{length:t.length,singleResultTranslation:"help-tool.search.results.singleArticleFound",multipleResultsTranslation:"help-tool.search.results.multipleArticlesFound"}),a.createElement(p,{articles:t,analyticsCategory:"uhqm/article-title/search"})):a.createElement(Ce,null)}function Ie(){return a.createElement(Ee.Z,{id:"uhqm-search-loading"},a.createElement(f.Message,{path:"help-tool.search.loading",fallback:"Loading ..."}))}Pe.propTypes={topics:o().arrayOf(o().object).isRequired,articles:o().arrayOf(o().object).isRequired};var Ae=n("6Vjg");function xe(){return a.createElement(a.Fragment,null,a.createElement(b.Z,null,a.createElement(f.Message,{path:"help-tool.search.results.contact",fallback:"Can't find the help you need?"})),a.createElement(l.Z,{small:!0}),a.createElement(Ae.Z,{analyticsCategory:"uhqm/support-button/search"}),a.createElement(l.Z,{medium:!0}))}function ze(){const{searchQuery:e}=(0,r.XS)(),t=(0,u.Dm)({contentType:"UHQMTopic",filters:{query:e}}),n=(0,u.Dm)({contentType:"UHQMArticle",filters:{query:e,"hidden[ne]":!0}}),i=(0,r.Gz)(n);if(t&&i){const e=!!t.length||!!i.length;return a.createElement(a.Fragment,null,e&&a.createElement(a.Fragment,null,a.createElement(Pe,{topics:t,articles:i}),a.createElement(l.Z,{medium:!0})),a.createElement(xe,null),!e&&a.createElement(Ce,null))}return a.createElement(Ie,null)}function je({children:e}){const{navigation:{activePage:{searchQuery:t}}}=(0,r.XS)();return a.createElement(a.Fragment,null,t&&a.createElement(ze,null),a.createElement("div",{style:{display:t?"none":"block"}},e))}je.propTypes={children:o().node};var Oe=n("f4Xc"),Le=n("qqbm"),De=n.n(Le),Me=n("PN1w"),Fe=n("Un9m"),Ne=n("6wiw");const Be=(0,Ne.Ry)().shape({mid:(0,Ne.Z_)().required("help-tool.support-page.create-ticket.fields.mid.validation"),topic:(0,Ne.Z_)().required("help-tool.support-page.create-ticket.fields.topic.validation"),subject:(0,Ne.Z_)().required("help-tool.support-page.create-ticket.fields.subject.validation"),description:(0,Ne.Z_)().required("help-tool.support-page.create-ticket.fields.description.validation")});var Re=n("8KVM"),_e=n("oAmM");const Ze=(0,a.createContext)();function Ke({namespace:e,suffix:t,children:n}){return a.createElement(Ze.Provider,{value:{namespace:e,suffix:t}},n)}Ke.propTypes={namespace:o().string.isRequired,suffix:o().string,children:o().node};const He=(0,a.createContext)();function Ge(e){const t=f.hooks.useTranslator(),n=(0,a.useContext)(Ze);if(n){const{namespace:a,suffix:r}=n,i=[a,e,r].filter(Boolean).join(".");return t(i,{},`Missing translation for label: ${i}`)}}function qe(e){const t=(0,a.useContext)(He),n=f.hooks.useTranslator(),[,r]=(0,Oe.useField)(e);if((r.touched||null!=t&&t.forceShowValidationErrors)&&r.error)return n(r.error)}function Ve(e,t){return`${e} · ${t}`}o().bool,o().object,o().node,n("iR/D"),o().string.isRequired,n("e8z8"),o().string.isRequired;var We=n("m5kL");function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ue.apply(this,arguments)}function Ye({name:e,...t}){const n=Ge(e),r=qe(e),[i,,{setValue:o}]=(0,Oe.useField)(e);return a.createElement(We.Z,Ue({},i,t,{error:void 0!==r,label:r?Ve(n,r):n,onChange:o}))}Ye.propTypes={name:o().string.isRequired};n("SZA+");o().arrayOf(o().shape({name:o().string.isRequired,Component:o().element.isRequired,props:o().object})).isRequired;var Je=n("9yrV");o().string.isRequired,o().arrayOf(o().object.isRequired).isRequired,n("FBGo"),o().string.isRequired;var Qe=n("ffUu");function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$e.apply(this,arguments)}function Xe({name:e,options:t,...n}){const r=Ge(e),i=qe(e),[o,,{setValue:s}]=(0,Oe.useField)(e),l=[{key:"",hidden:!0},...t];return a.createElement(Qe.Z,$e({},o,n,{error:void 0!==i,label:i?Ve(r,i):r,onChange:s,options:l}))}Xe.propTypes={name:o().string.isRequired,options:o().arrayOf(o().object).isRequired};var et=n("5Rel");dt.propTypes={testId:o().string,value:o().string,onChange:o().func.isRequired,onBlur:o().func.isRequired,placeholder:o().string,errorLabel:o().string};const{Salmiak:tt,Pumice:nt,Ming:at,Flint:rt,Cardinal:it,Scarlet:ot,Ballet:st}=R.default.Colors.palette,{KLARNA_TEXT_REGULAR:lt}=R.default.Fonts,ut=25;function dt({testId:e,value:t,onChange:n,onBlur:r,placeholder:i,errorLabel:o}){const[s,l]=(0,a.useState)(!1),u=(0,a.useRef)(),d=(0,ye.useGetToken)("corner-radius/s").value();return(0,a.useEffect)((()=>{u.current&&(u.current.innerText=t)}),[u.current]),a.createElement("div",{style:{borderRadius:d,borderStyle:"solid",borderWidth:"1px",borderColor:ct(pt(s,o)),textRendering:"geometricprecision",WebkitFontSmoothing:"antialiased",lineHeight:`${ut}px`,padding:15,backgroundColor:o?ct(st):"transparent"}},a.createElement("div",{style:{fontFamily:lt.fontFamily,fontWeight:lt.fontWeight,position:"relative"}},a.createElement("div",{ref:u,"data-testid":e,style:{minHeight:2*ut,maxHeight:6*ut,overflowX:"hidden",overflowY:"auto",outline:"none",whiteSpace:"pre-wrap",caretColor:ct(at),color:ct(tt)},onInput:e=>n(e.target.innerText),onFocus:()=>l(!0),onBlur:()=>{l(!1),r()},contentEditable:!0}),a.createElement("div",{style:{pointerEvents:"none",display:s||t&&""!==t.trim()?"none":"block",position:"absolute",top:0,color:ct(o?ot:rt)}},i),o&&a.createElement("div",{style:{color:ct(it),display:"flex",alignItems:"center"}},a.createElement("div",{style:{marginRight:9,display:"flex",alignItems:"center"}},a.createElement(et.Z,{color:"red"})),a.createElement("div",null,o))))}function ct(e){return`rgba(${e.red}, ${e.green}, ${e.blue}, ${e.alpha})`}function pt(e,t){return e?tt:t?ot:nt}function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mt.apply(this,arguments)}function gt({name:e,...t}){const n=Ge(e),r=qe(e),[i,,{setValue:o,setTouched:s}]=(0,Oe.useField)(e);return a.createElement(dt,mt({},i,{label:n},t,{testId:e,errorLabel:r,onChange:o,onBlur:()=>s(!0)}))}gt.propTypes={name:o().string.isRequired},n("yKkt"),n("41s3"),o().string.isRequired;var kt=n("JrWI"),ht=n("lHPB"),bt=n("nTvt"),ft=n("A5k7"),vt=n("V3ah");const yt=ht.Z(bt.Z("label"));function St({mids:e,t}){const n=((e,t=[],{disabledMids:n=[],pendingMids:a=[]}={})=>{const r=e.map((e=>{const r=ft.Z(vt.Z(e,"merchantId"),t),i=bt.Z("storeName",r),o=a.includes(e),s={disabled:n.includes(e),value:e};if(i)return{...s,description:o?`${e} - PENDING`:e,label:i};{const t={...s,label:e};return o&&(t.description="PENDING"),t}}));return yt(r)})(e,(0,v.useSelector)(y.selectors.getMerchants)),r=n.map((e=>e.value!==e.label?{...e,label:`${e.label} (${e.value})`,key:e.value}:{...e,key:e.value}));return a.createElement(Xe,{"data-testid":"store-selector",name:"mid",label:t("help-tool.support-page.create-ticket.fields.mid.label"),options:r})}St.propTypes={mids:o().arrayOf(o().string),t:o().func.isRequired},St.defaultProps={mids:[]};const wt=kt.Z(y.components.withTokenHelper((e=>({mids:e.getMids()}))),(0,v.connect)((e=>({t:(0,f.translator)(e)}))))(St),Tt=["orders","settlements","agreements","others"];function Et(){const e=f.hooks.useTranslator(),t=Tt.map((t=>({key:t,label:e(`help-tool.support-page.create-ticket.fields.topic.options.${t}`,{},t)})));return a.createElement(Xe,{"data-testid":"topic-selector",name:"topic",label:e("help-tool.support-page.create-ticket.fields.topic.label"),options:t})}var Ct=n("6ZzW"),Pt=n("4HAR");function It(){const e=f.hooks.useTranslator(),{isSubmitting:t}=(0,Oe.useFormikContext)(),[,{value:n}]=(0,Oe.useField)("subject");return a.createElement(Ke,{namespace:"help-tool.support-page.create-ticket.fields",suffix:"label"},a.createElement(wt,null),a.createElement(l.Z,{small:!0}),a.createElement(Ye,{name:"phoneNumber"}),a.createElement(l.Z,{medium:!0}),a.createElement(b.Z,null,e("help-tool.support-page.create-ticket.fields.topic.question")),a.createElement(l.Z,{small:!0}),a.createElement(Et,null),a.createElement(l.Z,{small:!0}),a.createElement(Ye,{"data-testid":"subject",name:"subject"}),a.createElement(l.Z,{small:!0}),a.createElement(gt,{"data-testid":"description",name:"description",placeholder:e("help-tool.support-page.create-ticket.fields.description.label")}),a.createElement(l.Z,{small:!0}),a.createElement(Pt.Z,{title:"help-tool.support-page.create-ticket.related-content.title",analyticsCategory:"uhqm/article-title/related/create-support-ticket",query:n}),a.createElement(l.Z,{small:!0}),a.createElement(b.Z,null,e("help-tool.support-page.create-ticket.fields.attachment.label")),a.createElement(l.Z,{small:!0}),a.createElement(Re.Z,{iconType:_e.Z,content:[`\n            ${e("help-tool.support-page.create-ticket.fields.attachment.info")}\n            ${e("help-tool.support-page.create-ticket.fields.attachment.supportedFileTypes")}\n          `]}),a.createElement(l.Z,{small:!0}),a.createElement(Ct.Z,{inputId:"file-input",inputLabel:e("help-tool.support-page.create-ticket.fields.attachment.button"),errorContent:[e("help-tool.support-page.create-ticket.fields.attachment.error",{maxSize:8})],maxTotalFileSizeMb:8}),a.createElement(l.Z,{small:!0}),a.createElement(_.Z,{type:"submit",loading:t,"data-testid":"submit"},e("help-tool.support-page.create-ticket.submit")),a.createElement(l.Z,{medium:!0}))}const At="create-ticket-form";function xt({setTicketId:e,setRegion:t}){const n=f.hooks.useTranslator(),r=(0,v.useSelector)(f.selectors.language),i=function(){const e=(0,v.useDispatch)();return(0,a.useCallback)(((t,n)=>{const a=`/api/{region}/support-center${t}`;return e(w.thunks.fetch(a,n))}),[e,w.thunks.fetch])}(),o=y.hooks.useTokenHelper(),u=(0,v.useSelector)(y.selectors.getMerchantRegion),d=(0,a.useRef)(null),[c,p]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1),k=o.getMids(),h={mid:1===k.length?k[0]:"",phoneNumber:"",topic:"",subject:"",description:""},b=a.createElement(Y.h_l,{"data-testid":"create-ticket-page-contact-link",href:"https://www.klarna.com/merchant-support",target:"_blank"},n("help-tool.support-page.create-ticket.contact-link"));return a.createElement("div",{"data-testid":"create-ticket-page"},c&&a.createElement("div",{"data-testid":"temp-unavailable-error"},a.createElement(Me.Z,{content:n("help-tool.support-page.create-ticket.service-unavailable-error",{link:b})}),a.createElement(l.Z,{small:!0})),m&&a.createElement("div",{"data-testid":"generic-error"},a.createElement(Me.Z,{content:n("help-tool.support-page.create-ticket.generic-error",{link:b})}),a.createElement(l.Z,{small:!0})),a.createElement(s.Z,null,n("help-tool.support-page.create-ticket.title")),a.createElement(U.Z,null,n("help-tool.support-page.create-ticket.instructions")),a.createElement(l.Z,{small:!0}),a.createElement(Oe.Formik,{validationSchema:Be,initialValues:h,onSubmit:async function(n,a){try{const a=d.current,o=new FormData(a),s=u(n.mid);p(!1),g(!1),o.append("referer",window.location.toString()),o.append("description",n.description),o.append("language",r);const l=await i("/v1/tickets",{method:"POST",data:o,region:s});window.sessionStorage&&window.sessionStorage.removeItem(At),e(l.data.id),t(null==s?void 0:s.toLowerCase())}catch(e){var o;a.setSubmitting(!1),429===(null===(o=e.response)||void 0===o?void 0:o.status)?p(!0):g(!0),(0,Fe.Z)("msx",e)}}},a.createElement(Oe.Form,{ref:d},a.createElement(It,null),window.sessionStorage&&a.createElement(De(),{name:At,storage:window.sessionStorage}))))}function zt({ticketId:e,region:t}){const{reset:n}=(0,r.XS)(),i=f.hooks.useTranslator(),o=y.hooks.useTokenHelper().getEmail(),u=(0,pe.k6)();return a.createElement("div",{"data-testid":"view-ticket-page"},a.createElement(s.Z,null,i("help-tool.support-page.view-ticket.title")),a.createElement(l.Z,{small:!0}),a.createElement(U.Z,{"data-testid":"ticket-details"},a.createElement("span",{"data-testid":"ticket-details-description"},i("help-tool.support-page.view-ticket.details")),a.createElement("br",null),a.createElement("span",{"data-testid":"ticket-details-id"},i("help-tool.support-page.view-ticket.ticket",{ticketId:e})),a.createElement("br",null),a.createElement("span",{"data-testid":"ticket-details-email"},i("help-tool.support-page.view-ticket.email",{email:o}))),a.createElement(l.Z,{small:!0}),a.createElement(U.Z,null,i("help-tool.support-page.view-ticket.status")),a.createElement(U.Z,null,a.createElement(Z.Z,{size:"medium","data-testid":"view-ticket-link",onClick:function(){n();const a=`/support/ticket/${t}-${e}`;window.location.pathname.startsWith("/support")?u.push(a):setTimeout((()=>{window.location=a}),300)}},i("help-tool.support-page.view-ticket.track"))))}xt.propTypes={setTicketId:o().func.isRequired,setRegion:o().func.isRequired},zt.propTypes={ticketId:o().string.isRequired,region:o().string.isRequired};var jt,Ot,Lt,Dt,Mt=n("5ene");!function(e){e.WHAT_HELP_WITH="WHAT_HELP_WITH",e.SELECT_PAYOUT="SELECT_PAYOUT",e.SELECT_ORDERS="SELECT_ORDERS",e.THAT_HELPED="THAT_HELPED",e.SELECT_SUPPORT_CHANNEL="SELECT_SUPPORT_CHANNEL",e.PAYOUT_NOT_PAID_CAPTURED_ORDERS="PAYOUT_NOT_PAID_CAPTURED_ORDERS",e.PAYOUT_WHEN_WILL_I_GET_PAID="PAYOUT_WHEN_WILL_I_GET_PAID",e.PAYOUT_PAID_WRONG_AMOUNT_CAPTURED_ORDERS="PAYOUT_PAID_WRONG_AMOUNT_CAPTURED_ORDERS",e.PAYOUT_CHANGE_PAYMENT_FREQUENCY="PAYOUT_CHANGE_PAYMENT_FREQUENCY",e.PAYOUT_CHANGE_PAYMENT_FREQUENCY_IS_UNABLE="PAYOUT_CHANGE_PAYMENT_FREQUENCY_IS_UNABLE",e.PAYOUT_CHANGE_PAYMENT_FREQUENCY_IS_ABLE="PAYOUT_CHANGE_PAYMENT_FREQUENCY_IS_ABLE",e.PAYOUT_NOT_PAID_IS_SCHEDULE_FOLLOWED="PAYOUT_NOT_PAID_IS_SCHEDULE_FOLLOWED",e.PAYOUT_PAID_WRONG_AMOUNT_IS_SCHEDULE_FOLLOWED="PAYOUT_PAID_WRONG_AMOUNT_IS_SCHEDULE_FOLLOWED",e.PAYOUT_NO_CAPTURED_ORDERS="PAYOUT_NO_CAPTURED_ORDERS",e.PAYOUT_IS_HOLDBACK_OR_DEBT="PAYOUT_IS_HOLDBACK_OR_DEBT",e.PAYOUT_SCHEDULE_FOLLOWED_EXPLANATION="PAYOUT_SCHEDULE_FOLLOWED_EXPLANATION",e.PAYOUT_NO_HOLDBACK="PAYOUT_NO_HOLDBACK",e.PAYOUT_WITH_HOLDBACK="PAYOUT_WITH_HOLDBACK",e.PAYOUT_FEES_RETURNS_HOLDBACKS_EXPLANATION="PAYOUT_FEES_RETURNS_HOLDBACKS_EXPLANATION",e.PAYOUT_PAID_WRONG_AMOUNT_SCHEDULE_FOLLOWED_EXPLANATION="PAYOUT_PAID_WRONG_AMOUNT_SCHEDULE_FOLLOWED_EXPLANATION",e.PAYOUT_WHEN_WILL_I_GET_PAID_CAPTURED_ORDERS="PAYOUT_WHEN_WILL_I_GET_PAID_CAPTURED_ORDERS",e.PAYOUT_WHEN_WILL_I_GET_PAID_SCHEDULE_FOLLOWED="PAYOUT_WHEN_WILL_I_GET_PAID_SCHEDULE_FOLLOWED",e.ORDERS_DONT_KNOW_HOW_TO_CAPTURE_ORDER="ORDERS_DONT_KNOW_HOW_TO_CAPTURE_ORDER",e.ORDERS_DONT_KNOW_HOW_TO_CAPTURE_ORDER_YES="ORDERS_DONT_KNOW_HOW_TO_CAPTURE_ORDER_YES",e.ORDERS_DONT_KNOW_HOW_TO_CAPTURE_ORDER_NO="ORDERS_DONT_KNOW_HOW_TO_CAPTURE_ORDER_NO",e.ORDERS_MISSED_CAPTURE_DEADLINE="ORDERS_MISSED_CAPTURE_DEADLINE",e.ORDERS_EXPIRATION_DATE_SURPASSED="ORDERS_EXPIRATION_DATE_SURPASSED",e.ORDERS_EXPIRATION_DATE_SURPASSED_CREDIT="ORDERS_EXPIRATION_DATE_SURPASSED_CREDIT",e.ORDERS_MISSED_CAPTURE_DEADLINE_NO="ORDERS_MISSED_CAPTURE_DEADLINE_NO",e.ORDERS_REFUND_AN_ORDER="ORDERS_REFUND_AN_ORDER",e.ORDERS_FULLY_CAPTURED_YES="ORDERS_FULLY_CAPTURED_YES",e.ORDERS_FULLY_CAPTURED_NO="ORDERS_FULLY_CAPTURED_NO",e.ORDERS_FULLY_CAPTURED_PARTIALLY="ORDERS_FULLY_CAPTURED_PARTIALLY"}(jt||(jt={})),function(e){e.GO_TO_HELP_HOME="GO_TO_HELP_HOME",e.GO_TO_CHANNEL_SELECTION="GO_TO_CHANNEL_SELECTION"}(Ot||(Ot={})),function(e){e[e.GET=0]="GET",e[e.POST=1]="POST"}(Lt||(Lt={})),function(e){e.EU="eu",e.US="us",e.AP="ap"}(Dt||(Dt={}));var Ft=[Dt.EU,Dt.AP,Dt.US],Nt=function(e,t,n,a,r){return void 0===r&&(r=Ft),Promise.all(r.map((function(r){return(0,Mt.__awaiter)(void 0,void 0,void 0,(function(){var i;return(0,Mt.__generator)(this,(function(o){switch(o.label){case 0:return[4,Bt({client:e,method:t,url:n,region:r,params:a})];case 1:return i=o.sent(),[2,{region:r,response:i}]}}))}))})))},Bt=function(e){var t=e.client,n=e.method,a=e.url,r=e.region,i=e.params;return(0,Mt.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,Mt.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.request({method:n,url:a,region:r,params:i})];case 1:return[2,o.sent()];case 2:throw e=o.sent(),S.Tb(e),e;case 3:return[2]}}))}))},Rt={eu:"",ap:"",us:""},_t=function(e){return function(t){return{marketCountryCodes:t.market_country_codes,timeFramesByWeekday:t.timeframes_by_weekday,timezone:t.timezone,region:e}}},Zt=function(e){return e.marketCountryCodes.length>0},Kt=function(e){var t=e.region;return e.response.data.map((function(e){return{region:t,countryCode:e}}))},Ht=function(e){return e.response.data.map((function(e){return{countryCode:e.market,isChatFeatureEnabled:e.is_feature_enabled}}))},Gt=n("WGMV"),qt=(0,a.createContext)(void 0),Vt=function(e){var t=e.children,n=(0,Gt.T)(),r=(0,Mt.__read)((0,a.useState)([]),2),i=r[0],o=r[1],s=(0,Mt.__read)((0,a.useState)([]),2),l=s[0],u=s[1],d=(0,Mt.__read)((0,a.useState)({eu:"",ap:"",us:""}),2),c=d[0],p=d[1],m=(0,Mt.__read)((0,a.useState)(!0),2),g=m[0],k=m[1];(0,a.useEffect)((function(){Promise.all([(0,Mt.__awaiter)(void 0,void 0,void 0,(function(){var e,t,a,r,i,s;return(0,Mt.__generator)(this,(function(l){switch(l.label){case 0:return[4,Ut(n)];case 1:return e=l.sent(),t=e.map(Kt).flat().filter((function(e){return e})),a=function(e){return e?e.map((function(e){return e.countryCode})):[]}(t),[4,Yt(n,a)];case 2:return r=l.sent(),i=r.map(Ht).flat().filter((function(e){return e})),s=function(e,t){if(!e)return[];var n=[];return e.forEach((function(a,r){return n.push((0,Mt.__assign)((0,Mt.__assign)({isChatFeatureEnabled:!1},e[r]),null==t?void 0:t.find((function(t){return t.countryCode===e[r].countryCode}))))})),n}(t,i),o(s),[2]}}))})),(0,Mt.__awaiter)(void 0,void 0,void 0,(function(){var e,t;return(0,Mt.__generator)(this,(function(a){switch(a.label){case 0:return[4,Jt(n)];case 1:return e=a.sent(),t=e.map((function(e){var t,n=e.response,a=e.region;return function(e,t){return e?e.map(_t(t)).filter(Zt):[]}(null===(t=n.data)||void 0===t?void 0:t.working_hours,a)})).flat().filter((function(e){return e})),u(t),[2]}}))})),(0,Mt.__awaiter)(void 0,void 0,void 0,(function(){var e,t;return(0,Mt.__generator)(this,(function(a){switch(a.label){case 0:return[4,Qt(n)];case 1:return e=a.sent(),t=function(e){var t=Rt;return e.forEach((function(e){var n;return t[e.region]=(null===(n=e.response.data)||void 0===n?void 0:n.restore_id)||""})),t}(e),p(t),[2]}}))}))]).then((function(){return k(!1),null})).catch($t)}),[]);var h={isLoading:g,data:{markets:i,workingHours:l,restoreId:c}};return a.createElement(qt.Provider,{value:h},t)},Wt=function(){var e=(0,a.useContext)(qt);if(!e)throw new Error("cannot get ChannelData state manager as it has not been provided");return e},Ut=function(e){return(0,Mt.__awaiter)(void 0,void 0,Promise,(function(){return(0,Mt.__generator)(this,(function(t){switch(t.label){case 0:return[4,Nt(e,Lt.GET,"v1/markets")];case 1:return[2,t.sent()]}}))}))},Yt=function(e,t){return(0,Mt.__awaiter)(void 0,void 0,Promise,(function(){return(0,Mt.__generator)(this,(function(n){switch(n.label){case 0:return[4,Nt(e,Lt.GET,"v1/chat/exp/feature",{markets:t},[Dt.EU])];case 1:return[2,n.sent()]}}))}))},Jt=function(e){return(0,Mt.__awaiter)(void 0,void 0,Promise,(function(){return(0,Mt.__generator)(this,(function(t){switch(t.label){case 0:return[4,Nt(e,Lt.GET,"v1/chat/working-hours")];case 1:return[2,t.sent()]}}))}))},Qt=function(e){return(0,Mt.__awaiter)(void 0,void 0,Promise,(function(){return(0,Mt.__generator)(this,(function(t){switch(t.label){case 0:return[4,Nt(e,Lt.GET,"v1/chat/restore-id")];case 1:return[2,t.sent()]}}))}))},$t=function(){},Xt=(0,a.createContext)(void 0),en=function(e){var t=e.children,n=Wt().data.markets,r=new Map(n.map((function(e){return[e.countryCode,!1]}))),i=(0,Mt.__read)((0,a.useState)(r),2),o=i[0],s=i[1],l={getIsChatLoading:function(e){return o.get(e)||!1},setChatIsLoading:function(e){o.set(e,!0),s(new Map(o))},resetIsChatLoading:function(){s(new Map(r))}};return a.createElement(Xt.Provider,{value:l},t)},tn=function(){var e=(0,a.useContext)(Xt);if(!e)throw new Error("cannot get ChannelSelectorProvider state manager as not been provided");return e},nn=n("NuYi"),an=n("eoeu"),rn=n("dB/i"),on=n("QmdC"),sn=n("O4xy"),ln=n("gS/z"),un=n("oMUX"),dn=n("KMmZ"),cn=n("3/Db"),pn=n("Sruw"),mn=n("uVBW"),gn=n("inWh"),kn=n("ifRX"),hn=n("720l"),bn=n("PUvk"),fn=n("rqhy"),vn=n("ztPy"),yn=n("joab"),Sn=n("XDfD"),wn=n("OiLV"),Tn=n("tCsb"),En=n("6qQh"),Cn=n("mksF"),Pn=n("NuL7"),In=n("EZu6"),An=n("y+H4"),xn=n("yazT");jn.propTypes={countryCode:i.string};const zn={AT:an.Z,AU:rn.Z,BE:on.Z,CA:sn.Z,CH:ln.Z,CZ:un.Z,DE:dn.Z,DK:cn.Z,GR:bn.Z,EE:pn.Z,ES:mn.Z,FI:gn.Z,FR:kn.Z,GB:hn.Z,IE:fn.Z,IT:vn.Z,MX:yn.Z,NL:Sn.Z,NO:wn.Z,NZ:Tn.Z,PL:En.Z,PT:Cn.Z,RO:Pn.Z,SE:In.Z,US:An.Z,GLOBAL:xn.Z};function jn({countryCode:e}){const t={height:20,width:20,viewBox:"0 0 180 180"};if(!((e="")=>Object.keys(zn).includes(e.toUpperCase()))(e))return a.createElement("svg",{width:"20",height:"20"},a.createElement("circle",{cx:"10",cy:"10",r:"10",fill:"grey"}));const n=zn[e.toUpperCase()];return a.createElement(n,t)}var On=n("a1jd"),Ln=n("Jioa"),Dn=n("cslq"),Mn=n("14G+"),Fn=n("b+gc"),Nn=n("bSWz"),Bn=n("NyOe"),Rn=n("0pdm"),_n=n("9MvL"),Zn=n("bUVC"),Kn=n("aaEH");const Hn=function(){var e=Wt().data,t=e.markets,n=e.workingHours;return{getIsChatActive:function(e){if(!function(e,t){var n=t.find((function(t){return t.countryCode===e}));return!!n&&n.isChatFeatureEnabled}(e,t))return!1;var a,r,i,o,s,l=n.find((function(t){return t.marketCountryCodes.includes(e)}));return!!l&&(a=l,r=new Date(Date.now()),i=a.timezone,o=new Date((0,Bn.utcToZonedTime)(r,i)),s=(0,Rn.Z)(o)-1,a.timeFramesByWeekday[s].some((function(e){return function(e,t){var n=(0,_n.Z)(e),a=(0,Zn.Z)(n,t.start),r=(0,Zn.Z)(n,t.end);return(0,Kn.Z)(e,{start:a,end:r})}(o,e)})))},getWorkingHoursRegion:function(e){var t;return null===(t=n.find((function(t){return t.marketCountryCodes.includes(e)})))||void 0===t?void 0:t.region}}},Gn=function(){var e,t;e=(0,v.useSelector)(y.selectors.getAccessToken),t=(0,v.useSelector)(y.selectors.createBackendClient),(0,a.useEffect)((function(){(0,Ln.Yk)(t)}),[e]);var n=(0,r.XS)(),i=(0,Mn.useSidePanelContext)().setSidePanelOpen,o=(0,r.XS)().setIsOpen,s=Wt().data,l=tn().resetIsChatLoading,u=Hn(),d=(0,Fn.F)(o,i),c=(0,Nn.m)(),p=function(){return d(!1)};return{navigateToCreateTicketPage:function(){n.navigation.push("support")},startChatConversation:function(e){(0,Ln.Uj)(function(e){var t=u.getWorkingHoursRegion(e),n=s.restoreId,a=(0,Dn.N)([p,l]);return(0,Mt.__assign)((0,Mt.__assign)({},c),{region:t,market:e,restoreIdByRegion:n,onChatWidgetOpens:a})}(e))}}};var qn=function(e,t){return{value:e,label:t("helpbot.contact.".concat(e))}};const Vn=function(e){var t=e.marketCountryCode,n=f.hooks.useTranslator(),r=Gn(),i=r.navigateToCreateTicketPage,o=r.startChatConversation,s=tn(),l=s.getIsChatLoading,u=s.setChatIsLoading,d=function(e,t){var n=[qn("ticket",t)];return e&&n.push(qn("chat",t)),n}(Hn().getIsChatActive(t),n);return a.createElement(a.Fragment,null,l(t)?a.createElement(On.ZP,null):a.createElement(c.Z,{onSelect:function(e){if("chat"===e)return o(t),void u(t);i()},options:d}))};var Wn=function(e,t){return e.map((function(e){return{label:t("core.countries.".concat(e.countryCode.toLowerCase())),value:e.countryCode,aside:a.createElement(jn,{countryCode:e.countryCode}),content:a.createElement(Vn,{marketCountryCode:e.countryCode})}}))};const Un=function(){var e=Wt().data.markets,t=f.hooks.useTranslator();return a.createElement(Je.Z,{options:Wn(e,t)})},Yn=function(){var e=f.hooks.useTranslator();return a.createElement("div",null,a.createElement(nn.Z,{textToken:"text-style/headings/titles/bold/tertiary"},e("help-tool.marketSelector.whichMarketToContact")),a.createElement(l.Z,{medium:!0}),a.createElement(Un,null))},Jn=function(){var e=Wt(),t=e.isLoading,n=e.data.markets,r=Gn().navigateToCreateTicketPage;return!t&&n.length<1&&r(),a.createElement("div",null,t&&a.createElement(g.Z,null),!t&&n.length>0&&a.createElement(Yn,null))};var Qn=function(e){var t=e.children,n=e.href;return a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},t)};const $n=function(){var e=f.hooks.useTranslator(),t=a.createElement(Qn,{href:"/orders/all?status=fullyCaptured"},e("helpbot.questions.capturedOrdersLink1"));return a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.questions.capturedOrders",{link1:t}))},Xn=function(e){var t=e.translationKey,n=f.hooks.useTranslator();return a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},n(t))};var ea=(0,a.createContext)(void 0),ta=function(e){var t=e.children,n=(0,v.useSelector)(y.selectors.createBackendClient)("orders"),r=(0,Mt.__read)((0,a.useState)(0),2),i=r[0],o=r[1],s=(0,Mt.__read)((0,a.useState)(!1),2),l=s[0],u=s[1];(0,a.useEffect)((function(){(0,Mt.__awaiter)(void 0,void 0,void 0,(function(){var e,t,a;return(0,Mt.__generator)(this,(function(r){switch(r.label){case 0:return[4,aa(n)];case 1:return e=r.sent(),i=t=e[0].response.data,a=Number.isSafeInteger(Number.parseInt(i))?function(e){return Number.parseInt(e)}(t):0,o(a),[2]}var i}))})).catch((function(){return u(!0)}))}),[]);var d={data:{nbUncapturedOrders:{value:i,hasError:l}}};return a.createElement(ea.Provider,{value:d},t)},na=function(){var e=(0,a.useContext)(ea);if(!e)throw new Error("cannot get OrdersData state manager as it has not been provided");return e},aa=function(e){return(0,Mt.__awaiter)(void 0,void 0,Promise,(function(){return(0,Mt.__generator)(this,(function(t){switch(t.label){case 0:return[4,Nt(e,Lt.GET,"count/unfulfilled","",[Dt.EU])];case 1:return[2,t.sent()]}}))}))};const ra=function(){var e=f.hooks.useTranslator(),t=a.createElement(Qn,{href:"/orders/to-capture"},e("helpbot.explanations.orders.uncapturesYesPart2Link1"));return a.createElement(a.Fragment,null,a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.explanations.orders.uncapturedYesPart1")),a.createElement("br",null),a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.explanations.orders.uncapturedYesPart2",{link1:t})),a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.explanations.orders.uncapturedYesPart3")),a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.explanations.orders.uncapturedYesPart4")),a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.explanations.orders.uncapturedYesPart5")))},ia=function(){var e=f.hooks.useTranslator(),t=a.createElement(Qn,{href:"/orders/all?sort_field=created_at&sort_direction=DESC&created_at_start=2022-06-29&help-page=tour%3Aorders"},e("helpbot.explanations.orders.uncapturedNoLink1"));return a.createElement(a.Fragment,null,a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.explanations.orders.uncapturedNoPart1")),a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.explanations.orders.uncapturedNoPart2",{link1:t})))};var oa=function(){var e=f.hooks.useTranslator(),t=a.createElement(Qn,{href:"/orders/to-capture"},e("helpbot.questions.orders.haveUncapturedOrdersPart2Link1"));return a.createElement(a.Fragment,null,a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.questions.orders.haveUncapturedOrdersPart1")),a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.questions.orders.haveUncapturedOrdersPart2",{link1:t})))},sa=function(e){var t=e.number,n=f.hooks.useTranslator();return a.createElement(a.Fragment,null,a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},n("helpbot.explanations.orders.uncapturedDynamicYes",{number:t})),a.createElement("br",null),a.createElement(ra,null))},la=function(){var e=f.hooks.useTranslator();return a.createElement(a.Fragment,null,a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.explanations.orders.uncapturedDynamicNo")),a.createElement("br",null),a.createElement(ia,null))};const ua=function(){var e=f.hooks.useTranslator(),t="/orders/to-capture?sort_field=created_at&sort_direction=DESC",n=a.createElement(Qn,{href:"".concat(t).concat("&help-page=article%3Ahow-do-i-cancel-an-order")},e("helpbot.explanations.orders.isOrderCapturedNoLink1")),r=a.createElement(Qn,{href:t},e("helpbot.explanations.orders.isOrderCapturedNoLink2"));return a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.explanations.orders.isOrderCapturedNo",{link1:n,link2:r}))};var da=[{value:"helpbot.options.iNeedMoreHelp",next:Ot.GO_TO_CHANNEL_SELECTION},{value:"helpbot.options.thatHelped",next:jt.THAT_HELPED}];const ca=[{id:jt.SELECT_ORDERS,botMessage:function(){return a.createElement(Xn,{translationKey:"helpbot.questions.selectOrderIssue"})},options:function(){return[{value:"helpbot.options.dontKnowHowToCaptureOrder",next:jt.ORDERS_DONT_KNOW_HOW_TO_CAPTURE_ORDER},{value:"helpbot.options.missedCaptureDeadline",next:jt.ORDERS_MISSED_CAPTURE_DEADLINE},{value:"helpbot.options.needToRefundAnOrder",next:jt.ORDERS_REFUND_AN_ORDER},{value:"helpbot.options.otherIssue",next:Ot.GO_TO_CHANNEL_SELECTION}]}},{id:jt.ORDERS_DONT_KNOW_HOW_TO_CAPTURE_ORDER,botMessage:function(){var e=na().data.nbUncapturedOrders;return e.hasError?a.createElement(oa,null):e.value?a.createElement(sa,{number:e.value}):a.createElement(la,null)},options:function(){var e=[{value:"helpbot.options.yes",next:jt.ORDERS_DONT_KNOW_HOW_TO_CAPTURE_ORDER_YES},{value:"helpbot.options.no",next:jt.ORDERS_DONT_KNOW_HOW_TO_CAPTURE_ORDER_NO}];return na().data.nbUncapturedOrders.hasError?e:da}},{id:jt.ORDERS_DONT_KNOW_HOW_TO_CAPTURE_ORDER_YES,botMessage:ra,options:function(){return da}},{id:jt.ORDERS_DONT_KNOW_HOW_TO_CAPTURE_ORDER_NO,botMessage:ia,options:function(){return da}},{id:jt.ORDERS_MISSED_CAPTURE_DEADLINE,botMessage:function(){return a.createElement(Xn,{translationKey:"helpbot.questions.orders.expirationDateSurpassed"})},options:function(){return[{value:"helpbot.options.yes",next:jt.ORDERS_EXPIRATION_DATE_SURPASSED},{value:"helpbot.options.no",next:jt.ORDERS_MISSED_CAPTURE_DEADLINE_NO}]}},{id:jt.ORDERS_EXPIRATION_DATE_SURPASSED,botMessage:function(){return a.createElement(Xn,{translationKey:"helpbot.questions.orders.customerCreditPaymentMethod"})},options:function(){return[{value:"helpbot.options.yes",next:jt.ORDERS_EXPIRATION_DATE_SURPASSED_CREDIT},{value:"helpbot.options.no",next:jt.ORDERS_MISSED_CAPTURE_DEADLINE_NO}]}},{id:jt.ORDERS_EXPIRATION_DATE_SURPASSED_CREDIT,botMessage:function(){return a.createElement(Xn,{translationKey:"helpbot.explanations.orders.expirationDateSurpassedYes"})},options:function(){return[{value:"helpbot.options.contactSupportChannel",next:Ot.GO_TO_CHANNEL_SELECTION}]}},{id:jt.ORDERS_MISSED_CAPTURE_DEADLINE_NO,botMessage:function(){var e=f.hooks.useTranslator(),t=a.createElement(Qn,{href:"/orders/to-capture"},e("helpbot.explanations.orders.expirationDateSurpassedNoLink1"));return a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.explanations.orders.expirationDateSurpassedNo",{link1:t}))},options:function(){return da}},{id:jt.ORDERS_REFUND_AN_ORDER,botMessage:function(){var e=f.hooks.useTranslator(),t=a.createElement(Qn,{href:"/orders/to-capture"},e("helpbot.questions.orders.isOrderCapturedLink1"));return a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.questions.orders.isOrderCaptured",{link1:t}))},options:function(){return[{value:"helpbot.options.yes",next:jt.ORDERS_FULLY_CAPTURED_YES},{value:"helpbot.options.no",next:jt.ORDERS_FULLY_CAPTURED_NO},{value:"helpbot.options.partially",next:jt.ORDERS_FULLY_CAPTURED_PARTIALLY}]}},{id:jt.ORDERS_FULLY_CAPTURED_YES,botMessage:function(){return a.createElement(a.Fragment,null,a.createElement(Xn,{translationKey:"helpbot.explanations.orders.isOrderCapturedYesPart1"}),a.createElement(Xn,{translationKey:"helpbot.explanations.orders.isOrderCapturedYesPart2"}))},options:function(){return da}},{id:jt.ORDERS_FULLY_CAPTURED_NO,botMessage:ua,options:function(){return da}},{id:jt.ORDERS_FULLY_CAPTURED_PARTIALLY,botMessage:ua,options:function(){return da}}];var pa=[{value:"helpbot.options.iNeedMoreHelp",next:Ot.GO_TO_CHANNEL_SELECTION},{value:"helpbot.options.thatHelped",next:jt.THAT_HELPED}],ma=(0,Mt.__spreadArray)([{id:jt.WHAT_HELP_WITH,botMessage:function(){var e=f.hooks.useTranslator(),t=y.hooks.useTokenHelper().getGivenName();return a.createElement(a.Fragment,null,a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.questions.whatDoYouNeedHelpWithPart1",{name:t})),a.createElement("br",null),a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.questions.whatDoYouNeedHelpWithPart2")),a.createElement("br",null),a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.questions.whatDoYouNeedHelpWithPart3")))},options:function(){return[{value:"helpbot.options.payout",next:jt.SELECT_PAYOUT},{value:"helpbot.options.orders",next:jt.SELECT_ORDERS},{value:"helpbot.options.otherIssue",next:Ot.GO_TO_CHANNEL_SELECTION}]}},{id:jt.SELECT_PAYOUT,botMessage:function(){return a.createElement(Xn,{translationKey:"helpbot.questions.selectPayoutIssue"})},options:function(){return[{value:"helpbot.options.notPaidOrder",next:jt.PAYOUT_NOT_PAID_CAPTURED_ORDERS},{value:"helpbot.options.paidWrongAmount",next:jt.PAYOUT_PAID_WRONG_AMOUNT_IS_SCHEDULE_FOLLOWED},{value:"helpbot.options.changeHowOftenPaid",next:jt.PAYOUT_CHANGE_PAYMENT_FREQUENCY},{value:"helpbot.options.whenPaidOrderNext",next:jt.PAYOUT_WHEN_WILL_I_GET_PAID_CAPTURED_ORDERS},{value:"helpbot.options.otherIssue",next:Ot.GO_TO_CHANNEL_SELECTION}]}},{id:jt.PAYOUT_WHEN_WILL_I_GET_PAID,botMessage:function(){var e=f.hooks.useTranslator(),t=a.createElement(Qn,{href:"/settlements/reports"},e("helpbot.questions.whenWillGetPaidLink1"));return a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.questions.whenWillGetPaid",{link1:t}))},options:function(){return[{value:"helpbot.options.yes",next:jt.PAYOUT_WHEN_WILL_I_GET_PAID_SCHEDULE_FOLLOWED},{value:"helpbot.options.no",next:jt.PAYOUT_FEES_RETURNS_HOLDBACKS_EXPLANATION}]}},{id:jt.PAYOUT_WHEN_WILL_I_GET_PAID_SCHEDULE_FOLLOWED,botMessage:function(){return a.createElement(Xn,{translationKey:"helpbot.explanations.whenPaidOrderNext.scheduleFollowed"})},options:function(){return pa}},{id:jt.PAYOUT_WHEN_WILL_I_GET_PAID_CAPTURED_ORDERS,botMessage:$n,options:function(){return[{value:"helpbot.options.yes",next:jt.PAYOUT_WHEN_WILL_I_GET_PAID},{value:"helpbot.options.no",next:jt.PAYOUT_NO_CAPTURED_ORDERS}]}},{id:jt.PAYOUT_NOT_PAID_CAPTURED_ORDERS,botMessage:$n,options:function(){return[{value:"helpbot.options.yes",next:jt.PAYOUT_NOT_PAID_IS_SCHEDULE_FOLLOWED},{value:"helpbot.options.no",next:jt.PAYOUT_NO_CAPTURED_ORDERS}]}},{id:jt.PAYOUT_CHANGE_PAYMENT_FREQUENCY,botMessage:function(){return a.createElement(Xn,{translationKey:"helpbot.questions.changePaymentFrequency"})},options:function(){return[{value:"helpbot.options.yes",next:jt.PAYOUT_CHANGE_PAYMENT_FREQUENCY_IS_ABLE},{value:"helpbot.options.no",next:jt.PAYOUT_CHANGE_PAYMENT_FREQUENCY_IS_UNABLE}]}},{id:jt.PAYOUT_CHANGE_PAYMENT_FREQUENCY_IS_UNABLE,botMessage:function(){return a.createElement(Xn,{translationKey:"helpbot.explanations.changePaymentFrequency.isUnable"})},options:function(){return pa}},{id:jt.PAYOUT_CHANGE_PAYMENT_FREQUENCY_IS_ABLE,botMessage:function(){return a.createElement(Xn,{translationKey:"helpbot.explanations.changePaymentFrequency.isAble"})},options:function(){return[{value:"helpbot.options.contactSupportChannel",next:Ot.GO_TO_CHANNEL_SELECTION}]}},{id:jt.PAYOUT_NOT_PAID_IS_SCHEDULE_FOLLOWED,botMessage:function(){var e=f.hooks.useTranslator(),t=a.createElement(Qn,{href:"/settlements/reports"},e("helpbot.questions.notPaidOrder.isScheduleFollowedLink1"));return a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.questions.notPaidOrder.isScheduleFollowed",{link1:t}))},options:function(){return[{value:"helpbot.options.yes",next:jt.PAYOUT_SCHEDULE_FOLLOWED_EXPLANATION},{value:"helpbot.options.no",next:jt.PAYOUT_IS_HOLDBACK_OR_DEBT}]}},{id:jt.PAYOUT_PAID_WRONG_AMOUNT_IS_SCHEDULE_FOLLOWED,botMessage:function(){var e=f.hooks.useTranslator(),t=a.createElement(Qn,{href:"/orders/all"},e("helpbot.questions.paidWrongAmount.isScheduleFollowedLink1"));return a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.questions.paidWrongAmount.isScheduleFollowed",{link1:t}))},options:function(){return[{value:"helpbot.options.yes",next:jt.PAYOUT_FEES_RETURNS_HOLDBACKS_EXPLANATION},{value:"helpbot.options.no",next:jt.PAYOUT_NO_CAPTURED_ORDERS}]}},{id:jt.PAYOUT_FEES_RETURNS_HOLDBACKS_EXPLANATION,botMessage:function(){var e=f.hooks.useTranslator(),t=a.createElement(Qn,{href:"/settlements/reports"},e("helpbot.explanations.feesReturnsHoldbacksLink1"));return a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.explanations.feesReturnsHoldbacks",{link1:t}))},options:function(){return pa}},{id:jt.PAYOUT_IS_HOLDBACK_OR_DEBT,botMessage:function(){var e=f.hooks.useTranslator(),t=a.createElement(Qn,{href:"/settlements/reports"},e("helpbot.questions.notPaidOrder.isHoldbackOrDebtLink1"));return a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.questions.notPaidOrder.isHoldbackOrDebt",{link1:t}))},options:function(){return[{value:"helpbot.options.yes",next:jt.PAYOUT_WITH_HOLDBACK},{value:"helpbot.options.no",next:jt.PAYOUT_NO_HOLDBACK}]}},{id:jt.PAYOUT_WITH_HOLDBACK,botMessage:function(){var e=f.hooks.useTranslator(),t=a.createElement(Qn,{href:"/settings/bank-account-details"},e("helpbot.explanations.notPaidOrder.withHoldbackLink1"));return a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.explanations.notPaidOrder.withHoldback",{link1:t}))},options:function(){return pa}},{id:jt.PAYOUT_NO_HOLDBACK,botMessage:function(){var e=f.hooks.useTranslator(),t=a.createElement(Qn,{href:"/settings/bank-account-details"},e("helpbot.explanations.notPaidOrder.noHoldbackLink1"));return a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.explanations.notPaidOrder.noHoldback",{link1:t}))},options:function(){return pa}},{id:jt.PAYOUT_SCHEDULE_FOLLOWED_EXPLANATION,botMessage:function(){var e=f.hooks.useTranslator(),t=a.createElement(Qn,{href:"/settlements/reports"},e("helpbot.explanations.notPaidOrder.scheduleFollowedLink1"));return a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.explanations.notPaidOrder.scheduleFollowed",{link1:t}))},options:function(){return pa}},{id:jt.PAYOUT_NO_CAPTURED_ORDERS,botMessage:function(){var e=f.hooks.useTranslator(),t=a.createElement(Qn,{href:"/orders/all"},e("helpbot.explanations.noCapturedOrdersLink1"));return a.createElement(nn.Z,{textToken:"text-style/text/super-paragraphs/body/regular"},e("helpbot.explanations.noCapturedOrders",{link1:t}))},options:function(){return pa}},{id:jt.THAT_HELPED,botMessage:function(){return a.createElement(Xn,{translationKey:"helpbot.questions.thatHelped"})},options:function(){return[]}},{id:Ot.GO_TO_CHANNEL_SELECTION,botMessage:function(){return a.createElement(Xn,{translationKey:"helpbot.messages.sorryToHearThat"})},options:function(){return[]}}],(0,Mt.__read)(ca),!1),ga=function(e){var t=ma.find((function(t){return t.id===e}));if(!t)throw Error("Cannot find bot node by ID");return t},ka=n("VRwF"),ha=jt.WHAT_HELP_WITH,ba=(0,a.createContext)(void 0),fa=function(e){var t=e.children,n=(0,r.XS)(),i=(0,Mt.__read)((0,a.useState)(ya()),2),o=i[0],s=i[1],l=o[o.length-1],u=ga(l),d=function(e,t){if(function(e){return e===o.length-1}(t))return null;var n=e.options().find((function(e){return e.next===o[t+1]}));if(!n)throw Error("cannot get the user answer");return n.value},c=function(e){switch(e){case Ot.GO_TO_HELP_HOME:n.navigation.reset();break;case Ot.GO_TO_CHANNEL_SELECTION:s((0,Mt.__spreadArray)((0,Mt.__spreadArray)([],(0,Mt.__read)(o),!1),[Ot.GO_TO_CHANNEL_SELECTION],!1)),setTimeout((function(){return n.navigation.push("supportChannelSelector")}),5e3);break;default:throw Error("cannot handle unknown UX event")}},p={userPath:o,getBotStep:function(e){var t=o.indexOf(e);if(t<0)throw Error("cannot fetch bot step as not in user path");var n=ga(e);return{node:n,responseValue:d(n,t)}},handleAnswerForActiveStep:function(e){var t,n,a,r=function(e){return u.options().find((function(t){return t.value===e}))}(e);if(!r)throw Error("cannot handle helpbot next step: the selected value is wrong");t=r.next,Object.keys(Ot).includes(t)?c(r.next):(n=r.next,a=(0,Mt.__spreadArray)((0,Mt.__spreadArray)([],(0,Mt.__read)(o),!1),[n],!1),s(a),(0,ka.g3)(ae.uH,a))},handleUxEvent:c,getActiveNodeId:function(){return o[o.length-1]}};return a.createElement(ba.Provider,{value:p},t)},va=function(){var e=(0,a.useContext)(ba);if(!e)throw new Error("cannot get state manager as not been provided");return e},ya=function(){return(0,ka.j5)(ae.uH)||[ha]},Sa=n("i5HZ"),wa={optionContainer:{marginBottom:"10px",textAlign:"right"}},Ta=function(e){var t=e.option.value,n=va().handleAnswerForActiveStep,r=f.hooks.useTranslator();return a.createElement("div",{style:wa.optionContainer},a.createElement(Sa.Z,{title:r(t),onPress:function(){n(t)}}))},Ea=function(e){var t=e.options;return a.createElement(a.Fragment,null,t.map((function(e){return a.createElement(Ta,{key:e.value.toString(),option:e})})))},Ca=n("XsS+"),Pa={chatBubble:{marginBottom:"10px"},chatAuthor:{margin:"0px",marginBottom:"5px",fontFamily:"Klarna Text",fontStyle:"normal",color:"#787573",fontSize:"12px",fontWeight:400}},Ia=function(e){var t=e.Message;return a.createElement("div",{style:Pa.chatBubble},a.createElement("p",{style:Pa.chatAuthor},"Klarna"),a.createElement(Ca.Z,{direction:"left",color:"gray",maxWidth:270},a.createElement(t,null)))},Aa={chatBubble:{marginBottom:"0px",alignSelf:"right"}},xa=function(e){var t=e.message;return a.createElement("div",{style:Aa.chatBubble},a.createElement(Ca.Z,{direction:"right",color:"black",maxWidth:300},t))},za=function(e){var t,n=e.nodeId,r=f.hooks.useTranslator(),i=(0,va().getBotStep)(n),o=i.node;return a.createElement("div",{key:(t=o,JSON.stringify(t))},o.botMessage?a.createElement(Ia,{Message:o.botMessage}):a.createElement(a.Fragment,null),i.responseValue?a.createElement(xa,{message:r(i.responseValue)}):a.createElement(Ea,{options:o.options()}))},ja=function(){var e=va().userPath;return a.createElement("div",null,e.map((function(e){return a.createElement("div",{key:e},a.createElement(za,{nodeId:e}))})))};const Oa={topic:k,article:function(){const{navigation:e,navigation:{activePage:{parameters:{articleSlug:t}}}}=(0,r.XS)(),n=(0,u.t)({contentType:"UHQMArticle",filters:{slug:t}}),i=(0,u.Dm)({contentType:"UHQMTopic",filters:{links_to_entry:null==n?void 0:n.id},skip:!n});return n?a.createElement("div",null,a.createElement(d.Analytics,{category:"uhqm/page/article",action:"pageview",label:n.title,referenceType:"article",referenceId:n.id}),a.createElement("div",null,a.createElement(b.Z,{id:"uhqm-article-title"},n.title),a.createElement("div",null,(0,V.h)(n.body,ee(e)))),a.createElement(l.Z,{medium:!0}),i&&a.createElement(H,{topics:i,analyticsCategory:"uhqm/topic-title/article"}),a.createElement(l.Z,{large:!0}),a.createElement(N,{article:n,analyticsCategory:"uhqm/article-title/related/article"}),a.createElement(l.Z,{large:!0}),a.createElement(Q,{articleId:n.id,articleTitle:n.title})):a.createElement(g.Z,null)},home:function(){const{topics:e}=(0,r.XS)();return a.createElement("div",null,a.createElement(x,null),a.createElement(l.Z,{small:!0}),a.createElement(b.Z,null,a.createElement(f.Message,{path:"help-tool.home.topics",fallback:"What do you need help with?"})),a.createElement(l.Z,{small:!0}),a.createElement(l.Z,{small:!0}),a.createElement(q,null),a.createElement(l.Z,{small:!0}),a.createElement(N,{topicSlugs:e,analyticsCategory:"uhqm/article-title/related/home"}))},tour:we,support:function(){const[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(!1);return e?a.createElement(zt,{ticketId:e,region:n}):a.createElement(xt,{setTicketId:t,setRegion:r})},supportHelpbot:function(){return a.createElement(fa,null,a.createElement(ta,null,a.createElement(a.Fragment,null,a.createElement(ja,null))))},supportChannelSelector:function(){return a.createElement(Vt,null,a.createElement(en,null,a.createElement(Jn,null)))}};function La(){const{navigation:e,navigation:{activePage:{path:t,parameters:n}}}=(0,r.XS)(),i=Oa[t];return a.createElement("div",{"data-testid":"uhqm-router-container"},a.createElement(je,null,a.createElement(i,{parameters:n,navigation:e})))}},"6ZzW":(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var a=n("aWzz"),r=n.n(a),i=n("ERkP"),o=n("3vfH"),s=n("9vlI"),l=n("m5kL"),u=n("tqbn"),d=n("PN1w"),c=n("y3nU");function p({files:e}){return i.createElement(i.Fragment,null,i.createElement(u.Z,{small:!0}),e.map(((e,t)=>{var n;const a=i.createElement(c.Z,null,`${e.name}, ${function(e){switch(!0){case e<1024:return e+" bytes";case e>=1024&&e<1048576:return(e/1024).toFixed(1)+"KB";case e>=1048576:return(e/1048576).toFixed(1)+"MB";default:return null}}(e.size)}`);return i.createElement("div",{key:t,"data-testid":"file-item"},(null===(n=e.type)||void 0===n?void 0:n.includes("image/"))&&i.createElement("a",{href:URL.createObjectURL(e),target:"_blank",rel:"noreferrer"},i.createElement("img",{src:URL.createObjectURL(e),style:{maxHeight:"300px",maxWidth:"-webkit-fill-available"}})),a)})))}p.propTypes={files:r().array};const m=e=>1048576*e;function g({inputIcon:e,inputId:t,inputLabel:n,errorContent:a,maxTotalFileSizeMb:r}){const c=m(r),g=(0,i.useRef)(null),[k,h]=(0,i.useState)(""),[b,f]=(0,i.useState)(!1),[v,y]=(0,i.useState)([]);return i.createElement(i.Fragment,null,i.createElement(o.pfj,{style:{alignItems:"flex-start"}},i.createElement(s.Z,{icon:e,size:"small","data-testid":"upload",onClick:e=>{g.current.click(),e.preventDefault()}},n)),i.createElement("div",{"data-testid":"file-input-visibility-wrapper",style:{display:"none"}},i.createElement("label",{htmlFor:t,ref:g}),i.createElement(l.Z,{id:t,name:t,type:"file","data-testid":"file",value:k,onChange:(e,t)=>{[...t.target.files].reduce(((e,t)=>e+t.size),0)>=c?(h(""),f(!0),y([])):(h(e),f(!1),y([...t.target.files]))},multiple:!0,accept:".png, .jpg, .pdf, .jpeg",isUnderlined:!0})),b&&i.createElement(i.Fragment,null,i.createElement(u.Z,{small:!0}),i.createElement(d.Z,{"data-testid":"file-error",content:a}),i.createElement(u.Z,{small:!0})),i.createElement(p,{files:v}))}g.propTypes={inputIcon:r().func,inputId:r().string.isRequired,inputLabel:r().string.isRequired,errorContent:r().array,maxTotalFileSizeMb:r().number}},"6Vjg":(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n("ERkP"),r=n("aWzz"),i=n.n(r),o=n("p7Sg"),s=n("Caap"),l=n("tR9r"),u=n("lLZn");function d({analyticsCategory:e,scrollIntoView:t=!1,onClick:n=null,shouldRedirectToSupportHelpbot:r=!1}){const i=l.hooks.useTranslator(),{navigation:d}=(0,u.XS)(),c=(0,a.useRef)();return(0,a.useEffect)((()=>{c.current&&t&&c.current.scrollIntoView()}),[c.current]),a.createElement("div",{ref:c},a.createElement(o.Z,{"data-testid":"hqm-support-button",size:"medium",icon:s.Z,onClick:function(){n&&n(),r?d.push("supportHelpbot"):d.push("support")}},i("help-tool.support-button")))}d.propTypes={analyticsCategory:i().string.isRequired,scrollIntoView:i().bool,onClick:i().func,shouldRedirectToSupportHelpbot:i().bool}},"4Q/P":(e,t,n)=>{"use strict";n.d(t,{AZ:()=>r,BZ:()=>o,LN:()=>a,uH:()=>i});const a=200,r="uhqm-navigation-state-restore",i="helpbot-state-restore",o="#mpui-fw-main-section"},"8lHW":(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=n("ERkP").createContext({})},Un9m:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n("IgB6");function r(e,t,n={}){if(console.error("Help tool error caught:",t),n.componentStack&&console.error("Component stack:",n.componentStack),!t.request||![0,400,401,403,415].includes(t.request.status)){const r={request:t.request,response:t.response,...n};let i;return a.$e((n=>{n.setTag("team",e),n.setExtras(r),i=a.Tb(t)})),console.error("Error id:",i),i}}},lLZn:(e,t,n)=>{"use strict";n.d(t,{cF:()=>o,Ac:()=>p,Gz:()=>u,XS:()=>i});var a=n("ERkP"),r=n("8lHW");const i=()=>(0,a.useContext)(r.Z);function o(e){const[t,n]=(0,a.useState)(e);return function(e,t,n=400,...r){(0,a.useEffect)((()=>{const a=setTimeout((()=>{t(e,...r)}),n);return()=>{clearTimeout(a)}}),[e])}(e,n),t}var s=n("h6pt"),l=n("W6jZ");function u(e){const t=(0,l.hz)();return t&&e?e.filter(d(t)):null}const d=e=>t=>{if(t.experimentationFeature){const n=(0,s.Z)([t.experimentationFeature,"variate_id"],e);return n?n===t.experimentationVariate:t.experimentationFallback}return!0},c={attributes:!0,childList:!0,subtree:!0};function p(e,t,n=null,r=(()=>{})){const i=(0,a.useRef)(),o=(0,a.useRef)(!1);function s(){if(!e)return!1;const n=e.filter(Boolean).some((e=>document.querySelector(e)));n!==o.current&&(o.current=n,t(n))}i.current||(i.current=document.getElementById("root")),(0,a.useEffect)((()=>{s();const e=new MutationObserver(s);e.observe(i.current,c);const t=n?setTimeout((()=>{e.disconnect(),r(o.current)}),n):null;return()=>{e.disconnect(),clearTimeout(t)}}),[JSON.stringify(e)])}},P3Ru:(e,t,n)=>{"use strict";n.d(t,{IK:()=>H,Dm:()=>I,t:()=>_,IJ:()=>S});var a=n("h6pt"),r=n("husy"),i=n("9cuP"),o=n("RPmX"),s=n("KmH7"),l=n("EoiY"),u=n("omU6"),d=n("Q9ve"),c=n("ERkP");const p=c.createContext({}),m=function(){return(0,c.useContext)(p)};var g=n("7/nm"),k=n("JTLF"),h=n("zMaM"),b=n.n(h),f=n("IgB6");const v=e=>(0,a.Z)(["cms","preview"],e),y=e=>(0,a.Z)(["cms","cmsEnvironment"],e);function S(){return(0,k.useSelector)(y)||"master"}const w="3wIjNvHi74LNBiv6-QnwIYmuVmbvfetuV7MTB0Vg1Jo",T="tPh99QhTRC-HbUdtqI9JfTuNzZsSL5pBKDjBcup322c",E="hynnffk3balp";function C(e,t={},n=!1){const a=(0,k.useSelector)(v),r=(0,k.useSelector)(g.selectors.cmsLocale),i=S(),o={locale:r,...t},s=a?T:w,[l,u]=(0,c.useState)(null);return(0,c.useEffect)((()=>{if(i&&(u(null),!n)){const t=function(e,t,n){return`${t?"https://preview.contentful.com":"https://cdn.contentful.com"}${`/spaces/${E}/environments/${e}${n}`}`}(i,a,e);P(s,u,t,o)}}),[i,a,e,JSON.stringify(o),n]),l}function P(e,t,n,a){b().create({timeout:1e4,headers:{Authorization:`Bearer ${e}`}}).request({method:"GET",url:n,params:a}).then((e=>e.data)).then(t).catch((r=>{!function(e,t={}){if(console.error("mage-cms error caught:",e),t.componentStack&&console.error("Component stack:",t.componentStack),!e.request||![0,400,401,403,415].includes(e.request.status)){const n={request:e.request,response:e.response,...t};let a;f.$e((t=>{t.setTag("team","msx"),t.setExtras(n),a=f.Tb(e)})),console.error("Error id:",a)}}(r),r.response&&429===r.response.status&&setTimeout((()=>P(e,t,n,a)),1e3)}))}function I({contentType:e,sortField:t,filters:n,include:a=1,skip:r=!1}){const{contentTypesResponse:i}=m(),o=function(e,t,n,a,r){return C("/entries",{select:"fields,sys.id,sys.contentType",content_type:e,include:a,...(0,s.Z)(B(N),R((e=>Array.isArray(e)?e.join(","):e)))(n||{}),...t&&{order:`fields.${t}`}},r)}(e,t,n,a,r),l=function(e,t,n){if(!e||!t)return null;const a=e.items;return t.items.map((e=>({...x(a,t,n,e),...D(a,t,e.fields)}))).filter(z(a))}(i,o,a);return l}const A=(0,a.Z)(["sys","contentType","sys","id"]);function x(e,t,n,a){const r={id:a.sys.id,contentType:A(a),...a.fields};return 0===n?r:{...r,...j(e,t,n-1,a.fields)}}const z=(0,r.Z)(((e,t)=>e.find((e=>e.sys.id===t.contentType)).fields.filter((e=>e.required)).map((e=>e.id)).every((e=>t[e]))));function j(e,t,n,a){return(0,i.Z)((a=>Array.isArray(a)?a.map((a=>O(e,t,n,!0,a))).filter(Boolean):O(e,t,n,!1,a)),a)}function O(e,t,n,a,r){if((0,o.Z)("Link",["sys","type"],r)){const i=L(e,t,n,r.sys.linkType,r.sys.id);return i?a&&!z(e,i)?null:i:null}return r}function L(e,t,n,a,r){let i=[];t.items&&t.includes&&t.includes[a]?i=t.items.concat(t.includes[a]):!t.items&&t.includes&&t.includes[a]?i=t.includes[a]:t.items&&(i=t.items);const o=i.find((e=>e.sys.id===r));return o?x(e,t,n,o):null}function D(e,t,n){return(0,s.Z)((0,l.Z)((e=>"document"===e.nodeType)),R((n=>F(e,t,n))))(n)}function M(e,t,n){return n.map((n=>F(e,t,n)))}function F(e,t,n){return{...n,...n.content?{content:M(e,t,n.content)}:{},data:{...n.data,...["entry-hyperlink","asset-hyperlink","embedded-asset-block"].includes(n.nodeType)?{target:L(e,t,0,n.data.target.sys.linkType,n.data.target.sys.id)}:{}}}}function N(e){return["links_to_entry","query"].includes(e)?e:["id"].includes(e)?`sys.${e}`:`fields.${e}`}const B=e=>(0,s.Z)(Object.entries,(0,u.Z)((([t,n])=>[e(t),n])),d.Z),R=e=>(0,s.Z)(Object.entries,(0,u.Z)((([t,n])=>[t,e(n)])),d.Z);function _({contentType:e,sortField:t,filters:n,contentRankLimit:a,include:r=1,skip:i=!1}){const o=I({contentType:e,sortField:t,filters:n,contentRankLimit:a,include:r,skip:i});return o&&o[0]||null}var Z=n("aWzz");function K({children:e}){const t=C("/content_types",null);return c.createElement(p.Provider,{value:{contentTypesResponse:t}},e)}K.propTypes={children:Z.node};const H=K},OJ6l:(e,t,n)=>{"use strict";n.d(t,{_G:()=>a,I6:()=>M,wl:()=>F,Iz:()=>O});var a={};n.r(a),n.d(a,{A:()=>L});var r=n("mgUu"),i=n.n(r),o=n("sFDm"),s=n.n(o),l=n("dVIt"),u=n.n(l),d=n("HRG1"),c=n.n(d),p=n("HerG"),m=n.n(p),g=n("UAGd"),k=n.n(g),h=n("Q6o+"),b=n.n(h),f=n("Ce+z"),v=n.n(f),y=n("Kl88"),S=n.n(y),w=n("8CTB"),T=n.n(w),E=n("i8GJ"),C=n.n(E),P=n("lN7f"),I=n.n(P),A=n("d5QO"),x=n.n(A),z=n("6tyM"),j=n.n(z);const O={...i(),...s(),...u(),...c(),...m(),...k(),...b(),...v(),...S(),...T(),...C(),...I(),...x(),...j()},L="config",D={apps:{},common:{environment:{},keycloak:{},terms:{},insights:{},assets:{},sentry:{}}},M=(e=D)=>e;var F=n("dbvb")},dbvb:(e,t,n)=>{"use strict";n.r(t),n.d(t,{appCategories:()=>P,apps:()=>u,environment:()=>f,generateGetApp:()=>d,generateGetAppBackendName:()=>c,generateGetAppUrl:()=>p,getAppConfigByPathname:()=>A,getFrontendEventRouterBaseUrls:()=>E,getMerchantPortalBaseUrl:()=>T,getMerchantPortalBaseUrls:()=>C,insights:()=>k,isOneTrustEnabled:()=>I,keycloak:()=>h,merchantSupport:()=>y,nko:()=>S,privacy:()=>w,region:()=>v,terms:()=>g});var a=n("gQ60"),r=n("KmH7"),i=n("+GmA"),o=n("nTvt"),s=n("/uaS");const l=a.Z({},["config"]),u=r.Z(l,i.Z([],"apps")),d=r.Z(u,(e=>t=>e[t])),c=r.Z(d,(e=>t=>{const n=e(t);return o.Z("backendName",n)})),p=r.Z(d,(e=>t=>{const n=e(t);return o.Z("url",n)})),m=r.Z(l,i.Z({},"common")),g=r.Z(m,o.Z("terms")),k=r.Z(m,o.Z("insights")),h=r.Z(m,o.Z("keycloak")),b=r.Z(m,o.Z("environment")),f=r.Z(b,o.Z("type")),v=r.Z(b,(e=>{const t=o.Z("region",e);return t?t.toLowerCase():void 0})),y=r.Z(m,o.Z("merchantSupport")),S=r.Z(m,o.Z("nko")),w=r.Z(m,o.Z("privacy")),T=r.Z(m,o.Z("merchantPortalBaseUrl")),E=r.Z(m,i.Z({},"frontendEventRouterBaseUrls")),C=r.Z(m,i.Z({},"merchantPortalBaseUrls")),P=r.Z(m,o.Z("appCategories")),I=r.Z(m,a.Z(!1,["oneTrust","enabled"])),A=(0,s.P1)(u,(e=>t=>{if(!e)return;if(!t)return;let n;return n="/"===t||"/home"===t?"home-fe":Object.keys(e).find((n=>"/"!==e[n].url&&"/home"!==e[n].url&&t.startsWith(e[n].url))),n?{clientId:n,...e[n]}:void 0}))},Jioa:(e,t,n)=>{"use strict";n.d(t,{KM:()=>ye,Pe:()=>d,e$:()=>C,Uj:()=>E,Iz:()=>ue,Yk:()=>T});const a="ACTIVE_CHAT_SESSION_DATA",r={SE:"sv_SE",DE:"de_DE",NO:"nb_NO",GB:"en_GB",FI:"fi_FI",US:"en_US",NL:"nl_NL",AT:"de_AT",DK:"da_DK",AU:"en_AU",BE:"nl_BE",ES:"es_ES",IT:"it_IT",PT:"pt_PT",MX:"es_MX",CA:"en_CA",CH:"de_CH"},i=({key:e,data:t})=>{try{sessionStorage.setItem(e,JSON.stringify(t))}catch(e){console.log("cannot store data into storage session",e.message)}},o=e=>{try{return JSON.parse(sessionStorage.getItem(e))}catch(e){return console.log("cannot get data from storage session",e.message),null}},s=e=>{e&&clearInterval(e)},l=e=>{Boolean(window.fcWidget)&&(s(e),(()=>{const e=o(a);var t;t=e,Boolean(null==t?void 0:t.widgetOptions)&&((e=>{window.fcWidget.init(e),window.fcWidget.open()})(e.widgetOptions),window.fcWidget.on("widget:closed",(()=>{window.fcWidget.destroy(),u()})))})())},u=()=>{i({key:a,data:{}})};!function(){const e=setInterval((()=>l(e)),100);setTimeout((()=>s(e)),15e3)}();var d=function(){return Boolean(window.fcWidget)},c=function(){return window.fcWidget},p=n("5ene"),m=n("S+Yj"),g=n("IgB6");const k={development_eu:{host:"https://wchat.freshchat.com",widget:"https://wchat.freshchat.com/js/widget.js",token:"80f94737-3122-4eee-9241-ebe566732075"},staging_eu:{host:"https://wchat.freshchat.com",widget:"https://wchat.freshchat.com/js/widget.js",token:"80f94737-3122-4eee-9241-ebe566732075"},production_eu:{host:"https://wchat.eu.freshchat.com",widget:"https://wchat.eu.freshchat.com/js/widget.js",token:"f34afccd-cb8a-49b3-b8d9-c6d0055da762"},development_us:{host:"https://wchat.freshchat.com",widget:"https://wchat.freshchat.com/js/widget.js",token:"1332a4eb-93bc-420b-9860-49e18c332fe5"},staging_us:{host:"https://wchat.freshchat.com",widget:"https://wchat.freshchat.com/js/widget.js",token:"1332a4eb-93bc-420b-9860-49e18c332fe5"},production_us:{host:"https://wchat.freshchat.com",widget:"https://wchat.freshchat.com/js/widget.js",token:"86a7059a-314b-42ce-a58c-abca6e336097"},development_ap:{host:"https://wchat.au.freshchat.com",widget:"https://wchat.au.freshchat.com/js/widget.js",token:"7bd76b27-663b-452d-9998-b0c16ee9fa37"},staging_ap:{host:"https://wchat.au.freshchat.com",widget:"https://wchat.au.freshchat.com/js/widget.js",token:"7bd76b27-663b-452d-9998-b0c16ee9fa37"},production_ap:{host:"https://wchat.au.freshchat.com",widget:"https://wchat.au.freshchat.com/js/widget.js",token:"17105859-3291-45f1-9050-1b62c2f23246"}};function h(e,t){const n=`${e}_${t}`.toLowerCase();return k[n]?k[n]:(function(e,t){g.n_({message:"Invalid freshchat configuration found",data:{env:e,region:t},level:"info"})}(e,t),k.production_eu)}const b=["DK","AT"],f=function({market:e,features:t}){if(!e||"string"!=typeof e)throw Error("A correct market is required to open a new chat window.");return b.includes(e)&&function({features:e,market:t}){var n;const a=function(e){return`merchant-support-chat.freshchat-group-transition-${e.toLowerCase()}`}(t);return!(null==e||null===(n=e[a])||void 0===n||!n.is_enabled)&&"true"===e[a].is_enabled}({features:t,market:e})?`merchantportal-${e.toLowerCase()}-transition`:`merchantportal-${e.toLowerCase()}`};var v=function(e){return h(e.env,e.region).widget},y=function(e){var t=e.restoreIdByRegion,n=e.region;return null==t?void 0:t[n]};const S=e=>1===e.length?r[e[0]]:null;var w=function(){return{request:function(){return null}}},T=function(e){w=e},E=function(e){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r,o,s;return(0,p.__generator)(this,(function(l){return t=[e.market],n=e.tokenHelper.getEmail(),r=e.env,e.region&&d()?(o=function(e){var t=h(e.env,e.region);return{token:t.token,host:t.host,tags:[f(e)],externalId:e.tokenHelper.getEmail(),restoreId:y(e),config:{agent:{hidePic:!0,hideName:!0,hideBio:!0},headerProperty:{hideChatButton:!0,appName:"Klarna",appLogo:"https://a.klarnacdn.net/klapp/assets/support-chat/klarna_logo.png",backgroundColor:m.default.Colors.BLACK.toString(),foregroundColor:m.default.Colors.WHITE.toString(),backgroundImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",fontName:m.default.Fonts.KLARNA_HEADLINE_REGULAR.fontFamily},content:{headers:{chat:e.t("conversation.widget.title"),chat_help:" "}}}}}(e),s=(({markets:e,email:t})=>({market:S(e),email:t}))({markets:t,email:n}),A(s),P(o),x(e,o),I(),i({key:a,data:{widgetOptions:o,env:r}}),j(e),L(e),D(e),[2]):[2]}))}))},C=function(e){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,p.__generator)(this,(function(n){return(t=o("ACTIVE_SECURE_CHAT_SESSION_DATA"))&&t.market&&E((0,p.__assign)((0,p.__assign)({},e),t)),[2]}))}))},P=function(e){return c().init(e)},I=function(){return c().open()},A=function(e){return c().user.setProperties(e)},x=function(e,t){return c().on("user:created",(function(n){var a=e.onNewUser,r=e.region;z(n,t)&&a(n.data.restoreId,r)}))},z=function(e,t){var n;return(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.restoreId)&&!t.restoreId},j=function(e){c().on("message:sent",(function(){O(e),c().off("message:sent")}))},O=function(e){var t=e.region;c().user.get((function(e){var n=e.data;e.success&&function(e,t,n){(0,p.__awaiter)(void 0,void 0,void 0,(function(){var a;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e.request({method:"POST",url:"/v1/chat/user/information",region:t,data:{freshchat_user_uuid:n}})];case 1:return r.sent(),[3,3];case 2:return a=r.sent(),g.Tb(a),[3,3];case 3:return[2]}}))}))}(w("support-chat"),t,n.alias)}))},L=function(e){var t=e.chatClient,n=e.env,a=e.region,r=e.market,i=e.onChatWidgetOpens;c().on("widget:opened",(function(){!async function({chatClient:e,env:t,region:n,market:a}){try{await e.request({method:"POST",url:"/v1/metrics/conversations",region:n,data:{environment:t,market:a}})}catch(e){g.Tb(e)}}({chatClient:t,env:n,region:a,market:r}),i()}))},D=function(e){var t=e.onCloseChat;c().on("widget:closed",(function(){u(),c().destroy(),t()}))},M=n("4rzf"),F=n.n(M),N=n("6J3g"),B=n.n(N),R=n("TFDH"),_=n.n(R),Z=n("l397"),K=n.n(Z),H=n("xSTi"),G=n.n(H),q=n("FQbH"),V=n.n(q),W=n("K3LA"),U=n.n(W),Y=n("DJHD"),J=n.n(Y),Q=n("Aapv"),$=n.n(Q),X=n("2atT"),ee=n.n(X),te=n("Zw5O"),ne=n.n(te),ae=n("XCFy"),re=n.n(ae),ie=n("cnG/"),oe=n.n(ie),se=n("8IGa"),le=n.n(se);const ue={...F(),...B(),..._(),...K(),...G(),...V(),...U(),...J(),...$(),...ee(),...ne(),...re(),...oe(),...le()};var de=n("ERkP"),ce=n("On58"),pe=n.n(ce),me=n("aWzz"),ge=n("JTLF"),ke=n("OJ6l"),he=n("vB0K"),be=n.n(he),fe=n("7QLp"),ve=n.n(fe);function ye({onCloseChat:e}){const t=(0,ge.useSelector)(ke.wl.environment),n=(0,ge.useSelector)(ke.wl.region),a=v({env:t,region:n});return a?de.createElement(pe(),{url:a,onError:e=>g.Tb(e),onLoad:()=>c().on("widget:closed",(()=>e()))}):null}be()(ve(),{insert:"head",singleton:!1}),ve().locals,ye.propTypes={onCloseChat:me.func.isRequired}},EyyD:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n("nTvt");const r=(0,n("bbSk").Z)({CORE:{TOKEN:{SET:void 0},KEYCLOAK:{REALM:{SET:void 0,CLEAR:void 0}},PROFILE:{UPDATING:void 0,UPDATE:{SUCCEEDED:void 0,FAILED:void 0}},PASSWORD:{RESETTING:void 0,RESET:{SUCCEEDED:void 0,FAILED:void 0}},REQUESTER:{FETCH:(e,t)=>e.request({url:`/users/${t}?with_capabilities=true&with_pending_entities=true`}).then(a.Z("data")),UPDATE:(e,t,n)=>e.request({method:"PUT",url:`/users/${t}`,data:n}).then(a.Z("data"))},MERCHANTS:{SET:void 0},MIDS:{SET:void 0},MID:{SET:void 0},IS_PARTNER:{SET:void 0}}}).core},HJJb:(e,t,n)=>{"use strict";n.r(t),n.d(t,{actions:()=>o.Z,clientFactory:()=>C,components:()=>r,constants:()=>a,createClient:()=>P,hooks:()=>i,init:()=>S,middleware:()=>w,reducer:()=>T.Z,selectors:()=>E});var a={};n.r(a),n.d(a,{NAME:()=>s});var r={};n.r(r),n.d(r,{TokenHelperContext:()=>u,withTokenHelper:()=>c});var i={};n.r(i),n.d(i,{useCacheMidInSessionStorage:()=>f,useCancelToken:()=>b,useSanitizedRouteMatch:()=>k,useTokenHelper:()=>h});var o=n("EyyD");const s="core";var l=n("ERkP");const u=l.createContext(void 0);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}const c=(e=(()=>({})))=>t=>{const n=t.displayName||t.name||"Component",a=n=>{const a=(0,l.useContext)(u),r=a?e(a,n):{};return l.createElement(t,d({},n,r))};return a.displayName=`WithTokenHelper(${n})`,a};var p=n("ggb3"),m=n.n(p),g=n("zCf4");const k=()=>{let{path:e,url:t}=(0,g.$B)();return e=e.replace(/\/$/,""),t=t.replace(/\/$/,""),{path:e,url:t}},h=()=>(0,l.useContext)(u),b=()=>{const e=(0,l.useRef)(null),t=(0,l.useCallback)((()=>(e.current=m().CancelToken.source(),e.current.token)),[]);return{cancelRequest:(0,l.useCallback)((t=>{e.current&&e.current.cancel(t)}),[]),createCancelToken:t,isCancel:m().isCancel}};function f(e,t){(0,l.useEffect)((()=>{const e=sessionStorage.getItem("mid");e&&t(e)}),[]),(0,l.useEffect)((()=>{sessionStorage.setItem("mid",e)}),[e])}var v=n("zQEv"),y=n("JBtm");const S=(e,t,{localStorage:n}={})=>{const a=y.parse(t.hash),r=y.parse(t.search),i=(0,v.localStorage)({storage:n});let s,l;s=a.realm?a.realm:i.get("realm","merchants"),["merchants","klarna"].includes(s)||(s="merchants"),e.dispatch(o.Z.keycloak.realm.set(s)),r.partner?(l="true"===r.partner,i.set("partner",l)):l=i.get("partner",!1),e.dispatch(o.Z.isPartner.set(l))},w=({localStorage:e}={})=>t=>n=>{const a=(0,v.localStorage)({storage:e});switch(n.type){case o.Z.keycloak.realm.set.toString():a.set("realm",n.payload);break;case o.Z.keycloak.realm.clear.toString():a.remove("realm")}return t(n)};var T=n("Va/3"),E=n("8/GC");const{clientFactory:C,createClient:P}=E},"Va/3":(e,t,n)=>{"use strict";n.d(t,{S:()=>d,Z:()=>p});var a=n("KhDj"),r=n("90jt"),i=n("lHPB"),o=n("nTvt"),s=n("BJsn"),l=n("hPkn"),u=n("EyyD");const d={clientId:null,slug:null,authenticated:!1,accessToken:void 0,token:void 0,realm:"merchants",mids:[],merchants:[],selectedMid:void 0,isUpdateProfileLoading:!1,isUpdateProfileFailed:!1,designVersion:null,sessionId:void 0,requester:void 0,isPartner:!1},c=r.Z(["mfa","mfa_methods","attributes","capabilities","entity_roles_pending","has_accepted_nko_terms","is_kred","is_partner"]),p=(0,l.Z)({[u.Z.token.set]:(e,{payload:t})=>({...e,authenticated:!0,accessToken:t.token}),[u.Z.keycloak.realm.set]:(e,{payload:t})=>({...e,realm:t}),[u.Z.keycloak.realm.clear]:e=>({...e,realm:"merchants"}),[u.Z.profile.updating]:e=>({...e,isUpdateProfileLoading:!0,isUpdateProfileFailed:!1}),[u.Z.profile.update.succeeded]:e=>({...e,isUpdateProfileLoading:!1,isUpdateProfileFailed:!1}),[u.Z.profile.update.failed]:e=>({...e,isUpdateProfileFailed:!0,isUpdateProfileLoading:!1}),[u.Z.requester.fetch]:(e,{error:t,payload:n})=>t||!n?e:{...e,requester:c(n)},[u.Z.requester.update]:(e,{error:t,payload:n})=>({...e,requester:{...e.requester,...t?{}:c(n)}}),[u.Z.merchants.set]:(e,{payload:t=d.merchants})=>{const n=i.Z(o.Z("merchant_id"),t);return s.Z(e.merchants,n)?e:{...e,merchants:n}},[u.Z.mids.set]:(e,{payload:t=d.mids})=>s.Z(e.mids,t)?e:{...e,mids:t,selectedMid:e.selectedMid||t[0]},[u.Z.mid.set]:(e,{payload:t})=>({...e,selectedMid:t}),[u.Z.isPartner.set]:(e,{payload:t})=>({...e,isPartner:t}),[a.nk]:(e,t)=>{const n=t.metadata;if(!n)return e;const a=n.url.startsWith("/")&&n.url.length>1?n.url.substring(1):n.url;return{...e,clientId:n.clientId,slug:a}}},d)},"8/GC":(e,t,n)=>{"use strict";n.r(t),n.d(t,{authenticated:()=>Z,clientFactory:()=>ce,clientId:()=>z,coreState:()=>x,createBackendClient:()=>pe,createClient:()=>ge,createMerchantPortalApiClient:()=>me,generateGetBackendUrl:()=>L,generateGetBackendUrlForRegion:()=>D,getAccessToken:()=>G,getBasename:()=>M,getClientRoles:()=>$,getDesignVersion:()=>te,getMerchant:()=>U,getMerchantIds:()=>Q,getMerchantOfferedRegions:()=>J,getMerchantRegion:()=>Y,getMerchants:()=>q,getMerchantsByMids:()=>V,getMerchantsGroupedByRegion:()=>W,getPendingMerchantIds:()=>ue,getRequester:()=>ne,getRequesterAttributes:()=>le,getSelectedMid:()=>H,isAuthenticated:()=>K,isKlarnaRealm:()=>N,isMerchantsRealm:()=>B,isPartner:()=>R,isRequesterKred:()=>oe,isRequesterMfaEnabled:()=>ie,isRequesterMfaSetupInitiated:()=>ae,isRequesterPartner:()=>se,isRequesterUsingMfa:()=>de,isUpdateProfileFailed:()=>ee,isUpdateProfileLoading:()=>X,keycloakRealm:()=>F,sessionId:()=>_,slug:()=>O,title:()=>j});var a=n("ggb3"),r=n.n(a),i=n("zQEv"),o=n("OJ6l"),s=n("Ng9u"),l=n("anra"),u=n("tR9r"),d=n("KmH7"),c=n("+GmA"),p=n("nTvt"),m=n("BJsn"),g=n("V3ah"),k=n("omU6"),h=n("KKax"),b=n("ZwkB"),f=n("4h86"),v=n("vIPa"),y=n("7OVy"),S=n("A5k7"),w=n("gQ60"),T=n("n1y5"),E=n("/uaS"),C=n("IC1n"),P=n.n(C),I=n("Va/3");const A=d.Z((({partners:e=[],transacting_regions:t=[],...n})=>({...i.utils.renameKeys({created_at:"createdAt",merchant_id:"merchantId",onboarding_region:"onboardingRegion",store_name:"storeName",offered_regions:"offeredRegions"},n),partners:e.map(i.utils.renameKeys({merchant_portal_role:"merchantPortalRole"})),transactingRegions:t.map(i.utils.renameKeys({latest_order_date:"latestOrderDate"}))})),i.utils.cleanObject),x=c.Z({},"core"),z=d.Z(x,p.Z("clientId")),j=(0,E.P1)(z,u.selectors.translatorFactory,((e,t)=>t("en")(`core.apps.${e}.title`)||e)),O=d.Z(x,c.Z("","slug")),L=(0,E.P1)(z,o.wl.generateGetAppBackendName,((e,t)=>(n=t(e))=>`/api/{region}/${n}`)),D=(0,E.P1)(o.wl.region,L,((e,t)=>({backendName:n,region:a=e}={})=>t(n).replace("{region}",a.toLowerCase()))),M=(0,E.P1)(z,o.wl.generateGetAppUrl,((e,t)=>t(e)||"")),F=d.Z(x,p.Z("realm")),N=d.Z(F,m.Z("klarna")),B=d.Z(F,m.Z("merchants")),R=d.Z(x,g.Z(!0,"isPartner")),_=d.Z(x,p.Z("sessionId")),Z=d.Z(x,p.Z("authenticated")),K=(0,E.P1)(Z,m.Z(!0)),H=(0,E.P1)(x,p.Z("selectedMid")),G=d.Z(x,p.Z("accessToken")),q=(0,E.P1)(x,d.Z(c.Z(I.S.merchants,"merchants"),k.Z(A))),V=(0,E.P1)(q,(e=>h.Z(b.Z,(t=>f.Z((({merchantId:e})=>v.Z(e,t)),e))))),W=(0,E.P1)(q,y.Z(c.Z("UNKNOWN","onboardingRegion"))),U=(0,E.P1)(q,(e=>h.Z(b.Z,(t=>S.Z(g.Z(t,"merchantId"),e))))),Y=(0,E.P1)(U,(e=>h.Z(b.Z,(t=>{const n=e(t);if(n)return n.onboardingRegion})))),J=(0,E.P1)(U,(e=>h.Z(b.Z,(t=>{const n=e(t);if(n)return n.offeredRegions})))),Q=(0,E.P1)(x,c.Z(I.S.mids,"mids")),$=(0,E.P1)(z,H,((e,t)=>(0,s.memoizeWithTokenHelper)((n=>n.getPermissionsForMid(t,e))))),X=d.Z(x,c.Z(!1,"isUpdateProfileLoading")),ee=d.Z(x,c.Z(!1,"isUpdateProfileFailed")),te=d.Z(x,p.Z("designVersion")),ne=d.Z(x,p.Z("requester")),ae=d.Z(ne,p.Z("mfa")),re=d.Z(ne,p.Z("mfa_methods")),ie=(0,E.P1)(ae,re,((e,t)=>e&&(null==t?void 0:t.length)>0)),oe=d.Z(ne,c.Z(!1,"is_kred")),se=d.Z(ne,c.Z(!1,"is_partner")),le=d.Z(ne,p.Z("attributes")),ue=(0,E.P1)(ne,d.Z(w.Z({},["entity_roles_pending","merchant"]),T.Z)),de=(0,E.P1)(ie,N,((e,t)=>e||t)),ce=(0,E.P1)(G,o.wl.region,o.wl.getMerchantPortalBaseUrls,((e,t,n)=>h.Z(b.Z,((a,{Sentry:i=l}={})=>{const o=r().create({baseURL:a,timeout:6e4,headers:{Authorization:`Bearer ${e}`}});return o.interceptors.request.use((e=>{const{region:a=t,baseURL:r="",url:i=""}=e;if(e.region=a.toLowerCase(),e.baseURL=r.replace("{region}",e.region),e.url=i.replace("{region}",e.region),!e.baseURL||r.startsWith("/")){const t=n[e.region];e.baseURL=`${t}${e.baseURL}`}return e.headers.common["Klarna-Correlation-Id"]=P()(),e})),o.interceptors.response.use((e=>e),(e=>(r().isCancel(e)||i.withScope((t=>{if(!e.config)return;const{baseURL:a="",url:r="",method:o,region:s}=e.config,l=o.toUpperCase(),u=a.replace(/\/$/,""),d=r.replace(/^\//,""),c=`${u}${d?`/${d}`:""}`,p=(m=n[s],e=>e.replace(/(\/)[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}(\/?)/g,((e,t,n)=>`${t}{uuid}${n}`)).replace(/(\/)[A-Z]{1,2}\d{5,7}(\/?)/g,((e,t,n)=>`${t}{mid}${n}`)).replace(/(\/)\d{5,}(\/?)/g,((e,t,n)=>`${t}{id}${n}`)).replace(/\?.*$/,"?{query}").replace(/(\/)(?:eu|us|ap)(\/)/g,((e,t,n)=>`${t}{region}${n}`)).replace(m,""))(c);var m;const g=e.response?e.response.status:0,k=p.match(/\/api\/[^/]*\/([^/]*)\//);t.setFingerprint([l,p,String(g)]),e.originalMessage=e.message,e.message=`Unable to ${l} ${p} - ${g}`,i.captureException(e,{extra:{error:e},tags:{backendName:k?k[1]:void 0,backendRegion:s}})})),Promise.reject(e)))),o})))),pe=(0,E.P1)(ce,L,((e,t)=>n=>e(t(n)))),me=(0,E.P1)(pe,L,(e=>e("merchant-portal"))),ge=(0,E.P1)(pe,(e=>e()))},"40c4":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActionIconArrowBottom:()=>a.KkL,ActionIconArrowLeft:()=>a.KZD,ActionIconArrowRight:()=>a.ECZ,ActionIconArrowTop:()=>a.Cmm,ActionIconBack:()=>a.qfA,ActionIconBookmark:()=>a.VpH,ActionIconCamera:()=>a.umR,ActionIconCheckmark:()=>a.TRA,ActionIconChevronBottom:()=>a.$Xg,ActionIconChevronLeft:()=>a.FlZ,ActionIconChevronRight:()=>a.Nwv,ActionIconChevronTop:()=>a.YA5,ActionIconClock:()=>a.aZx,ActionIconClose:()=>a.fC_,ActionIconColors:()=>a.WLi,ActionIconCopy:()=>a.qgJ,ActionIconDarkMode:()=>a.A0i,ActionIconDeals:()=>a.hUr,ActionIconDislike:()=>a.qho,ActionIconDownload:()=>a.Xdo,ActionIconEdit:()=>a.LRu,ActionIconEye:()=>a.Haz,ActionIconFile:()=>a.RTd,ActionIconFilter:()=>a.EQk,ActionIconForward:()=>a.hoM,ActionIconGif:()=>a.XKI,ActionIconHeart:()=>a.rCK,ActionIconInformation:()=>a.ofR,ActionIconLanguage:()=>a.Z62,ActionIconLike:()=>a.EWb,ActionIconListView:()=>a.PQF,ActionIconMinus:()=>a.kKQ,ActionIconMute:()=>a.C6L,ActionIconNewTab:()=>a.g3K,ActionIconPadlock:()=>a.MIS,ActionIconPadlockUnlocked:()=>a.eTr,ActionIconPaperPlane:()=>a.DCu,ActionIconPause:()=>a.yWd,ActionIconPermalink:()=>a.dHr,ActionIconPin:()=>a.ATt,ActionIconPlaceholder:()=>a.ip5,ActionIconPlay:()=>a.iZo,ActionIconPlus:()=>a.U_M,ActionIconRefresh:()=>a.TT0,ActionIconRetweet:()=>a._Or,ActionIconRotate:()=>a.SWf,ActionIconScan:()=>a.APK,ActionIconScroll:()=>a.MXM,ActionIconSearch:()=>a.lfl,ActionIconSearchGlobe:()=>a.SkE,ActionIconShare:()=>a.j5W,ActionIconSquare:()=>a.YF3,ActionIconStar:()=>a.LZY,ActionIconSuccess:()=>a.zPQ,ActionIconTrash:()=>a.FFh,ActionIconUnmute:()=>a.lb_,ActionIconUpload:()=>a.e08,ActionIconWarningError:()=>a.jnm,ActionPill:()=>a.X9h,AlertBanner:()=>a.Y0Q,AlertBannerError:()=>a.Cp7,AlertBannerSuccess:()=>a.fK7,AlertBannerWarning:()=>a.ijL,AlertBlock:()=>a.Qlk,AlertBlockError:()=>a.VAS,AlertBlockSuccess:()=>a.tqv,AlertBlockWarning:()=>a.S7q,AmountBreakdown:()=>a.KvA,AnimationControlProvider:()=>a.SRd,Avatar:()=>a.qEK,Badge:()=>a.Cts,BlockDefinition:()=>a.dyA,BlockList:()=>a.WDP,BlockPlain:()=>a.J7p,BorderlessDropdown:()=>a.cRv,BoxSelectorDetailed:()=>a.NYW,BoxSelectorNPS:()=>a.krI,BoxSelectorPlain:()=>a.GIQ,BoxSelectorPricing:()=>a._a9,BrandVolumeProvider:()=>a._QO,ButtonPrimary:()=>a.DFe,ButtonQuaternary:()=>a.PI3,ButtonRoundPrimary:()=>a.PjO,ButtonRoundQuaternary:()=>a.PiB,ButtonRoundSecondary:()=>a.VEE,ButtonRoundTertiary:()=>a.FAA,ButtonSecondary:()=>a.PLK,ButtonTertiary:()=>a.oMo,ChatBubble:()=>a.IWH,Chip:()=>a.AfN,ColoredIllustrationAddCard:()=>a.O2S,ColoredIllustrationAlertBell:()=>a.yzi,ColoredIllustrationAppTemplate:()=>a.Rfh,ColoredIllustrationAutomaticPayments:()=>a.WKW,ColoredIllustrationAutomaticUpdates:()=>a.uj_,ColoredIllustrationAutopay:()=>a.lsI,ColoredIllustrationAvatarA:()=>a.KDz,ColoredIllustrationAvatarB:()=>a.CUh,ColoredIllustrationAvatarC:()=>a.r_n,ColoredIllustrationAvatarD:()=>a.an,ColoredIllustrationAwaitingCourier:()=>a.RQQ,ColoredIllustrationBank:()=>a.aGP,ColoredIllustrationBlockCard:()=>a.Zds,ColoredIllustrationBoostPurchasingPower:()=>a.PDR,ColoredIllustrationBuyersProtection:()=>a.W18,ColoredIllustrationCalendar:()=>a.yeu,ColoredIllustrationCalendarClock:()=>a.eqK,ColoredIllustrationCancelCard:()=>a.m1q,ColoredIllustrationCardGeneric:()=>a.GUq,ColoredIllustrationCardKlarna:()=>a.btC,ColoredIllustrationCards:()=>a.wir,ColoredIllustrationChatWithAgent:()=>a.C7V,ColoredIllustrationChatWithCustomerSupport:()=>a.ys_,ColoredIllustrationConfirmEmail:()=>a.F1r,ColoredIllustrationConsumerAppRational:()=>a.Tzz,ColoredIllustrationCreditRefusalRational:()=>a.tiG,ColoredIllustrationCustomerReferrals:()=>a.U23,ColoredIllustrationDelivered:()=>a.fD4,ColoredIllustrationDeliveries:()=>a.PDe,ColoredIllustrationDownPaymentEmpty:()=>a.Ngo,ColoredIllustrationDriveTraffic:()=>a.NK2,ColoredIllustrationEmptyState:()=>a.$G0,ColoredIllustrationEnterBankAccount:()=>a.cNJ,ColoredIllustrationEnterName:()=>a.Mjy,ColoredIllustrationEnterPin:()=>a.jjv,ColoredIllustrationErrorExpiredCard:()=>a.jF8,ColoredIllustrationErrorExplodingBalloon:()=>a.qnw,ColoredIllustrationErrorPaymentDenied:()=>a.YWT,ColoredIllustrationErrorSpendingLimit:()=>a.gsD,ColoredIllustrationErrorUFO:()=>a.LSN,ColoredIllustrationExperts:()=>a.dcP,ColoredIllustrationExternalBank:()=>a.RAE,ColoredIllustrationFAQ:()=>a.c4n,ColoredIllustrationFaceId:()=>a.f9L,ColoredIllustrationFast:()=>a.KuA,ColoredIllustrationFreeCashWithdrawal:()=>a.fWn,ColoredIllustrationGift:()=>a.L5T,ColoredIllustrationGlobalProducts:()=>a._hy,ColoredIllustrationHighFive:()=>a.ffd,ColoredIllustrationInTransit:()=>a.gET,ColoredIllustrationIncreaseOrderValue:()=>a.VW,ColoredIllustrationInstallments:()=>a.sfA,ColoredIllustrationMailbox:()=>a.BZp,ColoredIllustrationMerchantShipOrder:()=>a.MX_,ColoredIllustrationMobileBankID:()=>a.Ve7,ColoredIllustrationMonthlyInvoice:()=>a.lhd,ColoredIllustrationMultipleCards:()=>a.c3p,ColoredIllustrationMyOrders:()=>a.c0S,ColoredIllustrationNewBusiness:()=>a.vCN,ColoredIllustrationOtherQuestions:()=>a.$j4,ColoredIllustrationPackage:()=>a.kUz,ColoredIllustrationPayDefault:()=>a.qBU,ColoredIllustrationPayIn3:()=>a.uJN,ColoredIllustrationPayIn4:()=>a.ZTt,ColoredIllustrationPayLater:()=>a.Bf8,ColoredIllustrationPayNow:()=>a.mtV,ColoredIllustrationPayNowOption:()=>a.rmk,ColoredIllustrationPayOverTime:()=>a.$bq,ColoredIllustrationPhone:()=>a.eaq,ColoredIllustrationPool:()=>a.uBo,ColoredIllustrationPrefilledDetails:()=>a.gKw,ColoredIllustrationProblem:()=>a.xqU,ColoredIllustrationProductAssembly:()=>a.bey,ColoredIllustrationPushNotificationEmotional:()=>a.FW$,ColoredIllustrationQuickTransfers:()=>a.qb3,ColoredIllustrationRawMaterialExtraction:()=>a.oA,ColoredIllustrationRawMaterialProcessing:()=>a.onL,ColoredIllustrationRecycle:()=>a.MdY,ColoredIllustrationReportProblem:()=>a.O1U,ColoredIllustrationReportReturn:()=>a.OPP,ColoredIllustrationRiskProtection:()=>a.paB,ColoredIllustrationRocket:()=>a.gVp,ColoredIllustrationSalary:()=>a.XRl,ColoredIllustrationSales:()=>a.hYr,ColoredIllustrationSatisfactionNegative:()=>a.MtK,ColoredIllustrationSearchEmptyState:()=>a.yw5,ColoredIllustrationSearchError:()=>a.CMp,ColoredIllustrationSearchingOrders:()=>a.b25,ColoredIllustrationSecurity:()=>a.GdX,ColoredIllustrationSellerProtection:()=>a.ZCo,ColoredIllustrationShopping:()=>a.VLP,ColoredIllustrationShoppingStore:()=>a.QLr,ColoredIllustrationSliceIt:()=>a.l8R,ColoredIllustrationSmooth:()=>a.dzn,ColoredIllustrationSnooze:()=>a.PXi,ColoredIllustrationStores:()=>a.qs6,ColoredIllustrationSuccess:()=>a.$Zx,ColoredIllustrationThumbsUp:()=>a.spf,ColoredIllustrationTouchID:()=>a.xBq,ColoredIllustrationTrackYourOrders:()=>a.AOq,ColoredIllustrationUseOfProduct:()=>a.KFx,ColoredIllustrationVerifyYourIdentity:()=>a.B1,ColoredIllustrationVirtualShoppingAppIcon:()=>a.YUy,ComponentOverridesConsumer:()=>a.VGh,ComponentOverridesProvider:()=>a.u87,ContextMenuMain:()=>a.nIe,ContextMenuNavigationItem:()=>a.U5K,ContextMenuSeparator:()=>a.uPy,ContextMenuSettingsItem:()=>a.n$F,DateField:()=>a.Nnh,DatePicker:()=>a.Mtg,DatePickerDay:()=>a.Ql,DatePickerDoubleMonth:()=>a.zRK,DatePickerMonth:()=>a.x$u,DebugModeProvider:()=>a.xA0,DesignTokens:()=>a.W8H,DesignVersionProvider:()=>a.w8O,DialogContentWidthConsumer:()=>a.c55,DialogOptionsProvider:()=>a.hLt,DialogUnwrapped:()=>a.b8L,Dropdown:()=>a.Ltx,Field:()=>a.gNt,FieldSimple:()=>a.QC,Fieldset:()=>a.pgx,FilterIconElephant:()=>a.A6_,FilterIconGlasses:()=>a.q1Z,FilterIconLocation:()=>a.pt4,FilterIconMonthly:()=>a.Gl,FilterIconPizza:()=>a.Nbh,FilterIconRecurring:()=>a.xTD,FilterIconScale:()=>a.Iiq,FilterIconStores:()=>a.fGV,FlagAD:()=>a.Tuq,FlagAE:()=>a.OPO,FlagAF:()=>a.LU$,FlagAG:()=>a.fQu,FlagAI:()=>a.VFw,FlagAL:()=>a.rlq,FlagAM:()=>a.jmH,FlagAO:()=>a.y9t,FlagAR:()=>a.yro,FlagAS:()=>a.TLR,FlagAT:()=>a.i_w,FlagAU:()=>a.yeM,FlagAW:()=>a.bvt,FlagAX:()=>a.bsD,FlagAZ:()=>a.Wip,FlagBA:()=>a.l2G,FlagBB:()=>a.nJv,FlagBD:()=>a._Ry,FlagBE:()=>a.H4y,FlagBF:()=>a.znw,FlagBG:()=>a.Brg,FlagBH:()=>a.JsI,FlagBI:()=>a.aAG,FlagBJ:()=>a.yeU,FlagBM:()=>a.DWv,FlagBN:()=>a.ep_,FlagBO:()=>a.n_9,FlagBQ:()=>a.boB,FlagBR:()=>a.uyx,FlagBS:()=>a.T9e,FlagBT:()=>a.EBz,FlagBW:()=>a.RL9,FlagBY:()=>a.a1A,FlagBZ:()=>a.owV,FlagCA:()=>a.QI8,FlagCD:()=>a.eZ_,FlagCF:()=>a.M6$,FlagCG:()=>a.GtX,FlagCH:()=>a.bup,FlagCI:()=>a.ZG7,FlagCK:()=>a.wqc,FlagCL:()=>a.qJ_,FlagCM:()=>a.UgW,FlagCN:()=>a.OF$,FlagCO:()=>a.Yw9,FlagCR:()=>a.$m,FlagCU:()=>a.rA$,FlagCV:()=>a.KG,FlagCW:()=>a.ohW,FlagCX:()=>a.Hwm,FlagCY:()=>a.HPX,FlagCZ:()=>a.LF,FlagDE:()=>a.Pyb,FlagDJ:()=>a.ofH,FlagDK:()=>a.L47,FlagDM:()=>a.IAd,FlagDO:()=>a.Y4P,FlagDZ:()=>a.w2E,FlagEC:()=>a.zhZ,FlagEE:()=>a.Ug7,FlagEG:()=>a.BOY,FlagER:()=>a.TRg,FlagES:()=>a.$5j,FlagET:()=>a.uxK,FlagEU:()=>a.UE4,FlagFI:()=>a.AaI,FlagFJ:()=>a.onV,FlagFK:()=>a.p__,FlagFM:()=>a.JBw,FlagFO:()=>a.Bff,FlagFR:()=>a.Iny,FlagGA:()=>a.kl5,FlagGB:()=>a.MB7,FlagGD:()=>a.A9M,FlagGE:()=>a.YV6,FlagGG:()=>a.pMG,FlagGH:()=>a.Pwn,FlagGI:()=>a.Be4,FlagGL:()=>a.f61,FlagGM:()=>a.S55,FlagGN:()=>a.Kf$,FlagGQ:()=>a.a06,FlagGR:()=>a.xci,FlagGT:()=>a.EJE,FlagGU:()=>a.Gg4,FlagGW:()=>a.cdZ,FlagGY:()=>a.p63,FlagHK:()=>a.DQO,FlagHN:()=>a.l0B,FlagHR:()=>a.sEF,FlagHT:()=>a.K5u,FlagHU:()=>a.Cv8,FlagID:()=>a.zT4,FlagIE:()=>a.EGv,FlagIL:()=>a.NW3,FlagIM:()=>a.KPv,FlagIN:()=>a.cnv,FlagIO:()=>a.uH8,FlagIQ:()=>a.Bx2,FlagIR:()=>a.J$u,FlagIS:()=>a.H,FlagIT:()=>a.Vq5,FlagJE:()=>a.EUA,FlagJM:()=>a.zjB,FlagJO:()=>a.qQo,FlagJP:()=>a.Mpd,FlagKE:()=>a.I71,FlagKG:()=>a.v8U,FlagKH:()=>a.PkI,FlagKI:()=>a.oC2,FlagKM:()=>a.X_c,FlagKN:()=>a.V8T,FlagKP:()=>a.enI,FlagKR:()=>a.VvC,FlagKW:()=>a.vL5,FlagKY:()=>a.$8_,FlagKZ:()=>a.b9v,FlagLA:()=>a.w0V,FlagLB:()=>a.ipw,FlagLC:()=>a.Dy5,FlagLI:()=>a.gm2,FlagLK:()=>a.GmB,FlagLR:()=>a.U2G,FlagLS:()=>a.Lny,FlagLT:()=>a.Wtt,FlagLU:()=>a.U87,FlagLV:()=>a.UPK,FlagLY:()=>a.LAZ,FlagMA:()=>a.Tro,FlagMC:()=>a.KDB,FlagMD:()=>a.sHt,FlagME:()=>a.PL_,FlagMG:()=>a.Wlj,FlagMH:()=>a.Abi,FlagMK:()=>a.CON,FlagML:()=>a.feI,FlagMM:()=>a.It_,FlagMN:()=>a.RE0,FlagMO:()=>a.M6B,FlagMQ:()=>a.DVC,FlagMR:()=>a.Pgw,FlagMS:()=>a.rMe,FlagMT:()=>a._pI,FlagMU:()=>a.fCd,FlagMV:()=>a.qsT,FlagMW:()=>a.dZg,FlagMX:()=>a.ET1,FlagMY:()=>a.TjF,FlagMZ:()=>a.L4W,FlagNA:()=>a.Jnt,FlagNE:()=>a.Czw,FlagNF:()=>a.kSA,FlagNG:()=>a._wo,FlagNI:()=>a.lit,FlagNL:()=>a.wyv,FlagNO:()=>a.QHo,FlagNP:()=>a.OK3,FlagNR:()=>a._i$,FlagNU:()=>a.Wgx,FlagNZ:()=>a.ZhO,FlagOM:()=>a.Qjm,FlagPA:()=>a.So8,FlagPE:()=>a.VlT,FlagPF:()=>a.JOu,FlagPG:()=>a.CdW,FlagPH:()=>a.Der,FlagPK:()=>a.b5H,FlagPL:()=>a.Pt5,FlagPN:()=>a.IMB,FlagPR:()=>a.Z7K,FlagPS:()=>a.nKw,FlagPT:()=>a.yRt,FlagPW:()=>a.y9K,FlagPY:()=>a.k7L,FlagQA:()=>a.MjP,FlagRO:()=>a.hLY,FlagRS:()=>a.ncX,FlagRU:()=>a.noe,FlagRW:()=>a.FbX,FlagSA:()=>a.ib5,FlagSB:()=>a.JhF,FlagSC:()=>a.E_Z,FlagSD:()=>a.I$e,FlagSE:()=>a.vaO,FlagSG:()=>a.SoQ,FlagSI:()=>a.aoj,FlagSK:()=>a.hS4,FlagSL:()=>a.LYK,FlagSM:()=>a.omW,FlagSN:()=>a.YAF,FlagSO:()=>a.swW,FlagSR:()=>a.XYF,FlagSS:()=>a.jKY,FlagST:()=>a.o$d,FlagSV:()=>a.YxF,FlagSX:()=>a.NDz,FlagSY:()=>a.TBi,FlagSZ:()=>a.xnF,FlagTC:()=>a.$TD,FlagTD:()=>a.qjJ,FlagTG:()=>a.YdW,FlagTH:()=>a.Cj6,FlagTJ:()=>a.QRu,FlagTK:()=>a.JnF,FlagTM:()=>a.oCZ,FlagTN:()=>a.kle,FlagTO:()=>a.AzV,FlagTR:()=>a.DZu,FlagTT:()=>a.Oa9,FlagTV:()=>a.kaf,FlagTW:()=>a.uCS,FlagTZ:()=>a.oCu,FlagUA:()=>a.NZB,FlagUG:()=>a.i_,FlagUS:()=>a.Gh2,FlagUY:()=>a.Ahz,FlagUZ:()=>a.SrW,FlagVC:()=>a.DVM,FlagVE:()=>a.D4d,FlagVG:()=>a.V9L,FlagVI:()=>a.gt1,FlagVN:()=>a.kG7,FlagVU:()=>a.t3d,FlagWF:()=>a.RJH,FlagWS:()=>a.mJ$,FlagXK:()=>a.Qp9,FlagYE:()=>a.Mlz,FlagZA:()=>a.PQp,FlagZM:()=>a.Ofu,FlagZW:()=>a.MRn,Frame:()=>a.RQC,FrameStack:()=>a.uqP,Grid:()=>a.rjZ,Group:()=>a.ZAu,IconAddContact:()=>a.bBT,IconAddOrder:()=>a.JEC,IconAgent:()=>a.DNy,IconAnnouncement:()=>a.M7i,IconAppLauncher:()=>a.ELA,IconArrowBottom:()=>a.$Rm,IconArrowLeft:()=>a.D6v,IconArrowRight:()=>a.Ec8,IconArrowTop:()=>a.xeD,IconAssets:()=>a.aih,IconAssistant:()=>a.xEn,IconAtmWithdrawal:()=>a.Xjg,IconAttachment:()=>a.fwB,IconBack:()=>a.vjc,IconBackNavigation:()=>a.I9S,IconBank:()=>a.T7l,IconBanksCards:()=>a.PW7,IconBenefits:()=>a.JNX,IconBookmark:()=>a.BZM,IconBooks:()=>a.ihu,IconBrowserHistory:()=>a.ybB,IconBusinessProfile:()=>a.Xvs,IconCalendar:()=>a.jt6,IconCamera:()=>a.LjT,IconCancel:()=>a.uRT,IconCancelCard:()=>a.kIC,IconCardKlarna:()=>a.i4S,IconCardLoyalty:()=>a.qcE,IconCart:()=>a.k5K,IconCashOut:()=>a.BDH,IconCellphone:()=>a.Bgq,IconChatbot:()=>a.Adv,IconCheckmark:()=>a.DLh,IconChevronBottom:()=>a.bBS,IconChevronLeft:()=>a.ed9,IconChevronRight:()=>a.VG8,IconChevronTop:()=>a.FEj,IconClock:()=>a.joI,IconClose:()=>a.bMz,IconClothing:()=>a.X95,IconCollapseLeft:()=>a.vaT,IconCollapseRight:()=>a.Bld,IconColors:()=>a.zoe,IconContactless:()=>a.qIF,IconCopy:()=>a.vUr,IconCreditCard:()=>a.bln,IconCurrent:()=>a.$Tm,IconDarkCanvas:()=>a.SOU,IconDarkMode:()=>a.vK9,IconDeals:()=>a.emY,IconDebt:()=>a.TY_,IconDelivery:()=>a.S7U,IconDislike:()=>a.R78,IconDone:()=>a.EZi,IconDownload:()=>a.DjJ,IconEdit:()=>a.yl5,IconElectronics:()=>a.qf_,IconElephant:()=>a.Wvk,IconEntertainmentLeisure:()=>a.qCY,IconEnvelope:()=>a._7i,IconError:()=>a.Ucq,IconExclude:()=>a.Ya7,IconExpired:()=>a.wgS,IconEye:()=>a.tCy,IconFee:()=>a.VoZ,IconFeedback:()=>a.Rz4,IconFeedbackConfirmation:()=>a.hX5,IconFile:()=>a.XhR,IconFilter:()=>a.wHY,IconFinancial:()=>a.W7U,IconFoodBeverages:()=>a.sD5,IconForward:()=>a.JIO,IconForwardNavigation:()=>a.RJq,IconFridge:()=>a.ArU,IconGaming:()=>a.wXv,IconGif:()=>a.b_y,IconGift:()=>a.Lmt,IconGlasses:()=>a.ZBc,IconGrid:()=>a.w2d,IconGridViewMode:()=>a.i6M,IconGroceries:()=>a.wVV,IconGuidebook:()=>a.PBJ,IconHamburger:()=>a.Ut1,IconHandMoney:()=>a.c8E,IconHealth:()=>a.opM,IconHeart:()=>a.AUh,IconHelp:()=>a.T08,IconHome:()=>a.A2c,IconHouseholdUtilities:()=>a.pOX,IconImageMissing:()=>a.rEU,IconInbox:()=>a.M$u,IconIncome:()=>a.NKY,IconInformation:()=>a.Gc9,IconInformationError:()=>a.PW5,IconInspect:()=>a.J45,IconInstallment:()=>a.kqX,IconInstantAdd:()=>a.r56,IconInterest:()=>a.N_G,IconInvestmentFund:()=>a._Gg,IconInvestmentPurchase:()=>a.Zny,IconInvestmentSale:()=>a.hHh,IconKeyboard:()=>a.x64,IconKidsFamily:()=>a.yqV,IconKlarnaK:()=>a.E_e,IconLanguage:()=>a.kvV,IconLetter:()=>a.abo,IconLike:()=>a.MlY,IconListViewMode:()=>a.HqK,IconLocation:()=>a.tMq,IconLogout:()=>a.gtU,IconMinus:()=>a.UrD,IconMoneyIn:()=>a.czy,IconMoneyOut:()=>a.d$H,IconMonthly:()=>a.s5y,IconMore:()=>a.NKR,IconMute:()=>a.ses,IconNotification:()=>a.pPA,IconNotificationOff:()=>a.ZjJ,IconOneTime:()=>a.pCy,IconOrder:()=>a.bmR,IconOther:()=>a.RHY,IconOtherExpenses:()=>a.NOi,IconPadlock:()=>a.FaV,IconPadlockUnlocked:()=>a.F8f,IconPaperPlane:()=>a.jKk,IconPause:()=>a.kyG,IconPausePayment:()=>a.GCJ,IconPension:()=>a.NwE,IconPerson:()=>a.X1X,IconPhone:()=>a.S9Z,IconPlaceholder:()=>a.bzs,IconPlay:()=>a.JFb,IconPlus:()=>a.SC9,IconProduct:()=>a.zjf,IconProfile:()=>a.nb3,IconProfileAlternative:()=>a.H9Z,IconQRCode:()=>a.LlQ,IconReceiveMoney:()=>a.Kov,IconRecurring:()=>a.Coi,IconRefresh:()=>a.tr8,IconReimbursements:()=>a.iD9,IconReturn:()=>a.BKS,IconRetweet:()=>a.bFC,IconRocket:()=>a.zcp,IconSalaryIncome:()=>a.PFu,IconSavingFixed:()=>a.XE5,IconSavingFlex:()=>a.ni4,IconSavings:()=>a.jRO,IconScale:()=>a.BGm,IconScan:()=>a._ND,IconScreen:()=>a.mKo,IconSearch:()=>a.jVj,IconSend:()=>a.h9l,IconSendMoney:()=>a.MLB,IconServicePoint:()=>a.Q$S,IconSettings:()=>a.iCC,IconShare:()=>a.FOM,IconShop:()=>a.MnG,IconShopping:()=>a.vYd,IconSign:()=>a.JV4,IconSize:()=>a.JhL,IconSocialMedia:()=>a.A4P,IconSpeechBubble:()=>a.IOF,IconSpendingCategories:()=>a.JrR,IconSports:()=>a.hJS,IconStar:()=>a.GK,IconStores:()=>a.B2r,IconStretch:()=>a.iof,IconSustainability:()=>a.f6$,IconTax:()=>a.MZx,IconTheme:()=>a.G7B,IconToDoorDelivery:()=>a.lsQ,IconToDoorDeliveryWithTimeslot:()=>a.mDV,IconTopUp:()=>a.bBx,IconTransfer:()=>a.hS$,IconTransfers:()=>a.iqy,IconTransport:()=>a.o4K,IconTrash:()=>a.IT9,IconTravels:()=>a.eY$,IconTruck:()=>a.czB,IconUncategorized:()=>a.Mz4,IconUnmute:()=>a.qrS,IconUpcomingScheduled:()=>a.VcO,IconUpload:()=>a.bCE,IconWallet:()=>a.nr$,IconWarning:()=>a.FCX,IllustrationAccountBalance:()=>a.ee4,IllustrationAddMoney:()=>a.U$5,IllustrationAdjust:()=>a.gnQ,IllustrationAppTemplate:()=>a.H_9,IllustrationAutomaticUpdates:()=>a.pAU,IllustrationAutopay:()=>a.PF8,IllustrationAwaitingCourier:()=>a.q0k,IllustrationBackspace:()=>a.bKK,IllustrationBank:()=>a.MU0,IllustrationBenefits:()=>a.$cC,IllustrationBlockCard:()=>a.Hcc,IllustrationBoostPurchasingPower:()=>a.JMf,IllustrationBusinessInsights:()=>a.PzG,IllustrationBuyersProtection:()=>a.bNf,IllustrationCancelCard:()=>a.bfN,IllustrationChallengeStatusQuo:()=>a.ge9,IllustrationChatWithAgent:()=>a.VBq,IllustrationChatWithCustomerSupport:()=>a.jJC,IllustrationCollections:()=>a.nci,IllustrationConfirmEmail:()=>a.qzQ,IllustrationConsumerAppRational:()=>a.sEv,IllustrationConversion:()=>a.Fso,IllustrationCourage:()=>a.R6v,IllustrationCreditRefusal:()=>a.g0n,IllustrationCreditRefusalEmotional:()=>a.U_r,IllustrationCustomerLoyalty:()=>a.A78,IllustrationCustomerObsession:()=>a.Dts,IllustrationCustomerReferrals:()=>a.sKF,IllustrationDeals:()=>a.Cw1,IllustrationDeliverResults:()=>a.xus,IllustrationDelivered:()=>a.h7j,IllustrationDetailedThinkers:()=>a.h4U,IllustrationDriveTraffic:()=>a.OUS,IllustrationEmptyState:()=>a.Wh4,IllustrationEnterAddress:()=>a.ASW,IllustrationEnterBankAccount:()=>a.b7_,IllustrationEnterName:()=>a.Fxn,IllustrationEnterPin:()=>a.W07,IllustrationErrorExplodingBalloon:()=>a.OIS,IllustrationErrorLocation:()=>a.CfX,IllustrationErrorUFO:()=>a.c2r,IllustrationExternalBank:()=>a.$c3,IllustrationFAQ:()=>a.xF,IllustrationFaceId:()=>a.SDm,IllustrationFavoriteFund:()=>a.Yy1,IllustrationFreeCashWithdrawal:()=>a.vE1,IllustrationFreedomOfChoice:()=>a.yYm,IllustrationFullControl:()=>a.WP,IllustrationGift:()=>a.yyW,IllustrationGlobalProducts:()=>a.BjK,IllustrationHighFive:()=>a.sOI,IllustrationHireAndDevelopExceptionalTalent:()=>a.UsY,IllustrationHomeDelivery:()=>a.xAq,IllustrationImageIsMissing:()=>a.uEs,IllustrationInTransit:()=>a.UYR,IllustrationIncreaseLoyalty:()=>a.M2_,IllustrationIncreaseOrderValue:()=>a.fhQ,IllustrationInstallments:()=>a.cKb,IllustrationInstallmentsPi3:()=>a.A1B,IllustrationLeadershipPrinciples:()=>a.YSp,IllustrationLearningAndDevelopment:()=>a.vip,IllustrationLetTheTeamShine:()=>a.NVJ,IllustrationMailbox:()=>a.H6O,IllustrationMerchantShipOrder:()=>a.qsR,IllustrationMinimizeRisk:()=>a.qlI,IllustrationMobileBankID:()=>a.sJT,IllustrationMobileFirst:()=>a.TWs,IllustrationMobilePay:()=>a.xdP,IllustrationMonthlyInvoice:()=>a.PcG,IllustrationMultipleCards:()=>a.Qql,IllustrationMyOrders:()=>a.NAh,IllustrationNewBusiness:()=>a.cz1,IllustrationNoRedirections:()=>a.SBt,IllustrationOnlinePurchases:()=>a.Toz,IllustrationOtherQuestions:()=>a.SAq,IllustrationOwnTheCheckout:()=>a.bol,IllustrationPWOC:()=>a.jJX,IllustrationPackage:()=>a.AP5,IllustrationPayLater:()=>a.Anp,IllustrationPayNow:()=>a.czY,IllustrationPizzaSlice:()=>a.eMB,IllustrationPlaceholder:()=>a.J5U,IllustrationPool:()=>a.vK8,IllustrationPrefilledDetails:()=>a.jLi,IllustrationPriceDrop:()=>a.jhN,IllustrationPride:()=>a.zp$,IllustrationProblem:()=>a.xWe,IllustrationPurchaseDetails:()=>a.nEQ,IllustrationPushNotificationEmotional:()=>a.z4Q,IllustrationQuickTransfers:()=>a.WOq,IllustrationReduceAdmin:()=>a.ZUX,IllustrationReportProblem:()=>a.YL4,IllustrationReportReturn:()=>a.p4z,IllustrationRewards:()=>a.ZNb,IllustrationRiskProtection:()=>a.Lbu,IllustrationSalary:()=>a.jpt,IllustrationSatisfactionNegative:()=>a.U4d,IllustrationSatisfactionPositive:()=>a.FAn,IllustrationScheduledHomeDelivery:()=>a.isr,IllustrationSearchEmptyState:()=>a.Xm,IllustrationSearchError:()=>a.WQs,IllustrationSearchingOrders:()=>a.KCX,IllustrationSecurity:()=>a.W1S,IllustrationSellerProtection:()=>a.m6D,IllustrationShopping:()=>a.J1J,IllustrationShoppingStore:()=>a.YBl,IllustrationSliceIt:()=>a.I3k,IllustrationSmooth:()=>a.OLR,IllustrationSnooze:()=>a.NLP,IllustrationStartSmallAndLearnFast:()=>a.PsK,IllustrationSuccess:()=>a.nsY,IllustrationSunglasses:()=>a.lOL,IllustrationSustainability:()=>a.rlw,IllustrationThumbsUp:()=>a.iuO,IllustrationTouchID:()=>a.lXW,IllustrationTrackYourOrders:()=>a.V1d,IllustrationUpfrontPayment:()=>a.n5m,IllustrationUpload:()=>a.ssb,IllustrationVerifyYourIdentity:()=>a.DPm,Image:()=>a.Eep,InformationBlockLabelAlt:()=>a.LAy,InformationBlockLabelAltOverlay:()=>a.xui,InformationBlockLabelDefault:()=>a.gdM,InformationBlockLabelError:()=>a.Lng,InformationBlockLabelSuccess:()=>a._aP,InformationBlockLabelWarning:()=>a.y4f,KlarnaAvatar:()=>a.cfu,KlarnaLogoFull:()=>a.v_M,KlarnaLogoSingleLetter:()=>a.eap,LineBreak:()=>a.CAo,Link:()=>a.rUS,LinkLegal:()=>a.h_l,LinkPrimary:()=>a.ggu,LinkSecondary:()=>a.nZ,List:()=>a.aVo,ListPrimary:()=>a.vs$,ListQuaternary:()=>a.KX$,ListSecondary:()=>a.vNH,ListTertiary:()=>a.RUS,Loader:()=>a.aNw,MaskedField:()=>a.nVA,MenuTab:()=>a.d8h,NavBar:()=>a.l2j,NavigationContainer:()=>a.tSn,NavigationIcon365Challenge:()=>a.oaP,NavigationIconAssistant:()=>a.KV5,NavigationIconAtmWithdrawal:()=>a.po1,NavigationIconBanksCards:()=>a.sRb,NavigationIconBrowser:()=>a.tOj,NavigationIconCreateYourOwn:()=>a.dPE,NavigationIconDeals:()=>a.BBz,NavigationIconDeliveries:()=>a.fOc,NavigationIconFee:()=>a.BDE,NavigationIconFeed:()=>a.gW4,NavigationIconFinancing:()=>a.jwp,NavigationIconFinancingAlternative:()=>a.M16,NavigationIconGhostCard:()=>a.ReM,NavigationIconGlasses:()=>a.$BU,NavigationIconGoalBetter:()=>a.hOG,NavigationIconHome:()=>a.N0K,NavigationIconInspiration:()=>a.G6n,NavigationIconInstantAdd:()=>a.MQ2,NavigationIconInterest:()=>a.Rfo,NavigationIconInvestmentFund:()=>a.okL,NavigationIconInvestmentPurchase:()=>a.rZp,NavigationIconInvestmentSale:()=>a.Irk,NavigationIconItems:()=>a.h2H,NavigationIconKlarnaCard:()=>a.O_Y,NavigationIconLastBite:()=>a.wGl,NavigationIconLoyalty:()=>a.VDY,NavigationIconMoneyIn:()=>a.UD1,NavigationIconMoneyOut:()=>a.r9,NavigationIconMonthly:()=>a.Ozs,NavigationIconOrders:()=>a.NfC,NavigationIconPayYourselfFirst:()=>a.iuZ,NavigationIconPayments:()=>a.UNQ,NavigationIconPlaceholder:()=>a.RUP,NavigationIconPlusOne:()=>a.LIY,NavigationIconProfile:()=>a.Ydg,NavigationIconProfileAlternative:()=>a.Tpo,NavigationIconReturns:()=>a.rc4,NavigationIconRollDice:()=>a.r$$,NavigationIconRoundUp:()=>a.Eye,NavigationIconShopInStore:()=>a.l4l,NavigationIconShopping:()=>a._$E,NavigationIconSpending:()=>a.LLr,NavigationIconSpendingPower:()=>a.LLi,NavigationIconStores:()=>a.df0,NavigationIconStoresPlus:()=>a.Z4h,NavigationIconSustainability:()=>a.ad8,NavigationIconTax:()=>a.ZF1,NavigationIconTodo:()=>a.tsp,NavigationIconWallet:()=>a.kdb,NavigationIconWishlist:()=>a.A7V,OfferBreakdown:()=>a.XWD,ParagraphPrimary:()=>a.qQt,ParagraphQuaternary:()=>a.TwB,ParagraphSecondary:()=>a.kSx,ParagraphTertiary:()=>a.aWq,ParticleDesignVersions:()=>a.ZjL,PaymentLogoAmex:()=>a.NkC,PaymentLogoApplePay:()=>a.tMY,PaymentLogoBancontact:()=>a.H$d,PaymentLogoBankID:()=>a.Ncc,PaymentLogoBankPlaceholder:()=>a.CGu,PaymentLogoBankPlaceholderAlt:()=>a.ZbU,PaymentLogoBillie:()=>a.Abk,PaymentLogoBlik:()=>a.Q$l,PaymentLogoDiscover:()=>a.HJl,PaymentLogoIdeal:()=>a.fsu,PaymentLogoKlarna:()=>a.gfg,PaymentLogoMaestro:()=>a.BLX,PaymentLogoMasterCard:()=>a.FMQ,PaymentLogoPrzelewy24:()=>a.PbZ,PaymentLogoPrzelewy24Alt:()=>a.Jpj,PaymentLogoSwish:()=>a.D2I,PaymentLogoTuv:()=>a.HCB,PaymentLogoVisa:()=>a.D33,PaymentLogoVisaBrand:()=>a.hXc,PaymentLogoVisaElectron:()=>a.JZc,Preview:()=>a.MBS,PreviewBorderColors:()=>a.WjH,PreviewWithOptions:()=>a.hm9,ProgressBar:()=>a.kod,Radio:()=>a.Y8K,RadioBullet:()=>a.OFc,RadioGroup:()=>a.FXm,ScrollView:()=>a.pfj,Select:()=>a.PhF,SelectorActionsheet:()=>a.erO,SelectorDirect:()=>a.PMc,SelectorDirectOption:()=>a.ltL,SelectorField:()=>a.ekh,SelectorInput:()=>a.N5g,SelectorLogo:()=>a.q3B,SelectorLogoOption:()=>a.mC0,SelectorOptions:()=>a.HOd,SelectorOptionsMulti:()=>a.DXz,Separator:()=>a.Z0O,SeparatorSecondary:()=>a.x3M,Shape:()=>a.bnF,Sidebar:()=>a.YE2,SiteNavigationLink:()=>a.kwL,Slider:()=>a.iRW,SpacerHorizontal:()=>a.lCL,SpacerVertical:()=>a.NwO,SpotCatalog:()=>a.mn4,SpotComputers:()=>a.nOj,SpotConstruction:()=>a.ey6,SpotDeliveries:()=>a.muw,SpotDisputesReturns:()=>a.stO,SpotEntertainment:()=>a.WUZ,SpotFashion:()=>a.sIU,SpotGaming:()=>a.EHQ,SpotGarden:()=>a._EU,SpotHome:()=>a.wC9,SpotHomeAppliances:()=>a.RaG,SpotHomeSmallAppliances:()=>a.X5t,SpotKidsFamily:()=>a.KXM,SpotLike:()=>a.iF_,SpotOfficeEquipment:()=>a.sj5,SpotPersonalFinances:()=>a.Xgq,SpotPhone:()=>a.BW,SpotPhotography:()=>a.Yk6,SpotRefresh:()=>a.AN7,SpotRocket:()=>a.psN,SpotRocketGrey:()=>a.Ivw,SpotSelfcare:()=>a.gtD,SpotSound:()=>a.eC4,SpotSports:()=>a.CVp,SpotToysHobbies:()=>a.NUC,SpotTransportation:()=>a.Si9,SpotTravel:()=>a.$Op,Strong:()=>a.cKN,StyleSheetOverridesProvider:()=>a.ho$,Surface:()=>a.Tgp,SwitchCheckbox:()=>a.jzh,SwitchToggle:()=>a.L_$,Text:()=>a.xvT,TextInput:()=>a.oil,ThemeProvider:()=>a.f6W,Timeline:()=>a.TYT,TitleDefinition:()=>a.r$g,TitleDisplay:()=>a.x1w,TitlePrimary:()=>a.AaO,TitleSecondary:()=>a.Xic,TitleSubtitle:()=>a.V9w,TitleTertiary:()=>a.l9M,Tooltip:()=>a.ua7,Touchable:()=>a.L4l,TouchableFrame:()=>a.pOj,TouchableIcon:()=>a.ntb,Transaction:()=>a.YW8,Typography:()=>a.ZT$,View:()=>a.G7x,ViewModeToggle:()=>a.G5o,constants:()=>a._G3,defaultColorVariables:()=>a.DgK,defaultTextStyles:()=>a.Ijh,getPerformanceInformation:()=>a.sn0,hovered:()=>a.chb,liquoriceDarkTheme:()=>a.J8Y,liquoriceDefaultTheme:()=>a.swB,liquoriceTheme:()=>a.Jd6,lollipopTheme:()=>a.mJz,pancakeTheme:()=>a.aLs,pressed:()=>a.nJ,useAnimationControl:()=>a.S$v,useComponentOverridesProvider:()=>a.AJ$,useDesignVersion:()=>a.a1r,useTheme:()=>a.FgM,withDesignVersion:()=>a.vOq});var a=n("3vfH")},"GDo/":(e,t,n)=>{"use strict";n.r(t),n.d(t,{NAME:()=>a,createMonthsOfTheYear:()=>r,createWeekDayOneLetterNames:()=>i});const a="i18n",r=e=>[e("shared.months.january"),e("shared.months.february"),e("shared.months.march"),e("shared.months.april"),e("shared.months.may"),e("shared.months.june"),e("shared.months.july"),e("shared.months.august"),e("shared.months.september"),e("shared.months.october"),e("shared.months.november"),e("shared.months.december")],i=e=>({monday:e("shared.weekDaysShort.monday"),tuesday:e("shared.weekDaysShort.tuesday"),wednesday:e("shared.weekDaysShort.wednesday"),thursday:e("shared.weekDaysShort.thursday"),friday:e("shared.weekDaysShort.friday"),saturday:e("shared.weekDaysShort.saturday"),sunday:e("shared.weekDaysShort.sunday")})},tR9r:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Message:()=>he,components:()=>a,constants:()=>f,createState:()=>B,hooks:()=>r,selectors:()=>u,translations:()=>ke,translator:()=>be});var a={};n.r(a),n.d(a,{Currency:()=>c,FormattedDate:()=>b,Message:()=>k,Number:()=>m});var r={};n.r(r),n.d(r,{useLanguage:()=>_,useTranslator:()=>R});var i=n("ERkP"),o=n("aWzz"),s=n.n(o),l=n("JTLF"),u=n("hJTQ");const d=({format:e,currency:t,value:n,id:a,hideDecimals:r})=>i.createElement("span",{id:a,"data-value":n},e(t,r).format(n));d.propTypes={currency:s().string.isRequired,value:s().number.isRequired,format:s().func.isRequired,hideDecimals:s().bool,id:s().string};const c=(0,l.connect)((e=>({format:u.formatters.currency(e)})))(d),p=({formatter:e,value:t,options:n,withGrouping:a})=>e(n,a).format(t);p.propTypes={formatter:s().func.isRequired,value:s().any.isRequired,options:s().object,withGrouping:s().bool};const m=(0,l.connect)((e=>({formatter:u.formatters.number(e)})))(p);function g({t:e,path:t,params:n={},fallback:a="",dangerous:r}){const o=e(t,n,a);return r?i.createElement("span",{dangerouslySetInnerHTML:{__html:o}}):o}g.propTypes={t:s().func,path:s().string.isRequired,params:s().object,fallback:s().string,dangerous:s().bool};const k=(0,l.connect)((e=>({t:u.translator(e)})))(g),h=({type:e,formatters:t,value:n,fallback:a})=>{let r=a;if("string"==typeof n&&(n=new Date(n)),n)try{r=t[e].format(n)}catch(e){console.error(e)}return r};h.defaultProps={fallback:"n/a"},h.propTypes={type:s().oneOf(["datetime","date","time","utcdate"]).isRequired,formatters:s().shape({datetime:s().object.isRequired,date:s().object.isRequired,time:s().object.isRequired,utcdate:s().object.isRequired}),value:s().any.isRequired,fallback:s().string};const b=(0,l.connect)((e=>({formatters:{datetime:u.formatters.datetime(e),date:u.formatters.date(e),time:u.formatters.time(e),utcdate:u.formatters.utcdate(e)}})))(h);var f=n("GDo/"),v=n("iSPL"),y=n.n(v),S=n("XMe8"),w=n("KmH7"),T=n("/TO/"),E=n("DaoL"),C=n("yzYz"),P=n("jf3u"),I=n("6nSv"),A=n("Wjah"),x=n("DPEV"),z=n("vIPa"),j=n("4/J7"),O=n("ljgY");const L={get browserLocale(){return S.Z(this._browserLocale,y())},set browserLocale(e){this._browserLocale=e},get localStorage(){return S.Z(this._localStorage,window.localStorage)},set localStorage(e){this._localStorage=e}},D=["be","de","dk","fi","gb","nl","no","se","us"],M=w.Z(T.Z(""),E.Z,C.Z("-"),P.Z(["language","country"])),F=I.Z(A.Z,{}),N=(e,t)=>x.Z([[z.Z(e),j.Z(e)],[O.Z,j.Z(t)]]),B=(...e)=>{const t=M(L.browserLocale()),n=(()=>{try{return L.localStorage.getItem("language")}catch(e){}})(),a=F(e),r=Object.keys(a);return{language:N(S.Z(n,t.language),"en")(r),country:N(t.country,"gb")(D),countries:D,translations:a}},R=()=>(0,l.useSelector)(u.translator),_=()=>(0,l.useSelector)(u.language);var Z=n("U3Tj"),K=n.n(Z),H=n("NZ0R"),G=n.n(H),q=n("Jy17"),V=n.n(q),W=n("DkQx"),U=n.n(W),Y=n("e2kf"),J=n.n(Y),Q=n("SCmy"),$=n.n(Q),X=n("Ur/b"),ee=n.n(X),te=n("Ejk2"),ne=n.n(te),ae=n("RR8j"),re=n.n(ae),ie=n("X0An"),oe=n.n(ie),se=n("pJtD"),le=n.n(se),ue=n("LLEK"),de=n.n(ue),ce=n("kanG"),pe=n.n(ce),me=n("3EvQ"),ge=n.n(me);const ke={...K(),...G(),...V(),...U(),...J(),...$(),...ee(),...ne(),...re(),...oe(),...le(),...de(),...pe(),...ge()},{Message:he}=a,{translator:be}=u},hJTQ:(e,t,n)=>{"use strict";n.r(t),n.d(t,{countries:()=>j,country:()=>z,formatters:()=>F,language:()=>x,locale:()=>O,parsers:()=>_,translations:()=>A,translator:()=>M,translatorFactory:()=>D}),n("XokB"),n("vuxS"),n("0PFz"),n("Y5iW"),n("ccEJ"),n("GUcw"),n("Tndb"),n("Yw38"),n("uo47"),n("Qz3v"),n("DGJE"),n("xoG/");var a=n("Q+Gz"),r=n.n(a),i=n("IgB6"),o=n("2Us3"),s=n("nTvt"),l=n("KmH7"),u=n("EoiY"),d=n("vIPa"),c=n("n1y5"),p=n("0edw"),m=n("HW9v"),g=n("VqR8"),k=n("4/J7"),h=n("ZwkB"),b=n("KKax"),f=n("H21b"),v=n("omU6"),y=n("A5k7"),S=n("XMe8"),w=n("DMNn"),T=n("xkYv"),E=n("FpNS"),C=n("/uaS"),P=n("GDo/");const I=s.Z(P.NAME),A=l.Z(I,s.Z("translations")),x=l.Z(I,s.Z("language")),z=l.Z(I,s.Z("country")),j=l.Z(I,s.Z("countries")),O=(0,C.P1)(x,z,((e,t)=>t?`${e}-${t.toUpperCase()}`:e)),L={no:["nb","nn"]},D=(0,C.P1)(A,(e=>b.Z(h.Z,(t=>(n,a={},s="")=>{const b=(t||"").substring(0,2),w=(e=>l.Z(u.Z(d.Z(e)),c.Z,p.Z,m.Z(g.Z,k.Z(e),h.Z)))(b)(L),T=f.Z([b,w,"en"]),E=l.Z(v.Z(((e,t)=>n=>r().get(t,`${n}.${e}`))(n,e)),y.Z(h.Z))(T),C=S.Z(E,s);try{return new o.ZP(C,t).format(a)}catch(e){return i.$e((a=>{a.setExtras({message:C,locale:t,path:n}),i.Tb(e)})),s}})))),M=(0,C.P1)(D,O,((e,t)=>e(t))),F={number:(0,C.P1)(O,(e=>(t={minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!1},n=!1)=>(n&&(t={minimumFractionDigits:2,maximumFractionDigits:2}),new Intl.NumberFormat(e,t)))),currency:(0,C.P1)(O,(e=>(t,n)=>new Intl.NumberFormat(e,{currency:t,style:"currency",currencyDisplay:"symbol",...n&&{minimumFractionDigits:0,maximumFractionDigits:0}}))),datetime:(0,C.P1)(O,(e=>new Intl.DateTimeFormat(e,{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}))),date:(0,C.P1)(O,(e=>new Intl.DateTimeFormat(e,{month:"short",day:"numeric",year:"numeric"}))),longDateNoYear:(0,C.P1)(O,(e=>new Intl.DateTimeFormat(e,{month:"long",day:"numeric"}))),time:(0,C.P1)(O,(e=>new Intl.DateTimeFormat(e,{hour:"numeric",minute:"numeric"}))),utcdate:(0,C.P1)(O,(e=>new Intl.DateTimeFormat(e,{timeZone:"UTC",month:"short",day:"numeric",year:"numeric"})))},N=(0,C.P1)(F.number,(e=>e().format(1.1).substring(1,2))),B=e=>(0,C.P1)(N,(t=>("."===t&&(t="\\."),`^${e?"[-−]?":""}[0-9]+${t}?[0-9]{0,2}$`))),R=B(!0),_={numberRegex:R,positiveNumberRegex:B(!1),fromMinorUnits:()=>w.Z(T.Z,100),fromMajorUnits:()=>l.Z(E.Z(100),Math.round),parseNumber:(0,C.P1)(N,R,((e,t)=>n=>"number"==typeof n?n:new RegExp(t).test(n)?(n=n.replace(e,".").replace("−","-"),Number(n)):NaN))}},"7/nm":(e,t,n)=>{"use strict";n.r(t),n.d(t,{cmsActions:()=>Ze,configureState:()=>he,configureStore:()=>Re,i18nActions:()=>m,selectors:()=>a,thunks:()=>r});var a={};n.r(a),n.d(a,{cmsEnvironment:()=>re,cmsLocale:()=>ae,getAppBaseUrl:()=>q,getAppCategories:()=>te,getAppConfig:()=>G,getAppLink:()=>W,getApps:()=>X,getCategorizedApps:()=>ne,getHomeLink:()=>V,getKeycloak:()=>$,getLanguages:()=>H,getUserAccessibleApps:()=>ee,keycloakConfig:()=>U});var r={};n.r(r),n.d(r,{fetch:()=>ce,fetchCapabilities:()=>pe,initialiseKeycloak:()=>se,login:()=>ue,logout:()=>de,refreshToken:()=>le,saveLanguage:()=>oe});var i=n("dbvb"),o=n("EyyD"),s=n("8/GC"),l=n("IgB6"),u=n("anra"),d=n("UTGr"),c=n("cYTt"),p=n("bbSk");const m=(0,p.Z)({I18N:{LANGUAGE:{SET:[c.Z("language"),e=>d.utils.createInsightsMetaObject("language","set",{label:e})]}}}).i18n;var g=n("hJTQ"),k=n("wgY5"),h=n.n(k),b=n("RPmX"),f=n("VU6s"),v=n("W6jZ"),y=n("lRIP"),S=n("Ng9u"),w=n("gQ60"),T=n("W2gB"),E=n("KmH7"),C=n("EoiY"),P=n("7/wp"),I=n("n1y5"),A=n("qxzz"),x=n("nTvt"),z=n("V1/a"),j=n("omU6"),O=n("mkWk"),L=n("4h86"),D=n("lHPB"),M=n("HW9v"),F=n("WR/M"),N=n("7OVy"),B=n("/uaS");const R=b.Z(!0,["config","isNkoApp"]),_=(e,t)=>`${(e=>e.endsWith("/")?e:`${e}/`)(t)}#realm=${e}`,Z=T.Z(b.Z("",["category"])),K=e=>(t,n)=>t[e]&&_(n,t[e].url),H=(0,B.P1)(g.translations,s.clientId,((e,t)=>E.Z(C.Z(P.Z(t)),I.Z)(e))),G=(0,B.P1)(i.apps,s.clientId,((e,t)=>e[t])),q=(0,B.P1)(i.getMerchantPortalBaseUrl,s.getBasename,((e,t)=>`${e}${t}`)),V=(0,B.P1)(i.apps,s.keycloakRealm,K("home-fe")),W=(0,B.P1)(i.apps,s.keycloakRealm,s.clientId,((e,t,n)=>K(n)(e,t))),U=(0,B.P1)(i.keycloak,s.keycloakRealm,G,s.isPartner,((e,t,n,a)=>{let r=e.clientId;return a&&"merchants"===t?r=e.partnerClientId:n&&n.keycloakClient&&(r=n.keycloakClient),{...A.Z(["realms"],e),...w.Z({},["realms",t],e),realm:t,clientId:r}})),Y=E.Z(U,x.Z("url")),J=E.Z(U,x.Z("realm")),Q=E.Z(U,x.Z("clientId")),$=(0,B.P1)(Y,J,Q,((e,t,n)=>new f.Z({url:e,realm:t,clientId:n}))),X=(0,B.P1)(i.apps,s.keycloakRealm,i.nko,v.wl.features,((e,t,n,a)=>(0,S.memoizeWithTokenHelper)((r=>{const i=r.getEids()[0];return E.Z(z.Z,j.Z((([e,t])=>({clientId:e,...t}))),O.Z((e=>w.Z(!1,[`merchant-portal.apps.${e.clientId}.disabled`,"is_enabled"],a))),L.Z(x.Z("enabled")),D.Z(x.Z("sortOrder")),j.Z(M.Z(R,((e,t)=>n=>({...n,url:e.baseUrl+w.Z("",["url"],n).replace("{estoreId}",t),newTab:!0}))(n,i),(e=>t=>({...t,url:_(e,t.url)}))(t))))(e)})))),ee=(0,B.P1)(X,s.getMerchant,((e,t)=>(0,S.memoizeWithTokenHelper)((n=>{const a=n.getClientsForAllEntities(),r=y.tokenHelper.isNkoAdmin(n),i=y.tokenHelper.isNkoUser(n),o=n.getMids().some((e=>{var n,a;return(null===(n=t(e))||void 0===n||null===(a=n.partners)||void 0===a?void 0:a.length)>0}));return e(n).filter((({additionalRequirements:e=[],clientId:t})=>e.every((e=>{switch(e){case"isTransactingUser":return n.isTransactingUser();case"hasPermission":return a.includes(t);case"isNkoAdminIfNkoUser":return!i||r;case"isNotSubPartner":return!o;default:return!1}}))))})))),te=(0,B.P1)(i.appCategories,(e=>E.Z(z.Z,j.Z((([e,t])=>({id:e,...t}))),D.Z(x.Z("order")))(e))),ne=(0,B.P1)(te,ee,((e,t)=>(0,S.memoizeWithTokenHelper)((n=>E.Z(L.Z(Z),F.Z(((t,n)=>{const a=j.Z((({title:e})=>e),e);return a.indexOf(t.category)-a.indexOf(n.category)})),N.Z((e=>e.category)))(t(n)))))),ae=(0,B.P1)(g.language,(e=>({no:"nb"}[e]||e))),re=(0,B.P1)(i.environment,(e=>({production:"master",playground:"master"}[e]||"staging"))),ie=(0,p.Z)({CLIENT:{CAPABILITIES:{LOADING:void 0,SET:void 0}}}).client,oe=(e,t,{moment:n=h(),localStorage:a=window.localStorage}={})=>(r,o)=>{const u=o(),d=s.createBackendClient(u)("users"),c=g.locale(u);r(m.language.set(t)),n.locale(c);try{a.setItem("language",t)}catch(e){}const p=i.environment(u);if("development"===p)document.cookie=`KEYCLOAK_LOCALE=${t}; path=/auth/realms/merchants/;`;else{let e=".klarna.com";"staging"===p&&(e=".klarna.net"),document.cookie=`KEYCLOAK_LOCALE=${t}; path=/auth/realms/merchants/; domain=${e}`}return s.isMerchantsRealm(u)?d.request({method:"PUT",url:`/users/${e}`,data:{language:t}}).catch(l.Tb):Promise.resolve()},se=(e={})=>async(t,n)=>{const{keycloak:a=$(n())}=e;await a.init({onLoad:"login-required",promiseType:"native",checkLoginIframe:!1,pkceMethod:"S256"}),t(o.Z.token.set(a))},le=(e={})=>async(t,n)=>{const{force:a=!1,keycloak:r=$(n()),minValidity:i=U(n()).refreshTokenThreshold,_Sentry:s=u}=e;try{let e;try{e=await r.updateToken(a?86400:i)}catch(e){throw new Error("Unable to update token")}if(e){if(r.isTokenExpired(i))throw new Error(`Token expiring in less than ${i} seconds`);t(o.Z.token.set(r))}}catch(e){const{refreshTokenParsed:{exp:n,iat:a}={},tokenParsed:{exp:i,iat:o}={}}=r;s.captureException(e,{extra:{refreshTokenExp:n,refreshTokenIat:a,tokenExp:i,tokenIat:o}}),t(de())}},ue=(e={})=>async(t,n)=>{const a=$(n());await a.login(e),t(o.Z.token.set(a))},de=()=>(e,t)=>{const n=$(t()),a=q(t());e(o.Z.keycloak.realm.clear()),n.authenticated?n.logout({redirectUri:a}):window.location=a},ce=(e,t={})=>async(n,a)=>{const r=()=>/^(http|\/)/.test(e)?s.clientFactory(a())():s.createClient(a());try{return await r().request(e,t)}catch(a){if(b.Z(401,["response","status"],a))return await n(le({force:!0})),await r().request(e,t);throw a}},pe=(e={})=>async t=>{t(ie.capabilities.loading());try{const n=await t(ce("capabilities",e));t(ie.capabilities.set(n))}catch(e){t(ie.capabilities.set(e))}};var me=n("tR9r"),ge=n("OJ6l"),ke=n("/lPs");const he=(e,t,n=[],{sessionId:a}={})=>({config:e.config||{},core:{clientId:e.clientId,slug:e.slug,realm:"merchants",designVersion:ke.NEXT,sessionId:a},i18n:(0,me.createState)(ge.Iz,me.translations,...n),...t(e)});var be=n("ZwkB"),fe=n("QZe/"),ve=n("HJJb"),ye=n("90jt"),Se=n("aqRm"),we=n("hPkn");const Te=(0,Se.Z)("CORE/REQUESTER/FETCH",m.language.set),Ee=(0,we.Z)({[Te]:(e,{error:t,payload:n={}})=>t||"object"!=typeof n?e:{...e,...ye.Z(["language"],n)}},{language:"en",country:"gb",countries:[],translations:{}});var Ce=n("CCUX");const Pe=(0,we.Z)({[ie.capabilities.loading]:Ce.Z(["capabilities","isFetching"],!0),[ie.capabilities.set]:(e,{error:t,payload:n})=>({...e,capabilities:{hasInitialised:!0,isFetching:!1,error:t?n:void 0,value:t?{}:n.data.capabilities}})},{capabilities:{hasInitialised:!1,isFetching:!1,error:void 0,value:void 0}}),Ie={NAME:"cms",SET_CMS_ENVIRONMENT:"SET_CMS_ENVIRONMENT"},Ae={preview:window.location.search.includes("preview=true"),cmsEnvironment:function(){try{return sessionStorage.getItem(Ie.CMS_ENVIRONMENT_SESSION_STORAGE_KEY)}catch(e){return null}}()},xe=(0,we.Z)({[Ie.SET_CMS_ENVIRONMENT]:(e,{payload:t})=>({...e,cmsEnvironment:t})},Ae);var ze=n("43Qv"),je=n("l7/f"),Oe=n("h6pt"),Le=(n("ssIi"),n("jmEA")),De=n("E8yg"),Me=n("SGqi"),Fe=n("mOX4"),Ne=n.n(Fe),Be=n("V8Kl");const Re=(e,t,n=(()=>({})),a=(()=>[]),r=[])=>(0,fe.MT)((0,fe.UY)(((e,t)=>({router:(0,ze.iz)(e),[ge._G.A]:ge.I6,[ve.constants.NAME]:ve.reducer,i18n:Ee,[v._G.A1]:v.I6,[Ie.NAME]:xe,client:Pe,...t()}))(t,n)),e,(0,fe.qC)((0,fe.md)(...((e,t,n,a)=>((0,Oe.Z)(["config","common","environment","type"],e),[Be.Z,Ne(),Le.Z,(0,je.Z)(t),ve.middleware,...n(t,e),d.middleware,(0,De.kh)((0,De.lp)(...a),{adapter:Me.ZP})]))(e,t,a,r)),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():be.Z)),_e=(0,n("B7XX").Z)(Ie.SET_CMS_ENVIRONMENT),Ze={setCMSEnvironment:e=>(sessionStorage.setItem(Ie.CMS_ENVIRONMENT_SESSION_STORAGE_KEY,e),t=>t(_e(e)))}},"1mYo":(e,t,n)=>{(e.exports=n("PBB4")(!1)).push([e.id,"html {\n  box-sizing: border-box;\n}\n\n*,\n*:before,\n*:after {\n  box-sizing: inherit;\n}\n\n.ellipsis p,\n.ellipsis span {\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n  overflow: hidden !important;\n}\n\n@media print {\n  [data-testid=mpui-fw-sidebar],\n  [data-testid=header-appsmenu-button],\n  [data-testid=topbar-menubutton],\n  #mpui-environment-id-wrapper { \n    display: none!important; \n  }\n  #mp-app-framework > div > div,\n  #mpui-fw-main-section {\n    padding: 5px;\n  }\n}",""])},cPRb:(e,t,n)=>{(e.exports=n("PBB4")(!1)).push([e.id,'.CodeMirror {\n  padding: 30px 0 80px;\n  border: 1px solid #D1D1D0;\n  border-radius: 0px;\n  height: auto;\n  overflow: hidden;\n  font-size: 16px;\n  line-height: 25px;\n  z-index: 0;\n}\n\n.CodeMirror .CodeMirror-scroll {\n  max-height: 350px;\n}\n\n.CodeMirror .CodeMirror-gutters {\n  background: #fff;\n  border-right: 0;\n}\n.CodeMirror .CodeMirror-gutters .CodeMirror-linenumbers {\n  width: 70px;\n}\n\n.CodeMirror-code {\n  font-family: Menlo, monospace;\n  font-size: 14px;\n}\n\n.CodeMirror-gutter-wrapper {\n  font-size: 14px;\n}\n\n/* .CodeMirror-lines {\n  width: calc(100% - 180px);\n} */\n\n.CodeMirror-gutter-elt {\n  text-align: center;\n}\n\n.CodeMirror-linenumber {\n  font-family: "Klarna Sans", Helvetica, Arial, sans-serif;\n}\n\n\n\n\n',""])},P2RI:(e,t,n)=>{(e.exports=n("PBB4")(!1)).push([e.id,".code-snippet {\n  position: relative;\n  z-index: 1;\n}\n.code-snippet .button {\n  position: absolute;\n  bottom: 20px;\n  right: 20px;\n}\n.code-snippet-no-copy .CodeMirror {\n  padding: 20px 0;\n}\n",""])},"7QLp":(e,t,n)=>{(e.exports=n("PBB4")(!1)).push([e.id,"div#fc_frame.fc-widget-normal.fc-mobile-view {\n  margin-bottom: 0;\n}\n\ndiv#fc_frame.fc-widget-normal {\n  margin-bottom: 60px;\n  z-index: 101;\n}\n",""])},RW9R:(e,t,n)=>{e.exports=n.p+"osm-banner-desktop.47159162486fb093297f360068d2ee50.png"},ES8c:(e,t,n)=>{e.exports=n.p+"osm-banner-mobile.04c0c7eb62592c3a1fab1331aadab9d4.png"},NvFW:(e,t,n)=>{e.exports=n.p+"branding-cover.b079594237d58f3525446dcd0db209cc.png"},gbKa:(e,t,n)=>{e.exports=n.p+"kec-cover.0363e982090a92397f759b08e69a9ea0.png"},flt4:(e,t,n)=>{e.exports=n.p+"on-site-messaging-cover.9e5b4f62fa82f35f27483baa6908dce9.png"},"bD+L":(e,t,n)=>{e.exports=n.p+"siwk-cover.567af86c2572225e55530d7b7af6bfee.png"},A6mt:(e,t,n)=>{var a={"./af":"8GSH","./af.js":"8GSH","./ar":"NcOb","./ar-dz":"1ors","./ar-dz.js":"1ors","./ar-kw":"Sc1Y","./ar-kw.js":"Sc1Y","./ar-ly":"GzvP","./ar-ly.js":"GzvP","./ar-ma":"hH25","./ar-ma.js":"hH25","./ar-ps":"3dDA","./ar-ps.js":"3dDA","./ar-sa":"u2jB","./ar-sa.js":"u2jB","./ar-tn":"5Mza","./ar-tn.js":"5Mza","./ar.js":"NcOb","./az":"ZVVJ","./az.js":"ZVVJ","./be":"kQaN","./be.js":"kQaN","./bg":"+n5x","./bg.js":"+n5x","./bm":"TTiN","./bm.js":"TTiN","./bn":"aIF2","./bn-bd":"lTqY","./bn-bd.js":"lTqY","./bn.js":"aIF2","./bo":"QWb5","./bo.js":"QWb5","./br":"iQoZ","./br.js":"iQoZ","./bs":"EL7g","./bs.js":"EL7g","./ca":"vd/2","./ca.js":"vd/2","./cs":"K+3W","./cs.js":"K+3W","./cv":"Jt3X","./cv.js":"Jt3X","./cy":"sWi3","./cy.js":"sWi3","./da":"YcFX","./da.js":"YcFX","./de":"BKZ+","./de-at":"Oq9h","./de-at.js":"Oq9h","./de-ch":"hHY4","./de-ch.js":"hHY4","./de.js":"BKZ+","./dv":"w8Ej","./dv.js":"w8Ej","./el":"tSbB","./el.js":"tSbB","./en-au":"HgyJ","./en-au.js":"HgyJ","./en-ca":"ZyTy","./en-ca.js":"ZyTy","./en-gb":"exaB","./en-gb.js":"exaB","./en-ie":"yKzn","./en-ie.js":"yKzn","./en-il":"TB59","./en-il.js":"TB59","./en-in":"S70V","./en-in.js":"S70V","./en-nz":"iDxo","./en-nz.js":"iDxo","./en-sg":"zS0P","./en-sg.js":"zS0P","./eo":"4bvN","./eo.js":"4bvN","./es":"GNPT","./es-do":"R7mU","./es-do.js":"R7mU","./es-mx":"FkqR","./es-mx.js":"FkqR","./es-us":"Nstw","./es-us.js":"Nstw","./es.js":"GNPT","./et":"ZOjb","./et.js":"ZOjb","./eu":"kFC9","./eu.js":"kFC9","./fa":"8Cju","./fa.js":"8Cju","./fi":"vcN1","./fi.js":"vcN1","./fil":"3g1g","./fil.js":"3g1g","./fo":"8Ygf","./fo.js":"8Ygf","./fr":"Y8Ij","./fr-ca":"t+Zl","./fr-ca.js":"t+Zl","./fr-ch":"SPXN","./fr-ch.js":"SPXN","./fr.js":"Y8Ij","./fy":"T3MF","./fy.js":"T3MF","./ga":"NowM","./ga.js":"NowM","./gd":"GJYX","./gd.js":"GJYX","./gl":"MdC8","./gl.js":"MdC8","./gom-deva":"QJjq","./gom-deva.js":"QJjq","./gom-latn":"5j0y","./gom-latn.js":"5j0y","./gu":"fY0S","./gu.js":"fY0S","./he":"ACAV","./he.js":"ACAV","./hi":"3WqV","./hi.js":"3WqV","./hr":"OnNk","./hr.js":"OnNk","./hu":"EQmw","./hu.js":"EQmw","./hy-am":"MNf7","./hy-am.js":"MNf7","./id":"0yow","./id.js":"0yow","./is":"TmOJ","./is.js":"TmOJ","./it":"xD/0","./it-ch":"foQf","./it-ch.js":"foQf","./it.js":"xD/0","./ja":"jOnb","./ja.js":"jOnb","./jv":"lOtj","./jv.js":"lOtj","./ka":"BAN/","./ka.js":"BAN/","./kk":"iNiw","./kk.js":"iNiw","./km":"TUxt","./km.js":"TUxt","./kn":"hQzt","./kn.js":"hQzt","./ko":"ZNZT","./ko.js":"ZNZT","./ku":"S0Tg","./ku-kmr":"Aqdd","./ku-kmr.js":"Aqdd","./ku.js":"S0Tg","./ky":"JO+T","./ky.js":"JO+T","./lb":"vn/h","./lb.js":"vn/h","./lo":"gnIm","./lo.js":"gnIm","./lt":"6PD3","./lt.js":"6PD3","./lv":"YKe2","./lv.js":"YKe2","./me":"d3TR","./me.js":"d3TR","./mi":"hTlv","./mi.js":"hTlv","./mk":"ffVN","./mk.js":"ffVN","./ml":"ejL1","./ml.js":"ejL1","./mn":"RIsM","./mn.js":"RIsM","./mr":"CPJk","./mr.js":"CPJk","./ms":"d5Hy","./ms-my":"t4T9","./ms-my.js":"t4T9","./ms.js":"d5Hy","./mt":"1KVU","./mt.js":"1KVU","./my":"LsNb","./my.js":"LsNb","./nb":"h+U8","./nb.js":"h+U8","./ne":"2JSI","./ne.js":"2JSI","./nl":"jsZ8","./nl-be":"+h6j","./nl-be.js":"+h6j","./nl.js":"jsZ8","./nn":"mh29","./nn.js":"mh29","./oc-lnc":"zX+o","./oc-lnc.js":"zX+o","./pa-in":"O6bP","./pa-in.js":"O6bP","./pl":"8Bez","./pl.js":"8Bez","./pt":"DDip","./pt-br":"uHm5","./pt-br.js":"uHm5","./pt.js":"DDip","./ro":"baBi","./ro.js":"baBi","./ru":"ecsu","./ru.js":"ecsu","./sd":"e9KM","./sd.js":"e9KM","./se":"CZRU","./se.js":"CZRU","./si":"TO58","./si.js":"TO58","./sk":"K+Lk","./sk.js":"K+Lk","./sl":"QK6v","./sl.js":"QK6v","./sq":"v3Qg","./sq.js":"v3Qg","./sr":"Ndyf","./sr-cyrl":"PGvg","./sr-cyrl.js":"PGvg","./sr.js":"Ndyf","./ss":"2B8G","./ss.js":"2B8G","./sv":"WF5B","./sv.js":"WF5B","./sw":"4VvY","./sw.js":"4VvY","./ta":"dw3T","./ta.js":"dw3T","./te":"4MAb","./te.js":"4MAb","./tet":"/hi0","./tet.js":"/hi0","./tg":"PoVJ","./tg.js":"PoVJ","./th":"OY2w","./th.js":"OY2w","./tk":"zO4H","./tk.js":"zO4H","./tl-ph":"UC+K","./tl-ph.js":"UC+K","./tlh":"cWLW","./tlh.js":"cWLW","./tr":"EqYs","./tr.js":"EqYs","./tzl":"fN8o","./tzl.js":"fN8o","./tzm":"6cYq","./tzm-latn":"pdAN","./tzm-latn.js":"pdAN","./tzm.js":"6cYq","./ug-cn":"J+SV","./ug-cn.js":"J+SV","./uk":"6Olw","./uk.js":"6Olw","./ur":"QNGR","./ur.js":"QNGR","./uz":"hLzJ","./uz-latn":"KqOT","./uz-latn.js":"KqOT","./uz.js":"hLzJ","./vi":"EnIJ","./vi.js":"EnIJ","./x-pseudo":"W7dU","./x-pseudo.js":"W7dU","./yo":"QDhB","./yo.js":"QDhB","./zh-cn":"bjMe","./zh-cn.js":"bjMe","./zh-hk":"JFCg","./zh-hk.js":"JFCg","./zh-mo":"5BRa","./zh-mo.js":"5BRa","./zh-tw":"xBDH","./zh-tw.js":"xBDH"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="A6mt"},eREu:(e,t,n)=>{"use strict";var a={};n.r(a),n.d(a,{AccessDenied:()=>C,AppIcon:()=>Ce,AuthenticationContextProvider:()=>rt,AuthenticationRequired:()=>vt,CenteredContent:()=>bt,Code:()=>dn,CodeSnippet:()=>kn,CodeSnippetNoCopy:()=>hn,Column:()=>Ge,DateRangePicker:()=>Y,Dialog:()=>k,Error:()=>Dt,GridContainer:()=>We,GridOverlayHelper:()=>Xe,ManageMfaSection:()=>tn,MultiFactorModal:()=>xt,Pagination:()=>$,RegionSelector:()=>Nt,RegionSelectorBar:()=>Zt,RouterLink:()=>B,Row:()=>Je,StoreSelector:()=>L,VerticalRhythm:()=>nt,View:()=>re,useAuthenticationContext:()=>it,withResponsive:()=>Ze});var r=n("GMWb"),i=n("IgB6"),o=n("dn/X"),s=n("HJJb"),l=(n("HopG"),n("+GmA")),u=n("ERkP"),d=n("aWzz"),c=n.n(d),p=n("lYcC");function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(this,arguments)}const g=({portal:e=!0,closeOnClickOutside:t=!0,useWindowHeight:n=!1,closeOnEscape:a=!0,children:r,...i})=>u.createElement(p.Modal,m({usePortal:e,closeOnClickOutside:!0,closeOnEscape:!0,useWindowHeight:!0},i),r);g.propTypes={onClose:c().func,closeOnClickOutside:c().bool,useWindowHeight:c().bool,closeOnEscape:c().bool,large:c().bool,portal:c().bool,id:c().string,children:c().node,title:c().string,footer:c().array,unwrapped:c().bool};const k=g;var h=n("Kz3b"),b=n("Y4Ca"),f=n("9cga"),v=n("tR9r"),y=n("S+Yj");const{Colors:S}=y.default,w=({styleSheet:e})=>u.createElement("svg",{focusable:"false",viewBox:"0 0 100 100",height:"100px",width:"100px"},u.createElement("g",{transform:"translate(24, 18)"},u.createElement("path",{style:e.line,d:"M49.595 45.283c0 6.983-5.255 12.453-11.962 12.453h-21.51c-7.016 0-12.943-5.702-12.943-12.453v-16.98h46.415v16.98zM8.84 18.113c0-8.888 7.698-15.85 17.526-15.85h1.025c9.107 0 15.842 6.017 16.493 14.492.034.446.05.9.05 1.358 0 .626.507 1.132 1.133 1.132s1.132-.506 1.132-1.132C46.198 7.618 38.288 0 27.39 0h-1.024C15.27 0 6.576 7.956 6.576 18.113v7.925H.916v19.245C.915 53.26 7.878 60 16.123 60h21.51c7.976 0 14.225-6.464 14.225-14.717V26.038H8.84v-7.925z"}),u.createElement("path",{style:e.line,d:"M43.936 18.113H46.2v7.925h-2.264zM26.038 36.226h2.264V48.68h-2.264z"}),u.createElement("rect",{style:e.line,x:"24.906",y:"35.094",width:"4.528",height:"4.528",rx:"2.264"})));w.propTypes={styleSheet:c().shape({line:c().object})};const T=(0,h.Tq)((()=>({line:{fill:S.BLACK}})))(w),E=({styleSheet:e})=>u.createElement("div",{id:"access-denied"},u.createElement("div",{style:e.iconContainer},u.createElement(T,null)),u.createElement(b.Z,{centered:!0},u.createElement(v.Message,{path:"core.accessDenied.title"})),u.createElement(f.Z,{centered:!0},u.createElement(v.Message,{path:"core.accessDenied.message"})));E.propTypes={styleSheet:c().shape({iconContainer:c().object})};const C=(0,h.Tq)((()=>({iconContainer:{display:"flex",flexDirection:"column",alignItems:"center",margin:"80px 0 40px"}})))(E);var P=n("JTLF"),I=n("lHPB"),A=n("nTvt"),x=n("A5k7"),z=n("V3ah");const j=I.Z(A.Z("label")),O=({borderless:e,children:t,closeText:n,closeTextWithSelection:a,deselectAllOptionText:r,disabled:i,disabledMids:o=[],emptyStateText:l,fullWidthTrigger:d,id:c,isMultiselect:m,label:g,loading:k,maxHeight:h,maxWidth:b,mids:f=[],onChange:y=(()=>null),onClose:S=(()=>null),pendingMids:w=[],searchFieldLabel:T,selectAllOptionText:E,selectedAllText:C,selectedText:I,value:O,values:L})=>{const D=v.hooks.useTranslator(),M=((e,t=[],{disabledMids:n=[],pendingMids:a=[]}={})=>{const r=e.map((e=>{const r=x.Z(z.Z(e,"merchantId"),t),i=A.Z("storeName",r),o=a.includes(e),s={disabled:n.includes(e),value:e};if(i)return{...s,description:o?`${e} - PENDING`:e,label:i};{const t={...s,label:e};return o&&(t.description="PENDING"),t}}));return j(r)})(f,(0,P.useSelector)(s.selectors.getMerchants),{disabledMids:o,pendingMids:w});return u.createElement(u.Fragment,null,m?u.createElement(p.MultiSelector,{borderless:e,closeLabel:n||D("core.storesSelector.closeText"),closeWithSelectionLabel:a||D("core.storesSelector.closeTextWithSelection"),deselectAllOptionLabel:r||D("core.storesSelector.deselectAllOptionText"),disabled:i,emptyStateLabel:l||D("core.storesSelector.emptyStateText"),fullWidthTrigger:d,id:c,label:g||D("core.storesSelector.label"),loading:k,maxHeight:h,maxWidth:b,onChange:y,onClose:S,options:M,searchLabel:T||D("core.storesSelector.searchFieldLabel"),selectAllOptionLabel:E||D("core.storesSelector.selectAllOptionText"),selectedAllLabel:C||D("core.storesSelector.selectedAllText"),selectedLabel:I||D("core.storesSelector.selectedText"),values:L||[],withSearch:f.length>4,withSelectAll:f.length>1},t):u.createElement(p.Selector,{borderless:e,closeLabel:n||D("core.storesSelector.closeText"),disabled:i,fullWidthTrigger:d,id:c,label:g||D("core.storeSelector.label"),loading:k,maxHeight:h,maxWidth:b,onChange:y,onClose:S,options:M,value:void 0===O?"":O},t))};O.propTypes={borderless:c().bool,children:c().node,closeText:c().string,closeTextWithSelection:c().string,deselectAllOptionText:c().string,disabled:c().bool,disabledMids:c().arrayOf(c().string),emptyStateText:c().string,fullWidthTrigger:c().bool,id:c().string,isMultiselect:c().bool,label:c().string,loading:c().bool,maxHeight:c().number,maxWidth:c().number,mids:c().arrayOf(c().string),onChange:c().func,onClose:c().func,pendingMids:c().arrayOf(c().string),searchFieldLabel:c().string,selectAllOptionText:c().string,selectedAllText:c().string,selectedText:c().string,value:c().string,values:c().arrayOf(c().string)};const L=O;var D=n("3vfH"),M=n("zCf4");function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},F.apply(this,arguments)}const N=({children:e,to:t,onClick:n,...a})=>{const r=(0,M.k6)();return u.createElement(D.ggu,F({href:t},a,{onClick:e=>{n&&n(),e.preventDefault(),r.push(t)}}),e)};N.propTypes={children:c().node,to:c().string,onClick:c().func};const B=N;var R=n("egGb");const{Colors:_}=y.default,Z=(_.DIVIDER_STRONG,e=>[e("core.dateRangePicker.months.january"),e("core.dateRangePicker.months.february"),e("core.dateRangePicker.months.march"),e("core.dateRangePicker.months.april"),e("core.dateRangePicker.months.may"),e("core.dateRangePicker.months.june"),e("core.dateRangePicker.months.july"),e("core.dateRangePicker.months.august"),e("core.dateRangePicker.months.september"),e("core.dateRangePicker.months.october"),e("core.dateRangePicker.months.november"),e("core.dateRangePicker.months.december")]),K=e=>({monday:e("core.dateRangePicker.weekDaysShort.monday"),tuesday:e("core.dateRangePicker.weekDaysShort.tuesday"),wednesday:e("core.dateRangePicker.weekDaysShort.wednesday"),thursday:e("core.dateRangePicker.weekDaysShort.thursday"),friday:e("core.dateRangePicker.weekDaysShort.friday"),saturday:e("core.dateRangePicker.weekDaysShort.saturday"),sunday:e("core.dateRangePicker.weekDaysShort.sunday")});var H=n("AFDW"),G=n("339l"),q=n("TyES");const V=new Date,W=(0,H.Z)(V,"yyyy");function U({id:e,label:t,presets:n,onChange:a,isClearable:r=!0,range:i,disableDatesHandler:o}){const s=v.hooks.useTranslator(),l=(0,P.useSelector)(v.selectors.formatters.date),[d,c]=(0,u.useState)(!1),[p,m]=(0,u.useState)(V);return u.createElement(R.Z,{id:e,monthNames:Z(s),weekDayOneLetterNames:K(s),currentYear:W,monthCurrentlyShown:(0,H.Z)(p,"yyyy-MM"),onGoToPreviousMonth:()=>{const e=(0,q.Z)(p,1);m(e)},onGoToNextMonth:()=>{const e=(0,G.Z)(p,1);m(e)},onChange:a,disableDatesHandler:o,onToggle:()=>c((e=>!e)),formatter:e=>l.format(new Date(e)),isClearable:r,isExpanded:d,startDateLabel:s("core.dateRangePicker.startLabel"),endDateLabel:s("core.dateRangePicker.endLabel"),label:t,presets:n,range:i})}U.propTypes={id:c().string,label:c().string.isRequired,onChange:c().func.isRequired,isClearable:c().bool,range:c().array.isRequired,presets:c().array,disableDatesHandler:c().func};const Y=U,J={pagination:{display:"flex",alignItems:"center",justifyContent:"flex-end"}};function Q({id:e,onPageChange:t,page:n,pagination:{count:a=25,total:r=0},scrollToTop:i}){const o=v.hooks.useTranslator();return a?u.createElement("div",{id:e,style:J.pagination},u.createElement(p.Pagination,{current:n,size:a,total:r,ofLabel:o("core.pagination.ofLabel"),onChange:e=>{t(e),i&&window.scrollTo(0,0)}})):null}Q.defaultProps={pagination:{},scrollToTop:!1},Q.propTypes={id:c().string,onPageChange:c().func.isRequired,page:c().number.isRequired,pagination:c().object.isRequired,scrollToTop:c().bool};const $=Q;var X=n("ZzBD"),ee=n.n(X);function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},te.apply(this,arguments)}const ne={alignItems:"stretch",borderStyle:"solid",borderWidth:0,boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,margin:0,padding:0,minHeight:0,minWidth:0},ae=({style:e={},children:t,...n})=>u.createElement("div",te({style:ee()(ne,e)},n),t);ae.propTypes={style:c().object,children:c().node};const re=ae;var ie=n("jzTV"),oe=n("5u3A"),se=n("KQCQ"),le=n("cntX"),ue=n("j8Gg"),de=n("5KXE"),ce=n("WgmL"),pe=n("Fdak"),me=n("UG1q"),ge=n("RUFB"),ke=n("ZLcs"),he=n("/9gA"),be=n("Vl2/"),fe=n("idDm"),ve=n("xTHV"),ye=n("X6aU"),Se=n("qFAY"),we=n("zQEv");const{CLIENT_IDS:Te}=we.constants;function Ee({clientId:e,color:t}){return u.createElement("div",null,function(e,t){switch(e){case Te.NKO_APP:return u.createElement(ie.Z,{color:t});case Te.ORDERS:case Te.NKO_ORDERS:return u.createElement(oe.Z,{color:t});case Te.SETTLEMENTS:case Te.NKO_SETTLEMENTS:return u.createElement(se.Z,{color:t});case Te.LOGS:return u.createElement(le.Z,{color:t});case Te.USERS:return u.createElement(ue.Z,{color:t});case Te.SETTINGS:case Te.NKO_SETTINGS:return u.createElement(de.Z,{color:t});case Te.SELLER:return u.createElement(ce.Z,{color:t});case Te.UPSTREAM:return u.createElement(pe.Z,{color:t});case Te.HOME:return u.createElement(me.Z,{color:t});case Te.LENDING:return u.createElement(ge.Z,{color:t});case Te.BRANDING:return u.createElement(ke.Z,{color:t});case Te.PRODUCTS:return u.createElement(ie.Z,{color:t});case Te.INTEGRATION_GUIDES:return u.createElement(he.Z,{color:t});case Te.DISPUTES:return u.createElement(be.Z,{color:t});case Te.LOGISTICS:return u.createElement(fe.Z,{color:t});case Te.SUPPORT:return u.createElement(ve.Z,{color:t});case Te.KEC:return u.createElement(ye.Z,{color:t});case Te.SIWK:return u.createElement(Se.Z,{color:t});default:return e?u.createElement("div",{style:{position:"relative",top:-3,opacity:.7}},u.createElement(b.Z,{centered:!0},e.substr(0,1).toLocaleLowerCase())):null}}(e,t))}Ee.defaultProps={color:"black"},Ee.propTypes={clientId:c().oneOf(Object.values(Te)).isRequired,color:c().string};const Ce=Ee,Pe=(0,u.createContext)(),Ie=({initialStyle:e,children:t})=>u.createElement(Pe.Provider,{value:e},t);Ie.propTypes={initialStyle:c().object.isRequired,children:c().any};const Ae={mobile:4,tablet:6,desktop:10};var xe=n("VqR8");const ze=e=>e<768,je=e=>e>=768&&e<1150,Oe=e=>e>=1150,Le=(e,t,n,a=!1)=>{if("object"==typeof e){const r=a?Ne(e,t):e[t];return(0,xe.Z)(r)?n:r}return e||n},De=(e,t,n)=>Le(e,t,n,!0),Me=e=>e>=0?5*e:5,Fe=e=>Ae[e],Ne=(e,t)=>{const n={mobile:"mobile",tablet:"mobile",desktop:"tablet"};return(0,xe.Z)(e[t])?t===n[t]?null:Ne(e,n[t]):e[t]};var Be=n("zRg7"),Re=n.n(Be);const _e=({isDesktop:e,isTablet:t,isMobile:n})=>e?"desktop":t?"tablet":"mobile",Ze=e=>((...e)=>t=>{const n=Re()(...e)(t);return n.WrappedComponent=t,n})((({width:e})=>{const t={isDesktop:Oe(e),isTablet:je(e),isMobile:ze(e),isWeb:!0};return{...t,gutter:Me(t),breakpoint:_e(t)}}))(e),Ke=({alignItems:e,columns:t,display:n,spacing:a,order:r=1,justify:i,breakpoint:o,spaceBottom:s,extraStyles:l})=>{const u=De(e,o,"normal"),d=De(t,o,12),c=De(i,o,"normal"),p=De(r,o,1),m=De(a,o,Fe(o)),g=Le(n,o,"flex"),k=Me(m),h=Number.isInteger(d),b=(h?Math.round(Math.min(12,d)/12*1e8)/1e6:0)+"%";return{...l,boxSizing:"border-box",flex:`1 0 ${h?b:"auto"}`,flexDirection:"column",maxWidth:h?b:"none",paddingBottom:s&&2*k,paddingLeft:k/2,paddingRight:k/2,order:p,display:g,justifyContent:c,alignItems:u}},He=({alignItems:e,breakpoint:t,children:n,columns:a,display:r,justify:i,order:o,spacing:s,extraStyles:l={}})=>{const{spacing:d,spaceBottom:c}=(0,u.useContext)(Pe);return u.createElement("div",{className:"mp-grid-column",style:Ke({alignItems:e,breakpoint:t,columns:a,display:r,justify:i,order:o,spacing:s||d,spaceBottom:c,extraStyles:l})},n)};He.propTypes={alignItems:c().oneOfType([c().object,c().string]),breakpoint:c().string.isRequired,children:c().any.isRequired,columns:c().oneOfType([c().object,c().number]),display:c().oneOfType([c().object,c().string]),justify:c().oneOfType([c().object,c().string]),order:c().oneOfType([c().object,c().number]),spacing:c().oneOfType([c().object,c().number]),extraStyles:c().object};const Ge=Ze(He),qe=(e,t,n)=>{const a=De(t,e,Fe(e));return{margin:"0 auto",width:"100%",padding:t&&"mobile"===e?5*a:0,boxSizing:"border-box",flex:"1 1 auto",overflow:"hidden",...{mobile:{maxWidth:"100%"},tablet:{maxWidth:"768px"},desktop:{maxWidth:"1150px"}}[e],...n}},Ve=({breakpoint:e,padding:t,children:n,extraStyles:a={}})=>u.createElement("div",{className:"mp-grid-container",style:qe(e,t,a)},n);Ve.propTypes={breakpoint:c().string.isRequired,children:c().any,extraStyles:c().object,padding:c().oneOfType([c().object,c().number])};const We=Ze(Ve),Ue=({alignItems:e,display:t,spacing:n,justify:a,breakpoint:r,extraStyles:i})=>{const o=De(e,r,"normal"),s=Le(t,r,"flex"),l=De(a,r,"normal"),u=De(n,r,Fe(r)),d=Me(u);return{...i,flexDirection:"row",flexWrap:"wrap",marginLeft:-d/2,marginRight:-d/2,width:`calc(100% + ${d}px)`,alignItems:o,display:s,justifyContent:l}},Ye=({spacing:e,alignItems:t,breakpoint:n,children:a,display:r,justify:i,spaceBottom:o,extraStyles:s={}})=>{const l={spacing:e,spaceBottom:o};return u.createElement(Ie,{initialStyle:l},u.createElement("div",{className:"mp-grid-row",style:Ue({alignItems:t,justify:i,spacing:e,breakpoint:n,display:r,extraStyles:s})},a))};Ye.propTypes={breakpoint:c().string.isRequired,alignItems:c().oneOfType([c().object,c().string]),children:c().any,display:c().oneOfType([c().object,c().string]),justify:c().oneOfType([c().object,c().string]),spaceBottom:c().bool,spacing:c().oneOfType([c().object,c().number]),extraStyles:c().object};const Je=Ze(Ye),Qe={absoluteContainer:{height:"100vh",left:0,pointerEvents:"none",position:"absolute",top:0,width:"100%",zIndex:9e3},relativeContainer:{position:"relative"},breakpointContainer:{left:10,position:"absolute",top:10,zIndex:9001},breakpointPill:e=>({borderRadius:`${e}px`,fontSize:"20px",justifyContent:"center",minHeight:"30px",minWidth:"0px",padding:"5px 10px"}),breakpointColor:{mobile:{backgroundColor:"#ffb3c7"},tablet:{backgroundColor:"#daeebc"},desktop:{backgroundColor:"#bacaff"}},column:{backgroundColor:"rgba(241, 222, 207, 0.4)",color:"rgba(241, 222, 207, 0)",height:"100vh"}},$e=({breakpoint:e,children:t,debug:n=!1})=>{const a=(0,p.useGetToken)("corner-radius/s").value();return n?u.createElement(u.Fragment,null,u.createElement("div",{style:Qe.absoluteContainer},u.createElement("div",{style:Qe.relativeContainer},u.createElement("div",{style:Qe.breakpointContainer},u.createElement("span",{style:{...Qe.breakpointPill(a),...Qe.breakpointColor[e]}},e)),u.createElement(We,null,u.createElement(Je,null,u.createElement(Ge,{columns:{mobile:1}},u.createElement("div",{style:Qe.column},"Column")),u.createElement(Ge,{columns:{mobile:1}},u.createElement("div",{style:Qe.column},"Column")),u.createElement(Ge,{columns:{mobile:1}},u.createElement("div",{style:Qe.column},"Column")),u.createElement(Ge,{columns:{mobile:1}},u.createElement("div",{style:Qe.column},"Column")),u.createElement(Ge,{columns:{mobile:1}},u.createElement("div",{style:Qe.column},"Column")),u.createElement(Ge,{columns:{mobile:1}},u.createElement("div",{style:Qe.column},"Column")),u.createElement(Ge,{columns:{mobile:1}},u.createElement("div",{style:Qe.column},"Column")),u.createElement(Ge,{columns:{mobile:1}},u.createElement("div",{style:Qe.column},"Column")),u.createElement(Ge,{columns:{mobile:1}},u.createElement("div",{style:Qe.column},"Column")),u.createElement(Ge,{columns:{mobile:1}},u.createElement("div",{style:Qe.column},"Column")),u.createElement(Ge,{columns:{mobile:1}},u.createElement("div",{style:Qe.column},"Column")),u.createElement(Ge,{columns:{mobile:1}},u.createElement("div",{style:Qe.column},"Column")))))),u.createElement(u.Fragment,null,t)):u.createElement(u.Fragment,null,t)};$e.propTypes={breakpoint:c().string.isRequired,children:c().node.isRequired,debug:c().bool};const Xe=Ze($e),et=({breakpoint:e,display:t,spacing:n})=>{const a=Le(t,e,"flex"),r=De(n,e,2);return{display:a,height:Me(r)}},tt=({breakpoint:e,display:t,spacing:n})=>u.createElement("div",{className:"mp-grid-vertical-rhythm",style:et({breakpoint:e,display:t,spacing:n})});tt.propTypes={breakpoint:c().string.isRequired,display:c().oneOfType([c().object,c().string]),spacing:c().oneOfType([c().object,c().number])};const nt=Ze(tt),at=u.createContext({});function rt({initialAuthenticationRequired:e=!1,children:t}){const[n,a]=(0,u.useState)(e);return u.createElement(at.Provider,{value:{isAuthenticationRequired:n,setAuthenticationRequired:a}},t)}function it(){return(0,u.useContext)(at)}rt.propTypes={initialAuthenticationRequired:d.bool,children:d.node};var ot=n("tqbn"),st=n("a1jd"),lt=n("p7Sg"),ut=n("9vlI"),dt=n("OZfr"),ct=n("dvFY"),pt=n("FBGo");function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mt.apply(this,arguments)}const gt={mainStyle:{flexDirection:"column"},illustrationWrapperStyle:{paddingBottom:20,alignSelf:"center"},addressStyle:{paddingTop:20,paddingBottom:20},definitionStyle:{paddingTop:25,paddingBottom:30},buttonStyle:{paddingTop:20},contentStyle:{alignItems:"center",paddingTop:30},legalWrapperStyle:{alignSelf:"center",maxWidth:"100%"},footnoteWrapperStyle:{alignSelf:"center"},generalErrorStyle:{marginTop:20,width:"100%"}},kt={Primary:lt.Z,Secondary:ut.Z,Tertiary:dt.Z,Quaternary:ct.Z};function ht({buttons:e,children:t,definition:n,footnote:a,illustration:r,summary:i,title:o}){return u.createElement(D.G7x,{style:gt.mainStyle},r&&u.createElement(D.G7x,{style:gt.illustrationWrapperStyle},r),u.createElement("div",null,u.createElement(b.Z,{small:!0,centered:!0,correctFootprint:!0},o),u.createElement(f.Z,{centered:!0,correctFootprint:!0},i),u.createElement(ot.Z,{extraSmall:!0})),n&&u.createElement(D.G7x,{style:gt.definitionStyle},u.createElement(pt.Z,{small:!0,centered:!0,correctFootprint:!0},n.title),u.createElement(f.Z,{centered:!0,correctFootprint:!0},n.content),u.createElement(ot.Z,{extraSmall:!0})),t&&u.createElement(D.G7x,{style:gt.contentStyle},t),a&&u.createElement(D.G7x,{style:gt.footnoteWrapperStyle},u.createElement(f.Z,{light:!0},a)),e&&e.map(((e,t)=>u.createElement(D.G7x,{key:t,style:gt.buttonStyle},(({content:e,type:t,props:n},a)=>{const r=kt[t];return u.createElement(r,mt({key:a},n),e)})(e,t)))))}ht.propTypes={buttons:c().arrayOf(c().shape({content:c().string,type:c().string,props:c().object})),definition:c().shape({title:c().string,content:c().string}),footnote:c().node,illustration:c().node,summary:c().node,title:c().string,children:c().node};const bt=ht;function ft({children:e}){const t=(0,P.useSelector)(s.selectors.isAuthenticated),{setAuthenticationRequired:n,isAuthenticationRequired:a}=it();return(0,u.useEffect)((()=>{a||n(!0)}),[a]),t?e:u.createElement(u.Fragment,null,u.createElement(ot.Z,{large:!0}),u.createElement(bt,{illustration:u.createElement(st.ZP,null)}))}ft.propTypes={children:d.node};const vt=ft;var yt=n("OJ6l"),St=n("NuYi"),wt=n("hFPm"),Tt=n("J8MB"),Et=n("5Rel"),Ct=n("UTGr");const Pt="mfa-modal-visibility",It=e=>{const t=e.get(Pt);if(t)return parseInt(t)},At="DISABLED",xt=({isModalOpen:e,loadPage:t,raiseAnalyticsEvent:n,analyticsCategory:a,onClose:r=(()=>{})})=>{const[i,o]=u.useState(e),l=(0,P.useSelector)(s.selectors.createBackendClient)("users"),d=s.hooks.useTokenHelper().getUserId(),c=(0,we.localStorage)(),m=(0,P.useSelector)(s.selectors.getRequester),g=(0,P.useSelector)(s.selectors.isRequesterMfaEnabled),k=(0,P.useSelector)(yt.wl.getMerchantPortalBaseUrl);(0,u.useEffect)((()=>{const t=It(c);!t||e?o(!0):Date.now()-t>864e5&&(o(!0),n({category:"2fa-modal",action:"shown-automatically"}))}),[c,It,e]);const h=v.hooks.useTranslator();return i&&((e,t)=>e?t?"ENABLED":At:"UNKNOWN")(m,g)===At?u.createElement(p.Modal,{onClose:()=>{o(!1),(e=>{e.set(Pt,Date.now())})(c),n({category:a,action:"close-modal"}),r()},title:h("core.two-factor-opt-in.title"),description:h("core.two-factor-opt-in.intro-paragraph",{b:e=>u.createElement(St.Z,{textToken:"text-style/text/labels/body/bold"},e),faqLink:e=>u.createElement(wt.Z,{href:`${k}/two-factor-authentication`},e)}),buttonPrimary:{onClick:async()=>(a&&n({category:a,action:"start-setup"}),await(async(e,t)=>await e.put(`/users/${t}`,{mfa:!0}))(l,d),t(k)),text:h("core.two-factor-opt-in.continue-button"),"data-testid":"home-mfa-opt-in-continue-button"},useWindowHeight:!0},u.createElement(St.Z,{textToken:"text-style/text/paragraphs/body/regular"},u.createElement(D.ggu,{medium:!0,href:`${k}/two-factor-authentication`,target:"two-factor-guide"},h("core.two-factor-opt-in.help-link-text")),h("core.two-factor-opt-in.help-text")),u.createElement(ot.Z,{spaceToken:"space.400"}),u.createElement(Tt.Z,{content:[h("core.two-factor-opt-in.warning-text")],iconType:()=>u.createElement(Et.Z,null)})):null};xt.propTypes={analyticsCategory:c().string.isRequired,isModalOpen:c().bool,loadPage:c().func,raiseAnalyticsEvent:c().func,onClose:c().func},xt.defaultProps={isMfaEnabled:!1,isModalOpen:!1,loadPage:e=>window.location.assign(e),raiseAnalyticsEvent:Ct.default.event};var zt=n("GbzD"),jt=n("14G+");function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ot.apply(this,arguments)}const Lt=({errorProps:e,template:t=null,errorId:n,hasBackButton:a=!0,hasReloadButton:r=!1})=>{const i=v.hooks.useTranslator(),o={icon:zt.Z,label:i("core.errorTemplates.backButton"),onClick:()=>window.history.back()},s=a?o:null,l=r?{label:i("core.errorTemplates.reloadButton")}:null,d=function({t:e,template:t,errorId:n}){const a=e("core.errorTemplates.default.contact",{errorId:u.createElement("strong",null,n),supportLink:e=>u.createElement(D.ggu,{href:"https://www.klarna.com/merchant-support",target:"_blank",inParagraph:!0},e)},"Please try refreshing the page"),r={internalServerError:{errorDescription:e("core.errorTemplates.errorDescription",{code:500}),title:e("core.errorTemplates.internalServerError.title"),message:e("core.errorTemplates.internalServerError.message")},forbidden:{errorDescription:e("core.errorTemplates.errorDescription",{code:403}),title:e("core.errorTemplates.forbidden.title"),message:e("core.errorTemplates.forbidden.message")},notFound:{errorDescription:e("core.errorTemplates.errorDescription",{code:404}),title:e("core.errorTemplates.notFound.title"),message:e("core.errorTemplates.notFound.message")},default:{errorDescription:n?e("core.errorTemplates.default.errorDescription",{errorId:n}):"",title:e("core.errorTemplates.default.title",{},"Unexpected Error"),contactContent:[a]}};return t?r[t]:r.default}({t:i,template:t,errorId:n});return u.createElement(jt.Error,Ot({actionButton:s,reloadButton:l},e||d))};Lt.propTypes={errorProps:c().shape({id:c().string,errorDescription:c().string,illustration:c().element,title:c().string,message:c().string,contactContent:c().arrayOf(c().string|c().node)}),template:c().oneOf(["internalServerError","forbidden","notFound"]),errorId:c().string,hasBackButton:c().bool,hasReloadButton:c().bool};const Dt=Lt;var Mt=n("eJn+"),Ft=n("9yrV");const Nt=e=>{const[t,n]=(0,u.useState)(null),a=(0,P.useSelector)((e=>v.selectors.translator(e))),{titleText:r,subTitleText:i,storeNamesByRegion:o,buttonText:s,onConfirmRegion:l}=e,d=Object.keys(o).map((e=>{const t={value:e,label:a(`core.regionSelector.regions.${e.toLowerCase()}`)},n=o[e];if(0===n.length)t.description=a("core.regionSelector.noStores"),t.disabled=!0;else if(n.length>30){const e=n.slice(0,30).join(", ");t.description=`${e} ${a("core.regionSelector.andMore")}`}else t.description=n.join(", ");return t}));return u.createElement("div",{id:"landing-page-selector"},u.createElement(Mt.Z,null,r),i&&u.createElement(f.Z,null,i),u.createElement(ot.Z,{small:!0}),u.createElement(Ft.Z,{options:d,onChange:e=>n(e),value:t}),u.createElement(ot.Z,{medium:!0}),u.createElement(D.G7x,{style:{alignItems:"flex-start"}},u.createElement(lt.Z,{onPress:()=>l(t),disabled:null===t},s)))};Nt.propTypes={titleText:c().string.isRequired,subTitleText:c().string,storeNamesByRegion:c().objectOf(c().arrayOf(c().string)).isRequired,buttonText:c().string.isRequired,onConfirmRegion:c().func.isRequired};var Bt=n("nYNm"),Rt=n("2oI7");const _t=({onConfirmRegion:e,selectedRegion:t,storeNamesByRegion:n})=>{const[a,r]=(0,u.useState)(!1),[i,o]=(0,u.useState)(t),s=v.hooks.useTranslator(),l=(0,u.useCallback)((()=>r(!a)),[a]),d=Object.keys(n).map((e=>{const t={label:s(`core.regionSelector.regions.${e}`),value:e,disabled:!n[e].length};if(n[e].length){const a=n[e].slice(0,30).join(", ");t.description=n[e].length>30?`${a} ${s("core.regionSelector.andMore")}`:a}else t.description=s("core.regionSelector.noStores");return t}));return u.createElement(u.Fragment,null,u.createElement(Bt.Z,{gray:!0},u.createElement(p.Flex,{alignItems:"center"},u.createElement(f.Z,null,s("core.regionSelectorBar.selectedRegion"),":"),u.createElement(Rt.Z,{extraSmall:!0}),u.createElement(f.Z,{medium:!0},s(`core.regionSelector.regions.${t}`)),u.createElement(Rt.Z,{medium:!0}),u.createElement(ut.Z,{onClick:l,size:"medium"},s("core.regionSelectorBar.changeButton")))),u.createElement(ot.Z,{spaceToken:"space.300"}),a&&u.createElement(p.Modal,{buttonPrimary:{onClick:()=>{e(i),l()},text:s("core.regionSelectorBar.modal.buttonText")},description:s("core.regionSelectorBar.modal.description"),onClose:()=>{l(),o(t)},title:s("core.regionSelectorBar.modal.title")},u.createElement(Ft.Z,{omitFirstLine:!0,omitLastLine:!0,onChange:o,options:d,value:i})))};_t.propTypes={selectedRegion:c().oneOf(["ap","eu","us"]).isRequired,onConfirmRegion:c().func.isRequired,storeNamesByRegion:c().shape({ap:c().arrayOf(c().string),eu:c().arrayOf(c().string),us:c().arrayOf(c().string)}).isRequired};const Zt=_t;var Kt=n("W6jZ"),Ht=n("PMRV"),Gt=n("7nmT");const qt=({children:e,root:t})=>{const n=u.useRef(document.createElement("div"));n.current.style.display="contents";const a=u.useCallback((()=>t||document.body),[t]);return u.useEffect((()=>(a().appendChild(n.current),()=>{a().removeChild(n.current)})),[t]),Gt.createPortal(e,n.current)};var Vt=n("WF06"),Wt=n("vAQO"),Ut=n("XCyY");const Yt=c().oneOf(["problem","success","security"]);function Jt({type:e}){switch(e){case"problem":return u.createElement(Vt.Z,null);case"success":return u.createElement(Wt.Z,null);case"security":return u.createElement(Ut.Z,null)}}Jt.propTypes={type:Yt};const Qt=Jt;function $t({onClose:e,onConfirm:t}){const[n,a]=(0,u.useState)(),r=v.hooks.useTranslator(),i="progress"===n,o="success"===n,s=[{Component:lt.Z,props:{children:r("core.updateProfile.twoFactor.confirmationDialog.closeButton"),onClick:e}}],l=[{Component:lt.Z,props:{children:r("core.updateProfile.twoFactor.confirmationDialog.confirmationButton"),onClick:async function(){a("progress");try{await t(),a("success")}catch(e){a("error")}},loading:i}},{Component:ut.Z,props:{children:r("core.updateProfile.twoFactor.confirmationDialog.cancelButton"),onClick:e,disabled:i}}];return o?u.createElement(qt,null,u.createElement(Ht.Z,{onClose:e,footer:s},u.createElement(Qt,{type:"success"}),u.createElement(ot.Z,{spaceToken:"space.200"}),u.createElement(p.Article,{title:r("core.updateProfile.twoFactor.confirmationDialog.resetSuccess.title"),titleType:"primary",description:r("core.updateProfile.twoFactor.confirmationDialog.resetSuccess.description")}))):u.createElement(qt,null,u.createElement(Ht.Z,{onClose:e,footer:l},u.createElement(Qt,{type:"problem"}),u.createElement(ot.Z,{spaceToken:"space.200"}),u.createElement(p.Article,{title:r("core.updateProfile.twoFactor.confirmationDialog.resetConfirmation.title"),titleType:"primary",description:r("core.updateProfile.twoFactor.confirmationDialog.resetConfirmation.description")})))}$t.propTypes={onClose:c().func.isRequired,onConfirm:c().func.isRequired};const Xt=$t;function en({isCurrentUser:e,isMfaEnabled:t,onResetMfa:n}){const a=v.hooks.useTranslator(),r=a("core.updateProfile.twoFactor.title"),i=a("core.updateProfile.twoFactor.description"),o=(0,P.useSelector)(s.selectors.keycloakRealm),[l,d]=(0,u.useState)(!1),c=(0,P.useSelector)(Kt.wl.isFeatureToggleEnabled("merchant-portal.users.disable-user-management"));return u.createElement("div",null,l&&u.createElement(Xt,{onConfirm:async function(){await n(),e&&window.location.reload(),Ct.default.event({category:"2fa",action:"reset-mfa-device",label:o})},onClose:function(){d(!1)}}),u.createElement(f.Z,{bold:!0},u.createElement("span",{style:{display:"flex"}},r,u.createElement(Rt.Z,{spaceToken:"space.300"}),t?u.createElement(p.Chip,{className:"chip-mfa-enabled",label:a("core.updateProfile.twoFactor.isEnabled")}):u.createElement(p.Chip,{className:"chip-mfa-disabled",hasWarning:!0,label:a("core.updateProfile.twoFactor.isDisabled")}))),u.createElement(f.Z,null,i),u.createElement(ot.Z,{spaceToken:"space.300"}),u.createElement("div",{style:{display:"flex"}},u.createElement(ut.Z,{size:"medium",disabled:c,onClick:function(){d(!0)}},a("core.updateProfile.twoFactor.reset")),u.createElement(Rt.Z,{spaceToken:"space.100"})))}en.propTypes={isCurrentUser:d.bool,isMfaEnabled:d.bool,onResetMfa:d.func.isRequired},en.defaultProps={isMfaEnabled:!1};const tn=en;var nn=n("5ene"),an=n("o7m2"),rn=(n("7hqW"),n("YyzM"),n("Sw9F"),n("vB0K")),on=n.n(rn),sn=n("cPRb"),ln=n.n(sn);on()(ln(),{insert:"head",singleton:!1}),ln().locals;var un={lineNumbers:!0,lineWrapping:!0,mode:"htmlmixed",readOnly:!0,viewportMargin:1/0};const dn=function(e){var t=e.code,n=e.options,a=void 0===n?{}:n,r=e.onChange,i=void 0===r?function(){}:r,o=e.onBeforeChange,s=void 0===o?function(){}:o,l=(0,nn.__assign)((0,nn.__assign)({},un),a);return u.createElement(an.fk,{value:t,className:"code--mirror--instance",options:l,onChange:i,onBeforeChange:s})};var cn=n("pC8Z"),pn=n.n(cn),mn=n("P2RI"),gn=n.n(mn);on()(gn(),{insert:"head",singleton:!1}),gn().locals;const kn=function(e){var t=e.code,n=e.options,a=void 0===n?{mode:"htmlmixed",lineNumbers:!0,readOnly:!0,viewportMargin:1/0,lineWrapping:!0}:n,r=(0,nn.__read)(u.useState(!1),2),i=r[0],o=r[1],s=v.hooks.useTranslator();return u.createElement("div",{className:"code-snippet"},u.createElement(dn,{code:t,options:{mode:(null==a?void 0:a.mode)||"htmlmixed",lineNumbers:!!(null==a?void 0:a.lineNumbers),readOnly:!!(null==a?void 0:a.readOnly),viewportMargin:(null==a?void 0:a.viewportMargin)||1/0,lineWrapping:!!(null==a?void 0:a.lineWrapping)}}),u.createElement("div",{className:"button"},u.createElement(pn(),{component:"span","data-clipboard-text":t,onSuccess:function(){o(!0),setTimeout((function(){o(!1)}),3e3)}},u.createElement(ct.Z,{size:"small"},s(i?"core.codeSnippet.clipboardButtonLabelSuccess":"core.codeSnippet.clipboardButtonLabel")))))},hn=function(e){var t=e.code,n=e.options,a=void 0===n?{mode:"htmlmixed",lineNumbers:!0,readOnly:!0,viewportMargin:1/0,lineWrapping:!0}:n;return u.createElement("div",{className:"code-snippet-no-copy"},u.createElement(dn,{code:t,options:{mode:(null==a?void 0:a.mode)||"htmlmixed",lineNumbers:!!(null==a?void 0:a.lineNumbers),readOnly:!!(null==a?void 0:a.readOnly),viewportMargin:(null==a?void 0:a.viewportMargin)||1/0,lineWrapping:!!(null==a?void 0:a.lineWrapping)}}))};var bn=n("+wnH"),fn=n.n(bn),vn=n("8318"),yn=n.n(vn),Sn=n("X+ab"),wn=n.n(Sn),Tn=n("k5hQ"),En=n.n(Tn),Cn=n("ff4m"),Pn=n.n(Cn),In=n("gU1B"),An=n.n(In),xn=n("rFEP"),zn=n.n(xn),jn=n("t2D+"),On=n.n(jn),Ln=n("p3Z7"),Dn=n.n(Ln),Mn=n("WrE6"),Fn=n.n(Mn),Nn=n("j7qV"),Bn=n.n(Nn),Rn=n("3DE8"),_n=n.n(Rn),Zn=n("vcbD"),Kn=n.n(Zn),Hn=n("tENx"),Gn=n.n(Hn);const qn={...fn(),...yn(),...wn(),...En(),...Pn(),...An(),...zn(),...On(),...Dn(),...Fn(),...Bn(),..._n(),...Kn(),...Gn()};var Vn=n("IQrt"),Wn=n.n(Vn),Un=n("8I+y"),Yn=n.n(Un),Jn=n("JdWN"),Qn=n.n(Jn),$n=n("YD4H"),Xn=n.n($n),ea=n("ifBB"),ta=n.n(ea),na=n("L/h0"),aa=n.n(na),ra=n("NXIo"),ia=n.n(ra),oa=n("1bGj"),sa=n.n(oa),la=n("oU+p"),ua=n.n(la),da=n("gnL9"),ca=n.n(da),pa=n("iS7F"),ma=n.n(pa),ga=n("dZBl"),ka=n.n(ga),ha=n("JRMX"),ba=n.n(ha),fa=n("zn5B"),va=n.n(fa);const ya={...Wn(),...Yn(),...Qn(),...Xn(),...ta(),...aa(),...ia(),...sa(),...ua(),...ca(),...ma(),...ka(),...ba(),...va()};var Sa=n("y8kX"),wa=n("Jioa"),Ta=n("kAXm"),Ea=n("QFjy"),Ca=n("gmJg"),Pa=n("Y5+s"),Ia=n("tul4"),Aa=n("lLZn");const xa=Sa.default.div.withConfig({displayName:"HelpToolContainer__OuterWrapper"})({position:"relative",overflow:"hidden",height:"100vh"}),za=Sa.default.div.withConfig({displayName:"HelpToolContainer__ScrollableContainer"})({height:"100%",borderLeft:"2px rgba(0, 0, 0, 0.15) solid",overflowY:"auto",overflowX:"hidden",backgroundColor:"white"}),ja=Sa.default.div.withConfig({displayName:"HelpToolContainer__InnerContainer"})((()=>{const e=(0,p.useGetToken)("space.400").value(),t=(0,p.useGetToken)("space.2000").value();return(0,Sa.css)({padding:e,paddingBottom:t})})),Oa=function(){const{setSidePanelOpen:e}=(0,jt.useSidePanelContext)(),{isOpen:t}=(0,Aa.XS)(),n=()=>e(!0);t&&n();const a=(0,u.useRef)(null);return u.createElement(Ca.Z,null,u.createElement(u.Suspense,{fallback:u.createElement(Pa.Z,null)},u.createElement(xa,null,u.createElement(za,{ref:a},u.createElement(Ca.Z,{showErrorPage:!0},u.createElement(Ta.Z,null),u.createElement(ja,null,u.createElement(Ia.default,null))),u.createElement(Ea.Z,{container:a.current})))),u.createElement(wa.KM,{onCloseChat:n}))};var La=n("dVbi");const Da=Sa.default.div.withConfig({displayName:"QuestionMarkButton__QuestionMarkButtonContainer"})(["position:relative;max-height:40px;"]),Ma=function(){const{isSidePanelOpen:e,setSidePanelOpen:t}=(0,jt.useSidePanelContext)(),{close:n,setIsOpen:a}=(0,Aa.XS)(),r=v.hooks.useTranslator();return u.createElement(Da,null,u.createElement(jt.TopBarActionButton,{id:"helpful-question-mark-button",toggled:e,label:r("help-tool.button-text"),Icon:La.Z,onClick:()=>{e?(n(),t(!1)):(t(!0),a(!0))}}))};var Fa=n("KmH7"),Na=n("h6pt"),Ba=n("Xpf4"),Ra=n("90jt"),_a=n("8lHW"),Za=n("yhW2"),Ka=n("PKYl"),Ha=n("724Y"),Ga=n("Mqe/");const qa="ADD_TOPIC",Va="REMOVE_TOPIC",Wa="SET_SIDEBAR_OPEN",Ua="SET_SIDEBAR_OPENING",Ya="NAVIGATE_PUSH",Ja="NAVIGATE_POP",Qa="NAVIGATE_REPLACE",$a="NAVIGATE_RESET",Xa="SET_SEARCH_QUERY",er="SET_IS_SEARCHING",tr="RESET_HELPTOOL",nr="RESET";var ar=n("Wjah"),rr=n("4Q/P");const ir=[{path:"home"}],or=["sidebar","navigationStack","search"],sr=(e,t=!1)=>{const n={topics:[],sidebar:{isOpen:!1,isOpening:!1,animationDuration:e},navigationStack:ir,search:{query:"",isSearching:!1}};if(t){let e={};if(window.sessionStorage)try{e=JSON.parse(window.sessionStorage.getItem(rr.AZ))||{}}catch{console.error("unable to parse and restore uhqm state")}return(0,ar.Z)(n,e)}return n},lr=function(e,t){try{switch(t.type){case qa:return{...e,topics:[...e.topics,t.slug]};case Va:return{...e,topics:(0,Za.Z)([t.slug],e.topics)};case Wa:return{...e,sidebar:{isOpen:t.isOpen,isOpening:t.isOpen}};case Ua:return{...e,sidebar:{...e.sidebar,isOpening:t.isOpening}};case Ja:{const t=(0,Ka.Z)(1)(e.navigationStack);return{...e,navigationStack:t}}case Ya:{const{path:n,parameters:a}=t,r=(0,Ha.Z)({path:n,parameters:a})(e.navigationStack),i={...e.sidebar,isOpen:!0};return{...e,navigationStack:r,sidebar:i}}case Qa:{const{path:n,parameters:a}=t,r=Math.max(e.navigationStack.length-1,0),i=(0,Ga.Z)(r,{path:n,parameters:a},e.navigationStack);return{...e,navigationStack:i}}case $a:return{...e,navigationStack:ir,search:sr(e.sidebar.animationDuration).search};case Xa:{const n=Math.max(e.navigationStack.length-1,0),a=(0,Ga.Z)(n,{...e.navigationStack[n],searchQuery:t.query},e.navigationStack);return{...e,navigationStack:a}}case er:{const n=Math.max(e.navigationStack.length-1,0),a=(0,Ga.Z)(n,{...e.navigationStack[n],isSearching:t.isSearching},e.navigationStack);return{...e,navigationStack:a}}case tr:{const t=sr(e.sidebar.animationDuration);return{...t,sidebar:{...t.sidebar,isOpen:!0}}}case nr:return sr(e.sidebar.animationDuration);default:return e}}catch(t){return console.error("Error in Help Context Reducer: ",t),i.$e((e=>{e.setTag("team","met"),i.Tb(t)})),e}};cr.propTypes={children:c().node.isRequired,location:c().object,history:c().object,sidebarAnimationDuration:c().number};const ur=(0,Fa.Z)((0,Na.Z)(["navigationStack"]),Ba.Z),dr=e=>()=>{const t=(0,Ra.Z)(or,e);window.sessionStorage.setItem(rr.AZ,JSON.stringify(t))};function cr({children:e,location:t=window.location,history:n=window.history,sidebarAnimationDuration:a=rr.LN}){const[r,i]=(0,u.useReducer)(lr,sr(a,!0)),o=e=>i({type:Wa,isOpen:!!e}),s=e=>i({type:Ua,isOpening:!!e}),l=(0,u.useCallback)((e=>i({type:Xa,query:e})),[Xa]),d={push:(e,t)=>i({type:Ya,path:e,parameters:t}),pop:()=>i({type:Ja}),replace:(e,t)=>i({type:Qa,path:e,parameters:t}),reset:()=>i({type:$a}),activePage:ur(r),stacksize:r.navigationStack.length,openHelpPage:c};function c(e){const[t,n]=e.split(":");switch(t){case"home":d.reset(),o(!0);break;case"article":d.push("article",{articleSlug:n});break;case"topic":d.push("topic",{topicSlug:n});break;case"tour":d.push("tour",{tourSlug:n})}}return(0,u.useEffect)((()=>{const e=dr(r);return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}),[r]),(0,u.useEffect)((()=>{if(r.sidebar.isOpening){const e=setTimeout((()=>{s(!1)}),a);return()=>{s(!1),clearTimeout(e)}}}),[r.sidebar.isOpening]),(0,u.useEffect)((()=>{const e=new URLSearchParams(t.search),a=e.get("help-page");if(a){c(a),e.delete("help-page");const t=e.toString().length>0?"?":"";n.replaceState({},document.title,`${window.location.pathname}${t}${e}`)}}),[]),u.createElement(_a.Z.Provider,{value:{isOpen:r.sidebar.isOpen,topics:r.topics,sidebar:r.sidebar,close:()=>i({type:Wa,isOpen:!1}),addTopic:e=>i({type:qa,slug:e}),removeTopic:e=>i({type:Va,slug:e}),setIsOpen:o,navigation:d,searchQuery:d.activePage.searchQuery,setSearchQuery:l,isSearching:d.activePage.isSearching,setIsSearching:e=>i({type:er,isSearching:e}),resetHelptool:()=>i({type:tr}),reset:()=>i({type:nr})}},e)}c().node.isRequired,c().string.isRequired,c().node.isRequired,c().string.isRequired,c().object,n("6Vjg"),n("6ZzW"),n("4HAR"),n("KZQE");const pr=[qn,ya],{AccessDenied:mr,AppIcon:gr,CenteredContent:kr,Code:hr,CodeSnippet:br,CodeSnippetNoCopy:fr,Column:vr,DatePickerBUI:yr,DateRangePicker:Sr,Dialog:wr,Error:Tr,GridContainer:Er,GridOverlayHelper:Cr,StoreSelector:Pr,MultiFactorModal:Ir,Pagination:Ar,RegionSelector:xr,RegionSelectorBar:zr,RouterLink:jr,Row:Or,VerticalRhythm:Lr,View:Dr,withResponsive:Mr,AuthenticationRequired:Fr,AuthenticationContextProvider:Nr,useAuthenticationContext:Br,UserMenu:Rr,ManageMfaSection:_r}=a;var Zr=n("Ng9u"),Kr=n("anra"),Hr=n("43Qv"),Gr=n("7/nm"),qr=n("ZwkB"),Vr=n("KKax"),Wr=n("WR/M"),Ur=n("W6oa"),Yr=n("kkm+"),Jr=n("7OVy"),Qr=n("9PIj"),$r=n("u9N9"),Xr=n("nSC2"),ei=n("mkWk"),ti=n("6nSv"),ni=n("ru3M"),ai=n("BJsn");const ri=Vr.Z(((e,t,n)=>Fa.Z(Wr.Z(((e,t)=>e.localeCompare(t))),Ur.Z(t),Yr.Z(","))(n)),((e,t,n,{cancelToken:a,withMetadata:r=!0,withPartners:i=!1}={})=>e.request({method:"GET",url:"/merchants",params:{mid:n,with_metadata:r,with_partners:i},cancelToken:a,region:t}))),ii=(e,t)=>Fa.Z(Jr.Z(A.Z(e)),Qr.Z,$r.Z,Xr.Z(A.Z(e)))(t),oi=e=>e?Fa.Z($r.Z,ei.Z(xe.Z),ti.Z(((e,{merchant_id:t,partners:n=[],transacting_regions:a=[],offered_regions:r=[],...i})=>{const o=e[t]||{merchant_id:t,partners:n,transacting_regions:a,offered_regions:r};return e[t]={...o,...i,partners:ii("name",[...o.partners,...n]),transacting_regions:ii("region",[...o.transacting_regions,...a])},e}),{}),Qr.Z)(e):[],si=async(e,t,n,{cancelToken:a,batchSize:r=100,withMetadata:i,withPartners:o}={})=>{if(!n)return[];const s=[],l=ni.Z(r,n);for(const n of l)try{const{data:r}=await ri(e,t,n,{cancelToken:a,withMetadata:i,withPartners:o});n.forEach((e=>{const t=x.Z(z.Z(e,"merchant_id"),r);s.push({merchant_id:e,...t})}))}catch(e){n.forEach((e=>{s.push({merchant_id:e})}))}return s};var li=n("REau"),ui=n("t8XT"),di=n("1Hfi"),ci=n("/vUB"),pi=n("bwoK"),mi=n("/lPs"),gi=n("P3Ru");const ki=[{value:"",hidden:!0},{value:"master"},{value:"editor"},{value:"dev"},{value:"test"}],hi=function(){const e=(0,P.useDispatch)(),t=(0,gi.IJ)(),{isMobile:n}=(0,p.useResponsiveContext)();if(!t)return null;const a=n?"CMS":"CMS Environment";return u.createElement(u.Fragment,null,u.createElement(f.Z,null,a),u.createElement(bi,{value:t,options:ki,onChange:function(t){e(Gr.cmsActions.setCMSEnvironment(t))}}))};function bi({options:e,value:t,onChange:n}){return u.createElement("select",{id:"cms-environment-selector",style:{height:30},value:t,onChange:e=>n(e.target.value)},e.map((e=>u.createElement("option",{key:e.value,value:e.value,hidden:e.hidden},e.value))))}function fi(){const{theme:e,setTheme:t}=(0,p.useUIThemeContext)(),n=Object.values(p.Themes).filter((e=>e!==p.Themes.LiquoriceDark));return u.createElement(u.Fragment,null,u.createElement(St.Z,null,"Theme"),u.createElement("select",{style:{height:30},value:e,onChange:e=>t(e.target.value)},n.map((e=>u.createElement("option",{key:e,value:e},e)))))}bi.propTypes={options:c().arrayOf(c().object).isRequired,value:c().string,onChange:c().func.isRequired};const{ENVS:vi}=we.constants,yi={display:"none",justifyContent:"center",position:"absolute",top:"25px",left:"calc(50% - 150px)",minWidth:"300px",zIndex:106};function Si(e){e.stopPropagation();const t=document.getElementById("tooltip");t&&(t.style.display="none"===t.style.display?"flex":"none")}const wi=()=>{const e=(0,P.useSelector)(yt.wl.environment),t=(0,P.useSelector)(v.translator);if(e===vi.PRODUCTION||!Object.values(vi).includes(e))return null;const n=u.createElement("div",{id:"tooltip",style:yi},u.createElement(ci.Z,{inverse:!0,isNotText:!0,arrow:"top"},u.createElement(fi,null),u.createElement("hr",{width:"100%"}),u.createElement(hi,null)));return u.createElement(pi.zt,{value:mi.NEXT},u.createElement(jt.EnvironmentId,{id:"mpui-environment-id-wrapper",env:e,label:t(`config.environments.${e}`),onClick:Si}),[vi.STAGING,vi.DEVELOPMENT].includes(e)&&n)};var Ti=n("qA4B"),Ei=n("R1Y1");const Ci={menu:{position:"relative",display:"block",top:2*y.default.Grid.SIZE,width:300}},Pi=({onLanguageClick:e,onLogoutClick:t,onProfileClick:n})=>{const a=s.hooks.useTokenHelper().isInMerchantsRealm(),r=v.hooks.useTranslator(),i=v.hooks.useLanguage();return u.createElement("div",{id:"usermenu-menu",style:Ci.menu},u.createElement(D.nIe,null,u.createElement(D.n$F,{id:"usermenu-menu-language",onClick:e,icon:pe.Z,label:r("core.usermenu.language"),value:r(`core.languages.${i}`)}),u.createElement(D.n$F,{id:"usermenu-menu-tz",icon:Ei.Z,label:r("core.usermenu.timezone"),value:(0,Ti.Z)(new Date,"z",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})}),a&&u.createElement(D.n$F,{id:"usermenu-menu-profile",onClick:n,icon:ue.Z,label:r("core.usermenu.profile"),value:r("core.usermenu.changeProfile")}),u.createElement(D.uPy,{key:"separator"}),u.createElement(D.U5K,{id:"usermenu-menu-logout",onClick:t,label:r("core.usermenu.logout")})))};Pi.propTypes={onLanguageClick:c().func.isRequired,onLogoutClick:c().func.isRequired,onProfileClick:c().func.isRequired};const Ii=Pi;var Ai=n("KwHC");const xi=({onClose:e})=>{const t=(0,P.useDispatch)(),n=v.hooks.useTranslator(),a=(0,P.useSelector)(v.selectors.translatorFactory),r=v.hooks.useLanguage(),i=(0,P.useSelector)(Gr.selectors.getLanguages),o=s.hooks.useTokenHelper().getUserId(),l=i.map((e=>t=>({value:t,id:`app-language-option-${t}`,label:e(t)(`core.languages.${t}`)}))(a)).filter((e=>e.label&&""!==e.label)).sort(((e,t)=>e.label.localeCompare(t.label)));return u.createElement(p.Modal,{id:"select-language",onClose:e,title:n("core.selectLanguage.title"),description:n("core.selectLanguage.paragraph"),buttonPrimary:{id:"select-language-button",onClick:e,text:n("core.selectLanguage.submit")}},u.createElement(Ai.Z,{options:l,defaultValue:r,onSelect:e=>((e,n)=>t(Gr.thunks.saveLanguage(e,n)))(o,e)}))};xi.propTypes={onClose:c().func.isRequired};const zi=xi;var ji=n("m5kL"),Oi=n("yd50"),Li=n("y3nU");const Di={row:{display:"flex"},col:{flex:1},"col:last-child":{marginLeft:20}},Mi=({onClose:e})=>{const t=(0,P.useDispatch)(),n=v.hooks.useTranslator(),a=(0,P.useSelector)(s.selectors.isUpdateProfileLoading),r=(0,P.useSelector)(s.selectors.isUpdateProfileFailed),o=(0,P.useSelector)(s.selectors.isRequesterMfaSetupInitiated),d=(0,P.useSelector)(s.selectors.createBackendClient)("users"),c=s.hooks.useTokenHelper(),m=c.getUserId(),g=c.getEmail(),k=c.getGivenName(),h=c.getFamilyName(),[f,y]=(0,u.useState)(k),[S,w]=(0,u.useState)(h),[T,E]=(0,u.useState)(!1),[C,I]=(0,u.useState)(void 0),[A,x]=(0,u.useState)(void 0);return u.createElement(p.Modal,{id:"update-profile",onClose:e,title:n("core.updateProfile.title"),generalError:r?n("core.updateProfile.error"):void 0,buttonPrimary:{onClick:async()=>{try{await((e,n)=>t(((e,t)=>(n,a)=>{const r=a(),o=s.selectors.createBackendClient(r)("users");return n(s.actions.profile.updating()),((e,t,n)=>e.request({method:"PUT",url:`/users/${t}`,data:n}))(o,e,t).then((()=>n(s.actions.profile.update.succeeded()))).catch((e=>{throw n(s.actions.profile.update.failed()),i.Tb(e),e}))})(e,n)))(m,{given_name:f,family_name:S}),await t(Gr.thunks.refreshToken({force:!0})),e()}catch(e){}},text:n("core.updateProfile.submit"),loading:a}},u.createElement("form",null,u.createElement("div",{style:Di.row},u.createElement(ji.Z,{disabled:!0,label:n("core.updateProfile.emailLabel"),name:"email",value:g,isUnderlined:!0})),u.createElement(ot.Z,{extraSmall:!0}),u.createElement("div",{style:Di.row},u.createElement("div",{style:Di.col},u.createElement(ji.Z,{label:n("core.updateProfile.firstNameLabel"),name:"given_name",value:f,onChange:y,isUnderlined:!0})),u.createElement("div",{style:{...Di.col,...Di["col:last-child"]}},u.createElement(ji.Z,{label:n("core.updateProfile.lastNameLabel"),name:"family_name",value:S,onChange:w,isUnderlined:!0})))),u.createElement(ot.Z,{medium:!0}),u.createElement("div",{style:Di.row},u.createElement(b.Z,{correctFootprint:!0,small:!0},n("core.updateProfile.securitySectionTitle"))),u.createElement(ot.Z,{small:!0}),u.createElement("div",null,u.createElement(Oi.Z,{disabled:T,id:"update-profile-cookie-policy",onSelect:async()=>{try{await(e=>t((e=>(t,n)=>{const a=n(),r=s.selectors.createBackendClient(a)("users");return t(s.actions.password.resetting()),r.request({method:"POST",url:`/actions/reset_password?user_id=${e}`}).then((()=>t(s.actions.password.reset.succeeded()))).catch((e=>{throw t(s.actions.password.reset.failed(l.Z(e,"response",e))),i.Tb(e),e}))})(e)))(m),E(!0)}catch{x(n("core.updateProfile.resetPasswordErrorLabel")),E(!1)}},options:[{label:n("core.updateProfile.resetPasswordLabel"),selectedValue:n("core.updateProfile.resetPasswordSelectedValue")}]}),T&&u.createElement(u.Fragment,null,u.createElement(Li.Z,{success:!0},n("core.updateProfile.resetPasswordSuccessLabel")),u.createElement(ot.Z,{small:!0})),A&&u.createElement(u.Fragment,null,u.createElement(Li.Z,{light:!0,error:!0},A),u.createElement(ot.Z,{small:!0}))),u.createElement("div",null,u.createElement(p.Divider,null),u.createElement(ot.Z,{small:!0}),u.createElement(_r,{isCurrentUser:!0,isMfaEnabled:o,onResetMfa:async function(){try{await d.post(`/users/${m}/reset_mfa`)}catch(e){I(n("core.updateProfile.mfaError"))}}}),C&&u.createElement(u.Fragment,null,u.createElement(ot.Z,{small:!0}),u.createElement(Li.Z,{light:!0,error:!0},C)),u.createElement(ot.Z,{small:!0})),u.createElement("div",null,u.createElement(p.Divider,null),u.createElement(ot.Z,{medium:!0}),u.createElement("div",{style:Di.row},u.createElement(b.Z,{correctFootprint:!0,small:!0},n("core.updateProfile.preferencesSectionTitle"))),u.createElement(ot.Z,{small:!0}),u.createElement("div",{style:Di.row},u.createElement(Oi.Z,{id:"update-profile-cookie-policy",onSelect:()=>{window.OneTrust||window.triggerGtmEvent("OneTrustEnabled"),window.OneTrust.ToggleInfoDisplay(),e()},options:[{label:n("core.updateProfile.changeCookiePolicyLabel"),selectedValue:n("core.updateProfile.changeCookiePolicySelectedValue")}]}))),u.createElement(p.Divider,null))};Mi.propTypes={onClose:c().func.isRequired};const Fi=Mi,Ni={language:"language",profile:"profile"};function Bi({onChooseDialog:e,onClose:t,type:n}){switch(n){case Ni.language:return e(),u.createElement(zi,{onClose:t});case Ni.profile:return e(),u.createElement(Fi,{onClose:t});default:return null}}function Ri({id:e,onClick:t,children:n}){return u.createElement("div",{id:e,style:{display:"flex",alignItems:"center"},onClick:t},n)}Bi.propTypes={onChooseDialog:c().func.isRequired,onClose:c().func.isRequired,type:c().oneOf(Object.values(Ni))},Ri.propTypes={id:c().string,onClick:c().func,children:c().oneOfType([c().arrayOf(c().node),c().node]).isRequired};const _i=Ri,Zi=(e,t)=>e&&t?`${e} ${t.charAt(0)}.`:e?`${e}`:"?";function Ki({toggled:e}){const t=v.hooks.useTranslator();return e?u.createElement(Hi,{toggled:e}):u.createElement(p.Tooltip,{text:t("core.usermenu.tooltip")},u.createElement(Hi,{toggled:e}))}function Hi({toggled:e}){const t=s.hooks.useTokenHelper(),n=t.getFamilyName(),a=t.getGivenName(),r={id:"header-usermenu-icon",toggled:e,Icon:ue.Z,label:Zi(a,n)};return u.createElement(jt.TopBarActionButton,r)}Hi.propTypes={toggled:c().bool},Ki.propTypes={toggled:c().bool};const Gi=Ki;function qi(e,t){(0,u.useEffect)((()=>{const n=n=>{e.current&&!e.current.contains(n.target)&&t()};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.body.style.overflow="unset",document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[])}const Vi={right:0,position:"absolute",zIndex:y.default.Layers.DIALOG};function Wi({onLogoutClick:e}){const[t,n]=(0,u.useState)(!1),[a,r]=(0,u.useState)(null),i=(0,u.useRef)(),o=()=>{document.body.style.overflow="hidden",window.scrollTo({top:0,left:0})},s=(0,u.useCallback)((()=>{o(),r(Ni.language)}),[Ni.language]),l=(0,u.useCallback)((()=>{o(),r(Ni.profile)}),[Ni.language]),d=(0,u.useCallback)((()=>n(!1)),[]),c=(0,u.useCallback)((()=>{document.body.style.overflow="unset",r(null)}),[]);return qi(i,d),u.createElement(u.Fragment,null,u.createElement("div",{ref:i,style:{position:"relative",maxHeight:"40px"}},u.createElement(_i,{id:"header-usermenu-button",onClick:()=>n(!t)},u.createElement(Gi,{isTooltipEnabled:!t,toggled:t})),t&&u.createElement("div",{style:Vi},u.createElement(Ii,{onLogoutClick:e,onLanguageClick:s,onProfileClick:l}))),u.createElement(Bi,{type:a,onChooseDialog:d,onClose:c}))}Wi.propTypes={onLogoutClick:c().func.isRequired};const Ui=Wi;var Yi=n("8zt1");const Ji=Sa.default.div.withConfig({displayName:"TextValueWithEllipsis__FlexWithEllipsis"})((({maxWidth:e})=>(0,Sa.css)({display:"flex",flexDirection:"column",maxWidth:e,span:{width:"100%",display:"block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}))),Qi=({content:e,overflowEllipsisWidth:t,title:n,subtitle:a})=>u.createElement(Ji,{maxWidth:t},u.createElement(St.Z,{textToken:"text-style/text/labels/default/regular",colorToken:"colors/text/neutral"},n),u.createElement(ot.Z,{spaceToken:"space.50"}),u.createElement(St.Z,{textToken:"text-style/text/labels/body/medium"},e),u.createElement(ot.Z,{spaceToken:"space.50"}),u.createElement(St.Z,{textToken:"text-style/text/labels/default/regular",colorToken:"colors/text/neutral"},a));Qi.propTypes={content:c().string,overflowEllipsisWidth:c().oneOfType([c().string,c().number]),title:c().string,subtitle:c().string};const $i=Qi,Xi=Sa.default.div.withConfig({displayName:"KuasPrompter__Container"})((()=>{const e=(0,p.useGetToken)("colors/backgrounds/warning-inline").toString(),t=(0,p.useGetToken)("space.300").value(),n=(0,p.useResponsiveTokenValue)("framework/main/margin");return(0,Sa.css)({display:"flex",alignItems:"center",position:"sticky",left:0,right:0,bottom:0,zIndex:9999,height:75,maxHeight:80,marginLeft:-n,marginRight:-n,padding:`0 ${t}px`,backgroundColor:e})})),eo=Sa.default.div.withConfig({displayName:"KuasPrompter__ButtonWrapper"})({minWidth:"fit-content"}),to=Sa.default.div.withConfig({displayName:"KuasPrompter__MidListWrapper"})((()=>{const e=(0,p.useGetToken)("space.300").value();return(0,Sa.css)({display:"flex",flexGrow:1,gap:e})}));function no({merchantData:e}){const t=v.hooks.useTranslator(),[n,a]=(0,p.useWidth)();return e.length<=5?u.createElement(to,{ref:n},e.map((({merchantId:t,storeName:n,partners:r})=>u.createElement("div",{key:t,"data-testid":"midItem",style:{flexGrow:1}},u.createElement($i,{title:n||"-",content:t,overflowEllipsisWidth:a&&a/e.length,subtitle:r.map(A.Z("name")).join(" | ")}))))):u.createElement(to,{ref:n},u.createElement($i,{title:t("core.kuasPrompter.title"),content:t("core.kuasPrompter.content",{count:e.length})}))}function ao({merchantsCount:e}){const t=v.hooks.useTranslator(),{isDesktop:n}=(0,p.useResponsiveContext)(),{getUsername:a}=s.hooks.useTokenHelper(),r=a(),i=(0,P.useDispatch)(),o=()=>(Ct.default.event({category:"KUASPrompter",action:"change-selected-mids",label:`${e} MIDs`}),(e=>i(Gr.thunks.login(e)))({prompt:"login",loginHint:r}));return n?u.createElement(lt.Z,{size:"medium",onClick:o},t("core.kuasPrompter.button")):u.createElement(Yi.Z,{onPress:o},u.createElement(ce.Z,null))}no.propTypes={merchantData:c().arrayOf(c().shape({merchantId:c().string,storeName:c().string,partners:c().arrayOf(c().shape({name:c().string}))}))},ao.propTypes={merchantsCount:c().number};const ro=function(){const e=s.hooks.useTokenHelper(),t=null==e?void 0:e.getMids(),n=(0,P.useSelector)(s.selectors.getMerchantsByMids)(null!=t?t:[]),a=(0,P.useSelector)(s.selectors.clientId),r=(0,P.useSelector)(s.selectors.isKlarnaRealm),i=(0,P.useSelector)(s.selectors.isRequesterPartner);return(r||"partner-portal"===a||i)&&e?u.createElement(Xi,{"data-testid":"kuasPrompter"},u.createElement(no,{merchantData:n}),u.createElement(eo,null,u.createElement(ao,{merchantsCount:n.length}))):null};var io,oo=n("oAmM"),so=function(e){var t=e.onClick,n=e.isToggled;return u.createElement(jt.TopBarActionButton,{iconOnly:!0,toggled:n,"data-testid":"notification-header-button",label:"",Icon:oo.Z,onClick:function(){t&&t()}})},lo=n("k0cu"),uo=n("dVkr"),co=function(e){var t=e.children;return u.createElement(u.Fragment,null,u.createElement(St.Z,{textToken:"text-style/text/paragraphs/body/bold"},t))},po=Sa.default.div.withConfig({displayName:"CenteredContent",componentId:"sc-57z5h6"})(io||(io=(0,nn.__makeTemplateObject)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n"],["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n"]))),mo=function(){var e=v.hooks.useTranslator();return u.createElement(p.Flex,{style:{width:"100%"}},u.createElement(co,null,e("core.notification.title")),u.createElement(po,{"data-testid":"klarna-loader"},u.createElement(st.ZP,null)))},go=function(){var e=v.hooks.useTranslator();return u.createElement(p.Flex,{style:{width:"100%"}},u.createElement(co,null,e("core.notification.title")),u.createElement(ot.Z,{spaceToken:"space.200"}),u.createElement(po,{style:{flexDirection:"column"}},u.createElement(lo.Z,{size:80}),u.createElement(ot.Z,{spaceToken:"space.200"}),u.createElement(St.Z,{textToken:"text-style/text/paragraphs/default/regular"},e("core.notification.content.uptodate"))))},ko=Sa.default.div.withConfig({displayName:"NotificationContainer",componentId:"sc-p5d9t"})((function(){var e=(0,p.useGetToken)("colors/backgrounds/subtle-inline").toString(),t=(0,p.useGetToken)("corner-radius/s").value();return(0,Sa.css)({padding:"5px","&:hover":{backgroundColor:e,borderRadius:"".concat(t,"px")}})})),ho=function(e){var t=e.notifications,n=v.hooks.useTranslator();return u.createElement(p.Flex,null,u.createElement(co,null,n("core.notification.title")),u.createElement(ot.Z,{spaceToken:"space.200"}),t.map((function(e){return u.createElement(ko,{key:e.title},u.createElement(wt.Z,{onPress:function(){var t;t=e.analytics.category,Ct.default.event({category:t,action:"click"})},href:e.link.href},u.createElement(p.Flex,{style:{gap:"16px",padding:"5px"}},u.createElement(p.Flex,null,u.createElement(uo.Z,null)),u.createElement(p.Flex,{style:{flex:1}},u.createElement(St.Z,{textToken:"text-style/text/paragraphs/default/bold"},e.title),u.createElement(ot.Z,{spaceToken:"space.100"}),u.createElement(St.Z,{textToken:"text-style/text/paragraphs/default/regular"},e.content),u.createElement(ot.Z,{spaceToken:"space.100"}),u.createElement(wt.Z,{isUnderlined:!0,textToken:"text-style/text/paragraphs/default/regular"},e.link.content)))))})))},bo=Sa.default.div.withConfig({displayName:"NotificationContextMenu",componentId:"sc-1yg8lat"})((function(){var e=(0,p.useResponsiveContext)().isMobile;return(0,Sa.css)({backgroundColor:"white",borderRadius:"16px",display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"24px 24px 32px 24px",gap:"16px",position:"fixed",top:"65px",minWidth:"400px",maxWidth:"400px",minHeight:"209px",right:"290px",zIndex:10,boxShadow:"0px 12px 24px 0px #0000001A"},e?{right:"auto",width:"calc(100% - 32px)",marginLeft:"16px",maxWidth:"100%"}:{})})),fo=u.forwardRef((function(e,t){var n=e.notifications,a=e.isLoading,r=void 0!==a&&a;return u.createElement(bo,{ref:t},r?u.createElement(mo,null):0===n.length?u.createElement(go,null):u.createElement(ho,{notifications:n}))}));var vo,yo=n("cFtq"),So=Sa.default.div.withConfig({displayName:"BadgeContainer",componentId:"sc-1naujn5"})(vo||(vo=(0,nn.__makeTemplateObject)(["\n  position: absolute;\n  z-index: 1;\n  top: -8px;\n  right: -8px;\n\n  animation: ",";\n  height: 20px;\n  border-radius: 10px;\n\n  @keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0px rgba(255, 179, 199, .3);\n      border-radius: 10px;\n    }\n    100% {\n      box-shadow: 0 0 0 13px rgba(255, 179, 199, .3);\n      border-radius: 32px;\n    }\n  }\n"],["\n  position: absolute;\n  z-index: 1;\n  top: -8px;\n  right: -8px;\n\n  animation: ",";\n  height: 20px;\n  border-radius: 10px;\n\n  @keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0px rgba(255, 179, 199, .3);\n      border-radius: 10px;\n    }\n    100% {\n      box-shadow: 0 0 0 13px rgba(255, 179, 199, .3);\n      border-radius: 32px;\n    }\n  }\n"])),(function(e){return e.animated?"pulse 1.2s ease-in-out infinite":"none"}));function wo(e){var t=e.animated,n=void 0!==t&&t,a=e.children;return u.createElement(So,{animated:n},u.createElement(yo.Z,{backgroundColorToken:"colors/borders/error"},a))}var To="mp:featuresShown:notification:badgeAnimation",Eo=Sa.default.div.withConfig({displayName:"NotificationContainer",componentId:"sc-16c5we6"})(Io||(Io=(0,nn.__makeTemplateObject)(["\n  position: relative;\n  max-height: 40px;\n"],["\n  position: relative;\n  max-height: 40px;\n"]))),Co=function(e){var t=e.client,n=(0,nn.__read)((0,u.useState)(!1),2),a=n[0],r=n[1],o=s.hooks.useTokenHelper(),l=(0,nn.__read)(function(e){var t=this,n=e.client,a=e.targetId,r=(0,nn.__read)((0,u.useState)({notifications:[],isLoading:!0}),2),o=r[0],s=r[1],l=v.hooks.useTranslator();return(0,u.useEffect)((function(){(function(e){var t=e.client,n=e.targetId;return(0,nn.__awaiter)(void 0,void 0,Promise,(function(){return(0,nn.__generator)(this,(function(e){switch(e.label){case 0:return[4,t.get("/v1/users/".concat(n,"/tasks/?category=notification"))];case 1:return[2,e.sent()]}}))}))})({client:n,targetId:a}).then((function(e){return function(e){var t=e.i18n;return e.notifications.data.filter((function(e){return""!==t("core.notification.apps.".concat(e.appId,".").concat(e.type,".title"))})).map((function(e){return{analytics:{category:"".concat(e.appId,":").concat(e.type)},title:t("core.notification.apps.".concat(e.appId,".").concat(e.type,".title")),content:t("core.notification.apps.".concat(e.appId,".").concat(e.type,".content")),read:e.read,link:{content:t("core.notification.apps.".concat(e.appId,".").concat(e.type,".link")),href:e.url},rawObject:e}}))}({i18n:l,notifications:e})})).then((function(e){return s({isLoading:!1,notifications:e})})).catch((function(){return s({isLoading:!1,notifications:[]})}))}),[]),[o.notifications,o.isLoading,function(){return(0,nn.__awaiter)(t,void 0,void 0,(function(){var e,t,r=this;return(0,nn.__generator)(this,(function(l){return s({notifications:o.notifications.map((function(e){return(0,nn.__assign)((0,nn.__assign)({},e),{read:!0})})),isLoading:!1}),e=o.notifications.filter((function(e){return!e.read})),t=e.map((function(e){return(0,nn.__awaiter)(r,void 0,void 0,(function(){var t;return(0,nn.__generator)(this,(function(r){switch(r.label){case 0:return t={url:e.rawObject.url,read:!0,category:"notification"},[4,n.post("/v1/users/".concat(a,"/tasks/").concat(e.rawObject.appId,"/").concat(e.rawObject.type),t)];case 1:return r.sent(),[2]}}))}))})),Promise.all(t).catch((function(e){console.error("Failed to mark notifications as read",e),i.Tb(e)})),[2]}))}))}]}({client:t,targetId:o.getUserId()}),3),d=l[0],c=l[1],m=l[2],g=(0,nn.__read)(function(e){var t=(0,u.useMemo)((function(){return(0,we.localStorage)()}),[we.localStorage]),n=(0,nn.__read)((0,u.useState)(!t.get(To)),2),a=n[0],r=n[1],i=(0,u.useCallback)((function(){t.set(To,!0),r(!1)}),[t,To,r]),o=e.filter((function(e){return!e.read})).length;return[o>0,o>9?"9+":String(o),a,i]}(d),4),k=g[0],h=g[1],b=g[2],f=g[3],y=(0,u.useRef)();return qi(y,(function(){return r(!1)})),u.createElement(Eo,null,u.createElement(so,{isToggled:a,onClick:function(){!a&&Ct.default.event({category:"notification-button:open",action:"impression"}),r(!a),f(),m()}}),k&&u.createElement(wo,{animated:b},h),a&&u.createElement(p.Portal,null,u.createElement(fo,{notifications:d,isLoading:c,ref:y})))};const Po=function(){var e=(0,P.useSelector)(s.selectors.createBackendClient);return u.createElement(Co,{client:e("notifier")})};var Io;const Ao=e=>{Ct.default.event({category:`home-fe/homepage-tabs/${e}`,action:"click"})},xo=({App:e,mpApps:t,t:n,history:a,designVersion:r,location:i,footerConfig:o,clientId:l,onLoginClick:d,onLogoutClick:c,Framework:p})=>{const m=(0,P.useSelector)(Gr.selectors.getUserAccessibleApps),g=s.hooks.useTokenHelper();(0,u.useEffect)((()=>{const e=n(`core.apps.${l}.title`);e&&(document.title=`${e} | Klarna Merchant Portal`)}),[n,l]);const k=(0,Kt.SS)("merchant-portal.boost.boost-tab.enabled"),h={...k?{"branding-fe":{tabs:["boosters"]},"upstream-fe":{tabs:["boosters"]},"siwk-fe":{tabs:["boosters"]}}:{}},b=(0,u.useMemo)((()=>t.map((({badge:e,clientId:t,icon:a,isBadgeBranded:r,isBottomItem:i,isExternalApp:o,isExternalLink:s,enabled:l,shouldMakeTabVisible:u,tabs:d,url:c})=>l&&{badge:e,icon:a,id:`sidebar-${t}`,isBadgeBranded:r,isBottomItem:i,isExternalApp:o,isExternalLink:s,itemKey:t,label:n(`core.apps.${t}.title`,{},t),onClick:()=>Ct.default.trackSidebarNavigation({label:t}),path:c,shouldMakeTabVisible:u,tabs:t in h?h[t].tabs:d}))),[t,n]),f=function(e,t){return e.reduce(((e,n)=>{if(n.shouldMakeTabVisible||"home-fe"===n.itemKey&&t.isTransactingUser())for(const t of null!==(a=n.tabs)&&void 0!==a?a:[]){var a;e.includes(t)||e.push(t)}return e}),[])}(b,g);let v=(0,u.useMemo)((()=>(e=>[{id:"store-manager",label:e("core.ui.tabs.home"),icon:li.w,onClick:Ao},{id:"boosters",label:e("core.ui.tabs.boosters"),icon:ui.X,onClick:Ao},{id:"growth",label:e("core.ui.tabs.growth"),icon:di.p,onClick:Ao}])(n)),[n]);k||(v=v.filter((e=>"boosters"!==e.id)));const y={defaultTab:"store-manager",tabs:v.filter((e=>f.includes(e.id)))},S={externalAppsSectionLabel:n("home-fe.marketing-home.external-apps.title")},w=(0,u.useMemo)((()=>({...y,items:b,...S})),[b,n]),T=e=>Ct.default.event({category:"topbar-actions",action:e?"close":"open",label:"user-profile"}),E=m(g).some(z.Z(l,"clientId"))||"static-pages"===l||"products-fe"===l,C=(0,Kt.SS)("merchant-portal.growth.notification.enabled");return u.createElement(Hr.xI,{history:a},u.createElement(cr,null,u.createElement(wi,null),u.createElement(p,{footerConfig:o,id:"mp-app-framework",sidebarConfig:w,sidePanel:u.createElement(Oa,null),topBarConfig:{actionButtons:(()=>{const e=[u.createElement(Ma,{key:"uhqm-button"}),u.createElement(Ui,{key:"user-button",onToggle:T,onLogoutClick:c})];return C?[u.createElement(Po,{key:"notifications-app"}),...e]:e})()}},E?u.createElement(e,{location:i}):u.createElement(mr,null),u.createElement(ro,{key:"kuasPrompter"}))))};xo.propTypes={App:c().any,history:c().object,location:c().object,designVersion:c().string,mpApps:c().array.isRequired,t:c().func.isRequired,footerConfig:c().object.isRequired,clientId:c().string,Framework:c().any.isRequired,onLoginClick:c().func.isRequired,onLogoutClick:c().func.isRequired};const zo=xo;var jo=n("qIfD");const Oo=({until:e})=>{const t=v.hooks.useTranslator();let n;if((0,u.useEffect)((()=>{const e=t("core.maintenance.pageTitle");document.title=e}),[t]),e){const a=(0,Ti.Z)(new Date(parseInt(e)),"Pp",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone});n=t("core.maintenance.scheduledSummary",{until:a})}else n=t("core.maintenance.summary");return u.createElement(u.Fragment,null,u.createElement(ot.Z,{large:!0}),u.createElement(kr,{illustration:u.createElement(jo.Z,null),title:t("core.maintenance.title"),summary:n}))};Oo.propTypes={until:c().string};c().shape({text:c().string.isRequired,links:c().arrayOf(c().shape({linkText:c().string.isRequired,path:c().string.isRequired}))}).isRequired,c().string;const Lo=({App:e,history:t,location:n,footerConfig:a,t:r,clientId:i,Framework:o})=>((0,u.useEffect)((()=>{const e=r(`core.apps.${i}.title`);e&&(document.title=`${e} | Klarna Merchant Portal`)}),[r,i]),u.createElement(Hr.xI,{history:t},u.createElement(wi,null),u.createElement(o,{footerConfig:{...a,text:a.text}},u.createElement(e,{location:n}))));Lo.propTypes={App:c().any,history:c().object,location:c().object,footerConfig:c().object,t:c().func.isRequired,clientId:c().string,Framework:c().any};const Do=Lo,Mo=({footerConfig:e})=>u.createElement(u.Fragment,null,u.createElement(wi,null),u.createElement(jt.Framework,{isLoading:!0,footerConfig:{text:e.text}}));Mo.propTypes={footerConfig:c().object};const Fo=Mo,No=({App:e,Framework:t=jt.Framework,hasCookieConsentBeenGiven:n=we.cookieHelper.hasCookieConsentBeenGiven,history:a,triggerGtmEvent:r})=>{const i=v.hooks.useTranslator(),o=(0,P.useSelector)(s.selectors.clientId),d=(0,P.useSelector)(s.selectors.getDesignVersion),c=(0,P.useSelector)(yt.wl.environment),m=(0,P.useSelector)(s.selectors.isAuthenticated),g=(0,P.useSelector)(yt.wl.isOneTrustEnabled),k=(0,P.useSelector)(Gr.selectors.keycloakConfig),h=(0,P.useSelector)(Hr.k$),b=(0,P.useSelector)(Gr.selectors.getUserAccessibleApps),f=(0,P.useSelector)(yt.wl.region),y=(0,P.useSelector)(s.selectors.slug),S=(0,P.useSelector)(yt.wl.terms).url,w=(0,P.useSelector)(s.selectors.getAccessToken),[T,E]=(0,u.useState)(void 0),[C,I]=(0,u.useState)(void 0),[A,x]=(0,u.useState)(!1),{isAuthenticationRequired:z}=Br(),j=(R=Kr,{error:e=>{R.captureMessage(e.message)},warn:qr.Z,info:qr.Z,debug:qr.Z}),O=l.Z("","pathname",h),L=null===(0,Kt.hz)(),D=p.Themes.Marble,M=(0,P.useDispatch)(),F=e=>M(s.actions.merchants.set(e)),N=e=>M(Gr.thunks.refreshToken(e)),{merchantData:B}=(e=>{const{cancelRequest:t,createCancelToken:n}=s.hooks.useCancelToken(),a=(0,P.useSelector)(s.selectors.createMerchantPortalApiClient),r=(0,P.useSelector)(yt.wl.region),[i,o]=(0,u.useState)(!1),[l,d]=(0,u.useState)([]),c=(0,u.useRef)(!1),p=(0,u.useCallback)((async e=>{o(!0);const t=e.getMids(),i=ei.Z(ai.Z(r),["eu","us","ap"]),s=n(),l=await si(a,r,t,{cancelToken:s,withMetadata:!0,withPartners:!0});c.current&&d(oi([l]));const u=i.map((e=>si(a,e,t,{cancelToken:s,withMetadata:!0,withPartners:!0}))),p=await Promise.all(u);c.current&&(d(oi([l,p.flat()])),o(!1))}),[n,r,a]);return(0,u.useEffect)((()=>(c.current=!0,e&&p(e),()=>{c.current=!1,t(),o(!1)})),[t,p,e]),{getMerchantData:p,isFetching:i,merchantData:l}})(C);var R;(0,Kt.wB)(),(0,u.useEffect)((()=>{if(w){const e=async()=>{const e=await(0,Zr.tokenHelperFactory)(w,{logger:j});I(e);var t;t=e.getMidsForClient(o),M(s.actions.mids.set(t));const n=e.getUserId();await(e=>M((e=>(t,n)=>{const a=n();if(s.selectors.isMerchantsRealm(a)){const n=s.selectors.createBackendClient(a)("users");return t(s.actions.requester.fetch(n,e))}})(e)))(n),((e,t)=>{t.configureScope((t=>{t.setUser({id:e})}))})(n,Kr)};e()}}),[w,o]),(0,u.useEffect)((()=>{F(B)}),[B,F]),(0,u.useEffect)((()=>{if(z&&!m){const e=async()=>{try{await((e,{tries:t=5,delay:n=200}={})=>{if(!e)return Promise.resolve(!0);const a=t=>fetch(e,{cache:"no-cache"}).then((e=>{if(200===e.status)return!0;throw new Error(`Keycloak responded with ${e.status}`)})).catch((e=>{if(t-1==0)throw e.message=`Keycloak is not online - ${e.message}`,e;return we.utils.sleep(n).then((()=>a(t-1)))}));return a(t)})(k.healthcheck,{tries:k.connectAttempts,delay:k.connectDelay}),M(Gr.thunks.initialiseKeycloak()),setInterval(N,5e3)}catch(e){E(e)}};e()}}),[z,m,k]),(0,u.useEffect)((()=>{if(A||z&&(!m||!C))return;const e=!((e="")=>["/cookies","/terms-and-conditions"].some((t=>new RegExp(`^${t}/?$`).test(e))))(O),t=n();r&&(r(g&&(e||t)?"OneTrustEnabled":"OneTrustDisabled",{environment:c,region:f,slug:y}),x(!0))}),[O,m,z,C]);const _=(new Date).getFullYear(),Z=(0,u.useMemo)((()=>({text:i(`core.footer.copyright.${f}`,{currentYear:_},{},""),links:[{linkText:i("core.footer.terms"),path:S}]})),[_,f,S,i]);if(T)throw T;return z?m&&C?u.createElement(s.components.TokenHelperContext.Provider,{value:C},!L&&u.createElement(p.UIThemeProvider,{theme:D},u.createElement(zo,{App:e,mpApps:b(C),Framework:t,t:i,history:a,designVersion:d,location:h,footerConfig:Z,clientId:o,onLoginClick:e=>M(Gr.thunks.login(e)),onLogoutClick:()=>M(Gr.thunks.logout())}))):u.createElement(p.UIThemeProvider,{theme:D},u.createElement(Fo,{footerConfig:Z})):u.createElement(p.UIThemeProvider,{theme:D},u.createElement(Do,{App:e,history:a,location:h,footerConfig:Z,t:i,clientId:o,Framework:t}))};No.propTypes={App:c().any,Framework:c().any,hasCookieConsentBeenGiven:c().func,history:c().object,triggerGtmEvent:c().func};const Bo=No;var Ro,_o,Zo,Ko,Ho,Go=n("gQ60"),qo=n("IC1n"),Vo=n.n(qo);n("nsO7"),n("Fqwg"),(_o=Ro||(Ro={})).INVALID_DOMAIN="INVALID_DOMAIN",_o.INVALID_PROTOCOL="INVALID_PROTOCOL",Sa.default.div.withConfig({displayName:"OriginField__Container"})(Zo||(Zo=(0,nn.__makeTemplateObject)(["\n  position: relative;\n"],["\n  position: relative;\n"]))),Sa.default.div.withConfig({displayName:"ClientKeyField__CopyFieldContainer"})(Ko||(Ko=(0,nn.__makeTemplateObject)(["\n  box-sizing: border-box;\n  display: flex;\n  align-items: stretch;\n  flex-shrink: 0;\n  position: relative;\n  min-height: 0;\n  min-width: 0;\n\n  input {\n    padding-right: 5em;\n  }\n"],["\n  box-sizing: border-box;\n  display: flex;\n  align-items: stretch;\n  flex-shrink: 0;\n  position: relative;\n  min-height: 0;\n  min-width: 0;\n\n  input {\n    padding-right: 5em;\n  }\n"]))),Sa.default.div.withConfig({displayName:"ClientKeyField__ButtonContainer"})(Ho||(Ho=(0,nn.__makeTemplateObject)(["\n  box-sizing: border-box;\n  display: flex;\n  align-items: stretch;\n  flex-shrink: 0;\n  position: absolute;\n  min-height: 0;\n  min-width: 0;\n  top: 50%;\n  right: 15px;\n  transform: translateY(-50%);\n  z-index: 4;\n"],["\n  box-sizing: border-box;\n  display: flex;\n  align-items: stretch;\n  flex-shrink: 0;\n  position: absolute;\n  min-height: 0;\n  min-width: 0;\n  top: 50%;\n  right: 15px;\n  transform: translateY(-50%);\n  z-index: 4;\n"])));var Wo=n("UG0V"),Uo=n.n(Wo),Yo=n("/Aln"),Jo=n.n(Yo),Qo=n("lMDN"),$o=n.n(Qo),Xo=n("2b/+"),es=n.n(Xo),ts=n("qdex"),ns=n.n(ts),as=n("uNK1"),rs=n.n(as),is=n("zii5"),os=n.n(is),ss=n("FBAH"),ls=n.n(ss),us=n("IlDq"),ds=n.n(us),cs=n("qDOF"),ps=n.n(cs),ms=n("TPYN"),gs=n.n(ms),ks=n("/752"),hs=n.n(ks),bs=n("QD+V"),fs=n.n(bs),vs=n("EQAz"),ys=n.n(vs);const Ss={...Uo(),...Jo(),...$o(),...es(),...ns(),...rs(),...os(),...ls(),...ds(),...ps(),...gs(),...hs(),...fs(),...ys()};n("OcTw");var ws=n("1mYo"),Ts=n.n(ws);on()(Ts(),{insert:"head",singleton:!1}),Ts().locals;const Es=({errorId:e})=>{const t=v.hooks.useTranslator(),n=e?t("core.errorTemplates.default.errorDescription",{errorId:e}):"",a=t("core.errorTemplates.default.contact",{errorId:u.createElement("strong",null,e),supportLink:e=>u.createElement(D.ggu,{href:"https://www.klarna.com/merchant-support",target:"_blank",inParagraph:!0},e)},"Please try refreshing the page");return u.createElement(jt.Error,{title:t("core.errorTemplates.default.title",{},"Unexpected Error"),description:n,contactContent:[a],reloadButton:{label:t("core.errorTemplates.reloadButton",{},"Reload")}})};Es.propTypes={errorId:c().string.isRequired};const Cs=Es;class Ps extends u.Component{constructor(e){super(e),this.state={errorId:void 0}}componentDidCatch(e,t){i.$e((n=>{n.setExtras(t);const a=i.Tb(e);this.setState({errorId:a})}))}render(){const{children:e}=this.props,{errorId:t}=this.state;return t?u.createElement(Cs,{errorId:t}):e}}Ps.propTypes={children:c().node.isRequired};const Is=Ps;var As=n("4n5h"),xs=n.n(As),zs=n("J7lV"),js=n.n(zs),Os=n("y++9"),Ls=n.n(Os),Ds=n("vPnj"),Ms=n.n(Ds),Fs=n("OMWn"),Ns=n.n(Fs),Bs=n("3LQt"),Rs=n.n(Bs),_s=n("6Cv9"),Zs=n.n(_s),Ks=n("lpDP"),Hs=n.n(Ks),Gs=n("jFWn"),qs=n.n(Gs),Vs=n("bgs8"),Ws=n.n(Vs),Us=n("Lsow"),Ys=n.n(Us),Js=n("96My"),Qs=n.n(Js),$s=n("xsF0"),Xs=n.n($s),el=n("mFam"),tl=n.n(el),nl=n("/YaQ"),al=n.n(nl);const rl={...xs(),...js(),...Ls(),...Ms(),...Ns(),...Rs(),...Zs(),...Hs(),...qs(),...Ws(),...Ys(),...Qs(),...Xs(),...tl(),...al()};var il=n("hPkn");const ol=u.createContext({});var sl=n("4/J7"),ll=n("omU6"),ul=n("n1y5"),dl=n("N9Xn"),cl=n("vIPa"),pl=n("JrWI"),ml=n("/uaS"),gl=n("t4br"),kl=n.n(gl);c().oneOfType([c().func,c().instanceOf(kl().Axios)]);const hl=l.Z({},"client"),bl=Fa.Z(hl,A.Z("capabilities")),fl=Fa.Z(bl,A.Z("hasInitialised")),vl=Fa.Z(bl,A.Z("isFetching")),yl=(0,ml.P1)(fl,vl,((e,t)=>!(e&&!t))),Sl=Fa.Z(bl,A.Z("value")),wl=Fa.Z(bl,A.Z("error")),Tl=sl.Z(null),El=({capabilities:e,children:t,clientId:n,desired:a,error:r,ErrorComponent:i,getCapabilities:o,isLoading:s,AccessDeniedComponent:l,LoadingComponent:d,options:c})=>((0,u.useEffect)((()=>{o({...c,params:{...c.params,clientId:n}})}),[]),s?u.createElement(d,null):r?u.createElement(i,null):((e,t)=>{const n=Fa.Z(ll.Z(A.Z("KEY")),Qr.Z())(e),a=ul.Z(t);return dl.Z((e=>cl.Z(e,a)),n)})(a,e)?u.createElement(ol.Provider,{value:e},u.Children.only(t)):u.createElement(l,null));El.propTypes={AccessDeniedComponent:c().oneOfType([c().func,c().element]),capabilities:c().object,children:c().node.isRequired,clientId:c().string,desired:c().object,error:c().object,ErrorComponent:c().oneOfType([c().func,c().element]),getCapabilities:c().func.isRequired,isLoading:c().bool,LoadingComponent:c().oneOfType([c().func,c().element]),options:c().object},El.defaultProps={capabilities:{},desired:{},error:null,ErrorComponent:Tl,isLoading:!1,LoadingComponent:Tl,options:{}};const Cl=pl.Z((0,P.connect)((e=>({isLoading:yl(e),error:wl(e),capabilities:Sl(e),clientId:s.selectors.clientId(e)})),{getCapabilities:Gr.thunks.fetchCapabilities}))(El);n("oXkQ");var Pl=n("csyK");const Il=ll.Z(Pl.Z(class{constructor(e){this.KEY=e,this.options={},this.valid=!0}get LOADING(){return`capabilities/${this.KEY}/loading`}get CAPABILITY(){return`capabilities/${this.KEY}`}toString(){return this.CAPABILITY}}));(0,Pl.Z)(class{constructor(e,t){this.capability=e,this.resource=t}get KEY(){return this.capability.KEY}get LOADING(){return this.capability.LOADING}get CAPABILITY(){return this.capability.CAPABILITY}get options(){return(0,Na.Z)(["capabilities",this.KEY],this.resource)}get valid(){return!!this.options}});const Al="home-fe",xl=Il({UPDATE_USER:"user/update"}),zl={DESKTOP:1024,TABLET:730},jl={Vanilla:"#FFFAB0",Mint:"#B8FFCC",Pool:"#B3F9FF ",Lavender:"#E9D6FF ",Sky:"#BDD5FF ",Peach:"#FFD7AD"},Ol=(0,il.Z)({},{banners:[]});var Ll=function(e){var t=e.buttonLabel,n=e.bannerColor,a=e.content,r=e.eventCategory,i=e.imageBannerDesktop,o=e.imageBannerMobile,s=e.redirectUrl,l=e.title,d=(0,nn.__read)((0,p.useWidth)(),2),c=d[0],m=d[1],g=(0,nn.__read)((0,u.useState)(!1),2),k=g[0],h=g[1],b=v.hooks.useTranslator();(0,u.useEffect)((function(){h(m<=696)}),[m]);var f=function(e){Ct.default.event({name:"Interaction with promotional banner",type:"Navigation",category:r,action:e})};(0,u.useEffect)((function(){f("impression")}),[]);var y=(0,u.useCallback)((function(){f("click"),window.location.assign(s)}),[]),S={backgroundColor:k?n:"transparent",boxSizing:"border-box",borderRadius:"0 0 16px 16px",padding:k?"45px 45px 50px":"40px",width:k?"100%":"calc(100% - 260px)"},w={backgroundColor:n,backgroundImage:"url(".concat(k?o:i,")"),backgroundPosition:"".concat(k?"0 0 ":"right bottom"),backgroundRepeat:"no-repeat",backgroundSize:"contain",borderRadius:"16px",paddingTop:k?"260px":0};return u.createElement("span",{ref:c},u.createElement(p.Flex,{justifyContent:"space-between",alignItems:k?"center":"flex-end",column:k,style:w},u.createElement("span",{style:S},u.createElement(St.Z,{textToken:"text-style/headings/titles/bold/primary"},b(l)),u.createElement(ot.Z,{spaceToken:"space.200"}),u.createElement(St.Z,{textToken:"text-style/text/paragraphs/body/regular"},b(a)),u.createElement(ot.Z,{spaceToken:"space.400"}),u.createElement(lt.Z,{onClick:y,size:"medium"},b(t)))))},Dl=n("RW9R"),Ml=n.n(Dl),Fl=n("ES8c"),Nl=n.n(Fl);function Bl(e){var t=e.eventCategory;return u.createElement(u.Fragment,null,u.createElement(ot.Z,{spaceToken:"space.500"}),u.createElement(Ll,{buttonLabel:"home-fe.banner.common.onSiteMessaging.cta",bannerColor:jl.Sky,content:"home-fe.banner.common.onSiteMessaging.text",imageBannerDesktop:Ml(),imageBannerMobile:Nl(),redirectUrl:"/on-site-messaging",title:"home-fe.banner.common.onSiteMessaging.title",eventCategory:t}))}function Rl(e){var t=s.hooks.useTokenHelper();return(0,P.useSelector)(Gr.selectors.getUserAccessibleApps)(t).filter((function(t){return e.includes(t.clientId)}))}function _l(){return"ontouchstart"in window||navigator.maxTouchPoints>0}var Zl,Kl=Sa.default.div.withConfig({displayName:"Wrapper",componentId:"sc-1eniqqw"})(Zl||(Zl=(0,nn.__makeTemplateObject)(["\n  display: block;\n  width: 100%;\n  box-sizing: border-box;\n  border: none;\n  padding: 0;\n  margin: 0;\n  background: none;\n  cursor: ",";\n"],["\n  display: block;\n  width: 100%;\n  box-sizing: border-box;\n  border: none;\n  padding: 0;\n  margin: 0;\n  background: none;\n  cursor: ",";\n"])),(function(e){var t=e.onClick;return _l()&&t?"pointer":"auto"}));function Hl(e){var t=e.children,n=e.onClick;return u.createElement(Kl,{onClick:_l()?void 0:n,as:_l()?void 0:"button"},t)}var Gl=Sa.default.div.withConfig({displayName:"TopAlignment",componentId:"sc-haco57"})(Jl||(Jl=(0,nn.__makeTemplateObject)(["\n  height: 100%;\n"],["\n  height: 100%;\n"]))),ql=Sa.default.div.withConfig({displayName:"TextWrapper",componentId:"sc-1x0jwh9"})(Ql||(Ql=(0,nn.__makeTemplateObject)(["\n  background: ",";\n  padding-top: 16px;\n  text-align: left;\n"],["\n  background: ",";\n  padding-top: 16px;\n  text-align: left;\n"])),y.default.Colors.WHITE),Vl=Sa.default.div.withConfig({displayName:"Image",componentId:"sc-8px1rp"})($l||($l=(0,nn.__makeTemplateObject)(["\n  background-color: ",";\n  background-image: url('",'\');\n  background-repeat: no-repeat;\n  background-size: auto 100%;\n  background-position: bottom center;\n  border-radius: 8px;\n  max-height: 200px;\n  min-height: 200px;\n  overflow: hidden;\n  position: relative;\n\n  &::before {\n    content: "";\n    display: block;\n    padding-top: 45.28%;\n  }\n'],["\n  background-color: ",";\n  background-image: url('",'\');\n  background-repeat: no-repeat;\n  background-size: auto 100%;\n  background-position: bottom center;\n  border-radius: 8px;\n  max-height: 200px;\n  min-height: 200px;\n  overflow: hidden;\n  position: relative;\n\n  &::before {\n    content: "";\n    display: block;\n    padding-top: 45.28%;\n  }\n'])),(function(e){return e.backgroundColor}),(function(e){return e.imageUrl})),Wl=Sa.default.div.withConfig({displayName:"CallToActionWrapper",componentId:"sc-1jxjjdn"})(Xl||(Xl=(0,nn.__makeTemplateObject)(["\n  margin-top: 24px;\n"],["\n  margin-top: 24px;\n"]))),Ul=Sa.default.div.withConfig({displayName:"Heading",componentId:"sc-6uzl2d"})(eu||(eu=(0,nn.__makeTemplateObject)(["\n  margin-bottom: 8px;\n"],["\n  margin-bottom: 8px;\n"])));const Yl=function(e){var t=e.title,n=e.imageUrl,a=e.description,r=e.backgroundColor,i=e.clientId,o=e.url,s=v.hooks.useTranslator(),l="marketing-home/app-card/".concat(i);(0,u.useEffect)((function(){Ct.default.event({category:l,action:"impression"})}),[]);var d=function(){Ct.default.event({category:l,action:"click"}),location.href=o};return u.createElement(Hl,{onClick:d},u.createElement(Gl,null,u.createElement(Vl,{backgroundColor:r,imageUrl:n}),u.createElement(ql,null,u.createElement(Ul,null,u.createElement(St.Z,{textToken:"text-style/headings/titles/bold/grande"},t)),u.createElement(St.Z,{textToken:"text-style/text/paragraphs/default/regular"},a),u.createElement(Wl,null,u.createElement(ut.Z,{size:"medium",onClick:d,onPress:d},s("home-fe.marketing-home.essentials.cta-label"))))))};var Jl,Ql,$l,Xl,eu;const tu=Sa.default.div.withConfig({displayName:"CardContainer",componentId:"sc-1oxlqha"})(nu||(nu=(0,nn.__makeTemplateObject)(["\n  display: grid;\n  width: 100%;\n  grid-template-columns: repeat(3, 1fr);\n  column-gap: 50px;\n  row-gap: 30px;\n  align-items: stretch;\n\n  @media (min-width: ","px) and (max-width: ","px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media (max-width: ","px) {\n    grid-template-columns: auto;\n  }\n"],["\n  display: grid;\n  width: 100%;\n  grid-template-columns: repeat(3, 1fr);\n  column-gap: 50px;\n  row-gap: 30px;\n  align-items: stretch;\n\n  @media (min-width: ","px) and (max-width: ","px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media (max-width: ","px) {\n    grid-template-columns: auto;\n  }\n"])),zl.TABLET,zl.DESKTOP,zl.TABLET);var nu,au=n("gbKa"),ru=n.n(au),iu=n("flt4"),ou=n.n(iu),su=n("bD+L"),lu=n.n(su);const uu=function(){var e=v.hooks.useTranslator(),t=Rl(["branding-fe"]).length>0,n={"kec-fe":{backgroundColor:jl.Peach,imageUrl:ru(),sortOrder:2},"siwk-fe":{backgroundColor:jl.Lavender,imageUrl:lu(),sortOrder:3},"upstream-fe":{backgroundColor:jl.Sky,imageUrl:ou(),sortOrder:1}},a=Rl(Object.keys(n)).map((function(t){return(0,nn.__assign)({title:e("core.apps.".concat(t.clientId,".title")),description:e("home-fe.boosters-home.booster-apps.".concat(t.clientId,".description")),clientId:t.clientId,url:t.url},n[t.clientId])})).sort((function(e,t){return e.sortOrder-t.sortOrder}));return 0===a.length?null:u.createElement(u.Fragment,null,t&&u.createElement(u.Fragment,null,u.createElement(St.Z,{textToken:"text-style/headings/titles/bold/tertiary"},e("home-fe.boosters-home.booster-apps.title")),u.createElement(ot.Z,{spaceToken:"space.300"})),u.createElement(tu,null,a.map((function(e){return u.createElement(Yl,{key:e.clientId,title:e.title,description:e.description,imageUrl:e.imageUrl,backgroundColor:e.backgroundColor,clientId:e.clientId,url:e.url})}))))};var du=n("NvFW"),cu=n.n(du);const pu=function(){var e=v.hooks.useTranslator(),t=Rl(["upstream-fe"]).length>0,n={"branding-fe":{backgroundColor:jl.Vanilla,imageUrl:cu()}},a=Rl(Object.keys(n)).map((function(t){return(0,nn.__assign)({title:e("core.apps.".concat(t.clientId,".title")),description:e("home-fe.boosters-home.setup-apps.".concat(t.clientId,".description")),clientId:t.clientId,url:t.url},n[t.clientId])}));return 0===a.length?null:u.createElement(u.Fragment,null,t&&u.createElement(u.Fragment,null,u.createElement(St.Z,{textToken:"text-style/headings/titles/bold/tertiary"},e("home-fe.boosters-home.setup-apps.title")),u.createElement(ot.Z,{spaceToken:"space.300"})),u.createElement(tu,null,a.map((function(e){return u.createElement(Yl,{key:e.clientId,title:e.title,description:e.description,imageUrl:e.imageUrl,backgroundColor:e.backgroundColor,clientId:e.clientId,url:e.url})}))),u.createElement(ot.Z,{spaceToken:"space.500"}))};function mu(){var e=(0,jt.usePageContext)().setPageContext,t=void 0===e?function(){}:e,n=v.hooks.useTranslator(),a=(0,Kt.SS)("merchant-portal.boost.boost-tab.enabled"),r=Rl(["upstream-fe"]).some((function(e){return"upstream-fe"===e.clientId})),i=a&&r;return(0,u.useEffect)((function(){t({title:n("core.apps.boosters-home-fe.title"),description:n("home-fe.boosters-home.description")})}),[n,t]),u.createElement("div",{id:"boost-home"},u.createElement(pu,null),u.createElement(uu,null),i&&u.createElement(Bl,{eventCategory:"on-site-messaging-user-journey/boost-homepage/banner"}))}function gu(){return(0,P.useSelector)(Gr.selectors.getUserAccessibleApps)(s.hooks.useTokenHelper()).filter((function(e){return null==e?void 0:e.isExternalApp}))}const ku=function(){var e=v.hooks.useTranslator(),t=gu().length>0,n={},a=Rl(Object.keys(n)).map((function(t){return(0,nn.__assign)({title:e("core.apps.".concat(t.clientId,".title")),description:e("home-fe.marketing-home.essentials.".concat(t.clientId,".description")),clientId:t.clientId,url:t.url},n[t.clientId])}));return 0===a.length?null:u.createElement(u.Fragment,null,t&&u.createElement(u.Fragment,null,u.createElement(St.Z,{textToken:"text-style/headings/titles/bold/tertiary"},e("home-fe.marketing-home.essentials.title")),u.createElement(ot.Z,{spaceToken:"space.300"})),u.createElement(tu,null,a.map((function(e){return u.createElement(Yl,{key:e.clientId,title:e.title,description:e.description,imageUrl:e.imageUrl,backgroundColor:e.backgroundColor,clientId:e.clientId,url:e.url})}))))};var hu,bu,fu,vu,yu=n("AAkq"),Su=n("R2AY"),wu=n("zT2H");function Tu(e){var t=e.buttonText,n=e.clientId,a=e.description,r=e.illustration,i=e.redirectUrl,o=e.title,s=Su.hl(),l="marketing-home/external-app-card/".concat(n);(0,u.useEffect)((function(){Ct.default.event({category:l,action:"impression"})}),[]);var d=function(){Ct.default.event({category:l,action:"click"}),window.open(i,"_blank")},c=Sa.default.div.withConfig({displayName:"CardContainer",componentId:"sc-skl4r9"})(hu||(hu=(0,nn.__makeTemplateObject)(["\n    display: flex;\n    flex-direction: row;\n    border: 1px solid ",";\n    border-radius: 16px;\n    width: 100%;\n    padding: 32px 24px;\n\n    @media (max-width: ","px) {\n      flex-direction: column;\n    }\n  "],["\n    display: flex;\n    flex-direction: row;\n    border: 1px solid ",";\n    border-radius: 16px;\n    width: 100%;\n    padding: 32px 24px;\n\n    @media (max-width: ","px) {\n      flex-direction: column;\n    }\n  "])),s.get("colors/borders/subtle-floating").toString(),zl.TABLET),p=Sa.default.div.withConfig({displayName:"IconContainer",componentId:"sc-ym0am8"})(bu||(bu=(0,nn.__makeTemplateObject)(["\n    display: flex;\n    align-items: center;\n  "],["\n    display: flex;\n    align-items: center;\n  "]))),m=Sa.default.div.withConfig({displayName:"ContentContainer",componentId:"sc-1asssqo"})(fu||(fu=(0,nn.__makeTemplateObject)(["\n    display: flex;\n    flex-direction: column;\n    padding: 0 24px;\n\n    @media (max-width: ","px) {\n      padding: 24px 0;\n    }\n  "],["\n    display: flex;\n    flex-direction: column;\n    padding: 0 24px;\n\n    @media (max-width: ","px) {\n      padding: 24px 0;\n    }\n  "])),zl.TABLET),g=Sa.default.div.withConfig({displayName:"ActionButtonContainer",componentId:"sc-10uf321"})(vu||(vu=(0,nn.__makeTemplateObject)(["\n    display: flex;\n    align-items: center;\n    margin-left: auto;\n\n    @media (max-width: ","px) {\n      margin-left: 0;\n    }\n  "],["\n    display: flex;\n    align-items: center;\n    margin-left: auto;\n\n    @media (max-width: ","px) {\n      margin-left: 0;\n    }\n  "])),zl.TABLET);return u.createElement(u.Fragment,null,u.createElement(Hl,{onClick:d},u.createElement(c,null,u.createElement(p,null,r),u.createElement(m,null,u.createElement(St.Z,{textToken:"text-style/headings/titles/bold/grande"},o),u.createElement(ot.Z,{spaceToken:"space.200"}),u.createElement(St.Z,{textToken:"text-style/text/paragraphs/default/regular"},a)),u.createElement(g,null,u.createElement(lt.Z,{size:"medium",icon:wu.Z,iconAlignment:"right",onClick:d,onPress:d},t)))))}var Eu,Cu=Sa.default.div.withConfig({displayName:"ExternalAppCardContainer",componentId:"sc-kfmoz9"})(Eu||(Eu=(0,nn.__makeTemplateObject)(["\n  display: flex;\n  width: 100%;\n  align-items: stretch;\n"],["\n  display: flex;\n  width: 100%;\n  align-items: stretch;\n"])));function Pu(){var e,t,n,a=v.hooks.useTranslator(),r=u.useRef(null),i=(e=Rl(["klarna-search-b2b-portal"]),t=s.hooks.useTokenHelper().isTransactingUser(),n=e.length>0&&"klarna-search-b2b-portal"===e[0].clientId,!t&&n),o=(0,nn.__read)((0,jt.useFeatureHighlight)("mp:featuresShown:home:searchAndCompare",1e3,"highlight/search-and-compare",i),2),l=o[0],d=o[1],c=gu().map((function(e){return{buttonText:a("home-fe.marketing-home.external-apps.cta-label"),clientId:e.clientId,description:a("home-fe.marketing-home.external-apps.".concat(e.clientId,".description")),illustration:u.createElement(yu.Z,{size:50}),redirectUrl:e.url,title:a("core.apps.".concat(e.clientId,".title"))}}));return 0===c.length?null:u.createElement(u.Fragment,null,u.createElement(St.Z,{textToken:"text-style/headings/titles/bold/tertiary"},a("home-fe.marketing-home.external-apps.title")),u.createElement(jt.PopOverWithHighlight,{showPopOver:l,popOverOnClose:d,componentRef:r,position:"top",padding:16,radius:16},u.createElement(St.Z,{textToken:"text-style/text/paragraphs/body/bold"},a("home-fe.marketing-home.popOvers.searchCompare.title")),u.createElement(St.Z,{textToken:"text-style/text/paragraphs/default/regular"},a("home-fe.marketing-home.popOvers.searchCompare.content"))),u.createElement(ot.Z,{spaceToken:"space.300"}),c.map((function(e){return u.createElement(Cu,{ref:r,key:e.clientId},u.createElement(Tu,{buttonText:e.buttonText,clientId:e.clientId,description:e.description,illustration:e.illustration,redirectUrl:e.redirectUrl,title:e.title}))})),u.createElement(ot.Z,{spaceToken:"space.500"}))}function Iu(){var e=(0,jt.usePageContext)().setPageContext,t=void 0===e?function(){}:e,n=v.hooks.useTranslator();return(0,u.useEffect)((function(){t({title:n("core.apps.marketing-home-fe.title"),description:n("home-fe.marketing-home.description")})}),[n,t]),u.createElement("div",{id:"marketing-home"},u.createElement(Pu,null),u.createElement(ku,null))}var Au=n("LnNw"),xu=n("ITv3"),zu=n("s1ZR"),ju=n("RPmX"),Ou=n("lQLl");const Lu=Sa.default.div.withConfig({displayName:"AppTile__ContainerStyled"})((()=>{const e=(0,p.useGetToken)("colors/backgrounds/subtle-inline",{interactiveState:"hovered"}),t=(0,p.useGetToken)("space.300").value(),n=(0,p.useGetToken)("corner-radius/m").value();return(0,Sa.css)({borderRadius:n,display:"flex",justifyContent:"space-between",alignItems:"center",padding:t,":hover":{backgroundColor:e,cursor:"pointer"}})})),Du=Sa.default.div.withConfig({displayName:"AppTile__HeaderStyled"})((()=>{const e=(0,p.useGetToken)("space.200").value();return(0,Sa.css)({display:"flex",gap:e,width:"100%",alignItems:"center"})}));function Mu({onClick:e=(()=>{}),clientId:t,title:n,description:a,isNewApp:r}){const i=v.hooks.useTranslator();return u.createElement(Lu,{onClick:e},u.createElement("div",null,u.createElement(Du,null,u.createElement(gr,{clientId:t}),u.createElement("div",null,u.createElement(St.Z,{textToken:"text-style/text/labels/body/medium"},n)),r&&u.createElement(yo.Z,null,i("core.appIcon.newLabel"))),a&&u.createElement(u.Fragment,null,u.createElement(ot.Z,{spaceToken:"space.200"}),u.createElement(St.Z,{textToken:"text-style/text/labels/body/regular",colorToken:"colors/text/neutral"},a))),u.createElement(Ou.Z,null))}Mu.propTypes={clientId:c().string.isRequired,title:c().string.isRequired,description:c().string,onClick:c().func,isNewApp:c().bool};const Fu=Mu,Nu=Sa.default.div.withConfig({displayName:"Apps__AppsWrapper"})((()=>{const e=(0,p.useGetToken)("space.200").value();return(0,Sa.css)({display:"grid",gridTemplateColumns:"1fr 1fr",gap:e,width:"100%"})}));function Bu({apps:e}){const t=v.hooks.useTranslator();return u.createElement(Nu,null,e.map((({title:e,clientId:n,url:a,newApp:r})=>u.createElement(Fu,{key:n,clientId:n,onClick:()=>(e=>(window.location.assign(e),Ct.default.event({category:"homepageContent:appWidgets",action:"go_to",label:`${e.split("/")[1]||""}`})))(a),title:t(`core.apps.${n}.title`)||e,description:t(`core.apps.${n}.description`),isNewApp:r}))))}Bu.propTypes={apps:c().arrayOf(c().shape({clientId:c().string.isRequired,url:c().string.isRequired,newApp:c().bool}))};const Ru=Bu,_u=Sa.default.div.withConfig({displayName:"NkoApps__AppsWrapper"})((()=>{const e=(0,p.useGetToken)("space.200").value();return(0,Sa.css)({display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:e,width:"100%"})}));function Zu({apps:e=[]}){const t=v.hooks.useTranslator();return u.createElement(_u,{id:"nkoApps"},e.map((({clientId:e,url:n})=>u.createElement(Fu,{key:e,clientId:e,onClick:()=>function(e){window.open(e,"_blank")}(n),title:t(`core.apps.${e}.title`)}))))}Zu.propTypes={apps:c().arrayOf(c().shape({clientId:c().string.isRequired,url:c().string.isRequired}))};const Ku=Zu;function Hu({id:e,title:t,apps:n,isNko:a=!1}){return u.createElement(u.Fragment,null,u.createElement(St.Z,{textToken:"text-style/headings/blocks/bold/primary"},u.createElement(v.Message,{path:`core.appCategory.${e}`,fallback:t})),u.createElement(ot.Z,{spaceToken:"space.300"}),a?u.createElement(Ku,{apps:n}):u.createElement(Ru,{apps:n}))}Hu.propTypes={id:c().string,title:c().string.isRequired,apps:c().arrayOf(c().shape({clientId:c().string.isRequired,url:c().string.isRequired,newApp:c().bool})).isRequired,isNko:c().bool};const Gu=Hu,qu=function(){const e=v.hooks.useTranslator(),t=s.hooks.useTokenHelper(),n=(0,P.useSelector)(Gr.selectors.getAppCategories),a=(0,P.useSelector)(Gr.selectors.getCategorizedApps)(t),r=xu.Z($r.Z(Object.values(a)));return u.createElement("div",{id:"apps",style:{width:"100%"}},r?u.createElement(p.Layout.Section,null,u.createElement(p.Layout.Column,null,u.createElement(kr,{illustration:u.createElement(Au.Z,null),title:e("home-fe.no-apps.title"),summary:e("home-fe.no-apps.subtitle")}))):n.map(((e,t)=>{const{id:r,title:i}=e,o=Go.Z([],[i],a),s=o.length>0,l=zu.Z(ju.Z(!0,["config","isNkoApp"]))(o);return s&&u.createElement("div",{key:r},u.createElement(Gu,{id:r,title:i,apps:o,isNko:l}),t<n.length-1&&u.createElement(ot.Z,{spaceToken:"space.300"}))})))};var Vu=n("41s3"),Wu=n("XMe8"),Uu=n("7lfv");const Yu=({environment:e,envs:t,regions:n,goTo:a,linkHref:r,linkLabel:i,region:o,shouldDisplay:s,content:l,title:d})=>{const c=(0,Kt.SS)("merchant-portal.important-banner");c&&(d=c.title,l=c.content,i=c.linkLabel,r=c.linkHref);const p=u.createElement(Vu.Z,{title:d,content:[l],linkLabel:i,onLinkClick:()=>{a(r)}});if(c)return p;if(s){const a=Wu.Z(!xu.Z(t),!xu.Z(n)),r=Wu.Z(xu.Z(t),cl.Z(e,t)),i=Wu.Z(xu.Z(n),cl.Z(o,n)),s=Uu.Z(r,i);if(!a||a&&s)return p}return null};Yu.propTypes={content:c().string.isRequired,envs:c().arrayOf(c().oneOf(Object.values(we.constants.ENVS))),environment:c().oneOf(Object.values(we.constants.ENVS)),goTo:c().func,linkHref:c().string,linkLabel:c().string,region:c().oneOf(Object.values(we.constants.REGIONS)),regions:c().arrayOf(c().oneOf(Object.values(we.constants.REGIONS))),shouldDisplay:c().bool,title:c().string},Yu.defaultProps={envs:[],regions:[],goTo:e=>{window.open(e,"_blank")},shouldDisplay:!1};const Ju=pl.Z((0,P.connect)((e=>({environment:yt.wl.environment(e),region:yt.wl.region(e)}))))(Yu);var Qu=n("8KVM"),$u=n("36pe"),Xu=n("MFEH"),ed=n.n(Xu),td=n("i5Hl"),nd=n("HW9v"),ad=n("ex2u"),rd=n("W2gB"),id=n("jwyl"),od=n.n(id);const sd=l.Z({},Al),ld=Fa.Z(sd,l.Z([],"banners")),ud=(0,ml.P1)(Gr.selectors.getUserAccessibleApps,v.selectors.translator,((e,t)=>(0,Zr.memoizeWithTokenHelper)((n=>e(n).filter(A.Z("newApp")).map((({clientId:e,url:n})=>({content:t(`home-fe.banner.common.${e}.content`),link:n,linkLabel:t(`home-fe.banner.common.${e}.linkLabel`),Icon:()=>u.createElement(gr,{color:y.default.Colors.BLACK.toString(),clientId:e})}))).filter(td.Z(A.Z("content"),A.Z("linkLabel"))))))),dd=(0,ml.P1)(Gr.selectors.getUserAccessibleApps,v.selectors.translator,ld,((e,t,n)=>(0,Zr.memoizeWithTokenHelper)((a=>n.filter((t=>e(a).some(z.Z(t.app,"clientId")))).map((({id:e,link:n,Icon:a=oo.Z})=>({content:t(`home-fe.banner.${e}.content`),link:n,linkLabel:t(`home-fe.banner.${e}.linkLabel`),Icon:a}))).filter(td.Z(A.Z("content"),A.Z("linkLabel"))))))),cd=(0,ml.P1)(ud,dd,((e,t)=>(0,Zr.memoizeWithTokenHelper)((n=>t(n).concat(od()(e(n))))))),pd=(0,ml.P1)(s.selectors.getRequester,nd.Z(ai.Z(void 0),ad.Z,rd.Z(z.Z(!0,"has_accepted_nko_terms")))),md=c().shape({content:c().string.isRequired,link:c().string.isRequired,linkLabel:c().string.isRequired,Icon:c().func.isRequired});function gd({notification:e}){return u.createElement("div",{id:"notification-banner",style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},u.createElement(St.Z,null,e.content),u.createElement(D.ggu,{href:e.link},e.linkLabel))}function kd({notification:e,show:t}){return u.createElement(ed(),{when:t},u.createElement(Qu.Z,{content:u.createElement(gd,{notification:e}),iconType:e.Icon}))}gd.propTypes={notification:md},kd.propTypes={notification:md,show:c().bool};const hd=({notifications:e,delay:t})=>{const[n,a]=(0,u.useState)(0),[r,i]=(0,u.useState)(!1);return(0,u.useEffect)((()=>{i(!0)}),[]),(0,u.useEffect)((()=>{const r=setInterval((()=>{a($u.Z(n+1,e.length)),i(!1),i(!0)}),t);return()=>{clearInterval(r)}}),[e,n]),u.createElement(kd,{notification:e[n],show:r})};hd.propTypes={notifications:c().arrayOf(md),delay:c().number},hd.defaultProps={delay:1e4};const bd=({notifications:e})=>e.length?1===e.length?u.createElement(kd,{notification:e[0],show:!0}):u.createElement(hd,{notifications:e}):null;bd.propTypes={notifications:c().array},bd.defaultProps={notifications:[]};const fd=pl.Z(s.components.withTokenHelper((e=>({tokenHelper:e}))),(0,P.connect)(((e,{tokenHelper:t})=>({notifications:cd(e)(t)}))))(bd);var vd=n("iR/D"),yd=n("QZe/");const Sd=({userId:e,username:t,termsAndConditionsUrl:n,isNkoUser:a,shouldShowDialog:r,setDialogShown:i})=>{const[o,s]=(0,u.useState)(!1),l=v.hooks.useTranslator();if(!a||!r)return null;const d=e=>e&&"string"==typeof e&&e.trim().length>0;return u.createElement(p.Modal,{id:"nko-welcome",focusTrapActive:!0,illustration:"IllustrationMerchantPortalRational",title:l("home-fe.nko.dialog.title"),description:d(t)?void 0:l("home-fe.nko.dialog.subtitle"),buttonPrimary:{onClick:()=>{i(e)},text:l("home-fe.nko.dialog.explore"),disabled:!o}},!d(t)&&u.createElement(u.Fragment,null,u.createElement(ji.Z,{label:l("home-fe.nko.dialog.name-field"),defaultValue:t}),u.createElement(ot.Z,{spaceToken:"space.300"})),u.createElement(vd.Z,{name:"terms",defaultValue:o,onChange:s},u.createElement(v.Message,{path:"home-fe.nko.dialog.terms-pre"}),u.createElement(D.ggu,{inParagraph:!0,href:n,target:"_blank"},u.createElement(v.Message,{path:"home-fe.nko.dialog.terms-text"}))))};Sd.propTypes={userId:c().string.isRequired,username:c().string.isRequired,termsAndConditionsUrl:c().string.isRequired,isNkoUser:c().bool,shouldShowDialog:c().bool,setDialogShown:c().func.isRequired},Sd.defaultProps={isNkoUser:!1,shouldShowDialog:!1};const wd=(0,yd.qC)(s.components.withTokenHelper((e=>({userId:e.getUserId(),username:e.getUsername(),isNkoUser:we.selectors.tokenHelper.isNkoUser(e)}))),(0,P.connect)((e=>({termsAndConditionsUrl:yt.wl.terms(e).url,shouldShowDialog:pd(e)})),{setDialogShown:e=>t=>t(((e,t)=>(n,a)=>{const r=a();if(s.selectors.isMerchantsRealm(r)){const a=s.selectors.createBackendClient(r)("users");return n(s.actions.requester.update(a,e,t))}})(e,{has_accepted_nko_terms:!0}))}))(Sd);n("PVjZ");var Td=n("wXu4"),Ed=n("Hu5F"),Cd=n("nVrk"),Pd=n.n(Cd),Id=n("4h86"),Ad=n("qnhP"),xd={CURRENCIES:{EUR:"EUR",AUD:"AUD",USD:"USD",SEK:"SEK",NOK:"NOK",DKK:"DKK",GBP:"GBP",CAD:"CAD",CHF:"CHF",PLN:"PLN",NZD:"NZD"}},zd=function(e){return e&&Pd()(e).isValid()||i.$e((function(t){t.setTag("team","mpux"),t.setExtras(e),i.Tb("Error in getMoment: Invalid date provided")})),Pd()(e)},jd=function(e){return zd(e).startOf("day").startOf("hour").startOf("minute").startOf("second").format()},Od=function(e){return e&&Array.isArray(e)&&e.length?function(e){var t=Pd()(),n=zd(e);if(n.isAfter(t,"milliseconds"))return i.$e((function(e){e.setTag("team","mpux"),e.setExtras({date:n.toISOString()}),i.Tb("Error in getElapsedTime: Future date provided")})),null;var a=t.diff(n,"hours");return{elapsedHours:a,elapsedMinutes:t.diff(n,"minutes")-60*a}}(Pd().max(e.map(zd))):(i.$e((function(t){t.setTag("team","mpux"),t.setExtras({dates:e}),i.Tb("Error in getShortestElapsedTime: Array not provided")})),null)},Ld=jd,Dd=function(e){return zd(e).endOf("day").endOf("hour").endOf("minute").endOf("second").format()},Md=function(e){return zd(e).isSameOrAfter(Pd()(),"day")},Fd=function(e){return zd(e).isSameOrBefore(Pd()().subtract(1,"week"),"day")};const Nd=({currency:e,onChange:t})=>{const n=v.hooks.useTranslator(),a="home-fe";return u.createElement(p.Selector,{value:e,onClose:()=>(e=>Ct.default.event({category:"homepageContent:salesWidget",action:"change_currency",label:e}))(e),onChange:t,options:Object.keys(xd.CURRENCIES).map((e=>({label:e,value:xd.CURRENCIES[e]}))),selectAllOptionLabel:n(`${a}.insightsWidget.selectAllOptLabel `),deselectAllOptionLabel:n(`${a}.insightsWidget.deselectAllOptionText`),closeLabel:n(`${a}.insightsWidget.closeText`)},u.createElement(ct.Z,{icon:Td.Z,iconAlignment:"right",size:"small"},n(`${a}.insightsWidget.currencyFootnote`,{currency:e})))};Nd.propTypes={currency:c().string,onChange:c().func};var Bd=n("B7XX");const Rd="data-provider/INIT",_d="data-provider/SUCCESS",Zd="data-provider/FAILURE",Kd=(0,Bd.Z)(Rd),Hd=(0,Bd.Z)(_d),Gd=(0,Bd.Z)(Zd),qd=(0,il.Z)({[Rd]:e=>({...e,isFetching:!0,isError:!1}),[_d]:(e,{payload:t})=>({...e,hasSuccessfulLoad:!0,isFetching:!1,isError:!1,data:t}),[Zd]:e=>({...e,isFetching:!1,isError:!0})},{isFetching:!1,isError:!1});function Vd({autoRefreshInterval:e,backendName:t,cache:n,children:a,isContentLoading:r,method:i,onError:o,onLoading:l,params:d,query:c,url:m,showLoaderOnInitialRequestOnly:g=!1}){const[k,h]=(0,u.useState)({}),b=(0,P.useSelector)(s.selectors.createBackendClient)(t),f=(0,p.useTabVisibility)(),[v,y]=u.useReducer(qd,{}),{data:S,isFetching:w,isError:T,hasSuccessfulLoad:E}=v;(0,u.useEffect)((()=>{let a=!1;const r=async()=>{const e=`${t}_${m}_${JSON.stringify(c)}_${JSON.stringify(d)}`;if(f){n&&k[e]?y(Hd(k[e])):y(Kd());try{const t=await((e,t,{method:n,data:a,params:r})=>e.request({data:a,method:n,params:r,url:t}))(b,m,{method:i,data:c,params:d});a||(y(Hd(t.data)),n&&h({...k,[e]:t.data}))}catch(e){a||y(Gd())}}};if(e){const t=setInterval((()=>{r()}),1e3*e);return r(),()=>{a=!0,clearInterval(t)}}return r(),()=>{a=!0}}),[b,c,d,f]);const C=w||r;return C&&E&&g?a({data:S,isLoading:C}):C&&l?l():T&&o?o():a({data:S,isLoading:C,isError:T})}Vd.propTypes={autoRefreshInterval:c().number,backendName:c().string.isRequired,cache:c().bool,children:c().func,isContentLoading:c().bool,method:c().oneOf(["GET","POST"]).isRequired,onError:c().func,onLoading:c().func,params:c().object,query:c().object,url:c().string.isRequired,showLoaderOnInitialRequestOnly:c().bool},Vd.defaultProps={cache:!1,isContentLoading:!1,method:"GET",showLoaderOnInitialRequestOnly:!1};var Wd=function(e){var t=e.errorText;return u.createElement("div",{"data-testid":"insights_widget_error"},u.createElement(Vu.Z,{content:[t]}))};Wd.propTypes={errorText:c().string.isRequired};var Ud=function(e){var t=e.mids,n=v.hooks.useTranslator(),a=function(e){var t=e.merchantData,n=e.selectedMids;return(0,Fa.Z)((0,Id.Z)((0,Ad.Z)((function(e){return n.includes(e)}),"merchantId")),(0,ll.Z)((0,A.Z)("transactingRegions")),$r.Z,(0,ll.Z)((0,A.Z)("latestOrderDate")))(t)}({merchantData:(0,P.useSelector)(s.selectors.getMerchants),selectedMids:t});if(!a.length)return null;var r=Od(a);return a.length&&null!==r?u.createElement(p.Flex,null,u.createElement(p.ActivityIndicator,{label:n("home-fe.insightsWidget.elapsedTime",{hours:r.elapsedHours,minutes:Math.max(r.elapsedMinutes,1)})})):null};Ud.propTypes={mids:c().oneOfType([c().string,c().arrayOf(c().string)]).isRequired};const Yd=function(){return u.createElement(D.G7x,{style:{width:"100%",marginBottom:"25px"}},u.createElement(Bt.Z,{blockMode:!0},u.createElement("div",{"data-testid":"widget_loading",style:{minHeight:"80px",display:"flex",alignItems:"center",justifyContent:"center"}},u.createElement(st.ZP,null))))},Jd={row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},column:{display:"flex",flexDirection:"column"},fadeOut:{transition:"opacity 1.5s cubic-bezier(0,.5,0,.25), filter 6s ease-out",opacity:.1,filter:"blur(2px)"},fadeIn:{opacity:1,filter:"none"}},Qd=Sa.default.div.withConfig({displayName:"SalesThisWeekWidget__Container"})((({isWide:e,width:t})=>e?(0,Sa.css)({display:"flex",flexDirection:"column",width:t}):(0,Sa.css)({display:"flex",flexDirection:"row-reverse",alignItems:"center",justifyContent:"space-between",width:"100%",height:"50px"}))),$d=Sa.default.span.withConfig({displayName:"SalesThisWeekWidget__ValueWrapper"})((({isLoading:e})=>e?(0,Sa.css)({transition:"opacity 1.5s cubic-bezier(0,.5,0,.25), filter 6s ease-out",opacity:.1,filter:"blur(2px)"}):(0,Sa.css)({opacity:1,filter:"none"}))),Xd=({i18nPath:e,loading:t,value:n,isWide:a,width:r})=>u.createElement(Qd,{isWide:a,width:r},u.createElement($d,{isLoading:t},a?u.createElement(u.Fragment,null,u.createElement(ot.Z,{spaceToken:"space.200"}),u.createElement(St.Z,{textToken:"text-style/headings/blocks/bold/tertiary"},n),u.createElement(ot.Z,{spaceToken:"space.100"})):u.createElement(St.Z,{textToken:"text-style/text/labels/body/medium"},n)),u.createElement(St.Z,{textToken:"text-style/text/labels/body/regular"},u.createElement(v.Message,{path:e})));Xd.propTypes={i18nPath:c().string.isRequired,value:c().oneOfType([c().string,c().number]).isRequired,isWide:c().bool,loading:c().bool,width:c().oneOfType([c().string,c().number])};const ec=({isWidgetLoading:e,queryParams:t,currency:n,isWide:a})=>{const r=v.hooks.useTranslator(),i=(0,P.useSelector)((e=>v.selectors.formatters.currency(e)(n,!0)));return u.createElement(Vd,{backendName:"orders",url:"aggregated-sales-statistics",params:t,showLoaderOnInitialRequestOnly:!0,isContentLoading:e,autoRefreshInterval:45,cache:!0,onError:()=>u.createElement(Wd,{title:r("home-fe.insightsWidget.title"),errorText:r("home-fe.insightsWidget.error.content")}),onLoading:()=>u.createElement(Yd,null)},(({data:e,isLoading:t})=>{const n=(null==e?void 0:e.count)||"-",r=(null==e?void 0:e.total_amount)/100||"-",o=(null==e?void 0:e.average_amount)/100||"-";return u.createElement("div",{"data-testid":"insights_widget",style:a?Jd.row:Jd.column},u.createElement(Xd,{value:n,loading:t,i18nPath:"home-fe.insightsWidget.orderCount",isWide:a,width:"30%"}),!a&&u.createElement(D.x3M,null),u.createElement(Xd,{value:isNaN(o)?o:i.format(o),loading:t,i18nPath:"home-fe.insightsWidget.orderVolumeAverage",isWide:a,width:"35%"}),!a&&u.createElement(D.x3M,null),u.createElement(Xd,{value:isNaN(r)?r:i.format(r),loading:t,i18nPath:"home-fe.insightsWidget.orderVolume",isWide:a,width:"35%"}))}))};ec.propTypes={currency:c().string.isRequired,isWidgetLoading:c().bool,queryParams:c().object.isRequired,isWide:c().bool};var tc=n("inaL"),nc=n("xuqZ"),ac=n("hsFG"),rc=function(e){var t,n=e.date,a=e.isWide,r=e.onChange,i=(0,P.useSelector)(v.selectors.formatters.longDateNoYear),o=v.hooks.useTranslator();return u.createElement(p.Flex,{column:a,spacing:"space.100",justifyContent:"space-between",growChildren:[1]},u.createElement(p.Flex,{spacing:"space.300"},u.createElement(p.Flex,{column:!0,spacing:"space.100"},u.createElement(St.Z,{textToken:"text-style/headings/blocks/bold/grande"},i.format(n)),u.createElement(St.Z,{textToken:"text-style/text/labels/default/regular",colorToken:"colors/text/neutral"},Md(n)?"string"==typeof(t=o("home-fe.insightsWidget.relativeDate.today"))?t.replace("[","").replace("]",""):t:function(e){return zd(e).isSame(Pd()().subtract(1,"day"),"day")}(n)?"string"==typeof(t=o("home-fe.insightsWidget.relativeDate.yesterday"))?t.replace("[","").replace("]",""):t:o("home-fe.insightsWidget.weekDays.".concat(function(e){return zd(e).isoWeekday()}(n))))),u.createElement(p.Flex,{spacing:"space.100"},u.createElement(tc.Z,{size:"small",disabled:Fd(n),onClick:function(){Fd(n)||r(Date.parse(function(e){return jd(zd(e).subtract(1,"day"))}(n))),Ct.default.event({category:"homepageContent:salesWidget",action:"change_date",label:"previous_day"})}},u.createElement(nc.Z,null)),u.createElement(tc.Z,{size:"small",disabled:Md(n),onClick:function(){Md(n)||r(Date.parse(function(e){return jd(zd(e).add(1,"day"))}(n))),Ct.default.event({category:"homepageContent:salesWidget",action:"change_date",label:"next_day"})}},u.createElement(ac.Z,null)))))};rc.propTypes={date:c().number.isRequired,isWide:c().bool,onChange:c().func.isRequired};const ic=()=>Ct.default.event({category:"homepageContent:salesWidget",action:"change_mid"}),oc=Sa.default.div.withConfig({displayName:"src__RoundedContainer"})((()=>{const e=(0,p.useGetToken)("colors/borders/subtle-floating").toString(),t=(0,p.useGetToken)("corner-radius/m").value();return(0,Sa.css)({border:`1px solid ${e}`,borderRadius:t})})),sc=Sa.default.div.withConfig({displayName:"src__InnerContainer"})((()=>{const e=(0,p.useGetToken)("space.300").value();return(0,Sa.css)({padding:e})})),lc=Sa.default.a.withConfig({displayName:"src__LinkStyled"})((()=>{const e=(0,p.useGetToken)("colors/backgrounds/subtle-inline").toString(),t=(0,p.useGetToken)("corner-radius/m").value(),n=(0,p.useGetToken)("space.300").value(),a=Su.hl().get("colors/backgrounds/subtle-inline",{interactiveState:"hovered"});return(0,Sa.css)({display:"flex",justifyContent:"space-between",width:"100%",padding:n,backgroundColor:e,borderBottomRightRadius:t,borderBottomLeftRadius:t,textDecoration:"none",":hover":{backgroundColor:a}})})),uc=({label:e})=>u.createElement(lc,{href:"/orders",onClick:()=>Ct.default.event({category:"homepageContent:salesWidget",action:"go_to",label:"Orders"})},u.createElement(St.Z,{textToken:"text-style/text/labels/body/medium"},e),u.createElement(Ou.Z,null));function dc({storeName:e,mid:t}){return u.createElement(p.Flex,{spacing:"space.50",alignItems:"center"},u.createElement(St.Z,{textToken:"text-style/text/labels/default/regular"},e),u.createElement(St.Z,{textToken:"text-style/text/labels/default/regular",colorToken:"colors/text/neutral"},"·"),u.createElement(St.Z,{textToken:"text-style/text/labels/default/regular",colorToken:"colors/text/neutral"},t))}uc.propTypes={label:c().string.isRequired},dc.propTypes={storeName:c().string.isRequired,mid:c().string.isRequired};const cc=()=>{const e=s.hooks.useTokenHelper(),t=e.hasClient("orders-fe"),n=(0,Kt.SS)("mpux.sales-widget"),a=(0,P.useSelector)(s.selectors.getMerchantsByMids),[r,i]=(0,u.useState)(!1),[o,d]=(0,u.useState)(!1),[c,m]=(0,u.useState)([]),[g,k]=(0,u.useState)((()=>(new Date).valueOf())),[h,b]=(0,u.useState)((()=>(new Date).valueOf())),[f,y]=(0,u.useState)({}),[S,w]=(0,u.useState)(""),T=Pd().tz.guess(),[E,C]=(0,u.useState)((()=>function(e){var t=e.timezone;return Pd().tz.zonesForCountry("US").includes(t)?xd.CURRENCIES.USD:Pd().tz.zonesForCountry("CA").includes(t)?xd.CURRENCIES.CAD:Pd().tz.zonesForCountry("AU").includes(t)?xd.CURRENCIES.AUD:Pd().tz.zonesForCountry("SE").includes(t)?xd.CURRENCIES.SEK:Pd().tz.zonesForCountry("NO").includes(t)?xd.CURRENCIES.NOK:Pd().tz.zonesForCountry("DK").includes(t)?xd.CURRENCIES.DKK:Pd().tz.zonesForCountry("GB").includes(t)?xd.CURRENCIES.GBP:Pd().tz.zonesForCountry("CH").includes(t)?xd.CURRENCIES.CHF:Pd().tz.zonesForCountry("PL").includes(t)?xd.CURRENCIES.PLN:Pd().tz.zonesForCountry("NZ").includes(t)?xd.CURRENCIES.NZD:xd.CURRENCIES.EUR}({timezone:T})));!function(e,t,n){const a=(0,we.localStorage)();(0,u.useEffect)((()=>{const t=a.get(e