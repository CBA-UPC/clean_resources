(function(){"use strict";function submitSubscription(){const modal=bootstrap.Modal.getInstance(document.getElementById("jobalert-modal"));modal.hide();const formData={Email:document.getElementById("alert-email").value,Culture:document.getElementById("alert-culture").value,Query:document.getElementById("alert-query").value},xhr=new XMLHttpRequest;xhr.open("POST","/JobAlertsApi/SignUp",!0);xhr.setRequestHeader("Content-Type","application/json");xhr.setRequestHeader("x-ph","internal");xhr.onreadystatechange=function(){if(xhr.readyState===4)if(xhr.status===200){const response=JSON.parse(xhr.responseText);displayMessage(response);insertUrlParam("alert",!0);dataLayerPush("Job Alert Subscribe","job_alert_subscribe",formData.Culture)}else console.error(xhr),displayMessage({Success:!1,Message:"Sorry, an error occurred submitting your request: "+xhr.status})};xhr.send(JSON.stringify(formData))}function displayMessage(response){const alertMessage=document.getElementById("jobalert-message");alertMessage.innerHTML=response.message;alertMessage.classList.add(response.success?"alert-success":"alert-danger");alertMessage.style.display="block"}function insertUrlParam(key,value){if(history.pushState&&typeof URLSearchParams=="function"){const searchParams=new URLSearchParams(window.location.search);searchParams.set(key,value);const newurl=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+searchParams.toString()+"#jobalert-message";window.history.pushState({path:newurl},"",newurl)}}function dataLayerPush(name,id,culture){if(typeof dataLayer!="undefined"&&dataLayer&&name){const json={event:"form_success",form_info:{form_name:name,form_id:id,culture:culture}};dataLayer.push(json)}}const alertForm=document.getElementById("jobalert-form");if(!alertForm){console.log("Job Alert Form not Found");return}alertForm.addEventListener("submit",})();
//# sourceMappingURL=/phb/nmap/jobAlerts.js.vc1fe4d0762230192a4e5a7e8788be8ebf14328cb