(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{160:function(t,e,r){"use strict";var i,n,o,a;function s(t){return t}function l(t){return t}function u(t){return t}unction p(t){var e,r,n,p;return e=(t=t||{}).init||s,r=t.request||l,n=t.success||t.response||u,p=t.error||function(){return Promise.resolve((t.response||u).apply(this,arguments)).then(Promise.reject.bind(Promise))},function(s,l){return"object"===typeof s&&(l=s),"function"!==typeof s&&(s=t.client||i),l=e(l||{}),a(function t(e){var i,a;return i={},a={arguments:Array.prototype.slice.call(arguments),client:t},(e="string"===typeof e?{path:e}:e||{}).originator=e.originator||t,o(r.call(i,e,l,a),function(t){var e,r,o;return o=s,t instanceof c&&(r=t.abort,o=t.client||o,e=t.response,t=t.request),e=e||Promise.resolve(t).then(function(t){return Promise.resolve(o(t)).then(function(t){return n.call(i,t,l,a)},}),r?Promise.race([e,r]):e},},s)}}i=r(209),n=r(176),o=r(194),a=r(193),p.ComplexRequest=c,t.exports=p},176:function(t,e,r){"use strict";var i={};t.exports=function(t){var e,r,n,o;for(t||(t={}),e=1,r=arguments.length;e<r;e+=1)for(o in n=arguments[e])o in t&&(t[o]===n[o]||o in i&&i[o]===n[o])||(t[o]=n[o]);return t}},192:function(t,e,r){"use strict";(function(t){"undefined"===typeof Promise&&r(278).polyfill(),t.export=Promise}).call(this,r(196)(t))},193:function(t,e,r){"use strict";t.exports=function(t,e){return e&&(t.skip=function(){return e}),t.wrap=function(e,r){return e(t,r)},t.chain=function(){return"undefined"!==typeof console&&console.log("rest.js: client.chain() is deprecated, use client.wrap() instead"),t.wrap.apply(this,arguments)},t}},194:function(t,e,r){"use strict";var i=r(210);function n(t,e){return t.then(}function o(){return n(this,"entity")}function a(){return n(n(this,"status"),"code")}function s(){return n(this,"headers")}function l(t){return t=i(t),n(this.headers(),t)}function u(t){return c((t=[].concat(t)).reduce(function(t,e){return t.then(function(t){if("string"===typeof e&&(e={rel:e}),"function"!==typeof t.entity.clientFor)throw new Error("Hypermedia response expected");return t.entity.clientFor(e.rel)({params:e.params})})},this))}function c(t){return t.status=a,t.headers=s,t.header=l,t.entity=o,t.follow=u,t}function p(t,e,r){return c(Promise.resolve(t).then(e,r))}p.make=c,p.reject=function(t){return c(Promise.reject(t))},p.promise=t.exports=p},207:208:209:function(t,e,r){"use strict";var i,n,o;=r(193),"function"!==typeof Promise&&console&&console.log&&console.log("An ES6 Promise implementation is required to use rest.js. See https://github.com/cujojs/when/blob/master/docs/es6-promise-shim.md for using when.js as a Promise polyfill."),a.setDefaultClient=function(t){n=t},a.getDefaultClient=function(){return n},a.resetDefaultClient=a.setPlatformDefaultClient=function(t){if(o)throw new Error("Unable to redefine platformDefaultClient");n=o=t},t.exports=i(a)},210:function(t,e,r){"use strict";t.exports=,211:function(t,e,r){"use strict";var i,n;i=r(160),n=r(282),t.exports=i({request:function(t,e){var r,i,o;return e.prefix&&!new n(t.path).isFullyQualified()&&(r=e.prefix,t.path&&(o="/",(i=r).lastIndexOf(o)+o.length===i.length||t.path,"/")||(r+="/"),r+=t.path),t.path=r),t}})},212:function(t,e,r){"use strict";var i,n;function o(t){return(t=encodeURIComponent(t)).replace(i,"+")}function a(t){return t=t.replace(n," "),decodeURIComponent(t)}i=/%20/g,n=/\+/g,t.exports={read:function(t){var e={};return t.split("&").forEach(function(t){var r,i,n;i=a((r=t.split("="))[0]),n=2===r.length?a(r[1]):null,i in e?(Array.isArray(e[i])||(e[i]=[e[i]]),e[i].push(n)):e[i]=n}),e},write:function(t){var e="";return Object.keys(t).forEach(function(r){e=function t(e,r,i){return Array.isArray(i)?i.forEach(:(e.length>0&&(e+="&"),e+=o(r),void 0!==i&&null!==i&&(e+="="+o(i))),e}(e,r,t[r])}),e}}},213:function(t,e,r){"use strict";t.exports={parse:function(t){var e,r;return e=t.split(";"),{raw:t,type:(r=e[0].trim().split("+"))[0],suffix:r[1]?"+"+r[1]:"",params:e.slice(1).reduce(function(t,e){return t[(e=e.split("="))[0].trim()]=e[1]?e[1].trim():void 0,t},{})}}}},214:function(t,e,r){"use strict";var i,n,o;i=r(160),n=r(286),o=r(176),t.exports=i({init:function(t){return t.params=t.params||{},t.template=t.template||"",t},request:function(t,e){var r,i;return r=t.path||e.template,i=o({},t.params,e.params),t.path=n.expand(r,i),delete t.params,t}})},215:function(t,e,r){"use strict";t.exports=function(t){try{return Promise.resolve(t())}catch(e){return Promise.reject(e)}}},257:function(t,e,r){t.exports=function(){"use strict";var t,e,r;function i(i,n){if(t)if(e){var o="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",a={};t(a),r=n(a),"undefined"!==typeof window&&(r.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else e=n;else t=n}return i(0,function(t){ar r=i;.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},i.prototype.sampleCurveY=i.prototype.sampleCurveDerivativeX=i.prototype.solveCurveX=i.prototype.solve=var n=o;.prototype={clone:function(){return new o(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:matMult:unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:mag:equals:dist:distSqr:angle:angleTo:angleWith:angleWithSep:_matMult:_add:_sub:_mult:_div:_multByPoint:_divByPoint:_unit:_perp:_rotate:_rotateAround:_round:,o.convert=var a="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;ar u=l(.25,.1,.25,1);nction h(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];for(var i=0,n=e;i<n.length;i+=1){var o=n[i];for(var a in o)t[a]=o[a]}return t}var f=1;;=null;r k,M,D,L,R=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),B=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,O=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,F={now:R,frame:getImageData:resolveURL:hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion,U={API_URL:"https://api.mapbox.com",get EVENTS_URLFEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},V={supported:!1,testSupport:,N=!1,j=!1;.document&&((L=a.document.createElement("img")).onload=L.onerror=L.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Z="01",G=function(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()};.prototype._createSkuToken=G.prototype._isSkuTokenExpired=G.prototype.transformRequest=G.prototype.normalizeStyleURL=function(t,e){if(!X(t))return t;var r=J(t);return r.path="/styles/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||e)},G.prototype.normalizeGlyphsURL=G.prototype.normalizeSourceURL=G.prototype.normalizeSpriteURL=G.prototype.normalizeTileURL=G.prototype.canonicalizeTileURL=G.prototype.canonicalizeTileset=G.prototype._makeAPIURL=var W=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;ar H=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/; $=$.prototype.getStorageKey=$.prototype.fetchEventData=$.prototype.saveEventData=$.prototype.processRequests=function(t){},$.prototype.postEvent=$.prototype.queueRequest=var tt,et,rt=$),it=new($)),nt=it.postTurnstileEvent.bind(it),ot=new rt,at=ot.postMapLoadEvent.bind(ot),st=500,lt=50;r pt,ht=1/0;ar dt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(dt);var mt,yt,gt=Error),vt=I()?_t=xt=function(t,e){return _t(h(t,{type:"arrayBuffer"}),e)},bt=function(t,e){return _t(h(t,{method:"POST"}),e)},wt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";=[],yt=0;var Tt=It=Tt),At=function(){};At.prototype.on=function(t,e){return this._listeners=this._listeners||{},St(t,e,this._listeners),this},At.prototype.off=At.prototype.once=At.prototype.fire=At.prototype.listens=At.prototype.setEventedParent=var Ct={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},zt=Lt=Error),Rt=Rt.prototype.concat=function(t){return new Rt(this,t)},Rt.prototype.get=Rt.prototype.has=var Bt={kind:"null"},Ot={kind:"number"},Ft={kind:"string"},Ut={kind:"boolean"},Vt={kind:"color"},Nt={kind:"object"},jt={kind:"value"},qt={kind:"collator"},Zt={kind:"formatted"},Gt={kind:"resolvedImage"};r Kt=[Bt,Ot,Ft,Ut,Vt,Zt,Nt,Xt(jt),Gt]; Qt=e(.parseCSSColor,$t=$t.parse=$t.prototype.toString=$t.prototype.toArray=$t.black=new $t(0,0,0,1),$t.white=new $t(1,1,1,1),$t.transparent=new $t(0,0,0,0),$t.red=new $t(1,0,0,1);var te=te.prototype.compare=function(t,e){return this.collator.compare(t,e)},te.prototype.resolvedLocale=var ee=function(t,e,r,i,n){this.text=t,this.image=e,this.scale=r,this.fontStack=i,this.textColor=n},re=function(t){this.sections=t};re.fromString=re.prototype.isEmpty=re.factory=re.prototype.toString=re.prototype.serialize=var ie=rototype.toString=function(){return this.name},ie.fromString=ie.prototype.serialize=function(){return["image",this.name]};var le=function(t,e){this.type=t,this.value=e};le.parse=le.prototype.evaluate=function(){return this.value},le.prototype.eachChild=function(){},le.prototype.outputDefined=function(){return!0},le.prototype.serialize=var ue=ue.prototype.toJSON=function(){return this.message};var ce={string:Ft,number:Ot,boolean:Ut,object:Nt},pe=function(t,e){this.type=t,this.args=e};pe.parse=pe.prototype.evaluate=pe.prototype.eachChild=function(t){this.args.forEach(t)},pe.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},pe.prototype.serialize=var he=function(t){this.type=Zt,this.sections=t};he.parse=he.prototype.evaluate=he.prototype.eachChild=he.prototype.outputDefined=function(){return!1},he.prototype.serialize=var fe=function(t){this.type=Gt,this.input=t};fe.parse=fe.prototype.evaluate=fe.prototype.eachChild=function(t){t(this.input)},fe.prototype.outputDefined=function(){return!1},fe.prototype.serialize=var de={"to-boolean":Ut,"to-color":Vt,"to-number":Ot,"to-string":Ft},me=function(t,e){this.type=t,this.args=e};me.parse=me.prototype.evaluate=me.prototype.eachChild=function(t){this.args.forEach(t)},me.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},me.prototype.serialize=var ye=["Unknown","Point","LineString","Polygon"],ge=ge.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ge.prototype.geometryType=ge.prototype.geometry=ge.prototype.canonicalID=function(){return this.canonical},ge.prototype.properties=ge.prototype.parseColor=var ve=function(t,e,r,i){this.name=t,this.type=e,this._evaluate=r,this.args=i};ve.prototype.evaluate=ve.prototype.eachChild=function(t){this.args.forEach(t)},ve.prototype.outputDefined=function(){return!1},ve.prototype.serialize=ve.parse=ve.register=var _e=function(t,e,r){this.type=qt,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=e};ion Te(t,e){for(var r=0;r<e.length;r++)if(Ee(t,e[r]))return!0;return!1}_e.prototype.evaluate=_e.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},_e.prototype.outputDefined=function(){return!1},_e.prototype.serialize=var Re=function(t,e){this.type=Ut,this.geojson=t,this.geometries=e};parse=Re.prototype.evaluate=Re.prototype.eachChild=function(){},Re.prototype.outputDefined=function(){return!0},Re.prototype.serialize=function(){return["within",this.geojson]};var Ue=Ue.parse=Ue.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Ue.prototype.eachChild=function(){},Ue.prototype.outputDefined=function(){return!1},Ue.prototype.serialize=var Ve=e.prototype.parse=Ve.prototype._parse=Ve.prototype.concat=Ve.prototype.error=Ve.prototype.checkSubtype=var je=e.parse=je.prototype.evaluate=je.prototype.eachChild=function(t){t(this.input);for(var e=0,r=this.outputs;e<r.length;e+=1)t(r[e])},je.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},je.prototype.serialize=var Ze=Object.freeze({__proto__:null,number:qe,color:array:),Ge=6/29*3*(6/29),Xe=Math.PI/180,We=180/Math.PI;{forward:Qe,reverse:$e,interpolate:function(t,e,r){return{l:qe(t.l,e.l,r),a:qe(t.a,e.a,r),b:qe(t.b,e.b,r),alpha:qe(t.alpha,e.alpha,r)}}},rr={forward:reverse:interpolate:,ir=Object.freeze({__proto__:null,lab:er,hcl:rr}),nr=r.interpolationFactor=nr.parse=nr.prototype.evaluate=nr.prototype.eachChild=nr.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},nr.prototype.serialize=var ar=ar.parse=ar.prototype.evaluate=ar.prototype.eachChild=function(t){this.args.forEach(t)},ar.prototype.outputDefined=ar.prototype.serialize=function(){var t=["coalesce"];return this.eachChild(function(e){t.push(e.serialize())}),t};var sr=sr.prototype.evaluate=function(t){return this.result.evaluate(t)},sr.prototype.eachChild=sr.parse=sr.prototype.outputDefined=function(){return this.result.outputDefined()},sr.prototype.serialize=var lr=function(t,e,r){this.type=t,this.index=e,this.input=r};lr.parse=lr.prototype.evaluate=lr.prototype.eachChild=function(t){t(this.index),t(this.input)},lr.prototype.outputDefined=function(){return!1},lr.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ur=ur.parse=ur.prototype.evaluate=ur.prototype.eachChild=ur.prototype.outputDefined=function(){return!0},ur.prototype.serialize=var cr=cr.parse=cr.prototype.evaluate=cr.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)},cr.prototype.outputDefined=function(){return!1},cr.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var pr=pr.parse=pr.prototype.evaluate=pr.prototype.eachChild=pr.prototype.outputDefined=pr.prototype.serialize=var hr=hr.parse=hr.prototype.evaluate=hr.prototype.eachChild=hr.prototype.outputDefined=hr.prototype.serialize=function(){var t=["case"];return this.eachChild(function(e){t.push(e.serialize())}),t};var fr=parse=fr.prototype.evaluate=fr.prototype.eachChild=fr.prototype.outputDefined=function(){return!1},fr.prototype.serialize=var gr=yr("==",mr),vr=yr("!=",,_r=yr("<",,xr=yr(">",,br=yr("<=",,wr=yr(">=",,Sr=Sr.parse=Sr.prototype.evaluate=Sr.prototype.eachChild=Sr.prototype.outputDefined=function(){return!1},Sr.prototype.serialize=var Er=Er.parse=Er.prototype.evaluate=Er.prototype.eachChild=Er.prototype.outputDefined=function(){return!1},Er.prototype.serialize=var Tr={"==":gr,"!=":vr,">":xr,"<":_r,">=":wr,"<=":br,array:pe,at:lr,boolean:pe,case:hr,coalesce:ar,collator:_e,format:he,image:fe,in:ur,"index-of":cr,interpolate:nr,"interpolate-hcl":nr,"interpolate-lab":nr,length:Er,let:sr,literal:le,match:pr,number:pe,"number-format":Sr,object:pe,slice:fr,step:je,string:pe,"to-boolean":me,"to-color":me,"to-number":me,"to-string":me,var:Ue,within:Re};tion Pr(t){return{result:"success",value:t}}Tr,{error:[{kind:"error"},[Ft],,typeof:[Ft,[jt],,"to-rgba":[Xt(Ot,4),[Vt],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[Vt,[Ot,Ot,Ot],Ir],rgba:[Vt,[Ot,Ot,Ot,Ot],Ir],has:{type:Ut,overloads:[[[Ft],function(t,e){return Ar(e[0].evaluate(t),t.properties())}],[[Ft,Nt],function(t,e){var r=e[1];return Ar(e[0].evaluate(t),r.evaluate(t))}]]},get:{type:jt,overloads:[[[Ft],,[[Ft,Nt],]},"feature-state":[jt,[Ft],,properties:[Nt,[],function(t){return t.properties()}],"geometry-type":[Ft,[],function(t){return t.geometryType()}],id:[jt,[],function(t){return t.id()}],zoom:[Ot,[],,"heatmap-density":[Ot,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Ot,[],,accumulated:[jt,[],,"+":[Ot,zr(Ot),,"*":[Ot,zr(Ot),,"-":{type:Ot,overloads:[[[Ot,Ot],,[[Ot],]},"/":[Ot,[Ot,Ot],,"%":[Ot,[Ot,Ot],,ln2:[Ot,[],function(){return Math.LN2}],pi:[Ot,[],function(){return Math.PI}],e:[Ot,[],function(){return Math.E}],"^":[Ot,[Ot,Ot],,sqrt:[Ot,[Ot],function(t,e){return Math.sqrt(e[0].evaluate(t))}],log10:[Ot,[Ot],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN10}],ln:[Ot,[Ot],function(t,e){return Math.log(e[0].evaluate(t))}],log2:[Ot,[Ot],,sin:[Ot,[Ot],function(t,e){return Math.sin(e[0].evaluate(t))}],cos:[Ot,[Ot],function(t,e){return Math.cos(e[0].evaluate(t))}],tan:[Ot,[Ot],function(t,e){return Math.tan(e[0].evaluate(t))}],asin:[Ot,[Ot],function(t,e){return Math.asin(e[0].evaluate(t))}],acos:[Ot,[Ot],function(t,e){return Math.acos(e[0].evaluate(t))}],atan:[Ot,[Ot],function(t,e){return Math.atan(e[0].evaluate(t))}],min:[Ot,zr(Ot),function(t,e){return Math.min.apply(Math,e.map(function(e){return e.evaluate(t)}))}],max:[Ot,zr(Ot),,abs:[Ot,[Ot],function(t,e){return Math.abs(e[0].evaluate(t))}],round:[Ot,[Ot],,floor:[Ot,[Ot],function(t,e){return Math.floor(e[0].evaluate(t))}],ceil:[Ot,[Ot],,"filter-==":[Ut,[Ft,jt],,"filter-id-==":[Ut,[jt],function(t,e){var r=e[0];return t.id()===r.value}],"filter-type-==":[Ut,[Ft],,"filter-<":[Ut,[Ft,jt],,"filter-id-<":[Ut,[jt],,"filter->":[Ut,[Ft,jt],,"filter-id->":[Ut,[jt],,"filter-<=":[Ut,[Ft,jt],,"filter-id-<=":[Ut,[jt],,"filter->=":[Ut,[Ft,jt],,"filter-id->=":[Ut,[jt],,"filter-has":[Ut,[jt],,"filter-has-id":[Ut,[],,"filter-type-in":[Ut,[Xt(Ft)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[Ut,[Xt(jt)],,"filter-in-small":[Ut,[Ft,Xt(jt)],,"filter-in-large":[Ut,[Ft,Xt(jt)],,all:{type:Ut,overloads:[[[Ut,Ut],,[zr(Ut),]},any:{type:Ut,overloads:[[[Ut,Ut],,[zr(Ut),]},"!":[Ut,[Ut],,"is-supported-script":[Ut,[Ft],,upcase:[Ft,[Ft],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Ft,[Ft],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Ft,zr(jt),,"resolved-locale":[Ft,[qt],});var qr=.prototype.evaluateWithoutErrorHandling=qr.prototype.evaluate=var Xr=Xr.prototype.evaluateWithoutErrorHandling=function(t,e,r,i,n,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r,i,n,o)},Xr.prototype.evaluate=function(t,e,r,i,n,o){return this._styleExpression.evaluate(t,e,r,i,n,o)};var Wr=r.prototype.evaluateWithoutErrorHandling=function(t,e,r,i,n,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r,i,n,o)},Wr.prototype.evaluate=Wr.prototype.interpolationFactor=var Hr=rialize=Hr.serialize=var ii={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};fi(t){return hi(t,"paint")} gi={promoteId:;r xi={"*":function(){return[]},array:Yr,boolean:number:Qr,color:constants:Pt,enum:ei,filter:pi,function:$r,layer:mi,object:Jr,source:vi,light:_i,string:yi,formatted:function(t){return 0===yi(t).length?[]:ti(t)},resolvedImage:;urce=Ti(vi),Si.light=Ti(_i),Si.layer=Ti(mi),Si.filter=Ti(pi),Si.paintProperty=Ti(fi),Si.layoutProperty=Ti(di);var Ii=Si,Ai=Ii.light,Ci=Ii.paintProperty,zi=Ii.layoutProperty;ar ki=Mi;i.prototype.insert=function(t,e,r,i,n){this._forEachCell(e,r,i,n,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(r),this.bboxes.push(i),this.bboxes.push(n)},Mi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Mi.prototype._insertCell=function(t,e,r,i,n,o){this.cells[n].push(o)},Mi.prototype.query=Mi.prototype._queryCell=Mi.prototype._forEachCell=Mi.prototype._convertFromCellCoord=Mi.prototype._convertToCellCoord=Mi.prototype.toArrayBuffer=var Di=a.ImageData,Li=a.ImageBitmap,Ri={};or(var Oi in Bi("Object",Object),ki.serialize=ki.deserialize=Bi("Grid",ki),Bi("Color",$t),Bi("Error",Error),Bi("ResolvedImage",ie),Bi("StylePropertyFunction",Hr),Bi("StyleExpression",qr,{omit:["_evaluator"]}),Bi("ZoomDependentExpression",Wr),Bi("ZoomConstantExpression",Xr),Bi("CompoundExpression",ve,{omit:["_evaluate"]}),Tr)Tr[Oi]._classRegistryKey||Bi("Expression_"+Oi,Tr[Oi]);ji=function(){this.first=!0};ji.prototype.update=var qi={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":;function Zi(t){for(var e=0,r=t;e<r.length;e+=1)if(Gi(r[e].charCodeAt(0)))return!0;return!1}i=null,Yi="unavailable",Qi=null,$i=ar en=new At,rn=function(){return Yi},nn=on={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:isLoading:setState:isParsed:getPluginURL:function(){return Qi}},an=an.prototype.isSupportedScript=an.prototype.crossFadingFactor=an.prototype.getCrossfadeParameters=var sn=sn.prototype.isDataDriven=sn.prototype.possiblyEvaluate=var ln=ln.prototype.transitioned=ln.prototype.untransitioned=var un=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};un.prototype.getValue=un.prototype.setValue=un.prototype.getTransition=function(t){return b(this._values[t].transition)},un.prototype.setTransition=un.prototype.serialize=un.prototype.transitioned=un.prototype.untransitioned=var cn=cn.prototype.possiblyEvaluate=function(t,e,r){var i=t.now||0,n=this.value.possiblyEvaluate(t,e,r),o=this.prior;if(o){if(i>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(i<this.begin)return o.possiblyEvaluate(t,e,r);var a=(i-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(t,e,r),n,))}return n};var pn=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};pn.prototype.possiblyEvaluate=function(t,e,r){for(var i=new dn(this._properties),n=0,o=Object.keys(this._values);n<o.length;n+=1){var a=o[n];i._values[a]=this._values[a].possiblyEvaluate(t,e,r)}return i},pn.prototype.hasTransition=var hn=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};hn.prototype.getValue=hn.prototype.setValue=hn.prototype.serialize=hn.prototype.possiblyEvaluate=var fn=function(t,e,r){this.property=t,this.value=e,this.parameters=r};fn.prototype.isConstant=function(){return"constant"===this.value.kind},fn.prototype.constantOr=fn.prototype.evaluate=var dn=dn.prototype.get=function(t){return this._values[t]};var mn=function(t){this.specification=t};mn.prototype.possiblyEvaluate=mn.prototype.interpolate=var yn=function(t,e){this.specification=t,this.overrides=e};yn.prototype.possiblyEvaluate=yn.prototype.interpolate=yn.prototype.evaluate=var gn=yn),vn=function(t){this.specification=t};vn.prototype.possiblyEvaluate=vn.prototype._calculate=vn.prototype.interpolate=function(t){return t};var _n=function(t){this.specification=t};_n.prototype.possiblyEvaluate=_n.prototype.interpolate=function(){return!1};var xn=Bi("DataDrivenProperty",yn),Bi("DataConstantProperty",mn),Bi("CrossFadedDataDrivenProperty",gn),Bi("CrossFadedProperty",vn),Bi("ColorRampProperty",_n);var bn=At),wn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Sn=En=.serialize=En.deserialize=En.prototype._trim=En.prototype.clear=function(){this.length=0},En.prototype.resize=En.prototype.reserve=En.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var An=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var r=this.length;return this.resize(r+1),this.emplace(r,t,e)},e.prototype.emplace=function(t,e,r){var i=2*t;return this.int16[i+0]=e,this.int16[i+1]=r,t},e}(En);An.prototype.bytesPerElement=4,Bi("StructArrayLayout2i4",An);var Cn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,i){var n=this.length;return this.resize(n+1),this.emplace(n,t,e,r,i)},e.prototype.emplace=function(t,e,r,i,n){var o=4*t;return this.int16[o+0]=e,this.int16[o+1]=r,this.int16[o+2]=i,this.int16[o+3]=n,t},e}(En);Cn.prototype.bytesPerElement=8,Bi("StructArrayLayout4i8",Cn);var zn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,i,n,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,i,n,o)},e.prototype.emplace=function(t,e,r,i,n,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=r,this.int16[s+2]=i,this.int16[s+3]=n,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(En);zn.prototype.bytesPerElement=12,Bi("StructArrayLayout2i4i12",zn);var Pn=En);Pn.prototype.bytesPerElement=8,Bi("StructArrayLayout2i4ub8",Pn);var kn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var r=this.length;return this.resize(r+1),this.emplace(r,t,e)},e.prototype.emplace=function(t,e,r){var i=2*t;return this.float32[i+0]=e,this.float32[i+1]=r,t},e}(En);kn.prototype.bytesPerElement=8,Bi("StructArrayLayout2f8",kn);var Mn=En);Mn.prototype.bytesPerElement=20,Bi("StructArrayLayout10ui20",Mn);var Dn=En);Dn.prototype.bytesPerElement=24,Bi("StructArrayLayout4i4ui4i24",Dn);var Ln=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,r)},e.prototype.emplace=function(t,e,r,i){var n=3*t;return this.float32[n+0]=e,this.float32[n+1]=r,this.float32[n+2]=i,t},e}(En);Ln.prototype.bytesPerElement=12,Bi("StructArrayLayout3f12",Ln);var Rn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint32[1*t+0]=e,t},e}(En);Rn.prototype.bytesPerElement=4,Bi("StructArrayLayout1ul4",Rn);var Bn=En);Bn.prototype.bytesPerElement=20,Bi("StructArrayLayout6i1ul2ui20",Bn);var On=En);On.prototype.bytesPerElement=12,Bi("StructArrayLayout2i2i2i12",On);var Fn=En);Fn.prototype.bytesPerElement=16,Bi("StructArrayLayout2f1f2i16",Fn);var Un=En);Un.prototype.bytesPerElement=12,Bi("StructArrayLayout2ub2f12",Un);var Vn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,r)},e.prototype.emplace=function(t,e,r,i){var n=3*t;return this.uint16[n+0]=e,this.uint16[n+1]=r,this.uint16[n+2]=i,t},e}(En);Vn.prototype.bytesPerElement=6,Bi("StructArrayLayout3ui6",Vn);var Nn=En);Nn.prototype.bytesPerElement=48,Bi("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Nn);var jn=En);jn.prototype.bytesPerElement=68,Bi("StructArrayLayout8i15ui1ul4f68",jn);var qn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.float32[1*t+0]=e,t},e}(En);qn.prototype.bytesPerElement=4,Bi("StructArrayLayout1f4",qn);var Zn=En);Zn.prototype.bytesPerElement=6,Bi("StructArrayLayout3i6",Zn);var Gn=En);Gn.prototype.bytesPerElement=8,Bi("StructArrayLayout1ul2ui8",Gn);var Xn=En);Xn.prototype.bytesPerElement=4,Bi("StructArrayLayout2ui4",Xn);var Wn=En);Wn.prototype.bytesPerElement=2,Bi("StructArrayLayout1ui2",Wn);var Kn=En);Kn.prototype.bytesPerElement=16,Bi("StructArrayLayout4f16",Kn);var Hn=Sn);Hn.prototype.size=20;var Jn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Hn(this,t)},e}(Bn);Bi("CollisionBoxArray",Jn);var Yn=Sn);Yn.prototype.size=48;var Qn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Yn(this,t)},e}(Nn);Bi("PlacedSymbolArray",Qn);var $n=Sn);$n.prototype.size=68;var to=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new $n(this,t)},e}(jn);Bi("SymbolInstanceArray",to);var eo=qn);Bi("GlyphOffsetArray",eo);var ro=Zn);Bi("SymbolLineVertexArray",ro);var io=Sn);io.prototype.size=8;var no=Gn);Bi("FeatureIndexArray",no);var oo=Tn([{name:"a_pos",components:2,type:"Int16"}],4).members,ao=o.prototype.prepareSegment=ao.prototype.get=function(){return this.segments},ao.prototype.destroy=ao.simpleSegment=ao.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Bi("SegmentVector",ao);var lo=Tn([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),uo=e(,co=e(,po=uo,ho=co;po.murmur3=uo,po.murmur2=ho;var fo=fo.prototype.add=fo.prototype.getPositions=fo.serialize=fo.deserialize=var mo=Math.pow(2,53)-1;unction go(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}Bi("FeaturePositionMap",fo);var vo=_o=function(t){function e(e,r){t.call(this,e,r),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},e}(vo),xo=vo),bo=vo),wo=vo),So=vo),Eo=vo),To=new Float32Array(16),Io=vo);ar Co=Co.prototype.setUniform=Co.prototype.getBinding=var zo=zo.prototype.setConstantPatternPositions=zo.prototype.setUniform=zo.prototype.getBinding=var Po=Po.prototype.populatePaintArray=Po.prototype.updatePaintArray=Po.prototype._setPaintValue=Po.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Po.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ko=ko.prototype.populatePaintArray=ko.prototype.updatePaintArray=ko.prototype._setPaintValue=ko.prototype.upload=ko.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ko.prototype.setUniform=ko.prototype.getBinding=var Mo=Mo.prototype.populatePaintArray=Mo.prototype.updatePaintArray=Mo.prototype._setPaintValues=Mo.prototype.upload=Mo.prototype.destroy=var Do=Do.prototype.getMaxValue=Do.prototype.populatePaintArrays=Do.prototype.setConstantPatternPositions=Do.prototype.updatePaintArrays=Do.prototype.defines=Do.prototype.getBinderAttributes=Do.prototype.getBinderUniforms=Do.prototype.getPaintVertexBuffers=function(){return this._buffers},Do.prototype.getUniforms=Do.prototype.setUniforms=Do.prototype.updatePaintBuffers=Do.prototype.upload=Do.prototype.destroy=var Lo=.prototype.populatePaintArrays=Lo.prototype.updatePaintArrays=Lo.prototype.get=function(t){return this.programConfigurations[t]},Lo.prototype.upload=Lo.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},Bi("ConstantBinder",Co),Bi("CrossFadedConstantBinder",zo),Bi("SourceExpressionBinder",Po),Bi("CrossFadedCompositeBinder",Mo),Bi("CompositeExpressionBinder",ko),Bi("ProgramConfiguration",Do,{omit:["_buffers"]}),Bi("ProgramConfigurationSet",Lo);var Oo=Math.pow(2,14)-1,Fo=-Oo-1; jo=opulate=jo.prototype.update=function(t,e,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r)},jo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},jo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},jo.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,oo),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},jo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},jo.prototype.addFeature=Bi("CircleBucket",jo,{omit:["layers"]});var ia=new xn({"circle-sort-key":new yn(Ct.layout_circle["circle-sort-key"])}),na={paint:new xn({"circle-radius":new yn(Ct.paint_circle["circle-radius"]),"circle-color":new yn(Ct.paint_circle["circle-color"]),"circle-blur":new yn(Ct.paint_circle["circle-blur"]),"circle-opacity":new yn(Ct.paint_circle["circle-opacity"]),"circle-translate":new mn(Ct.paint_circle["circle-translate"]),"circle-translate-anchor":new mn(Ct.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new mn(Ct.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new mn(Ct.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new yn(Ct.paint_circle["circle-stroke-width"]),"circle-stroke-color":new yn(Ct.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new yn(Ct.paint_circle["circle-stroke-opacity"])}),layout:ia},oa="undefined"!=typeof Float32Array?Float32Array:Array;th.hypot||(Math.hypot=;var la,ua=sa;a=new oa(3),oa!=Float32Array&&(la[0]=0,la[1]=0,la[2]=0),);var pa=(),function(t){function e(e){t.call(this,e,na)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new jo(t)},e.prototype.queryRadius=e.prototype.queryIntersectsFeature=function(t,e,r,i,n,o,a,s){for(var l=ra(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),u=this.paint.get("circle-radius").evaluate(e,r)+this.paint.get("circle-stroke-width").evaluate(e,r),c="map"===this.paint.get("circle-pitch-alignment"),p=c?l:0,s),h=c?u*a:u,f=0,d=i;f<d.length;f+=1)for(var m=0,y=d[f];m<y.length;m+=1){var g=y[m],v=c?g:ha(g,s),_=h,x=ca([],[g.x,g.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=x[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=o.cameraToCenterDistance/x[3]),Zo(p,v,_))return!0}return!1},e}(bn));ar fa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(jo);"HeatmapBucket",fa,{omit:["layers"]});var ga=function(t,e){da(this,t,1,e)};ga.prototype.resize=function(t){ma(this,t,1)},ga.prototype.clone=function(){return new ga({width:this.width,height:this.height},new Uint8Array(this.data))},ga.copy=function(t,e,r,i,n){ya(t,e,r,i,n,1)};var va=va.prototype.resize=va.prototype.replace=va.prototype.clone=va.copy=Bi("AlphaImage",ga),Bi("RGBAImage",va);var _a={paint:new xn({"heatmap-radius":new yn(Ct.paint_heatmap["heatmap-radius"]),"heatmap-weight":new yn(Ct.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new mn(Ct.paint_heatmap["heatmap-intensity"]),"heatmap-color":new _n(Ct.paint_heatmap["heatmap-color"]),"heatmap-opacity":new mn(Ct.paint_heatmap["heatmap-opacity"])})};ar ba=bn),wa={paint:new xn({"hillshade-illumination-direction":new mn(Ct.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new mn(Ct.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new mn(Ct.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new mn(Ct.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new mn(Ct.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new mn(Ct.paint_hillshade["hillshade-accent-color"])})},Sa=bn),Ea=Tn([{name:"a_pos",components:2,type:"Int16"}],4).members,Ta=Aa,Ia=Aa; Ra(t,e){return t.x-e.x}{var i=t[e];t[e]=t[r],t[r]=i}function es(t,e){return t<e?-1:t>e?1:0}eviation=Aa.flatten=Ta.default=Ia;var as=as.prototype.populate=as.prototype.update=function(t,e,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r)},as.prototype.addFeatures=function(t,e,r){for(var i=0,n=this.patternFeatures;i<n.length;i+=1){var o=n[i];this.addFeature(o,o.geometry,o.index,e,r)}},as.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},as.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},as.prototype.upload=as.prototype.destroy=as.prototype.addFeature=Bi("FillBucket",as,{omit:["layers","patternFeatures"]});var ss=new xn({"fill-sort-key":new yn(Ct.layout_fill["fill-sort-key"])}),ls={paint:new xn({"fill-antialias":new mn(Ct.paint_fill["fill-antialias"]),"fill-opacity":new yn(Ct.paint_fill["fill-opacity"]),"fill-color":new yn(Ct.paint_fill["fill-color"]),"fill-outline-color":new yn(Ct.paint_fill["fill-outline-color"]),"fill-translate":new mn(Ct.paint_fill["fill-translate"]),"fill-translate-anchor":new mn(Ct.paint_fill["fill-translate-anchor"]),"fill-pattern":new gn(Ct.paint_fill["fill-pattern"])}),layout:ss},us=bn),cs=Tn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,ps=hs;types=["Unknown","Point","LineString","Polygon"],hs.prototype.loadGeometry=hs.prototype.bbox=hs.prototype.toGeoJSON=var ms=ys;prototype.feature=var _s={VectorTile:VectorTileFeature:ps,VectorTileLayer:ms},xs=_s.VectorTileFeature.types,bs=Math.pow(2,13);ar Ss=s.prototype.populate=Ss.prototype.addFeatures=function(t,e,r){for(var i=0,n=this.features;i<n.length;i+=1){var o=n[i];this.addFeature(o,o.geometry,o.index,e,r)}},Ss.prototype.update=function(t,e,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r)},Ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ss.prototype.upload=Ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ss.prototype.addFeature=Bi("FillExtrusionBucket",Ss,{omit:["layers","features"]});var Ts={paint:new xn({"fill-extrusion-opacity":new mn(Ct["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new yn(Ct["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new mn(Ct["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new mn(Ct["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new gn(Ct["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new yn(Ct["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new yn(Ct["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new mn(Ct["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Is=bn);r zs=Tn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Ps=Tn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,ks=_s.VectorTileFeature.types,Ms=Math.cos(Math.PI/180*37.5),Ds=Math.pow(2,14)/.5,Ls=Ls.prototype.populate=Ls.prototype.update=Ls.prototype.addFeatures=Ls.prototype.isEmpty=Ls.prototype.uploadPending=Ls.prototype.upload=Ls.prototype.destroy=Ls.prototype.lineFeatureClips=Ls.prototype.addFeature=Ls.prototype.addLine=Ls.prototype.addCurrentVertex=Ls.prototype.addHalfVertex=Ls.prototype.updateScaledDistance=Ls.prototype.updateDistance=Bi("LineBucket",Ls,{omit:["layers","patternFeatures"]});var Rs=new xn({"line-cap":new mn(Ct.layout_line["line-cap"]),"line-join":new yn(Ct.layout_line["line-join"]),"line-miter-limit":new mn(Ct.layout_line["line-miter-limit"]),"line-round-limit":new mn(Ct.layout_line["line-round-limit"]),"line-sort-key":new yn(Ct.layout_line["line-sort-key"])}),Bs={paint:new xn({"line-opacity":new yn(Ct.paint_line["line-opacity"]),"line-color":new yn(Ct.paint_line["line-color"]),"line-translate":new mn(Ct.paint_line["line-translate"]),"line-translate-anchor":new mn(Ct.paint_line["line-translate-anchor"]),"line-width":new yn(Ct.paint_line["line-width"]),"line-gap-width":new yn(Ct.paint_line["line-gap-width"]),"line-offset":new yn(Ct.paint_line["line-offset"]),"line-blur":new yn(Ct.paint_line["line-blur"]),"line-dasharray":new vn(Ct.paint_line["line-dasharray"]),"line-pattern":new gn(Ct.paint_line["line-pattern"]),"line-gradient":new _n(Ct.paint_line["line-gradient"])}),layout:Rs},Os=new(yn))(Bs.paint.properties["line-width"].specification);Os.useIntegerZoom=!0;var Fs=bn);ar Vs=Tn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Ns=Tn([{name:"a_projected_pos",components:3,type:"Float32"}],4),js=(Tn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Tn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),qs=(Tn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Tn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Zs=Tn([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);n([{name:"triangle",components:3,type:"Uint16"}]),Tn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Tn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Tn([{type:"Float32",name:"offsetX"}]),Tn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Xs={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Ws=Ks=Hs=Js;s.Varint=0,Js.Fixed64=1,Js.Bytes=2,Js.Fixed32=5;var Ys="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");ction el(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r])}function rl(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r])}function il(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r])}function nl(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r])}function ol(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r])}function al(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r])}function sl(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r])}function ll(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r])}type={destroy:readFields:readMessage:readFixed32:function(){var t=cl(this.buf,this.pos);return this.pos+=4,t},readSFixed32:readFixed64:function(){var t=cl(this.buf,this.pos)+4294967296*cl(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:readFloat:function(){var t=Ws(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:readVarint:readVarint64:readSVarint:readBoolean:readString:readBytes:readPackedVarint:readPackedSVarint:function(t){if(this.type!==Js.Bytes)return t.push(this.readSVarint());var e=Qs(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Js.Bytes)return t.push(this.readBoolean());var e=Qs(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Js.Bytes)return t.push(this.readFloat());var e=Qs(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Js.Bytes)return t.push(this.readDouble());var e=Qs(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Js.Bytes)return t.push(this.readFixed32());var e=Qs(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Js.Bytes)return t.push(this.readSFixed32());var e=Qs(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Js.Bytes)return t.push(this.readFixed64());var e=Qs(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:skip:writeTag:realloc:finish:writeFixed32:function(t){this.realloc(4),pl(this.buf,t,this.pos),this.pos+=4},writeSFixed32:writeFixed64:function(t){this.realloc(8),pl(this.buf,-1&t,this.pos),pl(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:writeVarint:writeSVarint:writeBoolean:writeString:writeFloat:function(t){this.realloc(4),Ks(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:writeBytes:writeRawMessage:writeMessage:writePackedVarint:function(t,e){e.length&&this.writeMessage(t,el,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,rl,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,ol,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,il,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,nl,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,al,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,sl,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,ll,e)},writePackedSFixed64:writeBytesField:function(t,e){this.writeTag(t,Js.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Js.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Js.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Js.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Js.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Js.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Js.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Js.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Js.Fixed32),this.writeFloat(e)},writeDoubleField:writeBooleanField:;var gl=vl={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};vl.tl.get=vl.br.get=vl.tlbr.get=vl.displaySize.get=Object.defineProperties(gl.prototype,vl);var _l=_l.prototype.addImages=_l.prototype.patchUpdatedImages=_l.prototype.patchUpdatedImage=Bi("ImagePosition",gl),Bi("ImageAtlas",_l);var xl={horizontal:1,vertical:2,horizontalOnly:3},bl=bl.forText=bl.forImage=var wl=function Sl(t,e,r,i,n,o,a,s,l,u,c,p,h,f,d,m){var y,g=wl.fromFeature(t,n);p===xl.vertical&&g.verticalizePunctuation();var v=on.processBidirectionalText,_=on.processStyledBidirectionalText;if(v&&1===g.sections.length){y=[];for(var x=0,b=v(g.toString(),Pl(g,u,o,e,i,f,d));x<b.length;x+=1){var w=b[x],S=new wl;S.text=w,S.sections=g.sections;for(var E=0;E<w.length;E++)S.sectionIndex.push(0);y.push(S)}}else if(_){y=[];for(var T=0,I=_(g.text,g.sectionIndex,Pl(g,u,o,e,i,f,d));T<I.length;T+=1){var A=I[T],C=new wl;C.text=A[0],C.sectionIndex=A[1],C.sections=g.sections,y.push(C)}}else y=g,Pl(g,u,o,e,i,f,d));var z=[],P={positionedLines:z,text:g.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:p,iconsInText:!1,verticalizable:!1};return P,e,r,i,y,a,s,l,p,u,h,m),!)&&P}wl.fromFeature=wl.prototype.length=function(){return this.text.length},wl.prototype.getSection=wl.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},wl.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},wl.prototype.verticalizePunctuation=wl.prototype.trim=wl.prototype.substring=wl.prototype.toString=function(){return this.text},wl.prototype.getMaxScale=wl.prototype.addTextSection=wl.prototype.addImageSection=wl.prototype.getNextImageSectionCharCode=var El={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Tl={};0,Tl[32]=!0,Tl[38]=!0,Tl[40]=!0,Tl[41]=!0,Tl[43]=!0,Tl[45]=!0,Tl[47]=!0,Tl[173]=!0,Tl[183]=!0,Tl[8203]=!0,Tl[8208]=!0,Tl[8211]=!0,Tl[8231]=!0;var Ll=n);"Anchor",Ll);var Fl=Object.freeze({__proto__:null,getSizeData:Rl,evaluateSizeForFeature:Bl,evaluateSizeForZoom:Ol,SIZE_PACK_FACTOR:128});nction $l(t,e){return t<e?-1:t>e?1:0}unction eu(t,e){return e.max-t.max}l.prototype.push=Ql.prototype.pop=Ql.prototype.peek=Ql.prototype._up=Ql.prototype._down=var iu=Number.POSITIVE_INFINITY;u=_s.VectorTileFeature.types,cu=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}]; du=du.prototype.isEmpty=du.prototype.upload=du.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Bi("SymbolBuffers",du);var mu=mu.prototype.upload=mu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Bi("CollisionBuffers",mu);var yu=yu.prototype.createArrays=yu.prototype.calculateGlyphDependencies=yu.prototype.populate=yu.prototype.update=yu.prototype.isEmpty=yu.prototype.uploadPending=yu.prototype.upload=yu.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},yu.prototype.destroy=yu.prototype.addToLineVertexArray=yu.prototype.addSymbols=yu.prototype._addCollisionDebugVertex=yu.prototype.addCollisionDebugVertices=yu.prototype.addDebugCollisionBoxes=yu.prototype.generateCollisionDebugBuffers=yu.prototype._deserializeCollisionBoxesForSymbol=yu.prototype.deserializeCollisionBoxes=yu.prototype.hasTextData=function(){return this.text.segments.get().length>0},yu.prototype.hasIconData=yu.prototype.hasDebugData=yu.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},yu.prototype.hasIconCollisionBoxData=yu.prototype.addIndicesForPlacedSymbol=yu.prototype.getSortedSymbolIndexes=yu.prototype.addToSortKeyRanges=yu.prototype.sortFeatures=Bi("SymbolBucket",yu,{omit:["layers","collisionBoxArray","features","compareText"]}),yu.MAX_GLYPHS=65535,yu.addDynamicAttributes=hu;var gu=new xn({"symbol-placement":new mn(Ct.layout_symbol["symbol-placement"]),"symbol-spacing":new mn(Ct.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new mn(Ct.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new yn(Ct.layout_symbol["symbol-sort-key"]),"symbol-z-order":new mn(Ct.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new mn(Ct.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new mn(Ct.layout_symbol["icon-ignore-placement"]),"icon-optional":new mn(Ct.layout_symbol["icon-optional"]),"icon-rotation-alignment":new mn(Ct.layout_symbol["icon-rotation-alignment"]),"icon-size":new yn(Ct.layout_symbol["icon-size"]),"icon-text-fit":new mn(Ct.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new mn(Ct.layout_symbol["icon-text-fit-padding"]),"icon-image":new yn(Ct.layout_symbol["icon-image"]),"icon-rotate":new yn(Ct.layout_symbol["icon-rotate"]),"icon-padding":new mn(Ct.layout_symbol["icon-padding"]),"icon-keep-upright":new mn(Ct.layout_symbol["icon-keep-upright"]),"icon-offset":new yn(Ct.layout_symbol["icon-offset"]),"icon-anchor":new yn(Ct.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new mn(Ct.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new mn(Ct.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new mn(Ct.layout_symbol["text-rotation-alignment"]),"text-field":new yn(Ct.layout_symbol["text-field"]),"text-font":new yn(Ct.layout_symbol["text-font"]),"text-size":new yn(Ct.layout_symbol["text-size"]),"text-max-width":new yn(Ct.layout_symbol["text-max-width"]),"text-line-height":new mn(Ct.layout_symbol["text-line-height"]),"text-letter-spacing":new yn(Ct.layout_symbol["text-letter-spacing"]),"text-justify":new yn(Ct.layout_symbol["text-justify"]),"text-radial-offset":new yn(Ct.layout_symbol["text-radial-offset"]),"text-variable-anchor":new mn(Ct.layout_symbol["text-variable-anchor"]),"text-anchor":new yn(Ct.layout_symbol["text-anchor"]),"text-max-angle":new mn(Ct.layout_symbol["text-max-angle"]),"text-writing-mode":new mn(Ct.layout_symbol["text-writing-mode"]),"text-rotate":new yn(Ct.layout_symbol["text-rotate"]),"text-padding":new mn(Ct.layout_symbol["text-padding"]),"text-keep-upright":new mn(Ct.layout_symbol["text-keep-upright"]),"text-transform":new yn(Ct.layout_symbol["text-transform"]),"text-offset":new yn(Ct.layout_symbol["text-offset"]),"text-allow-overlap":new mn(Ct.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new mn(Ct.layout_symbol["text-ignore-placement"]),"text-optional":new mn(Ct.layout_symbol["text-optional"])}),vu={paint:new xn({"icon-opacity":new yn(Ct.paint_symbol["icon-opacity"]),"icon-color":new yn(Ct.paint_symbol["icon-color"]),"icon-halo-color":new yn(Ct.paint_symbol["icon-halo-color"]),"icon-halo-width":new yn(Ct.paint_symbol["icon-halo-width"]),"icon-halo-blur":new yn(Ct.paint_symbol["icon-halo-blur"]),"icon-translate":new mn(Ct.paint_symbol["icon-translate"]),"icon-translate-anchor":new mn(Ct.paint_symbol["icon-translate-anchor"]),"text-opacity":new yn(Ct.paint_symbol["text-opacity"]),"text-color":new yn(Ct.paint_symbol["text-color"],{runtimeType:Vt,getOverride:function(t){return t.textColor},hasOverride:),"text-halo-color":new yn(Ct.paint_symbol["text-halo-color"]),"text-halo-width":new yn(Ct.paint_symbol["text-halo-width"]),"text-halo-blur":new yn(Ct.paint_symbol["text-halo-blur"]),"text-translate":new mn(Ct.paint_symbol["text-translate"]),"text-translate-anchor":new mn(Ct.paint_symbol["text-translate-anchor"])}),layout:gu},_u=_u.prototype.evaluate=_u.prototype.eachChild=_u.prototype.outputDefined=function(){return!1},_u.prototype.serialize=function(){return null},Bi("FormatSectionOverride",_u,{omit:["defaultValue"]});var xu=function(t){function e(e){t.call(this,e,vu)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=e.prototype.getValueAndResolveTokens=function(t,e,r,i){var n=this.layout.get(t).evaluate(e,{},r,i),o=this._unevaluatedLayout._values[t];return o.isDataDriven()||Zr(o.value)||!n?n:e.properties)},e.prototype.createBucket=function(t){return new yu(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=e.prototype._handleOverridablePaintPropertyUpdate=e.hasPaintOverride=function(t,e){var r=t.get("text-field"),i=vu.paint.properties[e],n=!1,o=if("constant"===r.value.kind&&r.value.value instanceof re)o(r.value.value.sections);else if("source"===r.value.kind){var a=r.value;a._styleExpression&&function t(e){n||(e instanceof le&&ae(e.value)===Zt?o(e.value.sections):e instanceof he?o(e.sections):e.eachChild(t))}(a._styleExpression.expression)}return n},e}(bn),bu={paint:new xn({"background-color":new mn(Ct.paint_background["background-color"]),"background-pattern":new vn(Ct.paint_background["background-pattern"]),"background-opacity":new mn(Ct.paint_background["background-opacity"])})},wu=function(t){function e(e){t.call(this,e,bu)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(bn),Su={paint:new xn({"raster-opacity":new mn(Ct.paint_raster["raster-opacity"]),"raster-hue-rotate":new mn(Ct.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new mn(Ct.paint_raster["raster-brightness-min"]),"raster-brightness-max":new mn(Ct.paint_raster["raster-brightness-max"]),"raster-saturation":new mn(Ct.paint_raster["raster-saturation"]),"raster-contrast":new mn(Ct.paint_raster["raster-contrast"]),"raster-resampling":new mn(Ct.paint_raster["raster-resampling"]),"raster-fade-duration":new mn(Ct.paint_raster["raster-fade-duration"])})},Eu=bn),Tu=bn),Iu={circle:pa,heatmap:ba,hillshade:Sa,fill:us,"fill-extrusion":Is,line:Fs,symbol:xu,background:wu,raster:Eu},Au=a.HTMLImageElement,Cu=a.HTMLCanvasElement,zu=a.HTMLVideoElement,Pu=a.ImageData,ku=a.ImageBitmap,Mu=Mu.prototype.update=Mu.prototype.bind=Mu.prototype.isSizePowerOfTwo=Mu.prototype.destroy=var Du=Du.prototype.trigger=Du.prototype.remove=var Lu=u.prototype.send=Lu.prototype.receive=Lu.prototype.process=Lu.prototype.processTask=Lu.prototype.remove=var Bu=Bu.prototype.setNorthEast=function(t){return this._ne=t instanceof Ou?new Ou(t.lng,t.lat):Ou.convert(t),this},Bu.prototype.setSouthWest=Bu.prototype.extend=Bu.prototype.getCenter=Bu.prototype.getSouthWest=function(){return this._sw},Bu.prototype.getNorthEast=function(){return this._ne},Bu.prototype.getNorthWest=function(){return new Ou(this.getWest(),this.getNorth())},Bu.prototype.getSouthEast=Bu.prototype.getWest=function(){return this._sw.lng},Bu.prototype.getSouth=function(){return this._sw.lat},Bu.prototype.getEast=function(){return this._ne.lng},Bu.prototype.getNorth=function(){return this._ne.lat},Bu.prototype.toArray=Bu.prototype.toString=Bu.prototype.isEmpty=Bu.prototype.contains=Bu.convert=var Ou=Ou.prototype.wrap=Ou.prototype.toArray=Ou.prototype.toString=Ou.prototype.distanceTo=Ou.prototype.toBounds=Ou.convert=var Fu=2*Math.PI*6371008.8;u=Zu.fromLngLat=Zu.prototype.toLngLat=Zu.prototype.toAltitude=Zu.prototype.meterInMercatorCoordinateUnits=var Gu=Gu.prototype.equals=Gu.prototype.url=Gu.prototype.getTilePoint=Gu.prototype.toString=var Xu=Wu=u.prototype.equals=Wu.prototype.scaledTo=Wu.prototype.calculateScaledKey=Wu.prototype.isChildOf=Wu.prototype.children=Wu.prototype.isLessThan=Wu.prototype.wrapped=Wu.prototype.unwrapTo=Wu.prototype.overscaleFactor=Wu.prototype.toUnwrapped=Wu.prototype.toString=Wu.prototype.getTilePoint=Bi("CanonicalTileID",Gu),Bi("OverscaledTileID",Wu,{omit:["posMatrix"]});var Hu=Hu.prototype.get=Hu.prototype.getUnpackVector=Hu.prototype._idx=Hu.prototype._unpackMapbox=Hu.prototype._unpackTerrarium=Hu.prototype.getPixels=Hu.prototype.backfillBorder=Bi("DEMData",Hu);var Ju=Ju.prototype.encode=function(t){return this._stringToNumber[t]},Ju.prototype.decode=function(t){return this._numberToString[t]};var Yu=Qu={geometry:{configurable:!0}};Qu.geometry.get=Qu.geometry.set=function(t){this._geometry=t},Yu.prototype.toJSON=Object.defineProperties(Yu.prototype,Qu);var $u=$u.prototype.updateState=$u.prototype.removeFeatureState=$u.prototype.getState=$u.prototype.initializeTileState=$u.prototype.coalesceChanges=var tc=prototype.insert=tc.prototype.loadVTLayers=tc.prototype.query=tc.prototype.loadMatchingFeature=tc.prototype.lookupSymbolFeatures=tc.prototype.hasLayer=tc.prototype.getId=Bi("FeatureIndex",tc,{omit:["rawTileData","sourceLayerCoder"]});var nc=nc.prototype.registerFadeDuration=nc.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},nc.prototype.loadVectorData=nc.prototype.unloadVectorData=nc.prototype.getBucket=nc.prototype.upload=nc.prototype.prepare=nc.prototype.queryRenderedFeatures=nc.prototype.querySourceFeatures=nc.prototype.hasData=nc.prototype.patternsLoaded=nc.prototype.setExpiryData=nc.prototype.getExpiryTimeout=nc.prototype.setFeatureState=nc.prototype.holdingForFade=nc.prototype.symbolFadeFinished=nc.prototype.clearFadeHold=nc.prototype.setHoldDuration=nc.prototype.setDependencies=nc.prototype.hasDependency=var oc=a.performance,ac=ac.prototype.finish=t.Actor=Lu,t.AlphaImage=ga,t.CanonicalTileID=Gu,t.CollisionBoxArray=Jn,t.Color=$t,t.DEMData=Hu,t.DataConstantProperty=mn,t.DictionaryCoder=Ju,t.EXTENT=8192,t.ErrorEvent=It,t.EvaluationParameters=an,t.Event=Tt,t.Evented=At,t.FeatureIndex=tc,t.FillBucket=as,t.FillExtrusionBucket=Ss,t.ImageAtlas=_l,t.ImagePosition=gl,t.LineBucket=Ls,t.LngLat=Ou,t.LngLatBounds=Bu,t.MercatorCoordinate=Zu,t.ONE_EM=24,t.OverscaledTileID=Wu,t.Point=n,t.Point$1=n,t.Properties=xn,t.Protobuf=Hs,t.RGBAImage=va,t.RequestManager=G,t.RequestPerformance=ac,t.ResourceType=dt,t.SegmentVector=ao,t.SourceFeatureState=$u,t.StructArrayLayout1ui2=Wn,t.StructArrayLayout2f1f2i16=Fn,t.StructArrayLayout2i4=An,t.StructArrayLayout3ui6=Vn,t.StructArrayLayout4i8=Cn,t.SymbolBucket=yu,t.Texture=Mu,t.Tile=nc,t.Transitionable=un,t.Uniform1f=xo,t.Uniform1i=_o,t.Uniform2f=bo,t.Uniform3f=wo,t.Uniform4f=So,t.UniformColor=Eo,t.UniformMatrix4f=Io,t.UnwrappedTileID=Xu,t.ValidationError=zt,t.WritingMode=xl,t.ZoomHistory=ji,t.add=t.addDynamicAttributes=hu,t.asyncAll=t.bezier=l,t.bindAll=g,t.browser=F,t.cacheEntryPossiblyAdded=t.clamp=c,t.clearTileCache=t.clipLine=Gl,t.clone=t.clone$1=b,t.clone$2=t.collisionCircleLayout=Zs,t.config=U,t.create=t.create$1=t.create$2=t.createCommonjsModule=e,t.createExpression=Gr,t.createLayout=Tn,t.createStyleLayer=t.cross=t.deepEqual=t.dot=t.dot$1=t.ease=u,t.emitValidationErrors=Pi,t.endsWith=v,t.enforceCacheSizeLimit=t.evaluateSizeForFeature=Bl,t.evaluateSizeForZoom=Ol,t.evaluateVariableOffset=nu,t.evented=en,t.extend=h,t.featureFilter=ni,t.filterObject=x,t.fromRotation=t.getAnchorAlignment=kl,t.getAnchorJustification=ou,t.getArrayBuffer=xt,t.getImage=function t(e,r){if(V.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),yt>=U.MAX_PARALLEL_IMAGE_REQUESTS){var i={requestParameters:e,callback:r,cancelled:!1,cancel:function(){this.cancelled=!0}};return mt.push(i),i}yt++;var n=!1,o=s=xt(e,;return{cancel:function(){s.cancel(),o()}}},t.getJSON=t.getRTLTextPluginStatus=rn,t.getReferrer=vt,t.getVideo=t.identity=aa,t.invert=t.isChar=qi,t.isMapboxURL=X,t.keysDifference=t.makeRequest=_t,t.mapObject=_,t.mercatorXfromLng=Vu,t.mercatorYfromLat=Nu,t.mercatorZfromAltitude=ju,t.mul=ua,t.multiply=sa,t.mvt=_s,t.nextPowerOfTwo=t.normalize=t.number=qe,t.offscreenCanvasSupported=ft,t.ortho=t.parseGlyphPBF=t.pbf=Hs,t.performSymbolLayout=function(t,e,r,i,n,o,a){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,l=t.layers[0]._unevaluatedLayout._values,u={};if("composite"===t.textSizeData.kind){var c=t.textSizeData,p=c.maxZoom;u.compositeTextSizes=[l["text-size"].possiblyEvaluate(new an(c.minZoom),a),l["text-size"].possiblyEvaluate(new an(p),a)]}if("composite"===t.iconSizeData.kind){var h=t.iconSizeData,f=h.maxZoom;u.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new an(h.minZoom),a),l["icon-size"].possiblyEvaluate(new an(f),a)]}u.layoutTextSize=l["text-size"].possiblyEvaluate(new an(t.zoom+1),a),u.layoutIconSize=l["icon-size"].possiblyEvaluate(new an(t.zoom+1),a),u.textMaxSize=l["text-size"].possiblyEvaluate(new an(18));for(var d=24*s.get("text-line-height"),m="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),y=s.get("text-keep-upright"),g=s.get("text-size"),v=function(){var o=x[_],l=s.get("text-font").evaluate(o,{},a).join(","),c=g.evaluate(o,{},a),p=u.layoutTextSize.evaluate(o,{},a),h=u.layoutIconSize.evaluate(o,{},a),f={horizontal:{},vertical:void 0},v=o.text,b=[0,0];if(v){var w=v.toString(),E=24*s.get("text-letter-spacing").evaluate(o,{},a),T=)?E:0,I=s.get("text-anchor").evaluate(o,{},a),A=s.get("text-variable-anchor");if(!A){var C=s.get("text-radial-offset").evaluate(o,{},a);b=C?nu(I,[24*C,iu]):s.get("text-offset").evaluate(o,{},a).map(function(t){return 24*t})}var z=m?"center":s.get("text-justify").evaluate(o,{},a),P=s.get("symbol-placement"),k="point"===P?24*s.get("text-max-width").evaluate(o,{},a):0,M=if(!m&&A){for(var D="auto"===z?A.map(function(t){return ou(t)}):[z],L=!1,R=0;R<D.length;R++){var B=D[R];if(!f.horizontal[B])if(L)f.horizontal[B]=f.horizontal[0];else{var O=Sl(v,e,r,n,l,k,d,"center",B,T,b,xl.horizontal,!1,P,p,c);O&&(f.horizontal[B]=O,L=1===O.positionedLines.length)}}M()}else{"auto"===z&&(z=ou(I));var F=Sl(v,e,r,n,l,k,d,I,z,T,b,xl.horizontal,!1,P,p,c);F&&(f.horizontal[z]=F),M(),Zi(w)&&m&&y&&(f.vertical=Sl(v,e,r,n,l,k,d,I,z,T,b,xl.vertical,!1,P,p,c))}}var U=void 0,V=!1;if(o.icon&&o.icon.name){var N=i[o.icon.name];N&&(U=n[o.icon.name],s.get("icon-offset").evaluate(o,{},a),s.get("icon-anchor").evaluate(o,{},a)),V=N.sdf,void 0===t.sdfIcons?t.sdfIcons=N.sdf:t.sdfIcons!==N.sdf&&S("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(N.pixelRatio!==t.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}var j=su(f.horizontal)||f.vertical;t.iconsInText=!!j&&j.iconsInText,(j||U)&&t,o,f,U,i,u,p,h,b,V,a)},_=0,x=t.features;_<x.length;_+=1)v();o&&t.generateCollisionDebugBuffers()},t.perspective=t.pick=t.plugin=on,t.polygonIntersectsPolygon=qo,t.postMapLoadEvent=at,t.postTurnstileEvent=nt,t.potpack=yl,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.register=Bi,t.registerForPluginStateChange=t.renderColorRamp=xa,t.rotate=t.rotateX=function(t,e,r){var i=Math.sin(r),n=Math.cos(r),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],p=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*n+u*i,t[5]=a*n+c*i,t[6]=s*n+p*i,t[7]=l*n+h*i,t[8]=u*n-o*i,t[9]=c*n-a*i,t[10]=p*n-s*i,t[11]=h*n-l*i,t},t.rotateZ=t.scale=t.scale$1=t.scale$2=t.setCacheLimits=t.setRTLTextPlugin=t.sphericalToCartesian=t.sqrLen=t.styleSpec=Ct,t.sub=t.symbolSize=Fl,t.transformMat3=t.transformMat4=ca,t.translate=t.triggerPluginCompletionEvent=$i,t.uniqueId=d,t.validateCustomStyleLayer=t.validateLight=Ai,t.validateStyle=Ii,t.values=t.vectorTile=_s,t.version="1.14.0",t.warnOnce=S,t.webpSupported=V,t.window=a,t.wrap=p}),i(0,function(t){r i=i.prototype.replace=i.prototype.update=var n=t.register("GlyphAtlas",n);var o=prototype.parse=var l=l.prototype.loadTile=l.prototype.reloadTile=l.prototype.abortTile=l.prototype.removeTile=var u=t.window.ImageBitmap,c=function(){this.loaded={}};prototype.loadTile=c.prototype.getImageData=c.prototype.removeTile=var f=t.vectorTile.VectorTileFeature.prototype.toGeoJSON,d=d.prototype.loadGeometry=d.prototype.toGeoJSON=var m=m.prototype.feature=var y=t.vectorTile.VectorTileFeature,g=v;prototype.feature=_.prototype.loadGeometry=_.prototype.bbox=_.prototype.toGeoJSON=y.prototype.toGeoJSON;var x=w,b=g;rTileJs=w,x.fromGeojsonVt=x.GeoJSONWrapper=b;var D=function(t){return t[0]},L=function(t){return t[1]},R=R.prototype.range=R.prototype.within=var B={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(t){return t}},O=tion j(t){return t/360+.5}function q(t){var e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}unction G(t){return t.x}.getClusters=O.prototype.getChildren=O.prototype.getLeaves=O.prototype.getTile=O.prototype.getClusterExpansionZoom=O.prototype._appendLeaves=O.prototype._addTileFeatures=O.prototype._limitZoom=O.prototype._cluster=O.prototype._getOriginId=O.prototype._getOriginZoom=O.prototype._map=gt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},gt.prototype.splitTile=gt.prototype.getTile=var xt=function(e){eturn e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.loadData=r.prototype._loadData=function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var r=this._pendingCallback,i=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var n=!!(i&&i.request&&i.request.collectResourceTiming)&&new t.RequestPerformance(i.request);this.loadGeoJSON(i,function(o,a){if(o||!a)return r(o);if("object"!=typeof a)return r(new Error("Input data given to '"+i.source+"' is not a valid GeoJSON object."));!a,!0);try{if(i.filter){var s=t.createExpression(i.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map(function(t){return t.key+": "+t.message}).join(", "));var l=a.features.filter(;a={type:"FeatureCollection",features:l}}e._geoJSONIndex=i.cluster?new O(i)).load(a.features):new gt(a,i.geojsonVtOptions)}catch(o){return r(o)}e.loaded={};var u={};if(n){var c=n.finish();c&&(u.resourceTiming={},u.resourceTiming[i.source]=JSON.parse(JSON.stringify(c)))}r(null,u)})}},r.prototype.coalesce=r.prototype.reloadTile=r.prototype.loadGeoJSON=r.prototype.removeSource=r.prototype.getClusterExpansionZoom=function(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}},r.prototype.getClusterChildren=r.prototype.getClusterLeaves=r}(l),bt=return bt.prototype.setReferrer=bt.prototype.setImages=bt.prototype.setLayers=bt.prototype.updateLayers=bt.prototype.loadTile=function(t,e,r){this.getWorkerSource(t,e.type,e.source).loadTile(e,r)},bt.prototype.loadDEMTile=bt.prototype.reloadTile=function(t,e,r){this.getWorkerSource(t,e.type,e.source).reloadTile(e,r)},bt.prototype.abortTile=function(t,e,r){this.getWorkerSource(t,e.type,e.source).abortTile(e,r)},bt.prototype.removeTile=bt.prototype.removeDEMTile=bt.prototype.removeSource=bt.prototype.loadWorkerSource=bt.prototype.syncRTLPluginState=bt.prototype.getAvailableImages=bt.prototype.getLayerIndex=bt.prototype.getWorkerSource=bt.prototype.getDEMWorkerSource=bt.prototype.enforceCacheSizeLimit="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new bt(self)),bt}),i(0,function(t){var e=t.createCommonjsModule(,r={create:createNS:,i=t.window.document&&t.window.document.documentElement.style;ar o,a=n(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);r.disableDrag=r.enableDrag=var s=n(["transform","WebkitTransform"]);r.setTransform=var l=!1;try{var u=Object.defineProperty({},"passive",{get:);t.window.addEventListener("test",u,u),t.window.removeEventListener("test",u,u)}catch(t){l=!1}r.addEventListener=function(t,e,r,i){void 0===i&&(i={}),t.addEventListener(e,r,"passive"in i&&l?i:i.capture)},r.removeEventListener=var c=function e(r){r.preventDefault(),r.stopPropagation(),t.window.removeEventListener("click",e,!0)};.suppressClick=r.mousePos=r.touchPos=r.mouseButton=r.remove=var h=t.Evented),f=y,d=y,m=1e20;rototype.draw=f.default=d;var _=_.prototype.setURL=_.prototype.getGlyphs=_.prototype._doesCharSupportLocalGlyph=_.prototype._tinySDF=_.loadGlyphRange=_.TinySDF=f;var x=x.prototype.possiblyEvaluate=x.prototype.interpolate=var b=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new x,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),w=t.Evented),S=S.prototype.getDash=S.prototype.getDashRanges=S.prototype.addRoundDash=S.prototype.addRegularDash=S.prototype.addDash=S.prototype.bind=var E=.prototype.broadcast=E.prototype.getActor=E.prototype.remove=E.Actor=t.Actor;var I=I.prototype.validateBounds=I.prototype.contains=var A=t.Evented),C=t.Evented),z=function(e){eturn e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.serialize=r.prototype.loadTile=function(e,r){var i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(i,t.ResourceType.Tile),function(i,n){if(delete e.request,e.aborted)e.state="unloaded",r(null);else if(i)e.state="errored",r(i);else if(n){this.map._refreshExpiredTiles&&e.setExpiryData(n),delete n.cacheControl,delete n.expires;var o=t.window.ImageBitmap&&n instanceof t.window.ImageBitmap&&t.offscreenCanvasSupported()?n:t.browser.getImageData(n,1),a={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:o,encoding:this.encoding};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",a,bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},r.prototype._getNeighboringTiles=r.prototype.unloadTile=r}(C),P=t.Evented),k=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),M=t.Evented),D=M),L=M),R={vector:A,raster:C,"raster-dem":z,geojson:P,video:D,image:M,canvas:L}; U=U.prototype.reset=U.prototype.add=U.prototype.has=U.prototype.getAndRemove=U.prototype._getAndRemoveByKey=U.prototype.getByKey=U.prototype.get=U.prototype.remove=U.prototype.setMaxSize=U.prototype.filter=var V=V.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},V.prototype.updateData=V.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var N={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},j=j.prototype.bind=j.prototype.updateData=j.prototype.enableAttributes=j.prototype.setVertexAttribPointers=j.prototype.destroy=var q=q.prototype.get=function(){return this.current},q.prototype.set=q.prototype.getDefault=function(){return this.default},q.prototype.setDefault=var Z=q),G=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(q),X=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(q),W=q),K=q),H=q),J=q),Y=q),Q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(q),$=q),tt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(q),et=q),rt=q),it=q),nt=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.getDefault=function(){return t.Color.transparent},r.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},r}(q),ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(q),at=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},e}(q),st=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(q),lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(q),ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)},e}(q),ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},e}(q),pt=q),ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(q),ft=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(q),dt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(q),mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(q),yt=q),gt=q),vt=q),_t=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(q),xt=q),bt=q),wt=bt),St=bt),Et=Et.prototype.destroy=var Tt=function(t,e,r){this.func=t,this.mask=e,this.range=r};Tt.ReadOnly=!1,Tt.ReadWrite=!0,Tt.disabled=new Tt(519,Tt.ReadOnly,[0,1]);var It=function(t,e,r,i,n,o){this.test=t,this.ref=e,this.mask=r,this.fail=i,this.depthFail=n,this.pass=o};It.disabled=new It({func:519,mask:0},0,0,7680,7680,7680);var At=function(t,e,r){this.blendFunction=t,this.blendColor=e,this.mask=r};At.disabled=new At(At.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),At.unblended=new At(At.Replace,t.Color.transparent,[!0,!0,!0,!0]),At.alphaBlended=new At([1,771],t.Color.transparent,[!0,!0,!0,!0]);var Ct=function(t,e,r){this.enable=t,this.mode=e,this.frontFace=r};Ct.disabled=new Ct(!1,1029,2305),Ct.backCCW=new Ct(!0,1029,2305);var zt=zt.prototype.setDefault=zt.prototype.setDirty=zt.prototype.createIndexBuffer=zt.prototype.createVertexBuffer=function(t,e,r){return new j(this,t,e,r)},zt.prototype.createRenderbuffer=zt.prototype.createFramebuffer=zt.prototype.clear=zt.prototype.setCullFace=zt.prototype.setDepthMode=zt.prototype.setStencilMode=zt.prototype.setColorMode=zt.prototype.unbindVAO=var Pt=t.Evented);maxOverzooming=10,Pt.maxUnderzooming=3;var Lt="mapboxgl_preloaded_worker_pool",Rt=function(){this.active={}};Rt.prototype.acquire=Rt.prototype.release=Rt.prototype.isPreloaded=function(){return!!this.active[Lt]},Rt.prototype.numActive=var Bt,Ot=Math.floor(t.browser.hardwareConcurrency/2);workerCount=Math.max(Math.min(Ot,6),1);var Nt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};ion Wt(t){return t.id}ar Ht=Ht.prototype.reset=Ht.prototype.lerp=var Jt=e.keysLength=Jt.prototype.insert=Jt.prototype.insertCircle=Jt.prototype._insertBoxCell=function(t,e,r,i,n,o){this.boxCells[n].push(o)},Jt.prototype._insertCircleCell=Jt.prototype._query=Jt.prototype._queryCircle=Jt.prototype.query=function(t,e,r,i,n){return this._query(t,e,r,i,!1,n)},Jt.prototype.hitTest=Jt.prototype.hitTestCircle=Jt.prototype._queryCell=Jt.prototype._queryCellCircle=Jt.prototype._forEachCell=Jt.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Jt.prototype._convertToYCellCoord=Jt.prototype._circlesCollide=Jt.prototype._circleAndRectCollide=var le=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);r pe=e.prototype.placeCollisionBox=pe.prototype.placeCollisionCircles=pe.prototype.queryRenderedSymbols=pe.prototype.insertCollisionBox=pe.prototype.insertCollisionCircles=pe.prototype.projectAndGetPerspectiveRatio=pe.prototype.isOffscreen=pe.prototype.isInsideGrid=pe.prototype.getViewportMatrix=var fe=fe.prototype.isHidden=var de=de.prototype.isHidden=var me=function(t,e,r){this.text=t,this.icon=e,this.skipFade=r},ye=ge=ve=.prototype.get=var be=e.prototype.getBucketParts=be.prototype.attemptAnchorPlacement=be.prototype.placeLayerBucketPart=be.prototype.markUsedJustification=be.prototype.markUsedOrientation=be.prototype.commit=be.prototype.updateLayerOpacities=be.prototype.updateBucketOpacities=be.prototype.symbolFadeChange=be.prototype.zoomAdjustment=be.prototype.hasTransitions=be.prototype.stillRecent=be.prototype.setStale=function(){this.stale=!0};var Se=Math.pow(2,25),Ee=Math.pow(2,24),Te=Math.pow(2,17),Ie=Math.pow(2,16),Ae=Math.pow(2,9),Ce=Math.pow(2,8),ze=Math.pow(2,1);ar ke=0,Me=Me.prototype.continuePlacement=var De=De.prototype.isDone=function(){return this._done},De.prototype.continuePlacement=De.prototype.commit=var Le=512/t.EXTENT/2,Re=Re.prototype.getScaledCoordinates=Re.prototype.findMatches=var Be=function(){this.maxCrossTileID=0};Be.prototype.generate=var Oe=Oe.prototype.handleWrapJump=Oe.prototype.addBucket=Oe.prototype.removeBucketCrossTileIDs=Oe.prototype.removeStaleBuckets=var Fe=Fe.prototype.addLayer=Fe.prototype.pruneUnusedLayers=var Ue=Ve=t.pick(Nt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ne=t.pick(Nt,["setCenter","setZoom","setBearing","setPitch"]),je=),qe=t.Evented);qe.getSourceType=function(t){return R[t]},qe.setSourceType=qe.registerForPluginStateChange=t.registerForPluginStateChange;var Ze=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),Ge=gr("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Xe=gr("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),We=gr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Ke=gr("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),He=gr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Je=gr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Ye=gr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Qe=gr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),$e=gr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),tr=gr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),er=gr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),rr=gr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),ir=gr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),nr=gr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),or=gr("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),ar=gr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),sr=gr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),lr=gr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),ur=gr("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),cr=gr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),pr=gr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),hr=gr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),fr=gr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),dr=gr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),mr=gr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),yr=gr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");ar vr=Object.freeze({__proto__:null,prelude:Ge,background:Xe,backgroundPattern:We,circle:Ke,clippingMask:He,heatmap:Je,heatmapTexture:Ye,collisionBox:Qe,collisionCircle:$e,debug:tr,fill:er,fillOutline:rr,fillOutlinePattern:ir,fillPattern:nr,fillExtrusion:or,fillExtrusionPattern:ar,hillshadePrepare:sr,hillshade:lr,line:ur,lineGradient:cr,linePattern:pr,lineSDF:hr,raster:fr,symbolIcon:dr,symbolSDF:mr,symbolTextAndIcon:yr}),_r=r.prototype.bind=_r.prototype.freshBind=_r.prototype.destroy=var br=r.prototype.draw=var Sr=Er=Tr=function(t){return{u_matrix:t}},Ir=Ar=Cr=zr=Pr=kr=Mr=Dr=Lr=Rr=Br=Or=Fr=r Nr=ar qr,Zr=Gr=Xr=Wr=Kr=Hr={fillExtrusion:function(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_lightpos:new t.Uniform3f(e,r.u_lightpos),u_lightintensity:new t.Uniform1f(e,r.u_lightintensity),u_lightcolor:new t.Uniform3f(e,r.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,r.u_vertical_gradient),u_opacity:new t.Uniform1f(e,r.u_opacity)}},fillExtrusionPattern:function(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_lightpos:new t.Uniform3f(e,r.u_lightpos),u_lightintensity:new t.Uniform1f(e,r.u_lightintensity),u_lightcolor:new t.Uniform3f(e,r.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,r.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,r.u_height_factor),u_image:new t.Uniform1i(e,r.u_image),u_texsize:new t.Uniform2f(e,r.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,r.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,r.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,r.u_scale),u_fade:new t.Uniform1f(e,r.u_fade),u_opacity:new t.Uniform1f(e,r.u_opacity)}},fill:function(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix)}},fillPattern:function(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_image:new t.Uniform1i(e,r.u_image),u_texsize:new t.Uniform2f(e,r.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,r.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,r.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,r.u_scale),u_fade:new t.Uniform1f(e,r.u_fade)}},fillOutline:fillOutlinePattern:function(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_world:new t.Uniform2f(e,r.u_world),u_image:new t.Uniform1i(e,r.u_image),u_texsize:new t.Uniform2f(e,r.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,r.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,r.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,r.u_scale),u_fade:new t.Uniform1f(e,r.u_fade)}},circle:function(e,r){return{u_camera_to_center_distance:new t.Uniform1f(e,r.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,r.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,r.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,r.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,r.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,r.u_matrix)}},collisionBox:function(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,r.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,r.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,r.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,r.u_overscale_factor)}},collisionCircle:function(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_inv_matrix:new t.UniformMatrix4f(e,r.u_inv_matrix),u_camera_to_center_distance:new t.Uniform1f(e,r.u_camera_to_center_distance),u_viewport_size:new t.Uniform2f(e,r.u_viewport_size)}},debug:function(e,r){return{u_color:new t.UniformColor(e,r.u_color),u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_overlay:new t.Uniform1i(e,r.u_overlay),u_overlay_scale:new t.Uniform1f(e,r.u_overlay_scale)}},clippingMask:heatmap:function(e,r){return{u_extrude_scale:new t.Uniform1f(e,r.u_extrude_scale),u_intensity:new t.Uniform1f(e,r.u_intensity),u_matrix:new t.UniformMatrix4f(e,r.u_matrix)}},heatmapTexture:function(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_world:new t.Uniform2f(e,r.u_world),u_image:new t.Uniform1i(e,r.u_image),u_color_ramp:new t.Uniform1i(e,r.u_color_ramp),u_opacity:new t.Uniform1f(e,r.u_opacity)}},hillshade:hillshadePrepare:line:lineGradient:linePattern:lineSDF:raster:symbolIcon:function(e,r){return{u_is_size_zoom_constant:new t.Uniform1i(e,r.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,r.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,r.u_size_t),u_size:new t.Uniform1f(e,r.u_size),u_camera_to_center_distance:new t.Uniform1f(e,r.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,r.u_pitch),u_rotate_symbol:new t.Uniform1i(e,r.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,r.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,r.u_fade_change),u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,r.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,r.u_coord_matrix),u_is_text:new t.Uniform1i(e,r.u_is_text),u_pitch_with_map:new t.Uniform1i(e,r.u_pitch_with_map),u_texsize:new t.Uniform2f(e,r.u_texsize),u_texture:new t.Uniform1i(e,r.u_texture)}},symbolSDF:symbolTextAndIcon:background:backgroundPattern:;function Jr(e,r,i,n,o,a,s){for(var l=e.context,u=l.gl,c=e.useProgram("collisionBox"),p=[],h=0,f=0,d=0;d<n.length;d++){var m=n[d],y=r.getTile(m),g=y.getBucket(i);if(g){var v=m.posMatrix;0===o[0]&&0===o[1]||(v=e.translatePosMatrix(m.posMatrix,y,o,a));var _=s?g.textCollisionBox:g.iconCollisionBox,x=g.collisionCircleArray;if(x.length>0){var b=t.create(),w=v;t.mul(b,g.placementInvProjMatrix,e.transform.glCoordMatrix),t.mul(b,b,g.placementViewportMatrix),p.push({circleArray:x,circleOffset:f,transform:w,invTransform:b}),f=h+=x.length/4}_&&c.draw(l,u.LINES,Tt.disabled,It.disabled,e.colorModeForRenderPass(),Ct.disabled,Pr(v,e.transform,y),i.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,null,e.transform.zoom,null,null,_.collisionVertexBuffer)}}if(s&&p.length){var S=e.useProgram("collisionCircle"),E=new t.StructArrayLayout2f1f2i16;E.resize(4*h),E._trim();for(var T=0,I=0,A=p;I<A.length;I+=1)for(var C=A[I],z=0;z<C.circleArray.length/4;z++){var P=4*z,k=C.circleArray[P+0],M=C.circleArray[P+1],D=C.circleArray[P+2],L=C.circleArray[P+3];E.emplace(T++,k,M,D,L,0),E.emplace(T++,k,M,D,L,1),E.emplace(T++,k,M,D,L,2),E.emplace(T++,k,M,D,L,3)}(!qr||qr.length<2*h)&&(qr=));for(var R=l.createIndexBuffer(qr,!0),B=l.createVertexBuffer(E,t.collisionCircleLayout.members,!0),O=0,F=p;O<F.length;O+=1){var U=F[O],V=kr(U.transform,U.invTransform,e.transform);S.draw(l,u.TRIANGLES,Tt.disabled,It.disabled,e.colorModeForRenderPass(),Ct.disabled,V,i.id,B,R,t.SegmentVector.simpleSegment(0,2*U.circleOffset,U.circleArray.length,U.circleArray.length/2),null,e.transform.zoom,null,null,null)}B.destroy(),R.destroy()}}var Yr=t.identity(new Float32Array(16)); t.Color(1,0,0,1),ui=new t.Color(0,1,0,1),ci=new t.Color(0,0,1,1),pi=new t.Color(1,0,1,1),hi=new t.Color(0,1,1,1);gi={symbol:circle:heatmap:line:fill:"fill-extrusion":hillshade:raster:background:debug:custom:,vi=vi.prototype.resize=vi.prototype.setup=vi.prototype.clearStencil=vi.prototype._renderTileClippingMasks=vi.prototype.stencilModeFor3D=vi.prototype.stencilModeForClipping=vi.prototype.stencilConfigForOverlap=vi.prototype.colorModeForRenderPass=vi.prototype.depthModeForSublayer=vi.prototype.opaquePassEnabledForLayer=vi.prototype.render=vi.prototype.renderLayer=vi.prototype.gpuTimingStart=vi.prototype.gpuTimingEnd=vi.prototype.collectGpuTimers=vi.prototype.queryGpuTimers=vi.prototype.translatePosMatrix=vi.prototype.saveTileTexture=vi.prototype.getTileTexture=vi.prototype.isPatternMissing=vi.prototype.useProgram=vi.prototype.setCustomLayerDefaults=vi.prototype.setBaseState=vi.prototype.initDebugOverlayCanvas=vi.prototype.destroy=var _i=function(t,e){this.points=t,this.planes=e};_i.fromInvProjectionMatrix=var xi=xi.prototype.quadrant=xi.prototype.distanceX=function(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]},xi.prototype.distanceY=xi.prototype.intersects=var bi=bi.prototype.interpolate=bi.prototype.getCenter=bi.prototype.equals=bi.prototype.clone=bi.prototype.toJSON=var wi=Si={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};wi.prototype.clone=Si.minZoom.get=function(){return this._minZoom},Si.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},Si.maxZoom.get=function(){return this._maxZoom},Si.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},Si.minPitch.get=function(){return this._minPitch},Si.minPitch.set=function(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))},Si.maxPitch.get=function(){return this._maxPitch},Si.maxPitch.set=Si.renderWorldCopies.get=function(){return this._renderWorldCopies},Si.renderWorldCopies.set=Si.worldSize.get=Si.centerOffset.get=Si.size.get=Si.bearing.get=Si.bearing.set=Si.pitch.get=function(){return this._pitch/Math.PI*180},Si.pitch.set=Si.fov.get=Si.fov.set=Si.zoom.get=function(){return this._zoom},Si.zoom.set=Si.center.get=function(){return this._center},Si.center.set=Si.padding.get=function(){return this._edgeInsets.toJSON()},Si.padding.set=Si.centerPoint.get=wi.prototype.isPaddingEqual=function(t){return this._edgeInsets.equals(t)},wi.prototype.interpolatePadding=wi.prototype.coveringZoomLevel=wi.prototype.getVisibleUnwrappedCoordinates=wi.prototype.coveringTiles=wi.prototype.resize=Si.unmodified.get=function(){return this._unmodified},wi.prototype.zoomScale=wi.prototype.scaleZoom=wi.prototype.project=wi.prototype.unproject=Si.point.get=wi.prototype.setLocationAtPoint=wi.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},wi.prototype.pointLocation=wi.prototype.locationCoordinate=wi.prototype.coordinateLocation=function(t){return t.toLngLat()},wi.prototype.pointCoordinate=wi.prototype.coordinatePoint=wi.prototype.getBounds=wi.prototype.getMaxBounds=wi.prototype.setMaxBounds=wi.prototype.calculatePosMatrix=wi.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},wi.prototype._constrain=wi.prototype._calcMatrices=wi.prototype.maxPitchScaleFactor=wi.prototype.getCameraPoint=wi.prototype.getCameraQueryGeometry=Object.defineProperties(wi.prototype,Si);var Ei=Ei.prototype.addTo=Ei.prototype.remove=Ei.prototype.getHashString=Ei.prototype._getCurrentHash=Ei.prototype._onHashChange=Ei.prototype._updateHashUnthrottled=var Ti={linearity:.3,easing:t.bezier(0,0,.3,1)},Ii=t.extend({deceleration:2500,maxSpeed:1400},Ti),Ai=t.extend({deceleration:20,maxSpeed:1400},Ti),Ci=t.extend({deceleration:1e3,maxSpeed:360},Ti),zi=t.extend({deceleration:1e3,maxSpeed:90},Ti),Pi=function(t){this._map=t,this.clear()};.prototype.clear=Pi.prototype.record=Pi.prototype._drainInertiaBuffer=Pi.prototype._onMoveEnd=var Di=t.Event),Li=t.Event),Ri=t.Event),Bi=Bi.prototype.reset=Bi.prototype.wheel=function(t){return this._firePreventable(new Ri(t.type,this._map,t))},Bi.prototype.mousedown=Bi.prototype.mouseup=function(t){this._map.fire(new Di(t.type,this._map,t))},Bi.prototype.click=Bi.prototype.dblclick=function(t){return this._firePreventable(new Di(t.type,this._map,t))},Bi.prototype.mouseover=function(t){this._map.fire(new Di(t.type,this._map,t))},Bi.prototype.mouseout=function(t){this._map.fire(new Di(t.type,this._map,t))},Bi.prototype.touchstart=Bi.prototype.touchmove=function(t){this._map.fire(new Li(t.type,this._map,t))},Bi.prototype.touchend=function(t){this._map.fire(new Li(t.type,this._map,t))},Bi.prototype.touchcancel=Bi.prototype._firePreventable=Bi.prototype.isEnabled=function(){return!0},Bi.prototype.isActive=function(){return!1},Bi.prototype.enable=function(){},Bi.prototype.disable=function(){};var Oi=function(t){this._map=t};Oi.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Oi.prototype.mousemove=function(t){this._map.fire(new Di(t.type,this._map,t))},Oi.prototype.mousedown=function(){this._delayContextMenu=!0},Oi.prototype.mouseup=Oi.prototype.contextmenu=Oi.prototype.isEnabled=function(){return!0},Oi.prototype.isActive=function(){return!1},Oi.prototype.enable=function(){},Oi.prototype.disable=function(){};var Fi=i.prototype.isEnabled=function(){return!!this._enabled},Fi.prototype.isActive=function(){return!!this._active},Fi.prototype.enable=Fi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Fi.prototype.mousedown=Fi.prototype.mousemoveWindow=Fi.prototype.mouseupWindow=Fi.prototype.keydown=Fi.prototype.reset=Fi.prototype._fireEvent=var Vi=Vi.prototype.reset=Vi.prototype.touchstart=Vi.prototype.touchmove=Vi.prototype.touchend=var Ni=Ni.prototype.reset=Ni.prototype.touchstart=function(t,e,r){this.singleTap.touchstart(t,e,r)},Ni.prototype.touchmove=Ni.prototype.touchend=var ji=ji.prototype.reset=ji.prototype.touchstart=function(t,e,r){this._zoomIn.touchstart(t,e,r),this._zoomOut.touchstart(t,e,r)},ji.prototype.touchmove=ji.prototype.touchend=ji.prototype.touchcancel=function(){this.reset()},ji.prototype.enable=function(){this._enabled=!0},ji.prototype.disable=function(){this._enabled=!1,this.reset()},ji.prototype.isEnabled=function(){return this._enabled},ji.prototype.isActive=function(){return this._active};var qi={0:1,2:2},Zi=Zi.prototype.reset=Zi.prototype._correctButton=Zi.prototype._move=Zi.prototype.mousedown=Zi.prototype.mousemoveWindow=Zi.prototype.mouseupWindow=Zi.prototype.enable=function(){this._enabled=!0},Zi.prototype.disable=function(){this._enabled=!1,this.reset()},Zi.prototype.isEnabled=function(){return this._enabled},Zi.prototype.isActive=function(){return this._active};var Gi=Zi),Xi=Zi),Wi=Zi),Ki=Ki.prototype.reset=Ki.prototype.touchstart=Ki.prototype.touchmove=Ki.prototype.touchend=Ki.prototype.touchcancel=function(){this.reset()},Ki.prototype._calculateTransform=Ki.prototype.enable=function(){this._enabled=!0},Ki.prototype.disable=function(){this._enabled=!1,this.reset()},Ki.prototype.isEnabled=function(){return this._enabled},Ki.prototype.isActive=function(){return this._active};var Hi=function(){this.reset()};.prototype.reset=Hi.prototype._start=function(t){},Hi.prototype._move=Hi.prototype.touchstart=Hi.prototype.touchmove=Hi.prototype.touchend=Hi.prototype.touchcancel=function(){this.reset()},Hi.prototype.enable=Hi.prototype.disable=function(){this._enabled=!1,this.reset()},Hi.prototype.isEnabled=function(){return this._enabled},Hi.prototype.isActive=function(){return this._active};var Qi=Hi);ar tn=Hi);ar rn=Hi),nn={panStep:100,bearingStep:15,pitchStep:10},on=n.prototype.reset=function(){this._active=!1},on.prototype.keydown=on.prototype.enable=function(){this._enabled=!0},on.prototype.disable=function(){this._enabled=!1,this.reset()},on.prototype.isEnabled=function(){return this._enabled},on.prototype.isActive=function(){return this._active},on.prototype.disableRotation=function(){this._rotationDisabled=!0},on.prototype.enableRotation=function(){this._rotationDisabled=!1};var sn=sn.prototype.setZoomRate=function(t){this._defaultZoomRate=t},sn.prototype.setWheelZoomRate=function(t){this._wheelZoomRate=t},sn.prototype.isEnabled=function(){return!!this._enabled},sn.prototype.isActive=sn.prototype.isZooming=function(){return!!this._zooming},sn.prototype.enable=sn.prototype.disable=sn.prototype.wheel=sn.prototype._onTimeout=sn.prototype._start=sn.prototype.renderFrame=sn.prototype._smoothOutEasing=sn.prototype.reset=function(){this._active=!1};var ln=function(t,e){this._clickZoom=t,this._tapZoom=e};ln.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ln.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ln.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ln.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var un=function(){this.reset()};un.prototype.reset=function(){this._active=!1},un.prototype.dblclick=un.prototype.enable=function(){this._enabled=!0},un.prototype.disable=function(){this._enabled=!1,this.reset()},un.prototype.isEnabled=function(){return this._enabled},un.prototype.isActive=function(){return this._active};var cn=cn.prototype.reset=cn.prototype.touchstart=cn.prototype.touchmove=cn.prototype.touchend=cn.prototype.touchcancel=function(){this.reset()},cn.prototype.enable=function(){this._enabled=!0},cn.prototype.disable=cn.prototype.isEnabled=function(){return this._enabled},cn.prototype.isActive=function(){return this._active};var pn=function(t,e,r){this._el=t,this._mousePan=e,this._touchPan=r};pn.prototype.enable=pn.prototype.disable=pn.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},pn.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var hn=hn.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},hn.prototype.disable=hn.prototype.isEnabled=hn.prototype.isActive=var fn=fn.prototype.enable=fn.prototype.disable=fn.prototype.isEnabled=fn.prototype.isActive=fn.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},fn.prototype.enableRotation=var dn=mn=t.Event);ar gn=gn.prototype.destroy=gn.prototype._addDefaultHandlers=gn.prototype._add=gn.prototype.stop=gn.prototype.isActive=gn.prototype.isZooming=gn.prototype.isRotating=gn.prototype.isMoving=gn.prototype._blockedByActive=gn.prototype.handleWindowEvent=gn.prototype._getMapTouches=gn.prototype.handleEvent=gn.prototype.mergeHandlerResult=gn.prototype._applyChanges=gn.prototype._updateMapTransform=gn.prototype._fireEvents=gn.prototype._fireEvent=gn.prototype._requestFrame=gn.prototype._triggerRenderFrame=var vn=t.Evented),_n=_n.prototype.getDefaultPosition=function(){return"bottom-right"},_n.prototype.onAdd=_n.prototype.onRemove=_n.prototype._setElementTitle=function(t,e){var r=this._map._getUIString("AttributionControl."+e);t.title=r,t.setAttribute("aria-label",r)},_n.prototype._toggleAttribution=_n.prototype._updateEditLink=_n.prototype._updateData=_n.prototype._updateAttributions=_n.prototype._updateCompact=var xn=xn.prototype.onAdd=xn.prototype.onRemove=xn.prototype.getDefaultPosition=function(){return"bottom-left"},xn.prototype._updateLogo=xn.prototype._logoRequired=xn.prototype._updateCompact=var bn=bn.prototype.add=bn.prototype.remove=bn.prototype.run=bn.prototype.clear=var wn={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Sn=t.window.HTMLImageElement,En=t.window.HTMLElement,Tn=t.window.ImageBitmap,In={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},An=vn);ar zn={showCompass:!0,showZoom:!0,visualizePitch:!1},Pn=Pn.prototype._updateZoomButtons=Pn.prototype._rotateCompassArrow=Pn.prototype.onAdd=Pn.prototype.onRemove=Pn.prototype._createButton=Pn.prototype._setButtonTitle=var kn=n.prototype.down=kn.prototype.move=kn.prototype.off=kn.prototype.offTemp=kn.prototype.mousedown=kn.prototype.mousemove=kn.prototype.mouseup=kn.prototype.touchstart=kn.prototype.touchmove=kn.prototype.touchend=kn.prototype.reset=var Dn={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};ar Rn,Bn=t.Evented),On={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Fn=0,Un=!1,Vn=t.Evented),Nn={maxWidth:100,unit:"metric"},jn=.prototype.getDefaultPosition=function(){return"bottom-left"},jn.prototype._onMove=jn.prototype.onAdd=jn.prototype.onRemove=jn.prototype.setUnit=var Gn=Gn.prototype.onAdd=Gn.prototype.onRemove=Gn.prototype._checkFullscreenSupport=Gn.prototype._setupUI=Gn.prototype._updateTitle=Gn.prototype._getTitle=Gn.prototype._isFullscreen=function(){return this._fullscreen},Gn.prototype._changeIcon=Gn.prototype._onClickFullscreen=var Xn={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Wn=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Kn=t.Evented),Hn={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:An,NavigationControl:Pn,GeolocateControl:Vn,AttributionControl:_n,ScaleControl:jn,FullscreenControl:Gn,Popup:Kn,Marker:Bn,Style:qe,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,prewarm:clearPrewarmedResources:get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCountset workerCountget maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequestsclearStorage:workerUrl:""};return Hn}),r}()},258:function(t,e,r){"use strict";var i=r(268),n=r(272),o=r(207),a=r(405).EventEmitter,s=r(273),l=r(274);function u(t){this._eventEmitter=new a,this.options=o({},this.options,t)}u.prototype={options:{placeholder:"Search",zoom:16,flyTo:!0,trackProximity:!1,minLength:2,limit:5},onAdd:function(t){this._map=t,this.mapboxClient=new l(this.options.accessToken),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this._clear=this._clear.bind(this),this._updateProximity=this._updateProximity.bind(this);var e=this.container=document.createElement("div");e.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var r=document.createElement("span");r.className="geocoder-icon geocoder-icon-search",this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.placeholder=this.options.placeholder,this._inputEl.addEventListener("keydown",this._onKeyDown),this._inputEl.addEventListener("change",this._onChange);var n=document.createElement("div");return n.classList.add("geocoder-pin-right"),this._clearEl=document.createElement("button"),this._clearEl.className="geocoder-icon geocoder-icon-close",this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this._clear),this._loadingEl=document.createElement("span"),this._loadingEl.className="geocoder-icon geocoder-icon-loading",n.appendChild(this._clearEl),n.appendChild(this._loadingEl),e.appendChild(r),e.appendChild(this._inputEl),e.appendChild(n),this._typeahead=new i(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit}),this._typeahead.getItemValue=function(t){return t.place_name},this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),e},onRemove:function(){return this.container.parentNode.removeChild(this.container),this._map=null,this.options.trackProximity&&this._map.off("moveend",this._updateProximity),this},_onKeyDown:n(function(t){var e=t.target.shadowRoot?t.target.shadowRoot.activeElement:t.target;if(!e.value)return this._clearEl.style.display="none";t.metaKey||-1!==[9,27,37,39,13,38,40].indexOf(t.keyCode)||e.value.length>=this.options.minLength&&this._geocode(e.value)},200),_onChange:function(){this._inputEl.value&&(this._clearEl.style.display="block");var t=this._typeahead.selected;if(t){if(this.options.flyTo)if(!s[t.id]&&t.bbox){var e=t.bbox;this._map.fitBounds([[e[0],e[1]],[e[2],e[3]]])}else s[t.id]?this._map.fitBounds(s[t.id].bbox):this._map.flyTo({center:t.center,zoom:this.options.zoom});this._eventEmitter.emit("result",{result:t})}},_geocode:function(t){this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:t});var e=this.mapboxClient.geocodeForward(t,this.options),r=[];return this.options.localGeocoder&&((r=this.options.localGeocoder(t))||(r=[])),e.then(function(t){this._loadingEl.style.display="none";var e={};"200"==t.status&&(e=t.entity),e.features=e.features?r.concat(e.features):r,this.options.filter&&e.features.length&&(e.features=e.features.filter(this.options.filter)),e.features.length?this._clearEl.style.display="block":(this._clearEl.style.display="none",this._typeahead.selected=null),this._eventEmitter.emit("results",e),this._typeahead.update(e.features)}.bind(this)),e.catch(function(t){this._loadingEl.style.display="none",r.length?this._clearEl.style.display="block":(this._clearEl.style.display="none",this._typeahead.selected=null),this._eventEmitter.emit("results",{features:r}),this._typeahead.update(r),this._eventEmitter.emit("error",{error:t})}.bind(this)),e},_clear:function(t){t&&t.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._inputEl.focus(),this._clearEl.style.display="none",this._eventEmitter.emit("clear")},_onQueryResult:function(t){var e=t.entity;if(e.features.length){var r=e.features[0];this._typeahead.selected=r,this._inputEl.value=r.place_name,this._onChange()}},_updateProximity:function(){if(this._map.getZoom()>9){var t=this._map.getCenter().wrap();this.setProximity({longitude:t.lng,latitude:t.lat})}else this.setProximity(null)},query:function(t){return this._geocode(t).then(this._onQueryResult),this},setInput:function(t){return this._inputEl.value=t,this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this},setProximity:getProximity:function(){return this.options.proximity},on:function(t,e){return this._eventEmitter.on(t,e),this},off:,t.exports=u},268:function(t,e,r){"use strict";var i=r(269);t.exports=i,"undefined"!==typeof window&&(window.Suggestions=i)},269:function(t,e,r){"use strict";var i=r(207),n=r(270),o=r(271),a=function(t,e,r){return r=r||{},this.options=i({minLength:2,limit:5,filter:!0,hideOnBlur:!0},r),this.el=t,this.data=e||[],this.list=new o(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",bind(this),!1),this.el.addEventListener("keydown",function(t){this.handleKeyDown(t)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};a.prototype.handleKeyUp=function(t){40!==t&&38!==t&&27!==t&&13!==t&&9!==t&&this.handleInputChange(this.el.value)},a.prototype.handleKeyDown=function(t){switch(t.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&t.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},a.prototype.handleBlur=a.prototype.handlePaste=function(t){if(t.clipboardData)this.handleInputChange(t.clipboardData.getData("Text"));else{var e=this;setTimeout(100)}},a.prototype.handleInputChange=function(t){this.query=this.normalize(t),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates(function(t){for(var e=0;e<t.length&&(this.list.add(t[e]),e!==this.options.limit-1);e++);this.list.draw()}.bind(this))},a.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},a.prototype.update=function(t){this.data=t,this.handleKeyUp()},a.prototype.clear=a.prototype.normalize=a.prototype.match=a.prototype.value=function(t){if(this.selected=t,this.el.value=this.getItemValue(t),document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this.el.dispatchEvent(e)}else this.el.fireEvent("onchange")},a.prototype.getCandidates=function(t){var e={pre:"<strong>",post:"</strong>",extract:bind(this)};t(this.options.filter?n.filter(this.query,this.data,e).map(function(t){return{original:t.original,string:this.render(t.original,t.string)}}.bind(this)):this.data.map(bind(this)))},a.prototype.getItemValue=function(t){return t},a.prototype.render=function(t,e){if(e)return e;for(var r=t.original?this.getItemValue(t.original):this.getItemValue(t),i=this.normalize(r),n=i.lastIndexOf(this.query);n>-1;){var o=n+this.query.length;r=r.slice(0,n)+"<strong>"+r.slice(n,o)+"</strong>"+r.slice(o),n=i.slice(0,n).lastIndexOf(this.query)}return r},a.prototype.renderError=function(t){this.list.drawError(t)},t.exports=a},270:function(t,e,r){!function(){var e={};t.exports=e,e.simpleFilter=e.test=e.match=e.filter=function(t,r,i){return r&&0!==r.length?"string"!==typeof t?r:(i=i||{},r.reduce([]).sort():[]}}()},271:function(t,e,r){"use strict";var i=function(t){return this.component=t,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,t.el.parentNode.insertBefore(this.wrapper,t.el.nextSibling),this};i.prototype.show=function(){this.element.style.display="block"},i.prototype.hide=i.prototype.add=i.prototype.clear=i.prototype.isEmpty=i.prototype.isVisible=i.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var t=0;t<this.items.length;t++)this.drawItem(this.items[t],this.active===t);this.show()}else this.hide()},i.prototype.drawItem=function(t,e){var r=document.createElement("li"),i=document.createElement("a");e&&(r.className+=" active"),i.innerHTML=t.string,r.appendChild(i),this.element.appendChild(r),r.addEventListener("mousedown",bind(this)),r.addEventListener("mouseup",bind(this))},i.prototype.handleMouseUp=function(t){this.selectingListItem=!1,this.component.value(t.original),this.clear(),this.draw()},i.prototype.move=function(t){this.active=t,this.draw()},i.prototype.previous=i.prototype.next=i.prototype.drawError=function(t){var e=document.createElement("li");e.innerHTML=t,this.element.appendChild(e),this.show()},t.exports=i},272:273:function(t,e){t.exports={"country.3148":{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},"country.3145":{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},"country.330":{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},"country.3179":{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}},274:function(t,e,r){"use strict";var i=r(208),n=r(275)("MapboxGeocoding");.prototype.geocodeForward=function(t,e,r){if(void 0===r&&"function"===typeof e&&(r=e,e={}),Array.isArray(t)){if("mapbox.places-permanent"!==e.dataset)throw new Error("Batch geocoding is only available with the mapbox.places-permanent endpoint. See https://mapbox.com/api-documentation/#batch-requests for details");t=t.join(";")}i("string"===typeof t,"query must be a string"),i("object"===typeof e,"options must be an object");var n={query:t,dataset:"mapbox.places"},a=3;return e.precision&&(i("number"===typeof e.precision,"precision option must be number"),a=e.precision),e.proximity&&(i("number"===typeof e.proximity.latitude&&"number"===typeof e.proximity.longitude,"proximity must be an object with numeric latitude & longitude properties"),n.proximity=o(e.proximity.longitude,a)+","+o(e.proximity.latitude,a)),e.bbox&&(i("number"===typeof e.bbox[0]&&"number"===typeof e.bbox[1]&&"number"===typeof e.bbox[2]&&"number"===typeof e.bbox[3]&&4===e.bbox.length,"bbox must be an array with numeric values in the form [minX, minY, maxX, maxY]"),n.bbox=e.bbox[0]+","+e.bbox[1]+","+e.bbox[2]+","+e.bbox[3]),e.limit&&(i("number"===typeof e.limit,"limit must be a number"),n.limit=e.limit),e.dataset&&(i("string"===typeof e.dataset,"dataset option must be string"),n.dataset=e.dataset),e.country&&(i("string"===typeof e.country,"country option must be string"),n.country=e.country),e.language&&(i("string"===typeof e.language,"language option must be string"),n.language=e.language),e.types&&(i("string"===typeof e.types,"types option must be string"),n.types=e.types),"boolean"===typeof e.autocomplete&&(i("boolean"===typeof e.autocomplete,"autocomplete must be a boolean"),n.autocomplete=e.autocomplete),this.client({path:"/geocoding/v5/{dataset}/{query}.json{?access_token,proximity,country,types,bbox,limit,autocomplete,language}",params:n,callback:r})},n.prototype.geocodeReverse=function(t,e,r){void 0===r&&"function"===typeof e&&(r=e,e={}),i("object"===typeof t,"location must be an object"),i("object"===typeof e,"options must be an object"),i("number"===typeof t.latitude&&"number"===typeof t.longitude,"location must be an object with numeric latitude & longitude properties");var n={dataset:"mapbox.places"};e.dataset&&(i("string"===typeof e.dataset,"dataset option must be string"),n.dataset=e.dataset);var a=5;return e.precision&&(i("number"===typeof e.precision,"precision option must be number"),a=e.precision),e.language&&(i("string"===typeof e.language,"language option must be string"),n.language=e.language),e.types&&(i("string"===typeof e.types,"types option must be string"),n.types=e.types),e.limit&&(i("number"===typeof e.limit,"limit option must be a number"),i(1===e.types.split(",").length,"a single type must be specified to use the limit option"),n.limit=e.limit),n.longitude=o(t.longitude,a),n.latitude=o(t.latitude,a),this.client({path:"/geocoding/v5/{dataset}/{longitude},{latitude}.json{?access_token,types,limit,language}",params:n,callback:r})},t.exports=n},275:function(t,e,r){"use strict";var i=r(208),n=r(276),o=r(277),a=r(298);t.exports=function(t){return function(e,r){this.name=t,i("string"===typeof e,"accessToken required to instantiate Mapbox client");var s=n.DEFAULT_ENDPOINT;void 0!==r&&(i("object"===typeof r,"options must be an object"),r.endpoint&&(i("string"===typeof r.endpoint,"endpoint must be a string"),s=r.endpoint),r.account&&(i("string"===typeof r.account,"account must be a string"),this.owner=r.account)),this.client=o({endpoint:s,accessToken:e}),this.accessToken=e,this.endpoint=s,this.owner=this.owner||a(e),i(!!this.owner,"could not determine account from provided accessToken")}}},276:277:function(t,e,r){"use strict";r(192);var i=r(279);t.exports=function(t){return i.wrap(r(281)).wrap(r(211),{prefix:t.endpoint}).wrap(r(283),{mime:"application/json"}).wrap(r(214)).wrap(r(293),{params:{access_token:t.accessToken}}).wrap(r(294),{access_token:t.accessToken}).wrap(r(296)).wrap(r(297))}},278:function(t,e,r){(function(e,r){var i;i=function(){"use strict";ar i=Array.isArray?Array.isArray:n=0,o=void 0,a=void 0,s=l="undefined"!==typeof window?window:void 0,u=l||{},c=u.MutationObserver||u.WebKitMutationObserver,p="undefined"===typeof self&&"undefined"!==typeof e&&"[object process]"==={}.toString.call(e),h="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;ar d=new Array(1e3);ar y=void 0;p?c?):h?):void 0===l?):f();var _=Math.random().toString(36).substring(2);ar b=void 0,w=1,S=2;ar L=),R=);return R.prototype.then=g,R.all=R.race=R.resolve=v,R.reject=R._setScheduler=function(t){a=t},R._setAsap=R._asap=s,R.polyfill=R.Promise=R,R},t.exports=i()}).call(this,r(85),r(21))},279:function(t,e,r){"use strict";var i=r(209),n=r(280);i.setPlatformDefaultClient(n),t.exports=i},280:function(t,e,r){"use strict";var i,n,o,a;function s(t,e){return Object.keys(e||{}).forEach(function(r){if(e.hasOwnProperty(r)&&r in t)try{t[r]=e[r]}catch(i){}}),t}i=r(210),n=r(194),o=r(193),a=/[\r|\n]+/,t.exports=o(function(t){return n.promise(function(e,r){var n,o,l,u,c,p,h,f;if(h={request:t="string"===typeof t?{path:t}:t||{}},t.canceled)return h.error="precanceled",void r(h);if(f=t.engine||XMLHttpRequest){c=t.entity,t.method=t.method||(c?"POST":"GET"),o=t.method,l=h.url=t.path||"";try{for(p in s(n=h.raw=new f,t.mixin),n.open(o,l,!0),s(n,t.mixin),u=t.headers)"Content-Type"===p&&"multipart/form-data"===u[p]||n.setRequestHeader(p,u[p]);t.canceled=!1,t.cancel=n.onreadystatechange=function(){t.canceled||n.readyState===(f.DONE||4)&&(h.status={code:n.status,text:n.statusText},h.headers=function(t){var e={};return t?(t.trim().split(a).forEach(function(t){var r,n,o;r=t.indexOf(":"),n=i(t.substring(0,r).trim()),o=t.substring(r+1).trim(),e[n]?Array.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]:e[n]=o}),e):e}(n.getAllResponseHeaders()),h.entity=n.responseText,1223===h.status.code&&(h.status.code=204),h.status.code>0?e(h):setTimeout(0))};try{n.onerror=catch(d){}n.send(c)}catch(d){h.error="loaderror",r(h)}}else r({request:t,error:"xhr-not-available"})})})},281:function(t,e,r){"use strict";var i;i=r(160),t.exports=i({init:response:function(t,e){return t.status&&t.status.code>=e.code?Promise.reject(t):t}})},282:function(t,e,r){"use strict";var i,n,o,a,s,l;unction c(t,e){if(!(this instanceof c))return new c(t,e);t instanceof c?(this._template=t.template,this._params=i({},this._params,e)):(this._template=(t||"").toString(),this._params=e||{})}i=r(176),n=r(212),a=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?(\/[^?#]*)?(\?[^#]*)?(#\S*)?/i,s=/^([a-z][a-z0-9\-\+\.]*:\/\/|\/)/i,l=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?\//i,c.prototype={append:function(t,e){return new c(this._template+t,i({},this._params,e))},fullyQualify:function(){if("undefined"===typeof location)return this;if(this.isFullyQualified())return this;var t=this._template;return u(t,"//")?t=o.protocol+t:u(t,"/")?t=o.origin+t:this.isAbsolute()||(t=o.origin+o.pathname.substring(0,o.pathname.lastIndexOf("/")+1)),-1===t.indexOf("/",8)&&(t+="/"),new c(t,this._params)},isAbsolute:function(){return s.test(this.build())},isFullyQualified:isCrossOrigin:function(){if(!o)return!0;var t=this.parts();return t.protocol!==o.protocol||t.hostname!==o.hostname||t.port!==o.port},parts:function(){var t,e;return e={href:(t=this.fullyQualify().build().match(a))[0],protocol:t[1],host:t[3]||"",hostname:t[4]||"",port:t[6],pathname:t[7]||"",search:t[8]||"",hash:t[9]||""},e.origin=e.protocol+"//"+e.host,e.port=e.port||("https:"===e.protocol?"443":"http:"===e.protocol?"80":""),e},build:function(t){return function(t,e){var r,i,o,a,s;if(r=t,o={},e){for(i in e)(s=new RegExp("\\{"+i+"\\}")).test(r)?r=r.replace(s,encodeURIComponent(e[i]),"g"):o[i]=e[i];(a=n.write(o))&&(r+=-1===r.indexOf("?")?"?":"&",r+=a)}return r}(this._template,i({},this._params,t))},toString:,o="undefined"!==typeof location?new c(location.href).parts():void 0,t.exports=c},283:function(t,e,r){"use strict";var i,n,o,a,s,l;i=r(160),n=r(213),o=r(284),l=r(215),a={read:function(t){return t},write:function(t){return t}},s={read:function(){throw"No read method found on converter"},write:function(){throw"No write method found on converter"}},t.exports=i({init:function(t){return t.registry=t.registry||o,t},request:function(t,e){var r,i;return i=t.headers||(t.headers={}),r=n.parse(i["Content-Type"]||e.mime||"text/plain"),i.Accept=i.Accept||e.accept||r.raw+", application/json;q=0.8, text/plain;q=0.5, */*;q=0.2","entity"in t?(i["Content-Type"]=r.raw,e.registry.lookup(r).catch(function(){if(e.permissive)return a;throw"mime-unknown"}).then(function(i){var n=e.client||t.originator,o=i.write||s.write;return l(o.bind(void 0,t.entity,{client:n,request:t,mime:r,registry:e.registry})).catch(.then(function(e){return t.entity=e,t})})):t},response:function(t,e){if(!(t.headers&&t.headers["Content-Type"]&&t.entity))return t;var r=n.parse(t.headers["Content-Type"]);return e.registry.lookup(r).catch(.then(function(i){var n=e.client||t.request&&t.request.originator,o=i.read||s.read;return l(o.bind(void 0,t.entity,{client:n,response:t,mime:r,registry:e.registry})).catch(function(e){throw t.error="mime-deserialization",t.cause=e,t}).then(})}})},284:function(t,e,r){"use strict";var i,n;i=r(213),(n=new function t(e){this.lookup=function(t){var r;return r="string"===typeof t?i.parse(t):t,e[r.raw]?e[r.raw]:e[r.type+r.suffix]?e[r.type+r.suffix]:e[r.type]?e[r.type]:e[r.suffix]?e[r.suffix]:Promise.reject(new Error('Unable to locate converter for mime "'+r.raw+'"'))},this.delegate=function(t){return{read:function(){var e=arguments;return this.lookup(t).then(function(t){return t.read.apply(this,e)}.bind(this))}.bind(this),write:function(){var e=arguments;return this.lookup(t).then(bind(this))}.bind(this)}},this.register=function(t,r){return e[t]=Promise.resolve(r),e[t]},this.child=({})).register("application/hal",r(285)),n.register("application/json",r(290)),n.register("application/x-www-form-urlencoded",r(212)),n.register("multipart/form-data",r(291)),n.register("text/plain",r(292)),n.register("+json",n.delegate("application/json")),t.exports=n},285:function(t,e,r){"use strict";var i,n,o,a,s;=r(211),n=r(214),o=r(288),a=r(289),s=r(194),t.exports={read:function(t,e){var r,u;function c(t,e){(e&&u&&u.warn||u.log)&&(u.warn||u.log).call(u,"Relationship '"+t+"' is deprecated, see "+e)}return r=(e=e||{}).client,u=e.console||u,e.registry.lookup(e.mime.suffix).then(function(r){return r.read(t,e)}).then(function(t){return o.findProperties(t,"_embedded",function(t,e,r){Object.keys(t).forEach(function(r){if(!(r in e)){var i=s({entity:t[r]});l(e,r,i)}}),l(e,r,t)}),o.findProperties(t,"_links",function(t,e,o){Object.keys(t).forEach(function(i){var o=t[i];i in e||l(e,i,s.make(a(function(){return o.deprecation&&c(i,o.deprecation),!0===o.templated?n(r)({path:o.href}):r({path:o.href})})))}),l(e,o,t),l(e,"clientFor",function(e,o){var a=t[e];if(!a)throw new Error("Unknown relationship: "+e);return a.deprecation&&c(e,a.deprecation),!0===a.templated?n(o||r,{template:a.href}):i(o||r,{prefix:a.href})}),l(e,"requestFor",}),t})},write:function(t,e){return e.registry.lookup(e.mime.suffix).then(function(r){return r.write(t,e)})}}},286:function(t,e,r){"use strict";var i,n,o;function a(t,e){var r;if((r=n[t.slice(0,1)])?t=t.slice(1):r=n[""],r.reserved)throw new Error("Reserved expression operations are not supported");return function(t,e,r){return e.split(",").reduce(function(e,n){var a,s;if(a={},"*"===n.slice(-1)&&(n=n.slice(0,-1),a.explode=!0),o.test(n)){var l=o.exec(n);n=l[1],a.maxLength=parseInt(l[2])}return n=i.decode(n),void 0===(s=r[n])||null===s?e:(Array.isArray(s)?e=s.reduce(function(e,r){return e.length?(e+=a.explode?t.separator:",",t.named&&a.explode&&(e+=t.encoder(n),e+=r.length?"=":t.empty)):(e+=t.first,t.named&&(e+=t.encoder(n),e+=r.length?"=":t.empty)),e+=t.encoder(r)},e):"object"===typeof s?e=Object.keys(s).reduce(function(e,r){return e.length?e+=a.explode?t.separator:",":(e+=t.first,t.named&&!a.explode&&(e+=t.encoder(n),e+=s[r].length?"=":t.empty)),e+=t.encoder(r),e+=a.explode?"=":",",e+=t.encoder(s[r])},e):(s=String(s),a.maxLength&&(s=s.slice(0,a.maxLength)),e+=e.length?t.separator:t.first,t.named&&(e+=t.encoder(n),e+=s.length?"=":t.empty),e+=t.encoder(s)),e)},"")}(r,t,e)}i=r(287),o=/^([^:]*):([0-9]+)$/,n={"":{first:"",separator:",",named:!1,empty:"",encoder:i.encode},"+":{first:"",separator:",",named:!1,empty:"",encoder:i.encodeURL},"#":{first:"#",separator:",",named:!1,empty:"",encoder:i.encodeURL},".":{first:".",separator:".",named:!1,empty:"",encoder:i.encode},"/":{first:"/",separator:"/",named:!1,empty:"",encoder:i.encode},";":{first:";",separator:";",named:!0,empty:"",encoder:i.encode},"?":{first:"?",separator:"&",named:!0,empty:"=",encoder:i.encode},"&":{first:"&",separator:"&",named:!0,empty:"=",encoder:i.encode},"=":{reserved:!0},",":{reserved:!0},"!":{reserved:!0},"@":{reserved:!0},"|":{reserved:!0}},t.exports={expand:function(t,e){var r,i,n;for(n="",i=0;;){if(-1===(r=t.indexOf("{",i))){n+=t.slice(i);break}n+=t.slice(i,r),i=t.indexOf("}",r)+1,n+=a(t.slice(r+1,i-1),e)}return n}}},287:function(t,e,r){"use strict";var i;function n(t){return t=t||i.unreserved,function(e){return function(t,e){if("string"!==typeof t)throw new Error("String required for URL encoding");return t.split("").map(function(t){if(e.hasOwnProperty(t))return t;var r=t.charCodeAt(0);if(r<=127){var i=r.toString(16).toUpperCase();return"%"+(i.length%2===1?"0":"")+i}return encodeURIComponent(t).toUpperCase()}).join("")}(e,t)}}i=function(){var t={alpha:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",digit:"0123456789",genDelims:":/?#[]@",subDelims:"!$&'()*+,;="};return t.reserved=t.genDelims+t.subDelims,t.unreserved=t.alpha+t.digit+"-._~",t.url=t.reserved+t.unreserved,t.scheme=t.alpha+t.digit+"+-.",t.userinfo=t.unreserved+t.subDelims+":",t.host=t.unreserved+t.subDelims,t.port=t.digit,t.pchar=t.unreserved+t.subDelims+":@",t.segment=t.pchar,t.path=t.segment+"/",t.query=t.pchar+"/?",t.fragment=t.pchar+"/?",Object.keys(t).reduce(function(e,r){return e[r]=t[r].split("").reduce({}),e},{})}(),t.exports={decode:encode:n(),encodeURL:n(i.url),encodeScheme:n(i.scheme),encodeUserInfo:n(i.userinfo),encodeHost:n(i.host),encodePort:n(i.port),encodePathSegment:n(i.segment),encodePath:n(i.path),encodeQuery:n(i.query),encodeFragment:n(i.fragment)}},288:function(t,e,r){"use strict";t.exports={findProperties:function t(e,r,i){"object"===typeof e&&null!==e&&(r in e&&i(e[r],e,r),Object.keys(e).forEach()}}},289:function(t,e,r){"use strict";var i=r(215);t.exports=function(t){var e,r,n,o;return e=!1,n=new Promise(,o=n.then,n.then=function(){return e||(e=!0,i(t).then(r.resolve,r.reject)),o.apply(n,arguments)},n}},290:function(t,e,r){"use strict";t.exports=function t(e,r){return{read:function(t){return JSON.parse(t,e)},write:extend:t}}()},291:function(t,e,r){"use strict";t.exports={write:function(t){if("undefined"===typeof FormData)throw new Error("The multipart/form-data mime serializer requires FormData support");if(t instanceof FormData)return t;if(t))return new FormData(t);if("object"===typeof t&&null!==t)return function(t){var e,r=new FormData;for(var i in t)t.hasOwnProperty(i)&&((e=t[i])instanceof File?r.append(i,e,e.name):e instanceof Blob?r.append(i,e):r.append(i,String(e)));return r}(t);throw new Error("Unable to create FormData from object "+t)}}},292:function(t,e,r){"use strict";t.exports={read:write:},293:function(t,e,r){"use strict";var i,n,o;i=r(160),n=r(176),o=function(){function t(t,e,r){(t in e||t in r)&&(e[t]=n({},r[t],e[t]))}function e(t,e,r){t in r&&!(t in e)&&(e[t]=r[t])}var r={method:e,path:e,params:t,headers:t,entity:e,mixin:t};return function(t,e){for(var i in r)r[i](i,t,e);return t}}(),t.exports=i({request:)},294:function(t,e,r){"use strict";r(192);var i=r(160),n=r(295),o=r(403),a=r(344),s=i({success:function(t,e){var r=t&&t.headers&&t.headers.Link,i=t&&t.request&&t.request.originator;if(r){var s=n.parse(r).filter([0];s&&(t.nextPage=function(t){var r=o.parse(s.href),n=a.parse(r.query);return n.access_token=n.access_token||e.access_token,r.search=a.stringify(n),i({path:o.format(r),callback:t})})}return t}});t.exports=s},295:function(t,e){t.exports=function(){ar e={parse:function(e,r){var i={start:function(){var t,r,i,a,s,c,p,h,f;c=n,p=n,t=[],h=n,f=n,null!==(r=u())&&null!==(i=g())?(44===e.charCodeAt(n)?(a=",",n++):(a=null,0===o&&l('","')),null!==a&&null!==(s=g())?r=[r,i,a,s]:(r=null,n=f)):(r=null,n=f);null!==r&&(d=r[0],r=d);var d;null===r&&(n=h);for(;null!==r;)t.push(r),h=n,f=n,null!==(r=u())&&null!==(i=g())?(44===e.charCodeAt(n)?(a=",",n++):(a=null,0===o&&l('","')),null!==a&&null!==(s=g())?r=[r,i,a,s]:(r=null,n=f)):(r=null,n=f),null!==r&&(r=0,r[0])),null===r&&(n=h);null!==t&&null!==(r=u())?t=[t,r]:(t=null,n=p);null!==t&&(m=t[0],y=t[1],t=m.concat([y]));var m,y;null===t&&(n=c);return t},LinkValue:u,LinkParams:c,URIReference:p,LinkParam:h,LinkParamName:f,LinkParamValue:d,PToken:m,PTokenChar:y,OptionalSP:g,QuotedString:v,QuotedStringInternal:_,Char:x,UpAlpha:b,LoAlpha:w,Alpha:S,Digit:E,SP:T,DQ:I,QDText:A,QuotedPair:C};if(void 0!==r){if(void 0===i[r])throw new Error("Invalid rule name: "+t(r)+".")}else r="start";var n=0,o=0,a=0,s=[];unction u(){var t,r,i,a,s,u,h,f;if(h=n,f=n,60===e.charCodeAt(n)?(t="<",n++):(t=null,0===o&&l('"<"')),null!==t)if(null!==(r=p()))if(62===e.charCodeAt(n)?(i=">",n++):(i=null,0===o&&l('">"')),null!==i)if(null!==(a=g())){for(s=[],u=c();null!==u;)s.push(u),u=c();null!==s?t=[t,r,i,a,s]:(t=null,n=f)}else t=null,n=f;else t=null,n=f;else t=null,n=f;else t=null,n=f;return null!==t&&(t=function(t,e,r){var i={};return r.forEach(,i.href=e,i}(0,t[1],t[4])),null===t&&(n=h),t}function c(){var t,r,i,a,s,u;return s=n,u=n,59===e.charCodeAt(n)?(t=";",n++):(t=null,0===o&&l('";"')),null!==t&&null!==(r=g())&&null!==(i=h())&&null!==(a=g())?t=[t,r,i,a]:(t=null,n=u),null!==t&&(t=t[2]),null===t&&(n=s),t}function p(){var t,r,i;if(i=n,/^[^>]/.test(e.charAt(n))?(r=e.charAt(n),n++):(r=null,0===o&&l("[^>]")),null!==r)for(t=[];null!==r;)t.push(r),/^[^>]/.test(e.charAt(n))?(r=e.charAt(n),n++):(r=null,0===o&&l("[^>]"));else t=null;return null!==t&&(t=t.join("")),null===t&&(n=i),t}function h(){var t,e,r,i;return r=n,i=n,null!==(t=f())&&null!==(e=null!==(e=d())?e:"")?t=[t,e]:(t=null,n=i),null!==t&&(t=[t[0],t[1]]),null===t&&(n=r),t}function f(){var t,r,i;if(i=n,/^[a-z]/.test(e.charAt(n))?(r=e.charAt(n),n++):(r=null,0===o&&l("[a-z]")),null!==r)for(t=[];null!==r;)t.push(r),/^[a-z]/.test(e.charAt(n))?(r=e.charAt(n),n++):(r=null,0===o&&l("[a-z]"));else t=null;return null!==t&&(t=t.join("")),null===t&&(n=i),t}function d(){var t,r,i,a;return i=n,a=n,61===e.charCodeAt(n)?(t="=",n++):(t=null,0===o&&l('"="')),null!==t?(null===(r=m())&&(r=v()),null!==r?t=[t,r]:(t=null,n=a)):(t=null,n=a),null!==t&&(t=t[1]),null===t&&(n=i),t}function m(){var t,e,r;if(r=n,null!==(e=y()))for(t=[];null!==e;)t.push(e),e=y();else t=null;return null!==t&&(t=t.join("")),null===t&&(n=r),t}function y(){var t;return 33===e.charCodeAt(n)?(t="!",n++):(t=null,0===o&&l('"!"')),null===t&&(35===e.charCodeAt(n)?(t="#",n++):(t=null,0===o&&l('"#"')),null===t&&(36===e.charCodeAt(n)?(t="$",n++):(t=null,0===o&&l('"$"')),null===t&&(37===e.charCodeAt(n)?(t="%",n++):(t=null,0===o&&l('"%"')),null===t&&(38===e.charCodeAt(n)?(t="&",n++):(t=null,0===o&&l('"&"')),null===t&&(39===e.charCodeAt(n)?(t="'",n++):(t=null,0===o&&l('"\'"')),null===t&&(40===e.charCodeAt(n)?(t="(",n++):(t=null,0===o&&l('"("')),null===t&&(41===e.charCodeAt(n)?(t=")",n++):(t=null,0===o&&l('")"')),null===t&&(42===e.charCodeAt(n)?(t="*",n++):(t=null,0===o&&l('"*"')),null===t&&(43===e.charCodeAt(n)?(t="+",n++):(t=null,0===o&&l('"+"')),null===t&&(45===e.charCodeAt(n)?(t="-",n++):(t=null,0===o&&l('"-"')),null===t&&(46===e.charCodeAt(n)?(t=".",n++):(t=null,0===o&&l('"."')),null===t&&(124===e.charCodeAt(n)?(t="|",n++):(t=null,0===o&&l('"|"')),null===t&&null===(t=E())&&(58===e.charCodeAt(n)?(t=":",n++):(t=null,0===o&&l('":"')),null===t&&(60===e.charCodeAt(n)?(t="<",n++):(t=null,0===o&&l('"<"')),null===t&&(61===e.charCodeAt(n)?(t="=",n++):(t=null,0===o&&l('"="')),null===t&&(62===e.charCodeAt(n)?(t=">",n++):(t=null,0===o&&l('">"')),null===t&&(63===e.charCodeAt(n)?(t="?",n++):(t=null,0===o&&l('"?"')),null===t&&(64===e.charCodeAt(n)?(t="@",n++):(t=null,0===o&&l('"@"')),null===t&&null===(t=S())&&(91===e.charCodeAt(n)?(t="[",n++):(t=null,0===o&&l('"["')),null===t&&(93===e.charCodeAt(n)?(t="]",n++):(t=null,0===o&&l('"]"')),null===t&&(94===e.charCodeAt(n)?(t="^",n++):(t=null,0===o&&l('"^"')),null===t&&(95===e.charCodeAt(n)?(t="_",n++):(t=null,0===o&&l('"_"')),null===t&&(96===e.charCodeAt(n)?(t="`",n++):(t=null,0===o&&l('"`"')),null===t&&(123===e.charCodeAt(n)?(t="{",n++):(t=null,0===o&&l('"{"')),null===t&&(/^[\/\/]/.test(e.charAt(n))?(t=e.charAt(n),n++):(t=null,0===o&&l("[\\/\\/]")),null===t&&(125===e.charCodeAt(n)?(t="}",n++):(t=null,0===o&&l('"}"')),null===t&&(126===e.charCodeAt(n)?(t="~",n++):(t=null,0===o&&l('"~"'))))))))))))))))))))))))))))),t}function g(){var t,e;for(t=[],e=T();null!==e;)t.push(e),e=T();return t}function v(){var t,e,r,i,o;return i=n,o=n,null!==(t=I())&&null!==(e=_())&&null!==(r=I())?t=[t,e,r]:(t=null,n=o),null!==t&&(t=t[1]),null===t&&(n=i),t}function _(){var t,e,r;for(r=n,t=[],null===(e=A())&&(e=C());null!==e;)t.push(e),null===(e=A())&&(e=C());return null!==t&&(t=t.join("")),null===t&&(n=r),t}function x(){var t;return/^[\0-\x7f]/.test(e.charAt(n))?(t=e.charAt(n),n++):(t=null,0===o&&l("[\\0-\x7f]")),t}function b(){var t;return/^[A-Z]/.test(e.charAt(n))?(t=e.charAt(n),n++):(t=null,0===o&&l("[A-Z]")),t}function w(){var t;return/^[a-z]/.test(e.charAt(n))?(t=e.charAt(n),n++):(t=null,0===o&&l("[a-z]")),t}function S(){var t;return null===(t=b())&&(t=w()),t}function E(){var t;return/^[0-9]/.test(e.charAt(n))?(t=e.charAt(n),n++):(t=null,0===o&&l("[0-9]")),t}function T(){var t;return/^[ ]/.test(e.charAt(n))?(t=e.charAt(n),n++):(t=null,0===o&&l("[ ]")),t}function I(){var t;return/^["]/.test(e.charAt(n))?(t=e.charAt(n),n++):(t=null,0===o&&l('["]')),t}function A(){var t;return/^[^"]/.test(e.charAt(n))?(t=e.charAt(n),n++):(t=null,0===o&&l('[^"]')),t}function C(){var t,r,i;return i=n,/^[\\]/.test(e.charAt(n))?(t=e.charAt(n),n++):(t=null,0===o&&l("[\\\\]")),null!==t&&null!==(r=x())?t=[t,r]:(t=null,n=i),t}var z=i[r]();if(null===z||n!==e.length){var P=Math.max(n,a),k=P<e.length?e.charAt(P):null,M=function(){for(var t=1,r=1,i=!1,o=0;o<Math.max(n,a);o++){var s=e.charAt(o);"\n"===s?(i||t++,r=1,i=!1):"\r"===s||"\u2028"===s||"\u2029"===s?(t++,r=1,i=!0):(r++,i=!1)}return{line:t,column:r}}();throw new this.SyntaxError(function(t){t.sort();for(var e=null,r=[],i=0;i<t.length;i++)t[i]!==e&&(r.push(t[i]),e=t[i]);return r}(s),k,P,M.line,M.column)}return z},toSource:SyntaxError:function(e,r,i,n,o){this.name="SyntaxError",this.expected=e,this.found=r,this.message=function(e,r){var i;switch(e.length){case 0:i="end of input";break;case 1:i=e[0];break;default:i=e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}return"Expected "+i+" but "+(r?t(r):"end of input")+" found."}(e,r),this.offset=i,this.line=n,this.column=o}};return e.SyntaxError.prototype=Error.prototype,e}()},296:function(t,e,r){var i=r(160)({response:function(t){return{url:t.url,status:t.status&&t.status.code,headers:t.headers,entity:t.entity,error:t.error,callback:t.request&&t.request.callback,nextPage:t.nextPage}}});t.exports=i},297:function(t,e,r){"use strict";r(192);var i=r(160)({success:function(t){var e=t&&t.callback;return"function"===typeof e&&e(null,t.entity,t),t},error:function(t){var e=t&&t.callback;if("function"===typeof e){var r=t.error||t.entity;"object"!==typeof r&&(r=new Error(r)),e(r)}return t}});t.exports=i},298:function(t,e,r){"use strict";var i=r(299);t.exports=function(t){var e=t.split(".")[1];if(!e)return null;var r=(e=e.replace(/-/g,"+").replace(/_/g,"/")).length%4;if(2===r&&(e+="=="),3===r&&(e+="="),1===r||r>3)return null;try{return JSON.parse(i.decode(e)).u}catch(n){return null}}},299:function(t,e,r){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.exports={encode:function(t){if(/([^\u0000-\u00ff])/.test(t))throw new Error("Can't base64 encode non-ASCII characters.");for(var e,r,n,o=0,a=[];o<t.length;){switch(e=t.charCodeAt(o),n=o%3){case 0:a.push(i.charAt(e>>2));break;case 1:a.push(i.charAt((3&r)<<4|e>>4));break;case 2:a.push(i.charAt((15&r)<<2|e>>6)),a.push(i.charAt(63&e))}r=e,o+=1}return 0===n?(a.push(i.charAt((3&r)<<4)),a.push("==")):1===n&&(a.push(i.charAt((15&r)<<2)),a.push("=")),a.join("")},decode:function(t){if(t=t.replace(/\s/g,""),!/^[a-z0-9\+\/\s]+\={0,2}$/i.test(t)||t.length%4>0)throw new Error("Not a base64-encoded string.");var e,r,n=0,o=[];for(t=t.replace(/\=/g,"");n<t.length;){switch(e=i.indexOf(t.charAt(n)),n%4){case 1:o.push(String.fromCharCode(r<<2|e>>4));break;case 2:o.push(String.fromCharCode((15&r)<<4|e>>2));break;case 3:o.push(String.fromCharCode((3&r)<<6|e))}r=e,n+=1}return o.join("")}}}}]);