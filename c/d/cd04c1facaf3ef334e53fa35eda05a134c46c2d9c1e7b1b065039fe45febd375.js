var amplitude=function(){"use strict";p="$default_instance",c=2,n=4096,a=1e3,m="$identify",y="$groupidentify",o="amplitude_cookie_test",d="amp",s="revenue_amount",u="$productId",l="$quantity",h="$price",f="$revenueType",v="amp_device_id",_="referrer",w="utm_source",b="utm_medium",I="utm_campaign",S="utm_term",k="utm_content",E=O=x={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:_encode:decode:_decode:,N=Object.prototype.toString;ar e,C={DISABLE:0,ERROR:1,WARN:2,INFO:3},T=C.WARN,P={error:function(e){T>=C.ERROR&&R(e)},warn:function(e){T>=C.WARN&&R(e)},info:,R=q=D=j=["nan","function","arguments","regexp","element"],U=M=K=z=P,B=G=F=V=L=W=D,$=function(){return window.location},J=Q=X=Q,H=J,Z=function(){var e=String(new Date);try{Q(o,e,{});var t=J(o+"=")===e;return Q(o,null,{}),t}catch(e){}return!1},Y=function(e){for(var t,n,i=(t=e,(n=document.createElement("a")).href=t,n.hostname||location.hostname).split("."),r=[],o=i.length-2;0<=o;--o)r.push(i.slice(o).join("."));for(var s=0;s<r.length;++s){var a="__tld_test__",u=r[s],c={domain:"."+u};if(X(a,1,c),H(a))return X(a,null,c),u}return""},ee={expirationDays:void 0,domain:void 0},te=ne=ie=re=oe={reset:options:get:ne,set:ie,remove:re,setRaw:getRaw:;if())e=window.localStorage;else if(window.globalStorage)try{e=window.globalStorage[window.location.hostname]}catch(e){}else if("undefined"!=typeof document){var se=document.createElement("div"),ae="localStorage";se.style.display="none",document.getElementsByTagName("head")[0].appendChild(se),se.addBehavior&&(se.addBehavior("#default#userdata"),e={length:0,setItem:getItem:removeItem:clear:key:,se.load(ae),e.length=se.XMLDocument.documentElement.attributes.length)}e||(e={length:0,setItem:getItem:function(e){},removeItem:function(e){},clear:function(){},key:);var ue=e,ce=ce.prototype._cookiesEnabled=ce.prototype.getStorage=var pe=function(){function u(e){var t=e.storageKey,n=e.disableCookies,i=e.domain,r=e.secure,o=e.sameSite,s=e.expirationDays;!this,u),this.storageKey=t,this.disableCookieStorage=!Z()||n,this.domain=i,this.secure=r,this.sameSite=o,this.expirationDays=s,this.cookieDomain="";var a=Y($().href);this.cookieDomain=i||(a?"."+a:null)}var e,t,n;return e=u,(t=[{key:"getCookieStorageKey",value:,{key:"save",value:function(e){var t=e.deviceId,n=e.userId,i=e.optOut,r=e.sessionId,o=e.lastEventTime,s=e.eventId,a=e.identifyId,u=e.sequenceNumber,c=[t,x.encode(n||""),i?"1":"",r?r.toString(32):"0",o?o.toString(32):"0",s?s.toString(32):"0",a?a.toString(32):"0",u?u.toString(32):"0"].join(".");this.disableCookieStorage?ue.setItem(this.storageKey,c):X(this.getCookieStorageKey(),c,{domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:this.expirationDays})}},{key:"load",value:function(){var e;if(this.disableCookieStorage||(e=H(this.getCookieStorageKey()+"=")),e||(e=ue.getItem(this.storageKey)),!e)return null;var t=e.split("."),n=null;if(t[1])try{n=x.decode(t[1])}catch(e){n=null}return{deviceId:t[0],userId:n,optOut:"1"===t[2],sessionId:parseInt(t[3],32),lastEventTime:parseInt(t[4],32),eventId:parseInt(t[5],32),identifyId:parseInt(t[6],32),sequenceNumber:parseInt(t[7],32)}}}])&&i(e.prototype,t),n&&i(e,n),u}(),de="$clearAll",le=le.prototype.add=le.prototype.append=function(e,t){return this._addOperation("$append",e,t),this},le.prototype.clearAll=le.prototype.prepend=function(e,t){return this._addOperation("$prepend",e,t),this},le.prototype.set=function(e,t){return this._addOperation("$set",e,t),this},le.prototype.setOnce=le.prototype.unset=le.prototype._addOperation=var he="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};ar ve=fe(,ge=me=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var we=)?Object.assign:be="%[a-f0-9]{2}";new RegExp(be,"gi"),new RegExp("("+be+")+","gi");ar Se=ke=ke.prototype.send=var Ee=Ee.prototype.setProductId=Ee.prototype.setQuantity=function(e){return"number"!==A(e)?z.error("Unsupported type for quantity: "+A(e)+", expecting number"):this._quantity=parseInt(e),this},Ee.prototype.setPrice=function(e){return"number"!==A(e)?z.error("Unsupported type for price: "+A(e)+", expecting number"):this._price=e,this},Ee.prototype.setRevenueType=Ee.prototype.setEventProperties=Ee.prototype._isValidRevenue=Ee.prototype._toJSONObject=var Oe,xe=fe(,Ne=(xe.UAParser,,Ae="6.2.0",Ce={apiEndpoint:"api.amplitude.com",batchEvents:!1,cookieExpiration:3650,cookieName:"amplitude_id",sameSiteCookie:"None",cookieForceUpgrade:!1,deferInitialization:!1,disableCookies:!1,deviceIdFromUrlParam:!1,domain:"",eventUploadPeriodMillis:3e4,eventUploadThreshold:30,forceHttps:!0,includeGclid:!1,includeReferrer:!1,includeUtm:!1,language:),logLevel:"WARN",optOut:!1,onError:function(){},platform:"Web",savedMaxCount:1e3,saveEvents:!0,saveParamsReferrerOncePerSession:!0,secureCookie:!1,sessionTimeout:18e5,trackingOptions:{city:!0,country:!0,carrier:!0,device_manufacturer:!0,device_model:!0,dma:!0,ip_address:!0,language:!0,os_name:!0,os_version:!0,platform:!0,region:!0,version_name:!0},unsetParamsReferrerOnNewSession:!1,unsentKey:"amplitude_unsent",unsentIdentifyKey:"amplitude_unsent_identify",uploadBatchSize:100},Te=function(e){this._instanceName=B(e)?p:e.toLowerCase(),this._unsentEvents=[],this._unsentIdentifys=[],this._ua=new xe(navigator.userAgent).getResult(),this.options=g({},Ce,{trackingOptions:g({},Ce.trackingOptions)}),this.cookieStorage=(new ce).getStorage(),this._q=[],this._sending=!1,this._updateScheduled=!1,this._onInit=[],this._eventId=0,this._identifyId=0,this._lastEventTime=null,this._newSession=!1,this._sequenceNumber=0,this._sessionId=null,this._isInitialized=!1,this._userAgent=navigator&&navigator.userAgent||null};Te.prototype.Identify=le,Te.prototype.Revenue=Ee,Te.prototype.init=function(e,i,r,t){var o=this;if("string"!==A(e)||B(e))z.error("Invalid apiKey. Please re-initialize with a valid apiKey");else try{Re(this.options,r),this.options.cookieName!==Ce.cookieName&&z.warn("The cookieName option is deprecated. We will be ignoring it for newer cookies"),this.options.apiKey=e,this._storageSuffix="_"+e+(this._instanceName===p?"":"_"+this._instanceName),this._storageSuffixV5=e.slice(0,6),this._oldCookiename=this.options.cookieName+this._storageSuffix,this._unsentKey=this.options.unsentKey+this._storageSuffix,this._unsentIdentifyKey=this.options.unsentIdentifyKey+this._storageSuffix,this._cookieName=d+"_"+this._storageSuffixV5,this.cookieStorage.options({expirationDays:this.options.cookieExpiration,domain:this.options.domain,secure:this.options.secureCookie,sameSite:this.options.sameSiteCookie}),this._metadataStorage=new pe({storageKey:this._cookieName,disableCookies:this.options.disableCookies,expirationDays:this.options.cookieExpiration,domain:this.options.domain,secure:this.options.secureCookie,sameSite:this.options.sameSiteCookie});var n=!!this.cookieStorage.get(this._oldCookiename),s=!!this._metadataStorage.load();this._useOldCookie=!s&&n&&!this.options.cookieForceUpgrade;var a=s||n;if(this.options.domain=this.cookieStorage.options().domain,this.options.deferInitialization&&!a)return void this._deferInitialization(e,i,r,t);"string"===A(this.options.logLevel)&&K(this.options.logLevel);var u=Be(this);this._apiPropertiesTrackingOptions=0<Object.keys(u).length?{tracking_options:u}:{},this.options.cookieForceUpgrade&&n&&(s||De(this),this.cookieStorage.remove(this._oldCookiename)),qe(this),this._pendingReadStorage=!0;var c=function(e){o.options.deviceId="object"===A(r)&&"string"===A(r.deviceId)&&!B(r.deviceId)&&r.deviceId||o.options.deviceIdFromUrlParam&&o._getDeviceIdFromUrlParam(o._getUrlParams())||o.options.deviceId||e||Ne(),o.options.userId="string"===A(i)&&!B(i)&&i||"number"===A(i)&&i.toString()||o.options.userId||null;var t=(new Date).getTime();(!o._sessionId||!o._lastEventTime||t-o._lastEventTime>o.options.sessionTimeout)&&(o.options.unsetParamsReferrerOnNewSession&&o._unsetUTMParams(),o._newSession=!0,o._sessionId=t,o.options.saveParamsReferrerOncePerSession&&o._trackParamsAndReferrer()),o.options.saveParamsReferrerOncePerSession||o._trackParamsAndReferrer(),o.options.saveEvents&&(Pe(o._unsentEvents),Pe(o._unsentIdentifys)),o._lastEventTime=t,Ue(o),o._pendingReadStorage=!1,o._sendEventsIfReady();for(var n=0;n<o._onInit.length;n++)o._onInit[n](o);o._onInit=[],o._isInitialized=!0};this.options.saveEvents&&(this._unsentEvents=this._loadSavedUnsentEvents(this.options.unsentKey).map(function(e){return{event:e}}).concat(this._unsentEvents),this._unsentIdentifys=this._loadSavedUnsentEvents(this.options.unsentIdentifyKey).map(.concat(this._unsentIdentifys)),c(),this.runQueuedFunctions(),"function"===A(t)&&t(this)}catch(e){z.error(e),this.options.onError(e)}};var Pe=Te.prototype._migrateUnsentEvents=Te.prototype._trackParamsAndReferrer=var Re=Te.prototype.runQueuedFunctions=Te.prototype._apiKeySet=Te.prototype._loadSavedUnsentEvents=Te.prototype._parseSavedUnsentEventsString=Te.prototype.isNewSession=function(){return this._newSession},Te.prototype.onInit=Te.prototype.getSessionId=Te.prototype.nextEventId=function(){return this._eventId++,this._eventId},Te.prototype.nextIdentifyId=function(){return this._identifyId++,this._identifyId},Te.prototype.nextSequenceNumber=Te.prototype._unsentCount=Te.prototype._sendEventsIfReady=Te.prototype._getFromStorage=Te.prototype._setInStorage=var qe=De=je=Ue=Te.prototype._initUtmData=Te.prototype._unsetUTMParams=var Me=Te.prototype._getReferrer=function(){return document.referrer},Te.prototype._getUrlParams=Te.prototype._saveGclid=Te.prototype._getDeviceIdFromUrlParam=Te.prototype._getReferringDomain=Te.prototype._saveReferrer=Te.prototype.saveEvents=Te.prototype.setDomain=Te.prototype.setUserId=Te.prototype.setGroup=Te.prototype.setOptOut=Te.prototype.setSessionId=Te.prototype.resetSessionId=Te.prototype.regenerateDeviceId=Te.prototype.setDeviceId=Te.prototype.setUserProperties=Te.prototype.clearUserProperties=var Ke=Te.prototype.identify=Te.prototype.groupIdentify=Te.prototype.setVersionName=Te.prototype._logEvent=function(e,t,n,i,r,o,s,a){if(qe(this),e)if(this.options.optOut)"function"===A(a)&&a(0,"No request sent",{reason:"optOut is set to true"});else try{var u;u=e===m||e===y?this.nextIdentifyId():this.nextEventId();var c=this.nextSequenceNumber(),p="number"===A(s)?s:(new Date).getTime();(!this._sessionId||!this._lastEventTime||p-this._lastEventTime>this.options.sessionTimeout)&&(this._sessionId=p),this._lastEventTime=p,Ue(this);var d=this._ua.browser.name,l=this._ua.browser.major,h=this._ua.device.model,f=this._ua.device.vendor;i=i||{},n=g({},n||{},g({},this._apiPropertiesTrackingOptions)),t=t||{},r=r||{},o=o||{};var v={device_id:this.options.deviceId,user_id:this.options.userId,timestamp:p,event_id:u,session_id:this._sessionId||-1,event_type:e,version_name:ze(this,"version_name")&&this.options.versionName||null,platform:ze(this,"platform")?this.options.platform:null,os_name:ze(this,"os_name")&&d||null,os_version:ze(this,"os_version")&&l||null,device_model:ze(this,"device_model")&&h||null,device_manufacturer:ze(this,"device_manufacturer")&&f||null,language:ze(this,"language")?this.options.language:null,carrier:(ze(this,"carrier"),null),api_properties:n,event_properties:F(W(t)),user_properties:F(W(i)),uuid:),library:{name:"amplitude-js",version:Ae},sequence_number:c,groups:F(V(r)),group_properties:F(W(o)),user_agent:this._userAgent};return e===m||e===y?(this._unsentIdentifys.push({event:v,callback:a}),this._limitEventsQueued(this._unsentIdentifys)):(this._unsentEvents.push({event:v,callback:a}),this._limitEventsQueued(this._unsentEvents)),this.options.saveEvents&&this.saveEvents(),this._sendEventsIfReady(a),u}catch(e){z.error(e)}else"function"===A(a)&&a(0,"No request sent",{reason:"Missing eventType"})};var ze=Be=Te.prototype._limitEventsQueued=Te.prototype.logEvent=Te.prototype.logEventWithTimestamp=Te.prototype.logEventWithGroups=var Ge=Te.prototype.logRevenueV2=Te.prototype.logRevenue=Te.prototype.removeEvents=var Fe=Te.prototype.sendEvents=function(){if(this._apiKeySet("sendEvents()")){if(this.options.optOut)this.removeEvents(1/0,1/0,0,"No request sent",{reason:"Opt out is set to true"});else if(0!==this._unsentCount()&&!this._sending){this._sending=!0;var e=(this.options.forceHttps?"https":"https:"===window.location.protocol?"https":"http")+"://"+this.options.apiEndpoint,n=Math.min(this._unsentCount(),this.options.uploadBatchSize),t=this._mergeEventsAndIdentifys(n),i=t.maxEventId,r=t.maxIdentifyId,o=JSON.stringify(t.eventsToSend.map(),s=(new Date).getTime(),a={client:this.options.apiKey,e:o,v:c,upload_time:s,checksum:ve(c+this.options.apiKey+o+s)},u=this;new ke(e,a).send(}}else this.removeEvents(1/0,1/0,0,"No request sent",{reason:"API key not set"})},Te.prototype._mergeEventsAndIdentifys=Te.prototype.setGlobalUserProperties=Te.prototype.__VERSION__=Ae,Te.prototype._shouldDeferCall=Te.prototype._deferInitialization=Te.prototype.enableTracking=var Ve=Ve.prototype.Identify=le,Ve.prototype.Revenue=Ee,Ve.prototype.getInstance=Ve.prototype.runQueuedFunctions=Ve.prototype.init=Ve.prototype.isNewSession=function(){return this.getInstance().isNewSession()},Ve.prototype.getSessionId=function(){return this.getInstance().getSessionId()},Ve.prototype.nextEventId=function(){return this.getInstance().nextEventId()},Ve.prototype.nextIdentifyId=function(){return this.getInstance().nextIdentifyId()},Ve.prototype.nextSequenceNumber=Ve.prototype.saveEvents=function(){this.getInstance().saveEvents()},Ve.prototype.setDomain=function(e){this.getInstance().setDomain(e)},Ve.prototype.setUserId=function(e){this.getInstance().setUserId(e)},Ve.prototype.setGroup=function(e,t){this.getInstance().setGroup(e,t)},Ve.prototype.setOptOut=function(e){this.getInstance().setOptOut(e)},Ve.prototype.regenerateDeviceId=function(){this.getInstance().regenerateDeviceId()},Ve.prototype.setDeviceId=function(e){this.getInstance().setDeviceId(e)},Ve.prototype.setUserProperties=function(e){this.getInstance().setUserProperties(e)},Ve.prototype.clearUserProperties=Ve.prototype.identify=function(e,t){this.getInstance().identify(e,t)},Ve.prototype.setVersionName=function(e){this.getInstance().setVersionName(e)},Ve.prototype.logEvent=function(e,t,n){return this.getInstance().logEvent(e,t,n)},Ve.prototype.logEventWithGroups=Ve.prototype.logRevenueV2=Ve.prototype.logRevenue=Ve.prototype.removeEvents=Ve.prototype.sendEvents=function(e){this.getInstance().sendEvents(e)},Ve.prototype.setGlobalUserProperties=Ve.prototype.__VERSION__=Ae;var Le=window.amplitude||{},We=new Ve;for(var $e in We._q=Le._q||[],Le._iq)Le._iq.hasOwnProperty($e)&&(We.getInstance($e)._q=Le._iq[$e]._q||[]);return We.runQueuedFunctions(),We}();
