!function(){ction n(t){if(!e(t))return!1;if(null===t)return!1;const r=t.constructor,n=r.prototype;return void 0===r||!!e(n)&&!!n.isPrototypeOf}const o=navigator.sendBeacon.bind(navigator);function i(t,e){return new Promise((r,o)=>{let i;const a=new XMLHttpRequest,s={url:"",type:"GET",data:"",dataType:"json",async:!0,timeout:3e3,headers:{}};i=e?{...s,url:t,...e}:{...s,...e||{},...n(t)?t:{url:t}},i.type||o("You must provide a request type"),i.type=i.type.toUpperCase(),a.open(i.type,i.url),"json"===i.dataType&&("string"!=typeof i.data&&(i.data=JSON.stringify(i.data)),a.setRequestHeader("Content-type","application/json")),"POST"===i.type&&"json"!==i.dataType&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.headers&&Object.entries(i.headers).forEach(,a.onload=function(){a.status>=400?o(a.responseText):r(a)},a.onerror=i.data?a.send(i.data):a.send()})}function a(t,e){if(navigator.sendBeacon)try{if(!o(t,"string"!=typeof e?JSON.stringify(e):e))throw new Error("Failed to queue beacon")}catch(r){i({url:t,data:e,type:"POST"}).catch(t=>{})}else i({url:t,data:e,type:"POST"}).catch(t=>{})}const s="https://t.marketingcloudfx.com/visit",c={fx_matchtype:["mt"],fx_network:["n"],fx_creative:["c"],fx_keyword:["q"],fx_placement:["p"],fx_aceid:["ac"],fx_adposition:["ap"],utm_campaign:["utmc"],utm_content:["utmct"],utm_source:["utms","s"],utm_medium:["utms","m"],utm_segment:["utmse"],gclid:["gclid"],gbraid:["gbraid"],wbraid:["wbraid"],msclkid:["msclkid"],fbclid:["fbclid"],twclid:["twclid"],li_fat_id:["li_fat_id"],epik:["epik"],pp:["pp"],adClickId:["adId"]};ar l,p={read:write:,{path:"/"}),f=new Uint8Array(16);ar d=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;or(var m=[],g=0;g<256;++g)m.push((g+256).toString(16).substr(1));r w,S="Function.prototype.bind called on incompatible ",A=Array.prototype.slice,j=Object.prototype.toString,O="[object Function]",E=Function.prototype.bind||x=P="undefined"!=typeof Symbol&&Symbol,I=k={foo:{}},T=Object,C=E.call(Function.call,Object.prototype.hasOwnProperty),F=SyntaxError,_=Function,L=TypeError,R=U=Object.getOwnPropertyDescriptor;if(U)try{U({},"")}catch(xn){U=null}var D=N=U?):D,M=I(),B=Object.getPrototypeOf||({__proto__:k}.foo!==k.foo||{__proto__:null}instanceof T?null:function(t){return t.__proto__}),$={},W="undefined"!=typeof Uint8Array&&B?B(Uint8Array):w,q={"%AggregateError%":"undefined"==typeof AggregateError?w:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?w:ArrayBuffer,"%ArrayIteratorPrototype%":M&&B?B([][Symbol.iterator]()):w,"%AsyncFromSyncIteratorPrototype%":w,"%AsyncFunction%":$,"%AsyncGenerator%":$,"%AsyncGeneratorFunction%":$,"%AsyncIteratorPrototype%":$,"%Atomics%":"undefined"==typeof Atomics?w:Atomics,"%BigInt%":"undefined"==typeof BigInt?w:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?w:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?w:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?w:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?w:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?w:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?w:FinalizationRegistry,"%Function%":_,"%GeneratorFunction%":$,"%Int8Array%":"undefined"==typeof Int8Array?w:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?w:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?w:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":M&&B?B(B([][Symbol.iterator]())):w,"%JSON%":"object"==typeof JSON?JSON:w,"%Map%":"undefined"==typeof Map?w:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&M&&B?B((new Map)[Symbol.iterator]()):w,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?w:Promise,"%Proxy%":"undefined"==typeof Proxy?w:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?w:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?w:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&M&&B?B((new Set)[Symbol.iterator]()):w,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?w:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":M&&B?B(""[Symbol.iterator]()):w,"%Symbol%":M?Symbol:w,"%SyntaxError%":F,"%ThrowTypeError%":N,"%TypedArray%":W,"%TypeError%":L,"%Uint8Array%":"undefined"==typeof Uint8Array?w:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?w:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?w:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?w:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?w:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?w:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?w:WeakSet};if(B)try{null.error}catch(xn){var G=B(B(xn));q["%Error.prototype%"]=G}var J=V={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},z=E.call(Function.call,Array.prototype.concat),H=E.call(Function.apply,Array.prototype.splice),X=E.call(Function.call,String.prototype.replace),Y=E.call(Function.call,String.prototype.slice),K=E.call(Function.call,RegExp.prototype.exec),Q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,tt=et=rt=nt=v(,ot=nt(rt("String.prototype.indexOf")),it=at=rt("%TypeError%"),st=ct=st,ut=rt("%Array%"),lt=!ut.isArray&&it("Object.prototype.toString"),pt=ut.isArray||ft=rt("%TypeError%"),yt=rt("%Reflect.apply%",!0)||it("Function.prototype.apply"),dt={__proto__:null,default:{}},ht="function"==typeof Map&&Map.prototype,mt=Object.getOwnPropertyDescriptor&&ht?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,gt=ht&&mt&&"function"==typeof mt.get?mt.get:null,bt=ht&&Map.prototype.forEach,vt="function"==typeof Set&&Set.prototype,wt=Object.getOwnPropertyDescriptor&&vt?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,St=vt&&wt&&"function"==typeof wt.get?wt.get:null,At=vt&&Set.prototype.forEach,jt="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,Ot="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,Et="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,xt=Boolean.prototype.valueOf,Pt=Object.prototype.toString,It=Function.prototype.toString,kt=String.prototype.match,Tt=String.prototype.slice,Ct=String.prototype.replace,Ft=String.prototype.toUpperCase,_t=String.prototype.toLowerCase,Lt=RegExp.prototype.test,Rt=Array.prototype.concat,Ut=Array.prototype.join,Dt=Array.prototype.slice,Nt=Math.floor,Mt="function"==typeof BigInt?BigInt.prototype.valueOf:null,Bt=Object.getOwnPropertySymbols,$t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Wt="function"==typeof Symbol&&"object"==typeof Symbol.iterator,qt="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Gt=Object.prototype.propertyIsEnumerable,Jt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?null);function Vt(t,e){if(Infinity===t||-Infinity===t||t!=t||t&&t>-1e3&&t<1e3||Lt.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-Nt(-t):Nt(t);if(n!==t){var o=String(n),i=Tt.call(e,o.length+1);return Ct.call(o,r,"$&_")+"."+Ct.call(Ct.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ct.call(e,r,"$&_")}var zt=dt.custom,Ht=Zt(zt)?zt:null;nction Kt(t){return!("[object Array]"!==re(t)||qt&&"object"==typeof t&&qt in t)}r te=Object.prototype.hasOwnProperty||ye=function t(e,r,n,o){var i=r||{};if(ee(i,"quoteStyle")&&"single"!==i.quoteStyle&&"double"!==i.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ee(i,"maxStringLength")&&("number"==typeof i.maxStringLength?i.maxStringLength<0&&Infinity!==i.maxStringLength:null!==i.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!ee(i,"customInspect")||i.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ee(i,"indent")&&null!==i.indent&&"\t"!==i.indent&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ee(i,"numericSeparator")&&"boolean"!=typeof i.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=i.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return oe(e,i);if("number"==typeof e){if(0===e)return Infinity/e>0?"0":"-0";var c=String(e);return s?Vt(e,c):c}if("bigint"==typeof e){var u=String(e)+"n";return s?Vt(e,u):u}var l=void 0===i.depth?5:i.depth;if(void 0===n&&(n=0),n>=l&&l>0&&"object"==typeof e)return Kt(e)?"[Array]":"[Object]";var p,f=i,n);if(void 0===o)o=[];else if(ne(o,e)>=0)return"[Circular]";f("function"==typeof e&&!Qt(e)){var d=e),h=le(e,y);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(h.length>0?" { "+Ut.call(h,", ")+" }":"")}if(Zt(e)){var m=Wt?Ct.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):$t.call(e);return"object"!=typeof e||Wt?m:ae(m)}if((p=e)&&"object"==typeof p&&("undefined"!=typeof HTMLElement&&p instanceof HTMLElement||"string"==typeof p.nodeName&&"function"==typeof p.getAttribute)){for(var g="<"+_t.call(String(e.nodeName)),b=e.attributes||[],v=0;v<b.length;v++)g+=" "+b[v].name+"="+Xt(Yt(b[v].value),"double",i);return g+=">",e.childNodes&&e.childNodes.length&&(g+="..."),g+"</"+_t.call(String(e.nodeName))+">"}if(Kt(e)){if(0===e.length)return"[]";var w=le(e,y);return f&&!w)?"["+ue(w,f)+"]":"[ "+Ut.call(w,", ")+" ]"}if(function(t){return!("[object Error]"!==re(t)||qt&&"object"==typeof t&&qt in t)}(e)){var S=le(e,y);return"cause"in Error.prototype||!("cause"in e)||Gt.call(e,"cause")?0===S.length?"["+String(e)+"]":"{ ["+String(e)+"] "+Ut.call(S,", ")+" }":"{ ["+String(e)+"] "+Ut.call(Rt.call("[cause]: "+y(e.cause),S),", ")+" }"}if("object"==typeof e&&a){if(Ht&&"function"==typeof e[Ht]&&dt)return dt(e,{depth:l-n});if("symbol"!==a&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!gt||!t||"object"!=typeof t)return!1;try{gt.call(t);try{St.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var A=[];return bt&&bt.call(e,,ce("Map",gt.call(e),A,f)}if(e)){var j=[];return At&&At.call(e,,ce("Set",St.call(e),j,f)}if(function(t){if(!jt||!t||"object"!=typeof t)return!1;try{jt.call(t,jt);try{Ot.call(t,Ot)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return se("WeakMap");if(e))return se("WeakSet");if(e))return se("WeakRef");if(function(t){return!("[object Number]"!==re(t)||qt&&"object"==typeof t&&qt in t)}(e))return ae(y(Number(e)));if(e))return ae(y(Mt.call(e)));if(function(t){return!("[object Boolean]"!==re(t)||qt&&"object"==typeof t&&qt in t)}(e))return ae(xt.call(e));if(function(t){return!("[object String]"!==re(t)||qt&&"object"==typeof t&&qt in t)}(e))return ae(y(String(e)));if(!e)&&!Qt(e)){var O=le(e,y),E=Jt?Jt(e)===Object.prototype:e instanceof Object||e.constructor===Object,x=e instanceof Object?"":"null prototype",P=!E&&qt&&Object(e)===e&&qt in e?Tt.call(re(e),8,-1):x?"Object":"",I=(E||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(P||x?"["+Ut.call(Rt.call([],P||[],x||[]),": ")+"] ":"");return 0===O.length?I+"{}":f?I+"{"+ue(O,f)+"}":I+"{ "+Ut.call(O,", ")+" }"}return String(e)},de=function(t){return"symbol"==typeof t?"Symbol":"bigint"==typeof t?"BigInt":t)},he=rt("%TypeError%"),me=Function.prototype.toString,ge="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof ge&&"function"==typeof Object.defineProperty)try{pe=Object.defineProperty({},"length",{get:function(){throw fe}}),fe={},ge(null,pe)}catch(t){t!==fe&&(ge=null)}else ge=null;var be=/^\s*class\b/,ve=we=Se=Object.prototype.toString,Ae="function"==typeof Symbol&&!!Symbol.toStringTag,je=!(0 in[,]),Oe=if("object"==typeof document){var Ee=document.all;Se.call(Ee)===Se.call(document.all)&&(Oe=}var xe,Pe,Ie,ke,Te=ge?Ce=Te,Fe=Number.MAX_SAFE_INTEGER||9007199254740991,_e=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t},Le=Date.prototype.getDay,Re=Object.prototype.toString,Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,De=Ne=v(function(t){var e=Object.prototype.toString;if(I()){var r=Symbol.prototype.toString,n=/^Symbol\(.*\)$/;t.exports=else t.exports=),Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,Be=function(t,e){if(null==t)throw new TypeError("Cannot call method on "+t);if("string"!=typeof e||"number"!==e&&"string"!==e)throw new TypeError('hint must be "string" or "number"');var r,n,o,i="string"===e?["toString","valueOf"]:["valueOf","toString"];for(o=0;o<i.length;++o)if(Te(r=t[i[o]])&&(n=r.call(t),_e(n)))return n;throw new TypeError("No default value")},$e=We=qe=x()&&!!Symbol.toStringTag;if(qe){xe=it("Object.prototype.hasOwnProperty"),Pe=it("RegExp.prototype.exec"),Ie={};var Ge=ke={toString:Ge,valueOf:Ge},"symbol"==typeof Symbol.toPrimitive&&(ke[Symbol.toPrimitive]=Ge)}var Je,Ve=it("Object.prototype.toString"),ze=Object.getOwnPropertyDescriptor,He=qe?Xe=it("RegExp.prototype.exec"),Ye=rt("%TypeError%"),Ke=Qe=Object.prototype.toString,Ze=if(!Object.keys){var tr=Object.prototype.hasOwnProperty,er=Object.prototype.toString,rr=Ze,nr=Object.prototype.propertyIsEnumerable,or=!nr.call({toString:null},"toString"),ir=nr.call(function(){},"prototype"),ar=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],sr=cr={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},ur=);Je=var lr=Array.prototype.slice,pr=Object.keys,fr=pr?Je,yr=Object.keys;fr.shim=var dr=fr,hr=rt("%Object.defineProperty%",!0),mr=mr.hasArrayLengthDefineBug=var gr=mr,br=rt("%Object.getOwnPropertyDescriptor%",!0);if(br)try{br([],"length")}catch(xn){br=null}var vr=gr,wr=br,Sr=vr()&&rt("%Object.defineProperty%",!0),Ar=rt("%SyntaxError%"),jr=rt("%TypeError%"),Or=Er="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),xr=Object.prototype.toString,Pr=Array.prototype.concat,Ir=vr(),kr=Tr=Tr.supportsDescriptors=!!Ir;var Cr=Tr,Fr=rt("%String%"),_r=rt("%TypeError%"),Lr=Rr=it("String.prototype.replace"),Ur=/^\s$/.test("᠎"),Dr=Ur?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,Nr=Ur?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,M},Brototype.trim:Mr},$r=nt(Br()),Wr=function(t){return st(t),$r(t)};Cr(Wr,{getPolyfill:Br,implepe.trim!==t}}),t}});var qr=Wr,Gr=rt("%Number%"),Jr=rt("%RegExp%"),Vr=rt("%TypeError%"),zr=rt("%parseInt%"),Hr=it("String.prototype.slice"),Xr=Ke(/^0b[01]+$/i),Yr=Ke(/^0o[0-7]+$/i),Kr=Ke(/^[-+]0x[0-9a-f]+$/i),Qr=Ke(new Jr("["+["","​","￾"]turn r!==e?t(r):Gr(e)},tn=rt("%TypeError%"),en=rt("%NumbgInt"===de(t)?t:rn(t)},on=rt("%TypeErrnction(t){return t!=t},sn=at&&"ot,arguments[1]):We(t)}(t,en);if("symbol"==typeof e)throw new tn("Cannot convert a Symbol value to a number");if("bigint"==typeof e)throw new tn("Conversion from 'BigInt' to 'number' is not allowed.");return"string"==typeof e?Zr(e):en(e)},un=Fe,ln=function(t,e){if("Object"!==de(t))throw new he("Assertion failed: Type(O) is not Object");if("string"!=typeof(r=e)&&"symbol"!=typeof r)throw new he("Assertion failed: IsPropertyKey(P) is not true, got "+ye(e));var r;return t[e]},pn=rt("%TypeError%"st");return yt(t,e,r)},dn=Ce,hn=function(t){if("Object"!==de(t))throw new pn("Assertion failed: `obj` must be an Object");return n=ln(t,"length"),r=cn(n),(o=sn(r)||0===r?0:"number"!=typeof(e=r)&&"bigint"!=typeof e||sn(e)||Infinitn(t);return 0===e?0:e}(r))<=0?0:o>ufunt){return st(t),fn(t)},bn=rt("%TypeError%");const vn=nt.apply(Array.prototype.findLastIndex||function(t){var e,r=gn(this),n=hn(r);if(!dn(t))throw new bn("predicate must be a function");arguments.length>1&&(e=arguments[1]);for(var o=n-1;o>=0;){var i=Lr(o),a=ln(r,i),s=mn(yn(t,e,[a,o,r]));if(s)return o;o-=1}return-1}),wn=it("Array.prototype.slice");function Sn(t){try{const{hostname:e,href:r,origin:n,pathname:o,search:i,protocol:a,hash:s,searchParams:c}=new URL(t||window.location.href),u={hostname:e,href:r,origin:n,pathname:o,search:i,searchParams:Object.fromEntries(c),protocol:a,hash:s,domain:"",subdomain:"",tld:"",cookieDomain:""};return e&&(u.domain=function(t){let e=(null!=t?t:location.hostname).split(".");returvn(t){return t.length>3}))),e.join(".")}(e),u.subdomain=e.replace(u.domain,"").split(".").filter(t=>t).join("."),u.tld=u.domain.split(".").slice(1).join("."),u.cookieDomain="."+u.domain),u}catch(t){return null}}function An(t){return Object.fromEntries(new URLSearchParams(t||window.location.search))}function jn(t){return Object.entries(null!=t?t:An()).reduce((t,e)=>{let[r,n]=e;rer].forEach(e=>{t[e]=n}):-1!==r.indexOf("utm")?t[r]=n:0===r.indexOf("fx_")&&(t[r.replace("fx_","")]=n),t},{})}function On(t,e){const r=new CustomEvent("mcfx:"+t,{detail:e});window.dispatchEvent(r)}class En{constructor(t){this._values=void 0,this.visitorSessionLength=void 0,this.cookieDomain=void 0,this.useSecureCookies=void 0,this.visitorSessionLength=t.visitorSessionLength,this.cookieDomain=t.cookieDomain,this.useSecureCookies=t.useSecureCookies,this._values=new Map,this.createSession()}get validTTL(){return(new Date).getTime()<this._values.get("ttl")}get gaDataLayer(){const t=(window.dataLayer||[]).reduce((t,e)=>(Obje=>{let[r,n]=e;t[r]=n}),t),{});return t.mcfxVisitorId=this.get("uid"),t.gaId=this.get("gaId"),Object.entries(t).reduce((t,e)=>{let[r,n]=e;return n&&t.push({[r]:n}),t},[])}get cookiedUID(){const t=p.get("__fx"),e=p.get("fx_uuid");return"undefined"!==t?t:"undefined"!==e?e:void 0}createSession(){const t=(new Date).getTime(),e=window.localStorage.getItem("__fx"),r=e?JSON.parse(e):{},n={sid:b(),pg:p.get("mcfxPGID"),r:document.referrer,...t<(null==r?void 0:r.ttl)?r:{},uid:this.cookiedUID||r.uid||b(),ttl:(new Date).getTime()+6e4*this.visitorSessionLength,gaId:p.get("_ga"),...jn()};var o;return void 0!==n.s&&void 0!==n.m||(o=n.r,Promise.resolve(function(t,e){try{var r=Promise.resolve(i({type:"POST",url:("https:"===document.location.protocol?"https://":"http://")+"t.marketingcloudfx.com/visitor",data:JSON.stringify({referrSON.parse(t.response)})}catch(t){return null}return runction(){return null}):r}())).then(t=>{this.set({...jn(null!=t?t:{}),s:null==t?void 0:t.source,m:null==t?void 0:t.medium,st:null==t?void 0:t.term,l:null==t?void 0:t.location,ip:null==t?void 0:t.ip}),this.cacheToLocalStorage(),On("session:visitorInfo",this.get())}),this.set(n),this.cacheToLocalStorage(),On("session:created",n),n}cacheToLocalStorage(){window.localStorage.setItem("__fx",JSON.stringify(this.get())),p.set("__fx",this.get("uid"),{path:"/",domain:this.cookieDomain,secure:this.useSecureCookies,expires:3650}),On("session:saved",this.get())}get(t){return!t||Array.isArray(t)&&!t.length?Object.fromEntries(this._values.entries()):Array.isArray(t)?t.reduce((t,e)=>(t[e]=this._values.get(e),t),{}):this._values.get(t)}set(t,e){n(t)?Objthis._values.set(e,r)}):this._values.set(t,e),this.cacheToLocalStorage()}}let xn;try{new EventTarget,xn=!0}catch(t){xn=!1}var P[t]=this.vent=e.originalEvent}}const Tn="active",Cn="passive",Fn="hidden",_n="frozen",Ln="terminated",Rn="object"==typeof safari&&safari.pushNotification,Un=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"Value="Are you sure?"),Nn=[[Tn,Cn,Fn,Ln],[Tn,Cn,Fn,_n],[Fn,Cn,Tn],[_n,Fnt,e,ument.hasFocus()?Tn:Cn;var B0||this.r(t,Fn)},0)})}getment.wasDiscarde",Dn),this.i.push(tr("beforeunload",Dn))}r(t,e){islice(n,o+1)}return[]})(this.s,e);for(let e=0;e<r.length-1;++e){const n=r[e],o=r[e+1];this.s=o,this.dispatchEvent(new kn("statechange",{oldState:n,newState:freeze":thvoid 0,thr=t}listen(){}stop(){}}class Wn{constructor(t){this.id=void 0,this.ttl=void 0,this.timeOnPage=void 0,this.windowState=void 0,this.createdAt=void 0,this.becameActiveAt=void 0,this.becameInactiveAt=void 0,this.url=void 0,this.id=b(),this.url=Sn(),this.timeOnPage=0,this.windowState="active",this.createdAt=null!=t?t:(new Date).getTime(),this.becameActiveAt=(new Date).getTime(),this.becameInactiveAt=null,this.ttl=this.extendTTL()}get validTTL(){return(new Date).getTime()<this.ttl}setWindowState(t){"active"===t&&(this.becameActiveAt=(new Date).getTime(),this.becameInactiveAt=null,this.extendTTL()),"inactive"===t&&(this.becameInactiveAt=(new Date).getTime(),this.increaseTimeOnPage(this.becameInactiveAt-this.becameActiveAt)),this.windowState=t}increaseTimeOnPage(t){r(t)&&(t<0&&(t*=-1),this.timeOnPage+=t)}extendTTL(){return this.ttl=(new Date).getTime()+9e5}}class qn{constructor(t){this.interval=void 0,this.observers=[],this.timeoutId=null,this.interval=t,this.reseters.filter(e=>e!==t)}start(){null===this.timeoutId&&(document.addEventListener("scroll",this.reset),document.addEventListener("mousemove",this.reset),document.addEventListener("click",this.reset),document.addEventListener("dblclick",this.reset),document.addEventListener("input",this.reset)),this.timeoutId=setTimeout(()=>{e",oldState:"acti}reset(){this.start()}stop(){null!==this.timeoutId&&(clearInterval(this.timeoutId),this.timeoutId=null),document.removeEventListener("scroll",this.reset),document.removeEventListener("mousemove",this.reset),document.removeEventListener("click",this.reset),document.removeEventListener("dblclick",this.reset),document.removeEventListener("input",this.reset)}}class Gn extends $n{constructor(t){super(t),this.lastPingAt=void 0,this.activity=void 0,this.page=void 0,this.lastPingAt=null,this.activity=new qn(3e5),this.page=new Wn(t.initializedAt),this.onWindowStateChange=this.onWindowStateChange.bind(this),this.onUriChange=this.onUriChange.bind(this),this.listen(),this.send()}onUriChange(t){var e;const r=Sn();("href"===this.tracker.options.urlComparedBy?(null==r?void 0:r.href)!==(null==(e=this.page.url)?void 0:e.href):(null==r?void 0:r.pathname)!==this.page.url.pathname)&&(this.page.validTTL&&(this.page.setWindowState("inactive"),this.send()),this.tracker.session.createSession(),this.page=new Wn,this.send())}onWindowStateChange(t){const{newState:e,oldState:r}=t;"active"===r?(this.activity.stop(),this.page.validTTL&&(this.page.setWindowState("inactive"),this.send())):"active"===e&&(this.activity.start(),this.page.validTTL&&this.tracker.session.validTTL?this.page.setWindowState("active"):(this.tracker.session.createSession(),this.page=new Wn),this.send())}listen(){this.activity.start(),Bn.addEventListener("statechange",this.onWindowStateChange),window.addEventListener("popstate",this.onUriChange),window.addEventListener("pushState",this.onUriChange),window.addEventListener("replaceState",this.onUriChange)}stop(){this.activity.stop(),Bn.removeEventListener("statechange",this.onWindowStateChange),window.removeEventListener("popstate",this.onUriChange),window.removeEventListener("pushState",this.onUriChange),window.removeEventListener("replaceState",this.onUriChange)}send(){const{onViewCallback:t,siteId:e}=this.tracker.configuration;this.lastPingAt=(new Date).getTime();const n={a:e,vid:this.page.id,o:this.page.url.origin,u:this.page.url.href,te:this.page.createdAt,tl:this.page.timeOnPage,t:document.title,...this.tracker.session.get(),ttl:this.page.ttl};if(delete n.l,navigator.sendBeacon)a(s,JSON.stringify(n));else{const t=new Image(1,1),e=Object.entries(n).map(t=>{let[e,n]=t;return e+"="+(r(n)?encodeURIComponent(n):"")}).join("+"?"+e;t.onload=()=>{},t.src=o}On("visit:collect",n),On("collect",n),null==t||t(n)}}function Jn(t){var e;if(t.getAttribute("id"))return"#"+t.getAttribute("id");if(t.className&&""!==t.className)return Vn(t.className);if(t.getAttribute("name"))return'[name="'+t.getAttribute("name")+'"]';const r=Array.from((null==(e=t.parentElement)?void 0:e>e.tagName===t.tagName);return r.indexOf(t)?t.tagName+":nth-of-type("+(r.indexOf(t)+1)+")":""+t.tagName}function Vn(t){if(!t)return"";let e="."+t;for(;-1!==e.indexOf(" ");)e=e.replace(" ",".");return e}function zn(t){let e="";for(;t.parentElement;)e=Jn(t)+(e?" > ":"")+e,t=t.parentElement;return"html > "+e.toLowerCase()}function Hn(t){return{...t.getAttributeNames().reduce((e,r)=>({...e,[r]:t.getAttribute(r)}),{}),id:t.getAttribute("id")?""+t.getAttribute("id"):null,class:t.className&&""!==t.className?Vn(t.className):null,name:t.getAttribute("name")?""+t.getAttribute("name"):null,xpath:zn(t)}}const Xn=function(t){conow.dispatchEvent(n),r}};window.history.pushState=Xn("pushState"),window.history.replaceState=Xn("replaceState");const Yn={visits:Gn,view:Gn,forms:class extends $n{constructor(t){super(t),this.submissions=void 0,this.onFormCapture=this.onFormCapture.bind(this),this.submissions=new Map(Object.entries(JSON.parse(window.sessionStorage.getItem("fxFormSessions")|s.capture(t.target)}capture(t){On("form:precapture",{form:t});const{trackInputs:e,onFormCapture:r,filterFormInputs:n}=this.tracker.configuration;if(!1===(null==r?void 0:r(t)))return;const o=this.getSubmissionId(t),i=n(e?function(t,e){if(void 0===e&&(e=!1),!t)throw new Error("You must provide a form.");const r=new FormData(t),n=Object.entries(Object.fromEntries(r)).reduce((t,e)=>{let[r,n]=e;return t[r.toLowerCase()]=n,t},{});return Array.from(t.elements).forEach(t=>{var e;const o=(""+t.type).toLowerCase();if(["submit","reset","button"].includes(o))return;const i=t.name,a=i?i.toLowerCase():null==(e=t.getAttribute("id"))?void 0:e.toLowerCase();!a||"checkbox"!==o&&"SELECT"!==t.nodeName||(n[a]="select-one"===o?r.get(i):r.getAll(i)),a&&void 0===n[a]&&(n[a]=null)}),e?n:function(t,e){return Object.entries(t).reduce((t,r)=>{var n;let[o,i]=r,a=i;return(e&&"password"===(""+(null==(n=e.elements[o])?void 0:n.type)).toLowerCase()||/password/.test(o)||/pin[_-]?(num(ber)?)?/.test(o)||/credit[_-]?card/.test(o)||/card[_-]?number/.test(o)||/cc[_-]?num(ber)?/.test(o)||/cvv/.test(o)||function(t){if(/[^0-9-\s]+/.test(t))return!1;if(String(t).length<12||String(t).length>19)return!1;let e=0,r=0,n=!1;for(let o=(t=t.replace(/\D/g,"")).length-1;o>=0;o--){const i=t.charAt(o);r=parseInt(i,10),n&&(r*=2)>9&&(r-=9),e+=r,n=!n}return e%10==0}(""+i)||/^\d{3}-\d{2}-\d{4}$/.test(""+i)||/social[_-]?(security)?[_-]?(num(ber)?)?/.test(o))&&(a="".padEnd((""+a).length,"*")),t[o]=a,t},{})}(n,t)}(t):{},t),a=e?function(t){if(!t)throw new Error("You must provide a form.");return Array.from(t.elements||[]).reduce((t,e)=>{var r;const n=(""+e.type).toLowerCase();if(["submit","reset","button"].includes(n))return t;const o=e.name?e.name.toLowerCase():null==(r=e.getAttribute("id"))?void 0:r.toLowerCase();return o&&(t[o]=n),t},{})}(t):{},s={...Hn(t),fxId:this.getOrCreateId(t)};return On("form:postcapture",{form:t,submissionId:o,values:i,fieldTypes:a,formAttributes:s}),this.tracker.send({type:"form",value:{id:o,form:s,e,r){this.capture(t)}getOrCreateId(t){const e=t?t.getAttribute("data-fx-id"):"";if(e&&""!==e)return e;const{xpath:r}=Hn(t),n=""+function(t,e){void 0===e&&(e=0);let r=3735928559^e,n=1103547991^e;for(let e,o=0;o<t.length;o++)e=t.charCodeAt(o),r=Math.imul(r^e,2654435761),n=Math.imul(n^e,1597334677);return r=Math.imul(r^r>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),4294967296*(2097151&n)+(r>>>0)}(r);return t&&t.setAttribute("data-fx-id",n),n}getSubmissionId(t){const e=this.getOrCreateId(t),r=1*(new Date).getTime(),n=this.submissions.get(e);return n&&r<n.ttl?n.id:this.generateNewSessionId(e)}generateNewSessionId(t){const{formSessionLength:e}=this.tracker.configuration,r={id:b(),ttl:1*(new Date).getTime()+6e4*e};return this.submissions.set(t,r),window.sessionStorage.setItem("fxFormSessions",JSON.stringify(Object.fromEntries(this.submissions))),r.id}},reviews:class extends $n{constructor(t){super(t),this.el=void 0,this.reviews=void 0,this.ready=void 0,this.retried=void 0,this.fetch()}fetch(){try{const t=this;return Promise.resolve(i(("https:"===document.location.protocol?"https://":"http://")+"cdn.leadmanagerfx.com/reviews/"+t.tracker.configuration.siteId+"/").catch(t=>{})).then(function(e){var r;if(!e)return;const n=JSON.parse(e.response);t.el=n.selector,t.reviews=n.reviews,t.ready=!0,t.el&&null!=(r=t.reviews)&&r.length&&t.render()})}catch(t){return Promise.reject(t)}}render(){const t=document.getElementById(this.el);if(t)t.innerHTML='\n    <div class="mcfx-reviews">\n      '+this.reviews.map(this.renderReview).join("")+"\n    </div>\n    ",On("reviews:rendered",this.reviews);else{const t=this;this.retried++,t.render()},2e3)}}renderReview(t){let e='\n    <div class="mcfx-review" itemprop="review" itemscope itemtype="http://schema.org/Review">\n      <span class="mcfx-review-author" itemprop="author">'+t.author_name+'</span>\n      <span class="mcfx-review-date" itemprop="datePublished">'+t.date+'</span>\n      <div itemprop="reviewRating" itemscope itemtype="http://schema.org/Rating">\n        <meta itemprop="worstRating" content = "1"/>\n        <span class="mcfx-review-number-rating">\n          <span class="mcfx-review-rating" itemprop="ratingValue">'+t.rating+'</span>/\n          <span class="mcfx-review-max" itemprop="bestRating">5</span> stars\n        </span>\n        <span class="mcfx-review-stars">\n    ';for(let r=1;r<=5;r++)t.rating>=r&&(e+='<span class="mcfx-star mcfx-star-active"></span>');return e+='\n        </span>\n      </div>\n      <span class="mcfx-review-description" itemprop="reviewBody">'+t.text+"</span>\n    </div>",e}}};class Kn{constructor(t,e){var r,o;this.initializedAt=void 0,this.configuration=void 0,this.session=void 0,this.modules=void 0,this.configuration={formSessionLength:10,visitorSessionLength:30,trackInputs:!0,useSecureCookies:!0,urlComparedBy:"href",onFormCaptu>t,onViewCallbackterFormInputs:(t,e)=>t,modules:["view","forms","reviews"],cookieDomain:null!=(r=null==(o=Sn())?void 0:o.cookieDomain)?r:window.location.hostname,...n(t)?t:{siteId:t}},this.initializedAt=e,0===(""+this.configuration.siteId).toLowerCase().indexOf("ns-")&&(this.configuration.modules=this.config"reviews"].includes(t))),this.session=new En(this.configuration),this.modules={},this.enableModule(this.configuration.modules),this.loadConfig()}get options(){ret){return this.session}send(){try{const e=this;var t=[].slice.call(arguments);let r;const o={a:e.configuration.siteId,o:window.location.origin,u:window.location.href,te:(new Date).getTime(),...e.session.get()};return n(t[0])?(t[0].hitType&&(t[0].type=t[0].hitType,delete t[0].hitType),r={type:"event",category:null,action:null,label:null,value:null,...t[0],attrib:o}):r={type:t[0]||"event",category:t[1]||null,action:t[2]||null,label:t[3]||null,value:t[4]||null,attrib:o},a("https://t.marketingcloudfx.com/event",r),On(r.type+":collect",r),On("collect",r),Promise.resolve()}catch(t){return Promise.reject(t)}}capture(t){var e;null==(e=this.modules.forms)||e.capture(t)}configure(t,e){void 0===e&&(e=null),Array.isArray(t)?t.forEach((t,r)=>{this.configuration[t]=Array.isArray(e)&&e[r]?e[r]:e}):n(t)?configuration[e]=t[e]}):t this.session.get(t)}enableModule(t){void 0===t&&(t=[]),Array.isArray(t)||(t=[t]),t.forEach(t=>{Yn[t]&&(this.modules[t]=new Yn[t](this))})}disableModule(t){void 0===t&&(t=[]),Array.isArray(t)||(t=[t]),t.forEach(t=>{var e;this.modules[t]&&(null==(e=this.modules[t])||e.stop(),delturn!!this.modules[t]}decorate(t){if(!t)return;Array.isArray(t)||(t=[t]);const e=document.querySelectorAll("a"),{r:n,ttl:o,...i}=this.session.get();e.forEach(e=>{const n=Sn(e.href);if(!n)return;const o=An(n.search);t.forEach(t=>{if(-1!==e.href.indexOf(t)){const t=new URLSearchParams({...o,...Object.entries(i).reduce((t,e)=>{let[n,o]=e;return"l"===n||r(o)&&(t["fx_"+n]=o),t},{})}).toString();e.href=""+n.origin+n.pathname+"?"+t+n.hash}})})}loadConfig(){try{const t=this;return Promise.resolve(function(t){try{const e=("https:"===document.location.protocol?"https://":"http://")+"t.marketingcloudfx.com/config?siteId="+t;return Promise.resolve(i(e).catch(t=>{})).then(function(t){if(!t)return null;const e=JSON.parse(t.response).data;if(!Object.keys(e).length)return null;const{visitTracking:r,leadTracking:n,visitorRecording:o,reviewIntegration:i,...a}=null!=e?e:{},s=[r?"view":null,n?"forms":null,i?ll].filter(t=>null!==t);return{...a,...s.length?{modules:s}:{}}})}catch(t){return Promise.reject(t)}}(t.confion.siteId).catch(t=>{})).then(function(e){var r;if(!e)return;const{modules:n=[]}=e,o=null==(r=t.configuration)||null==(r=r.molter(t=>!n.includes(t));t.configure(e),n.forEach(e=>{var r;null!=(r=t.configuration)&&r.modules.includes(e)||t.enableModule(e)}),t.disableModule(o)})}catch(t){return Promise.reject(t)}}}const{q:Qn,e:Zn}=window.mcfx||{};window.mcfx=function(){var e=[].slice.call(arguments);const[r,...n]=e;if(this.tracker||"create"!==r){if(this.tracker&&"destroy"===r)return this.tracker.disableModules(this.tracker.configuration.modules),void(this.tracker=void 0);if(!this.tracker)throw new Error("MarketingCloudFX Tracker has not been configured. Please call create before other methods.");t(r)?r(this.tracker,...n):this.tracker[r]&&t(this.tracker[r])&&this.tracker[r](...n)}else this.tracker=new Kn(e[h(t=>window.mcfx(...t))});
//# sourceMappingURL=mcfx.js.map
