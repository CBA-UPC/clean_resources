!function(){var e={8881:function(e,t,n){"use strict";(e){return G&&e instanceof Map} b(){return V}dlewareArray:function(){return ze},TaskAbortError:function(){return Wt},__DO_NOT_USE__ActionTypes:function(){return fe},addListener:function(){return on},applyMiddleware:function(){return ve},bindActionCreators:function(){return _e},clearAllListeners:function(){return an},combineReducers:function(){return he},compose:function(){return Se},configureStore:function(){return nt},createAction:function(){return rt},createAsyncThunk:function(){return St},createDraftSafeSelector:function(){return We},createEntityAdapter:function(){return Et},createImmutableStateInvariantMiddleware:function(){return Ke},createListenerMiddleware:function(){return cn},createNextState:function(){return oe},createReducer:function(){return st},createSelector:function(){return Ce},createSerializableStateInvariantMiddleware:function(){return Ze},createSlice:function(){return ut},createStore:function(){return ye},current:function(){return U},findNonSerializableValue:function(){return Je},freeze:function(){return h},getDefaultMiddleware:function(){return et},getType:function(){return at},isAllOf:function(){return It},isAnyOf:function(){return Tt},isAsyncThunkAction:function(){return Nt},isDraft:function(){return o},isFulfilled:function(){return Pt},isImmutableDefault:function(){return Xe},isPending:function(){return Ot},isPlain:function(){return Qe},isPlainObject:function(){return $e},isRejected:function(){return Rt},isRejectedWithValue:function(){return wt},legacy_createStore:function(){return me},miniSerializeError:function(){return _t},nanoid:function(){return yt},original:function(){return i},removeListener:function(){return sn},unwrapResult:function(){return vt}});var j,V,B="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),G="undefined"!=typeof Map,W="undefined"!=typeof Set,q="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,$=B?Symbol.for("immer-nothing"):((j={})["immer-nothing"]=!0,j),z=B?Symbol.for("immer-draftable"):"__$immer_draftable",Y=B?Symbol.for("immer-state"):"__$immer_state",X=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),K="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?Object.getOwnPropertyNames,Q=Object.getOwnPropertyDescriptors||J={},Z={get:has:ownKeys:set:deleteProperty:getOwnPropertyDescriptor:defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},ee={};s(Z,(),ee.deleteProperty=ee.set=var te=),ne=new te,re=ne.produce,oe=(ne.produceWithPatches.bind(ne),ne.setAutoFreeze.bind(ne),ne.setUseProxies.bind(ne),ne.applyPatches.bind(ne),ne.createDraft.bind(ne),ne.finishDraft.bind(ne),re);function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}nction ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ar pe="function"==typeof Symbol&&Symbol.observable||"@@observable",de=function(){return Math.random().toString(36).substring(7).split("").join(".")},fe={INIT:"@@redux/INIT"+de(),REPLACE:"@@redux/REPLACE"+de(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+de()}};function Ee(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}ar me=ye;unction ge(e,t){return function(){return t(e.apply(this,arguments))}}unction Se(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}ar be="NOT_FOUND";var Te=function(e,t){return e===t};r Ce=Ae(Ie);ar Re=Oe();Re.withExtraArgument=Oe;var we,Pe=Re,Ne=(we=,Fe=Le=ke=Object.defineProperty,Me=Object.defineProperties,De=Object.getOwnPropertyDescriptors,Ue=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable,je=Ve=Be=Ge=We=qe="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;ar ze=Array);nction Ke(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}ction et(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new ze);return n&&(!function(e){return"boolean"==typeof e}(n)?r.push(Pe.withExtraArgument(n.extraArgument)):r.push(Pe)),r}var tt=!0; ct(e,t){return t(e)}yt=mt=["name","message","stack","code"],ht=function(e,t){this.payload=e,this.meta=t},gt=_t=function St(e,t,n){var r=rt(e+"/fulfilled",(),o=rt(e+"/pending",(),a=rt(e+"/rejected",(),i="undefined"!=typeof AbortController?AbortController:);return Object.assign((,{pending:o,rejected:a,fulfilled:r,typePrefix:e})}ar bt=function Tt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return bt(e,t)}))}}ction Ot(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return At(e,["pending"])}:Ct(e)?function(t){var n=e.map((function(e){return e.pending}));return Tt.apply(void 0,n)(t)}:Ot()(e[0])}function Rt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return At(e,["rejected"])}:Ct(e)?function(t){var n=e.map((function(e){return e.rejected}));return Tt.apply(void 0,n)(t)}:Rt()(e[0])} Ft=Lt=function(){},kt=Mt=Dt=Ut="listener",xt="completed",Ht="cancelled",jt="task-"+Ht,Vt="task-"+xt,Bt=Ut+"-"+Ht,Gt=Ut+"-"+xt,Wt=qt=$t=zt=Yt=Xt=Object.assign,Kt={},Qt="listenerMiddleware",Jt=Zt=en=tn=nn=rn=on=rt(Qt+"/add"),an=rt(Qt+"/removeAll"),sn=rt(Qt+"/remove"),un=ln=()},7453:function(e,t,n){"use strict";var r=n(1580),o=n(3872),a=n(2425),i=n(9898),s=n(6235),u=n(2154),l=n(8728),c=n(1857),p=n(8495),d=n(1924),f=n(4152),E=Object("a"),y="a"!==E[0]||!(0 in E),m=d("String.prototype.split");e.exports=function(e){var t,n=c(this),d=y&&f(n)?m(n,""):n,E=l(d.length);if(!u(e))throw new TypeError("Array.prototype.map callback must be a function");arguments.length>1&&(t=arguments[1]);for(var h=r(n,E),g=0;g<E;){var _=p(g);if(s(n,_)){var S=i(n,_),v=o(e,t,[S,g,n]);a(h,_,v)}g+=1}return h}},4770:3423:function(e,t,n){"use strict";var r=n(2215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),a=Object.prototype.toString,i=Array.prototype.concat,s=n(2296),u=n(1044)(),l=function(e,t,n,r){if(t in e)if(!0===r){if(e[t]===n)return}else if("function"!=typeof(o=r)||"[object Function]"!==a.call(o)||!r())return;var o;u?s(e,t,n,!0):s(e,t,n)},c=function(e,t){var n=arguments.length>2?arguments[2]:{},a=r(t);o&&(a=i.call(a,Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;s+=1)l(e,a[s],t[a[s]],n[a[s]])};c.supportsDescriptors=!!u,e.exports=c},77:function(e,t,n){"use strict";var r=n(6982),o=n(7526),a=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&a(e,".prototype.")>-1?o(n):n}},7526:function(e,t,n){"use strict";var r=n(5839),o=n(6982),a=n(7771),i=o("%TypeError%"),s=o("%Function.prototype.apply%"),u=o("%Function.prototype.call%"),l=o("%Reflect.apply%",!0)||r.call(u,s),c=o("%Object.defineProperty%",!0),p=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){if("function"!=typeof e)throw new i("a function is required");var t=l(r,u,arguments);return a(t,1+p(0,e.length-(arguments.length-1)),!0)};var d=function(){return l(r,s,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d},3346:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var a,i=function(e,t){for(var n=[],r=t||0,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n}(arguments,1),s=n(0,o.length-i.length),u=[],l=0;l<s;l++)u[l]="$"+l;if(a=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(u,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var t=o.apply(this,r(i,arguments));return Object(t)===t?t:this}return o.apply(e,r(i,arguments))})),o.prototype){var c=function(){};c.prototype=o.prototype,a.prototype=new c,c.prototype=null}return a}},5839:function(e,t,n){"use strict";var r=n(3346);e.exports=Function.prototype.bind||r},6982:function(e,t,n){"use strict";var r,o=SyntaxError,a=Function,i=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var l=function(){throw new i},c=u?function(){try{return l}catch(e){try{return u(arguments,"callee").get}catch(e){return l}}}():l,p=n(973)(),d=n(8185)(),f=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),E={},y="undefined"!=typeof Uint8Array&&f?f(Uint8Array):r,m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p&&f?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":E,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&f?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p&&f?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p&&f?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&f?f(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":c,"%TypedArray%":y,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(f)try{null.error}catch(e){var h=f(f(e));m["%Error.prototype%"]=h}var g=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&f&&(n=f(o.prototype))}return m[t]=n,n},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=n(5839),v=n(8824),b=S.call(Function.call,Array.prototype.concat),T=S.call(Function.apply,Array.prototype.splice),I=S.call(Function.call,String.prototype.replace),A=S.call(Function.call,String.prototype.slice),C=S.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,w=function(e,t){var n,r=e;if(v(_,r)&&(r="%"+(n=_[r])[0]+"%"),v(m,r)){var a=m[r];if(a===E&&(a=g(r)),void 0===a&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=A(e,0,1),n=A(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return I(e,O,(function(e,t,n,o){r[r.length]=n?I(o,R,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",a=w("%"+r+"%",t),s=a.name,l=a.value,c=!1,p=a.alias;p&&(r=p[0],T(n,b([0,1],p)));for(var d=1,f=!0;d<n.length;d+=1){var E=n[d],y=A(E,0,1),h=A(E,-1);if(('"'===y||"'"===y||"`"===y||'"'===h||"'"===h||"`"===h)&&y!==h)throw new o("property names with quotes must have matching quotes");if("constructor"!==E&&f||(c=!0),v(m,s="%"+(r+="."+E)+"%"))l=m[s];else if(null!=l){if(!(E in l)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=n.length){var g=u(l,E);l=(f=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:l[E]}else f=v(l,E),l=l[E];f&&!c&&(m[s]=l)}}return l}},973:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(9195);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},9195:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},1471:4152:function(e,t,n){"use strict";var r=String.prototype.valueOf,o=Object.prototype.toString,a=n(6410)();e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(a?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object String]"===o.call(e))}},7795:4569:},124},696totype.trim:r}},1030:function(e,t,n){"use strict";var r=n(3423),o=n(6964);e.exports=function(){var e=o();return r(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!turn .map!.")>-xports.apply=p},6511:function(e,t,n){"use strict";var r=n(7418),o=n(3677),a=n(3759),i="mixins";e.exports=function(e,t,n){var s=[],u={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"}.displa;n++)p(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},DefaultProe.propTy,e[n]=r}}(e,t)},autobint.bind(e)}var m={componentDidMount:function(){this.__isMounted=!0}},h={compo__isMounted=!1}},tate(this,is.__isMounted}},_=function(){};return r(_.prototypenull);ralidEle.");e[t]=n}}},4087:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var a,i=function(e,t){for(var n=[],r=t||0,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n}(arguments,1),s=n(0,o.length-i.length),u=[],l=0;l<s;l++)u[l]="$"+l;if(a=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(u,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var t=o.apply(this,r(i,arguments));return Object(t)===t?t:this}return o.apply(e,r(i,arguments))})),o.prototype){var c=function(){};c.prototype=o.prototype,a.prototype=new c,c.prototype=null}return a}},9788:function(e,t,n){"use strict";var r=n(4087);e.exports=Function.prototype.bind||r},6308:function(e,t,n){"use strict";var r,o=SyntaxError,a=Function,i=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var l=function(){throw new i},c=u?function(){try{return l}catch(e){try{return u(arguments,"callee").get}catch(e){return l}}}():l,p=n(796)(),d=n(8185)(),f=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),E={},y="undefined"!=typeof Uint8Array&&f?f(Uint8Array):r,m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p&&f?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":E,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&f?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p&&f?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p&&f?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&f?f(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":c,"%TypedArray%":y,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(f)try{null.error}catch(e){var h=f(f(e));m["%Error.prototype%"]=h}var g=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&f&&(n=f(o.prototype))}return m[t]=n,n},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=n(9788),v=n(8824),b=S.call(Function.call,Array.prototype.concat),T=S.call(Function.apply,Array.prototype.splice),I=S.call(Function.call,String.prototype.replace),A=S.call(Function.call,String.prototype.slice),C=S.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,w=function(e,t){var n,r=e;if(v(_,r)&&(r="%"+(n=_[r])[0]+"%"),v(m,r)){var a=m[r];if(a===E&&(a=g(r)),void 0===a&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=A(e,0,1),n=A(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return I(e,O,(function(e,t,n,o){r[r.length]=n?I(o,R,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",a=w("%"+r+"%",t),s=a.name,l=a.value,c=!1,p=a.alias;p&&(r=p[0],T(n,b([0,1],p)));for(var d=1,f=!0;d<n.length;d+=1){var E=n[d],y=A(E,0,1),h=A(E,-1);if(('"'===y||"'"===y||"`"===y||'"'===h||"'"===h||"`"===h)&&y!==h)throw new o("property names with quotes must have matching quotes");if("constructor"!==E&&f||(c=!0),v(m,s="%"+(r+="."+E)+"%"))l=m[s];else if(null!=l){if(!(E in l)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=n.length){var g=u(l,E);l=(f=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:l[E]}else f=v(l,E),l=l[E];f&&!c&&(m[s]=l)}}return l}},796:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(1057);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},1057:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},7856:function(e){e.exports=function(){"use strict";function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var t=Object.hasOwnProperty,n=Object.setPrototypeOf,r=Object.isFrozen,o=Object.keys,a=Object.freeze,i=Object.seal,s="undefined"!=typeof Reflect&&Reflect,u=s.apply,l=s.n e.apply(t,n)}),a||(a=function(e){return e}),i||(i=function(e){rconcat(e(n))))});var c=I(Array.prototype.forEach),p=I(Array.prototype.indexOf),d=I(Array.prototype.join),f=I(Array.prototype.pop),E=I(Array.prototype.push),y=I(Array.prototype.slice),m=I(String.prototype.toLowerCase),h=I(String.prototype.match),g=I(String.prototype.replace),_=I(String.prototype.indexOf),S=I(String.prototype.trim),v=I(RegExp.prototype.test),b=A(RegExp)]);return n}var R=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),w=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),P=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),N=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),F=a(["#text"]),L=a(["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","minlength","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"]),k=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),M=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),D=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),U=i(/\{\{[\s\S]*|[\s\S]*\}\}/gm),x=i(/<%[\s\S]*|[\s\S]*%>/gm),H=i(/^data-[\-\w.\u00B7-\uFFFF]/),j=i(/^aria-[\-\w]+$/),V=i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=i(/^(?:\w+script|data):/i),G=i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"sy Arraoweated."),null}};function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$(),t=function(e){return Y(e)};if(t.version="2.0.8",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var n=e.document,r=!1,i=!1,s=e.document,u=e.DocumentFragment,l=e.HTMLTemplateElement,I=e.Node,A=e.NodeFilter,X=e.NamedNodeMap,K=void 0===X?e.NamedNodeMap||e.MozNamedAttrMap:X,Q=e.Text,J=e.Comment,Z=e.DOMParser,ee=e.trustedTypes;if("function"==typeof l){var te=s.createElement("template");te.content&&te.content.ownerDocument&&(s=te.content.ownerDocument)}var ne=z(ee,n),re=ne?ne.createHTML(""):"",oe=s,ae=oe.implementation,ie=oe.createNodeIterator,se=oe.getElementsByTagName,ue=oe.createDocumentFragment,le=n.importNode,ce={};t.isSupported=ae&&void 0!==ae.createHTMLDocument&&9!==s.documentMode;var pe=U,de=x,fe=H,Ee=j,ye=B,me=G,he=V,ge=null,_e=C({},[].concat(q(R),q(w),q(P),q(N),q(F))),Se=null,ve=C({},[].concat(q(L),q(k),q(M),q(D))),be=null,Te=null,Ie=!0,Ae=!0,Ce=!1,Oe=!1,Re=!1,we=!1,Pe=!1,Ne=!1,Fe=!1,Le=!1,ke=!1,Me=!1,De=!0,Ue=!0,xe=!1,He={},je=C({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ve=C({},["audio","video","img","source","image"]),Be=null,Ge=C({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),We=null,qe=s.createElement("form"),$e=function(e){We&&We===e||(e&&"object"===(void 0===e?"undefined":W(e))||(e={}),ge="ALLOWED_TAGS"in e?C({},e.ALLOWED_TAGS):_e,Se="ALLOWED_ATTR"in e?C({},e.ALLOWED_ATTR):ve,Be="ADD_URI_SAFE_ATTR"in e?C(O(Ge),e.ADD_URI_SAFE_ATTR):Ge,be="FORBID_TAGS"in e?C({},e.FORBID_TAGS):{},Te="FORBID_ATTR"in e?C({},e.FORBID_ATTR):{},He="USE_PROFILES"in e&&e.USE_PROFILES,Ie=!1!==e.ALLOW_ARIA_ATTR,Ae=!1!==e.ALLOW_DATA_ATTR,Ce=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Oe=e.SAFE_FOR_JQUERY||!1,Re=e.SAFE_FOR_TEMPLATES||!1,we=e.WHOLE_DOCUMENT||!1,Fe=e.RETURN_DOM||!1,Le=e.RETURN_DOM_FRAGMENT||!1,ke=e.RETURN_DOM_IMPORT||!1,Me=e.RETURN_TRUSTED_TYPE||!1,Ne=e.FORCE_BODY||!1,De=!1!==e.SANITIZE_DOM,Ue=!1!==e.KEEP_CONTENT,xe=e.IN_PLACE||!1,he=e.ALLOWED_URI_REGEXP||he,Re&&(Ae=!1),Le&&(Fe=!0),He&&(ge=C({},[].concat(q(F))),Se=[],!0===He.html&&(C(ge,R),C(Se,L)),!0===He.svg&&(C(ge,w),C(Se,k),C(Se,D)),!0===He.svgFilters&&(C(ge,P),C(Se,k),C(Se,D)),!0===He.mathMl&&(C(ge,N),C(Se,M),C(Se,D))),e.ADD_TAGS&&(ge===_e&&(ge=O(ge)),C(ge,e.ADD_TAGS)),e.ADD_ATTR&&(Se===ve&&(Se=O(Se)),C(Se,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&C(Be,e.ADD_URI_SAFE_ATTR),Ue&&(ge["#text"]=!0),we&&C(ge,["html","head","body"]),ge.table&&(C(ge,["tbody"]),delete be.tbody),a&.ouveAttribute(e)},Xe=function(e){var t=void 0,n=void 0;if(Ne)e="<remove></remove>"+e;else{var o=h(e,/^[\s]+/);n=o&&o[0]}var a=ne?ne.createHTML(e):e;if(r)try{t=(new Z).parseFromString(a,"text/html")}catch(e){}if(i&&C(be,["title"]),!t||!t.documentElement){var u=(t=ae.createHTMLDocument("")).body;u.parentNode.removeChild(u.parentNode.firstElementChild),u.outerHTML=a}return e&&n&&t.body.insertBefore(s.createTextNode(n),t.body.childNodes[0]||null),se.call(t,we?"html":"body")[0]};!0!0)}catch(R_A.naeofl(ts",urnuteowDOM",t,null)};rereateHTML(d)e){$e(e),Pe=!0{We=null,Pe=!1},t.iturn tt(r,[],E(ce[e],t)e[e]&&f(ce[e])e]&&(ce[e]=[])},tnction(){ce={}},t}retut&&n}return!1}},221:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var a,i=function(e,t){for(var n=[],r=t||0,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n}(arguments,1),s=n(0,o.length-i.length),u=[],l=0;l<s;l++)u[l]="$"+l;if(a=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(u,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var t=o.apply(this,r(i,arguments));return Object(t)===t?t:this}return o.apply(e,r(i,arguments))})),o.prototype){var c=function(){};c.prototype=o.prototype,a.prototype=new c,c.prototype=null}return a}},3761:function(e,t,n){"use strict";var r=n(221);e.exports=Function.prototype.bind||r},7572:function(e,t,n){"use strict";var r,o=SyntaxError,a=Function,i=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var l=function(){throw new i},c=u?function(){try{return l}catch(e){try{return u(arguments,"callee").get}catch(e){return l}}}():l,p=n(6961)(),d=n(8185)(),f=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),E={},y="undefined"!=typeof Uint8Array&&f?f(Uint8Array):r,m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p&&f?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":E,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&f?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p&&f?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p&&f?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&f?f(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":c,"%TypedArray%":y,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(f)try{null.error}catch(e){var h=f(f(e));m["%Error.prototype%"]=h}var g=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&f&&(n=f(o.prototype))}return m[t]=n,n},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=n(3761),v=n(8824),b=S.call(Function.call,Array.prototype.concat),T=S.call(Function.apply,Array.prototype.splice),I=S.call(Function.call,String.prototype.replace),A=S.call(Function.call,String.prototype.slice),C=S.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,w=function(e,t){var n,r=e;if(v(_,r)&&(r="%"+(n=_[r])[0]+"%"),v(m,r)){var a=m[r];if(a===E&&(a=g(r)),void 0===a&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=A(e,0,1),n=A(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return I(e,O,(function(e,t,n,o){r[r.length]=n?I(o,R,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",a=w("%"+r+"%",t),s=a.name,l=a.value,c=!1,p=a.alias;p&&(r=p[0],T(n,b([0,1],p)));for(var d=1,f=!0;d<n.length;d+=1){var E=n[d],y=A(E,0,1),h=A(E,-1);if(('"'===y||"'"===y||"`"===y||'"'===h||"'"===h||"`"===h)&&y!==h)throw new o("property names with quotes must have matching quotes");if("constructor"!==E&&f||(c=!0),v(m,s="%"+(r+="."+E)+"%"))l=m[s];else if(null!=l){if(!(E in l)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=n.length){var g=u(l,E);l=(f=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:l[E]}else f=v(l,E),l=l[E];f&&!c&&(m[s]=l)}}return l}},6961:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(370);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},370:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}===o.]"==tn?"nuct"!=";e.exports={}},3759:function(e){"use strict";e.exports=function(e,t,n,r,o,a,i,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,i,s],c=0;(u=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesTorn!1;null}return o}},8612:function(e,t,n){"use strict";var r=n(7648);e.exports=Function.prototy=l)}}ll}e.exports=r},505:function(e,t,n){"use strict";var r,o=SyntaxError,a=Function,i=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var l=function(){throw new i},c=u?function(){try{return l}catch(e){try{return u(arguments,"callee").get}catch(e){return l}}}():l,p=n(2069)(),d=n(8185)(),f=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),E={},y="undefined"!=typeof Uint8Array&&f?f(Uint8Array):r,m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p&&f?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":E,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&f?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p&&f?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p&&f?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&f?f(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":c,"%TypedArray%":y,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(f)try{null.error}catch(e){var h=f(f(e));m["%Error.prototype%"]=h}var g=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&f&&(n=f(o.prototype))}return m[t]=n,n},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=n(8612),v=n(7642),b=S.call(Function.call,Array.prototype.concat),T=S.call(Function.apply,Array.prototype.splice),I=S.call(Function.call,String.prototype.replace),A=S.call(Function.call,String.prototype.slice),C=S.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,w=function(e,t){var n,r=e;if(v(_,r)&&(r="%"+(n=_[r])[0]+"%"),v(m,r)){var a=m[r];if(a===E&&(a=g(r)),void 0===a&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=A(e,0,1),n=A(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return I(e,O,(function(e,t,n,o){r[r.length]=n?I(o,R,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",a=w("%"+r+"%",t),s=a.name,l=a.value,c=!1,p=a.alias;p&&(r=p[0],T(n,b([0,1],p)));for(var d=1,f=!0;d<n.length;d+=1){var E=n[d],y=A(E,0,1),h=A(E,-1);if(('"'===y||"'"===y||"`"===y||'"'===h||"'"===h||"`"===h)&&y!==h)throw new o("property names with quotes must have matching quotes");if("constructor"!==E&&f||(c=!0),v(m,s="%"+(r+="."+E)+"%"))l=m[s];else if(null!=l){if(!(E in l)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=n.length){var g=u(l,E);l=(f=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:l[E]}else f=v(l,E),l=l[E];f&&!c&&(m[s]=l)}}return l}},2069:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(845);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},845:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}}},e.instabar")&&o())))}},5419:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},9608:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}l.toSasOwnts=a.call(r,o)},1454:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var a,i=function(e,t){for(var n=[],r=t||0,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n}(arguments,1),s=n(0,o.length-i.length),u=[],l=0;l<s;l++)u[l]="$"+l;if(a=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(u,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var t=o.apply(this,r(i,arguments));return Object(t)===t?t:this}return o.apply(e,r(i,arguments))})),o.prototype){var c=function(){};c.prototype=o.prototype,a.prototype=new c,c.prototype=null}return a}},4753:function(e,t,n){"use strict";var r=n(1454);e.exports=Function.prototyp{}}}}mesTo.exports=s?a:i},5320:function(e){"use strict";var t=Function.prototype.toString,n=h(e){return!1}},o=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStriFuncti===n.call(e))}},8379:function(e){"use strict";var t,n="function"==typeof Map&&Map.prototype?Map:null,r="function"==typeof Set&&Set.prototype?Set:null;n||(t=function(e){return!1});var o=n?Map.prototype.has:null,a=r?Set.prototype.has:null;t||o||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(o.call(e),a)try{a.call(e)}catch(e){return!0}return e instanceof n}catch(e){}(e){}n(e){return!1}},2252:function(e){"use strict";var t=Typeif(!n)]])}}d}}e.i},e.(e.cn c(t}),e.!u,e.xpornull}totyp=l)}}bar")rn!1}.allS avaitled!PropTortsWILL_BE_FIRED"},6781:function(e,t,n){"use strict";var r=n(9303);e.exports={should(this.state,t)}}},9766:function(e,t,n){"use strict";var r=n(7418),o=n(3759),a={}.hasOwnProperty;var i="$push",s="$unshift",u="$splice",l="$set",c="$merge",p="$apply",d=[i,n array?",ion(e){f[e]=!0})),e.exports=function e(t,n){if(o("object"==typeof n,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",d.join(", "),l),a.call(n,l))return o(1===Object.keys(n).length,"Cannot have more than one key in an object with %s",l),n[l];var y,m=(y=t,Array.isArray(y)?y.concat():y&&"object"==typeof y?r(new y.constructor,y):y);if(a.call(n,c)){var h=n[c];o(h&&"object"==typeof h,"update(): %s expects a spec of type 'object'; got %s",c,h),o(m&&"object"==typeof m,"update(): %s expects a target of type 'object'; got %s",c,m),r(m,n[c])}for(var g in a.call(n,i)&&(E(t,n,i),n[i].forEach((function(e){m.push(e)}))),a.call(n,s)&&(E(t,n,s){m.unshift(e)}))),a.call(n,u)&&(o(Array.isArray(t),"Expected %s target to be an array; got %s",u,t),o(Array.isArray(n[u]),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",u,n[u]ice.apply(m,e)}))),a.call(n,p)&&(o("function"==typeof n[p],"update(): expected spec of %s to be a function; got %s.",p,n[p]),m=n[p](m)),n)f.hasOwnProperty(g)&&f[g]||(m[g]=e(t[g],n[g]));return m}},4448:function(e,t,n){"use strict";
/** @license React v16.10.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(7294),o=n( warnings. ",e}if(!r)throw i(Error(227));.dependencies}var p=[]is.onError(e)}}var m=!1,h=null,g=!1,_=oy(S,arguments)}var b=nul&t.call(=!1,_=null,e}}var N={injectEce.call(e),l()},injectEverof n);return n}var L=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;L.hasOwnProperty("ReactCurrentDispatcher")||(L.ReactCurrentDispatcher={current:null}),L.hasOwnProperty("ReactCurrentBatchConfig")||(L.ReactCurrentBatchConfig={suspense:null});var k=/^(.*)[\\\/]/,M="function"==typeof Symbol&&Symbol.for,D=M?Symbol.for("react.element"):60103,U=M?Symbol.for("react.portal"):60106,x=M?Symbol.for("react.fragment"):60107,H=M?Symbol.for("react.strict_mode"):60108,j=M?Symbol.for("react.profiler"):60114,V=M?Symbol.for("react.provider"):60109,B=M?Symbol.for("react.context"):60110,G=M?Symbol.for("react.concurrent_mode"):60111,W=M?Symbol.for("react.forward_ref"):60112,q=M?Symbol.for("react.suspense"):60113,$=M?Symbol.for("react.suspense_list"):60120,z=M?Symbol.for("react.memo"):60115,Y=M?Symbol.for("react.lazy"):60116;M&&Symbol.for("react.fundamental"),M&&Symbol.for("react.responder"),M&&Symbol.for("react.scope");var X="function"==typeof Symbol&&(e);return t}var Z=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ee=null,n e(t,n,r)}function ue(){}var lee||(ue(),ae())}new Map,new Map,new Map;var fe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ee=Object.prototype.hasOwnPrope.sanitizeURL=a}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ge[e]=new he(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-eq,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ge[e]=new he(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ge[e]=new he(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ge[e]=new he(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ge[e]=new he(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){ge[e]=new he(e,4,!1,e,null,!1)})),["cols","rows","size",",!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){ge[e]=new he(e,5,!1,e.toLowerCase(),null,!1)}));var _e=ccent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(_e,Se);ge[t]=new he(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(_e,Se);ge[t]=new he(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:snamespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){ge[e]=new he(e,1,!1,e.toLowerCase(),null,!1)})),ge.xlinkHref=new he("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAcase(),null,!0)}));var xe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w31999/xhtml":e}vt.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsaurn +e]="moz"+t,n}var $e={animationend:qe("Animation","AnimationEnd"),animationiteration:qe("Animation","AnimationIteration"),animationstart:qe("Animation","AnimationStart"),transitionend:qe("Transition","TransitionEnd=n[t];return e}Z&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete $e.animationend.animation,delete $e.animationiteration.animation,delete $e.animationstart.animation),"TransitionEvent"in window||delete $e.transitionend.transition);var Ke=Xe("animationend"),Qe=Xe("animationiteration"),Je=Xe("animationstart"),Ze=Xe("transitionend"),et="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tt=!1,nt=[],rt=null,ot=null,at=null,it=new Map,st=new Map,ut="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),lt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercaptEach(t)}var gte,Ot)}functiorelease=Mt}o(Lt.prototype,tPrevented=Nt)},ionStoppsPersistent=Nt},isPersistenListeners=null}}),Lt.Interface={type:null,target:nul(){return null},eventPhase:null,bubbles:null,cancelablemp||Date.now()},defaultPrevented:null,isTrusted:extend,Dt(n),n},Dt(Lt);var Ut=Lt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),xt=Lt.extend.clipboardData}}),Ht=Lt.extend({view:null,detail:null}),jt=Ht.extend({relat=e||13===e?e:0}var Bt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Sht(){return qt}for(var ztidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierSte.type?Vpe?e.kpe?e.keyCode:0}}),Yt=0,Xt=0,Kt=!1,Qt=!1,Jt=Ht.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:$t,button:null,buttons:nule.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Yt;return Yt=e.screenX,Kt?"mousemove"===e.type?e.screenX-t:0:(Kt=!-t:0:(Qt=!0,0)}}),Zt=Jt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),en=Jt.extend({dataTransfer:null}),tn=Ht.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:$t}),nn=Lt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rn=Jt.wheelDe.wheelDelta:0},deltaZ:null,deltaMode:null}),on=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Ke,"animationEnd",2],[Qe,"animationIteration",2],[Je,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Ze,"transitionEnd",2],["waiting","waiting",2]],an={},sn={},un=0;un<on.length;un++){var ln=on[un],cn=ln[0],pn=ln[1],dn=ln[2],fn="on"+(pn[0].toUpperCase()+pn.slice(1)),En={phasedRegistrationNames:{bubbled:fn,captured:fn+"Capture"},dependencies:[cn],eventPriority:dn};an[pn]=En,sn[cn]=En}var yn={eventTypes:an,gventPriority:2ed(o,t,n,r)),t}},mn=yn.getEventPrior=C(s,l))}t[e]),t}var wn=new("function"==typeof WeakM,t)}n.add(e)}}var Fn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ln=["Webkit",(n,o):e[n]=o}}Object.keFn[t]=Fn[e]}))}));var Dn=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,trNn(t[r],e,n)Editable)}var zn="$",Yn="/$",Xn="$?",Kn="$!",erHTML.__html}var tr="function"==typeof setTimeout?setTimeout:void 0,nr="function"==typeof clearTimeout?cleag}return null}var ar=Math.random().toString(36).slice(2),ir="__reactInternalInstance$"+ar,sr="__reactEventHandlers$"+ar,ur="__reacte[sr]||null}var fr=null,<t?1-t:void 0)}var hr=Lt.extend({data:null}),gr=Lt.extend({data:null}),_r=[9,13,27,32],Sr=Z&&"CompositionEvent"in window,vr=null;Z&&"documentMode"in document&&(vr=document.documentMode);var br=Z&&"TextEvent"in window&&!vr,Tr=Z&&(!Sr||vr&&8<vr&&11>=vr),Ir=String.fromCharCode(32),Ar={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".sple?e.data:null}var wr=!1;var Pr={eventTypes:All===t?o:[o,t]}},Nr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,"textarea"===t}var Lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchang,oe(n),Pt(e),e}var ==e)return xr(t)}Z&&(jr=Rn("input")&&(!document.documentMode||9<document.documentMode));var zr={eventTypes:Lr,_isInputEventSupported:jmber",o.value)}},Yr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Xr={eventTypes:Yn);return[u,n]}};var Kr="function"==typeof Objet)||e!=e&&t!=t},Qr=Object.prototypeurn!1;return!0}var Zr=Z&&"documentMode"in document&&11>=document.documentMode,eo={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},to=null,no=nult=to,Pt(e),e))}var io={eventTypes:er)}return null}};N.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b=dr,T=cr,I=pr,N.injectEventPluginsByName({SimpleEventPlugin:yn,EnterLeaveEventPlugin:Xr,ChangeEventPlugin:zr,SelectEventPlugin:io,BeforeInputEventPlugin:Pr}),new Set;t,e.current=t}var po={},fo={current:po},Eo={cuContextTypes)}function go(e),co(Eo,n)}var Io=a.unstable_runWithPriority,Ao=a.unstable_scheduleCallback,Co=a.unstable_cancelCallback,Oo=a.unstable_shouldYield,Ro=a.unstable_requestPaint,wo=a.unstable_now,Po=a.unstable_getCurrentPriorityLevel,No=a.unstable_ImmediatePriority,Fo=a.unstable_UserBlockingPriority,Lo=a.unstable_NormalPriority,ko=a.unstable_LowPriority,Mo=a.unstable_IdlePriority,Do={},Uo=void 0!==Ro?Ro:function(){},xo=null,Ho=null,jo=!1,Vo=woeturn t}var Qo={current:null},Jo=null,rentect}}var _a=L.ReactCurrentBatchConfig,Sa=(new r.r.baseState=n)}vaer)&&vt(e)===e},a(e,o),ou(e,r)},enqua(e,o),ou(e,r)},enqafectTag|=4)}var Oa=Array.isArray;function Ra(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw i(Error(309));var r=n.stateNode}if(!r)throw i(Error(147),e);var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRte t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw i(Error(284));if(!n._owner)throw i(Error(2eturn n(e,r)}}var Na=Pa(!0),Fa=Pa(!1),La={},ka={current:La},Ma={current:La},a),lo(Ma))}varer:e,props:t}}var qa=L.ReactCurrentDispatcher,$a=0,za=null,Ya=null,Xa=null,Ka=null,Qa=null,Ja=null,Za=0,ei=null,ti=0,ni=d 0h(e){}ou(e,o)}}var _i={readContext:ia,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useLayoutEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useResponder:ai},Si={readContext===t?null:t],e},useContext:ia,useEffect:function(e,t){return Ei(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ei(4,36,mi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ei(4,3dState=[e,tmoizedSemoizedStmoizedState,e]},useDebugValue:hi,useResponder:Wa},vi={readContextState=[e,t],e)},useContext:ia,useEffect:function(e,t){return yi(516,192,e,t)},useId(null,t,e),n)},n yi(4,3State=[e,t],e)},useReducer:di,useRef:function(){return ci().memoizedState},useState:function(e){return di(pi)},useDebugValue:hi,useResponder:Wa},bi=nulull,Ii=!1}var Ni=L.ReactCuri(e,t,o))}function Hi(e,t,n,r,o){if(ho(n)){var a=!0;bo(t)}else a=!1;if(aa(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=_t),Ia(t,n,r),Ca(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var u=i.context,l=n.contextType;"object"==typeof l&&null!==l?l=ia(l):l=mo(t,l=ho(n)?yo:fo.current);var c=n.getDerivedStateFromProps,p="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;p||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||u!==l)&&Aa(t,i,r,l),sa=!1;var d=t.memoizedState;u=i.state=d;var f=t.updateQueue;null!==f&&(ma(t,f,r,i,o),u=t.memoizedState),s!==r||d!==u||Eo.current||sa?("function"==typeof c&&(va(t,n,c,r),u=t.memoizedState),(s=sa||Ta(t,n,s,r,d,u,l))?(p||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.effectTag|=4)):("function"==typeof i.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=l,r=s):("function"==typeof i.componentDidMount&&(t.effectTag|=4),r=!1)}else i=t.stateNode,s=t.memoizedProps,i.props=t.type===t.elementType?s:Ko(t.type,s),u=i.context,"object"==typeof(l=n.contextType)&&null!==l?l=ia(l):l=mo(t,l=ho(n)?yo:fo.current),(p="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||u!==l)&&Aa(t,i,r,l),sa=!1,u=t.memoizedState,d=i.state=u,null!==(f=t.updateQueue)&&(ma(t,f,r,i,o),d=t.memoizedState),s!==r||u!==d||Eo.current||sa?("function"==typeof c&&(va(t,n,c,r),d=t.memoizedState),(c=sa||Ta(t,n,s,r,u,d,l))?(p||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,d,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,d,l)),"function"==typeof i.componentDidUpdate&&(t.effectTag|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),i.props=r,i.state=d,i.context=l,r=c):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return ontainerInfo)}var Bi,Gi,Wi,qi,$i={dehydrated:nu.sibling}},Gi=eue){n!==r&&Qi(t)};var ts="function"==typeof Weak===e.tag}function ls(e){e:{for(var t=e.return;null!==t;){if(us(t)){var n=t;break e}t=t.return}throw i(Error(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw i(Error(161))}16&n.effectTag&&(We(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||us(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(n.effectTag&_t)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(n.effectTag&_t)){n=n.stateNode;break e}}for(var o=e;;){var a=5===o.tag||6===o.tag;if(a){var s=a?o.stateNode:o.stateNode.instance;if(n)if(r){var u=s;s=n,8===(a=t).nodeType?a.parentNode.insertBefore(u,s):a.insertBefore(u,s)}else t.insertBefore(s,n);else r?(8===(u=t).nodeType?(a=u.parentNode).insertBefore(s,u):(a=u).appendChild(s),null!=(u=u._reactRootContainer)||null!==a.onclick||(a.onclick=jn)):t.appendChild(s)}else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.retuen(r,r))}))}}var fs="function"==typeof Weak=n?n:""})}),n}var ms=Math.ceil,hs=L.ReactCurrentDispatcher,gs=L.ReactCurrentOwner,_s=0,Ss=8,vs=16,bs=32,Ts=0,Is=1,As=2,Cs=3,Os=4,Rs=5,ws=6,Ps=_s,Ns=null,Fs=null,Ls=0,ks=Ts,Ms=null,Ds=1073741823,Us=1073741823,xs=null,Hs=0,js=!1,Vs=0,Bs=500,Gs=null,Ws=!1,qs=null,$s=null,zs=!1,Ys=null,Xs=90,Ks=null,Qse===Ls&&--ackNode=t}}}function uu(e,t){if(Zs=0,t)return Yu(e,t=eu()),su(e),null;var n=iu(e);if(0!==n){if(t=e.callbackNode,(Ps&(vs|bs))!==_s)throw i(Error(327));if(Ru(),e===Ns&&n===Ls||yu(e,n),null!==Fs){var r=Ps;Ps|=vs;for(var o=hu();;)try{vu();break}catch(t){mu(e,t)}if(ta(),Ps=r,hs.current=o,ks===Is)throw t=Ms,yu(e,n),$u(e,n),su(e),t;if(null===Fs)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,pu(e,n),r=ks,Ns=null,r){case Ts:case Is:throw i(Error(345));case As:if(2!==n){Yu(e,2);break}Au(e);break;case Cs:if($u(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Iu(o)),1073741823===Ds&&10<(o=Vs+Bs-Bo())){if(js){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,yu(e,n);break}}if(0!==(a=iu(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=tr(Au.bind(null,e),o);break}Au(e);break;case Os:if($u(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Iu(o)),js&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,yu(e,n);break}if(0!==(o=iu(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Us?r=10*(1073741821-Us)-Bo():1073741823===Ds?r=0:(r=10*(1073741821-Ds)-5e3,0>(r=(o=Bo())-r)&&(r=0),(n=10*(1073741821-n)-o)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ms(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=tr(Au.bind(null,e),r);break}Au(e);break;case Rs:if(1073741823!==Ds&&null!==xs){a=Ds;var s=xs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(o=0|s.busyDelayMs,r=(a=Bo()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=o?0:o+r-a),10<r){$u(e,n),e.timeoutHandle=tr(Au.bind(null,e),r);break}}Au(e);break;case ws:$u(e,n);break;default:throw i(Error(329))}if(su(e),e.callbackNode===t)return uu.bind(null,t}function Tu(e){Fs=e;do{var t=Fs.alternate;if(e=Fs.return,(2048&Fs.effectTag)===gt){e:{var n=t,r=Ls,a=(t=Fs).pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 20:case 21:break;case 1:case 17:ho(t.type)&&go();break;case 3:Ha(),_o(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===n||null===n.child)&&wi(t)&&Qi(t),Gi(t);break;case 5:Va(t),r=Ua(Da.current);var s=t.type;if(null!==n&&null!=t.stateNode)Wi(n,t,s,a,r),n.ref!==t.ref&&(t.effectTag|=128);else if(a){var u=Ua(ka.current);if(wi(t)){s=void 0,n=(a=t).stateNode;var l=a.type,c=a.memoizedProps;switch(n[ir]=a,n[sr]=c,l){case"iframe":case"object":case"embed":vn("load",n);break;case"video":case"audio":for(var p=0;p<et.length;p++)vn(et[p],n);break;case"source":vn("error",n);break;case"img":case"image":case"link":vn("error",n),vn("load",n);break;case"form":vn("reset",n),vn("submit",n);break;case"details":vn("toggle",n);break;case"input":Oe(n,c),vn("invalid",n),Hn(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!c.multiple},vn("invalid",n),Hn(r,"onChange");break;case"textarea":Me(n,c),vn("invalid",n),Hn(r,"onChange")}for(s in Un(l,c),p=null,c)c.hasOwnProperty(s)&&(u=c[s],"children"===s?"string"==typeof u?n.textContent!==u&&(p=["children",u]):"number"==typeof u&&n.textContent!==""+u&&(p=["children",""+u]):f.hasOwnProperty(s)&&null!=u&&Hn(r,s));switch(l){case"input":Ie(n),Pe(n,c,!0);break;case"textarea":Ie(n),Ue(n);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(n.onclick=jn)}r=p,a.updateQueue=r,null!==r&&Qi(t)}else{c=s,n=a,l=t,p=9===r.nodeType?r:r.ownerDocument,u===xe.html&&(u=He(c)),u===xe.html?"script"===c?((c=p.createElement("div")).innerHTML="<script><\/script>",p=c.removeChild(c.firstChild)):"string"==typeof n.is?p=p.createElement(c,{is:n.is}):(p=p.createElement(c),"select"===c&&(c=p,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):p=p.createElementNS(u,c),(c=p)[ir]=l,c[sr]=n,Bi(n=c,t,!1,!1),t.stateNode=n,u=r;var d=xn(s,a);switch(s){case"iframe":case"object":case"embed":vn("load",n),r=a;break;case"video":case"audio":for(r=0;r<et.length;r++)vn(et[r],n);r=a;break;case"source":vn("error",n),r=a;break;case"img":case"image":case"link":vn("error",n),vn("load",n),r=a;break;case"form":vn("reset",n),vn("submit",n),r=a;break;case"details":vn("toggle",n),r=a;break;case"input":Oe(n,a),r=Ce(n,a),vn("invalid",n),Hn(u,"onChange");break;case"option":r=Fe(n,a);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},r=o({},a,{value:void 0}),vn("invalid",n),Hn(u,"onChange");break;case"textarea":Me(n,a),r=ke(n,a),vn("invalid",n),Hn(u,"onChange");break;default:r=a}Un(s,r),l=void 0,c=s,p=n;var E=r;for(l in E)if(E.hasOwnProperty(l)){var y=E[l];"style"===l?Mn(p,y):"dangerouslySetInnerHTML"===l?null!=(y=y?y.__html:void 0)&&Ge(p,y):"children"===l?"string"==typeof y?("textarea"!==c||""!==y)&&We(p,y):"number"==typeof y&&We(p,""+y):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(f.hasOwnProperty(l)?null!=y&&Hn(u,l):null!=y&&be(p,l,y,d))}switch(s){case"input":Ie(n),Pe(n,a,!1);break;case"textarea":Ie(n),Ue(n);break;case"option":null!=a.value&&n.setAttribute("value",""+ve(a.value));break;case"select":r=n,n=a,r.multiple=!!n.multiple,null!=(l=n.value)?Le(r,!!n.multiple,l,!1):null!=n.defaultValue&&Le(r,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof r.onClick&&(n.onclick=jn)}Zn(s,a)&&Qi(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw i(Error(166));break;case 6:if(n&&null!=t.stateNode)qi(n,t,n.memoizedProps,a);else{if("string"!=typeof a&&null===t.stateNode)throw i(Error(166));s=Ua(Da.current),Ua(ka.current),wi(t)?(r=t.stateNode,a=t.memoizedProps,r[ir]=t,r.nodeValue!==a&&Qi(t)):(r=t,(a=(9===s.nodeType?s:s.ownerDocument).createTextNode(a))[ir]=t,r.stateNode=a)}break;case 13:if(lo(Ba),a=t.memoizedState,(64&t.effectTag)!==gt){t.expirationTime=r;break e}r=null!==a,a=!1,null===n?wi(t):(a=null!==(s=n.memoizedState),r||null===s||null!==(s=n.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=s,s.nextEffect=l):(t.firstEffect=t.lastEffect=s,s.nextEffect=null),s.effectTag=8)),r&&!a&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ba.current)?ks===Ts&&(ks=Cs):(ks!==Ts&&ks!==Cs||(ks=Os),0!==Hs&&null!==Ns&&($u(Ns,Ls),zu(Ns,Hs)))),(r||a)&&(t.effectTag|=4);break;case 4:Ha(),Gi(t);break;case 10:ra(t);break;case 19:if(lo(Ba),null===(a=t.memoizedState))break;if(s=(64&t.effectTag)!==gt,null===(l=a.rendering)){if(s)Ji(a,!1);else if(ks!==Ts||null!==n&&(64&n.effectTag)!==gt)for(n=t.child;null!==n;){if(null!==(l=Ga(n))){for(t.effectTag|=64,Ji(a,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),t.firstEffect=t.lastEffect=null,a=t.child;null!==a;)n=r,(s=a).effectTag&=_t,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childExpirationTime=0,s.expirationTime=n,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null):(s.childExpirationTime=l.childExpirationTime,s.expirationTime=l.expirationTime,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,n=l.dependencies,s.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),a=a.sibling;co(Ba,1&Ba.current|2),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=Ga(l))){if(t.effectTag|=64,s=!0,Ji(a,!0),null===a.tail&&"hidden"===a.tailMode){null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),null!==(t=t.lastEffect=a.lastEffect)&&(t.nextEffect=null);break}}else Bo()>a.tailExpiration&&1<r&&(t.effectTag|=64,s=!0,Ji(a,!1),t.expirationTime=t.childExpirationTime=r-1);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=a.last)?r.sibling=l:t.child=l,a.last=l)}if(null!==a.tail){0===a.tailExpiration&&(a.tailExpiration=Bo()+500),r=a.tail,a.rendering=r,a.tail=r.sibling,a.lastEffect=t.lastEffect,r.sibling=null,a=Ba.current,co(Ba,a=s?1&a|2:1&a),t=r;break e}break;default:throw i(Error(156),t.tag)}t=null}if(r=Fs,1===Ls||1!==r.childExpirationTime){for(a=0,s=r.child;null!==s;)(n=s.expirationTime)>a&&(a=n),(l=s.childExpirationTime)>a&&(a=l),s=s.sibling;r.childExpirationTime=a}if(null!==t)return t;null!==e&&(2048&e.effectTag)===gt&&(null===e.firstEffect&&(e.firstEffect=Fs.firstEffect),null!==Fs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Fs.firstEffect),e.lastEffect=Fs.lastEffect),1<Fs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Fs:e.firstEffect=Fs,e.lastEffect=Fs))}else{if(null!==(t=Zi(Fs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Fs.sibling))return t;Fs=e}while(null!==Fs);return ks===Tll,e,t)),null}function Cu(e,t){if(Ru(),(Ps&(vs|bs))!==_s)throw i(Error(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw i(Error(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=Iu(n);if(e.firstPendingTime=o,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ns&&(Fs=Ns=null,Ls=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var a=Ps;Ps|=bs,gs.current=null,Qn=Sn;var s=qn();if($n(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{u.nodeType,p.nodeType}catch(e){u=null;break e}var d=0,f=-1,E=-1,y=0,m=0,h=s,g=null;t:for(;;){for(var _;h!==u||0!==c&&3!==h.nodeType||(f=d+c),h!==p||0!==l&&3!==h.nodeType||(E=d+l),3===h.nodeType&&(d+=h.nodeValue.length),null!==(_=h.firstChild);)g=h,h=_;for(;;){if(h===s)break t;if(g===u&&++y===c&&(f=d),g===p&&++m===l&&(E=d),null!==(_=h.nextSibling))break;g=(h=g).parentNode}h=_}u=-1===f||-1===E?null:{start:f,end:E}}else u=null}u=u||{start:0,end:0}}else u=null;Jn={focusedElem:s,selectionRange:u},Sn=!1,Gs=o;do{try{Ou()}catch(e){if(null===Gs)throw i(Error(330));Nu(Gs,e),Gs=Gs.nextEffect}}while(null!==Gs);Gs=o;do{try{for(s=e,u=t;null!==Gs;){var S=Gs.effectTag;if(16&S&&We(Gs.stateNode,""),128&S){var v=Gs.alternate;if(null!==v){var b=v.ref;null!==b&&("function"==typeof b?b(null):b.current=null)}}switch(S&(12|_t|St)){case _t:ls(Gs),Gs.effectTag&=~_t;break;case 6:ls(Gs),Gs.effectTag&=~_t,ps(Gs.alternate,Gs);break;case St:Gs.effectTag&=~St;break;case 1028:Gs.effectTag&=~St,ps(Gs.alternate,Gs);break;case 4:ps(Gs.alternate,Gs);break;case 8:cs(s,c=Gs,u),ss(c)}Gs=Gs.nextEffect}}catch(e){if(null===Gs)throw i(Error(330));Nu(Gs,e),Gs=Gs.nextEffect}}while(null!==Gs);if(b=Jn,v=qn(),S=b.focusedElem,u=b.selectionRange,v!==S&&S&&S.ownerDocument&&Wn(S.ownerDocument.documentElement,S)){null!==u&&$n(S)&&(v=u.start,void 0===(b=u.end)&&(b=v),"selectionStart"in S?(S.selectionStart=v,S.selectionEnd=Math.min(b,S.value.length)):(b=(v=S.ownerDocument||document)&&v.defaultView||window).getSelection&&(b=b.getSelection(),c=S.textContent.length,s=Math.min(u.start,c),u=void 0===u.end?s:Math.min(u.end,c),!b.extend&&s>u&&(c=u,u=s,s=c),c=Gn(S,s),p=Gn(S,u),c&&p&&(1!==b.rangeCount||b.anchorNode!==c.node||b.anchorOffset!==c.offset||b.focusNode!==p.node||b.focusOffset!==p.offset)&&((v=v.createRange()).setStart(c.node,c.offset),b.removeAllRanges(),s>u?(b.addRange(v),b.extend(p.node,p.offset)):(v.setEnd(p.node,p.offset),b.addRange(v))))),v=[];for(b=S;b=b.parentNode;)1===b.nodeType&&v.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"==typeof S.focus&&S.focus(),S=0;S<v.length;S++)(b=v[S]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Jn=null,Sn=!!Qn,Qn=null,e.current=n,Gs=o;do{try{for(S=r;null!==Gs;){var T=Gs.effectTag;if(36&T){var I=Gs.alternate;switch(b=S,(v=Gs).tag){case 0:case 11:case 15:as(16,32,v);break;case 1:var A=v.stateNode;if(4&v.effectTag)if(null===I)A.componentDidMount();else{var C=v.elementType===v.type?I.memoizedProps:Ko(v.type,I.memoizedProps);A.componentDidUpdate(C,I.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var O=v.updateQueue;null!==O&&ha(0,O,A);break;case 3:var R=v.updateQueue;if(null!==R){if(s=null,null!==v.child)switch(v.child.tag){case 5:case 1:s=v.child.stateNode}ha(0,R,s)}break;case 5:var w=v.stateNode;null===I&&4&v.effectTag&&(b=w,Zn(v.type,v.memoizedProps)&&b.focus());break;case 6:case 4:case 12:case 19:case 17:case 20:case 21:break;case 13:if(null===v.memoizedState){var P=v.alternate;if(null!==P){var N=P.memoizedState;if(null!==N){var F=N.dehydrated;null!==F&&ht(F)}}}break;default:throw i(Error(163))}}if(128&T){var L=(v=Gs).ref;if(null!==L){var k=v.stateNode;if(5===v.tag)var M=k;else M=k;"function"==typeof L?L(M):L.current=M}}Gs=Gs.nextEffect}}catch(e){if(null===Gs)throw i(Error(330));Nu(Gs,e),Gs=Gs.nextEffect}}while(null!==Gs);Gs=null,Uo(),Ps=a}else e.current=n;if(zs)zs=!1,Ys=e,Xs=t;else for(Gs=o;null!==Gs;)t=Gs.nextEffect,Gs.nextEffect=null,Gs=t;if(0===(t=e.firstPendingTime)&&($s=null),1073741823===t?e===Js?Qs++:(Qs=0,Js=e):Qs=0,"function"==typeof ku&&ku(n.stateNode,r),su(e),Ws)throw Ws=!1,e=qs,qs=null,e;return(Ps&Ss)!)&&su(e)}nu=function(e,t,n){var r=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||Eo.current)Fi=!0;else{if(r<n){switch(Fi=!1,t.tag){case 3:Vi(t),Pi();break;case 5:if(ja(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:ho(t.type)&&bo(t);break;case 4:xa(t,t.stateNode.containerInfo);break;case 10:na(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?zi(e,t,n):(co(Ba,1&Ba.current),null!==(t=Ki(e,t,n))?t.sibling:null);co(Ba,1&Ba.current);break;case 19:if(r=t.childExpirationTime>=n,(64&e.effectTag)!==gt){if(r)return Xi(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),co(Ba,Ba.current),!r)return null}return Ki(e,t,n)}Fi=!1}}else Fi=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=_t),e=t.pendingProps,o=mo(t,fo.current),aa(t,n),o=si(null,t,r,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,ui(),ho(r)){var a=!0;bo(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&va(t,r,s,e),o.updater=ba,t.stateNode=o,o._reactInternalFiber=t,Ca(t,r,e,n),t=ji(null,t,r,!0,a,n)}else t.tag=0,Li(null,t,o,n),t=t.child;return t;case 16:if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=_t),e_result=t)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,trn 14}return 2}(o),e=Ko(o,e),a){case 0:t=xi(null,t,o,e,n);break;case 1:t=Hi(null,t,o,e,n);break;case 11:t=ki(null,t,o,e,n);break;case 14:t=Mi(null,t,o,Ko(o.type,e),r,n);break;default:throw i(Error(306),o,"")}return t;case 0:return r=t.type,o=t.pendingProps,xi(e,t,r,o=t.elementType===r?o:Ko(r,o),n);case 1:return r=t.type,o=t.pendingProps,Hi(e,t,r,o=t.elementType===r?o:Ko(r,o),n);case 3:if(Vi(t),null===(r=t.updateQueue))throw i(Error(282));if(o=null!==(o=t.memoizedState)?o.element:null,ma(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===o)Pi(),t=Ki(e,t,n);else{if((o=t.stateNode.hydrate)&&(Ti=rr(t.stateNode.containerInfo.firstChild),bi=t,o=Ii=!0),o)for(n=Fa(t,null,r,n),t.child=n;n;)n.effectTag=n.effectTag&~_t|St,n=n.sibling;else Li(e,t,r,n),Pi();t=t.child}return t;case 5:return ja(t),null===e&&Oi(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,er(r,o)?s=null:null!==a&&er(r,a)&&(t.effectTag|=16),Ui(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Li(e,t,s,n),t=t.child),t;case 6:return null===e&&Oi(t),null;case 13:return zi(e,t,n);case 4:return xa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Na(t,null,r,n):Li(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ki(e,t,r,o=t.elementType===r?o:Ko(r,o),n);case 7:return Li(e,t,t.pendingProps,n),t.child;case 8:case 12:return Li(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,na(t,a=o.value),null!==s){var u=s.value;if(0===(a=Kr(u,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===o.children&&!Eo.current){t=Ki(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&a)){1===u.tag&&((c=ca(n,null)).tag=2,da(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),oa(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}Li(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(o=ia(o,a.unstable_observedBits)),t.effectTag|=1,Li(e,t,r,n),t.child;case 14:return a=Ko(o=t.type,t.pendingProps),Mi(e,t,o,a=Ko(o.type,a),r,n);case 15:return Di(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ko(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=_t),t.tag=1,ho(r)?(e=!0,bo(t)):e=!1,aa(t,n),Ia(t,r,o),Ca(t,r,o,n),ji(null,t,r,!0,e,n);case 19:return Xi(e,t,n)}throw i(Error(156),t.tag)};var ._onCommit),r},Ju.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ju.pthis._defer=!1},Ju.protot++)(0,e[t])()}},Zu[]),t.push(e)}},Zu.prot(191),n);n()}}},nl.prototype.render=tl.pr._onCommit),r},nl.prototype.unmount=tl.prn._onCommit),n},nl.prototxt=e)}return e},ie=dun)===_s&&Yo()}};var il={createPortaleNode}return e},hydrate:function(e,t,n){if(!rl(t))throw i(Error(200));return ol(null,e,null,e,t,!1,n)},unstable_renderSubtrol(e,t,n,!1,r)},unmountnull}))})),!0)},unstable_createPortal:function(){return al.apply(void 0,arguments)},unstable_batchedUpdates:du,unstable_int(),fu(e,t,n,r)},unstable_discreteUpdates:fu,unstable_flushDiscreteUpdatlly{Ps=n,Yo()}},unstrn new nl(e,t)},unstable new tl(e,1,t)},unstable_t)===_s&&Yo()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[cr,pr,dr,N.injectEventPluginsByName,d,Pt,function(e){O(e,wt)},oe,ae,Cn,P,Ru,{tFiber:null}))}({findFiberByHostInstance:lr,bundleType:0,version:"16.10.2",rendererPackageName:"react-dom"});var sl={default:il},ul=sl&&il||sl;e.exports=ul.dexports=n(4448)},4203:function(e,t){"use strict";
/** @license React v0.16.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n,r,o,a,i;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var imeout(l,0),e}},c=Date.now();t.unstable_now=function(){return tTetTimeout(e,t)},o=function(){clearTimeout(u)},a=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var p=window.performance,d=window.Date,f=window.setTimeout,E=window.clearTimeout,y=window.requestAnimationFrame,m=window.cancelAnimationFrame;if("undefined"!=typeof console&&("function"!=typeof y&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),"object"==typeof p&&"function"==typeof p.now)t.unstable_now=function(){return p.now()};else{var h=d.now()turn d.now()-h}}var g=!1,_=nulltable_now()>=b},i=function(){},t.unstabler(1e3/e):33.33};var T=new MessageChannel,I=T.port2;T.),Melen:e.id-t.id}var w=[],P=[],N=1,F=null,L=3return 5e3}}var V=i;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_)}finally{L=n}},)}finally{L=n}},t.unstable_s(M=!0,n(H))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstab}finally{L=n}}},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstaationTime||a()},t.unstable_requestPaint=V,t.unstable_cok||(M=!0,n(H))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return C(w)},t.unstable_Profiling=null},4142:function(e,t,n){"use strict";e.exportturn S(e)===f}},9864:function(e,t,n){"use strict";e.exports=n(9921)},5363:function(e,t,n){"use strict";n.r(t),n.d(t,{Provider:function(){return E},ReactReduxContext:function(){return s},batch:function(){return fe.unstable_batchedUpdates},connect:function(){return ne},connectAdvanced:function(){return O},createDispatchHook:function(){return ie},createSelectorHook:function(){return ce},createStoreHook:function(){return oe},shallowEqual:function(){return P},useDispatch:function(){return se},useSelector:function(){return de},useStore:function(){return ae}});var r=n(7294),o=n.n(r),a=n(5697),i=n.n(a),s=o().createContunction(e){e()},l=function(){return u},c=null,p={notify:funcisr,{value:i},a)}f.propTypes={store:i().shape({subscribe:i().func.isRequired,dispatch:i().func.isRequired,getState:i().func.isRequired}),context:i().object,children:i().any};var E=f;function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(e[n]);return o}var h=n(8679),g=n.n(h),_=n(1143),S=n.n(_),v=n(9864),b=[t.payreturn[null,0]},C="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;function O(e,t){void 0===t&&(t={});var n=t,a=n.getDisplayName,i=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,u=n.methodName,l=void 0===u?"connectAdvanced":u,c=n.renderCountProp,p=void 0===c?void 0:c,f=n.shouldHandleStateChanges,E=void 0===f||f,h=n.storeKey,_=void 0===h?"store":h,O=n.withRef,R=void 0!==O&&O,w=n.forwardRef,P=void 0!==w&&w,N=n.context,F=void 0===N?s:N,L=m(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);S()(void 0===p,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),S()(!R,"withRef is removed. To access the wrapped instance, use a ref on the connected component");S()("store"===_,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var k=F;return function(t){var n=t.displayName||t.name||"Component",a=i(n),s=y({},L,{getDisplayName:i,methodName:l,renderCountProp:p,shouldHandleStateChanges:E,storeKey:_,displayName:a,wrappedComponentName:n,WrappedComponent:t}),u=L.pure;va(e){return e()};function f(n){var in.context,e,t]}),[n]),u=i[0],l=i[1],p=i[2],fmer,null))?u:k}),[u,k]),h=(0,r.useContext)(f),g=Boolean(n.store),_=Boolean(h)&&Boolean(h.store);S()(g||_,'Could not find "store" in the context of "'+a+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+a+" in connect options.");var O=n.store||h.store,Rispatch,s)}(O)}),[O]),we);return[e,t]}),[O,g,h]),P=w[0],N=w[1],Fbscription:P})}),[g,h,P]),L=(0,r.useReducer)(I,b,A),M=L[0][0],D=L[1];if(M&&M.error)throw M.error;var U=(0,r.useRef)(),x=(0,r.useRef)(p),H=(0,r.useRef)(),j=(0,r.u.getState(),prent=ll,t)throw t}}}),[O,P,R]);var B{},V,{ref:l}))}),[l,t,V]);retur{value:F},B):B}),[f,B,F])}var h=u?o().memo(f):f;if(h.WrappedComponent=t,h.displayName=a,P){var O=wardedRef:t}))}));return O.displayName=a,O.WrappedComponent=t,g()(O,t)}return g()(h,t)}}var R=Object.prototype.hasOwnProperty;function w(e,t){return e===t?0!==e||0!==t||1/e=urn!1;return!(t,n)),o},r}}var M=[function(e){return"function"==typeofe,t)})):(},n,{}oturn e===t}var W,q,$,z,Y,X,K,Q,J,Z,ee,te,ne=($=(q=void 0===W?{}:W).connectHOC,z=void 0===$?O:$,Y=q.mapStateToPropsFactories,X=void 0===Y?D:Y,K=q.mapDispatchToPropsFactories,Q=void 0===K?M:K,J=q.mergePropsFactories,Z=void 0===J?x:J,ee=q.selectorFactory,te=vprn t().sto t().dispatch}}var se=ie(),ue="undefined"!=typeof window?r.useLayoutEffect){return e===t};function ce(e){void 0===e&&(e=s)useCont.subscription)}}var pe,de=ce(),fe=n(3935);pe=fe.unstable_batchedUpdates,u=pe},2408:function(e,t,n){"use strict";
/** @license React v16.10.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(7418),o="function"==typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,l=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,p=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.forward_ref"):60112,f=o?Symbol.for("react.suspense"):60113,E=o?Symbol.for("react.suspense_list"):60120,y=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116;o&&Symbol.for("react.fundamental"),o&&Symbol.for("react.responder"),o&&Symbol.for("react.scope");var h="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S={};function v(e,t,n){this.props=e,this.context=t,this.refs=S,this.updater=n||s.updater=n||_}v.prototype.isReactComponent={},v.pro,t,"setState")},v.protot"forceUpdate")},b.prototype=v.prototype;var I=T.prototype=new b;I.constructor=T,r(I,v.prototype),I.isPureReactComponent=!0;var A={current:null},C={suspense:null},O={current:null},R=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:.$$typeof===a}vaturn e}var G,r,null,ull,t,n null}){retu143));return e}},createRef:function(){return{current:null}},Component:v,PureComponent:},e.Consumeof:d,,_res 0===t?null:t}},useCallback:function(e,t){return B().useCallback(e,t)},useContext:function(e,t){return B().useContext(e,t)},useEffect:function(e,t){return B().useEffect(e,t)},useImperativeHandle:function(e,t,n){return B().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return B().useLayoutEffec).useMemo(eReducer(e,t,n)},useRef:function(e){return B().useR().useState(e)},Fragment:s,Profiler:l,StrictMode:u,Suspense:f,unstable_SuspenseList:E,createElementps:o,_owner:u}urn t.type=e,t},isValidElement:N,version:"16.10.2",unstable_wit{C.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:A,ReactCurrentBatchConfig:C,ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:r}},W={default:G},q=W&&G||W;e.exports=q.default||q},7294:function(e,t,n){"use strict";e.exports=n(2408)},4890:function(e,t,n){"use strict";n.r(t),n.d(t,{__DO_NOT_USE__ActionTypes:function(){return a},applyMiddleware:function(){return y},bindActionCreators:function(){return p},combineReducers:function(){return l},compose:function(){return E},createStore:function(){return s}});("").join(".")},a={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBEW}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writablispaull!==i(e,t)}}},2147:function(e,t,n){"use strict";var r,o=SyntaxError,a=Function,i=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var l=function(){throw new i},c=u?function(){try{return l}catch(e){try{return u(arguments,"callee").get}catch(e){return l}}}():l,p=n(3570)(),d=n(8185)(),f=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),E={},y="undefined"!=typeof Uint8Array&&f?f(Uint8Array):r,m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p&&f?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":E,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&f?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p&&f?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p&&f?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&f?f(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":c,"%TypedArray%":y,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(f)try{null.error}catch(e){var h=f(f(e));m["%Error.prototype%"]=h}var g=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&f&&(n=f(o.prototype))}return m[t]=n,n},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=n(8612),v=n(7642),b=S.call(Function.call,Array.prototype.concat),T=S.call(Function.apply,Array.prototype.splice),I=S.call(Function.call,String.prototype.replace),A=S.call(Function.call,String.prototype.slice),C=S.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,w=function(e,t){var n,r=e;if(v(_,r)&&(r="%"+(n=_[r])[0]+"%"),v(m,r)){var a=m[r];if(a===E&&(a=g(r)),void 0===a&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=A(e,0,1),n=A(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return I(e,O,(function(e,t,n,o){r[r.length]=n?I(o,R,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",a=w("%"+r+"%",t),s=a.name,l=a.value,c=!1,p=a.alias;p&&(r=p[0],T(n,b([0,1],p)));for(var d=1,f=!0;d<n.length;d+=1){var E=n[d],y=A(E,0,1),h=A(E,-1);if(('"'===y||"'"===y||"`"===y||'"'===h||"'"===h||"`"===h)&&y!==h)throw new o("property names with quotes must have matching quotes");if("constructor"!==E&&f||(c=!0),v(m,s="%"+(r+="."+E)+"%"))l=m[s];else if(null!=l){if(!(E in l)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=n.length){var g=u(l,E);l=(f=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:l[E]}else f=v(l,E),l=l[E];f&&!c&&(m[s]=l)}}return l}},3570:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(8182);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},8182:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}gExp]length",t)),e}},3623:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var a,i=function(e,t){for(var n=[],r=t||0,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n}(arguments,1),s=n(0,o.length-i.length),u=[],l=0;l<s;l++)u[l]="$"+l;if(a=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(u,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var t=o.apply(this,r(i,arguments));return Object(t)===t?t:this}return o.apply(e,r(i,arguments))})),o.prototype){var c=function(){};c.prototype=o.prototype,a.prototype=new c,c.prototype=null}return a}},9779:function(e,t,n){"use strict";var r=n(3623);e.exports=Function.prototype.bind||r},6633:function(e,t,n){"use strict";var r,o=SyntaxError,a=Function,i=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var l=function(){throw new i},c=u?function(){try{return l}catch(e){try{return u(arguments,"callee").get}catch(e){return l}}}():l,p=n(5045)(),d=n(8185)(),f=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),E={},y="undefined"!=typeof Uint8Array&&f?f(Uint8Array):r,m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p&&f?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":E,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&f?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p&&f?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p&&f?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&f?f(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":c,"%TypedArray%":y,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(f)try{null.error}catch(e){var h=f(f(e));m["%Error.prototype%"]=h}var g=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&f&&(n=f(o.prototype))}return m[t]=n,n},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=n(9779),v=n(8824),b=S.call(Function.call,Array.prototype.concat),T=S.call(Function.apply,Array.prototype.splice),I=S.call(Function.call,String.prototype.replace),A=S.call(Function.call,String.prototype.slice),C=S.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,w=function(e,t){var n,r=e;if(v(_,r)&&(r="%"+(n=_[r])[0]+"%"),v(m,r)){var a=m[r];if(a===E&&(a=g(r)),void 0===a&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=A(e,0,1),n=A(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return I(e,O,(function(e,t,n,o){r[r.length]=n?I(o,R,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",a=w("%"+r+"%",t),s=a.name,l=a.value,c=!1,p=a.alias;p&&(r=p[0],T(n,b([0,1],p)));for(var d=1,f=!0;d<n.length;d+=1){var E=n[d],y=A(E,0,1),h=A(E,-1);if(('"'===y||"'"===y||"`"===y||'"'===h||"'"===h||"`"===h)&&y!==h)throw new o("property names with quotes must have matching quotes");if("constructor"!==E&&f||(c=!0),v(m,s="%"+(r+="."+E)+"%"))l=m[s];else if(null!=l){if(!(E in l)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=n.length){var g=u(l,E);l=(f=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:l[E]}else f=v(l,E),l=l[E];f&&!c&&(m[s]=l)}}return l}},5045:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(2496);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},2496:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}))}};,e));rator]]",e),t}},9646:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var a,i=function(e,t){for(var n=[],r=t||0,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n}(arguments,1),s=n(0,o.length-i.length),u=[],l=0;l<s;l++)u[l]="$"+l;if(a=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(u,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var t=o.apply(this,r(i,arguments));return Object(t)===t?t:this}return o.apply(e,r(i,arguments))})),o.prototype){var c=function(){};c.prototype=o.prototype,a.prototype=new c,c.prototype=null}return a}},330:function(e,t,n){"use strict";var r=n(9646);e.exports=Function.prototype.bind||r},4151:function(e,t,n){"use strict";var r,o=SyntaxError,a=Function,i=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var l=function(){throw new i},c=u?function(){try{return l}catch(e){try{return u(arguments,"callee").get}catch(e){return l}}}():l,p=n(5469)(),d=n(8185)(),f=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),E={},y="undefined"!=typeof Uint8Array&&f?f(Uint8Array):r,m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p&&f?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":E,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&f?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p&&f?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p&&f?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&f?f(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":c,"%TypedArray%":y,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(f)try{null.error}catch(e){var h=f(f(e));m["%Error.prototype%"]=h}var g=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&f&&(n=f(o.prototype))}return m[t]=n,n},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=n(330),v=n(8824),b=S.call(Function.call,Array.prototype.concat),T=S.call(Function.apply,Array.prototype.splice),I=S.call(Function.call,String.prototype.replace),A=S.call(Function.call,String.prototype.slice),C=S.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,w=function(e,t){var n,r=e;if(v(_,r)&&(r="%"+(n=_[r])[0]+"%"),v(m,r)){var a=m[r];if(a===E&&(a=g(r)),void 0===a&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=A(e,0,1),n=A(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return I(e,O,(function(e,t,n,o){r[r.length]=n?I(o,R,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",a=w("%"+r+"%",t),s=a.name,l=a.value,c=!1,p=a.alias;p&&(r=p[0],T(n,b([0,1],p)));for(var d=1,f=!0;d<n.length;d+=1){var E=n[d],y=A(E,0,1),h=A(E,-1);if(('"'===y||"'"===y||"`"===y||'"'===h||"'"===h||"`"===h)&&y!==h)throw new o("property names with quotes must have matching quotes");if("constructor"!==E&&f||(c=!0),v(m,s="%"+(r+="."+E)+"%"))l=m[s];else if(null!=l){if(!(E in l)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=n.length){var g=u(l,E);l=(f=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:l[E]}else f=v(l,E),l=l[E];f&&!c&&(m[s]=l)}}return l}},5469:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(5089);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},5089:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}s),e.0!==n.g?n.g:e)},2238:function(e,t,n){var r;!function(o,a){"use strict";var i="function",s="undefined",u="object",l="model",c="name",p="type",d="vendor",f="version",E="architecture",y="console",m="mobile",h="tablet",g="smarttv",_="wear=e[rtoLowerCase())},lowerize:function(e){return e.toLowplit(".")[0]:a},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$[s]=n?a:n;return e}},b={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},T={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[c,f],[/(opios)[\/\s]+([\w\.]+)/i],[[c,"Opera Mini"],f],[/\s(opr)\/([\w\.]+)/i],[[c,"Opera"],f],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[c,f],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[c,"IE"],f],[/(edge)\/((\d+)?[\w\.]+)/i],[c,f],[/(yabrowser)\/([\w\.]+)/i],[[c,"Yandex"],f],[/(puffin)\/([\w\.]+)/i],[[c,"Puffin"],f],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[c,"UCBrowser"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],f],[/(micromessenger)\/([\w\.]+)/i],[[c,"WeChat"],f],[/(QQ)\/([\d\.]+)/i],[c,f],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[c,f],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[f,[c,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[f,[c,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[f,[c,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[c,/(.+)/,"$1 WebView"],f],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[c,/(.+(?:g|us))(.+)/,"$1 $2"],f],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[f,[c,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[c,f],[/(dolfin)\/([\w\.]+)/i],[[c,"Dolphin"],f],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[c,"Chrome"],f],[/(coast)\/([\w\.]+)/i],[[c,"Opera Coast"],f],[/fxios\/([\w\.-]+)/i],[f,[c,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[f,[c,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[f,c],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[c,"GSA"],f],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[c,[f,v.str,b.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[c,f],[/(navigator|netscape)\/([\w\.-]+)/i],[[c,"Netscape"],f],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[c,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[E,"amd64"]],[/(ia32(?=;))/i],[[E,S.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[E,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[E,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[E,/ower/,"",S.lowerize]],[/(sun4\w)[;\)]/i],[[E,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[E,S.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[l,d,[p,h]],[/applecoremedia\/[\w\.]+ \((ipad)/],[l,[d,"Apple"],[p,h]],[/(apple\s{0,1}tv)/i],[[l,"Apple TV"],[d,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,l,[p,h]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[l,[d,"Amazon"],[p,h]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[l,v.str,b.device.amazon.model],[d,"Amazon"],[p,m]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[l,d,[p,m]],[/\((ip[honed|\s\w*]+);/i],[l,[d,"Apple"],[p,m]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,l,[p,m]],[/\(bb10;\s(\w+)/i],[l,[d,"BlackBerry"],[p,m]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[l,[d,"Asus"],[p,h]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[l,"Xperia Tablet"],[p,h]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[l,[d,"Sony"],[p,m]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,l,[p,y]],[/android.+;\s(shield)\sbuild/i],[l,[d,"Nvidia"],[p,y]],[/(playstation\s[34portablevi]+)/i],[l,[d,"Sony"],[p,y]],[/(sprint\s(\w+))/i],[[d,v.str,b.device.sprint.vendor],[l,v.str,b.device.sprint.model],[p,m]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[d,l,[p,h]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[d,[l,/_/g," "],[p,m]],[/(nexus\s9)/i],[l,[d,"HTC"],[p,h]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[l,[d,"Huawei"],[p,m]],[/(microsoft);\s(lumia[\s\w]+)/i],[d,l,[p,m]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[l,[d,"Microsoft"],[p,y]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[d,"Microsoft"],[p,m]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[l,[d,"Motorola"],[p,m]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[d,"Motorola"],[p,h]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,S.trim],[l,S.trim],[p,g]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[d,"Samsung"],[p,g]],[/\(dtv[\);].+(aquos)/i],[l,[d,"Sharp"],[p,g]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],l,[p,h]],[/smart-tv.+(samsung)/i],[d,[p,g],l],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[d,"Samsung"],l,[p,m]],[/sie-(\w+)*/i],[l,[d,"Siemens"],[p,m]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[d,"Nokia"],l,[p,m]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[l,[d,"Acer"],[p,h]],[/android.+([vl]k\-?\d{3})\s+build/i],[l,[d,"LG"],[p,h]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],l,[p,h]],[/(lg) netcast\.tv/i],[d,l,[p,g]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[l,[d,"LG"],[p,m]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[l,[d,"Lenovo"],[p,h]],[/linux;.+((jolla));/i],[d,l,[p,m]],[/((pebble))app\/[\d\.]+\s/i],[d,l,[p,_]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[d,l,[p,m]],[/crkey/i],[[l,"Chromecast"],[d,"Google"]],[/android.+;\s(glass)\s\d/i],[l,[d,"Google"],[p,_]],[/android.+;\s(pixel c)\s/i],[l,[d,"Google"],[p,h]],[/android.+;\s(pixel xl|pixel)\s/i],[l,[d,"Google"],[p,m]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[l,/_/g," "],[d,"Xiaomi"],[p,m]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[l,/_/g," "],[d,"Xiaomi"],[p,h]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[l,[d,"Meizu"],[p,h]],[/android.+a000(1)\s+build/i],[l,[d,"OnePlus"],[p,m]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[l,[d,"RCA"],[p,h]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[l,[d,"Dell"],[p,h]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[l,[d,"Verizon"],[p,h]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[d,"Barnes & Noble"],l,[p,h]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[l,[d,"NuVision"],[p,h]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[d,"ZTE"],l,[p,h]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[l,[d,"Swiss"],[p,m]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[l,[d,"Swiss"],[p,h]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[l,[d,"Zeki"],[p,h]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[d,"Dragon Touch"],l,[p,h]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[l,[d,"Insignia"],[p,h]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[l,[d,"NextBook"],[p,h]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[d,"Voice"],l,[p,m]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[d,"LvTel"],l,[p,m]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[l,[d,"Envizen"],[p,h]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[d,l,[p,h]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[l,[d,"MachSpeed"],[p,h]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[d,l,[p,h]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[l,[d,"Rotor"],[p,h]],[/android.+(KS(.+))\s+build/i],[l,[d,"Amazon"],[p,h]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[d,l,[p,h]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[p,S.lowerize],d,l],[/(android.+)[;\/].+build/i],[l,[d,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[f,[c,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[c,f],[/rv\:([\w\.]+).*(gecko)/i],[f,c]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[c,f],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[c,[f,v.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[c,"Windows"],[f,v.str,b.os.windows.version]],[/\((bb)(10);/i],[[c,"BlackBerry"],f],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[c,f],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[c,"Symbian"],f],[/\((series40);/i],[c],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[c,"Firefox OS"],f],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[c,f],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[c,"Chromium OS"],f],[/(sunos)\s?([\w\.]+\d)*/i],[[c,"Solaris"],f],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[c,f],[/(haiku)\s(\w+)/i],[c,f],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[f,/_/g,"."],[c,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[c,"Mac OS"],[f,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+n=e,this},this};I.VERSION="0.7.17",I.BROWSER={NAME:c,MAJOR:"major",VERSION:f},I.CPU={ARCHITECTURE:E},I.DEVICE={MODEL:l,VENDOR:d,TYPE:p,CONSOLE:y,MOBILE:m,SMARTTV:g,TABLET:h,WEARABLE:_,EMBEDDED:"embedded"},I.ENGINE={NAME:c,VERSION:f},I.OS={NAME:c,VERSION:f},typeof t!==s?(e.exports&&(t=e.exports=I),t.UAParser=I):n.amdO?(r=function(){return I}.call(t,n,t,e))===a||(e.exports=r):o&&(o.UAParser=I);var A=o&&(o.jQuery||o.Zepto);if(typeof A!==s){var C=new I;A.ua=C.getReturn C.get)A.ua[n]=t[n]}}}("object"==typeof window?window:this)},6841:function(){},7165:fun.lenturn turn tableta pr(u,c,Desc");retreturn t in e}},8075:function(e,t,n){"use strict";var r=n(8824),o=n(6454),a=n(5244);e.exports=function(e){return void 0!==e&&(a(o,"Property Descriptor","Desc",e),!(!r(e,"[[Get]]")&&!r(e,"[[Set]]")))}},363:function(e,t,n){"use strict";e.exports=n(3088)},2154:function(e,t,n){"use strict";e.export!!e.pritab){ret!o(e)ol"== y(e,t,_,n,g)}},4425:function(e,t,n){"use strict";e.export/t:r(rn n!ctiontypeo){retargumtriburing");return o(e)}},8728:function(e,t,n){"use strict";var r=n(9829),o=n(8995),a=n(3709),i=n(9034);e.exports=function(e){var t=o(e);if(!i(t)||0===t)return 0;var n=a(t),s=r(n,4294967296);return 0===s?0:s}},6454:function(e,t,n){"use strict";var r=n(2839);e.exports=function(e){return"symbol"==typeof e?"Symbol":"bigint"==typeof e?)):o(Int"=e,t){);retd on "+e);return e}},2839:function(e){"use strict";e.exports=function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"S";e.e):(a(ect An+" monfig&e!==DataDe);ree["[ion(e){return e!=e}},6893:function(e){"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"objriptoturn t(r>=0?r:r+n)}},3216:function(e,t,n){"use strict";var r=n(2584),o=n(6373);if(n(6961)()||n(370)()){var a=Symboe[a].call(e):void 0}}else{var i=n(5677),s=n(3706),u=n(7572),l=u("%Map%",!0),c=u("%Set%",!0),p=n(1924),d=p("Array.prototype.push"),f=p("String.prototype.charCodeAt"),E=p("String,{terator_"]():void 0};if(l||c){var h=n(8379),g=n(9572),_=p("Map.prototype.forEach",!0),S=p("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var v=p("Map.prototype.iterator",!0),b=p("Set.prototype.iterator",!0);var T=p("Map.prototype.@@iterator",!0)||p("Map.prototype._es6-shim iterator_",!0),I=p("Set.prototype.@@iterator",!0)||p("Set.prototype._es6-shim iter)),y(n)}}}(e)||l!=e)reargums.");of e? e?"Stloaded=!0,a.eturnrablndow)retsteanProModule",{value:!0})},function(){"use strict";var e=n(9392);n.n(e)().shim();var t={RESET:"RESET",BATCH_ACTIONS:"BATCH_ACTIONS",REHYDRATE:"REHYDRATE",SET_DEVICE_ID:"SET_DEVICE_ID",SET_ANALYTICS_SESSION_ID:"SET_ANALYTICS_SESSION_ID",SET_ANON_USER_ID:"SET_ANON_USER_ID",SET_CLIENT_CONFIG:"SET_CLIENT_CONFIG",SET_ACTIVE_ISSUE_ID:"SET_ACTIVE_ISSUE_ID",SET_INTERNAL_ISSUE_ID:"SET_INTERNAL_ISSUE_ID",UPDATE_ACTIVE_VIEW:"UPDATE_ACTIVE_VIEW",UPDATE_REPLY_TEXT:"UPDATE_REPLY_TEXT",APPEND_MESSAGES:"APPEND_MESSAGES",PREPEND_MESSAGES:"PREPEND_MESSAGES",REMOVE_MESSAGE:"REMOVE_MESSAGE",TOGGLE_CONVERSATIONS_LOADER:"TOGGLE_CONVERSATIONS_LOADER",SET_ALL_MESSAGES_ARE_LOADED:"SET_ALL_MESSAGES_ARE_LOADED",ATTACHMENT_UPLOAD_FAILED:"ATTACHMENT_UPLOAD_FAILED",SET_ACTIVE_ISSUE_MSG_CURSOR:"SET_ACTIVE_ISSUE_MSG_CURSOR",SET_ACTIVE_FAQ:"SET_ACTIVE_FAQ",SET_CHAT_VIEW_FOOTER:"SET_CHAT_VIEW_FOOTER",DISABLE_REPLY_BOX:"DISABLE_REPLY_BOX",ENABLE_REPLY_BOX:"ENABLE_REPLY_BOX",TOGGLE_SYSTEM_TYPING:"TOGGLE_SYSTEM_TYPING",TOGGLE_AGENT_TYPING:"TOGGLE_AGENT_TYPING",TOGGLE_MINIMIZED:"TOGGLE_MINIMIZED",PAGE_VISIBILITY_CHANGE:"PAGE_VISIBILITY_CHANGE",UPDATE_POLLING_DATA:"UPDATE_POLLING_DATA",MARK_MESSAGES_SEEN_XHR_REQUEST:"MARK_MESSAGES_SEEN_XHR_REQUEST",MARK_MESSAGES_SEEN_XHR_SUCCESS:"MARK_MESSAGES_SEEN_XHR_SUCCESS",MARK_MESSAGES_SEEN_XHR_END:"MARK_MESSAGES_SEEN_XHR_END",UPDATE_ISSUE_STATE:"UDPATE_ISSUE_STATE",UPDATE_ISSUE_TYPE:"UPDATE_ISSUE_TYPE",UPDATE_CSAT_RATING:"UPDATE_CSAT_RATING",UPDATE_CSAT_REVIEW:"UPDATE_CSAT_REVIEW",RESET_CSAT:"RESET_CSAT",SET_INITIAL_USER_MESSAGE:"SET_INITIAL_USER_MESSAGE",INITIAL_USER_MESSAGE_API_TRIGGERED:"INITIAL_USER_MESSAGE_API_TRIGGERED",SET_CONVERSATION_ENDED:"SET_CONVERSATION_ENDED",SET_USER_VIEWING_PAST_MESSAGES:"SET_USER_VIEWING_PAST_MESSAGES",SET_USER_IS_REDACTED:"SET_USER_IS_REDACTED",SET_CIF:"SET_CIF",SET_METADATA:"SET_METADATA",SET_TAGS:"SET_TAGS",REPLACE_CIF:"REPLACE_CIF",SET_BUSINESS_HOURS_CONTACT_FORM_DETAILS:"SET_BUSINESS_HOURS_CONTACT_FORM_DETAILS",SET_LOADING_MORE_MSGS_FAILED:"SET_LOADING_MORE_MSGS_FAILED",BUSINESS_HOURS_FORM_SUBMIT_SUCCESS:"BUSINESS_HOURS_FORM_SUBMIT_SUCCESS",ENABLE_BUSINESS_HOURS_CONTACT_FORM:"ENABLE_BUSINESS_HOURS_CONTACT_FORM",DISABLE_BUSINESS_HOURS_CONTACT_FORM:"DISABLE_BUSINESS_HOURS_CONTACT_FORM",OOBH_FORM_SUBMIT_FAILURE:"OOBH_FORM_SUBMIT_FAILURE",SET_PARENT_PAGE_INFO:"SET_PARENT_PAGE_INFO",ADD_BUSINESS_HOURS_ATTACHMENTS:"ADD_BUSINESS_HOURS_ATTACHMENTS",REMOVE_BUSINESS_HOURS_ATTACHMENT:"REMOVE_BUSINESS_HOURS_ATTACHMENT",SET_BUSINESS_HOURS_ATTACHMENT_ERROR:"SET_BUSINESS_HOURS_ATTACHMENT_ERROR",BUSINESS_HOURS_FORM_SUBMIT_FAILURE:"BUSINESS_HOURS_FORM_SUBMIT_FAILURE",SET_GREETING_MESSAGE:"SET_GREETING_MESSAGE",SET_LANGUAGE:"SET_LANGUAGE",SET_SUGGESTED_FAQ_READ_TRACKED:"SET_SUGGESTED_FAQ_READ_TRACKED",UPDATE_READ_FAQ_LIST:"UPDATE_READ_FAQ_LIST",SET_FOOTER_ACTIVE:"SET_FOOTER_ACTIVE",SET_FOOTER_INACTIVE:"SET_FOOTER_INACTIVE",SET_RESOLUTION_QUESTION_COMPLETED:"SET_RESOLUTION_QUESTION_COMPLETED",SET_RESOLUTION_BUTTON_IS_DISABLED:"SET_RESOLUTION_BUTTON_IS_DISABLED",SET_CSAT_COMPLETED:"SET_CSAT_COMPLETED",SET_USER_SELECTED_OPTION:"SET_USER_SELECTED_OPTION",CHAT_FORM_FIELD_CHANGED:"CHAT_FORM_FIELD_CHANGED",CHAT_FORM_FIELD_BLURRED:"CHAT_FORM_FIELD_BLURRED",CHAT_FORM_SUBMIT_CLICKED:"CHAT_FORM_SUBMIT_CLICKED",UPDATE_USER_INPUT_DATA:"UPDATE_USER_INPUT_DATA",RESET_USER_INPUT_DATA:"RESET_USER_INPUT_DATA",SET_FULL_PRIVACY:"SET_FULL_PRIVACY",SET_APP_RESET_TRIGGER:"SET_APP_RESET_TRIGGER",TOGGLE_ONLINE_STATUS:"TOGGLE_ONLINE_STATUS",SET_POLLER_FAILURE_COUNT:"SET_POLLER_FAILURE_COUNT",TOGGLE_FAQ_LOADING:"TOGGLE_FAQ_LOADING",SET_FAQ_ERROR_MESSAGE:"SET_FAQ_ERROR_MESSAGE",SET_CSAT_SAVE_IN_PROGRESS:"SET_CSAT_SAVE_IN_PROGRESS",SET_CHAT_VIEW_ERROR:"SET_CHAT_VIEW_ERROR",SET_BOT_STEP_IN_PROGRESS:"SET_BOT_STEP_IN_PROGRESS",SAVE_BOT_STEP_MESSAGE:"SAVE_BOT_STEP_MESSAGE",SET_WIDGET_SHOULD_AUTO_OPEN:"SET_WIDGET_SHOULD_AUTO_OPEN",SET_RE_ENGAGEMENT_ID:"SET_RE_ENGAGEMENT_ID",SET_WINDOW_IS_FOCUSED:"SET_WINDOW_IS_FOCUSED",UPDATE_LIST_PICKER_NAVIGATION_STATE:"UPDATE_LIST_PICKER_NAVIGATION_STATE",UPDATE_INTENTS_NAVIGATION_STATE:"UPDATE_INTENTS_NAVIGATION_STATE",SET_LOCAL_GREETING_MESSAGE_ID:"SET_LOCAL_GREETING_MESSAGE_ID",SET_KEYBOARD_INTERACTION_IS_ACTIVE:"SET_KEYBOARD_INTERACTION_IS_ACTIVE",NEW_CONVERSATION_STARTED:"NEW_CONVERSATION_STARTED",INTENTS_TREE_REQUEST:"INTENTS_TREE_REQUEST",INTENTS_TREE_SUCCESS:"INTENTS_TREE_SUCCESS",INTENTS_TREE_FAILURE:"INTENTS_TREE_FAILURE",SMART_INTENT_SELECTION:"SMART_INTENT_SELECTION",SMART_INTENT_DESELECTION:"SMART_INTENT_DESELECTION",UPDATE_AVATAR_LAST_UPDATED_TS:"UPDATE_AVATAR_LAST_UPDATED_TS",GET_CONVERSATION_HISTORY_SUCCESS:"GET_CONVERSATION_HISTORY_SUCCESS",CLEAR_CHAT_VIEW_ERRORS:"CLEAR_CHAT_VIEW_ERRORS",POLLER_SUCCESS:"POLLER_SUCCESS",CREATE_PREISSUE_REQUEST:"CREATE_PREISSUE_REQUEST",CREATE_PREISSUE_SUCCESS:"CREATE_PREISSUE_SUCCESS",CREATE_PREISSUE_FAILURE:"CREATE_PREISSUE_FAILURE",USER_REPLY_REQUEST:"USER_REPLY_REQUEST",USER_REPLY_SUCCESS:"USER_REPLY_SUCCESS",USER_REPLY_FAILURE:"USER_REPLY_FAILURE",BOT_START:"BOT_START",BOT_END:"BOT_END",BOT_MESSAGE_WITH_NO_USER_INPUT:"BOT_MESSAGE_WITH_NO_USER_INPUT",BOT_MESSAGE_WITH_USER_INPUT:"BOT_MESSAGE_WITH_USER_INPUT",PARENT_PAGE_IS_VISIBLE:"PARENT_PAGE_IS_VISIBLE",SET_LITE_SDK_RELATED_CONFIG:"SET_LITE_SDK_RELATED_CONFIG",FETCH_CONFIG_SUCCESS:"FETCH_CONFIG_SUCCESS",FETCH_CONFIG_FAILURE:"FETCH_CONFIG_FAILURE",PUSH_TOKEN_SYNC_SUCCESS:"PUSH_TOKEN_SYNC_SUCCESS",XHR_ENDED_DUE_TO_NETWORK_DISCONNECT:"XHR_ENDED_DUE_TO_NETWORK_DISCONNECT",DEVICE_ONLINE_SUCCESS:"DEVICE_ONLINE_SUCCESS",POLLER_FAILURE:"POLLER_FAILURE",ATTACHMENT_UPLOAD_REQUEST:"ATTACHMENT_UPLOAD_REQUEST",ATTACHMENT_UPLOAD_END:"ATTACHMENT_UPLOAD_END",WS_CONFIG_SUCCESS:"WS_CONFIG_SUCCESS",TOGGLE_EMOJI_WIDGET_STATE:"TOGGLE_EMOJI_WIDGET_STATE",SELECT_EMOJI:"SELECT_EMOJI",ENQUEUE_POLLER_DEPENDENT_ANALYTIC_EVENTS:"ENQUEUE_POLLER_DEPENDENT_ANALYTIC_EVENTS",ANALYTIC_EVENTS_QUEUE_CLEARED:"ANALYTIC_EVENTS_QUEUE_CLEARED",STAR_RATING_UPDATE_WHEN_CONTEXT_IS_FEEDBACK_BOTS:"STAR_RATING_UPDATE_WHEN_CONTEXT_IS_FEEDBACK_BOTS",USER_INTERRUPT_FEEDBACK_BOT:"USER_INTERRUPT_FEEDBACK_BOT",CSAT_SUBMIT_SUCCESS_WHEN_FEEDBACK_BOTS:"CSAT_SUBMIT_SUCCESS_WHEN_FEEDBACK_BOTS",CHAT_END:"CHAT_END",SET_CONVERSATION_METADATA:"SET_CONVERSATION_METADATA",EMPTY_FAST_POLLING_LIMIT_REACHED:"EMPTY_FAST_POLLING_LIMIT_REACHED",FAST_POLLER_FAILURE_LIMIT_REACHED:"FAST_POLLER_FAILURE_LIMIT_REACHED",ALL_PREVIOUS_ISSUES_ARE_FULL_PRIVACY:"ALL_PREVIOUS_ISSUES_ARE_FULL_PRIVACY",FOUND_LATEST_BOT_ATTACHMENT_MESSAGE:"FOUND_LATEST_BOT_ATTACHMENT_MESSAGE",ATTACHMENT_UPLOAD_IN_PROGRESS:"ATTACHMENT_UPLOAD_IN_PROGRESS",RESOLUTION_QUESTION_ACCEPT_REQUEST:"RESOLUTION_QUESTION_ACCEPT_REQUEST",RESOLUTION_QUESTION_ACCEPT_SUCCESS:"RESOLUTION_QUESTION_ACCEPT_SUCCESS",RESOLUTION_QUESTION_ACCEPT_END:"RESOLUTION_QUESTION_ACCEPT_END",RESOLUTION_QUESTION_REJECT_REQUEST:"RESOLUTION_QUESTION_REJECT_REQUEST",RESOLUTION_QUESTION_REJECT_SUCCESS:"RESOLUTION_QUESTION_REJECT_SUCCESS",RESOLUTION_QUESTION_REJECT_END:"RESOLUTION_QUESTION_REJECT_END",UPLOAD_ATTACHMENT_FOR_SDKX_IOS_CLICKED:"UPLOAD_ATTACHMENT_FOR_SDKX_IOS_CLICKED",CONVERTED_BASE64_STRINGS_TO_JS_FILES:"CONVERTED_BASE64_STRINGS_TO_JS_FILES",NATIVE_FILES_ENTERED_NORMAL_ATTACHMENT_FLOW:"NATIVE_FILES_ENTERED_NORMAL_ATTACHMENT_FLOW",LOCAL_STORAGE_MIGRATION_SUCCESS:"LOCAL_STORAGE_MIGRATION_SUCCESS",LOG_CLIENT_DEBUG_MESSAGE:"LOG_CLIENT_DEBUG_MESSAGE",POLLER_STOP:"POLLER_STOP",POLLER_RESTART:"POLLER_RESTART",POLLER_START:"POLLER_START",AGENT_FOLLOW_UP_ACCEPT_SUCCESS:"AGENT_FOLLOW_UP_ACCEPT_SUCCESS",AGENT_FOLLOW_UP_REQUESTED:"AGENT_FOLLOW_UP_REQUESTED",AGENT_FOLLOW_UP_REJECT_SUCCESS:"AGENT_FOLLOW_UP_REJECT_SUCCESS",APP_REVIEW_REQUEST_CLICKED_SUCCESS:"APP_REVIEW_REQUEST_CLICKED_SUCCESS",CONVERSATION_UPDATE_SIGNAL_RECEIVED:"CONVERSATION_UPDATE_SIGNAL_RECEIVED",POLLER_REQUEST:"POLLER_REQUEST",WS_DISCONNECTED_MAYBE:"WS_DISCONNECTED_MAYBE",WS_OPENED:"WS_OPENED",WS_CLOSED:"WS_CLOSED",WS_ERROR:"WS_ERROR",SET_LEGACY_RESOLUTION_QUESTION_VISIBILITY:"SET_LEGACY_RESOLUTION_QUESTION_VISIBILITY",SET_LEGACY_CSAT_VISIBILITY:"SET_LEGACY_CSAT_VISIBILITY",ATTACHMENT_RECEIVED_FROM_NATIVE_LAYER:"ATTACHMENT_RECEIVED_FROM_NATIVE_LAYER",NATIVE_FILES_BATCH_PROCESSED:"NATIVE_FILES_BATCH_PROCESSED",LARGE_ATTACHMENTS_RECEIVED_FROM_IOS:"LARGE_ATTACHMENTS_RECEIVED_FROM_IOS"},r={resolution_accept:"resolutionQuestionAccept",resolution_reject:"resolutionQuestionReject",back:"faqViewHeader","appearance.widget_title":"chatViewHeader",faq_article:"faqArticle",faq_load_failed:"faqLoadFailed",resolution_question:"chatViewConversationResolutionQuestion",new_conversation:"chatViewStartNewConversation",issue_rejection_question:"chatViewIssueRejectionQuestion",greeting:"greetingMsg",end_conversation:"conversationEndNote",conversation_closed:"conversationClosed",close_conversation_btn:"closeConversationBtn",reply_btn_placeholder:"replyBtnPlaceholder","csat_bot.req_msg":"csatBotRequestMsg",csat_bot_response_msg:"csatBotResponseMsg",csat_bot_form_submit_btn:"csatBotFormSubmitBtn",csat_bot_review_placeholder:"csatBotReviewPlaceholder",csat_view_header:"csatViewHeader",loading_messages:"pastConversationsLoadingText",branding:"branding",atch_screenshot_msg:"attachScreenshotMsg",atch_upload_status:"attachmentUploadingStatus",atch_retry_error:"attachmentRetryError",atch_filesize_error:"attachmentFileSizeError",atch_file_type_error:"attachmentFileTypeError",atch_default_error:"attachmentDefaultError",file_name_character_length_exceeded_error:"filenameCharacterLengthExceedsErrorMessage",business_hours_name_label:"businessHoursNameLabel",business_hours_name_placeholder:"businessHoursNamePlaceholder",business_hours_email_label:"businessHoursEmailLabel",business_hours_email_placeholder:"businessHoursEmailPlaceholder",business_hours_msg_label:"businessHoursMessageLabel",business_hours_msg_placeholder:"businessHoursMessagePlaceholder",business_hours_submit_btn:"businessHoursSubmitBtn",business_hours_thanks_msg:"businessHoursThankYouMessage","business_hours.offline_title":"businessHoursViewHeader",business_hours_contact_form_msg:"businessHoursContactFormMessage","business_hours.offline_message":"businessHoursOfflineMessage",something_went_wrong_please_try_again_later:"somethingWentWrongPleaseTryAgainLater",dnd_info_text:"dndInfoText",business_hours_atch_size_msg:"businessHoursAttachmentsSizeExceedMsg",business_hours_atch_limit_msg:"businessHoursAttachmentsLimitExceedMsg",email_error:"emailValidationError",number_error:"numberValidationError",required_input_field_error:"requiredValidationError",bot_form_submit_label:"botFormSubmitLabel",retry_button:"retryBtn",network_error:"networkError",reload_page:"userRedactionMessage",message_deleted:"messageDeleted",conversation_deleted:"conversationRedactedMsg",conversations_deleted:"conversationsRedactedMsg",internet_error:"noInternetConnection",connecting_text:"connectingText",system_error:"unknownErrorReconnecting",search_placeholder:"searchPlaceholder",no_search_results:"noSearchResultsText",nbh_remove_attachment_vo:"ariaLabelsRemoveAttachment",nbh_attachment_vo:"ariaLabelAddedAttachmentPrefix",nbh_attach_files_vo:"ariaLabelAttachFiles",back_button_vo:"ariaLabelFaqViewHeader",loading_vo:"ariaLabelLoading",support_message_name_time_vo:"ariaLabelSupportMsgAgentName",support_message_time_vo:"ariaLabelSupportMsgMissingAgentName",user_message_time_vo:"ariaLabelUserMessage",user_attachment_uploading_vo:"ariaLabelAttachmentUploading",open_attachment_vo:"ariaLabelOpenFile",reply_send_button_vo:"ariaLabelSendMessage",jump_latest_message_vo:"ariaLabelJumpToLatestBtn",support_typing_vo:"ariaLabelTypingIndicator",clear_search_vo:"ariaLabelClearSearchInput",list_picker_search_list_vo:"ariaLabelSearchList",collapse_search_vo:"ariaLabelCloseSearch",open_chat_vo:"ariaLabelOpenChat",close_chat_vo:"ariaLabelCloseChat",launcher_badge_count_vo:"ariaLabelLauncherBtnBadge",si_prompt_title:"intentsTitle",si_typing_hint:"intentsReplyBoxPlaceholder","avatar.system_nickname":"systemNickname",single_message_notification:"singleMessageNotfication",multiple_messages_notification:"multipleMessageNotification",business_hours_received_msg:"businessHoursReceivedMsg",business_hours_leave_us_msg:"businessHoursLeaveUsMsg",hated_it:"csatOneStarRating",disliked_it:"csatTwoStarRating",its_ok:"csatThreeStarRating",liked_it:"csatFourStarRating",loved_it:"csatFiveStarRating",plan_limit_heading:"planLimitHeading",plan_limit_description:"planLimitDescription",photo_library:"photoLibrary",files:"files",cancel:"cancel",user_auth_failure_message_title:"userAuthFailureMessageTitle",user_auth_failure_message_subtitle:"userAuthFailureMessageSubtitle",app_error_message_title:"appErrorMessageTitle",app_error_message_subtitle:"appErrorMessageSubtitle",review_request_message:"userAppReviewMessage",app_review_button:"userAppReviewLinkText",show_conversation_id_placeholder:"showConversationIdPlaceholder",live_message_header:"liveMessageHeader",separator_or:"separatorOr",attachment_limit_reached:"attachmentLimitReached",preparing_images:"preparingImages",format:"format",support_image_attachment_time_vo:"ariaLabelSupportImageAttachment",user_image_attachment_time_vo:"ariaLabelUserImageAttachment",overall_ratings_selected_vo:"ariaLabelOverallRatings",select_one_star_rating_vo:"ariaLabelSelectOneStarRating",select_two_star_rating_vo:"ariaLabelSelectTwoStarRating",select_three_star_rating_vo:"ariaLabelSelectThreeStarRating",select_four_star_rating_vo:"ariaLabelSelectFourStarRating",select_five_star_rating_vo:"ariaLabelSelectFiveStarRating",one_star_rating_selected_vo:"ariaLabelOneStarRatingSelected",two_star_rating_selected_vo:"ariaLabelTwoStarRatingSelected",three_star_rating_selected_vo:"ariaLabelThreeStarRatingSelected",four_star_rating_selected_vo:"ariaLabelFourStarRatingSelected",five_star_rating_selected_vo:"ariaLabelFiveStarRatingSelected"},o=/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i,a=function(e){if(4!==e.length)return e;var t=e.slice(1,e.length);return"#".conction(e){return e+e})).join(""))},i=function(e){return o.test(e)},s=a,u=function(e){var t,n,r,o;return e.match(/^rgb/)?(t=(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/))[1],n=e[2],r=e[3]):(e=a(e),o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),t=(e={r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}).r,n=e.g,r=e.b),Math.sqrt(t*t*.299+n*n*.587+r*r*.114)>206},l=function(e,t){3===(e=e.slice(1)).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var n=parseInt(e,16),r=t<0?0:255,o=t<0?-1*t:t,a=n>>16,i=n>>8&255,s=255&n;return"#"+(16777216+65536*(Math.round((r-a)*o)+a)+256*(Math.round((r-i)*o)+i)+(Math.round((r-s)*o)+s)).toSt,npe.toString.call(e)},d=function(e,t,n){return((n=n||{}).only?n.only:Object.keys(t)).forEach((function(r){if(n.skip&&-1!==n.skip.indexOf(r))return null;t.hasOwnProperty(r)&perty(n)&&t(n,e[n])},E=p,y=d,m=function(e,t){var n,r=e;for(n=0;n<t.length;n++){if(!(r instanceof Object&&r.hasOwnProperty(t[n])))return null;r=r[t[n]]}return r},h=f,g=function(e){return"function"==typeof Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))},_={LIGHT_5:{opacity:.05,hexValue:"0d"},LIGHT_10:{opacity:.1,hexValue:"1a"},LIGHT_20:{opacity:.2,hexValue:"33"},LIGHT_50:{opacity:.5,hexValue:"80"},LIGHT_60:{opacity:.6,hexValue:"99"},LIGHT_70:{opacity:.7,hexValue:"b3"},LIGHT_85:{opacity:.85,hexValue:"d9"},LIGHT_75:{opacity:.75,hexValue:"bf"},DARK_20:{opacity:-.2}},S={PRIMARY_COLOR:"#453FB9",SECONDARY_COLOR:"#E94B4B",SECONDARY_TEXT_COLOR:"#FFFFFF",BACKGROUND_COLOR:"#F0F2F4",CONTENT_COLOR:"#111827",ALTERNATE_BACKGROUND_COLOR:"#E8ECEF",FOREGROUND_COLOR:"#FFFFFF",CSAT_ACCENT_COLOR:"#F2B230",HIGHLIGHT:"rgba(0, 103, 244, .4)",ACTION_COLOR:"#453FB9"};S.GRADIENT_PRIMARY_COLOR=S.PRIMARY_COLOR+_.LIGHT_75.hexValue,S.CONTENT_COLOR_OPACITY_5=S.CONTENT_COLOR+_.LIGHT_5.hexValue,S.CONTENT_COLOR_OPACITY_10=S.CONTENT_COLOR+_.LIGHT_10.hexValue,S.CONTENT_COLOR_OPACITY_20=S.CONTENT_COLOR+_.LIGHT_20.hexValue,S.CONTENT_COLOR_OPACITY_50=S.CONTENT_COLOR+_.LIGHT_50.hexValue,S.CONTENT_COLOR_OPACITY_70=S.CONTENT_COLOR+_.LIGHT_70.hexValue,S.CONTENT_COLOR_OPACITY_85=S.CONTENT_COLOR+_.LIGHT_85.hexValue,S.PRIMARY_COLOR_OPACITY_5=S.PRIMARY_COLOR+_.LIGHT_5.hexValue,S.PRIMARY_COLOR_OPACITY_10=S.PRIMARY_COLOR+_.LIGHT_10.hexValue,S.PRIMARY_COLOR_OPACITY_20=S.PRIMARY_COLOR+_.LIGHT_20.hexValue,S.PRIMARY_COLOR_OPACITY_50=S.PRIMARY_COLOR+_.LIGHT_50.hexValue,S.ACTION_COLOR_OPACITY_5=S.ACTION_COLOR+_.LIGHT_5.hexValue,S.ACTION_COLOR_OPACITY_10=S.ACTION_COLOR+_.LIGHT_10.hexValue,S.ACTION_COLOR_OPACITY_20=S.ACTION_COLOR+_.LIGHT_20.hexValue,S.ACTION_COLOR_OPACITY_50=S.ACTION_COLOR+_.LIGHT_50.hexValue,S.BACKGROUND_COLOR_OPACITY_85=S.BACKGROUND_COLOR+_.LIGHT_85.hexValue,S.PRIMARY_COLOR_DARK=l(S.PRIMARY_COLOR,_.DARK_20.opacity),S.PRIMARY_COLOR_LIGHT=l(S.PRIMARY_COLOR,_.LIGHT_20.opacity);var v=S.FOREGROUND_COLOR+_.LIGHT_70.hexValue;S.PRIMARY_TEXT_COLOR_OPACITY_70=c(S.PRIMARY_COLOR,v,S.CONTENT_COLOR_OPACITY_70),S.PRIMARY_TEXT_COLOR=c(S.PRIMARY_COLOR,S.FOREGROUND_COLOR,S.CONTENT_COLOR),S.ACTION_TEXT_COLOR=c(S.ACTION_COLOR,S.FOREGROUND_COLOR,S.CONTENT_COLOR);var b,T,I,A,C,O,R,w={DEFAULT_COLOR_CONFIG:{primaryColor:{key:"primaryColor",cssVarName:"--hs-primary-color",value:S.PRIMARY_COLOR},primaryTextColor:{key:"primaryTextColor",cssVarName:"--hs-primary-text-color",value:S.PRIMARY_TEXT_COLOR},primaryTextColorOpacity70:{key:"primaryTextColorOpacity70",cssVarName:"--hs-primary-text-color-opacity-70",value:S.PRIMARY_TEXT_COLOR_OPACITY_70},gradientPrimaryColor:{key:"gradientPrimaryColor",cssVarName:"--hs-gradient-primary-color",value:S.GRADIENT_PRIMARY_COLOR},secondaryColor:{key:"secondaryColor",cssVarName:"--hs-secondary-color",value:S.SECONDARY_COLOR},secondaryTextColor:{key:"secondaryTextColor",cssVarName:"--hs-secondary-text-color",value:S.SECONDARY_TEXT_COLOR},backgroundColor:{key:"backgroundColor",cssVarName:"--hs-background-color",value:S.BACKGROUND_COLOR},contentColor:{key:"contentColor",cssVarName:"--hs-content-color",value:S.CONTENT_COLOR},contentColorOpacity5:{key:"contentColorOpacity5",cssVarName:"--hs-content-color-opacity-5",value:S.CONTENT_COLOR_OPACITY_5},contentColorOpacity10:{key:"contentColorOpacity10",cssVarName:"--hs-content-color-opacity-10",value:S.CONTENT_COLOR_OPACITY_10},contentColorOpacity20:{key:"contentColorOpacity20",cssVarName:"--hs-content-color-opacity-20",value:S.CONTENT_COLOR_OPACITY_20},contentColorOpacity50:{key:"contentColorOpacity50",cssVarName:"--hs-content-color-opacity-50",value:S.CONTENT_COLOR_OPACITY_50},contentColorOpacity60:{key:"contentColorOpacity60",cssVarName:"--hs-content-color-opacity-60",value:S.CONTENT_COLOR_OPACITY_60},contentColorOpacity70:{key:"contentColorOpacity70",cssVarName:"--hs-content-color-opacity-70",value:S.CONTENT_COLOR_OPACITY_70},contentColorOpacity85:{key:"contentColorOpacity85",cssVarName:"--hs-content-color-opacity-85",value:S.CONTENT_COLOR_OPACITY_85},primaryColorOpacity5:{key:"primaryColorOpacity5",cssVarName:"--hs-primary-color-opacity-5",value:S.PRIMARY_COLOR_OPACITY_5},primaryColorOpacity10:{key:"primaryColorOpacity10",cssVarName:"--hs-primary-color-opacity-10",value:S.PRIMARY_COLOR_OPACITY_10},primaryColorOpacity20:{key:"primaryColorOpacity20",cssVarName:"--hs-primary-color-opacity-20",value:S.PRIMARY_COLOR_OPACITY_20},primaryColorOpacity50:{key:"primaryColorOpacity50",cssVarName:"--hs-primary-color-opacity-50",value:S.PRIMARY_COLOR_OPACITY_50},actionColor:{key:"actionColor",cssVarName:"--hs-action-color",value:S.ACTION_COLOR},actionColorOpacity5:{key:"actionColorOpacity5",cssVarName:"--hs-action-color-opacity-5",value:S.ACTION_COLOR_OPACITY_5},actionColorOpacity10:{key:"actionColorOpacity10",cssVarName:"--hs-action-color-opacity-10",value:S.ACTION_COLOR_OPACITY_10},actionColorOpacity20:{key:"actionColorOpacity20",cssVarName:"--hs-action-color-opacity-20",value:S.ACTION_COLOR_OPACITY_20},actionColorOpacity50:{key:"actionColorOpacity50",cssVarName:"--hs-action-color-opacity-50",value:S.ACTION_COLOR_OPACITY_50},actionColorDark:{key:"actionColorDark",cssVarName:"--hs-action-dark",value:S.ACTION_COLOR_DARK},actionColorLight:{key:"actionColorLight",cssVarName:"--hs-action-light",value:S.ACTION_COLOR_LIGHT},actionTextColor:{key:"actionTextColor",cssVarName:"--hs-action-text-color",value:S.ACTION_TEXT_COLOR},backgroundColorOpacity85:{key:"backgroundColorOpacity85",cssVarName:"--hs-background-color-opacity-85",value:S.BACKGROUND_COLOR_OPACITY_85},primaryColorDark:{key:"primaryColorDark",cssVarName:"--hs-primary-dark",value:S.PRIMARY_COLOR_DARK},primaryColorLight:{key:"primaryColorLight",cssVarName:"--hs-primary-light",value:S.PRIMARY_COLOR_LIGHT},alternateBgColor:{key:"alternateBgColor",cssVarName:"--hs-alternate-background-color",value:S.ALTERNATE_BACKGROUND_COLOR},foregroundColor:{key:"foregroundColor",cssVarName:"--hs-foreground-color",value:S.FOREGROUND_COLOR},csatAccentColor:{key:"csatAccentColor",cssVarName:"--hs-csat-accent-color",value:S.CSAT_ACCENT_COLOR},focusRingColor:{key:"focusRingColor",cssVarName:"--hs-focus-ring-color",value:S.HIGHLIGHT}},COLORS:S,SHADES:_},P=n(9766),N=n.n(P),F=i,L=w.SHADES,k=w.COLORS,M={text:{chatViewHeader:"Chat with us",faqArticle:"Article",faqLoadFailed:"Unable to load FAQ, please try reloading",chatViewConversationResolutionQuestion:"Did we answer all your questions?",chatViewStartNewConversation:"New Conversation",chatViewIssueRejectionQuestion:"What else can we help you with?",greetingMsg:"Hi, how can we help you?",resolutionQuestionAccept:"Yes",resolutionQuestionReject:"No",conversationClosed:"Conversation closed.",faqViewHeader:"Back",closeConversationBtn:"Close",replyBtnPlaceholder:"Write your message",csatBotRequestMsg:"Do you have a moment to rate your experience?",csatBotResponseMsg:"Thanks for your feedback!",csatBotFormSubmitBtn:"Submit Feedback",csatBotReviewPlaceholder:"Leave us additional feedback",csatViewHeader:"Chat with us",branding:"Powered by Helpshift",attachScreenshotMsg:"Attach Screenshot",attachmentUploadingStatus:"Uploading..",attachmentRetryError:"Upload failed. Click to retry",attachmentFileSizeError:"Attachment exceeds limit of 25MB",attachmentFileTypeError:"Error, file type not supported",attachmentDefaultError:"Error. Failed to upload attachment.",filenameCharacterLengthExceedsErrorMessage:"Please upload a file with a name less than {{length}} characters",businessHoursNameLabel:"Name",businessHoursEmailLabel:"Email",businessHoursMessageLabel:"Message",businessHoursNamePlaceholder:"Enter your name",businessHoursEmailPlaceholder:"john@example.com",businessHoursMessagePlaceholder:"Write your message",businessHoursSubmitBtn:"Submit",businessHoursThankYouMessage:"Thanks for reaching out. We will get back to you soon.",businessHoursViewHeader:"",businessHoursContactFormMessage:"",businessHoursOfflineMessage:"",somethingWentWrongPleaseTryAgainLater:"Something went wrong, please try again later",dndInfoText:"Add files or drag here",businessHoursAttachmentsSizeExceedMsg:"Total size of attachments exceed 25MB",businessHoursAttachmentsLimitExceedMsg:"Attachment exceeds maximum limit of 5",businessHoursReceivedMsg:"We have received your message",businessHoursLeaveUsMsg:"Leave us a message",requiredValidationError:"This is a required field",emailValidationError:"Enter a valid email address",numberValidationError:"Enter a valid number",dateValidationError:"Enter a valid date in DD/MM/YYYY format",botFormSubmitLabel:"Submit",retryBtn:"RETRY",noInternetConnection:"No internet connection",userRedactionMessage:"Something went wrong. Please refresh",unknownErrorReconnecting:"Something went wrong. Reconnecting...",networkError:"Network Error",connectingText:"Connecting...",conversationRedactedMsg:"Conversation Redacted",conversationsRedactedMsg:"Conversations Redacted",pastConversationsLoadingText:"Loading Messages...",messageDeleted:"Message Deleted",loadMoreMessagesFailedText:"Couldn't Load Messages.",clickToRetryText:"Click to Retry",unsupportedDateInputPlaceholder:"DD/MM/YYYY",userAuthFailureMessageTitle:"Authentication Failed",userAuthFailureMessageSubtitle:"Please try again later",appErrorMessageTitle:"Something went wrong",appErrorMessageSubtitle:"Please try reloading",searchPlaceholder:"Search",noSearchResultsText:"No results found",ariaLabelsRemoveAttachment:"Remove attachment",ariaLabelAddedAttachmentPrefix:"Attachment, {{file_name}}",ariaLabelAttachFiles:"Attach Files",ariaLabelFaqViewHeader:"Go back to conversation",ariaLabelLoading:"Loading...",ariaLabelSupportMsgAgentName:"Message from Support, {{message}}, Sent by {{agent_name}} at {{time_and_date}}",ariaLabelSupportMsgMissingAgentName:"Message from Support, {{message}}, Sent at {{time_and_date}}",ariaLabelUserMessage:"Your message, {{message}}, Sent at {{time_and_date}}",ariaLabelAttachmentUploading:"Your attachment, Uploading",ariaLabelOpenFile:"Open file, {{file_name}}",ariaLabelSendMessage:"Send message",ariaLabelJumpToLatestBtn:"Jump to latest message",ariaLabelTypingIndicator:"Support is typing",ariaLabelClearSearchInput:"Clear text",ariaLabelSearchList:"Search list",ariaLabelCloseSearch:"Close Search",ariaLabelOptionsList:"Options List",ariaLabelOpenChat:"Open Chat",ariaLabelCloseChat:"Close chat",ariaLabelLauncherBtnBadge:"{{num}} new messages from Support",ariaLabelEmojiMenu:"Emoji menu",intentsTitle:"Select your problem",intentsReplyBoxPlaceholder:"Or enter your message",systemNickname:"Support",singleMessageNotfication:"New message from Support",multipleMessageNotification:"{{d}} new messages from Support",csatOneStarRating:"Hated it",csatTwoStarRating:"Disliked it",csatThreeStarRating:"It was okay",csatFourStarRating:"Liked it",csatFiveStarRating:"Loved it",planLimitHeading:"Sorry!",planLimitDescription:"We are currently unavailable",giveFeedback:"Give feedback",photoLibrary:"Photo Library",files:"Files",cancel:"Cancel",userAppReviewMessage:"Would you like to review the app?",userAppReviewLinkText:"REVIEW",showConversationIdPlaceholder:"Conversation ID: {{issueId}}",separatorOr:"or",liveMessageHeader:"Live Agent",attachmentLimitReached:"You can upload a maximum of {{count}} files, each up to {{size}} MB in size, at a time.",preparingImages:"Preparing images...",format:"Format",ariaLabelSupportImageAttachment:"Image from support, sent at {{time}}",ariaLabelUserImageAttachment:"Image from you, sent at {{time}}",ariaLabelOverallRatings:"Overall ratings",ariaLabelSelectOneStarRating:"Select one star rating",ariaLabelSelectTwoStarRating:"Select two star rating",ariaLabelSelectThreeStarRating:"Select three star rating",ariaLabelSelectFourStarRating:"Select four star rating",ariaLabelSelectFiveStarRating:"Select five star rating",ariaLabelOneStarRatingSelected:"One star - {{star_label}} rating",ariaLabelTwoStarRatingSelected:"Two star - {{star_label}} rating",ariaLabelThreeStarRatingSelected:"Three star - {{star_label}} rating",ariaLabelFourStarRatingSelected:"Four star - {{star_label}} rating",ariaLabelFiveStarRatingSelected:"Five star - {{star_label}} rating"},colorConfig:w.DEFAULT_COLOR_CONFIG},D=function(e){var t=e.translations,n=r,o={greetingMsg:{$set:e.greeting},chatViewHeader:{$set:e.appearance.widget_title},csatViewHeader:{$set:e.appearance.widget_title},chatViewConversationResolutionQuestion:{$set:e.resolution_question}},a=e.business_hours_enabled,i=e.personalised_conversation_enabled;if(e.csat_bot&&(o.csatBotRequestMsg={$set:e.csat_bot.req_msg}),a){var s=e.business_hours;o.businessHoursViewHeader={$set:s.offline_title},o.businessHoursContactFormMessage={$set:null==e?void 0:e.translations["business_hours.cf_message"]},o.businessHoursOfflineMessage={$set:s.offline_message}}return i&&(o.systemNickname={$set:e.avatar.system_nickname}),h(t,(function(e,t){var r=n[e];o[r]={$set:t}})),o},U="CHAT",x="FAQ",H="BUSINESS_HOURS",j="PLAN_LIMIT",V="USER_AUTH_FAILURE",B="CONFIG_FAILURE",G="3.92.0",W={NA:"na",ACTIVE:"active",RESOLVED:"resolved",REJECTED:"rejected",CLOSED:"closed"},q=6048e5,$={RESET:"RESET"},z={INITIAL:"initial",ISSUE:"issue",PRE_ISSUE:"preissue"},Y={PRE_ISSUE:{RESOLVED:"resolved",REJECTED:"rejected",NEW:"new",NEW_FOR_AGENT:"new-for-agent",AGENT_REPLIED:"agent-replied",WAITING_FOR_AGENT:"waiting-for-agent",ISSUE_CREATED:"issue-created"},ISSUE:{RESOLVED:"resolved",REJECTED:"rejected",NEW:"new",NEW_FOR_AGENT:"new-for-agent",AGENT_REPLIED:"agent-replied",WAITING_FOR_AGENT:"waiting-for-agent",PENDING_REASSIGNMENT:"pending-reassignment"}},X={INITIAL:"INITIAL",UPDATE_HELPSHIFT_CONFIG_API:"UPDATE_HELPSHIFT_CONFIG_API",NEW_CONV_VIA_INITIAL_USER_MESSAGE_API:"NEW_CONV_VIA_INITIAL_USER_MESSAGE_API"},K=5,Q={IOS:"ios",ANDROID:"android"},J=["domain","language","userAuthToken","fullPrivacy"],Z={domain:"domain",language:"developerSetLanguage",userAuthToken:"userAuthToken",fullPrivacy:"fullPrivacyEnabled"},ee={PLAN_ONE:"1"},te={API:"api",PROACTIVE:"proactive",NOTIFICATION:"notification",WEB:"web"};b=Array.prototype.find?Array.prototype.find:function(e){var t,n;for(n=this.length,t=0;t<n;t++)if(e(this[t],t))return this[t]},C=Array.prototype.findIndex?Array.prototype.findIndex:function(e){var t,n;for(n=this.length,t=0;t<n;t++)if(e(this[t],t))return t;return-1},I=Array.prototype.includes?Ar this.indexOf(e,t)>-1},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;re){retun e.indexOf(t)===n}))},re=T=function(e,t,n){return n?b.call(e,t.bind(n)):b.call(e,t)},oe=O=function(e,t,n){return n?C.call(e,t.bind(n)):C.call(e,t)},ae=R,ie=ne,se=A,ue={SIZE_EXCEEDED:1,RETRY:2,FAILURE:3,ABORTED:4,INVALID_TYPE:5},le={PLAN_LIMIT_REACHED:403,PRE_ISSUE_EXISTS:204,UNSUPPORTED_MEDIA_TYPE:415,GATEWAY_TIMEOUT:504,FILENAME_CHARACTER_LENGTH_EXCEEDS:400},ce={NO_AUTH_TOKEN:"NO_AUTH_TOKEN",INVALID_AUTH_TOKEN:"INVALID_AUTH_TOKEN",PRE_ISSUE_FAILURE:"PRE_ISSUE_FAILURE",PRE_ISSUE_TIME_OUT:"PRE_ISSUE_TIME_OUT",USER_IS_REDACTED:"USER_IS_REDACTED"},pe={ISSUES_HARD_LIMIT_REACHED:"issues_hard_limit_reached"},de={AUTH_NOT_REQUIRED:"0",AUTH_SUCCESS:"1",MISSING_USER_AUTH_TOKEN:"2",INVALID_USER_AUTH_TOKEN:"3",ANONYMOUS_USER:"4"},fe={2:"missing user auth token",3:"invalid user auth token"},Ee={MAX_ATTACHMENT_COUNT_EXCEEDED:"maxAttachmentCountExceeded"},ye={MAX_ATTACHMENT_COUNT_EXCEEDED:"MAX_ATTACHMENT_COUNT_EXCEEDED"},me={CIF:"cifs",TAGS:"tags",INITIAL_USER_MESSAGE:"initialUserMessage"},he={customIssueFields:"cif",tags:"tags",initialUserMessage:"initialUserMessage"},ge=function(e){var t={};if(!E(e))return t;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];E(r)&&"string"==typeof r.type&&r.type&&void 0!==r.value&&(t[n]={type:r.type,value:r.value})}return t},_e=function(e){var t={cif:{$set:ge(e.configForSubsequentProactiveIssues[me.CIF])},tags:{$set:e.configForSubsequentProactiveIssues[he[me.TAGS]]||[]},configForSubsequentProactiveIssuesIsApplied:{$set:!0}};return e.sdkConfigOptions.developerSetInitialUserMessage&&(t.sdkConfigOptions={initialUserMessage:{$set:""},developerSetInitialUserMessage:{$set:e.configForSubsequentProactiveIssues[me.INITIAL_USER_MESSAGE]?e.configForSubsequentProactiveIssues[me.INITIAL_USER_MESSAGE].trim():""}}),t},Se={ACTIVE_FOOTER:{REPLY:"REPLY",FAQ_SUGGESTIONS_FEEDBACK:"FAQ_SUGGESTIONS_FEEDBACK",CSAT:"CSAT",START_NEW_CONVERSATION:"START_NEW_CONVERSATION",SOLUTION_REJECTED:"SOLUTION_REJECTED",FEEDBACK_BOT_CSAT:"FEEDBACK_BOT_CSAT",NONE:"NONE"},AGRESSIVE_POLLING_TIMEOUT:3e3,MESSAGES_FORCE_POLLING_TIMEOUT:6500,USER_INPUT_TYPES:{DEFAULT_INPUT:"DEFAULT_INPUT",PLAIN_TEXT:"PLAIN_TEXT",EMAIL:"EMAIL",NUMERIC:"NUMERIC",DATE:"DATE",PILL_SELECT:"PILL_SELECT",LIST_PICKER:"LIST_PICKER",CSAT:"CSAT",BOT_ATTACHMENT:"BOT_ATTACHMENT",BOT_FORM:"BOT_FORM"},HTML_INPUT_TYPES:{EMAIL:"email",NUMERIC:"number",DATE:"date",PLAIN_TEXT:"text"},CURSOR_TYPES:{FORWARD:"forward",BACKWARD:"backward"},MAX_POLLER_FAILURES_ALLOWED:2,USER_REDACTION_ERR_MSG:"User Not Found",USER_REDACTION_ERR_STATUS_CODE:404,ISSUE_REOPEN_ERR_STATUS_CODE:410,PICKER_INPUT_THRESHOLD:5,OPTIONS_INPUT_TYPES:{PILLS:"option_pills",LIST_PICKER:"list_picker"},PICKER_MIN_HEIGHT:112,POLLING_STRATEGY_TYPES:{AGGRESSIVE:"aggressive",CONSERVATIVE:"conservative",V_AGGRESSIVE:"v_aggressive"},CONSERVATIVE_POLLING_BASE_MULTIPLIER:5e3,CONSERVATIVE_POLLING_INTERVAL:{MINIMUM:0,MAXIMUM:6e4},V_AGGRESSIVE_POLLING_INTERVALS:[400,800,1200,1600,2e3,2400,3e3],FAST_POLLING_MAX_FAILURES:3,FORM_FIELD_TYPES:{TEXT:"text",EMAIL:"email",TEXTAREA:"textarea",NUMBER:"number"},AGENT_FOLLOW_UP_STATES:{PENDING:"pending",SUCCESS:"success",FAILED:"failed"},FILE_NAME_CHARACTER_LENGTH_LIMIT:70,CHARS_TO_PICK_FROM_START_AND_END_OF_FILENAME:33,MAXIMUM_CHARS_ALLOWED_FOR_CONVERSATION_PREFILL_TEXT:1e3};function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been c.value}},Ie(e,t,n||e)}function Ae(e){return Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ae(e)}function Ce(e,t){return Ce=Object.setPrototypeOf||function(e,t){return e.class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defiotype,t),n&&Re(e,n),e}var Pe=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Oe(this,e),E(n)&&Object.keys(n).forEach((function(r){if(E(n[r]))if(n[r]instanceof e)t.set({key:r,to:n[r]});else{var o=n[r],a=o.to,i=o.when,s=o.fallback;if(!("to"in n[r]))throw new Error("Nested objects must contain a `to` key or be wrapped within a Builder instance");"when"in n[r]?t.set({key:r,to:a,when:i,fallback:s}):t.set({key:r,to:a,fallback:s})}else t.set({key:r,to:n[r]})})),this}return we(e,[{key:"set",value:function(e){var t=e.key,n=e.to,r=e.when,o=e.fallback;return!("when"in e)||r?this._setNestedKey(this,t,n):void 0!==o&&this._setNestedKey(this,t,o),this}},{key:"_setNestedKey",value:function(e,t,n){return"string"==typeof t?this._setNestedKey(e,t.split("."),n):1===t.length?e[t[0]]=n:0===t.length?e:(void 0===e[t[0]]&&(e[t[0]]={}),this._setNestedKey(e[t[0]],t.slice(1),n))}}]),e}(),Ne=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Oe(this,t),Te(this,Ae(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,e),we(t,[{key:"set",value:function(e){if(e.to instanceof Pe)Ie(Ae(t.prototype),"set",this).call(this,e);else{var n="to"in arguments[0];e.to=this._wrapValue(e.to,"$set",n),e.fallback=this._wrapFallback(e.fallback,"$set"),Ie(Ae(t.prototype),"set",this).call(this,e)}return this}},{key:"merge",value:function(e){var n=e.key,r=e.to,o=e.when,a=e.fallback,i="to"in arguments[0];return void 0!==o?Ie(Ae(t.prototype),"set",this).call(this,{key:n,to:this._wrapValue(r,"$merge",i),when:o,fallback:this._wrapFallback(a,"$merge")}):Ie(Ae(t.prototype),"set",this).call(this,{key:n,to:this._wrapValue(r,"$merge",i),fallback:this._wrapFallback(a,"$merge")}),this}},{key:"splice",value:function(e){var n=e.key,r=e.to,o=e.when,a=e.fallback,i="to"in arguments[0];return void 0!==o?Ie(Ae(t.prototype),"set",this).call(this,{key:n,to:this._wrapValue(r,"$splice",i),when:o,fallback:this._wrapFallback(a,"$splice")}):Ie(Ae(t.prototype),"set",this).call(this,{key:n,to:this._wrapValue(r,"$splice",i),fallback:this._wrapFallback(a,"$splice")}),this}},{key:"_wrapValue",value:function(e,t,n){return n?be({},t,e):e}},{key:"_wrapFallback",value:function(e,t){return void 0!==e?be({},t,e):e}}]),t}(Pe),F[o])return!1}return!0},Me=function(e){return e.split("-")[0].split(".").map((function(e){return Number(e)}))},De=function(e){return function(t,n){var r,o,a=n().appState.liteSdkConfig,i=null==a?void 0:a.os;if(!i)return!1;var s=e[i],u=s.support,l=s.version;switch(u){case">=":return ke(null==a||null===(r=a.metaData)||void 0===r?void 0:r.liteSdkVersion,l);case"<":return!ke(null==a||null===(o=a.metaData)||void 0===o?void 0:o.liteSdkVersion,l);default:return!1}}};function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ve=W,Be=z,Ge=X,We=ee,qe=te,$e=Q,ze=le,Ye=pe,Xe=de,Ke=Xe.MISSING_USER_AUTH_TOKEN,Qe=Xe.INVALID_USER_AUTH_TOKEN,Je=Se.ACTIVE_FOOTER,Ze={wcEnabled:!1,minimized:!0,activeView:U,platformId:"",domain:"",developerSetLanguage:"",deviceId:"",anonUserIdentifier:"",userId:"",userName:"",userEmail:"",userAuthToken:"",phoneNumber:"",issueExists:!1,issueType:Be.INITIAL,issueState:Ve.NA,activeIssueId:"",internalIssueId:"",appResetTrigger:Ge.INITIAL,featuresEnabled:{greeting:!0,csatBot:!1,agentNickname:!1,resolutionQuestion:!0,conversationHistory:!0,userAttachments:!0,branding:!0,intents:!1,personalisedConversationIsEnabled:!1,audioNotifications:!1,authorPresenceDetectionIsEnabled:!1,feedbackBot:!1,showConversationId:!1},intentsTreeSla:0,browserIsMobile:!1,fastPollingIsEnabled:!1,tags:[],cif:{},metadata:{},parentPageInfo:{},sdkConfigOptions:{fullScreen:!1,showLauncher:!0,initialUserMessage:"",developerSetInitialUserMessage:""},conversationStarted:!1,analytics:{sessionId:"",suggestedFaqReadTracked:!1},footerIsActive:!1,postChatFeatures:{resolutionQuestionCompleted:!1,csatCompleted:!1},fullPrivacyEnabled:!1,online:!0,widgetShouldAutoOpen:!1,reEngagementId:"",windowIsFocused:!1,keyboardInteractionIsActive:!1,avatar:{showMessageFeedAvatar:!1,agentAvatarIsPersonalised:!0,botAvatarIsPersonalised:!0,agentDefaultAvatarUrl:"",botDefaultAvatarUrl:"",avatarUrlTemplate:""},showHeaderAvatar:!1,appAvatarUrl:"",expiryTimestamps:{resolutionQuestion:0,csatBot:0},parentPageIsVisible:!0,liteSdkConfig:{},pfiValue:0,maxDebugLogs:0,maxBreadcrumbs:0,lastConfigFetchTs:0,respectPfi:!0,isPushTokenSynced:!1,issueExistsDataIsStaleInLocalStorage:!1,wsConfig:{},hsSessionId:"",issueCreatedAnalyticEventToBeFiredAfterPreIssueSuccess:!1,releaseTag:"",useNativePickerForIosAttachments:!1,internalHsConfigData:{},source:"web",configForSubsequentProactiveIssues:{},configForSubsequentProactiveIssuesIsApplied:!1,loggingIsEnabled:void 0,outboundSupportMeta:{},appReviewUrl:"",attachmentsWhitelist:[],initiateChatOnLoad:!1,localStorageMigrationStatus:"",liveMessagingMode:Le,rolloutFlags:{fetchOnSignal:!1},subsequentIssuesInSameSessionConfig:{}},et=function(e,t){var n={};return e&&(n.resolutionQuestion={$set:e}),t&&(n.csatBot={$set:t}),n},tt={TEXT:"Text",REQUEST_SCREENSHOT:"Request Screen shot",SCREENSHOT_SENT:"Screenshot",FAQ:"Faq",CSAT:"Csat",END_CHAT:"EndChat",ATTACHMENT:"Attachment",ACCEPTED:"Confirmation Accepted",REJECTED:"Confirmation Rejected",CHAT_SEPARATOR:"ChatSeparator",CONVERSATION_REDACTED:"Conversation Redacted",AGENT_FOLLOW_UP_REQUESTED:"Follow up request",AGENT_FOLLOW_UP_ACCEPTED:"Follow up accepted",AGENT_FOLLOW_UP_REJECTED:"Follow up rejected",APP_REVIEW_REQUEST:"Request App store review request",APP_REVIEW_RESPONSE:"App store review",TEXT_MSG_WITH_TEXT_INPUT:"Text Message with Text Input",TEXT_MSG_WITH_EMAIL_INPUT:"Text Message with Email Input",TEXT_MSG_WITH_NUMERIC_INPUT:"Text Message with Numeric Input",TEXT_MSG_WITH_DATE_TIME_INPUT:"Text Message with Datetime Input",TEXT_MSG_WITH_OPTION_INPUT:"Text Message with Option Input",TEXT_MSG_WITH_FORM_INPUT:"Text Message with Form Input",TEXT_MSG_WITH_ACTIONS:"Text Message with Actions",TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT:"Text Resolution Message with Option Input",TEXT_CSAT_MSG_WITH_OPTION_INPUT:"Text CSAT Message with Option Input",TEXT_MESSAGE_WITH_FILE_INPUT:"Text Message with File Input",FAQ_LIST_WITH_OPTION_INPUT:"FAQ List with Options Input",EMPTY_MSG_WITH_TEXT_INPUT:"Empty Message with Text Input",INTENTS_WITH_OPTION_INPUT:"Intents with Option Input",RESP_TEXT_MSG_WITH_TEXT_INPUT:"Text Input Response",RESP_TEXT_MSG_WITH_EMAIL_INPUT:"Email Input Response",RESP_TEXT_MSG_WITH_NUMERIC_INPUT:"Numeric Input Response",RESP_TEXT_MSG_WITH_DATE_TIME_INPUT:"Datetime Input Response",RESP_TEXT_MSG_WITH_OPTION_INPUT:"Option Input Response",RESP_TEXT_MSG_WITH_FORM_INPUT:"Form Input Response",RESP_TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT:"Resolution Message Option Input Response",RESP_TEXT_CSAT_MSG_WITH_OPTION_INPUT:"CSAT Message Option Input Response",RESP_TEXT_MSG_WITH_FILE_INPUT:"File Input Response",RESP_FAQ_LIST_WITH_OPTION_INPUT:"FAQ Options Response",RESP_EMPTY_MSG_WITH_TEXT_INPUT:"Empty Response",RESP_INTENTS_WITH_OPTION_INPUT:"Intents Option Input Response",BOT_STARTED:"Bot Started",BOT_ENDED:"Bot Ended",BOT_CANCELLED:"Bot Cancelled",SIS:"Smart Intent",LIVE_MESSAGING_SYSTEM_MESSAGE:"Live Messaging System Message"},nt={TYPE:tt,ORIGIN:{ADMIN:"admin"},ROLE:{CHAT_BOTS:"chatbot"},STATE:{READ:"read"},BODY:{SOLUTION_ACCEPTED:"Accepted the solution",SOLUTION_REJECTED:"Did not accept the solution",UNSUPPORTED_INPUT:"Unsupported bot input",INTERRUPTED_BY_USER:"chatbot interrupted by user",AGENT_FOLLOW_UP_ACCEPTED:"Accepted the follow up",AGENT_FOLLOW_UP_REJECTED:"Rejected the follow up",ACCEPT_REVIEW_REQUEST:"Accepted review request",FEEDBACKBOT_INTERRUPTED_BY_NEW_CONVERSATION:"Feedback bot interrupted by new conversation"},RENDERABLE_MESSAGE_TYPES:[tt.TEXT,tt.REQUEST_SCREENSHOT,tt.SCREENSHOT_SENT,tt.END_CHAT,tt.ATTACHMENT,tt.CHAT_SEPARATOR,tt.CONVERSATION_REDACTED,tt.TEXT_MSG_WITH_TEXT_INPUT,tt.TEXT_MSG_WITH_EMAIL_INPUT,tt.TEXT_MSG_WITH_NUMERIC_INPUT,tt.TEXT_MSG_WITH_DATE_TIME_INPUT,tt.TEXT_MSG_WITH_OPTION_INPUT,tt.TEXT_MSG_WITH_FORM_INPUT,tt.INTENTS_WITH_OPTION_INPUT,tt.TEXT_MSG_WITH_ACTIONS,tt.TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT,tt.FAQ_LIST_WITH_OPTION_INPUT,tt.AGENT_FOLLOW_UP_REQUESTED,tt.RESP_TEXT_MSG_WITH_TEXT_INPUT,tt.RESP_TEXT_MSG_WITH_EMAIL_INPUT,tt.RESP_TEXT_MSG_WITH_NUMERIC_INPUT,tt.RESP_TEXT_MSG_WITH_DATE_TIME_INPUT,tt.RESP_TEXT_MSG_WITH_OPTION_INPUT,tt.RESP_TEXT_MSG_WITH_FORM_INPUT,tt.RESP_TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT,tt.RESP_FAQ_LIST_WITH_OPTION_INPUT,tt.RESP_EMPTY_MSG_WITH_TEXT_INPUT,tt.RESP_TEXT_CSAT_MSG_WITH_OPTION_INPUT,tt.SIS,tt.TEXT_MESSAGE_WITH_FILE_INPUT,tt.RESP_TEXT_MSG_WITH_FILE_INPUT,tt.RESP_INTENTS_WITH_OPTION_INPUT,tt.APP_REVIEW_REQUEST,tt.LIVE_MESSAGING_SYSTEM_MESSAGE,tt.TEXT_CSAT_MSG_WITH_OPTION_INPUT],TEXT_INPUT_MESSAGE_TYPES:[tt.RESP_EMPTY_MSG_WITH_TEXT_INPUT,tt.RESP_TEXT_MSG_WITH_TEXT_INPUT,tt.RESP_TEXT_MSG_WITH_EMAIL_INPUT,tt.RESP_TEXT_MSG_WITH_NUMERIC_INPUT,tt.RESP_TEXT_MSG_WITH_DATE_TIME_INPUT,tt.RESP_TEXT_MSG_WITH_OPTION_INPUT,tt.RESP_TEXT_MSG_WITH_FORM_INPUT,tt.RESP_FAQ_LIST_WITH_OPTION_INPUT,tt.RESP_INTENTS_WITH_OPTION_INPUT,tt.TEXT],MESSAGE_ADD_EVENT_TYPES:{TEXT:"text",ATTACHMENT:"attachment"},BOT_STEP_MESSAGES:[tt.TEXT_MSG_WITH_TEXT_INPUT,tt.TEXT_MSG_WITH_EMAIL_INPUT,tt.TEXT_MSG_WITH_NUMERIC_INPUT,tt.TEXT_MSG_WITH_DATE_TIME_INPUT,tt.TEXT_MSG_WITH_OPTION_INPUT,tt.TEXT_MSG_WITH_FORM_INPUT,tt.TEXT_MSG_WITH_ACTIONS,tt.TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT,tt.TEXT_CSAT_MSG_WITH_OPTION_INPUT,tt.FAQ_LIST_WITH_OPTION_INPUT,tt.EMPTY_MSG_WITH_TEXT_INPUT,tt.RESP_TEXT_MSG_WITH_TEXT_INPUT,tt.RESP_TEXT_MSG_WITH_EMAIL_INPUT,tt.RESP_TEXT_MSG_WITH_NUMERIC_INPUT,tt.RESP_TEXT_MSG_WITH_DATE_TIME_INPUT,tt.RESP_TEXT_MSG_WITH_OPTION_INPUT,tt.RESP_TEXT_MSG_WITH_FORM_INPUT,tt.RESP_FAQ_LIST_WITH_OPTION_INPUT,tt.RESP_EMPTY_MSG_WITH_TEXT_INPUT,tt.RESP_TEXT_CSAT_MSG_WITH_OPTION_INPUT,tt.TEXT_MESSAGE_WITH_FILE_INPUT,tt.RESP_TEXT_MSG_WITH_FILE_INPUT,tt.INTENTS_WITH_OPTION_INPUT,tt.RESP_INTENTS_WITH_OPTION_INPUT],BOT_CANCEL_REASON:{UNSUPPORTED_INPUT:"unsupported_bot_input",INTERRUPTED_BY_USER:"chatbot_interrupted_by_user"},FAQ_SUGGESTION_SOURCES:{ANSWER_BOT:"ab-ai",CUSTOM_BOT:"cb-ai",HELP_BOT:"cb-hb"},MESSAGE_ROLES:{SYSTEM_MSG:"s",AGENT_MSG:"a",BOT_MSG:"b"},ACTION_TYPES:{LINK:"link",CALL:"call"},BOT_STEP_USER_INPUT_MESSAGE_TYPES:[tt.TEXT_MSG_WITH_EMAIL_INPUT,tt.TEXT_MSG_WITH_NUMERIC_INPUT,tt.TEXT_MSG_WITH_TEXT_INPUT,tt.TEXT_MSG_WITH_DATE_TIME_INPUT,tt.TEXT_MSG_WITH_OPTION_INPUT,tt.TEXT_MSG_WITH_FORM_INPUT,tt.TEXT_MSG_WITH_ACTIONS,tt.TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT,tt.TEXT_CSAT_MSG_WITH_OPTION_INPUT,tt.FAQ_LIST_WITH_OPTION_INPUT,tt.TEXT_MESSAGE_WITH_FILE_INPUT,tt.INTENTS_WITH_OPTION_INPUT],MESSAGES_THAT_CAN_BYPASS_BOT_STEPS:[tt.APP_REVIEW_RESPONSE],DEVELOPER_FACING_MESSAGE_TYPES:{TEXT:"text",SCREENSHOT_REQUEST:"screenshot_request",APP_REVIEW_REQUEST:"app_review_request"}},rt=/Macintosh/i.test(navigator.userAgent),ot=rt&&"ontouchend"in document,at=function(){return/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop|XBLWP7/i.test(navigator.userAgent)||ot},it=function(){return(rt||/iPad|iPhone|iPod/.test(navigator.userAgent)||ot)&&!window.MSStream},st=function(){var e=window.navigator;return e.languages&&e.languages[0]||e.langua(navigator.userAgent)},lt=function(){try{return navigator.userAgent.match(/OS [\d_]+/i)[0].substr(3).split("_").map((function(e){return parseInt(e,10)}))[0]}catch(e){return 13}},ct=nt.BOT_STEP_USER_INPUT_MESSAGE_TYPES,pt=nt.TYPE,dt=Se.CONSERVATIVE_POLLING_INTERVAL,ft=Se.V_AGGRESSIVE_POLLING_INTERVALS,Et=Se.AGRESSIVE_POLLING_TIMEOUT,yt=Se.POLLING_STRATEGY_TYPES,mt=function(e){if(!e||!e.length)return!1;var t=e[e.length-1];return c=function(e){return!e},gt=function(e){var t=-1,n=-1,r=e.length-1;if(mt(e))return!1;for(;r>=0&&-1===t&&-1===n;){var o=e[r];o.type===pt.BOT_ENDED?t=r:o.type===pt.BOT_STARTED&&(n=r),r--}return!(t>-1)&&n>-1},_t=mt,St=function(e){switch(e){case yt.AGGRESSIVE:return Et;case yt.CONSERVATIVE:return dt.MINIMUM;case yt.V_AGGRESSIVE:return ft[0]}},vt=Se.MAXIMUM_CHARS_ALLOWED_FOR_CONVERtFo e&&t|8).toString(16)}))}var Ct,Ot,Rt,wt,Pt,Nt,Ft,Lt,kt,Mt,Dt={NAME:"name",EMAIL:"email",MESSAGE:"message"},Ut={CONTACT_FORM:"contact_form",OFFLINE_MESSAGE:"offline_message",HIDE_WIDGET:"hide_widget"},xt=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9.\-]+|(?:www.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9.\-]+)((?:\/[\+~%\/.\w\-_]*)?\??(?:[\-\+=&;%@.\w_]*)#?(?:[.\!\/\\w]*))?)/,Ht=/^.+:\/\/.+$/,jt=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Vt=/(?=^.{4,253}$)(^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9]\.)+[a-zA-Z]{2,63}$)/,Bt=function(e,t){reton(e){return!Wt[t](e)}))},Gt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/,|;|\n/,r=e.trim(),o=r.split(n);if(r){var a=[];return o.forEach((function(e){(e=e.trim())&&a.push(e)})),Bt(a,t)}==typeof e?e.tn e&&Gt(e,"required")},url:function(e){return!e.trim()||xt.test(e)},https:function(e){return!e.trim()||0===e.indexOf("https")},mobileDeeplink:function(e){return!e.trim()||Ht.test(e)},isSane:function(e){var t=e.trim().match(/[\u0080-\uFFFFa-zA-Z0-9]/g);return t&&t.length>=1},email:function(e){return!e.trim()||jt.test(e)},multiEmail:function(e){return Gt(e,"email")},number:function(e){return!e.trim()||/^\d+$/.test(e)},numeric:function(e){return!e.trim()||!isNaN(e-parseFloat(e))},multiNumber:function(e){return Gt(e,"number")},multiNumeric:function(e){return Gt(e,"numeric")},color:function(e){return!e.trim()||/^#[0-9a-f]{3}([0-9a-f]{3})?$ Wt.required(e.valurn Bt(e,"ddRequired")},multiTokenNumber:function(e){var t=e.map((function(e){return e.value}));return Bt(t,"number")},multiTokenNumeric:function(e){var t=e.map((function(e){return e.value}));return Bt(t,"numeric")},domain:function(e){return!e.trim()||Vt.test(e)},e164FormattedPhoneNumber:function(e){if(!e.trim())return!0;var t=e.replace(/ /g,"");return/^[1-9]\d{1,14}$/.test(t)}},qt=Wt,$t=z,zt=/^\d*(?:\.\d+)?$/,Yt=Ut,Xt=((Ot=document.createElement("input")).setAttribute("type","date"),"date"===Ot.type),Kt=function(){return function(e,t){var n=t().businessHoursViewState;return n.businessHoursEnabled&&!n.inBusinessHours}},Qt=function(e){var t=/^\d{1,2}\/\d{1,2}\/\d{4}$/;return Zt()&&(t=/^\d{4}-\d{1,2}-\d{1,2}$/),t.test(e)},Jt=function(e){var t="",n="",r="",o="";return Zt()?(t=e.split("-"),n=parseInt(t[2],10),r=parseInt(t[1],10),o=parseInt(t[0],10)):(t=e.split("/"),n=parseInt(t[0],10),r=parseInt(t[1],10),o=parseInt(t[2],10)),{day:n,month:r,year:o}},Zt=function(){return Xt},en={isOutOfBusinessHours:Kt,isWidgetHiddenOutOfBusinessHours:function(){return function(e,t){var n=t().businessHoursViewState.offlineBehaviour;return e((function(e,t){var n=t().businessHoursViewState;return n.businessHoursEnabled&&!n.inBusinessHours}))&&n===Yt.HIDE_WIDGET}},getAnonUserId:function(){return"hsft_anon_"+Date.now()+"-"+At().replace(/-/g,"").substring(0,15)},isEmailValid:function(e){return qt.email(e)},isDateValid:function(e){if(!Qt(e))return!1;var t=Jt(e),n=t.day,r=t.month,o=t.year;if(o<1e3||o>3e3||0===r||r>12)return!1;var a=[31,28,31,30,31,30,31,31,30,31,30,31];return(o%400==0||o%100!=0&&o%4==0)&&(a[1]=29),n>0&&n<=a[r-1]},isUserIdValid:function(e){return!!(e&&e.length<=750&&e===e.trim())},isIssueCreated:function(e){var t=e.activeIssueId,n=e.issueType;return!!t&&n!==$t.PRE_ISSUE},isDateInputSupported:Zt,getDateObjectFromString:function(e){if(!Qt(e))return null;var t=Jt(e),n=t.day,r=t.month,o=t.year;return new Date(o,r-1,n)},isNumberValid:function(e){return zt.test(e)},areMessagesSeen:function(){return function(e,t){var n=t(),r=n.appState,o=r.minimized,a=r.activeView,i=n.chatView,s=i.userIsViewingPastMessages;return!!i.unreadMessageIds.length&&!o&&U===a&&!s}},getSelectorForElement:function(e,t){for(var n;e;){var r=e.localName;if(!r)break;r=r.toLowerCase();var o=e.parentElement;if(o){var a=o.children;a.length>1&&function(){var t=0,n=oe(Array.prototype.slice.call(a,0),(function(n){return e.localName===n.localName&&t++,n===e}))+1;n>1&&t>1&&(r+=":nth-child("+n+")")}()}if(n=r+(n?" "+n:""),t&&o===t)break;e=o}return n},getCb".concat(e,"_cb_fsr")},getUniqueUserIdentifier:function(e){var t=e.userId,n=e.phoneNumber,r=e.userEmail,o=e.anonUserIdentifier,a="";return t||n||r?(t&&(a+=t),n&&(a+=n),r&&(a+=r),a):o},isIntersectionObserverSupported:function(){return Ct||(Ct="IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype),Ct}chEvent(new Event(e))},eturn!!qt.required(e)},canSucceedByChance:function(e){return 0===e||1===e?!!e:Math.random()<=e}},tn=["January","February","March","April","May","June","July","August","September","October","November","December"],nn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],rn=(Rt=/^\d{1,2}\/\d{1,2}\/\d{4}$/,wt=/^\d{4}-\d{1,2}-\d{1,2}$/,Pt=tn.map((function(e){return e.toLow){return e.slice(0,3)})),Ft="\\s\\d{1,2}(,\\s|,|\\s)\\d{4}$",Lt=new RegExp("^("+Nt.join("|")+")"+Ft),kt=new RegExp("^("+Pt.join("|")+")"+Ft),Mt={"dd-mm-yyyy":/^(\d{1,2})-(\d{1,2})-(\d{4})$/,"mm/dd/yyyy":/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/,"yyyy-mm-dd":/^(\d{4})-(\d{1,2})-(\d{1,2})$/},function(e,t){var n,r,o,a,i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=s.padDateTime,l=void 0!==u&&u,c=s.tzOffset;if("string"==typeof e||"number"==typeof e?n=new Date(e):e instanceof Date&&(n=e),"number"==typeof c&&!isNaN(c)){var p=6e4*(n.getTimezoneOffset()+c);n=new Date(n.getTime()+p)}a=(r=n.getHours())%12||12,r=(r<=9?"0":"")+r,a=(a<=9?"0":"")+a,o=((o=n.getMinutes())<=9?"0":"")+o,i=((i=n.getSeconds())<=9?"0":"")+i;var d=r<12?"AM":"PM",f=n.getMonth()+1,E=n.getDate();return l&&f<10&&(f="0"+f),l&&E<10&&(E="0"+E),t.replace(/\{dd\}/g,E).replace(/\{mm\}/g,f).replace(/\{mmm\}/g,tn[n.getMonth()].slice(0,3)).replace(/\{mmmm\}/g,tn[n.getMonth()]).replace(/\{yyyy\}/g,n.getFullYear()).replace(/\{ddd\}/g,nn[n.getDay()].slice(0,3)).replace(/\{dddd\}/g,nn[n.getDay()]).replace(/\{HH\}/g,r).replace(/\{hh\}/g,a).replace(/\{MM\}/g,o).replace(/\{ss\}/g,i).replace(/\{a\}/g,d)}),on={AGENT:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAABoVBMVEUiJSgfIyYXGh0NERQKDRETFxoDBwolKCtjZmiPj5GioqQaHSAHCg1ucHLIyMrt7e/7+/v///9OUVPT1NQHCg6MjpD09PSenqD7+/sKDRGGiIj7+/sdICNBREfx8fPKzMxWWFv6+vq5uroQFBfl5eUcHyNAQ0b29vZoa238/PwUFxp6fH7+/v53enz9/f1gYmIyNTjy8vPb29ugoqTx8fGqrK4fIiXg4OBKTU3u7u9dX2Lt7e1DRkbZ2tqcnp7p6en///+Ji4vLy8zo6Oj09PT5+fk6PUAHDREoKy5FSEt6fHyipKS8vsDR0dLd3t7m5ufr6+vu7+/v8PBMT1GYmpzMzM7o6Oj29vb+/v6kpqbe39/29vZdYGLIysrJysr5+fmenqDy8vPy8/OeoKDIyMrW1tjp6urp6eppaWz39/dnaWyZm538/Py1tbf+/v68vb21t7f9/f2bm5339/fn5+fm5+e8vr5iZGfU1dVvcXTP0ND19fZKSk2pqave3t/19fX///9DRkmGiIq3ubnT1dXl5ubu7u/z8/P19fU1ODs8P0JeVRppAAAAi3RSTlNSUU9NTE9LU2d7hlBMa6ja9v9fs0t65IT1TXb0UFrhqWLwmE7LUVvqafhOcf1v/GVW476G4I1SxF3cY9lbvIPT/Xeq0efvWExTXG+GnbHBzdbb3l6Bq9Dr+4nC7WWoqfGD5OSDp7bS0mjtaIL6lP6blPmC7M7OnGa2bK/rXYvB6v5bdpi1zNvk6FdZG7k1hgAAAmpJREFUeAHsyzMCA0EAAMDD2ub//5k0sXHdTj/T5oZhXlYA1mX+skOECWWMEozgF50LqbSxe0YrKfinHzhv7JHxDnz2Q0z2Qorhky9ysVdKFu//2rq90Vvd1V4PzJ7EMADA085OBu0hZzz32bZt27Zt+0uffdv/Zg+/waKNxgGmoOAQchESHAQ8GEquQhFYVFg4uQoPU8CBEWQRgcBhIski0gBDVHQMWcRER4E3GRtHFnGxErzFJySSRWJCPCdBUjJZJCdxEqiUV2TxKkWBN5GaRhZpqQIYdDpZpGvgcDLIIsMBDpGaSa4yUwWw6CxylaWBJ1vmkIscmQ1MMjePfpOXK4HN5BfQLwryDfhgCovoJ0WFBnxRpriklL4oLSk2CvxyssvKKyqrqiorysuyHfgDwqCsfvKkWqIR8IdEkFJBfxQdFO8g1pggqK2FIFOD6MQH8YNfo6yrb2hsam5pbWtvb2ttaW5qbKivk/iakSRKv+7o7Oru6aVf9PZ0d3V2vNZREIjE6L7+AbIa6O+LRgk2CgeHKslD5dAgKnCl64ZHiGFkuE7D74QeHSOm8Qkt4BdRajKR2BInVRT8JBumyJcpyP55gNpp8mWmVsBP4mfnyIe5+Xj4hV5YJLbFBQ2/waVlYlpeQnChV5aZ8Ssa3GQ/W10jhrXVZ9ngDtc3yNPGOoLVs/lN8rA1/wwCiIftKgqgahviISCBO7uPyeLx7g4K8CL13v6BW/jB/p6WzE3j8Oj45PTH4NOT46NDH3tHkHbOzi8ur65vbm9vrq8uL87PHB0EvkQZRAN39/d38PEtCv6IEFFRQsB/9R7tSqCJSuC8KwAAAABJRU5ErkJggg==",BOT:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAABblBMVEUiJSgaHSADBwqwsLL5+fkfIyZLTlEcHyNBREf19vYXGh0KDREHCg0dICP9/f0NERQTFxoHCg48P0JtcHD+/v719vYfIiUQFBeHiYn+/v7g4eErLjEUFxr8/Pw1ODtHSk2eoKDX19hgYGJzdXfi4uIDBw719fUNERf6+vr+/v78/PyFhYfe3t59gIIKDRH9/f36+vro6ekRFBczNjn09fX39/fo6ens7Oz7+/yvr7GKjIz4+Pj9/f0vMjXz8/Nsb3Hi4+POzs5paWzp6+v+/v7Dw8UAAAAlKCvm5ujp6enz9PTb3Nxzc3WOkJL+/v5vcXQQFxpKTVD4+PhqbG/h4+NRU1b5+fkaHSPj4+RDQ0aYmpzGxshSVVj6+vr////Pz9Dt7e1ZXF6AgoL2+PjW1tZnaWyJi43r6+s4Oz709fX8/Pzx8fH09PQ5PD/19fXo6Oitr6/e3t4tMDPLzMxdX1+dn6F6enyXmZv////+/v58oTwJAAAAeHRSTlNSUEuR8VFfUVrrT0xMUPpNT0tZafvqUk53/sRUTvhXXYS4ZW3HS+dN8Pr1dcFyTfvz0U1V5+3T2PeQePD8VuNqyK1o1PyiSVPQ0ua9bXr9bE5d72rGX/BQyFuBpmD0/q/ZZHLutmh51lfr9+LmWejQj8BVq2OFcYAbR16FAAACJUlEQVR4Xu2UVW/jQBRGZ7yZuh07tusGoUlpU2RmZmZmZobbf7+bjDyqrNpxLfWlynn7Hs6R7sMM+nmyZCF1glBH3PsYFQ0OFiHs2tfL4D9luttCeTGkKS53eUBJFQtUlbg7oqkLGNDV5CqgzdQzv35GcxUIkEYWaCQB5IqF0paU31K6gFySH/IB+EL5yC20QAFQCuj3LBFzVBZQMUfMqAdVfZWTCFUCVIYSqxxdDdr7UnVN0sOpaPgA+Gio8HCSNdWSrd9ZCBko7LQpBGuZb1+otb5CmgYHTFseQXr7wAF9vcQiIObmgQPycsVfGyBqs98QWtvaOz5LHe1trcbwN6vkK1+Lvr13M6FnO6F5+weAM9Dv1RLbPWx0v79Fv/hhYkPDI4YwOoYRUscnjD0xriKEx0aNPTI8FDP7BE2CwVTcm0rKs3Nsz83Kqe2NT4HBJDJfQed9PBCRUVpYXGJ7aTEdRHKEB3zz1BxYVnhgRWKBnDW213JYQFrhAWXZHAisb/CAfxOnBGErzHZ4S0htvOnngY31ADJBdyK7yh4z9oUYIbJ+YBQPdJmQmLDP1p6yG9mhXORQenh0DIyT02j87Bw452fx6OkJMI6PDinzzWgXl4ZxdX0Thk+Eb66vjHF5of3i13h7Bw64u7UKIHoPDrinyAr5ARzwIFsGCHnM7D8SgizBT88ee93z/ISRDaL08vrHhtcXSUT2YOmvDRJGP0OWLFn+AQAe2pK2r1wHAAAAAElFTkSuQmCC",APP:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAACB1BMVEUiJSgfIyYNERQaHSAKDREDBwoXGh0KDREQFBdOUVMcHyP+/v4UFxo1ODuDhYf7+/v///8HDRFcXmEHCg0RFBf6+vrr6+vo6OmVl5lWWFvp6enR0dL////Z2dnz8/P4+flKTVDx8fGeoKD5+fnz8/OmqKj6+vqXmZljZmiWlpj5+fnT09Pe3t78/PxYW17e3t9MT1GWmJjAwsL4+PhJTE/6+vodICPLzMz7+/vg4OH7+/v+/v4HCg7u7u/z8/Slp6d3enwTFxrp6elFSEva2trKysvo6emdn5/w8PBUV1m8vr75+fn8/PylpadJTExHSk3GyMjQ0NLZ2dldX1/6+vrp6+vNzc4/QkXm5uZRU1ZAQ0bj4+QAAAfr7OxdXV/T1dXt7e3R0dPz8/Pv7+/Kysy+vr/ExcdfYmRKTU2+wMDNzs7o6Ojr6+xgYmXw8PDR0dEHChHr7OzAwMLw8PCkpqhYW1vs7e1SVVhnaWzz8/P5+vrg4OD09PRsbG/e4OCXmZvLy8z09PTBw8Tq6uqVl5fs7OyKjI4WGh0ABwr//v/g4OH09PQ3Oj2eoKL+/v4DBw6wsrLt7+9MTE/39/fX19gaHSCTlZVGRkm2uLja2trp6ur5+fmXl5kKDRQnKy6hoaPDw8WKiozz8/Ty8/Pm5ujR0tKjpaVXWVxcXl5aXV9PUVEyNTj///+CPnKjAAAArHRSTlNSUU1QTUtPTE5fUf1OV3X0/kxkTE3z1NCAYtKx/brj713ihPHkifKAZ37vssH3YsJefp/vXvRQq/bD8/5L3OWIb0/RXLuo0YXdYZzy+IhbXaavvGP11K1Zzl9byErWY7XasuXdqZyjZl2drdHWZd+yTNie4Yli2WBo4vLD5GrDgKrlodN/2HhQS/3G5liE+0uR2l7tuU99W5e80/B/TVSFonjk5NCwiGFkY15WVZsmTQAAAntJREFUeF7t1lVz4zAUBeArWbbD0CZlZmamLWy7bZeZmZmZmZmZ+f7IdSf1jNtIsrudvuV70ss5M9YkVxdmXkICUQwE/o8SVjW/e+kGt19TwwpMEWE0fVZmalFuMNhYlJo5P50yAlOgk7TaQrQorE0jOjil0PIMjJNRThVwhDVlZyFHVnYTAwfUQD4K5AdUB/k5URSKFqi2+YJqlKi2a2CBDpTqCDCQ0PJy0EZOngZidDbaWkJBiNV70Za3noEAISnoQAohwMdKQyg21zyESpmooB3FNi5ouI0x7YICpaYEhTZrfero+A2V1CjAEy5GocU+D9Cd8zCmOAw8aiWK7HF5wLdyFY6rVIFH60eB1rH8mlQ0DWnAQfw9yDdICfgGLCOix08gnuKuQK5FRt61cLmlscKt8AqSgpZUVZV52qEb+br1aBFM4hcsQ5P3kq6viB2vGPnI6uvIKZB8wtp1xBNpRcTQkWQCdGQTTpDrbuFe4hY0bR1wgYduw9D2sXxNN050jnuJoA1Z/jC7XEAig7vH8knDOMlezf6HtK/OaPD5AOj+AzjZQRV4DhWjxWF3BAys7CjGOaYDj3K8BC1OnDQa9FOnMc6ZdAW42Fm0ejxCk88XYbwLwnlwMYRW3WW9lzFeKI05HWnRNuS4SggIsGtOhmopm95Y77xBQeim+bDINNySPm3NaOcOkz/O1Wjj7j2PtOF+FOUe9PpA5mEgH+UedYEUe8JfcbxPO2OHZ8kg95y7ZPW/eBl49Xq4DfFNH9hhk9e8t1XvyHuPS+36UPbx02fN8aL5JTfY3Pj12/cfP81Fk2i66prKqvvr95+/mqor01i2WwjMuISEf329XmKdVUfHAAAAAElFTkSuQmCC"};function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var un=nt.TYPE,ln=nt.RENDERABLE_MESSAGE_TYPES,cn=nt.ORIGIN,pn=nt.ROLE,dn=nt.BOT_STEP_MESSAGES,fn=nt.BODY,En=nt.BOT_CANCEL_REASON,yn=nt.ACTION_TYPES,mn=nt.MESSAGE_ROLES,hn=Se.USER_INPUT_TYPES,gn="message_",_n=Object.keys(un).map((function(e){return un[e]})),Sn=function(e){var t=e.message,n=e.contextIsLiteSdk,r=e.sourceIsConversationHistory,o=e.indexBeforeWhichFeedbackBotMessagesShouldNotBeRendered,a=void 0===o?-1:o,i=e.currentMessageIndex;if(t.processed)return t;var s=t.type,u={id:t.id,type:t.type,body:t.body,state:t.state,states:{},createdTs:t.created_at,redacted:t.redacted,author:{name:t.author.name,role:t.author.role,roles:t.author.roles,id:t.author.id,lastUpdatedAvatarTimestamp:t.author.avatar_updated_at},isCustomerMsg:t.origin!==cn.ADMIN,attachments:vn(t),commonIdentifier:t.commonIdentifier,issueType:t.issueType,publishId:t.publishId};return u.issueId=t.issueId||null,s!==un.REQUEST_SCREENSHOT&&s!==un.TEXT_MESSAGE_WITH_FILE_INPUT&&s!==un.APP_REVIEW_REQUEST||(u.responseReceived=t.response_received),t.chatbot_info&&(u.chatBotInfo=t.chatbot_info),t.hasOwnProperty("skipped")&&(u.skipped=t.skipped),(r&&t.feedback_message||-1!==a&&i<=a&&t.feedback_message)&&(u.shouldNotRender=!0),t.rating_data&&(u.ratingData={id:t.rating_data.option_id,value:t.rating_data.value}),s===un.FAQ_LIST_WITH_OPTION_INPUT&&(u.suguage:e.data.language}})),u.faqSource=t.faq_source),s===un.TEXT_MSG_WITH_ACTIONS&&(u.actionCards=t.action_cards.map((function(e){return{imageUrl:e.image_url,title:e.title,actions:e.actions.map((function(e){var t={};switch(e.type){case yn.LINK:t.url=e.data.url,t.shouldOpenInNewTab=n||e.data.open_in_new_tab;break;case yn.CALL:t.phoneNumber=e.data.phone_number}return{id:e.id,type:e.type,textToDisplay:e.display_text,data:t}}))}}))),s!==un.SIS&&s!==un.RESP_INTENTS_WITH_OPTION_INPUT||(u.intentLabels=t.intent_labels),s===un.RESP_TEXT_MSG_WITH_FORM_INPUT&&(u.formFields=t.form_fields),u},vn=function(e){var t=e.attachments||e.attachment&&[e.attachment];return t?t.map((function(e){return{url:e.url,contentType:e.content_type,fileName:e.file_name,size:e.size,label:e.label||null}})):null},bn=function(e){var t;return(null==e||null===(t=e.author)||void 0===t?void 0:t.role)===mn.SYSTEM_MSG},Tn={getProcessedMessage:Sn,getProcessedMessages:function(e){var t=e.messages,n=e.contextIsLiteSdk,r=e.sourceIsConversationHistory,o=void 0!==r&&r,a=e.sourceIsFirstConversationUpdate,i=void 0!==a&&a,s=e.newConversationButtonIsVisible,u=e.issueCursor;return t.filter((function(e,n){return e.type!==un.AGENT_FOLLOW_UP_REQUESTED||ht(u)&&function(e,t){for(var n=t+1;n<e.length;n++)if(e[n].type===un.AGENT_FOLLOW_UP_ACCEPTED)return!0;return!1}(t,n)})).map((function(e,r){var a={message:e,contextIsLiteSdk:n,sourceIsConversationHistory:o,currentMessageIndex:r};if(i){var u=function(e,t){if(!e.length)return-1;if(t)return e.length-1;var n=e.slie===un.CHAT_SEPARATOR}));return-1===r?-1:e.length-r-1}(t,s);a.indexBeforeWhichFeedbackBotMessagesShouldNotBeRendered=u}return Sn(nslations,language:t}},getPreparedMessageDataFromConfig:function(e){var t=e.msgType;return{"message-body":e.msgBody,"message-type":t}},getPreparedMessageDataFromUserInput:function(e){var t=e.input,n=t.value,r=t.skipped,o=t.skipLabel,a=t.selectedOption,i=t.formFields,s=t.newConversationStarted,u=e.latestMessage,l=u.type,c=u.id,p=u.chatBotInfo,d=e.isIssue,f=e.botStepInProgress,E=e.readFaqList,y=e.feedbackBotHasToBeInterrupted,m=function(e){switch(e){case un.TEXT_MSG_WITH_TEXT_INPUT:return un.RESP_TEXT_MSG_WITH_TEXT_INPUT;case un.TEXT_MSG_WITH_EMAIL_INPUT:return un.RESP_TEXT_MSG_WITH_EMAIL_INPUT;case un.TEXT_MSG_WITH_NUMERIC_INPUT:return un.RESP_TEXT_MSG_WITH_NUMERIC_INPUT;case un.TEXT_MSG_WITH_DATE_TIME_INPUT:return un.RESP_TEXT_MSG_WITH_DATE_TIME_INPUT;case un.TEXT_MSG_WITH_OPTION_INPUT:return un.RESP_TEXT_MSG_WITH_OPTION_INPUT;case un.INTENTS_WITH_OPTION_INPUT:return un.RESP_INTENTS_WITH_OPTION_INPUT;case un.FAQ_LIST_WITH_OPTION_INPUT:return un.RESP_FAQ_LIST_WITH_OPTION_INPUT;case un.EMPTY_MSG_WITH_TEXT_INPUT:return un.RESP_EMPTY_MSG_WITH_TEXT_INPUT;case un.TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT:return un.RESP_TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT;case un.TEXT_CSAT_MSG_WITH_OPTION_INPUT:return un.RESP_TEXT_CSAT_MSG_WITH_OPTION_INPUT;case un.TEXT_MESSAGE_WITH_FILE_INPUT:return un.RESP_TEXT_MSG_WITH_FILE_INPUT;case un.TEXT_MSG_WITH_FORM_INPUT:return un.RESP_TEXT_MSG_WITH_FORM_INPUT;default:return un.TEXT}}(l),h={};f&&(h.refers=c);var g=d?"message-body":"body",_=d?"message-type":"type";if(h[g]=n,h[_]=m,m===un.RESP_FAQ_LIST_WITH_OPTION_INPUT&&E.length&&(h.read_faqs=JSON.stringify(E.slice(0,10))),f&&p&&Object.keys(p).length&&(h.chatbot_info=JSON.stringify(p)),r)h[g]=o,h.skipped=r;else if(s&&y)h[_]=un.BOT_CANCELLED,h[g]=fn.FEEDBACKBOT_INTERRUPTED_BY_NEW_CONVERSATION,h.new_conv_started=s;else if(m===un.RESP_TEXT_MSG_WITH_DATE_TIME_INPUT){var S=en.getDateObjectFromString(n);h[g]=rn(S,"{dddd}, {mmmm} {dd}, {yyyy}"),h.meta=JSON.stringify({dt:S.getTime(),tz_offset:60*S.getTimezoneOffset()*1e3*-1})}else if(a&&a.value)h[g]=a.label,m===un.RESP_INTENTS_WITH_OPTION_INPUT?(h.intent=JSON.stringify(a.intentId),h.intent_labels=JSON.stringify([a.parentLabel,a.label]),h.menu_id=a.menuId,h[g]="".concat(a.parentLabel,"->").concat(a.label)):m===un.RESP_TEXT_CSAT_MSG_WITH_OPTION_INPUT?h.rating_data=JSON.stringify({option_id:a.id,value:a.value}):h.option_data=JSON.stringify({option_id:a.value});else if(el,value:e.value||""}}));h.form_fields=JSON.stringify(v),h[g]=m}return h},getPreparedMessageDataForUnsupportedBotMessage:function(e){var t=e.isIssue,n=e.latestMessage,r=n.id,o=n.chatBotInfo,a={},i=t?"message-body":"body";return a[t?"message-type":"type"]=un.BOT_CANCELLED,a[i]=fn.UNSUPPORTED_INPUT,a.chatbot_cancelled_reason=En.UNSUPPORTED_INPUT,a.refers=r,o&&Object.keys(o).length&&(a.chatbot_info=JSON.stringify(o)),a},createMessage:function(e,t){switch(e){case un.TEXT:return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.body,n=e.isCustomerMsg,r=void 0===n||n,o=e.isGreetingMessage,a=void 0!==o&&o,i=e.author;return{id:"".concat(gn).concat(At()),type:un.TEXT,isSystemMsg:!0,body:t,createdTs:Date.now(),isCustomerMsg:r,isGreetingMessage:a,author:i}}(t);case un.SCREENSHOT_SENT:case un.ATTACHMENT:case un.RESP_TEXT_MSG_WITH_FILE_INPUT:return function(e,t){var n=t.file,r=t.referringMessageId,o=t.issueId,a=t.chatBotInfo,i={id:"".concat(gn).concat(At()),type:e,isCustomerMsg:!0,isSystemMsg:!0,createdTs:Date.now(),file:n,states:{uploadInProgress:!0,error:!1,errorCode:null},refers:r,issueId:o};return a&&(i.chatBotInfo=a),i}(e,t);case un.CHAT_SEPARATOR:return n=t,{id:"".concat(gn).concat(At()),type:un.CHAT_SEPARATOR,isCustomerMsg:!1,isSystemMsg:!0,createdTs:Date.now(),body:"",timestamp:n.timestamp,hrShouldRender:n.hrShouldRender,infoText:n.infoText,processed:!0,publishId:n.publishId,commonIdentifier:n.commonIdentifier};case un.CONVERSATION_REDACTED:return function(e){return{id:"".concat(gn).concat(At()),type:un.CONVERSATION_REDACTED,isCustomerMsg:!1,isSystemMsg:!0,createdTs:Date.now(),body:"",redactionCount:e.redactionCount,processed:!0}}(t);default:return null}var n},isRenderableMessage:function(e){return-1!==ln.indexOf(e)},isBotMessage:function(e){var t=e.author.roles;return!!Array.isArray(t)&&-1!==t.indexOf(pn.CHAT_BOTS)},isBotStepMessage:function(e){return-1!==dn.indexOf(e)},urn-1!==_n.indexOf(e)},getAvatarTs:functie.author&&e.author.id})).reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,sn({},t.author.id,t.author.avatar_updated_at||null))}),{})},getNickname:function(e){var t=e.message,n=e.showAgentNickname,r=e.text;return t?!n||t.isCustomerMsg?"":bn(t)?r.systemNickname:m(t,["author","name"]):null},getAvatarImgSrc:function(e){var t=e.showAvatar,n=e.avatar,r=e.avatarLastUpdatedTs,o=e.message;if(!o)return null;var a=o.author;if(!t||!a)return null;var i=n.appAvatarUrl,s=n.avatarUrlTemplate,u=n.botDefaultAvatarUrl,l=n.agentDefaultAvatarUrl,c=n.botAvatarIsPersonalised,p=n.agentAvatarIsPersonalised;switch(a.role){case mn.SYSTEM_MSG:return{fallback:on.APP,original:i};case mn.BOT_MSG:return c&&a.id&&r[a.id]?{fallback:on.BOT,original:s.replace("{{avatar_id}}",a.id)+"?ts=".concat(r[a.id])}:{fallback:on.BOT,original:u};default:return p&&a.id&&r[a.id]?{fallback:on.AGENT,original:s.replace("{{avatar_id}}",a.id)+"?ts=".concat(r[a.id])}:{fallback:on.AGENT,original:l}}},isSystemMessage:bn,shouldViewScrollToLastMsg:function(e,t){var n,r=[un.TEXT_MSG_WITH_OPTION_INPUT,un.TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT,un.TEXT_MSG_WITH_FORM_INPUT];return e.length&&r.includes(e[e.length-1].type)&&!r.includes(null===(n=t[t.length-1])||void 0===n?void 0:n.type)},getHumanReadableTime:function(e,t){var n=e.type,r=e.states,o=e.createdTs;return(n===un.ATTACHMENT||n===un.RESP_TEXT_MSG_WITH_FILE_INPUT||n===un.SCREENSHOT_SENT)&&r&&r.uploadInProgress?t.attachmentUploadingStatus:rn(o,"{hh}:{MM} {a}")},shouldAvatarRender:function(e,t,n){return e&&!t&&n},isFullWidthMessage:function(e,t){return e===un.TEXT_CSAT_MSG_WITH_OPTION_INPUT&&t},shoreturn e&&t===h.role)===mn.AGENT_MSG},getLatestMessageOfType:function(e,t,n){resueId===n&&e.type===t}))},shouldShowFeedbackBotCsatInput:function(e,t){return!(!(null==e?void 0:e.length)||!t)},hasResolutionQuestionExpired:function(e){return!!(e&&Date.now()>=e)},getUserImageAttachmentAriaLabel:function(e,t){var n=rn(e,"{hh}:{MM} {a}");return t.replace("{{time}}",n)},getSupportImageAttachmentAriaLabel:function(e,t){var n=rn(e,"{hh}:{MM} {a}");return t.replace("{{time}}",n)},getProcessedSelectedStarRatingAriaLabelMap:function(e,t){for(var n={},r=1;r<=Object.keys(t).length;r++)n[r]=e[r].replace("{{star_label}}",t[r]);return n}};function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}n(9766);var An={required:{errorMsg:"{name} is a required field",fn:qt.required},"dd-required":{errorMsg:"{name} is a required field",fn:qt.ddRequired},url:{errorMsg:"{name} should be a valid url",fn:qt.url},https:{errorMsg:"Please enter secure https url",fn:qt.https},mobileDeeplink:{errorMsg:"{name} should be valid deep link",fn:qt.mobileDeeplink},sane:{errorMsg:"Please enter a detailed {name}",fn:qt.isSane},email:{errorMsg:"Please enter a valid email address",fn:qt.email},multiEmail:{errorMsg:"Some of the emails listed are not valid",fn:qt.multiEmail},number:{errorMsg:"{name} should be a valid number",fn:qt.number},numeric:{errorMsg:"Please enter a valid number",fn:qt.numeric},color:{errorMsg:"{name} should be a valid hex color",fn:qt.color},multiRequired:{errorMsg:"{name} should be a list of non-empty values",fn:qt.multiRequired},multiNumber:{errorMsg:"{name} should be a list of valid numbers",fn:qt.multiNumber},multiTokenRequired:{errorMsg:"{name} should be a list of non-empty values",fn:qt.multiTokenRequired},e164FormattedPhoneNumber:{errorMsg:"Please enter a valid phone number with country code",fn:qt.e164FormattedPhoneNumber}},Cn=function(e){if("string"==typeof e){if(An[e])return An[e]}else if("object"===In(e))return e},On=function(e){e=e||{},this.name="string"==typeof e.name?e.name:"This",this.value=e.hasOwnProperty("value")?e.value:"",this.errorMsg=e.errorMsg||"",this.disabled=e.disabled||!1,this.readOnly=e.readOnly||!1,this.validations=[],e.validations&&(Array.isArray(e.validations)?lidations.push(Cn(e))}),this):this.validations.push(Cn(e.validations)))};On.prototype.isValid=function(){var e="";return this.disabled||this.validations.some((function(t){var n=this.name;if(!t.fn(this.value))return"string"==typeof t.errorMsg?(0!==t.errorMsg.indexOf("{name}")&&(n=n.toLowerCase()),e=t.errorMsg.replace("{name}",n)):"function"==typeof t.errorMsg&&(e=t.errorMsg(this.value)),!0}),this),e};var Rn=On;function wn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fn,Ln=nt.TYPE,kn=W,Mn=Y,Dn=z,Un=Se.USER_INPUT_TYPES,xn=Se.PICKER_INPUT_THRESHOLD,Hn=Se.OPTIONS_INPUT_TYPES,jn=Se.POLLING_STRATEGY_TYPES,Vn=Se.FORM_FIELD_TYPES,Bn=Se.CURSOR_TYPES,Gn=[Un.PILL_SELECT,Un.LIST_PICKER,Un.CSAT,Un.BOT_FORM],Wn=Rn,qn=function(e,t,n){switch(e){case Ln.TEXT_MSG_WITH_TEXT_INPUT:return Un.PLAIN_TEXT;case Ln.TEXT_MSG_WITH_EMAIL_INPUT:return Un.EMAIL;case Ln.TEXT_MSG_WITH_NUMERIC_INPUT:return Un.NUMERIC;case Ln.TEXT_MSG_WITH_DATE_TIME_INPUT:return Un.DATE;case Ln.TEXT_MSG_WITH_OPTION_INPUT:case Ln.TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT:case Ln.FAQ_LIST_WITH_OPTION_INPUT:return t===Hn.LIST_PICKER||n>xn?Un.LIST_PICKER:Un.PILL_SELECT;case Ln.TEXT_CSAT_MSG_WITH_OPTION_INPUT:return Un.CSAT;case Ln.TEXT_MESSAGE_WITH_FILE_INPUT:return Un.BOT_ATTACHMENT;case Ln.INTENTS_WITH_OPTION_INPUT:return Un.LIST_PICKER;case Ln.TEXT_MSG_WITH_FORM_INPUT:return Un.BOT_FORM;default:returnurnreissue_id:e.issue_id},Yn=function(e){var t=e[0],n=null;return t&&t.typue_id===t.preissue_id}))),n?[t,n]:[t]},Xn=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.type===Dn.PRE_ISSUE&&r.preissue_id===t)return n}return-1},Kn=function(e,t){var n=[],r=t.showConversationIdIsEnabled,o=t.lastGroupId,a=t.conversationIsLocal,i=o,s=0;return e.forEach((function(t,o){var u=t.preissue_id||t.issue_id,l=o>0?e[o-1]:null;if(l&&i&&u!==i&&Jn(l,i)&&!a&&n.unshift(tr(er(l),r)),t.redacted)s++;else{s&&(n.unshift(Tn.createMessage(Ln.CONVERSATION_REDACTED,{redactionCount:s})),s=0),i=u;var c=t.messages.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){Nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{issueId:t.issue_id,commonIdentifier:u,issueType:null==t?void 0:t.type,publishId:null==t?void 0:t.publish_id})}));n.unshift.apply(n,wn(c))}})),s&&n.unshift(Tn.createMessage(Ln.CONVERSATION_REDACTED,{redactionCount:s})),n},Qn=function(e){var t=e.issues,n=e.conversationHistoryEnabled,r=e.hasOlderMsgs,o=t[t.length-1],a=t[0];return n?!1===r:o.issue_id!==a.issue_id||o.preissue_id!==a.preissue_id||!1===r},Jn=function(e,t){return((null==e?void 0:e.preissue_id)||(null==e?void 0:e.issue_id))===t},Zn=function(e,t,n){return e&&t===Dn.ISSUE&&!!n},er=function(e){return{timestamp:null==e?void 0:e.created_at,issueType:e.type,publishId:null==e?void 0:e.publish_id,commonIdentifier:(null==e?void 0:e.preissue_id)||(null==e?void 0:e.issue_id)}},tr=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.timestamp,o=e.issueType,a=e.publishId,i=e.commonIdentifier,s={hrShouldRender:n,timestamp:rn(r,"{dddd}, {mmmm} {dd}, {yyyy}"),commonIdentifier:i};return Zn(t,o,a)&&(s.publishId=a),Tn.createMessage(Ln.CHAT_SEPARATOR,s)},nr=function(e){return"true"===e[0].data.option_id},rr=function(e,t){return e===Ln.TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT&&nr(t)?wn(t).reverse():{return t[e].label}))},wasLeafIntentSelected:function(e,t){if(!e||!e.length)return!1;var n=t[e[e.length-1]].children;return!n||!n.length},saveMessageCursor:function(e){var t=e.issue,n=e.cursorType,r=e.cursorTs,o={};if(n===Bn.FORWARD)o={msgCursor:{cursorType:n,cursorTs:r,issueType:t.type,issueId:zn(t)}};else{var a=t.messages;o={msgCursor:{cursorType:n,cursorTs:a[0]?a[0].created_at:t.created_at,issueType:t.type,preissueId:t.preissue_id,issueId:zn(t)}}}return o},haveRequiredMessagesLoaded:Qn,getIssueDateSeparator:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Tn.createMessage(Ln.CHAT_SEPARATOR,{hrShouldRender:t,timestamp:rn(e,"{dddd}, {mmmm} {dd}, {yyyy}")})},createLinearMessageList:function(e,t){var n=t.fullPrivacyEnabled,r=t.lastGroupId,o=t.hasOlderMsgs,a=t.conversationHistoryEnabled,i=t.showConversationIdIsEnabled,s=t.conversationIsLocal,u=function(e){for(var t=e.map((function(e){return N()(e,{})})),n=[],r=0;r<t.length;r++){var o=t[r];if(!o.processed&&(n.push(o),o.processed=!0,o.type===Dn.ISSUE)){var a=Xn(t,o.preissue_id),i=-1!==a?t[a]:null;i&&!i.processed&&(i.processed=!0,n.push(i))}}return n}(e),l=a?u:Yn(u),c=Kn(l,{showConversationIdIsEnabled:i,hasOlderMsgs:o,lastGroupId:r,conversationIsLocal:s}),p=Qn({issues:e,hasOlderMsgs:o,conversationHistoryEnabled:a});if(!c.length)return[];if(p){var d=e[0],f=e[e.length-1],E=n||!a?d:f;c.unshift(tr(er(E),i,!1))}return c},getLatestConversation:Yn,getIssueId:zn,getProcessedUserInput:function(e){var t=e.type,n=e.input,r=n.required,o=n.placeholder,a=n.label,i=n.skip_label,s=n.type,u=n.options,l=n.ratings,c=n.csat_type,p=n.show_new_conversation_button_text,d=n.submit_feedback_button_text,f=n.show_new_conversation_button,E=n.allowed_file_types,y=n.form_fields,m=e.body,h=u?u.length:0,g=qn(t,s,h),_={type:g,required:r,label:a,skipLabel:i,placeholder:o};if(t===Ln.INTENTS_WITH_OPTION_INPUT)_.hasParentLabel=!0,_.options=u.map((function(e){return{parentLabel:e.title[0],label:e.title[1],value:e.data.option_id,intentId:e.data.intent_ids,menuId:e.data.menu_id}}));else if(g===Un.PILL_SELECT||g===Un.LIST_PICKER){var S=rrlue:e.data.option_id}}))}else g===Un.d,value:e.data.value}})),_.ratingsType=c,_.startNewConversationBtnText=p,_.submitFeedbackBtnText=d,_.body=m,_.showNewConversationBtn=f):g===Un.BOT_ATTACHMENT?_.allowedFileTypes=E:g===Ununction(e){e.value=""})),_.formFields=y);return _},ction(e){return e+"s"},validateUserInput:function(e,t){var n=e.value,r=e.type,o=e.required;if(Gn.indexOf(r)>-1)return"";var a=[],i=t.requiredValidationError;switch(r){casEmailValid(e.trim())},errorMsg:t.emailValidationError}),i=t.emailValidationError;break;case Un.NUMERIC:a.push({fn:en.isNumberValid,errorMsg:t.numberValidationError}),i=t.numberValidationError;break;case Un.DATE:a.push({fn:en.isDateValid,errorMsg:t.dateValidationError}),i=t.dateValidationErroquiredValuePresent(e)},errorMsg:i}),new Wn({value:n,validations:a}).isValid()},getProcessedIssueState:function(e){switch(e){case Mn.ISSUE.RESOLVED:case Mn.PRE_ISSUE.RESOLVED:return kn.RESOLVED;case Mn.ISSUE.REJECTED:case Mn.PRE_ISSUE.REJECTED:return kn.REJECTED;default:return kn.ACTIVE}},shouldPollerRestart:function(e){var t=e.widgetIsMinimized,n=e.parentPageIsVisible,r=e.pollingStrategy;return(t||!n)&&r!==jn.CONSERVATIVE||n&&!t&&r!==jn.AGGRESSIVE},isUserInputAbsent:function(e){var t,n=e.disabled||!e.value.trim();return!e.selectedOption&&!(null===(t=e.formFields)||void 0===t?void 0:t.length)>0&&n},createUser,required:e.required}},shouldPollerStop:function(e){var t=e.feedbackBotIsEnabled,n=e.issueState,r=e.agentFollowupIsSupported,o=e.agentFollowupHasExpired;return n===kn.REJECTED||!r&&!t||o},isIssueIdValid:Jn,shouldShowConversationId:Zn,getChatSeparatorConfig:er,getIssueChatSeparator:tr,exportedForTesting:{getUserInputType:qn,getInputTypeForFormField:$n,isYesFirstOption:nr,getOrderedOptions:rr},isBotCurrentlyActive:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=t[t.length-{return e.issueId===n})).filter((function(e){var t,n;return(null==e||null===(t=e.author)||void 0===t?void 0:t.role)===nt.MESSAGE_ROLES.BOT_MSG||(null==e||null===(n=e.author)||void 0===n?void 0:n.role)===nt.MESSAGE_ROLES.AGENT_MSG})),o=r[r.length-1];return(null==o||null===(e=o.author)||void 0===e?void 0:e.role)===nt.MESSAGE_ROLES.BOT_MSG&&(null==o?void 0:o.type)!==Ln.BOT_ENDED}};function ar(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.putor(n,t))}))}return e}function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lr,cr,pr=or.getChatSeparatorConfig,dr=z,fr=W,Er=Se.ACTIVE_FOOTER,yr=Se.USER_INPUT_TYPES,mr=Se.CURSOR_TYPES,hr=Se.POLLING_STRATEGY_TYPES,gr=Se.AGRESSIVE_POLLING_TIMEOUT,_r=Se.USER_REDACTION_ERR_MSG,Sr=Se.USER_REDACTION_ERR_STATUS_CODE,vr=nt.TYPE,br=nt.MESSAGES_THAT_CAN_BYPASS_BOT_STEPS,Tr=at(),Ir=ce,Ar={type:"",title:"",subtitle:"",cta:""},Cr=(ur(Fn={},mr.FORWARD,{value:"",meta:{issueType:"",issueId:""}}),ur(Fn,mr.BACKWARD,{value:"",meta:{issueType:"",issueId:"",preIssueId:""}}),Fn),Or=ht,Rr=function(){return{value:"",defaultInputValue:"",type:yr.DEFAULT_INPUT,disabled:!1,required:!0,options:null,selectedOption:null,label:"",skipLabel:"",skipped:!1,newConversationStarted:!1,placeholder:"",errorMsg:"",formFields:[]}},wr=function(e,t){var n=e.map((function(e){return e.n-1===n.indexOf(e.id)}))},Pr=function(e){return{value:{$set:e.cursorTs},meta:{issueType:{$set:e.issueType},issueId:{$set:e.issueId},preIssueId:{$set:e.preIssueId}}}},Nr=function(e,t){var n=t.filter((function(e){return e.redacted})),r=n.map((function(e){return e.id}));return e.map((function(e){var t=r.indexOf(e.id);return-1===t?e:n[t]}))},Fr=function(e){var t=e.map((function(t){if(t.type===vr.CHAT_SEPARATOR&&!t.publishId){var n=e.find((function(e){return(null==e?void 0:e.commonIdentifier)&&e.commonIdentifier===t.commonIdentifier&&e.issueType===dr.ISSUE}));return n?sr({},t,{publishId:n.publishId}):t}repe===yr.DEFAULT_INPUT},kr=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r={},o=[];return t.forEach((function(t){var a,i=t.id,s=t.children;s&&s.length&&(a=e(s,i)),r[i]={id:i,label:t.label,parentId:n,showByDefault:t.show_by_default},a&&(r[i].children=a.ids,y(r,a.intentsMap)),o.push(i)})),{intentsMap:r,ids:o}},Mr=function(e){return{attachmentUploadIsInProgress:ur({},e.attachmentMsgId,{$set:e.uploadIsInProgress}),uploadProgress:ur({},e.attachmentMsgId,{$set:e.uploadProgress})}},Dr={userInput:Rr(),activeFooter:Er.REPLY,activeIssueMsgCursor:null,systemTyping:!1,agentTyping:!1,unreadIssues:{},unreadMessageIds:[],markMessageAsSeenXhrIsInProgress:!1,loadingMoreMsgsHasFailed:!1,botState:{botStepInProgress:!1,botStepMessage:null},messageList:[],messageCursor:Cr,intents:{loading:!1,enforceIntentSelection:!1,tree:{id:"",version:0,updatedAt:0,lastFetchTime:0,intentsMap:{},topLevelIntentsOrder:[]},model:null,selectedIntentIds:[]},userIsViewingPastMessages:!1,userIsRedacted:!1,requiredMessagesHaveLoaded:!1,pastConversationsLoading:!1,issueCursor:0,pollerFailureCount:0,isCsatSubmitted:!1,readFaqList:[],loading:!1,error:Ar,localGreetingMessageId:"",avatarLastUpdatedTs:{},pollingStrategy:hr.AGGRESSIVE,pollingInterval:gr,xhrEndedDueToNetworkDisconnect:!1,userReplyXhrInProgress:!1,attachmentUploadIsInProgress:{},rating:0,csatSurveyEventIsTriggered:!1,review:"",csatSaveInProgress:!1,emojiWidgetIsOpened:!1,firstPollerCallHasSucceeded:!1,analyticsEventsQueue:[],latestBotAttachmentMessageId:null,uploadProgress:{},resolutionButtonIsDisabled:!1,nativeFilesRequestContext:{eventId:null,source:"",filesToProcess:0,filesProcessed:0,remainingCount:0,largeAttachmentNames:[]},filesFromNative:[],agentFollowup:{supported:!1,expired:!1,requested:!1},conversationIsLocal:!1,localChatSeparatorMessageId:"",lastSignalUpdateServerTs:void 0,lastSignalUpdateClientTs:void 0,conversationPrefillText:"",signalAppState:null,legacyResolutionQuestionIsVisible:!1,lega){return ae(e,t,"id")},xr={activeFaq:null,loading:!1,errorMsg:""};function Hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jr={BYTES:"Bytes",KB:"KB",MB:"MB",GB:"GB"},Vr={BOT_ATTACHMENT:"BOT_ATTACHMENT",REQUEST_SCREENSHOT:"REQUEST_SCREENSHOT",ATTACHMENT_PIN:"ATTACHMENT_PIN",DRAG_AND_DROP:"DRAG_AND_DROP",BUSINESS_HOURS:"BUSINESS_HOURS"},Br={MAX_ATTACHMENT_LIMIT:10,IOS_MAX_BATCH_SIZE_BYTES:31457280,ATTACHMENT_OPERATIONS:{ADD:"ADD",REMOVE:"REMOVE"},MAX_FILE_SIZE:25,UNITS:jr,UNITS_LIST:[jr.BYTES,jr.KB,jr.MB,jr.GB],MAX_CHAR_LIMIT:22,MAX_EXTENSION_LIMIT:5,ELLIPSIS_LENGTH:3,BUSINESS_HOURS_ALLOWED_REMOVE_COUNT:1,ALLOW_ALL_ATTACHMENT_WHITELIST:"*/*",MAX_FILE_SIZE_FOR_BOT_ATTACHMENTS:20,ATTACHMENT_SOURCES:Vr,ATTACHMENT_COUNT_LIMIT_BY_SOURCE:(Hr(lr={},Vr.BOT_ATTACHMENT,1),Hr(lr,Vr.REQUEST_SCREENSHOT,1),Hr(lr,Vr.ATTACHMENT_PIN,10),Hr(lr,Vr.DRAG_AND_DROP,10),Hr(lr,Vr.BUSINESS_HOURS,5),lr),ATTACHMENT_SIZE_LIMIT_BY_SOURCE_MB:(Hr(cr={},Vr.BOT_ATTACHMENT,20),Hr(cr,Vr.REQUEST_SCREENSHOT,25),Hr(cr,Vr.ATTACHMENT_PIN,25),Hr(cr,Vr.DRAG_AND_DROP,25),Hr(cr,Vr.BUSINESS_HOURS,25),cr)},Gr=Br.MAX_ATTACHMENT_LIMIT,Wr=Br.ATTACHMENT_OPERATIONS,qr=Br.MAX_FILE_SIZE,$r=Br.MAX_FILE_SIZE_FOR_BOT_ATTACHMENTS,zr=Br.UNITS,Yr=Br.UNITS_LIST,Xr=Br.MAX_CHAR_LIMIT,Kr=Br.MAX_EXTENSION_LIMIT,Qr=Br.ELLIPSIS_LENGTH,Jr=Br.ALLOW_ALL_ATTACHMENT_WHITELIST,Zr=Br.ATTACHMENT_COUNT_LIMIT_BY_SOURCE,eo=Br.ATTACHMENT_SIZE_LIMIT_BY_SOURCE_MB,to=Br.IOS_MAX_BATCH_SIZE_BYTES,no=nt.TYPE,ro=le,oo=Se.FILE_NAME_CHARACTER_LENGTH_LIMIT,ao=at(),io="-with-",so=function(e){if(e<1024)return{size:e,unit:zr.BYTES};var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return{size:Math.round(e/Math.pow(1024s/g,"").split(","):[]},lo=function(e){return e&&")||e.increte," ").concat(t.unit)},fo=function(e,t,n){return n===Wr.ADD?e+t<=Gr:e-t<=Gr},Eo=function(e,t){var n=so(e),r=Yr.indexOf(zr.MB),o=Yr.indexOf(n.unit)>r,a=qr;return t&&t===no.RESP_TEXT_MSG_WITH_FILE_INPUT&&(a=$r),!(n.unit===zr.MB&&n.size>=a||o)},yo=function(e,t){return!(e&&!se(t,Jr))||se(t,e)},mo=function(e){if(e.length<=Xr)return e;var t=e.split("."),n=t.length>1?t[t.length-1]:"",r=n.length;r>Kr&&(n=n.slice(r-Kr,r));var o=Xr-Qr-n.length,a=e.slice(0,o);return"".concat(a,"...").concat(n)},ho=function(e){return!!e&&e.indexOf("image/")>-1},go=function(e){var t=e.online,n=e.attachmentUploadIsInProgress,r=e.messageId,o=e.attachmentUploadProgress;return t&&n&&n[r]&&o&&!isNaN(o)&&100!==o},_o=function(e,t){if(t!==no.RESP_TEXT_MSG_WITH_FILE_INPUT)return e;var n=e.replace(/\D/g,"");return n?e.replace(n,parseInt($r,10)):e},So=function(e){return ao&&it()&&se(e,Jr)},vo=function(e,t){return!!(E(e)&&e.eventId&&e.eventId===t&&e.files&&Array.isArray(e.files))},bo=function(e,t,n){var r=e;return(null==e?void 0:e.includes("data:"))||(r="data:".concat(n,";base6on(e){re File(turn Date.now()+"."+e},Io=function(e){var t=e.statusCode,n=e.attachmentDefaultError,r=e.filenameCharacterLengthExceedsErrorMessage,o=e.attachmentRetryError,a=e.attachmentErrorIsForActiveIssue,i=n;return t===ro.FILENAME_CHARACTER_LENGTH_EXCEEDS?i=r.replace("{{length}}",oo):a&&(i=o),i},Ao=function(e){var t=e.type,n=e.isSystemMsg,r=e.states;return(t===no.ATTACHMENT||t===no.RESP_TEXT_MSG_WITH_FILE_INPUT||t===no.SCREENSHOT_SENT)&&n&&(null==r?void 0:r.error)},Co=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return se(e,Je.startsWith("image")})).toString()},Oo=function(e,t){return"".concat(e).concat(io).concat(t)},Ro=co,wo=function(e,t){var n=co(t);return e.replace("{{count}}",Zr[n]).replace("{{size}}",eo[n])},Po=function(e){var t=["*/*"];return e?{allowedFileTypes:uo(e),allowedMediaTypes:lo(uo(e))}:{allowedFileTypes:t,allowedMediaTypes:t}},No=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(e){return e.sizeInBytetion(e){return e.name}))};function Fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lo,ko=Dt,Mo=ko.NAME,Do=ko.EMAIL,Uo=ko.MESSAGE,xo=Br.ATTACHMENT_OPERATIONS,Ho=Br.BUSINESS_HOURS_ALLOWED_REMOVE_COUNT,jo=le,Vo={businessHoursEnabled:!1,inBusinessHours:!0,offlineBehaviour:"",contactFormDisabled:!1,contactFormSubmitted:!1,submitInProgress:!1,contactFormDetails:{name:{enabled:!0,value:{name:Mo,value:"",validations:["required"]}},email:{enabled:!0,value:{name:Do,value:"",validations:["required","email"]}},message:{enabled:!0,value:{name:Uo,value:"",validations:["required"]}},attachmentsMeta:{featureIsEnabled:!1,limitHasExceeded:!1,sizeHasExceeded:!1,attachmentsAreInvalid:!1},attachments:[]},createIssueXhrFailed:!1},Bo=function(e){varfunction(ritable:!0}):e[t]=n,e}var Wo=n(8881).createSlice({name:"errors",initialState:{calloutErrors:[],blockingErrors:[]},redurrors.push(t.paye.calloutErrors.pop()},clearCalloutErrors:function(e){e.calloutErrors=[]}},extraReducers:(Lo={},Go(Lo,t.USER_REPLY_REQUEST,(function(e){e.calloutErrors=[]})),Go(Lo,t.ATTAe){e.calloutErrors=[]})),Lo)}),qo=Wo.actions,$o=qo.pushCalloutError,zo=qo.popCalloutError,Yo=(qo.clearCalterable instance")}()}var Ko,Qo={logsQueue:[]},Jo=n(4890),Zo=(Ko=Jo.combineReducers({appState:function(){var e,n,r,o,a,i,s,u,l,c,p,d,f,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,h=arguments.length>1?arguments[1]:void 0;switch(h.type){case t.REHYDRATE:var g={widgetShouldAutoOpen:{$set:!!h.data.widgetShouldAutoOpen},analytics:{}};return!1===h.data.respectPfi?g.respectPfi={$set:!1}:g.respectPfi={$set:!0},(h.data.pfiValue||0===h.data.pfiValue)&&(g.pfiValue={$set:h.data.pfiValue}),h.data.lastConfigFetchTs&&(g.lastConfigFetchTs={$set:h.data.lastConfigFetchTs}),h.data.issueExistsDataIsStaleInLocalStorage&&(g.issueExistsDataIsStaleInLocalStorage={$set:h.data.issueExistsDataIsStaleInLocalStorage}),h.data.suggestedFaqReadTracked&&(g.analytics.suggestedFaqReadTracked={$set:h.data.suggestedFaqReadTracked}),h.data.wsConfig&&(g.wsConfig={$set:h.data.wsConfig}),h.data.releaseTag&&(g.releaseTag={$set:h.data.releaseTag}),N()(m,g);case t.FETCH_CONFIG_SUCCESS:var _=h.config,S=_.si.enabled,v=_.personalised_conversation_enabled,b=!_.hasOwnProperty("greeting_enabled")||_.greeting_enabled,T=function(].concat(je(e),je(t))}),[]))}(_.wa),I=_.plan_type===We.PLAN_ONE,A=null===(e=m.liteSdkConfig)||void 0===e||null===(n=e.metaData)||void 0===n?void 0:n.liteSdkVersion,C=(null===(r=m.liteSdkConfig)||void 0===r?void 0:r.os)===$e.IOS&&A&&ke(A,"10.2.0")&&!!_.use_native_picker_for_ios_attachments,O=new Ne({wcEnabled:_.wm_widget_enabled,featuresEnabled:new Ne({greeting:b,resolutionQuestion:_.resolution_question_enabled,conversationHistory:_.conversation_history_enabled,userAttachments:_.allow_user_attachments,csatBot:_.csat_bot_enabled,agentNickname:_.agent_nickname_enabled,branding:!_.disable_helpshift_branding,audioNotifications:_.audio_notifications_enabled,intents:S,personalisedConversationIsEnabled:v,authorPresenceDetectionIsEnabled:_.author_presence_detection_enabled,showConversationId:_.show_conversation_id_enabled}),issueExists:_.issue_exists,attachmentsWhitelist:T,showHeaderAvatar:null==_||null===(o=_.appearance)||void 0===o?void 0:o.show_header_avatar,appAvatarUrl:null==_||null===(a=_.appearance)||void 0===a?void 0:a.app_avatar,browserIsMobile:h.browserIsMobile,maxDebugLogs:_.dbgl,maxBreadcrumbs:_.bcl,avatar:{to:{showMessageFeedAvatar:null==_||null===(i=_.avatar)||void 0===i?void 0:i.show_feed_avatar,agentAvatarIsPersonalised:null==_||null===(s=_.avatar)||void 0===s?void 0:s.show_agent_personalised_avatar,botAvatarIsPersonalised:null==_||null===(u=_.avatar)||void 0===u?void 0:u.show_bot_personalised_avatar,agentDefaultAvatarUrl:null==_||null===(l=_.avatar)||void 0===l?void 0:l.agent_default_avatar,botDefaultAvatarUrl:null==_||null===(c=_.avatar)||void 0===c?void 0:c.bot_default_avatar,avatarUrlTemplate:null==_||null===(p=_.avatar)||void 0===p?void 0:p.avatar_template_url},when:v},intentsTreeSla:{to:null==_||null===(d=_.si)||void 0===d?void 0:d.tree_sla,when:S},fastPollingIsEnabled:{to:!0,when:_.fast_polling_enabled},useNativePickerForIosAttachments:C,appReviewUrl:{to:_.app_review_url,when:_.app_review_url},rolloutFlags:new Ne({fetchOnSignal:_.enable_fetch_on_signal})}).set({when:I&&_.issue_limit_reached,key:"activeView",to:j}).set({when:I&&!(null==m||null===(f=m.sdkConfigOptions)||void 0===f?void 0:f.developerSetInitialUserMessage),key:"sdkConfigOptions.developerSetInitialUserMessage",to:h.giveFeedbackText}).set({when:_.user_auth_status===Ke||_.user_auth_status===Qe,key:"activeView",to:V});return N()(m,O);case t.SET_APP_RESET_TRIGGER:return N()(m,{appResetTrigger:{$set:h.value}});case t.SET_LANGUAGE:return N()(m,{developerSetLanguage:{$set:h.language}});case t.SET_DEVICE_ID:return N()(m,{deviceId:{$set:h.id}});case t.SET_ANALYTICS_SESSION_ID:return N()(m,{analytics:{sessionId:{$set:h.id}}});case t.SET_ANON_USER_ID:return N()(m,{anonUserIdentifier:{$set:h.id}});case t.SET_CONVERSATION_METADATA:return N()(m,{liteSdkConfig:{conversationMetadataReceived:{$set:!0},dbgl:{$set:h.dbgl},bcl:{$set:h.bcl}}});case t.SET_WIDGET_SHOULD_AUTO_OPEN:return N()(m,{widgetShouldAutoOpen:{$set:h.widgetShouldAutoOpen}});case t.SET_RE_ENGAGEMENT_ID:return N()(m,{reEngagementId:{$set:h.id}});case t.SET_WINDOW_IS_FOCUSED:return N()(m,{windowIsFocused:{$set:h.windowIsFocused}});case t.SET_CLIENT_CONFIG:var R=h.config,w=R.platformId,P=R.language,F=R.domain,L=R.userId,k=R.phoneNumber,M=R.userName,D=R.userEmail,U=R.userAuthToken,x=R.tags,H=R.fullPrivacy,G=R.initialUserMessage,W=R.widgetOptions,q=void 0===W?{}:W,$=R.enableLogging,z=R.__internal__,Y=void 0===z?{}:z,X=R.customMetadata,K=R.outboundSupportMeta,Q=R.initiateChatOnLoad,J=R.cifs,Z=R.subsequentIssuesInSameSessionConfig,ee=void 0===Z?{}:Z,te=null==G?void 0:G.trim(),ne=xe({},J,{},m.cif),re=function(e){var t=e.widgetOptions,n=e.screenSize,r=n.width;return n.height<420||r<552||!(!t||!t.fullScreen)}({screenSize:{width:m.parentPageInfo.width,height:m.parentPageInfo.height},widgetOptions:q}),oe=m.sdkConfigOptions.showLauncher;q.hasOwnProperty("showLauncher")&&(oe=q.showLauncher);var ae={platformId:{$set:w||""},developerSetLanguage:{$set:P||""},domain:{$set:F||""},userId:{$set:L||""},phoneNumber:{$set:k||""},userName:{$set:M||""},userEmail:{$set:D||""},userAuthToken:{$set:U||""},tags:{$set:x||[]},fullPrivacyEnabled:{$set:H||!1},sdkConfigOptions:{fullScreen:{$set:re},showLauncher:{$set:oe},developerSetInitialUserMessage:{$set:te||""}},loggingIsEnabled:{$set:!!$},internalHsConfigData:{$set:Y},configForSubsequentProactiveIssuesIsApplied:{$set:!1},initiateChatOnLoad:{$set:Q||!1},cif:{$set:ge(ne)}};return E(X)&&(ae.metadata={$set:X}),E(K)&&Object.keys(K).length&&(ae.outboundSupportMeta={$set:K}),E(ee)&&(ae.subsequentIssuesInSameSessionConfig={$set:ee}),N()(m,ae);case t.FETCH_CONFIG_FAILURE:return N()(m,{activeView:{$set:B}});case t.NEW_CONVERSATION_STARTED:return N()(m,{conversationStarted:{$set:!0},activeIssueId:{$set:""},internalIssueId:{$set:""},issueState:{$set:Ve.NA},issueType:{$set:Be.INITIAL},appResetTrigger:{$set:Ge.INITIAL},postChatFeatures:{resolutionQuestionCompleted:{$set:!1},csatCompleted:{$set:!1}},analytics:{suggestedFaqReadTracked:{$set:!1}},featuresEnabled:{feedbackBot:{$set:!1}}});case t.CREATE_PREISSUE_SUCCESS:var se,ue=h.activeIssueId,le=h.internalIssueId,ce=h.issueType,pe=h.hsSessionId,de=null===(se=m.subsequentIssuesInSameSessionConfig)||void 0===se?void 0:se.initialUserMessage,fe={conversationStarted:{$set:!0},activeIssueId:{$set:ue},internalIssueId:{$set:le},issueState:{$set:Ve.ACTIVE},issueType:{$set:ce},issueCreatedAnalyticEventToBeFiredAfterPreIssueSuccess:{$set:!0},liteSdkConfig:{conversationMetadataReceived:{$set:!1},dbgl:{$set:[]},bcl:{$set:[]}},outboundSupportMeta:{$set:{}},hsSessionId:{$set:pe||""}};return m.sdkConfigOptions.developerSetInitialUserMessage||(fe.sdkConfigOptions={},fe.sdkConfigOptions.initialUserMessage={$set:""}),m.source!==qe.PROACTIVE||m.configForSubsequentProactiveIssuesIsApplied||(fe=N()(fe,{$merge:_e(m)})),"string"==typeof de&&(fe.sdkConfigOptions={developerSetInitialUserMessage:{$set:de.trim()}}),N()(m,fe);case t.SET_ACTIVE_ISSUE_ID:return N()(m,{conversationStarted:{$set:!0},activeIssueId:{$set:h.id}});case t.SET_INTERNAL_ISSUE_ID:return N()(m,{internalIssueId:{$set:h.id}});case t.UPDATE_ACTIVE_VIEW:return h.view!==m.activeView?N()(m,{activeView:{$set:h.view}}):m;case t.TOGGLE_MINIMIZED:return N()(m,{minimized:{$set:h.minimized}});case t.UPDATE_ISSUE_TYPE:return N()(m,{issueType:{$set:h.issueType}});case t.UPDATE_ISSUE_STATE:return N()(m,{issueState:{$set:h.state}});case t.INITIAL_USER_MESSAGE_API_TRIGGERED:return N()(m,{sdkConfigOptions:{developerSetInitialUserMessage:{$set:h.message.trim()}}});case t.SET_INITIAL_USER_MESSAGE:return N()(m,{sdkConfigOptions:{initialUserMessage:{$set:h.message}}});case t.SET_CONVERSATION_ENDED:return N()(m,{conversationStarted:{$set:!1},postChatFeatures:{resolutionQuestionCompleted:{$set:!1},csatCompleted:{$set:!1}}});case t.SET_CIF:return N()(m,{cif:{$merge:h.cif}});case t.SET_METADATA:return N()(m,{metadata:{$merge:h.metadata}});case t.REPLACE_CIF:var Ee=xe({},h.cif,{},m.cif);return N()(m,{cif:{$set:Ee}});case t.SET_PARENT_PAGE_INFO:return N()(m,{parentPageInfo:{$set:h.parentPageInfo}});case t.SET_TAGS:return N()(m,{tags:{$set:h.tags}});case t.SET_SUGGESTED_FAQ_READ_TRACKED:return N()(m,{analytics:{suggestedFaqReadTracked:{$set:h.isTracked}}});case t.SET_FOOTER_ACTIVE:return N()(m,{footerIsActive:{$set:!0}});case t.SET_CHAT_VIEW_FOOTER:case t.SET_FOOTER_INACTIVE:return N()(m,{footerIsActive:{$set:!1}});case t.SET_RESOLUTION_QUESTION_COMPLETED:return N()(m,{postChatFeatures:{resolutionQuestionCompleted:{$set:h.completed}}});case t.RESOLUTION_QUESTION_ACCEPT_SUCCESS:case t.RESOLUTION_QUESTION_REJECT_SUCCESS:return N()(m,{postChatFeatures:{resolutionQuestionCompleted:{$set:h.payload.resolutionQuestionCompleted}}});case t.SET_CSAT_COMPLETED:return N()(m,{postChatFeatures:{csatCompleted:{$set:!0}}});case t.RESET:return N()(Ze,{cif:{$set:m.cif},metadata:{$set:m.metadata},appResetTrigger:{$set:m.appResetTrigger},minimized:{$set:m.minimized},sdkConfigOptions:{initialUserMessage:{$set:m.sdkConfigOptions.initialUserMessage},developerSetInitialUserMessage:{$set:m.sdkConfigOptions.developerSetInitialUserMessage}}});case t.SET_FULL_PRIVACY:return N()(m,{fullPrivacyEnabled:{$set:h.enabled}});case t.TOGGLE_ONLINE_STATUS:return N()(m,{online:{$set:h.online}});case t.SET_KEYBOARD_INTERACTION_IS_ACTIVE:return N()(m,{keyboardInteractionIsActive:{$set:h.active}});case t.GET_CONVERSATION_HISTORY_SUCCESS:var ye=h.payload,me=ye.resolutionQuestionExpiryTimestamp,he=ye.csatBotExpiryTimestamp,Se=ye.feedbackBotIsEnabled;return ye.updateIsForActiveIssue?N()(m,{expiryTimestamps:et(me,he),featuresEnabled:{feedbackBot:{$set:!!Se}}}):m;case t.USER_REPLY_REQUEST:var ve={footerIsActive:{$set:!1}};return h.reEngagementId&&(ve.reEngagementId={$set:""}),N()(m,ve);case t.PARENT_PAGE_IS_VISIBLE:return N()(m,{parentPageIsVisible:{$set:h.parentPageIsVisible}});case t.SET_LITE_SDK_RELATED_CONFIG:var be=h.payload,Te=be.liteSdkConfig,Ie=be.source,Ae=be.configForSubsequentProactiveIssues;return N()(m,{liteSdkConfig:{os:{$set:Te.os},metaData:{$set:Te.metaData},pushToken:{$set:Te.pushToken},analyticsData:{$set:Te.analyticsData},launchedFromHelpcenter:{$set:Te.launchedFromHelpcenter}},source:{$set:Ie},configForSubsequentProactiveIssues:{$set:Ae}});case t.PUSH_TOKEN_SYNC_SUCCESS:return N()(m,{isPushTokenSynced:{$set:h.payload}});case t.WS_CONFIG_SUCCESS:return N()(m,{wsConfig:{$set:h.payload}});case t.CHAT_END:return N()(m,{issueState:{$set:Ve.CLOSED},liteSdkConfig:{conversationMetadataReceived:{$set:!1},dbgl:{$set:[]},bcl:{$set:[]}}});case t.CREATE_PREISSUE_FAILURE:var Ce=h.error;if(Ce.statusCode!==ze.PLAN_LIMIT_REACHED)return m;if(Ce.context)try{var Oe,Re=JSON.parse(Ce.context.responseText);if((null==Re||null===(Oe=Re.data)||void 0===Oe?void 0:Oe.reason)===Ye.ISSUES_HARD_LIMIT_REACHED)return N()(m,{activeView:{$set:j}})}catch(e){}return m;case t.BUSINESS_HOURS_FORM_SUBMIT_SUCCESS:return N()(m,{outboundSupportMeta:{$set:{}}});case t.LOCAL_STORAGE_MIGRATION_SUCCESS:return N()(m,{localStorageMigrationStatus:{$set:h.payload.localStorageMigrationStatus?h.payload.localStorageMigrationStatus:""}});case t.POLLER_SUCCESS:var we;if(h.payload.pollerIsEmpty)return m;var Pe=null===(we=m.subsequentIssuesInSameSessionConfig)||void 0===we?void 0:we.initialUserMessage,Fe=h.payload,Le=Fe.activeIssueId,Me=Fe.issueIsActive,De=Fe.internalIssueId,Ue=Fe.processedState,He=Fe.issueType,Xe=Fe.issueIsOngoing,tt=Fe.resolutionQuestionExpiryTimestamp,nt=Fe.csatBotExpiryTimestamp,rt=Fe.hsSessionId,ot=Fe.feedbackBotIsEnabled,at=Fe.liveMessagingMode,it=new Ne({}).set({when:Le,key:"activeIssueId",to:Le}).set({when:Me,key:"conversationStarted",to:Me}).set({when:De,key:"internalIssueId",to:De}).set({when:Ue,key:"issueState",to:Ue}).set({when:He,key:"issueType",to:He}).set({when:at,key:"liveMessagingMode",to:at}).set({key:"featuresEnabled.feedbackBot",to:!!ot,when:void 0!==ot}).set({when:rt,key:"hsSessionId",to:rt});return Xe&&m.source===qe.PROACTIVE&&y(it,_e(m)),Me&&"string"==typeof Pe&&(it.sdkConfigOptions={developerSetInitialUserMessage:{$set:Pe.trim()}}),it.expiryTimestamps=et(tt,nt),N()(m,it);case t.AGENT_FOLLOW_UP_REJECT_SUCCESS:return h.payload.activeFooter===Je.SOLUTION_REJECTED?m:N()(m,{conversationStarted:{$set:!0},activeIssueId:{$set:""},internalIssueId:{$set:""},issueState:{$set:Ve.NA},issueType:{$set:Be.INITIAL},appResetTrigger:{$set:Ge.INITIAL},postChatFeatures:{resolutionQuestionCompleted:{$set:!1},csatCompleted:{$set:!1}}});case t.USER_INTERRUPT_FEEDBACK_BOT:return N()(m,{featuresEnabled:{feedbackBot:{$set:!1}}});default:return m}},ui:function(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case t.FETCH_CONFIG_SUCCESS:var a=o.config,i=(e=a.appearance.colors,n={},F(e.primary_color)&&(n.primaryColor={value:{$set:e.primary_color}},n.gradientPrimaryColor={value:{$set:e.primary_color+L.LIGHT_75.hexValue}},n.primaryColorOpacity5={value:{$set:e.primary_color+L.LIGHT_5.hexValue}},n.primaryColorOpacity10={value:{$set:e.primary_color+L.LIGHT_10.hexValue}},n.primaryColorOpacity20={value:{$set:e.primary_color+L.LIGHT_20.hexValue}},n.primaryColorOpacity50={value:{$set:e.primary_color+L.LIGHT_50.hexValue}},n.primaryColorDark={value:{$set:l(e.primary_color,L.DARK_20.opacity)}},n.primaryColorLight={value:{$set:l(e.primary_color,L.LIGHT_20.opacity)}}),F(e.action_color)&&(n.actionColor={value:{$set:e.action_color}},n.actionColorOpacity5={value:{$set:e.action_color+L.LIGHT_5.hexValue}},n.actionColorOpacity10={value:{$set:e.action_color+L.LIGHT_10.hexValue}},n.actionColorOpacity20={value:{$set:e.action_color+L.LIGHT_20.hexValue}},n.actionColorOpacity50={value:{$set:e.action_color+L.LIGHT_50.hexValue}},n.actionColorDark={value:{$set:l(e.action_color,L.DARK_20.opacity)}},n.actionColorLight={value:{$set:l(e.action_color,L.LIGHT_20.opacity)}},F(e.content_color)&&(n.actionTextColor={value:{$set:c(e.action_color,k.FOREGROUND_COLOR,e.content_color)}})),F(e.background_color)&&(n.backgroundColorOpacity85={value:{$set:e.background_color+L.LIGHT_85.hexValue}}),F(e.background_color)&&(n.backgroundColor={value:{$set:e.background_color}}),F(e.content_color)&&(n.contentColor={value:{$set:e.content_color}},n.contentColorOpacity5={value:{$set:e.content_color+L.LIGHT_5.hexValue}},n.contentColorOpacity10={value:{$set:e.content_color+L.LIGHT_10.hexValue}},n.contentColorOpacity20={value:{$set:e.content_color+L.LIGHT_20.hexValue}},n.contentColorOpacity50={value:{$set:e.content_color+L.LIGHT_50.hexValue}},n.contentColorOpacity60={value:{$set:e.content_color+L.LIGHT_60.hexValue}},n.contentColorOpacity70={value:{$set:e.content_color+L.LIGHT_70.hexValue}},n.contentColorOpacity85={value:{$set:e.content_color+L.LIGHT_85.hexValue}}),F(e.content_color)&&F(e.primary_color)&&(n.primaryTextColor={value:{$set:c(e.primary_color,k.FOREGROUND_COLOR,e.content_color)}},n.primaryTextColorOpacity70={value:{$set:c(e.primary_color,k.FOREGROUND_COLOR+L.LIGHT_70.hexValue,e.content_color+L.LIGHT_70.hexValue)}}),F(e.alt_background_color)&&(n.alternateBgColor={value:{$set:e.alt_background_color}}),F(e.foreground_color)&&(n.foregroundColor={value:{$set:e.foreground_color}}),n);return N()(r,{text:D(a),colorConfig:i});case t.SET_GREETING_MESSAGE:return N()(r,{text:{greetingMsg:{$set:o.message}}});default:return r}},chatView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr,n=arguments.length>1?arguments[1]:void 0,r=null;switch(n.type){case t.REHYDRATE:var o={};return n.data.readFaqList&&(o.readFaqList={$set:n.data.readFaqList}),N()(e,o);case t.NEW_CONVERSATION_STARTED:var a=n.payload,i=a.conversationHistoryIsEnabled,s=a.shouldAddGreetingMessage,u=a.shouldAddDateSeparator,l=a.developerSetInitialUserMessage,c=Rr();!l&&e.conversationPrefillText&&(c.value=e.conversationPrefillText);var p={legacyCsatIsVisible:{$set:!1},activeFooter:{$set:Er.REPLY},userInput:{$merge:c},pollerFailureCount:{$set:0},isCsatSubmitted:{$set:!1},rating:{$set:0},review:{$set:""},systemTyping:{$set:!1},csatSaveInProgress:{$set:!1}};return i||(p.messageList={$set:[]},p.unreadIssues={$set:{}},p.unreadMessageIds={$set:[]},p.messageCursor={$set:Cr},p.activeIssueMsgCursor={$set:null}),(s||u)&&(p.conversationIsLocal={$set:!0}),N()(e,p);case t.CREATE_PREISSUE_REQUEST:return N()(e,{userInput:{disabled:{$set:!0}},systemTyping:{$set:!0}});case t.CREATE_PREISSUE_SUCCESS:var d=n.issueType===dr.PRE_ISSUE,f=Lr(e)?"":e.userInput.defaultInputValue;return N()(e,{userInput:{value:{$set:""},defaultInputValue:{$set:f},disabled:{$set:d},errorMsg:{$set:""}},intents:{selectedIntentIds:{$set:[]}},systemTyping:{$set:!1},error:{$set:Ar},lastSignalUpdateClientTs:{$set:void 0},lastSignalUpdateServerTs:{$set:void 0},signalAppState:{$set:null},conversationIsLocal:{$set:!1}});case t.CREATE_PREISSUE_FAILURE:var E=n.error;return N()(e,{userInput:{disabled:{$set:!1}},systemTyping:{$set:!1},error:{$set:E},loading:{$set:!1}});case t.USER_REPLY_REQUEST:var m=n.issueType,h=n.botStepInProgress,g=n.renderSystemTyping,_=n.fastPollingIsEnabled,S=n.msgType,v=m===dr.ISSUE,b=m===dr.PRE_ISSUE,T=br.includes(S),I={userInput:{disabled:{$set:!Tr}},systemTyping:{$set:(b||v&&h)&&g&&!T},userReplyXhrInProgress:{$set:!0}};if(_&&h){var A=hr.V_AGGRESSIVE;I.pollingStrategy={$set:A},I.pollingInterval={$set:St(A)}}return N()(e,I);case t.USER_REPLY_SUCCESS:var C=n.messages,O=n.issueType,R=n.botStepInProgress,w=n.messageType,P=n.persistInputValue,F=Nr(e.messageList,C),L=wr(e.messageList,C),k=F.concat(L),M=br.includes(w),D=O===dr.ISSUE&&(!R||M),U=Lr(e)?"":e.userInput.defaultInputValue,x={userInput:{disabled:{$set:!D},errorMsg:{$set:""}},messageList:{$set:k},userReplyXhrInProgress:{$set:!1}};return P||(x.userInput.value={$set:""},x.userInput.defaultInputValue={$set:U}),w===vr.RESP_FAQ_LIST_WITH_OPTION_INPUT&&(x.readFaqList={$set:[]}),N()(e,x);case t.USER_REPLY_FAILURE:return N()(e,{userInput:{disabled:{$set:!1}},systemTyping:{$set:!1},userReplyXhrInProgress:{$set:!1}});case t.UPDATE_REPLY_TEXT:return N()(e,{userInput:{value:{$set:n.value},defaultInputValue:{$set:Lr(e)?n.value:e.userInput.defaultInputValue},errorMsg:{$set:""}}});case t.SET_ACTIVE_ISSUE_MSG_CURSOR:var H=n.msgCursor,j={messageCursor:ur({},H.cursorType,Pr(H))};return N()(e,j);case t.SET_CHAT_VIEW_FOOTER:var V={};return n.footer===Er.REPLY&&e.activeFooter!==Er.REPLY&&(V=Rr()),N()(e,{activeFooter:{$set:n.footer},userInput:{$merge:V}});case t.RESOLUTION_QUESTION_ACCEPT_REQUEST:case t.RESOLUTION_QUESTION_ACCEPT_END:case t.RESOLUTION_QUESTION_REJECT_REQUEST:case t.RESOLUTION_QUESTION_REJECT_END:return N()(e,{resolutionButtonIsDisabled:{$set:n.payload.resolutionButtonIsDisabled}});case t.RESOLUTION_QUESTION_ACCEPT_SUCCESS:case t.RESOLUTION_QUESTION_REJECT_SUCCESS:var B=n.payload,G=B.activeFooter,W={resolutionButtonIsDisabled:{$set:B.resolutionButtonIsDisabled},legacyResolutionQuestionIsVisible:{$set:B.legacyResolutionQuestionIsVisible}};return G&&(W.activeFooter={$set:G}),N()(e,W);case t.DISABLE_REPLY_BOX:return N()(e,{userInput:{disabled:{$set:!0}}});case t.ENABLE_REPLY_BOX:return N()(e,{userInput:{disabled:{$set:!1}}});case t.TOGGLE_SYSTEM_TYPING:return N()(e,{systemTyping:{$set:n.typing}});case t.TOGGLE_CONVERSATIONS_LOADER:return N()(e,{pastConversationsLoading:{$set:n.loading}});case t.TOGGLE_AGENT_TYPING:return N()(e,{agentTyping:{$set:n.typing}});case t.PAGE_VISIBILITY_CHANGE:var q=n.data,$=q.parentPageIsVisible,z=q.pollingStrategy,Y=q.widgetIsMinimized;return!Y&&$||z===hr.CONSERVATIVE?$&&!Y&&z!==hr.AGGRESSIVE?N()(e,{pollingStrategy:{$set:hr.AGGRESSIVE},pollingInterval:{$set:gr}}):N()(e,{pollingStrategy:{$set:e.pollingStrategy},pollingInterval:{$set:e.pollingInterval}}):N()(e,{pollingStrategy:{$set:hr.CONSERVATIVE},pollingInterval:{$set:0}});case t.UPDATE_POLLING_DATA:return N()(e,{pollingStrategy:{$set:n.pollingStrategy},pollingInterval:{$set:n.pollingInterval}});case t.MARK_MESSAGES_SEEN_XHR_REQUEST:return N()(e,{markMessageAsSeenXhrIsInProgress:{$set:!0}});case t.MARK_MESSAGES_SEEN_XHR_SUCCESS:return N()(e,{unreadIssues:{$set:{}},unreadMessageIds:{$set:[]}});case t.MARK_MESSAGES_SEEN_XHR_END:return N()(e,{markMessageAsSeenXhrIsInProgress:{$set:!1}});case t.UPDATE_READ_FAQ_LIST:return N()(e,{readFaqList:{$push:[n.faqId]}});case t.SET_LOADING_MORE_MSGS_FAILED:return N()(e,{loadingMoreMsgsHasFailed:{$set:n.loadingMoreMsgsHasFailed}});case t.SET_USER_IS_REDACTED:return N()(e,{userIsRedacted:{$set:n.userIsRedacted}});case t.RESET_USER_INPUT_DATA:var X=y(Rr(),{value:e.userInput.defaultInputValue});return N()(e,{userInput:{$set:X}});case t.UPDATE_USER_INPUT_DATA:return N()(e,{userInput:{$merge:n.input}});case t.SET_USER_SELECTED_OPTION:return N()(e,{userInput:{selectedOption:{$set:n.option}}});case t.CHAT_FORM_FIELD_CHANGED:var K=n.payload,Q=K.formFieldIndex,J=K.updatedValue,Z=K.errorMsg,ee={value:{$set:J}};return null!=Z&&(ee.errorMsg={$set:Z}),N()(e,{userInput:{formFields:ur({},Q,ee)}});case t.CHAT_FORM_FIELD_BLURRED:var te=n.payload,ne=te.formFieldIndex,re=te.errorMsg;return N()(e,{userInput:{formFields:ur({},ne,{errorMsg:{$set:re}})}});case t.CHAT_FORM_SUBMIT_CLICKED:return N()(e,{userInput:{formFields:{$set:n.formFields}}});case t.SET_USER_VIEWING_PAST_MESSAGES:return N()(e,{userIsViewingPastMessages:{$set:n.isViewing}});case t.APPEND_MESSAGES:var oe=Nr(e.messageList,n.messages),ie=wr(e.messageList,n.messages),se=oe.concat(ie),ue={messageList:{$set:Fr(se)}};if(n.responseType===vr.RESP_FAQ_LIST_WITH_OPTION_INPUT&&(ue.readFaqList={$set:[]}),n.fastPollingIsEnabled){var le=gt(se)?hr.V_AGGRESSIVE:hr.AGGRESSIVE;ue.pollingStrategy={$set:le},ue.pollingInterval={$set:St(le)}}return n.localChatSeparatorMessageId&&(ue.localChatSeparatorMessageId={$set:n.localChatSeparatorMessageId}),N()(e,ue);case t.UPDATE_AVATAR_LAST_UPDATED_TS:return N()(e,{avatarLastUpdatedTs:{$set:sr({},e.avatarLastUpdatedTs,{},n.avatarsTs)}});case t.PREPEND_MESSAGES:var ce=wr(e.messageList,n.messages).concat(e.messageList),pe=Fr(ce);return N()(e,{messageList:{$set:pe}});case t.REMOVE_MESSAGE:return(r=Ur(e.messageList,n.messageId))>-1?N()(e,{messageList:{$splice:[[r,1]]}}):e;case t.ATTACHMENT_UPLOAD_FAILED:var de,fe,Ee,ye,me,he={},ge={};if((null===(de=n.payload)||void 0===de?void 0:de.messageType)!==vr.RESP_TEXT_MSG_WITH_FILE_INPUT&&(null===(fe=n.payload)||void 0===fe?void 0:fe.messageType)!==vr.SCREENSHOT_SENT||((r=Ur(e.messageList,n.payload.referringMessageId))>-1&&(ge=ur({},r,{responseReceived:{$set:!1}})),he.uploadProgress=ur({},n.payload.messageId,{$set:null})),(r=Ur(e.messageList,n.payload.messageId))>-1&&(he.messageList=sr(ur({},r,{states:{uploadInProgress:{$set:!1},error:{$set:!0},errorCode:{$set:n.payload.errorCode},statusCode:{$set:null===(me=n.payload)||void 0===me?void 0:me.statusCode}}}),ge)),(null==n||null===(Ee=n.payload)||void 0===Ee?void 0:Ee.failureIsClientSide)&&(null==n||null===(ye=n.payload)||void 0===ye?void 0:ye.useNativePickerForIosAttachments)){var _e,Se=((null===(_e=e.nativeFilesRequestContext)||void 0===_e?void 0:_e.filesProcessed)||0)+1;he.nativeFilesRequestContext={$set:sr({},e.nativeFilesRequestContext,{filesProcessed:Se})}}return N()(e,he);case t.SET_ISSUE_CURSOR:return N()(e,{issueCursor:{$set:n.cursor}});case t.SET_POLLER_FAILURE_COUNT:return N()(e,{pollerFailureCount:{$set:n.count}});case t.SET_CHAT_VIEW_ERROR:return N()(e,{error:{$set:n.error}});case t.SET_BOT_STEP_IN_PROGRESS:return N()(e,{botState:{botStepInProgress:{$set:n.inProgress}}});case t.SAVE_BOT_STEP_MESSAGE:return N()(e,{botState:{botStepMessage:{$set:n.message}}});case t.INTENTS_TREE_REQUEST:return N()(e,{intents:{loading:{$set:!0}}});case t.INTENTS_TREE_SUCCESS:var ve=n.response,be=n.fetchTime,Te=kr(ve.tree),Ie=Te.intentsMap,Ae=Te.ids;return N()(e,{intents:{loading:{$set:!1},enforceIntentSelection:{$set:ve.eis},tokenDelimiters:{$set:ve.token_delimiters},tree:{id:{$set:ve.id},version:{$set:ve.version},updatedAt:{$set:ve.updated_at},lastFetchTime:{$set:be},intentsMap:{$set:Ie},topLevelIntentsOrder:{$set:Ae}}}});case t.INTENTS_TREE_FAILURE:var Ce={intents:{loading:{$set:!1},tree:{$set:{id:"",version:0,updatedAt:0,lastFetchTime:0,intentsMap:{},topLevelIntentsOrder:[]}}}};return Ce.intents.tree={lastFetchTime:{$set:n.fetchTime}},N()(e,Ce);case t.SMART_INTENT_SELECTION:var Oe={$push:[n.intent.id]};return N()(e,{intents:{selectedIntentIds:Oe}});case t.SMART_INTENT_DESELECTION:return N()(e,{intents:{selectedIntentIds:{$splice:[[e.intents.selectedIntentIds.length-1,1]]}}});case t.BOT_START:return N()(e,{userInput:{disabled:{$set:!0}},systemTyping:{$set:!0},filesFromNative:{$set:[]}});case t.BOT_END:var Re=n.nextMessageIsBotStep,we=n.issueIsResolved,Pe=y(Rr(),{value:e.userInput.defaultInputValue,disabled:!(!Re&&!we)}),Fe=e.activeFooter;return Fe===Er.NONE&&(Fe=Er.REPLY),N()(e,{userInput:{$set:Pe},systemTyping:{$set:!(!Re||we)},activeFooter:{$set:Fe},filesFromNative:{$set:[]}});case t.BOT_MESSAGE_WITH_NO_USER_INPUT:var Le=n.issueType,ke=n.issueIsActive;if(Le===dr.ISSUE){var Me={userInput:{$set:y(Rr(),{value:e.userInput.defaultInputValue,disabled:!1})},systemTyping:{$set:!1}};return N()(e,Me)}return ke?N()(e,{userInput:{disabled:{$set:!0}},systemTyping:{$set:!0}}):e;case t.BOT_MESSAGE_WITH_USER_INPUT:var De=n.userInput,Ue=y(Rr(),De);if(Ue.defaultInputValue=e.userInput.defaultInputValue,Ue.disabled=!1,De.type===yr.DATE&&Tr){var xe=new Date;Ue.value=xe.toISOString().slice(0,10)}var He=De.type===yr.CSAT?Er.FEEDBACK_BOT_CSAT:Er.REPLY;return N()(e,{userInput:{$set:Ue},activeFooter:{$set:He},systemTyping:{$set:!1}});case t.SET_LOCAL_GREETING_MESSAGE_ID:return N()(e,{localGreetingMessageId:{$set:n.id}});case t.CLEAR_CHAT_VIEW_ERRORS:return N()(e,{error:{$set:Ar}});case t.RESET:return Dr;case t.XHR_ENDED_DUE_TO_NETWORK_DISCONNECT:return N()(e,{xhrEndedDueToNetworkDisconnect:{$set:!0}});case t.DEVICE_ONLINE_SUCCESS:return N()(e,{userInput:{disabled:{$set:!1}},systemTyping:{$set:!1},userReplyXhrInProgress:{$set:!1}});case t.POLLER_FAILURE:var je=n.payload,Ve=je.response,Be=je.statusCode,Ge=je.uiErrorText,We={};return Ve.msg===_r&&Be===Sr&&(We={userIsRedacted:{$set:!0},error:{type:{$set:Ir.USER_IS_REDACTED},cta:{$set:Ge.retryBtn}}}),N()(e,We);case t.ATTACHMENT_UPLOAD_REQUEST:var qe,$e,ze,Ye=Mr(n.payload);return(null===(qe=n.payload)||void 0===qe?void 0:qe.messageType)!==vr.RESP_TEXT_MSG_WITH_FILE_INPUT&&(null===($e=n.payload)||void 0===$e?void 0:$e.messageType)!==vr.SCREENSHOT_SENT||(r=Ur(e.messageList,null===(ze=n.payload)||void 0===ze?void 0:ze.referringMessageId))>-1&&(Ye.messageList=ur({},r,{responseReceived:{$set:!0}})),N()(e,Ye);case t.ATTACHMENT_UPLOAD_END:var Xe,Ke=Mr(n.payload);if(null==n||null===(Xe=n.payload)||void 0===Xe?void 0:Xe.useNativePickerForIosAttachments){var Qe,Je=((null===(Qe=e.nativeFilesRequestContext)||void 0===Qe?void 0:Qe.filesProcessed)||0)+1;Ke.nativeFilesRequestContext={filesProcessed:{$set:Je}}}return N()(e,Ke);case t.UPDATE_CSAT_RATING:return N()(e,{rating:{$set:n.rating},csatSurveyEventIsTriggered:{$set:n.csatSurveyEventIsTriggered}});case t.UPDATE_CSAT_REVIEW:return N()(e,{review:{$set:n.review}});case t.SET_CSAT_SAVE_IN_PROGRESS:return N()(e,{csatSaveInProgress:{$set:n.progress}});case t.RESET_CSAT:return N()(e,{legacyCsatIsVisible:{$set:!1},rating:{$set:0},review:{$set:""},csatSurveyEventIsTriggered:{$set:!1}});case t.TOGGLE_EMOJI_WIDGET_STATE:return N()(e,{emojiWidgetIsOpened:{$set:!e.emojiWidgetIsOpened}});case t.SELECT_EMOJI:return N()(e,{userInput:{value:{$set:n.payload.value},emojiWidgetIsOpened:{$set:!e.emojiWidgetIsOpened}}});case t.ENQUEUE_POLLER_DEPENDENT_ANALYTIC_EVENTS:return N()(e,{analyticsEventsQueue:{$push:[n.payload.event]}});case t.ANALYTIC_EVENTS_QUEUE_CLEARED:return N()(e,{analyticsEventsQueue:{$set:[]}});case t.STAR_RATING_UPDATE_WHEN_CONTEXT_IS_FEEDBACK_BOTS:return N()(e,{userInput:{selectedOption:{$set:e.userInput.ratings[n.payload.value-1]}},rating:{$set:n.payload.value},csatSurveyEventIsTriggered:{$set:!0}});case t.USER_INTERRUPT_FEEDBACK_BOT:var Ze=y(Rr(),{newConversationStarted:!0});return N()(e,{userInput:{$merge:Ze},userReplyXhrInProgress:{$set:!1},botState:{botStepInProgress:{$set:!1},botStepMessage:{$set:null}}});case t.CSAT_SUBMIT_SUCCESS_WHEN_FEEDBACK_BOTS:var et=n.payload.issueState===fr.CLOSED?Er.START_NEW_CONVERSATION:Er.NONE;return N()(e,{activeFooter:{$set:et},userInput:{$set:Rr()},rating:{$set:0}});case t.CHAT_END:return N()(e,{activeFooter:{$set:Er.START_NEW_CONVERSATION}});case t.GET_CONVERSATION_HISTORY_SUCCESS:var tt=n.payload,nt=tt.updateIsForActiveIssue,rt=tt.requiredMessagesHaveLoaded;return nt?N()(e,{requiredMessagesHaveLoaded:{$set:rt},agentFollowup:bt(n.payload)}):N()(e,{requiredMessagesHaveLoaded:{$set:rt}});case t.EMPTY_FAST_POLLING_LIMIT_REACHED:return e.pollingStrategy!==hr.AGGRESSIVE?N()(e,{pollingStrategy:{$set:hr.AGGRESSIVE},pollingInterval:{$set:gr}}):e;case t.FAST_POLLER_FAILURE_LIMIT_REACHED:return e.PollingStrategy!==hr.AGGRESSIVE?N()(e,{pollingStrategy:{$set:hr.AGGRESSIVE},pollingInterval:{$set:gr}}):e;case t.ALL_PREVIOUS_ISSUES_ARE_FULL_PRIVACY:return N()(e,{firstPollerCallHasSucceeded:{$set:!0}});case t.FOUND_LATEST_BOT_ATTACHMENT_MESSAGE:return N()(e,{latestBotAttachmentMessageId:{$set:n.payload.id}});case t.ATTACHMENT_UPLOAD_IN_PROGRESS:return N()(e,{uploadProgress:ur({},n.payload.attachmentMsgId,{$set:n.payload.progress})});case t.UPLOAD_ATTACHMENT_FOR_SDKX_IOS_CLICKED:return N()(e,{nativeFilesRequestContext:{$set:n.payload}});case t.CONVERTED_BASE64_STRINGS_TO_JS_FILES:return N()(e,{filesFromNative:{$set:n.payload.files}});case t.NATIVE_FILES_ENTERED_NORMAL_ATTACHMENT_FLOW:return N()(e,{filesFromNative:{$set:[]}});case t.POLLER_REQUEST:return N()(e,{lastSignalUpdateServerTs:{$set:void 0},lastSignalUpdateClientTs:{$set:void 0},signalAppState:{$set:null}});case t.POLLER_SUCCESS:if(n.payload.pollerIsEmpty)return e;var ot,at,it=n.payload,st=it.messages,ut=it.unreadIssues,lt=void 0===ut?e.unreadIssues:ut,ct=it.unreadMessageIds,pt=void 0===ct?e.unreadMessageIds:ct,dt=it.csatIsSubmitted,ft=void 0===dt?e.csatIsSubmitted:dt,Et=it.avatarsTs,yt=it.issueCursor,mt=void 0===yt?e.issueCursor:yt,ht=it.requiredMessagesHaveLoaded,_t=void 0===ht?e.requiredMessagesHaveLoaded:ht,vt=it.initialUserMessage,At=it.msgCursor,Ct=it.cursor,Ot=it.addMessagesData,Rt=it.procssedState,wt=it.messagesAreSeen;st&&st.length&&(ot=st[(at=st.length)-1]);var Pt=new Ne({}).set({when:!mt,key:"firstPollerCallHasSucceeded",to:!0}).set({when:!mt,key:"requiredMessagesHaveLoaded",to:_t}).set({when:"boolean"==typeof ft,key:"isCsatSubmitted",to:ft}).set({when:null==st?void 0:st.length,key:"avatarLastUpdatedTs",to:sr({},e.avatarLastUpdatedTs,{},Et)}).set({when:(null==st?void 0:st.length)&&"boolean"==typeof wt&&!wt,key:"unreadIssues",to:sr({},e.unreadIssues,{},lt)}).set({when:(null==st?void 0:st.length)&&"boolean"==typeof wt&&!wt,key:"unreadMessageIds",to:ar(new Set([].concat(ar(e.unreadMessageIds),ar(pt))))}).set({when:Ct,key:"issueCursor",to:Ct}).set({key:"agentFollowup",to:bt(n.payload)}).set({when:vt,key:"userInput",to:{value:null==vt?void 0:vt.value,defaultInputValue:Lr(e)?null==vt?void 0:vt.value:e.userInput.defaultInputValue,errorMsg:""}}).set({when:ot&&ot.type===vr.BOT_START,key:"userInput.disabled",to:!0}).set({when:ot&&ot.type===vr.BOT_START,key:"systemTyping",to:!0}).set({when:Rt!==fr.ACTIVE,key:"agentTyping",to:!1}),Nt=function(e){var t=null==e?void 0:e.backward,n=null==e?void 0:e.forward,r={};return t&&(r[mr.BACKWARD]=Pr(t)),n&&(r[mr.FORWARD]=Pr(n)),r}(At);Object.keys(Nt).length&&(Pt.messageCursor=Nt);for(var Ft=!1,Lt=at-1;Lt>=0;Lt--){var kt=st[Lt],Mt=kt.id,Dt=kt.type,Ut=kt.isSystemMsg,xt=kt.input;if(!Ut&&Tn.isBotMessage(kt)){var Ht=!Tn.isMessageTypeSupported(Dt)||Tn.isBotStepMessage(Dt);if(Pt.set({key:"botState.botStepInProgress",to:Ht}).set({key:"botState.botStepMessage",to:Tn.getProcessedMessage({message:kt})}),Dt!==vr.TEXT_MESSAGE_WITH_FILE_INPUT||Ft||(Pt.set({key:"latestBotAttachmentMessageId",to:Mt}),Ft=!0),xt){var jt=or.getProcessedUserInput(kt),Vt=y(Rr(),jt);if(Vt.defaultInputValue=e.userInput.defaultInputValue,Vt.disabled=!1,jt.type===yr.DATE&&Tr){var Bt=new Date;Vt.value=Bt.toISOString().slice(0,10)}var Gt=jt.type===yr.CSAT?Er.FEEDBACK_BOT_CSAT:Er.REPLY;Pt.set({key:"userInput",to:Vt}).set({key:"activeFooter",to:Gt}).set({key:"systemTyping",to:!1})}break}}if(Ot){var Wt=Ot.messages,qt=Ot.fastPollingIsEnabled,$t=Ot.responseType,zt=Ot.localChatSeparatorMessageId,Yt=Ot.localGreetingMessageId,Xt=Ot.currentIssue,Kt=Ot.showConversationIdIsEnabled,Qt=Ot.hrShouldRender,Jt=Nr(e.messageList,Wt),Zt=wr(e.messageList,Wt),en=Jt.concat(Zt),tn=Fr(en);if(Pt.set({when:$t===vr.RESP_FAQ_LIST_WITH_OPTION_INPUT,key:"readFaqList",to:[]}),qt){var nn=gt(en)?hr.V_AGGRESSIVE:hr.AGGRESSIVE;Pt.set({key:"pollingStrategy",to:nn}).set({key:"pollingInterval",to:St(nn)})}if(Pt.set({when:!!zt,key:"localChatSeparatorMessageId",to:zt}),Yt){var rn=Ur(tn,Yt);rn>-1&&(tn.splice(rn,1),Pt.conversationIsLocal={$set:!1})}if(zt&&Or(mt)){var on=Ur(tn,zt);on>-1&&(tn.splice(on,1),Pt.conversationIsLocal={$set:!1})}if(zt&&(r=ae(e.messageList,zt,"id"))>=0){var an=or.getIssueChatSeparator(pr(Xt),Kt,Qt);tn.splice(r,1,an)}Pt.messageList={$set:tn}}return Pt.lastSignalUpdateServerTs={$set:void 0},Pt.lastSignalUpdateClientTs={$set:void 0},Pt.signalAppState={$set:null},N()(e,Pt);case t.CONVERSATION_UPDATE_SIGNAL_RECEIVED:var sn=n.payload,un=sn.event,ln=sn.signalAppState,cn=un.message.meta.server_publish_ts;return N()(e,{lastSignalUpdateServerTs:{$set:cn},lastSignalUpdateClientTs:{$set:Date.now()},signalAppState:{$set:ln}});case t.AGENT_FOLLOW_UP_ACCEPT_SUCCESS:var pn=n.payload.messageToAdd,dn=pn.id,fn=ur({},pn.publishId,pn.issueType),En={activeFooter:{$set:Er.REPLY},messageList:{$push:[n.payload.messageToAdd]},agentFollowup:{requested:{$set:!1}},unreadMessageIds:{$push:[dn]},unreadIssues:{$set:sr({},e.unreadIssues,{},fn)},legacyResolutionQuestionIsVisible:{$set:!1},legacyCsatIsVisible:{$set:!1}};return n.payload.feedbackBotIsEnabled?N()(e,sr({},En,{userInput:{$set:Rr()},systemTyping:{$set:!1},userReplyXhrInProgress:{$set:!1},botState:{botStepInProgress:{$set:!1},botStepMessage:{$set:null}}})):N()(e,En);case t.AGENT_FOLLOW_UP_REQUESTED:return N()(e,{agentFollowup:{requested:{$set:!0}}});case t.AGENT_FOLLOW_UP_REJECT_SUCCESS:return N()(e,{pollerFailureCount:{$set:0},isCsatSubmitted:{$set:!1},rating:{$set:0},review:{$set:""},csatSaveInProgress:{$set:!1},agentFollowup:{requested:{$set:!1}}});case t.APP_REVIEW_REQUEST_CLICKED_SUCCESS:return(r=Ur(e.messageList,n.payload.refers))>-1?N()(e,{messageList:ur({},r,{responseReceived:{$set:!0}})}):e;case t.SET_CLIENT_CONFIG:var yn=n.config.conversationPrefillText;return N()(e,{conversationPrefillText:{$set:Tt(yn)?It(yn):""}});case t.SET_LEGACY_RESOLUTION_QUESTION_VISIBILITY:return N()(e,{legacyResolutionQuestionIsVisible:{$set:n.payload.visibility}});case t.SET_LEGACY_CSAT_VISIBILITY:return N()(e,{legacyCsatIsVisible:{$set:n.payload.visibility}});case t.ATTACHMENT_RECEIVED_FROM_NATIVE_LAYER:var mn=n.payload,hn=mn.remainingCount,gn=mn.filesToProcess;return N()(e,{nativeFilesRequestContext:{remainingCount:{$set:hn},filesToProcess:{$set:gn},largeAttachmentNames:{$set:[]}}});case t.NATIVE_FILES_BATCH_PROCESSED:return N()(e,{nativeFilesRequestContext:{filesToProcess:{$set:0},filesProcessed:{$set:0}}});case t.LARGE_ATTACHMENTS_RECEIVED_FROM_IOS:return N()(e,{nativeFilesRequestContext:{largeAttachmentNames:{$set:n.payload.largeAttachmentNames}}});default:return e}},faqView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case t.RESET:return xr;case t.SET_ACTIVE_FAQ:return N()(e,{activeFaq:{$set:n.faq}});case t.TOGGLE_FAQ_LOADING:return N()(e,{loading:{$set:n.loading}});case t.SET_FAQ_ERROR_MESSAGE:return N()(e,{errorMsg:{$set:n.errorMsg}});default:return e}},businessHoursViewState:function(){var e,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vo,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case t.FETCH_CONFIG_SUCCESS:var i=a.config,s=i.business_hours_enabled,u={businessHoursEnabled:{$set:s},inBusinessHours:{$set:i.in_business_hours}};if(s){var l=a.config.business_hours,c=l.offline_behavior,p=l.cf_fields,d=l.attachments_enabled;u.offlineBehaviour={$set:c},u.contactFormDetails={name:{enabled:{$set:p.name}},email:{enabled:{$set:p.email}},message:{enabled:{$set:p.message}},attachmentsMeta:{featureIsEnabled:{$set:d}}}}return N()(o,u);case t.SET_BUSINESS_HOURS_CONTACT_FORM_DETAILS:var f={};return a.hasOwnProperty("value")&&(f.value={$set:a.value}),a.hasOwnProperty("errorMsg")&&(f.errorMsg={$set:a.errorMsg}),N()(o,{contactFormDetails:Fo({},a.field,{value:f})});case t.ENABLE_BUSINESS_HOURS_CONTACT_FORM:return N()(o,{submitInProgress:{$set:!1},contactFormDisabled:{$set:!1}});case t.DISABLE_BUSINESS_HOURS_CONTACT_FORM:return N()(o,{submitInProgress:{$set:!0},contactFormDisabled:{$set:!0}});case t.BUSINESS_HOURS_FORM_SUBMIT_SUCCESS:return N()(o,{contactFormSubmitted:{$set:!0}});case t.ADD_BUSINESS_HOURS_ATTACHMENTS:var E=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r],a=At(),i=yo(o.type,t);n.push({id:a,name:o.name,size:o.size,file:o,attachmentHasError:!i,status:i?null:jo.UNSUPPORTED_MEDIA_TYPE})}return n}(a.files,a.attachmentsWhitelist);r=E.some((function(e){return e.attachmentHasError})),e=!fo(o.contactFormDetails.attachments.length,E.length,xo.ADD);var y=E.concat(o.contactFormDetails.attachments);return n=!Bo(y),N()(o,{contactFormDisabled:{$set:e||n||r},contactFormDetails:{attachments:{$push:E},attachmentsMeta:{limitHasExceeded:{$set:e},sizeHasExceeded:{$set:n}}}});case t.REMOVE_BUSINESS_e){return e.id!==t}))}(o.contactFormDetails.attachments,a.attachmentId);return e=!fo(o.contactFormDetails.attachments.length,Ho,xo.REMOVE),n=!Bo(m),r=m.some((function(e){return e.attachmentHasError})),N()(o,{contactFormDisabled:{$set:e||n||r},contactFormDetails:{attachments:{$set:m},attachmentsMeta:{limitHasExceeded:{$set:e},sizeHasExceeded:{$set:n}}}});case t.SET_BUSINESS_HOURS_ATTACHMENT_ERROR:return N()(o,{contactFormDetails:{attachments:Fo({},a.attachmentIndex,{attachmentHasError:{$set:!0},$merge:{status:a.status}})}});case t.OOBH_FORM_SUBMIT_FAILURE:return N()(o,{createIssueXhrFailed:{$set:!0}});case t.RESET:return Vo;default:return o}},errors:Yo,debug:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qo,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case t.LOG_CLIENT_DEBUG_MESSAGE:return Object.keys(n.payload).length?N()(e,{$set:{logsQueue:[].concat(Xo(e.logsQueue),[n.payload])}}):e;case t.SET_CLIENT_CONFIG:return N()(e,{$set:{logsQueue:[]}});default:return e}}}),function e(n,r){return r.type===t.BATCH_ACTIONS?r.actions.reduce(e,n):Ko(n,r)});function ea(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var ta=ea();ta.withExtraArgument=ea;var na=ta;function ra(e,t,n){var r,o,a,i=nuly(r,o)(i=setTimeout(u,c)),a}}var oa=function(){var e;try{e=!!window.localStorage,window.localStorage.setItem("dummy-data","dummy-value"),window.localStorage.getItem("dummy-data")&&window.localStorage.removeItem("dummy-data")}catch(t){e=!1}return e},aa="_expiry",ia=oa()?window.localStora,t){thiseturn this.elete this.storage[e]}},sa=function(e){ia.removeItem(e),ia.removeItem(e+aa)},ua=function(e){var t=!1;if(e&&e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}return t},la=function(e){for(var t=ia.length-1;t>=0;--t)e(ia.key(t))},ca=function(e){la((function(t){t.slice(-7)===aa&&e(t)}))},pa={setItem:function(e,t,n,r){(E(t)||Array.isArray(t))&&(t=JSON.stringify(t));try{var o;if(ia.setItem(e,t),n)"number"==typeof n?(o=new Date).setDate(o.getDate()+n):o=n,ia.setItem(e+aa,o.getTime())}catch(e){ua(e)&&"function"==typeof r&&r()}},getItem:function(e,t){var n=ia.getItem(e);if(null===n||!t)return n;try{return JSON.parse(n)}catch(e){return null}},removeItem:sa,removeExpiredItems:function(){ca((function(e){Date.now()>1*ia.getItem(e)&&sa(e.slice(0,-7))}))},forEachKey:la,isLocalStorageSupported:oa},da={},fa=function(e,t){var n,r,o=da[e];if(o)for(r=o.length,n=0;n<r;n++)if(o[n].token===t)return o.splice(n,1),0===o.length&&delete da[e],!0;return!1},Ea=function(e,t,n){da[e]||(da[e]=[]);var r=Date.now();return da[e].push({token:r,handler:t.bind(n)}),{token:r,detach:function(){fa(e,r)}}},ya=function(e,t){var n=da[e];return!(!n||!{e.handler(t,e.token)})),!0)};function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ha={USER_ID:"ui",DEVICE_ID:"di",ANALYTICS_SESSION_ID:"asi",ANON_USER_ID:"aui",LAST_ACTIVITY_TIME:"lat",SUGGESTED_FAQ_READ_TRACKED:"sfrt",READ_FAQ_LIST:"rfl",LS_MIGRATED:"lm",RE_ENGAGEMENT_REDIRECTED:"redirected",RE_ENGAGEMENT_DATA:"red",RE_ENGAGEMENT_ID:"rid",WIDGET_SHOULD_AUTO_OPEN:"wsao",PFI_VALUE:"pfi",CONFIG:"config",RESPECT_PFI:"rf",WS_CONFIG:"wsc",RELEASE_TAG:"rt",USER_FREQUENTLY_USED_EMOJIS:"USER_FREQUENTLY_USED_EMOJIS",MIGRATION_STATUS:"ms"},ga=["USER_ID","ANON_USER_ID","DEVICE_ID","ANALYTICS_SESSION_ID","WS_CONFIG","CONFIG","PFI_VALUE","RELEASE_TAG"],_a={SET:"se!(-1!==ga.indexOf(e))},va=function(e){var t=new URL("https://webchat.helpshift.com/latest");return window.origin!==t.origin?e:"".concat(e,":").concat(window.clientConfig.truncatedPlatformId)},ba=ha,Ta=_a,Ia=function(e,t,n){e&&(pa.setItem(va(e),t,null,n),ya("LS_UPDATE",{type:_a.SET,data:ma({},e,t)}))},Aa=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return pa.getItem(va(e),t)},Ca=function(e){e&&(pa.removeItem(va(e)),ya("LS_UPDATE",{type:_a.REMOVE,data:{data:[e]}}))},Oa=function(){var e=[];h(ha,(function(t){Sa(t)&&(e.push(ha[t]),pa.removeItem(ha[t]))})),ya("LS_UPDATE",{type:_a.REMOVE,data:{data:e}})},Ra={SUCCESS:"Local storage migration success",ALREADY_MIGRATED:"Local storage already migrated",NOT_NEEDED:"New user! Local storage migration not needed!",SUBSEQUENT_LOAD_FOR_NEW_USER:"Subsequent load for new user! Local storage migration not needed!"};function wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var PVITY_TIME,Date.now())}),2e4,{leading:!0}),La=function(e){Ca(Na.CONFIG),Ia(Na.CONFIG,wa({},e.uniqueUserIdentifier,{config:e.config,lastConfigFetchTs:e.currentTime,issueExistsDataIsStaleInLocalStorage:!1,currentHelpshiftConfigWhichTriggerConfigRefetch:e.currentHelpshiftConfigWhichTriggerConfigRefetch}))},ka=function(e,n){var r=e.getState();switch(n.type){case t.SET_CLIENT_CONFIG:Ia(Na.USER_ID,n.config.userId);break;case t.USER_REPLY_SUCCESS:var o=n.messages.some((function(e){return e.isCustomerMsg})),a=r.appState.conversationStarted;o&&a&&Fa(),n.messageType===Pa.RESP_FAQ_LIST_WITH_OPTION_INPUT&&Ia(Na.READ_FAQ_LIST,r.chatView.readFaqList);break;case t.CREATE_PREISSUE_SUCCESS:Fa();var i=n.userIdentifier,s=n.issueExists;if(!s){var u=Aa(Na.CONFIG,!0);u&&u[i]&&(u[i].issueExistsDataIsStaleInLocalStorage=!s,Ia(Na.CONFIG,u))}break;case t.SET_SUGGESTED_FAQ_READ_TRACKED:Ia(Na.SUGGESTED_FAQ_READ_TRACKED,n.isTracked);break;case t.UPDATE_READ_FAQ_LIST:Ia(Na.READ_FAQ_LIST,r.chatView.readFaqList);break;case t.SET_DEVICE_ID:Aa(Na.DEVICE_ID)||Ia(Na.DEVICE_ID,n.id);break;case t.SET_ANALYTICS_SESSION_ID:Ia(Na.ANALYTICS_SESSION_ID,n.id);break;case t.SET_RE_ENGAGEMENT_ID:Ia(Na.RE_ENGAGEMENT_ID,n.id);break;case t.USER_REPLY_REQUEST:n.reEngagementId&&Ca(Na.RE_ENGAGEMENT_ID);break;case t.SET_WIDGET_SHOULD_AUTO_OPEN:Ia(Na.WIDGET_SHOULD_AUTO_OPEN,n.widgetShouldAutoOpen);break;case t.SET_LITE_SDK_RELATED_CONFIG:var l=n.payload.liteSdkConfig.localStorageData;h(l,(function(e){Ia(e,l[e])}));break;case t.FETCH_CONFIG_SUCCESS:if(n.updateLs){var c=function(e){var t=Aa(Na.CONFIG,!0);return t?t[e.uniqueUserIdentifier]={config:e.config,lastConfigFetchTs:e.currentTime,issueExistsDataIsStaleInLocalStorage:!1,currentHelpshiftConfigWhichTriggerConfigRefetch:e.currentHelpshiftConfigWhichTriggerConfigRefetch}:t=wa({},e.uniqueUserIdentifier,{config:e.config,lastConfigFetchTs:e.currentTime,issueExistsDataIsStaleInLocalStorage:!1,currentHelpshiftConfigWhichTriggerConfigRefetch:e.currentHelpshiftConfigWhichTriggerConfigRefetch}),t}(n),p=La.bind(null,n);n.config.config_fetch_interval?Ia(Na.PFI_VALUE,n.config.config_fetch_interval):Ia(Na.PFI_VALUE,0),Ia(Na.CONFIG,c,p)}break;case t.WS_CONFIG_SUCCESS:Ia(Na.WS_CONFIG,btoa(JSON.stringify(n.payload)));break;case t.NEW_CONVERSATION_STARTED:Ia(Na.SUGGESTED_FAQ_READ_TRACKED,!1)}},Ma=function(e,t,n){var r="";return t||(r="[At ".concat(Date.now(),"] ")),n&&(r+="[".concat(n,"] ")),r+="".concat(e)},Da=function(e){var t=e.level,n=e.message,r=e.contextIsSdkx,o=e.eventType,a=Ma(n,r,o);console[t](a)};function Ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ha=function(e){var t=e.type,n=e.data,r=e.parentPageOrigin;window.parent.postMessage(JSON.stringify({type:t,data:n}),r)},ja="sdk-js-loaded",Va="sdk-config-loaded",Ba="sdk-config-failed",Ga="sdk-toggle-messenger",Wa="sdk-reset",qa="sdk-update-unread-count",$a="sdk-event-conversation-start",za="sdk-event-conversation-end",Ya="sdk-event-conversation-reopened",Xa="sdk-event-conversation-resolved",Ka="sdk-event-conversation-rejected",Qa="sdk-event-message-add",Ja="sdk-event-csat-submit",Za="sdk-event-conversation-status",ei="sdk-user-changed-via-re-engagement",ti="sdk-focus-launcher",ni="sdk-event-set-local-storage-data",ri="sdk-event-send-generic-sdk-data",oi="sdk-event-send-polling-status",ai="sdk-event-send-faq-view-status",ii="sdk-event-remove-local-storage-data",si="sdk-event-ui-config-change",ui="sdk-event-push-token-sync",li="sdk-event-user-auth-failure",ci="sdk-event-remove-anonymous-user",pi="sdk-event-send-issue-exists-flag",di="sdk-event-request-conversation-metadata",fi="sdk-event-sdkx-migration-log-synced",Ei="sdk-event-upload-attachment-clicked",yi="sdk-event-local-storage-migration-success",mi="sdk-event-override-helpshift-config-for-subsequent-proactive-issues",hi="sdk-event-delete-outbound-support-meta",gi="sdk-event-input-focus-change",_i="sdk-event-upload-attachment-done",Si="sdk-event-user-click-on-action",vi="sdk-event-agent-message-received",bi="cmd-messenger-toggled",Ti="cmd-set-config",Ii="cmd-set-initial-user-message",Ai="cmd-set-greeting-message",Ci="cmd-set-language",Oi="cmd-set-cif",Ri="cmd-set-metadata",wi="cmd-replace-cif",Pi="cmd-set-full-privacy",Ni="cmd-update-helpshift-config",Fi="cmd-set-parent-page-visibility",Li="cmd-set-disable-pfi",ki="cmd-set-enable-pfi",Mi="cmd-toggle-poller-status",Di="cmd-toggle-author-presence-status",Ui="cmd-back-btn-press",xi="cmd-sync-conv-metadata",Hi="cmd-send-sdkx-migration-log",ji="cmd-update-release-tag-and-track-load-time",Vi="cmd-attachment-uploaded",Bi="cmd-keyboard-toggle",Gi="cmd-orientation-change",Wi="cmd-network-status-change",qi="cmd-set-migrated-local-storage-data",$i="cmd-update-client-config-without-reload",zi="cmd-native-error",Yi="internal-duplex-call",Xi="internal-duplex-return";function Ki(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}window.encodeURIComponent;var Qi,Ji,Zi,es=function(e){return window.URLSearchParams?new URLSearchParams(e.search):function(e){var t={};return e.split("?")[1].split("&").forEach((function(e){var n=Ki(e.split("="),2),r=n[0],o=n[1];t[decodeURIComponent(r)]=void 0===o||decodeURIComponent(o)})),{get:function(e){return t[e]}}}(e.search)},ts=nt.DEVELOPER_FACING_MESSAGE_TYPES,ns=nt.TYPE,rs=function(e){var t=es(window.document.location);return t.get("parent")?t.get("parent"):e().appState.parentPageInfo.origin};function os(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var as,is="android",ss="ios",us=(os(Qi={},is,{version:"10.1.0",support:">="}),os(Qi,ss,{version:"10.1.0",support:">="}),Qi),ls=(os(Ji={},is,{version:"10.2.0",support:">="}),os(Ji,ss,{version:"10.2.0",support:">="}),Ji),cs=(os(Zi={},is,{version:"10.3.0",support:">="}),os(Zi,ss,{version:"10.0.0",support:">="}),Zi),ps=function(e){return function(t,n){Ha({type:Ga,data:{minimized:e},parentPageOrigin:rs(n)})}},ds=function(){return function(e,t){Ha({type:Wa,parentPageOrigin:rs(t)})}},fs=function(e){return function(t,n){Ha({type:qa,data:{count:e},parentPageOrigin:rs(n)})}},Es=function(e,t){return function(n,r){Ha({type:Va,data:{wmConfig:e,issueExists:t},parentPageOrigin:rs(r)})}},ys=function(e){return function(t,n){Ha({type:Ba,data:e,parentPageOrigin:rs(n)})}},ms=function(){return function(e,t){Ha({type:ja,parentPageOrigin:rs(t)})}},hs=function(e){return function(t,n){Ha({type:$a,data:{message:e},parentPageOrigin:rs(n)})}},gs=function(){return function(e,t){Ha({type:za,parentPageOrigin:rs(t)})}},_s=function(){return function(e,t){Ha({type:Ya,parentPageOrigin:rs(t)})}},Ss=function(){return function(e,t){Ha({type:Xa,parentPageOrigin:rs(t)})}},vs=function(){return function(e,t){Ha({type:Ka,parentPageOrigin:rs(t)})}},bs=function(e){return function(t,n){Ha({type:ei,data:{userInfo:e},parentPageOrigin:rs(n)})}},Ts=function(e,t){return function(n,r){Ha({type:Qa,data:{type:e,body:t},parentPageOrigin:rs(r)})}},Is=function(e){return function(t,n){Ha({type:Ja,data:e,parentPageOrigin:rs(n)})}},As=function(e){return function(t,n){Ha({type:Za,data:e,parentPageOrigin:rs(n)})}},Cs=function(){return function(e,t){Ha({type:ti,parentPageOrigin:rs(t)})}},Os=function(e){return function(t,n){Ha({type:ni,data:e,parentPageOrigin:rs(n)})}},Rs=function(e){return function(t,n){Ha({type:ii,data:e,parentPageOrigin:rs(n)})}},ws=function(e){return function(t,n){Ha({type:si,data:e,parentPageOrigin:rs(n)})}},Ps=function(e){return function(t,n){Ha({type:ui,data:e,parentPageOrigin:rs(n)})}},Ns=function(e){return function(t,n){Ha({type:li,data:e,parentPageOrigin:rs(n)})}},Fs=function(){return function(e,t){Ha({type:ci,parentPageOrigin:rs(t)})}},Ls=function(e){return function(t,n){Ha({type:ri,data:e,parentPageOrigin:rs(n)})}},ks=function(e){return function(t,n){Ha({type:oi,data:e,parentPageOrigin:rs(n)})}},Ms=function(e){return function(t,n){Ha({type:ai,data:e,parentPageOrigin:rs(n)})}},Ds=function(e){return function(t,n){Ha({type:pi,data:e,parentPageOrigin:rs(n)})}},Us=function(e){return function(t,n){var r={bclConfig:e.maxBreadcrumbs,dbglConfig:e.maxDebugLogs};Ha({type:di,data:r,parentPageOrigin:rs(n)})}},xs=function(e){return function(t,n){Ha({type:fi,data:e,parentPageOrigin:rs(n)})}},Hs=function(e){return function(t,n){Ha({type:Ei,data:e,parentPageOrigin:rs(n)})}},js=function(){return function(e,t){Ha({type:yi,parentPageOrigin:rs(t)})}},Vs=function(e){return function(t,n){Ha({type:mi,data:e,parentPageOrigin:rs(n)})}},Bs=function(){return function(e,t){Ha({type:hi,parentPageOrigin:rs(t)})}},Gs=function(e){return function(t,n){Ha({type:gi,data:{inputIsFocused:e},parentPageOrigin:rs(n)})}},Ws=function(e){return function(t,n){Ha({type:Xi,data:e,parentPageOrigin:rs(n)})}entPageOrigin:rs(t)})}},$s=function(e,t){return function(n,r){Ha({type:Si,data:{actionType:e,actionData:t},parentPageOrigin:rs(r)})}},zs=function(e){return function(t,n){var r=n().appState.liteSdkConfig,o=!(null==r?void 0:r.os);(t(De(cs))||o)&&Ha({type:vi,data:e,parentPageOrigin:rs(n)})}},Ys=te,Xs=function(){return{type:t.DISABLE_REPLY_BOX}},Ks=function(){return{type:t.ENABLE_REPLY_BOX}},Qs=function(){return{type:t.CREATE_PREISSUE_REQUEST}},Js=function(e){var n=e.activeIssueId,r=e.internalIssueId,o=e.issueType,a=e.userIdentifier,i=e.issueExists,s=e.hsSessionId;return{type:t.CREATE_PREISSUE_SUCCESS,activeIssueId:n,internalIssueId:r,issueType:o,userIdentifier:a,issueExists:i,hsSessionId:s}},Zs=function(e){var n=e.error;return{type:t.CREATE_PREISSUE_FAILURE,error:n}},eu=function(){return{type:t.CLEAR_CHAT_VIEW_ERRORS}},tu=function(e){var n=e.issueType,r=e.botStepInProgress,o=e.reEngagementId,a=e.renderSystemTyping,i=e.fastPollingIsEnabled,s=e.msgType;return{type:t.USER_REPLY_REQUEST,issueType:n,botStepInProgress:r,reEngagementId:o,renderSystemTyping:a,fastPollingIsEnabled:i,msgType:s}},nu=function(e){var n=e.issueType,r=e.botStepInProgress,o=e.messages,a=e.messageType,i=e.persistInputValue;return{type:t.USER_REPLY_SUCCESS,issueType:n,botStepInProgress:r,messages:o,messageType:a,persistInputValue:i}},ru=function(){return{type:t.USER_REPLY_FAILURE}},ou=function(e){var n=e.nextMessageIsBotStep,r=e.issueIsResolved;return{type:t.BOT_END,nextMessageIsBotStep:n,issueIsResolved:r}},au=function(e){var n=e.issueType,r=e.issueIsActive;return{type:t.BOT_MESSAGE_WITH_NO_USER_INPUT,issueType:n,issueIsActive:r}},iu=function(e){return{type:t.PAGE_VISIBILITY_CHANGE,data:e}},su=function(e){var n=e.pollingStrategy,r=e.pollingInterval;return{type:t.UPDATE_POLLING_DATA,pollingStrategy:n,pollingInterval:r}},uu=function(){return{type:t.EMPTY_FAST_POLLING_LIMIT_REACHED}},lu=function(){return{type:t.FAST_POLLER_FAIL));{return e>=200&&e<300},du=function(e,t){return e.shouldRetryHappen(t)&&e.autoRetryCounter<e.maxRetryCount},fu=function(e,t){setTimeout(Eu.bind(undefined,Object.assign({},e),Object.assign({},t,{autoRetryCounter:t.autoRetryCounter+1,autoRetryXhrTimeout:t.autoRetryXhrTimeout*t.timeoutMultiplier})),t.autoRetryXhrTimeout)},Eu=function(e,t){var n,r=new XMLHttpRequest,o=e.route;e.method=e.method||"GET",e.parse="boolean"!=typeof e.parse||e.parse,"GET"===e.method&&e.data&&(o+="?"+cu(e.data)),r.open(e.method,o,!0),"POST"!==e.method&&"PUT"!==e.method||(e.data=e.data||{},n=cu(e.data),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"));var a=e.headers;if(a)for(var i in a)a.hasOwnProperty(i)&&r.setRequestHeader(i,a[i]);return r.onreadystatechange=function(){var n;4===r.readyState&&(pu(r.status)&&e.onSuccess?(n=e.parse&&r.responseText?JSON.parse(r.responseText):r.responseText,e.onSuccess.call(e.context||null,n,r,r.status)):pu(r.status)||(0===r.status?e.onAbort&&e.onAbort.call(e.context||null,r,r.status):e.onFailure?e.autoRetry&&du(t,r.status)?fu(e,t):e.onFailure.call(e.context||null,r,r.status):e.autoRetry&&du(t,r.status)&&fu(e,t)),e.onEnd&&e.onEnd.call(e.context,r.responseText))},r.send(n),r},yu=function(e){var t,n,r,o,a,i,s,u,l={};e.autoRetry&&(l.autoRetryCounter=0,l.autoRetryXhrTimeout=null!==(t=null==e||null===(n=e.retryConfig)||void 0===n?void 0:n.autoRetryXhrTimeout)&&void 0!==t?t:3e3,l.shouldRetryHappen=null!==(r=null==e||null===(o=e.retryConfig)||void 0===o?void 0:o.shouldRetryHappen)&&void 0!==r?r:function(e){return e/100==5},l.maxRetryCount=null!==(a=null==e||null===(i=e.retryConfig)||void 0===i?void 0:i.maxRetryCount)&&void 0!==a?a:5,l.timeoutMultiplier=null!==(s=null==e||null===(u=e.retryConfig)||void 0===u?void 0:u.timeoutMultiplier)&&void 0!==s?s:2);return Eu(e,l)},mu="https://api.helpshift.com",hu="".cow.clientConfig.domain},_u=function(e){return"".concat(hu).concat(gu(e),"/config")},Su=function(e,t){return"".concat(hu).concat(gu(e),"/faqs/").concat(t)},vu=function(e){return"".concat(hu).concat(gu(e),"/preissues")},bu=function(e,t){return"".concat(hu).concat(gu(e),"/issues/").concat(t,"/csat")},Tu=function(e,t,n){return"".concat(hu).concat(gu(e),"/").concat(n,"/").concat(t,"/messages")},Iu=function(e){return"".concat(hu).concat(gu(e),"/ws-config")},Au=function(e){var t=e.domain,n=e.platformId,r=e.endpoint,o=e.token,a=e.hsSessionId,i="".concat(r,"/subscribe/websocket/?origin_v3=").concat(o,"&")+"platform_id=".concat(n,"&domain=").concat(gu(t));return a&&(i=i.concat("&hs_session_id=".concat(a))),i},Cu=function(e){return"".concat(mu,"/events/v1/").concat(gu(e),"/websdk/")},Ou=function(e,t,n){return"".concat(hu).concat(gu(e),"/").concat(n,"/").concat(t,"/messages")},Ru=function(e){return"".concat(hu).concat(gu(e),"/conversations/updates")},wu=function(e){return"".concat(hu).concat(gu(e),"/conversations/history")},Pu=function(e){return"".concat(hu).concat(gu(e),"/faqs_suggestion_read")},Nu=function(e){return"".concat(hu).concat(gu(e),"/issues")},Fu=function(e){return"".concat(hu).concat(gu(e),"/intent-trees")},Lu=function(e){return"".concat(hu).concat(gu(e),"/update-push-token")},ku=function(e){return"".concat(hu).concat(gu(e),"/conversations/notification")},Mu=function(e){return"".concat(mu,"/events/v1/").concat(gu(e),"/logs/we"/logs/websdk/error")},Uu=function(e){return{type:t.BATCH_ACTIONS,actions:e}},xu={WIDGET_LOAD:"WIDGET_LOAD",WIDGET_OPEN:"WIDGET_OPEN",SUGGESTED_FAQ_READ:"SUGGESTED_FAQ_READ",ISSUE_CREATED:"ISSUE_CREATED",CSAT:"CSAT",CSAT_REQUESTED:"CSAT_REQUESTED",CSAT_TAKING_SURVEY:"CSAT_TAKING_SURVEY",CSAT_SURVEY_SUBMITTED:"SURVEY_SUBMITTED",SMART_INTENT_SELECTION:"SMART_INTENT_SELECTION",SMART_INTENT_DESELECTION:"SMART_INTENT_DESELECTION",INTENT_TREE_SHOWN:"INTENT_TREE_SHOWN",ADD_MESSAGE:"ADD_MESSAGE",ACTION_CARD_CLICKED:"ACTION_CARD_CLICKED",TIMER_EXPIRED:"TIMER_EXPIRED",ISSUE_RESOLUTION:"ISSUE_RESOLUTION",ISSUE_RESOLUTION_ACCEPTED:"ISSUE_RESOLUTION_ACCEPTED",ISSUE_RESOLUTION_REJECTED:"ISSUE_RESOLUTION_REJECTED",HS_LINK_VIA_CHAT:"HS_LINK_VIA_CHAT",FAQ_SUGGESTION:"FAQ_SUGGESTION",INITIATE_CHAT_IS_SET:"INITIATE_CHAT_IS_SET",INITIATE_CHAT_TRIGGERED:"INITIATE_CHAT_TRIGGERED"},Hu={EVENT:xu,PAYLOAD_EVENT:{ID:"id",TIMESTAMP:"timestamp",LANGUAGE:"ln",DEV_SET_LANGUAGE:"dln",WIDGET_LOAD:"a",WIDGET_OPEN_WITH_ISSUE:"c",WIDGET_OPEN_WITHOUT_ISSUE:"i",ISSUE_CREATED:"p",SUGGESTED_FAQ_READ:"absfr",CSAT_REQUESTED:"cbr",CSAT_TAKING_SURVEY:"sr",CSAT_SURVEY_SUBMITTED:"cbc",SMART_INTENT_SELECTION:"sis",SMART_INTENT_DESELECTION:"sid",INTENT_TREE_SHOWN:"its",ADD_MESSAGE:"m",ACTION_CARD_CLICKED:"acl",TIMER_EXPIRED:"te",ISSUE_RESOLUTION_ACCEPTED:"y",ISSUE_RESOLUTION_REJECTED:"n",HS_LINK_VIA_CHAT:"ml",FAQ_SUGGESTION:"f",INITIATE_CHAT_IS_SET:"ics",INITIATE_CHAT_TRIGGERED:"ict"},TRIGGER:{API:"API"},PAYLOAD_SOURCE:{API:"js",USER:"u"},BATCH_EVENTS_TIMEOUT:3e3,EXPIRY_EVENT:{RESOLUTION_QUESTION:"reopen",CSAT_BOT:"csat"},EVENTS_DEPENDENT_ON_FIRST_POLLER_CALL:[xu.WIDGET_OPEN]};function ju(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vu="SEND",Bu="RECEIVE",Gu=(ju(as={},Vu,null),ju(as,Bu,null),as),Wu=function(e){return function(t,n){if(n().appState.featuresEnabled.audioNotifications&&Gu[e])try{Gu[e].play()}catch(e){}}},qu=function(){return function(e){e(Wu(Vu))}},$u=function(){return function(e){e(Wu(Bu))}},zu=function(){var e=G;Gu[Vu]=new Audio("/".concat(e,"/assets/audio/send.mp3")),Gu[Bu]=new Audio("/".concat(e,"/assets/audio/receive.mp3"))},Yu=qu,Xu=$u,Ku=function(e){return function(t){t(e?qu():$u())}},Qu=de,Ju=Qu.MISSING_USER_AUTH_TOKEN,Zu=Qu.INVALID_USER_AUTH_TOKEN,el=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){var r=n().appState,o=r.platformId,a=r.developerSetLanguage,i=st(),s={Accept:"application/vnd+hsapi-v2+json"};return e&&(s.authorization="Basic "+btoa(o+":")),a&&(s["Accept-Language"]="".concat(a,";q=1,").concat(i,";q=0.9")),s}},tl=function(e,t){return function(n,r){var o,a=!!t&&t.skipPlatformId,i=!!t&&t.queryStringify,s=r().appState,u=s.deviceId,l=s.userId,c=s.anonUserIdentifier,p=s.phoneNumber,d=s.userEmail,f=s.userAuthToken,m=s.platformId,h=s.fullPrivacyEnabled,g={did:u};return!l&&!d&&!p||!l&&d&&h?g.uid=c:l&&(g.uid=l),a||(g["platform-id"]=m),h?!d&&l&&f&&(g.user_auth_token=f):(d&&(g.email=d),p&&(g.phone_number=p),f&&(g.user_auth_token));return t.join("&")}(o):o}},nl=el,rl=tl,ol=function(e){return function(t){var n=e.userAuthStatus,r=e.responseText;e&&n&&(n!==Ju&&n!==Zu||t(Ns({message:r})))}},al=function(){return function(e,n){var r=n().appState,o=r.domain,a=r.liteSdkConfig,i=e(el());yu({route:Lu(o),headers:i,method:"POST",data:e(tl({token:a.pushToken})),onSuccess:function(n){e(Ps({token:n.token,route:Lu(o),method:"POST",headers:i,requestPayload:e(tl())})),e({type:t.PUSH_TOKEN_SYNC_SUCCESS,payload:!0})},autoRetry:!0})}},il=function(e){return function(t,n){var r=n().appState,o=r.platformId,a=r.domain,i=r.wsConfig,s="",u="";i.endpoint?e.onGetWsConfig({endpoint:i.endpoint,token:i.token}):yu({route:Iu(a),headers:t(el()),data:{"platform-id":o},onSuccess:function(t){u=encodeURIComponent(t.token),s=t.endpoint,e.onWsConfigFromBackend({endpoint:s,token:u}),e.onGetWsConfig({endpoint:s,token:u})}})}},sl=function(e){return{type:t.UPDATE_ACTIVE_VIEW,view:e}},ul=function(e){return{type:t.TOGGLE_AGENT_TYPING,typing:e}},ll=function(){return{type:t.RESET}},cl=function(e){return{type:t.SET_GREETING_MESSAGE,message:e}},pl=function(e){return{type:t.SET_LANGUAGE,language:e}},dl=function(e){return{type:t.SET_CIF,cif:e}},fl=function(e){return{type:t.SET_METADATA,metadata:e}},El=function(e){return{type:t.SET_SUGGESTED_FAQ_READ_TRACKED,isTracked:e}},yl=function(e){return{type:t.UPDATE_READ_FAQ_LIST,faqId:e}},ml=function(e){return{type:t.SET_RESOLUTION_QUESTION_COMPLETED,completed:e}},hl=function(){return{type:t.SET_CSAT_COMPLETED}},gl=function(e){return{type:t.SET_FULL_PRIVACY,enabled:e}},_l=function(e){return{type:t.TOGGLE_ONLINE_STATUS,online:e}},Sl=function(){return{type:t.SET_FOOTER_ACTIVE}},vl=function(){return{type:t.SET_FOOTER_INACTIVE}},bl=function(e){return{type:t.SET_APP_RESET_TRIGGER,value:e}},Tl=function(e){return{type:t.SET_INITIAL_USER_MESSAGE,message:e}},Il=function(e){return{type:t.INITIAL_USER_MESSAGE_API_TRIGGERED,message:e}},Al=function(){return{type:t.SET_CONVERSATION_ENDED}},Cl=function(e){return{type:t.SET_KEYBOARD_INTERACTION_IS_ACTIVE,active:e}},Ol=function(e){return{type:t.INTENTS_TREE_SUCCESS,response:e,fetchTime:Date.now()}},Rl=function(){return{type:t.INTENTS_TREE_REQUEST}},wl=function(e){return{type:t.INTENTS_TREE_FAILURE,fetchTime:e}},Pl=function(e){return{type:t.SMART_INTENT_SELECTION,intent:e}},Nl=function(){return{type:t.SMART_INTENT_DESELECTION}},Fl=function(){return{type:t.SET_WIDGET_SHOULD_AUTO_OPEN,widgetShouldAutoOpen:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},Ll=function(e){return{type:t.PARENT_PAGE_IS_VISIBLE,parentPageIsVisible:e}},kl=function(e){return{type:t.SET_LITE_SDK_RELATED_CONFIG,payload:e}},Ml=function(){return{type:t.DEVICE_ONLINE_SUCCESS}},Dl=function(){return{type:t.TOGGLE_EMOJI_WIDGET_STATE}},Ul=function(){return function(e,n){e({type:t.CSAT_SUBMIT_SUCCESS_WHEN_FEEDBACK_BOTS,payload:{issueState:n().appState.issueState}})}},xl=function(){return function(e){e({type:t.POLLER_STOP})}},He,signalAppState:n}})}},jl=function(){return function(e){e({type:t.POLLER_REQUEST})}},Vl=function(){return function(e){e({type:t.WS_DISCONNECTED_MAYBE})}},Bl=function(){return function(e){e({type:t.WS_OPENED})}},Gl=function(){return function(e){e({te({type:t.WS_ERROR})}};function ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zl,Yl=z,Xl=W,Kl=G,Ql=Ut,Jl=Hu.EVENT,Zl=Hu.PAYLOAD_EVENT,ec=Hu.TRIGGER,tc=Hu.PAYLOAD_SOURCE,nc=Hu.BATCH_EVENTS_TIMEOUT,rc=Hu.EVENTS_DEPENDENT_ON_FIRST_POLLER_CALL,oc=nt.FAQ_SUGGESTION_SOURCES,ac=ut(),ic=st(),sc=function(){return function(e,t){var n,r=t().appState,o=r.deviceId,a=r.developerSetLanguage,i=e(uc()),s=($l(n={},Zl.ID,o),$l(n,Zl.TIMESTAMP,Date.now()),$l(n,Zl.LANGUAGE,ic),n);return a&&(s[Zl.DEV_SET_LANGUAGE]=a),i&&(s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ql(Object(n),!0).forEach((function(t){$l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ql(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s,{},i)),e(rl(s))}},uc=function(){return function(e,t){var n=t().appState.liteSdkConfig;return!!n.os&&n.analyticsData?n.analyticsData:null}},lc=[],cc=null,pc=function(e){return function(t,n){!n().appState.liteSdkConfig.os?cc?lc.push(e):(t(dc([e])),cc=window.setTimeout((function(){lc.length&&(t(dc(lc)),lc=[]),cc=null}),nc)):t(dc([e]))}},dc=function(e){return function(t,n){var r=!!n().appState.liteSdkConfig.os,o=t(sc()),a={e:JSON.stringify(e)};r&&(a.wcv=Kl);var i=y(o,a);yu({route:zl||t((function(e,t){var n=t().appState.domain;return zl=Cu(n)})),headers:t(nl()),data:i,method:"POST"})}},fc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r=n().appState,o=r.internalIssueId,a=r.issueType,i=r.reEngagementId,s=t(en.isOutOfBusinessHours())?0:1,u={ts:e.ts,d:{acid:t((function(e,t){return t().appState.analytics.sessionId})),s:e.trigger===ec.API?tc.API:tc.USER,b:s}};i&&(u.engagement_id=i),t((function(e,t){var n=t(),r=n.businessHoursViewState,o=n.appState,a=o.issueState,i=o.issueType,s=o.internalIssueId;return e(en.isOutOfBusinessHours())?r.offlineBehaviour===Ql.CONTACT_FORM&&r.contactFormSubmitted:i===Yl.ISSUE&&a===Xl.ACTIVE&&!!s}))?(u.d.id=o,u.t=Zl.WIDGET_OPEN_WITH_ISSUE):(a===Yl.PRE_ISSUE&&(u.d.preissue_id=o),u.t=Zl.WIDGET_OPEN_WITHOUT_ISSUE),pc(u)}},Ec=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r,o){if(!ac){var a,i,s,u,l,c,p,d,f,E,y,m,h,g=o(),_=g.chatView.firstPollerCallHasSucceeded;if(!g.appState.issueExists||-1===rc.indexOf(e)||_)switch(n.ts=n.ts||Date.now(),e){case Jl.WIDGET_LOAD:r((h=n.ts,function(e){e(pc({ts:h,t:Zl.WIDGET_LOAD,d:{acid:e((function(e,t){return t().appState.analytics.sessionId}))}}))}));break;case Jl.WIDGET_OPEN:r(fc(n));break;case Jl.ISSUE_CREATED:r(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){t(pc({ts:e.ts,d:{acid:t((function(e,t){return t().appState.analytics.sessionId})),id:e.issueId},t:Zl.ISSUE_CREATED}))}}(n));break;case Jl.SUGGESTED_FAQ_READ:r(function(e){return function(t,n){var r=n(),o=r.appState,a=o.domain,i=o.internalIssueId,s=o.issueType,u={faq_id:r.faqView.activeFaq.id,message_id:e.msgId};s===Yl.ISSUE?u.issue_id=i:u.preissue_id=i,yu({route:Pu(a),headers:t(nl()),data:t(rl(u,{skipPlatformId:!0})),method:"POST",onSuccess:function(){e.faqSource===oc.CUSTOM_BOT||e.faqSource===oc.HELP_BOT?Ia(en.getCbFaqSuggestionReadLsKey(e.msgId),!0):t(El(!0))}})}}(n));break;case Jl.CSAT:r(function(e){var t=e.event,n=e.ts;return function(e,r){var o=r().appState.internalIssueId,a={ts:n,d:{acid:e((function(e,t){return t().appState.analytics.sessionId})),id:o}};switch(t){case Jl.CSAT_REQUESTED:a.t=Zl.CSAT_REQUESTED;break;case Jl.CSAT_TAKING_SURVEY:a.t=Zl.CSAT_TAKING_SURVEY;break;case Jl.CSAT_SURVEY_SUBMITTED:a.t=Zl.CSAT_SURVEY_SUBMITTED}e(pc(a))}}(n));break;case Jl.SMART_INTENT_SELECTION:r(function(e){return function(t,n){var r=e.intent,o=e.ts,a=n().chatView.intents.selectedIntentIds,i={acid:t((function(e,t){return t().appState.analytics.sessionId})),iids:a,leaf:!(r.children&&r.children.length)};t(pc({t:Zl.SMART_INTENT_SELECTION,ts:o,d:i}))}}(n));break;case Jl.SMART_INTENT_DESELECTION:r(function(e){return function(t,n){var r=n().chatView.intents.selectedIntentIds;t(pc({t:Zl.SMART_INTENT_DESELECTION,ts:e.ts,d:{acid:t((function(e,t){return t().appState.analytics.sessionId})),iids:r}}))}}(n));break;case Jl.INTENT_TREE_SHOWN:r(function(e){return function(t,n){var r=n().chatView.intents,o=r.tree,a=r.enforceIntentSelection;t(pc({t:Zl.INTENT_TREE_SHOWN,ts:e.ts,d:{acid:t((function(e,t){return t().appState.analytics.sessionId})),itid:o.id,itv:o.version,eis:a}}))}}(n));break;case Jl.ADD_MESSAGE:r((E=(f=n).id,y=f.body,m=f.type,function(e){e(pc({t:Zl.ADD_MESSAGE,ts:Date.now(),d:{acid:e((function(e,t){return t().appState.analytics.sessionId})),id:E,body:y,type:m}}))}));break;case Jl.ACTION_CARD_CLICKED:r((l=(u=n).issueId,c=u.messageId,p=u.actionId,d=u.actionType,function(e){e(pc({t:Zl.ACTION_CARD_CLICKED,ts:Date.now(),d:{issue_id:l,type:d,a:p,mid:c}}))}));break;case Jl.TIMER_EXPIRED:r(function(e){var t=e.issueId,n=e.feature;return function(e){e(pc({t:Zl.TIMER_EXPIRED,ts:Date.now(),d:{type:n,id:t}}))}}(n));break;case Jl.ISSUE_RESOLUTION:r(function(e){var t=e.issueId,n=e.event;return function(e){var r={ts:Date.now(),d:{acid:e((function(e,t){return t().appState.analytics.sessionId})),issue_id:t}};n===Jl.ISSUE_RESOLUTION_ACCEPTED?r.t=Zl.ISSUE_RESOLUTION_ACCEPTED:r.t=Zl.ISSUE_RESOLUTION_REJECTED,e(pc(r))}}(n));break;case Jl.HS_LINK_VIA_CHAT:r(function(e){var t=e.url;return function(e,n){var r=n().appState.internalIssueId;pc({t:Zl.HS_LINK_VIA_CHAT,ts:Date.now(),d:{acid:e((function(e,t){return t().appState.analytics.sessionId})),u:t,id:r,p:t.split("://")[0]}})}}(n));break;case Jl.FAQ_SUGGESTION:r((i=(a=n).faqId,s=a.faqSource,function(e){e(pc({t:Zl.FAQ_SUGGESTION,ts:Date.now(),d:{acid:e((function(e,t){return t().appState.analytics.sessionId})),id:i,src:s}}))}));break;case Jl.INITIATE_CHAT_IS_SET:r(function(e){var t=e.ts;return function(e){e(pc({t:Zl.INITIATE_CHAT_IS_SET,ts:t,d:{acid:e((function(e,t){return t().appState.analytics.sessionId}))}}))}}(n));break;case Jl.INITIATE_CHAT_TRIGGERED:r(function(e){var t=e.ts;return function(e){e(pc({t:Zl.INITIATE_CHAT_TRIGGERED,ts:t,d:{acid:e((function(e,t){return t().appState.analytics.sessionId}))}}))}}(n))}else r({type:t.ENQUEUE_POLLER_DEPENDENT_ANALYTIC_EVENTS,payload:{event:e}})}}},yc=ba,mc=function(e){return{type:t.SET_ANALYTICS_SESSION_ID,id:e}},hc=function(){return function(e){var t=Aa(yc.ANALYTICS_SESSION_ID);t||(t=At()),e(mc(t))}nction(e){e(mc(At()))}},_c=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onIntentTreeSuccess;return function(t,n){var r=n(),o=r.chatView.intents,a=o.loading,i=o.tree.lastFetchTime,s=r.appState,u=s.featuresEnabled,l=s.intentsTreeSla;u.intents&&!a&&(!function(e,t){return Date.now()-t<e}(l,i)?t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r=n().appState,o=r.domain,a=r.featuresEnabled,i=r.liteSdkConfig;a.intents&&(t(Rl()),yu({route:Fu(o),headers:t(nl()),data:t(rl()),onSuccess:function(n){t(Ol(n)),e.onSuccess&&e.onSuccess(n)},onFailure:function(){var n=i.os?Date.now():0;t(wl(n)),e.onFailure&&e.onFailure()}}))}}({onSuccess:function(){e&&e()}})):e&&e())}},Sc=n(2238),vc=n.n(Sc),bc=["console","mobile","tablet","smarttv","wearable","embedded"],Tc=function(e){var t=new(vc()),n=t.getBrowser(),r=t.getDevice(),o=t.getOS(),a={os:o.name,"os-version":o.version,browser:n.name,"browser-version":n.version,"device-model":-1!==bc.indexOf(r.type)?r.model:"Desktop","page-title":e.title,"page-url":e.url};return Object.keys(a).forEach((function(e){void 0===a[e]&&delete a[e]})),a},Ic=function(e,t){var n={"application-version":e.appVersion,"application-name":e.appName,"application-identifier":e.appIdentifier,"library-version":e.liteSdkVersion,"device-model":e.deviceModel,"battery-level":e.batteryLevel,"battery-status":e.batteryStatus,"disk-space":{"total-space-phone":e.diskSpace,"free-space-phone":e.freeSpace},"os-version":e.osVersion,"network-type":e.networkType,"language-code":e.language};return t||(n["carrier-name"]=e.carrierName,n["country-code"]=e.countryCode),O0===n[e]&&delete n[e]})),n},Ac={PRODUCTION:"production",DEVELOPMENT:"development",STAGE:"stage"},Cc={CLICK_EVENT:"click",XHR_EVENT:"xhr",UPDATE_XHR_EVENT:"update_xhr",FIRST_UPDATE_CALL:"first_update_call",WINDOW_CLIENT_CONFIG_SET:"window_client_config_set",CONFIG_RESPONSE_CHECK:"config_response_check",DEBOUNCED_CLIENT_CONFIG_UPDATE:"debounced_client_config_update"};function Oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oc(Object(n),!0).forEach((function(t){wc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pc="N/A",Nc=function(e){return e.split("\n").map((function(e){return"\t".concat(e)})).slice(0,20).join("\n")},Fc=function(e,t){return window.ENV_NAME===Ac.PRODUCTION&&(Lc(null==e?vois("/scripts/main.js")},kc=ra(yu,1e4),Mc=ra(yu,3e4),Dc=function(e){var t,n,r,o,a,i,s,u,l,c,p,d,f,E=e.error,y=e.info,m=e.getState,h=e.extraData,g=e.events,_=[null==E?void 0:E.message,null==E?void 0:E.stack,null==y?void 0:y.componentStack],S=_[0],v=_[1],b=_[2],T=m().appState,I=new(vc()),A=T.liteSdkConfig,C=T.domain,O=T.platformId,R=T.parentPageInfo,w=T.issueType,P=T.activeIssueId,N=null!==(t=null==A?void 0:A.os)&&void 0!==t?t:"web",F=G;return{error:JSON.stringify({message:S,stacktrace:v?Nc(v):void 0,component_trace:b?Nc(b):void 0,release_tag:F,client_type:N,client_version:(null==A?void 0:A.os)?null==A||null===(n=A.metaData)||void 0===n?void 0:n.liteSdkVersion:F,domain:C,network_type:null!==(r=null!==(o=null==A||null===(a=A.metaData)||void 0===a?void 0:a.networkType)&&void 0!==o?o:null===(i=navigator)||void 0===i||null===(s=i.connection)||void 0===s?void 0:s.effectiveType)&&void 0!==r?r:Pc,browser:null!==(u=null==I||null===(l=I.getBrowser())||void 0===l?void 0:l.name)&&void 0!==u?u:Pc,device:null!==(c=null==I||null===(p=I.getDevice())||void 0===p?void 0:p.model)&&void 0!==c?c:Pc,os:null!==(d=null==I||null===(f=I.getOS())||void 0===f?void 0:f.name)&&void 0!==d?d:Pc,extra:JSON.stringify(Rc({events_before_error:(null==g?void 0:g.length)?g:[],browser:I.getBrowser(),device:I.getDevice(),os:I.getOS(),userAgent:window.navigator.userAgent,parentPageInfo:R,issueType:w,activeIssueId:P},h))}),"platform-id":O}};function Uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hc,jc,Vc,Bc,Gc,Wc,qc=[],$c=function(e){var t=e.error,n=e.info;return function(e,r){if(Fc(t)){var o=Dc({error:t,info:n,getState:r,events:qc});kc({route:Du(),method:"POST",data:o})}}},zc=function(e){return function(t,n){if(Fc(e,!0)){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uc(Object(n),!0).forEach((function(t){xc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{stack:"Explicit Log Error\n".concat((null==e?void 0:e.stack)||"")}),o=Dc({error:r,getState:n,events:qc});Mc({route:Du(),method:"POST",data:o})}}},Yc=function(e,t,n){try{if(window.ENV_NAME!==Ac.PRODUCTION)return;qc.length>20&&qc.shift(),e===Cc.UPDATE_XHR_EVENT?function(e,t,n){var r=(new Date).toUTCString(),o=null==qc?void 0:qc[qc.length-1];(null==o?void 0:o.event_name)===Cc.UPDATE_XHR_EVENT?(o.count++,o.last_utc_time=r):qc.push({event_name:e,location:t,data:n,last_utc_time:r,count:1})}(e,t,n):qc.push({event_name:e,location:t,data:n,utc_time:(new Date).toUTCString()})}catch(e){}},Xc=nt.TYPE,Kc=ce,Qc=le,Jc=Hu.EVENT,Zc=z,ep=G,tp=it,np=st,rp=Tc,op=Ic,ap=!1,ip=null,sp=function(e,n){var r=function(e,t){var n,r,o,a=e.appState,i=a.tags,s=a.metadata,u=a.cif,l=a.featuresEnabled.greeting,c=a.fullPrivacyEnabled,p=a.developerSetLanguage,d=a.userName,f=a.userId,E=a.analytics,y=a.sdkConfigOptions,m=y.developerSetInitialUserMessage,h=y.initialUserMessage,g=a.internalHsConfigData.voiceMeta,_=(g=void 0===g?{}:g).deflectionContactFlowId,S=void 0===_?"":_,v=a.liteSdkConfig,b=a.maxBreadcrumbs,T=a.maxDebugLogs,I=a.outboundSupportMeta,A=a.parentPageInfo,C=a.domain,O=a.platformId,R=e.chatView,w=R.intents,P=R.userInput,F=e.ui.text.greetingMsg;v&&v.os&&!(null==v||null===(n=v.metaData)||void 0===n?void 0:n.liteSdkVersion)&&t(zc({message:"Context is SDK X but liteSdkConfig.metaData.liteSdkVersion is not present",stack:"lite sdk metadata : ".concat(null==v?void 0:v.metaData,",\n\n            domain: ").concat(C,",\n\n            platformId: ").concat(O)}));var L={device_info:v.metaData?op(v.metaData,c):rp(A)};(null==v?void 0:v.os)&&(L.lite_sdk_os=v.os,0!==b&&v.bcl&&(L.bcl=v.bcl),0!==T&&v.dbgl&&(L.dbgl=v.dbgl)),I&&(L.outbound_support=I),i&&(L.custom_meta={"hs-tags":i}),S&&(L.voice_meta={deflection_contact_id:S}),(null==v||null===(r=v.metaData)||void 0===r?void 0:r.pluginVersion)&&(L.plugin_version=v.metaData.pluginVersion),(null==v||null===(o=v.metaData)||void 0===o?void 0:o.pluginType)&&(L.plugin_type=v.metaData.pluginType),s&&Object.keys(s).length&&(L.custom_meta=N()(L.custom_meta,{$merge:s}));var k={meta:JSON.stringify(L),sm:JSON.stringify({cb:!0}),acid:E.sessionId,library_version:ep,timezone_minutes:-(new Date).getTimezoneOffset(),device_language:np()};return u&&Object.keys(u).length&&(k.custom_fields=JSON.stringify(u)),l&&(k.greeting=F),c?k.fp_status=!0:d&&(k.name=d),p&&(k.developer_set_language=p),f&&(k.user_id=f),or.wasLeafIntentSelected(w.selectedIntentIds,w.tree.intentsMap)?(k.intent=JSON.stringify(w.selectedIntentIds),k.intent_labels=JSON.stringify(or.getIntentLabels(w.selectedIntentIds,w.tree.intentsMap)),P.value&&(k.st=P.value)):m?k.user_message=m:h&&(k.user_message=h),w.tree.id&&(k.tree_id=w.tree.id),k}(n,e),o=n.appState,a=o.domain,i=o.liteSdkConfig,s=o.isPushTokenSynced,u=o.userId,l=o.phoneNumber,c=o.userEmail,p=o.anonUserIdentifier,d=o.issueExists,f=o.sdkConfigOptions.initialUserMessage,E=n.chatView.intents,y=n.ui.text,m=y.networkError,h=y.retryBtn;e(Qs()),ip=yu({route:vu(a),data:e(rl(r)),headers:e(nl()),method:"POST",onSuccess:function(n,r,o){if(i.pushToken&&!s&&e(al()),o!==Qc.PRE_ISSUE_EXISTS){var a,y,m,h=en.getUniqueUserIdentifier({userId:u,phoneNumber:l,userEmail:c,anonUserIdentifier:p}),g={activeIssueId:n.id,internalIssueId:n.internal_id,issueType:n.type,userIdentifier:h,issueExists:d,hsSessionId:n.hs_session_id};ap=!1,e(Js(g)),e({type:t.POLLER_START}),e((a={type:n.type},y=a.type,m=a.id,function(e){e(Ec(Jc.ADD_MESSAGE,{type:y===Xc.TEXT?"txt":y,id:m}))})),n.type===Zc.ISSUE&&e(Ec(Jc.ISSUE_CREATED,{issueId:n.internal_id})),or.wasLeafIntentSelected(E.selectedIntentIds,E.tree.intentsMap)?e(hs(or.getIntentLabels(E.selectedIntentIds,E.tree.intentsMap).join(", "))):f&&e(hs(f))}else e({type:t.POLLER_START})},onFailure:function(t,n){var r=n===Qc.GATEWAY_TIMEOUT?Kc.PRE_ISSUE_TIME_OUT:Kc.PRE_ISSUE_FAILURE;e(Zs({error:{type:r,title:m,cta:h,statusCode:n,context:t}}))},onEnd:function(){var n;tp()&&!(null===(n=ip)||void 0===n?void 0:n.status)?e(Ml()):window.navigator.onLine||e({type:t.XHR_ENDED_DUE_TO_NETWORK_DISCONNECT})}})},up=function(e){ap=!0,e(cp())},lp=function(e){var t=up.bind(null,e);setTimeout(t,1e3)},cp=function(){return function(e,t){var n=t(),r=n.appState,o=r.liteSdkConfig,a=r.maxDebugLogs,i=r.maxBreadcrumbs,s=o.conversationMetadataReceived,u=o.metaData,l=!!(null==u?void 0:u.liteSdkVersion)&&e(De(us)),c=0===a&&0===i,p=!!o.os;!p||p&&(ap||c||s||!l)?sp(e,n):lp(e)}},pp={createPreIssue:cp,abortCreatePreissueXhr:function(){ip&&(ip.abort(),ip=null)}},dp=nt.TYPE,fp=nt.MESSAGE_ROLES,Ep=W,yp=z,mp=Hu.EVENT,hp=Hu.EXPIRY_EVENT,gp=null,_p=[],Sp=function(e){return{type:t.TOGGLE_SYSTEM_TYPING,typing:e}},vp=function(e){var n=e.messages,r=e.process,o=void 0===r||r,a=e.prepend,i=void 0!==a&&a,s=e.responseType,u=e.contextIsLiteSdk,l=e.fastPollingIsEnabled,c=e.issueCursor,p=e.localChatSeparatorMessageId,d=n;if(o){var f={messages:n,contextIsLiteSdk:u,sourceIsConversationHistory:i,issueCursor:c};d=Tn.getProcessedMessages(f)}return i?{type:t.PREPEND_MESSAGES,messages:d}:{type:t.APPEND_MESSAGES,messages:d,responseType:s,fastPollingIsEnabled:l,localChatSeparatorMessageId:p}},bp=function(e){return function(n,r){var o=e.conversationHasEnded,a=r().ui.text,i=o?a.conversationClosed:"";n(Tp({type:dp.CHAT_SEPARATOR,messageConfig:{infoText:i,hrShouldRender:!1}})),n({type:t.CHAT_END})}},Tp=function(e){return function(t,n){var r=n(),o=r.appState,a=o.liteSdkConfig,i=o.internalIssueId,s=o.fastPollingIsEnabled,u=r.chatView.issueCursor,l=e.type,c=e.typingTimer,p=void 0!==c&&c,d=e.playAudio,f=void 0!==d&&d,E=e.messageConfig,y=e.onAddMessage;E.issueId=i;var m=Tn.createMessage(l,E),h={messages:[m],process:!1,contextIsLiteSdk:!(!a||!a.os),fastPollingIsEnabled:s,issueCursor:u};m.type===dp.CHAT_SEPARATOR&&(h.localChatSeparatorMessageId=m.id);var g=[vp(h)];p?(t(Sp(!0)),gp&&(window.clearTimeout(gp),gp=null),gp=window.setTimeout((function(){t(Uu([Sp(!1)].concat(g))),y&&y(m),f&&t(Ku(m.isCustomerMsg))}),p)):(t(Uu(g)),y&&y(m),f&&t(Ku(mn 4===e.readyState}))},Ap=function(e){return function(t,n){n().chatView.messageList.filter((function(t){return e.includes(t.id)})).filter((function(e){return Tn.isAgentMessage(e)})).forEach((function(e){var n=e.publishId,r=e.type,o=e.body,a=e.attachments,i={publishId:n,body:o,createdTs:e.createdTs};(null==a?void 0:a.length)&&(i.attachments=a),r===dp.APP_REVIEW_REQUEfault:return ts.TEXT}}(r),t(zs(i))}))}},Cp=function(){return function(e,t){var n=t(),r=n.appState.featuresEnabled.greeting,o=n.ui.text.greetingMsg;r&&e(Tp({type:dp.TEXT,messageConfig:{body:o,isCustomerMsg:!1,isGreetingMessage:!0,author:{role:fp.SYSnction(t){e(Op(t.id))}}))}},Op=function(e){return{type:t.SET_LOCAL_GREETING_MESSAGE_ID,id:e}},Rp=function(){return function(e,t){var n=t().chatView.messageList;e(Tp({type:dp.CHAT_SEPARATOR,messageConfig:{hrShouldRender:!!n.length,timestamp:rn(Date.now(),"{dddd}, {mmmm} {dd}, {yyyy}")}}))}},wp=function(e){return{type:t.SET_LEGACY_RESOLUTION_QUESTION_VISIBILITY,payload:{visibility:e}}},Pp=function(e){return{type:t.SET_LEGACY_CSAT_VISIBILITY,payload:{visibility:e}}},Np={markMessagesSeen:function(){return function(e,n){if(e(en.areMessagesSeen())){var r=n(),o=r.appState,a=o.domain,i=o.issueType,s=r.chatView,u=s.unreadMessageIds,l=s.unreadIssues,c=s.markMessageAsSeenXhrIsInProgress;i===yp.INITIAL||c||(e({type:t.MARK_MESSAGES_SEEN_XHR_REQUEST}),Object.keys(l).forEach((function(n,r){var o=l[n],i=or.getPluralizedIssueType(o);_p[r]=yu({route:Tu(a,n,i),data:e(rl({md_state:"read"},{skipPlatformId:!0})),method:"PUT",headers:e(nl()),onSuccess:function(){var n=Ip();e(Ap(u)),0!==u.length&&n&&(e({type:t.MARK_MESSAGES_SEEN_XHR_SUCCESS}),e(fs(0)))},onEnd:function(){Ip()&&(e({type:t.MARK_MESSAGES_SEEN_XHR_END}),_p=[])}})})))}}},removeMessage:function(e){return{type:t.REMOVE_MESSAGE,messageId:e}},handleChatEnd:bp,createMessage:Tp,toggleSystemTyping:Sp,addMessages:vp,showPostIssueResolutionFooter:function(){return function(e,t){var n=t(),r=n.appState,o=r.issueState,a=r.postChatFeatures,i=a.resolutionQuestionCompleted,s=a.csatCompleted,u=r.featuresEnabled,l=u.resolutionQuestion,c=u.csatBot,p=r.internalIssueId,d=r.expiryTimestamps,f=d.resolutionQuestion,E=d.csatBot,y=r.domain,m=n.chatView,h=m.isCsatSubmitted,g=m.messageList,_=f&&Date.now()>=f,S=E&&Date.now()>=E;if(!l||h||i||_)!c||s||S?e(bp({conversationHasEnded:o===Ep.REJECTED})):(e(Pp(!0)),e(Ec(mp.CSAT,{event:mp.CSAT_REQUESTED})));else{var v;if(g.length&&or.isBotCurrentlyActive(g))e(zc({message:"Resolution question shown while bot running",stack:"issueState: ".concat(o,",\n\n            publishId: ").concat(null===(v=g[g.length-1])||void 0===v?void 0:v.publishId,",\n\n            domain: ").concat(y)}));e(wp(!0))}(_||S)&&e(function(e,t,n){return function(r,o){var a=o().appState.postChatFeatures,i=a.resolutionQuestionCompleted,s=a.csatCompleted;e&&!i&&r(Ec(mp.TIMER_EXPIRED,{issueId:n,feature:hp.RESOLUTION_QUESTION})),t&&!s&&r(Ec(mp.TIMER_EXPIRED,{issueId:n,feature:hp.CSAT_BOT}))}}(_,S,p))}},setChatViewFooter:function(e){return{type:t.SET_CHAT_VIEW_FOOTER,footer:e}},startNewConversation:function(e){var n=e.resetSessionId,r=e.shouldAddGreetingMessage,o=void 0===r||r,a=e.shouldAddDateSeparator,i=void 0===a||a;return function(e,r){var a=r().appState,s=a.featuresEnabled.conversationHistory,u=a.sdkConfigOptions.developerSetInitialUserMessage,l=a.liteSdkConfig,c=a.maxDebugLogs,p=a.maxBreadcrumbs;e(en.isOutOfBusinessHours())||(!l.os||0===c&&0===p||e(Us({maxBreadcrumbs:p,maxDebugLogs:c})),e({type:t.NEW_CONVERSATION_STARTED,payload:{conversationHistoryIsEnabled:s,shouldAddGreetingMessage:o,shouldAddDateSeparator:i,developerSetInitialUserMessage:u}}),i&&e(Rp()),o&&e(Cp()),n&&e(gc()),e(u?pp.createPreIssue():_p.INTENT_TREE_SHOWN))}})))}},setLegacyResolutionQuestionVisibility:wp,setLegacyCsatVisibility:Pp},Fp=Se.ISSUE_REOPEN_ERR_STATUS_CODE,Lp=Se.ACTIVE_FOOTER,kp=Hu.EVENT,Mp=Hu.EXPIRY_EVENT,Dp=z,Up=nt.TYPE,xp=nt.TEXT_INPUT_MESSAGE_TYPES,Hp=nt.MESSAGE_ADD_EVENT_TYPES,jp=nt.BODY,Vp=it,Bp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n,r){var o=r(),a=o.chatView,i=a.botState,s=i.botStepInProgress,u=i.botStepMessage,l=a.readFaqList,c=o.appState,p=c.domain,d=c.activeIssueId,f=c.issueType,E=c.reEngagementId,y=c.internalIssueId,m=c.liteSdkConfig,h=c.fastPollingIsEnabled,g=e.msgBody,_=e.msgType,S=e.onSuccess,v=e.handleAutoRetry,b=void 0!==v&&v,T=e.renderSystemTyping,I=void 0===T||T,A=e.feedbackBotHasToBeInterrupted,C=void 0!==A&&A,O=e.persistInputValue,R=void 0!==O&&O,w=e.refers,P=void 0===w?null:w,N=or.getPluralizedIssueType(f),F=f===Dp.ISSUE,L=s?u:n(Gp()),k=null;n(tu({issueType:f,botStepInProgress:s,reEngagementId:E,renderSystemTyping:I,fastPollingIsEnabled:h,feedbackBotHasToBeInterrupted:C,botStepInputIsExpected:_t([L])})),C&&n({type:t.USER_INTERRUPT_FEEDBACK_BOT});var M=r().chatView.userInput;k=_&&g?Tn.getPreparedMessageDataFromConfig({msgType:_,msgBody:g}):Tn.isMessageTypeSupported(L.type)?Tn.getPreparedMessageDataFromUserInput({input:M,latestMessage:L,isIssue:F,botStepInProgress:s,readFaqList:l,feedbackBotHasToBeInterrupted:C}):Tn.getPreparedMessageDataForUnsupportedBotMessage({latestMessage:L,isIssue:F}),E&&(k.re_engagement_id=E),P&&(k.refers=P);var D=null;D=yu({route:Ou(p,d,N),data:n(rl(k,{skipPlatformId:!0})),method:"POST",headers:n(nl()),autoRetry:b,onSuccess:function(e){if(!C){var t,r,o,a=!(!m||!m.os),i=Tn.getProcessedMessages({messages:[e],contextIsLiteSdk:a});n(nu({issueType:f,botStepInProgress:s,messages:i,messageType:e.type,persistInputValue:R})),-1!==xp.indexOf(e.type)&&n(Ts(Hp.TEXT,e.body)),e.type===Up.ACCEPTED&&n(gs()),S&&S(e),n((t={id:e.id,type:e.type},r=t.type,o=t.id,function(e){return e(Ec(kp.ADD_MESSAGE,{type:r===Up.TEXT?"txt":r,id:o}))}))}},onFailure:function(e,t){var r=JSON.parse(e.response);n(ru()),t===Fp&&("resolution question timer expired"===r.msg?(n(Ec(kp.TIMER_EXPIRED,{issueId:y,feature:Mp.RESOLUTION_QUESTION})),n(ml(!0)),n(Np.showPostIssueResolutionFooter())):n(Np.handleChatEnd({conversationHasEnded:!0})))},onEnd:function(){Vp()&&!D.status?n(Ml()):window.navigator.onLine||n({type:t.XHR_ENDED_DUE_TO_NETWORK_DISCONNECT})}})}},Gp=function(){return function(e,t){var n=t().chatView.messageList;return n[n.length-1]}},Wp=Bp,qp=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,r){var o=r().appState,a=o.liteSdkConfig,i=o.internalIssueId,s=!!a&&!!a.os;n({type:t.RESOLUTION_QUESTION_ACCEPT_REQUEST,payload:{resolutionButtonIsDisabled:!0}}),n(Bp({msgBody:jp.SOLUTION_ACCEPTED,msgType:Up.ACCEPTED,onSuccess:function(){n({type:t.RESOLUTION_QUESTION_ACCEPT_SUCCESS,payload:{resolutionQuestionCompleted:!0,resolutionButtonIsDisabled:!1,legacyResolutionQuestionIsVisible:!1}}),e||n(Np.showPostIssueResolutionFooter())},onEnd:function(){n({type:t.RESOLUTION_QUESTION_ACCEPT_END,payload:{resolutionButtonIsDisabled:!1}})}})),s&&n(Ec(kp.ISSUE_RESOLUTION,{event:kp.ISSUE_RESOLUTION_ACCEPTED,issueId:i}))}},$p=function(){return function(e,n){var r=n().appState,o=r.liteSdkConfig,a=r.internalIssueId,i=!!o&&!!o.os;e({type:t.RESOLUTION_QUESTION_REJECT_REQUEST,payload:{resolutionButtonIsDisabled:!0}}),e(Bp({msgBody:jp.SOLUTION_REJECTED,msgType:Up.REJECTED,onSuccess:function(){e({type:t.RESOLUTION_QUESTION_REJECT_SUCCESS,payload:{legacyResolutionQuestionIsVisible:!1,resolutionQuestionCompleted:!0,resolutionButtonIsDisabled:!1,activeFooter:Lp.SOLUTuttonIsDisabled:!1}})}})),i&&e(Ec(kp.ISSUE_RESOLUTION,{event:kp.ISSUE_RESOLUTION_REJECTED,issueId:a}))}},zp=function(e){return function(t){t(Bp({msgBody:jp.AGENT_FOLLOW_UP_ACCEPTED,msgType:Up.AGENT_FOLLOW_UP_ACCEPTED,onSuccess:e}))}},Yp=function(){return function(e,n){var r=n(),o=r.appState.featuresEnabled.conversationHistory,a=r.chatView.activeFooter;e(Bp({msgBody:jp.AGENT_FOLLOW_UP_REJECTED,msgType:Up.AGENT_FOLLOW_UP_REJECTED,persistInputValue:!0,onSuccess:function(){e({type:t.AGENT_FOLLOW_UP_REJECT_SUCCESS,payload:{conversationHistoryIsEnabled:o,activeFooter:a}}),e(xl())}}))}},Xp=function(){return function(e){e(Bp({handleAutoRetry:!0,renderSystemTyping:!1,feedbackBotHasToBeInterrupted:!0}))}},Kp=n(8881).createListenerMiddleware(),Qp="live:signalling",Jp="ws:disconnected:maybe",Zp="ws:closed",ed="ws:opened",td="ws:error",nd=100,rd=102,od=103,ad=104,id=105,sd=106,ud=107,ld=109,cd=1e3,pd="normal_closure",dd="WEBSOCKET_PING_NOT_RECEIVED",fd=Jp,Ed=ed,yd=Zp,md=td,hd=!1,gd=[ring"==typeof e?[e]:e},Td=(Gc=[1,1,1,1,1,5,10,10,30],Wc=0,{retry:function(e){Gc[Wc]&&(window.setTimeout(e,1e3*Gc[Wc]),Wc+=1)},reset:function(){Wc=0},getRetryCount:function(){return Wc===Gc.length-1}}),Id=function e(){if(!Hc){var t=function(e){Vc&&window.clearTimeout(Vc),Vc=window.setTimeout((function(){Hc&&Hc.close(),ya(fd,{reason:dd,timeElapsedSinceLastPing:e})}),e)},n=11e3;(Hc=new WebSocket(Bc,["dirigent-pubsub-v1"])).onmessage=function(e){var r=JSON.parse(e.data);switch(r[0]){case nd:case rd:t(n),jc=r[1],r[2].forEach((function(e){var t=JSON.parse(e.m);!function(e){var t=e.message,n=t.stream||t.topic;ya("live:".concat(n),e)}({id:e.id,message:t})}));break;case od:ya("admin:live-update:stale");break;case ud:Sd&&vd&&Hc.send(JSON.stringify([ld])),n=1e3*(r[1]+1),t(n)}},Hc.onopen=function(){t(n),Td.getRetryCount()>0&&(_d=_d.concat(gd),_d=ie(_d),gd=[]),Td.reset(),ya(Ed),hd=!0,0!==_d.length&&Ad(_d)},Hc.onclose=function(t){Hc=null,hd=!1,Td.hasRetryEnded()||t.reason===pd?ya(yd):Td.retry(e)},Hc.onerror=function(){ya(md)}}},Ad=function(e){if(hd){if((e=(e=bd(e)).filter((function(e){return-1===gd.indexOf(e)}))).length){var t=JSON.stringify([ad,e]);Hc.send(t),gd=gd.concat(e)}}else _d=_d.concat(n(e,t){Sd=t,Bc=e,Id()},open:Id,subscribe:Ad,reconnect:function(){jc?Hc.send(JSON.stringify([sd,jc,gd])):Hc.send(JSON.stringify([ad,gd]))},unsubscribe:function(e){hd&&(e=bd(e),Hc.send(JSON.stringify(turn-1===e){Hc&&Hc.close(cd,pd)},toggleAuthorPresenceDetection:function(e){Sd=Sent:function(e){vd=e}},Od="start",Rd="stop",wd=Qp,Pd=Jp,Nd=ed,Fd=Zp,Ld=td,kd=null,Md=null,Dd=function(e,t){return function(n,r){n(il({onGetWsConfig:function(t){var n=t.endpoint,o=t.token,a=r().appState,i=a.platformId,s=a.domain,u=a.featuresEnabled.authorPresenceDetectionIsEnabled,l=Au({domain:s,platformId:i,endpoint:n,token:o,hsSessionId:e});Cd.init(l,u)},onWsConfigFromBackend:t.onWsConfigFromBackend}))}},Ud=function(){return function(e){Cd.subscribe(e((function(e,t){var n=t().appState.internalIssueId;return"agent_type_act.issue.".concat(n)})))}},xd=function(){return function(e){Cd.unsubscribe(e((function(e,t){var n=t().appState.internalIssueId;return"agent_type_act.issue.".concat(n)})))}},Hd=function(){return function(e){kd=Ea("live:agent_type_activity",(function(t){var n=t.message,r=n.action,o=n.ttl;Md&&window.clearTimeout(Md),r===Od?(e(ul(!0)),Md=window.setTimeout((function(){e(ul(!1)),Md=null}),1e3*o)):r===Rd&&e(ul(!1))}))}},jd=function(){kd&&(kd.detach(),kd=null)},Vd=fuignalling.".concat(e)}(e))},Bd=function(){return function(e,t){Ea(wd,(function(n){var r=t().chatView,o=r.pollingInterval,a=r.pollingStrategy;e(Hl(n,{pollingInterval:o,pollingStrategy:a}))}))}},Gd=function(){return function(e){Ea(Nd,(function(){e(Bl())})),Ea(Fd,(function(){e(Gl())})),Ea(Ld,(function(){e(Wl())})),Ea(Pd,(function()n(e){e(Ud()),e(Hd())}},$d=function(){return function(e){e(qd()),Wd=!0}},zd=function(){return function(e){Wd&&(e(ion(e,t){return e!==t};function Xd(e,t,n){var r;return function(){for(var o=this,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];var u=n&&!r;return window.clearTimeout(r=null,n||e.apply(o,i)})indow.clearTimeout(r)}}}function Kd(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Qd=void 0;function Jd(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Zd,ef,tf,nf=W,rf=z,of=Y,af=K,sf=nt.STATE,uf=nt.TYPE,lf=Qp,cf=Se.ACTIVE_FOOTER,pf=Se.MESSAGES_FORCE_POLLING_TIMEOUT,df=Se.CURSOR_TYPES,ff=Se.POLLING_STRATEGY_TYPES,Ef=Se.CONSERVATIVE_POLLING_BASE_MULTIPLIER,yf=Se.CONSERVATIVE_POLLING_INTERVAL,mf=Se.V_AGGRESSIVE_POLLING_INTERVALS,hf=Se.FAST_POLLING_MAX_FAILURES,gf=Se.AGENT_FOLLOW_UP_STATES,_f=Hu.EVENT,Sf=!1,vf=null,bf=null,Tf=null,If=!1,Af=!1,Cf=0,Of=0,Rf=0,wf=!1,Pf=0,Nf=!1,Ff=0,Lf=null,kf=!0,Mf="normal",Df="first",Uf="signal",xf="fallback",0},0},n e===ff.V_AGGRESSIVE},Gf=function(){window.clearInterval(bf),vf&&(vf.aborE._fetchMessages(e))}},qf=(ef=function(e){return function(t){IE(),t(Wf(e)),t(TE())}},tf=Xd((function(e,t){return e(ef.apply(voon(e){return tf(e,t)}}),$f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n,r){var o=r().appState.rolloutFlags.fetchOnSignal;if(Sf=!0,If=!0,n(Wf(e)),!o){var a=r().chatView.pollingInterval;n({type:t.POLLER_RESTART,payload:{pollingInterval:a}})}}},zf=function(){return function(e){Gf(),e($f())}},Yf=function(e){var t=e.getState(),n=t.appState.liteSdkConfig,r=t.chatView,o=r.pollingStrategy,a=r.pollingInterval,i=!!n.os;If||Date.now()-Tf>=pf&&vf&&(vf.abort(),vf=null);i&&o===ff.CONSERVATIVE?If&&(Xf(e.dispatch,{pollingInterval:a}),e.dispatch(RE._fetchMessages())):Bf(o)?If&&(Kf(e.dispatch),e.dispatch(RE._fetchMessages())):If&&e.dispatch(RE._fetchMessages())},Xf=function(e,n){var r=n.pollingInterval,o=yf.MAXIMUM;r===yf.MINIMUM?o=2*Ef:2*r<yf.MAXIMUM&&(o=2*r),window.clearInterval(bf),Sf&&e({type:t.POLLER_RESTART,payload:{pollingInterval:o}}),e(su({pollingInterval:o,pollingStrategy:ff.CONSERVATIVE}))},Kf=function(e){var n=mf[Of>0?Of-1:0];window.clearInterval(bf),Sf&&e({type:t.POLLER_RESTART,payload:{pollingInterval:n}})},Qf=function(){return function(e,t){if(Rf>=hf){var n=t().chatView.pollingStrategy;Hf(),e(lu()),n!==t().chatView.pollingStrategy&&e(zf())}}},Jf=function(e,t){return function(n,r){var o=e.input,a=r().appState.issueType;o||n(au({issueType:a,issueIsActive:t}))}},Zf=function(e){return function(t){t(Uu(e?[Ks(),Np.toggleSystemTyping(!1)]:[Xs(),Np.toggleSy=function(e,t){y(e,t)},tE=function(e){return function(t,n){e===nf.RESOLVED&&n().appState.issueState!==nf.RESOLVED&&t(_s())}},nE=function(e,n,r){return function(o,a){var i,s=a(),u=s.appState,l=u.minimized,c=u.liteSdkConfig,p=u.fastPollingIsEnabled,d=u.fullPrivacyEnabled,f=u.featuresEnabled,E=f.conversationHistory,y=f.showConversationId,m=u.issueCreatedAnalyticEventToBeFiredAfterPreIssueSuccess,h=u.sdkConfigOptions.initialUserMessage,g=u.isPushTokenSynced,_=u.rolloutFlags.fetchOnSignal,S=s.chatView,v=S.issueCursor,b=S.analyticsEventsQueue,T=S.localGreetingMessageId,I=S.pollingStrategy,A=S.userIsRedacted,C=S.error,O=S.localChatSeparatorMessageId,R=S.conversationIsLocal,w=S.legacyResolutionQuestionIsVisible,P=r.previousIssueType,N=ht(v),F={pollerCallIsFirst:N,previousIssueType:P},L=[];_&&N&&(Nf=!0);try{Af=!0,A&&o(function(e){return{type:t.SET_USER_IS_REDACTED,userIsRedacted:e}}(!1)),C.type&&o(eu());var k=e.has_older_messages,M=e.issues,D=void 0===M?[]:M,U=e.cursor,x=e.hs_session_id,H=e.issue_exists;eE(F,{cursor:U});var j=Bf(I);if(j&&Hf(),!D.length)return eE(F,{pollerIsEmpty:!0}),j&&(Of++,o((function(e,t){if(Of===mf.length){var n=t().chatView.pollingStrategy;jf(),e(uu());var r=t().chatView.pollingStrategy;Yd(n,r)&&e(zf())}}))),U||++Cf>=af&&!l&&(o(pp.createPreIssue()),Cf=0),function(e){var t=e.issueExists,n=e.issueCursor,r=e.onFirstPollHavingEmptyIssues;return!n&&t&&"function"==typeof r}({issueCursor:v,issueExists:H,onFirstPollHavingEmptyIssues:null==n?void 0:n.onFirstPollHavingEmptyIssues})&&(Gf(),n.onFirstPollHavingEmptyIssues(),o({type:t.ALL_PREVIOUS_ISSUES_ARE_FULL_PRIVACY})),F;ht(v)&&o(Ds({issueExists:H})),o((i={issues:D,issueCursor:v},function(e){var t=i.issues,n=i.issueCursor;t.every((function(e){return e.redacted}))&&ht(n)&&e(xl())}));var V=o(function(e,t){return function(n,r){var o,a=t.fullPrivacyEnabled,i=t.conversationHistoryEnabled,s=t.showConversationIdIsEnabled,u=t.issueCreatedAnalyticEventToBeFiredAfterPreIssueSuccess,l=r().chatView.conversationIsLocal,c=e.issues,p=e.hasOlderMsgs,d=or.getLatestConversation(c),f=d[0],E=d[1],y=!1;return o=or.createLinearMessageList(c,{fullPrivacyEnabled:a,lastGroupId:null,showConversationIdIsEnabled:s,conversationHistoryEnabled:i&&!a,hasOlderMsgs:p,conversationIsLocal:l}),u&&E&&E.state_data.state===of.PRE_ISSUE.ISSUE_CREATED&&(n(Ec(_f.ISSUE_CREATED,{issueId:f.issue_id})),y=!0),{resetIssueCreatedAnalyticEventToBeFiredAfterPreIssueSuccess:y,currentIssue:f,messages:o}}}({issues:D,hasOlderMsgs:k},{showConversationIdIsEnabled:y,fullPrivacyEnabled:d,conversationHistoryEnabled:E,issueCreatedAnalyticEventToBeFiredAfterPreIssueSuccess:m})),B=V.currentIssue,G=V.messages;V.resetIssueCreatedAnalyticEventToBeFiredAfterPreIssueSuccess&&eE(F,{issueCreatedAnalyticEventToBeFiredAfterPreIssueSuccess:!1});var W=B.publish_id,q=B.type,$=B.state_data.state,z=B.csat_received,Y=B.resolution_question_expiry_at,X=B.csat_expiry_at,K=B.feedback_bots_enabled,Q=B.show_new_conversation_button,J=B.redacted,Z=B.messages,ee=B.follow_up_supported_sdk,te=B.follow_up_expired,ne=B.follow_up_status,re=B.issue_mode,oe={};if(ht(v)){var ae=D[D.length-1],ie=or.saveMessageCursor({issue:ae,cursorType:df.BACKWARD});oe[df.BACKWARD]=ie.msgCursor}var se=G.length,ue=G[se-1];if(v&&(ue&&(ue.type===uf.ACCEPTED||ue.type===uf.REJECTED||ue.type===uf.AGENT_FOLLOW_UP_REJECTED)||_&&R&&K&&!ne))return F;eE(F,{resolutionQuestionExpiryTimestamp:Y,csatBotExpiryTimestamp:X,hsSessionId:x,feedbackBotIsEnabled:K,agentFollowupIsSupported:ee,agentFollowupHasExpired:te,liveMessagingMode:re});var le=q===rf.PRE_ISSUE,eState(e)===nf.ACTIVE}($),de=!!(null==c?void 0:c.os);if(o(As({open:pe,latestIssueId:ce,latestIssuePublishId:W})),!pe)if(or.shouldPollerStop({feedbackBotIsEnabled:K,issueState:$,agentFollowupIsSupported:ee,agentFollowupHasExpired:te})&&o(xl()),o(hE({issueCursor:v})))return F;o(gE({currentIssueType:q,previousIssueType:P})),(P!==rf.ISSUE&&q===rf.ISSUE||q===rf.ISSUE&&ht(v))&&L.push(oE),L.push(tE.bind(Qd,a().appState.issueState));var fe=or.getProcessedIssueState($);if(eE(F,{issueIsActive:pe,chatViewLoading:!1,activeIssueId:W,internalIssueId:ce,processedState:fe,csatIsSubmitted:z,issueType:q,currentIssueIsPreissue:le,pollingIsEnabled:Sf,issueCursor:v}),ht(v)){var Ee=_E({hasOlderMsgs:k,conversationHistoryEnabled:E,fullPrivacyEnabled:d,issues:D},{issueState:fe,legacyResolutionQuestionIsVisible:w});SE(o,b),eE(F,Ee)}if(se){var ye={messages:G,contextIsLiteSdk:de,sourceIsFirstConversationUpdate:!v,newConversationButtonIsVisible:Q,issueCursor:v},me=Tn.getProcessedMessages(ye);if(v&&ne===gf.PENDING)return L.push(iE.bind(Qd,G,K,ne)),eE(F,{pollerStateDependentSideEffectsQueue:L}),F;L.push(mE.bind(Qd,ue),yE.bind(Qd,G,pe)),eE(F,{addMessagesData:{messages:me,process:!1,contextIsLiteSdk:de,fastPollingIsEnabled:p,issueCursor:v,localGreetingMessageId:T,localChatSeparatorMessageId:O,currentIssue:B,showConversationIdIsEnabled:y,hrShouldRender:!!E}});var he=Tn.getAvatarTs(G);eE(F,{messages:G,avatarsTs:he});var ge=or.saveMessageCursor({issue:B,cursorTs:U,cursorType:df.FORWARD});oe[df.FORWARD]=ge.msgCursor,eE(F,{msgCursor:oe}),le&&ue.type===uf.EMPTY_MSG_WITH_TEXT_INPUT&&h&&(o(Wp()),eE(F,{initialUserMessage:h}));var _e=o(fE({messages:me,issues:D}));_e&&(eE(F,_e),eE(F,{messagesAreSeen:o(en.areMessagesSeen())})),L.push(EE)}return fe===nf.ACTIVE&&c.pushToken&&!g&&o(al()),L.push(sE.bind(Qd,{issueCursor:v,newConversationButtonIsVisible:Q,followUpStatus:ne}),lE.bind(Qd,{currentIssueIsRedacted:J,currentIssueMessages:Z})),ht(v)&&L.push(iE.bind(Qd,G,K,ne)),de&&o(ks({shouldPoll:pe})),L.push(rE.bind(Qd,{newConversationButtonIsVisible:Q,agentFollowupIsSupported:ee,agentFollowupHasExpired:te})),L.push(aE.bind(Qd,{fastPollingIsEnabled:p,messages:G,preFetchPollingStrategy:I,feedbackBotIsEnabled:K,newConversationButtonIsVisible:Q,agentFollowupHasExpired:te,agentFollowupIsSupported:ee})),eE(F,{pollerStateDependentSideEffectsQueue:L}),F}catch(e){o(zc(e))}}},rE=function(e){var t=e.newConversationButtonIsVisible,n=e.agentFollowupIsSupported,r=e.agentFollowupHasExpired;return function(e,o){var a=o().appState.issueState;t&&a===nf.RESOLVED&&(e(Np.handleChatEnd({conversationHasEnded:!1}) function(e){e($d())}},aE=function(e){return function(t,n){var r=e.fastPollingIsEnabled,o=e.messages,a=e.preFetchPollingStrategy,i=e.feedbackBotIsEnabled,s=e.newConversationButtonIsVisible,u=e.agentFollowupHasExpired,l=e.agentFollowupIsSupported,c=n().appState.issueState,p=c===nf.ACTIVE;r&&((o.length&&(p||function(e){var t=e.feedbackBotIsEnabled,n=e.newConversationButtonIsVisible,r=e.issueState;return t&&!n&&r===nf.RESOLVED}({feedbackBotIsEnabled:i,newConversationButtonIsVisible:s,issueState:c}))||function(e){var t=e.agentFollowupIsSupported,n=e.agentFollowupHasExpired,r=e.issueState,o=[nf.RESOLVED,nf.CLOSED];return t&&!n&&o.includes(r)}({agentFollowupIsSupported:l,agentFollowupHasExpired:u,issueState:c}))&&(a!==n().chatView.pollingStrategy&&t(zf()),jf()))}},iE=function(e,n,r){return function(o,a){if(r===gf.PENDING){var i=Jd(e).reverse().find((function(e){return e.type===uf.AGENT_FOLLOW_UP_REQUESTED}));if(i){var s=a(),u=s.chatView,l=u.agentFollowup.supported,c=u.activeFooter,p=u.conversationIsLocal,d=u.legacyResolutionQuestionIsVisible,f=u.legacyCsatIsVisible,E=s.appState.issueState,y=function(e){o({type:t.AGENT_FOLLOW_UP_ACCEPT_SUCCESS,payload:{messageToAdd:Tn.getProcessedMessage({message:e}),feedbackBotIsEnabled:n}}),Sf||o($f())};if(o({type:t.AGENT_FOLLOW_UP_REQUESTED}),l&&(E===nf.RESOLVED||E===nf.CLOSED)){if(p&&c===cf.REPLY)return void o(Yp());if(d||f)return void o(zp(y.bind(Qd,i)));switch(c){case cf.START_NEW_CONVERSATION:o(zp(y.bind(Qd,i)));break;case cf.SOLUTION_REJECTED:o(Yp());break;default:n&&o(zp(y.bind(Qd,i)))}}}}}},sE=function(e){var t=e.issueCursor,n=e.newConversationButtonIsVisible,r=e.followUpStatus;return function(e,o){var a=o().appState,i=a.issueState,s=a.initiateChatOnLoad,u=[nf.RESOLVED,nf.REJECTED,nf.CLOSED];s&&ht(t)&&u.includes(i)&&r!==gf.PENDING&&e(uE(n))}},uE=function(e){return function(t,n){var r=n().appState.featuresEnabled.feedbackBot;t(Np.handleChatEnd({conversationHasEnded:!0})),r&&!e&&t(Xp()),t(Np.startNewConversation({resetSessionId:!0})),t(Ec(_f.INITIATE_CHAT_TRIGGERED))}},lE=function(e){return function(t,n){var r=n(),o=r.appState,a=o.issueType,i=o.issueState,s=o.featuresEnabled,u=s.resolutionQuestion,l=s.feedbackBot,c=r.chatView,p=c.issueCursor,d=c.agentFollowup.requested;if(i!==nf.ACTIVE){var f=!1,E=e.currentIssueIsRedacted,y=e.currentIssueMessages;i===nf.RESOLVED?(a===rf.ISSUE?l||E?E&&!y.length&&t(Np.handleChatEnd({conversationHasEnded:!0})):(t(cE()),t(Np.showPostIssueResolutionFooter())):a===rf.PRE_ISSUE&&(t(Np.handleChatEnd({conversationHasEnded:!1})),f=!0),t(Zf(kf))):i===nf.REJECTED&&t(Np.handleChatEnd({conversationHasEnded:!0}));var m=n(),h=m.appState,g=h.domain,_=h.postChatFeatures.resolutionQuestionCompleted,S=m.chatView.messageList;if(p&&a===rf.ISSUE){if(i===nf.RESOLVED){if(!(u||_||l||d||E)){var v;if(S.length&&or.isBotCurrentlyActive(S))t(zc({message:"Resolution question accepted while bot running",stack:"issueState: ".concat(i,",\n\n                publishId: ").concat(null===(v=S[S.length-1])||void 0===v?void 0:v.publishId,",\n\n                domain: ").concat(g)}));t(qp(!0))}t(Ss())}else i===nf.REJECTED&&t(vs());u&&!f||t(gs())}}}},cE=function(){return function(e,t){var n=t(),r=n.chatView,o=r.isCsatSubmitted,a=r.messageList,i=n.appState,s=i.internalIssueId,u=i.expiryTimestamps,l=!!Tn.getLatestMessageOfType(a,uf.ACCEPTED,s),c=!!Tn.getLatestMessageOfType(a,uf.REJECTED,s),p=Tn.hasResolutionQuestionExpired(null==u?void 0:u.resolutionQuestion);(l||c||p)&&e(ml(!0)),o&&e(hl())}},pE=function(e){return e.filter((function(e){var t=e.type,n=e.state,r=e.isCustomerMsg,o=e.isSystemMsg;return!r&&!o&&n!==sf.READ&&Tn.isRendeion(e){return e.id}))},fE=function(e){return function(t,n){var r=n().chatView,o=r.unreadMessageIds,a=r.issueCursor,i=e.messages,s=e.issues,u=dE(i),l=function(e,t){var n={};return e.forEach((function(e){e.messages.forEach((function(r){-1!==t.indexOf(r.id)&&(n[e.publish_id]=e.type)}))})),n}(s,u);return t(fs(u.length+o.length)),a&&u.length&&t(Xu()),{unreadMessageIds:[].concat(Jd(o),Jd(u)),unreadIssues:l}}},EE=function(){return function(e){e(en.areMessagesSeen())&&e(Np.markMessagesSeen())}},yE=function(e,t){return function(n,r){for(var o=e.length-1;o>=0;o--){var a=e[o],i=a.type;if(!a.isSystemMsg&&Tn.isBotMessage(a)){var s=!Tn.isMessageTypeSupported(i);return n(Jf(a,t)),void(s&&n(Wp()))}}var u=r(),l=u.appState.issueType,c=u.chatView.botState.botStepInProgress;l===rf.PRE_ISSUE?n(Zf(false)):l!==rf.ISSUE||c||n(Zf(kf))}},mE=function(e){return function(t,n){var r=e.type,o=e.has_next_bot;if(r===uf.BOT_ENDED){var a=n().appState.issueState===nf.RESOLVED;t(ou({nextMessageIsBotStep:o,issueIsResolved:a}))}}},hE=function(e){return function(t,n){var r=n().appState,o=r.minimized,a=r.sdkConfigOptions.initialUserMessage,i=!1;return e.issueCursor||a&&!o&&(t(pp.createPreIssue()),i=!0),i}},gE=function(e){return function(n){var r=e.currentIssueType;e.previousIssueType===rf.PRE_ISSUE&&r===rf.ISSUE&&(n({type:t.RESET_USER_INPUT_DATA}),n(Zf(kf)))}},_E=function(e,t){var n=e.hasOlderMsgs,r=e.conversationHistoryEnabled,o=e.fullPrivacyEnabled,a=e.issues,i=t.issueState,s=t.legacyResolutionQuestionIsVisible;return{requiredMessagesHaveLoaded:or.haveRequiredMessagesLoaded({hasOlderMsgs:n,conversationHistoryEnabled:r&&!o,issues:a}),issueIsOngoing:i===nf.ACTIVE||s}},SE=function(e,n){n.forEach((function(t){e(Ec(t))})),e({type:t.ANALYTIC_EVENE=function(){Sf&&Gf()};Ea("TEMP_APP_SD){var t=e.status;Zd=t})),Ea(lf,(function(){Lf={pollingEnabled:Sf,sdkxIsInForeground:Zd}})),Kp.startListening({type:"POLLER_SUCCESS",effect:function(e,t){var n=t.dispatch,r=e.payload.pollerStateDependentSideEffeh((function(e){n(e())}))}});var bE=function(){return function(e,n){Nf=!1,IE();var r=n().chatView.pollingInterval;e({type:t.POLLER_RESTART,payload:{pollingInterval:r}})}},TE=function(){return function(e){Ff=window.setInterval((functionearInterval(Ff),Ff=0)},AE=function(){return function(e){vf||e(Wf({fetchType:xf}))}},CE=function(){return function(e){e(OE())&&(vf||e(Wf()),e((function(e){Nf=!0,Sf=!1,window.clearInterval(bf),bf=null,IE(),e(TE())})))}},OE=function(){return function(e,t){return t().appState.rolloutFlags.fetchOnSignal}},RE={_fetchMessages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n,r){var o=r(),a=o.appState,i=a.domain,s=a.minimized,u=a.windowIsFocused,l=a.issueType,c=a.rolloutFlags.fetchOnSignal,p=o.chatView,d=p.messageCursor.forward,f=p.issueCursor,E=p.pollerFailureCount,y=p.pollingStrategy,m=p.signalAppState,h=p.lastSignalUpdateServerTs,g=p.lastSignalUpdateClientTs,_=o.ui.text,S=_.networkError,v=_.retryBtn,b=e.fetchType,T={},I=d.meta,A=I.issueId,C=I.issueType;A&&(C===rf.PRE_ISSUE?T.preissue_id=A:C===rf.ISSUE&&(T.issue_id=A)),f&&(T.cursor=f),T.widget_is_open=!s,T.window_is_focused=u,T.fetch_type=b||(f?Mf:Df),Tf=Date.now(),If=!1;var O=!1,R={previousIssueType:l};if(void 0!==h){T.server_publish_ts=h,T.client_poller_delay=Date.now()-g;var w={};m&&(w.pollingInterval=m.pollingInterval,w.pollingStrategy=m.pollingStrategy),Lf&&(w.pollingEnabled=Lf.pollingEnabled,w.sdkxIsInForeground=Lf.sdkxIsInForeground),T.signalling_state=JSON.stringify(w)}vf=yu({route:Ru(i),data:n(rl(T,r)),method:"POST",headers:n(nl(r)),onSuccess:function(r){return n(function(e,n,r){return function(o){var a=o(nE(e,n,r));o({type:t.POLLER_SUCCESS,payload:a||{}})}}(r,e,R))},onFailure:function(e,r){var o;Bf(y)&&(O=!0,Vf(),n(Qf())),c&&Nf&&n((function(e){e(++Pf<=3?Wf():bE())}));try{o=JSON.parse(e.response)}catch(e){return}n({type:t.POLLER_FAILURE,payload:{response:o,statusCode:r,uiErrorText:{networkError:S,retryBtn:v}}})},onEnd:function(){vf=null;var e=Af?0:E+1;c&&Af&&(Pf=0),e!==E&&(n({type:t.SET_POLLER_FAILURE_COUNT,count:e}),!O&&Bf(y)&&(Vf(),n(Qf()))),If=!0,Af=!1,c&&wf&&(n(qf({fetchType:Uf})),wf=!1)}}),n(jl()),Lf=null}},_getUnreadMessageIds:dE,_getUnreadMessages:pE},FE=function(e){Vd(e)},LE=function(e){return function(n){NE||n(Dd(e,G_SUCCESS,payload:e})}}))}};function kE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ME,DE,UE,._previousAction=null}var t,n,r;return t=e,n=[{key:"handleConsistencyOfMachineIssueStateWithReduxIssueState",value:function(e,t){var n=this;return function(r,o){var a=o().appState.issueState;t||n._currentState!==a&&r(zc({message:"Issue state mismatch between machine state and redux state",stack:'previousAction: "'.concat(n._previousAction,'"\n, currentAction: "').concat(e,'"\n,\n               currentMachineState: "').concat(n._currentState,'"\n,currentReduxIssueState: "').concat(o().appState.issueState,'"')})),n._currentState=a,n._previousAction=e}}},{key:"makeIssueStateTransition",value:function(e,t){var n=this;return function(r,o){var a=n._transitions[n._currentState][e];t||(a?n._currentState=a:r(zc({message:"Invalid state transition",stack:'previousAction: "'.concat(n._previousAction,'"\n,currentAction: "').concat(e,'"\n,currentMachineState: "').concat(n._currentState,'"\n,currentReduxIssueState: "').concat(o().appState.issueState,'"')})))}}}],n&&kE(t.prototype,n),r&&kE(t,r),e}();function BE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GE=W,WE=[t.POLLER_SUCCESS,t.SET_CHAT_VIEW_FOOTER,t.SET_RESOLUTION_QUESTION_COMPLETED,t.WS_CLOSED,t.WS_DISCONNECTED_MAYBE,t.WS_ERROR,t.WS_OPENED,t.GET_CONVERSATION_HISTORY_SUCCESS,t.UPDATE_AVATAR_LAST_UPDATED_TS,t.SET_ACTIVE_ISSUE_MSG_CURSOR,t.TOGGLE_ONLINE_STATUS,t.SET_POLLER_FAILURE_COUNT,t.TOGGLE_EMOJI_WIDGET_STATE,t.SELECT_EMOJI,t.TOGGLE_CONVERSATIONS_LOADER,t.UPDATE_READ_FAQ_LIST,t.SET_ACTIVE_FAQ,t.TOGGLE_FAQ_LOADING,t.SET_SUGGESTED_FAQ_READ_TRACKED,t.BATCH_ACTIONS,t.MARK_MESSAGES_SEEN_XHR_REQUEST,t.UPDATE_ACTIVE_VIEW,t.POLLER_STOP,t.RESET,t.SET_CONVERSATION_ENDED,t.SET_APP_RESET_TRIGGER],qE=[t.SET_ACTIVE_ISSUE_ID,t.SET_INTERNAL_ISSUE_ID,t.PREPEND_MESSAGES,t.SET_ALL_MESSAGES_ARE_LOADED,t.PAGE_VISIBILITY_CHANGE,t.UPDATE_POLLING_DATA,t.UPDATE_ISSUE_TYPE,t.SET_USER_IS_REDACTED,t.SET_LOADING_MORE_MSGS_FAILED,t.OOBH_FORM_SUBMIT_FAILURE,t.ADD_BUSINESS_HOURS_ATTACHMENTS,t.REMOVE_BUSINESS_HOURS_ATTACHMENT,t.SET_BUSINESS_HOURS_ATTACHMENT_ERROR,t.BUSINESS_HOURS_FORM_SUBMIT_FAILURE,t.SET_RESOLUTION_BUTTON_IS_DISABLED,t.SET_FAQ_ERROR_MESSAGE,t.SET_CHAT_VIEW_ERROR,t.SET_BOT_STEP_IN_PROGRESS,t.SAVE_BOT_STEP_MESSAGE,t.UPDATE_LIST_PICKER_NAVIGATION_STATE,t.UPDATE_INTENTS_NAVIGATION_STATE,t.INTENTS_TREE_FAILURE,t.CLEAR_CHAT_VIEW_ERRORS,t.CREATE_PREISSUE_FAILURE,t.USER_REPLY_FAILURE,t.BOT_START,t.BOT_MESSAGE_WITH_USER_INPUT,t.PARENT_PAGE_IS_VISIBLE,t.FETCH_CONFIG_FAILURE,t.PUSH_TOKEN_SYNC_SUCCESS,t.XHR_ENDED_DUE_TO_NETWORK_DISCONNECT,t.DEVICE_ONLINE_SUCCESS,t.POLLER_FAILURE,t.EMPTY_FAST_POLLING_LIMIT_REACHED,t.FAST_POLLER_FAILURE_LIMIT_REACHED,t.ALL_PREVIOUS_ISSUES_ARE_FULL_PRIVACY,t.FOUND_LATEST_BOT_ATTACHMENT_MESSAGE,t.RESOLUTION_QUESTION_ACCEPT_END,t.RESOLUTION_QUESTION_REJECT_END,t.UPLOAD_ATTACHMENT_FOR_SDKX_IOS_CLICKED,t.CONVERTED_BASE64_STRINGS_TO_JS_FILES,t.NATIVE_FILES_ENTERED_NORMAL_ATTACHMENT_FLOW,t.LOG_CLIENT_DEBUG_MESSAGE,t.ATTACHMENT_RECEIVED_FROM_NATIVE_LAYER,t.NATIVE_FILES_BATCH_PROCESSED],$E=(BE(jE={},GE.NA,(BE(ME={},t.SET_PARENT_PAGE_INFO,GE.NA),BE(ME,t.SET_ANALYTICS_SESSION_ID,GE.NA),BE(ME,t.LOCAL_STORAGE_MIGRATION_SUCCESS,GE.NA),BE(ME,t.REHYDRATE,GE.NA),BE(ME,t.SET_CLIENT_CONFIG,GE.NA),BE(ME,t.SET_DEVICE_ID,GE.NA),BE(ME,t.FETCH_CONFIG_SUCCESS,GE.NA),BE(ME,t.SET_ANON_USER_ID,GE.NA),BE(ME,t.SET_APP_RESET_TRIGGER,GE.NA),BE(ME,t.TOGGLE_MINIMIZED,GE.NA),BE(ME,t.SET_WINDOW_IS_FOCUSED,GE.NA),BE(ME,t.SET_FOOTER_ACTIVE,GE.NA),BE(ME,t.NEW_CONVERSATION_STARTED,GE.NA),BE(ME,t.SET_USER_VIEWING_PAST_MESSAGES,GE.NA),BE(ME,t.SET_KEYBOARD_INTERACTION_IS_ACTIVE,GE.NA),BE(ME,t.UPDATE_REPLY_TEXT,GE.NA),BE(ME,t.SET_FOOTER_INACTIVE,GE.NA),BE(ME,t.UPDATE_USER_INPUT_DATA,GE.NA),BE(ME,t.CREATE_PREISSUE_REQUEST,GE.NA),BE(ME,t.SET_INITIAL_USER_MESSAGE,GE.NA),BE(ME,t.INTENTS_TREE_REQUEST,GE.NA),BE(ME,t.INTENTS_TREE_SUCCESS,GE.NA),BE(ME,t.SMART_INTENT_SELECTION,GE.NA),BE(ME,t.REPLACE_CIF,GE.NA),BE(ME,t.POLLER_REQUEST,GE.NA),BE(ME,t.POLLER_RESTART,GE.NA),BE(ME,t.POLLER_START,GE.NA),BE(ME,t.ANALYTIC_EVENTS_QUEUE_CLEARED,GE.NA),BE(ME,t.SET_LOCAL_GREETING_MESSAGE_ID,GE.NA),BE(ME,t.SET_CIF,GE.NA),BE(ME,t.SET_GREETING_MESSAGE,GE.NA),BE(ME,t.INITIAL_USER_MESSAGE_API_TRIGGERED,GE.NA),BE(ME,t.CONVERSATION_UPDATE_SIGNAL_RECEIVED,GE.NA),BE(ME,t.SET_BUSINESS_HOURS_CONTACT_FORM_DETAILS,GE.NA),BE(ME,t.DISABLE_BUSINESS_HOURS_CONTACT_FORM,GE.NA),BE(ME,t.BUSINESS_HOURS_FORM_SUBMIT_SUCCESS,GE.NA),BE(ME,t.ENABLE_BUSINESS_HOURS_CONTACT_FORM,GE.NA),BE(ME,t.USER_REPLY_SUCCESS,GE.NA),BE(ME,t.RESOLUTION_QUESTION_ACCEPT_SUCCESS,GE.NA),BE(ME,t.ENQUEUE_POLLER_DEPENDENT_ANALYTIC_EVENTS,GE.NA),BE(ME,t.APPEND_MESSAGES,GE.NA),BE(ME,t.SMART_INTENT_DESELECTION,GE.NA),BE(ME,t.SET_WIDGET_SHOULD_AUTO_OPEN,GE.NA),BE(ME,t.SET_TAGS,GE.NA),BE(ME,t.SET_RE_ENGAGEMENT_ID,GE.NA),BE(ME,t.SET_METADATA,GE.NA),BE(ME,t.SET_LITE_SDK_RELATED_CONFIG,GE.NA),BE(ME,t.SET_LANGUAGE,GE.NA),BE(ME,t.SET_FULL_PRIVACY,GE.NA),BE(ME,t.SET_CONVERSATION_METADATA,GE.NA),BE(ME,t.CREATE_PREISSUE_SUCCESS,GE.ACTIVE),ME)),BE(jE,GE.ACTIVE,(BE(DE={},t.SET_FOOTER_ACTIVE,GE.ACTIVE),BE(DE,t.POLLER_REQUEST,GE.ACTIVE),BE(DE,t.POLLER_RESTART,GE.ACTIVE),BE(DE,t.WS_CONFIG_SUCCESS,GE.ACTIVE),BE(DE,t.ANALYTIC_EVENTS_QUEUE_CLEARED,GE.ACTIVE),BE(DE,t.POLLER_START,GE.ACTIVE),BE(DE,t.TOGGLE_MINIMIZED,GE.ACTIVE),BE(DE,t.CONVERSATION_UPDATE_SIGNAL_RECEIVED,GE.ACTIVE),BE(DE,t.SET_FOOTER_INACTIVE,GE.ACTIVE),BE(DE,t.DISABLE_REPLY_BOX,GE.ACTIVE),BE(DE,t.ATTACHMENT_UPLOAD_FAILED,GE.ACTIVE),BE(DE,t.ENABLE_REPLY_BOX,GE.ACTIVE),BE(DE,t.SET_USER_VIEWING_PAST_MESSAGES,GE.ACTIVE),BE(DE,t.MARK_MESSAGES_SEEN_XHR_END,GE.ACTIVE),BE(DE,t.MARK_MESSAGES_SEEN_XHR_SUCCESS,GE.ACTIVE),BE(DE,t.SET_WINDOW_IS_FOCUSED,GE.ACTIVE),BE(DE,t.SET_KEYBOARD_INTERACTION_IS_ACTIVE,GE.ACTIVE),BE(DE,t.UPDATE_REPLY_TEXT,GE.ACTIVE),BE(DE,t.UPDATE_USER_INPUT_DATA,GE.ACTIVE),BE(DE,t.USER_REPLY_REQUEST,GE.ACTIVE),BE(DE,t.USER_REPLY_SUCCESS,GE.ACTIVE),BE(DE,t.RESET_USER_INPUT_DATA,GE.ACTIVE),BE(DE,t.BOT_END,GE.ACTIVE),BE(DE,t.BOT_MESSAGE_WITH_NO_USER_INPUT,GE.ACTIVE),BE(DE,t.SET_USER_SELECTED_OPTION,GE.ACTIVE),BE(DE,t.ATTACHMENT_UPLOAD_REQUEST,GE.ACTIVE),BE(DE,t.ATTACHMENT_UPLOAD_IN_PROGRESS,GE.ACTIVE),BE(DE,t.ATTACHMENT_UPLOAD_END,GE.ACTIVE),BE(DE,t.SET_APP_RESET_TRIGGER,GE.ACTIVE),BE(DE,t.TOGGLE_SYSTEM_TYPING,GE.ACTIVE),BE(DE,t.APPEND_MESSAGES,GE.ACTIVE),BE(DE,t.REMOVE_MESSAGE,GE.ACTIVE),BE(DE,t.TOGGLE_AGENT_TYPING,GE.ACTIVE),BE(DE,t.CHAT_FORM_FIELD_CHANGED,GE.ACTIVE),BE(DE,t.CHAT_FORM_FIELD_BLURRED,GE.ACTIVE),BE(DE,t.CHAT_FORM_SUBMIT_CLICKED,GE.ACTIVE),BE(DE,t.APP_REVIEW_REQUEST_CLICKED_SUCCESS,GE.ACTIVE),BE(DE,t.LARGE_ATTACHMENTS_RECEIVED_FROM_IOS,GE.ACTIVE),DE)),BE(jE,GE.RESOLVED,(BE(UE={},t.BOT_END,GE.RESOLVED),BE(UE,t.SET_FOOTER_ACTIVE,GE.RESOLVED),BE(UE,t.BOT_MESSAGE_WITH_NO_USER_INPUT,GE.RESOLVED),BE(UE,t.MARK_MESSAGES_SEEN_XHR_SUCCESS,GE.RESOLVED),BE(UE,t.MARK_MESSAGES_SEEN_XHR_END,GE.RESOLVED),BE(UE,t.RESOLUTION_QUESTION_ACCEPT_REQUEST,GE.RESOLVED),BE(UE,t.USER_REPLY_REQUEST,GE.RESOLVED),BE(UE,t.SET_KEYBOARD_INTERACTION_IS_ACTIVE,GE.RESOLVED),BE(UE,t.CONVERSATION_UPDATE_SIGNAL_RECEIVED,GE.RESOLVED),BE(UE,t.USER_REPLY_SUCCESS,GE.RESOLVED),BE(UE,t.RESOLUTION_QUESTION_ACCEPT_SUCCESS,GE.RESOLVED),BE(UE,t.UPDATE_CSAT_RATING,GE.RESOLVED),BE(UE,t.SET_USER_VIEWING_PAST_MESSAGES,GE.RESOLVED),BE(UE,t.UPDATE_CSAT_REVIEW,GE.RESOLVED),BE(UE,t.SET_CSAT_SAVE_IN_PROGRESS,GE.RESOLVED),BE(UE,t.RESET_CSAT,GE.RESOLVED),BE(UE,t.RESOLUTION_QUESTION_REJECT_REQUEST,GE.RESOLVED),BE(UE,t.RESOLUTION_QUESTION_REJECT_SUCCESS,GE.RESOLVED),BE(UE,t.UPDATE_REPLY_TEXT,GE.RESOLVED),BE(UE,t.SET_FOOTER_INACTIVE,GE.RESOLVED),BE(UE,t.UPDATE_USER_INPUT_DATA,GE.RESOLVED),BE(UE,t.SET_WINDOW_IS_FOCUSED,GE.RESOLVED),BE(UE,t.SET_USER_SELECTED_OPTION,GE.RESOLVED),BE(UE,t.POLLER_RESTART,GE.RESOLVED),BE(UE,t.POLLER_REQUEST,GE.RESOLVED),BE(UE,t.TOGGLE_MINIMIZED,GE.RESOLVED),BE(UE,t.APPEND_MESSAGES,GE.RESOLVED),BE(UE,t.ENABLE_REPLY_BOX,GE.RESOLVED),BE(UE,t.TOGGLE_SYSTEM_TYPING,GE.RESOLVED),BE(UE,t.SET_CSAT_COMPLETED,GE.RESOLVED),BE(UE,t.AGENT_FOLLOW_UP_REQUESTED,GE.RESOLVED),BE(UE,t.AGENT_FOLLOW_UP_ACCEPT_SUCCESS,GE.RESOLVED),BE(UE,t.STAR_RATING_UPDATE_WHEN_CONTEXT_IS_FEEDBACK_BOTS,GE.RESOLVED),BE(UE,t.CSAT_SUBMIT_SUCCESS_WHEN_FEEDBACK_BOTS,GE.RESOLVED),BE(UE,t.CHAT_FORM_FIELD_CHANGED,GE.RESOLVED),BE(UE,t.CHAT_FORM_FIELD_BLURRED,GE.RESOLVED),BE(UE,t.CHAT_FORM_SUBMIT_CLICKED,GE.RESOLVED),BE(UE,t.USER_INTERRUPT_FEEDBACK_BOT,GE.RESOLVED),BE(UE,t.SET_LEGACY_RESOLUTION_QUESTION_VISIBILITY,GE.RESOLVED),BE(UE,t.SET_LEGACY_CSAT_VISIBILITY,GE.RESOLVED),BE(UE,t.UPDATE_ISSUE_STATE,GE.ACTIVE),BE(UE,t.CHAT_END,GE.CLOSED),BE(UE,t.AGENT_FOLLOW_UP_REJECT_SUCCESS,GE.NA),UE)),BE(jE,GE.REJECTED,(BE(xE={},t.BOT_END,GE.REJECTED),BE(xE,t.BOT_MESSAGE_WITH_NO_USER_INPUT,GE.REJECTED),BE(xE,t.APPEND_MESSAGES,GE.REJECTED),BE(xE,t.ENABLE_REPLY_BOX,GE.REJECTED),BE(xE,t.TOGGLE_SYSTEM_TYPING,GE.REJECTED),BE(xE,t.CHAT_END,GE.CLOSED),xE)),BE(jE,GE.CLOSED,(BE(HE={},t.USER_REPLY_REQUEST,GE.CLOSED),BE(HE,t.RESOLUTION_QUESTION_ACCEPT_REQUEST,GE.CLOSED),BE(HE,t.CONVERSATION_UPDATE_SIGNAL_RECEIVED,GE.CLOSED),BE(HE,t.USER_REPLY_SUCCESS,GE.CLOSED),BE(HE,t.RESOLUTION_QUESTION_ACCEPT_SUCCESS,GE.CLOSED),BE(HE,t.MARK_MESSAGES_SEEN_XHR_SUCCESS,GE.CLOSED),BE(HE,t.MARK_MESSAGES_SEEN_XHR_END,GE.CLOSED),BE(HE,t.SET_USER_VIEWING_PAST_MESSAGES,GE.CLOSED),BE(HE,t.POLLER_REQUEST,GE.CLOSED),BE(HE,t.POLLER_RESTART,GE.CLOSED),BE(HE,t.TOGGLE_MINIMIZED,GE.CLOSED),BE(HE,t.SET_WINDOW_IS_FOCUSED,GE.CLOSED),BE(HE,t.SET_KEYBOARD_INTERACTION_IS_ACTIVE,GE.CLOSED),BE(HE,t.ENABLE_REPLY_BOX,GE.CLOSED),BE(HE,t.TOGGLE_SYSTEM_TYPING,GE.CLOSED),BE(HE,t.NEW_CONVERSATION_STARTED,GE.NA),HE)),jE);function zE(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var YE=n(4890),XE=YE.createStore,KE=YE.applyMiddleware,QE=YE.compose,JE=window.ENV_NAME!==Ac.PRODUCTION,ZE=KE(Kp.middleware,na,(function(e){var t=e.getState().appState.issueState,n=new VE(t,$E);return function(t){return function(r){var o=[].concat(zE(WE),zE(qE)).includes(r.type);e.dispatch(n.makeIssueStateTransition(r.type,o)),t(r),e.dispatch(n.handleConsistencyOfMachineIssueStateWithReduxIssueState(r.type,o))}}}),(function(e){return function(n){return function(r){var o;switch(r.type){case t.POLLER_RESTART:!function(e,t){bf&&(window.clearInterval(bf),bf=null),bf=window.setInterval((function(){Yf(e)}),t)}(e,r.payload.pollingInterval);break;case t.POLLER_START:e.dispatch($f(null===(o=r.payload)||void 0===o?void 0:o.options)),e.dispatch(OE())&&(IE(),e.dispatch(TE()));break;case t.POLLER_STOP:vE(),e.dispatch(zd());break;case t.USER_INTERRUPT_FEEDBACK_BOT:vE();break;case t.USER_REPLY_REQUEST:var a=r.fastPollingIsEnabled,i=r.feedbackBotHasToBeInterrupted,s=r.botStepInputIsExpected;!i&&a&&s&&e.dispatch(zf());break;case t.PAGE_VISIBILITY_CHANGE:if(Sf){var u=r.data,l=u.widgetIsMinimized,c=u.parentPageIsVisible,p=u.pollingStrategy;or.shouldPollerRestart({widgetIsMinimized:l,parentPageIsVisible:c,pollingStrategy:p})&&e.dispatch(zf())}break;case t.CONVERSATION_UPDATE_SIGNAL_RECEIVED:e.dispatch(OE())&&Nf&&(vf?wf=!0:e.dispatch(qf({fetchType:Uf})));break;case t.WS_DISCONNECTED_MAYBE:e.dispatch((function(e){e(OE())&&(e(Wf()),e(bE()))}));break;case t.WS_OPENED:e.dispatch(CE());break;case t.WS_CLOSED:e.dispatch((function(e){e(OE())&&(e(Wf()),e(bE()))}));break;case t.WS_ERROR:e.dispatch((function(e){e(OE())&&e(bE())}))}n(r)}}}),(function(e){return function(n){return function(r){switch(r.type){case t.CREATE_PREISSUE_SUCCESS:var o=r.hsSessionId;o&&(e.dispatch(LE(o)),FE(o)),Cd.setPongShouldBeSent(!1);break;case t.POLLER_SUCCESS:var a=r.payload,i=a.hsSessionId,s=a.pollerCallIsFirst,u=a.issueType;if(s)u===wE.ISSUE?Cd.setPongShouldBeSent(!0):Cd.setPongShouldBeSent(!1),void 0!==i&&(e.dispatch(LE(i)),FE(i));!function(e){var t=e.previousIssueType,n=e.issueType;t===wE.PRE_ISSUE&&n===wE.ISSUE&&Cd.setPongShouldBeSent(!0)}(r.payload);break;case t.WS_OPENED:NE=!0,PE&&(window.clearInterval(PE),PE=null);break;case t.WS_CLOSED:NE=!1,PE&&window.clearInterval(PE),PE=window.setInterval((function(){if(!NE){var t=e.getState().appState.hsSessionId;e.dispatch(LE(t)),FE(t)}}),3e4)}n(r)}}}),(function(e){return function(n){return function(r){switch(r.type){case t.CREATE_PREISSUE_SUCCESS:var o=e.dispatch;(0,e.getState)().appState.source===Ys.PROACTIVE&&o(Vs(g(me))),o(Bs());break;case t.BUSINESS_HOURS_FORM_SUBMIT_SUCCESS:(0,e.dispatch)(Bs())}n(r)}}}),(function(e){return function(n){return function(r){var o,a,i=e.getState().appState.liteSdkConfig,s=!!(null==i?void 0:i.os),u=r.payload;switch(r.type){case t.LOG_CLIENT_DEBUG_MESSAGE:var l=e.getState().appState.loggingIsEnabled,c=void 0!==l,p=r.payload,d=p.level,f=p.message,E=p.eventType;c&&l&&(Da({level:d,message:f,eventType:E,contextIsSdkx:s}),u={});break;case t.SET_CLIENT_CONFIG:(null===(o=r.config)||void 0===o?void 0:o.enableLogging)&&(null==(a=e.getState().debug.logsQueue)?void 0:a.length)&&a.forEach((function(e){var t=e.level,n=e.message,r=e.eventType;Da({level:t,message:n,eventType:r,contextIsSdkx:s})}))}n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(n),!0).forEach((function(t){xa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{payload:u}))}}}),(function(e){return function(n){return function(r){n(r),r.type===t.BATCH_ACTIONS?r.actions.forEach((function(t){ka(e,t)})):ka(e,r)}}}));JE&&(ZE=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||QE)(ZE));var ey=XE(Zo,ZE),ty=function(){var e=ey.getState().appState.liteSdkConfig;return!!(null==e?void 0:e.os)},ny=function(){var e=ey.getState().appState.liteSdkConfig;return ty()&&"ios"===(null==e?void 0:e.os)},ry=ty,oy=ny,ay=function(){var e,t=ey.getState().appState.liteSdkConfig;return ke(null==t||null===(e=t.metaData)||void 0===e?void 0:e.osVersion,"11.0.0")},iy=function(){var e,t,n=ey.getState().appState.liteSdkConfig;return ny()&&ke(null==n||null===(e=n.metaData)||void 0===e?void 0:e.osVersion,"11.0.0")&&!ke(null==n||null===(t=n.metaData)||void 0===t?void 0:t.osVersion,"12.0.0")},sy=ue;function uy(e){var t=new FormData,n=e.file,r=e.files,o=e.headers,a=e.route;if(!!n)if(iy()){var i=new Blob([n],{type:n.type});t.append("attachment",i,n.name)}else t.append("attachment",n);else(null==r?void 0:r.length)&&r.forEach((function(e){if(iy()){var n=new Blob([e],{type:e.type});t.append("attachments",n,e.name)}else t.append("attachments",e)}));if(e.formData)for(var s in e.formData)e.formData.hasOwnProperty(s)&&t.append(s,e.formData[s]);var u=new XMLHttpRequest;for(var l in e.onProgress&&u.upload.addEventListener("progress",e.onProgress),u.open("POST",a,!0),o)o.hasOwnProperty(l)&&u.setRequestHeader(l,o[l]);return u.onreadystatechange=function(t){if(4===u.readyState)switch(t.target.status){case 201:e.onSuccess&&e.onSuccess(JSON.parse(this.responseText));break;case 400:case 401:case 415:case 500:case 503:var n=null,r=null,o=t.target.status;try{r=(n=JSON.parse(this.responseText)).msg||"Default error"}catch(e){r="Default error"}var a=415===o?sy.INVALID_TYPE:sy.RETRY;e.onFailure&&e.onFailure({statusCode:o,error:!0,responseData:n,errorMsg:r,errorCode:a});break;default:e.onFailure&&e.onFailure({error:!0,errorMsg:"Default error",errorCode:sy.FAILURE})}4===t.target.readyState&&e.onEnd&&(e.onProgress&&u.upload.removeEventListener("progress",e.onProgress),e.onEnd(u))},u.send(t),function(){u.abort(),u=null,e.onAbort&&e.onAbort({error:!0,errorMsg:"Aborted",errorCode:sy.ABORTED})}}var ly=nt.ACTION_TYPES,cy=function(e){var t=e.url,n=e.phoneNumber;switch(e.actionType){case ly.LINK:return t;case ly.CALL:return n;default:return null}},py=nt.TYPE,dy=nt.MESSAGE_ADD_EVENT_TYPES,fy=Br.ATTACHMENT_COUNT_LIMIT_BY_SOURCE,Ey=Se.ACTIVE_FOOTER,yy=Se.CURSOR_TYPES,my=Se.FILE_NAME_CHARACTER_LENGTH_LIMIT,hy=Se.CHARS_TO_PICK_FROM_START_AND_END_OF_FILENAME,gy=ue,_y=ye,Sy=W,vy=z,by=Hu.EVENT,Ty=Hu.EXPIRY_EVENT,Iy=it,Ay=function(e){return{type:t.UPDATE_Rpayload:{options:e}})},Oy=function(e){return{type:t.UPDATE_USER_INPUT_DATA,input:e}},Ry=function(e){return{type:t.SET_LOADING_MORE_MSGS_FAILED,loadingMoreMsgsHasFailed:e}},wy=function(e){return{type:t.TOGGLE_CONVERSATIONS_LOADER,loading:e}},Py=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r=n(),o=r.appState,a=o.activeIssueId,i=o.issueType,s=o.issueState,u=o.featuresEnabled.feedbackBot,l=r.chatView,c=l.userInput,p=l.userReplyXhrInProgress,d=r.ui.text,f=c.value.trim(),E=e.onSuccess;if(!p&&!or.isUserInputAbsent(c)){var y=or.validateUserInput(c,d);y?t(Oy({errorMsg:y})):s!==Sy.REJECTED?(t(Oy({value:f})),i!==vy.INITIAL?t(Wp({onSuccess:function(){u||Ny(s),t(Yu()),E&&E()}})):(t(Tl(f)),t(pp.createPreIssue()))):t(Np.createMessage({type:py.TEXT,issueId:a,messageConfig:{body:f,isCustom:function(){t(Ay(""))}}))}}},Ny=function(e){var t=ey.dispatch;e===Sy.RESOLVED&&(t(Uu([ml(!1),Np.setChatViewFooter(Ey.REPLY),Fy(Sy.ACTIVE)])),Cy(),t(_s()))},Fy=function(e,n){var r=e;return n&&(r=or.getProcessedIssueState(e)),{type:t.UPDATE_ISSUE_STATE,state:r}},Ly=function(e){return function(n,r){var o=r(),a=o.appState,i=a.domain,s=a.activeIssueId,u=a.issueState,l=a.liteSdkConfig,c=a.fastPollingIsEnabled,p=a.useNativePickerForIosAttachments,d=o.chatView.issueCursor,f=e.file,E=e.attachmentMsgId,y=e.messageType,m=e.referringMessageId,h=e.chatBotInfo,g=or.getPluralizedIssueType(vy.ISSUE),_={"issue-id":s,"message-type":y};m&&(_.refers=m),h&&(_.chatbot_info=JSON.stringify(h)),n({type:t.ATTACHMENT_UPLOAD_REQUEST,payload:{attachmentMsgId:E,uploadIsInProgress:!0,uploadProgress:0,messageType:y,referringMessageId:m}}),uy({route:Ou(i,s,g),formData:n(rl(_,{skipPlatformId:!0})),file:xy(f)?Hy(f):f,headers:n(nl()),onSuccess:function(e){var t,r,o;n(Ts(dy.ATTACHMENT)),Ny(u),n(Uu([Np.removeMessage(E),Np.addMessages({messages:[e],contextIsLiteSdk:!(!l||!l.os),fastPollingIsEnabled:c,issueCursor:d})])),n(Yu()),t={id:e.id,type:e.type},r=t.type,o=t.id,ey.dispatch(Ec(by.ADD_MESSAGE,{type:r===py.TEXT?"txt":r,id:o}))},onFailure:function(e){var t={messageId:E,errorCode:e.errorCode,statusCode:e.statusCode,referringMessageId:m,messageType:y};n(My(t))},onEnd:function(e){n({type:t.ATTACHMENT_UPLOAD_END,payload:{attachmentMsgId:E,uploadIsInProgress:!1,uploadProgress:null,useNativePickerForIosAttachments:p}});var r={messageId:E,errorCode:gy.RETRY,messageType:y,referringMessageId:m};Iy()&&!e.status?n(My(r)):window.navigator.onLine||n(My(r))},onProgress:function(e){if(e.loaded&&e.total&&e.total>0){var r=e.loaded/e.total*100;n({type:t.ATTACHMENT_UPLOAD_IN_PROGRESS,payload:{progress:r,attachmentMsgId:E}})}}})}},ky=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r,o){var a=o(),i=a.appState,s=a.chatView,u=i.activeIssueId,l=i.attachmentsWhitelist,c=i.useNativePickerForIosAttachments,p=s.nativeFilesRequestContext.largeAttachmentNames,d=n.referringMessageId,f=n.allowedFileTypes,E=n.chatBotInfo,y=n.attachmentMsgId,m=l;e===py.RESP_TEXT_MSG_WITH_FILE_INPUT&&(m=f),r(y?Ly({messageType:e,file:t,attachmentMsgId:y,referringMessageId:d,chatBotInfo:E}):Np.createMessage({type:e,issueId:u,messageConfig:{file:t,referringMessageId:d,chatBotInfo:E},onAddMessage:function(n){y=n.id;var o=!yo(n.file.type,m)||e===py.SCREENSHOT_SENT&&!ho(n.file.type),a={messageId:y,messageType:e,referringMessageId:d,failureIsClientSide:!0,useNativePickerForIosAttachments:c};o?(a.errorCode=gy.INVALID_TYPE,r(My(a))):Eo(n.file.size,e)?c&&p.includes(n.file.name)?(a.errorCode=gy.SIZE_EXCEEDED,r(My(a))):r(Ly({messageType:e,file:t,attachmentMsgId:y,referringMessageId:d,chatBotInfo:E})):(a.errorCode=gy.SIZE_EXCEEDED,r(My(a)))}}))}},My=function(e){var n=e.messageId,r=e.errorCode,o=e.statusCode,a=e.messageType,i=e.referringMessageId,s=e.failureIsClientSide,u=e.useNativePickerForIosAttachments;return{type:t.ATTACHMENT_UPLOAD_FAILED,payload:{messageId:n,errorCode:r,statusCode:o,messageType:a,referringMessageId:i,failureIsClientSide:s,useNativePickerForIosAttachments:u}}},Dy=function(){return{type:t.RESET_CSAT}},Uy=function(e){return{type:t.SET_CSAT_SAVE_IN_PROGRESS,progress:e}},xy=function(e){return!(e.name.length<my)},Hy=function(e){var t=e.name,n=t.substring(0,hy),r=t.substring(t.length-hy);return new File([e],n+"..."+r,{type:e.type})},jy={updateReplyText:Ay,submitReply:Py,startPollingForMessages:Cy,{type:t.POLLER_STOP})},handleScrollPastExistingConversation:function(e){var n=ey.dispatch;n({type:t.SET_USER_VIEWING_PAST_MESSAGES,isViewing:e}),n(Np.markMessagesSeen())},switchToChatView:function(){return function(e){e(Np.markMessagesSeen()),e(sl(U)),e(Ms({activeView:U}))}},loadMoreMessages:function(e){var n=ey.dispatch,r=(0,ey.getState)(),o=r.appState,a=o.domain,i=o.fullPrivacyEnabled,s=o.featuresEnabled,u=s.conversationHistory,l=s.showConversationId,c=o.issueType,p=o.liteSdkConfig,d=o.fastPollingIsEnabled,f=o.activeIssueId,E=r.chatView,y=E.messageCursor[yy.BACKWARD],m=y.value,h=y.meta,g=h.issueType,_=h.preIssueId,S=h.issueId,v=E.issueCursor,b=E.pastConversationsLoading;if(c!==vy.INITIAL&&!b){var T={cursor:m};g===vy.ISSUE?T.issue_id=S:T.preissue_id=S,n(wy(!0)),yu({route:wu(a),data:n(rl(T)),method:"POST",headers:n(nl()),onSuccess:function(e){var r=e.issues,o=e.has_older_messages;if(r.length){var a=or.createLinearMessageList(r,{fullPrivacyEnabled:i,showConversationIdIsEnabled:l,lastGroupId:_,hasOlderMsgs:o,conversationHistoryEnabled:u&&!i}),s=Tn.getAvatarTs(a);n(function(e){return{type:t.UPDATE_AVATAR_LAST_UPDATED_TS,avatarsTs:e}}(s));var c,E=r[r.length-1],y=r[0],m=y.resolution_question_expiry_at,h=y.csat_expiry_at,g=y.feedback_bots_enabled,S=y.follow_up_supported_sdk,b=y.follow_up_expired,T=y.publish_id;n({type:t.GET_CONVERSATION_HISTORY_SUCCESS,payload:{resolutionQuestionExpiryTimestamp:m,csatBotExpiryTimestamp:h,requiredMessagesHaveLoaded:or.haveRequiredMessagesLoaded({hasOlderMsgs:o,conversationHistoryEnabled:u&&!i,issues:r}),feedbackBotIsEnabled:g,agentFollowupIsSupported:S,agentFollowupHasExpired:b,updateIsForActiveIssue:T===f}}),n(Uu([Ry(!1),Np.addMessages({messages:a,prepend:!0,contextIsLiteSdk:!(!p||!p.os),fastPollingIsEnabled:d,issueCursor:v})])),n((c=or.saveMessageCursor({issue:E,cursorType:yy.BACKWARD}),{type:t.SET_ACTIVE_ISSUE_MSG_CURSOR,msgCursor:c.msgCursor}))}},onFailure:function(){n(Ry(!0))},onEnd:function(){n(wy(!1)),"function"==typeof e&&e()}})}},createAttachmentMessages:function(e,t){return function(n,r){var o=e.length||0,a=Ro(t);if(o>fy[a]){var i=r().ui.text.attachmentLimitReached,s=wo(i,t);n($o({message:s,type:_y.MAX_ATTACHMENT_COUNT_EXCEEDED}))}else{n(Xs());for(var u=0;u<o;u++)n(ky(py.ATTACHMENT,e[u]));window.setTimeout((function(){n(Ks())}),0)}}},createAttachmentMessage:ky,setUserSelectedOption:function(e){return{type:t.SET_USER_SELECTED_OPTION,option:e}},skipUserInput:function(){return function(e){e(Oy({skipped:!0})),e(Wp())}},selectIntent:function(e){return function(t){t(Pl(e)),e.children?t(Ec(by.SMART_INTENT_SELECTION,{intent:e})):(t(Ec(by.SMART_INTENT_SELECTION,{intent:e})),t(pp.createPreIssue()))}},handleActionClick:function(e){var t=e.messageId,n=e.actionId,r=e.actionType,o=e.linkShouldOpenInNewTab,a=e.url,i=e.phoneNumber;return function(e,s){var u=s().appState,l=u.internalIssueId,c=u.sdkConfigOptions.fullScreen;e(Ec(by.ACTION_CARD_CLICKED,{issueId:l,messageId:t,actionId:n,actionType:r})),o||c||e(Fl(!0)),e($s(r,cy({actionType:r,url:a,phoneNumber:i})))}},handleParefunction(t){t(iu(e))}},updateCsatRating:function(e){var n=ey.dispatch;return(0,ey.getState)().chatView.csatSurveyEventIsTriggered||n(Ec(by.CSAT,{event:by.CSAT_TAKING_SURVEY})),{type:t.UPDATE_CSAT_RATING,rating:e,csatSurveyEventIsTriggered:!0}},updateCsatReview:function(e){return{type:t.UPDATE_CSAT_REVIEW,review:e}},submitCsat:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var r=n(),o=r.appState,a=o.domain,i=o.activeIssueId,s=o.internalIssueId,u=r.chatView,l=u.rating,c=u.review;if(l){var p={rating:l},d=c.trim();d&&!e&&(p.comment=d),t(Uy(!0)),yu({route:bu(a,i),method:"POST",headers:t(nl()),data:t(rl(p)),onSuccess:function(){t(Is({rating:l,review:d})),t(Dy())},onFailure:function(e){try{"csat timer expired"===JSON.parse(e.response).msg&&t(Ec(by.TIMER_EXPIRED,{issueId:s,feature:Ty.CSAT_BOT}))}catch(e){return}},onEnd:function(){t(Uu([hl(),Uy(!1)])),t(Np.showPostIssueResolutionFooter()),t(Ec(by.CSAT,{event:by.CSAT_SURVEY_SUBMITTED}))}})}}},resetCsat:Dy,selectEmoji:function(e){return{type:t.SELECT_EMOJI,payload:{value:e}}},onUpdateStarRatingWhenContextIsFeedbackBots:function(e){var n=ey.getState,r=ey.dispatch;return n().chatView.csatSurveyEventIsTriggered||r(Ec(by.CSAT,{event:by.CSAT_TAKING_SURVEY})),{type:t.STAR_RATING_UPDATE_WHEN_CONTEXT_IS_FEEDBACK_BOTS,payload:{value:e}}},uploadAttachmentForSdkxIosClicked:function(e,n){return{type:t.UPLOAD_ATTACHMENT_FOR_SDKX_IOS_CLICKED,payload:{eventId:e,source:n}}},convertedBase64StringsToJsFiles:function(e){return{type:t.CONVERTED_BASE64_STRINGS_TO_JS_FILES,payload:{files:e}}},nativeFilesEnteredNormalAttachmentFlow:function(){return{type:t.NATIVE_FILES_ENTERED_NORMAL_ATTACHMENT_FLOW}},handleChatFormFieldChange:function(e,n){return function(r,o){var a=o(),i=a.chatView.userInput.formFields,s=a.ui.text,u=ae(i,e,"id");if(-1!==u){var l,c=i[u];c.hasOwnProperty("errorMsg")&&(c.value=n,l=or.validateUserInput(or.createUserInputFromChatFormField(c),s)),r({type:t.CHAT_FORM_FIELD_CHANGED,payload:{formFieldIndex:u,updatedValue:n,errorMsg:l}})}}},handleChatFormFieldBlur:function(e){return function(n,r){var o=r(),a=o.chatView.userInput.formFields,i=o.ui.text,s=ae(a,e,"id");if(-1!==s){var u=a[s],l=or.validateUserInput(or.createUserInputFromChatFormField(u),i);n({type:t.CHAT_FORM_FIELD_BLURRED,payload:{formFieldIndex:s,errorMsg:l}})}}},handleChatFormSubmit:function(){return function(e,n){var r=n(),o=r.chatView.userInput.formFields,a=r.ui.text,i=!0;o.forEach((function(e){e.errorMsg=or.validateUserInput(or.createUserInputFromChatFormField(e),a),i&&(i=!e.errorMsg)})),e({type:t.CHAT_FORM_SUBMIT_CLICKED,formFields:o}),i&&e(Py())}},attachmentUploadFailed:My,largeAttageAttachmentNames:e}}}},Vy=function(e){return function(t){var n=e.trigger,r=e.callback;r&&r(),t(bl(n)),t(Al()),t(ll()),t(ds()),Oa()}},By=function(e){return!("string"!=typeof e||!e.trim())},Gy=function(e,n,r){ey.dispatch({type:t.LOG_CLIENT_DEBUG_MESSAGE,payload:{level:e,message:n,eventType:r}})},Wy=function(e,t){Gy("log",e,t)},qy=function(e(e,t){Gy("error",e,t)},zy=ba,Yy=q,Xy=function(e){var t=e.userId,n=e.clearAnonymousUserOnLogin,r=e.isLiteSdk;if(!(0,ey.dispatch)(De(ls))){var o=Aa(zy.LAST_ACTIVITY_TIME,!0),a=Date.now()-o;!r&&o&&a>Yy&&Ca(zy.ANON_USER_ID),en.isUserIdValid(t)&&n&&t&&Ca(zy.ANON_USER_ID)}};function Ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ky(Object(n),!0).forEach((function(t){Jy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ky(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zy(e){return Zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(e)}var em=$,tm=X,nm=Q,rm=J,om=Z,am=w.SHADES,im=Hu.EVENT,sm=ce,um=de,lm=um.MISSING_USER_AUTH_TOKEN,cm=um.INVALID_USER_AUTH_TOKEN,pm=fe,dm="NOT_AVAILABLE",fm=ba,Em=at(),ym=null,mm=function(e){return{type:t.SET_DEVICE_ID,id:e}},hm=function(e){return{type:t.SET_ANON_USER_ID,id:e}},gm=function(e){var t=Aa(fm.CONFIG,!0);if(!t||!t[e])return!0;var n=(0,ey.getState)().appState,r=n.liteSdkConfig,o=t[e].currentHelpshiftConfigWhichTriggerConfigRefetch,a=!1;return rm.forEach((function(e){((null==o?void 0:o[e])?o[e]===n[om[e]]:!n[om[e]])||(a=!0)})),(null==r?void 0:r.launchedFromHelpcenter)&&(a=!0),a},_m=function(e,t){var rn e.split(".").pop()}(e);return'@font-face {  font-family: "custom";'+'  src: url("'.concat(e,'") format("').concat(o,'");')+"  font-weight: ".concat(n,";")+"  font-style: ".concat(r,";")+"}"},Sm=function(e){var n=e.response,r=e.trigger,o=e.helpshiftConfig,a=e.currentTime,i=e.updateLs,s=ey.dispatch,u=ey.getState,l=u(),c=l.appState,p=c.userId,d=c.phoneNumber,f=c.userEmail,E=c.anonUserIdentifier,y=c.domain,m=c.liteSdkConfig,h=m.metaData,g=m.os,_=c.deviceId,S=c.issueExists,v=c.initiateChatOnLoad,b=l.ui.text,T=b.giveFeedback,I=b.singleMessageNotfication,A=b.multipleMessageNotification,C=ry(),O=h?h.liteSdkVersion:null,R=h?h.osVersion:null,w=n.user_auth_status;Yc(Cc.CONFIG_RESPONSE_CHECK,"checking whether response.appearance is defined or not",{responseLength:Object.keys(n).length,appearance:n.appearance,did:_,dataIsFetchedFromBackend:i});var P,N,F,L,k,M,D=n.appearance.fonts,U=en.getUniqueUserIdentifier({userId:p,phoneNumber:d,userEmail:f,anonUserIdentifier:E});"custom"===(null==D?void 0:D.type)&&function(e){var t=document.createElement("style");t.appendChild(document.createTextNode(e)),document.head.appendChild(t)}((N=(P=D).regular_font_file_url,F=P.italic_font_file_url,L=P.bold_font_file_url,k=P.bold_italic_font_file_url,(M=[]).push(_m(N,{weight:"normal",style:"normal"})),M.push(_m(F,{weight:"normal",style:"italic"})),M.push(_m(L,{weight:"bold",style:"normal"})),M.push(_m(k,{weight:"bold",style:"italic"})),M.join("\n")));var x={};(rm.forEach((function(e){var t=u().appState[om[e]];t&&(x[e]=t)})),w!==lm&&w!==cm||s(ol({userAuthStatus:w,responseText:pm[w]})),s({type:t.FETCH_CONFIG_SUCCESS,config:n,currentTime:a,updateLs:i,browserIsMobile:Em,helpshiftConfig:o,uniqueUserIdentifier:U,currentHelpshiftConfigWhichTriggerConfigRefetch:x,deviceId:_,giveFeedbackText:T}),Om(),n.wm_widget_enabled)&&(Im(),s(Es(Tm(),S)),function(){var e=ey.getState().appState,t=document.querySelector(".hs-page");e.browserIsMobile&&t.classList.add("hs-page--mobile"),e.sdkConfigOptions.fullScreen&&t.classList.add("hs-page--full-screen")}(),function(){var e=ey.dispatch,t=ey.getState;if(e(en.isOutOfBusinessHours()))e(sl(H)),e(Ms({activeView:H}));else{var n=t().appState,r=n.issueExists,o=n.appResetTrigger,a=!n.minimized;r||(e(As({open:!1,latestIssueId:dm,latestIssuePublishId:dm})),e(_c())),o===tm.NEW_CONV_VIA_INITIAL_USER_MESSAGE_API||o===tm.UPDATE_HELPSHIFT_CONFIG_API&&a&&!r?e(Np.startNewConversation({resetSessionId:!0})):r&&jy.startPollingForMessages({onFirstPollHavingEmptyIssues:function(){e(Np.startNewConversation({resetSessionId:!0}))}}),e(bl(tm.INITIAL)),e(Bd()),e(Gd())}}(),r===em.RESET||C||s(Ec(im.WIDGET_LOAD)),v&&s(Ec(im.INITIATE_CHAT_IS_SET)),u().appState.featuresEnabled.audioNotifications&&!C&&zu());if(C){var j={singleMessageNotfication:I,multipleMessageNotification:A,domain:y,os:g,liteSdkVersion:O,osVersion:R};s(De(ls))||(j.anonUserIdentifier=E),s(Ls(Am(j)))}},vm=function(e){var n=e.callbacks,r=e.trigger,o=e.helpshiftConfig,a=e.currentTime;return function(e,i){var s=i().appState,u=s.userId,l=s.phoneNumber,c=s.userEmail,p=s.anonUserIdentifier,d=en.getUniqueUserIdentifier({userId:u,phoneNumber:l,userEmail:c,anonUserIdentifier:p});!function(e){var n=Aa(fm.SUGGESTED_FAQ_READ_TRACKED),r=Aa(fm.READ_FAQ_LIST,!0),o=Aa(fm.RE_ENGAGEMENT_ID),a=Aa(fm.WIDGET_SHOULD_AUTO_OPEN),i=Aa(fm.PFI_VALUE)?Aa(fm.PFI_VALUE):0,s=Aa(fm.CONFIG,!0),u=Aa(fm.RESPECT_PFI,!0),l=Aa(fm.RELEASE_TAG),c=null,p=null,d=Aa(fm.WS_CONFIG),f=null;d&&(f=JSON.parse(atob(d))),s&&s[e]&&(c=s[e].lastConfigFetchTs,p=s[e].issueExistsDataIsStaleInLocalStorage),ey.dispatch({type:t.REHYDRATE,data:{suggestedFaqReadTracked:n,readFaqList:r,reEngagementId:o,widgetShouldAutoOpen:a,pfiValue:i,lastConfigFetchTs:c,respectPfi:u,issueExistsDataIsStaleInLocalStorage:p,wsConfig:f,releaseTag:l}})}(d);var f=i().appState.issueExistsDataIsStaleInLocalStorage,E=i().appState,y=E.pfiValue,m=E.lastConfigFetchTs,h=E.respectPfi,g=function(e){var t=Aa(fm.CONFIG,!0);return t&&t[e]?t[e].config:null}(d),_=function(e){var t=e.pfiValue,n=e.lastConfigFetchTs,r=e.currentTime,o=e.respectPfi,a=e.configFromLs,i=e.issueExistsDataIsStaleInLocalStorage,s=e.uniqueUserIdentifier,u=!o||!t||t&&parseInt(n,10)+parseInt(t,10)<=r;return gm(s)||!(!1===i)||u||!u&&!a}({pfiValue:y,lastConfigFetchTs:m,currentTime:a,respectPfi:h,configFromLs:g,issueExistsDataIsStaleInLocalStorage:f,uniqueUserIdentifier:d});_?e(function(e){var t=e.callbacks;return function(e,n){var r=n().appState.domain,o=e(rl());o.nonce=Date.now(),ym=yu({route:_u(r),headers:e(nl(!1)),data:o,onSuccess:t.onSuccess,onFailure:t.onFailure})}}({callbacks:n})):Sm({response:g,trigger:r,helpshiftConfig:o})}},bm=function(){var e=ey.getState().ui.colorConfig,t=e.primaryColor.value,n={launcherBgColor:t,launcherBgColorLight:l(t,am.LIGHT_20.opacity),launcherTextColor:e.primaryTextColor.value,notificationBgColor:e.secondaryColor.value,notificationTextColor:e.secondaryTextColor.value,focusRingColor:e.focusRingColor.value,crossIconColor:e.contentColorOpacity50.value,crossIconHoverColor:e.contentColorOpacity70.value,crossIconBgColor:e.contentColorOpacity5.value};return Em||(n.gradientSecondaryColor=e.gradientPrimaryColor.value),n},Tm=function(){var e=ey.dispatch,t=(0,ey.getState)(),n=t.appState,r=n.wcEnabled,o=n.widgetShouldAutoOpen,a=n.sdkConfigOptions.fullScreen,i=t.ui.text,s=i.ariaLabelOpenChat,u=i.ariaLabelCloseChat,l=i.ariaLabelLauncherBtnBadge,c=e(en.isWidgetHiddenOutOfBusinessHours());return{widgetEnabled:r&&!c,cssConfig:bm(),fullScreen:a,widgetShouldAutoOpen:o,translations:{ariaOpenWcLabel:s,ariaCloseWcLabel:u,ariaWcBadgeLabel:l},isMobile:at()}},Im=function(){var e=ey.getState().ui.colorConfig;Object.keys(e).forEach((function(t){var n=e[t],r=n.cssVarName,o=n.value;document.body.style.setProperty(r,o)}))},Am=function(e){var t=e.singleMessageNotfication,n=e.multipleMessageNotification,r=e.anonUserIdentifier,o=e.domain,a=e.os,i=e.liteSdkVersion,s=e.osVersion,u=a===nm.IOS?"iOS":"Android",l=ey.dispatch,c={network_headers:Qy({},l(nl()),{"User-Agent":"Helpshift-".concat(u,"/").concat(i,"/").concat(s),"X-HS-V":"Helpshift-".concat(u,"/").concat(i),"Accept-Encoding":"gzip"}),polling_route:ku(o),push_token_sync_route:Lu(o),notification_content:{single_message:t,plural_message:n,placeholder:"{{d}}"},user_data_key_mapping:{userId:"uid",userEmail:"email",userAuthToken:"user_auth_token"}};return l(De(ls))||(c&(ym.abort(),ym=null)},Om=function(){var e=ey.getState().ui.colorConfig,t=e.backgroundColor.value,n=e.primaryColor.value;ey.dispatch(ws({primaryColor:s(n),chatWidgetBgColor:s(t)}))},Rm=function(e){var t=e.deviceId,n=e.isLiteSdk;return function(){var e;t&&n?e=t:(e=Aa(fm.DEVICE_ID))||(e=At()),ey.dispatch(mm(e))}},wm=function(e){var t=e.liteSdkConfig,n=e.clearAnonymousUserOnLogin,r=!!(null==t?void 0:t.os),o=ey.dispatch;return function(){var e=Aa(fm.ANON_USER_ID);e||o(De(ls))||(e=en.getAnonUserId()),r&&t.anonUserId&&(!o(De(ls))&&n||(e=t.anonUserId)),Ia(fm.ANON_USER_ID,e),o(hm(e))}},Pm=function(e){var n=e.tags,r=e.userId,o=e.userEmail,a=e.clearAnonymousUserOnLogin,i=e.userName,s=e.language,u=en.isUserIdValid,l=en.isEmailValid;return e.tags=function(e){var t=null;return Array.isArray(e)&&urn"string"==typeof e}))),t}(n),(r&&!u(r)||o&&!l(o))&&(delete e.userId,delete e.userEmail),By(i)?e.userName=i.trim().slice(0,255):(""!==e.userName&&qy("An invalid value was received for userName. Expected a non-empty string value but"+" received this instead: Type: ".concat(Zy(e.userName),",")+' Value (without quotes): "'.concat(e.userName,'"')),delete e.userName),s?"browserDefault"===s&&delete e.language:e.language="en-US",Xy({userId:r,clearAnonymousUserOnLogin:a,isLiteSdk:!!e.liteSdkConfig}),{type:t.SET_CLIENT_CONFIG,config:e}},Nm=function(e){var n=e.trigger,r=e.helpshiftConfig;return function(e){var o=Date.now(),a={onSuccess:function(e){Sm({response:e,trigger:n,helpshiftConfig:r,currentTime:o,updateLs:!0})},onFailure:function(){!function(){var e=ey.dispatch,n=(0,ey.getState)().appState.sdkConfigOptions.fullScreen;if(ry()){Om(),Im();var r={fullScreen:n,isMobile:at()};e(ys(r)),e({type:t.FETCH_CONFIG_FAILURE})}}()}};e(vm({callbacks:a,trigger:n,helpshiftConfig:r,currentTime:o}))}},Fm=function(e){return{type:t.TOGGLE_MINIMIZED,minimized:e}},Lm=function(e){return{type:t.REPLACE_CIF,cif:e}},km=function(e){return{type:t.SET_PARENT_PAGE_INFO,parentPageInfo:e}},Mm=function(e){return{type:t.SET_RE_ENGAGEMENT_ID,id:e}},Dm=function(e){return{type:t.SET_WINDOW_IS_FOCUSED,windowIsFocused:e}},Um=Cm,xm=function(){return function(e,t){switch(t().chatView.error.type){case sm.PRE_ISSUE_FAILURE:e(pp.createPreIssue());break;case sm.USER_IS_REDACTED:e(Vy({trigger:tm.UPDATE_HELPSHIFT_CONFIG_ArtCreatePreissueXhr()}}));break;case sm.PRE_ISSUE_TIME_OUT:default:jy.startPollETADATA,bcl:n,dbgl:r}},jm=n(7294),Vm=n(5697);function Bm(){return Bm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bm.apply(this,arguments)}function Gm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Wm=jm.useState,qm=jm.useEffect,$m=jm.createRef,zm=function(e){var t=e.imageHasLoaded,n=e.url,r=e.wrapperClasses,o=e.wrapperHeight,a=e.onClick,i=e.onImageLoad,s=e.wrapperHeightIsDynamic,u=e.imageAttachmentAriaLabel,l={objectFit:"cover",height:"".concat(o,"px")},c=null;return!t&&s&&(c=jm.createElement("img",{className:"hs-message__height-finder",src:n,onLoad:i,alt:"Attachment"})),jm.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer","aria-label":u,onClick:a},jm.createElement("img",{style:l,className:r,src:n,"aria-hidden":"true",alt:"Attachment"}),c)};zm.propTypes={imageHasLoaded:Vm.bool,url:Vm.string.isRequired,wrapperClasses:Vm.string,wrapperHeight:Vm.number,onClick:Vm.func,onImageLoad:Vm.func.isRequired,wrapperHeightIsDynamic:Vm.bool,imageAttachmentAriaLabel:Vm.string};var Ym=function(e){var t=e.imageHasLoaded,n=e.wrapperClasses,r=e.failedImageClassNames,o=e.wrapperHeight,a=e.file,i=e.onClick,s=e.onImageLoad,u=e.wrapperHeightIsDynamic,l=Gm(Wm(!1),2),c=l[0],p=l[1],d=Gm(Wm(null),2),f=d[0],E=d[1],y=$m(),m=$m();qm((function(){if(y&&!c){p(!0);var e=new FileReader;e.reae){E(e.target.result)}}}),[y,c,a]);var h=f?"url(".concat(f,")"):"none",g=null;if(!t&&u){var _={ref:m,className:"hs-message__height-finder"};f&&(_.src=f,_.onLoad=s),g=jm.createElement("img",Bm({},_,{alt:"Attachment"}))}var S={backgroundImage:h,height:"".concat(o,"px")},v="".concat(n," ").concat(r);return jm.createElement("button",{onClick:i},jm.createElement("div",{ref:y,style:S,className:v},g))};Ym.propTypes={imageHasLoaded:Vm.bool,wrapperClasses:Vm.string,failedImageClassNames:Vm.string,wrapperHeight:Vm.number,file:Vm.object,onClick:Vm.func,onImageLoad:Vm.func,wrapperHeightIsDynamic:Vm.bool};var Xm=function(e){var t=e.url,n=e.file,r=e.wrapperClasses,o=e.failedImageClassNames,a=e.wrapperHeightIsDynamic,i=void 0===a||a,s=e.onWrapperClick,u=e.onImageLoad,l=e.imageAttachmentAriaLabel,c=Gm(Wm(!1),2),p=c[0],d=c[1],f=Gm(Wm(i?170:null),2),E=f[0],y=f[1],m=function(e){var t=e.target.clientHeight;i&&t<170&&y(t),u&&u(),d(!0)};return t?jm.createElement(zm,{imageHasLoaded:p,url:t,wrapperClasses:r,wrapperHeight:E,onClick:s,onImageLoad:m,wrapperHeightIsDynamic:i,imageAttachmentAriaLabel:l}):jm.createElement(Ym,{imageHasLoaded:p,file:n,wrapperClasses:r,failedImageClassNames:o,wrapperHeight:E,onClick:s,onImageLoad:m,wrapperHeightIsDynamic:i})};Xm.propTypes={url:Vm.string,file:Vm.object,wrapperClasses:Vm.string,wrapperHeightIsDynamic:Vm.bool,failedImageClassNames:Vm.string,onWrapperClick:Vm.func,onImageLoad:Vm.func,imageAttachmentAriaLabel:Vm.string};var Km=Xm;function Qm(e){return Qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(e)}function Jm(){var e,t=[],n=!1;return Array.prototype.forEach.call(arguments,(function(r){if("string"==typeof r||"number"==typeof r){if("number"==typeof r&&isNaN(r))return;t.push(r)}else if("object"===Qm(r))for(e in n=Array.isArray(r),r)r.hasOwnProperty(e)&&r[e]&&t.push(n?r[e]:e)})),t.join(" ").replace(/\s+/g," ")}var Zm,eh=n(7294);function th(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nh={ARROW_FORWARD_CIRCLE:"arrow-forward-circle",ARROW_FORWARD:"arrow-forward",ARRROW_BACK:"arrow-back",ATTACHMENT:"add-circle",CHEVRON_FORWARD:"chevron-forward",CHEVRON_BACK:"chevron-back",SEARCH:"search",CSAT_RATING:"star-outline",CLOSE:"close",INPUT_CLEAR:"close-circle",EMOJI:"happy-outline",CHATBOX:"chatbox",ALERT_CIRCLE:"alert-circle",REFRESH:"refresh",PAPER_CLIP:"attach",SPINNER:"spinner",TIME:"time-outline",LEAF:"leaf-outline",PIZZA:"pizza-outline",PLANE:"airplane-outline",AMERICAN_FOOTBALL:"american-football-outline",BULB:"bulb-outline",HEART:"heart-outline",MESSAGE_WARNING:"message-warning"},rh=(th(Zm={},nh.ARROW_FORWARD_CIRCLE,eh.createElement("path",{stroke:"currentColor",d:"M464 256c0-114.87-93.13-208-208-208S48 141.13 48 256s93.13 208 208 208 208-93.13 208-208zm-212.65 91.36a16 16 0 01-.09-22.63L303.58 272H170a16 16 0 010-32h133.58l-52.32-52.73A16 16 0 11274 164.73l79.39 80a16 16 0 010 22.54l-79.39 80a16 16 0 01-22.65.09z"})),th(Zm,nh.ARROW_FORWARD,eh.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M268 112l144 144-144 144M392 256H100"})),th(Zm,nh.ARRROW_BACK,eh.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M244 400L100 256l144-144M120 256h292"})),th(Zm,nh.ATTACHMENT,eh.createElement("path",{stroke:"currentColor",d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224h-64v64a16 16 0 01-32 0v-64h-64a16 16 0 010-32h64v-64a16 16 0 0132 0v64h64a16 16 0 010 32z"})),th(Zm,nh.CHEVRON_FORWARD,eh.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M184 112l144 144-144 144"})),th(Zm,nh.CHEVRON_BACK,eh.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112L184 256l144 144"})),th(Zm,nh.SEARCH,eh.createElement("path",{stroke:"currentColor",d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"})),th(Zm,nh.CSAT_RATING,eh.createElement("path",{stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"32",d:"M480 208H308L256 48l-52 160H32l140 96-54 160 138-100 138 100-54-160z"})),th(Zm,nh.CLOSE,eh.createElement("path",{stroke:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),th(Zm,nh.INPUT_CLEAR,eh.createElement("path",{stroke:"currentColor",d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z"})),th(Zm,nh.EMOJI,eh.createElement(eh.Fragment,null,eh.createElement("circle",{cx:"184",cy:"232",r:"24"}),eh.createElement("path",{d:"M256.05 384c-45.42 0-83.62-29.53-95.71-69.83a8 8 0 017.82-10.17h175.69a8 8 0 017.82 10.17c-11.99 40.3-50.2 69.83-95.62 69.83z"}),eh.createElement("circle",{cx:"328",cy:"232",r:"24"}),eh.createElement("circle",{cx:"256",cy:"256",r:"208",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}))),th(Zm,nh.CHATBOX,eh.createElement("path",{stroke:"currentColor",d:"M144 464a16 16 0 01-16-16v-64h-24a72.08 72.08 0 01-72-72V120a72.08 72.08 0 0172-72h304a72.08 72.08 0 0172 72v192a72.08 72.08 0 01-72 72H245.74l-91.49 76.29A16.05 16.05 0 01144 464z"})),th(Zm,nh.ALERT_CIRCLE,eh.createElement("path",{stroke:"currentColor",d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm0 319.91a20 20 0 1120-20 20 20 0 01-20 20zm21.72-201.15l-5.74 122a16 16 0 01-32 0l-5.74-121.94v-.05a21.74 21.74 0 1143.44 0z"})),th(Zm,nh.REFRESH,eh.createElement(eh.Fragment,null,eh.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M320 146s24.36-12-64-12a160 160 0 10160 160"}),eh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 58l80 80-80 80"}))),th(Zm,nh.PAPER_CLIP,eh.createElement("path",{d:"M216.08 192v143.85a40.08 40.08 0 0080.15 0l.13-188.55a67.94 67.94 0 10-135.87 0v189.82a95.51 95.51 0 10191 0V159.74",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32"})),th(Zm,nh.SPINNER,eh.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.1155 8.2755L10.29 11.8405C10.7011 12.067 10.9577 12.4981 10.9608 12.9675C10.9639 13.4369 10.713 13.8713 10.3049 14.1032C9.89678 14.3351 9.39519 14.3284 8.9935 14.0855L2.819 10.521C2.20554 10.16 1.99789 9.37183 2.35381 8.75538C2.70974 8.13893 3.49611 7.92472 4.1155 8.2755ZM26.25 2.3445C26.8701 2.70253 27.0825 3.49542 26.7245 4.1155L23.1595 10.29C22.933 10.7011 22.5019 10.9577 22.0325 10.9608C21.5631 10.9639 21.1287 10.713 20.8968 10.3049C20.6649 9.89678 20.6716 9.39519 20.9145 8.9935L24.4795 2.819C24.8375 2.19924 25.63 1.98685 26.25 2.3445ZM26.0065 20.9145L32.181 24.4795C32.5921 24.706 32.8487 25.1371 32.8518 25.6065C32.8549 26.0759 32.604 26.5103 32.1959 26.7422C31.7878 26.9741 31.2862 26.9674 30.8845 26.7245L24.71 23.1595C24.2989 22.933 24.0423 22.5019 24.0392 22.0325C24.0361 21.5631 24.287 21.1287 24.6951 20.8968C25.1032 20.6649 25.6048 20.6716 26.0065 20.9145ZM13.611 24.236C14.2311 24.594 14.4435 25.3869 14.0855 26.007L10.5205 32.1815C10.291 32.5868 9.86169 32.8378 9.39592 32.8391C8.93016 32.8404 8.49949 32.5917 8.26774 32.1877C8.03598 31.7837 8.03876 31.2864 8.275 30.885L11.84 24.7105C12.0118 24.4126 12.295 24.1953 12.6272 24.1063C12.9593 24.0173 13.3133 24.0639 13.611 24.236ZM10.521 2.819L14.086 8.9935C14.3289 9.39519 14.3356 9.89678 14.1037 10.3049C13.8718 10.713 13.4374 10.9639 12.968 10.9608C12.4986 10.9577 12.0675 10.7011 11.841 10.29L8.2755 4.1155C7.92472 3.49611 8.13893 2.70974 8.75538 2.35381C9.37183 1.99789 10.16 2.20554 10.521 2.819ZM32.6555 8.75C32.8274 9.0477 32.874 9.40149 32.785 9.73353C32.696 10.0656 32.4787 10.3487 32.181 10.5205L26.0065 14.0855C25.6048 14.3284 25.1032 14.3351 24.6951 14.1032C24.287 13.8713 24.0361 13.4369 24.0392 12.9675C24.0423 12.4981 24.2989 12.067 24.71 11.8405L30.8845 8.2755C31.5046 7.91751 32.2975 8.12994 32.6555 8.75ZM23.1595 24.7105L26.7245 30.885C26.9674 31.2867 26.9741 31.7883 26.7422 32.1964C26.5103 32.6045 26.0759 32.8554 25.6065 32.8523C25.1371 32.8492 24.706 32.5926 24.4795 32.1815L20.9145 26.007C20.6716 25.6053 20.6649 25.1037 20.8968 24.6956C21.1287 24.2875 21.5631 24.0366 22.0325 24.0397C22.5019 24.0428 22.933 24.2994 23.1595 24.7105ZM10.7645 21.389C10.9364 21.6867 10.983 22.0405 10.894 22.3725C10.805 22.7046 10.5877 22.9877 10.29 23.1595L4.1155 26.7245C3.49726 27.0652 2.72009 26.8486 2.36707 26.2374C2.01406 25.6261 2.21494 24.8447 2.819 24.4795L8.9935 20.9145C9.61358 20.5565 10.4065 20.7689 10.7645 21.389ZM1 16.203H8.719C9.27129 16.203 9.719 16.6507 9.719 17.203V17.797C9.719 18.3493 9.27129 18.797 8.719 18.797H1C0.447715 18.797 0 18.3493 0 17.797V17.203C0 16.6507 0.447715 16.203 1 16.203ZM17.203 0H17.797C18.3493 0 18.797 0.447715 18.797 1V8.719C18.797 9.27129 18.3493 9.719 17.797 9.719H17.203C16.6507 9.719 16.203 9.27129 16.203 8.719V1C16.203 0.447715 16.6507 0 17.203 0ZM26.2815 16.203H34C34.5523 16.203 35 16.6507 35 17.203V17.797C35 18.3493 34.5523 18.797 34 18.797H26.2815C25.7292 18.797 25.2815 18.3493 25.2815 17.797V17.203C25.2815 16.6507 25.7292 16.203 26.2815 16.203ZM17.203 25.2815H17.797C18.3493 25.2815 18.797 25.7292 18.797 26.2815V34C18.797 34.5523 18.3493 35 17.797 35H17.203C16.6507 35 16.203 34.5523 16.203 34V26.2815C16.203 25.7292 16.6507 25.2815 17.203 25.2815Z"})),th(Zm,nh.TIME,eh.createElement(eh.Fragment,null,eh.createElement("path",{d:"M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}),eh.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 128v144h96"}))),th(Zm,nh.LEAF,eh.createElement("path",{d:"M321.89 171.42C233 114 141 155.22 56 65.22c-19.8-21-8.3 235.5 98.1 332.7 77.79 71 197.9 63.08 238.4-5.92s18.28-163.17-70.61-220.58zM173 253c86 81 175 129 292 147",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"})),th(Zm,nh.PIZZA,eh.createElement(eh.Fragment,null,eh.createElement("path",{d:"M404.76 123.08C358.37 104.18 309.69 96 256 96s-106.1 9-148.9 26.68c-8.08 3.3-15.26 9-10.07 19.5C101.24 150.71 203 375 241.66 455a15.94 15.94 0 0028.72 0l144.05-312.22c3.19-6.9.9-15.4-9.67-19.7z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}),eh.createElement("path",{d:"M436.38 82.68C384.31 62.08 320.17 48 256 48S128.65 60.78 75.48 82.08C70.79 84 62 88.43 64.41 95.88L74.09 120c4 8.2 8.67 8.2 15.06 8.2 1.79 0 4.29-1 7.28-2.18A442.46 442.46 0 01256 96c56.76 0 114.91 12 159.6 30 3.59 1.4 5.59 2.18 7.28 2.18 6.58 0 10.38 2.19 15-8.1L447.65 96c2.01-6-4.99-10.82-11.27-13.32z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}),eh.createElement("circle",{cx:"192",cy:"192",r:"32"}),eh.createElement("circle",{cx:"320",cy:"208",r:"32"}),eh.createElement("circle",{cx:"256",cy:"320",r:"32"}))),th(Zm,nh.PLANE,eh.createElement("path",{d:"M407.72 224c-3.4 0-14.79.1-18 .3l-64.9 1.7a1.83 1.83 0 01-1.69-.9L193.55 67.56a9 9 0 00-6.66-3.56H160l73 161a2.35 2.35 0 01-2.26 3.35l-121.69 1.8a8.06 8.06 0 01-6.6-3.1l-37-45c-3-3.9-8.62-6-13.51-6H33.08c-1.29 0-1.1 1.21-.75 2.43l19.84 71.42a16.3 16.3 0 010 11.9L32.31 333c-.59 1.95-.52 3 1.77 3H52c8.14 0 9.25-1.06 13.41-6.3l37.7-45.7a8.19 8.19 0 016.6-3.1l120.68 2.7a2.7 2.7 0 012.43 3.74L160 448h26.64a9 9 0 006.65-3.55L323.14 287c.39-.6 2-.9 2.69-.9l63.9 1.7c3.3.2 14.59.3 18 .3C452 288.1 480 275.93 480 256s-27.88-32-72.28-32z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"})),th(Zm,nh.AMERICAN_FOOTBALL,eh.createElement(eh.Fragment,null,eh.createElement("ellipse",{cx:"256",cy:"256",rx:"267.57",ry:"173.44",transform:"rotate(-45 256 256.002)",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),eh.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M334.04 177.96L177.96 334.04M278.3 278.3l-44.6-44.6M322.89 233.7l-44.59-44.59M456.68 211.4L300.6 55.32M211.4 456.68L55.32 300.6M233.7 322.89l-44.59-44.59"}))),th(Zm,nh.BULB,eh.createElement(eh.Fragment,null,eh.createElement("path",{d:"M304 384v-24c0-29 31.54-56.43 52-76 28.84-27.57 44-64.61 44-108 0-80-63.73-144-144-144a143.6 143.6 0 00-144 144c0 41.84 15.81 81.39 44 108 20.35 19.21 52 46.7 52 76v24M224 480h64M208 432h96M256 384V256",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),eh.createElement("path",{d:"M294 240s-21.51 16-38 16-38-16-38-16",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}))),th(Zm,nh.HEART,eh.createElement("path",{d:"M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0018 0c96.26-65.34 184.09-143.09 183-252.42-.54-52.67-42.32-96.81-95.08-96.81z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"})),th(Zm,nh.MESSAGE_WARNING,eh.createElement(eh.Fragment,null,eh.createElement("path",{d:"M257.596 112H65.4038C56.0224 112.024 47.0328 115.381 40.399 121.338C33.7653 127.295 30.0267 135.367 30 143.792V252.792C30.0267 261.216 33.7653 269.288 40.399 275.245C47.0328 281.202 56.0224 284.559 65.4038 284.583H90.6923V330L149.943 285.639C150.853 284.957 152.001 284.583 153.186 284.583H257.596C266.978 284.559 275.967 281.202 282.601 275.245C289.235 269.288 292.973 261.216 293 252.792V143.792C292.973 135.367 289.235 127.295 282.601 121.338C275.967 115.381 266.978 112.024 257.596 112V112Z",fill:"#F0F2F4",stroke:"#B4C2C5",strokeWidth:"8",strokeLinejoin:"round"}),eh.createElement("path",{d:"M81.1906 186.281H243.028C245.657 186.28 248.24 185.603 250.526 184.316C252.812 183.028 254.722 181.174 256.07 178.934C257.417 176.695 258.157 174.146 258.215 171.539C258.273 168.931 257.649 166.352 256.403 164.056L175.489 14.9298C169.749 4.35672 154.47 4.35672 148.73 14.9298L67.8157 164.056C66.5697 166.352 65.9453 168.931 66.0038 171.539C66.0622 174.146 66.8014 176.695 68.1491 178.934C69.4968 181.174 71.4069 183.028 73.6928 184.316C75.9787 185.603 78.5621 186.28 81.1906 186.281V186.281Z",fill:"#F0F2F4",stroke:"#B4C2C5",strokeWidth:"8",strokeLinecap:"round",strokeLinejoin:"round"}),eh.createElement("path",{d:"M159.339 68.0137L162.111 125.289L164.879 68.0371C164.896 67.6711 164.836 67.3056 164.703 66.9629C164.57 66.6201 164.366 66.3074 164.104 66.0437C163.843 65.7801 163.528 65.5711 163.181 65.4295C162.833 65.2879 162.459 65.2168 162.082 65.2203V65.2203C161.712 65.2239 161.346 65.2995 161.006 65.4427C160.667 65.5859 160.36 65.7938 160.104 66.0542C159.848 66.3146 159.649 66.6221 159.517 66.9587C159.386 67.2952 159.325 67.6539 159.339 68.0137V68.0137Z",stroke:"#B4C2C5",strokeWidth:"8",strokeLinecap:"round",strokeLinejoin:"round"}),eh.createElement("path",{d:"M162.572 159.481C161.383 159.481 160.222 159.156 159.234 158.547C158.246 157.937 157.477 157.071 157.022 156.058C156.567 155.045 156.448 153.93 156.68 152.855C156.912 151.779 157.484 150.791 158.324 150.016C159.164 149.24 160.234 148.712 161.4 148.498C162.565 148.284 163.773 148.394 164.87 148.814C165.968 149.233 166.906 149.944 167.566 150.856C168.226 151.768 168.578 152.84 168.578 153.936C168.578 155.407 167.946 156.817 166.819 157.857C165.693 158.897 164.165 159.481 162.572 159.481Z",fill:"#B4C2C5"}),eh.createElement("line",{x1:"243",y1:"222",x2:"254",y2:"222",stroke:"#B4C2C5",strokeWidth:"8",strokeLinecap:"round"}),eh.createElement("line",{x1:"221",y1:"249",x2:"245",y2:"249",stroke:"#B4C2C5",strokeWidth:"8",strokeLinecap:"round"}),eh.createElement("line",{x1:"70",y1:"222",x2:"94",y2:"222",stroke:"#B4C2C5",strokeWidth:"8",strokeLinecap:"round"}),eh.createElement("line",{x1:"122",y1:"222",x2:"215",y2:"222",stroke:"#B4C2C5",strokeWidth:"8",strokeLinecap:"round"}),eh.createElement("line",{x1:"70",y1:"249",x2:"193",y2:"249",stroke:"#B4C2C5",strokeWidth:"8",strokeLinecap:"round"}))),Zm),oh=nh,ah=n(7294),ih=n(5697),sh=function(e){var t=e.name,n=e.className,r=e.size,o=void 0===r?36:r,a=e.onClick,i=void 0===a?null:a,s=e.role,u=e.ariaExpanded,l=e.tabIndex,c=e.onFocus,p=e.ariaLabel,d=e.title,f=e.onMouseEnter,E=e.onMouseLeave,y=e.ariaHidden,m=void 0!==y&&y;if(!t)return null;var h=Jm(n,"hs-ion-icon"),g={width:o,height:o},_="0 0 512 512";return t===oh.SPINNER?_="0 0 35 35":t===oh.MESSAGE_WARNING&&(_="0 0 323 354"),ah.createElement("svg",{style:g,className:h,xmlns:"http://www.w3.org/2000/svg",viewBox:_,onClick:i,role:s,"aria-hidden":m,"aria-expanded":u,tabIndex:l,onFocus:c,"aria-label":p,title:d,onMouseEnter:f,onMouseLeave:E},rh[t])};sh.propTypes={name:ih.string.isRequired,className:ih.string,size:ih.number,onClick:ih.func,role:ih.string,ariaExpanded:ih.bool,tabIndex:ih.string,onFocus:ih.func,dataLabel:ih.string,ariaLabel:ih.string,title:ih.string,onMouseEnter:ih.func,onMouseLeave:ih.func,ariaHidden:ih.bool};var uh=sh,lh=n(5363),ch=n(7294),ph=n(5697),dh=function(e){var t=e.attachment,n=e.attachmentIsPreviewable,r=e.children,o=t.fileName,a=t.size,i=t.lturn e.ui.text.format})),u="(".concat(s,"-").concat(o.split(".").slice(-1),")"),l=po(a);return n?ch.createElement("div",{className:"hs-message hs-message__item hs-message__previewable-smart-form-attachment",dir:"auto"},ch.createElement("div",null,i," ",ch.createElement("span",{className:"hs-message__smart-form-attachment-format"},u)),r,ch.createElement("span",{className:"hs-message__smart-form-attachment-size"},l)):ch.createElement("div",{className:"hs-message hs-message__item hs-message__non-previewable-smart-form-attachment ",dir:"auto"},i," ",ch.createElement("span",{className:"hs-message__smart-form-attachment-format"},u),r)};dh.propTypes={attachment:ph.shape({fileName:ph.string,size:ph.number,label:ph.string}),attachmentIsPreviewable:ph.bool,children:ph.node.isRequired};var fh=ch.memo(dh),Eh=n(5363),yh=n(7294),mh=n(5697),hh=ue,gh=function(e){window.open(e)},_h=function(e,t){var n=mo(e);return t.replace("{{file_name}}",n)},Sh=function(e){var t=e.name,n=e.wrapperClasses,r=e.iconClasses,o=e.attachmentAriaLabel,a=e.onWrapperClick,i=e.iconName,s=e.size,u=e.attachmentUploadIsInProgress,l=e.messageId,c=null,p=null,d=Eh.useSelector((function(e){return e.appState.onlin0:t.uploadProgress[l]}));s&&(c=yh.createElement("span",{className:"hs-message__file-attachment-size-detail"},po(s))),go({online:d,attachmentUploadIsInProgress:u,messageId:l,attachmentUploadProgress:f})&&(p=yh.createElement("span",{className:"hs-message__file-attachment-size-detail"},parseInt(f,10),"%"));var E=Jm(r,"hs-message__file-attachment-icon"),y=Jm(n,"hs-button--empty");return yh.createElement("button",{className:y,onClick:a,"aria-label":o},yh.createElement("div",{className:"hs-message__file-attachment-details"},yh.createElement("span",{className:"hs-message__file-attachment-name",title:t},mo(t)),c,p),yh.createElement(uh,{name:i,className:E,size:20}))};Sh.propTypes={name:mh.string,wrapperClasses:mh.string,iconClasses:mh.string,attachmentAriaLabel:mh.string.isRequired,onWrapperClick:mh.func,iconName:mh.string,size:mh.number,attachmentUploadIsInProgress:mh.object,messageId:mh.string};var vh=function(e){var t,n,r,o,a,i,s,u=e.messageIsClientGenerated,l=e.ariaLabelOpenFile,c=e.messageStates,p=e.file,d=e.attachments,f=e.onRetryClick,E=e.onImageLoad,y=e.attachmentUploadIsInProgress,m=e.messageId,h=e.userImageAttachmentAriaLabel,g=Eh.useSelector((function(e){return e.appState.online}));if(u)if(t=p.name,c.uploadInProgress)g?(r=oh.SPINNER,o="hs-ion-icon--spinning"):(r=oh.ALERT_CIRCLE,o="hs-message__icon-error");else if(c.error){var _=c.errorCode===hh.RETRY;a=g&&_&&!y[m]?f:null,g&&_?_&&!y[m]?r=oh.REFRESH:y[m]&&(r=oh.SPINNER):r=oh.ALERT_CIRCLE,o=Jm("hs-message__icon-error",{"hs-ion-icon--spinning":y[m]})}else o="",r="";else{var S=d[0];t=S.fileName,n=S.url,i=S.contentType,r=oh.PAPER_CLIP,s=S.size,a=function(){gh(n)}}var v=_h(t,l),b=ho(i),T=!u||c.error,I=b&&T,A=Jm("hs-message__item","hs-message__image-attachment","hs-button--empty",{"hs-message--lazy-image-attachment":en.isIntersectionObserverSupported()});return I?yh.createElement(Km,{url:n,file:p,wrapperClasses:A,failedImageClassNames:"hs-message__failed-img",onImageLoad:E,wrapperHeightIsDynamic:!1,imageAttachmentAriaLabel:h}):yh.createElement(Sh,{url:n,name:t,iconClasses:o,wrapperClasses:"hs-message__item hs-message__file-attachment",onWrapperClick:a,attachmentAriaLabel:v,iconName:r,size:s,messageId:m,attachmentUploadIsInProgress:y})};vh.propTypes={messageIsClientGenerated:mh.bool,ariaLabelOpenFile:mh.string.isRequired,messageStates:mh.object.isRequired,file:mh.object,attachments:mh.array,onRetryClick:mh.func.isRequired,onImageLoad:mh.func.isRequired,attachmentUploadIsInProgress:mh.object,messageId:mh.string,userImageAttachmentAriaLabel:mh.string};var bh=function(e){var t=e.attachments,n=e.ariaLabelOpenFile,r=e.supportImageAttachmentAriaLabel;return t&&t.length?t.map((function(e,t){var o=e.url,a=e.fileName,i=e.contentType,s=e.size,u=e.label,l=ho(i),c=_h(a,n),p=Jm("hs-message__item","hs-message__image-attachment","hs-button--empty",{"hs-message--lazy-image-attachment":en.isIntersectionObserverSupported()}),d=Jm({"hs-message__item":!u},"hs-message__file-attachment"),f=l?yh.createElement(Km,{key:"previewable-".concat(t),url:o,wrapperClasses:p,failedImageClassNames:"hs-message__failed-img",wrapperHeightIsDynamic:!1,imageAttachmentAriaLabel:r}):yh.createElement(Sh,{key:"nonpreviewable-".concat(t),url:o,name:a,iconName:oh.PAPER_CLIP,wrapperClasses:d,onWrapperClick:function(){gh(o)},attachmentAriaLabel:c,size:s});return u?yh.createElement(fh,{attachment:e,attachmentIsPreviewable:l},f):f})):null};bh.propTypes={ariaLabelOpenFile:mh.string.isRequired,attachments:mh.array,supportImageAttachmentAriaLabel:mh.string};var Th=n(5697),Ih=nt.FAQ_SUGGESTION_SOURCES,Ah=Th.shape({id:Th.string.isRequired,type:Th.string.isRequired,body:Th.string,redacted:Th.bool,responseReceived:Th.bool,issueId:Th.string,isCustomerMsg:Th.bool.isRequired,createdTs:Th.number.isRequired,author:Th.shape({id:Th.string,name:Th.string}),suggestedFaqs:Th.arrayOf(Th.shape({id:Th.string.isRequired,title:Th.string.isRequired,faqSource:Th.oneOf([Ih.ANSWER_BOT,Ih.CUSTOM_BOT,Ih.HELP_BOT])})),ratingData:Th.shape({id:Th.string,value:Th.number}),shouldNotRender:Th.bool}).isRequired,Ch=Th.shape({label:Th.string,value:Th.string}),Oh={MESSAGE_PROP_TYPE:Ah,USER_INPUT_PROP_TYPE:Th.shape({type:Th.string.isRequired,value:Th.string,options:Th.arrayOf(Ch),disabled:Th.bool,label:Th.string,required:Th.bool,skipLabel:Th.string,placeholder:Th.string,errorMsg:Th.string})},Rh=n(7294),wh=n(5697);function Ph(e){return Ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(e)}var Nh=function(e){var t=e.messageId,n=e.messageIsRedacted,r=e.messageText,o=e.messageDeletedText,a=e.classNames,i="",s="";return"object"===Ph(a)&&(i=a.redactedMessageElement,s=a.messageElement),n?Rh.createElement("em",{key:"redacted-message",className:i,dir:"auto"},o):r?Rh.createElement("div",{key:"".concat(t,"-text-message"),className:s,dir:"auto",dangerouslySetInnerHTML:{__html:r}}):void 0};Nh.propTypes={messageId:wh.string.isRequired,messageIsRedacted:wh.bool,messageText:wh.string.isRequired,messageDeletedText:wh.string,classNames:wh.shape({redactedMessageElement:wh.string,messageElement:wh.string})};var Fh=Nh,Lh={LINK:"link",CALL:"call"},kh=n(7294),Mh=n(5697);function Dh(){return Dh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dh.apply(this,arguments)}function Uh(e){return Uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(e)}function xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jh=kh.useCallback,Vh=Lh,Bh=Mh.shape({id:Mh.string.isRequired,type:Mh.oneOf([Vh.LINK,Vh.CALL]).isRequired,textToDisplay:Mh.string.isRequired,data:Mh.shape({url:Mh.string,phoneNumber:Mh.string}).isRequired}),Gh={wrapper:Mh.string,actionCardImage:Mh.string,actionCardFailedImage:Mh.string,actionCardTitle:Mh.string,actionCardAction:Mh.string},Wh=function(e){var t=e.id,n=e.type,r=e.textToDisplay,o=e.data,a=e.classNames,i=e.onActionClick,s="",u="_blank",l=jh((function(){"function"==typeof i&&i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xh(Object(n),!0).forEach((function(t){Hh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({actionId:t,actionType:n,linkShouldOpenInNewTab:o.shouldOpenInNewTab},o))}),[t,i,n,o]);switch(n){case Vh.LINK:s=o.url,o.shouldOpenInNewTab||(u="_top");break;case Vh.CALL:s="tel:".concat(o.phoneNumber)}return kh.createElement("div",{className:a},kh.createElement("a",{href:s,rel:"nofollow noopener noreferrer",target:u,"aria-label":r,onClick:l},r))};Wh.propTypes={id:Mh.string,type:Mh.oneOf([Vh.LINK,Vh.CALL]).isRequired,textToDisplay:Mh.string.isRequired,data:Mh.shape({url:Mh.string,shouldOpenInNewTab:Mh.bool,phoneNumber:Mh.string}).isRequired,classNames:Mh.string,onActionClick:Mh.func};var qh=function(e){var t=e.imageUrl,n=e.title,r=e.actions,o=e.classNames,a=e.imageWrapperHeightIsDynamic,i=e.onActionClick,s=e.customActionRenderer,u="",l="",c="",p="",d="";"object"===Uh(o)&&(u=o.wrapper,l=o.actionCardImage,c=o.actionCardFailedImage,p=o.actionCardTitle,d=o.actionCardAction);var f=null;t&&(f=kh.createElement(Km,{url:t,wrapperClasses:l,failedImageClassNames:c,wrapperHeightIsDynamic:a}));var E=null;return n&&(E=kh.createElement("div",{className:p,"aria-label":n},n)),kh.createElement("div",{className:u},f,E,r.map((function(e,t){return"function"==typeof s?s(e,t):kh.createElement(Wh,Dh({key:e.id},e,{classNames:d,onActionClick:i}))})))};qh.propTypes={imageUrl:Mh.string,title:Mh.string,actions:Mh.arrayOf(Bh).isRequired,classNames:Mh.shape(Gh),imageWrapperHeightIsDynamic:Mh.bool,onActionClick:Mh.func,customActionRenderer:Mh.func};var $h=qh,zh=n(5697),Yh=n(7294);function Xh(e){return Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(e)}function Kh(){return Kh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kh.apply(this,arguments)}var Qh=Lh,Jh=zh.shape({id:zh.string.isRequired,type:zh.oneOf([Qh.LINK,Qh.CALL]).isRequired,textToDisplay:zh.string.isRequired,data:zh.shape({url:zh.string,phoneNumber:zh.string}).isRequired}),Zh=zh.shape({imageUrl:zh.string,title:zh.string,actions:zh.arrayOf(Jh).isRequired}),eg={redactedMessageElement:zh.string,messageElement:zh.string},tg={wrapper:zh.string,actionCardImage:zh.string,actionCardFailedImage:zh.string,actionCardTitle:zh.string,actionCardAction:zh.string,redactedActionCardContent:zh.string},ng=function(e){return e.cards.map((function(t,n){var r=e.messageId,o=e.messageIsRedacted,a=e.messageDeletedText,i=e.actionCardClassNames,s=e.imageWrapperHeightIsDynamic,u=e.onActionClick;return o?Yh.createElement("em",{key:"redacted-message",className:i.redactedActionCardContent,dir:"auto"},a):Yh.createElement($h,Kh({key:"".concat(r,"-action-card-").concat(n),classNames:i,imageWrapperHeightIsDynamic:s,onActionClick:u},t))}))};ng.propTypes={messageId:zh.string.isRequired,messageIsRedacted:zh.bool,cards:zh.arrayOf(Zh).isRequired,actionCardClassNames:zh.shape(tg),imageWrapperHeightIsDynamic:zh.bool,onActionClick:zh.func};var rg=function(e){var t=e.messageId,n=e.messageIsRedacted,r=e.mainText,o=e.messageDeletedText,a=e.actionCards,i=e.classNames,s=e.imageWrapperHeightIsDynamic,u=e.onActionClick,l=null,c=null;return"object"===Xh(i)&&(l=i.serverTextMessage,c=i.actionCard),Yh.createElement(Yh.Fragment,null,Yh.createElement(Fh,{messageId:t,messageIsRedacted:n,messageText:r,messageDeletedText:o,classNames:l}),Yh.createElement(ng,{messageId:t,messageIsRedacted:n,messageDeletedText:o,cards:a,actionCardClassNames:c,imageWrapperHeightIsDynamic:s,onActionClick:u}))};rg.propTypes={messageId:zh.string.isRequired,messageIsRedacted:zh.bool,messageDeletedText:zh.string,mainText:zh.string.isRequired,actionCards:zh.arrayOf(Zh),classNames:zh.shape({serverTextMessage:zh.shape(eg),actionCard:zh.shape(tg)}),imageWrapperHeightIsDynamic:zh.bool,onActionClick:zh.func};var og=rg,ag=n(7294),ig=n(5697);function sg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ug=function(e){var t=e.fallbackAvatar,n=void 0===t?on.APP:t,r=e.size,o=void 0===r?32:r,a=e.showAvatar,i=void 0!==a&&a,s=e.liveMessagingMode,u=void 0===s?Le:s,l=e.avatarUrl,c=e.className,p=sg(ag.useState(!1),2),d=p[0],f=p[1];if(!i)return null;var E={height:o,width:o,minWidth:o},y=Jm(c,"hs-avatar__avatar",{"hs-avatar__avatar--hidden":!d}),m=Jm(c,"hs-avatar__avatar"),h=null,g=null;return d||(h=ag.createElement("img",{src:n,alt:"Avatar Image","aria-hidden":!0,className:m,style:E})),u===Fe&&(g=ag.createElement("span",{className:"hs-avatar__presence-status-badge"})),ag.createElement("div",{className:"hs-avatar__wrapper"},g,h,ag.createElement("img",{src:l,alt:"Avatar Image",className:y,"nction(){return f(!0)},style:E}))};ug.propTypes={fallbackAvatar:ig.string,avatarUrl:ig.string,showAvatar:ig.bool,className:ig.string,size:ig.number,liveMessagingMode:ig.string};var lg=ag.memo(ug),cg=13,pg=27,dg=:e,ILES_BATCH_PROCESSED}},gg=n(2555),_g=n(5697),Sg=n(7294),vg=n(5363),bg=Br.ATTACHMENT_COUNT_LIMIT_BY_SOURCE,Tg=Br.IOS_MAX_BATCH_SIZE_BYTES,Ig=Br.MAX_ATTACHMENT_LIMIT,Ag=gg({displayName:"FileInput",propTypes:{accept:_g.string,onChange:_g.func.isRequired,iconClasses:_g.string,infoText:_g.string,disabled:_g.bool,hideIcon:_g.bool,multiple:_g.bool,noPadding:_g.bool,labelClasses:_g.string,onSaveInputRef:_g.func,buttonClasses:_g.string,buttonAriaLabel:_g.string,source:_g.string.isRequired,onUploadAttachmentForSdkxIosClicked:_g.func,useNativePickerForIosAttachments:_g.bool,liteSdkConfig:_g.object,filesFromNative:_g.array,nativeFilesRequestContext:_g.object,nativeFilesEnteredNormalAttachmentFlow:_g.func,photoLibrary:_g.string,files:_g.string,cancel:_g.string,preparingImages:_g.string,onNativeFilesBatchProcessed:_g.func,onSdkxIosUploadAttachmentDone:_g.func,someUploadIsInProgress:_g.bool},getDefaultProps:function(){return{multiple:!1}},getInitialState:function(){return{fileInputValue:""}},render:function(){if(oy()&&!ay())return null;var e=this.props,t=e.infoText,n=e.iconClasses,r=e.disabled,o=e.noPadding,a=e.labelClasses,i=e.accept,s=e.onSaveInputRef,u=e.hideIcon,l=e.multiple,c=e.buttonClasses,p=e.buttonAriaLabel,d=e.useNativePickerForIosAttachments,f=e.someUploadIsInProgress,E=null,y=null,m=!(!r&&!f);if(t&&(E=Sg.createElement("span",{className:"hs-file-input__info-text"},t)),!u){var h=Jm("hs-file-input__icon",n);y=Sg.createElement(uh,{name:oh.PAPER_CLIP,className:h,size:24,ariaHidden:!0})}var g=Jm(a,"hs-file-input",{"hs-file-input--disabled":m,"hs-file-input--no-padding":o});return d?Sg.createElement("button",{onClick:this._onSdkxIosPickerClick,className:c,onKeyDown:this._onNativePickerKeyDown,"aria-label":p,disabled:m},Sg.createElement("label",{className:g},y,E)):Sg.createElement("label",{className:g},y,E,Sg.createElement("input",{type:"file",value:this.state.fileInputValue,multiple:l,accept:i,disabled:m,className:"hs-file-input__file",ref:s,onChange:this._onFilesChange,"aria-label":p}))},_onFilesChange:function(e){this.setState({fileInputValue:""}),this.props.onChange(e.target.files)},_onNativePickerKeyDown:function(e){e.keyCode!==cg&&e.keyCode!==Eg||e.target.click()},_onSdkxIosPickerClick:function(){var e=this.props,t=e.accept,n=e.files,r=e.photoLibrary,o=e.cancel,a=e.preparingImages,i=e.onUploadAttachmentForSdkxIosClicked,s=e.source,u=At(),l=Ro(s),c=Po(t);i(u,s,{allowedFileTypes:c.allowedFileTypes,allowedMediaTypes:c.allowedMediaTypes,translations:{files:n,photoLibrary:r,cancel:o,preparingImages:a},eventId:u,maxAttachmentCount:bg[l]||Ig,batchSizeInBytes:Tg})},componentDidUpdate:function(e){var t,n=this.props,r=n.filesFromNative,o=n.onChange,a=n.nativeFilesEnteredNormalAttachmentFlow,i=n.nativeFilesRequestContext,s=i.source,u=i.filesProcessed,l=i.filesToProcess,c=n.source,p=n.onNativeFilesBatchProcessed,d=n.onSdkxIosUploadAttachmentDone;0===(null==e||null===(t=e.filesFromNative)||void 0===t?void 0:t.length)&&(null==r?void 0:r.length)>0&&c===s&&(o(r),a()),l>0&&l===u&&(p(),d())}}),Cg=vg.connect((function(e){var t=e.appState,n=t.useNativePickerForIosAttachments,r=t.liteSdkConfig,o=e.chatView,a=o.filesFromNative,i=o.nativeFilesRequestContext,s=o.attachmentUploadIsInProgress,u=e.ui.text;return{useNativePickerForIosAttachments:n,liteSdkConfig:r,filesFromNative:a,nativeFilesRequestContext:i,photoLibrary:u.photoLibrary,files:u.files,cancel:u.cancel,preparingImages:u.preparingImages,someUploadIfunction(e){return!!e}))}}),(function(e){return{onUploadAttachmentForSdkxIosClicked:function(t,n,r){e(Hs(r)),e(jy.uploadAttachmentForSdkxIosClicked(t,n))},nativeFilesEnterrmalAttachmentFlow())},onNativeFilesBatchProcessed:function(){e(hg())},onSdkxIne:function(){e(qs())}}}))(Ag),Og=n(7294),Rg=n(5697),wg=function(e){var t=e.text;return Og.createElement("em",{className:"hs-message__item hs-message--redacted",dir:"auto"},t)};wg.propTypes={text:Rg.string};var Pg=Og.memo(wg),Ng=nt.TYPE,Fg=function(e,t){return function(n){n(jy.createAttachmentMessage(Ng.SCREENSHOT_SENT,e[0],{referringMessageId:t}))}},Lg=function(e,t,n){return function(r,o){var a,i,s=(null===(a=o().chatView)||void 0===a||null===(i=a.botState)||void 0===i?void 0:i.botStepMessage).chatBotInfo;r(jy.createAttachmentMessage(Ng.RESP_TEXT_MSG_WITH_FILE_INPUT,e[0],{referringMessageId:t,allowedFileTypes:n,chatBotInfo:s}))}},kg=n(7294),Mg=n(5363),Dg=n(5697);function Ug(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var xg=Co,Hg=function(e){var t=e.message,n=e.replyBoxRef,r=null,o=t.redacted,a=t.body,i=t.id,s=t.responseReceived,u=t.issueId,l=t.attachments,c=t.createdTs,p=Br.ATTACHMENT_SOURCES,d=W,f=Ug(kg.useState(null),2),E=f[0],y=f[1],m=Mg.useSelector((function(e){var t=e.appState,n=e.ui.text;return{currentIssueId:t.internalIssueId,issueState:t.issueState,attachmentsWhitelist:t.attachmentsWhitelist,messageDeleted:n.messageDeleted,ariaLabelOpenFile:n.ariaLabelOpenFile,attachScreenshotMsg:n.attachScreenshotMsg,ariaLabelAttachFiles:n.ariaLabelAttachFiles,ariaLabelSupportImageAttachment:n.ariaLabelSupportImageAttachment}}),Mg.shallowEqual),h=m.currentIssueId,g=m.issueState,_=m.attachmentsWhitelist,S=m.messageDeleted,v=m.ariaLabelOpenFile,b=m.attachScreenshotMsg,T=m.ariaLabelAttachFiles,I=m.ariaLabelSupportImageAttachment,A=Mg.useDispatch();if(o)return kg.createElement(Pg,{text:S});var C=xg(_),O=u===h&&g===d.ACTIVE,R=Oo(p.REQUEST_SCREENSHOT,i),w=Tn.getSupportImageAttachmentAriaLabel(c,I);if(!s&&O&&C){var P="upload-file-attach-screenshot-"+i;r=kg.createElement(Cg,{infoText:b,noPadding:!0,id:P,hideIcon:!0,accept:C,className:"hs-file-input__file",labelClasses:"hs-file-input--primary-label-color",onChange:function(e){A(Fg(e,i)),n&&n.focus()},onSaveInputRef:y,buttonClasses:"hs-button--empty hs-message__request-screenshot-button",onButtonKeyDown:function(e){e.keyCode!==cg&&e.keyCode!==Eg||E&&E.click()},buttonAriaLabel:T,source:R})}return kg.createElement("div",null,kg.createElement("div",{className:"hs-message__item",dir:"auto"},kg.createElement("div",{dangerouslySetInnerHTML:{__html:a}}),r),kg.createElement(bh,{attachments:l,ariaLabelOpenFile:v,supportImageAttachmentAriaLabel:w}))};Hg.propTypes={message:Dg.object,replyBoxRef:Dg.object};var jg=kg.memo(Hg),Vg=n(7294)terable instance")}()}var qg=W,$g=nt.TYPE,zg=Br.ATTACHMENT_SOURCES,Yg=function(e){var t=e.message,n=null,r=null,o=t.redacted,a=t.issueId,i=t.id,s=t.responseReceived,u=t.attachments,l=t.body,c=t.createdTs,p=Wg(Vg.useState(null),2),d=p[0],f=p[1],E=Bg.useDispatch(),y=Bg.useSelector((function(e){var t,n=e.appState,r=e.chatView,o=e.chatView.userInput,a=e.ui.text;return{online:n.online,currentIssueId:n.internalIssueId,issueState:n.issueState,label:o.label,placeholder:o.placeholder,allowedFileTypes:o.allowedFileTypes,latestBotAttachmentMessageId:r.latestBotAttachmentMessageId,latestMessage:null==r?void 0:r.messageList[(null==r||null===(t=r.messageList)||void 0===t?void 0:t.length)-1],userReplyXhrInProgress:r.userReplyXhrInProgress,messageDeleted:a.messageDeleted,ariaLabelOpenFile:a.ariaLabelOpenFile,ariaLabelAttachFiles:a.ariaLabelAttachFiles,ariaLabelSupportImageAttachment:a.ariaLabelSupportImageAttachment}}),Bg.shallowEqual),m=y.online,h=y.currentIssueId,g=y.issueState,_=y.label,S=y.placeholder,v=y.allowedFileTypes,b=y.latestBotAttachmentMessageId,T=y.messageDeleted,I=y.ariaLabelOpenFile,A=y.latestMessage,C=y.userReplyXhrInProgress,O=y.ariaLabelAttachFiles,R=y.ariaLabelSupportImageAttachment;if(o)return Vg.createElement(Pg,{text:T});Array.isArray(v)&&!So(v)&&(r=v.toString());var w=a===h&&g===qg.ACTIVE,P=A.type===$g.RESP_TEXT_MSG_WITH_FILE_INPUT&&A.skipped,N=b===i&&w&&v&&!s&&!P&&!C,F=Oo(zg.BOT_ATTACHMENT,i),L=Tn.getSupportImageAttachmentAriaLabel(c,R);if(N){var k="upload-file-bot-attachment"+i;n=Vg.createElement(Cg,{infoText:_,id:k,hideIcon:!0,accept:r,labelClasses:"hs-file-input--primary-label-color hs-filction(e){E(Lg(e,i,v))},onSaveInputRef:f,disabled:!m,buttonClasses:"hs-button--empty hs-message__bot-attach-file-button",onButtonKeyDown:function(e){e.keyCode!==cg&&e.keyCode!==Eg||d&&d.click()},buttonAriaLabel:O,source:F})}return Vg.createElement("div",null,Vg.createElement("div",{className:"hs-message__item hs-bot-attachment",dir:"auto"},Vg.createElement("div",{dangerouslySetInnerHTML:{__html:l}}),Vg.createElement("div",{className:"hs-bot-attachment__placeholder"},S),n),Vg.createElement(bh,{attachments:u,ariaLabelOpenFile:I,supportImageAttachmentAriaLabel:L}))};Yg.propTypes={message:Gg.shape({redacted:Gg.any,issueId:Gg.string,id:Gg.string,attachmentWhitelist:Gg.array,responseReceived:Gg.bool,attachments:Gg.any,body:Gg.string,skipped:Gg.bool,createdTs:Gg.number})};var Xg=Vg.memo(Yg),Kg=n(5363),Qg=n(7294),Jg=n(5697),Zg=ue,e_=function(e){var t=e.message,n=e.attachmentErrorIsForActiveIssue,r=Kg.useSelector((function(e){return e.ui.text}),Kg.shallowEqual),o=r.attachmentRetryError,a=r.attachmentDefaultError,i=r.attachmentFileTypeError,s=r.attachmentFileSizeError,u=r.filenameCharacterLengthExceedsErrorMessage,l=t.type,c=t.states,p=c.errorCode,d=c.statusCode,f=_o(s,l);switch(p){case Zg.RETRY:var E={statusCode:d,attachmentDefaultError:a,filenameCharacterLengthExceedsErrorMessage:u,attachmentRetryError:o,attachmentErrorIsForActiveIssue:n};return Qg.createElement("small",null,Io(E));case Zg.SIZE_EXCEEDED:return Qg.createElement("small",null,f);case Zg.INVALID_TYPE:return Qg.createElement("small",null,i);default:return Qg.createElement("small",null,a)}};e_.propTypes={message:Jg.object,attachmentErrorIsForActiveIssue:Jg.bool};var t_=Qg.memo(e_),n_=n(5363),r_=n(7294),o_=n(5697),a_=W,i_=function(e){var t=e.message,n=n_.useSelector((function(e){return e.appState}),n_.shallowEqual),r=n.internalIssueId,o=n.issueState,a=n.online,i=null;if(Ao(t)){var s=t.issueId===r&&o===a_.ACTIVE;a&&(i=r_.createElement("div",{className:"hs-message__attachment-error"},r_.createElement(t_,{message:t,attachmentErrorIsForActiveIssue:s})))}return i};i_.propTypes={message:o_.object};var s_=r_.memo(i_),u_=n(7294),l_=n(5697),c_=function(e){var t=e.message,n=e.text,r=t.redacted,o=t.formFields,a=t.body,i=t.skipped,s=n.messageDeleted;return r?u_.createElement(Pg,{text:s}):i?u_.createElement("div",{className:"hs-message__item",dir:"auto"},a):u_.createElement("div",{className:"hs-message__item",dir:"auto"},o.map((function(e){return u_.createElement("div",{className:"hs-message__form-field",key:e.id},u_.createElement("div",{className:"hs-message__form-field__label"},e.label),u_.createElement("div",{className:"hs-message__form-field__value"},e.value))})))};c_.propTypes={message:l_.shape({redacted:l_.bool,formFields:l_.arrayOf(l_.shape({id:l_.string,label:l_.string,type:l_.string})),body:l_.string,skipped:l_.bool}),text:l_.shape({messageDeleted:l_.string})};var p_=u_.memo(c_),d_=function(e){ey.dispatch(Wp({msgType:nt.TYPE.APP_REVIEW_RESPONSE,msgBody:nt.BODY.ACCEPT_REVIEW_REQU,payload:{refers:e}})}}))},f_=n(5363),E_=n(7294),y_=n(5697);function m_(){return m_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m_.apply(this,arguments)}var h_=function(e){var t=e.onReviewUrlClick,n=e.responseReceived,r=e.issueId,o=W,a=f_.useSelector((function(e){return e.appState})),i=a.appReviewUrl,s=a.issueState,u=a.internalIssueId,l=f_.useSelector((function(e){return e.ui.text})).userAppReviewLinkText,c=!n&&s===o.ACTIVE&&u===r,p=Jm("hs-message__app-review-request",{"hs-message__app-review-request--disabled":!c}),d=(new Pe).set({when:i&&c,key:"href",to:i,fallback:null}).set({when:c,key:"onClick",to:t,fallback:null});return E_.createElement("div",{className:p},E_.createElement("a",m_({},d,{target:"_blank",rel:"noopener noreferrer"}),l))};h_.propTypes={responseReceived:y_.bool.isRequired,onReviewUrlClick:y_.func.isRequired,issueId:y_.string.isRequired};var g_=E_.memo(h_),__=n(5363),S_=n(7294),v_=n(5697),b_=function(e){var t=e.message,n=__.useSelector((function(e){return e.ui.text})),r=n.userAppReviewMessage,o=n.messageDeleted,a=t.responseReceived,i=t.id,s=t.issueId;return t.redacted?S_.createElement(Pg,{text:o}):S_.createElement("div",{className:"hs-message__item"},S_.createElement("div",null,r),S_.createElemenlick:function(){d_(i)},responseReceived:!!a,issueId:s}))};b_.propTypes={message:v_.shape({id:v_.string.isRequired,responseReceived:v_.bool.isRequired,issueId:v_.string.isRequired,redacted:v_.bool})};var T_=S_.memo(b_),I_=n(7294),A_=n(5697),C_=function(e){var t=e.infoText,n=e.timestamp,r=e.hrShouldRender,o=e.conversationClosed;if((t||n)&&r)return I_.createElement("div",{className:"hs-message__hr","aria-label":o})};C_.propTypes={infoText:A_.string,timestamp:A_.string,hrShouldRender:A_.bool,conversationClosed:A_.string};var O_=I_.memo(C_),R_=n(7294),w_=n(5697),P_=function(e){var t=e.timestamp;if(t)return R_.createElement("div",{className:"hs-message hs-message--timestamp"},R_.createElement("span",{className:"hs-message__chat-separator-content-text"},t))};P_.propTypes={timestamp:w_.string};var N_=R_.memo(P_),F_=n(7294),L_=n(5697),k_=function(e){var t=e.infoText;if(t)return F_.createElement("div",{className:"hs-message hs-message--info-text"},F_.createElement("span",{className:"hs-message__chat-separator-content-text"},t))};k_.propTypes={infoText:L_.string};var M_=F_.memo(k_),D_=n(7294),U_=n(5697),x_=function(e){var t=e.publishId,n=e.conversationIdMessage;return e.showConversationIdIsEnabled&&t?D_.createElement("p",{className:"hs-message__show-conversation-id"},n.replace("{{issueId}}","#".concat(t))):null};x_.propTypes={publishId:U_.string,conversationIdMessage:U_.string,showConversationIdIsEnabled:U_.bool};var H_=D_.memo(x_),j_=n(7294),V_=n(5697),B_=function(e){var t=e.message,n=e.text,r=e.showAvatar,o=e.getChatSeparatorRef,a=e.showConversationIdIsEnabled,i=t.hrShouldRender,s=t.timestamp,u=t.infoText,l=t.publishId,c=n.conversationClosed,p=n.showConversationIdPlaceholder,d=Jm({"hs-message__chat-separator-wrapper":r});return s||u?j_.createElement("div",{className:d,ref:o},j_.createElement(M_,{infoText:u}),j_.createElement(O_,{timestamp:s,infoText:u,hrShouldRender:i,conversationClosed:c}),j_.createElement(H_,{publishId:l,conversationIdMessage:p,showConversationIdIsEnabled:a}),j_.createElement(N_,{timestamp:s})):null};B_.propTypes={message:V_.object,text:V_.object,showAvatar:V_.bool,getChatSeparatorRef:V_.func,showConversationIdIsEnabled:V_.bool};var G_=j_.memo(B_),W_=n(2555),q_=n(5697),$_=n(7294),z_=n(5363);function Y_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,apply(this,arguments)}var K_=Tn.getProcessedSelectedStarRatingAriaLabelMap,Q_=W_({displayName:"StarRating",propTypes:{value:q_.number.isRequired,editing:q_.bool,starCount:q_.number,onStarClick:q_.func,onUpdateStarRating:q_.func,onSelectStarRating:q_.func,csatStarLabelsMap:q_.object,showLabels:q_.bool,readOnly:q_.bool,customIconClasses:q_.shape({active:q_.string,inactive:q_.string}),starSize:q_.number,ariaLabelOverallRatings:q_.string,focusedStarRatingAriaLabelMap:q_.object,selectedStarRatingAriaLabelMap:q_.object,selectedRatingLabel:q_.sdOnly:!1,starSiz{return{hoverValue:0}},render:function(){var e=this.props,t=e.editing,n=e.readOnly,r=e.ariaLabelOverallRatings,o=e.value,a=e.selectedRatingLabel,i=e.selectedStarRatingAriaLabelMap,s=Jm("hs-star-rating",{"hs-star-rating--edit-mode":t,"hs-star-rating--read-only":n}),u={},l=r;return n?l=i[o].replace("{{star_label}}",a):(u.onKeyDown=this._onKeyDown,u.tabIndex="0",u.role="radiogroup"),$_.createElement($_.Fragment,null,$_.createElement("div",X_({className:s,"aria-label":l},u),this._renderStars()),this._renderSelectedStarLabel())},_renderStars:function(){for(var e=this.props.starCount,t=[],n=1;n<=e;n++)t.push(this._renderStar(n));return t},_renderStar:function(e){var t,n=this.props,r=n.value,o=n.editing,a=n.csatStarLabelsMap,i=n.starCount,s=n.showLabels,u=n.readOnly,l=n.customIconClasses,c=n.starSize,p=n.focusedStarRatingAriaLabelMap,d=n.selectedStarRatingAriaLabelMap,f=this.state.hoverValue,E=o&&f||r,y=1===e?"1 star":"".concat(e," stars"),m=E>=e,h=Jm("ion-star","hs-star-rating__icon",(Y_(t={"hs-star-rating__active-icon":m,"hs-star-rating__inactive-icon":!m},null==l?void 0:l.active,m&&(null==l?void 0:l.active)),Y_(t,null==l?void 0:l.inactive,!m&&(null==l?void 0:l.inactive)),t)),g=null;if(r||1!==e&&e!==i||!s||(g=$_.createElement("span",{className:"hs-star-rating__label"},a[e])),u)return $_.createElement("div",{className:"hs-button--empty hs-star-rating__icon-wrapper",key:e},$_.createElement(uh,{name:oh.CSAT_RATING,size:c,className:h,title:y,key:e,ariaHidden:!0}),g);var _=K_(d,a),S=m?_[e]:p[e];return $_.createElement("button",{className:"hs-button--empty hs-star-rating__icon-wrapper",role:"radio","aria-label":S,"aria-checked":m,key:e,onMouseEnter:this._onStarMouseEnter.bind(this,e),onMouseLeave:this._onStarMouseLeave,onClick:this._onStarClick.bind(this,e)},$_.createElement(uh,{name:oh.CSAT_RATING,size:c,className:h,title:y,key:e,ariaHidden:!0}),g)},_renderSelectedStarLabel:function(){var e=this.props,t=e.csatStarLabelsMap,n=e.value,r=e.showLabels;return n&&r?$_.createElement("div",{className:"hs-star-rating__active-label-wrapper"},$_.createElement("span",{className:"hs-star-rating__active-label"},t[n])):null},_onKeyDown:function(e){var t=this.props,n=t.value,r=t.onSelectStarRating,o=t.onUpdateStarRating,a=Eg,i=cg,s=fg,u=dg,l=e.keyCode;l===u&&n>1?o(n-1):l===s&&n<5?o(n+1):l!==a&&l!==i||!r||._updateHoverValue._updateHoverValueState({hoverValue:e})},_onStarClick:function(e){var t=this.props,n=t.onStarClick;t.editing&&n&&n(e)}}),J_=z_.connect((function(e){var t=e.ui.text;return{ariaLabelOverallRatings:t.ariaLabelOverallRatings,focusedStarRatingAriaLabelMap:{1:t.ariaLabelSelectOneStarRating,2:t.ariaLabelSelectTwoStarRating,3:t.ariaLabelSelectThreeStarRating,4:t.ariaLabelSelectFourStarRating,5:t.ariaLabelSelectFiveStarRating},selectedStarRatingAriaLabelMap:{1:t.ariaLabelOneStarRatingSelected,2:t.ariaLabelTwoStarRatingSelected,3:t.ariaLabelThreeStarRatingSelected,4:t.ariaLabelFourStarRatingSelected,5:t.ariaLabelFiveStarRatingSelected}}}),null)(Q_),Z_=n(7294),eS=n(5697),tS=function(e){var t=e.body,n=e.ratingData;if(!n)return null;return Z_.createElement("div",{className:"hs-message__item",dir:"auto"},Z_.createElement(J_,{value:n.value,readOnly:!0,showLabels:!1,customIconClasses:{active:"hs-message__active-csat-star-rating",inactive:"hs-message__inactive-csat-star-rating"},starSize:20,selectedRatingLabel:t}),Z_.createElement("div",{className:"hs-message__csat-rating-title",dir:"auto",dangerouslySetInnerHTML:{__html:t}}))};tS.propTypes={body:eS.string.isRequired,ratingData:eS.shape({value:eS.number.isRequired})};var nS=Z_.memo(tS),rS=n(7294),oS=n(5697),aS=function(e){var t=e.message,n=e.showAgentNickname,r=e.text;if(!e.showMessageDetails)return null;var o=Tn.getNickname({message:t,showAgentNickname:n,text:r}),a=Tn.getHumanReadableTime(t,r),i=o?rS.createElement("span",{className:"hs-message__agent-name"},o):null;return rS.createElement("div",{className:"hs-message__details"},i,rS.createElement("span",{className:"hs-message__timestamp"},a))};aS.propTypes={message:oS.object,showAgentNickname:oS.bool,text:oS.object,showMessageDetails:oS.bool};var iS=rS.memo(aS),sS=n(7294),uS=n(5697),lS=function(e){var t=e.message,n=e.text,r=t.redactionCount,o=n.conversationRedactedMsg,a=n.conversationsRedactedMsg,i=r&&r>1?a.replace("%d",r):o;return sS.createElement("div",null,sS.createElement("div",{className:"hs-message__hr"}),sS.createElement("div",{className:"hs-message__conversation-redacted"},sS.createElement("em",null,i)))};lS.propTypes={message:uS.object,text:uS.object};var cS=sS.memo(lS),pS=Hu.EVENT,dS=nt.FAQ_SUGGESTION_SOURCES,fS=function(e){return{type:t.TOGGLE_FAQ_LOADING,loading:e}},ES=function(e){return{type:t.SET_FAQ_ERROR_MESSAGE,errorMsg:e}},yS=function(e,n,r,o){return function(a,i){var s=i(),u=s.appState,l=u.domain,c=u.analytics.suggestedFaqReadTracked,p=s.ui.text.faqLoadFailed;a(Ms({activeView:x})),a(Uu([fS(!0),ES(""),sl(x)])),yu({route:Su(l,e),headers:a(nl()),data:{nonce:Date.now()},onSuccess:function(i){var s=Tn.SET_ACTIVE_FAQ,faq:e}}(s)),a(Ec(pS.FAQ_SUGGESTION,{faqId:e,faqSource:o})),(o!==dS.ANSWER_BOT||c)&&(o!==dS.CUSTOM_BOT&&o!==dS.HELP_BOT||Aa(en.getCbFaqSuggestionReadLsKey(r)))||a(Ec(pS.SUGGESTED_FAQ_READ,{faqId:e,faqSource:o,msgId:r}e:func:function(){a(fS(!1))}})}},mS=n(5363),hS=n(7294),gS=n(5697),_S=nt.FAQ_SUGGESTION_SOURCES,SS=function(e){var t=e.faq,n=e.msgId,r=e.faqSource,o=t.id,a=t.language,i=t.title,s=mS.useDispatch(),u=Jm("hs-message__suggested-faq-title",{"hs-message__suggested-faq-title--single-line-clamp":r===_S.HELP_BOT});return hS.createElement("button",{className:"hs-message__suggested-faq hs-button--emption(){s(yS(o,a,n,r))},title:i},hS.createElement("span",{className:u},i),hS.createElement(uh,{name:oh.CHEVRON_FORWARD,className:"hs-message__suggested-faq-icon",size:20}))};SS.propTypes={faq:gS.shape({id:gS.string,language:gS.string,title:gS.string}).isRequired,msgId:gS.string.isRequired,faqSource:gS.string.isRequired};var vS=hS.memo(SS),bS=n(7294),TS=n(5697),IS=function(e){var t=e.message,n=t.suggestedFaqs,r=t.id,o=t.faqSource;return(null==n?vmsgId:r,faqSource:o})})):null};IS.propTypes={message:TS.object};var AS=bS.memo(IS),CS=n(7294),OS=n(5697),RS=function(e){var t=e.message,n=e.text,r=t.body,o=t.suggestedFaqs,a=t.redacted,i=n.messageDeleted;if(!(null==o?void 0:o.length))return null;var s=CS.createElement("div",{className:"hs-message__item",dir:"auto",dangerouslySetInnerHTML:{__html:r}});return a&&(s=CS.createElement(Pg,{text:i})),CS.createElement("div",null,s,CS.createElement("div",{className:"hs-message__suggested-faqs"},CS.createElement(AS,{message:t})))};RS.propTypes={message:OS.object.isRequired,text:OS.object.isRequired};var wS=CS.memo(RS),PS=n(7294),NS=n(5697),FS=function(e){var t=e.message,n=e.text,r=t.redacted,o=t.intentLabels,a=t.body,i=n.messageDeleted;return r?PS.createElement(Pg,{text:i}):o?PS.createElement("div",{className:"hs-message__item",dir:"auto"},PS.createElement("div",{className:"hs-message__sis-parent"},o[0].toUpperCase()),PS.createElement("div",{className:"hs-message__sis-child"},o[1])):PS.createElement("div",{className:"hs-message__item",dir:"auto"},a)};FS.propTypes={message:NS.object,text:NS.object};var LS=PS.memo(FS),kShs-message__item"},t)};DS.propTypes={csatBotRequestMsg:MS.string.isRequired};var US=kS.memo(DS),xS=n(7294),HS=n(5697),jS=function(e){var t=e.messageBody;return xS.createElement("div",{className:"hs-live-messaging__system-message","aria-label":t},xS.createElement("span",null,t))};jS.propTypes={messageBody:HS.string.isRequired};var VS=xS.memo(jS),BS=n(7294),GS=n(5697),WS=function(e){var t=e.csatRequestMessage;return t?BS.createElement("div",{className:"hs-csat__feedback-bot-csat-heading-text",dangerouslySetInnerHTML:{__html:t}}):null};WS.propTypes={csatRequestMessage:GS.string};var qS=BS.memo(WS),$S=n(5363),zS=n(7294),YS=n(5697),XS=function(e){var t=e.onSubmitBtnClick,n=e.submitBtnt.csatSaveInProgress}}),$S.shallowEqual),o=r.selectedCsatRating,a=r.csatSaveInProgress;if(0===o)return null;var i=Jm("hs-button","hs-button--hollow","hs-csat__submit-button");return zS.createElement("div",{className:"hs-csat__submit-button-wrapper"},zS.createElement("button",{className:i,onClick:t,disabled:a},n))};XS.propTypes={onSubmitBtnClick:YS.func,submitBtnText:YS.string};var KS=zS.memo(XS),QS=n(7294),JS=n(5697),ZS=function(e){var t=e.showFeedbackBotCsatInput,n=e.selectedCsatRating,r=e.ratings,o=e.submitBtnText,a=e.onUpdateStarRating,i=e.onSubmitCsatWhenContextIsFeedbackBots;if(!t)return null;var s={};r.forEach((function(e,t){s[t+1]=e.label}));return QS.createElement(QS.Fragment,null,QS.createElement("div",{className:"hs-csat__feedback-bot-csat-star-rating"},QS.createElement(J_,{name:"csat",value:n,onStarClick:a,onUpdateStarRating:a,csatStarLabelsMap:s})),QS.createElemenunction(){return i(n)},submitBtnText:o}))};ZS.propTypes={showFeedbackBotCsatInput:JS.bool,selectedCsatRating:JS.number,ratings:JS.array,submitBtnText:JS.string,onUpdateStarRating:JS.func,onSubmitCsatWhenContextIsFeedbackBots:JS.func};var ev=QS.memo(ZS),tv=n(7294),nv=n(5697),rv=n(5363),ov=Tn.shouldShowFeedbackBotCsatInput,av=function(e){var t=e.selectedCsatRating,n=e.onUpdateStarRatingWhenContextIsFeedbackBots,r=e.ratings,o=e.onSubmitCsatWhenContextIsFeedbackBots,a=e.submitBtnText,i=e.message,s=e.messageIsLatest,u=ov(r,s)?Jm("hs-message__item","hs-message--full-width"):Jm("hs-message__item"),l=ov(r,s);return tv.createElement("div",{className:u,dir:"auto"},tv.createElement(qS,{csatRequestMessage:null==i?void 0:i.body}),tv.createElement(ev,{showFeedbackBotCsatInput:l,selectedCsatRating:t,ratings:r,submitBtnText:a,onUpdateStarRating:n,onSubmitCsatWhenContextIsFeedbackBots:o}))};av.propTypes={selectedCsatRating:nv.number,onUpdateStarRatingWhenContextIsFeedbackBots:nv.func,ratings:nv.array,onSubmitCsatWhenContextIsFeedbackBots:nv.func,submitBtnText:nv.string,message:nv.object,messageIsLatest:nv.bool};var iv=rv.connect((function(e){var t=e.chatView,n=t.userInput,r=n.ratings,o=n.submitFeedbackBtnText;return{selectedCsatRating:t.rating,ratings:r,submitBtnText:o}}),(function(e){return{onUpdateStarRatingWheextIsFeedbackBots(t))},onSubmitCsatWhenContextIsFeedbackBots:function(t){e(jy.submitReply({onSuccess:function(){e(Ul()),e(Is({rating:t}))}}))}}}))(av),sv=n(2555)h.apply(n,r)}return n}function pv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dv=nt.TYPE,fv={redactedMessageElement:"hs-message__item hs-message--redacted",messageElement:"hs-message__item"},Ev=sv({displayName:"Message",propTypes:{message:Oh.MESSAGE_PROP_TYPE,showAgentNickname:uv.bool,onRetryAttachmentClick:uv.func,onImageLoad:uv.func,onActionClick:uv.func,text:uv.shape({csatBotRequestMsg:uv.string.isRequired,messageDeleted:uv.string.isRequired,conversationRedactedMsg:uv.string.isRequired,conversationsRedactedMsg:uv.string.isRequired,attachmentRetryError:uv.string.isRequired,attachmentFileSizeError:uv.string.isRequired,attachmentFileTypeError:uv.string.isRequired,attachmentDefaultError:uv.string.isRequired,attachmentUploadingStatus:uv.string.isRequired,attachScreenshotMsg:uv.string.isRequired,ariaLabelSupportMsgAgentName:uv.string,ariaLabelSupportMsgMissingAgentName:uv.string,ariaLabelAttachmentUploading:uv.string,ariaLabelUserMessage:uv.string,conversationClosed:uv.string,ariaLabelOpenFile:uv.string,systemNickname:uv.string,ariaLabelUserImageAttachment:uv.string,ariaLabelSupportImageAttachment:uv.string}).isRequired,showAvatar:uv.bool.isRequired,avatarUrl:uv.shape({original:uv.string,fallback:uv.string}),showMessageDetails:uv.bool,attachmentUploadIsInProgress:uv.object,currentIssueId:uv.string,issueState:uv.string,onLinkClick:uv.func,liteSdkConfig:uv.object,messageListRef:uv.object,getChatSeparatorRef:uv.func,replyBoxRef:uv.object,showConversationIdIsEnabled:uv.bool,userHasRespondedToCsatRating:uv.bool,messageIsLatest:uv.bool},getDefaultProps:function(){return{showAgentNicknam70,avatarIsLoaded:!1}},render:function(){var e=this.props.message,t=e.isCustomerMsg,n=e.type,r=e.states;if(e.shouldNotRender)return null;switch(n){case dv.CHAT_SEPARATOR:return lv.createElement(G_,{message:this.props.message,text:this.props.text,showAvatar:this.props.showAvatar,getChatSeparatorRef:this.props.getChatSeparatorRef,showConversationIdIsEnabled:this.props.showConversationIdIsEnabled});case dv.CONVERSATION_REDACTED:return lv.createElement(cS,{message:this.props.message,text:this.props.text});case dv.LIVE_MESSAGING_SYSTEM_MESSAGE:return lv.createElement(VS,{messageBody:this.props.message.body});default:var o=this.props.messageIsLatest,a=Jm("hs-message",{"hs-message--left":!t,"hs-message--right":t,"hs-message--error":r&&r.error,"hs-message--full-width":Tn.isFullWidthMessage(n,o)});return lv.createElement("div",{className:a,onClick:this._onMsgClick,onKeyDown:this._onMsgKeyDown,role:"presentation"},this._renderMessage())}},_renderMessage:function(){var e=this.props.message.type,t=this._getMessageItemEl(e);if(!t)return null;var n=this.props,r=n.message,o=n.showAgentNickname,a=n.showMessageDetails,i=n.text,s=Jm("hs-message__item-wrapper",{"hs-message--with-avatar":this.props.showAvatar}),u=Jm("hs-message__details-and-msg-wrapper",{"hs-message--grouped-messages-start":this.props.showMessageDetails});return lv.createElement("div",{className:s},this._renderAvatar(),lv.createElement("div",{className:u},lv.createElement(iS,{message:r,showAgentNickname:o,showMessageDetails:a,text:i}),t,lv.createElement(s_,{message:this.props.message})))},_renderAvatar:function(){var e=this.props,t=e.avatarUrl,n=e.showAvatar,r=e.message.isCustomerMsg,o=e.showMessageDetails,a=null,i=null;t&&(a=t.original,i=t.fallback);var s=Tn.shouldAvatarRender(n,r,o);return lv.createElement(lg,{showAvatar:s,avatarUrl:a,className:"hs-message__avatar",fallbackAvatar:i})},_renderServerMessage:function(){var e=this.props,t=e.message,n=t.id,r=t.redacted,o=t.body,a=t.attachments,i=t.createdTs,s=e.text,u=s.messageDeleted,l=s.ariaLabelOpenFile,c=s.ariaLabelSupportImageAttachment,p=Tn.getSupportImageAttachmentAriaLabel(i,c);return lv.createElement(lv.Fragment,null,lv.createElement(Fh,{messageId:n,messageIsRedacted:r,messageText:o,messageDeletedText:u,classNames:fv}),lv.createElement(bh,{attachments:a,ariaLabelOpenFile:l,supportImageAttachmentAriaLabel:p}))},_renderUserAttachmentMessage:function(){var e=this.props,t=e.message,n=t.isSystemMsg,r=t.states,o=t.file,a=t.attachments,i=t.id,s=t.skipped,u=t.body,l=t.redacted,c=t.createdTs,p=e.text,d=p.ariaLabelOpenFile,f=p.messageDeleted,E=p.ariaLabelUserImageAttachment,y=e.onImageLoad,m=e.attachmentUploadIsInProgress,h=Tn.getUserImageAttachmentAriaLabel(c,E);return s?lv.createElement(Fh,{messageId:i,messageIsRedacted:l,messageText:u,messageDeletedText:f,classNames:fv}):lv.createElement(vh,{messageIsClientGenerated:n,messageStates:r,file:o,attachments:a,ariaLabelOpenFile:d,onImageLoad:y,onRetryClick:this._onRetryClick,attachmentUploadIsInProgress:m,messageId:i,userImageAttachmentAriaLabel:h})},_renderMessageWithActions:function(){var e=this.props,t=e.message,n=t.id,r=t.redacted,o=t.body,a=t.actionCards,i=e.text.messageDeleted,s={serverTextMessage:fv,actionCard:{wrapper:"hs-message__item hs-message__action-card",actionCardImage:"hs-message__action-card-image hs-button--empty",actionCardFailedImage:"hs-message__failed-img",actionCardTitle:"hs-message__action-card-title",actionCardAction:"hs-message__action-card-action",redactedActionCardContent:"hs-message__item hs-message__action-card hs-message--redacted"}};return lv.createElement(og,{messageId:n,messageIsRedacted:r,mainText:o,messageDeletedText:i,actionCards:a,classNames:s,imageWrapperHeightIsDynamic:!1,onActionClick:this._onActionClick})},_getMessageItemEl:function(e){switch(e){case dv.TEXT:case dv.TEXT_MSG_WITH_TEXT_INPUT:case dv.TEXT_MSG_WITH_EMAIL_INPUT:case dv.TEXT_MSG_WITH_NUMERIC_INPUT:case dv.TEXT_MSG_WITH_DATE_TIME_INPUT:case dv.TEXT_MSG_WITH_OPTION_INPUT:case dv.TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT:case dv.TEXT_MSG_WITH_FORM_INPUT:case dv.INTENTS_WITH_OPTION_INPUT:case dv.RESP_TEXT_MSG_WITH_TEXT_INPUT:case dv.RESP_TEXT_MSG_WITH_EMAIL_INPUT:case dv.RESP_TEXT_MSG_WITH_NUMERIC_INPUT:case dv.RESP_TEXT_MSG_WITH_DATE_TIME_INPUT:case dv.RESP_TEXT_MSG_WITH_OPTION_INPUT:case dv.RESP_EMPTY_MSG_WITH_TEXT_INPUT:case dv.RESP_FAQ_LIST_WITH_OPTION_INPUT:case dv.RESP_TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT:case dv.AGENT_FOLLOW_UP_REQUESTED:return this._renderServerMessage();case dv.FAQ_LIST_WITH_OPTION_INPUT:return lv.createElement(wS,{message:this.props.message,text:this.props.text});case dv.CSAT:return lv.createElement(US,{csatBotRequestMsg:this.props.text.csatBotRequestMsg});case dv.SCREENSHOT_SENT:case dv.ATTACHMENT:case dv.RESP_TEXT_MSG_WITH_FILE_INPUT:return this._renderUserAttachmentMessage();case dv.TEXT_MSG_WITH_ACTIONS:return this._renderMessageWithActions();case dv.SIS:case dv.RESP_INTENTS_WITH_OPTION_INPUT:return lv.createElement(LS,{message:this.props.message,text:this.props.text});case dv.RESP_TEXT_CSAT_MSG_WITH_OPTION_INPUT:return lv.createElement(nS,{body:this.props.message.body,ratingData:this.props.message.ratingData});case dv.REQUEST_SCREENSHOT:return lv.createElement(jg,{message:this.props.message,replyBoxRef:this.props.replyBoxRef});case dv.TEXT_MESSAGE_WITH_FILE_INPUT:return lv.createElement(Xg,{message:this.props.message});case dv.RESP_TEXT_MSG_WITH_FORM_INPUT:return lv.createElement(p_,{message:this.props.message,text:this.props.text});case dv.APP_REVIEW_REQUEST:return lv.createElement(T_,{message:this.props.message});case dv.TEXT_CSAT_MSG_WITH_OPTION_INPUT:var t=this.props,n=t.userHasRespondedToCsatRating,r=t.messageIsLatest;return r||n?lv.createElement(iv,{message:this.props.message,userHasRespondedToCsatRating:n,messageIsLatest:r}):null}},_onMsgClick:function(e){var t=this.props,n=t.onLinkClick,r=t.liteSdkConfig;!!r&&!!r.os&&"function"==typeof n&&"A"===e.target.tagName&&e.target.href&&n(e.target.href)},_onMsgKeyDown:function(e){e.keyCode===cg&&this._onMsgCtryAttachmentClick(e)},_onActionClick:function(e){var t=this.props,n=t.onActionClick,r=t.message.id;"tor(n,t))}))}return e}({},e,{},{messageId:r}))},componentDidMount:function(){this.props.messageListRef&&this.props.messageListRef.classList.remove("hs-message--shift-up-animation")}}),yv=n(7294),mv=n(5363),hv=yv.createElement("svg",{width:"103",height:"5",viewBox:"0 0 103 5",className:"svg-content-color",xmlns:"http://www.w3.org/2000/svg"},yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0H1V5H0V0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 0V1H1V0L3 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 2V3H1V2L3 2Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 1V2H3V1L4 1Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 1V4H5V1L6 1Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 1V4H8V1L9 1Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 0V4H11V0L12 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 0V4H15V0L16 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 0V5H18V0L19 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 0V5H23V0L24 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 0V1H24V0L26 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 2V3H24V2H26Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27 1V2H26V1H27Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 3V4H25V3H26Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27 4V5H26V4H27Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 0V1H19V0L21 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 2V3H19V2H21Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 4V5H19V4H21Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30 0V5H29V0L30 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35 0V5H34V0L35 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38 1V4H37V1L38 1Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 2V3H30V2H32Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 0V1H30V0L32 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37 0V1H35V0L37 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37 4V5H35V4H37Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 4V5H30V4H32Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45 0V5H44V0L45 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47 2V3H45V2H47Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48 1V2H47V1H48Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48 3V4H47V3H48Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51 0V1H50V0L51 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52 1V2H51V1H52Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M54 1V2H53V1H54Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M55 0V1H54V0L55 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M53 2V5H52V2H53Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M61 0V5H60V0L61 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M63 2V3H61V2H63Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M64 0V5H63V0L64 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47 0V1H45V0L47 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47 4V5H45V4H47Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 1H14V4H13V1Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4H13V5H12V4Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 4H15V5H14V4Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0V1H6V0L8 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 4V5H6V4H8Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M67 0V5H66V0L67 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69 2V3H67V2H69Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69 0V1H67V0L69 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69 4V5H67V4H69Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M72 0V5H71V0L72 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M74 4V5H72V4H74Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M75 0H76V5H75V0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M87 0H88V5H87V0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M90 0H91V5H90V0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M93 0H94V5H93V0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M96 0H97V5H96V0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M101 1H102V5H101V1Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M97 0H99V1H97V0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M100 0H103V1H100V0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M97 2H99V3H97V2Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M88 2H90V3H88V2Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M78 0V1H76V0L78 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M78 2V3H76V2L78 2Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M79 1V2H78V1L79 1Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82 1V2H81V1L82 1Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M85 3V4H84V3H85Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M84 2V3H82V2H84Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M85 0V1H82V0L85 0Z"}),yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M84 4V5H81V4H84Z"})),gv=yv.memo((function(){return mv.useSelector((function(e){var t,n;return!(null==e||null===(t=e.appState)||void 0===t||null===(n=t.featuresEnabled)||void 0===n?void 0:n.branding)}))?yv.createElement("div",{className:"hs-branding--hidden"}):yv.createElement("div",{className:"hs-branding"},hv)})),_v=n(5363),Sv=n(7294),vv=n(5697),bv=nt.TYPE,Tv=function(e){var t,n=e.className,r=e.label,o=e.onClick,a=e.disabled,i=Jm("hs-button","hs-button--hollow","hs-chat-footer__button","hs-chat-footer__skip-btn",{"hs-chat-footer__skip-btn--secondary":e.skipButtonIsSecondaurn e.appState.onlinmessageList.length-1]}));return(null==u||null===(t=u.states)||void 0===t?void 0:t.uploadInProgress)||(null==u?void 0:u.type)===bv.RESP_TEXT_MSG_WITH_FILE_INPUT&&(null==u?void 0:u.attachments)?null:Sv.createElement("div",{className:n},Sv.createElement("button",{className:i,onClick:o,disabled:a||!s},r))};Tv.propTypes={className:vv.string,label:vv.string,onClick:vv.func,disabled:vv.bool,skipButtonIsSecondary:vv.bool};var Iv=Sv.memo(Tv)to__=t,e},Nv(estate={hasError:able:!0}}),t&&Nv(e,t)}(t,e),n=t,t:this.props.children}},{key:"cois.props.onError(e,t)}}],o=[{key:"getDerive){return{hasError:!0}}}],r&&Rv(n.prototype,r),o&&Rv(n,o),t}(Av.PureComponent);Fv.propTypes={fallbackComponent:Cv.node,onError:Cv.func};var Lv=Fv,kv=n(5363),Mv=n(7294),Dv=n(5697),Uv=function(e){var t=e.children,n=e.fallbackComponent,r=e.onError,o=kv.useDispatch();return Mv.createElement(Lv,{fallbackComponent:n||null,onError:function(e,t){o($c({error:e,info:t})),r&&r(e,t)}},t)};Uv.propTypes={fallbackComponent:Dv.node,onError:Dv.func};var xv=Uv,Hv=13,jv=27,Vv=38,Bv=40,Gv=39,Wv=37,qv=n(5697),$v=n(2555),zv=n(7294),Yv=at(),Xv=Oh.USER_INPUT_PROP_TYPE,Kv=$v({displayName:"OptionsList",propTypes:{options:qv.arrayOf(qv.shape({value:qv.string.isRequired,label:qv.string.isRequired,description:qv.string,iconUrl:qv.string,parentLabel:qv.string})).isRequired,onSelect:qv.func.isRequired,onOptionItes._renderListItems())},_renderListItems:function(){var e=this;return this.props.options.map((function(t){var n=null,r=zv.createElement("div",null,t.label);return t.parentLabel&&(n=zv.createElement("div",{className:"hs-picker-options__option-item-parent-option-wrapper"},zv.createElement("small",{className:"hs-picker-options__option-item-parent-option",title:t.parentLabel},t.parentLabel)),r=zv.createElement("div",{className:"hs-picker-options__option-item-label-wrapper"},zv.createElement("div",{className:"hs-picker-options__option-item-label",title:t.label},t.label))),zv.createElement("li",{key:t.value,className:"hs-picker-options__option-item",dir:"auto"},zv.createElement("button",{className:"hs-button--empty hs-picker-options__option-item-button",onClick:e._onOptionItemClick.bind(e,t),"aria-label":t.label},n,r))}his.props.onSelect(e)}}),Qv=$v({displayName:"PickerHeader",propTypes:{placeholder:qv.string,onSearch:qv.func,pickerRef:qv.object,onTogglePickerSearchMode:qv.func,hideSearchIcon:qv.bool,userInput:Xv,onSkipUserInput:qv.func,skipButtonIsSecondary:qv.bool,savePickerSearchRef:qv.func},getDefaultProps:function(){return{hideSearchIcon:!1}},getInitialState:function(){return{query:"",searchInputIsShown:!1}},render:function(){var e=null;return this.state.searchInputIsShown&&(e=this._renderCloseSearchIcon()),zv.createElement("div",{className:"hs-picker-header",dir:"auto"},e,this._renderSearch(),this._renderSkipButton())},_renderSkipButton:function(){var e=this.props,t=e.userInput,n=t.required,r=t.skipLabel,o=t.disabled,a=e.onSkipUserInput,i=e.skipButtonIsSecondary,s=this.state.searchInputIsShown;if(n||s)return null;var u=Jm("hs-view__skip-btn-wrapper","hs-picker-header__skip-button");return zv.createElement(Iv,{label:r,className:u,skipButtonIsSecondary:i,disabled:o,onClick:a})},_renderCloseSearchIcon:function(){return zv.createElement("button",{className:"hs-picker-header__close-search-icon hs-button--empty",onClick:this._onCloseSearchIconClick},zv.createElement(uh,{name:oh.CHEVRON_BACK,size:20}))},_renderSearch:function(){var e,t=this.state.searchInputIsShown,n=null;if(t)e=this._renderSearchInput();else{var r=this.props,o=r.userInput.label,a=r.hideSearchIcon;e=zv.createElement("strong",{className:"hs-picker-header__search-label"},o);var i=!!t;n=a?null:zv.createElement("button",{className:"hs-picker-header__search-icon hs-button--empty",onClick:this._onSearchIconClick,"aria-expanded":i},zv.createElement(uh,{name:oh.SEARCH,size:20}))}return zv.createElement("div",{className:"hs-picker-header__search-wrapper"},e,n)},_renderSearchInput:function(){var e=this.state.query,t=this.props.placeholder;return zv.createElement("div",{className:"hs-picker-header__input-wrapper"},zv.createElement("input",{className:"hs-picker-header__input",value:e,autoFocus:!0,placeholder:t,onChange:this._onSearchQueryChange,onKeyDown:this._onSearchInputKeyDown,"aria-label":t,ref:this._savePickerSearchRef}),this._renderClearSearchIcon())},_renderClearSearchIcon:function(){return this.state.query?zv.createElement("button",{className:"hs-picker-header__clear-search-icon hs-button--empty",onClick:this._onClearSearchIconClick},zv.createElement(uh,{name:oh.INPUT_CLEAR,size:20})):null},_onSearchIconClick:function(){var e=this;this.props.onToggarchInputIsShown:!0})}))},_onCloseSearchIconClick:function(){this._resetSearch(!1),this.props.onTogglePickerSearchMode(!1)},_onClearSearchIconClick:function(){this._resetSearch()his.props.onSearch(t)},_onSearchInputKeyDown:function(e){e.keyCode===jv&&this._resetSearch(!1)},_resetSearch:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({searchInp{e.props.onSearch("")}))},_savePickerSearchRef:function(e){this.props.savePickerSearchRef(e)}}),Jv=$v({displayName:"Picker",propTypes:{searchPlaceholder:qv.string,searchNoResultsText:qv.string,className:qv.string,onSelect:qv.func,onTogglePickerSearchMode:qv.func,isWidgetInFullscreenMode:qv.bool,pickerIsInSearchMode:qv.bool,hideSearchIcon:qv.bool,userInput:Xv,onSkipUserInput:qv.func,skipButtonIsSecondary:qv.bool},getDefaultProps:function(){return{ariaLabels:{optionsList:"",clearSearchInput:"",searchList:"",closeSearch:""},hideSearchIcops.userInput.options}},render:function(){var e=this.props,t=e.searchPlaceholder,n=e.className,r=e.onTogglePickerSearchMode,o=e.pickerIsInSearchMode,a=e.hideSearchIcon,i=e.userInput,s=e.onSkipUserInput,u=e.skipButtonIsSecondary,l=Jm(n,"hs-picker",{"hs-picker--full-height":o,"hs-picker--auto-height":u});return zv.createElement("div",{className:l,ref:this._savePickerRef,onTouchMove:this._onTouchMove},zv.createElement("div",{className:"hs-picker__header-wrapper"},zv.createElement(Qv,{placeholder:t,hideSearchIcon:a,onSearch:this._onSearch,pickerRef:this._pickerRef,savePickerSearchRef:this._savePickerSearchRef,onTogglePickerSearchMode:r,userInput:i,onSkipUserInput:s,skipButtonIsSecondary:u}),zv.createElement("div",{className:"hs-picker__header-backgroun-el"})),this._renderOptionsList())},_renderOptionsList:function(){var e,t=this.state.filteredOptions,n=this.props.searchNoResultsText;return e=t.length?zv.createElement(Kv,{options:t,onSelect:this._onOptionSelect}):zv.createElement("div",{className:"hs-picker__no-search-results"},n),zv.createElement("div",{className:"hs-picker__options-container"},zv.createElement("div",{className:"hs-picker__options-wrapper",onFocus:this._onOptionListWrapperFocus},e),this._renderBranding())},_renderBranding:function(){return Yv||this.props.isWidgetInFullscreenMode?zv.createElement(gv,null):null},_pickerRef:null,_savePickerRef:function(e){this._pickerRef=e},_onSearch:function(e){this.setState({query:e,filteredOptions:this._filterOptions(this.props.userInput.optionsrops.onSelect;t&&t(e)},_filterOptions:function(e,t){if(t&&(t=t.trim()),!t)return e;var n=[],r=[],o=[],a=[];return e.forEach((function(e){var i=e.label,s=e.description,u=t.toLowerCase(),l=i.toLowerCase().indexOf(u);if(0===l)n.push(e);else if(l>0)r.push(e);else if(s){var c=s.toLowerCase().indexOf(u);0===c?o.push(e):c>0&&a.push(e)}})),[].concat(n,r,o,a)},_pickerSearchRef:null,_savePickerSearchRef:function(e){this._pickerSearchRef=e},_onTouchMove:function(){document.activeElement===this._pickerSearchRef&&this._pickerSearchRef.blur()},UNSAFE_componentWillReceiveProps:function(e){var t=this._filterOptions(e.userInput.options,this.state.query);this.setState({filteredOptions:t})}}),Zv=n(5697),eb=n(7294),tb=n(3935);function nb(e){return nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(e)}function rb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ob(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ab(e,t,n){return t&&ob(e.proon"!=typeof t?ub(e):t}function sb(e){return sb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sb(e)}function ub(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't able:!0}}),t&&cb(e,t)}function cb(e,t){return cb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cb(e,t)}var pb=at(),db=Zv.shape({id:Zv.string.isRequired,label:Zv.string.isRequired,parentId:Zv.string,children:Zv.arrayOf(Zv.string)}),fb={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right"},Eb=function(e){var t=e.buttonDirection===fb.LEFT?oh.CHEVRON_BACK:"",n=Jm("hs-intents-picker__header"),r=Jm("hs-intents-picker__header-text",{"hs-intents-picker--no-header-icon":!t}),o=null;return t&&(o=eb.createElement("button",{onClick:e.onButtonClick,className:"hs-intents-picker__header-nav hs-button--empty"},eb.createElement(uh,{name:t,className:"hs-intents-picker__header-toggle-icon",size:20}))),eb.createElement("div",{className:n,dir:"auto"},eb.createElement("div",{className:"hs-intents-picker__header-background-el"}),eb.createElement("div",{className:"hs-intents-picker__header-details"},o,eb.createElement("div",{className:r,title:e.label,dir:"auto"},e.label)))};Eb.propTypes={label:Zv.string.isRequired,onButtonClick:Zv.func.isRequired,buttonDirection:Zv.oneOf(g(fb))};var yb=function(e){function t(e){var n;return rb(this,t),(n=ib(this,sb(t).call(this,e))).state={highlightedIndex:-1,selectedOptionItemIndex:-1},n._saveOptionsWrapperRef=n._saveOptionsWrapperRef.bind(ub(n)),n._onOptionItemMouseEnter=n._onOptionItemMouseEnter.bind(ub(n)),n._onOptionItemMouseLeave=n._onOptionItemMouseLeave.bind(ub(n)),n._handleKeyboardShortcuts=n._handleKeyboardShortcuts.bind(ub(n)),n._windowKeyDownHandler=n._windowKeyDownHandler.bind(ub(n)),n._onOptionSelect=n._onOptionSelect.bind(ub(n)),n._optionsWrapperRef=null,n}return lb(t,e),ab(s._renderListItems())}},{key:"_renderListItems",value:function(){var e=this,t=this.props,n=t.optionsMap,r=t.optionIds;if(!r.length)return null;var o=r.map((function(t,r){var o=n[t],a=Jm("hs-intents-picker__option-item hs-button--empty",{"hs-intents-picker__option-item-highlighted":r===e.state.highlightedIndex}),i=null;o.children&&(i=eb.createElement(uh,{name:oh.CHEVRON_FORWARD,className:"hs-intents-picker__option-item-icon",size:20}));var s=eb.createElement("div",{className:"hs-intents-picker__option-item-label",title:o.label},o.label);return eb.createElement("button",{className:a,key:t,onClick:e._onOptionSelect.bind(e,t),onMouseEnter:e._onOptionItemMouseEnter.bind(e,r),onMouseLeave:e._onOptionItemMouseLeave,dir:"auto"},s,i)}));return eb.createElement("div",{className:"hs-intents-picker__options",dir:"auto"},o)}},{key:"_saveOptionsWrapperRef",value:function(e){this._optionsWrapperRef=e}},{key:"_onOptionSelect",value:function(e){this.props.onSelect(e),this.setState({highlightedIndex:-1})}},{key:"_onOptionItemMouseEnter",value:function(e){this.setState({highlightedIndex:e})}},{key:"_onOptiohighlightedIndex:-1})}},{key:"_handleKeyboardShortcuts",value:function(e){var t=this.state.highlightedIndex,n=this.props.optionIds,r=n.length;if(r)switch(e.keyCode){case Hv:var o=n[t];o&&this._onOptionSelect(o);break;case Vv:var a;a=t<=0?r-1:t-1,this.setState({highlightedIndex:a});break;case Bv:this.setState({highlightedIndex:(t+1)%r})}}},{key:"_windowKeyDownHandler",value:function(e){this._handleKeyboardShortcuts(e)}},{key:"componentDidMount",value:function(){tb.findDOMNode(this).addEventListener("keydown",this._windowKeyDownHandler)}},{key:"componentWillUnmount",value:function(){tb.findDOMNode(this).removeEventListener("keydown",this._windowKeyDownHandler)}}]),t}(eb.PureComponent);yb.propTypes={optionsMap:Zv.objectOf(db).isRequired,optionIds:Zv.arrayOf(Zv.string).isRequired,onSelect:Zv.func.isRequired};var mb=function(e){function t(e){var n;return rb(this,t),(n=ib(this,sb(t).call(this,e))).state={intentsPickerIsAlreadyInView:!1},n._onOptionSelect=n._onOptionSelect.bind(ub(n)),n._onHeaderButtonClick=n._onHeaderButtonClick.bind(ub(n)),n}return lb(t,e),ab(t,[{key:"render",value:function(){var e=this.props.className,t=this._getOptionsList()||[],n=Jm(e,"hs-intents-picker");return eb.createElement("div",{className:n,ref:this._saveWrapperRef},eb.createElement(Eb,{label:this._getHeaderLabel(),buttonDirection:this._getButtonDirection(),onButtonClick:this._onHeaderButtonClick}),eb.createElement(yb,{optionIds:t,optionsMap:this.props.optionsMap,onSelect:this._onOptionSelect}),this._renderBranding())}},{key:"_renderBranding",value:function(){return pb||this.props.isWidgetInFullscreenMode?eb.createElement(gv,null):null}},{key:"_onHeaderButtonClick",value:function(){if(this._getButtonDirection()===fb.LEFT)this.props.onUnselectOption()}},{key:"_getHeaderLabel",value:function(){var e=this.props,t=e.selectedOptionIds,n=e.optionsMap;return t.length?n[t[t.length-1]].label:this.props.headerTitle}},{key:"_getButtonDirection",value:function(){return this.props.selectedOptionIds.length?fb.LEFT:null}},{key:"_getOptionsList",value:function(){var e=this.props,t=e.selectedOptionIds,n=e.optionsMap,r=e.topLevelOptionsOrder;return t.length?n[t[t.length-1]].children:r}},{key:".props.optionsMap[e])}},{key:"componentDidMount",value:function(){this.state.intentsPickerIsAlreadyInView||(this.props.onComponentMounted(),this.setState({intentsPickerIsAlreadyInView:!0}))}}]),t}(eb.PureComponent);mb.propTypes={optionsMap:Zv.objectOf(db).isRequired,topLevelOptionsOrder:Zv.arrayOf(Zv.string).isRequired,selectedOptionIds:Zv.arrayOf(Zv.string).isRequired,className:Zv.string,headerTitle:Zv.string,onSelectOption:Zv.func.isRequired,onComponentMounted:Zv.func,isWidgetInFullscreenMode:Zv.bool,onUnselectOption:Zv.func};var hb=mb,gb=n(7294),_b=n(5697);function Sb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function vb(){return vb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vb.apply(this,arguments)}var bb="text",Tb="email",Ib="textarea",Ab="number",Cb=gb.useState,Ob=gb.useEffect,Rb=gb.useRef,wb=_b.shape({id:_b.string,label:_b.string,type:_b.string,placeholder:_b.string,required:_b.bool,errorMsg:_b.string}),Pb=function(e){var t,n=e.field,r=n.id,o=n.type,a=n.label,i=n.value,s=n.placeholder,u=n.required,l=n.errorMsg,c=e.focusId,p=e.setFocusId,d=e.onFieldChange,f=e.onFieldBlur,E=!!l,y=Rb(null),m=null,h="",g={placeholder:s,required:u,dir:"autoet.id,e.target.value)},onBlur:function(e){f(e.target.id)},"aria-label":s,"aria-invalid":E,ref:y,value:i};switch(Ob((function(){r===c&&(y.current.focus(),p(null))}),[p,r,c]),o){case bb:h="hs-form-field__input hs-chat-form__form-input",m=gb.createElement("input",vb({type:"text",className:h},g));break;case Tb:h="hs-form-field__input hs-chat-form__form-input",m=gb.createElement("input",vb({type:"email",className:h},g));break;case Ib:h="hs-form-field__input hs-chat-form__text-area hs-chat-form__form-input",m=gb.createElement("textarea",vb({className:h,placeholder:s},g));break;case Ab:h="hs-form-field__input hs-chat-form__form-input hs-chat-form--number-input",m=gb.createElement("input",vb({className:h,type:"number"},g,{onBeforeInput:function(e){(!/[0-9.]$/.test(e.data)||"."===e.data&&e.target.value.includes("."))&&e.preventDefault()}}))}t=E?gb.createElement("div",{className:"hs-chat-form__error-field"},gb.createElement("div",{dir:"auto",className:"hs-chat-form__error-text"},l)):null;var _=Jm("hs-form-field",{"hs-form-field--error":E});return gb.createElement("div",{className:_},gb.createElement("label",{htmlFor:r,className:"hs-form-field__label hs-chat-form__form-label","aria-hidden":!0,dir:"auto"},a),m,t)};Pb.propTypes={field:wb,onFieldChange:_b.func,onFieldBlur:_b.func,focusId:_b.string,setFocusId:_b.func};var Nb=function(e){var t=Jm("hs-button","hs-chat-form__submit-btn",{"hs-chat-form__submit-btn--landscape":!(window.innerHeight>window.innerWidth)});return gb.createElement("div",{className:"hs-chat-form__submit-btn-wrapper"},gb.createElement("button",{type:"button",onClick:e.onChatFormSubmit,className:t},e.submitButtonLabel))};Nb.propTypes={onChatFormSubmit:_b.func,submitButtonLabel:_b.string};var Fb=function(e){var t=e.className,n=e.formFields,r=e.submitButtonLabel,o=e.onChatFormSubmit,a=e.onChatFormFieldChange,i=e.onChatFormFieldBlur,s=e.brandingContainer,u=Jm(t,"hs-chat-form"),l=Sb(Cb(n[0].id),2),c=l[0],p=l[1],d=s||null,f=function(){n.some((function(e){if(e.errorMsg)return p(e.id),!0}))},E=fy=function(e){i&&i(e)};return gb.createElement("div",{className:u},gb.createElement("form",{className:"hs-chat-form__wrapper",id:"e){e.preventDefault()}},gb.createElement("div",{className:"hs-chat-form__form-fields"},n.map((function(e){return gb.createElement(Pb,{key:e.id,field:e,onFieldChange:E,onFieldBlur:y,focusId:c,setFocusId:p})}))),gb.createElemenventDefault(),o(),f()},submitButtonLabel:r})),d)};Fb.propTypes={className:_b.string,submitButtonLabel:_b.string,formFields:_b.arrayOf(wb),onChatFormSubmit:_b.func,onChatFormFieldChange:_b.func,onChatFormFieldBlur:_b.func,brandingContainer:_b.element};var Lb=Fb,kb=n(7294),Mb=n(5697),Db=function(e){var t=e.isTyping,n=e.ariaLabelTypingIndicator;return t?kb.createElement("div",{className:"hs-message-list__typing-indicator","aria-label":n},kb.createElement("div",{className:"hs-message-list__typing-dot hs-message-list__typing-anim-1"}),kb.createElement("div",{className:"hs-message-list__typing-dot hs-message-list__typing-anim-2"}),kb.createElement("div",{className:"hs-message-list__typing-dot hs-message-list__typing-anim-3"})):null};Db.propTypes={isTyping:Mb.bool.isRequired,ariaLabelTypingIndicator:Mb.string.isRequired};var Ub=kb.memo(Db),xb=z,Hb=function(){var e=ey.getState(),t=e.appState,n=t.featuresEnabled.intents,r=t.issueType,o=e.chatView,a=o.intents,i=o.userInput;if(!n)return!1;var s=a.selectedIntentIds,u=a.tree,l=u.intentsMap,c=u.topLevelIntentsOrder,p=!1;if(s.length){var d=l[s[s.length-1]];p=!(!d.children||!d.children.length)}else p=!!c.length;return r===xb.INITIAL&&p&&!i.disabled},jb=Se.USER_INPUT_TYPES,Vb=function(e,t,n){return e===jb.PILL_SELECT&&!t&&!n},Bb=n(5363),Gb=n(7294),Wb=Gb.memo((function(){var e=Bb.useSelector((function(e){var t=e.chatView.userInput,n=e.ui.text;return{showNewConversationBtn:t.showNewConversationBtn,separatorOrText:n.separatorOr}}),Bb.shallowEqual),t=e.showNewConversationBtn,n=void 0===t||t,r=e.separatorOrText;return n?Gb.createElement("div",{className:"hs-csat__hr"},Gb.createElement("span",{className:"hs-csat__hr-text"},r)):null})),qb=n(5363),$b=n(7294),zb=Tn.shouldShowFeedbackBotCsat,Yb=$b.memo((function(){var e=qb.useSelector((function(e){var t=e.appState.featuresEnabled,n=e.chatView.userInput;return{feedbackBotIsEnabled:null==t?void 0:t.feedbackBot,userInputType:null==n?void 0:n.type}}),qb.shallowEqual),t=e.feedbackBotIsEnabled,n=e.userInputType;return zb(t,n)?$b.createElement(Wb,null):null})),Xb=n(5363),Kb=n(7294),Qb=W,Jb=at(),Zb=function(){var e,t=Xb.useDispatch(),n=Xb.useSelector((function(e){var t=e.appState,n=t.sdkConfigOptions,r=t.featuresEnabled,o=t.issueState,a=t.domain,i=e.chatView,s=e.ui;return{legacyResolutionQuestionIsVisible:i.legacyResolutionQuestionIsVisible,resolutionButtonIsDisabled:i.resolutionButtonIsDisabled,text:s.text,fullScreenIsEnabled:n.fullScreen,brandingFeatureIsEnabled:r.branding,activeIssueState:o,customerDomain:a,currentMessageList:i.messageList}}),Xb.shallowEqual),r=n.legacyResolutionQuestionIsVisible,o=n.resolutionButtonIsDisabled,a=n.text,i=n.fullScreenIsEnabled,s=n.brandingFeatureIsEnabled,u=n.activeIssueState,l=n.customerDomain,c=n.currentMessageList;if(!r)return null;u!==Qb.RESOLVED&&t(zc({message:"Resolution question is being rendered when the issue state is not resolved",stack:"issueState: ".concat(u,",\n\n        publishId: ").concat(null===(e=c[c.length-1])||void 0===e?void 0:e.publishId,",\n\n        domain: ").concat(l)}));var p=Jm("hs-button","hs-button--hollow","hs-resolution-question__button"),d=!Jb&&!i,f=Jm("hs-resolution-question",{"hs-resolution-question--full-screen":i,"hs-resolution-question--desktop":d,"hs-resolution-question--desktop-no-branding":!s&&d});return Kb.createElement("div",{className:f},Kb.createElement("div",{className:"hs-resolution-question__card","aria-label":a.chatViewConversationResolutionQuestion},Kb.createElement("div",{className:"hs-resolution-question__heading"},Kb.createElement("strong",null,a.chatViewConversationResolutionQuestion)),Kb.createElement("div",{className:"hs-resolution-question__buttons-wrapper"},Kb.createElement("button",{className:p,disabled:o,onClick:function(){t($p())},"aria-label":a.resolutionQuestionReject},a.resolutionQuestionReject),Kb.createElement("button",{className:p,disabled:o,onClick:function(){t(qp())},"aria-label":a.resolutionQuestionAccept},a.resolutionQuestionAccept))))},eT=n(5363),tT=n(7294),nT=Hu.EVENT,rT=tT.memo((function(){var e=eT.useDispatch(),t=eT.useSelector((function(e){return e.ui.text}));return tT.createElement("button",{onClick:function(){e(Np.startNewConversation({resetSessionId:!0})),e(Ec(nT.WIDGET_OPEN))},className:"hs-csat__start-new-conversation"},t.chatViewStartNewConversation)})),oT=n(5363),aT=n(7294),iT=n(5697),sT=function(e){var t=e.onCsatReviewChange,n=oT.useSelector((function(e){var t=e.chatView,n=e.ui.text;return{review:t.review,selectedCsatRating:t.rating,csatSaveInProgress:t.csatSaveInProgress,csatBotReviewPlaceholder:n.csatBotReviewPlaceholder}}),oT.shallowEqual),r=n.review,o=n.selectedCsatRating,a=n.csatSaveInProgress,i=n.csatBotReviewPlaceholder;return 0===o?null:aT.createElement("textarea",{value:r,dir:"auto",disabled:a,className:"hs-csat__input",onChange:t,placeholder:i,"aria-label":i})};sT.propTypes={onCsatReviewChange:iT.func};var uT=aT.memo(sT),lT=n(7294),cT=n(5697),pT=function(e){var t=e.headingText;return lT.createElement("div",{className:"hs-csat__heading","aria-hidden":!0},lT.createElement("strong",{className:"hs-csat__heading-text",dangerouslySetInnerHTML:{__html:t}}))};pT.propTypes={headingText:cT.string};var dT=lT.memo(pT),fT=n(5363),ET=n(7294),yT=W,mT=at(),hT=function(){var e,t=fT.useDispatch(),n=fT.useSelector((function(e){var t=e.appState,n=t.sdkConfigOptions,r=t.featuresEnabled,o=t.minimized,a=t.issueState,i=t.domain,s=e.chatView,u=e.ui;return{rating:s.rating,text:u.text,legacyCsatIsVisible:s.legacyCsatIsVisible,fullScreenIsEnabled:n.fullScreen,brandingFeatureIsEnabled:r.branding,widgetIsMinimized:o,activeIssueState:a,customerDomain:i,currentMessageList:s.messageList}}),fT.shallowEqual),r=n.rating,o=n.text,a=n.legacyCsatIsVisible,i=n.fullScreenIsEnabled,s=n.brandingFeatureIsEnabled,u=n.widgetIsMinimized,l=n.activeIssueState,c=n.customerDomain,p=n.currentMessageList;if(!a)return null;l!==yT.RESOLVED&&t(zc({message:"CSAT is being rendered when the issue state is not resolved",stack:"issueState: ".concat(l,",\n\n        publishId: ").concat(null===(e=p[p.length-1])||void 0===e?void 0:e.publishId,",\n\n        domain: ").concat(c)}));var d=o.csatBotRequestMsg,f=o.csatBotFormSubmitBtn,E={1:o.csatOneStarRating,2:o.csatTwoStarRating,3:o.csatThreeStarRating,4:o.csatFourStarRating,5:o.updateCsatRating(e))},m=!mT&&!i,h=ry(),g=Jm("hs-csat__wrapper",{"hs-csat__wrapper--full-screen":i,"hs-csat__wrapper--desktop":m,"hs-csat__wrapper--desktop-no-branding":!s&&m,"hs-csat__wrapper--slide-up-animation":!u&&!h});return ET.createElement("div",{className:g},ET.createElement("div",{className:"hs-csat"},ET.createElement(dT,{headingText:d}),ET.createElement("div",{className:"hs-csat__footer","aria-label":d},ET.createElement(J_,{name:"csat",value:r,onStarClick:y,onUpdateStarRating:y,csatStarLabelsMap:E})),ET.createElement(view(e.target.value))}}),ET.createElemenrn t(jy.submitCsat())},submitBtnText:f}),ET.createElement(Wb,null),ET.createElement(rT,null)))},gT=n(2555),_T=n(5697),ST=n(7294),vT=n(3935);function bT(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var TT=Oh.MESSAGE_PROP_TYPE,IT=Oh.USER_INPUT_PROP_TYPE,AT=Se.USER_INPUT_TYPES,CT=Vb,OT=nt.TYPE,RT=at(),wT=it(),PT=gT({displayName:"MessageList",propTypes:{messages:_T.arrayOf(TT).isRequired,showAgentNickname:_T.bool,onActionClick:_T.func,onRetryAttachmentClick:_T.func,isTyping:_T.bool,userIsViewingPastMessages:_T.bool,text:_T.object.isRequired,userInput:IT,onPillOptionSelect:_T.func.isRequired,onScrollPastExistingConversation:_T.func,onLoadMore:_T.func,onSkipUserInput:_T.func,minimized:_T.bool.isRequired,hasFailure:_T.bool,onMessageError:_T.func,showAvatar:_T.bool,avatar:_T.shape({showMessageFeedAvatar:_T.bool,agentAvatarIsPersonalised:_T.bool,botAvatarIsPersonalised:_T.bool,agentDefaultAvatarUrl:_T.string,botDefaultAvatarUrl:_T.string,avatarUrlTemplate:_T.string,appAvatarUrl:_T.string}).isRequired,avatarLastUpdatedTs:_T.object.isRequired,attachmentUploadIsInProgress:_T.object,currentIssueId:_T.string,issueState:_T.string,onListPickerOptionSelect:_T.func,onLinkClick:_T.func,liteSdkConfig:_T.object,intents:_T.shape({intentsMap:_T.objectOf(_T.shape({id:_T.string.isRequired,label:_T.string.isRequired,parentId:_T.string,children:_T.arrayOf(_T.string)})).isRequired,topLevelIntentsOrder:_T.arrayOf(_T.string),selectedIntentIds:_T.arrayOf(_T.string),enforceIntentSelection:_T.bool.isRequired}),intentsFeatureIsEnabled:_T.bool.isRequired,onSelectIntent:_T.func,onUnselectIntent:_T.func.isRequired,issueType:_T.string.isRequired,onTogglePickerSearchMode:_T.func,pickerIsInSearchMode:_T.bool,isWidgetInFullscreenMode:_T.bool,firstPollerCallHasSucceeded:_T.bool,issueCursor:_T.number,allMessagesAreLoaded:_T.bool,replyBoxRef:_T.object,requiredMessagesHaveLoaded:_T.bool,onChatFormSubmit:_T.func,onChatFormFieldChange:_T.func,onChatFormFieldBlur:_T.func,showConversationIdIsEnabled:_T.bool,selectedCsatRating:_T.number},render:function(){var e=this.props,t=e.showAvatar,n=e.userInput,r=n.required,o=n.skipLabel,a=n.disabled,i=n.type,s=e.onSkipUserInput,u=e.hasFailure,l=Jm("hs-message-list",{"hs-message-list--with-avatar":t}),c=null;return r||CT(i,a,u)||this.props.isTyping||i===AT.LIST_PICKER||(c=ST.createElement(Iv,{label:o,className:"hs-view__skip-btn-wrapper",disabled:a,onClick:s})),ST.createElement("div",{ref:this._scrollWrapperRefCallback,className:"hs-view__scroll-wrapper",onTouchEnd:this._onTouchEnd,onScroll:this._eventPresistedScroll},ST.createElement("div",{className:l,ref:this._messageListRefCallback},this._renderMessages(),ST.createElement(Ub,{ariaLabelTypingIndicator:this.props.text.ariaLabelTypingIndicator,isTyping:this.props.isTyping}),this._renderPillOptions()),c,this._renderBranding(),this._renderPicker(),this._renderChatForm(),this._renderIntents(),ST.createElement(Yb,null),ST.createElement(Zb,null),ST.createElement(hT,null))},_renderChatForm:function(){var e=this.props,t=e.userInput,n=t.type,r=t.formFields,o=e.onChatFormSubmit,a=e.onChatFormFieldChange,i=e.onChatFormFieldBlur,s=e.text,u=e.isWidgetInFullscreenMode,l=e.isTyping;if(n!==AT.BOT_FORM||l)return null;var c=Jm({"hs-chat-form--branding-margin":RT||u}),p=RT||u?ST.createElement(gv,null):null;return ST.createElement(Lb,{className:c,onChatFormSubmit:o,onChatFormFieldChange:a,onChatFormFieldBlur:i,formFields:r,submitButtonLabel:s.botFormSubmitLabel,brandingContainerEl:p})},_renderPicker:function(){var e=this.props,t=e.userInput,n=e.onListPickerOptionSelect,r=e.text,o=e.isWidgetInFullscreenMode,a=e.pickerIsInSearchMode,i=e.onSkipUserInput;if(!(t.type===AT.LIST_PICKER)||this.props.isTyping)return null;var s=t.hasParentLabel,u=Jm({"hs-picker--mobile":RT,"hs-picker--branding-margin":RT||o});return ST.createElement(Jv,{className:u,searchPlaceholder:r.searchPlaceholder,searchNoResultsText:r.noSearchResultsText,onSelect:n,pickerIsInSearchMode:a,onTogglePickerSearchMode:this._onTogglePickerSearchMode,isWidgetInFullscreenMode:o,userInput:t,onSkipUserInput:i,hideSearchIcon:s,skipButtonIsSecondary:s})},_renderIntents:function(){if(Hb()){var e=this.props.intents,t=e.intentsMap,n=e.topLevelIntentsOrder,r=e.selectedIntentIds,o=e.enforceIntentSelection,a=this.props.text.intentsTitle,i=Jm("hs-chat-footer__picker-field",{"hs-intents-picker--branding-margin":RT&&!o||!RT&&this.props.isWidgetInFullscreenMode},{"hs-intents-picker__eis--mobile":RT&&o});return ST.createElement(hb,{className:i,optionsMap:t,topLevelOptionsOrder:n,selectedOptionIds:r,onSelectOption:this._onSelectIntent,onUnselectOption:this._onUnselectIntent,headerTitle:a,onComponentMounted:this._onIntentsPickerMounted,isWidgetInFullscreenMode:this.props.isWidgetInFullscreenMode})}},_renderMessages:function(){var e=this,t=this.props,n=t.messages,r=t.showAvatar,o=t.attachmentUploadIsInProgress,a=t.currentIssueId,i=t.issueState,s=t.onLinkClick,u=t.liteSdkConfig,l=t.showConversationIdIsEnabled,c=this.props,p=c.avatar,d=c.avatarLastUpdatedTs,f=null;return n.map((function(t,c){var E;if(!Tn.isRenderableMessage(t.type))return null;var y=e._shouldMessageDetailsRender(t,f),m=Tn.getAvatarImgSrc({showAvatar:r,avatar:p,avatarLastUpdatedTs:d,message:t}),h=e._getUniqueKey(t);f=t;var g=(null===(E=n[c+1])||void 0===E?void 0:E.type)===OT.RESP_TEXT_CSAT_MSG_WITH_OPTION_INPUT,_=n.length-1===c;return ST.createElement(xv,{key:t.id,onError:e.props.onMessageError},ST.createElement(Ev,{message:t,showAgentNickname:e.props.showAgentNickname,text:e.props.text,onImageLoad:e._onImageAttachmentLoad,onRetryAttachmentClick:e.props.onRetryAttachmentClick,showAvatar:r,avatarUrl:m,showMessageDetails:y,key:h,onActionClick:e.props.onActionClick,attachmentUploadIsInProgress:o,currentIssueId:a,issueState:i,onLinkClick:s,liteSdkConfig:u,messageListRef:e._messageListRef,getChatSeparatorRef:e._chatSeparatorRefCallback,replyBoxRef:e.props.replyBoxRef,showConversationIdIsEnabled:l,userHasRespondedToCsatRating:g,messageIsLatest:_}))}))},_renderPillOptions:function(){var e=this,t=this.props,n=t.userInput,r=n.type,o=n.options,a=n.label,i=n.disabled,s=n.required,u=n.skipLabel,l=t.onSkipUserInput,c=t.hasFailure;if(!CT(r,i,c))return null;var p=Jm("hs-button","hs-button--hollow","hs-message-list__pill-option"),d=o.map((function(t){return ST.createElement("button",{key:t.value,onClick:e._onPillOptionClick.bind(e,t),className:p,title:t.label,dir:"auto"},ST.createElement("span",{className:"hs-message-list__pill-option-label"},t.label))})),f=null;return s||(f=ST.createElement(Iv,{label:u,className:"hs-message-list__skip-btn-wrapper",disabled:i,onClick:l})),ST.createElement("div",{className:"hs-message-list__pills-container","aria-label":a},ST.createElement("small",{className:"hs-message-list__pill-heading",dir:"auto","aria-hidden":!0},ST.createElement("strong",null,a.toUpperCase())),ST.createElement("div",{className:"hs-message-list__pill-options"},d),f)},_renderBranding:function(){var e=this.props,t=e.userInput.type,n=e.isWidgetInFullscreenMode;return!RT&&!n||t===AT.LIST_PICKER||t===AT.BOT_FORM||Hb()?null:ST.createElement("div",{className:"hs-message-list__branding-wrapper"},ST.createElement(gv,null))},_onTouchEnd:function(){if(RT&&wT&&Hb()){var e=this.props.replyBoxRef;e&&e.refs.ta.blur()}},_onIntentsPickerMounted:function(){this._scrollToLastChatSeparator()},_onPickerSearchMode(e,t)},_onSelectIntent:function(e){this.props.onSelectIntent(e)},_onUnselectIntent:function(){this.props.onUnselectIntent()},_onPillOptionClick:function(e){this.props.onPillOptionSelect(e)},rottledScrollthor?e.author.id:null},_getUniqueKey:function(e){var t=this.props.avatarLastUpdatedTs,n=""+e.id;return e&&e.author&&e.author.id&&t[e.author.id]&&(n+=t[e.author.id]),n}s._throttledScroll(e)},_onScroll:function(e){var t,n=this,r=e.target,o=r.scrollHeight,a=r.scrollTop,i=r.offsetHeight,s=this.props.userInput.type;(this._scrollBottom=o-i-a,(s===AT.LIST_PICKER||Hb())&&(null===(t=this._messageListRef)||void 0===t?void 0:t.children))?bT(this._messageListRef.children).pop().getBoundingClientRect().bottom<=(window.innerHeight||document.documentElement.clientHeight)?this.props.onScrollPastExistingConversation(!1):this.props.onScrollPastExistingConversation(!0):a+i+172<o?this.props.onScrollPastExistingConversation(!0):this.props.onScrollPastExistingConversation(!1);a<500&&!this.props.pickerIsInSearchMode&&thtion(n._scrollBottom)}))},_scrollWrapperRef:null,_messageListRef:null,_chatSeparatorRefs:[],_scrollWrapperRefCallback:function(e){this._scrollWrapperRef=e},_messageListRefCallback:function(e){this._messageListRef=e},_chatSeparatorRefCallback:function(e){this._chatSeparatorRefs.push(e)},_scrollBottom:null,_throttledScrollBottom:null,_throttledLoadMore:null,_deviceWidth:null,_onResize:function(){var e=this.props.userInput.type===AT.LIST_PICKER;wT||e||this._restorePreviousScrollPosition(this._scrollBottom||0),wT&&this._deviceWidth!==window.innerWidth&&this._restorePreviousScrollPosition(this._scrollBottom||0),this._deviceWidth=window.innerWidth},_scrollToBottom:function(){var e=this;requestAnimationFrame((function(){var t=vT.findDOMNode(e._scrollWrapperRef);t&&(t.scrollTop=t.scrollHeight),e._scrollBottom=0}))}t,behavior:"smooth"})},_scrollAnimLoop:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.scrollTop+=1e4*t*t,e.scrollTop+e.offsetHeight<e.scrollHeight){var n=this._scrollAnimLoop.bind(this,e,t+.016);requestAnimationFrame(n)}},_animatedScrollToBottom:function(){var e=vT.findDOMNode(this._scrollWrapperRef);e&&this._scrollAnimLoop(e)},_restorePreviousScrollPosition:function(e){if(null!==e){var t=this._scrollWrapperRef,n=t.scrollHeight,r=t.scrollTop,o=t.offsetHeight;n-o-r!==e&&(this._scrollWrapperRef.scrollTop=n-e-o)}},_scrollToLastMsg:function(){if(this._messageListRef){var e=bT(this._messageListRef.children).pop();e&&e.scrollIntoView()}},_scrollToLastChatSeparator:function(){var e=this._chatSeparatorRefs.length,t=this._chatSeparatorRefs[e-1];e&&t&&t.scrollIntoView()},_handleScrollWhenTypingIndicatorIsVisible:function(){var e;if(null===(e=this._messageListRef)||void 0===e?void 0:e.children){var t=document.querySelectorAll(".hs-message");if(t.length)bT(t).pop().getBoundingClientRect().bottom+16-this._scrollWrapperRef.getBoundingClientRect().bottom<4&&this._scrollToBottom()}},_handleScrollOnNewMessage:function(e,t){if(e.length&&!Hb())if(Tn.shouldViewScrollToLastMsg(e,t))this._scrollToLastMsg();else if(e.length&&!t.length)this._scrollToBottom();else{var n=this.props.userIsViewingPastMessages,r=e[e.length-1],o=t[t.length-1],a=!1,i=!1;r.id!==o.id&&(a=r.isCustomerMsg,i=!r.isCustomerMsg),(a||i&&!n)&&this._scrollToBottom()}},_shouldMessageDetailsRender:function(e,t){var n=this._getAuthorId(t),r=this._getAuthorId(e),o=this._getFormattedMessageDate(t),a=this._getFormattedMessageDate(e);return!(n&&r&&o&&a&&n===r&&o===a)},_g"{hh}:{MM} {a}"):null},_handlePreviousConversationMessages:function(){var e=this,t=this.props,n=t.firstPollerCallHasSucceeded,r=t.issueCursor;!t.requiredMessagesHaveLoaded&&r&&n&&!this._isScrollbarVisible(this._scrollWrapperRef)&&this.props.onLoadMore((function(){e._scrollToBottom()})Height>e.clientHeight},componentDidUpdate:function(e){if(en.isIntersectionObserverSupported()){var t=document.querySelectorAll(".hs-message__image-attachment");if(t){var n=new IntersectionObserver((ent"),n.unobserve(t)}}))}));t.forEach((function(e){n.observe(e)}))}}var r=this.props,o=r.messages,a=r.minimized,i=r.selectedCsatRating,s=e.messages,u=s.length!==o.length;this._handlePreviousConversationMessages(),!a&&e.minimized&&this._restorePreviousScrollPosition(this._scrollBottom),this.props.isTyping&&!e.isTyping&&this._handleScrollWhenTypingIndicatorIsVisible(),this._handleScrollOnNewMessage(o,s),u&&this._messageListRef&&this._messageListRef.classList.add("hs-message--shift-up-animation"),i&&!e.selectedCsatRating&&this._scrollToBottom()},componentDidMount:function(){var e=this.props.userInput.type,t=e===AT.LIST_PICKER,n=e===AT.BOT_FORM;this._handlePreviousConversationMessages(),this._throttledScrollBottom=ra(this._scrollToBottom,250),this._throttledLoadMore=ra(this.props.onLoadMore,1e3),this._throttledScroll=ra(this._onScroll,250,{leading:!1}),t||n?this._scrollToLastMsg():Hb()||this._scrollToBottom(),RT&&window.addEventListener("resize",this._onResize),this._deviceWidth=window.innerWidth},componentWillUnmount:function(){window.removeEventListener("resize",this._onResize)}}),NT=n(2555),FT=n(5697),LT=n(7294),kT=NT({displayName:"JumpToLatestBtn",propTypes:{show:FT.bool,skipBtnIsRendered:FT.bool,chatFooterIsHidden:FT.bool,showUnreadIndicator:FT.bool,onClick:FT.func,ariaLabel:FT.string},getDefaultProps:function(){return{show:!0}},render:function(){var e=this.props,t=e.show,n=e.showUnreadIndicator,r=e.onClick,o=e.ariaLabel;if(!t)return null;var a=n?LT.createElement("span",{className:"hs-jump-to-latest__unread-icon"}):null;return LT.createElement("button",{className:"hs-jump-to-latest hs-button--empty",onClick:r,"aria-label":o},LT.createElement(uh,{name:oh.CHEVRON_FORWARD,className:"hs-jump-to-latest__icon",size:24}),a)}}),MT=n(6781),DT=n(5697),UT=n(7294),xT=n(2555);function HT(){return HT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HT.apply(this,arguments)}var jT=MT,VT=DT||UT.PropTypes,BT=(xT||UT.createClass)({displayName:"TextareaAutosize",mixins:[jT],propTypes:{minRows:VT.number,maxRows:VT.number,value:VT.string,defaultValue:VT.string,onChange:VT.func,onHeightChange:VT.func,style:VT.object,dir:VT.oneOf(["auto","rtl","ltr"]),dataLabel:VT.string,ariaLabel:VT.string,dataI18N:VT.string,disabled:VT.bool},getDefaultProps:function(){return{minRows:1,maxRows:1/0,disableull,overflowY:"auto"}},render:function(){var e,t={};for(e in this.props)this.props.hasOwnProperty(e)&&(t[e]=this.props[e]);return delete t.minRows,delete t.maxRows,delete t.onChange,delete t.onHeightChange,delete t.dataLabel,delete t.ariaLabel,null!==this.state.height?(t.style=t.style||{},t.style.height=this.state.height,t.style.overflowY=this.state.overflowY):t.rows=this.props.minRows,UT.createElement("textarea",HT({},t,{onChange:this._handleChange,ref:"ta",tabIndex:"0","data-label":this.props.dataLabel,"aria-label":this.props.ariaLabel,"data-i18n":this.props.dataI18N}))},_minHt:null,_maxHt:null,_prevOffsetHeight:null,_handleChange:function(e){this.props.onChange&&this.props.onChange(e),void 0===this.props.value&&this._autoResize()},_autoResize:function(){var e,t,n=this.refs.ta,r=n.clientHeight,o=n.scrollHeight;o<=this._maxHt?(t="hidden",o>this._minHt&&o<=r?this._updateNodeStyle(0,t,function(){o=n.scrollHeight,e=o>this._minHt?o:this._minHt,this._updateNodeStyle(e,t)}.bind(this)):o>r&&(e=o,this._updateNodeStyle(e,t))):(e=this._maxHt,t="scroll",this._updateNodeStyle(e,t))},_updateNodeStyle:function(e,t,n){this.setState({height:e,overflowY:t},n)},focus:function(){var e;(null===(e=this.refs)||void 0===e?void 0:e.ta)&&this.refs){return this.refs.ta},componentDidUpdate:function(e){var t=this.refs.ta;void 0!==this.props.value&&this.props.value!==e.value&&this._autoResize(),this._prevOffsetHeight>=this._minHt&&t.offsetHeight>=this._minHt&&(this._prevOffsetHeight!==t.offsetHeight&&this.props.onHeightChange&&this.props.onHeightChange(),this._prevOffsetHeight=t.offsetHeight)},componentDidMount:function(){var e,t,n,r;t=this.refs.ta,r=window.getComputedStyle(t,null),n=parseFloat(r.getPropertyValue("padding-top")),n+=parseFloat(r.getPropertyValue("padding-bottom")),e=(t.clientHeight-n)/this.props.minRows,this._minHt=t.offsetHeight,this._maxHt=e*this.props.maxRows+n,t.scrollHeight>t.clientHeight&&this._autoResize(),this._prevOffsetHeight=t.offsetHeight}}),GT=n(2555),WT=n(5697),qT=n(7294),$T=GT({displayName:"ReplyBox",propTypes:{value:WT.string.isRequired,disabled:WT.bool,widgetIsOpened:WT.bool,onChangeReplyBoxValue:WT.func.isRequired,onSubmitReply:WT.func.isRequired,onHeightChange:WT.func.isRequired,browserIsMobile:WT.bool.isRequired,onFooterFocus:WT.func,onFooterBlur:WT.func,placeholder:WT.string,dataLabel:WT.string,onClick:WT.func,ariaLabel:WT.string,shouldVirtualKeyboardRemainOpen:WT.bool,onReplyBoxFocusAfterReplySubmit:WT.func,userReplyXhrInProgress:WT.bool,saveReplyBoxRef:WT.func},render:function(){var e=this.props,t=e.value,n=e.disabled,r=e.onFooterBlur,o=e.className,a=e.placeholder,i=e.dataLabel,s=e.ariaLabel,u=e.browserIsMobile;return qT.createElement(BT,{value:t,className:o,onKeyDown:this._onReplyTextKeyDown,onChange:this._onReplyTextChange,onFocus:this._onFocusTextArea,onBlur:r,minRows:1,maxRows:5,onHeightChange:this._onHeightChange,placeholder:a,disabled:n,autoFocus:!u,ref:this._saveTextAreaRef,dir:"auto",dataLabel:i,ariaLabel:s})},_onReplyTextKeyDown:function(e){e.keyCode===cg?e.shiftKey||(this.props.onSubmitReply(),e.preventDefault()):e.keyCode===pg?e.target.blur():e.keyCode===Eg&&e.stopPropagation()},_onHeightChange:function(){this.props.onHeightChange&&this.props.onHeightChange()},_onReplyTextChange:function(e){this.props.userReplyXhrInProgress||this.props.onChangeReplyBoxValue(e.target.value)},_onFocusTextArea:function(){this.props.onFooterFocus()},_textAreaRefps.saveReplyBoxRef(e)},_onDeviceOrientationChange:function(){var e,t;(null===(e=this._textAreaRef)||void 0===e||null===(t=e.refs)||void 0===t?void 0:t.ta)&&at()&&it()&&this._textAreaRef.refs.ta.blur()},componentDidUpdate:function(e){var t=e.disabled&&!this.props.disabled,n=!e.widgetIsOpened&&this.props.widgetIsOpened,r=!this.props.browserIsMobile;(t||n)&&r&&this._textAreaRef.focus(),this.props.shouldVirtualKeyboardRemainOpen&&(this._textAreaRef.focus(),this.props.onReplyBoxFocusAfterReplySubmit())},componentDidMount:function(){window.addEventListener("orientationchange",this._onDeviceOrientationChange)},componentWillUnmount:function(){var e,t,n;m(this._textAreaRef,["refs","ta"])&&("function"==typeof(null===(e=this._textAreaRef)||void 0===e||null===(t=e.refs)||void 0===t||null===(n=t.ta)||void 0===n?void 0:n.blur)&&this._textAreaRef.refs.ta.blur());window.removeEventListener("orientationchange",this._onDeviceOrientationChange)}});var zT=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this.events={onKeyDown:function(e){n._config.onKeyDown&&n._config&n._config.onKeyUp(eion(e,t,n){e===t&&n()}},YT=n(7294),XT=n(5697);function KT(e){return KT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KT(e)}function QT(){return QT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QT.apply(this,arguments)}function JT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZT(e,t){return!t||"object"!==KT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eI(e){return eI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},eI(e)}function tI(e,t){return tI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tI(e,t)}var nI=function(){return YT.createElement("i",{className:"ion-cross"})},rI=function(e){var t=e.isSearchTextPresent,n=e.onCloseClick,r=e.iconRenderer,o=void 0===r?nI:r;return t?YT.createElement("span",{className:"hs-emoji-widget__search-box-close-btn",onClick:function(e){return n(e)}},o()):null},oI=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ZT(this,eI(t).call(this,e)))._searchInputRef=YT.createRef(),n.inputSearchActions=new zT({onKeyDown:function(e){e.keyCode!==Wv&&e.keyCode!==Gv||!n.props.emojiIsActive||e.preventDefault()},onKeyUp:function(e){e.keyCode!==Wv&&e.keyCode!==Gv||n.props.emojiIsActive||e.stopPropagation()}}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tI(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.searchText,n=e.onSearchInputChange,r=e.placeholder,o=e.onCloseClick,a=e.children,i=""!==t;return YT.createElement("div",{className:"hs-emoji-widget__header"},YT.createElement("div",{className:"hs-emoji-widget__search"},YT.createElement("div",{className:"hs-emoji-widget__search-box"},YT.createElement("span",{className:"hs-emoji-widget__search-icon"},this.props.searchIconRenderer()),YT.createElement("input",QT({type:"text",ref:this._searchInputRef,className:"hs-emoji-widget__search-iurn n(e.target.value)},placeholder:r,autoFocus:!0},this.inputSearchActions.events)),YT.createElement(rI,{isSearchTextPresent:i,onCloseClick:o,iconRenderer:this.props.clearSearchIconRenderer}))),a)}},{key:"componentDidUpdate",value:function(){window.document.activeElement!==this._searchInputRef.current&&this._searchInputRef.current.focus()}}])&&JT(n.prototype,r),o&&JT(n,o),t}(YT.PureComponent);oI.propTypes={searchText:XT.string.isRequired,onSearchInputChange:XT.func.isRequired,placeholder:XT.string,onCloseClick:XT.func.isRequired,children:XT.node,emojiIsActive:XT.bool,searchIconRenderer:XT.func,clearSearchIconRenderer:XT.func},oI.defaultProame:"ion-magnifier"})}},rI.propTypes={isSearchTextPresent:XT.bool.isRequired,onCloseClick:XT.func.isRequired,iconRenderer:XT.func};var aI=oI,iI={SKIN_TONES:{NONE:"",LIGHT:"1F3FB",MEDIUM_LIGHT:"1F3FC",MEDIUM:"1F3FD",MEDIUM_DARK:"1F3FE",DARK:"1F3FF"},HAND_SKIN_TONES:{NONE:"270B",LIGHT:"270B 1F3FB",MEDIUM_LIGHT:"270B 1F3FC",MEDIUM:"270B 1F3FD",MEDIUM_DARK:"270B 1F3Feturn Array.from(e)}var cI=["270C","270D","261D","1F590"],pI=function(e){var t=iI.SKIN_TONES[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NONE"];if(e.length>1){var n=uI(e),r=n[0],o=n.slice(1);return[].concat(r,t,o)}return[].concat(sI(e),[t])},dI=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NONE",n=e.unicode,r=e.skinTone,o=n.split(" ");return cI.indexOf(o[0])>-1&&"NONE"!==t&&(o=pI([o[0]],t)),r&&"NONE"!==t&&(o=pI(o,t)),o.reduce((function(e,t){return e+String.fromCodePoint("0x"+t)}),"")},fI=n(7294),EI=n(5697);function yI(e){return yI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yI(e)}function mI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hI(e,t){return!t||"object"!==yI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gI(e){return gI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gI(e)}function _I(e,t){return _I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_I(e,t)}var SI="hs-emoji-widget__grid-category-cell",vI=SI+" highlpply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_I(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,t=e.emoji,n=e.onEmojiClick,r=e.onEmojiHover,o=e.onEmojiBlur,a=e.selectedSkinTone,i=e.isHighlightedEmoji;return fI.createElement("div",{className:i?vI:SI,onClick:function(e){return n(e,t)},onMouseEnter:function(e){return r(e,t)},onMouseLeave:function(e){return o(e)},id:t.id},dI(t,a))}},{key:"coght(this.props.emoji)}}],r&&mI(n.prototype,r),o&&mI(n,o),t}(fI.PureComponent);bI.propTypes={emoji:EI.object.isRequired,onEmojiClick:EI.func.isRequired,onEmojiHover:EI.func.isRequired,onEmojiBlur:EI.func.isRequired,selectedSkinTone:EI.string,isHighlightedEmoji:EI.bool,onHighlight:EI.func};var TI,II=bI;TI=String.prototype.includes?Strurn this.indexOf(e,t)};var AI=function(e,t,n){return"number"!=typeof n&&(n=0),TI.call(e,t,n)},CI=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t=t.t){return AI(e.name,t)}))},OI=n(7294),RI=n(5697);function wI(e){return wI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wI(e)}function PI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NI(e){return NI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},NI(e)}function FI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LI(e,t){return LI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},LI(e,t)}var kI=function(e){var t=e.categoryName,n=e.categoryData,r=e.id,o=e.renderCells,a=e.headerRef;return OI.createElement("div",{className:"hs-emoji-widget__grid-category",ref:a,id:r},OI.createElement("div",null,OI.createElement("strong",{className:"hs-emoji-widget__grid-category-header"},t)),OI.createElement("div",{className:"hs-emoji-widget__grid-category-cells"},o(n)))},MI=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==wI(t)&&"function"!=typeof t?FI(e):t}(this,NI(t).call(this,e))).rootRef=OI.createRef(),n.fixedHeaderRef=OI.createRef(),n.state={searchResults:[]},n._renderCells=n._renderCells.bind(FI(n)),n._renderCategory=n._renderCategory.bind(FI(n)),n._onScroll=n._onScroll.bind(FI(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LI(e,t)}(t,e),n=t,r=[{key:"render",value:function(){return OI.createElement("div",{className:"hs-emoji-widget__grid",ref:this.rootRef,onScroll:this._onScroll},OI.createElement("div",{className:"hs-emoji-widget__fixed-header-wrapper"},OI.createElement("div",{className:"hs-emoji-widget__fixed-header",ref:this.fixedHeaderRef},OI.createElement("strong",null,this.props.currentHeader))),this._renderGrid())}},{key:"_renderCells",value:function(e){var t=this.props,n=t.onClickEmoji,r=t.onHoverEmoji,o=t.onHoverLeave,a=t.skinTone,i=t.activeEmoji,s=t.changeActiveEmojiIndex;return e.map((function(e){var t=e.id===i.id;return OI.createElement(II,{key:e.name,emoji:e,onEmojiClick:n,onEmojiHover:r,onEmojiBlur:o,selectedSkinTone:a,isHighlightedEmoji:t,onHighlight:s})}))}},{key:"_renderCategory",value:function(e,t){return OI.createElement(kI,{categoryName:e,categoryData:t,headerRef:this.state.headerRefs[e].ref,id:e,renderCells:this._renderCells,key:e})}},{key:"_renderEmojiCategories",value:function(){var e=this;return thise.props.emojiList[t])}))}},{key:"_renderNoResults",value:function(){return OI.createElement("div",{className:"hs-emoji-widget__no-search-result"},OI.createElement("span",{role:"img","aria-label":"cry-emoji",className:"hs-emoji-widget__no-search-result-emoji"},""),"We couldn't find that emoji!")}},{key:"_renderGrid",value:function(){var e=this.state.searchResults,t=this.props,n=t.searchText,r=t.flatSearchResults;return e.length?OI.createElement("div",{className:"hs-emoji-widget__search-results"},this._renderCells(r)):0===e.length&&""!==n?this._renderNoResults():this._renderEmojiCategories()}},{key:"_areRectsIntersecting",value:function(e,t){return!(t.top>=e.bottom||t.bottom<=e.top)}},{key:"_onScroll",value:function(){var e=this,t=this.state,n=t.headerRefs,r=t.searchText,o=this.fixedHeaderRef.current;if(!r&&o){var a=o.getBoundingClientRect();h(n,(function(t,n){var r=n.ref;if(r.current){var o=r.current.getBoundingClientRect();e._areRectsIntersecting(a,o)&&e.props.changeActiveCategoryHeader(r.current.id)}}))}}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.searchText,o=n.currentHeader,a=n.tabIsClicked,i=n.resetTabIsClickedFlag;if(e.searchText!==r){if(""===r)this.setState({searchResults:[]});else{var s=CI(this.props.flatSearchList,r);this.see(t.state.searchResults)}))}this.rootRef.current.scrollTop=0}if(e.currentHeader!==o&&a){var u=this.state.headerRefs;if(!u&&!u[o])return;var l=u[o].ref;l&&l.current&&l.current.scrollIntoView(),i()}}}],o=[{key:"getDerivedStateFromProps",value:function(e){var t=e.categories,n={};return t.forEach((function(e){n[e]={ref:OI.createRef(),name:e}})),{headerRefs:n}}}],r&&PI(n.prototype,r),o&&PI(n,o),t}(OI.PureComponent);kI.propTypes={categoryName:RI.string,categoryData:RI.array.isRequired,id:RI.string.isRequired,renderCells:RI.func.isRequired,headerRef:RI.oneOfType([RI.func,RI.shape({current:RI.any})])},MI.propTypes={emojiList:RI.Object,flatSearchList:RI.array,categories:RI.array,searchText:RI.string,skinTone:RI.string,onHoverEmoji:RI.func,onHoverLeave:RI.func,onClickEmoji:RI.func,changeActiveEmojiIndex:RI.func,activeEmoji:RI.any,changeActiveCategoryHeader:RI.func,currentHeader:RI.string,onSearchResultsChange:RI.func,flatSearchResults:RI.array,tabIsClicked:RI.bool,resetTabIsClickedFlag:RI.func};var DI=MI,UI=n(7294),xI=n(5697);function HI(e){return HI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HI(e)}function jI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VI(e){return VI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},VI(e)}function BI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GI(e,t){return GI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},GI(e,t)}var WI=function(e){var t=e.emoji,n=e.skinTone;return UI.createElement(UI.Fragment,null,UI.createElement("div",{className:"hs-emoji-widget__showcase-emoji"},dI(t,n)),UI.createElement("div",{className:"hs-emoji-widget__showcase-name"},UI.createElement("strong",null,t.name)))},qI=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==HI(t)&&"function"!=typeof t?BI(e):t}(this,VI(t).call(this,e))).state={choiceIsClicked:!1},n.onToggleSelectSkinToneBtn=n.onToggleSelectSkinToneBtn.bind(BI(n)),n.changeSkinToneChoice=n.changeSkinToneChoice.bind(BI(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GI(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activeEmoji,n=e.skinTone;return UI.createElement("div",{className:"hs-emoji-widget__footer"},UI.createElement("div",{className:"hs-emoji-widget__emoji-showcase"},this._renderShowcase(t,n)),this._renderSkinToneChoices())}},{key:"_renderShowcase",value:function(e,t){return void 0===e.unicode||this.state.choiceIsClicked?this.state.choiceIsClicked?"Choose a Skintone":void 0:UI.createElement(WI,{emoji:e,skinTone:t})}},{key:"_renderOtherChoices",value:function(){var e=this,t=this.props.skinTone,n=iI.HAND_SKIN_TONES;retufunction(e){return e!==t})).map((function(t){return UI.createElement("div",{className:"hs-emoji-widget__skin-tone-option",key:"emoji-skinhangeSkinToneChoice(n,t)}},dI({unicode:n[t]}))}))}},{key:"_renderSkinToneChoices",value:function(){var e=this.props.skinTone,t=iI.HAND_SKIN_TONES[e];return UI.createElement("div",{className:"hs-emoji-widget__skin-tone-choices"},UI.createElement("div",{className:"hs-emoji-widget__first-skin-tone-choice",onClick:this.onToggleSelectSkinToneBtn},dI({unicode:t})),this.showChoices())}},{key:"onToggld:!e.choiceIsClicked}}))}},{key:"choggleSelectSkinToneBtn()}},{key:"showChoices",value:function(){return this.state.choiceIsClicked?UI.createElement("div",{className:"hs-emoji-widget__other-skin-tone-choices"},this._renderOtherChoices()):null}}])&&jI(n.prototype,r),o&&jI(n,o),t}(UI.PureComponent);qI.propTypes={activeEmoji:xI.shape({unicode:xI.string,skinToneIndex:xI.number,name:xI.string}),skinTone:xI.string,onSkinToneChange:xI.func},WI.propTypes={emoji:xI.shape({unicode:xI.string,skinToneIndex:xI.number,name:xI.string}),skinTone:xI.string};var $I=qI,zI=n(6781),YI=n(5697),XI=n(7294),KI=n(2555);function QI(){return QI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QI.apply(this,arguments)}var JI=zI,ZI=YI||XI.PropTypes,eA=KI||XI.createClass,tA=eA({displayName:"TabTitle",mixins:[JI],propTypes:{tabId:ZI.string.isRequired,onClick:ZI.func,active:ZI.bool,onTabClick:ZI.func,className:ZI.string},render:function(){var e=Jm("tabs__title",{active:this.props.active},this.props.className);return XI.createElement("span",{className:e,onClick:this._onClick},this.props.children)},_onClick:function(e){this.props.active||this.props.onTabClick(this.props.tabId),this.props.onClick&&this.props.onClick(e)}}),nA=eA({displayName:"TabHeader",mixins:[JI],render:function(){var e=Jm(this.props.className,"tabs__header");return XI.createElement("div",QI({},this.props,{className:e}),this.props.children)}}),rA=eA({displayName:"TabContent",mixins:[JI],propTypes:{tabId:ZI.string.isRequired,active:ZI.bool,className:ZI.string},render:function(){var e;return this.props.active?(e=Jm("tabs__content",this.props.className),XI.createElement("div",{className:e},this.props.children)):null}}),oA=eA({displayName:"Tabs",mixins:[JI],propTypes:{defaultActive:ZI.string,active:ZI.string,onChange:ZI.func,className:Zhis.props.defaultActive}},render:function(){var e=this._processChildren(this.props.children),t=Jm("tabs",this.props.className);return XI.createElement("div",{className:t},e)},_processChildren:function(e){return XI.Children.map(e,function(e){var t;if(e&&e.type){if("function"==typeof e.type){if("TabTitle"===e.type.displayName)return t=e.props.tabId,XI.cloneElement(e,{onTabClick:this._onTabTitleClick,active:this._getActive()===t});if("TabContent"===e.type.displayName)return XI.cloneElement(e,{active:this._getActive()===e.props.tabId})}return XI.cloneElement(e,{children:this._processChildren(e.props.children)})}return e}.bid 0!==thisactive:this.state.active},_onTabTitleClick:function(e){this._isControlled()||this.setState({active:e}),this.props.onChange&&this.props.onChange(e)},statics:{Title:tA,Content:rA,Header:nA}});function aA(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iA(Object(n),!0).forEach((function(t){uA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lA="USER_SKIN_TONE",cA="USER_FREQUENTLY_USED_EMOJIS",pA=36,dA=[{unicode:"1F600",name:"grinning face"},{unicode:"1F60A",name:"smiling face with smiling eyes"},{unicode:"1F60D",name:"smiling face with heart-eyes"},{unicode:"2764 FE0F",name:"red heart"},{unicode:"1F914",name:"thinking face"},{unicode:"1F62D",name:"loudly crying face"},{unicode:"1F64F",name:"folded hands",skinTone:1},{unicode:"1F44D",name:"thumbs up",skinTone:1},{unicode:"1F525",name:"fire"},{unicode:"1F612",name:"unamused face"},{unicode:"1F614",name:"pensive face"},{unicode:"1F609",name:"winking face"},{unicode:"1F60E",name:"smiling face with sunglasses"},{unicode:"1F615",name:"confused face"},{unicode:"1F449",name:"backhand index pointing right",skinTone:1}].map((function(e){return sA({},e,{count:0,id:"Frequently Usedgify(e);pa.setItem(cA,t)},EA=functioneturn t.count-e.c(e){return e.slice(0,pA)}(t);return n},yA=function(e){var t=EA(),n=oe(t,(function(t){return t.unicode===e.unicode}));if(-1!==n){var r=t[n],o=sA({},r,{count:r.count+1});return t.splice(n,1,o),t}return function(e,t){return[].concat(aA(e),[sA({},t,{id:"Frequently Used-".concat(t.nan pa.getItem(lA)||"NONE"},hA=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Nrn null!==pa.getItem(cA)},_A=fuion(e){var t=yA(e);fA(t)},bA=JSON.parse('{"data":{"Smileys & People":[{"u":"1F600","n":"grinning face"},{"u":"1F601","n":"beaming face with smiling eyes"},{"u":"1F602","n":"face with tears of joy"},{"u":"1F603","n":"grinning face with big eyes"},{"u":"1F604","n":"grinning face with smiling eyes"},{"u":"1F605","n":"grinning face with sweat"},{"u":"1F606","n":"grinning squinting face"},{"u":"1F609","n":"winking face"},{"u":"1F60A","n":"smiling face with smiling eyes"},{"u":"1F60B","n":"face savoring food"},{"u":"1F60E","n":"smiling face with sunglasses"},{"u":"1F618","n":"face blowing a kiss"},{"u":"1F617","n":"kissing face"},{"u":"1F619","n":"kissing face with smiling eyes"},{"u":"1F61A","n":"kissing face with closed eyes"},{"u":"1F642","n":"slightly smiling face"},{"u":"1F917","n":"hugging face"},{"u":"1F914","n":"thinking face"},{"u":"1F610","n":"neutral face"},{"u":"1F611","n":"expressionless face"},{"u":"1F636","n":"face without mouth"},{"u":"1F644","n":"face with rolling eyes"},{"u":"1F60F","n":"smirking face"},{"u":"1F623","n":"persevering face"},{"u":"1F625","n":"sad but relieved face"},{"u":"1F62E","n":"face with open mouth"},{"u":"1F62F","n":"hushed face"},{"u":"1F62A","n":"sleepy face"},{"u":"1F62B","n":"tired face"},{"u":"1F634","n":"sleeping face"},{"u":"1F60C","n":"relieved face"},{"u":"1F61B","n":"face with tongue"},{"u":"1F61C","n":"winking face with tongue"},{"u":"1F61D","n":"squinting face with tongue"},{"u":"1F612","n":"unamused face"},{"u":"1F613","n":"downcast face with sweat"},{"u":"1F614","n":"pensive face"},{"u":"1F615","n":"confused face"},{"u":"1F632","n":"astonished face"},{"u":"1F641","n":"slightly frowning face"},{"u":"1F616","n":"confounded face"},{"u":"1F61E","n":"disappointed face"},{"u":"1F61F","n":"worried face"},{"u":"1F624","n":"face with steam from nose"},{"u":"1F622","n":"crying face"},{"u":"1F62D","n":"loudly crying face"},{"u":"1F626","n":"frowning face with open mouth"},{"u":"1F627","n":"anguished face"},{"u":"1F628","n":"fearful face"},{"u":"1F629","n":"weary face"},{"u":"1F62C","n":"grimacing face"},{"u":"1F630","n":"anxious face with sweat"},{"u":"1F631","n":"face screaming in fear"},{"u":"1F633","n":"flushed face"},{"u":"1F635","n":"dizzy face"},{"u":"1F621","n":"pouting face"},{"u":"1F620","n":"angry face"},{"u":"1F637","n":"face with medical mask"},{"u":"1F912","n":"face with thermometer"},{"u":"1F607","n":"smiling face with halo"},{"u":"1F913","n":"nerd face"},{"u":"1F608","n":"smiling face with horns"},{"u":"1F47F","n":"angry face with horns"},{"u":"1F479","n":"ogre"},{"u":"1F47A","n":"goblin"},{"u":"1F480","n":"skull"},{"u":"2620 FE0F","n":"skull and crossbones"},{"u":"1F47B","n":"ghost"},{"u":"1F47D","n":"alien"},{"u":"1F47E","n":"alien monster"},{"u":"1F4A9","n":"pile of poo"},{"u":"1F476","n":"baby"},{"u":"1F466","n":"boy"},{"u":"1F467","n":"girl"},{"u":"1F468","n":"man"},{"u":"1F469","n":"woman"},{"u":"1F474","n":"old man"},{"u":"1F475","n":"old woman"},{"u":"1F468 200D 2695 FE0F","n":"man health worker"},{"u":"1F469 200D 2695 FE0F","n":"woman health worker"},{"u":"1F468 200D 1F393","n":"man student"},{"u":"1F469 200D 1F393","n":"woman student"},{"u":"1F468 200D 1F3EB","n":"man teacher"},{"u":"1F469 200D 1F3EB","n":"woman teacher"},{"u":"1F468 200D 2696 FE0F","n":"man judge"},{"u":"1F469 200D 2696 FE0F","n":"woman judge"},{"u":"1F468 200D 1F33E","n":"man farmer"},{"u":"1F469 200D 1F33E","n":"woman farmer"},{"u":"1F468 200D 1F373","n":"man cook"},{"u":"1F469 200D 1F373","n":"woman cook"},{"u":"1F468 200D 1F527","n":"man mechanic"},{"u":"1F469 200D 1F527","n":"woman mechanic"},{"u":"1F468 200D 1F3ED","n":"man factory worker"},{"u":"1F469 200D 1F3ED","n":"woman factory worker"},{"u":"1F468 200D 1F4BC","n":"man office worker"},{"u":"1F469 200D 1F4BC","n":"woman office worker"},{"u":"1F468 200D 1F52C","n":"man scientist"},{"u":"1F469 200D 1F52C","n":"woman scientist"},{"u":"1F468 200D 1F4BB","n":"man technologist"},{"u":"1F469 200D 1F4BB","n":"woman technologist"},{"u":"1F468 200D 1F3A4","n":"man singer"},{"u":"1F469 200D 1F3A4","n":"woman singer"},{"u":"1F468 200D 1F3A8","n":"man artist"},{"u":"1F469 200D 1F3A8","n":"woman artist"},{"u":"1F468 200D 2708 FE0F","n":"man pilot"},{"u":"1F469 200D 2708 FE0F","n":"woman pilot"},{"u":"1F468 200D 1F680","n":"man astronaut"},{"u":"1F469 200D 1F680","n":"woman astronaut"},{"u":"1F468 200D 1F692","n":"man firefighter"},{"u":"1F469 200D 1F692","n":"woman firefighter"},{"u":"1F46E","n":"police officer"},{"u":"1F46E 200D 2642 FE0F","n":"man police officer"},{"u":"1F46E 200D 2640 FE0F","n":"woman police officer"},{"u":"1F575 FE0F","n":"detective"},{"u":"1F575 FE0F 200D 2642 FE0F","n":"man detective"},{"u":"1F575 FE0F 200D 2640 FE0F","n":"woman detective"},{"u":"1F482","n":"guard"},{"u":"1F482 200D 2642 FE0F","n":"man guard"},{"u":"1F482 200D 2640 FE0F","n":"woman guard"},{"u":"1F477","n":"construction worker"},{"u":"1F477 200D 2642 FE0F","n":"man construction worker"},{"u":"1F477 200D 2640 FE0F","n":"woman construction worker"},{"u":"1F478","n":"princess"},{"u":"1F473","n":"person wearing turban"},{"u":"1F473 200D 2642 FE0F","n":"man wearing turban"},{"u":"1F473 200D 2640 FE0F","n":"woman wearing turban"},{"u":"1F470","n":"bride with veil"},{"u":"1F47C","n":"baby angel"},{"u":"1F64D","n":"person frowning"},{"u":"1F64D 200D 2642 FE0F","n":"man frowning"},{"u":"1F64D 200D 2640 FE0F","n":"woman frowning"},{"u":"1F64E","n":"person pouting"},{"u":"1F64E 200D 2642 FE0F","n":"man pouting"},{"u":"1F64E 200D 2640 FE0F","n":"woman pouting"},{"u":"1F481","n":"person tipping hand"},{"u":"1F481 200D 2642 FE0F","n":"man tipping hand"},{"u":"1F481 200D 2640 FE0F","n":"woman tipping hand"},{"u":"1F64B","n":"person raising hand"},{"u":"1F64B 200D 2642 FE0F","n":"man raising hand"},{"u":"1F64B 200D 2640 FE0F","n":"woman raising hand"},{"u":"1F647","n":"person bowing"},{"u":"1F647 200D 2642 FE0F","n":"man bowing"},{"u":"1F647 200D 2640 FE0F","n":"woman bowing"},{"u":"1F486","n":"person getting massage"},{"u":"1F486 200D 2642 FE0F","n":"man getting massage"},{"u":"1F486 200D 2640 FE0F","n":"woman getting massage"},{"u":"1F487","n":"person getting haircut"},{"u":"1F487 200D 2642 FE0F","n":"man getting haircut"},{"u":"1F487 200D 2640 FE0F","n":"woman getting haircut"},{"u":"1F6B6","n":"person walking"},{"u":"1F6B6 200D 2642 FE0F","n":"man walking"},{"u":"1F6B6 200D 2640 FE0F","n":"woman walking"},{"u":"1F3C3","n":"person running"},{"u":"1F3C3 200D 2642 FE0F","n":"man running"},{"u":"1F3C3 200D 2640 FE0F","n":"woman running"},{"u":"1F483","n":"woman dancing"},{"u":"1F46F","n":"people with bunny ears"},{"u":"1F46F 200D 2642 FE0F","n":"men with bunny ears"},{"u":"1F46F 200D 2640 FE0F","n":"women with bunny ears"},{"u":"1F6C0","n":"person taking bath"},{"u":"1F6CC","n":"person in bed"},{"u":"1F574 FE0F","n":"man in suit levitating"},{"u":"1F5E3 FE0F","n":"speaking head"},{"u":"1F464","n":"bust in silhouette"},{"u":"1F465","n":"busts in silhouette"},{"u":"1F3C7","n":"horse racing"},{"u":"26F7 FE0F","n":"skier"},{"u":"1F3C2","n":"snowboarder"},{"u":"1F3CC FE0F","n":"person golfing"},{"u":"1F3CC FE0F 200D 2642 FE0F","n":"man golfing"},{"u":"1F3CC FE0F 200D 2640 FE0F","n":"woman golfing"},{"u":"1F3C4","n":"person surfing"},{"u":"1F3C4 200D 2642 FE0F","n":"man surfing"},{"u":"1F3C4 200D 2640 FE0F","n":"woman surfing"},{"u":"1F6A3","n":"person rowing boat"},{"u":"1F6A3 200D 2642 FE0F","n":"man rowing boat"},{"u":"1F6A3 200D 2640 FE0F","n":"woman rowing boat"},{"u":"1F3CA","n":"person swimming"},{"u":"1F3CA 200D 2642 FE0F","n":"man swimming"},{"u":"1F3CA 200D 2640 FE0F","n":"woman swimming"},{"u":"26F9 FE0F","n":"person bouncing ball"},{"u":"26F9 FE0F 200D 2642 FE0F","n":"man bouncing ball"},{"u":"26F9 FE0F 200D 2640 FE0F","n":"woman bouncing ball"},{"u":"1F3CB FE0F","n":"person lifting weights"},{"u":"1F3CB FE0F 200D 2642 FE0F","n":"man lifting weights"},{"u":"1F3CB FE0F 200D 2640 FE0F","n":"woman lifting weights"},{"u":"1F6B4","n":"person biking"},{"u":"1F6B4 200D 2642 FE0F","n":"man biking"},{"u":"1F6B4 200D 2640 FE0F","n":"woman biking"},{"u":"1F6B5","n":"person mountain biking"},{"u":"1F6B5 200D 2642 FE0F","n":"man mountain biking"},{"u":"1F6B5 200D 2640 FE0F","n":"woman mountain biking"},{"u":"1F48F","n":"kiss"},{"u":"1F491","n":"couple with heart"},{"u":"1F46A","n":"family"},{"u":"1F4AA","n":"flexed biceps"},{"u":"1F448","n":"backhand index pointing left"},{"u":"1F449","n":"backhand index pointing right"},{"u":"261D FE0F","n":"index pointing up"},{"u":"1F446","n":"backhand index pointing up"},{"u":"1F595","n":"middle finger"},{"u":"1F447","n":"backhand index pointing down"},{"u":"270C FE0F","n":"victory hand"},{"u":"1F596","n":"vulcan salute"},{"u":"1F918","n":"sign of the horns"},{"u":"1F590 FE0F","n":"hand with fingers splayed"},{"u":"270B","n":"raised hand"},{"u":"1F44D","n":"thumbs up"},{"u":"1F44E","n":"thumbs down"},{"u":"270A","n":"raised fist"},{"u":"1F44A","n":"oncoming fist"},{"u":"1F44B","n":"waving hand"},{"u":"270D FE0F","n":"writing hand"},{"u":"1F44F","n":"clapping hands"},{"u":"1F450","n":"open hands"},{"u":"1F64C","n":"raising hands"},{"u":"1F64F","n":"folded hands"},{"u":"1F485","n":"nail polish"},{"u":"1F442","n":"ear"},{"u":"1F443","n":"nose"},{"u":"1F463","n":"footprints"},{"u":"1F440","n":"eyes"},{"u":"1F441 FE0F","n":"eye"},{"u":"1F441 FE0F 200D 1F5E8 FE0F","n":"eye in speech bubble"},{"u":"1F445","n":"tongue"},{"u":"1F444","n":"mouth"},{"u":"1F48B","n":"kiss mark"},{"u":"1F498","n":"heart with arrow"},{"u":"2764 FE0F","n":"red heart"},{"u":"1F493","n":"beating heart"},{"u":"1F494","n":"broken heart"},{"u":"1F495","n":"two hearts"},{"u":"1F496","n":"sparkling heart"},{"u":"1F497","n":"growing heart"},{"u":"1F499","n":"blue heart"},{"u":"1F49A","n":"green heart"},{"u":"1F49B","n":"yellow heart"},{"u":"1F49C","n":"purple heart"},{"u":"1F49D","n":"heart with ribbon"},{"u":"1F49E","n":"revolving hearts"},{"u":"1F49F","n":"heart decoration"},{"u":"1F48C","n":"love letter"},{"u":"1F4A4","n":"zzz"},{"u":"1F4A2","n":"anger symbol"},{"u":"1F4A3","n":"bomb"},{"u":"1F4A5","n":"collision"},{"u":"1F4A6","n":"sweat droplets"},{"u":"1F4A8","n":"dashing away"},{"u":"1F4AB","n":"dizzy"},{"u":"1F4AC","n":"speech balloon"},{"u":"1F5E8 FE0F","n":"left speech bubble"},{"u":"1F5EF FE0F","n":"right anger bubble"},{"u":"1F4AD","n":"thought balloon"},{"u":"1F573 FE0F","n":"hole"}],"Animals & Nature":[{"u":"1F435","n":"monkey face"},{"u":"1F412","n":"monkey"},{"u":"1F436","n":"dog face"},{"u":"1F415","n":"dog"},{"u":"1F429","n":"poodle"},{"u":"1F431","n":"cat face"},{"u":"1F408","n":"cat"},{"u":"1F42F","n":"tiger face"},{"u":"1F405","n":"tiger"},{"u":"1F406","n":"leopard"},{"u":"1F434","n":"horse face"},{"u":"1F40E","n":"horse"},{"u":"1F42E","n":"cow face"},{"u":"1F402","n":"ox"},{"u":"1F403","n":"water buffalo"},{"u":"1F404","n":"cow"},{"u":"1F437","n":"pig face"},{"u":"1F416","n":"pig"},{"u":"1F417","n":"boar"},{"u":"1F43D","n":"pig nose"},{"u":"1F40F","n":"ram"},{"u":"1F411","n":"ewe"},{"u":"1F410","n":"goat"},{"u":"1F42A","n":"camel"},{"u":"1F418","n":"elephant"},{"u":"1F42D","n":"mouse face"},{"u":"1F401","n":"mouse"},{"u":"1F400","n":"rat"},{"u":"1F430","n":"rabbit face"},{"u":"1F407","n":"rabbit"},{"u":"1F43F FE0F","n":"chipmunk"},{"u":"1F428","n":"koala"},{"u":"1F43E","n":"paw prints"},{"u":"1F983","n":"turkey"},{"u":"1F414","n":"chicken"},{"u":"1F413","n":"rooster"},{"u":"1F423","n":"hatching chick"},{"u":"1F424","n":"baby chick"},{"u":"1F426","n":"bird"},{"u":"1F427","n":"penguin"},{"u":"1F54A FE0F","n":"dove"},{"u":"1F40A","n":"crocodile"},{"u":"1F422","n":"turtle"},{"u":"1F40D","n":"snake"},{"u":"1F432","n":"dragon face"},{"u":"1F409","n":"dragon"},{"u":"1F433","n":"spouting whale"},{"u":"1F40B","n":"whale"},{"u":"1F42C","n":"dolphin"},{"u":"1F41F","n":"fish"},{"u":"1F420","n":"tropical fish"},{"u":"1F421","n":"blowfish"},{"u":"1F419","n":"octopus"},{"u":"1F41A","n":"spiral shell"},{"u":"1F40C","n":"snail"},{"u":"1F41B","n":"bug"},{"u":"1F41C","n":"ant"},{"u":"1F41D","n":"honeybee"},{"u":"1F41E","n":"lady beetle"},{"u":"1F577 FE0F","n":"spider"},{"u":"1F578 FE0F","n":"spider web"},{"u":"1F982","n":"scorpion"},{"u":"1F490","n":"bouquet"},{"u":"1F338","n":"cherry blossom"},{"u":"1F4AE","n":"white flower"},{"u":"1F3F5 FE0F","n":"rosette"},{"u":"1F339","n":"rose"},{"u":"1F33A","n":"hibiscus"},{"u":"1F33B","n":"sunflower"},{"u":"1F33C","n":"blossom"},{"u":"1F337","n":"tulip"},{"u":"1F331","n":"seedling"},{"u":"1F332","n":"evergreen tree"},{"u":"1F333","n":"deciduous tree"},{"u":"1F334","n":"palm tree"},{"u":"1F335","n":"cactus"},{"u":"1F33E","n":"sheaf of rice"},{"u":"1F33F","n":"herb"},{"u":"2618 FE0F","n":"shamrock"},{"u":"1F340","n":"four leaf clover"},{"u":"1F341","n":"maple leaf"},{"u":"1F342","n":"fallen leaf"},{"u":"1F343","n":"leaf fluttering in wind"}],"Food & Drink":[{"u":"1F347","n":"grapes"},{"u":"1F348","n":"melon"},{"u":"1F349","n":"watermelon"},{"u":"1F34A","n":"tangerine"},{"u":"1F34B","n":"lemon"},{"u":"1F34C","n":"banana"},{"u":"1F34D","n":"pineapple"},{"u":"1F34E","n":"red apple"},{"u":"1F34F","n":"green apple"},{"u":"1F350","n":"pear"},{"u":"1F351","n":"peach"},{"u":"1F352","n":"cherries"},{"u":"1F353","n":"strawberry"},{"u":"1F345","n":"tomato"},{"u":"1F346","n":"eggplant"},{"u":"1F33D","n":"ear of corn"},{"u":"1F336 FE0F","n":"hot pepper"},{"u":"1F344","n":"mushroom"},{"u":"1F330","n":"chestnut"},{"u":"1F35E","n":"bread"},{"u":"1F9C0","n":"cheese wedge"},{"u":"1F356","n":"meat on bone"},{"u":"1F357","n":"poultry leg"},{"u":"1F354","n":"hamburger"},{"u":"1F35F","n":"french fries"},{"u":"1F355","n":"pizza"},{"u":"1F32D","n":"hot dog"},{"u":"1F32E","n":"taco"},{"u":"1F32F","n":"burrito"},{"u":"1F373","n":"cooking"},{"u":"1F372","n":"pot of food"},{"u":"1F37F","n":"popcorn"},{"u":"1F371","n":"bento box"},{"u":"1F358","n":"rice cracker"},{"u":"1F359","n":"rice ball"},{"u":"1F35A","n":"cooked rice"},{"u":"1F35B","n":"curry rice"},{"u":"1F35C","n":"steaming bowl"},{"u":"1F35D","n":"spaghetti"},{"u":"1F360","n":"roasted sweet potato"},{"u":"1F362","n":"oden"},{"u":"1F363","n":"sushi"},{"u":"1F364","n":"fried shrimp"},{"u":"1F365","n":"fish cake with swirl"},{"u":"1F361","n":"dango"},{"u":"1F366","n":"soft ice cream"},{"u":"1F367","n":"shaved ice"},{"u":"1F368","n":"ice cream"},{"u":"1F369","n":"doughnut"},{"u":"1F36A","n":"cookie"},{"u":"1F382","n":"birthday cake"},{"u":"1F370","n":"shortcake"},{"u":"1F36B","n":"chocolate bar"},{"u":"1F36C","n":"candy"},{"u":"1F36D","n":"lollipop"},{"u":"1F36E","n":"custard"},{"u":"1F36F","n":"honey pot"},{"u":"1F37C","n":"baby bottle"},{"u":"2615","n":"hot beverage"},{"u":"1F375","n":"teacup without handle"},{"u":"1F376","n":"sake"},{"u":"1F37E","n":"bottle with popping cork"},{"u":"1F377","n":"wine glass"},{"u":"1F378","n":"cocktail glass"},{"u":"1F379","n":"tropical drink"},{"u":"1F37A","n":"beer mug"},{"u":"1F37B","n":"clinking beer mugs"},{"u":"1F37D FE0F","n":"fork and knife with plate"},{"u":"1F374","n":"fork and knife"},{"u":"1F52A","n":"kitchen knife"},{"u":"1F3FA","n":"amphora"}],"Travel & Places":[{"u":"1F310","n":"globe with meridians"},{"u":"1F5FA FE0F","n":"world map"},{"u":"26F0 FE0F","n":"mountain"},{"u":"1F30B","n":"volcano"},{"u":"1F5FB","n":"mount fuji"},{"u":"1F3D5 FE0F","n":"camping"},{"u":"1F3D6 FE0F","n":"beach with umbrella"},{"u":"1F3DC FE0F","n":"desert"},{"u":"1F3DD FE0F","n":"desert island"},{"u":"1F3DE FE0F","n":"national park"},{"u":"1F3DF FE0F","n":"stadium"},{"u":"1F3DB FE0F","n":"classical building"},{"u":"1F3D7 FE0F","n":"building construction"},{"u":"1F3D8 FE0F","n":"houses"},{"u":"1F3DA FE0F","n":"derelict house"},{"u":"1F3E0","n":"house"},{"u":"1F3E1","n":"house with garden"},{"u":"1F3E2","n":"office building"},{"u":"1F3E4","n":"post office"},{"u":"1F3E5","n":"hospital"},{"u":"1F3E6","n":"bank"},{"u":"1F3E8","n":"hotel"},{"u":"1F3E9","n":"love hotel"},{"u":"1F3EA","n":"convenience store"},{"u":"1F3EB","n":"school"},{"u":"1F3EC","n":"department store"},{"u":"1F3ED","n":"factory"},{"u":"1F3F0","n":"castle"},{"u":"1F492","n":"wedding"},{"u":"26EA","n":"church"},{"u":"1F54C","n":"mosque"},{"u":"1F54D","n":"synagogue"},{"u":"26E9 FE0F","n":"shinto shrine"},{"u":"1F54B","n":"kaaba"},{"u":"26F2","n":"fountain"},{"u":"26FA","n":"tent"},{"u":"1F301","n":"foggy"},{"u":"1F303","n":"night with stars"},{"u":"1F3D9 FE0F","n":"cityscape"},{"u":"1F304","n":"sunrise over mountains"},{"u":"1F305","n":"sunrise"},{"u":"1F306","n":"cityscape at dusk"},{"u":"1F307","n":"sunset"},{"u":"1F309","n":"bridge at night"},{"u":"2668 FE0F","n":"hot springs"},{"u":"1F30C","n":"milky way"},{"u":"1F3A0","n":"carousel horse"},{"u":"1F3A1","n":"ferris wheel"},{"u":"1F3A2","n":"roller coaster"},{"u":"1F488","n":"barber pole"},{"u":"1F3AA","n":"circus tent"},{"u":"1F682","n":"locomotive"},{"u":"1F683","n":"railway car"},{"u":"1F685","n":"bullet train"},{"u":"1F686","n":"train"},{"u":"1F687","n":"metro"},{"u":"1F688","n":"light rail"},{"u":"1F689","n":"station"},{"u":"1F68A","n":"tram"},{"u":"1F69D","n":"monorail"},{"u":"1F69E","n":"mountain railway"},{"u":"1F68B","n":"tram car"},{"u":"1F68C","n":"bus"},{"u":"1F68D","n":"oncoming bus"},{"u":"1F68E","n":"trolleybus"},{"u":"1F690","n":"minibus"},{"u":"1F691","n":"ambulance"},{"u":"1F692","n":"fire engine"},{"u":"1F693","n":"police car"},{"u":"1F694","n":"oncoming police car"},{"u":"1F695","n":"taxi"},{"u":"1F696","n":"oncoming taxi"},{"u":"1F697","n":"automobile"},{"u":"1F698","n":"oncoming automobile"},{"u":"1F699","n":"sport utility vehicle"},{"u":"1F69A","n":"delivery truck"},{"u":"1F69B","n":"articulated lorry"},{"u":"1F69C","n":"tractor"},{"u":"1F6B2","n":"bicycle"},{"u":"1F68F","n":"bus stop"},{"u":"1F6E3 FE0F","n":"motorway"},{"u":"1F6E4 FE0F","n":"railway track"},{"u":"1F6E2 FE0F","n":"oil drum"},{"u":"26FD","n":"fuel pump"},{"u":"1F6A8","n":"police car light"},{"u":"1F6A5","n":"horizontal traffic light"},{"u":"1F6A6","n":"vertical traffic light"},{"u":"1F6A7","n":"construction"},{"u":"2693","n":"anchor"},{"u":"26F5","n":"sailboat"},{"u":"1F6A4","n":"speedboat"},{"u":"1F6F3 FE0F","n":"passenger ship"},{"u":"26F4 FE0F","n":"ferry"},{"u":"1F6E5 FE0F","n":"motor boat"},{"u":"1F6A2","n":"ship"},{"u":"2708 FE0F","n":"airplane"},{"u":"1F6E9 FE0F","n":"small airplane"},{"u":"1F6EB","n":"airplane departure"},{"u":"1F6EC","n":"airplane arrival"},{"u":"1F4BA","n":"seat"},{"u":"1F681","n":"helicopter"},{"u":"1F69F","n":"suspension railway"},{"u":"1F6A0","n":"mountain cableway"},{"u":"1F6A1","n":"aerial tramway"},{"u":"1F6F0 FE0F","n":"satellite"},{"u":"1F680","n":"rocket"},{"u":"1F6CE FE0F","n":"bellhop bell"},{"u":"231B","n":"hourglass done"},{"u":"23F3","n":"hourglass not done"},{"u":"231A","n":"watch"},{"u":"23F0","n":"alarm clock"},{"u":"23F1 FE0F","n":"stopwatch"},{"u":"23F2 FE0F","n":"timer clock"},{"u":"1F570 FE0F","n":"mantelpiece clock"},{"u":"1F311","n":"new moon"},{"u":"1F312","n":"waxing crescent moon"},{"u":"1F313","n":"first quarter moon"},{"u":"1F314","n":"waxing gibbous moon"},{"u":"1F315","n":"full moon"},{"u":"1F316","n":"waning gibbous moon"},{"u":"1F317","n":"last quarter moon"},{"u":"1F318","n":"waning crescent moon"},{"u":"1F319","n":"crescent moon"},{"u":"1F31A","n":"new moon face"},{"u":"1F31B","n":"first quarter moon face"},{"u":"1F31C","n":"last quarter moon face"},{"u":"1F321 FE0F","n":"thermometer"},{"u":"2600 FE0F","n":"sun"},{"u":"1F31D","n":"full moon face"},{"u":"1F31E","n":"sun with face"},{"u":"2B50","n":"star"},{"u":"1F31F","n":"glowing star"},{"u":"1F320","n":"shooting star"},{"u":"2601 FE0F","n":"cloud"},{"u":"26C5","n":"sun behind cloud"},{"u":"26C8 FE0F","n":"cloud with lightning and rain"},{"u":"1F324 FE0F","n":"sun behind small cloud"},{"u":"1F325 FE0F","n":"sun behind large cloud"},{"u":"1F326 FE0F","n":"sun behind rain cloud"},{"u":"1F327 FE0F","n":"cloud with rain"},{"u":"1F328 FE0F","n":"cloud with snow"},{"u":"1F329 FE0F","n":"cloud with lightning"},{"u":"1F32A FE0F","n":"tornado"},{"u":"1F32B FE0F","n":"fog"},{"u":"1F32C FE0F","n":"wind face"},{"u":"1F300","n":"cyclone"},{"u":"1F308","n":"rainbow"},{"u":"1F302","n":"closed umbrella"},{"u":"2602 FE0F","n":"umbrella"},{"u":"2614","n":"umbrella with rain drops"},{"u":"26F1 FE0F","n":"umbrella on ground"},{"u":"26A1","n":"high voltage"},{"u":"2744 FE0F","n":"snowflake"},{"u":"2603 FE0F","n":"snowman"},{"u":"26C4","n":"snowman without snow"},{"u":"2604 FE0F","n":"comet"},{"u":"1F525","n":"fire"},{"u":"1F4A7","n":"droplet"},{"u":"1F30A","n":"water wave"}],"Activities":[{"u":"1F386","n":"fireworks"},{"u":"1F387","n":"sparkler"},{"u":"2728","n":"sparkles"},{"u":"1F388","n":"balloon"},{"u":"1F389","n":"party popper"},{"u":"1F38A","n":"confetti ball"},{"u":"1F38B","n":"tanabata tree"},{"u":"1F38D","n":"pine decoration"},{"u":"1F38F","n":"carp streamer"},{"u":"1F390","n":"wind chime"},{"u":"1F391","n":"moon viewing ceremony"},{"u":"1F380","n":"ribbon"},{"u":"1F381","n":"wrapped gift"},{"u":"1F397 FE0F","n":"reminder ribbon"},{"u":"1F39F FE0F","n":"admission tickets"},{"u":"1F3AB","n":"ticket"},{"u":"1F396 FE0F","n":"military medal"},{"u":"1F3C6","n":"trophy"},{"u":"1F3C5","n":"sports medal"},{"u":"26BD","n":"soccer ball"},{"u":"26BE","n":"baseball"},{"u":"1F3C0","n":"basketball"},{"u":"1F3D0","n":"volleyball"},{"u":"1F3C8","n":"american football"},{"u":"1F3C9","n":"rugby football"},{"u":"1F3BE","n":"tennis"},{"u":"1F3B3","n":"bowling"},{"u":"1F3CF","n":"cricket game"},{"u":"1F3D1","n":"field hockey"},{"u":"1F3D2","n":"ice hockey"},{"u":"1F3D3","n":"ping pong"},{"u":"1F3F8","n":"badminton"},{"u":"26F3","n":"flag in hole"},{"u":"26F8 FE0F","n":"ice skate"},{"u":"1F3A3","n":"fishing pole"},{"u":"1F3BD","n":"running shirt"},{"u":"1F3BF","n":"skis"},{"u":"1F3AF","n":"direct hit"},{"u":"1F3B1","n":"pool 8 ball"},{"u":"1F52E","n":"crystal ball"},{"u":"1F3AE","n":"video game"},{"u":"1F579 FE0F","n":"joystick"},{"u":"1F3B0","n":"slot machine"},{"u":"1F3B2","n":"game die"},{"u":"2660 FE0F","n":"spade suit"},{"u":"2665 FE0F","n":"heart suit"},{"u":"2666 FE0F","n":"diamond suit"},{"u":"2663 FE0F","n":"club suit"},{"u":"265F FE0F","n":"chess pawn"},{"u":"1F0CF","n":"joker"},{"u":"1F004","n":"mahjong red dragon"},{"u":"1F3B4","n":"flower playing cards"},{"u":"1F3AD","n":"performing arts"},{"u":"1F5BC FE0F","n":"framed picture"},{"u":"1F3A8","n":"artist palette"}],"Objects":[{"u":"1F507","n":"muted speaker"},{"u":"1F508","n":"speaker low volume"},{"u":"1F509","n":"speaker medium volume"},{"u":"1F50A","n":"speaker high volume"},{"u":"1F4E2","n":"loudspeaker"},{"u":"1F4E3","n":"megaphone"},{"u":"1F4EF","n":"postal horn"},{"u":"1F514","n":"bell"},{"u":"1F515","n":"bell with slash"},{"u":"1F3BC","n":"musical score"},{"u":"1F3B5","n":"musical note"},{"u":"1F3B6","n":"musical notes"},{"u":"1F399 FE0F","n":"studio microphone"},{"u":"1F39A FE0F","n":"level slider"},{"u":"1F39B FE0F","n":"control knobs"},{"u":"1F3A4","n":"microphone"},{"u":"1F3A7","n":"headphone"},{"u":"1F4FB","n":"radio"},{"u":"1F3B7","n":"saxophone"},{"u":"1F3B8","n":"guitar"},{"u":"1F3B9","n":"musical keyboard"},{"u":"1F3BA","n":"trumpet"},{"u":"1F3BB","n":"violin"},{"u":"1F4F1","n":"mobile phone"},{"u":"1F4F2","n":"mobile phone with arrow"},{"u":"260E FE0F","n":"telephone"},{"u":"1F4DE","n":"telephone receiver"},{"u":"1F4DF","n":"pager"},{"u":"1F4E0","n":"fax machine"},{"u":"1F50B","n":"battery"},{"u":"1F50C","n":"electric plug"},{"u":"1F5A5 FE0F","n":"desktop computer"},{"u":"1F5A8 FE0F","n":"printer"},{"u":"2328 FE0F","n":"keyboard"},{"u":"1F5B1 FE0F","n":"computer mouse"},{"u":"1F5B2 FE0F","n":"trackball"},{"u":"1F4BD","n":"computer disk"},{"u":"1F4BE","n":"floppy disk"},{"u":"1F4BF","n":"optical disk"},{"u":"1F4C0","n":"dvd"},{"u":"1F3A5","n":"movie camera"},{"u":"1F39E FE0F","n":"film frames"},{"u":"1F4FD FE0F","n":"film projector"},{"u":"1F3AC","n":"clapper board"},{"u":"1F4FA","n":"television"},{"u":"1F4F7","n":"camera"},{"u":"1F4F8","n":"camera with flash"},{"u":"1F4F9","n":"video camera"},{"u":"1F4FC","n":"videocassette"},{"u":"1F50D","n":"magnifying glass tilted left"},{"u":"1F50E","n":"magnifying glass tilted right"},{"u":"1F56F FE0F","n":"candle"},{"u":"1F4A1","n":"light bulb"},{"u":"1F526","n":"flashlight"},{"u":"1F3EE","n":"red paper lantern"},{"u":"1F4D4","n":"notebook with decorative cover"},{"u":"1F4D5","n":"closed book"},{"u":"1F4D6","n":"open book"},{"u":"1F4D7","n":"green book"},{"u":"1F4D8","n":"blue book"},{"u":"1F4D9","n":"orange book"},{"u":"1F4DA","n":"books"},{"u":"1F4D3","n":"notebook"},{"u":"1F4D2","n":"ledger"},{"u":"1F4C3","n":"page with curl"},{"u":"1F4DC","n":"scroll"},{"u":"1F4C4","n":"page facing up"},{"u":"1F4F0","n":"newspaper"},{"u":"1F4D1","n":"bookmark tabs"},{"u":"1F516","n":"bookmark"},{"u":"1F3F7 FE0F","n":"label"},{"u":"1F4B0","n":"money bag"},{"u":"1F4B4","n":"yen banknote"},{"u":"1F4B5","n":"dollar banknote"},{"u":"1F4B6","n":"euro banknote"},{"u":"1F4B7","n":"pound banknote"},{"u":"1F4B8","n":"money with wings"},{"u":"1F4B3","n":"credit card"},{"u":"1F4B9","n":"chart increasing with yen"},{"u":"1F4B1","n":"currency exchange"},{"u":"1F4B2","n":"heavy dollar sign"},{"u":"2709 FE0F","n":"envelope"},{"u":"1F4E8","n":"incoming envelope"},{"u":"1F4E9","n":"envelope with arrow"},{"u":"1F4E4","n":"outbox tray"},{"u":"1F4E5","n":"inbox tray"},{"u":"1F4E6","n":"package"},{"u":"1F4EB","n":"closed mailbox with raised flag"},{"u":"1F4EA","n":"closed mailbox with lowered flag"},{"u":"1F4EC","n":"open mailbox with raised flag"},{"u":"1F4ED","n":"open mailbox with lowered flag"},{"u":"1F4EE","n":"postbox"},{"u":"1F5F3 FE0F","n":"ballot box with ballot"},{"u":"270F FE0F","n":"pencil"},{"u":"2712 FE0F","n":"black nib"},{"u":"1F58B FE0F","n":"fountain pen"},{"u":"1F58A FE0F","n":"pen"},{"u":"1F58C FE0F","n":"paintbrush"},{"u":"1F58D FE0F","n":"crayon"},{"u":"1F4DD","n":"memo"},{"u":"1F4BC","n":"briefcase"},{"u":"1F4C1","n":"file folder"},{"u":"1F4C2","n":"open file folder"},{"u":"1F5C2 FE0F","n":"card index dividers"},{"u":"1F4C5","n":"calendar"},{"u":"1F5D2 FE0F","n":"spiral notepad"},{"u":"1F5D3 FE0F","n":"spiral calendar"},{"u":"1F4C7","n":"card index"},{"u":"1F4C8","n":"chart increasing"},{"u":"1F4C9","n":"chart decreasing"},{"u":"1F4CA","n":"bar chart"},{"u":"1F4CB","n":"clipboard"},{"u":"1F4CC","n":"pushpin"},{"u":"1F4CD","n":"round pushpin"},{"u":"1F4CE","n":"paperclip"},{"u":"1F587 FE0F","n":"linked paperclips"},{"u":"1F4CF","n":"straight ruler"},{"u":"1F4D0","n":"triangular ruler"},{"u":"2702 FE0F","n":"scissors"},{"u":"1F5C3 FE0F","n":"card file box"},{"u":"1F5C4 FE0F","n":"file cabinet"},{"u":"1F5D1 FE0F","n":"wastebasket"},{"u":"1F512","n":"locked"},{"u":"1F513","n":"unlocked"},{"u":"1F50F","n":"locked with pen"},{"u":"1F510","n":"locked with key"},{"u":"1F511","n":"key"},{"u":"1F5DD FE0F","n":"old key"},{"u":"1F528","n":"hammer"},{"u":"26CF FE0F","n":"pick"},{"u":"2692 FE0F","n":"hammer and pick"},{"u":"1F6E0 FE0F","n":"hammer and wrench"},{"u":"1F5E1 FE0F","n":"dagger"},{"u":"2694 FE0F","n":"crossed swords"},{"u":"1F52B","n":"pistol"},{"u":"1F3F9","n":"bow and arrow"},{"u":"1F6E1 FE0F","n":"shield"},{"u":"1F527","n":"wrench"},{"u":"1F529","n":"nut and bolt"},{"u":"2699 FE0F","n":"gear"},{"u":"1F5DC FE0F","n":"clamp"},{"u":"2696 FE0F","n":"balance scale"},{"u":"1F517","n":"link"},{"u":"26D3 FE0F","n":"chains"},{"u":"2697 FE0F","n":"alembic"},{"u":"1F52C","n":"microscope"},{"u":"1F52D","n":"telescope"},{"u":"1F4E1","n":"satellite antenna"},{"u":"1F489","n":"syringe"},{"u":"1F48A","n":"pill"},{"u":"1F6AA","n":"door"},{"u":"1F6CF FE0F","n":"bed"},{"u":"1F6CB FE0F","n":"couch and lamp"},{"u":"1F6BD","n":"toilet"},{"u":"1F6BF","n":"shower"},{"u":"1F6C1","n":"bathtub"},{"u":"1F6AC","n":"cigarette"},{"u":"26B0 FE0F","n":"coffin"},{"u":"26B1 FE0F","n":"funeral urn"},{"u":"1F5FF","n":"moai"}],"Symbols":[{"u":"1F6AE","n":"litter in bin sign"},{"u":"1F6B0","n":"potable water"},{"u":"267F","n":"wheelchair symbol"},{"u":"1F6BB","n":"restroom"},{"u":"1F6BC","n":"baby symbol"},{"u":"1F6BE","n":"water closet"},{"u":"1F6C2","n":"passport control"},{"u":"1F6C3","n":"customs"},{"u":"1F6C4","n":"baggage claim"},{"u":"1F6C5","n":"left luggage"},{"u":"26A0 FE0F","n":"warning"},{"u":"1F6B8","n":"children crossing"},{"u":"26D4","n":"no entry"},{"u":"1F6AB","n":"prohibited"},{"u":"1F6B3","n":"no bicycles"},{"u":"1F6AD","n":"no smoking"},{"u":"1F6AF","n":"no littering"},{"u":"1F6B7","n":"no pedestrians"},{"u":"1F4F5","n":"no mobile phones"},{"u":"1F51E","n":"no one under eighteen"},{"u":"2622 FE0F","n":"radioactive"},{"u":"2623 FE0F","n":"biohazard"},{"u":"2B06 FE0F","n":"up arrow"},{"u":"27A1 FE0F","n":"right arrow"},{"u":"2B07 FE0F","n":"down arrow"},{"u":"2B05 FE0F","n":"left arrow"},{"u":"21A9 FE0F","n":"right arrow curving left"},{"u":"21AA FE0F","n":"left arrow curving right"},{"u":"2934 FE0F","n":"right arrow curving up"},{"u":"2935 FE0F","n":"right arrow curving down"},{"u":"1F503","n":"clockwise vertical arrows"},{"u":"1F504","n":"counterclockwise arrows button"},{"u":"1F6D0","n":"place of worship"},{"u":"269B FE0F","n":"atom symbol"},{"u":"1F549 FE0F","n":"om"},{"u":"2638 FE0F","n":"wheel of dharma"},{"u":"262F FE0F","n":"yin yang"},{"u":"271D FE0F","n":"latin cross"},{"u":"2626 FE0F","n":"orthodox cross"},{"u":"262A FE0F","n":"star and crescent"},{"u":"262E FE0F","n":"peace symbol"},{"u":"1F54E","n":"menorah"},{"u":"1F500","n":"shuffle tracks button"},{"u":"1F501","n":"repeat button"},{"u":"1F502","n":"repeat single button"},{"u":"25B6 FE0F","n":"play button"},{"u":"23ED FE0F","n":"next track button"},{"u":"23EF FE0F","n":"play or pause button"},{"u":"25C0 FE0F","n":"reverse button"},{"u":"23EA","n":"fast reverse button"},{"u":"23EE FE0F","n":"last track button"},{"u":"1F53C","n":"upwards button"},{"u":"23EB","n":"fast up button"},{"u":"1F53D","n":"downwards button"},{"u":"23EC","n":"fast down button"},{"u":"23F8 FE0F","n":"pause button"},{"u":"23F9 FE0F","n":"stop button"},{"u":"23FA FE0F","n":"record button"},{"u":"23CF FE0F","n":"eject button"},{"u":"1F3A6","n":"cinema"},{"u":"1F505","n":"dim button"},{"u":"1F506","n":"bright button"},{"u":"1F4F6","n":"antenna bars"},{"u":"1F4F3","n":"vibration mode"},{"u":"1F4F4","n":"mobile phone off"},{"u":"2640 FE0F","n":"female sign"},{"u":"2642 FE0F","n":"male sign"},{"u":"2695 FE0F","n":"medical symbol"},{"u":"267E FE0F","n":"infinity"},{"u":"267B FE0F","n":"recycling symbol"},{"u":"1F531","n":"trident emblem"},{"u":"1F4DB","n":"name badge"},{"u":"274C","n":"cross mark"},{"u":"274E","n":"cross mark button"},{"u":"27B0","n":"curly loop"},{"u":"27BF","n":"double curly loop"},{"u":"303D FE0F","n":"part alternation mark"},{"u":"2747 FE0F","n":"sparkle"},{"u":"203C FE0F","n":"double exclamation mark"},{"u":"2049 FE0F","n":"exclamation question mark"},{"u":"2753","n":"question mark"},{"u":"2754","n":"white question mark"},{"u":"2755","n":"white exclamation mark"},{"u":"2757","n":"exclamation mark"},{"u":"3030 FE0F","n":"wavy dash"},{"u":"00A9 FE0F","n":"copyright"},{"u":"00AE FE0F","n":"registered"},{"u":"2122 FE0F","n":"trade mark"},{"u":"1F520","n":"input latin uppercase"},{"u":"1F521","n":"input latin lowercase"},{"u":"1F522","n":"input numbers"},{"u":"1F523","n":"input symbols"},{"u":"1F524","n":"input latin letters"},{"u":"2139 FE0F","n":"information"},{"u":"25AA FE0F","n":"black small square"},{"u":"25AB FE0F","n":"white small square"},{"u":"25FB FE0F","n":"white medium square"},{"u":"25FC FE0F","n":"black medium square"},{"u":"2B1B","n":"black large square"},{"u":"2B1C","n":"white large square"},{"u":"1F536","n":"large orange diamond"},{"u":"1F537","n":"large blue diamond"},{"u":"1F538","n":"small orange diamond"},{"u":"1F539","n":"small blue diamond"},{"u":"1F53A","n":"red triangle pointed up"},{"u":"1F53B","n":"red triangle pointed down"},{"u":"1F4A0","n":"diamond with a dot"},{"u":"1F518","n":"radio button"},{"u":"1F532","n":"black square button"},{"u":"1F533","n":"white square button"},{"u":"26AA","n":"white circle"},{"u":"26AB","n":"black circle"},{"u":"1F534","n":"red circle"},{"u":"1F535","n":"blue circle"}],"Flags":[{"u":"1F3C1","n":"chequered flag"},{"u":"1F6A9","n":"triangular flag"},{"u":"1F38C","n":"crossed flags"},{"u":"1F3F4","n":"black flag"},{"u":"1F3F3 FE0F","n":"white flag"},{"u":"1F3F3 FE0F 200D 1F308","n":"rainbow flag"},{"u":"1F3F4 200D 2620 FE0F","n":"pirate flag"}]},"order":["Smileys & People","Animals & Nature","Food & Drink","Travel & Places","Activities","Objects","Symbols","Flags"]}'),TA={data:{},order:bA.order};bA.order.forEach((function(e){Tturn{name:e.n,unicode:t}}))}));var IA=TA;function AA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OA=function(e,t){var n={};return e.forEach((function(e){n[e]=t[e].map((function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AA(Object(n),!0).forEach((function(t){CA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{id:"".concat(e,"-").concat(t.name),count:0})}))})),n},RA=function(e){var t=IA.data,n=functreturn!(t.indexOfnction(e){n[e]=t[e]})),n}(n,OA(n,t));return{emojiList:r,categories:n}},wA=n(7294),PA=n(5697);function NA(e){return NA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NA(e)}function FA(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function LA(){return LA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LA.apply(this,arguments)}function kA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MA(e){return MA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},MA(e)}function DA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UA(e,t){return UA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},UA(e,t)}var xA="Frequently Used",HA=xA,jA={"Frequently Used":"clock","Smileys & People":"smile","Animals & Nature":"leaf","Food & Drink":"pizza","Travel & Places":"flight",Activities:"ball",Objects:"bulb",Symbols:"heart"},VA=oA.Title,BA=oA.Header,GA=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==NA(t)&&"function"!=typeof t?DA(e):t}(this,MA(t).call(this,e))).state={searchText:"",activeEmoji:{},activeEmojiIndex:void 0,selectedSkinTone:"",activeCategoryHeader:HA,flatSearchList:[],flatSearchResults:[],tabIsClicked:!1},n.onChangeSearch=n.onChangeSearch.bind(DA(n)),n.onHoverEmoji=n.onHoverEmoji.bind(DA(n)),n.onHoverLeave=n.onHoverLeave.bind(DA(n)),n.onClickEmoji=n.onClickEmoji.bind(DA(n)),n.onChangeSkinTone=n.onChangeSkinTone.bind(DA(n)),n.onClearSearch=n.onClearSearch.bind(DA(n)),n.onChangeActiveEmoji=n.onChangeActiveEmoji.bind(DA(n)),n.onChangeActiveEmojiIndex=n.onChangeActiveEmojiIndex.bind(DA(n)),n.onChangeActiveCategoryHeader=n.onChangeActiveCategoryHeader.bind(DA(n)),n.onTabClick=n.onTabClick.bind(DA(n)),n.initActiveEmoji=n.initActiveEmoji.bind(DA(n)),n.shiftEmoji=n.shiftEmoji.bind(DA(n)),n.sendEmoji=n.sendEmoji.bind(DA(n)),n.setFlatListFromSearch=n.setFlatListFromSearch.bind(DA(n)),n._resetTabIsClickedFlag=n._resetTabIsClickedFlag.bind(DA(n)),n.emojiGridKeyboardActions=new zT({onKeyUp:function(e){var t=e.keyCode;n.emojiGridKeyboardActions.performAction(Vv,t,(function(){n.shiftEmoji(-9)})),n.emojiGridKeyboardActions.performAction(Bv,t,(function(){n.shiftEmoji(9)})),n.emojiGridKeyboardAcction(){n.shiftEmoji(-1)})),n.emojiGridKeyboardAcnction(){n.shiftEmoji(1)})),n.emojiGridKeyboardAcfunction(){n.sendEmoji()}))}}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UA(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.state,t=e.searchText,n=e.activeEmoji,r=e.selectedSkinTone,o=e.activeEmojiIndex,a=Jm("hs-emoji-widget",this.props.className);return wA.createElement("div",LA({className:a},this.emojiGridKeyboardActions.events),wA.createElement(aI,{searchText:t,onSearchInputChange:this.onChangeSearch,onCloseClick:this.onClearSearch,placeholder:this.props.searchPlaceholder,emojiIsActive:o>=0,searchIconRenderer:this.props.headerSearchIconRenderer,clearSearchIconRenderer:this.props.headerClearSearchIconRenderer},wA.createElement(oA,{className:"hs-tabs hs-tabs--x-compact",onChange:this.onTabClick,active:this.state.activeCategoryHeader},wA.createElement(BA,null,this.tabsRenderer(this.state.categories)))),wA.createElement(DI,{emojiList:this.state.emojiList,flatSearchList:this.state.flatSearchList,categories:this.state.categories,searchText:t,skinTone:r,onHoverEmoji:this.onHoverEmoji,onHoverLeave:this.onHoverLeave,onClickEmoji:this.onClickEmoji,changeActiveEmojiIndex:this.onChangeActiveEmojiIndex,activeEmoji:n,currentHeader:this.state.activeCategoryHeader,tabIsClicked:this.state.tabIsClicked,resetTabIsClickedFlag:this._resetTabIsClickedFlag,changeActiveCategoryHeader:this.onChangeActiveCategoryHeader,onSearchResultsChange:this.setFlatListFromSearch,flatSearchResults:this.state.searchText?this.state.flatSearchResults:[]}),wA.createElement($I,{activeEmoji:n,skinTone:r,onSkinToneChange:this.onChangeSkinTone}))}},{key:"initActiveEmoji",value:function(){arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.setState({activeEmoji:this.state.flatSearchResults[0]}):this.setState({activeEmoji:this.state.flattenedEmojiList[0]}),this.setState({activeEmojiIndex:0})}},{key:"_roundOffIndex",value:function(e,t){var n=t.length-1;return e<0?n:e>n?0:e}},{key:"shiftEmoji",value:function(e){var t=this;if(this.state.activeEmoji.unicode){var n,r=this.state.activeEmojiIndex+e;if(this.state.searchText.length){var o=this.state.flatSearchResults;n=o[r=this._roundOffIndex(r,o)]}else{var a=this.state.flattenedEmojiList;n=a[r=this._roundOffIndex(r,a)];var i=this.state.activeEmoji.id.split("-")[0],s=n.id.split("-")[0];i!==s&&(e>0?r=this.state.emojiCountsData[s].start:e<0&&(r=this.state.emojiCountsData[s].end),n=a[r])}this.setState({activeEmo(t.state.activeEmoji.id)}))}else this.state.searchText.length?this.initActiveEmoji(!1):this.initActiveEmoji()}},{key:"scrollEmojiIntoView",value:function(e){var t=document.getElementById(e);t&&t.scrollIntoView(!1)}},{key:"setFlatListFromSearch",value:function(e){this.setState({activeEmoji:{},activeEmojiIndex:void 0,flatSearchResults:e})}},{key:"onChangeSkinTone",value:function(e,t){e.preventDefault(),hA(t),this.setState({selectedSkinTone:t})}},{key:"onChangeSearch",value:function(e){e?this.setState({searchText:e,activeCategoryHeader:"Search Results"}):this._clearSearch()}},{key:"_clearSearch",value:function(){this.setState({searchText:"",activeCategoryHeader:xA,activeEmoji:{},activeEmojiIndex:void 0})}},{key:"onClearSearch",value:function(){this._clearSearch()}},{key:"onChangeActiveEmoji",value:function(e){this.setState({activeEmoji:e})}},{key:"onChangeActiveEmojiIndex",value:function(e){this.setState({activeEmojiIndex:e})}},{key:"onHoverEmoji",value:function(e,t){e.preventDefault();var n=this.state,r=n.searchText,o=n.flattenedEmojiList,a=n.flatSearchResults,i=ae(r?a:o,t.unicode,"unicode");this.onChangeActiveEmoji(t),this.onChangeActiveEmojiIndex(i)}},{key:"onHoverLeave",value:function(e){e.preventDefault(),this.setState({activeEmoji:{},activeEmojiIndex:void 0})}},{key:"onClickEmoji",value:function(e,t){e.preventDefault(),this._onSelectEmoji(),vA(t)}},{key:"onChangeActiveCategoryHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.setState({activeCategoryHeader:e},t())}},{key:"onTabClick",value:function(e){this.setState({activeCategoryHeader:e,tabIsClicked:!0,searchText:""})}},{key:"_resetTabIsClickedFlag",value:function(){this.setState({tabIsClicked:!1})}},{key:"tabsRenderer",value:function(e){var t=this;return e.map((function(e){return wA.createElement(VA,{key:"tab-".concat(e),tabId:e},t.props.categoryIconsRenderer(e,t.state.activeCategoryHeader))}))(this.state.activeEmoji)}},{key:"_onSelectEmoji",value:function(){var e=this.state,t=e.activeEmoji,n=e.selectedSkinTone,r=dI(t,n);this.props.onSelectEmoji(r)}}],o=[{key:"getDerivedStateFromProps",value:function(e){gA()||_A();var t=mA(),n=RA(e.removeCategories),r=n.emojiList,o=n.categories,a=SA(),i=[xA].concat(o);r[xA]=a;var s=i.reduce((function(e,t){return[].concat(FA(e),FA].concat(FA(e),FA(r[t]))}),[]),l={};return s.forEach((function(e,t){var n=e.id.split("-")[0];l[n]?l[n].end+=1:l[n]={start:t,end:t}})),{selectedSkinTone:t,emojiList:r,categories:i,flattenedEmojiList:s,frequentlyUsedEmojis:a,emojiCountsData:l,flatSearchList:u}}}],r&&kA(n.prototype,r),o&&kA(n,o),t}(wA.PureComponent);GA.propTypes={searchPlaceholder:PA.string,onSelectEmoji:PA.func.isRequired,removeCategories:PA.array,categoryIconsRenderer:PA.func,headerSearchIconRenderer:PA.func,headerClearSearchIconRenderer:PA.func},GA.defaultProps={removeCategories:["Flags"],searchPlaceholder:"Search Here",categoryIconsRenderer:function(e){return wA.createElement("i",{className:"ion-".concat(jA[e])})}};var WA=GA,qA=function e(t,n){return t.tagName===n?t:"BODY"!==t.tagName&&(t.parentNode&&e(t.parentNode,n))},$A=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.value,o=e.selectionStart,a=e.selectionEnd,i="";return"number"==typeof o&&"number"==typeof a&&(i=r.slice(0,o)+t+r.slice(a),n&&e.focus()),i},zA=n(5363),YA=n(7294),XA=n(5697),KA=function(e){var t=e.onStartNewConversation,n=e.startNewConversationText,r=Jm("hs-chat-footer__new-conversation-b.showNewConversationBtn}}),zA.shallowEqual).showNewConversationBtn;return void 0===o||o?YA.createElement("div",{className:"hs-chat-footer"},YA.createElement("div",{className:"hs-chat-footer__buttons-wrapper"},YA.createElement("button",{className:r,onClick:t},YA.createElement(uh,{name:oh.CHATBOX,size:14,className:"hs-chat-footer__new-conversation-button-icon"}),n))):null};KA.propTypes={onStartNewConversation:XA.func,startNewConversationText:XA.string};var QA=YA.memo(KA),JA=n(5363),ZA=n(7294),eC=Hu.EVENT,tC=Tn.shouldShowFeedbackBotCsat,nC=ZA.memo((function(){var e=JA.useDispatch(),t=JA.useSelector((function(e){var t=e.appState.featuresEnabled,n=e.chatView.userInput;return{feedbackBotIsEnabled:t.feedbackBot,userInputType:n.type,startNewConversationBtnText:n.startNewConversationBtnText}}),JA.shallowEqual),n=t.feedbackBotIsEnabled,r=t.userInputType,o=t.startNewConversationBtnText;if(!tC(n,r))return null;return ZA.createElement(QA,{onStartNewConversation:function(){e(Xp()),e(Np.startNewConversation({resetSessionId:!0})),e(Ec(eC.WIDGET_OPEN))},startNewConversationText:o})})),rC=n(7294),oC=rC.memo((function(){return rC.createElement("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},rC.createElement("path",{d:"M2.28572 15.9079H15.2632C16.6866 15.9079 17.549 14.9199 17.549 13.6389C17.549 13.2455 17.4317 12.8352 17.2224 12.4668L10.7253 1.14705C10.2899 0.385139 9.54477 0 8.77444 0C8.00418 0 7.25064 0.385139 6.82366 1.14705L0.326531 12.4668C0.100471 12.8436 0 13.2455 0 13.6389C0 14.9199 0.862376 15.9079 2.28572 15.9079Z",fill:"#E94B4B"}),rC.createElement("path",{d:"M8.78287 10.315C8.34748 10.315 8.10471 10.0638 8.09628 9.62003L7.98746 5.06537C7.9791 4.62162 8.30561 4.30347 8.77444 4.30347C9.22662 4.30347 9.57821 4.63 9.56985 5.07374L9.44432 9.62003C9.43589 10.0722 9.19312 10.315 8.78287 10.315ZM8.78287 13.1198C8.28046 13.1198 7.84514 12.7179 7.84514 12.224C7.84514 11.7215 8.2721 11.3197 8.78287 11.3197C9.28521 11.3197 9.71224 11.7132 9.71224 12.224C9.71224 12.7263 9.27685 13.1198 8.78287 13.1198Z",fill:"white"}))})),aC=n(7294),iC=aC.memo((function(){return aC.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},aC.createElement("path",{d:"M18.1958 29.8042C17.9309 29.5468 17.9385 29.1078 18.1958 28.8505L23.0397 23.9991L18.1958 19.1552C17.9385 18.8978 17.9385 18.4664 18.1958 18.2015C18.4532 17.9291 18.8997 17.9366 19.1571 18.2015L24.0009 23.0454L28.8448 18.2015C29.1022 17.9366 29.5411 17.9366 29.806 18.2015C30.0709 18.4589 30.0634 18.8978 29.806 19.1552L24.9622 23.9991L29.806 28.8505C30.0634 29.1078 30.0634 29.5393 29.806 29.8042C29.5487 30.0691 29.1022 30.0615 28.8448 29.8042L24.0009 24.9603L19.1571 29.8042C18.8997 30.0615 18.4607 30.0615 18.1958 29.8042Z",fill:"#1A1A1A"}))})),sC=n(5363),uC=n(7294),lC=uC.memo((function(){var e=sC.useDispatch(),t=sC.useSelector((function(e){return e.errors.calloutErrors})),n=t.length,r=sC.useSelector((function(e){return e.ui.text.closeConversationBtn}));if(!n)return null;var o=t[t.length-1];return uC.createElement("div",{className:"hs-error-callout",role:"alertdialog","aria-describedby":"callout-error-text","aria-live":"assertive","aria-atomic":"true"},uC.createElement("div",{className:"hs-error-callout__box"},uC.createElement("div",{className:"hs-error-callout__warning-icon"},uC.createElement(oC,null)),uC.createElement("p",{id:"callout-error-text",className:"hs-error-callout__text"},o.message),uC.createction(){e(zo({id:o.id}))},className:"hs-error-callout__close-icon",title:r,"aria-label":r},uC.createElement(iC,null))))})),cC=n(2555),pC=n(5697),dC=n(7294),fC=n(3935),EC=Se.ACTIVE_FOOTER,yC=Se.USER_INPUT_TYPES,mC=Se.HTML_INPUT_TYPES,hC=Se.PICKER_MIN_HEIGHT,gC=Oh.USER_INPUT_PROP_TYPE,_C=at(),SC={"Frequently Used":oh.TIME,"Smileys & People":oh.EMOJI,"Animals & Nature":oh.LEAF,"Food & Drink":oh.PIZZA,"Travel & Places":oh.PLANE,Activities:oh.AMERICAN_FOOTBALL,Objects:oh.BULB,Symbols:oh.HEART},vC=Br.ATTACHMENT_SOURCES,bC=cC({displayName:"ChatViewFooter",propTypes:{widgetIsMinimized:pC.bool,activeFooter:pC.string.isRequired,browserIsMobile:pC.bool,allowFullScreen:pC.bool,userIsViewingPastMessages:pC.bool,intentsFeatureIsEnabled:pC.bool.isRequired,issueType:pC.string.isRequired,intents:pC.shape({intentsMap:pC.objectOf(pC.shape({id:pC.string.isRequired,label:pC.string.isRequired,parentId:pC.string,children:pC.arrayOf(pC.string)})).isRequired,topLevelIntentsOrder:pC.arrayOf(pC.string),selectedIntentIds:pC.arrayOf(pC.string),enforceIntentSelection:pC.bool.isRequired}),unreadCount:pC.number,failureConfig:pC.shape({message:pC.string.isRequired,isLoading:pC.bool,allowRetry:pC.bool}),setReplyBoxRef:pC.func.isRequired,onJumpBtnClick:pC.func,onSubmitReply:pC.func.isRequired,onChangeReplyBoxValue:pC.func.isRequired,onValueChangeInputField:pC.func.isRequired,resolutionButtonIsDisabled:pC.bool,onStartNewConversation:pC.func.isRequired,onListPickerOptionSelect:pC.func.isRequired,onRetry:pC.func.isRequired,text:pC.shape({resolutionQuestionAccept:pC.string.isRequired,resolutionQuestionReject:pC.string.isRequired,chatViewIssueRejectionQuestion:pC.string.isRequired,chatViewStartNewConversation:pC.string.isRequired,retryBtn:pC.string.isRequired,searchPlaceholder:pC.string,noSearchResultsText:pC.string,ariaLabelSendMessage:pC.string,ariaLabelJumpToLatestBtn:pC.string,ariaLabelClearSearchInput:pC.string,ariaLabelOptionsList:pC.string,ariaLabelSearchList:pC.string,ariaLabelCloseSearch:pC.string,ariaLabelAttachFiles:pC.string,ariaLabelEmojiMenu:pC.string,unsupportedDateInputPlaceholder:pC.string,intentsTitle:pC.string,replyBtnPlaceholder:pC.string,intentsReplyBoxPlaceholder:pC.string}).isRequired,footerIsActive:pC.bool,onFooterFocus:pC.func,onFooterBlur:pC.func,userInput:gC,onSkipUserInput:pC.func,onFilesChangeForAttachmentPin:pC.func,issueIsCreated:pC.bool,onSelectStarRating:pC.func,attachmentsWhitelist:pC.arrayOf(pC.string),liteSdkOs:pC.string,userReplyXhrInProgress:pC.bool,systemTyping:pC.bool,chatWidgetBgColor:pC.string,formBgColor:pC.string,csatSaveInProgress:pC.bool,emojiWidgetIsOpened:pC.bool,onEmojiWidgetIconClick:pC.func,onSelectEmoji:pC.func,contextIsLiteSdk:pC.bool,brandingFeatureIsEnabled:pC.bool,userAttachmentsAreAllowed:pC.bool.isRequired,feedbackBotIsEnabled:pC.bool,onStartNewConversationWhenContextIsFeedbackBots:pC.func,firstPollerCallHasSucceeded:pC.bool,issueExists:pC.bool,legacyResolutionQuestionIsVisible:pC.bool,legacyCsatIsVisible:pC.bool},getInitialState:function(){return{pickerMaxHeight:hC,intentsWidgetMaxHeight:hC,intentsWidgetMinHeight:hC,intentsWidgetIsReadyForRendering:!1,shouldVirtualKeyboardRemainOpen:!1}},render:function(){var e=this.props,t=e.failureConfig,n=e.footerIsActive,r=e.allowFullScreen,o=e.userIsViewingPastMessages,a=e.unreadCount,i=e.userInput,s=i.type,u=i.errorMsg,l=e.text,c=e.emojiWidgetIsOpened,p=e.widgetIsMinimized,d=e.contextIsLiteSdk,f=e.brandingFeatureIsEnabled,E=a>0,y=dC.createElement("div",{className:"hs-chat-footer__jump-to-latest-wrapper"},dC.createElement(kT,{show:o,showUnreadIndicator:E,onClick:this.props.onJumpBtnClick,ariaLabel:l.ariaLabelJumpToLatestBtn}));if(t)return dC.createElement("footer",{className:"hs-footer hs-footer--failure"},this._renderFailure(),dC.createElement("div",{className:"hs-chat-footer__misc-actions-wrapper"},y));var m=null;if(s===yC.LIST_PICKER||(m=dC.createElement("div",{className:"hs-chat-footer__misc-actions-wrapper"},y,dC.createElement(lC,null),this._renderEmojiWidget())),this._shouldFooterHide())return null;var h=Jm("hs-footer",{"hs-footer--active":n,"hs-footer--full-screen":r,"hs-footer--failure":t,"hs-footer--desktop":!_C&&!r,"hs-footer--desktop-no-branding":!f&&!_C&&!r,"hs-footer--error":u,"hs-footer--emoji-widget-opened":c,"hs-chat-footer--slide-up-animation":!p&&!d,"smart-intents":Hb()});return dC.createElement("footer",{className:h},m,this._renderFooterComponent())},_renderFooterComponent:function(){var e=this.props,t=e.activeFooter,n=e.onStartNewConversation,r=e.text.chatViewStartNewConversation;switch(t){case EC.REPLY:case EC.SOLUTION_REJECTED:return this._renderUserInput();case EC.FEEDBACK_BOT_CSAT:return dC.createElement(nC,null);case EC.START_NEW_CONVERSATION:return dC.createElement(QA,{onStartNewConversation:n,startNewConversationText:r});default:return null}},_renderFailure:function(){var e=this.props.failureConfig,t=e.isLoading,n=e.message,r=Jm("hs-chat-footer__icon",{"hs-chat-footer__icon-error":!t,"hs-ion-icon--spinning":t}),o=t?oh.SPINNER:oh.ALERT_CIRCLE;return dC.createElement("div",{className:"hs-chat-footer"},dC.createElement("div",{className:"hs-chat-footer__field"},dC.createElement(uh,{name:o,className:r,size:24}),dC.createElement("span",{className:"hs-chat-footer__field-item"},n),this._renderRetryBtn()))},_renderRetryBtn:function(){if(!this.props.failureConfig.allowRetry)return null;var e=this.props.text.retryBtn;return dC.createElement("button",{onClick:this.props.onRetry,className:"hs-chat-footer__field-item hs-button--empty"},e)},_renderUserInput:function(){var e,t=this.props,n=t.userInput,r=n.value,o=n.type,a=n.errorMsg,i=n.disabled,s=t.onFooterFocus,u=t.onFooterBlur,l=t.browserIsMobile,c=t.activeFooter,p=t.text,d=t.userReplyXhrInProgress,f=o===yC.LIST_PICKER,E=Jm("hs-chat-footer",{"hs-chat-footer--form-error":a,"hs-chat-footer--mobile":l});if(f)return null;if(o===yC.DEFAULT_INPUT){var y=p.replyBtnPlaceholder;c===EC.SOLUTION_REJECTED&&(y=p.chatViewIssueRejectionQuestion);var m=Jm("hs-chat-footer__text-area",{disabled:d});e=dC.createElement($T,{value:r,disabled:i,placeholder:this._getReplyBoxPlaceholder(),widgetIsOpened:!this.props.widgetIsMinimized,issueIsCreated:this.props.issueIsCreated,browserIsMobile:this.props.browserIsMobile,onChangeReplyBoxValue:this.props.onChangeReplyBoxValue,onSubmitReply:this.props.onSubmitReply,onFooterFocus:this.props.onFooterFocus,onFooterBlur:this.props.onFooterBlur,onHeightChange:this._onReplyBoxHeightChange,className:m,ariaLabel:y,shouldVirtualKeyboardRemainOpen:this.state.shouldVirtualKeyboardRemainOpen,onReplyBoxFocusAfterReplySubmit:this._onReplyBoxFocusAfterReplySubmit,userReplyXhrInProgress:d,saveReplyBoxRef:this._saveReplyBoxRef})}else{var h=this._getHtmlInputType(o),g=this._getInputPlaceholder(h),_=!!a,S=Jm("hs-chat-footer__text-field",{disabled:d}),v=null;h===mC.DATE&&_C&&it()&&lt()>=14&&(v="none"),h===mC.NUMERIC&&_C&&it()&&(h=mC.PLAIN_TEXT),e=dC.createElement("input",{className:S,type:h,dir:"auto",disabled:i,value:r,ref:this._saveUserInputRef,inputMode:v,placeholder:g,onChange:this._onInputFieldValueChange,onKeyUp:this._onInputFieldKeyUp,onFocus:s,onBlur:u,autoFocus:!l,"aria-invalid":_,"aria-required":!0,"aria-label":g})}var b=_C&&a?dC.createElement("div",{className:"hs-chat-footer__field"},dC.createElement("div",{className:"hs-chat-footer__error-text"},a)):null,T=_C||o!==yC.DEFAULT_INPUT&&o!==yC.PLAIN_TEXT?null:dC.createElement("button",{className:"hs-chat-footer__emoji-button hs-button--empty",onClick:this._onEmojiWidgetIconClick,"aria-label":p.ariaLabelEmojiMenu},dC.createElement(uh,{name:oh.EMOJI,size:20,className:"hs-chat-footer__emoji-icon"}));return dC.createElement("div",{className:E,ref:this._saveUserInputWrapperRef},this._renderFooterLabelComponent(),dC.createElement("div",{key:"input",className:"hs-chat-footer__field"},e,dC.createElement("div",{className:"hs-chat-footer__action-container"},T,this._renderFooterAction())),b)},_renderFooterAction:function(){var e=this.props,t=e.userInput.value,n=e.userAttachmentsAreAllowed;return t||!n?this._renderSendButton():this._renderAttachmentButton()},_renderEmojiWidget:function(){return this.props.emojiWidgetIsOpened?dC.createElement(WA,{onSelectEmoji:this._onSelectEmoji,categoryIconsRenderer:this._renderEmojiPanelCategoryIcons,headerSearchIconRenderer:this._renderEmojiHeaderSearchIcon,headerClearSearchIconRenderer:this._renderEmojiHeaderClearSearchIcon}):null},_renderEmojiPanelCategoryIcons:function(e,t){var n=Jm("hs-emoji-widget__header-category-icon",{"hs-emoji-widget__header-emoji-category-icon":SC[e]===oh.EMOJI,"hs-emoji-widget__active-header-emoji-category-icon":SC[t]===oh.EMOJI&&SC[e]===oh.EMOJI});return dC.createElement(uh,{name:SC[e],size:20,className:n})},_renderEmojiHeaderSearchIcon:function(){return dC.createElement(uh,{name:oh.SEARCH,size:20})},_renderEoh.INPUT_CLEAR,size:20})},_renderSendButton:function(){var e=this,t=this.props,n=t.userInput,r=n.value,o=n.errorMsg,a=n.disabled,i=n.type,s=t.onSubmitReply,u=t.text.ariaLabelSendMessage,l=t.userReplyXhrInProgress,c=o?oh.ALERT_CIRCLE:oh.ARROW_FORWARD_CIRCLE,p=o?24:36,d=a||!r.trim()||l,f=u,E=null;return o||(E=dC.createElement("span",{className:"hs-chat-footer__submit-btn-background-el"})),dC.createElement("button",{className:"hs-chat-footer__submit hs-button--empty",onClick:function(t){if(d)return t.preventDefault(),void t.stopPropagation();e._userInputRef&&e._getHtmlInputType(i)!==mC.DATE&&e._userInputRef.focus(),s(),t.preventDefault(),e.setState({shouldVirtualKeyboardRemainOpen:!0})},"aria-label":f,"aria-disabled":d},E,dC.createElement(uh,{name:c,size:p}))},_renderAttachmentButton:function(){var e=this.props,t=e.text,n=e.attachmentsWhitelist,r=null;Array.isArray(n)&&!So(n)&&(r=n.join(", "));var o=vC.ATTACHMENT_PIN;return dC.createElement(Cg,{onChange:this.props.onFilesChangeForAttachmentPin,noPadding:!0,multiple:!0,labelClasses:"hs-chat-footer__attachment-icon",onSaveInputRef:this._saveInputRef,accept:r,buttonClasses:"hs-chat-footer__attachment-button hs-button--empty",buttonAriaLabel:t.ariaLabelAttachFiles,source:o})},_renderFooterLabelComponent:function(){var e=this.props,t=e.userInput.label,n=e.activeFooter,r=e.text.chatViewIssueRejectionQuestion,o=null,a=null;return t&&(a=dC.createElement("div",{key:"label",className:"hs-chat-footer__field"},dC.createElement("div",{className:"hs-chat-footer__title"},t))),n===EC.SOLUTION_REJECTED&&(o=dC.createElement("strong",{key:"heading",className:"hs-chat-footer__heading hs-chat-footer__reply-heading","aria-hidden":!0},r)),[o,a]},_shouldFooterHide:function(){var e=this.props,t=e.activeFooter,n=e.userReplyXhrInProgress,r=e.issueExists,o=e.firstPollerCallHasSucceeded,a=e.userInput,i=a.type,s=a.disabled,u=e.issueIsCreated,l=e.intents,c=e.legacyResolutionQuestionIsVisible,p=e.legacyCsatIsVisible,d=!u,f=i===yC.PILL_SELECT,E=i===yC.LIST_PICKER,y=i===yC.BOT_ATTACHMENT,m=Hb()&&(null==l?void 0:l.enforceIntentSelection),h=i===yC.BOT_FORM;return!o&&r||t===EC.NONE||n&&t===EC.FEEDBACK_BOT_CSAT||f||d&&s||E||y||m||h||c||p},_onSelectEmoji:function(e){var t,n,r=null;switch(this.props.userInput.type){case yC.DEFAULT_INPUT:r=null===(t=this._replyBoxRef)||void 0===t||null===(n=t.refs)||void 0===n?void 0:n.ta;break;case yC.PLAIN_TEXT:r=this._userInputRef;break;default:return}if(r){var o=$A(r,e);this.props.onSelectEmoji(o)}onEmojiWidgetIconClick()},_onReplyBoxFocusAfterReplySubmit:function(){this.setState({shouldVirtualKeyboardRemainOpen:!1})},_onReplyBoxHeightChange:function(){if(Hb()){var e=this._getDndWrapperHeight(),t=this._getUserInputWrapperHeight();this.setState({intentsWidgetMaxHeight:e-t})}},_userInputWrapperRef:null,_saveUserInputWrapperRef:function(e){this._userInputWrapperReingClientRect().height:0},_getUserInputWrapperHeight:function(){return this._userInputWrapperRef?fC.findDOMNode(this._userInputWrapperRef).getBoundingClientRect().height:0},_getReplyBoxPlaceholder:function(){var e=this.props,t=e.userInput.placeholder,n=e.text,r=n.replyBtnPlaceholder,o=n.intentsReplyBoxPlaceholder;return Hb()?o:t||r},_fileInputRef:null,_saveInputRef:function(e){this._fileInputRef=e},_onInputFieldValueChange:function(e){this.props.userReplyXhrInProgress||this.props.onValueChangeInputField(e.target.value)},_onInputFieldKeyUp:function(e){e.keyCode===pg?e.target.blur():e.keyCode===cg&&this.props.onSubmitReply()},_userInputRef:null,_replyBoxRef:null,_saveUserInputRef:function(e){this._userInpoxRef(this._replyBurn mC[e]||mC.PLAIN_TEXT},_getInputPlaceholder:function(e){var t=this.props,n=t.userInput.placeholder,r=t.text,o=n;return e!==mC.DATE||en.isDateInputSupported()||(o=r.unsupportedDateInputPlaceholder),o},_picketHeightUpdateTimer:null,_updatePickerHeight:function(){var e=this._getDndWrapperHeight();if(e){var t=this._getUserInputWrapperHeight();this.setState({pickerMaxHeight:e,intentsWidgetMaxHeight:e-t,intentsWidgetMinHeight:e/2,intentsWidgetIsReadyForRendering:!0}),window.clearTimeout(this._picketHeightUpdateTimer)}else this._picketHeightUpdateTimer=setTimeout(this._updatePickerHeight,50)},componentDidUpdate:function(e){var t=this.props,n=t.browserIsMobile,r=t.userInput.type,o=e.userInput.type;if(this._getHtmlInputType(r)===mC.DATE&&this._getHtmlInputType(o)!==mC.DATE&&this._userInputRef&&this._userInputRef.blur(),this._userInputRef&&!n){var a=e.userInput.disabled,i=e.widgetIsMinimized,s=this.props,u=s.userInput.disabled,l=s.widgetIsMinimized;(a&&!u||i&&!l)&&this._userInputRef.fois._updatePickerHeighpicketHeightUpdateTimer)}}),TC=n(5363),IC=Br.ATTACHMENT_SOURCES,AC=Se.MAX_POLLER_FAILURES_ALLOWED,CC=Hu.EVENT,OC=TC.connect((function(e){var t,n=e.appState,r=n.minimized,o=n.activeIssueId,a=n.issueType,i=n.footerIsActive,s=n.online,u=n.browserIsMobile,l=n.attachmentsWhitelist,c=n.featuresEnabled,p=c.intents,d=c.feedbackBot,f=n.liteSdkConfig.os,E=n.sdkConfigOptions.fullScreen,y=n.liteSdkConfig,m=n.issueExists,h=e.chatView,g=h.userInput,_=h.activeFooter,S=h.userIsRedacted,v=h.pollerFailureCount,b=h.userIsViewingPastMessages,T=h.unreadMessageIds,I=h.error,A=h.intents,C=h.userReplyXhrInProgress,O=h.systemTyping,R=h.rating,w=h.csatSaveInProgress,P=h.emojiWidgetIsOpened,N=h.firstPollerCallHasSucceeded,F=h.resolutionButtonIsDisabled,L=h.legacyResolutionQuestionIsVisible,k=h.legacyCsatIsVisible,M=e.ui,D=M.text,U=M.colorConfig,x=U.foregroundColor.value,H=U.backgroundColor.value;I&&I.title?t={message:I.title,allowRetry:!0}:s?S?t={message:D.userRedactionMessage,allowRetry:!0}:v>=AC&&(t={message:D.unknownErrorReconnecting,isLoading:!0}):t={message:D.noInternetConnection};var j={widgetIsMinimized:r,rating:R,activeFooter:_,issueIsCreated:en.isIssueCreated({activeIssueId:o,issueType:a}),text:D,footerIsActive:i,userInput:g,userIsViewingPastMessages:b,unreadCount:T.length,failureConfig:t,browserIsMobile:u,intentsFeatureIsEnabled:p,issueType:a,attachmentsWhitelist:l,liteSdkOs:f,userReplyXhrInProgress:C,systemTyping:O,chatWidgetBgColor:H,formBgColor:x,allowFullScreen:E,csatSaveInProgress:w,emojiWidgetIsOpened:P,contextIsLiteSdk:!!(null==y?void 0:y.os),feedbackBotIsEnabled:d,issueExists:m,firstPollerCallHasSucceeded:N,resolutionButtonIsDisabled:F,legacyResolutionQuestionIsVisible:L,legacyCsatIsVisible:k};return p&&(j.intents={intentsMap:A.tree.intentsMap,topLevelIntentsOrder:A.tree.topLevelIntentsOrder,selectedIntentIds:A.selectedIntentIds,enforceIntentSelection:A.enforceIntentSelection}),j}),(function(e){return{onValueChangeInputField:function(t){e(jy.updateReplyText(t))},onFooterFocus:function(){e(Sl())},onFooterBlur:function(){e(vl())},onChangeReplyBoxValue:function(t){e(jy.updateReplyText(t))},onStartNewConversation:function(){e(Np.startNewConversation({resetSessionId:!0})),e(Ec(CC.WIDGET_OPEN))},onSkipUserInput:function(){e(jy.skipUserInput())},onSubmitReply:function(){e(jy.submitReply())},onFilesChangeForAttachmentPin:function(t){e(jy.createAttachmentMessages(t,IC.ATTACHMENT_PIN))},onRetry:function(){e(xm())},onEmojiWidgetIconClick:function(){e(Dl())},onSelectEmoji:function(t){e(jy.selectEmoji(t))}}}))(bC),RC=n(2555),wC=n(5697),PC=n(7294),NC=RC({displayName:"InfoView",propTypes:{title:wC.string,subtitle:wC.string,loading:wC.bool,actionBtnText:wC.string,onActionBtnClick:wC.func,ar(),this._renderLoader())},_renderTitle:function(){var e=this.props.title;return e?PC.createElement("div",{className:"hs-info-view__title"},e):null},_renderSubtitle:function(){var e=this.props.subtitle;return e?PC.createElement("div",{className:"hs-info-view__subtitle"},e):null},_renderActionBtn:function(){var e=this.props,t=e.actionBtnText,n=e.loading;if(!t||n)return null;var r=Jm("hs-button","hs-button--hollow","hs-chat-footer__button");return PC.createElement("div",{className:"hs-chat-footer__buttons-wrapper"},PC.createElement("button",{className:r,onClick:this.props.onActionBtnClick},t))},_renderLoader:function(){if(!this.props.loading)return null;var e=Jm("hs-ion-icon--spinning","hs-info-view__loader");return PC.createElement("div",{"aria-label":this.props.ariaLabel},PC.createElement(uh,{name:oh.SPINNER,className:e,size:24}))}}),FC=n(5363),LC=n(7294),kC=n(5697),MC=at(),DC=function(e){var t=e.showBackBtn;if(MC&&t)return null;var n=FC.useDispatch(),r=FC.useSelector((function(e){return e.ui.text})),o=r.ariaLabelCloseChat,a=r.faqViewHeader,i=ry(),s=Jm("hs-header__close-chat-btn-link hs-button--empty",{"hs-header__close-chat-btn-link-background-el":!i}),u=Jm({"hs-header__close-chat-icon":!i}),l=function(e){var t=oy();return e?t?oh.CHEVRON_BACK:oh.ARRROW_BACK:oh.CLOSE}(i),c=i?a:o;return LC.createElement("button",{className:s,onClick:function(){n(ps(!0))},"aria-label":c},LC.createElement(uh,{name:l,size:24,className:u}))};DC.propTypes={showBackBtn:kC.bool};var UC=LC.memo(DC),xC=n(2555),HC=n(5697),jC=n(7294),VC=at(),BC=VC&&it()&&lt()<=12,GC=xC({displayName:"ViewHeader",propTypes:{title:HC.string.isRequired,showBackBtn:HC.bool,onBackBtnClick:HC.func,ariaLabel:HC.string,showAvatar:HC.bool,avatarUrl:HC.string,fallbackAvatar:HC.string,nickname:HC.string,contextIsLiteSdk:HC.bool,liveMessagingMode:HC.string},getDefaultProps:function(){return{showAvatar:!1,avatarUrl:"",showBackBtn:!1,fallbackAvatar:on.APP,nickname:""}},getInitialState:function(){return{avatarIsLoaded:!1,orientationIsPortrait:!!(window.innerHeight>window.innerWidth)}},render:function(){var e=this.props,t=e.showAvatar,n=e.contextIsLiteSdk,r=e.showBackBtn,o=Jm("hs-header",{"hs-header--with-avatar":t,"hs-header--mobile":VC&&!n,"hs-header--lite-sdk":n,"hs-header--safari-mobile-ellipses-fix":BC,"hs-header--landscape-fix":!this.state.orientationIsPortrait});return n?jC.createElement("header",{className:o},jC.createElement(UC,{showBackBtn:r}),this._renderTitleAndAvatar()):jC.createElement("header",{className:o},this._renderTitleAndAvatar(),jC.createElement(UC,{showBackBtn:r}))},_renderTitleAndAvatar:function(){var e=oy(),t=this.props,n=t.ariaLabel,r=t.nickname,o=t.title,a=t.contextIsLiteSdk,i=jC.createElement("span",{className:"hs-header__title-text"},o),s=r?jC.createElement("span",{className:"hs-header__title-nickname-text"},r):null,u=e?oh.CHEVRON_BACK:oh.ARRROW_BACK;return this.props.showBackBtn?a?jC.createElement(jC.Fragment,null,jC.createElement("button",{className:"hs-header__back-btn-link hs-button--empty",onClick:this._onBackBtnClick,"aria-label":n},jC.createElement(uh,{name:u,size:24})),jC.createElement("div",{className:"hs-header__avatar-title-wrapper"},this._renderAvatar(),i)):jC.createElement("button",{className:"hs-header__back-btn-link hs-button--empty",onClick:this._onBackBtnClick,"aria-label":n},jC.createElement("div",{className:"hs-header__back-icon-wrapper"},jC.createElement(uh,{name:u,size:20,className:"hs-header__back-icon"})),this._renderAvatar(),i):jC.createElement("div",{className:"hs-header__avatar-title-wrapper"},this._renderAvatar(),jC.createElement("div",{className:"hs-header__text-wrapper"},i,s))},_renderAvatar:function(){var e=this.props,t=e.showAvatar,n=e.avatarUrl,r=e.fallbackAvatar,o=e.liveMessagingMode;return jC.createElement(lg,{showAvatar:t,avatarUrl:n,fallbackAvatar:r,className:"hs-header__avatar",size:36,liveMessagings.props.onBackBtnClick()},_setTitleWrapperStyles:function(){var e=this.props.showAvatar?96:56;if(this.props.contextIsLiteSdk&&BC){var t=document.querySelector(".hs-header");if(t){var n=parseInt(window.getComputedStyle(t).getPropertyValue("width"),10),r=document.querySelector(".hs-header__avatar-title-wrapper");r&&n&&(r.style.maxWidth=n-e+"px")}}this.setState({orientationIsPortrait:!!(window.innerHeight>window.innerWi._setTitleWrapperStyl._setTitleWrapperStyles)}}),WC=n(2555),qC=n(5697),$C=n(7294);function zC(){return zC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zC.apply(this,arguments)}var YC=WC({displayName:"DnDWrapper",propTypes:{onDrop:qC.func.isRequired,dragInfoText:qC.string,enabled:qC.bool},getDefaultProps:function(){return{enabled:!0}},getInitialState:function(){return{filesAreDragged:!1}},render:function(){var e={};return this.props.enabled&&(e={onDrag:this._defaultEventHandler,onDragStart:this._defaultEventHandler,onDragOver:this._defaultEventHandler,onDragEnd:this._defaultEventHandler,onDragEnter:this._onDragEnter,onDragLeave:this._onDragLeave,onDrop:this._onDrop}),$C.createElement("div",zC({className:"hs-dnd-wrapper"},e),this._renderContents())},_renderContents:function(){if(this.state.filesAreDragged){var e=null;return this.props.dragInfoText&&(e=$C.createElement("span",null,this.props.dragInfoText)),$C.createElement("div",{className:"hs-dnd-wrapper__drop-area"},e)}return this.props.childlt(),e.stopPropagation()},_onDragEnter:function(e){this._defaultEventHandler(e),this.setState({filesAreDragged:!0})},_onDragLeave:function(e){this._defaultEventHandler(e),this.setState({filesAreDragged:!1})},_onDrop:function(e){this._defaultEventHandler(e),this.setState({filesAreDragged:!1}),this.props.onDrop(e.dataTransfer.files)}}),XC=n(5363),KC=n(7294),QC=n(5697),JC=functioappErrorMessageSubtitle}}),XC.shallowEqual),t=e.appErrorMessageTitle,n=e.appErrorMessageSubtitle;return KC.createElement("div",{className:"hs-view"},KC.createElement("div",{className:"hs-app-error"},KC.createElement(uh,{name:oh.ALERT_CIRCLE,size:40,className:"hs-app-error__icon"}),KC.createElement("strong",{className:"hs-app-error__title"},t),KC.createElement("p",{className:"hs-app-error__subtitle"},n)))};JC.propTypes={appErrorMessageTitle:QC.string,appErrorMessageSubtitle:QC.string};var ZC=JC,eO=n(7294),tO=function(){return eO.createElement("div",{className:"hs-non-blocking-error"},eO.createElement(uh,{name:oh.ALERT_CIRCLE,size:20,className:"hs-non-blocking-error__icon"}),"Something went wrong. Please try reloading.")},nO=n(7294),rO=nO.createElement("svg",{width:"103",height:"5",viewBox:"0 0 103 5",className:"svg-content-color",xmlns:"http://www.w3.org/2000/svg"},nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0H1V5H0V0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 0V1H1V0L3 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 2V3H1V2L3 2Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 1V2H3V1L4 1Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 1V4H5V1L6 1Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 1V4H8V1L9 1Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 0V4H11V0L12 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 0V4H15V0L16 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 0V5H18V0L19 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 0V5H23V0L24 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 0V1H24V0L26 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 2V3H24V2H26Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27 1V2H26V1H27Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 3V4H25V3H26Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27 4V5H26V4H27Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 0V1H19V0L21 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 2V3H19V2H21Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 4V5H19V4H21Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30 0V5H29V0L30 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35 0V5H34V0L35 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38 1V4H37V1L38 1Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 2V3H30V2H32Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 0V1H30V0L32 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37 0V1H35V0L37 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37 4V5H35V4H37Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 4V5H30V4H32Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45 0V5H44V0L45 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47 2V3H45V2H47Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48 1V2H47V1H48Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48 3V4H47V3H48Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51 0V1H50V0L51 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52 1V2H51V1H52Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M54 1V2H53V1H54Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M55 0V1H54V0L55 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M53 2V5H52V2H53Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M61 0V5H60V0L61 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M63 2V3H61V2H63Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M64 0V5H63V0L64 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47 0V1H45V0L47 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47 4V5H45V4H47Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 1H14V4H13V1Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4H13V5H12V4Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 4H15V5H14V4Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0V1H6V0L8 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 4V5H6V4H8Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M67 0V5H66V0L67 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69 2V3H67V2H69Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69 0V1H67V0L69 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69 4V5H67V4H69Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M72 0V5H71V0L72 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M74 4V5H72V4H74Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M75 0H76V5H75V0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M87 0H88V5H87V0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M90 0H91V5H90V0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M93 0H94V5H93V0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M96 0H97V5H96V0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M101 1H102V5H101V1Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M97 0H99V1H97V0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M100 0H103V1H100V0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M97 2H99V3H97V2Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M88 2H90V3H88V2Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M78 0V1H76V0L78 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M78 2V3H76V2L78 2Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M79 1V2H78V1L79 1Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82 1V2H81V1L82 1Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M85 3V4H84V3H85Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M84 2V3H82V2H84Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M85 0V1H82V0L85 0Z"}),nO.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M84 4V5H81V4H84Z"})),oO=function(){return nO.createElement("div",{className:"hs-widget-footer"},nO.createElement("div",{className:"hs-widget-footer__branding"},rO))},aO=n(7294),iO=n(5697),sO=n(2555);function uO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cO(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function pO(e){return pO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pO(e)}function dO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fO(e){return fO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fO(e)}function EO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yO(e,t){return yO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yO(e,t)}var mO=Oh.MESSAGE_PROP_TYPE,hO=Oh.USER_INPUT_PROP_TYPE,gO=Se.USER_INPUT_TYPES,_O=Se.ACTIVE_FOOTER,SO=at(),vO=it(),bO=W,TO=nt.TYPE,IO=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==pO(t)&&"function"!=typeof t?EO(e):t}(this,fO(t).call(this,e))).state={pickerIsInSearchMode:!1},n._msgListRef=aO.createRef(),n._replyBoxRef=null,n._setReplyBoxRef=n._setReplyBoxRef.bind(EO(n)),n._onLoadMore=n._onLoadMore.bind(EO(n)),n._onFilesDrop=n._onFilesDrop.bind(EO(n)),n._onJumpBtnClick=n._onJumpBtnClick.bind(EO(n)),n._onTogglePickerSearchMode=n._onTogglePickerSearchMode.bind(EO(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yO(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,t=e.messages,n=e.isTyping,r=e.showAgentNickname,o=e.text,a=e.onPillOptionSelect,i=e.onListPickerOptionSelect,s=e.onRetryAttachmentClick,u=e.onActionClick,l=e.onScrollPastExistingConversation,c=e.onSkipUserInput,p=e.userInput,d=e.loading,f=e.hasFailure,E=e.userIsViewingPastMessages,y=e.minimized,m=e.onMessageError,h=e.onFooterError,g=e.showAvatar,_=e.avatar,S=e.avatarLastUpdatedTs,v=e.attachmentUploadIsInProgress,b=e.currentIssueId,T=e.issueState,I=e.onLinkClick,A=e.liteSdkConfig,C=e.intents,O=e.intentsFeatureIsEnabled,R=e.onSelectIntent,w=e.issueType,P=e.sdkConfigOptions,N=e.brandingFeatureIsEnabled,F=e.userAttachmentsAreAllowed,L=e.onUnselectIntent,k=e.firstPollerCallHasSucceeded,M=e.issueCursor,D=e.requiredMessagesHaveLoaded,U=e.onChatFormSubmit,x=e.onChatFormFieldChange,H=e.onChatFormFieldBlur,j=e.showConversationIdIsEnabled,V=e.selectedCsatRating;if(d)return aO.createElement(NC,{loading:d});var B=Jm("hs-view__content",{"hs-view--overflow-hidden":this.state.pickerIsInSearchMode});return aO.createElement(YC,{onDrop:this._onFilesDrop,dragInfoText:o.dndInfoText,enabled:F},this._renderLoader(),aO.createElement("div",{className:B},aO.createElement(PT,{messages:t,isTyping:n,showAgentNickname:r,text:o,onPillOptionSelect:a,onRetryAttachmentClick:s,onActionClick:u,onSkipUserInput:c,hasFailure:f,userInput:p,userIsViewingPastMessages:E,onScrollPastExistingConversation:l,onLoadMore:this._onLoadMore,ref:this._msgListRef,minimized:y,onMessageError:m,showAvatar:g,avatar:_,avatarLastUpdatedTs:S,attachmentUploadIsInProgress:v,currentIssueId:b,issueState:T,onListPickerOptionSelect:i,onLinkClick:I,liteSdkConfig:A,intents:C,intentsFeatureIsEnabled:O,onSelectIntent:R,issueType:w,onTogglePickerSearchMode:this._onTogglePickerSearchMode,pickerIsInSearchMode:this.state.pickerIsInSearchMode,isWidgetInFullscreenMode:P.fullScreen,onUnselectIntent:L,firstPollerCallHasSucceeded:k,issueCursor:M,replyBoxRef:this._replyBoxRef,requiredMessagesHaveLoaded:D,onChatFormSubmit:U,onChatFormFieldChange:x,onChatFormFieldBlur:H,showConversationIdIsEnabled:j,selectedCsatRating:V}),this._renderJumpToLatestBtn()),aO.createElement(xv,{onError:h},aO.createElement(OC,{onJumpBtnClick:this._onJumpBtnClick,onListPickerOptionSelect:i,brandingFeatureIsEnabled:N,userAttachmentsAreAllowed:F,setReplyBoxRef:this._setReplyBoxRef}),this._renderChatViewFooterErrorText()),this._renderWidgetFooter())}},{key:"_renderLoader",value:function(){var e=this.props,t=e.pastConversationsLoading,n=e.loadingMoreMsgsHasFailed,r=e.text,o=r.pastConversationsLoadingText,a=r.loadMoreMessagesFailedText,i=r.clickToRetryText;if(!t)return n?aO.createElement("div",{className:"hs-chat-view__msgs-loader-container"},aO.createElement("span",{className:"hs-chat-view__msg-loading-failed-txt"},a),aO.createElement("button",{onClick:this.props.onLoadMoreMessages,className:"hs-chat-view__msg-loading-failed-link hs-button--empty"},i)):null;var s=Jm("hs-ion-icon--spinning","hs-chat-view__msgs-loader-spinner");return aO.createElement("div",{className:"hs-chat-view__msgs-loader-container","aria-label":o},aO.createElement(uh,{name:oh.SPINNER,className:s,size:24,"aria-hidden":!0}),aO.createElement("span",{"aria-hidden":!0},o))}},{key:"_renderJumpToLatestBtn",value:function(){var e=this.props,t=e.userIsViewingPastMessages,n=e.unreadCount,r=e.userInput.type,o=e.text,a=e.brandingFeatureIsEnabled,i=e.legacyResolutionQuestionIsVisible,s=e.legacyCsatIsVisible,u=n>0,l=r===gO.PILL_SELECT,c=r===gO.LIST_PICKER,p=Jm("hs-chat-view__jump-to-latest-wrapper",{"hs-chat-view--no-footer-branding":!a});return l||c||i||s?aO.createElement("div",{className:p},aO.createElement(kT,{show:t,showUnreadIndicator:u,onClick:this._onJumpBtnClick,ariaLabel:o.ariaLabelJumpToLatestBtn})):null}},{key:"_renderChatViewFooterErrorText",value:function(){var e=this.props,t=e.activeFooter,n=e.userInput.errorMsg;return SO||!n?null:t===_O.REPLY||t===_O.SOLUTION_REJECTED?aO.createElement("div",{className:"hs-error"},aO.createElement("div",{className:"hs-error__text"},n)):void 0}},{key:"_renderWidgetFooter",value:function(){var e=this.props,t=e.sdkConfigOptions,n=e.brandingFeatureIsEnabled;return SO||t.fullScreen||!n?null:aO.createElement(oO,null)}},{ken(e){this._replyBoxRef=e}},{key:"_onTogglePickerSearchMode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.setState({pickerIsInSearchMode:e},(function(){t()}))}},{key:"_onJumpBtnClick",value:function(){SO&&vO?this._msgListRef.current._animatedScrollToBottom():this._msgListRef.current._smoothScrollToBottom()}},{key:"_onFilesDrop",value:function(e){this.props.onFilesDrop(e)}},{key:"_onLoadMore",value:function(e){var t=this.props,n=t.requiredMessagesHaveLoaded,r=t.loadingMoreMsgsHasFailed,o=t.onLoadMoreMessages;!t.firstPollerCallHasSucceeded||n||r||o(e)}}],r&&dO(n.prototype,r),o&&dO(n,o),t}(aO.PureComponent);IO.propTypes={onMessageError:iO.func.isRequired,onFooterError:iO.func.isRequired,messages:iO.arrayOf(mO).isRequired,onActionClick:iO.func,showAgentNickname:iO.bool,isTyping:iO.bool,userIsViewingPastMessages:iO.bool,minimized:iO.bool,loadingMoreMsgsHasFailed:iO.bool,onScrollPastExistingConversation:iO.func,onLoadMoreMessages:iO.func,onFilesDrop:iO.func.isRequired,onRetryAttachmentClick:iO.func.isRequired,userInput:hO,onPillOptionSelect:iO.func.isRequired,onListPickerOptionSelect:iO.func,onSkipUserInput:iO.func,text:iO.shape({chatViewHeader:iO.string.isRequired,dndInfoText:iO.string.isRequired,pastConversationsLoadingText:iO.string.isRequired,loadMoreMessagesFailedText:iO.string,clickToRetryText:iO.string,ariaLabelJumpToLatestBtn:iO.string,searchPlaceholder:iO.string,noSearchResultsText:iO.string}).isRequired,loading:iO.bool,pastConversationsLoading:iO.bool,requiredMessagesHaveLoaded:iO.bool,unreadCount:iO.number,hasFailure:iO.bool,showAvatar:iO.bool,avatar:iO.shape({showMessageFeedAvatar:iO.bool,agentAvatarIsPersonalised:iO.bool,botAvatarIsPersonalised:iO.bool,agentDefaultAvatarUrl:iO.string,botDefaultAvatarUrl:iO.string,avatarUrlTemplate:iO.string,appAvatarUrl:iO.string}).isRequired,avatarLastUpdatedTs:iO.object.isRequired,attachmentUploadIsInProgress:iO.object,currentIssueId:iO.string,issueState:iO.string,sdkConfigOptions:iO.shape({fullScreen:iO.bool,showLauncher:iO.bool,initialUserMessage:iO.string}),onLinkClick:iO.func,liteSdkConfig:iO.object,intents:iO.shape({intentsMap:iO.objectOf(iO.shape({id:iO.string.isRequired,label:iO.string.isRequired,parentId:iO.string,children:iO.arrayOf(iO.string)})).isRequired,topLevelIntentsOrder:iO.arrayOf(iO.string),selectedIntentIds:iO.arrayOf(iO.string),enforceIntentSelection:iO.bool.isRequired}),intentsFeatureIsEnabled:iO.bool.isRequired,onSelectIntent:iO.func,issueType:iO.string.isRequired,activeFooter:iO.string.isRequired,brandingFeatureIsEnabled:iO.bool,userAttachmentsAreAllowed:iO.bool.isRequired,onUnselectIntent:iO.func,firstPollerCallHasSucceeded:iO.bool,issueCursor:iO.number,onChatFormSubmit:iO.func,onChatFormFieldChange:iO.func,onChatFormFieldBlur:iO.func,showConversationIdIsEnabled:iO.bool,legacyResolutionQuestionIsVisible:iO.bool,legacyCsatIsVisible:iO.bool,selectedCsatRating:iO.number};var AO=sO({displayName:"ChatView",propTypes:{onKeyDown:iO.func,onClick:iO.func,error:iO.shape({title:iO.string.isRequired,subtitle:iO.string,cta:iO.string}),botStepInProgress:iO.bool,keyboardInteractionIsActive:iO.bool.isRequired,activeFooter:iO.string,messages:iO.arrayOf(mO).isRequired,onActionClick:iO.func,showAgentNickname:iO.bool,isTyping:iO.bool,userIsViewingPastMessages:iO.bool,minimized:iO.bool,loadingMoreMsgsHasFailed:iO.bool,onScrollPastExistingConversation:iO.func,onLoadMoreMessages:iO.func,onFilesDrop:iO.func.isRequired,onRetryAttachmentClick:iO.func.isRequired,userInput:hO,issueIsCreated:iO.bool.isRequired,onPillOptionSelect:iO.func.isRequired,onListPickerOptionSelect:iO.func,onSkipUserInput:iO.func,text:iO.shape({chatViewHeader:iO.string.isRequired,dndInfoText:iO.string.isRequired,pastConversationsLoadingText:iO.string.isRequired,liveMessageHeader:iO.string.isRequired}).isRequired,loading:iO.bool,pastConversationsLoading:iO.bool,requiredMessagesHaveLoaded:iO.bool,unreadCount:iO.number,hasFailure:iO.bool,showHeaderAvatar:iO.bool.isRequired,appAvatarUrl:iO.string,personalisedConversationIsEnabled:iO.bool.isRequired,avatar:iO.shape({showMessageFeedAvatar:iO.bool.isRequired,agentAvatarIsPersonalised:iO.bool,botAvatarIsPersonalised:iO.bool,agentDefaultAvatarUrl:iO.string,botDefaultAvatarUrl:iO.string,avatarUrlTemplate:iO.string}).isRequired,avatarLastUpdatedTs:iO.object.isRequired,attachmentUploadIsInProgress:iO.object,currentIssueId:iO.string,issueState:iO.string,sdkConfigOptions:iO.shape({fullScreen:iO.bool,showLauncher:iO.bool,initialUserMessage:iO.string}),onLinkClick:iO.func,liteSdkConfig:iO.object,intents:iO.shape({loading:iO.bool.isRequired,intentsMap:iO.objectOf(iO.shape({id:iO.string.isRequired,label:iO.string.isRequired,parentId:iO.string,children:iO.arrayOf(iO.string)})).isRequired,topLevelIntentsOrder:iO.arrayOf(iO.string),selectedIntentIds:iO.arrayOf(iO.string),enforceIntentSelection:iO.bool.isRequired}),intentsFeatureIsEnabled:iO.bool.isRequired,onSelectIntent:iO.func,issueType:iO.string.isRequired,brandingFeatureIsEnabled:iO.bool,fullPrivacyEnabled:iO.bool,userAttachmentsAreEnabled:iO.bool,onUnselectIntent:iO.func,firstPollerCallHasSucceeded:iO.bool,issueCursor:iO.number,onChatFormSubmit:iO.func,onChatFormFieldChange:iO.func,onChatFormFieldBlur:iO.func,showConversationIdIsEnabled:iO.bool,liveMessagingMode:iO.string.isRequired,legacyResolutionQuestionIsVisible:iO.bool,legacyCsatIsVisible:iO.bool,selectedCsatRating:iockingErrorIsVisible:!1}},render:function(){var e=this.props,t=e.text,n=e.minimized,r=e.keyboardInteractionIsActive,o=e.onKeyDown,a=e.onClick,i=e.showHeaderAvatar,s=e.appAvatarUrl,u=e.issueState,l=e.avatar,c=e.avatarLastUpdatedTs,p=e.messages,d=e.showAgentNickname,f=e.liteSdkConfig,E=e.personalisedConversationIsEnabled,y=e.liveMessagingMode,m=Jm("hs-view",{"hs-view--safari-fix":!n,"outline-hidden":!r}),h={original:s},g="";if(u===bO.ACTIVE){var _=cO(p).reverse().find((function(e){return!e.isCustomerMsg&&e.type!==TO.BOT_STARTED&&e.type!==TO.BOT_ENDED&&e.type!==TO.CHAT_SEPARATOR}));if(_&&!Tn.isSystemMessage(_)&&E){if(l.showMessageFeedAvatar){var S=Tn.getAvatarImgSrc({showAvatar:i,avatar:l,avatarLastUpdatedTs:c,message:_});h.original=null==S?void 0:S.original,h.fallback=null==S?void 0:S.fallback}g=Tn.getNickname({message:_,showAgentNickname:d,text:t}),Tn.isAgentMessage(_)&&y===Fe&&d&&(g="".concat(t.liveMessageHeader,": ").concat(g))}}return aO.createElement("div",{className:m,onKeyDown:o,onClick:a},aO.createElement(xv,{onError:this._showNonBlockingError},aO.createElement(GC,{title:t.chatViewHeader,nickname:g,avatarUrl:h.original,showAvatar:i,fallbackAvatar:h.fallback,contextIsLiteSdk:!!(null==f?void 0:f.os),liveMessagingMode:y})),this._renderNonBlockingError(),this._renderViewContents())},_renderViewContents:function(){var e=this.props,t=e.messages,n=e.onActionClick,r=e.showAgentNickname,o=e.isTyping,a=e.userIsViewingPastMessages,i=e.minimized,s=e.loadingMoreMsgsHasFailed,u=e.onScrollPastExistingConversation,l=e.onLoadMoreMessages,c=e.onRetryAttachmentClick,p=e.userInput,d=e.onPillOptionSelect,f=e.onListPickerOptionSelect,E=e.onSkipUserInput,y=e.onFilesDrop,m=e.text,h=e.hasFailure,g=e.unreadCount,_=e.requiredMessagesHaveLoaded,S=e.pastConversationsLoading,v=e.loading,b=e.personalisedConversationIsEnabled,T=e.appAvatarUrl,I=e.avatar,A=e.avatarLastUpdatedTs,C=e.attachmentUploadIsInProgress,O=e.currentIssueId,R=e.issueState,w=e.sdkConfigOptions,P=e.onLinkClick,N=e.liteSdkConfig,F=e.intents,L=e.intentsFeatureIsEnabled,k=e.onSelectIntent,M=e.issueType,D=e.activeFooter,U=e.brandingFeatureIsEnabled,x=e.onUnselectIntent,H=e.firstPollerCallHasSucceeded,j=e.issueCursor,V=e.onChatFormSubmit,B=e.onChatFormFieldChange,G=e.onChatFormFieldBlur,W=e.showConversationIdIsEnabled,q=e.legacyResolutionQuestionIsVisible,$=e.legacyCsatIsVisible,z=e.selectedCsatRating,Y=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uO(Object(n),!0).forEach((function(t){lO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},I,{},{appAvatarUrl:T}),X=b&&I.showMessageFeedAvatar,K=!!(null==F?void 0:F.loading);return aO.createElement(xv,{fallbackComponent:aO.createElement(ZC,null),onError:this._handleContentsError},aO.createElement(IO,{messages:t,onActionClick:n,showAgentNickname:r,isTyping:o,userIsViewingPastMessages:a,minimized:i,loadingMoreMsgsHasFailed:s,onScrollPastExistingConversation:u,onLoadMoreMessages:l,onFilesDrop:y,onRetryAttachmentClick:c,userInput:p,onPillOptionSelect:d,onListPickerOptionSelect:f,onSkipUserInput:E,text:m,onMessageError:this._showNonBlockingError,onFooterError:this._showNonBlockingError,hasFailure:h,unreadCount:g,requiredMessagesHaveLoaded:_,pastConversationsLoading:S,loading:v||K,showAvatar:X,avatar:Y,avatarLastUpdatedTs:A,attachmentUploadIsInProgress:C,currentIssueId:O,issueState:R,sdkConfigOptions:w,onLinkClick:P,liteSdkConfig:N,intents:F,intentsFeatureIsEnabled:L,onSelectIntent:k,issueType:M,activeFooter:D,brandingFeatureIsEnabled:U,userAttachmentsAreAllowed:this._areUserAttachmentsAllowed(),onUnselectIntent:x,firstPollerCallHasSucceeded:H,issueCursor:j,onChatFormSubmit:V,onChatFormFieldChange:B,onChatFormFieldBlur:G,showConversationIdIsEnabled:W,legacyResolutionQuestionIsVisible:q,legacyCsatIsVisible:$,selectedCsatRating:z}))},_renderNonBlockingError:function(){return this.state.blockingErrorIsVisible||!this.state.showNonBlockingError?null:aO.createElement(tO,null)},_handleContentsError:function(){this.setState({blockingErrorIsVisible:!0})},_showNonBlockingError:function(){this.setState({showNonBlockingError:!0})},_areUserAttachmentsAllowed:function(){var e=this.props,t=e.issueIsCreated,n=e.fullPrivacyEnabled,r=e.userAttachmentsAreEnabled,o=e.botStepInProgress;return!(!t||n||o||!r)}}),CO=n(5363),OO=Br.ATTACHMENT_SOURCES,RO=Se.MAX_POLLER_FAILURES_ALLOWED,wO=Hu.EVENT,PO=CO.connect((function(e){var t=e.appState,n=t.featuresEnabled,r=n.personalisedConversationIsEnabled,o=n.intents,a=n.userAttachments,i=n.showConversationId,s=t.activeIssueId,u=t.issueType,l=t.minimized,c=t.online,p=t.showHeaderAvatar,d=t.appAvatarUrl,f=t.avatar,E=t.internalIssueId,y=t.issueState,m=t.sdkConfigOptions,h=t.liteSdkConfig,g=t.fullPrivacyEnabled,_=t.attachmentsWhitelist,S=t.liveMessagingMode,v=e.chatView,b=v.messageList,T=v.systemTyping,I=v.agentTyping,A=v.userInput,C=v.pollerFailureCount,O=v.loading,R=v.error,w=v.userIsViewingPastMessages,P=v.loadingMoreMsgsHasFailed,N=v.pastConversationsLoading,F=v.unreadMessageIds,L=v.requiredMessagesHaveLoaded,k=v.botState.botStepInProgress,M=v.activeFooter,D=v.avatarLastUpdatedTs,U=v.attachmentUploadIsInProgress,x=v.intents,H=v.firstPollerCallHasSucceeded,j=v.issueCursor,V=v.legacyResolutionQuestionIsVisible,B=v.legacyCsatIsVisible,G=v.rating,W=e.ui.text,q=!c||C>=RO,$={messages:b,minimized:l,isTyping:T||I,showAgentNickname:r,personalisedConversationIsEnabled:r,text:W,issueIsCreated:en.isIssueCreated({activeIssueId:s,issueType:u}),userInput:A,loading:O,hasFailure:q,error:R,userIsViewingPastMessages:w,loadingMoreMsgsHasFailed:P,unreadCount:F.length,pastConversationsLoading:N,requiredMessagesHaveLoaded:L,botStepInProgress:k,activeFooter:M,showHeaderAvatar:p,appAvatarUrl:d,avatar:f,avatarLastUpdatedTs:D,attachmentUploadIsInProgress:U,currentIssueId:E,issueState:y,sdkConfigOptions:m,liteSdkConfig:h,intentsFeatureIsEnabled:o,issueType:u,fullPrivacyEnabled:g,userAttachmentsAreEnabled:a,attachmentsWhitelist:_,firstPollerCallHasSucceeded:H,issueCursor:j,showConversationIdIsEnabled:i,liveMessagingMode:S,legacyResolutionQuestionIsVisible:V,legacyCsatIsVisible:B,selectedCsatRating:G};return o&&($.intents={loading:x.loading,intentsMap:x.tree.intentsMap,topLevelIntentsOrder:x.tree.topLevelIntentsOrder,selectedIntentIds:x.selectedIntentIds,enforceIntentSelection:x.enforceIntentSelection}),$}),(function(e){return{onActionClick:function(t){e(jy.handleActionClick(t))},onFilesDrop:function(t){e(jy.createAttachmentMessages(t,OO.DRAG_AND_DROP))},onRetryAttachmentClick:function(t){e(jy.createAttachmentMessage(t.type,t.file,{attachmentMsgId:t.id,referringMessageId:t.refers}))},onScrollPastExistingConversation:function(e){jy.handleScrollPastExistingConversation(e)},onLoadMoreMessages:function(e){jy.loadMoreMessages(e)},onPillOptionSelect:function(t){e(jy.setUserSelectedOption(t)),e(jy.submitReply())},onSkipUserInput:function(){e(jy.skipUserInput())},onListPickerOptionSelect:function(t){e(jy.setUserSelectedOption(t)),e(jy.submitReply())},onChatFormSubmit:function(){e(jy.handleChatFormSubmit(hatFormFieldChange(t,n))},onChatFormFieldBlur:function(t){e(jy.handleChatFormF_LINK_VIA_CHAT,{url:t}))},onSelectIntent:function(t){e(jy.selectIntent(t))},onUnselectIntent:function(){e(Nl()),e(Ec(wO.SMART_INTENT_DESELECTION))}}}))(AO),NO=n(7294),FO=n(5697),LO=n(2555),kO=at(),MO=function(e){var t=e.title,n=e.body,r=e.loading,o=e.errorMsg,a=e.ariaLabelLoading;return r||o?NO.createElement(NC,{loading:r,title:o,ariaLabel:a}):NO.createElement("div",{className:"hs-view__content",tabIndex:"0"},NO.createElement("div",{className:"hs-faq",dir:"auto"},NO.createElement("h1",{className:"hs-faq__title"},t),NO.createElement("div",{className:"hs-faq__body",dangerouslySetInnerHTML:{__html:n}})))};MO.propTypes={title:FO.string,body:FO.string,loading:FO.bool,errorMsg:FO.string,ariaLabelLoading:FO.string};var DO=LO({displayName:"FaqView",propTypes:{title:FO.string,body:FO.string,loading:FO.bool,errorMsg:FO.string,onBackBtnClick:FO.func.isRequired,onKeyDown:FO.func,onClick:FO.func,text:FO.shape({faqViewHeader:FO.string.isRequired,ariaLabelLoading:FO.string,ariaLabelFaqViewHeader:FO.string,faqArticle:FO.string.isRequired}).isRequired,keyboardInteractionIsActive:FO.bool.isRequired,sdkConfigOptions:FO.shape({fullScreen:FO.bool}),contextIsLiteSdk:FO.bool,brandingFeatureIsEnabled:FO.bool},getInitialState:function(){return{blockingErrorIsShown:!1}},render:function(){var e=this.props,t=e.text,n=e.onBackBtnClick,r=e.title,o=e.body,a=e.loading,i=e.errorMsg,s=e.keyboardInteractionIsActive,u=e.onKeyDown,l=e.onClick,c=e.contextIsLiteSdk,p=Jm("hs-view",{"outline-hidden":!s}),d=c?t.faqArticle:t.faqViewHeader;return NO.createElement("div",{className:p,onKeyDown:u,onClick:l},NO.createElement(xv,{fallbackComponent:this._renderFallbackComponent()},NO.createElement(GC,{title:d,showBackBtn:!0,onBackBtnClick:n,ariaLabel:t.ariaLabelFaqViewHeader,contextIsLiteSdk:c})),NO.createElement(xv,{fallbackComponent:NO.createElement(ZC,null),onError:this._handleViewContentsError},NO.createElement(MO,{title:r,body:o,errorMsg:i,loading:a,text:t})),this._renderWidgetFooter())},_renderWidgetFooter:function(){var e=this.props,t=e.sdkConfigOptions,n=e.brandingFeatureIsEnabled;return kO||t.fullScreen||!n?null:NO.createElement(oO,null)},_renderFallbackComponent:function(){return this.state.blockingErrorIsShown?null:NO.createElement(tO,null)},_handleViewContentsError:function(){this.setState({blockingErrorIsShown:!0})}}),UO=n(5363).connect((function(e){var t,n,r=e.appState,o=r.sdkConfigOptions,a=r.liteSdkConfig,i=e.faqView,s=i.activeFaq,u=i.loading,l=i.errorMsg,c=e.ui.text;if(s&&s.translations&&s.language){var p=s.translations[s.language];p&&(t=p.title,n=p.body)}return{title:t,body:n,text:c,loading:u,errorMsg:l,sdkConfigOptions:o,contextIsLiteSdk:!!(null==a?void 0:a.os)}}),(function(e){return{onBackBtnClick:function(){e(jy.switchToChatView())}}}))(DO),xO=n(5363),HO=n(7294),jO=n(5697),VO=function(){var e=xO.useSelector((function(e){var t=e.businessHoursViewState,n=e.ui.text;return{createIssueXhrFailed:t.createIssueXhrFailed,somethingWentWrongPleaseTryAgainLater:n.somethingWentWrongPleaseTryAgainLater}}),xO.shallowEqual),t=e.createIssueXhrFailed,n=e.somethingWentWrongPleaseTryAgainLater;if(t)return HO.createElement("small",{className:"hs-business-hours__create-issue-failure",dir:"auto"},HO.createElement(uh,{name:oh.ALERT_CIRCLE,size:20,className:"hs-business-hours__small-icon"}),HO.createElement("span",null,n))};VO.propTypes={createIssueXhrFailed:jO.bool};var BO=HO.memo(VO),GO=n(5697),WO=n(7294),qO=n(2555);function $O(e){return $O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$O(e)}function zO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YO(e){return YO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Objectt been called");return e}function KO(e,t){return KO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},KO(e,t)}var QO=Dt,JO=QO.NAME,ZO=QO.EMAIL,eR=QO.MESSAGE,tR=Ut,nR=tR.CONTACT_FORM,rR=tR.OFFLINE_MESSAGE,oR=at(),aR=GO.shape({enabled:GO.bool,value:GO.shape({name:GO.string,value:GO.string,validations:GO.array}).isRequired}).isRequired,iR=GO.shape({id:GO.string,name:GO.string,size:GO.number}),sR=GO.shape({closeConversationBtn:GO.string.isRequired,businessHoursSubmitBtn:GO.string.isRequired,businessHoursViewHeader:GO.string.isRequired,businessHoursContactFormMessage:GO.string.isRequired,businessHoursOfflineMessage:GO.string.isRequired,businessHoursThankYouMessage:GO.string.isRequired,businessHoursAttachmentsLimitExceedMsg:GO.string.isRequired,businessHoursAttachmentsSizeExceedMsg:GO.string.isRequired,attachmentFileTypeError:GO.string.isRequired,attachmentDefaultError:GO.string.isRequired,dndInfoText:GO.string.isRequired,ariaLabelsRemoveAttachment:GO.string,ariaLabelAddedAttachmentPrefix:GO.string,ariaLabelAttachFiles:GO.string,systemNickname:GO.string}).isRequired,uR=GO.shape({name:aR,email:aR,message:aR,attachments:GO.arrayOf(iR).isRequired,attachmentsMeta:GO.shape({featureIsEnabled:GO.bool,limitHasExceeded:GO.bool,sizeHasExceeded:GO.bool,attachmentsAreInvalid:GO.bool}).isRequired}).isRequired,lR=GO.oneOf([nR,rR]),cR=le,pR=Br.ATTACHMENT_SOURCES,dR=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class asction"!=typeof t?XO(e):t}(this,YO(t).call(this,e)))._fileInputRef=null,n._onKeyDown=n._onKeyDown.bind(XO(n)),n._saveInputRef=function(e){n._fileInputRef=e},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KO(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,t=e.text,n=e.onFilesChange,r=e.attachmentIsEnabled,o=Jm("hs-business-hours",{"hs-business-hours--with-avatar":e.personalisedConversationIsEnabled});return WO.createElement("div",{className:"hs-view__content"},WO.createElement(YC,{dragInfoText:t.dndInfoText,onDrop:n,enabled:r},WO.createElement("div",{className:o,tabIndex:"0"},WO.createElement("div",{className:"hs-business-hours__message-feed"},this._renderMessageList()),this._renderContactForm()),this._renderWidgetFooter()))}},{key:"_renderMessageList",value:function(){var e=this.props,t=e.text,n=e.appAvatarUrl,r=e.personalisedConversationIsEnabled;if(e.offlineBehaviour!==nR)return null;var o=rn(Date.now(),"{hh}:{MM} {a}"),a=null;return r&&(a=WO.createElement(lg,{showAvatar:r,avatarUrl:n,className:"hs-message__avatar",fallbackAvatar:on.APP})),WO.createElement("div",{className:"hs-business-hours__message"},WO.createElement("div",{className:"hs-business-hours__message-item-wrapper"},a,WO.createElement("div",{className:"hs-business-hours__details-and-msg-wrapper"},WO.createElement("div",{className:"hs-business-hours__details"},WO.createElement("span",{className:"hs-business-hours__agent-name"},t.systemNickname),WO.createElement("span",{className:"hs-business-hours__timestamp"},o)),WO.createElement("div",{className:"hs-business-hours__item"},t.businessHoursContactFormMessage))))}},{key:"_renderContactForm",value:function(){var e,t,n=this.props,r=n.text,o=n.offlineBehaviour,a=n.contactFormSubmitted,i=n.onMinimizeConversation,s=r.businessHoursLeaveUsMsg;return o!==nR||a?(o===nR&&a?(e=r.businessHoursThankYouMessage,t=r.businessHoursReceivedMsg):(e=r.businessHoursOfflineMessage,t=r.businessHoursViewHeader),WO.createElement("div",{className:"hs-business-hours__form"},WO.createElement("div",{className:"hs-business-hours__form-title"},t),WO.createElement("div",{className:"hs-business-hours__form-content-wrapper"},WO.createElement("div",{className:"hs-business-hours__offline-message"},e,WO.createElement("div",{className:"hs-business-hours__close-btn"},WO.createElement("button",{className:"hs-button hs-business-hours__offline-close-btn",onClick:i},r.closeConversationBtn)))))):WO.createElement("div",{className:"hs-business-hours__form"},WO.createElement("div",{className:"hs-business-hours__form-title"},s),WO.createElement("div",{className:"hs-business-hours__form-content-wrapper"},WO.createElement("div",{className:"hs-business-hours__form-content"},WO.createElement("div",{className:"hs-business-hours__form-fields"},this._renderFormField(JO),this._renderFormField(ZO),this._renderFormField(eR),this._renderAttachments()),WO.createElement(BO,null),this._renderFormFooter())))}},{key:"_renderFormFooter",value:function(){var e,t,n=this.props,r=n.contactFormSubmitted,o=n.text,a=n.onMinimizeConversation,i=n.offlineBehaviour,s=n.allowFullScreen,u=n.contactFormDetails;i===nR&&r||i===rR?(etionBtn,t=function(){a()}):(e=WO.createElement("div",{className:"hs-business-hours__form-submit-btn"},WO.createElement("span",null,o.businessHoursSubmitBtn),WO.createElement(uh,{name:oh.ARROW_FORWARD,size:20,className:"hs-business-hours__arrow-icon"})),t=this.props.onSendButtonClick);var l=Jm("hs-business-hours__submit-btn-wrapper",{"hs-footer--full-screen":s}),c=u.attachments.some((function(e){return e.attachmentHasError})),p=u.attachmentsMeta,d=p.limitHasExceeded,f=p.sizeHasExceeded,E=d||f||!!c;return WO.createElement("div",{className:l},WO.createElement("button",{className:"hs-button hs-chat-footer__button",disabled:E,onClick:t},e))}},{key:"_renderFormField",value:function(e){var t=this.props.contactFormDetails[e],n=!!t.value.errorMsg;if(!t.enabled)return null;var r=this.props,o=r.text,a=r.contactFormDisabled,i="",s=null,u=null,l="";switch(e){case JO:i=o.businessHoursNameLabel,l="hs-form-field__input hs-business-hours__form-input",s=WO.createElement("input",{type:"text",disabled:a,className:l,placeholder:o.businessHoursNamePlaceholder,value:t.value.value,onChange:this.props.onNameChange,autoFocus:!oR,"aria-required":!0,"aria-invalid":n});break;case ZO:i=o.businessHoursEmailLabel,l="hs-form-field__input hs-business-hours__form-input",s=WO.createElement("input",{type:"email",disabled:a,className:l,placeholder:o.businessHoursEmailPlaceholder,value:t.value.value,onChange:this.props.onEmailChange,"aria-required":!0,"aria-invalid":n});break;case eR:i=o.businessHoursMessageLabel,l="hs-form-field__input hs-business-hours__text-area hs-business-hours__form-input",s=WO.createElement("textarea",{className:l,disabled:a,placeholder:o.businessHoursMessagePlaceholder,value:t.value.value,onChange:this.props.onMessageChange,"aria-required":!0,"aria-invalid":n})}var c=Jm("hs-form-field",{"hs-form-field--error":!!t.value.errorMsg});return t.value.errorMsg&&(u=WO.createElement(uh,{name:oh.ALERT_CIRCLE,size:20,className:"hs-form-field__error-icon"})),WO.createElement("div",{className:c},WO.createElement("div",{className:"hs-form-field__label hs-business-hours__form-label","aria-hidden":!0},i),s,u)}},{key:"_renderAttachments",value:function(){var e=this,t=this.props,n=t.contactFormDetails,r=n.attachments,o=n.attachmentsMeta,a=n.attachmentsMeta.featureIsEnabled,i=t.fullPrivacyEnabled;if(!a||i)return null;var s=null;if(r.length){var u=r.map((function(t){return e._renderAttachment(t)})),l=o.limitHasExceeded,c=o.sizeHasExceeded,p=o.attachmentsAreInvalid,d=Jm("hs-business-hours__attachment-wrapper",{error:l||c||p});s=WO.createElement("div",{className:d},u)}return WO.createElement("div",null,s,this._renderAttachmentErrors(),this._renderPlaceholderAttachment())}},{key:"_renderAttachment",value:function(e){var t=this.props,n=t.submitInProgress,r=t.text,o=r.ariaLabelAddedAttachmentPrefix,a=r.attachmentFileTypeError,i=r.attachmentDefaultError,s=t.onRemoveAttachmentClick,u=e.id,l=e.name,c=e.size,p=e.attachmentHasError,d=e.status,f=null,E=null;if(n)f=WO.createElement(uh,{name:oh.SPINNER,className:"hs-ion-icon--spinning",size:24});else{var y=Jm("hs-button--empty","hs-business-hours__remove-icon");f=WO.createElement("button",{className:y,onClick:function(){return s(u)}},WO.createElement(uh,{name:oh.CLOSE,size:24,className:"hs-business-hours__small-icon"}))}if(p){var m=d===cR.UNSUPPORTED_MEDIA_TYPE?a:i;E=WO.createElement("div",{className:"hs-business-hours__attachment-error"},WO.createElement(uh,{name:oh.ALERT_CIRCLE,size:20,className:"hs-business-hours__small-icon"}),WO.createElement("span",null,m))}var h=mo(l),g=po(c),_=Jm("hs-business-hours__attachment",{"hs-business-hours__attachment-with-error":p}),S=o.replace("{{file_name}}",", ".concat(l,", ").concat(c));return[WO.createElement("div",{className:_,key:u},WO.createElement("div",{className:"hs-business-hours__attachment-details-wrapper","aria-label":S},WO.createElement(uh,{name:oh.PAPER_CLIP,size:24}),WO.createElement("span",{className:"hs-business-hours__attachment-name","aria-hidden":!0},h),WO.createElement("span",{className:"hs-business-hours__attachment-size","aria-hidden":!0},"(",g,")")),f),E]}},{key:"_renderWidgetFooter",value:function(){var e=this.props,t=e.sdkConfigOptions,n=e.brandingFeatureIsEnabled;return oR||t.fullScreen||!n?null:WO.createElement(oO,null)}},{key:"_renderPlaceholderAttachment",value:function(){var e=this.props,t=e.onFilesChange,n=e.text,r=n.dndInfoText,o=n.ariaLabelAttachFiles,a=e.attachmentsWhitelist,i=e.contactFormDetails,s=i.attachmentsMeta,u=s.limitHasExceeded,l=s.sizeHasExceeded,c=i.attachments.some((function(e){return e.attachmentHasError})),p=u||l||c,d=a.join(", "),f=Jm("hs-business-hours__attachment-placeholder","hs-button--empty"),E=pR.BUSINESS_HOURS;return WO.createElement(Cg,{disabled:p,onChange:t,id:"upload-file-business-hour",multiple:!0,labelClasses:"hs-business-hours__attachment-placeholder-text",onSaveInputRef:this._saveInputRef,infoText:r,accept:d,buttonClasses:f,onButtonKeyDown:this._onKeyDown,buttonAriaLabel:o,source:E})}},{key:"_renderAttachmentErrors",value:function(){var e=this.props.contactFormDetails.attachmentsMeta,t=e.limitHasExceeded,n=e.sizeHasExceeded,r=e.attachmentsAreInvalid;if(!t&&!n&&!r)return null;var o=this.props.text,a=o.businessHoursAttachmentsLimitExceedMsg,i=o.businessHoursAttachmentsSizeExceedMsg,s=null,u=null;return t&&(s=this._renderAttachmentError(a)),n&&(u=this._renderAttachmentError(i)),WO.createElement("div",null,s,u)}},{key:"_renderAttachmentError",value:function(e){return WO.createElement("small",{className:"hs-business-hours__attachment-limit-error"},WO.createElement(uh,{name:oh.ALERT_CIRCLE,size:20,className:"hs-business-hours__small-icon"}),WO.createElement("span",null,e))}},{key:"_onKeyDown",value:function(e){e.keyCode!==cg&&e.keyCode!==Eg||this._fileInputRef&&this._fileInputRef.click()}}],r&&zO(n.prototype,r),o&&zO(n,o),t}(WO.PureComponent);dR.propTypes={text:sR,onFilesChange:GO.func.isRequired,attachmentIsEnabled:GO.bool.isRequired,offlineBehaviour:lR,contactFormSubmitted:GO.bool.isRequired,contactFormDisabled:GO.bool.isRequired,allowFullScreen:GO.bool,onMinimizeConversation:GO.func.isRequired,contactFormDetails:uR,fullPrivacyEnabled:GO.bool,submitInProgress:GO.bool.isRequired,onSendButtonClick:GO.func.isRequired,onNameChange:GO.func.isRequired,onEmailChange:GO.func.isRequired,onMessageChange:GO.func.isRequired,onRemoveAttachmentClick:GO.func.isRequired,attachmentsWhitelist:GO.array,personalisedConversationIsEnabled:GO.bool.isRequired,appAvatarUrl:GO.string,sdkConfigOptions:GO.shape({fullScreen:GO.bool}),brandingFeatureIsEnabled:GO.bool};var fR=qO({displayName:"BusinessHoursView",propTypes:{allowFullScreen:GO.bool,text:sR,contactFormDetails:uR,offlineBehaviour:lR,onMinimizeConversation:GO.func.isRequired,onKeyDown:GO.func,onClick:GO.func,onChangeBusinessHoursContactFormDetails:GO.func.isRequired,onSubmitBusinessHoursContactForm:GO.func.isRequired,onFilesChange:GO.func.isRequired,onRemoveAttachment:GO.func.isRequired,contactFormSubmitted:GO.bool.isRequired,contactFormDisabled:GO.bool.isRequired,submitInProgress:GO.bool.isRequired,fullPrivacyEnabled:GO.bool,keyboardInteractionIsActive:GO.bool.isRequired,attachmentsWhitelist:GO.array,personalisedConversationIsEnabled:GO.bool.isRequired,appAvatarUrl:GO.string,sdkConfigOptions:GO.shape({fullScreen:GO.bool}),showHeaderAvatar:GO.bool,contextIsLiteSdk:GO.bool,brandingFeatureIsEnabled:GO.bool},getInitialState:function(){return{blockingErrorIsVisible:!1}},render:function(){var e=this.props,t=e.text,n=e.onMinimizeConversation,r=e.onKeyDown,o=e.onClick,a=e.contactFormDetails,i=e.fullPrivacyEnabled,s=e.offlineBehaviour,u=e.contactFormSubmitted,l=e.contactFormDisabled,c=e.allowFullScreen,p=e.submitInProgress,d=e.keyboardInteractionIsActive,f=e.attachmentsWhitelist,E=e.personalisedConversationIsEnabled,y=e.showHeaderAvatar,m=e.appAvatarUrl,h=e.sdkConfigOptions,g=e.contextIsLiteSdk,_=e.brandingFeatureIsEnabled,S=a.attachmentsMeta.featureIsEnabled&&!i,v=Jm("hs-view",{"outline-hidden":!d});return WO.createElement("div",{className:v,onKeyDown:r,onClick:o},WO.createElement(xv,{fallbackComponent:this._renderHeaderFallback()},WO.createElement(GC,{title:t.businessHoursViewHeader,avatarUrl:m,fallbackAvatar:on.APP,showAvatar:y,contextIsLiteSdk:g})),WO.createElement(xv,{fallbackComponent:WO.createElement(ZC,null),onError:this._handleViewContentsError},WO.createElement(dR,{text:t,attachmentIsEnabled:S,onFilesChange:this._onFilesChange,offlineBehaviour:s,contactFormSubmitted:u,contactFormDisabled:l,allowFullScreen:c,onMinimizeConversation:n,contactFormDetails:a,fullPrivacyEnabled:i,submitInProgress:p,onSendButtonClick:this._onSendButtonClick,onNameChange:this._onNameChange,onMessageChange:this._onMessageChange,onEmailChange:this._onEmailChange,onRemoveAttachmentClick:this._onRemoveAttachmentClick,attachmentsWhitelist:f,personalisedConversationIsEnabled:E,appAvatarUrl:m,sdkConfigOptions:h,brandingFeatureIsEnabled:_})))},_renderHeaderFallback:function(){return this.state.blockingErrorIsVisible?null:WO.createElement(tO,null)},_onNameChange:function(e){this.props.onChangeBusinessHoursContactFormDetails(JO,e.target.value)},_onEmailChange:function(e){this.props.onChangeBusinessHoursContactFormDetails(ZO,e.targettails(eR,e.target.value)},_onSendButtonClick:function(){this.props.onSubmitBusinessHoursContactForm()}.onRemoveAttachment(e,t)},_onFilesChange:function(e){var t=this.props;(0,t.onFilesChange)(e,t.attachmentsWhitelist)}ckingErrorIsVisibld:n,value:r,errorMsg:o}},hR=function(){return function(e,n){var r,o,a=n(),i=a.appState,s=i.domain,u=i.tags,l=i.cif,c=i.metadata,p=i.fullPrivacyEnabled,d=i.developerSetLanguage,f=i.outboundSupportMeta,E=i.parentPageInfo,y=i.liteSdkConfig,h=a.businessHoursViewState,g=h.contactFormDetails,_=g.attachmentsMeta,S=g.attachments,v=g.message,b=g.name,T=g.email,I=h.inBusinessHours,A=v.value.value,C=null;_.featureIsEnabled&&S.length&&(C=S.map((function(e){return e.file})));var O={"message-body":A,email:T.value.value,in_business_hours:I,device_language:st()},R={device_info:yR(E)};u&&(R.custom_meta={"hs-tags":u}),c&&Object.keys(c).length&&(R.custom_meta=N()(R.custom_meta||{},{$merge:c})),f&&(R.outbound_support=f),(null==y||null===(r=y.metaData)||void 0===r?void 0:r.pluginVersion)&&(R.plugin_version=y.metaData.pluginVersion),(null==y||null===(o=y.metaData)||void 0===o?void 0:o.pluginType)&&(R.plugin_type=y.metaData.pluginType),O.meta=JSON.stringify(R),b.enabled&&(O.name=b.value.value),l&&Object.keys(l).length&&(O.custom_fields=JSON.stringify(l)),p&&(O.fp_status=!0),d&&(O.developer_set_language=d),uy({route:Nu(s),files:C,formData:e(rl(O)),headers:e(nl()),onSuccess:function(){e({type:t.BUSINESS_HOURS_FORM_SUBMIT_SUCCESS})},onFailure:function(n){var r=m(n,["responseData","data","attachments"]);if(r&&r.length){var o=gR(r);o.length&&e(Uu(o))}else e({type:t.OOBH_FORESS_HOURS_CONTACT_FORM})}})}},gR=function(e){var n=[];return e.forEach((function(e,r){var o,a;e.error&&n.push((o=r,a=e.status,{type:t.SET_BUSINESS_HOURS_ATTACHMENT_ERROR,attachmentIndex:o,status:a}))})),n},_R=mR,SR=function(){return function(e,n){var r=function(e){var t=e.contactFormDetails,n=[];for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(o.enabled){var a=new ER(o.value).isValid();a&&n.push(mR({field:r,errorMsg:a}))}}return n}(n().businessHoursViewState);r.length?e(Uu(r)):(e({type:t.DISABLE_BUSINESS_HOURS_CONTACT_FORM}),e(hR()))}},vR=function(e,n){return{type:t.ADD_BUSINESS_HOURS_ATTACHMENTS,files:e,at,attachmentsWhitelist:n}},TR=n(5363).connect((function(e){var t=e.appState,n=t.attachmentsWhitelist,r=t.featuresEnabled.personalisedConversationIsEnabled,o=t.appAvatarUrl,a=t.sdkConfigOptions,i=t.showHeaderAvatar,s=t.liteSdkConfig,u=e.businessHoursViewState,l=u.contactFormDetails,c=u.offlineBehaviour,p=u.contactFormDisabled,d=u.contactFormSubmitted,f=u.submitInProgress;return{contactFormDetails:l,text:e.ui.text,offlineBehaviour:c,contactFormDisabled:p,contactFormSubmitted:d,submitInProgress:f,fullPrivacyEnabled:e.appState.fullPrivacyEnabled,attachmentsWhitelist:n,personalisedConversationIsEnabled:r,appAvatarUrl:o,sdkConfigOptions:a,showHeaderAvatar:i,contextIsLiteSdk:!!(null==s?void 0:s.os)}}),(function(e){return{onChangeBusinee(_R({field:t,value:n}))},onSubmitBusinessHoursContactForm:function(){e(SR())},onFilesChange:function(t,n){e(vR(function(t,n){e(bR(t,n))}}}))(fR),IR=n(7294),AR=n(5697),CR=n(5363);function OR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function RR(){return RR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RR.apply(this,arguments)}var wR=IR.useState,PR=function(e){var t=RR({},e),n=OR(wR(!1),2),r=n[0],o=n[1],a=t.contextIsLiteSdk,i=t.appAvatarUrl,s=t.showHeaderAvatar,u=t.text,l=r?null:IR.createElement(tO,null);return IR.createElement("div",{className:"hs-view"},IR.createElement(xv,{fallbackComponent:l},IR.createElement(GC,{title:u.chatViewHeader,avatarUrl:i,fallbackAvatar:on.APP,showAvatar:s,contextIsLiteSdk:a})),IR.createElement(xv,{onError:function(){o(!0)},fallbackComponent:IR.createElement(ZC,null)},IR.createElement("div",{className:"hs-plan-limit"},IR.createElement("div",{className:"hs-plan-limit__icon"},IR.createElement(uh,{name:oh.MESSAGE_WARNING,size:148})),IR.createElement("div",{className:"hs-plan-limit__title"},u.planLimitHeading),IR.createElement("div",{className:"hs-plan-limit__description"},u.planLimitDescription))))};PR.propTypes={contextIsLiteSdk:AR.bool,showHeaderAvatar:AR.bool,appAvatarUrl:AR.string,text:AR.object};var NR=CR.connect((function(e){var t=e.appState,n=t.showHeaderAvatar,r=t.appAvatarUrl,o=t.liteSdkConfig;return{contextIsLiteSdk:!!(null==o?void 0:o.os),showHeaderAvatar:n,appAvatarUrl:r,text:e.ui.text}}),null)(PR),FR=n(7294),LR=n(5697),kR=n(5363);function MR(){return MR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MR.apply(this,arguments)}var DR=FR.useState,UR=function(e){var t=MR({},e),n=t.allowFullScreen,r=t.brandingFeatureIsEnabled,o=t.contextIsLiteSdk,a=t.appAvatarUrl,i=t.showHeaderAvatar,s=t.chatViewHeader,u=t.userAuthFailureMessageTitle,l=t.userAuthFailureMessageSubtitle,c=at(),p=DR(!1),d=p.blockingErrorIsShown,f=p.setBlockingErrorIsShown,E=d?null:FR.createElement(tO,null);return FR.createElement("div",{className:"hs-view"},FR.createElement(xv,{fallbackComponent:E},FR.createElement(GC,{title:s,avatarUrl:a,fallbackAvatar:on.APP,showAvatar:i,contextIsLiteSdk:o})),FR.createElement(xv,{onError:function(){return f(!0)},fallbackComponent:FR.createElement(ZC,null)},FR.createElement("div",{className:"hs-user-auth-failure-error",dir:"auto"},FR.createElement(uh,{name:oh.ALERT_CIRCLE,size:40,className:"hs-user-auth-failure-error__icon"}),FR.createElement("strong",{className:"hs-user-auth-failure-error__title","aria-label":u},u),FR.createElement("p",{className:"hs-user-auth-failure-error__subtitle","aria-label":l},l)),c||n||!r?null:FR.createElement(oO,null)))};UR.propTypes={allowFullScreen:LR.bool,brandingFeatureIsEnabled:LR.bool,appAvatarUrl:LR.string,showHeaderAvatar:LR.bool,contextIsLiteSdk:LR.bool,chatViewHeader:LR.string,userAuthFailureMessageTitle:LR.string,userAuthFailureMessageSubtitle:LR.string};var xR=kR.connect((function(e){var t=e.appState,n=t.showHeaderAvatar,r=t.appAvatarUrl,o=e.ui.text,a=o.chatViewHeader,i=o.userAuthFailureMessageTitle,s=o.userAuthFailureMessageSubtitle;return{contextIsLiteSdk:ry(),showHeaderAvatar:n,appAvatarUrl:r,chatViewHeader:a,userAuthFailureMessageTitle:i,userAuthFailureMessageSubtitle:s}}),null)(UR),HR=n(7294),jR=n(5697),VR=n(5363);function BR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var GR=HR.useState,WR=function(e){var t=e.contextIsLiteSdk,n=e.chatViewHeader,r=e.appErrorMessageTitle,o=e.appErrorMessageSubtitle,a=BR(GR(!1),2),i=a[0],s=a[1],u=i?null:HR.createElement(tO,null);return HR.createElement("div",{className:"hs-view"},HR.createElement(xv,{fallbackComponent:u},HR.createElement(GC,{title:n,contextIsLiteSdk:t})),HR.createElement(xv,{onError:function(){return s(!0)},fallbackComponent:HR.createElement(ZC,null)},HR.createElement("div",{className:"hs-app-error",dir:"auto"},HR.createElement(uh,{name:oh.ALERT_CIRCLE,size:40,className:"hs-app-error__icon"}),HR.createElement("strong",{className:"hs-app-error__title","aria-label":r},r),HR.createElement("p",{className:"hs-app-error__subtitle","aria-label":o},o))))};WR.propTypes={contextIsLiteSdk:jR.bool,chatViewHeader:jR.string,appErrorMessageTitle:jR.string,appErrorMessageSubtitle:jR.string};var qR=VR.connect((function(e){var t=e.ui.text,n=t.chatViewHeader,r=t.appErrorMessageTitle,o=t.appErrorMessageSubtitle;return{contextIsLiteSdk:ry(),chatViewHeader:n,appErrorMessageTitle:r,appErrorMessageSubtitle:o}}),null)(WR),$R=n(2555),zR=n(5697),YR=n(7294);function XR(){return XR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XR.apply(this,arguments)}var KR=$R({displayName:"ViewWrapper",propTypes:{activeView:zR.string.isRequired,allowFullScreen:zR.bool,keyboardInteractionIsActive:zR.bool.isRequired,onToggleOnlineStatus:zR.func.isRequired,onMinimizeConversation:zR.func.isRequired,onFocusLauncher:zR.func,onKeyDown:zR.func.isRequired,onClick:zR.func.isRequired,showLauncher:zR.bool,xhrEndedDueToNetworkDisconnect:zR.bool,onDeviceOnline:zR.func.isRequired,emojiWidgetIsOpened:zR.bool,toggleEmojiWidgetState:zR.func,brandingFeatureIsEnabled:zR.bool,handleFocusAndBlurForKeyboardDetection:zR.func},render:function(){return YR.createElement("div",{className:"hs-view-wrapper",onFocus:this._handleFocusAndBlurForKeyboardDetection,onBlur:this._handleFocusAndBlurForKeyboardDetection},this._renderActiveViewComponent())},_renderActiveViewComponent:function(){var e=this.props,t=e.allowFullScreen,n=e.keyboardInteractionIsActive,r=e.brandingFeatureIsEnabled,o={allowFullScreen:t,keyboardInteractionIsActive:n,onClick:this._onViewWrapperClick,onKeyDown:this._onViewWrapperKeyDown,brandingFeatureIsEnabled:r};switch(this.props.activeView){case U:return YR.createElement(PO,o);case x:return YR.createElement(UO,o);case H:return YR.createElement(TR,XR({},o,{onMinimizeConversation:this._onMinimizeConversation}));case j:return YR.createElement(NR,o);case V:return YR.createElement(xR,o);case B:return YR.createElement(qR,o);default:return null}},_handleFocusAndBlurForKeyboardDetection:function(e){if(!e.target.readOnly){if(["textarea","text","email","number"].includes(e.target.type)){var t="focus"===e.type;this.props.handleFocusAndBlurForKeyboardDetection(t)}}},_onViewWrapperKeyDown:function(e){var t=document.querySelectorAll('button, a[href], select, textarea,\n      [tabindex]:not([tabindex="-1"]), input:not([id^=upload-file])'),n=t[0],r=t[t.length-1];e.shiftKey&&e.keyCode===yg?document.activeElement===n&&(r.focus(),e.preventDefault()):e.keyCode===yg&&document.activeElement===r&&(n.focus(),e.preventDefault())onMinimizeConversation()},_onOnline:function(){var e=this.props,t=e.onToggleOnlineStatus,n=e.xhrEndedDueToNetworkDisconnect,r=e.onDeviceOnlineonToggleOnlineStatus(!1)},_onViewWrapperClick:function(e){var t;this.props.onClick({keyboardInteractionIsActive:!1});var n=null===(t=document.querySelector(".hs-emoji-widget"))||void 0===t?void 0:t.contains(e.target);this.props.emojiWidgetIsOpened&&!n&&this.props.toggleEmojiWidgetState()},componentDidMount:function(){window.addEventListener("online",this._onOnline),window.addEventListener("offline",this._onOffliffline",this._onOffline)}}),QR=n(5363).connect((function(e){var t=e.appState,n=t.activeView,r=t.sdkConfigOptions,o=r.fullScreen,a=r.showLauncher,i=t.keyboardInteractionIsActive,s=t.featuresEnabled.branding,u=e.chatView;return{activeView:n,allowFullScreen:o,keyboardInteractionIsActive:i,showLauncher:a,xhrEndedDueToNetworkDisconnect:u.xhrEndedDueToNetworkDisconnect,emojiWidgetIsOpened:u.emojiWidgetIsOpened,brandingFeatureIsEnabled:s}}),(function(e){return{onToggleOnlineStatus:function(t){e(_l(t))},onMinimizeConversation:function(){e(ps(!0))},onFocusLauncher:function(){e(Cs())},onKeyDown:function(t){var n=t.keyboardInteractionIractionIsActive;e(Cl(n))},onDeviceOnline:function(){e(Ml())},toggleEmojiWidgetState:function(){e(Dl())},handleFocusAnion:function(t){e(Gs(t))}}}))(KR),JR=n(5363),ZR=n(2555),ew=n(7294),tw=n(3935),nw=JR.Provider,rw=!1,ow=ZR(w.createElement(QR,null)},componentDidMount:function(){rwUnmount:function(){rw=!1}}),aw=function(){return rw},iw=function(){tw.render(ew.createElement(nw,{store:ey},ew.createElement(xv,{fallbackComponent:ew.createElement(ZC,null)},ew.createElement(ow,null))),document.getElementById("app"))};function sw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sw(Object(n),!0).forEach((function(t){lw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cw=G,pw=function(e){var t,n,r,o,a,i,s,u,l,c,p,d,f,E=ey.getState().appState,y=E.liteSdkConfig,m=E.platformId,h=E.domain,g=E.localStorageMigrationStatus,_=E.anonUserIdentifier,S=E.userId,v=E.parentPageInfo,b=new(vc()),T=!!(null==y?void 0:y.os);return{metrics:JSON.stringify(uw({},e,{client_type:null!==(t=null==y?void 0:y.os)&&void 0!==t?t:"web",network_type:null!==(n=null!==(r=null==y||null===(o=y.metaData)||void 0===o?void 0:o.networkType)&&void 0!==r?r:null===(a=navigator)||void 0===a||null===(i=a.connection)||void 0===i?void 0:i.effectiveType)&&void 0!==n?n:"N/A",extra:JSON.stringify({browser:b.getBrowser(),device:b.getDevice(),os:b.getOS(),userAgent:window.navigator.userAgent,localStorageMigrationStatus:T?void 0:g,userIdentifier:S||_,parentPageInfo:v}),client_version:(null==y?void 0:y.os)?null==y||null===(s=y.metaData)||void 0===s?void 0:s.liteSdkVersion:cw,browser:null!==(u=null==b||null===(l=b.getBrowser())||void 0===l?void 0:l.name)&&void 0!==u?u:"N/A",device:null!==(c=null==b||null===(p=b.getDevice())||void 0===p?void 0:p.model)&&void 0!==c?c:"N/A",os:null!==(d=null==b||null===(f=b.getOS())||void 0===f?void 0:f.name)&&void 0!==d?d:"N/A",release_tag:cw,domain:h})),"platform-id":m}},dw=function(e){var t,n,r=e.loadTimeIsInitial,o=e.loadTimeInMs,a=e.nativeLoadTimeInMs,i=e.nativeLoadSource,s=e.jsLoadTimeInMs,u=e.configLoadTimeInMs,l={load_time:Math.trunc(o),native_load_time:Math.trunc(a),config_load_time:Math.trunc(u),js_load_time:Math.trunc(s),first_load:r,native_load_source:i};t=l,(n=ey.getState().appState.domain)&&yu({route:Mu(n),method:"POST",data:pw(t)})};function fw(e){return fw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fw(e)}var Ew=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("string"!=typeof e)return $y("Expected JSON to be in string format, received ".concat(fw(e))),{};try{var n=e;t&&(n=yw(e));var r=JSON.parse(n);return"object"!==fw(r)?($y("Parsing the JSON resulted in a ".concat(fw(r)," output. Expected: string")),{}):r}catch(t){return $y("Failed to parse the received JSON string: ".concat(e)),{}}},yw=function(e){return e.replace(/\n/g,"\\n").replace(/\t/g,"\\t")},mw="onKeyboardOpen",hw="onKeyboardClose",gw="onOrientationPortrait",_w="onOrientationLandscape",Sw="onNetworkStatusOnline",vw="onNetworkStatusOffline",bw=function(){try{return!!(sessionStorage&&sessionStorage.getItem&&sessionStorage.removeItem&&sessionStorage.setItem)}catch(e){return!1}},Tw=function(e){return bw()?sessionStionStorage.removeItem(e)},Aw=Ee,Cw=function(e){if(e===Aw.MAX_ATTACHMENT_COUNT_EXCEEDED){var t=ey.getState(),n=t.chatView,r=t.ui.text.attachmentLimitReached,o=n.nativeFilesRequestContext.source;ey.dispatch($o({type:Aw.MAX_ATTACHMENT_COUNT_EXCEEDED,message:wo(r,o)}))}};function Ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ow(Object(n),!0).forEach((function(t){ww(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ow(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ww(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pw=W,Nw=X,Fw=G,Lw=$,kw=te,Mw=Hu.EVENT,Dw="logged-in",Uw="anonymous",xw=ba,Hw=Ra,jw=at(),Vw=function(e){var t=ey.dispatch,n=e.parentPageInfo,r=e.clientConfig,o=e.trigger,a=!!r.liteSdkConfig&&!!r.liteSdkConfig.os,i=null;!function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Yc(Cc.WINDOW_CLIENT_CONFIG_SET,"window.clientConfig is get inside _handleReEngagement",{data:window.clientConfig,domain:null==e?void 0:e.domain,parentPageUrl:r});var o=null===(t=window)||void 0===t||null===(n=t.clientConfig)||void 0===n?void 0:n.truncatedPlatformId;if(Aa(xw.RE_ENGAGEMENT_REDIRECTED)||Tw(xw.RE_ENGAGEMENT_REDIRECTED+":".concat(o))){var a=Aa(xw.RE_ENGAGEMENT_DATA,!0)||Ew(Tw(xw.RE_ENGAGEMENT_DATA+":".concat(o)));if(a.uid||a.email){var i=ey.dispatch,s=!function(){return 0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").indexOf("hsft_anon_")}(a.uid)||!!a.email;e.userId||e.userEmail?s?e.userId===a.uid||e.userEmail===a.email?i(Fl(!0)):i(bs({originalState:Dw,pageUrl:a.last_session_url})):i(bs({originalState:Uw,pageUrl:a.last_session_url})):s?i(bs({originalState:Dw,pageUrl:a.last_session_url})):(Ia(xw.ANON_USER_ID,a.uid),i(Fl(!0))),i(Mm(a.re_engagement_id)),Ca(xw.RE_ENGAGEMENT_REDIRECTED),Ca(xw.RE_ENGAGEMENT_DATA),Iw(xw.RE_ENGAGEMENT_REDIRECTED+":".concat(o)),Iw(xw.RE_ENGAGEMENT_DATA+":".concat(o))}}}(y({},r),n.url),r.liteSdkConfig&&(t(kl(r)),i=r.liteSdkConfig.deviceId),t(km(n)),t(Pm(r)),t(Rm({deviceId:i,isLiteSdk:a})),t(hc()),t(wm(r)),t(Nm({trigger:o,helpshiftConfig:r}))},Bw=Xd((function(){ey.dispatch(Vy({trigger:Nw.UPDATE_HELPSHIFT_CONFIG_API,loading:!0,callback:function(){Um(),jy.stopPollingForMessages(),pp.abortCreatePreissueXhr()}}))}),40,!1),Gw=function(e,n){var r,o,a,i,s;switch(e){case Ti:var u,l,c,p,d,f;if(n.trigger===Lw.RESET)Yc(Cc.WINDOW_CLIENT_CONFIG_SET,"window.clientConfig set in the trigger reset flow",{domain:null==n||null===(u=n.clientConfig)||void 0===u?void 0:u.domain,platformId:null==n||null===(l=n.clientConfig)||void 0===l?void 0:l.platformId}),window.clientConfig={domain:n.clientConfig.domain,truncatedPlatformId:n.truncatedPlatformId};if(Vw(n),null==n||null===(r=n.clientConfig)||void 0===r||null===(o=r.liteSdkConfig)||void 0===o||null===(a=o.metaData)||void 0===a?void 0:a.liteSdkVersion.startsWith("3."))B(zc({message:"Incorrect lite sdk version received from native layer",stack:"lite sdk metadata : ".concat(null==n||null===(c=n.clientConfig)||void 0===c||null===(p=c.liteSdkConfig)||void 0===p?void 0:p.metaData,",\n\n            domain: ").concat(null==n||null===(d=n.clientConfig)||void 0===d?void 0:d.domain,",\n\n            platformId: ").concat(null==n||null===(f=n.clientConfig)||void 0===f?void 0:f.platformId)}));break;case bi:!function(e){var t=e.widgetHasMinimized,n=e.trigger,r=ey.dispatch,o=ey.getState;r(Fm(t));var a=o(),i=a.appState,s=i.issueExists,u=i.widgetShouldAutoOpen,l=i.parentPageIsVisible,c=i.liteSdkConfig,p=i.conversationStarted,d=a.chatView.pollingStrategy;!!c.os&&r(jy.handleParentPageVisibilityChange({pollingStrategy:d,widgetIsMinimized:t,parentPageIsVisible:l})),t||(aw()||iw(),r(Np.markMessagesSeen()),r(Ec(Mw.WIDGET_OPEN,{trigger:n})),p||s||r(Np.startNewConversation({resetSessionId:!1})),u&&r(Flssage;ey.dispatch(Il(t))}(n);break;case Li:s=n.respectPfi,Ia(xw.RESPECT_PFI,s);break;case ki:Ca(xw.RESPECT_PFI);break;case Ai:ey.dispatch(cl(n.message));break;case Ci:ey.dispatch(pl(n.language));break;case Oi:ey.dispatch(dl(n.cifData));break;case Ri:ey.dispatch(fl(n.metadata));break;case wi:ey.dispatch(Lm(n.cifData));break;case Pi:ey.dispatch(gl(n.enabled));break;case Ni:Yc(Cc.DEBOUNCED_CLIENT_CONFIG_UPDATE,"Entered the debouncing config update flow"),Bw();break;case Fi:var E=ey.getState(),y=E.appState.minimized,m=E.chatView.pollingStrategy;ey.dispatch(Ll(n.parentPageIsVisible)),ey.dispatch(jy.handleParentPageVisibilityChange({pollingStrategy:m,widgetIsMinimized:y,parentPageIsVisible:n.parentPageIsVisible}));break;case Mi:var h=ey.getState(),g=h.appState,_=g.issueState,S=g.featuresEnabled.feedbackBot,v=h.chatView.agentFollowup,b=v.supported,T=v.expired;if(ya("TEMP_APP_SDKX_VISIBILITY_CHANGE",{status:n.status}),n.status){var I=_===Pw.CLOSED||_===Pw.NA,A=_===Pw.ACTIVE,C=_===Pw.RESOLVED||_===Pw.CLOSED;(b&&!T&&C||S&&!A&&!I||A)&&jy.startPollingForMessages()}else jy.stopPollingForMessages();break;case Di:var O=ey.getState().appState,R=O.liteSdkConfig,w=O.featuresEnabled,P=!(!R||!R.os);(n.fromLiteSdk||jw&&!P)&&w.authorPresenceDetectionIsEnabled&&Cd.toggleAuthorPresenceDetection(n.authorIsOnline);break;case xi:Wy("Syncing conversation metadata (breadcrumb and debug logs)","JS API"),Wy("Received this from SDK: ".concat(n.conversationMetadata),"JS API");var N=Ew(n.conversationMetadata);Wy("Breadcrumbs after parsing: ".concat(JSON.stringify(N.bcl,null,2)),"JS API"),Wy("Debug logs after parsing: ".concat(JSON.stringify(N.dbgl,null,2)),"JS API"),ey.dispatch(Hm({bcl:N.bcl||[],dbgl:N.dbgl||[]}));break;case Ui:ey.getState().appState.activeView===x&&ey.dispatch(jy.switchToChatView());break;case Hi:ey.dispatch(function(e,t){return").replace(/\t/g,"\\t")}(e),s=JSON.parse(i),u={message:"SDKX Migration errors",stack:(o=s.logs,a=o.map((function(e){var t=e.timestamp,n=e.message,r=e.error,o=new Date(t).toISOString(),a=r.split("\n").slice(0,20).join("\n");return"".concat(n," AT ").concat(o,"\n").concat(a)})),a.join("\n\n"))},l={migrationState:s.migration_state,did:s.did};yu({route:Du(),method:"POST",data:Dc({error:u,extraData:l,getState:r,events:qc}),onSuccess:fuFailure:function(){t(!1)}})}}(n.message,(function(e){ey.dispatch(xs(e))})));break;case ji:var F=ey.getState().appState.releaseTag,L=!F||F!==Fw;if(L&&(Yc(Cc.WINDOW_CLIENT_CONFIG_SET,"window.clientConfig is get inside CMD_UPDATE_RELEASE_TAG_AND_TRACK_FIRST_LOAD_TIME",{data:window.clientConfig,domain:null==n?void 0:n.domain,parentPageUrl:null==n?void 0:n.parentPageUrl}),Ia(xw.RELEASE_TAG,Fw)),pa.isLocalStorageSupported()){var k={loadTimeIsInitial:L,loadTimeInMs:n.loadTimeInMs,nativeLoadTimeInMs:n.nativeLoadTimeInMs,nativeLoadSource:n.nativeLoadSource,jsLoadTimeInMs:n.jsLoadTimeInMs,configLoadTimeInMs:n.configLoadTimeInMs};window.ENV_NAME===Ac.PRODUCTION?dw(k):console.log(JSON.stringify(k))}break;case Vi:var M=ey.dispatch,D=ey.getState().chatView.nativeFilesRequestContext,U=function(e){if("string"!=typeof e)return{};try{return JSON.parse(e)}catch(e){return{}}}(n.message);if(!vo(U,null==D?void 0:D.eventId))return;M(mg(null==U?void 0:U.remainingCount,null==U?void 0:U.files.length));var H=U.files.map((function(e){return Rw({},e,{name:e.name?e.name:To(e.data,e.name,e.mimeType)})),V=No(H);M(jy.largeAttachmentsReceivedFromIos(V)),Promise.allSettled(j).then((furn"fulfilled"===e.status})).map((function(e){return e.value}));M(jy.convertedBase64Strinon(e){ey.dispatch(zc(e))}));break;case qi:var B=ey.dispatch,G=ey.getState,W=n.clientConfig,q=W.domain,$=W.truncatedPlatformId;if(Yc(Cc.WINDOW_CLIENT_CONFIG_SET,"window.clientConfig set in cmd-set-migrated-local-storage-data flow",{domain:q}),window.clientConfig={domain:q,truncatedPlatformId:$},null===(i=G().appState.liteSdkConfig)||void 0===i?void 0:i.os)return void B(js());var z=Aa(xw.MIGRATION_STATUS),Y="";if(null!==z)z===Hw.SUCCESS?Y=Hw.ALREADY_MIGRATED:z===Hw.NOT_NEEDED&&(Y=Hw.SUBSEQUENT_LOAD_FOR_NEW_USER);else if(n.lsData&&Object.keys(n.lsData).length){var X=Rw({},n.lsData,{ms:Hw.SUCCESS}((function(e){Ia(e,X[e])})),Y=Hw.SUCCESS}else Ia(xw.MIGRATION_STATUS,Hw.NOT_NEEDED),Y=Hw.NOT_NEEDED;B(js()),B({type:t.LOCAL_STORAGE_MIGRATION_SUCCESS,payload:{localStorageMigrationStatus:Y}});break;case Bi:"open"===n?(Wy("Keyboard toggled open","JS API"),en.dispatchEventOnWindow(mw)):"close"===n&&(Wy("Keyboard toggled close","JS API"),en.dispatchEventOnWindow(hw));break;case Gi:"portrait"===n?(Wy("Orientation portrait","JS API"),en.dispatchEventOnWindow(gw)):"landscape"===n&&(Wy("Orientation landscape","JS API"),en.dispatchEventOnWindow(_w));break;case Wi:"online"===n?(Wy("Network online","JS API"),en.dispatchEventOnWindow(Sw)):"offline"===n&&(Wy("Network offline","JS API"),en.dispatchEventOnWindow(vw));break;case $i:var K=ey.getState(),Q=K.appState.issueState,J=K.chatView.legacyResolutionQuestionIsVisible;Q===Pw.ACTIVE||J||n.source!==kw.PROACTIVE||(ey.dispatch(kl(n)),ey.dispatch(Pm(n)),Q===Pw.NA&&ey.dispatch(Np.startNewConversation({resetSessionId:!1,shouldAddGreetingMessage:!1,shouldAddDateSeparator:!1})));break;case zi:var Z=Ew(n);Cw(Z.name,Z.info)}},Ww=n(7856),qw=n.n(Ww),$w=function(e){var t=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];this.addEventListener("load",(function(){var t=r[0],n=r[1];this&&e(this.status,t,n)})),t.apply(this,r)}},zw=ey.dispatch,Yw=Cc.CLICK_EVENT,Xw=Cc.XHR_EVENT,Kw=Cc.UPDATE_XHR_EVENT,Qw="https://webchat.helpshift.com/latest",Jw=function(){window.addEventListener("focus",(function(){zw(Dm(!0)),zw(Np.markMessagesSeen())}),!1),window.addEventListener("blur",(function(){zw(Dm(!1))}),!1)},Zw=function(){qw().addHook("bute("xlink:show","new")}))},eP=function(){Ea("LS_UPDATE",(function(e){var t=e.data;e.type===Ta.SET?ey.dispatch(Os(t)):e.type===Ta.REMOVE&&(ey.dispatch(Rs(t)),-1===t.data.indexOf(ba.ANON_USER_ID)||ey.dispatch(De(ls))||ey.dispatch(Fs()))}))},tP=function(){window.addEventListener("error",(function(e){var t=e.error;t||(t={message:e.message}),ey.dispatch($c({error:t}))}))},nP=function(){document.addEventListener("click",(function(e){var t=qA(e.target,"BUTTON");t&&Yc(Yw,t.className);var n=qA(e.target,"A");n&&Yc(Yw,n.className)}));$w((function(e,t,n){n.includes("/conversations/updates")&&e<300&&"POST"===t?Yc(Kw,n,{status:e,method:t}):Yc(Xw,n,{status:e,method:t})}))},rP=function(){var e=pa.getItem,t=new URL(Qw);pa.getItem=function(){(null==arguments?void 0:arguments.length)&&arguments[0]===ba.USER_FREQUENTLY_USED_EMOJIS&&window.origin===t.origin&&(arguments[0]=arguments[0]+":".concat(window.clientConfig.truncatedPlatformId));var n=null;try{n=JSON.parse(JSON.stringify(e.apply(this,arguments)))}catch(e){}return n}},oP=function(){var e=pa.setItem,t=new URL(Qw);pa.setItem=function(){(null==arguments?void 0:arguments.length)&&arguments[0]===ba.USER_FREQUENTLY_USED_EMOJIS&&window.origin===t.origin&&(arguments[0]=arguments[0]+":".concat(window.clientConfig.truncatedPlatformId)),e.apply(this,arguments)}};function aP(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var iP=function(e,t){return"isVersionGte"===e?ke.apply(void 0,aP(t)):($y("Function ".concat(e," does not exist or is forbidden")),"DUPLEX_CALL_NOT_FOUND")},sP=function(e,t){var n=iP(e,t);ey.dispatch(Ws({fn:e,value:n}))};window.addEventListener("message",(function(e){var t,n,r=es(window.document.location);if(e.origin===r.get("parent"))try{var o=JSON.parse(e.data);t=o.type,n=o.data}catch(e){}finally{t&&t===Yi?sP(n.fn,n.args):t&&Gw(t,n)}}),!1),Jw(),Zw(),eP(),tP(),nP(),rP(),oP(),ey.dispatch(ms())}()}();
//# sourceMappingURL=main.js.map