Object.freeze=Object.freeze||window.CustomEvent=window.CustomEvent||),this,(function(){var NINJA_CDN="https://ninja.data.olxcdn.com",SPLITTER_CDN="https://laquesis.data.olxcdn.com",JSQR_URL="https://unpkg.com/jsqr@1.4.0/dist/jsQR.js",WEB_VITALS_URL="https://unpkg.com/web-vitals@3.3.1/dist/web-vitals.iife.js",LAQUESIS_QA_URL=NINJA_CDN+"/next/laquesisqa.js",LAQUESIS_SURVEY_URL=NINJA_CDN+"/next/laquesisSurvey.js",trackingMap={H:"hydra",hydra:"hydra",GA:"ga",ga:"ga",WA:"wa",wa:"wa",M:"mixpanel",mixpanel:"mixpanel",CT:"clevertap",clevertap:"clevertap",G:"gtm",gtm:"gtm",LQ:"laquesis",laquesis:"laquesis",GTAG:"gtag",F:"facebook",facebook:"facebook",BRAZE:"braze"},Trackers={H:"H",LQ:"LQ",M:"M",GTM:"G",GA:"GA",GTAG:"GTAG",CT:"CT",BRAZE:"BRAZE",F:"F",AF:"A",AD:"AD",NR:"NR"},EVENTS={LAQUESIS_READY:"laquesis/ready",LAQUESIS_FLAG_ASSIGNMENT:"laquesis/flagAssignment",LAQUESIS_EXP_ASSIGNMENT:"laquesis/experimentAssignment",LAQUESIS_EXP_IMPRESSION:"laquesis/experimentImpression"},ChannelName={Mobile:"mobile-html5",Desktop:"desktop"},C;*! js-cookie v3.0.5 | MIT */C||(C={})),"function"==typeof SuppressedError&&SuppressedError;var o$2={read:write:,{path:"/"}),i$1=[];unction c(e){return i$1.push(e),u.bind(null,e)}function a$1(){return n$1(this,void 0,void 0,(function(){var e;return t$1(this,(function(n){return o$2.get("OptanonAlertBoxClosed")?[2]:[2,new Promise(().then(e)]}))}))}function f(){var e=window.OnetrustActiveGroups||C.C0001;return e?e.split(",").filter(():[]}unction r$1(e,n){if(e[n])return e[n];var a=Object.keys(e).find((function(e){var a=e.replace(/\$\{.+?\}/g,"\\S+");return!!new RegExp("^"+a+"$").test(n)}));return a?e[a]:null}"undefined"!=typeof window&&function(e){var n=window.OptanonWrapper;window.OptanonWrapper=((function(){i$1.forEach(()}));var n=o$1=function(e,a,t){var i=r$1(e,a);return i?i.every((function(e){return s$1(e)})):(t&&console.error(n(a)),!1)},o,t,s;function i(e,n,a){return{set:function(t,i,r){if(!e||n&&o$1(n,t,a))return o$2.set(t,i,r)},get:function(t){if(!e||n&&o$1(n,t,a))return o$2.get(t)},remove:}!t||(t={})),s||(s={}));var a=((o={})[t.OLX]="olx",o[t.RE]="real-estate",o[t.Motors]="motors",o);function r(e,n){return"https://eprivacy-storage.".concat(n===s.STG?"staging-":"","eu-sharedservices.olxcdn.com/data/").concat(a[e],"/cookies.json")}var configTracking=window.configTracking,cookieDomain,environment;function defaultValue(e,n){return configTracking&&Object.prototype.hasOwnProperty.call(configTracking,e)?configTracking[e]:n}environment=configTracking&&configTracking.environment&&configTracking.environment.length>0?configTracking.environment:"production","production"===environment?configTracking&&configTracking.siteUrl&&(cookieDomain=configTracking.siteUrl.match(/^[\w\d\-]+\.(.*)/),cookieDomain=null===cookieDomain?configTracking.siteUrl:cookieDomain[1]):cookieDomain=window.location.hostname||null,window.dataLayer=window.dataLayer||[],window.dataLayerDelayed=window.dataLayerDelayed||[];var ninjaConfig={environment:environment,cookieDomain:cookieDomain,specialNames:["trackPage","trackEvent","trackLinkEvent","cleanup","event","processed"],siteUrl:defaultValue("siteUrl",""),callBack:defaultValue("backendCallBack",null),platform:defaultValue("platform",null),debug:defaultValue("debug",null),unitTest:defaultValue("unitTest",!1),custom:defaultValue("setup",null),plugins:defaultValue("plugins",null),dataLayer:window[defaultValue("dataLayer","dataLayer")],dataLayerDelayed:window[defaultValue("dataLayerDelayed","dataLayerDelayed")],laquesisQa:defaultValue("laquesisQa",null),disablePropertyPropagation:defaultValue("disablePropertyPropagation",!1),disableDefaultTrackPage:defaultValue("disableDefaultTrackPage",!1),debugEnableLogging:defaultValue("debugEnableLogging",!1),debugLogPercentage:defaultValue("debugLogPercentage",.01),userId:defaultValue("userId",null),getEprivacySDK:defaultValue("getEprivacySDK",null)},regionConfig={map:{trackPage:{N:{H:"eN"}},trackEvent:{N:{H:"eN"}},aid_uc:{N:{H:"aid_uc"}},bR:{N:{H:"bR"}},c:{N:{H:"c"}},cC:{N:{H:"cC"}},channel:{N:{H:"channel"}},ciam_error_reason:{N:{H:"ciam_error_reason"}},ciam_response:{N:{H:"ciam_response"}},ciam_result:{N:{H:"ciam_result"}},ciam_user_identifier_type:{N:{H:"ciam_user_identifier_type"}},cl:{N:{H:"cl"}},client_id:{N:{H:"client_id"}},client_s:{N:{H:"client_s"}},client_sl:{N:{H:"client_sl"}},cP:{N:{H:"cP"}},deeplinkAction:{N:{H:"deeplinkAction"}},deeplinkActivity:{N:{H:"deeplinkActivity"}},deeplinkSrc:{N:{H:"deeplinkSrc"}},deeplink_url:{N:{H:"deeplink_url"}},dt:{N:{H:"dt"}},eN:{N:{H:"eN"}},env:{N:{H:"env"}},flag_definition:{N:{H:"flag_definition"}},gaid:{N:{H:"gaid"}},hash:{N:{H:"hash"}},host:{N:{H:"host"}},ifv:{N:{H:"ifv"}},install_referrer:{N:{H:"install_referrer"}},iv:{N:{H:"iv"}},ivd:{N:{H:"ivd"}},js:{N:{H:"js"}},laqVer:{N:{H:"laqVer"}},login_error_response:{N:{H:"login_error_response"}},mfa:{N:{H:"mfa"}},mv:{N:{H:"mv"}},nc:{N:{H:"nc"}},newsletter_signup_value:{N:{H:"newsletter_signup_value"}},ninjaVer:{N:{H:"ninjaVer"}},platform:{N:{H:"platform"}},provider:{N:{H:"provider"}},reason:{N:{H:"reason"}},redirect_uri:{N:{H:"redirect_uri"}},referer:{N:{H:"referer"}},registration_error_reason:{N:{H:"registration_error_reason"}},response:{N:{H:"response"}},result:{N:{H:"result"}},rT:{N:{H:"rT"}},s:{N:{H:"s"}},signup_result:{N:{H:"signup_result"}},site_code:{N:{H:"site_code"}},sl:{N:{H:"sl"}},t:{N:{H:"t"}},test_definition:{N:{H:"test_definition"}},test_name:{N:{H:"test_name"}},test_variation:{N:{H:"test_variation"}},tN:{N:{H:"tN"}},v:{N:{H:"v"}},value:{N:{H:"value"}}},trackers:[],plugins:[],config:{H:{ignoreParams:["call","bind","push","prototype","landing_page","itemTitle","itemPrice","imageUrl","pageUrl","pagecat","dynx_itemid","dynx_totalvalue","dynx_pagetype","isseller","google_tag_params","_trackPageview","page_type","is_lister","city","loggedin"],triggeredEvents:["eN","eN","test_impression"],knownParameters:["aid_uc","bR","c","cC","channel","ciam_error_reason","ciam_response","ciam_result","ciam_user_identifier_type","cl","client_id","client_s","client_sl","cP","deeplinkAction","deeplinkActivity","deeplinkSrc","deeplink_url","dt","eN","env","flag_definition","gaid","hash","host","ifv","install_referrer","iv","ivd","js","laqVer","login_error_response","mfa","mv","nc","newsletter_signup_value","ninjaVer","platform","provider","reason","redirect_uri","referer","registration_error_reason","response","result","rT","s","signup_result","site_code","sl","t","test_definition","test_name","test_variation","tN","v","value"],defaultTrackEvent:!0,defaultUseParameter:!1,eprivacy_scope:"OLX",platform_property:"platform"},M:{defaultTrackEvent:!1,defaultUseParameter:!1},CT:{defaultTrackEvent:!1,defaultUseParameter:!1},EX:{defaultTrackEvent:!1,defaultUseParameter:!1},G:{defaultTrackEvent:!1,defaultUseParameter:!1},GA:{defaultTrackEvent:!1,defaultUseParameter:!1}},custom:{"www.login.olx.com":{trackers:[],plugins:["LQ"],config:{H:{path:"eu-ciam-web",error_path:"eu-ciam-err",survey_path:"eu-ciam-surveys",vitals_path:"eu-ciam-vitals",params:{bR:"ciam",cC:"DE"},vitals:!0}}},"login.olx.com":{trackers:[],plugins:["LQ"],config:{H:{path:"eu-ciam-web",error_path:"eu-ciam-err",survey_path:"eu-ciam-surveys",vitals_path:"eu-ciam-vitals",params:{bR:"ciam",cC:"DE"},vitals:!0}}}},version:"1.0.36"},b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b64re=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,hydraConfig;function atob(e){if("function"==typeof window.atob)return window.atob(e);var n,a=String(e).replace(/[\t\n\f\r ]+/g,"");if(!b64re.test(a))throw new TypeError("Failed to execute atob: The string to be decoded is not correctly encoded.");a+="==".slice(2-(3&a.length));for(var t,i,r="",o=0;o<a.length;)n=b64.indexOf(a.charAt(o++))<<18|b64.indexOf(a.charAt(o++))<<12|(t=b64.indexOf(a.charAt(o++)))<<6|(i=b64.indexOf(a.charAt(o++))),r+=64===t?String.fromCharCode(n>>16&255):64===i?String.fromCharCode(n>>16&255,n>>8&255):String.fromCharCode(n>>16&255,n>>8&255,255&n);return r}function eucex(e){var n;try{n=encodeURIComponent(decodeURIComponent(e))}catch(e){n=""}return n}function deucex(e){var n;try{n=decodeURIComponent(e)}catch(e){n=""}return n}function loadScript(e,n,a,t){var i,r,o,s,c="createElement";n&&document.getElementById(n)?a&&a(e):"function"==typeof document[c]&&((i=document[c]("script")).type="text/javascript",i.async=!0,n&&(i.id=n),a&&(i.readyState?i.onreadystatechange=i.onload=function(){a(e)}),e&&(i.src=e),t&&(i.innerHTML=t),r=document.getElementsByTagName("head"),o=document.getElementsByTagName("body"),s=document.getElementsByTagName("script"),r&&r[0]?r[0].appendChild(i):o&&o[0]?o[0].appendChild(i):s&&s[0]&&s[0].parentNode&&s[0].parentNode.insertBefore(i,s[0]))}function getCurrentPath(){var e=window.location.pathname;return"/"===e.charAt(0)&&e.length>1&&(e=e.slice(1)),"/"===e.charAt(e.length-1)&&e.length>1&&(e=e.slice(0,e.length-1)),e.search(/\./)>0&&(e=e.replace(/(\.[a-z]+$)/,"")),"/"!==e&&""!==e||(e="home"),e}unction inArray(e,n){if(Array.prototype.includes)return e.includes(n);var a,t=e.length;for(a=0;a<t;a+=1)if(e[a]===n)return!0;return!1}function indexOf(e,n,a){if(null==e)throw TypeError("indexOf called on null or undefined");if(Array.prototype.indexOf)return e.indexOf(n,a);var t=Object(e),i=t.length>>>0,r=Math.min(0|a,i);if(r<0)r=Math.max(0,i+r);else if(r>=i)return-1;if(void 0===n){for(;r!==i;++r)if(void 0===t[r]&&r in t)return r}else{if(n!=n)return-1;for(;r!==i;++r)if(t[r]===n)return r}return-1}function ajaxCall(e,n,a,t,i){var r,o;if(window.XDomainRequest)(r=new XDomainRequest)&&(r.onload=r.onerror=function(){i&&i("xdr.onerror "+e+" "+n)},r.open(e,n,!0),r.send());else{if(window.XMLHttpRequest)o=new XMLHttpRequest;else try{o=new ActiveXObject("MSXML2.XMLHTTP")}catch(e){o=new ActiveXObject("Microsoft.XMLHTTP")}try{o.onreadystatechange=function(){4===o.readyState&&a(o.responseText,t)},o.open(e,n,!0),o.onerror=function(){i&&i("xmlhttp.onerror "+e+" "+n)},o.send()}catch(r){i&&i((r||"")+" "+e+" "+n),a("",t)}}}function getProtocol(e,n){return"https:"===window.location.protocol?"https://"+(void 0!==e?e:""):"http://"+(void 0!==n?e:"")}function convertToLatin(e){var n={"á":"a","Á":"A","é":"e","É":"E","í":"i","Í":"I","ó":"o","Ó":"O","ú":"u","Ú":"U","ñ":"n","Ñ":"N"};return e.replace(/[^A-Za-rn n[e]||e}))}function objectToQueryString(e){if("object"==typeof e){var n,a=[];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.push(n+"="+e[n]);return a.join("&")}return""}function getNow(){var e=new Date;return Math.round(e.getTime()/1e3)}function extend(e,n){var a,t={};if(Object.assign)return Object.assign(Object.assign({},e),n);for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}function cleanCookie(e,n,a){for(var t,i,r,o,s,c,l=window.location.hostname.split("."),u=[encodeURIComponent(e)+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/"];l.length>1;){for(o=[],inArray(n||[],r=l.join("."))||(o=[r]),r.match(/^www\./)||(o.push("www."+r),o.push(".www."+r)),c=0;c<o.length;c++)for(inArray(u,(i=encodeURIComponent(e)+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; domain="+o[c]+" ;path=")+"/")||u.push(i+"/"),s=location.pathname.split("/");s.length>0;)"/"===(t=s.join("/"))||""===t||inArray(a||[],t)||u.push(i+t),s.pop();l.shift()}for(var g=0;g<u.length;g++)document.cookie=u[g];return u}hydraConfig=void 0!==regionConfig.custom[ninjaConfig.siteUrl].config.H?extend(regionConfig.config.H,regionConfig.custom[ninjaConfig.siteUrl].config.H):regionConfig.config.H;var hydraConfig$1=hydraConfig;function jsonDecode(str_json){var json=window.JSON,cx,jj,text;if("object"==typeof json&&"function"==typeof json.parse)try{return json.parse(str_json)}catch(e){if(!(e instanceof SyntaxError))throw new Error("Unexpected error type in json_decode()");return null}return cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,text=str_json,cx.lastIndex=0,cx.test(text)&&(text=text..slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?(jj=eval("("+text+")"),jj):null}function isEprivacyStorageRequired(){return inArray(["cee","verticals","ciam"],"ciam")}var REQUIRED_VERSION="1.1.x";function getEmptyStorage() sto storag storage")}}}var cookieStorage=getEmptyStorage(),isReady=!1;function initCookieStorage(e){isReady?e(cookieStorage):isEprivacyStorageRequired()?"function"==typeof ninjaConfig.getEprivacySDK?(cookieStorage=ninjaConfig.getEprivacySDK(),isReady=!0,e(cookieStorage)):window.eprivacyStorage&&window.eprivacyStorage[REQUIRED_VERSION]?(cookieStorage=window.eprivacyStorage[REQUIRED_VERSION],isReady=!0,e(cookieStorage)):loadCookieStorage((function(n){(cookieStorage=n)&&(window.eprivacyStorage||(window.eprivacyStorage={}),window.eprivacyStorage[REQUIRED_VERSION]=n,isReady=!0,e(cookieStorage))})):(cookieStorage=i(!1),isReady=!0,e(cookieStorage))}function loadCookieStorage(e){var n;hydraConfig$1.eprivacy_scope?ajaxCall("get",n=r(t[hydraConfig$1.eprivacy_scope],hydraConfig$1.debug?s.STG:s.PRD),(function(n){var a=i(!0,jsonDecode(n));e(a)}),null,(function(a){console.error("Ninja can not load cookie category definitions!",n,a),e(getEmptyStorage())})):(console.error("Ninja can not load cookie category definitions - missing `eprivacy_scope` for current region!"),e(getEmptyStorage()))}var MULTIPLIERS={s:1e3,min:6e4,h:36e5,day:864e5,month:26784e5,year:31536e6};function getCookieExpirationDate(e,n="s"){var a=new Date,t=MULTIPLIERS[n]||-1;return a.setTime(a.getTime()+e*t),a}var cookieRegexCache={};function getCookieName(e){var n=e,a=cookieRegexCache[n];return a||(a=new RegExp("\\b"+n+"\\b","gi"),cookieRegexCache[n]=a),"production"===ninjaConfig.environment&&(document.cookie.match(a)||[]).length>1&&cleanCookie(n,[ninjaConfig.cookieDomain]),"onap"===n&&"production"!==ninjaConfig.environment&&(n+="_dev"),"www.console.data.olx.org"!==ninjaConfig.siteUrl&&"www.console-stg.data.olx.org"!==ninjaConfig.siteUrl||void 0!==hydraConfig$1.params.bR&&"console"!==hydraConfig$1.params.bR&&(n+="_"+hydraConfig$1.params.bR),n}var SEED_INT=2147483647,randomFactor=generateRandomFactor();function generateRandomFactor(){return Number(Math.floor(Math.random()*SEED_INT+1))}function generateSession(){var e=Number((new Date).getTime()).toString(16)+"x"+randomFactor.toString(16);return randomFactor=generateRandomFactor(),e}function makeMapping(e,n,a){var t;return t="trackEvent"===n||"trackPage"===n?"defaultTrackEvent":"defaultUseParameter",regionConfig.config&&regionConfig.config[e]&&!0===regionConfig.config[e][t]?mappingValue(e,n,a):mappingMarketingValue(e,n,a)}function makeObjectMapping(e,n){var a,t,i={};for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&!1!==(a=makeMapping(e,t,n[t])).key&&(i[a.key]=a.value);return i}function mappingValue(e,n,a){var t,i;return void 0===regionConfig.map[n]?(t=n,i=a):(t=void 0===regionConfig.map[n].N||void 0===regionConfig.map[n].N[e]?n:regionConfig.map[n].N[e],i=void 0===regionConfig.map[n].V||void 0===regionConfig.map[n].V[a]||void 0===regionConfig.map[n].V[a][e]?a:regionConfig.map[n].V[a][e]),{key:t,value:i}}function mappingMarketingValue(e,n,a){var t,i;return void 0===regionConfig.map[n]?t=!1:(t=void 0!==regionConfig.map[n].N&&void 0!==regionConfig.map[n].N[e]&&regionConfig.map[n].N[e],i=void 0===regionConfig.map[n].V||void 0===regionConfig.map[n].V[a]||void 0===regionConfig.map[n].V[a][e]?"trackPage"!==n&&"trackEvent"!==n&&a:regionConfig.map[n].V[a][e]),{key:t,value:i}}function getInvite(){var e,n,a,t,i,r=window.location.search.replace(/^\?/,"").split("&"),o={},s=[];for(e=0;e<r.length;e+=1)o[(n=r[e].split("="))[0]]=n[1];if(null!==(a=o.invite||null))s=parseInvite(a);else if(void 0!==o.utm_source)s=parseUtm(o);else if(null!==(i=getHash()))s=parseXtor(i);else if(void 0!==o.xtor)s=parseXtor("xtor="+o.xtor);else{if(void 0===o.gclid)return null;s=["adwords",o.gclid]}return s[0]?(t=s[0],s.shift(),convertToLatin(deucex(t)).replace(/\s/g,"").replace(/NINJA_SEPARATOR/g,"-")+"_"+convertToLatin(deucex(s.join("--"))).replace(/\s/g,"").replace(/NINJA_SEPARATOR/g,"-")):null}function parseInvite(e){var n=e.match(/^\s*([a-zA-Z0-9\-]{1,64})(?:_([a-zA-Z0-9%\-]{0,128})).*/);return null!==n&&n.length>0?[n[1],n[2]]:[]}function parseUtm(e){var n,a=[],t=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","utm_id"];for(n=0;n<t.length;n++)void 0!==e[t[n]]&&a.push(e[t[n]].replace(/[\-_\.]/g,"NINJA_SEPARATOR"));return a}function parseXtor(e){var n,a,t=[],i=e.match(/\[([0-9a-z\-]+)\]/gi),r=e;if(null!==i)for(a=0;a<8;a++)void 0!==i[a]&&(r=r.replace(i[a],i[a].replace("[","").replace("]","").replace(/\-/g,"")));if(null!==(n=r.match(/xtor=([a-zA-Z0-9_\.]+)-([a-zA-Z0-9_\.]+)-?([a-zA-Z0-9_\.]+)?-?([a-zA-Z0-9_\.]+)?-?([a-zA-Z0-9_\.]+)?-?([a-zA-Z0-9_\.]+)?-?([a-zA-Z0-9_\.]+)?-?([a-zA-Z0-9_\.]+)?/)))for(a=1;a<8;a++)void 0!==n[a]&&t.push(n[a].replace(/[\-_\.]/g,"NINJA_SEPARATOR"));return t}function getHost(){return window.locationer||null}function getPageName$1(e){var n=null;return e&&(n=deucex(e.toLowerCase())),n}function getEventData(e){var n={};return e&&(e[0]&&(n.category=deucex(e[0])),e[1]&&(n.action=deucex(e[1])),e[2]&&(n.label=deucex(e[2])),e[3]&&(n.value=deucex(e[3])),e[4]&&(n.interact=deucex(e[4]))),n}function jsonEncode(e){try{var n,a=window.JSON,t=function(e){var n=e;try{n=encodeURIComponent(decodeURIComponent(n))}catch(e){}var a=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,t={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return a.lastIndex=0,a.test(n)?'"'+n.replace(a,(function(e){var n=t[e]||null;return"string"==typeof n?n:e}))+'"':'"'+n+'"'},i=function(e,n){var a=0,r="",o="",s=0,c=[],l=n[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),typeof l){case"string":return t(l);case"number":return isFinite(l)?String(l):"null";case"boolean":return String(l);case"object":if(!l)return"null";if(c=[],"[object Array]"===Object.prototype.toString.apply(l)){for(s=l.length,a=0;a<s;a+=1)c[a]=i(a,l)||"null";return o=0===c.length?"[]":"["+c.join(",")+"]"}for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(o=i(r,l))&&c.push(t(r)+":"+o);return o=0===c.length?"{}":"{"+c.join(",")+"}";default:throw new SyntaxError("json_encode")}};if("object"==typeof a&&"function"==typeof a.stringify){if(void 0===(n=a.stringify(e)))throw new SyntaxError("json_encode")}else n=i("",{"":e});try{n=encodeURIComponent(decodeURIComponent(n))}catch(e){n=null}return n}catch(e){if(!(e instanceof SyntaxError))throw new Error("Unexpected error type in json_encode()");return null}}var SCRIPT_TAG_ID="web-vitals-script-tag",isLoaded=!1,hasUserInteractedWithPage=!1,watchedMetrics=["FCP","LCP","CLS","TTFB","FID","INP"],trackCallback=null;function loadWebVitals(e){isWebVitalsEnabled()&&!1===isLoaded&&(isLoaded=!0,trackCallback=e,loadScript(WEB_VITALS_URL,SCRIPT_TAG_ID,setMetricWatchers))}function trackWebVitalsMetric(e){trackCallback(e)}function setMetricWatchers(){var e,n;if(window.webVitals)for(e=0;e<watchedMetrics.length;e++)"function"==typeof(n=window.webVitals["on"+watchedMetrics[e]])&&n(trackWebVitalsMetric,{reportAllChanges:!1});else console.log("No web-vitals lceObserver}function onInteraction(){hasUserInteractedWithPage=!0,window.removeEventListener("click",onInteraction,!0),window.removeEventListener("keydown",onInteraction,!0)}window.addEventListener("click",onInteraction,!0),window.addEventListener("keydown",onInteraction,!0);var TRACKER_KEY="H",isLinkEvent$1=!1,initPushed$1=!1,lastCurrentPage=null,lastEventName=null,lastTrackPage=null,firstTrackPage=null,currentPlatform;function init$1(){initPushed$1||(initPushed$1=!0,lastCurrentPage=null,lastTrackPage=null,firstTrackPage=null,lastEventName=null)}function getDefaultParams$1(e){var n,a={};for(n in a.sl=e.sessionParams.sessionLong,a.s=e.sessionParams.session,a.cl=e.sessionParams.sessionCountLong,a.c=e.sessionParams.sessionCount,e.sessionParams.noCookie&&(a.nc=1),a.t=(new Date).getTime(),e.invite&&(a.iv=eucex(e.invite)),e.host&&(a.host=eucex(e.host)),e.hash&&"www.console.data.olx.org"!==ninjaConfig.siteUrl&&"www.console-stg.data.olx.org"!==ninjaConfig.siteUrl&&(a.hash=eucex(e.hash)),e.referrer&&(a.referer=eucex(e.referrer)),a.ivd="olx-"+hydraConfig$1.params.cC.toLowerCase()+"_organic",void 0!==hydraConfig$1.params.rE&&(a.rE=hydraConfig$1.params.rE),e.eventData.category?e.pageName||lastCurrentPage&&(a.cP=lastCurrentPage):e.pageName&&(lastCurrentPage=eucex(getPageName()),a.cP=lastCurrentPage),configTracking.unitTest||(a.js=1),a)!Object.prototype.hasOwnProperty.call(a,n)||makeMapping(TRACKER_KEY,n,e.customParams[n]).key;return a}function applyPlatform(e){var n=hydraConfig$1.platform_property||"platform";return"d"===ninjaConfig.platform?(e[n]=ChannelName.Desktop,currentPlatform=ChannelName.Desktop):"m"===ninjaConfig.platform?(e[n]=ChannelName.Mobile,currentPlatform=ChannelName.Mobile):e[n]?e[n]!==currentPlatform&&(currentPlatform=e[n]):currentPlatform&&(e[n]=currentPlatform),e}function getUrl(e,n){var a,t,i,r=[],o={},s=getCustomParams$1(n),c=makeObjectMapping(TRACKER_KEY,getDefaultParams(n)),l=makeObjectMapping(TRACKER_KEY,getDefaultParams$1(n));if(s=applyPlatform(s),a=getProtocol()+getHydraHost()+e+"?",n.eventData.category){if(n.eventData.category&&r.push(n.eventData.category),n.eventData.action&&r.push(n.eventData.action),n.eventData.label&&r.push(n.eventData.label),n.eventData.value&&r.push(n.eventData.value),lastEventName=eucex(convertString(r.join("_"))),!1===(i=makeMapping(TRACKER_KEY,"trackEvent",lastEventName)).key||!1===i.value)return"";lastEventName=i.value,o.eN=lastEventName,inArray(hydraConfig$1.triggeredEvents,lastEventName)&&(o.rT=1)}if(n.pageName){if(!1===(i=makeMapping(TRACKER_KEY,"trackPage",n.pageName)).key||!1===i.value)return"";lastTrackPage=eucex(i.value),firstTrackPage||(firstTrackPage=lastTrackPage),o.eN=lastTrackPage,inArray(hydraConfig$1.triggeredEvents,lastTrackPage)&&(o.rT=1)}for(t in c)Object.prototype.hasOwnProperty.call(c,t)&&(o[eucex(t)]=eucex(c[t]));for(t in l)Object.prototype.hasOwnProperty.call(l,t)&&(o[eucex(t)]=eucex(l[t]));for(t in s)Object.prototype.hasOwnProperty.call(s,t)&&(l[t]||c[t]||(o[eucex(t)]="extra"!==t?eucex(s[t]):jsonEncode(s[t])));return a+=objectToQueryString(o),"function"==typeof configTracking.debug&&(lastTrackPage?configTracking.debug("hydra",[{customParams:s},{pageName:lastTrackPage}]):n.eventData.category&&configTracking.debug("hydra",[{eventName:lastEvenrentPath()}function getCustomParams$1(e){var n,a,t={};for(n in e.customParams)if(Object.prototype.hasOwnProperty.call(e.customParams,n)&&"function"!=typeof e.customParams[n]){if(!1===(a=makeMapping(TRACKER_KEY,n,e.customParams[n])).key)continue;"trackEvent"===a.key?t[a.key]=a.value:inArray(["impressions","adImpressions","ad_impressions"],a.key)?t[a.key]=jsonEncode(a.value):inArray(hydraConfig$1.knownParameters,a.key)?"object"!=typeof a.value?(t[a.key]=deucex(a.value),""===t[a.key]&&"string"==typeof a.value&&(t[a.key]=deucex(a.value.replace(/%/g,"")))):t[a.key]=jsonEncode(a.value):inArray(hydraConfig$1.ignoreParams,a.key)||(t.extra||(t.extra={}),"object"!=typeof a.value?"string"==typeof a.value&&a.value.length>6&&"%5B"===a.value.slice(0,3)&&"%5D"===a.value.slice(-3)?t.extra[a.key]=a.value.replace(/%5B/g,"").replace(/%5D/g,"").replace(/%22/g,"").replace(/%27/g,"").split("%2C"):t.extra[a.key]=eucex(a.value):t.extra[a.key]=a.value)}return t}function trackWithImage(e){var n;configTracking.unitTest||((n=new Imerror=null},n.onerror=function(){trackError("HIT_FAIL","Hydra","trackWithImage",e),n.onload=null,n.onerror=null},n.src=e)}function onHitSentOk$1(){isLinkEvent$1&&(collectCalls(),isLinkEvent$1=!1)}function convertString(e){return"string"==typeof e?e.toLowerCase().replace(/[^a-z0-9\/_]/g,"-").replace(/\s{2}/g," ").replace(/\s/g,"-").replace(/---/g,"-").replace(/---/g,"-").replace(/--/g,"-"):e}function trackPage$2(e){var n;init$1(),0===(n=getUrl(hydraConfig$1.path,e)).length?onHitSentOk$1():trackWithImage(n),hydraConfig$1.vitals&&hydraConfig$1.vitals_path&&loayPkPage$2(e)}function trackLinkEvent$1(e){isLinkEvent$1=!0,tracessionLong}var hydra=Object.freeze({__proto__:null,get lastEventName(){return lastEventName},get lastTrackPage(){return lastTrackPage},get firstTrackPage(){return firstTrackPage},get currentPlatform(){return currentPlatform},applyPlatform:applyPlatform,convertString:convertString,trackPage:trackPage$2,trackEvent:trackEvent$2,trackLinkEvent:trackLinkEvent$1,getIdentifier:getIdentifier$1}),currentLqPush;function triggerCustomEvent(e,n,a){var t=a||document,i=new CustomEvent(e,{detail:n||{}});t.dispatchEvent(i)}var retries=0,trackPageRetries=0,initPushed=!1,listOfActiveTests=[],listOfActiveFlags=[],lqDefinition=[],userId=null,localTestsCookieValue=null,localFlagsCookieValue=null,localSurveysCookieValue=null,counter=0,activeSurvey=!1,isLaquesisQa=!1,cookieName=getCookieName("laquesis"),cookieNameFf=getCookieName("laquesisff"),cookieNameSu=getCookieName("laquesissu"),cookieNameLq=getCookieName("lqstatus"),cookieNameQa=getCookieName("laquesisqa"),listOfActiveSurveys={},isLinkEvent=!1,qa={enable:!1,icon:!0,style:!0,expires:120};function init(){var e,n,a,t,i,r=!1,o=null,s=!1,c=null,l=null,u=null,g={},f=0;if(navigator.cookieEnabled)if(currentSessionLong){qa={enable:!1,icon:!0,style:!0,expires:120},ninjaConfig&&ninjaConfig.laquesisQa&&(ninjaConfig.laquesisQa.enable&&(qa.enable=Boolean(ninjaConfig.laquesisQa.enable)),ninjaConfig.laquesisQa.icon&&(qa.icon=Boolean(ninjaConfig.laquesisQa.icon)),ninjaConfig.laquesisQa.style&&(qa.style=Boolean(ninjaConfig.laquesisQa.style)),ninjaConfig.laquesisQa.expires&&(qa.expires=parseInt(ninjaConfig.laquesisQa.expires.toString(),10)),ninjaConfig.laquesisQa.experiments&&(qa.experiments=ninjaConfig.laquesisQa.experiments),ninjaConfig.laquesisQa.flags&&(qa.flags=ninjaConfig.laquesisQa.flags)),ninjaConfig&&ninjaConfig.userId&&(userId=ninjaConfig.userId);try{for(l=window.location.search.replace(/^\?/,"").split("&"),f=0;f<l.length;f+=1)g[(u=l[f].split("="))[0]]=u[1];void 0!==g.laquesisqahash&&(u=atob(deucex(g.laquesisqahash)).split("!")).length<=4&&(n=u[0],a=u[1],t=u[2],i=u[3],("production"!==ninjaConfig.environment||"production"===ninjaConfig.environment&&"production"===a)&&(n&&(localTestsCookieValue=n.toLowerCase(),cookieStorage.set(cookieName,localTestsCookieValue,{expires:getCookieExpirationDate(qa.expires,"min"),path:"/",domain:ninjaConfig.cookieDomain})),t&&(localFlagsCookieValue=t.toLowerCase(),cookieStorage.set(cookieNameFf,localFlagsCookieValue,{expires:getCookieExpirationDate(qa.expires,"min"),path:"/",domain:ninjaConfig.cookieDomain})),i&&(isLaquesisQa=!0,getSurveyData(i,readEventsForHash)),(n||t||i)&&(r=!0,qa.enable=!1,cookieStorage.set(cookieNameQa,1,{expires:getCookieExpirationDate(qa.expires,"min"),path:"/",domain:ninjaConfig.cookieDomain}))))}catch(e){return!1}if("production"!==ninjaConfig.environment&&!0===qa.enable&&(void 0!==qa.experiments&&(localTestsCookieValue=qa.experiments.toLowerCase(),cookieStorage.set(cookieName,localTestsCookieValue,{expires:getCookieExpirationDate(qa.expires,"min"),path:"/",domain:ninjaConfig.cookieDomain}),r=!0,qa.enable=!1),void 0!==qa.flags&&(localFlagsCookieValue=qa.flags.toLowerCase(),cookieStorage.set(cookieNameFf,localFlagsCookieValue,{expires:getCookieExpirationDate(qa.expires,"min"),path:"/",domain:ninjaConfig.cookieDomain}),r=!0,qa.enable=!1)),cookieStorage.get(cookieNameQa)&&(isLaquesisQa=!0,r=!0,qa.enable=!1),localTestsCookieValue||(localTestsCookieValue=cookieStorage.get(cookieName)),localFlagsCookieValue||(localFlagsCookieValue=cookieStorage.get(cookieNameFf))||(localFlagsCookieValue=cookieStorage.get("laquesis_ff")),localSurveysCookieValue||(localSurveysCookieValue=cookieStorage.get(cookieNameSu)),(e=cookieStorage.get(cookieNameLq))?(lqDefinition=validateLqDefinition(e),o=getNow(),lqDefinition[0]-o<0&&(s=!0),4===lqDefinition.length&&-1!==indexOf(lqDefinition[3],"*")&&(lqDefinition=lqDefinition.slice(0,3))):s=!0,s&&!1===r?(c=SPLITTER_CDN+"/assign?",c+="sl="+currentSessionLong,userId&&("string"==typeof userId&&(userId=userId.toLowerCase()),c+="&ui="+userId),c+="&cc="+hydraConfig$1.params.cC+"&ch=","m"===ninjaConfig.platform?c+="m":"d"===ninjaConfig.platform?c+="d":c+="w",void 0!==hydraConfig$1.params.bR?c+="&br="+hydraConfig$1.params.bR:c+="&br=olx",ajaxCall("get",c,processDefinnition",e)}))):(localTestsCookieValue&&(parseLaquesisCookie(localTestsCookieValue),cookieFromLq&&(localTestsCookieValue&&(localTestsCookieValue=localTestsCookieValue.replace(/^"(.+)"$/,"$1"),cookieStorage.set(cookieName,localTestsCookieValue,{expires:getCookieExpirationDate(1,"year"),path:"/",domain:ninjaConfig.cookieDomain})),trackTestsAssignment())),localFlagsCookieValue&&parseLaquesisFfCookie(localFlagsCookieValue),localSurveysCookieValue&&parseLaquesisSuCookie(localSurveysCookieValue)),!1===initPushed){for(initPushed=!0,setupWindow(),void 0===window.laquesisFunctionsCallback&&"function"!=typeof window.laquesisFunctionsCallback||window.laquesisFunctionsCallback.call(null),window.laquesisResults=window.laquesisResults||[],currentLqPush=window.laquesisResults.push,window.laquesisResults.push=function(e){var n=currentLqPush.apply(window.laquesisResults,[e]);return checkResults(),n},window.laquesisQueue||(window.laquesisQueue=[]),window.laquesieof e&&e()};window.laquesisQueue.length>0;)window.laquesisQueue.push(window.laquesisQueue.shift());checkResults()}setTimeout(init,3e5)}else retries<5&&(retries+=1,setTimeout(init,500));return!0}function setupWindow(){window.isVard(e,n,a,t)},window.getLaquant(e,n,a)},window.isFeatureEnabled=function(e){return isFeatureEnabled(e)},window.laquesisSetUserId=function(e){return laquesisSetUserId(e)},window.laquesiopUserId()},window.laquesisShowSurvey=function(e){return isLaquesisQa=!1,showSurvey(e)},window.isSurvailable(e)},"production"!==ninjaConfig.environment?(!0===qa.enable&&loadScript(LAQUESIS_QA_URL,"laquesisqa",(function(){loadScript(JSQR_URL,"laquesisqr",(function(){window.laquesisqa({listOfActiveTests:listOfActiveTests,listOfActiveFlags:listOfActiveFlags,qa:qa,params:hydraConfig$1.params},ninjaConfig)}))})),window.laquesisShowSurveyByLink=function(e){return isLaquesisQa=!0,showSurvey(0,e)}):"www.console-stg.data.olx.org"!==ninjaConfig.siteUrl&&"www.console.data.olx.org"!==ninjaConfig.siteUrl||(window.laquesisShowSurveyByLink=function(e){return isLaquesisQa=!0,showSurvey(0,e)}),window.laquesisGetActive=function(){return{experiments:jsonDecode(jsonEncode(listOfActiveTests)),flags:jsonDecode(jsonEncode(listOfActiveFlags))}}}function processDefinition(e){var n,a,t,i=null,r=null;e&&(i=jsonDecode(e)),i&&(n=parseTestsJson(i.tests),a=parseFlagsJson(i.flags),t=parseSurveysJson(i.surveys),r=getNow(),lqDefinition[0]=r+60*parseInt(i.config.next_update_foreground_in_minutes,10),cookieStorage.set(cookieNameLq,lqDefinition.join("|"),{expires:getCookieExpirationDate(1,"year"),path:"/",domain:ninjaConfig.cookieDomain}),localTestsCookieValue!==n&&(localTestsCookieValue=n,cookieStorage.set(cookieName,n,{expires:getCookieExpirationDate(1,"year"),path:"/",domain:ninjaConfig.cookieDomain}),trackTestsAssignment(),triggerCustomEvent(EVENTS.LAQUESIS_EXP_ASSIGNMENT,{experiments:n})),localFlagsCookieValue!==a&&(localFlagsCookieValue=a,cookieStorage.get("laquesis_ff")&&cookieStorage.remove("laquesis_ff",{path:"/",domain:ninjaConfig.cookieDomain}),cookieStorage.set(cookieNameFf,a,{expires:getCookieExpirationDate(1,"year"),path:"/",domain:ninjaConfig.cookieDomain}),trackFlagsAssignment(),triggerCustomEvent(EVENTS.LAQUESIS_FLAG_ASSIGNMENT,{flags:a})),localSurveysCookieValue!==t&&(localSurveysCookieValue=t,cookieStorage.set(cookieNameSu,t,{expires:getCookieExpirationDate(1,"year"),path:"/",domain:ninjaConfig.cookieDomain})),void 0===window.laquesisAssignCallback&&"function"!=typeof window.laquesisAssignCallback||window.laquesisAssignCallback.call(null),triggerCustomEvent(EVENTS.LAQUESIS_READY,null,document))}function parseTestsJson(e){var n,a="";for(e.sort((function(e,n){return e.tN.localeCompare(n.tN)})),listOfActiveTests=[],n=0;n<e.length;n+=1)e[n].tN=e[n].tN.toLowerCase(),e[n].vN=e[n].vN.toLowerCase(),a+="#"+e[n].tN+"@"+e[n].vN,listOfActiveTests[e[n].tN]=e[n].vN;return a.substr(1)}function parseFlagsJson(e){var n,a="";pare(n.tN)})),listOfActiveFlags=[],n=0;n<e.length;n+=1)e[n].tN=e[n].tN.toLowerCase(),a+="#"+e[n].tN,listOfActiveFlags[e[n].tN]=1;return a.substr(1)}function parseSurveysJson(e){var n,a,t,i="",r="",o=null,s={},c=[],l=[],u=null;for(t=storageAvailabloString())})),void 0!==lqDefinition[4]&&(l=lqDefinition[4].split("#")),listOfActiveSurveys={},n=0;n<e.length;n+=1){if(e[n].triggers)for(a=0;a<e[n].triggers.length;a+=1)i+="#"+e[n].id,e[n].triggers[a].event_name&&(r=e[n].triggers[a].event_name,0===(o=e[n].triggers[a].conditions||[]).length?i+="@"+r+"|0":t&&(i+="@"+r+"|1"),void 0===listOfActiveSurveys[r]&&(listOfActiveSurveys[r]=[]),void 0===s[e[n].id]&&(s[e[n].id]={}),listOfActiveSurveys[r].push({cond:o,id:e[n].id}),s[e[n].id][r]=o);inArray(l,e[n].id.toString())&&c.push(e[n].id)}return t&&(u=jsonEncode(s),window.localStorage.setItem("_lq_surveys_",u)),lqDefinition[4]=c.join("#"),i.substr(1)}function isVariantEnabled(e,n,a,t){var i=!1,r=e.toLowerCase(),o=n.toLowerCase();return!!navigator.cookieEnabled&&(void 0!==listOfActiveTests[r]&&listOfActiveTests[r]===o&&(i=!0,trackImpression(r,o,a,t),triggerCustomEvent(EVENTS.LAQUESIS_EXP_IMPRESSION,{experiment:r,variant:o,isDelayedTracking:a,trackOrder:t})),i)}function getLaquesisVariant(e,n,a){var t=null,i=e.toLowerCase();return navigator.cookieEnabled&&void 0!==listOfActiveTests[i]?(trackImpression(i,t=listOfActiveTests[i],n,a),triggerCustomEvent(EVENTS.LAQUESIS_EXP_IMPRESSION,{experiment:i,variant:t,isDelayedTracking:n,trackOrder:a}),t):null}function isFeatureEnabled(e){return!!navigator.cookieEnabled&&void 0!==listOfActiveFlags[e.toLerId=null}function checkResults(){var e,n;for(e in window.laquesisResults)Object.prototype.hasOwnProperty.call(window.laquesisResults,e)&&"object"==typeof(n=window.laquesisResults[e])&&void 0===n.processed&&void 0!==n.newResult&&(window.laquesisResults[e].processed=!0,window.laquesisQueue.push(void parseLaquesisCookie(n.newResult)))}function trackTestsAssignment(e,n){var a,t="";for(a in listOfActiveTests)Object.prototype.hasOwnProperty.call(listOfActiveTests,a)&&(t+=',"'+a+","+listOfActiveTests[a]+'"');t="["+t.substr(1)+"]",e?ninjaConfig.dataLayerDelayed.push({trackOrder:n,trackEvent:["test_assignment"],test_definition:t}):(cleanupTracking(),ninjaConfig.dataLayer.push({trackEvent:["test_assignment"],test_definition:t}))}function trackFlagsAssignment(e,n){var a,t="";for(a in listOfActiveFlags)Object.prototype.hasOwnProperty.call(listOfActiveFlags,a)&&(t+=',"'+a+'"');t="["+t.substr(1)+"]",e?ninjaConfig.dataLayerDelayed.push({trackOrder:n,trackEvent:["flag_assignment"],flag_definition:t}):(cleanupTracking(),ninjaConfig.dataLayer.push({trackEvent:["flag_assignment"],flag_definition:t}))}function trackImpression(e,n,a,t){var i,r,o=!1,s={};if(void 0===lqDefinition[1]||lqDefinition[1]!==currentSession)lqDefinition[1]=currentSession,lqDefinition[2]="";else if(void 0!==lqDefinition[2])for(r=lqDefinition[2].split("#"),i=0;i<r.length;i+=1)if(r[i]===e){o=!0;break}o||(void 0===lqDefinition[2]||0===lqDefinition[2].length?lqDefinition[2]=e:lqDefinition[2]+="#"+e,cookieStorage.set(cookieNameLq,lqDefinition.join("|"),{expires:getCookieExpirationDate(1,"year"),path:"/",domain:ninjaConfig.cookieDomain}),a?(s={trackOrder:t,trackEvent:["test_impression"],test_name:e,test_variation:n},hasUserInteractedWithPage||(s.web_vital_page=firstTrackPage),ninjaConfig.dataLayerDelayed.push(s)):(cleanupTracking(),s={trackEvent:["test_impression"],test_name:e,test_variation:n},hasUserInteractedWithPage||(s.web_vital_page=firstTrackPage),ninjaConfig.dataLayer.push(s)))}function cleanupTracking(){var e,n=ninjaConfig.dataLayer.length;for(e=0;e<n;e+=1)void 0===ninjaConfig.dataLayer[e].test_definition&&void 0===ninjaConfig.dataLayer[e].test_name&&void 0===ninjaConfig.dataLayer[e].test_variation&&void 0===ninjaConfig.dataLayer[e].flag_definition||(ninjaConfig.dataLayer.splice(e,1),e=n)}function trackSurvey(e,n,a,t,i){var r,o,s={};"survey_show"!==e&&"survey_push_show"!==e&&!0===activeSurvey&&(activeSurvey=!1),r=getProtocol()+getHydraHost()+hydraConfig$1.survey_path,s.eN=e,s.sl=currentSessionLong,s.s=currentSession,s.survey_id=n,s.survey_page_id=a,void 0!==t&&(s.survey_question_id=t),void 0!==i&&(s.survey_question_value=i),s.cC=hydraConfig$1.params.cC,s.bR=hydraConfig$1.params.bR,"m"===ninjaConfig.platform?s.cH=ChannelName.Mobile:"d"===ninjaConfig.platform?s.cH=ChannelName.Desktop:s.cH=void 0!==currentPlatform?currentPlatform:"w",s.mv=regionConfig.version,"production"!==ninjaConfig.environment&&(s.env="dev"),s.t=(new Date).getTime(),(o=new Imnload=null},o.onerror=function(){trackError("HIT_FAIL","Hydra","trackSurvey","On "+e)},o.src=r+"?"+objectToQueryString(s)}function parseLaquesisCookie(e){var n,a,t,i,r=e;for(r&&(r=r.replace(/^"(.+)"$/,"$1")),n=r.split("#"),a=0;a<n.length;a+=1)2===(t=n[a].split("@")).length&&(2===(i=t[1].split("|")).length?"t"===i[1]&&(trackImpression(t[0],i[0]),triggerCustomEvent(EVENTS.LAQUESIS_EXP_IMPRESSION,{experiment:t[0],variant:i[0],isDelayedTracking:!1,trackOrder:void 0}),void 0===listOfActiveTests[t[0]]&&(listOfActiveTests[t[0]]=i[0])):void 0===listOfActiveTests[t[0]]&&(listOfActiveTests[t[0]]=i[0]))}function parseLaquesisFfCookie(e){var n,a;for(n=e.split("#"),a=0;a<n.length;a+=1)void 0===listOfActiveFlags[n[a]]&&(listOfActiveFlags[n[a]]=1)}function parseLaquesisSuCookie(e){var n,a,t,i,r,o,s=[],c={},l=null,u=null;for((o=storageAvailable())&&(u=window.localStorage.getItem("_lq_surveys_"))&&(u=deucex(u))&&(c=jsonDecode(u)),n=e.split("#"),a=0;a<n.length;a+=1)2===(t=n[a].split("@")).length&&(i=t[0],(s=t[1].split("|")).length>1&&(r=s[0],o&&(void 0===listOfActiveSurveys[r]&&(listOfActiveSurveys[r]=[]),l=c&&void 0!==c[i]&&void 0!==c[i][r]?c[i][r]:[],listOfActiveSurveys[r].push({cond:l,id:i}))))}function storageAvailable(){var e;try{var n="__storage_test__";return(e=window.localStorage).setItem(n,n),e.removeItem(n),!0}catch(e){return!1}}function trackPage$1(e){var n,a,t,i=[];if(onHitSentOk(),!0===initPushed){if(e.eventData.category){if(e.eventData.category&&i.push(e.eventData.category),e.eventData.action&&i.push(e.eventData.action),e.eventData.label&&i.push(e.eventData.label),e.eventData.value&&i.push(e.eventData.value),!1===(a=makeMapping("H","trackEvent",n=eucex(convertString(i.join("_"))))).key||!1===a.value)return!1;n=a.value}if(e.pageName){if(!1===(a=makeMapping("H","trackPage",e.pageName)).key||!1===a.value)return!1;n=eucex(a.value)}if(void 0!==listOfActiveSurveys[n])for(t=0;t<listOfActiveSurveys[n].length;t+=1)checkParams(e,listOfActiveSurveys[n][t].cond)&&(isLaquesisQa=!1,showSurvey(listOfActiveSurveys[n][t].id))}else if(trackPageRetries<5)return trackPageRetries+=1,setTimeout((function(){trackPage$1(e)}),500),vent=!1)}function validateLqDefinition(e){var n=e.split("|");return void 0===n?n=[]:n.length>5&&(n=n.slice(0,5)),void 0===n[0]?n[0]="":n[0].match(/\d{10}/)||(n[0]=""),void 0===n[1]&&(n[1]=""),void 0===n[2]?n[2]="":n[2].match(/^([a-z]{1}[a-z\d]{0,9}-\d+#?)+$/)||(n[2]=""),void 0===n[3]?n[3]="":n[3].match(/\d{10}/)||(n[3]=""),void 0===n[4]?n[4]="":n[4].match(/^(\d+#?)+[^#]$/)||(n[4]=""),n}function checkParams(e,n){var a,t=!0,i=e.customParams,r=getDefaultParams(e);if(i.sl=e.sessionParams.sessionLong,i.s=e.sessionParams.session,i.cl=e.sessionParams.sessionCountLong,i.c=e.sessionParams.sessionCount,i.cp=deucex(getCurrentPath()),i.cc=r.cC,i.br=r.bR,!n)return!1;for(a=0;a<n.length;a+=1)t=!(!t||!checkOR(i,n[a]));return t}function checkOR(e,n){var a,t,i=!1;for(t=0;t<n.length;t+=1)if(a=void 0!==n[t].c&&Boolean(n[t].c)?cookieStorage.get(n[t].n):e[n[t].n],"is_null"===n[t].o)null==a&&(i=!0);else if(null!=a)switch(n[t].o){case"equals":a.toString()===n[t].v.toString()&&(i=!0);break;case"not_equals":a.toString()!==n[t].v.toString()&&(i=!0);break;case"is_not_null":null!==a&&(i=!0);break;case"greater_than":parseInt(a,10)>parseInt(n[t].v,10)&&(i=!0);break;case"less_than":parseInt(a,10)<parseInt(n[t].v,10)&&(i=!0)}return i}function isSurveyAvailable(e){var n,a,t=!1;for(a in listOfActiveSurveys)if(Object.prototype.hasOwnProperty.call(listOfActiveSurveys,a))for(n=0;n<listOfActiveSurveys[a].length;n+=1)listOfActiveSurveys[a][n].id.toString()===e.toString()&&(t=!0);return!(!t||isSurveyShown(e))}function isSurveyShown(e,n){var a,t=[],i=!1;for(void 0!==lqDefinition[4]&&""!==lqDefinition[4]&&(t=lqDefinition[4].split("#")),a=0;a<t.length;a+=1)t[a].toString()===e.toString()&&(i=!0);return"add"===n&&!1===i&&(t.push(e),lqDefinition[4]=t.join("#"),cookieStorage.set(cookieNameLq,lqDefinition.join("|"),{expires:getCookieExpirationDate(1,"year"),path:"/",domain:ninjaConfig.cookieDomain})),i}function getSurveyData(e,n,a){loadScript(LAQUESIS_SURVEY_URL,"laquesisSurvey",(function(){var t,i={};null!=a?t=a:(t=SPLITTER_CDN+"/survey",i.id=e,i.cc=hydraConfig$1.params.cC,i.br=hydraConfig$1.params.bR,"m"===ninjaConfig.platform?i.ch="m":"d"===ninjaConfig.platform?i.ch="d":i.ch="w"),ajaxCall("get",t+"?"+objectToQueryString(i),n)}))}function showSurvey(e,n){var a,t=n;if(a=getNow(),!isLaquesisQa){if(!isSurveyAvailable(e))return;t=null}!1===activeSurvey&&(activeSurvey=!0,counter=a,getSurveyData(e,renderSurvey,t))}function readEventsForHash(e){var n;null!==e&&""!==e?(n=parseSurveysJson([jsonDecode(e)]),localSurveysCookieValue!==n&&(localSurveysCookieValue=n,cookieStorage.set(cookieNameSu,n,{expires:getCookieExpirationDate(1,"year"),path:"/",domain:ninjaConfig.cookieDomain}))):trackError("fetchSurveyError","Survey","renderSurvey","Unable to connect")}function renderSurvey(e){var n,a,t=counter,i=3;if(null!==e&&""!==e){if((n=jsonDecode(e)).config){if(void 0!==n.config.next_survey_allowed_in_sec&&(t=n.config.next_survey_allowed_in_sec),void 0!==n.config.delay_render_in_sec&&(i=n.config.delay_render_in_sec),(a=getNow())-counter<i)return void rSurvey(e)}),500);isLaquesisQa?window.laquesisSurvey(n,(function(e){"survey_show"!==e&&"survey_push_show"!==e&&!0===activeSurvey&&(activeSurvey=!1)})):window.laquesisSurvey(n,trackSurvey),isLaquesisQa?isLaquesisQa=!1:(lqDefinition[3]=a+t,isSurveyShown(n.id,"add"))}}else trackError("fetchSurveyError","Survey","renderSurvey","Unable tessionLong}var laquesis=Object.freeze({__proto__:null,get listOfAiveSurveys},init:init,setupWindow:setupWindow,processDefinition:processDefinition,parseTestsJson:parseTestsJson,parseFlagsJson:parseFlagsJson,parseSurveysJson:parseSurveysJson,isVariantEnabled:isVariantEnabled,getLaquesisVariant:getLaquesisVariant,isFeatureEnabled:isFeatureEnabled,laquesisSetUserId:laquesisSetUserId,laquesisDropUserId:laquesisDropUserId,checkResults:checkResults,trackTestsAssignment:trackTestsAssignment,trackFlagsAssignment:trackFlagsAssignment,trackImpression:trackImpression,cleanupTracking:cleanupTracking,trackSurvey:trackSurvey,parseLaquesisCookie:parseLaquesisCookie,parseLaquesisFfCookie:parseLaquesisFfCookie,parseLaquesisSuCookie:parseLaquesisSuCookie,storageAvailable:storageAvailable,trackPage:trackPage$1,trackEvent:trackEvent$1,trackLinkEvent:trackLinkEvent,onHitSentOk:onHitSentOk,validateLqDefinition:validateLqDefinition,checkParams:checkParams,checkOR:checkOR,isSurveyAvailable:isSurveyAvailable,isSurveyShown:isSurveyShown,getSurveyData:getSurveyData,showSurvey:showSurvey,readEventsForHash:readEventsForHash,renderSurvey:renderSurvey,getIdentifier:getIdentifier}),trackers={hydra:hydra};trackers.laquesis=laquesis;var ninja={};ninja.trackers=trackers,ninja.linkCallBack=null,ninja.linkCount=0,ninja.linkTotalCount=0,ninja.linkSetTimeout=null,ninja.linkEventName=null,ninja.trackerList=null,ninja.pluginList=null;var currentSessionLong=null,currentSession=null,cookieFromLq=!1,currentTracker="start";function getTrackerList(){var e;if(null===ninja.trackerList){if(!1!==ninjaConfig.custom&&"production"!==ninjaConfig.environment)for(e in ninja.trackerList=["hydra"],ninjaConfig.custom)Object.prototype.hasOwnProperty.call(ninjaConfig.custom,e)&&trackers[e]&&trackers[e].trackPage&&ninja.trackerList.push(e);else void 0!==regionConfig.custom[ninjaConfig.siteUrl].trackers?ninja.trackerList=[Trackers.H].concat(regionConfig.custom[ninjaConfig.siteUrl].trackers):ninja.trackerList=[Trackers.H].concat(regionConfig.trackers);inArray(getPluginList(),Trackers.LQ)&&ninja.trackerList.push(Trackers.LQ)}return ninja.trackerList}function getPluginList(){var e;if(!ninja.pluginList)if(ninjaConfig.plugins&&"production"!==ninjaConfig.environment)for(e in ninja.pluginList=[],ninjaConfig.plugins)Object.prototype.hasOwnProperty.call(ninjaConfig.plugins,e)&&ninja.pluginList.push(ninjaConfig.plugins[e]);else regionConfig.custom[ninjaConfig.siteUrl].plugins?ninja.pluginList=[].concat(regionConfig.custom[ninjaConfig.siteUrl].plugins):ninja.pluginList=[].concat(regionConfig.plugins);return ninja.pluginList}function collectCalls(){ninja.linkCount=ninja.linkCount+1,ninja.linkCount===ninja.linkTotalCount&&(ninja.linkCallBack.call(null,ninja.linkEventName),ninja.linkCallBack=null,ninja.linkTotalCount=0,clearTimeout(ninja.linkSetTimeout))}function getCustomParams(e){var n,a,t=ninjaConfig.disablePropertyPropagation?[e]:ninjaConfig.dataLayer,i={};for(n in t)if(Object.prototype.hasOwnProperty.call(t,n))for(a in t[n])Object.prototype.hasOwnProperty.call(t[n],a)&&(inArray(ninjaConfig.specialNames,a)||"gtm."===a.slice(0,4)||inArray(["bind","push","prototype","eventTimeout"],a)||(i[a]=t[n][a]));return i}function getDefaultParams(e){var n={};return n.cC=hydraConfig$1.params.cC,n.bR=hydraConfig$1.params.bR,n.mv=regionConfig.version,"production"!==ninjaConfig.environment&&(n.env="dev"),e.eventData&&e.eventData.category?n.tN="e":e.pageName&&(n.tN="p"),n}function getSessionParams(){var e,n,a,t,i,r,o,s,c,l,u,g,f=!1,d=[];d.push("Retrieving session params");try{navigator.cookieEnabled?(d.push("Cookies enabled. Checking onap cookie"),e=new Date,n=Math.round(e.getTime()/1e3),l=getCookieName("onap"),c=(cookieStorage.get(l)||"").match(/([a-z0-9]+)-([0-9]+)-([a-z0-9]+)-([0-9]+)-([0-9]+)-?(.*)?/),d.push("Cookie value (onap): "+c),c&&c.length>0?(t=c[1],r=parseInt(c[2],10),a=c[3],i=parseInt(c[4],10),o=c[5],s=c[6]||null,o-n>0?i+=1:(d.push("Session expired. Generating a new session"),r+=1,a=generateSession(),i=1)):(c=cookieStorage.get(getCookieName("lqonap")),d.push("Cookie value (lqonap): "+c),c&&c.length>0?(r=1,a=t=c,i=1,s=null,cookieFromLq=!0):(d.push("Cookie not found. Generating a new sessionLong"),t=generateSession(),r=1,a=t,i=1,s=null)),u=t+"-"+r+"-"+a+"-"+i+"-"+(o=n+1800),s&&(u=u+"-"+s),u=u.replace(/[^\w\-\=]/g,""),cookieStorage.set(l,u,{expires:360,path:"/",domain:ninjaConfig.cookieDomain})):(d.push("Cookies disabled. Generating a new sessionLong"),t=generateSession(),r=1,a=t,i=1,f=!0),null!==currentSession&&currentSession!==a&&"function"==typeof window.ninjaSessionChangedCallback&&window.ninjaSessionChangedCallback.apply(null,[a,currentSession])}catch(e){d.push("Retrieving cookie data failed: "+e.message+". Generating a new sessionLong"),r=1,a=t=generateSession(),i=1,f=!0}return g={sessionLong:t,session:a,sessionCountLong:r,sessionCount:i},f&&(g.noCookie=f),currentSessionLong=t,currentSession=a,g}function getParams(e,n,a){return{invite:getInvite(),host:getHost(),hash:getHash(),referrer:getReferrer(),pageName:getPageName$1(e),eventData:getEventData(n),customParams:getCustomParams(a),sessionParams:getSessionParams()}}function trackError(e,n,a,t){var i,r,o;return i=t?t.description?t.description:t.message?t.message:t:t,r=getProtocol()+getHydraHost()+hydraConfig$1.error_path,r+="?eN="+eucex(e),r+="&sl="+currentSessionLong,r+=currentSession?"&s="+currentSession:"&s=00000000000x"+randomFactor,n&&(r+="&tracker="+eucex(n)),a&&(r+="&method="+eucex(a)),r+="&info="+eucex(i),r+="&cC="+hydraConfig$1.params.cC,r+="&bR="+hydraConfig$1.params.bR,r+="&cH=","m"===ninjaConfig.platform?r+="m":"d"===ninjaConfig.platform?r+="d":r+="w",r+="&mv="+regionConfig.version,r+="&cP="+eucex(window.location.href),"production"!==ninjaConfig.environment&&(r+="&env=dev"),r+="&t="+(new Date).getTime(),(o=new Image).onload=function(){o.onload=null},o.onerror=function(){var n;"HIT_FAIL"!==e&&"DEBUG_INFO"!==e||((n=new Imnload=null},r=(r=r.replace("HIT_FAIL","HIT_ERROR_FAIL")).replace("DEBUG_INFO","DEBUG_INFO_FAIL"),n.src=r)},o.src=r,o}function trackWebVital(e,n,a){var t=getProtocol()+getHydraHost()+hydraConfig$1.vitals_path,i={};if(window.JSON&&(navigator.sendBeacon||window.fetch)){i.eN="web_vital",i.web_vital_name=e.name,i.web_vital_value=e.value,i.web_vital_rating=e.rating,i.web_vital_page=n,i.sl=currentSessionLong,i.s=currentSession||"00000000000x"+randomFactor,i.cC=hydraConfig$1.params.cC,i.bR=hydraConfig$1.params.bR,i.mv=regionConfig.version,i.cP=getCurrentPath(),"production"!==ninjaConfig.environment&&(i.env="dev"),i.t=(new Date).getTime(),i=a(i);var r=window.JSON.stringify({tracks:[objectToQueryString(i)]});navigator.sendBeacon?navigator.sendBeacon(t,r):fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:r,keepalive:!0})}}ninja.checkParam=function(){ja[e](n,a)}for(e in ninjaConfig.dataLayer)if(Object.prototype.hasOwnProperty.call(ninjaConfig.dataLayer,e)&&"object"==typeof(n=ninjaConfig.dataLayer[e])&&void 0===n.processed)for(a in ninjaConfig.specialNames)Object.prototype.hasOwnProperty.call(ninjaConfig.specialNames,a)&&"processed"!==(t=ninjaConfig.specialNames[a])&&n[t]&&(ninjaConfig.dataLayer[e].processed=!0,window.trackingQueue.push(i(t,n[t],n)))},ninja.trackPage=function(e,n){var a,t,i,r,o;try{for(o=getParams(e,null,n),t=(i=getTrackerList()).length,a=0;a<t;a++)r=trackingMap[i[a]],currentTracker=r,ninja.trackers[r].trackPage(o)}catch(e){trackError("JAVASCRIPT_ERROR",currentTracker,"trackPage",e)}},ninja.trackEvent=function(e,n){var a,t,i,r,o,s=e;try{for("string"==typeof s&&(s=[s]),o=getParams(null,s,n),t=(i=getTrackerList()).length,a=0;a<t;a++)r=trackingMap[i[a]],currentTracker=r,ninja.trackers[r].trackEvent(o)}catch(e){trackError("JAVASCRIPT_ERROR",currentTracker,"trackEvent",e)}},ninja.trackLinkEvent=function(e,n){var a,t,i,r,o;try{if(o=getParams(null,e,n),null!==ninja.linkCallBack)return;if(void 0===o.customParams.linkCallBack||"function"!=typeof o.customParams.linkCallBack)return;for(ninja.linkCallBack=o.customParams.linkCallBack,ninja.linkEventName=e,ninja.linkCount=0,ninja.linkTotalCount=0,delete o.customParams.linkCallBack,t=(i=getTrackerList()).length,ninja.linkTotalCount=t,a=0;a<t;a++)r=trackingMap[i[a]],currentTracker=r,ninja.trackers[r].trackLinkEvent(o);ninja.linkSetTimeout=setTimeout((function(){ninja.linkCount=ninja.linkTotalCount,ninja.linkCallBack.call(null,ninja.linkEventName),ninja.linkTotalCount=0,ninja.linkCallBack=null}),1e3)}catch(e){trackError("JAVASCRIPT_ERROR",currentTracker,"trackLinkEvent",e)}},ninja.cleanup=function(e){var n,a,t=!0;try{for(;t;)for(t=!1,a=ninjaConfig.dataLayer.length,n=0;n<a;n+=1)(void 0===ninjaConfig.dataLayer[n].event||"gtm."!==ninjaConfig.dataLayer[n].event.slice(0,4)&&void 0!==ninjaConfig.dataLayer[n]["gtm.uniqueEventId"])&&"object"==typeof ninjaConfig.dataLayer[n]&&void 0===ninjaConfig.dataLayer[n].call&&void 0===ninjaConfig.dataLayer[n].dynx_itemid&&void 0===ninjaConfig.dataLayer[n].dynx_totalvalue&&void 0===ninjaConfig.dataLayer[n].dynx_pagetype&&(ninjaConfig.dataLayer.splice(n,1),n=a,t=!0);"function"==typeof e&&e.call()}catch(e){trackError("JAVASCRIPT_ERROR",currentTracker,"cleanup",e)}},ninja.event=function(e){try{ninjaConfig.callBack&&ninjaConfig.callBack.call(ninja,e)}catch(e){trackError("JAVASCRIPT_ERROR",currentTracker,"event",e)}},ninja.trackEvent,ninja.trackPage;var checkParam=ninja.checkParam,sortProp="==typeof e}function trackPageDelayed(e,n){var a=extend(n||{},{trackPage:e});ninjaConfig.dataLayerDelayed.push(a)}function trackEventDelayed(e,n){var a;e&&ninjaConfig.dataLayerDelayed&&(a=extend(n||{},{trackEvent:isArray(e)?e:[e]}),ninjaConfig.dataLayerDelaymDelayed()}function sortOrderComparator(e,n){return isNumber(e[sortProp])&&isNumber(n[sortProp])?e[sortProp]-n[sortProp]:isNumber(e[sortProp])?-1/0:1/0}function checkParamDelayed(){var e,n,a=ninjaConfig.dataLayerDelayed.sort(sortOrderComparator);for(e in ninjaConfig.dataLayerDelayed=[],a)Object.prototype.hasOwnProperty.call(a,e)&&"object"==typeof(n=a[e])&&(delete n[sortProp],ninjaConfig.dataLayer.push(n))}var REQUIRED_CATEGORIES=[C.C0002,C.C0003],originalDataLayerPush;function initNinja(){try{var e;if(regionConfig.custom[ninjaConfig.siteUrl]){for(ninjaConfig.dataLayer=ninjaConfig.dataLayer||[],ninjaConfig.dataLayerDelayed=ninjaConfig.dataLayerDelayed||[],originalDataLayerPush||(originalDataLayerPush=ninjaConfig.dataLayer.push),ninjaConfig.dataLayer.push=function(e){var n=originalDataLayerPush.apply(ninjaConfig.dataLayer,[e]);return checkParam(),n},window.trackingQueue||(window.trackingQueue=[]),window.trackingQueue.push=function(e){return"function"==typeof e?(e(),0):-1};window.trackingQueue.length>0;)window.trackingQueue.push(window.trackingQueue.shift());for(var n in ninjaConfig.dataLayer)Object.prototype.hasOwnProperty.call(ninjaConfig.dataLayer,n)&&ninjaConfig.dataLayer[n].trackPage&&(e=!0);e||ninjaConfig.disableDefaultTrackPage?checkParam():configTracking.unitTest||(window.location.pathname?ninjaConfig.dataLayer.push({trackPage:eucex(getCurrentPath())}):ninjaConfig.dataLayer.push({trackPage:"home"})),inArray(getPluginList(),"LQ")&&setTimeout(init,0)}}catch(e){"function"==typeof trackError&&trackError("JAVASCRIPT_ERROR",currentTracker,"",e)}}function cleanupNinjaCookies(){for(var e=["onap","lqonap","laquesis","laquesisff","laquesissu","lqstatus","laquesisqa","invite","ldTd"],n=0;n<e.length;n++)cleanCookie(e[n])}function cleanupNinja(){var e,n,a,t;for(cleanupNinjaCookies(),ninjaConfig.dataLayer&&originalDataLayerPush&&(ninjaConfig.dataLayer.push=originalDataLayerPush),n=(a=getTrackerList()).length,e=0;e<n;e++)t=trackingMap[a[e]],"function"==typeof trackers[t].cleanup&&trackers[t].cleanup()}function hasRequiredConsent(){for(var e=!0,n=0;n<REQUIRED_CATEGORIES.length&&(e=e&&s$1(REQUIRED_CATEGORIES[n]));n++);return e}function initCallback(){hasRequiredConsent()?setTimeout((function(){initNinja()}),100):cleanupNinja()}function trackEvent(e,n){var a;e&&ninjaConfig.dataLayer&&(a=extend(n||{},{trackEvent:isArray(e)?e:[e]}),ninjaConfig.dataLayer.push(a))}function trackPage(e,n){var a=extend(n||{},{trackPage:e});ninjaConfig.dataLayer.push(a)}isEprivacyStorageRequired()?a$1().then((function(){initCoolback()}))}))})):initCooa()}),100)}));var index={currentSession:currentSession,trackEvent:trackEvent,trackPage:trackPage,trackEventDelayed:trackEventDelayed,trackPageDelayed:trackPageDelayed,flushDelayed:flushDelayed};return index}));
//# sourceMappingURL=ninja-ciam.js.map
