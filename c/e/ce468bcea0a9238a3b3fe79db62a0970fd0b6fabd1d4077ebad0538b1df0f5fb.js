"use strict";(self.webpackChunkmimecast=self.webpackChunkmimecast||[]).push([[641],{7312:(e,t,i)=>{function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{m:()=>s});class s{constructor(e,t){r(this,"invisibleRecaptchaComponent",null),r(this,"invisibleRecaptchaElement",void 0),this.invisibleRecaptchaComponent=document.querySelector(".invisible-recaptcha"),this.invisibleRecaptchaComponent&&(this.checkRecaptchaElement(),this.invisibleRecaptchaElement.callingElement=t,this.setCallbackFunction(e))}setCallbackFunction(e){this.invisibleRecaptchaComponent&&(this.checkRecaptchaElement(),this.invisibleRecaptchaElement.componentCallback=e)}resetRecaptcha(){var e;"function"==typeof(null===(e=grecaptcha)||void 0===e?void 0:e.reset)&&grecaptcha.reset()}executeRecaptchaCheck(){var e;"function"==typeof(null===(e=grecaptcha)||void 0===e?void 0:e.execute)&&grecaptcha.execute()}checkRecaptchaElement(){var e;this.invisibleRecaptchaElement=null===(e=this.invisibleRecaptchaComponent)||void 0===e?void 0:e.querySelector("#g-recaptcha")}}},2747:(e,t,i)=>{function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e){return window.innerWidth>=e}function o(){return s(768)}unction l(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}new class{constructor(){r(this,"minimalHeader",void 0),r(this,"menuButton",null),r(this,"navLinks",null),r(this,"navButtons",null),this.minimalHeader=document.querySelector(".minimal-header"),this.minimalHeader&&(this.menuButton=document.getElementById("minimal-header__mobile-menu-button"),this.menuButton.addEventListener("click",(()=>this.toggleMenu())),this.navLinks=document.getElementById("minimal-header__nav-links"),this.navButtons=document.querySelectorAll(".minimal-header__nav-button"),this.navButtons.forEach((e=>{e.addEventListener("click",(e=>this.toggleNavMenu(e))),e.addEventListener("blur",(e=>this.blurNavButton(e))),e.addEventListener("mousedown",(e=>this.mousedownNavButton(e)))})),window.addEventListener("resize",(e=>this.resizeWindow(e))))}mousedownNavButtonesizeWindow(e){window.innerWidth>1090&&this.navLinks.classList.remove("minimal-header__nav-links--animation-on")}blurNavButton(e){if(e.currentTarget===e.target){var t,i=e.relatedTarget;if(null!=i&&i.classList.contains("minimal-header__nav-button")||null!=i&&i.classList.contains("minimal-header__nav-anchor"));else if((null==i||null===(t=i.parentElement)||void 0===t?void 0:t.previousElementSibling)!=e.currentTarget){var r,s,o=e.target;null===(r=o.nextElementSibling)||void 0===r||r.classList.remove("minimal-header__subnav-content--open"),o.classList.remove("minimal-header__nav-button--open"),null===(s=o.firstElementChild)||void 0===s||s.classList.remove("minimal-header__leading-icon--open")}}}toggleNavMenu(e){if(e.currentTarget===e.target){var t,i,r=e.currentTarget;r.focus(),r.classList.contains("minimal-header__nav-button--open")?(null===(t=r.nextElementSibling)||void 0===t||t.classList.toggle("minimal-header__subnav-content--open"),r.classList.toggle("minimal-header__nav-button--open"),r.firstElementChild.classList.toggle("minimal-header__leading-icon--open")):null===(i=this.navButtons)||void 0===i||i.forEach((e=>{var t,i;e!=r?(null===(t=e.nextElementSibling)||void 0===t||t.classList.remove("minimal-header__subnav-content--open"),e.classList.remove("minimal-header__nav-button--open"),e.firstElementChild.classList.remove("minimal-header__leading-icon--open")):(null===(i=r.nextElementSibling)||void 0===i||i.classList.add("minimal-header__subnav-content--open"),r.classList.add("minimal-header__nav-button--open"),r.firstElementChild.classList.add("minimal-header__leading-icon--open"))}))}}toggleMenu(){var e;null===(e=this.navLinks)||void 0===e||e.classList.toggle("minimal-header__nav-links--opened"),document.body.classList.toggle("minimal-header__body-menu--open"),this.navLinks.classList.add("minimal-header__nav-links--animation-on")}},new class{constructor(){var e,t;if(l(this,"subNavigation",void 0),l(this,"level1List",void 0),l(this,"toggle",void 0),l(this,"listVisibleModifierCssClass",void 0),l(this,"linkItemExpandedModifierCssClass",void 0),l(this,"anchorsSpan",void 0),l(this,"anchors",void 0),this.subNavigation=document.getElementById("sub-navigation"),this.listVisibleModifierCssClass="sub-navigation__list--visible",this.linkItemExpandedModifierCssClass="sub-navigation__link-item--expanded",this.level1List=null===(e=this.subNavigation)||void 0===e?void 0:e.querySelector(".sub-navigation__list-level-1"),this.toggle=null===(t=this.subNavigation)||void 0===t?void 0:t.querySelector(".in-page-navigation__mobile-toggle"),this.subNavigation){var i;document.querySelectorAll(".sub-navigation__arrow-link").forEach((e=>{e.addEventListener("click",(e=>this.menuArrowLinkClick(e)))}));const e=this.subNavigation.querySelector(".sub-navigation__link-item--selected");e&&this.expandAncestorsAndDescendantsForSelected(e);const t=this.subNavigation.querySelector(".in-page-navigation__mobile-toggle");null==t||t.addEventListener("click",(e=>this.toogleClick(e))),document.addEventListener("scroll",this.highlightSubNavigation),this.anchorsSpan=this.subNavigation.querySelectorAll('[role="link"]'),this.anchors=null===(i=this.subNavigation)||void 0===i?void 0:i.querySelectorAll(".sub-navigation__anchor"),this.AdjustAnchorList(this.anchors,this.anchorsSpan)}}toogleClick(e){var t,i;null===(t=this.level1List)||void 0===t||t.classList.toggle("sub-navigation__list-level-1--mobile-hidden"),null===(i=this.toggle)||void 0===i||i.classList.toggle("sub-navigation__mobile-toggle--open"),e.preventDefault()}expandAncestorsAndDescendantsForSelected(e){if(e){let i=e.closest("ul");const r=e.nextElementSibling;for(o()&&this.toggleSection(r,e);i;){var t;const e=null===(t=i.parentElement)||void 0===t?void 0:t.closest("ul");if(e&&this.isTopLevelSection(e)){if(i.closest("li").classList.add("sub-navigation--section-selected"),o()){const e=i.previousElementSibling;this.toggleSection(i,e)}break}const r=i.previousElementSibling;this.toggleSection(i,r),i=e}}}isTopLevelSection(e){var t;return e&&(null===(t=e.parentElement)||void 0===t?void 0:t.matches("#sub-navigation"))}menuArrowLinkClick(e){e.preventDefault();const t=e.currentTarget,i=t.parentNode,r=i.nextElementSibling;r&&r.matches("ul")&&this.toggleSection(r,i,t)}toggleSection(e,t,i){if(e&&t){e.classList.toggle(this.listVisibleModifierCssClass),t.classList.toggle(this.linkItemExpandedModifierCssClass);const r=null!=i?i:t.getElementsByClassName("sub-navigation__arrow-link")[0];null==r||r.toggleAttribute("aria-expanded")}}AdjustAnchorList(e,t){null!=t&&t.length>0&&(t[0].className="sub-navigation__anchor--active"),null!=e&&e.length>0&&(e[e.length-1].style.paddingBottom="0rem")}highlightSubNavigation(e){let t=document.querySelectorAll(".anchor-block"),i=document.querySelectorAll('[role="link"]'),r=document.documentElement.scrollTop,s=document.body.scrollHeight-document.documentElement.offsetHeight;if(r===s)return null==i||i.forEach((e=>{e.className="sub-navigation__anchor--inactive"})),i[i.length-1].className="sub-navigation__anchor--active",!1;t.forEach((e=>{let t=e,s=t.offsetTop;if(r>=s){let e=document.querySelector("a[href=\\#"+t.id+"] > span");return null!=e&&(e.className.includes("sub-navigation__anchor-active")||(i.forEach((e=>{e.className="sub-navigation__anchor--inactive"})),e.className="sub-navigation__anchor--active")),!1}}))}},new class{constructor(){document.querySelectorAll(".footer__column-heading").forEach((e=>{e.addEventListener("click",(e=>this.toggleColumnLinks(e)))}))}toggleColumnLinks(e){var t;e.preventDefault();const i=e.currentTarget,r=i.querySelector(".footer__column-heading-icon");this.toggleIcon(r);const s=null===(t=i.parentElement)||void 0===t?void 0:t.querySelector(".footer__column-links");null==s||s.classList.toggle("footer__column-links--opened")}toggleIcon;var a=i(8595);let c={});function d(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u{constructor(e,t,i){var r,s;d(this,"carousel",void 0),d(this,"extensions",void 0);const o=e.getAttribute("data-carousel-go-to-slide-value"),n=e.getAttribute("data-carousel-previous-slide-value"),l=e.getAttribute("data-carousel-next-slide-value");this.extensions=i,this.carousel=new a.tv(e,{keyboard:"focused",focusableNodes:"",padding:{left:0,right:null!=(null==t?void 0:t.paddingRight)?t.paddingRight:0},autoWidth:null==t?void 0:t.autoWidth,i18n:{slideX:null!=o?o:"Go to slide %s",prev:null!=n?n:"Previous slide",next:null!=l?l:"Next slide"},updateOnMove:null==t?void 0:t.updateOnMove,drag:null===(r=null==t?void 0:t.drag)||void 0===r||r,slideFocus:!(null==t||!t.slideFocus)||void 0,focus:null!=t&&t.focusCenter?"center":void 0,autoplay:null==t?void 0:t.autoplay,type:(null!==(s=null==t?void 0:t.type)&&void 0!==s?s:null==t?void 0:t.autoplay)?c.loop:c.slide,interval:null==t?void 0:t.interval,gap:null==t?void 0:t.cardGap}),null!=t&&t.goToSlideOnClick&&this.carousel.on("click",(e=>{var t;null===(t=this.carousel.Components)||void 0===t||null===(t=t.Controller)||void 0===t||t.go(e.index,!1)}))}destroy(){this.carousel.state.is(a.tv.STATES.DESTROYED)||this.carousel.state.is(a.tv.STATES.CREATED)||this.carousel.destroy(!0)}mount(){(this.carousel.state.is(a.tv.STATES.CREATED)||this.carousel.state.is(a.tv.STATES.DESTROYED))&&this.carousel.mount(this.extensions)}ove(e){this.carousel.on("moved",()}onActive(e){this.carousel.on("active",()}}function h(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class m{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h(this,"carousels",[]),h(this,"selector",void 0),h(this,"keepCarouselOnLargeBreakpoint",void 0),h(this,"autoplay",void 0),this.selector=e,this.keepCarouselOnLargeBreakpoint=t,this.autoplay=i}init(){document.querySelectorAll(this.selector).forEach((e=>{const t=e.querySelector(".splide");if(t){const e={paddingRight:"4.5rem",autoplay:this.autoplay};this.carousels.push(new u(t,e))}})),window.addEventListener("resize",(()=>this.mobileOnlyCarouselResize())),this.deviceIsUsingDesktopLayout()||this.carousels.forEach((e=>{e.mount()}))}mobileOnlyCarouselResize(){this.deviceIsUsingDesktopLayout()?this.carousels.forEach((e=>{e.destroy()})):this.carousels.forEach((e=>{e.mount()}))}deviceIsUsingDesktopLayoutnew class{constructor;var v=i(272),p=i(9917);function g(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class b{constructor(e,t){g(this,"store",void 0),g(this,"key",void 0),g(this,"options",void 0),g(this,"filter",void 0),g(this,"button",void 0),this.store=t,this.filter=e,this.key=e.getAttribute("data-filter-key")||"",this.options=e.querySelectorAll(".filtered-article-grid__checkbox-input"),this.button=e.querySelector(".filtered-article-grid__filter-label")}initialise(){var e;const{getState:t,subscribe:i}=this.store,{selectFilterOption:r,unselectFilterOption:s,toggleFilter:o}=t();this.filter.addEventListener("click",(),null===(e=this.options)||void 0===e||e.forEach((e=>{e.addEventListener("change",(e=>{const t=e.currentTarget;t.checked?(r(this.key,t.value),this.pushAnalyticsEvent(t)):s(this.key,t.value)}))})),i((e=>this.onFilterExpandedChange.call(this,e)),(e=>{var t;return(null===(t=e.filters.find((e=>e.key===this.key)))||void 0===t?void 0:t.expanded)||!1})),i((e=>this.onSelectedOptionsChange.call(this,e)),(e=>{var t;return(null===(t=e.filters.find((e=>e.key===this.key)))||void 0===t?void 0:t.selectedOptions)||[]}))}onFilterExpandedChange(e){var t;this.filter.classList.toggle("filtered-article-grid__filter-option--expanded",e),null===(t=this.button)||void 0===t||t.setAttribute("aria-expanded",e.toString())}onSelectedOptionsChange(e){const t=e.length>0;this.filter.classList.toggle("filtered-article-grid__filter-option--has-selected-options",t)}pushAnalyticsEvent(e){var t,i;const r=null===(t=this.button)||void 0===t||null===(t=t.textContent)||void 0===t?void 0:t.toString(),s=null==e||null===(i=e.parentElement)||void 0===i||null===(i=i.textContent)||void 0===i?void 0:i.trim(),o=document.URL;p.Z.pushEvent({event:"filterapplied",eventCategory:"More Insights filter",eventAction:"".concat(r," - ").concat(s),eventLabel:"".concat(o)})}}var f=i(9148);const y=(e,t,i)=>{const r=e.filters.find(();return void 0===r?[...e.filters]:[...e.filters.filter((),i(r)]},k=(e,t)=>e.filters.map((e=>e.key===t?{...e,expanded:!e.expanded}:{...e,expanded:!1})),S=(e,t)=>({...e,filters:t,loadingFilterChange:!0,noResults:!1,hasMoreArticles:!1,anyFiltersSelected:t.some(()}),_=new WeakMap,E=(0,v.XM)(();var C,w,L,M,T,A,R,q,x,I,H,B,O,F,z,P;function j(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function D(e){const t="Grid2X3"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Grid3X2")?"col-md-6":"col-md-6 col-lg-4";return(0,v.dy)(z||(z=j([" ",""])),null==e?void 0:e.map((e=>{return(0,v.dy)(P||(P=j(['<div class="','">\n      <div class="article-card article-card--compact-mobile">\n        <a class="article-card__link" href="','">\n          ','\n          <div class="article-summary">\n            '," ",'\n            <h3 class="article-summary__title">',"</h3>\n            "," "," "," ","\n          </div>\n        </a>\n      </div>\n    </div>"])),t,e.linkUrl,(i=e).heroImage.src&&!i.hideImage?(0,v.dy)(R||(R=j([' <div class="article-card__image-wrapper">\n        <img\n          class="article-card__image"\n          sizes="(min-width: 992px) 33vw,(min-width: 768px) 50vw, 100vw"\n          src="','"\n          alt="','"\n          width="','"\n          height="','"\n          loading="lazy"\n          srcset="','"\n        />\n      </div>'])),i.heroImage.src,i.heroImage.alt,i.heroImage.width,i.heroImage.height,E(i.heroImageSrcSet?i.heroImageSrcSet:void 0)):(0,v.dy)(q||(q=j([""]))),function(e){return e.displayTopic?(0,v.dy)(T||(T=j(['<div class="article-summary__topic">',"</div>"])),e.primaryTopic):(0,v.dy)(A||(A=j([""])))}(e),function(e){return e.displayDate?(0,v.dy)(C||(C=j(['<div class="article-summary__date">\n        <time datetime="','">',"</time>\n      </div>"])),e.dateAttributeFormatted,e.dateReadableFormatted):(0,v.dy)(w||(w=j([""])))}(e),e.title.value,function(e){return e.displayRegionInfo?(0,v.dy)(x||(x=j(['<p class="article-summary__region-info">',"</p>"])),e.regionInfo):(0,v.dy)(I||(I=j([""])))}(e),function(e){return e.displayBodySummary?(0,v.dy)(H||(H=j(['<p class="article-summary__body">',"</p>"])),e.bodySummaryText):(0,v.dy)(B||(B=j([""])))}(e),function(e){return e.displayFullBody?(0,v.dy)(O||(O=j(["<p>","</p>"])),e.body):(0,v.dy)(F||(F=j([""])))}(e),function(e){return e.displayType?(0,v.dy)(L||(L=j(['<div class="resource-type article-summary__resource-type">\n        <span class="resource-type__icon resource-type--','"></span>\n        <span class="resource-type__text">',"</span>\n      </div>"])),e.resourceTypeDisplayName.toLocaleLowerCase().replace(" ","-"),e.resourceTypeDisplayName):(0,v.dy)(M||(M=j([""])))}(e));var i})))}const N=new class{getArticles(e,t,i,r,s,o,n,l,a){const c="".concat(e,"/api/articles");return fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({articleType:t,language:i,numberOfArticles:r,articlesToSkipCursor:o,topicId:n,authorId:l,resourceTypeId:a,taxonomyFilters:null==s?void 0:s.map(()})}).then((e=>e.ok?e.text():null)).then((e=>e?JSON.parse(e):null))}};function V(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class U{constructor(e){var t;V(this,"list",void 0),V(this,"filterElements",void 0),V(this,"filters",[]),V(this,"store",void 0),V(this,"mobileFilterToggle",null),V(this,"filterBar",null),V(this,"resetFiltersButton",void 0),V(this,"allFilterOptionCheckboxes",void 0),V(this,"apiHostName",void 0),V(this,"initialArticlesToSkipCursor",void 0),V(this,"defaultArticlesToSkipCursor",void 0),V(this,"numberOfArticlesToRetrieve",void 0),V(this,"language",void 0),V(this,"articleWrapper",null),V(this,"loadMoreButton",void 0),V(this,"articleType",void 0),V(this,"topicId",void 0),V(this,"authorId",void 0),V(this,"resourceTypeId",void 0),V(this,"layout",void 0),this.list=e,this.filterElements=this.list.querySelectorAll(".filtered-article-grid__filter-option"),this.mobileFilterToggle=this.list.querySelector(".filtered-article-grid__mobile-filters-toggle"),this.filterBar=this.list.querySelector(".filtered-article-grid__filter-bar"),this.resetFiltersButton=this.list.querySelector(".filtered-article-grid__reset-filters-button"),this.allFilterOptionCheckboxes=this.list.querySelectorAll(".filtered-article-grid__checkbox-input"),this.articleType=this.list.getAttribute("data-article-type")||"",this.apiHostName=this.list.getAttribute("data-api-hostname")||"",this.initialArticlesToSkipCursor=this.list.getAttribute("data-initial-articles-to-skip-cursor"),this.defaultArticlesToSkipCursor=this.list.getAttribute("data-default-articles-to-skip-cursor"),this.topicId=this.list.getAttribute("data-topic-id"),this.authorId=this.list.getAttribute("data-author-id"),this.resourceTypeId=this.list.getAttribute("data-resource-type-id"),this.layout=this.list.getAttribute("data-layout"),this.language=(null===(t=document.querySelector("html"))||void 0===t?void 0:t.getAttribute("lang"))||"",this.articleWrapper=this.list.querySelector(".filtered-article-grid__article-wrapper"),this.loadMoreButton=this.list.querySelector(".filtered-article-grid__load-more-button");const i=this.setupInitialFilterState(),r=JSON.parse(this.list.getAttribute("data-article-data")||"");this.numberOfArticlesToRetrieve=Number(this.list.getAttribute("data-number-of-articles-to-retrieve")),this.store=((e,t)=>(0,f.Z)((i=>({filters:e,articles:t.articles,loadingFilterChange:!1,loadingMore:!1,filterBarExpanded:!1,noResults:!1,anyFiltersSelected:!1,articlesEndCursor:t.articlesEndCursor,hasMoreArticles:t.hasMoreArticles,selectFilterOption:(e,t)=>i((i=>S(i,y(i,e,(e=>((e,t)=>{let{selectedOptions:i,...r}=e;return{...r,expanded:!1,selectedOptions:[...i,t]}})(e,t)))))),unselectFilterOption:(e,t)=>i((i=>S(i,y(i,e,(e=>((e,t)=>{let{selectedOptions:i,...r}=e;return{...r,expanded:!1,selectedOptions:i.filter(()}})(e,t)))))),toggleFilter:e=>i((),finishedLoadingFilterChange:()=>i((()=>({loadingFilterChange:!1}))),toggleFilterBar:()=>i((),noResultsReturned:()=>i((),resetFilters:()=>i((e=>S(e,e.filters.map(()))),updateArticles:(e,t,r)=>i((),appendArticles:(e,t,r)=>i((i=>{let{articles:s}=i;return{articles:[...s,...e],articlesEndCursor:t,hasMoreArticles:r}})),loadMore:()=>i((()=>({loadingMore:!0}))),finishedLoadingMore:()=>i((()=>({loadingMore:!1})))}))))(i,r)}setupInitialFilterState(){const e=[];return this.filterElements.forEach((t=>{const i=t.getAttribute("data-filter-key");i&&e.push({key:i,expanded:!1,selectedOptions:[]})})),e}initialise(){var e,t,i;const{getState:r,subscribe:s}=this.store,{toggleFilterBar:o,resetFilters:n}=r();this.filterElements.forEach((e=>{const t=new b(e,this.store);t.initialise(),this.filters.push(t)})),null===(e=this.mobileFilterToggle)||void 0===e||e.addEventListener("click",(),null===(t=this.resetFiltersButton)||void 0===t||t.addEventListener("click",(()=>{n(),this.allFilterOptionCheckboxes.forEach(()})),null===(i=this.loadMoreButton)||void 0===i||i.addEventListener("click",(()=>{this.loadMoreArticles()})),s((e=>this.onFilterBarExpandedChange.call(this,e)),(e=>e.filterBarExpanded)),s((e=>this.onLoadingFilterChange.call(this,e)),(e=>e.loadingFilterChange)),s((e=>this.onLoadingMoreChange.call(this,e)),(e=>e.loadingMore)),s((e=>this.onNoResultsChange.call(this,e)),(e=>e.noResults)),s((e=>this.onAnyFiltersSelectedChange.call(this,e)),(e=>e.anyFiltersSelected)),s((e=>this.onHasMoreArticlesChange.call(this,e)),(e=>e.hasMoreArticles)),s((e=>this.onArticlesChange.call(this,e)),(e=>e.articles))}loadMoreArticles(){const{loadMore:e}=this.store.getState();e()}onFilterBarExpandedChange(e){var t,i,r;null===(t=this.filterBar)||void 0===t||t.classList.toggle("filtered-article-grid__filter-bar--expanded",e),null===(i=this.mobileFilterToggle)||void 0===i||i.classList.toggle("filtered-article-grid__mobile-filters-toggle--expanded",e),null===(r=this.mobileFilterToggle)||void 0===r||r.setAttribute("aria-expanded",e.toString())}onLoadingFilterChange(e){if(this.list.classList.toggle("filtered-article-grid--loading",e),e){const{filters:e,anyFiltersSelected:t,noResultsReturned:i,updateArticles:r,finishedLoadingFilterChange:s}=this.store.getState(),o=t?this.defaultArticlesToSkipCursor:this.initialArticlesToSkipCursor;N.getArticles(this.apiHostName,this.articleType,this.language,this.numberOfArticlesToRetrieve,e,o,this.topicId,this.authorId,this.resourceTypeId).then((e=>{e&&e.articles.length>0?r(e.articles,e.articlesEndCursor,e.hasMoreArticles):(i(),s())}))}}onLoadingMoreChange(e){if(this.list.classList.toggle("filtered-article-grid--loading-more",e),e){const{filters:e,articlesEndCursor:t,appendArticles:i}=this.store.getState();N.getArticles(this.apiHostName,this.articleType,this.language,this.numberOfArticlesToRetrieve,e,t,this.topicId,this.authorId,this.resourceTypeId).then((e=>{e&&e.articles.length>0&&i(e.articles,e.articlesEndCursor,e.hasMoreArticles)}))}}onNoResultsChange(e){this.list.classList.toggle("filtered-article-grid--no-results",e)}onAnyFiltersSelectedChange(e){var t;null===(t=this.mobileFilterToggle)||void 0===t||t.classList.toggle("filtered-article-grid__mobile-filters-toggle--has-selected-options",e),null!==this.resetFiltersButton&&(this.resetFiltersButton.disabled=!e)}onHasMoreArticlesChange(e){var t;null===(t=this.loadMoreButton)||void 0===t||t.classList.toggle("filtered-article-grid__load-more-button--hidden",!e)}onArticlesChange(e){const{finishedLoadingFilterChange:t,finishedLoadingMore:i}=this.store.getState();"Grid2X3"===this.layout&&e.forEach((),(0,v.sY)(D(e,this.layout),this.articleWrapper),t(),i()}}function W(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function J(e,t){const i=new Date;i.setTime(i.getTime()+2592e6);const r=i.toUTCString(),s="; expires=".concat(r);document.cookie="".concat(t,"=").concat(e).concat(s,"; path=/;samesite=strict; secure")}function Q(e){const t=document.cookie.match(new RegExp("(^| )".concat(e,"=([^;]+)")));let i="";return t&&(i=t[2].toString()),i}function Y(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function G(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}new class{constructor(){document.querySelectorAll(".filtered-article-grid").forEach((e=>{new U(e).initialise()}))}},new class{constructor(){var e;W(this,"buttonToggle",null),W(this,"scrollThrottleTimerId",null),W(this,"backToTopElement",null),this.backToTopElement=document.getElementById("back-to-top"),null!=this.backToTopElement&&(window.addEventListener("scroll",(()=>{null==this.scrollThrottleTimerId&&(this.scrollThrottleTimerId=window.setTimeout((()=>{this.toggleBackToTopModifier()}),2e3))})),this.buttonToggle=this.backToTopElement.querySelector(".back-to-top__button"),null===(e=this.buttonToggle)||void 0===e||e.addEventListener("click",(e=>this.backtotopToggleClick(e))))}toggleBackToTopModifier(){var e,t;window.scrollY>2400?null===(e=this.backToTopElement)||void 0===e||e.classList.add("back-to-top--show"):null===(t=this.backToTopElement)||void 0===t||t.classList.remove("back-to-top--show"),this.scrollThrottleTimerId=null}backtotopToggleClick,new class{constructor(){var e;Y(this,"newsAnnoucementElement",void 0),Y(this,"newsAnnouncement",void 0),Y(this,"hashContent",void 0),Y(this,"closeNewsAnnouncement",void 0),Y(this,"cookieName","announcement"),this.newsAnnoucementElement=document.getElementById("announcement-holder"),this.newsAnnouncement=document.getElementById("announcement-bar"),this.hashContent=null===(e=document.getElementById("announcement-bar"))||void 0===e?void 0:e.getAttribute("data-content-hash"),this.closeNewsAnnouncement=document.getElementById("close-announcement-bar"),this.closeNewsAnnouncement&&this.closeNewsAnnouncement.addEventListener("click",(()=>this.closeNewsAnnouncementClick())),document.addEventListener("DOMContentLoaded",(()=>this.initSetup()))}closeNewsAnnouncementClick(){this.newsAnnouncement&&this.newsAnnouncement.classList.toggle("announcement-bar__section--slide-up"),this.setupCookie()}setupCookienitSetup(){this.newsAnnoucementElement&&Q(this.cookieName)!==this.hashContent&&this.newsAnnoucementElement.classList.add("announcement-bar--show-announcement")}},new class{constructor(){new m(".special-collection-article",!0).init()}};class X{constructor(e){var t;G(this,"ourPicksComponent",void 0),G(this,"loadMoreButton",void 0),G(this,"featuredArticleCards",void 0),G(this,"articleCardArray",void 0),G(this,"numberOfCardsToIncrement",void 0),G(this,"totalNumberOfCards",void 0),G(this,"loadMoreHiddenCssModifier","featured-card-list__load-more-button--hidden"),this.ourPicksComponent=e,this.loadMoreButton=this.ourPicksComponent.querySelector(".featured-card-list__load-more-button"),this.featuredArticleCards=this.ourPicksComponent.querySelectorAll(".featured-card-list__item"),this.articleCardArray=Array.from(this.featuredArticleCards),this.numberOfCardsToIncrement=Number(this.ourPicksComponent.getAttribute("data-number-of-cards-to-increment")),this.totalNumberOfCards=this.featuredArticleCards?null===(t=this.featuredArticleCards)||void 0===t?void 0:t.length:0}initialise(){var e,t;null===(e=this.loadMoreButton)||void 0===e||e.addEventListener("click",(()=>{this.onLoadMoreClick()})),this.totalNumberOfCards>this.numberOfCardsToIncrement&&(null===(t=this.loadMoreButton)||void 0===t||t.classList.remove(this.loadMoreHiddenCssModifier))}onLoadMoreClick(){var e,t;const i=this.featuredArticleCards?null===(e=this.featuredArticleCards)||void 0===e?void 0:e.length:0,r=this.ourPicksComponent.querySelectorAll(".featured-card-list__item--hidden").length,s=i-r+this.numberOfCardsToIncrement;var o;r<=this.numberOfCardsToIncrement&&(null===(o=this.loadMoreButton)||void 0===o||o.classList.add(this.loadMoreHiddenCssModifier)),null===(t=this.articleCardArray)||void 0===t||t.slice(0,s).forEach((e=>{e.classList.remove("featured-card-list__item--hidden")}))}}new class{constructor(){document.querySelectorAll(".our-picks").forEach((e=>{new X(e).initialise()}))}};const Z=new class{getAuthors(e,t,i,r){const s="".concat(e,"/api/authors");return fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({language:t,numberOfAuthors:i,authorsToSkipCursor:r})}).then((e=>e.ok?e.text():null)).then((e=>e?JSON.parse(e):null))}};var K,$;function ee(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function te(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ie{constructor(e){var t,i;te(this,"list",void 0),te(this,"authorsWrapper",void 0),te(this,"loadMoreButton",void 0),te(this,"authorListArticlesLinkLabel",void 0),te(this,"numberOfCardsToIncrement",void 0),te(this,"hasMoreAuthors",void 0),te(this,"apiHostName",void 0),te(this,"language",void 0),te(this,"store",void 0),this.list=e,this.authorsWrapper=this.list.querySelector(".author-list__author-cards"),this.loadMoreButton=this.list.querySelector(".author-list__load-more-button"),this.authorListArticlesLinkLabel=this.list.getAttribute("data-author-list-articles-link-label")||"",this.numberOfCardsToIncrement=Number(this.list.getAttribute("data-number-of-author-cards-to-increment"))||0,this.hasMoreAuthors="true"===(null===(t=this.list.getAttribute("data-has-more-authors"))||void 0===t?void 0:t.toLowerCase()),this.apiHostName=this.list.getAttribute("data-api-hostname")||"",this.language=(null===(i=document.querySelector("html"))||void 0===i?void 0:i.getAttribute("lang"))||"";const r=JSON.parse(this.list.getAttribute("data-author-data")||"");this.store=((e,t)=>(0,f.Z)((i=>({authors:e,loadingMore:!1,hasMoreAuthors:t,appendAuthors:(e,t)=>i((i=>{let{authors:r}=i;return{authors:[...r,...e],hasMoreAuthors:t}})),loadMore:()=>i((()=>({loadingMore:!0}))),finishedLoadingMore:()=>i((()=>({loadingMore:!1})))}))))(r,this.hasMoreAuthors)}initialise(){var e,t;this.hasMoreAuthors&&(null===(t=this.loadMoreButton)||void 0===t||t.classList.remove("author-list__load-more-button--hidden")),null===(e=this.loadMoreButton)||void 0===e||e.addEventListener("click",(()=>{this.loadMoreAuthors()}));const{subscribe:i}=this.store;i((e=>this.onLoadingMoreChange.call(this,e)),(e=>e.loadingMore)),i((e=>this.onHasMoreAuthorsChange.call(this,e)),(e=>e.hasMoreAuthors)),i((e=>this.onAuthorsChange.call(this,e)),(e=>e.authors))}authorTemplate(e){return(0,v.dy)(K||(K=ee([" ",""])),null==e?void 0:e.map((e=>{const t=e;return(0,v.dy)($||($=ee(['<div class="offset-sm-2 offset-md-0 col-sm-8 col-md-6 col-lg-4">\n        <div class="author-card">\n          <div class="author-card__image-container">\n            <img\n              class="author-card__image"\n              sizes="(min-width: 992px) 33vw,(min-width: 768px) 50vw, 100vw"\n              src="','"\n              alt="','"\n              width="','"\n              height="','"\n              loading="lazy"\n              srcset="','"\n            />\n          </div>\n          <div class="author-card__name">','</div>\n          <div class="author-card__author-type">','</div>\n          <div class="author-card__role">','</div>\n          <a class="cta-button cta-button--tertiary author-card__articles-link" href="','">',"</a>\n        </div>\n      </div>"])),t.avatarImage.src,t.name,t.avatarImage.width,t.avatarImage.height,E(t.avatarImageSrcSet?t.avatarImageSrcSet:void 0),t.name,t.authorType,t.role,t.authorUrl,this.authorListArticlesLinkLabel)})))}loadMoreAuthors(){const{loadMore:e}=this.store.getState();e()}onLoadingMoreChange(e){if(this.list.classList.toggle("author-list--loading-more",e),e){const{appendAuthors:e}=this.store.getState(),t=this.list.querySelectorAll(".author-card").length;Z.getAuthors(this.apiHostName,this.language,this.numberOfCardsToIncrement,t).then((t=>{t.authors.length&&e(t.authors,t.hasMoreAuthors)}))}}onHasMoreAuthorsChange(e){var t;null===(t=this.loadMoreButton)||void 0===t||t.classList.toggle("author-list__load-more-button--hidden",!e)}onAuthorsChange(e){const{finishedLoadingMore:t}=this.store.getState();(0,v.sY)(this.authorTemplate(e),this.authorsWrapper),t()}}function re(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function se(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}new class{constructor(){document.querySelectorAll(".author-list").forEach((e=>{new ie(e).initialise()}))}},new class{constructor(){re(this,"navigationBar",void 0),re(this,"navigationBarMenuCta",null);const e=document.getElementById("navigation-bar");e&&(this.navigationBar=e,this.navigationBarMenuCta=this.navigationBar.querySelector(".navigation-bar__cta-link"),this.navigationBarMenuCta&&this.navigationBarMenuCta.addEventListener("click",(e=>this.navigationBarCtaClick(e))))}navigationBarCtaClick(e){var t;e.preventDefault();const i="navigation-bar--opened";this.navigationBar.classList.toggle(i);const r=this.navigationBar.classList.contains(i);null===(t=this.navigationBarMenuCta)||void 0===t||t.setAttribute("aria-expanded",r.toString()),r&&this.navigationBar.querySelector(".navigation-bar__link").focus()}};class oe{constructor(e,t){se(this,"searchButton",void 0),se(this,"searchModal",void 0),se(this,"searchTouchEventFired",!1),this.searchButton=e.querySelector(".header__search-button"),this.searchModal=t}earchBarToggleFirstTouchInteraction(){this.searchTouchEventFired=!0,this.searchButton.dispatchEvent(new Event("click"))}onSearchButtonClick(){this.searchTouchEventFired&&this.searchModal.isModalOpen()?(this.searchModal.focusSearchInput(),this.searchTouchEventFired=!1):this.searchModal.toggleModal()}}var ne=i(2938);const le=new class{getAutosuggests(e,t){const i="".concat(e,"/api/sitewidesearchautosuggest?searchTerm=").concat(t);return fetch(i,{method:"GET"}).then(().then(().catch(()}};var ae,ce;unction ue(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class he{constructor(e,t){var i,r,s;ue(this,"searchModal",void 0),ue(this,"store",void 0),ue(this,"searchInput",void 0),ue(this,"searchInputDropdown",void 0),ue(this,"dropdownMenu",void 0),ue(this,"searchPageUrl",void 0),ue(this,"queryKey",void 0),ue(this,"apiHostName",void 0),this.searchModal=e,this.store=t,this.searchInput=null===(i=this.searchModal)||void 0===i?void 0:i.querySelector(".header-search-modal__input"),this.searchInputDropdown=null===(r=this.searchModal)||void 0===r?void 0:r.querySelector(".input-group-dropdown"),this.dropdownMenu=null===(s=this.searchInputDropdown)||void 0===s?void 0:s.querySelector(".input-group-dropdown__menu"),this.searchPageUrl=(null==e?void 0:e.getAttribute("data-search-page-url"))||"",this.queryKey=(null==e?void 0:e.getAttribute("data-query-key"))||"",this.apiHostName=(null==e?void 0:e.getAttribute("data-api-host-name"))||""}initialise(){var e;null===(e=this.searchInput)||void 0===e||e.addEventListener("input",(0,ne.D)(this.onSearchInputChange.bind(this),750,{maxWait:3e3}));const{subscribe:t}=this.store;t((e=>this.onSearchQueryChange.call(this,e)),(e=>e.searchQuery)),t((e=>this.onAutosuggestsChange.call(this,e)),(e=>e.results)),t((e=>this.onShowResultsChange.call(this,e)),(e=>e.showResults))}focus(){this.searchInput.focus()}onSearchInputChange(){const{updateSearchQuery:e}=this.store.getState();e(this.searchInput.value)}onSearchQueryChange(e){const{updateAutosuggests:t,clearAutosuggests:i}=this.store.getState();e.trim().length>=3?le.getAutosuggests(this.apiHostName,e).then(():i()}onAutosuggestsChange(e){const{finishedRenderingAutosuggests:t}=this.store.getState();(0,v.sY)(this.searchResultsTemplate(e),this.dropdownMenu),t()}searchResultsTemplate(e){return(0,v.dy)(ae||(ae=de([" ",""])),null==e?void 0:e.map((e=>(0,v.dy)(ce||(ce=de(['<li class="input-group-dropdown__item">\n        <a class="input-group-dropdown__link" href="',"?","=",'">',"</a>\n      </li>"])),this.searchPageUrl,this.queryKey,encodeURIComponent(e.query),e.displayText))))}function me(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ve{constructor(e,t){var i,r,s;me(this,"searchModalOpenedClass","header-search-modal--opened"),me(this,"headerElement",void 0),me(this,"searchModalContainer",void 0),me(this,"searchModal",void 0),me(this,"searchOverlayModal",void 0),me(this,"searchCloseInputButton",void 0),me(this,"closeHeaderMenu",void 0),me(this,"searchInput",void 0),me(this,"store",void 0),this.headerElement=e,this.searchModalContainer=document.querySelector(".header-search-modal"),this.searchModal=null===(i=this.searchModalContainer)||void 0===i?void 0:i.querySelector(".header-search-modal__modal"),this.searchOverlayModal=null===(r=this.searchModalContainer)||void 0===r?void 0:r.querySelector(".header-search-modal__overlay"),this.searchCloseInputButton=null===(s=this.searchModalContainer)||void 0===s?void 0:s.querySelector(".header-search-modal__close-button"),this.closeHeaderMenu=t,this.store=(0,f.Z)((e=>({searchQuery:"",results:[],showResults:!1,updateSearchQuery:updateAutosuggests:t=>e((),clearAutosuggests:()=>e((),finishedRenderingAutosuggests:()=>e((()=>({showResults:!0})))}))),this.searchInput=new he(this.searchModalContainer,this.store)}initialise(){var e,t;null===(e=this.searchOverlayModal)||void 0===e||e.addEventListener("click",(()=>this.onSearchOverlayClick())),null===(t=this.searchCloseInputButton)||void 0===t||t.addEventListener("click",(()=>this.onSearchCloseInputButtonClick())),this.searchInput.initialise()}sModalOpen(){var e;return null===(e=this.searchModalContainer)||void 0===e?void 0:e.classList.contains(this.searchModalOpenedClass)}penSearchModal(){this.closeHeaderMenu();const e=this.headerElement.offsetTop+this.headerElement.clientHeight;this.searchModal.style.top="".concat(e+30,"px"),this.searchModalContainer.classList.add(this.searchModalOpenedClass),this.focusSearchInput()}closeSearchModal(){this.searchModalContainer.classList.remove(this.searchModalOpenedClass)}onSearchOverlayClick(){this.closeSearchModal()}onSearchCloseInputButtonClick(){this.closeSearchModal()}}function pe(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ge(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}new class{constructor(){pe(this,"headerMenuOpenedClass","header--menuopened"),pe(this,"headerSubMenuOpenedClass","header__sub-menus--open"),pe(this,"headerLanguageMenuOpenedClass","header__language-list--menuopen"),pe(this,"headerMenuTransitionOn","header__nav--menu-transition-on"),pe(this,"headerNavItemIconOpen","fa-chevron-up"),pe(this,"headerNavItemIconClosed","fa-chevron-down"),pe(this,"headerNavItemIconItemSelector",".header__nav-item-cheveron"),pe(this,"toggleMobileMenuElement",null),pe(this,"navElement",null),pe(this,"headerElement",void 0),pe(this,"headerLanguageHolder",null),pe(this,"headerSearchModal",null),pe(this,"topLevelLinks",null),pe(this,"touchendWasRecent",!1),this.headerElement=document.getElementById("header"),this.headerElement&&this.initHeader()}initHeader(){var e,t,i,r,s,o,n;this.toggleMobileMenuElement=document.querySelector(".header__menu-toggle"),this.navElement=document.querySelector(".header__nav"),this.headerLanguageHolder=document.querySelector(".header__language-holder"),null===(e=this.toggleMobileMenuElement)||void 0===e||e.addEventListener("click",(e=>this.clickToggleMobileMenu(e))),null===(t=this.toggleMobileMenuElement)||void 0===t||t.addEventListener("keydown",(e=>this.keyDownToggleMobileMenu(e))),this.topLevelLinks=document.querySelectorAll(".header__nav-item, .header__nav-lang-item"),this.topLevelLinks.forEach((e=>{e.addEventListener("click",(e=>this.clickTopLevelLink(e))),e.addEventListener("mouseenter",(e=>this.enterTopLevelLink(e))),e.addEventListener("keydown",(e=>this.keyDownTopLevelLink(e))),e.addEventListener("mouseleave",(e=>this.leaveTopLevelLink(e))),e.addEventListener("touchend",(e=>this.touchEndTopLevelLink(e)))})),document.querySelectorAll(".header__sub-menus").forEach((e=>{const t=e.querySelectorAll(".header__sub-menu-link");t.length>0&&t.item(t.length-1).addEventListener("keydown",(e=>this.keyDownLastSubMenuLink(e)))})),document.querySelectorAll(".header__close-submenus i").forEach((e=>{null==e||e.addEventListener("click",(e=>this.clickCloseSubMenus(e)))})),document.querySelectorAll(".header__menu-return").forEach((e=>{e.addEventListener("click",(e=>this.clickReturnToMenu(e))),e.addEventListener("keydown",(e=>this.keyDownReturnToMenu(e)))}));const l=document.querySelectorAll(".header__search");this.headerSearchModal=new ve(this.headerElement,(()=>this.closeMobileHeaderMenu.call(this))),this.headerSearchModal.initialise(),l.forEach((e=>{new oe(e,this.headerSearchModal).initialise()})),this.headerElement.querySelectorAll(".header__nav-item").forEach((e=>{})),null===(i=this.headerLanguageHolder)||void 0===i||i.addEventListener("mouseenter",(e=>this.enterLanguageHolder(e))),null===(r=this.headerLanguageHolder)||void 0===r||r.addEventListener("keydown",(e=>this.keyDownLanguageHolder(e))),null===(s=this.headerLanguageHolder)||void 0===s||s.addEventListener("mouseleave",(e=>this.leaveLanguageHolder(e))),null===(o=this.headerLanguageHolder)||void 0===o||o.addEventListener("click",(e=>this.clickLanguageHolder(e))),null===(n=this.headerLanguageHolder)||void 0===n||n.addEventListener("touchend",(e=>this.touchEndLanguageHolder(e))),window.addEventListener("resize",(e=>this.resizeWindow(e)))}setCardHeights(e){const t=e.querySelectorAll(".header-card");var i=0;t.forEach((e=>{e.style.minHeight="",e.clientHeight>i&&(i=e.clientHeight)})),t.forEach(()}openLanguageMenu(e){var t,i;null===(t=e.currentTarget)||void 0===t||null===(t=t.lastElementChild)||void 0===t||t.classList.add(this.headerLanguageMenuOpenedClass),null===(i=e.currentTarget)||void 0===i||i.setAttribute("aria-expanded","true")}closeLanguageMenu(e){var t,i;null===(t=e.currentTarget)||void 0===t||null===(t=t.lastElementChild)||void 0===t||t.classList.remove(this.headerLanguageMenuOpenedClass),null===(i=e.currentTarget)||void 0===i||i.setAttribute("aria-expanded","false")}toggleLanguageMenu(e){"true"===e.currentTarget.getAttribute("aria-expanded")?this.closeLanguageMenu(e):this.openLanguageMenu(e)}eaveLanguageHolder(e){this.closeLanguageMenu(e)}keyDownLanguageHolder(e){if(e.currentTarget===e.target)switch(e.code){case"Enter":case"Space":this.toggleLanguageMenu(e),e.preventDefault()}}clickLanguageHolder(e){this.toggleLanguageMenu(e)}touchEndLanguageHolder(e){this.setTouchendWasRecent()}headerNavItemUpdateChevronIcon(e,t){const i=null==t?void 0:t.querySelector(this.headerNavItemIconItemSelector);null==i||i.classList.add(e?this.headerNavItemIconOpen:this.headerNavItemIconClosed),null==i||i.classList.remove(e?this.headerNavItemIconClosed:this.headerNavItemIconOpen)}openTopLevelLink(e){var t,i,r,s;null==e||null===(t=e.lastElementChild)||void 0===t||t.classList.add(this.headerSubMenuOpenedClass),null==e||null===(i=e.lastElementChild)||void 0===i||i.setAttribute("aria-hidden","false"),null==e||e.setAttribute("aria-expanded","true"),null===(r=e.querySelector(".header__menu-return"))||void 0===r||r.setAttribute("aria-expanded","true"),this.headerNavItemUpdateChevronIcon(!0,e),this.setCardHeights(e);const o=null==e||null===(s=e.lastElementChild)||void 0===s?void 0:s.querySelectorAll('[tabindex="-1"]');if(null==o||o.forEach((),this.isMobileNavigationInUse()){const e=null==o?void 0:o.item(1);null==e||e.focus({preventScroll:!0})}}closeTopLevelLink(e){var t,i,r,s;null==e||null===(t=e.lastElementChild)||void 0===t||t.classList.remove(this.headerSubMenuOpenedClass),null==e||null===(i=e.lastElementChild)||void 0===i||i.setAttribute("aria-hidden","true"),null==e||e.setAttribute("aria-expanded","false"),null==e||null===(r=e.querySelector(".header__menu-return"))||void 0===r||r.setAttribute("aria-expanded","false"),this.headerNavItemUpdateChevronIcon(!1,e);const o=null==e||null===(s=e.lastElementChild)||void 0===s?void 0:s.querySelectorAll('[tabindex="0"]');null==o||o.forEach((e=>{e.tabIndex=-1})),this.isMobileNavigationInUse()&&(null==e||e.focus({preventScroll:!0}))}toggleTopLevelLink(e){"true"===(null==e?void 0:e.getAttribute("aria-expanded"))?this.closeTopLevelLink(e):this.openTopLevelLink(e)}enterTopLevelLink(e){this.touchendWasRecent||this.isMobileNavigationInUse()||this.openTopLevelLink(e.currentTarget)}leaveTopLevelLink(e){this.isMobileNavigationInUse()||this.closeTopLevelLink(e.currentTarget)}keyDownTopLevelLink(e){if(e.currentTarget===e.target)switch(e.code){case"Enter":case"Space":this.toggleTopLevelLink(e.currentTarget),e.preventDefault()}}clickTopLevelLink(e){e.currentTarget.contains(e.target)&&this.toggleTopLevelLink(e.currentTarget)}touchEndTopLevelLink(e){this.setTouchendWasRecent()}toggleMobileMenu(){var e;null===(e=this.navElement)||void 0===e||e.classList.add(this.headerMenuTransitionOn),document.documentElement.classList.contains(this.headerMenuOpenedClass)?(this.closeMobileHeaderMenu(),window.scrollBy(0,66)):(this.openMobileHeaderMenu(),window.scrollBy(0,-66))}eyDownToggleMobileMenu(e){if(e.currentTarget===e.target)switch(e.code){case"Enter":case"Space":this.toggleMobileMenu(),e.preventDefault()}}closeMobileHeaderMenu(){var e,t;null===(e=this.navElement)||void 0===e||e.setAttribute("aria-hidden","true"),document.documentElement.classList.remove(this.headerMenuOpenedClass),null===(t=this.toggleMobileMenuElement)||void 0===t||t.setAttribute("aria-expanded","false")}openMobileHeaderMenu(){var e,t,i;null===(e=this.headerSearchModal)||void 0===e||e.closeSearchModal(),null===(t=this.navElement)||void 0===t||t.setAttribute("aria-hidden","false"),document.documentElement.classList.add(this.headerMenuOpenedClass),null===(i=this.toggleMobileMenuElement)||void 0===i||i.setAttribute("aria-expanded","true")}clickCloseSubMenus(e){var t;const i=null===(t=e.currentTarget)||void 0===t||null===(t=t.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t?void 0:t.parentElement;this.closeTopLevelLink(i)}returnToMenu(e){this.closeTopLevelLink(e),e.focus({preventScroll:!1})}clickReturnToMenu(e){var t;e.stopPropagation();const i=null===(t=e.currentTarget)||void 0===t||null===(t=t.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t?void 0:t.parentElement;this.returnToMenu(i)}keyDownReturnToMenu(e){var t;const i=e;if(e.currentTarget===e.target)switch(i.code){case"Enter":case"Space":const s=null===(t=e.currentTarget)||void 0===t||null===(t=t.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t?void 0:t.parentElement;this.returnToMenu(s);break;case"Tab":if(!0===i.shiftKey){var r;e.preventDefault();const t=null==i||null===(r=i.currentTarget)||void 0===r||null===(r=r.parentElement)||void 0===r?void 0:r.querySelectorAll(".header__sub-menu-link");void 0!==t&&(null==t?void 0:t.length)>0&&(null==t?void 0:t.item(t.length-1)).focus()}}}keyDownLastSubMenuLink(e){const t=e;var i;"Tab"===t.code&&!1===t.shiftKey&&this.isMobileNavigationInUse()&&(e.preventDefault(),(null===(i=e.currentTarget.parentElement)||void 0===i||null===(i=i.parentElement)||void 0===i||null===(i=i.parentElement)||void 0===i||null===(i=i.parentElement)||void 0===i?void 0:i.querySelector(".header__menu-return")).focus({preventScroll:!1}))}closeAllSubMenus(){var e;document.querySelectorAll(".".concat(this.headerSubMenuOpenedClass)).forEach((e=>{e.classList.remove(this.headerSubMenuOpenedClass),e.setAttribute("aria-hidden","true");const t=null==e?void 0:e.querySelectorAll('[tabindex="0"]');null==t||t.forEach(()})),null===(e=this.topLevelLinks)||void 0===e||e.forEach((e=>{e.setAttribute("aria-expanded","false"),this.headerNavItemUpdateChevronIcon(!1,e)}))}sMobileNavigationInUse(){return"none"!=window.getComputedStyle(document.getElementsByClassName("header__menu-toggle")[0]).display}resizeWindow(e){var t;const i=this.headerElement.querySelector("."+this.headerSubMenuOpenedClass);i&&this.setCardHeights(i.parentElement),window.innerWidth>991&&(null===(t=this.navElement)||void 0===t||t.classList.remove(this.headerMenuTransitionOn))}};class be{constructor(e){var t,i;ge(this,"component",void 0),ge(this,"resourcesWrapper",void 0),ge(this,"loadMoreButton",void 0),ge(this,"numberOfCardsToIncrement",void 0),ge(this,"hasMoreResources",void 0),ge(this,"apiHostName",void 0),ge(this,"language",void 0),ge(this,"articleType",void 0),ge(this,"topicId",void 0),ge(this,"store",void 0),this.component=e,this.resourcesWrapper=this.component.querySelector(".related-resources__resource-cards"),this.loadMoreButton=this.component.querySelector(".related-resources__load-more-button"),this.numberOfCardsToIncrement=Number(this.component.getAttribute("data-number-of-article-cards-to-increment"))||0,this.hasMoreResources="true"===(null===(t=this.component.getAttribute("data-has-more-articles"))||void 0===t?void 0:t.toLowerCase()),this.apiHostName=this.component.getAttribute("data-api-hostname")||"",this.language=(null===(i=document.querySelector("html"))||void 0===i?void 0:i.getAttribute("lang"))||"",this.articleType=this.component.getAttribute("data-article-type")||"",this.topicId=this.component.getAttribute("data-topic-id")||"";const r=JSON.parse(this.component.getAttribute("data-article-data")||"");this.store=((e,t)=>(0,f.Z)((i=>({articles:e,loadingMore:!1,hasMoreResources:t,appendResources:(e,t)=>i((i=>{let{articles:r}=i;return{articles:[...r,...e],hasMoreResources:t}})),loadMore:()=>i((()=>({loadingMore:!0}))),finishedLoadingMore:()=>i(()}))))(r,this.hasMoreResources)}initialise(){var e,t;this.hasMoreResources&&(null===(t=this.loadMoreButton)||void 0===t||t.classList.remove("related-resources__load-more-button--hidden")),null===(e=this.loadMoreButton)||void 0===e||e.addEventListener("click",(()=>{this.loadMoreResources()}));const{subscribe:i}=this.store;i((e=>this.onLoadingMoreChange.call(this,e)),(e=>e.loadingMore)),i((e=>this.onHasMoreResourcesChange.call(this,e)),(e=>e.hasMoreResources)),i((,()}loadMoreResources(){const{loadMore:e}=this.store.getState();e()}onLoadingMoreChange(e){if(this.component.classList.toggle("related-resources--loading-more",e),e){const{appendResources:e}=this.store.getState(),t=this.component.querySelectorAll(".article-card").length;N.getArticles(this.apiHostName,this.articleType,this.language,this.numberOfCardsToIncrement,null,t.toString(),this.topicId,null,null).then((t=>{t.articles.length>0&&e(t.articles,t.hasMoreArticles)}))}}onHasMoreResourcesChange(e){var t;null===(t=this.loadMoreButton)||void 0===t||t.classList.toggle("related-resources__load-more-button--hidden",!e)}onResourcesChange(e){const{finishedLoadingMore:t}=this.store.getState();(0,v.sY)(D(e),this.resourcesWrapper),t()}}new class{constructor(){document.querySelectorAll(".related-resources").forEach((e=>{new be(e).initialise()}))}},new class{constructor(){new m(".resources-hero__additional-articles",!0).init()}},new class{constructor(){this.init()}init(){document.querySelectorAll(".analytics-link").forEach((e=>{e.addEventListener("click",(()=>{let t="".concat(null==e?void 0:e.getAttribute("data-analytics-link-label"));t=t.replaceAll("{currentPageUrl}",document.URL),t=t.replaceAll("{referralPath}",document.referrer||"Not Available");let i="".concat(null==e?void 0:e.getAttribute("data-analytics-link-action"));i=i.replaceAll("{currentPageUrl}",document.URL).replaceAll("{referralPath}",document.referrer||"Not Available"),p.Z.pushEvent({event:"".concat(null==e?void 0:e.getAttribute("data-analytics-link-event")),eventCategory:"".concat(null==e?void 0:e.getAttribute("data-analytics-link-category")),eventAction:i,eventLabel:t})}))}))}},new class{constructor(){document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".background-lazy-image");if("IntersectionObserver"in window){const t=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const i="".concat(e.target.getAttribute("data-src-background-lazy-image"));e.target.setAttribute("style","background-image:url(".concat(i,")")),t.unobserve(e.target)}}))}));e.forEach((e=>{t.observe(e)}))}}))}};class fe{constructor(e){var t,i,r;t=this,r=void 0,(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i="assetDownloadComponent"))in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.assetDownloadComponent=e}initialise(){const e=this.assetDownloadComponent.getAttribute("href"),t=this.assetDownloadComponent.getAttribute("target")||"";e&&window.open(e,t)}}function ye(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}new class{constructor(){document.querySelectorAll("a[data-download-asset]").forEach((e=>{new fe(e).initialise()}))}},new class{constructor(){var e,t,i;e=this,i=void 0,(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t="navigationBars"))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,this.navigationBars=document.querySelectorAll(".in-page-navigation"),this.navigationBars.forEach((e=>{var t;const i=e.querySelector(".in-page-navigation__mobile-items"),r=e.querySelector(".in-page-navigation__mobile-chevron"),s=e.querySelector(".in-page-navigation__mobile-toggle"),o=e.querySelector(".in-page-navigation__cta"),n=e.querySelector(".in-page-navigation__bar");window.addEventListener("scroll",(()=>{const t=0===((null==e?void 0:e.getBoundingClientRect().top)||0);null==e||e.classList.toggle("fixed",t),null==n||n.classList.toggle("transparent",t),null!=e&&e.classList.contains("sticky-header")||null==o||o.classList.toggle("cta-button--primary",t),null==o||o.classList.toggle("cta-button--secondary-fill",!t)})),e.querySelectorAll(".in-page-navigation__link").forEach((e=>{e.addEventListener("click",()})),null===(t=e.querySelector(".in-page-navigation__mobile-toggle"))||void 0===t||t.addEventListener("click",(e=>{this.toggle(i,r,s),e.preventDefault()})),window.onresize=()=>{null!=r&&r.classList.contains("in-page-navigation__mobile-chevron--open")&&this.toggle(i,r,s)}}))}toggle(e,t,i){null==e||e.classList.toggle("in-page-navigation__items--show"),null==t||t.classList.toggle("in-page-navigation__mobile-chevron--open"),null!=t&&t.classList.contains("in-page-navigation__mobile-chevron--open")?null==i||i.setAttribute("aria-expanded","true"):null==i||i.setAttribute("aria-expanded","false")}},new class{constructor(){var e,t,i;e=this,i=void 0,(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t="faqs"))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,this.faqs=document.querySelectorAll(".faq-list__wrap"),this.faqs.forEach((e=>{const t=e.querySelector(".faq-list__question"),i=e.querySelector(".faq-list__answer");null==t||t.addEventListener("click",()}))}toggleAnswer(e,t){this.faqs.forEach((e=>{const i=e.querySelector(".faq-list__question"),r=e.querySelector(".faq-list__answer");r!==t&&(null==i||i.classList.remove("faq-list__question-open"),null==r||r.classList.remove("faq-list__answer--show"))})),null==e||e.classList.toggle("faq-list__question-open"),null==t||t.classList.toggle("faq-list__answer--show")}};class ke{constructor(e,t){ye(this,"itemId",void 0),ye(this,"openedCssClass","tabbed-accordion__tab--opened"),ye(this,"component",void 0),ye(this,"toggleItem",(),ye(this,"isDesktopTab",void 0),this.component=e,this.itemId=this.component.getAttribute("aria-controls"),this.isDesktopTab=t}initialise(e){this.toggleItem=e,this.component.addEventListener("click",(()=>this.clickTab()))}clickTab(){this.isOpen()&&this.isDesktopTab||this.toggleItem()}close(){this.component.classList.toggle(this.openedCssClass,!1),this.component.setAttribute("aria-expanded","false")}toggleTab(e){this.component.setAttribute("aria-expanded",(!e).toString()),this.component.classList.toggle(this.openedCssClass,!e),this.isInViewport(this.component)||this.scrollTabIntoView()}crollTabIntoView(){var e,t;const i=document.body.getBoundingClientRect().top,r=this.component.getBoundingClientRect().top-i-(null!==(e=null===(t=document.getElementById("header"))||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:0);window.scrollTo({top:r,behavior:"smooth"})}isOpen(){return this.component.classList.contains(this.openedCssClass)}}function Se(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class _e{constructor(e,t,i){Se(this,"itemId",void 0),Se(this,"openedCssClass","tabbed-accordion__item--opened"),Se(this,"component",void 0),Se(this,"closeAllItems",void 0),Se(this,"tabButtons",[]),this.component=e,this.closeAllItems=t;const r=e.querySelector(".tabbed-accordion__tab"),s=new ke(r,!1);this.itemId=s.itemId;const o=i.find(();this.tabButtons.push(s),o&&this.tabButtons.push(o)}initialise(){this.tabButtons.forEach((e=>{e.initialise((()=>this.toggleItem.call(this)))}))}close(){this.tabButtons.forEach((e=>{e.close()})),this.setOpenClass(!1)}toggleItem(){const e=this.isOpen();this.closeAllItems(),this.setOpenClass(!e),this.tabButtons.forEach(()}unction Ee(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Ce{constructor(e){Ee(this,"component",void 0),Ee(this,"items",[]),Ee(this,"tabs",[]),Ee(this,"tabsCarouselElement",void 0),this.component=e;const t=this.component.querySelectorAll(".tabbed-accordion__tabs .tabbed-accordion__tab");this.tabsCarouselElement=this.component.querySelector(".splide"),t.forEach((e=>{const t=new ke(e,!0);this.tabs.push(t)})),this.component.querySelectorAll(".tabbed-accordion__item").forEach((e=>{const t=new _e(e,(,this.tabs);this.items.push(t)}))}initialise(){this.items.forEach((e=>{e.initialise()}));const e=new u(this.tabsCarouselElement,{autoWidth:!0,goToSlideOnClick:!0,updateOnMove:!0,drag:!1,slideFocus:!1,focusCenter:!0});e.mount(),e.onActive(this.onTabSlideActive.bind(this)),window.addEventListener("resize",(0,ne.D)(this.onResize.bind(this),200))}onTabSlideActive(e){var t;const i=null===(t=e.querySelector(".tabbed-accordion__tab"))||void 0===t?void 0:t.getAttribute("aria-controls"),r=this.tabs.find(();null==r||r.clickTab()}nResize(){var e;n()&&(this.items.some(()||null===(e=this.items[0])||void 0===e||e.toggleItem())}}function we(e,t){const{arrows:i}=t.Elements;let r;function s(){r.textContent="".concat(e.index+1,"/").concat(e.length)}return{mount:function(){null==i||i.classList.add("splide--show-slide-number"),r=document.createElement("div"),r.classList.add("splide__slide-number"),null==i||i.appendChild(r),s(),e.on("move",s)}}}function Le(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}new class{constructor(){document.querySelectorAll(".tabbed-accordion").forEach(()}},new class{constructor(){document.querySelectorAll(".chevron-control-carousel .splide").forEach((e=>{new u(e,{autoWidth:!0,goToSlideOnClick:!0,updateOnMove:!0,drag:!0,slideFocus:!1,focusCenter:!0},{SlideNumber:we}).mount()}))}},new class{constructor(){new m(".homepage-hero",!1,!0).init(),this.autoplayVideo(),window.addEventListener("resize",()}utoplayVideo(){if(o()){const e=document.querySelector(".homepage-hero"),t=null==e?void 0:e.querySelector("video");null==t||t.setAttribute("autoplay","")}}};class Me{constructor(e){var t,i,r,s;Le(this,"dmarcAnalyzerMarketoFormRoot",void 0),Le(this,"dmarcAnalyzerMarketoFormForm",void 0),Le(this,"dmarcAnalyzerMarketoFormLanding",void 0),Le(this,"dmarcAnalyzerMarketoFormSuccess",void 0),Le(this,"emailUrl",""),Le(this,"emailToken",""),Le(this,"marketoEnvironmentUrl",void 0),Le(this,"marketoFormId",void 0),Le(this,"marketoMunchkinId",void 0),Le(this,"marketoSubmitButton",null),Le(this,"marketoSubmitText",""),Le(this,"modalVisibleCssClass","dmarc-analyzer-marketo-form--visible"),Le(this,"landingHiddenCssClass","dmarc-analyzer-marketo-form__landing--hidden"),Le(this,"successVisibleCssClass","dmarc-analyzer-marketo-form__success--visible"),Le(this,"closeIcon",void 0),this.dmarcAnalyzerMarketoFormRoot=e,this.dmarcAnalyzerMarketoFormForm=this.dmarcAnalyzerMarketoFormRoot.querySelector(".dmarc-analyzer-marketo-form__form"),this.dmarcAnalyzerMarketoFormLanding=this.dmarcAnalyzerMarketoFormRoot.querySelector(".dmarc-analyzer-marketo-form__landing"),this.dmarcAnalyzerMarketoFormSuccess=this.dmarcAnalyzerMarketoFormRoot.querySelector(".dmarc-analyzer-marketo-form__success"),this.closeIcon=this.dmarcAnalyzerMarketoFormRoot.querySelector(".dmarc-analyzer-marketo-form__close"),null===(t=this.closeIcon)||void 0===t||t.addEventListener("click",(),this.marketoFormId=(null===(i=this.dmarcAnalyzerMarketoFormForm)||void 0===i?void 0:i.getAttribute("data-marketo-form-id"))||"",this.marketoEnvironmentUrl=(null===(r=this.dmarcAnalyzerMarketoFormForm)||void 0===r?void 0:r.getAttribute("data-marketo-env"))||"",this.marketoMunchkinId=(null===(s=this.dmarcAnalyzerMarketoFormForm)||void 0===s?void 0:s.getAttribute("data-marketo-munchkin-id"))||"",""!=this.marketoFormId&&""!=this.marketoEnvironmentUrl&&""!=this.marketoMunchkinId&&MktoForms2.loadForm(this.marketoEnvironmentUrl,this.marketoMunchkinId,this.marketoFormId,(e=>{var t,i;null!=e&&(this.marketoSubmitButton=null===(t=this.dmarcAnalyzerMarketoFormForm)||void 0===t?void 0:t.querySelector("button[type='submit'"),this.marketoSubmitText=(null===(i=this.marketoSubmitButton)||void 0===i?void 0:i.innerHTML)||"",e.onSubmit((),e.onSuccess(((e,t)=>(this.hideLanding(),this.showSuccess(),this.marketoSubmitButton.innerHTML=this.marketoSubmitText,this.marketoSubmitButton.disabled=!1,!1))))}))}setEmailUrlAndToken(e,t,i){if(this.emailToken=t,this.emailUrl=e,"16043"==this.marketoFormId||"16044"==this.marketoFormId||"16045"==this.marketoFormId){const e=this.dmarcAnalyzerMarketoFormRoot.querySelector("input[name='checkResultsURL']");null!=e&&(e.value=this.emailUrl.replace("https://","")+"?token="+encodeURIComponent(this.emailToken))}else{const e=this.dmarcAnalyzerMarketoFormRoot.querySelector("input[name='"+i+"']");null!=e&&(e.value=this.emailUrl+"?token="+encodeURIComponent(this.emailToken))}}lickCloseWindow(){this.dmarcAnalyzerMarketoFormRoot.classList.remove(this.modalVisibleCssClass),this.showLanding(),this.hideSuccess()}hideLanding(){var e;null===(e=this.dmarcAnalyzerMarketoFormLanding)||void 0===e||e.classList.add(this.landingHiddenCssClass)}showLanding(){var e;null===(e=this.dmarcAnalyzerMarketoFormLanding)||void 0===e||e.classList.remove(this.landingHiddenCssClass)}hideSuccess(){var e;null===(e=this.dmarcAnalyzerMarketoFormSuccess)||void 0===e||e.classList.remove(this.successVisibleCssClass)}showSuccess(){var e;null===(e=this.dmarcAnalyzerMarketoFormSuccess)||void 0===e||e.classList.add(this.successVisibleCssClass)}}var Te=i(7312);function Ae(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Re{constructor(e,t,i){Ae(this,"tag",void 0),Ae(this,"defaultValue",void 0),Ae(this,"description",void 0),this.tag=e,this.defaultValue=t,this.description=i}}function qe(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}new class{constructor(){var e,t,i,r,s,o,n,l,a,c,d,u,h,m,v;(Ae(this,"ApiRoutePath","/api/dmarc-analyzer/dkim-record-checker"),Ae(this,"dkimRecordChecker",null),Ae(this,"btnSubmit",null),Ae(this,"allDescriptions",new Map),Ae(this,"declaredTagTableBody",null),Ae(this,"defaultedTagTableBody",null),Ae(this,"dnsRecordSpan",null),Ae(this,"selectorSpan",null),Ae(this,"domainSpan",null),Ae(this,"fullRecordPara",null),Ae(this,"keyLengthSpan",null),Ae(this,"resultJson",null),Ae(this,"txtDomain",null),Ae(this,"txtSelector",null),Ae(this,"resultsHolderVisibleCssClass","dkim-record-checker__results-holder--visible"),Ae(this,"resultsHolder",null),Ae(this,"errorMessageHolderVisibleCssClass","dkim-record-checker__error-message-holder--visible"),Ae(this,"errorMessageHolder",null),Ae(this,"errorMessage",null),Ae(this,"dmarcAnalyzerMarketoForm",null),Ae(this,"invisibleRecaptcha",null),this.dkimRecordChecker=document.getElementById("dkim-record-checker"),this.dkimRecordChecker)&&(this.initInvisibleRecaptcha(),this.btnSubmit=this.dkimRecordChecker.getElementsByClassName("dkim-record-checker__btn-submit")[0],this.btnSubmit.addEventListener("click",(e=>this.btnSubmit_Click(e))),this.repopulateAllDescriptions(),this.declaredTagTableBody=null===(e=this.dkimRecordChecker)||void 0===e?void 0:e.querySelector(".dkim-record-checker__declared-tags-table tbody"),this.defaultedTagTableBody=null===(t=this.dkimRecordChecker)||void 0===t?void 0:t.querySelector(".dkim-record-checker__defaulted-tags-table tbody"),this.dnsRecordSpan=null===(i=this.dkimRecordChecker)||void 0===i?void 0:i.querySelector(".dkim-record-checker__dns-record"),this.selectorSpan=null===(r=this.dkimRecordChecker)||void 0===r?void 0:r.querySelector(".dkim-record-checker__selector"),this.domainSpan=null===(s=this.dkimRecordChecker)||void 0===s?void 0:s.querySelector(".dkim-record-checker__domain"),this.fullRecordPara=null===(o=this.dkimRecordChecker)||void 0===o?void 0:o.querySelector(".dkim-record-checker__full-record"),this.keyLengthSpan=null===(n=this.dkimRecordChecker)||void 0===n?void 0:n.querySelector(".dkim-record-checker__key-length"),this.resultJson=null===(l=this.dkimRecordChecker)||void 0===l?void 0:l.querySelector(".dkim-record-checker__json"),this.txtSelector=null===(a=this.dkimRecordChecker)||void 0===a?void 0:a.querySelector(".dkim-record-checker__txt-selector"),this.txtDomain=null===(c=this.dkimRecordChecker)||void 0===c?void 0:c.querySelector(".dkim-record-checker__txt-domain"),this.resultsHolder=null===(d=this.dkimRecordChecker)||void 0===d?void 0:d.querySelector(".dkim-record-checker__results-holder"),this.errorMessageHolder=null===(u=this.dkimRecordChecker)||void 0===u?void 0:u.querySelector(".dkim-record-checker__error-message-holder"),this.errorMessage=null===(h=this.dkimRecordChecker)||void 0===h?void 0:h.querySelector(".dkim-record-checker__error-message"),null!=(null===(m=this.dkimRecordChecker)||void 0===m?void 0:m.querySelector(".dmarc-analyzer-marketo-form"))&&(this.dmarcAnalyzerMarketoForm=new Me(null===(v=this.dkimRecordChecker)||void 0===v?void 0:v.querySelector(".dmarc-analyzer-marketo-form"))),""!=this.resultJson.value&&this.processSuccessfulResult(JSON.parse(this.resultJson.value)))}initInvisibleRecaptcha(){var e;null!==(e=this.dkimRecordChecker)&&void 0!==e&&e.querySelector(".invisible-recaptcha")&&(this.invisibleRecaptcha=new Te.m(this.receiveRecaptchaToken,this))}repopulateAllDescriptions(){var e;this.allDescriptions.clear(),null===(e=this.dkimRecordChecker)||void 0===e||e.querySelectorAll(".dkim-record-checker__description-table tbody tr").forEach((e=>{this.allDescriptions.set(e.children[0].innerHTML,new Re(e.children[0].innerHTML,e.children[1].innerHTML,e.children[2].innerHTML))}),this)}btnSubmit_Click(e){this.clearResults(),this.isValid()&&(null!=this.invisibleRecaptcha?(this.invisibleRecaptcha.resetRecaptcha(),this.invisibleRecaptcha.executeRecaptchaCheck()):this.doDkimLookup(""))}isValid(){var e,t;let i="",r=(null===(e=this.dkimRecordChecker)||void 0===e?void 0:e.getElementsByClassName("dkim-record-checker__txt-domain")[0]).value,s=(null===(t=this.dkimRecordChecker)||void 0===t?void 0:t.getElementsByClassName("dkim-record-checker__txt-selector")[0]).value;return""==r&&(i+="Domain can not be empty. "),""==r||this.isDomain(r)||(i+="Domain is not valid. "),""==s&&(i+="Selector can not be empty. "),""!=i&&this.showErrorMessage(i),""==i}isDomain(e){return e&&""!=e&&(e=e.toLowerCase()),/^(((?!\-))(xn\-\-)?[a-z0-9\-_]{0,61}[a-z0-9]{1,1}\.)*(xn\-\-)?([a-z0-9\-]{1,61}|[a-z0-9\-]{1,30})\.[a-z]{2,}$/.test(e)}receiveRecaptchaToken(e){this.doDkimLookup(e)}doDkimLookup(e){let t=this.txtDomain.value,i=this.txtSelector.value,r=new FormData;r.append("domain",t),r.append("selector",i),r.append("recaptchaToken",e),fetch(this.ApiRoutePath,{method:"POST",body:r}).then((e=>this.handleResponse(e))).catch((e=>alert("Error: "+e)))}handleResponse(e){200==e.status?e.json().then((e=>{var t,i;e.apiResult.wasSuccessful?(null===(t=this.dmarcAnalyzerMarketoForm)||void 0===t||t.setEmailUrlAndToken(window.location.href.split("?")[0],e.apiResult.emailToken,"dKIMCheckResults"),null===(i=this.dmarcAnalyzerMarketoForm)||void 0===i||i.showForm(),this.processSuccessfulResult(e.apiResult.result)):this.showErrorMessage("Error: "+e.errorMessage)})):401==e.status?e.json().then((e=>this.showErrorMessage("You are not authenticated: "+e.errorMessage))):422==e.status?e.json().then((e=>this.showErrorMessage("Invalid data was sent to the server: "+e.errorMessage))):e.text().then((e=>this.showErrorMessage("An unknow error occured: "+JSON.stringify(e))))}processSuccessfulResult(e){this.txtDomain.value=e.domain,this.txtSelector.value=e.data.selector;var t=e.data.information;for(var i in t)if(null!=t[i]&&""!=t[i]){var r,s,o,n,l,a=this.allDescriptions.get(i),c=document.createElement("tr");(b=document.createElement("td")).innerText=null!==(r=null===(s=a)||void 0===s?void 0:s.tag)&&void 0!==r?r:"",(f=document.createElement("td")).innerText=t[i],(y=document.createElement("td")).innerText=null!==(o=null===(n=a)||void 0===n?void 0:n.description)&&void 0!==o?o:"",c.appendChild(b),c.appendChild(f),c.appendChild(y),null===(l=this.declaredTagTableBody)||void 0===l||l.appendChild(c)}else{var d,u,h,m,v,p,g,b,f,y;a=this.allDescriptions.get(i),c=document.createElement("tr"),(b=document.createElement("td")).innerText=null!==(d=null===(u=a)||void 0===u?void 0:u.tag)&&void 0!==d?d:"",(f=document.createElement("td")).innerText=null!==(h=null===(m=a)||void 0===m?void 0:m.defaultValue)&&void 0!==h?h:"",(y=document.createElement("td")).innerText=null!==(v=null===(p=a)||void 0===p?void 0:p.description)&&void 0!==v?v:"",c.appendChild(b),c.appendChild(f),c.appendChild(y),null===(g=this.defaultedTagTableBody)||void 0===g||g.appendChild(c)}this.dnsRecordSpan.innerText=e.data.selector+"._domainkey."+e.domain,this.selectorSpan.innerText=e.data.selector,this.domainSpan.innerText=e.domain,this.fullRecordPara.innerText=e.data.record,this.keyLengthSpan.innerText=e.data.bits,this.showResultsHolder()}showErrorMessage(e){var t;null===(t=this.errorMessageHolder)||void 0===t||t.classList.add(this.errorMessageHolderVisibleCssClass),this.errorMessage.innerText=e}clearResults(){for(var e;this.defaultedTagTableBody.childElementCount>0;){var t;null===(t=this.defaultedTagTableBody.lastChild)||void 0===t||t.remove()}for(;this.declaredTagTableBody.childElementCount>0;){var i;null===(i=this.declaredTagTableBody.lastChild)||void 0===i||i.remove()}this.dnsRecordSpan.innerText="",this.selectorSpan.innerText="",this.domainSpan.innerText="",this.fullRecordPara.innerText="",this.keyLengthSpan.innerText="",null===(e=this.errorMessageHolder)||void 0===e||e.classList.remove(this.errorMessageHolderVisibleCssClass),this.errorMessage.innerText=""}showResultsHolder(){var e;null===(e=this.resultsHolder)||void 0===e||e.classList.add(this.resultsHolderVisibleCssClass)}hideResultsHolder(){var e;null===(e=this.resultsHolder)||void 0===e||e.classList.remove(this.resultsHolderVisibleCssClass)}};class xe{constructor(e,t,i){qe(this,"tag",void 0),qe(this,"defaultValue",void 0),qe(this,"description",void 0),this.tag=e,this.defaultValue=t,this.description=i}}function Ie(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function He(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}new class{constructor(){var e,t,i,r,s,o,n,l,a,c;(qe(this,"ApiRoutePath","/api/dmarc-analyzer/dmarc-record-checker"),qe(this,"dmarcRecordChecker",null),qe(this,"btnSubmit",null),qe(this,"allDescriptions",new Map),qe(this,"declaredTagTableBody",null),qe(this,"defaultedTagTableBody",null),qe(this,"fullRecordPara",null),qe(this,"resultJson",null),qe(this,"txtDomain",null),qe(this,"resultsHolderVisibleCssClass","dmarc-record-checker__results-holder--visible"),qe(this,"resultsHolder",null),qe(this,"errorMessageHolderVisibleCssClass","dmarc-record-checker__error-message-holder--visible"),qe(this,"errorMessageHolder",null),qe(this,"errorMessage",null),qe(this,"dmarcAnalyzerMarketoForm",null),qe(this,"invisibleRecaptcha",null),this.dmarcRecordChecker=document.getElementById("dmarc-record-checker"),this.dmarcRecordChecker)&&(this.initInvisibleRecaptcha(),this.btnSubmit=this.dmarcRecordChecker.getElementsByClassName("dmarc-record-checker__btn-submit")[0],this.btnSubmit.addEventListener("click",(e=>this.btnSubmit_Click(e))),this.repopulateAllDescriptions(),this.declaredTagTableBody=null===(e=this.dmarcRecordChecker)||void 0===e?void 0:e.querySelector(".dmarc-record-checker__declared-tags-table tbody"),this.defaultedTagTableBody=null===(t=this.dmarcRecordChecker)||void 0===t?void 0:t.querySelector(".dmarc-record-checker__defaulted-tags-table tbody"),this.fullRecordPara=null===(i=this.dmarcRecordChecker)||void 0===i?void 0:i.querySelector(".dmarc-record-checker__full-record"),this.resultJson=null===(r=this.dmarcRecordChecker)||void 0===r?void 0:r.querySelector(".dmarc-record-checker__json"),this.txtDomain=null===(s=this.dmarcRecordChecker)||void 0===s?void 0:s.querySelector(".dmarc-record-checker__txt-domain"),this.resultsHolder=null===(o=this.dmarcRecordChecker)||void 0===o?void 0:o.querySelector(".dmarc-record-checker__results-holder"),this.errorMessageHolder=null===(n=this.dmarcRecordChecker)||void 0===n?void 0:n.querySelector(".dmarc-record-checker__error-message-holder"),this.errorMessage=null===(l=this.dmarcRecordChecker)||void 0===l?void 0:l.querySelector(".dmarc-record-checker__error-message"),null!=(null===(a=this.dmarcRecordChecker)||void 0===a?void 0:a.querySelector(".dmarc-analyzer-marketo-form"))&&(this.dmarcAnalyzerMarketoForm=new Me(null===(c=this.dmarcRecordChecker)||void 0===c?void 0:c.querySelector(".dmarc-analyzer-marketo-form"))),""!=this.resultJson.value&&this.processSuccessfulResult(JSON.parse(this.resultJson.value)))}initInvisibleRecaptcha(){var e;null!==(e=this.dmarcRecordChecker)&&void 0!==e&&e.querySelector(".invisible-recaptcha")&&(this.invisibleRecaptcha=new Te.m(this.receiveRecaptchaToken,this))}repopulateAllDescriptions(){var e;this.allDescriptions.clear(),null===(e=this.dmarcRecordChecker)||void 0===e||e.querySelectorAll(".dmarc-record-checker__description-table tbody tr").forEach((e=>{this.allDescriptions.set(e.children[0].innerHTML,new xe(e.children[0].innerHTML,e.children[1].innerHTML,e.children[2].innerHTML))}),this)}btnSubmit_Click(e){this.clearResults(),this.isValid()&&(null!=this.invisibleRecaptcha?(this.invisibleRecaptcha.resetRecaptcha(),this.invisibleRecaptcha.executeRecaptchaCheck()):this.doDmarcLookup(""))}isValid(){var e;let t="",i=(null===(e=this.dmarcRecordChecker)||void 0===e?void 0:e.getElementsByClassName("dmarc-record-checker__txt-domain")[0]).value;return""==i&&(t+="Domain can not be empty. "),""==i||this.isDomain(i)||(t+="Domain is not valid. "),""!=t&&this.showErrorMessage(t),""==t}isDomain(e){return e&&""!=e&&(e=e.toLowerCase()),/^(((?!\-))(xn\-\-)?[a-z0-9\-_]{0,61}[a-z0-9]{1,1}\.)*(xn\-\-)?([a-z0-9\-]{1,61}|[a-z0-9\-]{1,30})\.[a-z]{2,}$/.test(e)}receiveRecaptchaToken(e){this.doDmarcLookup(e)}doDmarcLookup(e){let t=this.txtDomain.value,i=new FormData;i.append("domain",t),i.append("recaptchaToken",e),fetch(this.ApiRoutePath,{method:"POST",body:i}).then((e=>this.handleResponse(e))).catch((e=>alert("Error: "+e)))}handleResponse(e){200==e.status?e.json().then((e=>{var t,i;e.apiResult.wasSuccessful?(null===(t=this.dmarcAnalyzerMarketoForm)||void 0===t||t.setEmailUrlAndToken(window.location.href.split("?")[0],e.apiResult.emailToken,"dMARCCheckResults"),null===(i=this.dmarcAnalyzerMarketoForm)||void 0===i||i.showForm(),this.processSuccessfulResult(e.apiResult.result)):this.showErrorMessage("Error: "+e.errorMessage)})):401==e.status?e.json().then((e=>this.showErrorMessage("You are not authenticated: "+e.errorMessage))):422==e.status?e.json().then((e=>this.showErrorMessage("Invalid data was sent to the server: "+e.errorMessage))):e.text().then((e=>this.showErrorMessage("An unknow error occured: "+JSON.stringify(e))))}processSuccessfulResult(e){this.txtDomain.value=e.domain;var t=e.data.information;for(var i in t)if(null!=t[i]&&""!=t[i]){var r,s,o,n,l,a=this.allDescriptions.get(i),c=document.createElement("tr");(b=document.createElement("td")).innerText=null!==(r=null===(s=a)||void 0===s?void 0:s.tag)&&void 0!==r?r:"",(f=document.createElement("td")).innerText=t[i],(y=document.createElement("td")).innerText=null!==(o=null===(n=a)||void 0===n?void 0:n.description)&&void 0!==o?o:"",c.appendChild(b),c.appendChild(f),c.appendChild(y),null===(l=this.declaredTagTableBody)||void 0===l||l.appendChild(c)}else{var d,u,h,m,v,p,g,b,f,y;a=this.allDescriptions.get(i),c=document.createElement("tr"),(b=document.createElement("td")).innerText=null!==(d=null===(u=a)||void 0===u?void 0:u.tag)&&void 0!==d?d:"",(f=document.createElement("td")).innerText=null!==(h=null===(m=a)||void 0===m?void 0:m.defaultValue)&&void 0!==h?h:"",(y=document.createElement("td")).innerText=null!==(v=null===(p=a)||void 0===p?void 0:p.description)&&void 0!==v?v:"",c.appendChild(b),c.appendChild(f),c.appendChild(y),null===(g=this.defaultedTagTableBody)||void 0===g||g.appendChild(c)}this.fullRecordPara.innerText=e.data.raw,this.showResultsHolder()}showErrorMessage(e){var t;null===(t=this.errorMessageHolder)||void 0===t||t.classList.add(this.errorMessageHolderVisibleCssClass),this.errorMessage.innerText=e}clearResults(){for(var e;this.defaultedTagTableBody.childElementCount>0;){var t;null===(t=this.defaultedTagTableBody.lastChild)||void 0===t||t.remove()}for(;this.declaredTagTableBody.childElementCount>0;){var i;null===(i=this.declaredTagTableBody.lastChild)||void 0===i||i.remove()}this.fullRecordPara.innerText="",null===(e=this.errorMessageHolder)||void 0===e||e.classList.remove(this.errorMessageHolderVisibleCssClass),this.errorMessage.innerText=""}showResultsHolder(){var e;null===(e=this.resultsHolder)||void 0===e||e.classList.add(this.resultsHolderVisibleCssClass)}hideResultsHolder(){var e;null===(e=this.resultsHolder)||void 0===e||e.classList.remove(this.resultsHolderVisibleCssClass)}},new class{constructor(){Ie(this,"elementRows",null),Ie(this,"plans",null),Ie(this,"scrollThrottleTimerId",null);const e=document.getElementById("bundle-table");if(void 0!==e){const t=document.querySelectorAll(".bundle-table > .bundle-row:not(.bundle-names, .bundle-subs) > div:first-child");null==t||t.forEach((e=>{e.addEventListener("click",(t=>this.toggleRow(e,t)))}));const i=null==e?void 0:e.querySelectorAll(".bundle-row.bundle-names .cols-3");null==i||i.forEach(()}this.plans=document.querySelector(".products-plans"),null!=this.plans&&(this.heightAdjust(),window.addEventListener("resize",(()=>{null==this.scrollThrottleTimerId&&(this.scrollThrottleTimerId=window.setTimeout((,1e3))})))}toggleTab(e,t){var i;if(t.preventDefault(),!e.classList.contains("inactive"))return;const r=null===(i=e.parentElement)||void 0===i?void 0:i.querySelector("div.cols-3:not(.inactive)");null==r||r.classList.toggle("inactive"),e.classList.toggle("inactive"),document.querySelectorAll("#bundle-table .bundle-row .cols-1").forEach(()}toggleRow(e,t){var i;t.preventDefault();const r=null==e||null===(i=e.parentElement)||void 0===i?void 0:i.nextElementSibling,s=null==e?void 0:e.parentElement;null!=r&&r.classList.contains("feature-detail")&&(null==r||r.classList.toggle("hide"),null!=r&&r.classList.contains("hide")?(null==r||r.setAttribute("aria-expanded","false"),null==s||s.classList.remove("expanded")):(null==r||r.setAttribute("aria-expanded","true"),null==s||s.classList.add("expanded")))}heightAdjust(){this.setSameHeight(".products-plans__card-desc"),this.setSameHeight(".products-plans__card-logo"),this.setSameHeight(".products-plans__card-title"),this.setSameHeight(".products-plans__card-sub-title"),this.setSameHeight(".products-plans__card-price-row"),this.setSameHeight(".products-plans__card-cta"),this.setSameHeight(".products-plans__card-key-benefits"),this.scrollThrottleTimerId=null}setSameHeight(e){if(this.elementRows=document.querySelectorAll(e),null!=this.elementRows){let e=0;this.elementRows.forEach((),s(576)&&(this.elementRows.forEach((),this.elementRows.forEach((t=>{t.style.height=e.toString()+"px"})))}}};class Be{constructor(e,t,i){He(this,"tag",void 0),He(this,"defaultValue",void 0),He(this,"description",void 0),this.tag=e,this.defaultValue=t,this.description=i}}function Oe(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}ew class{constructor(){var e,t,i,r,s,o,n,l,a,c,d;(He(this,"ApiRoutePath","/api/dmarc-analyzer/spf-record-checker"),He(this,"spfRecordChecker",null),He(this,"formElement",null),He(this,"btnSubmit",null),He(this,"allDescriptions",new Map),He(this,"resultJson",null),He(this,"txtDomain",null),He(this,"resultsDomain",null),He(this,"ipSender",null),He(this,"receiver",null),He(this,"sendingAddress",null),He(this,"resultsHolderVisibleCssClass","spf-record-checker__results-holder--visible"),He(this,"resultsHolder",null),He(this,"errorMessageHolderVisibleCssClass","spf-record-checker__error-message-holder--visible"),He(this,"errorMessageHolder",null),He(this,"errorMessage",null),He(this,"dmarcAnalyzerMarketoForm",null),He(this,"count",1),He(this,"objData",void 0),He(this,"invisibleRecaptcha",null),this.spfRecordChecker=document.getElementById("spf-record-checker"),this.spfRecordChecker)&&(this.initInvisibleRecaptcha(),this.btnSubmit=this.spfRecordChecker.getElementsByClassName("spf-record-checker__btn-submit")[0],this.btnSubmit.addEventListener("click",(e=>this.btnSubmit_Click(e))),this.repopulateAllDescriptions(),this.resultJson=null===(e=this.spfRecordChecker)||void 0===e?void 0:e.querySelector(".spf-record-checker__json"),this.txtDomain=null===(t=this.spfRecordChecker)||void 0===t?void 0:t.querySelector(".spf-record-checker__txt-domain"),this.resultsDomain=null===(i=this.spfRecordChecker)||void 0===i?void 0:i.querySelector(".spf-record-checker__results-domain"),this.resultsHolder=null===(r=this.spfRecordChecker)||void 0===r?void 0:r.querySelector(".spf-record-checker__results-holder"),this.ipSender=null===(s=this.spfRecordChecker)||void 0===s?void 0:s.querySelector(".spf-record-checker__ip-sender"),this.receiver=null===(o=this.spfRecordChecker)||void 0===o?void 0:o.querySelector(".spf-record-checker__receiver"),this.sendingAddress=null===(n=this.spfRecordChecker)||void 0===n?void 0:n.querySelector(".spf-record-checker__sending-address"),this.errorMessageHolder=null===(l=this.spfRecordChecker)||void 0===l?void 0:l.querySelector(".spf-record-checker__error-message-holder"),this.errorMessage=null===(a=this.spfRecordChecker)||void 0===a?void 0:a.querySelector(".spf-record-checker__error-message"),null!=(null===(c=this.spfRecordChecker)||void 0===c?void 0:c.querySelector(".dmarc-analyzer-marketo-form"))&&(this.dmarcAnalyzerMarketoForm=new Me(null===(d=this.spfRecordChecker)||void 0===d?void 0:d.querySelector(".dmarc-analyzer-marketo-form"))),""!=this.resultJson.value&&this.processSuccessfulResult(JSON.parse(this.resultJson.value)))}initInvisibleRecaptcha(){var e;null!==(e=this.spfRecordChecker)&&void 0!==e&&e.querySelector(".invisible-recaptcha")&&(this.invisibleRecaptcha=new Te.m(this.receiveRecaptchaToken,this))}repopulateAllDescriptions(){var e;this.allDescriptions.clear(),null===(e=this.spfRecordChecker)||void 0===e||e.querySelectorAll(".spf-record-checker__description-table tbody tr").forEach((e=>{this.allDescriptions.set(e.children[0].innerHTML,new Be(e.children[0].innerHTML,e.children[1].innerHTML,e.children[2].innerHTML))}),this)}btnSubmit_Click(e){this.clearResults(),this.count=1,this.isValid()&&(null!=this.invisibleRecaptcha?(this.invisibleRecaptcha.resetRecaptcha(),this.invisibleRecaptcha.executeRecaptchaCheck()):this.doSpfLookup(""))}isValid(){var e;let t="",i=(null===(e=this.spfRecordChecker)||void 0===e?void 0:e.getElementsByClassName("spf-record-checker__txt-domain")[0]).value;return""==i&&(t+="Domain can not be empty. "),""==i||this.isDomain(i)||(t+="Domain is not valid. "),""!=t&&this.showErrorMessage(t),""==t}isDomain(e){return e&&""!=e&&(e=e.toLowerCase()),/^(((?!\-))(xn\-\-)?[a-z0-9\-_]{0,61}[a-z0-9]{1,1}\.)*(xn\-\-)?([a-z0-9\-]{1,61}|[a-z0-9\-]{1,30})\.[a-z]{2,}$/.test(e)}oSpfLookup(e){let t=this.txtDomain.value,i=new FormData;i.append("domain",t),i.append("recaptchaToken",e),fetch(this.ApiRoutePath,{method:"POST",body:i}).then(().catch(()}handleResponse(e){200==e.status?e.json().then((e=>{e.apiResult.wasSuccessful?this.processSuccessfulResult(e):this.showErrorMessage("Error: "+e.errorMessage)})):401==e.status?e.json().then((e=>this.showErrorMessage("You are not authenticated: "+e.errorMessage))):e.text().then((e=>this.showErrorMessage("An unknow error occured: "+JSON.stringify(e))))}processSuccessfulResult(e){if(this.objData=JSON.parse(e.apiResult.spfResult),this.objData.data.records){var t,i,r;""==this.resultJson.value&&(null===(i=this.dmarcAnalyzerMarketoForm)||void 0===i||i.setEmailUrlAndToken(window.location.href.split("?")[0],e.apiResult.emailToken,"sPFCheckResults"),null===(r=this.dmarcAnalyzerMarketoForm)||void 0===r||r.showForm());const s=this.objData.domain,o=this.objData.data.records[0],n=this.objData.data.problems;this.txtDomain.value=s,this.resultsDomain.innerText=s;const l=this.renderRecord(s,o,n);null===(t=document.getElementById("spf-record-checker__results"))||void 0===t||t.append(l),this.showResultsHolder()}else this.showErrorMessage("Error: Unable to find a SPF record"),this.hideResultsHolder()}showErrorMessage(e){var t;null===(t=this.errorMessageHolder)||void 0===t||t.classList.add(this.errorMessageHolderVisibleCssClass),this.errorMessage.innerHTML=e}showResultsHolder(){var e;null===(e=this.resultsHolder)||void 0===e||e.classList.add(this.resultsHolderVisibleCssClass)}hideResultsHolderenderRecord(e,t,i){let r=document.createElement("div");r.classList.add("recordHolder");let s=document.createElement("h3");if(s.innerText=e,r.append(s),null!=t.analyzed.total_lookups&&null!=t.analyzed.total_lookups){let e=document.createElement("div"),i=document.createElement("div");i.innerText="DNS Record",i.classList.add("dns-title"),r.append(i),e.classList.add("totalLookups"),e.innerText="Total look ups: "+t.analyzed.total_lookups,r.append(e)}if(null!=t.analyzed.lookups&&null!=t.analyzed.lookups){let e=document.createElement("div");e.classList.add("recordLookups");let i=document.createElement("div");1!=this.count&&(i.innerText="DNS Record"),this.count=this.count+1,i.classList.add("dns-title"),r.append(i),e.innerText="Look ups: "+t.analyzed.lookups,r.append(e)}if(null!=i&&null!=i&&r.append(this.renderProblem(i)),"record"in t&&null!=t.record){let e=document.createElement("div");e.classList.add("spfRecordTxt"),e.innerText=t.record,r.append(e)}if("a"in t.parts&&t.parts.a.length>0&&r.append(this.renderA(t.parts.a)),"mx"in t.parts&&t.parts.mx.length>0&&r.append(this.renderMx(t.parts.mx[0])),"ips"in t.parts&&t.parts.ips.length>0&&r.append(this.renderIps(t.parts.ips)),"include"in t.parts&&t.parts.include.length>0)for(var o=0;o<t.parts.include.length;o++)for(var n=t.parts.include[o].value,l=0;l<this.objData.data.embedded[n].records.length;l++)"record"in(a=this.objData.data.embedded[n].records[l])&&a.record.startsWith("v=spf1")?r.append(this.renderRecord(n,a,this.objData.data.embedded[n].problems)):"macro"in a&&r.append(this.renderMacro(n,a.macro));if("redirect"in t.parts&&t.parts.redirect.length>0)for(o=0;o<t.parts.redirect.length;o++)for(n=t.parts.redirect[o].value,l=0;l<this.objData.data.embedded[n].records.length;l++)"record"in(a=this.objData.data.embedded[n].records[l])&&a.record.startsWith("v=spf1")?r.append(this.renderRecord(n,a,this.objData.data.embedded[n].problems)):"macro"in a&&r.append(this.renderMacro(n,a.macro));if("exists"in t.parts&&t.parts.exists.length>0)for(o=0;o<t.parts.exists.length;o++)for(n=t.parts.exists[o].value,l=0;l<this.objData.data.embedded[n].records.length;l++){var a;"record"in(a=this.objData.data.embedded[n].records[l])&&a.record.startsWith("v=spf1")?r.append(this.renderRecord(n,a,this.objData.data.embedded[n].problems)):"macro"in a&&r.append(this.renderMacro(n,a.macro))}return r}clearResults(){var e;null===(e=this.errorMessageHolder)||void 0===e||e.classList.remove(this.errorMessageHolderVisibleCssClass),this.errorMessage.innerHTML="",document.getElementById("spf-record-checker__results").innerHTML=""}renderProblem(e){let t=document.createElement("div");if(t.classList.add("problemHolder"),0==e.total){let e=document.createElement("div");e.classList.add("problemsNone"),e.innerText="No problems were detected with this record",t.append(e)}else{for(var i=0;i<e.infos.length;i++){let r=document.createElement("div");r.classList.add("problemsInfo"),r.innerText=e.infos[i].message,t.append(r)}for(i=0;i<e.warnings.length;i++){let r=document.createElement("div");r.classList.add("problemsWarning"),r.innerText=e.warnings[i].message,t.append(r)}for(i=0;i<e.errors.length;i++){let r=document.createElement("div");r.classList.add("problemsError"),r.innerText=e.errors[i].message,t.append(r)}}return t}renderA(e){let t=document.createElement("div");t.classList.add("asHolder");let i=document.createElement("h4");i.innerText="A/AAAA Records",t.append(i);for(var r=0;r<e.length;r++){let i=this.objData.data.embedded[e[r].value],n=document.createElement("div");n.classList.add("aHolder"),n.classList.add(this.getQualifierClass(e[r].qualifier)),n.innerText=e[r].value;for(var s=0;s<i.records.length;s++){if("A"==i.records[s].record||"AAAA"==i.records[s].record){let e=document.createElement("ul");for(var o=0;o<i.records[s].parts.ips.length;o++){let t=document.createElement("li");t.innerText=i.records[s].record+" - "+i.records[s].parts.ips[o].value,e.append(t)}n.append(e)}t.append(n)}}return t}renderMx(e){let t=document.createElement("div");t.classList.add("mxHolder");let i=document.createElement("h4");i.innerText="MX Records",t.append(i);let r=this.objData.data.embedded[e.value],s=document.createElement("div");s.classList.add("mxRecords"),s.classList.add(this.getQualifierClass(e.qualifier)),t.append(s);let o=!1,n=0;for(var l=0;l<r.records.length;l++)if("MX"==r.records[l].record){n+=r.records[l].analyzed.lookups,o=!0;let e=document.createElement("div");e.classList.add("mxRecord"),e.innerText=r.records[l].parts.target;let t=document.createElement("ul");for(var a=0;a<r.records[l].parts.ips.records.length;a++)for(var c=0;c<r.records[l].parts.ips.records[a].parts.ips.length;c++){let e=document.createElement("li");e.innerText=r.records[l].parts.ips.records[a].record+" - "+r.records[l].parts.ips.records[a].parts.ips[c].value,t.append(e)}e.append(t),s.append(e)}if(o){let e=document.createElement("div");e.classList.add("recordLookups"),e.innerText="Look ups: "+n,e.append(i)}else{let e=document.createElement("div");e.classList.add("mxRecord"),e.innerText="No MX record found for this domain",s.append(e)}return t}renderIps(e){let t=document.createElement("div");t.classList.add("ipsHolder");let i=document.createElement("h4");i.innerText="IP Records",t.append(i);for(var r=0;r<e.length;r++){let i=document.createElement("div");i.classList.add("ipHolder"),i.classList.add(this.getQualifierClass(e[r].qualifier)),i.innerText=e[r].value,t.append(i)}return t}renderExists(e){let t=document.createElement("div");t.classList.add("existsHolder");let i=document.createElement("h4");i.classList.add("exists-domains"),t.append(i);for(var r=0;r<e.length;r++){let i=document.createElement("div");i.classList.add("existHolder"),i.classList.add(this.getQualifierClass(e[r].qualifier)),i.innerText=e[r].value,t.append(i)}return t}renderAll(e){let t=document.createElement("div");t.classList.add("allHolder");let i=document.createElement("h4");i.innerText="All other emails",t.append(i);let r=document.createElement("p");return r.innerHTML="&nbsp;",r.classList.add(this.getQualifierClass(e.qualifier)),t.append(r),t}renderMacro(e,t){let i=document.createElement("div");i.classList.add("recordHolder");let r=document.createElement("h3");if(r.innerText=e,i.append(r),"example"in t){let e=document.createElement("div");if(e.classList.add("example-holder"),e.innerText="Example: "+t.example,i.append(e),"parts"in t)for(var s in t.parts)if(t.parts.hasOwnProperty(s)){let e=document.createElement("h3");e.innerText=s,i.append(e);var o="";if("%{i}"==s?o=this.ipSender.value:"%{h}"==s?o=this.receiver.value:"%{d}"==s&&(o=this.sendingAddress.value),"example"in t.parts[s]){let e=document.createElement("div");e.classList.add("example-holder"),e.innerText=o+" (Example: "+t.parts[s].example+")",i.append(e)}}}return i}getQualifierClass,new class{constructor(){Oe(this,"tabbedMarketoForm",void 0),Oe(this,"marketoFormElement",null),this.tabbedMarketoForm=document.querySelector(".tabbed-marketo-form"),this.tabbedMarketoForm&&(this.marketoFormElement=this.tabbedMarketoForm.querySelector(".tabbed-marketo-form__form"),this.initForms())}initForms(){var e;const t=null===(e=this.marketoFormElement)||void 0===e?void 0:e.getAttribute("data-marketo-formId");MktoForms2.loadForm("https://info.mimecast.com","336-TAU-594",t,(),MktoForms2.onFormRender(this.marketoSectionsFormRender)}setUpMarketoSections(e){var t,i,r;const s=this,o=e;null===(t=this.tabbedMarketoForm.querySelector("button.mktoButton"))||void 0===t||t.addEventListener("click",(e=>(e.preventDefault(),o.validate()?(o.submit(),!0):(s.showAllSections(),setTimeout((function(){const e=document.querySelector(".mktoErrorMsg");if(e){var t;const i=null==e||null===(t=e.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t?void 0:t.parentElement;i&&(i.style.display="block")}s.hideAllSections(),s.updateCurrentSectionOnLi()}),100),!1)))),null===(i=this.tabbedMarketoForm.querySelectorAll(".tabbed-marketo-form__form > div.mktoFormRow > fieldset > legend"))||void 0===i||i.forEach(((e,t)=>{var i,r;const s=document.createElement("li"),o=document.createElement("h2"),n=e;s.innerHTML='<span class="tabbed-marketo-form__sections__section-number">'+(t+1).toString()+"</span>"+(null==n?void 0:n.innerText),null===(i=document.querySelector(".tabbed-marketo-form__sections ul"))||void 0===i||i.append(s),o.innerText=n.innerText,o.classList.add("app-h4"),null===(r=n.parentElement)||void 0===r||null===(r=r.parentElement)||void 0===r||r.prepend(o)}));const n=this.tabbedMarketoForm.querySelectorAll(".tabbed-marketo-form__sections ul li");null==n||n.forEach(((e,t)=>{null==e||e.addEventListener("click",(t=>{o.validate(),setTimeout((function(t){var i;if(0===(null===(i=document.querySelectorAll(".mktoErrorMsg"))||void 0===i?void 0:i.length)){s.hideAllSections();const t=e.innerHTML,i=document.querySelectorAll("div.container form > div.mktoFormRow");null==i||i.forEach(((e,i)=>{var r;const s=null==e||null===(r=e.querySelector("h2"))||void 0===r?void 0:r.innerHTML;t.indexOf(s)>=0&&(e.style.display="block")})),s.updateCurrentSectionOnLi()}}),100,this)}))})),null===(r=this.tabbedMarketoForm.querySelectorAll(".tabbed-marketo-form__form > div.mktoFormRow > fieldset"))||void 0===r||r.forEach(((e,t)=>{const i=document.createElement("div"),r=document.createElement("button");i.classList.add("mktoButtonRow"),r.classList.add("cta-button","cta-button--primary","nextSection"),r.innerHTML="Continue",i.appendChild(r),e.append(i)}));const l=this.tabbedMarketoForm.querySelectorAll(".tabbed-marketo-form__form > div.mktoFormRow > fieldset > div.mktoButtonRow > button.cta-button--primary");l&&l.length>0&&l[l.length-1].remove();const a=this.tabbedMarketoForm.querySelectorAll("div.mktoButtonRow button.nextSection");null==a||a.forEach(((e,t)=>{null==e||e.addEventListener("click",(t=>{o.validate(),setTimeout((function(t){if(console.log(e),0===document.querySelectorAll(".mktoErrorMsg").length){var i;s.hideAllSections();const t=null==e||null===(i=e.parentElement)||void 0===i||null===(i=i.parentElement)||void 0===i||null===(i=i.parentElement)||void 0===i?void 0:i.nextElementSibling;t&&(t.style.display="block"),s.updateCurrentSectionOnLi()}}),100,this)}))}));const c=this.tabbedMarketoForm.querySelectorAll(".tabbed-marketo-form__form > div.mktoFormRow > fieldset");c.length>0&&c[c.length-1].append(this.tabbedMarketoForm.querySelector("div.mktoButtonRow > span > button.mktoButton").parentElement.parentElement),this.hideAllSections();const d=this.tabbedMarketoForm.querySelectorAll(".tabbed-marketo-form__form > div.mktoFormRow > fieldset");if(d&&d.length>0){const e=d[0].parentElement;e&&(e.style.display="block")}this.updateCurrentSectionOnLi()}marketoSectionsFormRender(e){var t,i;null===(t=e.getFormElem()[0].querySelectorAll(".mktoClear"))||void 0===t||t.forEach(();const r=e.getFormElem()[0].querySelectorAll(".mktoCheckboxList");null==r||r.forEach(((e,t)=>{if(e){var i;const t=null===(i=e.parentElement)||void 0===i?void 0:i.querySelector(".mktoLabel");t&&(t.style.display="inline-block")}})),null===(i=e.getFormElem()[0].querySelectorAll("div.mktoFormRow > fieldset > div > div > div > label.mktoLabel"))||void 0===i||i.forEach(((e,t)=>{var i,r;e&&(e.innerHTML.includes("[R]")?(null===(i=e.parentElement)||void 0===i||null===(i=i.parentElement)||void 0===i||null===(i=i.parentElement)||void 0===i||i.classList.add("marketoSectionDesktopRight"),e.innerHTML=e.innerHTML.replace("[R]",""),e.setAttribute("customFloat","right")):(null===(r=e.parentElement)||void 0===r||null===(r=r.parentElement)||void 0===r||null===(r=r.parentElement)||void 0===r||r.classList.add("marketoSectionDesktopLeft"),e.setAttribute("customFloat","none")))}))}hideAllSections(){const e=this.tabbedMarketoForm.querySelectorAll(".tabbed-marketo-form__form > div.mktoFormRow");null==e||e.forEach(((e,t)=>{e.style.display="none"}))}showAllSections(){const e=this.tabbedMarketoForm.querySelectorAll(".tabbed-marketo-form__form > div.mktoFormRow");null==e||e.forEach(()}removeCurrentSectionFromLi(){const e=this.tabbedMarketoForm.querySelectorAll(".tabbed-marketo-form__sections ul li");null==e||e.forEach(()}addCurrentSectionToLi(){const e=this.tabbedMarketoForm.querySelectorAll(".tabbed-marketo-form__form > div.mktoFormRow");let t="";null==e||e.forEach(((e,i)=>{var r,s;"block"==e.style.display&&(t=null!==(r=null===(s=e.querySelector("h2"))||void 0===s?void 0:s.innerHTML)&&void 0!==r?r:"")}));const i=document.querySelectorAll(".tabbed-marketo-form__sections ul li");null==i||i.forEach(((e,i)=>{e.innerHTML.indexOf(t)>=0&&(null==e||e.classList.add("currentSection"))}))},new class{constructor(){document.querySelectorAll(".simple-carousel .splide").forEach((e=>{const t=e.getAttribute("data-carousel-auto-play"),i=e.getAttribute("data-carousel-interval-time");new u(e,{autoWidth:!0,goToSlideOnClick:!0,updateOnMove:!0,drag:!0,pagination:!0,slideFocus:!1,focusCenter:!0,arrows:!0,interval:1e3*parseInt(null!=i?i:"0"),autoplay:"true"===t,type:c.loop}).mount()}))}},new class{constructor(){document.querySelectorAll(".stats-card__cta-holder").forEach((e=>null==e?void 0:e.addEventListener("click",(function(t){var i,r,s;t.preventDefault(),null==e||null===(i=e.firstElementChild)||void 0===i||null===(i=i.firstElementChild)||void 0===i||i.classList.toggle("fa-chevron-up"),null==e||null===(r=e.firstElementChild)||void 0===r||null===(r=r.firstElementChild)||void 0===r||r.classList.toggle("fa-chevron-down");const o=e.querySelector(".cta-button"),n=e.nextElementSibling;var l,a;null==o||o.classList.toggle("stats-card__cta-button--selected"),null==o||o.classList.toggle("stats-card__cta-button"),null==n||n.classList.toggle("stats-card__more-description"),(null==n||null===(s=n.parentElement)||void 0===s?void 0:s.classList.toggle("stats-card__more-bg-color"))?null==n||null===(l=n.parentElement)||void 0===l||l.classList.add("stats-card__bg-color-fill"):null==n||null===(a=n.parentElement)||void 0===a||a.classList.remove("stats-card__bg-color-fill")}))))}};class ze{constructor(e,t,i){Fe(this,"tag",void 0),Fe(this,"defaultValue",void 0),Fe(this,"description",void 0),this.tag=e,this.defaultValue=t,this.description=i}}function Pe(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function je(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function De(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ne(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}new class{constructor(){var e,t,i,r,s,o,n,l,a,c,d,u;(Fe(this,"ApiRoutePath","/api/dmarc-analyzer/bimi-record-checker"),Fe(this,"bimiRecordChecker",null),Fe(this,"btnSubmit",null),Fe(this,"allDescriptions",new Map),Fe(this,"hasProblem",void 0),Fe(this,"resultJson",null),Fe(this,"txtDomain",null),Fe(this,"resultsDomain",null),Fe(this,"resultsHolderVisibleCssClass","bimi-record-checker__results-holder--visible"),Fe(this,"resultsHolder",null),Fe(this,"errorMessageHolderVisibleCssClass","bimi-record-checker__error-message-holder--visible"),Fe(this,"errorMessageHolder",null),Fe(this,"errorMessage",null),Fe(this,"dmarcAnalyzerMarketoForm",null),Fe(this,"logoText",null),Fe(this,"logoFound",null),Fe(this,"mobileTitle",null),Fe(this,"mobileText",null),Fe(this,"objData",void 0),Fe(this,"invisibleRecaptcha",null),this.bimiRecordChecker=document.getElementById("bimi-record-checker"),this.hasProblem=!1,this.bimiRecordChecker)&&(this.initInvisibleRecaptcha(),this.btnSubmit=this.bimiRecordChecker.getElementsByClassName("bimi-record-checker__btn-submit")[0],console.log(this.bimiRecordChecker.getElementsByClassName("bimi-record-checker__btn-submit")[0]),this.btnSubmit.addEventListener("click",(e=>this.btnSubmit_Click(e))),console.log(this.btnSubmit),this.repopulateAllDescriptions(),this.resultJson=null===(e=this.bimiRecordChecker)||void 0===e?void 0:e.querySelector(".bimi-record-checker__json"),this.txtDomain=null===(t=this.bimiRecordChecker)||void 0===t?void 0:t.querySelector(".bimi-record-checker__txt-domain"),this.resultsDomain=null===(i=this.bimiRecordChecker)||void 0===i?void 0:i.querySelector(".bimi-record-checker__results-domain"),this.resultsHolder=null===(r=this.bimiRecordChecker)||void 0===r?void 0:r.querySelector(".bimi-record-checker__results-holder"),this.logoText=null===(s=this.bimiRecordChecker)||void 0===s?void 0:s.querySelector(".bimi-record-checker__logo-text"),this.logoFound=null===(o=this.bimiRecordChecker)||void 0===o?void 0:o.querySelector(".bimi-record-checker__logo-found"),this.mobileTitle=null===(n=this.bimiRecordChecker)||void 0===n?void 0:n.querySelector(".bimi-record-checker__mobile-title"),this.mobileText=null===(l=this.bimiRecordChecker)||void 0===l?void 0:l.querySelector(".bimi-record-checker__mobile-text"),this.errorMessageHolder=null===(a=this.bimiRecordChecker)||void 0===a?void 0:a.querySelector(".bimi-record-checker__error-message-holder"),this.errorMessage=null===(c=this.bimiRecordChecker)||void 0===c?void 0:c.querySelector(".bimi-record-checker__error-message"),null!=(null===(d=this.bimiRecordChecker)||void 0===d?void 0:d.querySelector(".dmarc-analyzer-marketo-form"))&&(this.dmarcAnalyzerMarketoForm=new Me(null===(u=this.bimiRecordChecker)||void 0===u?void 0:u.querySelector(".dmarc-analyzer-marketo-form"))),""!=this.resultJson.value&&this.processSuccessfulResult(JSON.parse(this.resultJson.value)))}initInvisibleRecaptcha(){var e;null!==(e=this.bimiRecordChecker)&&void 0!==e&&e.querySelector(".invisible-recaptcha")&&(this.invisibleRecaptcha=new Te.m(this.receiveRecaptchaToken,this))}repopulateAllDescriptions(){var e;this.allDescriptions.clear(),null===(e=this.bimiRecordChecker)||void 0===e||e.querySelectorAll(".bimi-record-checker__description-table tbody tr").forEach((e=>{this.allDescriptions.set(e.children[0].innerHTML,new ze(e.children[0].innerHTML,e.children[1].innerHTML,e.children[2].innerHTML))}),this)}btnSubmit_Click(e){this.clearResults(),this.isValid()&&(null!=this.invisibleRecaptcha?(this.invisibleRecaptcha.resetRecaptcha(),this.invisibleRecaptcha.executeRecaptchaCheck()):this.doBimiLookup(""))}isValid(){var e;let t="",i=(null===(e=this.bimiRecordChecker)||void 0===e?void 0:e.getElementsByClassName("bimi-record-checker__txt-domain")[0]).value;return""==i&&(t+="Domain can not be empty. "),""==i||this.isDomain(i)||(t+="Domain is not valid. "),""!=t&&this.showErrorMessage(t),""==t}isDomain(e){return e&&""!=e&&(e=e.toLowerCase()),/^(((?!\-))(xn\-\-)?[a-z0-9\-_]{0,61}[a-z0-9]{1,1}\.)*(xn\-\-)?([a-z0-9\-]{1,61}|[a-z0-9\-]{1,30})\.[a-z]{2,}$/.test(e)}receiveRecaptchaToken(e){this.doBimiLookup(e)}doBimiLookup(e){let t=this.txtDomain.value,i=new FormData;i.append("domain",t),i.append("recaptchaToken",e),fetch(this.ApiRoutePath,{method:"POST",body:i}).then((e=>this.handleResponse(e))).catch((e=>alert("Error: "+e)))}handleResponse(e){200==e.status?e.json().then((e=>{e.apiResult.wasSuccessful?this.processSuccessfulResult(e):this.showErrorMessage("Error: "+e.errorMessage)})):401==e.status?e.json().then((e=>this.showErrorMessage("You are not authenticated: "+e.errorMessage))):e.text().then((e=>this.showErrorMessage("An unknow error occured: "+JSON.stringify(e))))}processSuccessfulResult(e){if(this.objData=JSON.parse(e.apiResult.bimiResult),this.objData.data){var t,i,r;""!=this.objData.data.svg_uri&&(null===(i=this.dmarcAnalyzerMarketoForm)||void 0===i||i.setEmailUrlAndToken(window.location.href.split("?")[0],e.apiResult.emailToken,"bimiCheckResults"),null===(r=this.dmarcAnalyzerMarketoForm)||void 0===r||r.showForm());const s=this.objData.domain;this.txtDomain.value=s,this.resultsDomain.innerText=s;const o=this.renderRecord(s,this.objData.data);null===(t=this.bimiRecordChecker)||void 0===t||null===(t=t.querySelector(".bimi-record-checker__results"))||void 0===t||t.append(o),this.showResultsHolder()}else this.showErrorMessage("Error: Unable to find a BIMI record"),this.hideResultsHolder()}showErrorMessage(e){var t;null===(t=this.errorMessageHolder)||void 0===t||t.classList.add(this.errorMessageHolderVisibleCssClass),this.errorMessage.innerHTML=e}showResultsHolder(){var e;null===(e=this.resultsHolder)||void 0===e||e.classList.add(this.resultsHolderVisibleCssClass)}hideResultsHolder(){var e;null===(e=this.resultsHolder)||void 0===e||e.classList.remove(this.resultsHolderVisibleCssClass)}renderRecord(e,t){const i=t,r=t.problems;let s=document.createElement("div");s.classList.add("bimi-record-checker__recordHolder");let o=document.createElement("h3");if(o.innerText=e,s.append(o),null!=r&&null!=r&&s.append(this.renderProblem(r)),"record"in i&&null!=i.record){let e=document.createElement("div");if(e.classList.add("bimi-record-checker__bimiRecordTxt"),e.innerText=i.record,s.append(e),console.log(this.hasProblem),""!=i.svg_uri){let e=document.createElement("div");e.classList.add("bimi-record-checker__bimi-logo-warp");let t=document.createElement("div");t.classList.add("bimi-record-checker__bimi-logo-view");let r=document.createElement("div");r.innerText=this.logoText.value,r.classList.add("bimi-record-checker__bimi-logo-text"),t.append(r);let o=document.createElement("div");o.classList.add("bimi-record-checker__bimi-logo-found"),o.innerText=this.logoFound.value,t.append(o);let n=document.createElement("img");n.setAttribute("src",i.svg_uri),n.setAttribute("alt",""),t.append(n),e.append(t);let l=document.createElement("div");l.classList.add("bimi-record-checker__bimi-mobile-logo");let a=document.createElement("img");a.setAttribute("src",i.svg_uri),a.setAttribute("alt",""),l.append(a);let c=document.createElement("div");c.classList.add("bimi-record-checker__bimi-mobile-title"),c.innerText=this.mobileTitle.value,l.append(c);let d=document.createElement("div");d.classList.add("bimi-record-checker__bimi-mobile-text"),d.innerText=this.mobileText.value,l.append(d),e.append(l),s.append(e)}}return s}clearResults(){var e;null===(e=this.errorMessageHolder)||void 0===e||e.classList.remove(this.errorMessageHolderVisibleCssClass),this.errorMessage.innerHTML="",this.bimiRecordChecker.querySelector(".bimi-record-checker__results").innerHTML=""}renderProblem(e){let t=document.createElement("div");if(t.classList.add("bimi-record-checker__problemHolder"),0==e.total){this.hasProblem=!1;let e=document.createElement("div");e.classList.add("bimi-record-checker__problemsNone"),e.innerText="No problems were detected with this record",t.append(e)}else{this.hasProblem=!0;for(var i=0;i<e.infos.length;i++){let r=document.createElement("div");r.classList.add("bimi-record-checker__problemsInfo"),r.innerHTML=e.infos[i].message,t.append(r)}for(i=0;i<e.warnings.length;i++){let r=document.createElement("div");r.classList.add("bimi-record-checker__problemsWarning"),r.innerHTML=e.warnings[i].message,t.append(r)}for(i=0;i<e.errors.length;i++){let r=document.createElement("div");r.classList.add("bimi-record-checker__problemsError"),r.innerHTML=e.errors[i].message,t.append(r)}}return t}},new class{constructor(){var e,t,i,r,s,o,n,l,a,c,d,u;(Pe(this,"popupBannerElement",void 0),Pe(this,"popupDelayElement",void 0),Pe(this,"popupScrollElement",void 0),Pe(this,"hideElementCssClass","generic-banner-popup--hide"),Pe(this,"stopScrollingClass","stop-scrolling"),Pe(this,"closeIcon",void 0),Pe(this,"popuped",!1),Pe(this,"priority",!1),Pe(this,"currentPosition",0),Pe(this,"hashContent",void 0),Pe(this,"promoBanner",void 0),Pe(this,"genericForm",void 0),Pe(this,"cookieName",void 0),this.popupBannerElement=document.getElementById("generic-banner-popup"),this.popupDelayElement=document.getElementById("generic-banner-popup__delay"),this.popupScrollElement=document.getElementById("generic-banner-popup__scroll"),this.closeIcon=document.querySelector(".generic-banner-popup__close"),this.promoBanner=document.querySelector(".generic-banner-popup .promo-banner"),this.genericForm=document.querySelector(".generic-banner-popup .generic-form"),this.hashContent=null===(e=this.popupBannerElement)||void 0===e?void 0:e.getAttribute("data-content-hash"),this.cookieName=null===(t=this.popupBannerElement)||void 0===t?void 0:t.getAttribute("data-name"),this.promoBanner&&(this.hashContent+=" "+(null===(i=this.promoBanner)||void 0===i?void 0:i.getAttribute("data-content-hash"))),this.genericForm&&(this.hashContent+=" "+(null===(r=this.genericForm)||void 0===r?void 0:r.getAttribute("data-content-hash"))),this.popupBannerElement&&Q(this.cookieName)!==this.hashContent)&&(null===(s=this.closeIcon)||void 0===s||s.addEventListener("click",(e=>{document.body.classList.remove(this.stopScrollingClass),window.scrollTo(0,this.currentPosition),this.hideElement(this.popupBannerElement)})),null===(o=this.popupBannerElement)||void 0===o||o.addEventListener("click",(e=>{e.target==this.popupBannerElement&&(document.body.classList.remove(this.stopScrollingClass),window.scrollTo(0,this.currentPosition),this.hideElement(this.popupBannerElement))})),d=parseInt(null!==(n=null===(l=this.popupDelayElement)||void 0===l?void 0:l.value)&&void 0!==n?n:"0"),u=parseInt(null!==(a=null===(c=this.popupScrollElement)||void 0===c?void 0:c.value)&&void 0!==a?a:"0"),this.popupBannerElement&&(d>0&&(this.priority=!0,window.setTimeout((()=>{this.showPopup()}),1e3*d)),u>0&&!this.priority&&(this.priority=!0,window.addEventListener("scroll",(()=>{window.setTimeout((()=>{this.togglePopup()}),2e3)}))),this.priority||document.querySelectorAll(".popup-banner_cta").forEach((e=>{e.addEventListener("click",(e=>this.toggleCtaLinks(e)))}))))}togglePopup(){var e,t,i;(i=parseInt(null!==(e=null===(t=this.popupScrollElement)||void 0===t?void 0:t.value)&&void 0!==e?e:"0"))>0&&window.scrollY>i&&!this.popuped&&(this.popuped=!0,this.showPopup())}howPopup(){null!=this.popupBannerElement&&(this.currentPosition=document.documentElement.scrollTop,document.body.classList.add(this.stopScrollingClass),this.showElement(this.popupBannerElement),this.setupCookie())}showElement(e){null==e||e.classList.remove(this.hideElementCssClass)}hideElement(e){null==e||e.classList.add(this.hideElementCssClass)}setupCookie,new class{constructor(){if(je(this,"quiz",null),je(this,"answerButtons",null),je(this,"nextButtons",null),je(this,"goBackButtons",null),je(this,"startButton",null),je(this,"quizStartSlide",null),je(this,"quizSlides",null),je(this,"quizProcessingSlide",null),je(this,"checkBoxHolders",null),je(this,"selectHolders",null),je(this,"results",null),je(this,"url1",null),je(this,"url2",null),je(this,"disabledNextClass","quiz__next-button--disabled"),this.quiz=document.getElementById("quiz"),this.quiz){var e,t;this.results=new Map,this.url1=this.quiz.dataset.url1,this.url2=this.quiz.dataset.url2,this.quizStartSlide=this.quiz.querySelector("#quiz__start-slide"),this.quizSlides=this.quiz.querySelectorAll(".quiz__slide"),this.quizProcessingSlide=this.quiz.querySelector("#quiz__processing-slide");let i=0;this.quizSlides.forEach((e=>{e.classList.remove("quiz__slide--hide"),i=Math.max(i,e.clientHeight),e.classList.add("quiz__slide--hide")})),null===(e=this.quizStartSlide)||void 0===e||e.classList.remove("quiz__slide--hide"),this.quizSlides.forEach((),this.startButton=this.quiz.querySelector(".quiz__start-button-holder > .cta-button"),null===(t=this.startButton)||void 0===t||t.addEventListener("click",(e=>this.startQuiz_Click(e))),this.answerButtons=this.quiz.querySelectorAll(".quiz__answer-holder > .cta-button"),this.answerButtons.forEach((e=>{e.addEventListener("click",(e=>this.answer_Click(e)))})),this.nextButtons=this.quiz.querySelectorAll(".quiz__next-holder > .cta-button"),this.nextButtons.forEach((e=>{e.addEventListener("click",(e=>this.next_Click(e)))})),this.goBackButtons=this.quiz.querySelectorAll(".quiz__go-back-button"),this.goBackButtons.forEach((e=>{e.addEventListener("click",(e=>this.goBack_Click(e)))})),this.checkBoxHolders=this.quiz.querySelectorAll(".quiz__checkboxes-holder"),this.checkBoxHolders.forEach((e=>{e.querySelectorAll(".quiz__checkbox").forEach((e=>{e.addEventListener("change",(e=>this.checkboxSelectionValidate(e)))}))})),this.selectHolders=this.quiz.querySelectorAll(".quiz__select-holder"),this.selectHolders.forEach(()}}startQuiz_Click(e){var t;const i=e.target.parentElement.parentElement.parentElement,r=null===(t=this.quiz)||void 0===t?void 0:t.querySelector("#".concat(i.dataset.firstQuestionId));this.switchSlideAnimation(i,r),this.pushAnalyticsEvent("Start Quiz",null,null)}answer_Click(e){var t;const i=e.target,r=i.parentElement.parentElement,s=r.id;null===(t=this.results)||void 0===t||t.set(s,i.dataset.value),this.pushAnalyticsEvent("Answered",s,i.dataset.value),this.showNextQuestion(r)}checkboxSelectionValidate(e){var t;const i=null===(t=e.target.parentElement)||void 0===t?void 0:t.parentElement,r=i.parentElement.querySelector(".quiz__next-button");i.querySelectorAll(":checked").length>=1?r.classList.remove(this.disabledNextClass):r.classList.add(this.disabledNextClass)}dropdownSelectionValidate(e){var t;const i=e.target,r=null==i?void 0:i.parentElement,s=null==r||null===(t=r.parentElement)||void 0===t?void 0:t.querySelector(".quiz__next-button");""!==i.value?null==s||s.classList.remove(this.disabledNextClass):null==s||s.classList.add(this.disabledNextClass)}next_Click(e){const t=e.target,i=t.parentElement.parentElement.parentElement,r=i.id;if(!t.classList.contains(this.disabledNextClass)){var s;let e="";i.querySelectorAll(".quiz__select-holder").length>0?e=i.querySelector(".quiz__select-input").value:i.querySelectorAll(".quiz__checkboxes-holder").length>0&&(e=Array.from(i.querySelectorAll(".quiz__checkbox:checked")).map(().join()),null===(s=this.results)||void 0===s||s.set(r,e),this.pushAnalyticsEvent("Answered",r,e),this.showNextQuestion(i)}}goBack_Click(e){var t;const i=e.target.parentElement.parentElement.parentElement,r=i.id,s=null===(t=this.quiz)||void 0===t?void 0:t.querySelector('.quiz__slide[data-next-question-id="'.concat(i.id,'"]'));null==s?this.switchSlideAnimation(i,this.quizStartSlide):this.switchSlideAnimation(i,s),this.pushAnalyticsEvent("Go Back",r,null)}showNextQuestion(e){const{nextQuestionId:t}=e.dataset;if(""!==t){var i;const t=null===(i=this.quiz)||void 0===i?void 0:i.querySelector("#".concat(e.dataset.nextQuestionId));this.switchSlideAnimation(e,t)}else{var r;this.switchSlideAnimation(e,this.quizProcessingSlide),window.setTimeout((()=>{this.processRedirect()}),Number.parseInt(null===(r=this.quiz)||void 0===r?void 0:r.dataset.processingTime,10))}}switchSlideAnimationrocessRedirect(){var e,t,i;let r=this.url1;!1!==this.isAnswerInOptions("quiz__question-slide-2")&&"+1000"!==(null===(e=this.results)||void 0===e?void 0:e.get("quiz__question-slide-3"))&&"Microsoft"===(null===(t=this.results)||void 0===t?void 0:t.get("quiz__question-slide-4"))&&"multiple"!==(null===(i=this.results)||void 0===i?void 0:i.get("quiz__question-slide-5"))||(r=this.url2),window.location.assign(r)}pushAnalyticsEventsAnswerInOptions(e){var t,i;const r=(null===(t=this.results)||void 0===t?void 0:t.get(e))||"error",s=(null===(i=this.quiz)||void 0===i?void 0:i.querySelector("#"+e)).dataset.validAnswers,o=null==s?void 0:s.split(",");return(null==o?void 0:o.includes(r))||!1}},new class{constructor(){De(this,"handleClick",((e,t,i)=>{var r;n()&&(e.preventDefault(),this.closeAll(t),this.hideAllPictures(t),this.setPicture(e.target,i),null===(r=e.target)||void 0===r||r.setAttribute("open",""))})),De(this,"closeAll",(e=>{e.querySelectorAll("[open]").forEach(()})),De(this,"hideAllPictures",(e=>{e.querySelectorAll(".active").forEach(()})),De(this,"setPicture",((e,t)=>{const i=e.getAttribute("data-item"),r=null==t?void 0:t.querySelector('.features__image[data-item="'.concat(i,'"]'));null==r||r.classList.add("active")})),document.querySelectorAll(".features").forEach((e=>{const t=e.querySelectorAll(".features__item"),i=e.querySelector(".features__images");null==t||t.forEach(((t,r)=>{0===r&&(t.setAttribute("open",""),this.setPicture(t,i)),t.addEventListener("click",(,!1)})),window.addEventListener("resize",(t=>this.resizeWindow(t,e)))}))}resizeWindow(e,t){const i=t.querySelectorAll(".features__item"),r=t.querySelector(".features__images");n()&&(this.closeAll(t),this.hideAllPictures(t),i[0].setAttribute("open",""),this.setPicture(i[0],r))}},new class{constructor(){Ne(this,"activeClass","customer-success__tab-active"),Ne(this,"carouselTabs",void 0),Ne(this,"carouselElements",void 0),this.carouselElements=document.querySelectorAll(".customer-success__slides .splide"),this.carouselTabs=document.querySelectorAll(".customer-success__tab-content"),this.carouselElements.forEach((e=>{const t=new u(e,{autoWidth:!0,goToSlideOnClick:!0,updateOnMove:!0,drag:!0,slideFocus:!1,focusCenter:!0},{SlideNumber:we});t.mount(),t.move(this.onSlideMoved.bind(this)),this.carouselTabs.forEach(((e,i)=>{0===i&&e.classList.add(this.activeClass),e.addEventListener("click",(()=>{this.clearActive(),e.classList.add(this.activeClass),t.go(i)}))}))}))}onSlideMoved(e){this.carouselTabs.forEach(((t,i)=>{t.classList.remove(this.activeClass),i===e&&t.classList.add(this.activeClass)}))}clearActive(){this.carouselTabs.forEach(((e,t)=>{e.classList.remove(this.activeClass)}))}},new class{constructor(){document.querySelectorAll(".card-carousel").forEach((e=>{const t=e.querySelector(".splide"),i=e.getAttribute("data-carousel-go-to-slide-value"),r=e.getAttribute("data-carousel-previous-slide-value"),s=e.getAttribute("data-carousel-next-slide-value"),o=new a.tv(t,{autoWidth:!0,goToSlideOnClick:!0,updateOnMove:!0,drag:!0,pagination:!0,slideFocus:!1,gap:"30px",arrows:!0,type:c.slide,keyboard:"focused",focusableNodes:"",i18n:{slideX:null!=i?i:"Go to slide %s",prev:null!=r?r:"Previous slide",next:null!=s?s:"Next slide"}});o.mount();const n=o.Components.Layout.isOverflow();var l,d;o.options.arrows=n,o.options.pagination=n,o.options.drag=n,n?null===(l=e.querySelector(".card-carousel__intro"))||void 0===l||l.classList.add("card-carousel__intro--extra-margin"):null===(d=e.querySelector(".card-carousel__intro"))||void 0===d||d.classList.remove("card-carousel__intro--extra-margin"),o.on("overflow",(e=>{var t;o.options.arrows=e,o.options.pagination=e,o.options.drag=e;const i=null===(t=o.root.closest(".card-carousel"))||void 0===t?void 0:t.querySelector(".card-carousel__intro");e?null==i||i.classList.add("card-carousel__intro--extra-margin"):null==i||i.classList.remove("card-carousel__intro--extra-margin")}))}))}},new class{constructor(){var e,t,i;e=this,i=[],(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t="carousels"))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,document.querySelectorAll(".featured-cards").forEach((e=>{const t=e.querySelector(".splide");if(t){const e={pagination:!0,drag:!0,autoWidth:!0};this.carousels.push(new u(t,e)),t.querySelectorAll(".featured-card").forEach((e=>this.removeHoverShadow(e)))}})),window.addEventListener("resize",(()=>this.mobileOnlyCarouselResize())),n()||this.carousels.forEach((e=>{e.mount()}))}mobileOnlyCarouselResize(){n()?this.carousels.forEach((e=>{e.destroy()})):this.carousels.forEach((e=>{e.mount()}))}removeHoverShadow},9148:(e,t,i)=>{i.d(t,{Z:()=>r});const r=},);