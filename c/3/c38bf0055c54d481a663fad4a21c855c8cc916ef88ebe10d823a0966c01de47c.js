(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[1062],{84572:39042:(t,e,i)=>{"use strict";i.d(e,{bR:()=>n,h1:()=>a,uF:()=>r});var r=375,a={IMAGE:"image",VIDEO:"video",VOICE:"voice",CLIP:"clip",NONE:"none"},n={WIDTH_164:"".concat(window.process.env.HTTP_PATH_STAT,"/blog/img/user/error_164.png"),WIDTH_604:"".concat(window.process.env.HTTP_PATH_STAT,"/blog/img/user/error_604.png")}},14106:24867:(t,e,i)=>{"use strict";i.d(e,{V:()=>I});var r,a,n,s=i(3e4),o=(i(91938),i(76955)),l=i(43177),p=i.n(l),c=i(45525),d=i(73040),h=i.n(d),u=i(19008),m=i(52862),g=i(77948),y=i(54285),f=i(63700),v=i.n(f),I=(0,c.w1)(v())((n=a=class t extends o.Component{constructor(t){super(t),this.playStartDate=null,this.playStartDateCache=null,this.playTime=0,this.playTimeCache=0,this.currentTime=null,this.currentTimeCache=null,this.setEntryInformation=this.setEntryInformation.bind(this),this.onStart=this.onStart.bind(this),this.onPlay=this.onPlay.bind(this),this.onTimeup=this.onTimeup.bind(this),this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this)}componentDidMount(){this.initialize()}shouldComponentUpdate(t){return this.props.amebaId!==t.amebaId||this.props.entryId!==t.entryId||this.props.duration!==t.duration||this.props.pathname!==t.pathname||this.props.playCount!==t.playCount||this.props.id!==t.id||this.props.trackEndClip!==t.trackEndClip||this.props.trackProgressClip!==t.trackProgressClip||this.props.trackStartClip!==t.trackStartClip}componentDidUpdate(t){this.props.pathname!==t.pathname&&(this.reset(),this.initialize()),this.props.duration===t.duration&&this.props.playCount===t.playCount||this.setEntryInformation({duration:this.props.duration,playCount:this.props.playCount})}componentWillUnmount(){this.reset()}onStart(t){this.playStartDate=this.playStartDate||p()(Date.now(),g.Z.CLIP_PLAYER_LOG_DATE);var{amebaId:e,duration:i,entryId:r,id:a}=this.props,n={entryId:r,clipId:a,bloggerAmebaId:e,playheadTime:t.video.currentTime||"0",playMedia:"main-player",duration:i};this.props.trackStartClip(n)}nTimeup(t){if(this.playStartDate){if(this.playStartDateCache){var e=(Date.now()-this.playStartDateCache)/1e3;this.playTime=this.playTimeCache+e}var i=Math.floor(t.video.currentTime);if(i%5==0&&i!==this.currentTimeCache){this.currentTimeCache=i;var{amebaId:r,duration:a,entryId:n,id:s}=this.props,o={entryId:n,clipId:s,bloggerAmebaId:r,playheadTime:t.video.currentTime||"0",playMedia:"main-player",duration:a,playStartDate:this.playStartDate,playTime:this.playTime||"0"};this.props.trackProgressClip(o)}}}onPause(){this.clearLogCache()}onEnded(){var{amebaId:t,duration:e,entryId:i,id:r}=this.props,a={entryId:i,clipId:r,bloggerAmebaId:t,playMedia:"main-player",duration:e,playStartDate:this.playStartDate,playTime:this.playTime||"0"};this.props.trackEndClip(a),this.clearLogCache()}ount(){var t=window.ClipMobilePlayerApp;t&&(this.clearClip(),this.clip=new t(this.props.id),this.clip.on(t.Events.START,this.onStart),this.clip.on(t.Events.PLAY,this.onPlay),this.clip.on(t.Events.TIMEUP,this.onTimeup),this.clip.on(t.Events.PAUSED,this.onPause),this.clip.on(t.Events.ENDED,this.onEnded),this.clip.mount(this.target))}load(){return(0,u.v)("".concat(window.process.env.HTTP_PATH_CLIPBLOG,"/js/").concat(m.Z.PLAYER_FILE_VERSION,"/clipMobilePlayerApp.js"))}initialize(){this.target&&this.load().then((()=>{this.mount(),this.setEntryInformation({duration:this.props.duration,playCount:this.props.playCount}),this.startListen()}))}handleEnter(){this.clip&&(this.clip.status.isEnded||this.clip.play())}handleLeave(){this.clip&&(this.clip.status.isFullscreen||this.clip.pause())}clearLogCache(){this.currentTimeCache=null,this.playStartDateCache=null,this.playTimeCache=this.playTime}tartListen(){t.intersectionListener||(t.intersectionListener=(0,y.T)({threshold:.5})),this.stopListen(),this.unlisten=t.intersectionListener.listen(this.target,(t=>{t.intersectionRatio>=.5?this.handleEnter():this.handleLeave()}))}stopListen(){this.unlisten&&(this.unlisten(),this.unlisten=null)}nder(){return this.props.id?o.createElement("div",{className:v().Block,ref:t=>{this.target=t}},(0,s.Z)("div",{className:v().Placeholder},void 0,(0,s.Z)(h(),{"aria-label":"\u52d5\u753b",className:v().Icon}))):null}},a.displayName="SpEntryClip",a.intersectionListener=void 0,r=n))||r},35679:(t,e,i)=>{"use strict";i.d(e,{I:()=>y});var r,a,n,s=i(3e4),o=(i(91938),i(76955)),l=i(55382),p=i.n(l),c=i(45525),d=i(30657),h=i(18043),u=i(14272),m=i(98717),g=i.n(m),y=(0,c.w1)(g())((n=a=class extends o.PureComponent{render(){return(0,s.Z)("div",{className:p()(g().Block,h.RS)},void 0,(0,s.Z)("time",{className:g().Time,dateTime:this.props.entryCreatedDatetime},void 0,(0,d.TA)(this.props.displayFlg,this.props.entryCreatedDatetime)),this.props.isPickPR&&(0,s.Z)(u.E,{wrapperStyle:{marginLeft:"12px"}}))}},a.displayName="SpEntryDetailDate",r=n))||r},50351:(t,e,i)=>{"use strict";i.d(e,{R:()=>at});var r=i(3e4),a=i(41185),n=(i(91938),i(76955)),s=i(52377),o=i(72591),l=i(55382),p=i.n(l),c=i(29466),d=i.n(c),h=i(5154),u=i.n(h),m=i(45525),g=i(55752),y=i.n(g),f=i(5663),v=i.n(f),I=i(75457),b=i(14106),L=i(52862),T=i(54285),k=i(54342),_=i.n(k);class w extends n.Component{static get defaultProps(){return{className:"",frameBorder:0,loop:"loop",no:null,scrolling:"no",onLoaded:u()}}ouldComponentUpdate(t){return this.props.className!==t.className||this.props.frameBorder!==t.frameBorder||this.props.height!==t.height||this.props.no!==t.no||this.props.id!==t.id||this.props.scrolling!==t.scrolling||this.props.width!==t.width}componentWillUnmount(){this.element.contentWindow&&this.element.contentWindow.postMessage({action:"destroy"},window.process.env.HTTP_PATH_CLIPBLOG),this.element.removeEventListener("load",this.handleLoaded,!1)}ender(){var{className:t,frameBorder:e,height:i,id:r,loop:a,no:s,scrolling:l,width:p}=this.props,c=o.format({query:_()({v:r,no:s,loop:a},v())});return n.createElement("iframe",{className:t,frameBorder:e,height:i,ref:t=>{this.element=t},scrolling:l,src:"".concat(window.process.env.HTTP_PATH_CLIPBLOG,"/").concat(c),width:p})}}w.displayName="SpEntryClipSceneFrame";class P extends n.Component{houldComponentUpdate(t){return this.props.alt!==t.alt||this.props.className!==t.className||this.props.height!==t.height||this.props.no!==t.no||this.props.id!==t.id||this.props.width!==t.width}render(){var{alt:t,className:e,height:i,id:a,no:n,width:s}=this.props,o=n?"output/normal/".concat(a,"/thumbnail/scene_").concat(n,"_").concat(a,"-thumbnail-00001.jpg"):"output/hls/".concat(a,"/thumbnail/").concat(a,"-thumbnail-00001.jpg");return(0,r.Z)("img",{alt:t,className:e,height:i,src:"".concat(window.process.env.HTTP_PATH_CLIPBLOG,"/").concat(o),width:s})}}P.displayName="SpEntryClipScenePlaceholder";var E,C,S,A=i(22406),x=i.n(A),j=(0,m.w1)(x())((S=C=class t extends n.Component{static get defaultProps(){return{height:"",loop:"loop",no:"",width:"",trackStartClip:u()}}constructor(t){super(t),this.state={isInview:!1,isLoaded:!1,isPlaying:!1},this.startListen=this.startListen.bind(this),this.stopListen=this.stopListen.bind(this),this.handleFrameLoaded=this.handleFrameLoaded.bind(this),this.receiveMessage=this.receiveMessage.bind(this),this.isTrackedStartClip=!1}componentDidMount(){this.startListen(),window.addEventListener("message",this.receiveMessage,!1)}shouldComponentUpdate(t,e){return this.props.amebaId!==t.amebaId||this.props.entryId!==t.entryId||this.props.height!==t.height||this.props.no!==t.no||this.props.id!==t.id||this.props.width!==t.width||this.state.isInview!==e.isInview||this.state.isLoaded!==e.isLoaded||this.state.isPlaying!==e.isPlaying||this.props.trackStartClip!==t.trackStartClip}componentWillUnmounteceiveMessage(t){if(t.origin===window.process.env.HTTP_PATH_CLIPBLOG){var e=t.data||{};if(this.state.isLoaded){if("clip-player-start"===e.name&&!this.state.isPlaying){if(this.isTrackedStartClip)return;var{amebaId:i,entryId:r,no:a,id:n}=this.props,s={entryId:r,clipId:n,sceneId:a,bloggerAmebaId:i,playheadTime:e.video.currentTime||"0",playMedia:"scene-player",duration:e.video.duration};this.props.trackStartClip(s),this.isTrackedStartClip=!0}e.video&&this.props.id===e.video.id&&this.props.no===e.video.no&&("clip-player-play"!==e.name||this.state.isPlaying||this.setState({isPlaying:!0}),"clip-player-pause"===e.name&&this.state.isPlaying&&this.setState({isPlaying:!1}))}}}tartListen(){t.intersectionListener||(t.intersectionListener=(0,T.T)({threshold:[0,.5]})),this.stopListen(),this.element&&!this.unlisten&&(this.unlisten=t.intersectionListener.listen(this.element,(t=>{t.intersectionRatio>.5?this.setState({isInview:!0}):t.isIntersecting||this.setState({isInview:!1,isLoaded:!1,isPlaying:!1})})))}ender(){return n.createElement("span",{className:x().Block,ref:t=>{this.element=t},style:{width:"".concat(this.props.width,"px"),height:"".concat(this.props.height,"px")}},(0,r.Z)(P,{alt:"",className:x().Placeholder,height:this.props.height,id:this.props.id,no:this.props.no,width:this.props.width}),this.state.isInview&&(0,r.Z)(w,{className:p()(x().Frame,{[x().Loaded]:this.state.isLoaded}),frameBorder:0,height:this.props.height,id:this.props.id,loop:this.props.loop,no:this.props.no,scrolling:"no",width:this.props.width,onLoaded:this.handleFrameLoaded}),!this.state.isPlaying&&(0,r.Z)("button",{"aria-label":"\u518d\u751f\u3059\u308b",className:p()("s","s-play",x().PlayButton)}))}},C.displayName="SpEntryClipScene",C.intersectionListener=void 0,E=S))||E,O=i(45117),D=i.n(O),N=i(47255),W=i.n(N);function M(t){return t)}var B=i(36509),R=i(34679),Z=i(24448),H=i(84572),F=i(15972),J=i(82819),G=i(91216),q=i(18043),z=i(38160),Q=i(39954),U=i(4645),V=i(39472),Y=i(3833),K=i(44350);var $,X,tt,et=i(71500);function it(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function rt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?it(Object(i),!0).forEach((function(e){(0,a.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):it(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var at=(0,m.w1)([D(),W()])((tt=X=class extends n.Component{static get defaultProps(){return{amebloOneTimeToken:"",bloggerGenreCode:"",bloggerType:"",shouldInjectAutoGeneratedAds:!1,entry:{},entryText:null,trackStartClip:u(),trackRaichoAdInviewRequest:u(),trackRaichoAdTapRequest:u(),locationSearch:null,injectedAdsData:null,injectedAdsLoadingStatus:null,injectedAdDfpParam:{},isLoggedIn:!1,onFetchPickEventLabels:null,onInjectedAdDFPNotFound:u(),pickEventLabels:[],remoteConfig:{}}}constructor(t){super(t),this.state={html:t.entryText?M(t.entryText):"",clipPortalTargets:[],adSlots:[],entryId:"",entryText:""},this.handleEntryImageLinkClick=this.handleEntryImageLinkClick.bind(this)}tatic getDerivedStateFromProps(t,e){return e.entryText!==t.entryText||e.entryId!==t.entryId?{entryText:t.entryText,entryId:t.entryId,html:t.entryText?M(t.entryText):"",adSlots:[]}:null}shouldComponentUpdate(t,e){return!(this.props.amebaId===t.amebaId&&this.props.amebloOneTimeToken===t.amebloOneTimeToken&&this.props.entryText===t.entryText&&this.props.entryId===t.entryId&&this.props.isLoggedIn===t.isLoggedIn&&this.props.isOfficialBlog===t.isOfficialBlog&&this.props.pageType===t.pageType&&this.props.imageProtectionType===t.imageProtectionType&&this.props.navigate===t.navigate&&this.props.trackStartClip===t.trackStartClip&&this.props.locationSearch===t.locationSearch&&this.props.shouldInjectAutoGeneratedAds===t.shouldInjectAutoGeneratedAds&&this.props.bloggerGenreCode===t.bloggerGenreCode&&this.props.bloggerType===t.bloggerType&&this.props.onInjectedAdDFPNotFound===t.onInjectedAdDFPNotFound&&this.props.trackRaichoAdInviewRequest===t.trackRaichoAdInviewRequest&&this.props.trackRaichoAdTapRequest===t.trackRaichoAdTapRequest&&this.state.html===e.html&&d()(this.state.clipPortalTargets,e.clipPortalTargets)&&d()(this.state.adSlots,e.adSlots)&&d()(this.props.openImageModal,t.openImageModal)&&d()(this.props.trackTapLog,t.trackTapLog)&&d()(this.props.trackViewLog,t.trackViewLog)&&d()(this.props.onClickFollowLink,t.onClickFollowLink)&&d()(this.props.injectedAdsLoadingStatus,t.injectedAdsLoadingStatus)&&d()(this.props.injectedAdsData,t.injectedAdsData)&&d()(this.props.injectedAdDfpParam,t.injectedAdDfpParam)&&d()(this.props.remoteConfig,t.remoteConfig)&&d()(this.props.entry,t.entry)&&d()(this.props.pickEventLabels,t.pickEventLabels)&&d()(this.props.commerceEntryImageItemList,t.commerceEntryImageItemList))}componentDidUpdate(t,e){if(this.state.html!==e.html&&setImmediate((),this.state.html===e.html&&this.props.shouldInjectAutoGeneratedAds!==t.shouldInjectAutoGeneratedAds&&setImmediate((()=>{this.handleAdSlotInjection()})),d()(this.props.pickEventLabels,t.pickEventLabels)||(0,V.DH)(this.entryDetailText,this.props.pickEventLabels),!d()(this.props.commerceEntryImageItemList,t.commerceEntryImageItemList)){var{amebaId:i,entryId:r}=this.props,a={bloggerAmebaId:i,entryId:r,pageId:this.props.pageType,sectionId:et.ej};!function(t){var{amebaId:e,itemList:i,trackInViewLog:r,trackTapLog:a}=t;(0,Y.R)({amebaId:e,itemList:i,entryBodyElementId:"entryBody",entryImageQuerySelector:t=>{var e=(0,K.N$)(t);return'img[data-image-id^="'.concat(e,'"]')},trackInViewLog:r,trackTapLog:a})}({amebaId:this.props.amebaId,itemList:this.props.commerceEntryImageItemList,trackTapLog:t=>{this.props.trackTapLog(rt(rt({},a),{},{contentId:t}))},trackInViewLog:t=>{this.props.trackViewLog(rt(rt({},a),{},{contentId:t}))}})}}andleMount(){this.updateImageLinks(),this.updateImageLazyLoading(),this.updateImageModalLink(),(0,R.IO)(this.entryDetailText,this.props.locationSearch),(0,B.WW)(this.entryDetailText),this.updateClipPortalTargets(),this.updateLinkClick(),this.updatePickEventLabelsIfNeeded()}handleAdSlotInjectionnsertInArticleInjectedAdTags(){var{remoteConfig:t}=this.props;if(!v()(t)){var{pickLayoutType:e,adHeight:i,adWidth:r,adVerticalMargin:a,fallbackShortestDistanceToBottom:n,fallbackShortestDistanceToTop:s,firstAdPosition:o,repeatHeight:l,repeatLimit:p,shortestDistanceToBottom:c,maxDepth:d,outside:h,unsafeRange:u,contextSeparator:m}=t;(0,J.BF)(this.entryDetailText,{firstAdPosition:o,shortestDistanceToBottom:c,repeatHeight:l,repeatUpperLimit:p,maxDepth:d,fallbackShortestDistanceToTop:s,fallbackShortestDistanceToBottom:n,adHeight:i,adWidth:r,adVerticalMargin:a,outsideAdConfig:h,unsafeRangeConfig:u,contextSeparatorConfig:m,pickLayoutType:e})}}updateLinkClick(){this.unlistenLinkClick&&this.unlistenLinkClick();var t=this.entryDetailText.querySelectorAll("a")||[];Array.prototype.forEach.call(t,(t=>{t.addEventListener("click",this.props.onClickFollowLink,!1)})),this.unlistenLinkClick=()=>{Array.prototype.forEach.call(t,(t=>{t.removeEventListener("click",this.props.onClickFollowLink,!1)})),this.unlistenLinkClick=null}}updateImageLazyLoading(){if(this.entryDetailText){var t=[].slice.call(this.entryDetailText.querySelectorAll("img[data-src]")),e=t=>{t.target.classList.add("is-loaded"),t.target.removeEventListener("load",e,!1)};if("IntersectionObserver"in window){var i=new window.IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){var e=t.target;e.src=e.dataset.src,e.dataset.srcset&&(e.srcset=e.dataset.srcset),i.unobserve(e)}}))}));t.forEach((t=>{i.observe(t),t.addEventListener("load",e,!1)}))}else t.forEach((t=>{var i=t;i.src=i.dataset.src,i.dataset.srcset&&(i.srcset=i.dataset.srcset),i.addEventListener("load",e,!1)}))}}updateImageModalLink(){if(this.unlistenImageModal&&this.unlistenImageModal(),this.entryDetailText&&"all_deny"!==this.props.imageProtectionType&&this.props.pageType!==I.Z.AmemberEntry){var t=this.entryDetailText.querySelectorAll("img[data-image-order]");Array.prototype.forEach.call(t,(t=>{t.addEventListener("click",this.handleEntryImageLinkClick,!1)})),this.unlistenImageModal=()=>{Array.prototype.forEach.call(t,(),this.unlistenImageModal=null},queueMicrotask((()=>{this.imagesPlaceholdersForImageModal=Array.from(t).map((t=>{var e=(()=>{try{return o.parse(t.dataset.src)}catch(e){return}})();return{imageId:t.dataset.imageId,entryId:t.dataset.entryId,imgUrl:e?e.pathname:void 0,width:t.width,height:t.height,title:document.title,entryUrl:"".concat(window.process.env.HTTP_PATH_AMEBLO,"/").concat(this.props.amebaId,"/entry-").concat(t.dataset.entryId,".html")}})).filter(()}))}}handleEntryImageLinkClick(t){var e=this.readPhotoSwipeInfo(t.target);if(e){t.preventDefault(),t.stopPropagation();var i=window.navigator.connection&&"4g"!==window.navigator.connection.effectiveType;this.props.openImageModal(this.props.amebaId,e.imageId,e.entryId,this.props.navigate,i?this.imagesPlaceholdersForImageModal:void 0)}return this.props.trackTapLog({orderId:t.target.dataset.imageOrder,pageId:this.props.pageType,sectionId:"image-detail",serviceId:this.props.isOfficialBlog?"official":"general"}),!1}readPhotoSwipeInfo(t){if(!t||!t.classList.contains(b.N))return null;var e=t.dataset.src||t.src,i=(t=>{for(var e=t.parentElement,i=0;i<100;i+=1){if(!e||!e.tagName)return null;if("A"===e.tagName.toUpperCase())return e;e=e.parentElement}return null})(t),{imageId:r,entryId:a}=t.dataset;return i&&((t,e)=>{var i,r;try{i=o.parse(t),r=o.parse(e)}catch(a){return!1}return i.host===r.host})(e,i.href)&&r&&a?{imageId:r,entryId:a}:null}updateImageLinks(){if("all_deny"===this.props.imageProtectionType||this.props.pageType===I.Z.AmemberEntry){var t=['a[href*="stat.ameba.jp/user_images/"]','a[href*="stat001.ameba.jp/user_images/"]'].join(","),e=this.entryDetailText.querySelectorAll(t)||[];Array.prototype.forEach.call(e,()}}updateInjectedAdsPortalTargets(){var{entryDetailText:t}=this;if(t){var e=Array.from(t.querySelectorAll(F.w6));0!==e.length&&this.setState({adSlots:e})}}updateClipPortalTargets(){var t=this.entryDetailText;if(t){var e=t.querySelectorAll("[".concat(L.Z.DATA_ENTRY_CLIP_SCENE,"]")),i=[];Array.prototype.forEach.call(e,(t=>{for(var e={},r=0,a=t.attributes.length;r<a;r+=1){var n=t.attributes[r];n.name!==L.Z.DATA_ENTRY_CLIP_SCENE&&(e[n.name.replace("".concat(L.Z.DATA_ENTRY_CLIP_SCENE,"-"),"")]=n.value)}i.push({element:t,props:rt(rt({},e),{},{amebaId:this.props.amebaId,entryId:String(this.props.entryId),trackStartClip:this.props.trackStartClip})})})),0!==i.length&&this.setState({clipPortalTargets:i})}}updatePickEventLabelsIfNeeded(){var{entryDetailText:t}=this;t&&(0,V.iq)(t)&&this.props.onFetchPickEventLabels&&(this.props.pickEventLabels.length>0?(0,V.DH)(this.entryDetailText,this.props.pickEventLabels):this.props.onFetchPickEventLabels())}renderClipPortal(){return this.state.clipPortalTargets.map((t=>t.element?s.createPortal(n.createElement(j,t.props),t.element):null))}renderInjectedAdsPortal(){var{bloggerType:t,amebaId:e,entry:i,entryId:a,pageType:n,isOfficialBlog:s,injectedAdsLoadingStatus:o,injectedAdsData:l,injectedAdDfpParam:p,onInjectedAdDFPNotFound:c,trackTapLog:d,trackViewLog:h,trackRaichoAdInviewRequest:u,trackRaichoAdTapRequest:m}=this.props,g=this.state.adSlots.length>0;return t&&g?this.state.adSlots.map(((t,g)=>{var{isAutoInjected:f,injectionType:v,orderId:I,displayPosition:b,slotHeight:L,pickLayoutType:T}=(0,U.Cg)(t,"".concat(g+1)),{data:k,status:_}=(0,U.lW)({adData:l,adRequestStatus:o,entryId:a,orderId:I,pickLayoutType:T}),w={status:_,data:k,trackInview:u,trackTap:m};return(0,r.Z)(H.Z,{container:t},g,(0,r.Z)("div",{className:D().injectedAdWrapper},void 0,(0,r.Z)(Z.Z,{adInjectionType:v||"manual",adcross:w,affiliatorId:y()(i,"affiliator_id"),amebaId:e,dfp:(0,U.m5)(p,T),displayPosition:b||"",entryId:a,isAutoInjected:f,isIMobileEnabled:!0,isOfficial:s,orderId:I,pageType:n,pickLayoutType:T,slotHeight:L,trackTapLog:d,trackViewLog:h,onDfpNotFound:c})))})):null}render(){if("mon_ng"===this.props.closedFlg)return n.createElement("div",{className:D().Block,dangerouslySetInnerHTML:{__html:this.state.html},ref:t=>{this.entryDetailText=t}});if("amember"===this.props.entry.publish_flg&&!this.state.html&&!1===this.props.entry.amemberLoading)return n.createElement("div",{ref:t=>{this.entryDetailText=t}},(0,r.Z)(Q.x,{},void 0,(0,r.Z)(G.Z,{colorClassNames:{borderColorClassName:q.GU,titleColorClassName:q.iJ,textColorClassName:q.RS,buttonColorClassName:p()(q.GU,q.vP,q.iJ)},linkButtonUrl:this.props.isLoggedIn?"".concat(window.process.env.HTTP_PATH_AMEMBER_APPLY,"/amemberRequest.do?oAid=").concat(this.props.amebaId):"".concat(z.qD,"?bnm=").concat(this.props.amebaId,"&eid=").concat(this.props.entry.entry_id,"&service=amember_entry&token=").concat(this.props.amebloOneTimeToken),status:this.props.isLoggedIn?"notAmember":"notLoggedIn"})));var t="all_deny"!==this.props.imageProtectionType&&this.props.pageType!==I.Z.AmemberEntry;return(0,r.Z)(n.Fragment,{},void 0,n.createElement("div",{className:p()(D().Block,{[b.M]:t,[D().ImageProtected]:"all_deny"===this.props.imageProtectionType}),dangerouslySetInnerHTML:{__html:this.state.html},id:"entryBody",ref:),this.renderClipPortal(),this.renderInjectedAdsPortal())}},X.displayName="SpEntryDetailText",$=tt))||$},65333:(t,e,i)=>{"use strict";i.d(e,{V:()=>I});var r,a,n,s=i(3e4),o=(i(91938),i(76955)),l=i(55382),p=i.n(l),c=i(45525),d=i(39954),h=i(18043),u=i(75457),m=i(48516),g=i(16884),y=i(10793),f=i(43940),v=i.n(f),I=(0,c.w1)(v())((n=a=class extends o.PureComponent{render(){if(!this.props.themeName)return(0,s.Z)("div",{className:p()(v().Block,h.RS)});var t=this.props.isOfficial?"official":"general",e="/".concat(this.props.amebaId,"/theme-").concat(this.props.themeId,".html");return(0,s.Z)("div",{className:p()(v().Block,h.RS)},void 0,this.props.themeId&&this.props.themeName&&(0,s.Z)(d.x,{},void 0,(0,s.Z)("div",{className:v().Theme},void 0,(0,s.Z)("p",{},void 0,"\u30c6\u30fc\u30de\uff1a",(0,s.Z)(y.f,{bloggerAmebaId:this.props.amebaId,contentId:e,pageId:this.props.pageType,sectionId:"theme",serviceId:t,tapLogger:this.props.trackTapLog},void 0,(0,s.Z)(m.Z,{className:v().Theme__Link,targetUrl:(0,g.Z)(u.Z.Theme,{amebaId:this.props.amebaId,themeId:this.props.themeId})},void 0,this.props.themeName))))))}},a.displayName="SpEntryDetailTheme",r=n))||r},43775:(t,e,i)=>{"use strict";i.d(e,{m:()=>v});var r,a,n,s=i(3e4),o=(i(91938),i(76955)),l=i(55382),p=i.n(l),c=i(45525),d=i(66680),h=i.n(d),u=i(98205),m=i.n(u),g=i(18043),y=i(27445),f=i.n(y),v=(0,c.w1)(f())((n=a=class extends o.PureComponent{renderIcon(){return"amember"===this.props.publishFlg?(0,s.Z)(m(),{"aria-label":"\u30a2\u30e1\u30f3\u30d0\u30fc\u8a18\u4e8b",className:f().Icon}):this.props.reblogFlg?(0,s.Z)(h(),{"aria-label":"\u30ea\u30d6\u30ed\u30b0\u8a18\u4e8b",className:f().Icon}):null}render(){return(0,s.Z)("h1",{className:p()(f().Block,g.sx)},void 0,this.renderIcon(),this.props.entryTitle)}},a.displayName="SpEntryDetailTitle",r=n))||r},99307:(t,e,i)=>{"use strict";i.d(e,{T:()=>g});i(91938);var r,a,n,s=i(76955),o=i(55382),l=i.n(o),p=i(5154),c=i.n(p),d=i(45525),h=i(18043),u=i(17819),m=i.n(u),g=(0,d.w1)(m())((n=a=class extends s.Component{static get defaultProps(){return{className:void 0,signature:void 0,onInlineLinkClick:c()}}ouldComponentUpdate(t){return this.props.className!==t.className&&this.props.signature!==t.signature&&this.props.onInlineLinkClick!==t.onInlineLinkClick}componentDidUpdate(t){this.props.signature!==t.signature&&setImmediate(()}addInlineLinkEventListener(){if(this.removeInlineLinkEventListener&&this.removeInlineLinkEventListener(),this.signatureRef.current){var t=this.signatureRef.current.querySelectorAll("a")||[];Array.prototype.forEach.call(t,(t=>{t.addEventListener("click",this.props.onInlineLinkClick,!1)})),this.removeInlineLinkEventListener=()=>{Array.prototype.forEach.call(t,(t=>{t.removeEventListener("click",this.props.onInlineLinkClick,!1)})),this.removeInlineLinkEventListener=null}}}render(){return this.props.signature?s.createElement("div",{className:l()(this.props.className,m().Block,h.q1,h.jn),dangerouslySetInnerHTML:{__html:this.props.signature},ref:this.signatureRef}):null}},a.displayName="SpEntrySignature",r=n))||r},44350:(t,e,i)=>{"use strict";i.d(e,{$x:()=>h,N$:()=>g,Vt:()=>m,su:()=>d});var r=i(41185),a=i(72591),n=i(5663),s=i.n(n),o=i(39042),l=i(36322);r d={cpc:"cpc",cpd:"cpd",cpe:"cpe",cpf:"cpf",cpg:"cpg",cas:"cas",cat:"cat",caw:"caw",cax:"cax"};function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{clip:e,voice:i}=t;if(t.image_url||t.entry_image_url){var r=t.image_url||t.entry_image_url,a=-1!==r.indexOf(window.process.env.HTTP_PATH_BLOG_IMG)?r:"".concat(window.process.env.HTTP_PATH_BLOG_IMG).concat(r);return{thumbnailType:o.h1.IMAGE,path:a}}return s()(e)||!e.thumbnail_url&&!e.thumbnail_share_url?s()(i)?t.video_thumbnail_url?{thumbnailType:o.h1.VIDEO,path:t.video_thumbnail_url}:{thumbnailType:o.h1.NONE}:{thumbnailType:o.h1.VOICE,path:i.artwork_url}:{thumbnailType:o.h1.CLIP,path:e.thumbnail_url||e.thumbnail_share_url}}function u(t,e,i){if(!t||!e||!i)return{};if(e!==o.h1.IMAGE&&e!==o.h1.CLIP)return{};var r=e===o.h1.IMAGE?d.cpe:d.cpf,{protocol:n,host:s,pathname:l}=a.parse(t,!0),p=a.parse("".concat(n,"//").concat(s).concat(l)),h=a.format(c(c({},p),{},{query:{[r]:i}})),u=a.format(c(c({},p),{},{query:{[r]:2*i}})),m=a.format(c(c({},p),{},{query:{[r]:3*i}}));return{src:h,srcSet:"".concat(h," 1x, ").concat(u," 2x, ").concat(m," 3x")}}function m(t,e){var{thumbnailType:i,path:r}=h(t);return r||i===o.h1.VOICE?i===o.h1.VIDEO?{src:r}:i===o.h1.VOICE?{hasVoicePlaceholder:!!r,src:(0,l.g)(r,e)}:u(r,i,e):{}}function g(t){if(!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"==typeof t&&(t.startsWith("".concat(window.process.env.HTTP_PATH_BLOG_IMG,"/user_images/"))||t.startsWith("".concat(window.process.env.HTTP_PATH_STAT001,"/user_images/")))}(t))return null;var{pathname:e=""}=a.parse(t);return((e.split("/").pop()||"").match(/[o|t][0-9]{8}(?:_[0-9]{8})?([0-9]{11})(?:_s)?\.(?:jpg|gif|png)/)||[])[1]}},36322:(t,e,i)=>{"use strict";i.d(e,{g:);var r=[56,80,100,302,480];function a(t,e){return r.includes(e)?t?"".concat(t,"?crop=1:1&width=").concat(e).concat("undefined"!=typeof window?"&dpr=".concat(window.devicePixelRatio):""):"".concat(window.process.env.HTTP_PATH_STAT,"/voiceblog/placeholder_").concat(2*e,".png"):""}},74159:(t,e,i)=>{var r=i(18300)((function(t){return t[1]}));r.push([t.id,'._2QKY6esm{font-size:0;position:relative;width:100%}._1zWw1LPE{background:#f8f8f8;border-radius:8px;font-size:0}._1zWw1LPE:before{content:"";display:block;padding-top:177.77%}._2ex0-ivE{bottom:0;color:#ccc;font-size:120px;height:120px;left:0;margin:auto;position:absolute;right:0;top:0;width:120px}',""]),r.locals={Block:"_2QKY6esm",Placeholder:"_1zWw1LPE",Icon:"_2ex0-ivE"},t.exports=r},97570:(t,e,i)=>{var r=i(18300)((function(t){return t[1]}));r.push([t.id,"._29Gmfq5l{display:block;font-size:0;margin:auto;position:relative;text-align:center}._VAd3gm2R{left:0;position:absolute;top:0;z-index:1}._1TE6crEb{z-index:3}._1OwFalr4{left:0;position:absolute;top:0;z-index:2}._1hotzTbM{background:rgba(0, 0, 0, 0.5);border:none;border-radius:50%;box-sizing:border-box;color:#fff;font-size:60px;height:80px;left:50%;line-height:80px;margin:-40px 0 0 -40px;padding:0 0 0 6px;pointer-events:none;position:absolute;top:50%;width:80px;z-index:4}",""]),r.locals={Block:"_29Gmfq5l",Frame:"_VAd3gm2R",Loaded:"_1TE6crEb",Placeholder:"_1OwFalr4",PlayButton:"_1hotzTbM"},t.exports=r},99750:(t,e,i)=>{var r=i(18300)((function(t){return t[1]}));r.push([t.id,"._3UJ-csbb{align-items:center;display:flex;justify-content:space-between;margin-bottom:.25rem}._22COGw_v{color:rgba(8, 18, 26, 0.61);flex:1 1 auto;font-size:10px;min-width:0;overflow:hidden;text-align:left;text-overflow:ellipsis;white-space:nowrap}",""]),r.locals={Block:"_3UJ-csbb",Time:"_22COGw_v"},t.exports=r},65409:(t,e,i)=>{var r=i(18300)((function(t){return t[1]}));r.push([t.id,'._1WkQWJsL img[src*="stat001.ameba.jp/user_images/"],._1WkQWJsL img[src*="stat.ameba.jp/user_images/"]{height:auto!important}.no-js ._1WkQWJsL img[data-src]{display:none}._1WkQWJsL img[data-src]{opacity:.2;transition:opacity .2s ease-out;will-change:opacity}._1WkQWJsL img[data-src].is-loaded{opacity:1}._1WkQWJsL img.emoji[data-src]{height:1em;vertical-align:-.1em;width:1em}._upeu9Fhb a[href*="stat001.ameba.jp/user_images/"],._upeu9Fhb a[href*="stat.ameba.jp/user_images/"]{pointer-events:none}._1WkQWJsL h2{font-size:31.36px;font-size:1.96rem;margin:.83rem 0}._1WkQWJsL h3{font-size:22.4px;font-size:1.4rem;margin:1rem 0}._1WkQWJsL h4{font-size:16px;font-size:1rem;margin:1.33rem 0}._1WkQWJsL ul{list-style-type:disc}._1WkQWJsL ol,._1WkQWJsL ul{margin:1em 0;padding-left:40px}._1WkQWJsL ol{list-style-type:decimal}._1WkQWJsL li[style*="text-align: center"],._1WkQWJsL li[style*="text-align: right"]{list-style-position:inside}._1WkQWJsL blockquote{border-left:1px solid;margin:1em 0 1em 20px;padding:0 0 0 1em}._252jnr5B{-webkit-tap-highlight-color:rgba(0,0,0,0)}._1WkQWJsL iframe{max-width:100%}._1WkQWJsL iframe[data-amb-layout=fill-width],._1WkQWJsL img[data-amb-layout=fill-width]{margin-bottom:1rem;margin-left:-16px;margin-top:1rem;min-width:100vw}._1WkQWJsL iframe[src*="embed/reblog-card"]{height:234px;width:100%}._1WkQWJsL iframe[src*="voice.ameba.jp"],._1WkQWJsL iframe[src*="www.facebook.com"],._1WkQWJsL iframe[src*="www.instagram.com"]{max-width:100%!important;min-width:auto!important}._1WkQWJsL img[src*="magicalmaker.com"]{position:relative}._1WkQWJsL img[src*="magicalmaker.com"]:before{align-items:center;background:#f8f8f8;content:"";display:flex;height:100%;justify-content:center;position:absolute;width:100%}._1WkQWJsL a{text-decoration:underline}._3YiKL3s8{display:flex;flex-direction:column;height:100%}._3YiKL3s8:after,._3YiKL3s8:before{content:"";flex:1 1 auto}',""]),r.locals={Block:"_1WkQWJsL",ImageProtected:"_upeu9Fhb",ProtectionImg:"_252jnr5B",injectedAdWrapper:"_3YiKL3s8"},t.exports=r},49931:(t,e,i)=>{var r=i(18300)((function(t){return t[1]}));r.push([t.id,"._CKb0ajJ0{color:#999;font-size:10px;height:14px;line-height:1em}.no-js ._CKb0ajJ0{display:none}._17PdtHZ9{display:block;line-height:1.4em;margin:0 0 .5em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}._3LBrgtlf{font-weight:700}",""]),r.locals={Block:"_CKb0ajJ0",Theme:"_17PdtHZ9",Theme__Link:"_3LBrgtlf"},t.exports=r},71771:(t,e,i)=>{var r=i(18300)((function(t){return t[1]}));r.push([t.id,"._DOXPqTgN{color:#333;font-size:24px;font-weight:700;line-height:1.3;margin:0 0 1rem;overflow-wrap:break-word;padding:0}._1NV5Ng5O{font-size:32px;vertical-align:-7px}._2sY1bkv2{color:#4290c6}",""]),r.locals={Block:"_DOXPqTgN",Icon:"_1NV5Ng5O",IconAmember:"_2sY1bkv2"},t.exports=r},12527:(t,e,i)=>{var r=i(18300)(();r.push([t.id,"._Gcyj73yu{border-bottom:1px dotted #e3e3e3;border-top:1px dotted #e3e3e3;padding-bottom:12px;padding-top:12px}",""]),r.locals={Block:"_Gcyj73yu"},t.exports=r},63700:(t,e,i)=>{var r=i(74159),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},n=Object.defineProperty||function(t,e,i){t[e]=i.value};"string"==typeof r&&(r=[[t.id,r,""]]),t.exports=function(t){var e=a({},t.locals||{});return n(e,"_",{value:function(){return t}}),n(e,"toString",{value:function(){return"function"==typeof t.toString?t.toString():""}}),e}(r)},22406:(t,e,i)=>{var r=i(97570),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},n=Object.defineProperty||function(t,e,i){t[e]=i.value};"string"==typeof r&&(r=[[t.id,r,""]]),t.exports=function(t){var e=a({},t.locals||{});return n(e,"_",{value:function(){return t}}),n(e,"toString",{value:function(){return"function"==typeof t.toString?t.toString():""}}),e}(r)},98717:(t,e,i)=>{var r=i(99750),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},n=Object.defineProperty||function(t,e,i){t[e]=i.value};"string"==typeof r&&(r=[[t.id,r,""]]),t.exports=function(t){var e=a({},t.locals||{});return n(e,"_",{value:function(){return t}}),n(e,"toString",{value:function(){return"function"==typeof t.toString?t.toString():""}}),e}(r)},45117:(t,e,i)=>{var r=i(65409),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},n=Object.defineProperty||function(t,e,i){t[e]=i.value};"string"==typeof r&&(r=[[t.id,r,""]]),t.exports=function(t){var e=a({},t.locals||{});return n(e,"_",{value:function(){return t}}),n(e,"toString",{value:function(){return"function"==typeof t.toString?t.toString():""}}),e}(r)},43940:(t,e,i)=>{var r=i(49931),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},n=Object.defineProperty||function(t,e,i){t[e]=i.value};"string"==typeof r&&(r=[[t.id,r,""]]),t.exports=function(t){var e=a({},t.locals||{});return n(e,"_",{value:function(){return t}}),n(e,"toString",{value:function(){return"function"==typeof t.toString?t.toString():""}}),e}(r)},27445:(t,e,i)=>{var r=i(71771),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},n=Object.defineProperty||function(t,e,i){t[e]=i.value};"string"==typeof r&&(r=[[t.id,r,""]]),t.exports=function(t){var e=a({},t.locals||{});return n(e,"_",{value:function(){return t}}),n(e,"toString",{value:function(){return"function"==typeof t.toString?t.toString():""}}),e}(r)},17819:(t,e,i)=>{var r=i(12527),a=Object.assign||n=Object.defineProperty||"string"==typeof r&&(r=[[t.id,r,""]]),t.exports=function(t){var e=a({},t.locals||{});return n(e,"_",{value:),n(e,"toString",{value:function(){return"function"==typeof t.toString?t.toString():""}}),e}(r)}}]);