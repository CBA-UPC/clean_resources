(window.webpackJsonp=window.webpackJsonp||[]).push([[221],{1298:function(e,t,o){"use strict";o.r(t);var s=o(5),a=o(14),i=o(106),n=o(17);const r=new a.a("appDownloadMessage"),d=Object.assign({isUserEligible:!1,isVisible:!1,isThreadExpired:!1,threadTypeId:n.m[n.a],source:"",isEnabledOnClickout:!1,isEnabledOnThreadVoting:!1},(()=>{let e=r.get();return Object(i.f)()===e.tryDate||(e={tryDate:Object(i.f)(),shown:0,couldShowOnClickout:0,threadVotes:0},r.set(e)),e})()),l={firstTime:e=>0===e.shown,firstTimeForVoting:(e,t)=>e.threadVotes>=t.appDownloadMessageSettings.minimumThreadVotesForFirstShowing,reachedMaxDailyShows:(e,t)=>e.shown>=t.appDownloadMessageSettings.maximumShowingsPerDay,shouldShowNextTimesForClickout:(e,t)=>e.couldShowOnClickout>=t.appDownloadMessageSettings.minimumClickOutsForNextShowing&&!t.reachedMaxDailyShows,shouldShowNextTimesForVoting:(e,t)=>e.threadVotes>=t.appDownloadMessageSettings.minimumThreadVotesForNextShowing&&!t.reachedMaxDailyShows,appDownloadMessageSettings:(e,t,o)=>{var s;return null!==(s=o.settings.appDownloadMessage)&&void 0!==s?s:{}}},c={writeStorage(e,t){let{commit:o}=e;const s=Object.assign({tryDate:Object(i.f)()},t);r.extend(s);o("MERGE",Object.fromEntries(Object.entries(s).filter((e=>{let[,t]=e;return t||0===t}))))},hide(e){let{commit:t}=e;t("UPDATE_IS_VISIBLE",!1)},showOnVote(e){let{commit:t,dispatch:o,getters:s}=e;d.isEnabledOnThreadVoting&&(o("increaseThreadVotes"),s.firstTime?s.firstTimeForVoting&&t("UPDATE_IS_VISIBLE",!0):s.shouldShowNextTimesForVoting&&t("UPDATE_IS_VISIBLE",!0))},showOnClickout(e){let{commit:t,dispatch:o,state:s,getters:a}=e;s.isEnabledOnClickout&&(a.firstTime?t("UPDATE_IS_VISIBLE",!0):(o("increaseCouldShowOnClickout"),a.shouldShowNextTimesForClickout&&t("UPDATE_IS_VISIBLE",!0)))},show(e,t){let{commit:o,dispatch:s,state:a}=e,{source:i="clickout",isThreadExpired:r=!1,threadTypeId:d=n.m[n.a]}=t;if(a.isUserEligible)switch(o("UPDATE_THREAD_PROPS",{threadTypeId:d,isThreadExpired:r,source:i}),i){case"clickout":s("showOnClickout");break;case"vote":s("showOnVote")}},increaseShown(e){let{state:t,dispatch:o}=e;o("writeStorage",{shown:t.shown+1,couldShowOnClickout:0,threadVotes:0})},increaseCouldShowOnClickout(e){let{state:t,dispatch:o}=e;o("writeStorage",{couldShowOnClickout:t.couldShowOnClickout+1})},increaseThreadVotes(e){let{state:t,dispatch:o}=e;o("writeStorage",{threadVotes:t.threadVotes+1})},merge(e,t){let{commit:o}=e;o("MERGE",t)}},h={UPDATE_IS_VISIBLE(e,t){e.isVisible=t},UPDATE_THREAD_PROPS(e,t){let{threadTypeId:o,isThreadExpired:s,source:a}=t;e.threadTypeId=o,e.isThreadExpired=s,e.source=a},MERGE(e,t){Object.assign(e,t)}};var p=o(524),w=Object(p.b)("appDownloadMessage",{create:()=>({namespaced:!0,state:d,getters:l,mutations:h,actions:c})}),u=o(2),g=o(575),m=o(71),S=o(4);const T={mixins:[w]};var E=Object(s.defineComponent)(Object.assign({},T,{__name:"app-download-message",props:{data:null},setup(e){var t,a;const i=e,n=Object(m.c)();S.a.dispatch("appDownloadMessage/merge",{isEnabledOnClickout:i.data.features.promotionTools.appDownloadMessage,isEnabledOnThreadVoting:i.data.features.promotionTools.appDownloadMessageForThreadVoting,isUserEligible:null!==(t=null===(a=i.data.me)||void 0===a?void 0:a.isEligibleForShowingAppDownloadMessage)&&void 0!==t&&t});const r=Object(s.computed)((()=>S.a.state.appDownloadMessage.isVisible)),d=Object(s.computed)((()=>r.value&&n.smAndDown)),l=()=>S.a.dispatch("appDownloadMessage/increaseShown"),c=e=>S.a.dispatch("appDownloadMessage/show",e);return u.a.add("show-app-download-message-onclick","click",((e,t)=>c(t)),{events:["click"],preventDefault:!1}),u.a.add("show-app-download-message-ondestroy","destroy",((e,t)=>c(t))),{__sfc:!0,MessageInfo:()=>o.e(197).then(o.bind(null,1257)),breakpoints:n,props:i,isVisible:r,isActive:d,increaseShown:l,show:c,hide:()=>S.a.dispatch("appDownloadMessage/hide"),onActivation:e=>{e&&l()},BaseModal:g.a}}})),b=o(45),D=Object(b.a)(E,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return o.isActive?t(o.BaseModal,{attrs:{layout:"bottomCenter"},on:{"update:active":o.onActivation}},[t(o.MessageInfo,{staticClass:"overflow--scrollY",on:{hide:o.hide}})],1):e._e()}),[],!1,null,null,null);t.default=D.exports}}]);ame:"portalTarget",props:{multiple:{type:Boolean,default:!1},name:{type:String,required:!0},slim:{type:Boolean,default:!1},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},data:function(){return{transports:h.transports,firstRender:!0}},created:function(){var t=this;this.$nextTick((function(){h.registerTarget(t.name,t)}))},watch:{ownTransports:function(){this.$emit("change",this.children().length>0)},name:function(t,e){h.unregisterTarget(e),h.registerTarget(t,this)}},mounted:function(){var t=this;this.transition&&this.$nextTick((function(){t.firstRender=!1}))},beforeDestroy:function(){h.unregisterTarget(this.name)},computed:{ownTransports:function(){var t=this.transports[this.name]||[];return this.multiple?t:0===t.length?[]:[t[t.length-1]]},passengers:function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.reduce((function(t,s){var r=s.passengers[0],n="function"==typeof r?r(e):s.passengers;return t.concat(n)}),[])}(this.ownTransports,this.slotProps)}},methods:{children:function(){return 0!==this.passengers.length?this.passengers:this.$scopedSlots.default?this.$scopedSlots.default(this.slotProps):this.$slots.default||[]},noWrapper:function(){var t=this.slim&&!this.transition;return t&&this.children().length>1&&console.warn("[portal-vue]: PortalTarget with `slim` option received more than one child element."),t}},render:function(t){var e=this.noWrapper(),s=this.children(),r=this.transition||this.tag;return e?s[0]:this.slim&&!r?t():t(r,{props:{tag:this.transition&&this.tag?this.tag:void 0},class:{"vue-portal-target":!0}},s)}}),y=0,b=["disabled","name","order","slim","slotProps","tag","to"],v=["multiple","transition"],w=n.extend({name:"MountingPortal",inheritAttrs:!1,props:{append:{type:[Boolean,String]},bail:{type:Boolean},mountTo:{type:String,required:!0},disabled:{type:Boolean},name:{type:String,default:function(){return"mounted_"+String(y++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}},multiple:{type:Boolean,default:!1},targetSlim:{type:Boolean},targetSlotProps:{type:Object,default:function(){return{}}},targetTag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},created:function(){if("undefined"!=typeof document){var t=document.querySelector(this.mountTo);if(t){var e=this.$props;if(h.targets[e.name])e.bail?console.warn("[portal-vue]: Target ".concat(e.name," is already mounted.\n        Aborting because 'bail: true' is set")):this.portalTarget=h.targets[e.name];else{var s=e.append;if(s){var r="string"==typeof s?s:"DIV",n=document.createElement(r);t.appendChild(n),t=n}var a=l(this.$props,v);a.slim=this.targetSlim,a.tag=this.targetTag,a.slotProps=this.targetSlotProps,a.name=this.to,this.portalTarget=new g({el:t,parent:this.$parent||this,propsData:a})}}else console.error("[portal-vue]: Mount Point '".concat(this.mountTo,"' not found in document"))}},beforeDestroy:function(){var t=this.portalTarget;if(this.append){var e=t.$el;e.parentNode.removeChild(e)}t.$destroy()},render:function(t){if(!this.portalTarget)return console.warn("[portal-vue] Target wasn't mounted"),t();if(!this.$scopedSlots.manual){var e=l(this.$props,b);return t(m,{props:e,attrs:this.$attrs,on:this.$listeners,scopedSlots:this.$scopedSlots},this.$slots.default)}var s=this.$scopedSlots.manual({to:this.to});return Array.isArray(s)&&(s=s[0]),s||t()}});var S={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.component(e.portalName||"Portal",m),t.component(e.portalTargetName||"PortalTarget",g),t.component(e.MountingPortalName||"MountingPortal",w)}};e.default=S,e.Portal=m,e.PortalTarget=g,e.MountingPortal=w,e.Wormhole=h},1272:function(t,e,s){"use strict";s.r(e);var r=s(109),n=s(5),a=s(507),o=Object(n.defineComponent)({__name:"message-hud",props:{translations:{type:Object},theme:{type:Object,required:!0,validator:t=>Object.keys({"about-pepper":[224,160],alert:[50,50],"alert-register":[160,145],baby:[35,53],bell:[197,181],talk:[216,203],blank:[189],confused:[138],cool:[113,115],cry:[131],"forgot-password":[209,187],"login-social":[215,117],"keyword-alert":[189,200],"keyword-wink":[195,150],"mascotcard-catch":[150,100],"mascotcard-candle":[180,215],"mascotcard-flame":[180,215],"mascotcard-miss":[180,215],"mascotcard-snowman":[180,215],"mascotcard-tree":[180,215],"mascotcard-wrapped":[180,215],"moderate-comment":[75,74],nerd:[60,74],embarrassed:[140],newsletter:[189],party:[240,171],"post-comment":[75,74],question:[130,75],"site-maintenance":[317,225],skeptical:[130],groups:[137,131],spam:[213,193],tag:[186,181],welcome:[128],twitter:[174,141],"whatsapp-double-check":[25,15],"whatsapp-logo":[46,46],"whatsapp-flame-logo":[126,121],"whatsapp-siren":[19,23],"whatsapp-wave":[22,27],"job-it":[133,143],"job-ru":[133,144],"activity-banner":[103,94],"powered-by-voucherbox":[191,19],personalize:[249,248],robot:[289,200],"access-denied":[193,209],cookies:[156,100],oops:[54,66]}).includes(t.imageName)}},setup(t){const e=t,s=Object(n.computed)((()=>"supportImage--type-".concat(e.theme.imageName)));return{__sfc:!0,props:e,supportImage:s,BaseButton:a.a}}}),i=s(45),l=Object(i.a)(o,(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("li",{staticClass:"softMessages-item softMessages-item--visible space--v-3 space--h-3 space--mb-2 softMessages-item--maxWidth",attrs:{role:"alert"}},[e("div",{staticClass:"box--fromW2-c vAlign--all-m width--all-12 space--b-1 space--fromW2-b-0 fGrid aGrid"},[e("div",{staticClass:"softMessages-imageColumn tGrid-cell space--r-2"},[e("span",{staticClass:"supportImage width--all-12",class:[s.supportImage]})]),e("div",{staticClass:"tGrid-cell vAlign--all-m"},[e("strong",{staticClass:"flex boxAlign-ai--all-c text--color-brandPrimary space--b-2"},[e("span",{staticClass:"size--all-m text--b"},[t._v(" "+t._s(t.translations.title)+" ")])]),e("span",{staticClass:"box--all-b space--r-3 size--all-s"},[t._v(" "+t._s(t.translations.body)+" ")])]),e("div",{staticClass:"tGrid-cell vAlign--all-t"},[e(s.BaseButton,{attrs:{variant:"tertiary",mode:"default",size:"s",square:"","aria-label":"close"},on:{click:function(e){return t.$emit("dismiss")}}},[e("BaseIcon",{attrs:{name:"cross"}})],1)],1)])])}),[],!1,null,null,null).exports,c=s(939),u={components:{MessageHud:l,MountingPortal:r.MountingPortal},mixins:[c.a]},p=Object(i.a)(u,(function(){var t=this,e=t._self._c;return e("MountingPortal",{attrs:{name:"soft-messages","mount-to":"#nav-layer-top",append:""}},[e("ul",{staticClass:"softMessages-list softMessages-list--top space--mh-2 forceLayer"},t._l(t.notifications,(function(s,r){return e("MessageHud",{key:s.code,attrs:{theme:{imageName:s.iconName},translations:{title:s.title,body:s.message}},on:{dismiss:function(e){return t.removeMessage(r)}}})})),1)])}),[],!1,null,null,null);e.default=p.exports},939:function(t,e,s){"use strict";e.a={props:{messages:{type:Array,default:()=>[]}},data(){return{notifications:this.messages}},methods:{setMessages(t){this.notifications=t,this.updateMessages(t)},addMessage(t){this.notifications.push(t),this.updateMessages(this.notifications)},removeMessage(t){this.notifications.splice(t,1),this.updateMessages(this.notifications)},updateMessages(t){this.$emit("update-messages",t)}},computed:{hasMessages(){return!!this.messages.length}}}}}]);