"use strict";(window.webpackChunkNRBA=window.webpackChunkNRBA||[]).push([[193],{9071:(t,e,s)=>{s.d(e,{I:()=>r});var r=0,i=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);i&&(r=+i[1])},3241:(t,e,s)=>{s.d(e,{o:()=>h});var r=s(5673),i=s(9557),n=s(1161),o=s(2545),a=s(880);class h extends i.w{constructor(t,e,s){super(s),this.endpoint=t,this.opts=e||{},this.started=!1,this.timeoutHandle=null,this.aborted=!1,this.harvest=new n.M(this.sharedContext),(0,o.L)(this.unload.bind(this),(0,a.Mt)(this.sharedContext.agentIdentifier,"allow_bfcache")),this.sharedContext?.ee.on("session-reset",this.unload.bind(this))}unload(){this.aborted||(this.opts.onUnload&&this.opts.onUnload(),this.runHarvest({unload:!0}))}startTimer(t,e){this.interval=t,this.started=!0,this.scheduleHarvest(null!=e?e:this.interval)}stopTimer(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.aborted=t,this.started=!1,this.timeoutHandle&&clearTimeout(this.timeoutHandle)}scheduleHarvest(t,e){if(!this.timeoutHandle){var s=this;null==t&&(t=this.interval),this.timeoutHandle=setTimeout((()=>{s.timeoutHandle=null,s.runHarvest(e)}),1e3*t)}}runHarvest(t){if(this.aborted)return;var e=this;let s,i=[];if(this.opts.getPayload){if(s=(0,n.q)(this.endpoint,t),!s)return!1;const e=s.method===r.T.xhr;var o=this.opts.getPayload({retry:e});if(!o)return void(this.started&&this.scheduleHarvest());o="[object Array]"===Object.prototype.toString.call(o)?o:[o],i.push(...o)}let a=t=>this.harvest.sendX(t);return i.length?a=this.opts.raw?t=>this.harvest._send(t):t=>this.harvest.send(t):i.push(void 0),i.forEach((e=>{a({endpoint:this.endpoint,payload:e,opts:t,submitMethod:s,cbFinished:h,customUrl:this.opts.customUrl,raw:this.opts.raw})})),void(this.started&&this.scheduleHarvest());function h(s){s.blocked?e.onHarvestBlocked(t,s):e.onHarvestFinished(t,s)}}onHarvestFinished(t,e){if(this.opts.onFinished&&this.opts.onFinished(e),e.sent&&e.retry){var s=e.delay||this.opts.retryDelay;this.started&&s?(clearTimeout(this.timeoutHandle),this.timeoutHandle=null,this.scheduleHarvest(s,t)):!this.started&&s&&this.scheduleHarvest(s,t)}}}},2545:(t,e,s)=>{s.d(e,{L:()=>h});var r=s(9071),i=s(8544),n=s(273),o=s(2374),a=s(6998);if(o.v6){o._A.cleanupTasks=[];const t=o._A.close;o._A.close=()=>{for(let t of o._A.cleanupTasks)t();t()}}function h(t,e){if(o.il)if(e)(0,a.N)(t,!0),(0,i.bP)("pagehide",t);else{var s=(0,n.Z)(t);!r.I||navigator.sendBeacon?(0,i.bP)("pagehide",s):(0,i.bP)("beforeunload",s),(0,i.bP)("unload",s)}else o.v6&&o._A.cleanupTasks.push(t)}},6368:(t,e,s)=>{s.d(e,{e:()=>n});var r=s(2374),i={};function n(t){if(t in i)return i[t];if(0===(t||"").indexOf("data:"))return{protocol:"data"};let e;var s=r._A?.location,n={};if(r.il)e=document.createElement("a"),e.href=t;else try{e=new URL(t,s.href)}catch(t){return n}n.port=e.port;var o=e.href.split("://");!n.port&&o[1]&&(n.port=o[1].split("/")[0].split("@").pop().split(":")[1]),n.port&&"0"!==n.port||(n.port="https"===o[0]?"443":"80"),n.hostname=e.hostname||s.hostname,n.pathname=e.pathname,n.protocol=o[0],"/"!==n.pathname.charAt(0)&&(n.pathname="/"+n.pathname);var a=!e.protocol||":"===e.protocol||e.protocol===s.protocol,h=e.hostname===s.hostname&&e.port===s.port;return n.sameOrigin=a&&(!e.hostname||h),"/"===n.pathname&&(i[t]=n),n}},273:(t,e,s)=>{function r(t){var e=this;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=r?.leading||!1;let n;return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];i&&void 0===n&&(t.apply(e,o),n=setTimeout((()=>n=clearTimeout(n)),s)),i||(clearTimeout(n),n=setTimeout((()=>{t.apply(e,o)}),s))}}function i(t){var e=this;let s=!1;return function(){if(!s){s=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(e,i)}}}s.d(e,{D:()=>r,Z:()=>i})},1307:(t,e,s)=>{s.r(e),s.d(e,{Aggregate:()=>f});var r=s(4045),i=s(3241),n=s(2438),o=s(6368),a=s(880),h=s(2053),c=s(2628),u=s(4329);class l{#t=void 0;#e=[];#s=setTimeout((()=>this.#r()),5e3);#i(){this.#e.forEach((t=>t())),this.#e=[],clearTimeout(this.#s)}#r(){this.#t=!1,this.#e=[]}settle(t){!1!==this.#t&&(void 0===this.#t?this.#e.push(t):t())}decide(t){void 0===this.#t&&(this.#t=t,!1===t&&this.#r(),!0===t&&this.#i())}}var d=s(5330);const m={global:{mouseup:!0,mousedown:!0},window:{load:!0,pagehide:!0},xhrOriginMissing:{ignoreAll:!0}},p={typing:[1e3,2e3],scrolling:[100,1e3],mousing:[1e3,2e3],touching:[1e3,2e3]};class f extends d.m{static featureName=c.FEATURE_NAME;constructor(t,e,s){var n;if(super(t,e,c.FEATURE_NAME),n=this,!(0,a.OP)(t).xhrWrappable)return;this.resourceObserver=s?.resourceObserver,this.ptid="",this.trace={},this.nodeCount=0,this.sentTrace=null,this.harvestTimeSeconds=(0,a.Mt)(t,"session_trace.harvestTimeSeconds")||10,this.maxNodesPerHarvest=(0,a.Mt)(t,"session_trace.maxNodesPerHarvest")||1e3,this.laststart=0;const o=new l;(0,r.X)("feat-stn",(()=>{"undefined"!=typeof PerformanceNavigationTiming?this.storeTiming(window.performance.getEntriesByType("navigation")[0]):this.storeTiming(window.performance.timing);const t=new i.o("resources",{onFinished:function(e){e.sent&&e.responseText&&!this.ptid&&((0,a.OP)(this.agentIdentifier).ptid=this.ptid=e.responseText,t.startTimer(this.harvestTimeSeconds));e.sent&&e.retry&&this.sentTrace&&(Object.entries(this.sentTrace).forEach((t=>{let[e,s]=t;this.nodeCount>=this.maxNodesPerHarvest||(this.nodeCount+=s.length,this.trace[e]=this.trace[e]?s.concat(this.trace[e]):s)})),this.sentTrace=null)}.bind(this),retryDelay:this.harvestTimeSeconds},this);t.harvest.on("resources",function(e){if((0,h.z)()>9e5)return t.stopTimer(),void(this.trace={});if(this.ptid&&this.nodeCount<=30)return;return this.takeSTNs(e.retry)}.bind(this)),t.runHarvest({needResponse:!0}),o.decide(!0)}),this.featureName,this.ee),(0,r.X)("block-stn",(()=>o.decide(!1)),this.featureName,this.ee),(0,r.X)("bst",(function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return o.settle((()=>n.storeEvent(...e)))}),this.featureName,this.ee),(0,r.X)("bstTimer",(function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return o.settle((()=>n.storeTimer(...e)))}),this.featureName,this.ee),(0,r.X)("bstResource",(function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return o.settle((()=>n.storeResources(...e)))}),this.featureName,this.ee),(0,r.X)("bstHist",(function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return o.settle((()=>n.storeHist(...e)))}),this.featureName,this.ee),(0,r.X)("bstXhrAgg",(function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return o.settle((()=>n.storeXhrAgg(...e)))}),this.featureName,this.ee),(0,r.X)("bstApi",(function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return o.settle((()=>n.storeSTN(...e)))}),this.featureName,this.ee),(0,r.X)("errorAgg",(function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return o.settle((()=>n.storeErrorAgg(...e)))}),this.featureName,this.ee),(0,r.X)("pvtAdded",(function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return o.settle((()=>n.processPVT(...e)))}),this.featureName,this.ee),(0,u.L)(this.agentIdentifier,this.featureName)}processPVT(t,e,s){this.storeTiming({[t]:e}),function(t,e){return"fi"===t&&!!e&&"number"==typeof e.fid}(t,s)&&this.storeEvent({type:"fid",target:"document"},"document",e,e+s.fid)}storeTiming(t){if(t)for(let e in t){let s=t[e];const r=e.toLowerCase();r.indexOf("size")>=0||r.indexOf("status")>=0||"number"==typeof s&&s>=0&&(s=Math.round(s),this.storeSTN({n:e,s,e:s,o:"document",t:"timing"}))}}storeTimer(t,e,s,r){const i={n:r,s:e,e:s,o:"window",t:"requestAnimationFrame"===r?r:"timer"};this.storeSTN(i)}storeEvent(t,e,s,r){if(this.shouldIgnoreEvent(t,e))return;const i={n:this.evtName(t.type),s,e:r,t:"event"};try{i.o=this.evtOrigin(t.target,e)}catch(t){i.o=this.evtOrigin(null,e)}this.storeSTN(i)}shouldIgnoreEvent(t,e){const s=this.evtOrigin(t.target,e);return t.type in m.global||(!(!m[s]||!m[s].ignoreAll)||!(!m[s]||!(t.type in m[s])))}evtName(t){switch(t){case"keydown":case"keyup":case"keypress":return"typing";case"mousemove":case"mouseenter":case"mouseleave":case"mouseover":case"mouseout":return"mousing";case"scroll":return"scrolling";case"touchstart":case"touchmove":case"touchend":case"touchcancel":case"touchenter":case"touchleave":return"touching";default:return t}}evtOrigin(t,e){let s="unknown";if(t&&t instanceof XMLHttpRequest){const e=this.ee.context(t).params;if(!(e&&e.status&&e.method&&e.host&&e.pathname))return"xhrOriginMissing";s=e.status+" "+e.method+": "+e.host+e.pathname}else if(t&&"string"==typeof t.tagName&&(s=t.tagName.toLowerCase(),t.id&&(s+="#"+t.id),t.className))for(let e=0;e<t.classList.length;e++)s+="."+t.classList[e];return"unknown"===s&&("string"==typeof e?s=e:e===document?s="document":e===window?s="window":e instanceof FileReader&&(s="FileReader")),s}storeHist(t,e,s){const r={n:"history.pushState",s,e:s,o:t,t:e};this.storeSTN(r)}storeResources(t){t&&0!==t.length&&(t.forEach((t=>{if((0|t.fetchStart)<=this.laststart)return;const e=(0,o.e)(t.name),s={n:t.initiatorType,s:0|t.fetchStart,e:0|t.responseEnd,o:e.protocol+"://"+e.hostname+":"+e.port+e.pathname,t:t.entryType};this.storeSTN(s)})),this.laststart=0|t[t.length-1].fetchStart)}storeErrorAgg(t,e,s,r){if("err"!==t)return;const i={n:"error",s:r.time,e:r.time,o:s.message,t:s.stackHash};this.storeSTN(i)}storeXhrAgg(t,e,s,r){if("xhr"!==t)return;const i={n:"Ajax",s:r.time,e:r.time+r.duration,o:s.status+" "+s.method+": "+s.host+s.pathname,t:"ajax"};this.storeSTN(i)}storeSTN(t){this.nodeCount>=this.maxNodesPerHarvest||(this.trace[t.n]?this.trace[t.n].push(t):this.trace[t.n]=[t],this.nodeCount++)}takeSTNs(t){this.resourceObserver||this.storeResources(window.performance.getEntriesByType("resource"));const e=Object.entries(this.trace).flatMap((t=>{let[e,s]=t;if(!(e in p))return s;const r=this.smearEvtsByOrigin(e),i=s.sort(((t,e)=>t.s-e.s)).reduce(r,{});return Object.values(i).flat()}),this);if(0===e.length)return{};t&&(this.sentTrace=this.trace),this.trace={},this.nodeCount=0;const s={qs:{st:String((0,a.OP)(this.agentIdentifier).offset)},body:{res:e}};if(!this.ptid){const{userAttributes:t,atts:e,jsAttributes:r}=(0,a.C5)(this.agentIdentifier);s.qs.ua=t,s.qs.at=e;const i=(0,n.P)(r);s.qs.ja="{}"===i?null:i}return s}smearEvtsByOrigin(t){const e=p[t][0],s=p[t][1],r={};return(i,n)=>{let o=i[n.o];o||(o=i[n.o]=[]);const a=r[n.o];return"scrolling"!==t||function(t){const e=4;return!!(t&&"number"==typeof t.e&&"number"==typeof t.s&&t.e-t.s<e)}(n)?a&&n.s-a.s<s&&a.e>n.s-e?a.e=n.e:(r[n.o]=n,o.push(n)):(r[n.o]=null,n.n="scroll",o.push(n)),i}}}},2628:(t,e,s)=>{s.d(e,{BST_RESOURCE:()=>i,BST_TIMER:()=>u,END:()=>a,FEATURE_NAME:()=>r,FN_END:()=>c,FN_START:()=>h,PUSH_STATE:()=>l,RESOURCE:()=>n,START:()=>o});const r=s(2325).D.sessionTrace,i="bstResource",n="resource",o="-start",a="-end",h="fn"+o,c="fn"+a,u="bstTimer",l="pushState"}}]);