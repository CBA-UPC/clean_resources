var trackController=function(){var a=[];return{track:subscribe:function(b){b&&(!a&&(a=[]),a.push(b))}}}();"use strict";
var AdFormController=function(){function a(a,c){var b=window.performance.now(),d=Math.abs(b-window.sessionStorage.getItem("dateForAdFormParameters"));d=(d=Math.floor(d%864E5%36E5/6E4))?d:0;c=c||{};window.disableGetAdFormParameters||0!=window.disableGetAdFormParameters?window.adf&&adf.ClickTrack(this,pm?pm:2032927,a,{}):!window.sessionStorage.getItem("dateForAdFormParameters")||d>=sessionExpirationTime?getOrderIp2Cli(a,b,c):getAdFormSessionStorageItem(a,c)}return trackController.subscribe(function(b){window.disableAdFormCTA&&
"true"!=window.disableAdFormCTA&&(b=$(b),b.attr("adform")&&(window.getAdFormLocation?(b=getAdFormLocation(window.enableAdFormTrackForHash)+b.attr("adform"),console.log("AdForm: "+b),a(b)):console.warn("getAdFormLocation not found")))}),{manageAdFormParamenters:a}}(),getOrderIp2Cli=function(a,b,c){Ip2CliService.getAdFormParameters().subscribe({next:function(e){if(e){window.sessionStorage.setItem("dateForAdFormParameters",b);e=getMappedParameters(e.response);window.sessionStorage.setItem("AdFormParameters",
JSON.stringify(e));for(var d,f=0,g=Object.keys(c);f<g.length;f++)d=g[f],e[d]=c[d];window.adf&&adf.ClickTrack(this,pm?pm:2032927,a,e)}},error:function(){window.adf&&adf.ClickTrack(this,pm?pm:2032927,a,{})}})},getMappedParameters=function(a){var b={};return a&&(b={sv5:a.connectivityLine?a.connectivityLine:"",sv31:a.originChannel?a.originChannel:"",sv58:a.ip?a.ip:"",sv59:a.port?a.port:"",navigationLineCDP:a.navigationLineCDP?a.navigationLineCDP:""},"/api/v2/getAdformParameters"==window.getAdFormParametersVersion&&
(b.tiid=a.tiid?a.tiid:""),"/api/v3/getAdformParameters"==window.getAdFormParametersVersion&&(b.tiid=a.tiid?a.tiid:"",b.clientLinesType=a.clientLinesType?a.clientLinesType:"",b.lineType=a.lineType?a.lineType:"")),b},getAdFormSessionStorageItem=function(a,b){var c=window.sessionStorage.getItem("AdFormParameters");c=c?JSON.parse(c):{};for(var e,d=0,f=Object.keys(b);d<f.length;d++)e=f[d],c[e]=b[e];window.adf&&adf.ClickTrack(this,pm?pm:2032927,a,c)};"use strict";
var OmnitureController=function(){var a,b;return trackController.subscribe(function(c){c=$(c);c.attr("omniturecta")&&console.log("OmnitureCTA: "+c.attr("omniturecta"));c.attr("omnitureposition")&&console.log("OmniturePosition: "+c.attr("omnitureposition"));var a=c.attr("data-tracksearch"),b=c.attr("data-search-type");if(a&&(a=a.replace("-eng-search-","").replace("-"," "),window.digitalData&&digitalData.page)){var f,g;digitalData.page.category&&(f=digitalData.page.category.primaryCategory,digitalData.page.category.primaryCategory=
"search");digitalData.page.pageInfo&&(g=digitalData.page.pageInfo.pageName,digitalData.page.pageInfo.pageName=b?b:"search page");digitalData.search={};digitalData.search.keyword=c.text().trim();digitalData.search.category="tutti i risultati";digitalData.search.keywordtype=a;console.log("Omniture TrackSearch "+a+": ",c.text().trim());_satellite.track("tracksearch");digitalData.search=void 0;digitalData.page.category&&f&&(digitalData.page.category.primaryCategory=f);digitalData.page.pageInfo&&g&&(digitalData.page.pageInfo.pageName=
g)}}),{setOmnitureCookie:function(a){window.digitalData&&(digitalData.user||(digitalData.user={}),console.log("Omniture: ",a?"optin":"optout"),digitalData.user.privacy=a)},setOmnitureError:function(a,b){window.digitalData&&(!digitalData.form&&(digitalData.form={}),digitalData.form.error=a,digitalData.page&&(digitalData.page.category&&(digitalData.page.category.primaryCategory="",digitalData.page.category.pageType="error page"),digitalData.page.pageInfo&&(digitalData.page.pageInfo.pageName=b)),_satellite.track("trackerror"))},
storeOriginalDataLayer:function(){window.digitalData&&(console.log("[Omniture] storeOriginalDataLayer"),a=JSON.parse(JSON.stringify(digitalData)))},backToPage:function(){window.digitalData&&a&&(window.digitalData=a,window._satellite&&_satellite.track("backtopage"),console.log("[Omniture] backtopage"),a=void 0,b=void 0)},tabChangeEvent:function(a){window.digitalData&&digitalData.page&&digitalData.page.pageInfo&&(console.log("Omniture TabChange: ",a.attr("title")),digitalData.page.pageInfo.tabView=
a.attr("title"),_satellite.track("tabchange"))},trackStep:function(c){window.digitalData&&digitalData.page&&digitalData.page.pageInfo&&a&&b!=c&&(digitalData.page.pageInfo.pageName=c,window._satellite&&(_satellite.track("trackstep"),b=c),console.log("[Omniture] trackstep: ",c))},trackStatus:function(a){window.digitalData&&(digitalData.user={authStatus:a},console.log("[Omniture] trackstatus: ",a))},trackSuccessWcb:function(){window._satellite&&_satellite.track("wcbok");console.log("[Omniture] wcbok")}}}();