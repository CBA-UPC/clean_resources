!function(){var t,e,n={};t="undefined"!=typeof window?window:self,e=function(){return [function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(e,"__esModule",{value:!0});var i="undefined"!=typeof window?window:self;function a(t){if(void 0===t&&(t=!1),t){var e=document.referrer.split("/");return e[0]+"//"+e[2]}return location.origin}function c(t,e){var n=t;return n+=(n.split("?")[1]?"&":"?")+e}.getOrigin=a,e.checkOrigin=e.isSafari=function(){var t=navigator&&navigator.userAgent.toLowerCase();return t.indexOf("safari/")>-1&&-1===t.indexOf("chrome")},e.isTestingEnv=e.parseSearch=function(t){if(!t)return{};t.startsWith("?")&&(t=t.slice(1));for(var e=t.split("&"),n={},r=0;r<e.length;r++){var o=e[r].split("=");n[o[0]]=decodeURIComponent(o[1])}return n},e.addParameterToURL=c,e.addBypass=e.getQueryFromURL=function(t){t||(t=location.href);var e=t.indexOf("?"),n=t.indexOf("#");if(-1===n&&-1===e)return{};-1===n&&(n=t.length);var r=-1===e||n===e+1?t.substring(n):t.substring(e+1,n),o={};return r.split("&").forEach(function(t){if(t){var e=(t=t.split("+").join(" ")).indexOf("="),n=e>-1?t.substr(0,e):t,r=e>-1?decodeURIComponent(t.substr(e+1)):"",i=n.indexOf("[");if(-1===i)o[decodeURIComponent(n)]=r;else{var a=n.indexOf("]",i),c=decodeURIComponent(n.substring(i+1,a));n=decodeURIComponent(n.substring(0,i)),o[n]||(o[n]=[]),c?o[n][c]=r:o[n].push(r)}}}),o},e.guid=e.canBeFetch=function(t){var e=a();return!(!/^https?:\/\/[a-z0-9]*\.alicdn\.com\//.test(t)&&!t.startsWith(e))},e.isInProxy=function(){return-1!==location.href.indexOf("/sw-proxy.html?v=")&&window!==top},e.throttle=function(t,e){var n=this,r=Date.now();return function(){var o=Date.now();o-r>=e&&(t.call(n),r=o)}},e.onloadPromise=function(){return u()?Promise.resolve(!0):new Promise(function(t){"complete"!==document.readyState?i.addEventListener("load",:t()})},e.isServiceWorker=u,e.timeout=function(t){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e){setTimeout(e,t)})];case 1:return e.sent(),[2]}})})},e.getCookie=function(t){var e=("; "+document.cookie).split("; "+t+"=");if(e&&2===e.length&&2===e.length)return e.pop().split(";").shift()},e.getQueryVariable=function(t){for(var e=location.search.substring(1).split("&"),n=0;n<e.length;n++){var r=e[n].split("=");if(decodeURIComponent(r[0])===t)return decodeURIComponent(r[1])}},e.getManifestId=function(){var t=/_flasher_manifest_=([^&]*)/.exec(location.href);return t?t[1]:""},e.replaceVars=e.getMetaContent=function(t,e){return(document.querySelectorAll('meta[name="'+t+'"]')[0]||{}).content||e}},,function(t,e){t.exports={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="undefined"==typeof window?self:window;function o(t){"undefined"!=typeof Image?(new Image).src=t:fetch(t,{mode:"no-cors"}).catch(function(){return null})}e.sendBeacon=o,e.count=function(t,e){o("https://arms-retcode.aliyuncs.com/r.png?t=sum&times=1&page=www.test.com&tag=&group=default_group&key="+t+"&val=1&sr=1440x900&vp=1440x318&ct=4g&uid=s0jeUjvRpI41UgpRR0kmu0yv8nzh&pid=iw0okbwm8i%40b227f8ad920d696&_v=1.4.3&sid=qCjdsj2ep261L0ppz0F9uOIl4F5I&sampling=1&z=jjp1p0un&_t="+ +new Date),e&&o("https://arms-retcode.aliyuncs.com/r.png?t=custom&times=1&page=www.test.com&tag=&group=default_group&key="+t+"&val="+JSON.stringify(e)+"&sr=1440x900&vp=1440x318&ct=4g&uid=s0jeUjvRpI41UgpRR0kmu0yv8nzh&pid=iw0okbwm8i%40b227f8ad920d696&_v=1.4.3&sid=qCjdsj2ep261L0ppz0F9uOIl4F5I&sampling=1&z=jjp1p0un&_t="+ +new Date)},e.avg=function(t,e){1e3*Math.random()%1e3<5&&o("https://arms-retcode.aliyuncs.com/r.png?t=avg&times=1&page=www.test.com&tag=&group=default_group&key="+t+"&val="+e+"&sr=1440x900&vp=1440x318&ct=4g&uid=s0jeUjvRpI41UgpRR0kmu0yv8nzh&pid=iw0okbwm8i%40b227f8ad920d696&_v=1.4.3&sid=qCjdsj2ep261L0ppz0F9uOIl4F5I&sampling=1&z=jjp1p0un&_t="+ +new Date)},e.sendError=function(t,e){void 0===e&&(e=r.location.href),t&&"object"==typeof t&&(t=JSON.stringify(t));var n="https://retcode.taobao.com/r.png?uid=c669eac3-1bc3-44dc-bc44-196e4bb88cc5&userNick=&times=1&_t="+ +new Date+"&tag=&type=jserror&category=sys&msg="+t+"&sampling=1&spm=virtual.flasher&file="+e;/(flasher|sw)/i.test(n)&&o(n)}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},a=this;Object.defineProperty(e,"__esModule",{value:!0});var c=i(n(271)),u=(n(61),n(92)),s=n(44),f=n(62),l=n(19),p={},h=new c.Store("flasher","flasherStore"),d=function(t,e){return r(a,void 0,void 0,function(){var n,i=this;return o(this,function(a){switch(a.label){case 0:return n=p[t],r(i,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return[4,c.get(t,e)];case 1:return(n=r.sent())&&(p[t]=n),[2]}})}),n?[3,2]:[4,c.get(t,e)];case 1:n=a.sent(),a.label=2;case 2:return[2,n]}})})},v=function(t,e,n){return r(a,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return p[t]=e,g(t,e),[4,c.set(t,e,n)];case 1:return r.sent(),[2]}})})};function g(t,e){return r(this,void 0,void 0,function(){return o(this,function(n){return!l.isServiceWorker()&&navigator.serviceWorker&&navigator.serviceWorker.controller&&function t(e){navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller&&("activated"===navigator.serviceWorker.controller.state?navigator.serviceWorker.controller.postMessage(e):setTimeout(function(){t(e)},1e3))}({method:"set",key:t,val:e}),[2]})})function y(t){return r(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return e=m(t),delete p[t],[4,c.del(e,h)];case 1:return n.sent(),[2]}})})}function b(t,e,n){return void 0===n&&(n=s.DB_DEFAULT_MAX_AGE),r(this,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return r={val:e,expire:Date.now()+n},[4,E(t,r)];case 1:return o.sent(),[4,u.setCorsDB(t,r)];case 2:return o.sent(),[2]}})})}e.cacheSetServiceworker=g,l.isServiceWorker()&&self.addEventListener("message",function(t){var e=t.data;"set"===e.method&&(p[e.key]=e.val)}),e.getCurrentTestEnv=function(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,c.get(s.DB_KEY_TEST_ENV_CURRENT,h)];case 1:return t.sent(),[4,c.get(s.DB_KEY_TEST_ENV_CURRENT,h)];case 2:return[2,t.sent()]}})})},e.removeItem=y,e.setItem=b;var w=["no-flasher-config","proxy-register-sw-failed","client-register-error","page-installed-error"],_=["match-route-failed","has-no-pageconf","has-no-template","no-page-data","render-failing"];function x(t){return _.indexOf(t.event)>-1&&+new Date<=t.time+3e4}function E(t,e){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,v(t,e,h)];case 1:return n.sent(),c.set(t,e,h),[2]}})})}function T(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,S(s.DB_KEY_LANG)];case 1:return[2,t.sent()]}})})}function O(t){return r(this,void 0,void 0,function(){var e,n;return o(this,function(r){switch(r.label){case 0:return e=m(t),[4,d(e,h)];case 1:return(n=r.sent())?n.expire>Date.now()?[2,n.val]:(c.del(e,h),[2,null]):[2,null]}})})}function S(t){var e=this,n=+new Date;return new Promise(function(i,a){r(e,void 0,void 0,function(){var e,r,c;return o(this,function(o){switch(o.label){case 0:e=setTimeout(function(){a(t+"timeout: "+(+new Date-n))},1500),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,O(t)];case 2:return r=o.sent(),i(r),clearTimeout(e),[3,4];case 3:return c=o.sent(),a(c),[3,4];case 4:return[2]}})})})}function j(t){return""+s.DB_KEY_PREFIX_PAGE_CONFIG+t}function A(t){return r(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return[4,T()];case 1:return e=n.sent()||"defaultlang",[2,s.DB_KEY_PREFIX_PAGE_TEMPLATE+"/"+e+"/"+t]}})})}function k(t,e,n){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,T()];case 1:return[2,"cache-first/"+(r.sent()||"defaultlang")+"/"+t+"-"+e+"-"+n]}})})}function P(t,e){return s.DB_KEY_BUCKET_PREFIX+"/"+t+"/"+e}e.getTrace=function(){return r(this,void 0,void 0,function(){var t,e,n,r,i,a;return o(this,function(o){switch(o.label){case 0:return[4,c.keys(h)];case 1:t=o.sent(),e=t.filter(function(t){return"string"==typeof t&&t.startsWith(s.DB_TRACE_PREFIX)}),n=[],r=0,o.label=2;case 2:return r<e.length?[4,S(e[r])]:[3,5];case 3:i=o.sent(),n.push(i),o.label=4;case 4:return r++,[3,2];case 5:return n=n.filter(Boolean).sort),a=n.find),[2,n.find(x)||a||{event:"no-error-found"}]}})})},e.setSameOriginDB=E,e.setLang=function(t){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,b(s.DB_KEY_LANG,t,s.DB_LANG_DEFAULT_MAX_AGE)];case 1:return e.sent(),[2]}})})},e.getLang=T,e.getItem=S,e.setEnableRoute=function(t,e){return void 0===e&&(e=!0),r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,b(s.DB_KEY_ENABLE_ROUTE_PREFIX+"/"+t.replace(/\/$/,""),+e)];case 1:return n.sent(),[2]}})})},e.getEnableRoute=function(t){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,S(s.DB_KEY_ENABLE_ROUTE_PREFIX+"/"+t)];case 1:return[2,e.sent()]}})})},e.getFlasherManifest=function(t){return r(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return[4,S(t)];case 1:return null===(e=n.sent())?[2,null]:[2,e.meta&&e.meta.version>="0.0.0"?e:f.normalizeManifest(e)]}})})},e.setFlasherManifest=function(t,e){return r(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return n=f.normalizeManifest(e),[4,b(t,n,s.MANIFEST_MAX_AGE)];case 1:return r.sent(),[2]}})})},e.clear=function(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,c.clear(h)];case 1:return[2,t.sent()]}})})},e.setPageConfig=function(t,e){return r(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return n=f.normalizePageConfig(e),[4,b(j(t),n,108e5)];case 1:return r.sent(),[2]}})})},e.getPageConfig=function(t){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,S(j(t))];case 1:return[2,e.sent()]}})})},e.setPageCache=function(t,e,n,i){return r(this,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return r=b,[4,k(t,e,n)];case 1:return[4,r.apply(void 0,[o.sent(),i])];case 2:return o.sent(),[2]}})})},e.getPageCache=function(t,e,n){return r(this,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return r=S,[4,k(t,e,n)];case 1:return[4,r.apply(void 0,[o.sent()])];case 2:return[2,o.sent()]}})})},e.removePageCache=function(t,e,n){return r(this,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return r=y,[4,k(t,e,n)];case 1:return[4,r.apply(void 0,[o.sent()])];case 2:return[2,o.sent()]}})})},e.setPageTemplate=function(t,e){return r(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return n=b,[4,A(t)];case 1:return[4,n.apply(void 0,[r.sent(),e])];case 2:return r.sent(),[2]}})})},e.removePageTemplate=function(t){return r(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return e=y,[4,A(t)];case 1:return[4,e.apply(void 0,[n.sent()])];case 2:return n.sent(),[2]}})})},e.getPageTemplate=function(t,e){return r(this,void 0,void 0,function(){var n,r;return o(this,function(o){switch(o.label){case 0:return r=S,[4,A(e)];case 1:return[4,r.apply(void 0,[o.sent()])];case 2:return(n=o.sent())?n.timestamp<t.meta.generatedTime?[2,null]:[2,n]:[2,null]}})})},e.addToBucket=function(t,e,n,i){return void 0===i&&(i=s.DB_DEFAULT_MAX_AGE),r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,b(P(t,e),n)];case 1:return r.sent(),[2]}})})},e.getFromBucket=function(t,e){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,S(P(t,e))];case 1:return[2,n.sent()]}})})},e.gc=function(){return r(this,void 0,void 0,function(){var t,e,n,r,i,a,u,s,f,l,p,d,v;return o(this,function(o){switch(o.label){case 0:return[4,c.keys(h)];case 1:for(t=o.sent(),e=t.filter).map(function(t){try{var e=JSON.parse(t);return e.metaKey=t,e}catch(t){return}}).filter(function(t){return t}),n=[],r={},i=0,a=e;i<a.length;i++)l=a[i],(u=r[l.key])?l.expire>u.expire?(r[l.key]=l,n.push(u.metaKey)):n.push(l.metaKey):r[l.key]=l;for(s=0,f=Object.keys(r);s<f.length;s++)v=f[s],(l=r[v]).expire<Date.now()&&(c.del(l.key,h),c.del(l.metaKey,h));for(p=0,d=n;p<d.length;p++)v=d[p],c.del(v,h);return[2]}})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(19);e.ASSETS_VERSION=r.isTestingEnv()?r.guid():"2.13.25",e.ASSETS_BASE="https://s.alicdn.com/@g/sc-assets/flasher-config",e.DB_KEY_MANIFEST="manifest_config",e.DB_DEFAULT_MAX_AGE=108e5,e.DB_KEY_PREFIX_PAGE_CONFIG="page_config_prefix_",e.DB_KEY_PREFIX_PAGE_TEMPLATE="page_tpl_prefix_",e.DB_KEY_TEST_ENV_CURRENT="test_jasmine_env_current",e.DB_KEY_ENABLE_ROUTE_PREFIX="enable_route_",e.DB_KEY_BUCKET_PREFIX="flasher_bucket_",e.DB_TRACE_PREFIX="trace_prefix",e.JSON_HEADERS={headers:{"Content-Type":"application/json; charset=utf-8"}},e.HTML_HEADERS=function(t){return{headers:{"Content-Type":"text/html; charset=utf-8","Server-Timing":'cache;desc="Flasher Cache HIT";dur='+t}}},e.NO_CACHE_HEADER_KEY="Bypass-Sw-Cache",e.MANIFEST_MAX_AGE=108e5,e.DB_KEY_LANG="site_language_key",e.DB_LANG_DEFAULT_MAX_AGE=1728e5,e.FLAHSER_MANIFEST_QUERY="_flasher_manifest_";var o={},i=r.getManifestId();i?Object.assign(o,{manifestId:i}):Object.assign(o,window.__FLAHSER_CONFIG__||{},window._FLASHER_CONF_||{}),e.MANIFEST_JSON_PATH="https://s.alicdn.com/@g//flasher-manifest/"+o.manifestId+"/manifest.json",e.FLAHSER_GLOBAL_CONFIG=o,e.HUB_SW_MODE={IMPORT_MODE:"import_script"},e.SW_URL_QUERY={HUB_SW_VERSION:"hub_version"}}./"[t](e)}catch(t){}}return!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.log=function(){for(var t=[],e=0;e<arguments.length;e+s.length;e++)t[e]=arguments[e]},e.logTime=function(t){},e.logTimeEnd=function(t){}},function(t,e,n){"use strict";var r=n(272).version,o=n(273),i=o.validateManifest,a=o.validatePageConfig,c=n(274).applyOptions;t.exports={normalizeManifest:function(t,e){var n=function(t){if(!t)return null;var e={};t.meta&&t.meta.version||(e.pages=t.dest||[],e.preloadRules=t.preload||[],e.meta={version:r,type:"manifest",manifestId:t.manifestId,generatedTime:+new Date(t.version)}),e.meta=t.meta||e.meta||{};var n=e.meta;n.type=n.type||"manifest",n.generatedTime=n.generatedTime||+new Date,n.origins=n.origins||[],n.enableSw=!!n.enableSw,n.enableReport=!!n.enableReport,n.prefetchPages=n.prefetchPages||[],n.replacer=n.replacer||{},n.cookies=n.cookies||{};var o=[];n.origins.map(function(t){var e=/(\[([a-zA-Z0-9_]+)\])/.exec(t);if(e){var r=e[2];n.replacer[r]?n.replacer[r].map(function(n){o.push(t.replace(e[1],n))}):(console.log("Êú™ÊâæÂà∞ placeholder ".concat(e[1])),o.push(t))}else o.push(t)}),n.origins=o;var i=t.pages||e.pages||[];e.pages=i.map(function(t){return{name:t.name||t.description||"",url:"https://"+(t.url||t.route).replace(/^http(s)?:[/]{2}/,""),enabled:+t.enabled,namespace:t.namespace||"",id:t.id||"",configUrl:t.configUrl||(t.id?"https://s.alicdn.com/@g/sc-assets/flasher-config/prefetch/".concat(t.namespace,"/").concat(t.id,".js"):"")}}),e.preloadRules=t.preloadRules||e.preloadRules||[];var a=e.preloadRules;if("[object Object]"===u.call(e.preloadRules)){var c=[];Object.keys(e.preloadRules).forEach(function(t){c.push({maer-config/prefetch/".concat(t,".js")})})}),e.preloadRules=c}var s=[];return e.preloadRules.map(function(t){if(t.enable=void 0===t.enable?1:+t.enable,t.countries=t.countries||["*"],t.preload=t.preload.map(function(t){return/^page:/.test(t)?"https://s.alicdn.com/@g/sc-assets/flasher-config/prefetch/".concat(t.slice(5),".js"):t}),"page:"===t.match.slice(0,5)){var r=e.pages.find(function(e){return"".concat(e.namespace,"/").concat(e.id)===t.match.slice(5)});if(!r)throw new Error("ÊÇ®Âú®preloadRules‰∏≠ÊåáÂÆö‰∫Ü ".concat(t.match,"Ôºå‰ΩÜÂú®pages‰∏≠Âπ∂Êú™ÊâæÂà∞Áõ∏Â∫îÈÖçÁΩÆ, ËØ∑Ê£ÄÊü•ÊÇ®ÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºÅ"));t.match="url:".concat(r.url)}var o=/^url:.*(\[([a-zA-Z0-9_]+)\])/.exec(t.match);if(o){var i=o[2];n.replacer[i]?n.replacer[i].map(function(e){var n=Object.assign({},t,{match:t.match.replace(o[1],e)});s.push(n)}):(console.log("Êú™ÊâæÂà∞ placeholder ".concat(o[1])),s.push(t))}else s.push(t)}),e.preloadRules=s,e}(t);return i(n),c(n,e)},normalizePageConfig:function(t){var e=function(t){var e={},n=t.meta,o=void 0===n?{}:n,i=t.template,a=void 0===i?{}:i,c=t.apis,u=void 0===c?[]:c,s=t.assets,f=void 0===s?[]:s,l=t.apiData,p=void 0===l?{}:l;if(e.meta=o,e.template=Object.assign({parseAssets:!0,cacheFirst:!0},a),e.apis=u,e.assets=f,e.apiData=p,!(t&&t.meta&&t.meta.version)){e.meta={version:r,type:"pageConfig",namespace:t.namespace,id:t.id,generatedTime:t.timestamp};var h=t.features||{},d=t.templateMap||{},v=Object.keys(d);if(v.length>0){var g=v[0];"string"==typeof d[g]?Object.assign(e.template,h,{type:"html",url:d[g],parseAssets:void 0===e.template.parseAssets||e.template.parseAssets,cacheFirst:void 0===e.template.cacheFirst||e.template.cacheFirst}):Object.assign(e.template,h,d[g])}e.assets=t.images||[],e.apis=t.data||[]}return e}(t);return a(e)}};var u={}.toString},function(t){t.exports=JSON.parse('{"name":"@alife/flasher-core","version":"2.13.25","description":"flasher core","main":"build/flasher.js","scripts":{"prewatch":"rm -rf build","watch":"mkdir -p build && NODE_ENV=development webpack --watch","prebuild":"rm -rf build","build":"NODE_ENV=production webpack","lint":" eslint --ext={.ts,.js,.mjs} .","test":"npm ci && npm run lint && npm run build","commit":"git-cz","version":"node ./scripts/version.js","release":"npm t && standard-version","release:config":"cd vendor/flasher-conf-normalizer && npm i && npm t && tnpm publish","release:push":"npm run build && tnpm publish && node ./scripts/ding.js"},"files":["build/","README.md"],"author":"jinxin.sjx@alibaba-inc.com","license":"ISC","devDependencies":{"@ali/brotli-cli":"0.0.5","@ali/cdn-build":"^1.0.1","@ali/fetch-jsonp":"^1.0.3","@ali/idle-runner-prefetch":"^1.0.8","@ali/idle-task":"^1.0.2","@alife/flasher-conf-normalizer-next":"file:vendor/flasher-conf-normalizer","@commitlint/cli":"^8.1.0","@commitlint/config-conventional":"^8.1.0","@types/jasmine":"^3.4.0","@types/node":"^12.7.2","art-template":"^4.13.2","awesome-typescript-loader":"^5.2.1","babel-loader":"^8.0.6","colored-console-log":"^1.0.3","concurrent":"^0.3.2","concurrently":"^4.1.2","current-git-branch":"^1.0.1","deep-equal":"^1.0.1","eslint":"^6.2.2","eslint-config-ts":"^3.1.1","git-cz":"^3.2.1","glob":"^7.1.4","got":"^9.6.0","html-webpack-inline-source-plugin":"^0.0.10","html-webpack-plugin":"^3.2.0","idb-keyval":"^3.2.0","jasmine":"^3.4.0","jasmine-core":"^3.4.0","jsonlint":"^1.6.3","koa":"^2.8.1","localforage":"^1.7.3","lodash":"^4.17.15","mocha":"^6.2.0","mocha-esm":"^1.1.1","penpal":"^3.1.2","promise-polyfill":"^8.1.3","query-string":"^6.8.2","script-ext-html-webpack-plugin":"^2.1.4","script-loader":"^0.7.2","selenium-webdriver":"^4.0.0-alpha.1","shelljs":"^0.8.2","standard-version":"^7.0.0","tiny-lru":"^6.0.1","ts-loader":"^6.0.4","ts-polyfill":"^3.5.3","typescript":"^3.5.3","uglifyjs-webpack-plugin":"^2.2.0","universal-logger":"^1.0.1","universal-logger-browser":"^1.0.2","web-webpack-plugin":"^4.6.6","webpack":"^4.39.2","webpack-bundle-analyzer":"^3.6.0","webpack-cli":"^3.3.7","webpack-strip":"^0.1.0","webpack-strip-block":"^0.2.0","whatwg-fetch":"^3.0.0","wrapper-webpack-plugin":"^2.0.0","xtemplate":"^4.6.1","xtpl":"^3.4.2","yargs":"^13.3.0"},"dependencies":{},"just":{"auto-proxy":true,"type":"app/common"},"sideEffects":false,"tnpm":{"mode":"npm","lockfile":"enable"},"husky":{"hooks":{"commit-msg":"commitlint -E HUSKY_GIT_PARAMS"}},"config":{"commitizen":{"path":"./node_modules/cz-conventional-changelog"}},"publishConfig":{"registry":"https://registry.npm/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>==u[f++],r&&!a.call(c,n)||l.push(t?[n,c[n]]:c[n]);return l}};t.exports={entries:c(!0),values:c(!1)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(43);e.getTrace=r.getTrace,e.swTypes={"register-success":"register-success","proxy-register-sw-failed":"proxy-register-sw-failed","match-route-failed":"match-route-failed","page-installed-error":"page-installed-error","client-register-error":"client-register-error","check-origin-failed":"check-origin-failed","no-flasher-config":"no-flasher-config"},e.brTypes={"has-flasher-conf":"has-flasher-conf","match-route-success":"match-route-success","has-pageConf":"has-pageConf","has-no-pageconf":"has-no-pageconf","has-template":"has-template","has-no-template":"has-no-template","has-page-data":"has-page-data","no-page-data":"no-page-data","render-success":"render-success","render-failing":"render-failing","hit-cache":"hit-cache"},e.trace=function(t,e){void 0===e&&(e=+new Date)}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a,c=i(n(94)),u=[],s=new Promise(function(t){a=t});function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return r(this,void 0,void 0,function(itch(r.label){case 0:return[4,s];case 1:return r.sent(),n=u.map(function(n){return n[t].apply(n,e)}),[4,Promise.all(n)];case 2:return[2,r.sent()]}})})}function l(t,e){return r(this,void 0,void 0,function(){var n,r,i;return o(this,function(o){switch(o.label){case 0:return(n=document.createElement("div")).style.display="none",document.body.appendChild(n),r=t+"/sw-proxy.html?v=2.13.25&_flasher_manifest_="+e,[4,c.default.connectToChild({url:r,appendTo:n,methods:{}}).promise];case 1:return[4,(i=o.sent()).register()];case 2:return o.sent(),[2,i]}})})}e.initProxies=function(t,e){return r(this,vurn o(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(t){return l(t,e)}))];case 1:return u=n.sent(),a(),[2]}})})},e.initProxy=l,e.setCorsDB=function(t,e){return r(this,void 0,void 0,function(){return o(this,function(n){return f("setDBItem",t,e),[2]})})},e.fetchCors=function(t){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.lan(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM=e.ERR_NOT_IN_IFRAME=e.ERR_CONNECTION_TIMEOUT=e.ERR_CONNECTION_DESTROYED=void 0;var r="message";e.ERR_CONNECTION_DESTROYED="ConnectionDestroyed",e.ERR_CONNECTION_TIMEOUT="ConnectionTimeout",e.ERR_NOT_IN_IFRAME="NotInIframe",e.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM="IframeAlreadyAttachedToDom";var o,i={"http:":"80","https:":"443"},a=/^(https?:|file:)?\/\/([^/:]+)?(:(\d+))?/,c={ERR_CONNECTION_DESTROYED:"ConnectionDestroyed",ERR_CONNECTION_TIMEOUT:"ConnectionTimeout",ERR_readyAttachedToDom"y{rngnc),{then:function(t){e.push(t)}}},l=function(t){return{name:tt.stack}},p=function(t){var e=new Error;return Object.keys(t).forEach(function(n){return e[n]=t[n]}),e},h=function(t,e,n,o,i){var a=e.localName,f=e.local,l=e.remote,h=e.remoteOrigin,d=!1;s("".concat(a,": Connecting call sender")),i.then(function(){d=!0}),n.reduce(function(t,e){return t[e]=function(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s("".concat(a,": Sending ").concat(t,"() call")),l.closed&&o(),d){var v=new Error("Unable to send ".concat(t,"() call due ")+"to destroyed connection");throw v.code="ConnectionDestroyed",v}return new c.Promise(function(e,o){var i=u();f.addEventListener(r,function n(c){if(c.source===l&&c.origin===h&&"reply"===c.data.penpal&&c.data.id===i){s("".concat(a,": Received ").concat(t,"() reply")),f.removeEventListener(r,n);var u=c.data.returnValue;c.data.returnValueIsError&&(u=p(u)),("fulfilled"===c.data.resolution?e:o)(u)}}),l.postMessage({penpal:"call",id:i,methodName:t,args:n},h)})}}(e),t},t)},d=function(t,e,n){var o=t.localName,i=t.local,a=t.remote,u=t.remoteOrigin,f=!1;s("".concat(o,": Connecting call receiver"));var p=function(t){if(t.source===a&&t.origin===u&&"call"===t.data.penpal){var n=t.data,r=n.methodName,i=n.args,p=n.id;if(s("".concat(o,": Received ").concat(r,"() call")),r in e){var h=function(t){return function(e){if(s("".concat(o,": Sending ").concat(r,"() reply")),f)s("".concat(o,": Unable to send ").concat(r,"() reply due to destroyed connection"));else{var n={penpal:"reply",id:p,resolution:t,returnValue:e};"rejected"===t&&e instanceof Error&&(n.returnValue=l(e),n.returnValueIsError=!0);try{a.postMessage(n,u)}catch(t){throw"DataCloneError"===t.name&&a.postMessage({penpaturnValue:l(t),returnValueIsError:!0},u),t}}}};new c.Promise(function(lled"),h("rejected"))}}};i.addEventListener(r,p),n.then(function(){f=!0,i.removeEventListener(r,p)})};c.connectToChild=function(t){var e,n=t.url,o=t.appendTo,u=t.iframe,l=t.methods,p=void 0===l?{}:l,v=t.timeout;if(u&&u.parentNode){var g=new Error("connectToChild() must not be called with an iframe already attached to DOM");throw g.code="IframeAlreadyAttachedToDom",g}var m=new f(function(t){e=t}),y=window;(u=u||document.createElement("iframe")).src=n;var b=function(t){var e,n,r,o=document.location,c=a.exec(t);if(c?(e=c[1]?c[1]:o.protocol,n=c[2],r=c[4]):(e=o.protocol,n=o.hostname,r=o.port),"file:"===e)return"null";var u=r&&r!==i[e]?":".concat(r):"";return"".concat(e,"//").concat(n).concat(u)}(n);return{promise:new c.Promise(function(t,n){var i;void 0!==v&&(i=setTimeout(function(){var t=new Error("Connection to child timed out after ".concat(v,"ms"));t.code="ConnectionTimeout",n(t),e()},v));var a,c,l={},g=function(n){var r=u.contentWindow;if(n.source===r&&n.origin===b&&"handshake"===n.data.penpal){s("Parent: Received handshake, sending reply");var o="null"===n.origin?"*":n.origin;n.source.postMessage({penpal:"handshake-reply",methodNam={localName:"Parent",loin:o};c&&c();var g=new f(function(t){m.then(t),c=t});d(v,p,g),a&&a.forEach(function(t){delete l[t]}),a=n.data.methodNames,h(l,v,a,e,m),clearTimeout(i),t(l)}};y.addEventListener(r,g),s("Parent: Loading iframe"),(o||document.body).appendChild(u);var w=setInterval(function(){document.contains(u)||(clearInterval(w),e())},6e4);m.then(function(){u.parentNode&&u.parentNode.removeChild(u),y.removeEventListener(r,g),clearInterval(w);var t=new Error("Connection destroyed");t.code="ConnectionDestroyed",n(t)})}),iframe:u,destroy:e}},c.connectToParent=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.parentOrigin,o=void 0===n?"*":n,i=e.methods,a=void 0===i?{}:i,u=e.timeout;if(window===window.top){var l=new arent() must be called within an iframe");throw l.code="NotInIframe",l}var p=new f(function(e){t=e}),v=window,g=v.parent,m=new c.Promise(function(e,n){var i;void 0!==u&&(i=setTimeout(function(){var e=new Error("Connection to parent timed out after ".concat(u,"ms"));e.code="ConnectionTimeout",n(e),t()},u));var c=function n(c){if(("*"===o||o===c.origin)&&c.source===g&&"handshake-reply"===c.data.penpal){s("Child: Received handshake reply"),v.removeEventListener(r,n);var u={localName:"Child",local:v,remote:g,remoteOrigin:c.origin},f={};d(u,a,p),h(f,u,c.data.methodNames,t,p),clearTimeout(i),e(f)}};v.addEventListener(r,c),p.then(function(){v.removeEventListener(r,c);var t=new Error("Connection destroyed");t.code="ConnectionDestroyed",n(t)}),s("Child: Sending handshake"),g.postMessage({penpal:"handshake",methodNames:Object.keys(a)},o)});return{promise:m,destroy:t}};var v=c;e.default=v},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(42),i=r(n(63)),a="undefined"==typeof window;e.log=function(t){"string"==typeof t&&(t={msg:t});var e=Object.assign({pid:"icbu-sw",code:a?12:13,msg:"unknown jserror",title:i.default.name+"@"+i.default.version+"/"+(a?"sw.js":"client.js")},t);o.sendBeacon("https://gm.mmstat.com/fsp.1.1?"+function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&null!=t[n]&&""!==tcodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}(e))},e.logError=function(t){}},function(t,e,),n(87),n(223),n(225),n(227),n(229),n(231),n(233),n(235),n(237),n(239),n(241),n(243),n(245),n(247)},function(t,e,n){n(99);var r=n(2);t.exports=r("Array","find")},function(t,e,n){"use strict";var r=n(0),o=n(23).find,i=n(24),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),r({target:"Array",proto:!(t,n=r[u++],e[n]);return t}},function(t,e,n){var r=n(33);t.exports=r("document","documentElement")},function(t,e,n){n(107)},function(t,e,n){"use strict";var r=n(15),o=n(23).find,i=r.aTypedAfunction(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t},{findIndex:function(t)r.exportProto("findIndex",function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){n(115);var r=n(2);t.exports=r("Array","fill")},function(t,e,n){n(15),o=n(73),i=r.aTypedArray;r.exportProto("fill",function(t){returntion(t,e,n){var r=n(0),o,n,o){try{return o?e(r(nd=c(d,arguments[2],2)),n=o(p.length),s=new(u(this))(n),egth,n=new("function"==tyi,"name",{configurable:!0,get:function(){try{return a.calllog,a=Math.LOG2E;r({target:"Math",stat:!0},{clz32:functiot,e){var n=+t,r=+e,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){n(143);var r=n(1);t.exports=r.Math.sign},function(t,e,n){n({var r=n(0),o=Math.log,i=Math.LOG10E;r({target:"Math",stae,n){var r=n(0),o=Math.log,i=Math.LN2;r({target:"Math",stat:!0},{log2:function(t){return o(t)/i}})},function(t,e,n){n(149);var r=n(1);t.exports=r.Math.log1p},function(t,e,n){n(0xpm1},function(t,e,n){var r=n(0),o=n(41);r({target:"Math",stat:!0,forced:!i||i(710)===1/0},{cosh:function(t){var e!=Math.sinh(-2e-17)})},{sinh:function(t){return a(t=+t)<1",stat:!0},{tanh:function(t){var e=o(t=+t),n=o(-t);return /0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:t>94906265ced:!(o&&1/o(0)>0)},{asinh:function t(e){return isFinite(et:"Math",stat:!0,forced:!(o&&1/o(-0)<0)},{atanh:function(tc<u;)s<(n=i(arguments[c++]))?(o=o*(r=s/n)*r+1,s=n):o+=n>0?r=n(0),o=Math.ceil,i=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?i:o)(t)}})},function(t,e,n){n(169)ar e,n,i=o(t),f=r(t);return i<s?f*(i/s/c+1/a-1/a)*s*c:(n=exports=Math.pow(2,-52)},function(t,e,n){n(0)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,e,n){n(176);var r=n(t,e,n){var r=n(3).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&r(t)}},function(t,e,n){n(179);var r=n(1);t.exports=r.Number.isInteger},function(t,e,n){n(0)({targes=r.Number.isNaN},function(t,e,n){n(0)({target:"Number",stat:!0},{is199254740991},function(t,e,n){n(0)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){n(189);var r=n(1);t.exports=r.Number.parseFloat},function(0")!=-1/0;t.exports=c?function(t){var e=o(String(t)),n=a(e);ret==a(i+"0x16");t.exports=u?function(t,e){var n=o(String(t));re),v=l?i(d).concat(l(d)):i(d),g=v.length,m=0;g>m;)h=v[m++],r&&!p.call(d,h)||(=n(84),a=n(7).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},function(t,e,n){n(e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){n(205);var r=n(1);t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[c]&&n(e,c,{configurable:!0,getar r=n(0),o=n(75).codeAt;r({target:"String",proto:!0},{codePointAt:fludes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.lee.length),c=void 0===n?r:s(o(n),r),f=String(t);return u?u.call(e,f2);t.exports=r("String","repeat")},function(t,e,n){n(0)({target:"Strintarget:"String",proto:!0,forced:n(9)("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},function(t,e,n){n(224);var r=n(2);t.exports=r("String","blink")},function(t,e,n){"use strict";var r=n(0),o=n(8);rn(8);r({target:"String",proto:!0,forced:n(9)("bold")},{bold:function(){return o(this,"b","","")}})},function(t,e,n){n(228);var r=n(2);t.exports=r("String","fixed")},function(t,e,n){"use strict";var r=n(0),o=n(8);r({target:"String",proto:!0,forced:n(9)("fixed")},{fixed:function(){return o(this,"tt","","")}})},function(t,e,n){n(230);var r=n(2);t.exports=r("String","fontcolor")},function(t,e,n){"use strict";var r=n(0),o=n(8);r({target:"String",proto:!0,forced:n(9)("fontcolor")},{fontcolor:function(t){return o(this,"font","color",t)}})},function(t,e,n){n(232);var r=n(2);t.exports=r("String","fontsize")},function(t,e,n){"use strict";var r=n(0),o=n(8);r({target:"String",proto:!0,forced:n(9)("fontsize")},{fontsize:function(t){return o(this,"font","size",t)}})},function(t,e,n){n(234);var r=n(2);t.exports=r("String","italics")},function(t,e,n){"use strict";var r=n(0),o=n(8);r({target:"String",proto:!0,forced:n(9)("italics")},{italics:function(){return o(this,"i","","")}})},function(t,e,n){n(236);var r=n(2);t.exports=r("String","link")},function(t,e,n){"use strict";var r=n(0),o=n(8);r({target:"String",proto:!0,forced:n(9)("link")},{link:function(t){return o(this,"a","href",t)}})},function(t,e,n){n(238);var r=n(2);t.exports=r("String","small")},function(t,e,n){"use strict";var r=n(0),o=n(8);r({target:"String",proto:!0,forced:n(9)("small")},{small:function(){return o(this,"small","","")}})},function(t,e,n){n(240);var r=n(2);t.exports=r("String","strike")},function(t,e,n){"use strict";var r=n(0),o=n(8);r({target:"String",proto:!0,forced:n(9)("strike")},{strike:function(){return o(this,"strike","","")}})},function(t,e,n){n(242);var r=n(2);t.exports=r("String","sub")},function(t,e,n){"use strict";var r=n(0),o=n(8);r({target:"String",proto:!0,forced:n(9)("sub")},{sub:function(){return o(this,"sub","","")}})},function(t,e,n){n(244);var r=n(2);t.exports=r("String","sup")},function(t,e,n){"use strict";var r=n(0),o=n(8);r({target:"String",proto:!0,forced:n(9)("sup")},{sup:function()alid code point");n.push(e<65536?i(e):i(55296+((e-=65536)>length,a=[],c=0;n>c;)a.push(String(e[c++])),c<r&&a.push(String(arguments[c]));return a.join("")}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esMo!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,n){n(253)},function(t,e,n){"use strict";var r=n(15),o=n(49).includes,i=r.aTypedArray 0)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(255),n(258)},function(t,e,n){n(256);var r=n(2);t.exports=r("String","padStart")},function(t,e,n){"use strict";var r=n(0),o=n(88).start;r({target:"String",prototh>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(33);t.exportfunction(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(261),n(263),n(265)},function(t,e,n){n(262);var r=n(1);t.exports=r.Object.values},function(t,e,n){var r=n(0),o=n(90).values;r({target:"Object",stat:!0(t,e,n){var r=n(0),o=n(90).entries;r({target:"Object",stat:!0},{entries:function.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(success=function(){return n(o.resu(){reon(){return i(a.error)},e(a.objectStore(n.storeName))})})},t}();function i(){return r||(rt=function(t,e){var n;return void 0===e&&(e=i()),e._withIDBStore("readonly",function(e){n=e.get(t)}).then(functio.set=function(t,e,n){return void 0===n&&(n=i()),n._withIDBStore("readwrite",function(n){n.put(e,t)})},e.del=function(t,e){return void 0===e&&(e=i()),e._withIDBStore("readwrite",fu},e.clear=function(t){return void 0===t&&(t=i()),t._withIDBStore("readwrite",functioursor).call(t).onsuccess=functe":"npm","lockfile":"disable"},"repository":{"url":"http://gitlab.alibaba-inc.com/flasher/sw","type":"git"}}')},function(t,e,n){"use strict";t.exports={validateManifest:function(t){if(!a(t))throw new Error("manifest ÂøÖÈ°ª‰∏∫ÂØπË±°");var e=t.meta,n=t.pages,r=t.preloadRules;if(!a(e)||!o(e.manifestId))throw new Error("ÂøÖÈ°ªÊåáÂÆömeta.manifestIdÔºÅ");if("manifest"!==e.type)throw new Error("meta.type ÂøÖÈ°ª‰∏∫manifest");if(!i(n))throw new Error("pages ÂøÖÈ°ª‰∏∫Êï∞ÁªÑÔºÅ");if(!i(r))throw new Error("preloadRules ÂøÖÈ°ª‰∏∫Êï∞ÁªÑÔºÅ");return t},validatePageConfig:function(t){if(!a(t))throw new Error("pageConfig ÂøÖÈ°ª‰∏∫ÂØπË±°");if(!a(t.meta)||!o(t.meta.namespace)||!o(t.meta.id))throw new Error("meta.namespace && meta.id ‰∏çËÉΩ‰∏∫Á©∫ÔºÅ");if("pageConfig"!==t.meta.type)throw new Error("meta.typeÁöÑÂÄº‰∏çÊ≠£Á°ÆÔºÅ");if(!i(t.assets)||!t.asset∏∫ËµÑÊ∫êurlÁöÑÊï∞ÁªÑÔºÅ");if(!i(t.apis))throw new Ermplate)throw new Error("Ê≤°ÊúâtemplateÂ≠óÊÆµ");return t}};var r={}.toString,o=function(t){return t&&"[object String]"===r.call(t)},i=function(t){return"[object Array]"===r.call(t)},a=function(t){return"[object Object]"===r.call(t)}},function(t,e,n){"use strict";e.applyOptions=function(t,e){if(!e)return t;if(e.applyPage&&t.pages.map(function(t){if(Array.isArray(t.configUrl)){var n=Math.random();e.env?t.configUrl="prodA"===e.env?t.configUrl[0]:t.configUrl[1]:t.configUrl=n<.1?t.configUrl[0]:t.configUrl[1]}}),e.applyCountry&&e.cookie&&t.meta.cookies.country){var n=(r=e.cookie,o=t.meta.cookies.country,(i=new RegExp("".concat(o,"=([a-zA-Z0-9_-]+)")).exec(r))?i[1]:"");t.preloadRules=t.preloadRules.filter(function(t){return-1!==t.countries.indexOf("*")||-1!==t.countries.indexOf("!CN")&&"CN"!==n||-1!==t.countries.indexOf(n)})}var r,o,i;return e.applyPreload&&(t.preloadRules=t.preloadRules.filter(function(t){var e=t.enable,n=void 0===e?1:e;return Math.random()<n})),t}},,function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.pe,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=n(19);e.matchRoute=function(t,e){var n="";if(t=t.replace(/^http(s)?:\/\//,"").replace(/\?(.*)$/,function(t,e){return n=e,""}).replace(/#.*$/,"").replace(/\/$/,""),/\.(js|css|jpg|jpeg|png|webp|woff|woff2|eot)$/.test(t))return null;var i=o.parseSearch(n||"");if("1"===i.__bypass_sw__)return null;var a=t.split("/"),c=[],u=e.find(function(t){c=[];for(var e=t.url.replace(/^http(s)?:\/\//,"").split(Search(e[1]||""),u=0;u<a.length&&u<n.length;u++)if(":"===n[u][0]||n[u]===a[u])c.push(a[u]);else if("!"===n[u][0]);else if(n[u]!==a[u])return!1;var s=Object.keys(r);return a.length===n.length&&s.every(function(t){return i[t]===r[t]})});return u?r({},u,{id:u.id||c.slice(1).join("-_-"),configUrl:u.configUrl||"https://s.alicdn.com/@g/sc-assets/flasher-config/prefetch/"+u.namespace+"/"+u.id+".js"}):null}},,,function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(62);e.pureFetchMainfest=function(t,e){return r(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return[4,fetch(t)];case 1:return[4,r.sent().json()];case 2:return n=r.sent(),[2,i.normalizeManifest(n,e)]}})})}},,,,,,,,,function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},a=this;Object.defineProperty(e,"__esModule",{value:!0}),n(96);var c=n(44),u=n(43),s=n(289),f=n(276),l=n(91),p=n(19),h=n(290),d=n(291),v=n(42),g=n(279),m=n(61),y=n(293),b=i(n(298)),w=self;b.inject();var _={config:null,enabled:!0,internalData:{},manifestId:p.getManifestId()};function x(){return r(this,void 0,void 0,function(){var t;return o(this,function(e){switch(e.label){case 0:return[4,u.getFlasherManifest(_.manifestId)];case 1:return(t=e.sent())&&(_.config=t),[2]}})})}function E(t){if("GET"!==t.request.method.toUpperCase())return!1;var e,n,r,o,i=!1;return t.request&&void 0!==t.request.destination&&(i=t.request.destination),!("document"!==i&&!1!==i||(e=t.request.url,n=0!==e.indexOf(self.location.protocol+"//"+self.location.host),r=/\.(js|css|jpg|jpeg|png|gif|webp|woff|woff2|eot)$/.test(e),o=e.indexOf("bypass=true")>-1,n||r||o||!_.enabled))}s.initErroHandler(),e.pushInternalData=function(t){var e=this,n=p.guid();return _.internalData[n]=function(){return r(e,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,t];case 1:return[2,e.sent()]}})})},n},w.addEventListener("install",function(t){t.waitUntil(function(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,x()];case 1:return t.sent(),[4,w.skipWaiting()];case 2:return t.sent(),[2]}})})}()),l.trace(l.swTypes["register-success"]),w.skipWaiting()}),w.addEventListener("activate",function(t){t.waitUntil(function(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return h.isServiceWorkerModernBrowser()?[4,w.registration.navigationPreload.disable()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[4,x()];case 3:return t.sent(),[4,w.clients.claim()];case 4:return t.sent(),[2]}})})}())});var T=setInterval(function(){return r(a,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return _.config?[3,2]:[4,x()];case 1:t.sent(),t.label=2;case 2:return _.config&&T&&(clearInterval(T),T=null),[2]}})})},1e3),O=0;function S(t){return r(this,void 0,void 0,function(){var e,n,i,a,c;return o(this,function(p){switch(p.label){case 0:h.setPreloadResponse(t),p.label=1;case 1:return p.trys.push([1,15,,16]),(t.request||{url:null}).url,_.config?[3,3]:[4,x()];case 2:p.sent(),p.label=3;case 3:if(setTimeout(function(){!function(){r(this,void 0,void 0,function(){var t;return o(this,function(e){switch(e.label){case 0:return[4,g.pureFetchMainfest(_.manifestId,{applyPage:!0})];case 1:return(t=e.sent())&&(_.config=t),[2]}})})}()},1e4),_.config)return[3,4];throw s.FlasherNoConfigException;case 4:return(n=f.matchRoute(t.request.url,_.config.pages))?(i=n.enabled)?[3,6]:[4,u.getEnableRoute(n.url)]:[3,13];case 5:p.sent()&&(i=1),p.label=6;case 6:return i?[4,d.renderPage(n,t)]:[3,11];case 7:return(a=p.sent())?[4,h.newHtmlReponse(t,a,Date.now()-O)]:[3,10];case 8:return[4,p.sent()];case 9:e=p.sent(),p.label=10;case 10:return[3,12];case 11:l.trace("match-route-failed"),p.label=12;case 12:return[3,14];case 13:return[2,h.fallbackResponse(t)];case 14:return[3,16];case 15:return c=p.sent(),console.log(c),c.severity&&"warn"===c.severity?[2,h.fallbackResponse(t)]:((c.name||c.message||c.stack)&&m.log(c.name+"-"+c.message+"-"+c.stack),s.error(c),v.count("error-"+c.name,c.stack||c.toString()),[2,h.fallbackResponse(t)]);case 16:return e?(v.count("success"),[2,e]):[2,h.fallbackResponse(t)]}})})}function j(t,e){var n=this;t.respondWith(r(n,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return[4,Promise.resolve(e)];case 1:return n=r.sent(),[4,b.handle(t,n)];case 2:return[2,r.sent()]}})}))}w.addEventListener("fetch",function(t){return r(a,void 0,void 0,function(){var e,n,i,a,s,f=this;return o(this,function(l){if(O=Date.now(),E(t)&&(e=S(t),t.waitUntil(r(f,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,e];case 1:return t.sent(),[4,p.timeout(1e3)];case 2:return t.sent(),[2]}})})),j(t,e)),setTimeout(function(){!function(t){var e=this;-1!==t.indexOf("gj.mmstat.com/sc.sc_header_footer.sc_hds")&&-1!==t.indexOf("pos_languagebox_action_link_click")&&r(e,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return _.enabled=!1,[4,u.clear()];case 1:return t.sent(),_.enabled=!0,[2]}})})}(t.request.url)}),!t.request.destination||t.request&&"empty"===t.request.destination)if((n=/^https:\/\/flasher-internal\//).test(t.request.url)){if(i=t.request.url.replace(n,""),a=_.internalData[i])return delete _.internalData[i],[2,j(t,r(f,void 0,void 0,function(){var t;return o(this,function(e){switch(e.label){case 0:return[4,a()];case 1:return t=e.sent(),[2,new Respse if(s=y.matchParallelAjax(t.request.url))return[2,j(t,s)];return[2]})})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(42),o=n(95),i=n(95);function a(t){r.sendError(t,self.location.href)}e.log=i.log,e.error=a,e.initErroHandler=function(){self.onerror=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.join(",");if(r.sendError(n),t[0]&&t[0]instanceof Error){var i=t[0];o.log({msg:i.name+"-"+i.message+"-"+i.stack})}else o.log(n)},self.addEventListener("unhandledrejection",function(t){a(t.reason||"unkown unhandledrejection"),o.log(t.reason||"unkown unhandledrejection")})},e.FlasherNoDataException={message:"no-page-data",severity:"warn",type:"internal"},e.FlasherNoConfigException={message:"no-flasher-config",severity:"warn",type:"internal"},e.FlasherNoTemplateException={message:"has-no-template",severity:"warn",type:"internal"},e.FlasherNoFlasherConfigException={message:"has-no-pageconf",severity:"warn",type:"internal"}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=turn{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(44),a=n(19),c=n(291),u=/https:[/]{2}www.alibaba.com[/]product-detail[/]/,s=self;function f(t){return t.flasherPreloadResponse}function l(t){return r(this,void 0,void 0,function(){var e=this;return o(this,function(n){switch(n.label){case 0:return[4,r(e,void 0,void 0,function(){var e,n;return o(this,function(r){switch(r.label){case 0:return[4,f(t)];case 1:return e=r.sent(),"opaqueredirect"eturn[4,r.sent().text()];case 3:return[2,r.sent()];case 4:return[4,e.clone().text()];case 5:return[2,r.sent()]}})})];case 1:return[2,n.sent()]}})})}e.isServiceWorkerModernBrowser=function(){return!!s.registration.navigationPreload},e.setPreloadResponse=function(t){var e=this,n=function(){return r(e,void 0,void 0,function(){var e,n,r;return o(this,function(o){switch(o.label){case 0:return e=-1===t.request.url.indexOf("?")?"?":"&",n=u.test(t.request.url)?""+t.request.url+e+"fullFirstScreen=true":t.request.url,(r=new Headers(t.request.headers)).herPreloadResponse=n()},new WeakMap,new WeakMap,e.getPreloadResponseHasNoCacheHeader=function(t){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,l(t)];case 1:return[2,e.sent()]}})})},e.getPreloadResponseText=l,e.newHtmlReponse=function(t,e,n){return r(this,void 0,void 0,function(){var u,s=this;return o(this,function(f){return e=c.insertLevel2Html(e,t),u=new Response(e,i.HTML_HEADERS(n)),t.waitUntil(r(s,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,a.timeout(2e4)];case 1:return t.sent(),[2]}})})),[2,u]})})},e.fallbackResponse=function(t){return r(this,void 0,void 0,function(){var e,n,r;return o(this,function(o){switch(o.label){case 0:return[w(n||(n=Promise))(functionbel=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(43);n(292);var a=n(289),c=(n(61),n(295)),u=n(296),s=n(290),f=n(288),l=n(297),p=n(293),h={LEVEL_TEMPLATE_DATA:"LEVEL_TEMPLATE_DATA",LEVEL_TEMPLATE_NODATA:"LEVEL_TEMPLATE_NODATA",LEVEL_HIT_CACHE:"LEVEL_HIT_CACHE",normal:"normal"};function d(t,e,n,i){return r(this,void 0,void 0,function(){var n,r,u,s,f;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,i];case 1:return n=o.sent(),[3,3];case 2:return o.sent(),[3,3];case 3:if(!n)throw a.FlasherNoDataException;for(r=0,u=Object.keys(n);r<u.length;r++)if(s=u[r],null===n[s])throw a.FlasherNoDataException;if(!n)throw a.FlasherNoDataException;e.dataKey&&(n=n[e.dataKey]),f="";try{f=c.renderArtTemplate(t,n)}catch(t){}return[2,f]}})})}function v(t,e){if("html"!==e)return null;var n=t.match(/<body[^>]*>(?:<script([^>]*)>([\s\S]*?)(?=<\/script>)<\/script>)/)||[],r=n[1]||"",o=n[2]||"";return{attrList:r?r.trim().split(/\s+/).map(function(t){var e=t.split("="),n=e[0],r=e.slice(1).join("=");return{attrKey:n,attrValue:r=r.replace(/^"|"$/g,"")}}):[],scriptStr:o}}e.renderPage=function(t,e){return r(this,void 0,void 0,function(){var n,c,g,m,y,b,w,_,x,E,T,O=this;return o(this,function(S){switch(S.label){case 0:return t.namespace,t.id,[4,i.getPageConfig(t.configUrl)];case 1:if(!(n=S.sent()))throw a.FlasherNoFlasherConfigException;if(n.apiData&&n.apiData.apiName&&p.startParallelAPI(n.apiData,e.request.url),c=n.template,g=c.type,m=c.url,n.template&&n.template.cacheFirst&&setTimeout(function(){return r(O,void 0,void 0,function(){var t;return o(this,function(r){switch(r.label){case 0:return[4,i.removePageTemplate(m)];case 1:return r.sent(),[4,s.getPreloadResponseText(e)];case 2:return(t=r.sent())?[4,i.setPageTemplate(m,{timestamp:n.meta.generatedTime,content:t})]:[3,4];case 3:r.sent(),r.label=4;case 4:return[2]}})})},300),!m)throw a.FlasherNoTemplateException;return[4,i.getPageTemplate(n=[],c=[],u=function(t){var u=t.key;if("api"===t.type){var f=null;if("fullHtml"===u){f=r(n,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,s.getPreloadResponseText(e)];case 1:return[2,t.sent()]}})});var p=r(n,void 0,void 0,function(){var t,e;return o(this,function(n){switch(n.label){case 0:return[4,f];case 1:return t=n.sent(),[2,(e={},e[u]=t,e)]}})});a.push(p)}t.beaconType&&f&&(p=r(n,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,f];case 1:return[2,{beaconInfo:v(e.sent(),t.beaconType)}]}})r n,a,c;return o(this,function(u){switch(u.label){case 0:n={udata:{get:function(t,e){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,i.getFromBucket(t,e)];case 1:return[2,n.sent()]}})})}},request:{url:e.request.url}},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,l.newFunctionWithCache("ctx",t)(n)];case 2:return a=u.sent(),[3,4];case 3:throw c=u.sent(),new Error(c);case 4:return[2,a]}})})}(t.getData,e);p=r(n,void 0,void 0,function(){var t,e;return o(this,function(n){switch(n.label){case 0:return[4,h];case 1:return t=n.sent(),[2,(e={},e[u]=t,e)]}})}),c.push(p)}},f=0,p=t.apis;f<p.length;f++){var h=p[f];u(h)}var d=function(t){return r(n,void 0,void 0,function(){var e,n,r,i,a;return o(this,function(o){switch(o.label){case 0:return[4,Promise.all(t)];case 1:for(e=o.sent(),n={},r=0,i=e;r<i.length;r++)a=i[r],Object.as})})};return{allPromise:d(a.concat(c)),valuePromise:d(c)}}(n,e),x=_.valuePromise,E=_.allPromise,T="","art"!==g?[3,4]:[4,d(b,w,0,x)];case 3:return T=S.sent(),e.$flasherGroup=h.LEVEL_TEMPLATE_DATA,[3,5];case 4:T=function(t){return t}(b),e.$flasherGroup=h.LEVEL_TEMPLATE_DATA,S.label=5;case 5:return j=T,A=E,k=f.pushInternalData(A),[2,T=u.prependHead(j,"\x3c!--‰∏∫‰∫ÜÈÅøÂÖç patchscript Ê†áÁ≠æÁöÑÈîôËØØ--\x3e<script>\n    (function() {\n        function count(event, error){\n            var retAPI = 'https://arms-retcode.aliyuncs.com/r.png?t=sum&times=1&page=www.test.com&tag=&group=default_group&key=' + event + '&val=1&sr=1440x900&vp=1440x318&ct=4g&uid=s0jeUjvRpI41UgpRR0kmu0yv8nzh&pid=iw0okbwm8i%40b227f8ad920d696&_v=1.3.1&sid=qCjdsj2ep261L0ppz0F9uOIl4F5I&sampling=1&z=jjp1p0un&error=' + error + '&_t=' + +new Date();\n            var retImg = new Image();\n            retImg.src = retAPI;\n\n            var goldlogAPI = 'https://gm.mmstat.com/sc.flasher.count?t=' + +new Date() +  '&gokey=eventName%3D' + event + 'error%3D' + error;\n            var goldImg = new Image();\n            goldImg.src = goldlogAPI;\n        }\n\n        window.$flasherData= new Promise(function(resolve, reject){\n            var _resolved = false;\n            var datauid = '"+k+"';\n            try{\n                fetch('https://flasher-internal/' + datauid).then(function(res) {\n                    return res.json();\n                }).then(function(json) {\n                    _resolved = true;\n                    resolve(json);\n                }).catch(function(e) {\n                    console.error(e);\n                    reject(null);\n                });\n            } catch(e) {\n                // ‰∏äÊä•Êú™Áü•ÈîôËØØ\n                count('client-promise-error', e.toString());\n            }\n\n            setTimeout(function(){\n                if (!_resolved) {\n                    reject(null);\n                    // Ë∂ÖÊó∂Êâì‰∏Ä‰∏™ÈªÑÈáë‰ª§ÁÆ≠ÁöÑÁÇπ\n                    count('page-res-timeout');\n                }\n            }, 8500);\n    }).then(function(res) {\n        if(!res) { return Promise.reject('res empty'); }\n        if (res.beaconInfo) {\n            _flasherInsertBeacon(res.beaconInfo);\n        }\n\n        return res;\n    });\n\n    function _flasherInsertBeacon(beaconInfo) {\n        var attrList = beaconInfo.attrList;\n        var scriptStr = beaconInfo.scriptStr;\n        var script = document.createElement('script');\n\n        attrList.forEach(function(item) {\n            script.setAttribute(item.attrKey, item.attrValue);\n        });\n\n        script.innerHTML = scriptStr;\n        document.head.appendChild(script);\n    }\n\n    })()\n    <\/script>")]}var j,A,k})})},e.removeBeacon=function(t){return t.replace(/(<body[^>]*>)(<script[^>]*>[\s\S]*?(?=<\/script>)<\/script>)/,"$1")},e.parseBeacon=v,tion(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=ftion(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,n){"use strict";var r=n(6),o=n(2),i=n(22),a=function(t,e){e.onerror(t,e);var n=function(){return"{Template Error}"};return n.mappings=[],n.sourcesContent=[],n},c=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"!=typeof e?n=e:n.source=e,e=(n=o.$extend(n)).source,!0===n.debug&&(n.cache=!1,n.minimize=!1,n.compileDebug=!0),n.compileDebug&&(n.minimize=!1),n.filename&&(n.filename=n.resolveFilename(n.filename,n));var c=n.filename,u=n.cache,s=n.caches;if(u&&c){var f=s.get(c);if(;if(n.bail)throw l;return a(l,n)}var p=void 0,h=new r(n);try{p=h.build()}cow l;return a(l,n)}var d=function(e,r){try{return p(e,r)}catch(o){if(!n.compileDebug)return n.cache=!1,n.compileDebug=!0,t(n)(e,r);if(o=new i(o),n.bail)throw o;return a(o,n)()}};return d.mappings=p.mappings,d.sourcesContent=p.sourcesContent,d.toString=function(){return p.toString()},u&&c&&s.set(c,d),d};c.Compiler=r,t.exports=c},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyu]{1,5}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*]))))n=function(t){var e={type:"invalid",value:t[0]};return t[1]?(e.type="string",e.closed=!(!t[3]&&!t[4])):t[5]?e.type="comment":t[6]?(e.type="comment",e.closed=!!t[7]):t[8]?e.type="regex":t[9]?e.type="number":t[10]?e.type="name":t[11]?e.type="punctuator":t[12]&&(e.type="whitespace"),e}},function(t,e,n){"use strict";function r(){this.$extend=function(t){return i(t=t||{},t instanceof r?t:this)}}var o=n(10),i=n(12),a=n(13),c=n(14),u=n(15),s=n(16),f=n(17),l=n(18),p=n(19),h=n(21),d={source:null,filename:null,rules:[l,f],escape:!0,debug:!1,bainimize:!0,compileDebug:!1,resolveFilename:h,include:a,htreCustomFragments:[]},onerror:c,loader:s,caches:u,root:"/",extname:".art",ignore:[],imports:o};r.prn(t,e){},function(t,e,n){"use  r(t]=t[e];return n}return Array.from(t)}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(7),c=n(9),u="$data",s="$imports",f="print",l="include",p="extend",h="block",d="$$out",v="$$line",g="$$blocks",m="$$slice",y="$$from",b="$$options",w=function(t,e){return Object.hasOwnProperty.call(t,e)},_=JSON.stringify,x=function(){function t(e){var n,i,a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var w=e.source,_=e.minimize,x=e.htmlMinifier;if(this.options=e,this.stacks=[],this.context=[],this.scripts=[],this.CONTEXT_MAP={},this.ignore=[u,s,b].concat(o(e.ignore)),this.internal=(r(n={},d,"''"),r(n,v,"[0,0]"),r(n,g,"arguments[1]||{}"),r(n,y,"null"),r(n,f,"function(){var s=''.concat.apply('',arguments);"+d+"+=s;return s}"),r(n,l,"function(src,data){var s="+b+".include(src,data||"+u+",arguments[2]||"+g+","+b+");"+d+"+=s;return s}"),r(n,p,"function(from){"+y+"=from}"),r(n,m,"function(c,p,s){p="+d+";"+d+"='';c();s="+d+";"+d+"=p+s;return s}"),r(n,h,"function(){var a=arguments,s;if(typeof a[0]==='function'){return "+m+"(a[0])}else if("+y+"){if(!"+g+"[a[0]]){"+g+"[a[0]]="+m+"(a[1])}else{"+d+"+="+g+"[a[0]]}}else{s="+g+"[a[0]];if(typeoies=(r(i={},f,[d]),r(i,l,[d,b,u,g]),r(iext(d),e.compileDebug&&thiw=x(w,e)}catch(t){}this.sou,value:function(t){return a(t)}},{key:"getVariables",value:function(t){var e=!1;return t.filter(function(t){return"whitespace"!==t.type&&"comment"!==t.type}).filter(function(t){return"name"===t.type&&!e||(e="punctuator"===t.type&&"."===t.value,!1)}).map(function(t){return t.value})}},{key:"importContext",value:function(t){var e=this,n="",r=this.internal,o=this.dependencies,i=this.ignore,a=this.context,c=this.options.imports,f=this.CONTEXT_MAP;w(f,t)||-1!==i.indexOf(t)||(w(r,t)?(n=r[t],w(o,t)&&o[t].forEach(function(t){return e.importContext(t)})):n="$escape"===t||"$each"===t||w(c,t)?s+"."+t:u+"."+t,f[t]=n,a.push({name:t,value:n}))}},{key:"parseString",value:function(t){var e=t.value;if(e){var n=d+"+="+_(e);this.scripts.push({source:e,tplToken:t,code:n})}}},{key:"parseExpression",value:function(t){var e=this,n=t.value,r=t.script,o=r(var e=[[/^\s*}[\w\W]*?{?[\s;]*$/,""],[/(^[\w\W]*?\([\w\W]*?(?:=>|\([\w\W]*?\))\s*{[\s;]*$)/,"$1})"],[/(^[\w\W]*?\([\w\W]*?\)\s*{[\s;]*$)/,"$1}"]],n=0;n<e.length;){if(e[n][0].test(t)){var r;t=(r=t).replace.apply(r,o(e[n]));break}n++}try{return new Function(t),!0}catch(t){return!1}}},{key:"build",value:function(){vas.stacks,o=this.source,i=t.filename,a=t.imports,f=[],h=w(this.CONTEXT_MAP,p),m=0,x=function(t:{line:r.length+m+1,column:1},original:{line:n+1,column:o+1}};return m+=t.split(/\n/).length-1,i},E=function(t){return t.replace(/^[\t ]+|[\t ]$/g,"")};r.push("function("+u+"){"),r.push("'use strict'"),r.push(u+"="+u+"||{}"),r.push("var "+e.map(function(t){return t.name+"="+t.value}).join(",")),t.compileDebug?(r.push("try{"),n.forEach(function(t){t.tplToken.type===c.TYPE_EXPRESSION&&r.push(v+"=["+[t.tplToken.line,t.tplToken.start].join(",")+"]"),f.push(x(t.code,t.tplToken)),r.push(E(t.code))}),r.push("}catch(error){"),r.push("throw {"+["name:'RuntimeError'","path:"+_(i),"message:error.message","line:"+v+"[0]+1","column:"+v+"[1]+1","source:"+_(o),"stack:error.stack"].join(",")+"}"),r.push("}")):n.forEach(function(t){f.push(x(t.code,t.tplToken)),r.push(E(t.code))}),h&&(r.push(d+"=''"),r.push(l+"("+y+","+u+","+g+")")),r.push("return "+d),r.push("}");var T=r.join("\n");try{var O=new Function(s,b,"return "+T)(a,t);return O.mappings=f,O.sourcesContent=[o],O}catch(t){for(var S=0,j=0,A=0,k=void 0;S<n.length;){var P=n[S];if(!this.checkExpression(P.code)){j=P.tplToken.line,A=P.tplToken.start,k=P.code;break}S++}throw{name:"CompileError",path:i,message:t.message,line:j+1,column:A+1,CAPE:"$escape",EACH:"$each"},t.exports=x},function(t,e,n){"use strict";var r=n(8),o=n(1).default,i=n(1).matchToToken;t.exports=function(t){return t.match(o).map(function(t){return o.lastIndex=0,i(o.exec(t))}).map(function(t){return"name"===t.type&&r(t.value)&&(t.type="keyword"),t})}},function(t,e,n){"use strict";var r={abstract:!0,await:!0,boolean:!0,break:!0,byte:!0,case:!0,catch:!0,char:!0,class:!0,const:!0,continue:!0,debugger:!0,default:!0,delete:!0,do:!0,double:!0,else:!0,enum:!0,export:!0,extends:!0,false:!0,final:!0,finally:!0,float:!0,for:!0,function:!0,goto:!0,if:!0,implements:!0,import:!0,in:!0,instanceof:!0,int:!0,interface:!0,let:!0,long:!0,native:!0,new:!0,null:!0,package:!0,private:!0,protected:!0,public:!0,return:!0,short:!0,static:!0,super:!0,switch:!0,synchronized:!0,this:!0,throw:!0,transient:!0,true:!0,try:!0,typeof:!0,var:!0,void:!0,volatile:!0,while:!0,with:!0,yield:!0};t.exports=function(t){return r.hasOwnProperty(t)}},function(t,e,n){"use strict";function r(t){var e=new String(t.value);return e.line=t.line,e.start=t.start,e.end=t.end,e}function o(t,e,n){this.type=t,this.value=e,this.script=null,n?(this.line=n.line+n.value.split(/\n/).length-1,this.line===n.line?this.start=n.end:this.start=n.value.length-n.value.lastIndexOf("\n")-1):(this.line=0,this.start=0),this.end=this.start+this.value.length}var i=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=[new o("string",t)],a=0;a<e.length;a++)for(var c=e[a],u=c.test.ignoreCase?"ig":"g",s=new RegExp(c.test.source,u),f=0;f<i.length;f++){var l=i[f],p=i[f-1];if("string"===l.type){for(var h=void 0,d=0,v=[],g=l.value;null!==(h=s.exec(g));)h.index>d&&(p=new o("string",g.slice(d,h.index),p),v.push(p)),p=new o("expression",h[0],p),h[0]=r(p),p.script=c.use.apply(n,h),v.push(p),d=h.index+h[0].length;d<g.length&&(p=new o("string",g.slice(d),p),v.push(p)),i.splice.apply(i,[f,1].concat(v)),f+=v.length-1}}return i};i.TYPE_STRING="string",i.TYPE_EXPRESSION="expression",i.TYPE_RAW="raw",i.TYPEid 0,c=void 0;for(i=n.index,a=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:c="&#34;";break;case 38:c="&#38;";break;casng(a,i)),a=i+1,r+=c}return a!,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)e(t[n],n);else for(var o in t)e(t[o],o)},t.exports=r}).call(e,n(11))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=Object.prototype.toString,o=function(t){return null===t?"Null":r.call(t).slice(8,-1)};t.exports=function t(e,n){var r=void 0,i=o(e);if("Object"===i?r=Object.create(n||{}):"Array"===i&&(r=[].concaerty.call(e,a)&&(r[a]=t(e[a],r[a]));return r}return e}},function(t,eion(ilenamil:!0,source:null}))(e,r)}},function(t,e,n){"use strict";t.exports=function(t){console.error(t.name,t.message)}},function(t,e,n){"use strict";var r={__data:Object.create(null),set:function(t,e){this.__data[t]=e},get:function(t){return this.__data[t]},reset:function(){this.__data={}}};t.exports=r},function(t,e,n){"use strict";var r="undefined"==typeof window;t.exports=function(t){if(r)return n(3).readFileSync(t,"utf8");var [ \t]*}}/,use:function(t,e,n,o){var i=this.options,a=this.getEsTokens(o),c=a.map(function(t){return t.value}),u={},s=void 0,f=!!e&&"raw",l=n+c.shift(),p=function(e,n){console.warn((i.filename||"anonymous")+":"+(t.line+1)+":"+(t.start+1)+"\nTemplate upgrade: {{"+e+"}} -> {{"+n+"}}")};switch("#"===e&&p("#value","@value"),l){case"set":o="var "+c.join("").trim();break;case"if":o="if("+c.join("").trim()+"){";break;case"else":var h=c.indexOf("if");~h?(c.splice(0,h+1),o="}else if("+c.join("").trim()+"){"):o="}else{";break;case"/if":o="}";break;case"each":(s=r._split(a)).shift(),"as"===s[1]&&(p("each object as value index","each object value index"),s.splice(1,1)),o="$each("+(s[0]||"$data")+",function("+(s[1]||"$value")+","+(s[2]||"$index")+"){";break;case"/each":o="})";break;case"block":(s=r._split(a)).shift(),o="block("+s.(",")+")";break}default:if(~c.indexOf("|")){var d=a.&&"comment"!==r&&(t.length||t.push([]),":"===n&&1===t[t.length-1].length?p("value | filter: argv","val{return r._split(t)});o=d.reduce(function(t,e){var n=e.shift();return e.unshift(t),"$imports."+n+"("+e.join(",")+")"},d.shift().join(" ").trim())}f=f||"escape"}return u.code=o,u.output=rn"whitespace"!==e&&"comment"!==e});for(var e=0,n=t.shift(),r=/\]|\)/,o=[[n]];e<t.length;){var i=t[e];"punctuator"===i.function(t){return t.value}).join("")})}};t.exports=r},function(t,e,n){"use strict";t.exports={test:/<%(#?)((?:==|=#|[=-])?)[ \t]*([\w\W]*?)[ \t]*(-?)%>/rn n={"-":"raw","=":"escape","":!1,"==":"rwindow;t.exports=functiotomFragments).push.apply(o,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(c)),t=i(t,a)}return t}},function(t,e){!function(t){t.noop=function(){}}("object"==typeof t&&"object"==typeof t.exports?t.exports:window)},function(t,e,n){"use strict";var r="undef;if(o.test(t))function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.message));return n.name="TemplateError",n.message=function(t){var e=t.name,n=t.source,r=t.path,o=t.line,i=t.column,a=t.generated,c=t.message;if(!n)return c;var u=n.split(/\n/),s=Math.max(o-3,0),fypeof e&&null!==e)throw newull or a function, not "+typeof e);t.prototype=Object.creatct";t.exports=n(2)}])},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),i={},a="parallel_api";function c(t){var e=new URL(t);e.searchParams.delete(a),e.searchParams.sort();var n="?"===e.searchParams.toString()?"":e.searchParams.toString(),r=e.pathname.replace(/\/$/,"");return e.host+"/"+r+n}e.startParallelAPI=function(t,e){var n=function(t,e){for(var n=t.data,i=t.apiName,a=r({},t,{finalAPIName:"",finalData:{},key:""}),u=0,s=Object.kes[u],l=n[f];if("/"===l[0]){var p=new RegExp(l.slice(1,l.length-1)).exec(e),h=p&&p[1];a.finalData[f]=h||""}}return a.finalAPIName=o.replaceVars(i,a.finalData),a.key=c(a.finalAPIName),a}(t,e);i[n.key]=fetch(n.finalAPIName,{credentials:"include"}),setTimeout(function(){delete i[n.key]},3e5)},e.matchParallelAjax=function(t){if(-1===t.indexOf(a+"=1"))return!1;try{var e=c(t);if(i[e]){var n=i[e];return ders(t.headers);return e.append("x-flasher-parallel-hit","true"),new Response(t.body,{status:t.status,statusText:t.statusTexr r=this&&this.__importDefault||functionObject.defineProperty(e,"__esModule",{value:!0});var o=r(n(292)),i=[50,80,100,120,140,200,220,250,300,350,480,640,720,960];function a(t){return/^(https?:)?\/\/sc\d+\.alicdn\.com\/kf\//.test(String(t))}function c(t){return(""+t).toLowerCase()}function u(t){return(""+t).toUpperCase()}e.toLowerCase=c,edefaults.imports.isFs2Url=a,o.default.defaults.imports.getUrl=function(t,e,n){if(!a(t))return t;var r=t,o=t.split(/_\.webp/);r=o[0],o.length;var c=r.match(/^.+\.(jpg|jpeg|png)$/);if(!c)return t;var u=c[1];r=t.slice(0,t.indexOf("."+u)+u.length+1);var s=i.find(function(t){return t>=e});return s||n?r+"_"+(s?s+"x"+s:"".toLowerCase=c,o.default.defaults.imports.toUpperCase=u;var s={};e.renderArtTemplate=function(t,e){return(s[t]||o.default.compile(t))(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prependHead=function(t,e){return t.replace("<head>","<head>"+e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};e.newFunctionWithCache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];if(r[n])return r[n];var o=new(Function.bind.apply(Function,[void 0].concat(t)));return r[n]=o,o}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(44);e.inject=function(){var t=location.href,e=new RegExp("[?|&]"+i.SW_URL_QUERY.HUB_SW_VERSION+"=([^&$]+)"),n=t.match(e),r=n&&n[1]||"";r&&importScripts("/reportSW.js?v="+r)},e.handle=function(t,e){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return self.hub&&self.hub.handle?[4,self.hub.handle(t,{response:e})]:[3,2];case 1:return[2,n.sent()];case 2:return[2,e]}})})}}])},"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof n&&n.amd?n([],e):"object"==typeof exports?exports.sw=e():t.sw=e()}();