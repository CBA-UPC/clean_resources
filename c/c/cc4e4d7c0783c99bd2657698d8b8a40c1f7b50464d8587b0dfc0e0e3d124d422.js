"use strict";(self.webpackChunkWPS_Drive=self.webpackChunkWPS_Drive||[]).push([[1820],{20820:function(e,t,n){var o=n(32879);t.Z=(0,o.a1)("bulb",!1,(function(e,t){return e("svg",{attrs:{width:t.size,height:t.size,viewBox:"0 0 16 16",fill:"none","stroke-width":t.strokeWidth}},[e("g",{attrs:{id:"group-0",stroke:t.colors&&"string"!=typeof t.colors&&t.colors[0]||"string"==typeof t.colors&&t.colors||"#333333",fill:t.colors&&"string"!=typeof t.colors&&t.colors[0]||"string"==typeof t.colors&&t.colors||"#333333"}},[e("path",{attrs:{d:"M6.22885 14.75H9.77239M8.37685 4.165L7.60869 5.31723C7.49483 5.48802 7.58227 5.72015 7.78052 5.77338L8.22073 5.89157C8.41897 5.94479 8.50641 6.17692 8.39255 6.34771L7.6244 7.49994M6.22885 12.2499H9.77239C9.90725 12.2499 10.0255 12.1599 10.0615 12.0299L10.4406 10.6607C10.7187 9.65596 11.3782 8.80614 11.915 7.91237C12.3266 7.22688 12.5633 6.42436 12.5633 5.56655C12.5633 3.04652 10.5204 1.00363 8.00041 1.00363C5.48039 1.00363 3.4375 3.04652 3.4375 5.56655C3.4375 6.42447 3.67427 7.22709 4.08603 7.91263C4.62289 8.80644 5.2825 9.65628 5.56073 10.6611L5.93973 12.0299C5.97571 12.1599 6.09399 12.2499 6.22885 12.2499Z","stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin,fill:"none","vector-effect":"non-scaling-stroke"}})])])}))},38773:function(e,t,n){n.d(t,{Z:);var o=n(56451),r=n(37311),a=n(49200),i=n(2406),s=n.n(i),c=n(57099),d=n.n(c),l=n(43229),f=n.n(l),m=n(42173),u=n.n(m),p=n(80589),h=n(95272),k=n(27361),_=n.n(k),b=n(16473),v=n.n(b),y=n(47189),g=n(78718),w=n.n(g),C=n(19175),I=n(65297),O=n(45821),S=n(423),D=n(20144),E=n(80472),x=n(26743),M=n(50792),j=n(10928),N=n.n(j),P=function(e){var t=e?e.split("."):"unknown";return 1===t.length?"unknown":N()(t).toLowerCase()},L=n(43800),A=n(7018),B=n(20820),F={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:["k-button","k-button--"+e.size,"k-button--"+e.type,{"k-button--disabled":e.disabled}],on:{click:function(t){!e.disabled&&e.$listeners&&e.$listeners.click&&e.$listeners.click()}}},[e.loading?n("i",{staticClass:"is-loading"},[n("KLoading")],1):e._e(),e._v(" "),e.$slots.default?n("span",[e._t("default")],2):e._e()])},staticRenderFns:[],name:"KButton",components:{KLoading:h.Z},props:{size:{type:String,default:"m",validator:function(e){return-1!==["s","m","l"].indexOf(e)}},type:{type:String,default:"normal",validator:,disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},useNewLayout:{type:Boolean,default:!1}},computed:{kdType:function(){return"normal"===this.type?"secondary":"danger"===this.type?"primary":this.type},kdDanger:},K="load",R="reMarknameSuccess",G="reMarknameError",Z="toDelete",$="toAdd",H="set",T="remarks",W="contactcard_action",V={reat:"reat",delete:"delete",addcontact:"addcontact",movecoor:"movecoor"},z={_from:{type:String,default:"none"},_entrance:{type:String,default:"none"}},U=(0,x.isServerRendering)()?{}:(0,x.getUA)(navigator.userAgent);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var J,Q={onEvent:function(){}};if("undefined"==typeof window||!window.__KD_CONFIG__||!window.__KD_CONFIG__.props||"oem"!==window.__KD_CONFIG__.props.release){Q=(0,x.isServerRendering)()?{}:((J=_()(D.default.prototype,"$ksoui.dwFrameConf"))&&J.key&&(J.appKey=J.key),new E.Z({id:"kdocs_kso_ui",query:{_nestchannel:U.aliyunDiskPc?"aliyunDisk":"kso",_nestproject:"ui"}},J)))}var X=Q.onEvent;function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te={onEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};X(e,ee({app:this._from,entrance:this._entrance},t))},dwVisibleChanged:function(e){e?this.onEvent(W,{action:"show"}):this.onEvent(W,{action:"cancel"})},dwSetAvatar:function(){this.onEvent(W,{action:"photoset"})},dwEditRemark:function(){this.onEvent(W,{action:"remark"})},dwChat:function(){this.onEvent(W,{action:"woa"})},dwRemind:function(){this.onEvent(W,{action:"reat"})},dwOperationContact:;function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re="personal_card_compose",ae={onEventNew:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getDwCommonParams(),o=oe(oe({},n),t);X(e,o)},dwVisibleNew:function(){this.onEventNew(re,{action:"load"})},dwInvisibleNew:function(){this.onEventNew(re,{action:"close"})},dwSetAvatarNew:function(){this.onEventNew(re,{action:"set"})},dwEditRemarkNew:dwOperationContactNew:getDwCommonParams:function(){var e,t,n,o,r,a,i,s,c,d,l,f,m,u,p,h=this.isAdd?1:0;return this.isMine&&(h=2),{entrance:"preview",type:h,location:this.from,filetype:(e=this.file.ext||this.file.fname,t=P(e),n=M.G3.doc,o=M.G3.xls,r=M.G3.ppt,a=M.G3.pdf,i=M.G3.img,s=M.G3.pom,c=M.G3.pof,d=M.G3.ksheet,l=M.G3.dbt,f=M.G3.otl,m=M.G3.kw,u="doc",p={doc:n,xls:o,ppt:r,pdf:a,img:i,pom:s,pof:c,ksheet:d,dbt:l,otl:f,kw:m},Object.keys(p).some((),{doc:"word",xls:"excel",ppt:"ppt",pdf:"pdf",img:"photo",pom:"flow",pof:"mindmap",ksheet:"ksheet",dbt:"dbsheet",otl:"fp",kw:"whiteboard"}[u]),shared:this.file.link_url?1:0}}},ie=new A.PlugCtr("kso");r de={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"k-memberInfoCard"},[e.showLoading?n("KLoading"):e.loading?e._e():[e.showTopSplit?n("div",{staticClass:"k-memberInfoCard__line k-memberInfoCard__line--top"}):e._e(),e._v(" "),n("div",{staticClass:"k-memberInfoCard-header"},[n("div",{staticClass:"k-memberInfoCard-header__avatar"},[n("img",{attrs:{"data-img":"memberInfoCardAvatar",src:e.finalInfo.avatar},on:{mousedown:})]),e._v(" "),n("div",{staticClass:"k-memberInfoCard-header__right",class:{"k-memberInfoCard-header__right-short":!e.hideActions&&e.isAdd&&!e.memberInfo.deptName}},[n("div",{staticClass:"k-memberInfoCard-header__right-content"},[n("div",{staticClass:"k-memberInfoCard-header__name",attrs:{title:e.getName()}},[e._v(e._s(e.getName()))]),e._v(" "),e.nameExplain?n("div",{staticClass:"k-memberInfoCard-header__name-explain"},[e._v(e._s(e.nameExplain))]):e._e()]),e._v(" "),e._t("card-header-explain-bottom")],2),e._v(" "),e.hideActions||!e.isAdd||e.memberInfo.deptName?e._e():n("div",{staticClass:"k-memberInfoCard-header__more"},[n("el-dropdown",{class:"k-memberInfoCard-dropdown",attrs:{trigger:"click",placement:"bottom-end"},on:{command:e.onCommand}},[n("span",[n("KIcon",{attrs:{type:"more"}})],1),e._v(" "),n("el-dropdown-menu",{class:"k-memberInfoCard-dropdownMenu",attrs:{slot:"dropdown",visibleArrow:!1},slot:"dropdown"},e._l(e.menus,(function(t){return n("el-dropdown-item",{key:t.icon,attrs:{command:t.action}},[n("div",{staticClass:"el-dropdown-menu__item-block"},[n("KIcon",{attrs:{type:t.icon}}),e._v("                  \n                "+e._s(t.text)+"\n              ")],1)])})),1)],1)],1),e._v(" "),e.showCloseCard?n("div",{staticClass:"k-memberInfoCard-header__close",on:{click:function(t){return t.stopPropagation(),e.handleCloseCard(t)}}},[n("KIcon",{attrs:{type:"close"}})],1):e._e()]),e._v(" "),e.showSplit?n("div",{staticClass:"k-memberInfoCard__line"}):e._e(),e._v(" "),(e.$slots.extraBody||e.$scopedSlots.extraBody)&&e.showCardStatus?e._t("extraBody"):e._e(),e._v(" "),!e.hideBody&&!e.showCardStatus&&e.finalMsgs.length>0?n("div",{staticClass:"k-memberInfoCard-content"},[e.memberInfo.woa&&e.woaSendMsgDeepLink?n("div",{staticClass:"k-memberInfoCard-content__table"},e._l(e.finalMsgs,(function(t){return n("div",{key:t.key,staticClass:"k-memberInfoCard-content__tableItem"},[n("label",[e._v(e._s(t.label))]),e._v(" "),"markname"!==t.key?n("span",{key:t.key,class:[{"k-memberInfoCard-content__infos_item_row":"email"===t.key}],attrs:{title:"deptName"===t.key?e.finalInfo.orgDeptName:e.finalInfo[t.key]}},[n("span",{staticClass:"k-memberInfoCard-content__infos_content"},[e._v(e._s(e.finalInfo[t.key]))]),"email"===t.key?n("span",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.finalInfo[t.key],expression:"finalInfo[msg.key]"}],staticClass:"k-memberInfoCard-content__infos_item_copy_email",attrs:{type:"text"},on:{success:function(t){return e.handleCopySuccess()},error:function(t){return e.handleCopyError()}}},[n("KIcon",{attrs:{type:"copy"}})],1):e._e()]):e._e()])})),0):[n("div",{staticClass:"k-memberInfoCard-content__labels"},e._l(e.finalMsgs,(),0),e._v(" "),n("div",{staticClass:"k-memberInfoCard-content__infos"},[e._l(e.finalMsgs,(function(t){return["markname"!==t.key?n("span",{key:t.key,class:[{"k-memberInfoCard-content__infos_item_row":"email"===t.key}],attrs:{title:"deptName"===t.key?e.finalInfo.orgDeptName:e.finalInfo[t.key]}},[n("span",{staticClass:"k-memberInfoCard-content__infos_content"},[e._v(e._s(e.finalInfo[t.key]))]),"email"===t.key?n("span",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.finalInfo[t.key],expression:"finalInfo[msg.key]"}],staticClass:"k-memberInfoCard-content__infos_item_copy_email",attrs:{type:"text"},on:{success:function(t){return e.handleCopySuccess()},error:},[n("KIcon",{attrs:{type:"copy"}})],1):e._e()]):n("input",{directives:[{name:"model",rawName:"v-model",value:e.markname,expression:"markname"}],key:""+t.key,attrs:{type:"text",title:e.markname,placeholder:e.lang_holder,maxlength:"16"},domProps:{value:e.markname},on:{click:e.onInputClick,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),t.target.blur(t))},input:[e.onInput],blur:e.updateMarkname}})]}))],2)]],2):e._e(),e._v(" "),n(e.pluginRowExtRender(),{tag:"component",attrs:{memberInfo:e.memberInfo}}),e._v(" "),!e.$slots.footer&&!e.$scopedSlots.footer||e.isMine?e.showAdd||e.isMine||e.woaSendMsgDeepLink?n("div",{class:["k-memberInfoCard-footer",{withMargin:e.finalMsgs.length}],style:{"margin-top":e.memberInfoCardMarginTop?"":"20px"}},[e.woaSendMsgDeepLink?n("KButton",{staticClass:"k-button-with-link",attrs:{type:"primary"}},[n("a",{attrs:{target:"_self"},on:{click:},[e._v(e._s(e.lang_sendWoaMessage))])]):e.isMemberInfoInviteMember&&e.showAdd?n("KButton",{attrs:{type:"primary"},on:{click:e.toAdd}},[e._v(e._s(e.lang_addContact))]):e.isMemberInfoCardSetting&&e.isMine&&!e.showCardStatus?n("div",{staticClass:"k-memberInfoCard-footer__self"},[e.pcPrivateShow?[n("Bulb",{attrs:{size:"16",fill:"var(--kd-color-text-primary)"}}),e._v(" "),n("div",[n("p",[e._v(e._s(e.lang_nickDesc))]),e._v(" "),e.personalCenterLink?n("a",{attrs:{target:"_blank"},on:{click:e.linkClick}},[e._v(e._s(e.lang_toSet))]):e._e()])]:e._e()],2):e._e()],1):e._e():e._t("footer",null,{isAdd:e.isAdd,isMine:e.isMine}),e._v(" "),e.showBootomSplit?n("div",{staticClass:"k-memberInfoCard__line k-memberInfoCard__line--bottom"}):e._e()]],2)},staticRenderFns:[],name:"KMemberInfoCard",components:{KIcon:p.default,KLoading:h.Z,KButton:F,ElDropdown:d(),ElDropdownMenu:f(),ElDropdownItem:u(),Bulb:B.Z},directives:{clipboard:L.B},props:ce(ce({},z),{},{showCardStatus:{type:Boolean,default:!1},uid:{type:[Number,String]},memberInfo:{type:Object,default:function(){return{cid:0,userid:0,avatar:void 0,nickname:void 0,markname:void 0,woa:{}}},validator:function(e){var t=Object.keys(e);return["userid","avatar","nickname"].every(()}},onSuccess:{type:Function,default:function(){}},onDelete:{type:Function,default:function(){}},onAdd:{type:Function,default:function(){}},autoFetch:{type:Boolean,default:!0},onFetchError:{type:Function,default:function(){}},refreshKeys:{type:Array,default:,titleKey:{type:String,default:""},onCardEvent:{type:Function,default:function(){}},showBootomSplit:{type:Boolean,default:!1},showTopSplit:{type:Boolean,default:!1},showSend:{type:Boolean,default:!0},personalCenterLink:{type:String,default:"".concat(S.yV,"/usercenter/apps")},hideRemark:{type:Boolean,default:!1},hideActions:{type:Boolean,default:!1},nameExplain:{type:String,default:""},hideBody:{type:Boolean,default:!1},isWps:{type:Boolean,default:!1},pcPrivateShow:{type:Boolean,default:!0},onCloseCard:{type:Function},finished:{type:Function},formatDeptName:{type:Object,default:validator:function(e){var t=e.direction;return~["left","right"].indexOf(t)}},file:{type:Object,default:function(){return{}}},from:{type:String,default:""}}),data:function(){return{lang_markname:(0,O.t)("combine.mainList.markname"),lang_holder:(0,O.t)("combine.mainList.holder"),lang_addContact:(0,O.t)("combine.mainList.addContact"),lang_sendWoaMessage:(0,O.t)("combine.mainList.sendWoaMessage"),lang_nickDesc:(0,O.t)("combine.mainList.nickDesc"),lang_toSet:(0,O.t)("combine.mainList.toSet"),msgs:{},contactInfo:{},isAdd:!1,loading:!0,showLoading:!1,markname:"",menus:[{icon:"close-bold",action:"onDelete",text:"删除联系人"}],woaSendMsgDeepLink:"",userExtInfo:{},concatSummaryData:ce(ce(ce({},this.memberInfo),this.contactInfo),this.userExtInfo),defaultShowAdd:!0,isHideRemark:this.hideRemark,hasFetched:!1}},computed:{memberInfoCardMarginTop:function(){return!this.$__SHIELD_CONFIG__||this.$__SHIELD_CONFIG__.UIMemberInfoCardSetting},isMemberInfoCardSetting:function(){return!this.$__SHIELD_CONFIG__||this.$__SHIELD_CONFIG__.UIMemberInfoCardSetting},isMine:function(){return parseInt(this.uid)===parseInt(this.finalInfo.userid)},isMemberInfoInvteMember},showAdd:function(){return!this.isAdd&&!this.isMine&&this.showSend&&this.defaultShowAdd},s.isMine},showloseCard},finalMsgs:function(){var e=this;this.msgs=[{key:"deptName",label:(0,O.t)("combine.mainList.deptName")},{key:"email",label:(0,O.t)("combine.mainList.email")},{key:"phone",label:(0,O.t)("combine.mainList.phone")},{key:"location",label:(0,O.t)("combine.mainList.location")}];var t=this.msgs.filter((function(t){return!t.disabled&&e.finalInfo[t.key]}));return!this.isHideRemark&&this.isAdd||(t=!==e.key}))),this.isMine?t=[{key:"location",label:(0,O.t)("combine.mainList.location")}]:this.isAdd&&!this.isHideRemark&&t.push({key:"markname",label:(0,O.t)("combine.mainList.markname")}),t=t.filter((function(t){return"location"===t.key&&e.finalInfo[t.key]||"location"!==t.key}))},finalInfo:{get:function(){var e=this.concatSummaryData;return e.phone&&(e.phone=(0,I.gP)(e.phone)),e},set:function(e){this.concatSummaryData=e}}},watch:{hRemark=e},memberInfo:{handler:function(e){this.finalInfo=this.formatConcatData(ce(ce(ce({},e),this.contactInfo),this.userExtInfo))},deep:!0}},created:function(){var e=this;return(0,r.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dwOptionsValidator(),!e.autoFetch){t.next=6;break}return t.next=4,e.prepareData();case 4:t.next=7;break;case 6:e.finalInfo=e.formatConcatData(ce(ce(ce({},e.memberInfo),e.contactInfo),e.userExtInfo));case 7:e.$nished()}));case 8:case"end":return t.stop()}}),t)})))()nged(!0)},methods:ce(ce({pluginRow{},null)},prepareData:function(){var e=this;return(0,r.Z)(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.contactInfo={},!e.hasFetched&&(e.loading=!0),e.timer=setTimeout((function(){!e.hasFetched&&(e.showLoading=!0)}),200),e.finalInfo=e.formatConcatData(ce(ce({},e.finalInfo),e.memberInfo)),t.t0=!e.isMine,!t.t0){t.next=9;break}return t.next=9,Promise.all([e.getMemberInfo(),e.cooperRelativeInfo()]);case 9:clearTimeout(e.timer),e.loading=!1,e.showLoading=!1,n=Object.keys(e.userExtInfo).length,(e.woaSendMsgDeepLink||n||e.memberInfo.deptName)&&(e.defaultShowAdd=e.isAdd=!1),n&&(e.isHideRemark=!0),e.onCardEvent(K,e.isAdd),e.finalInfo=e.formatConcatData(ce(ce(ce({},e.memberInfo),e.contactInfo),e.userExtInfo));case 18:return t.prev=18,e.hasFetched=!0,t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[0,,18,21]])})))()},cooperRelativeInfo:function(){var e=this;return(0,r.Z)(s().mark((function t(){var n,r,a,i,c,d,l,f,m,u,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.memberInfo,r=n.userid,a=n.woa,i=n.cid,c=(a||{}).link,d=i||a&&a.cid,l=[d?(0,y.Zg0)(d,r).then((function(e){var t=e.depts,n=e.email,o=t.length&&t[0].abs_path,r={};return o&&(r={deptName:o}),n&&(r=ce(ce({},r),{},{email:n})),r}return{}})):Promise.resolve({}),d&&c?(0,y.j0n)(d,return!1})):Promise.resolve(!1)],t.next=6,Promise.all(l);case 6:f=t.sent,m=(0,o.Z)(f,2),u=m[0],p=m[1],u&&(e.userExtInfo=u),p&&c&&(e.woaSendMsgDeepLink=c);case 12:case"end":return t.stop()}}),t)})))()},getMemberInfo:function(){var e=this;return(0,r.Z)(s().mark((function t(){var n,o,r,a,i,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.memberInfo,o=n.userid,r=n.cid,a=n.woa,i=r||a&&a.cid||0,t.next=5,(0,y.Grd)({contactId:o,companyId:i});case 5:c=t.sent,e.markname=c.markname,e.refreshKeys.length>0&&(c=w()(c,e.refreshKeys)),e.contactInfo=c,e.isAdd=!0,t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),"RelationNotExist"===_()(t.t0,"response.data.result")?e.isAdd=!1:e.onFetchError(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()},getSplitDeptName:function(e,t,n){if(!e)return"";var o=e.split("/");t=~["left","right"].indexOf(t)?t:"left",(n=n||("left"===t?o.length:0))>0&&(n=o.length<n?o.length:n),n="left"===t?n:-n;var r="left"===t?[0,n]:[n];return o.slice.apply(o,r).join("/")},formatConcatData:function(e){var t=(e||{}).deptName,n=t;if(t&&this.formatDeptName){var o=this.formatDeptName,r=o.direction,a=o.index;t=this.getSplitDeptName(t,r,a)}return e=Object.assign({},e,{deptName:t,orgDeptName:n})},handleCopySuccess:function(){v().success("复制成功")().error("复制失败")},updateMarkname:function(){var e=this;return(0,r.Z)(s().mark((function t(){var n,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.finalInfo.userid,(o=e.markname)!==e.finalInfo.markname&&!e.onMarknameInvalid(o)){t.next=4;break}return t.abrupt("return",e.markname=e.finalInfo.markname);case 4:return t.prev=4,t.next=7,(0,y.dsA)({contactId:n,name:o});case 7:e.contactInfo.markname=o,e.onCardEvent(R,e.finalInfo),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),e.onCardEvent(G,e.finalInfo,t.t0),e.markname=e.finalInfo.markname;case 15:case"end":return t.stop()}}),t,null,[[4,11]])})))()},getName:function(){var e=this.finalInfo,t=this.titleKey;return t?e[t]:e.markname||e.company_name||e.nickname},onCommand:function(e){if("onDelete"===e)this.dwOperationContact("delete"),this.dwOperationContactNew("delete"),this.onCardEvent(Z,this.finalInfo);this[e]()},toAdd:function(){this.onCardEvent($,this.isAdd),this.dwOperationContact("addcontact"),this.dwOperationContactNew("add"),this.onAdd()},linkClick:function(){(0,I.nG)(this.personalCenterLink,this.isWps),this.dwSetAvatar(),this.dwSetAvatarNew(),this.onCardEvent(H,this.isAdd)},onInputClick:function(){this.dwEditRemark(),this.dwEditRemarkNew(),this.onCardEveeInvalid(e.target.value)},onMarknameInvalid:function(e){if(C.tB[0].test(e))return this.message&&this.message.close(),this.message=v().error(C.tB[1]),!0},handleClickSendMessage:function(){this.dwChat(),(0,I.nG)(this.woaSendMsgDeep1),this.dwInvisibleonsValidator:func{e.component(de.name,de)}},le=de}}]);
