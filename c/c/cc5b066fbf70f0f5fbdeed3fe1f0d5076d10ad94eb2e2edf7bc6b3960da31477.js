(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[9235],{48516:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(76955),a=r(62869),o=r.n(a),i=r(5154),c=r.n(i),s=r(51650),l=class d extends n.PureComponent{static get defaultProps(){return{children:null,className:"",targetUrl:void 0,onClick:c(),onMouseEnter:c()}}sSpaTargetLink(e){var{pathname:t,hostname:r}=e,n=r===new URL(window.process.env.HTTP_PATH_AMEBLO).hostname,a="/"===t,o="/accessibility"===t,[i,c]=t.split("/"),s=/_/.test(c);return n&&!(a||o||s)}handleClick(e){o()(this.props.onClick)&&this.props.onClick(e)}render(){var e,t=this.props,{children:r,className:a,targetUrl:o,onMouseEnter:i}=t,c=l(t,["children","className","targetUrl","onMouseEnter"]);if(void 0===o)return n.createElement("a",Object.assign({className:a},c),r);try{e=new URL(o)}catch(h){e=null}if(e&&this.isSpaTargetLink(e)){var d=e.pathname,p=e.search?"".concat(e.search):"",u=e.hash?"".concat(e.hash):"";return n.createElement(s.rU,Object.assign({className:a,to:"".concat(d).concat(p).concat(u),onClick:this.handleClick,onMouseEnter:i},c),r)}return n.createElement("a",Object.assign({className:a,href:o,onClick:this.handleClick,onMouseEnter:i},c),r)}}d.displayName="AnchorBlock"},10793:(e,t,r)=>{"use strict";r.d(t,{f:()=>s});var n=r(76955),a=r(52377),o=r(5154),i=r.n(o),c=r(54285);class s extends n.PureComponent{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleInview=this.handleInview.bind(this),this.startListen=this.startListen.bind(this),this.stopListen=this.stopListen.bind(this),this.inviewTracked=!1,this.tapTracked=!1}static get defaultProps(){return{activate:["tap"],algorithmId:"",bloggerAmebaId:"",categories:[],categoryId:"",subCategoryId:"",children:null,contentId:"",disable:!1,displayPosition:"",entryId:"",orderId:"",pageId:"",sectionId:"",serviceId:"",tagName:"",tapLogger:i(),viewLogger:i()}}componentDidMount(){this.startListen()}componentDidUpdate(){this.startListen()}et params(){var{algorithmId:e,bloggerAmebaId:t,categoryId:r,subCategoryId:n,contentId:a,displayPosition:o,pageId:i,entryId:c,orderId:s,sectionId:l,serviceId:d,tagName:p}=this.props;return{algorithmId:e,bloggerAmebaId:t,categories:this.props.categories.filter((),categoryId:r,subCategoryId:n,contentId:a,displayPosition:o,pageId:i,entryId:c,orderId:s,sectionId:l,serviceId:d,tagName:p}}startListen(){-1===this.props.activate.indexOf("view")||this.inviewTracked||(s.intersectionListener||(s.intersectionListener=(0,c.T)({})),this.stopListen(),this.trigger=a.findDOMNode(this),this.trigger&&!this.unlisten&&(this.unlisten=s.intersectionListener.listen(this.trigger,(e=>{(e.isIntersecting||e.intersectionRatio>0)&&(this.stopListen(),this.handleInview())}))))}andleClick(e){var t=n.Children.only(this.props.children).props.onClick;t&&t(e),this.props.tapLogger(this.params)}ender(){if(this.props.disable)return this.props.children;var e=this.props.children;return-1!==this.props.activate.indexOf("tap")&&(e=n.cloneElement(e,{onClick:this.handleClick})),e}}s.displayName="Tracker"},97243:18958:33811:(e,t,r)=>{"use strict";r.d(t,{uw:()=>O,x0:()=>T});var n=r(41185),a=r(66062),o=r(18274),i=r(55752),c=r.n(i),s=r(5663),l=r.n(s),d=r(74890),p=r.n(d),u=r(62720),h=r(64123),m=r(11622),y=r(18966),g=r(41779);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=[u.Z.REBLOG,u.Z.HASH_TAG,u.Z.IMAGE,u.Z.VIDEO,u.Z.CLIPBLOG,u.Z.VOICE_BLOG,u.Z.PR,u.Z.AUTO_AD],w=I=(e,t,r)=>({type:y.V7,payload:{blogId:e,entryId:t,error:r},error:!0}),T=(0,o.H)((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;return function(){var o=(0,a.Z)((function*(a,o,i){var{fetchr:s}=i,d=p()(v.concat(r)),u=c()(o(),["bloggerState","blogMap",e,"blog_name"],"");if(!u||!t)return null;var g=c()(o(),["entryState","entryMetaMap",t],null),b=c()(g,"pagingType",void 0),T=n===b,O=c()(o(),["entryState","entryMap",t],null);if(g&&T&&O&&(!l()(O.entry_text)||404===O.status_code))return null;try{a({type:y.Gh,payload:{blogId:e,entryId:t,fieldFilter:d,frm:n}});var k={amebaId:u,blogId:e,entryId:t,fieldFilter:d,frm:n},P=yield s.read(h.Z.BlogEntry).params(k).end(),Z=P.data;if(!(!1!==o().deviceState.isEmojiSupported)&&Z.entities&&Z.entities.entryMap)try{Z=f(f({},Z),{},{entities:f(f({},Z.entities),{},{entryMap:yield(0,m.R9)(Z.entities.entryMap)})})}catch(E){console.warn(E),Z=P.data}return a(w(e,t,Z,n))}catch(L){return a(I(e,t,L))}}));return ()})),O=(0,o.H)(((e,t)=>function(){var r=(0,a.Z)((function*(r,n){var a=c()(n(),["bloggerState","blogMap",e,"blog_name"],"");if(!a||!t)return null;var o=c()(n(),["entryState","entryMap",t],null);if("amember"!==o.publish_flg||o&&(o.entry_text||404===o.statusCode))return null;try{r({type:y.tB,payload:{entryId:t}});var i={token:c()(n(),["amebloTokenState","amebloToken"],null),amebaId:a,entryId:parseInt(t,10)},s=yield(0,g.s)(i);return r(((t,s))}catch(l){return r(((e,t)=>({type:y.Ny,payload:{entryId:e,error:t},error:!0}))(t,l))}}));return ()))},8805:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E});var n,a,o,i=r(3e4),c=r(41185),s=r(66062),l=(r(91938),r(76955)),d=r(29466),p=r.n(d),u=r(55752),h=r.n(u),m=r(97175),y=r(66948),g=r(29842),b=r(73614),f=r(33811),v=r(81454),w=r(90857),I=r(5563),T=r(97557);nction P(){return(P=(0,s.Z)((function*(e){var{dispatch:t,getState:r,match:n,location:a}=e,{params:o}=n,i=o.amebaId,c=yield t((0,b.Rs)(i));if(!c||!c.error){var s=r().bloggerState,l=s.bloggerMap,d=s.blogMap[(l[i]||{}).blog];if(d&&d.blog_id){var p=o.entryId,{frm:u}=a.query;yield t((0,f.x0)(d.blog_id,p,[],u))}}}))).apply(this,arguments)}var Z=function(){var e=(0,s.Z)((function*(e){var{dispatch:t,getState:r,match:n}=e,{params:a}=n,o=a.amebaId,i=a.entryId,c=h()(r(),["bloggerState","bloggerMap",o,"blog"]);t((0,v.l1)(c,[i]))}));return function(t){return e.apply(this,arguments)}}();var E=(0,y.$j)((function(e,t){var{match:r}=t,{params:n,route:a}=r,o=n.amebaId,i=n.entryId,c=a.pageType||"",s=e.bloggerState,l=s.bloggerMap,d=s.blogMap,p=l[o]||{},u=h()(p,["attribute","isOfficial"]),m=d[p.blog]||{},y=e.entryState,b=k(k({},y.entryMap[i]),y.entryReactionsMap[i]);return{amebaId:o,entry:b,isOfficial:u,pageType:c,permissions:(0,g.M)(m,b)}}),{closeModal:w.M,openModal:w.h,trackTapLog:I.XI})(n=(0,m.provideHooks)({defer:done:Z})((o=a=class extends l.Component{shouldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.closeModal!==e.closeModal||this.props.isOfficial!==e.isOfficial||this.props.openModal!==e.openModal||this.props.pageType!==e.pageType||this.props.trackTapLog!==e.trackTapLog||!p()(this.props.entry,e.entry)||!p()(this.props.permissions,e.permissions)}render(){return(0,i.Z)(T.L,{amebaId:this.props.amebaId,closeModal:this.props.closeModal,entry:this.props.entry,isOfficial:this.props.isOfficial,openModal:this.props.openModal,pageType:this.props.pageType,permissions:this.props.permissions,trackTapLog:this.props.trackTapLog})}},a.displayName="PcEntryDetailReactionLinks",n=o))||n)||n},36509:(e,t,r)=>{"use strict";r.d(t,{IT:()=>m,O4:()=>y,WW:()=>f,oK:()=>g});var n=r(5663),a=r.n(n),o=r(43177),i=r.n(o),c=r(12943),s=r.n(c),l=r(16884),d=r(75457),p=r(77948),u=r(18958),h=r(19008);function m(e,t){return"amember"===t.publish_flg||"2"===t.publish_flg?(0,l.Z)(d.Z.AmemberEntry,{amebaId:e,entryId:t.entry_id}):(0,l.Z)(d.Z.Entry,{amebaId:e,entryId:t.entry_id})}function y(e,t){var r=m(e,t);return"https://cs.ameba.jp/inq/inquiry/vio?targetAmebaId=".concat(e,"&url=").concat(r,"&service=blog")}function g(e,t){if(a()(e)||!t)return!1;if(!a()(e)&&!e.entry_created_datetime)return!1;var r=i()(new Date,p.Z.DEFAULT_DATE),n=i()(e.entry_created_datetime,p.Z.DEFAULT_DATE);return s()(r,n)>t}function b(e){!function(e){window.YT&&window.YT.Player?e():(window.onYouTubeIframeAPIReady=()=>{window.YT.loaded&&window.YT.Player?e():window.YT.ready&&"function"==typeof window.YT.ready&&window.YT.ready(()},(0,h.v)("https://www.youtube.com/iframe_api").catch((e=>{console.warn(e)})))}((()=>{!function(e){var t=e.querySelectorAll('iframe[src^="https://www.youtube.com/embed/"]'),r=[],n=e=>{e.data===window.YT.PlayerState.PLAYING&&r.forEach((t=>{t!==e.target&&t.pauseVideo()}))};t.forEach((e=>{var t=new window.YT.Player(e,{events:{onStateChange:n}});r.push(t)}))}(e)}))}function f(e){e&&(null!==e.querySelector("blockquote.twitter-tweet")&&(0,h.v)("https://platform.twitter.com/widgets.js").then((()=>{window.twttr&&window.twttr.widgets&&window.twttr.widgets.load()})).catch((e=>{console.warn(e)})),null!==e.querySelector('blockquote[class="instagram-media"]')&&(0,h.v)("https://platform.instagram.com/en_US/embeds.js").then((()=>{window.instgrm&&window.instgrm.Embeds&&window.instgrm.Embeds.process()})).catch((e=>{console.warn(e)})),null!==e.querySelector(".pickCreative_root")&&(0,h.v)("".concat(window.process.env.HTTP_PATH_STAT,"/ameblo/pick/pick_sdk-").concat(u.C,".js")).then(().catch((),null!==e.querySelector('iframe[src^="https://www.youtube.com/embed/"]')&&b(e))}},16884:(e,t,r)=>{"use strict";r.d(t,{Z:);var n=r(75457),a=e=>{var{amebaId:t,entryId:r,vnm:n}=e;return t&&r?"/".concat(t,"/video-").concat(r,".html").concat(n?"?vnm=".concat(n):""):""};function o(e,t){var{amebaId:r,entryId:o,themeId:i,entryYm:c,imageId:s,vnm:l,day:d,page:p=1}=t,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.process.env.HTTP_PATH_AMEBLO;if(!r||!e)return"";var h="".concat(u,"/").concat(r),m="";switch(e){case n.Z.BlogTop:return m=p>1?"page-".concat(p,".html"):"","".concat(h,"/").concat(m);case n.Z.EntryList:return m=p>1?"-".concat(p):"","".concat(h,"/entrylist").concat(m,".html");case n.Z.AmemberEntryList:return m=p>1?"-".concat(p):"","".concat(h,"/amemberentrylist").concat(m,".html");case n.Z.ArchiveTop:return"".concat(h,"/archivetop.html");case n.Z.Archive:if(c)return m=p>1?"".concat(p):"","".concat(h,"/archive").concat(m,"-").concat(c,".html");console.error("PageType.Archive: entryYm is undefined.");break;case n.Z.Day:if(d)return m=p>1?"".concat(p):"","".concat(h,"/day").concat(m,"-").concat(d,".html");console.error("PageType.Day: day is undefined.");break;case n.Z.ThemeTop:return"".concat(h,"/themetop.html");case n.Z.Theme:if(i)return m=p>1?"".concat(p):"","".concat(h,"/theme").concat(m,"-").concat(i,".html");console.error("PageType.Theme: themeId is undefined.");break;case n.Z.PopularRecentList:return m=p>1?"-".concat(p):"","".concat(h,"/popularrecentlist").concat(m,".html");case n.Z.Entry:if(o)return m=p>1?"".concat(p):"","".concat(h,"/entry").concat(m,"-").concat(o,".html");console.error("PageType.Entry: entryId is undefined.");break;case n.Z.ImageList:return m=p>1?"-".concat(p):"",c?"".concat(h,"/imagelist-").concat(c).concat(m,".html"):"".concat(h,"/imagelist.html");case n.Z.Image:if(o&&s)return"".concat(h,"/image-").concat(o,"-").concat(s,".html");console.error("PageType.Image: entryId or imageId is undefined.");break;case n.Z.VideoList:return m=p>1?"-".concat(p):"","".concat(h,"/videolist").concat(m,".html");case n.Z.Video:if(o)return"".concat(u).concat(a({amebaId:r,entryId:o,vnm:l}));console.error("PageType.Video: entryId is undefined.");break;case n.Z.IineEntry:if(o)return"".concat(h,"/iine_entry-").concat(o,".html");console.error("PageType.IineEntry: entryId is undefined.");break;case n.Z.Comment:if(m=p>1?"page-".concat(p,".html"):"",o)return"".concat(h,"/comment-").concat(o,"/").concat(m);console.error("PageType.Comment: entryId is undefined.");break;case n.Z.Reblog:if(m=p>1?"page-".concat(p,".html"):"",o)return"".concat(h,"/reblog-").concat(o,"/").concat(m);console.error("PageType.Reblog: entryId is undefined.");break;case n.Z.MessageBoard:return"".concat(h,"/message-board.html");case n.Z.Reader:return m=p>1?"-".concat(p):"","".concat(h,"/reader").concat(m,".html");case n.Z.Favorite:return m=p>1?"-".concat(p):"","".concat(h,"/favorite").concat(m,".html");case n.Z.Bookmark:return m=p>1?"-".concat(p):"","".concat(h,"/bookmark").concat(m,".html");case n.Z.AmemberEntry:if(o)return"".concat(window.process.env.HTTP_PATH_AMEBLO,"/").concat(r,"/amemberentry-").concat(o,".html");console.error("PageType.AmemberEntry: entryId is undefined.");break;case n.Z.ImageEmbed:if(o&&s)return"".concat(window.process.env.HTTP_PATH_EMBED,"/p/embed/").concat(r,"/image-").concat(o,"-").concat(s,".html");console.error("PageType.ImageEmbed: entryId or imageId is undefined.");break;case n.Z.SkinPreview:return"";default:console.error("PageType is not match.")}return""}},98464:12943:74890:]);