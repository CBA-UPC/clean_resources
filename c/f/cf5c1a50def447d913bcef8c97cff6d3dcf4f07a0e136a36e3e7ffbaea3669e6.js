(window.webpackJsonp=window.webpackJsonp||[]).push([[50,3,6,7,17,35],{1305:1306:1307:1308:function(t,e,n){},1309:function(t,e,n){},1310:function(t,e,n){},1311:function(t,e,n){},1312:function(t,e,n){},1313:function(t,e,n){},1314:function(t,e,n){},1315:function(t,e,n){t.exports=n.p+"static/media/form-black.8fd2ecf5.svg"},1316:function(t,e,n){t.exports=n.p+"static/media/form-white.c45192ca.svg"},1317:function(t,e,n){},1318:function(t,e,n){},1319:function(t,e,n){},1320:function(t,e,n){},1321:function(t,e,n){},150:151:152:function(t,n,r){"use strict";function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=r(166);function s(t){return function(){var n,r,s,l=i(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var c=i(this).constructor;n=Reflect.construct(l,arguments,c)}else n=l.apply(this,arguments);return r=this,!(s=n)||"object"!==o(s)&&"function"!==typeof s?Object(a.a)(r):s}}r.d(n,"a",function(){return s})},153:1540:function(t,e,n){"use strict";n.r(e);var r=n(36),i=n(30),o=n(12),a=n(1),s=n(150),l=n(151),c=n(153),u=n(152),h=n(0),d=n.n(h),p=n(1305),f=n.n(p),m=n(308),v=n(414),g=n(415),y=n(649),b=n(531),x=n(310),w=n(340),A=n(173),E=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);eturn Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.data,n=t.data,r=n.radarPos,i=n.panoNorthView;this.markerElement=A.a.createRadarMarker(e),this.markerElement&&A.a.rotateRadarMarker(this.markerElement,r,i)}},{key:"componentDidUpdate",value:function(t,e){var n=this.props.data,r=n.radarPos,i=n.panoNorthView;A.a.rotateRadarMarker(this.markerElement,r,i)}},{key:"componentWillUnmount",value:function(){A.a.deleteMarker(this.markerElement)}},{key:"render",value:function(){return null}}]),n}(d.a.Component),_=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(t,e){return this.props.activeStop!==t.activeStop||this.props.radarPos!==t.radarPos}},{key:"render",value:function(){var t=this,e=this.props,n=e.tourStops,r=e.activeStop,i=e.radarPos,o=e.changeStop,a=e.switchMapView,s=e.tourId;return n.map(function(e){return e.type="popup",e.callback=t.openPopup,e.activeStop=r,e.radarPos=i,e.panoNorthView&&r===e.order?d.a.createElement(E,{key:e.id,data:e,highlight:!0}):d.a.createElement(w.a,{key:e.id,className:"tour-stop-marker-fixed",data:e,highlight:e.order===r,switchView:a,changeStop:o,tourId:s})})}}]),n}(d.a.Component),T=n(157);var S=function(t){var e=document.querySelector(t);if(!e)throw new Error("element not found on DOM");e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},M=n(2),C=n.n(M),I=n(3);function k(){return(k=Object(I.a)(C.a.mark(function t(){return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t,e){var n=document.createElement("canvas"),r=n.getContext("webgl")||n.getContext("experimental-webgl"),i=r&&r instanceof WebGLRenderingContext;return i?t(i):e({message:"Your browser does not WebGL."})});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))).apply(this,arguments)}var R=n(155),L=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(s.a)(this,n),(t=e.call(this)).openPopup=function(e){var n=t.props.currentTour,r=n.id,i=n.name,o=e.stopName,a=e.origin;Object(T.a)("".concat(r,"-").concat(i),a,o)},t.state={imageHeight:0},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.history,n=t.currentStop.mainMediaType;if().then(function(t){return t}).catch(function(t){var n=t.message;console.warn(n),e.push("/share/error/unsupported-browser")}),n===R.h){var r=document.getElementById("view-wrapper");r&&this.setState({imageHeight:r.offsetHeight})}}},{key:"shouldComponentUpdate",value:function(t,e){var n=this.props,r=n.activeStop,i=n.miniMapView,o=n.radarPos,a=n.panoHasKeyboardControl,s=this.state.imageHeight;return r!==t.activeStop||i!==t.miniMapView||o!==t.radarPos||s!==e.imageHeight||a!==e.panoHasKeyboardControl}},{key:"componentDidUpdate",value:function(t){if(this.props.currentStop.mainMediaType===R.h){var e=document.getElementById("view-wrapper");e&&this.state.imageHeight!==e.offsetHeight&&this.setState({imageHeight:e.offsetHeight})}var n=document.querySelector(".a-enter-vr-button"),r=document.querySelector(".a-enter-ar-button");n&&(n.id="aframe-vr-button"),r&&(r.id="aframe-ar-button")}},{key:"render",value:function(){var t=this.props,e=t.miniMapView,n=t.allStops,r=t.tourStops,i=t.currentTour,o=t.currentTour.styles.primaryColor,a=t.currentStop,s=t.currentStop.mainMediaType,l=void 0===s?R.j:s,c=t.tier,u=t.publicTour,h=t.toggleShareModal,p=t.getPanoRotation,f=t.activeStop,w=t.changeStop,A=t.path,E=t.tourId,T=t.switchMapView,M=t.radarPos,C=t.mapToken,I=t.history,k=t.setYPosition,L=t.checkLogoURL,O=t.panos,D=t.images,P=t.panoHasKeyboardControl,B=t.stopDescriptionMinimized,F=t.isMainMediaPlaying,N=t.toggleMainMediaStatus,U=t.showPanoControls,j=t.togglePanoControls,z=t.aid,G=t.previewTour,V={publicTour:u,currentTour:i},H=l===R.j||l===R.o,W="",J="";a.panoId&&O[a.panoId]&&(W=O[a.panoId].alt?O[a.panoId].alt:""),a.panoId&&D[a.panoId]&&(J=D[a.panoId].alt?D[a.panoId].alt:"");var Z,Y=window.innerWidth<1025;return l===R.j&&(Z=a.panoId&&O[a.panoId]&&void 0!==O[a.panoId].url?O[a.panoId].url:R.d),d.a.createElement(d.a.Fragment,null,"map"===e&&a&&d.a.createElement(d.a.Fragment,null,l===R.o&&d.a.createElement(g.a,{activeStop:f,autoLoop:a.autoLoop,autoRotate:a.autoRotate,autoRotateDirection:a.autoRotateDirection,changeStop:w,checkLogoURL:L,closeShareModal:h,currentStop:a,getPanoRotation:p,history:I,id:a.panoId,initialView:a.panoInitialView,isMainMediaPlaying:F,isMobile:Y,miniMapView:e,northView:a.panoNorthView,primaryColor:o,publicTour:u,ratio:a.ratio,setYPosition:k,showPanoControls:U,showVRMode:i.showVRMode,src:a.panoUrl,stopDescriptionMinimized:B,tier:c,toggleMainMediaStatus:N,togglePanoControls:j,tourData:i,tourPublished:i.published,viewOnly:!0,aid:z}),l===R.j&&d.a.createElement(v.a,{activeStop:f,autoRotate:a.autoRotate,autoRotateDirection:a.autoRotateDirection,changeStop:w,checkLogoURL:L,closeShareModal:h,cube:!0,currentStop:a,getPanoRotation:p,history:I,initialView:a.panoInitialView,isMainMediaPlaying:F,isMobile:Y,miniMapView:e,northView:a.panoNorthView,panoAltText:W,panoHasKeyboardControl:P,primaryColor:o,publicTour:u,ratio:a.ratio,rotation:{x:4,y:4,z:2},setYPosition:k,showPanoControls:U,showTransitionLogo:"starter"===c,showVRMode:i.showVRMode,src:Z,tier:c,toggleMainMediaStatus:N,togglePanoControls:j,tourData:i,tourPublished:i.published,aid:z,viewOnly:!0}),!H&&d.a.createElement(d.a.Fragment,null,i&&d.a.createElement(m.a,{currentTour:i,tier:c,checkLogoURL:L,publicTour:u,tourId:E,aid:z}),d.a.createElement(y.a,{panoId:a.panoId,height:this.state.imageHeight,alt:J,view:!0,tabIndex:0,currentTour:i,currentStop:a,changeStop:w,isMainMediaPlaying:F,previewTour:G}),d.a.createElement(x.a,{tier:c,primaryColor:o,tourPublished:i.published,miniMapView:e,closeShareModal:h,stopIds:i&&i.stopIds,stops:n,setYPosition:k,toggleFullScreen:function(){return S(".a-canvas")},isMobile:Y,viewOnly:!0,staticImg:!0}))),"map"!==e&&a&&d.a.createElement(d.a.Fragment,null,d.a.createElement(b.a,{miniMapView:e,path:A,tier:c,addControls:{nav:{show:!0,pos:"top-right"},layers:{show:!0,pos:"top-right"},geolocate:{show:!0,pos:"top-right"},geocoder:{show:!1,pos:"top-left"}},analytics:V,mapStyle:i.tourMapStyle,mapRendering:i.mapRenderingUrl,tourId:i.id,mapToken:C}),d.a.createElement(_,{tourStops:r,activeStop:f,radarPos:M,changeStop:w,switchMapView:T,tourId:E}),d.a.createElement(x.a,{tier:c,primaryColor:o,tourPublished:i.published,miniMapView:e,closeShareModal:h,toggleFullScreen:function(){return S(".a-canvas")},isMobile:window.innerWidth<1025,stops:n,stopIds:i.stopIds})))}}]),n}(h.Component),O=n(24),D=n.n(O),P=n(161),B=n(175),F=n(202),N=(n(1308),function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:,{key:"componentDidUpdate",value:function(t){var e=this.props.restPosition;"number"===typeof t.restPosition&&t.restPosition!==e&&e>0&&this.galleryButton.focus()}},{key:"render",value:function(){var t,e=this,n=this.props,r=n.thumbnailList,i=n.activeStop,o=n.handleChange,s=n.stopGallery,l=n.primaryColor,c=n.tourStops,u=n.miniMapView,p=n.setYPosition,f=n.tourName,m=n.tier,v=function(t,e){var n=Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({active:t===i},e>=2&&{activeNext__right:t===i+1||t===i-(e-1)}),e>=3&&{activeNext__left:t===i-1||t===i+e-1}),e>=4&&{activePlusOne__right:t===i+2||t===i-(e-2)}),e>=5&&{activePlusOne__left:t===i-2||t===i+e-2}),e>=6&&{outerHidden__right:t===i+3||t===i-(e-3)}),e>=7&&{outerHidden__left:t===i-3||t===i+e-3});return D()(n)},g=D()({"stop-gallery-thumbs":s}),y=c&&c.length>1,b=D()({"btn-wrapper":!0,single:!y,"map-view":"pano"===u,starter:"starter"===m}),x=window.innerWidth<1025,w=c[i].name;return d.a.createElement(h.Fragment,null,d.a.createElement("div",{className:"tour-controls__stop-name-wrapper"},d.a.createElement("div",{"data-cy":"tour-controls__stop-name",className:"tour-controls__stop-name"},w)),d.a.createElement("section",{"aria-label":"Thumbnail images for ".concat(f," tour stops."),tabIndex:0,id:"thumbnail-wrapper",className:g},d.a.createElement("div",{id:"pano-controls-stop-name","aria-live":"polite"},d.a.createElement("p",{style:{fontSize:0}},"Now visiting ".concat(w,"."))),!x&&(t=r).map(function(e,n){if(!e)return null;var r=v(n,t.length),a=e.panoId,s=e.id,l=e.mainMediaType,c=e.thumbnail,u=e.order,h=e.name,p=e.defaultPos,f=i!==n;return d.a.createElement(P.default,{mediaId:a||s,mediaType:l||R.j,thumbSrc:c,key:a+n||s+n,thumbClass:"media-thumbnail ".concat(r),height:90,name:f&&h,alt:"",view:!0,overlayMediaName:!0,handleClick:function(){return o({defaultPos:p,stopNum:u||n,stopName:h,origin:"Gallery"})}})}),d.a.createElement("section",{"aria-label":"Tour controls.",className:b},y&&d.a.createElement(B.a,{render:function(t){var e=t.onEnter,n=t.onLeave,r=t.hovering;return d.a.createElement(F.a,{onEnter:e,onLeave:n,hovering:r,className:"prev-btn",color:l,backgroundColor:"#fff",handleClick:function(){return o({defaultPos:c[i].defaultPos,stopNum:i-1,stopName:null,origin:"Prev"})},"aria-label":"Previous stop","aria-controls":"pano-controls-stop-name",isMobile:x,"data-cy":"tour-controls__prev-btn"},d.a.createElement("i",{className:"material-icons prev"},"play_circle_filled"),"\xa0 Back")}}),d.a.createElement(B.a,{render:function(t){var n=t.onEnter,r=t.onLeave,o=t.hovering;return d.a.createElement(F.a,{myRef:function(t){return e.galleryButton=t},onEnter:n,onLeave:r,hovering:o,className:"counter",color:l,backgroundColor:"#fff",handleClick:"aria-label":"Show all stops","aria-expanded":"false",isMobile:x,"data-cy":"show-all-stops"},d.a.createElement("i",{className:"material-icons"},"apps"),"".concat(i+1," of ").concat(c&&c.length))}}),y&&d.a.createElement(B.a,{render:function(t){var e=t.onEnter,n=t.onLeave,r=t.hovering;return d.a.createElement(F.a,{onEnter:e,onLeave:n,hovering:r,className:"next-btn",color:l,backgroundColor:"#fff",handleClick:function(){return o({defaultPos:c&&c[i].defaultPos,stopNum:i+1,stopName:null,origin:"Next"})},"aria-label":"Next stop","aria-controls":"pano-controls-stop-name",isMobile:x,"data-cy":"tour-controls__next-btn"},"Next \xa0",d.a.createElement("i",{className:"material-icons"},"play_circle_filled"))}}))))}}]),n}(d.a.Component)),U=n(164),j=n(532),z=n.n(j),G=(n(1309),function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:,{key:"render",value:function(){var t=this.props,e=t.toggleC3Dbtn,n=t.tier,r=t.publicTour,i="starter"===n&&r?"starter":"";return d.a.createElement("footer",{id:"footer",className:i},e&&d.a.createElement(d.a.Fragment,null,d.a.createElement(U.a,{className:"c3d-privacy-policy",href:"https://www.concept3d.com/concept3d-privacy-policy",newTab:!0},"Privacy Policy"),d.a.createElement(U.a,{className:"c3d-tos",href:"https://www.concept3d.com/concept3d-tour-builder-terms-of-service",newTab:!0},"Terms of Service"),d.a.createElement(U.a,{className:"concept3d",href:"https://www.concept3d.com",newTab:!0},d.a.createElement("img",{src:z.a,alt:"",width:"100"}))))}}]),n}(d.a.Component)),V=n(232),H=n(224),W=n(35),J=function(t){var e=t.tier,n=t.publicTour,r=t.tours,i=t.tourId,o=t.toggleC3DDescription,a=t.viewC3DDescription;return d.a.createElement(H.default,{inProp:"starter"===e&&n,position:"bottomCenter",bottomCenter:{bottom:0,left:0,right:0,marginLeft:"auto",marginRight:"auto"},classNames:"starter"},d.a.createElement("div",{className:"c3d-info-wrapper"},d.a.createElement("p",{className:"c3d-description-desktop",tabIndex:0},"Concept3D offers an enterprise platform that lives at the intersection of data, map, and 3D,",d.a.createElement("br",null),"giving clients the ability to bring their physical spaces and assets into the digital world."),d.a.createElement("div",{className:"c3d-btns"},d.a.createElement(V.a.OutboundLink,{eventLabel:"make your own tour",target:"_blank",rel:"noopener noreferrer",to:"https://tour.concept3d.com",className:"green-btn",onClick:function(){var t=r[i];Object(T.a)("".concat(i,"-").concat(t.name),"Make your own tour","clicked")}},"Make your own tour"),d.a.createElement(V.a.OutboundLink,{eventLabel:"explore full functionality",target:"_blank",rel:"noopener noreferrer",to:"https://concept3d.com/use-cases",className:"text-btn",onClick:function(){var t=r[i];Object(T.a)("".concat(i,"-").concat(t.name),"Explore Full Functionality","clicked")}},d.a.createElement("i",{className:"material-icons"},"launch")," Explore full functionality"),d.a.createElement(W.a,{className:"help-btn",handleClick:o},d.a.createElement("i",{className:"material-icons"},"help"))),a&&d.a.createElement("p",{className:"c3d-description"},"Concept3D offers an enterprise platform that lives at the intersection of data, map, and 3D, giving clients the ability to bring their physical spaces and assets into the digital world.")))},Z=n(4),Y=function(t){var e,n=t.miniMapView,r=t.stops,i=t.panos,o=t.activeStop,a=t.tourPublished,s=t.tourData,l=t.checkLogoURL,c=t.closeShareModal,u=t.changeStop,h=t.radarPos,p=t.getPanoRotation,f=t.path,m=t.mapToken,y=r[o]||{},x=y.panoInitialView,A=y.panoNorthView,_=y.ratio,T=y.mainMediaType,S=y.panoId,M=void 0===S?"":S;return e=i[M]&&void 0!==i[M].url?i[y.panoId].url:R.d,d.a.createElement(d.a.Fragment,null,"map"===n?[d.a.createElement(b.a,{key:"map",miniMapView:n,path:f,mapStyle:s.tourMapStyle,mapRendering:s.mapRenderingUrl,tourId:s.id,mapToken:m}),r.map(function(t){return t?(t.activeStop=o,t.radarPos=h,t.panoNorthView&&o===t.order?d.a.createElement(E,{key:t.id,data:t,highlight:!0}):d.a.createElement(w.a,{key:t.id,className:"tour-stop-marker-fixed",data:t,highlight:o===t.order,changeStop:u})):null})]:d.a.createElement(d.a.Fragment,null,T===R.j?d.a.createElement(v.a,{cube:!0,initialView:x,northView:A,src:e,ratio:_,tourPublished:a,tourData:s,checkLogoURL:l,closeShareModal:c,miniMapView:n,getPanoRotation:p,activeStop:o}):T===R.o?d.a.createElement(g.a,{initialView:x,northView:A,id:M,ratio:_,tourData:s,miniMapView:n,getPanoRotation:p,activeStop:o,viewOnly:!0}):d.a.createElement(P.default,{mediaId:M,mediaType:T,thumbClass:"main-image",height:172,alt:"",view:!0})))},K=(n(1310),function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(s.a)(this,n),(t=e.call(this)).setMapZoom=function(){var e=t.props,n=e.stops,r=e.activeStop,i=e.tourData,o=n[r].defaultZoom?n[r].defaultZoom:i.defaultZoom;t.state.minimized||o&&A.a.getMap().setZoom(o)},t.moveToStop=function(t){var e=t.lng,n=t.lat;A.a.getMap()&&A.a.getMap().jumpTo({center:[e,n],zoom:15})},t.toggleMiniMap=function(e){var n=t.props,r=n.tourId,i=n.tourName,o=e.target.name;t.setState(function(t){return{minimized:!t.minimized}},function(){var e=t.state.minimized?"Close":"Open";Object(T.a)("".concat(r,"-").concat(i),"Minimize Map",e)}),t.handleMapToggleFocus(o)},t.handleMapToggleFocus=function(e){setTimeout(function(){t["minimize"===e?"maximize":"minimize"].focus()},250)},t.handleSwitchMapView=t.state={minimized:window.innerWidth<1025},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.stops,n=t.activeStop;if(e[n]){var r=e[n],i=r.lng,o=r.lat;this.moveToStop({lng:i,lat:o}),this.setMapZoom()}}},{key:"componentDidUpdate",value:function(t,e){var n=this.state.minimized,r=this.props,i=r.activeStop,o=r.miniMapView,a=r.stops;if(t.activeStop!==i||t.miniMapView!==o||e.minimized&&!n){var s=a[i],l=s.lng,c=s.lat;this.moveToStop({lng:l,lat:c}),this.setMapZoom()}}},{key:"render",value:function(){var t,e=this,n=this.state.minimized,r=this.props,i=r.tourData,o=r.stops,a=r.panos,s=r.activeStop,l=r.miniMapView,c=r.mainMediaType,u=r.primaryColor,h=r.tourId,p=r.aid,f=r.tourName,m=r.tourPublished,v=r.checkLogoURL,g=r.closeShareModal,y=r.changeStop,b=r.radarPos,x=r.getPanoRotation,w=r.path,A=r.mapToken,E=(t={},Object(Z.a)(t,R.j,"panorama"),Object(Z.a)(t,R.o,"360 video"),Object(Z.a)(t,R.h,"static image"),t)[c]||"panorama",_="map"===l?c:"map",T="map"===l?d.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},"map"):d.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},"panorama_horizontal");return d.a.createElement(d.a.Fragment,null,n?d.a.createElement(B.a,{render:function(t){var n=t.onEnter,r=t.onLeave,i=t.hovering;return d.a.createElement(F.a,{onEnter:n,onLeave:r,hovering:i,color:u,backgroundColor:"#fff",className:"minimap-hide",handleClick:e.toggleMiniMap,"aria-label":"Maximize mini map section.",name:"maximize",myRef:function(t){return e.maximize=t},"data-cy":"minimap-hide"},d.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},"map"))}}):d.a.createElement("section",{className:"minimap-show","aria-label":"Mini map.","data-cy":"minimap-show"},d.a.createElement(Y,{miniMapView:l,stops:o,panos:a,activeStop:s,tourPublished:m,tourData:i,checkLogoURL:v,closeShareModal:g,changeStop:y,radarPos:b,getPanoRotation:x,path:w,mapToken:A}),d.a.createElement(B.a,{render:function(t){var n=t.onEnter,r=t.onLeave,i=t.hovering;return d.a.createElement(F.a,{onEnter:n,onLeave:r,hovering:i,color:u,backgroundColor:"#fff",className:"minimize",handleClick:e.toggleMiniMap,"aria-label":"Minimize mini map section.",name:"minimize",myRef:function(t){return e.minimize=t},"data-cy":"minimize-mini-map"},d.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},"open_in_new"))}}),d.a.createElement("span",{className:"minimap-icon","aria-hidden":"true"},T,"\xa0",l),d.a.createElement(B.a,{render:function(t){var n=t.onEnter,r=t.onLeave,i=t.hovering;return d.a.createElement(F.a,{hovering:i,onEnter:n,onLeave:r,color:u,backgroundColor:"#fff",className:"switch-view",handleClick:function(){return e.handleSwitchMapView({newMapView:_,tourId:h,tourName:f,aid:p})},"aria-label":"map"===l?"Switch to map view, ".concat(E," active"):"Switch to ".concat(E," view, map active"),"aria-live":"polite","data-cy":"toggle-map-view"},d.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},"swap_horiz"))}})))}}]),n}(h.Component)),Q=(n(1311),function(t){var e=t.hideCookieBanner;return d.a.createElement("section",{id:"cookie-banner",tabIndex:1,className:"cookie-banner"},d.a.createElement("div",{className:"text-container"},d.a.createElement("p",{className:"subheader-1",tabIndex:0},"Concept3D Cookies Policy"),d.a.createElement("p",{className:"subheader-2",tabIndex:0},"We use cookies to understand how you use our site and to improve your experience. To learn more, click here. By continuing to use our site, you consent to our Privacy Policy, including the use of cookies."," ",d.a.createElement("a",{href:"https://www.concept3d.com/wp-content/uploads/2019/03/Privacy-Policy-03262019.pdf",target:"_black",className:"policy-link",rel:"noopener noreferrer",tabIndex:0},"Learn more >>"))),d.a.createElement(W.a,{handleClick:e,className:"accept-btn"},d.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},"check")," ","Accept"))}),q=n(53),X=n(523),$=n(335),tt=(n(1312),function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props,e=t.closeModal,n=t.stopImages,r=t.stopVideos,i=t.activeTab,o=t.primaryColor,a=t.stopName,s=t.isOpen,l=t.myRef,c=t.getMediaIndex,u=t.toggleActiveTab,h=[{title:Boolean(n.length)?"Images":null,enabled:!0,count:n.length,Component:d.a.createElement($.a,{media:n,mediaLibrary:!0,getMediaIndex:c})},{title:Boolean(r.length)?"Videos":null,enabled:!0,count:r.length,Component:d.a.createElement($.a,{media:r,getMediaIndex:c})}];return d.a.createElement(d.a.Fragment,null,d.a.createElement(q.a,{className:"stop-media-gallery",closeModal:e,isOpen:s,shouldCloseOnOverlayClick:!0},d.a.createElement("h4",{className:"media-gallery-name",tabIndex:0,ref:l},a),d.a.createElement(X.a,{data:h,type:"tab-gallery",activeTab:i,primaryColor:o,width:"15%",toggleActiveTab:u})))}}]),n}(h.Component)),et=function(t){var e=t.hasDescription,n=t.toggleMediaBox,r=t.minimizeBtnRef;return d.a.createElement("div",{className:"tour-description__media-title"},d.a.createElement("h2",{className:"tour-description__stop-name-heading"},e?"Information":"Media"),d.a.createElement(W.a,{className:"minimize-media-btn",handleClick:n,name:"minimize",myRef:r,"aria-label":"Minimize additional content","data-cy":"tour-stop-media-box__minimize-btn"},d.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},"remove_circle")))},nt=["onEnter","onLeave","hovering","children","color","hoverTextColor","handleClick"],rt=function(t){var e=t.onEnter,n=t.onLeave,r=t.hovering,i=t.children,a=t.color,s=t.hoverTextColor,l=t.handleClick,c=Object(o.a)(t,nt),u=r?{color:s}:{color:a};return d.a.createElement("button",Object.assign({style:u,onMouseEnter:e,onMouseLeave:n,onClick:l},c),i)},it=(n(1313),function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(s.a)(this,n),(t=e.call(this)).fireGoogleAnalyticsEvent=function(e){if(e){var n=t.props,r=n.tourId,i=n.tourName;Object(T.a)("".concat(r,"-").concat(i),"Open Additional Media",e)}},t.handleClick=function(e){e&&((0,t.props.toggleGallery)(e),t.fireGoogleAnalyticsEvent(e.target.name))},t.state={showGallery:!1},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.stopImages,r=e.stopVideos,i=e.primaryColor,o=D()({"media-btn-wrapper":!0,hide:!Boolean(n.length)&&!Boolean(r.length)});return d.a.createElement("div",{className:o},Boolean(n.length)&&d.a.createElement(B.a,{render:function(e){var r=e.onEnter,o=e.onLeave,a=e.hovering;return d.a.createElement(rt,{hovering:a,onEnter:r,onLeave:o,color:"#4a4a4a",hoverTextColor:i,name:"Images",className:"additional-media-btn photo-btn",handleClick:t.handleClick,"data-cy":"tour-stop-media-box__images-btn","aria-label":"".concat(n.length," additional image").concat(n.length>1?"s":"",".")},d.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},"photo_size_select_actual"),"Images",d.a.createElement("span",{className:"media-count"},n.length))}}),Boolean(r.length)&&d.a.createElement(B.a,{render:function(e){var n=e.onEnter,o=e.onLeave,a=e.hovering;return d.a.createElement(rt,{onEnter:n,onLeave:o,hovering:a,color:"#4a4a4a",hoverTextColor:i,name:"Videos",className:"additional-media-btn video-btn",handleClick:t.handleClick,"data-cy":"tour-stop-media-box__videos-btn","aria-label":"".concat(r.length," additional videos").concat(r.length>1?"s":"",".")},d.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},"video_library"),"Videos",d.a.createElement("span",{className:"media-count"},r.length))}}))}}]),n}(h.Component)),ot=n(484),at=(n(393),n(1314),function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){var r;Object(s.a)(this,n),(r=e.call(this,t)).handleComponentUpdates=function(t){for(var e in r.state)if(r.state[e]!==t[e])return Boolean(e)},r.toggleMediaBox=function(t){var e=r.props,n=e.tourName,i=e.tourId,o=e.displayMiniMapButton,a=e.hideStopDescription,s=e.showStopDescription,l=r.state.minimized,c=t.target.name;r.setState(function(t){return{minimized:!t.minimized}},function(){var t;l?(t="Close",a()):(t="Open",s()),Object(T.a)("".concat(i,"-").concat(n),"Minimize Media",t)}),r.handleBoxToggleFocus(c),"function"===typeof o&&o(!l)},r.handleBoxToggleFocus=function(t){var e=r.props.togglePanoKeyboardControl;setTimeout(function(){var e="minimize"===t?"maximize":"minimize";r[e]&&r[e].focus()},500),e()},r.toggleGallery=function(t){var e=t.target.name;r.setState(},r.toggleTranscript=function(){var t=r.props,e=t.tourId,n=t.tourName;r.setState(function(t){return{showTranscript:!t.showTranscript}},function(){var t=r.state.showTranscript?"Open":"Close";Object(T.a)("".concat(e,"-").concat(n),"Audio Transcript",t),r.focusMinimizeBtn()})},r.focusMinimizeBtn=r.toggleActiveTab=function(t){r.setState({activeTab:t})},r.getMediaIndex=function(t){r.setState({activeMediaIndex:t})};var i=t.stopDescriptionMinimized,o=window.innerWidth<1025;return r.state={minimized:!!o&&i,showGallery:!1,showTranscript:!1,activeTab:"",activeMediaIndex:0},r}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(t,e){var n=this,r=this.state,i=r.showGallery,o=r.activeMediaIndex,a=r.activeTab,s=this.props,l=s.activeStop,c=s.tourId,u=s.tourName,h=s.stopImages,d=s.stopVideos;if(t.activeStop!==l&&this.setState({showTranscript:!1}),!e.showGallery&&i&&setTimeout(function(){return n.galleryHeader&&n.galleryHeader.focus()},250),e.activeMediaIndex!==o||e.activeTab!==a){var p=(("Images"===a?h:d)[o]||{}).name;p&&a&&Object(T.a)("".concat(c,"-").concat(u),"View Additional Media (".concat(a,")"),p)}}},{key:"shouldComponentUpdate",value:function(t,e){var n=this.props,r=n.activeStop,i=n.isMainMediaPlaying;return!(r===t.activeStop&&!this.handleComponentUpdates(e))||i!==t.isMainMediaPlaying}},{key:"render",value:function(){var t=this,e=this.state,n=e.activeTab,r=e.minimized,i=e.showGallery,o=e.showTranscript,a=this.props,s=a.autoPlayAudio,l=a.isMainMediaPlaying,c=a.panoId,u=a.primaryColor,h=a.stopAudio,p=a.stopDescription,f=a.stopImages,m=void 0===f?[]:f,v=a.stopName,g=a.stopVideos,y=a.toggleMainMediaStatus,b=a.tourId,x=a.tourName,w=a.aid,A=a.previewTour,E=p||h[0]&&h[0].transcript&&o,_=D()({"stop-desc ql-editor":E}),T=m.filter(,S=!T.length&&!g.length&&!h.length,M=!Boolean(p)&&S,C=D()({"stop-media-hidden":r,"stop-media-show":!0,"title-with-desc":p&&S,"title-with-media":!Boolean(p)&&!S,"title-with-desc-media":Boolean(p)&&!S,"title-with-all-media":!Boolean(p)&&h.length&&(m.length||g.length),"audio-transcription-shown":Boolean(h[0])&&o});return d.a.createElement(d.a.Fragment,null,r&&d.a.createElement(B.a,{render:function(e){var n=e.onEnter,r=e.onLeave,i=e.hovering;return d.a.createElement(F.a,{"aria-label":"Maximize additional content",backgroundColor:"#fff",className:"stop-media-hide tour-content",color:u,"data-cy":"tour-stop-media-box__maximize-btn",handleClick:t.toggleMediaBox,hovering:i,myRef:function(e){return t.maximize=e},name:"maximize",onEnter:n,onLeave:r},d.a.createElement("i",{className:"material-icons"},"info_outline"))}}),!M&&d.a.createElement("section",{className:C,"aria-label":"Additional tour content.",tabIndex:0},d.a.createElement(et,{showTranscript:o,toggleMediaBox:this.toggleMediaBox,primaryColor:u,ariaExpanded:!o&&Boolean(p),minimizeBtnRef:function(e){return t.minimize=e},hasDescription:Boolean(p)}),d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{tabIndex:0,className:_},!o&&Boolean(p)&&d.a.createElement("article",{id:"tour-stop-description","aria-label":"Tour stop description","data-cy":"tour-stop-description",dangerouslySetInnerHTML:{__html:p}}),o&&h[0]&&h[0].transcript&&d.a.createElement("article",{id:"focus-audio-transcript",className:"audio-transcript transcript-shown"},d.a.createElement("h4",null,"Audio Transcript"),d.a.createElement("p",null,h[0].transcript)))),Boolean(h&&h[0])&&d.a.createElement(ot.a,{autoPlay:s,tourId:b,aid:w,tourName:x,width:150,tracks:h,primaryColor:u,toggleTranscript:this.toggleTranscript,showTranscript:o,displayIcon:!0,toggleMainMediaStatus:y,isMainMediaPlaying:l,previewTour:A}),d.a.createElement(it,{stopImages:T,stopVideos:g,primaryColor:u,toggleGallery:this.toggleGallery,tourName:x,tourId:b,aid:w}),d.a.createElement(tt,{activeTab:"Images"===n?0:1,closeModal:this.toggleGallery,stopImages:T,stopVideos:g,primaryColor:u,stopName:v,isOpen:i,myRef:function(e){return t.galleryHeader=e},getMediaIndex:this.getMediaIndex,toggleActiveTab:this.toggleActiveTab})))}}]),n}(h.Component)),st=n(709),lt=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(t,e){var n=this;!t.isOpen&&this.props.isOpen&&setTimeout(250)}},{key:"render",value:function(){var t=this,e=this.props,n=e.shareUrl,r=e.closeModal,i=e.published,o=e.uptoDate,a=e.tourId,s=e.isOpen,l=e.tourName,c=e.history,u=e.aid;return d.a.createElement(q.a,{closeModal:r,className:"share",isOpen:s,shouldCloseOnOverlayClick:!0},d.a.createElement("div",{className:"modal",tabIndex:0,"aria-label":"share tour modal",ref:function(e){return t.shareModal=e}},d.a.createElement(st.a,{tourId:a,tourName:l,shareUrl:n,published:i,uptoDate:o,embed:!0,showPublishButton:!0,closeModal:r,history:c,aid:u})))}}]),n}(h.Component),ct=n(62),ut=n(593),ht=n(596);var dt=function(){document.addEventListener("keydown",,document.addEventListener("click",},pt=n(524),ft=n(502),mt=n(1315),vt=n.n(mt),gt=n(1316),yt=n.n(gt),bt=function(t){var e=t.primaryColor,n=t.openModal;return d.a.createElement(B.a,{render:function(t){var r=t.onEnter,i=t.onLeave,o=t.hovering;return d.a.createElement(F.a,{onEnter:r,onLeave:i,hovering:o,handleClick:n,className:"display-form-btn",color:"#fff",backgroundColor:e,"aria-label":"Open tour form",tooltip:{text:"form",node:".display-form-btn",position:"top"},tooltipClass:"form-tooltip"},d.a.createElement("img",{className:"form-icon",src:o?vt.a:yt.a,alt:"","aria-hidden":"true"}))}})},xt=n(652),wt=n(57),At=(n(1317),function(t){var e=t.name,n=t.description,r=t.renderIframe,i=t.closeModal,o=t.isOpen,a=t.classes;return d.a.createElement(q.a,{closeModal:i,isOpen:o,aria:{labelledby:"tour-editor-forms-container__right__name",describedby:"tour-editor-forms-container__right__description"},id:"".concat(Object(wt.e)()?"safari-form":"form-modal"),className:"form-modal",shouldCloseOnOverlayClick:!0},d.a.createElement(xt.a,{name:e,description:n,renderIframe:r,publicTour:!0,classes:a}))}),Et=(n(1318),n(37)),_t=["auxclick","click","contextmenu","dblclick","keydown","keyup","mousedown","mouseup","touchend"],Tt=window.webkitAudioContext,St=/iPhone|iPad|iPod/.test(navigator.userAgent)&&null!=Tt;var Mt=function(){if(St){var t,e,n,r="blocked",i="blocked",o=function(t){var e=new ArrayBuffer(10),n=new DataView(e);n.setUint32(0,t,!0),n.setUint32(4,t,!0),n.setUint16(8,1,!0);var r=window.btoa(String.fromCharCode.apply(String,Object(Et.a)(new Uint8Array(e)))).slice(0,13);return"data:audio/wav;base64,UklGRisAAABXQVZFZm10IBAAAAABAAEA".concat(r,"AgAZGF0YQcAAACAgICAgICAAAA=")}((new Tt).sampleRate);_t.forEach(function(t){window.addEventListener(t,a,{capture:!0,passive:!0})})}function a(a){"blocked"===r&&(r="pending",(t=document.createElement("audio")).setAttribute("x-webkit-airplay","deny"),t.preload="auto",t.loop=!0,t.src=o,t.load(),t.play().then(function(){r="blocked",t.pause(),t.removeAttribute("src"),t.load(),t=null})),"blocked"===i&&(i="pending",e=new Tt,(n=e.createBufferSource()).buffer=e.createBuffer(1,1,22050),n.connect(e.destination),n.start(),"running"===e.state?(i="allowed",s()):(i="blocked",n.disconnect(e.destination),n=null,e.close(),e=null))}function s(){"allowed"===r&&"allowed"===i&&_t.forEach(}},Ct=(n(1319),function(t){var e=t.popUpVideoId,n=t.videos[e];if(!n)return null;var r={__html:n.src};return d.a.createElement("div",{className:"welcome-video"},d.a.createElement("div",{className:"welcome-video__iframe-wrapper",dangerouslySetInnerHTML:r}))}),It=(n(1320),function(t){var e=t.closePopUp,n=t.description,r=t.myRef,i=t.name,o=t.setCustomStyles,a=t.popUpVideoId,s=t.enablePopUpVideo,l=t.videos,c=D()({"no-desc":!n});return d.a.createElement(d.a.Fragment,null,d.a.createElement("h1",{tabIndex:0,className:"tour-name ".concat(c)},i),(n||s)&&d.a.createElement("div",{className:"welcome__content-wrapper"},(null===n||void 0===n?void 0:n.replace(/<(.|\n)*?>/g,"").trim())?d.a.createElement("div",{tabIndex:0,className:"tour-desc",dangerouslySetInnerHTML:{__html:n}}):d.a.createElement("h4",{className:"step-secondary-title"},"Take a look around to see what Tour Builder can do"),s&&d.a.createElement(Ct,{popUpVideoId:a,videos:l})),d.a.createElement(W.a,{className:"start-tour",name:"startTour",handleClick:e,myRef:r,style:o(),"data-cy":"start-tour"},d.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},"check_circle"),"\xa0 Start the tour!"))});var kt=n(302),Rt=(n(1321),function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(s.a)(this,n),(t=e.call(this)).setCustomStyles=function(){var e=t.props.tour.styles.primaryColor;if(e)return{backgroundColor:"#f8f8f8",color:e}},t.closePopUp=function(){t.setState({show:!1})},t.state={activeIndex:0,show:!0,restart:!1,activeElement:null},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this.state.show,e=document.getElementById("scene");e&&(e.style.position="unset"),t&&document.addEventListener("keydown",this.handleEscapeKey)}},{key:"render",value:function(){var t=this.props,e=t.videos,n=t.tier,r=t.tour,i=r.name,o=r.description,a=r.enablePopUpVideo,s=r.popUpVideoId,l=r.styles.primaryColor;return this.state.show?d.a.createElement("div",{id:"welcome-modal",className:"welcome-modal"},d.a.createElement("section",{className:"welcome-modal-content",style:{backgroundColor:Object(kt.a)(l)||"rgba(0, 0, 0, 0.6)",marginBottom:"starter"===n&&85},"aria-label":"Welcome modal"},d.a.createElement(It,{closePopUp:this.closePopUp,description:o,enablePopUpVideo:a,name:i,popUpVideoId:s,restart:this.restart,setCustomStyles:this.setCustomStyles,videos:e}))):null}}]),n}(h.Component)),Lt=["number"],Ot=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).fetchPreviewData=function(){var t=r.props,e=t.tourId,n=t.previewTour,i=t.getTour,o=t.getStopsByTour;n&&!r.state.previewDataFetched&&(r.setState({previewDataFetched:!0}),i(e),o(e))},r.setFormStates=function(t){r.setState(Object(a.a)({},t))},r.setDocumentTitle=function(t){document.title=t},r.toggleC3DDescription=function(){r.setState(function(t){return{viewC3DDescription:!t.viewC3DDescription}})},r.handleOrientationSwap=r.setYPosition=function(t){var e=r.props.previewTour,n=function(t){return e&&0===t?48:t};if(!isNaN(t))return r.setState({yPosition:n(t)}),null;var i=r.state.yPosition<=window.innerHeight/2?window.innerHeight:n(0);r.setState({yPosition:i})},r.setRestPosition=function(t){r.setState({restPosition:t})},r.changeStop=function(t){var e=t.stopNum,n=t.stopName,i=t.origin,o=t.defaultPos,a=t.stopId,s=r.props,l=s.tours,c=s.tourId,u=s.history,h=s.baseUrl,d=l[c],p=l[c].stopIds.length,f=e;a&&(f=d.tourStops.map(function(t){return t.id}).indexOf(a)),f===p?f=0:e<0&&(f=p-1);var m="".concat(h,"/").concat(f+1);if(m===u.location.pathname)return!1;u.push({pathname:m,state:{stopName:n,origin:i,defaultPos:o,number:f}})},r.updateStopNumber=function(t){var e=t.number,n=t.stopName,i=t.origin,o=t.defaultPos,a=void 0===o?0:o,s=r.props,l=s.history,c=s.baseUrl,u=s.stops,h=s.tours,d=s.tourId,p=h[d].name,f=h[d].stopIds,m="".concat(c,"/").concat(e+1);r.setState({index:e,radarPos:a},function(){var t=f.map(function(t){return u[t]}).find(.name;n=n||t,i&&(Object(T.a)("".concat(d,"-").concat(p),"Stop ".concat(i),n),Object(T.a)("".concat(d,"-").concat(p),"View Tour Stop",n),Object(T.c)(m)),l.location.pathname!==m&&l.push(m)})},r.toggleShareModal=function(){var t=r.props,e=t.baseUrl,n=t.tours,i=t.tourId,o=r.state.index,a=n[i].name;r.setState(function(t){return{showShare:!t.showShare}},function(){r.state.showShare&&Object(T.a)("".concat(i,"-").concat(a),"Share Tour","".concat(e,"/").concat(o+1))})},r.checkLogoURL=function(){var t=r.props,e=t.tours[t.tourId].styles.logoURL;return e&&e.includes("http")?e:"https://".concat(e)},r.getPanoRotation=function(t,e){if("rotation"===t.detail.name){var n=e.getAttribute("rotation").y;n!==r.state.radarPos&&r.setState({radarPos:n})}},r.hideCookieBanner=function(){Object(ht.c)("_acceptedCookiesPolicy",!0,365),r.setState({showCookieBanner:!1})},r.togglePanoKeyboardControl=function(){r.setState(function(t){return{panoHasKeyboardControl:!t.panoHasKeyboardControl}})},r.toggleStartButton=function(t){r.state.showCookieBanner&&t?t.setAttribute("disabled","disabled"):t.removeAttribute("disabled")},r.renderIframe=function(){var t=r.props,e=t.tours[t.tourId],n=Object.keys(e.forms)[0];return{__html:e.forms[n].formEmbedCode}},r.toggleFormDisplay=function(){var t=r.props,e=t.tours,n=t.tourId,i=r.state,o=i.index,a=i.shouldShowForm,s=e[n],l=r.getTourStops()[o];Object(T.a)("".concat(n,"-").concat(s.name),"".concat(a?"Form Closed":"Form Button"),l.name),r.setState({shouldShowForm:!a})},r.togglePanoControls=function(t){var e=r.state.panoControlsDismissed;t||r.setState({panoControlsDismissed:!0}),e||r.setState({showPanoControls:t})},r.getTourStops=function(){var t=r.props,e=t.tours,n=t.tourId,i=t.stops,o=t.previewTour,a=e[n],s=[];return a&&(s=o?a.stopIds.map(function(t){return i[t]}):a.tourStops),s},r.state={index:t.activeStop-1,viewC3DDescription:!1,showShare:!1,radarPos:null,showCookieBanner:!1,yPosition:window.innerHeight,restPosition:!1,innerWidth:window.innerWidth,panoHasKeyboardControl:!0,shouldShowForm:!1,repeatFormDisplay:!1,displayOnStopId:"",hasShownForm:!1,formDisplayed:!1,formId:"",showPanoControls:!1,panoControlsDismissed:!1,previewExitPath:"/home",previewDataFetched:!1},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t,e=this,n=this.props,r=n.tours,i=n.tourId,o=n.publicTour,a=n.fetchPublicTour,s=n.switchMapView,l=n.history.location,c=n.previewTour,u=void 0===c||c,h=r[i];if(this.fetchPreviewData(),u&&(null===l||void 0===l?void 0:null===(t=l.state)||void 0===t?void 0:t.previewExitPath)&&this.setState({previewExitPath:l.state.previewExitPath}),Mt(),Object(wt.e)()&&Object(wt.d)()&&window.addEventListener("resize",this.handleOrientationSwap),o&&!h)try{a(i)}catch(d){console.log(d)}null===f.a.parse(l.search).mv&&s({miniMapView:"pano"}),o&&(dt(),window.addEventListener("keyup",function(){return e.togglePanoControls(!0)}))}},{key:"componentDidUpdate",value:function(t,e){var n=this,r=this.props,i=r.stops,s=r.tours,l=r.tourId,c=r.publicTour,u=r.miniMapView,h=r.gaId,d=r.previewTour,p=r.history,f=r.activeStop,m=r.aid,v=this.state,g=v.index,y=v.showCookieBanner,b=v.displayOnStopId,x=v.repeatFormDisplay,w=v.formDisplayed,E=v.shouldShowForm,_=v.hasShownForm;this.fetchPreviewData();var S=s[l],M=this.getTourStops()[g],C=document.querySelector(".start-tour"),I=S&&Object.keys(S.forms||{}).length>0,k=document.querySelector("#tutorial-modal");if(t.activeStop!==f){var R,L=(null===p||void 0===p?void 0:null===(R=p.location)||void 0===R?void 0:R.state)||{},O=L.number,D=Object(o.a)(L,Lt);this.updateStopNumber(Object(a.a)({number:O||f-1},D))}if(c&&!t.tours[l]&&S&&(this.setDocumentTitle(S.name),Object(T.b)(h,m,l),S.cookieEnabled&&""===Object(ht.b)("_acceptedCookiesPolicy")&&this.setState({showCookieBanner:!0}),Object(T.a)("".concat(l,"-").concat(S.name),"View Tour",M.name)),d||c||S||this.props.history.push({pathname:"/error/404",state:{errorType:"tour"}}),u!==t.miniMapView&&S){var P=i[s[l].stopIds[g]],B=P.lng,F=P.lat;A.a.getMap().panTo([B,F],{duration:1e3,animate:!0})}if(y!==e.showCookieBanner&&C&&this.toggleStartButton(C),I){var N=Object.keys(S.forms)[0];if(e.formId!==N){var U=S.forms[N],j=U.formDisplayed,z=U.repeatFormDisplay,G=U.displayOnStopId;this.setFormStates({formDisplayed:j,formId:N,repeatFormDisplay:z,displayOnStopId:G})}}(null===M||void 0===M?void 0:M.id)!==b||!x||E||_||!w||y||!d||k||(this.singleFormDisplayTimer=setTimeout(function(){n.setState({shouldShowForm:!0,hasShownForm:!0})},1500)),!w||x||(null===M||void 0===M?void 0:M.id)!==b||_||y||k||(this.repeatFormDisplayTimer=setTimeout(function(){n.setState({shouldShowForm:!0,hasShownForm:!0})},1500)),w&&x&&(null===M||void 0===M?void 0:M.id)!==b&&_&&this.setState({shouldShowForm:!1,hasShownForm:!1}),e.shouldShowForm!==E&&e.hasShownForm!==_&&Object(T.a)("".concat(l,"-").concat(S.name),"Form Auto-Open",M.name),!t.tours[t.tourId]&&S&&Object(T.a)("".concat(l,"-").concat(S.name),"View Tour Stop",M.name)}},{key:"shouldComponentUpdate",value:function(t,e){return!!Object.keys(t.tours).length}},{key:"componentWillUnmount",value:function(){var t=this.props,e=t.miniMapView,n=t.switchMapView;"pano"===e&&n({miniMapView:"map"}),Object(wt.e)()&&Object(wt.d)()&&window.removeEventListener("resize",this.handleOrientationSwap),window.removeEventListener("keyup",this.togglePanoControls),this.clearComponentTimeout("repeatFormDisplayTimer"),this.clearComponentTimeout("singleFormDisplayTimer")}},{key:"clearComponentTimeout",value:,{key:"render",value:function(){var t=this.state,e=t.index,n=t.panoHasKeyboardControl,r=t.radarPos,i=t.restPosition,o=t.shouldShowForm,a=t.showCookieBanner,s=t.showShare,l=t.viewC3DDescription,c=t.yPosition,u=t.showPanoControls,h=t.previewExitPath,p=this.props,f=p.active,m=p.audio,v=p.hideStopDescription,g=p.history,y=p.images,b=p.isMainMediaPlaying,x=p.location,w=p.mapboxToken,A=p.miniMapView,E=p.panos,_=p.publicTour,T=p.showStopDescription,S=p.stopDescriptionMinimized,M=p.stops,C=p.switchMapView,I=p.tier,k=p.toggleMainMediaStatus,R=p.tourId,O=p.aid,P=p.tours,B=p.videos,F=p.previewTour,U=P[R];if(!U)return null;var j=this.getTourStops(),z="starter"===I&&_?"starter":"",V=j[e],H=U&&Object.keys(U.forms||{}).length>0&&Object.keys(U.forms),Z=U&&U.forms&&U.forms[H];if(!f)return d.a.createElement(ut.a,{hideBackButton:!0});var Y=d.a.createElement(lt,{key:"share-modal",shareUrl:"".concat(window.location.origin,"/share/").concat(R,"/stop/").concat(e+1),embed:!0,closeModal:this.toggleShareModal,tourId:R,tourName:U&&U.name,published:!0,uptoDate:!!_||U&&U.uptoDate,isOpen:s,history:g,aid:O}),q=D()({public:_,minimap:"map"===A});return d.a.createElement("div",{id:"view-wrapper",className:q},U&&d.a.createElement(d.a.Fragment,null,_&&a&&d.a.createElement(Q,{hideCookieBanner:this.hideCookieBanner}),d.a.createElement(Rt,{tour:U,tier:I,videos:B}),d.a.createElement(ct.a,{faviconId:U.styles.faviconId}),d.a.createElement(L,{key:"main-media",history:this.props.history,miniMapView:A,tourStops:j,currentTour:U,currentStop:V,activeStop:e,tier:I,publicTour:_,checkLogoURL:this.checkLogoURL,toggleShareModal:this.toggleShareModal,switchMapView:C,changeStop:this.changeStop,allStops:M,getPanoRotation:this.getPanoRotation,radarPos:r,path:x.pathname,mapToken:w,setYPosition:this.setYPosition,images:y,panos:E,panoHasKeyboardControl:n,stopDescriptionMinimized:S,toggleMainMediaStatus:k,isMainMediaPlaying:b,showPanoControls:u,togglePanoControls:this.togglePanoControls,aid:O,previewTour:F}),F&&d.a.createElement(W.a,{className:"preview-exit-btn",handleClick:function(){return g.push(h)}},"Exit Preview"),Z&&Z.formDisplayed&&d.a.createElement(bt,{primaryColor:U.styles.primaryColor,openModal:this.toggleFormDisplay}),Z&&d.a.createElement(At,{name:Z.formName,description:Z.formDescription,renderIframe:this.renderIframe,isOpen:o,closeModal:this.toggleFormDisplay,classes:"tour-forms-container__public-tour",publicTour:!0}),d.a.createElement("div",{className:"pano-info-wrapper ".concat(z)},!1!==U.showMiniMap&&d.a.createElement(K,{tourId:R,aid:O,tourName:U.name,tourPublished:U.published,allStops:M,stops:j,panos:E,activeStop:e,changeStop:this.changeStop,switchMapView:C,miniMapView:A,mainMediaType:null===V||void 0===V?void 0:V.mainMediaType,primaryColor:U.styles.primaryColor,tourData:U,checkLogoURL:this.checkLogoURL,closeShareModal:this.toggleShareModal,radarPos:r,getPanoRotation:this.getPanoRotation,path:x.pathname,mapToken:w}),d.a.createElement(N,{thumbnailList:j,activeStop:e,handleChange:this.changeStop,tourStops:j,miniMapView:A,handleTranslateDrawer:this.handleTranslateDrawer,setYPosition:this.setYPosition,tourName:U.name,tier:I,restPosition:i,primaryColor:U.styles.primaryColor}),d.a.createElement(at,{activeStop:e,autoPlayAudio:null===V||void 0===V?void 0:V.autoPlayAudio,hideStopDescription:v,isMainMediaPlaying:b,panoId:null===V||void 0===V?void 0:V.panoId,primaryColor:U.styles.primaryColor,showStopDescription:T,stopAudio:null===V||void 0===V?void 0:V.audio.map(function(t){return m[t]}),stopDescription:null===V||void 0===V?void 0:V.description,stopDescriptionMinimized:S,stopImages:null===V||void 0===V?void 0:V.images.map(function(t){return y[t]}),stopName:null===V||void 0===V?void 0:V.name,stopVideos:null===V||void 0===V?void 0:V.videos.map(function(t){return B[t]}),toggleMainMediaStatus:k,togglePanoKeyboardControl:this.togglePanoKeyboardControl,tourId:R,tourName:U.name,aid:O,previewTour:F}),d.a.createElement(G,{tourStops:j,toggleC3Dbtn:"map"===A,tier:I,publicTour:_})),d.a.createElement(pt.a,{primaryColor:U&&U.styles.primaryColor,yPosition:c,setYPosition:this.setYPosition,tourStops:j,activeStop:e,starter:z,setRestPosition:this.setRestPosition,restPosition:i},d.a.createElement(ft.a,{tourName:U.name,tourDescription:U.description,tourStops:j,activeStop:e,gaEvent:this.changeStop,yPosition:c,restPosition:i,setYPosition:this.setYPosition,tourId:R,aid:O})),Y,d.a.createElement(J,{tier:I,publicTour:_,tours:P,tourId:R,aid:O,toggleC3DDescription:this.toggleC3DDescription,viewC3DDescription:l})))}}]),n}(h.Component),Dt=function(t){var e=t.miniMapView,n=t.id,r=t.name;return n&&r&&Object(T.a)("".concat(n,"-").concat(r),"Switch Tour View",e),{type:"SWITCH_MAP_VIEW",show:e}},Pt=n(197),Bt=n(218),Ft=n(162),Nt=n(174),Ut=n(158);e.default=Object(r.c)(function(t){if(t.userCredentials.email)return{tours:t.tours.tours,stops:t.stops.stops,images:t.media.images,videos:t.media.videos,videos360:t.media.videos360,audio:t.media.audio,panos:t.media.panos,miniMapView:t.miniMap.show,tier:t.account.tier,active:t.account.active,mapboxToken:t.account.mapboxToken,stopDescriptionMinimized:t.tourData.stopDescriptionMinimized,isMainMediaPlaying:t.media.isMainMediaPlaying};var e=t.publicTour,n=e.aid,r=e.tours,i=e.panos,o=e.images,a=e.videos,s=e.audio,l=e.stops,c=e.tier,u=e.active,h=e.gaId,d=e.mapboxToken;return r?{aid:n,tours:r,panos:i,images:o,videos:a,audio:s,stops:l,tier:c,mapboxToken:d,miniMapView:t.miniMap.show,active:u,gaId:h,stopDescriptionMinimized:t.tourData.stopDescriptionMinimized,isMainMediaPlaying:t.media.isMainMediaPlaying}:{aid:n,tours:{},panos:{},stops:{},images:{},videos:{},audio:{},tier:{},miniMapView:t.miniMap.show,active:!0,stopDescriptionMinimized:t.tourData.stopDescriptionMinimized,isMainMediaPlaying:t.media.isMainMediaPlaying}},function(t){return Object(i.b)({switchMapView:Dt,fetchPublicTour:Pt.a,hideStopDescription:Bt.c,showStopDescription:Bt.h,toggleMainMediaStatus:Ft.e,getStopsByTour:Nt.b,getTour:Ut.d},t)})(Ot)},155:function(t,e,n){"use strict";n.d(e,"j",function(){return r}),n.d(e,"h",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"n",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"m",function(){return l}),n.d(e,"i",function(){return c}),n.d(e,"o",function(){return u}),n.d(e,"d",function(){return h}),n.d(e,"e",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"b",function(){return f}),n.d(e,"g",function(){return m}),n.d(e,"l",function(){return v}),n.d(e,"c",function(){return g});var r="panos",i="images",o="icons",a="videos",s="audio",l="text",c="logo",u="videos360",h="https://s3-us-west-2.amazonaws.com/images-mb01-resized/SJvNC13nz/index.html",d=20,p={manageTours:"manageTours",manageUsers:"manageUsers",deleteAccount:"deleteAccount",publishTours:"publishTours"},f="https://res.cloudinary.com/concept3d/video/upload/vc_auto/audio_files/",m="us-west-2:8d221ae4-c54f-4155-9f62-af5b0015bc0a",v="xplorertourmedia",g="https://res.cloudinary.com/concept3d"},157:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return l});var r,i=n(232),o=n(6),a=function(t,e,n){r?i.a.event({category:t,action:e,label:n},["client"]):i.a.event({category:t,action:e,label:n})},s=function(t){r?i.a.pageview(t,["client"]):i.a.pageview(t)},l=function(t,e,n){t?(r=t,i.a.initialize([{trackingId:o.a.defaultGaAccount,gaOptions:{cookieFlags:"secure;samesite=none"},titleCase:!1},{trackingId:r,gaOptions:{name:"client",cookieFlags:"secure;samesite=none"},titleCase:!1}])):i.a.initialize([{trackingId:o.a.defaultGaAccount,gaOptions:{cookieFlags:"secure;samesite=none"},titleCase:!1}]),i.a.set({dimension1:e,dimension2:n}),s(window.location.pathname),i.a.set({anonymizeIp:!0})}},158:function(t,e,n){"use strict";var r=n(2),i=n.n(r),o=n(3),a=n(6),s=n(7),l=n(25),c=function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r,o,c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.aid,r=void 0===n?localStorage.getItem("aid"):n,o=Object(s.a)(),t.prev=2,t.next=5,fetch("".concat(a.a.tourAPI,"/v2/").concat(r,"/tours"),{headers:o,credentials:"include"});case 5:return c=t.sent,t.next=8,Object(l.a)(c);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(s.a)(),r=localStorage.getItem("aid"),t.prev=2,t.next=5,fetch("".concat(a.a.tourAPI,"/v2/").concat(r,"/tours/").concat(e),{headers:n,credentials:"include"});case 5:return o=t.sent,t.next=8,Object(l.a)(o);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(s.a)(),r=localStorage.getItem("aid"),t.prev=2,t.next=5,fetch("".concat(a.a.tourAPI,"/v2/").concat(r,"/tours"),{method:"POST",headers:n,body:JSON.stringify(e),credentials:"include"});case 5:return o=t.sent,t.next=8,Object(l.a)(o);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(s.a)(),r=localStorage.getItem("aid"),t.prev=2,t.next=5,fetch("".concat(a.a.tourAPI,"/v2/").concat(r,"/tours/").concat(e.id),{method:"PUT",headers:n,body:JSON.stringify(e),credentials:"include"});case 5:return o=t.sent,t.next=8,Object(l.a)(o);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(s.a)(),r=localStorage.getItem("aid"),t.prev=2,t.next=5,fetch("".concat(a.a.tourAPI,"/v2/").concat(r,"/tours/").concat(e),{method:"DELETE",headers:n,credentials:"include"});case 5:return o=t.sent,t.next=8,Object(l.a)(o);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(o.a)(i.a.mark(function t(e,n){var r,o,c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(s.a)(),o=localStorage.getItem("aid"),t.prev=2,t.next=5,fetch("".concat(a.a.tourAPI,"/v2/").concat(o,"/tours/").concat(e,"/stops"),{method:"DELETE",headers:r,body:JSON.stringify(n),credentials:"include"});case 5:return c=t.sent,t.next=8,Object(l.a)(c);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e,n){return t.apply(this,arguments)}}(),m=function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("aid"),r=Object(s.a)(),t.next=4,fetch("".concat(a.a.tourAPI,"/v2/").concat(n,"/tours/").concat(e,"/unpublish"),{method:"POST",headers:r,credentials:"include"});case 4:return o=t.sent,t.next=7,Object(l.a)(o);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),v=n(36),g=n(174);n.d(e,"e",function(){return y}),n.d(e,"d",function(){return b}),n.d(e,"f",function(){return x}),n.d(e,"m",function(){return w}),n.d(e,"b",function(){return A}),n.d(e,"c",function(){return E}),n.d(e,"g",function(){return _}),n.d(e,"l",function(){return T}),n.d(e,"h",function(){return M}),n.d(e,"k",function(){return I}),n.d(e,"i",function(){return k}),n.d(e,"j",function(){return R}),n.d(e,"a",function(){return L});var y=function(t,e){return function(){var n=Object(o.a)(i.a.mark(function n(r,o){return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(I()),n.prev=1,e&&r(S()),n.next=5,c({aid:t});case 5:n.sent.forEach(function(t){return r(M(t))}),r(k()),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),r(R(n.t0.message||"Something went wrong fetching tours."));case 13:case"end":return n.stop()}},n,null,[[1,10]])}));return function(t,e){return n.apply(this,arguments)}}()},b=function(t){return function(){var e=Object(o.a)(i.a.mark(function e(n,r){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(I()),e.prev=1,e.next=4,u(t);case 4:o=e.sent,n(M(o)),n(k()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(R(e.t0.message||"Something went wrong fetching the tour."));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}()},x=function(t,e){return function(){var n=Object(o.a)(i.a.mark(function n(r,o){var a;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(I()),n.prev=1,n.next=4,h(t);case 4:a=n.sent,Object(v.b)(function(){r(M(a)),r(k())}),"function"===typeof e&&e(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r(R(n.t0.message||"Something went wrong saving the tour."));case 12:case"end":return n.stop()}},n,null,[[1,9]])}));return function(t,e){return n.apply(this,arguments)}}()},w=function(t){return function(){var e=Object(o.a)(i.a.mark(function e(n,r){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(I()),e.prev=1,e.next=4,d(t);case 4:o=e.sent,Object(v.b)(function(){n(M(o)),n(k())}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),n(R(e.t0.message||"Something went wrong saving the tour."));case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t,n){return e.apply(this,arguments)}}()},A=function(t){return function(){var e=Object(o.a)(i.a.mark(function e(n,r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(I()),e.prev=1,e.next=4,p(t);case 4:n(C(t)),n(k()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n(R(e.t0.message||"Something went wrong deleting the tour."));case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t,n){return e.apply(this,arguments)}}()},E=function(t,e){return function(){var n=Object(o.a)(i.a.mark(function n(r,o){var a;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(I()),n.prev=1,n.next=4,f(t,e);case 4:a=n.sent,Object(v.b)(function(){r(M(a)),r(k())}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r(R(n.t0.message||"Something went wrong deleting stops."));case 11:case"end":return n.stop()}},n,null,[[1,8]])}));return function(t,e){return n.apply(this,arguments)}}()},_=function(t,e){return function(){var n=Object(o.a)(i.a.mark(function n(r,o){var a,s,l,c;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m(t);case 3:a=n.sent,s=a.tour,l=a.stops,c=void 0===l?[]:l,r(M(s)),c.forEach(,n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),console.error(n.t0),r(R(n.t0.message||"Something went wrong reverting the tour."));case 15:return n.prev=15,"function"===typeof e&&e(),n.finish(15);case 18:case"end":return n.stop()}},n,null,[[0,11,15,18]])}));return function(t,e){return n.apply(this,arguments)}}()},T=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ,S=function(){return{type:"CLEAR_TOURS"}},M=function(t){return{type:"SAVE_TOUR",tour:t}},C=function(t){return{type:"DELETE_TOUR",tourId:t}},I=function(){return{type:"TOURS_STATUS",status:"saving",errorMessage:""}},k=function(){return{type:"TOURS_STATUS",status:"ok",errorMessage:""}},R=function(t){return{type:"TOURS_STATUS",status:"error",errorMessage:t}},L=function(t,e){return{type:"ADD_STOP_TO_TOUR",tourId:t,stopId:e}}},159:function(t,n,r){(function(n){var i,o=r(352),a=r(2);t.exports={1:[function(t,e,n){var r=Object.prototype.toString;e.exports=function(t){return t.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===r.call(t.buffer)||Array.isArray(t)}},{}],2:[function(t,e,n){e.exports=function(t,e){return"number"===typeof t?t:"number"===typeof e?e:0}},{}],3:[function(t,e,n){"use strict";n.byteLength=n.toByteArray=n.fromByteArray=for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;"-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],4:[function(t,e,n){"use strict";e.exports={createLink:function(t,e){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("link");for(var i in r.href=t,r.rel="stylesheet",e)if(e.hasOwnProperty(i)){var o=e[i];r.setAttribute("data-"+i,o)}n.appendChild(r)},createStyle:function(t,e){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");for(var i in r.type="text/css",e)if(e.hasOwnProperty(i)){var o=e[i];r.setAttribute("data-"+i,o)}r.sheet?(r.innerHTML=t,r.sheet.cssText=t,n.appendChild(r)):r.styleSheet?(n.appendChild(r),r.styleSheet.cssText=t):(r.appendChild(document.createTextNode(t)),n.appendChild(r))}}},{}],5:[function(t,e,n){var r=t("buffer").Buffer;e.exports=function(t,e){if(r.isBuffer(t)&&r.isBuffer(e)){if("function"===typeof t.equals)return t.equals(e);if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}}},{buffer:6}],6:[function(t,r,i){(function(n,r){"use strict";var o=t("base64-js"),a=t("ieee754"),s=t("isarray");ction u(t,e,n,i){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?t,e,n,i):"string"===typeof e?t,e,n):t,e)}ion v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r},i.SlowBuffer=i.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:),i.kMaxLength=l(),r.poolSize=8192,r._augment=r.from=r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=r.allocUnsafe=function(t){return d(null,t)},r.allocUnsafeSlow=r.isBuffer=r.compare=r.isEncoding=r.concat=r.byteLength=m,r.prototype._isBuffer=!0,r.prototype.swap16=r.prototype.swap32=r.prototype.swap64=r.prototype.toString=r.prototype.equals=r.prototype.inspect=r.prototype.compare=r.prototype.includes=r.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},r.prototype.lastIndexOf=r.prototype.write=r.prototype.toJSON=var M=4096;F(t,e,n,r,i){return i||B(t,0,n,4),a.write(t,e,n,r,23,4),n+4}.prototype.slice=r.prototype.readUIntLE=r.prototype.readUIntBE=r.prototype.readUInt8=r.prototype.readUInt16LE=r.prototype.readUInt16BE=r.prototype.readUInt32LE=r.prototype.readUInt32BE=r.prototype.readIntLE=r.prototype.readIntBE=r.prototype.readInt8=r.prototype.readInt16LE=r.prototype.readInt16BE=r.prototype.readInt32LE=r.prototype.readInt32BE=r.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),a.read(this,t,!0,23,4)},r.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),a.read(this,t,!1,23,4)},r.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),a.read(this,t,!0,52,8)},r.prototype.readDoubleBE=r.prototype.writeUIntLE=r.prototype.writeUIntBE=r.prototype.writeUInt8=r.prototype.writeUInt16LE=r.prototype.writeUInt16BE=r.prototype.writeUInt32LE=r.prototype.writeUInt32BE=r.prototype.writeIntLE=r.prototype.writeIntBE=r.prototype.writeInt8=r.prototype.writeInt16LE=r.prototype.writeInt16BE=r.prototype.writeInt32LE=r.prototype.writeInt32BE=r.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},r.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},r.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},r.prototype.writeDoubleBE=r.prototype.copy=r.prototype.fill=var U=/[^+\/0-9A-Za-z-_]/g;call(this,"undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},t("buffer").Buffer)},{"base64-js":3,buffer:6,ieee754:29,isarray:35}],7:[function(t,n,r){!)},{}],8:[function(t,n,r){r=n.exports=t("./debug")).log=r.formatArgs=function(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" "),!e)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var r=0,i=0;return t[0].replace(/%[a-z%]/g,,t.splice(i,0,n),t},r.save=r.load=i,r.useColors=r.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(t){return JSON.stringify(t)},r.enable(i())},{"./debug":9}],9:[function(t,e,n){(n=e.exports=function(t){function e(){}function i(){var t=i;null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=n.colors[r++%n.colors.length]);var e=Array.prototype.slice.call(arguments);e[0]=n.coerce(e[0]),"string"!==typeof e[0]&&(e=["%o"].concat(e));var o=0;e[0]=e[0].replace(/%([a-z%])/g,,"function"===typeof n.formatArgs&&(e=n.formatArgs.apply(t,e));var a=i.log||n.log||console.log.bind(console);a.apply(t,e)}e.enabled=!1,i.enabled=!0;var o=n.enabled(t)?i:e;return o.namespace=t,o}).coerce=n.disable=function(){n.enable("")},n.enable=n.enabled=n.names=[],n.skips=[],n.formatters={};var r=0},{}],10:[function(t,e,n){"use strict";var r=t("is-obj"),i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;exports=function(t){t=function(t){if(null===t||void 0===t)throw new TypeError("Sources cannot be null or undefined");return Object(t)}(t);for(var e=1;e<arguments.length;e++)s(t,arguments[e]);return t}},{"is-obj":34}],11:[{"object-keys":41}],12:[function(t,n,r){!function(t,n,r,i){"use strict";tion c(t){var e=t.currentTarget,n=t.attrChange,r=t.attrName,i=t.target;mt&&(!i||i===e)&&e.attributeChangedCallback&&"style"!==r&&t.prevValue!==t.newValue&&e.attributeChangedCallback(r,n===t[M]?null:t.prevValue,n===t[I]?null:t.newValue)}ion m(t,e){var n,r=s(t);-1<r&&(w(t,N[r]),r=0,e!==_||t[_]?e===T&&!t[T]&&(t[_]=!1,t[T]=!0,r=1):(t[T]=!1,t[_]=!0,r=1,et&&z.call(rt,t)<0&&rt.push(t)),r&&(n=t[e+"Callback"])&&n.call(t))}if(!(i in n)){var v,g,y,b,x,w,A,E="__"+i+(1e5*Math.random()>>0),_="attached",T="detached",S="extends",M="ADDITION",C="MODIFICATION",I="REMOVAL",k="DOMAttrModified",R="DOMContentLoaded",L="DOMSubtreeModified",O="<",D="=",P=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,B=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],F=[],N=[],U="",j=n.documentElement,z=F.indexOf||G=r.prototype,V=G.hasOwnProperty,H=G.isPrototypeOf,W=r.defineProperty,J=r.getOwnPropertyDescriptor,Z=r.getOwnPropertyNames,Y=r.getPrototypeOf,K=r.setPrototypeOf,Q=!!r.__proto__,q=r.create||X=K||(Q?function(t,e){return t.__proto__=e,t}:Z&&J?):function(t,e){for(var n in e)t[n]=e[n];return t}),$=t.MutationObserver||t.WebKitMutationObserver,tt=(t.HTMLElement||t.Element||t.Node).prototype,et=!H.call(tt,j),nt=et?function(t){return 1===t.nodeType}:function(t){return H.call(tt,t)},rt=et&&[],it=tt.cloneNode,ot=tt.getAttribute,at=tt.setAttribute,st=tt.removeAttribute,lt=n.createElement,ct=$&&{attributes:!0,characterData:!0,attributeOldValue:!0},ut=$||ht=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,10)},dt=!1,pt=!0,ft=!0,mt=!0;K||Q?(w=A=p):A=w=et?(pt=!1,function(){var t=J(tt,"addEventListener"),n=t.value,r=function(t){var e=new CustomEvent(k,{bubbles:!0});e.attrName=t,e.prevValue=ot.call(this,t),e.newValue=null,e[I]=e.attrChange=2,st.call(this,t),this.dispatchEvent(e)},i=function(t,n){var r=this.hasAttribute(t),i=r&&ot.call(this,t);e=new CustomEvent(k,{bubbles:!0}),at.call(this,t,n),e.attrName=t,e.prevValue=r?i:null,e.newValue=n,r?e[C]=e.attrChange=1:e[M]=e.attrChange=0,this.dispatchEvent(e)},o=t.value=W(tt,"addEventListener",t)}()):$||(j.addEventListener(k,ut),j.setAttribute(E,1),j.removeAttribute(E),pt&&(g=y=b=),n[i]=function(t,e){if(r=t.toUpperCase(),dt||(dt=!0,$?(x=a(_),a(T))).observe(n,{childList:!0,subtree:!0}):(v=[],ht(,n.addEventListener("DOMNodeInserted",u(_)),n.addEventListener("DOMNodeRemoved",u(T))),n.addEventListener(R,h),n.addEventListener("readystatechange",h),n.createElement=tt.cloneNode=,-2<z.call(F,D+r)+z.call(F,O+r)&&f(t),!P.test(r)||-1<z.call(B,r))throw new Error("The type "+t+" is invalid");var r,i,c=d=e||G,p=V.call(d,S),m=p?e[S].toUpperCase():r;return p&&-1<z.call(F,O+m)&&f(m),i=F.push((p?D:O)+r)-1,U=U.concat(U.length?",":"",p?m+'[is="'+t.toLowerCase()+'"]':m),c.prototype=N[i]=V.call(d,"prototype")?d.prototype:q(tt),o(n.querySelectorAll(U),_),c}}}(window,document,Object,"registerElement")},{}],13:[function(t,e,n){e.exports=,{}],14:[function(t,e,n){"use strict";var r=Object.getOwnPropertyDescriptor?):i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator,o=Object.getPrototypeOf||function(t){return t.__proto__},a=void 0,s="undefined"===typeof Uint8Array?void 0:o(Uint8Array),l={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":i?o([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":a&&i&&Symbol.asyncIterator?a[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"===typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"===typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"===typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"===typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"===typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"===typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"===typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"===typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"===typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"===typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"===typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"===typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"===typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":i?o(o([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"===typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!==typeof Map&&i?o((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"===typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"===typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"===typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"===typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"===typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"===typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"===typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"===typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"===typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"===typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!==typeof Set&&i?o((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"===typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":i?o(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":i?Symbol:void 0,"$ %SymbolPrototype%":i?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":r,"$ %TypedArray%":s,"$ %TypedArrayPrototype%":s?s.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"===typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"===typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"===typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"===typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"===typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"===typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"===typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"===typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"===typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"===typeof WeakSet?void 0:WeakSet.prototype};e.exports=,{}],15:[function(t,e,n){"use strict";var r=t("./GetIntrinsic"),i=r("%Object%"),o=r("%TypeError%"),a=r("%String%"),s=t("./helpers/assertRecord"),l=t("./helpers/isNaN"),c=t("./helpers/isFinite"),u=t("./helpers/sign"),h=t("./helpers/mod"),d=t("is-callable"),p=t("es-to-primitive/es5"),f=t("has"),m={ToPrimitive:p,ToBoolean:function(t){return!!t},ToNumber:ToInteger:ToInt32:ToUint32:ToUint16:ToString:function(t){return a(t)},ToObject:CheckObjectCoercible:IsCallable:d,SameValue:Type:IsPropertyDescriptor:IsAccessorDescriptor:function(t){return"undefined"!==typeof t&&(s(this,"Property Descriptor","Desc",t),!(!f(t,"[[Get]]")&&!f(t,"[[Set]]")))},IsDataDescriptor:function(t){return"undefined"!==typeof t&&(s(this,"Property Descriptor","Desc",t),!(!f(t,"[[Value]]")&&!f(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return"undefined"!==typeof t&&(s(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if("undefined"===typeof t)return t;if(s(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new o("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:;e.exports=m},{"./GetIntrinsic":14,"./helpers/assertRecord":16,"./helpers/isFinite":17,"./helpers/isNaN":18,"./helpers/mod":19,"./helpers/sign":20,"es-to-primitive/es5":21,has:28,"is-callable":32}],16:[function(t,e,n){"use strict";var r=t("../GetIntrinsic"),i=r("%TypeError%"),o=r("%SyntaxError%"),a=t("has"),s={"Property Descriptor":;e.exports=function(t,e,n,r){var a=s[e];if("function"!==typeof a)throw new o("unknown record type: "+e);if(!a(t,r))throw new i(n+" must be a "+e);console.log(a(t,r),r)}},{"../GetIntrinsic":14,has:28}],17:[function(t,e,n){var r=Number.isNaN||function(t){return t!==t};e.exports=Number.isFinite||,{}],18:[function(t,e,n){e.exports=Number.isNaN||,{}],19:[{}],20:[{}],21:[function(t,e,n){"use strict";var r=Object.prototype.toString,i=t("./helpers/isPrimitive"),o=t("is-callable"),a={"[[DefaultValue]]":;e.exports=,{"./helpers/isPrimitive":22,"is-callable":32}],22:[function(t,e,n){e.exports=,{}],23:[function(t,e,n){var r=t("dtype");e.exports=function(t,e,n){if(!t)throw new TypeError("must specify data as first parameter");if(n=0|+(n||0),Array.isArray(t)&&t[0]&&"number"===typeof t[0][0]){var i,o,a,s,l=t[0].length,c=t.length*l;e&&"string"!==typeof e||(e=new(r(e||"float32"))(c+n));var u=e.length-n;if(c!==u)throw new Error("source length "+c+" ("+l+"x"+t.length+") does not match destination length "+u);for(i=0,a=n;i<t.length;i++)for(o=0;o<l;o++)e[a++]=null===t[i][o]?NaN:t[i][o]}else if(e&&"string"!==typeof e)e.set(t,n);else{var h=r(e||"float32");if(Array.isArray(t)||"array"===e)for(e=new h(t.length+n),i=0,a=n,s=e.length;a<s;a++,i++)e[a]=null===t[i]?NaN:t[i];else 0===n?e=new h(t):(e=new h(t.length+n)).set(t,n)}return e}},{dtype:13}],24:[{"is-callable":32}],25:[{}],26:[{"./implementation":25}],27:[function(t,e,r){(.call(this,"undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],28:[{"function-bind":26}],29:[{}],30:[function(t,e,n){"function"===typeof Object.create?e.exports=e.exports=,{}],31:[function(t,e,n){.exports=,{}],32:[function(t,n,r){"use strict";var i=Function.prototype.toString,o=/^\s*class\b/,a=s=Object.prototype.toString,l="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;n.exports=,{}],33:[function(t,e,n){e.exports=var r=Object.prototype.toString},{}],34:[{}],35:[{}],36:[function(t,e,n){var r=t("word-wrapper"),i=t("xtend"),o=t("as-number"),a=["x","e","a","o","n","s","r","c","u","m","v","w","z"],s=["m","w"],l=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],c="\t".charCodeAt(0),u=" ".charCodeAt(0),h=0,d=1,p=2;function f(t){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(t)}function m(t){return new Function(["return function "+t+"() {","  return this._"+t,"}"].join("\n"))()}function v(t,e){if(!t.chars||0===t.chars.length)return null;var n=y(t.chars,e);return n>=0?t.chars[n]:null}function g(t,e,n){if(!t.kernings||0===t.kernings.length)return 0;for(var r=t.kernings,i=0;i<r.length;i++){var o=r[i];if(o.first===e&&o.second===n)return o.amount}return 0}function y(t,e,n){for(var r=n=n||0;r<t.length;r++)if(t[r].id===e)return r;return-1}e.exports=function(t){return new f(t)},f.prototype.update=function(t){if(t=i({measure:this._measure},t),this._opt=t,this._opt.tabSize=o(this._opt.tabSize,4),!t.font)throw new Error("must provide a valid bitmap font");var e=this.glyphs,n=t.text||"",s=t.font;this._setupSpaceGlyphs(s);var c=r.lines(n,t),u=t.width||0;e.length=0;var f=c.reduce(0),m=0,v=0,b=o(t.lineHeight,s.common.lineHeight),x=s.common.base,w=b-x,A=t.letterSpacing||0,E=b*c.length-w,_=this._opt.align);v-=E,this._width=f,this._height=E,this._descender=b-x,this._baseline=x,this._xHeight=function(t){for(var e=0;e<a.length;e++){var n=a[e].charCodeAt(0),r=y(t.chars,n);if(r>=0)return t.chars[r].height}return 0}(s),this._capHeight=function(t){for(var e=0;e<l.length;e++){var n=l[e].charCodeAt(0),r=y(t.chars,n);if(r>=0)return t.chars[r].height}return 0}(s),this._lineHeight=b,this._ascender=b-w-this._xHeight;var T=this;c.forEach(function(t,r){for(var i,o=t.start,a=t.end,l=t.width,c=o;c<a;c++){var u=n.charCodeAt(c),h=T.getGlyph(s,u);if(h){i&&(m+=g(s,i.id,h.id));var y=m;_===d?y+=(f-l)/2:_===p&&(y+=f-l),e.push({position:[y,v],data:h,index:c,line:r}),m+=h.xadvance+A,i=h}}v+=b,m=0}),this._linesTotal=c.length},f.prototype._setupSpaceGlyphs=function(t){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,t.chars&&0!==t.chars.length){var e=v(t,u)||function(t){for(var e=0;e<s.length;e++){var n=s[e].charCodeAt(0),r=y(t.chars,n);if(r>=0)return t.chars[r]}return 0}(t)||t.chars[0],n=this._opt.tabSize*e.xadvance;this._fallbackSpaceGlyph=e,this._fallbackTabGlyph=i(e,{x:0,y:0,xadvance:n,id:c,xoffset:0,yoffset:0,width:0,height:0})}},f.prototype.getGlyph=function(t,e){var n=v(t,e);return n||(e===c?this._fallbackTabGlyph:e===u?this._fallbackSpaceGlyph:null)},f.prototype.computeMetrics=function(t,e,n,r){var i,o=this._opt.letterSpacing||0,a=this._opt.font,s=0,l=0,c=0;if(!a.chars||0===a.chars.length)return{start:e,end:e,width:0};n=Math.min(t.length,n);for(var u=e;u<n;u++){var h=t.charCodeAt(u),d=this.getGlyph(a,h);if(d){d.xoffset;var p=i?g(a,i.id,d.id):0,f=(s+=p)+d.xadvance+o,m=s+d.width;if(m>=r||f>=r)break;s=f,l=m,i=d}c++}return i&&(l+=i.xoffset),{start:e,end:e+c,width:l}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(function(t){Object.defineProperty(f.prototype,t,{get:m(t),configurable:!0})})},{"as-number":2,"word-wrapper":69,xtend:72}],37:[function(t,n,r){(function(r){var i=t("xhr"),o=function(){},a=t("parse-bmfont-ascii"),s=t("parse-bmfont-xml"),l=t("parse-bmfont-binary"),c=t("./lib/is-binary"),u=t("xtend"),h=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;n.exports=function(t,n){n="function"===typeof n?n:o,"string"===typeof t?t={uri:t}:t||(t={});var d=t.binary;d&&(t=function(t){if(h)return u(t,{responseType:"arraybuffer"});if("undefined"===typeof self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var e=new self.XMLHttpRequest;return e.overrideMimeType("text/plain; charset=x-user-defined"),u({xhr:e},t)}(t)),i(t,function(i,u,h){if(i)return n(i);if(!/^2/.test(u.statusCode))return n(new Error("http status code: "+u.statusCode));if(!h)return n(new Error("no body result"));var d,p,f=!1;if(d=h,"[object ArrayBuffer]"===Object.prototype.toString.call(d)){var m=new Uint8Array(h);h=new r(m,"binary")}c(h)&&(f=!0,"string"===typeof h&&(h=new r(h,"binary"))),f||(r.isBuffer(h)&&(h=h.toString(t.encoding)),h=h.trim());try{var v=u.headers["content-type"];p=f?l(h):/json/.test(v)||"{"===h.charAt(0)?JSON.parse(h):/xml/.test(v)||"<"===h.charAt(0)?s(h):a(h)}catch(e){n(new Error("error parsing font "+e.message)),n=o}n(null,p)})}}).call(this,t("buffer").Buffer)},{"./lib/is-binary":38,buffer:6,"parse-bmfont-ascii":43,"parse-bmfont-binary":44,"parse-bmfont-xml":45,xhr:70,xtend:72}],38:[function(t,e,n){(function(n){var r=t("buffer-equal"),i=new n([66,77,70,3]);e.exports=function(t){return"string"===typeof t?"BMF"===t.substring(0,3):t.length>4&&r(t.slice(0,4),i)}}).call(this,t("buffer").Buffer)},{buffer:6,"buffer-equal":5}],39:[function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=)?Object.assign:,{}],40:[{"./isArguments":42}],41:[{"./implementation":40,"./isArguments":42}],42:[{}],43:[function(t,e,n){exports=function(t){if(!t)throw new Error("no data provided");t=t.toString().trim();var e={pages:[],chars:[],kernings:[]},n=t.split(/\r\n?|\n/g);if(0===n.length)throw new Error("no data in BMFont file");for(var i=0;i<n.length;i++){var o=r(n[i],i);if(o)if("page"===o.key){if("number"!==typeof o.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!==typeof o.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');e.pages[o.data.id]=o.data.file}else"chars"===o.key||"kernings"===o.key||("char"===o.key?e.chars.push(o.data):"kerning"===o.key?e.kernings.push(o.data):e[o.key]=o.data)}return e}},{}],44:[function(t,e,n){var r=[66,77,70];exports=function(t){if(t.length<6)throw new Error("invalid buffer length for BMFont");var e=r.every(;if(!e)throw new Error("BMFont missing BMF byte header");var n=3,o=t.readUInt8(n++);if(o>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var a={kernings:[],chars:[]},s=0;s<5;s++)n+=i(a,t,n);return a}},{}],45:[function(t,e,n){var r=t("./parse-attribs"),i=t("xml-parse-from-string"),o={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function a(t){var e=t);return e.reduce(function(t,e){var n,r=(n=e.nodeName,o[n.toLowerCase()]||n);return t[r]=e.nodeValue,t},{})}e.exports=,{"./parse-attribs":46,"xml-parse-from-string":71}],46:[{}],47:[function(t,e,n){var r=t("string.prototype.trim"),i=t("for-each");e.exports=function(t){if(!t)return{};var e={};return i(r(t).split("\n"),function(t){var n,i=t.indexOf(":"),o=r(t.slice(0,i)).toLowerCase(),a=r(t.slice(i+1));"undefined"===typeof e[o]?e[o]=a:(n=e[o],"[object Array]"===Object.prototype.toString.call(n)?e[o].push(a):e[o]=[e[o],a])}),e}},{"for-each":24,"string.prototype.trim":53}],48:[function(t,e,r){(function(t){var n=t.performance||{},r=function(){for(var t=["now","webkitNow","msNow","mozNow","oNow"];t.length;){var e=t.shift();if(e in n)return n[e].bind(n)}var r=Date.now||i=(n.timing||{}).navigationStart||r();return ();r.performanceNow=n.now,r.noConflict=function(){n.now=r.performanceNow},r.conflict=function(){n.now=r},r.conflict(),e.exports=r}).call(this,"undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],49:[{}],50:[function(t,n,r){(function(t){!function(r){var i=setTimeout,o="function"===typeof t&&t||ar s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function l(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],f(t,a(u,this),a(h,this))}unction u(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if("function"===typeof n)return void f(a(n,t),a(u,this),a(h,this))}this._state=!0,this._value=t,d.call(this)}catch(e){h.call(this,e)}}nction p(t,e,n,r){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.resolve=n,this.reject=r}.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=l.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&s(arguments[0])?arguments[0]:arguments);return new l(function(e,n){if(0===t.length)return e([]);var r=t.length;or(var o=0;o<t.length;o++)i(o,t[o])})},l.resolve=l.reject=l.race=l._setImmediateFn=function(t){o=t},"undefined"!==typeof n&&n.exports?n.exports=l:r.Promise||(r.Promise=l)}(this)}).call(this,t("timers").setImmediate)},{timers:67}],51:[function(t,e,n){var r=t("dtype"),i=t("an-array"),o=t("is-buffer"),a=[0,2,3],s=[2,1,3];e.exports=function(t,e){t&&(i(t)||o(t))||(e=t||{},t=null);for(var n="string"===typeof(e="number"===typeof e?{count:e}:e||{}).type?e.type:"uint16",l="number"===typeof e.count?e.count:1,c=e.start||0,u=!1!==e.clockwise?a:s,h=u[0],d=u[1],p=u[2],f=6*l,m=t||new(r(n))(f),v=0,g=0;v<f;v+=6,g+=4){var y=v+c;m[y+0]=g+0,m[y+1]=g+1,m[y+2]=g+2,m[y+3]=g+h,m[y+4]=g+d,m[y+5]=g+p}return m}},{"an-array":1,dtype:13,"is-buffer":31}],52:[{"es-abstract/es5":15,"function-bind":26}],53:[{"./implementation":52,"./polyfill":54,"./shim":55,"define-properties":11,"function-bind":26}],54:[{"./implementation":52}],55:[{"./polyfill":54,"define-properties":11}],56:[function(t,n,r){"use strict";var i={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},o={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},a=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],s={CSS:{},springs:{}}; h=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,d=/^rgb/,p=/^hsl/,f={arr:function(t){return Array.isArray(t)},obj:pth:svg:function(t){return t instanceof SVGElement},inp:dom:function(t){return t.nodeType||f.svg(t)},str:function(t){return"string"===typeof t},fnc:function(t){return"function"===typeof t},und:function(t){return"undefined"===typeof t},hex:function(t){return h.test(t)},rgb:function(t){return d.test(t)},hsl:function(t){return p.test(t)},col:key:,m=/\(([^)]+)\)/;function v(t){var e=m.exec(t);return e?e[1].split(",").map(function(t){return parseFloat(t)}):[]}unction y(t,e){void 0===t&&(t=1),void 0===e&&(e=.5);var n=l(t,1,10),r=l(e,.1,2);return ar x=function(){var t=11,e=1/(t-1);n function(n,r,i,s){if(0<=n&&n<=1&&0<=i&&i<=1){var l=new Float32Array(t);if(n!==r||i!==s)for(var c=0;c<t;++c)l[c]=o(c*e,n,i);return function u(r){for(var s=0,c=1,u=t-1;c!==u&&l[c]<=r;++c)s+=e;var h=(r-l[--c])/(l[c+1]-l[c]),d=s+h*e,p=a(d,n,i);return p>=.001?r,d,n,i):0===p?d:r,s,s+e,n,i)}}}(),w=function(){var t=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],e={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],y],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],,InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],},n={linear:[.25,.25,.75,.75]};for(var r in e)for(var i=0,o=e[r].length;i<o;i++)n["ease"+r+t[i]]=e[r][i];return n}();function A(t,e){if(f.fnc(t))return t;var n=t.split("(")[0],r=w[n],i=v(t);switch(n){case"spring":return g(t,e);case"cubicBezier":return u(x,i);case"steps":return u(b,i);default:return f.fnc(r)?u(r,i):u(x,r)}}ar _=[];function T(t,e){for(var n=_,r=t.length,i=arguments.length>=2?arguments[1]:void 0,o=0;o<r;o++)if(o in t){var a=t[o];e.call(i,a,o,t)&&n.push(a)}return(_=t).length=0,n}function S(t,e){e||(e=[]);for(var n=0,r=t.length;n<r;n++){var i=t[n];Array.isArray(i)?S(i,e):e.push(i)}return e}=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g,O=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,D=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,P=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g,B=/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g;function F(t){return f.rgb(t)?function(t){var e=L.exec(t);return e?"rgba("+e[1]+",1)":t}(t):f.hex(t)?function(t){var e=t.replace(O,,n=D.exec(e),r=parseInt(n[1],16),i=parseInt(n[2],16),o=parseInt(n[3],16);return"rgba("+r+","+i+","+o+",1)"}(t):f.hsl(t)?function(t){var e,n,r,i=P.exec(t)||B.exec(t),o=parseInt(i[1],10)/360,a=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,l=i[4]||1;function c(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(0==a)e=n=r=s;else{var u=s<.5?s*(1+a):s+a-s*a,h=2*s-u;e=c(h,u,o+1/3),n=c(h,u,o),r=c(h,u,o-1/3)}return"rgba("+255*e+","+255*n+","+255*r+","+l+")"}(t):void 0}var N=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/;function U(t){var e=N.exec(t);if(e)return e[2]}nction G(t,e,n){var r=U(e);if(C([n,"deg","rad","turn"],r))return e;var i=s.CSS[e+n];if(!f.und(i))return i;var o=document.createElement(t.tagName),a=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=100+n;var l=100/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(e);return s.CSS[e+n]=c,c}r W=/(\w+)\(([^)]*)\)/g;function J(t){if(f.dom(t)){for(var e,n=t.style.transform||"",r=new Map;e=W.exec(n);)r.set(e[1],e[2]);return r}}r K=/^(\*=|\+=|-=)/;function Q(t,e){var n=K.exec(t);if(!n)return t;var r=U(t)||0,i=parseFloat(e),o=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}var q=/\s/g;function X(t,e){if(f.col(t))return F(t);var n=U(t),r=n?t.substr(0,t.length-n.length):t;return e&&!q.test(t)?r+e:r}ction nt(t,e){var n=e||{},r=n.el||function(t){for(var e=t.parentNode;f.svg(e)&&(e=e.parentNode,f.svg(e.parentNode)););return e}(t),i=r.getBoundingClientRect(),o=z(r,"viewBox"),a=i.width,s=i.height,l=n.viewBox||(o?o.split(" "):[0,0,a,s]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:a/l[2],h:s/l[3]}}ar it=/-?\d*\.?\d+/g;function ot(t,e){var n=X(f.pth(t)?t.totalLength:t,e)+"";return{original:n,numbers:n.match(it)?n.match(it).map(Number):[0],strings:f.str(t)||e?n.split(it):[]}}r lt=/^spring/;function ct(t,e){var n=I(e);if(lt.test(n.easing)&&(n.duration=g(n.easing)),f.arr(t)){var r=t.length,i=2===r&&!f.obj(t[0]);i?t={value:t}:f.fnc(e.duration)||(n.duration=e.duration/r)}var o=f.arr(t)?t:[t];return o.map(.map(function(t){return R(t,n)})}r dt={css:attribute:function(t,e,n){return t.setAttribute(e,n)},object:transform:;function pt(t,e){for(var n=st(t),r=0,i=n.length;r<i;r++){var o=n[r];for(var a in e){var s=j(e[a],o),l=o.target,c=U(s),u=Y(l,a,c,o),h=c||U(u),d=Q(X(s,h),u),p=H(l,a);dt[p](l,a,d,o.transforms,!0)}}}r vt,gt=0,yt=[],bt=[],xt=);function wt(t){void 0===t&&(t={});var e,n=0,r=0,a=0,s=0,c=null;ar h=u(),d=t);function p(){d.reversed=!d.reversed;for(var t=0,n=e.length;t<n;t++)e[t].reversed=d.reversed}ion b(t){var i=d.duration,o=d.delay,m=i-d.endDelay,b=f(t);d.progress=l(b/i*100,0,100),d.reversePlayback=b<d.currentTime,e&&b),!d.began&&d.currentTime>0&&(d.began=!0,y("begin"),y("loopBegin")),b<=o&&0!==d.currentTime&&g(0),(b>=m&&d.currentTime!==i||!i)&&g(i),b>o&&b<m?(d.changeBegan||(d.changeBegan=!0,d.changeCompleted=!1,y("changeBegin")),y("change"),g(b)):d.changeBegan&&(d.changeCompleted=!0,d.changeBegan=!1,y("changeComplete")),d.currentTime=l(b,0,i),d.began&&y("update"),t>=i&&(r=0,d.remaining&&!0!==d.remaining&&d.remaining--,d.remaining?(n=a,y("loopComplete"),y("loopBegin"),"alternate"===d.direction&&p()):(d.paused=!0,d.completed||(d.completed=!0,y("loopComplete"),y("complete"),"Promise"in window&&(c(),h=u()))))}return d.reset=function(){var t=d.direction;d.passThrough=!1,d.currentTime=0,d.progress=0,d.paused=!0,d.began=!1,d.changeBegan=!1,d.completed=!1,d.changeCompleted=!1,d.reversePlayback=!1,d.reversed="reverse"===t,d.remaining=d.loop,e=d.children;for(var n=s=e.length;n--;)d.children[n].reset();(d.reversed&&!0!==d.loop||"alternate"===t&&1===d.loop)&&d.remaining++,g(0)},d.set=d.tick=d.seek=function(t){b(f(t))},d.pause=d.play=function(){d.paused&&(d.paused=!1,yt.push(d),m(),vt||xt())},d.reverse=function(){p(),m()},d.restart=function(){d.reset(),d.play()},d.finished=h,d.reset(),d.autoplay&&d.play(),d}ocument.addEventListener("visibilitychange",function(){if(document.hidden){for(var t=0,e=yt.length;t<e;t++)activeInstance[t].pause();bt=yt.slice(0),yt=[]}else for(var n=0,r=bt.length;n<r;n++)bt[n].play()}),wt.version="3.0.0",wt.speed=1,wt.running=yt,wt.remove=wt.get=Y,wt.set=pt,wt.convertPx=G,wt.path=wt.setDashoffset=wt.stagger=function(t,e){void 0===e&&(e={});var n=e.direction||"normal",r=e.easing?A(e.easing):null,i=e.grid,o=e.axis,a=e.from||0,s="first"===a,l="center"===a,c="last"===a,u=f.arr(t),h=u?parseFloat(t[0]):parseFloat(t),d=u?parseFloat(t[1]):0,p=U(u?t[1]:t)||0,m=e.start||0+(u?h:0),v=[],g=0;return function(t,e,f){if(s&&(a=0),l&&(a=(f-1)/2),c&&(a=f-1),!v.length){for(var y=0;y<f;y++){if(i){var b=l?(i[0]-1)/2:a%i[0],x=l?(i[1]-1)/2:Math.floor(a/i[0]),w=y%i[0],A=Math.floor(y/i[0]),E=b-w,_=x-A,T=Math.sqrt(E*E+_*_);"x"===o&&(T=-E),"y"===o&&(T=-_),v.push(T)}else v.push(Math.abs(a-y));g=Math.max.apply(Math,v)}r&&(v=v.map(),"reverse"===n&&(v=v.map()}var S=u?(d-h)/g:h;return m+S*(Math.round(100*v[e])/100)+p}},wt.timeline=wt.easing=A,wt.penner=w,wt.random=n.exports=wt},{}],57:[function(t,n,r){var i,o;i=this,o=function(t){"use strict";void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=,void 0===Math.sign&&(Math.sign=,"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:),void 0===Object.assign&&(Object.assign=;var r=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";ry{l({},"")}catch(R){l=function(t,e,n){return t[e]=n}}wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",f="completed",m={};function v(){}function g(){}function y(){}var b={};b[o]=function(){return this};var x=Object.getPrototypeOf,w=x&&x(x(I([])));w&&w!==n&&r.call(w,o)&&(b=w);var A=y.prototype=v.prototype=Object.create(b);.prototype=A.constructor=y,y.constructor=g,g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=t.mark=t.awrap=function(t){return{__await:t}},E(_.prototype),_.prototype[a]=function(){return this},t.AsyncIterator=_,t.async=E(A),l(A,s,"Generator"),A[o]=function(){return this},A.toString=function(){return"[object Generator]"},t.keys=t.values=I,C.prototype={constructor:C,reset:stop:dispatchException:abrupt:complete:finish:catch:delegateYield:,t}("object"===typeof n?n.exports:{});try{regeneratorRuntime=r}catch(op){Function("r","regeneratorRuntime = r")(r)}var i=0,o=1,s=2,l=1,c=2,u=3,h=0,d=1,p=2,f=0,m=1,v=2,g=3,y=4,b=5,x=100,w=101,A=102,E=103,_=104,T=200,S=201,M=202,C=203,I=204,k=205,R=206,L=207,O=208,D=209,P=210,B=0,F=1,N=2,U=3,j=4,z=5,G=6,V=7,H=0,W=1,J=2,Z=0,Y=1,K=2,Q=3,q=4,X=5,$=301,tt=302,et=303,nt=304,rt=306,it=307,ot=1e3,at=1001,st=1002,lt=1003,ct=1004,ut=1005,ht=1006,dt=1007,pt=1008,ft=1009,mt=1010,vt=1011,gt=1012,yt=1013,bt=1014,xt=1015,wt=1016,At=1017,Et=1018,_t=1019,Tt=1020,St=1021,Mt=1022,Ct=1023,It=1024,kt=1025,Rt=Ct,Lt=1026,Ot=1027,Dt=1028,Pt=1029,Bt=1030,Ft=1031,Nt=1032,Ut=1033,jt=33776,zt=33777,Gt=33778,Vt=33779,Ht=35840,Wt=35841,Jt=35842,Zt=35843,Yt=36196,Kt=37492,Qt=37496,qt=37808,Xt=37809,$t=37810,te=37811,ee=37812,ne=37813,re=37814,ie=37815,oe=37816,ae=37817,se=37818,le=37819,ce=37820,ue=37821,he=36492,de=37840,pe=37841,fe=37842,me=37843,ve=37844,ge=37845,ye=37846,be=37847,xe=37848,we=37849,Ae=37850,Ee=37851,_e=37852,Te=37853,Se=2201,Me=2400,Ce=2500,Ie=3e3,ke=3001,Re=3007,Le=3002,Oe=3003,De=3004,Pe=3005,Be=3006,Fe=3200,Ne=3201,Ue=0,je=1,ze=7680,Ge=519,Ve=35044,He=35048,We="300 es";unction Ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ye(t,e,n){return e&&Ze(t.prototype,e),n&&Ze(t,n),t}unction Qe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}nction $e(){}Object.assign($e.prototype,{addEventListener:hasEventListener:removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,r=n[t];if(void 0!==r){var i=r.indexOf(e);-1!==i&&r.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;for(var r=n.slice(0),i=0,o=r.length;i<o;i++)r[i].call(this,t)}}}});for(var tn=[],en=0;en<256;en++)tn[en]=(en<16?"0":"")+en.toString(16);var nn,rn=1234567,on={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=tn[255&t]+tn[t>>8&255]+tn[t>>16&255]+tn[t>>24&255]+"-"+tn[255&e]+tn[e>>8&255]+"-"+tn[e>>16&15|64]+tn[e>>24&255]+"-"+tn[63&n|128]+tn[n>>8&255]+"-"+tn[n>>16&255]+tn[n>>24&255]+tn[255&r]+tn[r>>8&255]+tn[r>>16&255]+tn[r>>24&255];return i.toUpperCase()},clamp:euclideanModulo:mapLinear:lerp:damp:pingpong:function(t,e){return void 0===e&&(e=1),e-Math.abs(on.euclideanModulo(t,2*e)-e)},smoothstep:smootherstep:randInt:randFloat:randFloatSpread:seededRandom:degToRad:function(t){return t*on.DEG2RAD},radToDeg:isPowerOfTwo:ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:setQuaternionFromProperEuler:,an=),sn=function(){ar e=t.prototype;return e.set=e.identity=e.clone=e.copy=e.extractBasis=function(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this},e.setFromMatrix4=e.multiply=function(t){return this.multiplyMatrices(this,t)},e.premultiply=function(t){return this.multiplyMatrices(t,this)},e.multiplyMatrices=e.multiplyScalar=e.determinant=e.invert=e.transpose=e.getNormalMatrix=e.transposeIntoArray=e.setUvTransform=e.scale=e.rotate=e.translate=e.equals=function(t){for(var e=this.elements,n=t.elements,r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0},e.fromArray=function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},e.toArray=t}(),ln={getDataURL:,cn=0;function un(t,e,n,r,i,o,a,s,l,c){void 0===t&&(t=un.DEFAULT_IMAGE),void 0===e&&(e=un.DEFAULT_MAPPING),void 0===n&&(n=at),void 0===r&&(r=at),void 0===i&&(i=ht),void 0===o&&(o=pt),void 0===a&&(a=Ct),void 0===s&&(s=ft),void 0===l&&(l=1),void 0===c&&(c=Ie),Object.defineProperty(this,"id",{value:cn++}),this.uuid=on.generateUUID(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=o,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new an(0,0),this.repeat=new an(1,1),this.center=new an(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new sn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.version=0,this.onUpdate=null}function hn(t){return"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap?ln.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}un.DEFAULT_IMAGE=void 0,un.DEFAULT_MAPPING=300,un.prototype=Object.assign(Object.create($e.prototype),{constructor:un,isTexture:!0,updateMatrix:clone:function(){return(new this.constructor).copy(this)},copy:toJSON:function(t){var e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=on.generateUUID()),!e&&void 0===t.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)r[o].isDataTexture?i.push(hn(r[o].image)):i.push(hn(r[o]))}else i=hn(r);t.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:),Object.defineProperty(un.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}});var dn=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=1),Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=e,this.z=n,this.w=r}var e=t.prototype;return e.set=function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},e.setScalar=e.setX=function(t){return this.x=t,this},e.setY=function(t){return this.y=t,this},e.setZ=function(t){return this.z=t,this},e.setW=function(t){return this.w=t,this},e.setComponent=e.getComponent=e.clone=function(){return new this.constructor(this.x,this.y,this.z,this.w)},e.copy=e.add=e.addScalar=e.addVectors=e.addScaledVector=e.sub=e.subScalar=e.subVectors=e.multiply=e.multiplyScalar=e.applyMatrix4=e.divideScalar=function(t){return this.multiplyScalar(1/t)},e.setAxisAngleFromQuaternion=e.setAxisAngleFromRotationMatrix=function(t){var e,n,r,i,o=t.elements,a=o[0],s=o[4],l=o[8],c=o[1],u=o[5],h=o[9],d=o[2],p=o[6],f=o[10];if(Math.abs(s-c)<.01&&Math.abs(l-d)<.01&&Math.abs(h-p)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+d)<.1&&Math.abs(h+p)<.1&&Math.abs(a+u+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(a+1)/2,v=(u+1)/2,g=(f+1)/2,y=(s+c)/4,b=(l+d)/4,x=(h+p)/4;return m>v&&m>g?m<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(m),r=y/n,i=b/n):v>g?v<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(v),n=y/r,i=x/r):g<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(g),n=b/i,r=x/i),this.set(n,r,i,e),this}var w=Math.sqrt((p-h)*(p-h)+(l-d)*(l-d)+(c-s)*(c-s));return Math.abs(w)<.001&&(w=1),this.x=(p-h)/w,this.y=(l-d)/w,this.z=(c-s)/w,this.w=Math.acos((a+u+f-1)/2),this},e.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},e.max=e.clamp=e.clampScalar=e.clampLength=function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},e.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},e.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},e.round=e.roundToZero=e.negate=e.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},e.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},e.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},e.manhattanLength=e.normalize=function(){return this.divideScalar(this.length()||1)},e.setLength=function(t){return this.normalize().multiplyScalar(t)},e.lerp=e.lerpVectors=e.equals=function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},e.fromArray=e.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},e.fromBufferAttribute=e.random=Ye(t,[{key:"width",get:function(){return this.z},set:function(t){this.z=t}},{key:"height",get:function(){return this.w},set:function(t){this.w=t}}]),t}(),pn=function(t){function e(e,n,r){var i;return i=t.call(this)||this,Object.defineProperty(Qe(i),"isWebGLRenderTarget",{value:!0}),i.width=e,i.height=n,i.scissor=new dn(0,0,e,n),i.scissorTest=!1,i.viewport=new dn(0,0,e,n),r=r||{},i.texture=new un(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),i.texture.image={},i.texture.image.width=e,i.texture.image.height=n,i.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,i.texture.minFilter=void 0!==r.minFilter?r.minFilter:ht,i.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,i.stencilBuffer=void 0!==r.stencilBuffer&&r.stencilBuffer,i.depthTexture=void 0!==r.depthTexture?r.depthTexture:null,i}Ke(e,t);var n=e.prototype;return n.setSize=n.clone=function(){return(new this.constructor).copy(this)},n.copy=n.dispose=function(){this.dispatchEvent({type:"dispose"})},e}($e),fn=function(t){function e(e,n,r){var i;return i=t.call(this,e,n,r)||this,Object.defineProperty(Qe(i),"isWebGLMultisampleRenderTarget",{value:!0}),i.samples=4,i}Ke(e,t);var n=e.prototype;return n.copy=function(e){return t.prototype.copy.call(this,e),this.samples=e.samples,this},e}(pn),mn=),vn=),gn=new vn,yn=new mn,bn=function(){ar e=t.prototype;return e.set=function(t,e){return this.min.copy(t),this.max.copy(e),this},e.setFromArray=e.setFromBufferAttribute=e.setFromPoints=function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},e.setFromCenterAndSize=function(t,e){var n=An.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this},e.setFromObject=e.clone=function(){return(new this.constructor).copy(this)},e.copy=function(t){return this.min.copy(t.min),this.max.copy(t.max),this},e.makeEmpty=e.isEmpty=e.getCenter=e.getSize=e.expandByPoint=function(t){return this.min.min(t),this.max.max(t),this},e.expandByVector=function(t){return this.min.sub(t),this.max.add(t),this},e.expandByScalar=function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},e.expandByObject=e.containsPoint=e.containsBox=e.getParameter=e.intersectsBox=e.intersectsSphere=e.intersectsPlane=e.intersectsTriangle=e.clampPoint=function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new vn),e.copy(t).clamp(this.min,this.max)},e.distanceToPoint=function(t){var e=An.copy(t).clamp(this.min,this.max);return e.sub(t).length()},e.getBoundingSphere=e.intersect=e.union=function(t){return this.min.min(t.min),this.max.max(t.max),this},e.applyMatrix4=e.translate=function(t){return this.min.add(t),this.max.add(t),this},e.equals=function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},t}();ar wn=[new vn,new vn,new vn,new vn,new vn,new vn,new vn,new vn],An=new vn,En=new bn,_n=new vn,Tn=new vn,Sn=new vn,Mn=new vn,Cn=new vn,In=new vn,kn=new vn,Rn=new vn,Ln=new vn,On=new vn,Dn=new bn,Pn=),Bn=new vn,Fn=new vn,Nn=new vn,Un=new vn,jn=new vn,zn=new vn,Gn=new vn,Vn=function(){ar e=t.prototype;return e.set=function(t,e){return this.origin.copy(t),this.direction.copy(e),this},e.clone=function(){return(new this.constructor).copy(this)},e.copy=function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},e.at=e.lookAt=e.recast=e.closestPointToPoint=e.distanceToPoint=function(t){return Math.sqrt(this.distanceSqToPoint(t))},e.distanceSqToPoint=e.distanceSqToSegment=function(t,e,n,r){Fn.copy(t).add(e).multiplyScalar(.5),Nn.copy(e).sub(t).normalize(),Un.copy(this.origin).sub(Fn);var i,o,a,s,l=.5*t.distanceTo(e),c=-this.direction.dot(Nn),u=Un.dot(this.direction),h=-Un.dot(Nn),d=Un.lengthSq(),p=Math.abs(1-c*c);if(p>0)if(o=c*u-h,s=l*p,(i=c*h-u)>=0)if(o>=-s)if(o<=s){var f=1/p;a=(i*=f)*(i+c*(o*=f)+2*u)+o*(c*i+o+2*h)+d}else o=l,i=Math.max(0,-(c*o+u)),a=-i*i+o*(o+2*h)+d;else o=-l,i=Math.max(0,-(c*o+u)),a=-i*i+o*(o+2*h)+d;else o<=-s?(i=Math.max(0,-(-c*l+u)),o=i>0?-l:Math.min(Math.max(-l,-h),l),a=-i*i+o*(o+2*h)+d):o<=s?(i=0,o=Math.min(Math.max(-l,-h),l),a=o*(o+2*h)+d):(i=Math.max(0,-(c*l+u)),o=i>0?l:Math.min(Math.max(-l,-h),l),a=-i*i+o*(o+2*h)+d);else o=c>0?-l:l,i=Math.max(0,-(c*o+u)),a=-i*i+o*(o+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(Nn).multiplyScalar(o).add(Fn),a},e.intersectSphere=e.intersectsSphere=e.distanceToPlane=e.intersectPlane=e.intersectsPlane=e.intersectBox=e.intersectsBox=e.intersectTriangle=e.applyMatrix4=function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},e.equals=function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)},t}(),Hn=function(){ar e=t.prototype;return e.set=e.identity=e.clone=e.copy=e.copyPosition=e.setFromMatrix3=e.extractBasis=e.makeBasis=e.extractRotation=e.makeRotationFromEuler=e.makeRotationFromQuaternion=e.lookAt=e.multiply=e.premultiply=e.multiplyMatrices=e.multiplyScalar=e.determinant=e.transpose=e.setPosition=e.invert=e.scale=e.getMaxScaleOnAxis=e.makeTranslation=e.makeRotationX=e.makeRotationY=e.makeRotationZ=e.makeRotationAxis=e.makeScale=e.makeShear=e.compose=e.decompose=e.makePerspective=e.makeOrthographic=e.equals=e.fromArray=e.toArray=t}(),Wn=new vn,Jn=new Hn,Zn=new vn(0,0,0),Yn=new vn(1,1,1),Kn=new vn,Qn=new vn,qn=new vn,Xn=);Xn.DefaultOrder="XYZ",Xn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var $n=new Hn,tr=new mn,er=function(){ar e=t.prototype;return e.set=e.enable=e.enableAll=e.toggle=e.disable=e.disableAll=function(){this.mask=0},e.test=t}(),nr=0,rr=new vn,ir=new mn,or=new Hn,ar=new vn,sr=new vn,lr=new vn,cr=new mn,ur=new vn(1,0,0),hr=new vn(0,1,0),dr=new vn(0,0,1),pr={type:"added"},fr={type:"removed"};function mr(){Object.defineProperty(this,"id",{value:nr++}),this.uuid=on.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=mr.DefaultUp.clone();var t=new vn,e=new Xn,n=new mn,r=new vn(1,1,1);e._onChange(,n._onChange(,Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Hn},normalMatrix:{value:new sn}}),this.matrix=new Hn,this.matrixWorld=new Hn,this.matrixAutoUpdate=mr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new er,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}mr.DefaultUp=new vn(0,1,0),mr.DefaultMatrixAutoUpdate=!0,mr.prototype=Object.assign(Object.create($e.prototype),{constructor:mr,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return ir.setFromAxisAngle(t,e),this.quaternion.multiply(ir),this},rotateOnWorldAxis:rotateX:function(t){return this.rotateOnAxis(ur,t)},rotateY:function(t){return this.rotateOnAxis(hr,t)},rotateZ:function(t){return this.rotateOnAxis(dr,t)},translateOnAxis:translateX:function(t){return this.translateOnAxis(ur,t)},translateY:function(t){return this.translateOnAxis(hr,t)},translateZ:localToWorld:worldToLocal:lookAt:add:remove:clear:attach:getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:getWorldPosition:getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new mn),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sr,t,lr),t},getWorldScale:getWorldDirection:raycast:function(){},traverse:traverseVisible:traverseAncestors:updateMatrix:updateMatrixWorld:updateWorldMatrix:toJSON:function(t){var e=void 0===t||"string"===typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};f(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){r.geometry=i(t.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,l=a.length;s<l;s++){var c=a[s];i(t.shapes,c)}else i(t.shapes,a)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var u=[],h=0,d=this.material.length;h<d;h++)u.push(i(t.materials,this.material[h]));r.material=u}else r.material=i(t.materials,this.material);if(this.children.length>0){r.children=[];for(var p=0;p<this.children.length;p++)r.children.push(this.children[p].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(var f=0;f<this.animations.length;f++){var m=this.animations[f];r.animations.push(i(t.animations,m))}}if(e){var v=E(t.geometries),g=E(t.materials),y=E(t.textures),b=E(t.images),x=E(t.shapes),w=E(t.skeletons),A=E(t.animations);v.length>0&&(n.geometries=v),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),x.length>0&&(n.shapes=x),w.length>0&&(n.skeletons=w),A.length>0&&(n.animations=A)}return n.object=r,n;function E(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}},clone:copy:);var vr=new vn,gr=new vn,yr=new sn,br=),xr=new vn,wr=new vn,Ar=new vn,Er=new vn,_r=new vn,Tr=new vn,Sr=new vn,Mr=new vn,Cr=new vn,Ir=new vn,kr=),Rr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Lr={h:0,s:0,l:0},Or={h:0,s:0,l:0}; Fr=function(){ar e=t.prototype;return e.set=e.setScalar=e.setHex=e.setRGB=function(t,e,n){return this.r=t,this.g=e,this.b=n,this},e.setHSL=e.setStyle=e.setColorName=e.clone=e.copy=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},e.copyGammaToLinear=e.copyLinearToGamma=e.convertGammaToLinear=function(t){return this.copyGammaToLinear(this,t),this},e.convertLinearToGamma=e.copySRGBToLinear=function(t){return this.r=Pr(t.r),this.g=Pr(t.g),this.b=Pr(t.b),this},e.copyLinearToSRGB=e.convertSRGBToLinear=function(){return this.copySRGBToLinear(this),this},e.convertLinearToSRGB=e.getHex=e.getHexString=e.getHSL=e.getStyle=e.offsetHSL=e.add=e.addColors=e.addScalar=e.sub=e.multiply=e.multiplyScalar=e.lerp=e.lerpColors=e.lerpHSL=e.equals=e.fromArray=e.toArray=e.fromBufferAttribute=e.toJSON=function(){return this.getHex()},t}();Fr.NAMES=Rr,Fr.prototype.r=1,Fr.prototype.g=1,Fr.prototype.b=1;var Nr=function(){function t(t,e,n,r,i,o){void 0===o&&(o=0),this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new vn,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Fr,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=o}var e=t.prototype;return e.clone=function(){return(new this.constructor).copy(this)},e.copy=t}(),Ur=0;.prototype=Object.assign(Object.create($e.prototype),{constructor:jr,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:toJSON:function(t){var e=void 0===t||"string"===typeof t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};f(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==m&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==h&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){var i=r(t.textures),o=r(t.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(jr.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),zr.prototype=Object.create(jr.prototype),zr.prototype.constructor=zr,zr.prototype.isMeshBasicMaterial=!0,zr.prototype.copy=var Gr=new vn,Vr=new an;unction Wr(t,e,n){Hr.call(this,new Int8Array(t),e,n)}function Jr(t,e,n){Hr.call(this,new Uint8Array(t),e,n)}function Zr(t,e,n){Hr.call(this,new Uint8ClampedArray(t),e,n)}function Yr(t,e,n){Hr.call(this,new Int16Array(t),e,n)}function Kr(t,e,n){Hr.call(this,new Uint16Array(t),e,n)}function Qr(t,e,n){Hr.call(this,new Int32Array(t),e,n)}function qr(t,e,n){Hr.call(this,new Uint32Array(t),e,n)}function Xr(t,e,n){Hr.call(this,new Uint16Array(t),e,n)}function $r(t,e,n){Hr.call(this,new Float32Array(t),e,n)}ject.defineProperty(Hr.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Hr.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Fr),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyVector2sArray:copyVector3sArray:copyVector4sArray:applyMatrix3:applyMatrix4:function(t){for(var e=0,n=this.count;e<n;e++)Gr.x=this.getX(e),Gr.y=this.getY(e),Gr.z=this.getZ(e),Gr.applyMatrix4(t),this.setXYZ(e,Gr.x,Gr.y,Gr.z);return this},applyNormalMatrix:function(t){for(var e=0,n=this.count;e<n;e++)Gr.x=this.getX(e),Gr.y=this.getY(e),Gr.z=this.getZ(e),Gr.applyNormalMatrix(t),this.setXYZ(e,Gr.x,Gr.y,Gr.z);return this},transformDirection:set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:setX:getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:setW:setXY:setXYZ:setXYZW:onUpload:function(t){return this.onUploadCallback=t,this},clone:toJSON:),Wr.prototype=Object.create(Hr.prototype),Wr.prototype.constructor=Wr,Jr.prototype=Object.create(Hr.prototype),Jr.prototype.constructor=Jr,Zr.prototype=Object.create(Hr.prototype),Zr.prototype.constructor=Zr,Yr.prototype=Object.create(Hr.prototype),Yr.prototype.constructor=Yr,Kr.prototype=Object.create(Hr.prototype),Kr.prototype.constructor=Kr,Qr.prototype=Object.create(Hr.prototype),Qr.prototype.constructor=Qr,qr.prototype=Object.create(Hr.prototype),qr.prototype.constructor=qr,Xr.prototype=Object.create(Hr.prototype),Xr.prototype.constructor=Xr,Xr.prototype.isFloat16BufferAttribute=!0,$r.prototype=Object.create(Hr.prototype),$r.prototype.constructor=$r,ti.prototype=Object.create(Hr.prototype),ti.prototype.constructor=ti;var ni={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};ar ii=0,oi=new Hn,ai=new mr,si=new vn,li=new bn,ci=new bn,ui=new vn;function hi(){Object.defineProperty(this,"id",{value:ii++}),this.uuid=on.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}hi.prototype=Object.assign(Object.create($e.prototype),{constructor:hi,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:getAttribute:function(t){return this.attributes[t]},setAttribute:deleteAttribute:hasAttribute:addGroup:function(t,e,n){void 0===n&&(n=0),this.groups.push({start:t,count:e,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:applyMatrix4:rotateX:function(t){return oi.makeRotationX(t),this.applyMatrix4(oi),this},rotateY:function(t){return oi.makeRotationY(t),this.applyMatrix4(oi),this},rotateZ:translate:function(t,e,n){return oi.makeTranslation(t,e,n),this.applyMatrix4(oi),this},scale:lookAt:center:setFromPoints:computeBoundingBox:computeBoundingSphere:computeFaceNormals:function(){},computeTangents:function(){var t=this.index,e=this.attributes;if(null!==t&&void 0!==e.position&&void 0!==e.normal&&void 0!==e.uv){var n=t.array,r=e.position.array,i=e.normal.array,o=e.uv.array,a=r.length/3;void 0===e.tangent&&this.setAttribute("tangent",new Hr(new Float32Array(4*a),4));for(var s=e.tangent.array,l=[],c=[],u=0;u<a;u++)l[u]=new vn,c[u]=new vn;var h=new vn,d=new vn,p=new vn,f=new an,m=new an,v=new an,g=new vn,y=new vn,b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(var x=0,w=b.length;x<w;++x)for(var A=b[x],E=A.start,_=A.count,T=E,S=E+_;T<S;T+=3)N(n[T+0],n[T+1],n[T+2]);for(var M=new vn,C=new vn,I=new vn,k=new vn,R=0,L=b.length;R<L;++R)for(var O=b[R],D=O.start,P=O.count,B=D,F=D+P;B<F;B+=3)U(n[B+0]),U(n[B+1]),U(n[B+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");unction U(t){I.fromArray(i,3*t),k.copy(I);var e=l[t];M.copy(e),M.sub(I.multiplyScalar(I.dot(e))).normalize(),C.crossVectors(k,e);var n=C.dot(c[t]),r=n<0?-1:1;s[4*t]=M.x,s[4*t+1]=M.y,s[4*t+2]=M.z,s[4*t+3]=r}},computeVertexNormals:merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r],o=i.array,a=t.attributes[r],s=a.array,l=a.itemSize*e,c=Math.min(s.length,o.length-l),u=0,h=l;u<c;u++,h++)o[h]=s[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:toNonIndexed:function(){f(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var e=new hi,n=this.index.array,r=this.attributes;for(var i in r){var o=r[i],a=t(o,n);e.setAttribute(i,a)}var s=this.morphAttributes;for(var l in s){for(var c=[],u=s[l],h=0,d=u.length;h<d;h++){var p=u[h],f=t(p,n);c.push(f)}e.morphAttributes[l]=c}e.morphTargetsRelative=this.morphTargetsRelative;for(var m=this.groups,v=0,g=m.length;v<g;v++){var y=m[v];e.addGroup(y.start,y.count,y.materialIndex)}return e},toJSON:clone:copy:dispose:function(){this.dispatchEvent({type:"dispose"})}});var di=new Hn,pi=new Vn,fi=new Pn,mi=new vn,vi=new vn,gi=new vn,yi=new vn,bi=new vn,xi=new vn,wi=new vn,Ai=new vn,Ei=new vn,_i=new an,Ti=new an,Si=new an,Mi=new vn,Ci=new vn;function Ii(t,e){void 0===t&&(t=new hi),void 0===e&&(e=new zr),mr.call(this),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}function ki(t,e,n,r,i,o,a,s,l,c,u,h){mi.fromBufferAttribute(i,c),vi.fromBufferAttribute(i,u),gi.fromBufferAttribute(i,h);var f=t.morphTargetInfluences;if(e.morphTargets&&o&&f){wi.set(0,0,0),Ai.set(0,0,0),Ei.set(0,0,0);for(var m=0,v=o.length;m<v;m++){var g=f[m],y=o[m];0!==g&&(yi.fromBufferAttribute(y,c),bi.fromBufferAttribute(y,u),xi.fromBufferAttribute(y,h),a?(wi.addScaledVector(yi,g),Ai.addScaledVector(bi,g),Ei.addScaledVector(xi,g)):(wi.addScaledVector(yi.sub(mi),g),Ai.addScaledVector(bi.sub(vi),g),Ei.addScaledVector(xi.sub(gi),g)))}mi.add(wi),vi.add(Ai),gi.add(Ei)}t.isSkinnedMesh&&(t.boneTransform(c,mi),t.boneTransform(u,vi),t.boneTransform(h,gi));var b=function(t,e,n,r,i,o,a,s){if(null===(e.side===d?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,e.side!==p,s)))return null;Ci.copy(s),Ci.applyMatrix4(t.matrixWorld);var l=n.ray.origin.distanceTo(Ci);return l<n.near||l>n.far?null:{distance:l,point:Ci.clone(),object:t}}(t,e,n,r,mi,vi,gi,Mi);if(b){s&&(_i.fromBufferAttribute(s,c),Ti.fromBufferAttribute(s,u),Si.fromBufferAttribute(s,h),b.uv=kr.getUV(Mi,mi,vi,gi,_i,Ti,Si,new an)),l&&(_i.fromBufferAttribute(l,c),Ti.fromBufferAttribute(l,u),Si.fromBufferAttribute(l,h),b.uv2=kr.getUV(Mi,mi,vi,gi,_i,Ti,Si,new an));var x=new Nr(c,u,h);kr.getNormal(mi,vi,gi,x.normal),b.face=x}return b}Ii.prototype=Object.assign(Object.create(mr.prototype),{constructor:Ii,isMesh:!0,copy:updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var r=e[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=t.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){var n,r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),fi.copy(r.boundingSphere),fi.applyMatrix4(o),!1!==t.ray.intersectsSphere(fi)&&(di.copy(o).invert(),pi.copy(t.ray).applyMatrix4(di),null===r.boundingBox||!1!==pi.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var a=r.index,s=r.attributes.position,l=r.morphAttributes.position,c=r.morphTargetsRelative,u=r.attributes.uv,h=r.attributes.uv2,d=r.groups,p=r.drawRange;if(null!==a)if(Array.isArray(i))for(var f=0,m=d.length;f<m;f++)for(var v=d[f],g=i[v.materialIndex],y=Math.max(v.start,p.start),b=Math.min(v.start+v.count,p.start+p.count),x=y,w=b;x<w;x+=3){var A=a.getX(x),E=a.getX(x+1),_=a.getX(x+2);(n=ki(this,g,t,pi,s,l,c,u,h,A,E,_))&&(n.faceIndex=Math.floor(x/3),n.face.materialIndex=v.materialIndex,e.push(n))}else for(var T=Math.max(0,p.start),S=Math.min(a.count,p.start+p.count),M=T,C=S;M<C;M+=3){var I=a.getX(M),k=a.getX(M+1),R=a.getX(M+2);(n=ki(this,i,t,pi,s,l,c,u,h,I,k,R))&&(n.faceIndex=Math.floor(M/3),e.push(n))}else if(void 0!==s)if(Array.isArray(i))for(var L=0,O=d.length;L<O;L++)for(var D=d[L],P=i[D.materialIndex],B=Math.max(D.start,p.start),F=Math.min(D.start+D.count,p.start+p.count),N=B,U=F;N<U;N+=3){var j=N,z=N+1,G=N+2;(n=ki(this,P,t,pi,s,l,c,u,h,j,z,G))&&(n.faceIndex=Math.floor(N/3),n.face.materialIndex=D.materialIndex,e.push(n))}else for(var V=Math.max(0,p.start),H=Math.min(s.count,p.start+p.count),W=V,J=H;W<J;W+=3){var Z=W,Y=W+1,K=W+2;(n=ki(this,i,t,pi,s,l,c,u,h,Z,Y,K))&&(n.faceIndex=Math.floor(W/3),e.push(n))}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}});var Ri=hi);r Di={clone:Li,merge:Oi},Pi="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",Bi="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function Fi(t){jr.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Pi,this.fragmentShader=Bi,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}unction Ui(t,e,n,r){void 0===t&&(t=50),void 0===e&&(e=1),void 0===n&&(n=.1),void 0===r&&(r=2e3),Ni.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Fi.prototype=Object.create(jr.prototype),Fi.prototype.constructor=Fi,Fi.prototype.isShaderMaterial=!0,Fi.prototype.copy=Fi.prototype.toJSON=function(t){var e=jr.prototype.toJSON.call(this,t);for(var n in e.glslVersion=this.glslVersion,e.uniforms={},this.uniforms){var r=this.uniforms[n],i=r.value;i&&i.isTexture?e.uniforms[n]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?e.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?e.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?e.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?e.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?e.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?e.uniforms[n]={type:"m4",value:i.toArray()}:e.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var o={};for(var a in this.extensions)!0===this.extensions[a]&&(o[a]=!0);return Object.keys(o).length>0&&(e.extensions=o),e},Ni.prototype=Object.assign(Object.create(mr.prototype),{constructor:Ni,isCamera:!0,copy:getWorldDirection:updateMatrixWorld:function(t){mr.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,e){mr.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),Ui.prototype=Object.assign(Object.create(Ni.prototype),{constructor:Ui,isPerspectiveCamera:!0,copy:setFocalLength:getFocalLength:getEffectiveFOV:getFilmWidth:getFilmHeight:setViewOffset:clearViewOffset:updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*on.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,e-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var l=this.filmOffset;0!==l&&(i+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:);var ji=90,zi=1;function Gi(t,e,n){if(mr.call(this),this.type="CubeCamera",!0===n.isWebGLCubeRenderTarget){this.renderTarget=n;var r=new Ui(ji,zi,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new vn(1,0,0)),this.add(r);var i=new Ui(ji,zi,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new vn(-1,0,0)),this.add(i);var o=new Ui(ji,zi,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new vn(0,1,0)),this.add(o);var a=new Ui(ji,zi,t,e);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new vn(0,-1,0)),this.add(a);var s=new Ui(ji,zi,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new vn(0,0,1)),this.add(s);var l=new Ui(ji,zi,t,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new vn(0,0,-1)),this.add(l),this.update=else console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.")}i.prototype=Object.create(mr.prototype),Gi.prototype.constructor=Gi,Vi.prototype=Object.create(un.prototype),Vi.prototype.constructor=Vi,Vi.prototype.isCubeTexture=!0,Object.defineProperty(Vi.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var Hi=function(t){function e(e,n,r){var i;return Number.isInteger(n)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),n=r),i=t.call(this,e,e,n)||this,Object.defineProperty(Qe(i),"isWebGLCubeRenderTarget",{value:!0}),n=n||{},i.texture=new Vi(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),i.texture._needsFlipEnvMap=!1,i}Ke(e,t);var n=e.prototype;return n.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=Ct,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;var n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new Ri(5,5,5),i=new Fi({name:"CubemapFromEquirect",uniforms:Li(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:d,blending:f});i.uniforms.tEquirect.value=e;var o=new Ii(r,i),a=e.minFilter;e.minFilter===pt&&(e.minFilter=ht);var s=new Gi(1,10,this);return s.update(t,o),e.minFilter=a,o.geometry.dispose(),o.material.dispose(),this},n.clear=e}(pn);i.prototype=Object.create(un.prototype),Wi.prototype.constructor=Wi,Wi.prototype.isDataTexture=!0;var Ji=new Pn,Zi=new vn,Yi=function(){ar e=t.prototype;return e.set=e.clone=function(){return(new this.constructor).copy(this)},e.copy=e.setFromProjectionMatrix=e.intersectsObject=e.intersectsSprite=e.intersectsSphere=function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){var o=e[i].distanceToPoint(n);if(o<r)return!1}return!0},e.intersectsBox=e.containsPoint=t}();unction Qi(t,e){var n=e.isWebGL2,r=new WeakMap;return{get:remove:update:function(e,i){if(e.isGLBufferAttribute){var o=r.get(e);(!o||o.version<e.version)&&r.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version})}else{e.isInterleavedBufferAttribute&&(e=e.data);var a=r.get(e);void 0===a?r.set(e,e,i)):a.version<e.version&&(a.buffer,e,i),a.version=e.version)}}}}var qi=function(t){function e(e,n,r,i){var o;void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=1),(o=t.call(this)||this).type="PlaneGeometry",o.parameters={width:e,height:n,widthSegments:r,heightSegments:i};for(var a=e/2,s=n/2,l=Math.floor(r),c=Math.floor(i),u=l+1,h=c+1,d=e/l,p=n/c,f=[],m=[],v=[],g=[],y=0;y<h;y++)for(var b=y*p-s,x=0;x<u;x++){var w=x*d-a;m.push(w,-b,0),v.push(0,0,1),g.push(x/l),g.push(1-y/c)}for(var A=0;A<c;A++)for(var E=0;E<l;E++){var _=E+u*A,T=E+u*(A+1),S=E+1+u*(A+1),M=E+1+u*A;f.push(_,T,M),f.push(T,S,M)}return o.setIndex(f),o.setAttribute("position",new $r(m,3)),o.setAttribute("normal",new $r(v,3)),o.setAttribute("uv",new $r(g,2)),o}return Ke(e,t),e}(hi),Xi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(\t\t0, 1,\t\t0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t\tf.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t\tf.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(\t1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,\t1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,\t1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},$i={common:{diffuse:{value:new Fr(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new sn},uv2Transform:{value:new sn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new an(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Fr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Fr(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new sn}},sprite:{diffuse:{value:new Fr(15658734)},opacity:{value:1},center:{value:new an(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new sn}}},to={basic:{uniforms:Oi([$i.common,$i.specularmap,$i.envmap,$i.aomap,$i.lightmap,$i.fog]),vertexShader:Xi.meshbasic_vert,fragmentShader:Xi.meshbasic_frag},lambert:{uniforms:Oi([$i.common,$i.specularmap,$i.envmap,$i.aomap,$i.lightmap,$i.emissivemap,$i.fog,$i.lights,{emissive:{value:new Fr(0)}}]),vertexShader:Xi.meshlambert_vert,fragmentShader:Xi.meshlambert_frag},phong:{uniforms:Oi([$i.common,$i.specularmap,$i.envmap,$i.aomap,$i.lightmap,$i.emissivemap,$i.bumpmap,$i.normalmap,$i.displacementmap,$i.fog,$i.lights,{emissive:{value:new Fr(0)},specular:{value:new Fr(1118481)},shininess:{value:30}}]),vertexShader:Xi.meshphong_vert,fragmentShader:Xi.meshphong_frag},standard:{uniforms:Oi([$i.common,$i.envmap,$i.aomap,$i.lightmap,$i.emissivemap,$i.bumpmap,$i.normalmap,$i.displacementmap,$i.roughnessmap,$i.metalnessmap,$i.fog,$i.lights,{emissive:{value:new Fr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Xi.meshphysical_vert,fragmentShader:Xi.meshphysical_frag},toon:{uniforms:Oi([$i.common,$i.aomap,$i.lightmap,$i.emissivemap,$i.bumpmap,$i.normalmap,$i.displacementmap,$i.gradientmap,$i.fog,$i.lights,{emissive:{value:new Fr(0)}}]),vertexShader:Xi.meshtoon_vert,fragmentShader:Xi.meshtoon_frag},matcap:{uniforms:Oi([$i.common,$i.bumpmap,$i.normalmap,$i.displacementmap,$i.fog,{matcap:{value:null}}]),vertexShader:Xi.meshmatcap_vert,fragmentShader:Xi.meshmatcap_frag},points:{uniforms:Oi([$i.points,$i.fog]),vertexShader:Xi.points_vert,fragmentShader:Xi.points_frag},dashed:{uniforms:Oi([$i.common,$i.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Xi.linedashed_vert,fragmentShader:Xi.linedashed_frag},depth:{uniforms:Oi([$i.common,$i.displacementmap]),vertexShader:Xi.depth_vert,fragmentShader:Xi.depth_frag},normal:{uniforms:Oi([$i.common,$i.bumpmap,$i.normalmap,$i.displacementmap,{opacity:{value:1}}]),vertexShader:Xi.normal_vert,fragmentShader:Xi.normal_frag},sprite:{uniforms:Oi([$i.sprite,$i.fog]),vertexShader:Xi.sprite_vert,fragmentShader:Xi.sprite_frag},background:{uniforms:{uvTransform:{value:new sn},t2D:{value:null}},vertexShader:Xi.background_vert,fragmentShader:Xi.background_frag},cube:{uniforms:Oi([$i.envmap,{opacity:{value:1}}]),vertexShader:Xi.cube_vert,fragmentShader:Xi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Xi.equirect_vert,fragmentShader:Xi.equirect_frag},distanceRGBA:{uniforms:Oi([$i.common,$i.displacementmap,{referencePosition:{value:new vn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Xi.distanceRGBA_vert,fragmentShader:Xi.distanceRGBA_frag},shadow:{uniforms:Oi([$i.lights,$i.fog,{color:{value:new Fr(0)},opacity:{value:1}}]),vertexShader:Xi.shadow_vert,fragmentShader:Xi.shadow_frag}};function eo(t,e,n,r,i){var o,a,s=new Fr(0),l=0,c=null,u=0,p=null;eturn{getClearColor:function(){return s},setClearColor:function(t,e){void 0===e&&(e=1),s.set(t),f(s,l=e)},getClearAlpha:function(){return l},setClearAlpha:render:function(n,i,m,v){var g=!0===i.isScene?i.background:null;g&&g.isTexture&&(g=e.get(g));var y=t.xr,b=y.getSession&&y.getSession();b&&"additive"===b.environmentBlendMode&&(g=null),null===g?f(s,l):g&&g.isColor&&(f(g,1),v=!0),(t.autoClear||v)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),g&&(g.isCubeTexture||g.isWebGLCubeRenderTarget||g.mapping===rt)?(void 0===a&&((a=new Ii(new Ri(1,1,1),new Fi({name:"BackgroundCubeMaterial",uniforms:Li(to.cube.uniforms),vertexShader:to.cube.vertexShader,fragmentShader:to.cube.fragmentShader,side:d,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(a)),g.isWebGLCubeRenderTarget&&(g=g.texture),a.material.uniforms.envMap.value=g,a.material.uniforms.flipEnvMap.value=g.isCubeTexture&&g._needsFlipEnvMap?-1:1,c===g&&u===g.version&&p===t.toneMapping||(a.material.needsUpdate=!0,c=g,u=g.version,p=t.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null)):g&&g.isTexture&&(void 0===o&&((o=new Ii(new qi(2,2),new Fi({name:"BackgroundMaterial",uniforms:Li(to.background.uniforms),vertexShader:to.background.vertexShader,fragmentShader:to.background.fragmentShader,side:h,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(o)),o.material.uniforms.t2D.value=g,!0===g.matrixAutoUpdate&&g.updateMatrix(),o.material.uniforms.uvTransform.value.copy(g.matrix),c===g&&u===g.version&&p===t.toneMapping||(o.material.needsUpdate=!0,c=g,u=g.version,p=t.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null))}}}function no(t,e,n,r){var i=t.getParameter(34921),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},l=p(null),c=l;function u(e){return r.isWebGL2?t.bindVertexArray(e):o.bindVertexArrayOES(e)}unction d(e,n,i){var a=!0===i.wireframe,l=s[e.id];void 0===l&&(l={},s[e.id]=l);var c=l[n.id];void 0===c&&(c={},l[n.id]=c);var u=c[a];return void 0===u&&(u=p(r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()),c[a]=u),u}ction v(n,i){var o=c.newAttributes,a=c.enabledAttributes,s=c.attributeDivisors;if(o[n]=1,0===a[n]&&(t.enableVertexAttribArray(n),a[n]=1),s[n]!==i){var l=r.isWebGL2?t:e.get("ANGLE_instanced_arrays");l[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i}}rn{setup:function(i,o,s,l,h){var p=!1;if(a){var b=d(l,s,o);c!==b&&u((c=b).object),(p=function(t,e){var n=c.attributes,r=t.attributes,i=0;for(var o in r){var a=n[o],s=r[o];if(void 0===a)return!0;if(a.attribute!==s)return!0;if(a.data!==s.data)return!0;i++}return c.attributesNum!==i||c.index!==e}(l,h))&&function(t,e){var n={},r=t.attributes,i=0;for(var o in r){var a=r[o],s={};s.attribute=a,a.data&&(s.data=a.data),n[o]=s,i++}c.attributes=n,c.attributesNum=i,c.index=e}(l,h)}else{var x=!0===o.wireframe;c.geometry===l.id&&c.program===s.id&&c.wireframe===x||(c.geometry=l.id,c.program=s.id,c.wireframe=x,p=!0)}!0===i.isInstancedMesh&&(p=!0),null!==h&&n.update(h,34963),p&&(function(i,o,a,s){if(!1!==r.isWebGL2||!i.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==e.get("ANGLE_instanced_arrays")){f();var l=s.attributes,c=a.getAttributes(),u=o.defaultAttributeValues;for(var h in c){var d=c[h];if(d>=0){var p=l[h];if(void 0!==p){var b=p.normalized,x=p.itemSize,w=n.get(p);if(void 0===w)continue;var A=w.buffer,E=w.type,_=w.bytesPerElement;if(p.isInterleavedBufferAttribute){var T=p.data,S=T.stride,M=p.offset;T&&T.isInstancedInterleavedBuffer?(v(d,T.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=T.meshPerAttribute*T.count)):m(d),t.bindBuffer(34962,A),y(d,x,E,b,S*_,M*_)}else p.isInstancedBufferAttribute?(v(d,p.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=p.meshPerAttribute*p.count)):m(d),t.bindBuffer(34962,A),y(d,x,E,b,0,0)}else if("instanceMatrix"===h){var C=n.get(i.instanceMatrix);if(void 0===C)continue;var I=C.buffer,k=C.type;v(d+0,1),v(d+1,1),v(d+2,1),v(d+3,1),t.bindBuffer(34962,I),t.vertexAttribPointer(d+0,4,k,!1,64,0),t.vertexAttribPointer(d+1,4,k,!1,64,16),t.vertexAttribPointer(d+2,4,k,!1,64,32),t.vertexAttribPointer(d+3,4,k,!1,64,48)}else if("instanceColor"===h){var R=n.get(i.instanceColor);if(void 0===R)continue;var L=R.buffer,O=R.type;v(d,1),t.bindBuffer(34962,L),t.vertexAttribPointer(d,3,O,!1,12,0)}else if(void 0!==u){var D=u[h];if(void 0!==D)switch(D.length){case 2:t.vertexAttrib2fv(d,D);break;case 3:t.vertexAttrib3fv(d,D);break;case 4:t.vertexAttrib4fv(d,D);break;default:t.vertexAttrib1fv(d,D)}}}}g()}}(i,o,s,l),null!==h&&t.bindBuffer(34963,n.get(h).buffer))},reset:b,resetDefaultState:x,dispose:releaseStatesOfGeometry:releaseStatesOfProgram:initAttributes:f,enableAttribute:m,disableUnusedAttributes:g}}function ro(t,e,n,r){var i,o=r.isWebGL2;this.setMode=function(t){i=t},this.render=this.renderInstances=function(r,a,s){if(0!==s){var l,c;if(o)l=t,c="drawArraysInstanced";else if(l=e.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](i,r,a,s),n.update(a,i,s)}}}function io(t,e,n){var r;ar o="undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var l=!0===n.logarithmicDepthBuffer,c=t.getParameter(34930),u=t.getParameter(35660),h=t.getParameter(3379),d=t.getParameter(34076),p=t.getParameter(34921),f=t.getParameter(36347),m=t.getParameter(36348),v=t.getParameter(36349),g=u>0,y=o||!!e.get("OES_texture_float"),b=g&&y,x=o?t.getParameter(36183):0;return{isWebGL2:o,getMaxAnisotropy:getMaxPrecision:i,precision:a,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:b,maxSamples:x}}unction ao(t){var e=new WeakMap;turn{get:function(i){if(i&&i.isTexture){var o=i.mapping;if(o===et||o===nt){if(e.has(i)){var a=e.get(i).texture;return n(a,i.mapping)}var s=i.image;if(s&&s.height>0){var l=t.getRenderList(),c=t.getRenderTarget(),u=new Hi(s.height/2);return u.fromEquirectangularTexture(t,i),e.set(i,u),t.setRenderTarget(c),t.setRenderList(l),i.addEventListener("dispose",r),n(u.texture,i.mapping)}return null}}return i},dispose:function(){e=new WeakMap}}}unction lo(t,e,n,r){var i={},o=new WeakMap;turn{get:function(t,e){return!0===i[e.id]?e:(e.addEventListener("dispose",a),i[e.id]=!0,n.memory.geometries++,e)},update:getWireframeAttribute:}function co(t,e,n,r){var i,o,a,s=r.isWebGL2;this.setMode=function(t){i=t},this.setIndex=function(t){o=t.type,a=t.bytesPerElement},this.render=this.renderInstances=function(r,l,c){if(0!==c){var u,h;if(s)u=t,h="drawElementsInstanced";else if(u=e.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](i,l,o,r*a,c),n.update(l,i,c)}}}ction fo(t){for(var e={},n=new Float32Array(8),r=[],i=0;i<8;i++)r[i]=[i,0];return{update:function(i,o,a,s){var l=i.morphTargetInfluences,c=void 0===l?0:l.length,u=e[o.id];if(void 0===u){u=[];for(var h=0;h<c;h++)u[h]=[h,0];e[o.id]=u}for(var d=0;d<c;d++){var p=u[d];p[0]=d,p[1]=l[d]}u.sort(po);for(var f=0;f<8;f++)f<c&&u[f][1]?(r[f][0]=u[f][0],r[f][1]=u[f][1]):(r[f][0]=Number.MAX_SAFE_INTEGER,r[f][1]=0);r.sort(ho);for(var m=a.morphTargets&&o.morphAttributes.position,v=a.morphNormals&&o.morphAttributes.normal,g=0,y=0;y<8;y++){var b=r[y],x=b[0],w=b[1];x!==Number.MAX_SAFE_INTEGER&&w?(m&&o.getAttribute("morphTarget"+y)!==m[x]&&o.setAttribute("morphTarget"+y,m[x]),v&&o.getAttribute("morphNormal"+y)!==v[x]&&o.setAttribute("morphNormal"+y,v[x]),n[y]=w,g+=w):(m&&!0===o.hasAttribute("morphTarget"+y)&&o.deleteAttribute("morphTarget"+y),v&&!0===o.hasAttribute("morphNormal"+y)&&o.deleteAttribute("morphNormal"+y),n[y]=0)}var A=o.morphTargetsRelative?1:1-g;s.getUniforms().setValue(t,"morphTargetBaseInfluence",A),s.getUniforms().setValue(t,"morphTargetInfluences",n)}}}unction vo(t,e,n,r){void 0===t&&(t=null),void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=1),un.call(this,null),this.image={data:t,width:e,height:n,depth:r},this.magFilter=lt,this.minFilter=lt,this.wrapR=at,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function go(t,e,n,r){void 0===t&&(t=null),void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=1),un.call(this,null),this.image={data:t,width:e,height:n,depth:r},this.magFilter=lt,this.minFilter=lt,this.wrapR=at,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}to.physical={uniforms:Oi([to.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new an(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Fr(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Xi.meshphysical_vert,fragmentShader:Xi.meshphysical_frag},vo.prototype=Object.create(un.prototype),vo.prototype.constructor=vo,vo.prototype.isDataTexture2DArray=!0,go.prototype=Object.create(un.prototype),go.prototype.constructor=go,go.prototype.isDataTexture3D=!0;var yo=new un,bo=new vo,xo=new go,wo=new Vi,Ao=[],Eo=[],_o=new Float32Array(16),To=new Float32Array(9),So=new Float32Array(4);tion Ro(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}ction Po(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Co(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Io(n,e)}else{if(Co(n,r))return;So.set(r),t.uniformMatrix2fv(this.addr,!1,So),Io(n,r)}}function Bo(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Co(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Io(n,e)}else{if(Co(n,r))return;To.set(r),t.uniformMatrix3fv(this.addr,!1,To),Io(n,r)}}unction No(t,e,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(e||yo,i)}function Uo(t,e,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||bo,i)}function jo(t,e,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||xo,i)}unction Go(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Vo(t,e){var n=this.cache;Co(n,e)||(t.uniform2iv(this.addr,e),Io(n,e))}function Ho(t,e){var n=this.cache;Co(n,e)||(t.uniform3iv(this.addr,e),Io(n,e))}nction Zo(t,e){t.uniform1fv(this.addr,e)}function Yo(t,e){t.uniform1iv(this.addr,e)}function Ko(t,e){t.uniform2iv(this.addr,e)}function Qo(t,e){t.uniform3iv(this.addr,e)}unction Xo(t,e){var n=Mo(e,this.size,2);t.uniform2fv(this.addr,n)}function $o(t,e){var n=Mo(e,this.size,3);t.uniform3fv(this.addr,n)}unction ea(t,e){var n=Mo(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function na(t,e){var n=Mo(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}unction ia(t,e,n){var r=e.length,i=ko(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.safeSetTexture2D(e[o]||yo,i[o])}rototype.updateCache=la.prototype.setValue=var ca=/(\w+)(\])?(\[|\.)?/g;unction ha(t,e,n){var r=t.name,i=r.length;for(ca.lastIndex=0;;){var o=ca.exec(r),a=ca.lastIndex,s=o[1],l="]"===o[2],c=o[3];if(l&&(s|=0),void 0===c||"["===c&&a+2===i){ua(n,void 0===c?new aa(s,t,e):new sa(s,t,e));break}var u=n.map,h=u[s];void 0===h&&(h=new la(s),ua(n,h)),n=h}}function da(t,e){this.seq=[],this.map={};for(var n=t.getProgramParameter(e,35718),r=0;r<n;++r){var i=t.getActiveUniform(e,r),o=t.getUniformLocation(e,i.name);ha(i,o,this)}}a.prototype.setValue=da.prototype.setOptional=da.upload=da.seqWithValue=var fa=0;unction va(t,e,n){var r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&""===i)return"";var o=t.getShaderSource(e);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+o)}=/^[ \t]*#include +<([\w\d.\/]+)>/gm;function _a(t){return t.replace(Ea,Ta)}ar Sa=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Ma=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;unction Ia(t,e,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),ka(0,e,n,r)}nction La(t,e,n,r){var i,o,a=t.getContext(),s=n.defines,h=n.vertexShader,d=n.fragmentShader,p=n),f=n),m=n),v=n),g=t.gammaFactor>0?t.gammaFactor:1,y=n.isWebGL2?"":n),b=s),x=a.createProgram(),w=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[b].filter(xa).join("\n")).length>0&&(i+="\n"),(o=[y,b].filter(xa).join("\n")).length>0&&(o+="\n")):(i=[Ra(n),"#define SHADER_NAME "+n.shaderName,b,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+p:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(xa).join("\n"),o=[y,Ra(n),"#define SHADER_NAME "+n.shaderName,b,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+m:"",n.envMap?"#define "+v:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+p:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Z?"#define TONE_MAPPING":"",n.toneMapping!==Z?Xi.tonemapping_pars_fragment:"",n.toneMapping!==Z?ba("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Xi.encodings_pars_fragment,n.map?ga("mapTexelToLinear",n.mapEncoding):"",n.matcap?ga("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?ga("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?ga("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?ga("lightMapTexelToLinear",n.lightMapEncoding):"",ya("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(xa).join("\n")),h=Aa(h=wa(h=_a(h),n),n),d=Aa(d=wa(d=_a(d),n),n),h=Ca(h),d=Ca(d),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(w="#version 300 es\n",i=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,o=["#define varying in",n.glslVersion===We?"":"out highp vec4 pc_fragColor;",n.glslVersion===We?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+o);var A,E,_=w+i+h,T=w+o+d,S=pa(a,35633,_),M=pa(a,35632,T);if(a.attachShader(x,S),a.attachShader(x,M),void 0!==n.index0AttributeName?a.bindAttribLocation(x,0,n.index0AttributeName):!0===n.morphTargets&&a.bindAttribLocation(x,0,"position"),a.linkProgram(x),t.debug.checkShaderErrors){var C=a.getProgramInfoLog(x).trim(),I=a.getShaderInfoLog(S).trim(),k=a.getShaderInfoLog(M).trim(),R=!0,L=!0;if(!1===a.getProgramParameter(x,35714)){R=!1;var O=va(a,S,"vertex"),D=va(a,M,"fragment");console.error("THREE.WebGLProgram: shader error: ",a.getError(),"35715",a.getProgramParameter(x,35715),"gl.getProgramInfoLog",C,O,D)}else""!==C?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",C):""!==I&&""!==k||(L=!1);L&&(this.diagnostics={runnable:R,programLog:C,vertexShader:{log:I,prefix:i},fragmentShader:{log:k,prefix:o}})}return a.deleteShader(S),a.deleteShader(M),this.getUniforms=this.getAttributes=function(){return void 0===E&&(E=function(t,e){for(var n={},r=t.getProgramParameter(e,35721),i=0;i<r;i++){var o=t.getActiveAttrib(e,i),a=o.name;n[a]=t.getAttribLocation(e,a)}return n}(a,x)),E},this.destroy=this.name=n.shaderName,this.id=fa++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=S,this.fragmentShader=M,this}function Oa(t,e,n,r,i,o){var a=[],s=r.isWebGL2,l=r.logarithmicDepthBuffer,c=r.floatVertexTextures,u=r.maxVertexUniforms,h=r.vertexTextures,f=r.precision,m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},v=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];eturn{getParameters:function(i,a,v,y,b){var x,w,A=y.fog,E=i.isMeshStandardMaterial?y.environment:null,_=e.get(i.envMap||E),T=m[i.type],S=b.isSkinnedMesh?b):0;if(null!==i.precision&&(f=r.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",f,"instead."),T){var M=to[T];x=M.vertexShader,w=M.fragmentShader}else x=i.vertexShader,w=i.fragmentShader;var C=t.getRenderTarget();return{isWebGL2:s,shaderID:T,shaderName:i.type,vertexShader:x,fragmentShader:w,defines:i.defines,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:f,instancing:!0===b.isInstancedMesh,instancingColor:!0===b.isInstancedMesh&&null!==b.instanceColor,supportsVertexTextures:h,outputEncoding:null!==C?g(C.texture):t.outputEncoding,map:!!i.map,mapEncoding:g(i.map),matcap:!!i.matcap,matcapEncoding:g(i.matcap),envMap:!!_,envMapMode:_&&_.mapping,envMapEncoding:g(_),envMapCubeUV:!!_&&(_.mapping===rt||_.mapping===it),lightMap:!!i.lightMap,lightMapEncoding:g(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:g(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:i.normalMapType===je,tangentSpaceNormalMap:i.normalMapType===Ue,clearcoatMap:!!i.clearcoatMap,clearcoatRoughnessMap:!!i.clearcoatRoughnessMap,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,transmissionMap:!!i.transmissionMap,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexUvs:!!i.map||!!i.bumpMap||!!i.normalMap||!!i.specularMap||!!i.alphaMap||!!i.emissiveMap||!!i.roughnessMap||!!i.metalnessMap||!!i.clearcoatMap||!!i.clearcoatRoughnessMap||!!i.clearcoatNormalMap||!!i.displacementMap||!!i.transmissionMap,uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmissionMap)&&!!i.displacementMap,fog:!!A,useFog:i.fog,fogExp2:A&&A.isFogExp2,flatShading:i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:l,skinning:i.skinning&&S>0,maxBones:S,useVertexTexture:c,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:i.dithering,shadowMapEnabled:t.shadowMap.enabled&&v.length>0,shadowMapType:t.shadowMap.type,toneMapping:i.toneMapped?t.toneMapping:Z,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===p,flipSided:i.side===d,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()}},getProgramCacheKey:getUniforms:acquireProgram:releaseProgram:programs:a}}=0;unction Ga(t,e){for(var n=new Ua,r=),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},o=0;o<9;o++)i.probe.push(new vn);var a=new vn,s=new Hn,l=new Hn;return{setup:function(o){for(var a=0,s=0,l=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var u=0,h=0,d=0,p=0,f=0,m=0,v=0,g=0;o.sort(za);for(var y=0,b=o.length;y<b;y++){var x=o[y],w=x.color,A=x.intensity,E=x.distance,_=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)a+=w.r*A,s+=w.g*A,l+=w.b*A;else if(x.isLightProbe)for(var T=0;T<9;T++)i.probe[T].addScaledVector(x.sh.coefficients[T],A);else if(x.isDirectionalLight){var S=n.get(x);if(S.color.copy(x.color).multiplyScalar(x.intensity),x.castShadow){var M=x.shadow,C=r.get(x);C.shadowBias=M.bias,C.shadowNormalBias=M.normalBias,C.shadowRadius=M.radius,C.shadowMapSize=M.mapSize,i.directionalShadow[u]=C,i.directionalShadowMap[u]=_,i.directionalShadowMatrix[u]=x.shadow.matrix,m++}i.directional[u]=S,u++}else if(x.isSpotLight){var I=n.get(x);if(I.position.setFromMatrixPosition(x.matrixWorld),I.color.copy(w).multiplyScalar(A),I.distance=E,I.coneCos=Math.cos(x.angle),I.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),I.decay=x.decay,x.castShadow){var k=x.shadow,R=r.get(x);R.shadowBias=k.bias,R.shadowNormalBias=k.normalBias,R.shadowRadius=k.radius,R.shadowMapSize=k.mapSize,i.spotShadow[d]=R,i.spotShadowMap[d]=_,i.spotShadowMatrix[d]=x.shadow.matrix,g++}i.spot[d]=I,d++}else if(x.isRectAreaLight){var L=n.get(x);L.color.copy(w).multiplyScalar(A),L.halfWidth.set(.5*x.width,0,0),L.halfHeight.set(0,.5*x.height,0),i.rectArea[p]=L,p++}else if(x.isPointLight){var O=n.get(x);if(O.color.copy(x.color).multiplyScalar(x.intensity),O.distance=x.distance,O.decay=x.decay,x.castShadow){var D=x.shadow,P=r.get(x);P.shadowBias=D.bias,P.shadowNormalBias=D.normalBias,P.shadowRadius=D.radius,P.shadowMapSize=D.mapSize,P.shadowCameraNear=D.camera.near,P.shadowCameraFar=D.camera.far,i.pointShadow[h]=P,i.pointShadowMap[h]=_,i.pointShadowMatrix[h]=x.shadow.matrix,v++}i.point[h]=O,h++}else if(x.isHemisphereLight){var B=n.get(x);B.skyColor.copy(x.color).multiplyScalar(A),B.groundColor.copy(x.groundColor).multiplyScalar(A),i.hemi[f]=B,f++}}p>0&&(e.isWebGL2?(i.rectAreaLTC1=$i.LTC_FLOAT_1,i.rectAreaLTC2=$i.LTC_FLOAT_2):!0===t.has("OES_texture_float_linear")?(i.rectAreaLTC1=$i.LTC_FLOAT_1,i.rectAreaLTC2=$i.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=$i.LTC_HALF_1,i.rectAreaLTC2=$i.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=a,i.ambient[1]=s,i.ambient[2]=l;var F=i.hash;F.directionalLength===u&&F.pointLength===h&&F.spotLength===d&&F.rectAreaLength===p&&F.hemiLength===f&&F.numDirectionalShadows===m&&F.numPointShadows===v&&F.numSpotShadows===g||(i.directional.length=u,i.spot.length=d,i.rectArea.length=p,i.point.length=h,i.hemi.length=f,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=v,i.pointShadowMap.length=v,i.spotShadow.length=g,i.spotShadowMap.length=g,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=v,i.spotShadowMatrix.length=g,F.directionalLength=u,F.pointLength=h,F.spotLength=d,F.rectAreaLength=p,F.hemiLength=f,F.numDirectionalShadows=m,F.numPointShadows=v,F.numSpotShadows=g,i.version=ja++)},setupView:function(t,e){for(var n=0,r=0,o=0,c=0,u=0,h=e.matrixWorldInverse,d=0,p=t.length;d<p;d++){var f=t[d];if(f.isDirectionalLight){var m=i.directional[n];m.direction.setFromMatrixPosition(f.matrixWorld),a.setFromMatrixPosition(f.target.matrixWorld),m.direction.sub(a),m.direction.transformDirection(h),n++}else if(f.isSpotLight){var v=i.spot[o];v.position.setFromMatrixPosition(f.matrixWorld),v.position.applyMatrix4(h),v.direction.setFromMatrixPosition(f.matrixWorld),a.setFromMatrixPosition(f.target.matrixWorld),v.direction.sub(a),v.direction.transformDirection(h),o++}else if(f.isRectAreaLight){var g=i.rectArea[c];g.position.setFromMatrixPosition(f.matrixWorld),g.position.applyMatrix4(h),l.identity(),s.copy(f.matrixWorld),s.premultiply(h),l.extractRotation(s),g.halfWidth.set(.5*f.width,0,0),g.halfHeight.set(0,.5*f.height,0),g.halfWidth.applyMatrix4(l),g.halfHeight.applyMatrix4(l),c++}else if(f.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(f.matrixWorld),y.position.applyMatrix4(h),r++}else if(f.isHemisphereLight){var b=i.hemi[u];b.direction.setFromMatrixPosition(f.matrixWorld),b.direction.transformDirection(h),b.direction.normalize(),u++}}},state:i}}function Va(t,e){var n=new Ga(t,e),r=[],i=[],o={lightsArray:r,shadowsArray:i,lights:n};return{init:state:o,setupLights:function(){n.setup(r)},setupLightsView:function(t){n.setupView(r,t)},pushLight:function(t){r.push(t)},pushShadow:function(t){i.push(t)}}}function Ha(t,e){var n=new WeakMap;return{get:function(r,i){var o;return void 0===i&&(i=0),!1===n.has(r)?(o=new Va(t,e),n.set(r,[]),n.get(r).push(o)):i>=n.get(r).length?(o=new Va(t,e),n.get(r).push(o)):o=n.get(r)[i],o},dispose:}.prototype=Object.create(jr.prototype),Wa.prototype.constructor=Wa,Wa.prototype.isMeshDepthMaterial=!0,Wa.prototype.copy=Ja.prototype=Object.create(jr.prototype),Ja.prototype.constructor=Ja,Ja.prototype.isMeshDistanceMaterial=!0,Ja.prototype.copy=var Za="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}",Ya="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";function Ka(t,e,n){var r=new Yi,i=new an,o=new an,a=new dn,s=[],c=[],m={},v={0:d,1:h,2:p},g=new Fi({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new an},radius:{value:4}},vertexShader:Ya,fragmentShader:Za}),y=g.clone();y.defines.HORIZONTAL_PASS=1;var b=new hi;b.setAttribute("position",new Hr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var x=new Ii(b,g),w=this;unction E(t,e,n){var r=t<<0|e<<1|n<<2,i=s[r];return void 0===i&&(i=new Wa({depthPacking:Ne,morphTargets:t,skinning:e}),s[r]=i),i}unction T(e,n,r,i,o,a,s){var l=null,c=E,h=e.customDepthMaterial;if(!0===i.isPointLight&&(c=_,h=e.customDistanceMaterial),void 0===h){var d=!1;!0===r.morphTargets&&(d=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);var p=!1;!0===e.isSkinnedMesh&&(!0===r.skinning?p=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e));var f=!0===e.isInstancedMesh;l=c(d,p,f)}else l=h;if(t.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var g=l.uuid,y=r.uuid,b=m[g];void 0===b&&(b={},m[g]=b);var x=b[y];void 0===x&&(x=l.clone(),b[y]=x),l=x}return l.visible=r.visible,l.wireframe=r.wireframe,l.side=s===u?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:v[r.side],l.clipShadows=r.clipShadows,l.clippingPlanes=r.clippingPlanes,l.clipIntersection=r.clipIntersection,l.wireframeLinewidth=r.wireframeLinewidth,l.linewidth=r.linewidth,!0===i.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(i.matrixWorld),l.nearDistance=o,l.farDistance=a),l}function S(n,i,o,a,s){if(!1!==n.visible){var l=n.layers.test(i.layers);if(l&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===u)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var c=e.update(n),h=n.material;if(Array.isArray(h))for(var d=c.groups,p=0,f=d.length;p<f;p++){var m=d[p],v=h[m.materialIndex];if(v&&v.visible){var g=T(n,c,v,a,o.near,o.far,s);t.renderBufferDirect(o,null,c,g,n,m)}}else if(h.visible){var y=T(n,c,h,a,o.near,o.far,s);t.renderBufferDirect(o,null,c,y,n,null)}}for(var b=n.children,x=0,w=b.length;x<w;x++)S(b[x],i,o,a,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=l,this.render=function(e,s,l){if(!1!==w.enabled&&(!1!==w.autoUpdate||!1!==w.needsUpdate)&&0!==e.length){var c=t.getRenderTarget(),h=t.getActiveCubeFace(),d=t.getActiveMipmapLevel(),p=t.state;p.setBlending(f),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);for(var m=0,v=e.length;m<v;m++){var g=e[m],y=g.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){i.copy(y.mapSize);var b=y.getFrameExtents();if(i.multiply(b),o.copy(y.mapSize),(i.x>n||i.y>n)&&(i.x>n&&(o.x=Math.floor(n/b.x),i.x=o.x*b.x,y.mapSize.x=o.x),i.y>n&&(o.y=Math.floor(n/b.y),i.y=o.y*b.y,y.mapSize.y=o.y)),null===y.map&&!y.isPointLightShadow&&this.type===u){var x={minFilter:ht,magFilter:ht,format:Ct};y.map=new pn(i.x,i.y,x),y.map.texture.name=g.name+".shadowMap",y.mapPass=new pn(i.x,i.y,x),y.camera.updateProjectionMatrix()}if(null===y.map){var E={minFilter:lt,magFilter:lt,format:Ct};y.map=new pn(i.x,i.y,E),y.map.texture.name=g.name+".shadowMap",y.camera.updateProjectionMatrix()}t.setRenderTarget(y.map),t.clear();for(var _=y.getViewportCount(),T=0;T<_;T++){var M=y.getViewport(T);a.set(o.x*M.x,o.y*M.y,o.x*M.z,o.y*M.w),p.viewport(a),y.updateMatrices(g,T),r=y.getFrustum(),S(s,l,y.camera,g,this.type)}y.isPointLightShadow||this.type!==u||A(y,l),y.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}w.needsUpdate=!1,t.setRenderTarget(c,h,d)}}}function Qa(t,e,n){var r,a,l=n.isWebGL2,c=new u=new h=new H={},W=null,J=null,Z=null,Y=null,K=null,Q=null,q=null,X=null,$=null,tt=!1,et=null,nt=null,rt=null,it=null,ot=null,at=t.getParameter(35661),st=!1,lt=0,ct=t.getParameter(7938);-1!==ct.indexOf("WebGL")?(lt=parseFloat(/^WebGL (\d)/.exec(ct)[1]),st=lt>=1):-1!==ct.indexOf("OpenGL ES")&&(lt=parseFloat(/^OpenGL ES (\d)/.exec(ct)[1]),st=lt>=2);var ut=null,ht={},dt=new dn,pt=new dn;ar mt={};function vt(e){!0!==H[e]&&(t.enable(e),H[e]=!0)}t[3553]=ft(3553,3553,1),mt[34067]=ft(34067,34069,6),c.setClear(0,0,0,1),u.setClear(1),h.setClear(0),vt(2929),u.setFunc(U),At(!1),Et(o),vt(2884),wt(f);var yt=((r={})[x]=32774,r[w]=32778,r[A]=32779,r);if(l)yt[E]=32775,yt[_]=32776;else{var bt=e.get("EXT_blend_minmax");null!==bt&&(yt[E]=bt.MIN_EXT,yt[_]=bt.MAX_EXT)}var xt=((a={})[T]=0,a[S]=1,a[M]=768,a[I]=770,a[P]=776,a[O]=774,a[R]=772,a[C]=769,a[k]=771,a[D]=775,a[L]=773,a);n{buffers:{color:c,depth:u,stencil:h},enable:vt,disable:gt,useProgram:setBlending:wt,setMaterial:setFlipSided:At,setCullFace:Et,setLineWidth:setPolygonOffset:_t,setScissorTest:activeTexture:Tt,bindTexture:unbindTexture:compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:scissor:function(e){!1===dt.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),dt.copy(e))},viewport:reset:}function qa(t,e,n,r,i,o,a){var s,l,c,u=i.isWebGL2,h=i.maxTextures,d=i.maxCubemapSize,p=i.maxTextureSize,f=i.maxSamples,m=new WeakMap,v=!1;try{v="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(j){}unction y(t,e,n,r){var i=1;if((t.width>r||t.height>r)&&(i=r/Math.max(t.width,t.height)),i<1||!0===e){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){var o=e?on.floorPowerOfTwo:Math.floor,a=o(i*t.width),s=o(i*t.height);void 0===c&&(c=g(a,s));var l=n?g(a,s):c;l.width=a,l.height=s;var u=l.getContext("2d");return u.drawImage(t,0,0,a,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+a+"x"+s+")."),l}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t};unction C(e,i){var a=r.get(e);e.version>0&&a.__version!==e.version?function(e,r,i){if(6===r.image.length){L(e,r),n.activeTexture(33984+i),n.bindTexture(34067,e.__webglTexture),t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment);for(var a=r&&(r.isCompressedTexture||r.image[0].isCompressedTexture),s=r.image[0]&&r.image[0].isDataTexture,l=[],c=0;c<6;c++)l[c]=a||s?s?r.image[c].image:r.image[c]:y(r.image[c],!1,!0,d);var h,p=l[0],f=b(p)||u,m=o.convert(r.format),v=o.convert(r.type),g=A(r.internalFormat,m,v);if(R(34067,r,f),a){for(var E=0;E<6;E++){h=l[E].mipmaps;for(var _=0;_<h.length;_++){var T=h[_];r.format!==Ct&&r.format!==Mt?null!==m?n.compressedTexImage2D(34069+E,_,g,T.width,T.height,0,T.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+E,_,g,T.width,T.height,0,m,v,T.data)}}e.__maxMipLevel=h.length-1}else{h=r.mipmaps;for(var S=0;S<6;S++)if(s){n.texImage2D(34069+S,0,g,l[S].width,l[S].height,0,m,v,l[S].data);for(var M=0;M<h.length;M++){var C=h[M],I=C.image[S].image;n.texImage2D(34069+S,M+1,g,I.width,I.height,0,m,v,I.data)}}else{n.texImage2D(34069+S,0,g,m,v,l[S]);for(var k=0;k<h.length;k++){var O=h[k];n.texImage2D(34069+S,k+1,g,m,v,O.image[S])}}e.__maxMipLevel=h.length}x(r,f)&&w(34067,r,p.width,p.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}}(a,e,i):(n.activeTexture(33984+i),n.bindTexture(34067,a.__webglTexture))}var I=((s={})[ot]=10497,s[at]=33071,s[st]=33648,s),k=((l={})[lt]=9728,l[ct]=9984,l[ut]=9986,l[ht]=9729,l[dt]=9985,l[pt]=9987,l);1,U=!1;this.allocateTextureUnit=this.resetTextureUnits=function(){S=0},this.setTexture2D=M,this.setTexture2DArray=function(t,e){var i=r.get(t);t.version>0&&i.__version!==t.version?O(i,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=this.setTextureCube=C,this.setupRenderTarget=this.updateRenderTargetMipmap=function(t){var e=t.texture,i=b(t)||u;if(x(e,i)){var o=t.isWebGLCubeRenderTarget?34067:3553,a=r.get(e).__webglTexture;n.bindTexture(o,a),w(o,e,t.width,t.height),n.bindTexture(o,null)}},this.updateMultisampleRenderTarget=this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===N&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),N=!0),t=t.texture),M(t,e)},this.safeSetTextureCube=function Xa(t,e,n){var r=n.isWebGL2;return{convert:function(t){var n;if(t===ft)return 5121;if(t===At)return 32819;if(t===Et)return 32820;if(t===_t)return 33635;if(t===mt)return 5120;if(t===vt)return 5122;if(t===gt)return 5123;if(t===yt)return 5124;if(t===bt)return 5125;if(t===xt)return 5126;if(t===wt)return r?5131:null!==(n=e.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(t===St)return 6406;if(t===Mt)return 6407;if(t===Ct)return 6408;if(t===It)return 6409;if(t===kt)return 6410;if(t===Lt)return 6402;if(t===Ot)return 34041;if(t===Dt)return 6403;if(t===Pt)return 36244;if(t===Bt)return 33319;if(t===Ft)return 33320;if(t===Nt)return 36248;if(t===Ut)return 36249;if(t===jt||t===zt||t===Gt||t===Vt){if(null===(n=e.get("WEBGL_compressed_texture_s3tc")))return null;if(t===jt)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===zt)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===Gt)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===Vt)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(t===Ht||t===Wt||t===Jt||t===Zt){if(null===(n=e.get("WEBGL_compressed_texture_pvrtc")))return null;if(t===Ht)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===Wt)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===Jt)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===Zt)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===Yt)return null!==(n=e.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((t===Kt||t===Qt)&&null!==(n=e.get("WEBGL_compressed_texture_etc"))){if(t===Kt)return n.COMPRESSED_RGB8_ETC2;if(t===Qt)return n.COMPRESSED_RGBA8_ETC2_EAC}return t===qt||t===Xt||t===$t||t===te||t===ee||t===ne||t===re||t===ie||t===oe||t===ae||t===se||t===le||t===ce||t===ue||t===de||t===pe||t===fe||t===me||t===ve||t===ge||t===ye||t===be||t===xe||t===we||t===Ae||t===Ee||t===_e||t===Te?null!==(n=e.get("WEBGL_compressed_texture_astc"))?t:null:t===he?null!==(n=e.get("EXT_texture_compression_bptc"))?t:null:t===Tt?r?34042:null!==(n=e.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function $a(){mr.call(this),this.type="Group"}function ts(t){void 0===t&&(t=[]),Ui.call(this),this.cameras=t}$a.prototype=Object.assign(Object.create(mr.prototype),{constructor:$a,isGroup:!0}),ts.prototype=Object.assign(Object.create(Ui.prototype),{constructor:ts,isArrayCamera:!0});var es=new vn,ns=new vn;function rs(t){var e,n,r=this,i=null,o=null,a=null,s=[],l=new Hn,c=new Hn,u=1,h="local-floor";"undefined"!==typeof window&&"VRFrameData"in window&&(o=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",x,!1));var d=new Hn,p=new mn,f=new vn,m=new Ui;m.viewport=new dn,m.layers.enable(1);var v=new Ui;v.viewport=new dn,v.layers.enable(2);var g=new ts([m,v]);g.layers.enable(1),g.layers.enable(2);var y,b=new an;function x(){var o=r.isPresenting=null!==i&&!0===i.isPresenting;if(o){var a=i.getEyeParameters("left");e=2*a.renderWidth*u,n=a.renderHeight*u,y=t.getPixelRatio(),t.getSize(b),t.setDrawingBufferSize(e,n,1),m.viewport.set(0,0,e/2,n),v.viewport.set(e/2,0,e/2,n),T.start(),r.dispatchEvent({type:"sessionstart"})}else r.enabled&&t.setDrawingBufferSize(b.width,b.height,y),T.stop(),r.dispatchEvent({type:"sessionend"})}var w=[],A=[];function E(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),n=0,r=e.length;n<r;n++){var i=e[n];if(i&&("Daydream Controller"===i.id||"Gear VR Controller"===i.id||"Oculus Go Controller"===i.id||"OpenVR Gamepad"===i.id||i.id.startsWith("Oculus Touch")||i.id.startsWith("HTC Vive Focus")||i.id.startsWith("Spatial Controller"))){var o=i.hand;if(0===t&&(""===o||"right"===o))return i;if(1===t&&"left"===o)return i}}}his.enabled=!1,this.getController=this.getDevice=function(){return i},this.setDevice=this.setFramebufferScaleFactor=function(t){u=t},this.setReferenceSpaceType=function(t){h=t},this.setPoseTarget=function(t){void 0!==t&&(a=t)},this.getCamera=function(t){var e="local-floor"===h?1.6:0;if(i.depthNear=t.near,i.depthFar=t.far,i.getFrameData(o),"local-floor"===h){var n=i.stageParameters;n?l.fromArray(n.sittingToStandingTransform):l.makeTranslation(0,e,0)}var r=o.pose,u=null!==a?a:t;u.matrix.copy(l),u.matrix.decompose(u.position,u.quaternion,u.scale),null!==r.orientation&&(p.fromArray(r.orientation),u.quaternion.multiply(p)),null!==r.position&&(p.setFromRotationMatrix(l),f.fromArray(r.position),f.applyQuaternion(p),u.position.add(f)),u.updateMatrixWorld();for(var y=u.children,b=0,x=y.length;b<x;b++)y[b].updateMatrixWorld(!0);m.near=t.near,v.near=t.near,m.far=t.far,v.far=t.far,m.matrixWorldInverse.fromArray(o.leftViewMatrix),v.matrixWorldInverse.fromArray(o.rightViewMatrix),c.getInverse(l),"local-floor"===h&&(m.matrixWorldInverse.multiply(c),v.matrixWorldInverse.multiply(c));var T=u.parent;null!==T&&(d.getInverse(T.matrixWorld),m.matrixWorldInverse.multiply(d),v.matrixWorldInverse.multiply(d)),m.matrixWorld.getInverse(m.matrixWorldInverse),v.matrixWorld.getInverse(v.matrixWorldInverse),m.projectionMatrix.fromArray(o.leftProjectionMatrix),v.projectionMatrix.fromArray(o.rightProjectionMatrix),g,m,v);var S=i.getLayers();if(S.length){var M=S[0];_(m.viewport,M.leftBounds),_(v.viewport,M.rightBounds)}return function(){for(var t=0;t<s.length;t++){var e=s[t],n=E(t);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&e.position.set(.2,-.6,-.05),null!==r.position&&e.position.fromArray(r.position),null!==r.orientation&&e.quaternion.fromArray(r.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(l),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var i="Daydream Controller"===n.id?0:1;void 0===w[t]&&(w[t]=!1),w[t]!==n.buttons[i].pressed&&(w[t]=n.buttons[i].pressed,!0===w[t]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"}))),i=2,void 0===A[t]&&(A[t]=!1),void 0!==n.buttons[i]&&A[t]!==n.buttons[i].pressed&&(A[t]=n.buttons[i].pressed,!0===A[t]?e.dispatchEvent({type:"squeezestart"}):(e.dispatchEvent({type:"squeezeend"}),e.dispatchEvent({type:"squeeze"})))}else e.visible=!1}}(),g},this.getStandingMatrix=function(){return l},this.isPresenting=!1;var T=new Ki;this.setAnimationLoop=function(t){T.setAnimationLoop(t),this.isPresenting&&T.start()},this.submitFrame=this.dispose=this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}unction os(t,e){var n,r=this,i=null,o=1,s=null,l="local-floor",c=null,u=null,h=[],d=new Map,p=[],f=new Ui;f.layers.enable(1),f.viewport=new dn;var m=new Ui;m.layers.enable(2),m.viewport=new dn;var v=[f,m],g=new ts;g.layers.enable(1),g.layers.enable(2);var y=null,b=null;s.layersEnabled=!1,this.enabled=!1,this.isPresenting=!1,this.getCameraPose=function(){return c},this.getController=function(t){var e=h[t];return void 0===e&&(e=new is,h[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){var e=h[t];return void 0===e&&(e=new is,h[t]=e),e.getGripSpace()},this.getHand=this.setFramebufferScaleFactor=function(t){o=t,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=this.getReferenceSpace=function(){return s},this.getSession=function(){return i},this.setSession=function(){var t,c=(t=a.mark(function t(c){var u,h;return a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(i=c)){t.next=24;break}if(i.addEventListener("select",x),i.addEventListener("selectstart",x),i.addEventListener("selectend",x),i.addEventListener("squeeze",x),i.addEventListener("squeezestart",x),i.addEventListener("squeezeend",x),i.addEventListener("end",w),i.addEventListener("inputsourceschange",A),!0===(u=e.getContextAttributes()).xrCompatible){t.next=14;break}return t.next=14,e.makeXRCompatible();case 14:return h={antialias:u.antialias,alpha:u.alpha,depth:u.depth,stencil:u.stencil,framebufferScaleFactor:o},n=new XRWebGLLayer(i,e,h),window.XRWebGLBinding&&this.layersEnabled?this.addLayer(n):i.updateRenderState({baseLayer:n}),t.next=19,i.requestReferenceSpace(l);case 19:s=t.sent,M.setContext(i),M.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"});case 24:case"end":return t.stop()}},t,this)}),;return function(t){return c.apply(this,arguments)}}(),this.addLayer=function(t){window.XRWebGLBinding&&this.layersEnabled&&i&&(p.push(t),i.updateRenderState({layers:p}))},this.removeLayer=function(t){window.XRWebGLBinding&&this.layersEnabled&&i&&(p.splice(p.indexOf(t),1),i.updateRenderState({layers:p}))};var E=new vn,_=new vn;his.setPoseTarget=this.getCamera=function(t){g.near=m.near=f.near=t.near,g.far=m.far=f.far=t.far,y===g.near&&b===g.far||(i.updateRenderState({depthNear:g.near,depthFar:g.far}),y=g.near,b=g.far);var e=t.parent,n=g.cameras,r=u||t;T(g,e);for(var o=0;o<n.length;o++)T(n[o],e);r.matrixWorld.copy(g.matrixWorld);for(var a=r.children,s=0,l=a.length;s<l;s++)a[s].updateMatrixWorld(!0);return 2===n.length?g,f,m):g.projectionMatrix.copy(f.projectionMatrix),g};var S=null,M=new Ki;M.setAnimationLoop(function(e,r){if(null!==(c=r.getViewerPose(s))){var o=c.views;t.setFramebuffer(n.framebuffer);var a=!1;o.length!==g.cameras.length&&(g.cameras.length=0,a=!0);for(var l=0;l<o.length;l++){var u=o[l],d=n.getViewport(u),p=v[l];p.matrix.fromArray(u.transform.matrix),p.projectionMatrix.fromArray(u.projectionMatrix),p.viewport.set(d.x,d.y,d.width,d.height),0===l&&g.matrix.copy(p.matrix),!0===a&&g.cameras.push(p)}}for(var f=i.inputSources,m=0;m<h.length;m++){var y=h[m],b=f[m];y.update(b,r,s)}S&&S(e,r)}),this.setAnimationLoop=function(t){S=t},this.dispose=function(){}}function as(t){unction n(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,n.side===d&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),n.side===d&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias);var r=t.get(n).envMap;r&&(e.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:refreshMaterialUniforms:function(t,r,i,o){r.isMeshBasicMaterial?e(t,r):r.isMeshLambertMaterial?(e(t,r),t,r)):r.isMeshToonMaterial?(e(t,r),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshPhongMaterial?(e(t,r),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshStandardMaterial?(e(t,r),r.isMeshPhysicalMaterial?function(t,e){n(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,e.side===d&&t.clearcoatNormalScale.value.negate()),t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap)}(t,r):n(t,r)):r.isMeshMatcapMaterial?(e(t,r),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshDepthMaterial?(e(t,r),t,r)):r.isMeshDistanceMaterial?(e(t,r),t,r)):r.isMeshNormalMaterial?(e(t,r),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isLineBasicMaterial?(t,r),r.isLineDashedMaterial&&t,r)):r.isPointsMaterial?t,r,i,o):r.isSpriteMaterial?t,r):r.isShadowMaterial?(t.color.value.copy(r.color),t.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function ss(t){var e=void 0!==(t=t||{}).canvas?t.canvas:function(){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.style.display="block",t}(),n=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,i=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,a=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=void 0!==t.powerPreference?t.powerPreference:"default",u=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,h=null,d=null,p=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Ie,this.physicallyCorrectLights=!1,this.toneMapping=Z,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f=this,m=!1,v=null,g=0,y=0,b=null,x=null,w=-1,A=null,E=new dn,_=new dn,T=null,S=e.width,M=e.height,C=1,I=null,k=null,R=new dn(0,0,S,M),L=new dn(0,0,S,M),O=!1,D=new Yi,P=!1,B=!1,F=new Hn,N=new vn,U={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};ar z,G,V,H,W,J,Y,K,Q,q,X,$,tt,et,nt,rt,it,ot,at,st,lt,ct=n;ry{var ht={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(e.addEventListener("webglcontextlost",gt,!1),e.addEventListener("webglcontextrestored",yt,!1),null===ct){var dt=["webgl2","webgl","experimental-webgl"];if(!0===f.isWebGL1Renderer&&dt.shift(),null===(ct=ut(dt,ht)))throw ut(dt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ct.getShaderPrecisionFormat&&(ct.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(kt){throw console.error("THREE.WebGLRenderer: "+kt.message),kt}function pt(){z=new so(ct),G=new io(ct,z,t),z.init(G),st=new Xa(ct,z,G),(V=new Qa(ct,z,G)).scissor(_.copy(L).multiplyScalar(C).floor()),V.viewport(E.copy(R).multiplyScalar(C).floor()),H=new uo(ct),W=new Da,J=new qa(ct,z,V,W,G,st,H),Y=new ao(f),K=new Qi(ct,G),lt=new no(ct,z,K,G),Q=new lo(ct,K,H,lt),q=new mo(ct,Q,K,H),it=new fo(ct),nt=new oo(W),X=new Oa(f,Y,z,G,lt,nt),$=new as(W),tt=new Na(W),et=new Ha(z,G),rt=new eo(f,Y,V,q,s),ot=new ro(ct,z,H,G),at=new co(ct,z,H,G),H.programs=X.programs,f.capabilities=G,f.extensions=z,f.properties=W,f.renderLists=tt,f.state=V,f.info=H}pt();var mt="undefined"!==typeof navigator&&"xr"in navigator?new os(f,ct):new rs(f);this.xr=mt;var vt=new Ka(f,q,G.maxTextureSize);.shadowMap=vt,this.getContext=function(){return ct},this.getContextAttributes=function(){return ct.getContextAttributes()},this.forceContextLoss=function(){var t=z.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=this.getPixelRatio=function(){return C},this.setPixelRatio=this.getSize=this.setSize=this.getDrawingBufferSize=this.setDrawingBufferSize=this.getCurrentViewport=this.getViewport=function(t){return t.copy(R)},this.setViewport=function(t,e,n,r){t.isVector4?R.set(t.x,t.y,t.z,t.w):R.set(t,e,n,r),V.viewport(E.copy(R).multiplyScalar(C).floor())},this.getScissor=function(t){return t.copy(L)},this.setScissor=this.getScissorTest=function(){return O},this.setScissorTest=this.setOpaqueSort=function(t){I=t},this.setTransparentSort=function(t){k=t},this.getClearColor=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),t=new Fr),t.copy(rt.getClearColor())},this.setClearColor=function(){rt.setClearColor.apply(rt,arguments)},this.getClearAlpha=function(){return rt.getClearAlpha()},this.setClearAlpha=this.clear=this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=this.dispose=this.renderBufferImmediate=this.renderBufferDirect=this.compile=function(t,e){(d=et.get(t)).init(),t.traverseVisible(,d.setupLights();var n=new WeakMap;t.traverse(};var Et=null,_t=new Ki;function Tt(t,e,n){for(var r=!0===e.isScene?e.overrideMaterial:null,i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,l=a.geometry,c=null===r?a.material:r,u=a.group;if(n.isArrayCamera)for(var h=n.cameras,p=0,f=h.length;p<f;p++){var m=h[p];s.layers.test(m.layers)&&(V.viewport(E.copy(m.viewport)),d.setupLightsView(m),St(s,e,m,l,c,u))}else St(s,e,n,l,c,u)}}function St(t,e,n,r,i,o){if(t.onBeforeRender(f,e,n,r,i,o),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){var a=It(n,e,i,t);V.setMaterial(i),lt.reset(),t,a)}else f.renderBufferDirect(n,e,r,i,t,o);t.onAfterRender(f,e,n,r,i,o)}function Mt(t,e,n){!0!==e.isScene&&(e=U);var r=W.get(t),i=d.state.lights,o=d.state.shadowsArray,a=i.state.version,s=X.getParameters(t,i.state,o,e,n),l=X.getProgramCacheKey(s),c=r.program,u=!0;if(r.environment=t.isMeshStandardMaterial?e.environment:null,r.fog=e.fog,r.envMap=Y.get(t.envMap||r.environment),void 0===c)t.addEventListener("dispose",bt);else if(c.cacheKey!==l)At(t);else if(r.lightsStateVersion!==a)u=!1;else{if(void 0!==s.shaderID)return;u=!1}u&&(s.uniforms=X.getUniforms(t),t.onBeforeCompile(s,f),c=X.acquireProgram(s,l),r.program=c,r.uniforms=s.uniforms,r.outputEncoding=s.outputEncoding);var h=r.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=nt.numPlanes,r.numIntersection=nt.numIntersection,h.clippingPlanes=nt.uniform),r.needsLights=t),r.lightsStateVersion=a,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotShadowMatrix.value=i.state.spotShadowMatrix,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix);var p=r.program.getUniforms(),m=da.seqWithValue(p.seq,h);r.uniformsList=m}function It(t,e,n,r){!0!==e.isScene&&(e=U),J.resetTextureUnits();var i=e.fog,o=n.isMeshStandardMaterial?e.environment:null,a=null===b?f.outputEncoding:b.texture.encoding,s=Y.get(n.envMap||o),l=W.get(n),c=d.state.lights;if(!0===P&&(!0===B||t!==A)){var u=t===A&&n.id===w;nt.setState(n,t,u)}n.version===l.__version?n.fog&&l.fog!==i?Mt(n,e,r):l.environment!==o?Mt(n,e,r):l.needsLights&&l.lightsStateVersion!==c.state.version?Mt(n,e,r):void 0===l.numClippingPlanes||l.numClippingPlanes===nt.numPlanes&&l.numIntersection===nt.numIntersection?l.outputEncoding!==a?Mt(n,e,r):l.envMap!==s&&Mt(n,e,r):Mt(n,e,r):(Mt(n,e,r),l.__version=n.version);var h,p,m=!1,v=!1,g=!1,y=l.program,x=y.getUniforms(),E=l.uniforms;if(V.useProgram(y.program)&&(m=!0,v=!0,g=!0),n.id!==w&&(w=n.id,v=!0),m||A!==t){if(x.setValue(ct,"projectionMatrix",t.projectionMatrix),G.logarithmicDepthBuffer&&x.setValue(ct,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),A!==t&&(A=t,v=!0,g=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var _=x.map.cameraPosition;void 0!==_&&_.setValue(ct,N.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&x.setValue(ct,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&x.setValue(ct,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){x.setOptional(ct,r,"bindMatrix"),x.setOptional(ct,r,"bindMatrixInverse");var T=r.skeleton;if(T){var S=T.bones;if(G.floatVertexTextures){if(null===T.boneTexture){var I=Math.sqrt(4*S.length);I=on.ceilPowerOfTwo(I),I=Math.max(I,4);var k=new Float32Array(I*I*4);k.set(T.boneMatrices);var R=new Wi(k,I,I,Ct,xt);T.boneMatrices=k,T.boneTexture=R,T.boneTextureSize=I}x.setValue(ct,"boneTexture",T.boneTexture,J),x.setValue(ct,"boneTextureSize",T.boneTextureSize)}else x.setOptional(ct,T,"boneMatrices")}}return(v||l.receiveShadow!==r.receiveShadow)&&(l.receiveShadow=r.receiveShadow,x.setValue(ct,"receiveShadow",r.receiveShadow)),v&&(x.setValue(ct,"toneMappingExposure",f.toneMappingExposure),l.needsLights&&(p=g,(h=E).ambientLightColor.needsUpdate=p,h.lightProbe.needsUpdate=p,h.directionalLights.needsUpdate=p,h.directionalLightShadows.needsUpdate=p,h.pointLights.needsUpdate=p,h.pointLightShadows.needsUpdate=p,h.spotLights.needsUpdate=p,h.spotLightShadows.needsUpdate=p,h.rectAreaLights.needsUpdate=p,h.hemisphereLights.needsUpdate=p),i&&n.fog&&$.refreshFogUniforms(E,i),$.refreshMaterialUniforms(E,n,C,M),da.upload(ct,l.uniformsList,E,J)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(da.upload(ct,l.uniformsList,E,J),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&x.setValue(ct,"center",r.center),x.setValue(ct,"modelViewMatrix",r.modelViewMatrix),x.setValue(ct,"normalMatrix",r.normalMatrix),x.setValue(ct,"modelMatrix",r.matrixWorld),y}_t.setAnimationLoop(,"undefined"!==typeof window&&_t.setContext(window),this.setAnimationLoop=this.render=function(t,e){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),void 0===e||!0===e.isCamera){if(!0!==m){lt.resetDefaultState(),w=-1,A=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===mt.enabled&&!0===mt.isPresenting&&(e=mt.getCamera(e)),!0===t.isScene&&t.onBeforeRender(f,t,e,n||b),(d=et.get(t,p.length)).init(),p.push(d),F.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),D.setFromProjectionMatrix(F),B=this.localClippingEnabled,P=nt.init(this.clippingPlanes,B,e),(h=tt.get(t,e)).init(),function t(e,n,r,i){if(!1!==e.visible){var o=e.layers.test(n.layers);if(o)if(e.isGroup)r=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(n);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||D.intersectsSprite(e)){i&&N.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F);var a=q.update(e),s=e.material;s.visible&&h.push(e,a,s,r,N.z,null)}}else if(e.isImmediateRenderObject)i&&N.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F),h.push(e,null,e.material,r,N.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==H.render.frame&&(e.skeleton.update(),e.skeleton.frame=H.render.frame),!e.frustumCulled||D.intersectsObject(e))){i&&N.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F);var l=q.update(e),c=e.material;if(Array.isArray(c))for(var u=l.groups,p=0,f=u.length;p<f;p++){var m=u[p],v=c[m.materialIndex];v&&v.visible&&h.push(e,l,v,r,N.z,m)}else c.visible&&h.push(e,l,c,r,N.z,null)}for(var g=e.children,y=0,b=g.length;y<b;y++)t(g[y],n,r,i)}}(t,e,0,f.sortObjects),h.finish(),!0===f.sortObjects&&h.sort(I,k),!0===P&&nt.beginShadows();var i=d.state.shadowsArray;vt.render(i,t,e),d.setupLights(),d.setupLightsView(e),!0===P&&nt.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),rt.render(h,t,e,r);var o=h.opaque,a=h.transparent;o.length>0&&Tt(o,t,e),a.length>0&&Tt(a,t,e),!0===t.isScene&&t.onAfterRender(f,t,e),null!==b&&(J.updateRenderTargetMipmap(b),J.updateMultisampleRenderTarget(b)),V.buffers.depth.setTest(!0),V.buffers.depth.setMask(!0),V.buffers.color.setMask(!0),V.setPolygonOffset(!1),mt.enabled&&mt.submitFrame&&mt.submitFrame(),p.pop(),d=p.length>0?p[p.length-1]:null,h=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setTexture2D=),this.setFramebuffer=this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderList=function(){return h},this.setRenderList=function(t){h=t},this.getRenderTarget=function(){return b},this.setRenderTarget=this.readRenderTargetPixels=function(t,e,n,r,i,o,a){if(t&&t.isWebGLRenderTarget){var s=W.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){var l=!1;s!==x&&(ct.bindFramebuffer(36160,s),l=!0);try{var c=t.texture,u=c.format,h=c.type;if(u!==Ct&&st.convert(u)!==ct.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var d=h===wt&&(z.has("EXT_color_buffer_half_float")||G.isWebGL2&&z.has("EXT_color_buffer_float"));if(h!==ft&&st.convert(h)!==ct.getParameter(35738)&&(h!==xt||!(G.isWebGL2||z.has("OES_texture_float")||z.has("WEBGL_color_buffer_float")))&&!d)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ct.checkFramebufferStatus(36160)?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&ct.readPixels(e,n,r,i,st.convert(u),st.convert(h),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{l&&ct.bindFramebuffer(36160,x)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=this.copyTextureToTexture=this.initTexture=this.resetState="undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}bject.assign(rs.prototype,$e.prototype),Object.assign(is.prototype,{constructor:is,getHandSpace:getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new $a,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:dispatchEvent:disconnect:update:function(t,e,n){var r=null,i=null,o=null,a=this._targetRay,s=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(l&&t.hand){o=!0;for(var c,u=Xe(t.hand.values());!(c=u()).done;){var h=c.value,d=e.getJointPose(h,n);if(void 0===l.joints[h.jointName]){var p=new $a;p.matrixAutoUpdate=!1,p.visible=!1,l.joints[h.jointName]=p,l.add(p)}var f=l.joints[h.jointName];null!==d&&(f.matrix.fromArray(d.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.jointRadius=d.radius),f.visible=null!==d}var m=l.joints["index-finger-tip"],v=l.joints["thumb-tip"],g=m.position.distanceTo(v.position);l.inputState.pinching&&g>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&g<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==a&&null!==(r=e.getPose(t.targetRaySpace,n))&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)),null!==s&&t.gripSpace&&null!==(i=e.getPose(t.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale));return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==o),this}}),Object.assign(os.prototype,$e.prototype),ls.prototype=Object.assign(Object.create(ss.prototype),{constructor:ls,isWebGL1Renderer:!0});var cs=),us=),hs=function(t){function e(){var e;return e=t.call(this)||this,Object.defineProperty(Qe(e),"isScene",{value:!0}),e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:Qe(e)})),e}Ke(e,t);var n=e.prototype;return n.copy=n.toJSON=e}(mr);bject.defineProperty(ds.prototype,"needsUpdate",{set:),Object.assign(ds.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:copyAt:set:clone:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=on.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new ds(e,this.stride);return n.setUsage(this.usage),n},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:);var ps,fs=new vn;unction vs(t){jr.call(this),this.type="SpriteMaterial",this.color=new Fr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}Object.defineProperties(ms.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:}),Object.assign(ms.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:setX:setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:getX:getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:setXY:setXYZ:setXYZW:clone:toJSON:),vs.prototype=Object.create(jr.prototype),vs.prototype.constructor=vs,vs.prototype.isSpriteMaterial=!0,vs.prototype.copy=function(t){return jr.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};var gs=new vn,ys=new vn,bs=new vn,xs=new an,ws=new an,As=new Hn,Es=new vn,_s=new vn,Ts=new vn,Ss=new an,Ms=new an,Cs=new an;function Is(t){if(mr.call(this),this.type="Sprite",void 0===ps){ps=new hi;var e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new ds(e,5);ps.setIndex([0,1,2,0,2,3]),ps.setAttribute("position",new ms(n,3,0,!1)),ps.setAttribute("uv",new ms(n,2,3,!1))}this.geometry=ps,this.material=void 0!==t?t:new vs,this.center=new an(.5,.5)}s.prototype=Object.assign(Object.create(mr.prototype),{constructor:Is,isSprite:!0,raycast:copy:);var Rs=new vn,Ls=new vn;s.prototype=Object.assign(Object.create(mr.prototype),{constructor:Os,isLOD:!0,copy:addLevel:getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:raycast:update:toJSON:);var Ds=new vn,Ps=new dn,Bs=new dn,Fs=new vn,Ns=new Hn;.prototype=Object.assign(Object.create(Ii.prototype),{constructor:Us,isSkinnedMesh:!0,copy:bind:pose:function(){this.skeleton.pose()},normalizeSkinWeights:updateMatrixWorld:function(t){Ii.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:),js.prototype=Object.assign(Object.create(mr.prototype),{constructor:js,isBone:!0});var zs=new Hn,Gs=new Hn;function Vs(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]),this.uuid=on.generateUUID(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(Vs.prototype,{init:calculateInverses:pose:update:clone:getBoneByName:dispose:fromJSON:toJSON:);var Hs=new Hn,Ws=new Hn,Js=[],Zs=new Ii;.prototype=Object.assign(Object.create(Ii.prototype),{constructor:Ys,isInstancedMesh:!0,copy:function(t){return Ii.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this},getColorAt:function(t,e){e.fromArray(this.instanceColor.array,3*t)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:setColorAt:setMatrixAt:updateMorphTargets:function(){},dispose:),Ks.prototype=Object.create(jr.prototype),Ks.prototype.constructor=Ks,Ks.prototype.isLineBasicMaterial=!0,Ks.prototype.copy=var Qs=new vn,qs=new vn,Xs=new Hn,$s=new Vn,tl=new Pn;function el(t,e){void 0===t&&(t=new hi),void 0===e&&(e=new Ks),mr.call(this),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}el.prototype=Object.assign(Object.create(mr.prototype),{constructor:el,isLine:!0,copy:function(t){return mr.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[0],r=1,i=e.count;r<i;r++)Qs.fromBufferAttribute(e,r-1),qs.fromBufferAttribute(e,r),n[r]=n[r-1],n[r]+=Qs.distanceTo(qs);t.setAttribute("lineDistance",new $r(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this},raycast:function(t,e){var n=this.geometry,r=this.matrixWorld,i=t.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),tl.copy(n.boundingSphere),tl.applyMatrix4(r),tl.radius+=i,!1!==t.ray.intersectsSphere(tl)){Xs.copy(r).invert(),$s.copy(t.ray).applyMatrix4(Xs);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new vn,l=new vn,c=new vn,u=new vn,h=this.isLineSegments?2:1;if(n.isBufferGeometry){var d=n.index,p=n.attributes,f=p.position;if(null!==d)for(var m=d.array,v=0,g=m.length-1;v<g;v+=h){var y=m[v],b=m[v+1];s.fromBufferAttribute(f,y),l.fromBufferAttribute(f,b);var x=$s.distanceSqToSegment(s,l,u,c);if(!(x>a)){u.applyMatrix4(this.matrixWorld);var w=t.ray.origin.distanceTo(u);w<t.near||w>t.far||e.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var A=0,E=f.count-1;A<E;A+=h){s.fromBufferAttribute(f,A),l.fromBufferAttribute(f,A+1);var _=$s.distanceSqToSegment(s,l,u,c);if(!(_>a)){u.applyMatrix4(this.matrixWorld);var T=t.ray.origin.distanceTo(u);T<t.near||T>t.far||e.push({distance:T,point:c.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var r=e[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=t.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var nl=new vn,rl=new vn;function il(t,e){el.call(this,t,e),this.type="LineSegments"}.prototype=Object.assign(Object.create(el.prototype),{constructor:il,isLineSegments:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[],r=0,i=e.count;r<i;r+=2)nl.fromBufferAttribute(e,r),rl.fromBufferAttribute(e,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+nl.distanceTo(rl);t.setAttribute("lineDistance",new $r(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}),ol.prototype=Object.assign(Object.create(el.prototype),{constructor:ol,isLineLoop:!0}),al.prototype=Object.create(jr.prototype),al.prototype.constructor=al,al.prototype.isPointsMaterial=!0,al.prototype.copy=var sl=new Hn,ll=new Vn,cl=new Pn,ul=new vn;function hl(t,e){void 0===t&&(t=new hi),void 0===e&&(e=new al),mr.call(this),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}ototype=Object.assign(Object.create(mr.prototype),{constructor:hl,isPoints:!0,copy:raycast:function(t,e){var n=this.geometry,r=this.matrixWorld,i=t.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),cl.copy(n.boundingSphere),cl.applyMatrix4(r),cl.radius+=i,!1!==t.ray.intersectsSphere(cl)){sl.copy(r).invert(),ll.copy(t.ray).applyMatrix4(sl);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(n.isBufferGeometry){var s=n.index,l=n.attributes,c=l.position;if(null!==s)for(var u=s.array,h=0,d=u.length;h<d;h++){var p=u[h];ul.fromBufferAttribute(c,p),dl(ul,p,a,r,t,e,this)}else for(var f=0,m=c.count;f<m;f++)ul.fromBufferAttribute(c,f),dl(ul,f,a,r,t,e,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},updateMorphTargets:),pl.prototype=Object.assign(Object.create(un.prototype),{constructor:pl,clone:isVideoTexture:!0,update:function(){var t=this.image,e="requestVideoFrameCallback"in t;!1===e&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),fl.prototype=Object.create(un.prototype),fl.prototype.constructor=fl,fl.prototype.isCompressedTexture=!0,ml.prototype=Object.create(un.prototype),ml.prototype.constructor=ml,ml.prototype.isCanvasTexture=!0,vl.prototype=Object.create(un.prototype),vl.prototype.constructor=vl,vl.prototype.isDepthTexture=!0;var gl=function(t){function e(e,n,r,i){var o;void 0===e&&(e=1),void 0===n&&(n=8),void 0===r&&(r=0),void 0===i&&(i=2*Math.PI),(o=t.call(this)||this).type="CircleGeometry",o.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);var a=[],s=[],l=[],c=[],u=new vn,h=new an;s.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(var d=0,p=3;d<=n;d++,p+=3){var f=r+d/n*i;u.x=e*Math.cos(f),u.y=e*Math.sin(f),s.push(u.x,u.y,u.z),l.push(0,0,1),h.x=(s[p]/e+1)/2,h.y=(s[p+1]/e+1)/2,c.push(h.x,h.y)}for(var m=1;m<=n;m++)a.push(m,m+1,0);return o.setIndex(a),o.setAttribute("position",new $r(s,3)),o.setAttribute("normal",new $r(l,3)),o.setAttribute("uv",new $r(c,2)),o}return Ke(e,t),e}(hi),yl=function(t){function e(e,n,r,i,o,a,s,l){var c;void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=8),void 0===o&&(o=1),void 0===a&&(a=!1),void 0===s&&(s=0),void 0===l&&(l=2*Math.PI),(c=t.call(this)||this).type="CylinderGeometry",c.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};var u=Qe(c);i=Math.floor(i),o=Math.floor(o);var h=[],d=[],p=[],f=[],m=0,v=[],g=r/2,y=0;function b(t){for(var r=m,o=new an,a=new vn,c=0,v=!0===t?e:n,b=!0===t?1:-1,x=1;x<=i;x++)d.push(0,g*b,0),p.push(0,b,0),f.push(.5,.5),m++;for(var w=m,A=0;A<=i;A++){var E=A/i,_=E*l+s,T=Math.cos(_),S=Math.sin(_);a.x=v*S,a.y=g*b,a.z=v*T,d.push(a.x,a.y,a.z),p.push(0,b,0),o.x=.5*T+.5,o.y=.5*S*b+.5,f.push(o.x,o.y),m++}for(var M=0;M<i;M++){var C=r+M,I=w+M;!0===t?h.push(I,I+1,C):h.push(I+1,I,C),c+=3}u.addGroup(y,c,!0===t?1:2),y+=c}return ),!1===a&&(e>0&&b(!0),n>0&&b(!1)),c.setIndex(h),c.setAttribute("position",new $r(d,3)),c.setAttribute("normal",new $r(p,3)),c.setAttribute("uv",new $r(f,2)),c}return Ke(e,t),e}(hi),bl=function(t){function e(e,n,r,i,o,a,s){var l;return void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=8),void 0===i&&(i=1),void 0===o&&(o=!1),void 0===a&&(a=0),void 0===s&&(s=2*Math.PI),(l=t.call(this,0,e,n,r,i,o,a,s)||this).type="ConeGeometry",l.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},l}return Ke(e,t),e}(yl),xl=function(t){function e(e,n,r,i){var o;void 0===r&&(r=1),void 0===i&&(i=0),(o=t.call(this)||this).type="PolyhedronGeometry",o.parameters={vertices:e,indices:n,radius:r,detail:i};var a=[],s=[];function l(t,e,n,r){for(var i=r+1,o=[],a=0;a<=i;a++){o[a]=[];for(var s=t.clone().lerp(n,a/i),l=e.clone().lerp(n,a/i),u=i-a,h=0;h<=u;h++)o[a][h]=0===h&&a===i?s:s.clone().lerp(l,h/u)}for(var d=0;d<i;d++)for(var p=0;p<2*(i-d)-1;p++){var f=Math.floor(p/2);p%2===0?(c(o[d][f+1]),c(o[d+1][f]),c(o[d][f])):(c(o[d][f+1]),c(o[d+1][f+1]),c(o[d+1][f]))}}rn i),r),),o.setAttribute("position",new $r(a,3)),o.setAttribute("normal",new $r(a.slice(),3)),o.setAttribute("uv",new $r(s,2)),0===i?o.computeVertexNormals():o.normalizeNormals(),o}return Ke(e,t),e}(hi),wl=function(t){function e(e,n){var r;void 0===e&&(e=1),void 0===n&&(n=0);var i=(1+Math.sqrt(5))/2,o=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-i,0,-o,i,0,o,-i,0,o,i,-o,-i,0,-o,i,0,o,-i,0,o,i,0,-i,0,-o,i,0,-o,-i,0,o,i,0,o];return(r=t.call(this,a,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,n)||this).type="DodecahedronGeometry",r.parameters={radius:e,detail:n},r}return Ke(e,t),e}(xl),Al=new vn,El=new vn,_l=new vn,Tl=new kr,Sl=function(t){function e(e,n){var r;if((r=t.call(this)||this).type="EdgesGeometry",r.parameters={thresholdAngle:n},n=void 0!==n?n:1,!0===e.isGeometry)return console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Qe(r);for(var i=Math.pow(10,4),o=Math.cos(on.DEG2RAD*n),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,c=[0,0,0],u=["a","b","c"],h=new Array(3),d={},p=[],f=0;f<l;f+=3){a?(c[0]=a.getX(f),c[1]=a.getX(f+1),c[2]=a.getX(f+2)):(c[0]=f,c[1]=f+1,c[2]=f+2);var m=Tl.a,v=Tl.b,g=Tl.c;if(m.fromBufferAttribute(s,c[0]),v.fromBufferAttribute(s,c[1]),g.fromBufferAttribute(s,c[2]),Tl.getNormal(_l),h[0]=Math.round(m.x*i)+","+Math.round(m.y*i)+","+Math.round(m.z*i),h[1]=Math.round(v.x*i)+","+Math.round(v.y*i)+","+Math.round(v.z*i),h[2]=Math.round(g.x*i)+","+Math.round(g.y*i)+","+Math.round(g.z*i),h[0]!==h[1]&&h[1]!==h[2]&&h[2]!==h[0])for(var y=0;y<3;y++){var b=(y+1)%3,x=h[y],w=h[b],A=Tl[u[y]],E=Tl[u[b]],_=x+"_"+w,T=w+"_"+x;T in d&&d[T]?(_l.dot(d[T].normal)<=o&&(p.push(A.x,A.y,A.z),p.push(E.x,E.y,E.z)),d[T]=null):_ in d||(d[_]={index0:c[y],index1:c[b],normal:_l.clone()})}}for(var S in d)if(d[S]){var M=d[S],C=M.index0,I=M.index1;Al.fromBufferAttribute(s,C),El.fromBufferAttribute(s,I),p.push(Al.x,Al.y,Al.z),p.push(El.x,El.y,El.z)}return r.setAttribute("position",new $r(p,3)),r}return Ke(e,t),e}(hi),Ml={triangulate:function(t,e,n){n=n||2;var r,i,o,a,s,l,c,u=e&&e.length,h=u?e[0]*n:t.length,d=Cl(t,0,h,n,!0),p=[];if(!d||d.next===d.prev)return p;if(u&&(d=t,e,d,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var f=n;f<h;f+=n)s=t[f],l=t[f+1],s<r&&(r=s),l<i&&(i=l),s>o&&(o=s),l>a&&(a=l);c=0!==(c=Math.max(o-r,a-i))?1/c:0}return kl(d,p,n,r,i,c),p}};n Pl(t,e){return t.x-e.x}ion zl(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!t,e)&&(Zl(t,e)&&Zl(e,t)&&t,e)&&(Gl(t.prev,t,e.prev)||Gl(t,e.prev,e))||Vl(t,e)&&Gl(t.prev,t,t.next)>0&&Gl(e.prev,e,e.next)>0)}ea:isClockWise:triangulateShape:function(t,e){var n=[],r=[],i=[];$l(t),tc(n,t);var o=t.length;e.forEach($l);for(var a=0;a<e.length;a++)r.push(o),o+=e[a].length,tc(n,e[a]);for(var s=Ml.triangulate(n,r),l=0;l<s.length;l+=3)i.push(s.slice(l,l+3));return i}};r ec=function(t){function e(e,n){var r;(r=t.call(this)||this).type="ExtrudeGeometry",r.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];for(var i=Qe(r),o=[],a=[],s=0,l=e.length;s<l;s++){var c=e[s];u(c)}function u(t){var e=[],r=void 0!==n.curveSegments?n.curveSegments:12,s=void 0!==n.steps?n.steps:1,l=void 0!==n.depth?n.depth:100,c=void 0===n.bevelEnabled||n.bevelEnabled,u=void 0!==n.bevelThickness?n.bevelThickness:6,h=void 0!==n.bevelSize?n.bevelSize:u-2,d=void 0!==n.bevelOffset?n.bevelOffset:0,p=void 0!==n.bevelSegments?n.bevelSegments:3,f=n.extrudePath,m=void 0!==n.UVGenerator?n.UVGenerator:nc;void 0!==n.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=n.amount);var v,g,y,b,x,w=!1;f&&(v=f.getSpacedPoints(s),w=!0,c=!1,g=f.computeFrenetFrames(s,!1),y=new vn,b=new vn,x=new vn),c||(p=0,u=0,h=0,d=0);var A=t.extractPoints(r),E=A.shape,_=A.holes,T=!Xl.isClockWise(E);if(T){E=E.reverse();for(var S=0,M=_.length;S<M;S++){var C=_[S];Xl.isClockWise(C)&&(_[S]=C.reverse())}}for(var I=Xl.triangulateShape(E,_),k=E,R=0,L=_.length;R<L;R++){var O=_[R];E=E.concat(O)}ar P=E.length,B=I.length;function F(t,e,n){var r,i,o,a=t.x-e.x,s=t.y-e.y,l=n.x-t.x,c=n.y-t.y,u=a*a+s*s,h=a*c-s*l;if(Math.abs(h)>Number.EPSILON){var d=Math.sqrt(u),p=Math.sqrt(l*l+c*c),f=e.x-s/d,m=e.y+a/d,v=n.x-c/p,g=n.y+l/p,y=((v-f)*c-(g-m)*l)/(a*c-s*l);r=f+a*y-t.x,i=m+s*y-t.y;var b=r*r+i*i;if(b<=2)return new an(r,i);o=Math.sqrt(b/2)}else{var x=!1;a>Number.EPSILON?l>Number.EPSILON&&(x=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(x=!0):Math.sign(s)===Math.sign(c)&&(x=!0),x?(r=-s,i=a,o=Math.sqrt(u)):(r=a,i=s,o=Math.sqrt(u/2))}return new an(r/o,i/o)}for(var N=[],U=0,j=k.length,z=j-1,G=U+1;U<j;U++,z++,G++)z===j&&(z=0),G===j&&(G=0),N[U]=F(k[U],k[z],k[G]);for(var V,H=[],W=N.concat(),J=0,Z=_.length;J<Z;J++){var Y=_[J];V=[];for(var K=0,Q=Y.length,q=Q-1,X=K+1;K<Q;K++,q++,X++)q===Q&&(q=0),X===Q&&(X=0),V[K]=F(Y[K],Y[q],Y[X]);H.push(V),W=W.concat(V)}for(var $=0;$<p;$++){for(var tt=$/p,et=u*Math.cos(tt*Math.PI/2),nt=h*Math.sin(tt*Math.PI/2)+d,rt=0,it=k.length;rt<it;rt++){var ot=D(k[rt],N[rt],nt);Lt(ot.x,ot.y,-et)}for(var at=0,st=_.length;at<st;at++){var lt=_[at];V=H[at];for(var ct=0,ut=lt.length;ct<ut;ct++){var ht=D(lt[ct],V[ct],nt);Lt(ht.x,ht.y,-et)}}}for(var dt=h+d,pt=0;pt<P;pt++){var ft=c?D(E[pt],W[pt],dt):E[pt];w?(b.copy(g.normals[0]).multiplyScalar(ft.x),y.copy(g.binormals[0]).multiplyScalar(ft.y),x.copy(v[0]).add(b).add(y),Lt(x.x,x.y,x.z)):Lt(ft.x,ft.y,0)}for(var mt=1;mt<=s;mt++)for(var vt=0;vt<P;vt++){var gt=c?D(E[vt],W[vt],dt):E[vt];w?(b.copy(g.normals[mt]).multiplyScalar(gt.x),y.copy(g.binormals[mt]).multiplyScalar(gt.y),x.copy(v[mt]).add(b).add(y),Lt(x.x,x.y,x.z)):Lt(gt.x,gt.y,l/s*mt)}for(var yt=p-1;yt>=0;yt--){for(var bt=yt/p,xt=u*Math.cos(bt*Math.PI/2),wt=h*Math.sin(bt*Math.PI/2)+d,At=0,Et=k.length;At<Et;At++){var _t=D(k[At],N[At],wt);Lt(_t.x,_t.y,l+xt)}for(var Tt=0,St=_.length;Tt<St;Tt++){var Mt=_[Tt];V=H[Tt];for(var Ct=0,It=Mt.length;Ct<It;Ct++){var kt=D(Mt[Ct],V[Ct],wt);w?Lt(kt.x,kt.y+v[s-1].y,v[s-1].x+xt):Lt(kt.x,kt.y,l+xt)}}}function Rt(t,e){for(var n=t.length;--n>=0;){var r=n,i=n-1;i<0&&(i=t.length-1);for(var o=0,a=s+2*p;o<a;o++){var l=P*o,c=P*(o+1),u=e+r+l,h=e+i+l,d=e+i+c,f=e+r+c;Dt(u,h,d,f)}}}return r.setAttribute("position",new $r(o,3)),r.setAttribute("uv",new $r(a,2)),r.computeVertexNormals(),r}Ke(e,t);var n=e.prototype;return n.toJSON=function(){var t=hi.prototype.toJSON.call(this),e=this.parameters.shapes,n=this.parameters.options;return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}(e,n,t)},e}(hi),nc={generateTopUV:generateSideWallUV:,rc=function(t){function e(e,n){var r;void 0===e&&(e=1),void 0===n&&(n=0);var i=(1+Math.sqrt(5))/2,o=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1];return(r=t.call(this,o,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,n)||this).type="IcosahedronGeometry",r.parameters={radius:e,detail:n},r}return Ke(e,t),e}(xl),ic=function(t){function e(e,n,r,i){var o;void 0===n&&(n=12),void 0===r&&(r=0),void 0===i&&(i=2*Math.PI),(o=t.call(this)||this).type="LatheGeometry",o.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=on.clamp(i,0,2*Math.PI);for(var a=[],s=[],l=[],c=1/n,u=new vn,h=new an,d=0;d<=n;d++)for(var p=r+d*c*i,f=Math.sin(p),m=Math.cos(p),v=0;v<=e.length-1;v++)u.x=e[v].x*f,u.y=e[v].y,u.z=e[v].x*m,s.push(u.x,u.y,u.z),h.x=d/n,h.y=v/(e.length-1),l.push(h.x,h.y);for(var g=0;g<n;g++)for(var y=0;y<e.length-1;y++){var b=y+g*e.length,x=b,w=b+e.length,A=b+e.length+1,E=b+1;a.push(x,w,E),a.push(w,A,E)}if(o.setIndex(a),o.setAttribute("position",new $r(s,3)),o.setAttribute("uv",new $r(l,2)),o.computeVertexNormals(),i===2*Math.PI)for(var _=o.attributes.normal.array,T=new vn,S=new vn,M=new vn,C=n*e.length*3,I=0,k=0;I<e.length;I++,k+=3)T.x=_[k+0],T.y=_[k+1],T.z=_[k+2],S.x=_[C+k+0],S.y=_[C+k+1],S.z=_[C+k+2],M.addVectors(T,S).normalize(),_[k+0]=_[C+k+0]=M.x,_[k+1]=_[C+k+1]=M.y,_[k+2]=_[C+k+2]=M.z;return o}return Ke(e,t),e}(hi),oc=function(t){function e(e,n){var r;return void 0===e&&(e=1),void 0===n&&(n=0),(r=t.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,n)||this).type="OctahedronGeometry",r.parameters={radius:e,detail:n},r}return Ke(e,t),e}(xl);function ac(t,e,n){hi.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n};var r=[],i=[],o=[],a=[],s=new vn,l=new vn,c=new vn,u=new vn,h=new vn;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var d=e+1,p=0;p<=n;p++)for(var f=p/n,m=0;m<=e;m++){var v=m/e;t(v,f,l),i.push(l.x,l.y,l.z),v-1e-5>=0?(t(v-1e-5,f,c),u.subVectors(l,c)):(t(v+1e-5,f,c),u.subVectors(c,l)),f-1e-5>=0?(t(v,f-1e-5,c),h.subVectors(l,c)):(t(v,f+1e-5,c),h.subVectors(c,l)),s.crossVectors(u,h).normalize(),o.push(s.x,s.y,s.z),a.push(v,f)}for(var g=0;g<n;g++)for(var y=0;y<e;y++){var b=g*d+y,x=g*d+y+1,w=(g+1)*d+y+1,A=(g+1)*d+y;r.push(b,x,A),r.push(x,w,A)}this.setIndex(r),this.setAttribute("position",new $r(i,3)),this.setAttribute("normal",new $r(o,3)),this.setAttribute("uv",new $r(a,2))}ac.prototype=Object.create(hi.prototype),ac.prototype.constructor=ac;var sc=function(t){function e(e,n,r,i,o,a){var s;void 0===e&&(e=.5),void 0===n&&(n=1),void 0===r&&(r=8),void 0===i&&(i=1),void 0===o&&(o=0),void 0===a&&(a=2*Math.PI),(s=t.call(this)||this).type="RingGeometry",s.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);for(var l=[],c=[],u=[],h=[],d=e,p=(n-e)/i,f=new vn,m=new an,v=0;v<=i;v++){for(var g=0;g<=r;g++){var y=o+g/r*a;f.x=d*Math.cos(y),f.y=d*Math.sin(y),c.push(f.x,f.y,f.z),u.push(0,0,1),m.x=(f.x/n+1)/2,m.y=(f.y/n+1)/2,h.push(m.x,m.y)}d+=p}for(var b=0;b<i;b++)for(var x=b*(r+1),w=0;w<r;w++){var A=w+x,E=A,_=A+r+1,T=A+r+2,S=A+1;l.push(E,_,S),l.push(_,T,S)}return s.setIndex(l),s.setAttribute("position",new $r(c,3)),s.setAttribute("normal",new $r(u,3)),s.setAttribute("uv",new $r(h,2)),s}return Ke(e,t),e}(hi),lc=function(t){function e(e,n){var r;void 0===n&&(n=12),(r=t.call(this)||this).type="ShapeGeometry",r.parameters={shapes:e,curveSegments:n};var i=[],o=[],a=[],s=[],l=0,c=0;if(!1===Array.isArray(e))h(e);else for(var u=0;u<e.length;u++)h(e[u]),r.addGroup(l,c,u),l+=c,c=0;eturn r.setIndex(i),r.setAttribute("position",new $r(o,3)),r.setAttribute("normal",new $r(a,3)),r.setAttribute("uv",new $r(s,2)),r}Ke(e,t);var n=e.prototype;return n.toJSON=function(){var t=hi.prototype.toJSON.call(this),e=this.parameters.shapes;return e,t)},e}(hi),cc=function(t){function e(e,n,r,i,o,a,s){var l;void 0===e&&(e=1),void 0===n&&(n=8),void 0===r&&(r=6),void 0===i&&(i=0),void 0===o&&(o=2*Math.PI),void 0===a&&(a=0),void 0===s&&(s=Math.PI),(l=t.call(this)||this).type="SphereGeometry",l.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));for(var c=Math.min(a+s,Math.PI),u=0,h=[],d=new vn,p=new vn,f=[],m=[],v=[],g=[],y=0;y<=r;y++){var b=[],x=y/r,w=0;0==y&&0==a?w=.5/n:y==r&&c==Math.PI&&(w=-.5/n);for(var A=0;A<=n;A++){var E=A/n;d.x=-e*Math.cos(i+E*o)*Math.sin(a+x*s),d.y=e*Math.cos(a+x*s),d.z=e*Math.sin(i+E*o)*Math.sin(a+x*s),m.push(d.x,d.y,d.z),p.copy(d).normalize(),v.push(p.x,p.y,p.z),g.push(E+w,1-x),b.push(u++)}h.push(b)}for(var _=0;_<r;_++)for(var T=0;T<n;T++){var S=h[_][T+1],M=h[_][T],C=h[_+1][T],I=h[_+1][T+1];(0!==_||a>0)&&f.push(S,M,I),(_!==r-1||c<Math.PI)&&f.push(M,C,I)}return l.setIndex(f),l.setAttribute("position",new $r(m,3)),l.setAttribute("normal",new $r(v,3)),l.setAttribute("uv",new $r(g,2)),l}return Ke(e,t),e}(hi),uc=function(t){function e(e,n){var r;return void 0===e&&(e=1),void 0===n&&(n=0),(r=t.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,n)||this).type="TetrahedronGeometry",r.parameters={radius:e,detail:n},r}return Ke(e,t),e}(xl),hc=function(t){function e(e,n){var r;void 0===n&&(n={});var i=n.font;if(!i||!i.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new hi||Qe(r);var o=i.generateShapes(e,n.size);return n.depth=void 0!==n.height?n.height:50,void 0===n.bevelThickness&&(n.bevelThickness=10),void 0===n.bevelSize&&(n.bevelSize=8),void 0===n.bevelEnabled&&(n.bevelEnabled=!1),(r=t.call(this,o,n)||this).type="TextGeometry",r}return Ke(e,t),e}(ec),dc=function(t){function e(e,n,r,i,o){var a;void 0===e&&(e=1),void 0===n&&(n=.4),void 0===r&&(r=8),void 0===i&&(i=6),void 0===o&&(o=2*Math.PI),(a=t.call(this)||this).type="TorusGeometry",a.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);for(var s=[],l=[],c=[],u=[],h=new vn,d=new vn,p=new vn,f=0;f<=r;f++)for(var m=0;m<=i;m++){var v=m/i*o,g=f/r*Math.PI*2;d.x=(e+n*Math.cos(g))*Math.cos(v),d.y=(e+n*Math.cos(g))*Math.sin(v),d.z=n*Math.sin(g),l.push(d.x,d.y,d.z),h.x=e*Math.cos(v),h.y=e*Math.sin(v),p.subVectors(d,h).normalize(),c.push(p.x,p.y,p.z),u.push(m/i),u.push(f/r)}for(var y=1;y<=r;y++)for(var b=1;b<=i;b++){var x=(i+1)*y+b-1,w=(i+1)*(y-1)+b-1,A=(i+1)*(y-1)+b,E=(i+1)*y+b;s.push(x,w,E),s.push(w,A,E)}return a.setIndex(s),a.setAttribute("position",new $r(l,3)),a.setAttribute("normal",new $r(c,3)),a.setAttribute("uv",new $r(u,2)),a}return Ke(e,t),e}(hi),pc=function(t){function e(e,n,r,i,o,a){var s;void 0===e&&(e=1),void 0===n&&(n=.4),void 0===r&&(r=64),void 0===i&&(i=8),void 0===o&&(o=2),void 0===a&&(a=3),(s=t.call(this)||this).type="TorusKnotGeometry",s.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:a},r=Math.floor(r),i=Math.floor(i);for(var l=[],c=[],u=[],h=[],d=new vn,p=new vn,f=new vn,m=new vn,v=new vn,g=new vn,y=new vn,b=0;b<=r;++b){var x=b/r*o*Math.PI*2;R(x,o,a,e,f),R(x+.01,o,a,e,m),g.subVectors(m,f),y.addVectors(m,f),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize();for(var w=0;w<=i;++w){var A=w/i*Math.PI*2,E=-n*Math.cos(A),_=n*Math.sin(A);d.x=f.x+(E*y.x+_*v.x),d.y=f.y+(E*y.y+_*v.y),d.z=f.z+(E*y.z+_*v.z),c.push(d.x,d.y,d.z),p.subVectors(d,f).normalize(),u.push(p.x,p.y,p.z),h.push(b/r),h.push(w/i)}}for(var T=1;T<=r;T++)for(var S=1;S<=i;S++){var M=(i+1)*(T-1)+(S-1),C=(i+1)*T+(S-1),I=(i+1)*T+S,k=(i+1)*(T-1)+S;l.push(M,C,k),l.push(C,I,k)}eturn s.setIndex(l),s.setAttribute("position",new $r(c,3)),s.setAttribute("normal",new $r(u,3)),s.setAttribute("uv",new $r(h,2)),s}return Ke(e,t),e}(hi),fc=function(t){function e(e,n,r,i,o){var a;void 0===n&&(n=64),void 0===r&&(r=1),void 0===i&&(i=8),void 0===o&&(o=!1),(a=t.call(this)||this).type="TubeGeometry",a.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};var s=e.computeFrenetFrames(n,o);a.tangents=s.tangents,a.normals=s.normals,a.binormals=s.binormals;var l=new vn,c=new vn,u=new an,h=new vn,d=[],p=[],f=[],m=[];eturn ),a.setIndex(m),a.setAttribute("position",new $r(d,3)),a.setAttribute("normal",new $r(p,3)),a.setAttribute("uv",new $r(f,2)),a}Ke(e,t);var n=e.prototype;return n.toJSON=e}(hi),mc=function(t){function e(e){var n;if((n=t.call(this)||this).type="WireframeGeometry",!0===e.isGeometry)return console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Qe(n);var r=[],i=[0,0],o={},a=new vn;if(null!==e.index){var s=e.attributes.position,l=e.index,c=e.groups;0===c.length&&(c=[{start:0,count:l.count,materialIndex:0}]);for(var u=0,h=c.length;u<h;++u)for(var d=c[u],p=d.start,f=d.count,m=p,v=p+f;m<v;m+=3)for(var g=0;g<3;g++){var y=l.getX(m+g),b=l.getX(m+(g+1)%3);i[0]=Math.min(y,b),i[1]=Math.max(y,b);var x=i[0]+","+i[1];void 0===o[x]&&(o[x]={index1:i[0],index2:i[1]})}for(var w in o){var A=o[w];a.fromBufferAttribute(s,A.index1),r.push(a.x,a.y,a.z),a.fromBufferAttribute(s,A.index2),r.push(a.x,a.y,a.z)}}else for(var E=e.attributes.position,_=0,T=E.count/3;_<T;_++)for(var S=0;S<3;S++){var M=3*_+S;a.fromBufferAttribute(E,M),r.push(a.x,a.y,a.z);var C=3*_+(S+1)%3;a.fromBufferAttribute(E,C),r.push(a.x,a.y,a.z)}return n.setAttribute("position",new $r(r,3)),n}return Ke(e,t),e}(hi),vc=Object.freeze({__proto__:null,BoxGeometry:Ri,BoxBufferGeometry:Ri,CircleGeometry:gl,CircleBufferGeometry:gl,ConeGeometry:bl,ConeBufferGeometry:bl,CylinderGeometry:yl,CylinderBufferGeometry:yl,DodecahedronGeometry:wl,DodecahedronBufferGeometry:wl,EdgesGeometry:Sl,ExtrudeGeometry:ec,ExtrudeBufferGeometry:ec,IcosahedronGeometry:rc,IcosahedronBufferGeometry:rc,LatheGeometry:ic,LatheBufferGeometry:ic,OctahedronGeometry:oc,OctahedronBufferGeometry:oc,ParametricGeometry:ac,ParametricBufferGeometry:ac,PlaneGeometry:qi,PlaneBufferGeometry:qi,PolyhedronGeometry:xl,PolyhedronBufferGeometry:xl,RingGeometry:sc,RingBufferGeometry:sc,ShapeGeometry:lc,ShapeBufferGeometry:lc,SphereGeometry:cc,SphereBufferGeometry:cc,TetrahedronGeometry:uc,TetrahedronBufferGeometry:uc,TextGeometry:hc,TextBufferGeometry:hc,TorusGeometry:dc,TorusBufferGeometry:dc,TorusKnotGeometry:pc,TorusKnotBufferGeometry:pc,TubeGeometry:fc,TubeBufferGeometry:fc,WireframeGeometry:mc});pe=Object.create(jr.prototype),gc.prototype.constructor=gc,gc.prototype.isShadowMaterial=!0,gc.prototype.copy=yc.prototype=Object.create(Fi.prototype),yc.prototype.constructor=yc,yc.prototype.isRawShaderMaterial=!0,bc.prototype=Object.create(jr.prototype),bc.prototype.constructor=bc,bc.prototype.isMeshStandardMaterial=!0,bc.prototype.copy=xc.prototype=Object.create(bc.prototype),xc.prototype.constructor=xc,xc.prototype.isMeshPhysicalMaterial=!0,xc.prototype.copy=wc.prototype=Object.create(jr.prototype),wc.prototype.constructor=wc,wc.prototype.isMeshPhongMaterial=!0,wc.prototype.copy=Ac.prototype=Object.create(jr.prototype),Ac.prototype.constructor=Ac,Ac.prototype.isMeshToonMaterial=!0,Ac.prototype.copy=Ec.prototype=Object.create(jr.prototype),Ec.prototype.constructor=Ec,Ec.prototype.isMeshNormalMaterial=!0,Ec.prototype.copy=_c.prototype=Object.create(jr.prototype),_c.prototype.constructor=_c,_c.prototype.isMeshLambertMaterial=!0,_c.prototype.copy=Tc.prototype=Object.create(jr.prototype),Tc.prototype.constructor=Tc,Tc.prototype.isMeshMatcapMaterial=!0,Tc.prototype.copy=Sc.prototype=Object.create(Ks.prototype),Sc.prototype.constructor=Sc,Sc.prototype.isLineDashedMaterial=!0,Sc.prototype.copy=var Mc=Object.freeze({__proto__:null,ShadowMaterial:gc,SpriteMaterial:vs,RawShaderMaterial:yc,ShaderMaterial:Fi,PointsMaterial:al,MeshPhysicalMaterial:xc,MeshStandardMaterial:bc,MeshPhongMaterial:wc,MeshToonMaterial:Ac,MeshNormalMaterial:Ec,MeshLambertMaterial:_c,MeshDepthMaterial:Wa,MeshDistanceMaterial:Ja,MeshBasicMaterial:zr,MeshMatcapMaterial:Tc,LineDashedMaterial:Sc,LineBasicMaterial:Ks,Material:jr}),Cc={arraySlice:convertArray:isTypedArray:getKeyframeOrder:sortedArray:flattenJSON:subclip:function(t,e,n,r,i){void 0===i&&(i=30);var o=t.clone();o.name=e;for(var a=[],s=0;s<o.tracks.length;++s){for(var l=o.tracks[s],c=l.getValueSize(),u=[],h=[],d=0;d<l.times.length;++d){var p=l.times[d]*i;if(!(p<n||p>=r)){u.push(l.times[d]);for(var f=0;f<c;++f)h.push(l.values[d*c+f])}}0!==u.length&&(l.times=Cc.convertArray(u,l.times.constructor),l.values=Cc.convertArray(h,l.values.constructor),a.push(l))}o.tracks=a;for(var m=1/0,v=0;v<o.tracks.length;++v)m>o.tracks[v].times[0]&&(m=o.tracks[v].times[0]);for(var g=0;g<o.tracks.length;++g)o.tracks[g].shift(-1*m);return o.resetDuration(),o},makeClipAdditive:function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=t),void 0===r&&(r=30),r<=0&&(r=30);for(var i=n.tracks.length,o=e/r,a=function(e){var r=n.tracks[e],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var a=t.tracks.find(;if(void 0===a)return"continue";var s=0,l=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);var c=0,u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);var h=r.times.length-1,d=void 0;if(o<=r.times[0]){var p=s,f=l-s;d=Cc.arraySlice(r.values,p,f)}else if(o>=r.times[h]){var m=h*l+s,v=m+l-s;d=Cc.arraySlice(r.values,m,v)}else{var g=r.createInterpolant(),y=s,b=l-s;g.evaluate(o),d=Cc.arraySlice(g.resultBuffer,y,b)}if("quaternion"===i){var x=(new mn).fromArray(d).normalize().conjugate();x.toArray(d)}for(var w=a.times.length,A=0;A<w;++A){var E=A*u+c;if("quaternion"===i)mn.multiplyQuaternionsFlat(a.values,E,d,0,a.values,E);else for(var _=u-2*c,T=0;T<_;++T)a.values[E+T]-=d[T]}},s=0;s<i;++s)a(s);return t.blendMode=2501,t}};nction Rc(t,e,n,r){Ic.call(this,t,e,n,r)}function Lc(t,e,n,r){Ic.call(this,t,e,n,r)}nction Pc(t,e,n,r){Oc.call(this,t,e,n,r)}function Bc(t,e,n,r){Oc.call(this,t,e,n,r)}function Fc(t,e,n,r){Ic.call(this,t,e,n,r)}function Nc(t,e,n,r){Oc.call(this,t,e,n,r)}function Uc(t,e,n,r){Oc.call(this,t,e,n,r)}unction zc(t,e,n,r){void 0===e&&(e=-1),void 0===r&&(r=Ce),this.name=t,this.tracks=n,this.duration=e,this.blendMode=r,this.uuid=on.generateUUID(),this.duration<0&&this.resetDuration()}bject.assign(Ic.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var o;n:{r:if(!(t<r)){for(var a=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===a)break;if(i=r,r=e[++n],t<r)break e}o=e.length;break n}if(t>=i)break t;var s=e[1];t<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===l)break;if(r=i,i=e[--n-1],t>=i)break e}o=n,n=0}for(;n<o;){var c=n+o>>>1;t<e[c]?o=c:n=c+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Ic.prototype,{beforeStart_:Ic.prototype.copySampleValue_,afterEnd_:Ic.prototype.copySampleValue_}),kc.prototype=Object.assign(Object.create(Ic.prototype),{constructor:kc,DefaultSettings_:{endingStart:Me,endingEnd:Me},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:i=t,a=2*e-n;break;case 2402:i=r.length-2,a=e+r[i]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=t,s=2*n-e;break;case 2402:o=1,s=n+r[1]-r[0];break;default:o=t-1,s=e}var l=.5*(n-e),c=this.valueSize;this._weightPrev=l/(e-a),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:),Rc.prototype=Object.assign(Object.create(Ic.prototype),{constructor:Rc,interpolate_:),Lc.prototype=Object.assign(Object.create(Ic.prototype),{constructor:Lc,interpolate_:),Object.assign(Oc,{toJSON:),Object.assign(Oc.prototype,{constructor:Oc,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new Lc(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Rc(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new kc(this.times,this.values,this.getValueSize(),t)},setInterpolation:getInterpolation:getValueSize:shift:scale:trim:function(t,e){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);var a=this.getValueSize();this.times=Cc.arraySlice(n,i,o),this.values=Cc.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),t=!1;break}o=s}if(void 0!==r&&Cc.isTypedArray(r))for(var l=0,c=r.length;l!==c;++l){var u=r[l];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,u),t=!1;break}}return t},optimize:function(){for(var t=Cc.arraySlice(this.times),e=Cc.arraySlice(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),i=t.length-1,o=1,a=1;a<i;++a){var s=!1,l=t[a],c=t[a+1];if(l!==c&&(1!==a||l!==t[0]))if(r)s=!0;else for(var u=a*n,h=u-n,d=u+n,p=0;p!==n;++p){var f=e[u+p];if(f!==e[h+p]||f!==e[d+p]){s=!0;break}}if(s){if(a!==o){t[o]=t[a];for(var m=a*n,v=o*n,g=0;g!==n;++g)e[v+g]=e[m+g]}++o}}if(i>0){t[o]=t[i];for(var y=i*n,b=o*n,x=0;x!==n;++x)e[b+x]=e[y+x];++o}return o!==t.length?(this.times=Cc.arraySlice(t,0,o),this.values=Cc.arraySlice(e,0,o*n)):(this.times=t,this.values=e),this},clone:function(){var t=Cc.arraySlice(this.times,0),e=Cc.arraySlice(this.values,0),n=this.constructor,r=new n(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}),Dc.prototype=Object.assign(Object.create(Oc.prototype),{constructor:Dc,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Pc.prototype=Object.assign(Object.create(Oc.prototype),{constructor:Pc,ValueTypeName:"color"}),Bc.prototype=Object.assign(Object.create(Oc.prototype),{constructor:Bc,ValueTypeName:"number"}),Fc.prototype=Object.assign(Object.create(Ic.prototype),{constructor:Fc,interpolate_:),Nc.prototype=Object.assign(Object.create(Oc.prototype),{constructor:Nc,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:InterpolantFactoryMethodSmooth:void 0}),Uc.prototype=Object.assign(Object.create(Oc.prototype),{constructor:Uc,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),jc.prototype=Object.assign(Object.create(Oc.prototype),{constructor:jc,ValueTypeName:"vector"}),Object.assign(zc,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,o=n.length;i!==o;++i)e.push(Gc(n[i]).scale(r));var a=new zc(t.name,t.duration,e,t.blendMode);return a.uuid=t.uuid,a},toJSON:CreateFromMorphTargetSequence:findByName:CreateClipsFromMorphTargetSequences:parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=r=[],i=t.name||"default",o=t.fps||30,a=t.blendMode,s=t.length||-1,l=t.hierarchy||[],c=0;c<l.length;c++){var u=l[c].keys;if(u&&0!==u.length)if(u[0].morphTargets){var h={},d=void 0;for(d=0;d<u.length;d++)if(u[d].morphTargets)for(var p=0;p<u[d].morphTargets.length;p++)h[u[d].morphTargets[p]]=-1;for(var f in h){for(var m=[],v=[],g=0;g!==u[d].morphTargets.length;++g){var y=u[d];m.push(y.time),v.push(y.morphTarget===f?1:0)}r.push(new Bc(".morphTargetInfluence["+f+"]",m,v))}s=h.length*(o||1)}else{var b=".bones["+e[c].name+"]";n(jc,b+".position",u,"pos",r),n(Nc,b+".quaternion",u,"rot",r),n(jc,b+".scale",u,"scl",r)}}if(0===r.length)return null;var x=new zc(i,s,r,a);return x}}),Object.assign(zc.prototype,{resetDuration:function(){for(var t=this.tracks,e=0,n=0,r=t.length;n!==r;++n){var i=this.tracks[n];e=Math.max(e,i.times[i.times.length-1])}return this.duration=e,this},trim:validate:optimize:clone:toJSON:function(){return zc.toJSON(this)}});var Vc={enabled:!1,files:{},add:get:remove:clear:function(){this.files={}}};ar Wc=new Hc;bject.assign(Jc.prototype,{load:function(){},loadAsync:parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});var Zc={};function Yc(t){Jc.call(this,t)}function Kc(t){Jc.call(this,t)}function Qc(t){Jc.call(this,t)}function qc(t){Jc.call(this,t)}function Xc(t){Jc.call(this,t)}function $c(t){Jc.call(this,t)}function tu(t){Jc.call(this,t)}ction iu(){var t=0,e=0,n=0,r=0;eturn{initCatmullRom:initNonuniformCatmullRom:calc:function(i){var o=i*i,a=o*i;return t+e*i+n*o+r*a}}}Yc.prototype=Object.assign(Object.create(Jc.prototype),{constructor:Yc,load:setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Kc.prototype=Object.assign(Object.create(Jc.prototype),{constructor:Kc,load:function(t,n,r,i){var o=this,a=new Yc(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(t,function(r){try{n(o.parse(JSON.parse(r)))}catch(e){i?i(e):console.error(e),o.manager.itemError(t)}},r,i)},parse:),Qc.prototype=Object.assign(Object.create(Jc.prototype),{constructor:Qc,load:function(t,e,n,r){var i=this,o=[],a=new fl,s=new Yc(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var l=0;function c(c){s.load(t[c],n,r)}if(Array.isArray(t))for(var u=0,h=t.length;u<h;++u)c(u);else s.load(t,function(t){var n=i.parse(t,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}a.image=o}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=ht),a.format=n.format,a.needsUpdate=!0,e&&e(a)},n,r);return a}}),qc.prototype=Object.assign(Object.create(Jc.prototype),{constructor:qc,load:),Xc.prototype=Object.assign(Object.create(Jc.prototype),{constructor:Xc,load:),$c.prototype=Object.assign(Object.create(Jc.prototype),{constructor:$c,load:function(t,e,n,r){var i=this,o=new Wi,a=new Yc(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(i.withCredentials),a.load(t,function(t){var n=i.parse(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:at,o.wrapT=void 0!==n.wrapT?n.wrapT:at,o.magFilter=void 0!==n.magFilter?n.magFilter:ht,o.minFilter=void 0!==n.minFilter?n.minFilter:ht,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(o.encoding=n.encoding),void 0!==n.flipY&&(o.flipY=n.flipY),void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=pt),1===n.mipmapCount&&(o.minFilter=ht),o.needsUpdate=!0,e&&e(o,n))},n,r),o}}),tu.prototype=Object.assign(Object.create(Jc.prototype),{constructor:tu,load:),Object.assign(eu.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n=[],r=this.getPoint(0),i=0;n.push(0);for(var o=1;o<=t;o++)e=this.getPoint(o/t),i+=e.distanceTo(r),n.push(i),r=e;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,o=r.length;n=e||t*r[o-1];for(var a,s=0,l=o-1;s<=l;)if(i=Math.floor(s+(l-s)/2),(a=r[i]-n)<0)s=i+1;else{if(!(a>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(o-1);var c=r[i],u=r[i+1],h=u-c,d=(n-c)/h,p=(i+d)/(o-1);return p},getTangent:getTangentAt:computeFrenetFrames:clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:fromJSON:),nu.prototype=Object.create(eu.prototype),nu.prototype.constructor=nu,nu.prototype.isEllipseCurve=!0,nu.prototype.getPoint=nu.prototype.copy=function(t){return eu.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},nu.prototype.toJSON=nu.prototype.fromJSON=ru.prototype=Object.create(nu.prototype),ru.prototype.constructor=ru,ru.prototype.isArcCurve=!0;var ou=new vn,au=new iu,su=new iu,lu=new iu;function cu(t,e,n,r){void 0===t&&(t=[]),void 0===e&&(e=!1),void 0===n&&(n="centripetal"),void 0===r&&(r=.5),eu.call(this),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=r}function uu(t,e,n,r,i){var o=.5*(r-e),a=.5*(i-n),s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}nction pu(t,e,n,r){void 0===t&&(t=new an),void 0===e&&(e=new an),void 0===n&&(n=new an),void 0===r&&(r=new an),eu.call(this),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=r}function fu(t,e,n,r){void 0===t&&(t=new vn),void 0===e&&(e=new vn),void 0===n&&(n=new vn),void 0===r&&(r=new vn),eu.call(this),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=r}function mu(t,e){void 0===t&&(t=new an),void 0===e&&(e=new an),eu.call(this),this.type="LineCurve",this.v1=t,this.v2=e}function vu(t,e){void 0===t&&(t=new vn),void 0===e&&(e=new vn),eu.call(this),this.type="LineCurve3",this.v1=t,this.v2=e}function gu(t,e,n){void 0===t&&(t=new an),void 0===e&&(e=new an),void 0===n&&(n=new an),eu.call(this),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}function yu(t,e,n){void 0===t&&(t=new vn),void 0===e&&(e=new vn),void 0===n&&(n=new vn),eu.call(this),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}function bu(t){void 0===t&&(t=[]),eu.call(this),this.type="SplineCurve",this.points=t}cu.prototype=Object.create(eu.prototype),cu.prototype.constructor=cu,cu.prototype.isCatmullRomCurve3=!0,cu.prototype.getPoint=function(t,e){void 0===e&&(e=new vn);var n,r,i=e,o=this.points,a=o.length,s=(a-(this.closed?0:1))*t,l=Math.floor(s),c=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:0===c&&l===a-1&&(l=a-2,c=1),this.closed||l>0?n=o[(l-1)%a]:(ou.subVectors(o[0],o[1]).add(o[0]),n=ou);var u=o[l%a],h=o[(l+1)%a];if(this.closed||l+2<a?r=o[(l+2)%a]:(ou.subVectors(o[a-1],o[a-2]).add(o[a-1]),r=ou),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,p=Math.pow(n.distanceToSquared(u),d),f=Math.pow(u.distanceToSquared(h),d),m=Math.pow(h.distanceToSquared(r),d);f<1e-4&&(f=1),p<1e-4&&(p=f),m<1e-4&&(m=f),au.initNonuniformCatmullRom(n.x,u.x,h.x,r.x,p,f,m),su.initNonuniformCatmullRom(n.y,u.y,h.y,r.y,p,f,m),lu.initNonuniformCatmullRom(n.z,u.z,h.z,r.z,p,f,m)}else"catmullrom"===this.curveType&&(au.initCatmullRom(n.x,u.x,h.x,r.x,this.tension),su.initCatmullRom(n.y,u.y,h.y,r.y,this.tension),lu.initCatmullRom(n.z,u.z,h.z,r.z,this.tension));return i.set(au.calc(c),su.calc(c),lu.calc(c)),i},cu.prototype.copy=cu.prototype.toJSON=cu.prototype.fromJSON=pu.prototype=Object.create(eu.prototype),pu.prototype.constructor=pu,pu.prototype.isCubicBezierCurve=!0,pu.prototype.getPoint=function(t,e){void 0===e&&(e=new an);var n=e,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(du(t,r.x,i.x,o.x,a.x),du(t,r.y,i.y,o.y,a.y)),n},pu.prototype.copy=function(t){return eu.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},pu.prototype.toJSON=function(){var t=eu.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},pu.prototype.fromJSON=function(t){return eu.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},fu.prototype=Object.create(eu.prototype),fu.prototype.constructor=fu,fu.prototype.isCubicBezierCurve3=!0,fu.prototype.getPoint=function(t,e){void 0===e&&(e=new vn);var n=e,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(du(t,r.x,i.x,o.x,a.x),du(t,r.y,i.y,o.y,a.y),du(t,r.z,i.z,o.z,a.z)),n},fu.prototype.copy=function(t){return eu.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},fu.prototype.toJSON=fu.prototype.fromJSON=mu.prototype=Object.create(eu.prototype),mu.prototype.constructor=mu,mu.prototype.isLineCurve=!0,mu.prototype.getPoint=function(t,e){void 0===e&&(e=new an);var n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},mu.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},mu.prototype.getTangent=mu.prototype.copy=function(t){return eu.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},mu.prototype.toJSON=function(){var t=eu.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},mu.prototype.fromJSON=function(t){return eu.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},vu.prototype=Object.create(eu.prototype),vu.prototype.constructor=vu,vu.prototype.isLineCurve3=!0,vu.prototype.getPoint=function(t,e){void 0===e&&(e=new vn);var n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},vu.prototype.getPointAt=vu.prototype.copy=function(t){return eu.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},vu.prototype.toJSON=vu.prototype.fromJSON=gu.prototype=Object.create(eu.prototype),gu.prototype.constructor=gu,gu.prototype.isQuadraticBezierCurve=!0,gu.prototype.getPoint=function(t,e){void 0===e&&(e=new an);var n=e,r=this.v0,i=this.v1,o=this.v2;return n.set(hu(t,r.x,i.x,o.x),hu(t,r.y,i.y,o.y)),n},gu.prototype.copy=function(t){return eu.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},gu.prototype.toJSON=function(){var t=eu.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},gu.prototype.fromJSON=function(t){return eu.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},yu.prototype=Object.create(eu.prototype),yu.prototype.constructor=yu,yu.prototype.isQuadraticBezierCurve3=!0,yu.prototype.getPoint=function(t,e){void 0===e&&(e=new vn);var n=e,r=this.v0,i=this.v1,o=this.v2;return n.set(hu(t,r.x,i.x,o.x),hu(t,r.y,i.y,o.y),hu(t,r.z,i.z,o.z)),n},yu.prototype.copy=function(t){return eu.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},yu.prototype.toJSON=yu.prototype.fromJSON=bu.prototype=Object.create(eu.prototype),bu.prototype.constructor=bu,bu.prototype.isSplineCurve=!0,bu.prototype.getPoint=function(t,e){void 0===e&&(e=new an);var n=e,r=this.points,i=(r.length-1)*t,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],l=r[o],c=r[o>r.length-2?r.length-1:o+1],u=r[o>r.length-3?r.length-1:o+2];return n.set(uu(a,s.x,l.x,c.x,u.x),uu(a,s.y,l.y,c.y,u.y)),n},bu.prototype.copy=function(t){eu.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push(r.clone())}return this},bu.prototype.toJSON=bu.prototype.fromJSON=var xu=Object.freeze({__proto__:null,ArcCurve:ru,CatmullRomCurve3:cu,CubicBezierCurve:pu,CubicBezierCurve3:fu,EllipseCurve:nu,LineCurve:mu,LineCurve3:vu,QuadraticBezierCurve:gu,QuadraticBezierCurve3:yu,SplineCurve:bu});ction _u(t,e){void 0===e&&(e=1),mr.call(this),this.type="Light",this.color=new Fr(t),this.intensity=e}on Ru(t,e,n,r,i,o){void 0===t&&(t=-1),void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=-1),void 0===i&&(i=.1),void 0===o&&(o=2e3),Ni.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=i,this.far=o,this.updateProjectionMatrix()}nction Du(t,e){_u.call(this,t,e),this.type="AmbientLight"}u.prototype=Object.assign(Object.create(eu.prototype),{constructor:wu,add:function(t){this.curves.push(t)},closePath:getPoint:getLength:updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:getSpacedPoints:getPoints:function(t){void 0===t&&(t=12);for(var e,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),l=0;l<s.length;l++){var c=s[l];e&&e.equals(c)||(n.push(c),e=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:toJSON:function(){var t=eu.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,n=this.curves.length;e<n;e++){var r=this.curves[e];t.curves.push(r.toJSON())}return t},fromJSON:),Au.prototype=Object.assign(Object.create(wu.prototype),{constructor:Au,setFromPoints:moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:quadraticCurveTo:bezierCurveTo:splineThru:arc:absarc:ellipse:absellipse:copy:function(t){return wu.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:fromJSON:function(t){return wu.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),Eu.prototype=Object.assign(Object.create(Au.prototype),{constructor:Eu,getPointsHoles:extractPoints:copy:toJSON:fromJSON:),_u.prototype=Object.assign(Object.create(mr.prototype),{constructor:_u,isLight:!0,copy:toJSON:),Tu.prototype=Object.assign(Object.create(_u.prototype),{constructor:Tu,isHemisphereLight:!0,copy:function(t){return _u.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Su.prototype,{_projScreenMatrix:new Hn,_lightPositionWorld:new vn,_lookTarget:new vn,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:clone:function(){return(new this.constructor).copy(this)},toJSON:),Mu.prototype=Object.assign(Object.create(Su.prototype),{constructor:Mu,isSpotLightShadow:!0,updateMatrices:),Cu.prototype=Object.assign(Object.create(_u.prototype),{constructor:Cu,isSpotLight:!0,copy:),Iu.prototype=Object.assign(Object.create(Su.prototype),{constructor:Iu,isPointLightShadow:!0,updateMatrices:),ku.prototype=Object.assign(Object.create(_u.prototype),{constructor:ku,isPointLight:!0,copy:),Ru.prototype=Object.assign(Object.create(Ni.prototype),{constructor:Ru,isOrthographicCamera:!0,copy:setViewOffset:clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,o=n+t,a=r+e,s=r-e;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=l*this.view.offsetX,o=i+l*this.view.width,a-=c*this.view.offsetY,s=a-c*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:),Lu.prototype=Object.assign(Object.create(Su.prototype),{constructor:Lu,isDirectionalLightShadow:!0,updateMatrices:),Ou.prototype=Object.assign(Object.create(_u.prototype),{constructor:Ou,isDirectionalLight:!0,copy:),Du.prototype=Object.assign(Object.create(_u.prototype),{constructor:Du,isAmbientLight:!0}),Pu.prototype=Object.assign(Object.create(_u.prototype),{constructor:Pu,isRectAreaLight:!0,copy:function(t){return _u.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:);var Bu=);.prototype=Object.assign(Object.create(_u.prototype),{constructor:Fu,isLightProbe:!0,copy:function(t){return _u.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:toJSON:),Nu.prototype=Object.assign(Object.create(Jc.prototype),{constructor:Nu,load:function(t,n,r,i){var o=this,a=new Yc(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(t,function(r){try{n(o.parse(JSON.parse(r)))}catch(e){i?i(e):console.error(e),o.manager.itemError(t)}},r,i)},parse:function(t){var e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var r=new Mc[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&void 0!==r.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.sheen&&(r.sheen=(new Fr).setHex(t.sheen)),void 0!==t.emissive&&void 0!==r.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==r.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearcoat&&(r.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(r.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(r.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(r.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(r.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(r.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(r.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(r.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(r.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(r.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(r.morphNormals=t.morphNormals),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.vertexTangents&&(r.vertexTangents=t.vertexTangents),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.toneMapped&&(r.toneMapped=t.toneMapped),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.vertexColors&&("number"===typeof t.vertexColors?r.vertexColors=t.vertexColors>0:r.vertexColors=t.vertexColors),void 0!==t.uniforms)for(var i in t.uniforms){var o=t.uniforms[i];switch(r.uniforms[i]={},o.type){case"t":r.uniforms[i].value=n(o.value);break;case"c":r.uniforms[i].value=(new Fr).setHex(o.value);break;case"v2":r.uniforms[i].value=(new an).fromArray(o.value);break;case"v3":r.uniforms[i].value=(new vn).fromArray(o.value);break;case"v4":r.uniforms[i].value=(new dn).fromArray(o.value);break;case"m3":r.uniforms[i].value=(new sn).fromArray(o.value);break;case"m4":r.uniforms[i].value=(new Hn).fromArray(o.value);break;default:r.uniforms[i].value=o.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var a in t.extensions)r.extensions[a]=t.extensions[a];if(void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=n(t.map)),void 0!==t.matcap&&(r.matcap=n(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=n(t.alphaMap)),void 0!==t.bumpMap&&(r.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new an).fromArray(s)}return void 0!==t.displacementMap&&(r.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=n(t.specularMap)),void 0!==t.envMap&&(r.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(r.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(r.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatMap&&(r.clearcoatMap=n(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(r.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(r.clearcoatNormalScale=(new an).fromArray(t.clearcoatNormalScale)),void 0!==t.transmission&&(r.transmission=t.transmission),void 0!==t.transmissionMap&&(r.transmissionMap=n(t.transmissionMap)),r},setTextures:function(t){return this.textures=t,this}});var Uu={decodeText:extractUrlBase:;unction zu(t,e,n,r){"number"===typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Hr.call(this,t,e,n),this.meshPerAttribute=r||1}function Gu(t){Jc.call(this,t)}ju.prototype=Object.assign(Object.create(hi.prototype),{constructor:ju,isInstancedBufferGeometry:!0,copy:function(t){return hi.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t=hi.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),zu.prototype=Object.assign(Object.create(Hr.prototype),{constructor:zu,isInstancedBufferAttribute:!0,copy:function(t){return Hr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:),Gu.prototype=Object.assign(Object.create(Jc.prototype),{constructor:Gu,load:parse:function(t){var e={},n={};function r(t,r){if(void 0!==e[r])return e[r];var i=t.interleavedBuffers,o=i[r],a=t,o.buffer),s=ri(o.type,a),l=new ds(s,o.stride);return l.uuid=o.uuid,e[r]=l,l}var i=t.isInstancedBufferGeometry?new ju:new hi,o=t.data.index;if(void 0!==o){var a=ri(o.type,o.array);i.setIndex(new Hr(a,1))}var s=t.data.attributes;for(var l in s){var c=s[l],u=void 0;if(c.isInterleavedBufferAttribute){var h=r(t.data,c.data);u=new ms(h,c.itemSize,c.offset,c.normalized)}else{var d=ri(c.type,c.array),p=c.isInstancedBufferAttribute?zu:Hr;u=new p(d,c.itemSize,c.normalized)}void 0!==c.name&&(u.name=c.name),i.setAttribute(l,u)}var f=t.data.morphAttributes;if(f)for(var m in f){for(var v=f[m],g=[],y=0,b=v.length;y<b;y++){var x=v[y],w=void 0;if(x.isInterleavedBufferAttribute){var A=r(t.data,x.data);w=new ms(A,x.itemSize,x.offset,x.normalized)}else{var E=ri(x.type,x.array);w=new Hr(E,x.itemSize,x.normalized)}void 0!==x.name&&(w.name=x.name),g.push(w)}i.morphAttributes[m]=g}var _=t.data.morphTargetsRelative;_&&(i.morphTargetsRelative=!0);var T=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==T)for(var S=0,M=T.length;S!==M;++S){var C=T[S];i.addGroup(C.start,C.count,C.materialIndex)}var I=t.data.boundingSphere;if(void 0!==I){var k=new vn;void 0!==I.center&&k.fromArray(I.center),i.boundingSphere=new Pn(k,I.radius)}return t.name&&(i.name=t.name),t.userData&&(i.userData=t.userData),i}});var Vu=function(t){e(e,t);var n=e.prototype;return n.load=n.parse=function(t,e){var n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),o=this.parseImages(t.images,,a=this.parseTextures(t.textures,o),s=this.parseMaterials(t.materials,a),l=this.parseObject(t.object,i,s,n),c=this.parseSkeletons(t.skeletons,l);if(this.bindSkeletons(l,c),void 0!==e){var u=!1;for(var h in o)if(o[h]instanceof HTMLImageElement){u=!0;break}!1===u&&e(l)}return l},n.parseShapes=n.parseSkeletons=n.parseGeometries=function(t,e){var n,r={};if(void 0!==t)for(var i=new Gu,o=0,a=t.length;o<a;o++){var s=void 0,l=t[o];switch(l.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new vc[l.type](l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":s=new vc[l.type](l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new vc[l.type](l.radius,l.segments,l.thetaStart,l.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new vc[l.type](l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new vc[l.type](l.radius,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new vc[l.type](l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new vc[l.type](l.radius,l.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new vc[l.type](l.innerRadius,l.outerRadius,l.thetaSegments,l.phiSegments,l.thetaStart,l.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new vc[l.type](l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new vc[l.type](l.radius,l.tube,l.tubularSegments,l.radialSegments,l.p,l.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new vc[l.type]((new xu[l.path.type]).fromJSON(l.path),l.tubularSegments,l.radius,l.radialSegments,l.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new vc[l.type](l.points,l.segments,l.phiStart,l.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new vc[l.type](l.vertices,l.indices,l.radius,l.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":n=[];for(var c=0,u=l.shapes.length;c<u;c++){var h=e[l.shapes[c]];n.push(h)}s=new vc[l.type](n,l.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":n=[];for(var d=0,p=l.shapes.length;d<p;d++){var f=e[l.shapes[d]];n.push(f)}var m=l.options.extrudePath;void 0!==m&&(l.options.extrudePath=(new xu[m.type]).fromJSON(m)),s=new vc[l.type](n,l.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE){var v=new THREE.LegacyJSONLoader;s=v.parse(l,this.resourcePath).geometry}else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+l.type+'"');continue}s.uuid=l.uuid,void 0!==l.name&&(s.name=l.name),!0===s.isBufferGeometry&&void 0!==l.userData&&(s.userData=l.userData),r[l.uuid]=s}return r},n.parseMaterials=n.parseAnimations=n.parseImages=function(t,e){var n,r=this,i={};function o(t){if("string"===typeof t){var e=t,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(e)?e:r.resourcePath+e;return i)}return t.data?{data:ri(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){var a=new Hc(e);(n=new qc(a)).setCrossOrigin(this.crossOrigin);for(var s=0,l=t.length;s<l;s++){var c=t[s],u=c.url;if(Array.isArray(u)){i[c.uuid]=[];for(var h=0,d=u.length;h<d;h++){var p=u[h],f=o(p);null!==f&&(f instanceof HTMLImageElement?i[c.uuid].push(f):i[c.uuid].push(new Wi(f.data,f.width,f.height)))}}else{var m=o(c.url);null!==m&&(i[c.uuid]=m)}}}return i},n.parseTextures=function(t,e){function n(t,e){return"number"===typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={};if(void 0!==t)for(var i=0,o=t.length;i<o;i++){var a=t[i];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===e[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=void 0,l=e[a.image];Array.isArray(l)?(s=new Vi(l),6===l.length&&(s.needsUpdate=!0)):(s=l&&l.data?new Wi(l.data,l.width,l.height):new un(l),l&&(s.needsUpdate=!0)),s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=n(a.mapping,Hu)),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.center&&s.center.fromArray(a.center),void 0!==a.rotation&&(s.rotation=a.rotation),void 0!==a.wrap&&(s.wrapS=n(a.wrap[0],Wu),s.wrapT=n(a.wrap[1],Wu)),void 0!==a.format&&(s.format=a.format),void 0!==a.type&&(s.type=a.type),void 0!==a.encoding&&(s.encoding=a.encoding),void 0!==a.minFilter&&(s.minFilter=n(a.minFilter,Ju)),void 0!==a.magFilter&&(s.magFilter=n(a.magFilter,Ju)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),void 0!==a.premultiplyAlpha&&(s.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(s.unpackAlignment=a.unpackAlignment),r[a.uuid]=s}return r},n.parseObject=function(t,e,n,r){var i,o,a;itch(t.type){case"Scene":i=new hs,void 0!==t.background&&Number.isInteger(t.background)&&(i.background=new Fr(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?i.fog=new us(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(i.fog=new cs(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":i=new Ui(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(i.focus=t.focus),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.filmGauge&&(i.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(i.filmOffset=t.filmOffset),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"OrthographicCamera":i=new Ru(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"AmbientLight":i=new Du(t.color,t.intensity);break;case"DirectionalLight":i=new Ou(t.color,t.intensity);break;case"PointLight":i=new ku(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":i=new Pu(t.color,t.intensity,t.width,t.height);break;case"SpotLight":i=new Cu(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":i=new Tu(t.color,t.groundColor,t.intensity);break;case"LightProbe":i=(new Fu).fromJSON(t);break;case"SkinnedMesh":o=s(t.geometry),a=l(t.material),i=new Us(o,a),void 0!==t.bindMode&&(i.bindMode=t.bindMode),void 0!==t.bindMatrix&&i.bindMatrix.fromArray(t.bindMatrix),void 0!==t.skeleton&&(i.skeleton=t.skeleton);break;case"Mesh":o=s(t.geometry),a=l(t.material),i=new Ii(o,a);break;case"InstancedMesh":o=s(t.geometry),a=l(t.material);var c=t.count,u=t.instanceMatrix;(i=new Ys(o,a,c)).instanceMatrix=new Hr(new Float32Array(u.array),16);break;case"LOD":i=new Os;break;case"Line":i=new el(s(t.geometry),l(t.material));break;case"LineLoop":i=new ol(s(t.geometry),l(t.material));break;case"LineSegments":i=new il(s(t.geometry),l(t.material));break;case"PointCloud":case"Points":i=new hl(s(t.geometry),l(t.material));break;case"Sprite":i=new Is(l(t.material));break;case"Group":i=new $a;break;case"Bone":i=new js;break;default:i=new mr}if(i.uuid=t.uuid,void 0!==t.name&&(i.name=t.name),void 0!==t.matrix?(i.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(i.matrixAutoUpdate=t.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==t.position&&i.position.fromArray(t.position),void 0!==t.rotation&&i.rotation.fromArray(t.rotation),void 0!==t.quaternion&&i.quaternion.fromArray(t.quaternion),void 0!==t.scale&&i.scale.fromArray(t.scale)),void 0!==t.castShadow&&(i.castShadow=t.castShadow),void 0!==t.receiveShadow&&(i.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(i.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(i.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(i.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&i.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(i.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.frustumCulled&&(i.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(i.renderOrder=t.renderOrder),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.layers&&(i.layers.mask=t.layers),void 0!==t.children)for(var h=t.children,d=0;d<h.length;d++)i.add(this.parseObject(h[d],e,n,r));if(void 0!==t.animations)for(var p=t.animations,f=0;f<p.length;f++){var m=p[f];i.animations.push(r[m])}if("LOD"===t.type){void 0!==t.autoUpdate&&(i.autoUpdate=t.autoUpdate);for(var v=t.levels,g=0;g<v.length;g++){var y=v[g],b=i.getObjectByProperty("uuid",y.object);void 0!==b&&i.addLevel(b,y.distance)}}return i},n.bindSkeletons=n.setTexturePath=function(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)},e}(Jc),Hu={UVMapping:300,CubeReflectionMapping:$,CubeRefractionMapping:tt,EquirectangularReflectionMapping:et,EquirectangularRefractionMapping:nt,CubeUVReflectionMapping:rt,CubeUVRefractionMapping:it},Wu={RepeatWrapping:ot,ClampToEdgeWrapping:at,MirroredRepeatWrapping:st},Ju={NearestFilter:lt,NearestMipmapNearestFilter:ct,NearestMipmapLinearFilter:ut,LinearFilter:ht,LinearMipmapNearestFilter:dt,LinearMipmapLinearFilter:pt};function Zu(t){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Jc.call(this,t),this.options={premultiplyAlpha:"none"}}u.prototype=Object.assign(Object.create(Jc.prototype),{constructor:Zu,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:),Object.assign(Yu.prototype,{moveTo:lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:bezierCurveTo:splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){r i,o,a,s=Xl.isClockWise,l=this.subPaths;if(0===l.length)return[];if(!0===e)return n(l);var c=[];if(1===l.length)return o=l[0],(a=new Eu).curves=o.curves,c.push(a),c;var u=!s(l[0].getPoints());u=t?!u:u;var h,d,p=[],f=[],m=[],v=0;f[v]=void 0,m[v]=[];for(var g=0,y=l.length;g<y;g++)o=l[g],h=o.getPoints(),i=s(h),(i=t?!i:i)?(!u&&f[v]&&v++,f[v]={s:new Eu,p:h},f[v].s.curves=o.curves,u&&v++,m[v]=[]):m[v].push({h:o,p:h[0]});if(!f[0])return n(l);if(f.length>1){for(var b=!1,x=[],w=0,A=f.length;w<A;w++)p[w]=[];for(var E=0,_=f.length;E<_;E++)for(var T=m[E],S=0;S<T.length;S++){for(var M=T[S],C=!0,I=0;I<f.length;I++)r(M.p,f[I].p)&&(E!==I&&x.push({froms:E,tos:I,hole:S}),C?(C=!1,p[I].push(M)):b=!0);C&&p[E].push(M)}x.length>0&&(b||(m=p))}for(var k=0,R=f.length;k<R;k++){a=f[k].s,c.push(a),d=m[k];for(var L=0,O=d.length;L<O;L++)a.holes.push(d[L].h)}return c}});var Ku,Qu=function(){function t(t){Object.defineProperty(this,"isFont",{value:!0}),this.type="Font",this.data=t}var e=t.prototype;return e.generateShapes=t}();function qu(t,e,n,r,i){var o=i.glyphs[t]||i.glyphs["?"];if(o){var a,s,l,c,u,h,d,p,f=new Yu;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),v=0,g=m.length;v<g;){var y=m[v++];switch(y){case"m":a=m[v++]*e+n,s=m[v++]*e+r,f.moveTo(a,s);break;case"l":a=m[v++]*e+n,s=m[v++]*e+r,f.lineTo(a,s);break;case"q":l=m[v++]*e+n,c=m[v++]*e+r,u=m[v++]*e+n,h=m[v++]*e+r,f.quadraticCurveTo(u,h,l,c);break;case"b":l=m[v++]*e+n,c=m[v++]*e+r,u=m[v++]*e+n,h=m[v++]*e+r,d=m[v++]*e+n,p=m[v++]*e+r,f.bezierCurveTo(u,h,d,p,l,c)}}return{offsetX:o.ha*e,path:f}}console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".")}function Xu(t){Jc.call(this,t)}Xu.prototype=Object.assign(Object.create(Jc.prototype),{constructor:Xu,load:parse:function(t){return new Qu(t)}});var $u={getContext:setContext:function(t){Ku=t}};function th(t){Jc.call(this,t)}.prototype=Object.assign(Object.create(Jc.prototype),{constructor:th,load:function(t,n,r,i){var o=this,a=new Yc(o.manager);a.setResponseType("arraybuffer"),a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(t,function(r){try{var a=r.slice(0),s=$u.getContext();s.decodeAudioData(a,function(t){n(t)})}catch(e){i?i(e):console.error(e),o.manager.itemError(t)}},r,i)}}),eh.prototype=Object.assign(Object.create(Fu.prototype),{constructor:eh,isHemisphereLightProbe:!0,copy:function(t){return Fu.prototype.copy.call(this,t),this},toJSON:function(t){var e=Fu.prototype.toJSON.call(this,t);return e}}),nh.prototype=Object.assign(Object.create(Fu.prototype),{constructor:nh,isAmbientLightProbe:!0,copy:toJSON:function(t){var e=Fu.prototype.toJSON.call(this,t);return e}});var rh=new Hn,ih=new Hn;bject.assign(oh.prototype,{update:function(t){var e=this._cache,n=e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep;if(n){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;var r,i,o=t.projectionMatrix.clone(),a=e.eyeSep/2,s=a*e.near/e.focus,l=e.near*Math.tan(on.DEG2RAD*e.fov*.5)/e.zoom;ih.elements[12]=-a,rh.elements[12]=a,r=-l*e.aspect+s,i=l*e.aspect+s,o.elements[0]=2*e.near/(i-r),o.elements[8]=(i+r)/(i-r),this.cameraL.projectionMatrix.copy(o),r=-l*e.aspect-s,i=l*e.aspect-s,o.elements[0]=2*e.near/(i-r),o.elements[8]=(i+r)/(i-r),this.cameraR.projectionMatrix.copy(o)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(ih),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(rh)}});var ah=function(){ar e=t.prototype;return e.start=e.stop=e.getElapsedTime=e.getDelta=t}();function sh(){return("undefined"===typeof performance?Date:performance).now()}var lh=new vn,ch=new mn,uh=new vn,hh=new vn,dh=mr),ph=function(t){e(e,t);var n=e.prototype;return n.getOutput=function(){return this.gain},n.setNodeSource=n.setMediaElementSource=function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},n.setMediaStreamSource=n.setBuffer=n.play=n.pause=n.stop=n.connect=function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this},n.disconnect=n.getFilters=function(){return this.filters},n.setFilters=n.setDetune=n.getDetune=function(){return this.detune},n.getFilter=n.setFilter=n.setPlaybackRate=n.getPlaybackRate=function(){return this.playbackRate},n.onEnded=function(){this.isPlaying=!1},n.getLoop=n.setLoop=n.setLoopStart=function(t){return this.loopStart=t,this},n.setLoopEnd=function(t){return this.loopEnd=t,this},n.getVolume=function(){return this.gain.gain.value},n.setVolume=e}(mr),fh=new vn,mh=new mn,vh=new vn,gh=new vn,yh=ph),bh=function(){function t(t,e){void 0===e&&(e=2048),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}var e=t.prototype;return e.getFrequencyData=e.getAverageFrequency=t}();bject.assign(xh.prototype,{accumulate:accumulateAdditive:apply:saveOriginalState:restoreOriginalState:_setAdditiveIdentityNumeric:_setAdditiveIdentityQuaternion:_setAdditiveIdentityOther:_select:_slerp:_slerpAdditive:_lerp:_lerpAdditive:);var wh=new RegExp("[\\[\\]\\.:\\/]","g"),Ah="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Eh=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),_h=/(WCOD+)?/.source.replace("WCOD",Ah),Th=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Sh=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Mh=new RegExp("^"+Eh+_h+Th+Sh+"$"),Ch=["material","materials","bones"];ect.assign(Ih.prototype,{getValue:setValue:bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:),Object.assign(kh,{Composite:Ih,create:sanitizeNodeName:parseTrackName:findNode:),Object.assign(kh.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},,[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},,[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:bind:unbind:),Object.assign(kh.prototype,{_getValue_unbound:kh.prototype.getValue,_setValue_unbound:kh.prototype.setValue}),Object.assign(Rh.prototype,{isAnimationObjectGroup:!0,add:remove:uncache:function(){for(var t=this._objects,e=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,o=t.length,a=0,s=arguments.length;a!==s;++a){var l=arguments[a],c=l.uuid,u=e[c];if(void 0!==u)if(delete e[c],u<i){var h=--i,d=t[h],p=--o,f=t[p];e[d.uuid]=u,t[u]=d,e[f.uuid]=h,t[h]=f,t.pop();for(var m=0,v=r;m!==v;++m){var g=n[m],y=g[h],b=g[p];g[u]=y,g[h]=b,g.pop()}}else{var x=--o,w=t[x];x>0&&(e[w.uuid]=u),t[u]=w,t.pop();for(var A=0,E=r;A!==E;++A){var _=n[A];_[u]=_[x],_.pop()}}}this.nCachedObjects_=i},subscribe_:unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a],l=t[a];e[l]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}});var Lh=function(){function t(t,e,n,r){void 0===n&&(n=null),void 0===r&&(r=e.blendMode),this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=r;for(var i=e.tracks,o=i.length,a=new Array(o),s={endingStart:Me,endingEnd:Me},l=0;l!==o;++l){var c=i[l].createInterpolant(null);a[l]=c,c.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Se,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}var e=t.prototype;return e.play=e.stop=e.reset=e.isRunning=e.isScheduled=e.startAt=function(t){return this._startTime=t,this},e.setLoop=function(t,e){return this.loop=t,this.repetitions=e,this},e.setEffectiveWeight=e.getEffectiveWeight=function(){return this._effectiveWeight},e.fadeIn=function(t){return this._scheduleFading(t,0,1)},e.fadeOut=e.crossFadeFrom=e.crossFadeTo=e.stopFading=function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},e.setEffectiveTimeScale=e.getEffectiveTimeScale=function(){return this._effectiveTimeScale},e.setDuration=e.syncWith=e.halt=e.warp=e.stopWarping=e.getMixer=function(){return this._mixer},e.getClip=function(){return this._clip},e.getRoot=e._update=function(t,e,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(t-i)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0){var l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case 2501:for(var u=0,h=l.length;u!==h;++u)l[u].evaluate(a),c[u].accumulateAdditive(s);break;case Ce:default:for(var d=0,p=l.length;d!==p;++d)l[d].evaluate(a),c[d].accumulate(r,s)}}}else this._updateWeight(t)},e._updateWeight=e._updateTimeScale=function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},e._updateTime=function(t){var e=this._clip.duration,n=this.loop,r=this.time+t,i=this._loopCount,o=2202===n;if(0===t)return-1===i?r:o&&1===(1&i)?e-r:r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(r>=e)r=e;else{if(!(r<0)){this.time=r;break t}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=e||r<0){var a=Math.floor(r/e);r-=e*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?e:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var l=t<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&1===(1&i))return e-r}return r},e._setEndings=e._scheduleFading=t}();h.prototype=Object.assign(Object.create($e.prototype),{constructor:Oh,_bindAction:_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:_initMemoryManager:_isActiveAction:_addInactiveAction:_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,l=s[s.length-1],c=t._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),t._byClipCacheIndex=null;var u=a.actionByRoot,h=(t._localRoot||this._root).uuid;delete u[h],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:_removeInactiveBinding:_lendBinding:_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:_takeBackControlInterpolant:_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,n){var r=e||this._root,i=r.uuid,o="string"===typeof t?zc.findByName(r,t):t,a=null!==o?o.uuid:t,s=this._actionsByClip[a],l=null;if(void 0===n&&(n=null!==o?o.blendMode:Ce),void 0!==s){var c=s.actionByRoot[i];if(void 0!==c&&c.blendMode===n)return c;l=s.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;var u=new Lh(this,o,e,n);return this._bindAction(u,l),this._addInactiveAction(u,a,i),u},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"===typeof t?zc.findByName(n,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){for(var t=this._actions,e=this._nActiveActions,n=e-1;n>=0;--n)t[n].stop();return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a){var s=e[a];s._update(r,t,i,o)}for(var l=this._bindings,c=this._nActiveBindings,u=0;u!==c;++u)l[u].apply(o);return this},setTime:getRoot:function(){return this._root},uncacheClip:uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,o=i[e];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[e];if(void 0!==s)for(var l in s){var c=s[l];c.restoreOriginalState(),this._removeInactiveBinding(c)}},uncacheAction:);var Dh=function(){function t(t){"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}var e=t.prototype;return e.clone=t}();ction Nh(t,e){return t.distance-e.distance}h.prototype=Object.assign(Object.create(ds.prototype),{constructor:Ph,isInstancedInterleavedBuffer:!0,copy:function(t){return ds.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:toJSON:),Object.defineProperty(Bh.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Bh.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}}),Object.assign(Fh.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:intersectObject:intersectObjects:);var jh=function(){ar e=t.prototype;return e.set=function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},e.clone=function(){return(new this.constructor).copy(this)},e.copy=function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},e.makeSafe=e.setFromVector3=function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},e.setFromCartesianCoords=t}(),zh=),Gh=new an,Vh=function(){ar e=t.prototype;return e.set=function(t,e){return this.min.copy(t),this.max.copy(e),this},e.setFromPoints=e.setFromCenterAndSize=e.clone=function(){return(new this.constructor).copy(this)},e.copy=function(t){return this.min.copy(t.min),this.max.copy(t.max),this},e.makeEmpty=e.isEmpty=e.getCenter=e.getSize=e.expandByPoint=function(t){return this.min.min(t),this.max.max(t),this},e.expandByVector=function(t){return this.min.sub(t),this.max.add(t),this},e.expandByScalar=e.containsPoint=e.containsBox=e.getParameter=e.intersectsBox=e.clampPoint=e.distanceToPoint=e.intersect=function(t){return this.min.max(t.min),this.max.min(t.max),this},e.union=function(t){return this.min.min(t.min),this.max.max(t.max),this},e.translate=function(t){return this.min.add(t),this.max.add(t),this},e.equals=function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},t}(),Hh=new vn,Wh=new vn,Jh=function(){ar e=t.prototype;return e.set=e.clone=e.copy=e.getCenter=e.delta=e.distanceSq=function(){return this.start.distanceToSquared(this.end)},e.distance=function(){return this.start.distanceTo(this.end)},e.at=e.closestPointToPointParameter=function(t,e){Hh.subVectors(t,this.start),Wh.subVectors(this.end,this.start);var n=Wh.dot(Wh),r=Wh.dot(Hh),i=r/n;return e&&(i=on.clamp(i,0,1)),i},e.closestPointToPoint=e.applyMatrix4=e.equals=t}();h.prototype=Object.create(mr.prototype),Zh.prototype.constructor=Zh,Zh.prototype.isImmediateRenderObject=!0;var Yh=new vn,Kh=mr),Qh=new vn,qh=new Hn,Xh=new Hn,$h=function(t){function e(e){for(var n,r=e),i=new hi,o=[],a=[],s=new Fr(0,0,1),l=new Fr(0,1,0),c=0;c<r.length;c++){var u=r[c];u.parent&&u.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),a.push(s.r,s.g,s.b),a.push(l.r,l.g,l.b))}i.setAttribute("position",new $r(o,3)),i.setAttribute("color",new $r(a,3));var h=new Ks({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(n=t.call(this,i,h)||this).type="SkeletonHelper",n.isSkeletonHelper=!0,n.root=e,n.bones=r,n.matrix=e.matrixWorld,n.matrixAutoUpdate=!1,n}Ke(e,t);var n=e.prototype;return n.updateMatrixWorld=function(e){var n=this.bones,r=this.geometry,i=r.getAttribute("position");Xh.copy(this.root.matrixWorld).invert();for(var o=0,a=0;o<n.length;o++){var s=n[o];s.parent&&s.parent.isBone&&(qh.multiplyMatrices(Xh,s.matrixWorld),Qh.setFromMatrixPosition(qh),i.setXYZ(a,Qh.x,Qh.y,Qh.z),qh.multiplyMatrices(Xh,s.parent.matrixWorld),Qh.setFromMatrixPosition(qh),i.setXYZ(a+1,Qh.x,Qh.y,Qh.z),a+=2)}r.getAttribute("position").needsUpdate=!0,t.prototype.updateMatrixWorld.call(this,e)},e}(il),td=Ii),ed=new vn,nd=new Fr,rd=new Fr,id=mr),od=function(t){function e(e,n,r,i){var o;void 0===e&&(e=10),void 0===n&&(n=10),void 0===r&&(r=4473924),void 0===i&&(i=8947848),r=new Fr(r),i=new Fr(i);for(var a=n/2,s=e/n,l=e/2,c=[],u=[],h=0,d=0,p=-l;h<=n;h++,p+=s){c.push(-l,0,p,l,0,p),c.push(p,0,-l,p,0,l);var f=h===a?r:i;f.toArray(u,d),d+=3,f.toArray(u,d),d+=3,f.toArray(u,d),d+=3,f.toArray(u,d),d+=3}var m=new hi;m.setAttribute("position",new $r(c,3)),m.setAttribute("color",new $r(u,3));var v=new Ks({vertexColors:!0,toneMapped:!1});return(o=t.call(this,m,v)||this).type="GridHelper",o}return Ke(e,t),e}(il),ad=function(t){function e(e,n,r,i,o,a){var s;void 0===e&&(e=10),void 0===n&&(n=16),void 0===r&&(r=8),void 0===i&&(i=64),void 0===o&&(o=4473924),void 0===a&&(a=8947848),o=new Fr(o),a=new Fr(a);for(var l=[],c=[],u=0;u<=n;u++){var h=u/n*(2*Math.PI),d=Math.sin(h)*e,p=Math.cos(h)*e;l.push(0,0,0),l.push(d,0,p);var f=1&u?o:a;c.push(f.r,f.g,f.b),c.push(f.r,f.g,f.b)}for(var m=0;m<=r;m++)for(var v=1&m?o:a,g=e-e/r*m,y=0;y<i;y++){var b=y/i*(2*Math.PI),x=Math.sin(b)*g,w=Math.cos(b)*g;l.push(x,0,w),c.push(v.r,v.g,v.b),b=(y+1)/i*(2*Math.PI),x=Math.sin(b)*g,w=Math.cos(b)*g,l.push(x,0,w),c.push(v.r,v.g,v.b)}var A=new hi;A.setAttribute("position",new $r(l,3)),A.setAttribute("color",new $r(c,3));var E=new Ks({vertexColors:!0,toneMapped:!1});return(s=t.call(this,A,E)||this).type="PolarGridHelper",s}return Ke(e,t),e}(il),sd=new vn,ld=new vn,cd=new vn,ud=mr),hd=new vn,dd=new Ni,pd=function(t){e(e,t);var n=e.prototype;return n.update=e}(il);ar md,vd,gd,yd=new bn,bd=il),xd=function(t){e(e,t);var n=e.prototype;return n.updateMatrixWorld=e}(il),wd=function(t){function e(e,n,r){var i;void 0===n&&(n=1),void 0===r&&(r=16776960);var o=r,a=new hi;a.setAttribute("position",new $r([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),a.computeBoundingSphere(),(i=t.call(this,a,new Ks({color:o,toneMapped:!1}))||this).type="PlaneHelper",i.plane=e,i.size=n;var s=new hi;return s.setAttribute("position",new $r([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),s.computeBoundingSphere(),i.add(new Ii(s,new zr({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),i}Ke(e,t);var n=e.prototype;return n.updateMatrixWorld=e}(el),Ad=new vn,Ed=mr),_d=il),Td=new Float32Array(1),Sd=new Int32Array(Td.buffer),Md={toHalfFloat:function(t){Td[0]=t;var e=Sd[0],n=e>>16&32768,r=e>>12&2047,i=e>>23&255;return i<103?n:i>142?(n|=31744,n|=(255==i?0:1)&&8388607&e):i<113?n|=((r|=2048)>>114-i)+(r>>113-i&1):(n|=i-112<<10|r>>1,n+=1&r)}},Cd=4,Id=8,kd=Math.pow(2,Id),Rd=[.125,.215,.35,.446,.526,.582],Ld=Id-Cd+1+Rd.length,Od=20,Dd=((gd={})[Ie]=0,gd[ke]=1,gd[Le]=2,gd[De]=3,gd[Pe]=4,gd[Be]=5,gd[Re]=6,gd),Pd=new zr({side:d,depthWrite:!1,depthTest:!1}),Bd=new Ii(new Ri,Pd),Fd=new Ru,Nd=function(){for(var t=[],e=[],n=[],r=Id,i=0;i<Ld;i++){var o=Math.pow(2,r);e.push(o);var a=1/o;i>Id-Cd?a=Rd[i-Id+Cd-1]:0==i&&(a=0),n.push(a);for(var s=1/(o-1),l=-s/2,c=1+s/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],h=new Float32Array(108),d=new Float32Array(72),p=new Float32Array(36),f=0;f<6;f++){var m=f%3*2/3-1,v=f>2?0:-1,g=[m,v,0,m+2/3,v,0,m+2/3,v+1,0,m,v,0,m+2/3,v+1,0,m,v+1,0];h.set(g,18*f),d.set(u,12*f);var y=[f,f,f,f,f,f];p.set(y,6*f)}var b=new hi;b.setAttribute("position",new Hr(h,3)),b.setAttribute("uv",new Hr(d,2)),b.setAttribute("faceIndex",new Hr(p,1)),t.push(b),r>Cd&&r--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}(),Ud=Nd._lodPlanes,jd=Nd._sizeLods,zd=Nd._sigmas,Gd=new Fr,Vd=null,Hd=(1+Math.sqrt(5))/2,Wd=1/Hd,Jd=[new vn(1,1,1),new vn(-1,1,1),new vn(1,1,-1),new vn(-1,1,-1),new vn(0,Hd,Wd),new vn(0,Hd,-Wd),new vn(Wd,0,Hd),new vn(-Wd,0,Hd),new vn(Hd,Wd,0),new vn(-Hd,Wd,0)];function Zd(t){var e=Math.max(t.r,t.g,t.b),n=Math.min(Math.max(Math.ceil(Math.log2(e)),-128),127);t.multiplyScalar(Math.pow(2,-n));var r=(n+128)/255;return r}var Yd=function(){function t(t){this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(t){var e=new Float32Array(t),n=new vn(0,1,0);return new yc({name:"SphericalGaussianBlur",defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Dd[Ie]},outputEncoding:{value:Dd[Ie]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:f,depthTest:!1,depthWrite:!1})}(Od),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}var e=t.prototype;return e.fromScene=e.fromEquirectangular=function(t){return this._fromTexture(t)},e.fromCubemap=e.compileCubemapShader=function(){null===this._cubemapShader&&(this._cubemapShader=$d(),this._compileMaterial(this._cubemapShader))},e.compileEquirectangularShader=e.dispose=e._cleanup=e._fromTexture=e._allocateTargets=function(t){var e={magFilter:lt,minFilter:lt,generateMipmaps:!1,type:ft,format:Rt,encoding:Kd(t)?t.encoding:Le,depthBuffer:!1},n=Qd(e);return n.depthBuffer=!t,this._pingPongRenderTarget=Qd(e),n},e._compileMaterial=e._sceneToCubeUV=function(t,e,n,r){var i=new Ui(90,1,e,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,c=s.outputEncoding,u=s.toneMapping;s.getClearColor(Gd),s.toneMapping=Z,s.outputEncoding=Ie,s.autoClear=!1;var h=!1,d=t.background;if(d){if(d.isColor){Pd.color.copy(d).convertSRGBToLinear(),t.background=null;var p=Zd(Pd.color);Pd.opacity=p,h=!0}}else{Pd.color.copy(Gd).convertSRGBToLinear();var f=Zd(Pd.color);Pd.opacity=f,h=!0}for(var m=0;m<6;m++){var v=m%3;0==v?(i.up.set(0,o[m],0),i.lookAt(a[m],0,0)):1==v?(i.up.set(0,0,o[m]),i.lookAt(0,a[m],0)):(i.up.set(0,o[m],0),i.lookAt(0,0,a[m])),qd(r,v*kd,m>2?kd:0,kd,kd),s.setRenderTarget(r),h&&s.render(Bd,i),s.render(t,i)}s.toneMapping=u,s.outputEncoding=c,s.autoClear=l},e._textureToCubeUV=e._applyPMREM=e._blur=e._halfBlur=function(t,e,n,r,i,o,a){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");var c=new Ii(Ud[r],l),u=l.uniforms,h=jd[n]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/(2*Od-1),p=i/d,f=isFinite(i)?1+Math.floor(3*p):Od;f>Od&&console.warn("sigmaRadians, "+i+", is too large and will clip, as it requested "+f+" samples when the maximum is set to "+Od);for(var m=[],v=0,g=0;g<Od;++g){var y=g/p,b=Math.exp(-y*y/2);m.push(b),0==g?v+=b:g<f&&(v+=2*b)}for(var x=0;x<m.length;x++)m[x]=m[x]/v;u.envMap.value=t.texture,u.samples.value=f,u.weights.value=m,u.latitudinal.value="latitudinal"===o,a&&(u.poleAxis.value=a),u.dTheta.value=d,u.mipInt.value=Id-n,u.inputEncoding.value=Dd[t.texture.encoding],u.outputEncoding.value=Dd[t.texture.encoding];var w=jd[r],A=3*Math.max(0,kd-2*w),E=(0===r?0:2*kd)+2*w*(r>Id-Cd?r-Id+Cd:0);qd(e,A,E,3*w,2*w),s.setRenderTarget(e),s.render(c,Fd)},t}();ction Xd(){var t=new an(1,1),e=new yc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:t},inputEncoding:{value:Dd[Ie]},outputEncoding:{value:Dd[Ie]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:f,depthTest:!1,depthWrite:!1});return e}function $d(){var t=new yc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Dd[Ie]},outputEncoding:{value:Dd[Ie]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:f,depthTest:!1,depthWrite:!1});return t}unction ep(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),cu.call(this,t),this.type="catmullrom"}u.create=Object.assign(Au.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),tp.prototype=Object.create(cu.prototype),ep.prototype=Object.create(cu.prototype),np.prototype=Object.create(cu.prototype),Object.assign(np.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),od.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},$h.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Jc.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Uu.extractUrlBase(t)}}),Jc.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(Vh.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(bn.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Pn.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Yi.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},Jh.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(on,{random16:nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),on.floorPowerOfTwo(t)},nextPowerOfTwo:),Object.assign(sn.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),Object.assign(Hn.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:getInverse:),br.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Object.assign(mn.prototype,{multiplyVector3:inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(Vn.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(kr.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(kr,{barycoordFromPoint:normal:),Object.assign(Eu.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ec(this,t)},makeGeometry:),Object.assign(an.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(vn.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(dn.prototype,{fromAttribute:lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(mr.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(mr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Ii.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Ii.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(Os.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Vs.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Us.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(eu.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Ui.prototype.setLens=Object.defineProperties(_u.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(Hr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===He},set:}),Object.assign(Hr.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?He:Ve),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(hi.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:addDrawCall:clearDrawCalls:computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:),Object.defineProperties(hi.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(ju.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Object.defineProperties(Fh.prototype,{linePrecision:{get:set:}),Object.defineProperties(ds.prototype,{dynamic:{get:set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(ds.prototype,{setDynamic:setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(ec.prototype,{getArrays:function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")}}),Object.assign(hs.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(Dh.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:}),Object.defineProperties(jr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:,shading:{get:set:,stencilMask:{get:set:}),Object.defineProperties(wc.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(xc.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:}),Object.defineProperties(Fi.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(ss.prototype,{clearTarget:animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:enableScissorTest:initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(ss.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:,gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:set:,toneMappingWhitePoint:{get:set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Ka.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(pn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:set:}),Object.defineProperties(ph.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this,n=new th;return n.load(t,,this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),bh.prototype.getData=Gi.prototype.updateCubeMap=Gi.prototype.clear=var rp={merge:center:;ln.crossOrigin=void 0,ln.loadTexture=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new tu;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},ln.loadTextureCube=ln.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},ln.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var ip={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"125"}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="125"),t.ACESFilmicToneMapping=q,t.AddEquation=x,t.AddOperation=J,t.AdditiveAnimationBlendMode=2501,t.AdditiveBlending=v,t.AlphaFormat=St,t.AlwaysDepth=F,t.AlwaysStencilFunc=Ge,t.AmbientLight=Du,t.AmbientLightProbe=nh,t.AnimationClip=zc,t.AnimationLoader=Kc,t.AnimationMixer=Oh,t.AnimationObjectGroup=Rh,t.AnimationUtils=Cc,t.ArcCurve=ru,t.ArrayCamera=ts,t.ArrowHelper=Ed,t.Audio=ph,t.AudioAnalyser=bh,t.AudioContext=$u,t.AudioListener=dh,t.AudioLoader=th,t.AxesHelper=_d,t.AxisHelper=function(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new _d(t)},t.BackSide=d,t.BasicDepthPacking=Fe,t.BasicShadowMap=0,t.BinaryTextureLoader=function(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new $c(t)},t.Bone=js,t.BooleanKeyframeTrack=Dc,t.BoundingBoxHelper=function(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new bd(t,e)},t.Box2=Vh,t.Box3=bn,t.Box3Helper=xd,t.BoxBufferGeometry=Ri,t.BoxGeometry=Ri,t.BoxHelper=bd,t.BufferAttribute=Hr,t.BufferGeometry=hi,t.BufferGeometryLoader=Gu,t.ByteType=mt,t.Cache=Vc,t.Camera=Ni,t.CameraHelper=pd,t.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},t.CanvasTexture=ml,t.CatmullRomCurve3=cu,t.CineonToneMapping=Q,t.CircleBufferGeometry=gl,t.CircleGeometry=gl,t.ClampToEdgeWrapping=at,t.Clock=ah,t.ClosedSplineCurve3=tp,t.Color=Fr,t.ColorKeyframeTrack=Pc,t.CompressedTexture=fl,t.CompressedTextureLoader=Qc,t.ConeBufferGeometry=bl,t.ConeGeometry=bl,t.CubeCamera=Gi,t.CubeReflectionMapping=$,t.CubeRefractionMapping=tt,t.CubeTexture=Vi,t.CubeTextureLoader=Xc,t.CubeUVReflectionMapping=rt,t.CubeUVRefractionMapping=it,t.CubicBezierCurve=pu,t.CubicBezierCurve3=fu,t.CubicInterpolant=kc,t.CullFaceBack=o,t.CullFaceFront=s,t.CullFaceFrontBack=3,t.CullFaceNone=i,t.Curve=eu,t.CurvePath=wu,t.CustomBlending=b,t.CustomToneMapping=X,t.CylinderBufferGeometry=yl,t.CylinderGeometry=yl,t.Cylindrical=zh,t.DataTexture=Wi,t.DataTexture2DArray=vo,t.DataTexture3D=go,t.DataTextureLoader=$c,t.DataUtils=Md,t.DecrementStencilOp=7683,t.DecrementWrapStencilOp=34056,t.DefaultLoadingManager=Wc,t.DepthFormat=Lt,t.DepthStencilFormat=Ot,t.DepthTexture=vl,t.DirectionalLight=Ou,t.DirectionalLightHelper=ud,t.DiscreteInterpolant=Lc,t.DodecahedronBufferGeometry=wl,t.DodecahedronGeometry=wl,t.DoubleSide=p,t.DstAlphaFactor=R,t.DstColorFactor=O,t.DynamicBufferAttribute=t.DynamicCopyUsage=35050,t.DynamicDrawUsage=He,t.DynamicReadUsage=35049,t.EdgesGeometry=Sl,t.EdgesHelper=function(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new il(new Sl(t.geometry),new Ks({color:void 0!==e?e:16777215}))},t.EllipseCurve=nu,t.EqualDepth=j,t.EqualStencilFunc=514,t.EquirectangularReflectionMapping=et,t.EquirectangularRefractionMapping=nt,t.Euler=Xn,t.EventDispatcher=$e,t.ExtrudeBufferGeometry=ec,t.ExtrudeGeometry=ec,t.Face3=Nr,t.Face4=t.FaceColors=1,t.FileLoader=Yc,t.FlatShading=1,t.Float16BufferAttribute=Xr,t.Float32Attribute=function(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new $r(t,e)},t.Float32BufferAttribute=$r,t.Float64Attribute=function(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new ti(t,e)},t.Float64BufferAttribute=ti,t.FloatType=xt,t.Fog=us,t.FogExp2=cs,t.Font=Qu,t.FontLoader=Xu,t.FrontSide=h,t.Frustum=Yi,t.GLBufferAttribute=Bh,t.GLSL1="100",t.GLSL3=We,t.GammaEncoding=Re,t.GeometryUtils=rp,t.GreaterDepth=G,t.GreaterEqualDepth=z,t.GreaterEqualStencilFunc=518,t.GreaterStencilFunc=516,t.GridHelper=od,t.Group=$a,t.HalfFloatType=wt,t.HemisphereLight=Tu,t.HemisphereLightHelper=id,t.HemisphereLightProbe=eh,t.IcosahedronBufferGeometry=rc,t.IcosahedronGeometry=rc,t.ImageBitmapLoader=Zu,t.ImageLoader=qc,t.ImageUtils=ln,t.ImmediateRenderObject=Zh,t.IncrementStencilOp=7682,t.IncrementWrapStencilOp=34055,t.InstancedBufferAttribute=zu,t.InstancedBufferGeometry=ju,t.InstancedInterleavedBuffer=Ph,t.InstancedMesh=Ys,t.Int16Attribute=function(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Yr(t,e)},t.Int16BufferAttribute=Yr,t.Int32Attribute=function(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Qr(t,e)},t.Int32BufferAttribute=Qr,t.Int8Attribute=function(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Wr(t,e)},t.Int8BufferAttribute=Wr,t.IntType=yt,t.InterleavedBuffer=ds,t.InterleavedBufferAttribute=ms,t.Interpolant=Ic,t.InterpolateDiscrete=2300,t.InterpolateLinear=2301,t.InterpolateSmooth=2302,t.InvertStencilOp=5386,t.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},t.KeepStencilOp=ze,t.KeyframeTrack=Oc,t.LOD=Os,t.LatheBufferGeometry=ic,t.LatheGeometry=ic,t.Layers=er,t.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")},t.LessDepth=N,t.LessEqualDepth=U,t.LessEqualStencilFunc=515,t.LessStencilFunc=513,t.Light=_u,t.LightProbe=Fu,t.Line=el,t.Line3=Jh,t.LineBasicMaterial=Ks,t.LineCurve=mu,t.LineCurve3=vu,t.LineDashedMaterial=Sc,t.LineLoop=ol,t.LinePieces=1,t.LineSegments=il,t.LineStrip=0,t.LinearEncoding=Ie,t.LinearFilter=ht,t.LinearInterpolant=Rc,t.LinearMipMapLinearFilter=1008,t.LinearMipMapNearestFilter=1007,t.LinearMipmapLinearFilter=pt,t.LinearMipmapNearestFilter=dt,t.LinearToneMapping=Y,t.Loader=Jc,t.LoaderUtils=Uu,t.LoadingManager=Hc,t.LogLuvEncoding=Oe,t.LoopOnce=2200,t.LoopPingPong=2202,t.LoopRepeat=Se,t.LuminanceAlphaFormat=kt,t.LuminanceFormat=It,t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},t.Material=jr,t.MaterialLoader=Nu,t.Math=on,t.MathUtils=on,t.Matrix3=sn,t.Matrix4=Hn,t.MaxEquation=_,t.Mesh=Ii,t.MeshBasicMaterial=zr,t.MeshDepthMaterial=Wa,t.MeshDistanceMaterial=Ja,t.MeshFaceMaterial=t.MeshLambertMaterial=_c,t.MeshMatcapMaterial=Tc,t.MeshNormalMaterial=Ec,t.MeshPhongMaterial=wc,t.MeshPhysicalMaterial=xc,t.MeshStandardMaterial=bc,t.MeshToonMaterial=Ac,t.MinEquation=E,t.MirroredRepeatWrapping=st,t.MixOperation=W,t.MultiMaterial=t.MultiplyBlending=y,t.MultiplyOperation=H,t.NearestFilter=lt,t.NearestMipMapLinearFilter=1005,t.NearestMipMapNearestFilter=1004,t.NearestMipmapLinearFilter=ut,t.NearestMipmapNearestFilter=ct,t.NeverDepth=B,t.NeverStencilFunc=512,t.NoBlending=f,t.NoColors=0,t.NoToneMapping=Z,t.NormalAnimationBlendMode=Ce,t.NormalBlending=m,t.NotEqualDepth=V,t.NotEqualStencilFunc=517,t.NumberKeyframeTrack=Bc,t.Object3D=mr,t.ObjectLoader=Vu,t.ObjectSpaceNormalMap=je,t.OctahedronBufferGeometry=oc,t.OctahedronGeometry=oc,t.OneFactor=S,t.OneMinusDstAlphaFactor=L,t.OneMinusDstColorFactor=D,t.OneMinusSrcAlphaFactor=k,t.OneMinusSrcColorFactor=C,t.OrthographicCamera=Ru,t.PCFShadowMap=l,t.PCFSoftShadowMap=c,t.PMREMGenerator=Yd,t.ParametricBufferGeometry=ac,t.ParametricGeometry=ac,t.Particle=function(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Is(t)},t.ParticleBasicMaterial=function(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new al(t)},t.ParticleSystem=function(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new hl(t,e)},t.ParticleSystemMaterial=function(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new al(t)},t.Path=Au,t.PerspectiveCamera=Ui,t.Plane=br,t.PlaneBufferGeometry=qi,t.PlaneGeometry=qi,t.PlaneHelper=wd,t.PointCloud=function(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new hl(t,e)},t.PointCloudMaterial=function(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new al(t)},t.PointLight=ku,t.PointLightHelper=td,t.Points=hl,t.PointsMaterial=al,t.PolarGridHelper=ad,t.PolyhedronBufferGeometry=xl,t.PolyhedronGeometry=xl,t.PositionalAudio=yh,t.PropertyBinding=kh,t.PropertyMixer=xh,t.QuadraticBezierCurve=gu,t.QuadraticBezierCurve3=yu,t.Quaternion=mn,t.QuaternionKeyframeTrack=Nc,t.QuaternionLinearInterpolant=Fc,t.REVISION="125",t.RGBADepthPacking=Ne,t.RGBAFormat=Ct,t.RGBAIntegerFormat=Ut,t.RGBA_ASTC_10x10_Format=le,t.RGBA_ASTC_10x5_Format=oe,t.RGBA_ASTC_10x6_Format=ae,t.RGBA_ASTC_10x8_Format=se,t.RGBA_ASTC_12x10_Format=ce,t.RGBA_ASTC_12x12_Format=ue,t.RGBA_ASTC_4x4_Format=qt,t.RGBA_ASTC_5x4_Format=Xt,t.RGBA_ASTC_5x5_Format=$t,t.RGBA_ASTC_6x5_Format=te,t.RGBA_ASTC_6x6_Format=ee,t.RGBA_ASTC_8x5_Format=ne,t.RGBA_ASTC_8x6_Format=re,t.RGBA_ASTC_8x8_Format=ie,t.RGBA_BPTC_Format=he,t.RGBA_ETC2_EAC_Format=Qt,t.RGBA_PVRTC_2BPPV1_Format=Zt,t.RGBA_PVRTC_4BPPV1_Format=Jt,t.RGBA_S3TC_DXT1_Format=zt,t.RGBA_S3TC_DXT3_Format=Gt,t.RGBA_S3TC_DXT5_Format=Vt,t.RGBDEncoding=Be,t.RGBEEncoding=Le,t.RGBEFormat=Rt,t.RGBFormat=Mt,t.RGBIntegerFormat=Nt,t.RGBM16Encoding=Pe,t.RGBM7Encoding=De,t.RGB_ETC1_Format=Yt,t.RGB_ETC2_Format=Kt,t.RGB_PVRTC_2BPPV1_Format=Wt,t.RGB_PVRTC_4BPPV1_Format=Ht,t.RGB_S3TC_DXT1_Format=jt,t.RGFormat=Bt,t.RGIntegerFormat=Ft,t.RawShaderMaterial=yc,t.Ray=Vn,t.Raycaster=Fh,t.RectAreaLight=Pu,t.RedFormat=Dt,t.RedIntegerFormat=Pt,t.ReinhardToneMapping=K,t.RepeatWrapping=ot,t.ReplaceStencilOp=7681,t.ReverseSubtractEquation=A,t.RingBufferGeometry=sc,t.RingGeometry=sc,t.SRGB8_ALPHA8_ASTC_10x10_Format=Ee,t.SRGB8_ALPHA8_ASTC_10x5_Format=xe,t.SRGB8_ALPHA8_ASTC_10x6_Format=we,t.SRGB8_ALPHA8_ASTC_10x8_Format=Ae,t.SRGB8_ALPHA8_ASTC_12x10_Format=_e,t.SRGB8_ALPHA8_ASTC_12x12_Format=Te,t.SRGB8_ALPHA8_ASTC_4x4_Format=de,t.SRGB8_ALPHA8_ASTC_5x4_Format=pe,t.SRGB8_ALPHA8_ASTC_5x5_Format=fe,t.SRGB8_ALPHA8_ASTC_6x5_Format=me,t.SRGB8_ALPHA8_ASTC_6x6_Format=ve,t.SRGB8_ALPHA8_ASTC_8x5_Format=ge,t.SRGB8_ALPHA8_ASTC_8x6_Format=ye,t.SRGB8_ALPHA8_ASTC_8x8_Format=be,t.Scene=hs,t.SceneUtils=ip,t.ShaderChunk=Xi,t.ShaderLib=to,t.ShaderMaterial=Fi,t.ShadowMaterial=gc,t.Shape=Eu,t.ShapeBufferGeometry=lc,t.ShapeGeometry=lc,t.ShapePath=Yu,t.ShapeUtils=Xl,t.ShortType=vt,t.Skeleton=Vs,t.SkeletonHelper=$h,t.SkinnedMesh=Us,t.SmoothShading=2,t.Sphere=Pn,t.SphereBufferGeometry=cc,t.SphereGeometry=cc,t.Spherical=jh,t.SphericalHarmonics3=Bu,t.Spline=np,t.SplineCurve=bu,t.SplineCurve3=ep,t.SpotLight=Cu,t.SpotLightHelper=Kh,t.Sprite=Is,t.SpriteMaterial=vs,t.SrcAlphaFactor=I,t.SrcAlphaSaturateFactor=P,t.SrcColorFactor=M,t.StaticCopyUsage=35046,t.StaticDrawUsage=Ve,t.StaticReadUsage=35045,t.StereoCamera=oh,t.StreamCopyUsage=35042,t.StreamDrawUsage=35040,t.StreamReadUsage=35041,t.StringKeyframeTrack=Uc,t.SubtractEquation=w,t.SubtractiveBlending=g,t.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},t.TangentSpaceNormalMap=Ue,t.TetrahedronBufferGeometry=uc,t.TetrahedronGeometry=uc,t.TextBufferGeometry=hc,t.TextGeometry=hc,t.Texture=un,t.TextureLoader=tu,t.TorusBufferGeometry=dc,t.TorusGeometry=dc,t.TorusKnotBufferGeometry=pc,t.TorusKnotGeometry=pc,t.Triangle=kr,t.TriangleFanDrawMode=2,t.TriangleStripDrawMode=1,t.TrianglesDrawMode=0,t.TubeBufferGeometry=fc,t.TubeGeometry=fc,t.UVMapping=300,t.Uint16Attribute=function(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Kr(t,e)},t.Uint16BufferAttribute=Kr,t.Uint32Attribute=function(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new qr(t,e)},t.Uint32BufferAttribute=qr,t.Uint8Attribute=function(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Jr(t,e)},t.Uint8BufferAttribute=Jr,t.Uint8ClampedAttribute=t.Uint8ClampedBufferAttribute=Zr,t.Uniform=Dh,t.UniformsLib=$i,t.UniformsUtils=Di,t.UnsignedByteType=ft,t.UnsignedInt248Type=Tt,t.UnsignedIntType=bt,t.UnsignedShort4444Type=At,t.UnsignedShort5551Type=Et,t.UnsignedShort565Type=_t,t.UnsignedShortType=gt,t.VSMShadowMap=u,t.Vector2=an,t.Vector3=vn,t.Vector4=dn,t.VectorKeyframeTrack=jc,t.Vertex=t.VertexColors=2,t.VideoTexture=pl,t.WebGL1Renderer=ls,t.WebGLCubeRenderTarget=Hi,t.WebGLMultisampleRenderTarget=fn,t.WebGLRenderTarget=pn,t.WebGLRenderTargetCube=t.WebGLRenderer=ss,t.WebGLUtils=Xa,t.WireframeGeometry=mc,t.WireframeHelper=t.WrapAroundEnding=2402,t.XHRLoader=t.ZeroCurvatureEnding=Me,t.ZeroFactor=T,t.ZeroSlopeEnding=2401,t.ZeroStencilOp=0,t.sRGBEncoding=ke,Object.defineProperty(t,"__esModule",{value:!0})},"object"===typeof r&&"undefined"!==typeof n?o(r):(i="undefined"!==typeof globalThis?globalThis:i||self,o(i.THREE={}))},{}],58:[function(t,e,n){THREE.DRACOLoader=function(t){THREE.Loader.call(this,t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}},THREE.DRACOLoader.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:THREE.DRACOLoader,setDecoderPath:function(t){return this.decoderPath=t,this},setDecoderConfig:function(t){return this.decoderConfig=t,this},setWorkerLimit:setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(t,e,n,r){var i=this,o=new THREE.FileLoader(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(t){var n={attributeIDs:i.defaultAttributeIDs,attributeTypes:i.defaultAttributeTypes,useUniqueIDs:!1};i.decodeGeometry(t,n).then(e).catch(r)},n,r)},decodeDracoFile:decodeGeometry:function(t,e){var n=this;for(var r in e.attributeTypes){var i=e.attributeTypes[r];void 0!==i.BYTES_PER_ELEMENT&&(e.attributeTypes[r]=i.name)}var o,a=JSON.stringify(e);if(THREE.DRACOLoader.taskCache.has(t)){var s=THREE.DRACOLoader.taskCache.get(t);if(s.key===a)return s.promise;if(0===t.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var l=this.workerNextTaskID++,c=t.byteLength,u=this._getWorker(l,c).then(function(n){return o=n,new Promise(function(n,r){o._callbacks[l]={resolve:n,reject:r},o.postMessage({type:"decode",id:l,taskConfig:e,buffer:t},[t])})}).then(;return u.catch(function(){return!0}).then(,THREE.DRACOLoader.taskCache.set(t,{key:a,promise:u}),u},_createGeometry:function(t){var e=new THREE.BufferGeometry;t.index&&e.setIndex(new THREE.BufferAttribute(t.index.array,1));for(var n=0;n<t.attributes.length;n++){var r=t.attributes[n],i=r.name,o=r.array,a=r.itemSize;e.setAttribute(i,new THREE.BufferAttribute(o,a))}return e},_loadLibrary:function(t,e){var n=new THREE.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(e),n.setWithCredentials(this.withCredentials),new Promise(function(e,r){n.load(t,e,void 0,r)})},preload:_initDecoder:function(){var t=this;if(this.decoderPending)return this.decoderPending;var e="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(function(n){var r=n[0];e||(t.decoderConfig.wasmBinary=n[1]);var i=THREE.DRACOLoader.DRACOWorker.toString(),o=["/* draco decoder */",r,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");t.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending},_getWorker:function(t,e){var n=this;return this._initDecoder().then(function(){if(n.workerPool.length<n.workerLimit){var r=new Worker(n.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=n.workerPool.push(r)}else n.workerPool.sort(;var r=n.workerPool[n.workerPool.length-1];return r._taskCosts[t]=e,r._taskLoad+=e,r})},_releaseTask:debug:function(){console.log("Task load: ",this.workerPool.map(function(t){return t._taskLoad}))},dispose:),THREE.DRACOLoader.DRACOWorker=function(){var t,e;function n(t,e,n,r,i,o){var a=o.num_components(),s=n.num_points(),l=s*a,c=l*i.BYTES_PER_ELEMENT,u=t,i),h=t._malloc(c);e.GetAttributeDataArrayForAllPoints(n,o,u,c,h);var d=new i(t.HEAPF32.buffer,h,l).slice();return t._free(h),{name:r,array:d,itemSize:a}}onmessage=function(r){var i=r.data;switch(i.type){case"init":t=i.decoderConfig,e=new Promise(;break;case"decode":var o=i.buffer,a=i.taskConfig;e.then(function(t){var e=t.draco,r=new e.Decoder,s=new e.DecoderBuffer;s.Init(new Int8Array(o),o.byteLength);try{var l=function(t,e,r,i){var o,a,s=i.attributeIDs,l=i.attributeTypes,c=e.GetEncodedGeometryType(r);if(c===t.TRIANGULAR_MESH)o=new t.Mesh,a=e.DecodeBufferToMesh(r,o);else{if(c!==t.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");o=new t.PointCloud,a=e.DecodeBufferToPointCloud(r,o)}if(!a.ok()||0===o.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+a.error_msg());var u={index:null,attributes:[]};for(var h in s){var d,p,f=self[l[h]];if(i.useUniqueIDs)p=s[h],d=e.GetAttributeByUniqueId(o,p);else{if(-1===(p=e.GetAttributeId(o,t[s[h]])))continue;d=e.GetAttribute(o,p)}u.attributes.push(n(t,e,o,h,f,d))}return c===t.TRIANGULAR_MESH&&(u.index=t,e,o)),t.destroy(o),u}(e,r,s,a),c=l.attributes.map(function(t){return t.array.buffer});l.index&&c.push(l.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:l},c)}catch(u){console.error(u),self.postMessage({type:"error",id:i.id,error:u.message})}finally{e.destroy(s),e.destroy(r)}})}}},THREE.DRACOLoader.taskCache=new WeakMap,THREE.DRACOLoader.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},THREE.DRACOLoader.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},THREE.DRACOLoader.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},THREE.DRACOLoader.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")}},{}],59:[function(t,n,r){THREE.GLTFLoader=function(){function t(t){THREE.Loader.call(this,t),this.dracoLoader=null,this.ddsLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new s(t)}),this.register(function(t){return new c(t)}),this.register(function(t){return new u(t)}),this.register(function(t){return new l(t)}),this.register(function(t){return new o(t)}),this.register(}.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:t,load:function(t,n,r,i){var o,a=this;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:THREE.LoaderUtils.extractUrlBase(t),this.manager.itemStart(t);var s=l=new THREE.FileLoader(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,r,s)},setDRACOLoader:function(t){return this.dracoLoader=t,this},setDDSLoader:function(t){return this.ddsLoader=t,this},setKTX2Loader:function(t){return this.ktx2Loader=t,this},setMeshoptDecoder:function(t){return this.meshoptDecoder=t,this},register:unregister:parse:function(t,e,n,o){var s,l={},c={};if("string"===typeof t)s=t;else{var u=THREE.LoaderUtils.decodeText(new Uint8Array(t,0,4));if(u===d){try{l[r.KHR_BINARY_GLTF]=new m(t)}catch(E){return void(o&&o(E))}s=l[r.KHR_BINARY_GLTF].content}else s=THREE.LoaderUtils.decodeText(new Uint8Array(t))}var h=JSON.parse(s);if(void 0===h.asset||h.asset.version[0]<2)o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var p=new F(h,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});p.fileLoader.setRequestHeader(this.requestHeader);for(var f=0;f<this.pluginCallbacks.length;f++){var y=this.pluginCallbacks[f](p);c[y.name]=y,l[y.name]=!0}if(h.extensionsUsed)for(var f=0;f<h.extensionsUsed.length;++f){var w=h.extensionsUsed[f],A=h.extensionsRequired||[];switch(w){case r.KHR_MATERIALS_UNLIT:l[w]=new a;break;case r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:l[w]=new b;break;case r.KHR_DRACO_MESH_COMPRESSION:l[w]=new v(h,this.dracoLoader);break;case r.MSFT_TEXTURE_DDS:l[w]=new i(this.ddsLoader);break;case r.KHR_TEXTURE_TRANSFORM:l[w]=new g;break;case r.KHR_MESH_QUANTIZATION:l[w]=new x;break;default:A.indexOf(w)>=0&&void 0===c[w]&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}p.setExtensions(l),p.setPlugins(c),p.parse(n,o)}}});var r={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function i(t){if(!t)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this.name=r.MSFT_TEXTURE_DDS,this.ddsLoader=t}function o(t){this.parser=t,this.name=r.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}function a(){this.name=r.KHR_MATERIALS_UNLIT}function s(t){this.parser=t,this.name=r.KHR_MATERIALS_CLEARCOAT}function l(t){this.parser=t,this.name=r.KHR_MATERIALS_TRANSMISSION}rototype._markDefs=function(){for(var t=this.parser,e=this.parser.json.nodes||[],n=0,r=e.length;n<r;n++){var i=e[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&t._addNodeRef(this.cache,i.extensions[this.name].light)}},o.prototype._loadLight=function(t){var e=this.parser,n="light:"+t,r=e.cache.get(n);if(r)return r;var i,o=e.json,a=o.extensions&&o.extensions[this.name]||{},s=a.lights||[],l=s[t],c=new THREE.Color(16777215);void 0!==l.color&&c.fromArray(l.color);var u=void 0!==l.range?l.range:0;switch(l.type){case"directional":(i=new THREE.DirectionalLight(c)).target.position.set(0,0,-1),i.add(i.target);break;case"point":(i=new THREE.PointLight(c)).distance=u;break;case"spot":(i=new THREE.SpotLight(c)).distance=u,l.spot=l.spot||{},l.spot.innerConeAngle=void 0!==l.spot.innerConeAngle?l.spot.innerConeAngle:0,l.spot.outerConeAngle=void 0!==l.spot.outerConeAngle?l.spot.outerConeAngle:Math.PI/4,i.angle=l.spot.outerConeAngle,i.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,i.target.position.set(0,0,-1),i.add(i.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return i.position.set(0,0,0),i.decay=2,void 0!==l.intensity&&(i.intensity=l.intensity),i.name=e.createUniqueName(l.name||"light_"+t),r=Promise.resolve(i),e.cache.add(n,r),r},o.prototype.createNodeAttachment=function(t){var e=this,n=this.parser,r=n.json,i=r.nodes[t],o=i.extensions&&i.extensions[this.name]||{},a=o.light;return void 0===a?null:this._loadLight(a).then(},a.prototype.getMaterialType=function(){return THREE.MeshBasicMaterial},a.prototype.extendParams=function(t,e,n){var r=[];t.color=new THREE.Color(1,1,1),t.opacity=1;var i=e.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var o=i.baseColorFactor;t.color.fromArray(o),t.opacity=o[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(t,"map",i.baseColorTexture))}return Promise.all(r)},s.prototype.getMaterialType=function(t){var e=this.parser,n=e.json.materials[t];return n.extensions&&n.extensions[this.name]?THREE.MeshPhysicalMaterial:null},s.prototype.extendMaterialParams=function(t,e){var n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],o=r.extensions[this.name];if(void 0!==o.clearcoatFactor&&(e.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&i.push(n.assignTexture(e,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(e.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&i.push(n.assignTexture(e,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(i.push(n.assignTexture(e,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){var a=o.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new THREE.Vector2(a,-a)}return Promise.all(i)},l.prototype.getMaterialType=function(t){var e=this.parser,n=e.json.materials[t];return n.extensions&&n.extensions[this.name]?THREE.MeshPhysicalMaterial:null},l.prototype.extendMaterialParams=c.prototype.loadTexture=function(t){var e=this.parser,n=e.json,r=n.textures[t];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],o=n.images[i.source],a=e.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,o,a)},u.prototype.loadTexture=function(t){var e=this.name,n=this.parser,r=n.json,i=r.textures[t];if(!i.extensions||!i.extensions[e])return null;var o=i.extensions[e],a=r.images[o.source],s=a.uri?n.options.manager.getHandler(a.uri):n.textureLoader;return this.detectSupport().then(function(i){if(i)return n.loadTextureImage(t,a,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)})},u.prototype.detectSupport=h.prototype.loadBufferView=function(t){var e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([i,o.ready]).then(function(t){var e=r.byteOffset||0,n=r.byteLength||0,i=r.count,a=r.byteStride,s=new ArrayBuffer(i*a),l=new Uint8Array(t[0],e,n);return o.decodeGltfBuffer(new Uint8Array(s),i,a,l,r.mode,r.filter),s})}return null};var d="glTF",p=12,f={JSON:1313821514,BIN:5130562};function m(t){this.name=r.KHR_BINARY_GLTF,this.content=null,this.body=null;var e=new DataView(t,0,p);if(this.header={magic:THREE.LoaderUtils.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==d)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var n=this.header.length-p,i=new DataView(t,p),o=0;o<n;){var a=i.getUint32(o,!0);o+=4;var s=i.getUint32(o,!0);if(o+=4,s===f.JSON){var l=new Uint8Array(t,p+o,a);this.content=THREE.LoaderUtils.decodeText(l)}else if(s===f.BIN){var c=p+o;this.body=t.slice(c,c+a)}o+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function v(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=r.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}function g(){this.name=r.KHR_TEXTURE_TRANSFORM}function y(t){THREE.MeshStandardMaterial.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var e=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),i=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),a={specular:{value:(new THREE.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(t){a.specular.value=t}},specularMap:{get:function(){return a.specularMap.value},set:,glossiness:{get:function(){return a.glossiness.value},set:function(t){a.glossiness.value=t}},glossinessMap:{get:function(){return a.glossinessMap.value},set:}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}function b(){return{name:r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return y},extendParams:function(t,e,n){var r=e.extensions[this.name];t.color=new THREE.Color(1,1,1),t.opacity=1;var i=[];if(Array.isArray(r.diffuseFactor)){var o=r.diffuseFactor;t.color.fromArray(o),t.opacity=o[3]}if(void 0!==r.diffuseTexture&&i.push(n.assignTexture(t,"map",r.diffuseTexture)),t.emissive=new THREE.Color(0,0,0),t.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,t.specular=new THREE.Color(1,1,1),Array.isArray(r.specularFactor)&&t.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var a=r.specularGlossinessTexture;i.push(n.assignTexture(t,"glossinessMap",a)),i.push(n.assignTexture(t,"specularMap",a))}return Promise.all(i)},createMaterial:function(t){var e=new y(t);return e.fog=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,e.normalMapType=THREE.TangentSpaceNormalMap,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e.refractionRatio=.98,e}}}prototype.decodePrimitive=function(t,e){var n=this.json,r=this.dracoLoader,i=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,a={},s={},l={};for(var c in o){var u=M[c]||c.toLowerCase();a[u]=o[c]}for(c in t.attributes){var u=M[c]||c.toLowerCase();if(void 0!==o[c]){var h=n.accessors[t.attributes[c]],d=E[h.componentType];l[u]=d,s[u]=!0===h.normalized}}return e.getDependency("bufferView",i).then(},g.prototype.extendTexture=y.prototype=Object.create(THREE.MeshStandardMaterial.prototype),y.prototype.constructor=y,y.prototype.copy=function(t){return THREE.MeshStandardMaterial.prototype.copy.call(this,t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},w.prototype=Object.create(THREE.Interpolant.prototype),w.prototype.constructor=w,w.prototype.copySampleValue_=w.prototype.beforeStart_=w.prototype.copySampleValue_,w.prototype.afterEnd_=w.prototype.copySampleValue_,w.prototype.interpolate_=var A={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},E={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},_={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipmapNearestFilter,9985:THREE.LinearMipmapNearestFilter,9986:THREE.NearestMipmapLinearFilter,9987:THREE.LinearMipmapLinearFilter},T={33071:THREE.ClampToEdgeWrapping,33648:THREE.MirroredRepeatWrapping,10497:THREE.RepeatWrapping},S={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},M={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},C={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},I={CUBICSPLINE:void 0,LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete},k={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function R(t,e){return"string"!==typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)?t:/^data:.*,.*$/i.test(t)?t:/^blob:.*$/i.test(t)?t:e+t)}unction O(t,e){void 0!==e.extras&&("object"===typeof e.extras?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}unction P(t){var e=t.extensions&&t.extensions[r.KHR_DRACO_MESH_COMPRESSION];return e?"draco:"+e.bufferView+":"+e.indices+":"+B(e.attributes):t.indices+":"+B(t.attributes)+":"+t.mode}unction F(t,e){this.json=t||{},this.extensions={},this.plugins={},this.options=e||{},this.cache=new n,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.nodeNamesUsed={},"undefined"!==typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new THREE.ImageBitmapLoader(this.options.manager):this.textureLoader=new THREE.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new THREE.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function N(t,e,n){var r=e.attributes,i=[];or(var a in r){var s=M[a]||a.toLowerCase();s in t.attributes||i.push(o(r[a],s))}if(void 0!==e.indices&&!t.index){var l=n.getDependency("accessor",e.indices).then(function(e){t.setIndex(e)});i.push(l)}return O(t,e),function(t,e,n){var r=e.attributes,i=new THREE.Box3;if(void 0!==r.POSITION){var o=n.json.accessors[r.POSITION],a=o.min,s=o.max;if(void 0!==a&&void 0!==s){i.set(new THREE.Vector3(a[0],a[1],a[2]),new THREE.Vector3(s[0],s[1],s[2]));var l=e.targets;if(void 0!==l){for(var c=new THREE.Vector3,u=new THREE.Vector3,h=0,d=l.length;h<d;h++){var p=l[h];if(void 0!==p.POSITION){var o=n.json.accessors[p.POSITION],a=o.min,s=o.max;void 0!==a&&void 0!==s?(u.setX(Math.max(Math.abs(a[0]),Math.abs(s[0]))),u.setY(Math.max(Math.abs(a[1]),Math.abs(s[1]))),u.setZ(Math.max(Math.abs(a[2]),Math.abs(s[2]))),c.max(u)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(c)}t.boundingBox=i;var f=new THREE.Sphere;i.getCenter(f.center),f.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=f}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(t,e,n),Promise.all(i).then(function(){return void 0!==e.targets?function(t,e,n){for(var r=!1,i=!1,o=0,a=e.length;o<a;o++){var s=e[o];if(void 0!==s.POSITION&&(r=!0),void 0!==s.NORMAL&&(i=!0),r&&i)break}if(!r&&!i)return Promise.resolve(t);for(var l=[],c=[],o=0,a=e.length;o<a;o++){var s=e[o];if(r){var u=void 0!==s.POSITION?n.getDependency("accessor",s.POSITION):t.attributes.position;l.push(u)}if(i){var u=void 0!==s.NORMAL?n.getDependency("accessor",s.NORMAL):t.attributes.normal;c.push(u)}}return Promise.all([Promise.all(l),Promise.all(c)]).then(function(e){var n=e[0],o=e[1];return r&&(t.morphAttributes.position=n),i&&(t.morphAttributes.normal=o),t.morphTargetsRelative=!0,t})}(t,e.targets,n):t})}function U(t,e){var n=t.getIndex();if(null===n){var r=[],i=t.getAttribute("position");if(void 0===i)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(var o=0;o<i.count;o++)r.push(o);t.setIndex(r),n=t.getIndex()}var a=n.count-2,s=[];if(e===THREE.TriangleFanDrawMode)for(var o=1;o<=a;o++)s.push(n.getX(0)),s.push(n.getX(o)),s.push(n.getX(o+1));else for(var o=0;o<a;o++)o%2===0?(s.push(n.getX(o)),s.push(n.getX(o+1)),s.push(n.getX(o+2))):(s.push(n.getX(o+2)),s.push(n.getX(o+1)),s.push(n.getX(o)));s.length/3!==a&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var l=t.clone();return l.setIndex(s),l}return F.prototype.setExtensions=function(t){this.extensions=t},F.prototype.setPlugins=function(t){this.plugins=t},F.prototype.parse=function(t,e){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll(,Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then(function(e){var o={scene:e[0][r.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:r.asset,parser:n,userData:{}};L(i,o,r),O(o,r),t(o)}).catch(e)},F.prototype._markDefs=function(){for(var t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[],r=0,i=e.length;r<i;r++)for(var o=e[r].joints,a=0,s=o.length;a<s;a++)t[o[a]].isBone=!0;for(var l=0,c=t.length;l<c;l++){var u=t[l];void 0!==u.mesh&&(this._addNodeRef(this.meshCache,u.mesh),void 0!==u.skin&&(n[u.mesh].isSkinnedMesh=!0)),void 0!==u.camera&&this._addNodeRef(this.cameraCache,u.camera)}},F.prototype._addNodeRef=F.prototype._getNodeRef=function(t,e,n){if(t.refs[e]<=1)return n;var r=n.clone();return r.name+="_instance_"+t.uses[e]++,r},F.prototype._invokeOne=function(t){var e=Object.values(this.plugins);e.push(this);for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}},F.prototype._invokeAll=function(t){var e=Object.values(this.plugins);e.unshift(this);for(var n=[],r=0;r<e.length;r++){var i=t(e[r]);i&&n.push(i)}return n},F.prototype.getDependency=function(t,e){var n=t+":"+e,r=this.cache.get(n);if(!r){switch(t){case"scene":r=this.loadScene(e);break;case"node":r=this.loadNode(e);break;case"mesh":r=this._invokeOne(function(t){return t.loadMesh&&t.loadMesh(e)});break;case"accessor":r=this.loadAccessor(e);break;case"bufferView":r=this._invokeOne(function(t){return t.loadBufferView&&t.loadBufferView(e)});break;case"buffer":r=this.loadBuffer(e);break;case"material":r=this._invokeOne(function(t){return t.loadMaterial&&t.loadMaterial(e)});break;case"texture":r=this._invokeOne(function(t){return t.loadTexture&&t.loadTexture(e)});break;case"skin":r=this.loadSkin(e);break;case"animation":r=this.loadAnimation(e);break;case"camera":r=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(n,r)}return r},F.prototype.getDependencies=F.prototype.loadBuffer=F.prototype.loadBufferView=F.prototype.loadAccessor=function(t){var e=this,n=this.json,r=this.json.accessors[t];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then(function(t){var i,o,a=t[0],s=S[r.type],l=E[r.componentType],c=l.BYTES_PER_ELEMENT,u=c*s,h=r.byteOffset||0,d=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,p=!0===r.normalized;if(d&&d!==u){var f=Math.floor(h/d),m="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+f+":"+r.count,v=e.cache.get(m);v||(i=new l(a,f*d,r.count*d/c),v=new THREE.InterleavedBuffer(i,d/c),e.cache.add(m,v)),o=new THREE.InterleavedBufferAttribute(v,s,h%d/c,p)}else i=null===a?new l(r.count*s):new l(a,h,r.count*s),o=new THREE.BufferAttribute(i,s,p);if(void 0!==r.sparse){var g=S.SCALAR,y=E[r.sparse.indices.componentType],b=r.sparse.indices.byteOffset||0,x=r.sparse.values.byteOffset||0,w=new y(t[1],b,r.sparse.count*g),A=new l(t[2],x,r.sparse.count*s);null!==a&&(o=new THREE.BufferAttribute(o.array.slice(),o.itemSize,o.normalized));for(var _=0,T=w.length;_<T;_++){var M=w[_];if(o.setX(M,A[_*s]),s>=2&&o.setY(M,A[_*s+1]),s>=3&&o.setZ(M,A[_*s+2]),s>=4&&o.setW(M,A[_*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o})},F.prototype.loadTexture=function(t){var e,n,i=this.json,o=this.options,a=i.textures[t],s=a.extensions||{};return(e=s[r.MSFT_TEXTURE_DDS]?i.images[s[r.MSFT_TEXTURE_DDS].source]:i.images[a.source]).uri&&(n=o.manager.getHandler(e.uri)),n||(n=s[r.MSFT_TEXTURE_DDS]?this.extensions[r.MSFT_TEXTURE_DDS].ddsLoader:this.textureLoader),this.loadTextureImage(t,e,n)},F.prototype.loadTextureImage=function(t,e,n){var r=this,i=this.json,o=this.options,a=i.textures[t],s=self.URL||self.webkitURL,l=e.uri,c=!1,u=!0;return"image/jpeg"===e.mimeType&&(u=!1),void 0!==e.bufferView&&(l=r.getDependency("bufferView",e.bufferView).then(function(t){if("image/png"===e.mimeType){var n=new DataView(t,25,1).getUint8(0,!1);u=6===n||4===n||3===n}c=!0;var r=new Blob([t],{type:e.mimeType});return l=s.createObjectURL(r)})),Promise.resolve(l).then(function(t){return new Promise(function(e,r){var i=e;!0===n.isImageBitmapLoader&&(i=,n.load(R(t,o.path),i,void 0,r)})}).then(function(e){!0===c&&s.revokeObjectURL(l),e.flipY=!1,a.name&&(e.name=a.name),u||(e.format=THREE.RGBFormat);var n=i.samplers||{},o=n[a.sampler]||{};return e.magFilter=_[o.magFilter]||THREE.LinearFilter,e.minFilter=_[o.minFilter]||THREE.LinearMipmapLinearFilter,e.wrapS=T[o.wrapS]||THREE.RepeatWrapping,e.wrapT=T[o.wrapT]||THREE.RepeatWrapping,r.associations.set(e,{type:"textures",index:t}),e})},F.prototype.assignTexture=function(t,e,n){var i=this;return this.getDependency("texture",n.index).then(function(o){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===e&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+e+" not yet supported."),i.extensions[r.KHR_TEXTURE_TRANSFORM]){var a=void 0!==n.extensions?n.extensions[r.KHR_TEXTURE_TRANSFORM]:void 0;if(a){var s=i.associations.get(o);o=i.extensions[r.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),i.associations.set(o,s)}}t[e]=o})},F.prototype.assignFinalMaterial=function(t){var e=t.geometry,n=t.material,r=void 0!==e.attributes.tangent,i=void 0!==e.attributes.color,o=void 0===e.attributes.normal,a=!0===t.isSkinnedMesh,s=Object.keys(e.morphAttributes).length>0,l=s&&void 0!==e.morphAttributes.normal;if(t.isPoints){var c="PointsMaterial:"+n.uuid,u=this.cache.get(c);u||(u=new THREE.PointsMaterial,THREE.Material.prototype.copy.call(u,n),u.color.copy(n.color),u.map=n.map,u.sizeAttenuation=!1,this.cache.add(c,u)),n=u}else if(t.isLine){var c="LineBasicMaterial:"+n.uuid,h=this.cache.get(c);h||(h=new THREE.LineBasicMaterial,THREE.Material.prototype.copy.call(h,n),h.color.copy(n.color),this.cache.add(c,h)),n=h}if(r||i||o||a||s){var c="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(c+="specular-glossiness:"),a&&(c+="skinning:"),r&&(c+="vertex-tangents:"),i&&(c+="vertex-colors:"),o&&(c+="flat-shading:"),s&&(c+="morph-targets:"),l&&(c+="morph-normals:");var d=this.cache.get(c);d||(d=n.clone(),a&&(d.skinning=!0),i&&(d.vertexColors=!0),o&&(d.flatShading=!0),s&&(d.morphTargets=!0),l&&(d.morphNormals=!0),r&&(d.vertexTangents=!0,n.normalScale&&(n.normalScale.y*=-1),n.clearcoatNormalScale&&(n.clearcoatNormalScale.y*=-1)),this.cache.add(c,d),this.associations.set(d,this.associations.get(n))),n=d}n.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&e.setAttribute("uv2",e.attributes.uv),t.material=n},F.prototype.getMaterialType=function(){return THREE.MeshStandardMaterial},F.prototype.loadMaterial=function(t){var e,n=this,i=this.json,o=this.extensions,a=i.materials[t],s={},l=a.extensions||{},c=[];if(l[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=o[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];e=u.getMaterialType(),c.push(u.extendParams(s,a,n))}else if(l[r.KHR_MATERIALS_UNLIT]){var h=o[r.KHR_MATERIALS_UNLIT];e=h.getMaterialType(),c.push(h.extendParams(s,a,n))}else{var d=a.pbrMetallicRoughness||{};if(s.color=new THREE.Color(1,1,1),s.opacity=1,Array.isArray(d.baseColorFactor)){var p=d.baseColorFactor;s.color.fromArray(p),s.opacity=p[3]}void 0!==d.baseColorTexture&&c.push(n.assignTexture(s,"map",d.baseColorTexture)),s.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,s.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(c.push(n.assignTexture(s,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(s,"roughnessMap",d.metallicRoughnessTexture))),e=this._invokeOne(function(e){return e.getMaterialType&&e.getMaterialType(t)}),c.push(Promise.all(this._invokeAll())}!0===a.doubleSided&&(s.side=THREE.DoubleSide);var f=a.alphaMode||k.OPAQUE;return f===k.BLEND?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,f===k.MASK&&(s.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&e!==THREE.MeshBasicMaterial&&(c.push(n.assignTexture(s,"normalMap",a.normalTexture)),s.normalScale=new THREE.Vector2(1,-1),void 0!==a.normalTexture.scale&&s.normalScale.set(a.normalTexture.scale,-a.normalTexture.scale)),void 0!==a.occlusionTexture&&e!==THREE.MeshBasicMaterial&&(c.push(n.assignTexture(s,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(s.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&e!==THREE.MeshBasicMaterial&&(s.emissive=(new THREE.Color).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&e!==THREE.MeshBasicMaterial&&c.push(n.assignTexture(s,"emissiveMap",a.emissiveTexture)),Promise.all(c).then(function(){var i;return i=e===y?o[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new e(s),a.name&&(i.name=a.name),i.map&&(i.map.encoding=THREE.sRGBEncoding),i.emissiveMap&&(i.emissiveMap.encoding=THREE.sRGBEncoding),O(i,a),n.associations.set(i,{type:"materials",index:t}),a.extensions&&L(o,i,a),i})},F.prototype.createUniqueName=function(t){for(var e=THREE.PropertyBinding.sanitizeNodeName(t||""),n=e,r=1;this.nodeNamesUsed[n];++r)n=e+"_"+r;return this.nodeNamesUsed[n]=!0,n},F.prototype.loadGeometries=function(t){var e=this,n=this.extensions,i=this.primitiveCache;or(var a=[],s=0,l=t.length;s<l;s++){var c,u=t[s],h=P(u),d=i[h];d?a.push(d.promise):(c=u.extensions&&u.extensions[r.KHR_DRACO_MESH_COMPRESSION]?o(u):N(new THREE.BufferGeometry,u,e),i[h]={primitive:u,promise:c},a.push(c))}return Promise.all(a)},F.prototype.loadMesh=function(t){for(var e=this,n=this.json,r=this.extensions,i=n.meshes[t],o=i.primitives,a=[],s=0,l=o.length;s<l;s++){var c=void 0===o[s].material?(void 0===(u=this.cache).DefaultMaterial&&(u.DefaultMaterial=new THREE.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE.FrontSide})),u.DefaultMaterial):this.getDependency("material",o[s].material);a.push(c)}var u;return a.push(e.loadGeometries(o)),Promise.all(a).then(function(n){for(var a=n.slice(0,n.length-1),s=n[n.length-1],l=[],c=0,u=s.length;c<u;c++){var h,d=s[c],p=o[c],f=a[c];if(p.mode===A.TRIANGLES||p.mode===A.TRIANGLE_STRIP||p.mode===A.TRIANGLE_FAN||void 0===p.mode)h=!0===i.isSkinnedMesh?new THREE.SkinnedMesh(d,f):new THREE.Mesh(d,f),!0===f.isMeshStandardMaterial&&f.side===THREE.DoubleSide&&null!==d.getIndex()&&!0===d.hasAttribute("position")&&!0===d.hasAttribute("normal")&&!0===d.hasAttribute("uv")&&!1===d.hasAttribute("tangent")&&(d.computeTangents(),f.vertexTangents=!0),!0!==h.isSkinnedMesh||h.geometry.attributes.skinWeight.normalized||h.normalizeSkinWeights(),p.mode===A.TRIANGLE_STRIP?h.geometry=U(h.geometry,THREE.TriangleStripDrawMode):p.mode===A.TRIANGLE_FAN&&(h.geometry=U(h.geometry,THREE.TriangleFanDrawMode));else if(p.mode===A.LINES)h=new THREE.LineSegments(d,f);else if(p.mode===A.LINE_STRIP)h=new THREE.Line(d,f);else if(p.mode===A.LINE_LOOP)h=new THREE.LineLoop(d,f);else{if(p.mode!==A.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);h=new THREE.Points(d,f)}Object.keys(h.geometry.morphAttributes).length>0&&D(h,i),h.name=e.createUniqueName(i.name||"mesh_"+t),O(h,i),p.extensions&&L(r,h,p),e.assignFinalMaterial(h),l.push(h)}if(1===l.length)return l[0];for(var m=new THREE.Group,c=0,u=l.length;c<u;c++)m.add(l[c]);return m})},F.prototype.loadCamera=function(t){var e,n=this.json.cameras[t],r=n[n.type];if(r)return"perspective"===n.type?e=new THREE.PerspectiveCamera(THREE.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(e=new THREE.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),O(e,n),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")},F.prototype.loadSkin=F.prototype.loadAnimation=function(t){for(var e=this.json,n=e.animations[t],r=[],i=[],o=[],a=[],s=[],l=0,c=n.channels.length;l<c;l++){var u=n.channels[l],h=n.samplers[u.sampler],d=u.target,p=void 0!==d.node?d.node:d.id,f=void 0!==n.parameters?n.parameters[h.input]:h.input,m=void 0!==n.parameters?n.parameters[h.output]:h.output;r.push(this.getDependency("node",p)),i.push(this.getDependency("accessor",f)),o.push(this.getDependency("accessor",m)),a.push(h),s.push(d)}return Promise.all([Promise.all(r),Promise.all(i),Promise.all(o),Promise.all(a),Promise.all(s)]).then(function(e){for(var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=[],c=0,u=r.length;c<u;c++){var h=r[c],d=i[c],p=o[c],f=a[c],m=s[c];if(void 0!==h){var v;switch(h.updateMatrix(),h.matrixAutoUpdate=!0,C[m.path]){case C.weights:v=THREE.NumberKeyframeTrack;break;case C.rotation:v=THREE.QuaternionKeyframeTrack;break;case C.position:case C.scale:default:v=THREE.VectorKeyframeTrack}var g=h.name?h.name:h.uuid,y=void 0!==f.interpolation?I[f.interpolation]:THREE.InterpolateLinear,b=[];C[m.path]===C.weights?h.traverse(:b.push(g);var x=p.array;if(p.normalized){var A;if(x.constructor===Int8Array)A=1/127;else if(x.constructor===Uint8Array)A=1/255;else if(x.constructor==Int16Array)A=1/32767;else{if(x.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");A=1/65535}for(var E=new Float32Array(x.length),_=0,T=x.length;_<T;_++)E[_]=x[_]*A;x=E}for(var _=0,T=b.length;_<T;_++){var S=new v(b[_]+"."+C[m.path],d.array,x,y);"CUBICSPLINE"===f.interpolation&&(S.createInterpolant=S.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(S)}}}var M=n.name?n.name:"animation_"+t;return new THREE.AnimationClip(M,void 0,l)})},F.prototype.loadNode=function(t){var e=this.json,n=this.extensions,r=this,i=e.nodes[t],o=i.name?r.createUniqueName(i.name):"";return function(){var e=[];return void 0!==i.mesh&&e.push(r.getDependency("mesh",i.mesh).then(),void 0!==i.camera&&e.push(r.getDependency("camera",i.camera).then(),r._invokeAll(.forEach(function(t){e.push(t)}),Promise.all(e)}().then(function(e){var a;if((a=!0===i.isBone?new THREE.Bone:e.length>1?new THREE.Group:1===e.length?e[0]:new THREE.Object3D)!==e[0])for(var s=0,l=e.length;s<l;s++)a.add(e[s]);if(i.name&&(a.userData.name=i.name,a.name=o),O(a,i),i.extensions&&L(n,a,i),void 0!==i.matrix){var c=new THREE.Matrix4;c.fromArray(i.matrix),a.applyMatrix4(c)}else void 0!==i.translation&&a.position.fromArray(i.translation),void 0!==i.rotation&&a.quaternion.fromArray(i.rotation),void 0!==i.scale&&a.scale.fromArray(i.scale);return r.associations.set(a,{type:"nodes",index:t}),a})},F.prototype.loadScene=function(){function t(e,n,r,i){var o=r.nodes[e];return i.getDependency("node",e).then(function(t){return void 0===o.skin?t:i.getDependency("skin",o.skin).then(.then(function(n){return t.traverse(function(t){if(t.isMesh){for(var r=[],i=[],o=0,a=n.length;o<a;o++){var s=n[o];if(s){r.push(s);var l=new THREE.Matrix4;void 0!==e.inverseBindMatrices&&l.fromArray(e.inverseBindMatrices.array,16*o),i.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[o])}t.bind(new THREE.Skeleton(r,i),t.matrixWorld)}}),t});var e}).then(}return function(e){var n=this.json,r=this.extensions,i=this.json.scenes[e],o=new THREE.Group;i.name&&(o.name=this.createUniqueName(i.name)),O(o,i),i.extensions&&L(r,o,i);for(var a=i.nodes||[],s=[],l=0,c=a.length;l<c;l++)s.push(t(a[l],o,n,this));return Promise.all(s).then(function(){return o})}}(),t}()},{}],60:[function(t,n,r){THREE.MTLLoader=THREE.MTLLoader.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:THREE.MTLLoader,load:function(t,n,r,i){var o=this,a=""===this.path?THREE.LoaderUtils.extractUrlBase(t):this.path,s=new THREE.FileLoader(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,function(r){try{n(o.parse(r,a))}catch(e){i?i(e):console.error(e),o.manager.itemError(t)}},r,i)},setMaterialOptions:function(t){return this.materialOptions=t,this},parse:function(t,e){for(var n=t.split("\n"),r={},i=/\s+/,o={},a=0;a<n.length;a++){var s=n[a];if(0!==(s=s.trim()).length&&"#"!==s.charAt(0)){var l=s.indexOf(" "),c=l>=0?s.substring(0,l):s;c=c.toLowerCase();var u=l>=0?s.substring(l+1):"";if(u=u.trim(),"newmtl"===c)r={name:u},o[u]=r;else if("ka"===c||"kd"===c||"ks"===c||"ke"===c){var h=u.split(i,3);r[c]=[parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2])]}else r[c]=u}}var d=new THREE.MTLLoader.MaterialCreator(this.resourcePath||e,this.materialOptions);return d.setCrossOrigin(this.crossOrigin),d.setManager(this.manager),d.setMaterials(o),d}}),THREE.MTLLoader.MaterialCreator=function(t,e){this.baseUrl=t||"",this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,crossOrigin:"anonymous",setCrossOrigin:function(t){return this.crossOrigin=t,this},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var e={};for(var n in t){var r=t[n],i={};for(var o in e[n]=i,r){var a=!0,s=r[o],l=o.toLowerCase();switch(l){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(a=!1)}a&&(i[l]=s)}}return e},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(t){var e=this,n=this.materialsInfo[t],r={name:t,side:this.side};function i(t,n){if(!r[t]){var i,o,a=e.getTextureParams(n,r),s=e.loadTexture((i=e.baseUrl,"string"!==typeof(o=a.url)||""===o?"":/^https?:\/\//i.test(o)?o:i+o));s.repeat.copy(a.scale),s.offset.copy(a.offset),s.wrapS=e.wrap,s.wrapT=e.wrap,r[t]=s}}for(var o in n){var a,s=n[o];if(""!==s)switch(o.toLowerCase()){case"kd":r.color=(new THREE.Color).fromArray(s);break;case"ks":r.specular=(new THREE.Color).fromArray(s);break;case"ke":r.emissive=(new THREE.Color).fromArray(s);break;case"map_kd":i("map",s);break;case"map_ks":i("specularMap",s);break;case"map_ke":i("emissiveMap",s);break;case"norm":i("normalMap",s);break;case"map_bump":case"bump":i("bumpMap",s);break;case"map_d":i("alphaMap",s),r.transparent=!0;break;case"ns":r.shininess=parseFloat(s);break;case"d":(a=parseFloat(s))<1&&(r.opacity=a,r.transparent=!0);break;case"tr":a=parseFloat(s),this.options&&this.options.invertTrProperty&&(a=1-a),a>0&&(r.opacity=1-a,r.transparent=!0)}}return this.materials[t]=new THREE.MeshPhongMaterial(r),this.materials[t]},getTextureParams:function(t,e){var n,r={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},i=t.split(/\s+/);return(n=i.indexOf("-bm"))>=0&&(e.bumpScale=parseFloat(i[n+1]),i.splice(n,2)),(n=i.indexOf("-s"))>=0&&(r.scale.set(parseFloat(i[n+1]),parseFloat(i[n+2])),i.splice(n,4)),(n=i.indexOf("-o"))>=0&&(r.offset.set(parseFloat(i[n+1]),parseFloat(i[n+2])),i.splice(n,4)),r.url=i.join(" ").trim(),r},loadTexture:function(t,e,n,r,i){var o,a=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager,s=a.getHandler(t);return null===s&&(s=new THREE.TextureLoader(a)),s.setCrossOrigin&&s.setCrossOrigin(this.crossOrigin),o=s.load(t,n,r,i),void 0!==e&&(o.mapping=e),o}}},{}],61:[function(t,n,r){THREE.OBJLoader=function(){var t=/^[og]\s*(.+)?/,n=/^mtllib /,r=/^usemtl /,i=/^usemap /,o=new THREE.Vector3,a=new THREE.Vector3,s=new THREE.Vector3,l=new THREE.Vector3,c=new THREE.Vector3;function u(){var t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var n=this.object&&"function"===typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(t,e){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var r={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:"number"===typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(r),r},currentMaterial:_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},n&&n.name&&"function"===typeof n.clone){var r=n.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var n=parseInt(t,10);return 3*(n>=0?n-1:n+e/3)},parseNormalIndex:function(t,e){var n=parseInt(t,10);return 3*(n>=0?n-1:n+e/3)},parseUVIndex:function(t,e){var n=parseInt(t,10);return 2*(n>=0?n-1:n+e/2)},addVertex:function(t,e,n){var r=this.vertices,i=this.object.geometry.vertices;i.push(r[t+0],r[t+1],r[t+2]),i.push(r[e+0],r[e+1],r[e+2]),i.push(r[n+0],r[n+1],r[n+2])},addVertexPoint:function(t){var e=this.vertices,n=this.object.geometry.vertices;n.push(e[t+0],e[t+1],e[t+2])},addVertexLine:function(t){var e=this.vertices,n=this.object.geometry.vertices;n.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,n){var r=this.normals,i=this.object.geometry.normals;i.push(r[t+0],r[t+1],r[t+2]),i.push(r[e+0],r[e+1],r[e+2]),i.push(r[n+0],r[n+1],r[n+2])},addFaceNormal:function(t,e,n){var r=this.vertices,i=this.object.geometry.normals;o.fromArray(r,t),a.fromArray(r,e),s.fromArray(r,n),c.subVectors(s,a),l.subVectors(o,a),c.cross(l),c.normalize(),i.push(c.x,c.y,c.z),i.push(c.x,c.y,c.z),i.push(c.x,c.y,c.z)},addColor:function(t,e,n){var r=this.colors,i=this.object.geometry.colors;void 0!==r[t]&&i.push(r[t+0],r[t+1],r[t+2]),void 0!==r[e]&&i.push(r[e+0],r[e+1],r[e+2]),void 0!==r[n]&&i.push(r[n+0],r[n+1],r[n+2])},addUV:function(t,e,n){var r=this.uvs,i=this.object.geometry.uvs;i.push(r[t+0],r[t+1]),i.push(r[e+0],r[e+1]),i.push(r[n+0],r[n+1])},addDefaultUV:function(){var t=this.object.geometry.uvs;t.push(0,0),t.push(0,0),t.push(0,0)},addUVLine:function(t){var e=this.uvs,n=this.object.geometry.uvs;n.push(e[t+0],e[t+1])},addFace:function(t,e,n,r,i,o,a,s,l){var c=this.vertices.length,u=this.parseVertexIndex(t,c),h=this.parseVertexIndex(e,c),d=this.parseVertexIndex(n,c);if(this.addVertex(u,h,d),this.addColor(u,h,d),void 0!==a&&""!==a){var p=this.normals.length;u=this.parseNormalIndex(a,p),h=this.parseNormalIndex(s,p),d=this.parseNormalIndex(l,p),this.addNormal(u,h,d)}else this.addFaceNormal(u,h,d);if(void 0!==r&&""!==r){var f=this.uvs.length;u=this.parseUVIndex(r,f),h=this.parseUVIndex(i,f),d=this.parseUVIndex(o,f),this.addUV(u,h,d),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(t){this.object.geometry.type="Points";for(var e=this.vertices.length,n=0,r=t.length;n<r;n++){var i=this.parseVertexIndex(t[n],e);this.addVertexPoint(i),this.addColor(i)}},addLineGeometry:function(t,e){this.object.geometry.type="Line";for(var n=this.vertices.length,r=this.uvs.length,i=0,o=t.length;i<o;i++)this.addVertexLine(this.parseVertexIndex(t[i],n));for(var a=0,o=e.length;a<o;a++)this.addUVLine(this.parseUVIndex(e[a],r))}};return t.startObject("",!1),t}eturn h.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:h,load:function(t,n,r,i){var o=this,a=new THREE.FileLoader(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(r){try{n(o.parse(r))}catch(e){i?i(e):console.error(e),o.manager.itemError(t)}},r,i)},setMaterials:function(t){return this.materials=t,this},parse:function(e){var o=new u;-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));for(var a=e.split("\n"),s="",l="",c=[],h="function"===typeof"".trimLeft,d=0,p=a.length;d<p;d++)if(s=a[d],0!==(s=h?s.trimLeft():s.trim()).length&&"#"!==(l=s.charAt(0)))if("v"===l){var f=s.split(/\s+/);switch(f[0]){case"v":o.vertices.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])),f.length>=7?o.colors.push(parseFloat(f[4]),parseFloat(f[5]),parseFloat(f[6])):o.colors.push(void 0,void 0,void 0);break;case"vn":o.normals.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]));break;case"vt":o.uvs.push(parseFloat(f[1]),parseFloat(f[2]))}}else if("f"===l){for(var m=s.substr(1).trim(),v=m.split(/\s+/),g=[],y=0,b=v.length;y<b;y++){var x=v[y];if(x.length>0){var w=x.split("/");g.push(w)}}for(var A=g[0],y=1,b=g.length-1;y<b;y++){var E=g[y],_=g[y+1];o.addFace(A[0],E[0],_[0],A[1],E[1],_[1],A[2],E[2],_[2])}}else if("l"===l){var T=s.substring(1).trim().split(" "),S=[],M=[];if(-1===s.indexOf("/"))S=T;else for(var C=0,I=T.length;C<I;C++){var k=T[C].split("/");""!==k[0]&&S.push(k[0]),""!==k[1]&&M.push(k[1])}o.addLineGeometry(S,M)}else if("p"===l){var m=s.substr(1).trim(),R=m.split(" ");o.addPointGeometry(R)}else if(null!==(c=t.exec(s))){var L=(" "+c[0].substr(1).trim()).substr(1);o.startObject(L)}else if(r.test(s))o.object.startMaterial(s.substring(7).trim(),o.materialLibraries);else if(n.test(s))o.materialLibraries.push(s.substring(7).trim());else if(i.test(s))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===l){if((c=s.split(" ")).length>1){var O=c[1].trim().toLowerCase();o.object.smooth="0"!==O&&"off"!==O}else o.object.smooth=!0;var D=o.object.currentMaterial();D&&(D.smooth=o.object.smooth)}else{if("\0"===s)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+s+'"')}o.finalize();var P=new THREE.Group;P.materialLibraries=[].concat(o.materialLibraries);var B=!(1===o.objects.length&&0===o.objects[0].geometry.vertices.length);if(!0===B)for(var d=0,p=o.objects.length;d<p;d++){var F=o.objects[d],N=F.geometry,U=F.materials,j="Line"===N.type,z="Points"===N.type,G=!1;if(0!==N.vertices.length){var V=new THREE.BufferGeometry;V.setAttribute("position",new THREE.Float32BufferAttribute(N.vertices,3)),N.normals.length>0&&V.setAttribute("normal",new THREE.Float32BufferAttribute(N.normals,3)),N.colors.length>0&&(G=!0,V.setAttribute("color",new THREE.Float32BufferAttribute(N.colors,3))),!0===N.hasUVIndices&&V.setAttribute("uv",new THREE.Float32BufferAttribute(N.uvs,2));for(var H,W=[],J=0,Z=U.length;J<Z;J++){var Y=U[J],K=Y.name+"_"+Y.smooth+"_"+G,D=o.materials[K];if(null!==this.materials)if(D=this.materials.create(Y.name),!j||!D||D instanceof THREE.LineBasicMaterial){if(z&&D&&!(D instanceof THREE.PointsMaterial)){var Q=new THREE.PointsMaterial({size:10,sizeAttenuation:!1});THREE.Material.prototype.copy.call(Q,D),Q.color.copy(D.color),Q.map=D.map,D=Q}}else{var q=new THREE.LineBasicMaterial;THREE.Material.prototype.copy.call(q,D),q.color.copy(D.color),D=q}void 0===D&&((D=j?new THREE.LineBasicMaterial:z?new THREE.PointsMaterial({size:1,sizeAttenuation:!1}):new THREE.MeshPhongMaterial).name=Y.name,D.flatShading=!Y.smooth,D.vertexColors=G,o.materials[K]=D),W.push(D)}if(W.length>1){for(var J=0,Z=U.length;J<Z;J++){var Y=U[J];V.addGroup(Y.groupStart,Y.groupCount,J)}H=j?new THREE.LineSegments(V,W):z?new THREE.Points(V,W):new THREE.Mesh(V,W)}else H=j?new THREE.LineSegments(V,W[0]):z?new THREE.Points(V,W[0]):new THREE.Mesh(V,W[0]);H.name=F.name,P.add(H)}}else if(o.vertices.length>0){var D=new THREE.PointsMaterial({size:1,sizeAttenuation:!1}),V=new THREE.BufferGeometry;V.setAttribute("position",new THREE.Float32BufferAttribute(o.vertices,3)),o.colors.length>0&&void 0!==o.colors[0]&&(V.setAttribute("color",new THREE.Float32BufferAttribute(o.colors,3)),D.vertexColors=!0);var X=new THREE.Points(V,D);P.add(X)}return P}}),h}()},{}],62:[function(t,e,n){THREE.BufferGeometryUtils={computeTangents:mergeBufferGeometries:function(t,e){for(var n=null!==t[0].index,r=new Set(Object.keys(t[0].attributes)),i=new Set(Object.keys(t[0].morphAttributes)),o={},a={},s=t[0].morphTargetsRelative,l=new THREE.BufferGeometry,c=0,u=0;u<t.length;++u){var h=t[u],d=0;if(n!==(null!==h.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(var p in h.attributes){if(!r.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+p+'" attribute exists among all geometries, or in none of them.'),null;void 0===o[p]&&(o[p]=[]),o[p].push(h.attributes[p]),d++}if(d!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(s!==h.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(var p in h.morphAttributes){if(!i.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===a[p]&&(a[p]=[]),a[p].push(h.morphAttributes[p])}if(l.userData.mergedUserData=l.userData.mergedUserData||[],l.userData.mergedUserData.push(h.userData),e){var f;if(n)f=h.index.count;else{if(void 0===h.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;f=h.attributes.position.count}l.addGroup(c,f,u),c+=f}}if(n){for(var m=0,v=[],u=0;u<t.length;++u){for(var g=t[u].index,y=0;y<g.count;++y)v.push(g.getX(y)+m);m+=t[u].attributes.position.count}l.setIndex(v)}for(var p in o){var b=this.mergeBufferAttributes(o[p]);if(!b)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+p+" attribute."),null;l.setAttribute(p,b)}for(var p in a){var x=a[p][0].length;if(0===x)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[p]=[];for(var u=0;u<x;++u){for(var w=[],y=0;y<a[p].length;++y)w.push(a[p][y][u]);var A=this.mergeBufferAttributes(w);if(!A)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+p+" morphAttribute."),null;l.morphAttributes[p].push(A)}}return l},mergeBufferAttributes:function(t){for(var e,n,r,i=0,o=0;o<t.length;++o){var a=t[o];if(a.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===e&&(e=a.array.constructor),e!==a.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=a.itemSize),n!==a.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===r&&(r=a.normalized),r!==a.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;i+=a.array.length}for(var s=new e(i),l=0,o=0;o<t.length;++o)s.set(t[o].array,l),l+=t[o].array.length;return new THREE.BufferAttribute(s,n,r)},interleaveAttributes:function(t){for(var e,n=0,r=0,i=0,o=t.length;i<o;++i){var a=t[i];if(void 0===e&&(e=a.array.constructor),e!==a.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=a.array.length,r+=a.itemSize}for(var s=new THREE.InterleavedBuffer(new e(n),r),l=0,c=[],u=["getX","getY","getZ","getW"],h=["setX","setY","setZ","setW"],d=0,o=t.length;d<o;d++){var a=t[d],p=a.itemSize,f=a.count,m=new THREE.InterleavedBufferAttribute(s,p,l,a.normalized);c.push(m),l+=p;for(var v=0;v<f;v++)for(var g=0;g<p;g++)m[h[g]](v,a[u[g]](v))}return c},estimateBytesUsed:function(t){var e=0;for(var n in t.attributes){var r=t.getAttribute(n);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}var i=t.getIndex();return e+=i?i.count*i.itemSize*i.array.BYTES_PER_ELEMENT:0},mergeVertices:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;e=Math.max(e,Number.EPSILON);for(var n={},r=t.getIndex(),i=t.getAttribute("position"),o=r?r.count:i.count,a=0,s=Object.keys(t.attributes),l={},c={},u=[],h=["getX","getY","getZ","getW"],d=0,p=s.length;d<p;d++){var f=s[d];l[f]=[];var m=t.morphAttributes[f];m&&(c[f]=new Array(m.length).fill().map(function(){return[]}))}for(var v=Math.log10(1/e),g=Math.pow(10,v),d=0;d<o;d++){for(var y=r?r.getX(d):d,b="",x=0,p=s.length;x<p;x++)for(var f=s[x],w=t.getAttribute(f),A=w.itemSize,E=0;E<A;E++)b+="".concat(~~(w[h[E]](y)*g),",");if(b in n)u.push(n[b]);else{for(var x=0,p=s.length;x<p;x++)for(var f=s[x],w=t.getAttribute(f),m=t.morphAttributes[f],A=w.itemSize,_=l[f],T=c[f],E=0;E<A;E++){var S=h[E];if(_.push(w[S](y)),m)for(var M=0,C=m.length;M<C;M++)T[M].push(m[M][S](y))}n[b]=a,u.push(a),a++}}for(var I=t.clone(),d=0,p=s.length;d<p;d++){var f=s[d],k=t.getAttribute(f),R=new k.array.constructor(l[f]),w=new THREE.BufferAttribute(R,k.itemSize,k.normalized);if(I.setAttribute(f,w),f in c)for(var x=0;x<c[f].length;x++){var L=t.morphAttributes[f][x],R=new L.array.constructor(c[f][x]),O=new THREE.BufferAttribute(R,L.itemSize,L.normalized);I.morphAttributes[f][x]=O}}return I.setIndex(u),I},toTrianglesDrawMode:function(t,e){if(e===THREE.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===THREE.TriangleFanDrawMode||e===THREE.TriangleStripDrawMode){var n=t.getIndex();if(null===n){var r=[],i=t.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(var o=0;o<i.count;o++)r.push(o);t.setIndex(r),n=t.getIndex()}var a=n.count-2,s=[];if(e===THREE.TriangleFanDrawMode)for(var o=1;o<=a;o++)s.push(n.getX(0)),s.push(n.getX(o)),s.push(n.getX(o+1));else for(var o=0;o<a;o++)o%2===0?(s.push(n.getX(o)),s.push(n.getX(o+1)),s.push(n.getX(o+2))):(s.push(n.getX(o+2)),s.push(n.getX(o+1)),s.push(n.getX(o)));s.length/3!==a&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var l=t.clone();return l.setIndex(s),l.clearGroups(),l}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t},computeMorphedAttributes:function(t){if(!0!==t.geometry.isBufferGeometry)return console.error("THREE.BufferGeometryUtils: Geometry is not of type THREE.BufferGeometry."),null;var e=new THREE.Vector3,n=new THREE.Vector3,r=new THREE.Vector3,i=new THREE.Vector3,o=new THREE.Vector3,a=new THREE.Vector3,s=new THREE.Vector3,l=new THREE.Vector3,c=new THREE.Vector3;function u(t,u,h,d,p,f,m,v,g){e.fromBufferAttribute(h,f),n.fromBufferAttribute(h,m),r.fromBufferAttribute(h,v);var y=t.morphTargetInfluences;if(u.morphTargets&&d&&y){s.set(0,0,0),l.set(0,0,0),c.set(0,0,0);for(var b=0,x=d.length;b<x;b++){var w=y[b],d=d[b];0!==w&&(i.fromBufferAttribute(d,f),o.fromBufferAttribute(d,m),a.fromBufferAttribute(d,v),p?(s.addScaledVector(i,w),l.addScaledVector(o,w),c.addScaledVector(a,w)):(s.addScaledVector(i.sub(e),w),l.addScaledVector(o.sub(n),w),c.addScaledVector(a.sub(r),w)))}e.add(s),n.add(l),r.add(c)}t.isSkinnedMesh&&(t.boneTransform(f,e),t.boneTransform(m,n),t.boneTransform(v,r)),g[3*f+0]=e.x,g[3*f+1]=e.y,g[3*f+2]=e.z,g[3*m+0]=n.x,g[3*m+1]=n.y,g[3*m+2]=n.z,g[3*v+0]=r.x,g[3*v+1]=r.y,g[3*v+2]=r.z}var h,d,p,f,m,v,g,y,b,x,w,A=t.geometry,E=t.material,_=A.index,T=A.attributes.position,S=A.morphAttributes.position,M=A.morphTargetsRelative,C=A.attributes.normal,I=A.morphAttributes.position,k=A.groups,R=A.drawRange,L=new Float32Array(T.count*T.itemSize),O=new Float32Array(C.count*C.itemSize);if(null!==_)if(Array.isArray(E))for(f=0,v=k.length;f<v;f++)for(y=k[f],b=E[y.materialIndex],x=Math.max(y.start,R.start),w=Math.min(y.start+y.count,R.start+R.count),m=x,g=w;m<g;m+=3)h=_.getX(m),d=_.getX(m+1),p=_.getX(m+2),u(t,b,T,S,M,h,d,p,L),u(t,b,C,I,M,h,d,p,O);else for(x=Math.max(0,R.start),w=Math.min(_.count,R.start+R.count),f=x,v=w;f<v;f+=3)h=_.getX(f),d=_.getX(f+1),p=_.getX(f+2),u(t,E,T,S,M,h,d,p,L),u(t,E,C,I,M,h,d,p,O);else if(void 0!==T)if(Array.isArray(E))for(f=0,v=k.length;f<v;f++)for(y=k[f],b=E[y.materialIndex],x=Math.max(y.start,R.start),w=Math.min(y.start+y.count,R.start+R.count),m=x,g=w;m<g;m+=3)u(t,b,T,S,M,h=m,d=m+1,p=m+2,L),u(t,b,C,I,M,h,d,p,O);else for(x=Math.max(0,R.start),w=Math.min(T.count,R.start+R.count),f=x,v=w;f<v;f+=3)u(t,E,T,S,M,h=f,d=f+1,p=f+2,L),u(t,E,C,I,M,h,d,p,O);var D=new THREE.Float32BufferAttribute(L,3),P=new THREE.Float32BufferAttribute(O,3);return{positionAttribute:T,normalAttribute:C,morphedPositionAttribute:D,morphedNormalAttribute:P}}}},{}],63:[function(t,e,n){var r=t("layout-bmfont-text"),i=t("inherits"),o=t("quad-indices"),a=t("three-buffer-vertex-data"),s=t("object-assign"),l=t("./lib/vertices"),c=t("./lib/utils"),u=THREE.BufferGeometry;function h(t){u.call(this),"string"===typeof t&&(t={text:t}),this._opt=s({},t),t&&this.update(t)}e.exports=function(t){return new h(t)},i(h,u),h.prototype.update=function(t){if("string"===typeof t&&(t={text:t}),!(t=s({},this._opt,t)).font)throw new TypeError("must specify a { font } in options");this.layout=r(t);var e=!1!==t.flipY,n=t.font,i=n.common.scaleW,c=n.common.scaleH,u=this.layout.glyphs.filter(function(t){var e=t.data;return e.width*e.height>0});this.visibleGlyphs=u;var h=l.positions(u),d=l.uvs(u,i,c,e),p=o({clockwise:!0,type:"uint16",count:u.length});if(a.index(this,p,1,"uint16"),a.attr(this,"position",h,2),a.attr(this,"uv",d,2),!t.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(t.multipage){var f=l.pages(u);a.attr(this,"page",f,1)}},h.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var t=this.attributes.position.array,e=this.attributes.position.itemSize;if(!t||!e||t.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);c.computeSphere(t,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')},h.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var t=this.boundingBox,e=this.attributes.position.array,n=this.attributes.position.itemSize;!e||!n||e.length<2?t.makeEmpty():c.computeBox(e,t)}},{"./lib/utils":64,"./lib/vertices":65,inherits:30,"layout-bmfont-text":36,"object-assign":39,"quad-indices":51,"three-buffer-vertex-data":66}],64:[function(t,e,n){var r=2,i={min:[0,0],max:[0,0]};function o(t){var e=t.length/r;i.min[0]=t[0],i.min[1]=t[1],i.max[0]=t[0],i.max[1]=t[1];for(var n=0;n<e;n++){var o=t[n*r+0],a=t[n*r+1];i.min[0]=Math.min(o,i.min[0]),i.min[1]=Math.min(a,i.min[1]),i.max[0]=Math.max(o,i.max[0]),i.max[1]=Math.max(a,i.max[1])}}e.exports.computeBox=function(t,e){o(t),e.min.set(i.min[0],i.min[1],0),e.max.set(i.max[0],i.max[1],0)},e.exports.computeSphere=function(t,e){o(t);var n=i.min[0],r=i.min[1],a=i.max[0],s=i.max[1],l=a-n,c=s-r,u=Math.sqrt(l*l+c*c);e.center.set(n+l/2,r+c/2,0),e.radius=u/2}},{}],65:[function(t,e,n){e.exports.pages=function(t){var e=new Float32Array(4*t.length*1),n=0;return t.forEach(function(t){var r=t.data.page||0;e[n++]=r,e[n++]=r,e[n++]=r,e[n++]=r}),e},e.exports.uvs=function(t,e,n,r){var i=new Float32Array(4*t.length*2),o=0;return t.forEach(function(t){var a=t.data,s=a.x+a.width,l=a.y+a.height,c=a.x/e,u=a.y/n,h=s/e,d=l/n;r&&(u=(n-a.y)/n,d=(n-l)/n),i[o++]=c,i[o++]=u,i[o++]=c,i[o++]=d,i[o++]=h,i[o++]=d,i[o++]=h,i[o++]=u}),i},e.exports.positions=function(t){var e=new Float32Array(4*t.length*2),n=0;return t.forEach(function(t){var r=t.data,i=t.position[0]+r.xoffset,o=t.position[1]+r.yoffset,a=r.width,s=r.height;e[n++]=i,e[n++]=o,e[n++]=i,e[n++]=o+s,e[n++]=i+a,e[n++]=o+s,e[n++]=i+a,e[n++]=o}),e}},{}],66:[function(t,e,n){var r=t("flatten-vertex-data");function i(t,e,n,i){return e=r(e=e||[],i),(t=new THREE.BufferAttribute(e,n)).itemSize=n,t.needsUpdate=!0,t}e.exports.attr=function(t,e,n,r,o){if("number"!==typeof r&&(r=3),"string"!==typeof o&&(o="float32"),Array.isArray(n)&&Array.isArray(n[0])&&n[0].length!==r)throw new Error("Nested vertex array has unexpected size; expected "+r+" but found "+n[0].length);var a=i(t.getAttribute(e),n,r,o);t.setAttribute(e,a)},e.exports.index=function(t,e,n,r){"number"!==typeof n&&(n=1),"string"!==typeof r&&(r="uint16");var o=!t.index&&"function"!==typeof t.setIndex,a=i(o?t.getAttribute("index"):t.index,e,n,r);a&&(o?t.addAttribute("index",a):t.index=a)}},{"flatten-vertex-data":23}],67:[function(t,e,n){(function(e,r){var i=t("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},l=0;function c(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new c(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=n.clearTimeout=n.clearInterval=function(t){t.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=n.enroll=n.unenroll=n._unrefActive=n.active=n.setImmediate="function"===typeof e?e:n.clearImmediate="function"===typeof r?r:function(t){delete s[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":49,timers:67}],68:[function(t,e,r){(function(t){!function(t,n){"object"===typeof r&&"undefined"!==typeof e?e.exports=n():t.WebVRPolyfill=n()}(this,function(){"use strict";var e,n,r="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},i=o=a=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},s=(function(t,e){t.exports=function(){var t=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),n=i=o=function(){var t=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return t}}(),a=),s=),l=),c=),u=function(){var t=!1;return t=o()&&s()&&-1!==navigator.userAgent.indexOf("13_4"),function(){return t}}(),h=function(){var t=!1;if(65===c()){var e=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(e){var r=e[1].split("."),i=n(r,4),o=(i[0],i[1],i[2]),a=i[3];t=3325===parseInt(o,10)&&parseInt(a,10)<148}}return function(){return t}}(),d=),p=f=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},m=v=g=y=function(t,e){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i="",o=0;o<r;o++){var a=t.getActiveUniform(e,o);i=a.name.replace("[0]",""),n[i]=t.getUniformLocation(e,i)}return n},b=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},x=w=function(t){if(o()){var e=t.style.width,n=t.style.height;t.style.width=parseInt(e)+1+"px",t.style.height=parseInt(n)+"px",setTimeout(function(){t.style.width=e,t.style.height=n},100)}window.canvas=t},A=function(){var t=Math.PI/180,e=.25*Math.PI,n=new Float32Array([0,0,0,1]),r=new Float32Array([0,0,0]);function i(i,o,a,s,l,c){!i,s||null,c.depthNear,c.depthFar);var u=a.orientation||n,h=a.position||r;!o,u,h),l&&o,o,l),function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],v=e[14],g=e[15],y=n*s-r*a,b=n*l-i*a,x=n*c-o*a,w=r*l-i*s,A=r*c-o*s,E=i*c-o*l,_=u*m-h*f,T=u*v-d*f,S=u*g-p*f,M=h*v-d*m,C=h*g-p*m,I=d*g-p*v,k=y*I-b*C+x*M+w*S-A*T+E*_;if(!k)return null;k=1/k,t[0]=(s*I-l*C+c*M)*k,t[1]=(i*C-r*I-o*M)*k,t[2]=(m*E-v*A+g*w)*k,t[3]=(d*A-h*E-p*w)*k,t[4]=(l*S-a*I-c*T)*k,t[5]=(n*I-i*S+o*T)*k,t[6]=(v*x-f*E-g*b)*k,t[7]=(u*E-d*x+p*b)*k,t[8]=(a*C-s*S+c*_)*k,t[9]=(r*S-n*C-o*_)*k,t[10]=(f*A-m*x+g*y)*k,t[11]=(h*x-u*A-p*y)*k,t[12]=(s*T-a*M-l*_)*k,t[13]=(n*M-r*T+i*_)*k,t[14]=(m*b-f*w-v*y)*k,t[15]=(u*w-h*b+d*y)*k}(o,o)}return function(t,e,n){return!(!t||!e)&&(t.pose=e,t.timestamp=e.timestamp,i(t.leftProjectionMatrix,t.leftViewMatrix,e,n._getFieldOfView("left"),n._getEyeOffset("left"),n),i(t.rightProjectionMatrix,t.rightViewMatrix,e,n._getFieldOfView("right"),n._getEyeOffset("right"),n),!0)}}(),E=_=function(){var t={};return (),T=function(t,e){var n=e?"Please use "+e+" instead.":"";_(t,t+" has been deprecated. This may not work on native WebVR displays. "+n)},S=function(t,e,n){if(e){for(var r=[],i=null,o=0;o<e.length;++o){var a=e[o];switch(a){case t.TEXTURE_BINDING_2D:case t.TEXTURE_BINDING_CUBE_MAP:var s=e[++o];if(s<t.TEXTURE0||s>t.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),r.push(null,null);break}i||(i=t.getParameter(t.ACTIVE_TEXTURE)),t.activeTexture(s),r.push(t.getParameter(a),null);break;case t.ACTIVE_TEXTURE:i=t.getParameter(t.ACTIVE_TEXTURE),r.push(null);break;default:r.push(t.getParameter(a))}}n(t);for(var o=0;o<e.length;++o){var a=e[o],l=r[o];switch(a){case t.ACTIVE_TEXTURE:break;case t.ARRAY_BUFFER_BINDING:t.bindBuffer(t.ARRAY_BUFFER,l);break;case t.COLOR_CLEAR_VALUE:t.clearColor(l[0],l[1],l[2],l[3]);break;case t.COLOR_WRITEMASK:t.colorMask(l[0],l[1],l[2],l[3]);break;case t.CURRENT_PROGRAM:t.useProgram(l);break;case t.ELEMENT_ARRAY_BUFFER_BINDING:t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,l);break;case t.FRAMEBUFFER_BINDING:t.bindFramebuffer(t.FRAMEBUFFER,l);break;case t.RENDERBUFFER_BINDING:t.bindRenderbuffer(t.RENDERBUFFER,l);break;case t.TEXTURE_BINDING_2D:var s=e[++o];if(s<t.TEXTURE0||s>t.TEXTURE31)break;t.activeTexture(s),t.bindTexture(t.TEXTURE_2D,l);break;case t.TEXTURE_BINDING_CUBE_MAP:var s=e[++o];if(s<t.TEXTURE0||s>t.TEXTURE31)break;t.activeTexture(s),t.bindTexture(t.TEXTURE_CUBE_MAP,l);break;case t.VIEWPORT:t.viewport(l[0],l[1],l[2],l[3]);break;case t.BLEND:case t.CULL_FACE:case t.DEPTH_TEST:case t.SCISSOR_TEST:case t.STENCIL_TEST:l?t.enable(a):t.disable(a);break;default:console.log("No GL restore behavior for 0x"+a.toString(16))}i&&t.activeTexture(i)}}else n(t)},M=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),C=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function I(t,e,n,r){this.gl=t,this.cardboardUI=e,this.bufferScale=n,this.dirtySubmitFrameBindings=r,this.ctxAttribs=t.getContextAttributes(),this.instanceExt=t.getExtension("ANGLE_instanced_arrays"),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=t.drawingBufferWidth,this.bufferHeight=t.drawingBufferHeight,this.realBindFramebuffer=t.bindFramebuffer,this.realEnable=t.enable,this.realDisable=t.disable,this.realColorMask=t.colorMask,this.realClearColor=t.clearColor,this.realViewport=t.viewport,o()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(t.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(t.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=g(t,M,C,this.attribs),this.uniforms=y(t,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.indexCount=0,this.renderTarget=t.createTexture(),this.framebuffer=t.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=t.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=t.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=t.createRenderbuffer()),this.patch(),this.onResize()}I.prototype.destroy=I.prototype.onResize=I.prototype.patch=I.prototype.unpatch=I.prototype.setTextureBounds=I.prototype.submitFrame=function(){var t=this.gl,e=this,n=[];if(this.dirtySubmitFrameBindings||n.push(t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0),S(t,n,function(t){e.realBindFramebuffer.call(t,t.FRAMEBUFFER,null);var n=0,r=0;e.instanceExt&&(n=t.getVertexAttrib(e.attribs.position,e.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),r=t.getVertexAttrib(e.attribs.texCoord,e.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE)),e.cullFace&&e.realDisable.call(t,t.CULL_FACE),e.depthTest&&e.realDisable.call(t,t.DEPTH_TEST),e.blend&&e.realDisable.call(t,t.BLEND),e.scissorTest&&e.realDisable.call(t,t.SCISSOR_TEST),e.stencilTest&&e.realDisable.call(t,t.STENCIL_TEST),e.realColorMask.call(t,!0,!0,!0,!0),e.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),(e.ctxAttribs.alpha||o())&&(e.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT)),t.useProgram(e.program),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.indexBuffer),t.bindBuffer(t.ARRAY_BUFFER,e.vertexBuffer),t.enableVertexAttribArray(e.attribs.position),t.enableVertexAttribArray(e.attribs.texCoord),t.vertexAttribPointer(e.attribs.position,2,t.FLOAT,!1,20,0),t.vertexAttribPointer(e.attribs.texCoord,3,t.FLOAT,!1,20,8),e.instanceExt&&(0!=n&&e.instanceExt.vertexAttribDivisorANGLE(e.attribs.position,0),0!=r&&e.instanceExt.vertexAttribDivisorANGLE(e.attribs.texCoord,0)),t.activeTexture(t.TEXTURE0),t.uniform1i(e.uniforms.diffuse,0),t.bindTexture(t.TEXTURE_2D,e.renderTarget),t.uniform4fv(e.uniforms.viewportOffsetScale,e.viewportOffsetScale),t.drawElements(t.TRIANGLES,e.indexCount,t.UNSIGNED_SHORT,0),e.cardboardUI&&e.cardboardUI.renderNoState(),e.realBindFramebuffer.call(e.gl,t.FRAMEBUFFER,e.framebuffer),e.ctxAttribs.preserveDrawingBuffer||(e.realClearColor.call(t,0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)),e.dirtySubmitFrameBindings||e.realBindFramebuffer.call(t,t.FRAMEBUFFER,e.lastBoundFramebuffer),e.cullFace&&e.realEnable.call(t,t.CULL_FACE),e.depthTest&&e.realEnable.call(t,t.DEPTH_TEST),e.blend&&e.realEnable.call(t,t.BLEND),e.scissorTest&&e.realEnable.call(t,t.SCISSOR_TEST),e.stencilTest&&e.realEnable.call(t,t.STENCIL_TEST),e.realColorMask.apply(t,e.colorMask),e.realViewport.apply(t,e.viewport),!e.ctxAttribs.alpha&&e.ctxAttribs.preserveDrawingBuffer||e.realClearColor.apply(t,e.clearColor),e.instanceExt&&(0!=n&&e.instanceExt.vertexAttribDivisorANGLE(e.attribs.position,n),0!=r&&e.instanceExt.vertexAttribDivisorANGLE(e.attribs.texCoord,r))}),o()){var r=t.canvas;r.width==e.bufferWidth&&r.height==e.bufferHeight||(e.bufferWidth=r.width,e.bufferHeight=r.height,e.onResize())}},I.prototype.updateDeviceInfo=I.prototype.computeMeshVertices_=function(t,e,n){for(var r=new Float32Array(2*t*e*5),o=n.getLeftEyeVisibleTanAngles(),a=n.getLeftEyeNoLensTanAngles(),s=n.getLeftEyeVisibleScreenRect(a),l=0,c=0;c<2;c++){for(var u=0;u<e;u++)for(var h=0;h<t;h++,l++){var d=h/(t-1),p=u/(e-1),f=d,m=p,v=i(o[0],o[2],d),g=i(o[3],o[1],p),y=Math.sqrt(v*v+g*g),b=n.distortion.distortInverse(y),x=v*b/y,w=g*b/y;d=(x-a[0])/(a[2]-a[0]),p=(w-a[3])/(a[1]-a[3]),d=2*(s.x+d*s.width-.5),p=2*(s.y+p*s.height-.5),r[5*l+0]=d,r[5*l+1]=p,r[5*l+2]=f,r[5*l+3]=m,r[5*l+4]=c}var A=o[2]-o[0];o[0]=-(A+o[0]),o[2]=A-o[2],A=a[2]-a[0],a[0]=-(A+a[0]),a[2]=A-a[2],s.x=1-(s.x+s.width)}return r},I.prototype.computeMeshIndices_=I.prototype.getOwnPropertyDescriptor_=var k=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),R=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),L=Math.PI/180,O=.3125;prototype.destroy=D.prototype.listen=function(t,e){var n=this.gl.canvas;this.listener=function(r){var i=n.clientWidth/2;r.clientX>i-42&&r.clientX<i+42&&r.clientY>n.clientHeight-42?t(r):r.clientX<42&&r.clientY<42&&e(r)},n.addEventListener("click",this.listener,!1)},D.prototype.onResize=function(){var t=this.gl,e=this,n=[t.ARRAY_BUFFER_BINDING];S(t,n,function(t){var n=[],r=t.drawingBufferWidth/2,i=Math.max(screen.width,screen.height)*window.devicePixelRatio,o=t.drawingBufferWidth/i,a=o*window.devicePixelRatio,s=4*a/2,l=42*a,c=28*a/2,u=14*a;.push(r-s,l),n.push(r-s,t.drawingBufferHeight),n.push(r+s,l),n.push(r+s,t.drawingBufferHeight),e.gearOffset=n.length/2;for(var d=0;d<=6;d++){var p=60*d;h(p,1),h(p+12,1),h(p+20,.75),h(p+40,.75),h(p+48,1)}.gearVertexCount=n.length/2-e.gearOffset,e.arrowOffset=n.length/2;var m=s/Math.sin(45*L);f(0,c),f(c,0),f(c+m,m),f(m,c+m),f(m,c-m),f(0,c),f(c,2*c),f(c+m,2*c-m),f(m,c-m),f(0,c),f(m,c-s),f(28*a,c-s),f(m,c+s),f(28*a,c+s),e.arrowVertexCount=n.length/2-e.arrowOffset,t.bindBuffer(t.ARRAY_BUFFER,e.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(n),t.STATIC_DRAW)})},D.prototype.render=D.prototype.renderNoState=function(){var t=this.gl;t.useProgram(this.program),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.enableVertexAttribArray(this.attribs.position),t.vertexAttribPointer(this.attribs.position,2,t.FLOAT,!1,8,0),t.uniform4f(this.uniforms.color,1,1,1,1),function(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),c=1/(o-a);t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*c,t[15]=1}(this.projMat,0,t.drawingBufferWidth,0,t.drawingBufferHeight,.1,1024),t.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),t.drawArrays(t.TRIANGLE_STRIP,0,4),t.drawArrays(t.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),t.drawArrays(t.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},P.prototype.distortInverse=P.prototype.distort=var B=Math.PI/180,F=180/Math.PI,N=N.prototype={constructor:N,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},length:normalize:multiplyScalar:applyQuaternion:dot:crossVectors:;var U=.prototype={constructor:U,set:copy:setFromEulerXYZ:setFromEulerYXZ:setFromAxisAngle:multiply:multiplyQuaternions:inverse:normalize:slerp:setFromUnitVectors:function(){var t,e;return ()};var z=new j({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),G=new j({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),V={CardboardV1:new W({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new W({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function H(t,e){this.viewer=V.CardboardV2,this.updateDeviceParams(t),this.distortion=new P(this.viewer.distortionCoefficients);for(var n=0;n<e.length;n++){var r=e[n];V[r.id]=new W(r)}}.prototype.updateDeviceParams=H.prototype.getDevice=function(){return this.device},H.prototype.setViewer=H.prototype.determineDevice_=function(t){if(!t)return o()?(console.warn("Using fallback iOS device measurements."),G):(console.warn("Using fallback Android device measurements."),z);var e=.0254/t.xdpi,n=.0254/t.ydpi,r=f(),i=m();return new j({widthMeters:e*r,heightMeters:n*i,bevelMeters:.001*t.bevelMm})},H.prototype.getDistortedFieldOfViewLeftEye=H.prototype.getLeftEyeVisibleTanAngles=H.prototype.getLeftEyeNoLensTanAngles=H.prototype.getLeftEyeVisibleScreenRect=H.prototype.getFieldOfViewLeftEye=H.prototype.getFieldOfViewRightEye=H.prototype.getUndistortedFieldOfViewLeftEye=H.prototype.getUndistortedViewportLeftEye=H.prototype.getUndistortedParams_=function(){var t=this.viewer,e=this.device,n=this.distortion,r=t.screenLensDistance,i=t.interLensDistance/2/r,o=e.widthMeters/r,a=e.heightMeters/r,s=o/2-i,l=(t.baselineLensDistance-e.bevelMeters)/r,c=t.fov,u=n.distortInverse(Math.tan(B*c)),h=Math.min(s,u),d=Math.min(i,u),p=Math.min(l,u),f=Math.min(a-l,u);return{outerDist:h,innerDist:d,topDist:f,bottomDist:p,eyePosX:s,eyePosY:l}},H.Viewers=V;var J={format:1,last_updated:"2019-11-09T17:36:14Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X00PD/*"},{ua:"ASUS_X00PD"}],dpi:245,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X008D/*"},{ua:"ASUS_X008D"}],dpi:282,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2 XL/*"},{ua:"Pixel 2 XL"}],dpi:537.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3 XL/*"},{ua:"Pixel 3 XL"}],dpi:[558.5,553.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3/*"},{ua:"Pixel 3"}],dpi:442.4,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2/*"},{ua:"Pixel 2"}],dpi:441,bw:3,ac:500},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/BLN-L24/*"},{ua:"HONORBLN-L24"}],dpi:480,bw:4,ac:500},{type:"android",rules:[{mdmh:"Huawei/*/BKL-L09/*"},{ua:"BKL-L09"}],dpi:403,bw:3.47,ac:500},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1001/*"},{ua:"ONE E1001"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1003/*"},{ua:"ONE E1003"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2001/*"},{ua:"ONE A2001"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2003/*"},{ua:"ONE A2003"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3000/*"},{ua:"ONEPLUS A3000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3003/*"},{ua:"ONEPLUS A3003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3010/*"},{ua:"ONEPLUS A3010"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6000/*"},{ua:"ONEPLUS A6000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6003/*"},{ua:"ONEPLUS A6003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6010/*"},{ua:"ONEPLUS A6010"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6013/*"},{ua:"ONEPLUS A6013"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955F/*"},{ua:"SM-G955F"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G960F/*"},{ua:"SM-G960F"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9600/*"},{ua:"SM-G9600"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960T/*"},{ua:"SM-G960T"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960N/*"},{ua:"SM-G960N"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960U/*"},{ua:"SM-G960U"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9608/*"},{ua:"SM-G9608"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960FD/*"},{ua:"SM-G960FD"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960W/*"},{ua:"SM-G960W"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G965F/*"},{ua:"SM-G965F"}],dpi:529,bw:2,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/EML-L29/*"},{ua:"EML-L29"}],dpi:428,bw:3.45,ac:500},{type:"android",rules:[{mdmh:"Nokia/*/Nokia 7.1/*"},{ua:"Nokia 7.1"}],dpi:[432,431.9],bw:3,ac:500},{type:"ios",rules:[{res:[1242,2688]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G570M/*"},{ua:"SM-G570M"}],dpi:320,bw:3.684,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G970F/*"},{ua:"SM-G970F"}],dpi:438,bw:2.281,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G973F/*"},{ua:"SM-G973F"}],dpi:550,bw:2.002,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G975F/*"},{ua:"SM-G975F"}],dpi:522,bw:2.054,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G977F/*"},{ua:"SM-G977F"}],dpi:505,bw:2.334,ac:500},{type:"ios",rules:[{res:[828,1792]}],dpi:326,bw:5,ac:500}]};ion X(t,e,n,r){this.yawOnly=n,this.accelerometer=new N,this.gyroscope=new N,this.filter=new Q(t,r),this.posePredictor=new q(e,r),this.isFirefoxAndroid=l(),this.isIOS=o();var i=c();this.isDeviceMotionInRadians=!this.isIOS&&i&&i<66,this.isWithoutDeviceMotion=h()||u(),this.filterToWorldQ=new U,o()?this.filterToWorldQ.setFromAxisAngle(new N(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new N(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new U,this.worldToScreenQ=new U,this.originalPoseAdjustQ=new U,this.originalPoseAdjustQ.setFromAxisAngle(new N(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),p()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new U,this.orientationOut_=new Float32Array(4),this.start()}Z.prototype.getDeviceParams=function(){return this.deviceParams},Z.prototype.recalculateDeviceParams_=Z.prototype.calcDeviceParams_=function(){var t=this.dpdb;if(!t)return console.error("DPDB not available."),null;if(1!=t.format)return console.error("DPDB has unexpected format version."),null;if(!t.devices||!t.devices.length)return console.error("DPDB does not have a devices section."),null;var e=navigator.userAgent||navigator.vendor||window.opera,n=f(),r=m();if(!t.devices)return console.error("DPDB has no devices section."),null;for(var i=0;i<t.devices.length;i++){var a=t.devices[i];if(a.rules)if("ios"==a.type||"android"==a.type){if(o()==("ios"==a.type)){for(var s=!1,l=0;l<a.rules.length;l++){var c=a.rules[l];if(this.ruleMatches_(c,e,n,r)){s=!0;break}}if(s){var u=a.dpi[0]||a.dpi,h=a.dpi[1]||a.dpi;return new Y({xdpi:u,ydpi:h,bevelMm:a.bw})}}}else console.warn("Device["+i+"] has invalid type.");else console.warn("Device["+i+"] has no rules section.")}return console.warn("No DPDB device match."),null},Z.prototype.ruleMatches_=function(t,e,n,r){if(!t.ua&&!t.res)return!1;if(t.ua&&"SM"===t.ua.substring(0,2)&&(t.ua=t.ua.substring(0,7)),t.ua&&e.indexOf(t.ua)<0)return!1;if(t.res){if(!t.res[0]||!t.res[1])return!1;var i=t.res[0],o=t.res[1];if(Math.min(n,r)!=Math.min(i,o)||Math.max(n,r)!=Math.max(i,o))return!1}return!0},K.prototype.set=function(t,e){this.sample=t,this.timestampS=e},K.prototype.copy=Q.prototype.addAccelMeasurement=function(t,e){this.currentAccelMeasurement.set(t,e)},Q.prototype.addGyroMeasurement=function(t,e){this.currentGyroMeasurement.set(t,e);var n,r=e-this.previousGyroMeasurement.timestampS;n=r,!isNaN(n)&&!(n<=.001)&&!(n>1)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},Q.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var t=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,e=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,t);this.gyroIntegralQ.multiply(e),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(e);var n=new U;n.copy(this.filterQ),n.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(n),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var r,i=new U;i.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),i.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",F*((r=i).w>1?(console.warn("getQuaternionAngle: w > 1"),0):2*Math.acos(r.w)),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var o=new U;o.copy(this.filterQ),o.multiply(i),this.filterQ.slerp(o,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},Q.prototype.getOrientation=function(){return this.filterQ},Q.prototype.accelToQuaternion_=Q.prototype.gyroToQuaternionDelta_=q.prototype.getPrediction=X.prototype.getPosition=function(){return null},X.prototype.getOrientation=function(){var t=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ){this.deviceOrientationFixQ=this.deviceOrientationFixQ||function(){var t=(new U).setFromAxisAngle(new N(0,0,-1),0),e=new U;return-90===window.orientation?e.setFromAxisAngle(new N(0,1,0),Math.PI/-2):e.setFromAxisAngle(new N(0,1,0),Math.PI/2),t.multiply(e)}(),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var t=new U;return t.setFromAxisAngle(new N(1,0,0),-Math.PI/2),t}(),t=this._deviceOrientationQ;var e=new U;return e.copy(t),e.multiply(this.deviceOrientationFilterToWorldQ),e.multiply(this.resetQ),e.multiply(this.worldToScreenQ),e.multiplyQuaternions(this.deviceOrientationFixQ,e),this.yawOnly&&(e.x=0,e.z=0,e.normalize()),this.orientationOut_[0]=e.x,this.orientationOut_[1]=e.y,this.orientationOut_[2]=e.z,this.orientationOut_[3]=e.w,this.orientationOut_}var n=this.filter.getOrientation();t=this.posePredictor.getPrediction(n,this.gyroscope,this.previousTimestampS);var e=new U;return e.copy(this.filterToWorldQ),e.multiply(this.resetQ),e.multiply(t),e.multiply(this.worldToScreenQ),this.yawOnly&&(e.x=0,e.z=0,e.normalize()),this.orientationOut_[0]=e.x,this.orientationOut_[1]=e.y,this.orientationOut_[2]=e.z,this.orientationOut_[3]=e.w,this.orientationOut_},X.prototype.resetPose=X.prototype.onDeviceOrientation_=X.prototype.onDeviceMotion_=X.prototype.updateDeviceMotion_=function(t){var e=t.accelerationIncludingGravity,n=t.rotationRate,r=t.timeStamp/1e3,i=r-this.previousTimestampS;return i<0?(_("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),void(this.previousTimestampS=r)):i<=.001||i>1?(_("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),void(this.previousTimestampS=r)):(this.accelerometer.set(-e.x,-e.y,-e.z),n&&(d()?this.gyroscope.set(-n.beta,n.alpha,n.gamma):this.gyroscope.set(n.alpha,n.beta,n.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addGyroMeasurement(this.gyroscope,r)),this.filter.addAccelMeasurement(this.accelerometer,r),void(this.previousTimestampS=r))},X.prototype.onOrientationChange_=X.prototype.onMessage_=function(t){var e=t.data;if(e&&e.type){var n=e.type.toLowerCase();"devicemotion"===n&&this.updateDeviceMotion_(e.deviceMotionEvent)}},X.prototype.setScreenTransform_=X.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),o()&&function(){var t=window.self!==window.top,e=E(document.referrer),n=E(window.location.href);return t&&e!==n}()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},X.prototype.stop=var $=new N(1,0,0),tt=new N(0,0,1),et=new U;et.setFromAxisAngle($,-Math.PI/2),et.multiply((new U).setFromAxisAngle(tt,Math.PI/2));var nt=function(){function n(e){t(this,n),this.config=e,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new U,this._outQ=new U,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this.init()}return e(n,[{key:"init",value:function(){var t=null;try{(t=new RelativeOrientationSensor({frequency:60,referenceFrame:"screen"})).addEventListener("error",this._onSensorError)}catch(e){this.errors.push(e),"SecurityError"===e.name?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):"ReferenceError"===e.name?this.useDeviceMotion():console.error(e)}t&&(this.api="sensor",this.sensor=t,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start())}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new X(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG),this.sensor&&(this.sensor.removeEventListener("reading",this._onSensorRead),this.sensor.removeEventListener("error",this._onSensorError),this.sensor=null)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var t=this.sensor.quaternion;this._sensorQ.set(t[0],t[1],t[2],t[3]);var e=this._outQ;return e.copy(et),e.multiply(this._sensorQ),this.config.YAW_ONLY&&(e.x=e.z=0,e.normalize()),this._out[0]=e.x,this._out[1]=e.y,this._out[2]=e.z,this._out[3]=e.w,this._out}},{key:"_onSensorError",value:function(t){this.errors.push(t.error),"NotAllowedError"===t.error.name?console.error("Permission to access sensor was denied"):"NotReadableError"===t.error.name?console.error("Sensor could not be read"):console.error(t.error),this.useDeviceMotion()}},{key:"_onSensorRead",value:function(){}}]),n}();function rt(){this.loadIcon_();var t=document.createElement("div"),e=t.style;e.position="fixed",e.top=0,e.right=0,e.bottom=0,e.left=0,e.backgroundColor="gray",e.fontFamily="sans-serif",e.zIndex=1e6;var n=document.createElement("img");n.src=this.icon;var e=n.style;e.marginLeft="25%",e.marginTop="25%",e.width="50%",t.appendChild(n);var r=document.createElement("div"),e=r.style;e.textAlign="center",e.fontSize="16px",e.lineHeight="24px",e.margin="24px 25%",e.width="50%",r.innerHTML="Place your phone into your Cardboard viewer.",t.appendChild(r);var i=document.createElement("div"),e=i.style;e.backgroundColor="#CFD8DC",e.position="fixed",e.bottom=0,e.width="100%",e.height="48px",e.padding="14px 24px",e.boxSizing="border-box",e.color="#656A6B",t.appendChild(i);var o=document.createElement("div");o.style.float="left",o.innerHTML="No Cardboard viewer?";var a=document.createElement("a");a.href="https://www.google.com/get/cardboard/get-cardboard/",a.innerHTML="get one",a.target="_blank";var e=a.style;e.float="right",e.fontWeight=600,e.textTransform="uppercase",e.borderLeft="1px solid gray",e.paddingLeft="24px",e.textDecoration="none",e.color="#656A6B",i.appendChild(o),i.appendChild(a),this.overlay=t,this.text=r,this.hide()}rt.prototype.show=function(t){t||this.overlay.parentElement?t&&(this.overlay.parentElement&&this.overlay.parentElement!=t&&this.overlay.parentElement.removeChild(this.overlay),t.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var e=this.overlay.querySelector("img"),n=e.style;p()?(n.width="20%",n.marginLeft="40%",n.marginTop="3%"):(n.width="50%",n.marginLeft="25%",n.marginTop="25%")},rt.prototype.hide=function(){this.overlay.style.display="none"},rt.prototype.showTemporarily=rt.prototype.disableShowTemporarily=rt.prototype.update=rt.prototype.loadIcon_=function(){this.icon="data:image/svg+xml,"+encodeURIComponent("<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>")};var it="CardboardV1",ot="WEBVR_CARDBOARD_VIEWER";function at(t){try{this.selectedKey=localStorage.getItem(ot)}catch(e){console.error("Failed to load viewer profile: %s",e)}this.selectedKey||(this.selectedKey=t||it),this.dialog=this.createDialog_(H.Viewers),this.root=null,this.onChangeCallbacks_=[]}at.prototype.show=function(t){this.root=t,t.appendChild(this.dialog);var e=this.dialog.querySelector("#"+this.selectedKey);e.checked=!0,this.dialog.style.display="block"},at.prototype.hide=at.prototype.getCurrentViewer=at.prototype.getSelectedKey_=at.prototype.onChange=function(t){this.onChangeCallbacks_.push(t)},at.prototype.fireOnChange_=at.prototype.onSave_=at.prototype.createDialog_=function(t){var e=document.createElement("div");e.classList.add("webvr-polyfill-viewer-selector"),e.style.display="none";var n=document.createElement("div"),r=n.style;r.position="fixed",r.left=0,r.top=0,r.width="100%",r.height="100%",r.background="rgba(0, 0, 0, 0.3)",n.addEventListener("click",this.hide.bind(this));var i=document.createElement("div"),r=i.style;for(var o in r.boxSizing="border-box",r.position="fixed",r.top="24px",r.left="50%",r.marginLeft="-140px",r.width="280px",r.padding="24px",r.overflow="hidden",r.background="#fafafa",r.fontFamily="'Roboto', sans-serif",r.boxShadow="0px 5px 20px #666",i.appendChild(this.createH1_("Select your viewer")),t)i.appendChild(this.createChoice_(o,t[o].label));return i.appendChild(this.createButton_("Save",this.onSave_.bind(this))),e.appendChild(n),e.appendChild(i),e},at.prototype.createH1_=at.prototype.createChoice_=at.prototype.createButton_="undefined"!==typeof window?window:"undefined"!==typeof r||"undefined"!==typeof self&&self;var st,lt,ct=(function(t,e){var n;n=function(){return [function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),o="undefined"!==typeof navigator&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",i),this.noSleepVideo.addEventListener("timeupdate",bind(this)))}return r(t,[{key:"enable",value:,{key:"disable",value:]),t}();t.exports=a},)},t.exports=n()}(lt={exports:{}}),(st=lt.exports)&&st.__esModule&&Object.prototype.hasOwnProperty.call(st,"default")?st.default:st),ut=1e3,ht=[0,0,.5,1],dt=[.5,0,.5,1],pt=window.requestAnimationFrame,ft=window.cancelAnimationFrame;.prototype.getFrameData=vt.prototype.getPose=function(){return T("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},vt.prototype.resetPose=vt.prototype.getImmediatePose=vt.prototype.requestAnimationFrame=function(t){return pt(t)},vt.prototype.cancelAnimationFrame=function(t){return ft(t)},vt.prototype.wrapForFullscreen=vt.prototype.removeFullscreenWrapper=vt.prototype.requestPresent=function(t){var e=this.isPresenting,n=this;return t instanceof Array||(T("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),t=[t]),new Promise(function(r,i){if(n.capabilities.canPresent)if(0==t.length||t.length>n.capabilities.maxLayers)i(new Error("Invalid number of layers."));else{var s=t[0];if(s.source){var l=s.leftBounds||ht,c=s.rightBounds||dt;if(e){var u=n.layer_;u.source!==s.source&&(u.source=s.source);for(var h=0;h<4;h++)u.leftBounds[h]=l[h],u.rightBounds[h]=c[h];return n.wrapForFullscreen(n.layer_.source),n.updatePresent_(),void r()}if(n.layer_={predistorted:s.predistorted,source:s.source,leftBounds:l.slice(0),rightBounds:c.slice(0)},n.waitingForPresent_=!1,n.layer_&&n.layer_.source){var d=n.wrapForFullscreen(n.layer_.source);n.addFullscreenListeners_(d,,function(t){if(a())return!1;if(t.requestFullscreen)t.requestFullscreen();else if(t.webkitRequestFullscreen)t.webkitRequestFullscreen();else if(t.mozRequestFullScreen)t.mozRequestFullScreen();else{if(!t.msRequestFullscreen)return!1;t.msRequestFullscreen()}return!0}(d)?(n.enableWakeLock(),n.waitingForPresent_=!0):(o()||a())&&(n.enableWakeLock(),n.isPresenting=!0,n.beginPresent_(),n.fireVRDisplayPresentChange_(),r())}n.waitingForPresent_||o()||(v(),i(new Error("Unable to present.")))}else r()}else i(new Error("VRDisplay is not capable of presenting."))})},vt.prototype.exitPresent=function(){var t=this.isPresenting,e=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise(function(n,r){t?(!v()&&o()&&(e.endPresent_(),e.fireVRDisplayPresentChange_()),a()&&(e.removeFullscreenWrapper(),e.removeFullscreenListeners_(),e.endPresent_(),e.fireVRDisplayPresentChange_()),n()):r(new Error("Was not presenting to VRDisplay."))})},vt.prototype.getLayers=vt.prototype.fireVRDisplayPresentChange_=function(){var t=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(t)},vt.prototype.fireVRDisplayConnect_=vt.prototype.addFullscreenListeners_=vt.prototype.removeFullscreenListeners_=vt.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},vt.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},vt.prototype.beginPresent_=function(){},vt.prototype.endPresent_=function(){},vt.prototype.submitFrame=function(t){},vt.prototype.getEyeParameters=var gt={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},yt={LEFT:"left",RIGHT:"right"};function bt(t){var e=x({},gt);t=x(e,t||{}),vt.call(this,{wakelock:t.MOBILE_WAKE_LOCK}),this.config=t,this.displayName="Cardboard VRDisplay",this.capabilities=new mt({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new nt(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new Z(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new H(this.dpdb_.getDeviceParams(),t.ADDITIONAL_VIEWERS),this.viewerSelector_=new at(t.DEFAULT_VIEWER),this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new rt),o()&&window.addEventListener("resize",this.onResize_.bind(this))}return bt.prototype=Object.create(vt.prototype),bt.prototype._getPose=bt.prototype._resetPose=bt.prototype._getFieldOfView=function(t){var e;if(t==yt.LEFT)e=this.deviceInfo_.getFieldOfViewLeftEye();else{if(t!=yt.RIGHT)return console.error("Invalid eye provided: %s",t),null;e=this.deviceInfo_.getFieldOfViewRightEye()}return e},bt.prototype._getEyeOffset=function(t){var e;if(t==yt.LEFT)e=[.5*-this.deviceInfo_.viewer.interLensDistance,0,0];else{if(t!=yt.RIGHT)return console.error("Invalid eye provided: %s",t),null;e=[.5*this.deviceInfo_.viewer.interLensDistance,0,0]}return e},bt.prototype.getEyeParameters=bt.prototype.onDeviceParamsUpdated_=bt.prototype.updateBounds_=bt.prototype.beginPresent_=function(){var t=this.layer_.source.getContext("webgl");t||(t=this.layer_.source.getContext("experimental-webgl")),t||(t=this.layer_.source.getContext("webgl2")),t&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(t.canvas.width=f()*this.bufferScale_,t.canvas.height=m()*this.bufferScale_,this.cardboardUI_=new D(t)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new D(t)),this.distorter_=new I(t,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen(bind(this),bind(this)),this.rotateInstructions_&&(p()&&b()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},bt.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},bt.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},bt.prototype.submitFrame=function(t){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var e=this.layer_.source.getContext("webgl");e||(e=this.layer_.source.getContext("experimental-webgl")),e||(e=this.layer_.source.getContext("webgl2"));var n=e.canvas;n.width==this.lastWidth&&n.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=n.width,this.lastHeight=n.height,this.cardboardUI_.render()}},bt.prototype.onOrientationChange_=bt.prototype.onResize_=function(t){if(this.layer_){var e=this.layer_.source.getContext("webgl");e||(e=this.layer_.source.getContext("experimental-webgl")),e||(e=this.layer_.source.getContext("webgl2")),e.canvas.setAttribute("style",["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"].join("; ")+";"),w(e.canvas)}},bt.prototype.onViewerChanged_=bt.prototype.fireVRDisplayDeviceParamsChange_=bt.VRFrameData=bt.VRDisplay=vt,bt}()}(e={exports:{}}),e.exports),l=(n=s)&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,c={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",PROVIDE_MOBILE_VRDISPLAY:!0,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};.prototype.getPolyfillDisplays=u.prototype.enable=u.prototype.getVRDisplays=function(){var t=this;return this.config,this.hasNative?this.native.getVRDisplays.call(navigator).then(function(e){return e.length>0?e:t.getPolyfillDisplays()}):Promise.resolve(this.getPolyfillDisplays())},u.version="0.10.12",u.VRFrameData=l.VRFrameData,u.VRDisplay=l.VRDisplay;var h=Object.freeze({default:u}),d=h&&u||h;"undefined"!==typeof r&&r.window&&(r.document||(r.document=r.window.document),r.navigator||(r.navigator=r.window.navigator));var p=d;return p})}).call(this,"undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],69:[function(t,e,n){var r=/\n/,i="\n",o=/\s/;function a(t,e,n,r){var i=t.indexOf(e,n);return-1===i||i>r?r:i}function s(t){return o.test(t)}function l(t,e,n,r){var i=Math.min(r,n-e);return{start:e,end:e+i}}e.exports=function(t,n){var r=e.exports.lines(t,n);return r.map(.join("\n")},e.exports.lines=function(t,e){if(0===(e=e||{}).width&&"nowrap"!==e.mode)return[];t=t||"";var n="number"===typeof e.width?e.width:Number.MAX_VALUE,o=Math.max(0,e.start||0),c="number"===typeof e.end?e.end:t.length,u=e.mode,h=e.measure||l;return"pre"===u?function(t,e,n,i,o){for(var a=[],s=n,l=n;l<i&&l<e.length;l++){var c=e.charAt(l),u=r.test(c);if(u||l===i-1){var h=u?l:l+1,d=t(e,s,h,o);a.push(d),s=l+1}}return a}(h,t,o,c,n):function(t,e,n,r,o,l){var c=[],u=o;for("nowrap"===l&&(u=Number.MAX_VALUE);n<r&&n<e.length;){for(var h=a(e,i,n,r);n<h&&s(e.charAt(n));)n++;var d=t(e,n,h,u),p=n+(d.end-d.start),f=p+i.length;if(p<h){for(;p>n&&!s(e.charAt(p));)p--;if(p===n)f>n+i.length&&f--,p=f;else for(f=p;p>n&&s(e.charAt(p-i.length));)p--}if(p>=n){var m=t(e,n,p,u);c.push(m)}n=f}return c}(h,t,o,c,n,u)}},{}],70:[function(t,n,r){"use strict";var i=t("global/window"),o=t("is-function"),a=t("parse-headers"),s=t("xtend");nction u(t){if("undefined"===typeof t.callback)throw new Error("callback argument missing");var n=!1,r= l,u,h=t.xhr||null;h||(h=t.cors||t.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var d,p=h.url=t.uri||t.url,f=h.method=t.method||"GET",m=t.body||t.data,v=h.headers=t.headers||{},g=!!t.sync,y=!1,b={body:void 0,headers:{},statusCode:0,method:f,url:p,rawRequest:h};if("json"in t&&!1!==t.json&&(y=!0,v.accept||v.Accept||(v.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(v["content-type"]||v["Content-Type"]||(v["Content-Type"]="application/json"),m=JSON.stringify(!0===t.json?m:t.json))),h.onreadystatechange=h.onload=s,h.onerror=o,h.onprogress=function(){},h.onabort=function(){u=!0},h.ontimeout=o,h.open(f,p,!g,t.username,t.password),g||(h.withCredentials=!!t.withCredentials),!g&&t.timeout>0&&(d=setTimeout(t.timeout)),h.setRequestHeader)for(l in v)v.hasOwnProperty(l)&&h.setRequestHeader(l,v[l]);else if(t.headers&&!t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(h.responseType=t.responseType),"beforeSend"in t&&"function"===typeof t.beforeSend&&t.beforeSend(h),h.send(m||null),h}n.exports=c,n.exports.default=c,c.XMLHttpRequest=i.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:i.XDomainRequest,["get","put","post","patch","head","delete"],},{"global/window":27,"is-function":33,"parse-headers":47,xtend:72}],71:[function(t,e,n){e.exports="undefined"!==typeof self.DOMParser?function(t){var e=new self.DOMParser;return e.parseFromString(t,"application/xml")}:"undefined"!==typeof self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?,{}],72:[{}],73:[function(t,e,n){e.exports={name:"aframe",version:"1.2.0",description:"A web framework for building virtual reality experiences.",homepage:"https://aframe.io/",main:"dist/aframe-master.js",scripts:{browserify:"browserify src/index.js -s 'AFRAME' -p browserify-derequire",build:"shx mkdir -p build/ && npm run browserify -- --debug -t [ envify --INSPECTOR_VERSION dev ] -o build/aframe.js",codecov:"codecov",dev:"npm run build && cross-env INSPECTOR_VERSION=dev node ./scripts/budo -t envify",dist:"node scripts/updateVersionLog.js && npm run dist:min && npm run dist:max","dist:max":"npm run browserify -s -- --debug | exorcist dist/aframe-master.js.map > dist/aframe-master.js","dist:min":"npm run browserify -s -- --debug -p [ minifyify --map aframe-master.min.js.map --output dist/aframe-master.min.js.map ] -o dist/aframe-master.min.js",docs:"markserv --dir docs --port 9001",preghpages:"node ./scripts/preghpages.js",ghpages:"ghpages -p gh-pages/",lint:"semistandard -v | snazzy","lint:fix":"semistandard --fix",precommit:"npm run lint",prepush:"node scripts/testOnlyCheck.js",prerelease:"node scripts/release.js 1.0.4 1.1.0",start:"npm run dev","start:https":"cross-env SSL=true npm run dev",test:"karma start ./tests/karma.conf.js","test:docs":"node scripts/docsLint.js","test:firefox":"npm test -- --browsers Firefox","test:chrome":"npm test -- --browsers Chrome","test:nobrowser":"NO_BROWSER=true npm test","test:node":"mocha --ui tdd tests/node"},repository:"aframevr/aframe",license:"MIT",files:["dist/*","docs/**/*","src/**/*","vendor/**/*"],dependencies:{"custom-event-polyfill":"^1.0.6",debug:"ngokevin/debug#noTimestamp","deep-assign":"^2.0.0","document-register-element":"dmarcos/document-register-element#8ccc532b7f3744be954574caf3072a5fd260ca90","load-bmfont":"^1.2.3","object-assign":"^4.0.1",present:"0.0.6","promise-polyfill":"^3.1.0","super-animejs":"^3.1.0","super-three":"^0.125.1","three-bmfont-text":"dmarcos/three-bmfont-text#1babdf8507c731a18f8af3b807292e2b9740955e","webvr-polyfill":"^0.10.12"},devDependencies:{browserify:"^13.1.0","browserify-css":"^0.8.4","browserify-derequire":"^0.9.4","browserify-istanbul":"^2.0.0",budo:"^9.2.0",chai:"^3.5.0","chai-shallow-deep-equal":"^1.4.0",chalk:"^1.1.3",codecov:"^1.0.1","cross-env":"^5.0.1",envify:"^3.4.1",exorcist:"^0.4.0",ghpages:"0.0.8","git-rev":"^0.2.1",glob:"^7.1.1",husky:"^0.11.7",istanbul:"^0.4.5",jsdom:"^9.11.0",karma:"1.4.1","karma-browserify":"^5.1.0","karma-chai-shallow-deep-equal":"0.0.4","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.1.1","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^1.2.0","karma-mocha":"^1.1.1","karma-mocha-reporter":"^2.1.0","karma-sinon-chai":"1.2.4",lolex:"^1.5.1",markserv:"github:sukima/markserv#feature/fix-broken-websoketio-link",minifyify:"^7.3.3",mocha:"^3.0.2","mozilla-download":"^1.1.1","replace-in-file":"^2.5.3",semistandard:"^9.0.0",shelljs:"^0.7.7",shx:"^0.2.2",sinon:"^1.17.5","sinon-chai":"2.8.0",snazzy:"^5.0.0","too-wordy":"ngokevin/too-wordy",uglifyjs:"^2.4.10","write-good":"^0.9.1"},link:!0,browserify:{transform:["browserify-css","envify"]},semistandard:{ignore:["build/**","dist/**","examples/**/shaders/*.js","**/vendor/**"]},keywords:["3d","aframe","cardboard","components","oculus","three","three.js","rift","vive","vr","web-components","webvr"],"browserify-css":{minify:!0},engines:{node:">= 4.6.0",npm:"^2.15.9"}}},{}],74:[function(t,e,n){var r=t("super-animejs"),i=t("../core/component").components,o=t("../core/component").registerComponent,a=t("../lib/three"),s=t("../utils"),l=new a.Color,c=new a.Color,u=s.entity.getComponentProperty,h=s.entity.setComponentProperty,d={},p="color",f="components",m="object3D";function v(t){t.x=a.Math.degToRad(t.x),t.y=a.Math.degToRad(t.y),t.z=a.Math.degToRad(t.z)}function g(t,e,n){var r;for(r=0;r<e.length;r++)t.addEventListener(e[r],n)}function y(t,e,n){var r;for(r=0;r<e.length;r++)t.removeEventListener(e[r],n)}function b(t,e){var n,r,i;for(r=w(e),i=t,n=0;n<r.length;n++)i=i[r[n]];if(void 0===i)throw console.log(t),new Error("[animation] property ("+e+") could not be found");return i}function x(t,e,n,r){var i,o,s,l;for(e.startsWith("object3D.rotation")&&(n=a.Math.degToRad(n)),o=w(e),l=t,i=0;i<o.length-1;i++)l=l[o[i]];s=o[o.length-1],r!==p?l[s]=n:"r"in l[s]?(l[s].r=n.r,l[s].g=n.g,l[s].b=n.b):(l[s].x=n.r,l[s].y=n.g,l[s].z=n.b)}function w(t){return t in d?d[t]:(d[t]=t.split("."),d[t])}function A(t){return t.isRawProperty||t.property.startsWith(f)||t.property.startsWith(m)}e.exports.Component=o("animation",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(t){return!0===t||"true"===t||!1!==t&&"false"!==t&&parseInt(t,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}},multiple:!0,init:function(){var t=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.updateConfigForDefault=this.updateConfigForDefault.bind(this),this.updateConfigForRawColor=this.updateConfigForRawColor.bind(this),this.config={complete:function(){t.animationIsPlaying=!1,t.el.emit("animationcomplete",t.eventDetail,!1),t.id&&t.el.emit("animationcomplete__"+t.id,t.eventDetail,!1)}}},update:function(t){var e=this.config,n=this.data;this.animationIsPlaying=!1,this.data.enabled&&n.property&&(e.autoplay=!1,e.direction=n.dir,e.duration=n.dur,e.easing=n.easing,e.elasticity=n.elasticity,e.loop=n.loop,e.round=n.round,this.createAndStartAnimation())},tick:function(t,e){this.animationIsPlaying&&(this.time+=e,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=this.animationIsPlaying,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var t=this.data;this.updateConfig(),this.animationIsPlaying=!1,this.animation=r(this.config),this.animation.began=!0,this.removeEventListeners(),this.addEventListeners(),!t.autoplay||t.startEvents&&t.startEvents.length||(t.delay?setTimeout(this.beginAnimation,t.delay):this.beginAnimation())},beginAnimation:function(){this.updateConfig(),this.animation.began=!0,this.time=0,this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit("animationbegin",this.eventDetail,!1)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){this.data.enabled&&(this.updateConfig(),this.animation&&this.animation.pause(),this.animation=r(this.config),this.data.delay?setTimeout(this.beginAnimation,this.data.delay):this.beginAnimation())},updateConfigForRawColor:function(){var t,e,n,r=this.config,i=this.data,o=this.el;if(!this.waitComponentInitRawProperty(this.updateConfigForRawColor)){for(e in t=""===i.from?b(o,i.property):i.from,n=i.to,this.setColorConfig(t,n),t=this.fromColor,n=this.toColor,this.targetsArray.length=0,this.targetsArray.push(t),r.targets=this.targetsArray,n)r[e]=n[e];r.update=function(){var t={};return function(e){var n;(n=e.animatables[0].target).r===t.r&&n.g===t.g&&n.b===t.b||x(o,i.property,n,i.type)}}()}},updateConfigForDefault:function(){var t,e,n,r=this.config,i=this.data,o=this.el;this.waitComponentInitRawProperty(this.updateConfigForDefault)||(t=""===i.from?A(i)?b(o,i.property):u(o,i.property):i.from,n=i.to,isNaN(t||n)?(t=t?t.toString():t,n=n?n.toString():n):(t=parseFloat(t),n=parseFloat(n)),(e="true"===i.to||"false"===i.to||!0===i.to||!1===i.to)&&(t="true"===i.from||!0===i.from?1:0,n="true"===i.to||!0===i.to?1:0),this.targets.aframeProperty=t,r.targets=this.targets,r.aframeProperty=n,r.update=function(){var t;return function(n){var r;(r=n.animatables[0].target.aframeProperty)!==t&&(t=r,e&&(r=r>=1),A(i)?x(o,i.property,r,i.type):h(o,i.property,r))}}())},updateConfigForVector:function(){var t,e,n,r=this.config,i=this.data,o=this.el;for(t in e=""!==i.from?s.coordinates.parse(i.from):u(o,i.property),n=s.coordinates.parse(i.to),"rotation"===i.property&&(v(e),v(n)),this.targetsArray.length=0,this.targetsArray.push(e),r.targets=this.targetsArray,n)r[t]=n[t];"position"!==i.property&&"rotation"!==i.property&&"scale"!==i.property?r.update=function(){var t={};return function(e){var n=e.animatables[0].target;n.x===t.x&&n.y===t.y&&n.z===t.z||(t.x=n.x,t.y=n.y,t.z=n.z,h(o,i.property,n))}}():r.update=function(){var t={};return function(e){var n=e.animatables[0].target;"scale"===i.property&&(n.x=Math.max(1e-4,n.x),n.y=Math.max(1e-4,n.y),n.z=Math.max(1e-4,n.z)),n.x===t.x&&n.y===t.y&&n.z===t.z||(t.x=n.x,t.y=n.y,t.z=n.z,o.object3D[i.property].set(n.x,n.y,n.z))}}()},updateConfig:function(){var t;t=function(t,e){var n,r,o,a;return o=e.split("."),r=o[0],a=o[1],(n=t.components[r]||i[r])?a&&!n.schema[a]?null:a?n.schema[a].type:n.schema.type:null}(this.el,this.data.property),A(this.data)&&this.data.type===p?this.updateConfigForRawColor():"vec2"===t||"vec3"===t||"vec4"===t?this.updateConfigForVector():this.updateConfigForDefault()},waitComponentInitRawProperty:function(t){var e,n=this.data,i=this.el,o=this;return""===n.from&&!!n.property.startsWith(f)&&(e=w(n.property)[1],!i.components[e]&&(i.addEventListener("componentinitialized",function n(a){a.detail.name===e&&(t(),o.animation=r(o.config),i.removeEventListener("componentinitialized",n))}),!0))},stopRelatedAnimations:function(){var t,e;for(e in this.el.components)t=this.el.components[e],e!==this.attrName&&"animation"===t.name&&t.animationIsPlaying&&t.data.property===this.data.property&&(t.animationIsPlaying=!1)},addEventListeners:function(){var t=this.data,e=this.el;g(e,t.startEvents,this.onStartEvent),g(e,t.pauseEvents,this.pauseAnimation),g(e,t.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var t=this.data,e=this.el;y(e,t.startEvents,this.onStartEvent),y(e,t.pauseEvents,this.pauseAnimation),y(e,t.resumeEvents,this.resumeAnimation)},setColorConfig:function(t,e){l.set(t),c.set(e),t=this.fromColor,e=this.toColor,t.r=l.r,t.g=l.g,t.b=l.b,e.r=c.r,e.g=c.g,e.b=c.b}})},{"../core/component":131,"../lib/three":179,"../utils":205,"super-animejs":56}],75:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../lib/three");e.exports.Component=r("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},spectator:{default:!1},zoom:{default:1,min:0}},init:function(){var t,e=this.el;t=this.camera=new i.PerspectiveCamera,e.setObject3D("camera",t)},update:function(t){var e=this.data,n=this.camera;n.aspect=e.aspect||window.innerWidth/window.innerHeight,n.far=e.far,n.fov=e.fov,n.near=e.near,n.zoom=e.zoom,n.updateProjectionMatrix(),this.updateActiveCamera(t),this.updateSpectatorCamera(t)},updateActiveCamera:function(t){var e=this.data,n=this.el,r=this.system;t&&t.active===e.active||e.spectator||(e.active&&r.activeCameraEl!==n?r.setActiveCamera(n):e.active||r.activeCameraEl!==n||r.disableActiveCamera())},updateSpectatorCamera:function(t){var e=this.data,n=this.el,r=this.system;t&&t.spectator===e.spectator||(e.spectator&&r.spectatorCameraEl!==n?r.setSpectatorCamera(n):e.spectator||r.spectatorCameraEl!==n||r.disableSpectatorCamera())},remove:function(){this.el.removeObject3D("camera")}})},{"../core/component":131,"../lib/three":179}],76:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/"),o=i.bind,a={CLICK:"click",FUSING:"fusing",MOUSEENTER:"mouseenter",MOUSEDOWN:"mousedown",MOUSELEAVE:"mouseleave",MOUSEUP:"mouseup"},s={FUSING:"cursor-fusing",HOVERING:"cursor-hovering",HOVERED:"cursor-hovered"},l={DOWN:["mousedown","touchstart"],UP:["mouseup","touchend"]},c={DOWN:["selectstart"],UP:["selectend"]};e.exports.Component=r("cursor",{dependencies:["raycaster"],schema:{downEvents:{default:[]},fuse:{default:i.device.isMobile()},fuseTimeout:{default:1500,min:0},mouseCursorStylesEnabled:{default:!0},upEvents:{default:[]},rayOrigin:{default:"entity",oneOf:["mouse","entity"]}},init:function(){var t=this;this.fuseTimeout=void 0,this.cursorDownEl=null,this.intersectedEl=null,this.canvasBounds=document.body.getBoundingClientRect(),this.isCursorDown=!1,this.updateCanvasBounds=i.debounce(500),this.eventDetail={},this.intersectedEventDetail={cursorEl:this.el},this.onCursorDown=o(this.onCursorDown,this),this.onCursorUp=o(this.onCursorUp,this),this.onIntersection=o(this.onIntersection,this),this.onIntersectionCleared=o(this.onIntersectionCleared,this),this.onMouseMove=o(this.onMouseMove,this),this.onEnterVR=o(this.onEnterVR,this)},update:function(t){this.data.rayOrigin!==t.rayOrigin&&this.updateMouseEventListeners()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){var t=this.el;t.removeState(s.HOVERING),t.removeState(s.FUSING),clearTimeout(this.fuseTimeout),this.intersectedEl&&this.intersectedEl.removeState(s.HOVERED),this.removeEventListeners()},addEventListeners:function(){var t,e=this.data,n=this.el,r=this;function i(){t=n.sceneEl.canvas,e.downEvents.length||e.upEvents.length||(l.DOWN.forEach(function(e){t.addEventListener(e,r.onCursorDown)}),l.UP.forEach(function(e){t.addEventListener(e,r.onCursorUp)}))}(t=n.sceneEl.canvas)?i():n.sceneEl.addEventListener("render-target-loaded",i),e.downEvents.forEach(function(t){n.addEventListener(t,r.onCursorDown)}),e.upEvents.forEach(function(t){n.addEventListener(t,r.onCursorUp)}),n.addEventListener("raycaster-intersection",this.onIntersection),n.addEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),n.sceneEl.addEventListener("rendererresize",this.updateCanvasBounds),n.sceneEl.addEventListener("enter-vr",this.onEnterVR),window.addEventListener("resize",this.updateCanvasBounds),window.addEventListener("scroll",this.updateCanvasBounds),this.updateMouseEventListeners()},removeEventListeners:function(){var t,e=this.data,n=this.el,r=this;!(t=n.sceneEl.canvas)||e.downEvents.length||e.upEvents.length||(l.DOWN.forEach(function(e){t.removeEventListener(e,r.onCursorDown)}),l.UP.forEach(function(e){t.removeEventListener(e,r.onCursorUp)})),e.downEvents.forEach(function(t){n.removeEventListener(t,r.onCursorDown)}),e.upEvents.forEach(function(t){n.removeEventListener(t,r.onCursorUp)}),n.removeEventListener("raycaster-intersection",this.onIntersection),n.removeEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("touchstart",this.onMouseMove),t.removeEventListener("touchmove",this.onMouseMove),n.sceneEl.removeEventListener("rendererresize",this.updateCanvasBounds),n.sceneEl.removeEventListener("enter-vr",this.onEnterVR),window.removeEventListener("resize",this.updateCanvasBounds),window.removeEventListener("scroll",this.updateCanvasBounds)},updateMouseEventListeners:function(){var t,e=this.el;(t=e.sceneEl.canvas).removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("touchmove",this.onMouseMove),e.setAttribute("raycaster","useWorldCoordinates",!1),"mouse"===this.data.rayOrigin&&(t.addEventListener("mousemove",this.onMouseMove,!1),t.addEventListener("touchmove",this.onMouseMove,!1),e.setAttribute("raycaster","useWorldCoordinates",!0),this.updateCanvasBounds())},onMouseMove:function(){var t=new THREE.Vector3,e=new THREE.Vector2,n=new THREE.Vector3,r={origin:n,direction:t};return function(i){var o,a,s,l=this.canvasBounds,c=this.el.sceneEl.camera;c.parent.updateMatrixWorld(),a="touchmove"===i.type||"touchstart"===i.type?i.touches.item(0):i,o=a.clientX-l.left,s=a.clientY-l.top,e.x=o/l.width*2-1,e.y=-s/l.height*2+1,n.setFromMatrixPosition(c.matrixWorld),t.set(e.x,e.y,.5).unproject(c).sub(n).normalize(),this.el.setAttribute("raycaster",r),"touchmove"===i.type&&i.preventDefault()}}(),onCursorDown:function(t){this.isCursorDown=!0,"mouse"===this.data.rayOrigin&&"touchstart"===t.type&&(this.onMouseMove(t),this.el.components.raycaster.checkIntersections(),t.preventDefault()),this.twoWayEmit(a.MOUSEDOWN),this.cursorDownEl=this.intersectedEl},onCursorUp:function(t){if(this.isCursorDown){this.isCursorDown=!1;var e=this.data;this.twoWayEmit(a.MOUSEUP),this.cursorDownEl&&this.cursorDownEl!==this.intersectedEl&&(this.intersectedEventDetail.intersection=null,this.cursorDownEl.emit(a.MOUSEUP,this.intersectedEventDetail)),e.fuse&&"mouse"!==e.rayOrigin||!this.intersectedEl||this.cursorDownEl!==this.intersectedEl||this.twoWayEmit(a.CLICK),this.cursorDownEl=null,"touchend"===t.type&&t.preventDefault()}},onIntersection:function(t){var e,n,r,i,o=this.el;n=t.detail.els[0]===o?1:0,i=t.detail.intersections[n],(r=t.detail.els[n])&&this.intersectedEl!==r&&(this.intersectedEl&&(e=this.el.components.raycaster.getIntersection(this.intersectedEl))&&e.distance<=i.distance||(this.clearCurrentIntersection(!0),this.setIntersection(r,i)))},onIntersectionCleared:function(t){var e=t.detail.clearedEls;-1!==e.indexOf(this.intersectedEl)&&this.clearCurrentIntersection()},onEnterVR:function(){this.clearCurrentIntersection(!0);var t=this.el.sceneEl.xrSession,e=this;t&&"mouse"!==this.data.rayOrigin&&(c.DOWN.forEach(function(n){t.addEventListener(n,e.onCursorDown)}),c.UP.forEach(function(n){t.addEventListener(n,e.onCursorUp)}))},setIntersection:function(t,e){var n=this.el,r=this.data,i=this;this.intersectedEl!==t&&(this.intersectedEl=t,n.addState(s.HOVERING),t.addState(s.HOVERED),this.twoWayEmit(a.MOUSEENTER),this.data.mouseCursorStylesEnabled&&"mouse"===this.data.rayOrigin&&this.el.sceneEl.canvas.classList.add("a-mouse-cursor-hover"),0!==r.fuseTimeout&&r.fuse&&(n.addState(s.FUSING),this.twoWayEmit(a.FUSING),this.fuseTimeout=setTimeout(r.fuseTimeout)))},clearCurrentIntersection:function(t){var e,n,r,i=this.el;this.intersectedEl&&(this.intersectedEl.removeState(s.HOVERED),i.removeState(s.HOVERING),i.removeState(s.FUSING),this.twoWayEmit(a.MOUSELEAVE),this.data.mouseCursorStylesEnabled&&"mouse"===this.data.rayOrigin&&this.el.sceneEl.canvas.classList.remove("a-mouse-cursor-hover"),this.intersectedEl=null,clearTimeout(this.fuseTimeout),!0!==t&&0!==(r=this.el.components.raycaster.intersections).length&&(e=r[0].object.el===i?1:0,(n=r[e])&&this.setIntersection(n.object.el,n)))},twoWayEmit:function(t){var e,n=this.el,r=this.intersectedEl;e=this.el.components.raycaster.getIntersection(r),this.eventDetail.intersectedEl=r,this.eventDetail.intersection=e,n.emit(t,this.eventDetail),r&&(this.intersectedEventDetail.intersection=e,r.emit(t,this.intersectedEventDetail))}})},{"../core/component":131,"../utils/":205}],77:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/bind"),o=t("../utils/tracked-controls"),a=o.checkControllerPresentAndSetup,s=o.emitIfAxesChanged,l=o.onButtonEvent,c=t("../utils/").device.isWebXRAvailable,u=c?"google-daydream":"Daydream Controller",h=c?{axes:{touchpad:[0,1]},buttons:["none","none","touchpad","menu","system"]}:{axes:{trackpad:[0,1]},buttons:["trackpad","menu","system"]};e.exports.Component=r("daydream-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:h,bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(e){l(e.detail.id,"down",t)},this.onButtonUp=function(e){l(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){l(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){l(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){a(this,u,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{armModel:e.armModel,hand:e.hand,idPrefix:u,id:u,orientationOffset:e.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/google/vr_controller_daydream.obj",mtl:"https://cdn.aframe.io/controllers/google/vr_controller_daydream.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&((e=this.buttonMeshes={}).menu=n.getObjectByName("AppButton_AppButton_Cylinder.004"),e.system=n.getObjectByName("HomeButton_HomeButton_Cylinder.005"),e.trackpad=n.getObjectByName("TouchPad_TouchPad_Cylinder.003"),e.touchpad=n.getObjectByName("TouchPad_TouchPad_Cylinder.003"),n.position.set(0,0,-.04))},onAxisMoved:function(t){s(this,this.mapping.axes,t)},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&this.el.emit(e+"changed",t.detail.state)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var n=this.buttonMeshes;if(n&&n[t]){var r;switch(e){case"down":r=this.data.buttonHighlightColor;break;case"touchstart":r=this.data.buttonTouchedColor;break;default:r=this.data.buttonColor}n[t].material.color.set(r)}}})},{"../core/component":131,"../utils/":205,"../utils/bind":199,"../utils/tracked-controls":214}],78:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/bind"),o=t("../utils/tracked-controls"),a=o.checkControllerPresentAndSetup,s=o.emitIfAxesChanged,l=o.onButtonEvent,c=t("../utils/").device.isWebXRAvailable,u=c?"samsung-gearvr":"Gear VR",h=c?{axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad","none","menu"]}:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]};e.exports.Component=r("gearvr-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:h,bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(e){l(e.detail.id,"down",t)},this.onButtonUp=function(e){l(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){l(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){l(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){a(this,u,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{armModel:e.armModel,hand:e.hand,idPrefix:u,id:u,orientationOffset:e.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/samsung/gear_vr_controller.obj",mtl:"https://cdn.aframe.io/controllers/samsung/gear_vr_controller.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&((e=this.buttonMeshes={}).trigger=n.children[2],e.trackpad=n.children[1],e.touchpad=n.children[1])},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&this.el.emit(e+"changed",t.detail.state)},onAxisMoved:function(t){s(this,this.mapping.axes,t)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var n=this.buttonMeshes;if(n&&n[t]){var r;switch(e){case"down":r=this.data.buttonHighlightColor;break;case"touchstart":r=this.data.buttonTouchedColor;break;default:r=this.data.buttonColor}n[t].material.color.set(r)}}})},{"../core/component":131,"../utils/":205,"../utils/bind":199,"../utils/tracked-controls":214}],79:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/bind"),o=t("../utils/tracked-controls"),a=o.checkControllerPresentAndSetup,s=o.emitIfAxesChanged,l=o.onButtonEvent;e.exports.Component=r("generic-tracked-controller-controls",{schema:{hand:{default:""},defaultModel:{default:!0},defaultModelColor:{default:"gray"},orientationOffset:{type:"vec3"},disabled:{default:!1}},mapping:{axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick"]},bindMethods:function(){this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(e){l(e.detail.id,"down",t)},this.onButtonUp=function(e){l(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){l(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){l(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.wasControllerConnected=!1,this.lastControllerCheck=0,this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods(),this.el.addEventListener("controllerconnected",function(e){e.detail.name!==t.name&&(t.wasControllerConnected=!0,t.removeEventListeners(),t.removeControllersUpdateListener())})},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var t=this.data,e=t.hand?t.hand:void 0;a(this,"generic",{hand:e,iterateControllerProfiles:!0})},play:pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,e=this.data;this.el.components["tracked-controls"]?this.removeEventListeners():(t.setAttribute("tracked-controls",{hand:e.hand,idPrefix:"generic",orientationOffset:e.orientationOffset,iterateControllerProfiles:!0}),this.data.defaultModel&&this.initDefaultModel())},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&this.el.emit(e+"changed",t.detail.state)},onAxisMoved:function(t){s(this,this.mapping.axes,t)},initDefaultModel:function(){var t=this.modelEl=document.createElement("a-entity");t.setAttribute("geometry",{primitive:"sphere",radius:.03}),t.setAttribute("material",{color:this.data.color}),this.el.appendChild(t)}})},{"../core/component":131,"../utils/bind":199,"../utils/tracked-controls":214}],80:[function(t,e,n){var r=t("../core/geometry").geometries,i=t("../core/geometry").geometryNames,o=t("../core/component").registerComponent,a=t("../lib/three"),s=new a.BufferGeometry;e.exports.Component=o("geometry",{schema:{buffer:{default:!0},primitive:{default:"box",oneOf:i,schemaChange:!0},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(t){var e,n=this.data,r=this.el,i=this.system;this.geometry&&(i.unuseGeometry(t),this.geometry=null),this.geometry=i.getOrCreateGeometry(n),(e=r.getObject3D("mesh"))?e.geometry=this.geometry:((e=new a.Mesh).geometry=this.geometry,this.el.getAttribute("material")||(e.material=new a.MeshStandardMaterial({color:16777215*Math.random(),metalness:0,roughness:.5})),r.setObject3D("mesh",e))},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=s,this.geometry=null},updateSchema:function(t){var e=this.oldData&&this.oldData.primitive,n=t.primitive,i=r[n]&&r[n].schema;if(!i)throw new Error("Unknown geometry schema `"+n+"`");e&&e===n||this.extendSchema(i)}})},{"../core/component":131,"../core/geometry":132,"../lib/three":179}],81:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../lib/three"),o=t("../utils/"),a=o.debug("components:gltf-model:warn");e.exports.Component=r("gltf-model",{schema:{type:"model"},init:function(){var t=this.system.getDRACOLoader();this.model=null,this.loader=new i.GLTFLoader,t&&this.loader.setDRACOLoader(t)},update:function(){var t=this,e=this.el,n=this.data;n&&(this.remove(),this.loader.load(n,function(n){t.model=n.scene||n.scenes[0],t.model.animations=n.animations,e.setObject3D("mesh",t.model),e.emit("model-loaded",{format:"gltf",model:t.model})},void 0,function(t){var r=t&&t.message?t.message:"Failed to load glTF model";a(r),e.emit("model-error",{format:"gltf",src:n})}))},remove:)},{"../core/component":131,"../lib/three":179,"../utils/":205}],82:[function(t,e,n){var r=t("../core/component").registerComponent,i={toonLeft:"https://cdn.aframe.io/controllers/hands/leftHand.glb",toonRight:"https://cdn.aframe.io/controllers/hands/rightHand.glb",lowPolyLeft:"https://cdn.aframe.io/controllers/hands/leftHandLow.glb",lowPolyRight:"https://cdn.aframe.io/controllers/hands/rightHandLow.glb",highPolyLeft:"https://cdn.aframe.io/controllers/hands/leftHandHigh.glb",highPolyRight:"https://cdn.aframe.io/controllers/hands/rightHandHigh.glb"},o={open:"Open",point:"Point",pointThumb:"Point + Thumb",fist:"Fist",hold:"Hold",thumbUp:"Thumb Up"},a={};function s(t,e){var n;if(t)return"grip"===(n=a[t])?n+(e?"close":"open"):"point"===n?n+(e?"up":"down"):"pointing"===n||"pistol"===n?n+(e?"start":"end"):void 0}a[o.fist]="grip",a[o.thumbUp]="pistol",a[o.point]="pointing",e.exports.Component=r("hand-controls",{schema:{color:{default:"white",type:"color"},hand:{default:"left"},handModelStyle:{default:"lowPoly",oneOf:["lowPoly","highPoly","toon"]}},init:function(){var t=this,e=this.el;this.gesture=o.open,this.pressedButtons={},this.touchedButtons={},this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("anonymous"),this.onGripDown=function(){t.handleButton("grip","down")},this.onGripUp=function(){t.handleButton("grip","up")},this.onTrackpadDown=function(){t.handleButton("trackpad","down")},this.onTrackpadUp=function(){t.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){t.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){t.handleButton("trackpad","touchend")},this.onTriggerDown=function(){t.handleButton("trigger","down")},this.onTriggerUp=function(){t.handleButton("trigger","up")},this.onTriggerTouchStart=function(){t.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){t.handleButton("trigger","touchend")},this.onGripTouchStart=function(){t.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){t.handleButton("grip","touchend")},this.onThumbstickDown=function(){t.handleButton("thumbstick","down")},this.onThumbstickUp=function(){t.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){t.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){t.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){t.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){t.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){t.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){t.handleButton("surface","touchend")},this.onControllerConnected=this.onControllerConnected.bind(this),this.onControllerDisconnected=this.onControllerDisconnected.bind(this),e.addEventListener("controllerconnected",this.onControllerConnected),e.addEventListener("controllerdisconnected",this.onControllerDisconnected),e.object3D.visible=!1},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(t,e){var n=this.el.getObject3D("mesh");n&&n.mixer&&n.mixer.update(e/1e3)},onControllerConnected:function(){this.el.object3D.visible=!0},onControllerDisconnected:addEventListeners:function(){var t=this.el;t.addEventListener("gripdown",this.onGripDown),t.addEventListener("gripup",this.onGripUp),t.addEventListener("trackpaddown",this.onTrackpadDown),t.addEventListener("trackpadup",this.onTrackpadUp),t.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),t.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),t.addEventListener("triggerdown",this.onTriggerDown),t.addEventListener("triggerup",this.onTriggerUp),t.addEventListener("triggertouchstart",this.onTriggerTouchStart),t.addEventListener("triggertouchend",this.onTriggerTouchEnd),t.addEventListener("griptouchstart",this.onGripTouchStart),t.addEventListener("griptouchend",this.onGripTouchEnd),t.addEventListener("thumbstickdown",this.onThumbstickDown),t.addEventListener("thumbstickup",this.onThumbstickUp),t.addEventListener("abuttontouchstart",this.onAorXTouchStart),t.addEventListener("abuttontouchend",this.onAorXTouchEnd),t.addEventListener("bbuttontouchstart",this.onBorYTouchStart),t.addEventListener("bbuttontouchend",this.onBorYTouchEnd),t.addEventListener("xbuttontouchstart",this.onAorXTouchStart),t.addEventListener("xbuttontouchend",this.onAorXTouchEnd),t.addEventListener("ybuttontouchstart",this.onBorYTouchStart),t.addEventListener("ybuttontouchend",this.onBorYTouchEnd),t.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),t.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var t=this.el;t.removeEventListener("gripdown",this.onGripDown),t.removeEventListener("gripup",this.onGripUp),t.removeEventListener("trackpaddown",this.onTrackpadDown),t.removeEventListener("trackpadup",this.onTrackpadUp),t.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),t.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),t.removeEventListener("triggerdown",this.onTriggerDown),t.removeEventListener("triggerup",this.onTriggerUp),t.removeEventListener("triggertouchstart",this.onTriggerTouchStart),t.removeEventListener("triggertouchend",this.onTriggerTouchEnd),t.removeEventListener("griptouchstart",this.onGripTouchStart),t.removeEventListener("griptouchend",this.onGripTouchEnd),t.removeEventListener("thumbstickdown",this.onThumbstickDown),t.removeEventListener("thumbstickup",this.onThumbstickUp),t.removeEventListener("abuttontouchstart",this.onAorXTouchStart),t.removeEventListener("abuttontouchend",this.onAorXTouchEnd),t.removeEventListener("bbuttontouchstart",this.onBorYTouchStart),t.removeEventListener("bbuttontouchend",this.onBorYTouchEnd),t.removeEventListener("xbuttontouchstart",this.onAorXTouchStart),t.removeEventListener("xbuttontouchend",this.onAorXTouchEnd),t.removeEventListener("ybuttontouchstart",this.onBorYTouchStart),t.removeEventListener("ybuttontouchend",this.onBorYTouchEnd),t.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),t.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(t){var e,n=this.el,r=this.data.hand,o=this.data.handModelStyle,a=this.data.color,s=this;if(e={hand:r,model:!1},r!==t){var l=i[o+r.charAt(0).toUpperCase()+r.slice(1)];this.loader.load(l,function(t){var i=t.scene.children[0],o="left"===r?Math.PI/2:-Math.PI/2;i.mixer=new THREE.AnimationMixer(i),s.clips=t.animations,n.setObject3D("mesh",i);var l=i.children[1].material;l.color=new THREE.Color(a),i.position.set(0,0,0),i.rotation.set(0,0,o),n.setAttribute("magicleap-controls",e),n.setAttribute("vive-controls",e),n.setAttribute("oculus-touch-controls",e),n.setAttribute("windows-motion-controls",e)})}},remove:function(){this.el.removeObject3D("mesh")},handleButton:function(t,e){var n,r="down"===e,i="touchstart"===e;if(0===e.indexOf("touch")){if(i===this.touchedButtons[t])return;this.touchedButtons[t]=i}else{if(r===this.pressedButtons[t])return;this.pressedButtons[t]=r}n=this.gesture,this.gesture=this.determineGesture(),this.gesture!==n&&(this.animateGesture(this.gesture,n),this.emitGestureEvents(this.gesture,n))},determineGesture:function(){var t,e=this.pressedButtons.grip,n=this.pressedButtons.surface||this.touchedButtons.surface,r=this.pressedButtons.trackpad||this.touchedButtons.trackpad,i=this.pressedButtons.trigger||this.touchedButtons.trigger,a=this.touchedButtons.AorX||this.touchedButtons.BorY,s=function(t){var e=t&&t.controller;return e&&(e.id&&0===e.id.indexOf("OpenVR ")||e.profiles&&e.profiles[0]&&"htc-vive-controller-mv"===e.profiles[0])}(this.el.components["tracked-controls"]);return s?e||i?t=o.fist:r&&(t=o.point):e?t=n||a||r?i?o.fist:o.point:i?o.thumbUp:o.pointThumb:i&&(t=o.hold),t},getClip:function(t){var e,n;for(n=0;n<this.clips.length;n++)if((e=this.clips[n]).name===t)return e},animateGesture:function(t,e){t?this.playAnimation(t||o.open,e,!1):this.playAnimation(e,e,!0)},emitGestureEvents:function(t,e){var n,r=this.el;e!==t&&((n=s(e,!1))&&r.emit(n),(n=s(t,!0))&&r.emit(n))},playAnimation:function(t,e,n){var r,i,o,a=this.el.getObject3D("mesh");if(a){if(a.mixer.stopAllAction(),r=this.getClip(t),(o=a.mixer.clipAction(r)).clampWhenFinished=!0,o.loop=THREE.LoopRepeat,o.repetitions=0,o.timeScale=n?-1:1,o.time=n?r.duration:0,o.weight=1,!e||t===e)return a.mixer.stopAllAction(),void o.play();r=this.getClip(e),(i=a.mixer.clipAction(r)).weight=.15,i.play(),o.play(),i.crossFadeTo(o,.15,!0)}}})},{"../core/component":131}],83:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/bind"),a=t("../utils/tracked-controls"),s=a.checkControllerPresentAndSetup,l={left:"b_l_",right:"b_r_"},c=["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"],u={wrist:"wrist","thumb-metacarpal":"thumb1","thumb-phalanx-proximal":"thumb2","thumb-phalanx-distal":"thumb3","thumb-tip":"thumb_null","index-finger-phalanx-proximal":"index1","index-finger-phalanx-intermediate":"index2","index-finger-phalanx-distal":"index3","index-finger-tip":"index_null","middle-finger-phalanx-proximal":"middle1","middle-finger-phalanx-intermediate":"middle2","middle-finger-phalanx-distal":"middle3","middle-finger-tip":"middle_null","ring-finger-phalanx-proximal":"ring1","ring-finger-phalanx-intermediate":"ring2","ring-finger-phalanx-distal":"ring3","ring-finger-tip":"ring_null","pinky-finger-metacarpal":"pinky0","pinky-finger-phalanx-proximal":"pinky1","pinky-finger-phalanx-intermediate":"pinky2","pinky-finger-phalanx-distal":"pinky3","pinky-finger-tip":"pinky_null"};e.exports.Component=r("hand-tracking-controls",{schema:{hand:{default:"right",oneOf:["left","right"]},modelStyle:{default:"mesh",oneOf:["dots","mesh"]},modelColor:{default:"white"}},bindMethods:function(){this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this)},addEventListeners:function(){this.el.addEventListener("model-loaded",this.onModelLoaded);for(var t=0;t<this.jointEls.length;++t)this.jointEls[t].object3D.visible=!0},removeEventListeners:function(){this.el.removeEventListener("model-loaded",this.onModelLoaded);for(var t=0;t<this.jointEls.length;++t)this.jointEls[t].object3D.visible=!1},init:function(){var t=this.el.sceneEl,e=t.getAttribute("webxr").optionalFeatures;e.push("hand-tracking"),t.setAttribute("webxr",{optionalFeatures:e}),this.onModelLoaded=this.onModelLoaded.bind(this),this.jointEls=[],this.controllerPresent=!1,this.isPinched=!1,this.pinchEventDetail={position:new THREE.Vector3},this.indexTipPosition=new THREE.Vector3,this.bindMethods(),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.sceneEl.addEventListener("enter-vr",this.updateReferenceSpace),this.el.sceneEl.addEventListener("exit-vr",this.updateReferenceSpace)},updateReferenceSpace:function(){var t=this,e=this.el.sceneEl.xrSession;if(this.referenceSpace=void 0,e){var n=t.el.sceneEl.systems.webxr.sessionReferenceSpaceType;e.requestReferenceSpace(n).then(function(e){t.referenceSpace=e.getOffsetReferenceSpace(new XRRigidTransform({x:0,y:1.5,z:0}))}).catch(function(e){throw t.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(n,"tracked-controls-webxr uses reference space "+n),e})}},checkIfControllerPresent:function(){var t=this.data,e=t.hand?t.hand:void 0;s(this,"",{hand:e,iterateControllerProfiles:!0,handTracking:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},tick:function(){var t=this.el.sceneEl,e=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,n=t.frame,r=this.el.components["tracked-controls-webxr"];e&&n&&r&&e.hand&&(this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),n.getJointPose&&this.updateHandModel(),this.detectGesture())},updateHandModel:function(){"dots"===this.data.modelStyle&&this.updateHandDotsModel(),"mesh"===this.data.modelStyle&&this.updateHandMeshModel()},getBone:updateHandMeshModel:function(){var t=this.el.sceneEl.frame,e=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,n=this.referenceSpace;if(e&&this.mesh&&n){this.mesh.visible=!1;var r,i=o(e.hand.values());try{for(i.s();!(r=i.n()).done;){var a,s,c,h=r.value;s=t.getJointPose(h,n),u[h.jointName]&&null!=(a=this.getBone(l[this.data.hand]+u[h.jointName]))&&s&&(c=s.transform,this.mesh.visible=!0,a.position.copy(c.position).multiplyScalar(100),a.quaternion.set(c.orientation.x,c.orientation.y,c.orientation.z,c.orientation.w))}}catch(d){i.e(d)}finally{i.f()}}},updateHandDotsModel:function(){var t,e,n,r,i=this.el.sceneEl.frame,a=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,s=this.el.components["tracked-controls-webxr"],l=s.system.referenceSpace,c=0,u=o(a.hand.values());try{for(u.s();!(r=u.n()).done;){var h=r.value;t=this.jointEls[c++],e=t.object3D,n=i.getJointPose(h,l),t.object3D.visible=!!n,n&&(e.matrix.elements=n.transform.matrix,e.matrix.decompose(e.position,e.rotation,e.scale),t.setAttribute("scale",{x:n.radius,y:n.radius,z:n.radius}))}}catch(d){u.e(d)}finally{u.f()}},detectGesture:function(){this.detectPinch()},detectPinch:function(){var t=new THREE.Vector3;return function(){var e=this.el.sceneEl.frame,n=this.indexTipPosition,r=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,i=this.el.components["tracked-controls-webxr"],o=this.referenceSpace||i.system.referenceSpace,a=r.hand.get("index-finger-tip"),s=r.hand.get("thumb-tip");if(a&&s){var l=e.getJointPose(a,o),c=e.getJointPose(s,o);if(l&&c){t.copy(c.transform.position),n.copy(l.transform.position);var u=n.distanceTo(t);u<.015&&!1===this.isPinched&&(this.isPinched=!0,this.pinchEventDetail.position.copy(n).lerp(t,.5),this.pinchEventDetail.position.y+=1.5,this.el.emit("pinchstarted",this.pinchEventDetail)),u>.03&&!0===this.isPinched&&(this.isPinched=!1,this.pinchEventDetail.position.copy(n).lerp(t,.5),this.pinchEventDetail.position.y+=1.5,this.el.emit("pinchended",this.pinchEventDetail)),this.isPinched&&(this.pinchEventDetail.position.copy(n).lerp(t,.5),this.pinchEventDetail.position.y+=1.5,this.el.emit("pinchmoved",this.pinchEventDetail)),n.y+=1.5}}}}(),pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{hand:e.hand,iterateControllerProfiles:!0,handTrackingEnabled:!0}),this.initDefaultModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){var t;this.checkIfControllerPresent(),t=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,this.el.getObject3D("mesh")&&(t&&t.hand&&t.hand[0]||(this.el.getObject3D("mesh").visible=!1))},initDefaultModel:function(){this.el.getObject3D("mesh")||("dots"===this.data.modelStyle&&this.initDotsModel(),"mesh"===this.data.modelStyle&&this.initMeshHandModel())},initDotsModel:function(){if(0===this.jointEls.length)for(var t=0;t<c.length;++t){var e=this.jointEl=document.createElement("a-entity");e.setAttribute("geometry",{primitive:"sphere",radius:1}),e.setAttribute("material",{color:this.data.modelColor}),e.object3D.visible=!1,this.el.appendChild(e),this.jointEls.push(e)}},initMeshHandModel:function(){var t="left"===this.data.hand?"https://cdn.aframe.io/controllers/oculus-hands/unity/left.glb":"https://cdn.aframe.io/controllers/oculus-hands/unity/right.glb";this.el.setAttribute("gltf-model",t)},onModelLoaded:function(){var t=this.mesh=this.el.getObject3D("mesh").children[0],e=this.skinnedMesh=t.children[24];this.skinnedMesh&&(this.bones=e.skeleton.bones,this.el.removeObject3D("mesh"),t.position.set(0,1.5,0),t.rotation.set(0,0,0),e.frustumCulled=!1,e.material=new THREE.MeshStandardMaterial({skinning:!0,color:this.data.modelColor}),this.el.setObject3D("mesh",t))}})},{"../core/component":131,"../utils/bind":199,"../utils/tracked-controls":214}],84:[function(t,e,n){t("./animation"),t("./camera"),t("./cursor"),t("./daydream-controls"),t("./gearvr-controls"),t("./geometry"),t("./generic-tracked-controller-controls"),t("./gltf-model"),t("./hand-tracking-controls"),t("./hand-controls"),t("./layer"),t("./laser-controls"),t("./light"),t("./line"),t("./link"),t("./look-controls"),t("./magicleap-controls"),t("./material"),t("./obj-model"),t("./oculus-go-controls"),t("./oculus-touch-controls"),t("./position"),t("./raycaster"),t("./rotation"),t("./scale"),t("./shadow"),t("./sound"),t("./text"),t("./tracked-controls"),t("./tracked-controls-webvr"),t("./tracked-controls-webxr"),t("./visible"),t("./valve-index-controls"),t("./vive-controls"),t("./vive-focus-controls"),t("./wasd-controls"),t("./windows-motion-controls"),t("./scene/background"),t("./scene/debug"),t("./scene/device-orientation-permission-ui"),t("./scene/embedded"),t("./scene/inspector"),t("./scene/fog"),t("./scene/keyboard-shortcuts"),t("./scene/pool"),t("./scene/screenshot"),t("./scene/stats"),t("./scene/vr-mode-ui")},{"./animation":74,"./camera":75,"./cursor":76,"./daydream-controls":77,"./gearvr-controls":78,"./generic-tracked-controller-controls":79,"./geometry":80,"./gltf-model":81,"./hand-controls":82,"./hand-tracking-controls":83,"./laser-controls":85,"./layer":86,"./light":87,"./line":88,"./link":89,"./look-controls":90,"./magicleap-controls":91,"./material":92,"./obj-model":93,"./oculus-go-controls":94,"./oculus-touch-controls":95,"./position":96,"./raycaster":97,"./rotation":98,"./scale":99,"./scene/background":100,"./scene/debug":101,"./scene/device-orientation-permission-ui":102,"./scene/embedded":103,"./scene/fog":104,"./scene/inspector":105,"./scene/keyboard-shortcuts":106,"./scene/pool":107,"./scene/screenshot":108,"./scene/stats":109,"./scene/vr-mode-ui":110,"./shadow":111,"./sound":112,"./text":113,"./tracked-controls":116,"./tracked-controls-webvr":114,"./tracked-controls-webxr":115,"./valve-index-controls":117,"./visible":118,"./vive-controls":119,"./vive-focus-controls":120,"./wasd-controls":121,"./windows-motion-controls":122}],85:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/");r("laser-controls",{schema:{hand:{default:"right"},model:{default:!0},defaultModelColor:{type:"color",default:"grey"}},init:function(){var t=this.config,e=this.data,n=this.el,r=this,o={hand:e.hand,model:e.model};function a(e){var o=t[e.detail.name];if(o){var a=i.extend({showLine:!0},o.raycaster||{});e.detail.rayOrigin&&(a.origin=e.detail.rayOrigin.origin,a.direction=e.detail.rayOrigin.direction,a.showLine=!0),e.detail.rayOrigin||!r.modelReady?n.setAttribute("raycaster",a):n.setAttribute("raycaster","showLine",!0),n.setAttribute("cursor",i.extend({fuse:!1},o.cursor))}}n.setAttribute("daydream-controls",o),n.setAttribute("gearvr-controls",o),n.setAttribute("magicleap-controls",o),n.setAttribute("oculus-go-controls",o),n.setAttribute("oculus-touch-controls",o),n.setAttribute("valve-index-controls",o),n.setAttribute("vive-controls",o),n.setAttribute("vive-focus-controls",o),n.setAttribute("windows-motion-controls",o),n.setAttribute("generic-tracked-controller-controls",o),n.addEventListener("controllerconnected",a),n.addEventListener("controllerdisconnected",,n.addEventListener("controllermodelready",},config:{"daydream-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"gearvr-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:.001,z:0}}},"generic-tracked-controller-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"magicleap-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"oculus-go-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-touch-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"valve-index-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-focus-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"windows-motion-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{showLine:!1}}}})},{"../core/component":131,"../utils/":205}],86:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/"),o=i.debug("components:layer:warn");e.exports.Component=r("layer",{schema:{type:{default:"quad",oneOf:["quad","monocubemap","stereocubemap"]},src:{type:"map"},rotateCubemap:{default:!1},width:{default:0},height:{default:0}},init:function(){var t=this.el.sceneEl.renderer.getContext();this.quaternion=new THREE.Quaternion,this.position=new THREE.Vector3,this.bindMethods(),this.needsRedraw=!1,this.frameBuffer=t.createFramebuffer();var e=this.el.sceneEl.getAttribute("webxr").requiredFeatures;e.push("layers"),this.el.sceneEl.getAttribute("webxr","requiredFeatures",e),this.el.sceneEl.addEventListener("enter-vr",this.onEnterVR),this.el.sceneEl.addEventListener("exit-vr",this.onExitVR)},bindMethods:update:updateSrc:function(){var t=this.data.type;this.texture=void 0,"quad"!==t?"monocubemap"!==t&&"stereocubemap"!==t||this.loadCubeMapImages():this.loadQuadImage()},loadCubeMapImages:function(){var t,e=this.data.type,n=this.xrGLFactory,r=this.el.sceneEl.frame,i=this.data.src;this.visibilityChanged=!1,this.layer&&(i.complete?this.pendingCubeMapUpdate=!1:this.pendingCubeMapUpdate=!0,this.loadingScreen?this.loadingScreen=!1:this.loadingScreen=!0,"monocubemap"===e?(t=n.getSubImage(this.layer,r),this.loadCubeMapImage(t.colorTexture,i,0)):(t=n.getSubImage(this.layer,r,"left"),this.loadCubeMapImage(t.colorTexture,i,0),t=n.getSubImage(this.layer,r,"right"),this.loadCubeMapImage(t.colorTexture,i,6)))},loadQuadImage:function(){var t=this.data.src,e=this;this.el.sceneEl.systems.material.loadTexture(t,{src:t},function(n){e.el.sceneEl.renderer.initTexture(n),e.texture=n,"VIDEO"===t.tagName&&setTimeout(1e3),e.layer&&(e.layer.height=e.data.height/2||e.texture.image.height/1e3,e.layer.width=e.data.width/2||e.texture.image.width/1e3,e.needsRedraw=!0),e.updateQuadPanel()})},preGenerateCubeMapTextures:function(t,e){"monocubemap"===this.data.type?this.generateCubeMapTextures(t,0,e):(this.generateCubeMapTextures(t,0,e),this.generateCubeMapTextures(t,6,e))},generateCubeMapTextures:function(t,e,n){for(var r,i,o=this.data,a=this.cubeFaceSize,s=Math.min(t.width,t.height),l=[],c=0;c<6;c++){var u=document.createElement("CANVAS");u.width=u.height=a;var h=u.getContext("2d");o.rotateCubemap&&(2!==c&&3!==c||(h.save(),h.translate(a,a),h.rotate(Math.PI))),h.drawImage(t,(c+e)*s,0,s,s,0,0,a,a),h.restore(),n&&n(),l.push(u)}return o.rotateCubemap&&(r=l[0],i=l[1],l[0]=i,l[1]=r,r=l[4],i=l[5],l[4]=i,l[5]=r),n&&n(),l},loadCubeMapImage:function(t,e,n){var r,i=this.el.sceneEl.renderer.getContext();i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!1),i.bindTexture(i.TEXTURE_CUBE_MAP,t),r=!e.complete||this.loadingScreen?this.loadingScreenImages:this.generateCubeMapTextures(e,n);var o=0;r.forEach(function(t,e){i.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,0,0,i.RGBA,i.UNSIGNED_BYTE,t),o=i.getError()}),0!==o&&console.log("renderingError, WebGL Error Code: "+o),i.bindTexture(i.TEXTURE_CUBE_MAP,null)},tick:function(){this.el.sceneEl.xrSession&&(!this.layer&&this.el.sceneEl.is("vr-mode")&&this.initLayer(),this.updateTransform(),this.data.src.complete&&(this.pendingCubeMapUpdate||this.loadingScreen||this.visibilityChanged)&&this.loadCubeMapImages(),(this.needsRedraw||this.layer.needsRedraw||this.textureIsVideo)&&("quad"===this.data.type&&this.draw(),this.needsRedraw=!1))},initLayer:function(){var t=this,e=this.data.type;this.el.sceneEl.xrSession.onvisibilitychange=function(e){t.visibilityChanged="hidden"!==e.session.visibilityState},"quad"!==e?"monocubemap"!==e&&"stereocubemap"!==e||this.initCubeMapLayer():this.initQuadLayer()},initQuadLayer:function(){var t=this.el.sceneEl,e=t.renderer.getContext(),n=this.xrGLFactory=new XRWebGLBinding(t.xrSession,e);this.texture&&(this.layer=n.createQuadLayer({space:this.referenceSpace,viewPixelHeight:2048,viewPixelWidth:2048,height:this.data.height/2||this.texture.image.height/1e3,width:this.data.width/2||this.texture.image.width/1e3}),t.renderer.xr.addLayer(this.layer))},initCubeMapLayer:function(){var t=this.data.src,e=this.el.sceneEl,n=e.renderer.getContext(),r=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),i=this.cubeFaceSize=Math.min(r,Math.min(t.width,t.height)),o=this.xrGLFactory=new XRWebGLBinding(e.xrSession,n);this.layer=o.createCubeLayer({space:this.referenceSpace,viewPixelWidth:i,viewPixelHeight:i,layout:"monocubemap"===this.data.type?"mono":"stereo",isStatic:!1}),this.initLoadingScreenImages(),this.loadCubeMapImages(),e.renderer.xr.addLayer(this.layer)},initLoadingScreenImages:function(){for(var t=this.cubeFaceSize,e=this.loadingScreenImages=[],n=0;n<6;n++){var r=document.createElement("CANVAS");r.width=r.height=t;var i=r.getContext("2d");r.width=r.height=t,i.fillStyle="black",i.fillRect(0,0,t,t),2!==n&&3!==n&&(i.translate(t,0),i.scale(-1,1),i.fillStyle="white",i.font="30px Arial",i.fillText("Loading",t/2,t/2)),e.push(r)}},destroyLayer:function(){this.layer&&(this.el.sceneEl.renderer.xr.removeLayer(this.layer),this.layer.destroy(),this.layer=void 0)},toggleCompositorLayer:enableCompositorLayer:function(t){this.layerEnabled=t,this.quadPanelEl.object3D.visible=!this.layerEnabled},updateQuadPanel:function(){var t=this.quadPanelEl;this.quadPanelEl||(t=this.quadPanelEl=document.createElement("a-entity"),this.el.appendChild(t)),t.setAttribute("material",{shader:"flat",src:this.data.src,transparent:!0}),t.setAttribute("geometry",{primitive:"plane",height:this.data.height||this.texture.image.height/1e3,width:this.data.width||this.texture.image.height/1e3})},draw:function(){var t=this.el.sceneEl,e=this.el.sceneEl.renderer.getContext(),n=this.xrGLFactory.getSubImage(this.layer,t.frame),r=t.renderer.properties.get(this.texture).__webglTexture,i=e.getParameter(e.FRAMEBUFFER_BINDING);e.viewport(n.viewport.x,n.viewport.y,n.viewport.width,n.viewport.height),e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n.colorTexture,0),function(t,e,n,r){var i=t.createFramebuffer(),o=n.viewport.x,a=n.viewport.y,s=n.viewport.x+n.viewport.width,l=n.viewport.y+n.viewport.height;"VIDEO"===r.tagName&&(t.bindTexture(t.TEXTURE_2D,e),t.texSubImage2D(t.TEXTURE_2D,0,0,0,r.width,r.height,t.RGB,t.UNSIGNED_BYTE,r)),t.bindFramebuffer(t.READ_FRAMEBUFFER,i),t.framebufferTexture2D(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),t.readBuffer(t.COLOR_ATTACHMENT0),t.blitFramebuffer(0,0,r.width,r.height,o,a,s,l,t.COLOR_BUFFER_BIT,t.NEAREST),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.deleteFramebuffer(i)}(e,r,n,this.data.src),e.bindFramebuffer(e.FRAMEBUFFER,i)},updateTransform:function(){var t=this.el,e=this.position,n=this.quaternion;t.object3D.updateMatrixWorld(),e.setFromMatrixPosition(t.object3D.matrixWorld),n.setFromRotationMatrix(t.object3D.matrixWorld),this.layerEnabled||e.set(0,0,1e8),this.layer.transform=new XRRigidTransform(e,n)},onEnterVR:function(){var t=this.el.sceneEl,e=t.xrSession;t.hasWebXR&&XRWebGLBinding&&e?(e.requestReferenceSpace("local").then(this.onRequestedReferenceSpace),this.needsRedraw=!0,this.layerEnabled=!0,this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!1),this.data.src.play&&this.data.src.play()):o("The layer component requires WebXR and the layers API enabled")},onExitVR:onRequestedReferenceSpace:function(t){this.referenceSpace=t}})},{"../core/component":131,"../utils/":205}],87:[function(t,e,n){var r=t("../utils/bind"),i=t("../utils").diff,o=t("../utils/debug"),a=t("../core/component").registerComponent,s=t("../lib/three"),l=s.Math.degToRad,c=o("components:light:warn");e.exports.Component=a("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color"},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:1,min:0,if:{type:["ambient","directional","hemisphere","point","spot"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot"],schemaChange:!0},target:{type:"selector",if:{type:["spot","directional"]}},castShadow:{default:!1,if:{type:["point","spot","directional"]}},shadowBias:{default:0,if:{castShadow:!0}},shadowCameraFar:{default:500,if:{castShadow:!0}},shadowCameraFov:{default:90,if:{castShadow:!0}},shadowCameraNear:{default:.5,if:{castShadow:!0}},shadowCameraTop:{default:5,if:{castShadow:!0}},shadowCameraRight:{default:5,if:{castShadow:!0}},shadowCameraBottom:{default:-5,if:{castShadow:!0}},shadowCameraLeft:{default:-5,if:{castShadow:!0}},shadowCameraVisible:{default:!1,if:{castShadow:!0}},shadowMapHeight:{default:512,if:{castShadow:!0}},shadowMapWidth:{default:512,if:{castShadow:!0}},shadowRadius:{default:1,if:{castShadow:!0}}},init:function(){var t=this.el;this.light=null,this.defaultTarget=null,this.rendererSystem=this.el.sceneEl.systems.renderer,this.system.registerLight(t)},update:function(t){var e=this.data,n=i(e,t),o=this.light,a=this.rendererSystem,s=this;if(!o||"type"in n)this.setLight(this.data),this.updateShadow();else{var c=!1;Object.keys(n).forEach(function(t){var n=e[t];switch(t){case"color":o.color.set(n),a.applyColorCorrection(o.color);break;case"groundColor":o.groundColor.set(n),a.applyColorCorrection(o.groundColor);break;case"angle":o.angle=l(n);break;case"target":null===n?"spot"!==e.type&&"directional"!==e.type||(o.target=s.defaultTarget):n.hasLoaded?s.onSetTarget(n,o):n.addEventListener("loaded",r(s.onSetTarget,s,n,o));break;case"castShadow":case"shadowBias":case"shadowCameraFar":case"shadowCameraFov":case"shadowCameraNear":case"shadowCameraTop":case"shadowCameraRight":case"shadowCameraBottom":case"shadowCameraLeft":case"shadowCameraVisible":case"shadowMapHeight":case"shadowMapWidth":case"shadowRadius":c||(s.updateShadow(),c=!0);break;default:o[t]=n}})}},setLight:function(t){var e=this.el,n=this.getLight(t);n&&(this.light&&e.removeObject3D("light"),this.light=n,this.light.el=e,e.setObject3D("light",this.light),"spot"!==t.type&&"directional"!==t.type&&"hemisphere"!==t.type||e.getObject3D("light").translateY(-1),"spot"===t.type&&(e.setObject3D("light-target",this.defaultTarget),e.getObject3D("light-target").position.set(0,0,-1)))},updateShadow:function(){var t=this.el,e=this.data,n=this.light;n.castShadow=e.castShadow;var r=t.getObject3D("cameraHelper");if(e.shadowCameraVisible&&!r?t.setObject3D("cameraHelper",new s.CameraHelper(n.shadow.camera)):!e.shadowCameraVisible&&r&&t.removeObject3D("cameraHelper"),!e.castShadow)return n;n.shadow.bias=e.shadowBias,n.shadow.radius=e.shadowRadius,n.shadow.mapSize.height=e.shadowMapHeight,n.shadow.mapSize.width=e.shadowMapWidth,n.shadow.camera.near=e.shadowCameraNear,n.shadow.camera.far=e.shadowCameraFar,n.shadow.camera instanceof s.OrthographicCamera?(n.shadow.camera.top=e.shadowCameraTop,n.shadow.camera.right=e.shadowCameraRight,n.shadow.camera.bottom=e.shadowCameraBottom,n.shadow.camera.left=e.shadowCameraLeft):n.shadow.camera.fov=e.shadowCameraFov,n.shadow.camera.updateProjectionMatrix(),r&&r.update()},getLight:function(t){var e=t.angle,n=new s.Color(t.color);this.rendererSystem.applyColorCorrection(n),n=n.getHex();var i=t.decay,o=t.distance,a=new s.Color(t.groundColor);this.rendererSystem.applyColorCorrection(a),a=a.getHex();var u=t.intensity,h=t.type,d=t.target,p=null;switch(h.toLowerCase()){case"ambient":return new s.AmbientLight(n,u);case"directional":return p=new s.DirectionalLight(n,u),this.defaultTarget=p.target,d&&(d.hasLoaded?this.onSetTarget(d,p):d.addEventListener("loaded",r(this.onSetTarget,this,d,p))),p;case"hemisphere":return new s.HemisphereLight(n,a,u);case"point":return new s.PointLight(n,u,o,i);case"spot":return p=new s.SpotLight(n,u,o,l(e),t.penumbra,i),this.defaultTarget=p.target,d&&(d.hasLoaded?this.onSetTarget(d,p):d.addEventListener("loaded",r(this.onSetTarget,this,d,p))),p;default:c("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",h)}},onSetTarget:remove:function(){var t=this.el;t.removeObject3D("light"),t.getObject3D("cameraHelper")&&t.removeObject3D("cameraHelper")}})},{"../core/component":131,"../lib/three":179,"../utils":205,"../utils/bind":199,"../utils/debug":201}],88:[function(t,e,n){var r=t("../core/component").registerComponent;function i(t,e){return!(!t||!e)&&t.x===e.x&&t.y===e.y&&t.z===e.z}e.exports.Component=r("line",{schema:{start:{type:"vec3",default:{x:0,y:0,z:0}},end:{type:"vec3",default:{x:0,y:0,z:0}},color:{type:"color",default:"#74BEC1"},opacity:{type:"number",default:1},visible:{default:!0}},multiple:!0,init:function(){var t,e,n=this.data;this.rendererSystem=this.el.sceneEl.systems.renderer,e=this.material=new THREE.LineBasicMaterial({color:n.color,opacity:n.opacity,transparent:n.opacity<1,visible:n.visible}),(t=this.geometry=new THREE.BufferGeometry).setAttribute("position",new THREE.BufferAttribute(new Float32Array(6),3)),this.rendererSystem.applyColorCorrection(e.color),this.line=new THREE.Line(t,e),this.el.setObject3D(this.attrName,this.line)},update:function(t){var e=this.data,n=this.geometry,r=!1,o=this.material,a=n.attributes.position.array;i(e.start,t.start)||(a[0]=e.start.x,a[1]=e.start.y,a[2]=e.start.z,r=!0),i(e.end,t.end)||(a[3]=e.end.x,a[4]=e.end.y,a[5]=e.end.z,r=!0),r&&(n.attributes.position.needsUpdate=!0,n.computeBoundingSphere()),o.color.setStyle(e.color),this.rendererSystem.applyColorCorrection(o.color),o.opacity=e.opacity,o.transparent=e.opacity<1,o.visible=e.visible},remove:)},{"../core/component":131}],89:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../core/shader").registerShader,o=t("../lib/three");e.exports.Component=r("link",{schema:{backgroundColor:{default:"red",type:"color"},borderColor:{default:"white",type:"color"},highlighted:{default:!1},highlightedColor:{default:"#24CAFF",type:"color"},href:{default:""},image:{type:"asset"},on:{default:"click"},peekMode:{default:!1},title:{default:""},titleColor:{default:"white",type:"color"},visualAspectEnabled:{default:!1}},init:function(){this.navigate=this.navigate.bind(this),this.previousQuaternion=void 0,this.quaternionClone=new o.Quaternion,this.hiddenEls=[]},update:function(t){var e,n,r=this.data,i=this.el;r.visualAspectEnabled&&(this.initVisualAspect(),e=r.highlighted?r.highlightedColor:r.backgroundColor,n=r.highlighted?r.highlightedColor:r.borderColor,i.setAttribute("material","backgroundColor",e),i.setAttribute("material","strokeColor",n),r.on!==t.on&&this.updateEventListener(),void 0!==t.peekMode&&r.peekMode!==t.peekMode&&this.updatePeekMode(),r.image&&t.image!==r.image&&i.setAttribute("material","pano","string"===typeof r.image?r.image:r.image.src))},updatePeekMode:function(){var t=this.el,e=this.sphereEl;this.data.peekMode?(this.hideAll(),t.getObject3D("mesh").visible=!1,e.setAttribute("visible",!0)):(this.showAll(),t.getObject3D("mesh").visible=!0,e.setAttribute("visible",!1))},play:function(){this.updateEventListener()},pause:function(){this.removeEventListener()},updateEventListener:function(){var t=this.el;t.isPlaying&&(this.removeEventListener(),t.addEventListener(this.data.on,this.navigate))},removeEventListener:function(){var t=this.data.on;t&&this.el.removeEventListener(t,this.navigate)},initVisualAspect:function(){var t,e,n,r=this.el;this.data.visualAspectEnabled&&!this.visualAspectInitialized&&(n=this.textEl=this.textEl||document.createElement("a-entity"),e=this.sphereEl=this.sphereEl||document.createElement("a-entity"),t=this.semiSphereEl=this.semiSphereEl||document.createElement("a-entity"),r.setAttribute("geometry",{primitive:"circle",radius:1,segments:64}),r.setAttribute("material",{shader:"portal",pano:this.data.image,side:"double"}),n.setAttribute("text",{color:this.data.titleColor,align:"center",font:"kelsonsans",value:this.data.title||this.data.href,width:4}),n.setAttribute("position","0 1.5 0"),r.appendChild(n),t.setAttribute("geometry",{primitive:"sphere",radius:1,phiStart:0,segmentsWidth:64,segmentsHeight:64,phiLength:180,thetaStart:0,thetaLength:360}),t.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),t.setAttribute("rotation","0 180 0"),t.setAttribute("position","0 0 0"),t.setAttribute("visible",!1),r.appendChild(t),e.setAttribute("geometry",{primitive:"sphere",radius:10,segmentsWidth:64,segmentsHeight:64}),e.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),e.setAttribute("visible",!1),r.appendChild(e),this.visualAspectInitialized=!0)},navigate:tick:function(){var t=new o.Vector3,e=new o.Vector3,n=new o.Quaternion,r=new o.Vector3;return function(){var i,o,a=this.el,s=a.object3D,l=a.sceneEl.camera,c=this.textEl;if(this.data.visualAspectEnabled)if(s.updateMatrixWorld(),l.parent.updateMatrixWorld(),l.updateMatrixWorld(),s.matrix.decompose(e,n,r),e.setFromMatrixPosition(s.matrixWorld),t.setFromMatrixPosition(l.matrixWorld),(o=e.distanceTo(t))>20)this.previousQuaternion||(this.quaternionClone.copy(n),this.previousQuaternion=this.quaternionClone),s.lookAt(t);else{if(i=this.calculateCameraPortalOrientation(),o<.5){if(!0===this.semiSphereEl.getAttribute("visible"))return;c.setAttribute("text","width",1.5),i<=0?(c.setAttribute("position","0 0 0.75"),c.setAttribute("rotation","0 180 0"),this.semiSphereEl.setAttribute("rotation","0 0 0")):(c.setAttribute("position","0 0 -0.75"),c.setAttribute("rotation","0 0 0"),this.semiSphereEl.setAttribute("rotation","0 180 0")),a.getObject3D("mesh").visible=!1,this.semiSphereEl.setAttribute("visible",!0),this.peekCameraPortalOrientation=i}else i<=0?c.setAttribute("rotation","0 180 0"):c.setAttribute("rotation","0 0 0"),c.setAttribute("text","width",5),c.setAttribute("position","0 1.5 0"),a.getObject3D("mesh").visible=!0,this.semiSphereEl.setAttribute("visible",!1),this.peekCameraPortalOrientation=void 0;this.previousQuaternion&&(s.quaternion.copy(this.previousQuaternion),this.previousQuaternion=void 0)}}}(),hideAll:function(){var t=this.el,e=this.hiddenEls,n=this;e.length>0||t.sceneEl.object3D.traverse(function(r){r&&r.el&&r.el.hasAttribute("link-controls")||r.el&&r!==t.sceneEl.object3D&&r.el!==t&&r.el!==n.sphereEl&&r.el!==t.sceneEl.cameraEl&&!1!==r.el.getAttribute("visible")&&r.el!==n.textEl&&r.el!==n.semiSphereEl&&(r.el.setAttribute("visible",!1),e.push(r.el))})},showAll:function(){this.hiddenEls.forEach(,this.hiddenEls=[]},calculateCameraPortalOrientation:function(){var t=new o.Matrix4,e=new o.Vector3,n=new o.Vector3(0,0,1),r=new o.Vector3(0,0,0);return function(){var i=this.el,o=i.sceneEl.camera;return e.set(0,0,0),n.set(0,0,1),r.set(0,0,0),i.object3D.matrixWorld.extractRotation(t),n.applyMatrix4(t),i.object3D.updateMatrixWorld(),i.object3D.localToWorld(r),o.parent.parent.updateMatrixWorld(),o.parent.updateMatrixWorld(),o.updateMatrixWorld(),o.localToWorld(e),e.sub(r).normalize(),n.normalize(),Math.sign(n.dot(e))}}(),remove:function(){this.removeEventListener()}}),i("portal",{schema:{borderEnabled:{default:1,type:"int",is:"uniform"},backgroundColor:{default:"red",type:"color",is:"uniform"},pano:{type:"map",is:"uniform"},strokeColor:{default:"white",type:"color",is:"uniform"}},vertexShader:["vec3 portalPosition;","varying vec3 vWorldPosition;","varying float vDistanceToCenter;","varying float vDistance;","void main() {","vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);","portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;","vDistance = length(portalPosition - cameraPosition);","vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI2 0.15915494","uniform sampler2D pano;","uniform vec3 strokeColor;","uniform vec3 backgroundColor;","uniform float borderEnabled;","varying float vDistanceToCenter;","varying float vDistance;","varying vec3 vWorldPosition;","void main() {","vec3 direction = normalize(vWorldPosition - cameraPosition);","vec2 sampleUV;","float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);","sampleUV.y = clamp(direction.y * 0.5  + 0.5, 0.0, 1.0);","sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;","if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {","gl_FragColor = vec4(strokeColor, 1.0);","} else {","gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / 15.0), 2.0), 0.0, 1.0));","}","}"].join("\n")})},{"../core/component":131,"../core/shader":141,"../lib/three":179}],90:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../lib/three"),o=t("../utils/"),a=o.bind,s=Math.PI/2;e.exports.Component=r("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},magicWindowTrackingEnabled:{default:!0},pointerLockEnabled:{default:!1},reverseMouseDrag:{default:!1},reverseTouchDrag:{default:!1},touchEnabled:{default:!0},mouseEnabled:{default:!0}},init:function(){this.deltaYaw=0,this.previousHMDPosition=new i.Vector3,this.hmdQuaternion=new i.Quaternion,this.magicWindowAbsoluteEuler=new i.Euler,this.magicWindowDeltaEuler=new i.Euler,this.position=new i.Vector3,this.magicWindowObject=new i.Object3D,this.rotation={},this.deltaRotation={},this.savedPose=null,this.pointerLocked=!1,this.setupMouseControls(),this.bindMethods(),this.previousMouseEvent={},this.setupMagicWindowControls(),this.savedPose={position:new i.Vector3,rotation:new i.Euler},this.el.sceneEl.is("vr-mode")&&this.onEnterVR()},setupMagicWindowControls:function(){var t,e=this.data;o.device.isMobile()&&(t=this.magicWindowControls=new i.DeviceOrientationControls(this.magicWindowObject),"undefined"!==typeof DeviceOrientationEvent&&DeviceOrientationEvent.requestPermission&&(t.enabled=!1,this.el.sceneEl.components["device-orientation-permission-ui"].permissionGranted?t.enabled=e.magicWindowTrackingEnabled:this.el.sceneEl.addEventListener("deviceorientationpermissiongranted",))},update:function(t){var e=this.data;e.enabled!==t.enabled&&this.updateGrabCursor(e.enabled),t&&!e.magicWindowTrackingEnabled&&t.magicWindowTrackingEnabled&&(this.magicWindowAbsoluteEuler.set(0,0,0),this.magicWindowDeltaEuler.set(0,0,0)),this.magicWindowControls&&(this.magicWindowControls.enabled=e.magicWindowTrackingEnabled),t&&!e.pointerLockEnabled!==t.pointerLockEnabled&&(this.removeEventListeners(),this.addEventListeners(),this.pointerLocked&&this.exitPointerLock())},tick:function(t){var e=this.data;e.enabled&&this.updateOrientation()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},remove:bindMethods:function(){this.onMouseDown=a(this.onMouseDown,this),this.onMouseMove=a(this.onMouseMove,this),this.onMouseUp=a(this.onMouseUp,this),this.onTouchStart=a(this.onTouchStart,this),this.onTouchMove=a(this.onTouchMove,this),this.onTouchEnd=a(this.onTouchEnd,this),this.onEnterVR=a(this.onEnterVR,this),this.onExitVR=a(this.onExitVR,this),this.onPointerLockChange=a(this.onPointerLockChange,this),this.onPointerLockError=a(this.onPointerLockError,this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new i.Object3D,this.yawObject=new i.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},addEventListeners:function(){var t=this.el.sceneEl,e=t.canvas;e?(e.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1),e.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),t.addEventListener("enter-vr",this.onEnterVR),t.addEventListener("exit-vr",this.onExitVR),this.data.pointerLockEnabled&&(document.addEventListener("pointerlockchange",this.onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.addEventListener("pointerlockerror",this.onPointerLockError,!1))):t.addEventListener("render-target-loaded",a(this.addEventListeners,this))},removeEventListeners:function(){var t=this.el.sceneEl,e=t&&t.canvas;e&&(e.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),t.removeEventListener("enter-vr",this.onEnterVR),t.removeEventListener("exit-vr",this.onExitVR),document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerLockError,!1))},updateOrientation:function(){var t=new i.Matrix4;return function(){var e,n=this.el.object3D,r=this.pitchObject,i=this.yawObject,o=this.el.sceneEl;o.is("vr-mode")&&o.checkHeadsetConnected()?o.hasWebXR&&(e=o.renderer.xr.getCameraPose())&&(t.elements=e.transform.matrix,t.decompose(n.position,n.rotation,n.scale)):(this.updateMagicWindowOrientation(),n.rotation.x=this.magicWindowDeltaEuler.x+r.rotation.x,n.rotation.y=this.magicWindowDeltaEuler.y+i.rotation.y,n.rotation.z=this.magicWindowDeltaEuler.z)}}(),updateMagicWindowOrientation:function(){var t=this.magicWindowAbsoluteEuler,e=this.magicWindowDeltaEuler;this.magicWindowControls&&this.magicWindowControls.enabled&&(this.magicWindowControls.update(),t.setFromQuaternion(this.magicWindowObject.quaternion,"YXZ"),this.previousMagicWindowYaw||0===t.y||(this.previousMagicWindowYaw=t.y),this.previousMagicWindowYaw&&(e.x=t.x,e.y+=t.y-this.previousMagicWindowYaw,e.z=t.z,this.previousMagicWindowYaw=t.y))},onMouseMove:function(t){var e,n,r,i=this.pitchObject,o=this.previousMouseEvent,a=this.yawObject;this.data.enabled&&(this.mouseDown||this.pointerLocked)&&(this.pointerLocked?(n=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0):(n=t.screenX-o.screenX,r=t.screenY-o.screenY),this.previousMouseEvent.screenX=t.screenX,this.previousMouseEvent.screenY=t.screenY,e=this.data.reverseMouseDrag?1:-1,a.rotation.y+=.002*n*e,i.rotation.x+=.002*r*e,i.rotation.x=Math.max(-s,Math.min(s,i.rotation.x)))},onMouseDown:function(t){var e=this.el.sceneEl;if(this.data.enabled&&this.data.mouseEnabled&&(!e.is("vr-mode")||!e.checkHeadsetConnected())&&0===t.button){var n=e&&e.canvas;this.mouseDown=!0,this.previousMouseEvent.screenX=t.screenX,this.previousMouseEvent.screenY=t.screenY,this.showGrabbingCursor(),this.data.pointerLockEnabled&&!this.pointerLocked&&(n.requestPointerLock?n.requestPointerLock():n.mozRequestPointerLock&&n.mozRequestPointerLock())}},showGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor="grabbing"},hideGrabbingCursor:onMouseUp:function(){this.mouseDown=!1,this.hideGrabbingCursor()},onTouchStart:function(t){1===t.touches.length&&this.data.touchEnabled&&!this.el.sceneEl.is("vr-mode")&&(this.touchStart={x:t.touches[0].pageX,y:t.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(t){var e,n,r=this.el.sceneEl.canvas,i=this.yawObject;this.touchStarted&&this.data.touchEnabled&&(n=2*Math.PI*(t.touches[0].pageX-this.touchStart.x)/r.clientWidth,e=this.data.reverseTouchDrag?1:-1,i.rotation.y-=.5*n*e,this.touchStart={x:t.touches[0].pageX,y:t.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},onEnterVR:function(){var t=this.el.sceneEl;t.checkHeadsetConnected()&&(this.saveCameraPose(),this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),t.hasWebXR&&(this.el.object3D.matrixAutoUpdate=!1,this.el.object3D.updateMatrix()))},onExitVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.restoreCameraPose(),this.previousHMDPosition.set(0,0,0),this.el.object3D.matrixAutoUpdate=!0)},onPointerLockChange:function(){this.pointerLocked=!(!document.pointerLockElement&&!document.mozPointerLockElement)},onPointerLockError:function(){this.pointerLocked=!1},exitPointerLock:updateGrabCursor:function(t){var e=this.el.sceneEl;function n(){e.canvas.classList.add("a-grab-cursor")}.canvas?t?n():r():t?e.addEventListener("render-target-loaded",n):e.addEventListener("render-target-loaded",r)},saveCameraPose:function(){var t=this.el;this.savedPose.position.copy(t.object3D.position),this.savedPose.rotation.copy(t.object3D.rotation),this.hasSavedPose=!0},restoreCameraPose:function(){var t=this.el,e=this.savedPose;this.hasSavedPose&&(t.object3D.position.copy(e.position),t.object3D.rotation.copy(e.rotation),this.hasSavedPose=!1)}})},{"../core/component":131,"../lib/three":179,"../utils/":205}],91:[function(t,e,n){var r=t("../utils/bind"),i=t("../core/component").registerComponent,o=t("../utils/tracked-controls"),a=o.checkControllerPresentAndSetup,s=o.emitIfAxesChanged,l=o.onButtonEvent;e.exports.Component=i("magicleap-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:{axes:{touchpad:[0,1]},buttons:["trigger","grip","touchpad","menu"]},init:function(){var t=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=r(this.onButtonChanged,this),this.onButtonDown=function(e){l(e.detail.id,"down",t)},this.onButtonUp=function(e){l(e.detail.id,"up",t)},this.onButtonTouchEnd=function(e){l(e.detail.id,"touchend",t)},this.onButtonTouchStart=function(e){l(e.detail.id,"touchstart",t)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},update:function(){var t=this.data;this.controllerIndex="right"===t.hand?0:"left"===t.hand?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=r(this.onModelLoaded,this),this.onControllersUpdate=r(this.onControllersUpdate,this),this.checkIfControllerPresent=r(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=r(this.removeControllersUpdateListener,this),this.onAxisMoved=r(this.onAxisMoved,this)},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("axismove",this.onAxisMoved),t.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("axismove",this.onAxisMoved),t.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var t=this.data;a(this,"magicleap-one",{index:this.controllerIndex,hand:t.hand})},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{idPrefix:"magicleap-one",hand:e.hand,controller:this.controllerIndex,orientationOffset:e.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model","https://cdn.aframe.io/controllers/magicleap/magicleap-one-controller.glb")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(t){var e,n=this.mapping.buttons[t.detail.id];n&&("trigger"===n&&(e=t.detail.state.value,console.log("analog value of trigger press: "+e)),this.el.emit(n+"changed",t.detail.state))},onModelLoaded:function(t){var e=t.detail.model;e.scale.set(.01,.01,.01)},onAxisMoved:function(t){s(this,this.mapping.axes,t)},updateModel:function(t,e){},setButtonColor:function(t,e){}})},{"../core/component":131,"../utils/bind":199,"../utils/tracked-controls":214}],92:[function(t,e,n){var r=t("../utils/"),i=t("../core/component"),o=t("../lib/three"),a=t("../core/shader"),s=r.debug("components:material:error"),l=i.registerComponent,c=a.shaders,u=a.shaderNames;.exports.Component=l("material",{schema:{alphaTest:{default:0,min:0,max:1},depthTest:{default:!0},depthWrite:{default:!0},flatShading:{default:!1},npot:{default:!1},offset:{type:"vec2",default:{x:0,y:0}},opacity:{default:1,min:0,max:1},repeat:{type:"vec2",default:{x:1,y:1}},shader:{default:"standard",oneOf:u,schemaChange:!0},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},vertexColors:{type:"string",default:"none",oneOf:["face","vertex"]},visible:{default:!0},blending:{default:"normal",oneOf:["none","normal","additive","subtractive","multiply"]},dithering:{default:!0}},init:function(){this.material=null},update:function(t){var e=this.data;this.shader&&e.shader===t.shader||this.updateShader(e.shader),this.shader.update(this.data),this.updateMaterial(t)},updateSchema:function(t){var e,n,r,i;n=t&&t.shader,e=this.oldData&&this.oldData.shader,(r=c[i=n||e]&&c[i].schema)||s("Unknown shader schema "+i),e&&n===e||(this.extendSchema(r),this.updateBehavior())},updateBehavior:function(){var t,e,n=this.el.sceneEl,r=this.schema,i=this;function o(t,n){var r;for(r in e)e[r]=t;i.shader.update(e)}for(t in this.tick=void 0,e={},r)"time"===r[t].type&&(this.tick=o,e[t]=!0);n&&(this.tick?n.addBehavior(this):n.removeBehavior(this))},updateShader:function(t){var e,n=this.data,r=c[t]&&c[t].Shader;if(!r)throw new Error("Unknown shader "+t);(e=this.shader=new r).el=this.el,e.init(n),this.setMaterial(e.material),this.updateSchema(n)},updateMaterial:function(t){var e,n=this.data,r=this.material;for(e in r.alphaTest=n.alphaTest,r.depthTest=!1!==n.depthTest,r.depthWrite=!1!==n.depthWrite,r.opacity=n.opacity,r.flatShading=n.flatShading,r.side=function(t){switch(t){case"back":return o.BackSide;case"double":return o.DoubleSide;default:return o.FrontSide}}(n.side),r.transparent=!1!==n.transparent||n.opacity<1,r.vertexColors=function(t){switch(t){case"face":return o.FaceColors;case"vertex":return o.VertexColors;default:return o.NoColors}}(n.vertexColors),r.visible=n.visible,r.blending=n.blending),r.dithering=n.dithering,t)break;!e||t.alphaTest===n.alphaTest&&t.side===n.side&&t.vertexColors===n.vertexColors||(r.needsUpdate=!0)},remove:function(){var t=new o.MeshBasicMaterial,e=this.material,n=this.el.getObject3D("mesh");n&&(n.material=t),h(e,this.system)},setMaterial:function(t){var e,n=this.el,r=this.system;this.material&&h(this.material,r),this.material=t,r.registerMaterial(t),(e=n.getObject3D("mesh"))?e.material=t:n.addEventListener("object3dset",function e(r){"mesh"===r.detail.type&&r.target===n&&(n.getObject3D("mesh").material=t,n.removeEventListener("object3dset",e))})}})},{"../core/component":131,"../core/shader":141,"../lib/three":179,"../utils/":205}],93:[function(t,e,n){var r=t("../utils/debug"),i=t("../core/component").registerComponent,o=t("../lib/three"),a=r("components:obj-model:warn");e.exports.Component=i("obj-model",{schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){var t=this;this.model=null,this.objLoader=new o.OBJLoader,this.mtlLoader=new o.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin="",this.el.addEventListener("componentinitialized",},update:function(){var t=this.data;t.obj&&(this.resetMesh(),this.loadObj(t.obj,t.mtl))},remove:resetMesh:function(){this.el.removeObject3D("mesh")},loadObj:function(t,e){var n=this,r=this.el,i=this.mtlLoader,o=this.objLoader,s=this.el.sceneEl.systems.renderer,l=e.substr(0,e.lastIndexOf("/")+1);if(e)return r.hasAttribute("material")&&a("Material component properties are ignored when a .MTL is provided"),i.setResourcePath(l),void i.load(e,function(e){e.preload(),o.setMaterials(e),o.load(t,function(t){n.model=t,n.model.traverse(function(t){if(t.isMesh){var e=t.material;e.color&&s.applyColorCorrection(e.color),e.map&&s.applyColorCorrection(e.map),e.emissive&&s.applyColorCorrection(e.emissive),e.emissiveMap&&s.applyColorCorrection(e.emissiveMap)}}),r.setObject3D("mesh",t),r.emit("model-loaded",{format:"obj",model:t})})});o.load(t,function(t){n.model=t,n.applyMaterial(),r.setObject3D("mesh",t),r.emit("model-loaded",{format:"obj",model:t})})},applyMaterial:function(){var t=this.el.components.material;t&&this.model.traverse(function(e){e instanceof o.Mesh&&(e.material=t.material)})}})},{"../core/component":131,"../lib/three":179,"../utils/debug":201}],94:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/bind"),o=t("../utils/tracked-controls"),a=o.checkControllerPresentAndSetup,s=o.emitIfAxesChanged,l=o.onButtonEvent,c=t("../utils/").device.isWebXRAvailable,u=c?"oculus-go":"Oculus Go",h=c?{axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad"]}:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]};e.exports.Component=r("oculus-go-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#FFFFFF"},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:h,bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(e){l(e.detail.id,"down",t)},this.onButtonUp=function(e){l(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){l(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){l(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){a(this,u,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{armModel:e.armModel,hand:e.hand,idPrefix:u,orientationOffset:e.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model","https://cdn.aframe.io/controllers/oculus/go/oculus-go-controller.gltf")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&((e=this.buttonMeshes={}).trigger=n.getObjectByName("oculus_go_button_trigger"),e.trackpad=n.getObjectByName("oculus_go_touchpad"),e.touchpad=n.getObjectByName("oculus_go_touchpad"))},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&this.el.emit(e+"changed",t.detail.state)},onAxisMoved:function(t){s(this,this.mapping.axes,t)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var n=this.buttonMeshes;if(n&&n[t]){var r,i;switch(e){case"down":r=this.data.buttonHighlightColor;break;case"touchstart":r=this.data.buttonTouchedColor;break;default:r=this.data.buttonColor}(i=n[t]).material.color.set(r),this.rendererSystem.applyColorCorrection(i.material.color)}}})},{"../core/component":131,"../utils/":205,"../utils/bind":199,"../utils/tracked-controls":214}],95:[function(t,e,n){var r=t("../utils/bind"),i=t("../core/component").registerComponent,o=t("../lib/three"),a=t("../utils/tracked-controls"),s=a.checkControllerPresentAndSetup,l=a.emitIfAxesChanged,c=a.onButtonEvent,u=t("../utils/").device.isWebXRAvailable,h=u?"oculus-touch":"Oculus Touch",d="https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-",p={left:{modelUrl:d+"left.gltf",rayOrigin:{origin:{x:.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new o.Vector3(-.005,.003,-.055),modelPivotRotation:new o.Euler(0,0,0)},right:{modelUrl:d+"right.gltf",rayOrigin:{origin:{x:-.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new o.Vector3(.005,.003,-.055),modelPivotRotation:new o.Euler(0,0,0)}},f={left:{modelUrl:d+"left.gltf",rayOrigin:{origin:{x:.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new o.Vector3(-.005,.036,-.037),modelPivotRotation:new o.Euler(Math.PI/4.5,0,0)},right:{modelUrl:d+"right.gltf",rayOrigin:{origin:{x:-.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new o.Vector3(.005,.036,-.037),modelPivotRotation:new o.Euler(Math.PI/4.5,0,0)}},m=u?f:p,v={"oculus-touch":m,"oculus-touch-v2":{left:{modelUrl:d+"gen2-left.gltf",rayOrigin:{origin:{x:-.01,y:0,z:-.02},direction:{x:0,y:-.5,z:-1}},modelPivotOffset:new o.Vector3(0,0,0),modelPivotRotation:new o.Euler(0,0,0)},right:{modelUrl:d+"gen2-right.gltf",rayOrigin:{origin:{x:.01,y:0,z:-.02},direction:{x:0,y:-.5,z:-1}},modelPivotOffset:new o.Vector3(0,0,0),modelPivotRotation:new o.Euler(0,0,0)}},"oculus-touch-v3":{left:{modelUrl:d+"v3-left.glb",rayOrigin:{origin:{x:.015,y:.005,z:0},direction:{x:0,y:0,z:-1}},modelPivotOffset:new o.Vector3(.01,-.01,.05),modelPivotRotation:new o.Euler(Math.PI/4,0,0)},right:{modelUrl:d+"v3-right.glb",rayOrigin:{origin:{x:-.015,y:.005,z:0},direction:{x:0,y:0,z:-1}},modelPivotOffset:new o.Vector3(-.01,-.01,.05),modelPivotRotation:new o.Euler(Math.PI/4,0,0)}}},g=u?{left:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton","surface"]}}:{left:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","abutton","bbutton","surface"]}};e.exports.Component=i("oculus-touch-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},controllerType:{default:"auto",oneOf:["auto","oculus-touch","oculus-touch-v2","oculus-touch-v3"]},orientationOffset:{type:"vec3",default:{x:43,y:0,z:0}}},mapping:g,bindMethods:function(){this.onModelLoaded=r(this.onModelLoaded,this),this.onControllersUpdate=r(this.onControllersUpdate,this),this.checkIfControllerPresent=r(this.checkIfControllerPresent,this),this.onAxisMoved=r(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=r(this.onButtonChanged,this),this.onButtonDown=function(e){c(e.detail.id,"down",t,t.data.hand)},this.onButtonUp=function(e){c(e.detail.id,"up",t,t.data.hand)},this.onButtonTouchStart=function(e){c(e.detail.id,"touchstart",t,t.data.hand)},this.onButtonTouchEnd=function(e){c(e.detail.id,"touchend",t,t.data.hand)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("axismove",this.onAxisMoved),t.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("axismove",this.onAxisMoved),t.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){s(this,h,{hand:this.data.hand})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},loadModel:function(t){var e,n=this.data;if(n.model){if(this.displayModel=v[n.controllerType]||v["oculus-touch"],"auto"===n.controllerType){var r=this.el.sceneEl.systems["tracked-controls-webvr"];if(r&&r.vrDisplay){var i=r.vrDisplay.displayName;/^Oculus Quest$/.test(i)&&(this.displayModel=v["oculus-touch-v2"])}else e="oculus-touch",e=-1!==t.profiles.indexOf("oculus-touch-v2")?"oculus-touch-v2":e,e=-1!==t.profiles.indexOf("oculus-touch-v3")?"oculus-touch-v3":e,this.displayModel=v[e]}var o=this.displayModel[n.hand].modelUrl;this.el.setAttribute("gltf-model",o)}},injectTrackedControls:function(t){var e=this.data,n="right"===e.hand?"Oculus Touch (Right)":"Oculus Touch (Left)",r=u?"oculus-touch":n;this.el.setAttribute("tracked-controls",{id:r,hand:e.hand,orientationOffset:e.orientationOffset,handTrackingEnabled:!1}),this.loadModel(t)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(t){var e,n=this.mapping[this.data.hand].buttons[t.detail.id],r=this.buttonMeshes;n&&("trigger"!==n&&"grip"!==n||(e=t.detail.state.value),r&&("trigger"===n&&r.trigger&&(r.trigger.rotation.x=this.originalXRotationTrigger-e*(Math.PI/26)),"grip"===n&&r.grip&&(r.grip.position.x=this.originalXPositionGrip+("left"===this.data.hand?-1:1)*e*.004)),this.el.emit(n+"changed",t.detail.state))},onModelLoaded:function(t){var e,n=this.controllerObject3D=t.detail.model;this.data.model&&((e=this.buttonMeshes={}).grip=n.getObjectByName("buttonHand"),this.originalXPositionGrip=e.grip&&e.grip.position.x,e.thumbstick=n.getObjectByName("stick"),e.trigger=n.getObjectByName("buttonTrigger"),this.originalXRotationTrigger=e.trigger&&e.trigger.rotation.x,e.xbutton=n.getObjectByName("buttonX"),e.abutton=n.getObjectByName("buttonA"),e.ybutton=n.getObjectByName("buttonY"),e.bbutton=n.getObjectByName("buttonB"),n.position.copy(this.displayModel[this.data.hand].modelPivotOffset),n.rotation.copy(this.displayModel[this.data.hand].modelPivotRotation),this.el.emit("controllermodelready",{name:"oculus-touch-controls",model:this.data.model,rayOrigin:this.displayModel[this.data.hand].rayOrigin}))},onAxisMoved:function(t){l(this,this.mapping[this.data.hand].axes,t)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var n,r="up"===e||"touchend"===e?this.data.buttonColor:"touchstart"===e?this.data.buttonTouchColor:this.data.buttonHighlightColor,i=this.buttonMeshes;this.data.model&&i&&i[t]&&((n=i[t]).material.color.set(r),this.rendererSystem.applyColorCorrection(n.material.color))}})},{"../core/component":131,"../lib/three":179,"../utils/":205,"../utils/bind":199,"../utils/tracked-controls":214}],96:[function(t,e,n){var r=t("../core/component").registerComponent;e.exports.Component=r("position",{schema:{type:"vec3"},update:function(){var t=this.el.object3D,e=this.data;t.position.set(e.x,e.y,e.z)},remove:function(){this.el.object3D.position.set(0,0,0)}})},{"../core/component":131}],97:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../lib/three"),o=t("../utils/"),a=o.debug("components:raycaster:warn"),s=/^[\w\s-.,[\]#]*$/,l={childList:!0,attributes:!0,subtree:!0},c={INTERSECT:"raycaster-intersected",INTERSECTION:"raycaster-intersection",INTERSECT_CLEAR:"raycaster-intersected-cleared",INTERSECTION_CLEAR:"raycaster-intersection-cleared"};function u(t,e){var n;for(t.length=e.length,n=0;n<e.length;n++)t[n]=e[n]}e.exports.Component=r("raycaster",{schema:{autoRefresh:{default:!0},direction:{type:"vec3",default:{x:0,y:0,z:-1}},enabled:{default:!0},far:{default:1e3},interval:{default:0},near:{default:0},objects:{default:""},origin:{type:"vec3"},showLine:{default:!1},lineColor:{default:"white"},lineOpacity:{default:1},useWorldCoordinates:{default:!1}},multiple:!0,init:function(){this.clearedIntersectedEls=[],this.unitLineEndVec3=new i.Vector3,this.intersectedEls=[],this.intersections=[],this.newIntersectedEls=[],this.newIntersections=[],this.objects=[],this.prevCheckTime=void 0,this.prevIntersectedEls=[],this.rawIntersections=[],this.raycaster=new i.Raycaster,this.updateOriginDirection(),this.setDirty=this.setDirty.bind(this),this.updateLine=this.updateLine.bind(this),this.observer=new MutationObserver(this.setDirty),this.dirty=!0,this.lineEndVec3=new i.Vector3,this.otherLineEndVec3=new i.Vector3,this.lineData={end:this.lineEndVec3},this.getIntersection=this.getIntersection.bind(this),this.intersectedDetail={el:this.el,getIntersection:this.getIntersection},this.intersectedClearedDetail={el:this.el},this.intersectionClearedDetail={clearedEls:this.clearedIntersectedEls},this.intersectionDetail={}},update:function(t){var e=this.data,n=this.el,r=this.raycaster;r.far=e.far,r.near=e.near,!e.showLine||e.far===t.far&&e.origin===t.origin&&e.direction===t.direction&&t.showLine||(this.unitLineEndVec3.copy(e.origin).add(e.direction).normalize(),this.drawLine()),!e.showLine&&t.showLine&&n.removeAttribute("line"),e.objects===t.objects||s.test(e.objects)||a('[raycaster] Selector "'+e.objects+'" may not update automatically with DOM changes.'),e.objects||a('[raycaster] For performance, please define raycaster.objects when using raycaster or cursor components to whitelist which entities to intersect with. e.g., raycaster="objects: [data-raycastable]".'),e.autoRefresh!==t.autoRefresh&&n.isPlaying&&(e.autoRefresh?this.addEventListeners():this.removeEventListeners()),t.enabled&&!e.enabled&&this.clearAllIntersections(),this.setDirty()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.data.showLine&&this.el.removeAttribute("line"),this.clearAllIntersections()},addEventListeners:function(){this.data.autoRefresh&&(this.observer.observe(this.el.sceneEl,l),this.el.sceneEl.addEventListener("object3dset",this.setDirty),this.el.sceneEl.addEventListener("object3dremove",this.setDirty))},removeEventListeners:function(){this.observer.disconnect(),this.el.sceneEl.removeEventListener("object3dset",this.setDirty),this.el.sceneEl.removeEventListener("object3dremove",this.setDirty)},setDirty:function(){this.dirty=!0},refreshObjects:function(){var t,e=this.data;t=e.objects?this.el.sceneEl.querySelectorAll(e.objects):this.el.sceneEl.querySelectorAll("*"),this.objects=this.flattenObject3DMaps(t),this.dirty=!1},tock:function(t){var e=this.data,n=this.prevCheckTime;e.enabled&&(n&&t-n<e.interval||(this.prevCheckTime=t,this.checkIntersections()))},checkIntersections:function(){var t,e,n=this.clearedIntersectedEls,r=this.el,i=this.data,o=this.intersectedEls,a=this.intersections,s=this.newIntersectedEls,l=this.newIntersections,h=this.prevIntersectedEls,d=this.rawIntersections;for(this.dirty&&this.refreshObjects(),u(this.prevIntersectedEls,this.intersectedEls),this.updateOriginDirection(),d.length=0,this.raycaster.intersectObjects(this.objects,!0,d),a.length=0,o.length=0,t=0;t<d.length;t++)e=d[t],i.showLine&&e.object===r.getObject3D("line")||e.object.el&&(a.push(e),o.push(e.object.el));for(l.length=0,s.length=0,t=0;t<a.length;t++)-1===h.indexOf(a[t].object.el)&&(l.push(a[t]),s.push(a[t].object.el));for(n.length=0,t=0;t<h.length;t++)-1===o.indexOf(h[t])&&(h[t].emit(c.INTERSECT_CLEAR,this.intersectedClearedDetail),n.push(h[t]));for(n.length&&r.emit(c.INTERSECTION_CLEAR,this.intersectionClearedDetail),t=0;t<s.length;t++)s[t].emit(c.INTERSECT,this.intersectedDetail);l.length&&(this.intersectionDetail.els=s,this.intersectionDetail.intersections=l,r.emit(c.INTERSECTION,this.intersectionDetail)),i.showLine&&setTimeout(this.updateLine)},updateLine:function(){var t,e=this.el,n=this.intersections;n.length&&(t=n[0].object.el===e&&n[1]?n[1].distance:n[0].distance),this.drawLine(t)},getIntersection:function(t){var e,n;for(e=0;e<this.intersections.length;e++)if((n=this.intersections[e]).object.el===t)return n;return null},updateOriginDirection:function(){var t=new i.Vector3,e=new i.Vector3;return function(){var n=this.el,r=this.data;r.useWorldCoordinates?this.raycaster.set(r.origin,r.direction):(n.object3D.updateMatrixWorld(),e.setFromMatrixPosition(n.object3D.matrixWorld),0===r.origin.x&&0===r.origin.y&&0===r.origin.z||(e=n.object3D.localToWorld(e.copy(r.origin))),t.copy(r.direction).transformDirection(n.object3D.matrixWorld).normalize(),this.raycaster.set(e,t))}}(),drawLine:function(t){var e,n=this.data,r=this.el;e=this.lineData.end===this.lineEndVec3?this.otherLineEndVec3:this.lineEndVec3,void 0===t&&(t=n.far===1/0?1e3:n.far),this.lineData.start=n.origin,this.lineData.end=e.copy(this.unitLineEndVec3).multiplyScalar(t),this.lineData.color=n.lineColor,this.lineData.opacity=n.lineOpacity,r.setAttribute("line",this.lineData)},flattenObject3DMaps:function(t){var e,n,r=this.objects;for(r.length=0,n=0;n<t.length;n++)if(t[n].isEntity&&t[n].object3D)for(e in t[n].object3DMap)r.push(t[n].getObject3D(e));return r},clearAllIntersections:function(){var t;for(t=0;t<this.intersectedEls.length;t++)this.intersectedEls[t].emit(c.INTERSECT_CLEAR,this.intersectedClearedDetail);u(this.clearedIntersectedEls,this.intersectedEls),this.intersectedEls.length=0,this.intersections.length=0,this.el.emit(c.INTERSECTION_CLEAR,this.intersectionClearedDetail)}})},{"../core/component":131,"../lib/three":179,"../utils/":205}],98:[function(t,e,n){var r=t("../lib/three").Math.degToRad,i=t("../core/component").registerComponent;e.exports.Component=i("rotation",{schema:{type:"vec3"},update:function(){var t=this.data,e=this.el.object3D;e.rotation.set(r(t.x),r(t.y),r(t.z)),e.rotation.order="YXZ"},remove:function(){this.el.object3D.rotation.set(0,0,0)}})},{"../core/component":131,"../lib/three":179}],99:[function(t,e,n){var r=t("../core/component").registerComponent;e.exports.Component=r("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var t=this.data,e=this.el.object3D,n=0===t.x?1e-5:t.x,r=0===t.y?1e-5:t.y,i=0===t.z?1e-5:t.z;e.scale.set(n,r,i)},remove:function(){this.el.object3D.scale.set(1,1,1)}})},{"../core/component":131}],100:[function(t,e,n){var r=t("../../core/component").registerComponent,i=t("../../core/component").components;e.exports.Component=r("background",{schema:{color:{type:"color",default:"black"},transparent:{default:!1}},update:function(){var t=this.data,e=this.el.object3D;t.transparent?e.background=null:e.background=new THREE.Color(t.color)},remove:function(){var t=this.data,e=this.el.object3D;t.transparent?e.background=null:e.background=i[this.name].schema.color.default}})},{"../../core/component":131}],101:[function(t,e,n){var r=t("../../core/component").registerComponent;e.exports.Component=r("debug",{schema:{default:!0}})},{"../../core/component":131}],102:[function(t,e,n){var r=t("../../core/component").registerComponent,i=t("../../utils/"),o=i.bind,a=t("../../constants/"),s="a-modal",l="a-dialog",c="a-dialog-text",u="a-dialog-text-container",h="a-dialog-buttons-container",d="a-dialog-button",p="a-dialog-allow-button",f="a-dialog-deny-button",m="a-dialog-ok-button";function v(t,e,n){var r,i;return(r=document.createElement("div")).classList.add(h),(i=document.createElement("button")).classList.add(d,m),i.setAttribute(a.AFRAME_INJECTED,""),i.innerHTML=t,r.appendChild(i),i.addEventListener("click",function(t){t.stopPropagation(),n()}),g(e,r)}function g(t,e){var n,r,i,o;return(n=document.createElement("div")).classList.add(s),n.setAttribute(a.AFRAME_INJECTED,""),(r=document.createElement("div")).className=l,r.setAttribute(a.AFRAME_INJECTED,""),n.appendChild(r),(i=document.createElement("div")).classList.add(u),r.appendChild(i),(o=document.createElement("div")).classList.add(c),o.innerHTML=t,i.appendChild(o),r.appendChild(e),n}e.exports.Component=r("device-orientation-permission-ui",{schema:{enabled:{default:!0},deviceMotionMessage:{default:"This immersive website requires access to your device motion sensors."},mobileDesktopMessage:{default:"Set your browser to request the mobile version of the site and reload the page to enjoy immersive mode."},httpsMessage:{default:"Access this site over HTTPS to enter VR mode and grant access to the device sensors."},denyButtonText:{default:"Deny"},allowButtonText:{default:"Allow"},cancelButtonText:{default:"Cancel"}},init:function(){var t=this;this.data.enabled&&("localhost"!==location.hostname&&"127.0.0.1"!==location.hostname&&"http:"===location.protocol&&this.showHTTPAlert(),i.device.isMobileDeviceRequestingDesktopSite()?this.showMobileDesktopModeAlert():"undefined"!==typeof DeviceOrientationEvent&&DeviceOrientationEvent.requestPermission?(this.onDeviceMotionDialogAllowClicked=o(this.onDeviceMotionDialogAllowClicked,this),this.onDeviceMotionDialogDenyClicked=o(this.onDeviceMotionDialogDenyClicked,this),DeviceOrientationEvent.requestPermission().catch(function(){t.devicePermissionDialogEl=function(t,e,n,r,i){var o,s,l;return(o=document.createElement("div")).classList.add(h),(s=document.createElement("button")).classList.add(d,f),s.setAttribute(a.AFRAME_INJECTED,""),s.innerHTML=t,o.appendChild(s),(l=document.createElement("button")).classList.add(d,p),l.setAttribute(a.AFRAME_INJECTED,""),l.innerHTML=e,o.appendChild(l),l.addEventListener("click",function(t){t.stopPropagation(),r()}),s.addEventListener("click",,g(n,o)}(t.data.denyButtonText,t.data.allowButtonText,t.data.deviceMotionMessage,t.onDeviceMotionDialogAllowClicked,t.onDeviceMotionDialogDenyClicked),t.el.appendChild(t.devicePermissionDialogEl)}).then():this.permissionGranted=!0)},remove:onDeviceMotionDialogDenyClicked:function(){this.remove()},showMobileDesktopModeAlert:function(){var t=this,e=v(t.data.cancelButtonText,t.data.mobileDesktopMessage,function(){t.el.removeChild(e)});this.el.appendChild(e)},showHTTPAlert:function(){var t=this,e=v(t.data.cancelButtonText,t.data.httpsMessage,;this.el.appendChild(e)},onDeviceMotionDialogAllowClicked:function(){var t=this;this.el.emit("deviceorientationpermissionrequested"),DeviceOrientationEvent.requestPermission().then(function(e){"granted"===e?(t.el.emit("deviceorientationpermissiongranted"),t.permissionGranted=!0):t.el.emit("deviceorientationpermissionrejected"),t.remove()}).catch(console.error)}})},{"../../constants/":123,"../../core/component":131,"../../utils/":205}],103:[function(t,e,n){var r=t("../../core/component").registerComponent;e.exports.Component=r("embedded",{dependencies:["vr-mode-ui"],schema:{default:!0},update:function(){var t=this.el,e=t.querySelector(".a-enter-vr");!0===this.data?(e&&e.classList.add("embedded"),t.removeFullScreenStyles()):(e&&e.classList.remove("embedded"),t.addFullScreenStyles())}})},{"../../core/component":131}],104:[function(t,e,n){var r=t("../../core/component").registerComponent,i=t("../../lib/three"),o=t("../../utils/debug"),a=o("components:fog:warn");e.exports.Component=r("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},update:function(){var t=this.data,e=this.el,n=this.el.object3D.fog;if(e.isScene)return n&&t.type===n.name?void Object.keys(this.schema).forEach(function(e){var r=t[e];"color"===e&&(r=new i.Color(r)),n[e]=r}):(e.object3D.fog=function(t){var e;return(e="exponential"===t.type?new i.FogExp2(t.color,t.density):new i.Fog(t.color,t.near,t.far)).name=t.type,e}(t),void e.systems.material.updateMaterials());a("Fog component can only be applied to <a-scene>")},remove:function(){var t=this.el.object3D.fog;t&&(t.far=0,t.near=.1)}})},{"../../core/component":131,"../../lib/three":179,"../../utils/debug":201}],105:[function(t,e,n){(function(n){var r=t("../../constants").AFRAME_INJECTED,i=t("../../../package"),o=t("../../core/component").registerComponent,a=t("../../utils/"),s="https://unpkg.com/aframe-inspector@"+i.version)+"/dist/aframe-inspector.min.js",l="dev"===n.env.INSPECTOR_VERSION?"https://aframe.io/aframe-inspector/dist/aframe-inspector.js":s;e.exports.Component=o("inspector",{schema:{url:{default:l}},init:function(){this.firstPlay=!0,this.onKeydown=this.onKeydown.bind(this),this.onMessage=this.onMessage.bind(this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},play:function(){var t;this.firstPlay&&"false"!==(t=a.getUrlParameter("inspector"))&&t&&(this.openInspector(),this.firstPlay=!1)},initOverlay:function(){this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML='Loading Inspector<span class="dots"><span>.</span><span>.</span><span>.</span></span>'},remove:function(){this.removeEventListeners()},onKeydown:function(t){var e=73===t.keyCode&&(t.ctrlKey&&t.altKey||t.getModifierState("AltGraph"));e&&this.openInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:onMessage:openInspector:function(t){var e,n=this;AFRAME.INSPECTOR||AFRAME.inspectorInjected?AFRAME.INSPECTOR.open(t):(this.showLoader(),(e=document.createElement("script")).src=this.data.url,e.setAttribute("data-name","aframe-inspector"),e.setAttribute(r,""),e.onload=e.onerror=document.head.appendChild(e),AFRAME.inspectorInjected=!0)},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}})}).call(this,t("_process"))},{"../../../package":73,"../../constants":123,"../../core/component":131,"../../utils/":205,_process:49}],106:[function(t,e,n){var r=t("../../core/component").registerComponent,i=t("../../utils/").shouldCaptureKeyEvent;e.exports.Component=r("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0}},init:update:function(t){var e=this.data;this.enterVREnabled=e.enterVR},play:pause:function(){window.removeEventListener("keyup",this.onKeyup)},onKeyup:function(t){var e=this.el;i(t)&&(this.enterVREnabled&&70===t.keyCode&&e.enterVR(),this.enterVREnabled&&27===t.keyCode&&e.exitVR())}})},{"../../core/component":131,"../../utils/":205}],107:[function(t,e,n){var r=t("../../utils/debug"),i=t("../../core/component").registerComponent,o=r("components:pool:warn");e.exports.Component=i("pool",{schema:{container:{default:""},mixin:{default:""},size:{default:0},dynamic:{default:!1}},multiple:!0,initPool:function(){var t;for(this.availableEls=[],this.usedEls=[],this.data.mixin||o("No mixin provided for pool component."),this.data.container&&(this.container=document.querySelector(this.data.container),this.container||o("Container "+this.data.container+" not found.")),this.container=this.container||this.el,t=0;t<this.data.size;++t)this.createEntity()},update:createEntity:function(){var t;(t=document.createElement("a-entity")).play=this.wrapPlay(t.play),t.setAttribute("mixin",this.data.mixin),t.object3D.visible=!1,t.pause(),this.container.appendChild(t),this.availableEls.push(t)},wrapPlay:function(t){var e=this.usedEls;return function(){-1!==e.indexOf(this)&&t.call(this)}},requestEntity:function(){var t;if(0===this.availableEls.length){if(!1===this.data.dynamic)return void o("Requested entity from empty pool: "+this.attrName);o("Requested entity from empty pool. This pool is dynamic and will resize automatically. You might want to increase its initial size: "+this.attrName),this.createEntity()}return t=this.availableEls.shift(),this.usedEls.push(t),t.object3D.visible=!0,t},returnEntity:function(t){var e=this.usedEls.indexOf(t);if(-1!==e)return this.usedEls.splice(e,1),this.availableEls.push(t),t.object3D.visible=!1,t.pause(),t;o("The returned entity was not previously pooled from "+this.attrName)}})},{"../../core/component":131,"../../utils/debug":201}],108:[function(t,e,n){var r=t("../../core/component").registerComponent,i=t("../../lib/three"),o=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),a=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join("\n");e.exports.Component=r("screenshot",{schema:{width:{default:4096},height:{default:2048},camera:{type:"selector"}},init:function(){var t=this.el,e=this;function n(){var n=t.renderer.getContext();n&&(e.cubeMapSize=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),e.material=new i.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:o,fragmentShader:a,side:i.DoubleSide}),e.quad=new i.Mesh(new i.PlaneBufferGeometry(1,1),e.material),e.quad.visible=!1,e.camera=new i.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),e.canvas=document.createElement("canvas"),e.ctx=e.canvas.getContext("2d"),t.object3D.add(e.quad),e.onKeyDown=e.onKeyDown.bind(e))}t.renderer?n():t.addEventListener("render-target-loaded",n)},getRenderTarget:function(t,e){return new i.WebGLRenderTarget(t,e,{minFilter:i.LinearFilter,magFilter:i.LinearFilter,wrapS:i.ClampToEdgeWrapping,wrapT:i.ClampToEdgeWrapping,format:i.RGBAFormat,type:i.UnsignedByteType})},resize:function(t,e){this.quad.scale.set(t,e,1),this.camera.left=-1*t/2,this.camera.right=t/2,this.camera.top=e/2,this.camera.bottom=-1*e/2,this.camera.updateProjectionMatrix(),this.canvas.width=t,this.canvas.height=e},play:onKeyDown:function(t){var e=83===t.keyCode&&t.ctrlKey&&t.altKey;if(this.data&&e){var n=t.shiftKey?"equirectangular":"perspective";this.capture(n)}},setCapture:function(t){var e,n,r,o,a=this.el;return"perspective"===t?(this.quad.visible=!1,n=this.data.camera&&this.data.camera.components.camera.camera||a.camera,e={width:this.data.width,height:this.data.height}):(n=this.camera,o=new i.WebGLCubeRenderTarget(Math.min(this.cubeMapSize,2048),{format:i.RGBFormat,generateMipmaps:!0,minFilter:i.LinearMipmapLinearFilter,encoding:i.sRGBEncoding}),r=new i.CubeCamera(a.camera.near,a.camera.far,o),a.camera.getWorldPosition(r.position),a.camera.getWorldQuaternion(r.quaternion),r.update(a.renderer,a.object3D),this.quad.material.uniforms.map.value=r.renderTarget.texture,e={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:n,size:e,projection:t}},capture:function(t){var e,n=this.el.renderer.xr.enabled,r=this.el.renderer;r.xr.enabled=!1,e=this.setCapture(t),this.renderCapture(e.camera,e.size,e.projection),this.saveCapture(),r.xr.enabled=n},getCanvas:function(t){var e=this.el.renderer.xr.enabled,n=this.el.renderer,r=this.setCapture(t);return n.xr.enabled=!1,this.renderCapture(r.camera,r.size,r.projection),n.xr.enabled=e,this.canvas},renderCapture:function(t,e,n){var r,i,o,a=this.el.renderer.autoClear,s=this.el,l=s.renderer;i=this.getRenderTarget(e.width,e.height),o=new Uint8Array(4*e.width*e.height),this.resize(e.width,e.height),l.autoClear=!0,l.clear(),l.setRenderTarget(i),l.render(s.object3D,t),l.autoClear=a,l.readRenderTargetPixels(i,0,0,e.width,e.height,o),l.setRenderTarget(null),"perspective"===n&&(o=this.flipPixelsVertically(o,e.width,e.height)),r=new ImageData(new Uint8ClampedArray(o),e.width,e.height),this.quad.visible=!1,this.ctx.putImageData(r,0,0)},flipPixelsVertically:function(t,e,n){for(var r=t.slice(0),i=0;i<e;++i)for(var o=0;o<n;++o)r[4*i+o*e*4]=t[4*i+(n-o)*e*4],r[4*i+1+o*e*4]=t[4*i+1+(n-o)*e*4],r[4*i+2+o*e*4]=t[4*i+2+(n-o)*e*4],r[4*i+3+o*e*4]=t[4*i+3+(n-o)*e*4];return r},saveCapture:function(){this.canvas.toBlob(function(t){var e="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",n=document.createElement("a"),r=URL.createObjectURL(t);n.href=r,n.setAttribute("download",e),n.innerHTML="downloading...",n.style.display="none",document.body.appendChild(n),setTimeout(1)},"image/png")}})},{"../../core/component":131,"../../lib/three":179}],109:[function(t,e,n){var r=t("../../core/component").registerComponent,i=t("../../../vendor/rStats"),o=t("../../utils");t("../../../vendor/rStats.extras"),t("../../lib/rStatsAframe");var a=window.aframeStats,s=o.bind,l=window.threeStats;e.exports.Component=r("stats",{schema:{default:!0},init:function(){var t=this.el;"false"!==o.getUrlParameter("stats")&&(this.stats=function(t){var e=new l(t.renderer),n=new a(t),r=t.isMobile?[]:[e,n];return new i({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:r})}(t),this.statsEl=document.querySelector(".rs-base"),this.hideBound=s(this.hide,this),this.showBound=s(this.show,this),t.addEventListener("enter-vr",this.hideBound),t.addEventListener("exit-vr",this.showBound))},update:remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var t=this.stats;t&&(t("rAF").tick(),t("FPS").frame(),t().update())},hide:function(){this.statsEl.classList.add("a-hidden")},show:)},{"../../../vendor/rStats":217,"../../../vendor/rStats.extras":216,"../../core/component":131,"../../lib/rStatsAframe":178,"../../utils":205}],110:[function(t,e,n){var r=t("../../core/component").registerComponent,i=t("../../constants/"),o=t("../../utils/"),a=o.bind,s="a-enter-vr",l="a-enter-ar",c="a-enter-vr-button",u="a-enter-ar-button",h="a-hidden",d="a-orientation-modal";.exports.Component=r("vr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0},enterVRButton:{default:""},enterARButton:{default:""}},init:function(){var t=this,e=this.el;"false"!==o.getUrlParameter("ui")&&(this.insideLoader=!1,this.enterVREl=null,this.enterAREl=null,this.orientationModalEl=null,this.bindMethods(),e.addEventListener("enter-vr",this.updateEnterInterfaces),e.addEventListener("exit-vr",this.updateEnterInterfaces),e.addEventListener("update-vr-devices",this.updateEnterInterfaces),window.addEventListener("message",function(e){"loaderReady"===e.data.type&&(t.insideLoader=!0,t.remove())}),window.addEventListener("orientationchange",this.toggleOrientationModalIfNeeded))},bindMethods:function(){this.onEnterVRButtonClick=a(this.onEnterVRButtonClick,this),this.onEnterARButtonClick=a(this.onEnterARButtonClick,this),this.onModalClick=a(this.onModalClick,this),this.toggleOrientationModalIfNeeded=a(this.toggleOrientationModalIfNeeded,this),this.updateEnterInterfaces=a(this.updateEnterInterfaces,this)},onModalClick:function(){this.el.exitVR()},onEnterVRButtonClick:function(){this.el.enterVR()},onEnterARButtonClick:function(){this.el.enterAR()},update:function(){var t=this.data,e=this.el;if(!t.enabled||this.insideLoader||"false"===o.getUrlParameter("ui"))return this.remove();this.enterVREl||this.enterAREl||this.orientationModalEl||(t.enterVRButton?(this.enterVREl=document.querySelector(t.enterVRButton),this.enterVREl.addEventListener("click",this.onEnterVRButtonClick)):(this.enterVREl=function(t){var e,n;return(n=document.createElement("div")).classList.add(s),n.setAttribute(i.AFRAME_INJECTED,""),(e=document.createElement("button")).className=c,e.setAttribute("title","Enter VR mode with a headset or fullscreen mode on a desktop. Visit https://webvr.rocks or https://webvr.info for more information."),e.setAttribute(i.AFRAME_INJECTED,""),o.device.isMobile()&&p(e),n.appendChild(e),e.addEventListener("click",function(e){t(),e.stopPropagation()}),n}(this.onEnterVRButtonClick),e.appendChild(this.enterVREl)),t.enterARButton?(this.enterAREl=document.querySelector(t.enterARButton),this.enterAREl.addEventListener("click",this.onEnterARButtonClick)):(this.enterAREl=function(t){var e,n;return(n=document.createElement("div")).classList.add(l),n.setAttribute(i.AFRAME_INJECTED,""),(e=document.createElement("button")).className=u,e.setAttribute("title","Enter AR mode with a headset or handheld device. Visit https://webvr.rocks or https://webvr.info for more information."),e.setAttribute(i.AFRAME_INJECTED,""),o.device.isMobile()&&p(e),n.appendChild(e),e.addEventListener("click",,n}(this.onEnterARButtonClick),e.appendChild(this.enterAREl)),this.orientationModalEl=function(t){var e=document.createElement("div");e.className=d,e.classList.add(h),e.setAttribute(i.AFRAME_INJECTED,"");var n=document.createElement("button");return n.setAttribute(i.AFRAME_INJECTED,""),n.innerHTML="Exit VR",n.addEventListener("click",t),e.appendChild(n),e}(this.onModalClick),e.appendChild(this.orientationModalEl),this.updateEnterInterfaces())},remove:function(){[this.enterVREl,this.enterAREl,this.orientationModalEl].forEach(,this.enterVREl=void 0,this.enterAREl=void 0,this.orientationModalEl=void 0},updateEnterInterfaces:toggleEnterVRButtonIfNeeded:function(){var t=this.el;this.enterVREl&&(t.is("vr-mode")?this.enterVREl.classList.add(h):this.enterVREl.classList.remove(h))},toggleEnterARButtonIfNeeded:function(){var t=this.el;this.enterAREl&&(t.is("vr-mode")||!o.device.checkARSupport()?this.enterAREl.classList.add(h):this.enterAREl.classList.remove(h))},toggleOrientationModalIfNeeded:function(){var t=this.el,e=this.orientationModalEl;e&&t.isMobile&&(!o.device.isLandscape()&&t.is("vr-mode")?e.classList.remove(h):e.classList.add(h))}})},{"../../constants/":123,"../../core/component":131,"../../utils/":205}],111:[function(t,e,n){var r=t("../core/component"),i=t("../lib/three"),o=t("../utils/bind"),a=r.registerComponent;e.exports.Component=a("shadow",{schema:{cast:{default:!0},receive:{default:!0}},init:function(){this.onMeshChanged=o(this.update,this),this.el.addEventListener("object3dset",this.onMeshChanged),this.system.setShadowMapEnabled(!0)},update:remove:function(){var t=this.el;t.removeEventListener("object3dset",this.onMeshChanged),this.updateDescendants(!1,!1)},updateDescendants:function(t,e){var n=this.el.sceneEl;this.el.object3D.traverse(function(r){if(r instanceof i.Mesh&&(r.castShadow=t,r.receiveShadow=e,n.hasLoaded&&r.material))for(var o=Array.isArray(r.material)?r.material:[r.material],a=0;a<o.length;a++)o[a].needsUpdate=!0})}})},{"../core/component":131,"../lib/three":179,"../utils/bind":199}],112:[function(t,n,r){var i=t("../core/component").registerComponent,o=t("../utils/debug"),a=t("../lib/three"),s=o("components:sound:warn");n.exports.Component=i("sound",{schema:{autoplay:{default:!1},distanceModel:{default:"inverse",oneOf:["linear","inverse","exponential"]},loop:{default:!1},maxDistance:{default:1e4},on:{default:""},poolSize:{default:1},positional:{default:!0},refDistance:{default:1},rolloffFactor:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){var t=this;this.listener=null,this.audioLoader=new a.AudioLoader,this.pool=new a.Group,this.loaded=!1,this.mustPlay=!1,this.playSoundBound=function(){t.playSound()}},update:function(t){var e,n,r=this.data,i=r.src!==t.src;if(i){if(!r.src)return;this.setupSound()}for(e=0;e<this.pool.children.length;e++)n=this.pool.children[e],r.positional&&(n.setDistanceModel(r.distanceModel),n.setMaxDistance(r.maxDistance),n.setRefDistance(r.refDistance),n.setRolloffFactor(r.rolloffFactor)),n.setLoop(r.loop),n.setVolume(r.volume),n.isPaused=!1;if(r.on!==t.on&&this.updateEventListener(t.on),i){var o=this;this.loaded=!1,this.audioLoader.load(r.src,function(t){for(e=0;e<o.pool.children.length;e++)(n=o.pool.children[e]).setBuffer(t);o.loaded=!0,a.Cache.remove(r.src),(o.data.autoplay||o.mustPlay)&&o.playSound(),o.el.emit("sound-loaded",o.evtDetail,!1)})}},pause:function(){this.stopSound(),this.removeEventListener()},play:remove:function(){var t;this.removeEventListener(),this.el.getObject3D(this.attrName)&&this.el.removeObject3D(this.attrName);try{for(t=0;t<this.pool.children.length;t++)this.pool.children[t].disconnect()}catch(e){s("Audio source not properly disconnected")}},updateEventListener:function(t){var e=this.el;t&&e.removeEventListener(t,this.playSoundBound),e.addEventListener(this.data.on,this.playSoundBound)},removeEventListener:setupSound:function(){var t,e,n=this.el,r=n.sceneEl,i=this;this.pool.children.length>0&&(this.stopSound(),n.removeObject3D("sound"));var o=this.listener=r.audioListener||new a.AudioListener;for(r.audioListener=o,r.camera&&r.camera.add(o),r.addEventListener("camera-set-active",,this.pool=new a.Group,t=0;t<this.data.poolSize;t++)e=this.data.positional?new a.PositionalAudio(o):new a.Audio(o),this.pool.add(e);for(n.setObject3D(this.attrName,this.pool),t=0;t<this.pool.children.length;t++)(e=this.pool.children[t]).onEnded=function(){this.isPlaying=!1,i.el.emit("sound-ended",i.evtDetail,!1)}},pauseSound:function(){var t,e;for(this.isPlaying=!1,t=0;t<this.pool.children.length;t++)(e=this.pool.children[t]).source&&e.source.buffer&&e.isPlaying&&!e.isPaused&&(e.isPaused=!0,e.pause())},playSound:function(t){var e,n,r;if(!this.loaded)return s("Sound not loaded yet. It will be played once it finished loading"),void(this.mustPlay=!0);for(e=!1,this.isPlaying=!0,n=0;n<this.pool.children.length;n++)(r=this.pool.children[n]).isPlaying||!r.buffer||e||(t&&t(r),r.play(),r.isPaused=!1,e=!0);e?this.mustPlay=!1:s("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.",this.el)},stopSound:function(){var t,e;for(this.isPlaying=!1,t=0;t<this.pool.children.length;t++){if(!(e=this.pool.children[t]).source||!e.source.buffer)return;e.stop()}}})},{"../core/component":131,"../lib/three":179,"../utils/debug":201}],113:[function(t,e,n){var r=t("three-bmfont-text"),i=t("load-bmfont"),o=t("../core/component").registerComponent,a=t("../core/shader"),s=t("../lib/three"),l=t("../utils/"),c=l.debug("components:text:error"),u=a.shaders,h=l.debug("components:text:warn"),d="https://cdn.aframe.io/fonts/",p={aileronsemibold:d+"Aileron-Semibold.fnt",dejavu:d+"DejaVu-sdf.fnt",exo2bold:d+"Exo2Bold.fnt",exo2semibold:d+"Exo2SemiBold.fnt",kelsonsans:d+"KelsonSans.fnt",monoid:d+"Monoid.fnt",mozillavr:d+"mozillavr.fnt",roboto:d+"Roboto-msdf.json",sourcecodepro:d+"SourceCodePro.fnt"},f=["roboto"];e.exports.FONTS=p;var m=new function(){var t=this.cache={};this.get=function(e,n){return e in t?t[e]:(t[e]=n(),t[e])}},v={},g={},y=/^\w+:/;function b(t,e,n){return t||(.5+e)*n}e.exports.Component=o("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:"roboto"},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},negate:{type:"boolean",default:!0},opacity:{type:"number",default:1},shader:{default:"sdf",oneOf:u},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},xOffset:{type:"number",default:0},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.shaderData={},this.geometry=r(),this.createOrUpdateMaterial()},update:function(t){var e=this.data,n=this.currentFont;g[e.font]?this.texture=g[e.font]:(this.texture=g[e.font]=new s.Texture,this.texture.anisotropy=16),this.createOrUpdateMaterial(),t.font===e.font?n&&(this.updateGeometry(this.geometry,n),this.updateLayout()):this.updateFont()},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var t,e,n,r=this.data,i=this.material,o=this.shaderData;if(n=r.shader,-1!==f.indexOf(r.font)||r.font.indexOf("-msdf.")>=0?n="msdf":r.font in p&&-1===f.indexOf(r.font)&&(n="sdf"),t=(this.shaderObject&&this.shaderObject.name)!==n,o.alphaTest=r.alphaTest,o.color=r.color,o.map=this.texture,o.opacity=r.opacity,o.side=r.side),o.transparent=r.transparent,o.negate=r.negate,!t)return this.shaderObject.update(o),i.transparent=o.transparent,void(i.side=o.side);e=function(t,e,n){var r,i;return(i=new u[e].Shader).el=t,i.init(n),i.update(n),(r=i.material).transparent=n.transparent,{material:r,shader:i}}(this.el,n,o),this.material=e.material,this.shaderObject=e.shader,this.material.side=o.side,this.mesh&&(this.mesh.material=this.material)},updateFont:function(){var t,e=this.data,n=this.el,r=this.geometry,o=this;e.font||h("No font specified. Using the default font."),this.mesh&&(this.mesh.visible=!1),t=this.lookupFont(e.font||"roboto")||e.font,m.get(t,function(){return n=t,r=e.yOffset,new Promise(function(t,e){i(n,function(i,o){if(i)return c("Error loading font",n),void e(i);n.indexOf("/Roboto-msdf.json")>=0&&(r=30),r&&o.chars.map(,t(o)})});var n,r}).then(function(i){var a;if(1!==i.pages.length)throw new Error("Currently only single-page bitmap fonts are supported.");v[t]||(i.widthFactor=v[i]=function(t){var e=0,n=0,r=0;return t.chars.map(function(t){e+=t.xadvance,t.id>=48&&t.id<=57&&(r++,n+=t.xadvance)}),r?n/r:e/t.chars.length}(i)),o.currentFont=i,a=o.getFontImageSrc(),m.get(a,function(){return t=a,new Promise(function(e,n){(new s.ImageLoader).load(t,void 0,});var t}).then(function(t){var a=o.texture;a.image=t,a.needsUpdate=!0,g[e.font]=a,o.texture=a,o.initMesh(),o.currentFont=i,o.updateGeometry(r,i),o.updateLayout(),o.mesh.visible=!0,n.emit("textfontset",{font:e.font,fontObj:i})}).catch(function(t){c(t.message),c(t.stack)})}).catch(},initMesh:function(){this.mesh||(this.mesh=new s.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh))},getFontImageSrc:function(){if(this.data.fontImage)return this.data.fontImage;var t=this.lookupFont(this.data.font||"roboto")||this.data.font,e=this.currentFont.pages[0];return e.match(y)&&0!==e.indexOf("http")?t.replace(/(\.fnt)|(\.json)/,".png"):s.LoaderUtils.extractUrlBase(t)+e},updateLayout:function(){var t,e,n,r,i,o,a,s,l,c,u=this.el,h=this.data,d=this.geometry,p=this.mesh;if(p&&d.layout){if(n=u.getAttribute("geometry"),s=h.width||n&&n.width||1,o=b(h.wrapPixels,h.wrapCount,this.currentFont.widthFactor),a=s/o,i=d.layout,r=a*(i.height+i.descender),n&&"plane"===n.primitive&&(n.width||u.setAttribute("geometry","width",s),n.height||u.setAttribute("geometry","height",r)),"left"===(t="align"===h.anchor?h.align:h.anchor))l=0;else if("right"===t)l=-1*i.width;else{if("center"!==t)throw new TypeError("Invalid text.anchor property value",t);l=-1*i.width/2}if("bottom"===(e=h.baseline))c=0;else if("top"===e)c=-1*i.height+i.ascender;else{if("center"!==e)throw new TypeError("Invalid text.baseline property value",e);c=-1*i.height/2}p.position.x=l*a+h.xOffset,p.position.y=c*a,p.position.z=h.zOffset,p.scale.set(a,-1*a,a)}},lookupFont:function(t){return p[t]},updateGeometry:function(){var t={},e={},n=/\\n/g,r=/\\t/g;return function(i,o){var a=this.data;e.font=o,e.lineHeight=a.lineHeight&&isFinite(a.lineHeight)?a.lineHeight:o.common.lineHeight,e.text=a.value.toString().replace(n,"\n").replace(r,"\t"),e.width=b(a.wrapPixels,a.wrapCount,o.widthFactor),i.update(l.extend(t,a,e))}}()})},{"../core/component":131,"../core/shader":141,"../lib/three":179,"../utils/":205,"load-bmfont":37,"three-bmfont-text":63}],114:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/tracked-controls"),o=t("../constants").DEFAULT_CAMERA_HEIGHT,a=t("../lib/three"),s=t("../constants").DEFAULT_HANDEDNESS,l={x:.175,y:-.3,z:-.03},c={x:0,y:0,z:-.175},u={touches:[]},h={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};e.exports.Component=r("tracked-controls-webvr",{schema:{autoHide:{default:!0},controller:{default:0},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!1},headElement:{type:"selector"}},init:function(){this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.changedAxes=[],this.targetControllerNumber=this.data.controller,this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes},this.deltaControllerPosition=new a.Vector3,this.controllerQuaternion=new a.Quaternion,this.controllerEuler=new a.Euler,this.updateGamepad(),this.buttonEventDetails={}},tick:function(t,e){var n=this.el.getObject3D("mesh");n&&n.update&&n.update(e/1e3),this.updateGamepad(),this.updatePose(),this.updateButtons()},defaultUserHeight:function(){return o},getHeadElement:updateGamepad:function(){var t=this.data,e=i.findMatchingControllerWebVR(this.system.controllers,t.id,t.idPrefix,t.hand,t.controller);this.controller=e,this.el.components["tracked-controls"].controller=e,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},applyArmModel:function(t){var e,n,r,i,o,a=this.controller,u=this.controllerEuler,h=this.controllerQuaternion,d=this.deltaControllerPosition;n=this.getHeadElement(),r=n.object3D,o=this.defaultUserHeight(),i=a.pose,e=(a?a.hand:void 0)||s,t.copy(r.position),d.set(l.x*("left"===e?-1:"right"===e?1:0),l.y,l.z),d.multiplyScalar(o),d.applyAxisAngle(r.up,r.rotation.y),t.add(d),d.set(c.x,c.y,c.z),d.multiplyScalar(o),i.orientation?h.fromArray(i.orientation):h.copy(r.quaternion),u.setFromQuaternion(h),u.set(u.x,u.y,0),d.applyEuler(u),t.add(d)},updatePose:function(){var t,e,n=this.controller,r=this.data,i=this.el.object3D,o=this.system.vrDisplay;n&&((t=n.pose).position?i.position.fromArray(t.position):r.armModel&&this.applyArmModel(i.position),t.orientation&&i.quaternion.fromArray(t.orientation),o&&t.position&&(e=this.el.sceneEl.renderer.xr.getStandingMatrix(),i.matrix.compose(i.position,i.quaternion,i.scale),i.matrix.multiplyMatrices(e,i.matrix),i.matrix.decompose(i.position,i.quaternion,i.scale)),i.rotateX(this.data.orientationOffset.x*a.Math.DEG2RAD),i.rotateY(this.data.orientationOffset.y*a.Math.DEG2RAD),i.rotateZ(this.data.orientationOffset.z*a.Math.DEG2RAD))},updateButtons:function(){var t,e,n=this.controller;if(n){for(e=0;e<n.buttons.length;++e)this.buttonStates[e]||(this.buttonStates[e]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[e]||(this.buttonEventDetails[e]={id:e,state:this.buttonStates[e]}),t=n.buttons[e],this.handleButton(e,t);this.handleAxes()}},handleButton:function(t,e){return!!(this.handlePress(t,e)|this.handleTouch(t,e)|this.handleValue(t,e))&&(this.el.emit(h.BUTTONCHANGED,this.buttonEventDetails[t],!1),!0)},handleAxes:function(){var t,e=!1,n=this.controller.axes,r=this.axis,i=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),t=0;t<n.length;++t)i.push(r[t]!==n[t]),i[t]&&(e=!0);if(!e)return!1;for(this.axis.splice(0,this.axis.length),t=0;t<n.length;t++)this.axis.push(n[t]);return this.el.emit(h.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(t,e){var n,r=this.buttonStates[t];return e.pressed!==r.pressed&&(n=e.pressed?h.BUTTONDOWN:h.BUTTONUP,this.el.emit(n,this.buttonEventDetails[t],!1),r.pressed=e.pressed,!0)},handleTouch:function(t,e){var n,r=this.buttonStates[t];return e.touched!==r.touched&&(n=e.touched?h.TOUCHSTART:h.TOUCHEND,this.el.emit(n,this.buttonEventDetails[t],!1,u),r.touched=e.touched,!0)},handleValue:function(t,e){var n=this.buttonStates[t];return e.value!==n.value&&(n.value=e.value,!0)}})},{"../constants":123,"../core/component":131,"../lib/three":179,"../utils/tracked-controls":214}],115:[function(t,e,n){var r=t("../utils/tracked-controls"),i=t("../core/component").registerComponent,o={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};e.exports.Component=i("tracked-controls-webxr",{schema:{id:{type:"string",default:""},hand:{type:"string",default:""},handTrackingEnabled:{default:!1},index:{type:"int",default:-1},iterateControllerProfiles:{default:!1}},init:function(){this.updateController=this.updateController.bind(this),this.buttonEventDetails={},this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.changedAxes=[],this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes}},update:function(){this.updateController()},play:function(){var t=this.el.sceneEl;this.updateController(),t.addEventListener("controllersupdated",this.updateController)},pause:function(){var t=this.el.sceneEl;t.removeEventListener("controllersupdated",this.updateController)},isControllerPresent:function(t){return!(!this.controller||this.controller.gamepad)&&("none"===t.inputSource.handedness||t.inputSource.handedness===this.data.hand)},updateController:function(){this.controller=r.findMatchingControllerWebXR(this.system.controllers,this.data.id,this.data.hand,this.data.index,this.data.iterateControllerProfiles,this.data.handTrackingEnabled),this.el.components["tracked-controls"].controller=this.controller,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},tick:function(){var t=this.el.sceneEl,e=this.controller,n=t.frame;e&&t.frame&&this.system.referenceSpace&&(e.hand||(this.pose=n.getPose(e.targetRaySpace,this.system.referenceSpace),this.updatePose(),this.updateButtons()))},updatePose:function(){var t=this.el.object3D,e=this.pose;e&&(t.matrix.elements=e.transform.matrix,t.matrix.decompose(t.position,t.rotation,t.scale))},updateButtons:function(){var t,e,n,r=this.controller;if(r&&r.gamepad){for(n=r.gamepad,e=0;e<n.buttons.length;++e)this.buttonStates[e]||(this.buttonStates[e]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[e]||(this.buttonEventDetails[e]={id:e,state:this.buttonStates[e]}),t=n.buttons[e],this.handleButton(e,t);this.handleAxes()}},handleButton:function(t,e){return!!(this.handlePress(t,e)|this.handleTouch(t,e)|this.handleValue(t,e))&&(this.el.emit(o.BUTTONCHANGED,this.buttonEventDetails[t],!1),!0)},handleAxes:function(){var t,e=!1,n=this.controller.gamepad.axes,r=this.axis,i=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),t=0;t<n.length;++t)i.push(r[t]!==n[t]),i[t]&&(e=!0);if(!e)return!1;for(this.axis.splice(0,this.axis.length),t=0;t<n.length;t++)this.axis.push(n[t]);return this.el.emit(o.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(t,e){var n,r=this.buttonStates[t];return e.pressed!==r.pressed&&(n=e.pressed?o.BUTTONDOWN:o.BUTTONUP,this.el.emit(n,this.buttonEventDetails[t],!1),r.pressed=e.pressed,!0)},handleTouch:function(t,e){var n,r=this.buttonStates[t];return e.touched!==r.touched&&(n=e.touched?o.TOUCHSTART:o.TOUCHEND,this.el.emit(n,this.buttonEventDetails[t],!1),r.touched=e.touched,!0)},handleValue:function(t,e){var n=this.buttonStates[t];return e.value!==n.value&&(n.value=e.value,!0)}})},{"../core/component":131,"../utils/tracked-controls":214}],116:[function(t,e,n){var r=t("../core/component").registerComponent;e.exports.Component=r("tracked-controls",{schema:{autoHide:{default:!0},controller:{default:-1},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},handTrackingEnabled:{default:!1},orientationOffset:{type:"vec3"},armModel:{default:!1},headElement:{type:"selector"},iterateControllerProfiles:{default:!1}},update:function(){var t=this.data,e=this.el;e.sceneEl.hasWebXR?e.setAttribute("tracked-controls-webxr",{id:t.id,hand:t.hand,index:t.controller,iterateControllerProfiles:t.iterateControllerProfiles,handTrackingEnabled:t.handTrackingEnabled}):e.setAttribute("tracked-controls-webvr",t)}})},{"../core/component":131}],117:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/bind"),o=t("../lib/three"),a=t("../utils/tracked-controls"),s=a.checkControllerPresentAndSetup,l=a.emitIfAxesChanged,c=a.onButtonEvent,u={left:"https://cdn.aframe.io/controllers/valve/index/valve-index-left.glb",right:"https://cdn.aframe.io/controllers/valve/index/valve-index-right.glb"},h=t("../utils/").device.isWebXRAvailable,d={left:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"},right:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"}},p=h?d:{left:{_x:.692295102620542,_y:-.0627618864318427,_z:-.06265893149611756,_order:"XYZ"},right:{_x:.6484021229942998,_y:-.032563619881892894,_z:-.1327973171917482,_order:"XYZ"}},f=h?{left:{x:0,y:-.05,z:.06},right:{x:0,y:-.05,z:.06}}:{left:{x:-.00023692678902063457,y:.04724540367838371,z:-.061959880395271096},right:{x:.002471558599671131,y:.055765208987076195,z:-.061068168708348844}};e.exports.Component=r("valve-index-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:{axes:{trackpad:[0,1],thumbstick:[2,3]},buttons:["trigger","grip","trackpad","thumbstick","abutton"]},init:function(){var t=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(e){c(e.detail.id,"down",t)},this.onButtonUp=function(e){c(e.detail.id,"up",t)},this.onButtonTouchEnd=function(e){c(e.detail.id,"touchend",t)},this.onButtonTouchStart=function(e){c(e.detail.id,"touchstart",t)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var t=this.data,e="right"===t.hand?0:"left"===t.hand?1:2;s(this,"valve",{index:e,iterateControllerProfiles:!0,hand:t.hand})},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{idPrefix:"valve",controller:"right"===e.hand?1:"left"===e.hand?0:2,hand:e.hand,orientationOffset:e.orientationOffset}),this.loadModel()},loadModel:function(){var t=this.data;t.model&&this.el.setAttribute("gltf-model",""+u[t.hand])},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(t){var e,n=this.mapping.buttons[t.detail.id],r=this.buttonMeshes;n&&("trigger"===n&&(e=t.detail.state.value,r&&r.trigger&&(r.trigger.rotation.x=this.triggerOriginalRotationX-e*(Math.PI/40))),this.el.emit(n+"changed",t.detail.state))},onModelLoaded:function(t){var e,n=t.detail.model,r=this;this.data.model&&((e=this.buttonMeshes={}).grip={left:n.getObjectByName("leftgrip"),right:n.getObjectByName("rightgrip")},e.menu=n.getObjectByName("menubutton"),e.system=n.getObjectByName("systembutton"),e.trackpad=n.getObjectByName("touchpad"),e.trigger=n.getObjectByName("trigger"),this.triggerOriginalRotationX=e.trigger.rotation.x,Object.keys(e).forEach(function(t){r.setButtonColor(t,r.data.buttonColor)}),n.position.copy(f[this.data.hand]),n.rotation.copy(p[this.data.hand]),this.el.emit("controllermodelready",{name:"valve-index-controlls",model:this.data.model,rayOrigin:new o.Vector3(0,0,0)}))},onAxisMoved:function(t){l(this,this.mapping.axes,t)},updateModel:function(t,e){var n;this.data.model&&(-1!==e.indexOf("touch")||(n="up"===e?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(t,n)))},setButtonColor:function(t,e){}})},{"../core/component":131,"../lib/three":179,"../utils/":205,"../utils/bind":199,"../utils/tracked-controls":214}],118:[function(t,e,n){var r=t("../core/component").registerComponent;e.exports.Component=r("visible",{schema:{default:!0},update:)},{"../core/component":131}],119:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/bind"),o=t("../utils/tracked-controls"),a=o.checkControllerPresentAndSetup,s=o.emitIfAxesChanged,l=o.onButtonEvent,c=t("../utils/").device.isWebXRAvailable,u=c?"htc-vive-controller-mv":"OpenVR ",h=c?{axes:{thumbstick:[0,1]},buttons:["trigger","grip","trackpad","none","menu"]}:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger","grip","menu","system"]};e.exports.Component=r("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:h,init:function(){var t=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(e){l(e.detail.id,"down",t)},this.onButtonUp=function(e){l(e.detail.id,"up",t)},this.onButtonTouchEnd=function(e){l(e.detail.id,"touchend",t)},this.onButtonTouchStart=function(e){l(e.detail.id,"touchstart",t)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},update:function(){var t=this.data;this.controllerIndex="right"===t.hand?0:"left"===t.hand?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var t=this.data;a(this,u,{index:this.controllerIndex,hand:t.hand})},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{idPrefix:u,hand:e.hand,controller:this.controllerIndex,orientationOffset:e.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/vive/vr_controller_vive.obj",mtl:"https://cdn.aframe.io/controllers/vive/vr_controller_vive.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(t){var e,n=this.mapping.buttons[t.detail.id],r=this.buttonMeshes;n&&("trigger"===n&&(e=t.detail.state.value,r&&r.trigger&&(r.trigger.rotation.x=-e*(Math.PI/12))),this.el.emit(n+"changed",t.detail.state))},onModelLoaded:function(t){var e,n=t.detail.model,r=this;this.data.model&&((e=this.buttonMeshes={}).grip={left:n.getObjectByName("leftgrip"),right:n.getObjectByName("rightgrip")},e.menu=n.getObjectByName("menubutton"),e.system=n.getObjectByName("systembutton"),e.trackpad=n.getObjectByName("touchpad"),e.trigger=n.getObjectByName("trigger"),Object.keys(e).forEach(,n.position.set(0,-.015,.04))},onAxisMoved:function(t){s(this,this.mapping.axes,t)},updateModel:function(t,e){var n;this.data.model&&(-1!==e.indexOf("touch")||(n="up"===e?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(t,n)))},setButtonColor:function(t,e){var n=this.buttonMeshes,r=this.rendererSystem;if(n){if("grip"===t)return n.grip.left.material.color.set(e),n.grip.right.material.color.set(e),r.applyColorCorrection(n.grip.left.material.color),void r.applyColorCorrection(n.grip.right.material.color);n[t].material.color.set(e),r.applyColorCorrection(n[t].material.color)}}})},{"../core/component":131,"../utils/":205,"../utils/bind":199,"../utils/tracked-controls":214}],120:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/bind"),o=t("../utils/tracked-controls"),a=o.checkControllerPresentAndSetup,s=o.emitIfAxesChanged,l=o.onButtonEvent;e.exports.Component=r("vive-focus-controls",{schema:{hand:{default:""},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(e){l(e.detail.id,"down",t)},this.onButtonUp=function(e){l(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){l(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){l(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0,this.addControllersUpdateListener()},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1,this.removeControllersUpdateListener()},checkIfControllerPresent:function(){a(this,"HTC Vive Focus",this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{armModel:e.armModel,idPrefix:"HTC Vive Focus",orientationOffset:e.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model","https://cdn.aframe.io/controllers/vive/focus-controller/focus-controller.gltf")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&((e=this.buttonMeshes={}).trigger=n.getObjectByName("BumperKey"),e.triggerPressed=n.getObjectByName("BumperKey_Press"),e.triggerPressed&&(e.triggerPressed.visible=!1),e.trackpad=n.getObjectByName("TouchPad"),e.trackpadPressed=n.getObjectByName("TouchPad_Press"),e.trackpadPressed&&(e.trackpadPressed.visible=!1))},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&this.el.emit(e+"changed",t.detail.state)},onAxisMoved:function(t){s(this,this.mapping.axes,t)},updateModel:updateButtonModel:function(t,e){var n=this.buttonMeshes,r=t+"Pressed";if(n&&n[t]&&n[r]){var i;switch(e){case"down":i=this.data.buttonHighlightColor;break;case"touchstart":i=this.data.buttonTouchedColor}i&&n[r].material.color.set(i),n[r].visible=!!i,n[t].visible=!i}}})},{"../core/component":131,"../utils/bind":199,"../utils/tracked-controls":214}],121:[function(t,e,n){var r=t("../constants").keyboardevent.KEYCODE_TO_CODE,i=t("../core/component").registerComponent,o=t("../lib/three"),a=t("../utils/"),s=a.bind,l=a.shouldCaptureKeyEvent,c=["KeyW","KeyA","KeyS","KeyD","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"];e.exports.Component=i("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},init:function(){this.keys={},this.easing=1.1,this.velocity=new o.Vector3,this.onBlur=s(this.onBlur,this),this.onContextMenu=s(this.onContextMenu,this),this.onFocus=s(this.onFocus,this),this.onKeyDown=s(this.onKeyDown,this),this.onKeyUp=s(this.onKeyUp,this),this.onVisibilityChange=s(this.onVisibilityChange,this),this.attachVisibilityEventListeners()},tick:function(t,e){var n=this.data,r=this.el,i=this.velocity;(i[n.adAxis]||i[n.wsAxis]||!this.keys))&&(e/=1e3,this.updateVelocity(e),(i[n.adAxis]||i[n.wsAxis])&&r.object3D.position.add(this.getMovementVector(e)))},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:updateVelocity:function(t){var e,n,r,i,o,a=this.data,s=this.keys,l=this.velocity;if(n=a.adAxis,i=a.wsAxis,t>.2)return l[n]=0,void(l[i]=0);var c=Math.pow(1/this.easing,60*t);0!==l[n]&&(l[n]=l[n]*c),0!==l[i]&&(l[i]=l[i]*c),Math.abs(l[n])<1e-5&&(l[n]=0),Math.abs(l[i])<1e-5&&(l[i]=0),a.enabled&&(e=a.acceleration,a.adEnabled&&(r=a.adInverted?-1:1,(s.KeyA||s.ArrowLeft)&&(l[n]-=r*e*t),(s.KeyD||s.ArrowRight)&&(l[n]+=r*e*t)),a.wsEnabled&&(o=a.wsInverted?-1:1,(s.KeyW||s.ArrowUp)&&(l[i]-=o*e*t),(s.KeyS||s.ArrowDown)&&(l[i]+=o*e*t)))},getMovementVector:function(){var t=new o.Vector3(0,0,0),e=new o.Euler(0,0,0,"YXZ");return function(n){var r,i=this.el.getAttribute("rotation"),a=this.velocity;return t.copy(a),t.multiplyScalar(n),i?(r=this.data.fly?i.x:0,e.set(o.Math.degToRad(r),o.Math.degToRad(i.y),0),t.applyEuler(e),t):t}}(),attachVisibilityEventListeners:function(){window.oncontextmenu=this.onContextMenu,window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:onContextMenu:function(){for(var t=Object.keys(this.keys),e=0;e<t.length;e++)delete this.keys[t[e]]},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:onKeyDown:function(t){var e;l(t)&&(e=t.code||r[t.keyCode],-1!==c.indexOf(e)&&(this.keys[e]=!0))},onKeyUp:function(t){var e;e=t.code||r[t.keyCode],delete this.keys[e]}})},{"../constants":123,"../core/component":131,"../lib/three":179,"../utils/":205}],122:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/bind"),o=t("../utils/tracked-controls"),a=o.checkControllerPresentAndSetup,s=o.emitIfAxesChanged,l=o.onButtonEvent,c=t("../utils/"),u=c.debug("components:windows-motion-controls:debug"),h=c.debug("components:windows-motion-controls:warn"),d=t("../constants").DEFAULT_HANDEDNESS,p={left:"left.glb",right:"right.glb",default:"universal.glb"},f=t("../utils/").device.isWebXRAvailable,m=/([0-9a-zA-Z]+-[0-9a-zA-Z]+)$/,v=f?"windows-mixed-reality":"Spatial Controller (Spatial Interaction Source) ",g=f?{axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick","menu"],axisMeshNames:["TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_X","THUMBSTICK_X","THUMBSTICK_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",squeeze:"GRASP",thumbstick:"THUMBSTICK_PRESS",touchpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"}:{axes:{thumbstick:[0,1],trackpad:[2,3]},buttons:["thumbstick","trigger","grip","menu","trackpad"],axisMeshNames:["THUMBSTICK_X","THUMBSTICK_Y","TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",grip:"GRASP",thumbstick:"THUMBSTICK_PRESS",trackpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"};e.exports.Component=r("windows-motion-controls",{schema:{hand:{default:d},pair:{default:0},model:{default:!0},hideDisconnected:{default:!0}},mapping:g,bindMethods:function(){this.onModelError=i(this.onModelError,this),this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var t=this,e=this.el;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(e){l(e.detail.id,"down",t)},this.onButtonUp=function(e){l(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){l(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=this.onControllerConnected=function(){t.setModelVisibility(!0)},this.onControllerDisconnected=this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.loadedMeshInfo={buttonMeshes:null,axisMeshes:null},this.rayOrigin={origin:new THREE.Vector3,direction:new THREE.Vector3(0,0,-1),createdFromMesh:!1},e.addEventListener("controllerconnected",this.onControllerConnected),e.addEventListener("controllerdisconnected",this.onControllerDisconnected)},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("axismove",this.onAxisMoved),t.addEventListener("model-error",this.onModelError),t.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("axismove",this.onAxisMoved),t.removeEventListener("model-error",this.onModelError),t.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){a(this,v,{hand:this.data.hand,index:this.data.pair,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:updateControllerModel:function(){if(this.data.model&&!this.rayOrigin.createdFromMesh){var t=this.createControllerModelUrl();this.loadModel(t)}else this.modelReady()},createControllerModelUrl:function(t){var e=this.el.components["tracked-controls"],n=e?e.controller:null,r="default",i=this.data.hand;if(n&&!window.hasNativeWebXRImplementation&&(i=n.hand,!t)){var o=n.id.match(m);r=o&&o[0]||r}return"https://cdn.aframe.io/controllers/microsoft/"+r+"/"+(p[i]||p.default)},injectTrackedControls:function(){var t=this.data;this.el.setAttribute("tracked-controls",{idPrefix:v,controller:t.pair,hand:t.hand,armModel:!1}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:onControllersUpdate:function(){this.checkIfControllerPresent()},onModelError:function(t){var e=this.createControllerModelUrl(!0);t.detail.src!==e?(h("Failed to load controller model for device, attempting to load default."),this.loadModel(e)):h("Failed to load default controller model.")},loadModel:onModelLoaded:function(t){var e,n,r,i,o=this.controllerModel=t.detail.model,a=this.loadedMeshInfo;if(u("Processing model"),a.buttonMeshes={},a.axisMeshes={},o){for(e=0;e<this.mapping.buttons.length;e++)(n=this.mapping.buttonMeshNames[this.mapping.buttons[e]])?(r=o.getObjectByName(n))?(i={index:e,value:s(r,"VALUE"),pressed:s(r,"PRESSED"),unpressed:s(r,"UNPRESSED")}).value&&i.pressed&&i.unpressed?a.buttonMeshes[this.mapping.buttons[e]]=i:h("Missing button submesh under mesh with name: "+n+"(VALUE: "+!!i.value+", PRESSED: "+!!i.pressed+", UNPRESSED:"+!!i.unpressed+")"):h("Missing button mesh with name: "+n):u("Skipping unknown button at index: "+e+" with mapped name: "+this.mapping.buttons[e]);for(e=0;e<this.mapping.axisMeshNames.length;e++)(n=this.mapping.axisMeshNames[e])?(r=o.getObjectByName(n))?(i={index:e,value:s(r,"VALUE"),min:s(r,"MIN"),max:s(r,"MAX")}).value&&i.min&&i.max?a.axisMeshes[e]=i:h("Missing axis submesh under mesh with name: "+n+"(VALUE: "+!!i.value+", MIN: "+!!i.min+", MAX:"+!!i.max+")"):h("Missing axis mesh with name: "+n):u("Skipping unknown axis at index: "+e);this.calculateRayOriginFromMesh(o),this.setModelVisibility()}function s(t,e){for(var n=0,r=t.children.length;n<r;n++){var i=t.children[n];if(i&&i.name===e)return i}}u("Model load complete.")},calculateRayOriginFromMesh:function(){var t=new THREE.Quaternion;return function(e){var n;if(this.rayOrigin.origin.set(0,0,0),this.rayOrigin.direction.set(0,0,-1),this.rayOrigin.createdFromMesh=!0,n=e.getObjectByName(this.mapping.pointingPoseMeshName)){var r=e.parent;r&&(e.parent=null,e.updateMatrixWorld(!0),e.parent=r),n.getWorldPosition(this.rayOrigin.origin),n.getWorldQuaternion(t),this.rayOrigin.direction.applyQuaternion(t),r&&e.updateMatrixWorld(!0)}else u("Mesh does not contain pointing origin data, defaulting to none.");this.modelReady()}}(),lerpAxisTransform:function(){var t=new THREE.Quaternion;return function(e,n){var r=this.loadedMeshInfo.axisMeshes[e];if(r){var i=r.min,o=r.max,a=r.value,s=.5*n+.5;a.setRotationFromQuaternion(t.copy(i.quaternion).slerp(o.quaternion,s)),a.position.lerpVectors(i.position,o.position,s)}}}(),lerpButtonTransform:function(){var t=new THREE.Quaternion;return function(e,n){var r=this.loadedMeshInfo.buttonMeshes[e];if(r){var i=r.unpressed,o=r.pressed,a=r.value;a.setRotationFromQuaternion(t.copy(i.quaternion).slerp(o.quaternion,n)),a.position.lerpVectors(i.position,o.position,n)}}}(),modelReady:function(){this.el.emit("controllermodelready",{name:"windows-motion-controls",model:this.data.model,rayOrigin:this.rayOrigin})},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&(this.loadedMeshInfo&&this.loadedMeshInfo.buttonMeshes&&this.lerpButtonTransform(e,t.detail.state.value),this.el.emit(e+"changed",t.detail.state))},onAxisMoved:function(t){var e=this.mapping.axisMeshNames.length;if(this.loadedMeshInfo&&this.loadedMeshInfo.axisMeshes)for(var n=0;n<e;n++)this.lerpAxisTransform(n,t.detail.axis[n]||0);s(this,this.mapping.axes,t)},setModelVisibility:function(t){var e=this.el.getObject3D("mesh");t=void 0!==t?t:this.modelVisible,this.modelVisible=t,e&&(e.visible=t)}})},{"../constants":123,"../core/component":131,"../utils/":205,"../utils/bind":199,"../utils/tracked-controls":214}],123:[function(t,e,n){e.exports={AFRAME_INJECTED:"aframe-injected",DEFAULT_CAMERA_HEIGHT:1.6,DEFAULT_HANDEDNESS:"right",keyboardevent:t("./keyboardevent")}},{"./keyboardevent":124}],124:[function(t,e,n){e.exports={KEYCODE_TO_CODE:{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}}},{}],125:[function(t,e,n){var r=t("./a-node"),i=t("../utils/bind"),o=t("../utils/debug"),a=t("./a-register-element").registerElement,s=t("../lib/three"),l=new s.FileLoader,c=o("core:a-assets:warn");function u(t){if(t.hasAttribute("autoplay")||"auto"===t.getAttribute("preload"))return new Promise(function(e,n){if(4===t.readyState)return e();if(t.error)return n();function r(){for(var n=0,r=0;r<t.buffered.length;r++)n+=t.buffered.end(r)-t.buffered.start(r);n>=t.duration&&("VIDEO"===t.tagName&&(s.Cache.files[t.getAttribute("src")]=t),e())}t.addEventListener("loadeddata",r,!1),t.addEventListener("progress",r,!1),t.addEventListener("error",n,!1)})}function h(t){var e=function(t){var e;if(t.hasAttribute("crossorigin"))return t;if(null!==(e=t.getAttribute("src"))){if(-1===e.indexOf("://"))return t;if(function(t){var e=t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0];return e.substring(0,e.indexOf(":"))}(e)===window.location.host)return t}return c('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set. Please set `crossorigin` on the element (e.g., <img crossorigin="anonymous">)',e),t.crossOrigin="anonymous",t.cloneNode(!0)}(t);return e.tagName&&"video"===e.tagName.toLowerCase()&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline","")),e!==t&&(t.parentNode.appendChild(e),t.parentNode.removeChild(t)),e}function d(t){var e=p(t),n=e.lastIndexOf(".");if(n>=0){var r=e.slice(n,t.search(/\?|#|$/));if(".glb"===r)return"arraybuffer"}return"text"}function p(t){var e=document.createElement("a");e.href=t;var n=e.search.replace(/^\?/,""),r=t.replace(n,"").replace("?","");return r.substring(r.lastIndexOf("/")+1)}e.exports=a("a-assets",{prototype:Object.create(r.prototype,{createdCallback:{value:function(){this.isAssets=!0,this.fileLoader=l,this.timeout=null}},attachedCallback:{value:function(){var t,e,n,r,o,a,l=this,d=[];if(!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for(o=this.querySelectorAll("img"),t=0;t<o.length;t++)r=h(o[t]),d.push(new Promise(function(e,n){s.Cache.files[o[t].getAttribute("src")]=r,r.onload=e,r.onerror=n}));for(n=this.querySelectorAll("audio, video"),t=0;t<n.length;t++)(e=h(n[t])).src||e.srcObject||c("Audio/video asset has neither `src` nor `srcObject` attributes."),d.push(u(e));Promise.all(d).then(i(this.load,this)),a=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout(function(){l.hasLoaded||(c("Asset loading timed out in ",a,"ms"),l.emit("timeout"),l.load())},a)}},detachedCallback:{value:,load:{value:function(){r.prototype.load.call(this,null,}}})}),a("a-asset-item",{prototype:Object.create(r.prototype,{createdCallback:{value:,attachedCallback:{value:function(){var t=this,e=this.getAttribute("src");l.setResponseType(this.getAttribute("response-type")||d(e)),l.load(e,function(e){t.data=e,setTimeout(},}}})}),e.exports.inferResponseType=d,e.exports.getFileNameFromURL=p},{"../lib/three":179,"../utils/bind":199,"../utils/debug":201,"./a-node":129,"./a-register-element":130}],126:[function(t,e,n){var r=t("../utils/debug"),i=t("./a-register-element").registerElement,o=r("core:cubemap:warn");e.exports=i("a-cubemap",{prototype:Object.create(window.HTMLElement.prototype,{attachedCallback:{value:writable:window.debug},validate:{value:function(){var t,e=this.querySelectorAll("[src]"),n=[];if(6===e.length){for(t=0;t<e.length;t++)n.push(e[t].getAttribute("src"));return n}o("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")},writable:window.debug}})})},{"../utils/debug":201,"./a-register-element":130}],127:[function(t,e,n){var r,i=t("./a-node"),o=t("./component").components,a=t("./a-register-element").registerElement,s=t("../lib/three"),l=t("../utils/"),c=l.debug("core:a-entity:debug"),u=l.debug("core:a-entity:warn"),h="__",d=["position","rotation","scale","visible"],p={once:!0},f=Object.create(i.prototype,{createdCallback:{value:function(){this.components={},this.initializingComponents={},this.componentsToUpdate={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new s.Group,this.object3D.el=this,this.object3DMap={},this.parentEl=null,this.rotationObj={},this.states=[]}},attributeChangedCallback:{value:function(t,e,n){var r=this.components[t];r&&r.justInitialized&&""===n?delete r.justInitialized:(r||null!==n)&&this.setEntityAttribute(t,e,n)}},attachedCallback:{value:function(){var t,e=this.sceneEl,n=this;this.addToParent(),this.isScene||(e?!(t=e.querySelector("a-assets"))||t.hasLoaded?this.load():t.addEventListener("loaded",function(){n.load()}):this.load())}},detachedCallback:{value:function(){var t;if(this.parentEl){for(t in this.components)this.removeComponent(t,!1);this.isScene||(this.removeFromParent(),i.prototype.detachedCallback.call(this),this.object3D.el=null)}}},getObject3D:{value:function(t){return this.object3DMap[t]}},setObject3D:{value:function(t,e){var n,r=this;if(!(e instanceof s.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");(n=this.getObject3D(t))&&this.object3D.remove(n),e.el=this,e.children.length&&e.traverse(function(t){t.el=r}),this.object3D.add(e),this.object3DMap[t]=e,this.emit("object3dset",{object:e,type:t})}},removeObject3D:{value:function(t){var e=this.getObject3D(t);e?(this.object3D.remove(e),delete this.object3DMap[t],this.emit("object3dremove",{type:t})):u("Tried to remove `Object3D` of type:",t,"which was not defined.")}},getOrCreateObject3D:{value:function(t,e){var n=this.getObject3D(t);return!n&&e&&(n=new e,this.setObject3D(t,n)),u("`getOrCreateObject3D` has been deprecated. Use `setObject3D()` and `object3dset` event instead."),n}},add:{value:function(t){if(!t.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(t.object3D),this.emit("child-attached",{el:t})}},addToParent:{value:function(){var t=this.parentEl=this.parentNode;t&&t.add&&!this.attachedToParent&&(t.add(this),this.attachedToParent=!0)}},removeFromParent:{value:function(){var t=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=null,t.emit("child-detached",{el:this})}},load:{value:function(){var t=this;!this.hasLoaded&&this.parentEl&&i.prototype.load.call(this,function(){t.parentEl&&(t.updateComponents(),(t.isScene||t.parentEl.isPlaying)&&t.play())})},writable:window.debug},remove:{value:function(t){t?this.object3D.remove(t.object3D):this.parentNode.removeChild(this)}},getChildEntities:{value:function(){for(var t=this.children,e=[],n=0;n<t.length;n++){var i=t[n];i instanceof r&&e.push(i)}return e}},initComponent:{value:function(t,e,n){var r,i,a,s;if(a=l.split(t,h),s=a[0],i=a.length>2?a.slice(1).join("__"):a[1],o[s]&&(m(this,t)||void 0!==e||n)&&!(t in this.components)){if(this.initComponentDependencies(s),i&&!o[s].multiple)throw new Error("Trying to initialize multiple components of type `"+s+"`. There can only be one component of this type per entity.");r=new o[s].Component(this,e,i),this.isPlaying&&r.play(),this.hasAttribute(t)||(r.justInitialized=!0,window.HTMLElement.prototype.setAttribute.call(this,t,"")),c("Component initialized: %s",t)}},writable:window.debug},initComponentDependencies:{value:function(t){var e,n,r=o[t];if(r&&(e=o[t].dependencies))for(n=0;n<e.length;n++)this.initComponent(e[n],window.HTMLElement.prototype.getAttribute.call(this,e[n])||void 0,!0)}},removeComponent:{value:function(t,e){var n;(n=this.components[t])&&(n.initialized?(n.pause(),n.remove(),e&&(n.destroy(),delete this.components[t]),this.emit("componentremoved",n.evtDetail,!1)):this.addEventListener("componentinitialized",function n(r){r.detail.name===t&&(this.removeComponent(t,e),this.removeEventListener("componentinitialized",n))}))},writable:window.debug},updateComponents:{value:function(){var t,e,n,r,i,o,a=this.componentsToUpdate;if(this.hasLoaded){for(n=0;n<this.mixinEls.length;n++)for(r in this.mixinEls[n].componentCache)v(r)&&(a[r]=!0);if(this.getExtraComponents)for(r in e=this.getExtraComponents())v(r)&&(a[r]=!0);for(n=0;n<this.attributes.length;++n)r=this.attributes[n].name,-1===d.indexOf(r)&&v(r)&&(a[r]=!0);for(n=0;n<d.length;n++)r=d[n],this.hasAttribute(r)&&this.updateComponent(r,this.getDOMAttribute(r));for(r in a)i=this.getDOMAttribute(r),o=e&&e[r],t=o?o.constructor===Object?l.extend(o,l.styleParser.parse(i||{})):i||o:i,this.updateComponent(r,t),delete a[r]}},writable:window.debug},updateComponent:{value:function(t,e,n){var r=this.components[t];if(r)return null!==e||m(this,t)?void r.updateProperties(e,n):void this.removeComponent(t,!0);this.initComponent(t,e,!1)}},removeAttribute:{value:function(t,e){var n=this.components[t];n&&void 0===e&&this.removeComponent(t,!0),n&&void 0!==e?n.resetProperty(e):("mixin"===t&&this.mixinUpdate(""),window.HTMLElement.prototype.removeAttribute.call(this,t))}},play:{value:function(){var t,e,n;if(!this.isPlaying&&this.hasLoaded){for(n in this.isPlaying=!0,this.components)this.components[n].play();for(t=this.getChildEntities(),e=0;e<t.length;e++)t[e].play();this.emit("play")}},writable:!0},pause:{value:function(){var t,e,n;if(this.isPlaying){for(n in this.isPlaying=!1,this.components)this.components[n].pause();for(t=this.getChildEntities(),e=0;e<t.length;e++)t[e].pause();this.emit("pause")}},writable:!0},setEntityAttribute:{value:function(t,e,n){if(o[t]||this.components[t])this.updateComponent(t,n);else if("mixin"===t){if(n===this.computedMixinStr)return;this.mixinUpdate(n,e)}}},mixinUpdate:{value:function(){var t=[];return function(e,n){var r,i,o,a,s=this;if(this.hasLoaded){for(n=n||this.getAttribute("mixin"),o=this.updateMixins(e,n),t.length=0,a=0;a<this.mixinEls.length;a++)for(r in this.mixinEls[a].componentCache)-1===t.indexOf(r)&&(this.components[r]?this.components[r].handleMixinUpdate():this.initComponent(r,null),t.push(r));for(a=0;a<o.oldMixinIds.length;a++)if(i=document.getElementById(o.oldMixinIds[a]))for(r in i.componentCache)-1===t.indexOf(r)&&this.components[r]&&(this.getDOMAttribute(r)?this.components[r].handleMixinUpdate():this.removeComponent(r,!0))}else this.addEventListener("loaded",p)}}()},setAttribute:{value:function(){var t={};return function(e,n,r){var a,s,c,u,d;if(u=e.indexOf(h),c=u>0?e.substring(0,u):e,!o[c])return"mixin"===e&&this.mixinUpdate(n),void i.prototype.setAttribute.call(this,e,n);if(!this.components[e]&&this.hasAttribute(e)&&this.updateComponent(e,window.HTMLElement.prototype.getAttribute.call(this,e)),"undefined"!==typeof r&&"string"===typeof n&&n.length>0&&"string"===typeof l.styleParser.parse(n)){for(d in t)delete t[d];(a=t)[n]=r,s=!1}else a=n,s=!0===r;this.updateComponent(e,a,s),this.sceneEl&&this.sceneEl.getAttribute("debug")&&this.components[e].flushToDOM()}}(),writable:window.debug},flushToDOM:{value:function(t){var e,n,r,i=this.components,o=this.children;for(r in i)i[r].flushToDOM();if(t)for(n=0;n<o.length;++n)(e=o[n]).flushToDOM&&e.flushToDOM(t)}},getAttribute:{value:function(t){var e;return"position"===t?this.object3D.position:"rotation"===t?function(t){var e=s.Math.radToDeg,n=t.object3D.rotation,r=t.rotationObj;return r.x=e(n.x),r.y=e(n.y),r.z=e(n.z),r}(this):"scale"===t?this.object3D.scale:"visible"===t?this.object3D.visible:(e=this.components[t])?e.data:window.HTMLElement.prototype.getAttribute.call(this,t)},writable:window.debug},getDOMAttribute:{value:function(t){var e=this.components[t];return e?e.attrValue:window.HTMLElement.prototype.getAttribute.call(this,t)},writable:window.debug},addState:{value:function(t){this.is(t)||(this.states.push(t),this.emit("stateadded",t))}},removeState:{value:function(t){var e=this.states.indexOf(t);-1!==e&&(this.states.splice(e,1),this.emit("stateremoved",t))}},is:{value:,inspect:{value:,destroy:{value:function(){var t;if(this.parentNode)u("Entity can only be destroyed if detached from scenegraph.");else for(t in this.components)this.components[t].destroy()}}});function m(t,e){return!(!t.components[e]||!t.components[e].attrValue)||function(t,e){var n,r=!1;for(n=0;n<e.length&&!(r=e[n].hasAttribute(t));++n);return r}(e,t.mixinEls)}function v(t){return-1!==t.indexOf(h)&&(t=l.split(t,h)[0]),!!o[t]}r=a("a-entity",{prototype:f}),e.exports=r},{"../lib/three":179,"../utils/":205,"./a-node":129,"./a-register-element":130,"./component":131}],128:[function(t,e,n){var r=t("./a-node"),i=t("./a-register-element").registerElement,o=t("./component").components,a=t("../utils");e.exports=i("a-mixin",{prototype:Object.create(r.prototype,{createdCallback:{value:function(){this.componentCache={},this.id=this.getAttribute("id"),this.isMixin=!0}},attributeChangedCallback:{value:,attachedCallback:{value:,setAttribute:{value:function(t,e){window.HTMLElement.prototype.setAttribute.call(this,t,e),this.cacheAttribute(t,e)}},cacheAttribute:{value:function(t,e){var n,r;r=a.split(t,"__")[0],(n=o[r])&&(void 0===e&&(e=window.HTMLElement.prototype.getAttribute.call(this,t)),this.componentCache[t]=n.parseAttrValueForCache(e))}},getAttribute:{value:function(t){return this.componentCache[t]||window.HTMLElement.prototype.getAttribute.call(this,t)}},cacheAttributes:{value:function(){var t,e,n=this.attributes;for(e=0;e<n.length;e++)t=n[e].name,this.cacheAttribute(t)}},updateEntities:{value:function(){var t,e,n;if(this.sceneEl)for(e=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),n=0;n<e.length;n++)(t=e[n]).hasLoaded&&!t.isMixin&&t.mixinUpdate(this.id)}}})})},{"../utils":205,"./a-node":129,"./a-register-element":130,"./component":131}],129:[function(t,e,n){var r=t("./a-register-element").registerElement,i=t("./a-register-element").isNode,o=t("../utils/"),a=o.debug("core:a-node:warn"),s=o.debug("core:a-node:error");e.exports=r("a-node",{prototype:Object.create(window.HTMLElement.prototype,{createdCallback:{value:writable:window.debug},attachedCallback:{value:function(){var t;this.sceneEl=this.closestScene(),this.sceneEl||a("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.isMixin||(t=this.getAttribute("mixin"))&&this.updateMixins(t)},writable:window.debug},attributeChangedCallback:{value:function(t,e,n){n!==this.computedMixinStr&&("mixin"!==t||this.isMixin||this.updateMixins(n,e))}},closestScene:{value:function(){for(var t=this;t&&!t.isScene;)t=t.parentElement;return t}},closest:{value:function(t){for(var e=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,n=this;n&&!e.call(n,t);)n=n.parentElement;return n}},detachedCallback:{value:function(){this.hasLoaded=!1}},load:{value:function(t,e){var n,r,o=this;this.hasLoaded||(e=e||i,n=this.getChildren(),r=n.filter(e).map(function(t){return new Promise(function(e){if(t.hasLoaded)return e();t.addEventListener("loaded",e)})}),Promise.all(r).then(function(){o.hasLoaded=!0,t&&t(),o.emit("loaded",void 0,!1)}).catch(function(t){s("Failure loading node: ",t)}))},writable:!0},getChildren:{value:,updateMixins:{value:function(){var t=[],e=[],n={};return function(r,i){var a,s,l;for(t.length=0,e.length=0,s=r?o.split(r.trim(),/\s+/):t,l=i?o.split(i.trim(),/\s+/):e,n.newMixinIds=s,n.oldMixinIds=l,a=0;a<l.length;a++)-1===s.indexOf(l[a])&&this.unregisterMixin(l[a]);for(this.computedMixinStr="",this.mixinEls.length=0,a=0;a<s.length;a++)this.registerMixin(document.getElementById(s[a]));return this.computedMixinStr&&(this.computedMixinStr=this.computedMixinStr.trim(),window.HTMLElement.prototype.setAttribute.call(this,"mixin",this.computedMixinStr)),n}}()},registerMixin:{value:function(t){var e,n,r;if(t){if(r=t.getAttribute("mixin"))for(e=o.split(r.trim(),/\s+/),n=0;n<e.length;n++)this.registerMixin(document.getElementById(e[n]));this.computedMixinStr=this.computedMixinStr+" "+t.id,this.mixinEls.push(t)}}},setAttribute:{value:function(t,e){"mixin"===t&&this.updateMixins(e),window.HTMLElement.prototype.setAttribute.call(this,t,e)}},unregisterMixin:{value:function(t){var e,n,r=this.mixinEls;for(e=0;e<r.length;++e)if(n=r[e],t===n.id){r.splice(e,1);break}}},emit:{value:function(){var t={};return function(e,n,r,i){void 0===r&&(r=!0),t.bubbles=!!r,t.detail=n,i&&(t=o.extend({},i,t)),this.dispatchEvent(new CustomEvent(e,t))}}(),writable:window.debug}})})},{"../utils/":205,"./a-register-element":130}],130:[function(t,e,n){var r,i;t("document-register-element");var o=e.exports.knownTags={};function a(t,e,n,r){e.forEach(function(e){!function(t,e,n,r){var i=n[e],o=r[e];i&&o&&i!==o&&(t[e]={value:writable:window.debug})}(t,e,n,r)})}function s(t,e){var n=Object.getOwnPropertyNames(t);n.forEach(function(n){var r;e[n]||(r=Object.getOwnPropertyDescriptor(t,n),e[n]={value:t[n],writable:r.writable})})}e.exports.isNode=function(t){return t.tagName.toLowerCase()in o||t.isNode},e.exports.registerElement=function(t,e){var n=Object.getPrototypeOf(e.prototype),l=e,c=r&&n===r.prototype,u=i&&n===i.prototype;return(c||u)&&t),c&&(l=function(t){var e={};return a(e,["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"],t,r.prototype),s(t,e),e}(e.prototype),l={prototype:Object.create(n,l)}),u&&(l=function(t){var e={};return a(e,["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"],t,r.prototype),a(e,["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"],t,i.prototype),s(t,e),e}(e.prototype),l={prototype:Object.create(n,l)}),Object.getOwnPropertyNames(l.prototype).forEach(function(t){var e=l.prototype[t];"function"===typeof e&&(e.displayName=t)}),document.registerElement(t,l)},e.exports.wrapMethods=a,r=t("./a-node"),i=t("./a-entity")},{"./a-entity":127,"./a-node":129,"document-register-element":12}],131:[function(t,e,n){var r=t("./schema"),i=t("./scene/scenes"),o=t("./system"),a=t("../utils/"),s=e.exports.components={},l=r.parseProperties,c=r.parseProperty,u=r.process,h=r.isSingleProperty,d=r.stringifyProperties,p=r.stringifyProperty,f=a.styleParser,m=a.debug("core:component:warn"),v=document.currentScript,g=new RegExp("[A-Z]+"),y={},b=e.exports.Component=function(t,e,n){var r=this;this.el=t,this.id=n,this.attrName=this.name+(n?"__"+n:""),this.evtDetail={id:this.id,name:this.name},this.initialized=!1,this.isSingleProperty=h(this.schema),this.isSinglePropertyObject=this.isSingleProperty&&_(c(void 0,this.schema))&&!(this.schema.default instanceof window.HTMLElement),this.isObjectBased=!this.isSingleProperty||this.isSinglePropertyObject,this.el.components[this.attrName]=this,this.objectPool=y[this.name];var i=this.events;this.events={},function(t,e){var n;for(n in e)t.events[n]=e[n].bind(t)}(this,i),this.attrValue=void 0,this.isObjectBased?(this.nextData=this.objectPool.use(),a.objectPool.removeUnusedKeys(this.nextData,this.schema),this.oldData=this.objectPool.use(),a.objectPool.removeUnusedKeys(this.oldData,this.schema),this.previousOldData=this.objectPool.use(),a.objectPool.removeUnusedKeys(this.previousOldData,this.schema),this.parsingAttrValue=this.objectPool.use(),a.objectPool.removeUnusedKeys(this.parsingAttrValue,this.schema)):(this.nextData=void 0,this.oldData=void 0,this.previousOldData=void 0,this.parsingAttrValue=void 0),this.throttledEmitComponentChanged=a.throttle(200),this.updateProperties(e)};if(b.prototype={schema:{},init:function(){},events:{},update:function(t){},updateSchema:void 0,tick:void 0,tock:void 0,play:function(){},pause:function(){},remove:function(){},parse:function(t,e){var n=this.schema;return this.isSingleProperty?c(t,n):l(f.parse(t),n,!0,this.name,e)},stringify:function(t){var e=this.schema;return"string"===typeof t?t:this.isSingleProperty?p(t,e):(t=d(t,e),f.stringify(t))},updateCachedAttrValue:function(t,e){var n,r,i;if(void 0!==t){if(null===t)return this.isObjectBased&&this.attrValue&&this.objectPool.recycle(this.attrValue),void(this.attrValue=void 0);if(t instanceof Object&&!(t instanceof window.HTMLElement)?(r=this.objectPool.use(),n=a.extend(r,t)):n=this.parseAttrValueForCache(t),this.isObjectBased&&!e&&this.attrValue)for(i in this.attrValue)void 0===n[i]&&(n[i]=this.attrValue[i]);this.isObjectBased&&!this.attrValue&&(this.attrValue=this.objectPool.use()),a.objectPool.clearObject(this.attrValue),this.attrValue=A(this.attrValue,n,this.isObjectBased),a.objectPool.clearObject(r)}},parseAttrValueForCache:function(t){var e;return"string"!==typeof t?t:(this.isSingleProperty?"string"===typeof(e=this.schema.parse(t))&&(e=t):(a.objectPool.clearObject(this.parsingAttrValue),e=f.parse(t,this.parsingAttrValue)),e)},flushToDOM:function(t){var e=t?this.data:this.attrValue;null!==e&&void 0!==e&&window.HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(e))},updateProperties:function(t,e){var n=this.el;n.hasLoaded?(null!==t&&(t=this.parseAttrValueForCache(t)),this.updateCachedAttrValue(t,e),this.initialized?(this.updateComponent(t,e),this.callUpdateHandler()):this.initComponent()):this.updateCachedAttrValue(t)},initComponent:function(){var t,e=this.el;this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!1,!0)),this.data=this.buildData(this.attrValue),e.initializingComponents[this.name]||(e.initializingComponents[this.name]=!0,this.init(),this.initialized=!0,delete e.initializingComponents[this.name],this.oldData=A(this.oldData,this.data,this.isObjectBased),t=this.isObjectBased?this.objectPool.use():void 0,this.update(t),this.isObjectBased&&this.objectPool.recycle(t),e.isPlaying&&this.play(),e.emit("componentinitialized",this.evtDetail,!1))},updateComponent:function(t,e){var n,r;if(e)return this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!0,!0)),void(this.data=this.buildData(this.attrValue,!0,!1));if(this.isSingleProperty)return this.isObjectBased&&c(t,this.schema),void(this.data=t);if(l(t,this.schema,!0,this.name),this.schemaChangeKeys.length)for(n in t)if(this.schema[n].schemaChange){r=!0;break}if(r)return this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!0,!0)),void(this.data=this.buildData(this.attrValue,!0,!1));for(n in t)void 0!==t[n]&&(this.data[n]=t[n])},callUpdateHandler:function(){var t;this.previousOldData instanceof Object&&a.objectPool.clearObject(this.previousOldData),this.isObjectBased?w(this.previousOldData,this.oldData):this.previousOldData=this.oldData,t=!a.deepEqual(this.oldData,this.data),(this.isPositionRotationScale||t)&&(this.oldData instanceof Object&&a.objectPool.clearObject(this.oldData),this.oldData=A(this.oldData,this.data,this.isObjectBased),this.update(this.previousOldData),this.throttledEmitComponentChanged())},handleMixinUpdate:resetProperty:function(t){if(this.isObjectBased){if(!(t in this.attrValue))return;delete this.attrValue[t],this.data[t]=this.schema[t].default}else this.attrValue=this.schema.default,this.data=this.schema.default;this.updateProperties(this.attrValue)},extendSchema:function(t){var e;e=a.extend({},s[this.name].schema),a.extend(e,t),this.schema=u(e),this.el.emit("schemachanged",this.evtDetail)},buildData:function(t,e,n){var r,i,o,s,u,h,d,p=this.nextData,f=this.schema,m=this.el.mixinEls;if(r=t&&t.constructor===Array?t.length:void 0!==t&&null!==t,this.isObjectBased&&a.objectPool.clearObject(p),this.isSingleProperty)i=this.isObjectBased?w(p,f.default):T(f.default)?a.clone(f.default):f.default;else for(s in d=!e&&this.attrValue,i=d instanceof Object?w(p,d):p,f)o=f[s].default,void 0===i[s]&&(i[s]=T(o)?a.clone(o):o);for(h=0;h<m.length;h++)(u=m[h].getAttribute(this.attrName))&&(i=A(i,u,this.isObjectBased));if(r){if(this.isSingleProperty)return _(t)?(w(this.parsingAttrValue,t),c(this.parsingAttrValue,f)):c(t,f);i=A(i,t,this.isObjectBased)}else if(this.isSingleProperty)return c(i,f);return l(i,f,void 0,this.name,n)},eventsAttach:function(){var t;for(t in this.eventsDetach(),this.events)this.el.addEventListener(t,this.events[t])},eventsDetach:destroy:function(){this.objectPool.recycle(this.attrValue),this.objectPool.recycle(this.oldData),this.objectPool.recycle(this.parsingAttrValue),this.attrValue=this.oldData=this.parsingAttrValue=void 0}},window.debug)var x=e.exports.registrationOrderWarnings={};function w(t,e){var n,r;for(r in e)void 0!==e[r]&&(n=e[r],t[r]=T(n)?a.clone(n):n);return t}function A(t,e,n){var r;if(n&&e.constructor===Object){for(r in e)void 0!==e[r]&&(e[r]&&e[r].constructor===Object?t[r]=a.clone(e[r]):t[r]=e[r]);return t}return e}unction _(t){return t&&t.constructor===Object&&!(t instanceof window.HTMLElement)}function T(t){return t&&(t.constructor===Object||t.constructor===Array)&&!(t instanceof window.HTMLElement)}e.exports.registerComponent=function(t,e){var n,r,l,c,d,p,f={};if(document.currentScript&&document.currentScript!==v&&i.forEach(function(e){e.hasLoaded||document.currentScript.compareDocumentPosition(e)!==Node.DOCUMENT_POSITION_FOLLOWING&&(m("The component `"+t+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&(x[t]=!0))}),!0===g.test(t)&&m("The component name `"+t+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+t.toLowerCase()+"`"),-1!==t.indexOf("__"))throw new Error("The component name `"+t+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(e).forEach(function(t){f[t]={value:e[t],writable:!0}}),s[t])throw new Error("The component `"+t+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");if(((n=.prototype=Object.create(b.prototype,f)).name=t,n.prototype.isPositionRotationScale="position"===t||"rotation"===t||"scale"===t,n.prototype.constructor=n,n.prototype.system=o&&o.systems[t],n.prototype.play=(d=n.prototype.play,function(){var t=this.el.sceneEl,e=this.el.isPlaying&&!this.isPlaying;this.initialized&&e&&(d.call(this),this.isPlaying=!0,this.eventsAttach(),E(this)&&t.addBehavior(this))}),n.prototype.pause=(p=n.prototype.pause,function(){var t=this.el.sceneEl;this.isPlaying&&(p.call(this),this.isPlaying=!1,this.eventsDetach(),E(this)&&t.removeBehavior(this))}),l=a.extend(u(n.prototype.schema,n.prototype.name)),!(c=h(n.prototype.schema)))for(r in n.prototype.schemaChangeKeys=[],l)l[r].schemaChange&&n.prototype.schemaChangeKeys.push(r);return y[t]=a.objectPool.createPool(),s[t]={Component:n,dependencies:n.prototype.dependencies,isSingleProp:c,multiple:n.prototype.multiple,name:t,parse:n.prototype.parse,parseAttrValueForCache:n.prototype.parseAttrValueForCache,schema:l,stringify:n.prototype.stringify,type:n.prototype.type},n}},{"../utils/":205,"./scene/scenes":138,"./schema":140,"./system":142}],132:[function(t,e,n){var r=t("./schema"),i=r.process,o=e.exports.geometries={},a=e.exports.geometryNames=[],s=t("../lib/three"),l=e.exports.Geometry=function(){};l.prototype={schema:{},init:function(t){return this.geometry=new s.BufferGeometry,this.geometry},update:function(t){}},e.exports.registerGeometry=function(t,e){var n,r={};if(Object.keys(e).forEach(function(t){r[t]={value:e[t],writable:!0}}),o[t])throw new Error("The geometry `"+t+"` has been already registered");return((n=function(){l.call(this)}).prototype=Object.create(l.prototype,r)).name=t,n.prototype.constructor=n,o[t]={Geometry:n,schema:i(n.prototype.schema)},a.push(t),n}},{"../lib/three":179,"./schema":140}],133:[function(t,e,n){var r=t("../utils/coordinates"),i=t("debug"),o=i("core:propertyTypes:warn"),a=i("core:propertyTypes:warn"),s=e.exports.propertyTypes={},l=/[,> .[\]:]/,c=/\url\((.+)\)/;function u(t,e,n,r){"type"in s?o("Property type "+t+" is already registered."):s[t]={default:e,parse:n||d,stringify:r||p}}function h(t){var e,n;return"string"!==typeof t?t:(n=t.match(c))?n[1]:"#"===t.charAt(0)?(e=document.getElementById(t.substring(1)))?"CANVAS"===e.tagName||"VIDEO"===e.tagName||"IMG"===e.tagName?e:e.getAttribute("src"):void a('"'+t+'" asset not found.'):t}function d(t){return t}function p(t){return null===t?"null":t.toString()}function f(t){return parseInt(t,10)}function m(t){return r.parse(t,this.default)}function v(t,e){if(null===t)return!0;if("object"!==typeof t)return!1;if(Object.keys(t).length!==e)return!1;var n=t.x,r=t.y,i=t.z,o=t.w;return"number"===typeof n&&"number"===typeof r&&!(e>2&&"number"!==typeof i)&&!(e>3&&"number"!==typeof o)}u("audio","",h),u("array",[],function(t){return Array.isArray(t)?t:t&&"string"===typeof t?t.split(",").map(function(t){return t.trim()}):[]},function(t){return t.join(", ")}),u("asset","",h),u("boolean",!1,function(t){return"false"!==t&&!1!==t}),u("color","#FFF",d,p),u("int",0,f),u("number",0,function(t){return parseFloat(t,10)}),u("map","",h),u("model","",h),u("selector",null,function(t){return t?"string"!==typeof t?t:"#"!==t[0]||l.test(t)?document.querySelector(t):document.getElementById(t.substring(1)):null},function(t){return t.getAttribute?"#"+t.getAttribute("id"):p(t)}),u("selectorAll",null,function(t){return t?"string"!==typeof t?t:Array.prototype.slice.call(document.querySelectorAll(t),0):null},function(t){return t instanceof Array?t.map(.join(", "):p(t)}),u("src","",function(t){return a("`src` property type is deprecated. Use `asset` instead."),h(t)}),u("string","",d,p),u("time",0,f),u("vec2",{x:0,y:0},m,r.stringify),u("vec3",{x:0,y:0,z:0},m,r.stringify),u("vec4",{x:0,y:0,z:0,w:1},m,r.stringify),e.exports.registerPropertyType=u,e.exports.isValidDefaultValue=function(t,e){return("audio"!==t||"string"===typeof e)&&!("array"===t&&!Array.isArray(e))&&("asset"!==t||"string"===typeof e)&&("boolean"!==t||"boolean"===typeof e)&&("color"!==t||"string"===typeof e)&&("int"!==t||"number"===typeof e)&&("number"!==t||"number"===typeof e)&&("map"!==t||"string"===typeof e)&&("model"!==t||"string"===typeof e)&&("selector"!==t||"string"===typeof e||null===e)&&("selectorAll"!==t||"string"===typeof e||null===e)&&("src"!==t||"string"===typeof e)&&("string"!==t||"string"===typeof e)&&("time"!==t||"number"===typeof e)&&("vec2"===t?v(e,2):"vec3"===t?v(e,3):"vec4"!==t||v(e,4))},e.exports.isValidDefaultCoordinate=v},{"../utils/coordinates":200,debug:8}],134:[function(t,e,n){var r=t("./metaTags").inject,i=t("./wakelock"),o=t("./loadingScreen"),a=t("../a-register-element"),s=t("./scenes"),l=t("../system").systems,c=t("../../lib/three"),u=t("../../utils/"),h=t("../a-entity"),d=t("../a-node"),p=t("./postMessage"),f=u.bind,m=u.device.isIOS(),v=u.device.isMobile(),g=u.device.isWebXRAvailable,y=a.registerElement,b=u.debug("core:a-scene:warn");function x(t,e,n,r){return t.parentElement?e?{height:t.parentElement.offsetHeight,width:t.parentElement.offsetWidth}:function(t,e){var n,r,i=window.devicePixelRatio;return r={height:document.body.offsetHeight,width:document.body.offsetWidth},!t||e||-1===t.width&&-1===t.height?r:r.width*i<t.width&&r.height*i<t.height?r:(n=r.width/r.height,r.width*i>t.width&&-1!==t.width&&(r.width=Math.round(t.width/i),r.height=Math.round(t.width/n/i)),r.height*i>t.height&&-1!==t.height&&(r.height=Math.round(t.height/i),r.width=Math.round(t.height*n/i)),r)}(n,r):{height:0,width:0}}function w(t){var e;function n(){var e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;e||t.exitVR(),document.activeElement.blur(),document.body.focus()}(e=document.createElement("canvas")).classList.add("a-canvas"),e.dataset.aframeCanvas=!0,t.appendChild(e),document.addEventListener("fullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),document.addEventListener("MSFullscreenChange",n),e.addEventListener("touchmove",function(t){t.preventDefault()}),t.canvas=e,t.emit("render-target-loaded",{target:e}),setTimeout(f(t.resize,t),0)}m&&t("../../utils/ios-orientationchange-blank-bug"),e.exports.AScene=y("a-scene",{prototype:Object.create(h.prototype,{createdCallback:{value:function(){this.clock=new c.Clock,this.isIOS=m,this.isMobile=v,this.hasWebXR=g,this.isAR=!1,this.isScene=!0,this.object3D=new c.Scene;var t=this;this.object3D.onAfterRender=function(e,n,r){t.isPlaying&&t.tock(t.time,t.delta,r)},this.resize=f(this.resize,this),this.render=f(this.render,this),this.systems={},this.systemNames=[],this.time=this.delta=0,this.behaviors={tick:[],tock:[]},this.hasLoaded=!1,this.isPlaying=!1,this.originalHTML=this.innerHTML,this.setAttribute("inspector",""),this.setAttribute("keyboard-shortcuts",""),this.setAttribute("screenshot",""),this.setAttribute("vr-mode-ui",""),this.setAttribute("device-orientation-permission-ui","")}},addFullScreenStyles:{value:function(){document.documentElement.classList.add("a-fullscreen")}},removeFullScreenStyles:{value:,attachedCallback:{value:function(){var t=this,e=this.hasAttribute("embedded");w(this),this.setupRenderer(),o.setup(this,x),this.resize(),e||this.addFullScreenStyles(),p(this),r(this),i(this),this.onVRPresentChangeBound=f(this.onVRPresentChange,this),window.addEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),this.enterVRBound=function(){t.enterVR()},this.exitVRBound=function(){t.exitVR()},this.exitVRTrueBound=function(){t.exitVR(!0)},this.pointerRestrictedBound=function(){t.pointerRestricted()},this.pointerUnrestrictedBound=function(){t.pointerUnrestricted()},g||(window.addEventListener("vrdisplaydeactivate",this.exitVRBound),window.addEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.addEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.addEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)),window.addEventListener("sessionend",this.resize),this.addEventListener("cameraready",function(){t.attachedCallbackPostCamera()}),this.initSystems(),this.hasWebXR&&navigator.xr&&navigator.xr.addEventListener&&navigator.xr.addEventListener("sessiongranted",function(){t.enterVR()})}},attachedCallbackPostCamera:{value:function(){var t=this;window.addEventListener("load",void 0),window.addEventListener("resize",,this.play(),s.push(this)},writable:window.debug},initSystems:{value:function(){var t;for(t in this.initSystem("camera"),l)"camera"!==t&&this.initSystem(t)}},initSystem:{value:function(t){this.systems[t]||(this.systems[t]=new l[t](this),this.systemNames.push(t))}},detachedCallback:{value:function(){var t=s.indexOf(this);s.splice(t,1),window.removeEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),window.removeEventListener("vrdisplayactivate",this.enterVRBound),window.removeEventListener("vrdisplaydeactivate",this.exitVRBound),window.removeEventListener("vrdisplayconnect",this.enterVRBound),window.removeEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.removeEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.removeEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound),window.removeEventListener("sessionend",this.resize),this.renderer.xr.dispose()}},addBehavior:{value:function(t){var e,n,r=this.behaviors;for(n in r)t[n]&&-1===(e=this.behaviors[n]).indexOf(t)&&e.push(t)}},getPointerLockElement:{value:function(){return document.pointerLockElement},writable:window.debug},checkHeadsetConnected:{value:u.device.checkHeadsetConnected,writable:window.debug},enterAR:{value:function(){var t;if(!this.hasWebXR)throw t="Failed to enter AR mode, WebXR not supported.",new Error(t);if(!u.device.checkARSupport())throw t="Failed to enter AR, WebXR immersive-ar mode not supported in your browser or device.",new Error(t);return this.enterVR(!0)}},enterVR:{value:function(t){var e,n,r=this,i=r.renderer.xr;if(this.is("vr-mode"))return Promise.resolve("Already in VR.");if(this.checkHeadsetConnected()||this.isMobile){if(i.enabled=!0,this.hasWebXR){this.xrSession&&this.xrSession.removeEventListener("end",this.exitVRBound);var o=this.sceneEl.systems.webxr.sessionReferenceSpaceType;i.setReferenceSpaceType(o);var a=t?"immersive-ar":"immersive-vr";return n=this.sceneEl.systems.webxr.sessionConfiguration,new Promise(function(t,e){navigator.xr.requestSession(a,n).then(function(e){r.xrSession=e,i.layersEnabled=-1!==n.requiredFeatures.indexOf("layers"),i.setSession(e),e.addEventListener("end",r.exitVRBound),c(t)},function(t){var e="immersive-ar"===a,n=e?"AR":"VR";throw new Error("Failed to enter "+n+" mode (`requestSession`) "+t)})})}if(e=u.device.getVRDisplay(),i.setDevice(e),e.isPresenting&&!window.hasNativeWebVRImplementation)return c(),Promise.resolve();var s=this.getAttribute("renderer"),l={highRefreshRate:s.highRefreshRate,foveationLevel:s.foveationLevel};return e.requestPresent([{source:this.canvas,attributes:l}]).then(c,function(t){throw r.removeState("vr-mode"),t&&t.message?new Error("Failed to enter VR mode (`requestPresent`): "+t.message):new Error("Failed to enter VR mode (`requestPresent`).")})}return c(),Promise.resolve();function c(e){var n,i;window.hasNativeWebVRImplementation&&!window.hasNativeWebXRImplementation&&(n=new CustomEvent("vrdisplaypresentchange",{detail:{display:u.device.getVRDisplay()}}),window.dispatchEvent(n)),t?r.addState("ar-mode"):r.addState("vr-mode"),r.emit("enter-vr",{target:r}),!g&&r.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),r.addFullScreenStyles(),r.isMobile||r.checkHeadsetConnected()||((i=r.canvas).requestFullscreen||i.webkitRequestFullscreen||i.mozRequestFullScreen||i.msRequestFullscreen).apply(i,[{navigationUI:"hide"}]),r.renderer.setAnimationLoop(r.render),r.resize(),e&&e()}},writable:!0},exitVR:{value:function(){var t,e=this,n=this.renderer.xr;if(!this.is("vr-mode")&&!this.is("ar-mode"))return Promise.resolve("Not in immersive mode.");if(this.checkHeadsetConnected()||this.isMobile){if(n.enabled=!1,t=u.device.getVRDisplay(),this.hasWebXR)this.xrSession.removeEventListener("end",this.exitVRBound),this.xrSession.end().then(function(){},function(){}),this.xrSession=void 0,n.setSession(null);else if(t.isPresenting)return t.exitPresent().then(r,function(t){throw t&&t.message?new Error("Failed to exit VR mode (`exitPresent`): "+t.message):new Error("Failed to exit VR mode (`exitPresent`).")})}else(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen());return r(),Promise.resolve();function r(){e.removeState("vr-mode"),e.removeState("ar-mode"),e.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),e.hasAttribute("embedded")&&e.removeFullScreenStyles(),e.resize(),e.isIOS&&u.forceCanvasResizeSafariMobile(e.canvas),e.renderer.setPixelRatio(window.devicePixelRatio),e.emit("exit-vr",{target:e})}},writable:!0},pointerRestricted:{value:function(){if(this.canvas){var t=this.getPointerLockElement();t&&t!==this.canvas&&document.exitPointerLock&&document.exitPointerLock(),this.canvas.requestPointerLock&&this.canvas.requestPointerLock()}}},pointerUnrestricted:{value:function(){var t=this.getPointerLockElement();t&&t===this.canvas&&document.exitPointerLock&&document.exitPointerLock()}},onVRPresentChange:{value:function(t){var e=t.display||t.detail.display;e&&e.isPresenting?this.enterVR():this.exitVR()}},getAttribute:{value:function(t){var e=this.systems[t];return e?e.data:h.prototype.getAttribute.call(this,t)}},getComputedAttribute:{value:,getDOMAttribute:{value:function(t){var e=this.systems[t];return e?e.data:h.prototype.getDOMAttribute.call(this,t)}},setAttribute:{value:function(t,e,n){var r=this.systems[t];if(r)return d.prototype.setAttribute.call(this,t,e),void r.updateProperties(e);h.prototype.setAttribute.call(this,t,e,n)}},removeBehavior:{value:function(t){var e,n,r,i=this.behaviors;for(n in i)t[n]&&(e=this.behaviors[n],-1!==(r=e.indexOf(t))&&e.splice(r,1))}},resize:{value:function(){var t,e,n,r=this.camera,i=this.canvas,o=this.renderer.xr.isPresenting;e=this.renderer.xr.enabled&&o,!r||!i||this.is("vr-mode")&&(this.isMobile||e)||(t=this.getAttribute("embedded")&&!this.is("vr-mode"),n=x(i,t,this.maxCanvasSize,this.is("vr-mode")),r.aspect=n.width/n.height,r.updateProjectionMatrix(),this.renderer.setSize(n.width,n.height,!1),this.emit("rendererresize",null,!1))},writable:!0},setupRenderer:{value:function(){var t,e,n,r,i=this;r={alpha:!0,antialias:!v,canvas:this.canvas,logarithmicDepthBuffer:!1,powerPreference:"high-performance"},this.maxCanvasSize={height:1920,width:1920},this.hasAttribute("renderer")&&(n=this.getAttribute("renderer"),(e=u.styleParser.parse(n)).precision&&(r.precision=e.precision+"p"),e.antialias&&"auto"!==e.antialias&&(r.antialias="true"===e.antialias),e.logarithmicDepthBuffer&&"auto"!==e.logarithmicDepthBuffer&&(r.logarithmicDepthBuffer="true"===e.logarithmicDepthBuffer),e.alpha&&(r.alpha="true"===e.alpha),this.maxCanvasSize={width:e.maxCanvasWidth?parseInt(e.maxCanvasWidth):this.maxCanvasSize.width,height:e.maxCanvasHeight?parseInt(e.maxCanvasHeight):this.maxCanvasSize.height}),(t=this.renderer=new c.WebGLRenderer(r)).setPixelRatio(window.devicePixelRatio),t.sortObjects=!1,this.camera&&t.xr.setPoseTarget(this.camera.el.object3D),this.addEventListener("camera-set-active",},writable:window.debug},play:{value:function(){var t=this,e=this;this.renderStarted?h.prototype.play.call(this):(this.addEventListener("loaded",function(){var t,n=this.renderer,r=this.renderer.xr;h.prototype.play.call(this),e.renderStarted||(e.resize(),e.renderer&&(window.performance&&window.performance.mark("render-started"),o.remove(),(t=u.device.getVRDisplay())&&t.isPresenting&&(r.setDevice(t),r.enabled=!0,e.enterVR()),n.setAnimationLoop(this.render),e.renderStarted=!0,e.emit("renderstart")))}),setTimeout(function(){h.prototype.load.call(t)}))}},updateComponent:{value:function(t){t in l||h.prototype.updateComponent.apply(this,arguments)}},tick:{value:function(t,e){var n,r=this.systems;for(n=0;n<this.behaviors.tick.length;n++)this.behaviors.tick[n].el.isPlaying&&this.behaviors.tick[n].tick(t,e);for(n=0;n<this.systemNames.length;n++)r[this.systemNames[n]].tick&&r[this.systemNames[n]].tick(t,e)}},tock:{value:function(t,e,n){var r,i=this.systems;for(r=0;r<this.behaviors.tock.length;r++)this.behaviors.tock[r].el.isPlaying&&this.behaviors.tock[r].tock(t,e,n);for(r=0;r<this.systemNames.length;r++)i[this.systemNames[r]].tock&&i[this.systemNames[r]].tock(t,e,n)}},render:{value:function(t,e){var n=this.renderer;this.frame=e,this.delta=1e3*this.clock.getDelta(),this.time=1e3*this.clock.elapsedTime,this.isPlaying&&this.tick(this.time,this.delta);var r=null;this.is("ar-mode")&&(r=this.object3D.background,this.object3D.background=null),n.render(this.object3D,this.camera),r&&(this.object3D.background=r)},writable:!0}})}),e.exports.setupCanvas=w},{"../../lib/three":179,"../../utils/":205,"../../utils/ios-orientationchange-blank-bug":206,"../a-entity":127,"../a-node":129,"../a-register-element":130,"../system":142,"./loadingScreen":135,"./metaTags":136,"./postMessage":137,"./scenes":138,"./wakelock":139}],135:[function(t,e,n){var r,i,o,a=t("../../utils/"),s=a.styleParser,l="a-loader-title";function c(t){var e=r.hasAttribute("embedded"),n=o(r.canvas,e,r.maxCanvasSize,r.is("vr-mode"));t.aspect=n.width/n.height,t.updateProjectionMatrix(),r.renderer.setSize(n.width,n.height,!1)}e.exports.setup=function(t,e){o=e;var n,a,u,h,d,p,f,m,v,g,y=(r=t).hasAttribute("loading-screen")?s.parse(r.getAttribute("loading-screen")):void 0,b=y&&y.dotsColor||"white",x=y&&y.backgroundColor||"#24CAFF",w=void 0===y||"true"===y.enabled||void 0===y.enabled;w&&(n=new THREE.Scene,a=new THREE.SphereGeometry(.2,36,18,0,2*Math.PI,0,Math.PI),u=new THREE.MeshBasicMaterial({color:b}),h=new THREE.Mesh(a,u),d=h.clone(),p=h.clone(),f=new THREE.PerspectiveCamera(80,window.innerWidth/window.innerHeight,5e-4,1e4),m=new THREE.Clock,v=0,g=function(){r.renderer.render(n,f),v=m.getElapsedTime()%4,h.visible=v>=1,d.visible=v>=2,p.visible=v>=3},n.background=new THREE.Color(x),n.add(f),h.position.set(-1,0,-15),d.position.set(0,0,-15),p.position.set(1,0,-15),f.add(h),f.add(d),f.add(p),(i=document.createElement("div")).className=l,i.innerHTML=document.title,i.style.display="none",r.appendChild(i),setTimeout(function(){r.hasLoaded||(c(f),i.style.display="block",window.addEventListener("resize",function(){c(f)}),r.renderer.setAnimationLoop(g))},200))},e.exports.remove=function(){window.removeEventListener("resize",c),i&&(i.style.display="none")}},{"../../utils/":205}],136:[function(t,e,n){var r,i=t("../../constants/"),o=t("../../utils").extend,a=e.exports.MOBILE_HEAD_TAGS=[l({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover"}),l({name:"mobile-web-app-capable",content:"yes"}),l({name:"theme-color",content:"black"})],s=[l({name:"apple-mobile-web-app-capable",content:"yes"}),l({name:"apple-mobile-web-app-status-bar-style",content:"black"}),(r={rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"},{tagName:"link",attributes:r,exists:function(){return document.querySelector('link[rel="'+r.rel+'"]')}})];function l(t){return{tagName:"meta",attributes:t,exists:}e.exports.inject=function(t){var e,n=document.head,r=n.querySelector("script"),l=[];return a.forEach(c),t.isIOS&&s.forEach(c),l;function c(t){t&&!t.exists()&&(e=function(t){if(t&&t.tagName){var e=document.createElement(t.tagName);return e.setAttribute(i.AFRAME_INJECTED,""),o(e,t.attributes)}}(t))&&(r?r.parentNode.insertBefore(e,r):n.appendChild(e),l.push(e))}}},{"../../constants/":123,"../../utils":205}],137:[function(t,e,n){var r=t("../../utils/bind"),i=t("../../utils/").isIframed;function o(t){if(t.data)switch(t.data.type){case"vr":switch(t.data.data){case"enter":this.enterVR();break;case"exit":this.exitVR()}}}e.exports=function(t){i()&&window.addEventListener("message",r(o,t))}},{"../../utils/":205,"../../utils/bind":199}],138:[function(t,e,n){e.exports=[]},{}],139:[function(t,e,n){var r=t("../../../vendor/wakelock/wakelock");e.exports=function(t){if(t.isMobile){var e=t.wakelock=new r;t.addEventListener("enter-vr",function(){e.request()}),t.addEventListener("exit-vr",function(){e.release()})}}},{"../../../vendor/wakelock/wakelock":220}],140:[function(t,e,n){var r=t("../utils/"),i=t("./propertyTypes"),o=r.debug,a=i.isValidDefaultValue,s=i.propertyTypes,l=o("core:schema:warn");function c(t){return"type"in t?"string"===typeof t.type:"default"in t}function u(t,e){var n,r,i=t.default,o=t.type;return t.type?"bool"===t.type?o="boolean":"float"===t.type&&(o="number"):o=void 0===i||"boolean"!==typeof i&&"number"!==typeof i?Array.isArray(i)?"array":"string":typeof i,(r=s[o])||l("Unknown property type for component `"+e+"`: "+o),n=!!t.parse,t.parse=t.parse||r.parse,t.stringify=t.stringify||r.stringify,t.type=o,"default"in t?n||a(o,i)||l("Default value `"+i+"` does not match type `"+o+"` in component `"+e+"`"):t.default=r.default,t}function h(t,e){return void 0!==t&&null!==t&&""!==t||(t=e.default,Array.isArray(t)&&(t=t.slice())),e.parse(t,e.default)}function d(t,e){return"object"!==typeof t?t:e&&null!==t?e.stringify(t):JSON.stringify(t)}e.exports.isSingleProperty=c,e.exports.process=function(t,e){var n;if(c(t))return u(t,e);for(n in t)t[n]=u(t[n],e);return t},e.exports.processPropertyDefinition=u,e.exports.parseProperties=function(){var t=[];return function(e,n,r,i,o){var a,s,c,u;for(s in t.length=0,r?e:n)r&&void 0===e[s]||t.push(s);if(null===e||"object"!==typeof e)return e;for(s in e)void 0===e[s]||n[s]||o||l("Unknown property `"+s+"` for component/system `"+i+"`.");for(a=0;a<t.length;a++){if(s=t[a],c=n[s],u=e[s],!n[s])return;e[s]=h(u,c)}return e}}(),e.exports.parseProperty=h,e.exports.stringifyProperties=function(t,e){var n,r,i,o,a={};for(n in t)r=e[n],i=t[n],"object"===typeof(o=i)&&(o=d(i,r),r||l("Unknown component property: "+n)),a[n]=o;return a},e.exports.stringifyProperty=d},{"../utils/":205,"./propertyTypes":133}],141:[function(t,e,n){var r=t("./schema"),i=r.process,o=e.exports.shaders={},a=e.exports.shaderNames=[],s=t("../lib/three"),l=t("../utils"),c={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},u=e.exports.Shader=function(){};u.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(t){return this.attributes=this.initVariables(t,"attribute"),this.uniforms=this.initVariables(t,"uniform"),this.material=new(this.raw?s.RawShaderMaterial:s.ShaderMaterial)({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initVariables:function(t,e){var n,r,i=this.schema,o={};for(n in i)i[n].is===e&&(r=c[i[n].type],o[n]={type:r,value:void 0});return o},update:updateVariables:function(t,e){var n,r,i,o=this.schema;for(n in i="uniform"===e?this.uniforms:this.attributes,t)if(o[n]&&o[n].is===e)if("map"!==o[n].type)i[n].value=this.parseValue(o[n].type,t[n]),i[n].needsUpdate=!0;else{if(!i[n]||i[n].value===t[n])continue;r="_texture_"+n,this.setMapOnTextureLoad(i,n,r),l.material.updateMapMaterialFromData(r,n,this,t)}},parseValue:function(t,e){var n;switch(t){case"vec2":return new s.Vector2(e.x,e.y);case"vec3":return new s.Vector3(e.x,e.y,e.z);case"vec4":return new s.Vector4(e.x,e.y,e.z,e.w);case"color":return n=new s.Color(e),new s.Vector3(n.r,n.g,n.b);case"map":return s.ImageUtils.loadTexture(e);default:return e}},setMapOnTextureLoad:function(t,e,n){var r=this;this.el.addEventListener("materialtextureloaded",function(){t[e].value=r.material[n],t[e].needsUpdate=!0})}},e.exports.registerShader=function(t,e){var n,r={};if(Object.keys(e).forEach(function(t){r[t]={value:e[t],writable:!0}}),o[t])throw new Error("The shader "+t+" has been already registered");return((n=.prototype=Object.create(u.prototype,r)).name=t,n.prototype.constructor=n,o[t]={Shader:n,schema:i(n.prototype.schema)},a.push(t),n}},{"../lib/three":179,"../utils":205,"./schema":140}],142:[function(t,e,n){var r=t("./component"),i=t("./schema"),o=t("../utils/"),a=i.parseProperties,s=i.parseProperty,l=i.process,c=i.isSingleProperty,u=o.styleParser,h=e.exports.systems={},d=e.exports.System=function(t){var e=r&&r.components[this.name];this.el=t,this.sceneEl=t,e&&(e.Component.prototype.system=this),this.buildData(),this.init(),this.update({})};d.prototype={schema:{},init:function(){},update:function(t){},updateProperties:function(t){var e=this.data;Object.keys(i).length&&(this.buildData(t),this.update(e))},buildData:function(t){var e=this.schema;Object.keys(e).length&&(t=t||window.HTMLElement.prototype.getAttribute.call(this.sceneEl,this.name),c(e)?this.data=s(t,e):this.data=a(u.parse(t)||{},e))},tick:void 0,tock:void 0,play:function(){},pause:function(){}},e.exports.registerSystem=function(t,e){var n,r,i={},a=o.findAllScenes(document);if(Object.keys(e).forEach(,h[t])throw new Error("The system `"+t+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");for(((r=.prototype=Object.create(d.prototype,i)).name=t,r.prototype.constructor=r,r.prototype.schema=o.extend(l(r.prototype.schema)),h[t]=r,n=0;n<a.length;n++)a[n].initSystem(t)}},{"../utils/":205,"./component":131,"./schema":140}],143:[{"./pivot":144}],144:[function(t,e,n){var r=t("../../core/component").registerComponent,i=t("../../lib/three"),o=new i.Vector3,a=new i.Vector3;r("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var t=this.data,e=this.el,n=e.object3D.parent,r=e.object3D,s=new i.Group;o.copy(r.position),a.copy(r.rotation),n.remove(r),s.add(r),n.add(s),e.object3D=s,r.position.set(-1*t.x,-1*t.y,-1*t.z),s.position.set(t.x+o.x,t.y+o.y,t.z+o.z),s.rotation.copy(r.rotation),r.rotation.set(0,0,0)}})},{"../../core/component":131,"../../lib/three":179}],145:[function(t,e,n){var r=t("../../core/component").components,i=t("../../core/shader").shaders,o=t("../../utils/"),a={};function s(t){var e=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();"fog"===t&&(e="material-fog"),"visible"===t&&(e="material-visible"),a[e]="material."+t}Object.keys(r.material.schema).forEach(s),Object.keys(i.standard.schema).forEach(s),e.exports=function(){return{defaultComponents:{material:{}},mappings:o.extend({},a)}}},{"../../core/component":131,"../../core/shader":141,"../../utils/":205}],146:[function(t,e,n){t("./primitives/a-camera"),t("./primitives/a-cursor"),t("./primitives/a-curvedimage"),t("./primitives/a-gltf-model"),t("./primitives/a-image"),t("./primitives/a-light"),t("./primitives/a-link"),t("./primitives/a-obj-model"),t("./primitives/a-sky"),t("./primitives/a-sound"),t("./primitives/a-text"),t("./primitives/a-video"),t("./primitives/a-videosphere"),t("./primitives/meshPrimitives")},{"./primitives/a-camera":148,"./primitives/a-cursor":149,"./primitives/a-curvedimage":150,"./primitives/a-gltf-model":151,"./primitives/a-image":152,"./primitives/a-light":153,"./primitives/a-link":154,"./primitives/a-obj-model":155,"./primitives/a-sky":156,"./primitives/a-sound":157,"./primitives/a-text":158,"./primitives/a-video":159,"./primitives/a-videosphere":160,"./primitives/meshPrimitives":161}],147:[function(t,e,n){var r=t("../../core/a-entity"),i=t("../../core/component").components,o=t("../../core/a-register-element").registerElement,a=t("../../utils/"),s=a.debug,l=a.entity.setComponentProperty,c=s("extras:primitives:debug"),u=s("extras:primitives:warn"),h=e.exports.primitives={};e.exports.registerPrimitive=function(t,e){t=t.toLowerCase(),c("Registering <%s>",t),e.defaultAttributes&&u("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var n=o(t,{prototype:Object.create(r.prototype,{defaultComponentsFromPrimitive:{value:e.defaultComponents||e.defaultAttributes||{}},deprecated:{value:e.deprecated||null},deprecatedMappings:{value:e.deprecatedMappings||{}},mappings:{value:e.mappings||{}},createdCallback:{value:function(){e.deprecated&&console.warn(e.deprecated),this.resolveMappingCollisions()}},resolveMappingCollisions:{value:function(){var t=this.mappings,e=this;Object.keys(t).forEach(function(n){var r;n!==n.toLowerCase()&&u("Mapping keys should be specified in lower case. The mapping key "+n+" may not be recognized"),i[n]&&(r=t[n].replace(".","-"),t[r]=t[n],delete t[n],console.warn("The primitive "+e.tagName.toLowerCase()+" has a mapping collision. The attribute "+n+" has the same name as a registered component and has been renamed to "+r))})}},getExtraComponents:{value:function(){var t,e,n,r,i,o,s=this;for(e=a.clone(this.defaultComponentsFromPrimitive),(i=this.getAttribute("mixin"))&&(i=i.trim().split(" ")).forEach(function(t){var n=s.sceneEl.querySelector("#"+t).componentCache;Object.keys(n).forEach(function(t){var r,i;e[t]=(r=e[t],i=n[t],l(r)?c(i):l(i)?c(r):u(r)&&u(i)?a.extendDeep(r,i):c(i))})}),n=0;n<this.attributes.length;n++)t=this.attributes[n],(r=this.mappings[t.name])&&((o=a.entity.getComponentPropertyPath(r)).constructor===Array?(e[o[0]]=e[o[0]]||{},e[o[0]][o[1]]=t.value.trim()):e[o]=t.value.trim());return e;function l(t){return"undefined"===typeof t}function c(t){return u(t)?a.extendDeep({},t):t}function u(t){return null!==t&&t.constructor===Object}}},attributeChangedCallback:{value:function(t,e,n){var r=this.mappings[t];t in this.deprecatedMappings&&console.warn(this.deprecatedMappings[t]),t&&r&&l(this,r,n)}}})});return h[t]=n,n},e.exports.definePrimitive=function(t,n,r){r=r||{},Object.keys(n).map(function(t){!function(t,e){var n=i[t].schema;Object.keys(n).map(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();void 0!==e[r]&&(r=t+"-"+n),e[r]=t+"."+n})}(t,r)}),e.exports.registerPrimitive(t,a.extendDeep({},null,{defaultComponents:n,mappings:r}))}},{"../../core/a-entity":127,"../../core/a-register-element":130,"../../core/component":131,"../../utils/":205}],148:[function(t,e,n){var r=t("../primitives").registerPrimitive;r("a-camera",{defaultComponents:{camera:{},"look-controls":{},"wasd-controls":{},position:{x:0,y:1.6,z:0}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","pointer-lock-enabled":"look-controls.pointerLockEnabled","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag",zoom:"camera.zoom"}})},{"../primitives":147}],149:[function(t,e,n){var r=t("../getMeshMixin"),i=t("../primitives").registerPrimitive,o=t("../../../utils/");i("a-cursor",o.extendDeep({},r(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:32},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1}},mappings:{far:"raycaster.far",fuse:"cursor.fuse","fuse-timeout":"cursor.fuseTimeout",interval:"raycaster.interval",objects:"raycaster.objects"}}))},{"../../../utils/":205,"../getMeshMixin":145,"../primitives":147}],150:[function(t,e,n){var r=t("../getMeshMixin"),i=t("../primitives").registerPrimitive,o=t("../../../utils/");i("a-curvedimage",o.extendDeep({},r(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}}))},{"../../../utils/":205,"../getMeshMixin":145,"../primitives":147}],151:[function(t,e,n){var r=t("../primitives").registerPrimitive;r("a-gltf-model",{mappings:{src:"gltf-model"}})},{"../primitives":147}],152:[function(t,e,n){var r=t("../getMeshMixin"),i=t("../primitives").registerPrimitive,o=t("../../../utils/");i("a-image",o.extendDeep({},r(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},{"../../../utils/":205,"../getMeshMixin":145,"../primitives":147}],153:[function(t,e,n){var r=t("../primitives").registerPrimitive;r("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target"}})},{"../primitives":147}],154:[function(t,e,n){var r=t("../primitives").registerPrimitive;r("a-link",{defaultComponents:{link:{visualAspectEnabled:!0}},mappings:{href:"link.href",image:"link.image",title:"link.title"}})},{"../primitives":147}],155:[function(t,e,n){var r=t("../getMeshMixin")(),i=t("../primitives").registerPrimitive,o=t("../../../utils/");i("a-obj-model",o.extendDeep({},r,{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}))},{"../../../utils/":205,"../getMeshMixin":145,"../primitives":147}],156:[function(t,e,n){var r=t("../getMeshMixin"),i=t("../primitives").registerPrimitive,o=t("../../../utils/"),a=t("./meshPrimitives");i("a-sky",o.extendDeep({},r(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",side:"back",shader:"flat",npot:!0},scale:"-1 1 1"},mappings:o.extendDeep({},a["a-sphere"].prototype.mappings)}))},{"../../../utils/":205,"../getMeshMixin":145,"../primitives":147,"./meshPrimitives":161}],157:[function(t,e,n){var r=t("../primitives").registerPrimitive;r("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}})},{"../primitives":147}],158:[function(t,e,n){var r=t("../primitives").definePrimitive;r("a-text",{text:{anchor:"align",width:5}})},{"../primitives":147}],159:[function(t,e,n){var r=t("../getMeshMixin"),i=t("../primitives").registerPrimitive,o=t("../../../utils/");i("a-video",o.extendDeep({},r(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},{"../../../utils/":205,"../getMeshMixin":145,"../primitives":147}],160:[function(t,e,n){var r=t("../getMeshMixin"),i=t("../primitives").registerPrimitive,o=t("../../../utils/");i("a-videosphere",o.extendDeep({},r(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",shader:"flat",side:"back",npot:!0},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}))},{"../../../utils/":205,"../getMeshMixin":145,"../primitives":147}],161:[function(t,e,n){var r=t("../getMeshMixin"),i=t("../../../core/geometry").geometries,o=t("../../../core/geometry").geometryNames,a=t("../primitives").registerPrimitive,s=t("../../../utils/"),l=e.exports={};.forEach(function(t){var e=i[t],n=c(t),o={};Object.keys(e.schema).forEach(function(t){o[c(t)]="geometry."+t});var u="a-"+n,h=a(u,s.extendDeep({},r(),{defaultComponents:{geometry:{primitive:t}},mappings:o}));l[u]=h})},{"../../../core/geometry":132,"../../../utils/":205,"../getMeshMixin":145,"../primitives":147}],162:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three");r("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(t){this.geometry=new i.BoxGeometry(t.width,t.height,t.depth,t.segmentsWidth,t.segmentsHeight,t.segmentsDepth)}})},{"../core/geometry":132,"../lib/three":179}],163:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three"),o=i.Math.degToRad;r("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(t){this.geometry=new i.CircleGeometry(t.radius,t.segments,o(t.thetaStart),o(t.thetaLength))}})},{"../core/geometry":132,"../lib/three":179}],164:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three"),o=i.Math.degToRad;r("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.01,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(t){this.geometry=new i.CylinderGeometry(t.radiusTop,t.radiusBottom,t.height,t.segmentsRadial,t.segmentsHeight,t.openEnded,o(t.thetaStart),o(t.thetaLength))}})},{"../core/geometry":132,"../lib/three":179}],165:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three"),o=i.Math.degToRad;r("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(t){this.geometry=new i.CylinderGeometry(t.radius,t.radius,t.height,t.segmentsRadial,t.segmentsHeight,t.openEnded,o(t.thetaStart),o(t.thetaLength))}})},{"../core/geometry":132,"../lib/three":179}],166:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three");r("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(t){this.geometry=new i.DodecahedronGeometry(t.radius,t.detail)}})},{"../core/geometry":132,"../lib/three":179}],167:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three");r("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(t){this.geometry=new i.IcosahedronGeometry(t.radius,t.detail)}})},{"../core/geometry":132,"../lib/three":179}],168:[{"./box.js":162,"./circle.js":163,"./cone.js":164,"./cylinder.js":165,"./dodecahedron.js":166,"./icosahedron.js":167,"./octahedron.js":169,"./plane.js":170,"./ring.js":171,"./sphere.js":172,"./tetrahedron.js":173,"./torus.js":174,"./torusKnot.js":175,"./triangle.js":176}],169:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three");r("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(t){this.geometry=new i.OctahedronGeometry(t.radius,t.detail)}})},{"../core/geometry":132,"../lib/three":179}],170:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three");r("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(t){this.geometry=new i.PlaneGeometry(t.width,t.height,t.segmentsWidth,t.segmentsHeight)}})},{"../core/geometry":132,"../lib/three":179}],171:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three"),o=i.Math.degToRad;r("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(t){this.geometry=new i.RingGeometry(t.radiusInner,t.radiusOuter,t.segmentsTheta,t.segmentsPhi,o(t.thetaStart),o(t.thetaLength))}})},{"../core/geometry":132,"../lib/three":179}],172:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three"),o=i.Math.degToRad;r("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(t){this.geometry=new i.SphereGeometry(t.radius,t.segmentsWidth,t.segmentsHeight,o(t.phiStart),o(t.phiLength),o(t.thetaStart),o(t.thetaLength))}})},{"../core/geometry":132,"../lib/three":179}],173:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three");r("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(t){this.geometry=new i.TetrahedronGeometry(t.radius,t.detail)}})},{"../core/geometry":132,"../lib/three":179}],174:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three"),o=i.Math.degToRad;r("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(t){this.geometry=new i.TorusGeometry(t.radius,2*t.radiusTubular,t.segmentsRadial,t.segmentsTubular,o(t.arc))}})},{"../core/geometry":132,"../lib/three":179}],175:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three");r("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(t){this.geometry=new i.TorusKnotGeometry(t.radius,2*t.radiusTubular,t.segmentsTubular,t.segmentsRadial,t.p,t.q)}})},{"../core/geometry":132,"../lib/three":179}],176:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three"),o=new i.Quaternion,a=new i.Vector3(0,0,1),s=new i.Vector2,l=new i.Vector2,c=new i.Vector2;r("triangle",{schema:{vertexA:{type:"vec3",default:{x:0,y:.5,z:0}},vertexB:{type:"vec3",default:{x:-.5,y:-.5,z:0}},vertexC:{type:"vec3",default:{x:.5,y:-.5,z:0}}},init:function(t){var e,n,r,u,h,d,p,f,m;(r=new i.Triangle).a.set(t.vertexA.x,t.vertexA.y,t.vertexA.z),r.b.set(t.vertexB.x,t.vertexB.y,t.vertexB.z),r.c.set(t.vertexC.x,t.vertexC.y,t.vertexC.z),n=r.getNormal(new i.Vector3),o.setFromUnitVectors(n,a),u=r.a.clone().applyQuaternion(o),h=r.b.clone().applyQuaternion(o),d=r.c.clone().applyQuaternion(o),s.set(Math.min(u.x,h.x,d.x),Math.min(u.y,h.y,d.y)),l.set(Math.max(u.x,h.x,d.x),Math.max(u.y,h.y,d.y)),c.set(0,0).subVectors(l,s),u=(new i.Vector2).subVectors(u,s).divide(c),h=(new i.Vector2).subVectors(h,s).divide(c),d=(new i.Vector2).subVectors(d,s).divide(c),e=this.geometry=new i.BufferGeometry,p=[r.a.x,r.a.y,r.a.z,r.b.x,r.b.y,r.b.z,r.c.x,r.c.y,r.c.z],f=[n.x,n.y,n.z,n.x,n.y,n.z,n.x,n.y,n.z],m=[u.x,u.y,h.x,h.y,d.x,d.y],e.setAttribute("position",new i.Float32BufferAttribute(p,3)),e.setAttribute("normal",new i.Float32BufferAttribute(f,3)),e.setAttribute("uv",new i.Float32BufferAttribute(m,2))}})},{"../core/geometry":132,"../lib/three":179}],177:[function(t,e,n){if(window.Promise=window.Promise||t("promise-polyfill"),window.hasNativeWebVRImplementation=!!window.navigator.getVRDisplays||!!window.navigator.getVRDevices,window.hasNativeWebXRImplementation=void 0!==navigator.xr,!window.hasNativeWebXRImplementation&&!window.hasNativeWebVRImplementation){var r=t("./utils/isIOSOlderThan10"),i=r(window.navigator.userAgent)?1/window.devicePixelRatio:1,o=t("webvr-polyfill"),a={BUFFER_SCALE:i,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0,MOBILE_WAKE_LOCK:!!window.cordova};window.webvrpolyfill=new o(a)}var s=t("./utils/"),l=s.debug;s.isIE11&&(t("custom-event-polyfill"),t("../vendor/starts-with-polyfill"));var c=l("A-Frame:error"),u=l("A-Frame:warn");window.document.currentScript&&window.document.currentScript.parentNode!==window.document.head&&!window.debug&&u("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),window.cordova||"file:"!==window.location.protocol||c("This HTML file is currently being served via the file:// protocol. Assets, textures, and models WILL NOT WORK due to cross-origin policy! Please use a local or hosted server: https://aframe.io/docs/0.5.0/introduction/getting-started.html#using-a-local-server."),t("present"),s.device.isBrowserEnvironment&&(t("./style/aframe.css"),t("./style/rStats.css"));var h=t("./core/scene/a-scene").AScene,d=t("./core/component").components,p=t("./core/component").registerComponent,f=t("./core/geometry").registerGeometry,m=t("./extras/primitives/primitives").registerPrimitive,v=t("./core/shader").registerShader,g=t("./core/system").registerSystem,y=t("./core/shader").shaders,b=t("./core/system").systems,x=window.THREE=t("./lib/three"),w=t("../package");t("./components/index"),t("./geometries/index"),t("./shaders/index"),t("./systems/index");var A=t("./core/a-node"),E=t("./core/a-entity");t("./core/a-assets"),t("./core/a-cubemap"),t("./core/a-mixin"),t("./extras/components/"),t("./extras/primitives/"),console.log("A-Frame Version: 1.2.0 (Date 2021-02-05, Commit #b220fa00)"),console.log("THREE Version (https://github.com/supermedium/three.js):",w.dependencies["super-three"]),console.log("WebVR Polyfill Version:",w.dependencies["webvr-polyfill"]),e.exports=window.AFRAME={AComponent:t("./core/component").Component,AEntity:E,ANode:A,ANIME:t("super-animejs"),AScene:h,components:d,coreComponents:Object.keys(d),geometries:t("./core/geometry").geometries,registerComponent:p,registerElement:t("./core/a-register-element").registerElement,registerGeometry:f,registerPrimitive:m,registerShader:v,registerSystem:g,primitives:{getMeshMixin:t("./extras/primitives/getMeshMixin"),primitives:t("./extras/primitives/primitives").primitives},scenes:t("./core/scene/scenes"),schema:t("./core/schema"),shaders:y,systems:b,THREE:x,utils:s,version:w.version}},{"../package":73,"../vendor/starts-with-polyfill":218,"./components/index":84,"./core/a-assets":125,"./core/a-cubemap":126,"./core/a-entity":127,"./core/a-mixin":128,"./core/a-node":129,"./core/a-register-element":130,"./core/component":131,"./core/geometry":132,"./core/scene/a-scene":134,"./core/scene/scenes":138,"./core/schema":140,"./core/shader":141,"./core/system":142,"./extras/components/":143,"./extras/primitives/":146,"./extras/primitives/getMeshMixin":145,"./extras/primitives/primitives":147,"./geometries/index":168,"./lib/three":179,"./shaders/index":181,"./style/aframe.css":186,"./style/rStats.css":187,"./systems/index":191,"./utils/":205,"./utils/isIOSOlderThan10":208,"custom-event-polyfill":7,present:48,"promise-polyfill":50,"super-animejs":56,"webvr-polyfill":68}],178:[function(t,e,n){window.aframeStats=function(t){var e=null,n=t;return{update:function(){e("te").set(function(){var t=n.querySelectorAll("*");return Array.prototype.slice.call(t).filter(function(t){return t.isEntity}),t.length}()),window.performance.getEntriesByName&&e("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))},start:function(){},end:function(){},attach:function(t){e=t},values:{te:{caption:"Entities"},lt:{caption:"Load Time"}},groups:[{caption:"A-Frame",values:["te","lt"]}],fractions:[]}},"object"===typeof e&&(e.exports={aframeStats:window.aframeStats})},{}],179:[function(t,e,r){(function(n){var r=n.THREE=t("super-three");r.TextureLoader&&(r.TextureLoader.prototype.crossOrigin="anonymous"),r.ImageLoader&&(r.ImageLoader.prototype.crossOrigin="anonymous"),r.Cache&&(r.Cache.enabled=!0),t("../../vendor/DeviceOrientationControls"),t("super-three/examples/js/loaders/DRACOLoader"),t("super-three/examples/js/loaders/GLTFLoader"),t("super-three/examples/js/loaders/OBJLoader"),t("super-three/examples/js/loaders/MTLLoader"),t("super-three/examples/js/utils/BufferGeometryUtils"),r.DRACOLoader.prototype.crossOrigin="anonymous",r.GLTFLoader.prototype.crossOrigin="anonymous",r.MTLLoader.prototype.crossOrigin="anonymous",r.OBJLoader.prototype.crossOrigin="anonymous",e.exports=r}).call(this,"undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../../vendor/DeviceOrientationControls":215,"super-three":57,"super-three/examples/js/loaders/DRACOLoader":58,"super-three/examples/js/loaders/GLTFLoader":59,"super-three/examples/js/loaders/MTLLoader":60,"super-three/examples/js/loaders/OBJLoader":61,"super-three/examples/js/utils/BufferGeometryUtils":62}],180:[function(t,e,n){var r=t("../core/shader").registerShader,i=t("../lib/three"),o=t("../utils/");function a(t,e){return e.color.set(t.color),e.fog=t.fog,e.wireframe=t.wireframe,e.wireframeLinewidth=t.wireframeLinewidth,e}e.exports.Shader=r("flat",{schema:{color:{type:"color"},fog:{default:!0},height:{default:256},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(t){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new i.Color},this.textureSrc=null,a(t,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.material=new i.MeshBasicMaterial(this.materialData),o.material.updateMap(this,t)},update:function(t){this.updateMaterial(t),o.material.updateMap(this,t)},updateMaterial:function(t){var e;for(e in a(t,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.materialData)this.material[e]=this.materialData[e]}})},{"../core/shader":141,"../lib/three":179,"../utils/":205}],181:[{"./flat":180,"./ios10hls":182,"./msdf":183,"./sdf":184,"./standard":185}],182:[function(t,e,n){var r=t("../core/shader").registerShader;e.exports.Shader=r("ios10hls",{schema:{src:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},vertexShader:["varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["uniform sampler2D src;","uniform float opacity;","varying vec2 vUV;","void main() {","  vec2 offset = vec2(0, 0);","  vec2 repeat = vec2(1, 1);","  vec4 color = texture2D(src, vec2(vUV.x / repeat.x + offset.x, (1.0 - vUV.y) / repeat.y + offset.y)).bgra;","  gl_FragColor = vec4(color.rgb, opacity);","}"].join("\n")})},{"../core/shader":141}],183:[function(t,e,n){var r=t("../core/shader").registerShader,i=!!document.createElement("canvas").getContext("webgl2"),o=["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),a=["#version 300 es","in vec2 uv;","in vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","out vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),s=i?a:o,l=["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","varying vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sampleColor = texture2D(map, vUV).rgb;","  if (negate) { sampleColor = 1.0 - sampleColor; }","  float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","}"].join("\n"),c=["#version 300 es","precision highp float;","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","out vec4 fragColor;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sampleColor = texture(map, vUV).rgb;","  if (negate) { sampleColor = 1.0 - sampleColor; }","  float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  fragColor = vec4(color.xyz, alpha * opacity);","}"].join("\n"),u=i?c:l;e.exports.Shader=r("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},negate:{type:"boolean",is:"uniform",default:!0},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:s,fragmentShader:u})},{"../core/shader":141}],184:[function(t,e,n){var r=t("../core/shader").registerShader;e.exports.Shader=r("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["#version 300 es","in vec2 uv;","in vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","out vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#version 300 es","precision highp float;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","out vec4 fragColor;","#ifdef GL_OES_standard_derivatives","  float contour(float width, float value) {","    return smoothstep(0.5 - value, 0.5 + value, width);","  }","#else","  float aastep(float value, float afwidth) {","    return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","  }","#endif","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","void main() {","  #ifdef GL_OES_standard_derivatives","    vec2 uv = vUV;","    vec4 texColor = texture(map, uv);","    float dist = texColor.a;","    float width = fwidth(dist);","    float alpha = contour(dist, width);","    float dscale = 0.353505;","    vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","    float isBigEnough = max(abs(duv.x), abs(duv.y));","    if (isBigEnough > BIG_ENOUGH) {","      float ratio = BIG_ENOUGH / isBigEnough;","      alpha = ratio * alpha + (1.0 - ratio) * dist;","    }","    if (isBigEnough <= BIG_ENOUGH) {","      vec4 box = vec4 (uv - duv, uv + duv);","      alpha = (alpha + 0.5 * (","        contour(texture(map, box.xy).a, width)","        + contour(texture(map, box.zw).a, width)","        + contour(texture(map, box.xw).a, width)","        + contour(texture(map, box.zy).a, width)","      )) / 3.0;","    }","    if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  #else","    vec4 texColor = texture(map, vUV);","    float value = texColor.a;","    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","    float alpha = aastep(value, afwidth);","    float ratio = (gl_FragCoord.w >= ALL_SMOOTH) ? 1.0 : (gl_FragCoord.w < ALL_ROUGH) ? 0.0 : (gl_FragCoord.w - ALL_ROUGH) / (ALL_SMOOTH - ALL_ROUGH);","    if (alpha < alphaTest) { if (ratio >= 1.0) { discard; return; } alpha = 0.0; }","    alpha = alpha * ratio + (1.0 - ratio) * value;","    if (ratio < 1.0 && alpha <= DISCARD_ALPHA) { discard; return; }","  #endif","  fragColor = vec4(color, opacity * alpha);","}"].join("\n")})},{"../core/shader":141}],185:[function(t,e,n){var r=t("../core/shader").registerShader,i=t("../lib/three"),o=t("../utils/"),a=new i.CubeTextureLoader,s={};function l(t,e){return e.color.set(t.color),e.emissive.set(t.emissive),e.emissiveIntensity=t.emissiveIntensity,e.fog=t.fog,e.metalness=t.metalness,e.roughness=t.roughness,e.wireframe=t.wireframe,e.wireframeLinewidth=t.wireframeLinewidth,t.normalMap&&(e.normalScale=t.normalScale),t.ambientOcclusionMap&&(e.aoMapIntensity=t.ambientOcclusionMapIntensity),t.displacementMap&&(e.displacementScale=t.displacementScale,e.displacementBias=t.displacementBias),e}e.exports.Shader=r("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},emissive:{type:"color",default:"#000"},emissiveIntensity:{default:1},envMap:{default:""},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},metalnessMap:{type:"map"},metalnessTextureOffset:{type:"vec2"},metalnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},roughnessMap:{type:"map"},roughnessTextureOffset:{type:"vec2"},roughnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},sphericalEnvMap:{type:"map"},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(t){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new i.Color,emissive:new i.Color},l(t,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.rendererSystem.applyColorCorrection(this.materialData.emissive),this.material=new i.MeshStandardMaterial(this.materialData),o.material.updateMap(this,t),t.normalMap&&o.material.updateDistortionMap("normal",this,t),t.displacementMap&&o.material.updateDistortionMap("displacement",this,t),t.ambientOcclusionMap&&o.material.updateDistortionMap("ambientOcclusion",this,t),t.metalnessMap&&o.material.updateDistortionMap("metalness",this,t),t.roughnessMap&&o.material.updateDistortionMap("roughness",this,t),this.updateEnvMap(t)},update:function(t){this.updateMaterial(t),o.material.updateMap(this,t),t.normalMap&&o.material.updateDistortionMap("normal",this,t),t.displacementMap&&o.material.updateDistortionMap("displacement",this,t),t.ambientOcclusionMap&&o.material.updateDistortionMap("ambientOcclusion",this,t),t.metalnessMap&&o.material.updateDistortionMap("metalness",this,t),t.roughnessMap&&o.material.updateDistortionMap("roughness",this,t),this.updateEnvMap(t)},updateMaterial:function(t){var e,n=this.material;for(e in l(t,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.rendererSystem.applyColorCorrection(this.materialData.emissive),this.materialData)n[e]=this.materialData[e]},updateEnvMap:function(t){var e=this,n=this.material,r=t.envMap,l=t.sphericalEnvMap;if(!r&&!l||this.isLoadingEnvMap)return n.envMap=null,void(n.needsUpdate=!0);this.isLoadingEnvMap=!0,l?this.el.sceneEl.systems.material.loadTexture(l,{src:l},function(t){e.isLoadingEnvMap=!1,t.mapping=i.SphericalReflectionMapping,n.envMap=t,o.material.handleTextureEvents(e.el,t),n.needsUpdate=!0}):s[r]?s[r].then(function(t){e.isLoadingEnvMap=!1,n.envMap=t,o.material.handleTextureEvents(e.el,t),n.needsUpdate=!0}):s[r]=new Promise(function(t){o.srcLoader.validateCubemapSrc(r,function(r){a.load(r,function(r){e.isLoadingEnvMap=!1,n.envMap=r,o.material.handleTextureEvents(e.el,r),t(r)})})})}})},{"../core/shader":141,"../lib/three":179,"../utils/":205}],186:[function(t,e,n){var r="html.a-fullscreen{bottom:0;left:0;position:fixed;right:0;top:0}html.a-fullscreen body{height:100%;margin:0;overflow:hidden;padding:0;width:100%}html.a-fullscreen .a-canvas{width:100%!important;height:100%!important;top:0!important;left:0!important;right:0!important;bottom:0!important;position:fixed!important}html:not(.a-fullscreen) .a-enter-ar,html:not(.a-fullscreen) .a-enter-vr{right:5px;bottom:5px}:-webkit-full-screen{background-color:transparent}.a-hidden{display:none!important}.a-canvas{height:100%;left:0;position:absolute;top:0;width:100%}.a-canvas.a-grab-cursor:hover{cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}canvas.a-canvas.a-mouse-cursor-hover:hover{cursor:pointer}.a-inspector-loader{background-color:#ed3160;position:fixed;left:3px;top:3px;padding:6px 10px;color:#fff;text-decoration:none;font-size:12px;font-family:Roboto,sans-serif;text-align:center;z-index:99999;width:204px}@keyframes dots-1{from{opacity:0}25%{opacity:1}}@keyframes dots-2{from{opacity:0}50%{opacity:1}}@keyframes dots-3{from{opacity:0}75%{opacity:1}}@-webkit-keyframes dots-1{from{opacity:0}25%{opacity:1}}@-webkit-keyframes dots-2{from{opacity:0}50%{opacity:1}}@-webkit-keyframes dots-3{from{opacity:0}75%{opacity:1}}.a-inspector-loader .dots span{animation:dots-1 2s infinite steps(1);-webkit-animation:dots-1 2s infinite steps(1)}.a-inspector-loader .dots span:first-child+span{animation-name:dots-2;-webkit-animation-name:dots-2}.a-inspector-loader .dots span:first-child+span+span{animation-name:dots-3;-webkit-animation-name:dots-3}a-scene{display:block;position:relative;height:100%;width:100%}a-assets,a-scene audio,a-scene img,a-scene video{display:none}.a-enter-vr-modal,.a-orientation-modal{font-family:Consolas,Andale Mono,Courier New,monospace}.a-enter-vr-modal a{border-bottom:1px solid #fff;padding:2px 0;text-decoration:none;transition:.1s color ease-in}.a-enter-vr-modal a:hover{background-color:#fff;color:#111;padding:2px 4px;position:relative;left:-4px}.a-enter-ar,.a-enter-vr{font-family:sans-serif,monospace;font-size:13px;width:100%;font-weight:200;line-height:16px;position:absolute;right:20px;bottom:20px}.a-enter-ar{right:80px}.a-enter-vr-button,.a-enter-vr-modal,.a-enter-vr-modal a{color:#fff;user-select:none;outline:0}.a-enter-vr-button{background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z' fill='%23fff'/%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z' fill='%23fff'/%3E%3C/svg%3E\") 50% 50% no-repeat rgba(0,0,0,.35)}.a-enter-ar-button{background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z' fill='%23fff'/%3E%3Cpath d='M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z' fill='%23fff'/%3E%3Cpath d='M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z' fill='%23fff'/%3E%3C/svg%3E\") 50% 50% no-repeat rgba(0,0,0,.2)}.a-enter-ar-button,.a-enter-vr-button{background-size:90% 90%;border:0;bottom:0;cursor:pointer;min-width:58px;min-height:34px;padding-right:0;padding-top:0;position:absolute;right:0;transition:background-color .05s ease;-webkit-transition:background-color .05s ease;z-index:9999;border-radius:8px;touch-action:manipulation}.a-enter-ar-button{background-size:100% 90%;margin-right:10px;border-radius:7px}.a-enter-ar-button:active,.a-enter-ar-button:hover,.a-enter-vr-button:active,.a-enter-vr-button:hover{background-color:#ef2d5e}.a-enter-vr-button.resethover{background-color:rgba(0,0,0,.35)}[data-a-enter-vr-no-webvr] .a-enter-vr-button{border-color:#666;opacity:.65}[data-a-enter-vr-no-webvr] .a-enter-vr-button:active,[data-a-enter-vr-no-webvr] .a-enter-vr-button:hover{background-color:rgba(0,0,0,.35);cursor:not-allowed}.a-enter-vr-modal{background-color:#666;border-radius:0;display:none;min-height:32px;margin-right:70px;padding:9px;width:280px;right:2%;position:absolute}.a-enter-vr-modal:after{border-bottom:10px solid transparent;border-left:10px solid #666;border-top:10px solid transparent;display:inline-block;content:'';position:absolute;right:-5px;top:5px;width:0;height:0}.a-enter-vr-modal a,.a-enter-vr-modal p{display:inline}.a-enter-vr-modal p{margin:0}.a-enter-vr-modal p:after{content:' '}[data-a-enter-vr-no-headset].a-enter-vr:hover .a-enter-vr-modal,[data-a-enter-vr-no-webvr].a-enter-vr:hover .a-enter-vr-modal{display:block}.a-orientation-modal{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center/50% 50% no-repeat rgba(244,244,244,1);bottom:0;font-size:14px;font-weight:600;left:0;line-height:20px;right:0;position:fixed;top:0;z-index:9999999}.a-orientation-modal:after{color:#666;content:\"Insert phone into Cardboard holder.\";display:block;position:absolute;text-align:center;top:70%;transform:translateY(-70%);width:100%}.a-orientation-modal button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;border:none;height:50px;text-indent:-9999px;width:50px}.a-loader-title{background-color:rgba(0,0,0,.6);font-family:sans-serif,monospace;text-align:center;font-size:20px;height:50px;font-weight:300;line-height:50px;position:absolute;right:0;left:0;top:0;color:#fff}.a-modal{background:0 0/50% 50% rgba(0,0,0,.6);bottom:0;font-size:14px;font-weight:600;left:0;line-height:20px;right:0;position:fixed;top:0;z-index:9999999}.a-dialog{position:relative;left:50%;top:50%;transform:translate(-50%,-50%);z-index:199995;width:300px;height:200px;background-size:contain;background-color:#fff;font-family:sans-serif,monospace;font-size:20px;border-radius:3px;padding:6px}.a-dialog-text-container{width:100%;height:70%;align-self:flex-start;display:flex;justify-content:center;align-content:center;flex-direction:column}.a-dialog-text{display:inline-block;font-weight:400;font-size:14pt;margin:8px}.a-dialog-buttons-container{display:inline-flex;align-self:flex-end;width:100%;height:30%}.a-dialog-button{cursor:pointer;align-self:center;opacity:.9;height:80%;width:50%;font-size:12pt;margin:4px;border-radius:2px;text-align:center;border:none;display:inline-block;-webkit-transition:all .25s ease-in-out;transition:all .25s ease-in-out;box-shadow:0 1px 3px rgba(0,0,0,.1),0 1px 2px rgba(0,0,0,.2);user-select:none}.a-dialog-permission-button:hover{box-shadow:0 7px 14px rgba(0,0,0,.2),0 2px 2px rgba(0,0,0,.2)}.a-dialog-allow-button{background-color:#00ceff}.a-dialog-deny-button{background-color:#ff005b}.a-dialog-ok-button{background-color:#00ceff;width:100%}";t("browserify-css").createStyle(r,{href:"src/style/aframe.css"}),e.exports=r},{"browserify-css":4}],187:[function(t,e,n){var r=".rs-base{background-color:#333;color:#fafafa;border-radius:0;font:10px monospace;left:5px;line-height:1em;opacity:.85;overflow:hidden;padding:10px;position:fixed;top:5px;width:300px;z-index:10000}.rs-base div.hidden{display:none}.rs-base h1{color:#fff;cursor:pointer;font-size:1.4em;font-weight:300;margin:0 0 5px;padding:0}.rs-group{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;margin-bottom:5px}.rs-group:last-child{margin-bottom:0}.rs-counter-base{align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;height:10px;-webkit-justify-content:space-between;justify-content:space-between;margin:2px 0}.rs-counter-base.alarm{color:#b70000;text-shadow:0 0 0 #b70000,0 0 1px #fff,0 0 1px #fff,0 0 2px #fff,0 0 2px #fff,0 0 3px #fff,0 0 3px #fff,0 0 4px #fff,0 0 4px #fff}.rs-counter-id{font-weight:300;-webkit-box-ordinal-group:0;-webkit-order:0;order:0;width:54px}.rs-counter-value{font-weight:300;-webkit-box-ordinal-group:1;-webkit-order:1;order:1;text-align:right;width:35px}.rs-canvas{-webkit-box-ordinal-group:2;-webkit-order:2;order:2}@media (min-width:480px){.rs-base{left:20px;top:20px}}";t("browserify-css").createStyle(r,{href:"src/style/rStats.css"}),e.exports=r},{"browserify-css":4}],188:[function(t,e,n){var r=t("../constants/"),i=t("../core/system").registerSystem,o="data-aframe-default-camera";e.exports.System=i("camera",{init:function(){this.activeCameraEl=null,this.render=this.render.bind(this),this.unwrapRender=this.unwrapRender.bind(this),this.wrapRender=this.wrapRender.bind(this),this.initialCameraFound=!1,this.numUserCameras=0,this.numUserCamerasChecked=0,this.setupInitialCamera()},setupInitialCamera:function(){var t,e,n=this.sceneEl,r=this;if(!n.camera||n.camera.el.getAttribute("camera").spectator)if((t=n.querySelectorAll("a-camera, [camera]")).length)for(this.numUserCameras=t.length,e=0;e<t.length;e++)t[e].addEventListener("object3dset",function(t){"camera"===t.detail.type&&r.checkUserCamera(this)}),t[e].isNode?t[e].load():t[e].addEventListener("nodeready",function(){this.load()});else this.createDefaultCamera();else n.emit("cameraready",{cameraEl:n.camera.el})},checkUserCamera:function(t){var e,n=this.el.sceneEl;this.numUserCamerasChecked++,this.initialCameraFound||((e=t.getAttribute("camera")).active&&!e.spectator?(this.initialCameraFound=!0,n.camera=t.getObject3D("camera"),n.emit("cameraready",{cameraEl:t})):this.numUserCamerasChecked===this.numUserCameras&&this.createDefaultCamera())},createDefaultCamera:function(){var t,e=this.sceneEl;(t=document.createElement("a-entity")).setAttribute("camera",{active:!0}),t.setAttribute("position",{x:0,y:r.DEFAULT_CAMERA_HEIGHT,z:0}),t.setAttribute("wasd-controls",""),t.setAttribute("look-controls",""),t.setAttribute(r.AFRAME_INJECTED,""),t.addEventListener("object3dset",function(n){"camera"===n.detail.type&&(e.camera=n.detail.object,e.emit("cameraready",{cameraEl:t}))}),e.appendChild(t)},disableActiveCamera:function(){var t;(t=this.sceneEl.querySelectorAll("[camera]"))[t.length-1].setAttribute("camera","active",!0)},setActiveCamera:function(t){var e,n,r,i,a=this.activeCameraEl,s=this.sceneEl;if((i=t.getObject3D("camera"))&&t!==this.activeCameraEl){var l=s.querySelector("["+o+"]"),c=l&&l.querySelector("[camera]");for(t!==c&&function(t){var e;t.camera&&(e=t.querySelector("["+o+"]"))&&t.removeChild(e)}(s),this.activeCameraEl=t,this.activeCameraEl.play(),s.camera=i,a&&a.setAttribute("camera","active",!1),n=s.querySelectorAll("[camera]"),r=0;r<n.length;r++)(e=n[r]).isEntity&&t!==e&&(e.setAttribute("camera","active",!1),e.pause());s.emit("camera-set-active",{cameraEl:t})}},setSpectatorCamera:function(t){var e,n=this.spectatorCameraEl,r=this.sceneEl;t.getObject3D("camera")&&t!==this.spectatorCameraEl&&(n&&n.setAttribute("camera","spectator",!1),e=this.spectatorCameraEl=t,r.addEventListener("enter-vr",this.wrapRender),r.addEventListener("exit-vr",this.unwrapRender),e.setAttribute("camera","active",!1),e.play(),r.emit("camera-set-spectator",{cameraEl:t}))},disableSpectatorCamera:wrapRender:function(){this.spectatorCameraEl&&!this.originalRender&&(this.originalRender=this.sceneEl.renderer.render,this.sceneEl.renderer.render=this.render)},unwrapRender:render:function(t,e){var n,r,i=this.sceneEl;n=i.renderer.xr.enabled,this.originalRender.call(i.renderer,t,e),this.spectatorCameraEl&&!i.isMobile&&n&&(r=this.spectatorCameraEl.components.camera.camera,i.renderer.xr.enabled=!1,this.originalRender.call(i.renderer,t,r),i.renderer.xr.enabled=n)}})},{"../constants/":123,"../core/system":142}],189:[function(t,e,n){var r=t("../core/geometry").geometries,i=t("../core/system").registerSystem;function o(t){var e=t.primitive,n=r[e]&&r[e].Geometry,i=new n;if(!n)throw new Error("Unknown geometry `"+e+"`");return i.init(t),i.geometry}e.exports.System=i("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:getOrCreateGeometry:function(t){var e,n,r=this.cache;return t.skipCache?o(t):(n=this.hash(t),e=r[n],function(t,e){t[e]=void 0===t[e]?1:t[e]+1}(this.cacheCount,n),e||(e=o(t),r[n]=e,e))},unuseGeometry:function(t){var e,n=this.cache,r=this.cacheCount;t.skipCache||(e=this.hash(t),n[e]&&(r,e),r[e]>0||(n[e].dispose(),delete n[e],delete r[e])))},hash:function(t){return JSON.stringify(t)}})},{"../core/geometry":132,"../core/system":142}],190:[function(t,e,n){var r=t("../core/system").registerSystem,i=t("../lib/three");e.exports.System=r("gltf-model",{schema:{dracoDecoderPath:{default:""}},init:function(){var t=this.data.dracoDecoderPath;this.dracoLoader=new i.DRACOLoader,this.dracoLoader.setDecoderPath(t)},update:function(){var t;this.dracoLoader||(t=this.data.dracoDecoderPath,this.dracoLoader=new i.DRACOLoader,this.dracoLoader.setDecoderPath(t))},getDRACOLoader:function(){return this.dracoLoader}})},{"../core/system":142,"../lib/three":179}],191:[{"./camera":188,"./geometry":189,"./gltf-model":190,"./light":192,"./material":193,"./renderer":194,"./shadow":195,"./tracked-controls-webvr":196,"./tracked-controls-webxr":197,"./webxr":198}],192:[function(t,e,n){var r=t("../core/system").registerSystem,i=t("../utils/bind"),o=t("../constants/");e.exports.System=r("light",{schema:{defaultLightsEnabled:{default:!0}},init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",i(this.setupDefaultLights,this))},registerLight:removeDefaultLights:function(){var t,e=this.sceneEl;if(this.defaultLights){t=document.querySelectorAll("[data-aframe-default-light]");for(var n=0;n<t.length;n++)e.removeChild(t[n]);this.defaultLights=!1}},setupDefaultLights:function(){var t,e,n=this.sceneEl;this.userDefinedLights||this.defaultLights||!this.data.defaultLightsEnabled||((t=document.createElement("a-entity")).setAttribute("light",{color:"#BBB",type:"ambient"}),t.setAttribute("data-aframe-default-light",""),t.setAttribute(o.AFRAME_INJECTED,""),n.appendChild(t),(e=document.createElement("a-entity")).setAttribute("light",{color:"#FFF",intensity:.6,castShadow:!0}),e.setAttribute("position",{x:-.5,y:1,z:1}),e.setAttribute("data-aframe-default-light",""),e.setAttribute(o.AFRAME_INJECTED,""),n.appendChild(e),this.defaultLights=!0)}})},{"../constants/":123,"../core/system":142,"../utils/bind":199}],193:[function(t,e,n){var r=t("../core/system").registerSystem,i=t("../lib/three"),o=t("../utils/"),a=t("../utils/material").isHLS,s=o.bind,l=o.debug,c=l("components:texture:error"),u=new i.TextureLoader,h=l("components:texture:warn");function d(t,e){var n=e.offset||{x:0,y:0},r=e.repeat||{x:1,y:1},o=e.npot||!1;o&&(t.wrapS=i.ClampToEdgeWrapping,t.wrapT=i.ClampToEdgeWrapping,t.magFilter=i.LinearFilter,t.minFilter=i.LinearFilter),1===r.x&&1===r.y||(t.wrapS=i.RepeatWrapping,t.wrapT=i.RepeatWrapping,t.repeat.set(r.x,r.y)),0===n.x&&0===n.y||t.offset.set(n.x,n.y)}u.setCrossOrigin("anonymous"),e.exports.System=r("material",{init:function(){this.materials={},this.textureCounts={},this.textureCache={},this.sceneEl.addEventListener("materialtextureloaded",s(this.onMaterialTextureLoaded,this))},clearTextureCache:function(){this.textureCache={}},loadTexture:function(t,e,n){var r=this;if("CANVAS"!==t.tagName){if("VIDEO"===t.tagName)return t.src||t.srcObject||t.childElementCount||h("Video element was defined with neither `source` elements nor `src` / `srcObject` attributes."),void this.loadVideo(t,e,n);o.srcLoader.validateSrc(t,function(t){r.loadImage(t,e,n)},}else this.loadCanvas(t,e,n)},loadImage:function(t,e,n){var r=this.hash(e),o=this.textureCache;o[r]?o[r].then(n):(o[r]=function(t,e){return new Promise(function(n,r){function o(t){d(t,e),t.needsUpdate=!0,n(t)}"string"===typeof t?u.load(t,o,function(){},:o(new i.Texture(t))})}(t,e),o[r].then(n))},loadCanvas:function(t,e,n){var r;d(r=new i.CanvasTexture(t),e),n(r)},loadVideo:function(t,e,n){var r,o,s,l,c=this.textureCache;function u(t){t.texture.needsUpdate=!0,n(t.texture,t.videoEl)}if("string"!==typeof t){if(s=t,r=this.hashVideo(e,s),c[r])return void c[r].then(u);!function(t){t.autoplay=t.hasAttribute("autoplay")&&"false"!==t.getAttribute("autoplay"),t.controls=t.hasAttribute("controls")&&"false"!==t.getAttribute("controls"),"false"===t.getAttribute("loop")&&t.removeAttribute("loop"),"false"===t.getAttribute("preload")&&(t.preload="none"),t.crossOrigin=t.crossOrigin||"anonymous",t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline","")}(s)}s=s||function(t,e,n){var r=document.createElement("video");return r.width=e,r.height=n,r.setAttribute("playsinline",""),r.setAttribute("webkit-playsinline",""),r.autoplay=!0,r.loop=!0,r.crossOrigin="anonymous",r.addEventListener("error",!0),r.src=t,r}(t,e.width,e.height),r=this.hashVideo(e,s),c[r]?c[r].then(u):((o=new i.VideoTexture(s)).minFilter=i.LinearFilter,d(o,e),this.sceneEl.isIOS&&a(s.src||s.getAttribute("src"),s.type||s.getAttribute("type"))&&(o.format=i.RGBAFormat,o.needsCorrectionBGRA=!0,o.flipY=!1,o.needsCorrectionFlipY=!0),l={texture:o,videoEl:s},c[r]=Promise.resolve(l),u(l))},hash:function(t){return t.src.tagName&&((t=o.extendDeep({},t)).src=t.src.src),JSON.stringify(t)},hashVideo:function(t,e){return function(t,e){var n,r,i,o=e.getAttribute("id");if(o)return o;for(r="",i=t||{},n=0;n<e.attributes.length;n++)i[e.attributes[n].name]=e.attributes[n].value;return Object.keys(i).sort().forEach(,r}(t,e)},registerMaterial:unregisterMaterial:function(t){delete this.materials[t.uuid];var e=this.textureCounts;Object.keys(t).filter(.forEach(function(n){e[t[n].uuid]--,e[t[n].uuid]<=0&&t[n].dispose()})},updateMaterials:function(t){var e=this.materials;Object.keys(e).forEach(},onMaterialTextureLoaded:function(t){this.textureCounts[t.detail.texture.uuid]||(this.textureCounts[t.detail.texture.uuid]=0),this.textureCounts[t.detail.texture.uuid]++}})},{"../core/system":142,"../lib/three":179,"../utils/":205,"../utils/material":209}],194:[function(t,e,n){var r=t("../core/system").registerSystem,i=t("../utils/"),o=t("../lib/three"),a=i.debug,s=a("components:renderer:warn");e.exports.System=r("renderer",{schema:{antialias:{default:"auto",oneOf:["true","false","auto"]},highRefreshRate:{default:i.device.isOculusBrowser()},logarithmicDepthBuffer:{default:"auto",oneOf:["true","false","auto"]},maxCanvasWidth:{default:1920},maxCanvasHeight:{default:1920},physicallyCorrectLights:{default:!1},precision:{default:"high",oneOf:["high","medium","low"]},sortObjects:{default:!1},colorManagement:{default:!1},gammaOutput:{default:!1},alpha:{default:!0},foveationLevel:{default:0}},init:function(){var t=this.data,e=this.el,n=e.renderer;n.sortObjects=t.sortObjects,n.physicallyCorrectLights=t.physicallyCorrectLights,(t.colorManagement||t.gammaOutput)&&(n.outputEncoding=o.sRGBEncoding,t.gammaOutput&&s('Property `gammaOutput` is deprecated. Use `renderer="colorManagement: true;"` instead.')),e.hasAttribute("antialias")&&s('Component `antialias` is deprecated. Use `renderer="antialias: true"` instead.'),e.hasAttribute("logarithmicDepthBuffer")&&s('Component `logarithmicDepthBuffer` is deprecated. Use `renderer="logarithmicDepthBuffer: true"` instead.')},applyColorCorrection:function(t){this.data.colorManagement&&t&&(t.isColor?t.convertSRGBToLinear():t.isTexture&&(t.encoding=o.sRGBEncoding))}})},{"../core/system":142,"../lib/three":179,"../utils/":205}],195:[function(t,e,n){var r=t("../core/system").registerSystem,i=t("../lib/three"),o={basic:i.BasicShadowMap,pcf:i.PCFShadowMap,pcfsoft:i.PCFSoftShadowMap};e.exports.System=r("shadow",{schema:{enabled:{default:!0},autoUpdate:{default:!0},type:{default:"pcf",oneOf:["basic","pcf","pcfsoft"]}},init:function(){var t=this.sceneEl,e=this.data;this.shadowMapEnabled=!1,t.renderer&&(t.renderer.shadowMap.type=o[e.type],t.renderer.shadowMap.autoUpdate=e.autoUpdate,this.setShadowMapEnabled(this.shadowMapEnabled))},update:setShadowMapEnabled:function(t){var e=this.sceneEl.renderer;this.shadowMapEnabled=this.data.enabled&&t,e&&(e.shadowMap.enabled=this.shadowMapEnabled)}})},{"../core/system":142,"../lib/three":179}],196:[function(t,e,n){var r=t("../core/system").registerSystem,i=t("../utils"),o=i.device.isWebXRAvailable;e.exports.System=r("tracked-controls-webvr",{init:function(){var t=this;this.controllers=[],this.isChrome=-1!==navigator.userAgent.indexOf("Chrome"),this.updateControllerList(),this.throttledUpdateControllerList=i.throttle(this.updateControllerList,500,this),o||navigator.getVRDisplays&&this.sceneEl.addEventListener("enter-vr",function(){navigator.getVRDisplays().then(})},tick:updateControllerList:function(){var t,e,n,r,i=this.controllers;if(e=navigator.getGamepads&&navigator.getGamepads()){for(r=i.length,i.length=0,n=0;n<e.length;++n)(t=e[n])&&t.pose&&i.push(t);i.length!==r&&this.el.emit("controllersupdated",void 0,!1)}}})},{"../core/system":142,"../utils":205}],197:[function(t,e,n){var r=t("../core/system").registerSystem,i=t("../utils");e.exports.System=r("tracked-controls-webxr",{init:function(){this.controllers=[],this.oldControllers=[],this.oldControllersLength=0,this.throttledUpdateControllerList=i.throttle(this.updateControllerList,500,this),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.addEventListener("enter-vr",this.updateReferenceSpace),this.el.addEventListener("exit-vr",this.updateReferenceSpace)},tick:function(){this.throttledUpdateControllerList()},updateReferenceSpace:function(){var t=this,e=this.el.xrSession;if(!e)return this.referenceSpace=void 0,this.controllers=[],void(this.oldControllersLength>0&&(this.oldControllersLength=0,this.el.emit("controllersupdated",void 0,!1)));var n=t.el.sceneEl.systems.webxr.sessionReferenceSpaceType;e.requestReferenceSpace(n).then(function(e){t.referenceSpace=e}).catch(function(e){throw t.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(n,'tracked-controls-webxr uses reference space "'+n+'".'),e})},updateControllerList:function(){var t,e=this.el.xrSession,n=this.oldControllers;if(!e){if(0===this.oldControllersLength)return;return this.oldControllersLength=0,this.controllers=[],void this.el.emit("controllersupdated",void 0,!1)}if(e.inputSources){if(this.controllers=e.inputSources,this.oldControllersLength===this.controllers.length){var r=!0;for(t=0;t<this.controllers.length;++t)if(this.controllers[t]!==n[t]||this.controllers[t].gamepad!==n[t].gamepad){r=!1;break}if(r)return}for(n.length=0,t=0;t<this.controllers.length;t++)n.push(this.controllers[t]);this.oldControllersLength=this.controllers.length,this.el.emit("controllersupdated",void 0,!1)}}})},{"../core/system":142,"../utils":205}],198:[function(t,e,n){var r=t("../core/system").registerSystem,i=t("../utils/"),o=i.debug("systems:webxr:warn");e.exports.System=r("webxr",{schema:{referenceSpaceType:{type:"string",default:"local-floor"},requiredFeatures:{type:"array",default:["local-floor"]},optionalFeatures:{type:"array",default:["bounded-floor"]},overlayElement:{type:"selector"}},update:function(){var t=this.data;this.sessionConfiguration={requiredFeatures:t.requiredFeatures,optionalFeatures:t.optionalFeatures},this.sessionReferenceSpaceType=t.referenceSpaceType,t.overlayElement&&(this.warnIfFeatureNotRequested("dom-overlay"),this.sessionConfiguration.domOverlay={root:t.overlayElement})},wasFeatureRequested:function(t){return"viewer"===t||"local"===t||!(!this.sessionConfiguration.requiredFeatures.includes(t)&&!this.sessionConfiguration.optionalFeatures.includes(t))},warnIfFeatureNotRequested:function(t,e){if(!this.wasFeatureRequested(t)){var n='Please add the feature "'+t+"\" to a-scene's webxr system options in requiredFeatures/optionalFeatures.";o((e?e+" ":"")+n)}}})},{"../core/system":142,"../utils/":205}],199:[function(t,e,n){e.exports=function(t,e){return n=Array.prototype.slice.call(arguments,2),var n}},{}],200:[function(t,e,n){var r=t("./debug"),i=t("object-assign"),o=r("utils:coordinates:warn"),a=["x","y","z","w"],s=/^\s*((-?\d*\.{0,1}\d+(e-?\d+)?)\s+){2,3}(-?\d*\.{0,1}\d+(e-?\d+)?)\s*$/;e.exports.regex=s;var l="object",c=/\s+/g;function u(t){return s.test(t)}function h(t){return null!==t&&void 0!==t&&t.constructor===String?parseFloat(t,10):t}e.exports.parse=function(t,e){var n,r,o,s,u,d,p,f,m;if(t&&t instanceof Object)return d=void 0===t.x?e&&e.x:t.x,p=void 0===t.y?e&&e.y:t.y,f=void 0===t.z?e&&e.z:t.z,m=void 0===t.w?e&&e.w:t.w,void 0!==d&&null!==d&&(t.x=h(d)),void 0!==p&&null!==p&&(t.y=h(p)),void 0!==f&&null!==f&&(t.z=h(f)),void 0!==m&&null!==m&&(t.w=h(m)),t;if(null===t||void 0===t)return typeof e===l?i({},e):e;for(n=t.trim().split(c),u={},s=0;s<a.length;s++)if(o=a[s],n[s])u[o]=parseFloat(n[s],10);else{if(void 0===(r=e&&e[o]))continue;u[o]=h(r)}return u},e.exports.stringify=function(t){var e;return typeof t!==l?t:(e=t.x+" "+t.y,null!=t.z&&(e+=" "+t.z),null!=t.w&&(e+=" "+t.w),e)},e.exports.isCoordinates=u,e.exports.isCoordinate=e.exports.toVector3=,{"./debug":201,"object-assign":39}],201:[function(t,n,r){(function(r){var i=t("debug"),o=t("object-assign"),a={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}},s=function(t){var e=i(t);return e.color=function(t){var e=t);return a.colors&&a.colors[e]||null}(t),e};o(s,i);var l=);l&&(parseInt(l.logs,10)||"true"===l.logs)?s.enable("*"):s.enable("*:error,*:info,*:warn"),r.browser&&(window.logs=s),n.exports=s}).call(this,t("_process"))},{_process:49,debug:8,"object-assign":39}],202:[function(t,e,n){(function(n){var r,i=t("debug")("device:error"),o=!1,a=!1,s=e.exports.isWebXRAvailable=!window.debug&&void 0!==navigator.xr;if(window.addEventListener("vrdisplayactivate",function(t){var e;s||(e=document.createElement("canvas"),r=t.display,e.getContext("webgl",{}),r.requestPresent([{source:e}]).then(function(){},function(){}))}),s){var l=function t(){var e=document.querySelector("a-scene");e?e.hasLoaded?e.components["vr-mode-ui"].updateEnterInterfaces():e.addEventListener("loaded",t):window.addEventListener("DOMContentLoaded",t)},c=navigator.xr.isSessionSupported?(navigator.xr.isSessionSupported("immersive-vr").then(function(t){o=t,l()}).catch(c),navigator.xr.isSessionSupported("immersive-ar").then(.catch(function(){})):navigator.xr.supportsSession?(navigator.xr.supportsSession("immersive-vr").then(function(){o=!0,l()}).catch(c),navigator.xr.supportsSession("immersive-ar").then(.catch(function(){})):i("WebXR has neither isSessionSupported or supportsSession?!")}else navigator.getVRDisplays&&navigator.getVRDisplays().then(function(t){var e=document.querySelector("a-scene");r=t.length&&t[0],e&&e.emit("displayconnected",{vrDisplay:r})});.exports.getVRDisplay=u,e.exports.checkHeadsetConnected=function(){return o||a||!!u()},e.exports.checkARSupport=function(){return a};var h=function(){var t,e=!1;return t=window.navigator.userAgent||window.navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),(p()||d()||g())&&(e=!0),v()&&(e=!1),function(){return e}}();function d(t){var e=t||window.navigator.userAgent;return/ipad|Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(e)}function p(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}function f(){return/(OculusBrowser)/i.test(window.navigator.userAgent)}function m(){return/(Mobile VR)/i.test(window.navigator.userAgent)}exports.isMobile=h,e.exports.isTablet=d,e.exports.isIOS=p,e.exports.isMobileDeviceRequestingDesktopSite=function(){return!h()&&!v()&&void 0!==window.orientation},e.exports.isOculusBrowser=f,e.exports.isFirefoxReality=m,e.exports.isMobileVR=v,e.exports.isR7=g,e.exports.isLandscape=function(){var t=window.orientation;return g()&&(t+=90),90===t||-90===t},e.exports.isBrowserEnvironment=!(n&&!n.browser),e.exports.isNodeEnvironment=!e.exports.isBrowserEnvironment}).call(this,t("_process"))},{_process:49,debug:8}],203:[function(t,e,n){var r={};function i(t,e){return r[e=e||"."]||(r[e]={}),-1!==t.indexOf(e)?r[e][t]=t.split(e):r[e][t]=t,r[e][t]}e.exports.getComponentPropertyPath=i,e.exports.propertyPathCache=r,e.exports.getComponentProperty=function(t,e,n){var r;return n=n||".",-1!==e.indexOf(n)?(r=i(e,n)).constructor===String?t.getAttribute(r):t.getAttribute(r[0])[r[1]]:t.getAttribute(e)},e.exports.setComponentProperty=function(t,e,n,r){var o;r=r||".",-1===e.indexOf(r)?t.setAttribute(e,n):(o=i(e,r)).constructor===String?t.setAttribute(o,n):t.setAttribute(o[0],o[1],n)}},{}],204:[function(t,e,n){e.exports=function(t){var e=t.style.width,n=t.style.height;t.style.width=parseInt(e,10)+1+"px",t.style.height=parseInt(n,10)+1+"px",setTimeout(200)}},{}],205:[function(t,e,n){var r=t("./debug"),i=t("deep-assign"),o=t("./device"),a=t("object-assign"),s=t("./object-pool"),l=r("utils:warn");e.exports.bind=t("./bind"),e.exports.coordinates=t("./coordinates"),e.exports.debug=r,e.exports.device=o,e.exports.entity=t("./entity"),e.exports.forceCanvasResizeSafariMobile=t("./forceCanvasResizeSafariMobile"),e.exports.isIE11=t("./is-ie11"),e.exports.material=t("./material"),e.exports.objectPool=s,e.exports.split=t("./split").split,e.exports.styleParser=t("./styleParser"),e.exports.trackedControls=t("./tracked-controls"),e.exports.checkHeadsetConnected=function(){return l("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),o.checkHeadsetConnected(arguments)},e.exports.isGearVR=e.exports.device.isGearVR=function(){l("`utils.isGearVR` has been deprecated, use `utils.device.isMobileVR`")},e.exports.isIOS=function(){return l("`utils.isIOS` has moved to `utils.device.isIOS`"),o.isIOS(arguments)},e.exports.isOculusGo=e.exports.device.isOculusGo=e.exports.isMobile=e.exports.throttle=function(t,n,r){var i;return r&&(t=e.exports.bind(t,r)),function(){var e=Date.now(),r="undefined"===typeof i?n:e-i;("undefined"===typeof i||r>=n)&&(i=e,t.apply(null,arguments))}},e.exports.throttleTick=function(t,n,r){var i;return r&&(t=e.exports.bind(t,r)),function(e,r){var o="undefined"===typeof i?r:e-i;("undefined"===typeof i||o>=n)&&(i=e,t(e,o))}},e.exports.debounce=e.exports.extend=a,e.exports.extendDeep=i,e.exports.clone=var c=function(){var t=s.createPool(;return function(e,n){var r,i,o,a,s,l;if(void 0===e||void 0===n||null===e||null===n||!(e&&n&&e.constructor===Object&&n.constructor===Object||e.constructor===Array&&n.constructor===Array))return e===n;for(r in i=t.use(),o=t.use(),i.length=0,o.length=0,e)i.push(r);for(r in n)o.push(r);if(i.length!==o.length)return t.recycle(i),t.recycle(o),!1;for(a=0;a<i.length;++a)if(s=e[i[a]],l=n[i[a]],"object"===typeof s||"object"===typeof l||Array.isArray(s)&&Array.isArray(l)){if(s===l)continue;if(!c(s,l))return t.recycle(i),t.recycle(o),!1}else if(s!==l)return t.recycle(i),t.recycle(o),!1;return t.recycle(i),t.recycle(o),!0}}();e.exports.deepEqual=c,e.exports.diff=function(){var t=[];return function(e,n,r){var i,o,a,s,l,u,h;for(l in s=r||{},t.length=0,e)t.push(l);if(!n)return s;for(a in n)-1===t.indexOf(a)&&t.push(a);for(u=0;u<t.length;u++)l=t[u],i=e[l],o=n[l],((h=i&&o&&i.constructor===Object&&o.constructor===Object)&&!c(i,o)||!h&&i!==o)&&(s[l]=o);return s}}(),e.exports.shouldCaptureKeyEvent=e.exports.splitString=function(t,e){"undefined"===typeof e&&(e=" ");var n=new RegExp(e,"g");return(t=(t||"").replace(n,e)).split(e)},e.exports.getElData=function(t,e){e=e||{};var n={};return Object.keys(e).forEach(,n},e.exports.getUrlParameter=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=e.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},e.exports.isIframed=e.exports.findAllScenes=function(t){for(var e=[],n=t.getElementsByTagName("*"),r=0,i=n.length;r<i;r++)n[r].isScene&&e.push(n[r]);return e},e.exports.srcLoader=t("./src-loader")},{"./bind":199,"./coordinates":200,"./debug":201,"./device":202,"./entity":203,"./forceCanvasResizeSafariMobile":204,"./is-ie11":207,"./material":209,"./object-pool":210,"./split":211,"./src-loader":212,"./styleParser":213,"./tracked-controls":214,"deep-assign":10,"object-assign":39}],206:[function(t,e,n){window.addEventListener("orientationchange",function(){document.documentElement.style.height="initial",setTimeout(function(){document.documentElement.style.height="100%",setTimeout(500)},500)})},{}],207:[function(t,e,n){e.exports=11===function(){var t=-1,e=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName?null!=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)):"Netscape"===navigator.appName&&null!=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)),t}()},{}],208:[{}],209:[function(t,e,n){var r=t("../lib/three"),i=["application/x-mpegurl","application/vnd.apple.mpegurl"],o=new Set(["emissiveMap","envMap","map","specularMap"]);function a(t,e){e&&(t.emit("materialtextureloaded",{src:e.image,texture:e}),e.image&&"VIDEO"===e.image.tagName&&(e.image.addEventListener("loadeddata",function(){t.components&&t.components.material&&(e.needsCorrectionBGRA&&e.needsCorrectionFlipY&&-1!==["standard","flat"].indexOf(t.components.material.data.shader)&&t.setAttribute("material","shader","ios10hls"),t.emit("materialvideoloadeddata",{src:e.image,texture:e}))}),e.image.addEventListener("ended",))}e.exports.updateMapMaterialFromData=function(t,e,n,i){var s=n.el,l=n.material,c=s.sceneEl.systems.renderer,u=i[e];if(n.materialSrcs||(n.materialSrcs={}),!u)return delete n.materialSrcs[t],void h(null);function h(e){l[t]=e,e&&o.has(t)&&c.applyColorCorrection(e),l.needsUpdate=!0,a(s,e)}u!==n.materialSrcs[t]&&(n.materialSrcs[t]=u,u instanceof r.Texture?h(u):s.sceneEl.systems.material.loadTexture(u,{src:u,repeat:i.repeat,offset:i.offset,npot:i.npot},function(e){n.materialSrcs[t]===u&&h(e)}))},e.exports.updateMap=e.exports.updateDistortionMap=function(t,e,n){var r=t;"ambientOcclusion"===t&&(r="ao");var i=e.el,s=e.material,l=i.sceneEl.systems.renderer,c=n[t+"Map"],u={};if(u.src=c,u.offset=n[t+"TextureOffset"],u.repeat=n[t+"TextureRepeat"],u.wrap=n[t+"TextureWrap"],c){if(c===e[t+"TextureSrc"])return;return e[t+"TextureSrc"]=c,void i.sceneEl.systems.material.loadTexture(c,u,h)}function h(t){var e=r+"Map";s[e]=t,t&&o.has(e)&&l.applyColorCorrection(t),s.needsUpdate=!0,a(i,t)}s.map&&h(null)},e.exports.handleTextureEvents=a,e.exports.isHLS=function(t,e){return!(!e||!i.includes(e.toLowerCase()))||!!(t&&t.toLowerCase().indexOf(".m3u8")>0)}},{"../lib/three":179}],210:[function(t,e,n){var r=Object.freeze(Object.create(null));unction o(t){var e;if(t&&t.constructor===Object)for(e in t)t[e]=void 0}e.exports.createPool=function(t){var e=[],n=null;function a(r){var i,o;if((r=void 0===r?e.length:r)>0&&null==n&&(n=0),r>0)for(i=e.length,e.length+=Number(r),o=i;o<e.length;o++)e[o]=t();return e.length}return t=t||i,{grow:a,pool:e,recycle:function(t){t instanceof Object&&(null!==n&&-1!==n?e[--n]=t:e[e.length]=t)},size:function(){return e.length},use:function(){var t;return null!==n&&n!==e.length||a(e.length||5),t=e[n],e[n++]=r,o(t),t}}},e.exports.clearObject=o,e.exports.removeUnusedKeys=function(t,e){var n;if(t&&t.constructor===Object)for(n in t)n in e||delete t[n]}},{}],211:[function(t,e,n){e.exports.split=function(){var t={};return function(e,n){return n in t||(t[n]={}),e in t[n]?t[n][e]:(t[n][e]=e.split(n),t[n][e])}}()},{}],212:[function(t,n,r){var i=t("./debug"),o=i("utils:src-loader:warn");function a(t,e,n){!function(t,e){var n;t.tagName?e("IMG"===t.tagName):((n=new XMLHttpRequest).open("HEAD",t),n.addEventListener("load",function(r){var i;n.status>=200&&n.status<300?null==(i=n.getResponseHeader("Content-Type"))?l(t,e):i.startsWith("image")?e(!0):e(!1):l(t,e),n.abort()}),n.send())}(t,}unction l(t,e){var n=new Image;n.addEventListener("load",function(){e(!0)}),n.addEventListener("error",,n.src=t}n.exports={parseUrl:s,validateSrc:a,validateCubemapSrc:function(t,n){var r,i,l,c="",u=[];for(i=0;i<5;i++)c+="(url\\((?:[^\\)]+)\\),\\s*)";function h(t){u.push(t),6===u.length&&n(u)}if(c+="(url\\((?:[^\\)]+)\\)\\s*)",l=t.match(new RegExp(c)))for(i=1;i<7;i++)a(s(l[i]),h);else if(r=function(t){try{var n=document.querySelector(t);return n||o('No element was found matching the selector: "%s"',t),n}catch(e){return void o('"%s" is not a valid selector',t)}}(t))return"A-CUBEMAP"===r.tagName&&r.srcs?n(r.srcs):void o('Selector "%s" does not point to <a-cubemap>',t)}}},{"./debug":201}],213:[function(t,e,n){var r=/-([a-z])/g;unction o(t){var e,n;for(n in t)e=i(n),n!==e&&(t[e]=t[n],delete t[n]);return t}e.exports.parse=function(t,e){var n;return"string"!==typeof t?t:(n=function(t,e){var n,r,i,o,s,l;for(e=e||{},n=a(t),r=0;r<n.length;r++)(i=n[r])&&(o=i.indexOf(":"),s=i.substr(0,o).trim(),l=i.substr(o+1).trim(),e[s]=l);return e}(t,e))[""]?t:o(n)},e.exports.stringify=function(t){return"string"===typeof t?t:function(t){var e,n=0,r=0,i="";for(e in t)n++;for(e in t)i+=e+": "+t[e],r<n-1&&(i+="; "),r++;return i}(t)},e.exports.toCamelCase=i,e.exports.transformKeysToCamelCase=o;var a=function(){var t=[],e=/url\([^)]+$/;return function(n){var r,i="",o=0;for(t.length=0;o<n.length;)-1===(r=n.indexOf(";",o))&&(r=n.length),i+=n.substring(o,r),e.test(i)?(i+=";",o=r+1):(t.push(i.trim()),i="",o=r+1);return t}}();,{}],214:[function(t,e,n){var r=t("../constants").DEFAULT_HANDEDNESS,i=["x","y","z","w"],o=2;function a(t,e,n){var r,i,o=t.el.sceneEl,a=n.index||0;return!!e&&!!(i=o&&o.systems["tracked-controls-webvr"])&&!!(r=i.controllers).length&&!!l(r,null,e,n.hand,a)}function s(t,e,n){var r,i=t.el.sceneEl,o=i&&i.systems["tracked-controls-webxr"];return!!o&&!(!(r=o.controllers)||!r.length)&&c(r,e,n.hand,n.index,n.iterateControllerProfiles,n.handTracking)}function l(t,e,n,i,a){var s,l,c=0;for(l=0;l<t.length;l++)if(s=t[l],(!n||s.id.startsWith(n))&&(n||s.id===e)&&(!i||!s.hand||i===s.hand)){if(!i||s.hand)return s;if(c===o*a+(i===r?0:1))return s;++c}}function c(t,e,n,r,i,o){var a,s,l,c,u=!1;for(a=0;a<t.length;a++){if(l=t[a],c=l.profiles,o)u=l.hand;else if(i)for(s=0;s<c.length&&!(u=c[s].startsWith(e));s++);else u=c.length>0&&c[0].startsWith(e);if(u)if("right"===l.handedness||"left"===l.handedness){if(l.handedness===n)return t[a]}else if(a===r)return t[a]}}e.exports.checkControllerPresentAndSetup=function(t,e,n){var r,i,o=t.el,l=o.sceneEl.hasWebXR,c=l?s:a;if(r=c(t,e,n),i=!!r,!t.controllerPresent||t.controllerEventsActive||l||t.addEventListeners(),i===t.controllerPresent)return i;t.controllerPresent=i,i?(t.addEventListeners(),t.injectTrackedControls(r),o.emit("controllerconnected",{name:t.name,component:t})):(t.removeEventListeners(),o.emit("controllerdisconnected",{name:t.name,component:t}))},e.exports.isControllerPresentWebVR=a,e.exports.isControllerPresentWebXR=s,e.exports.findMatchingControllerWebVR=l,e.exports.findMatchingControllerWebXR=c,e.exports.emitIfAxesChanged=function(t,e,n){var r,o,a,s,l;for(o in e){for(r=e[o],a=!1,l=0;l<r.length;l++)n.detail.changed[r[l]]&&(a=!0);if(a){for(s={},l=0;l<r.length;l++)s[i[l]]=n.detail.axis[r[l]];t.el.emit(o+"moved",s)}}},e.exports.onButtonEvent=function(t,e,n,r){var i=r?n.mapping[r]:n.mapping,o=i.buttons[t];n.el.emit(o+e),n.updateModel&&n.updateModel(o,e)}},{"../constants":123}],215:[function(t,e,n){THREE.DeviceOrientationControls=function(t){var e=this;this.object=t,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var n=function(t){e.deviceOrientation=t},r=i=function(){var t=new THREE.Vector3(0,0,1),e=new THREE.Euler,n=new THREE.Quaternion,r=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));return function(i,o,a,s,l){e.set(a,o,-s,"YXZ"),i.setFromEuler(e),i.multiply(r),i.multiply(n.setFromAxisAngle(t,-l))}}();this.connect=function(){r(),window.addEventListener("orientationchange",r,!1),window.addEventListener("deviceorientation",n,!1),e.enabled=!0},this.disconnect=this.update=function(){if(!1!==e.enabled){var t=e.deviceOrientation;if(t){var n=t.alpha?THREE.Math.degToRad(t.alpha)+e.alphaOffset:0,r=t.beta?THREE.Math.degToRad(t.beta):0,o=t.gamma?THREE.Math.degToRad(t.gamma):0,a=e.screenOrientation?THREE.Math.degToRad(e.screenOrientation):0;i(e.object.quaternion,n,r,o,a)}}},this.dispose=function(){e.disconnect()},this.connect()}},{}],216:[function(t,e,n){window.glStats=function(){var t=null,e=0,n=0,r=0,i=0,o=0,a=0,s=0;eturn WebGLRenderingContext.prototype.drawArrays=l(WebGLRenderingContext.prototype.drawArrays,function(){e++,arguments[0]==this.POINTS?a+=arguments[2]:o+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=l(WebGLRenderingContext.prototype.drawElements,function(){n++,i+=arguments[1]/3,o+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=l(WebGLRenderingContext.prototype.useProgram,function(){r++}),WebGLRenderingContext.prototype.bindTexture=l(WebGLRenderingContext.prototype.bindTexture,,{update:function(){t("allcalls").set(e+n),t("drawElements").set(n),t("drawArrays").set(e),t("bindTexture").set(s),t("useProgram").set(r),t("glfaces").set(i),t("glvertices").set(o),t("glpoints").set(a)},start:function(){e=0,n=0,r=0,i=0,o=0,a=0,s=0},end:function(){},attach:function(e){t=e},values:{allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},groups:[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],fractions:[{base:"allcalls",steps:["drawelements","drawarrays"]}]}},window.threeStats=function(t){var e=null;return{update:function(){e("renderer.info.memory.geometries").set(t.info.memory.geometries),e("renderer.info.programs").set(t.info.programs.length),e("renderer.info.memory.textures").set(t.info.memory.textures),e("renderer.info.render.calls").set(t.info.render.calls),e("renderer.info.render.triangles").set(t.info.render.triangles),e("renderer.info.render.points").set(t.info.render.points)},start:function(){},end:function(){},attach:function(t){e=t},values:{"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.triangles":{caption:"Triangles",over:1e3},"renderer.info.render.points":{caption:"Points"}},groups:[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.triangles","renderer.info.render.points"]}],fractions:[]}},window.BrowserStats=function(){var t=null,e=0,n=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),0===performance.memory.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var r=Math.log(1024);function i(t){var e=Math.floor(Math.log(t)/r);return Math.round(100*t/Math.pow(1024,e))/100}return{update:function(){e=i(performance.memory.usedJSHeapSize),n=i(performance.memory.totalJSHeapSize),t("memory").set(e),t("total").set(n)},start:end:function(){},attach:function(e){t=e},values:{memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},groups:[{caption:"Browser",values:["memory","total"]}],fractions:[{base:"total",steps:["memory"]}]}},"object"===typeof e&&(e.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats})},{}],217:[function(t,e,n){"use strict";!function(){"performance"in window==0&&(window.performance={});var t=window.performance;if("now"in t==0){var e=Date.now();t.timing&&t.timing.navigationStart&&(e=t.timing.navigationStart),t.now=t.mark||(t.mark=function(){}),t.measure||(t.measure=function(){})}(),window.rStats=function(t){function e(t,e){for(var n=Object.keys(t),r=0,i=n.length;r<i;r++)e(n[r])}var n=t||{},r=n.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],i=(n.CSSPath?n.CSSPath:"")+"rStats.css",o=n.css||["https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",i];o.forEach(function(t){!t)}),n.values||(n.values={});var a,s,l=10,c=200,u={};function h(t,e,n){var r=n||{},i=document.createElement("canvas"),o=i.getContext("2d"),a=0,s=0,u=r.color?r.color:"#666666",h=document.createElement("canvas"),d=h.getContext("2d");h.width=1,h.height=2*l,d.fillStyle="#444444",d.fillRect(0,0,1,2*l),d.fillStyle=u,d.fillRect(0,l,1,l),d.fillStyle="#ffffff",d.globalAlpha=.5,d.fillRect(0,l,1,1),d.globalAlpha=1;var p=document.createElement("canvas"),f=p.getContext("2d");return p.width=1,p.height=2*l,f.fillStyle="#444444",f.fillRect(0,0,1,2*l),f.fillStyle="#b70000",f.fillRect(0,l,1,l),f.globalAlpha=.5,f.fillStyle="#ffffff",f.fillRect(0,l,1,1),f.globalAlpha=1,i.width=c,i.height=l,i.style.width=i.width+"px",i.style.height=i.height+"px",i.className="rs-canvas",t.appendChild(i),o.fillStyle="#444444",o.fillRect(0,0,i.width,i.height),{draw:function(t,e){(s+=.1*(t-s))>(a*=.99)&&(a=s),o.drawImage(i,1,0,i.width-1,i.height,0,0,i.width-1,i.height),e?o.drawImage(p,i.width-1,i.height-s*i.height/a-l):o.drawImage(h,i.width-1,i.height-s*i.height/a-l)}}}function d(t,n){var i=document.createElement("canvas"),o=i.getContext("2d");return i.width=c,i.height=l*n,i.style.width=i.width+"px",i.style.height=i.height+"px",i.className="rs-canvas",t.appendChild(i),o.fillStyle="#444444",o.fillRect(0,0,i.width,i.height),{draw:function(t){o.drawImage(i,1,0,i.width-1,i.height,0,0,i.width-1,i.height);var n=0;e(t,function(e){var a=t[e]*i.height;o.fillStyle=r[e],o.fillRect(i.width-1,n,1,a),n+=a})}}}function p(t,e){var r,i=t,o=0,a=0,l=0,c=0,u=performance.now(),d=0,p=document.createElement("div"),f=document.createElement("span"),m=document.createElement("div"),v=document.createTextNode(""),g=n?n.values[i.toLowerCase()]:null,y=new h(p,i,g),b=!1;function x(t){if(g&&g.average){c+=t,d++;var e=performance.now();e-u>=(g.avgMs||1e3)&&(l=c/d,c=0,u=e,d=0)}}function w(){r=performance.now(),n.userTimingAPI&&performance.mark(i+"-start"),b=!0}function A(){o=performance.now()-r,n.userTimingAPI&&(performance.mark(i+"-end"),b&&performance.measure(i,i+"-start",i+"-end")),x(o)}return f.className="rs-counter-id",f.textContent=g&&g.caption?g.caption:i,m.className="rs-counter-value",m.appendChild(v),p.appendChild(f),p.appendChild(m),e?e.div.appendChild(p):s.appendChild(p),r=performance.now(),{set:start:w,tick:end:A,frame:function(){var t=performance.now(),e=t-r;a++,e>1e3&&(o=g&&!1===g.interpolate?a:1e3*a/e,a=0,r=t,x(o))},value:function(){return o},draw:function(){var t=g&&g.average?l:o;v.nodeValue=Math.round(100*t)/100;var e=g&&(g.below&&o<g.below||g.over&&o>g.over);y.draw(o,e),p.className=e?"rs-counter-base alarm":"rs-counter-base"}}}function f(t){var r=t.toLowerCase();if(void 0===r&&(r="default"),u[r])return u[r];var i=null;n&&n.groups&&e(n.groups,function(t){var e=n.groups[parseInt(t,10)];i||-1===e.values.indexOf(r.toLowerCase())||(i=e)});var o=new p(r,i);return u[r]=o,o}function m(){e(n.plugins,,e(u,,n&&n.fractions&&e(n.fractions,function(t){var r=n.fractions[parseInt(t,10)],i=[],o=u[r.base.toLowerCase()];o&&(o=o.value(),e(n.fractions[t].steps,function(e){var r=n.fractions[t].steps[parseInt(e,10)].toLowerCase(),a=u[r];a&&i.push(a.value()/o)})),r.graph.draw(i)})}return function(){if(n.plugins){n.values||(n.values={}),n.groups||(n.groups=[]),n.fractions||(n.fractions=[]);for(var t=0;t<n.plugins.length;t++)n.plugins[t].attach(f),e(n.plugins[t].values,,n.groups=n.groups.concat(n.plugins[t].groups),n.fractions=n.fractions.concat(n.plugins[t].fractions)}else n.plugins={};(a=document.createElement("div")).className="rs-base",(s=document.createElement("div")).className="rs-container",s.style.height="auto",a.appendChild(s),document.body.appendChild(a),n&&(n.groups&&e(n.groups,function(t){var e=n.groups[parseInt(t,10)],r=document.createElement("div");r.className="rs-group",e.div=r;var i=document.createElement("h1");i.textContent=e.caption,i.addEventListener("click",bind(r)),s.appendChild(i),s.appendChild(r)}),n.fractions&&e(n.fractions,function(t){var i=n.fractions[parseInt(t,10)],o=document.createElement("div");o.className="rs-fraction";var a=document.createElement("div");a.className="rs-legend";var c=0;e(n.fractions[t].steps,function(e){var i=document.createElement("p");i.textContent=n.fractions[t].steps[e],i.style.color=r[c],a.appendChild(i),c++}),o.appendChild(a),o.style.height=c*l+"px",i.div=o;var u=new d(o,c);i.graph=u,s.appendChild(o)}))}(),function(t){return t?f(t):{element:a,update:m}}},"object"===typeof e&&(e.exports=window.rStats)},{}],218:[function(t,e,n){String.prototype.startsWith||(String.prototype.startsWith=},{}],219:[function(t,n,r){var i={base64:isMobile:isIOS:isIFrame:appendQueryParameter:function(t,e,n){var r=t.indexOf("?")<0?"?":"&";return t+=r+e+"="+n},getQueryParameter:isLandscapeMode:;n.exports=i},{}],220:[function(t,e,n){var r=t("./util.js");function i(){var t=document.createElement("video");t.addEventListener("ended",function(){t.play()}),this.request=function(){t.paused&&(t.src=r.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),t.play())},this.release=function o(){var t=null;this.request=function(){t||(t=setInterval(function(){window.location.href="/",setTimeout(window.stop,0)},15e3))},this.release=e.exports=function(){var t=navigator.userAgent||navigator.vendor||window.opera;return t.match(/iPhone/i)||t.match(/iPod/i)?o:i}()},{"./util.js":219}]},{},[177])(177)}).call(this,r(21))},160:function(t,e,n){"use strict";var r,i,o,a;function s(t){return t}function l(t){return t}function c(t){return t}unction h(t){var e,n,i,h;return e=(t=t||{}).init||s,n=t.request||l,i=t.success||t.response||c,h=t.error||function(){return Promise.resolve((t.response||c).apply(this,arguments)).then(Promise.reject.bind(Promise))},function(s,l){return"object"===typeof s&&(l=s),"function"!==typeof s&&(s=t.client||r),l=e(l||{}),a(function t(e){var r,a;return r={},a={arguments:Array.prototype.slice.call(arguments),client:t},(e="string"===typeof e?{path:e}:e||{}).originator=e.originator||t,o(n.call(r,e,l,a),function(t){var e,n,o;return o=s,t instanceof u&&(n=t.abort,o=t.client||o,e=t.response,t=t.request),e=e||Promise.resolve(t).then(function(t){return Promise.resolve(o(t)).then(function(t){return i.call(r,t,l,a)},function(t){return h.call(r,t,l,a)})}),n?Promise.race([e,n]):e},},s)}}r=n(209),i=n(176),o=n(194),a=n(193),h.ComplexRequest=u,t.exports=h},161:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),o=n(150),a=n(151),s=n(153),l=n(152),c=n(24),u=n.n(c),h=n(167),d=n.n(h),p=function(t){Object(s.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).thumbClickEvent=function(){var e=t.props,n=e.id,r=e.handleClick;"function"===typeof r&&r(n)},t.state={loaded:!1},t}return Object(a.a)(n,[{key:"render",value:function(){var t=this,e=this.state.loaded,n=this.props,r=n.id,o=n.classes,a=n.height,s=n.src,l=n.alt,c=n.thumbBtns,h=n.overlayMediaName,p=n.name,f=n.dragHandle,m=n.dragHandleProps,v=n.tabIndex,g=Math.round(a/2),y="#fff url(".concat(d.a,") center / ").concat(g,"px no-repeat");return i.a.createElement("div",{tabIndex:v||-1,className:"".concat(o," thumb-wrapper"),key:r,"aria-hidden":"true",style:{background:y},onClick:this.thumbClickEvent,onKeyPress:this.thumbClickEvent},i.a.createElement("img",{style:{display:"block",height:a,minHeight:a,margin:"auto"},className:u()({loaded:e}),src:s,alt:l,onLoad:),h&&i.a.createElement("span",{className:"stop-name overlay"},p),"function"===typeof c&&i.a.createElement("div",{className:"thumb-btn-wrapper"},c(r),"function"===typeof f&&f(m)))}}]),n}(r.Component),f=n(11),m=n(238),v=n(186),g=n.n(v),y=n(155),b=function(t){Object(s.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).state={loaded:!1},t.thumbClickEvent=t.buildThumb=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("."),r=Object(f.a)(n,2),i=r[0],o=r[1];return t===y.o&&(e=i),{assetId:t!==y.a?"".concat(t,"/").concat(e):"images/audio-thumb-placeholder.jpg",format:o}},t.setLoaded=function(){t.setState({loaded:!0})},t}return Object(a.a)(n,[{key:"render",value:function(){var t=this.state.loaded,e=this.props,n=e.alt,r=e.classes,o=e.deleted,a=e.dragHandle,s=e.dragHandleProps,l=e.height,c=e.id,h=e.logo,p=e.mediaType,f=e.name,v=e.overlayMediaName,y=e.pad,b=e.publicId,x=e.selectedMedia,w=e.tabIndex,A=e.thumbBtns,E=e.view,_=u()({"thumb-image":!0,loaded:t,hidden:o&&!x,"hidden-width":o&&c===x}),T=Math.round(l/2),S=E?g.a:d.a,M=!h&&"".concat(E?"#000":"#fff"," url(").concat(S,") center / ").concat(T,"px no-repeat"),C=this.buildThumb(p,c).assetId,I=h?"limit":y?"pad":"lfill",k=h?"":"black",R="videos360"===p;return c?i.a.createElement("div",{className:"".concat(r," thumb-wrapper"),key:c,style:{background:M},onClick:this.thumbClickEvent,onKeyPress:this.thumbClickEvent,"aria-hidden":0!==w,tabIndex:w>-1?w:-1,"data-cy":"cloudinary-thumb-".concat(c)},!R&&i.a.createElement(m.a,{alt:n,background:k,className:_,cloudName:"concept3d",crop:I,fetchFormat:"auto",gravity:"center",height:l,onLoad:this.setLoaded,publicId:b||C,quality:"auto",responsive:!0}),R&&i.a.createElement(m.a,{alt:n,className:_,cloudName:"concept3d",fetchFormat:"jpg",height:l||1,onLoad:this.setLoaded,publicId:C,quality:"auto",resourceType:"video"}),"function"===typeof A&&i.a.createElement("div",{className:"thumb-btn-wrapper"},A(c),"function"===typeof a&&a(s)),v&&i.a.createElement("span",{className:"stop-name overlay"},f)):null}}]),n}(r.PureComponent);n(187),e.default=function(t){var e=t.alt,n=t.deleted,r=t.dragHandle,o=t.dragHandleProps,a=t.handleClick,s=t.height,l=t.logo,c=t.mediaId,u=t.mediaType,h=t.name,d=t.overlayMediaName,f=t.pad,m=t.publicId,v=t.selectedMedia,g=t.tabIndex,x=t.thumbBtns,w=t.thumbClass,A=t.thumbSrc,E=t.view,_=t.width;return u===y.n?i.a.createElement(p,{alt:e,classes:w,dragHandle:r,dragHandleProps:o,handleClick:a,height:s,id:c,key:c,name:h,overlayMediaName:d,src:A,tabIndex:g,thumbBtns:x}):i.a.createElement(b,{alt:e,publicId:m,classes:w,deleted:n,dragHandle:r,dragHandleProps:o,handleClick:a,height:s,id:c,key:c,logo:l,mediaType:u,name:h,overlayMediaName:d,pad:f,selectedMedia:v,tabIndex:g,thumbBtns:x,view:E,width:_})}},162:function(t,e,n){"use strict";var r=n(1),i=n(37),o=n(2),a=n.n(o),s=n(3),l=n(198),c=n.n(l),u=n(36);var h=function(t){if(t.type.indexOf("audio/")>=0)return".mp3";var e=t.type.lastIndexOf("/")+1;return".".concat(t.type.substr(e))},d=n(155),p=n(181),f=n(170),m=n(6),v=n(266),g=n(256);v.config.region="us-west-2",v.config.credentials=new v.CognitoIdentityCredentials({IdentityPoolId:d.g});var y=function(t){var e=t.id,n=void 0===e?"":e,r=t.file,i=void 0===r?{}:r,o=t.mediaType,a=void 0===o?"":o,s=t.useEnv,l=void 0!==s&&s,c=t._bucket,u=void 0===c?"":c,h=localStorage.getItem("aid"),p=u||d.l,f=l?"".concat("360tours","/").concat(m.a.apiENV,"/").concat(h,"/").concat(a):a;return{Bucket:"".concat(p,"/").concat(f),Key:"".concat(n),Body:i,ContentType:"".concat(i.type)}},b=function(){var t=Object(s.a)(a.a.mark(function t(e){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new g,t.abrupt("return",new Promise(function(t,r){n.upload(e,}));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),x=n(158);n.d(e,"b",function(){return w}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return _}),n.d(e,"a",function(){return T}),n.d(e,"h",function(){return S}),n.d(e,"i",function(){return I}),n.d(e,"j",function(){return k}),n.d(e,"d",function(){return B}),n.d(e,"c",function(){return Y}),n.d(e,"e",function(){return K});var w=function(t){return function(){var e=Object(s.a)(a.a.mark(function e(n,r){var i,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(R()),e.prev=1,i=localStorage.getItem("aid"),e.next=5,Object(p.b)(i,t);case 5:o=e.sent,Object(u.b)(function(){n(B(o)),n(O())}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(L(e.t0));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}()},A=function(t){return function(){var e=Object(s.a)(a.a.mark(function e(n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.c)(t);case 3:r=e.sent,Object(u.b)(function(){n(D(t.type,r[t.type])),n(W())}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),n(J(e.t0));case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},E=function(t){return function(){var e=Object(s.a)(a.a.mark(function e(n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.g)(t);case 3:r=e.sent,n(P(t.type,r[t.type][t.id])),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(J(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},_=function(t){return function(){var e=Object(s.a)(a.a.mark(function e(n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.h)(t);case 3:r=e.sent,n(N(r[t.id])),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(J(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},T=function(t,e){return function(){var n=Object(s.a)(a.a.mark(function n(r){var i,o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Object(u.b)(,n.prev=1,i=localStorage.getItem("aid"),o={aid:i,id:t,type:e},n.next=6,Object(p.a)(o);case 6:Object(u.b)(function(){r(H()),r(w(!0))}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r(Z(n.t0));case 12:case"end":return n.stop()}},n,null,[[1,9]])}));return function(t){return n.apply(this,arguments)}}()},S=function(t){var e=t.file,n=t.mediaType,r=t.name,i=t.description,o=t.alt,l=t.transcript,p=t.componentCB,f=t.permissions;return function(){var t=Object(s.a)(a.a.mark(function t(s){var m,v,g,x,w,E,_;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s(U()),m=c()()+h(e),n===d.j&&(g=window.URL||window.webkitURL,(x=new Image).onload=function(){v=this.width/this.height},x.src=g.createObjectURL(e)),s(j()),w=y({id:m,file:e,mediaType:n,useEnv:n===d.f}),t.next=7,b(w);case 7:E=t.sent,_={permissions:f,aid:localStorage.getItem("aid"),id:m,name:r,description:i,alt:o,transcript:l,ratio:v,type:n,url:n===d.j?E.Location:e.name},e&&(s(z()),n===d.j?M(_,s,p):(Object(u.b)(function(){s(G()),s(A(_))}),"function"===typeof p&&p(m)));case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},M=function(t,e,n){Object(p.f)(t).then(function(r){if(r.Error)e(J({message:"ERROR DURING UPLOAD"})),console.error(r.Error,"ERROR DURING UPLOAD");else{var i=JSON.parse(r.Payload),o={aid:t.aid,id:t.id,ratio:t.ratio,src:decodeURIComponent(t.url),url:i+"index.html",name:t.name||null,description:t.description||null,alt:t.alt||null};Object(u.b)(function(){var t;e(G()),e((t=o,function(){var e=Object(s.a)(a.a.mark(function e(n){var r,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.d)(t);case 3:r=e.sent,i=r.Attributes,Object(u.b)(function(){n(F(i.panos)),n(W())}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(J(e.t0));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()))}),"function"===typeof n&&n(t.id)}})},C=function(t){return function(){var e=Object(s.a)(a.a.mark(function e(n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(x.k)()),e.next=3,Object(f.d)(t).then(function(t){var e=t.tourId,r=t.tourStyles;Object(u.b)(function(){n(Object(x.h)({id:e,styles:r,uptoDate:!1})),n(W()),n(Object(x.i)())})}).catch(function(t){return console.error(t)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},I=function(t){var e=t.tourId,n=t.primaryColor,o=t.logoId,l=t.logoURL,d=t.logoToUpload,p=t.faviconId,f=t.faviconToUpload,m=t.hotspotIcons,v=t.hotspotIconsToUpload,g=t.buttonStyles,w=t.uptoDate,A=t.permissions,E=t.componentCB;return function(){var t=Object(s.a)(a.a.mark(function t(_){var T,S,M,I,k,R,L;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(_(Object(x.k)()),!(d||f||v.length>0)){t.next=13;break}return T=[d,f].concat(Object(i.a)(v)).filter(function(t){return null!==t}),S={aid:localStorage.getItem("aid"),id:e,uptoDate:w,permissions:A},M={logoURL:l,primaryColor:n,buttonStyles:g},_(U()),I=o,k=p,R=Object(r.a)({},m),t.next=11,Promise.all(T.map(function(){var t=Object(s.a)(a.a.mark(function t(e){var n,i,o,s,l;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=c()()+h(e),_(j()),i="icons"===e.fileType,o=y({id:n,file:e,mediaType:i?"icons":"images",useEnv:i}),t.next=6,b(o);case 6:s=t.sent,I="logo"===e.fileType?n:I,k="favicon"===e.fileType?n:k,l=Object(r.a)(Object(r.a)({},"logo"===e.fileType?{logoId:n}:{logoId:I}),"favicon"===e.fileType?{faviconId:n}:{faviconId:k}),i&&(R[e.hotspotType]={id:n,path:s.key}),M=Object(r.a)(Object(r.a)(Object(r.a)({},M),l),{},{hotspotIcons:R}),"function"===typeof E&&E(n,e.fileType,e.hotspotType);case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())).then(function(){Object(u.b)(function(){_(z()),_(G()),_(C(Object(r.a)(Object(r.a)({},S),{styles:M})))})});case 11:t.next=15;break;case 13:L={aid:localStorage.getItem("aid"),id:e,styles:{primaryColor:n,logoId:o,logoURL:l,faviconId:p,buttonStyles:g},uptoDate:w,permissions:A,hotspotIcons:m},_(C(L));case 15:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},k=function(t){var e=t.id,n=void 0===e?c()():e,r=t.mediaType,i=void 0===r?"videos":r,o=t.url,a=t.name,s=t.description;return function(t,e){var r=e().account;t(U());var l={aid:localStorage.getItem("aid"),id:n,name:a,description:s,type:i,url:o,permissions:r.permissions};Object(u.b)(function(){t(z()),t(G()),t(A(l))})}},R=function(){return{type:"MEDIA_FETCHING"}},L=function(t){return{type:"MEDIA_FETCH_ERROR",error:t}},O=function(){return{type:"MEDIA_FETCH_SUCCESS"}},D=function(t,e){return{type:"SAVE_ACCOUNT_MEDIA",mediaType:t,media:e}},P=B=F=function(t){return{type:"SAVE_ACCOUNT_PANO",panos:t}},N=function(t){return{type:"UPDATE_ACCOUNT_PANO",pano:t}},U=function(){return{type:"START_MEDIA_UPLOAD"}},j=function(){return{type:"START_RAW_UPLOAD"}},z=function(){return{type:"START_MEDIA_BUILD"}},G=function(){return{type:"START_MEDIA_SAVE"}},V=function(){return{type:"MEDIA_DELETING"}},H=function(){return{type:"MEDIA_DELETED"}},W=function(){return{type:"MEDIA_UPLOAD_COMPLETE"}},J=function(t){return{type:"MEDIA_UPLOAD_FAILED",error:t}},Z=function(){return{type:"MEDIA_DELETE_FAILED"}},Y=K=function(t){return{type:"TOGGLE_MAIN_MEDIA_STATUS",isMainMediaPlaying:t}}},163:164:function(t,e,n){"use strict";var r=n(12),i=n(0),o=n.n(i),a=["handleClick","newTab","children"];e.a=function(t){var e=t.handleClick,n=t.newTab,i=t.children,s=Object(r.a)(t,a);return o.a.createElement("a",Object.assign({onClick:e,target:n?"_blank":null,rel:n?"noopener noreferrer":null},s),i)}},166:167:function(t,e,n){t.exports=n.p+"static/media/placeholder-dark-logo.d501ab4e.png"},168:170:function(t,e,n){"use strict";n.d(e,"e",function(){return u}),n.d(e,"a",function(){return h}),n.d(e,"d",function(){return d}),n.d(e,"c",function(){return p}),n.d(e,"b",function(){return f}),n.d(e,"f",function(){return m});var r=n(2),i=n.n(r),o=n(3),a=n(4),s=n(6),l=n(7),c=n(25),u=function(t){var e=Object(l.a)();return fetch("".concat(s.a.tourAPI,"/tours"),{method:"POST",headers:e,body:JSON.stringify(t),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})},h=function(t){var e=Object(l.a)();return fetch("".concat(s.a.tourAPI,"/tours"),{method:"DELETE",headers:e,body:JSON.stringify(t),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})},d=function(t){var e=Object(l.a)();return fetch("".concat(s.a.tourAPI,"/tourstyles"),{method:"POST",headers:e,body:JSON.stringify(t),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})},p=function(t){var e={aid:t.aid,id:t.id,tourData:Object(a.a)({},t.id,t.tourData),published:t.published,uptoDate:t.uptoDate,tier:t.tier,gaId:t.gaId,mapboxToken:t.mapboxToken},n=Object(l.a)();return fetch("".concat(s.a.tourAPI,"/publishtour"),{method:"POST",headers:n,body:JSON.stringify(e),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})},f=function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(l.a)(),t.next=3,fetch("".concat(s.a.tourAPI,"/publishtour/").concat(e),{headers:n});case 3:return r=t.sent,Object(c.b)(r),t.abrupt("return",Object(c.a)(r));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(o.a)(i.a.mark(function t(e,n){var r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={id:e,tier:n},o=Object(l.a)(),t.abrupt("return",fetch("".concat(s.a.tourAPI,"/publishtour/newTier/"),{method:"POST",headers:o,body:JSON.stringify(r),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t}));case 3:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},172:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={panos:"Panorama",images:"Image",videos:"Video",audio:"Audio",videos360:"360\xba Video",logo:"Logo"}[t];return e?n.toLowerCase():n}},173:function(t,e,n){"use strict";var r=n(257),i=n.n(r),o=n(258),a=n.n(o),s=n(31),l=n.n(s),c=n(150),u=n(151),h=n(157),d=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.publicTour,i=n.currentTour;Object(c.a)(this,t),this.setDefaultStyle=function(){var t=document.querySelector(".map-tile-selector.selected");return t?t.innerHTML.toLowerCase():e.currentTour.tourMapStyle},this.publicTour=r,this.currentTour=i,this.layerBtn=null,this.tooltip=null}return Object(u.a)(t,[{key:"onAdd",value:function(t){var e=this;return this.container=document.createElement("div"),this.container.innerHTML='<button class="mapboxgl-ctrl-icon mapboxgl-ctrl-layer"><i class="material-icons">layers</i></button>',this.container.addEventListener("click",,this.container.addEventListener("mouseenter",function(){return e.mouseIn()}),this.container.addEventListener("mouseleave",function(){return e.mouseOut()}),this.container.className="mapboxgl-ctrl mapboxgl-ctrl-group",this.container}},{key:"mouseIn",value:function(){this.layerBtn=document.querySelector(".mapboxgl-ctrl-layer"),this.tooltip=document.createElement("span"),this.tooltip.className="tooltip map-layers",this.tooltip.innerHTML="Map Layers",this.layerBtn.appendChild(this.tooltip)}},{key:"mouseOut",value:,{key:"toggleStyle",value:function(t){var e=t.getStyle().name;if(this.currentTour){var n=this.currentTour,r=n.id,i=n.mapRenderingUrl,o="Mapbox Satellite Streets"!==e?"satellite-streets":this.setDefaultStyle();v.updateMapStyle(o,r,i)}else{var a="Mapbox Streets"===e?"satellite-streets":"streets";v.updateMapStyle(a)}this.publicTour&&this.sendAnlytics(e)}},{key:"sendAnlytics",value:function(t){Object(h.a)("".concat(this.currentTour.id,"-").concat(this.currentTour.name),"Map type switch",t)}},{key:"onRemove",value:function(){this.container.parentNode.removeChild(this.container),this.container.removeEventListener("click",this.toggleStyle),this.container.removeEventListener("mouseenter",this.mouseIn),this.container.removeEventListener("mouseleave",this.mouseOut),this.map=void 0}}]),t}(),p={"Mapbox Streets":"streets","Mapbox Satellite Streets":"satellite-streets","Mapbox Light":"light","Mapbox Dark":"dark",Scenic:"scenic"},f=n(223),m={displayedMap:null,geocoderCtrl:null,navigationCtrl:null,geolocateCtrl:null,layerCtrl:null,renderMap:function(t,e){var n=t.container,r=t.mapControls,o=t.analytics,a=t.mapStyle,s=t.mapRendering,l=t.tourId,c=t.mapToken;i.a.accessToken=c,this.displayedMap=new i.a.Map({container:n,style:this.buildMapStyle(a),center:[-98.55562,39.809734],zoom:4}).on("error",function(t){var n=t.error;console.log("c3dgl error",n.message),!window.Cypress&&e(n)}),this.displayedMap.addControl(new i.a.AttributionControl,"bottom-left"),r&&this.addMapControls(r,o),s&&this.reAddRasterLayer(l,s)},addMapControls:function(t,e){var n=this,r=t.nav,o=t.layers,s=t.geolocate,l=t.geocoder;this.geocoderCtrl=new a.a({accessToken:i.a.accessToken,placeholder:"Search for a location"}),this.navigationCtrl=new i.a.NavigationControl,this.layerCtrl=new d(e),this.geolocateCtrl=new i.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}),r.show&&this.setNavToolTips(this.navigationCtrl,r.pos),o.show&&this.displayedMap.addControl(this.layerCtrl,o.pos),s.show&&this.setGeoToolTip(this.geolocateCtrl,s.pos),l.show&&this.displayedMap.addControl(this.geocoderCtrl,l.pos),this.displayedMap.on("load",function(){return n.updateGeocoderProximity()}),this.displayedMap.on("moveend",function(){return n.updateGeocoderProximity()})},removeMapControls:updateLayerControls:function(t){var e=t.publicTour,n=t.currentTour;this.layerCtrl&&(this.layerCtrl.currentTour=n,this.layerCtrl.publicTour=e)},updateGeocoderProximity:function(){if(this.displayedMap.getZoom()>8.5){var t=this.displayedMap.getCenter().wrap();this.geocoderCtrl.setProximity({longitude:t.lng,latitude:t.lat})}else this.geocoderCtrl.setProximity(null)},setNavToolTips:function(t,e){this.displayedMap.addControl(t,e),[{selector:".mapboxgl-ctrl-zoom-in",name:"Zoom In",className:"zoom-in"},{selector:".mapboxgl-ctrl-zoom-out",name:"Zoom Out",className:"zoom-out"},{selector:".mapboxgl-ctrl-compass",name:"Rotate View",className:"rotate"}].forEach(function(t){var e=t.selector,n=t.name,r=t.className,i=document.querySelector(e),o=document.createElement("span");o.className="tooltip ".concat(r),o.innerHTML=n,i.addEventListener("mouseenter",function(){i.appendChild(o)}),i.addEventListener("mouseleave",function(){i.removeChild(o)})}),this.setAriaZoomLabels(),this.displayedMap.on("zoomend",this.setAriaZoomLabels.bind(this))},setAriaZoomLabels:function(){var t=document.querySelector(".mapboxgl-ctrl-zoom-in"),e=document.querySelector(".mapboxgl-ctrl-zoom-out");if(t&&e){var n=Math.floor(this.displayedMap.getZoom());t.ariaLabel="Zoom in, current zoom level ".concat(n),e.ariaLabel="Zoom out, current zoom level ".concat(n)}},setGeoToolTip:function(t,e){this.displayedMap.addControl(t,e);var n=t._container,r=document.createElement("span");r.className="tooltip geolocate",r.innerHTML="Your Location",n.addEventListener("mouseenter",function(){n.appendChild(r)}),n.addEventListener("mouseleave",},getMap:function(){return this.displayedMap},getContainer:function(){return this.displayedMap.getContainer()},getCenter:function(){return this.displayedMap.getCenter()},setNewMapBounds:function(t){return t.reduce(new i.a.LngLatBounds(t[0],t[0]))},createMarker:function(t,e){var n=this,r=t.markerCoords,o=t.className,a=t.order,s=t.panoId,l=t.stopName,c=t.changeStop,u=t.draggable,h=t.tourName,d=document.createElement("div");d.className=o,d.style.backgroundImage=s?"url('https://s3.us-east-2.amazonaws.com/c3dtourbuilderx/media/numbered_tour_icons/number_".concat(a+1,".png')"):"url('https://s3.us-east-2.amazonaws.com/c3dtourbuilderx/media/icon.png')";var p=new i.a.Marker(d,{offset:[0,-17.5]}).setLngLat(r).addTo(this.displayedMap);d.addEventListener("click",function(){m.remove(),!u&&n.displayedMap.panTo(r),"function"===typeof c&&c({stopNum:a,stopName:l,origin:"Map Marker - Change Stop"}),"function"===typeof e&&e()});var f={top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,50],"bottom-left":[10,-20],"bottom-right":[-10,-20],left:[20,30],right:[-20,30]},m=new i.a.Popup({closeButton:!1,closeOnClick:!1,offset:f});return d.addEventListener("mouseenter",function(){d.classList.add("enlarge"),h&&m.setLngLat(r).setHTML("<p>".concat(h,"</p>")).addTo(n.displayedMap),h&&m._content.classList.add("tour-tooltip"),h&&m._container.classList.add("tour-tooltip")}),d.addEventListener("mouseleave",,p},deleteMarker:function(t){t.remove()},createMarkerWithPopup:function(t,e,n){var r=this,o=t.markerCoords,a=t.className,s=t.order,c=t.draggable,u=t.stopName,h=t.changeStop,d=document.createElement("div");d.className=a,d.style.backgroundImage="url('https://s3.us-east-2.amazonaws.com/c3dtourbuilderx/media/numbered_tour_icons/number_".concat(s+1,".png')"),d.setAttribute("data-order",s+1);var p=new i.a.Marker(d,{offset:[0,-15]}).setLngLat(o).addTo(this.displayedMap);return c||(p.setPopup(new i.a.Popup({offset:25}).setHTML("")),p.getPopup()._listeners||p.getPopup().on("close",function(){l.a.unmountComponentAtNode(p.getPopup()._content),d.classList.remove("enlarge")}),d.addEventListener("click",function(){r.displayedMap.panTo(o,{zoom:15}),"function"===typeof h&&h({stopNum:s,stopName:u,origin:"Map Marker - Change Stop"})}),d.addEventListener("mouseenter",function(){d.classList.add("enlarge"),p.getPopup().isOpen()||(p.getPopup().addTo(r.displayedMap),l.a.render(e,p.getPopup()._content),p.getPopup()._container.addEventListener("mouseleave",function(t){var e=t.relatedTarget&&t.relatedTarget.getAttribute("class");null!==e&&e.includes("c3dgl-marker")||p.getPopup().remove()}),"function"===typeof n&&n({stopNum:s,stopName:u,origin:"Open Popup"}))}),d.addEventListener("mouseleave",function(t){if(p.getPopup().isOpen()){var e=t.relatedTarget&&t.relatedTarget.getAttribute("class");null!==e&&e.includes("popup")||p.getPopup().remove()}})),p},createRadarMarker:function(t){var e=t.lng,n=t.lat,r=document.createElement("div");return r.className="tour-stop-marker-fixed c3dgl-marker enlarge",r.style.backgroundImage='url("https://s3.us-east-2.amazonaws.com/c3dtourbuilderx/media/radar.png")',new i.a.Marker(r).setLngLat([e,n]).addTo(this.displayedMap)},rotateRadarMarker:function(t,e,n){var r=t._element.style,i=Object(f.b)(r.transform,e,n);return r.transform=i,this.displayedMap.on("move",function(){r.transform=Object(f.b)(r.transform,e,n)}),this.displayedMap.on("moveend",function(){r.transform=Object(f.b)(r.transform,e,n)}),t},updateMarkerNumber:function(t,e){return t._element.style.backgroundImage='url("https://s3.us-east-2.amazonaws.com/c3dtourbuilderx/media/numbered_tour_icons/number_'.concat(e+1,'.png")'),t},updateMarkerImage:function(t,e,n){t._element.classList.add("enlarge");var r=t._element.style,i='url("https://s3.us-east-2.amazonaws.com/c3dtourbuilderx/media/radar.png")',o=r.backgroundImage!==i?i:r.backgroundImage;return r.backgroundImage=o,r.transform=Object(f.b)(r.transform,e,n),t},makeMarkerDraggable:function(t,e,n){t.setDraggable(!0),e&&t.on("dragstart",e),n&&t.on("dragend",n)},setMarkerLocation:function(t,e,n){var r=new i.a.LngLat(n,e);t.setLngLat(r)},disableMarkerDragging:getMapStyle:function(){var t;if(null===(t=this.displayedMap)||void 0===t?void 0:t.isStyleLoaded())return this.displayedMap.getStyle().name},updateMapStyle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.getMapStyle();if(this.displayedMap&&p[r]!==t){var i=this.buildMapStyle(t);return this.displayedMap.setStyle(i),e&&n&&this.reAddRasterLayer(e,n)}if("streets"===t&&"streets"===p[r])return e&&n&&this.addRasterLayer(e,n)},buildMapStyle:function(t){return"streets"===t?"https://tileserver.concept3d.com/styles/klokantech-basic/style.json":"mapbox://styles/mapbox/".concat("scenic"===t?"cj8gg22et19ot2rnz65958fkn":"".concat(t,"-v9"))},reAddRasterLayer:addRasterLayer:function(t,e,n){if("function"===typeof n&&n(),window.Cypress)return!1;var r=this.displayedMap.getSource(t),i=this.displayedMap.getLayer(t);r||i||this.displayedMap.addLayer({id:t,type:"raster",source:{type:"raster",tileSize:256,scheme:"tms",tiles:[e]},"source-layer":t})},removeLayer:function(t){var e=this.displayedMap.getSource(t),n=this.displayedMap.getLayer(t);e&&n&&(this.displayedMap.removeLayer(t),this.displayedMap.removeSource(t))},drawMapPolygon:function(t){var e=this.displayedMap.getSource("route");e?e.setData({type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t}}):this.displayedMap.addLayer({id:"route",type:"line",source:{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t}}},layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#888","line-width":6}})},panTo:function(t,e,n){t&&e&&(n=n||this.displayedMap.getZoom(),this.displayedMap.panTo(new i.a.LngLat(e,t),{zoom:n}))}},v=e.a=m},174:function(t,e,n){"use strict";var r=n(2),i=n.n(r),o=n(3),a=n(6),s=n(7),l=n(25),c=function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(s.a)(),r=localStorage.getItem("aid"),t.prev=2,t.next=5,fetch("".concat(a.a.tourAPI,"/v2/").concat(r,"/tours/").concat(e,"/stops"),{headers:n,credentials:"include"});case 5:return o=t.sent,t.next=8,Object(l.a)(o);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(s.a)(),r=localStorage.getItem("aid"),t.prev=2,t.next=5,fetch("".concat(a.a.tourAPI,"/v2/").concat(r,"/stops/").concat(e),{headers:n,credentials:"include"});case 5:return o=t.sent,t.next=8,Object(l.a)(o);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(s.a)(),r=localStorage.getItem("aid"),t.prev=2,t.next=5,fetch("".concat(a.a.tourAPI,"/v2/").concat(r,"/stops"),{method:"POST",headers:n,body:JSON.stringify(e),credentials:"include"});case 5:return o=t.sent,t.next=8,Object(l.a)(o);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(o.a)(i.a.mark(function t(e,n){var r,o,c,u;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(s.a)(),o=localStorage.getItem("aid"),c=n?"?tourId=".concat(n):"",t.prev=3,t.next=6,fetch("".concat(a.a.tourAPI,"/v2/").concat(o,"/stops/").concat(e.id).concat(c),{method:"PUT",headers:r,body:JSON.stringify(e),credentials:"include"});case 6:return u=t.sent,t.next=9,Object(l.a)(u);case 9:return t.abrupt("return",t.sent);case 12:throw t.prev=12,t.t0=t.catch(3),t.t0;case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(e,n){return t.apply(this,arguments)}}(),p=n(36),f=n(158);n.d(e,"b",function(){return m}),n.d(e,"a",function(){return v}),n.d(e,"c",function(){return g}),n.d(e,"f",function(){return y}),n.d(e,"d",function(){return b}),n.d(e,"e",function(){return w});var m=function(t){return function(){var e=Object(o.a)(i.a.mark(function e(n,r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(x()),e.prev=1,e.next=4,c(t);case 4:e.sent.forEach(,n(w()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(A(e.t0.message||"Something went wrong fetching stops."));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}()},v=function(t){return function(){var e=Object(o.a)(i.a.mark(function e(n,r){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(x()),e.prev=1,e.next=4,u(t);case 4:o=e.sent,Object(p.b)(,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n(A(e.t0.message||"Something went wrong fetching the stop."));case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t,n){return e.apply(this,arguments)}}()},g=function(t,e){return function(){var n=Object(o.a)(i.a.mark(function n(r,o){var a,s,l;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(x()),n.prev=1,n.next=4,h(t);case 4:a=n.sent,s=a.stop,l=a.tourId,Object(p.b)(function(){r(b(s)),r(Object(f.a)(l,s.id)),r(Object(f.l)(l,!1)),r(w())}),"function"===typeof e&&e(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),r(A(n.t0.message||"Something went wrong saving the stop."));case 14:case"end":return n.stop()}},n,null,[[1,11]])}));return function(t,e){return n.apply(this,arguments)}}()},y=function(t,e){return function(){var n=Object(o.a)(i.a.mark(function n(r,o){var a;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(x()),n.prev=1,n.next=4,d(t,e);case 4:a=n.sent,Object(p.b)(function(){r(b(a)),r(Object(f.l)(e),!1),r(w())}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r(A(n.t0.message||"Something went wrong saving the stop."));case 11:case"end":return n.stop()}},n,null,[[1,8]])}));return ()},b=x=function(){return{type:"STOPS_STATUS",status:"saving",errorMessage:""}},w=A=,175:function(t,e,n){"use strict";var r=n(150),i=n(151),o=n(153),a=n(152),s=n(0),l=n.n(s),c=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).onMouseEnter=function(){t.setState({hovering:!0})},t.onMouseLeave=function(){t.setState({hovering:!1})},t.state={hovering:!1},t}return Object(i.a)(n,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.props.render({onEnter:this.onMouseEnter,onLeave:this.onMouseLeave,hovering:this.state.hovering}))}}]),n}(s.Component);e.a=c},176:function(t,e,n){"use strict";var r={};t.exports=function(t){var e,n,i,o;for(t||(t={}),e=1,n=arguments.length;e<n;e+=1)for(o in i=arguments[e])o in t&&(t[o]===i[o]||o in r&&r[o]===i[o])||(t[o]=i[o]);return t}},179:180:181:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"g",function(){return l}),n.d(e,"d",function(){return c}),n.d(e,"f",function(){return u}),n.d(e,"h",function(){return h}),n.d(e,"a",function(){return d}),n.d(e,"e",function(){return p});var r=n(6),i=n(7),o=n(172),a=function(t,e){var n=Object(i.a)(),o=e?"?tour_data=true":"";return fetch("".concat(r.a.tourAPI,"/media/").concat(t).concat(o),{method:"GET",headers:n,credentials:"include"}).then(function(t){if(200!==t.status)throw{message:"Error Fetching Media Data"};return t.json()}).then(function(t){return t})},s=function(t){var e=Object(i.a)(),n=Object(o.a)(t.type);return fetch("".concat(r.a.tourAPI,"/media"),{method:"POST",headers:e,body:JSON.stringify(t),credentials:"include"}).then(function(t){if(200!==t.status)throw{message:"".concat(n," failed to upload. ").concat("Video"===n?"Check that the URL is correct and try again.":"Please try again."),status:t.status};return t.json()}).then(function(t){return t})},l=function(t){var e=Object(i.a)();return fetch("".concat(r.a.tourAPI,"/media"),{method:"PATCH",headers:e,body:JSON.stringify(t),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})},c=function(t){var e=Object(i.a)();return fetch("".concat(r.a.tourAPI,"/panos"),{method:"POST",headers:e,body:JSON.stringify(t),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})},u=function(t){var e=Object(i.a)();return fetch("".concat(r.a.accountsAPI,"/buildpano"),{method:"POST",headers:e,body:JSON.stringify(t),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})},h=function(t){var e=Object(i.a)();return fetch("".concat(r.a.tourAPI,"/panos"),{method:"PATCH",headers:e,body:JSON.stringify(t),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})},d=function(t){var e=t.aid,n=t.id,o=t.type,a=Object(i.a)();return fetch("".concat(r.a.tourAPI,"/media/").concat(e,"/assets/").concat(n),{method:"DELETE",headers:a,body:JSON.stringify({type:o}),credentials:"include"}).then(function(t){return t}).then(.catch(function(t){return console.log("ERROR DELETING MEDIA",t)})},p=function(t,e,n){var o=Object(i.a)();return fetch("".concat(r.a.tourAPI,"/media/").concat(t,"?type=").concat(e,"&search=").concat(n,"&tour_data=true"),{method:"GET",headers:o,credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t}).catch(}},182:function(t,e,n){"use strict";n.d(e,"c",function(){return h}),n.d(e,"e",function(){return d}),n.d(e,"b",function(){return p}),n.d(e,"d",function(){return f}),n.d(e,"a",function(){return m});var r=n(2),i=n.n(r),o=n(3),a=n(23),s=n(6),l=n(7),c=n(28),u=n(25),h=function(t){var e=Object(l.a)();return fetch("".concat(s.a.tourAPI,"/accounts/").concat(encodeURIComponent(t)),{headers:e,credentials:"include"}).then(.then(function(t){return t})},d=function(t){var e=t.accountId,n=t.userId,r=t.packageQuantity,i=t.newTier,o=t.accountName,c=Object(l.a)();return fetch("".concat(s.a.accountsAPI,"/api/admin/accounts/tour/upgrade/").concat(encodeURIComponent(n)),{method:"POST",headers:c,body:JSON.stringify(t),credentials:"include"}).then(function(t){return t.json()}).then(function(t){if("string"===typeof t)return t;var n=t.stripeResponse,s=t.newPermissions,l=n;return a.a.push("/home/settings/subscription"),Object.assign({},{name:o,aid:e,stripeId:l.id,tier:i,packageQuantity:r,tierPermissions:s,customer:l})})},p=function(t,e){var n=new Headers,r=c.a.token;n.append("Authorization","Bearer ".concat(r));var i=[];if(e){var o=encodeURIComponent(e);i.push("search=".concat(o))}t&&i.push("start=".concat(t));var a=i.length?"".concat(s.a.tourAPI,"/admin/v2/accounts?sort=name asc, tier asc&").concat(i.join("&")):"".concat(s.a.tourAPI,"/admin/v2/accounts?sort=name asc, tier asc");return fetch(encodeURI(a),{headers:n,credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t}).catch(},f=function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r,o,a=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=Object(l.a)(),t.next=4,fetch("".concat(s.a.accountsAPI,"/api/admin/v2/accounts/").concat(encodeURIComponent(e)),{headers:r,credentials:"include"});case 4:return o=t.sent,t.next=7,Object(u.a)(o,n);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t)}));return (),m=function(t,e){var n=Object(l.a)();return fetch("".concat(s.a.accountsAPI,"/api/v2/").concat(encodeURIComponent(t),"/settings/ga"),{headers:n,method:"PUT",body:JSON.stringify(e),credentials:"include"}).then(function(t){return t.json()}).then(.catch(}},185:function(t,e,n){},186:187:188:189:191:function(t,e,n){t.exports=n.p+"static/media/logo_dark.05442d31.svg"},192:function(t,e,n){"use strict";(function(t){"undefined"===typeof Promise&&n(278).polyfill(),t.export=Promise}).call(this,n(196)(t))},193:function(t,e,n){"use strict";t.exports=function(t,e){return e&&(t.skip=function(){return e}),t.wrap=function(e,n){return e(t,n)},t.chain=function(){return"undefined"!==typeof console&&console.log("rest.js: client.chain() is deprecated, use client.wrap() instead"),t.wrap.apply(this,arguments)},t}},194:function(t,e,n){"use strict";var r=n(210);function i(t,e){return t.then(}function o(){return i(this,"entity")}function a(){return i(i(this,"status"),"code")}function s(){return i(this,"headers")}function l(t){return t=r(t),i(this.headers(),t)}function c(t){return u((t=[].concat(t)).reduce(function(t,e){return t.then(function(t){if("string"===typeof e&&(e={rel:e}),"function"!==typeof t.entity.clientFor)throw new Error("Hypermedia response expected");return t.entity.clientFor(e.rel)({params:e.params})})},this))}function u(t){return t.status=a,t.headers=s,t.header=l,t.entity=o,t.follow=c,t}function h(t,e,n){return u(Promise.resolve(t).then(e,n))}h.make=u,h.reject=function(t){return u(Promise.reject(t))},h.promise=t.exports=h},195:function(t,e,n){"use strict";var r=n(2),i=n.n(r),o=n(3),a=n(6),s=n(7),l=function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(s.a)(),t.prev=1,t.next=4,fetch("".concat(a.a.accountsAPI,"/api/admin/accounts/tour/").concat(encodeURIComponent(e.userId),"/source/update"),{method:"POST",headers:n,body:JSON.stringify(e),credentials:"include"});case 4:return r=t.sent,t.next=7,r.json();case 7:if(!(o=t.sent).errorMessage){t.next=10;break}return t.abrupt("return",o.errorMessage);case 10:return t.abrupt("return",o);case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}},t,null,[[1,13]])}));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(s.a)(),t.prev=1,t.next=4,fetch("".concat(a.a.accountsAPI,"/api/admin/accounts/tour/").concat(encodeURIComponent(e.userId),"/source/new"),{method:"POST",headers:n,body:JSON.stringify(e),credentials:"include"});case 4:return r=t.sent,t.next=7,r.json();case 7:if(!(o=t.sent).errorMessage){t.next=10;break}return t.abrupt("return",o.errorMessage);case 10:return t.abrupt("return",o);case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}},t,null,[[1,13]])}));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(s.a)(),t.prev=1,t.next=4,fetch("".concat(a.a.accountsAPI,"/api/admin/accounts/tour/payments/").concat(encodeURIComponent(e)),{headers:n,credentials:"include"});case 4:return r=t.sent,t.next=7,r.json();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e){return t.apply(this,arguments)}}(),h=n(182),d=n(197),p=n(36);n.d(e,"f",function(){return m}),n.d(e,"e",function(){return v}),n.d(e,"c",function(){return g}),n.d(e,"h",function(){return y}),n.d(e,"g",function(){return b}),n.d(e,"b",function(){return x}),n.d(e,"d",function(){return w}),n.d(e,"a",function(){return A});var f=function(t){return{type:"SAVE_PAYMENT_INFO",data:t}},m=function(t){return{type:"SET_STRIPE_ERROR",error:t}},v=function(t){return{type:"SAVE_ACCOUNT_INFO",stripeId:t.stripeId,status:t.status,tier:t.tier,packageQuantity:t.packageQuantity,permissions:t.tierPermissions||{},payment:t.customer,aid:t.aid,name:t.name,gaId:t.gaId,mapboxToken:t.mapboxToken}},g=function(t,e){return function(n){Object(h.b)(t,e).then(function(t){n({type:"SAVE_ALL_ACCESSIBLE_ACCOUNTS",accounts:t})})}},y=function(t){return function(e){e({type:"ACCOUNT_UPDATING"}),Object(h.e)(t).then(function(n){e(Object(d.c)(t.newTier)),"string"===typeof n?Object(p.b)(function(){e(m(n)),e({type:"ACCOUNT_UPDATING"})}):Object(p.b)(function(){e(v(n)),e({type:"ACCOUNT_UPDATING"})})})}},b=function(t){return function(e){e({type:"ACCOUNT_UPDATING"}),l(t).then(function(n){"string"===typeof n?Object(p.b)(function(){e(m(n)),e({type:"ACCOUNT_UPDATING"})}):(Object(p.b)(function(){e(f(n)),e({type:"ACCOUNT_UPDATING"})}),"function"===typeof t.callback&&t.callback())})}},x=function(t){return function(e){e({type:"ACCOUNT_UPDATING"}),c(t).then(function(n){"string"===typeof n?(Object(p.b)(function(){}),e(m(n)),e({type:"ACCOUNT_UPDATING"})):(Object(p.b)(function(){e(f(n)),e({type:"ACCOUNT_UPDATING"})}),"function"===typeof t.callback&&t.callback())})}},w=function(t){return function(e){u(t).then(}},A=function(t,e){return function(n){n({type:"ACCOUNT_UPDATING"}),Object(h.a)(t,e).then(function(t){Object(p.b)(function(){n({type:"UPDATE_GAID",gaId:t.gaId}),n({type:"ACCOUNT_UPDATING"})})})}}},197:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return h}),n.d(e,"c",function(){return d});var r=n(2),i=n.n(r),o=n(3),a=n(36),s=n(170),l=n(162),c=n(158),u=function(t,e){return function(n){Object(s.c)(t).then(function(t){var r=t.tour;Object(a.b)(function(){n(Object(c.h)(r)),n(Object(l.b)(!0))}),"function"===typeof e&&e()})}},h=function(t){return function(){var e=Object(o.a)(i.a.mark(function e(n){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(t);case 2:r=e.sent,n(p(r));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},d=function(t){return function(e,n){var r=Object.values(n().tourData.tours).filter(function(t){return t.published}).map(function(t){return t.id});Promise.all(r.map(function(){var e=Object(o.a)(i.a.mark(function e(n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.f)(n,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))}},p=function(t){return{type:"SAVE_PUBLIC_TOUR",aid:t.aid,id:t.id,panos:t.panos,images:t.images,videos:t.videos,audio:t.audio,stops:t.stops,tours:t.tourData,tier:t.tier,active:t.active,gaId:t.gaId,mapboxToken:t.mapboxToken}}},199:200:201:202:function(t,e,n){"use strict";var r=n(11),i=n(12),o=n(0),a=n.n(o),s=n(231),l=["hovering","active","onEnter","onLeave","color","backgroundColor","handleClick","myRef","children","tooltip","isMobile","tooltipClass"];e.a=function(t){var e=t.hovering,n=t.active,c=t.onEnter,u=t.onLeave,h=t.color,d=t.backgroundColor,p=t.handleClick,f=t.myRef,m=t.children,v=t.tooltip,g=t.isMobile,y=t.tooltipClass,b=Object(i.a)(t,l),x=Object(o.useState)(!1),w=Object(r.a)(x,2),A=w[0],E=w[1],_=!g&&e||n?{color:d,backgroundColor:h}:{color:h,backgroundColor:d},T=S=Object(o.useEffect)(function(){return v&&document.addEventListener("keydown",S,!1),function(){return v&&document.removeEventListener("keydown",S,!1)}},[v]);var M=!g&&(e||A);return a.a.createElement("div",null,a.a.createElement("button",Object.assign({style:_,onMouseEnter:c,onMouseLeave:u,onClick:p,onFocus:function(){return T(!0)},onBlur:function(){return T(!1)},ref:f,"data-testid":"button-hover-primary"},b),m),v&&a.a.createElement(s.a,Object.assign({style:{color:d,backgroundColor:h},show:M,tooltipClass:y},v)))}},206:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n(2),o=n.n(i),a=n(3),s=n(38),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:120;return function(){var e=Object(a.a)(o.a.mark(function e(n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r&&clearInterval(r),n(c()),r=setInterval(1e3*t);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},c=function(){return function(){var t=Object(a.a)(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a();case 2:n=t.sent,e(u(n));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},u=function(t){return{type:"SAVE_ACTIVE_SESSIONS",data:t}}},207:208:209:function(t,e,n){"use strict";var r,i,o;=n(193),"function"!==typeof Promise&&console&&console.log&&console.log("An ES6 Promise implementation is required to use rest.js. See https://github.com/cujojs/when/blob/master/docs/es6-promise-shim.md for using when.js as a Promise polyfill."),a.setDefaultClient=function(t){i=t},a.getDefaultClient=function(){return i},a.resetDefaultClient=a.setPlatformDefaultClient=function(t){if(o)throw new Error("Unable to redefine platformDefaultClient");i=o=t},t.exports=r(a)},210:function(t,e,n){"use strict";t.exports=,211:function(t,e,n){"use strict";var r,i;r=n(160),i=n(282),t.exports=r({request:function(t,e){var n,r,o;return e.prefix&&!new i(t.path).isFullyQualified()&&(n=e.prefix,t.path&&(o="/",(r=n).lastIndexOf(o)+o.length===r.length||t.path,"/")||(n+="/"),n+=t.path),t.path=n),t}})},212:function(t,e,n){"use strict";var r,i;function o(t){return(t=encodeURIComponent(t)).replace(r,"+")}function a(t){return t=t.replace(i," "),decodeURIComponent(t)}r=/%20/g,i=/\+/g,t.exports={read:function(t){var e={};return t.split("&").forEach(function(t){var n,r,i;r=a((n=t.split("="))[0]),i=2===n.length?a(n[1]):null,r in e?(Array.isArray(e[r])||(e[r]=[e[r]]),e[r].push(i)):e[r]=i}),e},write:function(t){var e="";return Object.keys(t).forEach(function(n){e=function t(e,n,r){return Array.isArray(r)?r.forEach(:(e.length>0&&(e+="&"),e+=o(n),void 0!==r&&null!==r&&(e+="="+o(r))),e}(e,n,t[n])}),e}}},213:function(t,e,n){"use strict";t.exports={parse:function(t){var e,n;return e=t.split(";"),{raw:t,type:(n=e[0].trim().split("+"))[0],suffix:n[1]?"+"+n[1]:"",params:e.slice(1).reduce(function(t,e){return t[(e=e.split("="))[0].trim()]=e[1]?e[1].trim():void 0,t},{})}}}},214:function(t,e,n){"use strict";var r,i,o;r=n(160),i=n(286),o=n(176),t.exports=r({init:function(t){return t.params=t.params||{},t.template=t.template||"",t},request:function(t,e){var n,r;return n=t.path||e.template,r=o({},t.params,e.params),t.path=i.expand(n,r),delete t.params,t}})},215:function(t,n,r){"use strict";t.exports=function(t){try{return Promise.resolve(t())}catch(e){return Promise.reject(e)}}},216:217:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n(155),i=function(t,e){return"auto"===e?"".concat(r.c,"/image/upload/q_auto,f_auto,w_").concat(e,",c_limit/v1/images/").concat(t):"".concat(r.c,"/image/upload/q_auto,f_auto,w_").concat(e||1024,",h_").concat(e||1024,",c_limit/v1/images/").concat(t)},o=a=function(t){var e=t.type,n=void 0===e?"image":e,i=t.path,o=t.params;return"".concat(r.c,"/").concat(n,"/upload/").concat(o?o+"/":"").concat(i)}},218:function(t,e,n){"use strict";var r=n(2),i=n.n(r),o=n(3),a=n(36),s=n(170),l=n(6),c=n(7),u=n(162),h=n(195),d=n(182),p=n(158),f=n(220),m=n(206),v=n(263);n.d(e,"a",function(){return g}),n.d(e,"d",function(){return y}),n.d(e,"b",function(){return b}),n.d(e,"e",function(){return x}),n.d(e,"g",function(){return A}),n.d(e,"f",function(){return E}),n.d(e,"h",function(){return _}),n.d(e,"c",function(){return T});var g=function(t){return function(){var e=Object(o.a)(i.a.mark(function e(n,r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.c)(t).then(function(t){var e=r().media.mediaFetched;t.aid&&Object(a.b)(function(){n(x(t)),!e&&n(Object(u.d)(t))})});case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},y=b=function(t,e){return function(){var n=Object(o.a)(i.a.mark(function n(r){var o;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(d.d)(t);case 3:(o=n.sent)?o.aid&&(localStorage.setItem("aid",o.aid),Object(a.b)(function(){r(Object(h.e)(o)),r(Object(f.a)()),r(Object(p.e)(o.aid,!0)),r(Object(u.b)(!0)),r(Object(m.a)()),r(Object(v.e)())}),localStorage.setItem("accountSwapped","true"),"function"===typeof e&&e()):r({type:"TOUR_ACCOUNT_SWAP_ERROR",value:!0}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r({type:"TOUR_ACCOUNT_SWAP_ERROR",value:!0});case 10:case"end":return n.stop()}},n,null,[[0,7]])}));return function(t){return n.apply(this,arguments)}}()},x=w=function(t){var e=t.tourId;return{type:"SAVE_ACCOUNT_TOUR",tour:t.tour,tourId:e}},A=function(t){return function(){var e=Object(o.a)(i.a.mark(function e(n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)(t).then(function(t){var e=t.tourId,r=t.updatedTour;n(w({tourId:e,tour:r}))});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},E=function(t){return function(e){(function(t){var e=t,n=Object(c.a)();return fetch("".concat(l.a.tourAPI,"/allstops"),{method:"POST",headers:n,body:JSON.stringify(e),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})})(t).then(function(t){var n;e({type:"SAVE_NEW_STOP_ORDER",tour:(n=t).tour,tourId:n.tourId})})}},_=function(){return{type:"SHOW_STOP_DESCRIPTION"}},T=function(){return{type:"HIDE_STOP_DESCRIPTION"}}},220:function(t,e,n){"use strict";n.d(e,"d",function(){return f}),n.d(e,"c",function(){return v}),n.d(e,"e",function(){return g}),n.d(e,"b",function(){return b}),n.d(e,"a",function(){return x});var r=n(2),i=n.n(r),o=n(3),a=n(36),s=n(22),l=n(182),c=(n(218),n(195)),u=n(158),h=n(162),d=n(206),p=function(t){return{type:"SAVE_POLICY_STATUS",privacyPolicy:t}},f=function(t){return{type:"SAVE_USER_CREDS",data:t}},m=function(t){var e=t.permissions;return{type:"SET_USER_PERMISSIONS",permissions:void 0===e?{}:e}},v=function(t,e){return function(){var n=Object(o.a)(i.a.mark(function n(r){var o,l,c,m,v,g;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.b)(t);case 2:(l=n.sent).privacyPolicy||"function"===typeof e&&e(),c=Boolean(null===l||void 0===l?void 0:null===(o=l.roles)||void 0===o?void 0:o.find(function(t){return"rootAdmin"===t.name})),m=l.accounts[0],localStorage.setItem("default-aid",m),localStorage.setItem("uid",t),(!(v=localStorage.getItem("aid"))||v&&!c)&&localStorage.setItem("aid",m),g=localStorage.getItem("aid"),Object(a.b)(function(){c&&r({type:"SET_ROOT_ADMIN"}),r(f(l)),r(y()),r(p(l.privacyPolicy)),r(Object(u.e)(g)),r(Object(h.b)(!0)),r(x()),r(Object(d.a)())});case 12:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()},g=function(t){return function(){var e=Object(o.a)(i.a.mark(function e(n){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.l)(t);case 2:(r=e.sent)&&Object(a.b)(;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},y=function(){return function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("aid"),t.next=3,Object(l.d)(n);case 3:return r=t.sent,t.next=6,e(Object(c.e)(r));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},b=function(t){return function(){var e=Object(o.a)(i.a.mark(function e(n){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(t);case 2:r=e.sent,n(f(r));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},x=function(t){return function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.e)();case 2:n=t.sent,(r=n[localStorage.getItem("aid")])&&e(m(r));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},223:function(t,e,n){"use strict";function r(t,e,n){var r=i(e)+360-i(n),o=r>360?r-360:r;if(t.includes("rotateZ")){var a=t.indexOf("rotateZ"),s=t.substring(0,a);return"".concat(s," rotateZ(").concat(o,"deg)")}return"".concat(t," rotateZ(").concat(o,"deg)")}function i(t){return t<0?Math.abs(t)+180:180-t}n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i})},224:function(t,e,n){"use strict";n.r(e);var r=n(1),i=n(150),o=n(151),a=n(153),s=n(152),l=n(0),c=n.n(l),u=n(31),h=n.n(u),d=n(54),p=n(236),f=n.n(p),m=(n(235),function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).onEnter=function(t){t.classList.add("snackbar__slide-enter--".concat(r.props.position)),t.style.animationFillMode="forwards",t.style.animationDuration="".concat(r.props.duration||.5,"s")},r.onEntered=function(t){t.classList.remove("snackbar__slide-enter--".concat(r.props.position))},r.onExit=function(t){t.classList.add("snackbar__slide-exit--".concat(r.props.position)),t.style.animationFillMode="forwards",t.style.animationDuration="".concat(r.props.duration||.5,"s")},r.state={defaultStyle:{}},r}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state.defaultStyle,e=this.props,n=e.children,i=e.classNames,o=e.showSpinner,a=e.position,s=e.duration,l=e.styles,u=e.inProp,p=e.container,m=void 0===p?document.body:p,v=this.props[a],g=Object(r.a)(Object(r.a)(Object(r.a)({},t),l),v);return h.a.createPortal(c.a.createElement(f.a,{in:u,timeout:s||500,onEnter:this.onEnter,onEntered:this.onEntered,onExit:this.onExit,unmountOnExit:!0},function(){return c.a.createElement("article",{id:"snackbar",className:i,style:Object(r.a)({},g)},"before"===o&&c.a.createElement(d.ClipLoader,{color:"none",size:14}),n,"after"===o&&c.a.createElement(d.ClipLoader,{color:"none",size:14}))}),m)}}]),n}(l.Component));e.default=m},226:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return l}),n.d(e,"h",function(){return c}),n.d(e,"g",function(){return u}),n.d(e,"f",function(){return h}),n.d(e,"e",function(){return d}),n.d(e,"d",function(){return f}),n.d(e,"i",function(){return m});var r=n(159),i=n(57),o=n(157),a=600,s=200,l=600,c=function(t,e,n){var i=e.rotation,o=function(t,e){var n=new r.THREE.Vector3(0,0,0);if(n.distanceTo(t)<.4)return t;var i=new r.THREE.Vector3(t.x,t.y-1.5,t.z);return(new r.THREE.Vector3).subVectors(e?i:t,n).setLength(.15).add(n)}(e.position,n);t.setAttribute("orbit-controls","enabled",!1),o&&t.setAttribute("position",o),i&&t.setAttribute("rotation",i),t.setAttribute("orbit-controls","rotateTo",t.object3D.getWorldPosition(new r.THREE.Vector3)),t.setAttribute("orbit-controls","enabled",!0)},u=function(t){var e=document.getElementById("footer");t?e.classList.add("vr-mode"):e.classList.remove("vr-mode")},h=d=function(t,e){if(t&&t.hasLoaded){var n=e.id,r=e.name;return u(!1),h(!1),e&&Object(o.a)("".concat(n,"-").concat(r),"VR","exited VR"),t.exitVR(),!0}return!1},p=function(t,e){if(t&&t.hasLoaded){var n=e.id,r=e.name;return u(!0),h(!0),e&&Object(o.a)("".concat(n,"-").concat(r),"VR","entered VR"),t.enterVR(),!0}return!1},f=function(t,e,n){Object(i.d)()&&Object(i.e)()?Object(i.c)()?DeviceMotionEvent.requestPermission().then(function(r){"granted"!==r?e.push({pathname:"/share/error/ios-13-device-motion",oldLocation:e.location}):p(n,t)}):Object(i.a)().then(function(r){void 0!==r&&r?p(n,t):e.push({pathname:"/share/error/ios-device-motion",oldLocation:e.location})}):p(n,t)},m=function(t,e){var n=document.querySelector(".a-canvas");n.requestFullScreen?(n.requestFullScreen(),v(t,e)):n.webkitRequestFullScreen?(v(t,e),n.webkitRequestFullScreen()):n.mozRequestFullScreen&&(v(t,e),n.mozRequestFullScreen())},v=function(t){if(t){var e=t.id,n=t.name;Object(o.a)("".concat(e,"-").concat(n),"Full Screen","clicked full screen")}}},227:function(t,e,n){"use strict";var r=n(36),i=n(30),o=n(162),a=n(4),s=n(1),l=n(150),c=n(151),u=n(153),h=n(152),d=n(0),p=n.n(d),f=n(11),m=n(159),v=n(157);n(356);m.registerPrimitive("a-hotspot",{defaultComponents:{hotspot:{}},mappings:{title:"hotspot.title",content:"hotspot.content",disabled:"hotspot.disabled",icon:"hotspot.icon",src:"hotspot.src",id:"hotspot.id",translatecontent:"hotspot.translatecontent",translatetitle:"hotspot.translatetitle",underedits:"hotspot.underedits",darkmode:"hotspot.darkmode",url:"hotspot.url",active:"hotspot.active",play:"hotspot.play",type:"hotspot.type",rotateto:"hotspot.rotateto",centerhotspot:"hotspot.centerhotspot",tourid:"hotspot.tourid",tourname:"hotspot.tourname",hotspotname:"hotspot.hotspotname",hidden:"hotspot.hidden",aid:"hotspot.aid"}}),m.registerComponent("hotspot",{schema:{active:{type:"boolean",default:!1},content:{type:"string",default:""},darkmode:{type:"boolean",default:!1},underedits:{type:"boolean",default:!1},disabled:{type:"boolean",default:!1},id:{type:"string",default:""},icon:{type:"string",default:""},src:{type:"string",default:""},url:{type:"string",default:""},play:{type:"string",default:""},rotateto:{type:"string",default:""},centerhotspot:{type:"boolean",default:!1},title:{type:"string",default:""},translatecontent:{type:"string",default:""},translatetitle:{type:"string",default:""},type:{type:"string",default:""},tourid:{type:"string",default:""},tourname:{type:"string",default:""},hotspotname:{type:"string",default:""},hidden:{type:"boolean",default:!1},aid:{type:"string",default:""}},init:function(){if(this.scene=document.getElementById("scene"),this.data.title){this.hotspotTitle=document.querySelector("#".concat(this.data.title));var t=this.hotspotTitle.getAttribute("position"),e=t.x,n=t.y,r=t.z;this.hotspotTitlePosition="".concat(e," ").concat(n," ").concat(r),this.initializeTitleAnimations(),this.hotspotTitle.setAttribute("depth-write",!1)}if(this.data.icon&&(this.hotspotIcon=document.querySelector("#".concat(this.data.icon)),this.iconSize=this.hotspotIcon.getAttribute("width"),this.iconSrc=this.hotspotIcon.getAttribute("src"),this.setIconListeners(!0),this.setIconAnimations(!0),this.setCollisionDetection(this.hotspotIcon,!0)),this.data.content){var i=this.iconSize/2||0;this.hotspotContent=document.querySelector("#".concat(this.data.content));var o=this.hotspotContent.getAttribute("position").y;this.hotspotContentYPosition=o+i,this.hotspotContentOpacity=this.hotspotContent.getAttribute("opacity"),this.setContentAnimations(!0)}"video"===this.data.type&&this.data.play&&(this.playButton=document.querySelector("#".concat(this.data.play)),this.setThumbnailAnimations(!0)),this.data.src&&this.hotspotContent.setAttribute("src",this.data.src),this.isHovered=!1,this.underedits=this.data.underedits,this.disabled=this.data.disabled},update:function(t){if(t.darkmode!==this.data.darkmode&&this.updateIcon(),t.disabled!==this.data.disabled&&(this.disabled=this.data.disabled),t.underedits!==this.data.underedits&&(this.underedits=this.data.underedits),t.position!==this.data.po&&t.translatetitle!==this.data.translatetitle&&(this.removeTitleAnimations(),this.initializeTitleAnimations()),t.centerhotspot===this.data.centerhotspot||!this.data.centerhotspot||this.data.active||this.data.disabled||this.rotateToHotspot(),!t.hidden&&this.data.hidden){var e=this.el;e.parentNode.removeChild(e)}this.reset(t)},handleMouseEnter:function(){!this.disabled&&this.hotspotTitle&&this.hotspotTitle.setAttribute("visible",!0),this.isHovered=!0},handleMouseLeave:function(){this.disabled||!this.hotspotTitle||this.data.active||this.hotspotTitle.setAttribute("visible",!1),this.isHovered=!1},fireGoogleAnalyticsEvents:function(t){t||"link"===this.data.type||Object(v.a)("".concat(this.data.tourid,"-").concat(this.data.tourname),"Hotspot (".concat(this.data.type,") - Open"),this.data.hotspotname)},handleClick:function(){this.disabled||"link"===this.data.type||this.fireGoogleAnalyticsEvents(this.data.active),"link"===this.data.type&&this.hotspotIcon.emit("mouseleave")},openAnimation:function(){if(this.disabled)return null;this.rotateToHotspot(),this.hotspotContent&&(this.scene.emit("contentopen"),this.hotspotContent.setAttribute("visible",!0),this.playButton&&this.videoPlayButton(),this.hotspotContent.emit("open"),this.hotspotTitle&&this.hotspotTitle.setAttribute("visible",!0),this.translateTitle(),this.updateIcon(),this.translateContent(),this.setCollisionClass(!0))},closeAnimation:function(){var t=this;!this.underedits&&this.hotspotContent&&(this.hotspotContent.emit("close"),this.scene.emit("contentclosed"),this.setCollisionClass(!1),setTimeout(function(){t.hotspotContent.setAttribute("visible",!1),t.hotspotTitle&&t.hotspotTitle.setAttribute("visible",!1)},500),this.translateTitle(),this.updateIcon(),this.videoPlayButton())},rotateToHotspot:function(){if(this.data.rotateto){var t=document.getElementById("camera"),e=this.data.rotateto.split(" "),n=Object(f.a)(e,3),r=n[0],i=n[1],o=n[2];t.components["orbit-controls"].rotateTo({x:r,y:i,z:o})}},videoPlayButton:function(){var t=this;this.data.active&&this.playButton?setTimeout(function(){t.playButton.setAttribute("visible",!0),t.playButton.setAttribute("opacity",.7)},300):!this.data.active&&this.playButton&&setTimeout(function(){t.playButton.setAttribute("visible",!1),t.playButton.setAttribute("opacity",0)},300)},updateIcon:function(){if(this.hotspotIcon){var t=this.data.darkmode?"#hotspot__close-icon-black":"#hotspot__close-icon";this.data.active?this.hotspotIcon.setAttribute("src",t):this.hotspotIcon.setAttribute("src",this.iconSrc)}},removeIconAnimation:function(t){(this.data.active||t)&&(this.hotspotIcon.removeAttribute("animation"),this.hotspotIcon.removeAttribute("animation__opacity"),this.hotspotIcon.setAttribute("opacity",1))},translateTitle:function(t){this.hotspotTitle&&this.data.translatetitle&&(this.data.active?this.hotspotTitle.emit("open"):this.hotspotTitle.emit("close"),t&&this.hotspotTitle.setAttribute("visible",!1))},translateContent:function(){if(this.hotspotContent){var t=this.hotspotContent.getAttribute("position"),e=t.x,n=t.y,r=t.z,i="".concat(e," ").concat(n," ").concat(r);if(n!==this.hotspotContentYPosition){var o=this.iconSize/2||0;this.hotspotContentYPosition=n+o,i="".concat(e," ").concat(this.hotspotContentYPosition," ").concat(r)}this.hotspotContent.setAttribute("position",i)}},setCollisionClass:function(t){t?"video"!==this.data.type?this.hotspotContent.setAttribute("class","hotspot-content"):this.hotspotContent.setAttribute("class","hotspot-content clickable"):this.hotspotContent.setAttribute("class","")},setCollisionDetection:function(t,e){var n=e?"addEventListener":"removeEventListener";t[e?"setAttribute":"removeAttribute"]("aabb-collider",{objects:".hotspot-content"}),t[n]("hitstart",,t[n]("hitend",},setIconListeners:function(t){var e=t?"addEventListener":"removeEventListener";this.hotspotIcon[e]("click",this.handleClick.bind(this)),this.hotspotIcon[e]("mouseenter",this.handleMouseEnter.bind(this)),this.hotspotIcon[e]("mouseleave",this.handleMouseLeave.bind(this)),this.hotspotIcon[e]("rotateToHotspot",this.rotateToHotspot.bind(this))},setIconAnimations:function(t){var e=t?"setAttribute":"removeAttrbute";this.hotspotIcon[e]("opacity",.9),this.hotspotIcon[e]("animation",{property:"scale",elasticity:100,to:"1.1 1.1 1.1",dir:"alternate",loop:!0,dur:1e3,pauseEvents:"mouseenter, grow",resumeEvents:"mouseleave, shrink"}),this.hotspotIcon[e]("animation__opacity",{property:"opacity",to:1,dir:"alternate",loop:!0,dur:1e3,pauseEvents:"mouseenter",resumeEvents:"mouseleave"}),this.hotspotIcon[e]("animation__opacity-hover",{property:"opacity",to:1,loop:!1,dur:200,startEvents:"mouseenter"}),this.hotspotIcon[e]("animation__grow-hover",{property:"scale",to:"1.2 1.2 1.2",loop:!1,dur:200,startEvents:"mouseenter, grow"}),this.hotspotIcon[e]("animation__click",{property:"scale",to:"1.1 1.1 1.1",dir:"alternate",loop:2,dur:100,startEvents:"click"})},setContentAnimations:function(t){var e=t?"setAttribute":"removeAttribute";this.hotspotContent[e]("opacity","0"),this.hotspotContent[e]("animation__content-open-opacity",{property:"opacity",from:0,to:this.hotspotContentOpacity,dur:500,startEvents:"open"}),this.hotspotContent[e]("animation__content-close-opacity",{property:"opacity",to:0,dur:500,startEvents:"close"})},initializeTitleAnimations:function(t){(t||this.data.translatetitle)&&(this.hotspotTitle.setAttribute("animation__title-open",{property:"position",to:t||this.data.translatetitle,dur:100,startEvents:"open"}),this.hotspotTitle.setAttribute("animation__title-close",{property:"position",to:this.hotspotTitlePosition,dur:100,delay:500,startEvents:"close"}))},removeTitleAnimations:function(){this.data.translatetitle&&(this.hotspotTitle.removeAttribute("animation__title-open"),this.hotspotTitle.removeAttribute("animation__title-close"))},setThumbnailAnimations:function(t){var e=this,n=t?"setAttribute":"removeAttribute",r=t?"addEventListener":"removeEventListener";this.playButton&&(this.hotspotContent[r]("mouseenter",function(){return e.toggleOpacity(e.playButton,"enter")}),this.hotspotContent[r]("mouseleave",),this.hotspotContent[n]("animation__hover",{property:"opacity",to:1,from:.8,dur:100,startEvents:"mouseenter"}),this.hotspotContent[n]("animation__leave",{property:"opacity",to:.8,from:1,dur:100,startEvents:"mouseleave"})},toggleOpacity:function(t,e){"enter"===e&&t.setAttribute("opacity",1),"leave"===e&&t.setAttribute("opacity",.8)},reset:function(t){t.active&&!this.data.active&&(this.closeAnimation(),this.translateTitle(!0)),!t.active&&this.data.active&&(this.openAnimation(),this.translateTitle())}});var g=n(334),y=function(t){var e=t.src,n=t.id,r=t.darkMode,i=t.forwardRef,o=t.iconSize,a=t.hideGlow,s=void 0!==a&&a;return p.a.createElement("a-image",{ref:i,class:"clickable",material:"transparent: true; depthWrite: false;",src:e,id:n,width:o.size,height:o.size,scale:"1 1 1",opacity:"0.9",position:"0 0 0"},!s&&p.a.createElement(g.a,{darkMode:r,size:o.size}))},b=n(12),x=["id","title","forwardRef","darkMode","iconSize"],w=function(t){var e=t.id,n=t.title,r=t.forwardRef,i=t.darkMode,o=t.iconSize,a=Object(b.a)(t,x),s=(null===o||void 0===o?void 0:o.size)||1,l="0 ".concat(s+.25*(1-s)," 0");return p.a.createElement("a-text",Object.assign({ref:r,scale:"1 1 1",id:e,height:"0.1",width:"10",visible:"false",align:"center",value:n,position:l,opacity:"1",material:"transparent: false; depthWrite: true;",color:"".concat(i?"#000":"#fff"),font:"https://cdn.aframe.io/fonts/Roboto-msdf.json"},a))},A=n(53),E=n(335);n(362);var _=function(t){var e=t.autoPlay,n=t.closeModal,r=t.content,i=t.alt,o=t.hotspotId,a=t.hotspotName,s=t.img,l=t.media,c=t.name,u=t.primaryColor,h=void 0===u?"#009c66":u,m=t.showModal,v=t.src,g=t.tourId,y=t.tourName,b=t.transcript,x=t.type,w=t.isBeingEdited,_=void 0!==w&&w,T=Object(d.useState)({}),S=Object(f.a)(T,2),M=S[0],C=S[1],I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=Object(d.useState)({width:void 0,height:void 0}),n=Object(f.a)(e,2),r=n[0],i=n[1];return Object(d.useEffect)(function(){function e(){var e=document.getElementsByClassName(t),n=Object(f.a)(e,1)[0],r=window.innerWidth,o=window.innerHeight;if(n){var a=window.getComputedStyle(n);r=a.getPropertyValue("width"),o=a.getPropertyValue("height")}i({width:r,height:o})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}},[]),r}("a-canvas");return Object(d.useEffect)(function(){if(0!==Object.keys(I).length){var t=_?parseInt(I.height)-48+"px":I.height;C({overlay:{width:I.width,height:t,top:"auto",left:"auto"}})}},[_,m,I]),p.a.createElement("div",{className:"hotspot-media-modal__wrapper"},p.a.createElement(A.a,{className:"hotspot-media-modal",closeModal:n,isOpen:m,shouldCloseOnOverlayClick:!0,styles:M},p.a.createElement("section",{id:"hotspot-media-modal__title-wrapper"},!!c&&p.a.createElement("h4",{className:"hotspot-media-modal__name"},c),p.a.createElement("div",{id:"hotspot-media-modal__media-wrapper",className:x},p.a.createElement(E.a,{autoPlay:e,media:[{id:o,alt:i,type:x,content:r,src:v,img:s,tracks:l,transcript:b}],tourId:g,tourName:y,primaryColor:h,hotspotName:a})))))},T=n(27),S=function(t){var e,n,r=t.active,i=t.showBaseHotspot,o=t.assets,a=t.addAsset,s=t.actualWidth,l=t.actualHeight,c=t.contentSize,u=t.position,h=t.alt,m=t.src,v=t.mediaId,g=t.hotspotId,b=t.isBeingEdited,x=t.isDisabled,A=t.title,E=t.rotation,S=t.onClick,M=t.darkMode,C=t.showLabel,I=t.cameraPosition,k=t.tourId,R=t.tourName,L=t.showHotspotModal,O=t.aid,D=t.hidden,P=t.hideGlow,B=t.iconSize,F=Object(T.c)(m),N=Object(T.g)(F),U=Object(T.g)(v),j=Object(d.useState)(1),z=Object(f.a)(j,2),G=z[0],V=z[1],H=Object(d.useState)(!1),W=Object(f.a)(H,2),J=W[0],Z=W[1],Y=Object(d.useState)(!1),K=Object(f.a)(Y,2),Q=K[0],q=K[1],X=Object(d.useRef)(),$=Object(d.useRef)(),tt=C?"title_".concat(g):null,et="content_".concat(g),nt="icon_".concat(g),rt="number"===typeof(null===c||void 0===c?void 0:c.size)?null===c||void 0===c?void 0:c.size:6;G>=1?(e=rt,n=rt/G):(e=rt*G,n=rt);var it=n/2+.75;return Object(d.useEffect)(function(){var t=X&&X.current,e=$&&$.current,n=document.getElementById(v),r=function(){S(g,x),q(!0)};return o[v]&&o[v].loaded&&(n&&Z(!0),n&&V(n.naturalWidth/n.naturalHeight)),U!==v&&e&&n&&Z(!0),N!==F&&(Z(!1),a(v,F,h||"")),l&&s&&V(s/l),t&&t.addEventListener("click",r),function(){t&&t.removeEventListener("click",r)}},[l,s,a,h,o,n,g,X,F,J,x,v,S,N,U,G,m,L]),p.a.createElement(d.Fragment,null,o[v]&&J&&p.a.createElement(d.Fragment,null,p.a.createElement("a-entity",{rotation:E},p.a.createElement("a-hotspot",{darkmode:M,underedits:b,disabled:x,position:u,content:et,hidden:D,icon:nt,title:tt,id:"hotspot_".concat(g),translatecontent:"0 ".concat(it," 0.4"),active:r&&i,rotateto:I,tourId:k,tourName:R,hotspotName:A,type:"image",aid:O,centerHotspot:Q},p.a.createElement("a-image",{id:et,ref:$,src:"#".concat(v),width:e,height:n,position:"0 ".concat(it," -0.4"),scale:"1 1 1",visible:"false",material:"side: front",align:"center",opacity:"1"}),C&&p.a.createElement(w,{id:tt,title:A,darkMode:M,iconSize:B}),p.a.createElement(y,{darkMode:M,forwardRef:X,src:"#hotspot__image-icon".concat(M?"-black":""),id:nt,width:"1",height:"1",hideGlow:P,iconSize:B}))),p.a.createElement(_,{img:m,name:A,alt:h,closeModal:function(){S(g,x),q(!1)},showModal:r&&!i,hotspotId:g,type:"images",isBeingEdited:b})))},M=(n(259),n(363),function(t){var e=t.description,n=t.htmlId,r=t.width,i=t.height,o=t.backgroundColor,a=t.color,s=t.borderRadius,l=t.padding,c=t.opacity;return p.a.createElement("div",{id:n,className:"text-hotspot__html-wrapper",style:{width:r||2048,height:i||1024,position:"fixed",left:0,top:0,zIndex:-1,overflow:"hidden",textOverflow:"ellipsis",background:o||"white",borderRadius:s||20,opacity:c||"0.8",padding:l||40,color:a||"black"},dangerouslySetInnerHTML:{__html:e}})}),C=function(t){var e=t.backgroundColor,n=t.color,r=t.height,i=t.htmlHeight,o=t.htmlWidth,a=t.htmlId,s=t.forwardRef,l=t.position,c=t.planeId,u=t.text,h=t.visible,d=t.width;return p.a.createElement(p.a.Fragment,null,p.a.createElement(M,{htmlId:a,description:u,color:n,backgroundColor:e,height:i,width:o}),p.a.createElement("a-plane",{id:c||null,ref:s,visible:h||"true",width:d||5,height:r||2,material:"shader: html; target: #".concat(a,"; transparent: true; ratio: width; side: front;"),position:l,scale:"1 1 1",opacity:"1"}))},I=function(t){var e=t.active,n=t.showBaseHotspot,r=t.cameraPosition,i=t.darkMode,o=t.hotspotId,a=t.html,s=t.isBeingEdited,l=t.isDisabled,c=t.onClick,u=t.position,h=t.showLabel,m=t.rotation,v=t.contentSize,g=t.title,b=t.tourId,x=t.tourName,A=t.showHotspotModal,E=t.aid,S=t.hidden,M=void 0!==S&&S,I=t.iconSize,k=t.hideGlow,R="rig_".concat(o),L=h?"title_".concat(o):null,O="content_".concat(o),D="icon_".concat(o),P="text-hotspot__".concat(o),B=Object(d.useRef)(),F=Object(d.useRef)(),N=Object(d.useRef)(),U=Object(T.g)(a),j=Object(T.g)(i),z=Object(T.g)(v),G=Object(d.useState)(!1),V=Object(f.a)(G,2),H=V[0],W=V[1];Object(d.useEffect)(function(){var t=N.current,e=F&&F.current,n=function(){c(o,l),W(!0)};return(U&&a!==U&&t||"boolean"===typeof j&&j!==i||z&&z!==v)&&t.components.material.shader.__render(),e&&e.addEventListener("click",n),function(){e&&e.removeEventListener("click",n)}},[P,i,j,U,a,z,v,c,o,l,A]),Object(d.useEffect)(function(){var t=B&&B.current;t&&t.setAttribute("hidden",M)},[M]);var J="number"===typeof(null===v||void 0===v?void 0:v.size)?null===v||void 0===v?void 0:v.size:8,Z=J/1.6,Y="0 ".concat(Z/2+1," -0.4");return p.a.createElement(d.Fragment,null,p.a.createElement("a-entity",{id:R,rotation:m},p.a.createElement("a-hotspot",{ref:B,active:e&&n,content:O,darkmode:i,disabled:l,hotspotName:g,id:"hotspot_".concat(o),icon:D,position:u,rotateto:r,title:L,translatecontent:"0 ".concat(Z/2+1," 0"),tourId:b,tourName:x,type:"text",underedits:s,aid:E,centerHotspot:H},p.a.createElement(C,{backgroundColor:i?"black":"white",color:i?"white":"black",forwardRef:N,htmlId:P,planeId:O,text:a,position:Y,height:Z,width:J,htmlHeight:200*Z,htmlWidth:200*J,visible:"false"}),h&&p.a.createElement(w,{iconSize:I,id:L,value:g,darkMode:i}),p.a.createElement(y,{forwardRef:F,src:"#hotspot__text-icon".concat(i?"-black":""),id:D,iconSize:I,hideGlow:k}))),p.a.createElement(_,{content:a,name:g,closeModal:function(){c(o,l),W(!1)},showModal:e&&!n,hotspotId:o,type:"text",isBeingEdited:s}))},k=function(t){var e=t.active,n=t.changeStop,r=t.darkMode,i=t.handlePlay,o=t.history,a=t.hotspotId,s=t.isBeingEdited,l=t.isDisabled,c=t.linkType,u=t.onClick,h=t.playing,f=t.position,m=t.rotation,g=t.showLabel,b=t.stopId,x=t.stopNum,A=t.title,E=t.tourId,_=t.tourName,T=t.hidden,S=t.url,M=t.value,C=t.hideGlow,I=t.iconSize,k=g?"title_".concat(a):null,R="icon_".concat(a),L="link"===c,O=L?"#hotspot__link-icon":"#hotspot__up-arrow-icon",D=Object(d.useRef)();return Object(d.useEffect)(function(){var t=D.current,e=function(){u(a,l,!0),"function"===typeof i&&h&&i(),L&&(Object(v.a)("".concat(E,"-").concat(_),"Hotspot (Link) - External",A),window.open(S,"_blank","noreferrer")),L||"function"!==typeof n||(Object(v.a)("".concat(E,"-").concat(_),"Hotspot (Link) - Additional Stop",A),n({stopId:b,stopNum:x||M}))};return t&&t.addEventListener("click",e),,[D,h,o,n,i,L,S,E,_,A,u,a,l,M,b,x]),p.a.createElement("a-entity",{rotation:m},p.a.createElement("a-hotspot",{darkmode:r,underedits:s,disabled:l,hidden:T,position:f,icon:R,title:k,id:"hotspot_".concat(a),active:e,tourId:E,tourName:_,hotspotName:A,type:"link"},g&&p.a.createElement(w,{id:k,title:A,darkMode:r,iconSize:I}),p.a.createElement(y,{src:"".concat(O).concat(r?"-black":""),id:R,forwardRef:D,hideGlow:C,iconSize:I})))},R=function(t){var e=t.active,n=t.showBaseHotspot,r=t.addAsset,i=t.assets,o=t.cameraPosition,a=t.darkMode,s=t.showLabel,l=t.rotation,c=t.position,u=t.hotspotId,h=t.isBeingEdited,m=t.isDisabled,g=t.title,b=t.onClick,x=t.handlePlay,A=t.playing,E=t.tourId,S=t.tourName,M=t.video,C=t.toggleMainMediaStatus,I=t.hidden,k=t.showHotspotModal,R=t.aid,L=t.hideGlow,O=t.iconSize,D=s?"title_".concat(u):null,P="icon_".concat(u),B="content_".concat(u),F="play_".concat(u),N="rig_".concat(u),U=Object(d.useState)(!1),j=Object(f.a)(U,2),z=j[0],G=j[1],V=Object(d.useState)(!1),H=Object(f.a)(V,2),W=H[0],J=H[1],Z=Object(d.useState)(!1),Y=Object(f.a)(Z,2),K=Y[0],Q=Y[1],q=Object(d.useRef)(),X=Object(d.useRef)(),$=Object(d.useRef)(),tt=Object(T.d)(M.url),et=Object(T.g)(tt),nt=Object(T.g)(M.id);return Object(d.useEffect)(function(){var t=X.current,e=$.current,n=q.current,o=function(){b(u,m),J(!0),C(!1)},a=function(){t.getAttribute("visible")&&(Q(!K),C(!1),Object(v.a)("".concat(E,"-").concat(S),"Hotspot (Video) - Play",g))},s=function(){"function"===typeof x&&A&&t.getAttribute("visible")&&x()};if(et!==tt&&(G(!1),r(M.id,"".concat(tt),"")),i[M.id]&&i[M.id].loaded&&document.getElementById(M.id)&&G(!0),nt!==M.id&&e){var l=document.getElementById(M.id);l&&G(!0),l&&e.setAttribute("src","#".concat(M.id))}return n&&n.addEventListener("click",o),z&&t&&t.addEventListener("click",a),e&&e.addEventListener("click",s),function(){n&&n.removeEventListener("click",o),t&&t.removeEventListener("click",a),e&&e.removeEventListener("click",s)}},[R,r,i,B,x,u,z,m,b,A,nt,et,tt,X,g,C,E,S,M.alt,M.id,$,k,K]),p.a.createElement(d.Fragment,null,(i[M.id]&&window.Cypress||i[M.id]&&z)&&p.a.createElement("a-entity",{id:N,rotation:l},p.a.createElement("a-hotspot",{active:e&&n,position:c,content:B,underedits:h,disabled:m,icon:P,title:D,id:"hotspot_".concat(u),rotateto:o,translatecontent:"0 3.4 0.4",play:F,type:"video",darkmode:a,tourId:E,tourName:S,hotspotName:g,hidden:I,aid:R,centerHotspot:W},p.a.createElement("a-image",{id:B,src:"#".concat(M.id),width:"8",height:"5",position:"0 3.4 -0.4",scale:"1 1 1",visible:"false",material:"side: front; alpha-test: 0.5;",align:"center",opacity:"0.8",ref:X},p.a.createElement("a-image",{width:"1",height:"1",class:e?"clickable":"",position:"0 0 0.1",scale:"1 1 1",align:"center",opacity:"0.8",material:"side: front; alpha-test: 0.5;",src:"#hotspot__play-icon-black",id:F,ref:$})),s&&p.a.createElement(w,{id:D,title:g,darkMode:a,iconSize:O}),p.a.createElement(y,{forwardRef:q,src:a?"#hotspot__video-icon-black":"#hotspot__video-icon",id:P,darkMode:a,hideGlow:L,iconSize:O}))),p.a.createElement(_,{video:M,autoPlay:K&&n,name:g,hotspotName:g,closeModal:function(){b(u,m),J(!1),Q(!1)},showModal:e&&!n||K,hotspotId:u,type:"videos",src:M.src,isBeingEdited:h}))},L=function(t){var e=t.id,n=t.forwardRef,r=t.src,i=t.position;return p.a.createElement("a-image",{src:r,ref:n,material:"transparent: true; depthWrite: false; ",class:"clickable",id:e,width:"1",height:"1",scale:"0.5 0.5 0.5",opacity:"0.8",position:i,animation:" property: material.opacity; to: 1; dur: 200; startEvents: mouseenter;","animation__mouse-leave":" property: material.opacity; to: 0.8; dur: 200; startEvents: mouseleave;"})},O=function(t){var e=t.active,n=t.showBaseHotspot,r=t.cameraPosition,i=t.contentSize,o=t.rotation,a=t.position,l=t.hotspotId,c=t.isBeingEdited,u=t.isDisabled,h=t.title,m=t.transcript,g=t.darkMode,b=t.showLabel,x=t.onClick,A=t.tourId,E=t.tourName,S=t.src,M=t.toggleMainMediaStatus,C=t.isMainMediaPlaying,I=t.showHotspotModal,k=t.media,R=t.primaryColor,O=t.hideGlow,D=t.iconSize,P=Object(d.useState)(!1),B=Object(f.a)(P,2),F=B[0],N=B[1],U=Object(d.useState)(!1),j=Object(f.a)(U,2),z=j[0],G=j[1],V=Object(d.useState)(0),H=Object(f.a)(V,2),W=H[0],J=H[1],Z=Object(d.useState)(0),Y=Object(f.a)(Z,2),K=Y[0],Q=Y[1],q=Object(d.useState)(!1),X=Object(f.a)(q,2),$=X[0],tt=X[1],et=Object(d.useState)(!1),nt=Object(f.a)(et,2),rt=nt[0],it=nt[1],ot=Object(d.useState)(!1),at=Object(f.a)(ot,2),st=at[0],lt=at[1],ct=Object(d.useState)(!1),ut=Object(f.a)(ct,2),ht=ut[0],dt=ut[1],pt=Object(d.useState)(!1),ft=Object(f.a)(pt,2),mt=ft[0],vt=ft[1],gt=Object(T.g)(F),yt=Object(T.g)(z),bt=Object(T.g)(K),xt=Object(T.g)(i),wt=Object(T.g)(m),At=Object(T.g)(g),Et=b?"title_".concat(l):null,_t="content_".concat(l),Tt="icon_".concat(l),St=Object(d.useRef)(),Mt=Object(d.useRef)(),Ct=Object(d.useRef)(),It=Object(d.useRef)(),kt=Object(d.useRef)(),Rt=Object(d.useRef)(),Lt=Object(d.useRef)(),Ot=Object(d.useRef)(),Dt=g?F?"#hotspot__pause-icon":"#hotspot__play-icon":F?"#hotspot__pause-icon-black":"#hotspot__play-icon-black",Pt=g?z?"#hotspot__volume-off-icon":"#hotspot__volume-on-icon":z?"#hotspot__volume-off-icon-black":"#hotspot__volume-on-icon-black";Object(d.useEffect)(function(){var t=kt.current,e=Rt.current,n=St.current,r=Mt.current,i=Ct.current,o=Ot.current;F&&C&&gt&&N(!1);var a=s=function(){N(!F),M(!1),tt(!0),F||Object(v.a)("".concat(A,"-").concat(E),"Hotspot (Audio) - Play",h)},c=function(){G(!z),z||Object(v.a)("".concat(A,"-").concat(E),"Hotspot (Audio) - Mute",h)},d=p=f=function(){dt(!0),lt(!0),Object(v.a)("".concat(A,"-").concat(E),"Hotspot (Audio) - Open Transcript",h)};return!bt&&K&&J(1e3*t.components.sound.pool.children[0].buffer.duration),gt&&!F&&(t.components.sound.pauseSound(),e.emit("pauseprogress")),!gt&&F&&(K&&t&&t.components&&t.components.sound?(t.components.sound.playSound(),e.emit($?"resumeprogress":"startprogress")):N(!1)),yt&&!z&&t&&t.setAttribute("volume",1),!yt&&z&&t&&t.setAttribute("volume",0),o&&o.addEventListener("click",a),t&&t.addEventListener("sound-loaded",d),t&&t.addEventListener("sound-ended",p),n&&n.addEventListener("click",s),r&&r.addEventListener("click",c),i&&i.addEventListener("click",f),function(){o&&o.removeEventListener("click",a),t&&t.removeEventListener("sound-loaded",d),t&&t.removeEventListener("sound-ended",p),n&&n.removeEventListener("click",s),r&&r.removeEventListener("click",c),i&&i.removeEventListener("click",f)}},[Ct,Lt,St,Mt,kt,F,gt,N,z,yt,G,It,K,bt,Q,Rt,tt,$,rt,it,wt,m,g,At,A,E,h,x,l,u,i,xt,M,C,I]);var Bt=Object(s.a)(Object(s.a)({},k),{},{transcriptOnly:!0}),Ft=st?Bt:k;return p.a.createElement(d.Fragment,null,p.a.createElement("a-entity",{rotation:o},p.a.createElement("a-hotspot",{active:e&&n,underedits:c,disabled:u,position:a,icon:Tt,title:Et,content:_t,id:"hotspot_".concat(l),translatecontent:"0 1.4 1",darkmode:g,rotateto:r,tourid:A,tourname:E,hotspotname:h,type:"audio",centerHotspot:mt},p.a.createElement("a-sound",{ref:kt,refDistance:"0.1",loop:"false",src:"src: url(".concat(S,")"),volume:z?0:1}),p.a.createElement("a-plane",{id:_t,visible:"false",width:2.2,height:"0.75",scale:"1.5 1.5 1.5",position:"0 1.4 -0.4",ref:It},p.a.createElement("a-plane",{color:g?"#000":"#fff",material:"transparent: true; depthWrite: true;",opacity:"0.7",width:2.2,height:"0.75",scale:"1 1 1",position:"0 0 0"}),p.a.createElement("a-plane",{position:"0 -0.4 0",width:2.2,height:"0.05",scale:"1 1 1",geometry:"face: front;",material:"color: #009c6b; shader: flat; transparent: true; depthWrite: false"}),p.a.createElement("a-plane",{ref:Rt,position:"0 -0.4 0",width:2.2,height:"0.05",geometry:"face: front;",material:"color: ".concat(g?"#fff":"#000","; transparent: true;"),animation:"property: position; from: 0 -0.4 0; to: ".concat(1.1," -0.4 0; loop: false; startEvents: startprogress,sound-ended; resumeEvents: resumeprogress; pauseEvents: pauseprogress; dur: ").concat(W),animation__width:"property: scale; from: 1 1 1; to: 0 1 1; loop: false; startEvents: startprogress,sound-ended; resumeEvents: resumeprogress; pauseEvents: pauseprogress; dur: ".concat(W)}),p.a.createElement(L,{id:"".concat(Tt,"-play-toggle"),forwardRef:St,src:Dt,position:"-0.75 0 0.01"}),p.a.createElement(L,{id:"".concat(Tt,"-audio-toggle"),forwardRef:Mt,src:Pt,position:"0 0 0.01"}),p.a.createElement(L,{id:"".concat(Tt,"-audio-toggle"),forwardRef:Ct,src:g?"#hotspot__description-icon":"#hotspot__description-icon-black",position:"0.75 0 0.01"})),b&&p.a.createElement(w,{id:Et,title:h,darkMode:g,iconSize:D}),p.a.createElement(y,{forwardRef:Ot,src:"#hotspot__audio-icon".concat(g?"-black":""),id:Tt,darkMode:g,hideGlow:O,iconSize:D}))),p.a.createElement(_,{closeModal:function(){dt(!1),x(l,u),vt(!1)},hotspotId:l,name:h,media:Ft,tourId:A,tourName:E,primaryColor:R,showModal:e&&!n||ht,transcript:m,toggleMainMediaStatus:M,type:"audio",isBeingEdited:c}))},D=n(364),P=n.n(D),B=n(365),F=n.n(B),N=n(366),U=n.n(N),j=n(367),z=n.n(j),G=n(368),V=n.n(G),H=n(369),W=n.n(H),J=n(370),Z=n.n(J),Y=n(371),K=n.n(Y),Q=n(372),q=n.n(Q),X=n(373),$=n.n(X),tt=n(374),et=n.n(tt),nt=n(375),rt=n.n(nt),it=n(376),ot=n.n(it),at=n(377),st=n.n(at),lt=n(378),ct=n.n(lt),ut=n(379),ht=n.n(ut),dt=n(380),pt=n.n(dt),ft=n(381),mt=n.n(ft),vt=n(382),gt=n.n(vt),yt=n(383),bt=n.n(yt),xt=n(384),wt=n.n(xt),At=n(385),Et=n.n(At),_t=n(386),Tt=n.n(_t),St=n(387),Mt=n.n(St),Ct=n(388),It=n.n(Ct),kt=n(389),Rt=n.n(kt),Lt=n(390),Ot=n.n(Lt),Dt=n(391),Pt=n.n(Dt),Bt=n(217),Ft=function(t){var e=t.assets,n=t.handleAssetLoaded,r=t.hotspotIcons,i=void 0===r?{}:r,o=Object.keys(i).reduce(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=i[e];return n&&(t[e]=Object(Bt.b)({path:n.path})),t},{}),a=o.image,s=o.audio,l=o.link,c=o.stop,u=o.text,h=o.video;return p.a.createElement("a-assets",null,function(t){return Object.keys(t)[0]&&Object.values(t).map(function(t,e){var r=t.id,i=t.key,o=t.src,a=t.alt;return p.a.createElement("img",{key:i+e,id:r,src:o,alt:a,onLoad:function(){return n(r)},crossOrigin:"anonymous"})})}(e),p.a.createElement("img",{src:u||F.a,id:"hotspot__text-icon",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:u||$.a,id:"hotspot__text-icon-black",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:a||P.a,id:"hotspot__image-icon",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:a||q.a,id:"hotspot__image-icon-black",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:l||z.a,id:"hotspot__link-icon",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:l||rt.a,id:"hotspot__link-icon-black",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:h||V.a,id:"hotspot__video-icon",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:h||ot.a,id:"hotspot__video-icon-black",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:s||W.a,id:"hotspot__audio-icon",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:s||st.a,id:"hotspot__audio-icon-black",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:c||Z.a,id:"hotspot__up-arrow-icon",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:c||ct.a,id:"hotspot__up-arrow-icon-black",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:K.a,id:"hotspot__glow-dark",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:Ot.a,id:"hotspot__new-hotspot-icon",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:Pt.a,id:"hotspot__new-hotspot-icon-black",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:U.a,id:"hotspot__close-icon",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:et.a,id:"hotspot__close-icon-black",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:ht.a,id:"hotspot__glow",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:mt.a,id:"hotspot__play-icon-black",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:pt.a,id:"hotspot__pause-icon-black",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:bt.a,id:"hotspot__volume-on-icon-black",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:gt.a,id:"hotspot__volume-off-icon-black",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:wt.a,id:"hotspot__description-icon-black",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:Mt.a,id:"hotspot__play-icon",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:Tt.a,id:"hotspot__pause-icon",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:Rt.a,id:"hotspot__volume-on-icon",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:It.a,id:"hotspot__volume-off-icon",alt:"",crossOrigin:"anonymous"}),p.a.createElement("img",{src:Et.a,id:"hotspot__description-icon",alt:"",crossOrigin:"anonymous"}))},Nt=n(58),Ut=n(336),jt=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(l.a)(this,n),(t=e.call(this)).addAsset=function(e,n,r){t.setState(function(t){return{assets:Object(s.a)(Object(s.a)({},t.assets),{},Object(a.a)({},e,{id:e,src:n,type:"image",alt:r||"",key:e,loaded:!1}))}})},t.handleAssetLoaded=function(e,n,r){t.setState(function(t){return{assets:Object(s.a)(Object(s.a)({},t.assets),{},Object(a.a)({},e,Object(s.a)(Object(s.a)({},t.assets[e]),{},{loaded:!0,width:n,height:r})))}})},t.renderHotspots=function(){var e=t.context.checkFlag,n="function"===typeof e&&e("out-of-world"),r=t.props,i=r.audio,o=r.images,a=r.hotspots,s=r.hotspotIcons,l=void 0===s?{}:s,c=r.hotspotId,u=r.history,h=r.isAddHotspot,d=r.changeStop,f=r.handlePlay,m=r.playing,v=r.tourAccountId,g=r.tourId,y=r.tourName,b=r.videos,x=r.toggleMainMediaStatus,w=r.isMainMediaPlaying,A=r.vrMode,E=r.showHotspotModal,_=r.tours,T=r.aid,M=_&&_[g].styles&&_[g].styles.primaryColor,C=t.state,L=C.assets,D=C.activeHotspot;return Object.values(a).map(function(e,r){var a=e.hotspotId,s=e.name,_=e.darkmode,C=e.outWorldDisplay,P=e.position,B=P.position,F=P.rotation,N=P.camera_position,U=e.iconSize,j=void 0===U?Ut.a.medium:U,z=B&&"".concat(B.x," ").concat(B.y," ").concat(B.z),G=F&&"".concat(F.x," ").concat(F.y," ").concat(F.z),V=N&&"".concat(N.x," ").concat(N.y," ").concat(N.z),H=Object.values(e.media)[0],W=h&&c!==a,J=h&&!W,Z="boolean"!==typeof e.showLabel||e.showLabel,Y=(!C||!n)&&!E;switch(H&&H.type){case"images":var K=o[H.id]||H;if(K){var Q=Object(Bt.c)(K.id,"auto");return p.a.createElement(S,{active:D===a,showBaseHotspot:Y,addAsset:t.addAsset,alt:K.alt,assets:L,cameraPosition:V,contentSize:H.contentSize,darkMode:_,showLabel:Z,hotspotId:a,isBeingEdited:J,isDisabled:W,key:a,mediaId:K.id,onClick:t.updateActiveHotspot,position:z,rotation:G,src:Q,title:s,tourId:g,tourName:y,showHotspotModal:E,hideGlow:l.image,aid:T,hidden:A&&C,iconSize:j})}return null;case"text":return p.a.createElement(I,{active:D===a,showBaseHotspot:Y,cameraPosition:V,darkMode:_,showLabel:Z,hotspotId:a,html:H.html,isBeingEdited:J,isDisabled:W,key:a,onClick:t.updateActiveHotspot,position:z,rotation:G,contentSize:H.contentSize,title:s,tourId:g,tourName:y,showHotspotModal:E,aid:T,hidden:A,hideGlow:l.text,iconSize:j});case"url":return p.a.createElement(k,Object.assign({active:!1,key:a,position:z,rotation:G,cameraPosition:V,title:s,hotspotId:a,history:u,isBeingEdited:J,isDisabled:W,changeStop:d,handlePlay:f,playing:m,onClick:t.updateActiveHotspot,showLabel:Z,darkMode:_,hidden:A&&"stop"!==H.linkType,tourId:g,tourName:y,aid:T,hideGlow:l[H.linkType],iconSize:j},H));case"audio":var q=i[H.id]||H;return q?p.a.createElement(O,{active:D===a,showBaseHotspot:Y,contentSize:H.contentSize,id:q.id,key:a,position:z,rotation:G,cameraPosition:V,title:s,transcript:q.transcript,hotspotId:a,isBeingEdited:J,isDisabled:W,details:H.details,history:u,changeStop:d,handlePlay:f,playing:m,onClick:t.updateActiveHotspot,darkMode:e.darkmode,showLabel:Z,src:Object(Bt.a)(q.id),tourId:g,tourName:y,toggleMainMediaStatus:x,isMainMediaPlaying:w,showHotspotModal:E,primaryColor:M,media:H,aid:T,hideGlow:l.audio,iconSize:j}):null;case"videos":var X=b[H.id]||H;return X?p.a.createElement(R,{active:D===a,showBaseHotspot:Y,key:a,position:z,rotation:G,cameraPosition:V,title:s,hotspotId:a,isBeingEdited:J,isDisabled:W,video:X,onClick:t.updateActiveHotspot,handlePlay:f,playing:m,darkMode:_,showLabel:Z,tourAccountId:v,tourId:g,tourName:y,assets:L,addAsset:t.addAsset,toggleMainMediaStatus:x,hidden:A,showHotspotModal:E,aid:T,hideGlow:l.video,iconSize:j}):null;default:return null}})},t.updateActiveHotspot=function(e,n,r){var i=t.props.setPauseAutoRotate;n||t.state.activeHotspot===e?t.state.activeHotspot===e&&(t.setState({activeHotspot:""}),"function"===typeof i&&i(!1)):(t.setState({activeHotspot:e}),"function"===typeof i&&i(!r))},t.renderTabbables=function(){var e=t.props,n=e.hotspots,r=e.isStatic;return Object.values(n).map(function(t){var e=t.hotspotId,n=t.name,i=return p.a.createElement("div",{role:"button",key:"hotspot-".concat(e),tabIndex:0,id:e,"aria-label":n,onFocus:function(){!r&&i().emit("rotateToHotspot"),i().emit("mouseenter")},onBlur:function(){var t=document.getElementById("content_".concat(e));i().emit("mouseleave"),!0===(null===t||void 0===t?void 0:t.getAttribute("visible"))&&e&&i().emit("click")},onKeyPress:"data-cy":"tabbable-hotspot-".concat(e)})})},t.state={activeHotspot:"",assets:{}},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.props.hotspotIcons,e=this.state.assets;return p.a.createElement(p.a.Fragment,null,p.a.createElement(Ft,{hotspotIcons:t,assets:e,handleAssetLoaded:this.handleAssetLoaded}),this.renderTabbables(),this.renderHotspots())}}]),n}(d.Component);jt.contextType=Nt.a;var zt=jt;e.a=Object(r.c)(function(t){var e=t.publicTour,n=e.tours,r=e.images,i=e.videos,o=e.audio,a=e.aid;return t.userCredentials.email?{aid:a,audio:t.media.audio,images:t.media.images,videos:t.media.videos,isMainMediaPlaying:t.media.isMainMediaPlaying}:n?{aid:a,images:r,videos:i,audio:o,isMainMediaPlaying:t.media.isMainMediaPlaying}:{aid:a,images:{},videos:{},audio:{}}},(zt)},231:function(t,e,n){"use strict";var r=n(1),i=n(150),o=n(151),a=n(153),s=n(152),l=n(0),c=n.n(l),u=(n(301),function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){var o;return Object(i.a)(this,n),(o=e.call(this,t)).setStyle=function(t){var e=o.state,n=e.defStyles,i=e.parentCoords,a=i.x,s=i.bottom,l=i.top,c=i.height,u=i.width,h=e.tooltipWidth,d=e.tooltipHeight,p=Math.abs(c-h),f=Math.abs(c-d);switch(t){case"top":return Object(r.a)(Object(r.a)({},n),{},{transform:"translate3d(".concat(a-p/2,"px, ").concat(l-d-10,"px, 0)")});case"bottom":return Object(r.a)(Object(r.a)({},n),{},{transform:"translate3d(".concat(a-p/2,"px, ").concat(s+10,"px, 0)")});case"left":return Object(r.a)(Object(r.a)({},n),{},{transform:"translate3d(".concat(a-h-10,"px, ").concat(l+f/2,"px, 0)")});case"right":return Object(r.a)(Object(r.a)({},n),{},{transform:"translate3d(".concat(a+u+10,"px, ").concat(l+f/2,"px, 0)")})}},o.state={defStyles:Object(r.a)(Object(r.a)({},t.style),{},{position:"absolute",top:"0",padding:"2px 4px",borderRadius:"2px",fontSize:"10px",fontWeight:600,willChange:"transform",textTransform:"uppercase",zIndex:"10000",width:"auto"}),parentCoords:{},tooltipWidth:null,tooltipHeight:null},o.parent=null,o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.parent=document.querySelector("".concat(this.props.node)),this.parent&&this.setState(Object(r.a)(Object(r.a)({},this.state),{},{parentCoords:this.parent.getBoundingClientRect()}))}},{key:"componentDidUpdate",value:function(t,e){if(!t.show&&this.props.show){var n=document.querySelector(".tooltip").getBoundingClientRect(),i=n.width,o=n.height;this.setState(Object(r.a)(Object(r.a)({},this.state),{},{tooltipWidth:i,tooltipHeight:o}))}}},{key:"render",value:function(){var t=this.props,e=t.text,n=t.show,r=t.position,i=t.style,o=t.tooltipClass,a=n?this.setStyle(r):{};return n?c.a.createElement("span",{className:"tooltip ".concat(o&&o),style:a,role:"tooltip","data-testid":"tooltip"},c.a.createElement("span",{className:"arrow ".concat(r),style:{backgroundColor:i.backgroundColor}}),e):null}}]),n}(l.PureComponent));e.a=u},233:function(t,e){},235:function(t,e,n){},236:237:241:242:243:244:245:246:247:248:249:250:function(t,e){t.exports={}},251:252:253:function(t,e){if("undefined"===typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");var n=THREE.Math.radToDeg;AFRAME.registerComponent("rotation-listener",{tick:function(){var t=this.el.getAttribute("rotation"),e=AFRAME.utils.coordinates.stringify(t);this.lastValue!==e&&(this.el.emit("rotationChanged",t),this.lastValue=e)}}),AFRAME.registerComponent("position-listener",{tick:function(){var t=this.el.getAttribute("position"),e=AFRAME.utils.coordinates.stringify(t);this.lastValue!==e&&(this.el.emit("positionChanged",t),this.lastValue=e)}}),AFRAME.registerComponent("orbit-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},target:{default:""},distance:{default:1},enableRotate:{default:!0},rotateSpeed:{default:1},touchRotateSpeed:{default:1},enableZoom:{default:!0},zoomSpeed:{default:1},enableKeys:{default:!0},keyRotateSpeed:{default:1},enableDamping:{default:!1},dampingFactor:{default:.25},autoRotate:{default:!1},autoRotateSpeed:{default:2},minAzimuthAngle:{default:-1/0},maxAzimuthAngle:{default:1/0},minPolarAngle:{default:0},maxPolarAngle:{default:Math.PI},minZoom:{default:0},maxZoom:{default:1/0},invertZoom:{default:!1},minDistance:{default:0},maxDistance:{default:1/0},rotateTo:{type:"vec3",default:{x:0,y:0,z:0}},rotateToSpeed:{type:"number",default:.1},logPosition:{type:"boolean",default:!1},autoVRLookCam:{type:"boolean",default:!0},stopPropagation:{type:"boolean",default:!0}},multiple:!1,init:function(){this.sceneEl=this.el.sceneEl,this.object=this.el.object3D,this.localKeys={},this.target=this.sceneEl.querySelector(this.data.target).object3D.position,this.isRunning=!1,this.lookControls=null,this.data.autoVRLookCam&&(this.el.components["look-controls"]?this.lookControls=this.el.components["look-controls"]:(this.el.setAttribute("look-controls",""),this.lookControls=this.el.components["look-controls"]),this.lookControls.pause(),this.el.sceneEl.addEventListener("enter-vr",this.onEnterVR.bind(this),!1),this.el.sceneEl.addEventListener("exit-vr",this.onExitVR.bind(this),!1)),this.dolly=new THREE.Object3D,this.dolly.position.copy(this.object.position),this.savedPose=null,this.STATE={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5,ROTATE_TO:6},this.state=this.STATE.NONE,this.EPS=1e-6,this.lastPosition=new THREE.Vector3,this.lastQuaternion=new THREE.Quaternion,this.spherical=new THREE.Spherical,this.sphericalDelta=new THREE.Spherical,this.scale=1,this.zoomChanged=!1,this.rotateStart=new THREE.Vector2,this.rotateEnd=new THREE.Vector2,this.rotateDelta=new THREE.Vector2,this.panStart=new THREE.Vector2,this.panEnd=new THREE.Vector2,this.panDelta=new THREE.Vector2,this.panOffset=new THREE.Vector3,this.dollyStart=new THREE.Vector2,this.dollyEnd=new THREE.Vector2,this.dollyDelta=new THREE.Vector2,this.vector=new THREE.Vector3,this.desiredPosition=new THREE.Vector3,this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT},this.keys={LEFT:"KeyA",UP:"KeyW",RIGHT:"KeyD",BOTTOM:"KeyS"},this.bindMethods()},update:function(t){if(t.rotateTo!==this.data.rotateTo){var e=new THREE.Vector3(this.data.rotateTo.x,this.data.rotateTo.y,this.data.rotateTo.z);this.desiredPosition.equals(e)||(this.desiredPosition.copy(e),this.rotateTo(this.desiredPosition))}this.dolly.position.copy(this.object.position),this.updateView(!0)},remove:function(){this.isRunning=!1,this.removeEventListeners(),this.el.sceneEl.removeEventListener("enter-vr",this.onEnterVR,!1),this.el.sceneEl.removeEventListener("exit-vr",this.onExitVR,!1)},tick:function(t){!(!this.data.enabled||!this.isRunning)&&this.updateView();this.handleKeyDown()},onEnterVR:function(t){this.saveCameraPose(),this.el.setAttribute("position",{x:0,y:0,z:0}),this.el.setAttribute("rotation",{x:0,y:0,z:0}),this.pause(),this.lookControls.play(),this.data.autoRotate&&console.warn("orbit-controls: Sorry, autoRotate is not implemented in VR mode")},onExitVR:function(t){this.lookControls.pause(),this.play(),this.restoreCameraPose(),this.updateView(!0)},pause:function(){this.isRunning=!1,this.removeEventListeners()},play:function(){var t,e;this.isRunning=!0,this.object.traverse(function(n){"PerspectiveCamera"===n.type?(t=n,e="PerspectiveCamera"):"OrthographicCamera"===n.type&&(t=n,e="OrthographicCamera")}),this.camera=t,this.cameraType=e,this.sceneEl.addEventListener("renderstart",this.onRenderTargetLoaded,!1),this.lookControls&&this.lookControls.pause(),this.canvasEl&&this.addEventListeners()},onRenderTargetLoaded:function(){this.sceneEl.removeEventListener("renderstart",this.onRenderTargetLoaded,!1),this.canvasEl=this.sceneEl.canvas,this.addEventListeners()},bindMethods:function(){this.onRenderTargetLoaded=this.onRenderTargetLoaded.bind(this),this.onContextMenu=this.onContextMenu.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseWheel=this.onMouseWheel.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this)},addEventListeners:function(){this.canvasEl.addEventListener("contextmenu",this.onContextMenu,!1),this.canvasEl.addEventListener("mousedown",this.onMouseDown,!1),this.canvasEl.addEventListener("mousewheel",this.onMouseWheel,!1),this.canvasEl.addEventListener("MozMousePixelScroll",this.onMouseWheel,!1),this.canvasEl.addEventListener("touchstart",this.onTouchStart,!1),this.canvasEl.addEventListener("touchend",this.onTouchEnd,!1),this.canvasEl.addEventListener("touchmove",this.onTouchMove,!1),window.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("keyup",this.onKeyUp,!1),window.addEventListener("blur",this.onKeyBlur,!1)},removeEventListeners:function(){this.canvasEl&&(this.canvasEl.removeEventListener("contextmenu",this.onContextMenu,!1),this.canvasEl.removeEventListener("mousedown",this.onMouseDown,!1),this.canvasEl.removeEventListener("mousewheel",this.onMouseWheel,!1),this.canvasEl.removeEventListener("MozMousePixelScroll",this.onMouseWheel,!1),this.canvasEl.removeEventListener("touchstart",this.onTouchStart,!1),this.canvasEl.removeEventListener("touchend",this.onTouchEnd,!1),this.canvasEl.removeEventListener("touchmove",this.onTouchMove,!1),this.canvasEl.removeEventListener("mousemove",this.onMouseMove,!1),this.canvasEl.removeEventListener("mouseup",this.onMouseUp,!1),this.canvasEl.removeEventListener("mouseout",this.onMouseUp,!1)),window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp),window.removeEventListener("blur",this.onKeyBlur)},onContextMenu:function(t){t.preventDefault()},onMouseDown:function(t){if(this.data.enabled&&this.isRunning&&!this.lockControls){if(t.button===this.mouseButtons.ORBIT&&(t.shiftKey||t.ctrlKey)){if(!1===this.data.enablePan)return;this.handleMouseDownPan(t),this.state=this.STATE.PAN}else if(t.button===this.mouseButtons.ORBIT){if(this.panOffset.set(0,0,0),!1===this.data.enableRotate)return;this.handleMouseDownRotate(t),this.state=this.STATE.ROTATE}else if(t.button===this.mouseButtons.ZOOM){if(this.panOffset.set(0,0,0),!1===this.data.enableZoom)return;this.handleMouseDownDolly(t),this.state=this.STATE.DOLLY}else if(t.button===this.mouseButtons.PAN){if(!1===this.data.enablePan)return;this.handleMouseDownPan(t),this.state=this.STATE.PAN}this.state!==this.STATE.NONE&&(this.canvasEl.addEventListener("mousemove",this.onMouseMove,!1),this.canvasEl.addEventListener("mouseup",this.onMouseUp,!1),this.canvasEl.addEventListener("mouseout",this.onMouseUp,!1),this.el.emit("start-drag-orbit-controls",null,!1))}},onMouseMove:function(t){if(this.data.enabled&&this.isRunning&&!this.lockControls)if(t.preventDefault(),this.state===this.STATE.ROTATE){if(!1===this.data.enableRotate)return;this.handleMouseMoveRotate(t)}else if(this.state===this.STATE.DOLLY){if(!1===this.data.enableZoom)return;this.handleMouseMoveDolly(t)}else if(this.state===this.STATE.PAN){if(!1===this.data.enablePan)return;this.handleMouseMovePan(t)}},onMouseUp:function(t){this.data.enabled&&this.isRunning&&!this.lockControls&&this.state!==this.STATE.ROTATE_TO&&(t.preventDefault(),t.stopPropagation(),this.handleMouseUp(t),this.canvasEl.removeEventListener("mousemove",this.onMouseMove,!1),this.canvasEl.removeEventListener("mouseup",this.onMouseUp,!1),this.canvasEl.removeEventListener("mouseout",this.onMouseUp,!1),this.state=this.STATE.NONE,this.el.emit("end-drag-orbit-controls",null,!1))},onMouseWheel:function(t){!this.data.enabled||!this.isRunning||!1===this.data.enableZoom||this.state!==this.STATE.NONE&&this.state!==this.STATE.ROTATE||this.lockControls||(t.preventDefault(),t.stopPropagation(),this.handleMouseWheel(t))},onTouchStart:function(t){if(this.data.enabled&&this.isRunning){switch(t.touches.length){case 1:if(!1===this.data.enableRotate)return;this.handleTouchStartRotate(t),this.state=this.STATE.TOUCH_ROTATE;break;case 2:if(!1===this.data.enableZoom)return;this.handleTouchStartDolly(t),this.state=this.STATE.TOUCH_DOLLY;break;case 3:if(!1===this.data.enablePan)return;this.handleTouchStartPan(t),this.state=this.STATE.TOUCH_PAN;break;default:this.state=this.STATE.NONE}this.state!==this.STATE.NONE&&this.el.emit("start-drag-orbit-controls",null,!1)}},onTouchMove:function(t){if(this.data.enabled&&this.isRunning)switch(t.preventDefault(),this.data.stopPropagation&&t.stopPropagation(),t.touches.length){case 1:if(!1===this.enableRotate)return;if(this.state!==this.STATE.TOUCH_ROTATE)return;this.handleTouchMoveRotate(t);break;case 2:if(!1===this.data.enableZoom)return;if(this.state!==this.STATE.TOUCH_DOLLY)return;this.handleTouchMoveDolly(t);break;case 3:if(!1===this.data.enablePan)return;if(this.state!==this.STATE.TOUCH_PAN)return;this.handleTouchMovePan(t);break;default:this.state=this.STATE.NONE}},onTouchEnd:function(t){this.data.enabled&&this.isRunning&&(this.el.emit("end-drag-orbit-controls",null,!1),this.state=this.STATE.NONE)},onKeyDown:function(t){this.localKeys[t.code]=!0,this.emit(t)},onKeyUp:onKeyBlur:emit:function(t){this.el.emit(t.type+":"+t.code,new KeyboardEvent(t.type,t)),this.data.debug&&console.log(t.type+":"+t.code)},handleMouseDownRotate:function(t){this.rotateStart.set(t.clientX,t.clientY)},handleMouseDownDolly:function(t){this.dollyStart.set(t.clientX,t.clientY)},handleMouseDownPan:handleMouseMoveRotate:function(t){this.rotateEnd.set(t.clientX,t.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart);var e=this.canvasEl===document?this.canvasEl.body:this.canvasEl;this.rotateLeft(2*Math.PI*this.rotateDelta.x/e.clientWidth*this.data.rotateSpeed),this.rotateUp(2*Math.PI*this.rotateDelta.y/e.clientHeight*this.data.rotateSpeed),this.rotateStart.copy(this.rotateEnd),this.updateView()},handleMouseMoveDolly:function(t){this.dollyEnd.set(t.clientX,t.clientY),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y>0?this.data.invertZoom?this.dollyOut(this.getZoomScale()):this.dollyIn(this.getZoomScale()):this.dollyDelta.y<0&&(this.data.invertZoom?this.dollyIn(this.getZoomScale()):this.dollyOut(this.getZoomScale())),this.dollyStart.copy(this.dollyEnd),this.updateView()},handleMouseMovePan:function(t){this.panEnd.set(t.clientX,t.clientY),this.panDelta.subVectors(this.panEnd,this.panStart),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd),this.updateView()},handleMouseUp:function(t){},handleMouseWheel:function(t){var e=0;void 0!==t.wheelDelta?e=t.wheelDelta:void 0!==t.detail&&(e=-t.detail),e>0?this.data.invertZoom?this.dollyIn(this.getZoomScale()):this.dollyOut(this.getZoomScale()):e<0&&(this.data.invertZoom?this.dollyOut(this.getZoomScale()):this.dollyIn(this.getZoomScale())),this.updateView()},handleTouchStartRotate:function(t){this.rotateStart.set(t.touches[0].pageX,t.touches[0].pageY)},handleTouchStartDolly:function(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);this.dollyStart.set(0,r)},handleTouchStartPan:function(t){this.panStart.set(t.touches[0].pageX,t.touches[0].pageY)},handleTouchMoveRotate:function(t){this.rotateEnd.set(t.touches[0].pageX,t.touches[0].pageY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart);var e=this.canvasEl===document?this.canvasEl.body:this.canvasEl;this.rotateLeft(2*Math.PI*this.rotateDelta.x/e.clientWidth*this.data.touchRotateSpeed),this.rotateUp(2*Math.PI*this.rotateDelta.y/e.clientHeight*this.data.touchRotateSpeed),this.rotateStart.copy(this.rotateEnd),this.updateView()},handleTouchMoveDolly:function(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);this.dollyEnd.set(0,r),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y<0?this.dollyIn(this.getZoomScale()):this.dollyDelta.y>0&&this.dollyOut(this.getZoomScale()),this.dollyStart.copy(this.dollyEnd),this.updateView()},handleTouchMovePan:function(t){this.panEnd.set(t.touches[0].pageX,t.touches[0].pageY),this.panDelta.subVectors(this.panEnd,this.panStart),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd),this.updateView()},handleKeyDown:function(){if(this.data.enableKeys){var t=this.canvasEl===document?this.canvasEl.body:this.canvasEl;(this.localKeys.KeyW||this.localKeys.ArrowUp)&&(this.rotateUp(1.5*Math.PI*-1/t.clientHeight*this.data.keyRotateSpeed),this.updateView()),(this.localKeys.KeyS||this.localKeys.ArrowDown)&&(this.rotateUp(1.5*Math.PI*1/t.clientHeight*this.data.keyRotateSpeed),this.updateView()),(this.localKeys.KeyA||this.localKeys.ArrowLeft)&&(this.rotateLeft(1.5*Math.PI*-1/t.clientWidth*this.data.keyRotateSpeed),this.updateView()),(this.localKeys.KeyD||this.localKeys.ArrowRight)&&(this.rotateLeft(1.5*Math.PI*1/t.clientWidth*this.data.keyRotateSpeed),this.updateView()),this.localKeys.Minus&&this.camera.zoom>this.data.minZoom&&this.keyZoom(-.01),this.localKeys.Equal&&this.camera.zoom<=this.data.maxZoom&&this.keyZoom(.01)}},keyZoom:function(t){this.camera.zoom+=t,this.camera.updateProjectionMatrix(),this.zoomChanged=!0,this.updateView()},getAutoRotationAngle:function(){return 2*Math.PI/60/60*this.data.autoRotateSpeed},getZoomScale:rotateLeft:function(t){this.sphericalDelta.theta-=t},autoRotate:function(t){this.sphericalDelta.theta-=t},rotateUp:function(t){this.sphericalDelta.phi-=t},rotateTo:function(t){this.state=this.STATE&&this.STATE.ROTATE_TO,this.desiredPosition&&this.desiredPosition.copy(t),this.updateView(!0)},setLockControls:dollyIn:function(t){this.cameraType.includes("Camera")?(this.camera.zoom=Math.max(this.data.minZoom,Math.min(this.data.maxZoom,this.camera.zoom*t)),this.camera.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("Trying to dolly in: WARNING: Orbit Controls encountered an unknown camera type - dolly/zoom disabled."),this.data.enableZoom=!1)},dollyOut:function(t){this.cameraType.includes("Camera")?(this.camera.zoom=Math.max(this.data.minZoom,Math.min(this.data.maxZoom,this.camera.zoom/t)),this.camera.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("Trying to dolly out: WARNING: Orbit Controls encountered an unknown camera type - dolly/zoom disabled."),this.data.enableZoom=!1)},lookAtTarget:function(t,e){var n=new THREE.Vector3;n.subVectors(t.position,e).add(t.position),t.lookAt(n)},saveCameraPose:function(){this.savedPose||(this.savedPose={position:this.dolly.position,rotation:this.dolly.rotation})},restoreCameraPose:function(){this.savedPose&&(this.dolly.position.copy(this.savedPose.position),this.dolly.rotation.copy(this.savedPose.rotation),this.savedPose=null)},getThetaDiff:function(t,e){var n=t-e;return n>Math.PI?n-2*Math.PI:n<-Math.PI?n+2*Math.PI:n},updateView:function(t){if(this.dolly){if(this.desiredPosition&&this.state===this.STATE.ROTATE_TO){var e=new THREE.Spherical;e.setFromVector3(this.desiredPosition);var r=e.phi-this.spherical.phi,i=this.getThetaDiff(e.theta,this.spherical.theta);this.sphericalDelta.set(this.spherical.radius,r*this.data.rotateToSpeed,i*this.data.rotateToSpeed),e.theta-this.spherical.theta<1e-6&&e.phi-this.spherical.phi<1e-6&&(this.state=this.STATE.NONE)}var o=new THREE.Vector3,a=(new THREE.Quaternion).setFromUnitVectors(this.dolly.up,new THREE.Vector3(0,1,0)),s=a.clone().invert();if(o.copy(this.dolly.position).sub(this.target),o.applyQuaternion(a),this.spherical.setFromVector3(o),this.data.autoRotate&&this.state===this.STATE.NONE&&this.autoRotate(this.getAutoRotationAngle()),this.spherical.theta+=this.sphericalDelta.theta,this.spherical.phi+=this.sphericalDelta.phi,this.spherical.theta=Math.max(this.data.minAzimuthAngle,Math.min(this.data.maxAzimuthAngle,this.spherical.theta)),this.spherical.phi=Math.max(this.data.minPolarAngle,Math.min(this.data.maxPolarAngle,this.spherical.phi)),this.spherical.makeSafe(),this.spherical.radius*=this.scale,this.spherical.radius=Math.max(this.data.minDistance,Math.min(this.data.maxDistance,this.spherical.radius)),this.target.add(this.panOffset),o.setFromSpherical(this.spherical),o.applyQuaternion(s),this.dolly.position.copy(this.target).add(o),this.target&&this.lookAtTarget(this.dolly,this.target),!0===this.data.enableDamping?(this.sphericalDelta.theta*=1-this.data.dampingFactor,this.sphericalDelta.phi*=1-this.data.dampingFactor):this.sphericalDelta.set(0,0,0),this.scale=1,this.panOffset.set(0,0,0),!0===t||this.zoomChanged||this.lastPosition.distanceToSquared(this.dolly.position)>this.EPS||8*(1-this.lastQuaternion.dot(this.dolly.quaternion))>this.EPS){var l=this.calculateHMDQuaternion(),c=new THREE.Euler;return c.setFromQuaternion(l,"YXZ"),this.el.setAttribute("position",{x:this.dolly.position.x,y:this.dolly.position.y,z:this.dolly.position.z}),this.el.setAttribute("rotation",{x:n(c.x),y:n(c.y),z:n(c.z)}),this.lastPosition.copy(this.dolly.position),this.lastQuaternion.copy(this.dolly.quaternion),this.zoomChanged=!1,!0}return!1}},calculateHMDQuaternion:function(){var t=new THREE.Quaternion;return function(){return t.copy(this.dolly.quaternion),t}}()})},254:function(t,e,n){"use strict";var r=n(150),i=n(151),o=n(153),a=n(152),s=n(0),l=n.n(s),c=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);eturn Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.id,r=e.handleClick;this.el=document.getElementById("".concat(n)),this.labelEl=document.getElementById("".concat(n,"-label")),this.el.addEventListener("click",r),this.labelEl&&(this.el.addEventListener("mouseenter",function(){return t.labelEl.setAttribute("visible","true")}),this.el.addEventListener("mouseleave",function(){return t.labelEl.setAttribute("visible","false")}))}},{key:"componentWillUnmount",value:function(){var t=this,e=this.props,n=e.id,r=e.handleClick;this.el=document.getElementById("".concat(n)),this.el.removeEventListener("click",r),this.labelEl&&(this.el.removeEventListener("mouseenter",function(){return t.labelEl.setAttribute("visible","true")}),this.el.removeEventListener("mouseleave",)}},{key:"render",value:function(){var t=this.props,e=t.id,n=t.src,r=t.height,i=t.label,o=t.width,a=t.position,s=t.dataCy,c="".concat(e,"-label");return l.a.createElement("a-entity",{position:a},i&&l.a.createElement("a-text",{id:c,visible:"false",align:"center",position:"0 ".concat(r/2+.2," 0"),value:i,font:"https://cdn.aframe.io/fonts/Aileron-Semibold.fnt","data-cy":s}),l.a.createElement("a-image",{class:"clickable",id:e,src:n,height:r,width:o}))}}]),n}(s.Component);e.a=c},257:function(t,e,n){t.exports=function(){"use strict";var t,e,n;function r(r,i){if(t)if(e){var o="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",a={};t(a),n=i(a),"undefined"!==typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else e=i;else t=i}return r(0,function(t){ar n=r;.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.prototype.sampleCurveY=r.prototype.sampleCurveDerivativeX=r.prototype.solveCurveX=r.prototype.solve=var i=o;.prototype={clone:function(){return new o(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:matMult:unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:mag:equals:dist:distSqr:angle:angleTo:angleWith:angleWithSep:_matMult:_add:_sub:_mult:_div:_multByPoint:_divByPoint:_unit:_perp:_rotate:_rotateAround:_round:,o.convert=var a="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;ar c=l(.25,.1,.25,1);nction d(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}var p=1;;=null;r R,L,O,D,P=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),B=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,F=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,N={now:P,frame:getImageData:resolveURL:hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatioget prefersReducedMotion,U={API_URL:"https://api.mapbox.com",get EVENTS_URLFEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},j={supported:!1,testSupport:,z=!1,G=!1;.document&&((D=a.document.createElement("img")).onload=D.onerror=D.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var H="01",W=function(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()};.prototype._createSkuToken=W.prototype._isSkuTokenExpired=W.prototype.transformRequest=W.prototype.normalizeStyleURL=function(t,e){if(!J(t))return t;var n=Q(t);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},W.prototype.normalizeGlyphsURL=W.prototype.normalizeSourceURL=W.prototype.normalizeSpriteURL=W.prototype.normalizeTileURL=W.prototype.canonicalizeTileURL=W.prototype.canonicalizeTileset=W.prototype._makeAPIURL=var Z=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;ar K=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/; $=$.prototype.getStorageKey=$.prototype.fetchEventData=$.prototype.saveEventData=$.prototype.processRequests=function(t){},$.prototype.postEvent=$.prototype.queueRequest=var tt,et,nt=$),rt=new($)),it=rt.postTurnstileEvent.bind(rt),ot=new nt,at=ot.postMapLoadEvent.bind(ot),st=500,lt=50;r ht,dt=1/0;ar ft={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(ft);var mt,vt,gt=Error),yt=S()?bt=xt=function(t,e){return bt(d(t,{type:"arrayBuffer"}),e)},wt=At="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";=[],vt=0;var Tt=St=Tt),Mt=function(){};Mt.prototype.on=function(t,e){return this._listeners=this._listeners||{},Et(t,e,this._listeners),this},Mt.prototype.off=Mt.prototype.once=Mt.prototype.fire=Mt.prototype.listens=Mt.prototype.setEventedParent=var Ct={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},It=Dt=Error),Pt=Pt.prototype.concat=Pt.prototype.get=Pt.prototype.has=var Bt={kind:"null"},Ft={kind:"number"},Nt={kind:"string"},Ut={kind:"boolean"},jt={kind:"color"},zt={kind:"object"},Gt={kind:"value"},Vt={kind:"collator"},Ht={kind:"formatted"},Wt={kind:"resolvedImage"};r Yt=[Bt,Ft,Nt,Ut,jt,Ht,zt,Jt(Gt),Wt]; Xt=e(.parseCSSColor,$t=$t.parse=$t.prototype.toString=$t.prototype.toArray=$t.black=new $t(0,0,0,1),$t.white=new $t(1,1,1,1),$t.transparent=new $t(0,0,0,0),$t.red=new $t(1,0,0,1);var te=te.prototype.compare=te.prototype.resolvedLocale=var ee=ne=function(t){this.sections=t};ne.fromString=ne.prototype.isEmpty=ne.factory=ne.prototype.toString=ne.prototype.serialize=var re=rototype.toString=function(){return this.name},re.fromString=re.prototype.serialize=function(){return["image",this.name]};var le=function(t,e){this.type=t,this.value=e};le.parse=le.prototype.evaluate=function(){return this.value},le.prototype.eachChild=function(){},le.prototype.outputDefined=function(){return!0},le.prototype.serialize=var ce=ce.prototype.toJSON=function(){return this.message};var ue={string:Nt,number:Ft,boolean:Ut,object:zt},he=function(t,e){this.type=t,this.args=e};he.parse=he.prototype.evaluate=he.prototype.eachChild=function(t){this.args.forEach(t)},he.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},he.prototype.serialize=var de=function(t){this.type=Ht,this.sections=t};de.parse=de.prototype.evaluate=de.prototype.eachChild=de.prototype.outputDefined=function(){return!1},de.prototype.serialize=var pe=function(t){this.type=Wt,this.input=t};pe.parse=pe.prototype.evaluate=pe.prototype.eachChild=function(t){t(this.input)},pe.prototype.outputDefined=function(){return!1},pe.prototype.serialize=var fe={"to-boolean":Ut,"to-color":jt,"to-number":Ft,"to-string":Nt},me=function(t,e){this.type=t,this.args=e};me.parse=me.prototype.evaluate=me.prototype.eachChild=function(t){this.args.forEach(t)},me.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},me.prototype.serialize=var ve=["Unknown","Point","LineString","Polygon"],ge=ge.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ge.prototype.geometryType=ge.prototype.geometry=ge.prototype.canonicalID=function(){return this.canonical},ge.prototype.properties=ge.prototype.parseColor=var ye=function(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r};ye.prototype.evaluate=ye.prototype.eachChild=function(t){this.args.forEach(t)},ye.prototype.outputDefined=function(){return!1},ye.prototype.serialize=ye.parse=ye.register=var be=function(t,e,n){this.type=Vt,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};ion Te(t,e){for(var n=0;n<e.length;n++)if(_e(t,e[n]))return!0;return!1}be.prototype.evaluate=be.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},be.prototype.outputDefined=function(){return!1},be.prototype.serialize=var Pe=function(t,e){this.type=Ut,this.geojson=t,this.geometries=e};parse=Pe.prototype.evaluate=Pe.prototype.eachChild=function(){},Pe.prototype.outputDefined=function(){return!0},Pe.prototype.serialize=function(){return["within",this.geojson]};var Ue=Ue.parse=Ue.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Ue.prototype.eachChild=function(){},Ue.prototype.outputDefined=function(){return!1},Ue.prototype.serialize=var je=e.prototype.parse=je.prototype._parse=je.prototype.concat=je.prototype.error=je.prototype.checkSubtype=var Ge=e.parse=Ge.prototype.evaluate=Ge.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Ge.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},Ge.prototype.serialize=var He=Object.freeze({__proto__:null,number:Ve,color:array:),We=6/29*3*(6/29),Je=Math.PI/180,Ze=180/Math.PI;{forward:Xe,reverse:$e,interpolate:function(t,e,n){return{l:Ve(t.l,e.l,n),a:Ve(t.a,e.a,n),b:Ve(t.b,e.b,n),alpha:Ve(t.alpha,e.alpha,n)}}},nn={forward:reverse:interpolate:,rn=Object.freeze({__proto__:null,lab:en,hcl:nn}),on=n.interpolationFactor=on.parse=on.prototype.evaluate=on.prototype.eachChild=on.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},on.prototype.serialize=var sn=function(t,e){this.type=t,this.args=e};sn.parse=sn.prototype.evaluate=sn.prototype.eachChild=sn.prototype.outputDefined=sn.prototype.serialize=function(){var t=["coalesce"];return this.eachChild(function(e){t.push(e.serialize())}),t};var ln=ln.prototype.evaluate=function(t){return this.result.evaluate(t)},ln.prototype.eachChild=ln.parse=ln.prototype.outputDefined=ln.prototype.serialize=var cn=function(t,e,n){this.type=t,this.index=e,this.input=n};cn.parse=cn.prototype.evaluate=cn.prototype.eachChild=function(t){t(this.index),t(this.input)},cn.prototype.outputDefined=function(){return!1},cn.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var un=un.parse=un.prototype.evaluate=un.prototype.eachChild=un.prototype.outputDefined=function(){return!0},un.prototype.serialize=var hn=hn.parse=hn.prototype.evaluate=hn.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)},hn.prototype.outputDefined=function(){return!1},hn.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var dn=dn.parse=dn.prototype.evaluate=dn.prototype.eachChild=dn.prototype.outputDefined=dn.prototype.serialize=var pn=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};pn.parse=pn.prototype.evaluate=pn.prototype.eachChild=pn.prototype.outputDefined=pn.prototype.serialize=function(){var t=["case"];return this.eachChild(function(e){t.push(e.serialize())}),t};var fn=parse=fn.prototype.evaluate=fn.prototype.eachChild=fn.prototype.outputDefined=function(){return!1},fn.prototype.serialize=var yn=gn("==",vn),bn=gn("!=",,xn=gn("<",,wn=gn(">",,An=gn("<=",,En=gn(">=",,_n=_n.parse=_n.prototype.evaluate=_n.prototype.eachChild=_n.prototype.outputDefined=function(){return!1},_n.prototype.serialize=var Tn=Tn.parse=Tn.prototype.evaluate=Tn.prototype.eachChild=Tn.prototype.outputDefined=Tn.prototype.serialize=var Sn={"==":yn,"!=":bn,">":wn,"<":xn,">=":En,"<=":An,array:he,at:cn,boolean:he,case:pn,coalesce:sn,collator:be,format:de,image:pe,in:un,"index-of":hn,interpolate:on,"interpolate-hcl":on,"interpolate-lab":on,length:Tn,let:ln,literal:le,match:dn,number:he,"number-format":_n,object:he,slice:fn,step:Ge,string:he,"to-boolean":me,"to-color":me,"to-number":me,"to-string":me,var:Ue,within:Pe};tion Rn(t){return{result:"success",value:t}}Sn,{error:[{kind:"error"},[Nt],,typeof:[Nt,[Gt],,"to-rgba":[Jt(Ft,4),[jt],,rgb:[jt,[Ft,Ft,Ft],Mn],rgba:[jt,[Ft,Ft,Ft,Ft],Mn],has:{type:Ut,overloads:[[[Nt],function(t,e){return Cn(e[0].evaluate(t),t.properties())}],[[Nt,zt],function(t,e){var n=e[1];return Cn(e[0].evaluate(t),n.evaluate(t))}]]},get:{type:Gt,overloads:[[[Nt],,[[Nt,zt],]},"feature-state":[Gt,[Nt],,properties:[zt,[],function(t){return t.properties()}],"geometry-type":[Nt,[],function(t){return t.geometryType()}],id:[Gt,[],function(t){return t.id()}],zoom:[Ft,[],,"heatmap-density":[Ft,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Ft,[],,accumulated:[Gt,[],,"+":[Ft,kn(Ft),,"*":[Ft,kn(Ft),,"-":{type:Ft,overloads:[[[Ft,Ft],,[[Ft],]},"/":[Ft,[Ft,Ft],,"%":[Ft,[Ft,Ft],,ln2:[Ft,[],function(){return Math.LN2}],pi:[Ft,[],function(){return Math.PI}],e:[Ft,[],function(){return Math.E}],"^":[Ft,[Ft,Ft],,sqrt:[Ft,[Ft],function(t,e){return Math.sqrt(e[0].evaluate(t))}],log10:[Ft,[Ft],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN10}],ln:[Ft,[Ft],function(t,e){return Math.log(e[0].evaluate(t))}],log2:[Ft,[Ft],,sin:[Ft,[Ft],function(t,e){return Math.sin(e[0].evaluate(t))}],cos:[Ft,[Ft],function(t,e){return Math.cos(e[0].evaluate(t))}],tan:[Ft,[Ft],function(t,e){return Math.tan(e[0].evaluate(t))}],asin:[Ft,[Ft],function(t,e){return Math.asin(e[0].evaluate(t))}],acos:[Ft,[Ft],function(t,e){return Math.acos(e[0].evaluate(t))}],atan:[Ft,[Ft],function(t,e){return Math.atan(e[0].evaluate(t))}],min:[Ft,kn(Ft),function(t,e){return Math.min.apply(Math,e.map(function(e){return e.evaluate(t)}))}],max:[Ft,kn(Ft),,abs:[Ft,[Ft],function(t,e){return Math.abs(e[0].evaluate(t))}],round:[Ft,[Ft],,floor:[Ft,[Ft],function(t,e){return Math.floor(e[0].evaluate(t))}],ceil:[Ft,[Ft],,"filter-==":[Ut,[Nt,Gt],,"filter-id-==":[Ut,[Gt],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[Ut,[Nt],,"filter-<":[Ut,[Nt,Gt],,"filter-id-<":[Ut,[Gt],,"filter->":[Ut,[Nt,Gt],,"filter-id->":[Ut,[Gt],,"filter-<=":[Ut,[Nt,Gt],,"filter-id-<=":[Ut,[Gt],,"filter->=":[Ut,[Nt,Gt],,"filter-id->=":[Ut,[Gt],,"filter-has":[Ut,[Gt],,"filter-has-id":[Ut,[],,"filter-type-in":[Ut,[Jt(Nt)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[Ut,[Jt(Gt)],,"filter-in-small":[Ut,[Nt,Jt(Gt)],,"filter-in-large":[Ut,[Nt,Jt(Gt)],,all:{type:Ut,overloads:[[[Ut,Ut],,[kn(Ut),]},any:{type:Ut,overloads:[[[Ut,Ut],,[kn(Ut),]},"!":[Ut,[Ut],,"is-supported-script":[Ut,[Nt],,upcase:[Nt,[Nt],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Nt,[Nt],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Nt,kn(Gt),,"resolved-locale":[Nt,[Vt],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var Hn=.prototype.evaluateWithoutErrorHandling=Hn.prototype.evaluate=var Zn=Zn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)},Zn.prototype.evaluate=function(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)};var Yn=n.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)},Yn.prototype.evaluate=Yn.prototype.interpolationFactor=var Qn=rialize=Qn.serialize=var ir={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};unction ar(t,e){return t<e?-1:t>e?1:0}n fr(t){return pr(t,"paint")}function mr(t){return pr(t,"layout")}r yr={promoteId:;r wr={"*":function(){return[]},array:Xn,boolean:number:$n,color:constants:kt,enum:nr,filter:dr,function:tr,layer:vr,object:qn,source:br,light:xr,string:gr,formatted:function(t){return 0===gr(t).length?[]:er(t)},resolvedImage:;urce=Sr(br),_r.light=Sr(xr),_r.layer=Sr(vr),_r.filter=Sr(dr),_r.paintProperty=Sr(fr),_r.layoutProperty=Sr(mr);var Mr=_r,Cr=Mr.light,Ir=Mr.paintProperty,kr=Mr.layoutProperty;ar Lr=Or;r.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Or.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Or.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},Or.prototype.query=Or.prototype._queryCell=Or.prototype._forEachCell=Or.prototype._convertFromCellCoord=Or.prototype._convertToCellCoord=Or.prototype.toArrayBuffer=var Dr=a.ImageData,Pr=a.ImageBitmap,Br={};or(var Nr in Fr("Object",Object),Lr.serialize=Lr.deserialize=Fr("Grid",Lr),Fr("Color",$t),Fr("Error",Error),Fr("ResolvedImage",re),Fr("StylePropertyFunction",Qn),Fr("StyleExpression",Hn,{omit:["_evaluator"]}),Fr("ZoomDependentExpression",Yn),Fr("ZoomConstantExpression",Zn),Fr("CompoundExpression",ye,{omit:["_evaluate"]}),Sn)Sn[Nr]._classRegistryKey||Fr("Expression_"+Nr,Sn[Nr]);Vr=function(){this.first=!0};Vr.prototype.update=var Hr={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":;function Wr(t){for(var e=0,n=t;e<n.length;e+=1)if(Jr(n[e].charCodeAt(0)))return!0;return!1}r=null,Xr="unavailable",$r=null,ti=ar ni=new Mt,ri=function(){return Xr},ii=oi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:isLoading:setState:isParsed:getPluginURL:function(){return $r}},ai=ai.prototype.isSupportedScript=ai.prototype.crossFadingFactor=ai.prototype.getCrossfadeParameters=var si=si.prototype.isDataDriven=si.prototype.possiblyEvaluate=var li=li.prototype.transitioned=li.prototype.untransitioned=var ci=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};ci.prototype.getValue=ci.prototype.setValue=ci.prototype.getTransition=function(t){return w(this._values[t].transition)},ci.prototype.setTransition=ci.prototype.serialize=ci.prototype.transitioned=ci.prototype.untransitioned=var ui=ui.prototype.possiblyEvaluate=function(t,e,n){var r=t.now||0,i=this.value.possiblyEvaluate(t,e,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(t,e,n);var a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(t,e,n),i,))}return i};var hi=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};hi.prototype.possiblyEvaluate=function(t,e,n){for(var r=new fi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return r},hi.prototype.hasTransition=var di=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};di.prototype.getValue=di.prototype.setValue=di.prototype.serialize=di.prototype.possiblyEvaluate=var pi=function(t,e,n){this.property=t,this.value=e,this.parameters=n};pi.prototype.isConstant=function(){return"constant"===this.value.kind},pi.prototype.constantOr=pi.prototype.evaluate=var fi=fi.prototype.get=function(t){return this._values[t]};var mi=function(t){this.specification=t};mi.prototype.possiblyEvaluate=mi.prototype.interpolate=var vi=function(t,e){this.specification=t,this.overrides=e};vi.prototype.possiblyEvaluate=vi.prototype.interpolate=vi.prototype.evaluate=var gi=vi),yi=function(t){this.specification=t};yi.prototype.possiblyEvaluate=yi.prototype._calculate=yi.prototype.interpolate=function(t){return t};var bi=function(t){this.specification=t};bi.prototype.possiblyEvaluate=bi.prototype.interpolate=function(){return!1};var xi=Fr("DataDrivenProperty",vi),Fr("DataConstantProperty",mi),Fr("CrossFadedDataDrivenProperty",gi),Fr("CrossFadedProperty",yi),Fr("ColorRampProperty",bi);var wi=Mt),Ai={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ei=_i=.serialize=_i.deserialize=_i.prototype._trim=_i.prototype.clear=function(){this.length=0},_i.prototype.resize=_i.prototype.reserve=_i.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Mi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.int16[r+0]=e,this.int16[r+1]=n,t},e}(_i);Mi.prototype.bytesPerElement=4,Fr("StructArrayLayout2i4",Mi);var Ci=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,t},e}(_i);Ci.prototype.bytesPerElement=8,Fr("StructArrayLayout4i8",Ci);var Ii=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(_i);Ii.prototype.bytesPerElement=12,Fr("StructArrayLayout2i4i12",Ii);var ki=_i);ki.prototype.bytesPerElement=8,Fr("StructArrayLayout2i4ub8",ki);var Ri=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.float32[r+0]=e,this.float32[r+1]=n,t},e}(_i);Ri.prototype.bytesPerElement=8,Fr("StructArrayLayout2f8",Ri);var Li=_i);Li.prototype.bytesPerElement=20,Fr("StructArrayLayout10ui20",Li);var Oi=_i);Oi.prototype.bytesPerElement=24,Fr("StructArrayLayout4i4ui4i24",Oi);var Di=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.float32[i+0]=e,this.float32[i+1]=n,this.float32[i+2]=r,t},e}(_i);Di.prototype.bytesPerElement=12,Fr("StructArrayLayout3f12",Di);var Pi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint32[1*t+0]=e,t},e}(_i);Pi.prototype.bytesPerElement=4,Fr("StructArrayLayout1ul4",Pi);var Bi=_i);Bi.prototype.bytesPerElement=20,Fr("StructArrayLayout6i1ul2ui20",Bi);var Fi=_i);Fi.prototype.bytesPerElement=12,Fr("StructArrayLayout2i2i2i12",Fi);var Ni=_i);Ni.prototype.bytesPerElement=16,Fr("StructArrayLayout2f1f2i16",Ni);var Ui=_i);Ui.prototype.bytesPerElement=12,Fr("StructArrayLayout2ub2f12",Ui);var ji=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,this.uint16[i+2]=r,t},e}(_i);ji.prototype.bytesPerElement=6,Fr("StructArrayLayout3ui6",ji);var zi=_i);zi.prototype.bytesPerElement=48,Fr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",zi);var Gi=_i);Gi.prototype.bytesPerElement=68,Fr("StructArrayLayout8i15ui1ul4f68",Gi);var Vi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.float32[1*t+0]=e,t},e}(_i);Vi.prototype.bytesPerElement=4,Fr("StructArrayLayout1f4",Vi);var Hi=_i);Hi.prototype.bytesPerElement=6,Fr("StructArrayLayout3i6",Hi);var Wi=_i);Wi.prototype.bytesPerElement=8,Fr("StructArrayLayout1ul2ui8",Wi);var Ji=_i);Ji.prototype.bytesPerElement=4,Fr("StructArrayLayout2ui4",Ji);var Zi=_i);Zi.prototype.bytesPerElement=2,Fr("StructArrayLayout1ui2",Zi);var Yi=_i);Yi.prototype.bytesPerElement=16,Fr("StructArrayLayout4f16",Yi);var Ki=Ei);Ki.prototype.size=20;var Qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Ki(this,t)},e}(Bi);Fr("CollisionBoxArray",Qi);var qi=Ei);qi.prototype.size=48;var Xi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new qi(this,t)},e}(zi);Fr("PlacedSymbolArray",Xi);var $i=Ei);$i.prototype.size=68;var to=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new $i(this,t)},e}(Gi);Fr("SymbolInstanceArray",to);var eo=Vi);Fr("GlyphOffsetArray",eo);var no=Hi);Fr("SymbolLineVertexArray",no);var ro=Ei);ro.prototype.size=8;var io=Wi);Fr("FeatureIndexArray",io);var oo=Ti([{name:"a_pos",components:2,type:"Int16"}],4).members,ao=o.prototype.prepareSegment=ao.prototype.get=function(){return this.segments},ao.prototype.destroy=ao.simpleSegment=ao.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Fr("SegmentVector",ao);var lo=Ti([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),co=e(,uo=e(,ho=co,po=uo;ho.murmur3=co,ho.murmur2=po;var fo=fo.prototype.add=fo.prototype.getPositions=fo.serialize=fo.deserialize=var mo=Math.pow(2,53)-1;unction go(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}Fr("FeaturePositionMap",fo);var yo=bo=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},e}(yo),xo=yo),wo=yo),Ao=yo),Eo=yo),_o=yo),To=new Float32Array(16),So=yo);ar Co=Co.prototype.setUniform=Co.prototype.getBinding=var Io=Io.prototype.setConstantPatternPositions=Io.prototype.setUniform=Io.prototype.getBinding=var ko=ko.prototype.populatePaintArray=ko.prototype.updatePaintArray=ko.prototype._setPaintValue=ko.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ko.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Ro=Ro.prototype.populatePaintArray=Ro.prototype.updatePaintArray=Ro.prototype._setPaintValue=Ro.prototype.upload=Ro.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ro.prototype.setUniform=Ro.prototype.getBinding=var Lo=Lo.prototype.populatePaintArray=Lo.prototype.updatePaintArray=Lo.prototype._setPaintValues=Lo.prototype.upload=Lo.prototype.destroy=var Oo=Oo.prototype.getMaxValue=Oo.prototype.populatePaintArrays=Oo.prototype.setConstantPatternPositions=Oo.prototype.updatePaintArrays=Oo.prototype.defines=Oo.prototype.getBinderAttributes=Oo.prototype.getBinderUniforms=Oo.prototype.getPaintVertexBuffers=function(){return this._buffers},Oo.prototype.getUniforms=Oo.prototype.setUniforms=Oo.prototype.updatePaintBuffers=Oo.prototype.upload=Oo.prototype.destroy=var Do=.prototype.populatePaintArrays=Do.prototype.updatePaintArrays=Do.prototype.get=function(t){return this.programConfigurations[t]},Do.prototype.upload=Do.prototype.destroy=Fr("ConstantBinder",Co),Fr("CrossFadedConstantBinder",Io),Fr("SourceExpressionBinder",ko),Fr("CrossFadedCompositeBinder",Lo),Fr("CompositeExpressionBinder",Ro),Fr("ProgramConfiguration",Oo,{omit:["_buffers"]}),Fr("ProgramConfigurationSet",Do);var Fo=Math.pow(2,14)-1,No=-Fo-1; Go=opulate=Go.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Go.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Go.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Go.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,oo),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Go.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Go.prototype.addFeature=Fr("CircleBucket",Go,{omit:["layers"]});var ra=new xi({"circle-sort-key":new vi(Ct.layout_circle["circle-sort-key"])}),ia={paint:new xi({"circle-radius":new vi(Ct.paint_circle["circle-radius"]),"circle-color":new vi(Ct.paint_circle["circle-color"]),"circle-blur":new vi(Ct.paint_circle["circle-blur"]),"circle-opacity":new vi(Ct.paint_circle["circle-opacity"]),"circle-translate":new mi(Ct.paint_circle["circle-translate"]),"circle-translate-anchor":new mi(Ct.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new mi(Ct.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new mi(Ct.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new vi(Ct.paint_circle["circle-stroke-width"]),"circle-stroke-color":new vi(Ct.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new vi(Ct.paint_circle["circle-stroke-opacity"])}),layout:ra},oa="undefined"!=typeof Float32Array?Float32Array:Array;th.hypot||(Math.hypot=;var la,ca=sa;a=new oa(3),oa!=Float32Array&&(la[0]=0,la[1]=0,la[2]=0),);var ha=(),function(t){function e(e){t.call(this,e,ia)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new Go(t)},e.prototype.queryRadius=e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a,s){for(var l=na(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),c=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),u="map"===this.paint.get("circle-pitch-alignment"),h=u?l:0,s),d=u?c*a:c,p=0,f=r;p<f.length;p+=1)for(var m=0,v=f[p];m<v.length;m+=1){var g=v[m],y=u?g:da(g,s),b=d,x=ua([],[g.x,g.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?b*=x[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(b*=o.cameraToCenterDistance/x[3]),Ho(h,y,b))return!0}return!1},e}(wi));ar pa=Go);"HeatmapBucket",pa,{omit:["layers"]});var ga=function(t,e){fa(this,t,1,e)};ga.prototype.resize=function(t){ma(this,t,1)},ga.prototype.clone=function(){return new ga({width:this.width,height:this.height},new Uint8Array(this.data))},ga.copy=function(t,e,n,r,i){va(t,e,n,r,i,1)};var ya=ya.prototype.resize=ya.prototype.replace=ya.prototype.clone=ya.copy=Fr("AlphaImage",ga),Fr("RGBAImage",ya);var ba={paint:new xi({"heatmap-radius":new vi(Ct.paint_heatmap["heatmap-radius"]),"heatmap-weight":new vi(Ct.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new mi(Ct.paint_heatmap["heatmap-intensity"]),"heatmap-color":new bi(Ct.paint_heatmap["heatmap-color"]),"heatmap-opacity":new mi(Ct.paint_heatmap["heatmap-opacity"])})};ar wa=wi),Aa={paint:new xi({"hillshade-illumination-direction":new mi(Ct.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new mi(Ct.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new mi(Ct.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new mi(Ct.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new mi(Ct.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new mi(Ct.paint_hillshade["hillshade-accent-color"])})},Ea=wi),_a=Ti([{name:"a_pos",components:2,type:"Int16"}],4).members,Ta=Ma,Sa=Ma;nction Ia(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Va(r,r.next)&&0!==Ga(r.prev,r,r.next))r=r.next;else{if(Qa(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function ka(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=Na(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,l,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ);e++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(t,r,i,o);for(var s,l,c=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?La(t,r,i,o):Ra(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),Qa(t),t=l.next,c=l.next;else if((t=l)===c){a?1===a?ka(t=Oa(Ia(t),e,n),e,n,r,i,o,2):2===a&&Da(t,e,n,r,i,o):ka(Ia(t),e,n,r,i,o,1);break}}}function Ra(t){var e=t.prev,n=t,r=t.next;if(Ga(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(ja(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Ga(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}unction Oa(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Va(i,o)&&Ha(i,r,r.next,o)&&Za(i,o)&&Za(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Qa(r),Qa(r.next),r=t=o),r=r.next}while(r!==t);return Ia(r)}function Da(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&za(a,s)){var l=Ya(a,s);return a=Ia(a,a.next),l=Ia(l,l.next),ka(a,e,n,r,i,o),void ka(l,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}function Pa(t,e){return t.x-e.x}function Ba(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n;var l,c=n,u=n.x,h=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=u&&i!==r.x&&ja(o<h?i:a,o,u,h,o<h?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),Za(r,t)&&(l<d||l===d&&(r.x>n.x||r.x===n.x&&Fa(n,r)))&&(n=r,d=l)),r=r.next}while(r!==c);return n}(t,e)){var n=Ya(e,t);Ia(e,e.next),Ia(n,n.next)}}function Fa(t,e){return Ga(t.prev,t,e.prev)<0&&Ga(e.next,t,t.next)<0}function Na(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ua(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function ja(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}unction Ga(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Va(t,e){return t.x===e.x&&t.y===e.y}function Ha(t,e,n,r){var i=Ja(Ga(t,e,n)),o=Ja(Ga(t,e,r)),a=Ja(Ga(n,r,t)),s=Ja(Ga(n,r,e));return i!==o&&a!==s||!(0!==i||!Wa(t,n,e))||!(0!==o||!Wa(t,r,e))||!(0!==a||!Wa(n,t,r))||!(0!==s||!Wa(n,e,r))}function Wa(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Ja(t){return t>0?1:t<0?-1:0}function Za(t,e){return Ga(t.prev,t,t.next)<0?Ga(t,e,t.next)>=0&&Ga(t,t.prev,e)>=0:Ga(t,e,t.prev)<0||Ga(t,t.next,e)<0}function Ya(t,e){var n=new qa(t.i,t.x,t.y),r=new qa(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Ka(t,e,n,r){var i=new qa(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Qa(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function qa(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}ction es(t,e){return t<e?-1:t>e?1:0}unction rs(t,e){return e.area-t.area}.deviation=Ma.flatten=Ta.default=Sa;var as=as.prototype.populate=as.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},as.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},as.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},as.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},as.prototype.upload=as.prototype.destroy=as.prototype.addFeature=Fr("FillBucket",as,{omit:["layers","patternFeatures"]});var ss=new xi({"fill-sort-key":new vi(Ct.layout_fill["fill-sort-key"])}),ls={paint:new xi({"fill-antialias":new mi(Ct.paint_fill["fill-antialias"]),"fill-opacity":new vi(Ct.paint_fill["fill-opacity"]),"fill-color":new vi(Ct.paint_fill["fill-color"]),"fill-outline-color":new vi(Ct.paint_fill["fill-outline-color"]),"fill-translate":new mi(Ct.paint_fill["fill-translate"]),"fill-translate-anchor":new mi(Ct.paint_fill["fill-translate-anchor"]),"fill-pattern":new gi(Ct.paint_fill["fill-pattern"])}),layout:ss},cs=wi),us=Ti([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,hs=ds;types=["Unknown","Point","LineString","Polygon"],ds.prototype.loadGeometry=ds.prototype.bbox=ds.prototype.toGeoJSON=var ms=vs;prototype.feature=var bs={VectorTile:VectorTileFeature:hs,VectorTileLayer:ms},xs=bs.VectorTileFeature.types,ws=Math.pow(2,13);ar Es=s.prototype.populate=Es.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.features;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},Es.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Es.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Es.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Es.prototype.upload=Es.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Es.prototype.addFeature=Fr("FillExtrusionBucket",Es,{omit:["layers","features"]});var Ts={paint:new xi({"fill-extrusion-opacity":new mi(Ct["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new vi(Ct["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new mi(Ct["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new mi(Ct["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new gi(Ct["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new vi(Ct["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new vi(Ct["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new mi(Ct["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Ss=wi);r Is=Ti([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,ks=Ti([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Rs=bs.VectorTileFeature.types,Ls=Math.cos(Math.PI/180*37.5),Os=Math.pow(2,14)/.5,Ds=Ds.prototype.populate=Ds.prototype.update=Ds.prototype.addFeatures=Ds.prototype.isEmpty=Ds.prototype.uploadPending=Ds.prototype.upload=Ds.prototype.destroy=Ds.prototype.lineFeatureClips=Ds.prototype.addFeature=Ds.prototype.addLine=Ds.prototype.addCurrentVertex=Ds.prototype.addHalfVertex=Ds.prototype.updateScaledDistance=Ds.prototype.updateDistance=Fr("LineBucket",Ds,{omit:["layers","patternFeatures"]});var Ps=new xi({"line-cap":new mi(Ct.layout_line["line-cap"]),"line-join":new vi(Ct.layout_line["line-join"]),"line-miter-limit":new mi(Ct.layout_line["line-miter-limit"]),"line-round-limit":new mi(Ct.layout_line["line-round-limit"]),"line-sort-key":new vi(Ct.layout_line["line-sort-key"])}),Bs={paint:new xi({"line-opacity":new vi(Ct.paint_line["line-opacity"]),"line-color":new vi(Ct.paint_line["line-color"]),"line-translate":new mi(Ct.paint_line["line-translate"]),"line-translate-anchor":new mi(Ct.paint_line["line-translate-anchor"]),"line-width":new vi(Ct.paint_line["line-width"]),"line-gap-width":new vi(Ct.paint_line["line-gap-width"]),"line-offset":new vi(Ct.paint_line["line-offset"]),"line-blur":new vi(Ct.paint_line["line-blur"]),"line-dasharray":new yi(Ct.paint_line["line-dasharray"]),"line-pattern":new gi(Ct.paint_line["line-pattern"]),"line-gradient":new bi(Ct.paint_line["line-gradient"])}),layout:Ps},Fs=new(vi))(Bs.paint.properties["line-width"].specification);Fs.useIntegerZoom=!0;var Ns=wi);ar js=Ti([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),zs=Ti([{name:"a_projected_pos",components:3,type:"Float32"}],4),Gs=(Ti([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Ti([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Vs=(Ti([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Ti([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Hs=Ti([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);i([{name:"triangle",components:3,type:"Uint16"}]),Ti([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ti([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ti([{type:"Float32",name:"offsetX"}]),Ti([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Js={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Zs=Ys=Ks=Qs;s.Varint=0,Qs.Fixed64=1,Qs.Bytes=2,Qs.Fixed32=5;var qs="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");ction el(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function nl(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function rl(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function il(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function ol(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function al(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function sl(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function ll(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}type={destroy:function(){this.buf=null},readFields:readMessage:readFixed32:function(){var t=ul(this.buf,this.pos);return this.pos+=4,t},readSFixed32:readFixed64:function(){var t=ul(this.buf,this.pos)+4294967296*ul(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:readFloat:function(){var t=Zs(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:readVarint:readVarint64:readSVarint:readBoolean:readString:readBytes:readPackedVarint:readPackedSVarint:function(t){if(this.type!==Qs.Bytes)return t.push(this.readSVarint());var e=Xs(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Qs.Bytes)return t.push(this.readBoolean());var e=Xs(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Qs.Bytes)return t.push(this.readFloat());var e=Xs(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Qs.Bytes)return t.push(this.readDouble());var e=Xs(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Qs.Bytes)return t.push(this.readFixed32());var e=Xs(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Qs.Bytes)return t.push(this.readSFixed32());var e=Xs(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Qs.Bytes)return t.push(this.readFixed64());var e=Xs(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:skip:writeTag:realloc:finish:writeFixed32:function(t){this.realloc(4),hl(this.buf,t,this.pos),this.pos+=4},writeSFixed32:writeFixed64:function(t){this.realloc(8),hl(this.buf,-1&t,this.pos),hl(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:writeVarint:writeSVarint:writeBoolean:writeString:writeFloat:function(t){this.realloc(4),Ys(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:writeBytes:writeRawMessage:writeMessage:writePackedVarint:function(t,e){e.length&&this.writeMessage(t,el,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,nl,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,ol,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,rl,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,il,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,al,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,sl,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,ll,e)},writePackedSFixed64:writeBytesField:function(t,e){this.writeTag(t,Qs.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Qs.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Qs.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Qs.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Qs.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Qs.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Qs.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Qs.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Qs.Fixed32),this.writeFloat(e)},writeDoubleField:writeBooleanField:;var gl=yl={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};yl.tl.get=yl.br.get=yl.tlbr.get=yl.displaySize.get=Object.defineProperties(gl.prototype,yl);var bl=bl.prototype.addImages=bl.prototype.patchUpdatedImages=bl.prototype.patchUpdatedImage=Fr("ImagePosition",gl),Fr("ImageAtlas",bl);var xl={horizontal:1,vertical:2,horizontalOnly:3},wl=wl.forText=wl.forImage=var Al=function El(t,e,n,r,i,o,a,s,l,c,u,h,d,p,f,m){var v,g=Al.fromFeature(t,i);h===xl.vertical&&g.verticalizePunctuation();var y=oi.processBidirectionalText,b=oi.processStyledBidirectionalText;if(y&&1===g.sections.length){v=[];for(var x=0,w=y(g.toString(),kl(g,c,o,e,r,p,f));x<w.length;x+=1){var A=w[x],E=new Al;E.text=A,E.sections=g.sections;for(var _=0;_<A.length;_++)E.sectionIndex.push(0);v.push(E)}}else if(b){v=[];for(var T=0,S=b(g.text,g.sectionIndex,kl(g,c,o,e,r,p,f));T<S.length;T+=1){var M=S[T],C=new Al;C.text=M[0],C.sectionIndex=M[1],C.sections=g.sections,v.push(C)}}else v=g,kl(g,c,o,e,r,p,f));var I=[],k={positionedLines:I,text:g.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:h,iconsInText:!1,verticalizable:!1};return k,e,n,r,v,a,s,l,h,c,d,m),!)&&k}Al.fromFeature=Al.prototype.length=function(){return this.text.length},Al.prototype.getSection=Al.prototype.getSectionIndex=Al.prototype.getCharCode=Al.prototype.verticalizePunctuation=Al.prototype.trim=Al.prototype.substring=Al.prototype.toString=function(){return this.text},Al.prototype.getMaxScale=Al.prototype.addTextSection=Al.prototype.addImageSection=Al.prototype.getNextImageSectionCharCode=var _l={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Tl={};0,Tl[32]=!0,Tl[38]=!0,Tl[40]=!0,Tl[41]=!0,Tl[43]=!0,Tl[45]=!0,Tl[47]=!0,Tl[173]=!0,Tl[183]=!0,Tl[8203]=!0,Tl[8208]=!0,Tl[8211]=!0,Tl[8231]=!0;var Dl=i);"Anchor",Dl);var Nl=Object.freeze({__proto__:null,getSizeData:Pl,evaluateSizeForFeature:Bl,evaluateSizeForZoom:Fl,SIZE_PACK_FACTOR:128});totype.push=Xl.prototype.pop=Xl.prototype.peek=Xl.prototype._up=Xl.prototype._down=var rc=Number.POSITIVE_INFINITY;c=bs.VectorTileFeature.types,uc=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}]; fc=fc.prototype.isEmpty=fc.prototype.upload=fc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Fr("SymbolBuffers",fc);var mc=mc.prototype.upload=mc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Fr("CollisionBuffers",mc);var vc=vc.prototype.createArrays=vc.prototype.calculateGlyphDependencies=vc.prototype.populate=vc.prototype.update=vc.prototype.isEmpty=vc.prototype.uploadPending=vc.prototype.upload=vc.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},vc.prototype.destroy=vc.prototype.addToLineVertexArray=vc.prototype.addSymbols=vc.prototype._addCollisionDebugVertex=vc.prototype.addCollisionDebugVertices=vc.prototype.addDebugCollisionBoxes=vc.prototype.generateCollisionDebugBuffers=vc.prototype._deserializeCollisionBoxesForSymbol=vc.prototype.deserializeCollisionBoxes=vc.prototype.hasTextData=function(){return this.text.segments.get().length>0},vc.prototype.hasIconData=vc.prototype.hasDebugData=vc.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},vc.prototype.hasIconCollisionBoxData=vc.prototype.addIndicesForPlacedSymbol=vc.prototype.getSortedSymbolIndexes=vc.prototype.addToSortKeyRanges=vc.prototype.sortFeatures=Fr("SymbolBucket",vc,{omit:["layers","collisionBoxArray","features","compareText"]}),vc.MAX_GLYPHS=65535,vc.addDynamicAttributes=dc;var gc=new xi({"symbol-placement":new mi(Ct.layout_symbol["symbol-placement"]),"symbol-spacing":new mi(Ct.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new mi(Ct.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new vi(Ct.layout_symbol["symbol-sort-key"]),"symbol-z-order":new mi(Ct.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new mi(Ct.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new mi(Ct.layout_symbol["icon-ignore-placement"]),"icon-optional":new mi(Ct.layout_symbol["icon-optional"]),"icon-rotation-alignment":new mi(Ct.layout_symbol["icon-rotation-alignment"]),"icon-size":new vi(Ct.layout_symbol["icon-size"]),"icon-text-fit":new mi(Ct.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new mi(Ct.layout_symbol["icon-text-fit-padding"]),"icon-image":new vi(Ct.layout_symbol["icon-image"]),"icon-rotate":new vi(Ct.layout_symbol["icon-rotate"]),"icon-padding":new mi(Ct.layout_symbol["icon-padding"]),"icon-keep-upright":new mi(Ct.layout_symbol["icon-keep-upright"]),"icon-offset":new vi(Ct.layout_symbol["icon-offset"]),"icon-anchor":new vi(Ct.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new mi(Ct.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new mi(Ct.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new mi(Ct.layout_symbol["text-rotation-alignment"]),"text-field":new vi(Ct.layout_symbol["text-field"]),"text-font":new vi(Ct.layout_symbol["text-font"]),"text-size":new vi(Ct.layout_symbol["text-size"]),"text-max-width":new vi(Ct.layout_symbol["text-max-width"]),"text-line-height":new mi(Ct.layout_symbol["text-line-height"]),"text-letter-spacing":new vi(Ct.layout_symbol["text-letter-spacing"]),"text-justify":new vi(Ct.layout_symbol["text-justify"]),"text-radial-offset":new vi(Ct.layout_symbol["text-radial-offset"]),"text-variable-anchor":new mi(Ct.layout_symbol["text-variable-anchor"]),"text-anchor":new vi(Ct.layout_symbol["text-anchor"]),"text-max-angle":new mi(Ct.layout_symbol["text-max-angle"]),"text-writing-mode":new mi(Ct.layout_symbol["text-writing-mode"]),"text-rotate":new vi(Ct.layout_symbol["text-rotate"]),"text-padding":new mi(Ct.layout_symbol["text-padding"]),"text-keep-upright":new mi(Ct.layout_symbol["text-keep-upright"]),"text-transform":new vi(Ct.layout_symbol["text-transform"]),"text-offset":new vi(Ct.layout_symbol["text-offset"]),"text-allow-overlap":new mi(Ct.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new mi(Ct.layout_symbol["text-ignore-placement"]),"text-optional":new mi(Ct.layout_symbol["text-optional"])}),yc={paint:new xi({"icon-opacity":new vi(Ct.paint_symbol["icon-opacity"]),"icon-color":new vi(Ct.paint_symbol["icon-color"]),"icon-halo-color":new vi(Ct.paint_symbol["icon-halo-color"]),"icon-halo-width":new vi(Ct.paint_symbol["icon-halo-width"]),"icon-halo-blur":new vi(Ct.paint_symbol["icon-halo-blur"]),"icon-translate":new mi(Ct.paint_symbol["icon-translate"]),"icon-translate-anchor":new mi(Ct.paint_symbol["icon-translate-anchor"]),"text-opacity":new vi(Ct.paint_symbol["text-opacity"]),"text-color":new vi(Ct.paint_symbol["text-color"],{runtimeType:jt,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new vi(Ct.paint_symbol["text-halo-color"]),"text-halo-width":new vi(Ct.paint_symbol["text-halo-width"]),"text-halo-blur":new vi(Ct.paint_symbol["text-halo-blur"]),"text-translate":new mi(Ct.paint_symbol["text-translate"]),"text-translate-anchor":new mi(Ct.paint_symbol["text-translate-anchor"])}),layout:gc},bc=bc.prototype.evaluate=bc.prototype.eachChild=bc.prototype.outputDefined=function(){return!1},bc.prototype.serialize=function(){return null},Fr("FormatSectionOverride",bc,{omit:["defaultValue"]});var xc=function(t){function e(e){t.call(this,e,yc)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=e.prototype.getValueAndResolveTokens=function(t,e,n,r){var i=this.layout.get(t).evaluate(e,{},n,r),o=this._unevaluatedLayout._values[t];return o.isDataDriven()||Wn(o.value)||!i?i:e.properties)},e.prototype.createBucket=function(t){return new vc(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=e.prototype._handleOverridablePaintPropertyUpdate=e.hasPaintOverride=function(t,e){var n=t.get("text-field"),r=yc.paint.properties[e],i=!1,o=if("constant"===n.value.kind&&n.value.value instanceof ne)o(n.value.value.sections);else if("source"===n.value.kind){var a=n.value;a._styleExpression&&function t(e){i||(e instanceof le&&ae(e.value)===Ht?o(e.value.sections):e instanceof de?o(e.sections):e.eachChild(t))}(a._styleExpression.expression)}return i},e}(wi),wc={paint:new xi({"background-color":new mi(Ct.paint_background["background-color"]),"background-pattern":new yi(Ct.paint_background["background-pattern"]),"background-opacity":new mi(Ct.paint_background["background-opacity"])})},Ac=function(t){function e(e){t.call(this,e,wc)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(wi),Ec={paint:new xi({"raster-opacity":new mi(Ct.paint_raster["raster-opacity"]),"raster-hue-rotate":new mi(Ct.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new mi(Ct.paint_raster["raster-brightness-min"]),"raster-brightness-max":new mi(Ct.paint_raster["raster-brightness-max"]),"raster-saturation":new mi(Ct.paint_raster["raster-saturation"]),"raster-contrast":new mi(Ct.paint_raster["raster-contrast"]),"raster-resampling":new mi(Ct.paint_raster["raster-resampling"]),"raster-fade-duration":new mi(Ct.paint_raster["raster-fade-duration"])})},_c=wi),Tc=wi),Sc={circle:ha,heatmap:wa,hillshade:Ea,fill:cs,"fill-extrusion":Ss,line:Ns,symbol:xc,background:Ac,raster:_c},Mc=a.HTMLImageElement,Cc=a.HTMLCanvasElement,Ic=a.HTMLVideoElement,kc=a.ImageData,Rc=a.ImageBitmap,Lc=Lc.prototype.update=Lc.prototype.bind=Lc.prototype.isSizePowerOfTwo=Lc.prototype.destroy=var Oc=Oc.prototype.trigger=Oc.prototype.remove=var Dc=c.prototype.send=Dc.prototype.receive=Dc.prototype.process=Dc.prototype.processTask=Dc.prototype.remove=var Bc=Bc.prototype.setNorthEast=function(t){return this._ne=t instanceof Fc?new Fc(t.lng,t.lat):Fc.convert(t),this},Bc.prototype.setSouthWest=Bc.prototype.extend=Bc.prototype.getCenter=Bc.prototype.getSouthWest=function(){return this._sw},Bc.prototype.getNorthEast=function(){return this._ne},Bc.prototype.getNorthWest=function(){return new Fc(this.getWest(),this.getNorth())},Bc.prototype.getSouthEast=Bc.prototype.getWest=function(){return this._sw.lng},Bc.prototype.getSouth=function(){return this._sw.lat},Bc.prototype.getEast=function(){return this._ne.lng},Bc.prototype.getNorth=function(){return this._ne.lat},Bc.prototype.toArray=Bc.prototype.toString=Bc.prototype.isEmpty=Bc.prototype.contains=Bc.convert=var Fc=Fc.prototype.wrap=Fc.prototype.toArray=Fc.prototype.toString=Fc.prototype.distanceTo=Fc.prototype.toBounds=Fc.convert=var Nc=2*Math.PI*6371008.8;c=Hc.fromLngLat=Hc.prototype.toLngLat=Hc.prototype.toAltitude=Hc.prototype.meterInMercatorCoordinateUnits=var Wc=Wc.prototype.equals=Wc.prototype.url=Wc.prototype.getTilePoint=Wc.prototype.toString=var Jc=Zc=c.prototype.equals=Zc.prototype.scaledTo=Zc.prototype.calculateScaledKey=Zc.prototype.isChildOf=Zc.prototype.children=Zc.prototype.isLessThan=Zc.prototype.wrapped=Zc.prototype.unwrapTo=Zc.prototype.overscaleFactor=Zc.prototype.toUnwrapped=function(){return new Jc(this.wrap,this.canonical)},Zc.prototype.toString=Zc.prototype.getTilePoint=Fr("CanonicalTileID",Wc),Fr("OverscaledTileID",Zc,{omit:["posMatrix"]});var Kc=Kc.prototype.get=Kc.prototype.getUnpackVector=Kc.prototype._idx=Kc.prototype._unpackMapbox=Kc.prototype._unpackTerrarium=Kc.prototype.getPixels=Kc.prototype.backfillBorder=Fr("DEMData",Kc);var Qc=Qc.prototype.encode=function(t){return this._stringToNumber[t]},Qc.prototype.decode=function(t){return this._numberToString[t]};var qc=Xc={geometry:{configurable:!0}};Xc.geometry.get=Xc.geometry.set=function(t){this._geometry=t},qc.prototype.toJSON=Object.defineProperties(qc.prototype,Xc);var $c=$c.prototype.updateState=$c.prototype.removeFeatureState=$c.prototype.getState=$c.prototype.initializeTileState=$c.prototype.coalesceChanges=var tu=prototype.insert=tu.prototype.loadVTLayers=tu.prototype.query=tu.prototype.loadMatchingFeature=tu.prototype.lookupSymbolFeatures=tu.prototype.hasLayer=tu.prototype.getId=Fr("FeatureIndex",tu,{omit:["rawTileData","sourceLayerCoder"]});var iu=iu.prototype.registerFadeDuration=iu.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},iu.prototype.loadVectorData=iu.prototype.unloadVectorData=iu.prototype.getBucket=function(t){return this.buckets[t.id]},iu.prototype.upload=iu.prototype.prepare=iu.prototype.queryRenderedFeatures=iu.prototype.querySourceFeatures=iu.prototype.hasData=iu.prototype.patternsLoaded=iu.prototype.setExpiryData=iu.prototype.getExpiryTimeout=iu.prototype.setFeatureState=iu.prototype.holdingForFade=iu.prototype.symbolFadeFinished=iu.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},iu.prototype.setHoldDuration=iu.prototype.setDependencies=iu.prototype.hasDependency=var ou=a.performance,au=au.prototype.finish=t.Actor=Dc,t.AlphaImage=ga,t.CanonicalTileID=Wc,t.CollisionBoxArray=Qi,t.Color=$t,t.DEMData=Kc,t.DataConstantProperty=mi,t.DictionaryCoder=Qc,t.EXTENT=8192,t.ErrorEvent=St,t.EvaluationParameters=ai,t.Event=Tt,t.Evented=Mt,t.FeatureIndex=tu,t.FillBucket=as,t.FillExtrusionBucket=Es,t.ImageAtlas=bl,t.ImagePosition=gl,t.LineBucket=Ds,t.LngLat=Fc,t.LngLatBounds=Bc,t.MercatorCoordinate=Hc,t.ONE_EM=24,t.OverscaledTileID=Zc,t.Point=i,t.Point$1=i,t.Properties=xi,t.Protobuf=Ks,t.RGBAImage=ya,t.RequestManager=W,t.RequestPerformance=au,t.ResourceType=ft,t.SegmentVector=ao,t.SourceFeatureState=$c,t.StructArrayLayout1ui2=Zi,t.StructArrayLayout2f1f2i16=Ni,t.StructArrayLayout2i4=Mi,t.StructArrayLayout3ui6=ji,t.StructArrayLayout4i8=Ci,t.SymbolBucket=vc,t.Texture=Lc,t.Tile=iu,t.Transitionable=ci,t.Uniform1f=xo,t.Uniform1i=bo,t.Uniform2f=wo,t.Uniform3f=Ao,t.Uniform4f=Eo,t.UniformColor=_o,t.UniformMatrix4f=So,t.UnwrappedTileID=Jc,t.ValidationError=It,t.WritingMode=xl,t.ZoomHistory=Vr,t.add=t.addDynamicAttributes=dc,t.asyncAll=t.bezier=l,t.bindAll=g,t.browser=N,t.cacheEntryPossiblyAdded=t.clamp=u,t.clearTileCache=t.clipLine=Wl,t.clone=t.clone$1=w,t.clone$2=t.collisionCircleLayout=Hs,t.config=U,t.create=t.create$1=t.create$2=t.createCommonjsModule=e,t.createExpression=Jn,t.createLayout=Ti,t.createStyleLayer=t.cross=t.deepEqual=t.dot=t.dot$1=t.ease=c,t.emitValidationErrors=Rr,t.endsWith=y,t.enforceCacheSizeLimit=t.evaluateSizeForFeature=Bl,t.evaluateSizeForZoom=Fl,t.evaluateVariableOffset=ic,t.evented=ni,t.extend=d,t.featureFilter=or,t.filterObject=x,t.fromRotation=t.getAnchorAlignment=Rl,t.getAnchorJustification=oc,t.getArrayBuffer=xt,t.getImage=function t(e,n){if(j.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),vt>=U.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:e,callback:n,cancelled:!1,cancel:function(){this.cancelled=!0}};return mt.push(r),r}vt++;var i=!1,o=s=xt(e,;return{cancel:function(){s.cancel(),o()}}},t.getJSON=function(t,e){return bt(d(t,{type:"json"}),e)},t.getRTLTextPluginStatus=ri,t.getReferrer=yt,t.getVideo=t.identity=aa,t.invert=t.isChar=Hr,t.isMapboxURL=J,t.keysDifference=t.makeRequest=bt,t.mapObject=b,t.mercatorXfromLng=jc,t.mercatorYfromLat=zc,t.mercatorZfromAltitude=Gc,t.mul=ca,t.multiply=sa,t.mvt=bs,t.nextPowerOfTwo=t.normalize=t.number=Ve,t.offscreenCanvasSupported=pt,t.ortho=t.parseGlyphPBF=t.pbf=Ks,t.performSymbolLayout=function(t,e,n,r,i,o,a){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,l=t.layers[0]._unevaluatedLayout._values,c={};if("composite"===t.textSizeData.kind){var u=t.textSizeData,h=u.maxZoom;c.compositeTextSizes=[l["text-size"].possiblyEvaluate(new ai(u.minZoom),a),l["text-size"].possiblyEvaluate(new ai(h),a)]}if("composite"===t.iconSizeData.kind){var d=t.iconSizeData,p=d.maxZoom;c.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new ai(d.minZoom),a),l["icon-size"].possiblyEvaluate(new ai(p),a)]}c.layoutTextSize=l["text-size"].possiblyEvaluate(new ai(t.zoom+1),a),c.layoutIconSize=l["icon-size"].possiblyEvaluate(new ai(t.zoom+1),a),c.textMaxSize=l["text-size"].possiblyEvaluate(new ai(18));for(var f=24*s.get("text-line-height"),m="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),v=s.get("text-keep-upright"),g=s.get("text-size"),y=function(){var o=x[b],l=s.get("text-font").evaluate(o,{},a).join(","),u=g.evaluate(o,{},a),h=c.layoutTextSize.evaluate(o,{},a),d=c.layoutIconSize.evaluate(o,{},a),p={horizontal:{},vertical:void 0},y=o.text,w=[0,0];if(y){var A=y.toString(),_=24*s.get("text-letter-spacing").evaluate(o,{},a),T=)?_:0,S=s.get("text-anchor").evaluate(o,{},a),M=s.get("text-variable-anchor");if(!M){var C=s.get("text-radial-offset").evaluate(o,{},a);w=C?ic(S,[24*C,rc]):s.get("text-offset").evaluate(o,{},a).map(function(t){return 24*t})}var I=m?"center":s.get("text-justify").evaluate(o,{},a),k=s.get("symbol-placement"),R="point"===k?24*s.get("text-max-width").evaluate(o,{},a):0,L=if(!m&&M){for(var O="auto"===I?M.map(function(t){return oc(t)}):[I],D=!1,P=0;P<O.length;P++){var B=O[P];if(!p.horizontal[B])if(D)p.horizontal[B]=p.horizontal[0];else{var F=El(y,e,n,i,l,R,f,"center",B,T,w,xl.horizontal,!1,k,h,u);F&&(p.horizontal[B]=F,D=1===F.positionedLines.length)}}L()}else{"auto"===I&&(I=oc(S));var N=El(y,e,n,i,l,R,f,S,I,T,w,xl.horizontal,!1,k,h,u);N&&(p.horizontal[I]=N),L(),Wr(A)&&m&&v&&(p.vertical=El(y,e,n,i,l,R,f,S,I,T,w,xl.vertical,!1,k,h,u))}}var U=void 0,j=!1;if(o.icon&&o.icon.name){var z=r[o.icon.name];z&&(U=i[o.icon.name],s.get("icon-offset").evaluate(o,{},a),s.get("icon-anchor").evaluate(o,{},a)),j=z.sdf,void 0===t.sdfIcons?t.sdfIcons=z.sdf:t.sdfIcons!==z.sdf&&E("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(z.pixelRatio!==t.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}var G=sc(p.horizontal)||p.vertical;t.iconsInText=!!G&&G.iconsInText,(G||U)&&t,o,p,U,r,c,h,d,w,j,a)},b=0,x=t.features;b<x.length;b+=1)y();o&&t.generateCollisionDebugBuffers()},t.perspective=t.pick=t.plugin=oi,t.polygonIntersectsPolygon=Vo,t.postMapLoadEvent=at,t.postTurnstileEvent=it,t.potpack=vl,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.register=Fr,t.registerForPluginStateChange=t.renderColorRamp=xa,t.rotate=t.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+u*r,t[6]=s*i+h*r,t[7]=l*i+d*r,t[8]=c*i-o*r,t[9]=u*i-a*r,t[10]=h*i-s*r,t[11]=d*i-l*r,t},t.rotateZ=t.scale=t.scale$1=t.scale$2=t.setCacheLimits=t.setRTLTextPlugin=t.sphericalToCartesian=t.sqrLen=t.styleSpec=Ct,t.sub=t.symbolSize=Nl,t.transformMat3=t.transformMat4=ua,t.translate=t.triggerPluginCompletionEvent=ti,t.uniqueId=f,t.validateCustomStyleLayer=t.validateLight=Cr,t.validateStyle=Mr,t.values=t.vectorTile=bs,t.version="1.14.0",t.warnOnce=E,t.webpSupported=j,t.window=a,t.wrap=h}),r(0,function(t){r r=r.prototype.replace=r.prototype.update=var i=t.register("GlyphAtlas",i);var o=prototype.parse=var l=l.prototype.loadTile=l.prototype.reloadTile=l.prototype.abortTile=l.prototype.removeTile=var c=t.window.ImageBitmap,u=function(){this.loaded={}};prototype.loadTile=u.prototype.getImageData=u.prototype.removeTile=var p=t.vectorTile.VectorTileFeature.prototype.toGeoJSON,f=f.prototype.loadGeometry=f.prototype.toGeoJSON=var m=m.prototype.feature=var v=t.vectorTile.VectorTileFeature,g=y;prototype.feature=b.prototype.loadGeometry=b.prototype.bbox=b.prototype.toGeoJSON=v.prototype.toGeoJSON;var x=A,w=g;R(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}.fromVectorTileJs=A,x.fromGeojsonVt=x.GeoJSONWrapper=w;var O=function(t){return t[0]},D=function(t){return t[1]},P=P.prototype.range=P.prototype.within=var B={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(t){return t}},F=tion G(t){return t/360+.5}function V(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}unction W(t){return t.x}.getClusters=F.prototype.getChildren=F.prototype.getLeaves=F.prototype.getTile=F.prototype.getClusterExpansionZoom=F.prototype._appendLeaves=F.prototype._addTileFeatures=F.prototype._limitZoom=F.prototype._cluster=F.prototype._getOriginId=F.prototype._getOriginZoom=F.prototype._map=gt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},gt.prototype.splitTile=gt.prototype.getTile=var xt=function(e){eturn e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadData=n.prototype._loadData=function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new t.RequestPerformance(r.request);this.loadGeoJSON(r,function(o,a){if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data given to '"+r.source+"' is not a valid GeoJSON object."));!a,!0);try{if(r.filter){var s=t.createExpression(r.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map(.join(", "));var l=a.features.filter(;a={type:"FeatureCollection",features:l}}e._geoJSONIndex=r.cluster?new F(r)).load(a.features):new gt(a,r.geojsonVtOptions)}catch(o){return n(o)}e.loaded={};var c={};if(i){var u=i.finish();u&&(c.resourceTiming={},c.resourceTiming[r.source]=JSON.parse(JSON.stringify(u)))}n(null,c)})}},n.prototype.coalesce=n.prototype.reloadTile=n.prototype.loadGeoJSON=n.prototype.removeSource=n.prototype.getClusterExpansionZoom=function(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterChildren=n.prototype.getClusterLeaves=n}(l),wt=return wt.prototype.setReferrer=wt.prototype.setImages=wt.prototype.setLayers=wt.prototype.updateLayers=wt.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},wt.prototype.loadDEMTile=wt.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},wt.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},wt.prototype.removeTile=wt.prototype.removeDEMTile=wt.prototype.removeSource=wt.prototype.loadWorkerSource=wt.prototype.syncRTLPluginState=wt.prototype.getAvailableImages=wt.prototype.getLayerIndex=wt.prototype.getWorkerSource=wt.prototype.getDEMWorkerSource=wt.prototype.enforceCacheSizeLimit="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new wt(self)),wt}),r(0,function(t){var e=t.createCommonjsModule(,n={create:createNS:,r=t.window.document&&t.window.document.documentElement.style;ar o,a=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=n.enableDrag=var s=i(["transform","WebkitTransform"]);n.setTransform=var l=!1;try{var c=Object.defineProperty({},"passive",{get:);t.window.addEventListener("test",c,c),t.window.removeEventListener("test",c,c)}catch(t){l=!1}n.addEventListener=function(t,e,n,r){void 0===r&&(r={}),t.addEventListener(e,n,"passive"in r&&l?r:r.capture)},n.removeEventListener=var u=function e(n){n.preventDefault(),n.stopPropagation(),t.window.removeEventListener("click",e,!0)};.suppressClick=n.mousePos=n.touchPos=n.mouseButton=n.remove=var d=t.Evented),p=v,f=v,m=1e20;rototype.draw=p.default=f;var b=b.prototype.setURL=function(t){this.url=t},b.prototype.getGlyphs=b.prototype._doesCharSupportLocalGlyph=b.prototype._tinySDF=b.loadGlyphRange=b.TinySDF=p;var x=x.prototype.possiblyEvaluate=x.prototype.interpolate=var w=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new x,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),A=t.Evented),E=E.prototype.getDash=E.prototype.getDashRanges=E.prototype.addRoundDash=E.prototype.addRegularDash=E.prototype.addDash=E.prototype.bind=var _=.prototype.broadcast=_.prototype.getActor=_.prototype.remove=_.Actor=t.Actor;var S=S.prototype.validateBounds=S.prototype.contains=var M=t.Evented),C=t.Evented),I=function(e){eturn e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.serialize=n.prototype.loadTile=function(e,n){var r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(r,t.ResourceType.Tile),function(r,i){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(r)e.state="errored",n(r);else if(i){this.map._refreshExpiredTiles&&e.setExpiryData(i),delete i.cacheControl,delete i.expires;var o=t.window.ImageBitmap&&i instanceof t.window.ImageBitmap&&t.offscreenCanvasSupported()?i:t.browser.getImageData(i,1),a={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:o,encoding:this.encoding};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",a,bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},n.prototype._getNeighboringTiles=n.prototype.unloadTile=n}(C),k=t.Evented),R=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),L=t.Evented),O=L),D=L),P={vector:M,raster:C,"raster-dem":I,geojson:k,video:O,image:L,canvas:D}; U=U.prototype.reset=U.prototype.add=U.prototype.has=U.prototype.getAndRemove=U.prototype._getAndRemoveByKey=U.prototype.getByKey=U.prototype.get=U.prototype.remove=U.prototype.setMaxSize=U.prototype.filter=var j=j.prototype.bind=j.prototype.updateData=j.prototype.destroy=var z={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},G=G.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},G.prototype.updateData=G.prototype.enableAttributes=G.prototype.setVertexAttribPointers=G.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var V=V.prototype.get=function(){return this.current},V.prototype.set=function(t){},V.prototype.getDefault=function(){return this.default},V.prototype.setDefault=function(){this.set(this.default)};var H=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(V),W=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(V),J=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(V),Z=V),Y=V),K=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},e}(V),Q=V),q=V),X=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(V),$=V),tt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(V),et=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},e}(V),nt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},e}(V),rt=V),it=V),ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(V),at=V),st=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(V),lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(V),ct=V),ut=V),ht=V),dt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(V),pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(V),ft=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(V),mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(V),vt=V),gt=V),yt=V),bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(V),xt=V),wt=V),At=wt),Et=wt),_t=_t.prototype.destroy=var Tt=function(t,e,n){this.func=t,this.mask=e,this.range=n};Tt.ReadOnly=!1,Tt.ReadWrite=!0,Tt.disabled=new Tt(519,Tt.ReadOnly,[0,1]);var St=function(t,e,n,r,i,o){this.test=t,this.ref=e,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};St.disabled=new St({func:519,mask:0},0,0,7680,7680,7680);var Mt=function(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};Mt.disabled=new Mt(Mt.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),Mt.unblended=new Mt(Mt.Replace,t.Color.transparent,[!0,!0,!0,!0]),Mt.alphaBlended=new Mt([1,771],t.Color.transparent,[!0,!0,!0,!0]);var Ct=function(t,e,n){this.enable=t,this.mode=e,this.frontFace=n};Ct.disabled=new Ct(!1,1029,2305),Ct.backCCW=new Ct(!0,1029,2305);var It=It.prototype.setDefault=It.prototype.setDirty=It.prototype.createIndexBuffer=It.prototype.createVertexBuffer=function(t,e,n){return new G(this,t,e,n)},It.prototype.createRenderbuffer=It.prototype.createFramebuffer=It.prototype.clear=It.prototype.setCullFace=It.prototype.setDepthMode=It.prototype.setStencilMode=It.prototype.setColorMode=It.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var kt=t.Evented);maxOverzooming=10,kt.maxUnderzooming=3;var Dt="mapboxgl_preloaded_worker_pool",Pt=function(){this.active={}};Pt.prototype.acquire=Pt.prototype.release=Pt.prototype.isPreloaded=Pt.prototype.numActive=var Bt,Ft=Math.floor(t.browser.hardwareConcurrency/2);workerCount=Math.max(Math.min(Ft,6),1);var zt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};ion Zt(t){return t.id}ar Kt=Kt.prototype.reset=Kt.prototype.lerp=var Qt=e.keysLength=Qt.prototype.insert=Qt.prototype.insertCircle=Qt.prototype._insertBoxCell=function(t,e,n,r,i,o){this.boxCells[i].push(o)},Qt.prototype._insertCircleCell=Qt.prototype._query=Qt.prototype._queryCircle=Qt.prototype.query=function(t,e,n,r,i){return this._query(t,e,n,r,!1,i)},Qt.prototype.hitTest=Qt.prototype.hitTestCircle=Qt.prototype._queryCell=Qt.prototype._queryCellCircle=Qt.prototype._forEachCell=Qt.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Qt.prototype._convertToYCellCoord=Qt.prototype._circlesCollide=Qt.prototype._circleAndRectCollide=var le=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);r he=e.prototype.placeCollisionBox=he.prototype.placeCollisionCircles=he.prototype.queryRenderedSymbols=he.prototype.insertCollisionBox=he.prototype.insertCollisionCircles=he.prototype.projectAndGetPerspectiveRatio=he.prototype.isOffscreen=he.prototype.isInsideGrid=he.prototype.getViewportMatrix=var pe=pe.prototype.isHidden=var fe=fe.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var me=function(t,e,n){this.text=t,this.icon=e,this.skipFade=n},ve=ge=function(t,e,n,r,i){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},ye=.prototype.get=var we=e.prototype.getBucketParts=we.prototype.attemptAnchorPlacement=we.prototype.placeLayerBucketPart=we.prototype.markUsedJustification=we.prototype.markUsedOrientation=we.prototype.commit=we.prototype.updateLayerOpacities=we.prototype.updateBucketOpacities=we.prototype.symbolFadeChange=we.prototype.zoomAdjustment=we.prototype.hasTransitions=we.prototype.stillRecent=we.prototype.setStale=function(){this.stale=!0};var Ee=Math.pow(2,25),_e=Math.pow(2,24),Te=Math.pow(2,17),Se=Math.pow(2,16),Me=Math.pow(2,9),Ce=Math.pow(2,8),Ie=Math.pow(2,1);ar Re=0,Le=Le.prototype.continuePlacement=var Oe=Oe.prototype.isDone=function(){return this._done},Oe.prototype.continuePlacement=Oe.prototype.commit=var De=512/t.EXTENT/2,Pe=Pe.prototype.getScaledCoordinates=Pe.prototype.findMatches=var Be=function(){this.maxCrossTileID=0};Be.prototype.generate=var Fe=Fe.prototype.handleWrapJump=Fe.prototype.addBucket=Fe.prototype.removeBucketCrossTileIDs=Fe.prototype.removeStaleBuckets=var Ne=Ne.prototype.addLayer=Ne.prototype.pruneUnusedLayers=var Ue=je=t.pick(zt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),ze=t.pick(zt,["setCenter","setZoom","setBearing","setPitch"]),Ge=),Ve=t.Evented);Ve.getSourceType=function(t){return P[t]},Ve.setSourceType=function(t,e){P[t]=e},Ve.registerForPluginStateChange=t.registerForPluginStateChange;var He=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),We=yn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Je=yn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ze=yn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Ye=yn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Ke=yn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Qe=yn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),qe=yn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Xe=yn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),$e=yn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),tn=yn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),en=yn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),nn=yn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),rn=yn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),on=yn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),an=yn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),sn=yn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),ln=yn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),cn=yn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),un=yn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),hn=yn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),dn=yn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),pn=yn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),fn=yn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),mn=yn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),vn=yn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),gn=yn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");ar bn=Object.freeze({__proto__:null,prelude:We,background:Je,backgroundPattern:Ze,circle:Ye,clippingMask:Ke,heatmap:Qe,heatmapTexture:qe,collisionBox:Xe,collisionCircle:$e,debug:tn,fill:en,fillOutline:nn,fillOutlinePattern:rn,fillPattern:on,fillExtrusion:an,fillExtrusionPattern:sn,hillshadePrepare:ln,hillshade:cn,line:un,lineGradient:hn,linePattern:dn,lineSDF:pn,raster:fn,symbolIcon:mn,symbolSDF:vn,symbolTextAndIcon:gn}),xn=n.prototype.bind=xn.prototype.freshBind=xn.prototype.destroy=var An=n.prototype.draw=var _n=Tn=Sn=function(t){return{u_matrix:t}},Mn=Cn=In=kn=Rn=Ln=On=Dn=Pn=Bn=Fn=Nn=Un=r Gn=ar Hn,Wn=Jn=Zn=Yn=Kn=Qn={fillExtrusion:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fillExtrusionPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,n.u_height_factor),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fill:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},fillPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},fillOutline:fillOutlinePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},circle:function(e,n){return{u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,n.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},collisionBox:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,n.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,n.u_overscale_factor)}},collisionCircle:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_inv_matrix:new t.UniformMatrix4f(e,n.u_inv_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_viewport_size:new t.Uniform2f(e,n.u_viewport_size)}},debug:function(e,n){return{u_color:new t.UniformColor(e,n.u_color),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_overlay:new t.Uniform1i(e,n.u_overlay),u_overlay_scale:new t.Uniform1f(e,n.u_overlay_scale)}},clippingMask:heatmap:function(e,n){return{u_extrude_scale:new t.Uniform1f(e,n.u_extrude_scale),u_intensity:new t.Uniform1f(e,n.u_intensity),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmapTexture:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_opacity:new t.Uniform1f(e,n.u_opacity)}},hillshade:hillshadePrepare:line:lineGradient:linePattern:lineSDF:raster:symbolIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture)}},symbolSDF:symbolTextAndIcon:background:backgroundPattern:;function qn(e,n,r,i,o,a,s){for(var l=e.context,c=l.gl,u=e.useProgram("collisionBox"),h=[],d=0,p=0,f=0;f<i.length;f++){var m=i[f],v=n.getTile(m),g=v.getBucket(r);if(g){var y=m.posMatrix;0===o[0]&&0===o[1]||(y=e.translatePosMatrix(m.posMatrix,v,o,a));var b=s?g.textCollisionBox:g.iconCollisionBox,x=g.collisionCircleArray;if(x.length>0){var w=t.create(),A=y;t.mul(w,g.placementInvProjMatrix,e.transform.glCoordMatrix),t.mul(w,w,g.placementViewportMatrix),h.push({circleArray:x,circleOffset:p,transform:A,invTransform:w}),p=d+=x.length/4}b&&u.draw(l,c.LINES,Tt.disabled,St.disabled,e.colorModeForRenderPass(),Ct.disabled,Rn(y,e.transform,v),r.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,e.transform.zoom,null,null,b.collisionVertexBuffer)}}if(s&&h.length){var E=e.useProgram("collisionCircle"),_=new t.StructArrayLayout2f1f2i16;_.resize(4*d),_._trim();for(var T=0,S=0,M=h;S<M.length;S+=1)for(var C=M[S],I=0;I<C.circleArray.length/4;I++){var k=4*I,R=C.circleArray[k+0],L=C.circleArray[k+1],O=C.circleArray[k+2],D=C.circleArray[k+3];_.emplace(T++,R,L,O,D,0),_.emplace(T++,R,L,O,D,1),_.emplace(T++,R,L,O,D,2),_.emplace(T++,R,L,O,D,3)}(!Hn||Hn.length<2*d)&&(Hn=));for(var P=l.createIndexBuffer(Hn,!0),B=l.createVertexBuffer(_,t.collisionCircleLayout.members,!0),F=0,N=h;F<N.length;F+=1){var U=N[F],j=Ln(U.transform,U.invTransform,e.transform);E.draw(l,c.TRIANGLES,Tt.disabled,St.disabled,e.colorModeForRenderPass(),Ct.disabled,j,r.id,B,P,t.SegmentVector.simpleSegment(0,2*U.circleOffset,U.circleArray.length,U.circleArray.length/2),null,e.transform.zoom,null,null,null)}B.destroy(),P.destroy()}}var Xn=t.identity(new Float32Array(16)); t.Color(1,0,0,1),ur=new t.Color(0,1,0,1),hr=new t.Color(0,0,1,1),dr=new t.Color(1,0,1,1),pr=new t.Color(0,1,1,1);yr={symbol:circle:heatmap:line:fill:"fill-extrusion":hillshade:raster:background:debug:custom:,br=br.prototype.resize=br.prototype.setup=br.prototype.clearStencil=br.prototype._renderTileClippingMasks=br.prototype.stencilModeFor3D=br.prototype.stencilModeForClipping=br.prototype.stencilConfigForOverlap=br.prototype.colorModeForRenderPass=br.prototype.depthModeForSublayer=br.prototype.opaquePassEnabledForLayer=br.prototype.render=br.prototype.renderLayer=br.prototype.gpuTimingStart=br.prototype.gpuTimingEnd=br.prototype.collectGpuTimers=br.prototype.queryGpuTimers=br.prototype.translatePosMatrix=br.prototype.saveTileTexture=br.prototype.getTileTexture=br.prototype.isPatternMissing=br.prototype.useProgram=br.prototype.setCustomLayerDefaults=br.prototype.setBaseState=br.prototype.initDebugOverlayCanvas=br.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var xr=function(t,e){this.points=t,this.planes=e};xr.fromInvProjectionMatrix=var wr=wr.prototype.quadrant=wr.prototype.distanceX=function(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]},wr.prototype.distanceY=wr.prototype.intersects=var Ar=Ar.prototype.interpolate=Ar.prototype.getCenter=Ar.prototype.equals=Ar.prototype.clone=function(){return new Ar(this.top,this.bottom,this.left,this.right)},Ar.prototype.toJSON=var Er=_r={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Er.prototype.clone=_r.minZoom.get=function(){return this._minZoom},_r.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},_r.maxZoom.get=function(){return this._maxZoom},_r.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},_r.minPitch.get=function(){return this._minPitch},_r.minPitch.set=function(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))},_r.maxPitch.get=function(){return this._maxPitch},_r.maxPitch.set=_r.renderWorldCopies.get=function(){return this._renderWorldCopies},_r.renderWorldCopies.set=_r.worldSize.get=_r.centerOffset.get=_r.size.get=_r.bearing.get=_r.bearing.set=_r.pitch.get=function(){return this._pitch/Math.PI*180},_r.pitch.set=_r.fov.get=_r.fov.set=_r.zoom.get=function(){return this._zoom},_r.zoom.set=_r.center.get=function(){return this._center},_r.center.set=_r.padding.get=function(){return this._edgeInsets.toJSON()},_r.padding.set=_r.centerPoint.get=Er.prototype.isPaddingEqual=function(t){return this._edgeInsets.equals(t)},Er.prototype.interpolatePadding=Er.prototype.coveringZoomLevel=Er.prototype.getVisibleUnwrappedCoordinates=Er.prototype.coveringTiles=Er.prototype.resize=_r.unmodified.get=function(){return this._unmodified},Er.prototype.zoomScale=function(t){return Math.pow(2,t)},Er.prototype.scaleZoom=Er.prototype.project=Er.prototype.unproject=_r.point.get=Er.prototype.setLocationAtPoint=Er.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},Er.prototype.pointLocation=Er.prototype.locationCoordinate=Er.prototype.coordinateLocation=function(t){return t.toLngLat()},Er.prototype.pointCoordinate=Er.prototype.coordinatePoint=Er.prototype.getBounds=Er.prototype.getMaxBounds=Er.prototype.setMaxBounds=Er.prototype.calculatePosMatrix=Er.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Er.prototype._constrain=Er.prototype._calcMatrices=Er.prototype.maxPitchScaleFactor=Er.prototype.getCameraPoint=Er.prototype.getCameraQueryGeometry=Object.defineProperties(Er.prototype,_r);var Tr=Tr.prototype.addTo=Tr.prototype.remove=Tr.prototype.getHashString=Tr.prototype._getCurrentHash=Tr.prototype._onHashChange=Tr.prototype._updateHashUnthrottled=var Sr={linearity:.3,easing:t.bezier(0,0,.3,1)},Mr=t.extend({deceleration:2500,maxSpeed:1400},Sr),Cr=t.extend({deceleration:20,maxSpeed:1400},Sr),Ir=t.extend({deceleration:1e3,maxSpeed:360},Sr),kr=t.extend({deceleration:1e3,maxSpeed:90},Sr),Rr=.prototype.clear=function(){this._inertiaBuffer=[]},Rr.prototype.record=Rr.prototype._drainInertiaBuffer=Rr.prototype._onMoveEnd=var Dr=t.Event),Pr=t.Event),Br=t.Event),Fr=Fr.prototype.reset=Fr.prototype.wheel=function(t){return this._firePreventable(new Br(t.type,this._map,t))},Fr.prototype.mousedown=Fr.prototype.mouseup=function(t){this._map.fire(new Dr(t.type,this._map,t))},Fr.prototype.click=Fr.prototype.dblclick=function(t){return this._firePreventable(new Dr(t.type,this._map,t))},Fr.prototype.mouseover=function(t){this._map.fire(new Dr(t.type,this._map,t))},Fr.prototype.mouseout=function(t){this._map.fire(new Dr(t.type,this._map,t))},Fr.prototype.touchstart=Fr.prototype.touchmove=function(t){this._map.fire(new Pr(t.type,this._map,t))},Fr.prototype.touchend=function(t){this._map.fire(new Pr(t.type,this._map,t))},Fr.prototype.touchcancel=function(t){this._map.fire(new Pr(t.type,this._map,t))},Fr.prototype._firePreventable=Fr.prototype.isEnabled=function(){return!0},Fr.prototype.isActive=function(){return!1},Fr.prototype.enable=function(){},Fr.prototype.disable=function(){};var Nr=function(t){this._map=t};Nr.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Nr.prototype.mousemove=Nr.prototype.mousedown=function(){this._delayContextMenu=!0},Nr.prototype.mouseup=Nr.prototype.contextmenu=Nr.prototype.isEnabled=function(){return!0},Nr.prototype.isActive=function(){return!1},Nr.prototype.enable=function(){},Nr.prototype.disable=function(){};var Ur=r.prototype.isEnabled=function(){return!!this._enabled},Ur.prototype.isActive=function(){return!!this._active},Ur.prototype.enable=Ur.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ur.prototype.mousedown=Ur.prototype.mousemoveWindow=Ur.prototype.mouseupWindow=Ur.prototype.keydown=Ur.prototype.reset=Ur.prototype._fireEvent=var zr=zr.prototype.reset=zr.prototype.touchstart=zr.prototype.touchmove=zr.prototype.touchend=var Gr=Gr.prototype.reset=Gr.prototype.touchstart=function(t,e,n){this.singleTap.touchstart(t,e,n)},Gr.prototype.touchmove=Gr.prototype.touchend=var Vr=Vr.prototype.reset=Vr.prototype.touchstart=function(t,e,n){this._zoomIn.touchstart(t,e,n),this._zoomOut.touchstart(t,e,n)},Vr.prototype.touchmove=Vr.prototype.touchend=Vr.prototype.touchcancel=function(){this.reset()},Vr.prototype.enable=function(){this._enabled=!0},Vr.prototype.disable=function(){this._enabled=!1,this.reset()},Vr.prototype.isEnabled=function(){return this._enabled},Vr.prototype.isActive=function(){return this._active};var Hr={0:1,2:2},Wr=Wr.prototype.reset=Wr.prototype._correctButton=function(t,e){return!1},Wr.prototype._move=Wr.prototype.mousedown=Wr.prototype.mousemoveWindow=Wr.prototype.mouseupWindow=Wr.prototype.enable=function(){this._enabled=!0},Wr.prototype.disable=function(){this._enabled=!1,this.reset()},Wr.prototype.isEnabled=function(){return this._enabled},Wr.prototype.isActive=function(){return this._active};var Jr=Wr),Zr=Wr),Yr=Wr),Kr=Kr.prototype.reset=Kr.prototype.touchstart=Kr.prototype.touchmove=Kr.prototype.touchend=Kr.prototype.touchcancel=function(){this.reset()},Kr.prototype._calculateTransform=Kr.prototype.enable=function(){this._enabled=!0},Kr.prototype.disable=function(){this._enabled=!1,this.reset()},Kr.prototype.isEnabled=function(){return this._enabled},Kr.prototype.isActive=function(){return this._active};var Qr=function(){this.reset()};.prototype.reset=Qr.prototype._start=Qr.prototype._move=Qr.prototype.touchstart=Qr.prototype.touchmove=Qr.prototype.touchend=Qr.prototype.touchcancel=function(){this.reset()},Qr.prototype.enable=Qr.prototype.disable=function(){this._enabled=!1,this.reset()},Qr.prototype.isEnabled=function(){return this._enabled},Qr.prototype.isActive=function(){return this._active};var $r=Qr);ar ei=Qr);ar ri=Qr),ii={panStep:100,bearingStep:15,pitchStep:10},oi=i.prototype.reset=function(){this._active=!1},oi.prototype.keydown=oi.prototype.enable=function(){this._enabled=!0},oi.prototype.disable=function(){this._enabled=!1,this.reset()},oi.prototype.isEnabled=function(){return this._enabled},oi.prototype.isActive=function(){return this._active},oi.prototype.disableRotation=function(){this._rotationDisabled=!0},oi.prototype.enableRotation=function(){this._rotationDisabled=!1};var si=si.prototype.setZoomRate=function(t){this._defaultZoomRate=t},si.prototype.setWheelZoomRate=si.prototype.isEnabled=function(){return!!this._enabled},si.prototype.isActive=si.prototype.isZooming=si.prototype.enable=si.prototype.disable=si.prototype.wheel=si.prototype._onTimeout=si.prototype._start=si.prototype.renderFrame=si.prototype._smoothOutEasing=si.prototype.reset=function(){this._active=!1};var li=li.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},li.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},li.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},li.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ci=function(){this.reset()};ci.prototype.reset=function(){this._active=!1},ci.prototype.dblclick=ci.prototype.enable=function(){this._enabled=!0},ci.prototype.disable=function(){this._enabled=!1,this.reset()},ci.prototype.isEnabled=function(){return this._enabled},ci.prototype.isActive=function(){return this._active};var ui=ui.prototype.reset=ui.prototype.touchstart=ui.prototype.touchmove=ui.prototype.touchend=ui.prototype.touchcancel=ui.prototype.enable=ui.prototype.disable=ui.prototype.isEnabled=function(){return this._enabled},ui.prototype.isActive=var hi=hi.prototype.enable=hi.prototype.disable=hi.prototype.isEnabled=hi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var di=di.prototype.enable=di.prototype.disable=di.prototype.isEnabled=di.prototype.isActive=var pi=pi.prototype.enable=pi.prototype.disable=pi.prototype.isEnabled=pi.prototype.isActive=pi.prototype.disableRotation=pi.prototype.enableRotation=var fi=mi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(t.Event);ar gi=gi.prototype.destroy=gi.prototype._addDefaultHandlers=gi.prototype._add=gi.prototype.stop=gi.prototype.isActive=gi.prototype.isZooming=gi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},gi.prototype.isMoving=gi.prototype._blockedByActive=gi.prototype.handleWindowEvent=gi.prototype._getMapTouches=gi.prototype.handleEvent=gi.prototype.mergeHandlerResult=gi.prototype._applyChanges=gi.prototype._updateMapTransform=gi.prototype._fireEvents=gi.prototype._fireEvent=gi.prototype._requestFrame=gi.prototype._triggerRenderFrame=var yi=t.Evented),bi=bi.prototype.getDefaultPosition=function(){return"bottom-right"},bi.prototype.onAdd=bi.prototype.onRemove=bi.prototype._setElementTitle=function(t,e){var n=this._map._getUIString("AttributionControl."+e);t.title=n,t.setAttribute("aria-label",n)},bi.prototype._toggleAttribution=bi.prototype._updateEditLink=bi.prototype._updateData=bi.prototype._updateAttributions=bi.prototype._updateCompact=var xi=xi.prototype.onAdd=xi.prototype.onRemove=xi.prototype.getDefaultPosition=function(){return"bottom-left"},xi.prototype._updateLogo=xi.prototype._logoRequired=xi.prototype._updateCompact=var wi=wi.prototype.add=wi.prototype.remove=wi.prototype.run=wi.prototype.clear=var Ai={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Ei=t.window.HTMLImageElement,_i=t.window.HTMLElement,Ti=t.window.ImageBitmap,Si={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Mi=yi);ar Ii={showCompass:!0,showZoom:!0,visualizePitch:!1},ki=ki.prototype._updateZoomButtons=ki.prototype._rotateCompassArrow=ki.prototype.onAdd=ki.prototype.onRemove=ki.prototype._createButton=ki.prototype._setButtonTitle=var Ri=i.prototype.down=Ri.prototype.move=Ri.prototype.off=Ri.prototype.offTemp=Ri.prototype.mousedown=Ri.prototype.mousemove=Ri.prototype.mouseup=Ri.prototype.touchstart=Ri.prototype.touchmove=Ri.prototype.touchend=Ri.prototype.reset=var Oi={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};ar Pi,Bi=t.Evented),Fi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ni=0,Ui=!1,ji=t.Evented),zi={maxWidth:100,unit:"metric"},Gi=.prototype.getDefaultPosition=function(){return"bottom-left"},Gi.prototype._onMove=Gi.prototype.onAdd=Gi.prototype.onRemove=Gi.prototype.setUnit=var Wi=Wi.prototype.onAdd=Wi.prototype.onRemove=Wi.prototype._checkFullscreenSupport=Wi.prototype._setupUI=Wi.prototype._updateTitle=Wi.prototype._getTitle=Wi.prototype._isFullscreen=function(){return this._fullscreen},Wi.prototype._changeIcon=Wi.prototype._onClickFullscreen=var Ji={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Zi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Yi=t.Evented),Ki={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:Mi,NavigationControl:ki,GeolocateControl:ji,AttributionControl:bi,ScaleControl:Gi,FullscreenControl:Wi,Popup:Yi,Marker:Bi,Style:Ve,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,prewarm:clearPrewarmedResources:get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return Pt.workerCount},set workerCount(t){Pt.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequestsclearStorage:function(e){t.clearTileCache(e)},workerUrl:""};return Ki}),n}()},258:function(t,e,n){"use strict";var r=n(268),i=n(272),o=n(207),a=n(405).EventEmitter,s=n(273),l=n(274);function c(t){this._eventEmitter=new a,this.options=o({},this.options,t)}c.prototype={options:{placeholder:"Search",zoom:16,flyTo:!0,trackProximity:!1,minLength:2,limit:5},onAdd:function(t){this._map=t,this.mapboxClient=new l(this.options.accessToken),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this._clear=this._clear.bind(this),this._updateProximity=this._updateProximity.bind(this);var e=this.container=document.createElement("div");e.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var n=document.createElement("span");n.className="geocoder-icon geocoder-icon-search",this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.placeholder=this.options.placeholder,this._inputEl.addEventListener("keydown",this._onKeyDown),this._inputEl.addEventListener("change",this._onChange);var i=document.createElement("div");return i.classList.add("geocoder-pin-right"),this._clearEl=document.createElement("button"),this._clearEl.className="geocoder-icon geocoder-icon-close",this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this._clear),this._loadingEl=document.createElement("span"),this._loadingEl.className="geocoder-icon geocoder-icon-loading",i.appendChild(this._clearEl),i.appendChild(this._loadingEl),e.appendChild(n),e.appendChild(this._inputEl),e.appendChild(i),this._typeahead=new r(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit}),this._typeahead.getItemValue=function(t){return t.place_name},this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),e},onRemove:function(){return this.container.parentNode.removeChild(this.container),this._map=null,this.options.trackProximity&&this._map.off("moveend",this._updateProximity),this},_onKeyDown:i(function(t){var e=t.target.shadowRoot?t.target.shadowRoot.activeElement:t.target;if(!e.value)return this._clearEl.style.display="none";t.metaKey||-1!==[9,27,37,39,13,38,40].indexOf(t.keyCode)||e.value.length>=this.options.minLength&&this._geocode(e.value)},200),_onChange:function(){this._inputEl.value&&(this._clearEl.style.display="block");var t=this._typeahead.selected;if(t){if(this.options.flyTo)if(!s[t.id]&&t.bbox){var e=t.bbox;this._map.fitBounds([[e[0],e[1]],[e[2],e[3]]])}else s[t.id]?this._map.fitBounds(s[t.id].bbox):this._map.flyTo({center:t.center,zoom:this.options.zoom});this._eventEmitter.emit("result",{result:t})}},_geocode:function(t){this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:t});var e=this.mapboxClient.geocodeForward(t,this.options),n=[];return this.options.localGeocoder&&((n=this.options.localGeocoder(t))||(n=[])),e.then(function(t){this._loadingEl.style.display="none";var e={};"200"==t.status&&(e=t.entity),e.features=e.features?n.concat(e.features):n,this.options.filter&&e.features.length&&(e.features=e.features.filter(this.options.filter)),e.features.length?this._clearEl.style.display="block":(this._clearEl.style.display="none",this._typeahead.selected=null),this._eventEmitter.emit("results",e),this._typeahead.update(e.features)}.bind(this)),e.catch(function(t){this._loadingEl.style.display="none",n.length?this._clearEl.style.display="block":(this._clearEl.style.display="none",this._typeahead.selected=null),this._eventEmitter.emit("results",{features:n}),this._typeahead.update(n),this._eventEmitter.emit("error",{error:t})}.bind(this)),e},_clear:function(t){t&&t.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._inputEl.focus(),this._clearEl.style.display="none",this._eventEmitter.emit("clear")},_onQueryResult:function(t){var e=t.entity;if(e.features.length){var n=e.features[0];this._typeahead.selected=n,this._inputEl.value=n.place_name,this._onChange()}},_updateProximity:function(){if(this._map.getZoom()>9){var t=this._map.getCenter().wrap();this.setProximity({longitude:t.lng,latitude:t.lat})}else this.setProximity(null)},query:function(t){return this._geocode(t).then(this._onQueryResult),this},setInput:function(t){return this._inputEl.value=t,this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this},setProximity:getProximity:function(){return this.options.proximity},on:function(t,e){return this._eventEmitter.on(t,e),this},off:,t.exports=c},259:function(t,n,r){![function(t,n,r){"use strict";var i,o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=r(1),s=(i=a)&&i.__esModule?i:{default:i};if("undefined"===typeof AFRAME)throw"Component attempted to register before AFRAME was available.";var l=AFRAME.utils.debug;l.enable("shader:html:warn");var c=l("shader:html:warn"),u=l("shader:html:debug");AFRAME.registerShader("html",{schema:{color:{type:"color"},fog:{default:!0},target:{default:null},debug:{default:null},fps:{type:"number",default:0},width:{default:null},height:{default:null},ratio:{default:null}},init:function(t){return u("init",t),this.__cnv=document.createElement("canvas"),this.__cnv.width=2,this.__cnv.height=2,this.__ctx=this.__cnv.getContext("2d"),this.__texture=new THREE.Texture(this.__cnv),this.__reset(),this.material=new THREE.MeshBasicMaterial({map:this.__texture}),this.el.sceneEl.addBehavior(this),this.material},update:function(t){return u("update",t),this.__updateMaterial(t),this.__updateTexture(t),this.material},tick:function(t){!this.__paused&&this.__target&&this.__nextTime&&(Date.now()>this.__nextTime&&this.__render())},__updateMaterial:function(t){var e=this.material,n=this.__getMaterialData(t);Object.keys(n).forEach(},__getMaterialData:function(t){return{fog:t.fog,color:new THREE.Color(t.color)}},__setTexure:function(t){u("__setTexure",t),"error"===t.status?(c("Error: "+t.message+"\ntarget: "+t.target),this.__reset()):"success"===t.status&&t.target!==this.__textureSrc&&this.__ready(t)},__updateTexture:function(t){var e=this,n=t.target,r=t.fps,i=t.width,o=t.height,a=t.ratio;this.__width=i||this.schema.width.default,this.__height=o||this.schema.height.default;var s=function(){e.__debugEl&&(e.__debugEl.innerHTML="",e.__debugEl=e.schema.debug.default)};if(t.debug){var l=this.__validateAndGetQuerySelector(t.debug);l&&!l.error?this.__debugEl=l:s()}else s();if(this.__ratio=a&&"width"===a||"height"===a?a:this.schema.ratio.default,r)if(this.__fps>0)this.__fps=r;else if(-1===r){this.__fps=this.schema.fps.default,this.__target&&this.__render();var c=Object.assign({},this.el.getAttribute("material"));delete c.fps,this.el.setAttribute("material",c)}else this.__fps=r,this.__target&&(this.play(),this.__render());else this.__fps>0?this.pause():this.__fps=this.schema.fps.default;if(n){if(n===this.__target)return;this.__target=n,this.__validateSrc(n,this.__setTexure.bind(this))}else this.__reset()},__validateSrc:function(t,e){var n=void 0,r=this.__validateAndGetQuerySelector(t);if(r&&"object"===("undefined"===typeof r?"undefined":o(r))){if(r.error)n=r.error;else{var i=r.tagName.toLowerCase();"img"===i||"video"===i?n="For <"+i+"> element, please use `shader:flat`":e({status:"success",target:t,targetEl:r,timestamp:Date.now()})}if(n)e(function(t,e){return{status:"error",target:e,message:t,timestamp:Date.now()}}(n,t))}},__validateAndGetQuerySelector:function(t){try{var n=document.querySelector(t);return n||{error:"No element was found matching the selector"}}catch(e){return{error:"no valid selector"}}},pause:function(){u("pause"),this.__paused=!0,this.__nextTime=null},play:function(){u("play"),this.__paused=!1},togglePlayback:paused:function(){return this.__paused},__clearCanvas:function(){this.__ctx&&this.__texture&&(this.__ctx.clearRect(0,0,this.__width,this.__height),this.__texture.needsUpdate=!0)},__draw:function(t){if(u("__draw"),this.__ctx&&this.__texture){var e=t.width/t.height,n=this.__cnv.width=THREE.Math.nearestPowerOfTwo(t.width),r=this.__cnv.height=THREE.Math.nearestPowerOfTwo(t.height);if(this.__ctx.drawImage(t,0,0,n,r),this.__texture.needsUpdate=!0,this.__ratio){var i=this.el.getObject3D("mesh").geometry.metadata.parameters,o=i.width,a=i.height;this.el.setAttribute("geometry",Object.assign({},this.el.getAttribute("geometry"),{width:"width"===this.__ratio?o:a*e,height:"width"===this.__ratio?o/e:a}))}this.__debugEl&&(this.__debugEl.innerHTML="",this.__debugEl.appendChild(t)),this.__setNextTick()}},__render:function(){if(this.__nextTime=null,this.__targetEl){var t=this.__targetEl.getBoundingClientRect(),e=t.width,n=t.height;(0,s.default)(this.__targetEl,{background:void 0,width:this.__width||e,height:this.__height||n,onrendered:this.__draw.bind(this)})}},__setNextTick:function(){this.__fps>0&&(this.__nextTime=Date.now()+1e3/this.__fps)},__ready:function(t){var e=t.target,n=t.targetEl;u("__ready"),this.__target=e,this.__targetEl=n,this.play(),this.__render()},__reset:function(){this.pause(),this.__clearCanvas(),this.__target=null,this.__targetEl=null,this.__debugEl=null}})},function(t,e,n){var r,i=n(2),o=n(3),a=n(9),s=n(21),l=n(24),c=n(5),u=n(12),h=(n(16),n(14).loadUrlDocument,u.getBounds);function d(t,e){0;return(e=e||{}).logging&&(c.options.logging=!0,c.options.start=Date.now()),e.async="undefined"===typeof e.async||e.async,e.allowTaint="undefined"!==typeof e.allowTaint&&e.allowTaint,e.removeContainer="undefined"===typeof e.removeContainer||e.removeContainer,e.javascriptEnabled="undefined"!==typeof e.javascriptEnabled&&e.javascriptEnabled,e.imageTimeout="undefined"===typeof e.imageTimeout?1e4:e.imageTimeout,e.renderer="function"===typeof e.renderer?e.renderer:o,e.strict=!!e.strict,function(t,e,n){var r=new i(t.ownerDocument),o=new a({useCORS:!0},r),l={renderer:d.CanvasRenderer},c=(h(t),new l.renderer(e,n,o,l,document));return new s(t,c,r,o,l).ready.then(function(){return c.canvas})}(t,e.width||512,e.height||512).then(function(t){e.onrendered(t)})}d.CanvasRenderer=o,d.NodeContainer=l,d.log=c,d.utils=u;var p="undefined"===typeof document||"function"!==typeof Object.create||"function"!==typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:d;t.exports=p,void 0===(r=function(){return p}.apply(e,[]))||(t.exports=r)},function(t,n){"use strict";.prototype.testRangeBounds=r.prototype.testCORS=r.prototype.testSVG=t.exports=r},function(t,n,r){"use strict";var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?o=r(4),a=r(6),s=r(5);prototype=Object.create(o.prototype),l.prototype.setFillStyle=function(t){return this.ctx.fillStyle="object"===("undefined"===typeof t?"undefined":i(t))&&t.isColor?t.toString():t,this.ctx},l.prototype.rectangle=l.prototype.circle=l.prototype.circleStroke=l.prototype.drawShape=l.prototype.taints=l.prototype.drawImage=l.prototype.clip=l.prototype.shape=l.prototype.font=l.prototype.fontShadow=l.prototype.clearShadow=l.prototype.setOpacity=function(t){this.ctx.globalAlpha=t},l.prototype.setTransform=l.prototype.setVariable=l.prototype.text=function(t,e,n){this.ctx.fillText(t,e,n)},l.prototype.backgroundRepeatShape=l.prototype.renderBackgroundRepeat=l.prototype.renderBackgroundGradient=l.prototype.resizeImage=t.exports=l},function(t,e,n){"use strict";var r=n(5);.prototype.renderImage=i.prototype.renderBackground=i.prototype.renderBackgroundColor=i.prototype.renderBorders=i.prototype.renderBorder=i.prototype.renderBackgroundImage=i.prototype.renderBackgroundRepeating=t.exports=i},function(t,e){"use strict";var n=function t(){t.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-t.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};n.options={logging:!1},t.exports=n},function(t,e,n){"use strict";var r=n(7),i=n(8);.prototype=Object.create(r.prototype),o.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,t.exports=o},function(t,e){"use strict";.TYPES={LINEAR:1,RADIAL:2},n.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,t.exports=n},function(t,e){"use strict";.prototype.darken=n.prototype.isTransparent=n.prototype.isBlack=n.prototype.fromArray=var r=/^#([a-f0-9]{3})$/i;n.prototype.hex3=var i=/^#([a-f0-9]{6})$/i;n.prototype.hex6=var o=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;n.prototype.rgb=var a=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;n.prototype.rgba=n.prototype.toString=n.prototype.namedColor=n.prototype.isColor=!0;var s={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};t.exports=n},function(t,e,n){"use strict";var r=n(5),i=n(10),o=n(11),a=n(13),s=n(17),l=n(18),c=n(19),u=n(6),h=n(20),d=n(12).bind;.prototype.findImages=p.prototype.findBackgroundImage=p.prototype.addImage=function(t,e){return function(n){n.args.forEach(function(i){this.imageExists(t,i)||(t.splice(0,0,e.call(this,n)),r("Added image #"+t.length,"string"===typeof i?i.substring(0,100):i))},this)}},p.prototype.hasImageBackground=p.prototype.loadImage=p.prototype.isSVG=p.prototype.imageExists=p.prototype.isSameOrigin=p.prototype.getOrigin=p.prototype.getPromise=p.prototype.get=p.prototype.fetch=p.prototype.timeout=t.exports=p},function(t,e){"use strict";t.exports=,function(t,e,n){"use strict";var r=n(5),i=n(12).smallImage;t.exports=,function(t,e){"use strict";e.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},e.bind=e.decode64=e.getBounds=e.offsetBounds=e.parseBackgrounds=function(t){var e,n,r,i,o,a,s,l=[],c=0,u=0,h=return s=[],e=r=n=o="",t.split("").forEach(function(t){if(!(0===c&&" \r\n\t".indexOf(t)>-1)){switch(t){case'"':a?a===t&&(a=null):a=t;break;case"(":if(a)break;if(0===c)return c=1,void(o+=t);u++;break;case")":if(a)break;if(1===c){if(0===u)return c=0,o+=t,void h();u--}break;case",":if(a)break;if(0===c)return void h();if(1===c&&0===u&&!e.match(/^url$/i))return s.push(n),n="",void(o+=t)}o+=t,0===c?e+=t:n+=t}}),h(),l}},function(t,e,n){"use strict";var r=n(14).ProxyURL;t.exports=,function(t,n,r){"use strict";var i=r(15),o=r(12),a=r(5),s=r(16),l=o.decode64;ar u=0;oxy=c,n.ProxyURL=n.loadUrlDocument=function(t,e,n,r,i,o){return new c(t,e,window.document).then(f(t)).then(}},function(t,e){"use strict";t.exports=,function(t,n,r){"use strict";var i=r(5);.exports=function(t,e,n,r,i,a,s){var l=o(t.documentElement,i.javascriptEnabled),c=e.createElement("iframe");return c.className="html2canvas-container",c.style.visibility="hidden",c.style.position="fixed",c.style.left="-10000px",c.style.top="0px",c.style.border="0",c.width=n,c.height=r,c.scrolling="no",e.body.appendChild(c),new Promise(function(e){var n=c.contentWindow.document;c.contentWindow.onload=c.onload=function(){var t=setInterval(function(){n.body.childNodes.length>0&&(!n.documentElement),clearInterval(t),"view"===i.type&&(c.contentWindow.scrollTo(a,s),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||c.contentWindow.scrollY===s&&c.contentWindow.scrollX===a||(n.documentElement.style.top=-s+"px",n.documentElement.style.left=-a+"px",n.documentElement.style.position="absolute")),e(c))},50)},n.open(),n.write("<!DOCTYPE html><html></html>"),t,a,s),n.replaceChild(n.adoptNode(l),n.documentElement),n.close()})}},function(t,e,n){"use strict";var r=n(12).getBounds,i=n(14).loadUrlDocument;.prototype.proxyLoad=t.exports=o},function(t,e,n){"use strict";var r=n(15),i=n(12).decode64;.prototype.hasFabric=o.prototype.inlineFormatting=o.prototype.removeContentType=o.prototype.isInline=function(t){return/^data:image\/svg\+xml/i.test(t)},o.prototype.createCanvas=o.prototype.decode64=function(t){return"function"===typeof window.atob?window.atob(t):i(t)},t.exports=o},function(t,e,n){"use strict";var r=n(18);.prototype=Object.create(r.prototype),t.exports=i},function(t,e,n){"use strict";var r=n(7);.prototype=Object.create(r.prototype),t.exports=i},function(t,n,r){"use strict";var i=r(5),o=r(22),a=r(24),s=r(25),l=r(26),c=r(27),u=r(8),h=r(29),d=r(12),p=d.bind,f=d.getBounds,m=d.parseBackgrounds,v=d.offsetBounds;function g(t,e,n,r,o){i("Starting NodeParser"),this.renderer=e,this.options=o,this.range=null,this.support=n,this.renderQueue=[],this.stack=new h(!0,1,t.ownerDocument,null);var s=new a(t,null);if(o.background&&e.rectangle(0,0,e.width,e.height,new u(o.background)),t===t.ownerDocument.documentElement){var l=new a(s.color("backgroundColor").isTransparent()?t.ownerDocument.body:t.ownerDocument.documentElement,null);e.rectangle(0,0,e.width,e.height,l.color("backgroundColor"))}s.visibile=s.isElementVisible(),this.createPseudoHideStyles(t.ownerDocument),this.disableAnimations(t.ownerDocument),this.nodes=V([s].concat(this.getChildren(s)).filter(.map(this.getPseudoElements,this)),this.fontMetrics=new c,i("Fetched nodes, total:",this.nodes.length),i("Calculate overflow clips"),this.calculateOverflowClips(),i("Start fetching images"),this.images=r.fetch(this.nodes.filter(F)),this.ready=this.images.ready.then(p(function(){return i("Images loaded, starting parsing"),i("Creating stacking contexts"),this.createStackingContexts(),i("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),i("Render queue created with "+this.renderQueue.length+" items"),new Promise(p(function(t){o.async?"function"===typeof o.async?o.async.call(this,this.renderQueue,t):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,t)):t():(this.renderQueue.forEach(this.paint,this),t())},this))},this))}unction b(){}g.prototype.calculateOverflowClips=g.prototype.asyncRenderer=g.prototype.createPseudoHideStyles=g.prototype.disableAnimations=g.prototype.createStyles=function(t,e){if(!window.hidePseudoElementsAdded){window.hidePseudoElementsAdded=!0;var n=t.createElement("style");n.innerHTML=e,t.body.appendChild(n)}},g.prototype.getPseudoElements=g.prototype.getPseudoElement=function(t,e){var n=t.computedStyle(e);if(!n||!n.content||"none"===n.content||"-moz-alt-content"===n.content||"none"===n.display)return null;for(var r=function(t){var e=t.substr(0,1);return e===t.substr(t.length-1)&&e.match(/'|"/)?t.substr(1,t.length-2):t}(n.content),i="url"===r.substr(0,3),o=document.createElement(i?"img":"html2canvaspseudoelement"),a=new l(o,t,e),c=n.length-1;c>=0;c--){var u=n.item(c).replace(/(\-[a-z])/g,;o.style[u]=n[u]}if(o.className=l.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+l.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,i)return o.src=m(r)[0].args[0],[a];var h=document.createTextNode(r);return o.appendChild(h),[a,new s(h,a)]},g.prototype.getChildren=g.prototype.newStackingContext=g.prototype.createStackingContexts=function(){this.nodes.forEach(function(t){F(t)&&(this.isRootElement(t)||t)||function(t){var e=t.css("position");return"auto"!==(-1!==["absolute","relative","fixed"].indexOf(e)?t.css("zIndex"):"auto")}(t)||this.isBodyWithTransparentRoot(t)||t.hasTransform())?this.newStackingContext(t,!0):F(t)&&(D(t)&&I(t)||function(t){return-1!==["inline-block","inline-table"].indexOf(t.css("display"))}(t)||P(t))?this.newStackingContext(t,!1):t.assignStack(t.parent.stack)},this)},g.prototype.isBodyWithTransparentRoot=g.prototype.isRootElement=function(t){return null===t.parent},g.prototype.sortStackingContexts=g.prototype.parseTextBounds=function(t){return function(e,n,r){if("none"!==t.parent.css("textDecoration").substr(0,4)||0!==e.trim().length){if(this.support.rangeBounds&&!t.parent.hasTransform()){var i=r.slice(0,n).join("").length;return this.getRangeBounds(t.node,i,e.length)}if(t.node&&"string"===typeof t.node.data){var o=t.node.splitText(e.length),a=this.getWrapperBounds(t.node,t.parent.hasTransform());return t.node=o,a}}else this.support.rangeBounds&&!t.parent.hasTransform()||(t.node=t.node.splitText(e.length));return{}}},g.prototype.getWrapperBounds=g.prototype.getRangeBounds=g.prototype.parse=g.prototype.paint=g.prototype.paintNode=g.prototype.paintElement=g.prototype.paintCheckbox=g.prototype.paintRadio=g.prototype.paintFormValue=function(t){var n=t.getValue();if(n.length>0){var r=t.node.ownerDocument,o=r.createElement("html2canvaswrapper");["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"].forEach(;var a=t.parseBounds();o.style.position="fixed",o.style.left=a.left+"px",o.style.top=a.top+"px",o.textContent=n,r.body.appendChild(o),this.paintText(new s(o.firstChild,t)),r.body.removeChild(o)}},g.prototype.paintText=function(t){t.applyTextTransform();var e,n=o.ucs2.decode(t.node.data),r=this.options.letterRendering&&!function(t){return/^(normal|none|0px)$/.test(t.parent.css("letterSpacing"))}(t)||(e=t.node.data,/[^\u0000-\u00ff]/.test(e))?n.map(:function(t){var e,n=[],r=0,i=!1;for(;t.length;)a=t[r],-1!==[32,13,10,9,45].indexOf(a)===i?((e=t.splice(0,r)).length&&n.push(o.ucs2.encode(e)),i=!i,r=0):r++,r>=t.length&&(e=t.splice(0,r)).length&&n.push(o.ucs2.encode(e));var a;return n}(n),i=t.parent.fontWeight(),a=t.parent.css("fontSize"),s=t.parent.css("fontFamily"),l=t.parent.parseTextShadows();this.renderer.font(t.parent.color("color"),t.parent.css("fontStyle"),t.parent.css("fontVariant"),i,a,s),l.length?this.renderer.fontShadow(l[0].color,l[0].offsetX,l[0].offsetY,l[0].blur):this.renderer.clearShadow(),this.renderer.clip(t.parent.clip,this)},g.prototype.renderTextDecoration=var x={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]}; I(t){return 0===t.cssInt("zIndex")}tion D(t){return"static"!==t.css("position")}nction F(t){return t.node.nodeType===Node.ELEMENT_NODE}ction z(t){return t.width}prototype.parseBorders=function(t){var e=t.parseBounds(),n=function(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(}(t),r=["Top","Right","Bottom","Left"].map(,i=E(e,n,r);return{clip:this.parseBackgroundClip(t,i,r,n,e),borders:w(r,e,i,n)}},g.prototype.parseBackgroundClip=t.exports=g},function(t,e,n){var r;(function(t,i){!)}).call(e,n(23)(t),function(){return this}())},function(t,e,n){"use strict";var r=n(8),i=n(12),o=i.getBounds,a=i.parseBackgrounds,s=i.offsetBounds;nction u(t){return t.replace("px","")}.prototype.cloneTo=l.prototype.getOpacity=l.prototype.assignStack=l.prototype.isElementVisible=l.prototype.css=l.prototype.prefixedCss=l.prototype.computedStyle=l.prototype.cssInt=l.prototype.color=l.prototype.cssFloat=l.prototype.fontWeight=l.prototype.parseClip=l.prototype.parseBackgroundImages=l.prototype.cssList=l.prototype.parseBackgroundSize=l.prototype.parseBackgroundPosition=l.prototype.parseBackgroundRepeat=l.prototype.parseTextShadows=l.prototype.parseTransform=l.prototype.parseTransformMatrix=l.prototype.parseBounds=l.prototype.hasTransform=l.prototype.getValue=function(){var t=this.node.value||"";return"SELECT"===this.node.tagName?t=function(t){var e=t.options[t.selectedIndex||0];return e&&e.text||""}(this.node):"password"===this.node.type&&(t=Array(t.length+1).join("\u2022")),0===t.length?this.node.placeholder||"":t},l.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,l.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,l.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,l.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,t.exports=l},function(t,e,n){"use strict";var r=n(24);prototype=Object.create(r.prototype),i.prototype.applyTextTransform=i.prototype.transform=t.exports=i},function(t,e,n){"use strict";var r=n(24);.prototype.cloneTo=i.prototype=Object.create(r.prototype),i.prototype.appendToDOM=i.prototype.cleanDOM=i.prototype.getHideClass=i.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",i.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",t.exports=i},function(t,e,n){"use strict";var r=n(28);.prototype.getMetrics=t.exports=i},function(t,e,n){"use strict";var r=n(12).smallImage;t.exports=function(t,e){var n,i,o=document.createElement("div"),a=document.createElement("img"),s=document.createElement("span");o.style.visibility="hidden",o.style.fontFamily=t,o.style.fontSize=e,o.style.margin=0,o.style.padding=0,document.body.appendChild(o),a.src=r(),a.width=1,a.height=1,a.style.margin=0,a.style.padding=0,a.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=e,s.style.margin=0,s.style.padding=0,s.appendChild(document.createTextNode("Hidden Text")),o.appendChild(s),o.appendChild(a),n=a.offsetTop-s.offsetTop+1,o.removeChild(s),o.appendChild(document.createTextNode("Hidden Text")),o.style.lineHeight="normal",a.style.verticalAlign="super",i=a.offsetTop-o.offsetTop+1,document.body.removeChild(o),this.baseline=n,this.lineWidth=1,this.middle=i}},function(t,e,n){"use strict";var r=n(24);.prototype=Object.create(r.prototype),i.prototype.getParentStack=t.exports=i}])},260:function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return m});var r=n(0),i=n.n(r);function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var s="touchmove",l="touchend",c="mousemove",u="mouseup",h={touch:!0,mouse:!0,passive:{passive:!0},onAction:void 0,onDown:void 0,onUp:void 0,onMove:void 0},d={event:void 0,args:void 0,temp:void 0,target:void 0,time:void 0,xy:[0,0],delta:[0,0],initial:[0,0],previous:[0,0],direction:[0,0],local:[0,0],lastLocal:[0,0],velocity:0,distance:0,down:!1,first:!0,shiftKey:!1};function p(t,e,n){void 0===e&&(e={});var r=function(n,r){t(function(t){var i=o({},t,{down:!1,first:!1}),a=e.onAction&&e.onAction(i);return e.onUp&&e.onUp(i),o({},i,{event:n,shiftKey:r,lastLocal:t.local,temp:a||i.temp})})},i=function(n){var r=n.touches?n.touches[0]:n,i=r.pageX,a=r.pageY,s=r.shiftKey;t(function(t){var r=Date.now(),l=i-t.xy[0],c=a-t.xy[1],u=i-t.initial[0],h=a-t.initial[1],d=Math.sqrt(u*u+h*h),p=Math.sqrt(l*l+c*c),f=1/(p||1),m=o({},t,{event:n,time:r,shiftKey:s,xy:[i,a],delta:[u,h],local:[t.lastLocal[0]+i-t.initial[0],t.lastLocal[1]+a-t.initial[1]],velocity:p/(r-t.time),distance:d,direction:[l*f,c*f],previous:t.xy,first:!1}),v=e.onAction&&e.onAction(m);return e.onMove&&e.onMove(m),o({},m,{temp:v||m.temp})})},a=function(a){e.mouse&&(window.addEventListener(c,i,e.passive),window.addEventListener(u,p,e.passive)),e.touch&&(window.addEventListener(s,i,e.passive),window.addEventListener(l,p,e.passive)),function(i){var a=i.touches?i.touches[0]:i,s=a.target,l=a.pageX,c=a.pageY,u=a.shiftKey;t(function(t){var a=t.lastLocal||d.lastLocal,p=o({},d,{event:i,target:s,args:n,lastLocal:a,shiftKey:u,local:a,xy:[l,c],initial:[l,c],previous:[l,c],down:!0,time:Date.now(),cancel:function(){h(),requestAnimationFrame(function(){return r(i)})}}),f=e.onAction&&e.onAction(p);return e.onDown&&e.onDown(p),o({},p,{temp:f})})}(a)},h=function(){e.mouse&&(window.removeEventListener(c,i,e.passive),window.removeEventListener(u,p,e.passive)),e.touch&&(window.removeEventListener(s,i,e.passive),window.removeEventListener(l,p,e.passive))},p=function(t){var e=t.shiftKey;h(),r(t,e)},f={},m=e.passive.capture?"Capture":"";return e.mouse&&(f["onMouseDown"+m]=a),e.touch&&(f["onTouchStart"+m]=a),f}var f=function(t){var e,n;function r(e){var n;(n=t.call(this,e)||this).state=d;var r=n.setState.bind(a(a(n)));return e.onAction&&(n._state=d,r=function(t){return n._state=t(n._state)}),n.handlers=p(r,e),n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.render=function(){var t=this.props,e=t.style,n=t.children,r=t.className;return i.a.createElement("div",o({},this.handlers,{style:o({display:"contents"},e),className:r}),n(this.state))},r}(i.a.Component);f.defaultProps=h;function m(t){var e=i.a.useState(d),n=e[0],r=e[1],a=i.a.useRef(d);"function"===typeof t&&(t={onAction:t}),t=o({},h,t);var s=i.a.useState(function(){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return p(t.onAction?r,t,n)}})[0];return t.onAction?s:[s,n]}},263:function(t,e,n){"use strict";var r=n(2),i=n.n(r),o=n(3),a=n(22),s=n(6),l=n(7),c=n(25),u=function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e||localStorage.getItem("aid"),r=Object(l.a)(),t.next=4,fetch("".concat(s.a.accountsAPI,"/api/admin/v2/accounts/").concat(n,"/users"),{method:"GET",headers:r});case 4:return o=t.sent,t.next=7,Object(c.a)(o);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(o.a)(i.a.mark(function t(e,n){var r,o,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n||localStorage.getItem("aid"),o=Object(l.a)(),t.next=4,fetch("".concat(s.a.accountsAPI,"/api/admin/v2/accounts/").concat(r,"/users"),{method:"POST",headers:o,body:JSON.stringify(e)});case 4:return a=t.sent,t.next=7,Object(c.a)(a);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),d=function(){var t=Object(o.a)(i.a.mark(function t(e,n,r){var o,a,u;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=r||localStorage.getItem("aid"),a=Object(l.a)(),t.next=4,fetch("".concat(s.a.accountsAPI,"/api/admin/v2/accounts/").concat(o,"/users/").concat(e),{method:"PUT",headers:a,body:JSON.stringify(n)});case 4:return u=t.sent,t.next=7,Object(c.a)(u);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t)}));return (),p=function(){var t=Object(o.a)(i.a.mark(function t(e,n){var r,o,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n||localStorage.getItem("aid"),o=Object(l.a)(),t.next=4,fetch("".concat(s.a.accountsAPI,"/api/admin/v2/accounts/").concat(r,"/users/").concat(e),{method:"DELETE",headers:o});case 4:return a=t.sent,t.next=7,Object(c.a)(a);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),f=function(){var t=Object(o.a)(i.a.mark(function t(e){var n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e||localStorage.getItem("aid"),r=Object(l.a)(),t.next=4,fetch("".concat(s.a.accountsAPI,"/api/admin/v2/accounts/").concat(n,"/roles"),{method:"GET",headers:r});case 4:return o=t.sent,t.next=7,Object(c.a)(o);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();n.d(e,"d",function(){return v}),n.d(e,"c",function(){return g}),n.d(e,"a",function(){return y}),n.d(e,"h",function(){return b}),n.d(e,"b",function(){return x}),n.d(e,"f",function(){return w}),n.d(e,"e",function(){return S}),n.d(e,"g",function(){return C});var m="Something went wrong! Please try again",v=function(){return function(){var t=Object(o.a)(i.a.mark(function t(e,n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e(M()),t.prev=1,t.next=4,u();case 4:t.sent.forEach(function(t){e(A(t))}),e(C()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(I(t.t0.errorMessage||m));case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e,n){return t.apply(this,arguments)}}()},g=function(){return function(){var t=Object(o.a)(i.a.mark(function t(e,n){var r,o,a,s,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e(M()),t.prev=1,t.next=4,f();case 4:r=t.sent,o=r.roles,a=void 0===o?[]:o,s=r.assignments,l=void 0===s?[]:s,a.forEach(function(t){e(E(t))}),l.forEach(function(t){e(_(t))}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),e(I(t.t0.errorMessage||m));case 16:case"end":return t.stop()}},t,null,[[1,13]])}));return function(e,n){return t.apply(this,arguments)}}()},y=function(t,e){return function(){var n=Object(o.a)(i.a.mark(function n(r,o){var a;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(M()),n.next=4,h(t);case 4:r(C()),"function"===typeof e&&e(),r(v()),r(g()),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),a=n.t0.errorMessage||m,r(I(a,n.t0.status));case 14:case"end":return n.stop()}},n,null,[[0,10]])}));return function(t,e){return n.apply(this,arguments)}}()},b=function(t,e,n){return function(){var r=Object(o.a)(i.a.mark(function r(o,a){var s;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o(M()),r.next=4,d(t,e);case 4:o(C()),"function"===typeof n&&n(),o(v()),o(g()),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(0),s=r.t0.errorMessage||m,o(I(s,r.t0.status));case 14:case"end":return r.stop()}},r,null,[[0,10]])}));return function(t,e){return r.apply(this,arguments)}}()},x=function(t,e){return function(){var n=Object(o.a)(i.a.mark(function n(r,o){var a;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(M()),n.next=4,p(t);case 4:r(T(t)),r(C()),"function"===typeof e&&e(),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),a=n.t0.errorMessage||m,r(I(a,n.t0.status));case 13:case"end":return n.stop()}},n,null,[[0,9]])}));return function(t,e){return n.apply(this,arguments)}}()},w=function(t,e){return function(){var n=Object(o.a)(i.a.mark(function n(r){var o;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(M()),n.next=4,Object(a.j)(t);case 4:r(C()),"function"===typeof e&&e(),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),o=n.t0.errorMessage||m,r(I(o,n.t0.status));case 12:case"end":return n.stop()}},n,null,[[0,8]])}));return function(t){return n.apply(this,arguments)}}()},A=function(t){return{type:"SAVE_ACCOUNT_USER",user:t}},E=function(t){return{type:"SAVE_ACCOUNT_ROLE",role:t}},_=function(t){return{type:"SAVE_ACCOUNT_ASSIGNMENT",assignment:t}},T=function(t){return{type:"DELETE_ACCOUNT_USER",id:t}},S=function(){return{type:"RESET_ACCOUNT_USERS"}},M=function(){return{type:"ACCOUNT_USERS_STATUS",status:"saving",errorMessage:"",errorCode:""}},C=I=,268:function(t,e,n){"use strict";var r=n(269);t.exports=r,"undefined"!==typeof window&&(window.Suggestions=r)},269:function(t,e,n){"use strict";var r=n(207),i=n(270),o=n(271),a=function(t,e,n){return n=n||{},this.options=r({minLength:2,limit:5,filter:!0,hideOnBlur:!0},n),this.el=t,this.data=e||[],this.list=new o(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",bind(this),!1),this.el.addEventListener("keydown",function(t){this.handleKeyDown(t)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(t){this.handlePaste(t)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};a.prototype.handleKeyUp=function(t){40!==t&&38!==t&&27!==t&&13!==t&&9!==t&&this.handleInputChange(this.el.value)},a.prototype.handleKeyDown=function(t){switch(t.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&t.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},a.prototype.handleBlur=a.prototype.handlePaste=function(t){if(t.clipboardData)this.handleInputChange(t.clipboardData.getData("Text"));else{var e=this;setTimeout(100)}},a.prototype.handleInputChange=function(t){this.query=this.normalize(t),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates(function(t){for(var e=0;e<t.length&&(this.list.add(t[e]),e!==this.options.limit-1);e++);this.list.draw()}.bind(this))},a.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},a.prototype.update=function(t){this.data=t,this.handleKeyUp()},a.prototype.clear=a.prototype.normalize=a.prototype.match=a.prototype.value=function(t){if(this.selected=t,this.el.value=this.getItemValue(t),document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this.el.dispatchEvent(e)}else this.el.fireEvent("onchange")},a.prototype.getCandidates=function(t){var e={pre:"<strong>",post:"</strong>",extract:function(t){return this.getItemValue(t)}.bind(this)};t(this.options.filter?i.filter(this.query,this.data,e).map(function(t){return{original:t.original,string:this.render(t.original,t.string)}}.bind(this)):this.data.map(bind(this)))},a.prototype.getItemValue=function(t){return t},a.prototype.render=function(t,e){if(e)return e;for(var n=t.original?this.getItemValue(t.original):this.getItemValue(t),r=this.normalize(n),i=r.lastIndexOf(this.query);i>-1;){var o=i+this.query.length;n=n.slice(0,i)+"<strong>"+n.slice(i,o)+"</strong>"+n.slice(o),i=r.slice(0,i).lastIndexOf(this.query)}return n},a.prototype.renderError=function(t){this.list.drawError(t)},t.exports=a},270:function(t,e,n){!function(){var e={};t.exports=e,e.simpleFilter=e.test=e.match=e.filter=function(t,n,r){return n&&0!==n.length?"string"!==typeof t?n:(r=r||{},n.reduce([]).sort(function(t,e){var n=e.score-t.score;return n||t.index-e.index})):[]}}()},271:function(t,e,n){"use strict";var r=function(t){return this.component=t,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,t.el.parentNode.insertBefore(this.wrapper,t.el.nextSibling),this};r.prototype.show=function(){this.element.style.display="block"},r.prototype.hide=r.prototype.add=function(t){this.items.push(t)},r.prototype.clear=r.prototype.isEmpty=r.prototype.isVisible=r.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var t=0;t<this.items.length;t++)this.drawItem(this.items[t],this.active===t);this.show()}else this.hide()},r.prototype.drawItem=function(t,e){var n=document.createElement("li"),r=document.createElement("a");e&&(n.className+=" active"),r.innerHTML=t.string,n.appendChild(r),this.element.appendChild(n),n.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),n.addEventListener("mouseup",bind(this))},r.prototype.handleMouseUp=function(t){this.selectingListItem=!1,this.component.value(t.original),this.clear(),this.draw()},r.prototype.move=function(t){this.active=t,this.draw()},r.prototype.previous=r.prototype.next=r.prototype.drawError=function(t){var e=document.createElement("li");e.innerHTML=t,this.element.appendChild(e),this.show()},t.exports=r},272:273:function(t,e){t.exports={"country.3148":{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},"country.3145":{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},"country.330":{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},"country.3179":{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}},274:function(t,e,n){"use strict";var r=n(208),i=n(275)("MapboxGeocoding");.prototype.geocodeForward=function(t,e,n){if(void 0===n&&"function"===typeof e&&(n=e,e={}),Array.isArray(t)){if("mapbox.places-permanent"!==e.dataset)throw new Error("Batch geocoding is only available with the mapbox.places-permanent endpoint. See https://mapbox.com/api-documentation/#batch-requests for details");t=t.join(";")}r("string"===typeof t,"query must be a string"),r("object"===typeof e,"options must be an object");var i={query:t,dataset:"mapbox.places"},a=3;return e.precision&&(r("number"===typeof e.precision,"precision option must be number"),a=e.precision),e.proximity&&(r("number"===typeof e.proximity.latitude&&"number"===typeof e.proximity.longitude,"proximity must be an object with numeric latitude & longitude properties"),i.proximity=o(e.proximity.longitude,a)+","+o(e.proximity.latitude,a)),e.bbox&&(r("number"===typeof e.bbox[0]&&"number"===typeof e.bbox[1]&&"number"===typeof e.bbox[2]&&"number"===typeof e.bbox[3]&&4===e.bbox.length,"bbox must be an array with numeric values in the form [minX, minY, maxX, maxY]"),i.bbox=e.bbox[0]+","+e.bbox[1]+","+e.bbox[2]+","+e.bbox[3]),e.limit&&(r("number"===typeof e.limit,"limit must be a number"),i.limit=e.limit),e.dataset&&(r("string"===typeof e.dataset,"dataset option must be string"),i.dataset=e.dataset),e.country&&(r("string"===typeof e.country,"country option must be string"),i.country=e.country),e.language&&(r("string"===typeof e.language,"language option must be string"),i.language=e.language),e.types&&(r("string"===typeof e.types,"types option must be string"),i.types=e.types),"boolean"===typeof e.autocomplete&&(r("boolean"===typeof e.autocomplete,"autocomplete must be a boolean"),i.autocomplete=e.autocomplete),this.client({path:"/geocoding/v5/{dataset}/{query}.json{?access_token,proximity,country,types,bbox,limit,autocomplete,language}",params:i,callback:n})},i.prototype.geocodeReverse=function(t,e,n){void 0===n&&"function"===typeof e&&(n=e,e={}),r("object"===typeof t,"location must be an object"),r("object"===typeof e,"options must be an object"),r("number"===typeof t.latitude&&"number"===typeof t.longitude,"location must be an object with numeric latitude & longitude properties");var i={dataset:"mapbox.places"};e.dataset&&(r("string"===typeof e.dataset,"dataset option must be string"),i.dataset=e.dataset);var a=5;return e.precision&&(r("number"===typeof e.precision,"precision option must be number"),a=e.precision),e.language&&(r("string"===typeof e.language,"language option must be string"),i.language=e.language),e.types&&(r("string"===typeof e.types,"types option must be string"),i.types=e.types),e.limit&&(r("number"===typeof e.limit,"limit option must be a number"),r(1===e.types.split(",").length,"a single type must be specified to use the limit option"),i.limit=e.limit),i.longitude=o(t.longitude,a),i.latitude=o(t.latitude,a),this.client({path:"/geocoding/v5/{dataset}/{longitude},{latitude}.json{?access_token,types,limit,language}",params:i,callback:n})},t.exports=i},275:function(t,e,n){"use strict";var r=n(208),i=n(276),o=n(277),a=n(298);t.exports=function(t){return function(e,n){this.name=t,r("string"===typeof e,"accessToken required to instantiate Mapbox client");var s=i.DEFAULT_ENDPOINT;void 0!==n&&(r("object"===typeof n,"options must be an object"),n.endpoint&&(r("string"===typeof n.endpoint,"endpoint must be a string"),s=n.endpoint),n.account&&(r("string"===typeof n.account,"account must be a string"),this.owner=n.account)),this.client=o({endpoint:s,accessToken:e}),this.accessToken=e,this.endpoint=s,this.owner=this.owner||a(e),r(!!this.owner,"could not determine account from provided accessToken")}}},276:277:function(t,e,n){"use strict";n(192);var r=n(279);t.exports=function(t){return r.wrap(n(281)).wrap(n(211),{prefix:t.endpoint}).wrap(n(283),{mime:"application/json"}).wrap(n(214)).wrap(n(293),{params:{access_token:t.accessToken}}).wrap(n(294),{access_token:t.accessToken}).wrap(n(296)).wrap(n(297))}},278:function(t,n,r){(function(n,r){var i;i=function(){"use strict";ar i=Array.isArray?Array.isArray:o=0,a=void 0,s=void 0,l=c="undefined"!==typeof window?window:void 0,u=c||{},h=u.MutationObserver||u.WebKitMutationObserver,d="undefined"===typeof self&&"undefined"!==typeof n&&"[object process]"==={}.toString.call(n),p="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;ar m=new Array(1e3);ar g=void 0;d?function(){return n.nextTick(v)}:h?):p?):void 0===c?):f();var x=Math.random().toString(36).substring(2);function w(){}var A=void 0,E=1,_=2;ar P=),B=);return B.prototype.then=y,B.all=B.race=B.resolve=b,B.reject=B._setScheduler=function(t){s=t},B._setAsap=function(t){l=t},B._asap=l,B.polyfill=B.Promise=B,B},t.exports=i()}).call(this,r(85),r(21))},279:function(t,e,n){"use strict";var r=n(209),i=n(280);r.setPlatformDefaultClient(i),t.exports=r},280:function(t,n,r){"use strict";var i,o,a,s;function l(t,n){return Object.keys(n||{}).forEach(function(r){if(n.hasOwnProperty(r)&&r in t)try{t[r]=n[r]}catch(e){}}),t}i=r(210),o=r(194),a=r(193),s=/[\r|\n]+/,t.exports=a(function(t){return o.promise(function(n,r){var o,a,c,u,h,d,p,f;if(p={request:t="string"===typeof t?{path:t}:t||{}},t.canceled)return p.error="precanceled",void r(p);if(f=t.engine||XMLHttpRequest){h=t.entity,t.method=t.method||(h?"POST":"GET"),a=t.method,c=p.url=t.path||"";try{for(d in l(o=p.raw=new f,t.mixin),o.open(a,c,!0),l(o,t.mixin),u=t.headers)"Content-Type"===d&&"multipart/form-data"===u[d]||o.setRequestHeader(d,u[d]);t.canceled=!1,t.cancel=o.onreadystatechange=function(){t.canceled||o.readyState===(f.DONE||4)&&(p.status={code:o.status,text:o.statusText},p.headers=function(t){var e={};return t?(t.trim().split(s).forEach(function(t){var n,r,o;n=t.indexOf(":"),r=i(t.substring(0,n).trim()),o=t.substring(n+1).trim(),e[r]?Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]:e[r]=o}),e):e}(o.getAllResponseHeaders()),p.entity=o.responseText,1223===p.status.code&&(p.status.code=204),p.status.code>0?n(p):setTimeout(0))};try{o.onerror=catch(e){}o.send(h)}catch(e){p.error="loaderror",r(p)}}else r({request:t,error:"xhr-not-available"})})})},281:function(t,e,n){"use strict";var r;r=n(160),t.exports=r({init:response:function(t,e){return t.status&&t.status.code>=e.code?Promise.reject(t):t}})},282:function(t,e,n){"use strict";var r,i,o,a,s,l;unction u(t,e){if(!(this instanceof u))return new u(t,e);t instanceof u?(this._template=t.template,this._params=r({},this._params,e)):(this._template=(t||"").toString(),this._params=e||{})}r=n(176),i=n(212),a=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?(\/[^?#]*)?(\?[^#]*)?(#\S*)?/i,s=/^([a-z][a-z0-9\-\+\.]*:\/\/|\/)/i,l=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?\//i,u.prototype={append:function(t,e){return new u(this._template+t,r({},this._params,e))},fullyQualify:function(){if("undefined"===typeof location)return this;if(this.isFullyQualified())return this;var t=this._template;return c(t,"//")?t=o.protocol+t:c(t,"/")?t=o.origin+t:this.isAbsolute()||(t=o.origin+o.pathname.substring(0,o.pathname.lastIndexOf("/")+1)),-1===t.indexOf("/",8)&&(t+="/"),new u(t,this._params)},isAbsolute:function(){return s.test(this.build())},isFullyQualified:isCrossOrigin:function(){if(!o)return!0;var t=this.parts();return t.protocol!==o.protocol||t.hostname!==o.hostname||t.port!==o.port},parts:function(){var t,e;return e={href:(t=this.fullyQualify().build().match(a))[0],protocol:t[1],host:t[3]||"",hostname:t[4]||"",port:t[6],pathname:t[7]||"",search:t[8]||"",hash:t[9]||""},e.origin=e.protocol+"//"+e.host,e.port=e.port||("https:"===e.protocol?"443":"http:"===e.protocol?"80":""),e},build:function(t){return function(t,e){var n,r,o,a,s;if(n=t,o={},e){for(r in e)(s=new RegExp("\\{"+r+"\\}")).test(n)?n=n.replace(s,encodeURIComponent(e[r]),"g"):o[r]=e[r];(a=i.write(o))&&(n+=-1===n.indexOf("?")?"?":"&",n+=a)}return n}(this._template,r({},this._params,t))},toString:,o="undefined"!==typeof location?new u(location.href).parts():void 0,t.exports=u},283:function(t,e,n){"use strict";var r,i,o,a,s,l;r=n(160),i=n(213),o=n(284),l=n(215),a={read:function(t){return t},write:function(t){return t}},s={read:function(){throw"No read method found on converter"},write:function(){throw"No write method found on converter"}},t.exports=r({init:function(t){return t.registry=t.registry||o,t},request:function(t,e){var n,r;return r=t.headers||(t.headers={}),n=i.parse(r["Content-Type"]||e.mime||"text/plain"),r.Accept=r.Accept||e.accept||n.raw+", application/json;q=0.8, text/plain;q=0.5, */*;q=0.2","entity"in t?(r["Content-Type"]=n.raw,e.registry.lookup(n).catch(function(){if(e.permissive)return a;throw"mime-unknown"}).then(function(r){var i=e.client||t.originator,o=r.write||s.write;return l(o.bind(void 0,t.entity,{client:i,request:t,mime:n,registry:e.registry})).catch(.then(function(e){return t.entity=e,t})})):t},response:function(t,e){if(!(t.headers&&t.headers["Content-Type"]&&t.entity))return t;var n=i.parse(t.headers["Content-Type"]);return e.registry.lookup(n).catch(function(){return a}).then(function(r){var i=e.client||t.request&&t.request.originator,o=r.read||s.read;return l(o.bind(void 0,t.entity,{client:i,response:t,mime:n,registry:e.registry})).catch(function(e){throw t.error="mime-deserialization",t.cause=e,t}).then(})}})},284:function(t,e,n){"use strict";var r,i;r=n(213),(i=new function t(e){this.lookup=function(t){var n;return n="string"===typeof t?r.parse(t):t,e[n.raw]?e[n.raw]:e[n.type+n.suffix]?e[n.type+n.suffix]:e[n.type]?e[n.type]:e[n.suffix]?e[n.suffix]:Promise.reject(new Error('Unable to locate converter for mime "'+n.raw+'"'))},this.delegate=function(t){return{read:function(){var e=arguments;return this.lookup(t).then(function(t){return t.read.apply(this,e)}.bind(this))}.bind(this),write:function(){var e=arguments;return this.lookup(t).then(bind(this))}.bind(this)}},this.register=function(t,n){return e[t]=Promise.resolve(n),e[t]},this.child=({})).register("application/hal",n(285)),i.register("application/json",n(290)),i.register("application/x-www-form-urlencoded",n(212)),i.register("multipart/form-data",n(291)),i.register("text/plain",n(292)),i.register("+json",i.delegate("application/json")),t.exports=i},285:function(t,e,n){"use strict";var r,i,o,a,s;=n(211),i=n(214),o=n(288),a=n(289),s=n(194),t.exports={read:function(t,e){var n,c;function u(t,e){(e&&c&&c.warn||c.log)&&(c.warn||c.log).call(c,"Relationship '"+t+"' is deprecated, see "+e)}return n=(e=e||{}).client,c=e.console||c,e.registry.lookup(e.mime.suffix).then(function(n){return n.read(t,e)}).then(function(t){return o.findProperties(t,"_embedded",function(t,e,n){Object.keys(t).forEach(function(n){if(!(n in e)){var r=s({entity:t[n]});l(e,n,r)}}),l(e,n,t)}),o.findProperties(t,"_links",function(t,e,o){Object.keys(t).forEach(function(r){var o=t[r];r in e||l(e,r,s.make(a(function(){return o.deprecation&&u(r,o.deprecation),!0===o.templated?i(n)({path:o.href}):n({path:o.href})})))}),l(e,o,t),l(e,"clientFor",function(e,o){var a=t[e];if(!a)throw new Error("Unknown relationship: "+e);return a.deprecation&&u(e,a.deprecation),!0===a.templated?i(o||n,{template:a.href}):r(o||n,{prefix:a.href})}),l(e,"requestFor",}),t})},write:function(t,e){return e.registry.lookup(e.mime.suffix).then(function(n){return n.write(t,e)})}}},286:function(t,e,n){"use strict";var r,i,o;function a(t,e){var n;if((n=i[t.slice(0,1)])?t=t.slice(1):n=i[""],n.reserved)throw new Error("Reserved expression operations are not supported");return function(t,e,n){return e.split(",").reduce(function(e,i){var a,s;if(a={},"*"===i.slice(-1)&&(i=i.slice(0,-1),a.explode=!0),o.test(i)){var l=o.exec(i);i=l[1],a.maxLength=parseInt(l[2])}return i=r.decode(i),void 0===(s=n[i])||null===s?e:(Array.isArray(s)?e=s.reduce(function(e,n){return e.length?(e+=a.explode?t.separator:",",t.named&&a.explode&&(e+=t.encoder(i),e+=n.length?"=":t.empty)):(e+=t.first,t.named&&(e+=t.encoder(i),e+=n.length?"=":t.empty)),e+=t.encoder(n)},e):"object"===typeof s?e=Object.keys(s).reduce(function(e,n){return e.length?e+=a.explode?t.separator:",":(e+=t.first,t.named&&!a.explode&&(e+=t.encoder(i),e+=s[n].length?"=":t.empty)),e+=t.encoder(n),e+=a.explode?"=":",",e+=t.encoder(s[n])},e):(s=String(s),a.maxLength&&(s=s.slice(0,a.maxLength)),e+=e.length?t.separator:t.first,t.named&&(e+=t.encoder(i),e+=s.length?"=":t.empty),e+=t.encoder(s)),e)},"")}(n,t,e)}r=n(287),o=/^([^:]*):([0-9]+)$/,i={"":{first:"",separator:",",named:!1,empty:"",encoder:r.encode},"+":{first:"",separator:",",named:!1,empty:"",encoder:r.encodeURL},"#":{first:"#",separator:",",named:!1,empty:"",encoder:r.encodeURL},".":{first:".",separator:".",named:!1,empty:"",encoder:r.encode},"/":{first:"/",separator:"/",named:!1,empty:"",encoder:r.encode},";":{first:";",separator:";",named:!0,empty:"",encoder:r.encode},"?":{first:"?",separator:"&",named:!0,empty:"=",encoder:r.encode},"&":{first:"&",separator:"&",named:!0,empty:"=",encoder:r.encode},"=":{reserved:!0},",":{reserved:!0},"!":{reserved:!0},"@":{reserved:!0},"|":{reserved:!0}},t.exports={expand:function(t,e){var n,r,i;for(i="",r=0;;){if(-1===(n=t.indexOf("{",r))){i+=t.slice(r);break}i+=t.slice(r,n),r=t.indexOf("}",n)+1,i+=a(t.slice(n+1,r-1),e)}return i}}},287:function(t,e,n){"use strict";var r;function i(t){return t=t||r.unreserved,function(e){return function(t,e){if("string"!==typeof t)throw new Error("String required for URL encoding");return t.split("").map(function(t){if(e.hasOwnProperty(t))return t;var n=t.charCodeAt(0);if(n<=127){var r=n.toString(16).toUpperCase();return"%"+(r.length%2===1?"0":"")+r}return encodeURIComponent(t).toUpperCase()}).join("")}(e,t)}}r=function(){var t={alpha:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",digit:"0123456789",genDelims:":/?#[]@",subDelims:"!$&'()*+,;="};return t.reserved=t.genDelims+t.subDelims,t.unreserved=t.alpha+t.digit+"-._~",t.url=t.reserved+t.unreserved,t.scheme=t.alpha+t.digit+"+-.",t.userinfo=t.unreserved+t.subDelims+":",t.host=t.unreserved+t.subDelims,t.port=t.digit,t.pchar=t.unreserved+t.subDelims+":@",t.segment=t.pchar,t.path=t.segment+"/",t.query=t.pchar+"/?",t.fragment=t.pchar+"/?",Object.keys(t).reduce(function(e,n){return e[n]=t[n].split("").reduce({}),e},{})}(),t.exports={decode:function(t){return decodeURIComponent(t)},encode:i(),encodeURL:i(r.url),encodeScheme:i(r.scheme),encodeUserInfo:i(r.userinfo),encodeHost:i(r.host),encodePort:i(r.port),encodePathSegment:i(r.segment),encodePath:i(r.path),encodeQuery:i(r.query),encodeFragment:i(r.fragment)}},288:function(t,e,n){"use strict";t.exports={findProperties:function t(e,n,r){"object"===typeof e&&null!==e&&(n in e&&r(e[n],e,n),Object.keys(e).forEach()}}},289:function(t,e,n){"use strict";var r=n(215);t.exports=function(t){var e,n,i,o;return e=!1,i=new Promise(,o=i.then,i.then=function(){return e||(e=!0,r(t).then(n.resolve,n.reject)),o.apply(i,arguments)},i}},290:function(t,e,n){"use strict";t.exports=function t(e,n){return{read:function(t){return JSON.parse(t,e)},write:extend:t}}()},291:function(t,e,n){"use strict";t.exports={write:function(t){if("undefined"===typeof FormData)throw new Error("The multipart/form-data mime serializer requires FormData support");if(t instanceof FormData)return t;if(function(t){return t&&1===t.nodeType&&"FORM"===t.tagName}(t))return new FormData(t);if("object"===typeof t&&null!==t)return function(t){var e,n=new FormData;for(var r in t)t.hasOwnProperty(r)&&((e=t[r])instanceof File?n.append(r,e,e.name):e instanceof Blob?n.append(r,e):n.append(r,String(e)));return n}(t);throw new Error("Unable to create FormData from object "+t)}}},292:function(t,e,n){"use strict";t.exports={read:function(t){return t},write:function(t){return t.toString()}}},293:function(t,e,n){"use strict";var r,i,o;r=n(160),i=n(176),o=function(){function t(t,e,n){(t in e||t in n)&&(e[t]=i({},n[t],e[t]))}function e(t,e,n){t in n&&!(t in e)&&(e[t]=n[t])}var n={method:e,path:e,params:t,headers:t,entity:e,mixin:t};return function(t,e){for(var r in n)n[r](r,t,e);return t}}(),t.exports=r({request:)},294:function(t,e,n){"use strict";n(192);var r=n(160),i=n(295),o=n(403),a=n(344),s=r({success:function(t,e){var n=t&&t.headers&&t.headers.Link,r=t&&t.request&&t.request.originator;if(n){var s=i.parse(n).filter([0];s&&(t.nextPage=function(t){var n=o.parse(s.href),i=a.parse(n.query);return i.access_token=i.access_token||e.access_token,n.search=a.stringify(i),r({path:o.format(n),callback:t})})}return t}});t.exports=s},295:function(t,e){t.exports=function(){ar e={parse:function(e,n){var r={start:function(){var t,n,r,a,s,u,h,d,p;u=i,h=i,t=[],d=i,p=i,null!==(n=c())&&null!==(r=g())?(44===e.charCodeAt(i)?(a=",",i++):(a=null,0===o&&l('","')),null!==a&&null!==(s=g())?n=[n,r,a,s]:(n=null,i=p)):(n=null,i=p);null!==n&&(f=n[0],n=f);var f;null===n&&(i=d);for(;null!==n;)t.push(n),d=i,p=i,null!==(n=c())&&null!==(r=g())?(44===e.charCodeAt(i)?(a=",",i++):(a=null,0===o&&l('","')),null!==a&&null!==(s=g())?n=[n,r,a,s]:(n=null,i=p)):(n=null,i=p),null!==n&&(n=0,n[0])),null===n&&(i=d);null!==t&&null!==(n=c())?t=[t,n]:(t=null,i=h);null!==t&&(m=t[0],v=t[1],t=m.concat([v]));var m,v;null===t&&(i=u);return t},LinkValue:c,LinkParams:u,URIReference:h,LinkParam:d,LinkParamName:p,LinkParamValue:f,PToken:m,PTokenChar:v,OptionalSP:g,QuotedString:y,QuotedStringInternal:b,Char:x,UpAlpha:w,LoAlpha:A,Alpha:E,Digit:_,SP:T,DQ:S,QDText:M,QuotedPair:C};if(void 0!==n){if(void 0===r[n])throw new Error("Invalid rule name: "+t(n)+".")}else n="start";var i=0,o=0,a=0,s=[];unction c(){var t,n,r,a,s,c,d,p;if(d=i,p=i,60===e.charCodeAt(i)?(t="<",i++):(t=null,0===o&&l('"<"')),null!==t)if(null!==(n=h()))if(62===e.charCodeAt(i)?(r=">",i++):(r=null,0===o&&l('">"')),null!==r)if(null!==(a=g())){for(s=[],c=u();null!==c;)s.push(c),c=u();null!==s?t=[t,n,r,a,s]:(t=null,i=p)}else t=null,i=p;else t=null,i=p;else t=null,i=p;else t=null,i=p;return null!==t&&(t=function(t,e,n){var r={};return n.forEach(,r.href=e,r}(0,t[1],t[4])),null===t&&(i=d),t}function u(){var t,n,r,a,s,c;return s=i,c=i,59===e.charCodeAt(i)?(t=";",i++):(t=null,0===o&&l('";"')),null!==t&&null!==(n=g())&&null!==(r=d())&&null!==(a=g())?t=[t,n,r,a]:(t=null,i=c),null!==t&&(t=t[2]),null===t&&(i=s),t}function h(){var t,n,r;if(r=i,/^[^>]/.test(e.charAt(i))?(n=e.charAt(i),i++):(n=null,0===o&&l("[^>]")),null!==n)for(t=[];null!==n;)t.push(n),/^[^>]/.test(e.charAt(i))?(n=e.charAt(i),i++):(n=null,0===o&&l("[^>]"));else t=null;return null!==t&&(t=t.join("")),null===t&&(i=r),t}function d(){var t,e,n,r;return n=i,r=i,null!==(t=p())&&null!==(e=null!==(e=f())?e:"")?t=[t,e]:(t=null,i=r),null!==t&&(t=[t[0],t[1]]),null===t&&(i=n),t}function p(){var t,n,r;if(r=i,/^[a-z]/.test(e.charAt(i))?(n=e.charAt(i),i++):(n=null,0===o&&l("[a-z]")),null!==n)for(t=[];null!==n;)t.push(n),/^[a-z]/.test(e.charAt(i))?(n=e.charAt(i),i++):(n=null,0===o&&l("[a-z]"));else t=null;return null!==t&&(t=t.join("")),null===t&&(i=r),t}function f(){var t,n,r,a;return r=i,a=i,61===e.charCodeAt(i)?(t="=",i++):(t=null,0===o&&l('"="')),null!==t?(null===(n=m())&&(n=y()),null!==n?t=[t,n]:(t=null,i=a)):(t=null,i=a),null!==t&&(t=t[1]),null===t&&(i=r),t}function m(){var t,e,n;if(n=i,null!==(e=v()))for(t=[];null!==e;)t.push(e),e=v();else t=null;return null!==t&&(t=t.join("")),null===t&&(i=n),t}function v(){var t;return 33===e.charCodeAt(i)?(t="!",i++):(t=null,0===o&&l('"!"')),null===t&&(35===e.charCodeAt(i)?(t="#",i++):(t=null,0===o&&l('"#"')),null===t&&(36===e.charCodeAt(i)?(t="$",i++):(t=null,0===o&&l('"$"')),null===t&&(37===e.charCodeAt(i)?(t="%",i++):(t=null,0===o&&l('"%"')),null===t&&(38===e.charCodeAt(i)?(t="&",i++):(t=null,0===o&&l('"&"')),null===t&&(39===e.charCodeAt(i)?(t="'",i++):(t=null,0===o&&l('"\'"')),null===t&&(40===e.charCodeAt(i)?(t="(",i++):(t=null,0===o&&l('"("')),null===t&&(41===e.charCodeAt(i)?(t=")",i++):(t=null,0===o&&l('")"')),null===t&&(42===e.charCodeAt(i)?(t="*",i++):(t=null,0===o&&l('"*"')),null===t&&(43===e.charCodeAt(i)?(t="+",i++):(t=null,0===o&&l('"+"')),null===t&&(45===e.charCodeAt(i)?(t="-",i++):(t=null,0===o&&l('"-"')),null===t&&(46===e.charCodeAt(i)?(t=".",i++):(t=null,0===o&&l('"."')),null===t&&(124===e.charCodeAt(i)?(t="|",i++):(t=null,0===o&&l('"|"')),null===t&&null===(t=_())&&(58===e.charCodeAt(i)?(t=":",i++):(t=null,0===o&&l('":"')),null===t&&(60===e.charCodeAt(i)?(t="<",i++):(t=null,0===o&&l('"<"')),null===t&&(61===e.charCodeAt(i)?(t="=",i++):(t=null,0===o&&l('"="')),null===t&&(62===e.charCodeAt(i)?(t=">",i++):(t=null,0===o&&l('">"')),null===t&&(63===e.charCodeAt(i)?(t="?",i++):(t=null,0===o&&l('"?"')),null===t&&(64===e.charCodeAt(i)?(t="@",i++):(t=null,0===o&&l('"@"')),null===t&&null===(t=E())&&(91===e.charCodeAt(i)?(t="[",i++):(t=null,0===o&&l('"["')),null===t&&(93===e.charCodeAt(i)?(t="]",i++):(t=null,0===o&&l('"]"')),null===t&&(94===e.charCodeAt(i)?(t="^",i++):(t=null,0===o&&l('"^"')),null===t&&(95===e.charCodeAt(i)?(t="_",i++):(t=null,0===o&&l('"_"')),null===t&&(96===e.charCodeAt(i)?(t="`",i++):(t=null,0===o&&l('"`"')),null===t&&(123===e.charCodeAt(i)?(t="{",i++):(t=null,0===o&&l('"{"')),null===t&&(/^[\/\/]/.test(e.charAt(i))?(t=e.charAt(i),i++):(t=null,0===o&&l("[\\/\\/]")),null===t&&(125===e.charCodeAt(i)?(t="}",i++):(t=null,0===o&&l('"}"')),null===t&&(126===e.charCodeAt(i)?(t="~",i++):(t=null,0===o&&l('"~"'))))))))))))))))))))))))))))),t}function g(){var t,e;for(t=[],e=T();null!==e;)t.push(e),e=T();return t}function y(){var t,e,n,r,o;return r=i,o=i,null!==(t=S())&&null!==(e=b())&&null!==(n=S())?t=[t,e,n]:(t=null,i=o),null!==t&&(t=t[1]),null===t&&(i=r),t}function b(){var t,e,n;for(n=i,t=[],null===(e=M())&&(e=C());null!==e;)t.push(e),null===(e=M())&&(e=C());return null!==t&&(t=t.join("")),null===t&&(i=n),t}function x(){var t;return/^[\0-\x7f]/.test(e.charAt(i))?(t=e.charAt(i),i++):(t=null,0===o&&l("[\\0-\x7f]")),t}function w(){var t;return/^[A-Z]/.test(e.charAt(i))?(t=e.charAt(i),i++):(t=null,0===o&&l("[A-Z]")),t}function A(){var t;return/^[a-z]/.test(e.charAt(i))?(t=e.charAt(i),i++):(t=null,0===o&&l("[a-z]")),t}function E(){var t;return null===(t=w())&&(t=A()),t}function _(){var t;return/^[0-9]/.test(e.charAt(i))?(t=e.charAt(i),i++):(t=null,0===o&&l("[0-9]")),t}function T(){var t;return/^[ ]/.test(e.charAt(i))?(t=e.charAt(i),i++):(t=null,0===o&&l("[ ]")),t}function S(){var t;return/^["]/.test(e.charAt(i))?(t=e.charAt(i),i++):(t=null,0===o&&l('["]')),t}function M(){var t;return/^[^"]/.test(e.charAt(i))?(t=e.charAt(i),i++):(t=null,0===o&&l('[^"]')),t}function C(){var t,n,r;return r=i,/^[\\]/.test(e.charAt(i))?(t=e.charAt(i),i++):(t=null,0===o&&l("[\\\\]")),null!==t&&null!==(n=x())?t=[t,n]:(t=null,i=r),t}var I=r[n]();if(null===I||i!==e.length){var k=Math.max(i,a),R=k<e.length?e.charAt(k):null,L=function(){for(var t=1,n=1,r=!1,o=0;o<Math.max(i,a);o++){var s=e.charAt(o);"\n"===s?(r||t++,n=1,r=!1):"\r"===s||"\u2028"===s||"\u2029"===s?(t++,n=1,r=!0):(n++,r=!1)}return{line:t,column:n}}();throw new this.SyntaxError(function(t){t.sort();for(var e=null,n=[],r=0;r<t.length;r++)t[r]!==e&&(n.push(t[r]),e=t[r]);return n}(s),R,k,L.line,L.column)}return I},toSource:function(){return this._source},SyntaxError:function(e,n,r,i,o){this.name="SyntaxError",this.expected=e,this.found=n,this.message=function(e,n){var r;switch(e.length){case 0:r="end of input";break;case 1:r=e[0];break;default:r=e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}return"Expected "+r+" but "+(n?t(n):"end of input")+" found."}(e,n),this.offset=r,this.line=i,this.column=o}};return e.SyntaxError.prototype=Error.prototype,e}()},296:function(t,e,n){var r=n(160)({response:function(t){return{url:t.url,status:t.status&&t.status.code,headers:t.headers,entity:t.entity,error:t.error,callback:t.request&&t.request.callback,nextPage:t.nextPage}}});t.exports=r},297:function(t,e,n){"use strict";n(192);var r=n(160)({success:function(t){var e=t&&t.callback;return"function"===typeof e&&e(null,t.entity,t),t},error:function(t){var e=t&&t.callback;if("function"===typeof e){var n=t.error||t.entity;"object"!==typeof n&&(n=new Error(n)),e(n)}return t}});t.exports=r},298:function(t,e,n){"use strict";var r=n(299);t.exports=function(t){var e=t.split(".")[1];if(!e)return null;var n=(e=e.replace(/-/g,"+").replace(/_/g,"/")).length%4;if(2===n&&(e+="=="),3===n&&(e+="="),1===n||n>3)return null;try{return JSON.parse(r.decode(e)).u}catch(i){return null}}},299:function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.exports={encode:function(t){if(/([^\u0000-\u00ff])/.test(t))throw new Error("Can't base64 encode non-ASCII characters.");for(var e,n,i,o=0,a=[];o<t.length;){switch(e=t.charCodeAt(o),i=o%3){case 0:a.push(r.charAt(e>>2));break;case 1:a.push(r.charAt((3&n)<<4|e>>4));break;case 2:a.push(r.charAt((15&n)<<2|e>>6)),a.push(r.charAt(63&e))}n=e,o+=1}return 0===i?(a.push(r.charAt((3&n)<<4)),a.push("==")):1===i&&(a.push(r.charAt((15&n)<<2)),a.push("=")),a.join("")},decode:function(t){if(t=t.replace(/\s/g,""),!/^[a-z0-9\+\/\s]+\={0,2}$/i.test(t)||t.length%4>0)throw new Error("Not a base64-encoded string.");var e,n,i=0,o=[];for(t=t.replace(/\=/g,"");i<t.length;){switch(e=r.indexOf(t.charAt(i)),i%4){case 1:o.push(String.fromCharCode(n<<2|e>>4));break;case 2:o.push(String.fromCharCode((15&n)<<4|e>>2));break;case 3:o.push(String.fromCharCode((3&n)<<6|e))}n=e,i+=1}return o.join("")}}},301:function(t,e,n){},302:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?"rgba(".concat(parseInt(e[1],16),",\n              ").concat(parseInt(e[2],16),",\n              ").concat(parseInt(e[3],16),", \n              ",.6,")"):null},i=function(t,e){var n=parseInt(t.slice(1),16),r=Math.round(2.55*e),i=(n>>16)+r,o=(n>>8&255)+r,a=(255&n)+r;return"#"+(16777216+65536*(i<255?i<1?0:i:255)+256*(o<255?o<1?0:o:255)+(a<255?a<1?0:a:255)).toString(16).slice(1)}},308:function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(232),a=n(161),s=n(175),l=n(202),c=n(164),u=n(155),h=n(157),d=function(t){var e=t.currentTour,n=t.tier,r=t.checkLogoURL,d=t.publicTour,p=e.styles,f=p.logoId,m=p.logoURL,v=p.primaryColor,g=f?r():"https://www.concept3d.com";return i.a.createElement("div",{className:"logo-wrapper"},f&&!m?i.a.createElement(a.default,{alt:"",height:50,logo:!0,mediaId:f,mediaType:u.h,thumbClass:"tour-logo thumbonly"}):"starter"!==n&&i.a.createElement(c.a,{handleClick:function(){return Object(h.a)("".concat(e.id,"-").concat(e.name),"Select Logo",g)},href:g,newTab:!0},i.a.createElement(a.default,{alt:"",height:100,key:"tour-logo-thumb",logo:!0,mediaId:f||"LogoHorizontal_reverse_hhagmb.svg",mediaType:u.h,thumbClass:"tour-logo c3d-link"})),"starter"===n&&d&&i.a.createElement(o.a.OutboundLink,{eventLabel:"Concept3D Gallery",target:"_blank",rel:"noopener noreferrer",to:"https://concept3d.com/interactive-virtual-experiences/features/tours/gallery",tabIndex:-1},i.a.createElement(s.a,{render:function(t){var e=t.onEnter,n=t.onLeave,r=t.hovering;return i.a.createElement(l.a,{onEnter:e,onLeave:n,hovering:r,color:v,backgroundColor:"#fff",className:"concept3d-gallery-btn","aria-label":"Concept3D gallery",role:"link"},i.a.createElement("i",{className:"material-icons"},"collections"),"\xa0Concept3d Gallery")}})))},p=n(150),f=n(151),m=n(153),v=n(152),g=n(24),y=n.n(g),b=n(302),x=function(t){Object(m.a)(n,t);var e=Object(v.a)(n);function n(){var t;return Object(p.a)(this,n),(t=e.call(this)).handleHover=function(){t.setState(function(t){return{hovering:!t.hovering}})},t.handleLinkStyles=function(){var e=t.state.hovering,n=t.props,r=n.normal,i=n.hover,o=n.show,a=window.innerWidth<1024;return o&&!a?{backgroundColor:Object(b.b)(i.background,10),color:i.text}:o&&a?{backgroundColor:"none",color:i.text}:{backgroundColor:e?i.background:r.background,color:e?i.text:r.text}},t.linkOnClickEvent=function(t){var e=t.tourId,n=t.tourName,r=t.title;return Object(h.a)("".concat(e,"-").concat(n),"Button Click",r),!0},t.state={hovering:!1},t}return Object(f.a)(n,[{key:"render",value:function(){var t=this,e=this.state.hovering,n=this.props,r=n.aid,o=n.tourId,a=n.tourName,s=n.title,l=n.url,c=n.newTab,u=n.className,h=n.index,d=n.hover,p=n.isMobile,f=0===h&&!p;return i.a.createElement("a",{className:u,href:l,target:c?"_blank":null,rel:c?"noopener noreferrer":null,style:this.handleLinkStyles(),onMouseEnter:this.handleHover,onMouseLeave:this.handleHover,onClick:,f&&i.a.createElement("i",{className:"material-icons","aria-hidden":"true",style:{color:e?d.background:d.text}},"arrow_drop_up"),s)}}]),n}(r.Component),w=n(35),A=n(4),E=n(12),_=(n(84),["hovering","onEnter","onLeave","children","handleClick","normal","hover","active","isMobile"]),T=function(t){var e=t.hovering,n=t.onEnter,r=t.onLeave,o=t.children,a=t.handleClick,s=t.normal,l=t.hover,c=t.active,u=t.isMobile,h=Object(E.a)(t,_),d={color:l.text,backgroundColor:l.background},p={color:s.text,backgroundColor:s.background};return i.a.createElement("button",Object.assign({style:u?c?d:p:e||c?d:p,onClick:a,onMouseEnter:n,onMouseLeave:r,"aria-expanded":c},h),o)},S=(n(470),function(t){Object(m.a)(n,t);var e=Object(v.a)(n);function n(){var t;return Object(p.a)(this,n),(t=e.call(this)).toggleExpand=function(){t.setState(function(t){return{expand:!t.expand}})},t.renderOptions=function(e){var n=t.props,r=n.dropdownOpts,o=n.newTab,a=n.normal,s=n.hover,l=n.isMobile,c=n.tourId,u=n.tourName,h=n.aid,d=Object(b.b)(s.background,10);return r.map(function(t,n){var r=t.id,p=t.name,f=t.url;return i.a.createElement("li",{className:"option",style:{backgroundColor:d},key:r},i.a.createElement(x,{tourId:c,tourName:u,index:n,className:"option-link",title:p,url:f,newTab:o,normal:a,hover:s,show:e&&l,isMobile:l,aid:h}))})},t.state={expand:!1},t}return Object(f.a)(n,[{key:"render",value:function(){var t,e=this,n=this.state.expand,r=this.props,o=r.title,a=r.className,l=r.hover,c=r.normal,u=r.isMobile,h=y()((t={},Object(A.a)(t,a,!0),Object(A.a)(t,"active",n),t));return i.a.createElement("div",{className:"dd-wrapper"},i.a.createElement(s.a,{render:function(t){var r=t.onEnter,a=t.onLeave,s=t.hovering;return i.a.createElement(T,{onEnter:r,onLeave:a,hovering:s,className:h,handleClick:e.toggleExpand,hover:l,normal:c,active:n,isMobile:u},i.a.createElement("div",{className:"dd-title"},o),i.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},n?"arrow_drop_up":"arrow_drop_down"))}}),n&&i.a.createElement("ul",{className:"dd-options"},this.renderOptions(n)))}}]),n}(r.Component)),M=n(471),C=n.n(M),I=(n(473),function(t){var e=t.normal,n=t.show,r=t.close,o=t.buttons;return i.a.createElement("div",{className:n?"drawer-wrapper open":"drawer-wrapper"},i.a.createElement(C.a,{onSwipedRight:r,className:"tour-btns-drawer",style:{backgroundColor:e.background,color:e.text}},i.a.createElement(w.a,{className:"tour-btns-drawer__close-btn","aria-label":"Close",onClick:r},i.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},"cancel_icon")),i.a.createElement("div",{className:"tour-btns-drawer__btns-wrapper"},o)))}),k=(n(474),function(t){Object(m.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(p.a)(this,n),(r=e.call(this,t)).returnButtonStyles=function(t){return[t?t.normal:null,t?t.hover:null]},r.togglePanel=function(){var t=r.state.showPanel,e=r.props,n=e.tourId,i=e.tourName;r.setState(function(t){return{showPanel:!t.showPanel}},function(){var e=t?"Open":"Close";Object(h.a)("".concat(n,"-").concat(i),"Mobile Button List",e)})},r.determineButtonStyles=function(t){return t?[t.normal?t.normal:null,t.hover?t.hover:null]:[null,null]},r.renderButtons=function(){var t=r.props,e=t.buttons,n=t.buttonStyles,o=t.isMobile,a=t.tourId,s=t.tourName,l=t.aid,c=r.determineButtonStyles(n),u=c[0],h=c[1];return e.map(function(t){return"standard"===t.type?i.a.createElement(x,Object.assign({tourId:a,tourName:s,key:t.id,className:"tour-btn",normal:u,hover:h,aid:l},t)):i.a.createElement(S,Object.assign({tourId:a,aid:l,tourName:s,key:t.id,className:"tour-btn dropdown",normal:u,hover:h,isMobile:o},t))})},r.state={showPanel:!1},r}return Object(f.a)(n,[{key:"render",value:function(){var t=this.props,e=t.buttonStyles,n=t.isMobile,r=t.buttons,o=this.state.showPanel,a=this.determineButtonStyles(e)[0],s=n&&r.length>1&&!o,l=Boolean(r.length),c=l&&i.a.createElement("div",{className:"render-pseudo-before"},"|"),u=y()({"tour-btns-wrapper":l,"single-mobile":n&&1===r.length,"desktop-single":!n&&1===r.length});return n?i.a.createElement(i.a.Fragment,null,s&&i.a.createElement(w.a,{className:"open-panel-btn",handleClick:this.togglePanel},i.a.createElement("i",{className:"material-icons"},"more_horiz")),r.length>1?i.a.createElement(I,{show:o,buttons:this.renderButtons(),close:this.togglePanel,normal:a}):i.a.createElement("div",{className:u},this.renderButtons())):i.a.createElement("div",{className:u},c,this.renderButtons())}}]),n}(r.PureComponent)),R=Object(r.memo)(function(t){var e=t.tourId,n=t.tourName,r=t.currentTour,o=t.currentTour,a=o.buttons,s=o.styles,l=t.tier,c=t.checkLogoURL,u=t.publicTour,h=t.aid;return i.a.createElement("section",{"aria-label":"Tour links.",role:"group",tabIndex:0,className:"logo-btns-container",id:"logo-btns-container"},i.a.createElement(d,{currentTour:r,tier:l,checkLogoURL:c,publicTour:u,aid:h}),i.a.createElement(k,Object.assign({tourId:e,aid:h,tourName:n,buttons:a,isMobile:window.innerWidth<1025},s)))});e.a=R},309:function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(161),a=n(11),s=n(162),l=n(36),c=n(35),u=(n(357),function(t){var e=t.audioRef,n=t.className,o=Object(r.useState)(1),s=Object(a.a)(o,2),l=s[0],c=s[1],u=Object(r.useState)(1),h=Object(a.a)(u,2),d=h[0],p=h[1],f=Object(r.useState)(!1),m=Object(a.a)(f,2),v=m[0],g=m[1],y=Object(r.useRef)(null),b=Object(r.useRef)(null),x=e.current;Object(r.useEffect)(function(){x?x.volume=l:console.warn("VolumeControl component: Volume control requires valid reference to an audio element.")},[l,x]);return Object(r.useEffect)(function(){if(y.current&&b.current){var t=l/1*100;y.current.style.left="".concat(t,"%"),b.current.style.width="".concat(t,"%")}},[l]),i.a.createElement("div",{className:"volume-control__button-input-wrapper ".concat(n)},i.a.createElement("button",{className:"text-btn btn__volume-state",type:"button","aria-label":"".concat(v?"unmute":"mute"),onClick:function(){d>0&&g(!v),c(v?d:0)}},!v||l>0?i.a.createElement("i",{className:"material-icons volume-btn","aria-hidden":"true"},"volume_up"):i.a.createElement("i",{className:"material-icons volume-btn","aria-hidden":"true"},"volume_off")),i.a.createElement("label",{htmlFor:"rangeslider__volume-control",className:"label__volume-control sr-only"},"Volume"),i.a.createElement("div",{className:"volume-control__wrapper"},i.a.createElement("input",{name:"Volume",className:"volume-controller",type:"range",id:"rangeslider__volume-control","aria-valuenow":100*l,value:l,min:"0",max:"1",step:".1",onChange:function(t){var e=t.target.valueAsNumber;v&&e>0&&g(!1),"0"===e&&g(!0),c(e),p(e)}}),i.a.createElement("div",{className:"custom-track","aria-hidden":"true"},i.a.createElement("span",{ref:b,className:"custom-fill"}),i.a.createElement("span",{ref:y,className:"custom-thumb"}))))});n(358);var h=function(t){var e=t.percentage,n=void 0===e?0:e,o=t.onChange,a=Object(r.useRef)(),s=Object(r.useRef)(),l=Object(r.useRef)();return Object(r.useEffect)(function(){s.current&&l.current&&(s.current.style.left="".concat(n,"%"),l.current.style.width="".concat(n,"%"))},[n]),i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:"range-slider-audio__input",className:"label__audio-control sr-only"},"Progress Bar"),i.a.createElement("div",{className:"slider-progress-bar__wrapper"},i.a.createElement("input",{name:"Progress bar",className:"audio_progress_bar",type:"range",id:"range-slider-audio__input",ref:a,value:n,min:"0",max:"100",onChange:o}),i.a.createElement("div",{className:"custom-track","aria-hidden":"true"},i.a.createElement("span",{ref:l,className:"custom-fill"}),i.a.createElement("span",{ref:s,className:"custom-thumb"}))))},d=(n(359),function(t){var e=t.className,n=t.src,o=t.id,d=Object(l.e)(function(t){return t.media}).isMainMediaPlaying,p=Object(l.d)(),f=Object(r.useState)(0),m=Object(a.a)(f,2),v=m[0],g=m[1],y=Object(r.useState)(0),b=Object(a.a)(y,2),x=b[0],w=b[1],A=Object(r.useState)(!1),E=Object(a.a)(A,2),_=E[0],T=E[1],S=Object(r.useRef)(null),M=S.current;return i.a.createElement("div",{className:"audio-player__wrapper ".concat(e)},i.a.createElement("div",{className:"audio-player-control"},i.a.createElement(c.a,{className:"audio-player__audio-ctrl_play",handleClick:function(){d&&p(Object(s.e)(!1)),_&&M.currentTime!==x?M.pause():M.play().catch(function(t){return console.error(t)}),T(!_)},"aria-label":_?"Pause":"Play"},i.a.createElement("i",{"aria-hidden":"true",className:"material-icons play-or-pause"},_?"pause":"play_arrow")),i.a.createElement("div",{className:"audio-slider__wrapper"},i.a.createElement(h,{onChange:function(t){var e=t.target.valueAsNumber;M.currentTime=x/100*e,g(e)},percentage:v})),i.a.createElement("audio",{id:"audio_element_".concat(o),className:"audio-player__audio",ref:S,onTimeUpdate:function(t){var e=t.currentTarget,n=e.currentTime,r=e.duration;if(n>=r)T(!1),g(0);else{var i=(n/r*100).toFixed(2);g(+i)}},onLoadedData:,i.a.createElement("source",{src:n}))),i.a.createElement(u,{className:"audio-player-volume",audioRef:S}))}),p=n(155),f=(n(360),function(t){var e=t.audio,n=void 0===e?{tracks:{}}:e,o=t.id,s=t.transcript,l=void 0===s?"":s,u=n.tracks,h=u.id,f=u.transcriptOnly,m="".concat(p.b).concat(h),v=Object(r.useState)(!0),g=Object(a.a)(v,2),y=g[0],b=g[1];return i.a.createElement(i.a.Fragment,null,h?i.a.createElement("div",{className:"audio-player-transcript__wrapper"},!f&&i.a.createElement("div",{className:"audio-transcript-button_wrapper"},i.a.createElement(d,{className:"audio-player",src:m,id:o}),l&&i.a.createElement(c.a,{className:"audio-player__transcript-btn",handleClick:"aria-label":"Toggle audio transcript"},i.a.createElement("i",{className:"material-icons","aria-hidden":"true"},"description"))),l&&y&&i.a.createElement("div",{className:"audio-player__transcript"},i.a.createElement("article",{className:"audio-hotspot-player__article",dangerouslySetInnerHTML:{__html:l}}))):i.a.createElement("p",{className:"audio-media-not-found"},"No media content found"))});e.a=function(t){var e,n=t.alt,r=t.autoPlay,a=t.className,s=t.height,l=t.id,c=t.media,u=t.mediaLibrary,h=t.mediaType,d=t.primaryColor,m=(t.src,t.transcript),v=(t.tourId,t.tourName,t.videoSrc),g=t.width;return l?h===p.n?i.a.createElement("div",{className:a,"data-cy":"main-media-content-video-".concat(l),dangerouslySetInnerHTML:{__html:r?(e=v,e.split(" ").map(function(t,e){return t.startsWith("src=")?"".concat(t.slice(0,-1),'&autoplay=1"'):t}).join(" ")):v}}):h===p.m?i.a.createElement("div",{className:"media-modal__text",dangerouslySetInnerHTML:{__html:c.content}}):h!==p.h||u?h!==p.a||u?i.a.createElement(o.default,{mediaId:l,mediaType:h,thumbClass:a,height:s,width:g,alt:n,tabIndex:0,view:!0,pad:!0}):i.a.createElement(f,{audio:c,id:c.id,primaryColor:d,transcript:m}):i.a.createElement("div",{className:"media-modal__image-wrapper"},i.a.createElement("img",{alt:n,className:"media-modal__image",src:c.img})):null}},310:function(t,e,n){"use strict";var r=n(11),i=n(0),o=n.n(i),a=n(24),s=n.n(a),l=n(175),c=n(202),u=function(t){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1334 866.5",className:"vr-btn",style:{fill:t.fill}},o.a.createElement("path",{d:"M0,740.2v-614c1.2-7.4,1.9-14.9,3.6-22.1C18.7,41,70.9,0,136.1,0H1197.9a156.615,156.615,0,0,1,19.4,1.1c53.1,6.5,97.8,45.1,111.5,96.7,2.5,9.3,3.5,18.9,5.2,28.4v614c-.4,2.9-.8,5.9-1.2,8.8-9,67.8-63.9,117.1-132,117.3q-163.5.45-326.9.1c-30.9,0-54.1-17-64-46.3q-18.45-54.75-37-109.6c-6.1-18.1-11.4-36.5-18.9-54.1-16.8-39.5-57.8-62-100.7-55.4-37.5,5.8-63.7,26.7-76.3,62.8-17.8,51.2-34.8,102.6-52.1,153.9-10.9,32.3-33.4,48.6-67.4,48.6H136.1a156.66,156.66,0,0,1-19.4-1.2A131.879,131.879,0,0,1,5,767.5C2.7,758.7,1.6,749.4,0,740.2ZM1033.6,600a166.465,166.465,0,0,0,166.6-166.8c-.1-92.1-74.1-166.6-166.3-166.6A166.3,166.3,0,0,0,867,436.6C868.7,525.6,940.5,599.4,1033.6,600Zm-733.8,0c91.3-.2,164.8-71.4,167-161.3,2.4-95.8-70.5-171.1-165.7-172-93.2-.9-166.5,74.4-167.4,164.9C132.8,524,206.2,598.7,299.8,600Z"}))},h=n(350),d=n(231),p=(n(468),function(t){var e=t.playing,n=t.hovering,r=t.backgroundColor,i=t.color,a=t.onEnter,l=t.onLeave,c=t.handleClick,u=(t.progress,t.children),h=t.tier,p=t.tooltip,f=t.tooltipClass,m=t.isMobile,v=t.minimize,g=n||e,y=s()({active:e,minimize:v}),b=s()({starter:"starter"===h}),x=s()(f,{minimize:v});return o.a.createElement("div",{className:"pano-ctrl-btn__play-btn-wrapper ".concat(y)},o.a.createElement("button",{className:"pano-ctrl-btn play-btn ".concat(y," ").concat(b),"data-cy":"pano-ctrl-btn__play-btn",onClick:c,onMouseEnter:a,onMouseLeave:l,"aria-label":e?"Pause 360\xb0 video":"Play 360\xb0 video","aria-pressed":e},o.a.createElement("div",{className:"overlay ".concat(y),style:{color:g?r:i,backgroundColor:g?i:r}},u),p&&o.a.createElement(d.a,Object.assign({style:{color:r,backgroundColor:i},show:!m&&n,tooltipClass:x},p))))}),f=(n(469),function(t){var e=t.progress,n=t.color,r=t.tier,i={width:"".concat(e,"%"),height:"100%",backgroundColor:n,transition:"width .1s ease"},a=s()({starter:"starter"===r});return o.a.createElement("div",{className:"progress-bar ".concat(a)},o.a.createElement("div",{className:"progress-bar-overlay",style:i}))}),m=function(t){var e=t.tier,n=t.tourPublished,a=t.primaryColor,d=t.closeShareModal,m=t.toggleVR,v=t.panoRotating,g=t.toggleAutoRotate,y=t.autoRotateDirection,b=t.toggleFullScreen,x=t.handlePlay,w=t.miniMapView,A=t.is360Pano,E=t.isVideo360,_=t.progress,T=t.duration,S=t.currentTime,M=t.playing,C=t.stops,I=t.stopIds,k=t.VRMode,R=t.viewOnly,L=t.buttonCount,O=t.showVRMode,D=t.staticImg,P=t.minimizePlayButton,B="map"!==w,F=Object(i.useState)(window.innerWidth<1025),N=Object(r.a)(F,2),U=N[0],j=N[1],z=Object(i.useEffect)([]);var G=s()({"pano-ctrls-wrapper":!0,starter:"starter"===e,"map-view":B,hide:k,"single-tour-btn":1===L,"no-tour-btn":L}),V=s()("material-icons",{active:M});return o.a.createElement("section",{style:{height:"100%"}},E&&o.a.createElement("div",{className:"play-btn-tooltip__wrapper"},o.a.createElement(l.a,{render:function(t){var n=t.onEnter,r=t.onLeave,i=t.hovering;return o.a.createElement(p,{onEnter:n,onLeave:r,hovering:i,handleClick:x,color:a,playing:M,progress:_,currentTime:S,duration:T,backgroundColor:"#fff",tier:e,tooltip:{text:"".concat(M?"Pause 360\xb0 video":"Play 360\xb0 video"),node:"pano-ctrl-btn.play-btn",position:"bottom"},tooltipClass:"".concat(M?"pause-360-video-tooltip":"play-360-video-tooltip"),isMobile:U,minimize:P},o.a.createElement("i",{"aria-hidden":"true",className:V},M?"pause":"play_arrow"))}}),o.a.createElement(f,{color:a,tier:e,playing:M,progress:_})),o.a.createElement("ul",{"aria-label":"Panoramic controls.",className:G},o.a.createElement(o.a.Fragment,null,R&&o.a.createElement(o.a.Fragment,null,n&&o.a.createElement("li",null,o.a.createElement(l.a,{render:function(t){var e=t.onEnter,n=t.onLeave,r=t.hovering;return o.a.createElement(c.a,{onEnter:e,onLeave:n,hovering:r,className:"pano-ctrl-btn share",color:a,backgroundColor:"#fff",handleClick:d,"aria-label":"Share this tour",isMobile:U,tooltip:{text:"share",node:".pano-ctrl-btn.share",position:"bottom"},tooltipClass:"share-tooltip  ".concat(D&&"static"),"data-cy":"pano-ctrl-btn-share"},o.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},"share"))}})),(A||E)&&o.a.createElement(o.a.Fragment,null,o.a.createElement("li",null,o.a.createElement(l.a,{render:function(t){var e=t.onEnter,n=t.onLeave,r=t.hovering;return o.a.createElement(c.a,{onEnter:e,onLeave:n,active:v,hovering:r,className:"pano-ctrl-btn rotate",color:a,backgroundColor:"#fff",handleClick:g,"aria-label":"clockwise"!==y?v?"Auto rotate to the left, enabled":"Auto rotate to the left, disabled":v?"Auto rotate to the right, enabled":"Auto rotate to the right, disabled",isMobile:U,tooltip:{text:"auto rotate",node:".pano-ctrl-btn.rotate",position:"bottom"},tooltipClass:"rotate-tooltip","data-cy":"pano-ctrl-btn-rotate"},o.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},"clockwise"!==y?"rotate_left":"rotate_right"))}})),O&&U&&o.a.createElement("li",null,o.a.createElement(l.a,{render:function(t){var e=t.onEnter,n=t.onLeave,r=t.hovering;return o.a.createElement(c.a,{onEnter:e,onLeave:n,hovering:r,className:"pano-ctrl-btn vr",color:a,backgroundColor:"#fff",handleClick:function(){return m(!0)},"aria-label":"Virtual reality mode",isMobile:U,tooltip:{text:"vr mode",node:".pano-ctrl-btn.vr",position:"bottom"},tooltipClass:"vr-tooltip","data-cy":"pano-ctrl-btn-vr"},o.a.createElement(u,{fill:r?"#fff":a}))}})))),!U&&!B&&o.a.createElement("li",null,o.a.createElement(l.a,{render:function(t){var e=t.onEnter,n=t.onLeave,r=t.hovering;return o.a.createElement(c.a,{onEnter:e,onLeave:n,hovering:r,className:"pano-ctrl-btn full-screen",color:a,backgroundColor:"#fff",handleClick:b,"aria-label":"Toggle image full screen.",isMobile:U,tooltip:{text:"full screen",node:".pano-ctrl-btn.full-screen",position:"bottom"},tooltipClass:"full-screen-tooltip","data-cy":"pano-ctrl-btn-full-screen"},o.a.createElement("i",{className:"material-icons"},"fullscreen"))}})),B&&!U&&o.a.createElement("li",null,o.a.createElement(l.a,{render:function(t){var e=t.onEnter,n=t.onLeave,r=t.hovering;return o.a.createElement(c.a,{onEnter:e,onLeave:n,hovering:r,className:"pano-ctrl-btn show-stops",color:a,backgroundColor:"#fff",handleClick:function(){return Object(h.a)(C,I,{top:150,right:75,bottom:250,left:75})},"aria-label":"Zoom map to fit all stop markers.",isMobile:U,tooltip:{text:"see all stops",node:".pano-ctrl-btn.show-stops",position:"bottom"}},o.a.createElement("i",{className:"material-icons"},"zoom_out_map"))}})))))};m.defaultProps={normal:{background:"#FFF",text:"#009b65"},hover:{background:"#009b65",text:"#FFF"}};e.a=m},313:314:315:316:317:318:319:320:321:322:323:324:325:326:327:328:329:330:function(t,e){AFRAME.registerComponent("disable-culling",{init:function(){this.el.sceneEl.object3D.traverse(}})},331:function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(480);e.a=function(t){var e=t.name,n=t.description;return i.a.createElement("div",{id:"html-wrapper"},i.a.createElement("div",{id:"htmlElement"},i.a.createElement("h3",null,e),i.a.createElement("p",{dangerouslySetInnerHTML:{__html:n}})))}},332:function(t,e){t.exports="data:image/png;base64,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"},333:function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(24),a=n.n(o),s=n(35);n(481);e.a=function(t){var e=t.mediaType,n=t.tourData,r=t.togglePanoControls,o="Use the arrow keys or the W A S D keys to pan the ".concat(e," "),l=a()({"tour-buttons":n.buttons.length>0});return i.a.createElement("section",{id:"pano-controls-popup",className:"pano-controls-popup__wrapper ".concat(l),"data-cy":"pano-controls-popup"},i.a.createElement("div",{className:"pano-controls-popup__close-btn-wrapper"},i.a.createElement(s.a,{title:"Close controls popup",onClick:function(){return r(!1)},className:"popup-close-btn","data-cy":"pano-controls-popup__close-btn"},i.a.createElement("i",{className:"material-icons","aria-hidden":"true"},"close"))),i.a.createElement("div",{className:"pano-controls-popup__announcement"},i.a.createElement("h3",{tabIndex:"0",className:"pano-controls-popup__heading-3"},"Explore the"," ",i.a.createElement("span",{className:"pano-controls-popup__media-type"},e)),i.a.createElement("p",{tabIndex:"0",className:"pano-ctonrols-popup__paragraph"},o+"and the + and "," \u2212 ","keys to zoom in and out.")),i.a.createElement("div",{className:"pano-controls-popup__arrow-keys"},i.a.createElement("div",{className:"pano-controls-popup__keyboard-up"}),i.a.createElement("div",{className:"pano-controls-popup__keyboard-right"}),i.a.createElement("div",{className:"pano-controls-popup__keyboard-down"}),i.a.createElement("div",{className:"pano-controls-popup__keyboard-left"})),i.a.createElement("div",{className:"pano-controls-popup__zoom-keys"},i.a.createElement("div",{"aria-hidden":"true",className:"pano-controls-popup__zoom-in"}),i.a.createElement("div",{className:"pano-controls-popup__zoom-out"})))}},334:function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(159);e.a=function(t){var e=t.darkMode,n=t.opacity,r=void 0===n?"0.2":n,o=t.size,a=void 0===o?1:o;return i.a.createElement("a-image",{src:"#hotspot__glow".concat(e?"":"-dark"),material:"transparent: true; depthWrite: false;",width:a,height:a,scale:"1.6 1.6 1.6",opacity:r,position:"0 0 -0.01"})}},335:function(t,e,n){"use strict";var r=n(150),i=n(151),o=n(153),a=n(152),s=n(0),l=n.n(s),c=n(309),u=n(35),h=(n(361),function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(){var t;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).state={activeIndex:0},t.validateMediaName=function(t){var e=t;return e&&e.match(/\.(gif|jpe?g|tiff|png)$/i)&&(e=""),e},t.showMainMedia=function(){var e=t.props,n=e.autoPlay,r=e.media,i=e.mediaLibrary,o=e.primaryColor,a=e.tourId,s=e.tourName,u=t.state.activeIndex;return r.map(function(e,r){return u===r&&l.a.createElement("div",{className:"main-media-content__wrapper",key:e.id},l.a.createElement(c.a,{autoPlay:n,height:550,width:800,id:e.id,alt:e.alt||"",mediaType:e.type,className:"main-media",videoSrc:e.src,tourId:a,tourName:s,primaryColor:o,media:e,mediaLibrary:i,transcript:e.transcript}),t.validateMediaName(e.name)&&l.a.createElement("h4",{className:"media-title"},e.name))})},t.changeMedia=function(e){var n=t.props.media;e<0&&(e=n.length-1),e===n.length&&(e=0),t.setState({activeIndex:e})},t}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(t,e){var n=this.props.getMediaIndex,r=this.state.activeIndex;e.activeIndex!==r&&n(r)}},{key:"render",value:function(){var t=this,e=this.state.activeIndex,n=this.props.media;return l.a.createElement(l.a.Fragment,null,this.showMainMedia(),n.length>1&&[l.a.createElement(u.a,{key:"prev-btn",name:"Previous",className:"carousel-btn left",handleClick:"data-cy":"carousel-prev-btn","aria-label":"previous ".concat(n[e].type.slice(0,-1))},l.a.createElement("i",{className:"material-icons"},"arrow_back")),l.a.createElement(u.a,{key:"next-btn",name:"Next",className:"carousel-btn right",handleClick:"data-cy":"carousel-next-btn","aria-label":"next ".concat(n[e].type.slice(0,-1))},l.a.createElement("i",{className:"material-icons"},"arrow_forward"))])}}]),n}(s.Component));e.a=h},336:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={xs:{name:"xs",size:.125},small:{name:"small",size:.25},medium:{name:"medium",size:.5},large:{name:"large",size:.75},xl:{name:"xl",size:1}}},340:function(t,e,n){"use strict";var r=n(150),i=n(151),o=n(153),a=n(152),s=n(0),l=n.n(s),c=n(173),u=n(161),h=n(155),d=function(t){var e=t.id,n=t.name,r=(t.description,t.panoId),i=t.switchView,o=t.changeStop,a=t.order,s=t.tourId,c=t.mainMediaType;return l.a.createElement("div",{id:e,key:e},l.a.createElement("h3",null,n),r&&l.a.createElement(u.default,{mediaId:r,mediaType:c||h.j,thumbClass:"popup-thumbnail",height:200,alt:"",handleClick:function(){"function"===typeof i&&"function"===typeof o&&(i({miniMapView:"map",id:s,name:n}),o({stopNum:a,stopName:n,origin:"popup pano"}))}}))},p=(n(349),function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t){var i;return Object(r.a)(this,n),(i=e.call(this,t)).showMarkerOnMap=function(t,e,n){var r=i.props,o=r.tourId,a=r.switchView,s=r.changeStop,u=t.lat,h=t.lng,p=t.order,f=t.callback,m=t.panoId,v=t.name,g=t.type,y=t.tourName;i.markerElement=g?c.a.createMarkerWithPopup({markerCoords:[h,u],className:e,order:p,draggable:n,stopName:v,changeStop:s},l.a.createElement(d,Object.assign({},t,{switchView:a,changeStop:s,order:p,tourId:o})),f):c.a.createMarker({markerCoords:[h,u],className:e,order:p,panoId:m,stopName:v,changeStop:s,draggable:n,tourName:y},f),i.setState({onMap:!0,order:p})},i.showRadarMarker=i.state={onMap:!1,balloonCreated:!1,highlighted:!1,balloonOpened:!1,draggable:!1,order:null},i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.data,r=e.draggable,i=e.className,o=e.highlight,a=e.onDragStart,s=e.onDragEnd;this.showMarkerOnMap(n,i,r),r&&this.setState({draggable:r},,o&&this.toggleActiveMarker()}},{key:"componentDidUpdate",value:function(t,e){var n=this.props,r=n.data,i=n.data,o=i.lat,a=i.lng,s=i.callback,l=i.order,u=i.panoId,h=n.className,d=n.highlight;t.data.lat===o&&t.data.lng===a||this.updateMarkerPosition(o,a),t.highlight!==d&&this.toggleActiveMarker(),s||c.a.updateMarkerNumber(this.markerElement,l),u!==t.data.panoId&&(this.markerElement.remove(),this.showMarkerOnMap(r,h,!1))}},{key:"componentWillUnmount",value:function(){this.hideMarkerOnMap()}},{key:"hideMarkerOnMap",value:,{key:"updateMarkerPosition",value:,{key:"makeDraggable",value:function(t,e){c.a.makeMarkerDraggable(this.markerElement,t,e),this.setState({draggable:!0})}},{key:"makeStationary",value:function(){c.a.disableMarkerDragging(this.markerElement),this.setState({draggable:!1})}},{key:"toggleActiveMarker",value:function(){this.markerElement._element.classList.contains("enlarge")?this.markerElement._element.classList.remove("enlarge"):this.markerElement._element.classList.add("enlarge")}},{key:"render",value:]),n}(s.PureComponent));e.a=p},341:function(t,e,n){"use strict";var r=n(150),i=n(151),o=n(153),a=n(152),s=n(0),l=n.n(s),c=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(){var t;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).handleClick=function(){var e=t.props,n=e.activeStop;(0,e.handleClick)({stopName:e.currentStop.name,stopNum:n})},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.id;document.getElementById("".concat(t)).addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){var t=this.props.id;document.getElementById("".concat(t)).removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var t=this.props,e=t.id,n=t.height,r=t.width,i=t.position,o=t.src;return l.a.createElement("a-image",{id:e,class:"clickable",height:n,width:r,position:i,src:o})}}]),n}(s.Component),u=n(254),h=n(475),d=n.n(h),p=n(476),f=n.n(p),m=n(477),v=n.n(m),g=n(478),y=n.n(g),b=n(479),x=n.n(b),w=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(){var t;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).state={exitCtrl:!0,navCtrl:!0,showTooltips:!0,showStopMedia:!1,audioPlaying:!1},t.setAudio=function(){t.audio=document.getElementById("audio"),t.audio&&(t.setState({audioPlaying:!t.audio.paused}),t.audio.addEventListener("play",t.setAudioPlaying),t.audio.addEventListener("ended",t.setAudioPlaying))},t.setAudioPlaying=function(e){var n=e.type,r=t.props.toggleMainMediaStatus,i="play"===n;i&&r(!0),t.setState({audioPlaying:i})},t.toggleExitCtrl=function(){t.setState(function(t){return{exitCtrl:!t.exitCtrl,showTooltips:!1}})},t.toggleNavCtrl=function(){t.setState(},t.handleVideoToggle=function(){"function"===typeof t.props.handleVideoPlay&&t.props.handleVideoPlay()},t.handleAudioToggle=function(){t.audio&&(t.audio.paused?t.audio.play():t.audio.pause(),t.setState(function(t){return{audioPlaying:!t.audioPlaying}}))},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.initialView;this.setAudio(),this.vrControls=document.getElementById("vr-controls"),t.rotation&&this.vrControls.setAttribute("rotation",{y:t.rotation.y})}},{key:"componentDidUpdate",value:function(t,e){var n=this.props,r=n.activeStop,i=n.isMainMediaPlaying;t.activeStop!==r&&(this.setAudio(),this.setState({exitCtrl:!0,navCtrl:!0,showTooltips:!1})),t.isMainMediaPlaying&&!i&&this.setState({audioPlaying:!1})}},{key:"componentWillUnmount",value:,{key:"render",value:function(){var t=this.props,e=t.changeStop,n=t.activeStop,r=t.currentStop,i=t.toggleVR,o=t.videoIsPlaying,a=t.video,s=this.state.audioPlaying;return l.a.createElement("a-entity",{id:"vr-controls"},l.a.createElement(u.a,{id:"vr-exit",height:"1",width:"2",position:"0 3 -6",handleClick:src:v.a}),l.a.createElement("a-text",{value:r.name,align:"center",color:"#fff",position:"0 -1.6 -3"}),l.a.createElement(c,{class:"clickable",id:"prev-btn",src:d.a,height:"0.5",width:"1.25",position:"-1.5 -4 -6",handleClick:e,activeStop:n-1,currentStop:r}),a&&l.a.createElement(u.a,{id:"video-play-btn",src:o?y.a:x.a,label:o?"Pause Video":"Play Video",height:"1",width:"1",position:"0 -1 -6",handleClick:this.handleVideoToggle}),this.audio&&l.a.createElement(u.a,{id:"audio-play-btn",src:s?y.a:x.a,height:"0.5",label:s?"Pause Audio":"Play Audio",width:"0.5",position:"0 -4 -6",handleClick:this.handleAudioToggle}),l.a.createElement(c,{class:"clickable",id:"next-btn",src:f.a,height:"0.5",width:"1.25",position:"1.5 -4 -6",handleClick:e,activeStop:n+1,currentStop:r}))}}]),n}(s.Component);e.a=w},349:function(t,e,n){},350:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(173),i=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:75,i=arguments.length>3?arguments[3]:void 0,o=function(t,e){return e.reduce(function(n,r){if(t[r])if(e.length>1){var i=t[r],o=i.lng,a=i.lat;n.push([o,a])}else{var s=t[r],l=s.lng,c=s.lat;n[0]=l,n[1]=c}return n},[])}(t,e);if(o.find(){var a=r.a.setNewMapBounds(o),s={padding:n};i&&(s.zoom=i),r.a.getMap().fitBounds(a,s)}else o&&r.a.getMap().panTo(o,{zoom:i||10})}},352:353:354:355:function(t,e){if("undefined"===typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("cubemap",{schema:{folder:{type:"string"},urls:{type:"array"},edgeLength:{type:"int",default:5e3},ext:{type:"string",default:"jpg"},transparent:{type:"boolean",default:!0},opacity:{type:"number",default:0}},skyBoxMaterial:null,update:function(t){var e=this,n=this.el,r=this.data,i=r.folder,o=["posx","negx","posy","negy","posz","negz"];r.urls&&(o=r.urls),o=o.map(;var a=new THREE.CubeTextureLoader;a.setPath(i),t!=={}&&r.folder===t.folder||a.load(o,function(t){var i=document.querySelector("#".concat(n.id));i&&i.emit("srcLoaded");var o=THREE.ShaderLib.cube,a=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:o.uniforms,depthTest:!1,side:THREE.BackSide,transparent:r.transparent});e.skyBoxMaterial=a.clone(),e.skyBoxMaterial.uniforms.opacity.value=e.data.opacity,e.skyBoxMaterial.uniforms.envMap.value=t,t.minFilter=THREE.LinearFilter;var s=r.edgeLength,l=new THREE.BoxGeometry(s,s,s);Object.defineProperty(e.skyBoxMaterial,"envMap",{get:function(){return this.uniforms.envMap.value}}),Object.defineProperty(e.skyBoxMaterial,"opacity",{get:),n.setObject3D("cubemap",new THREE.Mesh(l,e.skyBoxMaterial))}),this.skyBoxMaterial&&(this.skyBoxMaterial.uniforms.opacity.value=this.data.opacity)},remove:function(){this.el.removeObject3D("cubemap")}})},356:function(t,e){if("undefined"===typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");var n={childList:!0,attributes:!0,subtree:!0};AFRAME.registerComponent("aabb-collider",{schema:{collideNonVisible:{default:!1},debug:{default:!1},enabled:{default:!0},interval:{default:80},objects:{default:""}},init:function(){this.centerDifferenceVec3=new THREE.Vector3,this.clearedIntersectedEls=[],this.closestIntersectedEl=null,this.boundingBox=new THREE.Box3,this.boxCenter=new THREE.Vector3,this.boxHelper=new THREE.BoxHelper,this.boxMax=new THREE.Vector3,this.boxMin=new THREE.Vector3,this.hitClosestClearEventDetail={},this.hitClosestEventDetail={},this.intersectedEls=[],this.objectEls=[],this.newIntersectedEls=[],this.prevCheckTime=void 0,this.previousIntersectedEls=[],this.setDirty=this.setDirty.bind(this),this.observer=new MutationObserver(this.setDirty),this.dirty=!0,this.hitStartEventDetail={intersectedEls:this.newIntersectedEls}},play:function(){this.observer.observe(this.el.sceneEl,n),this.el.sceneEl.addEventListener("object3dset",this.setDirty),this.el.sceneEl.addEventListener("object3dremove",this.setDirty)},remove:function(){this.observer.disconnect(),this.el.sceneEl.removeEventListener("object3dset",this.setDirty),this.el.sceneEl.removeEventListener("object3dremove",this.setDirty)},tick:function(t){var e,n,r,i=this.boundingBox,o=this.centerDifferenceVec3,a=this.clearedIntersectedEls,s=this.el,l=this.intersectedEls,c=this.newIntersectedEls,u=this.objectEls,h=this.prevCheckTime,d=this.previousIntersectedEls;if(this.data.enabled&&!(h&&t-h<this.data.interval)){for(this.prevCheckTime=t,this.dirty&&this.refreshObjects(),i.setFromObject(s.object3D),this.boxMin.copy(i.min),this.boxMax.copy(i.max),i.getCenter(this.boxCenter),this.data.debug&&(this.boxHelper.setFromObject(s.object3D),this.boxHelper.parent||s.sceneEl.object3D.add(this.boxHelper)),function(t,e){t.length=0;for(var n=0;n<e.length;n++)t[n]=e[n]}(d,l),l.length=0,r=0;r<u.length;r++)if(u[r]!==this.el)if(this.data.collideNonVisible||u[r].getAttribute("visible"))this.isIntersecting(u[r])&&l.push(u[r]);else if(this.data.debug){var p=u[r].object3D.boxHelper;p&&(s.sceneEl.object3D.remove(p),u[r].object3D.boxHelper=null)}for(c.length=0,r=0;r<l.length;r++)-1===d.indexOf(l[r])&&c.push(l[r]);for(a.length=0,r=0;r<d.length;r++)-1===l.indexOf(d[r])&&(d[r].hasAttribute("aabb-collider")||d[r].emit("hitend"),a.push(d[r]));for(r=0;r<c.length;r++)c[r]!==this.el&&(c[r].hasAttribute("aabb-collider")||c[r].emit("hitstart"));for(r=0;r<l.length;r++)l[r]!==this.el&&(o.copy(l[r].object3D.boundingBoxCenter).sub(this.boxCenter),(void 0===e||o.length()<e)&&(e=o.length(),n=l[r]));!l.length&&this.closestIntersectedEl?(this.hitClosestClearEventDetail.el=this.closestIntersectedEl,this.closestIntersectedEl.emit("hitclosestclear"),this.closestIntersectedEl=null,s.emit("hitclosestclear",this.hitClosestClearEventDetail)):n!==this.closestIntersectedEl&&(this.closestIntersectedEl&&(this.hitClosestClearEventDetail.el=this.closestIntersectedEl,this.closestIntersectedEl.emit("hitclosestclear",this.hitClosestClearEventDetail)),n&&(n.emit("hitclosest"),this.closestIntersectedEl=n,this.hitClosestEventDetail.el=n,s.emit("hitclosest",this.hitClosestEventDetail))),a.length&&s.emit("hitend"),c.length&&s.emit("hitstart",this.hitStartEventDetail)}},isIntersecting:function(){var t=new THREE.Box3;return function(e){var n;e.dataset.aabbColliderDynamic&&(t.setFromObject(e.object3D),n=t,e.object3D.boundingBoxCenter=e.object3D.boundingBoxCenter||new THREE.Vector3,n.getCenter(e.object3D.boundingBoxCenter)),e.dataset.aabbColliderDynamic||(e.object3D.aabbBox||(e.object3D.aabbBox=(new THREE.Box3).setFromObject(e.object3D),e.object3D.boundingBoxCenter=new THREE.Vector3,e.object3D.aabbBox.getCenter(e.object3D.boundingBoxCenter)),n=e.object3D.aabbBox),this.data.debug&&(e.object3D.boxHelper||(e.object3D.boxHelper=new THREE.BoxHelper(e.object3D,new THREE.Color(Math.random(),Math.random(),Math.random())),e.sceneEl.object3D.add(e.object3D.boxHelper)),e.object3D.boxHelper.setFromObject(e.object3D));var r=n.min,i=n.max;return this.boxMin.x<=i.x&&this.boxMax.x>=r.x&&this.boxMin.y<=i.y&&this.boxMax.y>=r.y&&this.boxMin.z<=i.z&&this.boxMax.z>=r.z}}(),setDirty:function(){this.dirty=!0},refreshObjects:function(){var t=this.data;this.objectEls=t.objects?this.el.sceneEl.querySelectorAll(t.objects):this.el.sceneEl.children,this.dirty=!1}})},357:function(t,e,n){},358:function(t,e,n){},359:function(t,e,n){},360:function(t,e,n){},361:function(t,e,n){},362:function(t,e,n){},363:function(t,e,n){},364:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAicAAAIpCAMAAABOhGifAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkRERjk3NjYxOEEyNjExRUFBOTNFQTlDMTFENTE4Qzc4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkRERjk3NjYyOEEyNjExRUFBOTNFQTlDMTFENTE4Qzc4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RERGOTc2NUY4QTI2MTFFQUE5M0VBOUMxMUQ1MThDNzgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RERGOTc2NjA4QTI2MTFFQUE5M0VBOUMxMUQ1MThDNzgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz61W/ENAAAAMFBMVEWvr6+cnJz7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"},365:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAicAAAIpCAMAAABOhGifAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdBQTkyMDY1OEEyNjExRUFBMzE2QTlFRjQ4RDVGMTU1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdBQTkyMDY2OEEyNjExRUFBMzE2QTlFRjQ4RDVGMTU1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N0FBOTIwNjM4QTI2MTFFQUEzMTZBOUVGNDhENUYxNTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6N0FBOTIwNjQ4QTI2MTFFQUEzMTZBOUVGNDhENUYxNTUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5sbzQSAAAAMFBMVEVHR0fi4uJk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"},366:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAikAAAIpCAMAAABQTVgsAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIwMjAgV2luZG93cyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxMUQyNDlCRDhBMjkxMUVBQjk0MTk5NDNBRjJCNDBBNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxMUQyNDlCRThBMjkxMUVBQjk0MTk5NDNBRjJCNDBBNiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjExRDI0OUJCOEEyOTExRUFCOTQxOTk0M0FGMkI0MEE2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjExRDI0OUJDOEEyOTExRUFCOTQxOTk0M0FGMkI0MEE2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+AfgvYgAAADBQTFRF1tbWExMTKSkp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"},367:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAiYAAAIpCAMAAAChRgOhAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMzMzU0NjREOEEyOTExRUE4MDBFOTAwNDZDRjJGQkUyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMzMzU0NjRFOEEyOTExRUE4MDBFOTAwNDZDRjJGQkUyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzMzNTQ2NEI4QTI5MTFFQTgwMEU5MDA0NkNGMkZCRTIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzMzNTQ2NEM4QTI5MTFFQTgwMEU5MDA0NkNGMkZCRTIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4aRHehAAAAMFBMVEVmZmb4+Pi1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"},368:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAicAAAIpCAMAAABOhGifAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM4RjMwMzhEOEEyODExRUFBRjZGOEY4QTU5MTg2N0VDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM4RjMwMzhFOEEyODExRUFBRjZGOEY4QTU5MTg2N0VDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzhGMzAzOEI4QTI4MTFFQUFGNkY4RjhBNTkxODY3RUMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzhGMzAzOEM4QTI4MTFFQUFGNkY4RjhBNTkxODY3RUMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6iHH3KAAAAMFBMVEWnp6f09PTd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"},369:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAiYAAAIpCAMAAAChRgOhAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjAxNzJEQTdCOEEyOTExRUFBODA3QTkxMEVGMUFDMzc2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjAxNzJEQTdDOEEyOTExRUFBODA3QTkxMEVGMUFDMzc2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDE3MkRBNzk4QTI5MTFFQUE4MDdBOTEwRUYxQUMzNzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDE3MkRBN0E4QTI5MTFFQUE4MDdBOTEwRUYxQUMzNzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6PAMfTAAAAMFBMVEXIyMj6+vrX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"},370:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAikAAAInCAMAAABqRzlcAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkY4MjU3NzQzOEEyODExRUE5NjBDOEZFOEM4Qzk3RDg3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkY4MjU3NzQ0OEEyODExRUE5NjBDOEZFOEM4Qzk3RDg3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjgyNTc3NDE4QTI4MTFFQTk2MEM4RkU4QzhDOTdEODciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjgyNTc3NDI4QTI4MTFFQTk2MEM4RkU4QzhDOTdEODciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz40AExzAAAAMFBMVEUQEBC+vr7t7e3k5ORRUVHa2trz8/NNTU38/Pyjo6Pp6ek8PDxUVFQAAAD///////9zDRhyAAAAEHRSTlP///////////////////8A4CNdGQAAC6RJREFUeNrs3Q1uG0kOgNGKpESJRi3e/7aTXWCBBSaT+Ke7mmS97wYinwGjRNgjpLc0jECkiBSRIlJEikiRSBEpIkWkiBSRUrrXxyIFEGRI2dnIml4GJLiQMgHJOlwGJLgsLeV1XqRQsrSWgQks60l5ZYsUTNbDMjCBZRkpr/yRgskyWAYmsHSX8qoYKZx0tzIwgaWrlFeHSMGkq5WBCS3dpLw6Rgon3awMTljpI+XVPVI46WNlcMJKBymvlSKFkw5WBies1JbyWjVSQKlNZXDCSlkpL5HCSVkqAxRWKkoBJK2VwQkr5aSQkZnK4ISVUlKQyG5lcMJKHSksFKAyOGGliBQKalAZnKBSQQoAZawMUFBJL8XqK1kZoKCSXIqt16IyOGElsxT7LkdlgIJKXil2XZDK4ISVpFJsuSaVAQoqKaXYcFUqgxNU8kmx3MJWBiesJJNiq7WpDFBQSSXFRqtTGaCgkkiKbdanMkBBJY0Um+xAZYCCShIpttiDygAFlRRSbLALlQEKKgmk2F4fKgMUVE6XYnOdqAxQUDlZiq31ojJAQeVMKRbWjsoAhZXzpFSf9HdU5kipPufLjwsqM6RUn/Ljvt0fpJDyRyi3bdtuqBwvpfiIr/+B8pPKFZWDpfSAgsrhUqpDeW7/64nKkVL6QEHlUCmdoNSnQsokKKgcJ6UZFFSOklL8HeWfUH5SeaCyv5SGUFA5QkqDl9lfVfy1lpSdu/wblJ9ULqjsKqUrFFR2ltIXCiq7SqkN5b79vjsqe0npDQWV3aR0h4LKTlL6Q6lOhZRpUFDZQ8oSUFAZS0N5vB3KVvwM+3wplad3vW3vqfTBJCnzoCxOZYCCygwplaE8t/f3XJfKslI+BKU2lTOlLAdlYSoDFFQOl1L4HeXjUEofTJIyE8qqVMaKUG7b57qtSGWsB+XyWSilr+BImQmlMpX5UpaGsiKVsRqU+7ZP99WoLCZlNyiFqcyVAspyVJaSsiuUulRmSgFlPSoDlPWokPL7l9n9oZS9rZ0lpeRwrrftiIpewZEyG0pVKnOkgLIklTWkXJ/bcZU8bZohBZQ1qQxQUCFlEpSaVI6WAsqqVNpLedy2GRU8mDxWCijLUmku5TILSsUruCOlgLIulQHKulRIOQdKcyqjMZT7Nrt7Yyp9pZwApR6VY6SAsjSVrlJOglKOyhFSQFmbymgJ5XEelGq3tWtLud62M6t1Bbe3FFC6UllYyulQelLpJ2XKPUqne5V9pYCyPJVuUpJAKUVlTymgoNJLSiIolajsJ6XMg1smKJX+bu1qUh63LVdlbmv3klLlu55sUAqdNi0lJSGUOlT2kQJKfyoLSUkKpRGVJlIu9y1rNe5VVpGSGEoRKntIAQWVLlKSQ6lB5fNSQFmDygJSHvmhlLitbS/lcdsqlP9h/7NSsn++aw0oFQ4me0spA6UAlc9JyQ7ludUp+71KZymloFSnUllKMSjpqXxGCiio1JdSEEp2Kj2lPCpCSX5b+3EpHtwWe4JrKOVSFUru06Z+UgpDSU3lo1JAQaW2lOJQMlPpJeVy36qX9l7lY1JAQaWylBZQ8lL5iBRQVqTSRkobKPWo1JLy6AMl621tDymP29aplA/775eS8ENce0FJejDZQEo7KDmp1JdyfW79Sniv8l4poKBSU0pTKBmp1JbSFkpCKqWlNIaSj8r7pCR7R+kMJd9tbV0pzaGko1JWyuO2dS/Xa+17pKT6UrA/lGRXcEWlLAGlApXsUi73bY0yHSFUlLIMlFRU3i4FlLWp1JOyFJTsVDJLWQxKIirFpCwHJQ+Vt0pJ8uC2HpQ0t7WlpDxu24rd0lLJKuW6JpQsB5N1pCwLJQmVMlKuz23dMtyrvE0KKKi8akhZHEoKKiWkLA8lA5UKUkDJQKWAlAco/6XyyC8FFFQKSHncGMnxWptcygWU/6NyIQWU/FRSSwElEZU/S3GP4l4luRRQclNJIwWUZFSySgElG5WkUkBJRyWnFFDyUUkp5QHKb6k8Mko55dtj7yh/eFe5kgJKGSrnS3GP8pZvlq+kfP2Lgzf019fVpXz/cb8d2HOaw3F/HvlB7j+Wl3K5fDuw71/GtB/6Iz/Ht8vF7ynHNk/KtdvoSGnziwQppBSQ8iKFFFJI+QwVUkghhRRSSCGFFFJIIYUUUkghhRRSSCGFFFJIIYUUUkghhRRSSCGFFFJIIYUUUkghhRRSSCGFFFJIIYUUUkghhRRSSCGFFFJIIYUUUkghhRRSSCGFFFJIIYUUUkghhRRSSCGFFFJIIYUUUkghhRRSSCGFFFJIIYUUUkghhRRSSCGFFFJIIWWqFP+xkpRfQyGFFFJIIYUUUkghhRRSSCGFFFJIIYUUUo6A8g8pQQoppJBCCimkkEIKKaSQsoKUIIWUX0AhhRRSSCGFFFJIKSQlSCGFFFI+CoUUUkghhRRSSCElK5RfSQlSSCGFFFJIIYWUrFKClMWlBCmkkEIKKaTklRKkLC0lSCGFFFJIISWzlCBlYSlBCimkkEIKKbmlBCnLSglSSCGFFFJISQLlX6UEKaSQQgoppMyXEqQsKSVIIYUUUs6VEqQsKCVIIYUUUs6WEqQsJyVIIYUUUs6XEqQsJiVIIeVYKUHKUlKCFFJIISWHlCBlISlBCimkkJJFSpCyjJQghRRSSMkjJUhZREqQQsocKUHKElKCFFJIISWXlCBlASlBCimkkJJNSpDSXkqQQgoppEyF8iYpQQoppJCyp5QgpbWUIIWU2VKClMZSghRS5ksJUtpKCVJIOUNKkNJUSpBCyjlSgpSWUoIUUs6SEqQ0lBKkkHKelCClnZQ4RkqQ0kxKkELKuVKClFZSghRSzpYSpDSSEqSQcr6UIKWNlDhWSpBCCilLSYmjpQQpLaQEKaRkkRKkNJASpJCSR0qQUl5KzJESpBSXEqSQkktKkFJaSpBCSjYpQUphKUEKKfmkBCllpcRcKUFKUSlBCik5pQQpJaXEfClBSkEpQQopeaUEKeWkxDlSgpRiUoIUUo6G8jkpQQopXaiQshOUz0oJUspICVJIqSAlSCkiJc6WEqSUkBKkkDIFyg5SghRSGlAhZScou0gJUpJLiSxSgpTUUiKPlCAlsZTIJCVI+dobCimkTJYSpPSGsp+UIKU1lB2lBCmdoewpJUhpDIUUUk6QEqT0hbKvlCClLZSdpQQpXaHsLSVIaQqFlLZSIrmUIIWUklSWlRL5pQQpHaEcISUVlS/bklKihpRMVB4/JvXlW28ox0jJROX7rJpDOUhKxf/W3qeoJAWVblAOk4JKMyjHSUGlF5QDpaDSCsqRUlDpBOVQKag0gnKsFFT6QDlYCiptoBwtBZUuUA6XgkoTKMdLQaUHlAlSUGkBZYYUVDpAmSIFlQZQ5khBpT6USVJQKQ9llhRUqkOZJgWV2k4mSmGlNpSZUlCpDGWqFFQKQ5krhZWyTqZLQaUqlOlSUCkKZb4UVko6OUUKKhWhnCIFlYJQzpGCSj0oJ0lBpZqT06SwUg3KeVJQqQXlRCmsVHJyrhRUCkE5VwoqdaCcLIWVKk7Ol4JKESjnS0GlBpQEUlip4CSHFFQKQMkhhZX0TtJIQSU7lDRSWMntJJMUVjI7ySWFlbxOsklhJauTfFJQSQolnxRWUjpJKYWVV8alpJQSnJDCSlEoaaUsayXtPvJKWdJK4m1klrKcldS7yC0lOCGFlVJOCkhZA0uBLVSQEpyQAksRJ3WktLVSZv51pLS0Umj6laS0s1Jq9rWkdMJSbfDlpPTAUnDqFaVUx1Jz5EWlFLZSdeBlpdTEUnjalaVUw1J71MWl1MFSfs71pVTA0mHILaTkxtJkwl2kZMXSZ7yNpOTD0mq2vaQk0tJurv2kJNDScqY9pZyJpetA20o5g0vrWfaWMlFL+zn2l3I4lzUmuIqUg7ysNLylpOwHZsGprSjl42IWHtbSUkSKSBEpIkWkiBSJFJEiUkSKSBEpWq+/BRgAms2Co6TaVjMAAAAASUVORK5CYII="},371:function(t,e,n){t.exports=n.p+"static/media/glow-dark.dd25fa44.png"},372:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAicAAAIpCAMAAABOhGifAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmNTcyMTMwNi0wMmIwLWEzNGYtYmQ0OS1kMjIyNmJhMzE2M2YiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTZBMUVDNkM4QTI5MTFFQUIwNEZEQkVENjgyODg3QkEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTZBMUVDNkI4QTI5MTFFQUIwNEZEQkVENjgyODg3QkEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6YTFkMjhlNDMtMWJhNS1lNDRkLTgwOGUtN2Q1ODNlNmI5YTQ3IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZmFlMDNiOTAtNzc2Zi0yZTRiLTk3OWMtZGI4NGE5MGU2Mjk4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+fQ8juwAAADBQTFRFTExMEhISmZmZeHh48fHxx8fHY2Nj1tbWt7e35eXlp6en+fn5Ly8v////AAAA////iAxT1QAAABB0Uk5T////////////////////AOAjXRkAABg3SURBVHja7N1te6SoEgZgEAQRlP//b093dmZOkm4VbaEKeOrjTnavrN5DFSUvIiIQxyHwCBBwgoATBJwg4AQBJwg4QcAJAgEnCDhBwAkCThBwgoCTJmLxj9Ba22malVIiCBHk+hry+Qfi8RNqmqbHzz//tQVOmo8vHM49cYgQ1rPxYGPUMFn3RQZOmhxBHj7sPBhxnsdrhPDwMrqHlwVOmhlEtLPjrN5nls+4CDOPz9EFTuonMikT1pzxKGC+tMBJnUbcmJ3IDyzTaDWcVBX6K9HItXAE8yxy4aQSI9NQbBjZyEIOTngHrZHvVqyHE6YFyTioIFcm8cxBDk64hXtOfFdeIZ/DCpxwQmKEXDmGfAwrI5ywKEkGEXgi+dfsVyOcEI8kzJH8v7C1cEI2A55NDUj+UXFwQhBTRUj+Uhk0nJQtSlRtSP6WtSOcFItZ1IjkLxWl4aTEUGJkvUr+o2ImOMncc615KPk+qNRWqdTkxGsV1mbC2JqW2tbjRFuzthVi1h5OblYyibW9CIPzcHJfwnFzWNsMqepYgFCBk8UOcm04VA3LJdk78Y0r+SppJw0nnykZVfNKqpDC20knSiqQIqAEUqp2YlVY+wrO/XwBJaxmySOcnOmqDT0q+eq8MV34xtLJLNZ+I7Bc98bQySTk2nWEAU6OCxPTuZJnmSImONnv0auwIp5THwcnO4VJwGDyr0zxcPI+nICS71JmOHn3KWeAEr7Jh4uTZURh8kbK4OHkR2NNAcX75MNkGRMLJ35CytkeUjSc/KlfDTjsDSmjh5PnCmlUJgfBoJNP7sShMqlhSBEYTDCksHeCwSQ5xNivk0ng/Vcy8SF0ohVmw6fC2B6djBhMKvriQ+ZkQAFbUzkrkHNQzrJ1gpxzPfcM/ThBzvlk3mN0J06wAvbD3ON6cOKQcyqc9xR3gkb9HblHte4EixvrLFIESpNKc49t14lGaXIjlLFRJ1gqfXPuKbnIupwTPyPn3N3F9+05wfacDFFug08pJ9h4kaflZttyguZa5dVsGScWTLJVs9PSjBNMdKqf9pRwglZ9/dOeAk4wH24AigCTFqDo6p2gbVJkfqwrd4K2SRtQBJgACrkTMGkFigAT9PCJnYBJ4R6+rdIJmDQERYAJoFA6AZOmoAgwaauY9TU5WcCkselxFiceTFqDIsAEUGicYGE9ceTYKyjApL3IsMzgfic4q75FKLc7wVpYDjFwd2LBhEPIeWHtBPt0uECZODvBgQRs4uYNYLc68bhIhxEUx9YJ+mus+m2OqZMB74ZXv42nkxGNE25tFI5OHGbEDbdRBKY6Lc+OR3ZOMNVpetIjMNVpe9KzsHKCb8SNT3rucYKvOnxLlIGPEw0mjKFMXJygXc+7ltU8nCw44oR5LetZOEEfln1f1jNwgj4s/xJlpneCPmwNJYqldoKdf3WUKJrYCYqTPkoUgeIEXZTsTnALRj0liiN0gs869YTxZE7wWaebybHAlBiT48xOsG66n8nxB04sipPKYlgInCDr1Fei2PJOPLJOT5lHIOt0lXl8YSfIOn1lnotOlhnPvM7M44s6ccg6lcbFA3SuOfHIOtVmHlfQCbJOb5lH8Mw6suPI/WynUk6WzPswZFCT7TXGQWSWInUhJ1Pe/w0zLn2HU3m/w6syTvLu/hO9K/mSYnKOKVeaKBec5FzDJhWQfMWU8y/jhUMMBKsiVg4QUgLKXMCJAZMyUDL+fTy/WPa0k5wbMYwHj/9HzsXHKrsTkVM5cHwPw6iUPesk49kEyDq/IufSDZPXSc59XUGDRrkBZcrqJOec2ABGwVL25NK2c05ybtiRE2D8Cp+1BZHRSc7hJGCy8xI5l2+cG1AElznxGsDiJVTOB66yOcn6nRjlyWtkPfnu1P7AM07y3iQKJ4WdnBpQTjjReZedwElpJ2cGlBNOMh9iASelnaxqyeAk83ACJ+WdnLh2RXAZTuCkvJMTp7YJLsMJnBA4SR9Qkp1MK5w05yR9QEl1kn8/MZwQOEkeUASX4QROKJwkDyiCy3ACJyROUhcsCS7DCZyQOEk9EUXwmOzACZWTxCXVaU5KHJ4EJyROEgeUJCe+xPHkcELjJG27cZKTIqfiwAmNk3X2Nzkpc7QjnBA5SbpnMsWJlhycaNdeaA5O1vEeJ77M6UlHTobQXhgWTlJOWEpwUugW66Nn1uJVP4GFk9Xe4mRa4aRtJwlX8xw7KXW2I5yQOUmYGh87sSucNO5kHW5wouCkeSfBf+zESzhp3snxWaGHTopdnwInhE7Ex04CnHTg5HBqLJhUsXBC60R96MTASRdOjj7yCA6fduCE3MnR7caCdnMXnDBxclTJHv3xCid9ODnoyQry9Y5wwsPJ8IGTku8GTkidrOG6kyXASTdO9rcGCrLz2OCEl5P9o4cFj+YJnNA7CVed6AAnHTnZPaJa8GielHYiA5ycSjyCS9op5kSoeRyfFzaOgwpw8v23cZecuNCeEzFb7b9t9bBDgJN/g+x8yUnZtFPCibEvG2a8ngKcHCcewSXt5HcSxvfbqvQk4eQo8QguaSe3Ezlsb75zBk4OEo/gknYyOzm4tWWQcLLurVYSLL7tZHcS7MF/nSb3cHOyfdeKIDyRrZyTQyZEULg52U48gkvayelEHjOhST3cnGwnHsEl7WR0knijnIKT7aMLBJe0k9GJSrtRzgk4CeNJJ2NoxkmwS1qMsnsnmzuNBfU2wPxO0q/PNnCydcTFhhNvmnEiXLITK7t3snXHlyh/UXFZJzJ9OCk/oPBzsjUzFhRXRpZ0klydUDRR+DnZmhkLJrPibE7MmeuzfejeyUZLVpCdZ1/IyZm0UzzxMHSyMTMWXMqTTE7CyO9gX9ZO1vmEk3ltxYnQp5xYOFEnnAzNODl5GnrhAoWjE+GSnVCUJzycLHDyvkARXMqTTE4UnNxSoAjCE6hLOBng5JYCRXApT+CEi5O3BYrgUp4g73Bx8vbgAsGlPEEdy2Z595ToZFy7dYJ58VeuTnMyN+QEfbYLb0InOdGqISfo21/4rWySE4J1ovmcSHwHvKWQFbSHPGZ3cm7Co7GuYKPTJriUsSzWKc1Yp/T1d8unOJmbcrJi3eMdnTbBpMvGYx11gJONQlaQn2eR28k6Y1/G2UI2xQlRGZtxn1fqgIJ9XtsdWUF4M1MhJ6n7RjX2jW4Xsi9Olrk5J9iH/nlH9sWJV805SZsbn5kTS2GUEaFZJ68HtQku05285+S4O4sTM1mnvXZ2NI06eS1kBZfpTuZzt46gpO8E/H5spB5Fk07WYydUZWzuc/zGm16I+vkBWg9NOpmXTp3sfhDUJp3J77mTH1p08jLh+e3ED4062W7M+hMnUgv/BlmDTl4mPILLdKfIueXu5TV7f6bEeLua5YN1GGydvEx4BJfpTpl7EMykv92D4PXJexDe/47Xzyhj60QeOglNO3mmDvWY1j5jnM7eqxL0zcemsHXyMuERXKbFNdznNdz9Pvk6mY6crHBy4a2q1pwMft+JhZPNnD3d/g2RrxO174TsK2AFTsT9S5z4Ovk9MRZc2ifsnRwckn+pluXrJBw4MXCyNRIfvdOmnMh9J1rAydaDy7B+ha+T9cBJgJOTc+JPalnGTuy+Ewknl97otVqWsZNp38kKJ28jaZvy6VqWsZN514mDk/Nz4uu1LGMnvxoogsHJbBU4Sdx8ena6CCdtOUnezH6ylmXsxOw5IWyzcXYic13hw9hJ2HWi4ORdTXdiK/sIJ706OXd219CGk18N2V9OBJy8aSWcOwpQNeFk3XUS4OS1iD13FOCZWhZO2nEi7XIy0vuynJ04ODkVgz/rJH0PKmcn044TwrY9Vyfh9HByYk87nLTiRM4XmCTXsnDCwokMz/joWZ88z/rk3i/OToYdJ64hJ1KoyTmnx8Fcr7rktFyLtFqWsxO142Rqx4n4Vn9adfV5K3/RSVotCyfUTszPTzLTtSFFjsvlSKll4YTYycst6PbSAnF1nUlSLQsntE7Ma7rwF555cB84SallOTsx7Tt5vw7gdO6Rw/JRHNeynJ2I9p1s9Dzs2VJYf+bkuJat1cnQhBOxNUk5l3suz4nT33OtTlQLTvY+3J050sb4j50c1bJwQuhkt6pwt3C7a40BnNA5ObhHRac+e7XcEfvnDsEJmZPD1ljiwX1B3+Jkv5aFEzInCcNAyoWqn86Jv/Vl4YShE5FSVfjjnnrwdznZq2XhhMpJ4lzWiuxz4v9DEXDCzUn69939T8hmuTG2DwuBExonZxYp7rXxb5kTJ2wShBMaJ6eKz53vdGq5N7bqITghcXK2g7qVe+4rYg9+eTihcBJOryqa3+ee+W4mW7UsvgNSOLnQ8nibe8Ryf7yvZbGugMCJuLSq6DX33NWJTahl4aS8k6trWX/Pe4RdssS7WhZOyju5PEex3299k0bnYfK2L4t1j8WdfLKWdf67wyeYeckWb9YYYB11aSefNdr9OChj1DAuOeN1jQGclHbyeaPd+yV3vKymq9VJtftGP9tBUSx+v/danfhancxVMHmpZWvdh17reQXC1+Hkdy2Lcy2KOpFuqSV+1rLVOpFVOlFLPfGjlq3VSZ3ns1WTdV76spyd2NacSFsTkx+1bLXngtZ4zrBa6opvl2pU66TCc8uDr8zJtzUG1Z5bXqGTcaku/h14gXsQijlRvj4n/y6Iq9VJffc0BbfUGIq9E9GWk2mpMwx3J/v3vtnKnGRbVVSmlq3WSWX30kq31Bpf62WrvZe2snuuh6XeeNay9d5zHWpyInTFTp4XxDF2YvediIqcyLFmJs++rODrRO868aYiJ1W2Tn6sMeA7nsgDJ6oeJ3Vnna81Boatk3DgZKjGiZxqZ7J4x9aJ2XcSx2qc1J51kkpdMie/2icvTmwtToJb4CRfDAdOnKzDiZwXOCnXPnl1EupwYjycFGyfvDjRpgonwS5wknNa7A6c0E2MTzkZFjjJOi0+dDLU4ER4OCk6LX5xQjfhOeEkjAuc5J0WN+FELXBSdlr86oRswpPupJesQ+hkjEdOyL4YJzuRvWQdQif22Ini7qSbrEPn5GW68+pk974YDk6ChpPi051XJ2SFbKqTaYGT0l8B3zqRrJ2YBU6yx7wcO6Ga8KQ56eIzMbmTlzL2jROqLzxpTuYFTvJ/3UlxQnUZQpITscBJ/hAuxcnE14m0cELRtX/rhKiQTXEyLHBSooyNKU6ICtkEJ0LDCUnX/q0TokI2wcm4wEmJbqxNchJnpk7UAic03dj3TkaWTkxfrRNCJ8OS5sQGluPJtMBJkZhimhMnODqxHk7KdNnGRCc019OaBcHCyZsu24aTCU46dvL6sXjLyRjgpF8nc0x1QtJBgRMeTt6WJ++dkBQocMLDydvyZMPJDCfdOnlbnmw4oeigwAkPJ2/Lkw0nFAUKnLBwEsYTTigKFDhh4UToM05mCSd9OlHxjBOCAgVOODiR8yknBOfIwgkHJ+/Wnuw4IVhMDSccnBh/zkn51j2ccHCyUZ5sOil/bAGcMHAip5NOys+M4YSBk41Z8Y6T4jNjOGHgZCvtbDspnnjghN7J1qx4x0k0cNKdk+DOOyn9O8IJvRMTzzsp3ZKFE3In22lnx0npxAMn5E62086ek8IzHjghd7KddvacFN6PDifUTnbSzp6TwokHTqid7KSdXSdlEw+cUDvZSTu7TsomHjghdrKXdnadlE08cELsZC/t7DuZJJz042Qv7ew78QFOunHyfh9gkpOiiwvghNZJWK47KXn0I5zQOlHxupMY4KQTJ9J94mSAk06cHEA4+GMt4aQPJ/NHTqKAky6cBP2ZkxFOunCi4mdOyrVQ4ITSif3QSblKFk4InRwyOPwBJ+GkfSfzx06KfQyEEzon0n/uxMJJ805U/NyJF3DSuhN3g5NSF1/DCZkT429wUqonCydkTsZ4hxM/wEnTToS/xUmhqTGcUDmZb3LiFZw07OTo006ykzLLleCEyEnKcJLmpMiAAic0TqSLdzkp8tUYTmicDP4+JyUOV4ITEifSxvuclLgJDk5InCh/p5MCAwqcUDiRY7zTSYEBBU4onCQOJ8lO8t9pDCcETlKHk2Qn+de1wQmBk9ThJN1J9kMu4KS8k+ThJN1J9gEFTso7SR5OTjjJPeWBk+JONm89+MRJ7mO44KS4k/Th5IyTzAMKnJR2cmI4OeMk84ACJ6WdqJjHSd4BBU4KOwk2k5O857UFsCjr5Mxwcs5J1j1fwcPF7zBchpOTTnLeLilHuPgVWQ8BGGI+J1kP9lOA8Sty5nnhcjrJeSlP0JBRLO3IOeZ0krN7LwfI+BE598OIJa8TnXNAcbBRajgZY14nWefGqFBKVScm5naS82Q/ZJ5vMWYdufM7ybnpS87w8ScsnznxNSdZ58YYUf4mnZxMgi/hJGcpu0qDYnZZvMr6AXCMJZxkXnsfVO9S/JB3jamJZZzkPtoviMH2akXb2YTMq9hcKScu99p7KWXoNGT2LTtzLOWk5DUaiLs7sb6cEy3wvCsNaWM5J3GUeOJ1hvIlnXiFJ15lJB2ydZ+TvE0UBLOsc90JMk9PWecDJ8g8HWWdD5xgzlNh1hljeSfIPNXF4CmcIPPU1mHTkcIJMk83WeczJ2XOqUbclXUWKif4ztNJ1vnUCTJPPVNiG+mcZN33hbizOJkjpZO8RxggbgvlaZ1gclxHceIirROUKFUUJ2OkdoISpYLiZIj0TnKfA4n4OIzn4AQlCvesoyMHJ8VuTEdQdE7uc5L/7HsEXefkRidYYsCYiYp8nMQBULjWsJGTk9xbSRGENeydTiJqWZZZx0ZmTlDLNlvD3uoEtSzDGCI/J+jLtlrD3uwEq9uYxZ3v9s7/FiY9vKY6jqsTNPA5MRkjVycFbsNGpE51psjXCRajtDcjzuIk6w09CIoZcR4nWFjNIpTn7sTjkyADJjpydwIoDBontzPJ4ATrIMmZuFiDk6gBpbHRJI8TjCjNMcnjBFAI27A21uMkLoDSFJNcTrCdtC0m2ZwASlNM8jnBx+OWmGR0AigNMcnpBKmnHSZZneS9mhRRkElmJ4DSCJPcTgClVBfWxaqdAErFzfqSThaFZQb1M8nvBGcZ5A/jYgNOsFEwc9y+yJHISZywuDpfSKVjI06wCj8jk8HHZpxEi9ZsprbJVIRJKSfRYe9xFiZjofdXygkWzdbYXSNwgv0aGebDOrbnJHpsFbx5ouNji06wS73GiQ6FE1SzFVawFE5ixNeeWr7o0DpBE/+WnGNKv7biTtCbvaM0ie07iU5gSKmpNKFygiLlw5zjYidO8AH5k64JyRujcRItJsgXc84Ue3KCLv7FTr2LfTlB7rkymAw6ducEued0b22ke1mETqKfMaScCOVin06wzO1UAetjt06iQzmbOJhY2hdF7ARDStpgMuvYuRMMKQmzYUv+luidxAVDyn4Hlnww4eEkRo0b45hOc3g5iR69FJ7THGZO0EvZ+uinmbwfLk4eycegnmXUgGXrJMYRC5h+1q+M3g0nJzgq5bsSoyOcIPkcKGGUcjg6QfL5b5YzcHst7JzEOPfedgvKRzhJSD6q5zlyYNClr8NJjLZbKdKMLN8ITydPKT2WKVLMTN8HVycxTv1NfcTsI5xAyoGSQfN9F5ydPKT0k33EYDm/Cd5Oou9ECnMl7J08pIztHwAoJsf9NbB3EqMe2x5TKlBShZPnMqZ2PxCqUdfwCqpw8pDimlzHJJXVdbyASpzEuLipte8+YXC+lsdfjZNnoWJbaqiISft6nn1NTp7pZ2gj/UhjfVVPvi4nX/Pk6heoyDDo2h57dU7icwdhkBUjMbbCZ16jk0eMRlZJRYrBV/nAK3XyKGpnURsVGZSr9XFX6+Qr/4hQU74ZK37WNTt55h9VBZUHkqnuB125kxqoPJDMvvanXL+TJ5VHAmJaqwShZt3AI27CySPsYNj1VR4DyTD6Np5vK06eZe2sTOA0kAy2nYfbkJOvZu3MoVqRDyOjburJtuXka1h5WpGkRibX3FNtz8k/K4FmHLG+xSfappMvK3YqObA8atZpdL7Vp9muk2doN05D7pFFfhGxuukn2baTP1js+JwKyRyDyDPROL00/xA7cPLfTEi7RyIazE0NOSnMMNuHEN/J8+vFyV8tX1weo4sI4VKKEY8RZLLO6W6E9OjkTyz+AeY/MYP6MrM5ysjHnz2yi1LzPD11aO99j4+sSyffR5g/of/E9Dfcn3/w9wc6f069O0HACQJOEHCCgBMEnCDgBAEnCAScIOAEAScIOEHACQJOEL3G/wQYAIE680A2iYJYAAAAAElFTkSuQmCC"},373:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAicAAAIpCAMAAABOhGifAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmMDNhZGQ1ZC1jZGU5LWU1NDgtOWJmZi1lZmNjOTY5ZGYyODEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NENDRjYwNkQ4QTI5MTFFQThCRDA4NDkzQ0VEN0IwMzMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NENDRjYwNkM4QTI5MTFFQThCRDA4NDkzQ0VEN0IwMzMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Y2JlN2QzZjQtZGNiNS00ODQ5LTljMDAtNTAxOTQ3ZmMxMzc1IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YjhkOTE1MTEtNzcyYi01YjQyLTlhY2ItNWY5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"},374:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAikAAAIpCAMAAABQTVgsAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA39pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplM2QzYjA2Yi1hMzQxLTU3NDYtOWM4MS0yMTI1ZTI4YWE1N2EiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MENERkNCQzY4QTI5MTFFQUE4MkQ5QzVDQzkzNkIwNjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MENERkNCQzU4QTI5MTFFQUE4MkQ5QzVDQzkzNkIwNjEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIwMjAgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA5MWQ5ZWRkLTdmMTMtMWU0MC05ZGEwLWZhYjNjZjUyZDcxNyIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmY5MDNiZDRhLTM3MWItMGQ0NC05NzU4LTFkMzI0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"},375:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAiYAAAIpCAMAAAChRgOhAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2OTI3YTk4Ny00NTlhLTg4NDItOTYwNS0zZGNhMzJkMTFhNzYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkY2OUJCODg4QTI5MTFFQTgwNkRGNTcxRTMxNzQ4NjkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkY2OUJCODc4QTI5MTFFQTgwNkRGNTcxRTMxNzQ4NjkiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NWM4ZmVjM2QtODBjMC0wZTRmLWI4N2UtYzdkYjI5OWZkMGJmIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NzdkYmFlMWEtZDMyYy1iNjQ4LTg5YTMtYzZh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"},376:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAicAAAIpCAMAAABOhGifAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyNjAxNWRlZi1hMWNiLWI1NGMtOTNjMy0yYjNkNDQxZmMyNmMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTE0RjMxN0I4QTI5MTFFQUJDRDZGQThDNDJEMDk1QUMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTE0RjMxN0E4QTI5MTFFQUJDRDZGQThDNDJEMDk1QUMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6YTU3ZDcwNDktNDBmZS1iNzQxLWE2ZjktMWY1ZTA0ZmE1Zjg5IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6MmQ3M2FlMTEtOGMzOS1hYzQ5LWEyNzUtMDM4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"},377:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAiYAAAIpCAMAAAChRgOhAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyNjkzMWNlYy1jOTFjLWM0NGMtOGI5Ny0wZWQzMmM0MzZjZjUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RkNENkIxN0Q4QTI4MTFFQTlFRURDRTNFNEI4MjkyQjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RkNENkIxN0M4QTI4MTFFQTlFRURDRTNFNEI4MjkyQjEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Mjg1YjQzNGMtOWFkNi01YjQxLTlmM2QtMWExNzczNjBmNGYyIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZThkZWFmNWItODgwYy03ZDQ2LWIyNjYtZDdk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"},378:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAikAAAInCAMAAABqRzlcAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5NjI3ODViNS02OWNjLWM0NDYtYWYyYy1jOGUyYzNhYjk1ODciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjJFMTJDNjY4QTI4MTFFQUFFMUVFODBCMjk5OEU0N0IiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjJFMTJDNjU4QTI4MTFFQUFFMUVFODBCMjk5OEU0N0IiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6YmM3ZDZjYWMtZjVhZi01MzRhLWI0ZmMtZDZjZjU1YTNkNTE2IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZjYwMzIzMjgtNjA0MS1kZDQ1LWEzZTMtMThj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"},379:function(t,e,n){t.exports=n.p+"static/media/glow.6dfba7e9.png"},380:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAC4jAAAuIwF4pT92AAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA0LTE1VDA4OjEzOjAzLTA1OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNC0xNVQwODoxNzo0NS0wNTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNC0xNVQwODoxNzo0NS0wNTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5ZjcwMzIxZi03M2E2LWUwNDItOWI0Yy1lNTFlYjE2NWQyZDkiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpjYjhhYjM0OC1lYzE5LThlNDktYjM5YS1hN2ZhMmYxMTk0YjUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3YjYwMTMwZS0yYmUzLTAzNGQtYmZmMS1kNDlmNmQ4OGFlY2EiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjdiNjAxMzBlLTJiZTMtMDM0ZC1iZmYxLWQ0OWY2ZDg4YWVjYSIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xNVQwODoxMzowMy0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjlmNzAzMjFmLTczYTYtZTA0Mi05YjRjLWU1MWViMTY1ZDJkOSIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xNVQwODoxNzo0NS0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoKqFg0AAADYSURBVHja7dyxEYAwDATBL8kl0LlLE0U8AeDVzOUaba7MTPSeHAGIgAARECACAkRAgDgCEAEBIiBABASIgADRWSBJrrKVfla7x59Apmw/ALLbPYAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIB4NX7Yq3EBASIgQAQEiIAICBABASIgQAQEiIAICBAB+WA33uxbPBqM+V4AAAAASUVORK5CYII="},381:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAC4jAAAuIwF4pT92AAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA0LTE1VDA4OjEyOjUxLTA1OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNC0xNVQwODoxODowNi0wNTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNC0xNVQwODoxODowNi0wNTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpjYWM5ODZiMC1iZGY5LTg5NDctODY1ZC1iZWJmMzdkZmRkMTgiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmNjQzZjY5Mi03MWU0LWJmNGMtOTkwMS1iYWJjNmNkNTMwNjAiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5MTE1N2QzNi00OTBjLTY4NGItOWFmZC1jYzNmOTA3MzA4ZmMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjkxMTU3ZDM2LTQ5MGMtNjg0Yi05YWZkLWNjM2Y5MDczMDhmYyIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xNVQwODoxMjo1MS0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmNhYzk4NmIwLWJkZjktODk0Ny04NjVkLWJlYmYzN2RmZGQxOCIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xNVQwODoxODowNi0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pvra8+YAAAGCSURBVHja7dzRrYJAEEDRLcESLMESLIFSKMFOLMUSLMESLAEXk/0gxkQUlkGOyU3ep/EEmYcwqeu6pDj5EIAICBABASIgQAQEiA8BiIAAERAgAgJEQIAIyOBNpLRPK339K8gld87tgMQB6f+45xogcUBKl7V8jW0FpBwtLZA4IKVr7gAkDkjpFPGkv2WQvlvuCCQOSCnMiAxkeNJvgMQBCTEiA3l/tLRA4oAsNiID+axqIzKQz6syIgMZ36wjMpDvT/oNkDggs43IQKY5WlogcUAmHZGBTN9PIzKQefp6RAYyb6NHZCB1TvoNkDggo0ZkIPWPlhZIvN6OyECW7WVEBrJ8gxEZSJyeIzIQIEB8ZTmpAzH2+scQiEsnLi4CcfndD1RA/ITrJgcgbgNyoxwQt5K62RqIxxGAeGDHI21APPTpsWggFgdYrQHE8hnrmYBYYGbFHxBLMK2JBWKR8oZA9mmlL8v4LeMXECACIiBABASIgAARECACIiBABASIgABRnR5+lh/ce3qcfwAAAABJRU5ErkJggg=="},382:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAC4jAAAuIwF4pT92AAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA0LTE1VDA4OjEzOjIxLTA1OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNC0xNVQwODoxNzoyMC0wNTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNC0xNVQwODoxNzoyMC0wNTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkZWU1NzllYS0zM2ViLTBhNGItYjljNy1kZWQ5ZjVmMDFlNDMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo4NzM4ODRkYy0wNjA4LTYwNDQtYWM1MC04NmFhNjhmNDM4ZTIiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0OTE1YTQ3YS0yZDhjLWZiNDYtYWQwYS1lMzU4NjNkYzY3NTgiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ5MTVhNDdhLTJkOGMtZmI0Ni1hZDBhLWUzNTg2M2RjNjc1OCIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xNVQwODoxMzoyMS0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmRlZTU3OWVhLTMzZWItMGE0Yi1iOWM3LWRlZDlmNWYwMWU0MyIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xNVQwODoxNzoyMC0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pj6UQU0AAAONSURBVHja7d1tlaswEAbgVwISkICESlgJkVAJdVAJlVAJkVAJlVAJ3D9wDrctdJJMvt85Z35uyOZZAsmwgHmewSwnOQgEYRKEIEyCEIRJEIIwCUIQDgJBmHogO2EATGB8RA4QA2AG8Coc5QLgDGBsGWTFmCtAsZt+PhegsSWQd4zSUexOfy2Av9pB9jByoUwBINuzxtQI8gsjNcq0HCsUZHvGnGoCWQegBJRtX7RA1rwCGGqZskpAee+DNsg6jU01gORG+XbsGCBrmhpAcqHsHTMmyAzgVsvCMCXK0bEkP3tz6OseylA6SCqUX8dwCbNcH3xQHi4ouUBio0ja9glfmFsNIDFR7oL2Qve5oqDkBomFMixTRSyQtd8PR5RzDSC5UDRiWP7yXVCmGkByoGiGC8rz6CJfEkhqFGREudYCkhIFmVFOtYCkQokVd8jXJ9WApECJFZI7vN09r5JBYqNIph8T0G/pBb4qkJgo0s1F61nnuPicJTWA5NoltgptSrZZbI0gOVDslzZdS7VG2N8xJch1+eU00mVjLxTFKrUp6fM1JUhooSckQ1DsQZuD8lny7AUkBMVK531BSKbaqRcQXxQLvbq5ZAV/7gnEB8XCcQ1xECdB/+69gcQochnFaevZI4h2kcsqnnEzgKFHEG2UUXHlfuoVRBNFOm39SabAnkG0UK6KF/ZL7yAaKC7XEYIkQCFIYSgEKQyFIIWhEKQwlAtByt+6521vBShcGAoGOyUKt04EBaGcNXpuLuLzUdJUKIO0jNs7SCoUSV39TpB0KJJi15kgaVAGYZsjQdI+S1zMY0BmueULyVcikFwol5af7Q0FyYEy1gYSAwWFoFT7sLU2CgpBOdUMoomCAlA+tu5rBNFCQQEoUysgGigoAAUtgYSioESU2kFCUFAiSgsgvigoEaUVEB8UlIjSEojrIGmUZF3+AEQorYG4oPjGAPnrM5xRWgSRovjEWWH9c4jSKogExeWMOMP/JZhOKC2D/EL5FSeEvybWGaV1kCOUX5GisPaB0gPIHkoskJdjUe0/lF5AvqHEAHlsBtdrndITyPsgaYNcNBaPvYFsB0kLxOL4P3FdUP56BAF0Pnnk8mUdCYrpccpyiT2QO/w+cXSEYnq8qIeAPKDzTcNvKKbH216fMEuOEabLFyp9K2mrMWHnW4j8ODG/Fs0kCEGYBCEIkyBMghCESRCCMAnSav4DE2t6yIO/nNEAAAAASUVORK5CYII="},383:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAC4jAAAuIwF4pT92AAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA0LTE1VDA4OjEzOjUwLTA1OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNC0xNVQwOTozMjo1My0wNTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNC0xNVQwOTozMjo1My0wNTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4MjQ4ODgzZi1mOWMxLTU1NGMtODJhYy0wNzE3MzcyNWYzNDQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDphNWJiMjViMi05ZDdjLTlhNGYtOGRmMi02ZjNmODk0ZGIwYTIiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmMzhkM2YwOC05NDQ3LTgzNDYtYmEzZi1kNzQzNDYwNzc2ZGEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmYzOGQzZjA4LTk0NDctODM0Ni1iYTNmLWQ3NDM0NjA3NzZkYSIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xNVQwODoxMzo1MC0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjgyNDg4ODNmLWY5YzEtNTU0Yy04MmFjLTA3MTczNzI1ZjM0NCIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xNVQwOTozMjo1My0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PltC8kAAAALZSURBVHja7d3bbYMwFIBhRmCEjMAIjJARPEJGYANGyAgZgRE6QkbICDRIRErVNjk3EzD/kc5LpSQuH8b4gqnGcazI9SQHARASEEBIQAAhAQGEBAQQDgIgJCDFgmw4unue7nlY8kcB+T+G6fjMeZ2BDoCsA+Q5p78fAYmNxgHyXGsSIDEYtwCQ5xrTAuLDGANBHtnfswbEhpED5HEZawDRY+QCeWQCRIeRG2TKMyByjFH42fOLz0tRakDeY2gLlub2wYLypUEpFaQRnNmWsMKc9wzSCC8z3nGuLCilgTSKa37Eb30pUU57AtFgRBWsns98DUqzBxAtRnTBNCjXV418CSAWjBwF06D0pYJYMXIVTIPSlgbiwchZsIuif1IMiBcjJ0ituPtKJYBEYIzCy09ylFHawG8aJApDM7g4GOc5Okst2RJIJIZ2tPdmnOeQDLMMWwSJxrAMv98q/VRtEpblsCRIP/9znozGsM6HWGqKpJb0S4IMGQ7mp0AeKHVwLbkC4psxHJS1RFLDG0B8U7iaW2JJD/4EiA/kqgBpBeW5AOID0daSmwQYEB+Ipi2RfF8NiO8A/uhDBPTcW0D8INLL1lHyXYD4QfrAhr0DxA+iaUcAAQQQQAABBBBAAOG2l44hHUOGThhcZHCR4XcmqEztBxNUTOGyyIFFDiwD+g2S5ls+T7JQjqWkfy4l1WKscikpi60LXGydA0UKcql4HGERlHfRV/at/BphGTb/wE4kSq6YatOuHmmLQskVu3zoMwIlR+z6sWgvyicxit04wIPyKYzit9awokQ14BflifCyP8P2TL7fYnumQBRPdIY2a5cbmGlQLJEqtvjLhrIEBJtgKlDeRVuxTeyiKN4pXDZSDkbJCZKsBWUz/lgQNuN3oESD8LoKJ0oUCC90CULxgvDKo4WDl4KtGITX5q0guqrEF0uSvAsXEBIQEhBASEAAIQEBhAQEEBIQcspvTgF+TIuFvswAAAAASUVORK5CYII="},384:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAYAAAA4TnrqAAAACXBIWXMAAC4jAAAuIwF4pT92AAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA0LTE3VDA5OjQzOjUyLTA1OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNC0xN1QwOTo0NDo1Mi0wNTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNC0xN1QwOTo0NDo1Mi0wNTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NTVkODNmZi0zN2QwLTRiNDEtOTEwMy00MTc4MGZkZGEzMjUiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkOGRmM2U0OS1mZjNhLTZhNGEtYTljMC1mYTMzNGU0ZmFjNmMiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplODU5NDc4Yi03OWI3LTgwNGEtOGUzYi1kYWQyN2Q4ZGU4YzIiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmU4NTk0NzhiLTc5YjctODA0YS04ZTNiLWRhZDI3ZDhkZThjMiIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xN1QwOTo0Mzo1Mi0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjk1NWQ4M2ZmLTM3ZDAtNGI0MS05MTAzLTQxNzgwZmRkYTMyNSIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xN1QwOTo0NDo1Mi0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsdC2AkAAAE2SURBVHja7dzLDYNADEXRKYFSUgIlTAkpgRLojFIoYUogIA2LrMLHPIJ9Lb0lAh3E4I2dpmlKZFtAAAsssMACq17wXc2cbs4gzCsZlRIrzynLPcUpVmAqrPYGJHMwFdZ4M5YJmAIr/wGUCZgCqxeDjD/OxsNgHrHWP6A5mFesdAWYZyxzMO9YpmARsMzAomCZgEXCOg0WDesUWESsw2BRsQ6BRcbaDRYdaxcYWDvAwNoO1oO1HQysHWAusa4KWGCBBRZYYIEFFljBsHpB3GApCiywwAILrBuwWkHos2hKwQILLLDAos+iKQULLLDAAssNlmLClT6LphQssMACCyywno71doKVI+11ODvRL1uCkR+O1Sqx1s+xPAyp1Bed1FhLNfXAHx6Qrj6vboSO/VkELLDAAstdPvjwz/ahb7SeAAAAAElFTkSuQmCC"},385:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAYAAAA4TnrqAAAACXBIWXMAAC4jAAAuIwF4pT92AAAHJmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0MzUyLCAyMDIwLzAxLzMwLTE1OjUwOjM4ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA0LTE3VDA5OjQzOjUyLTA1OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNS0wMVQwODo0NjowNi0wNTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNS0wMVQwODo0NjowNi0wNTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozMjFlODhmYS1mOTE2LWM2NGQtODY4NC1lOWNmYjI2ZTM1YzEiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDphNWM1NmE2ZC0yNzljLWU4NDEtOTdmNS00Zjk4NmRjN2I1MTQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplODU5NDc4Yi03OWI3LTgwNGEtOGUzYi1kYWQyN2Q4ZGU4YzIiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmU4NTk0NzhiLTc5YjctODA0YS04ZTNiLWRhZDI3ZDhkZThjMiIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xN1QwOTo0Mzo1Mi0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjk1NWQ4M2ZmLTM3ZDAtNGI0MS05MTAzLTQxNzgwZmRkYTMyNSIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xN1QwOTo0NDo1Mi0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozMjFlODhmYS1mOTE2LWM2NGQtODY4NC1lOWNmYjI2ZTM1YzEiIHN0RXZ0OndoZW49IjIwMjAtMDUtMDFUMDg6NDY6MDYtMDU6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4xIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz72d1/EAAABNUlEQVR42u3cwQ2CUBCEYUqwFEugBEqwBEqgM0qhBEoYL3IzER8yy67/JHN8iXzJwz2Q7SR1dF9BAAsssMAC621vkkZJs7H3jFiDpFX+rFFgrQd7xSYErPXgovjYwVqv31ViBWs5NJlBlg/vRhtYBqztHzAcLAtWdwWwTFjhYNmwQsEyYoWBZcUKAcuMZQfLjmUFq4BlA6uCZQGrhHU6WDWsU8EqYp0GVhVrD9gE1n4wsL4AK4l1VsACCyywwAILLLDA+jOsydAyWI5vEcACCyywwArA6g1lzmIoBQsssMACizmLoRQssMACC6wyWLOhzFkMpWCBBRZYYIGVHetRBGtwYF1lr8ORLC3PfWS1Sub0TqztOq7JkNaW6/cLrG3L0STvlqPWjq/fy/4sR0EACyywwCraJ1E3U4n+sz6LAAAAAElFTkSuQmCC"},386:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAC4jAAAuIwF4pT92AAAHJmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA0LTE1VDA4OjEzOjAzLTA1OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNC0xNVQxMDowNzoxMi0wNTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNC0xNVQxMDowNzoxMi0wNTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowNWIyZWRkOS01YmRlLTc3NDUtODc0OC0xNTQ0ZjZkNTllNDMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmODRkNGExYS1jZTdiLTI1NDUtYTM0OS01ZDJlMjkwZWNmNDYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3YjYwMTMwZS0yYmUzLTAzNGQtYmZmMS1kNDlmNmQ4OGFlY2EiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjdiNjAxMzBlLTJiZTMtMDM0ZC1iZmYxLWQ0OWY2ZDg4YWVjYSIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xNVQwODoxMzowMy0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjlmNzAzMjFmLTczYTYtZTA0Mi05YjRjLWU1MWViMTY1ZDJkOSIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xNVQwODoxNzo0NS0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowNWIyZWRkOS01YmRlLTc3NDUtODc0OC0xNTQ0ZjZkNTllNDMiIHN0RXZ0OndoZW49IjIwMjAtMDQtMTVUMTA6MDc6MTItMDU6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4xIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6AvtMlAAAA1klEQVR42u3cMQ0AIAxFQSQhAeeVVkTQAeiRvP2ntzMyc+ieHAGIgAARECACAkRAgDgCEAEBIiBABASIgABRO5B12CzYMAt2fANy+qJgQxTsAAIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAeKr8WZfjQsIEAEBIiBABERAgAgIEAEBIiBABERAgAjIa219ZGIhOp8HOwAAAABJRU5ErkJggg=="},387:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAC4jAAAuIwF4pT92AAAHJmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA0LTE1VDA4OjEyOjUxLTA1OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNC0xNVQxMDowNjo0Mi0wNTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNC0xNVQxMDowNjo0Mi0wNTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1ZGQyZWY0Yy1iYmRmLWVjNDQtYjYxMC0yZDQ1ZTQ1YTQyZjkiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpjNDlkZWRiNS1lM2E4LWZlNGMtOWNkOS1hNGQ4OWU2NWIwNTkiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5MTE1N2QzNi00OTBjLTY4NGItOWFmZC1jYzNmOTA3MzA4ZmMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjkxMTU3ZDM2LTQ5MGMtNjg0Yi05YWZkLWNjM2Y5MDczMDhmYyIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xNVQwODoxMjo1MS0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmNhYzk4NmIwLWJkZjktODk0Ny04NjVkLWJlYmYzN2RmZGQxOCIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xNVQwODoxODowNi0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1ZGQyZWY0Yy1iYmRmLWVjNDQtYjYxMC0yZDQ1ZTQ1YTQyZjkiIHN0RXZ0OndoZW49IjIwMjAtMDQtMTVUMTA6MDY6NDItMDU6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4xIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5YiHqKAAABeUlEQVR42u3cUVEDQRBF0UhAAhKQgASkICFOVkokIAEJSBgmH/ODAV53n6l6BnKK5GaX7G2tdbOceRGAGBAgBgSIAQFiQIB4EYAYECAGBIgBAWJAgBiQP3uFkQXy2Lv2XoDkgDzPz94HkByQcx5T38ZSQc5fyyeQHJBzvvbegOSAnHOf8KFfCeR5vvfegeSAnNM2kauCtE3kyiAtE7kDSKtE7gLSJpG7gZRP5K4gZRO5M0jJRJ4AUiqRp4CUSeRpIPGJPBEkOpEng0QmMpCwRAYSlshAwhIZSFgiAwlLZCBhiQwkLJGBhCUykLBEBgLEWxYQH+qyF4gvhi6dAHFx0eV3IG5QuYXrFq5/cgDynykLJCxlgYSlLJCwlAUSlrJA/GDHT9qAFErZaSDxKTsFpEzKTgC5lkdrePgMkCYp2w2kfMp2AWmTsh1AWqVsZZCWKVsV5FoepOxR40AMCBADAsSAADEgQLwIQAwIEAMCxIAAMSBADIgBqbFfmQ8Mv6/KoZgAAAAASUVORK5CYII="},388:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAC4jAAAuIwF4pT92AAAHJmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA0LTE1VDA4OjEzOjIxLTA1OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNC0xNVQxMDowNzo1OC0wNTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNC0xNVQxMDowNzo1OC0wNTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmN2UwYTRlMS00YTJlLTlkNDUtYmUxMC1hYzUwZGMxYzJkMmUiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDplMzZiMGRjZS04YzA4LTdiNDUtOGZiYi1lMGI1ZDY1NmM1ZjEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0OTE1YTQ3YS0yZDhjLWZiNDYtYWQwYS1lMzU4NjNkYzY3NTgiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ5MTVhNDdhLTJkOGMtZmI0Ni1hZDBhLWUzNTg2M2RjNjc1OCIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xNVQwODoxMzoyMS0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmRlZTU3OWVhLTMzZWItMGE0Yi1iOWM3LWRlZDlmNWYwMWU0MyIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xNVQwODoxNzoyMC0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmN2UwYTRlMS00YTJlLTlkNDUtYmUxMC1hYzUwZGMxYzJkMmUiIHN0RXZ0OndoZW49IjIwMjAtMDQtMTVUMTA6MDc6NTgtMDU6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4xIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4tc8tiAAADqElEQVR42u3dW7GkMBAGYCQgAQlIQMJIQAIScDASjgQkRMJIQMJI6H1YqKKm5tIhnU43+anqxw3ZfGdCLtBpiKhB2Ak0AkAQAAEIAiAAQQAEIAiAAASNABBEdpCRiHo0qA2Qkf5fT+MoMxFNRNRdGWTHIAco4VDPdQPqrgTyimEdJXyobyCim3eQTxilUPoEkOOvZvQI8gtDG6Xf7pUKcvzFDJ5A9gawgHKsixTIft2JqPXSZVlAea2DNMjejfVeHuolUd7dOwfIfo3kZNhbAuXTPXOCEBH9eZkYaqJ8uxfn3/5F1PUTSksOlk40UH7dI3akuJ5EeeREaTL361IonLLPDuFXS91X7pGPFMrCKC91ncsESu65gRRKu3UVuUD2ej8iUSYv+yElUCTq3W5/+TFX7wGkBIpk3WNQVsmHvNY6kwZKUxDl7mkLVwulKYwyeAHRQslV94VZ74e3lxxyo+SqN2eEJ7bmpb3enxOF0/2MCfXmPuDdvQaUC4W7uBhOjopmjV9Jqa3KEqvEQaBMzjJL8PqinDZKeFNm7MiIu33daYLct/+cRMQs7KWiBKEyOXW+a4KkbvSkXCko4UuZrfCvZK0FJAUlCPb7nK62rwXkLMqveseMjjgz+KkmkDMoQbCbGRj1W2oDybHJNQp2W2uNINKbXEG4HdoaQaRRuHMIzsx9qBVEEoXbbd1yLKNcCUQKhTup4zzY59pBJFBiniMAUUABiDEUgBhDAYgxFIAYQ5kBYn/pHsNeByiYGDIaWxMFSyc/rtJ79FhcfLk0X5xoGeVXu/x+BNFC4eyrLwDRQ1kY5U4A0UFpmWV2ALHzed2p58dZkHEb8qXEUwmkFMqsCaL9GmkqSAmUzhtIDhQrX3KFlHYpnUFNEsXKl1yDZxBJFAsfDYXU9rCSD1ECxcJHQ/1VQCRQPGfGM5vZOgWluQKKxfy6Z1GaK6BYzfB8BqW5AorlPOixKM0VUKwnp49pJIkt2Zg/gCwoHk4M4KKkZGpYTg4kxFG8HOOQK8XfJDD/EUXxdLaGVBLMdoNYBdfRxFC8HXiSkiZ2oPQ0sdlRvIGUTKSsguIRRDvV+DNyUy0JxSuIVjL+x6FxVeYpnkFyH1cxl5g8egfJdaBLJzRZvdUI0pDMkUchYrePgzLW2GVJvL60nNx2/YYy1vhQTwF5kMyZhu9QXKb4KxHjFl3GgYW7rKRXjZ6EzkJEYxoLNAJAEAABCAIgAEEABCAIgAAEjQAQxMf4B1hD6wXAWQSXAAAAAElFTkSuQmCC"},389:390:function(t,e,n){t.exports=n.p+"static/media/HotspotIcons_New_Hotspot.562489c6.png"},391:function(t,e,n){t.exports=n.p+"static/media/HotspotIcons_New_Hotspot-Black.b1803523.png"},393:function(t,e,n){},414:function(t,e,n){"use strict";n(436),n(442),n(464);var r=n(11),i=n(150),o=n(151),a=n(153),s=n(152),l=n(0),c=n.n(l),u=(n(159),n(253),n(355),n(259),n(330),n(310)),h=n(308),d=n(341),p=n(331),f=n(254),m=n(332),v=n.n(m),g=n(226),y=n(333),b=n(227),x=n(157),w=(n(482),{position:{x:0,y:0,z:-.2},rotation:{x:-8.414080508010864,y:0,z:0}}),A=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).setInitialView=function(){var t=r.props,e=t.initialView,n=t.ratio;r.setFlatPanoView(n),e&&e.position&&e.rotation?r.setPanoView(e):r.setPanoView(w)},r.removeListeners=function(){r.camera.removeEventListener("componentchanged",r.handlePanoRotate),r.scene&&r.scene.removeEventListener("exit-vr",function(){console.log("exit-vr listener removed")}),r.sky&&r.sky.removeEventListener("srcLoaded",function(){console.log("srcLoaded listener removed")})},r.initializeHandleNewSrcFade=function(){r.sky&&r.sky.addEventListener("srcLoaded",function(){r.setState({newSrc:!0}),setTimeout(function(){r.sky&&(r.sky.emit("fadein"),setTimeout(function(){r.setState({newSrc:!1,showHotspots:!0})},g.a))},g.c)})},r.initializeHandleExitVR=function(){r.scene.addEventListener("exit-vr",function(){r.setState({VRMode:!1,showPano:!1}),setTimeout(function(){r.setState({newSrc:!0,showPano:!0})},0),r.setExitVRView(),Object(g.g)(!1)})},r.handlePanoRotate=function(t){var e=r.props,n=e.getPanoRotation,i=e.initialView,o=e.northView;e.viewOnly?"function"===typeof n&&i&&o&&n(t,r.camera):"function"===typeof n&&n(t,r.camera)},r.toggleVR=function(t){if(null!=r.scene){var e=r.props,n=e.tourData,i=e.history;!r.state.VRMode&&t&&r.scene.hasLoaded?(Object(g.d)(n,i,r.scene),r.updateVRStates(!0)):(Object(g.e)(r.scene,n),r.updateVRStates(!1))}},r.updateVRStates=function(t){t?r.setState({VRMode:!0}):r.setState({VRMode:!1,VRStopMedia:!1,showPano:!1},},r.toggleStopMedia=function(){r.setState(function(t){return{VRStopMedia:!t.VRStopMedia}})},r.setFlatPanoView=function(t){t>2.1?(r.setState({maxZoom:60,flatPano:!0}),setTimeout(0)):r.setState({maxZoom:100,flatPano:!1})},r.changeZoom=function(t,e){var n=r.state,i=n.minZoom,o=n.maxZoom;if(r.camera&&r.camera.components.camera){var a=r.camera.components.camera.camera;if(a){var s=a.fov+t*e;a.fov=AFRAME.THREE.Math.clamp(s,i,o),a.updateProjectionMatrix()}}},r.toggleAutoRotate=function(){var t=r.props.tourData,e=r.state.autoRotate;r.setState(function(t){return{autoRotate:!t.autoRotate}},function(){if(t){var n=t.id,r=t.name;Object(x.a)("".concat(n,"-").concat(r),"Auto-Rotate",e?"Start":"Stop")}})},r.setPauseAutoRotate=function(t){r.setState({pauseAutoRotate:t})},r.getCameraRotationView=r.setPanoView=function(t){var e=r.state,n=e.autoRotate,i=e.autoRotateDirection,o=r.props,a=o.autoRotate,s=o.autoRotateDirection;Object(g.h)(r.camera,t,!0),void 0!==a&&n!==a&&r.setState({autoRotate:a}),i!==s&&r.setState({autoRotateDirection:s})},r.setVRView=function(t){r.cameraRig.setAttribute("rotation",{y:t.y}),AFRAME.utils.device.isMobile()&&r.cameraRig.setAttribute("position",{x:0,y:-1.6,z:0})},r.setExitVRView=function(){r.cameraRig.setAttribute("rotation",{y:0}),r.cameraRig.setAttribute("position",{x:0,y:0,z:0})},r.c3dGalleryClick=function(){var t=r.props.tourData,e=t.id,n=t.name;Object(x.a)("".concat(e,"-").concat(n),"Concept3D Gallery","clicked")},r.handleExitFullscreen=function(){"function"===typeof document.exitFullscreen&&document.exitFullscreen(),"function"===typeof document.webkitExitFullscreen&&document.webkitExitFullscreen(),"function"===typeof document.webkitCancelFullScreen&&document.webkitCancelFullScreen()},r.state={src:t.src,newSrc:!1,minZoom:40,maxZoom:100,flatPano:!1,autoRotate:!1,autoRotateDirection:"counterclockwise",pauseAutoRotate:!1,showPano:!0,showHotspots:!1,VRMode:!1,VRStopMedia:!1},r.camera=null,r.scene=null,r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"initialize",value:function(){this.cameraRig=document.getElementById("camera-rig"),this.camera=document.getElementById("camera"),this.scene=document.getElementById("scene"),this.sky=document.getElementById("sky"),this.camera.addEventListener("componentchanged",this.handlePanoRotate),this.setInitialView(),this.initializeHandleNewSrcFade(),this.initializeHandleExitVR()}},{key:"componentDidUpdate",value:function(t,e){var n=this,i=this.props,o=i.src,a=i.initialView,s=i.activeStop,l=this.state.showPano;!e.showPano&&l&&this.initialize(),void 0!==o&&t.src!==o&&(this.sky&&this.sky.emit("fadeout"),this.setState({showHotspots:!1}),setTimeout(function(){n.setInitialView(),n.setState({src:o,newSrc:!0})},g.b+50)),e.VRMode&&!this.state.VRMode&&this.camera.setAttribute("active",!0),!e.VRMode&&this.state.VRMode&&(this.camera.setAttribute("active",!1),a.rotation&&a.position?this.setVRView(a.rotation):this.setVRView(w.rotation)),t.activeStop!==s&&this.setPauseAutoRotate(!1);var c=document.getElementsByClassName("a-canvas a-grab-cursor"),u=Object(r.a)(c,1)[0];u&&u.setAttribute("aria-hidden","true")}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){var t,e,n=this.state,r=n.autoRotate,i=n.autoRotateDirection,o=n.pauseAutoRotate,a=n.flatPano,s=n.newSrc,l=n.showHotspots,m=n.showPano,x=n.src,w=n.VRMode,A=n.VRStopMedia,E=this.props,_=E.activeStop,T=E.changeStop,S=E.checkLogoURL,M=E.closeShareModal,C=E.cube,I=E.currentStop,k=E.history,R=E.initialView,L=E.miniMapView,O=E.panoAltText,D=E.panoHasKeyboardControl,P=E.primaryColor,B=E.publicTour,F=E.resetInitialView,N=E.setYPosition,U=E.showTransitionLogo,j=E.showVRMode,z=E.sky,G=E.stops,V=E.tier,H=E.tourData,W=E.tourPublished,J=E.viewOnly,Z=E.isMainMediaPlaying,Y=E.toggleMainMediaStatus,K=E.isMobile,Q=E.showPanoControls,q=E.togglePanoControls,X=I&&I.hotspots&&Object.keys(I.hotspots).length>0;if(z&&(e=c.a.createElement("a-sky",{src:"".concat(x),radius:"100",id:"sky"})),C&&x){var $=x.split("/"),tt="".concat($[0],"/").concat($[1],"/").concat($[2],"/").concat($[3],"/").concat($[4],"/").concat($[4],".tiles/");e=c.a.createElement("a-entity",{cubemap:"\n            folder: ".concat(tt,";\n            urls: pano_r, pano_l, pano_u, pano_d, pano_f, pano_b;\n            edgeLength: 5000;\n            transparent: true;\n            opacity: ").concat(s?0:1,",\n          "),animation__fadeout:"\n            property: cubemap.opacity;\n            startEvents: fadeout;\n            to: 0;\n            dur: ".concat(g.b,"\n          "),animation__fadein:"\n            property: cubemap.opacity;\n            startEvents: fadein;\n            to: 1;\n            dur: ".concat(g.a,"\n          "),id:"sky"})}var et=document.fullscreen||document.webkitCurrentFullScreenElement;return c.a.createElement("main",{id:"pano360",role:"application",tabIndex:0,"aria-label":H&&H.name,className:U?"":"hide-logo",onMouseDown:F},m&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{role:"img","aria-label":O,"aria-hidden":!O}),c.a.createElement("a-scene",{id:"scene",cursor:"rayOrigin: mouse; fuseTimeout: 0;",raycaster:"objects: .clickable;","vr-mode-ui":"enabled: true","device-orientation-permission-ui":"enabled: false","loading-screen":"enabled: false",embedded:!0},"map"===L&&c.a.createElement(c.a.Fragment,null,H&&c.a.createElement(h.a,{tourId:H&&H.id,tourName:H&&H.name,currentTour:H,tier:V,checkLogoURL:S,publicTour:B}),!K&&Q&&c.a.createElement(y.a,{mediaType:"panorama",tourData:H,togglePanoControls:q,showPanoControls:Q}),c.a.createElement(u.a,{closeShareModal:M,hasSingleButton:H.buttons.length,is360Pano:!0,miniMapView:L,panoRotating:r,primaryColor:P,setYPosition:N,showVRMode:j,stopIds:null===H||void 0===H?void 0:H.stopIds,stops:H&&G,tier:V,toggleAutoRotate:this.toggleAutoRotate,autoRotateDirection:i,toggleFullScreen:toggleVR:this.toggleVR,tourPublished:W,viewOnly:J,VRMode:w})),c.a.createElement("a-assets",null,c.a.createElement("img",{src:v.a,id:"exit-fullscreen-btn",alt:"",crossOrigin:"anonymous"})),e,X&&l&&c.a.createElement(b.a,{hotspotIcons:null===H||void 0===H?void 0:null===(t=H.styles)||void 0===t?void 0:t.hotspotIcons,hotspots:I.hotspots,setPauseAutoRotate:this.setPauseAutoRotate,history:k,changeStop:T,tourId:null===H||void 0===H?void 0:H.id,tourName:null===H||void 0===H?void 0:H.name,vrMode:w}),c.a.createElement("a-entity",{id:"camera-rig"},c.a.createElement("a-camera",{id:"camera",position:"0 0 0.2","user-height":"1.5","wasd-controls-enabled":"false","look-controls-enabled":"false","orbit-controls":"\n                    enableKeys:".concat(D,";\n                    keyRotateSpeed: 1;\n                    autoRotate: ").concat(r&&!o,";\n                    autoRotateSpeed: ").concat("clockwise"!==i?-.05:.05,";\n                    target: #cameratarget;\n                    enableDamping: true;\n                    enableZoom: true;\n                    dampingFactor: 0.11;\n                    rotateSpeed: -0.14;\n                    touchRotateSpeed: -0.05;\n                    minZoom: 1;\n                    maxZoom: 2;\n                    minDistance: 0.15;\n                    maxDistance: 0.15;\n                    maxPolarAngle: ").concat(a?1.57:3.14,";\n                    minPolarAngle: ").concat(a?1.57:0,";\n                    autoVRLookCam: true;\n                  ")},et&&!w&&c.a.createElement(f.a,{id:"fullscreen-exit",src:"#exit-fullscreen-btn",height:.4,width:.4,handleClick:this.handleExitFullscreen,position:"7.6 4.5 -6"})),w&&c.a.createElement("a-camera",{id:"vr-camera",position:"0 0 0","wasd-controls-enabled":"false","look-controls-enabeld":"true","disable-culling":!0},c.a.createElement("a-entity",{geometry:"primitive: box;",material:"shader: html; target: #htmlElement;"}),c.a.createElement("a-entity",{position:"0 0 -3",geometry:"primitive: ring; thetaLength: 360; radiusOuter: 0.06; radiusInner: 0.04; face: front;",material:"color: #009c6b; shader: flat; transparent: true;"}),c.a.createElement("a-entity",{position:"0 0 -3",geometry:"primitive: ring; thetaLength: 360; radiusOuter: 0.06; radiusInner: 0.04; face: front;",material:"color: #fff; shader: flat; transparent: true;",raycaster:"interval: 100; objects: .clickable; recursive: true;",cursor:"fuse: true; fuseTimeout: 500;",animation:"property: geometry.thetaLength; to: 0; startEvents: fusing; dur: 500;",animation__leave:"property: geometry.thetaLength; to: 360; startEvents: mouseleave; dur: 500;"}))),w&&c.a.createElement(d.a,{toggleVR:this.toggleVR,changeStop:T,activeStop:_,currentStop:I,toggleStopMedia:this.toggleStopMedia,initialView:R,isMainMediaPlaying:Z,toggleMainMediaStatus:Y}),c.a.createElement("a-entity",{id:"cameratarget",scale:"1 1 1",position:"0 0 0"}))),w&&A&&c.a.createElement(p.a,{name:I.name,description:I.description,toggleStopMedia:this.toggleStopMedia}))}}]),n}(l.Component);e.a=A},415:function(t,e,n){"use strict";var r=n(150),i=n(151),o=n(153),a=n(152),s=n(0),l=n.n(s),c=(n(159),n(483)),u=n.n(c),h=(n(253),n(330),n(157)),d=n(310),p=n(308),f=n(254),m=n(332),v=n.n(m),g=n(226),y=n(227),b=n(331),x=n(333),w=n(341),A=n(260),E={position:{x:0,y:0,z:-.2},rotation:{x:-3.508354649267438e-15,y:0,z:0}},_=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t){var i;return Object(r.a)(this,n),(i=e.call(this,t)).initializeHandleNewSrcFade=function(){i.sky&&i.sky.addEventListener("loaded",function(){console.log("loaded"),i.sky.emit("fadein"),i.setState({showHotspots:!0})})},i.sourceFadeTimer=function(){var t=i.props,e=t.id,n=t.initialView;setTimeout(function(){i.setState({id:e},},g.b)},i.setPanoView=function(t){var e=i.state,n=e.autoRotate,r=e.autoRotateDirection,o=i.props,a=o.autoRotate,s=o.autoRotateDirection;void 0!==a&&n!==a&&i.setState({autoRotate:a}),r!==s&&i.setState({autoRotateDirection:s}),t&&t.position&&t.rotation?Object(g.h)(i.camera,t):Object(g.h)(i.camera,E)},i.setVRView=function(t){t&&i.cameraRig.setAttribute("rotation",{y:t.y}),AFRAME.utils.device.isMobile()&&i.cameraRig.setAttribute("position",{x:0,y:-1.6,z:0})},i.setExitVRView=function(){i.cameraRig.setAttribute("rotation",{y:0}),i.cameraRig.setAttribute("position",{x:0,y:0,z:0})},i.cb=i.setDuration=function(){i.setState(function(){return{duration:i.video.duration}})},i.handlePlay=i.handleTimeUpdate=function(){i.setState(},i.handleNewStop=function(){i.setState({playing:!1})},i.addListeners=function(){var t=i.state,e=t.isIOS,n=t.id;i.camera.addEventListener("componentchanged",i.cb),i.video.addEventListener("loadedmetadata",i.setDuration),e&&n.includes(".m3u8")&&i.sky.addEventListener("materialvideoloadeddata",function(t){i.sky.setAttribute("material","shader","flat"),t.detail.texture.flipY=!0}),i.sky.addEventListener("materialvideoloadeddata",function(t){i.setState({showHotspots:!0},}),i.scene&&i.scene.addEventListener("contentopen",},i.removeListeners=function(){var t=i.state,e=t.isIOS,n=t.id;i.camera&&i.camera.removeEventListener("componentchanged",i.cb),i.video&&i.video.removeEventListener("loadedmetadata",i.setDuration),i.scene&&i.scene.removeEventListener("exit-vr",function(){console.log("exit-vr listener removed")}),i.sky&&i.sky.removeEventListener("loaded",,e&&n.includes(".m3u8")&&i.sky.removeEventListener("materialvideoloadeddata",,i.scene&&i.scene.removeEventListener("contentopen",function(){})},i.updateVRStates=function(t){t?i.setState({VRMode:!0}):t||i.setState({VRMode:!1,VRStopMedia:!1})},i.toggleVR=function(t){var e=i.props,n=e.tourData,r=e.history,o=e.aid;!i.state.VRMode&&t&&i.scene.hasLoaded?(Object(g.d)(n,r,i.scene,o),i.updateVRStates(!0)):(Object(g.e)(i.scene,n,o),i.updateVRStates(!1))},i.toggleStopMedia=i.initializeHandleExitVR=function(){i.scene.addEventListener("exit-vr",function(){i.updateVRStates(!1),Object(g.f)(!1),Object(g.g)(!1),i.setExitVRView()})},i.toggleAutoRotate=function(){var t=i.props.tourData,e=i.state.autoRotate;i.setState(function(){if(t){var n=t.id,r=t.name;Object(h.a)("".concat(n,"-").concat(r),"Auto-Rotate",e?"Start":"Stop")}})},i.setPauseAutoRotate=i.handleExitFullscreen=function(){"function"===typeof document.exitFullscreen&&document.exitFullscreen(),"function"===typeof document.webkitExitFullscreen&&document.webkitExitFullscreen(),"function"===typeof document.webkitCancelFullScreen&&document.webkitCancelFullScreen()},i.toggleVideoGaEvent=function(){var t=i.props.tourData,e=i.state.playing;if(t){var n=t.id,r=t.name,o=e?"Play":"Pause";Object(h.a)("".concat(n,"-").concat(r),"360\xba Video",o)}},i.handleVideoEnd=i.state={id:"",showPano:!0,playing:!1,currentTime:0,duration:0,autoRotate:!1,autoRotateDirection:"counterclockwise",pauseAutoRotate:!1,VRMode:!1,VRStopMedia:!1,showHotspots:!1,fetchingSource:!1,videoSource:"",videoSourceInitialized:!1,isIOS:!1,hotspotContentOpen:!1},i.camera=null,i.video=null,i.scene=null,i.hls=null,i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.id,n=AFRAME.utils.device.isIOS();this.setState({id:e,isIOS:n},function(){t.initialize(),t.setVideoSource(),e.includes("mp4")&&t.initializeHandleNewSrcFade()})}},{key:"initialize",value:function(){var t=this.props.initialView;this.cameraRig=document.getElementById("camera-rig"),this.camera=document.getElementById("camera"),this.video=document.getElementById("video"),this.audio=document.getElementById("audio"),this.sky=document.getElementById("sky"),this.scene=document.getElementById("scene"),this.addListeners(),this.initializeHandleExitVR(),this.setPanoView(t)}},{key:"setVideoSource",value:function(){var t,e,n=this,r=this.state,i=r.id,o=r.videoSourceInitialized,a=this.props,s=a.isMobile,l=a.history,c=s?1024:2160;if(l&&(t=l.location.pathname.includes("medialibrary")||l.location.pathname.includes("newstop")||l.location.pathname.includes("/edit/stop/")||l.location.pathname.includes("view")),i.includes(".m3u8")&&!t)e="https://res.cloudinary.com/concept3d/video/upload/sp_4k/videos360/".concat(i),this.setState({videoSource:e,videoSourceInitialized:!0},;else if(i.includes(".m3u8")&&t){var u="".concat(i.split(".")[0],".mp4");e="https://res.cloudinary.com/concept3d/video/upload/videos360/".concat(u),this.setState({videoSource:e}),this.initializeHandleNewSrcFade()}else this.video.preload="auto",e="https://res.cloudinary.com/concept3d/video/upload/w_".concat(c,",h_").concat(c,",c_limit/videos360/").concat(i),this.setState({videoSource:e})}},{key:"initializeHls",value:function(){var t=this,e=this.state,n=e.videoSource,r=e.isIOS,i=document.getElementById("video");i.preload="none",this.addListeners(),"MediaSource"in window&&MediaSource.isTypeSupported("video/MP2T")||r?(i.src=n,i.load()):u.a.isSupported()&&(this.hls=new u.a,this.hls.loadSource(n),this.hls.attachMedia(this.video),this.hls.on(u.a.Events.FRAG_LOADING,function(){t.setState({fetchingSource:!0})}),this.hls.on(u.a.Events.FRAG_LOADED,,this.handleHlsError(this.hls))}},{key:"destroyHls",value:,{key:"handleHlsError",value:function(t){t.on(u.a.Events.ERROR,function(e,n){if(n.fatal)switch(n.type){case u.a.ErrorTypes.NETWORK_ERROR:console.log("fatal network error encountered, trying to recover"),t.startLoad();break;case u.a.ErrorTypes.MEDIA_ERROR:console.log("fatal media error encountered, trying to recover"),t.recoverMediaError();break;default:console.log("fatal error, cannot recover"),t.destroy()}})}},{key:"componentDidUpdate",value:function(t,e){var n=this,r=this.state,i=r.playing,o=r.showPano,a=r.currentTime,s=r.duration,l=this.props,c=l.id,u=l.initialView,h=l.stopDescriptionMinimized,d=l.currentStop,p=l.activeStop;!e.showPano&&o&&this.initialize(),!e.playing&&i&&this.video.play(),e.playing&&!i&&this.video.pause(),void 0!==c&&t.id!==c&&this.video&&(this.hls&&this.destroyHls(),this.setState({showHotspots:!1,videoSourceInitialized:!1,videoSource:"",hotspotContentOpen:!1}),clearTimeout(this.sourceFadeTimer),this.sky.emit("fadeout"),this.sourceFadeTimer()),e.VRMode&&!this.state.VRMode&&(this.camera.setAttribute("active",!0),this.camera.setAttribute("look-controls","enabled",!1),AFRAME.utils.device.isIOS()&&setTimeout(400)),!e.VRMode&&this.state.VRMode&&(this.camera.setAttribute("active",!1),u.rotation?this.setVRView(u.rotation):this.setVRView(E.rotation)),t.stopDescriptionMinimized&&!h&&i&&this.handlePlay(),t.activeStop!==p&&this.setPauseAutoRotate(!1),i&&d&&!d.autoLoop&&a===s&&this.handleVideoEnd()}},{key:"componentWillUnmount",value:,{key:"render",value:function(){var t=this,e=this.state,n=e.autoRotate,r=e.autoRotateDirection,i=e.pauseAutoRotate,o=e.currentTime,a=e.duration,s=e.hotspotContentOpen,c=e.playing,u=e.showHotspots,h=e.VRMode,m=e.VRStopMedia,E=e.videoSource,_=this.props,T=_.activeStop,S=_.changeStop,M=_.checkLogoURL,C=_.closeShareModal,I=_.currentStop,k=_.history,R=_.initialView,L=_.isMainMediaPlaying,O=_.isMobile,D=_.miniMapView,P=_.panoHasKeyboardControl,B=_.primaryColor,F=_.publicTour,N=_.resetInitialView,U=_.setYPosition,j=_.showPanoControls,z=_.showVRMode,G=_.stops,V=_.tier,H=_.toggleMainMediaStatus,W=_.togglePanoControls,J=_.tourData,Z=_.tourPublished,Y=_.viewOnly,K=_.aid,Q=I&&I.hotspots,q=Q&&Object.keys(Q).length>0,X=I&&I.autoLoop,$=document.fullscreen||document.webkitCurrentFullScreenElement;return l.a.createElement(A.a,{onUp:function(e){var n=e.initial,r=e.target,i=e.xy,o="string"===typeof r.className&&r.className.includes("vr-mode");q||o||"canvas"!==r.localName||n[0]===i[0]&&n[1]===i[1]&&t.handlePlay()}},function(){var e;return l.a.createElement("main",{id:"video360",onMouseDown:N},l.a.createElement("a-scene",{id:"scene",cursor:"rayOrigin: mouse; fuseTimeout: 0;",raycaster:"objects: .clickable;","vr-mode-ui":"enabled: true","device-orientation-permission-ui":"enabled: false","loading-screen":"enabled: false",embedded:!0},"map"===D&&l.a.createElement(l.a.Fragment,null,J&&l.a.createElement(p.a,{currentTour:J,tier:V,checkLogoURL:M,publicTour:F}),!O&&j&&l.a.createElement(x.a,{mediaType:"360\xb0 video",tourData:J,togglePanoControls:W,showPanoControls:j}),l.a.createElement(d.a,{miniMapView:D,VRMode:h,closeShareModal:C,currentTime:o,duration:a,handlePlay:t.handlePlay,isVideo360:!0,panoRotating:n,playing:c,primaryColor:B,progress:o/a*100,setYPosition:U,showVRMode:z,stopIds:J&&J.stopIds,stops:J&&G,tier:V,toggleAutoRotate:t.toggleAutoRotate,autoRotateDirection:r,toggleFullScreen:toggleVR:t.toggleVR,tourPublished:Z,viewOnly:Y,minimizePlayButton:s})),l.a.createElement("a-videosphere",{id:"sky",opacity:"0",rotation:"0 180 0",src:"#video",animation__fadeout:"\n                    property: material.opacity;\n                    startEvents: fadeout;\n                    to: 0;\n                    dur: ".concat(g.b,"\n                  "),animation__fadein:"\n                    property: material.opacity;\n                    startEvents: fadein;\n                    to: 1;\n                    dur: ".concat(g.a,"\n                  ")}),l.a.createElement("a-entity",{id:"cameratarget"}),q&&u&&l.a.createElement(y.a,{history:k,handlePlay:t.handlePlay,changeStop:S,setPauseAutoRotate:t.setPauseAutoRotate,playing:c,hotspots:Q,hotspotIcons:null===J||void 0===J?void 0:null===(e=J.styles)||void 0===e?void 0:e.hotspotIcons,tourId:null===J||void 0===J?void 0:J.id,tourName:null===J||void 0===J?void 0:J.name,setActiveHotspot:function(e){return t.setState({activeHotspot:e})}}),l.a.createElement("a-entity",{id:"camera-rig"},l.a.createElement("a-camera",{id:"camera",position:"0 0 -0.2","wasd-controls-enabled":"false","orbit-controls":"\n                      autoRotate: ".concat(n&&!i,";\n                      autoRotateSpeed: ").concat("clockwise"!==r?-.05:.05,";\n                      target: #cameratarget;\n                      enableDamping: true;\n                      enableKeys:").concat(P,";\n                      enableZoom: true;\n                      dampingFactor: 0.11;\n                      rotateSpeed: -0.14;\n                      touchRotateSpeed: -0.05;\n                      minZoom: 1;\n                      maxZoom: 2;\n                      minDistance: 0.15;\n                      maxDistance: 0.15;\n                      autoVRLookCam: true;\n                      stopPropagation: ").concat(!O,";")},$&&!h&&l.a.createElement(f.a,{id:"fullscreen-exit",src:"#exit-fullscreen-btn",height:.4,width:.4,handleClick:t.handleExitFullscreen,position:"7.6 4.5 -6"})),h&&l.a.createElement("a-camera",{id:"vr-camera",position:"0 0 0","user-height":"0","wasd-controls-enabled":"false","look-controls-enabled":"true","disable-culling":!0},l.a.createElement("a-entity",{geometry:"primitive: box;",material:"shader: html; target: #htmlElement;"}),l.a.createElement("a-entity",{position:"0 0 -3",geometry:"primitive: ring; thetaLength: 360; radiusOuter: 0.06; radiusInner: 0.04;",material:"color: #009c6b; shader: flat; transparent: true;"}),l.a.createElement("a-entity",{position:"0 0 -3",geometry:"primitive: ring; thetaLength: 360; radiusOuter: 0.06; radiusInner: 0.04;",material:"color: #fff; shader: flat; transparent: true;",raycaster:"interval: 100; objects: .clickable; recursive: true;",cursor:"fuse: true; fuseTimeout: 500;",animation:"property: geometry.thetaLength; to: 0; startEvents: fusing; dur: 500;",animation__leave:"property: geometry.thetaLength; to: 360; startEvents: mouseleave; dur: 500;"}))),h&&l.a.createElement(w.a,{toggleVR:t.toggleVR,changeStop:S,activeStop:T,currentStop:I,toggleStopMedia:t.toggleStopMedia,initialView:R,handleVideoPlay:t.handlePlay,videoIsPlaying:c,video:!0,toggleMainMediaStatus:H,isMainMediaPlaying:L}),l.a.createElement("a-assets",{id:"assets"},l.a.createElement("video",{id:"video",preload:"auto",style:{display:"none"},autoPlay:!1,loop:X,crossOrigin:"anonymous",playsInline:!0,onTimeUpdate:t.handleTimeUpdate,src:E})),l.a.createElement("img",{src:v.a,id:"exit-fullscreen-btn",alt:"",crossOrigin:"anonymous"})),h&&m&&l.a.createElement(b.a,{name:I.name,description:I.description,toggleStopMedia:t.toggleStopMedia}))})}}]),n}(s.Component);e.a=_},436:437:438:function(t,e,n){var r=n(188);e.f=r},439:440:441:442:443:444:445:446:447:448:449:450:451:452:453:454:455:function(t,e){e.f=Object.getOwnPropertySymbols},456:457:458:459:460:461:462:463:464:465:466:467:468:function(t,e,n){},469:function(t,e,n){},470:function(t,e,n){},471:function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var i=n(0),o=n(15),a=n(472).default;r c=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this,n,r));return i.swipeable={x:null,y:null,swiping:!1,start:0},i.eventStart=i.eventStart.bind(i),i.eventMove=i.eventMove.bind(i),i.eventEnd=i.eventEnd.bind(i),i.mouseDown=i.mouseDown.bind(i),i.mouseMove=i.mouseMove.bind(i),i.mouseUp=i.mouseUp.bind(i),i.cleanupMouseListeners=i.cleanupMouseListeners.bind(i),i.setupMouseListeners=i.setupMouseListeners.bind(i),i.elementRef=i.elementRef.bind(i),i.setupTouchmoveEvent=i.setupTouchmoveEvent.bind(i),i.cleanupTouchmoveEvent=i.cleanupTouchmoveEvent.bind(i),i.hasPassiveSupport=a.hasSupport,i}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=e.prototype.componentDidUpdate=e.prototype.componentWillUnmount=function(){this.cleanupMouseListeners()},e.prototype.setupTouchmoveEvent=function(){this.element&&this.hasPassiveSupport&&this.element.addEventListener("touchmove",this.eventMove,{passive:!1})},e.prototype.setupMouseListeners=function(){document.addEventListener("mousemove",this.mouseMove),document.addEventListener("mouseup",this.mouseUp)},e.prototype.cleanupTouchmoveEvent=e.prototype.cleanupMouseListeners=function(){document.removeEventListener("mousemove",this.mouseMove),document.removeEventListener("mouseup",this.mouseUp)},e.prototype.mouseDown=function(t){this.props.trackMouse&&"mousedown"===t.type&&("function"===typeof this.props.onMouseDown&&this.props.onMouseDown(t),this.setupMouseListeners(),this.eventStart(t))},e.prototype.mouseMove=function(t){this.eventMove(t)},e.prototype.mouseUp=e.prototype.eventStart=e.prototype.eventMove=e.prototype.eventEnd=e.prototype.elementRef=e.prototype.render=e}(i.Component);c.propTypes={onSwiped:o.func,onSwiping:o.func,onSwipingUp:o.func,onSwipingRight:o.func,onSwipingDown:o.func,onSwipingLeft:o.func,onSwipedUp:o.func,onSwipedRight:o.func,onSwipedDown:o.func,onSwipedLeft:o.func,onTap:o.func,flickThreshold:o.number,delta:o.number,preventDefaultTouchmoveEvent:o.bool,stopPropagation:o.bool,nodeName:o.string,trackMouse:o.bool,disabled:o.bool,innerRef:o.func,children:o.node,rotationAngle:o.number},c.defaultProps={flickThreshold:.6,delta:10,preventDefaultTouchmoveEvent:!1,stopPropagation:!1,nodeName:"div",disabled:!1,rotationAngle:0},t.exports=c},472:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={update:;r.update(),e.default=r},473:function(t,e,n){},474:function(t,e,n){},475:function(t,e){t.exports="data:image/png;base64,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"},476:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAoCAYAAAA2cfJIAAAAAXNSR0IArs4c6QAACPFJREFUeAHtXGtMFUcUlkqtYOsDhIJFaFErIqJUtGpbQSxqbZVGjcYf1ldUfOsfo8Zn4ivGaKpGG41Rk6Y/FEWEVrHVULGipZYC1hhACtdHffAuFSpX7PdtmNv1srv3wd5rJXuSj9mdOXNm9szZmTNn9uLRxnnyRtV3gLcAH6BzE9ojNch1GqiH6Cqgsgl3kRYDdYDD5OFgjdfB/z7wLvCmg3UNdtdq4E+ILwR+BmrtbcpeA+DAfwgMBF61V7jB90I00IBWfwF+Amwagi0DMAb+hYyhLo0KQ8iEtMdqEtuqFSCfZfHA4KZrJAa9RBrg+HUHXgNuAc+AZqRmAF7gnAb0aVbDyHjZNNANHQ4FbgJm684rGcArYPoCoPUY1Do00AmPEQzkAs/NBEoG8CmYjDcfSmhlRCPoABTIn8vaAKJRGCtnMK5blQa4HHBncE88Fad7QfT4x4gbI221GhiNJ+NYS+QpLpDGAvJ7WZFxqYcGOnbs2HbRokVhsbGxvbp37x7QtWtXn6dPnzZWV1dXlZaW3s/IyCjcu3fvzZqamqd6tKcig3EcxnTOslzEAbrgejEgnxFYbpBOGliwYEHPFStWfNalSxeuxapUWVlZvX379rR9+/YVqTK1vIAxgi+BWuEDcOoPbLlcQ4KSBg4dOvTRkiVLEry8vGyek5Bn5MiRkb169Wo8ffq0SUmeDnkc93ZAgZjyg3QQ2kzE7t273+/fv38IC3Jzc0uhhKtyJr4VU6ZMeY95eXl5psWLF1/htbwe760pJibmGPN27NgRDfnSdrWsrOyvqVOn/iB4AwMD2x05cuSTV0DMO3bs2G+HDx8uOXPmzOeCRy1taGgwjx07NlWt3JF8Dv6kSZPiHKnj4eHRRtSZPXt2piN1HeB9m7w0gK5N4L2uFBERETRgwABpSxkZGRl24cIF06lTp3hoIRGs3EeUNzY2WtY9eT3Bq5RiMEtmzZo1pi2I5evXr3+wcePGfF7v2rUrZsiQIQN4XVFRUZmUlJRKWxg8eHAk87QIBsApssUGMHfu3NCJEyc6NPjyfrHu1atX7x44cICnfXqTNO40gDC9JSvJg/I9tm7dOv7s2bMH6+vrG5V4lPLu3bt3/8GDBxVKZefPny9LS0u7lJCQEMPyefPmjT569GhRcHCw96hRo4aIOmg3DWur2dPT0+PGjRuFIh+zhB/WZB5jtykvL69AO+W8fvLkiZlpSwhyPdesWZPAt1mJHj58+Mjf399PqUzksS5lHD9+fA/7L/J1TMNoAAE6CtQU1a1bt4A9e/YMmzNnziVNRllhenp6zrJly3jEqUjwqjOHDRsW4efn59sBtH///ngo/w1MCtLUn52dnSfeILPZ/Gzo0KHfCEGYjT4ZMWIEzzraZGZm5k+fPj1DlLU0Xbp0aXinTp06qsmJjo4+kJKS8nlUVFRfNR7mUwZlbdiwIU+Lz8myACrJsid0UohD1SZMmBCDbZCvQ5U0mLll2rRpk2W6hjFE9enTpyerPH78uG7+/PnpGtVdVgQ/hd9MqBK2fmboIQn+zikYpubbbUuWaiO2C16nAUhToG3elnFcv35dCkFiGvbE+jy+yTezKRQecT+s9eMF6DhaV4KzV3r58uUc63w4YOcKCwtVj0Kt+fW8DwkJsWtmXbt2bS7W+q8ePXokLT9KfbBXllJdG3mSAbhlBsBUfCsrK+s3dig0NDQYe12GnW0S1vMgvtUCcCb9lSotXLjwewRVLI7knTt3/sT6KbWnxO/qPAR9VKd/67YRACofOHDgVzk5Ob9bl/HeEVlK9TXyJAPQnH40KjtcBK84vba29m9WnDZtWjycMJtKwptRVlBQcEugpKSkSqlh+BVhYjfA8oCAAH89lxqlNrXynoG0ypXKsBIoOsfOyFKSr5THJYCHA24hk8lUDyfwOzbWvn37dvHx8RZPXa0D8PKzBw0a9LXAtm3bbljz9u7du8OMGTNGyfOx0rTduXPnOHuXGnldPa7/Atkrh4Z67dq1RDxjP6U6jshSqq+RV+tWA2BHOID5+fk3ec1BYtpSQth0tLe3txRlKy4uNgmnqkePHiGbN2+Oaql8Z+pjprLEO7Tqr1q1qu+JEycSuYtR47NXllp9jXz3GwA7k5iY+G1dXd0/Gh2zFMGjD1y9enVfOSyFuICX3wNbKunN4cDDSUw+efLkj4KHMwNnCHHvrvTixYuWeINSm76+vq9ii5uwcuXKSXSMlXhEni1Zgs+JtJYN3wcinKjsdBXsCGrhuZ/D4I2zJYTRPBHRE7xbtmyRnCUGW3DAwg9YJMJOAX5mVhXCzpeHDx/ej34AZwbEBsbExcWdEHzuSLH8/D5z5syRnTt3VvRzrly5MsdWIIj9xHaxhrJc1Of7XAKk6dhFDaiKheX/WlRUVKLKYEcBpv5YHx8fnmRKilq+fLkUN8f+v3HdunWpwnmChx2htH20owmnWRifwPKTouYL2jP4rIsYR4oLj4dvijjlIjwpY8MG6ayBgwcPfjR58uQ4Z8TiAOsCdjeuOgwqQ5/2CieMP+0KcqaTRh1tDaSmpppw6PUsPDz8HW3O/0r55icnJ2fgJPDif7m6X/0KicXCAGgNDMxwSTBIZw3gXL8Uhzl34KyG2PomgB+E4FQzCRHCZpFNHbvF2M9xoEEsAZT9MfAhLwxyjQYQ0XvukzBxEolBr7p9+7a7Pgnjw10CfuCF3AD4C5LlgLSfZqFBrVID3H7vBKRtuFgC+KSMo1cD4bwxqNVqIBlPZglSyQ2AT/wQYGyAvyIxqPVpgFP/c5/lWRsAH/kPgB6rW46J2aBBbtEAI5OnrVtS8vp5isWPLrkcGNQ6NMCxTAKanVAqzQB85AYgG2AMnT8nMujl1QD3+18DHNNmpGYAZKS18CseHhf3BOQ7Btwa9D/XAL8t4KdyGUCzNx95Etk7qDyq/ADoD2gZjSTU+PNCNcDdHD8gpcNXbqsn9hqAkMOTLQaL3gM8RaaR/i808AS9uAZkATX29shRA5DLDcJNBPAWwOCRV1NqGAYU4UIyQ3Z9E/iv4UwAv5K6CzhM/wIo9dnZYlOi2gAAAABJRU5ErkJggg=="},477:function(t,e){t.exports="data:image/png;base64,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"},478:function(t,e){t.exports="data:image/png;base64,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"},479:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAHzElEQVR4nO2d+29URRTHvywttLBQKK8mwCoCXWh5iCRWQ8SQiAsaHjEmvpqY9BdDww/6O/zUP0B/MPwDSwzRqBiRYEwgwUS3RsSCIBQQulbSB13aUlu0uDWDZ9fby33M3b0zd+bu/fzSTVnuPfeczsx3Zs49g4iICAdmaOCc2QCWAVgKoB7AAgDzAdQCmAMgRt9h/AUgD2AcwASAUQDDAHIABgD003eURcWAMEevBrAKwEoAS3y0cwrAIIDfAdwEcIMCpwyqBCQOoAlAMwUhJum+eQrOJQC/Argn6b62BBkQdu+1AJ4C0CgxCHaw4HQD+AnANWpN0gkiIDMBPAngWQCLg3hoDu4A+B7AzwD+kXljmQFhLWALgO0A6iTetxxGAJwFcJ5akHBkBYSNCy8DaJB0P7/pA/AVjTdCER0QJktfoJahg8R2Yoq6sG9IVgtBpJPWAdhHMjZMMJn8BYArIp5ppqBrvghgF4BqAdcPmmqS5zUAbvmtxvxuIQsBvApguc/XVZXbAD4BcNcv+/xsIQkAbwNY5OM1VWcegI0AevyaVPoVEDbLft2wplRJzKKg3PajpfgRkM0AXhE0HukCe/YNFJCBcmwu14ksGPsVWPZQAeaD9bS63F+qPeUEpIlaRhSM/2EiKUkryoOlXKDUgKygMaOqxP8fZgpB+Y32YzxRSkAWkpqqqXTPOxCjoFzxut/itbthk6LXAMz1w+oCmUzmYDqdfqu6unpuiLrAueQrT5Njrw+/W9QCYWtr65pcLvfujh07NoYoKGzr+SUv/8HLgzfRZpIw4vF41enTp/dnMpn2urq6xSEJzBbyHRe8D8ya3x5xNk+npaVlUW9v7zsHDhx4nmzUPTB7eLt53gfdLXvVlrWWI0eObL969ep7iURiueZBqeXtungecjXNQgOhsbEx3tPT03bo0KGU5oN+M/nSEbeHY/+eEm+rOx0dHU9ns9mDmzZtWq1xUFJutrs92BZKUFOChoaGmq6urjfT6fQbmraWpeRTW5weqIoSEpRDc4m83WmFw+lhNqucHaKxRK4j31pi9xBsPWabPBtLR1OJvM1ut9bO+LWU2KwFGkrkevLxI9gZvlWebf6hmUS29LGVwXG76OmCJhJ5Le3JT8PK2OYwrCFpIJFjVmtcVkZyL4TpgOIS2TUgtZSHGyoUlsgrzWuEZsPWhHmPXEGJHCOfT/uFkccDMUsiCkrkaT43GxO67soOhSTyNJ8bjZhNL1hWFApI5CXGjE+jAYtC8A5HSQQskWfQ3vtDjDdW9X0/aQQokS0DUklZ67YEJJEXFj5EAbFBskReUPgQs/plxH9IlMjzrQIyJ4qDNRIkctH3xguH7eVM3xEokYu+N140eq2AA6NE9vGyxaR388QwIhhmFe4avd/hkb6+vvupVOqzCxcu3BBxfWMLUbqwlwocPnz4h0Qi8SEFw8/aJ38XPhhbiJTiKjrS3d09tnPnzo+z2ewfgvxUrDhkbCFKVVZTgbGxsQft7e1nk8nk+wKDAaPvjS1kXKfUH9F0dnYOpVKpYyMjIzkJvUexmI0xIMP0MmdFw1rF3r17T5w5c+aixG68+HKoMSC5Sg/G0aNHr7e1tR2fnJyckDymDhc+GANyR6IBSmGSskGIm2JJDuOgXpEBEShlvVCs/GBsIUNU+6kidg0lSFlepoz1UcwTw9C3EolSlhdWguN+4bvmpZNsmBMdJEtZXqYV1jQH5Jaume9OBCRlebll/J45INfJ4NAsxQcoZXnIk8+LmAMyQU3oMcUM94wCUpaHXvOSlVVLuKyMuSWiiJTl4ZL5O1b7IZd53qdWEYWkLA95qz9+K6ffo9MBtEFBKcvDdatKpnY7hueoAJfyKCplefjR6jt2AblGi43KLscrLmXdyNn1QnbjBJvOfxeYuS4wKVtfX/+BpsEA+dayRLlTkgM7CeA5lao5aCJl3Rgl31ripKQe0GEmSqCRlHXjLPnWErc0IHayzDNBrm9pJmXdGKQzrmxxm2swB5wKwnJNpawbp9yegydR7gbNKJulmKy3lHXiMvnSEd7MxZMAnhCdkK25lHVignzoCu/yyJ8AvhRpcQikrBMn2N8bzxe9btfucytRF/EI5+nMKi68LiCeLOcohgpkgLerKuC1GH+eqv5vMKbQR1jCuvk0/RQWENAAlaW6gdFLPtZMsmGxlN6k1PNDRilDZX2lFhtwgGWyf0QHhXmmnBN2BikFcl0UlCJswfB4OYdOlnsGVT8FJRkF5WHL+BzAxXIu4sfJav3UWpIVPKawN6CO+XEcq19H3Q1SflEypMetOjFOaqqkMcOMn2cPjtB6TcKq2mZIuU3BKOvsQiN+HwbJclS7qJWsCPG4wgbvTgCf+n2Ut4jTOfO0qtlP52WErQuboEBkRKy5if4LjtMx3oEdCOMzv9CeBtdCYSnI6lLWUPKdrpn1TLR8bc7DFYHMPj5Gp7wplTjhAhMq39K2q5QtgSAG3Spawm9RuKzgEI0R550SEkQQpAqaQQXpt9LPoCeVeUpeO0c/LfOmRKOKLJ1HddCbqI6trODk6ZWASzSHeiTXVjYqzhNqSS6voknmYh/tnKJVarZ9cJPkuVIlRXSYuNXQ6WbLqHrnAqpRWEul8aoMc51J6vPHydGjtPh5l+ZFA8YXLCMiIrQCwL/PoJk1cVGysgAAAABJRU5ErkJggg=="},480:function(t,e,n){},481:function(t,e,n){},482:function(t,e,n){},483:function(t,n,r){var i;"undefined"!==typeof window&&(i=function(){return {"./node_modules/eventemitter3/index.js":"./node_modules/url-toolkit/src/url-toolkit.js":"./node_modules/webworkify-webpack/index.js":"./src/config.ts":"./src/controller/abr-controller.ts":function(t,e,n){"use strict";n.r(e);var r=n("./src/polyfills/number.ts"),i=n("./src/utils/ewma-bandwidth-estimator.ts"),o=n("./src/events.ts"),a=n("./src/utils/buffer-helper.ts"),s=n("./src/errors.ts"),l=n("./src/types/loader.ts"),c=n("./src/utils/logger.ts");function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=function(){ar e,n,h,d=t.prototype;return d.registerListeners=function(){var t=this.hls;t.on(o.Events.FRAG_LOADING,this.onFragLoading,this),t.on(o.Events.FRAG_LOADED,this.onFragLoaded,this),t.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),t.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(o.Events.ERROR,this.onError,this)},d.unregisterListeners=function(){var t=this.hls;t.off(o.Events.FRAG_LOADING,this.onFragLoading,this),t.off(o.Events.FRAG_LOADED,this.onFragLoaded,this),t.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),t.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.off(o.Events.ERROR,this.onError,this)},d.destroy=d.onFragLoading=d.onLevelLoaded=d._abandonRulesCheck=function(){var t=this.fragCurrent,e=this.partCurrent,n=this.hls,i=n.autoLevelEnabled,s=n.config,l=n.media;if(t&&l){var u=e?e.stats:t.stats,h=e?e.duration:t.duration;if(u.aborted)return c.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(i&&!l.paused&&l.playbackRate&&l.readyState){var d=performance.now()-u.loading.start,p=Math.abs(l.playbackRate);if(!(d<=500*h/p)){var f=n.levels,m=n.minAutoLevel,v=f[t.level],g=u.total||Math.max(u.loaded,Math.round(h*v.maxBitrate/8)),y=Math.max(1,u.bwEstimate?u.bwEstimate/8:1e3*u.loaded/d),b=(g-u.loaded)/y,x=l.currentTime,w=(a.BufferHelper.bufferInfo(l,x,s.maxBufferHole).end-x)/p;if(!(w>=2*h/p||b<=w)){var A,E=Number.POSITIVE_INFINITY;for(A=t.level-1;A>m;A--){if((E=h*f[A].maxBitrate/(6.4*y))<w)break}if(!(E>=b)){var _=this.bwEstimator.getEstimate();c.logger.warn("Fragment "+t.sn+(e?" part "+e.index:"")+" of level "+t.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+A+"\n      Current BW estimate: "+(Object(r.isFiniteNumber)(_)?(_/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+b.toFixed(3)+" s\n      Estimated load time for the next fragment: "+E.toFixed(3)+" s\n      Time to underbuffer: "+w.toFixed(3)+" s"),n.nextLoadLevel=A,this.bwEstimator.sample(d,u.loaded),this.clearTimer(),t.loader&&(this.fragCurrent=this.partCurrent=null,t.loader.abort()),n.trigger(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:e,stats:u})}}}}}},d.onFragLoaded=d.onFragBuffered=d.onError=d.clearTimer=d.getNextABRAutoLevel=function(){var t=this.fragCurrent,e=this.partCurrent,n=this.hls,r=n.maxAutoLevel,i=n.config,o=n.minAutoLevel,s=n.media,l=e?e.duration:t?t.duration:0,u=s?s.currentTime:0,h=s&&0!==s.playbackRate?Math.abs(s.playbackRate):1,d=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,p=(a.BufferHelper.bufferInfo(s,u,i.maxBufferHole).end-u)/h,f=this.findBestLevel(d,o,r,p,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(f>=0)return f;c.logger.trace((p?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var m=l?Math.min(l,i.maxStarvationDelay):i.maxStarvationDelay,v=i.abrBandWidthFactor,g=i.abrBandWidthUpFactor;if(!p){var y=this.bitrateTestDelay;if(y)m=(l?Math.min(l,i.maxLoadingDelay):i.maxLoadingDelay)-y,c.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*m)+" ms"),v=g=1}return f=this.findBestLevel(d,o,r,p+m,v,g),Math.max(f,0)},d.findBestLevel=e=t,(n=[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this.bwEstimator;if(-1!==t&&(!e||!e.canEstimate()))return t;var n=this.getNextABRAutoLevel();return-1!==t&&(n=Math.min(t,n)),n},set:function(t){this._nextAutoLevel=t}}])&&u(e.prototype,n),h&&u(e,h),t}();e.default=h},"./src/controller/audio-stream-controller.ts":function(t,e,n){"use strict";n.r(e);var r=n("./src/polyfills/number.ts"),i=n("./src/controller/base-stream-controller.ts"),o=n("./src/events.ts"),a=n("./src/utils/buffer-helper.ts"),s=n("./src/controller/fragment-tracker.ts"),l=n("./src/types/level.ts"),c=n("./src/types/loader.ts"),u=n("./src/loader/fragment.ts"),h=n("./src/demux/chunk-cache.ts"),d=n("./src/demux/transmuxer-interface.ts"),p=n("./src/types/transmuxer.ts"),f=n("./src/controller/fragment-finders.ts"),m=n("./src/utils/discontinuities.ts"),v=n("./src/errors.ts"),g=n("./src/utils/logger.ts");function y(){return(y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){var e,n;=t,(e=x).prototype=Object.create(n.prototype),e.prototype.constructor=e,b(e,n);var w=x.prototype;return w.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},w._registerListeners=function(){var t=this.hls;t.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(o.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(o.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(o.Events.ERROR,this.onError,this),t.on(o.Events.BUFFER_RESET,this.onBufferReset,this),t.on(o.Events.BUFFER_CREATED,this.onBufferCreated,this),t.on(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(o.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},w._unregisterListeners=function(){var t=this.hls;t.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.off(o.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(o.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(o.Events.ERROR,this.onError,this),t.off(o.Events.BUFFER_RESET,this.onBufferReset,this),t.off(o.Events.BUFFER_CREATED,this.onBufferCreated,this),t.off(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(o.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},w.onInitPtsFound=w.startLoad=w.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_TRACK:var e,n=this.levels,r=this.trackId,o=null===n||void 0===n?void 0:null===(e=n[r])||void 0===e?void 0:e.details;if(o){if(this.waitForCdnTuneIn(o))break;this.state=i.State.WAITING_INIT_PTS}break;case i.State.FRAG_LOADING_WAITING_RETRY:var s,l=performance.now(),c=this.retryDate;(!c||l>=c||null!==(s=this.media)&&void 0!==s&&s.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=i.State.IDLE);break;case i.State.WAITING_INIT_PTS:var u=this.waitingData;if(u){var h=u.frag,d=u.part,p=u.cache,m=u.complete;if(void 0!==this.initPTS[h.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.FRAG_LOADING;var v={frag:h,part:d,payload:p.flush(),networkDetails:null};this._handleFragmentLoadProgress(v),m&&t.prototype._handleFragmentLoadComplete.call(this,v)}else if(this.videoTrackCC!==this.waitingVideoCC)g.logger.log("Waiting fragment cc ("+h.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var y=this.getLoadPosition(),b=a.BufferHelper.bufferInfo(this.mediaBuffer,y,this.config.maxBufferHole);Object(f.fragmentWithinToleranceTest)(b.end,this.config.maxFragLookUpTolerance,h)<0&&(g.logger.log("Waiting fragment cc ("+h.cc+") @ "+h.start+" cancelled because another fragment at "+b.end+" is needed"),this.clearWaitingFragment())}}else this.state=i.State.IDLE}this.onTickEnd()},w.clearWaitingFragment=w.onTickEnd=w.doTickIdle=w.getMaxBufferLength=w.onMediaDetaching=w.onAudioTracksUpdated=w.onAudioTrackSwitching=function(t,e){var n=!!e.url;this.trackId=e.id;var r=this.fragCurrent;null!==r&&void 0!==r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.audioSwitch=!0,this.state=i.State.IDLE):this.state=i.State.STOPPED,this.tick()},w.onManifestLoading=w.onLevelLoaded=function(t,e){this.mainDetails=e.details},w.onAudioTrackLoaded=w._handleFragmentLoadProgress=function(t){var e,n=t.frag,r=t.part,o=t.payload,a=this.config,s=this.trackId,l=this.levels;if(l){var u=l[s];console.assert(u,"Audio track is defined on fragment load progress");var f=u.details;console.assert(f,"Audio track details are defined on fragment load progress");var m=a.defaultAudioCodec||u.audioCodec||"mp4a.40.2",v=this.transmuxer;v||(v=this.transmuxer=new d.default(this.hls,c.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var y=this.initPTS[n.cc],b=null===(e=n.initSegment)||void 0===e?void 0:e.data;if(void 0!==y){var x=r?r.index:-1,w=-1!==x,A=new p.ChunkMetadata(n.level,n.sn,n.stats.chunkCount,o.byteLength,x,w);v.push(o,b,m,"",n,r,f.totalduration,!1,A,y)}else{g.logger.log("Unknown video PTS for cc "+n.cc+", waiting for video PTS before demuxing audio frag "+n.sn+" of ["+f.startSN+" ,"+f.endSN+"],track "+s),(this.waitingData=this.waitingData||{frag:n,part:r,cache:new h.default,complete:!1}).cache.push(new Uint8Array(o)),this.waitingVideoCC=this.videoTrackCC,this.state=i.State.WAITING_INIT_PTS}}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},w._handleFragmentLoadComplete=w.onBufferReset=w.onBufferCreated=w.onFragBuffered=w.onError=w.onBufferFlushed=w._handleTransmuxComplete=w._bufferInitSegment=w.loadFragment=w.completeAudioSwitch=x}(i.default);e.default=x},"./src/controller/audio-track-controller.ts":function(t,e,n){"use strict";n.r(e);var r=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/controller/base-playlist-controller.ts"),a=n("./src/types/loader.ts");function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){var e,n;=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,l(e,n);var c,u,h,d=o.prototype;return d.registerListeners=function(){var t=this.hls;t.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),t.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(r.Events.ERROR,this.onError,this)},d.unregisterListeners=d.destroy=d.onManifestLoading=d.onManifestParsed=d.onAudioTrackLoaded=d.onLevelLoading=function(t,e){this.switchLevel(e.level)},d.onLevelSwitching=function(t,e){this.switchLevel(e.level)},d.switchLevel=d.onError=function(e,n){t.prototype.onError.call(this,e,n),!n.fatal&&n.context&&n.context.type===a.PlaylistContextType.AUDIO_TRACK&&n.context.id===this.trackId&&n.context.groupId===this.groupId&&this.retryLoadingOrFail(n)},d.setAudioTrack=d.selectInitialTrack=d.findTrackId=function(t){for(var e=this.tracksInGroup,n=0;n<e.length;n++){var r=e[n];if((!this.selectDefaultTrack||r.default)&&(!t||t===r.name))return r.id}return-1},d.loadPlaylist=c=o,(u=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:])&&s(c.prototype,u),h&&s(c,h),o}(o.default);e.default=c},"./src/controller/base-playlist-controller.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return l});var r=n("./src/polyfills/number.ts"),i=n("./src/types/level.ts"),o=n("./src/controller/level-helper.ts"),a=n("./src/utils/logger.ts"),s=n("./src/errors.ts"),l=function(){ar e=t.prototype;return e.destroy=e.onError=e.clearTimer=e.startLoad=e.stopLoad=function(){this.canLoad=!1,this.clearTimer()},e.switchParams=e.loadPlaylist=function(t){},e.shouldLoadTrack=e.playlistLoaded=function(t,e,n){var r=this,i=e.details,a=e.stats,s=a.loading.end?Math.max(0,self.performance.now()-a.loading.end):0;if(i.advancedDateTime=Date.now()-s,i.live||null!==n&&void 0!==n&&n.live){if(i.reloaded(n),n&&this.log("live playlist "+t+" "+(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:"MISSED")),n&&i.fragments.length>0&&Object(o.mergeDetails)(n,i),!this.canLoad||!i.live)return;var l,c=void 0,u=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var h=this.hls.config.lowLatencyMode,d=i.lastPartSn,p=i.endSN,f=i.lastPartIndex,m=d===p;-1!==f?(c=m?p+1:d,u=m?h?0:f:f+1):c=p+1;var v=i.age,g=v+i.ageHeader,y=Math.min(g-i.partTarget,1.5*i.targetduration);if(y>0){if(n&&y>n.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+n.tuneInGoal+" to: "+y+" with playlist age: "+i.age),y=0;else{var b=Math.floor(y/i.targetduration);if(c+=b,void 0!==u)u+=Math.round(y%i.targetduration/i.partTarget);this.log("CDN Tune-in age: "+i.ageHeader+"s last advanced "+v.toFixed(2)+"s goal: "+y+" skip sn "+b+" to part "+u)}i.tuneInGoal=y}if(l=this.getDeliveryDirectives(i,e.deliveryDirectives,c,u),h||!m)return void this.loadPlaylist(l)}else l=this.getDeliveryDirectives(i,e.deliveryDirectives,c,u);var x=Object(o.computeReloadInterval)(i,a);void 0!==c&&i.canBlockReload&&(x-=i.partTarget||1),this.log("reload live playlist "+t+" in "+Math.round(x)+" ms"),this.timer=self.setTimeout(function(){return r.loadPlaylist(l)},x)}else this.clearTimer()},e.getDeliveryDirectives=e.retryLoadingOrFail=t}()},"./src/controller/base-stream-controller.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"State",function(){return w}),n.d(e,"default",function(){return A});var r=n("./src/polyfills/number.ts"),i=n("./src/task-loop.ts"),o=n("./src/controller/fragment-tracker.ts"),a=n("./src/utils/buffer-helper.ts"),s=n("./src/utils/logger.ts"),l=n("./src/events.ts"),c=n("./src/errors.ts"),u=n("./src/types/transmuxer.ts"),h=n("./src/utils/mp4-tools.ts"),d=n("./src/utils/discontinuities.ts"),p=n("./src/controller/fragment-finders.ts"),f=n("./src/controller/level-helper.ts"),m=n("./src/loader/fragment-loader.ts"),v=n("./src/crypt/decrypter.ts"),g=n("./src/utils/time-ranges.ts"),y=n("./src/types/loader.ts");function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},A=function(t){var e,n;=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,x(e,n);var A,E,_,T=i.prototype;return T.doTick=function(){this.onTickEnd()},T.onTickEnd=function(){},T.startLoad=function(t){},T.stopLoad=T._streamEnded=T.onMediaAttached=T.onMediaDetaching=T.onMediaSeeking=T.onMediaEnded=T.onKeyLoaded=T.onHandlerDestroying=T.onHandlerDestroyed=T.loadKey=T.loadFragment=T._loadFragForPlayback=T.flushMainBuffer=T._loadInitSegment=T.fragContextChanged=T.fragBufferedComplete=T._handleFragmentLoadComplete=T._handleFragmentLoadProgress=function(t){},T._doFragLoad=T.doFragPartsLoad=T.handleFragLoadError=T._handleTransmuxerFlush=T.getCurrentContext=T.bufferFragmentData=T.flushBufferGap=T.getFwdBufferInfo=T.getMaxBufferLength=T.reduceMaxBufferLength=T.getNextFragment=T.getNextPart=T.loadedEndOfParts=T.getInitialLiveFragment=T.getFragmentAtPosition=T.synchronizeToLiveEdge=T.alignPlaylists=T.waitForCdnTuneIn=T.setStartPosition=T.getLoadPosition=T.handleFragLoadAborted=T.resetFragmentLoading=T.onFragmentOrKeyLoadError=T.afterBufferFlushed=T.resetLoadingState=T.resetLiveStartWhenNotLoaded=T.updateLevelTiming=T.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},A=i,(E=[{key:"state",get:function(){return this._state},set:])&&b(A.prototype,E),_&&b(A,_),i}(i.default)},"./src/controller/buffer-controller.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return p});var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),o=n("./src/utils/logger.ts"),a=n("./src/errors.ts"),s=n("./src/utils/buffer-helper.ts"),l=n("./src/utils/mediasource-helper.ts"),c=n("./src/loader/fragment.ts"),u=n("./src/controller/buffer-operation-queue.ts"),h=Object(l.getMediaSource)(),d=/([ha]vc.)(?:\.[^.,]+)+/,p=function(){ar e=t.prototype;return e.hasSourceTypes=e.destroy=function(){this.unregisterListeners(),this.details=null},e.registerListeners=function(){var t=this.hls;t.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.on(i.Events.BUFFER_RESET,this.onBufferReset,this),t.on(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),t.on(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),t.on(i.Events.BUFFER_EOS,this.onBufferEos,this),t.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(i.Events.FRAG_PARSED,this.onFragParsed,this),t.on(i.Events.FRAG_CHANGED,this.onFragChanged,this)},e.unregisterListeners=e._initSourceBuffer=e.onManifestParsed=e.onMediaAttaching=e.onMediaDetaching=e.onBufferReset=e.onBufferCodecs=function(t,e){var n=this,r=this.getSourceBufferTypes().length;Object.keys(e).forEach(function(t){if(r){var i=n.tracks[t];if(i&&"function"===typeof i.buffer.changeType){var o=e[t],a=o.codec,s=o.levelCodec,l=o.container;if((i.levelCodec||i.codec).replace(d,"$1")!==(s||a).replace(d,"$1")){var c=l+";codecs="+(s||a);n.appendChangeType(t,c)}}}else n.pendingTracks[t]=e[t]}),r||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},e.appendChangeType=e.onBufferAppending=e.onBufferFlushing=e.onFragParsed=e.onFragChanged=e.onBufferEos=e.onLevelUpdated=e.flushBackBuffer=e.updateMediaElementDuration=e.updateSeekableRange=e.checkPendingTracks=e.createSourceBuffers=e._onSBUpdateStart=e._onSBUpdateEnd=e._onSBUpdateError=e.removeExecutor=e.appendExecutor=e.blockBuffers=e.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},e.addBufferListener=e.removeBufferListeners=t}()},"./src/controller/buffer-operation-queue.ts":"./src/controller/cap-level-controller.ts":"./src/controller/eme-controller.ts":"./src/controller/fps-controller.ts":function(t,e,n){"use strict";n.r(e);var r=n("./src/events.ts"),i=n("./src/utils/logger.ts"),o=);e.default=o},"./src/controller/fragment-finders.ts":"./src/controller/fragment-tracker.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"FragmentState",function(){return r}),n.d(e,"FragmentTracker",function(){return a});var r,i=n("./src/events.ts"),o=n("./src/types/loader.ts");!r||(r={}));var a=function(){ar e=t.prototype;return e._registerListeners=function(){var t=this.hls;t.on(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),t.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),t.on(i.Events.FRAG_LOADED,this.onFragLoaded,this)},e._unregisterListeners=e.destroy=e.getAppendedFrag=e.getBufferedFrag=e.detectEvictedFragments=e.detectPartialFragments=e.fragBuffered=e.getBufferedTimes=e.getPartialFragment=e.getState=e.backtrack=e.getBacktrackData=e.isTimeBuffered=e.onFragLoaded=e.onBufferAppended=e.onFragBuffered=e.hasFragment=e.removeFragmentsInRange=e.removeFragment=e.removeAllFragments=t}();"./src/controller/gap-controller.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"STALL_MINIMUM_DURATION_MS",function(){return s}),n.d(e,"MAX_START_GAP_JUMP",function(){return l}),n.d(e,"SKIP_BUFFER_HOLE_STEP_SECONDS",function(){return c}),n.d(e,"SKIP_BUFFER_RANGE_START",function(){return u}),n.d(e,"default",function(){return h});var r=n("./src/utils/buffer-helper.ts"),i=n("./src/errors.ts"),o=n("./src/events.ts"),a=n("./src/utils/logger.ts"),s=250,l=2,c=.1,u=.05,h=function(){ar e=t.prototype;return e.destroy=e.poll=function(t){var e=this.config,n=this.media,i=this.stalled,o=n.currentTime,c=n.seeking,u=this.seeking&&!c,h=!this.seeking&&c;if(this.seeking=c,o===t){if((h||u)&&(this.stalled=null),!n.paused&&!n.ended&&0!==n.playbackRate&&r.BufferHelper.getBuffered(n).length){var d=r.BufferHelper.bufferInfo(n,o,0),p=d.len>0,f=d.nextStart||0;if(p||f){if(c){var m=d.len>l,v=!f||f-o>l&&!this.fragmentTracker.getPartialFragment(o);if(m||v)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var g,y=Math.max(f,d.start||0)-o,b=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,x=(null===b||void 0===b?void 0:null===(g=b.details)||void 0===g?void 0:g.live)?2*b.details.targetduration:l;if(y>0&&y<=x)return void this._trySkipBufferHole(null)}var w=self.performance.now();if(null!==i){var A=w-i;!c&&A>=s&&this._reportStall(d.len);var E=r.BufferHelper.bufferInfo(n,o,e.maxBufferHole);this._tryFixBufferStall(E,A)}else this.stalled=w}}}else if(this.moved=!0,null!==i){if(this.stallReported){var _=self.performance.now()-i;a.logger.warn("playback not stuck anymore @"+o+", after "+Math.round(_)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},e._tryFixBufferStall=e._reportStall=e._trySkipBufferHole=e._tryNudgeBuffer=t}()},"./src/controller/id3-track-controller.ts":"./src/controller/latency-controller.ts":"./src/controller/level-controller.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return f});var r=n("./src/types/level.ts"),i=n("./src/events.ts"),o=n("./src/errors.ts"),a=n("./src/utils/codecs.ts"),s=n("./src/controller/level-helper.ts"),l=n("./src/controller/base-playlist-controller.ts"),c=n("./src/types/loader.ts");function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),f=function(t){var e,n;=t,(e=l).prototype=Object.create(n.prototype),e.prototype.constructor=e,d(e,n);var f,m,v,g=l.prototype;return g._registerListeners=function(){var t=this.hls;t.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),t.on(i.Events.ERROR,this.onError,this)},g._unregisterListeners=g.destroy=g.startLoad=g.onManifestLoaded=g.onError=g.recoverLevel=g.redundantFailover=g.onFragLoaded=g.onLevelLoaded=g.onAudioTrackSwitched=g.loadPlaylist=g.removeLevel=f=l,(m=[{key:"levels",get:,{key:"level",get:function(){return this.currentLevelIndex},set:,{key:"manualLevel",get:function(){return this.manualLevelIndex},set:,{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:set:])&&h(f.prototype,m),v&&h(f,v),l}(l.default)},"./src/controller/level-helper.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"addGroupId",function(){return o}),n.d(e,"assignTrackIdsByGroup",function(){return a}),n.d(e,"updatePTS",function(){return s}),n.d(e,"updateFragPTSDTS",function(){return c}),n.d(e,"mergeDetails",function(){return u}),n.d(e,"mapPartIntersection",function(){return h}),n.d(e,"mapFragmentIntersection",function(){return d}),n.d(e,"adjustSliding",function(){return p}),n.d(e,"addSliding",function(){return f}),n.d(e,"computeReloadInterval",function(){return m}),n.d(e,"getFragmentWithSN",function(){return v}),n.d(e,"getPartWith",function(){return g});var r=n("./src/polyfills/number.ts"),i=n("./src/utils/logger.ts");roller/stream-controller.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return y});var r=n("./src/polyfills/number.ts"),i=n("./src/controller/base-stream-controller.ts"),o=n("./src/is-supported.ts"),a=n("./src/events.ts"),s=n("./src/utils/buffer-helper.ts"),l=n("./src/controller/fragment-tracker.ts"),c=n("./src/types/loader.ts"),u=n("./src/loader/fragment.ts"),h=n("./src/demux/transmuxer-interface.ts"),d=n("./src/types/transmuxer.ts"),p=n("./src/controller/gap-controller.ts"),f=n("./src/errors.ts"),m=n("./src/utils/logger.ts");function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){var e,n;=t,(e=y).prototype=Object.create(n.prototype),e.prototype.constructor=e,g(e,n);var b,x,w,A=y.prototype;return A._registerListeners=A._unregisterListeners=A.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},A.startLoad=A.stopLoad=A.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_LEVEL:var t,e=this.levels,n=this.level,r=null===e||void 0===e?void 0:null===(t=e[n])||void 0===t?void 0:t.details;if(r&&(!r.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(r))break;this.state=i.State.IDLE;break}break;case i.State.FRAG_LOADING_WAITING_RETRY:var o,a=self.performance.now(),s=this.retryDate;(!s||a>=s||null!==(o=this.media)&&void 0!==o&&o.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=i.State.IDLE)}this.onTickEnd()},A.onTickEnd=A.doTickIdle=function(){var t,e,n=this.hls,r=this.levelLastLoaded,o=this.levels,s=this.media,h=n.config,d=n.nextLoadLevel;if(null!==r&&(s||!this.startFragRequested&&h.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&o&&o[d]){var p=o[d];this.level=n.nextLoadLevel=d;var f=p.details;if(!f||this.state===i.State.WAITING_LEVEL||f.live&&this.levelLastLoaded!==d)this.state=i.State.WAITING_LEVEL;else{var m=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:s,c.PlaylistLevelType.MAIN);if(null!==m)if(!(m.len>=this.getMaxBufferLength(p.maxBitrate))){if(this._streamEnded(m,f)){var v={};return this.altAudio&&(v.type="video"),this.hls.trigger(a.Events.BUFFER_EOS,v),void(this.state=i.State.ENDED)}var g=m.end,y=this.getNextFragment(g,f);if(this.couldBacktrack&&!this.fragPrevious&&y&&"initSegment"!==y.sn){var b=y.sn-f.startSN;b>1&&(y=f.fragments[b-1],this.fragmentTracker.removeFragment(y))}if(y&&this.fragmentTracker.getState(y)===l.FragmentState.OK&&this.nextLoadPosition>g){var x=this.audioOnly&&!this.altAudio?u.ElementaryStreamTypes.AUDIO:u.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(s,x,c.PlaylistLevelType.MAIN),y=this.getNextFragment(this.nextLoadPosition,f)}y&&(!y.initSegment||y.initSegment.data||this.bitrateTest||(y=y.initSegment),"identity"!==(null===(t=y.decryptdata)||void 0===t?void 0:t.keyFormat)||null!==(e=y.decryptdata)&&void 0!==e&&e.key?this.loadFragment(y,f,g):this.loadKey(y,f))}}}},A.loadFragment=A.getAppendedFrag=A.getBufferedFrag=A.followingBufferedFrag=A.immediateLevelSwitch=A.nextLevelSwitch=A.abortCurrentFrag=A.flushMainBuffer=A.onMediaAttached=A.onMediaDetaching=A.onMediaPlaying=function(){this.tick()},A.onMediaSeeked=A.onManifestLoading=A.onManifestParsed=A.onLevelLoading=A.onLevelLoaded=A._handleFragmentLoadProgress=A.onAudioTrackSwitching=A.onAudioTrackSwitched=A.onBufferCreated=A.onFragBuffered=A.onError=A.checkBuffer=A.onFragLoadEmergencyAborted=A.onBufferFlushed=A.onLevelsUpdated=function(t,e){this.levels=e.levels},A.swapAudioCodec=A.seekToStartPos=A._getAudioCodec=A._loadBitrateTestFrag=A._handleTransmuxComplete=function(t){var e,n="main",o=this.hls,s=t.remuxResult,l=t.chunkMeta,c=this.getCurrentContext(l);if(!c)return this.warn("The loading context changed while buffering fragment "+l.sn+" of level "+l.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(l.level);var h=c.frag,d=c.part,p=c.level,f=s.video,m=s.text,v=s.id3,g=s.initSegment,y=this.altAudio?void 0:s.audio;if(!this.fragContextChanged(h)){if(this.state=i.State.PARSING,g){g.tracks&&(this._bufferInitSegment(p,g.tracks,h,l),o.trigger(a.Events.FRAG_PARSING_INIT_SEGMENT,{frag:h,id:n,tracks:g.tracks}));var b=g.initPTS,x=g.timescale;Object(r.isFiniteNumber)(b)&&(this.initPTS[h.cc]=b,o.trigger(a.Events.INIT_PTS_FOUND,{frag:h,id:n,initPTS:b,timescale:x}))}if(f&&!1!==s.independent){if(p.details){var w=f.startPTS,A=f.endPTS,E=f.startDTS,_=f.endDTS;if(d)d.elementaryStreams[f.type]={startPTS:w,endPTS:A,startDTS:E,endDTS:_};else if(f.firstKeyFrame&&f.independent&&(this.couldBacktrack=!0),f.dropped&&f.independent){if(this.getLoadPosition()+this.config.maxBufferHole<w)return void this.backtrack(h);h.setElementaryStreamInfo(f.type,h.start,A,h.start,_,!0)}h.setElementaryStreamInfo(f.type,w,A,E,_),this.bufferFragmentData(f,h,d,l)}}else if(!1===s.independent)return void this.backtrack(h);if(y){var T=y.startPTS,S=y.endPTS,M=y.startDTS,C=y.endDTS;d&&(d.elementaryStreams[u.ElementaryStreamTypes.AUDIO]={startPTS:T,endPTS:S,startDTS:M,endDTS:C}),h.setElementaryStreamInfo(u.ElementaryStreamTypes.AUDIO,T,S,M,C),this.bufferFragmentData(y,h,d,l)}if(null!==v&&void 0!==v&&null!==(e=v.samples)&&void 0!==e&&e.length){var I={frag:h,id:n,samples:v.samples};o.trigger(a.Events.FRAG_PARSING_METADATA,I)}if(m){var k={frag:h,id:n,samples:m.samples};o.trigger(a.Events.FRAG_PARSING_USERDATA,k)}}},A._bufferInitSegment=A.backtrack=A.checkFragmentChanged=b=y,(x=[{key:"nextLevel",get:,{key:"currentLevel",get:,{key:"nextBufferedFrag",get:,{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&v(b.prototype,x),w&&v(b,w),y}(i.default)},"./src/controller/subtitle-stream-controller.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"SubtitleStreamController",function(){return m});var r=n("./src/events.ts"),i=n("./src/utils/logger.ts"),o=n("./src/utils/buffer-helper.ts"),a=n("./src/controller/fragment-finders.ts"),s=n("./src/utils/discontinuities.ts"),l=n("./src/controller/level-helper.ts"),c=n("./src/controller/fragment-tracker.ts"),u=n("./src/controller/base-stream-controller.ts"),h=n("./src/types/loader.ts"),d=n("./src/types/level.ts");function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m=function(t){var e,n;=t,(e=m).prototype=Object.create(n.prototype),e.prototype.constructor=e,f(e,n);var v,g,y,b=m.prototype;return b.onHandlerDestroying=b._registerListeners=function(){var t=this.hls;t.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(r.Events.ERROR,this.onError,this),t.on(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},b._unregisterListeners=b.startLoad=b.onManifestLoading=b.onLevelLoaded=function(t,e){this.mainDetails=e.details},b.onSubtitleFragProcessed=b.onBufferFlushing=b.onError=b.onSubtitleTracksUpdated=b.onSubtitleTrackSwitch=function(t,e){if(this.currentTrackId=e.id,this.levels.length&&-1!==this.currentTrackId){var n=this.levels[this.currentTrackId];null!==n&&void 0!==n&&n.details?(this.mediaBuffer=this.mediaBufferTimeRanges,this.setInterval(500)):this.mediaBuffer=null}else this.clearInterval()},b.onSubtitleTrackLoaded=function(t,e){var n,r=e.details,i=e.id,o=this.currentTrackId,c=this.levels;if(c.length){var h=c[o];if(!(i>=c.length||i!==o)&&h){if(this.mediaBuffer=this.mediaBufferTimeRanges,r.live||null!==(n=h.details)&&void 0!==n&&n.live){var d=this.mainDetails;if(r.deltaUpdateFailed||!d)return;var p=d.fragments[0];if(h.details)0===this.alignPlaylists(r,h.details)&&p&&Object(l.addSliding)(r,p.start);else r.hasProgramDateTime&&d.hasProgramDateTime?Object(s.alignPDT)(r,d):p&&Object(l.addSliding)(r,p.start)}if(h.details=r,this.levelLastLoaded=i,this.tick(),r.live&&!this.fragCurrent&&this.media&&this.state===u.State.IDLE)Object(a.findFragmentByPTS)(null,r.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),h.details=void 0)}}},b._handleFragmentLoadComplete=b.doTick=b.loadFragment=v=m,(g=[{key:"mediaBufferTimeRanges",get:])&&p(v.prototype,g),y&&p(v,y),m}(u.default)},"./src/controller/subtitle-track-controller.ts":function(t,e,n){"use strict";n.r(e);var r=n("./src/events.ts"),i=n("./src/utils/texttrack-utils.ts"),o=n("./src/controller/base-playlist-controller.ts"),a=n("./src/types/loader.ts");function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){var e,n;=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,l(e,n);var c,h,d,p=o.prototype;return p.destroy=p.registerListeners=function(){var t=this.hls;t.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),t.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(r.Events.ERROR,this.onError,this)},p.unregisterListeners=p.onMediaAttached=p.pollTrackChange=p.onMediaDetaching=p.onManifestLoading=p.onManifestParsed=p.onSubtitleTrackLoaded=p.onLevelLoading=function(t,e){this.switchLevel(e.level)},p.onLevelSwitching=p.switchLevel=p.findTrackId=p.onError=p.loadPlaylist=p.toggleTrackModes=p.setSubtitleTrack=p.onTextTracksChanged=c=o,(h=[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:])&&s(c.prototype,h),d&&s(c,d),o}(o.default);.default=c},"./src/controller/timeline-controller.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"TimelineController",function(){return d});var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),o=n("./src/utils/cea-608-parser.ts"),a=n("./src/utils/output-filter.ts"),s=n("./src/utils/webvtt-parser.ts"),l=n("./src/utils/texttrack-utils.ts"),c=n("./src/utils/imsc1-ttml-parser.ts"),u=n("./src/types/loader.ts"),h=n("./src/utils/logger.ts"),d=function(){ar e=t.prototype;return e.destroy=e.addCues=e.onInitPtsFound=e.getExistingTrack=e.createCaptionsTrack=e.createNativeTrack=e.createNonNativeTrack=e.createTextTrack=e.onMediaAttaching=e.onMediaDetaching=e.onManifestLoading=e._cleanTracks=e.onSubtitleTracksUpdated=e.onManifestLoaded=e.onFragLoading=e.onFragLoaded=e._parseIMSC1=e._parseVTTs=e._fallbackToIMSC1=e._appendCues=e.onFragDecrypted=e.onSubtitleTracksCleared=e.onFragParsingUserdata=e.onBufferFlushing=e.extractCea608Data=function(t){for(var e=31&t[0],n=2,r=[[],[]],i=0;i<e;i++){var o=t[n++],a=127&t[n++],s=127&t[n++],l=3&o;0===a&&0===s||0!==(4&o)&&(0!==l&&1!==l||(r[l].push(a),r[l].push(s)))}return r},t}();,"./src/crypt/aes-crypto.ts":"./src/crypt/aes-decryptor.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"removePadding",function(){return i}),n.d(e,"default",function(){return o});var r=n("./src/utils/typed-array.ts");ar o=)},"./src/crypt/decrypter.ts":"./src/crypt/fast-aes-key.ts":"./src/demux/aacdemuxer.ts":"./src/demux/adts.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"getAudioConfig",function(){return a}),n.d(e,"isHeaderPattern",function(){return s}),n.d(e,"getHeaderLength",function(){return l}),n.d(e,"getFullFrameLength",function(){return c}),n.d(e,"canGetFrameLength",function(){return u}),n.d(e,"isHeader",function(){return h}),n.d(e,"canParse",function(){return d}),n.d(e,"probe",function(){return p}),n.d(e,"initTrackConfig",function(){return f}),n.d(e,"getFrameDuration",function(){return m}),n.d(e,"parseFrameHeader",function(){return v}),n.d(e,"appendFrame",function(){return g});var r=n("./src/utils/logger.ts"),i=n("./src/errors.ts"),o=n("./src/events.ts");ux/base-audio-demuxer.ts":"./src/demux/chunk-cache.ts":"./src/demux/dummy-demuxed-track.ts":"./src/demux/exp-golomb.ts":function(t,e,n){"use strict";n.r(e);var r=n("./src/utils/logger.ts"),i=function(){ar e=t.prototype;return e.loadWord=e.skipBits=e.readBits=e.skipLZ=e.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.skipEG=e.readUEG=e.readEG=e.readBoolean=e.readUByte=function(){return this.readBits(8)},e.readUShort=function(){return this.readBits(16)},e.readUInt=e.skipScalingList=e.readSPS=e.readSliceType=t}();e.default=i},"./src/demux/id3.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"isHeader",function(){return i}),n.d(e,"isFooter",function(){return o}),n.d(e,"getID3Data",function(){return a}),n.d(e,"canParse",function(){return l}),n.d(e,"getTimeStamp",function(){return c}),n.d(e,"isTimeStampFrame",function(){return u}),n.d(e,"getID3Frames",function(){return d}),n.d(e,"decodeFrame",function(){return p}),n.d(e,"utf8ArrayToStr",function(){return y}),n.d(e,"testables",;var r,i=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},o=a=s=l=c=u=h=d=p=f=m=v=g=y=b={decodeTextFrame:m};,"./src/demux/mp3demuxer.ts":"./src/demux/mp4demuxer.ts":"./src/demux/mpegaudio.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"appendFrame",function(){return l}),n.d(e,"parseHeader",function(){return c}),n.d(e,"isHeaderPattern",function(){return u}),n.d(e,"isHeader",function(){return h}),n.d(e,"canParse",function(){return d}),n.d(e,"probe",function(){return p});var r=null,i=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],o=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],a=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],s=[0,1,1,4];ction h(t,e){return e+1<t.length&&u(t,e)}"./src/demux/sample-aes.ts":"./src/demux/transmuxer-interface.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return h});var r=n("./node_modules/webworkify-webpack/index.js"),i=n("./src/events.ts"),o=n("./src/demux/transmuxer.ts"),a=n("./src/utils/logger.ts"),s=n("./src/errors.ts"),l=n("./src/utils/mediasource-helper.ts"),c=n("./node_modules/eventemitter3/index.js"),u=Object(l.getMediaSource)()||{isTypeSupported:function(){return!1}},h=function(){function t(t,e,n,l){var h=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=t,this.id=e,this.onTransmuxComplete=n,this.onFlush=l;var d=t.config,p=this.observer=new c.EventEmitter,this.observer.on(i.Events.FRAG_DECRYPTED,p),this.observer.on(i.Events.ERROR,p);var f={mp4:u.isTypeSupported("video/mp4"),mpeg:u.isTypeSupported("audio/mpeg"),mp3:u.isTypeSupported('audio/mp4; codecs="mp3"')},m=navigator.vendor;if(d.enableWorker&&"undefined"!==typeof Worker){var v;a.logger.log("demuxing in webworker");try{v=this.worker=r("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),v.addEventListener("message",this.onwmsg),v.onerror=v.postMessage({cmd:"init",typeSupported:f,vendor:m,id:e,config:JSON.stringify(d)})}catch(g){a.logger.warn("Error in worker:",g),a.logger.error("Error while initializing DemuxerWorker, fallback to inline"),v&&self.URL.revokeObjectURL(v.objectURL),this.transmuxer=new o.default(this.observer,f,d,m,e),this.worker=null}}else this.transmuxer=new o.default(this.observer,f,d,m,e)}var e=t.prototype;return e.destroy=e.push=e.flush=e.handleFlushResult=e.onWorkerMessage=e.configureTransmuxer=e.handleTransmuxComplete=t}()},"./src/demux/transmuxer-worker.ts":"./src/demux/transmuxer.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return y}),n.d(e,"isPromise",function(){return x}),n.d(e,"TransmuxConfig",function(){return w}),n.d(e,"TransmuxState",function(){return A});var r,i=n("./src/events.ts"),o=n("./src/errors.ts"),a=n("./src/crypt/decrypter.ts"),s=n("./src/demux/aacdemuxer.ts"),l=n("./src/demux/mp4demuxer.ts"),c=n("./src/demux/tsdemuxer.ts"),u=n("./src/demux/mp3demuxer.ts"),h=n("./src/remux/mp4-remuxer.ts"),d=n("./src/remux/passthrough-remuxer.ts"),p=n("./src/demux/chunk-cache.ts"),f=n("./src/utils/mp4-tools.ts"),m=n("./src/utils/logger.ts");try{r=self.performance.now.bind(self.performance)}catch(E){m.logger.debug("Unable to use Performance API on this environment"),r=self.Date.now}var v=[{demux:c.default,remux:h.default},{demux:l.default,remux:d.default},{demux:s.default,remux:h.default},{demux:u.default,remux:h.default}],g=1024;v.forEach(;var y=function(){ar e=t.prototype;return e.configure=e.push=e.flush=e.flushRemux=e.resetInitialTimestamp=e.resetContiguity=e.resetInitSegment=e.destroy=e.transmux=e.transmuxUnencrypted=e.transmuxSampleAes=e.configureTransmuxer=e.needsProbing=e.getDecrypter=t}();var b=ar w=function(t,e,n,r,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=e,this.initSegmentData=n,this.duration=r,this.defaultInitPts=i},A=,"./src/demux/tsdemuxer.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"discardEPB",function(){return x});var r=n("./src/demux/adts.ts"),i=n("./src/demux/mpegaudio.ts"),o=n("./src/demux/exp-golomb.ts"),a=n("./src/demux/id3.ts"),s=n("./src/demux/sample-aes.ts"),l=n("./src/events.ts"),c=n("./src/utils/mp4-tools.ts"),u=n("./src/utils/logger.ts"),h=n("./src/errors.ts"),d={video:1,audio:2,id3:3,text:4},p=function(){.probe=t.syncOffset=t.createTrack=var e=t.prototype;return e.resetInitSegment=e.resetTimeStamp=function(){},e.resetContiguity=e.demux=e.flush=e.extractRemainingSamples=e.demuxSampleAes=e.decrypt=e.destroy=e.parseAVCPES=function(t,e){var n,r=this,i=this._avcTrack,s=this.parseAVCNALu(t.data),l=this.avcSample,c=!1;t.data=null,l&&s.length&&!i.audFound&&(y(l,i),l=this.avcSample=f(!1,t.pts,t.dts,"")),s.forEach(function(e){switch(e.type){case 1:n=!0,l||(l=r.avcSample=f(!0,t.pts,t.dts,"")),l.frame=!0;var s=e.data;if(c&&s.length>4){var u=new o.default(s).readSliceType();2!==u&&4!==u&&7!==u&&9!==u||(l.key=!0)}break;case 5:n=!0,l||(l=r.avcSample=f(!0,t.pts,t.dts,"")),l.key=!0,l.frame=!0;break;case 6:n=!0;var h=new o.default(x(e.data));h.readUByte();for(var d=0,p=0,m=!1,v=0;!m&&h.bytesAvailable>1;){d=0;do{d+=v=h.readUByte()}while(255===v);p=0;do{p+=v=h.readUByte()}while(255===v);if(4===d&&0!==h.bytesAvailable){if(m=!0,181===h.readUByte())if(49===h.readUShort())if(1195456820===h.readUInt())if(3===h.readUByte()){for(var g=h.readUByte(),w=31&g,A=[g,h.readUByte()],E=0;E<w;E++)A.push(h.readUByte()),A.push(h.readUByte()),A.push(h.readUByte());b(r._txtTrack.samples,{type:3,pts:t.pts,bytes:A})}}else if(5===d&&0!==h.bytesAvailable){if(m=!0,p>16){for(var _=[],T=0;T<16;T++)_.push(h.readUByte().toString(16)),3!==T&&5!==T&&7!==T&&9!==T||_.push("-");for(var S=p-16,M=new Uint8Array(S),C=0;C<S;C++)M[C]=h.readUByte();b(r._txtTrack.samples,{pts:t.pts,payloadType:d,uuid:_.join(""),userData:Object(a.utf8ArrayToStr)(M),userDataBytes:M})}}else if(p<h.bytesAvailable)for(var I=0;I<p;I++)h.readUByte()}break;case 7:if(n=!0,c=!0,!i.sps){var k=new o.default(e.data).readSPS();i.width=k.width,i.height=k.height,i.pixelRatio=k.pixelRatio,i.sps=[e.data],i.duration=r._duration;for(var R=e.data.subarray(1,4),L="avc1.",O=0;O<3;O++){var D=R[O].toString(16);D.length<2&&(D="0"+D),L+=D}i.codec=L}break;case 8:n=!0,i.pps||(i.pps=[e.data]);break;case 9:n=!1,i.audFound=!0,l&&y(l,i),l=r.avcSample=f(!1,t.pts,t.dts,"");break;case 12:n=!1;break;default:n=!1,l&&(l.debug+="unknown NAL "+e.type+" ")}l&&n&&l.units.push(e)}),e&&l&&(y(l,i),this.avcSample=null)},e.getLastNalUnit=e.parseAVCNALu=e.parseAACPES=function(t){var e,n,i,o,a,s=0,c=this._audioTrack,d=this.aacOverFlow,p=t.data;if(d){this.aacOverFlow=null;var f=d.sample.unit.byteLength,m=Math.min(d.missing,f),v=f-m;d.sample.unit.set(p.subarray(0,m),v),c.samples.push(d.sample),s=d.missing}for(e=s,n=p.length;e<n-1&&!r.isHeader(p,e);e++);if(e!==s&&(e<n-1?(i="AAC PES did not start with ADTS header,offset:"+e,o=!1):(i="no ADTS header found in AAC PES",o=!0),u.logger.warn("parsing error:"+i),this.observer.emit(l.Events.ERROR,l.Events.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:o,reason:i}),o))return;if(r.initTrackConfig(c,this.observer,p,e,this.audioCodec),void 0!==t.pts)a=t.pts;else{if(!d)return void u.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var g=r.getFrameDuration(c.samplerate);a=d.sample.pts+g}for(var y=0;e<n;){if(r.isHeader(p,e)){if(e+5<n){var b=r.appendFrame(c,p,e,a,y);if(b){if(!b.missing){e+=b.length,y++;continue}this.aacOverFlow=b}}break}e++}},e.parseMPEGPES=e.parseID3PES=t}();obeByteLength=188,e.default=p},"./src/errors.ts":"./src/events.ts":"./src/hls.ts":"./src/is-supported.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"isSupported",function(){return o}),n.d(e,"changeTypeSupported",function(){return a});var r=n("./src/utils/mediasource-helper.ts");function i(){return self.SourceBuffer||self.WebKitSourceBuffer}function o(){var t=Object(r.getMediaSource)();if(!t)return!1;var e=i(),n=t&&"function"===typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o=!e||e.prototype&&"function"===typeof e.prototype.appendBuffer&&"function"===typeof e.prototype.remove;return!!n&&!!o}function a(){var t,e=i();return"function"===typeof(null===e||void 0===e?void 0:null===(t=e.prototype)||void 0===t?void 0:t.changeType)}},"./src/loader/fragment-loader.ts":function(t,n,r){"use strict";r.r(n),r.d(n,"default",function(){return h}),r.d(n,"LoadError",function(){return p});var i=r("./src/polyfills/number.ts"),o=r("./src/errors.ts");function a(t){var e="function"===typeof Map?new Map:void 0;return(a=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return s(t,arguments,c(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,t)})(t)}function s(t,n,r){return(s=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&l(i,n.prototype),i}).apply(null,arguments)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=Math.pow(2,17),h=);ar p=a(Error))},"./src/loader/fragment.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"ElementaryStreamTypes",function(){return r}),n.d(e,"BaseSegment",function(){return p}),n.d(e,"Fragment",function(){return f}),n.d(e,"Part",function(){return m});var r,i=n("./src/polyfills/number.ts"),o=n("./node_modules/url-toolkit/src/url-toolkit.js"),a=n("./src/utils/logger.ts"),s=n("./src/loader/level-key.ts"),l=n("./src/loader/load-stats.ts");unction u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function(t){t.AUDIO="audio",t.VIDEO="video",t.AUDIOVIDEO="audiovideo"}(r||(r={}));var p=),f=function(t){(e,t);var n=e.prototype;return n.createInitializationVector=n.setDecryptDataFromLevelKey=function(t,e){var n=t;return"AES-128"===(null===t||void 0===t?void 0:t.method)&&t.uri&&!t.iv&&((n=s.LevelKey.fromURI(t.uri)).method=t.method,n.iv=this.createInitializationVector(e),n.keyFormat="identity"),n},n.setElementaryStreamInfo=n.clearElementaryStreamInfo=d(e,[{key:"decryptdata",get:,{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:,{key:"encrypted",get:]),e}(p),m=p)},"./src/loader/key-loader.ts":"./src/loader/level-details.ts":"./src/loader/level-key.ts":"./src/loader/load-stats.ts":"./src/loader/m3u8-parser.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return v});var r=n("./src/polyfills/number.ts"),i=n("./node_modules/url-toolkit/src/url-toolkit.js"),o=n("./src/loader/fragment.ts"),a=n("./src/loader/level-details.ts"),s=n("./src/loader/level-key.ts"),l=n("./src/utils/attr-list.ts"),c=n("./src/utils/logger.ts"),u=n("./src/utils/codecs.ts"),h=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,d=/#EXT-X-MEDIA:(.*)/g,p=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),f=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),m=/\.(mp4|m4s|m4v|m4a)$/i;var v=function(){function t(){}return t.findGroup=t.convertAVC1ToAVCOTI=t.resolve=t.parseMasterPlaylist=t.parseMasterPlaylistMedia=t.parseLevelPlaylist=function(t,e,n,u,h){var d,v,g,y=new a.LevelDetails(e),x=y.fragments,w=null,A=0,E=0,_=0,T=0,S=null,M=new o.Fragment(u,e),C=-1,I=!1;for(p.lastIndex=0,y.m3u8=t;null!==(d=p.exec(t));){I&&(I=!1,(M=new o.Fragment(u,e)).start=_,M.sn=A,M.cc=T,M.level=n,w&&(M.initSegment=w,M.rawProgramDateTime=w.rawProgramDateTime));var k=d[1];if(k){M.duration=parseFloat(k);var R=(" "+d[2]).slice(1);M.title=R||null,M.tagList.push(R?["INF",k,R]:["INF",k])}else if(d[3])Object(r.isFiniteNumber)(M.duration)&&(M.start=_,g&&(M.levelkey=g),M.sn=A,M.level=n,M.cc=T,M.urlId=h,x.push(M),M.relurl=(" "+d[3]).slice(1),b(M,S),S=M,_+=M.duration,A++,E=0,I=!0);else if(d[4]){var L=(" "+d[4]).slice(1);S?M.setByteRange(L,S):M.setByteRange(L)}else if(d[5])M.rawProgramDateTime=(" "+d[5]).slice(1),M.tagList.push(["PROGRAM-DATE-TIME",M.rawProgramDateTime]),-1===C&&(C=x.length);else{if(!(d=d[0].match(f))){c.logger.warn("No matches on slow regex match for level playlist!");continue}for(v=1;v<d.length&&"undefined"===typeof d[v];v++);var O=(" "+d[v]).slice(1),D=(" "+d[v+1]).slice(1),P=d[v+2]?(" "+d[v+2]).slice(1):"";switch(O){case"PLAYLIST-TYPE":y.type=D.toUpperCase();break;case"MEDIA-SEQUENCE":A=y.startSN=parseInt(D);break;case"SKIP":var B=new l.AttrList(D),F=B.decimalInteger("SKIPPED-SEGMENTS");if(Object(r.isFiniteNumber)(F)){y.skippedSegments=F;for(var N=F;N--;)x.unshift(null);A+=F}var U=B.enumeratedString("RECENTLY-REMOVED-DATERANGES");U&&(y.recentlyRemovedDateranges=U.split("\t"));break;case"TARGETDURATION":y.targetduration=parseFloat(D);break;case"VERSION":y.version=parseInt(D);break;case"EXTM3U":break;case"ENDLIST":y.live=!1;break;case"#":(D||P)&&M.tagList.push(P?[D,P]:[D]);break;case"DIS":T++;case"GAP":M.tagList.push([O]);break;case"BITRATE":M.tagList.push([O,D]);break;case"DISCONTINUITY-SEQ":T=parseInt(D);break;case"KEY":var j,z=new l.AttrList(D),G=z.enumeratedString("METHOD"),V=z.URI,H=z.hexadecimalInteger("IV"),W=z.enumeratedString("KEYFORMATVERSIONS"),J=z.enumeratedString("KEYID"),Z=null!=(j=z.enumeratedString("KEYFORMAT"))?j:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(Z)>-1){c.logger.warn("Keyformat "+Z+" is not supported from the manifest");continue}if("identity"!==Z)continue;G&&(g=s.LevelKey.fromURL(e,V),V&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(G)>=0&&(g.method=G,g.keyFormat=Z,J&&(g.keyID=J),W&&(g.keyFormatVersions=W),g.iv=H));break;case"START":var Y=new l.AttrList(D).decimalFloatingPoint("TIME-OFFSET");Object(r.isFiniteNumber)(Y)&&(y.startTimeOffset=Y);break;case"MAP":var K=new l.AttrList(D);M.relurl=K.URI,K.BYTERANGE&&M.setByteRange(K.BYTERANGE),M.level=n,M.sn="initSegment",g&&(M.levelkey=g),M.initSegment=null,w=M,I=!0;break;case"SERVER-CONTROL":var Q=new l.AttrList(D);y.canBlockReload=Q.bool("CAN-BLOCK-RELOAD"),y.canSkipUntil=Q.optionalFloat("CAN-SKIP-UNTIL",0),y.canSkipDateRanges=y.canSkipUntil>0&&Q.bool("CAN-SKIP-DATERANGES"),y.partHoldBack=Q.optionalFloat("PART-HOLD-BACK",0),y.holdBack=Q.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var q=new l.AttrList(D);y.partTarget=q.decimalFloatingPoint("PART-TARGET");break;case"PART":var X=y.partList;X||(X=y.partList=[]);var $=E>0?X[X.length-1]:void 0,tt=E++,et=new o.Part(new l.AttrList(D),M,e,tt,$);X.push(et),M.duration+=et.duration;break;case"PRELOAD-HINT":var nt=new l.AttrList(D);y.preloadHint=nt;break;case"RENDITION-REPORT":var rt=new l.AttrList(D);y.renditionReports=y.renditionReports||[],y.renditionReports.push(rt);break;default:c.logger.warn("line parsed but not handled: "+d)}}}S&&!S.relurl?(x.pop(),_-=S.duration,y.partList&&(y.fragmentHint=S)):y.partList&&(b(M,S),M.cc=T,y.fragmentHint=M);var it=x.length,ot=x[0],at=x[it-1];if((_+=y.skippedSegments*y.targetduration)>0&&it&&at){y.averagetargetduration=_/it;var st=at.sn;y.endSN="initSegment"!==st?st:0,ot&&(y.startCC=ot.cc,ot.initSegment||y.fragments.every(function(t){return t.relurl&&function(t){var e,n;return m.test(null!=(e=null===(n=i.parseURL(t))||void 0===n?void 0:n.path)?e:"")}(t.relurl)})&&(c.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(M=new o.Fragment(u,e)).relurl=at.relurl,M.level=n,M.sn="initSegment",ot.initSegment=M,y.needSidxRanges=!0))}else y.endSN=0,y.startCC=0;return y.fragmentHint&&(_+=y.fragmentHint.duration),y.totalduration=_,y.endCC=T,C>0&&x,C),y},t}();./src/loader/playlist-loader.ts":function(t,e,n){"use strict";n.r(e);var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),o=n("./src/errors.ts"),a=n("./src/utils/logger.ts"),s=n("./src/utils/mp4-tools.ts"),l=n("./src/loader/m3u8-parser.ts"),c=n("./src/types/loader.ts"),u=n("./src/utils/attr-list.ts");ar d=function(){ar e=t.prototype;return e.registerListeners=function(){var t=this.hls;t.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(i.Events.LEVEL_LOADING,this.onLevelLoading,this),t.on(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},e.unregisterListeners=function(){var t=this.hls;t.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(i.Events.LEVEL_LOADING,this.onLevelLoading,this),t.off(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},e.createInternalLoader=e.getInternalLoader=e.resetInternalLoader=e.destroyInternalLoaders=e.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},e.onManifestLoading=e.onLevelLoading=e.onAudioTrackLoading=function(t,e){var n=e.id,r=e.groupId,i=e.url,o=e.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:c.PlaylistContextType.AUDIO_TRACK,url:i,deliveryDirectives:o})},e.onSubtitleTrackLoading=e.load=e.loadsuccess=e.loaderror=e.loadtimeout=e.handleMasterPlaylist=function(t,e,n,r){var o=this.hls,s=t.data,c=h(t,n),d=l.default.parseMasterPlaylist(s,c),p=d.levels,f=d.sessionData;if(p.length){var m=p.map(function(t){return{id:t.attrs.AUDIO,audioCodec:t.audioCodec}}),v=p.map(,g=l.default.parseMasterPlaylistMedia(s,c,"AUDIO",m),y=l.default.parseMasterPlaylistMedia(s,c,"SUBTITLES",v),b=l.default.parseMasterPlaylistMedia(s,c,"CLOSED-CAPTIONS");if(g.length)g.some(||!p[0].audioCodec||p[0].attrs.AUDIO||(a.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new u.AttrList({}),bitrate:0,url:""}));o.trigger(i.Events.MANIFEST_LOADED,{levels:p,audioTracks:g,subtitles:y,captions:b,url:c,stats:e,networkDetails:r,sessionData:f})}else this.handleManifestParsingError(t,n,"no level found in manifest",r)},e.handleTrackOrLevelPlaylist=function(t,e,n,a){var s=this.hls,d=n.id,p=n.level,f=n.type,m=h(t,n),v=Object(r.isFiniteNumber)(d)?d:0,g=Object(r.isFiniteNumber)(p)?p:v,y=n),b=l.default.parseLevelPlaylist(t.data,m,g,y,v);if(b.fragments.length){if(f===c.PlaylistContextType.MANIFEST){var x={attrs:new u.AttrList({}),bitrate:0,details:b,name:"",url:m};s.trigger(i.Events.MANIFEST_LOADED,{levels:[x],audioTracks:[],url:m,stats:e,networkDetails:a,sessionData:null})}if(e.parsing.end=performance.now(),b.needSidxRanges){var w,A=null===(w=b.fragments[0].initSegment)||void 0===w?void 0:w.url;this.load({url:A,isSidxRequest:!0,type:f,level:p,levelDetails:b,id:d,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else n.levelDetails=b,this.handlePlaylistLoaded(t,e,n,a)}else s.trigger(i.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:m,reason:"no fragments found in level",level:"number"===typeof n.level?n.level:void 0})},e.handleSidxRequest=e.handleManifestParsingError=e.handleNetworkError=e.handlePlaylistLoaded=t}();e.default=d},"./src/polyfills/number.ts":"./src/remux/aac-helper.ts":"./src/remux/mp4-generator.ts":"./src/remux/mp4-remuxer.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return m}),n.d(e,"normalizePts",function(){return v});var r=n("./src/polyfills/number.ts"),i=n("./src/remux/aac-helper.ts"),o=n("./src/remux/mp4-generator.ts"),a=n("./src/events.ts"),s=n("./src/errors.ts"),l=n("./src/utils/logger.ts"),c=n("./src/types/loader.ts"),u=n("./src/utils/timescale-conversion.ts");function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var d=null,p=null,f=!1,m=function(){ar e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=e.resetNextTimestamp=e.resetInitSegment=e.getVideoStartPts=e.remux=e.generateIS=e.remuxVideo=function(t,e,n,r){var i,c,p,m=t.inputTimeScale,y=t.samples,b=[],x=y.length,w=this._initPTS,A=this.nextAvcDts,E=8,_=Number.POSITIVE_INFINITY,T=Number.NEGATIVE_INFINITY,S=0,M=!1;n&&null!==A||(A=e*m-(y[0].pts-v(y[0].dts,y[0].pts)));for(var C=0;C<x;C++){var I=y[C];if(I.pts=v(I.pts-w,A),I.dts=v(I.dts-w,A),I.dts>I.pts){S=Math.max(Math.min(S,I.pts-I.dts),-18e3)}I.dts<y[C>0?C-1:C].dts&&(M=!0)}M&&y.sort(,c=y[0].dts,p=y[y.length-1].dts;var k=Math.round((p-c)/(x-1));if(S<0){if(S<-2*k){l.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(u.toMsFromMpegTsClock)(-k,!0)+" ms");for(var R=S,L=0;L<x;L++)y[L].dts=R=Math.max(R,y[L].pts-k),y[L].pts=Math.max(R,y[L].pts)}else{l.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(u.toMsFromMpegTsClock)(S,!0)+" ms to overcome this issue");for(var O=0;O<x;O++)y[O].dts=y[O].dts+S}c=y[0].dts}if(n){var D=c-A,P=D>k;if(P||D<-1){P?l.logger.warn("AVC: "+Object(u.toMsFromMpegTsClock)(D,!0)+" ms ("+D+"dts) hole between fragments detected, filling it"):l.logger.warn("AVC: "+Object(u.toMsFromMpegTsClock)(-D,!0)+" ms ("+D+"dts) overlapping between fragments detected"),c=A;var B=y[0].pts-D;y[0].dts=c,y[0].pts=B,l.logger.log("Video: First PTS/DTS adjusted: "+Object(u.toMsFromMpegTsClock)(B,!0)+"/"+Object(u.toMsFromMpegTsClock)(c,!0)+", delta: "+Object(u.toMsFromMpegTsClock)(D,!0)+" ms")}}f&&(c=Math.max(0,c));for(var F=0,N=0,U=0;U<x;U++){for(var j=y[U],z=j.units,G=z.length,V=0,H=0;H<G;H++)V+=z[H].data.length;N+=V,F+=G,j.length=V,j.dts=Math.max(j.dts,c),j.pts=Math.max(j.pts,j.dts,0),_=Math.min(j.pts,_),T=Math.max(j.pts,T)}p=y[x-1].dts;var W,J=N+4*F+8;try{W=new Uint8Array(J)}catch(ut){return void this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:J,reason:"fail allocating video mdat "+J})}var Z=new DataView(W.buffer);Z.setUint32(0,J),W.set(o.default.types.mdat,4);for(var Y=0;Y<x;Y++){for(var K=y[Y],Q=K.units,q=0,X=0,$=Q.length;X<$;X++){var tt=Q[X],et=tt.data,nt=tt.data.byteLength;Z.setUint32(E,nt),E+=4,W.set(et,E),E+=nt,q+=4+nt}if(Y<x-1)i=y[Y+1].dts-K.dts;else{var rt=this.config,it=K.dts-y[Y>0?Y-1:Y].dts;if(rt.stretchShortVideoTrack&&null!==this.nextAudioPts){var ot=Math.floor(rt.maxBufferHole*m),at=(r?_+r*m:this.nextAudioPts)-K.pts;at>ot?((i=at-it)<0&&(i=it),l.logger.log("[mp4-remuxer]: It is approximately "+at/90+" ms to the next segment; using duration "+i/90+" ms for the last video frame.")):i=it}else i=it}var st=Math.round(K.pts-K.dts);b.push(new g(K.key,i,q,st))}if(b.length&&d&&d<70){var lt=b[0].flags;lt.dependsOn=2,lt.isNonSync=0}console.assert(void 0!==i,"mp4SampleDuration must be computed"),this.nextAvcDts=A=p+i,this.isVideoContiguous=!0;var ct={data1:o.default.moof(t.sequenceNumber++,c,h({},t,{samples:b})),data2:W,startPTS:_/m,endPTS:(T+i)/m,startDTS:c/m,endDTS:A/m,type:"video",hasAudio:!1,hasVideo:!0,nb:b.length,dropped:t.dropped};return t.samples=[],t.dropped=0,console.assert(W.length,"MDAT length must not be zero"),ct},e.remuxAudio=function(t,e,n,r,c){var u=t.inputTimeScale,d=u/(t.samplerate?t.samplerate:u),p=t.isAAC?1024:1152,f=p*d,m=this._initPTS,y=!t.isAAC&&this.typeSupported.mpeg,b=[],x=t.samples,w=y?0:8,A=this.nextAudioPts||-1,E=e*u;if(this.isAudioContiguous=n=n||x.length&&A>0&&(r&&Math.abs(E-A)<9e3||Math.abs(v(x[0].pts-m,E)-A)<20*f),x.forEach(,!n||A<0){if(!(x=x.filter().length)return;A=0===c?0:r?Math.max(0,E):x[0].pts}if(t.isAAC)for(var _=void 0!==c,T=this.config.maxAudioFramesDrift,S=0,M=A;S<x.length;S++){var C=x[S],I=C.pts,k=I-M,R=Math.abs(1e3*k/u);if(k<=-T*f&&_)0===S&&(l.logger.warn("Audio frame @ "+(I/u).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*k/u)+" ms."),this.nextAudioPts=A=M=I);else if(k>=T*f&&R<1e4&&_){var L=Math.round(k/f);(M=I-L*f)<0&&(L--,M+=f),0===S&&(this.nextAudioPts=A=M),l.logger.warn("[mp4-remuxer]: Injecting "+L+" audio frame @ "+(M/u).toFixed(3)+"s due to "+Math.round(1e3*k/u)+" ms gap.");for(var O=0;O<L;O++){var D=Math.max(M,0),P=i.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);P||(l.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),P=C.unit.subarray()),x.splice(S,0,{unit:P,pts:D}),M+=f,S++}}C.pts=M,M+=f}for(var B,F=null,N=null,U=0,j=x.length;j--;)U+=x[j].unit.byteLength;for(var z=0,G=x.length;z<G;z++){var V=x[z],H=V.unit,W=V.pts;if(null!==N){b[z-1].duration=Math.round((W-N)/d)}else{if(n&&t.isAAC&&(W=A),F=W,!(U>0))return;U+=w;try{B=new Uint8Array(U)}catch($){return void this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:U,reason:"fail allocating audio mdat "+U})}y||(new DataView(B.buffer).setUint32(0,U),B.set(o.default.types.mdat,4))}B.set(H,w);var J=H.byteLength;w+=J,b.push(new g(!0,p,J,0)),N=W}var Z=b.length;if(Z){var Y=b[b.length-1];this.nextAudioPts=A=N+d*Y.duration;var K=y?new Uint8Array(0):o.default.moof(t.sequenceNumber++,F/d,h({},t,{samples:b}));t.samples=[];var Q=F/u,q=A/u,X={data1:K,data2:B,startPTS:Q,endPTS:q,startDTS:Q,endDTS:q,type:"audio",hasAudio:!0,hasVideo:!1,nb:Z};return this.isAudioContiguous=!0,console.assert(B.length,"MDAT length must not be zero"),X}},e.remuxEmptyAudio=e.remuxID3=e.remuxText=t}();ar g=y=,"./src/remux/passthrough-remuxer.ts":function(t,e,n){"use strict";n.r(e);var r=n("./src/polyfills/number.ts"),i=n("./src/utils/mp4-tools.ts"),o=n("./src/loader/fragment.ts"),a=n("./src/utils/logger.ts"),s=),l=.default=s},"./src/task-loop.ts":"./src/types/level.ts":"./src/types/loader.ts":"./src/types/transmuxer.ts":"./src/utils/attr-list.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"AttrList",function(){return o});var r=/^(\d+)x(\d+)$/,i=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=)},"./src/utils/binary-search.ts":function(t,e,n){"use strict";n.r(e);e.default={search:},"./src/utils/buffer-helper.ts":"./src/utils/cea-608-parser.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"Row",function(){return y}),n.d(e,"CaptionScreen",function(){return b});var r,i=n("./src/utils/logger.ts"),o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},a=s=15,l=100,c={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},u={17:2,18:4,21:6,22:8,23:10,19:13,20:15},h={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},d={25:2,26:4,29:6,30:8,31:10,27:13,28:15},p=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!r||(r={}));var f=),m=v=),g=),y=),b=function(){ar e=t.prototype;return e.reset=e.equals=e.copy=e.isEmpty=e.backSpace=function(){this.rows[this.currRow].backSpace()},e.clearToEndOfRow=e.insertChar=function(t){this.rows[this.currRow].insertChar(t)},e.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},e.moveCursor=e.setCursor=e.setPAC=e.setBkgData=e.setRollUpRows=function(t){this.nrRollUpRows=t},e.rollUp=e.getDisplayText=e.getTextAndFormat=function(){return this.rows},t}(),x=function(){ar e=t.prototype;return e.reset=e.getHandler=function(){return this.outputFilter},e.setHandler=function(t){this.outputFilter=t},e.setPAC=function(t){this.writeScreen.setPAC(t)},e.setBkgData=function(t){this.writeScreen.setBkgData(t)},e.setMode=e.insertChars=e.ccRCL=function(){this.logger.log(r.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.ccBS=e.ccAOF=function(){},e.ccAON=function(){},e.ccDER=e.ccRU=e.ccFON=e.ccRDC=function(){this.logger.log(r.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.ccTR=function(){this.logger.log(r.INFO,"TR"),this.setMode("MODE_TEXT")},e.ccRTD=e.ccEDM=function(){this.logger.log(r.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.ccCR=e.ccENM=e.ccEOC=e.ccTO=e.ccMIDROW=e.outputDataUpdate=e.cueSplitAtTime=t}(),w=function(){ar e=t.prototype;return e.getHandler=e.setHandler=e.addData=e.parseCmd=e.parseMidrow=e.parsePAC=e.interpretPAC=e.parseChars=e.parseBackgroundAttributes=e.reset=e.cueSplitAtTime=t}();default=w},"./src/utils/codecs.ts":"./src/utils/cues.ts":"./src/utils/discontinuities.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"findFirstFragWithCC",function(){return a}),n.d(e,"shouldAlignOnDiscontinuities",function(){return s}),n.d(e,"findDiscontinuousReferenceFrag",function(){return l}),n.d(e,"adjustSlidingStart",function(){return u}),n.d(e,"alignStream",function(){return h}),n.d(e,"alignPDT",function(){return d});var r=n("./src/polyfills/number.ts"),i=n("./src/utils/logger.ts"),o=n("./src/controller/level-helper.ts");ion h(t,e,n){e&&(!t,n,e),!n.alignedSliding&&e.details&&d(n,e.details),n.alignedSliding||!e.details||n.skippedSegments||Object(o.adjustSliding)(e.details,n))},"./src/utils/ewma-bandwidth-estimator.ts":"./src/utils/ewma.ts":"./src/utils/fetch-loader.ts":function(t,n,r){"use strict";r.r(n),r.d(n,"fetchSupported",function(){return h});var i=r("./src/polyfills/number.ts"),o=r("./src/loader/load-stats.ts"),a=r("./src/demux/chunk-cache.ts");nction c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}r d=);ar f=s(Error));n.default=d},"./src/utils/imsc1-ttml-parser.ts":"./src/utils/logger.ts":function(t,n,r){"use strict";r.r(n),r.d(n,"enableLogs",function(){return l}),r.d(n,"logger",function(){return c});var i=function(){},o={trace:i,debug:i,log:i,warn:i,info:i,error:i},a=o;unction l(t){if(self.console&&!0===t||"object"===typeof t){s(t,"debug","log","info","warn","error");try{a.log()}catch(e){a=o}}else a=o}var c=o},"./src/utils/mediakeys-helper.ts":function(t,e,n){"use strict";var r;n.r(e),n.d(e,"KeySystems",function(){return r}),n.d(e,"requestMediaKeySystemAccess",function(){return i}),r||(r={}));var i="undefined"!==typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":"./src/utils/mp4-tools.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"bin2str",function(){return s}),n.d(e,"readUint16",function(){return l}),n.d(e,"readUint32",function(){return c}),n.d(e,"writeUint32",function(){return u}),n.d(e,"findBox",function(){return h}),n.d(e,"parseSegmentIndex",function(){return d}),n.d(e,"parseInitSegment",function(){return p}),n.d(e,"getStartDTS",function(){return f}),n.d(e,"getDuration",function(){return m}),n.d(e,"computeRawDurationFromSamples",function(){return v}),n.d(e,"offsetStartDTS",function(){return g}),n.d(e,"segmentValidRange",function(){return y}),n.d(e,"appendUint8Array",function(){return b});var r=n("./src/utils/typed-array.ts"),i=n("./src/loader/fragment.ts"),o=Math.pow(2,32)-1,a=[].push;ion d(t){var e=h(t,["moov"])[0],n=e?e.end:null,r=h(t,["sidx"]);if(!r||!r[0])return null;var i=[],o=r[0],a=o.data[0],s=0===a?8:16,u=c(o,s);s+=4;s+=0===a?8:16,s+=2;var d=o.end+0,p=l(o,s);s+=2;for(var f=0;f<p;f++){var m=s,v=c(o,m);m+=4;var g=2147483647&v;if(1===(2147483648&v)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var y=c(o,m);m+=4,i.push({referenceSize:g,subsegmentDuration:y,info:{duration:y/u,start:d,end:d+g-1}}),d+=g,s=m+=4}return{earliestPresentationTime:0,timescale:u,version:a,referencesCount:p,references:i,moovEndOffset:n}}nction m(t,e){for(var n=0,r=0,o=0,a=h(t,["moof","traf"]),s=0;s<a.length;s++){var l=a[s],u=h(l,["tfhd"])[0],p=e[c(u,4)];if(p){var f=p.default,m=c(u,0)|(null===f||void 0===f?void 0:f.flags),g=null===f||void 0===f?void 0:f.duration;8&m&&(g=c(u,2&m?12:8));for(var y=p.timescale||9e4,b=h(l,["trun"]),x=0;x<b.length;x++){if(g)n=g*c(b[x],4);else n=v(b[x]);p.type===i.ElementaryStreamTypes.VIDEO?r+=n/y:p.type===i.ElementaryStreamTypes.AUDIO&&(o+=n/y)}}}if(0===r&&0===o){var w=d(t);if(null!==w&&void 0!==w&&w.references)return w.references.reduce(0)}return r||o}/src/utils/output-filter.ts":"./src/utils/texttrack-utils.ts":"./src/utils/time-ranges.ts":"./src/utils/timescale-conversion.ts":"./src/utils/typed-array.ts":"./src/utils/vttcue.ts":function(t,e,n){"use strict";n.r(e),e.default=)},"./src/utils/vttparser.ts":function(t,n,r){"use strict";r.r(n),r.d(n,"parseTimeStamp",function(){return a}),r.d(n,"fixLineBreaks",function(){return d}),r.d(n,"VTTParser",function(){return p});var i=r("./src/utils/vttcue.ts"),o=);ar s=);ar c=new i.default(0,0,""),u="middle"===c.align?"middle":"center";r p=)},"./src/utils/webvtt-parser.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"generateCueId",function(){return d}),n.d(e,"parseWebVTT",function(){return f});var r=n("./src/polyfills/number.ts"),i=n("./src/utils/vttparser.ts"),o=n("./src/demux/id3.ts"),a=n("./src/utils/timescale-conversion.ts"),s=n("./src/remux/mp4-remuxer.ts"),l=/\r\n|\n\r|\n|\r/g,c=u=function(t){var e=parseInt(t.substr(-3)),n=parseInt(t.substr(-6,2)),i=parseInt(t.substr(-9,2)),o=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;if(!Object(r.isFiniteNumber)(e)||!Object(r.isFiniteNumber)(n)||!Object(r.isFiniteNumber)(i)||!Object(r.isFiniteNumber)(o))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+t);return e+=1e3*n,e+=6e4*i,e+=36e5*o},h=ar p=function f(t,e,n,r,h,f,m,v){var g,y=new i.VTTParser,b=Object(o.utf8ArrayToStr)(new Uint8Array(t)).trim().replace(l,"\n").split("\n"),x=[],w=Object(a.toMpegTsClockFromTimescale)(e,n),A="00:00.000",E=0,_=0,T=!0,S=!1;y.oncue=function(t){var e=r[h],n=r.ccOffset,i=(E-w)/9e4;if(null!==e&&void 0!==e&&e.new&&(void 0!==_?n=r.ccOffset=e.start:p(r,h,i)),i&&(n=i-r.presentationOffset),S){var o=t.endTime-t.startTime,a=Object(s.normalizePts)(9e4*(t.startTime+n-_),9e4*f)/9e4;t.startTime=a,t.endTime=a+o}var l=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(l)),t.id||(t.id=d(t.startTime,t.endTime,l)),t.endTime>0&&x.push(t)},y.onparsingerror=y.onflush=b.forEach(,y.flush()}},"./src/utils/xhr-loader.ts":).default},t.exports=i())},484:function(t,e,n){"use strict";var r=n(150),i=n(151),o=n(153),a=n(152),s=n(0),l=n.n(s),c=n(159),u=n(485),h=n.n(u),d=n(35),p=n(157),f=(n(489),function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t){var i;return Object(r.a)(this,n),(i=e.call(this,t)).setPlaying=function(t){var e="play"===t.type;i.setState({playing:e})},i.autoPlay=function(){var t=i.props,e=t.toggleMainMediaStatus,n=t.autoPlay,r=i.state.autoPlayStarted;n&&!r&&(i.togglePlay(),"function"===typeof e&&e(!0),i.setState({autoPlayStarted:!0}))},i.loadAudio=function(){var t=i.state.volumeLevel;i.resetProgressBar(),i.audio.volume=t},i.setAudioPosition=function(t){var e=i.state.progressBarWidth,n=i.props.primaryColor,r=void 0===n?"#009c66":n,o=t.offsetX/e;o*i.audio.duration<i.audio.currentTime&&i.resetProgressBar(),i.audio.currentTime=o*i.audio.duration,i.canvas.getContext("2d").fillStyle=r,i.canvas.getContext("2d").fillRect(0,0,o*e,5)},i.togglePlay=function(){var t=i.props,e=t.tourId,n=t.tourName,r=t.displayIcon,o=t.toggleMainMediaStatus;i.setState(function(t){return{playing:!t.playing}},function(){var t=i.state.playing,a=t?"Play":"Pause";if(r&&Object(p.a)("".concat(e,"-").concat(n),"Audio",a),t){"function"===typeof o&&o(!0);try{i.audio.play()}catch(s){console.log(s)}}else"function"===typeof o&&o(!1),i.audio.pause()})},i.toggleMute=function(t){var e=i.state.muted;t.target===i.audioCtrl&&(e?(i.audio.muted=!1,i.setState({muted:!1,volumeLevel:i.audio.volume})):(i.audio.muted=!0,i.setState({muted:!0,volumeLevel:0})))},i.updateBar=function(){var t=i.state,e=t.playing,n=t.progressBarWidth,r=i.props.primaryColor,o=void 0===r?"#009c66":r;if(e){i.resetProgressBar();var a=i.audio.duration,s=i.audio.currentTime,l=n*(s/a);i.canvas.getContext("2d").fillStyle=o,i.canvas.getContext("2d").fillRect(0,0,l,5),s===a&&(i.resetProgressBar(),i.setState({playing:!1}))}},i.changeVolume=function(t){Boolean(t)&&i.audio.muted&&(i.audio.muted=!1),i.audio.volume=t,i.setState({volumeLevel:i.audio.volume})},i.slideStart=function(){document.querySelector(".slider-wrap").classList.add("active")},i.slideEnd=i.resetProgressBar=function(){var t=i.state.progressBarWidth;i.canvas.getContext("2d").clearRect(0,0,t,5),i.canvas.getContext("2d").fillStyle="rgba(216, 216, 216, .5)",i.canvas.getContext("2d").fillRect(0,0,t,5)},i.setVolumeIcon=function(){var t=i.state,e=t.volumeLevel,n=t.playing;return 0===e&&n?l.a.createElement("i",{className:"material-icons volume-btn","aria-hidden":"true"},"volume_mute"):n?e<=.5?l.a.createElement("i",{className:"material-icons volume-btn","aria-hidden":"true"},"volume_down"):l.a.createElement("i",{className:"material-icons volume-btn","aria-hidden":"true"},"volume_up"):l.a.createElement("i",{className:"material-icons volume-btn","aria-hidden":"true"},"volume_off")},i.state={autoPlayStarted:!1,playing:!1,volumeLevel:.5,muted:!1,progressBarWidth:t.width},i.canvas=null,i.audio=null,i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.primaryColor,r=e.width,i=e.previewTour;if(window.addEventListener(c.utils.device.isMobile()?"touchend":"click",,i&&this.autoPlay(),this.audio=document.getElementById("audio"),this.canvas=document.getElementById("progress-bar"),this.audio.addEventListener("loadedmetadata",this.loadAudio),this.audio.addEventListener("play",this.setPlaying),this.audio.addEventListener("pause",this.setPlaying),this.canvas.addEventListener("click",this.setAudioPosition),document.querySelector(".rangeslider__fill").style.background=n||"#009c66",!r){var o=document.getElementById("progress-bar").offsetWidth-10;this.setState({progressBarWidth:o})}}},{key:"componentDidUpdate",value:function(t,e){var n=this,r=this.props,i=r.tracks,o=r.isMainMediaPlaying,a=this.state.playing;i[0].id!==t.tracks[0].id&&(this.resetProgressBar(),this.setState({autoPlayStarted:!1,playing:!1,showVolume:!1},),a&&o!==t.isMainMediaPlaying&&t.isMainMediaPlaying&&this.togglePlay()}},{key:"componentWillUnmount",value:function(){this.audio.removeEventListener("loadedemetadata",this.loadAudio),this.audio.removeEventListener("play",this.setPlaying),this.audio.removeEventListener("pause",this.setPlaying),window.removeEventListener(c.utils.device.isMobile()?"touchend":"click",this.autoPlay),this.canvas.removeEventListener("click",this.setAudioPosition)}},{key:"render",value:function(){var t=this,e=this.state,n=e.playing,r=e.volumeLevel,i=e.progressBarWidth,o=this.props,a=o.displayIcon,s=o.primaryColor,c=void 0===s?"#009c66":s,u=o.playerStyles,p=o.tracks,f=o.showTranscript,m=o.toggleTranscript,v=o.readMore,g=this.setVolumeIcon(),y="";return y=v&&f?"hide transcript-shown":v?"hide":f?"transcript-shown":"",l.a.createElement("section",{id:"audio-player",className:y,style:u,"aria-label":"Audio controls"},a&&l.a.createElement("i",{"aria-hidden":"true",className:"material-icons music-note"},"music_note"),l.a.createElement(d.a,{className:"audio-ctrl",handleClick:this.togglePlay,"aria-label":n?"Pause":"Play","data-cy":"audio-ctrl-play-btn"},l.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},n?"pause":"play_arrow")),l.a.createElement("canvas",{"aria-hidden":"true",id:"progress-bar",width:i,height:5,style:{borderRadius:5}}),l.a.createElement("audio",{id:"audio",src:"https://res.cloudinary.com/concept3d/video/upload/vc_auto/audio_files/".concat(p[0].id),onTimeUpdate:this.updateBar}),l.a.createElement(d.a,{myRef:className:"audio-player-icon audio-ctrl",handleClick:this.toggleMute,tabIndex:0,"data-cy":"audio-ctrl-mute-btn","aria-label":"Adjust volume. ".concat(r?"Current level ".concat(Math.floor(100*r),"%"):"Volume muted.")},g,l.a.createElement("div",{className:"slider-wrap"},l.a.createElement(h.a,{orientation:"vertical",min:0,max:1,step:.001,value:r,tooltip:!1,onChange:this.changeVolume,onChangeStart:this.slideStart,onChangeComplete:this.slideEnd,onSliderClick:this.changeVolume}))),p&&p[0].transcript&&l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{className:"audio-player-icon audio-ctrl transcript-btn",handleClick:m,"aria-label":"Toggle audio transcript"},l.a.createElement("i",{style:f?{color:c}:{color:"#4a4a4a"},className:"material-icons","aria-hidden":"true"},"description"))))}}]),n}(s.Component));e.a=f},485:486:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=),i=u(n(24)),o=n(0),a=u(o),s=u(n(15)),l=u(n(487)),c=n(488);r d={orientation:{horizontal:{dimension:"width",direction:"left",reverseDirection:"right",coordinate:"x"},vertical:{dimension:"height",direction:"top",reverseDirection:"bottom",coordinate:"y"}}},p=function(t){function e(t,n){!this,e);var r=this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.handleFormat=r.handleUpdate=r.handleStart=r.handleDrag=r.handleEnd=r.handleKeyDown=r.getPositionFromValue=r.getValueFromPosition=r.position=r.coordinates=r.renderLabels=r.state={active:!1,limit:0,grab:0},r}return e,o.Component),r(e,[{key:"componentDidMount",value:,{key:"render",value:]),e}();p.propTypes={min:s.default.number,max:s.default.number,step:s.default.number,value:s.default.number,orientation:s.default.string,tooltip:s.default.bool,reverse:s.default.bool,labels:s.default.object,handleLabel:s.default.string,format:s.default.func,onChangeStart:s.default.func,onChange:s.default.func,onChangeComplete:s.default.func},p.defaultProps={min:0,max:100,step:1,value:0,orientation:"horizontal",tooltip:!0,reverse:!1,labels:{},handleLabel:""},e.default=p},487:488:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.capitalize=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},e.clamp=,489:function(t,e,n){},494:function(t,e,n){},495:function(t,e,n){"use strict";var r=n(150),i=n(151),o=n(153),a=n(152),s=n(0),l=n.n(s),c=n(496),u=n.n(c),h=n(35),d=n(157),p=(n(500),function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).handleCopy=function(){var e=t.props,n=e.tourId,r=e.tourName,i=e.type;t.setState({copied:!0},function(){Object(d.a)("".concat(n,"-").concat(r),"copy",i),setTimeout(function(){return t.setState({copied:!1})},5e3)})},t.state={copied:!1},t}return Object(i.a)(n,[{key:"render",value:function(){var t=this,e=this.state.copied,n=this.props,r=n.shareUrl,i="share"===n.type;return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{key:"copy",text:r,onCopy:function(){return t.handleCopy()}},l.a.createElement(h.a,{className:"copy-btn","data-cy":i?"copy-url-btn":"copy-embed-btn","aria-label":"copy ".concat(i?"share url":"iframe embed")},l.a.createElement("i",{"arai-hidden":"true",className:"material-icons"},"content_copy"),"\xa0Copy")),e&&l.a.createElement("p",{key:"copy-success",className:"copy-success"},"Copied to clipboard"))}}]),n}(s.Component));e.a=p},496:497:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyToClipboard=void 0;var r=o(n(0)),i=o(n(498));function o(t){return t&&t.__esModule?t:{default:t}}unction s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}unction c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t){function e(){var t,n,o,s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return o=this,s=(t=u(e)).call.apply(t,[this].concat(c)),n=!s||"object"!==a(s)&&"function"!==typeof s?h(o):s,p(h(n),"onClick",,n}var n,o,f;return e,r["default"].PureComponent),n=e,(o=[{key:"render",value:])&&c(n.prototype,o),f&&c(n,f),e}();e.CopyToClipboard=f,p(f,"defaultProps",{onCopy:void 0,options:void 0})},498:function(t,e,n){"use strict";var r=n(499),i={"text/plain":"Text","text/html":"Url",default:"Text"},o="Copy to clipboard: #{key}, Enter";t.exports=function(t,e){var n,a,s,l,c,u,h=!1;e||(e={}),n=e.debug||!1;try{if(s=r(),l=document.createRange(),c=document.getSelection(),(u=document.createElement("span")).textContent=t,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",,document.body.appendChild(u),l.selectNodeContents(u),c.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");h=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),h=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),a="message"in e?e.message:o),window.prompt(a,t)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(l):c.removeAllRanges()),u&&document.body.removeChild(u),s()}return h}},499:500:function(t,e,n){},501:function(t,e,n){},502:function(t,e,n){"use strict";var r=n(150),i=n(151),o=n(153),a=n(152),s=n(0),l=n.n(s),c=n(161),u=n(155),h=n(175),d=n(202),p=(n(503),function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(){var t;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).setInnerHeight=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px")),0!==t.props.yPosition&&t.props.setYPosition(window.innerHeight)},t.closeDrawer=t}return Object(i.a)(n,[{key:"componentDidMount",value:,{key:"componentDidUpdate",value:function(t){var e=this.props.restPosition;t.restPosition!==e&&0===e&&this.focusRef&&this.focusRef.focus()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setInnerHeight)}},{key:"render",value:function(){var t=this,e=this.props,n=e.tourStops,r=e.activeStop,i=e.gaEvent,o=e.setYPosition,a=e.tourName,s=e.tourDescription,p=e.yPosition,f=window.innerWidth<1025,m=0===p?0:-1;return l.a.createElement("div",{className:"stop-gallery","data-cy":"stop-gallery"},!f&&l.a.createElement(h.a,{render:function(e){var n=e.onEnter,r=e.onLeave,i=e.hovering;return l.a.createElement(d.a,{tabIndex:m,onEnter:n,onLeave:r,hovering:i,className:"stop-gallery__close-btn",handleClick:function(){return o()},"aria-label":"close gallery",isMobile:f,myRef:function(e){return t.focusRef=e},"data-cy":"stop-gallery__close-btn"},l.a.createElement("i",{"aria-hidden":"true",className:"material-icons prev"},"close"),"\xa0 Close")}}),l.a.createElement("div",{className:"stop-gallery__info"},l.a.createElement("h2",{"data-cy":"stop-gallery-heading-2",className:"stop-gallery__heading-2",tabIndex:m},a+" Tour Stop Gallery"),l.a.createElement("div",{tabIndex:m,"data-cy":"stop-gallery-description",className:"stop-gallery__description",dangerouslySetInnerHTML:{__html:s}})),l.a.createElement("span",{className:"stop-gallery__line"}),l.a.createElement("div",{className:"stop-gallery__grid-wrapper"},l.a.createElement("ol",{tabIndex:0,"aria-label":"Tour stops",className:"stop-gallery__grid-wrapper__thumbnail-grid","data-cy":"stop-gallery-list"},n.map(function(e,n){if(!e)return null;var o=e.panoId,a=e.id,s=e.mainMediaType,h=e.thumbnail,d=e.order,p=e.name,f=e.defaultPos,m=r===d?"active":"";return l.a.createElement("li",{key:o+n||a+n,className:"stop-thumbnail-list-item",onClick:function(){var e=t.props,r=e.getIndex,o=e.getId;"function"===typeof o&&o(a),"function"===typeof r&&r(n),"function"===typeof i&&i({defaultPos:f,stopNum:d||n,stopName:p,origin:"Gallery"}),t.closeDrawer()},onKeyPress:function(e){var r=t.props,o=r.getIndex,s=r.getId;"function"===typeof o&&o(n),"function"===typeof s&&s(a),"function"===typeof i&&i({defaultPos:f,stopNum:d||n,stopName:p,origin:"Gallery"}),"Enter"===e.key&&t.closeDrawer()},tabIndex:0,"aria-label":p,"data-cy":"stop-thumbnail-list-item"},l.a.createElement(c.default,{mediaId:o||a,mediaType:s||u.j,thumbSrc:h,thumbClass:"stop-thumbnail ".concat(m),name:p,height:180,alt:"",view:!0,overlayMediaName:!0}))}))))}}]),n}(l.a.Component));e.a=p},503:function(t,e,n){},523:function(t,e,n){"use strict";var r=n(150),i=n(151),o=n(153),a=n(152),s=n(0),l=n.n(s),c=n(1),u=n(24),h=n.n(u),d=function(t){var e=t.tabTitle;return l.a.createElement(l.a.Fragment,null,"Images"===e&&l.a.createElement("span",{key:"image-icon",style:{display:"inline"}},l.a.createElement("i",{className:"material-icons"},"photo_size_select_actual")),"Videos"===e&&l.a.createElement("span",{key:"video-icon",style:{display:"inline"}},l.a.createElement("i",{className:"material-icons"},"video_library")))},p=function(t){var e=t.count;return l.a.createElement("span",{className:"media-count"},e)},f=n(35),m=Object(s.memo)(function(t){var e=t.title,n=t.type,r=t.active,i=t.index,o=t.count,a=t.toggleTab,s=t.width,u=t.enabled,m=t.borderColor;return l.a.createElement(f.a,{className:h()("tab",{active:r,gallery:"tab-gallery"===n}),style:Object(c.a)(Object(c.a)({width:s||"25%"},m&&r&&{borderBottom:"3px solid ".concat(m)}),!m&&r&&{borderBottom:"3px solid #62789d"}),handleClick:tabIndex:0,"aria-label":e,"data-cy":"tab-gallery-btn-".concat(e),role:"tab"},"tab-gallery"===n&&l.a.createElement(d,{tabTitle:e}),l.a.createElement("span",{className:"tab-title"},e),"tab-gallery"===n&&l.a.createElement(p,{count:o}),!u&&l.a.createElement("i",{className:"material-icons"},"lock"))}),v=function(t){var e=t.type,n=t.width,r=t.borderColor,i=t.tabList,o=t.toggleTab,a=t.activeTab;return l.a.createElement("div",{id:"tab-header",className:e||""},i.map(function(t,i){return t.title&&l.a.createElement(m,{key:t.title,title:t.title,type:e,active:a===i,index:i,count:t.count,toggleTab:o,width:n,enabled:t.enabled,borderColor:r})}))},g=function(t){var e=t.children,n=t.index;return l.a.createElement(l.a.Fragment,null,e[n])},y=function(t){var e=t.children;return l.a.createElement("div",{id:"tab-panel"},e)},b=(n(494),function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(){var t;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).state={activeTab:t.props.activeTab},t.toggleTab=function(e,n){var r=t.props,i=r.populateSnackBar,o=r.updateActiveTab;n?o?o(e):t.setState({activeTab:e}):(o?o(0):t.setState({activeTab:0}),i({showSnackBar:!0,message:"To access this feature, contact support@concept3d.com.",clearDelay:5e3}))},t}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(t,e){var n=this.state.activeTab,r=this.props.toggleActiveTab;e.activeTab!==n&&("function"===typeof r&&r(0===n?"Images":"Videos"))}},{key:"render",value:function(){var t=this.props,e=t.type,n=t.data,r=t.width,i=t.primaryColor,o=t.activeTab,a=t.updateActiveTab,s=t.mediaLibrary,c=a?o:this.state.activeTab;return l.a.createElement("section",{id:"tabs-wrapper","data-cy":"active-tab-".concat(c)},l.a.createElement(v,{type:e,width:r,borderColor:i,tabList:n,toggleTab:this.toggleTab,activeTab:c,mediaLibrary:s}),l.a.createElement(g,{index:c},n.map())}}]),n}(s.Component));e.a=b},524:function(t,e,n){"use strict";var r=n(11),i=n(0),o=n.n(i),a=n(37),s=n(39);ar c=n(166),u=n(153),h=n(152),d=n(150),p=n(151),f=n(4),m=n(10),v=n(16),g={arr:Array.isArray,obj:function(t){return"[object Object]"===Object.prototype.toString.call(t)},fun:function(t){return"function"===typeof t},str:function(t){return"string"===typeof t},num:function(t){return"number"===typeof t},und:nul:set:function(t){return t instanceof Set},map:function(t){return t instanceof Map},equ:;tion A(t){var e=t);if(g.und(e))return Object(m.a)({to:e},t);var n=Object.keys(t).reduce(function(n,r){return g.und(e[r])?Object(m.a)({},n,Object(f.a)({},r,t[r])):n},{});return Object(m.a)({to:e},n)}var E,_,T=function(){eturn Object(p.a)(t,[{key:"getAnimatedValue",value:function(){return this.getValue()}},{key:"getPayload",value:,{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"getChildren",value:function(){return this.children}},{key:"addChild",value:,{key:"removeChild",value:]),t}(),S=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(d.a)(this,n),(t=e.apply(this,arguments)).payload=[],t.attach=function(){return t.payload.forEach(function(e){return e instanceof T&&e.addChild(Object(c.a)(t))})},t.detach=function(){return t.payload.forEach(function(e){return e instanceof T&&e.removeChild(Object(c.a)(t))})},t}return n}(T),M=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(d.a)(this,n),(t=e.apply(this,arguments)).payload={},t.attach=function(){return Object.values(t.payload).forEach(function(e){return e instanceof T&&e.addChild(Object(c.a)(t))})},t.detach=function(){return Object.values(t.payload).forEach(function(e){return e instanceof T&&e.removeChild(Object(c.a)(t))})},t}return Object(p.a)(n,[{key:"getValue",value:,{key:"getAnimatedValue",value:function(){return this.getValue(!0)}}]),n}(T);unction I(t){_=t}var k,R=function(t){return"undefined"!==typeof window?window.requestAnimationFrame(t):-1};function L(t){k=t}var O=function(){return Date.now()};ar P,B,F=function(t){return t.current};ar U=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t,r){var i;return Object(d.a)(this,n),(i=e.call(this)).update=void 0,i.payload=t.style?Object(m.a)({},t,{style:P(t.style)}):t,i.update=r,i.attach(),i}return n}(M),j=!1,z=new Set,G=function t(){if(!j)return!1;var e,n=O(),r=l(z);try{for(r.s();!(e=r.n()).done;){for(var i=e.value,o=!1,a=0;a<i.configs.length;a++){for(var s=i.configs[a],c=void 0,u=void 0,h=0;h<s.animatedValues.length;h++){var d=s.animatedValues[h];if(!d.done){var p=s.fromValues[h],f=s.toValues[h],m=d.lastPosition,v=f instanceof T,g=Array.isArray(s.initialVelocity)?s.initialVelocity[h]:s.initialVelocity;if(v&&(f=f.getValue()),s.immediate)d.setValue(f),d.done=!0;else if("string"!==typeof p&&"string"!==typeof f){if(void 0!==s.duration)m=p+s.easing((n-d.startTime)/s.duration)*(f-p),c=n>=d.startTime+s.duration;else if(s.decay)m=p+g/(1-.998)*(1-Math.exp(-(1-.998)*(n-d.startTime))),(c=Math.abs(d.lastPosition-m)<.1)&&(f=m);else{u=void 0!==d.lastTime?d.lastTime:n,g=void 0!==d.lastVelocity?d.lastVelocity:s.initialVelocity,n>u+64&&(u=n);for(var y=Math.floor(n-u),b=0;b<y;++b){m+=1*(g+=1*((-s.tension*(m-f)+-s.friction*g)/s.mass)/1e3)/1e3}var x=!(!s.clamp||0===s.tension)&&(p<f?m>f:m<f),w=Math.abs(g)<=s.precision,A=0===s.tension||Math.abs(f-m)<=s.precision;c=x||w&&A,d.lastVelocity=g,d.lastTime=n}v&&!s.toValues[h].done&&(c=!1),c?(d.value!==f&&(m=f),d.done=!0):o=!0,d.setValue(m),d.lastPosition=m}else d.setValue(f),d.done=!0}}i.props.onFrame&&(i.values[s.name]=s.interpolation.getValue())}i.props.onFrame&&i.props.onFrame(i.values),o||(z.delete(i),i.stop(!0))}}catch(E){r.e(E)}finally{r.f()}return z.size?B?B():R(t):j=!1,j};function V(t,e,n){if("function"===typeof t)return t;if(Array.isArray(t))return V({range:t,output:e,extrapolate:n});if(k&&"string"===typeof t.output[0])return k(t);var r=t,i=r.output,o=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||function(t){return t};return var H=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t,r,i,o){var a;return Object(d.a)(this,n),(a=e.call(this)).calc=void 0,a.payload=t instanceof S&&!(t instanceof n)?t.getPayload():Array.isArray(t)?t:[t],a.calc=V(r,i,o),a}return Object(p.a)(n,[{key:"getValue",value:function(){return this.calc.apply(this,Object(a.a)(this.payload.map(function(t){return t.getValue()})))}},{key:"updateConfig",value:,{key:"interpolate",value:function(t,e,r){return new n(this,t,e,r)}}]),n}(S);var W=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var r,i;return Object(d.a)(this,n),r=e.call(this),i=Object(c.a)(r),r.animatedStyles=new Set,r.value=void 0,r.startPosition=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.startTime=void 0,r.lastTime=void 0,r.done=!1,r.setValue=r.value=t,r.startPosition=t,r.lastPosition=t,r}return Object(p.a)(n,[{key:"flush",value:,{key:"clearStyles",value:function(){this.animatedStyles.clear()}},{key:"getValue",value:function(){return this.value}},{key:"interpolate",value:function(t,e,n){return new H(this,t,e,n)}}]),n}(T),J=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(d.a)(this,n),(r=e.call(this)).payload=t.map(function(t){return new W(t)}),r}return Object(p.a)(n,[{key:"setValue",value:,{key:"getValue",value:function(){return this.payload.map(function(t){return t.getValue()})}},{key:"interpolate",value:function(t,e){return new H(this,t,e)}}]),n}(S),Z=0,Y=function(){function t(){var e=this;Object(d.a)(this,t),this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=function(){return e.interpolations},this.id=Z++}return Object(p.a)(t,[{key:"update",value:function(t){if(!t)return this;var e=A(t),n=e.delay,r=void 0===n?0:n,i=e.to,o=Object(v.a)(e,["delay","to"]);if(g.arr(i)||g.fun(i))this.queue.push(Object(m.a)({},o,{delay:r,to:i}));else if(i){var a={};Object.entries(i).forEach(function(t){var e=t[0],n=t[1],i=Object(m.a)({to:Object(f.a)({},e,n),delay:w(r,e)},o),s=a[i.delay]&&a[i.delay].to;a[i.delay]=Object(m.a)({},a[i.delay],i,{to:Object(m.a)({},s,i.to)})}),this.queue=Object.values(a)}return this.queue=this.queue.sort(function(t,e){return t.delay-e.delay}),this.diff(o),this}},{key:"start",value:function(t){var e,n=this;if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(;var r=this.local=++this.guid,i=this.localQueue=this.queue;this.queue=[],i.forEach(}else g.fun(t)&&this.listeners.push(t),this.props.onStart&&this.props.onStart(),e=this,z.has(e)||z.add(e),j||(j=!0,R(B||G));return this}},{key:"stop",value:,{key:"pause",value:,{key:"runAsync",value:function(t,e){var n=this,r=this,i=(t.delay,Object(v.a)(t,["delay"])),o=this.local,a=Promise.resolve(void 0);if(g.arr(i.to))for(var s=function(t){var e=t,r=Object(m.a)({},i,A(i.to[e]));g.arr(r.config)&&(r.config=r.config[e]),a=a.then(},l=0;l<i.to.length;l++)s(l);else if(g.fun(i.to)){var c,u=0;a=a.then(}a.then(e)}},{key:"diff",value:function(t){var e=this;this.props=Object(m.a)({},this.props,t);var n=this.props,r=n.from,i=void 0===r?{}:r,o=n.to,a=void 0===o?{}:o,s=n.config,l=void 0===s?{}:s,c=n.reverse,u=n.attach,h=n.reset,d=n.immediate;if(c){var p=[a,i];i=p[0],a=p[1]}this.merged=Object(m.a)({},i,this.merged,a),this.hasChanged=!1;var v=u&&u(this);if(this.animations=Object.entries(this.merged).reduce(function(t,n){var r=n[0],o=n[1],a=t[r]||{},s=g.num(o),c=g.str(o)&&!o.startsWith("#")&&!/\d/.test(o)&&!_[o],u=g.arr(o),p=!s&&!u&&!c,y=g.und(i[r])?o:i[r],A=s||u?o:c?o:1,E=w(l,r);v&&(A=v.animations[r].parent);var T,S=a.parent,M=a.interpolation,C=x(v?A.getPayload():A),I=o;p&&(I=k({range:[0,1],output:[o,o]})(1));var R=M&&M.getValue(),L=!g.und(S)&&a.animatedValues.some(function(t){return!t.done}),D=!g.equ(I,R),P=!g.equ(I,a.previous),B=!g.equ(E,a.config);if(h||P&&D||B){if(s||c)S=M=a.parent||new W(y);else if(u)S=M=a.parent||new J(y);else if(p){var F=a.interpolation&&a.interpolation.calc(a.parent.value);F=void 0===F||h?y:F,a.parent?(S=a.parent).setValue(0,!1):S=new W(0);var N={output:[F,o]};a.interpolation?(M=a.interpolation,a.interpolation.updateConfig(N)):M=S.interpolate(N)}return C=x(v?A.getPayload():A),T=x(S.getPayload()),h&&!p&&S.setValue(y,!1),e.hasChanged=!0,T.forEach(,w(d,r)&&S.setValue(p?A:o,!1),Object(m.a)({},t,Object(f.a)({},r,Object(m.a)({},a,{name:r,parent:S,interpolation:M,animatedValues:T,toValues:C,previous:I,config:E,fromValues:x(S.getValue()),immediate:w(d,r),initialVelocity:b(E.velocity,0),clamp:b(E.clamp,!1),precision:b(E.precision,.01),tension:b(E.tension,170),friction:b(E.friction,26),mass:b(E.mass,1),duration:E.duration,easing:b(E.easing,function(t){return t}),decay:E.decay})))}return D?t:(p&&(S.setValue(1,!1),M.updateConfig({output:[I,I]})),S.done=!0,e.hasChanged=!0,Object(m.a)({},t,Object(f.a)({},r,Object(m.a)({},t[r],{previous:I}))))},this.animations),this.hasChanged)for(var y in this.configs=Object.values(this.animations),this.values={},this.interpolations={},this.animations)this.interpolations[y]=this.animations[y].interpolation,this.values[y]=this.animations[y].interpolation.getValue();return this}},{key:"destroy",value:]),t}(),K=function(t,e){var n=Object(i.useRef)(!1),r=Object(i.useRef)(),o=g.fun(e),a=Object(i.useMemo)([t]),s=a[0],l=a[1];r.current=s;Object(i.useImperativeHandle)(l,;var c=Object(i.useMemo)([t]);Object(i.useEffect)(,Object(i.useEffect)([]);var u=r.current.map(function(t){return t.getValues()});return o?[u,c,:u};var Q=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(d.a)(this,n),void 0===t&&(t={}),r=e.call(this),!t.transform||t.transform instanceof T||(t=E.transform(t)),r.payload=t,r}return n}(M),q={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},X="[-+]?\\d*\\.?\\d+",$=X+"%";ar et=new RegExp("rgb"+tt(X,X,X)),nt=new RegExp("rgba"+tt(X,X,X,X)),rt=new RegExp("hsl"+tt(X,$,$)),it=new RegExp("hsla"+tt(X,$,$,X)),ot=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,at=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,st=/^#([0-9a-fA-F]{6})$/,lt=/^#([0-9a-fA-F]{8})$/;on mt(t){var e=t);if(null===e)return t;var n=(16711680&(e=e||0))>>>16,r=(65280&e)>>>8,i=(255&e)/255;return"rgba(".concat((4278190080&e)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var vt=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,gt=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,yt=new RegExp("(".concat(Object.keys(q).join("|"),")"),"g"),bt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xt=["Webkit","Ms","Moz","O"];t=Object.keys(bt).reduce(bt);var At={};N(function(t){return new Q(t)}),D("div"),L(function(t){var e=t.output.map(function(t){return t.replace(gt,mt)}).map(function(t){return t.replace(yt,mt)}),n=e[0].match(vt).map(function(){return[]});e.forEach(;var r=e[0].match(vt).map(function(e,r){return V(Object(m.a)({},t,{output:n[r]}))});return ),I(q),C(function(t,e){if(!t.nodeType||void 0===t.setAttribute)return!1;var n=e.style,r=e.children,i=e.scrollTop,o=e.scrollLeft,a=Object(v.a)(e,["style","children","scrollTop","scrollLeft"]),s="filter"===t.nodeName||t.parentNode&&"filter"===t.parentNode.nodeName;for(var l in void 0!==i&&(t.scrollTop=i),void 0!==o&&(t.scrollLeft=o),void 0!==r&&(t.textContent=r),n)if(n.hasOwnProperty(l)){var c=0===l.indexOf("--"),u=wt(l,n[l],c);"float"===l&&(l="cssFloat"),c?t.style.setProperty(l,u):t.style[l]=u}for(var h in a){var d=s?h:At[h]||(At[h]=h.replace(/([A-Z])/g,);"undefined"!==typeof t.getAttribute(d)&&t.setAttribute(d,a[h])}},function(t){return t});var Et,_t,Tt=(Et=function(t){return Object(i.forwardRef)(function(e,n){var r=y(),a=Object(i.useRef)(!0),s=Object(i.useRef)(null),l=Object(i.useRef)(null),c=Object(i.useCallback)([]);Object(i.useEffect)([]),Object(i.useImperativeHandle)(n,,c(e);var u,h=s.current.getValue(),d=(h.scrollTop,h.scrollLeft,Object(v.a)(h,["scrollTop","scrollLeft"])),p=(u=t,!g.fun(u)||u.prototype instanceof o.a.Component?void 0);return o.a.createElement(t,Object(m.a)({},d,{ref:p}))})},void 0===(_t=!1)&&(_t=!0),(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),St=n(260);n(501),e.a=function(t){var e=t.setYPosition,n=t.yPosition,a=t.children,s=t.setRestPosition,l=t.restPosition,c=Object(St.b)(),u=Object(r.a)(c,2),h=u[0],d=u[1],p=d.delta,f=d.down,m=d.velocity,v=d.distance,y=d.direction,b={down:f,velocity:m,direction:y}),x=Object(i.useState)("none"),w=Object(r.a)(x,2),A=w[0],E=w[1],_={y:f&&p[1]>0?p[1]:n,immediate:onRest:function(t){return s(t.y)}}).y;Object(i.useEffect)(function(){b&&b.down&&!f&&b.direction[1]>0&&b.velocity>1.2&&n!==window.innerHeight&&e(window.innerHeight),b&&b.down&&!f&&v>=.7*window.innerHeight&&n!==window.innerHeight&&e(window.innerHeight),l===window.innerHeight&&(E("none"),n!==window.innerHeight&&E("inherit"))},[f,p,m,v,y,b,l,n,e]);var T,S,M,C=window.innerWidth<=1024;return o.a.createElement(Tt.div,{className:"drawer-content",style:{transform:(T=[_],S=T&&new H(T,S,M)),display:A}},C&&o.a.createElement(Tt.div,Object.assign({className:"gesture-button-wrapper"},h()),o.a.createElement("div",{className:"gesture-button",onClick:e,"data-cy":"stop-gallery__mobile-close-btn",role:"button","aria-label":"close gallery"},o.a.createElement("div",{className:"bar"}))),a)}},531:function(t,e,n){"use strict";var r=n(150),i=n(151),o=n(166),a=n(153),s=n(152),l=n(0),c=n.n(l),u=n(6),h=n(24),d=n.n(h),p=n(23),f=n(164),m=n(173),v=n(532),g=n.n(v),y=(n(595),function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).state={invalidToken:!1},t.invalidToken=t.invalidToken.bind(Object(o.a)(t)),t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.addControls,n=t.analytics,r=t.mapStyle,i=t.mapRendering,o=t.tourId,a=t.mapToken,s=a||u.a.mapboxgl;this.mapContainer.style.height="100%",m.a.renderMap({container:this.mapContainer,mapControls:e,analytics:n,mapStyle:r,mapRendering:i,tourId:o,mapToken:s},this.invalidToken)}},{key:"shouldComponentUpdate",value:function(t,e){return this.props.mapStyle!==t.mapStyle||!this.state.invalidToken&&e.invalidToken||this.props.path!==t.path}},{key:"componentDidUpdate",value:function(t,e){var n=this.props,r=n.mapStyle,i=n.tourId,o=n.mapRendering;r!==t.mapStyle&&m.a.updateMapStyle(r,i,o),!e.invalidToken&&this.state.invalidToken&&p.a.push("/token/error/404")}},{key:"invalidToken",value:,{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.tier,i=e.path,o=e.miniMapView,a=d()({"cms-view":!i.includes("/view")&&!i.includes("/share"),"main-view":"map"!==o,"minimap-view":"map"===o,hidden:i.includes("/hotspots-manager"),edit:i.includes("/edit")&&!i.includes("/edit/stop/"),starter:"starter"===r}),s="starter"===r?"starter":"";return c.a.createElement("section",{id:"map",className:a,ref:function(e){return t.mapContainer=e},"data-cy":"".concat("map"===o?"minified-map":"maximized-map")},n,c.a.createElement(f.a,{className:"c3d-privacy-policy ".concat(s),href:"https://www.concept3d.com/concept3d-privacy-policy","aria-label":"concept3D privacy policy",newTab:!0},"Privacy Policy"),c.a.createElement(f.a,{className:"c3d-tos ".concat(s),href:"https://www.concept3d.com/concept3d-tour-builder-terms-of-service","aria-label":"concept3D terms of service",newTab:!0},"Terms of Service"),c.a.createElement(f.a,{className:"concept3d ".concat(s),href:"https://www.concept3d.com","aria-label":"concept3D site",newTab:!0},c.a.createElement("img",{src:g.a,alt:"Concept3D Logo",width:"100"})))}}]),n}(l.Component));e.a=y},532:function(t,e,n){t.exports=n.p+"static/media/logo.52521a24.svg"},547:function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(650);e.a=,593:function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(164),a=(n(185),n(191)),s=n.n(a),l=n(594),c=n.n(l);e.a=function(t){var e=t.goBack,n=t.hideBackButton;return i.a.createElement("section",{className:"error-page"},i.a.createElement("img",{src:s.a,className:"error-logo",alt:"concept3d dark logo"}),i.a.createElement("h1",null,"Tour Builder"),i.a.createElement("h3",null,"This tour is inactive"),i.a.createElement("p",null,"The requested tour or account is no longer available, please select another tour to view"),i.a.createElement("img",{src:c.a,className:"tour-not-found-image",alt:"This tour is inactive"}),!n&&i.a.createElement(o.a,{handleClick:e},i.a.createElement("button",{className:"go-back-btn"},"Tour Builder Home")))}},594:function(t,e,n){t.exports=n.p+"static/media/inactive-account.75f275f6.jpg"},595:function(t,e,n){},596:function(t,e,n){"use strict";nction o(t,e){return""!==i(t)||(""!==e&&null!==e?(r(t,e,365),!1):void 0)}n.d(e,"c",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o})},649:function(t,e,n){"use strict";var r=n(4),i=n(1),o=n(11),a=n(0),s=n.n(a),l=n(83),c=n(24),u=n.n(c),h=n(27),d=(n(159),n(227)),p=n(226),f=n(36);e.a=function(t){var e,n=t.changeStop,c=t.children,m=t.currentStop,v=t.currentTour,g=t.hotspotId,y=t.hotspots,b=t.isAddHotspot,x=t.panoId,w=t.style,A=t.previewTour,E=Object(f.e)(function(t){return t.stops}).stops,_=Object(l.f)(),T=Object(a.useState)(!1),S=Object(o.a)(T,2),M=S[0],C=S[1],I=Object(a.useState)({}),k=Object(o.a)(I,2),R=k[0],L=k[1],O=Object(a.useState)(0),D=Object(o.a)(O,2),P=D[0],B=D[1],F=Object(a.useState)(0),N=Object(o.a)(F,2),U=N[0],j=N[1],z=Object(a.useState)(0),G=Object(o.a)(z,2),V=G[0],H=G[1],W=Object(a.useState)(0),J=Object(o.a)(W,2),Z=J[0],Y=J[1],K="static-image-".concat(x),Q=Object(h.g)(x),q=Object(h.g)(R),X=Object(h.g)(P),$=Object(a.useRef)(),tt=Object(l.f)().pathname;Object(a.useEffect)(function(){var t=function(){if(B(window.innerWidth),R[x]){var t=document.getElementById(K);if(t&&t.naturalWidth&&t.naturalHeight){var e=t.naturalWidth<t.naturalHeight?t.naturalHeight/t.naturalWidth:t.naturalWidth/t.naturalHeight;j(e),H(t.naturalHeight),Y(t.naturalWidth)}$.current&&$.current.setAttribute("src","#".concat(K))}};t(),Q!==x&&t();var e=n=$.current;return n&&n.addEventListener("animationcomplete__fade-in",function(){return C(!0)}),window&&window.addEventListener("resize",e),function(){n&&n.removeEventListener("animationcomplete__fade-in",function(){return C(!1)}),window&&window.removeEventListener("resize",e)}},[y,q,R,Q,x,K,M,C,$,P,X]);var et,nt,rt=function(t){Object.keys(ot).forEach(function(e){var n=document.querySelector("#hotspot_".concat(e));if(n){var r=n.getAttribute("position"),i=r.x,o=r.y;n.setAttribute("position",{x:i,y:o,z:t})}ot[e].position.position.z=t})},it=window.innerWidth<540?6:window.innerWidth<825?3:window.innerWidth<1025?2:6;window.innerWidth,V>Z&&(et=U>1?16/U:16,nt=U>1?16:16*U),Z>V&&(et=U>1?16:16*U,nt=U>1?16/U:16);var ot=y||m&&m.hotspots,at=ot&&Object.keys(ot).length>0,st=function(t,e,n){var r=window.innerWidth/window.innerHeight,i=t/2/e/Math.tan(80*Math.PI/360);return e<1?i*e-n:r<1&&e>1?n+i/e:-n+i}(16,U,it);at&&P&&X!==P&&rt(P<1025?.5:-8);var lt=u()({"hotspots-manager-preview":tt.includes("hotspots-manager")});return s.a.createElement("a-scene",{style:w,id:"scene",cursor:"rayOrigin: mouse; fuseTimeout: 0;",class:lt,raycaster:"objects: .clickable;","vr-mode-ui":"enabled: false","device-orientation-permission-ui":"enabled: false","loading-screen":"enabled: false",background:"color: black",embedded:!0},c,s.a.createElement("a-assets",null,v&&(function(){var t=[];return v&&(t=A||_.pathname.includes("hotspots-manager")?v.stopIds.filter(function(t){return E[t]}).map(function(t){return E[t]}):v.tourStops),t}()||[]).filter(function(t){return"images"===t.mainMediaType}).map(function(t){var e="https://res.cloudinary.com/concept3d/image/upload/q_auto,f_auto,b_black,c_lfill,dpr_1.0,g_center/v1/images/".concat(t.panoId);return s.a.createElement("img",{key:t.panoId,id:"static-image-".concat(t.panoId),src:e,alt:"",onLoad:function(){return L(Object(i.a)(Object(i.a)({},R),{},Object(r.a)({},t.panoId,!0)))}})})),s.a.createElement("a-image",{ref:$,width:et,height:nt,position:"0 0 -".concat(it),material:"transparent: true; depthWrite: false;",opacity:"0","animation__fade-in":"property: opacity; to: 1; dur: ".concat(p.a,"; startEvents: loaded;"),"animation__fade-out":"property: opacity; to: 0; dur: ".concat(p.b,"; startEvents: fadeout;")}),M&&at&&s.a.createElement(d.a,{changeStop:n,hotspotId:g,hotspots:ot,isAddHotspot:b,tourId:v.id,tourName:v.name,showHotspotModal:at,hotspotIcons:null===v||void 0===v?void 0:null===(e=v.styles)||void 0===e?void 0:e.hotspotIcons,isStatic:!0}),s.a.createElement("a-camera",{"look-controls-enabled":"false","wasd-controls-enabled":"false",id:"camera",position:"0 0 ".concat(st)}))}},650:function(t,e,n){},651:function(t,e,n){},652:function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(653);e.a=function(t){var e=t.name,n=t.description,o=t.defaultMsg,a=t.showDefault,s=t.renderIframe,l=(t.publicTour,t.classes);return i.a.createElement("div",{id:"form-display-container",className:l},a?i.a.createElement("p",null,o):i.a.createElement(r.Fragment,null,i.a.createElement("h1",{className:"tour-editor-forms-container__right__name"},e),i.a.createElement("span",{className:"tour-editor-forms-container__right__description"},n),i.a.createElement("div",{id:"iframe-container",dangerouslySetInnerHTML:s()})))}},653:function(t,e,n){},709:function(t,e,n){"use strict";var r=n(150),i=n(151),o=n(153),a=n(152),s=n(0),l=n.n(s),c=n(24),u=n.n(c),h=n(495),d=n(35),p=n(157),f=function(t){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 71.7 71.8",className:"facebook-logo",style:{fill:t.fill}},l.a.createElement("path",{className:"a",d:"M67.7,0H4A4.012,4.012,0,0,0,0,4V67.8a4.012,4.012,0,0,0,4,4H38.3V43.9H29V33.1h9.3v-8c0-9.3,5.7-14.3,13.9-14.3,4,0,7.4.3,8.3.4v9.7H54.8c-4.5,0-5.4,2.1-5.4,5.3v6.9H60.1L58.7,43.9H49.4V71.7H67.7a4.012,4.012,0,0,0,4-4V4A4.012,4.012,0,0,0,67.7,0Z"}))},m=function(t){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 72.1 72",className:"twitter-logo",style:{fill:t.fill}},l.a.createElement("path",{className:"a",d:"M67.6,0H4.4A4.439,4.439,0,0,0,0,4.4V67.7A4.42,4.42,0,0,0,4.4,72H67.7a4.439,4.439,0,0,0,4.4-4.4V4.4A4.6,4.6,0,0,0,67.6,0ZM52,27.8v1.1c0,10.9-8.3,23.5-23.5,23.5a23.9,23.9,0,0,1-12.7-3.7,12.75,12.75,0,0,0,2,.1,16.85,16.85,0,0,0,10.3-3.5,8.33,8.33,0,0,1-7.7-5.7,8.083,8.083,0,0,0,1.6.1,7.8,7.8,0,0,0,2.2-.3,8.257,8.257,0,0,1-6.6-8.1v-.1a7.873,7.873,0,0,0,3.7,1,8.343,8.343,0,0,1-3.7-6.9,8.769,8.769,0,0,1,1.1-4.2,23.365,23.365,0,0,0,17,8.6,11.076,11.076,0,0,1-.2-1.9,8.28,8.28,0,0,1,8.3-8.3,8.145,8.145,0,0,1,6,2.6,18.748,18.748,0,0,0,5.3-2,8.27,8.27,0,0,1-3.6,4.6,15.51,15.51,0,0,0,4.8-1.3A18.011,18.011,0,0,1,52,27.8Z"}))},v=function(t){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 71.903 72",className:"linkedin-logo",style:{fill:t.fill}},l.a.createElement("path",{className:"a",d:"M67.5,0H4.5A4.481,4.481,0,0,0,0,4.5V67.4A4.5,4.5,0,0,0,4.5,72H67.4a4.481,4.481,0,0,0,4.5-4.5V4.5A4.337,4.337,0,0,0,67.5,0ZM24.7,56H16.3V29.1h8.4ZM20.5,25.4a4.8,4.8,0,1,1,4.8-4.8A4.679,4.679,0,0,1,20.5,25.4ZM56,56H47.6V42.9c0-3.1-.1-7.1-4.3-7.1-4.3,0-5,3.4-5,6.9V56H30V29.1h8v3.7h.1A8.709,8.709,0,0,1,46,28.5c8.5,0,10,5.6,10,12.8Z"}))},g=function(t){var e=t.type,n=t.href,r=t.tourId,i=t.tourName;return l.a.createElement(d.a,{handleClick:function(){return window.open(n,"targetWindow","toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=250"),Object(p.a)("".concat(r,"-").concat(i),"Share Tour",e),!1},className:"socialshare-button","aria-label":"click to share on ".concat(e)},function(){switch(e){case"facebook":return l.a.createElement(f,{fill:"#999"});case"twitter":return l.a.createElement(m,{fill:"#999"});case"linkedin":return l.a.createElement(v,{fill:"#999"});default:return null}}())};var y=function(t){t.config,t.data;var e=t.buttonTypesArray,n=t.shareUrl,r=t.tourId,i=t.tourName;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",{className:"share-title",tabIndex:0,"aria-label":"Share on social media icons"},"Share link on:"),l.a.createElement("div",{className:"social-media-buttons"},e.map(function(t){var e=function(t,e){switch(t){case"facebook":return"https://www.facebook.com/sharer/sharer.php?u=".concat(e);case"twitter":return"https://twitter.com/intent/tweet?url=".concat(e,"%2F");case"linkedin":return"https://www.linkedin.com/shareArticle?mini=true&&url=".concat(e);default:return null}}(t,n);return l.a.createElement(g,{key:t,type:t,href:e,tourId:r,tourName:i})})))},b=n(547),x=(n(651),function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).setShareView=function(e){t.setState({shareView:e})},t.handlePublishNow=function(){var e=t.props,n=e.tourId,r=e.history,i=e.closeModal;"function"===typeof i()&&i(),r.push("/home/".concat(n,"/edit/publish"))},t.renderPublishBtn=function(){return l.a.createElement(d.a,{className:"publish-now text-btn",handleClick:t.handlePublishNow},l.a.createElement("i",{className:"material-icons"},"open_in_new"),"\xa0Go Publish")},t.renderSocialShareBtns=function(e){var n=t.props,r=n.tourId,i=n.tourName,o=n.aid;return l.a.createElement(y,{buttonTypesArray:["facebook","twitter","linkedin"],shareUrl:e,tourId:r,tourName:i,aid:o})},t.state={shareView:"pano"},t}return Object(i.a)(n,[{key:"render",value:function(){var t=this,e=this.state.shareView,n=this.props,r=n.aid,i=n.tourId,o=n.tourName,a=n.published,s=n.uptoDate,c=n.embed,p=n.tourEditor,f=n.showPublishButton,m=this.props.shareUrl;"map"===e&&(m=m.concat("?mv"));var v='\n      <iframe src="'.concat(m,'" width="100%" height="100%" border="0" scroll="no" allowfullscreen>\n        Your browser does not support Iframes\n      </iframe>\n    ');return l.a.createElement("section",{className:"share-wrapper"},l.a.createElement("h2",{tabIndex:0},"Share Tour"),p&&l.a.createElement("p",{className:"tour-editer-note"},"Generate share and embed URLs of your tour when are ready to show them to the world. Changes that have not been published will not be visible on public share URLs and embeds."),a?l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{tabIndex:0},"Tour View"),l.a.createElement("p",{tabIndex:0},"Set the share link and embed code to initially show the tour media or map."),l.a.createElement("div",{className:"share-view-buttons"},l.a.createElement(d.a,{className:u()("share-view-button",{active:"pano"===e}),handleClick:function(){return t.setShareView("pano")},"aria-pressed":"pano"===e,"data-cy":"share-view-btn-pano"},"Media View"),l.a.createElement(d.a,{className:u()("share-view-button",{active:"map"===e}),handleClick:function(){return t.setShareView("map")},"aria-pressed":"map"===e,"data-cy":"share-view-btn-map"},"Map View")),l.a.createElement("span",{className:"share-url"},l.a.createElement("span",{className:"share-label"},l.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},"link"),"\xa0",l.a.createElement("h4",{className:"share-heading-4",tabIndex:0},"Share Link")),l.a.createElement("span",{className:"share-url-contents","data-cy":"share-url",tabIndex:0},m),l.a.createElement(h.a,{shareUrl:m,tourId:i,tourName:o,type:"share",aid:r})),this.renderSocialShareBtns(m),c&&l.a.createElement("span",{"data-cy":"embed-url",className:"embed-url"},l.a.createElement("span",{className:"share-label"},l.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},"code"),"\xa0",l.a.createElement("h4",{tabIndex:0},"Embed iframe")),l.a.createElement("span",{tabIndex:0},v),l.a.createElement(h.a,{shareUrl:v,tourId:i,tourName:o,type:"embed"})),!s&&l.a.createElement(b.a,null,l.a.createElement("p",null,"There are unpublished changes that are not visible using public share urls."),f&&this.renderPublishBtn())):l.a.createElement(b.a,null,l.a.createElement("p",null,"This tour is unpublished. Please publish your tour to produce a share url")))}}]),n}(s.Component));e.a=x}}]);