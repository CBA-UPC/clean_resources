(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[6768],{10793:(e,t,r)=>{"use strict";r.d(t,{f:()=>s});var a=r(76955),n=r(52377),o=r(5154),i=r.n(o),c=r(54285);class s extends a.PureComponent{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleInview=this.handleInview.bind(this),this.startListen=this.startListen.bind(this),this.stopListen=this.stopListen.bind(this),this.inviewTracked=!1,this.tapTracked=!1}static get defaultProps(){return{activate:["tap"],algorithmId:"",bloggerAmebaId:"",categories:[],categoryId:"",subCategoryId:"",children:null,contentId:"",disable:!1,displayPosition:"",entryId:"",orderId:"",pageId:"",sectionId:"",serviceId:"",tagName:"",tapLogger:i(),viewLogger:i()}}componentDidMount(){this.startListen()}componentDidUpdate(){this.startListen()}et params(){var{algorithmId:e,bloggerAmebaId:t,categoryId:r,subCategoryId:a,contentId:n,displayPosition:o,pageId:i,entryId:c,orderId:s,sectionId:p,serviceId:d,tagName:g}=this.props;return{algorithmId:e,bloggerAmebaId:t,categories:this.props.categories.filter((),categoryId:r,subCategoryId:a,contentId:n,displayPosition:o,pageId:i,entryId:c,orderId:s,sectionId:p,serviceId:d,tagName:g}}startListen(){-1===this.props.activate.indexOf("view")||this.inviewTracked||(s.intersectionListener||(s.intersectionListener=(0,c.T)({})),this.stopListen(),this.trigger=n.findDOMNode(this),this.trigger&&!this.unlisten&&(this.unlisten=s.intersectionListener.listen(this.trigger,(e=>{(e.isIntersecting||e.intersectionRatio>0)&&(this.stopListen(),this.handleInview())}))))}andleClick(e){var t=a.Children.only(this.props.children).props.onClick;t&&t(e),this.props.tapLogger(this.params)}ender(){if(this.props.disable)return this.props.children;var e=this.props.children;return-1!==this.props.activate.indexOf("tap")&&(e=a.cloneElement(e,{onClick:this.handleClick})),e}}s.displayName="Tracker"},18958:72519:(e,t,r)=>{"use strict";r.d(t,{Hc:()=>l});var a=r(66062),n=r(55752),o=r.n(n),i=r(5663),c=r.n(i),s=r(18274),p=r(94563),d=g=(e,t,r,a)=>({type:p.Db,payload:{yearMonth:e,page:t,blogId:r,error:a},error:!0}),l=(0,s.H)((function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return function(){var i=(0,a.Z)((function*(a,i,s){var{fetchr:l}=s,h=parseInt(r,10),m=i(),u=o()(m,["archiveState","archivePageMap",e],{}),y=o()(u,["".concat(t,"/").concat(h)],{});if(!c()(u)&&!c()(y)&&!c()(y.data))return null;try{a({type:p.mm,payload:{yearMonth:t,page:h,blogId:e}});var b={amebaId:o()(m,["bloggerState","blogMap",e,"blog_name"],""),blogId:e,page:h,yearMonth:t,reqYearMonth:"".concat(t.slice(0,4),"-").concat(t.slice(4,6)),offset:r>0?(r-1)*n:0,limit:n},v=yield l.read("blogArchiveEntries").params(b).end();return a(d(t,h,v.data,e))}catch(f){return a(g(t,h,e,f))}}));return ()}))},39954:(e,t,r)=>{"use strict";r.d(t,{x:()=>c});var a=r(91938),n=r.n(a),o=r(76955);function i(e){var{children:t,placeholder:r=null}=e,[a,n]=(0,o.useState)(!1);return(0,o.useEffect)((,[]),a?t:r}i.propTypes={children:n().node.isRequired,placeholder:n().node};var c=(0,o.memo)(i)},45651:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var a,n,o,i=r(3e4),c=r(41185),s=r(66062),p=(r(91938),r(76955)),d=r(55752),g=r.n(d),l=r(29466),h=r.n(l),m=r(66948),u=r(97175),y=r(72519),b=r(73614),v=r(81454),f=r(12942),I=r(5563),w=r(13248),T=r(96216),Z=r(82282);class k extends p.Component{static get defaultProps(){return{blog:{},entries:[],paging:{},seoSetting:{}}}shouldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.pageType!==e.pageType||this.props.yearMonth!==e.yearMonth||!h()(this.props.blog,e.blog)||!h()(this.props.paging,e.paging)||!h()(this.props.seoSetting,e.seoSetting)}formatYearMonth(e){return e?"".concat(e.slice(0,4),"\u5e74").concat(e.slice(4,6),"\u6708"):""}render(){var e=this.props.paging.current_page||1,t=e>1?" -".concat(e||1,"\u30da\u30fc\u30b8\u76ee"):"",r=(0,Z.Z)(this.props.pageType,{amebaId:this.props.amebaId,seoSetting:this.props.seoSetting||{},paging:this.props.paging,entryYm:this.props.yearMonth});return(0,i.Z)(T.ql,{},void 0,(0,i.Z)("title",{},void 0,"".concat(this.formatYearMonth(this.props.yearMonth),"\u306e\u30d6\u30ed\u30b0\uff5c").concat(this.props.blog.blog_title||"").concat(t)),r)}}nction A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=parseInt(e,10);return!t||t<1?1:t}k.displayName="Head";var _=function(){var e=(0,s.Z)((function*(e){var{dispatch:t,getState:r,match:a}=e,{params:n}=a,o=n.amebaId,i=n.yearMonth,c=yield t((0,b.Rs)(o));if(c&&c.error)"Not Found"===g()(c,"payload.error.message")?t((0,f.Qn)(o)):t((0,f.$F)(o));else{var s=g()(r(),["bloggerState","bloggerMap",o,"blog"]),p=r().bloggerState.blogMap[s];if(p&&p.blog_id){var d=A(n.page);yield t((0,y.Hc)(s,i,d,10))}else t((0,f.Qn)(o))}}));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=(0,s.Z)((function*(e){var{dispatch:t,getState:r,match:a}=e,{params:n}=a,o=n.amebaId,i=n.yearMonth,c=g()(r(),["bloggerState","bloggerMap",o,"blog"]),s=A(n.page),p=r().archiveState,d=g()(p,["archivePageMap",c,"".concat(i,"/").concat(s)],{}).data||[];t((0,v.l1)(c,d))}));return (),S=(0,m.$j)(((e,t)=>{var{match:r}=t,{params:a,route:n}=r,o=a.amebaId,i=a.yearMonth,c=e.bloggerState,s=e.entryState,p=e.archiveState,d=c.bloggerMap[o]||{},l=d.seo_setting||{},h=d.attribute||{},m=d.blog,u=c.blogMap[d.blog]||{},y=p.archivePageMap[m]||{},b=s.entryMap,v=(e.skinState.spSkinMap[m]||{}).layout,f=n.pageType,I=g()(d,"official.image_protection_type")||"",w=A(a.page),T=y["".concat(i,"/").concat(w)]||{},Z=(T.data||[]).map((e=>L(L({},b[e]),s.entryReactionsMap[e]))),k=void 0===T.loading||T.loading,P=T.paging||{};return{amebaId:o,archiveLoading:k,blog:u,bloggerAttribute:h,currentPage:w,entries:Z,entryMap:b,imageProtectionType:I,layoutType:v,pageType:f,paging:P,seoSetting:l,yearMonth:i}}),{trackTapLog:I.XI,trackViewLog:I.iG,fetchArchiveEntriesRequest:y.Hc})(a=(0,u.provideHooks)({defer:_,done:M})((o=n=class extends p.Component{houldComponentUpdate(e){return!(this.props.amebaId===e.amebaId&&this.props.currentPage===e.currentPage&&this.props.fetchArchiveEntriesRequest===e.fetchArchiveEntriesRequest&&this.props.imageProtectionType===e.imageProtectionType&&this.props.layoutType===e.layoutType&&this.props.pageType===e.pageType&&this.props.yearMonth===e.yearMonth&&this.props.archiveLoading===e.archiveLoading&&this.props.trackTapLog===e.trackTapLog&&this.props.trackViewLog===e.trackViewLog&&h()(this.props.bloggerAttribute,e.bloggerAttribute)&&h()(this.props.blog,e.blog)&&h()(this.props.entries,e.entries)&&h()(this.props.paging,e.paging)&&h()(this.props.seoSetting,e.seoSetting))}formatYearMonth(e){return"".concat(e.slice(0,4),"\u5e74").concat(e.slice(4,6),"\u6708")}render(){return(0,i.Z)("div",{},void 0,(0,i.Z)(k,{amebaId:this.props.amebaId,blog:this.props.blog,pageType:this.props.pageType,paging:this.props.paging,seoSetting:this.props.seoSetting,yearMonth:this.props.yearMonth}),(0,i.Z)(w.X,{amebaId:this.props.amebaId,blog:this.props.blog,bloggerAttribute:this.props.bloggerAttribute,bloggerType:this.props.bloggerAttribute.bloggerType,entries:this.props.entries,imageProtectionType:this.props.imageProtectionType,layoutType:this.props.layoutType,loading:this.props.archiveLoading&&this.props.entries.length<1,pageType:this.props.pageType,paging:this.props.paging,trackTapLog:this.props.trackTapLog,trackViewLog:this.props.trackViewLog,yearMonth:this.props.yearMonth}))}},n.displayName="SpArchiveEntryList",a=o))||a)||a},36509:(e,t,r)=>{"use strict";r.d(t,{IT:()=>m,O4:()=>u,WW:()=>v,oK:()=>y});var a=r(5663),n=r.n(a),o=r(43177),i=r.n(o),c=r(12943),s=r.n(c),p=r(16884),d=r(75457),g=r(77948),l=r(18958),h=r(19008);function m(e,t){return"amember"===t.publish_flg||"2"===t.publish_flg?(0,p.Z)(d.Z.AmemberEntry,{amebaId:e,entryId:t.entry_id}):(0,p.Z)(d.Z.Entry,{amebaId:e,entryId:t.entry_id})}function u(e,t){var r=m(e,t);return"https://cs.ameba.jp/inq/inquiry/vio?targetAmebaId=".concat(e,"&url=").concat(r,"&service=blog")}function y(e,t){if(n()(e)||!t)return!1;if(!n()(e)&&!e.entry_created_datetime)return!1;var r=i()(new Date,g.Z.DEFAULT_DATE),a=i()(e.entry_created_datetime,g.Z.DEFAULT_DATE);return s()(r,a)>t}function b(e){!function(e){window.YT&&window.YT.Player?e():(window.onYouTubeIframeAPIReady=()=>{window.YT.loaded&&window.YT.Player?e():window.YT.ready&&"function"==typeof window.YT.ready&&window.YT.ready(()},(0,h.v)("https://www.youtube.com/iframe_api").catch((e=>{console.warn(e)})))}((()=>{!function(e){var t=e.querySelectorAll('iframe[src^="https://www.youtube.com/embed/"]'),r=[],a=e=>{e.data===window.YT.PlayerState.PLAYING&&r.forEach((t=>{t!==e.target&&t.pauseVideo()}))};t.forEach((e=>{var t=new window.YT.Player(e,{events:{onStateChange:a}});r.push(t)}))}(e)}))}function v(e){e&&(null!==e.querySelector("blockquote.twitter-tweet")&&(0,h.v)("https://platform.twitter.com/widgets.js").then((()=>{window.twttr&&window.twttr.widgets&&window.twttr.widgets.load()})).catch((e=>{console.warn(e)})),null!==e.querySelector('blockquote[class="instagram-media"]')&&(0,h.v)("https://platform.instagram.com/en_US/embeds.js").then((()=>{window.instgrm&&window.instgrm.Embeds&&window.instgrm.Embeds.process()})).catch((e=>{console.warn(e)})),null!==e.querySelector(".pickCreative_root")&&(0,h.v)("".concat(window.process.env.HTTP_PATH_STAT,"/ameblo/pick/pick_sdk-").concat(l.C,".js")).then(().catch((),null!==e.querySelector('iframe[src^="https://www.youtube.com/embed/"]')&&b(e))}},82282:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var a=r(3e4),n=(r(76955),r(16884)),o=r(75457);function i(e,t){var{amebaId:r,entryId:i,themeId:c,entryYm:s}=t;if(!r)return[];var p="";switch(e){case o.Z.BlogTop:p=(0,n.Z)(o.Z.BlogTop,{amebaId:r});break;case o.Z.Entry:i&&(p=(0,n.Z)(o.Z.Entry,{amebaId:r,entryId:i}));break;case o.Z.Theme:c&&(p=(0,n.Z)(o.Z.Theme,{amebaId:r,themeId:c}));break;case o.Z.Archive:s&&(p=(0,n.Z)(o.Z.Archive,{amebaId:r,entryYm:s}))}var d=[];return p&&d.push((0,a.Z)("link",{href:p,rel:"canonical"},"seo_canonical")),d}function c(e,t){var{amebaId:r,paging:i,entryYm:c,themeId:s}=t;if(!i||!r)return[];var p=i.prev_page,d=i.next_page,g=i.current_page,l=p<g&&p>0,h=d>g,m="",u="";switch(e){case o.Z.BlogTop:m=l?(0,n.Z)(o.Z.BlogTop,{amebaId:r,page:p}):"",u=h?(0,n.Z)(o.Z.BlogTop,{amebaId:r,page:d}):"";break;case o.Z.Archive:m=l?(0,n.Z)(o.Z.Archive,{amebaId:r,entryYm:c,page:p}):"",u=h?(0,n.Z)(o.Z.Archive,{amebaId:r,entryYm:c,page:d}):"";break;case o.Z.Theme:m=l?(0,n.Z)(o.Z.Theme,{amebaId:r,themeId:s,page:p}):"",u=h?(0,n.Z)(o.Z.Theme,{amebaId:r,themeId:s,page:d}):"";break;case o.Z.Reader:m=l?(0,n.Z)(o.Z.Reader,{amebaId:r,page:p}):"",u=h?(0,n.Z)(o.Z.Reader,{amebaId:r,page:d}):""}var y=[];return m&&y.push((0,a.Z)("link",{href:m,rel:"prev"},"seo_prev")),u&&y.push((0,a.Z)("link",{href:u,rel:"next"},"seo_next")),y}function s(e,t){var{seoSetting:r={},prFlg:n,paging:i,totalReaders:c}=t,s="";if(r.noindex||!1)s="noindex,nofollow";else switch(e){case o.Z.Entry:s="1"===n?"noindex":"2"===n?"nofollow,max-image-preview:large":"3"===n?"noindex,nofollow":"max-image-preview:large";break;case o.Z.Reader:(0===c||i&&1===i.current_page)&&(s="noindex,nofollow");break;case o.Z.Theme:case o.Z.BlogTop:case o.Z.Archive:0===i.total_count&&(s="noindex,nofollow");break;case o.Z.AmemberEntry:s="noindex,follow";break;case o.Z.VideoList:i&&0===i.total_count&&(s="noindex,nofollow")}var p=[];return s&&p.push((0,a.Z)("meta",{content:s,name:"robots"},"seo_robots")),p}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!t.amebaId)return[];var r=s(e,t),a=c(e,t),n=[];return t.paging&&1!==t.paging.current_page||n.push(...i(e,t)),[...r,...a,...n]}},16884:(e,t,r)=>{"use strict";r.d(t,{Z:);var a=r(75457),n=e=>{var{amebaId:t,entryId:r,vnm:a}=e;return t&&r?"/".concat(t,"/video-").concat(r,".html").concat(a?"?vnm=".concat(a):""):""};function o(e,t){var{amebaId:r,entryId:o,themeId:i,entryYm:c,imageId:s,vnm:p,day:d,page:g=1}=t,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.process.env.HTTP_PATH_AMEBLO;if(!r||!e)return"";var h="".concat(l,"/").concat(r),m="";switch(e){case a.Z.BlogTop:return m=g>1?"page-".concat(g,".html"):"","".concat(h,"/").concat(m);case a.Z.EntryList:return m=g>1?"-".concat(g):"","".concat(h,"/entrylist").concat(m,".html");case a.Z.AmemberEntryList:return m=g>1?"-".concat(g):"","".concat(h,"/amemberentrylist").concat(m,".html");case a.Z.ArchiveTop:return"".concat(h,"/archivetop.html");case a.Z.Archive:if(c)return m=g>1?"".concat(g):"","".concat(h,"/archive").concat(m,"-").concat(c,".html");console.error("PageType.Archive: entryYm is undefined.");break;case a.Z.Day:if(d)return m=g>1?"".concat(g):"","".concat(h,"/day").concat(m,"-").concat(d,".html");console.error("PageType.Day: day is undefined.");break;case a.Z.ThemeTop:return"".concat(h,"/themetop.html");case a.Z.Theme:if(i)return m=g>1?"".concat(g):"","".concat(h,"/theme").concat(m,"-").concat(i,".html");console.error("PageType.Theme: themeId is undefined.");break;case a.Z.PopularRecentList:return m=g>1?"-".concat(g):"","".concat(h,"/popularrecentlist").concat(m,".html");case a.Z.Entry:if(o)return m=g>1?"".concat(g):"","".concat(h,"/entry").concat(m,"-").concat(o,".html");console.error("PageType.Entry: entryId is undefined.");break;case a.Z.ImageList:return m=g>1?"-".concat(g):"",c?"".concat(h,"/imagelist-").concat(c).concat(m,".html"):"".concat(h,"/imagelist.html");case a.Z.Image:if(o&&s)return"".concat(h,"/image-").concat(o,"-").concat(s,".html");console.error("PageType.Image: entryId or imageId is undefined.");break;case a.Z.VideoList:return m=g>1?"-".concat(g):"","".concat(h,"/videolist").concat(m,".html");case a.Z.Video:if(o)return"".concat(l).concat(n({amebaId:r,entryId:o,vnm:p}));console.error("PageType.Video: entryId is undefined.");break;case a.Z.IineEntry:if(o)return"".concat(h,"/iine_entry-").concat(o,".html");console.error("PageType.IineEntry: entryId is undefined.");break;case a.Z.Comment:if(m=g>1?"page-".concat(g,".html"):"",o)return"".concat(h,"/comment-").concat(o,"/").concat(m);console.error("PageType.Comment: entryId is undefined.");break;case a.Z.Reblog:if(m=g>1?"page-".concat(g,".html"):"",o)return"".concat(h,"/reblog-").concat(o,"/").concat(m);console.error("PageType.Reblog: entryId is undefined.");break;case a.Z.MessageBoard:return"".concat(h,"/message-board.html");case a.Z.Reader:return m=g>1?"-".concat(g):"","".concat(h,"/reader").concat(m,".html");case a.Z.Favorite:return m=g>1?"-".concat(g):"","".concat(h,"/favorite").concat(m,".html");case a.Z.Bookmark:return m=g>1?"-".concat(g):"","".concat(h,"/bookmark").concat(m,".html");case a.Z.AmemberEntry:if(o)return"".concat(window.process.env.HTTP_PATH_AMEBLO,"/").concat(r,"/amemberentry-").concat(o,".html");console.error("PageType.AmemberEntry: entryId is undefined.");break;case a.Z.ImageEmbed:if(o&&s)return"".concat(window.process.env.HTTP_PATH_EMBED,"/p/embed/").concat(r,"/image-").concat(o,"-").concat(s,".html");console.error("PageType.ImageEmbed: entryId or imageId is undefined.");break;case a.Z.SkinPreview:return"";default:console.error("PageType is not match.")}return""}},12943:52361:]);