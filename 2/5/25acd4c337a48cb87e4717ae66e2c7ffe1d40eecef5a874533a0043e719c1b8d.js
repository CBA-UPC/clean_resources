(self.webpackChunkhybrid_client=self.webpackChunkhybrid_client||[]).push([[5],{"./src/components/FederatedModule.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var o,r=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),a=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),l=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),c=n("./node_modules/@babel/runtime/regenerator/index.js"),u=n.n(c),d=n("webpack/sharing/consume/default/react/react"),p=n.n(d),m=n("./src/utils/log.js"),h=n("./src/utils/withErrorBoundary.tsx"),f=n("./src/utils/withStores.tsx"),g=n("./src/stores/ConfigStore.ts"),v=["scope","module","fallback","error","federatedModules","fallbackMappings"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){var n=new URL(e),o=new URL(t);return n.protocol=o.protocol,n.host=o.host,n.port=o.port||"",n.toString()}unction E(){return(E=(0,l.Z)(u().mark((function e(t,n,o){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var i=document.createElement("script");i.src=t,i.type="application/javascript",i.async=!0,i.crossOrigin="anonymous",i.onload=function(){i.onload=null,i.onerror=null,e({loadedUrl:t})},i.onerror=function(){if(i.onload=null,i.onerror=null,o.onError(),i.remove(),n.length>0&&!o.shouldCancel()){var s=n.shift(),a=b(t,s);o.onFallback(),S(a,n,o).then(e,r)}else r()},document.head.appendChild(i)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e[e.Loading=0]="Loading",e[e.Error=1]="Error",e[e.Ready=2]="Ready"}(o||(o={}));"undefined"==typeof __federated_module_load_urls__&&(globalThis.__federated_module_load_urls__={});var C=function(e,t,n){var r=(0,d.useState)(o.Loading),i=(0,a.Z)(r,2),l=i[0],c=i[1];return(0,d.useEffect)((function(){if(!window[e]){var r=t?function(e,t){var n,o=new URL(t),r=new URL("".concat(o.protocol,"//").concat(o.host));o.port&&(r.port=o.port);var i=r.toString(),s=e.find(();return null!==(n=null==s?void 0:s.fallbacks)&&void 0!==n?n:[]}(n,t):[];c(o.Loading);var i=!1;return S(t,(0,s.Z)(r),{shouldCancel:function(){return i},onError:function(){m.Z.statsIncCounter("federated_module.".concat(e,".error"))},onFallback:).then((function(t){var n=t.loadedUrl;__federated_module_load_urls__[e]=n,m.Z.statsIncCounter("federated_module.".concat(e,".onload")),a(o.Ready)}),(),function(){i=!0}}(o.Ready)}),[e,t]),l};const Z=(0,f.Z)([g.Z],()((function(e){var t=e.scope,r=e.module,s=e.fallback,c=e.error,m=e.federatedModules,f=e.fallbackMappings,g=(0,i.Z)(e,v);if(!m)return null;var _=m[t];"string"==typeof localStorage[t]&&(_=localStorage[t]);var b=C(t,_,null!=f?f:[]),S=(0,d.useState)(null),E=(0,a.Z)(S,2),Z=E[0],P=E[1],O=__federated_module_load_urls__[t],T=null==O?void 0:O.split("/").slice(0,-1).join("/");switch(b){case o.Loading:return p().createElement(d.Fragment,null,s);case o.Error:return p().createElement(d.Fragment,null,c);case o.Ready:return null===Z&&P((0,d.lazy)(function(e,t){return(0,l.Z)(u().mark((function o(){var r,i,s;return u().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.I("default");case 2:return r=window[e],o.next=5,r.init(n.S.default);case 5:return o.next=7,r.get(t);case 7:return i=o.sent,s=i(),o.abrupt("return",s);case 10:case"end":return o.stop()}}),o)})))}(t,r))),p().createElement(d.Suspense,{fallback:null!=s?s:null},p().createElement(h.S,{name:t,fallback:c},null!==Z&&p().createElement(Z,y(y({},g),{},{baseUrl:T}))));default:return null}}))},"./src/components/ReportComplaintButton.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("webpack/sharing/consume/default/react/react"),i=n.n(r),s=n("./node_modules/redux/es/redux.js"),a=n("./node_modules/theming/dist/theming.esm.js"),l=n("./node_modules/prop-types/index.js"),c=n.n(l),u=n("./node_modules/@atg/contentreview/index.js"),d=n("./src/stores/UserStore.js"),p=n("./src/stores/ConfigStore.ts"),m=n("./src/stores/PerformerStore.ts"),h=n("./src/constants/Messages.js"),f=n("./src/constants/ComplaintConstants.ts"),g=n("./src/utils/withTranslations.tsx"),v=n("./src/utils/tools.ts"),_=n("./src/utils/withStores.tsx"),y=n("./src/utils/complaint.ts"),b=n("./src/constants/Feature.ts"),S=n("./src/constants/Platforms.ts"),E=n("./src/components/FederatedModule.tsx"),C=n("./src/lib/Strings.js"),Z=n("./src/lib/AjaxRequest.js");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(e){return i().createElement(E.Z,O({scope:"contentcomplaint_client",module:"./ReportComplaintButton"},e))},I=function(e,t){var n,o=e.complaintLocation,r=e.reportableContents,s=e.enabledContentReportingFeatures,l=e.userLanguage,c=e.siteId,d=e.memberServer,p=e.googleInvisibleRecaptchaSiteKey,m=e.sakey,g=e.userId,_=e.performerId,b=e.platform,E=e.className,C=t.primaryColor,P=t.fullscreen,I=t.getClientModalTargetElement,w=r.map((function(e){var t,n;return O(O({},e),{},{contentCreatorUserType:null!==(t=e.contentCreatorUserType)&&void 0!==t?t:u.ContentCreatorUserType.Performer,contentCreatorId:null!==(n=e.contentCreatorId)&&void 0!==n?n:_})})).filter(().filter((function(e){var t=(0,y.f)(e);return void 0!==t&&s.has(t)}));if(!w.length)return null;var A=(0,a.Fg)(),R=m&&g?{sakey:m,complaintCreatorType:u.ComplaintCreatorType.User,tracking:Z.Z.getTrackingHeaders()}:void 0,k=P||b!==S.ZP.SCP?I():void 0,D={siteId:c,platform:null!==(n=f.sC.get(b))&&void 0!==n?n:u.ComplaintPlatform.SCP,memberServer:d,googleInvisibleRecaptchaSiteKey:p,container:k};return i().createElement("div",{className:E},i().createElement(T,{primaryColor:C,themeMode:A.mode,userLanguage:l,onLoggedOutClick:function(){(0,v.Vj)(h.Z.REQUIRES_AUTH)},reportableContents:w,complaintCreatorInfo:R,siteInfo:D,location:o}))};I.contextTypes={primaryColor:c().string,fullscreen:c().bool,getClientModalTargetElement:c().func.isRequired};const w=(0,s.qC)((0,_.Z)([p.Z,d.Z,m.Z],(function(e){var t;return{enabledContentReportingFeatures:e.user.enabledContentReportingFeatures,googleInvisibleRecaptchaSiteKey:e.user.enabledContentReportingFeatures.has(b.ZP.REPORT_CONTENT_CAPTCHA)?e.config.siteConfig.googleInvisibleRecaptchaSiteKey:void 0,userLanguage:null!==(t=e.performer.lang)&&void 0!==t?t:C.k$,siteId:e.config.siteId,platform:e.config.platform,memberServer:e.config.memberServer,sakey:e.user.sakey,userId:e.user.userId,performerId:e.performer.id}})),(0,g.Z)())(I)},"./src/components/RewardsIconsMap.tsx":(e,t,n)=>{"use strict";n.d(t,{$:()=>r});var o=n("webpack/sharing/consume/default/react/react"),r={newbie:o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64.17 74.09"},o.createElement("g",{fill:"none",stroke:"#9e9e9e"},o.createElement("path",{d:"M31.65.83l.43-.25.44.25"}),o.createElement("path",{d:"M34.27 1.84l28.1 16.22",strokeDasharray:"1.01 2.03"}),o.createElement("path",{d:"M63.23 18.56l.44.25v.5"}),o.createElement("path",{d:"M63.67 21.34v32.43",strokeDasharray:"1.01 2.03"}),o.createElement("path",{d:"M63.67 54.78v.5l-.44.25"}),o.createElement("path",{d:"M61.48 56.54L33.4 72.76",strokeDasharray:"1.01 2.03"}),o.createElement("path",{d:"M32.52 73.27l-.44.25-.43-.25"}),o.createElement("path",{d:"M29.9 72.25L1.8 56.04",strokeDasharray:"1.01 2.03"}),o.createElement("path",{d:"M.93 55.53l-.43-.25v-.5"}),o.createElement("path",{d:"M.5 52.75V20.33",strokeDasharray:"1.01 2.03"}),o.createElement("path",{d:"M.5 19.3v-.5l.43-.25"}),o.createElement("path",{d:"M2.7 17.55L30.77 1.33",strokeDasharray:"1.01 2.03"}),o.createElement("path",{d:"M31.65 8.37l.43-.25.44.25"}),o.createElement("path",{d:"M34.18 9.34l21.68 12.5",strokeDasharray:"0.96 1.93"}),o.createElement("path",{d:"M56.7 22.33l.43.25v.5"}),o.createElement("path",{d:"M57.13 25v25.04",strokeDasharray:"0.96 1.93"}),o.createElement("path",{d:"M57.13 51v.5l-.43.25"}),o.createElement("path",{d:"M55.03 52.72L33.35 65.24",strokeDasharray:"0.96 1.93"}),o.createElement("path",{d:"M32.52 65.72l-.44.25-.43-.25"}),o.createElement("path",{d:"M29.98 64.76L8.3 52.24",strokeDasharray:"0.96 1.93"}),o.createElement("path",{d:"M7.47 51.76l-.43-.25V51"}),o.createElement("path",{d:"M7.03 49.08V24.05",strokeDasharray:"0.96 1.93"}),o.createElement("path",{d:"M7.04 23.08v-.5l.43-.25"}),o.createElement("path",{d:"M9.14 21.37L30.82 8.85",strokeDasharray:"0.96 1.93"}))),bronze:o.createElement("svg",{width:"16px",height:"18px",viewBox:"0 0 16 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.createElement("defs",null,o.createElement("linearGradient",{x1:"72.3413273%",y1:"25.2080856%",x2:"38.5913462%",y2:"59.7093407%",id:"linearGradient-1"},o.createElement("stop",{stopColor:"#A98858",offset:"0%"}),o.createElement("stop",{stopColor:"#DFC777",offset:"71%"}),o.createElement("stop",{stopColor:"#C09F4B",offset:"100%"}))),o.createElement("g",{id:"Icon_Reward_Bronze",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.createElement("g",{id:"Bronze",transform:"translate(1.000000, 1.000000)"},o.createElement("polygon",{id:"Path",stroke:"#A57B00",fill:"url(#linearGradient-1)",fillRule:"nonzero",strokeLinejoin:"round",points:"13.9045455 12.0421212 6.95333333 16.0554545 0 12.0421212 0 4.01333333 6.95333333 0 13.9045455 4.01333333"}),o.createElement("g",{id:"Group",transform:"translate(1.060606, 1.272727)",stroke:"#A37E02",strokeLinecap:"square"},o.createElement("polyline",{id:"Path",points:"5.70606061 0.286363636 5.88848485 0.18030303 6.0730303 0.286363636"}),o.createElement("line",{x1:"6.43151515",y1:"0.487878788",x2:"11.2254545",y2:"3.25606061",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"11.4036364 3.36 11.5860606 3.46606061 11.5860606 3.67818182"}),o.createElement("line",{x1:"11.5860606",y1:"4.08969697",x2:"11.5860606",y2:"9.62606061",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"11.5860606 9.82969697 11.5860606 10.0418182 11.4036364 10.1478788"}),o.createElement("line",{x1:"11.0472727",y1:"10.3515152",x2:"6.25333333",y2:"13.119697",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"6.07515152 13.2236364 5.89060606 13.329697 5.70818182 13.2236364"}),o.createElement("line",{x1:"5.35181818",y1:"13.02",x2:"0.557878788",y2:"10.2518182",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"0.381818182 10.1478788 0.199393939 10.0418182 0.199393939 9.82969697"}),o.createElement("line",{x1:"0.197272727",y1:"9.41818182",x2:"0.197272727",y2:"3.88181818",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"0.197272727 3.67818182 0.197272727 3.46606061 0.37969697 3.36"}),o.createElement("line",{x1:"0.736060606",y1:"3.15636364",x2:"5.53",y2:"0.388181818",id:"Path",strokeDasharray:"1.93"}))))),silver:o.createElement("svg",{width:"16px",height:"18px",viewBox:"0 0 16 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.createElement("defs",null,o.createElement("linearGradient",{x1:"72.3413273%",y1:"25.2080856%",x2:"38.5913462%",y2:"59.7093407%",id:"linearGradient-1"},o.createElement("stop",{stopColor:"#838383",offset:"0%"}),o.createElement("stop",{stopColor:"#CFCECE",offset:"71%"}),o.createElement("stop",{stopColor:"#9B9B9B",offset:"100%"}))),o.createElement("g",{id:"Icon_Reward_Silver",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.createElement("g",{id:"Silver",transform:"translate(1.000000, 1.000000)"},o.createElement("polygon",{id:"Path",stroke:"#858484",fill:"url(#linearGradient-1)",fillRule:"nonzero",strokeLinejoin:"round",points:"13.9045455 12.0421212 6.95333333 16.0554545 0 12.0421212 0 4.01333333 6.95333333 0 13.9045455 4.01333333"}),o.createElement("g",{id:"Group",transform:"translate(1.060606, 1.272727)",stroke:"#787777",strokeLinecap:"square"},o.createElement("polyline",{id:"Path",points:"5.70606061 0.286363636 5.88848485 0.18030303 6.0730303 0.286363636"}),o.createElement("line",{x1:"6.43151515",y1:"0.487878788",x2:"11.2254545",y2:"3.25606061",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"11.4036364 3.36 11.5860606 3.46606061 11.5860606 3.67818182"}),o.createElement("line",{x1:"11.5860606",y1:"4.08969697",x2:"11.5860606",y2:"9.62606061",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"11.5860606 9.82969697 11.5860606 10.0418182 11.4036364 10.1478788"}),o.createElement("line",{x1:"11.0472727",y1:"10.3515152",x2:"6.25333333",y2:"13.119697",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"6.07515152 13.2236364 5.89060606 13.329697 5.70818182 13.2236364"}),o.createElement("line",{x1:"5.35181818",y1:"13.02",x2:"0.557878788",y2:"10.2518182",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"0.381818182 10.1478788 0.199393939 10.0418182 0.199393939 9.82969697"}),o.createElement("line",{x1:"0.197272727",y1:"9.41818182",x2:"0.197272727",y2:"3.88181818",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"0.197272727 3.67818182 0.197272727 3.46606061 0.37969697 3.36"}),o.createElement("line",{x1:"0.736060606",y1:"3.15636364",x2:"5.53",y2:"0.388181818",id:"Path",strokeDasharray:"1.93"}))))),gold:o.createElement("svg",{width:"16px",height:"18px",viewBox:"0 0 16 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.createElement("defs",null,o.createElement("linearGradient",{x1:"72.3413273%",y1:"25.2080856%",x2:"38.5913462%",y2:"59.7093407%",id:"linearGradient-1"},o.createElement("stop",{stopColor:"#E4B200",offset:"0%"}),o.createElement("stop",{stopColor:"#FFF895",offset:"71%"}),o.createElement("stop",{stopColor:"#E3BB00",offset:"100%"}))),o.createElement("g",{id:"Icon_Reward_Gold",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.createElement("g",{id:"Gold",transform:"translate(1.000000, 1.000000)"},o.createElement("polygon",{id:"Path",stroke:"#CDAE00",fill:"url(#linearGradient-1)",fillRule:"nonzero",strokeLinejoin:"round",points:"13.9045455 12.0421212 6.95333333 16.0554545 0 12.0421212 0 4.01333333 6.95333333 0 13.9045455 4.01333333"}),o.createElement("g",{id:"Group",transform:"translate(1.060606, 1.272727)",stroke:"#CEAB05",strokeLinecap:"square"},o.createElement("polyline",{id:"Path",points:"5.70606061 0.286363636 5.88848485 0.18030303 6.0730303 0.286363636"}),o.createElement("line",{x1:"6.43151515",y1:"0.487878788",x2:"11.2254545",y2:"3.25606061",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"11.4036364 3.36 11.5860606 3.46606061 11.5860606 3.67818182"}),o.createElement("line",{x1:"11.5860606",y1:"4.08969697",x2:"11.5860606",y2:"9.62606061",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"11.5860606 9.82969697 11.5860606 10.0418182 11.4036364 10.1478788"}),o.createElement("line",{x1:"11.0472727",y1:"10.3515152",x2:"6.25333333",y2:"13.119697",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"6.07515152 13.2236364 5.89060606 13.329697 5.70818182 13.2236364"}),o.createElement("line",{x1:"5.35181818",y1:"13.02",x2:"0.557878788",y2:"10.2518182",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"0.381818182 10.1478788 0.199393939 10.0418182 0.199393939 9.82969697"}),o.createElement("line",{x1:"0.197272727",y1:"9.41818182",x2:"0.197272727",y2:"3.88181818",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"0.197272727 3.67818182 0.197272727 3.46606061 0.37969697 3.36"}),o.createElement("line",{x1:"0.736060606",y1:"3.15636364",x2:"5.53",y2:"0.388181818",id:"Path",strokeDasharray:"1.93"}))))),platinum:o.createElement("svg",{width:"16px",height:"18px",viewBox:"0 0 16 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.createElement("defs",null,o.createElement("linearGradient",{x1:"72.3413273%",y1:"25.2080856%",x2:"38.5913462%",y2:"59.7093407%",id:"linearGradient-1"},o.createElement("stop",{stopColor:"#C5C5C5",offset:"0%"}),o.createElement("stop",{stopColor:"#FFFFFF",offset:"71%"}),o.createElement("stop",{stopColor:"#E3E2E2",offset:"100%"}))),o.createElement("g",{id:"Icon_Reward_Platinum",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.createElement("g",{id:"Platinum",transform:"translate(1.000000, 1.000000)"},o.createElement("polygon",{id:"Path",stroke:"#CACACA",fill:"url(#linearGradient-1)",fillRule:"nonzero",strokeLinejoin:"round",points:"13.9045455 12.0421212 6.95333333 16.0554545 0 12.0421212 0 4.01333333 6.95333333 0 13.9045455 4.01333333"}),o.createElement("g",{id:"Group",transform:"translate(1.060606, 1.272727)",stroke:"#F4F4F4",strokeLinecap:"square"},o.createElement("polyline",{id:"Path",points:"5.70606061 0.286363636 5.88848485 0.18030303 6.0730303 0.286363636"}),o.createElement("line",{x1:"6.43151515",y1:"0.487878788",x2:"11.2254545",y2:"3.25606061",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"11.4036364 3.36 11.5860606 3.46606061 11.5860606 3.67818182"}),o.createElement("line",{x1:"11.5860606",y1:"4.08969697",x2:"11.5860606",y2:"9.62606061",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"11.5860606 9.82969697 11.5860606 10.0418182 11.4036364 10.1478788"}),o.createElement("line",{x1:"11.0472727",y1:"10.3515152",x2:"6.25333333",y2:"13.119697",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"6.07515152 13.2236364 5.89060606 13.329697 5.70818182 13.2236364"}),o.createElement("line",{x1:"5.35181818",y1:"13.02",x2:"0.557878788",y2:"10.2518182",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"0.381818182 10.1478788 0.199393939 10.0418182 0.199393939 9.82969697"}),o.createElement("line",{x1:"0.197272727",y1:"9.41818182",x2:"0.197272727",y2:"3.88181818",id:"Path",strokeDasharray:"1.93"}),o.createElement("polyline",{id:"Path",points:"0.197272727 3.67818182 0.197272727 3.46606061 0.37969697 3.36"}),o.createElement("line",{x1:"0.736060606",y1:"3.15636364",x2:"5.53",y2:"0.388181818",id:"Path",strokeDasharray:"1.93"})))))}},"./src/components/ThemeProvider.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var o=n("webpack/sharing/consume/default/react/react"),r=n.n(o),i=n("./node_modules/prop-types/index.js"),s=n.n(i),a=n("./node_modules/icf-react-components/components/ThemeProvider.js"),l=n("./node_modules/icf-react-components/themes/Theme.js"),c=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),u=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=n("./node_modules/theming/dist/theming.esm.js"),p=n("./node_modules/styled-components/dist/styled-components.browser.esm.js");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=e.children,n=e.themeMode,o=void 0===n?l.ThemeMode.dark:n,r=e.direction,i=void 0===r?l.Direction.ltr:r,s=(0,d.Fg)();return(0,c.Z)(p.f6,{theme:h(h({},s),{},{direction:i,type:o})},void 0,t)};f.propTypes={children:s().node.isRequired,themeMode:s().string,direction:s().string};const g=f;var v,_,y=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),b=n("./node_modules/styled-components-rtl/index.js"),S=p.ZP.div.withConfig({displayName:"TypographyStyles__TypographyStylesBase",componentId:"sc-19q6201-0"})(["font-family:",";font-weight:300;font-size:","px;color:",";& h1,& h2,& h3,& h4,& h5,& h6{font-weight:500;margin:","px 0;letter-spacing:0.5px;line-height:1.45;}& h1{font-size:","px;margin-top:0;}& h2{font-size:","px;}& h3{font-size:","px;}& h4{font-size:","px;}& h5{font-size:","px;}& h6{font-size:","px;}& button{font-family:",";letter-spacing:",";}& p{margin:","px 0;font-size:","px;line-height:1.45;}& ul,& ol{margin:","px 0;line-height:1.45;"," list-style-position:outside;}& li{","}& a{color:",";text-decoration:none;font-weight:600;}& small{font-size:","px;color:",";letter-spacing:0.25px;}& b,& strong{font-weight:700;}& hr{border:none;border-bottom:1px solid ",";}& code,& samp{background:",";border:1px solid ",";border-radius:2px;padding:1px 4px;display:inline-block;}& pre code,& pre samp{display:block;overflow:scroll;padding:4px;}& .dropDownMenuPopup{& ul{margin:0;}}"],(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.typography.fontSize}),(function(e){var t=e.theme;return t.mode===l.ThemeMode.dark?t.colors.baseContrast070:t.colors.baseContrast080}),(function(e){return 2*e.theme.spacing.base}),(function(e){return e.theme.typography.fontSize+10}),(,(function(e){return e.theme.typography.fontSize}),(function(e){return e.theme.typography.fontSize-2}),(function(e){return e.theme.typography.fontSize-3}),(function(e){return e.theme.typography.fontSize-4}),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.typography.letterSpacing}),(function(e){return 2*e.theme.spacing.base}),(function(e){return e.theme.typography.fontSize}),(function(e){return 2*e.theme.spacing.base}),(0,b.Z)(v||(v=(0,y.Z)(["\n      padding-left: ","px;\n    "])),(function(e){var t=e.theme;return String(3*t.spacing.base)})),(0,b.Z)(_||(_=(0,y.Z)(["\n      padding-left: ","px;\n    "])),(function(e){var t=e.theme;return String(t.spacing.base)})),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.typography.fontSize-4}),(function(e){return e.theme.colors.baseContrast050}),(function(e){return e.theme.colors.baseContrast020}),(function(e){return e.theme.colors.baseContrast020}),(function(e){return e.theme.colors.themeBase})),E=p.ZP.div.withConfig({displayName:"TypographyStyles__TypographyStylesThemeModeSwitch",componentId:"sc-19q6201-1"})(["color:",";& a{color:",";}& small{color:",";}& hr{border:none;border-bottom:1px solid ",";}& code,& samp{background:",";border:1px solid ",";}"],(function(e){var t=e.theme;return t.mode===l.ThemeMode.dark?t.colors.baseContrast070:t.colors.baseContrast080}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.baseContrast050}),(function(e){return e.theme.colors.baseContrast020}),(function(e){return e.theme.colors.baseContrast020}),(function(e){return e.theme.colors.themeBase}));var C=function(e,t){var n,o,i,s=null!==(n=e.themeMode)&&void 0!==n?n:t.themeMode,l=null!==(o=e.primaryColor)&&void 0!==o?o:t.primaryColor,c=null!==(i=e.direction)&&void 0!==i?i:t.direction,u=e.themeSwitch?E:S;return r().createElement(a.ZP,{primaryColor:l,themeMode:s,direction:c},r().createElement(g,{themeMode:s,direction:c},r().createElement(u,null,e.children)))};C.defaultProps={themeMode:l.ThemeMode.dark,themeSwitch:!1},C.contextTypes={primaryColor:s().string,themeMode:s().string,direction:s().string};const Z=r().memo(C)},"./src/components/bio/CountryAgeTag.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var o=n("webpack/sharing/consume/default/react/react"),r=n.n(o),i=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=n("./node_modules/redux/es/redux.js"),a=n("./node_modules/icf-react-components/themes/Theme.js"),l=n("./src/utils/localization.js"),c=n("./src/utils/FlagsMap.tsx"),u=n("./src/utils/withTranslations.tsx"),d=n("./src/utils/withStores.tsx"),p=n("./src/stores/LayoutStore.js"),m=i.ZP.div.withConfig({displayName:"CountryAgeTag__Container",componentId:"sc-wurb2c-0"})(["display:inline-block;font-weight:500;color:",";font-size:16px;"],(function(e){return e.theme.colors.baseContrast090})),h=i.ZP.div.withConfig({displayName:"CountryAgeTag__Separator",componentId:"sc-wurb2c-1"})(["margin:0 3px 1px 3px;display:inline-block;&:after{content:'|';color:",";}"],(),f=i.ZP.div.withConfig({displayName:"CountryAgeTag__FlagContainer",componentId:"sc-wurb2c-2"})(["margin:0 3px 1px 3px;display:inline-block;"]);const g=(0,s.qC)((0,d.Z)([p.ZP],(function(e){return{isDesktop:e.layout.isDesktop}})),(0,u.Z)())((function(e){var t,n,i=e.t,s=e.bio,a=e.isDesktop,u=e.showLanguages,d=e.age,p=void 0===d?0:d,g=e.country,v=e.className,_=void 0===v?"":v,y=null!==(t=null==s||null===(n=s.About)||void 0===n?void 0:n.Attributes)&&void 0!==t?t:{},b=y.Age,S=y.Country,E=y.Languages,C=g||S,Z=(0,l.uf)(Number(p||b));if(!C||!Z)return null;var P=C.toLowerCase(),O=(0,c.R)(P);return r().createElement(m,{className:_},r().createElement(f,null,O&&r().createElement(O,null)),r().createElement("span",null,i("country_name.".concat(P))),r().createElement(h,null),r().createElement("span",null,Z),!a&&u&&r().createElement(o.Fragment,null,r().createElement(h,null),r().createElement("span",null,null==E?void 0:E.join(", "))))}))},"./src/components/bio/PremiumInfoContainer.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var o=n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),r=n("webpack/sharing/consume/default/react/react"),i=n.n(r),s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("./node_modules/prop-types/index.js"),l=n.n(a),c=n("./node_modules/redux/es/redux.js"),u=n("./src/stores/ConnectionStore.js"),d=n("./src/stores/PerformerStore.ts"),p=n("./src/components/bio/Vibes.tsx"),m=n("./src/components/goldmenu/GoldMenuButton.js"),h=n("./src/components/spingold/SpinGoldButton.tsx"),f=n("./src/components/section/InfoContainer.tsx"),g=n("./src/constants/LayoutConstants.ts"),v=n("./src/utils/withStores.tsx"),_=n("./src/utils/goldMenu.ts"),y=n("./src/utils/spinGold.ts"),b=n("./src/utils/withTranslations.tsx"),S=s.ZP.div.withConfig({displayName:"PremiumInfoContainer__ButtonContainer",componentId:"sc-qo57rs-0"})(["display:flex;flex-direction:",";flex-wrap:nowrap;justify-content:flex-start;align-items:center;align-content:center;"],(function(e){return e.isCompact?"row":"column"})),E=function(e,t){var n=e.roomTopic,o=e.t,r=e.isCompact;if(!n)return null;var s=t.layout===g.ZP.DESKTOP?f.pn:f.Y5;return i().createElement(s,null,i().createElement(f.fF,{"data-ta-locator":"InfoMyShows"},o("my_shows")),i().createElement(f.mG,{"data-ta-locator":"InfoTopic"},n),i().createElement(S,{isCompact:r},i().createElement(p.Z,{isCompact:r}),i().createElement(m.Z,{isCompact:r}),i().createElement(h.Z,{isCompact:r})))};E.contextTypes={layout:l().string},E.defaultProps={canCompact:!1};const C=(0,c.qC)((0,v.Z)((0,o.Z)(new Set([u.Z,d.Z].concat((0,o.Z)(y.Y),(0,o.Z)(_.A)))),(function(e,t){return{roomTopic:e.connection.roomTopic,isCompact:t.canCompact&&e.performer.vibeShow&&(0,y._)().isVisible&&(0,_.o)().visible}})),(0,b.Z)())(E)},"./src/components/bio/Vibes.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var o,r,i=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),s=n("webpack/sharing/consume/default/react/react"),a=n.n(s),l=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=n("./node_modules/styled-components-rtl/index.js"),u=n("./node_modules/redux/es/redux.js"),d=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),p=n.n(d),m=n("./node_modules/icf-react-components/components/Tooltip/index.js"),h=n.n(m),f=n("./node_modules/icf-react-components/components/FlatButton/index.js"),g=n.n(f),v=n("./src/lib/Dispatcher.js"),_=n("./src/constants/Actions.js"),y=n("./src/constants/Connection.js"),b=n("./src/utils/withStores.tsx"),S=n("./src/utils/withTranslations.tsx"),E=n("./src/utils/withActions.tsx"),C=n("./src/stores/ModalStore.js"),Z=n("./src/stores/ConnectionStore.js"),P=n("./src/stores/PerformerStore.ts"),O=(0,l.F4)(["0%{transform:translate(1px,1px) rotate(0deg);}10%{transform:translate(-1px,-2px) rotate(-1deg);}20%{transform:translate(-3px,0px) rotate(1deg);}30%{transform:translate(3px,2px) rotate(0deg);}40%{transform:translate(1px,-1px) rotate(1deg);}50%{transform:translate(-1px,2px) rotate(-1deg);}60%{transform:translate(-3px,1px) rotate(0deg);}70%{transform:translate(3px,1px) rotate(-1deg);}80%{transform:translate(-1px,-1px) rotate(1deg);}90%{transform:translate(1px,2px) rotate(0deg);}100%{transform:translate(1px,-2px) rotate(-1deg);}"]),T=(0,l.ZP)(g()).withConfig({displayName:"Vibes__VibeButton",componentId:"sc-yj38wz-0"})(["width:100%;label{"," color:",";text-transform:uppercase;font-size:16px;}&:hover > div:first-child{animation:"," 0.5s;animation-iteration-count:infinite;}div:first-child{animation:"," 0.5s;animation-iteration-count:3;}"],(0,c.Z)(o||(o=(0,i.Z)(["\n      justify-content: left;\n      margin-left: 0px;\n    "]))),(function(e){return e.theme.colors.baseContrast080}),O,O),I=(0,l.ZP)(g()).withConfig({displayName:"Vibes__VibeButtonCompact",componentId:"sc-yj38wz-1"})(["display:flex;justify-content:center;width:48px;min-width:48px;&:hover > div:first-child{animation:"," 0.5s;animation-iteration-count:infinite;}div:first-child{animation:"," 0.5s;animation-iteration-count:3;}"],O,O),w=l.ZP.div.withConfig({displayName:"Vibes__VibeIconBackgroundCircle",componentId:"sc-yj38wz-2"})([""," border-radius:100%;width:30px;height:30px;display:flex;justify-content:center;background-color:black;&&{border:solid 2px #424242;}"],(0,c.Z)(r||(r=(0,i.Z)(["\n    margin-left: -8px;\n    margin-right: 2px;\n  "])))),A=(0,l.ZP)(p()).attrs({name:"graphicEq"}).withConfig({displayName:"Vibes__VibeIcon",componentId:"sc-yj38wz-3"})(["&&{fill:#ec407a;}vertical-align:middle;margin:1px;"]);const R=(0,u.qC)((0,b.Z)([C.Z,Z.Z,P.Z],(function(e){var t=e.modal,n=e.connection,o=e.performer,r=n.clientState===y.ZP.PLAYING||n.clientState===y.ZP.PAUSED&&!o.onBreak;return{isVisible:o.vibeShow,isEnabled:r&&!t.goldPending&&n.started}}),{memoize:!0}),(0,E.Z)((function(){return{onClick:function(){v.Z.dispatch({type:_.Z.GIVE_GOLD_CLICK})}}})),(0,S.Z)())((function(e){var t=e.isVisible,n=e.isEnabled,o=e.onClick,r=e.t,i=e.isCompact;if(!t)return null;var s=a().createElement(w,null,a().createElement(A,{fr:void 0}));return i?a().createElement(h(),{title:r("vibes_on"),placement:m.TooltipPlacement.RIGHT},a().createElement(I,{"data-ta-locator":"VibeButtonCompact",size:"large",title:r("vibes_description"),onClick:o,disabled:!n,iconLeft:s})):a().createElement(T,{"data-ta-locator":"VibeButton",size:f.FlatButtonSizes.LARGE,title:r("vibes_description"),onClick:o,disabled:!n,label:r("vibes_on"),iconLeft:s})}))},"./src/components/common/CreateAccountButton.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o=n("webpack/sharing/consume/default/react/react"),r=n.n(o),i=n("./node_modules/icf-react-components/components/RaisedButton/index.js"),s=n.n(i),a=n("./src/lib/Strings.js"),l=n("./src/constants/LomsEvents.js"),c=n("./src/constants/Messages.js"),u=n("./src/constants/Platforms.ts"),d=n("./src/utils/lomsTools.js"),p=n("./src/utils/forPlatforms.tsx"),m=n("./src/utils/tools.ts");const h=(0,p.Z)({exclude:[u.ZP.EXTERNAL_SITE_SHOW]})((function(e){var t=e.disabled,n=e.className,o=e.label,i=e.onClick,u=e.locator,p=null!=o?o:a.ZP.getString("sign_up");return r().createElement(s(),{gold:!0,fullWidth:!0,className:n,disabled:t,label:p,onClick:function(e){e.preventDefault(),(0,d.$m)(l.Z.CTA_BUTTONS.CREATE_ACCOUNT),(0,m.Vj)(c.Z.REQUIRES_AUTH),i&&i()},"data-icf-click":"CreateAccountButton","data-ta-locator":u})}))},"./src/components/common/Popover.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("webpack/sharing/consume/default/react/react"),i=n.n(r),s=n("./node_modules/prop-types/index.js"),a=n.n(s),l=n("./node_modules/icf-react-components/components/Popover/index.js"),c=n.n(l),u=n("./src/constants/Platforms.ts");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e,t){var n=t.fullscreen||t.platform!==u.ZP.SCP?t.getClientModalTargetElement():void 0;return i().createElement(c(),p(p({},e),{},{container:n}))};m.contextTypes={getClientModalTargetElement:a().func.isRequired,fullscreen:a().bool,platform:a().oneOf(Object.values(u.ZP))};const h=m},"./src/components/common/Popup.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=n("webpack/sharing/consume/default/react/react"),s=n.n(i),a=n("./src/components/common/Popover.tsx"),l=["className","disableOpenOnHover","open","onClick","children"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()};const p=function(e){var t=e.className,n=e.disableOpenOnHover,o=void 0===n||n,i=e.open,c=void 0===i||i,p=e.onClick,m=void 0===p?d:p,h=e.children,f=(0,r.Z)(e,l);return s().createElement(a.Z,u(u({overrides:{root:t}},f),{disableOpenOnHover:o,open:c,onClick:m}),h)}},"./src/components/common/Spinner.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("webpack/sharing/consume/default/react/react"),i=n.n(r),s=n("./node_modules/prop-types/index.js"),a=n.n(s),l=n("./node_modules/icf-react-components/components/LoadingIndicator/index.js"),c=n.n(l);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var d=function(e){var t,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({margin:"24px auto"},null!==(t=e.style)&&void 0!==t?t:{});return i().createElement(c(),{size:e.size,thickness:e.thickness,style:n,className:e.className})};d.propTypes={className:a().string,style:a().object,size:a().number,thickness:a().number},d.defaultProps={size:100,thickness:6};const p=d},"./src/components/common/Tooltip.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("webpack/sharing/consume/default/react/react"),i=n.n(r),s=n("./node_modules/prop-types/index.js"),a=n.n(s),l=n("./node_modules/icf-react-components/components/Tooltip/index.js"),c=n.n(l),u=n("./src/stores/LayoutStore.js"),d=n("./src/constants/Platforms.ts");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e,t){var n=t.fullscreen||t.platform!==d.ZP.SCP?t.getClientModalTargetElement():void 0,o=u.ZP.getState(),r=o.isDesktop,s=o.isTablet;return!r||s?e.children:i().createElement(c(),m(m({},e),{},{container:n}))};h.contextTypes={getClientModalTargetElement:a().func.isRequired,fullscreen:a().bool,platform:a().oneOf(Object.values(d.ZP))};const f=h},"./src/components/gold/GoldChatUpsell.tsx":(e,t,n)=>{"use strict";n.d(t,{Md:()=>R,ZP:()=>D});var o,r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),d=n("webpack/sharing/consume/default/react/react"),p=n.n(d),m=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),h=n("./node_modules/styled-components-rtl/index.js"),f=n("./src/lib/Dispatcher.js"),g=n("./src/lib/Strings.js"),v=n("./node_modules/icf-react-components/components/RaisedButton/index.js"),_=n.n(v),y=n("./src/components/gold/GoldCop.js"),b=n("./src/constants/Actions.js"),S=n("./src/stores/UserStore.js"),E=n("./src/utils/log.js"),C=n("./src/utils/withStores.tsx"),Z=n("./src/utils/gold.js");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,a.Z)(this,n)}}var T=m.ZP.div.withConfig({displayName:"GoldChatUpsell__InitialUpsellButton",componentId:"sc-4xk7g-0"})([""," "," cursor:pointer;min-width:100%;text-transform:none;"],(function(e){var t=e.theme,n=e.disabled;return"light"===t.mode&&"\n    background-image: linear-gradient(\n      to bottom,\n      #f0f0f0,\n      #a1a1a1\n    );\n\n    border: 1px solid ".concat(t.colors.baseContrast030,";\n    border-radius: 2px;\n\n    ").concat(n?"":"\n        &:hover {\n          background-image: linear-gradient(\n            to bottom,\n            #e4e4e4,\n            #929292\n          );\n        }\n\n        &:focus-visible: {\n          background: ".concat(t.colors.baseContrast030,";\n        }\n      "),"\n\n    color: ").concat(t.colors.baseContrast090,";\n    padding-left: ").concat(t.spacing.base,"px;\n    padding-right: ").concat(t.spacing.base,"px;\n  ")}),(),I=(0,m.ZP)(_()).withConfig({displayName:"GoldChatUpsell__StyledRaisedButton",componentId:"sc-4xk7g-1"})(["width:80%;"]),w=(0,m.ZP)(_()).attrs({gold:!0}).withConfig({displayName:"GoldChatUpsell__GoldCoin",componentId:"sc-4xk7g-2"})(["min-width:30px;min-height:30px;width:30px;height:30px;border-radius:15px;margin:4px;box-shadow:1px -1px 6px 0 rgba(0,0,0,0.05);"," &:before{border-radius:28px;}label{text-align:center;padding:0px;font-size:","px;}"],(,(function(e){var t=e.label;return t&&t.length>=3?12:16})),A=m.ZP.span.withConfig({displayName:"GoldChatUpsell__InitialUpsellLabel",componentId:"sc-4xk7g-3"})([""," font-size:16px;font-weight:400;text-transform:uppercase;vertical-align:text-bottom;"],(0,h.Z)(o||(o=(0,u.Z)(["\n    padding-left: ","px;\n  "])),(function(e){var t=e.theme;return String(t.spacing.base)})));function R(e){(0,f._)({type:b.Z.REMOVE_CHAT_MESSAGE,data:{identifier:e}})}var k=function(e){(0,s.Z)(n,e);var t=O(n);eturn(0,i.Z)(n,[{key:"handleInitialClick",value:function(e){this.props.disabled||this.props.onInitialClick()&&this.setState({lockedInAmount:e})}},{key:"removeSelf",value:,{key:"handleConfirmSpendClick",value:function(e){var t=this;this.props.onConfirmSpendClick(),e.submitGold(this.props.upsellSubmitOptions).then((function(){return t.removeSelf()})).catch(()}},{key:"renderButton",value:function(e,t){var n=this;if(e.goldToGiveCentsUsd&&(e.limit||!e.valid))return setTimeout((function(){return n.removeSelf()})),null;var o=this.props.disabled,r=this.state.lockedInAmount;if(r){var i=this.props,s=i.isGoldOneUsd,a=i.showFinalCost,l=String(r/100),u=(0,g.KF)("give_amount_gold",l),d=s||a?" (".concat((0,Z.hg)(r,s,a),")"):"";return p().createElement(I,{size:"medium",label:"".concat(u).concat(d),fullWidth:!0,gold:!0,onClick:function(){return n.handleConfirmSpendClick(e)},disabled:o})}var m=this.props.initialUpsellIcon?{iconLeft:this.props.initialUpsellIcon}:{label:String(t/100)};return p().createElement(T,{onClick:function(){return n.handleInitialClick(t)},"data-icf-click":this.props.anonymizedEventName,disabled:o,"data-ta-locator":"GoldChatUpsell_InitialUpsellButton"},p().createElement(w,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},m)),p().createElement(A,null,this.props.initialUpsellLabel))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isGoldOneUsd,o=t.goldAmountFractional,r=this.state.lockedInAmount;return p().createElement(y.Z,{presetGold:r||o,sendGoldAsOneUsd:n},(function(t){return e.renderButton(t,o)}))}}]),n}(d.Component);(0,c.Z)(k,"defaultProps",{disabled:!1});const D=(0,C.Z)([S.Z],(function(e){return{isGoldOneUsd:e.user.isGoldOneUsd,showFinalCost:e.user.showFinalCost}}),{memoize:!0})(k)},"./src/components/goldmenu/GoldMenuIcon.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n("webpack/sharing/consume/default/react/react"),r=n.n(o),i=function(e){var t=e.viewBox;return r().createElement("svg",{viewBox:t,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},r().createElement("defs",null,r().createElement("filter",{filterUnits:"objectBoundingBox",id:"a"},r().createElement("feOffset",{dy:"4",in:"SourceAlpha",result:"shadowOffsetOuter1"}),r().createElement("feGaussianBlur",{stdDeviation:"2",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),r().createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0",in:"shadowBlurOuter1",result:"shadowMatrixOuter1"}),r().createElement("feMerge",null,r().createElement("feMergeNode",{in:"shadowMatrixOuter1"}),r().createElement("feMergeNode",{in:"SourceGraphic"}))),r().createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"d"},r().createElement("stop",{stopColor:"#FBE112",offset:"0%"}),r().createElement("stop",{stopColor:"#CB7D00",offset:"100%"})),r().createElement("ellipse",{id:"c",cx:"17.5",cy:"18",rx:"17.5",ry:"18"}),r().createElement("filter",{filterUnits:"objectBoundingBox",id:"b"},r().createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter1"}),r().createElement("feGaussianBlur",{stdDeviation:"3",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),r().createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.0504132699 0",in:"shadowBlurOuter1"}))),r().createElement("g",{filter:"url(#a)",transform:"translate(5 7)",fill:"none",fillRule:"evenodd"},r().createElement("g",{transform:"translate(1)"},r().createElement("use",{fill:"#000",filter:"url(#b)",xlinkHref:"#c"}),r().createElement("use",{fill:"url(#d)",xlinkHref:"#c"})),r().createElement("path",{d:"M11 16h14v3H11v-3zm0-5h14v3H11v-3zm0 10h9v3h-9v-3zm11 0l6 4-6 4v-8z",fill:"#212121"})))};i.defaultProps={viewBox:"0 0 48 48"};const s=i},"./src/components/goldshow/TopContributorsUpsellCreator.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var o=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),r=n("webpack/sharing/consume/default/react/react"),i=n.n(r),s=n("./src/constants/Actions.js"),a=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),l=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),c=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),u=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),d=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),p=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),m=n("./src/lib/Strings.js"),h=n("./src/lib/Dispatcher.js"),f=n("./src/components/gold/GoldChatUpsell.tsx");const g=function(e){var t=e.className;return i().createElement("svg",{width:"15px",height:"15px",viewBox:"0 0 17 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:t},i().createElement("title",null,"LeaderboardIcon"),i().createElement("g",{xmlns:"http://www.w3.org/2000/svg",id:"LeaderboardIcon",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i().createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M8.5,4.70590909 L10.3931818,5.85727273 L9.89090909,3.68590909 L11.5909091,2.23318182 L9.35772727,2.04 L8.5,0 L7.62681818,2.04 L5.40909091,2.23318182 L7.09363636,3.68590909 L6.56818182,5.85727273 L8.5,4.70590909 M10.8181818,17 L6.18181818,17 L6.18181818,6.95454545 L10.8181818,6.95454545 L10.8181818,17 M0,12.3636364 L0,17 L4.63636364,17 L4.63636364,12.3636364 L0,12.3636364 M3.09090909,15.4545455 L1.54545455,15.4545455 L1.54545455,13.9090909 L3.09090909,13.9090909 L3.09090909,15.4545455 M12.3636364,9.27272727 L12.3636364,17 L17,17 L17,9.27272727 L12.3636364,9.27272727 M15.4545455,15.4545455 L13.9090909,15.4545455 L13.9090909,10.8181818 L15.4545455,10.8181818 L15.4545455,15.4545455 Z",id:"Shape",fill:"#000000",fillRule:"nonzero"})))};var v=n("./src/constants/StatsEvents.js"),_=n("./src/constants/LomsEvents.js"),y=n("./src/constants/LayoutConstants.ts"),b=n("./src/stores/TopContributorsStore.js"),S=n("./src/stores/GoldShowStore.js"),E=n("./src/stores/UserStore.js"),C=n("./src/stores/LayoutStore.js"),Z=n("./src/utils/log.js"),P=n("./src/utils/withStores.tsx"),O=n("./src/utils/lomsTools.js");function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,u.Z)(this,n)}}var I=(0,p.ZP)(g).withConfig({displayName:"TopContributorsChatUpsell__StyledLeaderboardIcon",componentId:"sc-1m1ojsj-0"})(["position:relative;top:-2px;"]),w=function(e){(0,c.Z)(n,e);var t=T(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"handleInitialClick",value:function(e){return(0,O.Tg)(_.Z.CTA_BUTTONS.TOP_CONTRIBUTORS_CHAT_UPSELL,this.props.layout),this.props.layout!==y.ZP.MOBILE||(h.Z.dispatch({type:s.Z.GIVE_GOLD_CLICK,data:{topContributorAmount:e,topContributorString:(0,m.KF)("top_contributors.1st")}}),!1)}},{key:"removeSelf",value:function(){var e=this.props.identifier;(0,f.Md)(e)}},{key:"handleConfirmSpendClick",value:function(){this.props.layout!==y.ZP.MOBILE&&Z.Z.statsIncCounter(v.Z.TOP_CONTRIBUTORS.UPSELL_CONFIRMED)}},{key:"render",value:function(){var e=this,t=this.props,n=t.amountToBeat,o=t.totalUserAmount,r=t.maxTotalUserAmount,s=t.layout;if(!t.isGoldShowActive||!n)return setTimeout((function(){return e.removeSelf()})),null;if(o>r)return setTimeout((function(){return e.removeSelf()})),null;var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=100*Math.ceil(Number(e)/100);return n===Number(e)&&(n+=100),t&&(n-=t),n=100*Math.ceil(n/100)}(n,o);return i().createElement(f.ZP,{identifier:this.props.identifier,goldAmountFractional:a,onInitialClick:function(){return e.handleInitialClick(a)},onConfirmSpendClick:function(){return e.handleConfirmSpendClick()},anonymizedEventName:"TopContributorsChatUpsell",initialUpsellLabel:(0,m.KF)("top_contributors.take_1st_cta"),initialUpsellIcon:s===y.ZP.MOBILE?i().createElement(I,null):void 0})}}]),n}(r.Component);const A=(0,P.Z)([b.Z,S.Z,E.Z,C.ZP],(function(e){var t,n,o;return{totalUserAmount:null!==(t=null===(n=e.topContributors.users.find((function(e){return e.isThisUser})))||void 0===n?void 0:n.amount)&&void 0!==t?t:e.topContributors.totalUserPledgedAmount,amountToBeat:null===(o=e.topContributors.users[0])||void 0===o?void 0:o.amount,layout:e.layout.layout,isGoldShowActive:S.Z.isActive()}}),{memoize:!0})(w);const R=(0,P.Z)([b.Z,S.Z,C.ZP],(function(e){var t,n;return{users:e.topContributors.users,totalUserAmount:null!==(t=null===(n=e.topContributors.users.find((function(e){return e.isThisUser})))||void 0===n?void 0:n.amount)&&void 0!==t?t:e.topContributors.totalUserPledgedAmount,isDesktop:e.layout.isDesktop,isGoldShowActive:S.Z.isActive()}}),{memoize:!0})((function(e){var t=e.totalUserAmount,n=e.users,a=e.isGoldShowActive,l=(0,r.useState)(0),c=(0,o.Z)(l,2),u=c[0],d=c[1],p=(0,r.useState)(void 0),m=(0,o.Z)(p,2),f=m[0],g=m[1];return(0,r.useEffect)((function(){if(a&&0!==n.length){var e=n[0].amount;if(t>0&&e>t&&t>u){(0,h._)({type:s.Z.REMOVE_CHAT_MESSAGE,data:{identifier:f}});var o="TopContributorsChatUpsell"+String(Math.random());(0,h._)({type:s.Z.DISPLAY_MESSAGE,data:{message:i().createElement(A,{maxTotalUserAmount:t,maxAmountToBeat:e,identifier:o}),identifier:o}}),(0,h._)({type:s.Z.TOP_CONTRIBUTORS_CHAT_UPSELL_SHOWED,data:{takeTopSpotIdentifier:o}}),d(t),g(o)}}}),[t,n,a]),null}))},"./src/components/multiplegoals/MultipleGoalsContainer.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>F});var o,r,i,s=n("webpack/sharing/consume/default/react/react"),a=n.n(s),l=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),u=n("./node_modules/styled-components-rtl/index.js"),d=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),p=n.n(d),m=n("./src/utils/tools.ts"),h=(0,l.F4)(["0%{transform:scale(1);box-shadow:0 0 0 0;}70%{transform:scale(1.02);box-shadow:0 0 8px 2px rgba(255,193,7,0.8);}100%{transform:scale(1);box-shadow:0 0 0 0 rgba(255,193,7,0.8);}"]),f=l.ZP.div.withConfig({displayName:"GoalProgressBar__ProgressContainer",componentId:"sc-nvv6if-0"})(["display:flex;align-items:center;flex-grow:1;margin:0;"," border-radius:12px;border:2px solid;border-color:",";background-color:",";box-shadow:0 0 0 0;transform:scale(1);animation-name:",";animation-duration:1.5s;animation-delay:3s;animation-iteration-count:2;"],(0,u.Z)(o||(o=(0,c.Z)(["\n    margin-left: ","px;\n  "])),(function(e){var t=e.theme;return String(t.spacing.base/2)})),(function(e){return e.theme.colors.baseShadow}),(function(e){return e.theme.colors.baseShadow}),h),g=l.ZP.div.withConfig({displayName:"GoalProgressBar__ProgressMask",componentId:"sc-nvv6if-1"})(["position:relative;width:",";min-width:10px;height:12px;border-radius:30px;background-color:",";transition:width 1s ease-in-out;"],(function(e){var t=e.percent;return"".concat((0,m.uZ)(Math.max(t,1),0,100),"%")}),(function(e){return e.theme.colors.gold})),v=l.ZP.div.withConfig({displayName:"GoalProgressBar__ProgressText",componentId:"sc-nvv6if-2"})(["color:",";"],(function(e){return e.theme.colors.gold})),_=l.ZP.div.withConfig({displayName:"GoalProgressBar__GoalText",componentId:"sc-nvv6if-3"})(["color:",";",""],(,(0,u.Z)(r||(r=(0,c.Z)(["\n    margin-right: ","px;\n  "])),(function(e){var t=e.theme;return String(t.spacing.base/2)}))),y=l.ZP.div.withConfig({displayName:"GoalProgressBar__GoldMeterContainer",componentId:"sc-nvv6if-4"})(["display:flex;align-items:center;width:100%;font-size:14px;",""],(),b=(0,l.ZP)(p()).withConfig({displayName:"GoalProgressBar__StyledIcon",componentId:"sc-nvv6if-5"})(["&&{","}"],(0,u.Z)(i||(i=(0,c.Z)(["\n      margin-left: ","px;\n    "])),(function(e){var t=e.theme;return String(t.spacing.base/2)}))),S=function(e){var t=e.goalAmount,n=e.progressAmount,o=e.mobile,r=void 0!==o&&o,i=Math.min(100,Math.floor(n/t*100)),s=n>=t;return a().createElement(y,{mobile:r},a().createElement(v,null,n),a().createElement(_,{goalReached:s},"/".concat(t)),a().createElement(f,null,a().createElement(g,{percent:i})),!r&&a().createElement(b,{name:"flag",size:18,fill:s?"#ffc107":"",fr:void 0}))},E=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),C=n("./node_modules/canvas-confetti/dist/confetti.module.mjs");function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O,T,I={zIndex:1512,particleCount:200,spread:70,origin:{y:.6}},w=function(e){var t=e.isOpen,n=function(e,t){(0,C.Z)(P(P(P({},I),t),{},{particleCount:Math.floor(200*e)}))};return(0,s.useEffect)((function(){t&&(n(.25,{spread:26,startVelocity:55}),n(.2,{spread:60}),n(.35,{spread:100,decay:.91,scalar:.8}),n(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),n(.1,{spread:120,startVelocity:45}))}),[t]),null},A=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),R=n("./node_modules/lodash/debounce.js"),k=n.n(R),D=n("./src/lib/Strings.js"),L=(0,l.F4)(["from{transform:translate(0,0);}80%{transform:translate(-100%,0);}to{transform:translate(-100%,0);}"]),N=l.ZP.div.withConfig({displayName:"GoalText__MarqueeContainer",componentId:"sc-7lunb-0"})(["user-select:none;display:flex;font-size:14px;margin-bottom:","px;"],(function(e){return e.theme.spacing.base/2})),x=l.ZP.div.withConfig({displayName:"GoalText__MarqueeLabel",componentId:"sc-7lunb-1"})([""," font-weight:bold;width:auto;"],(0,u.Z)(O||(O=(0,c.Z)(["\n    padding-right: 0.5ch;\n  "])))),j=l.ZP.div.withConfig({displayName:"GoalText__MarqueeScrollContainer",componentId:"sc-7lunb-2"})(["flex-basis:100%;white-space:nowrap;overflow-x:hidden;position:relative;&:after{display:block;position:absolute;top:0;right:0;bottom:0;width:","px;content:'';background:linear-gradient(to left,rgba(33,33,33,1),rgba(33,33,33,0.75),rgba(33,33,33,0));}"],16),M=l.ZP.div.withConfig({displayName:"GoalText__MarqueeText",componentId:"sc-7lunb-3"})(["display:inline-block;animation-name:",";animation-duration:","s;animation-delay:2s;animation-iteration-count:infinite;animation-direction:normal;animation-timing-function:linear;min-width:100%;width:auto;"," white-space:nowrap;overflow:visible;"],(,(,(0,u.Z)(T||(T=(0,c.Z)(["\n    padding-right: 2ch;\n  "])))),B=function(e){var t=e.goalText,n=(0,s.useRef)(null),o=(0,s.useRef)(null),r=(0,s.useState)(!1),i=(0,A.Z)(r,2),l=i[0],c=i[1],u=(0,s.useState)(5),d=(0,A.Z)(u,2),p=d[0],m=d[1],h=(0,s.useState)(Date.now()),f=(0,A.Z)(h,2),g=f[0],v=f[1];return(0,s.useLayoutEffect)(k()((function(){var e,t,r,i,s=null!==(e=null===(t=o.current)||void 0===t?void 0:t.getBoundingClientRect().width)&&void 0!==e?e:0,a=null!==(r=null===(i=n.current)||void 0===i?void 0:i.getBoundingClientRect().width)&&void 0!==r?r:0;m(Math.trunc(s/50)),c(s>a-16)}),250,{trailing:!0}),[t,g]),(0,s.useEffect)((function(){var e=k()((,250,{trailing:!0});return window.addEventListener("resize",e),),[]),a().createElement(N,{title:t,"data-ta-locator":"GoalText"},a().createElement(x,null,D.ZP.getString("goal"),":"),a().createElement(j,{ref:n},a().createElement(M,{scrollMarquee:l,scrollAnimationLength:p},a().createElement("span",{ref:o},t)),a().createElement(M,{scrollMarquee:l,scrollAnimationLength:p},t)))},U=n("./src/stores/PerformerStore.ts"),G=n("./src/utils/withStores.tsx"),V=l.ZP.div.withConfig({displayName:"MultipleGoalsContainer__Container",componentId:"sc-2qbhgt-0"})([""," margin-bottom:","px;background:#212121;"],(function(e){return e.mobile&&"padding: 5px;"}),();const F=(0,G.Z)([U.Z],()((function(e){var t=e.mobile,n=void 0!==t&&t,o=e.goalText,r=e.goalAmount,i=e.goalProgress;if(r<=0||!o)return null;var s=r>0&&i>=r;return a().createElement(V,{mobile:n},a().createElement(B,{goalText:o}),a().createElement("div",null,a().createElement(S,{goalAmount:r,progressAmount:i,mobile:n}),a().createElement(w,{isOpen:s})))}))},"./src/components/section/InfoContainer.tsx":(e,t,n)=>{"use strict";n.d(t,{LZ:()=>l,Nx:()=>s,Y5:()=>c,fF:()=>i,mG:()=>a,pn:()=>u});var o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("./src/constants/LayoutConstants.ts"),i=o.ZP.span.withConfig({displayName:"InfoContainer__InfoContainerTitle",componentId:"sc-zjm5z7-0"})(["color:",";display:block;font-size:22px;font-weight:200;letter-spacing:1px;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex-shrink:0;"],(function(e){return e.theme.colors.baseContrast070})),s=o.ZP.header.withConfig({displayName:"InfoContainer__InfoContainerHeader",componentId:"sc-zjm5z7-1"})(["align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;width:100%;"]),a=o.ZP.div.withConfig({displayName:"InfoContainer__InfoContainerSubsection",componentId:"sc-zjm5z7-2"})(["margin-top:",";line-height:1.45;overflow:hidden;word-wrap:break-word;&:empty{display:none;}"],(function(e){var t=e.theme;return e.offlineMobileLayoutEnabled?"".concat(2*t.spacing.base,"px"):0})),l=o.ZP.div.withConfig({displayName:"InfoContainer",componentId:"sc-zjm5z7-3"})(["font-size:14px;margin-bottom:8px;& >:first-child >:first-child{margin-top:0;}&:last-child{margin-bottom:0;}"]),c=l,u=(0,o.ZP)(l).withConfig({displayName:"InfoContainer__DesktopInfoContainer",componentId:"sc-zjm5z7-4"})(["","{line-height:normal;margin-bottom:8px;}@media (max-width:","px){font-size:12px;p{font-size:12px;}","{font-size:14px;margin-bottom:0;}}"],i,r.AV.medium.max,i)},"./src/components/spingold/SpinGoldButton.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>B});var o,r,i,s=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),l=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),c=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),u=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),d=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),p=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),m=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),h=n("webpack/sharing/consume/default/react/react"),f=n.n(h),g=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),v=n("./node_modules/styled-components-rtl/index.js"),_=n("./node_modules/icf-react-components/components/FlatButton/index.js"),y=n.n(_),b=n("./node_modules/icf-react-components/components/Tooltip/index.js"),S=n.n(b),E=n("./src/constants/Actions.js"),C=n("./src/constants/StatsEvents.js"),Z=n("./src/constants/LomsEvents.js"),P=n("./src/constants/Modals.ts"),O=n("./src/constants/ShownFeature.ts"),T=n("./src/lib/Dispatcher.js"),I=n("./src/lib/Strings.js"),w=n("./src/utils/log.js"),A=n("./src/utils/lomsTools.js"),R=n("./src/utils/withStores.tsx"),k=n("./src/utils/spinGold.ts"),D=n("./src/components/spingold/SpinGoldIcon.tsx"),L=n("./src/stores/LayoutStore.js");function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,u.Z)(this,n)}}var x=(0,g.ZP)(y()).withConfig({displayName:"SpinGoldButton__SpinTheWheelButton",componentId:"sc-1mmc4sg-0"})(["display:flex;"," text-transform:uppercase;width:100%;& > svg{"," width:28px;height:36px;}& > iconLeft{width:48px;height:48px;}label{"," font-size:16px;"],(0,v.Z)(o||(o=(0,m.Z)(["\n    justify-content: left;\n  "]))),(0,v.Z)(r||(r=(0,m.Z)(["\n      margin-left: -8px;\n      margin-right: 6px;\n    "]))),(0,v.Z)(i||(i=(0,m.Z)(["\n      justify-content: left;\n      margin-left: 0px;\n    "])))),j=(0,g.ZP)(y()).withConfig({displayName:"SpinGoldButton__SpinTheWheelButtonCompact",componentId:"sc-1mmc4sg-1"})(["display:flex;justify-content:center;width:48px;min-width:48px;padding:8px;& > svg{width:28px;height:36px;}& > iconLeft{width:48px;height:48px;}"]),M=function(e){(0,c.Z)(n,e);var t=N(n);function n(e){var o;return(0,s.Z)(this,n),o=t.call(this,e),(0,p.Z)((0,l.Z)(o),"loggedShown",void 0),o.loggedShown=!1,o.state={isEnabled:!1},o}return(0,a.Z)(n,[{key:"attemptLogShown",value:function(){this.loggedShown||((0,T._)({type:E.Z.FEATURE_SHOWN,data:{feature:O.Z.SPIN_GOLD}}),this.loggedShown=!0)}},{key:"handleClick",value:function(){w.Z.statsIncCounter(C.Z.SPIN_GOLD.OPENED),(0,A.$m)(Z.Z.CTA_BUTTONS.SPIN_GOLD),this.props.chatUpsellIdentifier&&(0,A.Tg)(Z.Z.CTA_BUTTONS.SPIN_GOLD,L.ZP.getState().layout),T.Z.dispatch({type:E.Z.OPEN_GOLD_MODAL,data:{activeGoldTab:P.m5.SPIN_GOLD}})}},{key:"attemptRemoveSelf",value:function(){var e=this.props.chatUpsellIdentifier;e&&(0,T._)({type:E.Z.REMOVE_CHAT_MESSAGE,data:{identifier:e}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isVisible,o=t.isEnabled,r=t.isCompact;return n?(this.attemptLogShown(),r?f().createElement(S(),{title:I.ZP.getString("spin_gold.spin_the_wheel"),placement:b.TooltipPlacement.RIGHT},f().createElement(j,{size:_.FlatButtonSizes.LARGE,disabled:!o,iconLeft:f().createElement(D.Z,null),"data-ta-locator":"SpinGoldButton",onClick:function(){return e.handleClick()}})):f().createElement(x,{size:_.FlatButtonSizes.LARGE,disabled:!o,label:I.ZP.getString("spin_gold.spin_the_wheel"),iconLeft:f().createElement(D.Z,null),"data-ta-locator":"SpinGoldButton",onClick:function(){return e.handleClick()}})):(this.attemptRemoveSelf(),null)}}]),n}(h.Component);const B=(0,R.Z)(k.Y,()(M)},"./src/components/spingold/SpinGoldIcon.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n("webpack/sharing/consume/default/react/react"),r=n.n(o),i=function(){return r().createElement("svg",{viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},r().createElement("defs",null,r().createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-1"},r().createElement("stop",{stopColor:"#FBE112",offset:"0%"}),r().createElement("stop",{stopColor:"#CB7D00",offset:"100%"})),r().createElement("circle",{id:"path-2",cx:"15",cy:"15",r:"15"})),r().createElement("g",{id:"GOLDBtnWheelIcon",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r().createElement("g",{id:"spin_wheel-btn-copy"},r().createElement("mask",{id:"mask-3",fill:"white"},r().createElement("use",{xlinkHref:"#path-2"})),r().createElement("use",{id:"Mask",fill:"url(#linearGradient-1)",xlinkHref:"#path-2"}),r().createElement("g",{id:"spin_wheel",mask:"url(#mask-3)"},r().createElement("g",{transform:"translate(2.000000, -2.000000)",id:"Group-2-Copy-6"},r().createElement("g",{transform:"translate(13.000000, 15.357143) rotate(-90.000000) translate(-13.000000, -15.357143) translate(-1.500000, 2.357143)"},r().createElement("g",{id:"Group-3",fillRule:"nonzero"},r().createElement("circle",{id:"Oval-Copy-8",fill:"#1A1C1C",transform:"translate(12.921969, 12.921969) rotate(90.000000) translate(-12.921969, -12.921969) ",cx:"12.9219688",cy:"12.9219688",r:"12.9219688"}),r().createElement("path",{d:"M6.61021165,8.15738755 L11.4643374,16.5638388 C11.2916922,16.6478526 11.1159542,16.7278802 10.937188,16.8037619 C7.86689107,18.1070256 4.53743024,17.9182023 1.75714446,16.563882 L6.61021165,8.15738755 Z",id:"Path-Copy",fill:"#7D36CB",transform:"translate(6.610741, 12.922133) rotate(90.000000) translate(-6.610741, -12.922133) "}),r().createElement("path",{d:"M3.09034976,14.9118125 L12.7994357,14.9119578 C12.562746,18.2554607 10.8097933,21.3918121 7.94503591,23.3199433 L3.09034976,14.9118125 Z",id:"Path-Copy-2",fill:"#D33030",transform:"translate(7.944893, 19.115878) rotate(90.000000) translate(-7.944893, -19.115878) "}),r().createElement("path",{d:"M12.8002222,2.52366122 L7.94610768,10.9315311 C6.22904389,9.77541706 4.81610079,8.1251965 3.94699997,6.07772326 C3.45377987,4.91576955 3.17426301,3.71669725 3.09074711,2.52432096 L12.8002222,2.52366122 Z",id:"Path-Copy-3",fill:"#3D5EF2",transform:"translate(7.945485, 6.727596) rotate(90.000000) translate(-7.945485, -6.727596) "}),r().createElement("path",{d:"M17.8991087,2.52393271 L22.753526,10.931602 L13.0447089,10.9319182 C13.2813987,7.58841531 15.0343513,4.45206389 17.8991087,2.52393271 Z",id:"Path-Copy-4",fill:"#46A424",transform:"translate(17.899117, 6.727925) rotate(90.000000) translate(-17.899117, -6.727925) "}),r().createElement("path",{d:"M21.8975571,19.7665648 C22.3907772,20.9285185 22.6702941,22.1275908 22.75381,23.3199671 L13.0440661,23.3192423 L17.8979881,14.9124463 C19.6152601,16.0685754 21.0283785,17.7189082 21.8975571,19.7665648 Z",id:"Path-Copy-5",fill:"#DC6E0F",transform:"translate(17.898938, 19.116207) rotate(90.000000) translate(-17.898938, -19.116207) "}),r().createElement("path",{d:"M24.0866958,9.28024382 L19.2331473,17.6863981 L14.380159,9.2802103 C14.5526734,9.19626877 14.7282756,9.11630737 14.9069014,9.04048521 C17.9771066,7.73726042 21.3064602,7.92603357 24.0866958,9.28024382 Z",id:"Path-Copy-6",fill:"#FFC107",transform:"translate(19.233427, 12.921884) rotate(90.000000) translate(-19.233427, -12.921884) "})),r().createElement("polygon",{id:"Triangle-Copy-5",fill:"#1A1C1C",fillRule:"nonzero",transform:"translate(24.767450, 12.921969) rotate(-90.000000) translate(-24.767450, -12.921969) ",points:"24.7674499 8.92196882 28.7674498 16.9219688 20.7674499 16.9219688"})))))))};const s=,"./src/components/video/ReportComplaintMenu.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ae});var o=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),r=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),i=n("webpack/sharing/consume/default/react/react"),s=n.n(i),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("./node_modules/redux/es/redux.js"),c=n("./node_modules/react-jss/dist/react-jss.esm.js"),u=n("./node_modules/styled-components-rtl/index.js"),d=n("./node_modules/icf-react-components/components/IconButton/index.js"),p=n.n(d),m=n("./node_modules/icf-react-components/components/Popover/index.js"),h=n.n(m),f=n("./node_modules/icf-react-components/components/List/index.js"),g=n.n(f),v=n("./node_modules/icf-react-components/components/ListItem/index.js"),_=n.n(v),y=n("./node_modules/icf-react-components/components/Tooltip/index.js"),b=n.n(y),S=n("./node_modules/icf-react-components/components/Modal/index.js"),E=n.n(S),C=n("./src/utils/withTranslations.tsx"),Z=n("./src/utils/log.js"),P=n("./src/utils/tools.ts"),O=n("./src/constants/Messages.js"),T=n("./node_modules/lodash/noop.js"),I=n.n(T),w=n("./node_modules/lodash/debounce.js"),A=n.n(w),R=n("./src/lib/AjaxRequest.js"),k=n("./node_modules/icf-react-components/components/RadioButtonGroup/index.js"),D=n.n(k),L=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),N=n.n(L),x=n("./node_modules/icf-react-components/components/RadioButton/index.js"),j=n.n(x),M=n("./src/utils/log/LogDecorator.js"),B=n("./src/constants/ComplaintConstants.ts"),U=a.ZP.div.withConfig({displayName:"ReportStreamingIssueModal__Container",componentId:"sc-sdc5fl-0"})(["position:relative;display:block;margin:0;padding:0;color:white;font-family:",";"],(function(e){return e.theme.typography.fontFamily})),G=a.ZP.div.withConfig({displayName:"ReportStreamingIssueModal__Content",componentId:"sc-sdc5fl-1"})(["min-width:","px;display:flex;flex-direction:column;background:rgb(70,70,70);"],(function(e){return e.wide?340:215})),V=a.ZP.div.withConfig({displayName:"ReportStreamingIssueModal__MenuTitle",componentId:"sc-sdc5fl-2"})(["display:flex;justify-content:space-between;align-items:center;background:rgb(45,45,45);text-transform:uppercase;padding:8px;"]),F=(0,a.ZP)(p()).attrs({name:"arrowBack"}).withConfig({displayName:"ReportStreamingIssueModal__BackArrowIconButton",componentId:"sc-sdc5fl-3"})(["padding:0;cursor:pointer;margin-right:8px;& svg{width:20px;height:20px;}"]),H=a.ZP.span.withConfig({displayName:"ReportStreamingIssueModal__Title",componentId:"sc-sdc5fl-4"})(["flex-grow:1;text-transform:uppercase;"]),Y=a.ZP.div.withConfig({displayName:"ReportStreamingIssueModal__RadioButtonContainer",componentId:"sc-sdc5fl-5"})(["padding:8px 8px 0;background-color:rgb(70,70,70);& > div > div{margin:4px 0;}& > div > div:first-child,& > div > div:last-child{margin:0;}& > div > label > div{min-width:18px;}"]),W=a.ZP.div.withConfig({displayName:"ReportStreamingIssueModal__ActionItem",componentId:"sc-sdc5fl-6"})(["cursor:",";opacity:",";font-weight:400;"],(function(e){return e.disabled?"default":"pointer"}),(function(e){return e.disabled?"0.6":"1"})),z=a.ZP.div.withConfig({displayName:"ReportStreamingIssueModal__ActionItems",componentId:"sc-sdc5fl-7"})(["display:flex;justify-content:",";align-items:center;padding:8px 12px;color:",";"],(function(e){return e.justifyRight?"flex-end":"space-between"}),(function(e){return e.theme.colors.primary})),q=a.ZP.div.withConfig({displayName:"ReportStreamingIssueModal__Confirmation",componentId:"sc-sdc5fl-8"})(["align-content:center;text-align:center;display:flex;justify-content:center;align-items:center;flex-flow:column;padding:32px 8px;line-height:24px;"]),K=(0,a.ZP)(N()).attrs({name:"insertEmoticon",size:48}).withConfig({displayName:"ReportStreamingIssueModal__HappyFaceIcon",componentId:"sc-sdc5fl-9"})(["margin-bottom:8px;fill:",";"],(function(e){return e.theme.colors.primary})),X=(0,a.ZP)(j()).withConfig({displayName:"ReportStreamingIssueModal__StyledRadioButton",componentId:"sc-sdc5fl-10"})(["margin-bottom:8px;"]),Q=A()((function(e){Z.Z.usage("sent_incident_report",e.issueDescription),R.Z.post(R.Z.getBaseUrl()+"/api/v1/userstreamreport",e,"json")}),3e4,{leading:!0,trailing:!1});const J=(0,l.qC)((0,C.Z)())((function(e,t){var n=(0,i.useState)("menu"),r=(0,o.Z)(n,2),a=r[0],l=r[1],c=(0,i.useState)(null),u=(0,o.Z)(c,2),d=u[0],p=u[1],m=e.t,h=e.handleBackArrowClick,f=e.handleReportIssueRefresh,g=e.handleReportIssueSupport,v=function(e){return s().createElement(X,{key:e,value:e,label:m(B.mC[e].stringName)})},_=null===d?I():function(){var e=null!=d?d:B.xi.OTHER,n=B.mC[e],o=M.Z.getIncludedData(),r=o.serial,i=o.performerid,s=o.userStreamId,a=o.performerStreamId,c=o.aiw_driver,u=t.smeid,p=t.smtid,m={issueType:n.reportCode,issueDescription:n.description,smeid:u,smtid:p,serial:r,performerid:i,performerStreamId:a,userStreamId:s,aiw_driver:c};Q(m),l("confirmation")},y=null===d,b=function(){return s().createElement(U,null,s().createElement(G,null,s().createElement(V,null,s().createElement(F,{onClick:h}),s().createElement(H,null,m("streaming_issue_report_short"))),s().createElement(Y,null,s().createElement(D(),{name:"reportIssue",onChange:,Object.values(B.xi).map(v))),s().createElement(z,{justifyRight:!0},s().createElement(W,{disabled:y,onClick:_,"data-ta-locator":"ActionItem_submitAction"},m("submit")))))};return function(){switch(a){case"confirmation":return s().createElement(U,null,s().createElement(G,null,s().createElement(V,null,s().createElement(F,{onClick:h}),s().createElement(H,null,m("streaming_issue_report_short"))),s().createElement(q,null,s().createElement(K,{fr:void 0}),s().createElement("div",null,m("streaming_issue_thank_you"))),s().createElement(z,null,s().createElement(W,{onClick:f,"data-ta-locator":"ActionItem_refresh"},m("refresh_page")),s().createElement(W,{onClick:g,"data-ta-locator":"ActionItem_support"},m("support")))));default:return b()}}()}));var $=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),ee=n("./src/lib/Strings.js"),te=n("./node_modules/prop-types/index.js"),ne=n.n(te),oe=n("./src/stores/ConfigStore.ts"),re=n("./src/stores/ConnectionStore.js"),ie=n("./src/stores/UserStore.js"),se=n("./src/stores/GoldShowStore.js"),ae=n("./src/stores/PerformerStore.ts"),le=n("./src/stores/UserListStore.ts"),ce=n("./src/utils/withStores.tsx"),ue=n("./src/utils/complaint.ts"),de=n("./src/components/FederatedModule.tsx"),pe=n("./src/components/common/Spinner.tsx"),me=n("./node_modules/@atg/contentreview/index.js"),he=n("./src/constants/Platforms.ts"),fe=n("./src/constants/Feature.ts"),ge=n("./src/constants/Connection.js");function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var _e=function(e){return s().createElement(de.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({scope:"contentcomplaint_client",module:"./ReportComplaintForm",fallback:s().createElement(pe.Z,null)},e))},ye=function(e,t){var n,o=e.siteId,r=e.memberServer,a=e.googleInvisibleRecaptchaSiteKey,l=e.platform,c=e.streamType,u=e.performerId,d=e.numberOfUsersInRoom,p=e.handleCancel,m=e.handleSubmitSuccess,h=e.handleSubmitFailure,f=e.sakey,g=e.theme,v=e.userLanguage,_=e.location,y=t.fullscreen,b=t.getClientModalTargetElement,S=t.primaryColor,E=y||l!==he.ZP.SCP?b():void 0,C={siteId:o,platform:null!==(n=B.sC.get(l))&&void 0!==n?n:me.ComplaintPlatform.SCP,memberServer:r,googleInvisibleRecaptchaSiteKey:a,container:E},Z=(0,ue.Y)(me.ContentType.LiveStream);if(!Z)return s().createElement(i.Fragment,null);var P=ge.NT.has(c),O=se.Z.isActive()&&se.Z.isUserBoughtIn(),T={sakey:f,complaintCreatorType:me.ComplaintCreatorType.User,tracking:R.Z.getTrackingHeaders()},I={typeAttributes:[me.ContentType.LiveStream],localizedString:(0,ee.KF)(B.vl[me.ContentType.LiveStream]),lookupData:Z,isPaidContent:P||O,serviceType:me.ServiceType.HybridClient,contentCreatorUserType:me.ContentCreatorUserType.Performer,contentCreatorId:u,viewerCount:d,getViewerCount:;return s().createElement(_e,{onCancel:p,onSubmitSuccess:function(){m()},onSubmitFailure:location:_,reportableContent:I,complaintCreatorInfo:T,siteInfo:C,themeMode:null==g?void 0:g.mode,primaryColor:S,userLanguage:v})};ye.contextTypes={fullscreen:ne().bool,getClientModalTargetElement:ne().func,primaryColor:ne().string};const be=(0,l.qC)((0,ce.Z)([oe.Z,ie.Z,re.Z,ae.Z,le.Z],(function(e){var t;return{siteId:e.config.siteId,platform:e.config.platform,memberServer:e.config.memberServer,enabledContentReportingFeatures:e.user.enabledContentReportingFeatures,googleInvisibleRecaptchaSiteKey:e.user.enabledContentReportingFeatures.has(fe.ZP.REPORT_CONTENT_CAPTCHA)?e.config.siteConfig.googleInvisibleRecaptchaSiteKey:void 0,streamType:e.connection.streamType,performerId:e.performer.id,numberOfUsersInRoom:e.userList.numberOfUsersInRoom,sakey:e.user.sakey,userLanguage:null!==(t=e.performer.lang)&&void 0!==t?t:ee.k$}})),(0,C.Z)(),a.Zz)(ye);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var Ee=function(e){return s().createElement(de.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({scope:"contentcomplaint_client",module:"./ReportComplaintSuccessSnackbar"},e))},Ce=function(e,t){var n,o=e.siteId,r=e.isOpen,a=e.memberServer,l=e.googleInvisibleRecaptchaSiteKey,c=e.platform,u=e.theme,d=e.userLanguage,p=t.fullscreen,m=t.getClientModalTargetElement,h=t.primaryColor,f=p||c!==he.ZP.SCP?m():void 0,g={siteId:o,platform:null!==(n=B.sC.get(c))&&void 0!==n?n:me.ComplaintPlatform.SCP,memberServer:a,googleInvisibleRecaptchaSiteKey:l,container:f};return(0,ue.Y)(me.ContentType.LiveStream)?s().createElement(Ee,{isOpen:r,siteInfo:g,themeMode:null==u?void 0:u.mode,primaryColor:h,userLanguage:d}):s().createElement(i.Fragment,null)};Ce.contextTypes={fullscreen:ne().bool,getClientModalTargetElement:ne().func,primaryColor:ne().string};const Ze=(0,l.qC)((0,ce.Z)([oe.Z,ie.Z,ae.Z],(function(e){var t;return{siteId:e.config.siteId,platform:e.config.platform,memberServer:e.config.memberServer,googleInvisibleRecaptchaSiteKey:e.user.enabledContentReportingFeatures.has(fe.ZP.REPORT_CONTENT_CAPTCHA)?e.config.siteConfig.googleInvisibleRecaptchaSiteKey:void 0,userLanguage:null!==(t=e.performer.lang)&&void 0!==t?t:ee.k$}})),(0,C.Z)(),a.Zz)(Ce);var Pe,Oe=(0,a.ZP)(g()).withConfig({displayName:"ReportComplaintMenu__StyledList",componentId:"sc-ah9dr-0"})(["padding:0"]),Te=(0,a.ZP)(_()).withConfig({displayName:"ReportComplaintMenu__StyledListItem",componentId:"sc-ah9dr-1"})(["border-top:1px solid #2d2d2d;padding:8px;cursor:pointer;transition:background-color 0.3s linear;background-color:rgba(255,255,255,0);&:hover{background-color:rgba(255,255,255,0.2);}span{","}"],(0,u.Z)(Pe||(Pe=(0,r.Z)(["\n      margin-right: 6px;\n    "])))),Ie=(0,c.createUseStyles)((function(){return{popover:{"& .reportComplaintButtonPopoverContent":{padding:0}}}})),we=(0,c.createUseStyles)(();const Ae=(0,l.qC)((0,C.Z)())((function(e){var t=e.t,n=e.location,r=e.isMobile,a=(0,i.useState)(!1),l=(0,o.Z)(a,2),c=l[0],u=l[1],d=(0,i.useState)(!1),m=(0,o.Z)(d,2),f=m[0],g=m[1],v=(0,i.useState)(!1),_=(0,o.Z)(v,2),y=_[0],C=_[1],T=(0,i.useState)(!1),I=(0,o.Z)(T,2),w=I[0],A=I[1],R=(0,i.useState)(!1),k=(0,o.Z)(R,2),D=k[0],L=k[1],N=(0,i.useMemo)((function(){return"popover_reportcomplaintbutton"}),[]),x=function(){u(!1),g(!1),L(!1)};return s().createElement(i.Fragment,null,s().createElement(b(),{title:c?"":t("streaming_issue_report_short"),offset:0},s().createElement(p(),{id:N,name:"dotsVertical",size:r?"large":"medium",onClick:function(){if(c||Z.Z.usageTick("ReportComplaintMenu_opened"),(f||D)&&!c)return g(!1),void L(!1);u(!c)},"data-testid":"ReportComplaintButton-button"})),s().createElement(h(),{className:Ie().popover,open:c,disableOpenOnHover:!0,targetId:N,closeOnClick:!0,overrides:{content:"reportComplaintButtonPopoverContent"},"data-testid":"ReportComplaintButton-popover"},s().createElement(Oe,null,s().createElement(Te,{key:0,primaryText:t("report_content.content_type.live_stream"),onClick:function(){g(!0),L(!1),u(!1)},"data-testid":"ReportContentComplaintButton"}),s().createElement(Te,{key:1,primaryText:t("streaming_issue_report"),onClick:"data-testid":"ReportStreamingIssueButton"}))),s().createElement(h(),{className:we().popover,open:D,targetId:N,disableOpenOnHover:!0,overrides:{content:"reportComplaintModalPopoverContent"},"data-testid":"ReportComplaintModal-popover"},s().createElement(J,{handleBackArrowClick:x,handleReportIssueRefresh:function(){Z.Z.debug("handleReportIssueRefresh"),u(!1),g(!1),L(!1),(0,P.Vj)(O.Z.REFRESH,{})},handleReportIssueSupport:function(){u(!1),g(!1),L(!1),(0,P.Vj)(O.Z.REQUIRES_SUPPORT)}})),s().createElement(E(),{open:f,size:r?S.ModalSizes.small:S.ModalSizes.medium,onClose:x},s().createElement(be,{handleCancel:x,handleSubmitSuccess:function(){A(!0),C(!0),g(!1),u(!1)},handleSubmitFailure:location:n})),w&&s().createElement(Ze,{isOpen:y}))}))},"./src/components/videoclient/cam2cam/EnterModal/PrivateCallPreviewLively.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),i=n("./node_modules/@babel/runtime/regenerator/index.js"),s=n.n(i),a=n("webpack/sharing/consume/default/react/react"),l=n.n(a),c=n("./src/utils/withStores.tsx"),u=n("./src/utils/createAsyncComponent.tsx"),d=n("./src/components/videoclient/store/encoder/EncoderUiStore.ts");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var m=(0,u.Z)((0,r.Z)(s().mark(()),{displayName:"PreviewLively"});const h=(0,c.Z)([d.Z],(function(e){return{encoderUi:e.encoderUi.encoderUi}}),{memoize:!0})((function(e){var t=e.encoderUi;return l().createElement(l().Fragment,null,t&&l().createElement(m,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:"private-preview-lively"},e)))}))},"./src/components/videoclient/store/cam2cam/Cam2CamConstants.ts":(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={LIVELY_VIDEO_CAM2CAM_DISABLED:"LivelyVideoCam2CamDisabled",LIVELY_VIDEO_CAM2CAM_END:"LivelyVideoCam2CamEnd",LIVELY_VIDEO_CAM2CAM_GET_DEVICES:"LivelyVideoCam2CamGetDevices",LIVELY_VIDEO_CAM2CAM_HIDDEN:"LivelyVideoCam2CamHidden",LIVELY_VIDEO_CAM2CAM_MIC_DISABLED:"LivelyVideoCam2CamMicDisabled",LIVELY_VIDEO_CAM2CAM_REQUEST:"LivelyVideoCam2CamRequest",LIVELY_VIDEO_CAM2CAM_SET_AUDIO_DEVICE:"LivelyVideoCam2CamSetAudioDevice",LIVELY_VIDEO_CAM2CAM_SET_VIDEO_DEVICE:"LivelyVideoCam2CamSetVideoDevice",LIVELY_VIDEO_CAM2CAM_VIDEO_DISABLED:"LivelyVideoCam2CamVideoDisabled",LIVELY_VIDEO_CAM2CAM_USER_MEDIA_DETECT:"LivelyVideoCam2CamUserMediaDetect",LIVELY_VIDEO_CAM2CAM_VISIBLE:"LivelyVideoCam2CamVisible"}},"./src/components/videoclient/store/cam2cam/Cam2CamStore.ts":(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),s=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=n("./src/lib/Dispatcher.js"),d=n("./src/utils/FluxStoreExtended.ts"),p=n("./src/components/videoclient/store/cam2cam/Cam2CamConstants.ts"),m=n("./src/constants/Actions.js"),h=n("./src/utils/log.js"),f=n("./src/constants/StatsEvents.js"),g=n("./src/components/videoclient/store/videoClient/VideoClientStore.ts"),v=n("./src/stores/UserStore.js"),_=n("./src/stores/PerformerStore.ts"),y=n("./src/stores/ConnectionStore.js"),b=n("./src/constants/Connection.js");function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,a.Z)(this,n)}}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z={audioDeviceFound:!1,callInProgress:!1,disabledCam2Cam:!1,isVisible:!0,requested:!1,sessionStart:0,videoDeviceFound:!1},P=C({},Z);const O=new(function(e){(0,s.Z)(n,e);var t=S(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),(0,c.Z)((0,i.Z)(e),"handleUserMediaDetect",(),e}return(0,r.Z)(n,[{key:"getState",value:function(){return P}},{key:"reset",value:function(){P=C({},Z)}},{key:"handleVideoC2CRequest",value:function(){P=C(C({},P),{},{requested:!0,callInProgress:!0}),setTimeout((function(){u.Z.dispatch({type:m.Z.CLOSE_MODAL})}),0),P.sessionStart=Date.now(),setTimeout((function(){var e=v.Z.getState(),t=e.userId,n=e.userStreamId,o=_.Z.getState().id,r=y.Z.getState(),i=r.performerStreamId,s=r.streamType,a=b.Ax[s];h.Z.loms({eventname:"Cam2CamRequestV1",userId:t,userStreamId:n,performerId:o,performerStreamId:i,sessionType:a,accepted:P.callInProgress})}),1e4),h.Z.statsIncCounter("session.c2c.broadcasting.pvc")}},{key:"handleVideoC2CVisible",value:function(e){P.isVisible=e}},{key:"handleVideoC2CEnd",value:function(){if(0!==(P=C(C({},P),{},{requested:!1,callInProgress:!1})).sessionStart){var e=g.Z.getState().driver,t=Date.now()-P.sessionStart;if(t>=1e4){var n=v.Z.getState(),o=n.userId,r=n.userStreamId,i=_.Z.getState().id,s=y.Z.getState().performerStreamId;h.Z.loms({eventname:"Cam2CamEndV1",userId:o,userStreamId:r,performerId:i,performerStreamId:s,sessionLength:Math.round(t/1e3)})}h.Z.statsTimer("session.c2c.sessionlength.".concat(e),t),h.Z.statsIncCounter("".concat(f.Z.C2C.ENDED,".").concat(e)),h.Z.statsIncCounter("session.c2c.ended.pvc"),P.sessionStart=0}}},{key:"__onDispatch",value:function(e){var t=e.type,n=e.data;switch(t){case p.Z.LIVELY_VIDEO_CAM2CAM_REQUEST:this.handleVideoC2CRequest();break;case p.Z.LIVELY_VIDEO_CAM2CAM_HIDDEN:this.handleVideoC2CVisible(!1);break;case p.Z.LIVELY_VIDEO_CAM2CAM_VISIBLE:this.handleVideoC2CVisible(!0);break;case p.Z.LIVELY_VIDEO_CAM2CAM_END:this.handleVideoC2CEnd();break;case p.Z.LIVELY_VIDEO_CAM2CAM_DISABLED:P.disabledCam2Cam!==n&&(P.disabledCam2Cam=n);break;case p.Z.LIVELY_VIDEO_CAM2CAM_USER_MEDIA_DETECT:this.handleUserMediaDetect(n.videoDeviceFound,n.audioDeviceFound);break;case m.Z.DISCONNECT:this.handleVideoC2CEnd();break;default:return}this.__emitChange()}}]),n}(d.Z))("cam2cam",u.Z)},"./src/components/videoclient/store/encoder/EncoderUiConstants.ts":"./src/components/videoclient/store/encoder/EncoderUiStore.ts":(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var o=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=n("./node_modules/@babel/runtime/regenerator/index.js"),p=n.n(d),m=n("./src/lib/Dispatcher.js"),h=n("./src/utils/FluxStoreExtended.ts"),f=n("./src/constants/Actions.js"),g=n("./src/components/videoclient/store/encoder/EncoderUiConstants.ts"),v=n("./src/components/videoclient/store/videoClient/VideoClientConstants.ts"),_=n("./node_modules/@video/video-client-web/index.js"),y=n("./src/utils/log.js"),b=n("./src/constants/StatsEvents.js"),S=n("./src/lib/Strings.js");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z={defaultConstraints:{audio:{autoGainControl:{exact:!0},channelCount:{min:1,ideal:2},echoCancellation:{exact:!0},latency:{ideal:0},noiseSuppression:{exact:!0},sampleRate:{min:8e3,ideal:48e3,max:48e3},sampleSize:{min:16,ideal:32}},video:C(C({},{facingMode:{ideal:"user"},aspectRatio:{exact:16/9},frameRate:{ideal:24}}),{width:{max:640},height:{max:480}}),screencapture:{frameRate:{ideal:24}}}};function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I={encoderUi:null,encoderReady:!1,getUserMediaError:!1,videoDevices:[],audioDevices:[]},w=T({},I);const A=new(function(e){(0,a.Z)(l,e);var t,n=P(l);function l(){var e;(0,r.Z)(this,l);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),(0,u.Z)((0,s.Z)(e),"handleCreateEncoderUi",function(){var t=(0,o.Z)(p().mark((function t(n){var o,r,i,s;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w.encoderUi&&e.handleDisposeEncoderUi("EncoderUi disposed to create new instance"),t.prev=1,t.next=4,_.mediaController.init();case 4:return w.videoDevices=_.mediaController.videoDevices(),w.audioDevices=_.mediaController.audioDevices(),_.mediaController.on("deviceListChanged",e.handleSetDevices),r=null!==(o=n.mediaStreamControllerOptions)&&void 0!==o?o:Z,t.next=10,_.mediaController.requestController(r);case 10:(i=t.sent).videoDisabled=!n.videoEnabled,i.audioMuted=!n.audioEnabled,i.resolution=480,i.on("error",(function(t){return e.handleMediaStreamControllerError(t)})),_.adapter.device.isIosDevice&&(i.resolution={min:480,ideal:480,max:480}),_.adapter.device.isAndroidDevice&&(i.resolution=[240,2160]),s=new _.EncoderUiState(i,n.encoderUiOptions),setTimeout((function(){m.Z.dispatch({type:g.Z.LIVELY_VIDEO_ENCODER_SET_ENCODER_UI,data:s})}),0),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(1),t.t0 instanceof Error&&("get-user-media-failed"===t.t0.name&&e.handleGetUserMediaError(t.t0),y.Z.error({message:"error initializing EncoderUi",error:t.t0}),y.Z.statsIncCounter("".concat(b.Z.C2C.ERROR_BROADCASTER,".init-failed")),y.Z.send());case 24:case"end":return t.stop()}}),t,null,[[1,21]])})));return function(e){return t.apply(this,arguments)}}()),e}return(0,i.Z)(l,[{key:"getState",value:function(){return w}},{key:"reset",value:function(){w=T({},I)}},{key:"handleSetEncoderUi",value:function(e){w.encoderUi=e}},{key:"handleDisposeEncoderUi",value:function(e){var t=this;null!==w.encoderUi&&(_.mediaController.off("deviceListChanged",this.handleSetDevices),w.encoderUi.mediaStreamController.off("error",(function(e){return t.handleMediaStreamControllerError(e)})),w.encoderUi.removeAllListeners(),w.encoderUi.mediaStreamController.removeAllListeners(),w.encoderUi.dispose(e),this.reset())}},{key:"handleSetVideoDevice",value:function(e){var t=e.deviceId;e.label;_.mediaController.videoDevices().some((function(e){return e.deviceId===t}))?null!==w.encoderUi&&(w.encoderUi.mediaStreamController.videoDeviceId=t):y.Z.debug("VideoClientStore, videoDeviceId not found. Unable to change device",t)}},{key:"handleSetAudioDevice",value:function(e){var t=e.deviceId;e.label;_.mediaController.audioDevices().some((function(e){return e.deviceId===t}))?null!==w.encoderUi&&(w.encoderUi.mediaStreamController.audioDeviceId=t):y.Z.debug("VideoClientStore, audioDeviceId not found. Unable to change device",t)}},{key:"handleSetVideoDisabled",value:function(e){null!==w.encoderUi&&(w.encoderUi.mediaStreamController.videoDisabled=e)}},{key:"handleSetAudioMuted",value:function(e){null!==w.encoderUi&&(w.encoderUi.mediaStreamController.audioMuted=e)}},{key:"handleC2CVideoDisabled",value:function(e){null!==w.encoderUi?!0===e&&!0===w.encoderUi.mediaStreamController.audioMuted?setTimeout((function(){m.Z.dispatch({type:v.Z.LIVELY_VIDEO_CAM2CAM_VIDEOCLIENT_END})}),0):this.handleSetVideoDisabled(e):y.Z.debug({message:"encoderUi is null, cannot disable video"})}},{key:"handleC2CAudioMuted",value:function(e){null!==w.encoderUi?!0===e&&!0===w.encoderUi.mediaStreamController.videoDisabled?setTimeout((function(){m.Z.dispatch({type:v.Z.LIVELY_VIDEO_CAM2CAM_VIDEOCLIENT_END})}),0):this.handleSetAudioMuted(e):y.Z.debug({message:"encoderUi is null, cannot disable mic"})}},{key:"handleGetUserMediaError",value:function(e){"get-user-media-failed"===e.name&&(y.Z.error({message:"get-user-media-failed",error:e}),y.Z.statsIncCounter("".concat(b.Z.C2C.ERROR_BROADCASTER,".get-user-media-failed")),y.Z.send(),w.getUserMediaError=!0,m.Z.dispatch({type:f.Z.DISPLAY_MESSAGE,data:{message:(0,S.KF)("cam2cam_grant_camera_access")}}))}},{key:"handleSetDevices",value:function(e){var t=e.filter((function(e){return"videoinput"===e.kind})),n=e.filter(();w=T(T({},w),{},{videoDevices:t,audioDevices:n})}},{key:"handleMediaStreamControllerError",value:function(e){if("get-user-media-failed"!==e.name)return y.Z.error({message:"mediaStreamControllerError",error:e}),y.Z.statsIncCounter(b.Z.C2C.ERROR_INIT),void y.Z.send();this.handleGetUserMediaError(e)}},{key:"__onDispatch",value:(t=(0,o.Z)(p().mark((function e(t){var n,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.type,o=t.data,e.t0=n,e.next=e.t0===g.Z.LIVELY_VIDEO_ENCODER_CREATE_ENCODER_UI?4:e.t0===g.Z.LIVELY_VIDEO_ENCODER_SET_ENCODER_UI?6:e.t0===g.Z.LIVELY_VIDEO_ENCODER_DISPOSE_ENCODER_UI?9:e.t0===g.Z.LIVELY_VIDEO_ENCODER_SET_VIDEO_DEVICE?11:e.t0===g.Z.LIVELY_VIDEO_ENCODER_SET_AUDIO_DEVICE?13:e.t0===g.Z.LIVELY_VIDEO_ENCODER_SET_CAM2CAM_VIDEO_DISABLED?15:e.t0===g.Z.LIVELY_VIDEO_ENCODER_SET_CAM2CAM_AUDIO_MUTED?17:e.t0===g.Z.LIVELY_VIDEO_ENCODER_SET_VIDEO_DISABLED?19:e.t0===g.Z.LIVELY_VIDEO_ENCODER_SET_AUDIO_MUTED?21:23;break;case 4:return this.handleCreateEncoderUi(o),e.abrupt("break",24);case 6:return y.Z.debug("VideoClientStore, LIVELY_VIDEO_ENCODER_SET_ENCODER_UI"),this.handleSetEncoderUi(o),e.abrupt("break",24);case 9:return this.handleDisposeEncoderUi(null==o?void 0:o.reason),e.abrupt("break",24);case 11:return this.handleSetVideoDevice(o),e.abrupt("break",24);case 13:return this.handleSetAudioDevice(o),e.abrupt("break",24);case 15:return this.handleC2CVideoDisabled(o),e.abrupt("break",24);case 17:return this.handleC2CAudioMuted(o),e.abrupt("break",24);case 19:return this.handleSetVideoDisabled(o),e.abrupt("break",24);case 21:return this.handleSetAudioMuted(o),e.abrupt("break",24);case 23:return e.abrupt("return");case 24:this.__emitChange();case 25:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),l}(h.Z))("encoderUi",m.Z)},"./src/components/videoclient/store/videoClient/VideoClientConstants.ts":"./src/components/videoclient/store/videoClient/VideoClientStore.ts":(e,t,n)=>{"use strict";n.d(t,{Z:()=>U});var o=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=n("./node_modules/@babel/runtime/regenerator/index.js"),p=n.n(d),m=n("./src/lib/Dispatcher.js"),h=n("./src/utils/FluxStoreExtended.ts"),f=n("./src/constants/Actions.js"),g=n("./src/components/videoclient/store/videoClient/VideoClientConstants.ts"),v=n("./src/components/videoclient/store/cam2cam/Cam2CamConstants.ts"),_=n("./node_modules/@video/video-client-web/index.js"),y=n("./src/utils/log.js"),b=n("./src/constants/DisconnectReasons.js"),S=n("./src/constants/Connection.js"),E=n("./src/components/videoclient/store/cam2cam/Cam2CamStore.ts"),C=n("./src/stores/VideoControlsStore.js"),Z=n("./src/components/videoclient/store/encoder/EncoderUiStore.ts"),P=n("./src/stores/ConnectionStore.js"),O=n("./src/stores/ChatStore.js"),T=n("./src/stores/ConfigStore.ts"),I=n("./node_modules/lscache/lscache.js"),w=n.n(I),A=n("./src/stores/LayoutStore.js"),R=n("./src/stores/UserStore.js"),k=n("./src/lib/PerformanceTiming.js"),D=n("./src/constants/StatsEvents.js"),L=n("./src/components/videoclient/utils/index.ts");function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M={activeCam2Cam:!1,blurThePlayer:!1,blurred:!1,call:null,cam2cam:!1,disconnected:!1,driver:"",forcedMute:!1,player:null,playerUi:null,poster:"",refreshing:!1,started:!1,userHasSeenPlayback:!1,useLivelyEncoder:null,videoClient:null,videoClientUnmount:!1,inLandscape:!1},B=j({},M);const U=new(function(e){(0,a.Z)(d,e);var t,n,l,c=N(d);function d(){var e;(0,r.Z)(this,d);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=c.call.apply(c,[this].concat(n)),(0,u.Z)((0,s.Z)(e),"addPlayerListeners",(function(){var t,n,o,r,i,s;null===(t=B.player)||void 0===t||t.on("error",(function(t){return e.handleError(t)})),null===(n=B.player)||void 0===n||n.on("videoFirstPlay",(function(){return e.handlePlaying()})),null===(o=B.player)||void 0===o||o.on("manifest",(function(t){return e.handleManifest(t)})),null===(r=B.player)||void 0===r||r.on("restartDriver",(function(){return e.handleRestartDriver()})),null===(i=B.player)||void 0===i||i.on("forcedMute",(function(t){return e.handleForcedMute(t)})),null===(s=B.player)||void 0===s||s.on("peerAtCapacity",(function(t){return e.handlePeerAtCapacity(t)}))})),(0,u.Z)((0,s.Z)(e),"handleVolumeUpdate",(function(e){if(B.player&&(!B.forcedMute||(B.forcedMute=!1,"mp4-ws"!==B.player.format||!L.i||!1!==_.adapter.device.isAndroidDevice))){if(!A.ZP.getState().isDesktop)return B.player.localAudioMuted="muted"===e,void(B.player.localAudioVolume=1);0===e||"muted"===e?(w().set("hybrid_client_volume","muted"),setTimeout((function(){m.Z.dispatch({type:f.Z.AUDIO_ENABLED,data:{enabled:!1}})}),0),B.player.localAudioMuted=!0,B.player.localAudioVolume=0):(setTimeout((function(){m.Z.dispatch({type:f.Z.ENABLE_AUDIO})}),0),w().set("hybrid_client_volume",e),B.player.localAudioMuted=!1,B.player.localAudioVolume=Number(e))}})),(0,u.Z)((0,s.Z)(e),"handleManifest",(function(e){var t,n=e.formats,o=null===(t=B.player)||void 0===t?void 0:t.format;if(void 0===o||"webrtc"!==o?setTimeout((function(){m.Z.dispatch({type:v.Z.LIVELY_VIDEO_CAM2CAM_DISABLED,data:!0})}),0):E.Z.getState().disabledCam2Cam&&setTimeout((function(){m.Z.dispatch({type:v.Z.LIVELY_VIDEO_CAM2CAM_DISABLED,data:!1})}),0),o&&o!==B.driver){B.driver=o;var r=R.Z.getState(),i=r.sakey,s=r.country;y.Z.usage("aiw_manifest_start",Date.now()),k.Z.mark("aiw_manifest_start.".concat(i?"loggedin":"loggedout",".").concat(s.toLowerCase())),setTimeout((function(){m.Z.dispatch({type:f.Z.VIDEO_PLAYING,data:{supportsVolume:!0,currentFormat:o}})}),0)}if(n.jpeg){var a=n.jpeg.encodings[0].location;setTimeout((function(){m.Z.dispatch({type:g.Z.VIDEO_MANIFEST_POSTER_URL,data:{poster:a}})}),0)}if(n["mp4-hls"]){var l,c=n["mp4-hls"],u=c.encodings,d=c.substitute,p=null!==(l=(null!=u?u:d)[0])&&void 0!==l?l:d,h=A.ZP.getState().videoAspectRatio,_=p.videoWidth/p.videoHeight!==h;o&&setTimeout((function(){m.Z.dispatch({type:f.Z.WONDER_MANIFEST,data:{availableMediaFormats:[],mediaData:null,currentEncoding:null,currentFormat:o,formats:n}})}),0),p.videoWidth&&p.videoHeight&&_&&setTimeout((function(){m.Z.dispatch({type:f.Z.VIDEO_DIMENSIONS_LOADED,data:{width:p.videoWidth,height:p.videoHeight}})}),0)}})),(0,u.Z)((0,s.Z)(e),"handleForcedMute",(function(e){B.forcedMute=!0,setTimeout((function(){m.Z.dispatch({type:f.Z.AUDIO_ENABLED,data:{enabled:!e}})}),0)})),(0,u.Z)((0,s.Z)(e),"handleRestartDriver",(),(0,u.Z)((0,s.Z)(e),"handlePlaying",(function(){var e,t,n,o=null===(e=B.player)||void 0===e?void 0:e.format;setTimeout((function(){m.Z.dispatch({type:f.Z.VIDEO_START,data:{driverName:o}})}),0),!0===B.started&&!1===B.refreshing&&B.driver===o||(B.started=!0,B.refreshing=!1,B.driver=null!=o?o:""),null===(t=B.playerUi)||void 0===t||null===(n=t.videoElement.current)||void 0===n||n.setAttribute("disablePictureInPicture","");var r=R.Z.getState().browserStatsBucket,i=Date.now();y.Z.usage("aiw_play",i),k.Z.mark("aiw_play"),k.Z.log(),y.Z.statsIncCounter("platforms.".concat(r,".aiw_playing.").concat(null!=o?o:"")),y.Z.statsIncCounter("video.aiw_playing.".concat(null!=o?o:"")),B.userHasSeenPlayback=!0,setTimeout((function(){m.Z.dispatch({type:f.Z.VIDEO_PLAYING,data:{supportsVolume:!0,currentFormat:o}})}),0)})),(0,u.Z)((0,s.Z)(e),"handleError",(function(e){var t="unspecified error";e.err?t=e.err.message:e.message&&(t=e.message);var n=e.data?e.data.statusCode:500,o="video player ".concat(t),r=P.Z.getState().clientState;if("http-unexpected-status-code"===t){if(y.Z.usageTick("video_".concat(n)),y.Z.statsIncCounter("video.aiw_errors.http_unexpected_status_code_".concat(n)),y.Z.info({message:"video-http-unexpected-status-code",labels:{statusCode:n}}),r!==S.ZP.PLAYING&&r!==S.ZP.AWAITING_PLAYBACK)return;if(403===n||404===n)return}"no-valid-drivers"===t&&(y.Z.usage("aiw_no_valid_drivers"),y.Z.statsIncCounter("video.aiw_errors.no_valid_drivers"),setTimeout((function(){m.Z.dispatch({type:f.Z.DISCONNECT,data:[b.Z.NO_VALID_DRIVERS,"No valid drivers."]})}),0)),"stall"===t&&(y.Z.usage("aiw_stall"),y.Z.statsIncCounter("video.aiw_errors.stall")),y.Z.notice({message:o,videoErrors:e.data}),y.Z.statsIncCounter("video.aiw_errors.".concat(t.replace(/-/g,"_")))})),(0,u.Z)((0,s.Z)(e),"handleRefresh",(function(t,n){e.handleDisposePlayer("Player disposed on refresh"),e.handleCreatePlayer(t,n),setTimeout((function(){m.Z.dispatch({type:f.Z.VIDEO_REFRESH,data:{shouldRefresh:!1}})}))})),(0,u.Z)((0,s.Z)(e),"handleSetPreferredLayer",(function(e){B.player&&e&&(B.player.preferredLevel=e)})),(0,u.Z)((0,s.Z)(e),"handleVideoClientUnmount",(function(t){B.videoClientUnmount=t,t&&e.handleDisposePlayer("Disposed on videoClient unmount")})),(0,u.Z)((0,s.Z)(e),"handleAudioEnabled",(function(){B.player&&(B.player.localAudioMuted||0===B.player.localAudioVolume)&&(B.player.localAudioMuted=!1,B.player.localAudioVolume=.75)})),e}return(0,i.Z)(d,[{key:"getState",value:function(){return B}},{key:"reset",value:function(){B=j({},M)}},{key:"setUseLivelyEncoder",value:function(e){B.useLivelyEncoder=e}},{key:"setBlurStream",value:function(e){B.blurred=e,e||(B.blurThePlayer=!1)}},{key:"handleCreateVideoClient",value:function(){if(!B.videoClient){var e=T.Z.getState().livelyEndpoint,t=P.Z.getState().authtoken,n=O.Z.getState().usernickname;B.inLandscape=A.ZP.getState().isLandscape;var o={backendEndpoints:[e.includes("https://")?e:"https://"+e]};t&&(o.token=t),o.displayName=n,B.videoClient=new _.VideoClient({backendEndpoints:o.backendEndpoints,displayName:o.displayName,token:o.token,playerOptions:o.playerOptions}),B.videoClient.on("viewerKicked",(function(){setTimeout((function(){m.Z.dispatch({type:g.Z.LIVELY_VIDEO_CAM2CAM_VIDEOCLIENT_END})}),0),setTimeout((function(){m.Z.dispatch({type:f.Z.CAM2CAM_REJECT})}),0)})),B.videoClient.on("peerAdded",(function(e){e.peer;var t=e.call;t&&(B.call=t)}))}}},{key:"handleVideoC2CEnd",value:function(){var e;B.cam2cam=!1,null===(e=B.call)||void 0===e||e.broadcasts.forEach((),setTimeout((function(){m.Z.dispatch({type:v.Z.LIVELY_VIDEO_CAM2CAM_END,data:!1})}),0)}},{key:"handleDisposePlayer",value:function(e){var t=R.Z.getState(),n=t.sakey,o=t.country,r=A.ZP.getState(),i=r.isTablet,s=r.isLandscape;r.isDesktop&&!i||B.inLandscape===s||!B.cam2cam?(B.inLandscape=s,y.Z.usage("aiw_manifest_end",Date.now()),k.Z.mark("aiw_manifest_end.".concat(n?"loggedin":"loggedout",".").concat(o.toLowerCase())),B.playerUi&&(B.started=!1,B.playerUi.dispose(e),B.playerUi=null),B.player&&(B.player.dispose(e),B.player=null),this.handleVideoC2CEnd()):B.inLandscape=s}},{key:"handleCreatePlayer",value:function(e,t){if(!B.videoClientUnmount&&(B.playerUi&&(B.playerUi.dispose("PlayerUi disposed to create new instance"),B.playerUi=null),B.player&&(B.player.dispose("Player disposed creating a new instance"),B.player=null),B.videoClient)){var n=C.Z.getState().volume,o=localStorage.getItem("livelyPlayer"),r=null;r=R.Z.getState().sakey?[{id:"webrtc"},{id:"mp4ws"},{id:"native-hls"},{id:"hlsjs",options:{hlsjsPath:"".concat(t,"/2.0.0/hls.min.js")}}]:[{id:"webrtc"},{id:"native-hls"},{id:"hlsjs",options:{hlsjsPath:"".concat(t,"/2.0.0/hls.min.js")}},{id:"mp4ws"}],"webrtc"!==o&&"mp4ws"!==o&&"native-hls"!==o&&"hlsjs"!==o||(r=[{id:o}]),y.Z.usage("aiw_loading",Date.now()),k.Z.mark("aiw_loading"),B.blurred&&R.Z.isExplicitContentBlocked()?B.blurThePlayer=!0:B.blurThePlayer=!1;var i={volume:n,muted:0===n,autoPlay:!0,retryCall:!1,urlParams:{vdc:!0,substitute:B.blurThePlayer},refetch:!0,pollingInterval:1e4,unauthorizedPollingInterval:750,unauthorizedRecoveryDuration:15e3,displayPoster:!1,players:r},s=B.videoClient.requestPlayer(e,i),a=new _.PlayerUiState(s);B.player=s,B.playerUi=a,this.addPlayerListeners();var l=w().get("hybrid_client_volume");null!==l?this.handleVolumeUpdate(l):this.handleVolumeUpdate(.75)}}},{key:"handlePeerAtCapacity",value:function(e){e&&!B.cam2cam?B.activeCam2Cam=!0:B.activeCam2Cam=!1}},{key:"_joinCall",value:(l=(0,o.Z)(p().mark((function e(){var t,n,o,r,i,s,a,l;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=B).playerUi,o=t.call,r=t.videoClient,i=Z.Z.getState().encoderUi,null!==r&&null!==i){e.next=5;break}return y.Z.debug("VideoClientStore, Unable to join call, videoClient || encoderUi is null",{videoClient:r,encoderUi:i}),e.abrupt("return");case 5:if(null===n||!n.player.isImplements(_.player.Feature.BROADCAST)){e.next=9;break}null===(s=n.player.callBroadcast)||void 0===s||s.broadcast(i.mediaStreamController,{streamName:"default"}).then(().catch((function(e){y.Z.error({message:"error initializing broadcaster, broadcast() call failed",error:e}),y.Z.statsIncCounter("".concat(D.Z.C2C.ERROR_BROADCASTER,".broadcast() call failed"))})),e.next=16;break;case 9:if(null===o){e.next=16;break}return e.next=12,r.joinCall(o.id);case 12:a=e.sent,l={streamName:"default"},_.adapter.device.isAndroidDevice&&(l={streamName:"default",videoProducerOptions:{codec:{kind:"video",mimeType:"video/VP8",clockRate:9e4}}}),a.broadcast(i.mediaStreamController,l).then((function(){m.Z.dispatch({type:g.Z.LIVELY_VIDEO_SET_CAM_2_CAM})})).catch((function(e){y.Z.error({message:"error initializing broadcaster, broadcast() call failed",error:e}),y.Z.statsIncCounter("".concat(D.Z.C2C.ERROR_BROADCASTER,".broadcast() call failed"))}));case 16:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)})},{key:"_hasActiveBroadcast",value:function(){var e=B,t=e.playerUi,n=e.call;return null!==t&&t.player.isImplements(_.player.Feature.BROADCAST)&&t.player.callBroadcast?t.player.callBroadcast.broadcasts.forEach((function(e){if("active"===e.state)return!0})):null!==n&&n.broadcasts.forEach((),!1}},{key:"handleJoinCall",value:(n=(0,o.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this._hasActiveBroadcast()){e.next=5;break}return e.next=4,this._joinCall();case 4:setTimeout((function(){m.Z.dispatch({type:v.Z.LIVELY_VIDEO_CAM2CAM_REQUEST})}),0);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),y.Z.error({message:"Error starting broadcast or joining call",error:e.t0}),y.Z.statsIncCounter(D.Z.C2C.ERROR_INIT);case 11:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return n.apply(this,arguments)})},{key:"__onDispatch",value:(t=(0,o.Z)(p().mark((function e(t){var n,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.type,o=t.data,e.t0=n,e.next=e.t0===g.Z.LIVELY_VIDEO_CREATE_CLIENT?4:e.t0===g.Z.LIVELY_VIDEO_CAM2CAM_VIDEOCLIENT_END?7:e.t0===f.Z.DISCONNECT?9:e.t0===g.Z.LIVELY_VIDEO_DISPOSE_PLAYER?11:e.t0===g.Z.LIVELY_VIDEO_SET_PLAYER_UI?13:e.t0===g.Z.LIVELY_VIDEO_SET_CAM_2_CAM?15:e.t0===g.Z.VIDEO_MANIFEST_POSTER_URL?17:e.t0===g.Z.LIVELY_VIDEO_UPDATE_VOLUME?19:e.t0===g.Z.LIVELY_VIDEO_DRIVER?21:e.t0===g.Z.LIVELY_VIDEO_JOIN_CALL?23:e.t0===g.Z.LIVELY_VIDEO_REFRESH_PLAYER?25:e.t0===g.Z.LIVELY_VIDEO_UPDATE_QUALITY?27:e.t0===g.Z.LIVELY_VIDEO_HANDLE_UNMOUNT?29:e.t0===g.Z.LIVELY_VIDEO_AUDIO_ENABLED?31:33;break;case 4:return y.Z.debug("VideoClientStore, LIVELY_VIDEO_CREATE_CLIENT"),this.handleCreateVideoClient(),e.abrupt("break",34);case 7:return this.handleVideoC2CEnd(),e.abrupt("break",34);case 9:return this.handleDisposePlayer("Player disposed on disconnect"),e.abrupt("break",34);case 11:return this.handleDisposePlayer(null==o?void 0:o.reason),e.abrupt("break",34);case 13:return this.handleCreatePlayer(o.manifestUrl,o.assetPath),e.abrupt("break",34);case 15:return B.cam2cam=!0,e.abrupt("break",34);case 17:return B.poster=null==o?void 0:o.poster,e.abrupt("break",34);case 19:return this.handleVolumeUpdate(o.level),e.abrupt("break",34);case 21:return B.driver=o,e.abrupt("break",34);case 23:return this.handleJoinCall(),e.abrupt("break",34);case 25:return this.handleRefresh(o.manifestUrl,o.assetPath),e.abrupt("break",34);case 27:return this.handleSetPreferredLayer(o),e.abrupt("break",34);case 29:return this.handleVideoClientUnmount(o),e.abrupt("break",34);case 31:return this.handleAudioEnabled(),e.abrupt("break",34);case 33:return e.abrupt("return");case 34:this.__emitChange();case 35:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),d}(h.Z))("videoClient",m.Z)},"./src/components/videoclient/utils/index.ts":(e,t,n)=>{"use strict";n.d(t,{G:()=>r,i:()=>i});var o=n("./node_modules/@video/video-client-web/index.js"),r=o.adapter.device.isImplements(o.adapter.Feature.BROWSER_TYPE)&&"safari"===o.adapter.device.browserInfo.name,i=o.adapter.device.isImplements(o.adapter.Feature.BROWSER_TYPE)&&"chrome"===o.adapter.device.browserInfo.name},"./src/constants/ChatConstants.ts":(e,t,n)=>{"use strict";n.d(t,{C:()=>i,Z:()=>r});var o={PRIVATE_MESSAGE:2,MAX_MESSAGES:50,RPCFLAGS_SYSMSG:16,RPCFLAGS_GOLDMSG:128,RPCFLAGS_ANONYMOUS:4,USERTYPE_FREE:5,USERTYPE_SUPPORT:4,USERTYPE_PERFORMER:3,USERTYPE_ME:2,USERTYPE_SYSTEM:1,USERTYPE_DEFAULT:0,NAIADMESSAGE_IDX_TYPE:0,NAIADMESSAGE_IDX_USERNAME:1,NAIADMESSAGE_IDX_TEXTMESSAGE:2,NAIADMESSAGE_IDX_ISPERFORMER:3,NAIADMESSAGE_IDX_ISSUPPORT:4,NAIADMESSAGE_IDX_ISFREE:5,NAIADMESSAGE_IDX_HTMLMESSAGE:6,NAIADMESSAGE_IDX_FLAGSOBJECT:7,NAIADMESSAGE_FREE_MESSAGE:5,NAIADMESSAGE_SUPPORT_MESSAGE:4,NAIADMESSAGE_PERFORMER_MESSAGE:3,NAIADMESSAGE_ME_MESSAGE:2,NAIADMESSAGE_SYSTEM_MESSAGE:1,NAIADMESSAGE_USER_MESSAGE:0,ROOMMESSAGE_SYSTEM_MESSAGE:"system",ROOMMESSAGE_CHAT_MESSAGE:"chat",ROOMMESSAGE_PERFORMER_MESSAGE:"performer",ROOMMESSAGE_USER_MESSAGE:"user",DEFAULT_DESKTOP_FONT_SIZE:16,MIN_DESKTOP_FONT_SIZE:12,MAX_DESKTOP_FONT_SIZE:24,UPSELL_INITIAL_INTERVAL_MS:3e4,UPSELL_GOLD_MENU_CHAT_MESSAGES_THRESHOLD:10,UPSELL_GOLD_MENU_ITEM_INITIAL_CHAT_MESSAGES_THRESHOLD:5,UPSELL_GOLD_MENU_ITEM_CHAT_MESSAGES_THRESHOLD:15,UPSELL_INTERVAL_MS:9e4,UPSELL_GOLD_MENU_ITEM_COST_LOWER_THRESHOLD:2500};const r=o;var i;!function(e){e[e.Free=o.USERTYPE_FREE]="Free",e[e.Support=o.USERTYPE_SUPPORT]="Support",e[e.Performer=o.USERTYPE_PERFORMER]="Performer",e[e.Self=o.USERTYPE_ME]="Self",e[e.System=o.USERTYPE_SYSTEM]="System",e[e.Default=o.USERTYPE_DEFAULT]="Default"}(i||(i={}))},"./src/constants/ComplaintConstants.ts":(e,t,n)=>{"use strict";n.d(t,{Kh:()=>i,mC:()=>p,sC:()=>d,vl:()=>u,xi:()=>c});var o,r,i,s=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=n("./node_modules/@atg/contentreview/index.js"),l=n("./src/constants/Platforms.ts");!i||(i={}));var c,u=(o={},(0,s.Z)(o,a.ContentType.ContentPost,"report_content.content_type.content_post"),(0,s.Z)(o,a.ContentType.Message,"report_content.content_type.message"),(0,s.Z)(o,a.ContentType.Photo,"report_content.content_type.photo"),(0,s.Z)(o,a.ContentType.Video,"report_content.content_type.video"),(0,s.Z)(o,a.ContentType.LiveStream,"report_content.content_type.live_stream"),(0,s.Z)(o,a.ContentType.BioPic,"report_content.content_type.bio_pic"),(0,s.Z)(o,a.ContentType.Quickie,"report_content.content_type.quickie"),(0,s.Z)(o,a.ContentType.Asset,"report_content.content_type.asset"),o),d=new Map([[l.ZP.BLACKLABEL,a.ComplaintPlatform.Blacklabel],[l.ZP.SCP,a.ComplaintPlatform.SCP],[l.ZP.FOUNDATION,a.ComplaintPlatform.Foundation],[l.ZP.EXTERNAL_SITE_SHOW,a.ComplaintPlatform.Foundation]]);!function(e){e.BLACK_SCREEN="BLACK_SCREEN",e.QUALITY="QUALITY",e.NO_AUDIO="NO_AUDIO",e.AUDIO_SYNC="AUDIO_SYNC",e.CAM2CAM="CAM2CAM",e.STUTTER="STUTTER",e.OTHER="OTHER"}(c||(c={}));var p=(r={},(0,s.Z)(r,c.BLACK_SCREEN,{description:"black screen",reportCode:0,stringName:"streaming_issue_black_screen"}),(0,s.Z)(r,c.QUALITY,{description:"quality",reportCode:1,stringName:"streaming_issue_quality"}),(0,s.Z)(r,c.NO_AUDIO,{description:"missing audio",reportCode:2,stringName:"streaming_issue_audio_missing"}),(0,s.Z)(r,c.AUDIO_SYNC,{description:"audio sync",reportCode:3,stringName:"streaming_issue_audio_sync"}),(0,s.Z)(r,c.CAM2CAM,{description:"cam2cam",reportCode:4,stringName:"streaming_issue_cam2cam"}),(0,s.Z)(r,c.STUTTER,{description:"stutter",reportCode:5,stringName:"streaming_issue_stutter"}),(0,s.Z)(r,c.OTHER,{description:"other",reportCode:999,stringName:"streaming_issue_other"}),r)},"./src/constants/Feature.ts":(e,t,n)=>{"use strict";var o;n.d(t,{$k:()=>r,ZP:()=>s,wv:()=>i}),o||(o={}));var r=new Set(Object.values(o)),i=new Set([o.REPORT_CONTENT_CAPTCHA,o.REPORT_CONTENT_LIVE_STREAM,o.REPORT_CONTENT_BIO_PIC,o.REPORT_CONTENT_PHOTO]);const s=o},"./src/constants/LayoutConstants.ts":(e,t,n)=>{"use strict";n.d(t,{$x:()=>d,AV:()=>s,DD:()=>f,I9:()=>a,K5:()=>_,O9:()=>m,Sr:()=>l,ZP:()=>r,bv:()=>i,ce:()=>h,eA:()=>g,h2:()=>p,w1:()=>v});var o=n("./node_modules/icf-react-components/themes/dark.js");const r={DESKTOP:"Desktop",MOBILE:"Mobile",TABLET:"Tablet",LANDSCAPE:"Landscape",PORTRAIT:"Portrait",LANDSCAPE_MIN_RATIO:1.01};var i={DESKTOP:"desktop",DESKTOP_WITH_BIO:"desktopWithBio",FULLSCREEN:"fullscreen",MOBILE:"mobile",PORTRAIT:"portrait",SCP:"scp",TABLET:"tablet",TABLET_WITH_BIO:"tabletWithBio"},s={xxsmall:{min:"none",max:480},xsmall:{min:481,max:768},small:{min:769,max:1024},medium:{min:1025,max:1200},large:{min:1201,max:1440},xlarge:{min:1441,max:1920},xxlarge:{min:1921,max:2560},desktop:{min:830,max:"none"},mobile:{min:"none",max:939}},a="(min-width: ".concat(s.desktop.min,"px) and (max-width: ").concat(s.medium.max,"px)"),l="(max-width: ".concat(s.mobile.max,"px)"),c="(min-aspect-ratio: ".concat(101,"/").concat(100,")"),u="(max-aspect-ratio: ".concat(100,"/").concat(100,")"),d="".concat(l," and ").concat(c),p="".concat(l," and ").concat(u),m={black:"rgb(0, 0, 0)",brownyOrange:"rgb(203, 125, 0)",gray:"rgb(128, 128, 128)",mediumGray:"rgb(102, 102, 102)",darkGray:"rgb(70, 70, 70)",darkerGray:"rgb(45,45,45)",evenDarkerGray:"rgb(33,33,33)",lightGray:"rgb(170, 170, 170)",lighterGray:o.colors.baseContrast040,lightishGray:"rgb(197, 197, 197)",gold:o.colors.gold,errorText:"rgb(217, 83, 79)",green:o.colors.active,red:o.colors.alert,yellowOrange:"rgb(251, 225, 18)"},h={VIDEO_ASPECT_RATIO:16/9,SMALL_VIEWPORT_ASPECT_RATIO:4/3,CTA_CONTAINER_HEIGHT:68,BLACKLABEL_FOOTER_HEIGHT:50,MINIMUM_SIDEBAR_WIDTH:300},f={GOLD_SHOW_CONTAINER:0,SIMILAR_MODELS:1},g={TABS_HEIGHT:48,TAB_CONTENT_CONTAINER_PADDING:16},v={SWIPE_DRAGGER_WIDTH:50,RESIZE_DRAGGER_HEIGHT:50},_={746:307,860:390,719:307,833:443,664:297,778:398,749:380,635:297,622:271,697:315,553:260,628:304}},"./src/constants/Modals.ts":(e,t,n)=>{"use strict";var o;n.d(t,{m5:()=>i,nK:()=>o,rD:()=>r}),o||(o={}));var r=new Set([o.THANKS,o.SPOT_RESERVED]),i={GOLD_MENU:"goldmenu",GIVE_GOLD:"givegold",SPIN_GOLD:"spingold"}},"./src/constants/Overlays.ts":(e,t,n)=>{"use strict";var o;n.d(t,{Z:()=>r}),o||(o={}));const r=o},"./src/constants/Platforms.ts":(e,t,n)=>{"use strict";var o;n.d(t,{Wt:()=>a,Yc:()=>l,ZP:()=>r,yI:()=>s}),o||(o={}));const r=o;var i;!function(e){e.SCP="SCP",e.Blacklabel="Blacklabel",e.GoldOnly="GoldOnly",e.StreamFans="StreamFans",e.Foundation="Foundation"}(i||(i={}));var s,a,l=new Map([[o.BLACKLABEL,i.Blacklabel],[o.SCP,i.SCP],[o.FOUNDATION,i.Foundation],[o.EXTERNAL_SITE_SHOW,i.Foundation],[o.STREAMFANS,i.StreamFans]]);!function(e){e.BLACKLABEL="blacklabel",e.SCP="scp",e.FOUNDATION="foundation",e.EXTERNAL_SITE_SHOW="ess",e.STREAMFANS="streamfans"}(s||(s={})),function(e){e.BLACKLABEL="blacklabel",e.FOUNDATION="foundation",e.SCP="scp"}(a||(a={}))},"./src/constants/RewardsConstants.ts":(e,t,n)=>{"use strict";var o;n.d(t,{Iy:()=>r,dS:()=>i,jh:()=>s}),function(e){e.newbie="newbie",e.bronze="bronze",e.silver="silver",e.gold="gold",e.platinum="platinum"}(o||(o={}));var r=[{tierName:o.newbie,tierId:0},{tierName:o.bronze,tierId:1},{tierName:o.silver,tierId:2},{tierName:o.gold,tierId:3},{tierName:o.platinum,tierId:4}],i="REQUEST_LIVE_CLIENT_REWARDS_INFO",s="LIVE_CLIENT_REWARDS_INFO"},"./src/constants/Session.ts":(e,t,n)=>{"use strict";var o;n.d(t,{F:()=>o,a:()=>r}),o||(o={}));var r=60},"./src/constants/ShownFeature.ts":(e,t,n)=>{"use strict";var o;n.d(t,{Z:()=>r}),o||(o={}));const r=o},"./src/constants/Xment.ts":"./src/lib/RoomClient.ts":(e,t,n)=>{"use strict";n.d(t,{OS:()=>b,ZP:()=>N});var o=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=n("./node_modules/@babel/runtime/regenerator/index.js"),l=n.n(a),c=n("./node_modules/icf-room-client-user/dist/index.js"),u=n("./src/utils/log.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m="critical",h="error",f="warning",g="info",v="debug",_="verbose";const y=new(function(){eturn(0,i.Z)(e,[{key:"_applyLabels",value:function(e){return"string"==typeof e?{message:e,labels:this._defaultLabels}:p(p({},e),{},{labels:p(p({},this._defaultLabels),e.labels)})}},{key:"critical",value:function(e){u.Z.error(this._applyLabels(e))}},{key:"error",value:function(e){u.Z.error(this._applyLabels(e))}},{key:"warning",value:function(e){u.Z.warn(this._applyLabels(e))}},{key:"info",value:function(e){u.Z.info(this._applyLabels(e))}},{key:"debug",value:function(e){u.Z.debug(this._applyLabels(e))}},{key:"verbose",value:,{key:"log",value:function(e,t){switch(e){case m:this.critical(t);break;case h:this.error(t);break;case f:this.warning(t);break;case g:this.info(t);break;case v:this.debug(t);break;case _:default:this.verbose(t)}}},{key:"child",value:function(t){return new e(p(p({},this._defaultLabels),t))}}]),e}());var b,S=n("./src/utils/tools.ts"),E=n("./src/lib/Dispatcher.js"),C=n("./src/constants/Actions.js"),Z=n("./src/constants/RpcCalls.js"),P=n("./src/constants/StatsEvents.js"),O=n("./src/constants/ChatConstants.ts"),T=n("./src/constants/Globals.js"),I=n("./src/constants/Platforms.ts"),w=n("./src/constants/DisconnectReasons.js");function A(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!b||(b={}));var L=new Map([[I.ZP.SCP,"SCP"],[I.ZP.FOUNDATION,"FOUNDATION"],[I.ZP.BLACKLABEL,"BLACKLABEL"],[I.ZP.EXTERNAL_SITE_SHOW,"ESS"]]);const N=new(function(){ar t,n,a,d,p,m,h,f,g,v;return(0,i.Z)(e,[{key:"connectRoomClient",value:(v=(0,o.Z)(l().mark((function e(t){var n,o,r,i,s,a,d,p,m,h,f,g;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.performerName,o=t.sessionType,r=t.platform,i=t.lang,s=t.referrer,a=t.userNickname,d=t.sakey,p=t.config,m=t.tenantid,this._roomClient&&(u.Z.error({message:"room-client-already-exists"}),this._roomClient.dispose(),this._roomClient=void 0,u.Z.set("roomClientConnectionId",void 0)),h=L.get(r)||"SCP",f=(0,c.createUserRoomClient)({connectionParams:{hostApplication:"hybridclient",hostApplicationVersion:T.Z.VERSION,sessionType:o,userNickname:a,saKey:d,performerName:n,lang:i,platform:h,referrer:s,performerDiscountId:0,tenantid:m},transportOptions:{webSocketUrl:p.webSocketUrl}},y),this.enableEventProcessorsOnInstantiation(f),e.prev=5,e.next=8,f.connect();case 8:return g=e.sent,this._roomClient=f,u.Z.set("roomClientConnectionId",g.connectionId),this.enableEventProcessorsOnConnectionInfo(f,g),e.abrupt("return",g);case 15:throw e.prev=15,e.t0=e.catch(5),this.processConnectionError(e.t0),e.t0;case 19:case"end":return e.stop()}}),e,this,[[5,15]])}))),function(e){return v.apply(this,arguments)})},{key:"disconnectRoomClient",value:(g=(0,o.Z)(l().mark((function e(t){var n,o,r,i,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:"",o=s.length>2&&void 0!==s[2]&&s[2],r=this._roomClient){e.next=5;break}return e.abrupt("return");case 5:if(this._roomClient=void 0,u.Z.set("roomClientConnectionId",void 0),o&&setTimeout((function(){E.Z.dispatch({type:Z.Z.NAIAD_FREEZE,data:[t,n]})})),r.isOpen){e.next=10;break}return e.abrupt("return");case 10:i={kind:"user",action:"clientClosed"};try{i=(0,c.naiadCodeToDisconnectParams)(t,n||void 0)}catch(e){u.Z.info({message:"room-client-disconnect-unsupported-reason",reason:t,details:n})}return e.prev=12,e.next=15,r.disconnect(i);case 15:e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(12),!this.interruptErrorCanBeIgnored(e.t0)){e.next=21;break}return e.abrupt("return");case 21:u.Z.error({message:"room-client-disconnect-error",reason:t,details:n,error:(0,S.qq)(e.t0)});case 22:case"end":return e.stop()}}),e,this,[[12,17]])}))),function(e){return g.apply(this,arguments)})},{key:"sendChatMessage",value:function(e,t){var n=this;this._roomClient&&this._roomClient.sendChatMessage({message:{content:e},anonymous:t}).catch((function(e){n.interruptErrorCanBeIgnored(e)||(u.Z.error({message:"room-client-message-send-error",error:e.errorKind}),u.Z.statsIncCounter(P.Z.ROOM_SDK.MESSAGE_SEND_ERROR))}))}},{key:"giveGold",value:(f=(0,o.Z)(l().mark((function e(t){var n,o,r,i,s,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._roomClient){e.next=3;break}return u.Z.error({message:"room-client-was-unexpectedly-closed"}),e.abrupt("return");case 3:return e.prev=3,e.next=6,this._roomClient.giveGold(t);case 6:if(o=e.sent,r=(null===(n=t.goldMenuOption)||void 0===n?void 0:n.keyword)||void 0,!o.failed&&o.info.spinGoldResultKeyword&&(r=o.info.spinGoldResultKeyword),i=Z.Z.ROOM_CLIENT_GIVE_GOLD,s=D(D({},o),{},{keyword:r}),a=!1,E.Z.dispatch({type:C.Z.PRE_RPC_CALL,data:{type:i,data:s,intercept:function(){a=!0}}}),!a){e.next=15;break}return e.abrupt("return");case 15:E.Z.dispatch({type:i,data:s}),e.next=23;break;case 18:if(e.prev=18,e.t0=e.catch(3),!this.interruptErrorCanBeIgnored(e.t0)){e.next=22;break}return e.abrupt("return");case 22:u.Z.error({message:"room-client-givegold-error",error:(0,S.qq)(e.t0)});case 23:case"end":return e.stop()}}),e,this,[[3,18]])}))),function(e){return f.apply(this,arguments)})},{key:"pledgeGoldShow",value:(h=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._roomClient){e.next=3;break}return u.Z.error({message:"room-client-was-unexpectedly-closed"}),e.abrupt("return");case 3:return e.prev=3,e.next=6,this._roomClient.pledgeGoldShow(t);case 6:n=e.sent,E.Z.dispatch({type:Z.Z.ROOM_CLIENT_PLEDGE_GOLD,data:n}),e.next=15;break;case 10:if(e.prev=10,e.t0=e.catch(3),!this.interruptErrorCanBeIgnored(e.t0)){e.next=14;break}return e.abrupt("return");case 14:u.Z.error({message:"room-client-pledgegoldshow-error",error:(0,S.qq)(e.t0)});case 15:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(e){return h.apply(this,arguments)})},{key:"requestStreamfansExclusiveSession",value:(m=(0,o.Z)(l().mark((function e(t){var n,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._roomClient){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._roomClient.requestStreamfansExclusiveSession(t);case 5:if(!(n=e.sent).failed){e.next=8;break}throw new Error(n.info.errorInfo);case 8:o=n.info.sessionId,u.Z.info({labels:D({sessionId:o},t)}),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(2),!this.interruptErrorCanBeIgnored(e.t0)){e.next=16;break}return e.abrupt("return");case 16:u.Z.error({message:"room-client-request-streamfans-exclusive-session-error",error:(0,S.qq)(e.t0),labels:t});case 17:case"end":return e.stop()}}),e,this,[[2,12]])}))),function(e){return m.apply(this,arguments)})},{key:"enterPrivate",value:(p=(0,o.Z)(l().mark((function e(){var t,n,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._roomClient){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,setTimeout((function(){E.Z.dispatch({type:Z.Z.ROOM_CLIENT_ENTERING_PRIVATE})}),0),e.next=6,this._roomClient.enterPrivate();case 6:t=e.sent,n=t.maxGold,o=t.userStreamId,setTimeout((function(){E.Z.dispatch({type:Z.Z.ROOM_CLIENT_ENTERED_PRIVATE,data:{maxGold:n,userStreamId:o}})}),0),e.next=18;break;case 12:if(e.prev=12,e.t0=e.catch(2),!this.interruptErrorCanBeIgnored(e.t0)){e.next=16;break}return e.abrupt("return");case 16:E.Z.dispatch({type:Z.Z.ROOM_CLIENT_CANCEL_ENTERING_PAID}),u.Z.error({message:"room-client-request-enter-private-error",error:(0,S.qq)(e.t0)});case 18:case"end":return e.stop()}}),e,this,[[2,12]])}))),function(){return p.apply(this,arguments)})},{key:"requestBlockSession",value:(d=(0,o.Z)(l().mark((function e(t){var n,o,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._roomClient){e.next=3;break}return u.Z.error({message:"room-client-was-unexpectedly-closed-block-session"}),e.abrupt("return");case 3:return e.prev=3,setTimeout((function(){E.Z.dispatch({type:Z.Z.ROOM_CLIENT_ENTERING_BLOCK_SESSION})}),0),e.next=7,this._roomClient.requestBlockSession(t);case 7:n=e.sent,o=n.maxGold,r=n.userStreamId,setTimeout((function(){E.Z.dispatch({type:Z.Z.ROOM_CLIENT_ENTERED_BLOCK_SESSION,data:{maxGold:o,userStreamId:r,sessionType:t.sessionType}})}),0),e.next=19;break;case 13:if(e.prev=13,e.t0=e.catch(3),!this.interruptErrorCanBeIgnored(e.t0)){e.next=17;break}return e.abrupt("return");case 17:E.Z.dispatch({type:Z.Z.ROOM_CLIENT_CANCEL_ENTERING_PAID}),u.Z.error({message:"room-client-request-enter-block-session-error",error:(0,S.qq)(e.t0)});case 19:case"end":return e.stop()}}),e,this,[[3,13]])}))),function(e){return d.apply(this,arguments)})},{key:"requestExclusive",value:(a=(0,o.Z)(l().mark((function e(){var t,n,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._roomClient){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,setTimeout((function(){E.Z.dispatch({type:Z.Z.ROOM_CLIENT_ENTERING_EXCLUSIVE})}),0),e.next=6,this._roomClient.requestExclusive();case 6:t=e.sent,n=t.maxGold,o=t.userStreamId,setTimeout((function(){E.Z.dispatch({type:Z.Z.ROOM_CLIENT_ENTERED_EXCLUSIVE,data:{maxGold:n,userStreamId:o,sessionType:"exclusive"}})}),0),e.next=18;break;case 12:if(e.prev=12,e.t0=e.catch(2),!this.interruptErrorCanBeIgnored(e.t0)){e.next=16;break}return e.abrupt("return");case 16:E.Z.dispatch({type:Z.Z.ROOM_CLIENT_CANCEL_ENTERING_PAID}),u.Z.error({message:"room-client-request-enter-exclusive-error",error:(0,S.qq)(e.t0)});case 18:case"end":return e.stop()}}),e,this,[[2,12]])}))),function(){return a.apply(this,arguments)})},{key:"handlePayoff",value:(n=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._roomClient){e.next=3;break}return u.Z.error({message:"room-client-was-unexpectedly-closed"}),e.abrupt("return");case 3:return e.prev=3,e.next=6,this._roomClient.payoff(t);case 6:E.Z.dispatch({type:C.Z.ROOM_PAYOFF}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),u.Z.error({message:"room-client-request-payoff-error",error:(0,S.qq)(e.t0)});case 12:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(e){return n.apply(this,arguments)})},{key:"interruptErrorCanBeIgnored",value:function(e){return e instanceof Error&&"Connection got disposed."===e.message&&!this._roomClient}},{key:"processConnectionError",value:(t=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t instanceof c.ConnectionError?E.Z.dispatch({type:C.Z.DISCONNECT,data:[t.code,t.message]}):E.Z.dispatch({type:C.Z.DISCONNECT,data:[w.Z.ROOM_CLIENT_CONNECTION_FAILURE,"Room client failed to establish connection for unknown reason"]});case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"enableEventProcessorsOnInstantiation",value:function(e){var t=this;e.onError((function(e){u.Z.warn({message:"room-client-error",error:(0,S.qq)(e)})})),e.onClosed((function(){e.dispose(),t._roomClient===e&&(t._roomClient=void 0,u.Z.set("roomClientConnectionId",void 0),E.Z.dispatch({type:C.Z.DISCONNECT,data:[w.Z.ROOM_CLIENT_CONNECTION_LOST,"Room client unexpectedly closed connection"]}))})),e.onMessagesReceived((function(e){var t,n=A(e.messages);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.kind===O.Z.ROOMMESSAGE_SYSTEM_MESSAGE&&E.Z.dispatch({type:Z.Z.ROOM_CLIENT_SYSTEM_CHAT_MESSAGE,data:{message:o}}),o.kind===O.Z.ROOMMESSAGE_CHAT_MESSAGE&&E.Z.dispatch({type:Z.Z.ROOM_CLIENT_LIVE_CHAT_MESSAGE,data:{message:o}})}}catch(e){n.e(e)}finally{n.f()}})),e.onGoldOnlyGoalsChanged((),e.onGoldShow((function(e){t.dispatchGoldShow(e)})),e.onGoldShowPledged((function(e){t.dispatchGoldShowPledged(e)})),e.onGoldShowTopContributorsUpdated((),e.onUserCountUpdated((function(e){t.dispatchUserCountUpdate(e)})),e.vibeStatusChanged((function(e){t.dispatchVibeStatus(e)})),e.quickTipAllowedChanged((function(e){E.Z.dispatch({type:Z.Z.ROOM_CLIENT_QUICK_TIP_ALLOWED,data:e})})),e.onDisconnecting((function(e){if(t._roomClient=void 0,e.naiadStatus){if(e.naiadStatus===w.Z.USER_DISCONNECT)return;E.Z.dispatch({type:C.Z.DISCONNECT,data:[e.naiadStatus]})}else u.Z.warn({message:"room-client-disconnect-unknown-status"})}))}},{key:"enableEventProcessorsOnConnectionInfo",value:function(e,t){var n=this;this.enableUserListUpdates(),e.onStatusChanged((),t.goldShow&&(this.dispatchGoldShow(t.goldShow),t.goldShow.isHighestBidder&&t.goldShow.topContributors&&this.dispatchGoldShowTopContributorsUpdated(t.goldShow.topContributors))}},{key:"enableUserListUpdates",value:function(){E.Z.dispatch({type:Z.Z.ROOM_CLIENT_SET_USERLIST_UPDATES_ENABLED,data:!0})}},{key:"dispatchStatusChanged",value:function(e){E.Z.dispatch({type:Z.Z.ROOM_CLIENT_STATUS_CHANGED,data:e})}},{key:"dispatchGoldShow",value:function(e){(0,E._)({type:Z.Z.ROOM_CLIENT_GOLDSHOW,data:e})}},{key:"dispatchGoldShowPledged",value:function(e){E.Z.dispatch({type:Z.Z.ROOM_CLIENT_GOLDSHOW_PLEDGED,data:e})}},{key:"dispatchGoldShowTopContributorsUpdated",value:,{key:"dispatchUserCountUpdate",value:,{key:"dispatchVibeStatus",value:function(e){E.Z.dispatch({type:Z.Z.ROOM_VIBE_STATUS_UPDATE,data:"online"===e})}}]),e}())},"./src/stores/ConfigStore.ts":(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var o,r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=n("./src/lib/Dispatcher.js"),d=n("./src/lib/Strings.js"),p=n("./src/constants/Actions.js"),m=n("./src/utils/log.js"),h=n("./src/utils/tools.ts"),f=n("./src/utils/FluxStoreExtended.ts");!o||(o={}));var g=n("./src/constants/Platforms.ts"),v=n("./node_modules/@video/log-client/index.js");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,a.Z)(this,n)}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=b({},{data:null,loaded:!1,platform:g.ZP.UNKNOWN,useDebugPerformerData:!1,memberServer:"",siteId:-1,siteConfig:{},livelyEndpoint:""});const E=new(function(e){(0,s.Z)(n,e);var t=_(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"getState",value:function(){return S}},{key:"init",value:function(e){var t=e.config,n=e.platform,r=e.siteConfig;S=b(b({},S),{},{data:t,loaded:!0,platform:n,siteConfig:r});var i=window.location.host.includes("integ.")?"streamate.integ.icfcdn.com":window.location.host.includes("staging.")?"streamate.staging.icfcdn.com":"streamate.icfcdn.com";S.federatedModules=(0,c.Z)({},o.ContentComplaintClient,"https://".concat(i,"/contentcomplaint/remoteEntry.js"));try{var s=t.performer,a=t.user,l=t.site,u=t.rate;d.ZP.preprocessStrings({performername:s.nickname,username:a.nickname||d.ZP.getString("guest"),sitename:l.name,billedas:u.descriptor}),S.siteId=l.site}catch(e){m.Z.error({message:"Invalid config data! (in ConfigStore.init())",error:(0,h.qq)(e)})}}},{key:"setPlatform",value:function(e){S.platform=e}},{key:"setLivelyEndpoint",value:function(e){S.livelyEndpoint=e}},{key:"setLoggerGlobal",value:function(e){(new v.LoggerGlobal).setOptions({host:"https://".concat(e),interval:15e3,level:"info"})}},{key:"setMemberServer",value:function(e){var t=e.memberServer;S.memberServer=t}},{key:"setFederateModuleFallbackMappings",value:,{key:"__onDispatch",value:function(e){var t=e.type,n=e.data;switch(t){case p.Z.MEMBER_SERVER:this.setMemberServer(n);break;case p.Z.LOAD_CONFIG:this.init(n);break;case p.Z.FEDERATED_MODULE_FALLBACK_MAPPINGS:this.setFederateModuleFallbackMappings(n);break;case p.Z.SET_LIVELY_ENDPOINT:this.setLivelyEndpoint(n);break;default:return}this.__emitChange()}}]),n}(f.Z))("config",u.Z)},"./src/stores/EnableAudioStore.ts":(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),s=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("./src/lib/Dispatcher.js"),u=n("./src/utils/FluxStoreExtended.ts"),d=n("./src/constants/Actions.js"),p=n("./src/components/videoclient/store/videoClient/VideoClientConstants.ts");function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,a.Z)(e);if(t){var r=(0,a.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={audioPlaying:void 0,userClicked:!1,userClickedInSession:!1},v=f({},g);const _=new(function(e){(0,i.Z)(n,e);var t=m(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"getState",value:function(){return v}},{key:"handleAudioEnabled",value:function(e){var t=e.enabled;v.audioPlaying=t,!1===t&&!0===v.userClicked&&(v.userClicked=!1)}},{key:"handleEnableAudio",value:function(){v=f(f({},v),{},{userClicked:!0,audioPlaying:!0,userClickedInSession:!0}),setTimeout((function(){c.Z.dispatch({type:d.Z.MUTE,data:{isMuted:!1}})})),setTimeout((function(){c.Z.dispatch({type:p.Z.LIVELY_VIDEO_AUDIO_ENABLED})}))}},{key:"handleReset",value:function(e){if(!e.exceptTheConnection){var t=v.userClickedInSession;v=f(f({},g),{},{userClickedInSession:t})}}},{key:"__onDispatch",value:function(e){var t=e.type,n=e.data;switch(t){case d.Z.AUDIO_ENABLED:this.handleAudioEnabled(n);break;case d.Z.ENABLE_AUDIO:this.handleEnableAudio();break;case d.Z.RESET:this.handleReset(n);break;default:return}this.__emitChange()}}]),n}(u.Z))("enableAudio",c.Z)},"./src/stores/FeatureTrackerStore.ts":(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var o=n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=n("./src/utils/FluxStoreExtended.ts"),d=n("./src/utils/log.js"),p=n("./src/lib/Dispatcher.js"),m=n("./src/constants/Actions.js"),h=n("./src/constants/LayoutConstants.ts"),f=n("./src/constants/StatsEvents.js"),g=n("./src/constants/ShownFeature.ts");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,a.Z)(this,n)}}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={panAndZoomScaled:!1,panAndZoomTranslated:!1,mobileDragToResizeUsed:!1,fullscreenChatClicked:!1,shownFeatures:new Set,camPageLoaded:!1,landscapeDuration:0,portraitDuration:0,orientationChanges:0,layout:void 0,orientation:void 0,lastOrientationChange:void 0},S=y({},b);const E=new(function(e){(0,s.Z)(n,e);var t=v(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"getState",value:function(){return S}},{key:"reset",value:function(){var e=S,t=e.layout,n=e.orientation;S=y(y({},b),{},{layout:t,orientation:n,lastOrientationChange:Date.now()})}},{key:"handlePanAnZoomScale",value:function(){S=y(y({},S),{},{panAndZoomScaled:!0})}},{key:"handlePandAndZoomTranslate",value:function(){S=y(y({},S),{},{panAndZoomTranslated:!0})}},{key:"handleVideoDisplayHeightAdjustment",value:function(e){var t=e.adjustment;S=y(y({},S),{},{mobileDragToResizeUsed:S.mobileDragToResizeUsed||Math.abs(t)>10})}},{key:"handleFeatureShown",value:function(e){var t=e.feature;S.camPageLoaded&&(S=y(y({},S),{},{shownFeatures:new Set([].concat((0,o.Z)(S.shownFeatures),[t]))}))}},{key:"handleFullscreenChatClicked",value:function(){S.camPageLoaded&&(S=y(y({},S),{},{fullscreenChatClicked:!0}))}},{key:"handleLoadConfig",value:function(){S=y(y({},S),{},{camPageLoaded:!0})}},{key:"handleDisconnect",value:,{key:"logLoms",value:function(){var e=this.getState(),t=e.panAndZoomScaled,n=e.panAndZoomTranslated,o=e.mobileDragToResizeUsed,r=e.lastOrientationChange,i=e.orientation,s=e.orientationChanges,a=e.layout,l=this.getState(),c=l.landscapeDuration,u=l.portraitDuration;if((n||t)&&d.Z.loms({eventname:"MobileVideoTransformV1",translation:n,scale:t}),o&&d.Z.loms({eventname:"MobileDragToResizeV1"}),a===h.ZP.MOBILE||a===h.ZP.TABLET){var p=Math.floor((Date.now()-(null!=r?r:Date.now()))/1e3);i===h.ZP.LANDSCAPE?c+=p:u+=p,(c||u)&&d.Z.loms({eventname:"MobileOrientationChangeHybridClientV1",landscapeDuration:c,portraitDuration:u,orientationChanges:s,layout:a})}}},{key:"logShownFeaturesStats",value:function(){var e=this.getState().shownFeatures;e.has(g.Z.PHOTOS)&&d.Z.statsIncCounter(f.Z.SHOWN_FEATURES.PHOTOS),e.has(g.Z.GOLD_MENU)&&d.Z.statsIncCounter(f.Z.SHOWN_FEATURES.GOLD_MENU),e.has(g.Z.BIO)&&d.Z.statsIncCounter(f.Z.SHOWN_FEATURES.BIO),e.has(g.Z.VIDEOS)&&d.Z.statsIncCounter(f.Z.SHOWN_FEATURES.VIDEOS),e.has(g.Z.FAN_CLUB_BUTTON)&&d.Z.statsIncCounter(f.Z.SHOWN_FEATURES.FAN_CLUB_BUTTON),e.has(g.Z.SPIN_GOLD)&&d.Z.statsIncCounter(f.Z.SHOWN_FEATURES.SPIN_GOLD)}},{key:"logUsedFeaturesStats",value:function(){this.getState().fullscreenChatClicked&&d.Z.statsIncCounter(f.Z.CHAT.FULLSCREEN_BUTTON_CLICK)}},{key:"initOrientationTracking",value:function(e,t){S=y(y({},S),{},{layout:e,orientation:t,lastOrientationChange:Date.now()})}},{key:"handleOrientationChange",value:function(){var e=this.getState(),t=e.orientation,n=e.lastOrientationChange,o=e.orientationChanges,r=this.getState(),i=r.landscapeDuration,s=r.portraitDuration,a=Math.floor((Date.now()-(null!=n?n:Date.now()))/1e3),l=t===h.ZP.LANDSCAPE?h.ZP.PORTRAIT:h.ZP.LANDSCAPE;t===h.ZP.LANDSCAPE?i+=a:s+=a,S=y(y({},S),{},{landscapeDuration:i,portraitDuration:s,orientation:l,orientationChanges:o+1,lastOrientationChange:Date.now()})}},{key:"__onDispatch",value:function(e){var t=e.type,n=e.data;switch(t){case m.Z.PAN_AND_ZOOM_TRANSLATE:this.handlePandAndZoomTranslate();break;case m.Z.PAN_AND_ZOOM_SCALE:this.handlePanAnZoomScale();break;case m.Z.VIDEO_DISPLAY_HEIGHT_ADJUSTMENT:this.handleVideoDisplayHeightAdjustment(n);break;case m.Z.FEATURE_SHOWN:this.handleFeatureShown(n);break;case m.Z.FULLSCREEN_CHAT_CLICKED:this.handleFullscreenChatClicked();break;case m.Z.LOAD_CONFIG:this.handleLoadConfig();break;case m.Z.DISCONNECT:case m.Z.BROWSER_CLOSE:this.handleDisconnect(),this.reset();break;case m.Z.RESET:this.reset();break;default:return}this.__emitChange()}}]),n}(u.Z))("featureTracker",p.Z)},"./src/stores/GoldMenuStore.ts":(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),s=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("./src/lib/Dispatcher.js"),u=n("./src/lib/Strings.js"),d=n("./src/utils/log.js"),p=n("./src/utils/FluxStoreExtended.ts"),m=n("./node_modules/lodash/cloneDeep.js"),h=n.n(m),f=n("./node_modules/lodash/isEqual.js"),g=n.n(f),v=n("./src/constants/Actions.js");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,a.Z)(e);if(t){var r=(0,a.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={goldMenuItems:[],goldOnlyGoldMenuItems:[]},E=b({},S);const C=new(function(e){(0,i.Z)(n,e);var t=_(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"getState",value:function(){return E}},{key:"reset",value:function(){E=b({},S)}},{key:"handleGoldMenuItems",value:function(e){var t=e.goldMenuItems,n=void 0===t?[]:t,o=e.goldOnlyItems,r=void 0===o?[]:o;n.concat(r).forEach((function(e){u.ZP.stringExists("gold_menu_choice.".concat(e.keyword))||d.Z.error({message:"gold-menu-item-translation-missing",keyword:e.keyword})})),E.goldMenuItems=n.slice(0,20),E.goldOnlyGoldMenuItems=r.slice(0,20)}},{key:"__onDispatch",value:function(e){var t=e.type,n=e.data,o=h()(E);switch(t){case v.Z.PERFORMER_GOLD_MENU:this.handleGoldMenuItems(n);break;default:return}g()(E,o)||this.__emitChange()}}]),n}(p.Z))("goldMenu",c.Z)},"./src/stores/MediaStore.ts":(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var o=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=n("./node_modules/@babel/runtime/regenerator/index.js"),d=n.n(u),p=n("./src/lib/Dispatcher.js"),m=n("./src/constants/Actions.js"),h=n("./src/utils/FluxStoreExtended.ts"),f=n("./src/utils/PerformerMediaApi.js"),g=n("./src/stores/XmentStore.ts");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,a.Z)(this,n)}}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={photos:[],videos:null,useDebugPerformerData:!1},S=y({},b);const E=new(function(e){(0,s.Z)(l,e);var t,n,a=v(l);function l(){return(0,r.Z)(this,l),a.apply(this,arguments)}return(0,i.Z)(l,[{key:"getState",value:function(){return S}},{key:"handleUpdatePhotos",value:function(e){S=y(y({},S),{},{photos:e||[]})}},{key:"handleUpdateVideos",value:function(e){S=y(y({},S),{},{videos:e||[]})}},{key:"handlePhotoRequest",value:(n=(0,o.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.q0)(t,S.useDebugPerformerData);case 2:n=e.sent,p.Z.dispatch({type:m.Z.MEDIA_UPDATE_PHOTOS,data:{photos:n}});case 4:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"handleVideoRequest",value:(t=(0,o.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],t.features.BLOCKBUSTER){e.next=5;break}return e.next=4,(0,f.pX)(t.bio.About.Name,t.bio.PerformerId,S.useDebugPerformerData);case 4:n=e.sent;case 5:(0,p._)({type:m.Z.MEDIA_UPDATE_VIDEOS,data:{videos:n}});case 6:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"setUseDebugPerformerData",value:function(e){S=y(y({},S),{},{useDebugPerformerData:e})}},{key:"reset",value:function(){S=y({},b)}},{key:"__onDispatch",value:function(e){var t=e.type,n=e.data;switch(t){case m.Z.MEDIA_UPDATE_VIDEOS:var o=n.videos;this.handleUpdateVideos(o);break;case m.Z.MEDIA_UPDATE_PHOTOS:var r=n.photos;this.handleUpdatePhotos(r);break;case m.Z.PERFORMER_BIO_INFO:if(1===g.Z.getState().v2setupbio)return;this.handleVideoRequest(n);break;case m.Z.MEDIA_REQUEST_PHOTOS:var i=n.performerId;this.handlePhotoRequest(i);break;case m.Z.MEDIA_REQUEST_VIDEOS:this.handleVideoRequest(n);break;case m.Z.RESET:this.reset();break;default:return}this.__emitChange()}}]),l}(h.Z))("media",p.Z)},"./src/stores/PerformerStore.ts":(e,t,n)=>{"use strict";n.d(t,{Z:()=>W});var o=n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=n("./node_modules/lodash/cloneDeep.js"),d=n.n(u),p=n("./node_modules/lodash/pick.js"),m=n.n(p),h=n("./node_modules/lodash/pickBy.js"),f=n.n(h),g=n("./node_modules/lodash/isEmpty.js"),v=n.n(g),_=n("./node_modules/lodash/flatten.js"),y=n.n(_),b=n("./src/utils/FluxStoreExtended.ts"),S=n("./src/lib/Dispatcher.js"),E=n("./src/lib/Strings.js"),C=n("./src/lib/AjaxRequest.js"),Z=n("./src/utils/log.js"),P=n("./src/constants/RpcCalls.js"),O=n("./src/constants/Actions.js"),T=["a","b","c","d","dd/e","ddd/f","g","h","i","j","k plus"],I=T,w=["a","b","c","d","e","f","g","h","i","j","k plus"],A=["a","b","c","d","dd","e","f","ff","g","gg","h plus"],R=["a","b","c","d","dd","e","f","g","h","i","j plus"];if([I,w,A,R].some(())throw new Error("Inconsistent set of bra sizes");var k=new Map([["us",I],["gb",A],["au",R]]),D=n("./src/constants/Feature.ts"),L=n("./src/constants/Platforms.ts"),N=n("./src/constants/StatsEvents.js"),x=n("./src/utils/localization.js"),j=n("./src/stores/UserStore.js");function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,a.Z)(this,n)}}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G={inPrivate:!1,inCountdown:!1,onBreak:!1,paused:!1,isFavorite:!1,biopicLarge:"",snapshot:"",id:0,nickname:"",bio:void 0,originalBio:void 0,perfInCam2Cam:!1,inVoiceChat:!1,vibeSettings:[],vibeSettingsRequested:!1,vibeShow:!1,photos:[],similarModels:[],streamingSchedule:[],geoRestricted:void 0,goalStatus:{goal:"",cost:0,progress:0},userTags:void 0,isBlockbuster:!1,isExtSSEnabled:!1},V={lang:void 0,platform:void 0,useDebugPerformerData:!1,showSimilarModels:void 0,urls:{tag:void 0},userCountry:""},F=U(U({},G),V);function H(e,t){var n,o,r;if(e){var i=t?/\(([^)]+)\)/:/([^(]+)/;return null!==(n=null===(o=e.match(i))||void 0===o||null===(r=o[1])||void 0===r?void 0:r.trim())&&void 0!==n?n:e}}function Y(e,t){if(e){if(!t)return e;var n,o,r=parseFloat(e.replace(/[^\d.]/g,""));if("foot"===t)r=Number(null===(n=e.match(/^\d+(?=')/))||void 0===n?void 0:n[0])+Number(null===(o=e.match(/\d+(?="$)/))||void 0===o?void 0:o[0])/12,r=Math.round(100*r)/100;return isNaN(r)?e:(0,x.Ac)(r,t)||e}}const W=new(function(e){(0,s.Z)(n,e);var t=M(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"getState",value:function(){return this.isGeoRestricted()?U(U({},G),V):F}},{key:"isGeoRestricted",value:function(){return void 0!==F.geoRestricted?F.geoRestricted:!!F.platform&&Object.values(L.Wt).includes(L.Wt[F.platform])}},{key:"setUrls",value:function(e){var t=e.tag;F.urls=U(U({},F.urls),{},{tag:t})}},{key:"setLanguage",value:function(e){(F=U(U({},F),{},{lang:e})).bio=n.localizeBio(F.originalBio,F.lang,F.userCountry)}},{key:"setPlatform",value:function(e){F=U(U({},F),{},{platform:e})}},{key:"setUseDebugPerformerData",value:function(e){F=U(U({},F),{},{useDebugPerformerData:e})}},{key:"handlePerformerInfo",value:function(e){var t,o,r,i,s=e.bio,a=e.similarModels,l=e.photos,c=e.bioPics,u=e.streamingSchedule,p=e.features;s&&(F.originalBio=d()(s)),F.photos=[],Array.isArray(l)&&l.length>0&&(l[0].photoid?F.photos=l.filter((function(e){return e.photoid&&e.photo_url&&e.thumb_url})).sort((function(e,t){return Number(new Date(t.created_time))-Number(new Date(e.created_time))})):l[0].mediaId&&(F.photos=l.filter(().sort((function(e,t){return Number(new Date(t.createdTime))-Number(new Date(e.createdTime))})))),F.similarModels=a,null!==(t=F.originalBio)&&void 0!==t&&null!==(o=t.Comments)&&void 0!==o&&o.Feedback&&(F.originalBio.Comments.Feedback=F.originalBio.Comments.Feedback.filter(()),u&&u.length>0?F.streamingSchedule=n.localizeStreamingSchedule(u):F.streamingSchedule=Array(7).fill([]).map((),F.id=F.id||Number(null==s?void 0:s.PerformerId)||0,F.biopicLarge=(null==c?void 0:c.large)||F.biopicLarge||"https://m2.nsimg.net/biopic/320x240/".concat(F.id),F.snapshot=j.Z.isExplicitContentBlocked()?"":null==c?void 0:c.snapshot,F.bioPicLargeUserMediaId=null==c?void 0:c.largeUserMediaId,F.isBlockbuster=null!==(r=null==p?void 0:p[D.ZP.BLOCKBUSTER])&&void 0!==r&&r,F.isExtSSEnabled=null!==(i=null==s?void 0:s.isExtSSEnabled)&&void 0!==i&&i,F.bio=n.localizeBio(F.originalBio,F.lang,F.userCountry)}},{key:"handleNaiadPause",value:function(e){var t=e[0];F.paused=!0,F.inCountdown=Boolean(t&&t.countdown)}},{key:"handleFavoriteUpdate",value:function(e){var t=e.isFavorite;F.isFavorite=t}},{key:"handleNaiadOnBreak",value:function(e){F.onBreak=e}},{key:"handleNaiadPlay",value:,{key:"inPrivate",value:,{key:"handleConfigLoaded",value:function(e){var t=e.config;if(t.performer){var n=t.performer,o=n.favorite,r=n.biopicLarge,i=n.id,s=n.nickname;F=U(U({},F),{},{isFavorite:o,biopicLarge:F.biopicLarge||r,id:i,nickname:s})}}},{key:"handlePerformerInCam2Cam",value:function(e){var t=e.canAcceptRequests;F.perfInCam2Cam&&t&&setTimeout((function(){return S.Z.dispatch({type:O.Z.DISPLAY_MESSAGE,data:{message:E.ZP.getString("cam2cam_available")}})})),F=U(U({},F),{},{perfInCam2Cam:!t})}},{key:"handleGoldGiven",value:function(){if(F.vibeShow){window.navigator.vibrate&&window.navigator.vibrate(666)}}},{key:"handleSetVibeSettings",value:function(e){var t=e.vibeSettings;F=U(U({},F),{},{vibeSettings:t})}},{key:"handleRoomVibeStatusUpdate",value:function(e){var t,n,o,r;e&&0===F.vibeSettings.length&&F.id>0&&!F.vibeSettingsRequested?(F=U(U({},F),{},{vibeSettingsRequested:!0}),t=F.id,n=function(t){var n,o,r=null!==(n=null===(o=t.body)||void 0===o?void 0:o.data)&&void 0!==n?n:[];F=U(U({},F),{},{vibeShow:e,vibeSettings:r,vibeSettingsRequested:!1})},o=C.Z.getBaseUrl()+"/api/v1/vibes",r={performerId:t},C.Z.get(o,r,n)):F=U(U({},F),{},{vibeShow:e})}},{key:"handleSetFeatureVisibility",value:function(e){var t=e.hiddenFeatures,n=void 0;e.shownFeatures.has(D.ZP.SIMILAR_MODELS)&&(n=!0),t.has(D.ZP.SIMILAR_MODELS)&&(n=!1),F=U(U({},F),{},{showSimilarModels:n})}},{key:"handleSetGeoRestricted",value:function(e){var t=e.geoRestricted;F.geoRestricted=t}},{key:"handleSetUserCountry",value:,{key:"handleGoldOnlyGoalsChanged",value:function(e){if(e){var t=e.goal,n=e.cost,o=e.progress;F=U(U({},F),{},{goalStatus:{goal:t,cost:n,progress:o}})}}},{key:"handleRequestUserTags",value:function(){var e=C.Z.getBaseUrl()+"/api/v1/tags/list",t={performerId:F.id};C.Z.post(e,t,"json",(function(e){var t,n;S.Z.dispatch({type:O.Z.USER_TAGS,data:{userTags:null!==(t=null===(n=e.body)||void 0===n?void 0:n.userTags)&&void 0!==t?t:[]}})}),(function(){S.Z.dispatch({type:O.Z.USER_TAGS,data:{userTags:[]}})}))}},{key:"handleUserTags",value:function(e){var t=e.userTags;F=U(U({},F),{},{userTags:null!=t?t:[]})}},{key:"handleRemoveUserTag",value:function(e){var t=e.tag,n=C.Z.getBaseUrl()+"/api/v1/tags/remove",o={performerId:F.id,tagId:t.tagid};C.Z.post(n,o,"json",(function(){Z.Z.statsIncCounter(N.Z.TAG_REMOVED),S.Z.dispatch({type:O.Z.REQUEST_USER_TAGS})}))}},{key:"reset",value:function(){F=U(U({},G),m()(F,Object.keys(V)))}},{key:"__onDispatch",value:function(e){var t=e.type,n=e.data;switch(t){case P.Z.NAIAD_PAUSE:this.handleNaiadPause(n);break;case P.Z.NAIAD_PLAY:this.handleNaiadPlay();break;case P.Z.NAIAD_ON_BREAK:this.handleNaiadOnBreak(n[0]);break;case P.Z.NAIAD_PLEDGE_GOLD:if(!n[0].id)return;this.handleGoldGiven();break;case P.Z.NAIAD_GOLD_GIVEN:this.handleGoldGiven();break;case P.Z.ROOM_VIBE_STATUS_UPDATE:this.handleRoomVibeStatusUpdate(n);break;case P.Z.ROOM_CLIENT_GOLD_ONLY_GOAL_STATUS_CHANGED:this.handleGoldOnlyGoalsChanged(n);break;case P.Z.ROOM_CLIENT_GIVE_GOLD:case P.Z.ROOM_CLIENT_PLEDGE_GOLD:if(n.failed)return;this.handleGoldGiven();break;case O.Z.LOAD_CONFIG:this.handleConfigLoaded(n);break;case O.Z.FAVORITE_UPDATE:this.handleFavoriteUpdate(n);break;case O.Z.PERFORMER_BIO_INFO:this.handlePerformerInfo(n);break;case O.Z.UPDATE_USER_PREFERRED_LANG:this.setLanguage(n.lang);break;case O.Z.SET_FEATURE_VISIBILITY:this.handleSetFeatureVisibility(n);break;case O.Z.SET_GEO_RESTRICTED:this.handleSetGeoRestricted(n);break;case O.Z.SET_USER_COUNTRY:this.handleSetUserCountry(n);break;case O.Z.REQUEST_USER_TAGS:this.handleRequestUserTags();break;case O.Z.USER_TAGS:this.handleUserTags(n);break;case O.Z.REMOVE_USER_TAG:this.handleRemoveUserTag(n);break;case O.Z.RESET:this.reset();break;default:return}this.__emitChange()}}],[{key:"localizeStreamingSchedule",value:function(e){var t=y()(e),n=(0,o.Z)(t),r=Math.round((new Date).getTimezoneOffset()/60);r>0&&(n.push.apply(n,(0,o.Z)(t.slice(0,r))),n.splice(0,r)),r<0&&(n.unshift.apply(n,(0,o.Z)(t.slice(r))),n.splice(r));for(var i=[],s=0;s<n.length;s+=24)i.push(n.slice(s,s+24));return i}},{key:"localizeBio",value:function(e,t,o){var r,i,s,a;if(e){var l=d()(e),c=U(U({},l),{},{Comments:{Feedback:n.localizeComments(null===(r=l.Comments)||void 0===r?void 0:r.Feedback)}}),u=t&&(null===(i=c.About)||void 0===i||null===(s=i.Languages)||void 0===s?void 0:s[t]);return u&&(c.About=U(U({},c.About),f()(u,())),null!==(a=c.About)&&void 0!==a&&a.Attributes&&o&&n.localizeAttributes(c.About.Attributes,o),c}}},{key:"localizeAttributes",value:function(e,t){var n="US"!==t;e.Chest=H(e.Chest,n),e.Height=H(e.Height,n),e.Measurements=H(e.Measurements,n),e.Weight=H(e.Weight,n),e.Chest=Y(e.Chest,n?"centimeter":"inch"),e.Height=Y(e.Height,n?"meter":"foot"),e.Weight=Y(e.Weight,n?"kilogram":"pound"),e.Measurements=function(e,t){if(e){if(!t)return e;var n=(0,x.oG)(t),o=n.displayedUnit,r=n.unitLocation,i=n.space;if(n.fallback||null===o)return e;var s=e.replace(/[^\d-]/g,"").split("-").map(().join("-");return r===x.L1.LEFT?"".concat(o).concat(i?" ":"").concat(s):"".concat(s).concat(i?" ":"").concat(o)}}(e.Measurements,n?"centimeter":"inch"),e.CupSize=function(e,t){if(e){var n=T.indexOf(e.toLowerCase());if(-1===n)return e;var o=k.get(t.toLowerCase());return o?o[n].toUpperCase():w[n].toUpperCase()}}(e.CupSize,t)}},{key:"localizeComments",value:function(e){var t,n=/^(\d{4}-\d{2}-\d{2})\s(\d{2}:\d{2}:\d{2})$/,o={year:"numeric",month:"numeric",day:"numeric"};return null!==(t=null==e?void 0:e.map((function(e){var t=e.created.replace(n,"$1T$2"),r=new Date(Date.parse(t)),i=(0,x.p6)(r,o);return U(U({},e),{},{createdDateString:i})})))&&void 0!==t?t:[]}}]),n}(b.Z))("performer",S.Z)},"./src/stores/RoomStore.ts":(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),s=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("./src/lib/Dispatcher.js"),u=n("./src/utils/FluxStoreExtended.ts"),d=n("./src/constants/Actions.js"),p=n("./src/constants/RpcCalls.js"),m=n("./src/utils/log.js");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,a.Z)(e);if(t){var r=(0,a.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={status:"offline"},_=g({},v);const y=new(function(e){(0,i.Z)(n,e);var t=h(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"getState",value:function(){return _}},{key:"isRoomInPrivate",value:,{key:"reset",value:function(){_=g({},v)}},{key:"handleRoomStatusChanged",value:function(e){m.Z.debug({message:"RoomStore.handleRoomStatusChanged",roomState:e}),_.status=e.status}},{key:"__onDispatch",value:function(e){var t=e.type,n=e.data;switch(t){case p.Z.ROOM_CLIENT_STATUS_CHANGED:this.handleRoomStatusChanged(n);break;case d.Z.RESET:this.reset();break;default:return}this.__emitChange()}}]),n}(u.Z))("room",c.Z)},"./src/stores/SpinGoldStore.ts":(e,t,n)=>{"use strict";n.d(t,{ZP:()=>E});var o,r,i=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=n("./src/lib/Dispatcher.js"),p=n("./src/utils/FluxStoreExtended.ts"),m=n("./src/utils/log.js"),h=n("./src/constants/Actions.js"),f=n("./src/constants/RpcCalls.js"),g=n("./src/stores/ConnectionStore.js");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!o||(o={})),r||(r={}));var b={isSpinning:!1,isModalOpen:!1,isEnabled:!1,modalState:o.PRESPIN,menus:{}},S=y({},b);const E=new(function(e){(0,a.Z)(n,e);var t=v(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getState",value:function(){return S}},{key:"setSpinGoldMenu",value:function(e,t){S.menuName=t,S.cost=e.cost,S.items=e.items,S.isEnabled=!0}},{key:"disableSpinGoldMenu",value:function(){S.isEnabled=!1,this.handleSpinGoldClose(!1)}},{key:"handleModalOpen",value:function(){S.isModalOpen=!0}},{key:"handleModalClose",value:,{key:"handleSpinGoldClose",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];S.storedRpcCallAction&&((0,d._)(S.storedRpcCallAction),S.storedRpcCallAction=void 0),S.isSpinning=!1,S.isModalOpen=!1,S.resultKeyword=void 0,S.modalState=o.PRESPIN,e&&(0,d._)({type:h.Z.CLOSE_MODAL})}},{key:"handleSpinGoldSpin",value:function(){S.isSpinning=!0,(0,d._)({type:h.Z.MODAL_CLOSE_BUTTON_HIDE})}},{key:"handlePreRpcCall",value:function(e){if(e.type===f.Z.NAIAD_GOLD_GIVEN&&S.isSpinning){var t,n=e.data;if(0!==n[2])return void m.Z.error({message:"spingold-error-handlePreRpcCall-failed",data:e});e.intercept(),S.storedRpcCallAction={type:e.type,data:e.data},S.resultKeyword=n[4],!S.resultKeyword&&null!==(t=S.items)&&void 0!==t&&t.length&&m.Z.error({message:"spingold-error-keyword-not-found-failed",data:e})}else if(e.type===f.Z.ROOM_CLIENT_GIVE_GOLD&&S.isSpinning){var o,r=e.data;if(r.failed)return void m.Z.error({message:"spingold-error-handlePreRpcCall-failed",data:e});e.intercept(),S.storedRpcCallAction={type:e.type,data:e.data},S.resultKeyword=r.keyword,!S.resultKeyword&&null!==(o=S.items)&&void 0!==o&&o.length&&m.Z.error({message:"spingold-error-keyword-not-found-failed",data:e})}}},{key:"handlePerformerBioInfo",value:function(e){var t=e.spinGoldMenus,n=void 0===t?{}:t;S.menus=n,this.setupSpinGoldMenu()}},{key:"setupSpinGoldMenu",value:function(){var e=g.Z.isGoldOnlyStream()?r.WILD:r.DEFAULT,t=S.menus[e];t&&t.cost>0&&t.items.length>0?this.setSpinGoldMenu(t,e):this.disableSpinGoldMenu()}},{key:"handleReset",value:function(){S=y({},b)}},{key:"__onDispatch",value:function(e){var t=e.type,n=e.data;switch(t){case h.Z.RESET:this.handleReset();break;case h.Z.PERFORMER_BIO_INFO:this.handlePerformerBioInfo(n);break;case h.Z.OPEN_GOLD_MODAL:this.handleModalOpen();break;case h.Z.CLOSE_MODAL:this.handleModalClose();break;case h.Z.SPIN_GOLD_CLOSE:this.handleSpinGoldClose();break;case h.Z.SPIN_GOLD_SPIN:this.handleSpinGoldSpin();break;case h.Z.PRE_RPC_CALL:this.handlePreRpcCall(n);break;case f.Z.NAIAD_AUTHORIZED:d.Z.waitFor([g.Z.getDispatchToken()]),this.setupSpinGoldMenu();break;default:return}this.__emitChange()}}]),n}(p.Z))("spinGold",d.Z)},"./src/stores/UserListStore.ts":(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),s=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("./src/lib/Dispatcher.js"),u=n("./src/utils/FluxStoreExtended.ts"),d=n("./src/constants/Actions.js"),p=n("./src/constants/RpcCalls.js"),m=n("./src/constants/Session.ts");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,a.Z)(e);if(t){var r=(0,a.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=1e3*m.a,_={numberOfUsersInRoom:1,maxTotalUsers:1,userList:new Set,isRequestingPrivate:!1,isSolePrivateUser:!1,allowExclusiveUpgrade:!1,useRoomClientUserListUpdates:!1},y=g({},_);const b=new(function(e){(0,i.Z)(n,e);var t=h(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"getState",value:function(){return y}},{key:"reset",value:function(){y=g({},_)}},{key:"handleRoomClientUserCountUpdated",value:function(e){y.useRoomClientUserListUpdates?y.isSolePrivateUser&&e.isSolePrivateUser||(e.isSolePrivateUser&&!y.allowExclusiveUpgrade&&this.setTimeoutForAllowingExclusiveUpgrade(),y=g(g({},y),{},{numberOfUsersInRoom:e.totalUsers,maxTotalUsers:e.totalUsers>y.maxTotalUsers?e.totalUsers:y.maxTotalUsers,isRequestingPrivate:!1,isSolePrivateUser:e.isSolePrivateUser&&y.isRequestingPrivate})):y.storedRoomClientUserListUpdate=e}},{key:"handleRoomClientSetUserListUpdatesEnabled",value:function(e){y.useRoomClientUserListUpdates=e,y.storedRoomClientUserListUpdate&&(this.handleRoomClientUserCountUpdated(y.storedRoomClientUserListUpdate),y.storedRoomClientUserListUpdate=void 0)}},{key:"onRequestPrivate",value:function(e){var t=e.sessionType;y=g(g({},y),{},{isRequestingPrivate:t===m.F.PREMIUM})}},{key:"setTimeoutForAllowingExclusiveUpgrade",value:function(){return setTimeout((function(){c.Z.dispatch({type:d.Z.ALLOW_EXCLUSIVE_UPGRADE_IF_ELIGIBLE})}),v)}},{key:"allowExclusiveUpgradeIfEligible",value:function(){y=g(g({},y),{},{allowExclusiveUpgrade:y.isSolePrivateUser})}},{key:"__onDispatch",value:function(e){var t=e.type,n=e.data;switch(t){case p.Z.ROOM_CLIENT_SET_USERLIST_UPDATES_ENABLED:this.handleRoomClientSetUserListUpdatesEnabled(n);break;case p.Z.ROOM_CLIENT_USER_COUNT_UPDATED:this.handleRoomClientUserCountUpdated(n);break;case d.Z.RESET:this.reset();break;case d.Z.USER_REQUEST_PRIVATE:this.onRequestPrivate(n);break;case d.Z.ALLOW_EXCLUSIVE_UPGRADE_IF_ELIGIBLE:this.allowExclusiveUpgradeIfEligible();break;default:return}this.__emitChange()}}]),n}(u.Z))("userList",c.Z)},"./src/stores/XmentStore.ts":(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var o,r=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),i=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),c=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=n("./node_modules/@babel/runtime/regenerator/index.js"),m=n.n(p),h=n("./node_modules/lodash/noop.js"),f=n.n(h),g=n("./src/utils/FluxStoreExtended.ts"),v=n("./src/utils/log.js"),_=n("./src/utils/log/LogDecorator.js"),y=n("./src/utils/tools.ts"),b=n("./src/lib/Dispatcher.js"),S=n("./src/lib/AjaxRequest.js"),E=n("./src/constants/Actions.js"),C=n("./src/constants/Xment.ts"),Z=n("./src/constants/Messages.js");nction T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!o||(o={}));var A=new Set(Object.values(w(w({},C.Z),o))),R={},k=w({},R);const D=new(function(e){(0,l.Z)(o,e);var t,n=T(o);function o(){var e;(0,i.Z)(this,o);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=n.call.apply(n,[this].concat(r)),(0,d.Z)((0,a.Z)(e),"xmentRequestCallbacks",new Map),(0,d.Z)((0,a.Z)(e),"domain",void 0),e}return(0,s.Z)(o,[{key:"getState",value:function(){return k}},{key:"setXments",value:function(e){var t,n=P(e.split(","));try{for(n.s();!(t=n.n()).done;){var o=t.value;A.has(o)&&this.setXment(o,1,[],!0)}}catch(e){n.e(e)}finally{n.f()}}},{key:"setDomain",value:,{key:"checkXmentAsync",value:(t=(0,r.Z)(m().mark((function e(t){var n=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(());case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"checkXment",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f();if("string"!=typeof e)throw new Error("xmentName must be a string");if("function"!=typeof n)throw new Error("callback must be a function");var o=this.getState();if(void 0===o.none){var r=o[e];if(void 0===r)if(this.xmentRequestCallbacks.has(e)){var i;null===(i=this.xmentRequestCallbacks.get(e))||void 0===i||i.push(n)}else{this.xmentRequestCallbacks.set(e,[n]);var s=S.Z.getBaseUrl(),a="".concat(s,"/api/v1/xment/select");try{S.Z.post(a,{name:e,siteDomain:this.domain||window.location.host},"json",(function(n){var o=-1;n.body&&n.body.isInXment&&(o=1),n.body&&void 0!==n.body.xmentCondition&&(o=n.body.xmentCondition,v.Z.info("xment: ".concat(e,": ").concat(o)),o>-1&&v.Z.statsIncCounter("session.xment.".concat(e))),t.setXment(e,o,t.xmentRequestCallbacks.get(e)),t.xmentRequestCallbacks.delete(e)}),(function(n){v.Z.warn({message:"Xment call error",data:n}),t.setXment(e,-1,t.xmentRequestCallbacks.get(e)),t.xmentRequestCallbacks.delete(e)}))}catch(t){v.Z.error({message:"Xment call error",data:t}),this.setXment(e,-1,this.xmentRequestCallbacks.get(e)),this.xmentRequestCallbacks.delete(e)}}else n(r,e)}else this.setXment(e,0,[n])}},{key:"setXment",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=-1===t?0:t;k=w(w({},k),{},(0,d.Z)({},e,r)),_.Z.set("xment.".concat(e),r),n.forEach((),(0,b._)({type:E.Z.XMENT_UPDATE,data:{xmentName:e,xmentCondition:r}}),(0,y.Vj)(Z.Z.IN_XMENT,{xmentName:e,xmentCondition:t,forced:o})}},{key:"reset",value:function(){k=w({},R)}},{key:"__onDispatch",value:function(e){var t=e.type,n=e.data;switch(t){case E.Z.XMENT_REQUEST:this.checkXment(n.xmentName);break;case E.Z.XMENT_UPDATE:break;default:return}this.__emitChange()}}]),o}(g.Z))("xment",b.Z)},"./src/utils/Favorite.ts":(e,t,n)=>{"use strict";n.d(t,{oW:()=>P});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),i=n("./node_modules/@babel/runtime/regenerator/index.js"),s=n.n(i),a=n("./node_modules/lodash/omitBy.js"),l=n.n(a),c=n("./src/constants/Actions.js"),u=n("./src/constants/StatsEvents.js"),d=n("./src/constants/Messages.js"),p=n("./src/constants/NaiadSessionType.js"),m=n("./src/constants/Platforms.ts"),h=n("./src/lib/AjaxRequest.js"),f=n("./src/lib/Dispatcher.js"),g=n("./src/lib/Strings.js"),v=n("./src/stores/ConfigStore.ts"),_=n("./src/stores/PerformerStore.ts"),y=n("./src/stores/UserStore.js"),b=n("./src/utils/log.js"),S=n("./src/utils/tools.ts");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){var t=e.response,n=e.newValue;if(JSON.parse(t.text).success){n?b.Z.statsIncCounter(u.Z.FAVORITES_ADD_SUCCESS):b.Z.statsIncCounter(u.Z.FAVORITES_REMOVE_SUCCESS);var o=n?g.ZP.getString("favorite_added_message"):g.ZP.getString("favorite_removed_message");f.Z.dispatch({type:c.Z.FAVORITE_UPDATE,data:{isFavorite:n,message:o}})}else b.Z.error("favorites-api-request-failed"),!0===n?b.Z.statsIncCounter(u.Z.FAVORITES_ADD_FAILURE):b.Z.statsIncCounter(u.Z.FAVORITES_REMOVE_FAILURE)},P=function(){var e=(0,r.Z)(s().mark((function e(t){var n,o,r,i,a,c,f,g,E,P,O,T,I;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=y.Z.getState(),r=o.sakey,i=o.userType,y.Z.isLoggedIn()){e.next=5;break}return b.Z.usage("requires_auth",i),(0,S.Vj)(d.Z.REQUIRES_AUTH,{userType:i}),e.abrupt("return");case 5:if(a=_.Z.getState(),c=a.isFavorite,f=a.id,g=v.Z.getState(),E=g.platform,P=g.memberServer,t!==c){e.next=9;break}return e.abrupt("return");case 9:if(!y.Z.isNonPremium()){e.next=13;break}return b.Z.usage("user_nonpremium",p.Z.BASIC),(0,S.Vj)(d.Z.NONPREMIUM_USER),e.abrupt("return");case 13:return!0===t?(b.Z.statsIncCounter(u.Z.FAVORITES_ADD_REQUESTED),O="add"):(b.Z.statsIncCounter(u.Z.FAVORITES_REMOVE_REQUESTED),O="remove"),T="".concat(P,"/userrelationship/v1/favorites/").concat(O),I=l()(C(C({},h.Z.getTrackingHeaders()),{},{platform:null!==(n=m.Yc.get(E))&&void 0!==n?n:"Unknown",sakey:r}),(),e.abrupt("return",h.Z.postPromise(T,{performerId:f},"json",{headers:I}).then(().catch((function(e){b.Z.statsIncCounter(u.Z.FAVORITES_API_CALL_ERROR),b.Z.error({message:"favorites-api-call-error",error:(0,S.Jl)(e)})})));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"./src/utils/FlagsMap.tsx":(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("./src/utils/tools.ts"),i={ad:{x:-448,y:-120},ae:{x:-448,y:-96},af:{x:-448,y:-72},ag:{x:-448,y:-48},ai:{x:-448,y:-24},al:{x:-448,y:0},am:{x:-416,y:-408},ao:{x:-384,y:-408},aq:{x:-352,y:-408},ar:{x:-320,y:-408},as:{x:-288,y:-408},at:{x:-256,y:-408},au:{x:-224,y:-408},aw:{x:-192,y:-408},ax:{x:-160,y:-408},az:{x:-128,y:-408},ba:{x:-96,y:-408},bb:{x:-64,y:-408},bd:{x:-32,y:-408},be:{x:0,y:-408},bf:{x:-416,y:-384},bg:{x:-416,y:-360},bh:{x:-416,y:-336},bi:{x:-416,y:-312},bj:{x:-416,y:-288},bl:{x:-416,y:-264},bm:{x:-416,y:-240},bn:{x:-416,y:-216},bo:{x:-416,y:-192},bq:{x:-416,y:-168},br:{x:-416,y:-144},bs:{x:-416,y:-120},bt:{x:-416,y:-96},bv:{x:-416,y:-72},bw:{x:-416,y:-48},by:{x:-416,y:-24},bz:{x:-416,y:0},ca:{x:-384,y:-384},cc:{x:-352,y:-384},cd:{x:-320,y:-384},cf:{x:-288,y:-384},cg:{x:-256,y:-384},ch:{x:-224,y:-384},ci:{x:-192,y:-384},ck:{x:-160,y:-384},cl:{x:-128,y:-384},cm:{x:-96,y:-384},cn:{x:-64,y:-384},co:{x:-32,y:-384},cr:{x:0,y:-384},cu:{x:-384,y:-360},cv:{x:-384,y:-336},cw:{x:-384,y:-312},cx:{x:-384,y:-288},cy:{x:-384,y:-264},cz:{x:-384,y:-240},de:{x:-384,y:-216},dj:{x:-384,y:-192},dk:{x:-384,y:-168},dm:{x:-384,y:-144},do:{x:-384,y:-120},dz:{x:-384,y:-96},ec:{x:-384,y:-72},ee:{x:-384,y:-48},eg:{x:-384,y:-24},eh:{x:-384,y:0},er:{x:-352,y:-360},es:{x:-256,y:-360},"es-ca":{x:-320,y:-360},"es-ga":{x:-288,y:-360},et:{x:-224,y:-360},eu:{x:-192,y:-360},fi:{x:-160,y:-360},fj:{x:-128,y:-360},fk:{x:-96,y:-360},fm:{x:-64,y:-360},fo:{x:-32,y:-360},fr:{x:0,y:-360},ga:{x:-352,y:-336},gb:{x:-192,y:-336},"gb-eng":{x:-320,y:-336},"gb-nir":{x:-288,y:-336},"gb-sct":{x:-256,y:-336},"gb-wls":{x:-224,y:-336},gd:{x:-160,y:-336},ge:{x:-128,y:-336},gf:{x:-96,y:-336},gg:{x:-64,y:-336},gh:{x:-32,y:-336},gi:{x:0,y:-336},gl:{x:-352,y:-312},gm:{x:-352,y:-288},gn:{x:-352,y:-264},gp:{x:-352,y:-240},gq:{x:-352,y:-216},gr:{x:-352,y:-192},gs:{x:-352,y:-168},gt:{x:-352,y:-144},gu:{x:-352,y:-120},gw:{x:-352,y:-96},gy:{x:-352,y:-72},hk:{x:-352,y:-48},hm:{x:-352,y:-24},hn:{x:-352,y:0},hr:{x:-320,y:-312},ht:{x:-288,y:-312},hu:{x:-256,y:-312},id:{x:-224,y:-312},ie:{x:-192,y:-312},il:{x:-160,y:-312},im:{x:-128,y:-312},in:{x:-96,y:-312},io:{x:-64,y:-312},iq:{x:-32,y:-312},ir:{x:0,y:-312},is:{x:-320,y:-288},it:{x:-320,y:-264},je:{x:-320,y:-240},jm:{x:-320,y:-216},jo:{x:-320,y:-192},jp:{x:-320,y:-168},ke:{x:-320,y:-144},kg:{x:-320,y:-120},kh:{x:-320,y:-96},ki:{x:-320,y:-72},km:{x:-320,y:-48},kn:{x:-320,y:-24},kp:{x:-320,y:0},kr:{x:-288,y:-288},kw:{x:-256,y:-288},ky:{x:-224,y:-288},kz:{x:-192,y:-288},la:{x:-160,y:-288},lb:{x:-128,y:-288},lc:{x:-96,y:-288},li:{x:-64,y:-288},lk:{x:-32,y:-288},lr:{x:0,y:-288},ls:{x:-288,y:-264},lt:{x:-288,y:-240},lu:{x:-288,y:-216},lv:{x:-288,y:-192},ly:{x:-288,y:-168},ma:{x:-288,y:-144},mc:{x:-288,y:-120},md:{x:-288,y:-96},me:{x:-288,y:-72},mf:{x:-288,y:-48},mg:{x:-288,y:-24},mh:{x:-288,y:0},mk:{x:-256,y:-264},ml:{x:-224,y:-264},mm:{x:-192,y:-264},mn:{x:-160,y:-264},mo:{x:-128,y:-264},mp:{x:-96,y:-264},mq:{x:-64,y:-264},mr:{x:-32,y:-264},ms:{x:0,y:-264},mt:{x:-256,y:-240},mu:{x:-224,y:-240},mv:{x:-192,y:-240},mw:{x:-160,y:-240},mx:{x:-128,y:-240},my:{x:-96,y:-240},mz:{x:-64,y:-240},na:{x:-32,y:-240},nc:{x:0,y:-240},ne:{x:-256,y:-216},nf:{x:-256,y:-192},ng:{x:-256,y:-168},ni:{x:-256,y:-144},nl:{x:-256,y:-120},no:{x:-256,y:-96},np:{x:-256,y:-72},nr:{x:-256,y:-48},nu:{x:-256,y:-24},nz:{x:-256,y:0},om:{x:-224,y:-216},pa:{x:-192,y:-216},pe:{x:-160,y:-216},pf:{x:-128,y:-216},pg:{x:-96,y:-216},ph:{x:-64,y:-216},pk:{x:-32,y:-216},pl:{x:0,y:-216},pm:{x:-224,y:-192},pn:{x:-224,y:-168},pr:{x:-224,y:-144},ps:{x:-224,y:-120},pt:{x:-224,y:-96},pw:{x:-224,y:-72},py:{x:-224,y:-48},qa:{x:-224,y:-24},re:{x:-224,y:0},ro:{x:-192,y:-192},rs:{x:-160,y:-192},ru:{x:-128,y:-192},rw:{x:-96,y:-192},sa:{x:-64,y:-192},sb:{x:-32,y:-192},sc:{x:0,y:-192},sd:{x:-192,y:-168},se:{x:-192,y:-144},sg:{x:-192,y:-120},sh:{x:-192,y:-96},si:{x:-192,y:-72},sj:{x:-192,y:-48},sk:{x:-192,y:-24},sl:{x:-192,y:0},sm:{x:-160,y:-168},sn:{x:-128,y:-168},so:{x:-96,y:-168},sr:{x:-64,y:-168},ss:{x:-32,y:-168},st:{x:0,y:-168},sv:{x:-160,y:-144},sx:{x:-128,y:-144},sy:{x:-96,y:-144},sz:{x:-64,y:-144},tc:{x:-32,y:-144},td:{x:0,y:-144},tf:{x:-160,y:-120},tg:{x:-160,y:-96},th:{x:-160,y:-72},tj:{x:-160,y:-48},tk:{x:-160,y:-24},tl:{x:-160,y:0},tm:{x:-128,y:-120},tn:{x:-96,y:-120},to:{x:-64,y:-120},tr:{x:-32,y:-120},tt:{x:0,y:-120},tv:{x:-128,y:-96},tw:{x:-128,y:-72},tz:{x:-128,y:-48},ua:{x:-128,y:-24},ug:{x:-128,y:0},um:{x:-96,y:-96},un:{x:-64,y:-96},us:{x:-32,y:-96},uy:{x:0,y:-96},uz:{x:-96,y:-72},va:{x:-96,y:-48},vc:{x:-96,y:-24},ve:{x:-96,y:0},vg:{x:-64,y:-72},vi:{x:-32,y:-72},vn:{x:0,y:-72},vu:{x:-64,y:-48},wf:{x:-32,y:-48},ws:{x:0,y:-48},xk:{x:-64,y:-24},ye:{x:-64,y:0},yt:{x:-32,y:-24},za:{x:0,y:-24},zm:{x:-32,y:0},zw:{x:0,y:0}},s=new Map,a=o.ZP.div.withConfig({displayName:"FlagsMap__FlagBase",componentId:"sc-t7k1v-0"})(["display:inline-block;background-size:240px 216px;width:15px;height:11px;background-image:url('data:image/png;base64,","');"],"iVBORw0KGgoAAAANSUhEUgAAAeAAAAGwCAMAAABGhEZQAAAAWlBMVEUAAAD8/PwNIID23g0bnh7yCA3JCAnNFysLUa8LCgkQe0wlo93aKhckZCPTz8rLqSF0s+LpLDPFLzBDXqL0GDSsECjZX2LinJl+lJ/mYhF8HDT30Rdff8rD0Oxi9Lr0AAAAAXRSTlMAQObYZgAATbBJREFUeNrs3It22jgQgGHGBAMJGhmrSIM3ff/X3BlbRBayZWzMptnTfylO2oZcvjPCF7qbv/3fI5Vrs3nLttmcd5nsZvNPts3mmG2zUacy0/TXZ4pb8NWvW/z1WUT5K7h3BUcWi3788bmIf34Tf37INv3977NtNqdsDIzwhwMf1fWVwMZZqDwwWQv0ODBZ+zxw2eS//ybbQ8BAx1nA/Ntvb1q2+j8BPip9fR1wURjrgBiYqRELXwKcQlqt1wDeldnvv+hlqKrIFL0eAwZUejuYHvwBquut/wSY0/r6KmBhQIcM7BBEaxiYKkp8VwLe7R4DJsA2oJnAEukMcJJqifUqS/Q2mwBLequvrwG2vn1tu4o2ioGrCqsqotMc4mYD2R4B5i7TwIcKCdsIq8MA8OV0aZrTqWn4jRQYUOWA02SZ/q+AJSXELwE+t9X72ldIxlIPmKp2navi8XUADHwuM9lHgKVyElh8ibRulasB4IY7yo1LgJ1j4fKUdB0HfvtvgWWImXh9YENECA73ju+IK7pMHxhBQvK8ZJkXoQdci7ZdCiw1eWBiX0daiJEzQ8DH46W9xcAOAPBq+Z6a8j7+CyO+XPcDxGybDWXbbK79tHP62k+Ag3BKPPX4D+1kgbPEwAZR5jZkbsAVRMDUjW8P2MqQ8G0AuMJMVW9ALKbRFzAignVIWlsLSDAI7EuB3bVE3mDzEPCJO3IdAGSL9wIPh8/Pw2F8L9CCQrCnXh0w+WU6JZ76/NPAwupuh0lCLbBtZDtgqjwwVCTE7fh68Q74LG8Lsk2BEbo+Kviq+oAu7K+AZ4Q2+wsh/HnRZpCc1U6TprqpkdA8Dozn8rTln5o8vjo2casCH35/Vr8/fx/GgK8ACgCuCTAQkh9iT7weMFrbO9HB2gzbfYy5TTD1J5hs4DWmA3aAaEsZsuXAkmu/uB0A3gMTIjhr+c7VtQVEehiYgGdG9vhBomPcmsC/zacpCvP5WY0AW0CFAPYemAAwLNOeeC3gIslQdJgUhCvqxjdoe2CAupQc1MPAgTYwB+CQIPCdO7s74IqBOUTn2i1Vc4DhqvUVXg5cfXbbGPgYUgCkalB3x8GEALffVK8HHjoOJpRaX4eBNwDL4rwHWAkYdwkw3YB1t02BL01HzJvL3XOwuyp14u0rl2hZnwsfr9IpsASI5CA90YGkkiX69cDpiQ7SOvD2gJ0A79l5pSUaAQeWaC8M3OASvd+LcCPbO2DrEJ199U7Wb1P4zO9iGFgBIqgEONnJ+gZgE8YXDRcB1wA1gnW5nawK4SushoB/5XeyAJm1qlpqApMCc3KYJNsY+BY15QJgzDZ9svwYCStSxwTYpwYPkxAy4YrAZANvBMxZkNY/TML+YZLW+o3/05qQcOhM1v4iE3zZp2eyJFSntOsUsABkUlOXu54/0ZEHWgxM5h5Yu5Y3br0THWqw3okOBHblCEGjSYElAZbt46cq/xjg6FTl64FNTTGwdRh4Q6udqlTDxacqRVeCqhgEFpfxiw1/NLCKeV8/wSaaYLKBN2qtiw1qEvhQQadLmFxsCF0umcuF3wN8zZZcLnw1cPrxfnzRDLXO5UKlssA+g8C8EE5Ec6tf8F8f+JQtXPD/RmDmrYx5GXCpxlvlgr9S6o8GVsz7jcDkkHlfB3xRmVZ4yQ4dnwF+/YvGmlNZficwCe8LgVWu5wfkb3/728/ujXsHwN1gU0vc9BJkuje2d4VXXBwymeklFCEThj9HZwefw6wDoKILSg6KLnJ7G73m6jzQZqPfBttqvw9iEUzBVeWeZGusla1vegl2Fp2rx5+iuleCur08KllXxAlwGwHY/zcwANohYGf3DtDEwJ4XaCGw3qqjByZrAQOwqx2YOcDsmwVmVPTAjrGHgf0Q/6+BXTOUfH9kS08M5fVaQsd7RhnsRcBaxvcG7E07YOO1VwRuH5MYuHK8LVJg/lGHIX4W2PDtDwUem2AjY2VLy8R+ggPvfOAwvgG4IGFFBmZqb7DeEm0MoQMGRgQyJgXWWx0N8WJgUxkDcuM31gam54HR1k2aP8whZy0CdsDYvt3+rMw84DC+AbhCCQDKPfAGOZo1wc5amwG+e1l3CnxU/NP2IYBdBmwqOqAx1N7wQJVZFdgUcVrfAzvf+ASP7GS5fk1RNK7fbGAtvHT0M6w3mwGbetYESzngfdQA8PEYD/GyCa6qTiS8NwCs/d2TS7TS23tg5C/GOb7DUWB0dgjYltKplC780MWl9xt2DnBYnQH8FZLrGLDBh4Fr9+QEc9EQ98O5z8HWjDwHd6jtvV4EHNY1+XgVzjS1uV9nx51/OYoKwC6s0CnwSZdSU2y3RVNK29MCYL86+xcJal2eBMDHj3arD+yytR/v6onnYHBub/mOjBkEjof4KWCtrRkBls+gW9l5wPEXLbwRcHGQAvChXzG9k2XLUFNozcC+ucBh54pUO76lABtOBKAs5UtAfjcCgGyyk+UwvxcNzrZ70bIN4xAD+yFOmwdsrPbCCbA3be/1kgkOvpJOgK3j7Diws8MTDP3kORj6zQCW8Q1p7V/yJNOKZ2vkMMkAv1UUo8DYFn9+mUzMABNYa7rjYETrWl2QB8EAHIb4GWBjyGrJji/RmmlmTnDCOwZs2TcDDDi0SPvHRwBbO78XLe+UfhgeBA7jK/nx9cAiQP5Eh3/Hh3QPrJ3TEfD0YZKzLpzJAtsBO+deAGx1l7U0BCy2/AQcPwdPv6Ij8e1KgH8xMd8tAaZWFMOZLPLEMfDbQB5Yp+N7A0asbXeqspQHNIDuNsSUAgPMBS7SCB1oxNWXaKtv2WHg2/guBFbbXjoGpnN9Lgq+o7lLtGFNV9r4TNaN2DwGnI5vAKaaCsnUtSmkCmhsiXYI7D+9RE8DO9Ru9Z0s8yVsUuDAugTYxOMrqQAs2bCZt5MVeMME34j39gFgP76oKB5fD1xki4EBubk7WQOBQwRa/zCJvDAdMhOslwBX4hun/Q+o8R7mwBkqopoHDpPq2mrV5WrOKZ919hFgP74IKhrfSWAPgNm6w6y6zr2kJ40qbvREx6HoNX8v2lpjhoGlhUu0502FN5uvL8XI5/911/SJDr3NpKeBb8e+iBTGd8YEH7O1E2yt90kbefyPj4+xU5XsuRBYYt2DiI4C6+0iYD1cAObOcpSUAWbfVwArT6H8se/qwNI8YBE2X8DJ+D4DTDR1uXA+cJL6ygNnii42vBTYj+8wsKloKbB1ds4E5y8XMuZzwMasD5xpDrAQvxQ4vLg3BSaApcBo0blngMP4wqFYChz6Y4Edc74OOIxvCiwhFVEGHwVm32eBw/j+n4FfO8EyvhlgbimwexY4jO//GxhfuZMl4zsB/E1L9N/+9refXRG3j5teoo9lrmQJTq53vr8Ntt2qbomqy0z1ZnP2OZAz+enVnlO25//pi554iimz8VPcRyZ+ivvINvVvwwIwmoXAWjdrA/urMz8E+E3/COBqKbDiWVsbWMb3xwC/v799J3DT95SbGgA2/hT1EuD2VHazEnAY358E/P6mvw/40vdUSit9DF06YIIOmJYBC7G6rAYs4/vDgJn4QeDarg5chjOlasv1iEsPbMwzO1mS4qFbCpx73bj+KcA8xDjUHbAFtzrw7kt46/ua310H7MPFwH6Im8eBMQIeG1+9ZWCX7fuBiXUJ5R4hLQbeA8L6wLvGD7DedmmtjlyzC8DPTrDEo/cMcDq+2618Awj98O7daWCXbRVgBIJ3jqaALQCUtp71fyioMFPVApe3efBpv0D3gQ2aJ4CV6kRU8wAwQvglwOPj+3EPjO1dDOywC1pgjGNAiEKEqDWACfjXu0SYAUZEC3zjAvH0qUrKJsAiXByV7qWOBftGEwy0HFjJbXBn6zIEjOCc/PLA4+N7D4wdEMbAlY/kYO+ue2AkxNWBAXiI37toHBjke64dynYGcHHMxF9fvRPIQ1Kz4+pVlmglE6y8i1ZRKTCiH0TECDgd3wAcci59zVgmEwOjrKYYA+hsDwCTANO7j3AM2AJgzTmw5YrA551k7n3NTjoz8D5uCTDLPA4svOgwLNEj45sCY3hjKTARrg2sAnDbJYqBgzCiq2vEslwfuLwXLlcD9sfXtyX6LWoAWNpaDDtZo+ObAvsJxkVLdP452CxdolW0RKtLAhyqnUMLYNcGlvax7363HrB028li37gBYCch54FHxzd9DnYO5dfCnaxQCoxYmYXAYSdLxjcHDJwFxFnAlM0Dc3XVq96tDCyx0lvS8HNwtESn45sAB2EO5x0mIWRCD4zy9lLg22HS27/s3YtW6joQBuCVsimK7UxJDjMJ7/+gZ6YN0GtCC271HH+h8bKCLj8nbZoK9TkJLLaGrDFD4DqZFc83zeYW3r8eGO/lm69gw0IcgRfLNwJ7SMTngd+S6YAdGInfCnz0EMs3CWyZrWyBVj2h+UcyCnwN3HrtXwysMBh588AmVrCJwIvlq8n+hT8PrPHbK/h4zVz3iwCPcyg/CfhkYk4vBR6Vbx5Yw+YGPCrfrwF2AOCeAnbzEeBEXgisIdOG9i8GRi3fheQXGwbl+1XAhfPFU8DuOwDvOe6AXwosdSe8TwLH8v06YM12YOe+B/AedAf8YmCU8n0eWMv3xwK7bwN8Mub0amCZGz0JHMv3pwI7932A90T7IfBvfvObn519MvlTfcTtBINLlq0ndkU/+SGmGGf0/emcCGV/vvz39yaR/GLEKRldjMD0LiwZfQaCNicjywnAdhjqTzPLW3prAc8DKyo4BY7vzQE3H7GRtwVg91XA5wKSwKFcTHgE+J0BfzSwc56M4RKYwbtZYJOtYOca578GuCwv7kXAIegdQx/Ynt8RDOAjwIi6+evAwDBdbovv336AQ2m7XGaAIdbvYgV7AfbOzwLbRBT49tLcsBFYUvgXAAeMOQ2Aq0pnCQA+A4xB/mKtlW3ATwSuZioYEZk7U0S4rusgJoBXVvCb1pB3U+B8heo2fs8McOPR+3ng8lI8BmxtqoKxTRgDV5d3sWIDmAYOwQpxCPiJwAGnwMp6NW5VgVHDtyEaCLgEA+Td4j64SVTwGzT6bRq3EZgKzSUJ3MTfmp8DVmL/ALAVgwSwFnEIpwlwde4ueQTjl4Fb1hBk85nAuJsBjsLIKkvXj+B6kAVM7UFWfG/TUbT+dsV3M7ADV1AKuNld48fAsS7PBSSBqyB3xEpcqxUHWQochTUGcB5YXVFt9b4Z+JAD3u2q2V8wo4Q6DBd9Ne2rivSmSSAf1LJE2t68AhMnQrd9cAPN3D44f0VD4yQ6ADSFm6S5Afd+ac0Q2FZsjD21RZwCDqi3EoPcFoDDfAVrStkRdwExngIr7wWBmbFGxI3AlojsEnAVJLorkAyAQW4AKOmA6zg8G5i/7LTGuva1bF3+NRVyR9H5i+qctr6Bppn9egT2u3twVMGsPwiVsYgTwKEMkjIsAYf5fXBMFI5lPAtMIKG63ghsScciskvAu1uGwA1A470K+zaECIprmllgV0u8CK8AlijUZuCiMVDkgWNGwBXcL4S7uEVgpbOIVhnTR9FhDjgeavXKeAxcWC2lhi9FH9jEtMBmnAEwibjeF4fo68NWo2lS04C4AiO1YZbPNAq8WMFHAzX+WQVcbAaOSQJjAriFvaWABLAOThYXKhhvmQJH4d6PwQb8ANgWAYwEbGF7wN7F6MXO4/g+sOXoY5eAo/BkHyzzHBE2BuIDyGfEO1XBHuDRCt6P8zXAHm5ZHKIRa2xjB8BErSUxYxu+fkwj4LMA32OMx/6z5CiwbwBgX9TFNbknTB8DQxo4zANruXoRRiQNgvHyqRTw0fgavxNwah/cCUNuHmyDANdKHMoeMBsJE3UtorZARG3LwyEax0N0HxiLvV7jDbwvcBPwmSxJLJ0XgeMIPQYGMALmGZkk0hjXtDyLwGjgewF/9ID9GJiYKxHOASux8lrbBwbwvu3aOBdbb2IL0AO+9A+yfBQYAqPuCsMQGK4R6QbGGe6D2UqYygSwVnEYA2vAIwO2ASZvYhaA5euydflpUh7YpwC9AKdyB/YzBRyBqd3xiXAauNT5EcrNDobo9gk6nfdd2zROW+/ji/wlpklj4F1xqRAA95di1wfmNtAdZCWBRVhC5SJwQN1WOAXWMBjugMFBEhgV+Bgr+E8yzy92nMpETgochae+ERiMhHSUzgCH0iJaafvAWr6gxNoqq7SNUrdVkTjRMalgdLU+/uUN+xVMtg21wJCfB9vtq0miRq3v25tJABddBXvZfidgPRUtaT6WgFU4CVzZEiWlZG6I7rVG0/jGQASOu9/pqlL/NfoFtw3i/XMZ4NcvFzKCad4+UsDIWB89H9Gj+07Aw0yH6FY4BRyreATs3iS+aboWpHX6sX/T1t0WGyTziw3n8p7KFoWtynvOfxk4BiABTIjsj7UYI+ILgCmZVwCXxLfzHLB6ubAbkuPQ/Na1Xq21iFvgMrlceO7/y0Mh83B552uBNQlgp7CMLFvvXwF8TuQlwP0UsBYYdBapAW1Bbv7+MXQL/rF4M8AKqrevr+AUsMbjdWnixwGL8Epg/yZpoIktaOsa6IZsl7tkR4FH+QHAEl28/yHAF03iVGUy+euuvRferwP+zW9+87Ozegi2/eSGwHx/Ari/eibxpH/ZTz0d4gjAtQ/AhTYEoytK6l72k4z/9YVOw/R//t0tDz9T3lv/X4Nw9rLYepjJ73+XiO4iyv019UweAfZFvLnCacv95IDz/QUVIjAL1mpgR2QgAnti4/4/wBjCg8BgmNu2GUd+gYri3N1p1WWp+f6FCnkBbljaYjVwx+oFWB+oKYr/DTCGR4EBEBHiRH0QN6xAv7qC8/2d88BGgAGMd24BuFoE9qAxcGDZGgD/nwfmrgnhQWD11TDMA8exNTqt3Afn+1OXg+3aSf+OlilOPEe5X5d9ONg29GnACoTt5iuBGTQ7ZHoY2DBqFtZDneDEW7tJDtGNZAiU7U+HQXp9PV6BiQy0xGE3yqi/Mn8eMIovKrLtAV+SWQ3MkAGG+ESuK4CBYwXPAxfDLAM3MX3jXP9UBePuCnzSwbeaB/bQDc0H1m1iiP6DkuoJ4Fpx9V73gc+HRM7rgOWxiAjSwEYCDGHFEE2trwCDG6W5DbFxlHWTIXbiC33hfH/dBxvmA8nGOzc/RAselfPA8rCGyQtw214x/BA4+hKGZ4BRgTEFTDQLfH4I+HC46BCdBGbV1Vwr+LS/hmAaBY4lzPmDrA4J+rkDC+wtcBPO9y+cughw0/rcyhf7wHAiXgB2AMRxmgSGyBVeq2wnd98Dxl2oQtiHkXDuqRAHwFavHa/2YQGY7OEAIDsJmgC/PwJ8Ft/8Phi0IgMDhDEwm2kUWMMMIE3jRvHXaU6RmSZFYH2UAXC+v29RBFjp44mOHd6By5hq4SgaiHonOgDoejAkGQCfWMD+qXAAnHky0yFwqKqAYmzngYEPFsAeGIbA5/PlXc6bZ4EPB9mAoWVgZt4xmO6N1gAbePxEB/UzBAZoYAic7y+o9zNZhmL5rpgHjxOB6xEwBgUOAVde1Ne7TiXsg2QvwGEGmAAYoN3QAPjyrnkU+HDgJWBQKAVmDkQrKnjVqcoEsOKOKzjfP5ntwLsxcFvBp83Ax7q2RPLIROI7C+w9SLwfAOtWfKU5zmQNMJt41TYHzaPA3iXic38AowqeAuf7L8bjNmC4pQ/8hwKACG0doo/HmrxH9M5buwAcn+54DHxJAK8YogEwBGYwtAI4f2E1JBOBorAm+sas6B8zniZh6AXHmQOuvdXhBJqmB/wHMez/CbjDrQdZdS24iIo8B3xS3Ov9NAQ+H86XHHD+IAuAOARioMD0OHDjEpFpkk2mDwRRuL9isKJ/DGK/2fIC0nWoBbgZAteoCU9Mk+RvxKInsvPADL3wdB6cAc5Pk9rpPoeWGHgG2PppsvvgVUNsWzUQ63frEI07r83uCWBb1zrkej890RGeOdERUBMWgBlY7+1mJXD+RAeDoALFymUwYXqi4/I+zUuBlbi9bQGeZiNwvDC7qeuLe/Gpyv0ONRWe15yqzAPnT1Wqr8hTiCF6FDi/D7bJ5IC29d/hvT8mMw9sj7W+1s8nrCYhrl1NygPnFxsYWEW5d/z8OmBOJge8sr/vDq1Q2i75i/aKOWHn3If7bsuF24Gx0wSgDcBNMs8Osev6+53XyZFmO7DGSb7devBmYIyazGE1cA7g71aw916bp4FV+Pst+G8Fxrvn64G/YB/8HPA3vmRnG7DwPgP8m9/85meH4F3jYT+TU/5fS8DcAuUk+f7WWiLZHGfTLQY4I9HRk6ZD8GmfyCn30nH5f435Jxk50ZFM/uuDEd1IqOpFXxPiYznN/C7kdLhGgE934e3ARJuBa2LyRM8B0+n7Al/cYi4PABfv9ZPA+5vwduDSPgMsvlQfj15um4DJ8H5f/QjgS7Ee+P39+BzwXXgjMIgswEZgtERM1h696MIG4M6XeAG4LL8R8JnsZTWw5u0Z4J7wJuDoCtuALdk2x+NWYDAVkfysPA+835d/DfggbwngM3tguxpYUz8B3BdOA/9zOsxVMFFZEj1SwcRM4yHaWrweZDWbgI3Zn9o/0yVgIf47wPZf9u5FTVEciALwF7S9jalgGFOB93/QPYFoCEK4CE7PbJ+xwbZX2/bfKsJFdCd01YPAmnObk6kWACOXN4CDMCeADQkgmuXLYCPqmA6wccNotwxGk14I/HVzl2FgEG8PfISu2mFyHAImi5CeBSzPz5zGgZUaAA7Cg8AsBLsFtukB1iYFHHzZcCyMZfDbq0kGD4jGQNde4Kf7jek1Y5tSZwAfr+VOgRiTYy+wJrIXALNeBIxI1U0ErFgZo4zqAieEHXDgMb5PL1wPFg5CuHSApUwBI1YgBuHeUTT7Z5YADi0oztipFmcA63JXuvoBsx4CJgtgWgwM4l2cGNhwqUrVC4xwEO4DJkGPG7+4BaRbSQIbQfhi8iUcWrQ0Wg4DZ8n4QSKbNHAg3g74qpRGFR8xL3uBDflEwNSOcJd2OsCIGgRG+bIBMPcCB2HiPuBbi+W3YH4CHZKJWjx/EZm6U8fA2swEblAKD+yTBg7EGwEfS4Xade9fQCUfe4AzQwYXMhwBx7+PuPv8ABxHDlawQZQaBg7CCWD/Gt1WA1ZGI3OAT5k7E2RR4AqARTLvA4tk2sBOFkkA+ypNAdMosBpu0UiiRcfCXeDfbZZFFWwEOWSiuEUr4Mo5wCdC6VohThkV04ED72bAZf3q1rPjQIsWZIlSwGxHgGViGWwaYDMEjLBthE3fMlgcH8vgADQZGBGCewZZUl+Uumg5o4JPNrd0IlyZChx4twAOgyyHi9ngIAvASARMqQqmLrDapYCbcAI4Eo6Bb/CphW+/MVkCbIQgg4kwc0bRWY8wUe7fCTwD+Gb6P5aHEslnAGMh/FhNug8BI5bYtIGvrdwEcspambWahB5tjEq06Fg4BoaPP3U97pAAnr2hQxnNbGYBw0QIIjqNA4cNHXLRESGTgREN3dpYd4HjYbQulgHLXws3dCSEAzDym4k8fAJ49qZKQ8TKzAFGcv86TAH2vBsDI0cQg/c4vKmSEDMPOHv4nhZvqkwIB+CQBPDC3YXMxHIOcF6cLCZTgR3vtsDBOLmzQbP3nQ98AecqwAgF4Y8AO2EzExiTqcCBd2vg8d2F2sB3CTAw1wMOwp8B1sgsYKTIpwJA8fsAFxm+5gCvssM/IfyZCobvbODi7wQuZgKvcshOSvgDwNogeh4w8tcAJzMOjOp9B/gnP/nJ352+Eo9OqU+UIfZwKzArjLFxCymSGW/RwtwSGT9l/smnPvVKz8+L6iuR8cfXybgNEYnI9ltzxDNDb83ZqfNZiHgRsk9mBWCQCvsAZse9MrDgbYFPxfEHOAHsT7PtgG1tvTqwoE2BMS0O/wqwUutXsLWWWYjDjVgQvlkdGDGbAiPVPwGsHI5aGdj4HA7+io6B1S4RNRFY8LbAiOW+rAps/WwrYOVf1HWB9aGTDnCZzFRgQVsB/zr5/BKvoXWB5dmYs1wOrMq7NtQFDrxKFYV181UrmJscNDexMbBu2VdSMrdv0BOBCV9mW2Ak3wLYyhB7QKeLbpgFrK9XLXHpBXZ/XtEEV1cdZGVWGENYBmPmdIeA7/V/KgTpNjAn0wArpbi/TY/tkJ8DjCLuEtPY448Dcyv60BRCyARg9Uh5VVdEXUv1yBNYNb5BWK0ITGxss5pEZEw/MJ6YPmdFJoWLcd8aDeBJ5+HSxkUI6gOmWOQFqPDxL0Enj2Vw/iCmKDx+yE4MWlU6SqeDoYIxCdExMAnCJQIOY5ha1xjtjJ8SHri+ThbxfyuyFrAr3+eGjkKwcTOfB7B7S05zYqqztGRxlxJo9wjYinZsG9hYa3MjEDMCbIlsBDA+yCtqV+ELubvK1AVmTgNLmQI+H7TGZBDYCmayMXAoYCesCwPfUMIAfgyulEWIqECaG1YC1jZDCg1mxOI7Vv7oEFsDX13kGcAS08bAaHPV1wCMkYOX8d+pCJgIwC6cBLbuwXk28C/3GIG4GgZmazkBLOsMAt/ProLP9wQwURf4/Mi9rmB5dXne6IB3SGhPlnIAN1GrtOjXwNYde6RUAywLGYClB3b/Mxb3UMH7PYkQtacnMJF1MexuyrM4XWClrF1QwRR8k8AKSVWw910MTJwA1g54L/HKRcAqBnbEdnNgZgCXHjgrKrf8ATBimxbtboiA4R4tStvAhhBMhCiyJDBZwmUBsMgBPKFFEzIGvLxF++cfA5PwYXVF9nu0aCN8qN2ii2cotOitKhjAzxZ9r+6HWthFCsT54uZq2iBrxwbhnaDsJV0Aa2nBIOvXLwyg1xhkSVyWD7L8GGIAWFxrYIkJx8C+SxfPKO+7FbDTPZYALuLVJAlg211Nssk4YMIAkXc7tOfX/A9Wk56R/jTF6hpuS60mbQm8U1rjv+vZ0CFNZ0PHORlf4aE9d/IXbOhox1WwbWcOcL341fj6+IaObmz9P5Da8fimymnACGW9+f6bKi+yHWNkO5e5myq1Njy8qXK3xabKrCdqV/9CO76zYSpwnvVnvZ0N3Js1gBO5bLCzwZXv1sBFDcwTdhdOBC6ygXz/3YVp4L9gd2HWL6zguxYw2vO2wNnX1z8BvMkO/6w/bLO1gPNsON//kJ008F9xyE4iKwBTkW0LfP/6+l8D/+QnP/mbI8fe2jHSYi/JjJ+yXz6ze+bwzPimTnlIt2DDYRRn+Xhk+/xGG8aGissj4pnnTdhQkezw9/HnZ8gficqHm7+iubUIOj5ihBDHbkbPxDcerUeAT9m3Bt7vUwQANNoTB2DPi5u3B7bGCGoB43u28pPARz0CjNWMbw28lyngrGBP/AAOvEW2PXBdscI2wP6b6rPAEB4BBvF3Bt7vDwngLBA3wIE3+whw1hSxA36Uc1V9EhjCY8DIELClROxHgJF7ChjE1JwG1QE3VwnVtDowm9vNcKdFuzBuBLDAnCxSVedPAkM4DTxcxGP7U9cFJmKiHmBEjn9oiAeOHnAcuEomPL+wm1RTNMh65nCsZ0xsAFxQ8TlgCKv+RBsCskx2M/eT0fL3gNkYpj5g5NAPbI690fXUjAFP3VkSn2uXWs8P6p1o1rA9fbKCkVvikJcQS53g/vd2dOfbF+D8DWAihfQDI4pfMwAsj1qvDaxbhEngKquknLwM5mQmAwdhGeYB2D6Ys/uxHdMFLss0sKA0sFLDwLRXdSzFwEG4dz20HY2nrPTjG6nnAksrh4C5bcjh99MjjN5dxxa5lAWUJwGnF4FTgYOwOnvgs2oD76wqPHESWKkkcC5EGni/HwaWUlGek7K2HxihV2DfdARC9TKYcYvFl5vaecCS3KQf2LSBTTSKzkiwZgyySNDNWMBKfBXnGpgfcU+Ru1kTGMLgRUCrZD33wIUFtg2L4iHgUilXg2U/MHB9KO8HVs1c9QNbqawHpn5gxL4AP04wzdpQDmAjpSRTKZsp/GAeMDVHndk+4Fsb+Nb+/YVjLZr1YEdts6I+/PQM4THAlYERPOldmPcCV4MVrB2wHqjgIJwPVbBqfNvA4f54vRURgH9dwv3HgQNvUa8Ho3gKa1lp3u2WAdM8YBJGs9+S5bSta/TK2uKDwMFXnZUHxrX5LdrdJdGiqeZNtOi9lPvdADCElUWU/RUy3qIDr9+ShSuoH4VuwzbbvkUTaVO0t0VbWQMXGYA/1qLDItiPc9xEzR5kaVWWSr8BLJWSw8B7xwLklvD4IIs8b2tbtKyjrPnEIMtqsLpYrbMHsJWumM8rD7K2X03SGl8JYOiiTw8DN8vwQWCgwHcQ2PZ/bI4xqJYmRfONlLA7AYs3Wk26tTtIJxKBsM0KOwk4fdz2uxs6YuDCvmTWho6cckxEPms9ONw7p3r4i0eJBmmeVw4AZN1IJKfTSWXI1hs6Bn7/pbDC2GwKcJbMCpsqg++lJ7M2VXqXpcDuy1p/rQMM36nAroCtvZwyOQlYJtO3qfJGIgWcyfoLjeRjwPAdB770ZvOdDeP3D74TK1hhtKbkVOBLMv07G5LAVeUWNaVU1flDwPAdBR7+Ay/JfADY886oYNSwcrprA4ekK1hJP/0MMHxHgS/fGhi+c4Cd758ELqsauPoUMHzTwOD91sDwnQkMYkw/DBxS1dNztibw8oPuwPu9gcGYBE7m88AhqwD/5Cc/+beTRdlFuTbHNJ0yxM87GX9rxa9kxluc9jlXVXWudCf9b71pf/5ukT0invn9iGktIkg8Q/KR8SMqDtU5ET9IJUFDb42hPBWc8j+ZucA68m0OWsPTO4HWz/8cMPItgb++qreABX0QuM2rvjwwibwGzgX9OWC8iPJ7VvAXUk0D/kWd+N2BHwNWLd/yedgpfg94/XwtYDsVuGoiz9Kl8vlmwIPE+P0t4Hzo00/pM8A6as9P4FOt6+crAVul7EzgMy5BeCtgWgCcIMbfPwEY+Qhw1J4DMFI/Q8wTwErt8c9aNQXYqvnAUuJr6wq2dgFwgtgBhuS9y+AmtD2wittzAD6FNh2nME9gSxZmACZFe7I0UsHTgb1kJV30xstgwmw5MIgXAyP9wGUyc4Bla+0oAj7ljzYdC7sTrkXAKGAAgxmTEWC/1x7AeZFI/gCSGroGwFmUYmVgJfd2JvDtK4rpDqJqp0eBpo+5oj7gXTtKKhXdMAc4bs8B2LdnP494d+oJrKwgxwtfB2wnj6KLUyLFE5i0YdJsNgV2sIo6wDqRABzCbcFJg6yQMWD0BLkUWHV9wyia8ubVxDzmlTIAwxWwRLau45WAn4BWsHEX2hTYSoVeFAOLZDxwHI6Bx1eTBD+YKQks64HmMmDZWfx2R9EI5h3eNjDZ+oIXSIF6RWB/PCMZNhyOWN0EWO0l/tECYMP9xFM2dAhhWvdIACv4SnlWi4CjtaMYOCTm9cDJjJ0JbxzYgwKYACy3BZZyv1dLgPktYPH7Jh7ZR4mB4YssAlahPYcY5gg44v0UcFZjSiImZrIZ4ny3ACYL3720q7ZoEql0f077FPC5ziLg1/ZsuBnlJXg/BYxIYuMu1tfvNsBq74FXHGSJOcB7ZAgYUUq6YfQC4J1LVzcAd3lXBc4SAaBtQoxgYuOsCUx2X1ewpHdWk7rPL08mAqbe1y+ZicBl1J5vTjcAJ3gjYGWfUTOA9TWR8KEeRrMgXbKIsyqw8n8HLd7QIV+BTsm0gfsL5JLMRODQnoNuAO7yjlawtW3gVCYDC1MyUWnEhsCCiN7aVAne5cC03w5YwdfrUguX1R5/YMybAF70BCcDC8PERmwKjNBiYPD2ZPIyeI9sBaybxe9vQ4HWN1kPHHj/GDBCJLYHpoXA4H0DmPZbAu/UU5fYeNoAHPN+HjiZb7I/GLz9mTbI2iPbAavyC7rE7Gk7wA/eH+Ah4MC7bBlM+02BdWlC1fYAq5r3B3gI+A7et4Dfe/1+8pOf/NuZNoynwRad23QLOo98Ari5JmLcISulD7PwOT7z8vxv3fvffGjg/cumTMTdP5lmEbbvTXMKDLtPZMLHDu2S+QAwCSqSwOfDm8DXJzCNA18P7dwcEBvmLYGRPrzHptjL3w5MJPIk8LnqqKqZwF6YITwMTMPARLQdsIRwTxE3t0oAn94Dds/yDwO7zpkngJHIt9yVM4BLN58AXAwBw1cwbQZ8Pgfhrq8/LvpdYIT+ILB/BsUwMHKIgJUqZwGX1xFgyossz/uBDQnacBn8PEwqbs+IfB74/j4wQn8Q2BMngEObvirV2vc8fpaesgQxkq5g6w4KHFwG47IlcCjiuHyfwJc1gBHinfpTwG6WDwOHNq2ig0c6f4AyrCIJANfCuKRbdJYVQy3aAIK3BA7Csa8HRt4Ajp+3MbwlcDO9XHqAd/U0HwSWvk2Xu8a3D5iUurJS3AVGnLADJuoHRn/uBR4HoijM3U8IZ0qEw9+3cwntOX7ryq/h+x+ScWcwkMGYm48j2ApY2FpZvFQwk2BM4j4dAwvbtOkScR1alR44rl8wGkVd4KZNE1lCLh3gkGXAUYGgaGeeDPSMtIo4lG8AdsKD9x8HRqSteY07JZIjFrQJsJel1xa9Qx69uh/YytCmy1Lh8gLMD+DooLXrM2QRp7wZMHwhvAA4CHvfGDgc827tImCksiTIVbBrYvXX6sBWDCyDiXYI1+0TkzwGjoI27Y3LXmA2XeCn5ZVUA2wj4LyIwnHmAZd1lgKjTYf2HAMj5IFpKXBtTCwECzL+7jwB2BwTMTGwnQTMx5DmBSBbT2VrNN0DrJSxiFaqBxgBsDGGLzFwkUXpeHw3YKK5FaykB77XU02CSbPwWRVYCl/C6Ratjy/AUoZp2OjRBabcQNhoS/3AwlqF3m7nAH+3Fj0fGI/XGB/PIK5QyJqPtA0weeFLYpCFh+sCd3MYAoauuwwCC+W6+F7MAP5mgyzCZT5wbQxeXTngSp/v0m4CfGkUyA6uJuHBBoFD56r6gYVfnOZiCNivJowDM78Aa9mX8ZOpps/XPL6aVNS+7EPEUcbf4P1sC6WqyntV6RLG9cCa1gUOb5Ie3NDBR2QAOE4EHBNbEsPALuPAzObG3AGW+57Id08iM3FDh04AJtP+ubqWpdb6rsP553llYOQyvKnSHBPAttump22qXAQszOFgxMeAxzdVyusawKW+1sT3KnTF9YHlEDAeJwUsZCxcTdvZsAyYD9fPAY/vbCiuqwAjCsFUfhSY2HfnBHBftgTG5WPA47sL9WrAQVp+EJgE6+NcYOSwFXDI9sDjO/zhuz4wotSHgP3Cdy4wUv0LwKOH7Mjr6sAB+QPAjAdYBowc/gng5EF38N0MGD//yU9+8m9n7K0VtugN8QFBC72PtLismyreFHd5Rjwz3OKrcxy08GTGN1WKOIc44+9vFsmMv3XGUvr+hgkPYY+cYWroGGcr4FyYgwc+fMmZwKaVWcDVvf5XfStgw6IVirjYjAMXmU0CZ4UjBrDjzbPNgK0K0lagfAPw130UWCqZ+UR/D80AftBWuLI6MBuzFPh4C8Q7JPxxt+Mk4KygBLC1llnQkZkI198BzrJhYKuQR/mSOUTAX4cRYKXaFaxbmQ4M1ujqusDG2sXAWNl4CJW3mxFh0940YMQmWvQxymJgFNlOAmIAuN5CZkP5RsCITAHLXVPFSnZb9G06sEO9fyF3J/x9gFGoTtIDq8fxAvz76Ep7GvBwET+31R+Nny8Ezh4f26+yYWBXwkT68MyRwxnPE8BKPc61Jhe06ODrf9UBwlUHWL7kcf9KJ1J5YLbIMuCAidzK8oZZQJ8IjNgBYPyE2NgjF5gV2QLg4Ht2UzUAjFiUrzmEGAd0/WpynQS8oIKT8cD3y0vuEz9Yqtb1MQuAQzsmf8BA+HYq8HARu1G2sX4U7aSPiG5yRGadCE3KZpa1UgN7YdstX9qrJzCi5UtsC1iqnRpfBlMX+HBP5PACbO0yYOoHnvrxslSbCi5LDgU9DxiAfcDG6KqqtDEVYmpgEqSF4InAN6RsZP1RRfoW8gRG8k75qj2AfYsu/dKxG38eLlkLSzk2iiaWsgP8lUwH2IoFFUzGNPVrXoGnf7Qd3xwr86M7zwEeLuLeMQYBgmcBKw+8SwETH+PyRRpgyJaVmx8GgKWS09aDyUhp3gAWdgEwQvBlzJcChz7tu/MiYMROAmY2hmcA6wZWyga6jIGHyjcAXwFoVF3E/cCInLAliwjAxtAbwLOXwWEUTW8Ahz7tu/NSYBTxJOA8pwXA50HgsG4UyjcAQ9ha85UC9km3aCLL0tC6wLtk/jxw1sk9suwFZqMk6/nA57PsB+6WL6l9DFwxsx5o0VXWieGQTouGsLX0VoteCEzMYvsWPQ5c/cfeHSgmaANhAF7UilpzwWTcHb7/g+4C0RCEAC22tuvfFhxutvXbHSGgLYppYJAoWLoPlujBffBw+aYVXL/V9cgga59NHxgYYIVB1jLgmE8PsuIh8IeAq2IOsNEG5GutUTRAv3wT4Ev6F2XS8NTLL6ePg202mcOkFYAXHyb5LDxMSst3FrBt3ta6mAmsfbqjaNP7BWjfCcGuk+Q42GwH8nlgfcpEPwCvXMEzZ8KSxrxsoiMt3zxwjJ0/k3Xy2cUWbXotaLR8U+B6O5ipFr0GcH6q0mSzCnDoziELpyoz5ZsBLhYAR+HUNwVOyzcFDuX7TRWczdQ+dAXggBmz7GRDLN9nAku0EV2zO40Bp+WbAovv/xY4tOOYhacLY/k+GViiwzoFHinfCBzb8/IW/RuA0+6sFp7wj+X7fOCYFDiU7wiw+OaAkTLBXwBMajQ0C1jK99uBk/JNgWuzzWTq9bWvD2yz+fxFd9eq+AzwX/7yl98dBJD2QUVz3QDSJs1Ui5puQYdspluovWdzCNnEbdMTGbt74tbuVOfZbzjv2/gjiXCz3T71l9mGdzH2FuxOtW7v2d3z6RY/HUGFAEyC/b8DFtUoLOPFOvqK9S8A3jhExQJckqw3zwR2wCQf/GLAwirCETj4yq1fAewcAykBBlDs3AOwzmYBsCO0hFpbJPdawA3nOdw4xw3fCQyrAWObwrbrpwEzIVHJzEBI/FrA0qYD6HYbfI2svg8YzIrARRJ5oFJe9+re/WJF4JI9q+P2lRHAI8DGDAKbucAAi4Hb1K2wMa1vvf9GYDCk1BMr+P39cNpsTkPARvIhYEcWnJQxsywdaRgE1mHRB65nAyv1EeDYnWsv21oH4JIzKVcFJiIAMnUNa++DFVGBsmDnPLBkw4fBCt5uP1bBJWnXDrOalSYermDmoQo2GeBkChV6f+fRzAQObVqYz+Jr4rZ+hWmtkqwKbOomZu1RtCJsRtF+vbkBn06DwMZ8DJhsI+rCG0qzhkdg6c4eSG48AG/rUeDEU0kS8Wngc9Ssz6Z5u7G45dwDZsmTgI2hOmRdYFaIrj0OBkC6V3Af2CTOC4EdIB8YwAMCuAQ4JgAPVfAksIF0LzYb2Jv69xtva1hiGtlzXft7HoHhKcBk6hizKjAhxZkshQHY7Q7rAUuA+P6Oq35fjAPAjrlUqmR2KbD/lW09VcFGdWJ2S4BDzLldn+OmPrA6HtVzgDu6sHKLTtMCs9YPFWw6vouBGbjp0JJ2TM0PwNwplAR4K7+2LKZatIHE9ynAfDw+qUXffUGpZwNzU6AnrRNgvTV3361eCqyhvAE7D6z7wBJQIXBKgX37ygKHQPrX8Ndv0XyU8FOAgWoT/njf04G1tbXWstwkwCJsGl7xXQzM2sOWilmJtAMeAGZQIFHAPeBaCJYDrz/IAu2BNTwFWL5IhcBzgZ211gNzAI7CIR85DgYCYZZ4WiB4HwCWhGUP2GSA9e4eFRK36FUPk4C1hJ8DDLGB0XOBRVhbexXfPrBuX+f/oZksJuCDa31LGJ7JYknwnb8PvsQ0T44sLjGfn+jgbFYDVnwTBoYnt2gJa3arz0UDOPYBoHJ4LppBwqc+sIkVnANGpTAs7/n8VOUpm/WABZYgHIg9E/h5Z5OYiJsQ8KKzSVK/8jENTJSufT59suH5wDHgI+sfCuyHVk1Kt+b54Es2nztdOA38A84HZ3RXv6LDsUTWLwY8dsL/D/gVLtnJA3/ukp0/4F8AnL/o7hcA/+Uvf/nJ2dxj9w/BqdfXTrf4MpsZb9GQjX98gNzjh0uBubDOrxG5d5Swy2W6hR5uUWgJDr1M/36HUy7p+e7tQ1YB1pK69vOFNk1dvwRwmQV2iIpvwIykej/f8aingbXuywKvBLzZfAUw+wWox3hg+T66lgjwNUkCrF+0ghtVcB44WPeAJVPA+njkvu8RVgKWPB3YqVnA136WAyv15cDO+bqFwgLGK79T4KPOArP/NxJh5iMDrAQseS4wKwkMt+iZwNpoLV/fAtwNABABJPvgEPllQh6BJRlgEF5Jeu2dPvJxHeARYbNiBTvv+ylg0wCbSWBgTstt+o9TXrNJKxgI2nQe/+G3skPAYjgK3Ph6TUXyYBaVhL0xrwM8TGzMesAMrD7Xoo3PDGB/TVMPWHUD7Vn7mN4gjgE42ZAAg4GtD9BUBRORi8AhmRbd7nGF16fwt7VsnFHB06PwzYjwbkVgn5nAtrbWGF2buteiJTNatHQ7yAHvtNa7UWCnmrj08WPFEmzbAHRG0c4xAKrCqvuV37A1W7odJkVhhoe0Px9E3yZh0yxgKDOB8Psd+sJGslsVeGaLrm1tjKlrgUgHWcfjjEGWH45qNQ7MO7PbMYwBq5CRxwcyN2BKRtEKsR1Fhyu/WTqu3gwAq4d0fj7at6mue+zcz2WIB1Y9QJ4+jGx81aEt4l3LKvEl803AIqyvVj4icEweGI6ScWAW3p3RPAJ83869Fl2G0PYODLGCgRBvx8EAiK2wdouAYwFvnHPXzv1wz8Ui9DMLOFSwJBSuxFubVYBVNo/AotpmOTBw2whHgf1AR754GBhUCAzvg4V1oIKF1MWZLKfIbhgYgHkhcOt7dT4Q70ebCc4ElpSCzMaIawvspb8BWOvaJMBLDmOa8aiU8Aiw2bFu8jFgKKmM++CwdfCiwvO5lo/LAzDkgKFqgF0TWhH44JoaDsAn+RTKwNwDPj9kBjDuY6ZbtPh+HJiP2r8r9VgFC68xO214x4tadMjWo946tFCXY8B8ro184DJgdY0F7GDFFu1KWbvDvUX79ixf3wRca1nbqzWmXgysmvcrNketBoFZ2rNkJ4EPDLIAoIQ226ZbwygwXtCipYXA7lpVwdetPMgKwBLmMJqeCbx6i/bxa6OXVzB4Xy8MIxUMipv+DPyBwyRolYnAr/znaIsuqQSGMhwHxyA9JPx8LF/k7uGwadZhkspkpMK/F7iufae2dikwsPj6GIaxwyTDegfLJzpa3IDc+m4zwKBNqTX0gat/H9P+fHxsSO/A7SaYB5zNbRR96Al/U4tOshRYxVdGqNxUJS+cqoyunrbl3lJZjgEzltyEEuCrcA4DAx8TYX8TwAvPAd5lE46DQYCT/ERg2t5DTzjZEInDYgQYfRM3GoAMOQHOlG8A9pRh4orCdelw9MIrAUvEt58vatHrAcO2E3jS6ULw8f8D5YANseOSjTEeOFO+AViEQWpYxbQz0axWAR7L84GnT/gvAd4mWR04MZZVpkUzGSQUZg4tWso3C6y0RCVpRoPPBJasBLzPJn/JzjTw91+ys5EMGHM8myTlOwGsvGZfWD0ZWPI1wLm8BDDkgbPx79f8bx44k+cCS6aB//KXv/zu8C4Tnm6RSLzZNCfkkFk1YYZmDczTLX6fzXSL5IGXjtS3mOldAJ4zwekWj2+Z4NTPP/349O/baP6lLwAWWHCITqC7U00M4GT1B/xZYFD0NhJS8AXATISASBL2tlpw2bXIa1SwO2TifgWwc1lgpXDwsZX6EmAbNVBB6U7MO9+d23NqC4GrAeBNJofXAkZkRhwDBoJhYIAJYAX/PnZn9UXAzAyEqIjZia7SrJ1jJQG3cXOBbeUXRLiXnKt99QMrmN+rSksDe+cBYMDCB4eAS848vlE+oU9fEC+hOzcxX7IPJtwg+pVv0Ds5W61P0nbaNj0bGC0qIIK9pCZA+/P2we/v18o5zVg+AlNxy8hlwW7s8e9XMOEbttUsN+4XGc8Bfgh0bk4DM7p2FO2A+KR185Z1ZbjGBma3aARCrEBZrw3V2CDrAK8LzO+MEmZ8AKYiBoaAGdiNACcXQAD4xY13FjBkM/3Kg/abQrtQoHc7Ezeo6QoMkrb2S1DUYI+NoktwawMDZQLTwBSDGD4fLhgoOsFBYFWOVrDE3HzPZ0jej3PpyQagdCAwAwhul0uxX++YDevTfcP0+y3vuyFl7L4CGgR2zh1Kd3AO1gNedBjjAJgBXALQqS5pnZeLtNLOpvbxsegGhoA5C3zr04AYy/cDwEgSHAcGUKz6l9TEUb6Tj43WssGFDS797xkkPA6MYECRBRwEhrL0zPLxTcCsFPuvMWAibD4ngGnBcXDu7ZKXAwM1gTFggMYWuAvM6la97cD5ytDZ0AdmzgCjAvTfhexwi3YeGA7wfcAMwOPAit4A3kg9ABdJ8BuBkQjHgAWHT2Lrl937PVrL5/x2gu6GJcBWbK1FIqpWBM4DTt9fxBAwIhMVMQnwv6hQPv9NgH31qiTUsV4EDKQkBB8GVi3wyBPAbRo/iPffZybbNRF2Nyxp0USYnaqE0oEog/suYGRjrWFcDAzrANdv4Pf0548DK7hclg6yNg7YBVPeXP0b8lLcsGSQZQFsDtgPsppP+CZgwfWxI8Dq1qJVH5hUN/gRYG7qzwMjLhtkARH4DxhcTb+dbujG4Wmn2pi6s0Hu50xAgLPCPYCydH61JjBkM+OCA7glDrLuKVvgS1JERQJstpmYeJjUj5kLjCEkn8nKh+SSlmzkCZQe3VhCMwwBAmo3hKnKXTbpKLoiOp9zwOoAawObXSZmGnjTCfnDJEorEPsDZ1wODCpm8UTHZZ/JZQo4TrW5sNbJhkXAEqIssOSVgTco2fSBU2EsUmBtMtH5qcovAfbFCmFm0lfzdcO+eMOGpcBol50ufDHgmARY0uIoskVM3Aevd7JhfeAwP+oXzRqhswEWAy88XfhjgIvCIvrbWeDlpwufD8wbCbfV6/e9RN0NS4Gr3wsckgNefsL/+cDpVGVYxxtLgSU/eR+8PnD+kp3nAz9OVfoqjhv+gPPAn77o7i9/+cvvztQr0G2RiU1b4OVfyWXZW9In3+5NAsNThfbsl+d2aWOLxDCck5RQSAA2TZgKS/OmKsvDQMqB06V7CWSmOrEocNEuYLpFxyu6BoJfDewnKp8EbLbWL40s7NZ0gAtSCh6BAQtUMA9YwaMvqBcC9sQrAANYCcDHgS/b7eVDwNQHpj5wXXeXEbiBVMqlwK7ZPAcYVJP3lPddNYEecFHb4nuARfizwGALP4+EWFj4cIteDhxkIQKHDRFYm+1AjG5HsUDND8xdYG63QXq6kqB/4Zo8vm/F/TYdt/VOp56ttfQdwIQrtGi7R3u9Iu6t+mJgEleKwGFDBD6ZAd9TAN4w2KZNR+BQ1dx5gshWhQ0IAIj3ny9Wa/SNVd0Dtt8E7HlXAK7QVhVi9dXAkrekRYcNEfh0Mn3eUwCO/VhBAI5dOzxBKL5YVBaaPlVUReE3QgucgPpE8D4wWGPs97ToVSr4iPZ4RDx+PXB+HyzAIpz6RmCf0KZbYNXe7jxBgGirqipIUSVpqKmIwLElJ7cfgZEIvwVYgp8EJqyu1l79V4UUgU02GeD1RtECnBALbwRmaKKAIAC3Jz2acAAG+ZQW7UtcfAvrrWwEjlXbr+b+KBpg6Sh6m00fWI8B0+dH0f7/cSvxK9UBTluj6Z+QxkvMvx7430sMTgNDJ+SBCTqJwI2wqWsjvl1g6KaQ9P77prNapbCqEKCoJIJgbdF7Q29IJEfeyIwQCbpZE1h0tRkGJrvCPhj3+2IvkQWOAmv9AOyharH1uQhwuFX75Qzgy1smlxbY3Gu2rj13BJ6e61USRKWsABO2BUzKYgocW3M6ok7m6kGpqlIKkvcRw27CWcGYJcDahGUKHITXAJZcr7IYAzbHJuYReGiUuyZwqFq5sTUfA5babSNrRKG2KgLHNh3a8zCwFduKlE2Bi0xmALtNJi52CMJPA1fHqjr6r2qsgk3w/XJgYwLpdru0gmUoc9KVPhWetmg/JNddk8XA+3WBIyBQcitkVeDrDfg62qL18ai/oUWfTCA91/V5MbBEe9uQwhvrXZulLbpYvUWrW7YqBLYJ8FotGiofrZsVjAAfjTnmBlkC/O83DrJoYJDVQuriBiyPpq9VFSp46SBLsvIgCy+Z4AqDLIo/OyJaK4v4W9DCwyQP/E2HSUrFwySCeJi0C8InwdW7a1VcT/KP11DCzz5Mmn7+CHNZ4TBp383ZPlzVeMomA/yVEx3cPLkBuJmuorL30g993XlZLcynCLxwomOPuBQ4f1Xo3BYtwTWA9/a8MvDzpyol3rSwAC0wNM8GQgdYa121q2t1EuuTLJssnKrcS1YGhrINE99ucXlPMlW5BnC9OvDzTza4AOrKAOzBScA5AldXrWUly7jyyZ9seD7wzMMkedwfDfyp04XcnCsl6J4uLNs2DR44m4nThV8HHKc4tgPAilaq4PNy4Oef8M9fshOrtQO84VDV08D5E/7PB46ajXHmhP8rAD/zkh2TLiOwh3SPl+x4eJwGzl+y83Tg51+ys0+FlwI//6K76Ut2CAYvulMKJoFzF929EPD4RXd/+ctffndmt9CDtVenepl+y35sWiYVyNI1kTZpHu5/+O/TP1hYLnw73ukWXWXzzz/vPqBiFk5FVld9Go2WPymQ7eFTV4W+ALCgQQAkj5nm4f7Vgc3ngSXlx4ElOgNcvVU/G3jjEBULYEmy7gM83P+iwO/vY09wnc3t8a96HPjt7fpzgAH6QM4xkBJAAMXO9QH6978cMNyEYfgJPheZBOBgPAIs2W9+CrBSfSBscztP6qdn3tu0AJTe/0lgY9YGVuom7L83PFbwOZMIXMiX1QPA9q1JweVQXg4Y4AG4SOKBwVfF4TD4+tnPABsdZoOWANfZNN+/vBcxMMDyfbDwWkJEslLGfWCMr9h/DLwccEyuggEUQADu3f/FLXr6bYyUBAIweyVYDmyR0IfQhladAofgjwR2jkERFSiLdh/sDqAicO/+jwObyGq6wDGng8Rp08kd2PiMAd/atKkltHiQVSAVFaItxLjw4DoFjqFHYD5lwp8HjoAe+NAHnDOKVoTNKNmvNw1wycxlAO7dX/pwG7k1dTptGrijdXAHlq+uYwS21tZmDDi0aWdqrJcPspCwsuiViTCOuLrAFIQvkKScmipeATjeL8ADT3CQhBQW7sCsEF17nAuA1LRo/6udAnDv/sa3rq2t62IecCYJsJHqZXaHAw8A11KcRjIKrNpxg5MTTYsHWZ4WiZpXR2F3VB1G0RLVOj8cMn0BsM3mDqzU4GDaj5IpzlQpDO93SKSgBYD0/gaY/JNd14uATTKYHgRmNobFeABYvpslygH7Nl0KsHsvl+6DkSpfwShLkkWMboEvoCSR+GcBP6rwO4v6e9kClI9hAEICWhtYhA9GavAR2GBtBLjGHLA/6cS+hN8XA1sBJmzqOPL6baGCRfjyNgT8A1r0AAuwhMaBSwBAYFi5RTtmNuycGwS22lqTB1bOGePeJbCsRYP1yFaAY4suECQBWNEduFrUol9hkPWYkojlcwIYVgWW+Ap2UsE8AEzSomtrzASwNAABlpQLB1kFEpEtiAKwJYAW2MNe0H/6XGjZIOsFDpMGWjS/I3KJo8B8uVyKy8UuO0zabuLNwcMkbEfRbuAwSW5ZtJPA780gq82SuWj0roQ3X4twy9Rh0o8EBiKlABDHgEUREAysMNGRtFArPAd97iYCS7ZTwOB8hw6B+RMdBQJaRAQq/O1Opic6ztm8wFTl5iHIzMDajgODADOvMlUpwLnMmqpME+emZwKH8RQgFqE1DwIjqB8ArNQ0MJN8oHwlwGkAYZWTDdPAVTZDwHFuetYgKwTRWoR+7icbzlQO5eWApys4zWiL5xXmop8FrOBexPNPFxYIA7lNdIydLnw5YMk6wOUrA//X3t2wJw0DARx/0iAvSu9KomnK9/+g3pXQcF2bNhC3qvzdGDJRfH4mlDSbcRCvPeFvWphsOOH/Bt4W8F141XOwcTBX2LLzBn4e+FwMWAYrgQ8OEoVNd88Dv3v37t9ucakv2fIU8n3ocM883l9+sci45X3VOKSGdkPLj283kXx8sV8fFotp1+V8iHQypk42PD5QIhge37d9qs8F7soDJ/ZV/zlgPXp81h5vHRj4sBLYY3f4Z4C7/gLLAy/vqy4PrGMdPz7UGheAcZL3sAlg3yTyK4GxE2M4G9ingG1qX3V5YB371gMftV4awdp/mJ3Ph40Ag0oEq4C7TmPX2+KTwNDMAY93Xb4EbBRlUsDSNwDbYxLYe9To/Xj4cu4GTL/tSmBYAD6fvwSYrkTafGDLf9Is8EFUHDjly8ANxC7jfXFNP4JRUz7y6sDboe+B+fMoXHc4A+zaNHDXfT4whVp3LwCz8EZGsPRlYPXQDVg+PiZlXzE7c2dEXghhX9yh3q0Abt3ZuSSw1tnA7pLIrQTmbzH4whTd2MYmnoPFvurSwLO+OcA4AHuMw/fHDVgj7naIS1N0YE0Cn7U+ZwPvE60DjnVLwMZkH0VXcl81Z6uG3vOADXXplQwlgCd9M4A9UeKYl28IwJqINfYDl7GDLe4kMIDrgekDzAGj1vg1wGtfJnVdLvB4XzUHFf3E5gErkQCe8s0Bnp6dB2BSoTfmRL7c3Yh3Y+CWcBnY9Npj4DNymkLu/CXA3RKw4b+ryQGe2lcN1S1VFlj65gPL2TkCsyvLUhrD0B2SwCEJHGfnWFdwBFfJ8pYqmdbQZc5SZ5WoJLD0jcC7h/Z82373UAQezc4RmGPSAMwFZQkM5hxy6gG43t1DfW+4qd4acEe9CqzitXLA0jcfWM7OAjgWpui5gyy4DL4CeCyMu+0Cc6VGcMmDLOmbDSxn53lgIkKcBVYQfMsCt8m2B2xhuAq20Msk6ZsLLGdnWdZSJQC0CtpZYB3KAwaVCLYHXNmHa2WApW8usJydk8DLK1msmwAm2+LA12RfAOz9/UoxYOkrgfGhM992ll8ZIWbnPwqMGsOHosC/9ol+feUItlUJ4JQvA+uHuv42+TLRydn5lSmaSwAPrnnAx2QbBL4/C6sypwulbz6wibPzHwSWZQFXybYI3BMTchlglL75wGF2fgMXBOZKAQvfp4D72fkNvH3gb88BM++Wgd+9e/c3dxrSQz+Hlr/CvBpCHULx3WQ92PhJWU2f/5EsHuVrpIMZXR9ly/dP76te3vBQzXXl/24560t3bEj8+d+SLX1+C8D8F2ukcHngZub+iX3V2cAS9+BaUJAB7Ksh/48BV6CsEC4P7GeEE/uq84ElLrUG2Mr1GfkTuzHgun4OuGmO/Pk/COz8LLDcV/0CsMSF1lzbNSPY2kBq6ar3nj4EYWs3NYJrc+HqbGDONo2t8M8BGzd9/8SuzExgOXKduVKwBjjgUr7yCpQCG27b1hRtLiGTDcwpiL+iNLD3Zr933k8DH0T5wBKXc7+ufW71c7BnUvpBuvwGnm7a2HMw+4ZMAhhxBtj6ygbh0sCNNwRsnG/Wj2ALa4ElLtcG31qtBua/PuUVABP3wh+Btf464PrykJkBRiKrGVkCh7xqgrAAdsnoICV0A0YrI2CuOcxM0XP7qv0ADKkI8CpwKTDXXtjx9eX7hydgALrwwLEvAVsJzHUaPwBWx0RVMWBzeWwGuK7xdKLLaWDLwBWOgc1lyAGQqfinFE8G3IBH4fAc7GeB5b7qUcvfUR3UqNY5GtRkTFzt+P6gZAOwVWH0gmLiKWDsvnX0Llo621cM+CKqp4HxxCP4hNPAx8pWnoVngQF6ZieBhwgYRw3Afg54vK/6ZWAWqmkA/5oChraFGWASbqCvUXTVfgTWhLttYN0P31qPgGMgZ+kxsHLsq5R7BDaHRGZpoWNiX3UMngEGAnaGl7F4LI7u3yK2MA3sgbMWQnfg/RDtBtp3uBdtDLhOA8dVy5LAySa/094AbJ8AvgHSAK4n/n9hBlZ5wKdQXfeX+iTaGDCeKJwFjquW5abofGCrXpiiAW7A5nrlj5AxRYOCUD/PfwDWLIx1OeDyB1kaeQQngcOqZbGDrHxgLh9YTsKg0ICaAGa5GeDKAyhG5jcFfgCOwkgGBYHLv0xislrrBHBctYzAjzlnZMsvk3yyBLB/8mVSCy2GmTjjZVLlrVLQAMW8qhoB1/yOKH0Z2CbbzkIHJ1ctA/Au2fJCB+pE+PgyjZeBY88udADhOnpHhNULHcGYV6IBRgsdcfz2fQDGZNtZquTEqmUZ4IwpGhQfw7++VAlIuZahspcqKd/P03zT+CALTzUP4izgzZxsCIlVy88dwVZRtipysqFt0Sku92QDBcpDE24LwKI6C3gjpwtjYtWyAHDGczAJ02Wh04WhrNOF/EZFcGsDsCgLeCMn/GNi1fJzp2ieIocsbOWE/z8JfF+1/ExgmYetbNn5J4HDqiX16cCb23T3IvC7/7zf0gcKKmnEr54AAAAASUVORK5CYII=");function l(e){var t,n=(0,r.q7)(i,e);return void 0===n?null:(s.has(e)||s.set(e,(0,o.ZP)(a).withConfig({displayName:"FlagsMap",componentId:"sc-t7k1v-1"})(["&{background-position:","px ","px;}"],n.x/2,n.y/2)),null!==(t=s.get(e))&&void 0!==t?t:null)}},"./src/utils/FluxStoreExtended.ts":(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),s=n("./node_modules/@babel/runtime/helpers/esm/get.js"),a=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=n("./node_modules/flux/lib/FluxStore.js"),p=n.n(d),m=n("./node_modules/lodash/noop.js"),h=n.n(m),f=n("./src/utils/log.js");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var v=function(e){(0,a.Z)(n,e);var t=g(n);function n(e,r){var s;if((0,o.Z)(this,n),s=t.call(this,r),(0,u.Z)((0,i.Z)(s),"shortName",void 0),!e)throw new Error("shortName must be provided");return s.shortName=e,s}return(0,r.Z)(n,[{key:"addListener",value:function(e,t){return e||f.Z.error({message:"flux-store-listener-not-defined",storeName:this.shortName,stack:(new Error).stack,calleeIdentifier:t}),(0,s.Z)((0,c.Z)(n.prototype),"addListener",this).call(this,e||h())}}]),n}(p())},"./src/utils/TranslationProvider.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),r=n("webpack/sharing/consume/default/react/react"),i=n.n(r),s=n("./src/utils/withTranslations.tsx"),a=n("./src/lib/Strings.js");const l=function(e){var t=e.language,n=e.children,l=(0,r.useState)(a.ZP.getLoadedLanguage()),c=(0,o.Z)(l,2),u=c[0],d=c[1];(0,r.useEffect)((function(){a.ZP.setLanguage(t).then(()}),[t]);var p=(0,r.useMemo)((function(){return{getString:function(){return a.ZP.getString.apply(a.ZP,arguments)},stringExists:}),[u]);return i().createElement(s.O.Provider,{value:p},n)}},"./src/utils/billing.ts":(e,t,n)=>{"use strict";n.d(t,{I:()=>f});var o,r=n("./src/stores/UserStore.js"),i=n("./src/stores/PerformerStore.ts"),s=n("./src/stores/GoldShowStore.js"),a=n("./src/lib/Dispatcher.js"),l=n("./src/utils/log.js"),c=n("./src/utils/tools.ts"),u=n("./src/constants/Actions.js"),d=n("./src/constants/Messages.js"),p=n("./src/constants/NaiadSessionType.js");!o||(o={}));var m=function(e){var t=e.owedAmount,n=e.userType,r=e.isNonBillable,i=e.redirectToConfirm;return e.twoFactorAuthenticationRequired?o.TWO_FACTOR_AUTHENTICATION_REQUIRED:n===p.Z.PREVIEW?o.REQUIRE_AUTH:n===p.Z.BASIC?o.NON_PREMIUM_USER:n===p.Z.EXTERNAL?o.REQUIRE_AUTH:r?o.NON_BILLABLE_USER:i?o.REDIRECT_TO_CONFIRM:-9===t?o.NO_SERVICES:t>0?o.PAYOFF:o.NONE},h=function(e,t){var n=t.userType,r=t.owedString,p=t.givingGold,m=void 0!==p&&p;switch(e){case o.TWO_FACTOR_AUTHENTICATION_REQUIRED:(0,a._)({type:u.Z.OPEN_TWO_FACTOR_AUTHENTICATION_REQUIRED_MODAL});break;case o.REQUIRE_AUTH:l.Z.usage("requires_auth",n),(0,c.Vj)(d.Z.REQUIRES_AUTH,{userType:n});break;case o.NON_PREMIUM_USER:l.Z.usage("user_nonpremium",n),(0,c.Vj)(d.Z.NONPREMIUM_USER,{});break;case o.NON_BILLABLE_USER:l.Z.usage("user_nonbillable",n),(0,c.Vj)(d.Z.NONBILLABLE_USER,{});break;case o.REDIRECT_TO_CONFIRM:!function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l.Z.usage("user_redirect_confirm");var t=i.Z.getState(),n=t.id,o={pid:n};s.Z.isActive()?o.gs=1:e&&(o.gg=1),(0,c.Vj)(d.Z.CONFIRM,o)}(m);break;case o.NO_SERVICES:(0,a._)({type:u.Z.SHOW_NO_SERVICES_MODAL});break;case o.PAYOFF:(0,a._)({type:u.Z.SHOW_PAYOFF_MODAL,data:{owedString:r}});break;default:return}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.performAction,n=void 0===t||t,i=e.givingGold,s=void 0!==i&&i,a=r.Z.getState(),l=a.owedAmount,c=a.owedString,u=a.userType,d=a.isNonBillable,p=a.redirectToConfirm,f=a.twoFactorAuthenticationRequired,g=m({owedAmount:l,userType:u,isNonBillable:d,redirectToConfirm:p,twoFactorAuthenticationRequired:f});return n&&h(g,{userType:u,owedString:c,givingGold:s}),g===o.NONE}},"./src/utils/complaint.ts":(e,t,n)=>{"use strict";n.d(t,{Y:()=>u,f:()=>d});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("./node_modules/@atg/contentreview/index.js"),i=n("./src/utils/log.js"),s=n("./src/stores/PerformerStore.ts"),a=n("./src/stores/ConnectionStore.js"),l=n("./src/stores/VideoControlsStore.js"),c=n("./src/constants/Feature.ts"),u=function(e,t){if(e===r.ContentType.LiveStream){var n,c,u,d,p=a.Z.getState().performerStreamId;if(!p)return void i.Z.warn("complaint-getdefaultlookupdata-missing-performerstreamid");var m,h=null===(n=l.Z.getState().manifestData.formats)||void 0===n||null===(c=n["mp4-hls"])||void 0===c||null===(u=c.encodings)||void 0===u||null===(d=u[0])||void 0===d?void 0:d.videoPts;return h?(m={},(0,o.Z)(m,r.LookupDataKey.PerformerStreamId,String(p)),(0,o.Z)(m,r.LookupDataKey.VideoPts,String(h)),m):(0,o.Z)({},r.LookupDataKey.PerformerStreamId,String(p))}if(e===r.ContentType.BioPic){var f=s.Z.getState().bioPicLargeUserMediaId;return f?(0,o.Z)({},r.LookupDataKey.UserMediaId,String(f)):void i.Z.debug("complaint-getdefaultlookupdata-missing-biopiclargeusermediaid")}if(e===r.ContentType.Photo){var g=t.photoid,v=t.mediaId;return v||g?(0,o.Z)({},r.LookupDataKey.MediaId,g?String(g):v):void i.Z.debug("complaint-getdefaultlookupdata-missing-photoid")}},d=function(e){var t=e.typeAttributes;return t.includes(r.ContentType.LiveStream)?c.ZP.REPORT_CONTENT_LIVE_STREAM:t.includes(r.ContentType.BioPic)?c.ZP.REPORT_CONTENT_BIO_PIC:t.includes(r.ContentType.Photo)?c.ZP.REPORT_CONTENT_PHOTO:void 0}},"./src/utils/createAsyncComponent.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),i=n("./node_modules/@babel/runtime/regenerator/index.js"),s=n.n(i),a=n("webpack/sharing/consume/default/react/react"),l=n.n(a),c=n("./src/components/common/Spinner.tsx"),u=n("./src/utils/tools.ts"),d=n("./src/utils/log.js"),p=n("./src/constants/Globals.js");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){return 1e3*(Math.max(0,Math.pow(2,e)-1)+Math.random())},g=function(){var e=(0,r.Z)(s().mark(());return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(s().mark((function e(t){var n,o,r,i,a,l,c,u,d=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d.length>1&&void 0!==d[1]?d[1]:{},o=n.maxRetries,r=void 0===o?3:o,i=n.useExponentialBackoffDelay,a=void 0!==i&&i,c=0;case 3:if(!(c<r+1)){e.next=21;break}return e.prev=4,e.next=7,t();case 7:return e.abrupt("return",e.sent);case 10:if(e.prev=10,e.t0=e.catch(4),l=e.t0,!1!==(null===(u=n.rejectionHandler)||void 0===u?void 0:u.call(n,e.t0,c))){e.next=15;break}throw l;case 15:if(!(a&&c<r)){e.next=18;break}return e.next=18,g(f(c));case 18:++c,e.next=3;break;case 21:throw l;case 22:case"end":return e.stop()}}),e,null,[[4,10]])})));return ();const _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fallback,o=void 0===n?l().createElement(c.Z,null):n,r=t.displayName,i=(0,a.lazy)((function(){return v(e,{useExponentialBackoffDelay:!0}).then(().catch((function(e){p.Z.DEBUG,d.Z.error({message:"chunk-load-failed",error:(0,u.qq)(e)})}))})),s=function(e){return l().createElement(a.Suspense,{fallback:o},l().createElement(i,h({},e)))};return r&&(s.displayName="".concat(r,"Async")),s}},"./src/utils/forPlatforms.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("./node_modules/@babel/runtime/helpers/esm/typeof.js"),i=n("webpack/sharing/consume/default/react/react"),s=n.n(i),a=n("./node_modules/prop-types/index.js"),l=n.n(a),c=n("./src/constants/Platforms.ts"),u=n("./src/constants/Globals.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){if("object"!==(0,r.Z)(e))throw new Error("config is not an object.");if(void 0===e.include&&void 0===e.exclude)throw new Error("config does not have an include or exclude.");if(void 0!==e.include&&void 0!==e.exclude)throw new Error("config cannot have both include and exclude defined.");return Object.keys(e).forEach((function(t){return function(t){var n=e[t];if(void 0!==n){if(!Array.isArray(n)||0===n.length)throw new Error("".concat(t," is not an array or is empty."));var o=n.filter(();if(o.length>0)throw new Error("Invalid platforms provided: ".concat(o.join(", ")))}}(t)})),function(t){if(!t)throw new Error("InnerComponent is not defined.");var n=function(n,r){if(!u.Z.DEBUG||r.platform!==c.ZP.UNKNOWN){if(e.exclude&&e.exclude.includes(r.platform))return null;if(e.include&&!e.include.includes(r.platform))return null}return s().createElement(t,{},n))},r=t.displayName||t.name||t.constructor.name;return n.displayName="forPlatforms(".concat(r,")"),n.contextTypes={platform:l().oneOf(Object.values(c.ZP)).isRequired},n}}},"./src/utils/goldMenu.ts":(e,t,n)=>{"use strict";n.d(t,{A:()=>p,o:()=>m});var o=n("./src/stores/ConnectionStore.js"),r=n("./src/stores/OverlayStore.js"),i=n("./src/stores/GoldMenuStore.ts"),s=n("./src/stores/GoldShowStore.js"),a=n("./src/stores/ModalStore.js"),l=n("./src/stores/PerformerStore.ts"),c=n("./src/stores/UserStore.js"),u=n("./src/constants/Connection.js"),d=n("./src/constants/Platforms.ts"),p=[o.Z,s.Z,a.Z,r.Z,l.Z],m=function(){var e=o.Z.getState(),t=e.started,n=e.clientState,p=e.goldOnly,m=i.Z.getState(),h=m.goldMenuItems,f=m.goldOnlyGoldMenuItems,g=a.Z.getState(),v=g.modal,_=g.goldPending,y=r.Z.getState().overlay,b=l.Z.getState().onBreak,S=l.Z.getState().platform===d.ZP.STREAMFANS,E=c.Z.getState().goldMenuDisabled,C=Boolean((p?f:h).length),Z=n===u.ZP.PLAYING||n===u.ZP.PAUSED&&!b;return{visible:C&&o.Z.isGuestStream()&&!s.Z.isActive()&&!y&&!E&&!S,enabled:Z&&!_&&!v&&t}}},"./src/utils/messenger.ts":(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var o=n("./src/stores/UserStore.js"),r=n("./src/stores/PerformerStore.ts"),i=n("./src/utils/log.js"),s=n("./src/utils/tools.ts"),a=n("./src/constants/Messages.js"),l=function(){if(i.Z.usageTick("private_message_me_clicked"),o.Z.isLoggedIn()){var e=r.Z.getState(),t=e.id,n=e.nickname;(0,s.Vj)(a.Z.MESSENGER_CONVERSATION,{nickname:n,performerid:t})}else(0,s.Vj)(a.Z.REQUIRES_AUTH)}},"./src/utils/spinGold.ts":(e,t,n)=>{"use strict";n.d(t,{Y:()=>d,_:()=>p});var o=n("./src/stores/ConnectionStore.js"),r=n("./src/stores/OverlayStore.js"),i=n("./src/stores/GoldShowStore.js"),s=n("./src/stores/ModalStore.js"),a=n("./src/stores/PerformerStore.ts"),l=n("./src/stores/SpinGoldStore.ts"),c=n("./src/constants/Connection.js"),u=n("./src/constants/Platforms.ts"),d=[o.Z,i.Z,s.Z,r.Z,a.Z,l.ZP],p=function(){var e=o.Z.getState(),t=e.started,n=e.clientState,d=a.Z.getState().onBreak,p=a.Z.getState().platform===u.ZP.STREAMFANS,m=s.Z.getState(),h=m.modal,f=m.goldPending,g=r.Z.getState().overlay,v=l.ZP.getState().isEnabled,_=n===c.ZP.PLAYING||n===c.ZP.PAUSED&&!d;return{isVisible:v&&o.Z.isGuestStream()&&!i.Z.isActive()&&!g&&!p,isEnabled:_&&!f&&!h&&t}}},"./src/utils/tools.ts":(e,t,n)=>{"use strict";n.d(t,{HS:()=>f,Jl:()=>_,Vj:()=>h,q7:()=>E,qq:()=>y,rT:()=>S,rv:()=>m,sh:()=>b,t7:()=>v,uZ:()=>g});var o=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),r=n("./node_modules/@babel/runtime/regenerator/index.js"),i=n.n(r),s=n("./src/utils/log.js"),a=n("./src/lib/Dispatcher.js"),l=n("./src/constants/Actions.js"),c=n("./src/constants/Messages.js"),u=n("./src/constants/NotificationConstants.js"),d=n("./src/constants/RewardsConstants.ts"),p=n("./src/constants/DisconnectReasons.js"),m=function(e,t){if(!t||!Object.keys(t).length)return e;var n=-1===e.indexOf("?")?"?":"&";return e+n+Object.keys(t).map((function(e){return null===t[e]||void 0===t[e]?"":encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).filter((function(e){return e})).join("&").replace(/^&|&$/g,"")},h=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r,m=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.length>1&&void 0!==m[1]?m[1]:{},t){e.next=4;break}return s.Z.error({message:"post-message-to-parent-without-event-name",data:n}),e.abrupt("return");case 4:o={name:t,data:n},r=[c.Z.CONFIRM,c.Z.ENTERED_EXCLUSIVE,c.Z.ENTERED_PRIVATE,c.Z.REFRESH,c.Z.SWITCH_PERFORMER,c.Z.ENABLE_SCRIM,c.Z.DISABLE_SCRIM,c.Z.ENTER_FULLSCREEN,u.Z.REQUEST_USER_SUBSCRIPTION_STATUS,d.dS],r.some((function(e){return t===e}))||setTimeout((function(){return a.Z.dispatch({type:l.Z.EXIT_FULLSCREEN})})),e.t0=t,e.next=e.t0===c.Z.SWITCH_PERFORMER?11:e.t0===c.Z.REQUIRES_AUTH?14:e.t0===c.Z.BROWSE_LIVE_MODELS?16:18;break;case 11:return setTimeout((function(){return a.Z.dispatch({type:l.Z.BROWSER_MAY_CLOSE,data:[p.Z.NEW_PERFORMER,"The user clicked a similar model"]})})),setTimeout((function(){return a.Z.dispatch({type:l.Z.DISCONNECT,data:[p.Z.NEW_PERFORMER,"The user clicked a similar model"]})})),e.abrupt("break",19);case 14:return setTimeout((function(){return a.Z.dispatch({type:l.Z.BROWSER_MAY_CLOSE,data:[p.Z.REDIRECT,"The user needs to login"]})})),e.abrupt("break",19);case 16:return setTimeout((function(){return a.Z.dispatch({type:l.Z.BROWSER_MAY_CLOSE,data:[p.Z.REDIRECT,"The user clicked browse models"]})})),e.abrupt("break",19);case 18:return e.abrupt("break",19);case 19:s.Z.info({message:"post-message-to-parent",eventName:t,eventData:n}),window.parent&&"function"==typeof window.parent.postMessage?window.parent.postMessage(o,"*"):window.postMessage(o,"*");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){e.preventDefault(),a.Z.dispatch({type:l.Z.CLOSE_MODAL})},g=v=_=function(e){return{name:e.name,message:e.message}},y=b=function(){try{var e;return null!==(e=window.top)&&void 0!==e&&e.location.href?window.top.location.href:"UNKNOWN"}catch(e){return document.referrer?document.referrer:"UNKNOWN"}};function S(e,t){return e[t]},"./src/utils/withActions.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),s=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("webpack/sharing/consume/default/react/react"),u=n.n(c);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,a.Z)(e);if(t){var r=(0,a.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function h(e){return function(t){var n=t.displayName||t.name||t.constructor.name,s=function(n){(0,i.Z)(a,n);var s=m(a);function a(){return(0,o.Z)(this,a),s.apply(this,arguments)}return(0,r.Z)(a,[{key:"render",value:function(){var n=this.props,o=e(n),r=p(p({},n),o);return u().createElement(t,p({},r))}}]),a}(c.PureComponent);return(0,l.Z)(s,"displayName","withActions(".concat(n,")")),s}}},"./src/utils/withErrorBoundary.tsx":(e,t,n)=>{"use strict";n.d(t,{S:()=>y,Z:()=>S});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),s=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=n("webpack/sharing/consume/default/react/react"),d=n.n(u),p=n("./node_modules/prop-types/index.js"),m=n.n(p),h=n("./src/utils/log.js"),f=n("./src/utils/tools.ts");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,a.Z)(this,n)}}var _=function(e,t,n){var o=e.replace(/[^0-9A-Za-z_-]/,"").toLowerCase();h.Z.error({message:"uncaught-exception-error-boundary",boundary:o,error:(0,f.qq)(t),info:n},{unique:!0})&&(h.Z.statsIncCounter("session.error.uncaughtException.".concat(o)),h.Z.send())},y=function(e){(0,s.Z)(n,e);var t=v(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),(0,c.Z)((0,i.Z)(e),"state",{hasError:!1}),e}return(0,r.Z)(n,[{key:"componentDidCatch",value:function(e,t){var n=this.props.name;_(n,e,t)}},{key:"render",value:function(){var e=this.props,t=e.fallback,n=e.children;return this.state.hasError?t||null:n}}],[{key:"getDerivedStateFromError",value:]),n}(u.Component);function b(e,t){if("string"!=typeof t)throw new Error("boundaryName needs to be provided as a string.");return function(n){(0,s.Z)(l,n);var a=v(l);eturn(0,r.Z)(l,[{key:"componentDidCatch",value:function(e,n){_(t,e,n),this.setState({hasError:!0})}},{key:"render",value:function(){return d().createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props))}}]),l}(u.Component)}b.propTypes={children:m().node.isRequired};const S=b},"./src/utils/withStores.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),s=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=n("webpack/sharing/consume/default/react/react"),d=n.n(u),p=n("./node_modules/prop-types/index.js"),m=n.n(p);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,a.Z)(this,n)}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){return e.reduce((function(e,t){var n=t.getState();if(!n)throw new Error("No state from store: ".concat(t.constructor.name,", getState method: ").concat(t.getState.name));return g(g({},e),{},(0,c.Z)({},t.shortName,n))}),{})}var _=function(e){(0,s.Z)(n,e);var t=h(n);function n(e){var r;return(0,o.Z)(this,n),r=t.call(this,e),(0,c.Z)((0,i.Z)(r),"storeState",void 0),(0,c.Z)((0,i.Z)(r),"stateDirtyToggle",void 0),(0,c.Z)((0,i.Z)(r),"tokens",void 0),(0,c.Z)((0,i.Z)(r),"handleStoreUpdate",(function(){r.refreshStores()})),r.state={storeDataDirtyToggle:!1},r.storeState=v(e.stores),r.stateDirtyToggle=!1,r.tokens=[],r}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.tokens=this.props.stores.map((),this.handleStoreUpdate()}},{key:"componentWillUnmount",value:function(){this.tokens.forEach((function(e){return e.remove()}))}},{key:"refreshStores",value:,{key:"render",value:function(){return this.stateDirtyToggle!==this.state.storeDataDirtyToggle&&(this.storeState=v(this.props.stores),this.stateDirtyToggle=this.state.storeDataDirtyToggle),this.props.children(this.storeState)}}]),n}(u.Component);function y(e){var t=d().memo(e),n=e.displayName||e.name||e.constructor.name;return t.displayName=n,t}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{memoize:!1},a=n.memoize,l=void 0!==a&&a;if(!Array.isArray(e))throw new Error("stores is not an array");if(0===e.length)throw new Error("No stores provided.");if(e.some(())throw new Error("Some stores provided are not defined.");if("function"!=typeof t)throw new Error("mapStateToProps is not a function");return function(n){var a=n.displayName||n.name||n.constructor.name,u=function(u){(0,s.Z)(m,u);var p=h(m);eturn(0,r.Z)(m,[{key:"refreshStores",value:,{key:"render",value:function(){var o=this,r=l?y(n):n;return d().createElement(_,{stores:e,innerComponentName:a,ref:function(e){o.connector=e}},(function(e){var n=o.props,i=t(e,n),s=g(g({},n),i);return d().createElement(r,g({},s))}))}}]),m}(d().PureComponent);return(0,c.Z)(u,"displayName","withStores(".concat(a,")")),u}}b.propTypes={children:m().node.isRequired}},"./src/utils/withTranslations.tsx":(e,t,n)=>{"use strict";n.d(t,{O:()=>h,Z:()=>f});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),s=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("webpack/sharing/consume/default/react/react"),u=n.n(c);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,a.Z)(e);if(t){var r=(0,a.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}var h=u().createContext({getString:function(){return""},stringExists:);function f(){return function(e){var t=e.displayName||e.name||e.constructor.name,n=function(t){(0,i.Z)(s,t);var n=m(s);function s(){return(0,o.Z)(this,s),n.apply(this,arguments)}return(0,r.Z)(s,[{key:"render",value:function(){var t=this;return u().createElement(h.Consumer,null,(function(n){var o={t:n.getString,stringExists:n.stringExists},r=p(p({},t.props),o);return u().createElement(e,p({},r))}))}}]),s}(c.PureComponent);return(0,l.Z)(n,"displayName","withTranslations(".concat(t,")")),n}}},"./src/components/CtaContainer.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>$t});var o,r,i=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),s=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),l=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),c=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),p=n("webpack/sharing/consume/default/react/react"),m=n.n(p),h=n("./node_modules/prop-types/index.js"),f=n.n(h),g=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),v=n("./node_modules/styled-components-rtl/index.js"),_=n("./src/lib/Dispatcher.js"),y=n("./src/constants/Actions.js"),b=n("./src/constants/Connection.js"),S=n("./src/constants/LayoutConstants.ts"),E=n("./src/constants/Platforms.ts"),C=n("./src/constants/ComplaintConstants.ts"),Z=n("./src/constants/NaiadSessionType.js"),P=n("./src/stores/ModalStore.js"),O=n("./src/stores/GoldShowStore.js"),T=n("./src/stores/ConnectionStore.js"),I=n("./src/stores/UserStore.js"),w=n("./src/stores/UserListStore.ts"),A=n("./src/stores/PerformerStore.ts"),R=n("./src/stores/LayoutStore.js"),k=n("./src/components/videoclient/store/cam2cam/Cam2CamStore.ts"),D=n("./src/components/videoclient/store/videoClient/VideoClientStore.ts"),L=n("./src/stores/RateStore.js"),N=n("./src/components/GiveGoldButton.js"),x=n("./src/components/common/CreateAccountButton.tsx"),j=n("./src/components/common/GoPrivateButton.js"),M=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),B=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),U=n("./node_modules/icf-react-components/components/FlatButton/index.js"),G=n.n(U),V=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),F=n.n(V),H=n("./src/lib/Strings.js"),Y=n("./src/components/section/TabsContainer.js");function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var z=g.ZP.div.withConfig({displayName:"ToggleChatButton__Container",componentId:"sc-wr03s0-0"})(["overflow:visible;position:relative;"]),q=g.ZP.div.withConfig({displayName:"ToggleChatButton__FullscreenTabsContainer",componentId:"sc-wr03s0-1"})(["display:flex;flex-flow:column;width:316px;background:rgba(33,33,33,0.7);padding:0;margin:0;overflow:hidden;position:absolute;height:600px;max-height:",";bottom:58px;z-index:2;opacity:",";transform:translateY(","px);visibility:",";pointer-events:",";transition-property:transform,opacity,visibility;transition-duration:0.3s,0.3s,0.3s;transition-timing-function:ease,ease,ease;"],(,(function(e){return e.open?1:0}),(function(e){return e.open?0:50}),(function(e){return e.open?"visible":"hidden"}),(function(e){return e.open?"auto":"none"})),K=(0,g.ZP)(G()).withConfig({displayName:"ToggleChatButton__StyledButton",componentId:"sc-wr03s0-2"})(["display:flex;flex-flow:row nowrap;align-items:center;position:relative;margin-top:0;margin-bottom:0;flex:1;opacity:1;min-width:316px;height:40px;"," justify-content:space-between;"],(0,v.Z)(o||(o=(0,d.Z)(["\n    margin: 0 5px 0 0;\n  "])))),X=(0,g.ZP)(F()).withConfig({displayName:"ToggleChatButton__Icon",componentId:"sc-wr03s0-3"})(["position:absolute;top:50%;"," transform:translateY(-50%);"],(0,v.Z)(r||(r=(0,d.Z)(["\n    right: 8px;\n  "])))),Q=function(e){(0,l.Z)(n,e);var t=W(n);function n(e){var o;return(0,s.Z)(this,n),o=t.call(this,e),(0,B.Z)((0,M.Z)(o),"toggleOpen",(function(){var e=!o.state.open;o.setState({open:e}),o.context.layout===S.ZP.DESKTOP&&e&&setTimeout((function(){var e;null===(e=o.context.document.querySelector('input[data-ta-locator="ChatForm__Input"]'))||void 0===e||e.focus()}),50)})),o.state={open:!1},o}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.state.open,t=this.context,n=t.platform,o=t.layout,r=e?"arrowDropDown":"arrowDropUp",s=H.ZP.getString(e?"close_live_chat":"open_live_chat"),a=R.ZP.getState(),l=a.ctaContainerHeight,c=a.videoViewportHeight,u=o===S.ZP.TABLET,d=c-20-l,p=n===E.ZP.STREAMFANS,h=n===E.ZP.BLACKLABEL||n===E.ZP.EXTERNAL_SITE_SHOW||p;return(0,i.Z)(z,{},void 0,m().createElement(q,{open:e,chatMaxHeight:d},(0,i.Z)(Y.Z,{isDesktop:!0,isTransparent:!0,isFullscreen:!0,isTablet:u,hideSimilarModels:h,hideTags:h,hideVideoStoreLink:h,hideBio:p,hidePhotos:p})),(0,i.Z)(K,{"data-ta-locator":"CtaContainer__toggleChat",label:s,ghost:!0,onClick:this.toggleOpen},void 0,(0,i.Z)(X,{name:r})))}}]),n}(p.Component);Q.propTypes={style:f().object},Q.defaultProps={style:{}},Q.contextTypes={layout:f().string,platform:f().oneOf(Object.values(E.ZP)).isRequired,document:f().any};const J=Q;var $=n("./src/utils/withStores.tsx"),ee=n("./src/components/common/Tooltip.tsx"),te=n("./src/components/video/VideoControlsIconButton.js"),ne=n("./src/components/common/ColoredSlider.js"),oe=n("./src/components/videoclient/store/videoClient/VideoClientConstants.ts"),re=n("./src/stores/EnableAudioStore.ts"),ie=n("./node_modules/lscache/lscache.js"),se=n.n(ie),ae=g.ZP.div.withConfig({displayName:"VolumeControlsLively__SliderBackground",componentId:"sc-jexcje-0"})(["position:relative;width:30px;height:100%;background:",";display:flex;align-items:center;justify-content:center;"],S.O9.darkerGray),le=g.ZP.div.withConfig({displayName:"VolumeControlsLively__SoundContainer",componentId:"sc-jexcje-1"})(["position:relative;margin:-10px;padding:10px;"]),ce=g.ZP.div.withConfig({displayName:"VolumeControlsLively__SliderContainer",componentId:"sc-jexcje-2"})(["position:absolute;height:150px;max-height:0;transition:max-height 0.2s 0.5s;overflow:hidden;bottom:45px;z-index:200;transform:rotate(180deg);",":hover &{max-height:100px;transition:max-height 0.2s;}",":active &{max-height:100px;transition:max-height 0.2s;}"],le,le);const ue=(0,$.Z)([re.Z,D.Z],(function(e){var t=e.enableAudio,n=e.videoClient;return{audioPlaying:t.audioPlaying,player:n.player}}))((function(e){var t=e.audioPlaying,n=e.player,o=e.showTooltip;(0,p.useEffect)((function(){var e=se().get("hybrid_client_volume");t&&n&&!0===n.localAudioMuted&&!0!==n.localVideoPaused&&"muted"!==e&&setTimeout((function(){_.Z.dispatch({type:oe.Z.LIVELY_VIDEO_UPDATE_VOLUME,data:{level:null!=e?e:.75}})}),0)}),[t,null==n?void 0:n.localVideoPaused]);var r="";return o&&n&&(r=n.localAudioMuted?H.ZP.getString("unmute_audio"):H.ZP.getString("mute_audio")),m().createElement(le,null,m().createElement(ee.Z,{title:r},m().createElement("div",{onClick:function(){return function(){if(null!=n&&n.localAudioMuted){var e=se().get("hybrid_client_volume");setTimeout((function(){_.Z.dispatch({type:oe.Z.LIVELY_VIDEO_UPDATE_VOLUME,data:{level:"muted"!==e?e:.75}})}),0)}else setTimeout((function(){_.Z.dispatch({type:oe.Z.LIVELY_VIDEO_UPDATE_VOLUME,data:{level:"muted"}})}),0)}()}},m().createElement(te.Z,{"data-ta-locator":"VolumeControls__muteButton",icon:0!==(null==n?void 0:n.localAudioVolume)&&t?null!=n&&n.localAudioVolume&&n.localAudioVolume<.5?"volumeDown":"volumeUp":"volumeMute"}))),m().createElement(ce,null,m().createElement(ae,null,m().createElement(ne.Z,{onChange:function(e){var t;(t=Number(e.toFixed(2)))!==(null==n?void 0:n.localAudioVolume)&&setTimeout((function(){_.Z.dispatch({type:oe.Z.LIVELY_VIDEO_UPDATE_VOLUME,data:{level:t}})}),0)},value:null==n?void 0:n.localAudioVolume,orientation:"vertical"}))))}));var de=n("./src/utils/log.js"),pe=function(){de.Z.usageTick("refresh_clicked"),de.Z.statsIncCounter("video.refresh.clicked"),_.Z.dispatch({type:y.Z.VIDEO_REFRESH,data:{shouldRefresh:!0}})},me=function(e){return(0,i.Z)(ee.Z,{title:H.ZP.getString("refresh")},void 0,(0,i.Z)(te.Z,{"data-ta-locator":"VideoControls__refreshButton",onClick:pe,icon:"refresh",isAvailable:e.isAvailable}))};me.propTypes={isAvailable:f().bool},me.defaultProps={isAvailable:!0};const he=me;var fe=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),ge=n("./src/constants/Messages.js"),ve=n("./src/utils/tools.ts");function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var ye,be,Se,Ee=(0,g.F4)(["0%{}50%{transform:scale(1.75);fill:white;}100%{}"]),Ce=function(e){(0,l.Z)(n,e);var t=_e(n);function n(e,o){var r;return(0,s.Z)(this,n),r=t.call(this,e,o),(0,B.Z)((0,M.Z)(r),"isFullscreenSupported",(function(){return Boolean(R.ZP.getFullscreenElement())})),(0,B.Z)((0,M.Z)(r),"handleFullscreenChange",(function(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e&&(0,ve.Vj)(ge.Z.ENTER_FULLSCREEN),e||(r.state.fullscreen&&r.handleFullscreenClick(),(0,ve.Vj)(ge.Z.EXIT_FULLSCREEN))})),(0,B.Z)((0,M.Z)(r),"handleLayoutStoreUpdate",(function(){var e=R.ZP.getState().fullscreen,t=r.isFullscreenSupported();r.setState({fullscreen:e,isSupported:t})})),(0,B.Z)((0,M.Z)(r),"handleFullscreenClick",(function(){if(r.state.isSupported){var e=r.state.fullscreen?y.Z.EXIT_FULLSCREEN:y.Z.ENTER_FULLSCREEN;de.Z.usageTick("video_fullscreen_".concat(r.state.fullscreen?"exit":"enter")),_.Z.dispatch({type:e,data:{}})}})),r.state={fullscreen:R.ZP.getState().fullscreen,isSupported:r.isFullscreenSupported()},r}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.layoutToken=R.ZP.addListener(this.handleLayoutStoreUpdate),document.addEventListener("fullscreenchange",this.handleFullscreenChange),document.addEventListener("webkitfullscreenchange",this.handleFullscreenChange),document.addEventListener("mozfullscreenchange",this.handleFullscreenChange),document.addEventListener("MSFullscreenChange",this.handleFullscreenChange)}},{key:"componentWillUnmount",value:function(){this.layoutToken.remove(),document.removeEventListener("fullscreenchange",this.handleFullscreenChange),document.removeEventListener("webkitfullscreenchange",this.handleFullscreenChange),document.removeEventListener("mozfullscreenchange",this.handleFullscreenChange),document.removeEventListener("MSFullscreenChange",this.handleFullscreenChange)}},{key:"render",value:function(){var e,t,n;return this.state.isSupported?this.state.fullscreen?(e=H.ZP.getString("video_exit_fullscreen"),t="fullscreenExit"):(e=H.ZP.getString("video_enter_fullscreen"),t="fullscreen"):(e=H.ZP.getString("fullscreen_not_supported"),t="fullscreen"),n=this.state.isSupported?(0,g.iv)(["animation-name:",";animation-duration:0.5s;animation-iteration-count:3;animation-timing-function:ease;animation-delay:2s;"],Ee):"\n        opacity: ".concat(te.V,";\n        cursor: default;\n\n        &:hover {\n          fill: #9e9e9e;\n        }\n      "),(0,i.Z)(ee.Z,{title:e},void 0,m().createElement(te.Z,(0,fe.Z)({"data-ta-locator":"VideoControls__fullscreenButton",onClick:this.handleFullscreenClick,icon:t,iconStyle:n},this.props)))}}]),n}(p.Component),Ze=n("./node_modules/icf-react-components/components/RaisedButton/index.js"),Pe=n.n(Ze),Oe=n("./src/components/gold/GoldCop.js"),Te=n("./src/components/GoldCoin.js"),Ie=n("./src/components/ThanksPopup.js"),we=n("./src/constants/LomsEvents.js"),Ae=n("./src/stores/ConfigStore.ts"),Re=n("./src/utils/lomsTools.js"),ke=n("./src/utils/gold.js");function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var Le=(0,g.F4)(["0%{opacity:0.3;transform:translate(-50%,-50px) rotateY(-360deg) scale(1.8);}50%{opacity:1;transform:translate(-50%,-250px) rotateY(0deg) scale(1);}100%{opacity:0;transform:translate(-50%,-180px) rotateY(180deg) scale(0);}"]),Ne=(0,g.F4)(["0%{transform:translateY(-50px) scale(1);animation-timing-function:ease-out;}50%{transform:translateY(-200px) scale(0.9);animation-timing-function:ease-in;}100%{transform:translateY(-50px) scale(0.1);}"]),xe=(0,g.F4)(["0%{opacity:0.3;}10%{opacity:1;}90%{opacity:1;}100%{opacity:0;}"]),je=(0,g.F4)(["0%{transform:rotateX(0deg);}100%{transform:rotateX(720deg);}"]),Me=g.ZP.div.withConfig({displayName:"QuickTipButton__GoldCoinOld",componentId:"sc-m6kpdh-0"})(["width:48px;height:48px;border-radius:50%;background:gold;border:3px solid goldenrod;position:absolute;"," top:0;z-index:1;pointer-events:none;background:linear-gradient( 45deg,rgb(251,223,147) 0%,rgb(248,181,0) 50%,rgb(252,205,77) 50%,rgb(252,234,187) 100% );"],(0,v.Z)(ye||(ye=(0,d.Z)(["\n    left: 50%;\n  "])))),Be=(0,g.ZP)(Me).withConfig({displayName:"QuickTipButton__StyledSuccessFeedbackCoinOld",componentId:"sc-m6kpdh-1"})(["will-change:opacity,transform;animation-name:",";animation-duration:1s;animation-timing-function:cubic-bezier(0.65,0.05,0.36,1);animation-fill-mode:both;"],Le),Ue=(0,g.ZP)(Te.Z).attrs({size:48}).withConfig({displayName:"QuickTipButton__GoldCoinFlip",componentId:"sc-m6kpdh-2"})(["will-change:transform;animation:"," ","ms cubic-bezier(.3,0,1,1);animation-fill-mode:both;"],je,750),Ge=g.ZP.div.withConfig({displayName:"QuickTipButton__GoldCoinMove",componentId:"sc-m6kpdh-3"})(["width:48px;height:48px;position:absolute;transform-origin:50% 50%;will-change:opacity,transform;animation:"," ","ms,"," ","ms;animation-fill-mode:both;"],Ne,750,xe,750),Ve=g.ZP.div.withConfig({displayName:"QuickTipButton__GoldCoinRoot",componentId:"sc-m6kpdh-4"})(["position:absolute;top:0;"," z-index:1;pointer-events:none;"],(0,v.Z)(be||(be=(0,d.Z)(["\n    left: calc(50% - 28px);\n  "])))),Fe=function(e){var t=e.rotation,n=void 0===t?0:t,o=e.offset,r=void 0===o?0:o;return(0,i.Z)(Ve,{style:{transform:"rotateZ(".concat(n,"deg) translateX(").concat(r,"px)")}},void 0,Se||(Se=(0,i.Z)(Ge,{},void 0,(0,i.Z)(Ue,{}))))};Fe.propTypes={rotation:f().number,offset:f().number},Fe.defaultProps={rotation:0,offset:0};var He=g.ZP.div.withConfig({displayName:"QuickTipButton__Container",componentId:"sc-m6kpdh-5"})(["margin:0;padding:0;position:relative;"]),Ye=(0,g.ZP)(Pe()).attrs({overrides:{label:"quick-tip-button-label"}}).withConfig({displayName:"QuickTipButton__Button",componentId:"sc-m6kpdh-6"})(["min-width:36px;width:36px;height:36px;border-radius:100%;margin:0;&:before{border-radius:100%;}&[disabled]{background:",";border:1px solid ",";border-radius:36px;}.quick-tip-button-label{font-size:16px;text-align:center;padding:0;}"],S.O9.mediumGray,S.O9.mediumGray),We=function(e){(0,l.Z)(n,e);var t=De(n);function n(e){var o;return(0,s.Z)(this,n),o=t.call(this,e),(0,B.Z)((0,M.Z)(o),"handleOnClick",(function(e,t){e.preventDefault(),(0,Re.$m)(we.Z.CTA_BUTTONS.QUICK_TIP);var n=o.props,r=n.quickTipConsent,i=n.showBetterCoins;r?t.submitGold({quickTip:!0}).then((function(){if(i){for(var e=Math.min(Math.floor(t.goldToGive/100),10),n=function(){var t=2*e,n=150*r+25*Math.random();setTimeout((function(){return o.addFeedbackCoin(t)}),n)},r=0;r<e;++r)n();o.state.showThanks||(o.setState({showThanks:!0}),setTimeout((function(){o.setState({showThanks:!1})}),Ie.h))}else o.addFeedbackCoin()})):_.Z.dispatch({type:y.Z.SHOW_QUICK_TIP_CONSENT_MODAL,data:{goldToGive:t.goldToGive}})})),o.state={feedbackCoins:[],showThanks:!1},o}return(0,a.Z)(n,[{key:"addFeedbackCoin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.props.showBetterCoins,n=t?Fe:Be,o=Math.random()*e-e/2,r=4*o,s=(0,i.Z)(n,{rotation:o,offset:r},"feedbackCoin-".concat(Date.now())),a=[s].concat(this.state.feedbackCoins);a.length>10&&a.pop(),this.setState({feedbackCoins:a})}},{key:"getTooltipString",value:function(e,t){var n=this.props,o=n.streamStarted,r=n.isGoldOneUsd,i=n.showFinalCost;if(!o)return"";if(this.getDisabled(e))return(0,H.KF)("give_gold_disabled");var s="";if(r||i){var a=100*t,l=(0,ke.hg)(a,r,i);s=" (".concat(l,")")}return(0,H.KF)("give_amount_gold",t)+s}},{key:"getDisabled",value:function(e){return this.props.disabled||!e.valid||e.prebillRequired}},{key:"render",value:function(){var e=this,t=this.context.quickTipBatchingPeriod||2e3,n=this.props,o=n.amount,r=n.className,s=n.isGoldOneUsd,a=this.state,l=a.feedbackCoins,c=a.showThanks;return(0,i.Z)(Oe.Z,{presetGold:100*o,accumulateFor:t,sendGoldAsOneUsd:s},void 0,(function(t){return(0,i.Z)(ee.Z,{title:e.getTooltipString(t,o)},void 0,(0,i.Z)(He,{"data-ta-locator":"QuickTipButton__container$".concat(o)},void 0,(0,i.Z)(Ye,{className:r,gold:!0,disabled:e.getDisabled(t),label:o.toString(),onClick:"data-ta-locator":"QuickTipButton__amount$".concat(o),"data-icf-click":"QuickTipButton","data-icf-meta":t.goldToGiveCentsUsd?"amount=".concat(t.goldToGiveCentsUsd):void 0}),l,c&&(0,i.Z)(Ie.Z,{},void 0,(0,H.KF)("thankyou").replace(" ",H.qD))))}))}}]),n}(p.Component);We.propTypes={amount:f().number,disabled:f().bool,className:f().string,isGoldOneUsd:f().bool,showFinalCost:f().bool,quickTipConsent:f().bool,streamStarted:f().bool,showBetterCoins:f().bool},We.defaultProps={amount:1,disabled:!1,className:""},We.contextTypes={quickTipBatchingPeriod:f().number};const ze=(0,$.Z)([I.Z,T.Z,Ae.Z,R.ZP],(function(e){return{isGoldOneUsd:e.user.isGoldOneUsd,showFinalCost:e.user.showFinalCost,quickTipConsent:e.user.quickTipConsent,streamStarted:e.connection.started,showBetterCoins:e.layout.isDesktop}}))(We);var qe=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),Ke=n("./node_modules/lodash/fp/getOr.js"),Xe=n.n(Ke),Qe=n("./node_modules/icf-react-components/themes/dark.js");function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var $e=g.ZP.div.withConfig({displayName:"QuickTipMark__StyledQuickTipMarkWrapper",componentId:"sc-kyqwnm-0"})(["color:",";display:flex;margin:0px 8px;text-align:center;user-select:none;text-transform:uppercase;line-height:1;flex-direction:column;justify-content:center;align-items:center;align-content:center;height:100%;"],Qe.colors.baseContrast070),et=g.ZP.span.withConfig({displayName:"QuickTipMark__StyledQuickTipMarkLine",componentId:"sc-kyqwnm-1"})(["font-weight:",";font-size:","px;display:block;margin:0 auto;"],(function(e){return e.fontWeight}),(function(e){return e.fontSize})),tt=function(e){(0,l.Z)(n,e);var t=Je(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){var e=Xe()('"Roboto", "Helvetica", "Helvetica Neue", "Arial", sans-serif',"theme.typography.fontFamily",this.props),t=H.ZP.getString("quick_tip.title").toUpperCase().split(" "),n=(0,qe.Z)(t,2),o=n[0],r=n[1],s=r.length>o.length,a=s?800:600,l=s?600:800,c=24,u=24,d=H.ZP.measureStringWidth(o,"".concat(a," ").concat(c,"px ").concat(e)),p=H.ZP.measureStringWidth(r,"".concat(l," ").concat(u,"px ").concat(e));if(s)for(;Math.floor(p)>d&&u>11;)u--,p=H.ZP.measureStringWidth(r,"".concat(l," ").concat(u,"px ").concat(e));else for(;Math.floor(d)>p&&c>11;)c--,d=H.ZP.measureStringWidth(o,"".concat(a," ").concat(c,"px ").concat(e));var m=c+u;if(m>36){var h=Math.round((m-36)/2);c-=h,u-=h}return(0,i.Z)($e,{},void 0,(0,i.Z)(et,{fontSize:c,fontWeight:a},void 0,o),(0,i.Z)(et,{fontSize:u,fontWeight:l},void 0,r))}}]),n}(p.PureComponent);const nt=(0,g.Zz)(tt);var ot,rt,it,st=n("./src/constants/QuickTipConstants.js");function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var lt=g.ZP.div.withConfig({displayName:"QuickTipContainer__StyledQuickTipContainer",componentId:"sc-1fd977i-0"})(["align-items:center;background:",";border-radius:4px;border-width:1px;border-style:solid;border-color:",";display:flex;flex-direction:row;flex-grow:0;flex-shrink:0;flex-wrap:nowrap;margin-bottom:-3px;margin-top:-3px;padding:0 8px;"],Qe.colors.baseContrast020,Qe.colors.baseContrast030),ct=(0,g.ZP)(lt).withConfig({displayName:"QuickTipContainer__StyledMobileQuickTipContainer",componentId:"sc-1fd977i-1"})(["padding:0;margin-top:0;margin-bottom:0;"]),ut=(0,g.ZP)(ze).withConfig({displayName:"QuickTipContainer__StyledQuickTipButton",componentId:"sc-1fd977i-2"})(["&&{","}"],(0,v.Z)(ot||(ot=(0,d.Z)(["\n      margin-right: 8px;\n    "])))),dt=(0,g.ZP)(ze).withConfig({displayName:"QuickTipContainer__MobileQuickTipButton",componentId:"sc-1fd977i-3"})(["&&{width:40px;height:40px;min-width:40px;}"]),pt=function(e){(0,l.Z)(n,e);var t=at(n);function n(e){var o;(0,s.Z)(this,n),o=t.call(this,e);var r=I.Z.getState(),i=r.quickTipCustomValue,a=r.needsPrebill,l=r.twoFactorAuthenticationRequired;return o.state={quickTipCustomValue:i||null,needsPrebill:a,twoFactorAuthenticationRequired:l},o.handleMobileFirstClick=o.handleMobileFirstClick.bind((0,M.Z)(o)),o.onUserStoreUpdate=o.onUserStoreUpdate.bind((0,M.Z)(o)),o}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.userToken=I.Z.addListener(this.onUserStoreUpdate)}},{key:"componentWillUnmount",value:function(){this.userToken.remove()}},{key:"onUserStoreUpdate",value:function(){var e=I.Z.getState(),t=e.quickTipCustomValue,n=e.needsPrebill,o=e.twoFactorAuthenticationRequired;this.setState({quickTipCustomValue:t,needsPrebill:n,twoFactorAuthenticationRequired:o})}},{key:"handleMobileFirstClick",value:function(){_.Z.dispatch({type:y.Z.SHOW_MOBILE_QUICK_TIP_CONSENT_MODAL})}},{key:"render",value:function(){var e=this.props.isDesktop,t=this.state,n=t.quickTipCustomValue,o=t.needsPrebill,r=t.twoFactorAuthenticationRequired,s=o||this.props.disabled||r;return e?(0,i.Z)(lt,{},void 0,rt||(rt=(0,i.Z)(nt,{})),st.Z.PRESET_VALUES.map((function(e){return(0,i.Z)(ut,{amount:e/100,disabled:s},e)}))):o||r?null:n?(0,i.Z)(dt,{amount:n,disabled:s}):(0,i.Z)(ct,{onClick:this.handleMobileFirstClick,"data-ta-locator":"QuickTipContainer__mobileQuickTipMark"},void 0,it||(it=(0,i.Z)(nt,{})))}}]),n}(p.Component);pt.propTypes={disabled:f().bool,isDesktop:f().bool},pt.defaultProps={disabled:!1,isDesktop:!0};var mt,ht,ft,gt,vt=n("./src/components/multiplegoals/MultipleGoalsContainer.tsx"),_t=n("./node_modules/@video/video-client-web/index.js"),yt=n("./node_modules/redux/es/redux.js"),bt=n("./src/utils/withTranslations.tsx"),St=n("./node_modules/icf-react-components/components/Tooltip/index.js"),Et=n.n(St),Ct=g.ZP.div.withConfig({displayName:"StreamBitrateSelector__Container",componentId:"sc-10970d4-0"})(["position:relative;display:block;margin:0;padding:0;color:white;"]),Zt=g.ZP.div.withConfig({displayName:"StreamBitrateSelector__Content",componentId:"sc-10970d4-1"})(["position:absolute;bottom:5px;"," min-width:215px;z-index:201;display:flex;flex-direction:column;background:rgb(70,70,70);&::after{border-color:transparent;border-style:solid;border-width:8px 8px 0;border-top-color:rgb(70,70,70);content:'';display:block;height:0;width:0;position:absolute;bottom:-8px;","}"],(0,v.Z)(mt||(mt=(0,d.Z)(["\n    left: -10px;\n  "]))),(0,v.Z)(ht||(ht=(0,d.Z)(["\n      left: 19px;\n    "])))),Pt=g.ZP.span.withConfig({displayName:"StreamBitrateSelector__Selectedness",componentId:"sc-10970d4-2"})(["display:inline-block;width:20px;",""],(0,v.Z)(ft||(ft=(0,d.Z)(["\n    text-align: left;\n  "])))),Ot=g.ZP.div.withConfig({displayName:"StreamBitrateSelector__MenuTitle",componentId:"sc-10970d4-3"})(["display:flex;justify-content:space-between;align-items:center;background:rgb(45,45,45);text-transform:uppercase;padding:8px;"]),Tt=g.ZP.span.withConfig({displayName:"StreamBitrateSelector__Title",componentId:"sc-10970d4-4"})(["flex-grow:1;"]),It=g.ZP.ul.withConfig({displayName:"StreamBitrateSelector__QualityList",componentId:"sc-10970d4-5"})(["&&{list-style-type:none;"," padding:8px 0;margin:0;}"],(0,v.Z)(gt||(gt=(0,d.Z)(["\n      text-align: left;\n    "])))),wt=g.ZP.li.withConfig({displayName:"StreamBitrateSelector__QualityListItem",componentId:"sc-10970d4-6"})(["display:flex;justify-content:flex-start;cursor:pointer;padding:2px 8px;transition:background-color 0.3s linear;background-color:rgba(255,255,255,0);&:hover{background-color:rgba(255,255,255,0.2);}"]),At=(0,g.ZP)(te.Z).withConfig({displayName:"StreamBitrateSelector__StyledVideoControlsIconButton",componentId:"sc-10970d4-7"})([""]);const Rt=(0,yt.qC)((0,$.Z)([D.Z],(function(e){return{player:e.videoClient.player,blurThePlayer:e.videoClient.blurThePlayer}}),{memoize:!0}),(0,bt.Z)())((function(e){var t,n,o,r,i,s=e.blurThePlayer,a=e.player,l=e.t,c=(0,p.useState)(!1),u=(0,qe.Z)(c,2),d=u[0],h=u[1];return s?m().createElement(m().Fragment,null):m().createElement("div",null,d&&m().createElement(Ct,{onMouseLeave:function(){return h(!1)}},m().createElement(Zt,null,m().createElement(Ot,null,m().createElement(Tt,null,H.ZP.getString("quality"))),m().createElement(It,null,(i=null==a?void 0:a.availableQualities,i?(t=i.some((function(e){return e.level===_t.SourceScoreLevel.Low}))?_t.SourceScoreLevel.Low:i.some((function(e){return e.level===_t.SourceScoreLevel.Medium}))?_t.SourceScoreLevel.Medium:i.some((function(e){return e.level===_t.SourceScoreLevel.High}))?_t.SourceScoreLevel.High:void 0,n=i.some((function(e){return e.level===_t.TranscodeScoreLevel.Low}))?_t.TranscodeScoreLevel.Low:i.some((function(e){return e.level===_t.TranscodeScoreLevel.Lowest}))?_t.TranscodeScoreLevel.Lowest:void 0,o=i.some((function(e){return e.level===_t.TranscodeScoreLevel.Medium}))?_t.TranscodeScoreLevel.Medium:i.some((function(e){return e.level===_t.TranscodeScoreLevel.MediumHigh}))?_t.TranscodeScoreLevel.MediumHigh:i.some((function(e){return e.level===_t.TranscodeScoreLevel.MediumLow}))?_t.TranscodeScoreLevel.MediumLow:void 0,r=i.some((function(e){return e.level===_t.TranscodeScoreLevel.High}))?_t.TranscodeScoreLevel.High:i.some(()?_t.TranscodeScoreLevel.Highest:void 0,[{name:l("bitrate_selector.source"),score:t},{name:l("bitrate_selector.high"),score:r},{name:l("bitrate_selector.medium"),score:o},{name:l("bitrate_selector.low"),score:n}]):[]).map((function(e,t){return void 0!==e.score&&m().createElement(wt,{"data-ta-locator":"StreamBitrateSelector_QualityListItem",title:e.name,onClick:function(){return t=e.score,h(!d),void setTimeout((function(){_.Z.dispatch({type:oe.Z.LIVELY_VIDEO_UPDATE_QUALITY,data:t})}));var t},style:{touchAction:"manipulation"},key:t},m().createElement(Pt,null,m().createElement("span",null,e.score===(null==a?void 0:a.preferredLevel)?"":"")),m().createElement("span",null,e.name))}))))),m().createElement(Et(),{title:d?"":H.ZP.getString("quality_icon_tooltip")},m().createElement(At,{"data-ta-locator":"VideoControls__streamQuality",icon:"settings",onClic}})))}));var kt,Dt,Lt,Nt,xt,jt,Mt,Bt=n("./src/components/video/ReportComplaintMenu.tsx"),Ut=n("./src/utils/createAsyncComponent.tsx"),Gt=n("./src/components/videoclient/utils/index.ts");function Vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var Ft=(0,Ut.Z)((function(){return n.e(8).then(n.bind(n,"./src/components/privatefeatures/PrivateFeatures.js"))}),{displayName:"PrivateFeatures",fallback:null}),Ht=(0,Ut.Z)((function(){return n.e(8).then(n.bind(n,"./src/components/videoclient/cam2cam/Controls/Cam2CamControls.tsx"))}),{displayName:"Cam2CamControls",fallback:null}),Yt=g.ZP.div.withConfig({displayName:"CtaContainer__VideoControlsContainer",componentId:"sc-18jsm5g-0"})(["display:flex;align-items:center;justify-content:center;position:relative;margin:0;height:40px;"]),Wt=(0,g.ZP)(N.Z).withConfig({displayName:"CtaContainer__StyledGiveGoldButton",componentId:"sc-18jsm5g-1"})(["flex:1;min-width:100px;button:disabled{height:auto;min-height:40px;}"]),zt=(0,g.ZP)(j.Z).withConfig({displayName:"CtaContainer__StyledGoPrivateButton",componentId:"sc-18jsm5g-2"})(["flex:",";min-width:100px;"],(function(e){return e.inPrivateSession?"1":"3"})),qt=(0,g.ZP)(x.Z).withConfig({displayName:"CtaContainer__StyledCreateAccountButton",componentId:"sc-18jsm5g-3"})(["flex:1;min-width:100px;"]),Kt=g.ZP.div.withConfig({displayName:"CtaContainer__Container",componentId:"sc-18jsm5g-4"})(["align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;background-color:",";"," flex-shrink:0;justify-content:space-between;position:relative;&{","}& >:not(:first-child){","}&:empty{padding:0;}"]}),(0,v.Z)(kt||(kt=(0,d.Z)(["\n    padding: 8px 0 8px 5px;\n  "]))),(function(e){return e.moveToBack?"z-index: 0;":""}),(0,v.Z)(Dt||(Dt=(0,d.Z)(["\n      margin-left: 8px;\n    "])))),Xt=(0,g.ZP)(Kt).withConfig({displayName:"CtaContainer__MobileContainerLandscape",componentId:"sc-18jsm5g-5"})(["background-color:transparent;position:absolute;bottom:0;z-index:110;","{min-width:200px;}","{flex:1;min-width:200px;}"],Wt,zt),Qt=(0,g.ZP)(Kt).withConfig({displayName:"CtaContainer__MobileContainerPortrait",componentId:"sc-18jsm5g-6"})(["background-color:",";padding:5px;","{flex:1;}"],(function(e){var t=e.theme;return"dark"===t.type?t.colors.baseContrast010:t.colors.baseContrast015}),zt),Jt=function(e){(0,l.Z)(n,e);var t=Vt(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.dispatchHeight()}},{key:"componentWillUnmount",value:function(){setTimeout((function(){_.Z.dispatch({type:y.Z.CTA_HEIGHT_CHANGE,data:{height:0,hidden:!0}})}))}},{key:"componentDidUpdate",value:function(){this.dispatchHeight()}},{key:"dispatchHeight",value:function(){if(this.container){var e,t,n,o=null!==(e=null===(t=this.multipleGoalsContainer)||void 0===t||null===(n=t.getBoundingClientRect)||void 0===n?void 0:n.call(t).height)&&void 0!==e?e:0,r=parseFloat(this.container.offsetHeight)+o;r!==this.lastHeight&&(this.lastHeight=r,setTimeout((function(){_.Z.dispatch({type:y.Z.CTA_HEIGHT_CHANGE,data:{height:r,hidden:!1}})})))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.privCallInProgress,o=t.showChatToggle,r=t.hidden,s=t.giveGoldVisible,a=t.giveGoldEnabled,l=t.giveGoldAllowed,c=t.goPrivateVisible,u=t.goPrivateEnabled,d=t.createAccountVisible,h=t.modal,f=t.privateFeaturesAvailable,g=t.isLoggedIn,v=t.isDesktop,_=t.isTablet,y=t.forcedLayout,b=t.quickTipDisabled,E=t.layout,Z=t.fullscreen,P=t.orientation,O=t.isGoldShow,I=t.goldShowBoughtIn,w=t.isGoldOnly,A=t.inPrivateSession,R=t.cam2camCallInProgress,k=t.isFanMode,L=this.context.isExternalSiteFundsOnly;if(r)return null;var N=P===S.ZP.LANDSCAPE,x=E===S.ZP.MOBILE||_&&P===S.ZP.PORTRAIT,j=Z||_&&N,M=f&&!x,B=(n||R)&&(N&&_||v),U=j,G=!b&&g&&l&&(!O||I)&&!L&&!k&&T.Z.shouldAllowQuickTip(),V=v&&y!==S.bv.TABLET_WITH_BIO,F=Kt;x&&(F=N?Xt:Qt);var H=D.Z.getState().driver;return(0,i.Z)(p.Fragment,{},void 0,(w||k)&&!N&&x&&m().createElement("div",{ref:function(t){e.multipleGoalsContainer=t}},Lt||(Lt=(0,i.Z)(vt.Z,{mobile:!0}))),m().createElement(F,{fullscreenStyle:j,moveToBack:h||!1,ref:function(t){e.container=t}},!x&&(0,i.Z)(Yt,{},void 0,!_&&(Nt||(Nt=(0,i.Z)(p.Fragment,{},void 0,(0,i.Z)(ue,{}),(0,i.Z)(Ce,{})))),!(Gt.G&&"webrtc"===H)&&(xt||(xt=(0,i.Z)(Rt,{}))),(0,i.Z)(he,{isAvailable:!n&&!R}),(0,i.Z)(Bt.Z,{location:C.Kh.HYBRID_CLIENT_CTA_CONTAINER})),G&&(0,i.Z)(pt,{isDesktop:V,disabled:!a}),s&&m().createElement(Wt,{enabled:a,allowed:l,locator:"CtaContainer__giveGoldButton"}),c&&m().createElement(zt,{layout:E,disabled:!u,inPrivateSession:A,locator:"CtaContainer__enterPaidButton"}),d&&(jt||(jt=(0,i.Z)(qt,{locator:"CtaContainer__signUpButton"}))),B&&(0,i.Z)(Ht,{hidelabel:U}),M&&!n&&!R&&m().createElement(Ft,{hideLabel:U,inCam2Cam:R}),o&&(Mt||(Mt=(0,i.Z)(J,{})))))}}]),n}(p.PureComponent);Jt.contextTypes={isExternalSiteFundsOnly:f().bool},Jt.propTypes={hidden:f().bool,privCallInProgress:f().bool,showChatToggle:f().bool,giveGoldVisible:f().bool,giveGoldEnabled:f().bool,giveGoldAllowed:f().bool,goPrivateVisible:f().bool,goPrivateEnabled:f().bool,privateFeaturesAvailable:f().bool,createAccountVisible:f().bool,modal:f().string,isLoggedIn:f().bool,lang:f().string,isDesktop:f().bool,isTablet:f().bool,forcedLayout:f().string,quickTipDisabled:f().bool,layout:f().string,fullscreen:f().bool,orientation:f().string,isGoldShow:f().bool,goldShowBoughtIn:f().bool,isGoldOnly:f().bool,inPrivateSession:f().bool,currentGoal:f().string,cam2camCallInProgress:f().bool,isFanMode:f().bool},Jt.defaultProps={hidden:!1,privCallInProgress:!1,showChatToggle:!1,giveGoldVisible:!0,giveGoldEnabled:!1,giveGoldAllowed:!0,goPrivateVisible:!0,goPrivateEnabled:!1,inPrivateSession:!1,createAccountVisible:!1,isDesktop:!1,isTablet:!1,fullscreen:!1,currentGoal:"",cam2camCallInProgress:!1,isFanMode:!1};const $t=(0,$.Z)([T.Z,P.Z,A.Z,I.Z,w.Z,R.ZP,O.Z,k.Z,L.Z],(function(e){var t,n=e.connection,o=n.started,r=n.clientState,i=n.streamType,s=n.goldOnly,a=e.modal,l=a.modal,c=a.goldPending,u=e.performer,d=u.onBreak,p=u.lang,m=u.goalStatus,h=(null===(t=e.performer)||void 0===t?void 0:t.platform)===E.ZP.STREAMFANS,f=e.user,g=f.userId,v=f.userType,_=f.stashUser,y=f.maxGold,S=f.quickTipDisabled,C=f.useCreateAccountCta,P=e.layout,I=P.isDesktop,w=P.isTablet,A=P.forcedLayout,R=P.layout,k=P.fullscreen,D=P.orientation,L=e.userList,N=L.numberOfUsersInRoom,x=L.isSolePrivateUser,j=i!==b.ZP.STREAM_TYPE_GUEST,M=i===b.ZP.STREAM_TYPE_PRIVATE,B=r===b.ZP.PLAYING||r===b.ZP.PAUSED&&!d,U=!o||l||!B,G=C&&v!==Z.Z.EXTERNAL,V=y>0||!j,F=Boolean(V||_),H=!U&&!c,Y=M&&x&&1===N&&e.rate.rateExclusive,W=!s&&(!j||Y),z=!U,q=O.Z.isActive(),K=O.Z.isUserBoughtIn();q&&(K?z=!1:W=!1),h&&(W=!1),G&&!g&&(W=!1,F=!1),T.Z.isProjectXL()&&(W=!!T.Z.isRoomPrivateShow()&&W);var X=o&&B&&j,Q=s&&m.cost?m.goal:"",J=e.cam2cam.callInProgress;return{giveGoldVisible:F,giveGoldEnabled:H,giveGoldAllowed:V,goPrivateVisible:W,goPrivateEnabled:z,privateFeaturesAvailable:X,createAccountVisible:G,modal:l,isLoggedIn:Boolean(g),lang:p,isDesktop:I,isTablet:w,forcedLayout:A,quickTipDisabled:S,layout:R,fullscreen:k,orientation:D,isGoldShow:q,goldShowBoughtIn:K,isGoldOnly:s,inPrivateSession:M,currentGoal:Q,cam2camCallInProgress:J,isFanMode:h}}))(Jt)},"./src/components/DesktopRoot.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>We});var o=n("webpack/sharing/consume/default/react/react"),r=n.n(o),i=n("./node_modules/prop-types/index.js"),s=n.n(i),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),c=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),u=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),d=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),p=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),m=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),h=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),f=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),g=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),v=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),_=n("./node_modules/styled-components-rtl/index.js"),y=n("./node_modules/lodash/fp/getOr.js"),b=n.n(y),S=n("./src/lib/Strings.js"),E=n("./src/stores/PerformerStore.ts"),C=n("./src/stores/ConnectionStore.js"),Z=n("./src/stores/GoldShowStore.js"),P=n("./src/constants/Connection.js"),O=n("./src/constants/LayoutConstants.ts"),T=n("./src/constants/Platforms.ts"),I=n("./src/components/video/Favorite.js"),w=n("./src/components/modals/Rating.js"),A=n("./src/components/chat/ChatDisplay.js"),R=n("./src/components/bio/CountryAgeTag.tsx"),k=n("./src/components/section/InfoContainer.tsx"),D=n("./src/components/goldshow/GoldShowContainer.js"),L=n("./src/components/bio/PremiumInfoContainer.tsx"),N=n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),x=n("./node_modules/redux/es/redux.js"),j=n("./src/components/bio/Vibes.tsx"),M=n("./src/components/goldmenu/GoldMenuButton.js"),B=n("./src/components/spingold/SpinGoldButton.tsx"),U=n("./src/utils/withStores.tsx"),G=n("./src/utils/goldMenu.ts"),V=n("./src/utils/spinGold.ts"),F=n("./src/utils/withTranslations.tsx"),H=a.ZP.div.withConfig({displayName:"ShowInfoContainer__ButtonContainer",componentId:"sc-ytihab-0"})(["display:flex;flex-direction:",";flex-wrap:nowrap;justify-content:flex-start;align-items:center;align-content:center;"],(function(e){return e.isCompact?"row":"column"})),Y=function(e){if(!e||e.length<=140)return e;var t=e.substr(0,137);return/\b$/.test(t)&&(t=t.substr(0,t.lastIndexOf(" "))),(t=t.trim().replace(/ ?[,.:;"'-]$/,""))+"..."},W=function(e){var t=e.topic,n=e.t,i=e.isCompact;return r().createElement(k.LZ,null,Boolean(t)&&r().createElement(o.Fragment,null,r().createElement(k.Nx,null,r().createElement(k.fF,null,n("my_shows"))),r().createElement(k.mG,null,t)),r().createElement(H,{isCompact:i},r().createElement(j.Z,{isCompact:i}),r().createElement(M.Z,{isCompact:i}),r().createElement(B.Z,{isCompact:i})))};W.defaultProps={truncate:!1,canCompact:!1};const z=(0,x.qC)((0,U.Z)((0,N.Z)(new Set([E.Z].concat((0,N.Z)(V.Y),(0,N.Z)(G.A)))),(function(e,t){var n,o,r,i;return{bio:e.performer.bio,topic:t.truncate?Y(null===(n=e.performer.bio)||void 0===n||null===(o=n.About)||void 0===o?void 0:o.AboutMyShow):null===(r=e.performer.bio)||void 0===r||null===(i=r.About)||void 0===i?void 0:i.AboutMyShow,isCompact:t.canCompact&&e.performer.vibeShow&&(0,V._)().isVisible&&(0,G.o)().visible}})),(0,F.Z)())(W);var q,K,X,Q,J,$,ee,te=n("./src/components/multiplegoals/MultipleGoalsContainer.tsx"),ne=n("./src/utils/createAsyncComponent.tsx");function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,f.Z)(e);if(t){var r=(0,f.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,h.Z)(this,n)}}var re=(0,ne.Z)((function(){return n.e(11).then(n.bind(n,"./src/components/similarmodels/SimilarModels.tsx"))}),{displayName:"SimilarModels"}),ie=a.ZP.div.withConfig({displayName:"Sidebar__SidebarContainer",componentId:"sc-1eod5a8-0"})(["flex-basis:0;min-width:300px;min-height:0;flex-grow:1;padding:8px;display:flex;flex-direction:column;background-color:",";max-height:100%;"],O.O9.evenDarkerGray),se=a.ZP.div.withConfig({displayName:"Sidebar__Header",componentId:"sc-1eod5a8-1"})(["position:relative;padding:0;padding-bottom:16px;"]),ae=(0,a.ZP)(I.Z).withConfig({displayName:"Sidebar__StyledFavorite",componentId:"sc-1eod5a8-2"})(["",""],(0,_.Z)(q||(q=(0,v.Z)(["\n    margin-right: 8px;\n  "])))),le=a.ZP.div.withConfig({displayName:"Sidebar__Performer",componentId:"sc-1eod5a8-3"})(["font-size:22px;margin-bottom:8px;color:",";font-weight:200;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;letter-spacing:1px;line-height:32px;"],(function(e){return e.theme.colors.baseContrast070})),ce=a.ZP.div.withConfig({displayName:"Sidebar__Details",componentId:"sc-1eod5a8-4"})(["display:flex;align-items:center;"," & > div{font-size:14px;}"],(0,_.Z)(K||(K=(0,v.Z)(["\n    margin-left: 1px;\n  "])))),ue=(0,a.ZP)(w.Z).withConfig({displayName:"Sidebar__StyledRating",componentId:"sc-1eod5a8-5"})([""," display:flex;align-items:center;"],(0,_.Z)(X||(X=(0,v.Z)(["\n    margin-left: 8px;\n  "])))),de=function(e){(0,m.Z)(n,e);var t=oe(n);function n(e){var o;(0,u.Z)(this,n),o=t.call(this,e),(0,g.Z)((0,p.Z)(o),"componentDidMount",(function(){o.performerToken=E.Z.addListener(o.onPerformerUpdate),o.connectionToken=C.Z.addListener(o.onOtherUpdate),o.goldShowToken=Z.Z.addListener(o.onOtherUpdate),o.onPerformerUpdate(),o.onOtherUpdate()})),(0,g.Z)((0,p.Z)(o),"componentWillUnmount"})),(0,g.Z)((0,p.Z)(o),"onPerformerUpdate",(function(){var e=E.Z.getState(),t=e.bio,n=e.nickname,r=e.platform;t?o.setState({performerAge:b()(0,"About.Attributes.Age",t),performerCountry:b()("","About.Attributes.Country",t),performerName:b()(n,"About.Name",t),performerRating:b()(void 0,"About.Rating",t),isFanMode:r===T.ZP.STREAMFANS}):o.setState({performerName:n})})),(0,g.Z)((0,p.Z)(o),"onOtherUpdate",(function(){var e=C.Z.getState(),t=e.clientState,n=e.streamType,r=e.goldOnly,i=t===P.ZP.DISCONNECTED,s=n!==P.ZP.STREAM_TYPE_GUEST,a=Z.Z.isActive(),l=Z.Z.isUserBoughtIn(),c=Z.Z.isPreGoldShow(),u=z;Z.Z.isActive()?u=D.Z:C.Z.getState().roomTopic&&(u=L.Z),o.setState({goldShowActive:a,goldShowBoughtIn:l,goldShowPre:c,infoContent:u,isDisconnected:i,isPaidSession:s,isGoldOnly:r})})),(0,g.Z)((0,p.Z)(o),"render",(function(){var e=o.state,t=e.performerAge,n=e.performerCountry,r=e.performerName,i=e.performerRating,s=e.isDisconnected,a=e.infoContent,l=e.isGoldOnly,u=e.isFanMode,d=o.context.platform,p=d===T.ZP.BLACKLABEL||d===T.ZP.EXTERNAL_SITE_SHOW,m=o.shouldShowSimilarModels(),h=p||!s;return s&&m?(0,c.Z)(ie,{"data-ta-locator":"Sidebar__SidebarContainer"},void 0,(0,c.Z)(k.fF,{"data-ta-locator":"SimilarModels__title"},void 0,S.ZP.getString("similar_models")),Q||(Q=(0,c.Z)(re,{showMaxRows:!0,showThumbnailsOnly:!0,hideToggle:!0,"data-testid":"SimilarModels"},"chat-similar-models"))):(0,c.Z)(ie,{"data-ta-locator":"Sidebar__SidebarContainer"},void 0,(0,c.Z)(se,{},void 0,Boolean(r)&&(0,c.Z)(le,{},void 0,J||(J=(0,c.Z)(ae,{})),r),Boolean(t&&n&&i)&&(0,c.Z)(ce,{},void 0,(0,c.Z)(R.Z,{age:t,country:n,showLanguages:!0}),!u&&(0,c.Z)(ue,{rating:i,size:14}))),a&&(0,c.Z)(a,{canCompact:!0,isDesktop:!0,truncate:!0},"info-content"),(l||u)&&($||($=(0,c.Z)(te.Z,{}))),h&&(0,c.Z)(A.Z,{alignChatToolsWithCta:!m},"chat-display"),m&&(ee||(ee=(0,c.Z)(re,{},"chat-similar-models"))))}));var r=C.Z.getState(),i=r.clientState,s=r.goldOnly,a=E.Z.getState().platform===T.ZP.STREAMFANS;return o.state={isDisconnected:i===P.ZP.DISCONNECTED,isGoldOnly:s,isFanMode:a||!1},o}return(0,d.Z)(n,[{key:"shouldShowSimilarModels",value:function(){var e=this.props.hideSimilarModels,t=this.state,n=t.isDisconnected,o=t.isPaidSession,r=t.goldShowActive,i=t.goldShowPre,s=t.goldShowBoughtIn,a=t.isFanMode,l=this.context.platform,c=E.Z.getState(),u=c.showSimilarModels,d=c.similarModels;if(!d||0===d.length)return!1;var p=l===T.ZP.BLACKLABEL&&!0!==u||l===T.ZP.EXTERNAL_SITE_SHOW;return!(e||p||a)&&(!!n||!o&&!(r&&!i&&s))}}]),n}(o.Component);(0,g.Z)(de,"propTypes",{hideSimilarModels:s().bool}),(0,g.Z)(de,"defaultProps",{hideSimilarModels:!1}),(0,g.Z)(de,"contextTypes",{platform:s().oneOf(Object.values(T.ZP)).isRequired});const pe=de;var me,he=n("./src/components/VideoAndCtaContainer.js"),fe=n("./src/components/video/VideoDisplay.js"),ge=n("./src/lib/Dispatcher.js"),ve=n("./src/constants/Actions.js"),_e=a.ZP.div.withConfig({displayName:"BlackLabelFooter__FooterContainer",componentId:"sc-2qn5y4-0"})(["color:",";"," margin:0;padding:0 8px;width:100%;flex:0 0 50px;background:#000;height:50px;line-height:50px;vertical-align:middle;font-size:16px;cursor:pointer;&& a{color:",";}@media ",",","{font-size:80%;}"],(function(e){return e.color}),(0,_.Z)(me||(me=(0,v.Z)(["\n    text-align: right;\n  "]))),(function(e){return e.theme.colors.baseContrast050}),O.I9,O.Sr),ye=function(){ge.Z.dispatch({type:ve.Z.OPEN_COMPLIANCE_MODAL})},be=function(){ge.Z.dispatch({type:ve.Z.OPEN_TERMS_MODAL})};const Se=function(){return(0,c.Z)(_e,{},void 0,(0,c.Z)("a",{"data-ta-locator":"BlackLabelFooter__compliancelink",onClick:ye},void 0,S.ZP.getString("2257")),"|",(0,c.Z)("a",{"data-ta-locator":"BlackLabelFooter__termslink",onClick:be},void 0,S.ZP.getString("terms")),"|",S.ZP.getString("powered_by")," Streamate")};var Ee,Ce,Ze,Pe,Oe=n("./src/components/CtaContainer.js"),Te=n("./src/components/modals/Modal.js"),Ie=n("./src/components/ThanksSpendMessage.js"),we=n("./src/components/VideoPip.js"),Ae=n("./src/components/ThemeProvider.tsx"),Re=n("./src/stores/ModalStore.js"),ke=n("./src/stores/OverlayStore.js"),De=n("./src/stores/LayoutStore.js"),Le=n("./src/components/videoclient/store/cam2cam/Cam2CamStore.ts"),Ne=n("./src/components/videoclient/store/videoClient/VideoClientStore.ts"),xe=n("./src/components/videoclient/cam2cam/EnterModal/PrivateCallPreviewLively.tsx"),je=a.ZP.div.attrs({style:function(e){return{height:e.playerWithBlacklabelFooterHeight}}}).withConfig({displayName:"DesktopPlayerSection__PlayerWithBlacklabelFooter",componentId:"sc-1dukxvv-0"})(["width:100%;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:stretch;position:relative;overflow:hidden;flex-shrink:0;"]),Me=a.ZP.div.attrs({style:function(e){return{height:e.playerHeight,maxHeight:e.playerHeight}}}).withConfig({displayName:"DesktopPlayerSection__Player",componentId:"sc-1dukxvv-1"})(["width:100%;flex:1 0;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:stretch;"]),Be=function(e,t){var n=(0,o.useRef)(null),i=e.modal,s=e.modalProps,a=e.overlay,u=e.assetPath,d=e.source,p=e.fullscreen,m=e.layout,h=e.videoViewportHeight,f=e.ctaHeight,g=e.preferredPlayerHeight,v=e.c2cRequestedLively,_=t.platform,y=m===O.ZP.TABLET,b=p||m===O.ZP.TABLET,S=y?"100%":"".concat(g,"px"),E=h+f,C={assetPath:u,source:d,isDesktop:!y};return(0,c.Z)(Ae.Z,{themeMode:"dark",themeSwitch:!0},void 0,r().createElement(je,{playerWithBlacklabelFooterHeight:S},r().createElement("div",{ref:n}),r().createElement(Me,{playerHeight:E},(0,c.Z)(he.Z,{},void 0,r().createElement(fe.Z,C,v&&(Ee||(Ee=(0,c.Z)(xe.Z,{desktop:!0})))),i&&r().createElement(Te.Z,(0,l.Z)({isDesktop:!0},s,{key:i,modal:i})),Ce||(Ce=(0,c.Z)(Ie.Z,{})),!a&&(0,c.Z)(Oe.Z,{isDesktop:!0,isLandscape:!0,showChatToggle:b},"HybridClient_CtaContainer")),!b&&(Ze||(Ze=(0,c.Z)(pe,{},"sidebar")))),!b&&_===T.ZP.BLACKLABEL&&(Pe||(Pe=(0,c.Z)(Se,{},"blacklabel-footer")))),(_===T.ZP.SCP||_===T.ZP.STREAMFANS)&&(0,c.Z)(we.Z,{scrollToDefaultRef:n},"video-pip"))};Be.propTypes={assetPath:s().string,source:s().string,modal:s().string,modalProps:s().object,overlay:s().string,preferredPlayerHeight:s().number,fullscreen:s().bool,layout:s().string,videoViewportHeight:s().number,ctaHeight:s().number,c2cRequestedLively:s().bool},Be.defaultProps={modal:"",overlay:"",fullscreen:!1,layout:O.ZP.DESKTOP,sections:null},Be.contextTypes={platform:s().oneOf(Object.values(T.ZP))};const Ue=(0,U.Z)([Re.Z,ke.Z,E.Z,De.ZP,Le.Z,Nted}}),{memoize:!0})(Be);var Ge=(0,ne.Z)((function(){return n.e(6).then(n.bind(n,"./src/components/DesktopInfoContainer.tsx"))}),{displayName:"DesktopInfoContainer",fallback:null}),Ve=function(e){var t=e.themeMode,n=e.sections,o=e.performerBioTabs,r=e.performerBioTabOrder;return(0,c.Z)(Ae.Z,{themeMode:t,themeSwitch:!0},void 0,(0,c.Z)(Ge,{sections:n,performerBioTabs:o,performerBioTabOrder:r}))};Ve.propTypes={themeMode:s().string,sections:s().object,performerBioTabs:s().arrayOf(s().shape({name:s().string,titleStringKey:s().string,render:s().func})),performerBioTabOrder:s().arrayOf(s().string)},Ve.defaultProps={fullscreen:!1,sections:null};const Fe=Ve;var He=a.ZP.div.attrs({style:function(e){return{height:e.rootWrapperHeight,minWidth:e.rootWrapperMinWidth}}}).withConfig({displayName:"DesktopRoot__Root",componentId:"sc-2geizy-0"})(["background-color:#000;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;overflow:hidden;position:relative;"]),Ye=function(e){var t=e.assetPath,n=e.source,o=e.themeMode,i=e.sections,s=e.performerBioTabs,a=e.performerBioTabOrder,l=e.showBioContainer,c=e.rootWrapperHeight,u=e.rootWrapperMinWidth;return r().createElement(He,{rootWrapperMinWidth:u,rootWrapperHeight:c},r().createElement(Ue,{assetPath:t,source:n}),l&&r().createElement(Fe,{themeMode:o,sections:i,performerBioTabs:s,performerBioTabOrder:a}))};Ye.propTypes={assetPath:s().string,performerBioTabs:s().arrayOf(s().shape({name:s().string,titleStringKey:s().string,render:s().func})),performerBioTabOrder:s().arrayOf(s().string),sections:s().object,source:s().string,themeMode:s().string,showBioContainer:s().bool,rootWrapperHeight:s().string,rootWrapperMinWidth:s().number},Ye.defaultProps={bioInfoHeight:0,fullscreen:!1,layout:O.ZP.DESKTOP,privCallInProgress:!1,sections:null,showDiagnostic:!1,themeMode:"dark",showBioContainer:!1,rootWrapperHeight:"",rootWrapperMinWidth:""};const We=(0,U.Z)([De.ZP,E.Z],(function(e){var t=e.layout,n=t.fullscreen,o=t.showPerformerBio,r=t.layout,i=e.performer.nickname,s=r===O.ZP.TABLET;return{showBioContainer:!n&&o&&i,rootWrapperHeight:s&&!n?"100%":"",rootWrapperMinWidth:!(n||s)||s&&o?O.AV.desktop.min:0}}),{memoize:!0})(Ye)},"./src/components/GiveGoldButton.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});var o,r,i,s=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),a=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),l=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),c=n("webpack/sharing/consume/default/react/react"),u=n("./node_modules/prop-types/index.js"),d=n.n(u),p=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),m=n("./node_modules/styled-components-rtl/index.js"),h=n("./node_modules/lodash/pickBy.js"),f=n.n(h),g=n("./node_modules/lodash/identity.js"),v=n.n(g),_=n("./node_modules/lodash/fp/compose.js"),y=n.n(_),b=n("./node_modules/icf-react-components/components/RaisedButton/index.js"),S=n.n(b),E=n("./src/utils/log.js"),C=n("./src/utils/lomsTools.js"),Z=n("./src/utils/forPlatforms.tsx"),P=n("./src/utils/withStores.tsx"),O=n("./src/utils/gold.js"),T=n("./src/constants/Actions.js"),I=n("./src/constants/LomsEvents.js"),w=n("./src/constants/Platforms.ts"),A=n("./src/stores/GoldShowStore.js"),R=n("./src/stores/ModalStore.js"),k=n("./src/stores/LayoutStore.js"),D=n("./src/lib/Dispatcher.js"),L=n("./src/lib/Strings.js"),N=n("./src/components/ThanksPopup.js"),x=n("./src/components/GoldCoin.js"),j=.75*N.h,M=2*j,B=(0,p.F4)(["0%{transform:translateY(-50px) scale(0.1);}10%{transform:translateY(-120px) scale(1);}90%{transform:translateY(-120px) scale(1);}100%{transform:translateY(-50px) scale(0.1);}"]),U=(0,p.F4)(["0%{opacity:0;}10%{opacity:1;}90%{opacity:1;}100%{opacity:0;}"]),G=(0,p.F4)(["0%{transform:rotateY(0deg);animation-timing-function:cubic-bezier(0,.6,.6,1);}60%{transform:rotateY(1080deg);}100%{transform:rotateY(1080deg);}"]),V=(0,p.ZP)(x.Z).attrs({size:64}).withConfig({displayName:"GiveGoldButton__GoldCoinFlip",componentId:"sc-1j8tf0q-0"})(["will-change:transform;animation:"," ","ms cubic-bezier(.3,0,1,1);animation-fill-mode:both;"],G,M),F=p.ZP.div.withConfig({displayName:"GiveGoldButton__GoldCoinMove",componentId:"sc-1j8tf0q-1"})(["width:","px;height:","px;position:absolute;transform-origin:50% 50%;will-change:opacity,transform;animation:"," ","ms,"," ","ms;animation-fill-mode:both;"],64,64,B,M,U,M),H=p.ZP.div.withConfig({displayName:"GiveGoldButton__GoldCoinRoot",componentId:"sc-1j8tf0q-2"})(["position:absolute;top:0;"," z-index:1;pointer-events:none;"],(0,m.Z)(o||(o=(0,l.Z)(["\n    left: calc(50% - ","px);\n  "])),32)),Y=function(){return r||(r=(0,a.Z)(H,{},void 0,(0,a.Z)(F,{},void 0,(0,a.Z)(V,{}))))},W=function(e){var t=e.enabled,n=e.allowed,o=e.className,r=e.onClick,l=e.locator,u=e.inPip,d=e.showThanks,p=e.thanksAmount,m=e.isGoldShowActive,h=e.isUserBoughtInToGoldShow,g=e.goldShowMinbuyinString,_=(0,c.useState)(!1),y=(0,s.Z)(_,2),b=y[0],Z=y[1],P=(0,c.useState)(!1),w=(0,s.Z)(P,2),R=w[0],k=w[1];(0,c.useEffect)((function(){d&&(Z(!0),setTim(!0)}),j),setTimeout((function(){k(!1),D.Z.dispatch({type:T.Z.HIDE_THANKS_SPEND_MESSAGE})}),2*j))}),[d]);var x="give_gold",M="";m&&!h&&(x="lb_reserve_short",M=g),n||(x="gold_disabled_in_paid");var B=!t||!n,U=(0,L.KF)(x),G=M?100*Number(M.replace(/[^0-9.]/g,"")):void 0,V=A.Z.isPreGoldShow()||A.Z.needPledge(),F=new URLSearchParams(f()({amount:G,label:V?"goldShowPledge":void 0},v())).toString()||void 0;return(0,a.Z)("div",{className:o,style:{position:"relative"}},void 0,(0,a.Z)(S(),{disabled:B,gold:!0,label:M?"".concat(U,": ").concat(M):U,onClick:function(e){e.preventDefault(),E.Z.usageTick("givegold_opened"),(0,C.$m)(u?I.Z.CTA_BUTTONS.PIP_GIVE_GOLD:I.Z.CTA_BUTTONS.GIVE_GOLD),D.Z.dispatch({type:T.Z.GIVE_GOLD_CLICK}),r&&r()},"data-icf-click":"GiveGoldButton","data-icf-meta":F,"data-ta-locator":l,fullWidth:!0}),d&&(i||(i=(0,a.Z)(Y,{}))),b&&Boolean(p)&&(0,a.Z)(N.Z,{},void 0,"+",(0,O.ev)(p),"!"),R&&(0,a.Z)(N.Z,{},void 0,(0,L.KF)("thankyou").replace(" ",L.qD)))};W.propTypes={enabled:d().bool,allowed:d().bool,className:d().string,onClick:d().func,locator:d().string,inPip:d().bool,showThanks:d().bool,thanksAmount:d().number,isGoldShowActive:d().bool,isUserBoughtInToGoldShow:d().bool,goldShowMinbuyinString:d().string},W.defaultProps={locator:"GiveGoldButton",inPip:!1};const z=y()((0,Z.Z)({exclude:[w.ZP.EXTERNAL_SITE_SHOW]}),(0,P.Z)([R.Z,k.ZP,A.Z],(function(e){return{showThanks:e.modal.showThanksSpendMessage&&e.layout.isDesktop,thanksAmount:e.modal.thanksSpendAmount,isGoldShowActive:A.Z.isActive(),isUserBoughtInToGoldShow:A.Z.isUserBoughtIn(),goldShowMinbuyinString:e.goldShow.minbuyinString}})))(W)},"./src/components/GoldCoin.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o,r,i=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),s=(n("webpack/sharing/consume/default/react/react"),n("./node_modules/prop-types/index.js")),a=n.n(s),l=function(e){var t=e.className,n=e.size,s=void 0===n?210:n;return(0,i.Z)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 210 210",width:s,height:s,className:t},void 0,o||(o=(0,i.Z)("defs",{},void 0,(0,i.Z)("path",{d:"M205 105C205 160.19 160.19 205 105 205C49.81 205 5 160.19 5 105C5 49.81 49.81 5 105 5C160.19 5 205 49.81 205 105Z",id:"b42YoJKQ1"}),(0,i.Z)("linearGradient",{id:"gradientcgjC0NQom",gradientUnits:"userSpaceOnUse",x1:"200.77",y1:"75.8",x2:"9.64",y2:"134.5"},void 0,(0,i.Z)("stop",{stopColor:"#fff3b9",stopOpacity:1,offset:"0%"}),(0,i.Z)("stop",{stopColor:"#fff5b3",stopOpacity:1,offset:"43.06071840842074%"}),(0,i.Z)("stop",{stopColor:"#c28810",stopOpacity:1,offset:"57.658156253850535%"}),(0,i.Z)("stop",{stopColor:"#c28810",stopOpacity:1,offset:"100%"})),(0,i.Z)("clipPath",{id:"clipf2yJPW8IBd"},void 0,(0,i.Z)("use",{xlinkHref:"#b42YoJKQ1",opacity:"1"})),(0,i.Z)("mask",{id:"maskb79BUVDNn",x:"-5",y:"-5",width:"220",height:"220",maskUnits:"userSpaceOnUse"},void 0,(0,i.Z)("rect",{x:"-5",y:"-5",width:"220",height:"220",fill:"white"}),(0,i.Z)("use",{xlinkHref:"#b42YoJKQ1",opacity:"1",fill:"black"})),(0,i.Z)("path",{d:"M170 105C170 140.87 140.87 170 105 170C69.13 170 40 140.87 40 105C40 69.12 69.13 40 105 40C140.87 40 170 69.12 170 105Z",id:"cnu6wKNKi"}),(0,i.Z)("linearGradient",{id:"gradientb2quYxBTQ2",gradientUnits:"userSpaceOnUse",x1:"165.67",y1:"81",x2:"41.67",y2:"119.33"},void 0,(0,i.Z)("stop",{stopColor:"#fff9cf",stopOpacity:1,offset:"0%"}),(0,i.Z)("stop",{stopColor:"#fff3ab",stopOpacity:1,offset:"34.59400991894961%"}),(0,i.Z)("stop",{stopColor:"#bf8103",stopOpacity:1,offset:"65.52423173955407%"}),(0,i.Z)("stop",{stopColor:"#b77700",stopOpacity:1,offset:"100%"})))),r||(r=(0,i.Z)("g",{},void 0,(0,i.Z)("g",{},void 0,(0,i.Z)("use",{xlinkHref:"#b42YoJKQ1",opacity:"1",fill:"url(#gradientcgjC0NQom)"}),(0,i.Z)("g",{clipPath:"url(#clipf2yJPW8IBd)"},void 0,(0,i.Z)("use",{xlinkHref:"#b42YoJKQ1",opacity:"1",fillOpacity:"0",stroke:"#b16214",strokeWidth:"6",strokeOpacity:"1"})),(0,i.Z)("g",{mask:"url(#maskb79BUVDNn)"},void 0,(0,i.Z)("use",{xlinkHref:"#b42YoJKQ1",opacity:"1",fillOpacity:"0",stroke:"#f7bc40",strokeWidth:"10",strokeOpacity:"1"}))),(0,i.Z)("g",{},void 0,(0,i.Z)("use",{xlinkHref:"#cnu6wKNKi",opacity:"1",fill:"url(#gradientb2quYxBTQ2)"}),(0,i.Z)("g",{},void 0,(0,i.Z)("use",{xlinkHref:"#cnu6wKNKi",opacity:"1",fillOpacity:"0",stroke:"#d29629",strokeWidth:"4",strokeOpacity:"1"}))))))};l.propTypes={className:a().string,size:a().number},l.defaultProps={size:210};const c=l},"./src/components/JssConfiguration.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var o=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),r=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(n("webpack/sharing/consume/default/react/react"),n("./node_modules/prop-types/index.js")),s=n.n(i),a=n("./node_modules/jss/dist/jss.esm.js"),l=n("./node_modules/jss-preset-default/dist/jss-preset-default.esm.js"),c=n("./node_modules/react-jss/dist/react-jss.esm.js");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t=e.children,n=e.insertionPoint;return(0,o.Z)(c.JssProvider,{jss:(0,a.create)(d(d({},(0,l.Z)()),{},{insertionPoint:n}))},void 0,t)};p.propTypes={children:s().node.isRequired,insertionPoint:s().object};const m=p},"./src/components/MobileRoot.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>ct});var o,r=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),i=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),s=n("webpack/sharing/consume/default/react/react"),a=n.n(s),l=n("./node_modules/prop-types/index.js"),c=n.n(l),u=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),d=n("./src/components/VideoAndCtaContainer.js"),p=n("./src/components/video/VideoDisplay.js"),m=n("./src/components/CtaContainer.js"),h=n("./src/components/modals/Modal.js"),f=n("./src/components/ThanksSpendMessage.js"),g=n("./src/components/section/TabsContainer.js"),v=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),_=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),y=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),b=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),S=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),E=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),C=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),Z=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),P=n("webpack/sharing/consume/default/react-dom/react-dom"),O=n.n(P),T=n("./node_modules/styled-components-rtl/index.js"),I=n("./node_modules/react-draggable/build/cjs/cjs.js"),w=n.n(I),A=n("./src/lib/Dispatcher.js"),R=n("./src/constants/Actions.js"),k=n("./src/constants/Platforms.ts"),D=n("./src/constants/LayoutConstants.ts"),L=n("./src/components/VideoPip.js"),N=n("./src/stores/LayoutStore.js"),x=n("./src/stores/VideoPipStore.js"),j=n("./src/utils/tools.ts");function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,b.Z)(e);if(t){var r=(0,b.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,y.Z)(this,n)}}var B=D.w1.SWIPE_DRAGGER_WIDTH,U=D.w1.RESIZE_DRAGGER_HEIGHT,G="cubic-bezier(0, 0.75, 0.25, 1)",V={left:B,right:B,bottom:U},F=u.ZP.div.withConfig({displayName:"MobilePipDragger__OverflowWrapper",componentId:"sc-13fo59g-0"})(["position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden;"]),H=u.ZP.div.withConfig({displayName:"MobilePipDragger__ContentMover",componentId:"sc-13fo59g-1"})(["transform-origin:0 0;transition-timing-function:ease-in;"]),Y=u.ZP.div.withConfig({displayName:"MobilePipDragger__DragHelper",componentId:"sc-13fo59g-2"})(["width:","px;height:","px;transform-origin:0 0;position:fixed;top:0;"," z-index:1;"],(function(e){return e.disabled?0:e.widight}),(0,T.Z)(o||(o=(0,Z.Z)(["\n    left: 0;\n  "])))),W=(0,ht=i})),z=function(e,t,n){var o=.5*e,r=o/n;return new W({x:e-o-4,y:t-r-4,width:o,height:r})},q=function(e,t,n){var o=e.width/e.height>t.width/t.height?t.width/e.width:t.height/e.height,r=e.width*o,i=e.height*o,s=(t.width-r)/2,a=(t.height-i)/2,l=n*n*n;return new W({x:(0,j.t7)(e.x,t.x+s,l),y:(0,j.t7)(e.y,t.y+a,n),width:(0,j.t7)(e.width,r,l),height:(0,j.t7)(e.height,i,l)})},K=function(e,t,n){e.style.pointerEvents="none";var o=document.elementFromPoint(t,n);o&&o.dispatchEvent(new MouseEvent("click",{bubbles:!0})),e.style.pointerEvents="auto"},X=function(e){for(var t=e;t;){var n;if(t instanceof Element&&"fixed"===(null===(n=window.getComputedStyle(t).getPropertyValue("position"))||void 0===n?void 0:n.toLowerCase()))return t;t=t.parentNode}return null},Q=function(e){(0,_.Z)(n,e);var t=M(n);function n(e,o){var r;(0,C.Z)(this,n),r=t.call(this,e,o),(0,S.Z)((0,v.Z)(r),"onLayoutStoreChange",(function(){var e=N.ZP.getState(),t=e.videoViewportWidth,n=e.videoViewportHeight,o=e.videoAspectRatio,i=e.mobileClampedView,s=e.chatInputActive,a=e.videoViewportHeightAdjustment,l=e.clientRootBoundingRect;r.setState({videoViewportWidth:t,videoViewportHeight:n,videoAspectRatio:o,mobileClampedView:i,chatInputActive:s,videoViewportHeightAdjustment:a,topOffset:l.top},r.evaluateIsDragEnabled)})),(0,S.Z)((0,v.Z)(r),"onVideoPipStoreChange",(function(){var e=x.Z.getState(),t=e.mobileIsDragging,n=e.mobileProgressToPip,o=e.isProgressAnimating,i=e.streamAvailableForPip,s=r.props,a=s.innerWidth,l=s.innerHeight,c=r.state.videoAspectRatio,u=z(a,l,c),d=Math.round(n)>0?{x:u.x,y:u.y}:{x:V.left,y:0};r.setState({dragPosition:d,isDragging:t,progressToPip:n,isProgressAnimating:o,streamAvailableForPip:i},r.evaluateIsDragEnabled)})),(0,S.Z)((0,v.Z)(r),"evaluateIsDragEnabled",(function(){var e=r.props,t=e.isLandscape,n=e.modal,o=e.overlay,i=r.state,s=i.isDragEnabled,a=i.streamAvailableForPip,l=i.mobileClampedView,c=i.chatInputActive,u=i.videoViewportHeightAdjustment,d=a&&!n&&!o&&!l&&!c&&!t&&u<=0;if(d!==s){var p=d?null:r.restoreDefault;r.setState({isDragEnabled:d},p)}})),(0,S.Z)((0,v.Z)(r),"handleDragStart",(function(e){e.preventDefault(),e.stopPropagation();var t=r.state.progressToPip;return r.setState({isDraggingFromPip:Math.round(t)>0}),r.dragStartTimeout=setTimeout(r.handleDragStop,500),r.dragStarted=!0,r.dragged=!1,!r.state.isProgressAnimating})),(0,S.Z)((0,v.Z)(r),"handleDrag",(function(e,t){e.preventDefault(),e.stopPropagation();var n=r.state,o=n.isDragging,i=n.isDragEnabled;if(!r.dragStarted&&!o||!i)return!1;clearTimeout(r.dragStartTimeout);var s=r.state.videoAspectRatio,a=r.props,l=a.innerWidth,c=a.innerHeight,u=z(l,c,s),d=(0,j.uZ)((t.y-5)/(u.y-10),0,1);d!==r.state.progressToPip&&(A.Z.dispatch({type:R.Z.MOBILE_DRAGGING_TO_PIP,data:{isDragging:!0,isProgressAnimating:!1,progressToPip:d}}),r.dragStarted=!1,r.dragged=!0)})),(0,S.Z)((0,v.Z)(r),"handleDragStop",(function(){var e=r.state,t=e.isDraggingFromPip,n=e.isDragging,o=e.isDragEnabled,i=e.progressToPip;n&&r.dragged&&r.clampPip(t,o,i)})),(0,S.Z)((0,v.Z)(r),"clampPip",(function(e,t,n){var o=e?-.4:.2,i=t?Math.round(n+o):0;setTimeout((function(){A.Z.dispatch({type:R.Z.MOBILE_DRAGGING_TO_PIP,data:{isDragging:!1,isProgressAnimating:!0,progressToPip:i}})})),clearTimeout(r.dragStopAnimationTimeout),r.dragStopAnimationTimeout=setTimeout((function(){r.dragStopAnimationTimeout=null,A.Z.dispatch({type:R.Z.MOBILE_DRAGGING_TO_PIP,data:{isDragging:!1,isProgressAnimating:!1,progressToPip:i}})}),400);var s=r.state.videoAspectRatio,a=r.props,l=a.innerWidth,c=a.innerHeight,u=z(l,c,s),d=Math.round(i)>0?{x:u.x,y:u.y}:{x:0,y:0};r.setState({dragPosition:d})})),(0,S.Z)((0,v.Z)(r),"restoreDefault",(function(){r.clampPip((0,v.Z)(r),!0,!1,0)})),(0,S.Z)((0,v.Z)(r),"handleDragHelperClick",(function(e){r.state.isProgressAnimating||K(e.target,e.clientX,e.clientY)})),(0,S.Z)((0,v.Z)(r),"handleDragHelperRef",(function(e){r.dragHelperRef&&(r.dragHelperRef.removeEventListener("touchstart",r.handleTouchStart),r.dragHelperRef.removeEventListener("touchend",r.handleTouchMove)),r.dragHelperRef=e,r.dragHelperRef&&(r.dragHelperRef.addEventListener("touchstart",r.handleTouchStart),r.dragHelperRef.addEventListener("touchend",r.handleTouchMove))})),(0,S.Z)((0,v.Z)(r),"handleOverflowWrappere)})})),(0,S.Z)((0,v.Z)(r),"handleTouchStlt()})),(0,S.Z)((0,v.Z)(r),"handleTouchMove",(function(e){var t;e.preventDefault(),!r.dragged&&(null===(t=e.changedTouches)||void 0===t?void 0:t.length)>0&&!r.state.isProgressAnimating&&K(r.dragHelperRef,e.changedTouches[0].clientX,e.changedTouches[0].clientY)}));var i=o.platform,s=x.Z.getState(),a=s.mobileIsDragging,l=s.mobileProgressToPip,c=s.isProgressAnimating,u=s.streamAvailableForPip,d=N.ZP.getState(),p=d.videoViewportWidth,m=d.videoViewportHeight,h=d.videoAspectRatio,f=d.videoViewportHeightAdjustment,g=d.clientRootBoundingRect,_=i===k.ZP.SCP;return r.state={isDragging:a,progressToPip:l,isProgressAnimating:c,streamAvailableForPip:u,videoViewportWidth:p,videoViewportHeight:m,videoAspectRatio:h,videoViewportHeightAdjustment:f,topOffset:g.top,isDragEnabled:!0,enabled:_,offsetParent:null},r}return(0,E.Z)(n,[{key:"componentDidMount",value:function(){this.layoutStoreToken=N.ZP.addListener(this.onLayoutStoreChange),this.videoPipStoreToken=x.Z.addListener(this.onVideoPipStoreChange)}},{key:"componentWillUnmount",value:function(){this.layoutStoreToken.remove(),this.videoPipStoreToken.remove(),this.dragHelperRef&&(this.dragHelperRef.removeEventListener("touchstart",this.handleTouchStart),this.dragHelperRef.removeEventListener("touchend",this.handleTouchMove))}},{key:"componentDidUpdate",value:function(){this.evaluateIsDragEnabled()}},{key:"render",value:function(){var e=this.props,t=e.innerHeight,n=e.innerWidth,o=e.children,s=this.state,l=s.dragPosition,c=s.isDragging,u=s.progressToPip,d=s.isProgressAnimating,p=s.videoViewportWidth,m=s.videoViewportHeight,h=s.videoAspectRatio,f=s.isDragEnabled,g=s.enabled,v=s.offsetParent,_=s.topOffset;if(!g)return o;var y=function(e,t){return new W({x:0,y:0,width:e,height:t})}(p,m),b=z(n,t,h),S=!c,E=!c&&!d,C=function(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=q(e,t,n),i=r.x,s=r.y,a=r.height,l=a/e.height,c=o?"transform ".concat(.4,"s ").concat(G,", opacity ").concat(.4,"s ").concat(G):"",u=n*n*n;return{transform:"translate(".concat(i,"px, ").concat(s,"px) scale(").concat(l,")"),opacity:1-u,transition:c}}(y,b,u,S),Z=function(e,t,n){return Math.round(n)>0?{width:t.width,height:t.height}:{width:e.width-V.left-V.right,height:e.height-V.bottom}}(y,b,u),P=function(e,t,n,o){var r=o.useTransition,i=void 0===r||r,s=o.showPipContent,a=void 0!==s&&s,l=o.topOffset,c=void 0===l?0:l,u=n*n*n,d=i?.4:-1;return{x:(0,j.t7)(e.x,t.x,u),y:(0,j.t7)(e.y,t.y,n)+c,viewportWidth:(0,j.t7)(e.width,t.width,u),viewportHeight:(0,j.t7)(e.height,t.height,u),transitionTime:d,transitionEase:"cubic-bezier(0, 0.75, 0.25, 1)",showShadow:a,showButtons:a}}(y,b,u,{useTransition:S,showPipContent:E,topOffset:_});return a().createElement(F,{ref:this.handleOverflowWrapperRef},(0,i.Z)(H,{style:C,"data-ta-locator":"MobilePipDragger_ContentMover"},void 0,o),a().createElement(L.Z,(0,r.Z)({},P,{restoreDefault:this.restoreDefault})),O().createPortal((0,i.Z)(w(),{onStart:this.handleDragStart,onDrag:this.handleDrag,onStop:this.handleDragStop,axis:"y",bounds:{top:0,bottom:b.y},position:l,disabled:!f,offsetParent:v},void 0,a().createElement(Y,(0,r.Z)({},Z,{disabled:!f,onClick:this.handleDragHelperClick,ref:this.handleDragHelperRef,"data-ta-locator":"MobilePipDragger_DragHelper"}))),this.context.pipContainerElement))}}]),n}(s.Component);Q.propTypes={isLandscape:c().bool,modal:c().string,overlay:c().string,innerHeight:c().number,innerWidth:c().number,children:c().oneOfType([c().func,c().node]).isRequired},Q.defaultProps={isLandscape:!1,modal:"",overlay:"",innerHeight:0,innerWidth:0},Q.contextTypes={pipContainerElement:c().object.isRequired,platform:c().oneOf(Object.values(k.ZP))};const J=Q;var $=n("./src/components/ThemeProvider.tsx"),ee=n("./src/components/videoclient/cam2cam/EnterModal/PrivateCallPreviewLively.tsx"),te=n("./src/constants/Overlays.ts"),ne=n("./src/stores/ModalStore.js"),oe=n("./src/stores/OverlayStore.js"),re=n("./src/stores/PerformerStore.ts"),ie=n("./src/stores/UserStore.js"),se=n("./src/components/videoclient/store/cam2cam/Cam2CamStore.ts"),ae=n("./src/components/videoclient/store/videoClient/VideoClientStore.ts"),le=n("./src/utils/withStores.tsx"),ce=n("./node_modules/lodash/fp/getOr.js"),ue=n.n(ce),de=n("./node_modules/icf-react-components/components/RaisedButton/index.js"),pe=n.n(de),me=n("./node_modules/icf-react-components/components/FlatButton/index.js"),he=n.n(me),fe=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),ge=n.n(fe),ve=n("./node_modules/@atg/contentreview/index.js"),_e=n("./src/utils/lomsTools.js"),ye=n("./src/utils/messenger.ts"),be=n("./src/utils/complaint.ts"),Se=n("./node_modules/icf-react-components/components/CircleImage/index.js"),Ee=n.n(Se),Ce=u.ZP.div.withConfig({displayName:"CircleBioPic__StyledCircleImage",componentId:"sc-19sz4rs-0"})(["margin:0 auto;z-index:2;img{","}"],(function(e){return e.blur&&"filter: blur(16px);"})),Ze=function(e){var t=e.biopic,n=e.blur,o=e.performerName,r=e.size,i=e.onClick;return a().createElement(Ce,{onClick:i,blur:n},Boolean(t)&&a().createElement(Ee(),{src:t,size:r,alt:o,border:!0,shadow:!0}))};Ze.defaultProps={size:90,blur:!1};const Pe=(0,le.Z)([re.Z],(function(e){var t,n,o;return{performerName:null!==(t=null===(n=e.performer.bio)||void 0===n||null===(o=n.About)||void 0===o?void 0:o.Name)&&void 0!==t?t:e.performer.nickname,biopic:e.performer.biopicLarge}}))(Ze);var Oe,Te,Ie,we,Ae,Re,ke,De=n("./src/components/video/Favorite.js"),Le=n("./src/components/bio/CountryAgeTag.tsx"),Ne=n("./src/components/modals/Rating.js"),xe=n("./src/components/common/CloseButton.js"),je=n("./src/components/ReportComplaintButton.tsx"),Me=n("./src/lib/Strings.js"),Be=n("./src/constants/Messages.js"),Ue=n("./src/constants/LomsEvents.js"),Ge=n("./src/constants/ComplaintConstants.ts"),Ve=u.ZP.span.withConfig({displayName:"MobileOfflineProfileHeader__PerformerNickname",componentId:"sc-1gpxb9c-0"})(["font-size:22px;color:",";font-weight:",";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"," margin-top:","px;"],(function(e){return e.theme.colors.baseContrast070}),(function(e){return e.theme.typography.fontWeight}),(0,T.Z)(Oe||(Oe=(0,Z.Z)(["\n    margin-left: ","px;\n  "])),(function(e){var t=e.theme;return String(t.spacing.base/2)})),(function(e){return e.theme.spacing.base/2})),Fe=u.ZP.div.withConfig({displayName:"MobileOfflineProfileHeader__StyledWrapper",componentId:"sc-1gpxb9c-1"})(["display:flex;flex-direction:column;padding-top:","px;background:",";"],(function(e){return 2*e.theme.spacing.base}),(function(e){return e.theme.colors.baseContrast015})),He=u.ZP.div.withConfig({displayName:"MobileOfflineProfileHeader__SnapshotBackgroundImage",componentId:"sc-1gpxb9c-2"})(["opacity:0.4;position:absolute;top:0;left:0;bottom:0;right:0;height:96px;background-color:",";background-image:",";background-repeat:no-repeat;background-size:cover;z-index:1;",""],(function(e){return e.theme.colors.baseContrast0")")}),(function(e){return e.blur&&"filter: blur(16px);"})),Ye=u.ZP.div.withConfig({displayName:"MobileOfflineProfileHeader__StyledFavoriteAndName",componentId:"sc-1gpxb9c-3"})(["display:flex;flex-direction:row;justify-content:center;align-items:center;"]),We=u.ZP.div.withConfig({displayName:"MobileOfflineProfileHeader__StyledAgeAndRating",componentId:"sc-1gpxb9c-4"})(["display:flex;flex-direction:row;justify-content:center;align-items:center;margin-top:","px;margin-bottom:",";& > div{display:flex;align-items:center;margin:",";;}.countryAgeTag{font-size:14px;}"],(function(e){return e.theme.spacing.base/2}),(function(e){var t=e.theme;return"".concat(1.5*t.spacing.base,"px")}),(function(e){var t=e.theme;return"0 ".concat(t.spacing.base/2,"px")})),ze=(0,u.iv)(["display:flex;justify-content:center;margin:",";& label{margin:0;font-size:14px;}"],(function(e){var t=e.theme;return"".concat(t.spacing.base/2,"px ").concat(2*t.spacing.base,"px")})),qe=(0,u.ZP)(pe()).withConfig({displayName:"MobileOfflineProfileHeader__StyledRaisedButton",componentId:"sc-1gpxb9c-5"})(["",""],ze),Ke=(0,u.ZP)(he()).withConfig({displayName:"MobileOfflineProfileHeader__StyledFlatButton",componentId:"sc-1gpxb9c-6"})(["",""],ze),Xe=(0,u.ZP)(xe.Z).withConfig({displayName:"MobileOfflineProfileHeader__StyledCloseButton",componentId:"sc-1gpxb9c-7"})(["position:absolute;"," top:0;z-index:2;"],(0,T.Z)(Te||(Te=(0,Z.Z)(["\n    right: 0;\n  "])))),Qe=u.ZP.div.withConfig({displayName:"MobileOfflineProfileHeader__OfflineTag",componentId:"sc-1gpxb9c-8"})(["position:absolute;top:","px;"," font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;color:",";z-index:base}),(0,T.Z)(Ie||(Ie=(0,Z.Z)(["\n    left: ","px;\n  "])),(function(e){var t=e.theme;return String(1.5*t.spacing.base)})),(function(e){return e.theme.colors.baseContrast060})),Je=(0,u.ZP)(je.Z).withConfig({displayName:"MobileOfflineProfileHeader__StyledReportComplaintButton",componentId:"sc-1gpxb9c-9"})(["position:absolute;",""],(0,T.Z)(we||(we=(0,Z.Z)(["\n    right: 0px;\n  "])))),$e=function(){(0,_e.$m)(Ue.Z.CTA_BUTTONS.OFFLINE_MESSENGER),(0,ye.z)()},et=function(){(0,_e.$m)(Ue.Z.CTA_BUTTONS.CIRCLE_BIO_PIC),(0,ye.z)()},tt=function(e,t){var n,o=t.platform===k.ZP.UNKNOWN||t.platform===k.ZP.SCP,r=[{typeAttributes:[ve.ContentType.BioPic],localizedString:(0,Me.KF)(Ge.vl[ve.ContentType.BioPic]),lookupData:null!==(n=(0,be.Y)(ve.ContentType.BioPic))&&void 0!==n?n:{},isPaidContent:!1,serviceType:ve.ServiceType.HybridClient}],a=ie.Z.isExplicitContentBlocked();return(0,i.Z)(Fe,{},void 0,(0,i.Z)(He,{performerSnapshot:e.performerSnapshot,blur:a}),(0,i.Z)(Qe,{},void 0,(0,Me.KF)("offline")),(0,i.Z)(Xe,{buttonId:"MobileOfflineProfileHeader-CloseButton",onClick:function(){return(0,j.Vj)(Be.Z.CLOSE_CLIENT)}}),(0,i.Z)(Pe,{onClick:et,blur:a}),(0,i.Z)(Ye,{},void 0,(0,i.Z)(De.r,{performerId:e.performerId}),(0,i.Z)(Ve,{},void 0,e.performerName)),(0,i.Z)(We,{},void 0,(0,i.Z)(Le.Z,{bio:e.bio,className:"countryAgeTag",showLanguages:!1}),(0,i.Z)(Ne.Z,{rating:e.performerRating,size:16}),(0,i.Z)(Je,{complaintLocation:Ge.Kh.HYBRID_CLIENT_MOBILE_PROFILE_HEADER,reportableContents:r})),o?(0,i.Z)(s.Fragment,{},void 0,(0,i.Z)(qe,{label:(0,Me.KF)("inmail_private_message_me"),size:"small",iconLeft:Ae||(Ae=(0,i.Z)(ge(),{name:"email"})),onClick:$e}),(0,i.Z)(Ke,{label:(0,Me.KF)("back_to_live"),size:"small",iconLeft:Re||(Re=(0,i.Z)(ge(),{name:"arrowBack"})),onClick:function(){return(0,j.Vj)(Be.Z.BROWSE_LIVE_MODELS)},ghost:!0})):(0,i.Z)(qe,{label:(0,Me.KF)("back_to_live"),size:"small",iconLeft:ke||(ke=(0,i.Z)(ge(),{name:"arrowBack"})),onELS)}}))};tt.propTypes={performerName:c().string,performerId:c().number,bio:c().object,performerRating:c().number,performerSnapshot:c().string},tt.contextTypes={platform:c().oneOf(Object.values(k.ZP))};const nt=(0,le.Z)([re.Z],(function(e){var t=e.performer;return{bio:t.bio,performerId:ue()(t.id,"PerformerId",t.bio),performerName:ue()(t.nickname,"About.Name",t.bio),performerRating:ue()(void 0,"About.Rating",t.bio),performerSnapshot:t.snapshot}}))(tt);var ot,rt,it,st=u.ZP.div.attrs({style:function(e){return{flexBasis:"".concat(e.innerHeight,"px"),height:"".concat(e.innerHeight,"px")}}}).withConfig({displayName:"MobileRoot__MobileRootWrapper",componentId:"sc-n7awqp-0"})(["background-color:#000;display:flex;flex-direction:column;flex-grow:1;flex-wrap:nowrap;justify-content:center;overflow-x:hidden;overflow-y:hidden;position:relative;"]),at=(0,u.ZP)(d.Z).withConfig({displayName:"MobileRoot__StyledVideoAndCtaContainer",componentId:"sc-n7awqp-1"})(["& > .icf-react-components{flex:1;display:flex;}& > .icf-react-components > div{flex:1;}"]),lt=function(e,t){var n=e.innerHeight,o=e.innerWidth,s=e.isLandscape,l=e.modal,c=e.modalProps,u=e.overlay,d=e.performerId,v=e.mobileCam2Cam,_=e.assetPath,y=e.source,b=e.sections,S=e.offlineMobileLayoutEnabled,E=e.themeMode,C=e.hideCtaContainer,Z=e.c2cRequestedLively,P=t.platform,O=P===k.ZP.BLACKLABEL,T=P===k.ZP.STREAMFANS,I={isLandscape:s,modal:l,overlay:u,innerHeight:n,innerWidth:o},w={innerHeight:n,isLandscape:s},A={assetPath:_,source:y,isLandscape:s,mobileCam2Cam:v,key:"HybridClient_VideoDisplay"};return a().createElement(J,I,(0,i.Z)($.Z,{themeMode:E,themeSwitch:!0},void 0,a().createElement(st,w,S?ot||(ot=(0,i.Z)(nt,{})):(0,i.Z)(at,{},void 0,(0,i.Z)($.Z,{themeMode:"dark",themeSwitch:!0},void 0,a().createElement(p.Z,A,Z&&(rt||(rt=(0,i.Z)(ee.Z,{desktop:!1,direction:"right",controls:!0}))),it||(it=(0,i.Z)(f.Z,{}))),l&&a().createElement(h.Z,(0,r.Z)({},c,{isLandscape:s,key:l,modal:l}))),!u&&(0,i.Z)(m.Z,{isDesktop:!1,isLandscape:s,mobileCam2Cam:v,hidden:C})),(0,i.Z)(g.Z,{hide:s||!d,hideAddToFavorites:O,hideTags:O,isBlackLabel:O,performerId:d,sections:b,hideBio:T,hidePhotos:T||ie.Z.isExplicitContentBlocked()}))))};lt.propTypes={assetPath:c().string,mobileCam2Cam:c().bool,themeMode:c().string,source:c().string,sections:c().object,modal:c().string,modalProps:c().object,overlay:c().string,performerId:c().number,isLandscape:c().bool,innerHeight:c().number,innerWidth:c().number,hideCtaContainer:c().bool,offlineMobileLayoutEnabled:c().bool,c2cRequestedLively:c().bool,audioEnabled:c().bool,videoEnabled:c().bool,currentAudioDeviceId:c().string,currentVideoDeviceId:c().string},lt.defaultProps={isLandscape:!1,mobileCam2Cam:!1,modal:"",overlay:"",performerId:0,innerHeight:0,innerWidth:0,sections:null,hideCtaContainer:!1},lt.contextTypes={platform:c().oneOf(Object.values(k.ZP))};const ct=(0,le.Z)([ne.Z,oe.Z,re.Z,N.ZP,se.Z,ae.Z],(function(e){return{modal:e.modal.modal,modalProps:e.modal.modalProps,overlay:e.overlay.overlay,performerId:Number(e.performer.id),isLandscape:e.layout.isLandscape,innerHeight:e.layout.innerHeight,innerWidth:e.layout.innerWidth,hideCtaContainer:e.layout.chatInputActive&&e.layout.mobileClampedView,offlineMobileLayoutEnabled:e.layout.offlineMobileLayoutEnabled&&e.overlay.overlay===te.Z.OFFLINE,c2cRequestedLively:e.cam2cam.requested,videoEnabled:e.cam2cam.videoEnabled,audioEnabled:e.cam2cam.audioEnabled,currentAudioDeviceId:e.cam2cam.currentAudioDeviceId,currentVideoDeviceId:e.cam2cam.currentVideoDeviceId}}),{memoize:!0})(lt)},"./src/components/ThanksPopup.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>c,h:()=>a});var o,r=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),i=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=n("./node_modules/styled-components-rtl/index.js"),a=1250,l=(0,i.F4)(["0%{opacity:0;transform:translate(-50%,30px);}15%{opacity:1;transform:translate(-50%,0px);}85%{opacity:0.9;transform:translate(-50%,0px);}100%{opacity:0;transform:translate(-50%,30px);}"]);const c=i.ZP.div.withConfig({displayName:"ThanksPopup",componentId:"sc-5xfjtn-0"})(["position:absolute;top:-40px;padding:","px ","px;font-size:","px;background-color:rgba(0,0,0,0.8);color:",";z-index:2;font-family:",";font-weight:400;line-height:1.4em;pointer-events:none;"," animation:"," ","ms;will-change:opacity,transform;animation-fill-mode:botse/2}),(function(e){return e.theme.spacing.baze-2}),(function(e){return e.theme.colors.textOnDark}),(function(e){return e.theme.typography.fontFamily}),(0,s.Z)(o||(o=(0,r.Z)(["\n    left: 50%;\n  "])e||a}))},"./src/components/ThanksSpendMessage.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var o,r=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),i=n("webpack/sharing/consume/default/react/react"),s=n("./node_modules/prop-types/index.js"),a=n.n(s),l=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),u=n.n(c),d=n("./src/lib/Dispatcher.js"),p=n("./src/lib/Strings.js"),m=n("./src/constants/LayoutConstants.ts"),h=n("./src/constants/Actions.js"),f=n("./src/components/common/primitives/index.js"),g=n("./src/utils/withStores.tsx"),v=n("./src/stores/ModalStore.js"),_=n("./src/stores/LayoutStore.js"),y=(0,l.F4)(["0%{transform:scale(0);animation-timing-function:cubic-bezier(0.1,0.5,0.8,1.5);}15%{transform:scale(0.95);animation-timing-function:ease-out;}20%{transform:scale(1);}85%{transform:scale(1);animation-timing-function:ease-in;}100%{transform:scale(0);}"]),b=(0,l.F4)(["0%{opacity:0;animation-timing-function:ease;}20%{opacity:0.75;}80%{opacity:0.75;animation-timing-function:ease-in;}100%{opacity:0;}"]),S=(0,l.F4)(["0%{transform:scale(0);}10%{transform:scale(0);animation-timing-function:ease-out;}25%{transform:scale(1);}85%{transform:scale(1);animation-timing-function:ease-in;}100%{transform:scale(0);}"]),E=(0,l.F4)(["0%{opacity:0;animation-timing-function:ease;}25%{opacity:1;}80%{opacity:1;animation-timing-function:ease-in;}100%{opacity:0;}"]),C=(0,l.ZP)(u()).attrs({name:"favorite"}).withConfig({displayName:"ThanksSpendMessage__ThanksHeart",componentId:"sc-o7azpv-0"})(["width:250px;height:250px;object-fit:contain;position:absolute;fill:",";animation:"," ","ms,"," ","ms;animation-fill-mode:both;transform-origin:center;"],m.O9.red,y,1e3,b,1e3),Z=l.ZP.span.withConfig({displayName:"ThanksSpendMessage__ThanksHeader",componentId:"sc-o7azpv-1"})(["display:block;font-size:30px;font-weight:500;line-height:1.45;animation:"," ","ms,"," ","ms;animation-fill-mode:both;margin-bottom:35px;text-align:center;text-transform:capitalize;letter-spacing:0.5px;color:#ffffff;user-select:none;position:absolute;min-width:200px;transform-origin:center;"],S,1e3,E,1e3),P={pointerEvents:"none",position:"absolute",top:"50%",left:"50%"},O=function(e){var t=e.show;return(0,i.useEffect)((function(){t&&setTimeout((function(){d.Z.dispatch({type:h.Z.HIDE_THANKS_SPEND_MESSAGE})}),1250)}),[t]),t?(0,r.Z)(f.nd,{"data-ta-locator":"ThanksSpendMessage",style:P},void 0,o||(o=(0,r.Z)(C,{})),(0,r.Z)(Z,{},void 0,p.ZP.getString("thankyou"))):null};O.propTypes={show:a().bool};const T=(0,g.Z)([v.Z,_.ZP],(function(e){return{show:e.modal.showThanksSpendMessage&&!e.layout.isDesktop}}))(O)},"./src/components/VideoAndCtaContainer.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var o=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),r=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(n("webpack/sharing/consume/default/react/react"),n("./node_modules/prop-types/index.js")),s=n.n(i),a=n("./src/stores/LayoutStore.js"),l=n("./src/utils/withStores.tsx");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={display:"flex",flexDirection:"column",flexShrink:0},p=u(u({},d),{},{flexGrow:10,willChange:"height, width",height:"100%",overflowY:"hidden",overflowX:"hidden",zIndex:0,position:"relative"}),m=d,h=function(e){var t=e.isDesktop,n=e.isTablet,o=e.videoViewportWidth,r=e.videoViewportHeight,i=e.ctaHeight;return n||!t?u(u({},m),{},{width:o,height:r+i}):u(u({},p),{},{maxWidth:o,height:r+i})},f=function(e){return(0,o.Z)("div",{"data-ta-locator":"VideoAndCtaContainer",id:"VideoAndCtaContainer",style:h(e),className:e.className},void 0,e.children)};f.propTypes={children:s().node,className:s().string};const g=(0,l.Z)([aght}}))(f)},"./src/components/VideoPip.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>_e});var o=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),p=n("webpack/sharing/consume/default/react/react"),m=n.n(p),h=n("webpack/sharing/consume/default/react-dom/react-dom"),f=n.n(h),g=n("./node_modules/prop-types/index.js"),v=n.n(g),_=n("./src/lib/Strings.js"),y=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),b=n("./node_modules/styled-components-rtl/index.js"),S=n("./node_modules/lodash/pick.js"),E=n.n(S),C=n("./node_modules/lodash/isEqual.js"),Z=n.n(C),P=n("./node_modules/react-draggable/build/cjs/cjs.js"),O=n.n(P),T=n("./node_modules/react-resize-detector/build/index.esm.js"),I=n("./src/lib/Dispatcher.js"),w=n("./src/constants/Actions.js"),A=n("./src/utils/log.js"),R=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),k=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),D=n("./src/constants/LayoutConstants.ts"),L=n("./src/stores/VideoControlsStore.js"),N=n("./src/components/common/ColoredSlider.js"),x=n("./src/components/video/VideoControlsIconButton.js"),j=n("./src/components/common/Tooltip.tsx"),M=["showSlider","showTooltip","handleClick"];function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var U=y.ZP.div.withConfig({displayName:"VolumeControls__SliderBackground",componentId:"sc-nnu866-0"})(["position:relative;width:30px;height:100%;background:",";display:flex;align-items:center;justify-content:center;"],D.O9.darkerGray),G=y.ZP.div.withConfig({displayName:"VolumeControls__SoundContainer",componentId:"sc-nnu866-1"})(["position:relative;margin:-10px;padding:10px;"]),V=y.ZP.div.withConfig({displayName:"VolumeControls__SliderContainer",componentId:"sc-nnu866-2"})(["position:absolute;height:150px;max-height:0;transition:max-height 0.2s 0.5s;overflow:hidden;bottom:45px;z-index:200;transform:rotate(180deg);",":hover &{max-height:100px;transition:max-height 0.2s;}",":active &{max-height:100px;transition:max-height 0.2s;}"],G,G),F=function(e){(0,a.Z)(n,e);var t=B(n);function n(e,o){var i;return(0,r.Z)(this,n),i=t.call(this,e,o),(0,u.Z)((0,s.Z)(i),"onVideoControlsStoreUpdate",(function(){var e=L.Z.getState(),t=e.isMuted,n=e.volume,o=e.supportsVolume;i.setState({display:o,isMuted:t,volume:n})})),(0,u.Z)((0,s.Z)(i),"handleMuteButton",(function(e){var t=!(i.state.isMuted||0===L.Z.getState().volume);I.Z.dispatch({type:w.Z.MUTE,data:{isMuted:t}}),i.props.handleClick&&i.props.handleClick(e)})),(0,u.Z)((0,s.Z)(i),"handleVolumeChange",(function(e){var t=Number(e.toFixed(2));t!==i.state.volume&&I.Z.dispatch({type:w.Z.SET_VOLUME,data:{volume:t}})})),i.state={display:!0,isMuted:!1,volume:L.Z.getState().volume},i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.videoControlsToken=L.Z.addListener(this.onVideoControlsStoreUpdate)}},{key:"componentWillUnmount",value:function(){this.videoControlsToken.remove()}},{key:"render",value:function(){if(!this.state.display)return null;var e,t=this.props,n=t.showSlider,r=t.showTooltip,i=(t.handleClick,(0,k.Z)(t,M)),s="";r&&(s=this.state.isMuted||0===L.Z.getState().volume?_.ZP.getString("unmute_audio"):_.ZP.getString("mute_audio"));return(0,o.Z)(G,{},void 0,(0,o.Z)(j.Z,{title:s},void 0,m().createElement(x.Z,(0,R.Z)({"data-ta-locator":"VolumeControls__muteButton",onClick:this.handleMuteButton,icon:(e=this.state.volume,0===e?"volumeMute":e<.5?"volumeDown":"volumeUp")},i))),n&&(0,o.Z)(V,{},void 0,(0,o.Z)(U,{},void 0,(0,o.Z)(N.Z,{onChange:this.handleVolumeChange,value:this.state.volume,orientation:"vertical"}))))}}]),n}(p.Component);F.propTypes={showSlider:v().bool,showTooltip:v().bool,handleClick:v().func},F.defaultProps={showSlider:!0,showTooltip:!1,handleClick:null};var H,Y,W=n("./src/components/common/GoPrivateButton.js"),z=n("./src/components/GiveGoldButton.js"),q=n("./src/components/common/ActionIconButton.js"),K=n("./src/stores/LayoutStore.js"),X=n("./src/stores/ConnectionStore.js"),Q=n("./src/stores/GoldShowStore.js"),J=n("./src/stores/ModalStore.js"),$=n("./src/stores/VideoPipStore.js"),ee=n("./src/constants/VideoConstants.js"),te=n("./src/constants/LomsEvents.js"),ne=n("./src/constants/DisconnectReasons.js"),oe=n("./src/constants/Platforms.ts"),re=n("./src/utils/tools.ts");function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var le=y.ZP.div.withConfig({displayName:"VideoPip__PipContainer",componentId:"sc-10themx-0"})(["display:",";position:fixed;width:","px;transform-origin:0 0;transition:box-shadow 0.5s,background-color:0.5s;user-select:none;"," &:after{content:'';position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;box-shadow:0 2px 15px 0 rgba(0,0,0,0.75);background-color:rgba(0,0,0,0.375);transition:opacity 1s ease-in-out;opacity:",";}"],(function(e){return e.isShowing?"block":"none"}),264,(function(e){return!e.hasTransform&&(0,y.iv)(["right:","px;bottom:","px;"],24,24)}),(function(e){return e.showShadow?1:0})),ce=y.ZP.div.withConfig({displayName:"VideoPip__VideoAndButtonsWrapper",componentId:"sc-10themx-1"})(["position:relative;width:100%;overflow:hidden;pointer-events:",";"],(function(e){return e.disablePointerEvents?"none":"auto"})),ue=y.ZP.div.withConfig({displayName:"VideoPip__VideoContainer",componentId:"sc-10themx-2"})(["position:absolute;width:","px;height:","px;transform-origin:0 0;"]atio})),de=y.ZP.div.withConfig({displayName:"VideoPip__VideoClick",componentId:"sc-10themx-3"})(["position:absolute;top:0;bottom:0;left:0;right:0;"]),pe=y.ZP.div.withConfig({displayName:"VideoPip__CtaButtonContainer",componentId:"sc-10themx-4"})(["width:100%;margin-top:4px;pointer-events:",";"],(function(e){return e.disablePointerEvents?"none":"auto"})),me=y.ZP.div.withConfig({displayName:"VideoPip__VideoButtonsContainer",componentId:"sc-10themx-5"})(["position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;transition:opacity 0.3s ease;"}"])})),he=y.ZP.div.withConfig({displayName:"VideoPip__ButtonsTopRightContainer",componentId:"sc-10themx-6"})(["position:absolute;top:0px;"," pointer-events:auto;"],(0,b.Z)(H||(H=(0,d.Z)(["\n    right: 0px;\n  "])))),fe=y.ZP.div.withConfig({displayName:"VideoPip__ButtonsBottomLeftContainer",componentId:"sc-10themx-7"})(["position:absolute;bottom:0px;","x;pointer-events:auto;"],(0,b.Z)(Y||(Y=(0,d.Z)(["\n    left: 0px;\n  "])))),ge=(0,y.ZP)(W.Z).withConfig({displayName:"VideoPip__StyledGoPrivateButton",componentId:"sc-10themx-8"})(["width:100%;"]),ve=(0,y.ZP)(z.Z).withConfig({displayName:"VideoPip__StyledGiveGoldButton",componentId:"sc-10themx-9"})(["width:100%;"]),_e=function(e){(0,a.Z)(n,e);var t=ae(n);function n(e,o){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,u.Z)((0,s.Z)(i),"onLayoutStoreChange",(function(){i.setState(n.getLayoutStoreState(),i.evaluateDragBounds)})),(0,u.Z)((0,s.Z)(i),"onConnectionStoreChange",(function(){i.setState(n.getConnectionStoreState(),i.evaluateIsShowing)})),(0,u.Z)((0,s.Z)(i),"onGoldShowStoreChaing)})),(0,u.Z)((0,s.Z)(i),"onModalStoreChae())})),(0,u.Z)((0,s.Z)(i),"onVideoPipStoreChange",(function(){var e=n.getVideoPipStoreState(),t=e.videoPip,o=t.isVideoInPip,r=t.userDismissedPip;o&&!r&&i.moveVideoHere(),i.setState(e,i.evaluateIsShowing)})),(0,u.Z)((0,s.Z)(i),"evaluateIsShowing",(function(){var e=i.state,t=e.isShowing,n=e.goldShow,o=e.dragPosition,r=i.state.connection,s=r.isPlaying,a=r.isGuestChat,l=i.state.videoPip,c=l.isVideoInPip,u=l.streamAvailableForPip,d=c&&i.isVideoHere(),p=!a||n.isInProgress,m=s&&!p,h=d&&m,f=t&&!h?{x:0,y:0}:o;t!==h&&setTimeout((function(){I.Z.dispatch({type:w.Z.PIP_VISIBILITY,data:{isVisible:h}})})),u!==m&&setTimeout((function(){I.Z.dispatch({type:w.Z.STREAM_AVAILABLE_FOR_PIP,data:{streamAvailableForPip:m}})})),i.setState({isShowing:h,dragPosition:f})})),(0,u.Z)((0,s.Z)(i),"setPipRef",(function(e){i.pipRef=e;var t=i.state.videoPip,n=t.isVideoInPip,o=t.userDismissedPip;n&&!o&&i.moveVideoHere()})),(0,u.Z)((0,s.Z)(i),"setVideoDockRef",(function(e){i.videoDockRef=e})),(0,u.Z)((0,s.Z)(i),"handleCloseClicked",(function(e){e.stopPropagation(),i.context.layout===D.ZP.DESKTOP?I.Z.dispatch({type:w.Z.USER_DISMISSED_PIP}):I.Z.dispatch({type:w.Z.DISCONNECT,data:[ne.Z.USER_DISCONNECT,"User manually disconnected."]})})),(0,u.Z)((0,s.Z)(i),"handleVolumeControlsClicked",(function(e){e.stopPropagation(),A.Z.loms({eventname:"PIPButtonClickV1",button:te.Z.PIP_BUTTONS.AUDIO})})),(0,u.Z)((0,s.Z)(i),"handleVideoClicked",(function(){A.Z.loms({eventname:"PIPButtonClickV1",button:te.Z.PIP_BUTTONS.VIDEO}),i.restoreToDefaultVideo()})),(0,u.Z)((0,s.Z)(i),"restoreToDefaultVideo",(function(){var e=i.props.restoreDefault;i.context.layout===D.ZP.DESKTOP?i.scrollToDefault():e&&e()})),(0,u.Z)((0,s.Z)(i),"scrollToDefault",(function(){var e=i.props.scrollToDefaultRef;null!=e&&e.current&&e.current.scrollIntoView()})),(0,u.Z)((0,s.Z)(i),"moveVideoHere",(function(){var e=i.videoDockRef,t=i.context.videoContainerElement;e&&t&&t.parentNode!==e&&(i.videoDockRef.appendChild(i.context.videoContainerElement),i.evaluateIsShowing())})),(0,u.Z)((0,s.Z)(i),"isVideoHere",(function(){var e=i.videoDockRef,t=i.context.videoContainerElement;return Boolean(e&&t)&&t.parentNode===e})),(0,u.Z)((0,s.Z)(i),"getDragWrapperProps",(function(){var e=i.context.layout,t=i.state,n=t.dragEnabled,o=t.dragBounds,r=t.dragPosition,s=e===D.ZP.DESKTOP;return{disabled:!n||!s,onStart:i.handleDragStart,onDrag:i.handleDrag,onStop:i.handleDragStop,bounds:o,position:r}})),(0,u.Z)((0,s.Z)(i),"handleDragStart",(function(e){e.preventDefault(),e.stopPropagation(),i.setState({hasDragged:!1,startDragPosition:i.state.dragPosition})})),(0,u.Z)((0,s.Z)(i),"handleDrag",(function(e,t){var n=t.x,o=t.y;e.preventDefault(),e.stopPropagation();var r,s,a=i.state.dragBounds,l=i.getClampedDragPosition({x:n,y:o},a),c=i.state.hasDragged;if(!c){var u=(r=l,s=i.state.startDragPosition,{x:r.x-s.x,y:r.y-s.*t.y}(u,u)>=9}i.setState({hasDragged:c,dragPosition:l});var d={x:(l.x-a.left)/-(a.left-a.right),y:(l.y-a.top)/-(a.top-a.bottom)};I.Z.dispatch({type:w.Z.DESKTOP_PIP_DRAG_OFFSET,data:se(se({},l),{},{normalizedX:d.x,normalizedY:d.y})})})),(0,u.Z)((0,s.Z)(i),"handleDragStop",(function(){i.setState({hasDragged:!1})})),(0,u.Z)((0,s.Z)(i),"handleResnds)})),(0,u.Z)((0,s.Z)(i),"evaluateDragBounds",(function(){var e=i.state,t=e.pipContainerWidth,n=e.pipContainerHeight,o=e.dragPosition,r=o.x,s=o.y,a=t+48,l=n+48,c={left:-window.innerWidth+a,right:0,top:-window.innerHeight+l,bottom:0},u=i.getClampedDragPosition({x:r,y:s},c);i.setState({dragBounds:c,dragPosition:u})})),i.state=se(se(se(se(se({isShowing:!1,dragEnabled:o.layout===D.ZP.DESKTOP,hasDragged:!1,dragPosition:{x:0,y:0},pipContainerWidth:0,pipContainerHeight:0,transform:se({},E()(e,n.transformProps))},n.getLayoutStoreState()),n.getConnectionStoreState()),n.getGoldShowStoreState()),n.getModalStoreState()),n.getVideoPipStoreState()),i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.layoutToken=K.ZP.addListener(this.onLayoutStoreChange),this.connectionToken=X.Z.addListener(this.onConnectionStoreChange),this.goldShowToken=Q.Z.addListener(this.onGoldShowStoreChange),this.modalToken=J.Z.addListener(this.onModalStoreChange),this.videoPipStoreToken=$.Z.addListener(this.onVideoPipStoreChange),this.dispatchVideoLocationAvailability()}},{key:"componentWillUnmount",value:function(){this.layoutToken.remove(),this.connectionToken.remove(),this.goldShowToken.remove(),this.modalToken.remove(),this.videoPipStoreToken.remove(),setTimeout((function(){I.Z.dispatch({type:w.Z.VIDEO_LOCATION_AVAILABILITY,data:{location:ee.Z.LOCATION.PIP,available:!1}})})),this.state.isVisible&&setTimeout((function(){I.Z.dispatch({type:w.Z.PIP_VISIBILITY,data:{isShowing:!1}})}))}},{key:"shouldComponentUpdate",value:function(e,t,n){return!Z()(e,this.props)||!Z()(t,this.state)||n.layout!==this.context.layout||n.orientation!==this.context.orientation}},{key:"componentDidUpdate",value:function(e){var t=E()(e,n.transformProps),o=E()(this.props,n.transformProps);Z()(t,o)||this.setState({transform:se({},o)}),this.dispatchVideoLocationAvailability()}},{key:"dispatchVideoLocationAvailability",value:function(){var e=this;setTimeout((function(){var t=e.context,n=t.layout,o=t.orientation;I.Z.dispatch({type:w.Z.VIDEO_LOCATION_AVAILABILITY,data:{location:ee.Z.LOCATION.PIP,available:n===D.ZP.DESKTOP||o===D.ZP.PORTRAIT}}),e.evaluateIsShowing()}))}},{key:"renderVideoButtons",value:function(){var e=this.context.layout,t=!this.state.modal.modal,n=e===D.ZP.DESKTOP;return(0,o.Z)(me,{isDesktop:n,"data-ta-locator":"VideoPip__ButtonsContainer"},"video-buttons",(0,o.Z)(he,{},void 0,(0,o.Z)(q.Z,{glyph:"close",title:_.ZP.getString("close"),tooltipPlacement:"top",buttonId:"VideoPip__CloseButton",onClick:this.handleCloseClicked})),(0,o.Z)(fe,{},void 0,n&&(0,o.Z)(F,{transparentBg:!0,isAvailable:t,showSlider:!1,showTooltip:!0,handleClick:this.handleVolumeControlsClicked,"data-ta-locator":"VideoPip__VolumeControls"},"volume-controls")))}},{key:"renderCtaButton",value:function(){var e=this.context.layout;if(e!==D.ZP.DESKTOP||this.state.connection.isRoomEnteringPaid)return null;var t=this.state,n=t.goldShow,o=t.modal,r=t.connection,i=this.state.layout.platform,s=!o.modal&&!o.goldPending,a=n.isActive&&!n.isUserBoughtIn,l=r.isGoldOnly,c=r.isProjectXL,u=r.isRoomPrivateShow,d=c&&!u,p=a||l||i===oe.ZP.STREAMFANS||d,h=!p;if(p){var f=s&&!n.isUserBoughtIn;return m().createElement(ve,{enabled:f,allowed:!0,locator:"VideoPip_GiveGoldButton",inPip:!0})}if(h){var g=s&&!n.isUserBoughtIn;return m().createElement(ge,{layout:e,disabled:!g,locator:"VideoPip_EnterPaidButton",inPip:!0})}return null}},{key:"getPipContainerStyle",value:function(){var e=this.state.transform;if(n.isTransformValid(e)){var t=this.props,o=t.transitionTime,r=t.transitionEase,i=o>=0?["transform","width","height"]t(r)})).join(", "):"",s=e.x,a=e.y;return{width:e.viewportWidth,height:e.viewportHeight,transform:"translate(".concat(s,"px, ").concat(a,"px)"),transition:i}}}},{key:"getVideoAndButtonsWrapperStyle",value:function(){var e,t=this.state.transform;n.isTransformValid(t)?e=t.viewportWidth/t.viewportHeight:e=this.state.layout.videoAspectRatio;var o="".concat(1/e*100,"%"),r=this.props,i=r.transitionTime,s=r.transitionEase;return{paddingBottom:o,transition:i>=0?"padding-bottom ".concat(i,"s ").concat(s):""}}},{key:"getVideoContainerStyle",value:function(){var e=this.state.transform;if(n.isTransformValid(e)){var t=this.props,o=t.transitionTime,r=t.transitionEase,i=o>=0?"transform ".concat(o,"s ").concat(r):"",s=this.state.layout.videoAspectRatio,a=e.viewportWidth,l=e.viewportHeight,c=264/s,u=a/l>s?a/264:l/c,d=(l-c*u)/2;return{transform:"translate(".concat((a-264*u)/2,"px, ").concat(d,"px) scale(").concat(u,")"),transition:i}}}},{key:"getClampedDragPosition",value:function(e,t){var n=e.x,o=e.y,r=t.left,i=t.right,s=t.top,a=t.bottom;return{x:(0,re.uZ)(n,r,i),y:(0,re.uZ)(o,s,a)}}},{key:"render",value:function(){if(!this.context.pipContainerElement)return null;var e=this.props,t=e.showShadow,n=e.showButtons,r=this.state,i=r.isShowing,s=r.hasDragged,a=r.layout.videoAspectRatio,l=i&&n&&this.renderCtaButton(),c=this.getPipContainerStyle(),u=this.getVideoAndButtonsWrapperStyle(),d=this.getVideoContainerStyle(),h=Boolean(c),g=h?p.Fragment:O(),v=h?{}:this.getDragWrapperProps();return f().createPortal(m().createElement(g,v,m().createElement(le,{ref:this.setPipRef,isShowing:i,hasTransform:h,showShadow:t,style:c,"data-ta-locator":"VideoPip__PipContainer"},(0,o.Z)(T.ZP,{onResize:this.handleResize,handleHeight:!0,handleWidth:!0}),(0,o.Z)(ce,{style:u,disablePointerEvents:s},void 0,(0,o.Z)(ue,{videoAspectRatio:a,style:d},void 0,m().createElement("div",{ref:this.setVideoDockRef,"data-ta-locator":"VideoPip__VideoDock"}),(0,o.Z)(de,{onClick:this.handleVideoClicked})),i&&n&&!s&&this.renderVideoButtons()),l&&(0,o.Z)(pe,{onClick:this.restoreToDefaultVideo,disablePointerEvents:s},"cta-container",l))),this.context.pipContainerElement)}}],[{key:"getLayoutStoreState",value:function(){var e=K.ZP.getState();return{layout:{videoAspectRatio:e.videoAspectRatio,platform:e.platform}}}},{key:"getConnectionStoreState",value:function(){return{connection:{isPlaying:X.Z.isPlaying(),isGuestChat:X.Z.isGuestStream(),isGoldOnly:X.Z.isGoldOnlyStream(),isProjectXL:X.Z.isProjectXL(),isRoomPrivateShow:X.Z.isRoomPrivateShow(),isRoomEnteringPaid:X.Z.isRoomEnteringPaid()}}}},{key:"getGoldShowStoreState",value:function(){return{goldShow:{isActive:Q.Z.isActive(),isUserBoughtIn:Q.Z.isUserBoughtIn(),isInProgress:Q.Z.isInProgress()}}}},{key:"getModalStoreState",value:function(){var e=J.Z.getState();return{modal:{modal:e.modal,goldPending:e.goldPending}}}},{key:"getVideoPipStoreState",value:function(){var e=$.Z.getState(),t=e.videoLocation,n=e.userDismissedPip,o=e.streamAvailableForPip;return{videoPip:{isVideoInPip:t===ee.Z.LOCATION.PIP,userDismissedPip:n,streamAvailableForPip:o}}}},{key:"isTransformValid",value:function(e){var t=e.x,n=e.y,o=e.viewportWidth,r=e.viewportHeiof e};return i(t)&&i(n)&&i(o)&&i(r)}}]),n}(p.Component);(0,u.Z)(_e,"transformProps",["x","y","viewportWidth","viewportHeight"]),_e.contextTypes={layout:v().string,orientation:v().string,videoContainerElement:v().instanceOf(Element).isRequired,pipContainerElement:v().instanceOf(Element).isRequired},_e.propTypes={x:v().number,y:v().number,viewportWidth:v().number,viewportHeight:v().number,transitionTime:v().number,transitionEase:v().string,showShadow:v().bool,showButtons:v().bool,restoreDefault:v().func,scrollToDefaultRef:v().object},_e.defaultProps={transitionTime:-1,transitionEase:"",showShadow:!0,showButtons:!0}},"./src/components/chat/ChatDisplay.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),r=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),i=n("webpack/sharing/consume/default/react/react"),s=n.n(i),a=n("./node_modules/prop-types/index.js"),l=n.n(a),c=n("./src/constants/LayoutConstants.ts"),u=n("./src/components/chat/ChatForm.js"),d=n("./src/components/chat/MessageList.js"),p=n("./node_modules/styled-components/dist/styled-components.browser.esm.js").ZP.div.withConfig({displayName:"ChatDisplay__Container",componentId:"sc-131163z-0"})(["display:flex;flex-flow:"," nowrap;flex-grow:1;flex-shrink:0;justify-content:",";position:relative;"],(function(e){return e.inputOnTop?"column":"column-reverse"}),(function(e){return e.inputOnTop?"flex-start":"flex-end"})),m=function(e,t){var n=e.inVoiceChat,i=e.alignChatToolsWithCta,a=t.layout,l=[c.ZP.MOBILE,c.ZP.TABLET].includes(a),m=a===c.ZP.DESKTOP,h={messageFlow:l?"fall":"rise",transparent:l,scrollable:m};return(0,o.Z)(p,{inputOnTop:l},void 0,s().createElement(u.Z,{showChatTools:m,inVoiceChat:n,alignChatToolsWithCta:i}),s().createElement(d.Z,(0,r.Z)({key:"message-list"},h)))};const h=m;m.propTypes={inVoiceChat:l().bool,guests:l().number,alignChatToolsWithCta:l().bool},m.defaultProps={inVoiceChat:!1,guests:1,alignChatToolsWithCta:!1},m.contextTypes={layout:l().string},m.displayName="ChatDisplay"},"./src/components/chat/ChatForm.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>At});var o=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),p=n("webpack/sharing/consume/default/react/react"),m=n.n(p),h=n("./node_modules/prop-types/index.js"),f=n.n(h),g=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),v=n("./node_modules/styled-components-rtl/index.js"),_=n("./node_modules/icf-react-components/themes/dark.js"),y=n("./node_modules/icf-react-components/components/IconButton/index.js"),b=n.n(y),S=n("./src/lib/Dispatcher.js"),E=n("./src/lib/Strings.js"),C=n("./src/utils/log.js"),Z=n("./src/utils/withStores.tsx"),P=n("./src/utils/tools.ts"),O=n("./src/constants/Actions.js"),T=n("./src/constants/ChatConstants.ts"),I=n("./src/constants/LayoutConstants.ts"),w=n("./src/constants/Messages.js"),A=n("./src/constants/ComplaintConstants.ts"),R=n("./src/stores/ConnectionStore.js"),k=n("./src/stores/UserStore.js"),D=n("./src/stores/ChatStore.js"),L=n("./src/stores/LayoutStore.js"),N=n("./src/stores/GoldShowStore.js"),x=n("./src/stores/UserListStore.ts"),j=n("./src/stores/PerformerStore.ts");const M=[{name:"grin",code:""},{name:"laughing",code:""},{name:"wink",code:""},{name:"yum",code:""},{name:"sunglasses",code:""},{name:"heart_eyes",code:""},{name:"kissing_heart",code:""},{name:"smirk",code:""},{name:"relieved",code:""},{name:"stuck_out_tongue_winking_eye",code:""},{name:"stuck_out_tongue_closed_eyes",code:""},{name:"innocent",code:""},{name:"smiling_imp",code:""},{name:"muscle",code:""},{name:"point_left",code:""},{name:"point_right",code:""},{name:"ok",code:""},{name:"+1",code:""},{name:"footprints",code:""},{name:"tongue",code:""},{name:"lips",code:""},{name:"kiss",code:""},{name:"heart",code:""},{name:"heartpulse",code:""},{name:"sweat_drops",code:""},{name:"eyeglasses",code:""},{name:"necktie",code:""},{name:"bikini",code:""},{name:"high_heel",code:""},{name:"boot",code:""},{name:"crown",code:""},{name:"lipstick",code:""},{name:"gem",code:""},{name:"rose",code:""},{name:"banana",code:""},{name:"apple",code:""},{name:"peach",code:""},{name:"cherries",code:""},{name:"eggplant",code:""},{name:"birthday",code:""},{name:"lollipop",code:""},{name:"honey_pot",code:""},{name:"wine_glass",code:""},{name:"volcano",code:""},{name:"rainbow",code:""},{name:"fire",code:""},{name:"tada",code:""},{name:"gift",code:""},{name:"loud_sound",code:""},{name:"wheelchair",code:""},{name:"movie_camera",code:""},{name:"moneybag",code:""},{name:"incoming_envelope",code:""},{name:"scissors",code:""},{name:"crossed_swords",code:""},{name:"smoking",code:""}];var B=n("./src/components/common/Tooltip.tsx"),U=n("./src/components/common/Popup.tsx");function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var V=g.ZP.div.withConfig({displayName:"EmojiPicker__Container",componentId:"sc-1grxha9-0"})(["position:relative;"]),F=(0,g.ZP)(b()).withConfig({displayName:"EmojiPicker__StyledIconButton",componentId:"sc-1grxha9-1"})(["margin:0;padding:0;width:auto;height:auto;border:none;"]),H=(0,g.ZP)(U.Z).withConfig({displayName:"EmojiPicker__StyledPopup",componentId:"sc-1grxha9-2"})(["& > div{flex-direction:column;justify-content:flex-start;min-height:300px;max-height:390px;user-select:none;}"]),Y=g.ZP.div.withConfig({displayName:"EmojiPicker__EmojiList",componentId:"sc-1grxha9-3"})(["align-items:flex-start;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;width:280px;overflow:auto;height:320px;"]),W=g.ZP.a.withConfig({displayName:"EmojiPicker__Glyph",componentId:"sc-1grxha9-4"})(["align-items:center;cursor:pointer;display:flex;font-sizon(e){(0,a.Z)(n,e);var t=G(n);function n(e){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).state={showPopup:!1},o.toggleEmojiListState=o.toggleEmojiListState.bind((0,s.Z)(o)),o}return(0,i.Z)(n,[{key:"toggleEmojiListState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;C.Z.usage("emoji_list_toggled");var t=!this.state.showPopup;this.setState({showPopup:t}),e&&e.stopPropagation(),t?document.addEventListener("click",this.toggleEmojiListState):document.removeEventListener("click",this.toggleEmojiListState)}},{key:"appendEmoji",value:function(e){var t=e.name;C.Z.usageTick("emoji_appended"),C.Z.usageTick("emoji_used_".concat(t)),C.Z.loms({eventname:"EmojiClickV1",name:t}),S.Z.dispatch({type:O.Z.APPEND_EMOJI,data:e.code}),this.toggleEmojiLe:function(){var e=this;return(0,o.Z)(H,{targetId:"EmojiPickerButton"},void 0,(0,o.Z)(Y,{},void 0,M.map((function(t){return(0,o.Z)(W,{onClick:function(){return e.appendEmoji(t)}},t.name,t.code)}))))}},{key:"render",value:function(){var e=this.state.showPopup,t=e?"":E.ZP.getString("emoji");return(0,o.Z)(V,{},void 0,e&&this.renderPopup(),(0,o.Z)(B.Z,{title:t},void 0,(0,o.Z)(F,{id:"EmojiPickerButton","data-ta-locator":"Chat__emojiPicker",onClick:this.toggleEmojiListState,fill:"#9e9e9e",name:"insertEmoticon"})))}}]),n}(p.Component);z.contextTypes={renderFrame:f().object,window:f().any,document:f().any};const q=z;function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var X=g.ZP.div.withConfig({displayName:"PrivateChat__Container",componentId:"sc-wjxp3x-0"})(["display:inline-block;cursor:pointer;height:24px;"]),Q=(0,g.ZP)(b()).withConfig({displayName:"PrivateChat__StyledIconButton",componentId:"sc-wjxp3x-1"})(["margin:0;padding:0;width:24px;height:24px;border:none;"]),J=function(e){(0,a.Z)(n,e);var t=K(n);function n(e){var o;return(0,r.Z)(this,n),o=t.call(this,e),(0,u.Z)((0,s.Z)(o),"onChatStoreUpdate",(function(){var e=D.Z.getState().private;o.state.private!==e&&o.setState({private:e})})),o.state={private:D.Z.getState().private},o.togglePrivacy=o.togglePrivacy.bind((0,s.Z)(o)),o}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.chatToken=D.Z.addListener(this.onChatStoreUpdate)}},{key:"componentWillUnmount",value:function(){this.chatToken.remove()}},{key:"togglePrivacy",value:function(e){e.preventDefault(),C.Z.usageTick("anonymousToggle_click_"+!this.state.private),S.Z.dispatch({type:O.Z.TOGGLE_CHAT_PRIVACY,data:{private:!this.state.private}})}},{key:"render",value:function(){var e=this.state.private?"visibilityOff":"visibility",t=this.state.private?E.ZP.getString("chat_visible"):E.ZP.getString("chat_hidden");return(0,o.Z)(X,{},void 0,(0,o.Z)(B.Z,{title:t},void 0,(0,o.Z)(Q,{"data-ta-locator":"Chat__togglePrivacy",onClick:this.togglePrivacy,fill:"#9e9e9e",name:e})))}}]),n}(p.Component);function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var ee=(0,g.ZP)(b()).attrs({name:"textFormatSize"}).withConfig({displayName:"FontSizeChanger__Button",componentId:"sc-hndn1s-0"})(["margin:0;padding:0;width:auto;height:auto;border:none;"]),te=(0,g.ZP)(b()).attrs({size:20,fill:function(e){return e.theme.colors.baseContrast100}}).withConfig({displayName:"FontSizeChanger__AdjustButton",componentId:"sc-hndn1s-1"})(["padding:4px;margin-",":4px;&:hover{background-color:",";}"],(function(e){return"subtract"===e.name?"right":"left"}),(function(e){return e.theme.colors.baseContrast030})),ne=g.ZP.div.withConfig({displayName:"FontSizeChanger__Container",componentId:"sc-hndn1s-2"})(["position:relative;"]),oe=function(e){(0,a.Z)(n,e);var t=$(n);function n(){var e;return(0,r.Z)(this,n),e=t.call(this),(0,u.Z)((0,s.Z)(e),"togglePopup",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!e.state.popupVisible,o=e.state.userChangedFontSize;e.setState({popupVisible:n,userChangedFontSize:!1}),t&&t.stopPropagation(),n?(C.Z.loms({eventname:"FontSizeClickV2"}),e.context.document.addEventListener("click",e.togglePopup)):(o&&C.Z.loms({eventname:"FontSizeChangeV2",fontSize:D.Z.getState().desktopFontSize}),e.context.document.removeEventListener("click",e.togglePopup))})),(0,u.Z)((0,s.Z)(e),"decreaseFontSize",(function(){S.Z.dispatch({type:O.Z.DECREASE_FONT_SIZE}),e.setState({userChangedFontSize:!0})})),(0,u.Z)((0,s.Z)(e),"increaseFontSize",(function(){S.Z.dispatch({type:O.Z.INCREASE_FONT_SIZE}),e.setState({userChangedFontSize:!0})})),e.state={popupVisible:!1,userChangedFontSize:!1},e}return(0,i.Z)(n,[{key:"stopPropagation",value:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},{key:"render",value:function(){var e=this.state.popupVisible;if(!L.ZP.getState().isDesktop)return null;var t=D.Z.canDecreaseFontSize(),n=D.Z.canIncreaseFontSize();return(0,o.Z)(ne,{},void 0,(0,o.Z)(B.Z,{title:e?"":E.ZP.getString("font_size")},void 0,(0,o.Z)(ee,{fill:e?"#ffffff":"#9e9e9e",onClick:this.togglePopup,id:"FontSizeChangerButton","data-ta-locator":"FontSizeChanger__PopupButton"})),e&&(0,o.Z)(U.Z,{targetId:"FontSizeChangerButton"},void 0,(0,o.Z)(te,{name:"subtract",disabled:!t,onClick:this.decreaseFontSize,"data-ta-locator":"FontSizeChanger__DecreaseButton"}),(0,o.Z)(te,{name:"add",disabled:!n,onClick:this.increaseFontSize,"data-ta-locator":"FontSizeChanger__IncreaseButton"})))}}]),n}(p.Component);oe.contextTypes={document:f().any};const re=oe;var ie=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),se=n.n(ie),ae=n("./src/utils/FluxStoreExtended.ts"),le=n("./node_modules/lscache/lscache.js"),ce=n.n(le);function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var pe=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{max:5,options:[]});const me=new(function(e){(0,a.Z)(n,e);var t=ue(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];eget("QuickChatOptions");return a&&(pe.options=a),e}return(0,i.Z)(n,[{key:"getState",value:function(){return pe}},{key:"isFull",value:function(){return pe.options.length>=pe.max}},{key:"__onDispatch",value:function(e){switch(e.type){case O.Z.QUICK_CHAT_ADD_OPTION:"string"!=typeof e.data.value&&C.Z.statsIncCounter("session.quickchat.add_option.nonstring"),this.isFull()||(pe.options.push(e.data.value),ce().set("QuickChatOptions",pe.options));break;case O.Z.QUICK_CHAT_REMOVE_OPTION:isNaN(e.data.index)&&C.Z.statsIncCounter("session.quickchat.remove_option.nan_index"),pe.options.splice(e.data.index,1),ce().set("QuickChatOptions",pe.options);break;case O.Z.QUICK_CHAT_EDIT_OPTION:isNaN(e.data.index)&&C.Z.statsIncCounter("session.quickchat.edit_option.nan_index"),"string"!=typeof e.data.value&&C.Z.statsIncCounter("session.quickchat.edit_option.nonstring"),pe.options[e.data.index]=e.data.value,ce().set("QuickChatOptions",pe.options);break;case O.Z.QUICK_CHAT_CLEAR_OPTIONS:pe.options=[],ce().set("QuickChatOptions",pe.options);break;default:return}this.__emitChange()}}]),n}(ae.Z))("quickChat",S.Z);var he;function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var ve=g.ZP.div.withConfig({displayName:"QuickChat__Container",componentId:"sc-vl7txe-0"})(["position:relative;"]),_e=(0,g.ZP)(U.Z).withConfig({displayName:"QuickChat__StyledPopup",componentId:"sc-vl7txe-1"})(["width:300px;& > div{flex-direction:column;}"]),ye=g.ZP.div.withConfig({displayName:"QuickChat__Instructions",componentId:"sc-vl7txe-2"})(["display:flex;flex-direction:row;flex-grow:1;margin-bottom:4px;color:",";font-size:12px;"],(function(e){return e.theme.colors.baseContrast040})),be=g.ZP.div.withConfig({displayName:"QuickChat__InstructionsText",componentId:"sc-vl7txe-3"})(["flex-grow:1;"]),Se=(0,g.ZP)(b()).attrs({name:"chatBubble"}).withConfig({displayName:"QuickChat__OpenButton",componentId:"sc-vl7txe-4"})(["margin:0;padding:0;width:auto;height:auto;border:none;"]),Ee=g.ZP.a.withConfig({displayName:"QuickChat__AddLink",componentId:"sc-vl7txe-5"})(["margin-top:4px;font-size:12px;&:hover{color:","}"],(function(e){return e.theme.colors.baseContrast100})),Ce=(0,g.ZP)(se()).attrs({fill:"currentColor",name:"addCircle",size:16}).withConfig({displayName:"QuickChat__AddButton",componentId:"sc-vl7txe-6"})(["vertical-align:bottom;"]),Ze=function(e){(0,a.Z)(n,e);var t=ge(n);function n(){var e;return(0,r.Z)(this,n),e=t.call(this),(0,u.Z)((0,s.Z)(e),"togglePopup",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!e.state.popupVisible;e.setState({popupVisible:n}),t&&t.stopcontext.document.removeEventListener("cggleAddDialog",(function(){var t=!e.state.addDialogVisible;e.setState({addDialogVisible:t})})),(0,u.Z)((0,s.Z)(e),"validateOption",(function(e){return"string"==typeof e&&""!==e})),(0,u.Z)((0,s.Z)(e),"addOption",(function(t){e.validateOption(t)&&(S.Z.dispatch({type:O.Z.QUICK_CHAT_ADD_OPTION,data:{value:t}}),C.Z.loms({eventname:"QuickChatAddedV1"})),e.toggleAddDialog()})),(0,u.Z)((0,s.Z)(e),"editOption",(function(t){return function(n){e.validateOption(n)&&(S.Z.dispatch({type:O.Z.QUICK_CHAT_EDIT_OPTION,data:{index:t,value:n}}),C.Z.loms({eventname:"QuickChatEditedV1"}))}})),(0,u.Z)((0,s.Z)(e),"removeOption",(function(e){return function(){S.Z.dispatch({type:O.Z.QUICK_CHAT_REMOVE_OPTION,data:{index:e}})}})),(0,u.Z)((0,s.Z)(e),"sendOption",(function(t){return function(){S.Z.dispatch({type:O.Z.UPDATE_CHAT_MESSAGE,data:t}),e.togglePopup(),C.Z.loms({eventname:"QuickChatPopulatedV1"})}})),e.onStoreChange=e.onStoreChange.bind((0,s.Z)(e)),e.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({buttonVisible:!1,popupVisible:!1,addDialogVisible:!1},me.getState()),e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){L.ZP.getState().isDesktop&&this.setState({buttonVisible:!0}),this.quickChatToken=me.addListener(this.onStoreChange)}},{key:"componeneChange",value:function(){this.setState({options:me.getState().options})}},{key:"stopPropagation",value:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},{key:"render",value:function(){var e=this,t=this.state,n=t.max,r=t.options,i=t.buttonVisible,s=t.popupVisible,a=t.addDialogVisible;return i?(0,o.Z)(ve,{},void 0,(0,o.Z)(B.Z,{title:s?"":E.ZP.getString("quick_chat_saved_messages")},void 0,(0,o.Z)(Se,{fill:s?"#ffffff":"#9e9e9e",onClick:this.togglePopup,id:"QuickChatButton","data-ta-locator":"QuickChat__PopupButton"})),s&&(0,o.Z)(_e,{targetId:"QuickChatButton","data-ta-locator":"QuickChat__Popup"},void 0,(0,o.Z)(ye,{},void 0,(0,o.Z)(be,{},void 0,E.ZP.getString("quick_chat_select_saved_message")),r.length,"/",n),r.map((function(t,n){return(0,o.Z)(Ve,{option:t,remove:e.removeOption(n),save:e.editOption(n),send:e.sendOption(t)},"".concat(t).concat(n))})),a&&(0,o.Z)(Ne,{save:this.addOption,remove:this.toggleAddDialog}),!me.isFull()&&!a&&(0,o.Z)(Ee,{"data-ta-locator":"QuickChat__AddButton",onClick:this.toggleAddDialog},void 0,he||(he=(0,o.Z)(Ce,{}))," ",E.ZP.getString("quick_chat_add_saved_message")))):null}}]),n}(p.Component);Ze.contextTypes={document:f().any};const Pe=Ze;var Oe,Te=n("./node_modules/icf-react-components/components/RaisedButton/index.js"),Ie=n.n(Te);function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var Ae=g.ZP.div.withConfig({displayName:"QuickChatAddForm__AddForm",componentId:"sc-1n0utpb-0"})(["width:100%;display:flex;flex-direction:row;"]),Re=(0,g.ZP)(b()).attrs({name:"delete",fill:"primary",size:18}).withConfig({displayName:"QuickChatAddForm__RemoveButton",componentId:"sc-1n0utpb-1"})(["padding:0 6px 0 0;"]),ke=g.ZP.input.withConfig({displayName:"QuickChatAddForm__TextInput",componentId:"sc-1n0utpb-2"})(["height:22px;min-width:0;"," padding:4px 6px;font-size:12px;flex:1;"],(0,v.Z)(Oe||(Oe=(0,d.Z)(["\n    margin-right: 2px;\n  "])))),De=(0,g.ZP)(Ie()).attrs({overrides:{label:"SaveButtonLabel"}}).withConfig({displayName:"QuickChatAddForm__SaveButton",componentId:"sc-1n0utpb-3"})(["height:22px;min-width:auto;& .SaveButtonLabel{font-size:12px;margin:0;}"]),Le=function(e){(0,a.Z)(n,e);var t=we(n);function n(){var e;return(0,r.Z)(this,n),e=t.call(this),(0,u.Z)((0,s.Z)(e),"onEnterKey",(function(t){(t.isComposing||13===t.keyCode)&&(t.preventDefault(),e.props.save(e.textInput.current.value))})),e.textInput=m().createRef(),e}return(0,i.Z)(n,[{key:"compourrent.focus(),document.addEventListener("keydown",this.onEnterKey,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onEnterKey,!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.remove,r=t.save,i=t.value;return(0,o.Z)(Ae,{},void 0,(0,o.Z)(Re,{"data-ta-locator":"QuickChat__AddForm__RemoveButton",onClick:n}),m().createElement(ke,{"data-ta-locator":"QuickChat__Add:this.textInput,type:"text"}),(0,o.Z)(De,{"data-ta-locator":"QuickChat__AddForm__SaveButton",label:E.ZP.getString("save"),onClick:function(){return r(e.textInput.current.value)}}))}}]),n}(p.Component);Le.propTypes={remove:f().func.isRequired,save:f().func.isRequired,value:f().string},Le.defaultProps={value:null};const Ne=Le;function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var je=g.ZP.div.withConfig({displayName:"QuickChatOption__Container",componentId:"sc-3fq1jv-0"})(["display:flex;margin-bottom:4px;"]),Me=g.ZP.div.withConfig({displayName:"QuickChatOption__Inner",componentId:"sc-3fq1jv-1"})(["display:flex;width:100%;"]),Be=g.ZP.div.withConfig({displayName:"QuickChatOption__Option",componentId:"sc-3fq1jv-2"})(["flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",";font-size:12px;line-height:22px;cursor:pointer;&:hover{color:",";}"],(function(e){return e.theme.colors.baseContrast070}),(function(e){return e.theme.colors.baseContrast100})),Ue=(0,g.ZP)(b()).attrs({name:"editPencil",fill:"primary",size:18}).withConfig({displayName:"QuickChatOption__EditButton",component0,a.Z)(n,e);var t=xe(n);funct,(0,u.Z)((0,s.Z)(e),"toggleEditte.editVisible})})),(0,u.Z)((0,s.Z)(e),"save",(function(t){e.props.save(t),e.toggleEditDialog()})),(0,u.Z)((0,s.Z)(e),"remove",(function(){e.props.remove(),e.toggleEditDialog()})),e.state={editVisible:!1},e}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.send,n=e.option;return(0,o.Z)(je,{},void 0,!this.state.editVisible&&(0,o.Z)(Me,{},void 0,(0,o.Z)(Ue,{onClick:this.toggleEditDialog,"data-ta-locator":"QuickChat__Option__EditButton"}),(0,o.Z)(Be,{onClick:t,"data-ta-locator":"QuickChat__Option__Option"},void 0,n)),this.state.editVisible&&(0,o.Z)(Ne,{save:this.save.bind(this),remove:this.remove.bind(this),value:n}))}}]),n}(p.Component);Ge.propTypes={remove:f().func.isRequired,save:f().func.isRequired,send:f().func.isRequired,option:f().string.isRequired};const Ve=Ge;var Fe,He=n("./src/components/common/primitives/index.js"),Ye=(0,g.ZP)(se()).attrs({name:"mic"}).withConfig({displayName:"VoiceChatIndicator__VoiceIcon",componentId:"sc-322n40-0"})(["display:inline-block;height:24px;width:24px;margin-bottom:-5px;margin-right:0.25em;vertical-align:middle;cursor:pointer;fill:#757575;"]);const We=function(){return(0,o.Z)("div",{},void 0,Fe||(Fe=(0,o.Z)(Ye,{})),E.ZP.getString("voice_chat_in_use"))};var ze,qe,Ke=n("./src/utils/localization.js");function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var Qe,Je,$e,et,tt,nt,ot,rt=g.ZP.span.withConfig({displayName:"GuestCount__Text",componentId:"sc-ntz6sa-0"})([""," color:",";font-size:14px;align-self:center;"],(0,v.Z)(ze||(ze=(0,d.Z)(["\n    margin: 0 8px 0 0;\n  "]))),I.O9.lightGray),it=function(e){(0,a.Z)(n,e);var t=Xe(n);function n(){var e;return(0,r.Z)(this,n),e=t.call(this),(0,u.Z)((0,s.Z)(e),"onUserListStoreUpdate",(function(){setTimeout((function(){e.setState({guests:x.Z.getState().numberOfUsersInRoom})}))})),e.state={guests:x.Z.getState().numberOfUsersInRoom},e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.userListToken=x.Z.addListener(this.onUserListStoreUpdate)}},{key:"componentWillUnmount",value:function(){this.userListToken.remove()}},{key:"render",value:function(){return this.state.guests?(0,o.Z)(rt,{},void 0,(0,Ke.uf)(this.state.guests)," ",qe||(qe=(0,o.Z)(se(),{name:"group",size:24}))):null}}]),n}(p.Component),st=n("./node_modules/icf-react-components/components/FlatButton/index.js"),at=n.n(st),lt=(0,g.ZP)(He.FA).withConfig({displayName:"ChatTools__ChatToolsContainer",componentId:"sc-o4dro5-0"})(["justify-content:space-between;flex-shrink:0;display:flex;align-items:center;"]),ct=g.ZP.span.withConfig({displayName:"ChatTools__Tools",componentId:"sc-o4dro5-1"})(["display:flex;flex-grow:1;> div + div{","}"],(0,v.Z)(Qe||(Qe=(0,d.Z)(["\n      margin-left: 8px;\n    "])))),ut=(0,g.ZP)(at()).attrs({classes:{flatButtonLabel:"flatButtonLabel"}}).withConfig({displayName:"ChatTools__StyledButton",componentId:"sc-o4dro5-2"})(["float:right;padding:0;height:24px;line-height:1;margin-top:0;margin-bottom:0;.flatButtonLabel{padding:0.25em 0.25em;text-transform:uppercase;}"]),dt=function(e){var t=e.className,n=e.inVoiceChat,r=e.submit,i=e.submitDisabled;return(0,o.Z)(lt,{className:t},void 0,(0,o.Z)(ct,{},void 0,Je||(Je=(0,o.Z)(q,{})),$e||($e=(0,o.Z)(Pe,{})),et||(et=(0,o.Z)(J,{})),n?tt||(tt=(0,o.Z)(We,{})):null,nt||(nt=(0,o.Z)(re,{}))),ot||(ot=(0,o.Z)(it,{})),(0,o.Z)(ut,{ghost:!0,size:"small",label:E.ZP.getString("send"),"data-ta-locator":"ChatTools__send",onClick:r,disabled:i}))};dt.propTypes={className:f().string,inVoiceChat:f().bool,submit:f().func,submitDisabled:f().bool,alignWithCta:f().bool},dt.defaultProps={inVoiceChat:!1,submit:function(){},submitDisabled:!1,alignWithCta:!1};const pt=dt;var mt,ht,ft,gt=n("./src/components/video/ReportComplaintMenu.tsx");function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var _t=(0,g.F4)(["0%{opacity:1;transform:scale(1.25);}50%{opacity:0.75;transform:scale(1);}100%{opacity:1;transform:scale(1.25);}"]),yt=g.ZP.div.withConfig({displayName:"ChatForm__ButtonContainer",componentId:"sc-1tkmnex-0"})(["background:white;display:flex;align-items:center;justify-content:center;&:before{position:absolute;background:",";border-radius:100%;transition:0.2s all ease;content:' ';width:",";height:",";animation:",";}&& svg{transition:0.3s all ease;fill:",";}"],(function(e){return e.speechRecListening?e.theme.colors.baseContrast040:"transparent"}),(function(e){return e.spturn(0,g.iv)([""," ",";"],_t,e.speechRecListening?"infinite 1s":"none")}),(function(e){return e.speechRecListening?e.theme.colors.baseContrast100:e.theme.colors.baseContrast050})),bt=(0,g.ZP)(yt).withConfig({displayName:"ChatForm__PrivateButtonContainer",componentId:"sc-1tkmnex-1"})(["background:",";"," width:38px;&& svg{transition:0.3s all ease;fill:",";}"],_.colors.baseContrast070,(0,v.Z)(mt||(mt=(0,d.Z)(["\n    border-right: 1px solid ",";\n  "])),(function(e){return e.theme.colors.baseContrast050})),_.colors.baseContrast040),St=g.ZP.div.withConfig({displayName:"ChatForm__Container",componentId:"sc-1tkmnex-2"})(["display:flex;flex-direction:row;flex-wrap:nowrap;margin-bottom:8px;",""],(function(e){return e.compact&&"\n    margin-top: -8px;\n    margin-bottom: 0px;\n  "})),Et=g.ZP.div.withConfig({displayName:"ChatForm__InputWrapper",componentId:"sc-1tkmnex-3"})(["display:flex;flex:auto;border:1px solid ",";border-radius:2px;unicode-bidi:bidi-override;direction:ltr;"],(function(e){return e.theme.colors.baseContrast050})),Ct=g.ZP.form.withConfig({displayName:"ChatForm__Form",componentId:"sc-1tkmnex-4"})(["",""],(function(e){return e.inactive?"width: 0;":"\n      flex: 1;\n      display: flex;\n    "})),Zt=g.ZP.input.withConfig({displayName:"ChatForm__Input",componentId:"sc-1tkmnex-5"})(["background-color:",";border:none;color:",";line-height:2;flex:1;border-radius:0;margin:0;padding:",";"," &::plac.isDesktop?"\n      min-width: 0;\n      line-height: 2em;\n      height: 2em;\n\n      && {\n        font-size: ".concat(e.desktopFontSize,"px;\n      }\n    "):"width: 100%;"}),(function(e){var t=e.theme;return"dark"===t.type?t.colors.baseContrast060:t.colors.baseContrast040}),(function(e){return e.inactive&&"\n    position: fixed;\n    top: 0;\n    left: -1000px;\n    width: 50px;\n  "})),Pt=(0,g.ZP)(b()).withConfig({displayName:"ChatForm__StyledIconButton",componentId:"sc-1tkmnex-6"})(["padding:9px 12px;height:42px;transition:1s all ease;"]),Ot=(0,g.ZP)(Pt).withConfig({displayName:"ChatForm__StyledTextIconButton",componentId:"sc-1tkmnex-7"})(["&& svg{fill:",";}"],(function(e){return e.theme.colors.baseContrast050})),Tt=(0,g.ZP)(pt).withConfig({displayName:"ChatForm__StyledChatTools",componentId:"sc-1tkmnex-8"})(["",""],(function(e){return e.alignWithCta&&e.ctaContainerHeight&&"\n    /* Remove 16px to account for padding in Sidebar & margin in ChatForm Container */\n    min-height: ".concat(e.ctaContainerHeight-16,"px;\n  ")})),It=(0,g.ZP)(gt.Z).withConfig({displayName:"ChatForm__StyledReportComplaintButton",componentId:"sc-1tkmnex-9"})(["",""],(0,v.Z)(ht||(ht=(0,d.Z)(["\n    padding: 0px 0px 0px ","px;\n    margin-right: ","px;\n  "])),(function(e){var t=e.theme;return String(t.spacing.base)}),(function(e){var t=e.theme;return String(-t.spacing.base)}))),wt=function(e){(0,a.Z)(n,e);var t=vt(n);function n(e){var o;return(0,r.Z)(this,n),o=t.call(this,e),(0,u.Z)((0,s.Z)(o),"handleSubmit",(function(e){if(e.preventDefault(),R.Z.getState().started&&(!R.Z.isESSUser()||j.Z.getState().isExtSSEnabled)){var t={type:T.Z.USERTYPE_ME,text:o.state.chat,isPrivate:D.Z.getState().private};""!==t.text&&S.Z.dispatch({type:O.Z.CHAT_SENDMESSAGE,data:{message:t,sessionType:R.Z.getState().sessionType,userType:k.Z.getState().userType}}),o.recognition&&o.recognition.stop()}})),(0,u.Z)((0,s.Z)(o),"handleMessageChange",(function(e){!o.context.layout!==I.ZP.DESKTOP&&e.target.value===o.state.chat||S.Z.dispatch({type:O.Z.UPDATE_CHAT_MESSAGE,data:e.target.value})})),(0,u.Z)((0,s.Z)(o),"handleClick",(function(){var e=o.context.layout===I.ZP.MOBILE;(0,P.Vj)(w.Z.HANDLE_NO_NICKNAME),S.Z.dispatch({type:O.Z.CHAT_INPUT_FOCUSED,data:{focused:!0,preventScroll:e}}),o._input.focus(),o.setState({inputFocused:!0});var t=/android.+mobile/i.test(window.navigator.userAgent);setTimeout((function(){o._input&&(o._input.scrollIntoViewIfNeeded?o._input.scrollIntoViewIfNeeded(!1):t&&o._input.scrollIntoView(!1))}),300)})),(0,u.Z)((0,s.Z)(o),"handleBlur",(function(){setTimeout((function(){o.context.document.activeElement!==o._input&&(S.Z.dispatch({type:O.Z.CHAT_INPUT_FOCUSED,data:{focused:!1}}),o.setState({inputFocused:!1}))}))})),(0,u.Z)((0,s.Z)(o),"handleMic",(function(){if(o.state.speechRecListening)return o.recognition.stop(),void o.handleRecognitionSpeechEnd();o.recognition.start()})),(0,u.Z)(),o.setState({speechRecListening:!0})})),(0,u.Z)((0,s.Z)(o),"handleRecognitionSpeechEnd",(function(){C.Z.usageTick("speech_recognition_end"),o.setState({speechRecListening:!1})})),(0,u.Z)((0,s.Z)(o),"handleRecognitionError",(function(e){C.Z.error({message:"speech-recognition-error",error:e.error}),o.setState({speechRecListening:!1})})),(0,u.Z)((0,s.Z)(o),"handleRecognitionResult",(function(e){C.Z.usageTick("speech_recognition_transcribed");var t=e.resultIndex,n=e.results[t][0].transcript;S.Z.dispatch({type:O.Z.UPDATE_CHAT_MESSAGE,data:n})})),o.state={chat:"",speechRecListening:!1,desktopFontSize:D.Z.getState().desktopFontSize,inputFocused:!1},o.recognition=null,o.handleChatStoreUpdate=o.handleChatStoreUpdate.bind((0,s.Z)(o)),o._input=null,o}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.chatStoreToken=D.Z.addListener(this.handleChatStoreUpdate);var e=D.Z.getState().chat;e&&this.setState({chat:e});var t=window.SpeechRecognition||window.webkitSpeechRecognition;t&&[I.ZP.MOBILE,I.ZP.TABLET].includes(this.context.layout)&&(this.recognition=new t,this.recognition.addEventListener("start",this.handleRecognitionStart),this.recognition.addEventListener("speechend",this.handleRecognitionSpeechEnd),this.recognition.addEventListener("error",this.handleRecognitionError),this.recognition.addEventListener("result",this.handleRecognitionResult)),this.dispatchHeight()}},{key:"componentWillUnmount",value:function(){this.chatStoreToken.remove(),this.recognition&&(this.recognition.removeEventListener("start",this.handleRecognitionStart),this.recognition.removeEventListener("speechend",this.handleRecognitionSpeechEnd),this.recognition.removeEventListener("error",this.handleRecognitionError),this.recognition.removeEventListener("result",this.handleRecognitionResult))}},{key:"componentDidUpdate",value:function(e){var t;this.dispatchHeight(),this.recognition&&(this.recognition.lang=this.props.lang||"en"),!e.chatInputActive&&this.props.chatInputActive&&this._input!==(null===(t=this.context.document)||void 0===t?void 0:t.activeElement)&&this._input.focus()}},{key:"dispatchHeight",value:function(){var e,t,n=(nthis._fakeInput)||void 0===t?void 0:t.offsetHeight);n!==this.lastHeight&&n>0&&(this.lastHeight=n,setTimeout((function(){S.Z.dispatch({type:O.Z.CHAT_INPUT_HEIGHT_CHANGE,data:n})})))}},{key:"handleChatStoreUpdate",value:function(){var e,t=D.Z.getState(),n=t.chat,o=t.desktopFontSize;n&&n!==this.state.chat&&this._input&&this._input!==(null===(e=this.context.document)||void 0===e?void 0:e.activeElement)&&this._input.focus(),this.setState({chat:n,desktopFontSize:o})}},{key:"renderIconButton",value:function(){if([I.ZP.MOBILE,I.ZP.TABLET].includes(this.context.layout)){if(!this.state.speechRecListening&&this.state.chat)return(0,o.Z)(yt,{},void 0,(0,o.Z)(Ot,{"data-ta-locator":"ChatForm__submit",onClick:this.handleSubmit,name:"send"}));if(this.recognition)return(0,o.Z)(yt,{speechRecListening:this.state.speechRecListening},void 0,(0,o.Z)(Pt,{"data-ta-locator":"ChatForm__mic",onClick:this.handleMic,name:"mic",viewBox:"2 1 20 20"}))}return null}},{key:"renderChatTools",value:function(){var e=this.state.chat,t=this.props,n=t.alignChatToolsWithCta,r=t.ctaContainerHeight,i=t.inVoiceChat;return t.showChatTools?(0,o.Z)(Tt,{inVoiceChat:i,alignWithCta:n,ctaContainerHeight:r,submit:this.handleSubmit,submitDisabled:!e}):null}},{key:"renderChatInput",value:function(){var e=this,t=this.state,n=t.speechRecListening,r=t.chat,i=t.desktopFontSize,s=t.inputFocused,a=this.context.layout===I.ZP.DESKTOP,l=n?E.ZP.getString("chat_speech_placeholder"):E.ZP.getString("chat_placeholder","me"),c=this.context.layout===I.ZP.MOBILE;return(0,o.Z)(p.Fragment,{},void 0,(0,o.Z)(Ct,{onSubmit:this.handleSubmit,action:"#",inactive:c&&!s},void 0,m().createElement(Zt,{key:"qq",ref:function(t){e._input=t},"data-ta-locator":"ChatForm__Input",isDesktop:a,placeholder:r?"":l,autoComplete:"off",value:r,onChange:this.handleMessageChange,onClick:c?void 0:this.handleClick,onBlur:this.handleBlur,tabIndex:-1,desktopFontSize:i,inactive:c&&!s})),c&&m().createElement(Zt,{key:"fake",ref:function(t){e._fakeInput=t},"data-ta-locator":"ChatForm__Input__fake",isDesktop:a,placeholder:r?"":l,value:r,readOnly:!0,onClick:this.handleClick,desktopFontSize:i,inactive:s}))}},{key:"render",value:function(){var e=this.props.chatInputActive,t=this.context.layout===I.ZP.DESKTOP;return!0!==R.Z.getState().started?null:(0,o.Z)("div",{},void 0,(0,o.Z)(St,{compact:e},void 0,(0,o.Z)(Et,{},void 0,!t&&(ft||(ft=(0,o.Z)(bt,{"data-ta-locator":"ChatForm__PrivateButtonContainer"},void 0,(0,o.Z)(J,{})))),this.renderChatInput(),this.renderIconButton()),!t&&(0,o.Z)(It,{location:A.Kh.HYBRID_CLIENT_CHAT_INPUT,isMobile:!0})),this.renderChatTools())}}]),n}(p.Component);(0,u.Z)(wt,"displayName","ChatForm"),wt.propTypes={inVoiceChat:f().bool,showChatTools:f().bool,alignChatToolsWithCta:f().bool,ctaContainerHeight:f().number,chatInputActive:f().bool,lang:f().string,streamType:f().number,inGoldShow:f().bool,numberOfUsersInRoom:f().number},wt.defaultProps={inVoiceChat:!1,showChatTools:!1,alignChatToolsWithCta:!1,ctaContainerHeight:0},wt.contextTypes={renderFrameDoc:f().object,window:f().any,document:f().any,layout:f().string};const At=(0,Z.Z)([L.ZP,R.Z,N.Z,x.Z],(function(e){return{ctaContainerHeight:e.layout.ctaContainerHeight,chatInputActive:e.layout.chatInputActive,lang:e.connection.lang,streamType:e.connection.streamType,inGoldShow:N.Z.isActive()&&N.Z.isUserBoughtIn(),numberOfUsersInRoom:e.userList.numberOfUsersInRoom}}),{memoize:!0})(wt)},"./src/components/chat/MessageList.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>G});var o,r,i,s=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),a=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),l=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),c=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),u=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),d=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),p=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),m=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),h=n("webpack/sharing/consume/default/react/react"),f=n.n(h),g=n("./node_modules/prop-types/index.js"),v=n.n(g),_=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),y=n("./src/stores/ChatStore.js"),b=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),S=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),E=n("./node_modules/styled-components-rtl/index.js"),C=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),Z=n.n(C),P=n("./src/components/RewardsIconsMap.tsx"),O=n("./src/constants/RewardsConstants.ts"),T=n("./src/constants/ChatConstants.ts"),I=n("./src/constants/LayoutConstants.ts"),w=n("./src/lib/Strings.js"),A=_.ZP.li.withConfig({displayName:"Message__MessageContainer",componentId:"sc-hwmg2n-0"})(["list-style-type:none;margin:0;margin-top:0.5em;flex-shrink:0;width:100%;word-break:break-word;color:",";"," "," &&{padding:0;}font-size:","px;",""],(function(e){var t=e.gold,n=e.messageType,o=e.theme,r=e.transpares.ion(e){return e.isSubscriber?"font-weight: bold;":""}),(function(e){return e.private||e.isItalic?"font-style: italic;":""}),(function(e){return e.isDesktop?e.desktopFontSize:14}),(function(e){var t=e.messageType;return"rtl"===e.theme.direction&&t!==T.Z.USERTYPE_SYSTEM&&"\n    unicode-bidi: bidi-override;\n    direction: ltr;\n    text-align: left;\n  "})),R=_.ZP.span.withConfig({displayName:"Message__Nickname",componentId:"sc-hwmg2n-1"})(["font-weight:bold;color:",";svg,path{fill:",";}:after{content:': ';}"],(function(e){var t=e.type,n=e.theme,o=e.transparentBackground;return t===T.Z.USERTYPE_PERFORMER?n.colors.primary:o?n.colors.baseContrast080:"inherit"}),(function(e){var t=e.type,n=e.theme,o=e.transparentBackground;return t===T.Z.USERTYPE_PERFORMER?n.colors.primary:o?n.colors.baseContrast080:"inherit"})),k=(0,_.ZP)(Z()).withConfig({displayName:"Message__SubscriberBadge",componentId:"sc-hwmg2n-2"})([""," vertical-align:text-bottom;"],(0,E.Z)(o||(o=(0,S.Z)(["\n    margin-left: 4px;\n  "])))),D=_.ZP.div.withConfig({displayName:"Message__RewardsBadge",componentId:"sc-hwmg2n-3"})([""," vertical-align:text-bottom;width:18px;height:18px;display:inline-flex;"],(0,E.Z)(r||(r=(0,S.Z)(["\n    margin-left: 4px;\n  "])))),L=function(e,t){var n=e.message,o=n.type,r=n.isGold,a=n.text,l=n.stringPath,c=n.templateVariables,u=n.nickname,d=n.isPrivate,p=n.isItalic,m=n.showSubscriberBadge,h=n.tierId,g=n.isGoldOnlySkin,v={messageType:o,private:d,gold:r,isItalic:p,isSubscriber:m},_=o!==T.Z.USERTYPE_SYSTEM&&Boolean(u),y=t.layout===I.ZP.DESKTOP,S=O.Iy[h];return f().createElement(A,(0,b.Z)({desktopFontSize:e.desktopFontSize,transparentBackground:e.transparentBackground,isDesktop:y},v),_&&(0,s.Z)(R,{type:o,transparentBackground:e.transparentBackground},void 0,(0,s.Z)("span",{},void 0,u),m&&(i||(i=(0,s.Z)(k,{name:"crown",size:18,"data-ta-locator":"Message__SubscriberBadge"}))),g&&S&&(0,s.Z)(D,{"data-ta-locator":"Message__RewardsBadge"},void 0,P.$[S.tierName])),(0,s.Z)("span",{},void 0,a||(0,w.KF)(l,c)))};L.propTypes={message:v().object.isRequired,desktopFontSize:v().number,transparentBackground:v().bool},L.defaultProps={desktopFontSize:14,transparentBackground:!1},L.contextTypes={layout:v().string};const N=L;var x=n("./src/components/ThemeProvider.tsx");function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,p.Z)(e);if(t){var r=(0,p.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,d.Z)(this,n)}}var M=_.ZP.ul.withConfig({displayName:"MessageList__MessageListContainer",componentId:"sc-w9pe77-0"})(["flex-direction:",";flex-wrap:nowrap;list-style-type:none;background:transparent;display:flex;flex-basis:auto;ftion:relative;word-wrap:break-word;color:",";fill:",";user-select:text;max-width:100%;&everse"}),(function(e){return e.transparent?e.theme.colors.baseContrast100:"rgb(45, 45, 45)"}),(function(e){return e.transparent?e.theme.colors.baseContrast80:"rgb(45, 45, 45)"}),(function(e){return e.transparent?"0 0 8px":"0"}),(function(e){return e.transparent?"0 0.5em 0 0":"0 0.5em 0.5em 0.5em"})),B=_.ZP.div.withConfig({displayName:"MessageList__MessageListScrollWrapper",componentId:"sc-w9pe77-1"})(["display:flex;flex-flow:column;flex-grow:1;margin-bottom:3px;overflow-y:auto;overflow-x:hidden;background:",";-ms-overflow-style:-ms-autohiding-scrollbar;",";& .icf-react-components{display:flex;flex-grow:1;}& .icf-react-components > div{display:flex;flex-grow:1;}"],(function(e){return e.transparent?"transparent":"#fff"}),(function(e){return e.scrollable&&"\n  flex-basis: 0;\n  flex-shrink: 0;\n"})),U=function(e){(0,u.Z)(n,e);var t=j(n);function n(){var e;(0,a.Z)(this,n),e=t.call(this),(0,m.Z)((0,c.Z)(e),"handleScrollElementRef",(function(t){e._scrollElement=t,e._scrollElement&&e._scrollElement.addEventListener("scroll",(function(){if(e.ignoreNextScrollEvent)e.ignoreNextScrollEvent=!1;else{var t=e._scrollElement,n=t.scrollTop,o=t.offsetHeight,r=t.scrollHeight;e.shouldScrollToBottom=e.props.scrollable&&"rise"===e.props.messageFlow&&n+o-r>=0,e.shouldScrollToBottom||clearTimeout(e.scrollTimeout)}}))})),(0,m.Z)((0,c.Z)(e),"onStoreUpdate",(function(){var t=y.Z.getState(),n=t.messages,o=t.desktopFontSize;e.setState({messages:n,desktopFontSize:o})}));var o=y.Z.getState(),r=o.messages,i=o.desktopFontSize;return e.state={messages:r,desktopFontSize:i},e.shouldScrollToBottom=!0,e}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){this.chatToken=y.Z.addListener(this.onStoreUpdate)}},{key:"componentDidUpdate",value:function(){var e=this;this.shouldScrollToBottom&&this._scrollElement&&(this.ignoreNextScrollEvent=!0,this._scrollElement.scrollTop=this._scrollElement.scrollHeight,this.scrollTimeout=setTimeout((function(){e.ignoreNextScrollEvent=!0,e._scrollElement&&(e._scrollElement.scrollTop=e._scrollElement.scrollHeight)}),100))}},{key:"componentWillUnmount",value:function(){this.chatToken.remove()}},{key:"render",value:function(){var e=this.props,t=e.messageFlow,n=e.scrollable,o=e.transparent,r=e.theme,i=this.state.desktopFontSize,a=o?r.mode:"light";return f().createElement(B,{transparent:o,scrollable:n,ref:this.hand"ChatDisplay__MessageList",transparent:o,flow:t},void 0,this.state.messages.map((function(e){return(0,s.Z)(N,{message:e,desktopFontSize:i,transparentBackground:o},e.identifier)})))))}}]),n}(h.PureComponent);(0,m.Z)(U,"displayName","MessageList"),U.propTypes={messageFlow:v().oneOf(["fall","rise"]),scrollable:v().bool,transparent:v().bool,theme:v().object},U.defaultProps={messageFlow:"fall",scrollable:!1,transparent:!0};const G=(0,_.Zz)(U)},"./src/components/common/ActionIconButton.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var o,r=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),i=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),s=(n("webpack/sharing/consume/default/react/react"),n("./node_modules/prop-types/index.js")),a=n.n(s),l=n("./node_modules/styled-components-rtl/index.js"),c=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),u=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),d=n.n(u),p=n("./src/components/common/primitives/index.js"),m=n("./src/constants/LayoutConstants.ts"),h=n("./src/components/common/Tooltip.tsx"),f=(0,c.ZP)(p.zx).withConfig({displayName:"ActionIconButton__ActionButton",componentId:"sc-1k7njfx-0"})(["position:relative;"," margin-top:8px;z-index:100;"],(0,l.Z)(o||(o=(0,i.Z)(["\n    margin-right: 8px;\n  "])))),g=(0,c.ZP)(d()).withConfig({displayName:"ActionIconButton__ActionButtonSvgIcon",componentId:"sc-1k7njfx-1"})(["fill:white;display:block;background-color:rgba(0,0,0,0.4);transition:all 450ms cubic-bezier(0.23,1,0.32,1) 0ms;:hover{background-color:",";}"],m.O9.darkerGray),v=function(e){var t=e.action,n=e.buttonId,o=e.glyph,i=e.style,s=e.className,a=e.title,l=e.onClick,c=e.tooltipPlacement,u=void 0===c?"top":c;return(0,r.Z)(h.Z,{title:a||"",placement:u},void 0,(0,r.Z)(f,{"data-ta-locator":n,className:s,style:i,onClick:l||t},void 0,(0,r.Z)(g,{name:o})))};v.propTypes={action:a().func,buttonId:a().string.isRequired,glyph:a().string.isRequired,style:a().object,className:a().string,title:a().string,onClick:a().func,tooltipPlacement:a().string};const _=v},"./src/components/common/BillingInfo.js":(e,t,n)=>{"use strict";n.d(t,{ZP:()=>m});var o=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),r=(n("webpack/sharing/consume/default/react/react"),n("./node_modules/prop-types/index.js")),i=n.n(r),s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("./src/lib/Strings.js"),l=n("./src/stores/RateStore.js"),c=n("./src/stores/UserStore.js"),u=n("./src/utils/localization.js"),d=s.ZP.div.withConfig({displayName:"BillingInfo__Container",componentId:"sc-1cdrilk-0"})(["margin:0.5em 0;text-align:center;"]),p=function(e){var t=e.className,n=e.finalCostShown,r=void 0!==n&&n;if(c.Z.getState().stashUser)return null;var i=l.Z.getState(),s=i.taxPercentage,p=i.feePercentage,m="EU_VAT"===i.taxType,h=(0,u.T3)(s/100),f=(0,u.T3)(p/100),g=[];return g.push(a.ZP.getString("cardholder_statement")),r?s&&p?g.push(function(e,t,n){return a.ZP.getString(e?"billing_info.paypal_vat_included":"billing_info.paypal_tax_included",t,n)}(m,f,h)):s?g.push(function(e,t){return a.ZP.getString(e?"billing_info.vat_included":"billing_info.tax_included",t)}(m,h)):p&&g.push(function(e,t){return a.ZP.ge,t){return a.ZP.getString(e?"billing_info.vat_percentage":"billing_info.tax_percentage",t)}(m,h)),p&&g.push(function(e,t){return a.ZP.getString("billing_info.fee_percentage",t)}(0,f))),(0,o.Z)(d,{className:t},void 0,(0,o.Z)("small",{},void 0,g.join(" ")))};p.propTypes={className:i().string,finalCostShown:i().bool},p.defaultProps={finalCostShown:!1};const m=p},"./src/components/common/BrowseButton.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var o,r,i,s,a=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),l=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),c=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),u=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),d=n("webpack/sharing/consume/default/react/react"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),h=n.n(m),f=n("./node_modules/icf-react-components/components/RaisedButton/index.js"),g=n.n(f),v=n("./node_modules/icf-react-components/components/FlatButton/index.js"),_=n.n(v),y=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),b=n.n(y),S=n("./src/lib/Strings.js"),E=n("./src/utils/tools.ts"),C=n("./src/constants/Messages.js"),Z=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),P=n("./node_modules/styled-components-rtl/index.js"),O=n("./src/components/common/primitives/index.js"),T=["buttonType"];function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=(0,Z.ZP)((0,O.dN)(_())).attrs({overrides:{label:"browse_live_text"}}).withConfig({displayName:"BrowseButton__StyledFlatButton",componentId:"sc-ad8olz-0"})([".browse_live_text{","}"],(0,P.Z)(o||(o=(0,u.Z)(["\n      margin: 0 auto 0 0;\n    "])))),R=(0,Z.ZP)(g()).attrs({overrides:{label:"browse_live_text"}}).withConfig({displayName:"BrowseButton__StyledRaisedButton",componentId:"sc-ad8olz-1"})([".browse_live_text{","}"],(0,P.Z)(r||(r=(0,u.Z)(["\n      margin: 0 auto 0 0;\n    "])))),k=(0,Z.ZP)(b()).withConfig({displayName:"BrowseButton__StyledArrow",componentId:"sc-ad8olz-2"})(["",""],(0,P.Z)(i||(i=(0,u.Z)(["\n    margin: 0 0 0 auto;\n  "])))),D=function(e){var t=s||(s=(0,c.Z)(k,{name:"arrowBack",fill:"#fff"})),n=e.buttonType,o=(0,l.Z)(e,T),r="clear"===n?A:R,i=w(w({},o),{},{iconLeft:t,label:S.ZP.getString("back_to_live"),onClick:function(){(0,E.Vj)(C.Z.BROWSE_LIVE_MODELS)},size:"large",ghost:"clear"===n||void 0});return p().createElement(r,i)};D.propTypes={buttonType:h().string},D.defaultProps={buttonType:"normal"};const L=D},"./src/components/common/CircleToggleButton.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var o=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),r=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=n("webpack/sharing/consume/default/react/react"),s=n.n(i),a=n("./node_modules/prop-types/index.js"),l=n.n(a),c=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),u=n("./node_modules/icf-react-components/components/IconButton/index.js"),d=n.n(u),p=["active","disabled"],m=(0,c.ZP)(d()).withConfig({displayName:"CircleToggleButton__ToggleButton",componentId:"sc-lkgj8h-0"})(["border-width:2px;border-radius:50%;border-style:solid;"]),h=(0,c.ZP)(m).attrs({fill:function(e){return e.theme.colors.baseContrast100}}).withConfig({displayName:"CircleToggleButton__ActiveToggleButton",componentId:"sc-lkgj8h-1"})(["border-color:",";background-color:",";&:hover{background-color:",";}"],(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.baseContrast010}),(function(e){return e.theme.colors.primary})),f=(0,c.ZP)(m).attrs({fill:function(e){return e.theme.colors.baseContrast020}}).withConfig({displayName:"CircleToggleButton__InactiveToggleButton",componentId:"sc-lkgj8h-2"})(["border-color:",";background-color:transparent;",""],(function(e){return e.theme.colors.baseContrast020}),(function(e){var t=e.disabled,n=e.theme;return!t&&"\n    border-color: ".concat(n.colors.baseContrast050,";\n\n    & svg {\n      fill: ").concat(n.colors.baseContrast050,";\n    }\n\n    &:hover {\n      border-color: ").concat(n.colors.baseContrast100,";\n    }\n\n    &:hover svg {\n      fill: ").concat(n.colors.baseContrast100,";\n    }\n  ")}));function g(e){var t=e.active,n=e.disabled,i=(0,r.Z)(e,p),a=t&&!n?h:f;return s().createElement(a,(0,o.Z)({disabled:n},i))}g.propTypes={active:l().bool.isRequired,disabled:l().bool},g.defaultProps={disabled:!1}},"./src/components/common/CloseButton.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),r=n("webpack/sharing/consume/default/react/react"),i=n.n(r),s=n("./node_modules/prop-types/index.js"),a=n.n(s),l=n("./src/components/common/ActionIconButton.js"),c=function(e){return i().createElement(l.Z,(0,o.Z)({},e,{glyph:"close",tooltipPlacement:"bottom"}))};c.propTypes={action:a().func,onClick:a().func,buttonId:a().string.isRequired};const u=c},"./src/components/common/ColoredSlider.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var o,r=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),i=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),a=n("webpack/sharing/consume/default/react/react"),l=n.n(a),c=n("./node_modules/prop-types/index.js"),u=n.n(c),d=n("./node_modules/@stringa/react-rangeslider/lib/index.js"),p=n("./src/constants/LayoutConstants.ts"),m=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),h=n("./node_modules/styled-components-rtl/index.js"),f=["id"],g=m.ZP.div.withConfig({displayName:"ColoredSlider__Container",componentId:"sc-damssb-0"})([".rangeslider__fill{width:100%;box-shadow:none;bottom:0;height:80px;background:",";}.rangeslider__handle{width:17px;height:13px;"," background:white;}.rangeslider__handle:active{box-shadow:none;}.rangeslider-vertical{margin:10px auto;height:80px;width:15px;background:",";}"],(function(e){return e.color}),(0,h.Z)(o||(o=(0,s.Z)(["\n      transform: translateX(-1px);\n    "]))),p.O9.gray),v=function(e,t){var n=e.id,o=(0,i.Z)(e,f);return(0,r.Z)(g,{id:n,color:t.primaryColor,"data-ta-locator":"VolumeControls__volumeSelector"},void 0,l().createElement(d.Z,o))};v.contextTypes={primaryColor:u().string},v.propTypes={value:u().number,min:u().number,max:u().number,step:u().number,orientation:u().oneOf(["vertical","horizontal"]),onChange:u().func,id:u().string},v.defaultProps={value:1,min:0,max:1,step:.01,orientation:"horizontal",tooltip:null,onChange:function(){}};const _=v},"./src/components/common/DailyLimitMessage.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var o=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),r=(n("webpack/sharing/consume/default/react/react"),n("./src/utils/tools.ts")),i=n("./src/lib/Strings.js"),s=n("./node_modules/icf-react-components/components/RaisedButton/index.js"),a=n.n(s),l=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=n("./src/utils/log.js"),u=n("./src/constants/Messages.js"),d=l.ZP.div.withConfig({displayName:"DailyLimitMessage__MessageWrapperBase",componentId:"sc-1nezdo5-0"})(["font-size:14px;font-weight:300;line-height:20px;& > div{margin:32px auto 32px;max-width:200px;}.oops{display:block;font-size:18px;font-weight:500;margin:0;text-align:center;}"]),p=(0,l.ZP)(d).withConfig({displayName:"DailyLimitMessage__MessageWrapper",componentId:"sc-1nezdo5-1"})(["color:",";"],(function(e){return e.theme.colors.alert})),m=(0,l.ZP)(a()).withConfig({displayName:"DailyLimitMessage__UpdateLimitButton",componentId:"sc-1nezdo5-2"})(["white-space:nowrap;max-width:100%;"]),h=function(e){c.Z.usageTick("daily_limit_link_clicked"),(0,r.HS)(e),(0,r.Vj)(u.Z.GOTO_DAILYLIMIT,{})};const f=function(){return c.Z.usageTick("daily_limit_link_displayed"),(0,o.Z)(p,{},"dlwarning",(0,o.Z)("div",{},void 0,(0,o.Z)("span",{className:"oops","data-ta-locator":"DailyLimitMessage__Oops"},void 0,i.ZP.getString("oops")),i.ZP.getString("daily_limit")),(0,o.Z)(m,{label:i.ZP.getString("daily_limit_link"),onClick:h}))}},"./src/components/common/DropDownMenu.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),r=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),i=n("webpack/sharing/consume/default/react/react"),s=n.n(i),a=n("./node_modules/prop-types/index.js"),l=n.n(a),c=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),u=n("./node_modules/icf-react-components/components/DropDownMenu/index.js"),d=n.n(u),p=(0,c.ZP)(d()).attrs({overrides:{modalRoot:"dropDownMenuPopup"}}).withConfig({displayName:"DropDownMenu__StyledDropDownMenu",con(e,t){var n=t.getCli=(0,i.useState)(!1),l=(0,r.Z)(a,2),c=l[0],u=l[1],d=(0,i.useRef)(!0);return(0,i.useEffect)((function(){d.current?d.current=!1:u(!0)}),[n]),c?(setTimeout((function(){return u(!1)})),null):s().createElement(p,(0,o.Z)({},e,{container:n}))};m.contextTypes={getClientModalTargetElement:l().func.isRequired};const h=m},"./src/components/common/EnterShowButton.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var o=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),r=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=n("webpack/sharing/consume/default/react/react"),s=n.n(i),a=n("./node_modules/prop-types/index.js"),l=n.n(a),c=n("./src/utils/log.js"),u=n("./src/stores/RateStore.js"),d=n("./src/lib/Dispatcher.js"),p=n("./node_modules/icf-react-components/components/RaisedButton/index.js"),m=n.n(p),h=n("./src/constants/Session.ts"),f=n("./src/constants/Actions.js"),g=["sessionType","blockSessionValue","disabled"],v=function(e){var t=e.sessionType,n=e.blockSessionValue,i=e.disabled,a=(0,r.Z)(e,g),l=i||!t||t===h.F.BLOCK&&!n;return s().createElement(m(),(0,o.Z)({},a,{disabled:l,onClick:function(){return function(e,t){c.Z.debug("EnterShowButton clicked with sessiontype "+e+" and block options "+t);var n,o=e,r="",i="",s="",a="",l=e===h.F.BLOCK||e===h.F.EXCLUSIVE||e===h.F.RESUME;e===h.F.BLOCK?n=JSON.parse(t):e===h.F.RESUME&&(n=u.Z.getState().resumeSession),n&&(o=n.streamtype,r=n.perfdiscountid,s=n.minduration,a=n.remainingDuration,i=n.streamid);var p={sessionType:o,discountId:r,showId:i,blockDuration:s,remainingDuration:a,requiresAcceptance:l};c.Z.usageTick("enterpaid_".concat(o.toLowerCase()).concat(n?"_blocksession":"")),d.Z.dispatch({type:f.Z.USER_REQUEST_PRIVATE,data:p})}(t,n)}}))};v.propTypes={sessionType:l().string,blockSessionValue:l().string,disabled:l().bool},v.defaultProps={sessionType:h.F.PREMIUM,blockSessionValue:"",disabled:!1};const _=v},"./src/components/common/GoPrivateButton.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var o=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),r=(n("webpack/sharing/consume/default/react/react"),n("./node_modules/prop-types/index.js")),i=n.n(r),s=n("./src/stores/ConnectionStore.js"),a=n("./src/stores/UserStore.js"),l=n("./src/stores/RateStore.js"),c=n("./src/stores/GoldShowStore.js"),u=n("./src/lib/Dispatcher.js"),d=n("./src/lib/Strings.js"),p=n("./src/constants/Actions.js"),m=n("./src/constants/Connection.js"),h=n("./src/constants/LomsEvents.js"),f=n("./src/constants/LayoutConstants.ts"),g=n("./src/constants/Platforms.ts"),v=n("./node_modules/icf-react-components/components/RaisedButton/index.js"),_=n.n(v),y=n("./src/utils/lomsTools.js"),b=n("./src/utils/forPlatforms.tsx"),S=n("./src/utils/log.js"),E=function(e){var t=e.layout,n=e.disabled,r=e.className,i=e.label,g=e.onClick,v=e.locator,b=e.inPip,E=i,C="GoPrivateButton";if(!E){var Z=t===f.ZP.DESKTOP,P="go_private";s.Z.getState().streamType===m.ZP.STREAM_TYPE_PRIVATE&&(P="go_exclusive",C=void 0),c.Z.isActive()&&c.Z.isUserBoughtIn()&&(P=Z?"reserved_spot":"reserved_spot_short"),E=d.ZP.getString(P)}var O=b?h.Z.CTA_BUTTONS.PIP_GO_PRIVATE:h.Z.CTA_BUTTONS.GO_PRIVATE;return s.Z.getState().streamType===m.ZP.STREAM_TYPE_PRIVATE&&(O=h.Z.CTA_BUTTONS.GO_EXCLUSIVE),(0,o.Z)(_(),{className:r,disabled:n,label:E,onClick:function(e){var t,n,o,r,i,c,d,m,h,f,v;e.preventDefault(),(0,y.$m)(O),u.Z.dispatch({type:p.Z.ENTER_PAID_CLICK}),t=s.Z.getState(),n=t.performerId,o=t.performerStreamId,r=a.Z.getState(),i=r.userId,c=r.userStreamId,d=l.Z.getState(),m=d.ratePremium,h=d.rateExclusive,f=Math.round(100*parseFloat(m)),v=Math.round(100*parseFloat(h))||null,i>0&&S.Z.loms({eventname:"UserSawRateV1",userId:i,performerId:n,privateRate:f,exclusiveRate:v,performerStreamId:o,userStreamId:c}),g&&g()},"data-icf-click":C,"data-ta-locator":v})};E.propTypes={layout:i().string,disabled:i().bool,className:i().string,label:i().string,onClick:i().func,locator:i().string,inPip:i().bool},E.defaultProps={inPip:!1};const C=(0,b.Z)({exclude:[g.ZP.EXTERNAL_SITE_SHOW]})(E)},"./src/components/common/primitives/index.js":(e,t,n)=>{"use strict";n.d(t,{JA:()=>C,zx:()=>m,KD:()=>_,nd:()=>Z,gq:()=>f,FA:()=>v,ki:()=>A,Ht:()=>D,S8:()=>T,k4:()=>I,dp:()=>O,hz:()=>y,xB:()=>b,P3:()=>S,yR:()=>E,DH:()=>R,iw:()=>k,sB:()=>u,dR:()=>d,dH:()=>p,py:()=>P,dN:()=>L});var o,r,i,s=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("./node_modules/styled-components-rtl/index.js"),c=n("./src/constants/LayoutConstants.ts"),u=a.ZP.div.withConfig({displayName:"headers__TwoColumnHeader",componentId:"sc-77w1q4-0"})(["display:flex;jttom:","px;",""],(function(e){return e.theme.spacing.base}),(0,l.Z)(o||(o=(0,s.Z)(["\n    padding-right: ","px;\n  "])),(function(e){var t=e.theme;return String(t.spacing.base)}))),d=a.ZP.div.withConfig({displayName:"headers__TwoColumnHeaderInfo",componentId:"sc-77w1q4-1"})(["font-weight:500;font-size:20px;color:",";letter-spacing:0.2px;margin-bottom:","px;"],(function(e){return e.theme.colors.baseContrast090}),(function(e){return e.theme.spacing.base})),p=a.ZP.a.withConfig({displayName:"headers__TwoColumnHeaderLink",componentId:"sc-77w1q4-2"})(["cursor:pointer;font-size:14px;font-weight:bold;"]),m=a.ZP.button.withConfig({displayName:"primitives__Button",componentId:"sc-1rgu2ub-0"})(["padding:0;border:0;color:inherit;font:inherit;background:none;cursor:pointer;letter-spacing:inherit;overflow:visible;text-transform:capitalize;&:focus{outline:0;}"]),h=a.ZP.div.withConfig({displayName:"primitives__Flex",componentId:"sc-1rgu2ub-1"})(["display:flex;"]),f=(0,a.ZP)(h).withConfig({displayName:"primitives__FlexRow",componentId:"sc-1rgu2ub-2"})(["flex-direction:row;"]),g=(0,a.ZP)(h).withConfig({displayName:"primitives__FlexColumn",componentId:"sc-1rgu2ub-3"})(["flex-direction:column;"]),v=(0,a.ZP)(f).withConfig({displayName:"primitives__FlexRowNoWrap",componentId:"sc-1rgu2ub-4"})(["flex-wrap:nowrap;"]),_=(0,a.ZP)(g).withConfig({displayName:"primitives__FlexColumnNoWrap",componentId:"sc-1rgu2ub-5"})(["flex-wrap:nowrap;"]),y=(0,a.ZP)(_).withConfig({displayName:"primitives__ModalContent",componentId:"sc-1rgu2ub-6"})(["justify-content:center;margin:auto;color:color(black contrast(80%));"]),b=a.ZP.h1.withConfig({displayName:"primitives__ModalHeader",componentId:"sc-1rgu2ub-7"})(["text-align:center;"]),S=a.ZP.div.withConfig({displayName:"primitives__ModalMessage",componentId:"sc-1rgu2ub-8"})(["line-height:1.4;margin:1em 0;"]),E=a.ZP.p.withConfig({displayName:"primitives__ModalMessageText",componentId:"sc-1rgu2ub-9"})(["line-height:1.4;margin:1em 0;"]),C=a.ZP.div.withConfig({displayName:"primitives__BackwardsTextContainer",componentId:"sc-1rgu2ub-10"})(["& > p{direction:rtl;unicode-bidi:bidi-override;text-align:left;line-height:0.45em;}"]),Z=(0,a.ZP)(_).withConfig({displayName:"primitives__FlexColumnWithCenteredContent",componentId:"sc-1rgu2ub-11"})(["color:color(black contrast(80%));justify-content:center;margin:auto;text-align:center;align-items:center;"]),P=a.ZP.span.withConfig({displayName:"primitives__UserBidText",componentId:"sc-1rgu2ub-12"})(["display:flex;justify-content:space-between;width:100%;"," color:white;"],(0,l.Z)(r||(r=(0,s.Z)(["\n    margin-left: 0.75em;\n  "])))),O=a.ZP.div.withConfig({displayName:"primitives__GoldShowVideoContainer",componentId:"sc-1rgu2ub-13"})(["text-shadow:2px 2px 8px ",";width:100%;",""],c.O9.darkGray,(function(e){return e.isLandscape&&e.isMobile&&"margin-bottom: calc(20px + 2.25rem);"})),T=a.ZP.div.withConfig({displayName:"primitives__GoldShowInfo",componentId:"sc-1rgu2ub-14"})(["display:block;pointer-events:none;"]),I=a.ZP.div.withConfig({displayName:"primitives__GoldShowSubtext",componentId:"sc-1rgu2ub-15"})(["position:relative;font-size:1.2em;margin-bottom:0.5rem;"," text-shadow:1px 1px 1px rgba(0,0,0,0.9);font-weight:200;z-index:2;@media ","{font-size:0.8em;}@media ","{max-width:200px;}"],(0,l.Z)(i||(i=(0,s.Z)(["\n    margin-left: 1rem;\n  "]))),c.Sr,c.h2),w=(0,a.F4)(["from{text-shadow:0 0 10px #fff,0 0 20px #fff,0 0 30px #fff,0 0 40px ",",0 0 70px ",",0 0 80px ",",0 0 100px ",",0 0 150px ",";}to{text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 15px #fff,0 0 20px ",",0 0 35px ",",0 0 40px ",",0 0 50px ",",0 0 75px ",";}"],c.O9.gold,c.O9.gold,c.O9.gold,c.O9.gold,c.O9.gold,c.O9.gold,c.O9.gold,c.O9.gold,c.O9.gold,c.O9.gold),A=a.ZP.div.withConfig({displayName:"primitives__GlowAnimation",componentId:"sc-1rgu2ub-16"})(["& span{animation:"," 0.5s ease-in-out alternate;animation-iteration-count:6;}"],w),R=a.ZP.div.withConfig({displayName:"primitives__OverlayContent",componentId:"sc-1rgu2ub-17"})(["display:flex;flex-direction:column;flex-wrap:nowrap;align-items:center;background-color:rgba(0,0,0,0.6);flex:1 0;justify-content:center;padding:0 1em;text-align:center;width:100%;"]),k=a.ZP.h1.withConfig({displayName:"primitives__OverlayHeader",componentId:"sc-1rgu2ub-18"})(["text-align:center;text-transform:none;font-size:2.5em;width:100%;@media ","{font-size:1.25em;margin-bottom:0.25em;}"],c.Sr),D=a.ZP.span.withConfig({displayName:"primitives__GoldShowCountdownContainer",componentId:"sc-1rgu2ub-19"})(["color:",";margin-bottom:1.5em;"],c.O9.lightishGray),L=function(e){var t=(0,a.ZP)(e).withConfig({displayName:"primitives__StyledComponent",componentId:"sc-1rgu2ub-20"})(["margin-top:1em;width:30%;&:hover{background-color:rgba(153,153,153,0.2);}@media ","{width:90%;}"],c.Sr);return t.displayName="Styled".concat(e.displayName),t}},"./src/components/gold/GoldCop.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>B,v:()=>j});var o,r=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),i=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=n("./node_modules/@babel/runtime/regenerator/index.js"),p=n.n(d),m=n("webpack/sharing/consume/default/react/react"),h=n("./node_modules/prop-types/index.js"),f=n.n(h),g=n("./node_modules/lodash/pick.js"),v=n.n(g),_=n("./node_modules/universal-cookie/lib/index.js"),y=n.n(_),b=n("./src/stores/ConfigStore.ts"),S=n("./src/stores/GoldShowStore.js"),E=n("./src/stores/PerformerStore.ts"),C=n("./src/stores/UserStore.js"),Z=n("./src/stores/ConnectionStore.js"),P=n("./src/stores/ChatStore.js"),O=n("./src/constants/Actions.js"),T=n("./src/constants/Connection.js"),I=n("./src/constants/Platforms.ts"),w=n("./src/lib/Dispatcher.js"),A=n("./src/utils/log.js"),R=n("./src/utils/gold.js"),k=n("./src/lib/AjaxRequest.js"),D=n("./src/lib/Strings.js");function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var j={DAILY_LIMIT:"dailyLimit",INSUFFICIENT_GOLD:"insufficientGold",PREPAID_BALANCE_EXHAUSTED:"prepaidBalanceExhausted",SHACKLED:"shackled",NO_LIMIT:"",GOLD_LIMIT:"goldLimit"},M=(o={},(0,u.Z)(o,T.ZP.STREAM_TYPE_PRIVATE,"premium"),(0,u.Z)(o,T.ZP.STREAM_TYPE_BLOCK,"premium"),(0,u.Z)(o,T.ZP.STREAM_TYPE_EXCLUSIVE,"exclusive"),(0,u.Z)(o,T.ZP.STREAM_TYPE_BLOCK_EXCLUSIVE,"exclusive"),o),B=function(e){(0,a.Z)(l,e);var t,n,o=x(l);function l(e){var t;(0,i.Z)(this,l),(t=o.call(this,e)).state=N(N({},t.getUserStoreDependentState(e)),{},{goldToGiveFractionalLocal:null,goldToGiveCentsUsd:null,userChanged:!1,sendingGold:!1,sendGoldSuccessful:!1,sendGoldAttempted:!1,amountError:null,limit:null,valid:!1,warning:null});var n=t.props,r=n.presetGold,s=n.defaultGold,a=t.state.maxGold,c=r||Math.min(s,a-a%100);return t.state=N(N({},t.state),t.getStateFromValidation(c,!1)),t.queuedGoldToGiveCentsUsd=0,t._isMounted=!1,t}return(0,s.Z)(l,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.userToken=C.Z.addListener((function(){returonGoldShowStoreUpdate()})),this.punted=!1,this.goldShowToken.remove(),this.userToken.remove()}},{key:"componentDidUpdate",value:function(e){this.props.presetGold!==e.presetGold&&this.processPresetDefaultGold()}},{key:"onUse.getUserStoreDependentState(),(function(){return e.processPresetDefaultGold()}))}},{key:"onGoldShowStoreUpdate",value:function(){this.validate(this.state.goldToGiveCentsUsd,!1)}},{key:"processPresetDefaultGold",value:function(){var e=this.props,t=e.presetGold,n=e.defaultGold,o=this.state.maxGold,r=t||Math.min(n,o-o%100);this.validate(r,!1)}},{key:"getUserStoreDependentState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.minGold,n=e.sendGoldAsOneUsd,o=C.Z.getState(),r=o.maxGold,i=o.minGold,s=o.queuedGoldToGiveFractionalLocal,a=o.decimalLocalGold,l=(r||0)-(s||0),c=this.getPrebillAmount(),u=(0,R.kP)(t,n,{decimalValue:a});return{prebillAmount:c,maxGold:l,unadjustedMaxGold:r,minGold:Math.max(i||0,c,u)}}},{key:"getPrebillAmount",value:function(){var e,t,n=this.props.sendGoldAsOneUsd,o=C.Z.getState(),r=o.needsPrebill,i=o.decimalLocalGold;if(!r)return 0;var s=void 0===t?void 0:t.goldPrebill)||0);return(0,R.kP)(s,n,{decimalValue:i})}},{key:"setStateAsync",value:function(e){var t=this;return new Promise((function(n){t.setState(e,n)}))}},{key:"validate",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setState(this.getStateFromValidation(e,t))}},{key:"getStateFromValidation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.props.sendGoldAsOneUsd,o=this.state,r=o.userChanged,i=o.maxGold,s=C.Z.getState(),a=s.decimalLocalGold,l=e,c=(0,R.kP)(e,n,{decimalValue:a}),u=this.checkAmount(c,l),d=this.checkLimit(i),p=this.checkWarning();return{goldToGiveFractionalLocal:c,goldToGiveCentsUsd:l,amountError:u,limit:d,valid:!u&&!d,warning:p,userChanged:r||t}}},{key:"checkWarning",value:function(){return S.Z.needPledge()?D.ZP.getString("gold_in_progress_timer"):null}},{key:"checkAmount",value:function(e,t){var n=this.state,o=n.maxGold,r=n.minGold,i=n.prebillAmount,s=this.props.sendGoldAsOneUsd,a=S.Z.getState().myPledgedAmount;if(isNaN(e))throw new Error("Invalid goldToGiveFractionalLocal passed to checkAmount");if(void 0!==t&&isNaN(t))throw new Error("Invalid optionalGoldToGiveCentsUsd passed to checkAmount");var l=void 0===t?(0,R.iw)(e,!0):t;if(l<100)return D.ZP.getString("gold_popup_min",1);if(e<i){var c,u,d=100*Number((null===(c=b.Z.getState().data)||void 0===c||null===(u=c.rate)||void 0===u?void 0:u.goldPrebill)||0);return D.ZP.getString("gold_popup_min",(0,R.ev)(d,{withGoldText:!1}))}if(e<r){var p=(0,R.iw)(r,s);return D.ZP.getString("gold_popup_min",(0,R.ev)(p,{withGoldText:!1}))}if(S.Z.isActive()&&!S.Z.isUserBoughtIn()){var m=S.Z.getState(),h=m.minbuyin,f=m.minbuyinString;if(l<h)return D.ZP.getString("wrn_lt_minbuyin",f)}var g=o;if(a>0&&S.Z.isInProgress()&&(g-=a),e>g){var v=C.Z.getState().showFinalCost,_=(0,R.hg)(g,!1,v);return D.ZP.getString("gold_popup_max",_)}return null}},{key:"checkLimit",value:function(e){if(this.props.shackled)return j.SHACKLED;var t=this.state.minGold,n=C.Z.getState(),o=n.isStashLimit,r=n.stashUser,i=n.goldLimitAvailable,s=n.userIsSubjectToGoldLimit,a=S.Z.getState().myPledgedAmount,l=e;if(S.Z.isInProgress()&&(a>=i?l=0:l-=a),l<=0){if(r){if(o)return j.PREPAID_BALANCE_EXHAUSTED;if(i<=t)return j.INSUFFICIENT_GOLD}return s?j.GOLD_LIMIT:j.DAILY_LIMIT}return l<t?r&&o?j.PREPAID_BALANCE_EXHAUSTED:i<t?j.GOLD_LIMIT:j.INSUFFICIENT_GOLD:j.NO_LIMIT}},{key:"submitGoldAjax",value:(n=(0,r.Z)(p().mark((function e(t){var n,o,r,i,s,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,o=n.valid,r=n.goldToGiveCentsUsd,o){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.setStateAsync({sendingGold:!0,sendGoldAttempted:!0});case 5:return e.next=7,l._giveGoldAjax(r,t);case 7:if(i=e.sent,s=i.body&&i.body.error||"",a=i.status&&200===Number.parseInt(i.status,10)&&!s,this._isMounted&&this.setState({sendingGold:!1,sendGoldSuccessful:a,sendGoldError:s}),!a){e.next=13;break}return e.abrupt("return",Promise.resolve());case 13:return e.abrupt("return",Promise.reject({error:s,code:i.status}));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"submitGoldWebSocket",value:(t=(0,r.Z)(p().mark((function e(){var t,n,o,r,i,s,a,c,u,d,m,h,f,g,v=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v.length>0&&void 0!==v[0]?v[0]:{},n=v.length>1&&void 0!==v[1]?v[1]:{},o=this.state,r=o.valid,i=o.goldToGiveFractionalLocal,s=o.goldToGiveCentsUsd,a=o.unadjustedMaxGold,c=this.queuedGoldToGiveCentsUsd>0&&this.queuedGoldToGiveCentsUsd<=a,r||c){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,this.setStateAsync({sendingGold:!0,sendGoldAttempted:!0});case 8:u=!0,d=null;try{l._giveGoldWebSocket(n.goldToGiveFractionalLocal||i,n.goldToGiveCentsUsd||s,t)}catch(e){u=!1,d=e}if(this._isMounted&&this.setState({sendingGold:!1,sendGoldSuccessful:u,sendGoldError:d}),m=S.Z.getState(),h=m.id,f=m.duration,g=m.timetostart,!u){e.next=16;break}return h&&(new(yeturn",Promise.resolve());case 16:return e.abrupt("return",Promise.reject({error:d}));case 17:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"logDebugInfo",value:function(){var e=this.state,t=e.goldToGiveFractionalLocal,n=e.goldToGiveCentsUsd,o=e.minGold,r=e.maxGold,i=e.valid,s=e.warning,a=e.amountError,l=e.sendingGold,c=e.sendGoldSuccessful,u=e.sendGoldError,d=e.limit;A.Z.debug({goldToGiveCentsUsd:n,goldToGiveFractionalLocal:t,minGold:o,maxGold:r,valid:i,warning:s,amountError:a,sendingGold:l,sendGoldSuccessful:c,sendGoldError:u,limit:d})}},{key:"getSubmitGold",value:function(){var e=this.props,t=e.accumulateFor,n=e.useAjax;return t&&!n?this.queueSubmitGold:n?this.submitGoldAjax:this.submitGoldWebSocket}},{key:"queueSubmitGold",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,o=n.accumulateFor,r=n.sendGoldAsOneUsd,i=this.state.goldToGiveCentsUsd,s=C.Z.getState(),a=s.decimalLocalGold;clearTimeout(this.accumulateTimeout),this.queuedGoldToGiveCentsUsd+=i;var l=(0,R.kP)(i,r,{decimalValue:a});return w.Z.dispatch({type:O.Z.USER_QUEUE_GOLD,data:{amount:l,goldToGiveCentsUsd:i,goldToGiveFractionalLocal:l}}),this.accumulateTimeout=setTimeout((function(){var n=(0,R.kP)(e.queuedGoldToGiveCentsUsd,r,{decimalValue:a});e.submitGoldWebSocket(t,{goldToGiveCentsUsd:e.queuedGoldToGiveCentsUsd,goldToGiveFractionalLocal:n}).then((function(){e.queuedGoldToGiveCentsUsd=0})).catch((function(t){A.Z.error({message:"quick-tip-submit-gold-web-socket-error",ex:t.message}),e.queuedGoldToGiveCentsUsd=0}))}),o),Promise.resolve()}},{key:"render",value:function(){var e=this.props.sendGoldAsOneUsd,t=this.state,n=t.goldToGiveCentsUsd,o=t.prebillAmount,r=t.maxGold,i=t.minGold,s=n,a=(0,R.iw)(r,e),l=Math.max(100,(0,R.iw)(i,e));return this.props.children(N(N({},v()(this.state,["valid","limit","userChanged","amountError","warning","sendingGold"])),{},{goldToGive:s,goldToGiveCentsUsd:n,maxGold:a,minGold:l,prebillRequired:Boolean(o),submitGold:this.getSubmitGold().bind(this),validate:this.validate.bind(this),logDebugInfo:this.logDebugInfo.bind(this)}))}}]),l}(m.Component);(0,u.Z)(B,"_giveGoldAjax",(function(e,t){var n=E.Z.getState(),o=n.nickname,r=n.id,i=C.Z.getState(),s=i.userStreamId,a=i.sakey,l=i.userId,c=i.nickname,u=b.Z.getState().platform,d=Z.Z.getState(),p=d.streamType,m=d.goldOnly;if(!l)return Promise.reject("no userId!");var h={amt:e,isprepopulated:t,modelname:o,smid:r,nickname:c,userId:l,sakey:a,session:M[p]||"",streamid:s,platform:u,goldOnly:m},f=k.Z.getBaseUrl()+"/api/v2/givegold/";return k.Z.postPromise(f,h,"json")})),(0,u.Z)(B,"_giveGoldWebSocket",(function(e,t,n){var o=C.Z.getState().userId,r=E.Z.getState(),i=r.id,s=r.platform,a=P.Z.getState().private,l=Z.Z.getState().performerStreamId,c=n.quickTip,u=n.goldMenuItem,d=n.spinGoldMenuName;if(u&&A.Z.loms({eventname:"GoldMenuPurchaseV1",goldMenuId:Number(u.goldmenuid),goldMenuKeyword:String(u.keyword),goldMenuCost:Number(u.cost),userId:Number(o),performerId:Number(i),performerStreamId:l}),d&&A.Z.loms({eventname:"SpinWheelPurchaseV1",cost:Number(t),userId:Number(o),performerId:Number(i),performerStreamId:l}),s===I.ZP.STREAMFANS&&A.Z.loms({eventname:"UserSpendGoldStreamFansV1",amount:Number(t),userId:Number(o),performerId:Number(i),performerStreamId:l}),S.Z.isPreGoldShow()||S.Z.needPledge())return A.Z.usageTick("givegold_goldpledged"),void w.Z.dispatch({type:O.Z.USER_PLEDGE_GOLD,data:{showid:S.Z.getState().id,amount:e,goldToGiveFractionalLocal:e,goldToGiveCentsUsd:t,isPrivate:a,fromQuickTip:c}});A.Z.usageTick("givegold_goldgiven"),w.Z.dispatch({type:O.Z.USER_GIVE_GOLD,data:{amount:e,goldToGiveFractionalLocal:e,goldToGiveCentsUsd:t,isPrivate:a,fromQuickTip:c,goldMenuItem:u,spinGoldMenuName:d}})})),(0,u.Z)(B,"propTypes",{useAjax:f().bool,children:f().func,defaultGold:f().number,minGf().bool,presetGold:f().number,accumulateFor:f().number,inputGoldLocal:f().bool,sendGoldAsOneUsd:f().bool}),(0,u.Z)(B,"defaultProps",{useAjax:!1,children:function(){return null},defaultGold:0,minGold:0,shackled:!1,accumulateFor:0,inputGoldLocal:!1,sendGoldAsOneUsd:!1})},"./src/components/goldmenu/GoldMenuButton.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>W});var o,r,i,s,a,l=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),c=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),u=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),d=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),p=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),m=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),h=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),f=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),g=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),v=n("webpack/sharing/consume/default/react/react"),_=n("./node_modules/prop-types/index.js"),y=n.n(_),b=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),S=n("./node_modules/styled-components-rtl/index.js"),E=n("./node_modules/lodash/isEqual.js"),C=n.n(E),Z=n("./node_modules/icf-react-components/components/FlatButton/index.js"),P=n.n(Z),O=n("./node_modules/icf-react-components/components/Tooltip/index.js"),T=n.n(O),I=n("./src/constants/Actions.js"),w=n("./src/constants/StatsEvents.js"),A=n("./src/constants/LomsEvents.js"),R=n("./src/constants/Platforms.ts"),k=n("./src/constants/ShownFeature.ts"),D=n("./src/constants/Modals.ts"),L=n("./src/lib/Dispatcher.js"),N=n("./src/lib/Strings.js"),x=n("./src/stores/LayoutStore.js"),j=n("./src/utils/log.js"),M=n("./src/utils/lomsTools.js"),B=n("./src/utils/forPlatforms.tsx"),U=n("./src/utils/goldMenu.ts"),G=n("./src/components/goldmenu/GoldMenuIcon.tsx");function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,h.Z)(e);if(t){var r=(0,h.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,m.Z)(this,n)}}var F=(0,b.ZP)(P()).withConfig({displayName:"GoldMenuButton__MenuButton",componentId:"sc-1l702zq-0"})(["root:",";display:flex;"," text-transform:uppercase;text-color:",";color:",";text-shadow ",";width:100%;& > svg{"," width:36px;height:36px;transform:","}& > iconLeft{width:48px;height:48px;}label{"," text-color:",";color:",";font-size:16px;}"],(function(e){return e.theme.colors.gold}),(0,S.Z)(o||(o=(0,g.Z)(["\n    justify-content: left;\n  "]))),(function(e){var t=e.theme;return"dark"===t.type?t.colors.gold:t.colors.baseContrast100}),(function(e){var t=e.theme;return"dark"===t.type?t.colors.goltype?"1px 1px 2px rgba(0, 0, 0, 0.75)":"unset"}),(0,S.Z)(r||(r=(0,g.Z)(["\n      margin-left: -12px;\n    "]))),(function(e){return"rtl"===e.theme.direction?"scaleX(-1)":"none"}),(0,Sfunction(e){var t=e.theme;return"dark"===t.type?t.colors.gold:t.colors.baseContrast100}),(function(e){var t=e.theme;return"dark"===t.type?t.colors.gold:t.colors.baseContrast100})),H=(0,b.ZP)(P()).withConfig({displayName:"GoldMenuButton__CompactMenuButton",componentId:"sc-1l702zq-1"})(["root:",";display:flex;justify-x;}& > iconLeft{width:48px;height:48px;}"],(function(e){return e.theme.colors.gold}),(function(e){return"dark"===e.theme.type?e.theme.colors.gold:e.theme.colors.baseContrast100})),Y=function(e){(0,p.Z)(n,e);var t=V(n);function n(e){var o;return(0,c.Z)(this,n),o=t.call(this,e),(0,f.Z)((0,d.Z)(o),"onStoreCh.setState(e)})),o.state=(0,U.o)(),o}res;this.tokens=U.A.map((function(t){return t.addListener(e.onStoreChange)}))}},{key:"componentWillUnmount",value:function(){this.tokens.forEach((function(e){return e.remove()}))}},{key:"attemptLogShown",value:function(){this.loggedShown||((0,L._)({type:I.Z.FEATURE_SHOWN,data:{feature:k.Z.GOLD_MENU}}),this.loggedShown=!0)}},{key:"handleClick",value:function(){j.Z.statsIncCounter(w.Z.GOLD_MENU.OPENED),(0,M.$m)(A.Z.CTA_BUTTONS.GOLD_MENU),this.props.isChatUpsell&&(0,M.Tg)(A.Z.CTA_BUTTONS.GOLD_MENU,x.ZP.getState().layout),L.Z.dispatch({type:I.Z.OPEN_GOLD_MODAL,data:{activeGoldTab:D.m5.GOLD_MENU}})}},{key:"attemptRemoveSelf",value:function(){var e=this.props,t=e.isChatUpsell,n=e.identifier;t&&n&&(0,L._)({type:I.Z.REMOVE_CHAT_MESSAGE,data:{identifier:n}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.visible,o=t.enabled,r=this.props.isCompact;return n?(this.attemptLogShown(),r?(0,l.Z)(T(),{title:N.ZP.getString("gold_menu_view"),placement:O.TooltipPlacement.RIGHT},void 0,(0,l.Z)(H,{size:"large",disabled:!o,iconLeft:s||(s=(0,l.Z)(G.Z,{})),"data-ta-locator":"GoldMenuButton",onClick:function(){return e.handleClick()},"data-icf(F,{size:"large",disabled:!o,label:N.ZP.getString("gold_menu_view"),iconLeft:a||(a=(0,l.Z)(G.Z,{})),"data-ta-locator":"GoldMenuButton",onClick:function(){return e.handleClick()},"data-icf-click":"GoldMenuButton"})):(this.attemptRemoveSelf(),null)}}]),n}(v.Component);Y.propTypes={isChatUpsell:y().bool,isCompact:y().bool,identifier:y().string},Y.defaultProps={isChatUpsell:!1,isCompact:!1};const W=(0,B.Z)({exclude:[R.ZP.EXTERNAL_SITE_SHOW]})(Y)},"./src/components/goldshow/GoldShowContainer.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>V});var o,r=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),i=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),c=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=n("webpack/sharing/consume/default/react/react"),m=n("./node_modules/prop-types/index.js"),h=n.n(m),f=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),g=n("./src/stores/GoldShowStore.js"),v=n("./src/stores/LayoutStore.js"),_=n("./src/stores/TopContributorsStore.js"),y=n("./src/constants/GoldShowConstants.js"),b=n("./src/constants/LayoutConstants.ts"),S=n("./src/constants/Actions.js"),E=n("./src/constants/Platforms.ts"),C=n("./src/lib/Dispatcher.js"),Z=n("./src/lib/Strings.js"),P=n("./src/components/bio/Vibes.tsx"),O=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),T=n("./node_modules/styled-components-rtl/index.js"),I=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),w=n.n(I);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var R,k,D=f.ZP.span.withConfig({displayName:"GoldShowTopic__Pledged",componentId:"sc-1g0hrdg-0"})(["color:",";",""],(function(e){return e.theme.colors.gold}),(0,T.Z)(o||(o=(0,O.Z)(["\n    margin-left: 1em;\n  "])))),L=f.ZP.h3.withConfig({displayName:"GoldShowTopic__Info",componentId:"sc-1g0hrdg-1"})(["color:",";margin-top:0;margin-bottom:0.5em;text-transform:uppercase;cursor:pointer;"],(function(e){return e.theme.colors.gold})),N=f.ZP.p.withConfig({displayName:"GoldShowTopic__Topic",componentId:"sc-1g0hrdg-2"})(["word-break:break-word;margin:0;line-height:1.45;cursor:pointer;"]),x=(0,f.ZP)(w()).attrs({name:"check"}).withConfig({displayName:"GoldShowTopic__TopicIcon",componentId:"sc-1g0hrdg-3"})(["fill:",";height:24px;width:24px;vertical-align:text-bottom;"],(function(e){return e.theme.colors.gold})),j=function(e){(0,l.Z)(n,e);var t=A(n);function n(e){var o;(0,i.Z)(this,n),o=t.call(this,e),(0,d.Z)((0,a.Z)(o),"onGoldShowStoreUpdate",(function(){var e=g.Z.getState(),t=e.showtopic,n=e.minbuyinString,r=e.duration;o.setState({topic:t,minbuyinString:n,duration:o.getDurationString(r),pledged:g.Z.isUserBoughtIn(),isInProgress:g.Z.isInProgress()})}));var r=g.Z.getState(),s=r.showtopic,l=r.minbuyinString,c=r.duration;return .Z.isUserBoughtIn(),isInProgress:g.y:"componentDidMount",value:function(){this.goldShowToken=g.Z.addListener(this.onGoldShowStoreUpdate)}},{key:"componentWillUnmount",value:function(){this.goldShowToken.remove()}},{key:"getDurationString",value:function(e){return 60===e?Z.ZP.getString("minute",1):Z.ZP.getString("minutes",Math.ceil(e/60))}},{key:"render",value:function(){var e=this.state.pledged?(0,r.Z)(D,{},void 0,(0,r.Z)(x,{"data-ta-locator":"GoldShowTopic__TopicIcon","data-isinprogress":this.state.isInProgress})):null;return(0,r.Z)("div",{},void 0,(0,r.Z)(L,{},void 0,this.state.minbuyinString,", ",this.state.duration," ",e),(0,r.Z)(N,{"data-ta-locator":"GoldShowTopic__Topic"},void 0,this.state.topic))}}]),n}(p.Component),M=n("./src/components/goldshow/TopContributorsLeaderboard.js"),B=n("./src/components/section/InfoContainer.tsx");function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var G=f.ZP.a.withConfig({displayName:"GoldShowContainer__StyledGoldShowLink",componentId:"sc-1cgi13i-0"})(["p{color:",";}",";"],(function(e){return e.theme.colors.baseContrast070}),(function(e){return e.clickable?"":"pointer-events: none;"})),V=function(e){(0,l.Z)(n,e);var t=U(n);function n(){var e;return(0,i.Z)(this,n),e=t.call(this),(0,d.Z)((0,a.Z)(e),"updateLayoutStoreVisbility",(function(t){e.conteEM_VISIBLITY,data:{component:b.DD.GOLD_SHOW_CONTAINER,visible:t}})})),(0,d.Z)((0,a.Z)(e),"handleTopContributorsVisibility",(function(t){e.setState({isTopContributorsVisible:t})})),(0,d.Z)((0,a.Z)(e),"onGoldShowStoreUpdate",(function(){var t=g.Z.getState().goldShowState;t!==e.state.goldShowState&&e.setState({goldShowState:t})})),(0,d.Z)((0,a.Z)(e),"onTopContributorsStoreUpdate",(function(){var t=_.Z.getState().users;e.setState({topContributorsPledges:t})})),e.state={goldShowState:g.Z.getState().goldShowState,topContributorsPledges:_.Z.getState().users,isTopContributorsVisible:void 0},e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.goldShowToken=g.Z.addListener.onTopContributorsStoreUpdate),this.updateLayoutStoreVisbility(!1)}},{key:"componentWillUnmount",value:function(){this.goldShowToken.remove(),this.topContributorsToken.remove()}},{key:"componentDidUpdate",value:function(){var e,t=this.state.isTopContributorsVisible,n=null===(e=v.ZP.getSidebarItemState(b.DD.GOLD_SHOW_CONTAINER))||void 0===e?void 0:e.visible;t?n||this.updateLayoutStoreVisbility(!0):n&&this.updateLayoutStoreVisbility(!1)}},{key:"onGoldShowClick",value:function(e){e.preventDefault(),C.Z.dispatch({type:S.Z.GIVE_GOLD_CLICK})}},{key:"getTopic",value:function(e){return e===y.Z.GOLD_STATE_NONE?null:R||(R=(0,r.Z)(j,{}))}},{key:"getTopContributors",value:function(e){return e!==y.Z.GOLD_STATE_NONE?(0,r.Z)(M.Z,{onVisibility:this.handleTopContributorsVisibility,isLarge:this.context.layout!==b.ZP.DESKTOP}):null}},{key:"render",value:function(){var e,t=this.state.goldShowState,n=this.context,o=n.layout,i=n.platform,s=null===(e=v.ZP.getSidebarItemState(b.DD.GOLD_SHOW_CONTAINER))||void 0===e?void 0:e.collapsed,a=this.getTopContributors(t),l=o===b.ZP.DESKTOP?B.pn:B.Y5;return t===y.Z.GOLD_STATE_NONE?null:(0,r.Z)(l,{"data-ta-locator":"GoldShowContainer"},void 0,(0,r.Z)(B.fF,{},void 0,Z.ZP.getString("my_gold_show")),(0,r.Z)(B.mG,{},void 0,(0,r.Z)(G,{onClick:this.onGoldShowClick,clickable:i!==E.ZP.EXTERNAL_SITE_SHOW},void 0,this.getTopic(t))),k||(k=(0,r.Z)(P.Z,{})),!s&&a&&(0,r.Z)(B.mG,{},void 0,a))}}]),n}(p.Component);V.contextTypes={layout:h().string,platform:h().oneOf(Object.values(E.ZP))}},"./src/components/goldshow/TopContributorsLeaderboard.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>V});var o=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),u=n("webpack/sharing/consume/default/react/react"),d=n.n(u),p=n("./node_modules/prop-types/index.js"),m=n.n(p),h=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),f=n("./node_modules/styled-components-rtl/index.js"),g=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),v=n.n(g),_=n("./src/constants/LayoutConstants.ts"),y=n("./src/constants/Actions.js"),b=n("./src/components/common/primitives/index.js"),S=(0,h.ZP)(b.gq).withConfig({displayName:"Pledge__Bidder",componentId:"sc-1pkqhk7-0"})(["height:30px;align-items:center;padding:0.2em 0.6em;background-color:",";"," "," &:first-child{background-color:",";}&:nth-child(2){background-color:",";}&:last-child{background-color:",";}&:before{background:rgb(255,246,0);border-radius:100%;height:18px;width:18px;color:rgb(122,85,0);counter-increment:badge;content:counter(badge);font-weight:bold;text-align:center;text-shadow:none;box-shadow:0 2px 2px rgba(0,0,0,0.3);line-height:18px;}&:hover{filter:brightness(125%);}&:active{","}",""],_.O9.darkGray,(function(e){return e.isClickable&&"cursor: pointer;"}),(function(e){return e.isLarge&&"margin-bottom: 16px;\n    border: solid 1px rgb(189,110,1);\n    border-radius: 2px;\n    padding: 20px 8px;\n    font-weight: bold;"}),(function(e){returarent":"rgb(200, 132, 0)"}),(function(e){return e.isLarge?"transparent":"rgb(220, 161, 0)"}),(function(e){return e.isLarge&&e.isClickable&&"background-color: rgb(189, 110, 1);"}),(function(e){return e.isHighlighted&&"background-color: rgb(189, 110, 1) !important;"})),E=h.ZP.span.withConfig({displayName:"Pledge__Username",componentId:"sc-1pkqhk7-1"})(["max-width:15em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;"]),C=function(e){var t=e.label,n=e.amount,r=e.onMouseOver,i=e.onMouseOut,s=e.onClick,a=e.isHighlighted,l=e.isClickable,c=e.isLarge;return d().createElement(S,{onMouseOver:r,onMouseOut:i,onClick:s,isHighlighted:a,isClickable:l,isLarge:c},(0,o.Z)(b.py,{},void 0,(0,o.Z)(E,{},void 0,t),(0,o.Z)("span",{},void 0,n)))};C.defaultProps={isClickable:!0},C.propTypes={label:m().string.isRequired,amount:m().string.isRequired,onMouseOver:m().func.isRequired,onMouseOut:m().func.isRequired,onClick:m().func.isRequired,isHighlighted:m().bool,isClickable:m().bool,isLarge:m().bool};const Z=C;var P,O,T=n("./src/lib/Dispatcher.js"),I=n("./src/lib/Strings.js"),w=n("./src/stores/TopContributorsStore.js"),A=n("./src/stores/GoldShowStore.js"),R=n("./src/stores/LayoutStore.js"),k=n("./src/utils/log.js"),D=n("./src/utils/gold.js"),L=n("./src/utils/withStores.tsx");function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,a.Z)(this,n)}}var x=h.ZP.div.withConfig({displayName:"TopContributorsLeaderboard__Container",componentId:"sc-1czvy4c-0"})(["width:100%;margin-bottom:10px;font-size:80%;@media ","{display:none;}"],_.I9),j=h.ZP.div.withConfig({displayName:"TopContributorsLeaderboard__Title",componentId:"sc-1czvy4c-1"})(["color:",";margin-bottom:0.5em;text-transform:uppercase;"," font-weight:500;font-size:11px;'"],_.O9.gray,(0,f.Z)(P||(P=(0,c.Z)(["\n    text-align: left;\n  "])))),M=h.ZP.div.withConfig({displayName:"TopContributorsLeaderboard__TopContributorsContainer",componentId:"sc-1czvy4c-2"})(["counter-reset:badge;width:100%;"]),B=(0,h.ZP)(b.gq).withConfig({on6em;background-color:",";"," ",""],_.O9.darkGray,(function(e){return e.isLarge&&"margin-bottom: 16px;"}),(function(e){return e.isClickable?"cursor: pointer;":"cursor: default;"})),U=(0,h.ZP)(v()).attrs({name:"person"}).withConfig({displayName:"TopContributorsLeaderboard__TopContributorsIcon",componentId:"sc-1czvy4c-4"})(["fill:white;width:1.75em;height:1.75em;margin-left:2px;"]),G=function(e){(0,s.Z)(n,e);var t=N(n);function n(e){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).state={rolloverPosition:null,clickedPosition:null,lastTotalUserPledgedAmountForTakeTopSpot:0,isVisible:void 0},o}return(0,i.Z)(n,[{key:"componentWillUnmount",value:function(){var e,t;null===(e=(t=this.props).onVisibility)||void 0===e||e.call(t,!1)}},{key:"componentDidUpdate",value:function(e,t){var n,o;this.state.isVisible!==t.isVisible&&(null===(n=(o=this.props).onVisibility)||void 0===n||n.call(o,this.state.isVisible));if(this.props.selectedGold&&e.selectedGold!==this.props.selectedGold){for(var r=this.props,i=r.pledges,s=r.usersToShow,a=r.selectedGold,l=r.minbuyin,c=r.totalUserPledgedAmount+a,u=0;u<i.length&&!(i[u].amount<c);++u);c<=l&&(u=s),this.setState({clickedPosition:u<s?u:null});var d=this.getTopContributorString(u);this.props.onPledgeClick(a,d)}}},{key:"getPledges",value:function(e,t){var n=[];if(!e||!e.length)return k.Z.warn("no-topcontributors-pledges"),n;for(var o=0;o<t;o++){var r=e[o];if(r){var i=r.nickname,s=r.amount;if(!i||!s){k.Z.error({message:"topcontributors-invalid-pledge-data",pledge:r});continue}n.push({nickname:i,amount:s,amountString:(0,D.ev)(s)})}else n.push({nickname:"----",amount:0,amountString:(0,D.ev)(0)})}return n}},{key:"_renderPledgeRow",value:function(e,t){var n=this.props.totalUserPledgedAmount,r=e.amount;return(0,o.Z)(Z,{label:t===this.state.rolloverPosition?I.ZP.getString("top_contributors.take"):e.nickname,amount:e.amountString,onMouseOver:this.handlePledgeRollover.bind(this,t),onMouseOut:this.handlePledgeRollout.bind(this,t),onClick:this.handlePledgeClick.bind(this,t),isHighlighted:this.props.highlightingEnabled&&t===this.state.clickedPosition,isClickable:n<r||n<=this.props.minbuyin&&0===r,isLarge:this.props.isLarge},t)}},{key:"_renderYourPledgeRow",value:function(e,t,n){if(!n||!e||!e.length)return null;var r=this.getUserIndex(e);if(null!==r&&r<this.props.usersToShow)return null;var i=(0,D.ev)(t),s="self"===this.state.rolloverPosition?I.ZP.getString("top_contributors.add",3):I.ZP.getString("top_contributors.your_pledge");return(0,o.Z)(B,{onClick:this.handleOwnPledgeClick.bind(this),onMouseOver:this.handleOwnPledgeRollover.bind(this),onMouseOut:this.handleOwnPledgeRollout.bind(this),isClickable:!this.props.disableUserBidClick,isLarge:this.props.isLarge},void 0,O||(O=(0,o.Z)(U,{})),(0,o.Z)(b.py,{},void 0,s,(0,o.Z)("span",{},void 0,i)))}},{key:"handlePledgeRollover",value:function(e,t){t.preventDefault(),this.canClickPledgeRow(e)&&e!==this.state.rolloverPosition&&this.setState({rolloverPosition:e})}},{key:"handlePledgeRollout",value:function(e,t){t.preventDefault(),this.setState({rolloverPosition:null})}},{key:"handlePledgeClick",value:function(e,t){if(t.preventDefault(),this.canClickPledgeRow(e)){switch(k.Z.usageTick("top_contributor_clicked"),e){case 0:k.Z.usageTick("top_contributor_clicked_1st");break;case 1:k.Z.usageTick("top_contributor_clicked_2nd");break;case 2:k.Z.usageTick("top_contributor_clicked_3rd")}this.setState({rolloverPosition:null,clickedPosition:e});var n=this.props,o=n.pledges,r=n.minbuyin,i=n.totalUserPledgedAmount,s=o[e]&&o[e].amount?o[e].amount:r,a=this.getPositionAmount(s,i),l=this.getTopContributorString(e);this.handlePledgeClickExternal(a,l)}}},{key:"handleOwnPledgeRollover",value:function(){this.props.disableUserBidClick||(k.Z.debug("handleOwnPledgeRollover"),this.setState({rolloverPosition:"self"}))}},{key:"handleOwnPledgeRollout",value:function(){this.props.disableUserBidClick||(k.Z.debug("handleOwnPledgeRollout"),this.setState({rolloverPosition:null}))}},{key:"handleOwnPledgeClick",value:function(){this.props.disableUserBidClick||(k.Z.debug("handleOwnPledgeClick"),this.handlePledgeClickExternal())}},{key:"getPositionAmount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=100*Math.ceil(Number(e)/100);return n===Number(e)&&(n+=100),t&&(n-=t),n=100*Math.ceil(n/100)}},{key:"getTopContributorString",value:function(e){var t="";switch(e){case 0:t=I.ZP.getString("top_contributors.1st");break;case 1:t=I.ZP.getString("top_contributors.2nd");break;case 2:t=I.ZP.getString("top_contributors.3rd")}return t}},{key:"handlePledgeClickExternal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.props.onPledgeClick?this.props.onPledgeClick(e,t):T.Z.dispatch({type:y.Z.GIVE_GOLD_CLICK,data:{topContributorAmount:e,topContributorString:t}})}},{key:"canClickPledgeRow",value:function(e){var t=this.getUserIndex(this.props.pledges);return!(null!==t&&t<=e)}},{key:"getUserIndex",value:function(e){for(var t=null,n=0;n<e.length;n++)if(e[n].isThisUser){t=n;break}return t}},{key:"render",value:function(){var e=this.props,t=e.pledges,n=e.usersToShow,r=e.totalUserPledgedAmount,i=e.isUserBoughtIn,s=this.getPledges(t,n);return this.state.isVisible?(0,o.Z)(x,{"data-ta-locator":"TopContributorsLeaderboard__Container"},void 0,(0,o.Z)(j,{},void 0,I.ZP.getString("top_contributors.title")),(0,o.Z)(M,{},void 0,s.map(this._renderPledgeRow,this)),this._renderYourPledgeRow(t,r,i)):null}}],[{key:"getDerivedStateFromProps",value:function(e){return{isVisible:e.pledges.length>0}}}]),n}(u.Component);G.defaultProps={totalUserPledgedAmount:0,usersToShow:3,isUserBoughtIn:!1,minbuyin:0,highlightingEnabled:!1,selectedGold:void 0,disableUserBidClick:!1,isLarge:!1},G.propTypes={onVisibility:m().func,onPledgeClick:m().func,highlightingEnabled:m().bool,selectedGold:m().number,disableUserBidClick:m().bool,isLarge:m().bool,pledges:m().array.isRequired,totalUserPledgedAmount:m().number,usersToShow:m().number,isUserBoughtIn:m().bool,minbuyin:m().number};const V=(0,L.Z)([w.Z,A.Z,R.ZP],(function(e){return{pledges:e.topContributors.users,totalUserPledgedAmount:e.topContributors.totalUserPledgedAmount,usersToShow:e.topContributors.usersToShow,isUserBoughtIn:A.Z.isUserBoughtIn(),minbuyin:e.goldShow.minbuyin}}))(G)},"./src/components/modals/EnterPaidModal.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Se,mapStateToProps:()=>be});var o,r,i,s,a,l,c,u=n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),d=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),p=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),m=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),h=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),f=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),g=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),v=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),_=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),y=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),b=n("webpack/sharing/consume/default/react/react"),S=n("./node_modules/prop-types/index.js"),E=n.n(S),C=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Z=n("./node_modules/styled-components-rtl/index.js"),P=n("./src/constants/Actions.js"),O=n("./src/constants/Connection.js"),T=n("./src/constants/Session.ts"),I=n("./src/constants/Messages.js"),w=n("./src/lib/Dispatcher.js"),A=n("./src/lib/Strings.js"),R=n("./src/stores/ConfigStore.ts"),k=n("./src/stores/ConnectionStore.js"),D=n("./src/stores/RoomStore.ts"),L=n("./src/stores/PerformerStore.ts"),N=n("./src/stores/PerformerSubscribersStore.js"),x=n("./src/stores/RateStore.js"),j=n("./src/stores/UserStore.js"),M=n("./src/stores/UserListStore.ts"),B=n("./src/utils/currency.js"),U=n("./src/utils/log.js"),G=n("./src/utils/localization.js"),V=n("./src/utils/tools.ts"),F=n("./src/utils/withStores.tsx"),H=n("./node_modules/icf-react-components/components/RadioButtonGroup/index.js"),Y=n.n(H),W=n("./node_modules/icf-react-components/components/RadioButton/index.js"),z=n.n(W),q=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),K=n.n(q),X=n("./src/components/common/DropDownMenu.js"),Q=n("./src/components/common/EnterShowButton.js"),J=n("./src/components/common/BillingInfo.js"),$=n("./src/components/common/primitives/index.js"),ee=n("./src/components/modals/SpinnerModal.js"),te=n("./src/components/modals/ModalHeader.js");function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,_.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,v.Z)(e);if(t){var r=(0,v.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,g.Z)(this,n)}}var ie=(0,C.ZP)((0,$.dN)(Q.Z)).withConfig({displayName:"EnterPaidModal__StyledEnterShowButton",componentId:"sc-1lywrxq-0"})(["margin-top:1em;margin-bottom:16px;width:100%;"]),se=C.ZP.div.withConfig({displayName:"EnterPaidModal__PaidChatOptionRowLabel",componentId:"sc-1lywrxq-1"})(["color:#757575;font-size:12px;white-space:nowrap;margin-bottom:8px;line-height:24px;.option-title{color:#fafafa;font-size:16px;font-weight:400;letter-spacing:0.5px;line-height:24px;margin:0;}& del{font-weight:100;}"]),ae=(0,C.ZP)(K()).withConfig({displayName:"EnterPaidModal__PaidChatOptionRowIcon",componentId:"sc-1lywrxq-2"})(["fill:#757575;",""],(0,Z.Z)(o||(o=(0,y.Z)(["\n    margin-right: 4px;\n  "])))),le=C.ZP.div.withConfig({displayName:"EnterPaidModal__BlockSessions",componentId:"sc-1lywrxq-3"})(["margin:0;"]),ce=C.ZP.div.withConfig({displayName:"EnterPaidModal__LandscapeWrapper",componentId:"sc-1lywrxq-4"})(["display:flex;flex-direction:row;justify-content:center;"]),ue=C.ZP.div.withConfig({displayName:"EnterPaidModal__LeftContent",componentId:"sc-1lywrxq-5"})(["flex-basis:50%;"]),de=C.ZP.div.withConfig({displayName:"EnterPaidModal__FormWrapper",componentId:"sc-1lywrxq-6"})([""," flex-basis:50%;& .radioButton{align-items:baseline;}"],(0,Z.Z)(r||(r=(0,y.Z)(["\n    text-align: left;\n  "])))),pe=(0,C.ZP)(X.Z).attrs({fullWidth:!0}).withConfig({displayName:"EnterPaidModal__StyledDropDownMenu",componentId:"sc-1lywrxq-7"})(["margin 0;"]),me=C.ZP.span.withConfig({displayName:"EnterPaidModal__StyledDiscountUpdate",componentId:"sc-1lywrxq-8"})(["color:",";"],(function(e){return e.theme.colors.primary})),he=C.ZP.div.withConfig({displayName:"EnterPaidModal__StyledPerformerDiscountBanner",componentId:"sc-1lywrxq-9"})(["color:",";margin:-15px auto 20px auto;& svg{fill:",";","}"],(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(0,Z.Z)(i||(i=(0,y.Z)(["\n      margin: 0 6px 6px 0;\n    "])))),fe=C.ZP.div.withConfig({displayName:"EnterPaidModal__Warning",componentIdin-bottom:16px;font-size:12px;line-height:20px;color:",";& span{color:",";cursor:pointer;}"],(function(e){return e.theme.colors.alert}),(function(e){return e.theme.colors.alert})),ge=C.ZP.div.withConfig({displayName:"EnterPaidModal__MonitoredMessage",componentId:"sc-1lywrxq-11"})(["margin:0.5em 0 -0.5em;text-align:center;"]),ve=(0,A.KF)("select_show"),_e=(0,C.ZP)(te.Z).withConfig({displayName:"EnterPaidModal__LandscapeModalHeader",componentId:"sc-1lywrxq-12"})(["ma=function(e){(0,f.Z)(n,e);var t=re(n);function n(e,o){var r;(0,p.Z)(this,n),r=t.call(this,e,o),(0,_.Z)((0,h.Z)(r),"onPerformerStoreChange",(function(){r.updatePaidChatOption,(function(){var e=k.Z.getState().streamType,t=M.Z.getState().numberOfUsersInRoom;e===O.ZP.STREAM_TYPE_PRIVATE&&t>1&&setTimeout((function(){w.Z.dispatch({type:P.Z.CLOSE_MODAL})}))})),(0,_.Z)((0,h.Z)(r),"onSessionTypeChange",(function(e){U.Z.usage("enterpaid_session_change"),r.setState({sessionType:e,blockSessionValue:"",blockSessionLabel:"",blockSessionData:null}),r.props.updateSessionTypeChange&&r.props.updateSessionTypeChange(e)})),(0,_.Z)((0,h.Z)(r),"onBlockSessionsChange",(function(e){var t=e.value,n=e.label;U.Z.usage("enterpaid_blocksession_change"),r.setState({blockSessionValue:t,blockSessionLabel:n,blockSessionData:JSON.parse(t)}),r.props.updateBlockSessionChange&&r.props.updateBlockSessionChange(t)})),(0,_.Z)((0,h.Z)(r),"getBlockSessionOptionRow",(function(e){var t=e.perfdiscountid,n=e.streamid,o=e.streamtype,i=e.minduration,s=e.discountedrate,a=e.remainingDuration,l=e.total,c="";if(r.state.appendInclusivePrice){var u=r.getInclusiveTaxesAndFeeString();c="(".concat(r.getInclusivePriceString(l)," ").concat(u,")")}var d=(0,A.KF)("lb_".concat(o,"_description")),p=(0,A.KF)("blocksession",{total:r.getNonInclusivePriceString(l),discountedrate:r.getNonInclusivePriceString(s),minduration:i});return{label:"".concat(d,": ").concat(p).replace(/\s/g,"")+(c?" ":"")+c.replace(/\s/g,""),value:JSON.stringify({perfdiscountid:t,streamid:n,streamtype:o,minduration:i,remainingDuration:a,total:l,totalCents:100*Number(l)})}}));var i=x.Z.getState(),s=i.taxPercentage,a=i.feePercentage,l=j.Z.getState().showFinalCost,c=Boolean(l&&(s||a)),u=N.Z.getState().userIsSubscribed;r.state={blockSessionValue:"",blockSessionLabel:"",userIsSubscribed:u,appendInclusivePrice:c,useLandscapeLayout:e.isLandscape};var d=r.,m.Z)(n,[{key:"componentDidMount",vcomponentWillUnmount",value:functs.sesstionTypeChangedTimeout=null}},{key:"componentDidUpdate",value:function(e){this.props.isLandscape!==e.isLandscape&&this.setState({useLandscapeLayout:this.props.isLandscape})}},{key:"updatePaidChatOptions",value:function(){var e=this,t=this.getPaidChatOptions(),n=this.state.sessionType,o=n;n&&t.some((function(e){return e.sessionType===n}))||(o=t.length>0?t[0].sessionType:T.F.PREMI,sessionType:o,sessionTypeChanged:r}),r&&(clearTimeout(this.sesstionTypeChangedTimeout),this.sesstionTypeChangedTimeout=setTimeout((function(){e.setState({sessionTypeChanged:!1})}),250))}},{key:"renderDiscountRate",value:function(e,t){return this.state.userIsSubscribed&&e!==t?(0,d.Z)("span",{},void 0,"-",(0,d.Z)("del",{},void 0,e),"",(0,d.Z)(me,{},void 0,t)):(0,d.Z)("span",{},void 0," - ",e)}},{key:"getInclusivePriceString",value:function(e){var t=j.Z.getState().currencyCode;return B.Z.currencyify(B.Z.applyTaxesAndFees(e),t)}},{key:"getNonInclusivePriceString",value:function(e){var t=j.Z.getState().currencyCode;return B.Z.currencyify(e,t)}},{key:"getInclusiveTaxesAndFeeString",value:function(){var e=x.Z.getState(),t=e.taxPercentage,n=e.feePercentage;return t&&n?(0,A.KF)("billing_info.vat_fee_included_text_only"):t?(0,A.KF)("billing_info.vat_included_text_only"):n?(0,A.KF)("billing_info.fee_included_text_only"):null}},{key:"shouldShowStashWarning",value:function(e,t,n){return e<n||e<5*t}},{key:"shouldDisableForStash",value:function(e,t,n){return e<n||e<1*t}},{key:"renderPaidChatOptionRow",value:function(e){var t=e.sessionType,n=e.description,o=e.rateString,r=void 0===o?"":o,i=e.rateDiscountString,s=void 0===i?"":i,a=e.rateInclusiveString,l=void 0===a?"":a,c=e.rateInclusiveDiscountString,u=void 0===c?"":c,p=e.subtext,m=e.icon,h=null,f=l;r&&s?(h=this.renderDiscountRate(r,s),f=u):r&&(h=" - ".concat(r));var g=this.props.showPaidChatDetails,v=(0,d.Z)(se,{},void 0,(0,d.Z)("div",{className:"option-title"},void 0,n,h),f&&(0,d.Z)("div",{},void 0,f),g&&m&&(0,d.Z)(ae,{name:m}),g&&p);return(0,d.Z)(z(),{className:"radioButton",value:t,label:v,"data-ta-locator":"EnterPaidModal__RadioButton__".concat(t)},t)}},{key:"getPrivate",value:function(){var e=this.state.appendInclusivePrice,t=x.Z.getState(),n=t.ratePremium,o=t.ratePremiumDiscount,r=k.Z.getState().streamType;if(!n)return null;if(r===O.ZP.STREAM_TYPE_PRIVATE)return null;var i=(0,A.KF)("rate",this.getNonInclusivePriceString(n)),s=o>0?(0,A.KF)("rate",this.getNonInclusivePriceString(o)):"",a="",l="";if(e){var c=this.getInclusiveTaxesAndFeeString();a="(".concat((0,A.KF)("rate",this.getInclusivePriceString(n))," ").concat(c,")"),l="(".concat((0,A.KF)("rate",this.getInclusivePriceString(o))," ").concat(c,")")}return{sessionType:T.F.PREMIUM,description:(0,A.KF)("lb_premium_description"),rateCents:100*Number(n),rateString:i,rateDiscountString:s,rateInclusiveString:a,rateInclusiveDiscountString:l,subtext:(0,A.KF)("lb_premium_subtext"),icon:"group"}}},{key:"getExclusive",value:function(){var e=k.Z.getState().streamType,t=M.Z.getState().numberOfUsersInRoom;if(L.Z.inPrivate())return null;if(k.Z.isAmsDead()&&D.Z.isRoomInPrivate()&&e!==O.ZP.STREAM_TYPE_PRIVATE)return null;var n=this.state.appendInclusivePrice,o=x.Z.getState(),r=o.rateExclusive,i=o.rateExclusiveDiscount;if(e===O.ZP.STREAM_TYPE_PRIVATE&&t>1)return null;if(!r)return null;var s=(0,A.KF)("rate",this.getNonInclusivePriceString(r)),a=i>0?(0,A.KF)("rate",this.getNonInclusivePriceString(i)):"",l="",c="";if(n){var u=this.getInclusiveTaxesAndFeeString();l="(".concat((0,A.KF)("rate",this.getInclusivePriceString(r))," ").concat(u,")"),c="(".concat((0,A.KF)("rate",this.getInclusivePriceString(i))," ").concat(u,")")}return{sessionType:T.F.EXCLUSIVE,description:(0,A.KF)("lb_exclusive_description"),rateCents:100*Number(r),rateString:s,rateDiscountString:a,rateInclusiveString:l,rateInclusiveDiscountString:c,subtext:(0,A.KF)("lb_exclusive_subtext"),icon:"person"}}},{key:"getBlock",value:function(){if(this.context.isExternalSiteFundsOnly)return null;var e=x.Z.getState().resumeSession;if(k.Z.getState().streamType===O.ZP.STREAM_TYPE_PRIVATE)return null;if(e){var t=(0,A.KF)("rate",this.getNonInclusivePriceString(e.discountedrate)),n="";if(this.state.appendInclusivePrice){var o=this.getInclusiveTaxesAndFeeString();n=" (".concat(this.getInclusivePriceString(e.discountedrate)," ").concat(o,")")}return{sessionType:T.F.RESUME,description:(0,A.KF)("lb_resume_description"),subtext:(0,A.KF)("lb_resume_subtext",e.minduration,t)+n,icon:"accessTime"}}return x.Z.hasBlockSessionsAvailable()?{sessionType:T.F.BLOCK,description:(0,A.KF)("lb_block_description"),subtext:(0,A.KF)("lb_block_subtext",(0,G.T3)(x.Z.maxDiscountRate()/100)),icon:"accessTime"}:null}},{key:"getPaidChatOptions",value:function(){if(void 0===this.state.appendInclusiveclusivePrice must be defined on the state");var e=!j.Z.getState().needsPrebill;return[this.getPrivate(),this.getExclusive(),e&&this.getBlock()].filter((function(e){return Boolean(e)}))}},{key:"renderBlockSessions",value:function(){if(!x.Z.hasBlockSessionsAvailable()||this.context.isExternalSiteFundsOnly)return null;var e=this.state,t=e.sessionType,n=e.blockSessionValue,o=e.blockSessionData,r=e.appendInclusivePrice;if(t!==T.F.BLOCK)return s||(s=(0,d.Z)(le,{}));var i=x.Z.getState().blockSessions,a=[];i.premium&&a.push.apply(a,(0,u.Z)(i.premium.map(this.getBlockSessionOptionRow))),!i.exclusive||k.Z.isAmsDead()&&D.Z.isRoomInPrivate()||L.Z.inPrivate()||a.push.apply(a,(0,u.Z)(i.exclusive.map(this.getBlockSessionOptionRow)));var l="";if(o&&r){var c=this.getInclusiveTaxesAndFeeString();l="(".concat(this.getInclusivePriceString(o.total)," ").concat(c,")")}return(0,d.Z)(le,{},void 0,(0,d.Z)(pe,{"data-ta-locator":"EnterPaidModal__blockSessionSelect",options:a,required:!0,onChange:this.onBlockSessionsChange.bind(this),placeholder:(0,A.KF)("select_block"),value:n||""}),l&&(0,d.Z)(se,{style:{textAlign:"center"}},void 0,l))}},{key:"renderPrebillWarning",value:function(){var e,t,n=j.Z.getState(),o=n.needsPrebill,r=n.currencyCode,i=null===(e=R.Z.getState().data)||void 0===e||null===(t=e.rate)||void 0===t?void 0:t.prebill;if(!o||!i)return null;U.Z.usage("enterpaid_show_prebill_message");var s=B.Z.currencyify(i,r);return(0,d.Z)("p",{"data-ta-locator":"EnterPaidPrebillWarning"},void 0,(0,d.Z)("small",{},void 0,(0,A.KF)("prebill_private_show",s)))}},{key:"renderDiscountAppliedBanner",value:function(){var e=x.Z.getState(),t=e.rateExclusiveDiscount,n=e.ratePremiumDiscount;if(this.state.userIsSubscribed&&(t||n))return(0,d.Z)(he,{},void 0,a||(a=(0,d.Z)(K(),{name:"crown",size:20})),(0,A.KF)("fanclub.benefits.discount_applied"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.showEnterShowButton,o=t.allowExclusiveUpgrade,r=this.state,i=r.sessionTypeChanged,s=r.sessionType,a=r.blockSessionValue,u=r.blockSessionData,p=this.getPaidChatOptions(),m=j.Z.getState(),h=m.needsPrebill,f=m.showFinalCost,g=m.stashUser,v=m.isStashLimit,_=m.maxGold,y=m.currencyCode,S=k.Z.getState().streamType,E=!h,C=this.state.useLandscapeLayout,Z=ator":"EnterPaidModal__Modal"},void 0,(0,d.Z)(Y(),{defaultSelected:s,name:"privates",onChange:this.onSessionTypeChange},void 0,p.map((function(t){return e.renderPaidChatOptionRow(t)}.renderPrebillWarning()));if(i)return l||(l=(0,d.Z)(ee.default,{}));var P=!1,w=!1;if(g&&v&&S===O.ZP.STREAM_TYPE_GUEST){var R,D=null===(R=p.find((function(e){return e.sessionType===s})))||void 0===R?void 0:R.rateCents,L=s===T.F.BLOCK?null==u?void 0:u.totalCents:void 0;P=this.shouldShowStashWarning(_,D,L),w=this.shouldDisableForStash(_,D,L)}var N=S===O.ZP.STREAM_TYPE_PRC&&(0,d.Z)(ue,{},void 0,Z),(0,d.Z)("div",{},void 0,this.renderDiscountAppliedBanner(),!C&&(0,d.Z)("form",{},void 0,Z),(P||w)&&(0,d.Z)(fe,{onClick:function(){(0,V.Vj)(I.Z.GOTO_STASH)},"data-ta-locator":"EnterPaidModal__StashWarning"},void 0,(0,d.Z)("div",{},void 0,(0,A.KF)("prepaid_balance.current",{amount:B.Z.currencyify(_,y)})),P&&!w&&(0,d.Z)("div",{dangerouslySetInnerHTML:{__html:(0,A.KF)("prepaid_balance.suggest_add_funds_for_show")}}),w&&(0,d.Z)("div",{dangerouslySetInnerHTML:{__html:(0,A.KF)("prepaid_balance.require_add_funds_for_show")}})),N&&(0,d.Z)(fe,{"data-ta-locator":"EnterPaidModal__ExclusiveUpgradeDisabledWarning"},void 0,(0,d.Z)("div",{},void 0,(0,A.KF)("go_exclusive_delay",{time:"".concat(T.a," ").concat((0,A.KF)("seconds"))}))),n&&(0,d.Z)(b.Fragment,{},void 0,C&&(c||(c=(0,d.Z)(_e,{},void 0,ve))),(0,d.Z)(ie,{label:(0,A.KF)("enter_show"),"data-ta-locator":"EnterPaidModal__enterPaidButton",sessionType:s,blockSessionValue:a,disabled:w||N}),(0,d.Z)(ge,{},void 0,(0,d.Z)("small",{},void 0,(0,A.KF)("monitored"))),(0,d.Z)(J.ZP,{finalCostShown:f}))))}}]),n}(b.Component);ye.contextTypes={primaryColor:E().string,isExternalSiteFundsOnly:E().bool},ye.propTypes={showPaidChatDetails:E().bool,updateBlockSessionChange:E().func,updateSessionTypeChange:E().func,showEnterShowB:E().bool},ye.defaultProps={showPaidChatDetails:!0,showEnterShowButton:!0,allowExclusiveUpgrade:!1};var be=function(e){return{allowExclusiveUpgrade:e.userList.allowExclusiveUpgrade}};const Se=(0,F.Z)([M.Z,D.Z],be)(ye)},"./src/components/modals/Modal.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var o,r,i,s=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),a=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),l=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("webpack/sharing/consume/default/react/react"),u=n.n(c),d=n("./node_modules/prop-types/index.js"),p=n.n(d),m=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),h=n("./src/components/common/CloseButton.js"),f=n("./src/components/modals/ModalHeader.js"),g=n("./src/constants/LayoutConstants.ts"),v=n("./src/constants/Modals.ts"),_=n("./src/lib/Strings.js"),y=n("./src/utils/tools.ts"),b=n("./src/utils/createAsyncComponent.tsx"),S=n("./node_modules/styled-components-rtl/index.js"),E=(o={},(0,l.Z)(o,v.nK.COMPLIANCE,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/ComplianceModal.js"))}),{displayName:"ComplianceModal"}),title:"2257"}),(0,l.Z)(o,v.nK.END_CAM2CAM,{asyncComponent:(0,b.Z)((function(){return n.e(8).then(n.bind(n,"./src/components/modals/EndCam2CamModal.js"))}),{displayName:"EndCam2CamModal"})}),(0,l.Z)(o,v.nK.ENTER_CAM2CAM,{asyncComponent:(0,b.Z)((function(){return n.e(8).then(n.bind(n,"./src/components/modals/EnterCam2CamModal.js"))}),{displayName:"EnterCam2CamModal"})}),(0,l.Z)(o,v.nK.ENTER_PAID,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/EnterPaidModal.js"))}),{displayName:"EnterPaidModal"}),title:"select_show"}),(0,l.Z)(o,v.nK.ENTER_VOICE_CHAT,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/EnterVoiceChatModal.js"))}),{displayName:"EnterVoiceChatModal"})}),(0,l.Z)(o,v.nK.ESS_ENTER,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/EssEnterModal.tsx"))}),{displayName:"EssEnterModal"})}),(0,l.Z)(o,v.nK.FREEZE,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/FreezeModal.js"))}),{displayName:"FreezeModal"}),title:"site_notice"}),(0,l.Z)(o,v.nK.GIVE_GOLD,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/GiveGoldModal.js"))}),{displayName:"GiveGoldModal"})}),(0,l.Z)(o,v.nK.GOLD,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/goldmenu/GoldModal.tsx"))}),{displayName:"GoldModal"})}),(0,l.Z)(o,v.nK.LOADING_PRIVATE,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/LoadingPrivateModal.js"))}),{displayName:"LoadingPrivateModal"})}),(0,l.Z)(o,v.nK.MIDSTREAM_BILLING_DECLINED,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/MidstreamBillingDeclinedModal.js"))}),{displayName:"MidstreamBillingDeclinedModal"}),title:"site_notice"}),(0,l.Z)(o,v.nK.NO_SERVICES,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/NoServicesModal.js"))}),{displayName:"NoServicesModal"}),title:"site_notice"}),(0,l.Z)(o,v.nK.PAYOFF,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/PayoffModal.js"))}),{displayName:"PayoffModal"}),title:"site_notice"}),(0,l.Z)(o,v.nK.POST_PAID,{asyncComponent:(0,b.Z)((function(){return n.e(8).then(n.bind(n,"./src/components/modals/PostPaidModal.js"))}),{displayName:"PostPaidModal"})}),(0,l.Z)(o,v.nK.QUICK_TIP_CHANGE_CUSTOM_VALUE,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/QuickTipChangeCustomValueModal.js"))}),{displayName:"QuickTipChangeCustomValueModal"}),title:"quick_tip.edit"}),(0,l.Z)(o,v.nK.QUICK_TIP_CONSENT,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/QuickTipConsentModal.js"))}),{displayName:"QuickTipConsentModal"}),title:"quick_tip.title"}),(0,l.Z)(o,v.nK.QUICK_TIP_MOBILE_CONSENT,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/QuickTipMobileConsentModal.js"))}),{displayName:"QuickTipMobileConsentModal"}),title:"quick_tip.title"}),(0,l.Z)(o,v.nK.SNEAK_PREVIEW_EXPIRED,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/SneakPreviewExpiredModal.js"))}),{displayName:"SneakPreviewExpiredModal"}),title:"site_notice"}),(0,l.Z)(o,v.nK.SPINNER,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/SpinnerModal.js"))}),{displayName:"SpinnerModal"})}),(0,l.Z)(o,v.nK.SPOT_RESERVED,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/SpotReservedModal.js"))}),{displayName:"SpotReservedModal"}),title:"reserved_spot"}),(0,l.Z)(o,v.nK.STASH,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/StashModal.js"))}),{displayName:"StashModal"}),title:"site_notice"}),(0,l.Z)(o,v.nK.TERMS,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/TermsModal.js"))}),{displayName:"TermsModal"}),title:"terms"}),(0,l.Z)(o,v.nK.THANKS_POST_PAID,{asyncComponent:(0,b.Z)((function(){return n.e(8).then(n.bind(n,"(0,l.Z)(o,v.nK.TWO_FACTOR_AUTHENTICATION_REQUIRED,{asyncComponent:(0,b.Z)((function(){return n.e(7).then(n.bind(n,"./src/components/modals/TwoFactorAuthenticationRequiredModal.js"))}),{displayName:"TwoFactorAuthenticationRequiredModal"})}),o),C=m.ZP.div.withConfig({displayName:"Modal__OverlayDesktop",componentId:"sc-1b8aa74-0"})(["& > div{position:absolute;display:flex;align-items:center;justify-content:center;position:absolute;top:0;width:100%;height:100%;z-index:100;flex-direction:column;background:rgba(0,0,0,0.5);}"]),Z=(0,m.ZP)(C).withConfig({displayName:"Modal__OverlayMobile",componentId:"sc-1b8aa74-1"})(["& > div{background:transparent;}"]),P=m.ZP.div.withConfig({displayName:"Modal__Background",componentId:"sc-1b8aa74-2"})(["opacity:1;"]),O=m.ZP.div.withConfig({displayName:"Modal__ContainerDesktop",componentId:"sc-1b8aa74-3"})(["align-items:center;background:linear-gradient(180deg,rgba(0,0,0,0.3),#000 37%);display:flex;flex-basis:auto;flex-direction:column;flex-grow:0;flex-shrink:1;flex-wrap:nowrap;justify-content:center;margin:16px;max-height:100%;max-width:500px;position:relative;width:100%;min-height:400px;text-align:center;"]),T=(0,m.ZP)(O).withConfig({displayName:"Modal__ContainerMobile",componentId:"sc-1b8aa74-4"})(["background:linear-gradient(180deg,rgba(0,0,0,0.5),#000 37%);flex-basis:initial;flex-grow:1;margin:0;max-height:none;max-width:none;min-height:100vh;"]),I=m.ZP.div.withConfig({displayName:"Modal__ContentScrollWrapper",componentId:"sc-1b8aa74-5"})(["overflow:auto;width:100%;display:flex;flex-direction:row;@media ","{overflow:hidden;}"],g.$x),w=m.ZP.div.withConfig({displayName:"Modal__InnerContentWrapper",componentId:"sc-1b8aa74-6"})(["padding:2em;width:100%;overflow:auto;& > div{margin:0 auto;width:100%;}"]),A=(0,m.ZP)(w).withConfig({displayName:"Modal__InnerContentWrapperDesktop",componentId:"sc-1b8aa74-7"})(["& > div{max-width:375px;}"]),R=(0,m.ZP)(h.Z).withConfig({displayName:"Modal__Closer",componentId:"sc-1b8aa74-8"})(["& *{background:transparent;}"]),k=m.ZP.div.withConfig({displayName:"Modal__CloserContainer",componentId:"sc-1b8aa74-9"})(["position:absolute;top:0px;"," display:flex;flex-flow:row-reverse;flex-wrap:nowrap;"],(0,S.Z)(r||(r=(0,a.Z)(["\n    right: 0px;\n  "])))),D=function(e){var t=e.showCloseButton;return(0,s.Z)(k,{},void 0,t&&(i||(i=(0,s.Z)(R,{action:y.HS,buttonId:"CloseModalButton__closeButton"}))))},L=function(e){var t=e.modal,n=e.isTablet,o=e.isLandscape,r=e.isDesktop,i=e.showCloseButton;if(!t||!E[t])return null;var a=E[t].asyncComponent,l=n||r,c=E[t].title?_.ZP.getString(E[t].title):"",d=l?C:Z,p=l?O:T,m=l?A:w;return(0,s.Z)(d,{},void 0,(0,s.Z)(P,{},void 0,!l&&(0,s.Z)(D,{showCloseButton:i}),u().createElement(p,{"data-ta-locator":"Modal__".concat(t),ref:function(e){if(e&&!l){e.addEventListener("touchmove",(function(t){for(var n=!1,o=t.target;o&&o!==e;){if(o.scrollHeight>o.offsetHeight||"input"===o.tagName.toLowerCase()){n=!0;break}o=o.parentElement}n||(t.stopPropagation(),t.preventDefault())}))}}},l&&(0,s.Z)(D,{showCloseButton:i}),(0,s.Z)(I,{},void 0,(0,s.Z)(m,{},void 0,!o&&(0,s.Z)(f.Z,{},void 0,c),u().createElement(a,e))))))};D.propTypes={showCloseButton:p().bool},D.defaultProps={showCloseButton:!0},L.propTypes={modal:p().string,isDesktop:p().bool,isLandscape:p().bool,isTablet:p().bool,showCloseButton:p().bool},L.defaultProps={modal:"",isDesktop:!1,isLandscape:!1,isTablet:!1,showCloseButton:!0},L.displayName="Modal";const N=L},"./src/components/modals/ModalHeader.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n("./node_modules/prop-types/index.js"),r=n.n(o),i=n("./node_modules/styled-components/dist/styled-components.browser.esm.js").ZP.span.withConfig({displayName:"ModalHeader",componentId:"sc-dcepkb-0"})(["display:block;font1.45;margin-bottom:24px;text-align:center;text-transform:capitalize;letter-spacing:0.5px;color:",";&:empty{display:none;margin:0;padding:0;}"],(function(e){return e.color||"#fafafa"}));i.propTypes={color:r().string};const s=i},"./src/components/modals/Rating.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),i=(n("webpack/sharing/consume/default/react/react"),n("./node_modules/prop-types/index.js")),s=n.n(i),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("./src/components/common/primitives/index.js"),c=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),u=n.n(c),d=a.ZP.div.withConfig({displayName:"Rating__Stars",componentId:"sc-1rjpp1q-0"})(["white-space:nowrap;"]),p=(0,a.ZP)(u()).withConfig({displayName:"Rating__Star",componentId:"sc-1rjpp1q-1"})(["fill:",";"],(function(e){return e.theme.colors.gold})),m=function(e){var t=e.rating,n=e.small,o=e.onUpdate,i=e.className,s=e.size;if(void 0===t)return null;var a=24;(n||s)&&(a=s||12);return(0,r.Z)(d,{"data-ta-locator":e["data-ta-locator"],classNan(e){var n,i="Rating__star".concat(e);if(n=t>=e?"star":e-t==.5?"starHalf":"starBorder",o){return(0,r.Z)(l.zx,{value:e,"data-ta-locator":i,onClick:function(e){e.preventDefault(),o(e)}},e,(0,r.Z)(p,{size:a,name:n}))}return(0,r.Z)(p,{value:e,id:i,size:a,name:n},e)})))};m.defaultProps={onUpdate:null,rating:0,small:!1},m.propTypes=(0,o.Z)({onUpdate:s().func,rating:s().number,small:s().bool,className:s().string,size:s().number},"data-ta-locator",s().string);const h=m},"./src/components/modals/SpinnerModal.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o,r=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),i=(n("webpack/sharing/consume/default/react/react"),n("./src/components/common/primitives/index.js")),s=n("./src/components/common/Spinner.tsx");const a=function(){return o||(o=(0,r.Z)(i.nd,{},void 0,(0,r.Z)(s.Z,{})))}},"./src/components/section/TabsContainer.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>at});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),s=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),d=n("webpack/sharing/consume/default/react/react"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),h=n.n(m),f=n("./node_modules/lodash/omitBy.js"),g=n.n(f),v=n("./node_modules/lodash/isEqual.js"),_=n.n(v),y=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),b=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),S=n.n(b),E=n("./node_modules/icf-react-components/components/Tabs/index.js"),C=n.n(E),Z=n("./node_modules/icf-react-components/components/Tab/index.js"),P=n.n(Z),O=n("./src/lib/Dispatcher.js"),T=n("./src/lib/Strings.js"),I=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),w=n("./src/utils/FluxStoreExtended.ts"),A=n("./src/stores/UserStore.js"),R=n("./src/constants/Actions.js"),k=n("./src/constants/RpcCalls.js"),D=n("./src/constants/Feature.ts");function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,a.Z)(this,n)}}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={configLoaded:!1,isOnBreak:!1,disconnectReason:null,isOfflineAtStart:!1,activeTab:"chat",hidePhotosTab:!1,hideBioTab:!1},M=x({},j);const B=new(function(e){(0,s.Z)(n,e);var t=L(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"getState",value:function(){return M}},{key:"getDefaultTab",value:function(){return"chat"}},{key:"handleNaiadOnBreak",value:function(e){e||(M.activeTab="chat"),M.isOnBreak=e}},{key:"handleTabUpdate",value:function(e){M=x(x({},M),{},{activeTab:e})}},{key:"handleLoadConfig",value:function(e){var t=e.config;M.configLoaded=!0,M.isOfflineAtStart=!t.performer.isAvailable,M.isOfflineAtStart&&this.handleTabUpdate("similarModels")}},{key:"handleNaiadFreeze",value:function(e){var t=(0,I.Z)(e,1)[0];M.disconnectReason=t,this.handleTabUpdate("similarModels")}},{key:"handlePlaying",value:function(){M.disconnectReason=null}},{key:"handleSetFeatureVisibility",value:function(e){var t=e.hiddenFeatures;M=x(x({},M),{},{hidePhotosTab:t.has(D.ZP.PHOTOS_TAB)||A.Z.isExplicitContentBlocked(),hideBioTab:t.has(D.ZP.BIO_TAB)})}},{key:"handleReset",value:function(){var e=M,t=e.hidePhotosTab,n=e.hideBioTab;M=x(x({},j),{},{hidePhotosTab:t,hideBioTab:n})}},{key:"__onDispatch",value:function(e){switch(e.type){case k.Z.NAIAD_FREEZE:this.handleNaiadFreeze(e.data);break;case k.Z.NAIAD_PLAY:this.handlePlaying();break;case k.Z.NAIAD_ON_BREAK:this.handleNaiadOnBreak(e.data[0]);break;case R.Z.LOAD_CONFIG:this.handleLoadConfig(e.data);break;case R.Z.RESET:this.handleReset();break;case R.Z.ACTIVE_TAB:this.handleTabUpdate(e.data.name);break;case R.Z.SET_FEATURE_VISIBILITY:this.handleSetFeatureVisibility(e.data);break;default:return}this.__emitChange()}}]),n}(w.Z))("tabsContainer",O.Z);var U=n("./src/stores/ConnectionStore.js"),G=n("./src/stores/GoldShowStore.js"),V=n("./src/stores/LayoutStore.js"),F=n("./src/stores/MediaStore.ts"),H=n("./src/stores/PerformerStore.ts"),Y=n("./src/stores/OverlayStore.js"),W=n("./src/components/videoclient/store/cam2cam/Cam2CamStore.ts"),z=n("./src/stores/XmentStore.ts"),q=n("./src/constants/GoldShowConstants.js"),K=n("./src/constants/DisconnectReasons.js"),X=n("./src/constants/LayoutConstants.ts"),Q=n("./src/constants/Platforms.ts"),J=n("./src/constants/Overlays.ts"),$=n("./src/components/chat/ChatDisplay.js"),ee=n("./src/components/goldshow/GoldShowContainer.js"),te=n("./src/components/bio/PremiumInfoContainer.tsx"),ne=y.ZP.footer.withConfig({displayName:"Footer__FooterBase",componentId:"sc-17l5rwf-0"})(["color:",";text-align:center;margin-top:32px;padding:0;cursor:pointer;small > a{color:inherit;}"],(function(e){return e.theme.colors.baseContrast050})),oe=function(){O.Z.dispatch({type:R.Z.OPEN_COMPLIANCE_MODAL})},re=function(){O.Z.dispatch({type:R.Z.OPEN_TERMS_MODAL})},ie=function(e,t){return(0,u.Z)(ne,{},void 0,(0,u.Z)("small",{},void 0,(0,u.Z)("a",{onClick:oe},void 0,T.ZP.getString("2257")),"|",(0,u.Z)("a",{onClick:re},void 0,T.ZP.getString("terms")),t.isBlackLabel&&" | ".concat(T.ZP.getString("powered_by")," Streamate")))};ie.contextTypes={isBlackLabel:h().bool};const se=ie;var ae,le,ce,ue,de=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),pe=n("./node_modules/styled-components-rtl/index.js"),me=n("./src/components/chat/ChatForm.js"),he=n("./src/components/chat/MessageList.js"),fe=n("./src/components/video/Favorite.js"),ge=n("./src/components/section/InfoContainer.tsx"),ve=n("./src/utils/withStores.tsx"),_e=y.ZP.div.withConfig({displayName:"FullscreenChat__FullscreenChatContainer",componentId:"sc-70t1eo-0"})(["display:flex;flex-flow:column;overflow:hidden;min-height:0;flex-grow:1;"]),ye=ge.fF,be=y.ZP.div.withConfig({displayName:"FullscreenChat__InnerChatContainer",componentId:"sc-70t1eo-1"})(["display:flex;flex-flow:column;flex-grow:1;flex-shrink:1;min-height:0;justify-content:flex-end;& > ul{flex-shrink:1;}"]),Se=(0,y.ZP)(fe.Z).withConfig({displayName:"FullscreenChat__StyledFavorite",componentId:"sc-70t1eo-2"})(["",""],(0,pe.Z)(ae||(ae=(0,de.Z)(["\n    margin-right: 8px;\n  "])))),Ee=function(e){var t=e.performerName;return(0,u.Z)(_e,{},void 0,Boolean(t)&&(0,u.Z)(ye,{},void 0,le||(le=(0,u.Z)(Se,{})),t),ce||(ce=(0,u.Z)(ee.Z,{})),ue||(ue=(0,u.Z)(be,{},void 0,(0,u.Z)(he.Z,{messageFlow:"rise",scrollable:!0,transparent:!0}),(0,u.Z)(me.Z,{showChatTools:!0}))))};Ee.propTypes={performerName:h().string},Ee.defaultProps={performerName:""};const Ce=(0,ve.Z)([H.Z],(function(e){return{performerName:e.performer.nickname}}))(Ee);var Ze=n("./src/components/common/Tooltip.tsx"),Pe=n("./src/components/videostore/BioVideosContainerAsync.js"),Oe=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),Te=n("./node_modules/@babel/runtime/regenerator/index.js"),Ie=n.n(Te),we=n("./src/utils/createAsyncComponent.tsx");function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=(0,we.Z)((0,Oe.Z)(Ie().mark((function e(){return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(6).then(n.bind(n,"./src/components/similarmodels/SimilarModels.tsx")));case 1:case"end":return e.stop()}}),e)}))),{displayName:"SimilarModels"});const De=function(e){return p().createElement("div",null,p().createElement(ge.fF,{"data-ta-locator":"SimilarModels__title"},(0,T.KF)("similar_models")),p().createElement(ke,Re(Re({},e),{},{showMaxRows:!0,showThumbnailsOnly:!0,hideToggle:!0})))};var Le,Ne,xe,je,Me,Be,Ue,Ge,Ve=n("./src/utils/lomsTools.js");function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,a.Z)(this,n)}}var Ye=(0,we.Z)((function(){return n.e(8).then(n.bind(n,"./src/components/videoclient/PreviewLively.js"))}),{displayName:"PreviewLively"}),We=(0,we.Z)((function(){return n.e(6).then(n.bind(n,"./src/components/bio/BioContainer.tsx"))}),{displayName:"BioContainer"}),ze=(0,we.Z)((function(){return n.e(6).then(n.bind(n,"./src/components/photos/BioPhotos.js"))}),{displayName:"BioPhotos"}),qe=X.eA.TABS_HEIGHT,Ke=X.eA.TAB_CONTENT_CONTAINER_PADDING,Xe=(0,y.ZP)(S()).withConfig({displayName:"TabsContainer__TabIcon",componentId:"sc-1ulcrye-0"})(["width:100%;"]),Qe=(0,y.ZP)(Xe).attrs({size:30,name:"person"}).withConfig({displayName:"TabsContainer__PersonIcon",componentId:"sc-1ulcrye-1"})([""]),Je=y.ZP.div.withConfig({displayName:"TabsContainer__Root",componentId:"sc-1ulcrye-2"})(["padding:0;overflow:hidden;flex-basis:'120px';flex-grow:1;background-color:",";display:flex;flex-direction:column;flex-wrap:nowrap;max-height:100%;width:100%;"],(function(e){var t=e.theme;return e.isTransparent?"transparent":"dark"===t.type?t.colors.baseContrast010:t.colors.baseContrast015})),$e=y.ZP.div.withConfig({displayName:"TabsContainer__PrivCallPreviewContainer",componentId:"sc-1ulcrye-3"})(["width:100%;height:100%;overflow:hidden;& > div{display:flex;flex-direction:column;justify-content:center;align-content:center;}& video{background:transparent;}"]),et=y.ZP.div.withConfig({displayName:"TabsContainer__StyledTabsContainer",componentId:"sc-1ulcrye-4"})(["transition:flexnav{border-color:",";}"],(function(e){return e.theme.colors.baseContrast030}),(function(e){var t=e.offlineMobileLayoutEnabled,n=e.theme;return t?n.colors.baseContrast015:"transparent"}),qe,(function(e){return e.collapsed&&"\n    flex-basis: 0px;\n    border: none;\n    overflow: hidden;\n  "}),(function(e){var t=e.offlineMobileLayoutEnabled,n=e.theme;return t?"transparent":n.colors.baseContrast020})),tt=(0,y.ZP)(C()).withConfig({displayName:"TabsContainer__StyledTabs",componentId:"sc-1ulcrye-5"})(["& > *{min-width:0;}& >:last-child{border-color:transparent;border-width:0 16px;border-style:solid;background-clip:content-box;}"]),nt=(0,y.ZP)(P()).withConfig({displayName:"TabsContainer__StyledTab",componentId:"sc-1ulcrye-6"})(["cursor:pointer;flex-shrink:1;flex-grow:1;min-width:0;overflow:hidden;& svg{fill:",";}@media (min-width:","px){&:nth-child(2){",",","{animation-delay:0.2s;}}&:nth-child(3){",",","{animation-delay:0.4s;}}&:nth-child(4){",",","{animation-delay:0.6s;}}&:nth-child(5){",",","{animation-delay:0.8s;}}&:nth-child(6){",",","{animation-delay:1s;}}}"],(function(e){var t=e.theme;return e.active?t.colors.baseContrast100:"dark"===t.type?t.colors.baseContrast040:t.colors.baseContrast060}),X.AV.desktop.min,Xe,Qe,Xe,Qe,Xe,Qe,Xe,Qe,Xe,Qe),ot=y.ZP.div.withConfig({displayName:"TabsContainer__StyledTabContentContainer",componentId:"sc-1ulcrye-7"})(["box-sizing:border-box;display:flex;flex-basis:auto;flex-direction:column;flex-grow:1;height:auto;justify-content:space-between;min-height:0;overflow-scrolling:touch;-webkit-overflow-scrolling:touch;overflow-x:hidden;overflow-y:auto;padding:","px;position:relative;width:100%;z-index:2;",""],Ke,(function(e){return e.clipContent&&"overflow-y: hidden;"})),rt={chat:(0,u.Z)(Xe,{name:"chatBubble"}),bio:(0,u.Z)(Qe,{}),info:(0,u.Z)(Xe,{name:"info"}),c2c:(0,u.Z)(Xe,{name:"videocam"}),similarModels:(0,u.Z)(Xe,{name:"stars"}),photos:(0,u.Z)(Xe,{name:"photoCamera"}),videos:(0,u.Z)(Xe,{name:"videoLibraryClapper"})},it={chat:"chat",bio:"performer_bio",similarModels:"similar_models",photos:"photos",videos:"videos.bio_title",info:"show_info",c2c:"cam2cam"},st=function(e){(0,s.Z)(n,e);var t=He(n);function n(e,r){var s;(0,o.Z)(this,n),s=t.call(this,e,r),(0,c.Z)((0,i.Z)(s),"componentDidMount",(function(){s.connectionToken=U.Z.addListener(s.onStoreUpdate).Z.addListener(s.onStoreUpdate)})),(0,c.Z)((0,i.Z)(s),"componentWillUnmount",(function(){s.connectionToken.remove(),s.goldShowToken.remove(),s.tabsToken.remove(),s.mediaToken.remove()})),(0,c.Z)((0,i.Z)(s),"onStoreUpdate",(function(){var e=n.getStateFromStores(s.props,s.context),t=e.activeTab;s.setState(e,(function(){-1===s.getTabIndex(t)&&(t=B.getDefaultTab(),-1===s.getTabIndex(t)&&(t=s.getDisplayedTabs()[0]),setTimeout((function(){O.Z.dispatch({type:R.Z.ACTIVE_TAB,data:{name:t}})})))}))})),(0,c.Z)((0,i.Z)(s),"getInfoContent",(function(){return G.Z.getState().goldShowState!==q.Z.GOLD_STATE_NONE?Le||(Le=(0,u.Z)(ee.Z,{})):U.Z.getState().roomTopic?Ne||(Ne=(0,u.Z)(te.Z,{})):null})),(0,c.Z)((0,i.Z)(s),"handleTabChange",(function(e){var t=s.context.layout;s.tabValues=s.getDisplayel9)(n||"unknown",t),setTimeout((function(){O.Z.dispatch({type:R.Z.ACTIVE_TAB,data:{name:n}})}))})),(0,c.Z)((0,i.Z)(s),"getTabIndex",(function(e){return s.getDisplayedTabs().indexOf(e)})),(0,c.Z)((0,i.Z)(s),"getDisplayedTabs",(function(){var e=s.props,t=e.hideSimilarModels,n=e.privCallInProgress,o=e.requestingCam2Cam,r=e.forcedLayout,i=e.performerBioExists,a=e.similarModelsExist,l=e.photosExist,c=e.c2cRequestedLively,u=e.isFanMode,d=e.hideBio,p=e.hidePhotos,m=s.context,h=m.layout,f=m.orientation,g=s.state,v=g.chatDisabled,_=g.infoDisabled,y=g.hideBioTab,b=g.hidePhotosTab,S=g.showVideosTab,E=!(o||n||c),C=h===X.ZP.TABLET&&f===X.ZP.LANDSCAPE;return r===X.bv.TABLET_WITH_BIO?[v?null:"chat",_?null:"info"].filter((function(e){return null!==e})):h===X.ZP.DESKTOP||C?[v?null:"chat",d||y||!i||u?null:"bio",t||!a||u?null:"similarModels",p||b||!lnction(e){return null!==e})):[v?null:"chat",d||y||!i||u?null:"bio",_||!E?null:"info",E||u?null:"c2c",S&&!u?"videos":null,p||b||!l||u?null:"photos"].filter((function(e){return null!==e}))})),(0,c.Z)((0,i.Z)(s),"buildTabs",(function(){var e=s.state.activeTab,t=s.getDisplayedTabs(),n=[];return t.forEach((function(t){var o=it[t];n.push((0,u.Z)(Ze.Z,{title:T.ZP.getString(o)},"".concat(t,"-tooltip"),(0,u.Z)(nt,{active:e===t?1:0,"data-ta-locator":"TabsContainer__".concat(t),label:rt[t],value:t},t)))})),n})),(0,c.Z)((0,i.Z)(s),"setContainerRef",(function(e){var t;s.containerRef=e,s.setState({containerHeight:(null===(t=s.containerRef)||void 0===t?void 0:t.offsetHeight)||0})})),(0,c.Z)((0,i.Z)(s),"render",(function(){var e=s.props,t=e.hide,n=e.isDesktop,o=e.isTransparent,r=e.chatInputActive,i=e.offlineMobileLayoutEnabled,a=s.state,l=a.activeTab,c=a.collapseTabsToFitChatWhenChatInputInactive;if(t)return null;var d=c&&!r,m=r||d?"chat":l;s.tabValues=s.getDisplayedTabs();var h=s.buildTabs(),f=Math.max(s.tabValues.indexOf(l),0),g=Math.max(s.tabValues.indexOf(m),0),v=s.getTabContent(s.tabValues[g]),_=s.tabValues.length<2,y=!n;return p().createElement(Je,{isTransparent:o,ref:s.setContainerRef},!r&&(0,u.Z)(et,{collapsed:_||d,offlineMobileLayoutEnabled:i},void 0,(0,u.Z)(tt,{"data-ta-locator":"TabsContainer__Tabs",value:f,onChange:s.handleTabChange},void 0,h)),(0,u.Z)(ot,{clipContent:d},void 0,v,y&&(xe||(xe=(0,u.Z)(se,{})))))}));var a=B.getState(),l=a.activeTab,d=a.hideBioTab,m=a.hidePhotosTab;return s.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({chatDisabled:!1,infoDisabled:!0,hideBioTab:d,hidePhotosTab:m,activeTab:l},n.getStateFromStores(e,r)),s.handleTabChange=s.handleTabChange.bind((0,i.Z)(s)),s}return(0,r.Z)(n,[{key:"getTabContent",value:function(e){var t=this.props,n=t.hideTags,o=t.forcedLayout,r=t.fullscreen,i=t.sections,s=t.offlineMobileLayoutEnabled,a=t.c2cRequestedLively,l=this.context,c=l.layout,d=l.orientation,m=c===X.ZP.DESKTOP&&r||c===X.ZP.TABLET&&d===X.ZP.LANDSCAPE;switch(e){case"chat":return c===X.ZP.DESKTOP||o===X.bv.TABLET_WITH_BIO?je||(je=(0,u.Z)(Ce,{},"chat-fs")):Me||(Me=(0,u.Z)($.Z,{}));case"bio":return p().createElement(We,{hideTags:n,sections:i,offlineMobileLayoutEnabled:s});case"info":return this.getInfoContent();case"c2c":return a?Be||(Be=(0,u.Z)($e,{},void 0,(0,u.Z)(Ye,{fill:!0,controls:!0}))):this.props.previewVideo;case"photos":return p().createElement(ze,{isInSmallTab:m});case"videos":return Ue||(Ue=(0,u.Z)(Pe.Z,{}));case"similarModels":return Ge||(Ge=(0,u.Z)(De,{}));default:return null}}},{key:"updateHeight",value:function(){var e,t=(null===(e=this.containerRef)||void 0===e?void 0:e.offsetHeight)||0;t>0&&this.state.containerHeight!==t&&this.setState({containerHeight:t})}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.previewVideo||this.props.priv=!e.c2cRequestedLively&&this.props.c2cRequestedLively,o=e.c2cCallInProgressLively&&!this.props.c2cCallInProgressLively;n?setTimeout((function(){t.handleTabChange(t.getTabIndex("c2c"))})):o&&"c2c"===this.state.activeTab&&this.handleTabChange(this.getTabIndex(B.getDefaultTab()))}if(!this.props.hide&&e.hide&&this.handleTabChange(this.getTabIndex("c2c")),!(e.chatInputActive||this.props.chatInputActive)){this.updateHeight();var r=this.shouldCollapseTabsToFitChat(),i=this.state.collapseTabsToFitChatWhenChatInputInactive;r&&!i&&this.setState({collapseTabsToFitChatWhenChatInputInactive:!0}),!r&&i&&this.setState({collapseTabsToFitChatWhenChatInputInactive:!1})}if(this.props.deferBioContent&&this.props.performerId&&e.performerId!==this.props.performerId){var s=H.Z.getState(),a=s.id,l=s.nickname,c=A.Z.getState(),u=c.userId,d=c.sakey;(0,O._)({type:R.Z.MEDIA_REQUEST_VIDEOS,data:{performer:{id:a,nickname:l},user:{id:u,sakey:d}}},200),(0,O._erformerId:a}},200)}}},{key:"shouldComponentUpdate",value:function(e,t){var n=g()(e,(function(e,t){return"previewVideo"===t})),o=g()(this.props,(function(e,t){return"previewVideo"===t}));return!_()(n,o)||!_()(t,this.state)}},{key:"shouldCollapseTabsToFitChat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=this.context,o=n.layout,r=n.orientation,i=e.chatInputHeight,s=t.containerHeight,a=i+2*Ke+qe;return o===X.ZP.MOBILE&&r===X.ZP.PORTRAIT&&s<a}}],[{key:"getStateFromStores",value:function(e,t){var n=G.Z.isActive(),o=Boolean(U.Z.getState().roomTopic),r=B.getState(),i=r.isOfflineAtStart,s=r.isOnBreak,a=r.disconnectReason,l=r.hideBioTab,c=r.hidePhotosTab,u=F.Z.getState().videos,d=!U.Z.isGuestStream()||G.Z.isInProgress(),p=t.platform,m=e.requestingCam2Cam,h=new Set([K.Z.STATUS_PERFORMER,K.Z.BREAK,K.Z.PERFORMER_IN_EXCLUSIVE,K.Z.DECLINED_EXCLUSIVE]).has(a)||i||s,f=!n&&!o||m,g=(p===Q.ZP.SCP||p===Q.ZP.UNKNOWN)&&((null==u?void 0:u.length)>0||H.Z.getState().isBlockbuster)&&!d;return{chatDisabled:h,infoDisabled:f,activeTab:B.getState().activeTab,hideBioTab:l,hidePhotosTab:c,showVideosTab:g}}}]),n}(d.Component);(0,c.Z)(st,"displayName","TabsContainer"),st.propTypes={hideTags:h().bool,hideSimilarModels:h().bool,hidePhotos:h().bool,hideBio:h().bool,isTransparent:h().bool,previewVideo:h().node,requestingCam2Cam:h().bool,sections:h().object,hide:h().bool,privCallInProgress:h().bool,c2cRequestedLively:h().bool,c2cCallInProgressLively:h().bool,forcedLayout:h().string,chatInputActive:h().bool,fullscreen:h().bool,isDesktop:h().bool,chatInputHeight:h().number,performerId:h().number,performerBioExists:h().bool,similarModelsExist:h().bool,photosExist:h().bool,innerHeight:h().number,videoViewportHeight:h().number,offlineMobileLayoutEnabled:h().bool,isFanMode:h().bool,deferBioContent:h().bool},st.defaultProps={hideTags:!1,hideSimilarModels:!1,hidePhotos:!1,hideBio:!1,isTransparent:!1,requestingCam2Cam:!1,sections:null,hide:!1,privCallInProgress:!1,c2cRequestedLively:!1,c2cCallInProgressLively:!1,chatInputHeight:0,chatInputActive:!1,performerId:0,performerBioExists:!1,similarModelsExist:!1,photosExist:!1,isFanMode:!1,deferBioContent:!1},st.contextTypes={layout:h().string,orientation:h().string,platform:h().oneOf(Object.values(Q.ZP))};const at=(0,ve.Z)([V.ZP,H.Z,Y.Z,W.Z,F.Z,z.Z],(function(e){var t,n,o,r,i,s=e.layout,a=e.performer,l=e.overlay,c=e.cam2cam,u=e.media,d=e.xment;return{forcedLayout:s.forcedLayout,chatInputActive:s.chatInputActive,fullscreen:s.fullscreen,isDesktop:s.isDesktop,chatInputHeight:s.chatInputHeight,performerId:Number(null!==(t=null===(n=a.bio)||void 0===n?void 0:n.PerformerId)&&void 0!==t?t:a.id),performerBioExists:Boolean(a.bio),similarModelsExist:(null===(o=a.similarModels)||void 0===o?void 0:o.length)>0,photosExist:1===d.v2setupbio?(null===(r=u.photos)||void 0===r?void 0:r.length)>0:(null===(i=a.photos)||void 0===i?void 0:i.length)>0,isFanMode:a.platform===Q.ZP.STREAMFANS,deferBioContent:1===d.v2setupbio,innerHeight:s.innerHeight,videoViewportHeight:s.videoViewportHeight,offlineMobileLayoutEnabled:s.offlineMobileLayoutEnabled&&l.overlay===J.Z.OFFLINE,c2cRequestedLively:c.requested,c2cCallInProgressLively:c.callInProgress}}))(st)},"./src/components/video/Favorite.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>T,r:()=>O});var o=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=n("webpack/sharing/consume/default/react/react"),p=n("./node_modules/prop-types/index.js"),m=n.n(p),h=n("./src/constants/Platforms.ts"),f=n("./src/stores/UserStore.js"),g=n("./src/stores/PerformerStore.ts"),v=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_=n("./src/components/common/primitives/index.js"),y=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),b=n.n(y),S=n("./src/utils/Favorite.ts"),E=n("./src/utils/forPlatforms.tsx");function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var Z=(0,v.ZP)(_.zx).withConfig({displayName:"Favorite__FavoriteButton",componentId:"sc-161wc91-0"})(["flex-shrink:0;"]),P=(0,v.ZP)(b()).withConfig({displayName:"Favorite__FavoriteIcon",componentId:"sc-161wc91-1"})(["display:inline-block;fill:#ff1744;"]),O=function(e){(0,a.Z)(n,e);var t=C(n);function n(e){var o;retuerformerStoreUpdate",(function(){o.setState({isFavorite:g.Z.getState().isFavorite})})),(0,u.Z)((0,s.Z)(o),"onUserStoreUpdate",(function(){o.setState({isNonPremium:f.Z.isNonPremium()})})),o.state={isFavorite:g.Z.getState().isFavorite,isNonPremium:f.Z.isNonPremium()},o}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.performerToken=g.Z.addListener(this.onPerformerStoreUpdate),this.userToken=f.Z.addListener(this.onUserStoreUpdate)}},{key:"componentWillUnmount",value:function(){this.performerToken.remove(),this.userToken.remove()}},{key:"render",value:function(){var e=this,t=this.state.isFavorite?" ".concat(this.props.isFavText):" ".concat(this.props.isNotFavText),n=this.state.isFavorite?"favorite":"favoriteBorder";return(0,o.Z)(Z,{className:"Favorite ".concat(this.props.className),"data-ta-locator":"Favorite__toggleFavoriteButton","data-tip":!0,"data-for":"favoritesToggle",value:this.state.isFavorite,onClick:function(){return(0,S.oW)(!e.state.isFavorite)}},void 0,(0,o.Z)(P,{name:n,size:32}),t)}}]),n}(d.Component);O.propTypes={className:m().string,isFavText:m().string,isNotFavText:m().string},O.defaultProps={isFavText:"",isNotFavText:""};const T=(0,E.Z)({exclude:[h.ZP.BLACKLABEL,h.ZP.EXTERNAL_SITE_SHOW,h.ZP.STREAMFANS]})(O)},"./src/components/video/VideoControlsIconButton.js":(e,t,n)=>{"use strict";n.d(t,{V:()=>y,Z:()=>Z});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),i=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=n("webpack/sharing/consume/default/react/react"),a=n.n(s),l=n("./node_modules/prop-types/index.js"),c=n.n(l),u=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),d=n("./node_modules/icf-react-components/components/IconButton/index.js"),p=n.n(d),m=n("./src/components/common/CircleToggleButton.js"),h=["cursor","filter","iconStyle","opacity","active","transparentBg","isPending"],f=["cursor","filter","iconStyle","opacity","transparentBg","isPending"],g=["icon","iconStyle","isAvailable","isActive","isPending","transparentBg","useCircleToggle"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=.4,b=(0,u.F4)(["0%{opacity:1;}50%{opacity:0.65;}100%{opacity:1;}"]),S=(0,u.ZP)((function(e){e.cursor,e.filter,e.iconStyle,e.opacity,e.active,e.transparentBg,e.isPending;var t=(0,i.Z)(e,h);return a().createElement(p(),(0,r.Z)({buttonWidth:24,buttonHeight:24},t))})).withConfig({displayName:"VideoControlsIconButton__StyledIconButton",componentId:"sc-1350jvo-0"})(["margin:","px;border:none;box-sizing:border-box;cursor:",";& svg{filter:",";opacity:",";fill:",";",";animation-name:",";animation-dura(e){return e.filter}),(function(e){return e.opacity}),(function(e){return e.active?e.theme.colors.primary:e.transparentBg?e.theme.colors.baseContrast100:e.theme.colors.baseContrast050}),(function(e){return e.iconStyle}),(function(e){return e.isPending?b:"none"})),E=(0,u.ZP)((function(e){e.cursor,e.filter,e.iconStyle,e.opacity,e.transparentBg,e.isPending;var t=(0,i.Z)(e,f);return a().createElement(m.Z,t)})).withConfig({displayName:"VideoControlsIconButton__StyledCircleToggleButton",componentId:"sc-1350jvo-1"})(["padding:6px;margin:0 4px;& svg{animation-name:",";animation-duration:1s;animation-iteration-count:infinite;}"],(function(e){return e.isPending?b:"none"})),C=function(e){var t=e.icon,n=e.iconStyle,o=e.isAvailable,s=e.isActive,l=e.isPending,c=e.transparentBg,u=e.useCircleToggle,d=(0,i.Z)(e,g),p=o?"pointer":"default",m=c?"drop-shadow(0 0.1rem 0.2rem rgba(0, 0, 0, ".concat(o?.8:.5,"))"):"none",h=o?1:y,f=u?E:S,v=_(_({},d),{},{cursor:p,filter:m,iconStyle:n,opacity:h,active:s,transparentBg:c,isPending:l});return a().createElement(f,(0,r.Z)({name:t,disabled:!o,"data-ta-icon":t},v))};C.propTypes={icon:c().string,iconStyle:c().oneOfType([c().string,c().array,c().object]),isAvailable:c().bool,isPending:c().bool,isActive:c().bool,style:c().object,transparentBg:c().bool,useCircleToggle:c().bool,onClick:c().func,title:c().string},C.defaultProps={iconStyle:"",isAvailable:!0,isPending:!1,isActive:!1,style:{},transparentBg:!1,useCircleToggle:!1};const Z=C},"./src/components/video/VideoDisplay.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>li});var o=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),r=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),i=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),c=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),m=n("webpack/sharing/consume/default/react/react"),h=n.n(m),f=n("./node_modules/prop-types/index.js"),g=n.n(f),v=n("./node_modules/react-draggable/build/cjs/cjs.js"),_=n.n(v),y=n("./node_modules/react-visibility-sensor/dist/visibility-sensor.js"),b=n.n(y),S=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),E=n("./node_modules/ua-parser-js/src/ua-parser.js"),C=n.n(E),Z=n("./node_modules/styled-components-rtl/index.js"),P=n("./node_modules/icf-react-components/components/SvgIcon/index.js"),O=n.n(P),T=n("./src/stores/PerformerStore.ts"),I=n("./src/stores/OverlayStore.js"),w=n("./src/stores/ModalStore.js"),A=n("./src/stores/ConnectionStore.js"),R=n("./src/stores/LayoutStore.js"),k=n("./src/stores/GoldShowStore.js"),D=n("./src/components/videoclient/store/videoClient/VideoClientStore.ts"),L=n("./src/components/common/CloseButton.js"),N=n("./src/components/common/ActionIconButton.js"),x=n("./src/components/common/primitives/index.js"),j=n("./src/constants/LayoutConstants.ts"),M=n("./src/lib/Strings.js"),B=n("./src/utils/gold.js");function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var G=S.ZP.div.withConfig({displayName:"Goldometer__GoldOMeter",componentId:"sc-1wxhjle-0"})(["position:relative;padding:0.15em;border:2px solid;color:",";border-color:",";background:black;text-align:center;width:6.5em;margin:0.5rem 1rem;font-size:1.6em;@media ","{border:1px solid;}"],(function(e){return e.theme.colors.gold}),(function(e){return e.theme.colors.gold}),j.Sr),V=function(e){(0,l.Z)(n,e);var t=U(n);function n(e){var o;if((0,i.Z)(this,n),o=t.call(this,e),!e.forceGoldExcitement){var r=100*Math.floor(e.total/100);o.state={currentValue:r,targetValue:r}}return o.goldIncrementInterval=null,o}return(0,s.Z)(n,[{key:"componentDidUpdate",value:function(){var e=this;if(!this.props.forceGoldExcitement&&this.props.total!==this.state.targetValue){this.setState({targetValue:this.props.total}),clearInterval(this.goldIncrementInterval);var t=1e5/(this.props.total-this.state.currentValue);this.goldIncrementInterval=setInterval((function(){var t=100*Math.floor(e.state.targetValue/100);e.erval(e.goldIncrementInterval),e.goldIncrementInterval=null)}),t)}}},{key:"componentWillUnmount",value:function(){this.goldIncrementInterval&&clearInterval(this.goldIncrementInterval)}},{key:"getGoldDisplayAmount",value:function(){return this.props.forceGoldExcitement||this.props.total>=this.props.requestedAmount?M.ZP.getString("gold_excited"):(0,B.ev)(this.state.currentValue)}},{key:"render",value:function(){return(0,o.Z)(G,{"data-ta-locator":"Goldometer"},void 0,(0,o.Z)("span",{},void 0,this.getGoldDisplayAmount()))}}]),n}(m.Component);V.propTypes={requestedAmount:g().number,total:g().number,forceGoldExcitement:g().bool},V.defaultProps={forceGoldExcitement:!1};var F=S.ZP.progress.withConfig({displayName:"GoldShowProgressBar__Counter",componentId:"sc-1gdh1hi-0"})(["-webkit-appearance:none;-moz-appearance:none;height:4px;width:100%;position:absolute;bottom:0;&::-webkit-progress-bar,&::-moz-progress-bar{background-color:rg0.4s linear;transition-property:width;will-change:width;}"],(function(e){return e.theme.colors.gold})),H=function(e){var t=e.requestedAmount,n=e.total;return(0,o.Z)(F,{max:t,value:n})};H.propTypes={requestedAmount:g().number.isRequired,total:g().number.isRequired};const Y=H;var W,z,q=function(e,t){return(0,o.Z)(x.dp,{isLandscape:t.orientation===j.ZP.LANDSCAPE,isMobile:t.layout===j.ZP.MOBILE},void 0,(0,o.Z)(x.S8,{},void 0,W||(W=(0,o.Z)(x.ki,{},void 0,(0,o.Z)(V,{forceGoldExcitement:!0}))),(0,o.Z)(x.k4,{"data-ta-locator":"GoldShowTimeRemaining"},void 0,M.ZP.getString("show_starting"))),e.showProgress?z||(z=(0,o.Z)(Y,{requestedAmount:100,total:100})):null)};q.propTypes={showProgress:g().bool},q.defaultProps={showProgress:!0},q.contextTypes={orientation:g().oneOf([j.ZP.LANDSCAPE,j.ZP.PORTRAIT]),layout:g().oneOf([j.ZP.DESKTOP,j.ZP.TABLET,j.ZP.MOBILE])};const K=q;var X,Q=n("./src/utils/localization.js");function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var $,ee=S.ZP.span.withConfig({displayName:"Countdown__Container",componentId:"sc-1hvd6x3-0"})(["color:",";",""],(function(e){return e.theme.colors.gold}),(0,Z.Z)(X||(X=(0,p.Z)(["\n    padding-left: ","px;\n  "])),(function(e){return String(e.theme.spacing.base/2)}))),te=function(e){(0,l.Z)(n,e);var t=J(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e)).state={secondsOnly:e.secondsOnly,timeRemaining:e.initialTimeRemaining,timeoutId:null,prevTime:null},o.tick=o.tick.bind((0,a.Z)(o)),o}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.tick()}},{key:"componentDidUpdate",value:function(e){e.initialTimeRemaining!==this.props.initialTimeRemaining&&(this.state.timeoutId&&window.clearTimeout(this.state.timeoutId),this.setState({secondsOnlyalTimeRemaining,prevTime:null})),!this.state.prevTime&&this.state.timeRemaining>0&&this.tick()}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.state.timeoutId)}},{key:"getFormattedTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Math.round(e/1e3);return t?(0,Q.uf)(n):(0,Q.SY)(new Date(null,null,null,null,null,n))}},{key:"tick",value:function(){var e=Date.now(),t=this.state.prevTime?e-this.state.prevTime:0,n=this.props.interval,o=n-t%n,r=o;o<n/2&&(r+=n);var i=Math.max(this.state.timeRemaining-t,0),s=this.state.prevTime&&i<=0;this.state.timeoutId&&window.clearTimeout(this.state.timeoutId),this.setState({timeoutId:s?null:window.setTimeout(this.tick,r),prevTime:e,timeRemaining:i})}},{key:"render",value:function(){return(0,o.Z)(ee,{},void 0,this.getFormattedTime(this.state.timeRemaining,this.state.secondsOnly))}}]),n}(m.Component);function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}te.propTypes={secondsOnly:g().bool,initialTimeRemaining:g().number.isRequired,interval:g().number},te.defaultProps={secondsOnly:!1,interval:1e3};var oe=S.ZP.div.withConfig({displayName:"PreGoldShow__GoldometerTitle",componentId:"sc-1lgvih5-0"})(["position:relative;font-size:0.8em;"," text-shadow:1px 1px 1px rgba(0,0,0,0.9);& span{color:",";}"],(0,Z.Z)($||($=(0,p.Z)(["\n    margin-left: 1rem;\n  "]))),(function(e){return e.theme.colors.gold})),re=function(e){(0,l.Z)(n,e);var t=ne(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.requestedAmount,n=e.total,r=e.initialTimeRemaining,i=e.showProgress;return(0,o.Z)(x.dp,{isLandscape:this.context.orientation===j.ZP.LANDSCAPE,isMobile:this.context.layout===j.ZP.MOBILE},void 0,(0,o.Z)(x.S8,{},void 0,(0,o.Z)(oe,{"data-ta-locator":"GoldometerTitle"},void 0,M.ZP.getString("show_starts_at")+" ",(0,o.Z)("span",{},void 0,(0,B.ev)(t))),h().createElement(V,{requestedAmount:t,total:n}),(0,o.Z)(x.k4,{"data-ta-locator":"GoldShowTimeRemaining"},void 0,M.ZP.getString("gold_countdown_preshow"),(0,o.Z)(te,{initialTimeRemaining:1e3*r}))),i&&(0,o.Z)("div",{},void 0,(0,o.Z)(Y,{requestedAmount:t,total:n})))}}]),n}(m.Component);re.propTypes={initialTimeRemaining:g().number.isRequired,requestedAmount:g().number.isRequired,total:g().number.isRequired,showProgress:g().bool},re.defaultProps={showProgress:!0},re.contextTypes={orientation:g().oneOf([j.ZP.LANDSCAPE,j.ZP.PORTRAIT]),layout:g().oneOf([j.ZP.DESKTOP,j.ZP.TABLET,j.ZP.MOBILE])};var ie=function(e,t){return(0,o.Z)(x.dp,{isLandscape:t.orientation===j.ZP.LANDSCAPE,isMobile:t.layout===j.ZP.MOBILE},void 0,(0,o.Z)(x.S8,{},void 0,(0,o.Z)(x.k4,{"data-ta-locator":"GoldShowTimeRemaining"},void 0,M.ZP.getString("2min_warning"))))};ie.contextTypes={orientation:g().oneOf([j.ZP.LANDSCAPE,j.ZP.PORTRAIT]),layout:g().oneOf([j.ZP.DESKTOP,j.ZP.TABLET,j.ZP.MOBILE])};const se=ie;var ae,le;function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var ue=S.ZP.div.withConfig({displayName:"VideoGoldShowInfo__AnimatedBackground",componentId:"sc-1w6ihd0-0"})(["opacity:1;animation:10s ease 0s normal forwards 1 fadeout;@keyframes fadeout{0%{opacity:1;}75%{opacity:1;}100%{opacity:0;}}"]),de=function(e){(0,l.Z)(n,e);var t=ce(n);function n(){var e;(0,i.Z)(this,n),e=t.call(this),(0,d.Z)((0,a.Z)(e),"onGoldShowStoreUpdate",(function(){var t=k.Z.getState(),n=t.requestedamt,o=t.timetoend,r=t.timetostart,i=t.total;o&&o>=120&&(window.clearTimeout(e.warningTimeout),e.warningTimeout=window.setTimeout((function(){e.setState({showWarning:!0}),window.setTimeout((function()sInProgress;a&&!e._goldShowStartMessageTimeout&&(e._goldShowStartMessageTimeout=setTimeout((function(){e._goldShowStartMessageTimeout=null,e.setState({displayGoldShowStartMessage:!1})}),3e3)),e.setState({initialTimeRemaining:o||r,requestedAmount:n,total:i,goalReached:k.Z.goalReached(),isPreGoldShow:k.Z.isPreGoldShow(),needPledge:k.Z.needPledge(),isInProgress:s,displayGoldShowStartMessage:a})}));var o=k.Z.getState(),r=o.requestedamt,s=o.timetoend,l=o.timetostart,c=o.total;return e.state={initialTimeRemaining:s||l,requestedAmount:r,total:c,goalReached:k.Z.goalReached(),isPreGoldShow:k.Z.isPreGoldShow(),isInProgress:k.Z.isInProgress(),displayGoldShowStartMessage:!1,needPledge:k.Z.needon(){this.goldShowToken=k.Z.addListener(this.onGoldShowStoreUpdate)}},{key:"componentWillUnmount",value:function(){this.goldShowToken.remove(),window.clearTimeout(this.warningTimeout)}},{key:"render",value:function(){return this.state.isPreGoldShow?this.state.goalReached?(0,o.Z)(K,{showProgress:this.props.showProgress}):(0,o.Z)(re,{initialTimeRemaining:this.state.initialTimeRemaining,requestedAmount:this.state.requestedAmount,total:this.state.total,showProgress:this.props.showProgress}):this.state.needPledge?null:this.state.showWarning?ae||(ae=(0,o.Z)(ue,{},void 0,(0,o.Z)(se,{}))):this.state.isInProgress?(0,o.Z)("div",{},void 0,this.state.displayGoldShowStartMessage?(0,o.Z)(x.dp,{isLandscape:this.context.orientation===j.ZP.LANDSCAPE,isMobile:this.context.layout===j.ZP.MOBILE},void 0,le||(le=(0,o.Z)(x.S8,{},void 0,(0,o.Z)(x.ki,{},void 0,(0,o.Z)(V,{forceGoldExcitement:!0}))))):null):null}}]),n}(m.Component);de.propTypes={showProgress:g().bool},de.defaultProps={showProgress:!0},de.contextTypes={orientation:g().oneOf([j.ZP.LANDSCAPE,j.ZP.PORTRAIT]),layout:g().oneOf([j.ZP.DESKTOP,j.ZP.TABLET,j.ZP.MOBILE])};var pe,me,he,fe,ge=n("./node_modules/react-transition-group/index.js"),ve=n("./src/stores/VideoControlsStore.js"),_e=n("./src/utils/withStores.tsx"),ye=(0,S.F4)(["from{transform:scale(1);opacity:1;}to{transform:scale(2.25);opacity:0;}"]),be=S.ZP.div.withConfig({displayName:"VideoInfo__Bug",componentId:"sc-o032g1-0"})(["display:inline-block;width:6px;height:6px;background-color:",";border-radius:100%;"," position:relative;::after{display:block;width:6px;height:6px;opacity:1;background-color:",";transform:scale(0.5);position:absolute;content:'';top:0px;"," border-radius:100%;animation-name:",";animation-duration:1.25s,1.25s;animation-iteration-count:6000,6000;animation-timing-function:cubic-bezier(0.6,0,1,0.8),ease-out;animation-fill-mode:forwards,forwards;}"],(function(e){return e.theme.colors.active}),(0,Z.Z)(pe||(pe=(0,p.Z)(["\n    margin: 0 6px 2px 0;\n  "]))),(function(e){return e.theme.colors.active}),(0,Z.Z)(me||(me=(0,p.Z)(["\n      left: 0px;\n    "]))),ye),Se=S.ZP.div.withConfig({displayName:"VideoInfo__Container",componentId:"sc-o032g1-1"})(["display:inline-block;flex-direction:row;flex-wrap:nowrap;align-items:center;align-content:center;font-size:14px;height:24px;line-height:24px;background-color:rgba(0,0,0,0.45);color:#fcfcfc;text-transform:uppercase;opacity:1;padding:0 8px;"," margin-top:8px;"],(0,Z.Z)(he||(he=(0,p.Z)(["\n    justify-content: left;\n    margin-left: 8px;\n  "])))),Ee=function(e){var t=e.forceOn,n=e.videoPlaying;return t||n?(0,o.Z)(Se,{className:"LiveBug"},void 0,fe||(fe=(0,o.Z)(be,{"data-ta-locator":"VideoInfo__bug"})),M.ZP.getString("live")):null};Ee.propTypes={forceOn:g().bool,videoPlaying:g().bool};const Ce=(0,_e.Z)([ve.Z],(function(e){return{videoPlaying:e.videoControls.videoPlaying}}))(Ee);var Ze;function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var Oe=S.ZP.div.withConfig({displayName:"LiveInfoContainer__AnimatedDiv",componentId:"sc-1v9mhiz-0"})([".LiveBug{transition:opacity ","ms;will-change:opacity;opacity:0;}&.FadeInOut-enter-active .LiveBug{opacity:1;}&.FadeInOut-enter-done .LiveBug{opacity:1;}&.FadeInOut-exit-active .LiveBug{opacity:0.01;}&.FadeInOut-exit-done .LiveBug{opacity:0;}"],500),Te=function(e){(0,l.Z)(n,e);var t=Pe(n);function n(e){var o;return(0,i.Z)(this,n),o=t.call(this,e),(0,d.Z)((0,a.Z)(o),"onExited",(function(){o.setState({hideVideoInfo:!0})})),o.state={hideVideoInfo:!1},o.onExited=o.onExited.bind((0,a.Z)(o)),o}return(0,s.Z)(n,[{key:"render",value:function(){return(0,o.Z)(ge.CSSTransition,{classNames:"FadeInOut",in:this.props.visible,timeout:500,onExited:this.onExited,appear:!0},void 0,(0,o.Z)(Oe,{},void 0,!this.state.hideVideoInfo&&(Ze||(Ze=(0,o.Z)(Ce,{})))))}}]),n}(m.Component);Te.propTypes={visible:g().bool},Te.defaultProps={visible:!1};var Ie,we=n("./node_modules/@atg/contentreview/index.js"),Ae=n("./src/constants/Overlays.ts"),Re=n("./src/constants/Platforms.ts"),ke=n("./src/constants/ComplaintConstants.ts"),De=n("./src/stores/UserStore.js"),Le=n("./src/components/common/BrowseButton.js"),Ne=n("./node_modules/icf-react-components/components/RaisedButton/index.js"),xe=n.n(Ne),je=n("./src/utils/log.js"),Me=n("./src/utils/tools.ts"),Be=n("./src/constants/Messages.js"),Ue=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),Ge=n("./node_modules/icf-react-components/components/FlatButton/index.js"),Ve=n.n(Ge),Fe=(0,x.dN)(Ve()),He=(0,S.ZP)(O()).attrs({name:"timer",fill:"fff"}).withConfig({displayName:"NotifyUserButton__StyledSvg",componentId:"sc-k0o16s-0"})(["margin:0 0 0 auto;"]),Ye=function(e,t){if(t.platform!==Re.ZP.SCP)return null;var n=(0,m.useState)(!1),r=(0,Ue.Z)(n,2),i=r[0],s=r[1],a=i?M.ZP.getString("notify_me_enabled"):M.ZP.getString("notify_me");return(0,o.Z)(Fe,{size:"large",ghost:!0,label:a,iconLeft:Ie||(Ie=(0,o.Z)(He,{})),onClick:function(){!function(e){var t=T.Z.getState().id;je.Z.loms({eventname:"NotifyUserPerformerAvailableClickV1"}),(0,Me.Vj)(Be.Z.NOTIFY_USER_WHEN_PERFORMER_AVAILABLE,{performerId:t}),e(!0)}(s)},disabled:i,"data-ta-locator":"NotifyUserButton"})};Ye.contextTypes={platform:g().oneOf(Object.values(Re.ZP))};const We=Ye;var ze,qe=(0,S.ZP)((0,x.dN)(Le.Z)).withConfig({displayName:"Break__StyledBrowseButton",componentId:"sc-i0uz3c-0"})(["margin-top:1em;margin-bottom:0;"]),Ke=(0,S.ZP)((0,x.dN)(xe())).withConfig({displayName:"Break__StyledRaisedButton",componentId:"sc-i0uz3c-1"})(["margin-top:1em;margin-bottom:0;"]),Xe=(0,S.ZP)((0,x.dN)(We)).withConfig({displayName:"Break__StyledNotifyButton",componentId:"sc-i0uz3c-2"})(["margin-top:1em;margin-bottom:0;"]),Qe=function(){var e=De.Z.isLoggedIn();return(0,o.Z)(x.DH,{},void 0,(0,o.Z)(x.iw,{},void 0,M.ZP.getString("on_break")),e?null:(0,o.Z)(Ke,{gold:!0,label:M.ZP.getString("free_account"),"data-ta-locator":"DisconnectBreak__signUpButton",onClick:function(){je.Z.usage("on_break_signup_click",Date.now()),(0,Me.Vj)(Be.Z.REQUIRES_AUTH)}}),(0,orowseButton",buttonType:e?"normal":"clear"}),e?ze||(ze=(0,o.Z)(Xe,{})):null)};Qe.propTypes={overlay:g().string};const Je=Qe;var $e;const et=function(){return $e||($e=(0,o.Z)(x.DH,{}))};var tt=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),nt=["buttonType"];function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=(0,x.dN)(Ve()),st=function(e){var t=e.buttonType,n=(0,tt.Z)(e,nt),o="clear"===t?it:xe(),r=rt(rt({},n),{},{label:M.ZP.getString("lb_reconnect"),onClick:function(){je.Z.usage("reconnect_click",Date.now()),(0,Me.Vj)(Be.Z.REFRESH)},ghost:"clear"===t||void 0,size:"large"});return h().createElement(o,r)};st.propTypes={buttonType:g().string},st.defaultProps={buttonType:"normal"};const at=st;var lt,ct,ut={marginTop:"1em",marginBottom:0},dt=(0,x.dN)(Le.Z),pt=(0,x.dN)(at);const mt=function(){return(0,o.Z)(x.DH,{},void 0,(0,o.Z)(x.iw,{},void 0,M.ZP.getString("oops_somethings_wrong")),lt||(lt=(0,o.Z)(pt,{"data-ta-locator":"DisconnectSystem__reconnectButton",style:ut})),ct||(ct=(0,o.Z)(dt,{"data-ta-locator":"DisconnectSystem__browseButton",buttonType:"clear",style:ut})))};var ht=n("./src/constants/NaiadSessionType.js"),ft=n("./src/components/video/Favorite.js"),gt=S.ZP.div.withConfig({displayName:"Login__LoginContainer",componentId:"sc-5hfwa1-0"})(["margin-top:1em;"]),vt=S.ZP.a.withConfig({displayName:"Login__Link",componentId:"sc-5hfwa1-1"})(["cursor:pointer;touch-action:'manipulation';"]),_t=function(e,t){return(0,o.Z)(gt,{},void 0,(0,o.Z)("span",{},void 0,M.ZP.getString("have_account")," ",(0,o.Z)(vt,{"data-ta-locator":"Login_link",onClick:function(){(0,Me.Vj)(Be.Z.GOTO_LOGIN)},color:t.primaryColor},void 0,M.ZP.getString("log_in"))))};_t.contextTypes={primaryColor:g().string};const yt=_t;var bt,St,Et,Ct={marginTop:"1em",marginBottom:0},Zt=(0,x.dN)(Le.Z),Pt=(0,x.dN)(at),Ot=function(e){var t=e.performerId,n=e.hideAddToFavorites,r=e.isDesktop,i=null,s=T.Z.getState().isFavorite;!t||n||!r&&s||(i=(0,o.Z)(ft.Z,{performerId:t,isFavText:M.ZP.getString("favorite_added_message"),isNotFavText:M.ZP.getString("link_add_fav")}));var a=De.Z.getState().userType;return(0,o.Z)(x.DH,{},void 0,(0,o.Z)(x.iw,{},void 0,M.ZP.getString("disconnect_ended")),i,bt||(bt=(0,o.Z)(Zt,{"data-ta-locator":"DisconnectUser__browseButton",style:Ct})),St||(St=(0,o.Z)(Pt,{"data-ta-locator":"DisconnectUser__reconnectButton",buttonType:"clear",style:Ct})),a===ht.Z.PREVIEW?Et||(Et=(0,o.Z)(yt,{})):null)};Ot.propTypes={performerId:g().number,hideAddToFavorites:g().bool,isDesktop:g().bool},Ot.defaultProps={performerId:0,hideAddToFavorites:!1,isDesktop:!1};const Tt=Ot;var It=(0,S.ZP)(x.iw).withConfig({displayName:"ForceBillingInfoUpdate__Header",componentId:"sc-1qmaknr-0"})(["text-transform:'none';"]);const wt=function(){return(0,o.Z)(x.DH,{},void 0,(0,o.Z)(It,{},void 0,M.ZP.getString("update_payment_info")),(0,o.Z)("p",{},void 0,M.ZP.getString("update_payment_description")),(0,o.Z)(xe(),{label:M.ZP.getString("update_billing_info"),"data-ta-locator":"ForceBillingInfoUpdate__requestPaymentInfoUpdateButton",onClick:function(){return(0,Me.Vj)(Be.Z.REQUEST_PAYMENT_UPDATE)}}))};var At,Rt,kt,Dt=n("./src/components/common/GoPrivateButton.js"),Lt={marginTop:"1em",marginBottom:0},Nt=(0,x.dN)(Dt.Z),xt=(0,x.dN)(Le.Z);const jt=function(){var e=De.Z.getState().userType,t=A.Z.isProjectXL()&&!A.Z.isRoomPrivateShow();return(0,o.Z)(x.DH,{},void 0,(0,o.Z)(x.iw,{},void 0,M.ZP.getString("finished_show")),(0,o.Z)("p",{},void 0,M.ZP.getString("back_soon")+" ",At||(At=(0,o.Z)(x.Ht,{},void 0,(0,o.Z)(te,{initialTimeRemaining:3e4,secondsOnly:!0})))," "+M.ZP.getString("seconds")),!t&&(0,o.Z)(Nt,{locator:"DisconnectCountDown__enterPaidButton",label:M.ZP.getString("start_private"),style:Lt}),Rt||(Rt=(0,o.Z)(xt,{"data-ta-locator":"DisconnectCountDown__browseButton",buttonType:"clear",style:Lt})),e===ht.Z.PREVIEW?kt||(kt=(0,o.Z)(yt,{})):null)};var Mt,Bt,Ut={marginTop:"1em",marginBottom:0},Gt=(0,x.dN)(Le.Z),Vt=(0,S.ZP)((0,x.dN)(We)).withConfig({displayName:"InExclusive__StyledNotifyButton",componentId:"sc-pr6am2-0"})(["margin-top:1em;margin-bottom:0;"]),Ft=function(){var e=De.Z.isLoggedIn();return(0,o.Z)(x.DH,{},void 0,(0,o.Z)(x.iw,{},void 0,M.ZP.getString("disconnect_performer_in_exclusive")),Mt||(Mt=(0,o.Z)(Gt,{"data-ta-locator":"PerformerInExclusive__browseButton",style:Ut})),e&&(Bt||(Bt=(0,o.Z)(Vt,{}))))};Ft.propTypes={overlay:g().string};const Ht=Ft;var Yt=n("./src/lib/Dispatcher.js"),Wt=n("./src/constants/Actions.js"),zt=n("./src/components/gold/GoldCop.js"),qt=n("./src/components/common/BillingInfo.js"),Kt=function(e){return e.initialTimeRemaining<1?null:(0,o.Z)(x.Ht,{"data-ta-locator":"GoldShowTimeRemaining"},void 0,(0,o.Z)(te,{initialTimeRemaining:1e3*e.initialTimeRemaining})," "+M.ZP.getString("goldshow_time_left"))};Kt.propTypes={initialTimeRemaining:g().number.isRequired};const Xt=Kt;var Qt,Jt,$t;function en(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var tn,nn,on,rn=(0,S.ZP)((0,x.dN)(Le.Z)).withConfig({displayName:"InGoldShow__StyledBrowseButton",componentId:"sc-1nwt96m-0"})(["margin-top:1em;margin-bottom:0;"]),sn=(0,S.ZP)((0,x.dN)(xe())).withConfig({displayName:"InGoldShow__StyledRaisedButton",componentId:"sc-1nwt96m-1"})(["margin-top:1em;margin-bottom:0;"]),an=S.ZP.span.withConfig({displayName:"InGoldShow__StyledGoldText",componentId:"sc-1nwt96m-2"})(["color:",";"],(function(e){return e.theme.colors.gold})),ln=S.ZP.div.withConfig({displayName:"InGoldShow__Cost",componentId:"sc-1nwt96m-3"})(["height:17px;margin-top:",";color:",";font-size:14px;font-weight:bold;pointer-events:none;"],(function(e){return e.compact?"4px":"8px"}),(function(e){return e.theme.colors.baseContrast040})),cn=function(e){(0,l.Z)(n,e);var t=en(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"handleClick",value:function(){je.Z.usage("performer_in_gold_show_click",Date.now()),Yt.Z.dispatch({type:Wt.Z.GIVE_GOLD_CLICK})}},{key:"handleDirectClick",value:function(e){e.submitGold()}},{key:"getDefault",value:function(){var e=De.Z.getState().userType,t=k.Z.getState().timetoend;return(0,o.Z)(x.DH,{},void 0,(0,o.Z)(x.iw,{},void 0,M.ZP.getString("gold_in_progress")),t>=1?(0,o.Z)(Xt,{initialTimeRemaining:t}):null,(0,o.Z)(sn,{gold:!0,label:e===ht.Z.PREVIEW?M.ZP.getString("free_account"):M.ZP.getString("join_show"),"data-ta-locator":"DisconnectGoldShow__join_show",onClick:this.handleClick}),Qt||(Qt=(0,o.Z)(rn,{"data-ta-locator":"DisconnectGoldShow__browseButton",buttonType:"clear"})),e===ht.Z.PREVIEW?Jt||(Jt=(0,o.Z)(yt,{})):null)}},{key:"getDirectlyToGoldShow",value:function(e){var t=this,n=De.Z.getState(),r=n.isGoldOneUsd,i=n.showFinalCost,s=k.Z.getState().timetoend;return(0,o.Z)(x.DH,{},void 0,(0,o.Z)("span",{},void 0,(0,o.Z)(x.iw,{},void 0,M.ZP.getString("join_my")+" ",(0,o.Z)(an,{},void 0,M.ZP.getString("lb_gold")+" "),M.ZP.getString("show")+"!")),s>=1?(0,o.Z)(Xt,{initialTimeRemaining:s}):null,(0,o.Z)(sn,{gold:!0,label:M.ZP.getString("enter_show")+": "+(0,B.ev)(e.goldToGive),"data-ta-locator":"DisconnectGoldShow__join_show_directly",onClick:function(){return t.handleDirectClick(e)}}),(r||i)&&(0,o.Z)(ln,{},void 0,(0,B.hg)(e.goldToGive,r,i)),$t||($t=(0,o.Z)(rn,{"data-ta-locator":"DisconnectGoldShow__browseButton",buttonType:"clear"})),(0,o.Z)(qt.ZP,{finalCostShown:i}))}},{key:"render",value:function(){var e=this,t=De.Z.getState(),n=t.owedAmount,r=t.isNonBillable,i=t.redirectToConfirn;return s||!a||r||i||n||!De.Z.isPremium()?this.getDefault():(0,o.Z)(zt.Z,{presetGold:c,sendGoldAsOneUsd:l},void 0,(function(t){return t.valid?e.getDirectlyToGoldShow(t):e.getDefault()}))}}]),n}(m.Component),un=n("./src/stores/RateStore.js"),dn=n("./src/components/modals/EnterPaidModal.js"),pn=n("./src/components/common/EnterShowButton.js"),mn=n("./src/constants/Session.ts");function hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var fn,gn=(0,S.ZP)((0,x.dN)(Le.Z)).withConfig({displayName:"InPrivate__StyledBrowseButton",componentId:"sc-v1hp50-0"})(["margin-top:1em;margin-bottom:0;"]),vn=(0,S.ZP)((0,x.dN)(xe())).withConfig({displayName:"InPrivate__StyledRaisedButton",componentId:"sc-v1hp50-1"})(["margin-top:1em;margin-bottom:0;"]),_n=(0,S.ZP)((0,x.dN)(pn.Z)).withConfig({displayName:"InPrivate__StyledEnterShowButton",componentId:"sc-v1hp50-2"})(["margin-top:1em;margin-bottom:0;"]),yn=function(e){(0,l.Z)(n,e);var t=hn(n);function n(e){v,"updateBlockSessionChange",(function(e){o.setState({blockSessionValue:e})})),(0,d.Z)((0,a.Z)(o),"updateSessionTypeChange",(function(e){o.setState({sessionType:e,blockSessionValue:""})})),o.state={},o}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){un.Z.getState().resumeSession&&this.setState({sessionType:mn.F.RESUME,blockSessionValue:""})}},{key:"handleClick",value:function(){je.Z.usage("performer_available_join_show_click",Date.now()),Yt.Z.dispatch({type:k.Z.isActive()?Wt.Z.GIVE_GOLD_CLICK:Wt.Z.ENTER_PAID_CLICK})}},{key:"getDefault",value:function(){var e=De.Z.getState().userType;return(0,o.Z)(x.DH,{},void 0,(0,o.Z)(x.iw,{},void 0,M.ZP.getString("performing_live")),(0,o.Z)(vn,{gold:!0,label:M.ZP.getString("join_show"),"data-ta-locator":"Available__join_show",onClick:this.handleClick}),tn||(tn=(0,o.Z)(gn,{"data-ta-locator":"Available__browseButton",buttonType:"clear"})),e===ht.Z.PREVIEW?nn||(nn=(0,o.Z)(yt,{})):null)}},{key:"getDirectlyToEnterPaid",value:function(){var e=this.state,t=e.sessionType,n=e.blockSessionValue,r=De.Z.getState().showFinalCost;return(0,o.Z)(x.DH,{},void 0,(0,o.Z)(x.iw,{},void 0,M.ZP.getString("join_my_live_show")),(0,o.Z)(dn.default,{"data-ta-locator":"Available__enterPaidDirectButton",showPaidChatDetails:!1,updateBlockSessionChange:this.updateBlockSessionChange,updateSessionTypeChange:this.updateSessionTypeChange,showEnterShowButton:!1}),(0,o.Z)(_n,{gold:!0,label:M.ZP.getString("enter_show"),"data-ta-locator":"EnterPaidModal__enterPaidButton",sessionType:t,blockSessionValue:n}),on||(on=(0,o.Z)(gn,{"data-ta-locator":"Available__browseButton",buttonType:"clear"})),(0,o.Z)(qt.ZP,{finalCostShown:r}))}},{key:"render",value:function(){var e=De.Z.getState(),t=e.needsPrebill,n=e.sakey,o=e.isNonBillable,r=e.redirectToConfirm,i=e.owedAmount,s=e.twoFactorAuthenticationRequired;return t||!n||o||r||i||!De.Z.isPremium()||s?this.getDefault():this.getDirectlyToEnterPaid()}}]),n}(m.Component),bn={marginTop:"1em",marginBottom:0},Sn=(0,x.dN)(Le.Z);const En=function(){return(0,o.Z)(x.DH,{},void 0,(0,o.Z)(x.iw,{},void 0,M.ZP.getString("oops_somethings_wrong")),fn||(fn=(0,o.Z)(Sn,{"data-ta-locator":"InvalidStartup__browseButton",style:bn})))};var Cn,Zn=(0,x.dN)(Le.Z),Pn=(0,S.ZP)(x.iw).withConfig({displayName:"NoValidDrivers__Header",componentId:"sc-1t7lhkl-0"})(["text-transform:'none';"]);const On=function(){return(0,o.Z)(x.DH,{},void 0,(0,o.Z)(Pn,{},void 0,M.ZP.getString("no_drivers_header")),(0,o.Z)("p",{},void 0,M.ZP.getString("no_drivers_msg")),Cn||(Cn=(0,o.Z)(Zn,{"data-ta-locator":"NoDrivers__browseButton"})))};var Tn=n("./src/utils/FluxStoreExtended.ts");function In(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var An=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{data:null,loaded:!1});const Rn=new(function(e){(0,l.Z)(n,e);var t=In(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getState",value:function(){return An}},{key:"init",value:function(){An={data:{messengerEnabled:!1},loaded:!0}}},{key:"updateData",value:function(e){An.loaded||this.init(),void 0!==e.messengerEnabled&&(An.data.messengerEnabled=e.messengerEnabled)}},{key:"__onDispatch",value:function(e){switch(e.type){case Wt.Z.SET_MESSENGER_ENABLED:this.updateData(e.data);break;default:return}this.__emitChange()}}]),n}(Tn.Z))("messenger",Yt.Z);var kn,Dn,Ln=(0,x.dN)(Ve()),Nn=(kn={},(0,d.Z)(kn,Ae.Z.BREAK,"MessengerOnBreakClickV2"),(0,d.Z)(kn,Ae.Z.IN_EXCLUSIVE,"MessengerInExclusiveClickV2"),(0,d.Z)(kn,Ae.Z.OFFLINE,"MessengerOfflineClickV2"),(0,d.Z)(kn,Ae.Z.ROOM_FULL,"MessengerOfflineClickV2"),(0,d.Z)(kn,"PostPaidModal","MessengerPostpaidClickV2"),kn),xn=function(e){var t,n=De.Z.getState().userId,r=(null!==(t=Rn.getState().data)&&void 0!==t?t:{}).messengerEnabled;return n&&r?(0,o.Z)(Ln,{ghost:!0,size:"large","data-ta-locator":"".concat(e.overlay,"__sendMessage"),label:M.ZP.getString("start_conversation"),icon:Dn||(Dn=(0,o.Z)(O(),{name:"email"})),onClick:function(){je.Z.loms({eventname:Nn[e.overlay]}),(0,Me.Vj)(Be.Z.MESSENGER_CONVERSATION,{nickname:T.Z.getState().nickname,performerid:T.Z.getState().id})}}):null};xn.propTypes={overlay:g().string};const jn=xn;var Mn=(0,S.ZP)((0,x.dN)(Le.Z)).withConfig({displayName:"Offline__StyledBrowseButton",componentId:"sc-1038r2a-0"})(["margin-top:1em;margin-bottom:0;"]),Bn=(0,S.ZP)((0,x.dN)(xe())).withConfig({displayName:"Offline__StyledRaisedButton",componentId:"sc-1038r2a-1"})(["margin-top:1em;margin-bottom:0;"]),Un=function(e){var t=e.performerId,n=e.hideAddToFavorites,r=e.isDesktop,i=e.overlay,s=null,a=T.Z.getState().isFavorite;!t||n||!r&&a||(s=(0,o.Z)(ft.Z,{performerId:t,isFavText:M.ZP.getString("favorite_added_message"),isNotFavText:M.ZP.getString("link_add_fav")}));var l=De.Z.getState().userType;return(0,o.Z)(x.DH,{},void 0,(0,o.Z)(x.iw,{"data-ta-locator":"OverlayHeader__offline"},void 0,M.ZP.getString("performer_offline")),s,l===ht.Z.PREVIEW?(0,o.Z)(Bn,{gold:!0,label:M.ZP.getString("free_account"),"data-ta-locator":"Offline__signUpButton",onClick:function(){je.Z.usage("offline_signup_click",Date.now()),(0,Me.Vj)(Be.Z.REQUIRES_AUTH)}}):null,(0,o.Z)(Mn,{"data-ta-locator":"Offline__browseButton",buttonType:l===ht.Z.PREVIEW?"clear":"normal"}),(0,o.Z)(jn,{overlay:i}))};Un.propTypes={performerId:g().number,hideAddToFavorites:g().bool,isDesktop:g().bool,overlay:g().string},Un.defaultProps={performerId:0,hideAddToFavorites:!1,isDesktop:!1};const Gn=Un;var Vn,Fn=(0,S.ZP)((0,x.dN)(xe())).withConfig({displayName:"Online__JoinShowButton",componentId:"sc-1hyszd3-0"})(["margin-top:1em;margin-bottom:0;"]);const Hn=function(){var e=De.Z.getState().userType;return(0,o.Z)(x.DH,{},void 0,(0,o.Z)(x.iw,{},void 0,M.ZP.getString("online_now")),(0,o.Z)(Fn,{gold:!0,label:M.ZP.getString("join_show"),"data-ta-locator":"Online__join_show",onClick:function(){je.Z.usage("online_reconnect_click",Date.now()),(0,Me.Vj)(Be.Z.REFRESH)}}),e===ht.Z.PREVIEW?Vn||(Vn=(0,o.Z)(yt,{})):null)};var Yn=(0,S.ZP)((0,x.dN)(Le.Z)).withConfig({displayName:"RoomFull__StyledBrowseButton",componentId:"sc-1a2wmdg-0"})(["margin-top:1em;margin-bottom:0;"]);(0,S.ZP)((0,x.dN)(xe())).withConfig({displayName:"RoomFull__StyledRaisedButton",componentId:"sc-1a2wmdg-1"})(["margin-top:1em;margin-bottom:0;"]);const Wn=function(e){var t=e.performerId,n=void 0===t?0:t,o=e.hideAddToFavorites,r=void 0!==o&&o,i=e.isDesktop,s=void 0!==i&&i,a=e.overlay,l=void 0===a?Ae.Z.ROOM_FULL:a,c=null,u=T.Z.getState().isFavorite;return!n||r||!s&&u||(c=h().createElement(ft.Z,{performerId:n,isFavText:M.ZP.getString("favorite_added_message"),isNotFavText:M.ZP.getString("link_add_fav")})),h().createElement(x.DH,null,h().createElement(x.iw,{"data-ta-locator":"OverlayHeader__RoomFull"},M.ZP.getString("room_full")),c,h().createElement(Yn,{"data-ta-locator":"RoomFull__browseButton",buttonType:"normal"}),h().createElement(jn,{overlay:l}))};var zn,qn,Kn={marginTop:"1em",marginBottom:0},Xn=(0,x.dN)(Le.Z),Qn=(0,x.dN)(at);const Jn=function(){return(0,o.Z)(x.DH,{},void 0,(0,o.Z)(x.iw,{},void 0,M.ZP.getString("oops_somethings_wrong")),zn||(zn=(0,o.Z)(Qn,{"data-ta-locator":"StartupNetworkError__reconnectButton",style:Kn})),qn||(qn=(0,o.Z)(Xn,{"data-ta-locator":"StartupNetworkError__browseButton",buttonType:"clear",style:Kn})))};const $n=function(){return h().createElement(x.DH,null,h().createElement(x.iw,{"data-ta-locator":"OverlayHeader__RefreshHC"},M.ZP.getString("unable_to_join")),h().createElement("p",null,M.ZP.getString("clear_cache")))};var eo=(0,S.ZP)((0,x.dN)(Le.Z)).withConfig({displayName:"WaitForSetUp__StyledBrowseButton",componentId:"sc-18jma69-0"})(["margin-top:1em;margin-bottom:0;"]),to=(0,S.ZP)(x.DH).withConfig({displayName:"WaitForSetUp__StyledOverlayContent",componentId:"sc-18jma69-1"})(["background-color:transparent;"]);const no=(0,_e.Z)([I.Z],(function(e){return{throttleTime:e.overlay.throttleTime}}))((function(e){var t=e.throttleTime;return h().createElement(to,null,h().createElement(x.iw,{"data-ta-locator":"OverlayHeader__WaitForSetUp"},M.ZP.getString("wait_to_join")),h().createElement("p",null,M.ZP.getString("will_be_connected"),h().createElement(te,{initialTimeRemaining:t,secondsOnly:!0})," "+M.ZP.getString("seconds")),h().createElement(eo,{"data-ta-locator":"Available__browseButton",buttonType:"clear"}))}));var oo,ro=n("./src/components/ReportComplaintButton.tsx"),io=n("./src/utils/complaint.ts");function so(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var ao=(oo={},(0,d.Z)(oo,Ae.Z.BREAK,Je),(0,d.Z)(oo,Ae.Z.CLOSING_CLIENT,et),(0,d.Z)(oo,Ae.Z.DISCONNECT_SYSTEM,mt),(0,d.Z)(oo,Ae.Z.DISCONNECT_USER,Tt),(0,d.Z)(oo,Ae.Z.FORCE_BILLING_INFO_UPDATE,wt),(0,d.Z)(oo,Ae.Z.IN_COUNTDOWN,jt),(0,d.Z)(oo,Ae.Z.IN_EXCLUSIVE,Ht),(0,d.Z)(oo,Ae.Z.IN_GOLDSHOW,cn),(0,d.Z)(oo,Ae.Z.IN_PRIVATE,yn),(0,d.Z)(oo,Ae.Z.INVALID_STARTUP,En),(0,d.Z)(oo,Ae.Z.NO_VALID_DRIVERS,On),(0,d.Z)(oo,Ae.Z.OFFLINE,Gn),(0,d.Z)(oo,Ae.Z.ONLINE,Hn),(0,d.Z)(oo,Ae.Z.ROOM_FULL,Wn),(0,d.Z)(oo,Ae.Z.STARTUP_NETWORK_ERROR,Jn),(0,d.Z)(oo,Ae.Z.TIMEOUT,mt),(0,d.Z)(oo,Ae.Z.REFRESH_HC,$n),(0,d.Z)(oo,Ae.Z.WAIT_FOR_SET_UP,no),oo),lo=S.ZP.div.withConfig({displayName:"Overlay__OverlayContainer",componentId:"sc-btlu8b-0"})(["top:0;flex:1;display:flex;flex-flow:column;"]),co=S.ZP.div.withConfig({displayName:"Overlay__OverlayBackground",componentId:"sc-btlu8b-1"})(["widx:-1;background-position:top;background-size:cover;background-repeat:no-repeat;filter:blur(4px);background-image:",";",";"],(function(e){var t=e.biopic;return t?"url(".concat(t,")"):""}),(function(e){return e.blur&&"filter: blur(16px)"})),uo=(0,S.ZP)(ro.Z).withConfig({displayName:"Overlay__StyledReportComplaintButton",componentId:"sc-btlu8b-2"})(["position:absolute;right:0px;bottom:0px;"]),po=function(e,t){var n,o=e.overlay,r=e.biopic,i=e.snapshot,s=e.modalOpen,a=e.performerId,l=e.hideExplicit,c=t.platform;if(!o||!ao[o])return null;var u=ao[o],p={performerId:a,hideAddToFavorites:c===Re.ZP.BLACKLABEL||c===Re.ZP.STREAMFANS,overlay:o},m=[{typeAttributes:[we.ContentType.BioPic],localizedString:(0,M.KF)(ke.vl[we.ContentType.BioPic]),lookupData:null!==(n=(0,io.Y)(we.ContentType.BioPic))&&void 0!==n?n:{},isPaidContent:!1,serviceType:we.ServiceType.HybridClient}],f=o===Ae.Z.OFFLINE||""===i||l?r:i;return h().createElement(lo,{"data-ta-locator":"OverlayContainer"},h().createElement(co,{biopic:f,blur:De.Z.isExplicitContentBlocked(),"data-ta-locator":"OverlayBackground"}),s?h().createElement(x.DH,null):h().createElement(u,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?so(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p)),h().createElement(uo,{complaintLocation:ke.Kh.HYBRID_CLIENT_OVERLAY,reportableContents:m}))};po.defaultProps={modalOpen:!1,overlay:void 0,performerId:0,snapshot:""},po.contextTypes={platform:g().oneOf(Object.values(Re.ZP))};const mo=(0,_e.Z)([De.Z,T.Z],(function(e){var t=e.performer;return{biopic:t.biopicLarge,performerId:Number(t.id),snapshot:t.snapshot,hideExplicit:De.Z.isExplicitContentBlocked()}}))(po);var ho,fo,go=n("./src/stores/EnableAudioStore.ts");function vo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var _o=(0,S.F4)(["0%{opacity:1;}100%{opacity:0;}"]),yo=S.ZP.div.withConfig({displayName:"EnableAudioButton__EnableAudioContainer",componentId:"sc-1k8i0us-0"})(["background-color:rgba(0,0,0,0.4);cursor:pointer;top:8px;height:24px;line-height:24px;padding:0 8px;position:absolute;"," transition:opacity 2s;transition-delay:1s;&:hover{background-color:",";}"],(0,Z.Z)(ho||(ho=(0,p.Z)(["\n    left: 50%;\n    transform: translateX(-50%);\n  "]))),j.O9.darkerGray),bo=S.ZP.span.withConfig({displayName:"EnableAudioButton__EnableAudioText",componentId:"sc-1k8i0us-1"})(["color:white;font-size:14px;letter-spacing:0;text-transform:uppercase;user-select:none;"]),So=S.ZP.div.withConfig({displayName:"EnableAudioButton__FadeOutAnimation",componentId:"sc-1k8i0us-2"})(["animation:"," 2s ease-in forwards;animation-delay:1s;"],_o),Eo=(0,S.ZP)(O()).withConfig({displayName:"EnableAudioButton__EnableAudioIcon",componentId:"sc-1k8i0us-3"})(["display:inline-block;fill:white;vertical-align:bottom;"," position:relative;"],(0,Z.Z)(fo||(fo=(0,p.Z)(["\n    margin: 0 0.5rem 0 0;\n  "])))),Co=function(e){(0,l.Z)(n,e);var t=vo(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r)),(0,d.Z)((0,a.Z)(e),"handleEnableAudioButton",(function(){je.Z.usage("clicked_enable_audio",Date.now()),e.props.userClicked||Yt.Z.dispatch({type:Wt.Z.ENABLE_AUDIO})})),e}return(0,s.Z)(n,[{key:"renderButton",value:function(e){var t=e.glyph,n=e.text,o=e.onClick;return h().createElement(yo,{"data-ta-locator":"EnableAudioButton",onClick:o,style:{touchAction:"manipulation"}},h().createElement(Eo,{name:t,fr:void 0}),h().createElement(bo,null,n))}},{key:"render",value:function(){var e=this.props,t=e.audioPlaying,n=e.userClicked;return void 0===t||t&&!n?null:n?h().createElement(So,{"data-ta-locator":"EnableAudioFadeOut"},this.renderButton({glyph:"volumeUp",text:M.ZP.getString("audio_enabled")})):this.renderButto,n}(m.Component);(0,d.Z)(Co,"defaultProps",{userClicked:!1});const Zo=(0,_e.Z)([go.Z],(function(e){return{audioPlaying:e.enableAudio.audioPlaying,userClicked:e.enableAudio.userClicked}}))(Co);var Po,Oo,To=n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),Io=n("./src/stores/ChatStore.js"),wo=n("./src/components/RewardsIconsMap.tsx"),Ao=n("./src/constants/RewardsConstants.ts"),Ro=n("./src/constants/ChatConstants.ts");function ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var Do=S.ZP.li.withConfig({displayName:"MobileFullscreenMessage__ListItem",componentId:"sc-1fe854l-0"})(["&&{padding:0;}"]),Lo=S.ZP.span.withConfig({displayName:"MobileFullscreenMessage__MessageContainer",componentId:"sc-1fe854l-1"})(["display:inline-block;list-style-type:none;word-wrap:break-word;user-select:text;padding 0 ","px;margin ","px 0 0 0;max-width:100%;color:",";text-shadow:",";"," "," font-size:12px;line-height:18px;position:relative;:before{content:'';z-index:-1;positius:11px;}"],(function(e){return e.theme.spacing.base}),(function(e){return e.theme.spacing.base}),(function(e){var t=e.isGold,n=e.theme;return t?n.colors.gold:n.colors.baseContrast100}),(funcba(0, 0, 0, 0.75)"}),(function(e){var t=e.isSubscriber,n=e.isGold;return t||n?"font-weight: bold;":""}),(function(e){var t=e.isPrivate,n=e.isItali(e){var t=e.type,n=e.isGold,o=e.theme;return t!==Ro.C.System||n?t===Ro.C.Performer?o.colors.primary:o.colors.themeBase:"transparent"}),(function(e){return e.type===Ro.C.Performer?.7:.4})),No=S.ZP.span.withConfig({displayName:"MobileFullscreenMessage__Nickname",componentId:"sc-1fe854l-2"})(["font-weight:bold;:after{content:': ';}"]),xo=(0,S.ZP)(O()).withConfig({displayName:"MobileFullscreenMessage__SubscriberBadge",componentId:"sc-1fe854l-3"})([""," vertical-align:text-bottom;"],(0,Z.Z)(Po||(Po=(0,p.Z)(["\n    margin-left: ","px;\n  "])),(function(e){var t=e.theme;return String(t.spacing.base/2)}))),jo=S.ZP.div.withConfig({displayName:"MobileFullscreenMessage__RewardsBadge",componentId:"sc-1fe854l-4"})([""," vertical-align:text-bottom;width:","px;height:","px;display:inline-flex;"],(0,Z.Z)(Oo||(Oo=(0,p.Z)(["\n    margin-left: ","px;\n  "])),(function(e){var t=e.theme;return String(t.spacing.base/2)})),18,18);const Mo=function(e){var t=e.message,n=e.isGoldOnlySkin,o=e.onHide,r=t.type,i=t.text,s=t.stringPath,a=t.templateVariables,l=t.nickname,c=t.isPrivate,u=t.ialic:u,isSubscriber:g},y=!f&&Boolean(l),b=(0,Me.rT)(Ao.Iy,v);return(0,m.useEffect)((function(){var e=setTimeout((function(){return o(t)}),6e3);return function(){return clearTimeout(e)}}),[t]),h().createElement(Do,null,h().createElement(Lo,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ko(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ko(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},_),y&&h().createElement(No,null,h().createElement("span",null,l),g&&h().createElement(xo,{name:"crown",size:18,fr:void 0}),n&&b&&h().createElement(jo,null,wo.$[b.tierName])),h().createElement("span",null,i||(0,M.KF)(s,a))))};var Bo=n("./src/constants/Connection.js"),Uo=S.ZP.ul.withConfig({displayName:"MobileFullscreenMessageList__ListContainer",componentId:"sc-1k341tq-0"})(["height:","px;flex-direction:column-reverse;flex-wrap:nowrap;list-style-type:none;display:flex;overflow:hidden;mask-image:linear-gradient( rgba(0,0,0,0) 0%,rgba(0,0,0,1) ","%,rgba(0,0,0,1) ","%,rgba(0,0,0,0) 100% );&&{margin:0;padding:",";}"],(function(e){return 96+5*e.theme.spacing.base}),(function(e){var t=e.theme;return 4*t.spacing.base/(96+5*t.spacing.base)*100}),(function(e){var t=e.theme;return 100-2*t.spacing.base/(96+5*t.spacing.base)*100}),(function(e){var t=e.theme;return"".concat(4*t.spacing.base,"px ").concat(t.spacing.base,"px ").concat(t.spacing.base,"px ").concat(t.spacing.base,"px")})),Go=function(e){var t=e.messages,n=e.isGoldOnlySkin,o=e.show,r=o?t:[],i=(0,0,m.useState)(new Set(r.map((function(e){return e.identifier})))),u=(0,Ue.Z)(c,2),d=u[0],p=u[1];(0,m.useEffect)((feturn})))))}),[t,o]);var f=function(e){var t=e.ideer((function(e){return e.identifier!==t}))}))};return o?h().createElement(Uo,null,a.map((function(e){return h().createElement(Mo,{key:e.identifier,message:e,isGoldOnlySkin:n,onHide:f})}))):null};Go.displayName="MobileFullscreenMessageList";const Vo=(0,_e.Z)([Io.Z,A.Z,R.ZP],(function(e){return{messages:e.chat.messages,isGoldOnlySkin:e.connection.goldOnly,show:e.layout.layout===j.ZP.MOBILE&&e.connection.clientState===Bo.ZP.PLAYING&&e.layout.mobileClampedView}}))(Go);var Fo=n("./src/constants/DisconnectReasons.js"),Ho=n("./src/constants/Globals.js"),Yo=n("./src/utils/createAsyncComponent.tsx"),Wo=n("./node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js"),zo=n("webpack/sharing/consume/default/react-dom/react-dom"),qo=n.n(zo),Ko=n("./src/stores/VideoPipStore.js"),Xo=n("./src/constants/VideoConstants.js"),Qo=n("./src/components/videoclient/store/videoClient/VideoClientConstants.ts"),Jo=n("./node_modules/@video/video-client-web/index.js"),$o=n("./src/stores/ConfigStore.ts"),er=n("./src/components/videoclient/utils/index.ts"),tr=n("./node_modules/icf-react-components/components/IconButton/index.js"),nr=n.n(tr),or=S.ZP.div.withConfig({displayName:"BlurredOverlay__Overlay",componentId:"sc-1ya68cc-0"})(["display:flex;justify-content:center;align-items:center;flex-direction:column;position:absolute;top:0;z-index:999;background-position:center center;background-size:contain;background-repeat:no-repeat;height:100%;width:100%;cursor:pointer;"]),rr=(0,S.ZP)(nr()).withConfig({displayName:"BlurredOverlay__StyledIconButton",componentId:"sc-1ya68cc-1"})(["margin:0;padding:0;width:",";height:",";background-color:rgba(33,33,33,0.8);svg{width:",";height:",";}"],(function(e){return e.isDesktop?"90px":"65px"}),(function(e){return e.isDesktop?"90px":"65px"}),(function(e){return e.isDesktop?"45px":"30px"}),(function(e){return e.isDesktop?"45px":"30px"})),ir=S.ZP.div.withConfig({displayName:"BlurredOverlay__ViewFreeText",componentId:"sc-1ya68cc-2"})(['margin:4px 0;text-shadow:0.5px 0.5px 0 rgba(0,0,0,0.5);font-family:Roboto,-apple-system,BlinkMacSystemFont,"Helvetica Neue","Helvetica",sans-serif;font-size:',";font-weight:700;text-align:center;color:#f1f1f1;"],(function(e){return e.isDesktop?"44px":"32px"})),sr=S.ZP.div.withConfig({displayName:"BlurredOverlay__MemberLogin",componentId:"sc-1ya68cc-3"})(['margin:4px 47.5px 0;padding:10px;font-family:Roboto,-apple-system,BlinkMacSystemFx:100;"],(function(e){return e.isDesktop?"18px":"14px"}));const ar=(0,_e.Z)([R.ZP,De.Z],(function(e){var t=e.layout,n=e.user;return{isDesktop:t.isDesktop,isNonBillable:n.isNonBillable}}))((function(e){var t=e.isDesktop,n=e.isNonBillable,o=M.ZP.getString("view_free"),r=n?M.ZP.getString("upgrade_free"):M.ZP.getString("member_login"),i=function(){setTimeout((function(){return Yt.Z.dispatch({type:Wt.Z.ENTER_PAID_CLICK,data:{}})}))};return h().createElement(or,{onClick:function(){return i()}},h().createElement(rr,{"data-ta-locator":"Chat__togglePrivacy",name:"visibilityOff",fill:"#f1f1f1",isDesktop:t}),h().createElement(ir,{isDesktop:t},o),h().createElement(sr,{onClick:n?function(){return i()}:function(e){return function(e){e.stopPropagation(),(0,Me.Vj)(Be.Z.GOTO_LOGIN)}(e)},isDesktop:t},r))}));var lr={videoElement:{backgroundColor:"rgba(0, 0, 0, 0)"},root:{backgroundColor:"rgba(0, 0, 0, 0)"}},cr=S.ZP.div.withConfig({displayName:"Player__PlayerVideoContainer",componentId:"sc-14v58xz-0"})([""]);const ur=(0,_e.Z)([A.Z,go.Z,$o.Z,R.ZP,I.Z,De.Z,D.Z,ve.Z],(function(e){var t=e.connection,n=e.enableAudio,o=e.config,r=e.layout,i=e.overlay,s=e.user,a=e.videoClient,l=e.videoControls;return{audioPlaying:n.audioPlaying,blurThePlayer:a.blurThePlayer,cam2cam:a.cam2cam,goldOnly:t.goldOnly,isDesktop:r.isDesktop,isNonBillable:s.isNonBillable,maxGold:s.maxGold,overlay:i.overlay,owedAmount:s.owedAmount,owedString:s.owedString,platform:o.platform,player:a.player,playerUi:a.playerUi,redirectToConfirm:s.redirectToConfirm,shouldRefresh:l.shouldRefresh,started:a.started,streamType:t.streamType,twoFactorAuthenticationRequired:s.twoFactorAuthenticationRequired,userType:s.userType,videoQualityLevel:l.videoQualityLevel}}))((function(e){var t=e.audioPlaying,n=e.blurThePlayer,o=e.goldOnly,r=e.isDesktop,i=e.isNonBillable,s=e.maxGold,a=e.overlay,l=e.owedAmount,c=e.owedString,u=e.platform,d=e.player,p=e.playerUi,f=e.redirectToConfirm,g=e.shy=e.twoFactorAuthenticationRequired,b=e.userType,S=e.videoQualityLevel,E=(0,m.useState)(0),C=(0,Ue.Z)(E,2),Z=C[0],P=C[1],O=!a&&!v;(0,m.useEffect)((function(){S&&d&&(d.preferredLevel=S)}),[S]),(0,m.useEffect)((function(){_===Bo.ZP.STREAM_TYPE_EXCLUSIVE&&Z===Bo.ZP.STREAM_TYPE_PRIVATE&&setTimeout((function(){Yt.Z.dispatch({type:Qo.Z.LIVELY_VIDEO_DISPOSE_PLAYER,data:{reason:"Player disposed on transition from private to exclusive"}})}),0),P(_)}),[_]),(0,m.useEffect)((function(){t&&d&&!r&&setTimeout((function(){Yt.Z.dispatch({type:Qo.Z.LIVELY_VIDEO_UPDATE_VOLUME,data:{level:1}})}),0)}),[t]);return d&&p?h().createElement(Jo.PlayerUiContext.Provider,{value:p},n&&!(O||g)&&h().createElement(ar,null),h().createElement(cr,{onClick:function(){return function(){if(!(d&&d.localVideoPaused||(d&&!t&&setTimeout((function(){Yt.Z.dispatch({type:Wt.Z.ENABLE_AUDIO})}),0),A.Z.isRoomEnteringPaid()))){var e=Bo.NT.has(_);if(!(e&&s<=0)&&u!==Re.ZP.EXTERNAL_SITE_SHOW){var n=A.Z.isProjectXL()&&!A.Z.isRoomPrivateShow(),r=e||k.Z.isActive()||o||u===Re.ZP.STREAMFANS||n;setTimeout((function(){return Yt.Z.dispatch({type:r?Wt.Z.GIVE_GOLD_CLICK:Wt.Z.ENTER_PAID_CLICK,data:{owedAmount:l,owedString:c,userType:b,isNonBillable:i,redirectToConfirm:f,twoFactorAuthenticationRequired:y}})}))}}}()}},h().createElement(Jo.PlayerVideo,{adaptiveBlur:n,adaptiveBlurValues:{max:20,min:14},classes:lr})),!(er.G&&r)&&h().createElement(Jo.PlayerOverlayButton,null)):h().createElement(h().Fragment,null)}));var dr=S.ZP.div.withConfig({displayName:"Poster",componentId:"sc-1pptx6o-0"})(["position:absolute;top:0;z-index:0;background-position:center center;background-size:contain;background-repeat:no-repeat;height:100%;width:100%;"]),pr=(0,S.F4)(["0%{opacity:0.44;animation-timing-function:ease-in-out;}50%{opacity:0.5;animation-timing-function:ease-in-out;}100%{opacity:0.44;animation-timing-function:ease-in-out;}"]),mr=(0,S.F4)(["0%{opacity:0;animation-timing-function:ease-out;}100%{opacity:1;}"]),hr=(0,S.ZP)(dr).withConfig({displayName:"Poster__LoadingPosterContainer",componentId:"sc-1pptx6o-1"})(["background-color:black;"]),fr=S.ZP.div.withConfig({displayName:"Poster__LoadingPosterFadeIn",componentId:"sc-1pptx6o-2"})(["opacity:0;animation:"," 500ms;will-change:opacity;animation-fill-mode:both;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;"],mr),gr=S.ZP.div.withConfig({displayName:"Poster__LoadingPosterInner",componentId:"sc-1pptx6o-3"})(["background-image:url(",");opacity:0;animation:"," 3000ms;will-change:opacity;animation-fill-mode:both;animation-iteration-count:infinite;background-size:cover;background-repeat:no-repeat;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;"],(function(e){return e.poster}),pr),vr=function(e){var t=e.poster;return h().createElement(hr,null,h().createElement(fr,null,h().createElement(gr,{poster:t})))},_r=n("./src/components/common/Spinner.tsx"),yr=n("./node_modules/theming/dist/theming.esm.js");function br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?br(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(thonfig({displayName:"PanAndZoom__Viewport",componentId:"sc-1l4yiys-0"})(["position:absolute;width:100%;height:100%;"]),Tr=function(e,t){var n=e.x-t.x,o=e.y-t.y;return Math.sqrt(n*n+o*o)},Ir=function(e){var t=e.children,n=e.getStyle,r=(0,yr.Fg)();return(0,o.Z)("div",{"data-ta-locator":"PanAndZoom__ChildContainer",style:n(r.direction)},void 0,t)};Ir.propTypes={children:g().node.isRequired,getStyle:g().func.isRequired};var wr=function(e){(0,l.Z)(n,e);var t=Er(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e)).handleTouchStart=o.handleTouchStart.bind((0,a.Z)(o)),o.handleTouchMove=o.handleTouchMove.bind((0,a.Z)(o)),o.handleTouchEnd=o.ha=!1,o.hasSentZoomEvent=!1,o.state={oid 0},o}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.setState(n.getResetState(this.props))}},{key:"componentWillUnmount",value:function(){this.unregisterListeners()}},{key:"registerListeners",value:function(){this.unregisterListeners(),this.viewport.addEventListener("touchstart",this.handleTouchStart,{passive:!1}),this.viewport.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.viewport.addEventListener("touchend",this.handleTouchEnd,{passive:!1,capture:!0})}},{key:"unregisterListeners",value:function(){this.viewport.addEventListener("touchstart",this.handleTouchStart,{passive:!1}),this.viewportassive:!1,capture:!0})}},{key:"componentDidUpdate",value:function(e){this.props.enabled&&!e.enabled&&this.registerListeners(),!this.props.enabled&&e.enabled&&this.unregisterListeners()}},{key:"convertTouchToViewportCoordinates",value:function(e){var t=this.viewport.getBoundingClientRect();return{x:Math.round(e.clientX)-t.left,y:Math.round(e.clientY)-t.top}}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ltr";if(this.props.fillContainer)return{};var t=this.state,o=t.childX,r=t.childY,i=t.childScale,s=n.getChildSize(this.props),a="rtl"===e?-1:1;return{position:"absolute",transform:"translate(".concat(a*o,"px, ").concat(r,"px) scale(").concat(i,")"),transformOrigin:"top left",width:s.width,height:s.height,transition:this.state.currentState===Zr?"transfoiewportClickX=Math.round(e.clientX),this.lastViewportClickY=Math.round(e.clientY)}},{key:"convertTouchToPoint",value:function(e){return{x:Math.round(e.clientX),y:Math.round(e.clientY)}}},{key:"handlePinchStart",value:function(e,t){var n=this.convertTouchToPoint(e),o=this.convertTouchToPoint(t);this.startMidpoint=function(e,t){return{x:.5*(e.x+t.x),y:.5*(e.y+t.y)}}(n,o),this.startDistance=Tr(n,o),this.startScale=this.state.childScale}},{key:"handleTouchStart",value:function(e){if(this.props.enabled){this.setState({currentState:Cr});var t=e.touches;if(1===t.length){var n=(0,Ue.Z)(t,1)[0];this.handleTapStart(n)}if(2===t.length){var o=(0,Ue.Z)(t,2),r=o[0],i=o[1];this.handlePinchStart(r,i)}}}},{key:"moveChildWithinViewport",value:function(e,t){var n=this.state,o=n.childX+e,r=n.childY+t,i=this.clampToViewport(o,r),s=i.x,a=i.y;this.setState({childX:s,childY:a})}},{key:"clampToViewport",value:function(e,t){var o=this.props,r=o.viewportWidth,i=o.viewportHeight,s=n.getChildSize(this.props),a=this.state.childScale,l=Math.min(-s.width*a+r,0),c=Math.max(r-s.width*a,0),u=Math.min(-s.height*a+i,0),d=Math.max(i-s.height*a,0);return{x:(0,Me.uZ)(e,l,c),y:(0,Me.uZ)(t,u,d)}}},{key:"handlePanMove",value:function(e){if(this.props.enabled){this.hasSentTranslationEvent||(Yt.Z.dispatch({type:Wt.Z.PAN_AND_ZOOM_TRANSLATE}),this.hasSentTranslationEvent=!0);var t=Math.round(e.clientX),n=Math.round(e.clientY),o=t-this.lastViewportClickX,r=n-this.lastViewportClickY;this.moveChildWithinViewport(o,r),this.lastViewportClickX=t,this.lastViewportClickY=n}}},{key:"zoomTo",value:function(e,t){var n=this.state,o=n.childWidth,r=n.childHeight,i=n.childScale,s=n.childX,a=n.childY,l=o*i,c=r*i,u=s-(t.x-s)*((o*e-l)/l),d=a-(t.y-a)*((r*e-c)/c),p=this.clampToViewport(u,d),m=p.x,h=p.y;this.setState({childX:m,childY:h,childScale:e})}},{key:"handlePinchMove",value:function(e,t){this.hasSentZoomEvent||(Yt.Z.dispatch({type:Wt.Z.PAN_AND_ZOOM_SCALE}),this.hasSentZoomEvent=!0);var n=this.convertTouchToPoint(e),o=this.convertTouchToPoint(t),r=Tr(n,o),i=(0,Me.uZ)(this.startScale*(r/this.startDistance),1,3);this.zoomTo(i,this.startMidpoint)}},{key:"handleTouchMove",value:function(e){if(this.props.enabled){e.preventDefault();var t=e.touches,n=this.state.currentState;if(1===t.length&&(n===Cr||n===Pr)){this.setState({currentState:Pr});var o=(0,Ue.Z)(t,1)[0];this.handlePanMove(o)}if(2===t.length&&(n===Cr||n===Zr)){this.setState({currentState:Zr});var r=(0,Ue.Z)(t,2),i=r[0],s=r[1];this.handlePinchMove(i,s)}}}},{key:"handleTouchEnd",value:function(e){var t;this.state.currentState!==Cr&&(e.preventDefault(),e.stopProtiveElement)||void 0===t||t.blur()}},{key:"render",value:function(){var e=this;return h().createElement(Or,urn e.viewport=t}},(0,o.Z)(Ir,{getStyle:this.getStyle.bind(this)},void 0,this.props.children))}}],[{key:"getChildSize",value:function(e){return{width:e.childWidth,height:e.childHeight}}},{key:"getResetState",value:function(e){var t=e.viewportWidth,o=e.viewportHeight,r=n.getChildSize(e);return{childX:.5*(t-1*r.width),childY:.5*(o-1*r.height),childScale:1,childWidth:r.width,childHeight:r.height,currentState:Cr,viewportWidth:t,viewportHeight:o}}},{key:"getReadjustedState",value:function(e,t){var o=e.viewportWidth,r=e.viewportHeight,i=t.childWidth,s=t.childHeight,a=t.childX,l=t.childY,c=t.viewportWidth,u=t.viewportHeight,d=t.childScale,p=n.getChildSize(e),m=-i*d+c,h=-s*d+u,f=0!==m?(0,Me.uZ)((a-0)/(m-0)):.5,g=0!==h?(0,Me.uZ)((l-0)/(h-0)):.5;return{childX:f*(o-p.width*d),childY:g*(r-p.height*d),childWidth:p.width,childHeight:p.height,currentState:Cr,viewportWidth:o,viewportHeight:r}}},{key:"getDerivedStateFromProps",value:function(e,t){if(e.enabled!==t.enabled)return Sr(Sr({},t),{},{enabled:e.enabled},n.getResetState(e));var o=n.getChildSize(e);if(o.width!==t.childWidth||o.height!==t.childHeight)return Sr(Sr({},t),n.getReadjustedState(e,t));var r=e.viewportWidth,i=e.viewportHeight;return r!==t.viewportWidth||i!==t.viewportHeight?Sr(Sr({},t),n.getResetState(e,t)):null}}]),n}(m.PureComponent);wr.defaultProps={enabled:!1,childWidth:320,childHeight:230,fillHeight:!0,fillContainer:!1},wr.propTypes={children:g().node,enabled:g().bool,childWidth:g().number.isRequired,childHeight:g().number.isRequired,viewportWidth:g().number,viewportHeight:g().number,fillHeight:g().bool,fillContainer:g().bool};var Ar=(0,S.ZP)(_r.Z).withConfig({displayName:"PlayerWrapper__StyledSpinner",componentId:"sc-qtom8t-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;"]);const Rr=(0,_e.Z)([R.ZP,I.Z,A.Z,T.Z,D.Z,ve.Z],(function(e){var t=e.connection,n=e.layout,o=e.overlay,r=e.performer,i=e.videoClient,s=e.videoControls;return{chatInputActive:n.chatInputActive,clientState:t.clientState,isLandscape:n.isLandscape,isDesktop:n.isDesktop,mobileClampedView:n.mobileClampedView,overlay:o.overlay,poster:r.snapshot,player:i.player,playerUi:i.playerUi,shouldRefresh:s.shouldRefresh,started:i.started,videoClientUnmount:i.videoClientUnmount,videoViewBoxWidth:n.videoViewBoxWidth,videoViewBoxHeight:n.videoViewBoxHeight,videoViewportWidth:n.videoViewportWidth,videoViewportHeight:n.videoViewportHeight,videoViewportHeightAdjustment:n.videoViewportHeightAdjustment,vc:i.videoClient}}))((function(e){var t,n=e.assetPath,o=e.chatInputActive,r=e.clientState,i=e.fillContainer,s=e.isLandscape,a=e.manifestUrl,l=e.mobileClampedView,c=e.overlay,u=e.player,d=e.playerUi,p=e.shouldRefresh,f=e.started,g=e.poster,v=e.isDesktop,_=e.videoClientUnmount,y=e.videoViewBoxHeight,b=e.videoViewBoxWidth,S=e.videoViewportHeight,E=e.videoViewportHeightAdjustment,C=e.videoViewportWidth,Z=e.vc,P=R.ZP.mobileClampedViewAllowed()&&l,O=f&&!o&&(P||E>0),T=(0,m.useState)(""),I=(0,Ue.Z)(T,2),w=I[0],A=I[1],k=!c&&!f;return(0,m.useEffect)((function(){_||(""!==a&&a!==w?(A(a),setTimeout((function(){Yt.Z.dispatch({type:Qo.Z.LIVELY_VIDEO_SET_PLAYER_UI,data:{manifestUrl:a,assetPath:n}})}),0)):null!==d&&null!==u||""===a||c||4===r?c&&(d||u)&&setTimeout((function(){Yt.Z.dispatch({type:Qo.Z.LIVELY_VIDEO_DISPOSE_PLAYER,data:{reason:"Player disposed because an overlay is present"}})}),0):setTimeout((function(){Yt.Z.dispatch({type:Qo.Z.LIVELY_VIDEO_SET_PLAYER_UI,data:{manifestUrl:a,assetPath:n}})}),0))}),[u,d,Z,a,c,_]),(0,m.useEffect)((function(){p&&setTimeout((function(){Yt.Z.dispatch({type:Qo.Z.LIVELY_VIDEO_REFRESH_PLAYER,data:{manifestUrl:a,assetPath:n}})}),0)}),[p]),(0,m.useEffect)((function(){4===r&&setTimeout((function(){Yt.Z.dispatch({type:Qo.Z.LIVELY_VIDEO_DISPOSE_PLAYER,data:{reason:"Player disposed because client state is disconnected."}})}),0)}),[r]),u&&d?h().createElement("div",{onContextMenu:function(e){return e.preventDefault()}},(k||p)&&h().createElement("div",null,(Boolean(!v&&g)||4===r)&&h().createElement(vr,{poster:g}),!(null!==(t=d.videoElement.current)&&void 0!==t&&t.paused)&&h().createElement(Ar,null)),h().createElement(wr,{enabled:O,fillContainer:i,childWidth:b,childHeight:y,viewportWidth:C,viewportHeight:S,fillHeight:!s},h().createElement(ur,null))):h().createElement(h().Fragment,null)}));const kr=(0,_e.Z)([D.Z],(function(e){return{vc:e.videoClient.videoClient}}))((function(e){var t=e.assetPath,n=e.fillContainer,o=e.manifestUrl,r=e.vc;return(0,m.useEffect)((function(){r||setTimeout((function(){Yt.Z.dispatch({type:Qo.Z.LIVELY_VIDEO_CREATE_CLIENT})}),0)}),[r]),(0,m.useEffect)((function(){return setTimeout((function(){Yt.Z.dispatch({type:Qo.Z.LIVELY_VIDEO_HANDLE_UNMOUNT,data:!1})}),0),function(){setTimeout((function(){Yt.Z.dispatch({type:Qo.Z.LIVELY_VIDEO_HANDLE_UNMOUNT,data:!0})}),0)}}),[]),null!==r?h().createElement(h().Fragment,null,h().createElement(Rr,{fillContainer:n,assetPath:t,manifestUrl:o})):h().createElement(h().Fragment,null)}));function Dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Lr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var Nr=function(e){(0,l.Z)(n,e);var t=Lr(n);function n(){var e;(0,i.Z)(this,n);for(var s]=arguments[s];return e=t.call.apply(t,[this].concat(r)),(0,d.Z)((0,a.Z)(e),"videoDockRef",void 0),(0,d.Z)((0,a.Z)(e),"setVideoDockRef",(function(t){e.videoDockRef=t,e.moveVideoHere()})),(0,d.Z)((0,a.Z)(e),"moveVideoHere",(function(){var t=e.videoDockRef,n=e.context.videoContainerElement;t&&n!==t&&e.videoDockRef&&e.videoDockRef.appendChild(n)})),e}return(0,s.Z)(n,[{key:"shouldComponentUpdate",value:function(e){return je.Z.debug("VideoPlayerContainer shouldComponentUpdate"),e.videoLocation!==this.props.videoLocation?(je.Z.debug("VideoPlayerContainer shouldComponentUpdate, videoLocation"),!0):e.manifestUrl!==this.props.manifestUrl?(je.Z.debug("VideoPlayerContainer shouldComponentUpdate, manifestUrl"),!0):e.clientState!==this.props.clientState?(je.Z.debug("VideoPlayerContainer shouldComponentUpdate, clientState"),!0):e.poster!==this.props.poster?(je.Z.debug("VideoPlayerContainer shouldComponentUpdate, poster"),!0):e.backupPoster!==this.props.backupPoster?(je.Z.debug("VideoPlayerContainer shouldComponentUpdate, backupPoster"),!0):e.fillContainer!==this.props.fillContainer&&(je.Z.debug("VideoPlayerContainer shouldComponentUpdate, fillContainer"),!0)}},{key:"componentDidUpdate",value:function(e){this.props.videoLocation===Xo.Z.LOCATION.DEFAULT&&this.moveVideoHere()}},{key:"componentDidMount",value:function(){setTimeout((function(){Yt.Z.dispatch({type:Wt.Z.MOVE_VIDEO_AVAILABILITY,data:{available:!0}})}))}},{key:"componentWillUnmount",value:function(){setTimeout((function(){Yt.Z.dispatch({type:Wt.Z.MOVE_VIDEO_AVAILABILITY,data:{available:!1}})}))}},{key:"render",value:function(){var e=(0,r.Z)({},((0,Wo.Z)(this.props),this.props));return h().createElement(m.Fragment,null,h().createElement("div",{ref:this.setVideoDockRef}),qo().createPortal(h().createElement(kr,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),this.context.videoContainerElement))}}]),n}(m.Component);(0,d.Z)(Nr,"contextTypes",{document:g().any,videoContainerElement:g().instanceOf(HTMLDivElement).isRequired});const xr=(0,_e.Z)([A.Z,Ko.Z,T.Z],(function(e){var t=e.connection,n=e.videoPip,o=e.performer;return{manifestUrl:t.manifestUrl,clientState:t.clientState,poster:o.snapshot,backupPoster:o.biopicLarge,fillContainer:n.videoLocation!==Xo.Z.LOCATION.DEFAULT,videoLocation:n.videoLocation}}))(Nr);var jr,Mr,Br,Ur,Gr,Vr,Fr;function Hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var Yr=(0,Yo.Z)((function(){return n.e(8).then(n.bind(n,"./src/components/privatefeatures/StartCam2CamButton.js"))}),{displayName:"StartCam2CamButton"}),Wr=j.w1.RESIZE_DRAGGER_HEIGHT,zr=(0,S.ZP)(x.KD).withConfig({displayName:"VideoDisplay__VideoDisplayContainer",componentId:"sc-72p4b8-0"})(["background-color:",";color:white;position:relative;will-change:height;width:100%;height:100%;overflow:hidden;"],(function(e){return e.isDisconnected?"black":"#161520"})),qr=(0,S.ZP)(O()).attrs({size:34}).withConfig({displayName:"VideoDisplay__ToggleMobileClampedViewportButton",componentId:"sc-72p4b8-1"})(["flex:0;position:relative;top:","px;left:","px;filter:drop-shadow(0 0.1rem 0.2rem rgba(0,0,0,0.8));margin:-","px ","px ","px 0;"],5,5,5,(function(e){return e.theme.spacing.base}),(function(e){return e.theme.spacing.base})),Kr=(0,S.ZP)(O()).attrs({size:24}).withConfig({displayName:"VideoDisplay__MobileClampedViewChatButton",componentId:"sc-72p4b8-2"})(["flex:0;filter:drop-shadow(0 0.1rem 0.2rem rgba(0,0,0,0.8));margin:","px;"],(function(e){return e.theme.spacing.base})),Xr=S.ZP.div.withConfig({displayName:"VideoDisplay__OverlayContainer",componentId:"sc-72p4b8-3"})(["background-color:transparent;position:absolute;z-index:2;display:flex;flex-flow:column;flex-wrap:nowrap;height:100%;width:100%;pointer-events:none;& > *{pointer-events:auto;}"]),Qr=S.ZP.div.withConfig({displayName:"VideoDisplay__UpperRightControls",componentId:"sc-72p4b8-4"})(["position:absolute;top:0px;"," transition:transform 0.5s ease;display:flex;flex-flow:row-reverse;flex-wrap:nowrap;z-index:1;"],(0,Z.Z)(jr||(jr=(0,p.Z)(["\n    right: 0px;\n  "])))),Jr=S.ZP.div.withConfig({displayName:"VideoDisplay__UpperControls",componentId:"sc-72p4b8-5"})(["width:100%;position:absolute;top:0px;"]),$r=S.ZP.div.withConfig({displayName:"VideoDisplay__BottomControls",componentId:"sc-72p4b8-6"})(["width:100%;position:absolute;bottom:0px;display:flex;align-items:flex-end;flex-direction:row-reverse;"]),ei=S.ZP.div.withConfig({displayName:"VideoDisplay__BottomRightButtons",componentId:"sc-72p4b8-7"})(["flex:0;display:flex;align-items:flex-end;flex-direction:column-reverse;&& > *{flex-basis:auto;}"]),ti=S.ZP.div.withConfig({displayName:"VideoDisplay__BottomMiddle",componentId:"sc-72p4b8-8"})(["flex:1;min-width:0;display:flex;align-items:stretch;flex-direction:column-reverse;"]),ni=S.ZP.div.withConfig({displayName:"VideoDisplay__BottomLeftButtons",componentId:"sc-72p4b8-9"})(["flex:0;display:flex;align-items:flex-start;flex-direction:column-reverse;"]),oi=S.ZP.div.withConfig({displayName:"VideoDisplay__ResizeDragger",componentId:"sc-72p4b8-10"})(["position:absolute;"," width:calc(100% - 100px);height:","px;"],(0,Z.Z)(Mr||(Mr=(0,p.Z)(["\n    left: 50px;\n  "]))),Wr),ri=S.ZP.div.withConfig({displayName:"VideoDisplay__ResizeDraggerContent",componentId:"sc-72p4b8-11"})(["position:absolute;bottom:8px;width:100%;height:24px;background-color:rgba(0,0,0,0.4);border-radius:2px;text-align:center;font-size:12px;line-height:24px;user-select:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-transform:uppercase;"," opacity:1;transition:opacity 0.25s;",""],(function(e){return e.small&&"\n    left: calc(160px + 1rem);\n    width: calc(100% - 160px - 1rem);\n    font-weight: 100;\n    font-size: 10px;\n  "}),(function(e){return e.isInactive&&"\n    opacity: 0;\n    transition: opacity 5s;\n    transition-timing-function: cubic-bezier(1,0,.94,0);\n  "})),ii=function(){R.ZP.getState().fullscreen&&Yt.Z.dispatch({type:Wt.Z.EXIT_FULLSCREEN,data:{}})},si=function(e){e.preventDefault(),ii(),Yt.Z.dispatch({type:Wt.Z.DISCONNECT,data:[Fo.Z.USER_DISCONNECT,"User manually disconnected."]})},ai=function(e){(0,l.Z)(n,e);var t=Hr(n);function n(e,o){var r,s,l,c;(0,i.Z)(this,n),c=t.call(this,e),(0,d.Z)((0,a.Z)(c),"enterClampedView",(function(){var e,t,n;je.Z.loms({eventname:"MobileViewportResizeClickV1",enabled:!0});var o=C()(window.navigator.userAgent);(null!==(e=o.os)&&void 0!==e&&null!==(t=e.name)&&void 0!==t&&t.toLowerCase().includes("ios")&&"mobile"===(null===(n=o.device)||void 0===n?void 0:n.type)||Ho.Z.DEBUG)&&c.setState({showFullscreenChat:!0}),Yt.Z.dispatch({type:Wt.Z.ENTER_CLAMPED_VIEW})})),(0,d.Z)((0,a.Z)(c),"exitClampedView",(function(){je.Z.loms({eventname:"MobileViewportResizeClickV1",enabled:!1}),Yt.Z.dispatch({type:Wt.Z.EXIT_CLAMPED_VIEW})})),(0,d.Z)((0,a.Z)(c),"focusChatInput",(function(){Yt.Z.dispatch({type:Wt.Z.CHAT_INPUT_FOCUSED,data:{focused:!0,preventScroll:!0}}),Yt.Z.dispatch({type:Wt.Z.FULLSCREEN_CHAT_CLICKED})})),(0,d.Z)((0,a.Z)(c),"handleConnectionStoreUpdate",(function(){var e=A.Z.getState().clientState,t=c.state.isPlaying,n=e===Bo.ZP.PLAYING,o=e!==Bo.ZP.PLAYING,r=c.getShowPrivateFeatures();n===c.state.isPlaying&&o===c.state.isDisconnected&&r===c.state.showPrivateFeatures||c.setState({isPlaying:n,isDisconnected:o,showPrivateFeatures:r}),!t&&n&&(c.showMenuBarForNSeconds(5),c.lazyDisableLoadingDragger(),c.setState({isLoadingDragger:!0})),t&&!n&&((0,Yt._)({type:Wt.Z.VIDEO_DISPLAY_HEIGHT_ADJUSTMENT,data:{adjustment:0}}),c.setState({resizeDragPosition:c.getResizeDragDefaultPosition().top}))})),(0,d.Z)((0,a.Z)(c),"getShowPrivateFeatures",(function(){var e=c.props.isProjectXL&&!c.props.isRoomPrivateShow;if(c.props.isDesktop||!c.props.mobileCam2Cam||e)return!1;var t=A.Z.getState(),n=t.clientState,o=t.started,r=t.streamType,i=n===Bo.ZP.PLAYING||n===Bo.ZP.PAUSED&&!T.Z.getState().onBreak;return o&&i&&r!==Bo.ZP.STREAM_TYPE_GUEST})),(0,d.Z)((0,a.Z)(c),"getResizeDragBounds",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.props,t=e.innerWidth/e.videoAspectRatio;return{top:t-Wr,bottom:e.maxVideoViewportHeight-Wr}})),(0,d.Z)((0,a.Z)(c),"getResizeDragDefaultPosition",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.props,t=e.videoViewportHeight-e.videoViettom:e.maxVideoViewportHeight-Wr}})),(0,d.Z)((0,a.Z)(c),"onMouseMove",(function(){c.showMenuBarForNSeconds(3)})),(0,d.Z)((0,a.Z)(c),"onMouseOut",(function(){c.showMenuBarForNSeconds(3)})),(0,d.Z)((0,a.Z)(c),"showMenuBarForNSeconds",(function(e){c.setState({showMenuBar:!0}),clearTimeout(c.showMenuBarTimeout),c.showMenuBarTimeout=setTimeout((function(){c.setState({showMenuBar:!1})}),1e3*e)})),(0,d.Z)((0,a.Z)(c),"onVisibilityChange",(function(e){c.props.isDesktop&&setTimeout((function(){Yt.Z.dispatch({type:Wt.Z.VIDEO_DISPLAY_VISIBILITY,data:{isVisible:e}})}))})),(0,d.Z)((0,a.Z)(c),"handleDragStart",(function(){c.setState({isDragging:!0})})),(0,d.Z)((0,a.Z)(c),"handleDrag",(function(e,t){t.y!==c.state.resizeDragPosition&&(c.setState({resizeDragPosition:t.y}),Yt.Z.dispatch({type:Wt.Z.VIDEO_DISPLAY_HEIGHT_ADJUSTMENT,data:{(0,d.Z)((0,a.Z)(c),"lazyDisableLoadingDragger",(function(){clearTimeout(c.loadingDraggerTimeout),c.loadingDraggerTimeout=setTimeout((function(){c.setState({isLoadingDragger:!1})}),250)}));var u=A.Z.getState().clientState,p=u===Bo.ZP.PLAYING,m=u!==Bo.ZP.PLAYING,h=o.layout!==j.ZP.DESKTOP&&null!==(r=null===(s=C()(window.navigator.userAgent).os)||void 0===s||null===(l=s.name)||void 0===l?void 0:l.toLowerCase().includes("android"))&&void 0!==r&&r;return c.state={showPrivateFeatures:c.getShowPrivateFeatures(),showMenuBar:!1,resizeDragPosition:c.getResizeDragDefaultPosition(e).top,isPlaying:p,isDisconnected:m,isLoadingDragger:!0,showhandleConnectionStoreUpdate)}},{key:"componentWillUnmount",value:function(){this.connectionToken.remove(),clearTimeout(this.showMenuBarTimeout),clearTimeout(this.loadingDraggerTimeout)}},{key:"componentDidUpdate",value:function(e){this.props.isDesktop!==e.isDesktop&&this.setState({showPrivateFeatures:this.getShowPrivateFeatures()}),this.props.videoViewportHeight!==e.videoViewportHeight&&this.setState({resizeDragPosition:this.props.videoViewportHeight-Wr})}},{key:"render",value:function(){var e=this.props,t=e.isDesktop,n=e.children,i=e.inClampMode,s=e.chatInputActive,a=e.modalOpen,l=e.overlay,c=e.fullscreen,u=e.isLandscape,d=e.isPreGoldShow,p=this.state,f=p.isPlaying,g=p.isDisconnected,v=p.showPrivateFeatures,y=p.showMenuBar,S=p.resizeDragPosition,E=p.isDragging,C=p.isLoadingDragger,Z=p.showFullscreenChat,P=this.context,O=P.platform,T=P.layout,I=!(a||l&&t),w=O===Re.ZP.SCP&&T===j.ZP.DESKTOP,A=!I&&g&&!a&&l&&w,k=this.getResizeDragBounds(),D=this.getResizeDragDefaultPosition().top,x=R.ZP.mobileClampedViewAllowed(),B=T===j.ZP.MOBILE&&!u,U=i||s;return(0,o.Z)(b(),{onChange:this.onVisibilityChange,partialVisibility:!0,offset:{top:0}},void 0,(0,o.Z)(zr,{onMouseMove:this.onMouseMove,onMouseOut:this.onMouseOut,isDisconnected:g},void 0,h().createElement(xr,(0,r.Z)({key:"VideoDisplay",overlay:l,isFullscreen:c},this.props)),(0,o.Z)(Xr,{},void 0,l&&(0,o.Z)(mo,{modalOpen:a,overlay:l},"overlay"),(0,o.Z)(Qr,{},void 0,I&&(0,o.Z)(L.Z,{action:si,buttonId:"VideoHeaderDisconnectButton",title:M.ZP.getString("disconnect_button")},"disconnect"),A&&(0,o.Z)(L.Z,{buttonId:"VideoHeaderExitButton",title:M.ZP.getString("exit_button"),onClick:function(){(0,Me.Vj)(Be.Z.CLOSE_CLIENT)}},"close"),c&&(0,o.Z)(N.Z,{buttonId:"VideoHeaderExitFullscreen",glyph:"fullscreenExit",action:ii,title:M.ZP.getString("video_exit_fullscreen"),tooltipPlacement:"bottom"},"exitFullscreen")),(0,o.Z)(Jr,{},void 0,f&&(0,o.Z)(m.Fragment,{},"is-playing",(0,o.Z)(Te,{visible:y}),Br||(Br=(0,o.Z)(Zo,{})))),(0,o.Z)($r,{},void 0,(0,o.Z)(ei,{},void 0,f&&x&&!i&&(0,o.Z)(qr,{"data-ta-locator":"VideoDisplay__EnterClampedState",fill:"white",name:"fullscreen",onClick:this.enterClampedView},"enter-clamped"),f&&i&&(0,o.Z)(qr,{"data-ta-locator":"VideoDisplay__ExitClampedState",name:"fullscreenExit",onClick:this.exitClampedView,fill:"white"},"exit-clamped"),f&&i&&Z&&(0,o.Z)(Kr,{name:"chatBubble",fill:"white",onClick:this.focusChatInput},"chat-clamped"),v&&i&&Z&&!this.props.cam2cam&&(Ur||(Ur=(0,o.Z)(Yr,{"data-ta-locator":"PrivateFeatures__Cam2CamButton",transparentBg:!0}))),v&&(!i||!Z)&&!this.props.cam2cam&&u&&(Gr||(Gr=(0,o.Z)(Yr,{"data-ta-locator":"PrivateFeatures__Cam2CamButton",transparentBg:!0})))),(0,o.Z)(ti,{},void 0,f&&(0,o.Z)(de,{showProgress:t},"gold-show-info"),Z&&(Vr||(Vr=(0,o.Z)(Vo,{})))),(0,o.Z)(ni,{},void 0,v&&(!i||!Z)&&!this.props.cam2cam&&!u&&(Fr||(Fr=(0,o.Z)(Yr,{"data-ta-locator":"PrivateFeatures__Cam2CamButton",transparentBg:!0}))))),f&&B&&!U&&(0,o.Z)(_(),{axis:"y",onStart:this.handleDragStart,onDrag:this.handleDrag,onStop:this.handleDragStop,defaultPosition:{x:0,y:D},position:{x:0,y:S},bounds:k},void 0,h().createElement(oi,{ref:this.lazyDisableLoadingDragger},(0,o.Z)(ri,{isInactive:!E&&!C,small:d},void 0,d?M.ZP.getString("drag_to_resize.short"):M.ZP.getString("drag_to_resize.long")))),n)))}}]),n}(m.Component);(0,d.Z)(ai,"displayName","VideoDisplay"),ai.propTypes={inVoiceChat:g().bool,isDesktop:g().bool,source:g().string,assetPath:g().string,mobileCam2Cam:g().bool,children:g().node,videoViewportHeight:g().number,maxVideoViewportHeight:g().number,videoViewportHeightAdjustment:g().number,inClampMode:g().bool,chatInputActive:g().bool,ctaHeight:g().number,modalOpen:g().bool,overlay:g().string,fullscreen:g().bool,isLandscape:g().bool,isPreGoldShow:g().bool,cam2cam:g().bool,isProjectXL:g().bool,isRoomPrivateShow:g().bool},ai.defaultProps={isDesktop:!1,mobileCam2Cam:!1,children:null,modalOpen:!1,overlay:null,fullscreen:!1,isLandscape:!1,isPreGoldShow:!1,isProjectXL:!1,isRoomPrivateShow:!1},ai.contextTypes={platform:g().oneOf(Object.values(Re.ZP)),layout:g().oneOf([j.ZP.DESKTOP,j.ZP.TABLET,j.ZP.MOBILE])};const li=(0,_e.Z)([R.ZP,w.Z,I.Z,k.Z,D.Z,A.Z],(function(e){return{videoViewportHeight:e.layout.videoViewportHeight,maxVideoViewportHeight:e.layout.maxVideoViewportHeight,videoViewportHeightAdjustment:e.layout.videoViewportHeightAdjustment,inClampMode:e.layout.mobileClampedView,chatInputActive:e.layout.chatInputActive,ctaHeight:e.layout.ctaHeight,fullscreen:e.layout.fullscreen,isLandscape:e.layout.isLandscape,videoAspectRatio:e.layout.videoAspectRatio,innerWidth:e.layout.innerWidth,modalOpen:Boolean(e.modal.modal),overlay:e.overlay.overlay,isPreGoldShow:k.Z.isPreGoldShow(),cam2cam:e.videoClient.cam2cam,isProjectXL:A.Z.isProjectXL(),isRoomPrivateShow:A.Z.isRoomPrivateShow()}}))(ai)},"./src/components/videostore/BioVideosContainerAsync.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n("./src/utils/createAsyncComponent.tsx"),r=n("./src/utils/forPlatforms.tsx"),i=n("./src/constants/Platforms.ts"),s=(0,o.Z)((function(){return n.e(9).then(n.bind(n,"./src/components/videostore/BioVideosContainer.js"))}),{displayName:"BioVideosContainer"});const a=(0,r.Z)({exclude:[i.ZP.BLACKLABEL,i.ZP.EXTERNAL_SITE_SHOW]})(s)},"./src/constants/Actions.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={LOAD_CONFIG:"LoadConfig",CONNECT:"Connect",DISCONNECT:"Disconnect",USER_GIVE_GOLD:"UserGiveGold",USER_QUEUE_GOLD:"UserQueueGold",START_PLAYBACK:"StartPlayback",GIVE_GOLD_CLICK:"GiveGoldClick",CLOSE_MODAL:"CloseModal",REQUEST_PAYOFF:"RequestPayoff",ENTER_PAID_CLICK:"EnterPaidClick",USER_REQUEST_PRIVATE:"UserRequestPrivate",USER_PLEDGE_GOLD:"UserPledgeGold",FAVORITE_UPDATE:"FavoriteUpdate",CHAT_SENDMESSAGE:"ChatSendMessage",CHAT_INPUT_FOCUSED:"ChatFocused",VIDEO_CONNECT:"VideoConnect",VIDEO_DISCONNECT:"VideoDisconnect",VIDEO_PAUSE:"VideoPause",VIDEO_START:"VideoStart",VIDEO_PLAYING:"VideoPlaying",VIDEO_REFRESH:"VideoRefresh",RESET:"Reset",SWITCH_SECTION:"SwitchSection",TOGGLE_SECTION:"ToggleSection",PREVIOUS_SECTION:"PreviousSection",NEXT_SECTION:"NextSection",TOGGLE_CHAT_PRIVACY:"ToggleChatPrivacy",HIDE_SECTIONS:"HideSections",DISPLAY_MESSAGE:"DisplayMessage",REMOVE_CHAT_MESSAGE:"RemoveChatMessage",AUDIO_ENABLED:"AudioEnabled",ENABLE_AUDIO:"EnableAudio",SESSION_ACCEPTED:"SessionAccepted",NO_VALID_DRIVERS:"NoValidDrivers",LOCK_OVERLAY:"LockOverlay",FAN_MODE:"FanMode",OPEN_GOLD_MODAL:"OpenGoldModal",SHOW_GOLD_MENU_CHAT_UPSELL:"ShowGoldMenuChatUpsell",SHOW_GOLD_MENU_ITEM_CHAT_UPSELL:"ShowGoldMenuItemChatUpsell",LOAD_SKIN_CONFIG:"LoadSkinConfig",BROWSER_MAY_CLOSE:"BrowserMayClose",BROWSER_CLOSE:"BrowserClose",CLOSING_CLIENT:"ClosingClient",HIDE_THANKS_SPEND_MESSAGE:"HideThanksSpendMessage",PRE_RPC_CALL:"PreRpcCall",MEMBER_SERVER:"MemberServer",SET_LIVELY_ENDPOINT:"SetLivelyEndpoint",MODAL_CLOSE_BUTTON_HIDE:"ModalCloseButtonHide",MODAL_CLOSE_BUTTON_SHOW:"ModalCloseButtonShow",ALLOW_EXCLUSIVE_UPGRADE_IF_ELIGIBLE:"AllowExclusiveUpgradeIfEligible",SET_THROTTLE_TIME:"SetThrottleTime",FEDERATED_MODULE_FALLBACK_MAPPINGS:"FederatedModuleFallbackMappings",SPIN_GOLD_CLICK:"SpinGoldClick",SPIN_GOLD_CLOSE:"SpinGoldClose",SPIN_GOLD_SPIN:"SpinGoldSpin",SHOW_SPIN_GOLD_CHAT_UPSELL:"ShowSpinGoldChatUpsell",CAM2CAM_CLICK:"Cam2CamClick",CAM2CAM_CONFIRM:"Cam2CamConfirm",CAM2CAM_CONFIRM_END:"Cam2CamConfirmEnd",CAM2CAM_DEVICE_CHECK:"Cam2CamDeviceCheck",CAM2CAM_USER_MEDIA_DETECT:"Cam2CamUserMediaDetect",CAM2CAM_PRIV_CALL_START:"Cam2CamPrivCallStart",CAM2CAM_PRIV_CALL_DONE:"Cam2CamPrivCallDone",CAM2CAM_PRIV_CALL_FATAL_ERR:"Cam2CamPrivCallFatalErr",CAM2CAM_PRIV_CALL_REJECTED:"Cam2CamPrivCallRejected",CAM2CAM_PRIV_CALL_TIMEOUT:"Cam2CamPrivCallTimeout",MANIFEST_URL_RECEIVED:"ManifestUrl",PERFORMER_BIO_INFO:"PerformerBioInfo",PERFORMER_GOLD_MENU:"PerformerGoldMenu",PERFORMER_SUBSCRIPTION_DISCOUNT:"PerformerSubscriptionDiscount",REQUEST_PERFORMER_NICKNAMES:"RequestPerformerNicknames",SET_PERFORMER_NICKNAME:"SetPerformerNickname",REQUEST_USER_TAGS:"RequestUserTags",USER_TAGS:"UserTags",REMOVE_USER_TAG:"RemoveUserTag",MUTE:"Mute",SET_VOLUME:"SetVolume",WONDER_MANIFEST:"WonderManifest",PICK_STREAM:"PickStream",MOVE_VIDEO_AVAILABILITY:"MoveVideoAvailability",VIDEO_LOCATION_AVAILABILITY:"VideoLocationAvailability",MOVE_VIDEO:"MoveVideo",VIDEO_DISPLAY_VISIBILITY:"VideoDisplayVisibility",USER_DISMISSED_PIP:"UserDismissedPip",PIP_VISIBILITY:"PipVisibility",MOBILE_DRAGGING_TO_PIP:"MobileDraggingToPip",STREAM_AVAILABLE_FOR_PIP:"StreamAvailableForPip",DESKTOP_PIP_DRAG_OFFSET:"DesktopPipDragOffset",WINDOW_RESIZE:"WindowResize",VIDEO_DIMENSIONS_LOADED:"VideoDimensionsLoaded",CTA_HEIGHT_CHANGE:"CtaHeightChange",CHAT_INPUT_HEIGHT_CHANGE:"ChatInputHeightChange",SIDEBAR_ITEM_VISIBLITY:"SidebarItemVisiblity",SIZE_BIO_INFO:"SizeBioInfo",CLIENT_ROOT_BOUNDING_RECT:"ClientRootBoundingRect",ACTIVE_TAB:"ActiveTab",ACTIVE_GOLD_MENU_TAB:"ActiveGoldMenuTab",APPEND_EMOJI:"AppendEmoji",UPDATE_CHAT_MESSAGE:"UpdateChatMessage",TOGGLE_CHAT:"ToggleChat",INCREASE_FONT_SIZE:"IncreaseFontSize",DECREASE_FONT_SIZE:"DecreaseFontSize",OPEN_COMPLIANCE_MODAL:"OpenComplianceModal",OPEN_TERMS_MODAL:"OpenTermsModal",SET_MESSENGER_ENABLED:"SetMessengerEnabled",POST_PAID_SUCCESS_MODAL:"PostPaidSuccessModal",REQUEST_MAX_GOLD:"RequestMaxGold",MAX_GOLD:"MaxGold",ENTER_FULLSCREEN:"EnterFullscreen",EXIT_FULLSCREEN:"ExitFullscreen",ENTER_CLAMPED_VIEW:"EnterMobileClampedView",EXIT_CLAMPED_VIEW:"ExitMobileClampedView",PAN_AND_ZOOM_TRANSLATE:"PanAndZoomTranslate",PAN_AND_ZOOM_SCALE:"PanAndZoomScale",XMENT_REQUEST:"XmentRequest",XMENT_UPDATE:"XmentUpdate",SHOW_QUICK_TIP_CONSENT_MODAL:"ShowQuickTipShowConsentModal",QUICK_TIP_CONSENT:"QuickTipConsent",SHOW_MOBILE_QUICK_TIP_CONSENT_MODAL:"ShowMobileQuickTipConsentModal",SHOW_QUICK_TIP_CUSTOM_VALUE_MODAL:"ShowQuickTipCustomValueModal",QUICK_TIP_SET_CUSTOM_VALUE:"QuickTipSetCustomValue",UPDATE_PREBILL_STATUS:"UpdatePrebillStatus",SET_STATS_BUCKET:"SetStatsBucket",FORCE_BILLING_INFO_UPDATE:"ForceBillingInfoUpdate",PERFORMER_SUBSCRIBERS_INFO:"PerformerSubscribersInfo",PERFORMER_SUBSCRIBERS_SUB_SUCCESS:"PerformerSubscribersSubSuccess",PERFORMER_SUBSCRIBERS_SUB_FAILURE:"PerformerSubscribersSubFailure",PERFORMER_SUBSCRIBERS_UNSUB_SUCCESS:"PerformerSubscribersUnSubSuccess",PERFORMER_SUBSCRIBERS_UNSUB_FAILURE:"PerformerSubscribersUnSubFailure",PERFORMER_SUBSCRIBERS_SUBSCRIPTION_BLOCK:"PerformerSubscribersSubscriptionBlock",PERFORMER_SUBSCRIBERS_CLOSE_MODAL:"PerformerSubscribersCloseModal",PERFORMER_SUBSCRIBERS_REQUEST_SUBSCRIBE:"PerformerSubscribersRequestSubscribe",PERFORMER_SUBSCRIBERS_REQUEST_UNSUBSCRIBE:"PerformerSubscribersRequestUnsubscribe",PERFORMER_SUBSCRIBERS_AUTO_CLOSE_MODAL:"PerformerSubscribersAutoCloseModal",PERFORMER_SUBSCRIBERS_OPEN_MODAL:"PerformerSubscribersOpenModal",PERFORMER_SUBSCRIBERS_DAILY_LIMIT_REACHED:"PerformerSubscribersDailyLimitReached",QUICK_CHAT_ADD_OPTION:"QuickChatAddOption",QUICK_CHAT_REMOVE_OPTION:"QuickChatRemoveOption",QUICK_CHAT_EDIT_OPTION:"QuickChatEditOption",QUICK_CHAT_CLEAR_OPTIONS:"QuickChatClearOptions",UPDATE_USER_PREFERRED_LANG:"UpdateUserPreferredLang",UPDATE_USER_REWARDS_INFORMATION:"UpdateUserRewardsInformation",MEDIA_REQUEST_VIDEOS:"MediaRequestVideos",MEDIA_REQUEST_PHOTOS:"MediaRequestPhotos",MEDIA_UPDATE_VIDEOS:"MediaUpdateVideos",MEDIA_UPDATE_PHOTOS:"MediaUpdatePhotos",OPEN_ESS_ENTER_MODAL:"OpenEssEnterModal",SET_ESS_USERNAME:"SetEssUsername",SET_FEATURE_VISIBILITY:"SetFeatureVisibility",SET_GEO_RESTRICTED:"SetGeoRestricted",SET_USER_COUNTRY:"SetUserCountry",VIDEO_DISPLAY_HEIGHT_ADJUSTMENT:"VideoDisplayHeightAdjustment",FEATURE_SHOWN:"FeatureShown",FULLSCREEN_CHAT_CLICKED:"FullscreenChatClicked",CLEAR_TWO_FACTOR_AUTHENTICATION_EMAIL_REQUEST_TOKEN:"ClearTwoFactorAuthenticationEmailRequestToken",OPEN_TWO_FACTOR_AUTHENTICATION_REQUIRED_MODAL:"OpenTwoFactorAuthenticationRequiredModal",SHOW_NO_SERVICES_MODAL:"ShowNoServicesModal",SHOW_PAYOFF_MODAL:"ShowPayoffModal",TOP_CONTRIBUTORS_CHAT_UPSELL_SHOWED:"TopContributorsChatUpsellShowed",SET_ADDITIONAL_PERFORMERS_ON_STREAM:"SetAdditionalPerformersOnStream",ROOM_REQUEST_PAYOFF:"RoomRequestPayoff",ROOM_PAYOFF:"RoomPayoff",CAM2CAM_REJECT:"cam2camreject",CAM2CAM_END:"cam2camend"}},"./src/constants/Connection.js":(e,t,n)=>{"use strict";n.d(t,{Ax:()=>r,B8:()=>a,CE:()=>s,NT:()=>i,Nf:()=>o,ZP:()=>l});var o={CHECKUP_INTERVAL:12e3,CLIENT_VERSION:7,AWAITING_CONFIG:0,AWAITING_AUTHORIZATION:1,AWAITING_PLAYBACK:2,PLAYING:3,DISCONNECTED:4,NEED_PAYOFF:5,PAUSED:6,DEFAULT_PORT:8080,STREAM_CONTENT_INCOMING_TEXT:1,STREAM_CONTENT_OUTGOING_TEXT:2,STREAM_CONTENT_INCOMING_AUDIO:4,STREAM_CONTENT_OUTGOING_AUDIO:8,STREAM_CONTENT_INCOMING_VIDEO:16,STREAM_CONTENT_OUTGOING_VIDEO:32,STREAM_TYPE_GUEST:0,STREAM_TYPE_PRIVATE:1,STREAM_TYPE_EXCLUSIVE:4,STREAM_TYPE_BLOCK:5,STREAM_TYPE_BLOCK_EXCLUSIVE:6},r=["guest","private","unknown","fullscreen","exclusive","block","block_exclusive","unknown","extss_guest","free"],i=new Set([o.STREAM_TYPE_PRIVATE,o.STREAM_TYPE_EXCLUSIVE,o.STREAM_TYPE_BLOCK,o.STREAM_TYPE_BLOCK_EXCLUSIVE]),s=new Set([o.STREAM_TYPE_EXCLUSIVE,o.STREAM_TYPE_BLOCK_EXCLUSIVE]),a={REQUEST_PRIVATE:"private",REQUEST_BLOCK:"block",REQUEST_EXCLUSIVE:"exclusive"};const l=o},"./src/constants/CurrencyConstants.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={DEFAULT_EXCHANGE_RATE:1e4,DEFAULT_CURRENCY_SYMBOL_UTF:"$",DEFAULT_CURRENCY_CODE:"USD",CURRENCIES_WITH_DISPLAYED_TAXES_AND_FEES:new Set(["AUD","BRL","CHF","EUR","GBP"])}},"./src/constants/DisconnectReasons.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n("./node_modules/icf-room-client-user/dist/index.js");const r={SYSTEM:1,SYSTEM_CLIENT:5,AUTHENTICATION:9,STATUS_PERFORMER:10,BLOCKED:11,ENDED:12,SHACKLED:13,PREAUTH:14,BOOTED:15,GHOST:17,BLOCKED_IP:18,PAYOFF:19,BUSY:20,VIDEO_DELAY:23,PERFORMER_IN_EXCLUSIVE:24,DECLINED_EXCLUSIVE:25,USER_DISCONNECT:27,BLOCK_SESSION_UNAVAILABLE:28,BLOCK_SESSION_REJECTED:29,FLASH_VERSION:30,REDIRECT:31,TIMEOUT:33,NEW_PERFORMER:34,BREAK:36,IN_GOLDSHOW:37,LOST_CONNECTION:38,LOST_LODEF_CONNECTION:49,DISCONNECT_LOST_STREAMINGLS_CONNECTION:50,DISCONNECT_NO_VIDEO_PATH:51,DISCONNECT_CANT_PLAY_NGINX_STREAM:52,BOOTED_BY_ADMIN:54,MIDSTREAM_BILLING_DECLINED:70,ESF_BILLING_ERROR:71,INVALID_HC_VERSION:72,ROOM_CLIENT_CONNECTION_FAILURE:73,ROOM_CLIENT_CONNECTION_LOST:74,WAIT_TO_SET_UP_STREAM:75,ROOM_FULL:76,TEMPORARY_USE_COMPLETED:o.ExtendedNaiadStatus.temporaryUseCompleted,CLIENT_HIDDEN:o.ExtendedNaiadStatus.clientHidden,CHANGED_ROOM:o.ExtendedNaiadStatus.changedRoom,NO_VALID_DRIVERS:666,INVALID_STARTUP:6969,STARTUP_NETWORK_ERROR:8181}},"./src/const_STATE_NEED_PLEDGE:4,GOLD_ACTIO_PLEDGE:0,PLEDGE_STATE_PARTIAL_PLEDGE:1,PLEDGE_STATE_PLEDGED:2}},"./src/constants/LogLevel.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={DEBUG:5,INFO:4,NOTICE:3,WARN:2,ERROR:1}},"./src/constants/LomsEvents.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={CTA_BUTTONS:{GIVE_GOLD:"GiveGold",GO_PRIVATE:"GoPrivate",GO_EXCLUSIVE:"GoExclusive",GOLD_MENU:"GoldMenu",GOLD_MENU_ITEM:"GoldMenuItem",SPIN_GOLD:"SpinGold",QUICK_TIP:"QuickTip",PIP_GIVE_GOLD:"PipGiveGold",PIP_GO_PRIVATE:"PipGoPrivate",TOP_CONTRIBUTORS_CHAT_UPSELL:"TopContributorRIVATE_MESSAGE:"SM_SEND_PRIVATE_MESSAGpe.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>REQUEST_USER_SUBSCRIPTION_STATUS:"REQUEST_USER_SUBSCRIPTION_STATUS",USER_SUBSCRIPTION_STATUS_RESPONSE:"USER_SUBSCRIPTION_STATUS_RESPONSE",NOTIFICATION_SETTINGS:"NOTIFICATION_SETTINGS"}},"./src/constants/QuickTipConstants.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={PRESET_VALUES:[100,300,500],SLIDER_MIN:100,SLIDER_MAX:9900,SLIDER_DEFAULT:500}},"./src/constants/RpcCalls.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={NAIAD_ADD_CHAT:"NaiadAddChat",NAIAD_AUTHORIZED:"NaiadAuthorized",NAIAD_BW_DATA:"NaiadBWData",NAIAD_C2C_ACCEPT:"NaiadC2Caccept",NAIAD_C2C_REJECT:"NaiadC2Creject",NAIAD_CHECKUP:"NaiadCheckup",NAIAD_CHECKUP_RESPONSE:"NaiadCheckupResponse",NAIAD_ENTER_PRIVATE:"NaiadEnterPrivate",NAIAD_FREEZE:"NaiadFreeze",NAIAD_FREEZE_ME:"NaiadFreezeMe",NAIAD_GIVE_GOLD:"NaiadGiveGold",NAIAD_GOLDSHOW:"NaiadGoldShow",NAIAD_NOTE:"NaiadNote",NAIAD_OVERRIDE:"NaiadOverride",NAIAD_PAUSE:"NaiadPause",NAIAD_PHONE_CALL_STARTED:"NaiadPhoneCallStarted",NAIAD_PHONE_CALL_STATUS:"NaiadPhoneCallStatus",NAIAD_PHONE_PERF_BUSY:"NaiadPhonePerfBusy",NAIAD_PHONE_PERF_ENABLED:"NaiadPhonePerfEnabled",NAIAD_PLEDGE_GOLD:"NaiadPledgeGold",NAIAD_PRE_GOLDSHOW:"NaiadPreGoldShow",NAIAD_SEND_CHAT:"NaiadSndChat",NAIAD_SET:"NaiadSet",NAIAD_SETTING:"NaiadSetting",NAIAD_START:"NaiadStart",NAIAD_TOP_CONTRIBUTORS:"NaiadTopContributors",NAIAD_USER:"NaiadUser",NAIAD_BLOCK_SESSION_ACCEPTED:"NaiadBlocksessionAccepted",NAIAD_EXCLUSIVE_ACCEPTED:"NaiadExclusiveAccepted",NAIAD_GOLD_GIVEN:"NaiadGoldGiven",NAIAD_ON_BREAK:"NaiadOnBreak",NAIAD_PAYOFF:"NaiadPayoff",NAIAD_PLAY:"NaiadPlay",NAIAD_QUALITY_CHANGED:"NaiadQualityChanged",NAIAD_SET_AUDIO:"NaiadSetAudio",NAIAD_SET_STREAM_PARAMETERS:"NaiadSetStreamParameters",ROOM_CLIENT_CONNECTED:"RoomClientConnected",ROOM_CLIENT_GIVE_GOLD:"RoomClientGiveGold",ROOM_CLIENT_PLEDGE_GOLD:"RoomClientPledgeGoldShow",ROOM_CLIENT_STATUS_CHANGED:"RoomClientStatusChanged",ROOM_CLIENT_SYSTEM_CHAT_MESSAGE:"RoomClientSystemChatMessage",ROOM_CLIENT_LIVE_CHAT_MESSAGE:"RoomClientLiveChatMessage",ROOM_VIBE_STATUS_UPDATE:"RoomVibeStatusUpdate",ROOM_CLIENT_GOLD_ONLY_GOAL_STATUS_CHANGED:"GoldOnlyGoalStatusChanged",ROOM_CLIENT_SET_USERLIST_UPDATES_ENABLED:"RoomClientSetUserListUpdatesEnabled",ROOM_CLIENT_USER_COUNT_UPDATED:"RoomClientUserCountUpdated",ROOM_CLIENT_GOLDSHOW:"RoomClientGoldShow",ROOM_CLIENT_GOLDSHOW_PLEDGED:"RoomClientGoldShowPledged",ROOM_CLIENT_GOLDSHOW_TOP_CONTRIBUTORS_UPDATED:"RoomClientGoldShowTopContributorsUpdated",ROOM_CLIENT_ENTERING_PRIVATE:"RoomClientEnteringPrivate",ROOM_CLIENT_ENTERED_PRIVATE:"RoomClientEnteredPrivate",ROOM_CLIENT_ENTERING_BLOCK_SESSION:"RoomClientEnteringBlockSessionPrivate",ROOM_CLIENT_ENTERED_BLOCK_SESSION:"RoomClientEnteredBlockSessionPrivate",ROOM_CLIENT_ENTERING_EXCLUSIVE:"RoomClientEnteringExclusive",ROOM_CLIENT_ENTERED_EXCLUSIVE:"RoomCAILS:3,INVALID_SKIN_CONFIG:4,FORCE_BILLING_INFO_UPDATE:5,INVALID_PERFORMER_ID:7,INVALID_BILLING_INFO:8,INVALID_HC_VERSION:9,MAX_USERS_IN_ROOM:11,PLUS_ONE_CREATOR:14,TENANT_MISMATCH:15}},"./src/constants/StatsEvents.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={AIW_PLAYING:"aiw.playing",CONNECTION_NAIAD_PLAY:"connection.naiad_play",FAVORITES_ADD_REQUESTED:"favorites.add.requested",FAVORITES_ADD_SUCCESS:"favorites.add.success",FAVORITES_ADD_FAILURE:"favorites.add.fail",FAVORITES_REMOVE_REQUESTED:"favorites.remove.requested",FAVORITES_REMOVE_SUCCESS:"favorites.remove.success",FAVORITES_REMOVE_FAILURE:"favorites.remove.fail",FAVORITES_API_CALL_ERROR:"favorites.api_call_error",FULLSCREEN_ENABLED:"fullscreen.enabled",FULLSCREEN_DISABLED:"fullscreen.disabled",SESSION_PRIVATE_AUTHORIZED:"session.private.authorized",SESSION_EXCLUSIVE_ACCEPTED:"session.exclusive.accepted",SESSION_BLOCK_ACCEPTED:"session.block.accepted",SIMILARMODEL_SELECTED:"similarmodel.selected",TAG_SELECTED:"tag.selected",TAG_ADDED:"tag.added.success",TAG_REMOVED:"tag.removed.success",IMMEDIATE_NAIAD_FREEZE:"session.error.immediate_naiad_freeze",IMMEDIATE_NAIAD_FREEZE_BUSY:"session.error.immediate_naiad_freeze_busy",INVALID_SERVER_ID:"session.error.invalid_server_id",SUBSCRIPTIONS:{AVAILABLE:"subscriptions.available",NOTIFICATIONS:{SHOW_CONFIRM_MODAL:"subscriptions.notifications.show_confirm_modal",SHOW_INFO_MODAL:"subscriptions.notifications.show_info_modal",SUB_REQUEST:"subscriptions.notifications.subscribe.requested",SUB_SUCCESS:"subscriptions.notifications.subscribe.success",SUB_FAILURE:"subscriptions.notifications.subscribe.fail"},VIDEO:{SHOW_CONFIRM_MODAL:"subscriptions.video.show_confirm_modal",SUB_REQUEST:"subscriptions.video.subscribe.requested",SUB_SUCCESS:"subscriptions.video.subscribe.success",SUB_FAILURE:"subscriptions.video.subscribe.fail"}},DISCOUNT:{SUBSCRIPTIONS_REQUEST:"discount.subscriptions.request",SUBSCRIPTIONS_SUCCESS:"discount.subscriptions.success",SUBSCRIPTIONS_FAILURE:"discount.subscriptions.fail",SUBSCRIPTIONS_UNPROCESSED:"discount.subscriptions.unprocessed"},GOLD_MENU:{OPENED:"goldmenu.opened",UPDATE_LIMIT:"goldmenu.update_limit",ADD_STASH:"goldmenu.add_stash",ITEM_BASE:"goldmenu."},SPIN_GOLD:{OPENED:"spingold.opened"},TOP_CONTRIBUTORS:{UPSELL_CONFIRMED:"topcontributors.confirmed_click"},C2C:{INIT:"session.c2c.init",INIT_PVC:"session.c2c.init.pvc",BROADCASTING:"session.c2c.broadcasting",BROADCASTING_PVC:"session.c2c.broadcasting.pvc",ENDED:"session.c2c.ended",ENDED_PVC:"session.c2c.ended.pvc",REQUEST_SENT:"session.c2c.request_sent",REQUEST_ACCEPTED:"session.c2c.request_accepted",TOKEN_PVC:"session.c2c.token.pvc",ERROR_INIT:"session.c2c.error.init_failed",ERROR_INIT_STREAM_VIDEO:"session.c2c.error.init_stream.video",ERROR_INIT_STREAM_AUDIO:"session.c2c.error.init_stream.audio",ERROR_BROADCASTER:"session.c2c.error.broadcaster",ERROR_CHECK_CAM_ACCESS:"session.c2c.error.check_cam_access",ERROR_ENUMERATE_DEVICE:"session.c2c.error.enumerate_device_failed",ERROR_GET_MEDIA_DEVICE:"session.c2c.error.get_media_devices"},SHOWN_FEATURES:{PHOTOS:"shownfeatures.photos",GOLD_MENU:"shownfeatures.gold_menu",SPIN_GOLD:"shownfeatures.spin_gold",BIO:"shownfeatures.bio",VIDEOS:"shownfeatures.videos",FAN_CLUB_BUTTON:"shownfeatures.fan_club_button"},VIDEOS:{PURCHASE_ATTEMPT:"session.video.purchase_attempt",PURCHASE_SUCCESS:"session.video.purchase_success",PURCHASE_FAILURE:"session.video.purchase_failure"},ROOM_SDK:{MESSAGE_SEND_ERROR:"roomclient.error.message_send"},CHAT:{FULLSCREEN_BUTTON_CLICK:"chat.fullscreen_button_click"},STREAMING_SCHEDULE:{CLICK_PREV_DAY:"streamingschedule.click.prev_day",CLICK_NEXT_DAY:"streamingschedule.click.next_day"},ESS:{SUBMIT_USERNAME:"ess.submit_username"}}},"./src/constants/VideoConstants.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={ORIGIN_STREAM:"OriginStream",AUTO_STREAM:"AutoStream",WEBRTC_STREAM:"WebrtcStream",LOCATION:{DEFAULT:"default",PIP:"pip"},VIDEO_CONTAINER_ID:"video-container",PIP_CONTAINER_ID:"pip-container",PIP_STATE:{DEFAULT:"DEFAULT",TRANSITIONING:"TRANSITIONING",PIP:"PIP"},GRANT_TYPE:{PURCHASE:"PURCHASE",FANCLUB_PAID:"FANCLUB_PAID",FANCLUB_PRIVATE:"FANCLUB_PRIVATE"}}},"./src/lib/AjaxRequest.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/superagent/lib/client.js"),a=n.n(s),l=n("./node_modules/atg-superagent-retry-delay/src/index.js"),c=n.n(l),u=n("./src/utils/log.js"),d=function(){var e=arguments.length>0&&void 0!==argturn 1e3*(Math.max(0,Math.pow(2,e)-1)+Math.random())},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Array(e).fill(0).map((function(e,t){return d(t)}))},m=n("./src/stores/ConnectionStore.js");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Ob(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}c()(a());var g="";const v=new(function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"_handleError",value:function(e,t){var n,o=e.message.includes("Request has been terminated")?"request-terminated":e.message.toLowerCase().replaatus,response:null===(n=e.responss.smeid=n,this.smvid=o}},{key:"getTrackingHeaders",value:function(){var e={};return this.smeid&&(e.smeid=this.smeid),this.smtid&&(e.smtid=this.smtid),this.smvid&&(e.smvid=this.smvid),e}},{key:"setSakey",value:function(e){this.sakey=e}},{key:"setSitedomain",value:function(e){this.domain=e}},{key:"getSitedomain",value:function(){return this.domain}},{key:"getAllHeaders",value:function(e){var t=f({},this.getTrackingHeaders()),n=this.getSitedomain();return n&&(t.sitedomain=n),this.sakey&&e.includes(g)&&(t["x-sakey"]=this.sakey),t.tenantid=m.Z.getState().tenantId,t}},{key:"get",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(e)return a().get(e).query(t).set(this.getAllHeaders(e)).accept("json").retry(2,p(2)).end((function(t,i){if(t||void 0===i)return n._handleError(t,e),void(r&&"function"==typeof r&&r(t));t||"function"!=typeof o||o(i)}));u.Z.error("Insufficient data for GET request! url: ".concat(e,", query: ").concat(t))}},{key:"post",value:function(e,t,n){var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];if(e&&t)return a().post(e).set(this.getAllHeaders(e)).retry(2,p(2),s).send(t).type(n).end((function(t,n){if(t||void 0===n)return o._handleError(t,e),void(i&&"function"==typeof i&&i(t));t||"function"!=typeof r||r(n)}));u.Z.error("Insufficient data for POST request! url: ".concat(e,", data: ").concat(t))}},{key:"postWithCredentials",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(e&&t)return a().post(e).set(this.getTrackingHeaders()).retry(2,p(2)).send(t).type("form").withCredentials().end((function(t,r){t||void 0===r?n._handleError(t,e):t||"function"!=typeof o||o(r)}));u.Z.error("Insufficient data for POST request! url: ".concat(e,", data: ").concat(t))}},{key:"postPromise",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e&&t?a().post(e).set(f(f({},this.getAllHeaders(e)),o.headers)).retry(2,p(2)).send(t).type(n|nsufficient data for POST request! url: ".concat(e,", data: ").concat(t)),Promise.reject())}},{key:"getBaseUrl",value:function(){return g}},{key:"setBaseUrl",value:function(e){e&&(g=e)}}]),e}())},"./src/lib/DataSocket.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var o=n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),r=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),i=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("./src/lib/Dispatcher.js"),l=n("./src/lib/PerformanceTiming.js"),c=n("./src/constants/Actions.js"),u=n("./src/constants/RpcCalls.js"),d=n("./src/constants/Connection.js"),p=n("./src/constants/DisconnectReasons.js"),m=n("./src/constants/StatsEvents.js"),h=n("./src/constants/Globals.js"),f=n("./src/utils/tools.ts"),g=n("./src/utils/log.js"),v=n("./node_modules/socket.io-client/lib/index.js"),_=n.n(v),y=new Set([p.Z.BUSY,p.Z.PERFORMER_IN_EXCLUSIVE,p.Z.BREAK,p.Z.IN_GOLDSHOW]);const b=new(function(){function e(){var t=this;(0,i.Z)(this,e),this.socket=null,this.checkupInterval=null,this.hasRecievedFirstMessage=!1,window.addEventListener("beforeunload",(function(){a.Z.dispatch({type:c.Z.LOCK_OVERLAY,data:{}}),t.socket&&(t.socket.off("error",t._handleSocketError),t.socket.off("return(0,s.Z)(e,[{key:"_addListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(var t in e.forEach((function(e){Reflect.deleteProperty(u.Z,e)})),u.Z)this.socket.on(u.Z[t],this._handleRpcCall.bind(this,u.Z[t]));this.socket.on(u.Z.NAIAD_AUTHORIZED,this._enableCheckupHeartbeat.bind(this)),this.socket.on("connect",this._handleSocketConnect),this.socket.on("error",this._handleSocketError),this.socket.on("disconnect",this._handleSocketDisconnect)}},{key:"_handleRpcCall",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.Z.DISCONNECT,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.data||null;this.hasRecievedFirstMessage||e!==u.Z.NAIAD_FREEZE||(y.has(t.data[0])?g.Z.statsIncCounter(m.Z.IMMEDIATE_NAIAD_FREEZE_BUSY):(g.Z.statsIncCounter(m.Z.IMMEDIATE_NAIAD_FREEZE),g.Z.error({meNaiadFreeze when connecting",disconnectReason:t.data[0]}))),this.hasRecievedFirstMessage=!0,g.Z.debug({message:"DataSocket._handleRpcCall: "0};a.Z.dispatch({type:c.Z.PRE_RPC_CALL,data:{type:e,data:n,intercept:r}}),o||a.Z.dispatch({type:e,data:n})}},{key:"_handleSocketConnect",value:function(){l.Z.mark("socket_connect_end")}},{key:"_handleSocketError",value:function(e){a.Z.dispatch({type:c.Z.DISCONNECT,data:[p.Z.SYSTEM,e]})}},{key:"_handleSocketDisconnect",value:function(e){a.Z.dispatch({type:c.Z.DISCONNECT,data:[p.Z.LOST_CONNECTION,e]})}},{key:"_getDataConnectParams",value:function(e,t,n){var o=0;e.rate&&e.rate.perfdiscountid&&(o=e.rate.perfdiscountid);var r=null;if(0===e.stream.nodeHost.indexOf("wss://")||0===e.stream.nodeHost.indexOf("ws://"))r=this._urlToSocketIOv1(e.stream.nodeHost);else{var i="";-1===e.stream.nodeHost.indexOf(":")&&(i=":"+d.ZP.DEFAULT_PORT),r={url:"ws://"+e.stream.nodeHost+i}}return r.url=(0,f.rv)(r.url,{performerid:e.performer.id,sserver:e.stream.serverId,streamid:e.stream.streamId,sakey:e.user.sakey||"",sessiontype:t,perfdiscountid:o,minduration:0,goldshowid:0,version:d.ZP.CLIENT_VERSION,referrer:"".concat(n,"/hybrid.client.").concat(h.Z.VERSION,"/avchat.swf"),usertype:e.user.type,lang:e.user.lang}),e.site.tdsname&&(r.url+="&tdsname="+e.site.tdsname,r.url+="&DEBUG_nocheckups=1"),g.Z.usage("showpath",r.url),r.reconnect=!1,r["force new connection"]=!0,r.transports=["websocket"],r}},{key:"_getDataConnectParamsForUrl",value:function(e){var t=e.split("?"),n=(0,r.Z)(t,2),o=n[0],i=n[1],s=this._urlToSocketIOv1(o);return s.url=s.url+"?"+i,g.Z.usage("showpath",s.url),s.reconnect=!1,s["force new connection"]=!0,s.transports=["websocket"],s}},{key:"_urlToSocketIOv1",value:function(e){var t={},n=e.split("//",2),o="";return t.secure="wss:"===n[0],t.port="wss:"===n[0]?443:80,o=(n=n[1].split("/")).shiftt=n[1]||t.port,t.url="wss://"+n[0]+":"+t.port+"/",t}},{key:"_clearCheckup",value:function(){this.checkupInterval&&(window..checkupInterval=null)}},{key:"_enableCheckupHeartbeat",value:function(){var e=this;this._clearCheckup(),this.checkupInterval=window.setInterval((function(){e.emit([u.Z.NAIAD_CHECKUP])}),d.ZP.CHECKUP_INTERVAL)}},{key:"connect",value:function(e,t,n,o){var r=this._getDataConnectParams(e,t,n),i=r.url;Reflect.deleteProperty(r,"url"),2!==e.stream.nodeHostVer&&g.Z.error("socket nodeHostVer was not 2, socket.io 0.9.3 no longer available!"),this._connect(i,r,o)}},{key:"connectWithUrl",value:function(e,t){var n=this._getDataConnectParamsForUrl(e),o=n.url;Reflect.deleteProperty(n,"url"),this._connect(o,n,t)}},{key:"_connect",value:function(e,t,n){g.Z.debug({message:"DataSocket.connect",dataUrl:e,service:"fmsgateway"}),l.Z.mark("socket_connect_start"),this.socket=_().connect(e,t),this._addListeners(n)}},{key:"emit",value:function(e){var t;this.socket&&(g.Z.debug({message:"DataSocket.emit",call:e}),(t=this.socket).emit.apply(t,(0,o.Z)(e)))}},{key:"destroy",value:function(){this._clearCheckup(),this.hasRecievedFirstMessage=!1,this.socket&&(this.socket.off("error",this._handleSocketError),this.socket.off("disconnect",this._handleSocketDisconnect),this.socket.disconnect(),this.socket=null)}}]),e}())},"./src/lib/Dispatcher.js":(e,t,n)=>{"use strict";n.d(t,{"./node_modules/flux/lib/Dispatcher.js"),r=new(n.n(o)());const i=r;var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;setTimeout((function(){r.dispatch(e)}),t)}},"./src/lib/PerformanceTiming.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./src/utils/log.js");n("./node_modules/usertiming/src/usertiming.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((furiptor(n,t))}))}return e}var c="undefined"!=typeof window?window.performance:null,u="navigationStart";.Z)(this,e),this.hasLoggedBrowserTiming=!1}return(0,i.Z)(e,[{key:"_measureMarks",value:function(){var e=c.getEntriesByType("mark");try{e.forEach((function(e){c.measure(e.name,u,e.name)}))}catch(e){s.Z.debug("Performance timinMeasures",value:function(){if(this._measureMarks(triesByType("measure");return e?e.reduce((function(e,t){return e[t.name]=Math.round(t.duration),e}),{}):{}}return{}}},{key:"getCurrentTiming",value:function(){return c&&c.now?c.now():0}},{key:"mark",value:function(e){c&&c.mark&&(c.getEntriesByType("mark").find((function(t){return t.name===e}))||c.mark(e))}},{key:"log",value:function(){if(c.timing[u]||c.getEntriesByType("mark").find((function(e){return e.name===u}))){var e=l(l({},this._getMeasures()),this.getBrowserTiming());this.hasLoggedBrowserTiming&&e.aiw_loading<0&&Reflect.deleteProperty(e,"aiw_loading"),s.Z.sendTimingData(e)&&(c.clearMarks(),c.clearMeasures(),this.hasLoggedBrowserTiming=!0,u="request_config")}}},{key:"getBrowserTiming",value:function(){if(!c.timing)return s.Z.debug("Would have logged performance timing, but it was missing."),{};if(this.hasLoggedBrowserTiming)return{};var e,t,n={ts:c.timing[u]||0},o={connectEnd:"connectEnd",connectStart:"connectStart",domComplete:"domComplete",domContentLoadedEventEnd:"domContentLoadedEventEnd",domContentLoadedEventStart:"domContentLoadedEventStart",domInteractive:"domInteractive",domLoading:"domLoading",domainLookupEnd:"domainLookupEnd",domainLookupStart:"domainLookupStart",msFirstPaint:"msFirstPaint",fetchStart:"fetchStart",loadEventEnd:"loadEventEnd",loadEventStart:"loadEventStart",redirectEnd:"redirectEnd",requestStart:"requestStart",redirectStart:"redirectStart",responseEnd:"responseEnd",responseStart:"responseStart",secureConnectionStart:"secureConnectionStart",unloadEventEnd:"unloadEventEnd",unloadEventStart:"unloadEventStart"};if(Object.keys(o).forEach((function(e){c.timing[o[e]]>=c.timing[u]-5e4&&(n[e]=c.timing[o[e]]-c.timing[u])})),"undefined"!=typeof window)if(window.PerformancePaintTiming){var r,i=null===(r=c.getEntriesByType("paint"))||void 0===r?void 0:r[0];i&&(n.msFirstPaint=Math.floor(i.startTime))}else(null===(e=window.chrome)||void 0===e||null===(t=e.loadTimes)||void 0===t?void 0:t.call(e).firstPaintTime)>0&&(n.msFirstPaint=1e3*window.chrome.loadTimes().firstPaintTime-c.timing[u]);return n}}]),e}())},"./src/lib/Strings.js":(e,t,n)=>{"use strict";n.d(t,{k$:()=>T,qD:()=>I,ZP:()=>P,KF:()=>O});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("./node_modules/@babel/runtime/helpers/esm/typeof.js"),i=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),l=n("./node_modules/@babel/runtime/regenerator/index.js"),c=n.n(l),u=n("./node_modules/lodash/cloneDeep.js"),d=n.n(u),p=n("./node_modules/lodash/get.js"),m=n.n(p),h=n("./node_modules/lodash/set.js"),f=n.n(h),g=n("./src/utils/log.js"),v=n("./src/constants/Globals.js");const _=JSON.parse('{"2257":"18 U.S.C. 2257 and 2257A Record-Keeping Requirements Compliance Statement","2min_warning":"2 Minutes remaining!","about_my_shows":"About My Shows","about_me":"About Me","about_this_model":"About this model","acl":"{{age}} yrs old, {{country}}, {{languages}}","add_tip":"Add GOLD:","all":"All","back_profile":"Back to Profile","back_soon":"Be back in","bitrate_decrease":"Stream quality changed to {{bitrate}}. Lower resolutions will improve stream consistency, but may degrade the picture quality.","bitrate_increase":"Stream quality changed to {{bitrate}}. Higher resolutions will improve picture quality, but may result in an inconsistent stream.","block_options_exclusive":"Exclusive Chat","block_options_premium":"Premium Chat","blocksession":"{{total}} = {{discountedrate}} x {{minduration}} minutes","broadcast_system_message":"Due to high volume of chat, not all non-premium chats may be broadcast.","browse_live":"Browse Live Models","back_to_live":"Back to Live Models","buy_in_system_message":"Performance has started. Give minimum buy in so you can chat during this performance.","camtocam_experience":"Cam-to-Cam for virtual sex experience","cancel":"Cancel","cardholder_statement":"{{billedas}} will appear on your cardholder statement.","categories":"Categories","chat":"Chat","chat_features":"Private chat features","chat_hidden":"Your chat will be hidden from other members.","chat_options":"Chat Options","chat_paid_message":"You will be discreetly billed by {{billedas}}.","chat_placeholder":"Chat live with {{performername}}","chat_speech_placeholder":"Listening...","chat_privately":"Chat privately with the performer","chat_private_loading":"Loading your private chat...","chat_visible":"Your chat will be visible to other members.","audio_enabled":"Audio Enabled","check_back":"Check back later.","click_here":"Click here","close":"Close","confirm_gold_amount":"Are you sure you want to give {{amount}} GOLD?","connecting":"Connecting (May take up to 10 seconds)","member_login":"Member Login","view_free":"VIEW FREE","country_name":{"ad":"Andorra","ae":"United Arab Emirates","af":"Afghanistan","ag":"Antigua and Barbuda","ai":"Anguilla","al":"Albania","am":"Armenia","an":"Netherlands Antilles","ao":"Angola","aq":"Antarctica","ar":"Argentina","as":"American Samoa","at":"Austria","au":"Australia","aw":"Aruba","az":"Azerbaijan","ba":"Bosnia Hercegovina","bb":"Barbados","bd":"Bangladesh","be":"Belgium","bf":"Burkina Faso","bg":"Bulgaria","bh":"Bahrain","bi":"Burundi","bj":"Benin","bm":"Bermuda","bn":"Brunei Darussalam","bo":"Bolivia","br":"Brazil","bs":"Bahamas","bt":"Bhutan","bw":"Botswana","by":"Belarus","bz":"Belize","ca":"Canada","cc":"Cocos Islands","cf":"Central African Republic","cg":"Congo","ch":"Switzerland","ci":"Ivory Coast","ck":"Cook Islands","cl":"Chile","cm":"Cameroon","cn":"China","co":"Colombia","cr":"Costa Rica","cu":"Cuba","cv":"Cape Verde","cx":"Christmas Island","cy":"Cyprus","cz":"Czech Republic","de":"Germany","dj":"Djibouti","dk":"Denmark","dm":"Dominica","do":"Dominican Republic","dz":"Algeria","ec":"Ecuador","ee":"Estonia","eg":"Egypt","eh":"Western Sahara","er":"Eritrea","es":"Spain","et":"Ethiopia","fi":"Finland","fj":"Fiji","fk":"Falkland Islands","fm":"Micronesia","fo":"Faroe Islands","fr":"France","ga":"Gabon","gb":"United Kingdom","gd":"Grenada","ge":"Georgia","gf":"French Guiana","gh":"Ghana","gi":"Gibraltar","gl":"Greenland","gm":"Gambia","gn":"Guinea","gp":"Guadeloupe","gq":"Equatorial Guinea","gr":"Greece","gt":"Guatemala","gu":"Guam","gw":"Guinea-bissau","gy":"Guyana","hk":"Hong Kong","hn":"Honduras","hr":"Croatia","ht":"Haiti","hu":"Hungary","id":"Indonesia","ie":"Ireland","il":"Israel","in":"India","io":"British Indian Ocean Territory","iq":"Iraq","ir":"Iran","is":"Iceland","it":"Italy","jm":"Jamaica","jo":"Jordan","jp":"Japan","ke":"Kenya","kg":"Kyrgyzstan","kh":"Cambodia","ki":"Kiribati","km":"Comoros","kn":"Saint Kitts and Nevis","kp":"North Korea","kr":"South Korea","kw":"Kuwait","ky":"Cayman Islands","kz":"Kazakhstan","la":"Laos","lb":"Lebanon","lc":"Saint Lucia","li":"Lichtenstein","lk":"Sri Lanka","lr":"Liberia","ls":"Lesotho","lt":"Lithuania","lu":"Luxembourg","lv":"Latvia","ly":"Libya","ma":"Morocco","mc":"Monaco","md":"Moldova Republic","me":"Montenegro","mg":"Madagascar","mh":"Marshall Islands","mk":"Macedonia","ml":"Mali","mm":"Myanmar","mn":"Mongolia","mo":"Macau","mp":"Northern Mariana Islands","mq":"Martinique","mr":"Mauritania","ms":"Montserrat","mt":"Malta","mu":"Mauritius","mv":"Maldives","mw":"Malawi","mx":"Mexico","my":"Malaysia","mz":"Mozambique","na":"Namibia","nc":"New Caledonia","ne":"Niger","nf":"Norfolk Island","ng":"Nigeria","ni":"Nicaragua","nl":"Netherlands","no":"Norway","np":"Nepal","nr":"Nauru","nu":"Niue","nz":"New Zealand","om":"Oman","pa":"Panama","pe":"Peru","pf":"French Polynesia","pg":"Papua New Guinea","ph":"Philippines","pk":"Pakistan","pl":"Poland","pm":"St. Pierre and Miquelon","pr":"Puerto Rico","ps":"Palestine","pt":"Portugal","pw":"Palau","py":"Paraguay","qa":"Qatar","re":"Reunion","ro":"Romania","rs":"Serbia","ru":"Russia","rw":"Rwanda","sa":"Saudi Arabia","sb":"Solomon Islands","sc":"Seychelles","sd":"Sudan","se":"Sweden","sg":"Singapore","sh":"St. Helena","si":"Slovenia","sk":"Slovakia","sl":"Sierra Leone","sm":"San Marino","sn":"Senegal","so":"Somalia","sr":"Suriname","st":"Sao Tome and Principe","sv":"El Salvador","sy":"Syria","sz":"Swaziland","tc":"Turks and Caicos Islands","td":"Chad","tg":"Togo","th":"Thailand","tj":"Tajikistan","tk":"Tokelau","tm":"Turkmenistan","tn":"Tunisia","to":"Tonga","tr":"Turkey","tt":"Trinidad and Tobago","tv":"Tuvalu","tw":"Taiwan","tz":"Tanzania","ua":"Ukraine","ug":"Uganda","us":"United States","uy":"Uruguay","uz":"Uzbekistan","va":"Vatican City","vc":"St. Vincent and the Grenadines","ve":"Venezuela","vg":"Virgin Islands (British)","vi":"Virgin Islands (USA)","vn":"Vietnam","vu":"Vanuatu","wf":"Wallis and Futuna Islands","ws":"Samoa","ye":"Yemen","yt":"Mayotte","za":"South Africa","zm":"Zambia","zw":"Zimbabwe"},"daily_limit":"You have reached your daily spending limit of {{dailyLimit}}.","daily_limit_link":"Update Spending Limit","daily_limit_gold_menu":"Some items exceed your daily spending limit.","daily_limit_reached":"Daily Limit Reached","disconnect_authentication":"You have been logged out, please log in again.","disconnect_block":"This performer is currently not available for the block session, please try another model.","disconnect_blocked":"You have been permanently blocked by this performer.","disconnect_booted":"You have been ejected from the room by the performer.","disconnect_booted_by_admin":"Your streaming session has been closed by an administrator.","disconnect_busy":"This performer is currently busy, please try another.","disconnect_declined_exclusive":"This performer is currently not available for exclusive chat, please try another model.","disconnect_ended":"Your chat session has ended.","disconnect_flash_version":"To view this high quality video, you must upgrade to the latest version of Flash. To download this software now,","disconnect_flash_version_link":"click here.","disconnect_ghost":"Video stopped because you can only watch one performer at a time. Please contact Customer Service if you have any further problems.","disconnect_payoff":"You have charge(s) that we have not been able to bill on your credit card. They must be cleared to access a paid session.","disconnect_performer_in_exclusive":"I\'m in an Exclusive 1-on-1 show.","disconnect_preauth":"Your bank rejected our attempt to bill your credit card.","disconnect_status_performer":"The performer you selected has logged off.","disconnect_system":"A system error occurred, contact support if the problem persists.","duration":"Duration","email":"Email","email_models":"Send and receive emails to models","emoji":"Emoji","enable_audio":"Enable Audio","enjoy_access":"Enjoy instant access to my personal show:","enjoy_premium":"Enjoy instant access to Premium features","enjoy_show":"Did you enjoy the show?","enjoy_show_send_gold":"Enjoy the show? Send me GOLD :)","enter_custom_amount":"Enter Custom Amount","enter_full":"Enter Full Show","enter_gold_show":"Enter My GOLD Show","enter_guest":"Enter My Free Chat Now","enter_paid":"Enter Paid Chat","enter_private":"Enter Private","enter_private_long":"Enter My Private Live Show","enter_show":"Enter Show","esf_billing_error":"There was an error spending your credits, please contact customer support.","ess_modal":{"header1":"I\'m online right now,","header2":"come and join me.","subheader":"enter your nickname","ctaButton":"Chat with me now!"},"exit_button":"Exit","disconnect_button":"Disconnect","favorite_added_message":"Favorite added","favorite_removed_message":"Favorite removed","favorited_message":"Performer Favorited","featuring":"Featuring","finished_show":"I just finished my show...","free_account":"Get a Free Account","free_preview_expired":"Your free sneak preview has expired. Join now for FREE for unlimited guest access.","freemium_chat_notification":"To chat with me click here to unlock premium access","font_size":"Font size","forgot_password":"Forgot password?","generous_tip":"Show me how you feel","generous_tip_toy":"Give GOLD to activate my toy","give_amount_gold":"Give {{amount}} GOLD","give_gold_disabled":"Cannot Give GOLD","give_gold":"Give GOLD","goal":"GOAL","gold":"GOLD","gold_excited":"GOLD!","gold_billed":"* You will be billed by {{billedas}} in your own currency.","gold_countdown_preshow":"Help Me Reach My Goal in:","gold_disabled_in_paid":"Gold disabled in paid shows","gold_in_progress":"GOLD Show in progress...","gold_in_progress_timer":"You are joining a GOLD Show already in progress. Timer shows length of time left in the show.","gold_limit_msg":"Current maximum GOLD that can be given is {{limit}}.","gold_nomoney_warning":"Minimum of {{mingold}} is required to send GOLD. You have a maximum of {{maxgold}} available to spend.","gold_popup_gold_failure_prebill":"A system error or authorization charge attempt failure has occurred. Please try to send GOLD at a later time.","gold_popup_gold_failure_limit":"The amount entered is larger than your daily limit. Please adjust amount entered and resend.","gold_popup_gold_failure_no_show":"The GOLD Show is no longer available.","gold_popup_gold_failure":"A system error has occurred. Please try to send GOLD at a later time.","gold_popup_max":"You have a maximum of {{amount}} available to spend.","gold_popup_min":"You must give at least {{amount}} GOLD.","gold_popup_nomoney":"Thank you for using {{sitename}}. You have hit your GOLD limit in a paid session.  Contact Support via Live Support or call to speak to a representative","gold_popup_nomoney_short":"You have hit your GOLD limit in a paid session. Contact Support via Live Support or call to speak to a representative.","gold_popup_noservices":"An issue has been detected with your account.","gold_popup_noservices_b":"Please update your payment information or contact one of our customer service representatives.","gold_preshow_help":"You will NOT be billed if the performer cancels the show.","gold_show":"GOLD Show","goldshow_time_left":"remaining","gold_menu":"GOLD Menu","gold_menu_short":"Menu","gold_menu_view":"View My GOLD Menu","gold_menu_instructions":"Make a request by selecting an item on the menu","spin_gold":{"tab_title":"WHEEL SPIN","tab_title_short":"WHEEL","modal_header":"Spin and I\'ll do one of these:","see_all_items":"See All Items on the Wheel","spinning_now":"Spinning Now!","spin_the_wheel":"Spin The Wheel"},"gold_menu_choice":{"blow_job_tease":"Blowjob Tease","dirty_talk":"Dirty Talk","flash_tits":"Flash Tits","flex":"Flex","say_my_name":"Say My Name","show_ass":"Show Ass","show_feet":"Show Feet","spank":"Spank","sph":"SPH","stand_up":"Stand Up","twerk":"Twerk","dp":"DP","5x_spanks":"5x Spanks","ahegao_face":"Ahegao Face","anal":"Anal","armpit":"Armpit","asmr":"ASMR","ass_squeeze":"Ass Squeeze","asshole_flash":"Asshole Flash","ballgag":"Ballgag","bend_over":"Bend Over","birthday_wishes":"Birthday Wishes","blow_a_kiss":"Blow a Kiss","blow_job":"Blow Job","blow_job_with_toy":"Blow Job with Toy","boob_flex":"Boob Flex","bounce_tits":"Bounce Tits","bush_flash":"Bush Flash","butt_plug":"Butt Plug","cam_close_up_on_boobs":"Cam Close Up on Boobs","cam_close_up_on_cock":"Cam Close Up on Cock","cam_close_up_on_face":"Cam Close Up on Face","cam_close_up_on_feet":"Cam Close Up on Feet","cam_close_up_on_pussy":"Cam Close Up on Pussy","camel_toe":"Camel Toe","change_outfit":"Change Outfit","dance":"Dance","deep_throat_tease":"Deep Throat Tease","dildo_play":"Dildo Play","dirty_story":"Dirty Story","doggy_position":"Doggy Position","findom":"Findom","finger_your_pussy":"Finger Your Pussy","flash_pussy":"Flash Pussy","flip_off":"Flip Off","foot_job":"Foot Job","get_naked":"Get Naked","goddess_appreciation":"Goddess Appreciation","hand_bra":"Hand Bra","headstand":"Headstand","heels_on":"Heels On","hitachi_toy":"Hitachi / Magic Wand","ice_tease":"Ice Tease","insult":"Insult","jump_up_and_down":"Jump Up and Down","keep_top_off":"Keep Top Off","lactate":"Lactate","lick_lips":"Lick Lips","lipstick":"Lipstick","lotion_tease":"Lotion Tease","make_me_cum":"Make Me Cum","make_me_drool":"Make Me Drool","make_me_gag":"Make Me Gag","make_my_pussy_drip":"Make My Pussy Drip","massage_breasts":"Massage Breasts","moan":"Moan","moan_my_name":"Moan my Name","name_on_body":"Name on Body","nipple_clamps":"Nipple Clamps","oil_tease":"Oil Tease","paddle_ass":"Paddle Ass","panties_off":"Panties Off","panty_stuffing":"Panty Stuffing","pantyhose_off":"Pantyhose Off ","pantyhose_off_non_nude":"Pantyhose Off (non-nude)","pantyhose_on":"Pantyhose On","pantyhose_on_non_nude":"Pantyhose On (non-nude)","pigtails":"Pigtails","pinch_nipples":"Pinch Nipples","pole_dance":"Pole Dance","pussy_smacks":"Pussy Smacks","quick_spin":"Quick Spin","rate_cock":"Rate Cock","ride_on_that_cock":"Ride on that Cock","send_video":"Send Video","shake_ass":"Shake Ass","shoe_change":"Shoe Change","show_belly":"Show Belly","show_pink":"Show Pink","show_tongue":"Show Tongue","show_toys":"Show Toys","sloppy_blowjob":"Sloppy Blowjob","smile":"Smile","smoke_a_cigarette":"Smoke a Cigarette","song_request":"Song Request","spit":"Spit","spread_ass":"Spread Ass","spread_pussy":"Spread Pussy","squirt":"Squirt","strap-on":"Strap-on","striptease":"Striptease","suck_finger":"Suck Finger","suck_toes":"Suck toes","tit_fuck_tease":"Tit Fuck Tease","tribute":"Tribute","type":"Type","wet_t_shirt":"Wet T-shirt","wink":"Wink","toy_hand_job":"Toy Hand Job","cum_play":"Cum Play","10x_spanks":"10x spanks","boot":"Boot","booty_flash":"Booty Flash","bounce_ass":"Bounce Ass","flog":"Flog","full_body_tease":"Full body tease","lush":"Lush","marker":"Marker","nipple_lick":"Nipple Lick","oil_ass":"Oil ass","oil_tits":"Oil tits","pillow_hump":"Pillow Hump","play_tic_tac_toe_with_me":"Play tic tac toe with me","push_ups":"Push Ups","rate_your_dick":"Rate your dick","rub_my_panties":"Rub My Panties","sarcasm":"Sarcasm","send_picture":"Send picture","sexy_yoga":"Sexy Yoga","shake_that_booty":"Shake that booty","shake_weight":"Shake weight","show_ink":"Show ink","squats":"Squats","suck_dildo":"Suck dildo","suck_nipple":"Suck Nipple","thighmaster":"Thighmaster","titty_smacks":"Titty smacks","topless_dance":"Topless Dance","topless_spin":"Topless spin","vibe":"Vibe","vibe_10s":"Vibe (10s)"},"go_exclusive":"Go Exclusive","go_exclusive_delay":"You must wait {{time}} before you can upgrade from Private to Exclusive","go_private":"Go Private","guest":"Guest","guests":"Guests","guest_chat_system_message":"Welcome {{username}} to my live chat room. Type in the box to chat with me.","guest_chat_system_message_fosta":"Please do not share contact information with the performers.","have_account":"Already a member?","inmail_stay_in_touch":"Let\'s stay in touch.","inmail_private_message_me":"Private Message Me","join":"Join","join_show":"Join the Show","join_my":"Join My","join_my_live_show":"Join My Live Show!","join_my_gold_show":"Join My GOLD Show!","keep_in_contact":"Keep in Contact","lb_add_new_card":"Add Card","lb_anonymous_members":"Anonymous Members","lb_block_description":"Discounted Block Session","lb_block_exclusive":"Discounted Exclusive Block Session","lb_block_premium":"Discounted Premium Block Session","lb_block_subtext":"Up to an additional {{maxdiscount}} OFF!","lb_confirm":"Confirm","lb_contact_support":"Contact Support","lb_enjoy_show":"Enjoy The Show","lb_exclusive_description":"EXCLUSIVE","lb_exclusive_subtext":"1 on 1 sessions with you and me only","lb_gold":"GOLD","lb_premium_description":"PRIVATE","lb_premium_subtext":"Other customers may chat with me","lb_reconnect":"Reconnect","lb_reserve_short":"Reserve Your Spot","lb_resume_description":"Resume Discounted Block Session","lb_resume_subtext":"{{minduration}} minutes remaining at {{rate}}","lb_retry":"Retry","lb_update_info":"Update Info","leave_review":"Post a public review","link_add_fav":"Add Me To Favorites","link_remove_fav":"Remove Me From Favorites","live":"Live","live_cam":"{{performername}}\'s Live Cam","login":"Login","log_in":"Log In","manage_account":"Manage your account and much much more...","me":"ME","messenger":"Messenger","microphone_off":"Turn microphone off","microphone_on":"Turn microphone on","microphone_toggle":"Toggle microphone","microphone_toggle_disabled":"Toggle microphone disabled","minimum_buyin":"{{amount}} Minimum Buy-In","minute":"{{time}} minute","minutes":"{{time}} minutes","model_notifications":"Receive alerts when models are online","monitored":"Shows may be monitored for quality control.","more":"More","msg_give_gold_failed":"Sorry, your give gold attempt failed.","msg_give_gold_failed_esf":"Sorry, your give gold attempt failed. You may have attempted to give more than your available balance.","my_gold_show":"My GOLD Show","my_shows":"My Shows","new_msg_give_gold":"You + {{amount}}","msg_give_gold_menu":"You + {{amount}} {{keyword}}","nickname":"nickname","no":"No","no_drivers_header":"Your browser doesn\'t support this model\'s video.","no_drivers_msg":"You can try a different model, update your browser to the latest version, or try a different browser.","not_member":"Not a member yet?","notice_session_ended":"Site Notice - your chat session has ended","ok":"OK","on_break":"I\'m taking a short break.","online_now":"I\'m currently performing live...","oops":"Oops!","oops_somethings_wrong":"Oops! Something went wrong.","or_give_gold":"(or) Give GOLD!*","password":"Password","performer_offline":"I\'m currently offline.","offline":"Offline","performing_live":"I\'m currently performing live...","post_anonymously":"Show my nickname","powered_by":"Powered by","prebill_private_show":"An initial payment of {{prebill_amount}} is required to enter the full show.","premium_sessions":"Premium and Exclusive chat sessions ","prepaid_balance":{"add":"Add Funds Now","alert":"Oops! Your {{sitename}} prepaid balance is {{amount}}.","must_add":"You must add funds to your prepaid balance.","exhausted":"You have spent your {{sitename}} prepaid balance.","current":"Your prepaid balance is currently {{amount}}","suggest_add_funds_for_show":"Please consider <span>adding funds</span> to enjoy the full show.","require_add_funds_for_show":"You must <span>add funds</span> to enjoy the full show.","show_ended":"Show has ended because your prepaid balance is now {{amount}}.","show_ended_add_funds":"Please consider <span>adding funds</span> now."},"preview_chat_system_message":"To talk to this model please join for free, or login if you are already a member.","privcalls_connect_message_1":"Caller: Setting some stuff up (Illustrating override capabilities for these messages)","privcalls_connect_message_2":"Caller: Figuring out how to send stuff","privcalls_connect_message_3":"Caller: Waiting for the person you called","privcalls_connect_message_4":"Caller: Figuring out how to get their stuff","privcalls_connect_message_5":"Caller: Waiting to receive the stuff they\'re sending","quality":"Quality","quality_icon_tooltip":"Stream Quality","quality_info_tooltip_a":"Higher resolutions will improve picture quality,","quality_info_tooltip_b":"but may result in an inconsistent stream.","quick_chat_saved_messages":"Saved Messages","quick_chat_add_saved_message":"Add new saved message","quick_chat_select_saved_message":"Select a saved message","rate":"{{rate}}/minute","rate_show":"Rate my show:","refresh":"Refresh","remember":"Remember Me","report_content":{"title":"Tell us why you are reporting this content","report_button_text":"Report Content","reason":{"violation":"Violates the site\'s Terms of Service","infringes":"Infringes my rights or other legal concern","stolen":"Stolen material (DMCA)/copyright concerns","abusive":"Abusive, violent, harmful, or hateful actions","minor":"Potentially includes a minor"},"content_type":{"free":"Free","paid":"Paid","content_post":"Report Content Post Content","message":"Report Message Content","photo":"Report Media","video":"Report Video Content","live_stream":"Report Live Content","bio_pic":"Report Image Content"}},"requested":"Requested","reserve_spot":"Reserve A Spot For My Show","reserved_spot":"Your spot is reserved!","reserved_spot_short":"Spot reserved!","resume_session":"Resume your block session ({{discountedrate}} for {{duration}} minutes)","room_full":"Room is full","room_topic":"Room Topic","rotate_to_chat":"Rotate Device To Chat","save":"Save","save_favorites":"Save your favorite models","seconds":"seconds","select_block":"Select Block Session","select_private_show":"Select a Private Show","select_show":"Select your show","select_tip_amount":"Select GOLD amount","send":"Send","show":"Show","show_info":"Show Info","show_duration":"{{duration}} minute show","show_less":"Show less","show_more":"Show more","show_starting":"Show will start soon","show_starts_at":"Show starts at","sign_up":"Create Free Account","similar_models":"Similar Models","site_notice":"Site Notice","start_play":"tap here to view the stream","start_private":"Start Private Show","streaming_issue_black_screen":"Screen is black","streaming_issue_quality":"Image is poor quality","streaming_issue_audio_missing":"Audio is missing","streaming_issue_audio_sync":"Audio is out of sync","streaming_issue_cam2cam":"Cam2Cam issue","streaming_issue_other":"Other","streaming_issue_stutter":"Video is stuttering","streaming_issue_report":"Report Stream Quality","streaming_issue_report_short":"Report Issue","streaming_issue_thank_you":"Thank you for your submission","refresh_page":"Refresh Page","submit":"Submit","support":"Support","tags":"Tags","tags_min_length":"Tags must be at least {{tagLengthMin}} characters long (letters, numbers, spaces, \'-\' and \'_\' only)","tags_max_length":"Tags may be only {{tagLengthMax}} characters in length","tags_max_user_and_global_tags":"You may only have a maximum of {{tagCountMax}} tags","tags_max_tags":"You may enter a maximum of {{tagCountMax}} tags","tags_placeholder":"Add tags, {{tagLengthMin}}-{{tagLengthMax}} characters, use commas","tags_empty":"This model has no tags! Add a tag now!","take_private":"Take me private","terms":"Terms & Conditions","thankyou":"Thank You!","top_contributors":{"title":"Leaderboard","your_pledge":"Your current pledge","you":"(you)","take_1st_cta":"Take 1st Place!","take_the_lead":"Take The Lead!","1st":"will put you in 1st place","2nd":"will put you in 2nd place","3rd":"will put you in 3rd place","take":"TAKE THIS POSITION!","add":"ADD GOLD TO ENTER TOP {{topcontributorplaces}}","top":"TOP CONTRIBUTOR!","unavailable":"Top Contributor list is temporarily unavailable"},"touch_here":"TOUCH HERE TO ENTER THE SHOW","try_again":"Try again","try_again_later":"Please try again later.","until_show":"until show","upgrade_free":"Upgrade to Premium for FREE","upgrade_now":"Upgrade to PREMIUM Now","upgrade_premium":"Upgrade to Premium!","user_shackled":"You have reached your daily spending limit.","users":"Users","use_gold":"Use GOLD","video_resize_large":"View Larger","video_resize_small":"View Smaller","want_to_comment":"Want to comment on the show?","wrn_lt_minbuyin":"The minimum buy-in required to reserve your spot for the show is {{amount}} in a single transaction. You must edit the amount entered and resend.","refresh_warning_line_1":"The video may have loading issues.","refresh_warning_line_2":"Please refresh to try again.","yes":"Yes","cam2cam_end":"End Cam2Cam","cam2cam_confirm_end":"End Cam2Cam?","cam2cam_confirm_end_details":"The model will no longer be able to see or hear you.","cam2cam":"Cam2Cam","cam2cam_disconnect":"Disconnect Cam2Cam","cam2cam_modal":"Accessing this feature will use your device\'s camera and microphone to allow the model to see and hear you.","cam2cam_modal_b":"Request Cam2Cam?","cam2cam_retry_modal":"Would you like to retry?","retry":"Retry","cam2cam_video_in_preview_init":"Starting Cam2Cam Session","cam2cam_cancel_request":"Cancel Cam2Cam Request?","cam2cam_request_denied":"The performer has declined the Cam2Cam request.","cam2cam_request_accepted":"The performer has accepted the Cam2Cam request.","cam2cam_request_timeout":"Your Cam2Cam request has timed out.","cam2cam_request_rejected":"Your Cam2Cam request was rejected.","cam2cam_permission_error":"This performer is not accepting Cam2Cam requests right now.","cam2cam_grant_camera_access":"Please grant camera/microphone access in your web browser.","cam2cam_access_timeout":"Unable to start a Cam2Cam session without camera and microphone access.","cam2cam_broadcaster_err":"Unable to start the Cam2Cam session.","cam2cam_err_end":"Cam2Cam session ended due to error.","cam2cam_performer_end":"The performer has ended the Cam2Cam session.","cam2cam_requires_flash":"This feature requires Adobe Flash player.","cam2cam_get_flash":"Get Adobe Flash player","cam2cam_attach_camera":"Attach a camera to chat Cam2Cam","cam2cam_attach_microphone":"Attach a microphone to chat Cam2Cam","flash_warning":"To continue using this feature, you may need to configure your","cam2cam_optimized_for":"Cam2Cam is currently optimized for:","flash_settings":"Flash settings","close_cam2cam":"Close Cam2Cam?","cam2cam_in_use":"Cam2Cam is currently in use by another person.","cam2cam_available":"Cam2Cam is now available.","cam2cam_audio":"Cam2Cam Audio","cam2cam_reopen_preview":"Reopen Cam2Cam preview.","voice_chat":"Voice Chat","voice_chat_in_use":"Voice Chat in use","voice_modal":"Using this feature will access your device microphone and allow the performer to hear you.","voice_modal_b":"Allow Voice Chat?","voice_chat_cancel_request":"Cancel Voice Chat Request?","turn_off_voice_chat":"Turn Off Voice Chat?","voice_chat_unavailable":"CAM2CAM and/or Voice Chat is currently in use by another person.","required":"Required","2257_content":"In compliance with U.S.C. Title 18, Sections 2257 and 2257A and related regulations, all performers, models, actors, actresses and other persons who appear in any visual depiction of actual or simulated sexually explicit conduct appearing on or otherwise contained on this website are or were 18 years of age or older at the time of the creation of such depictions. Records required to be maintained pursuant to U.S.C. Title 18, Sections 2257 and 2257A are located at and maintained by:","2257_address":"sdroceR fo naidotsuC\\n.cnI ,ygolonhceT FCI\\ntS trawetS 008\\n10189 AW ,elttaeS","tandc_title":"Terms and Conditions","tandc_header":"","tap_click_retry":"Tap or click to retry","request":"Request","stay_in_touch":"Stay In Touch","follow_me":"Follow Me","performer_notifications_title":"Get Notifications","performer_notifcations_desc":"Stay up to date with notifications about this model","performer_notifcations_setup":"Edit Settings","sms_alert_desc":"Receive text messages about this performer","push_not_desc":"Get notified on this device when performer is live","sms_alert_settings_link":"Set Up SMS Settings to enable SMS Alerts","sms_alert_verifying":"We are verifying your SMS information. Check back soon.","start_conversation":"Send a Private Message","payment_declined":"Unfortunately, your chosen payment method was declined.","payment_declined_esf":"You have reached your available balance.","cam2cam_update_browser":"Upgrade to the latest browser version to enjoy Cam2Cam","cam2cam_settings":"Cam2Cam Settings","webcam_off":"Turn camera off","webcam_on":"Turn camera on","browse_my_videos":"Browse My Videos","video_enter_fullscreen":"Enter Fullscreen","video_exit_fullscreen":"Exit Fullscreen","fullscreen_not_supported":"Fullscreen not supported in this browser","open_live_chat":"Open Live Chat","close_live_chat":"Close Live Chat","vibes_on":"My Live Vibe is on!","vibes_description":"When you give GOLD, Live Vibe activates the performer\'s toy, allowing you to have a more interactive show with the performer.","photos_empty":"This performer currently has no photos.","photos_error":"There was an error loading photos.","photos_next":"Next","photos_previous":"Previous","photos_reload":"reload","performer_bio":"Performer Bio","photos":"My Photos","photos_load_more":"Load More Photos","photos_browse":"Browse My Photos","comments_anon":"Anonymous","reviews_empty":"This model has no reviews.","reviews_explain":"Leave a review and rate the model after a private session.","reviews_explain_goldonly":"When you have sent GOLD during a session, leave a review and rate the model upon exiting (if offered).","reviews_load_more":"Load More Reviews","reviews":"Member Reviews","bio_gender":"Gender","bio_sex_pref":"Sexual Orientation","bio_languages":"Languages Spoken","bio_appearance":"Appearance","bio_height":"Height","bio_weight":"Weight","bio_hair_color":"Hair Color","bio_eye_color":"Eye Color","bio_build":"Build","bio_ethnicity":"Ethnicity","bio_cup_size":"Cup Size","bio_cock_size":"Cock Size","bio_pubic_hair":"Pubic Hair","bio_measurements":"Measurements","bio_circumcised":"Circumcised","bio_chest":"Chest","bio_body_hair":"Body Hair","bio_kinky":"Kinky Attributes","bio_features":"Features","bio_expertise":"Expertise","bio_turnons":"Turn Ons","bio_last_performance":"Last Performance","bio_zodiac":"Zodiac","bio_last_performance_has_not_streamed":"Has yet to stream","feature_hd":"High Definition Video","feature_voip":"Confidential Phone Service","test_cam2cam":"Test Cam2Cam","testing_cam2cam":"Testing Cam2Cam","searching_for_microphone":"Searching for microphone...","searching_for_webcam":"Searching for webcam...","receiving_video":"Receiving Video...","receiving_audio":"Receiving Audio...","cam2cam_sucessful":"Cam2Cam Successful","cam2cam_unavailable":"Cam2Cam Unavailable","webcam_failed":"Your webcam is not working correctly","webcam_passed":"Your webcam is working correctly","microphone_failed":"Your microphone is not working correctly","microphone_passed":"Your microphone is working correctly","connection_failed":"Unable to broadcast","connection_passed":"Able to broadcast","having_problems":"Having problems connecting with Cam2Cam?","view_faq":"View FAQ","continue":"Continue","quick_tip":{"title":"Quick GOLD","info":"[[quick_tip.title]] gives you the convenience of sending GOLD with one click. Charges will automatically be processed every time you click one of the [[quick_tip.title]] amounts.","update_custom_info":"Adjust your preferred [[quick_tip.title]] amount.","update_current_amount":"Your current [[quick_tip.title]] amount is {{amount}} GOLD.","update_amount":"Update [[quick_tip.title]] Amount","edit":"Edit [[quick_tip.title]]"},"videos":{"bio_title":"My Videos","bio_title_mobile":"Recent Videos","confirm_purchase_button":"Confirm Purchase","confirm_purchase_title":"Purchase Video","duration":"Video Length","new":"New!","purchase_error_purchase_failed":"We\'re currently unable to process your request. Please try again later.","purchase_error_video_modified":"Some information about the video(s) you selected has changed. Please update your selections and try again.","purchase_over_goldlimit":"New users are only allowed to spend {{newUserSpendingLimitAmount}} per day outside of paid chat.","purchase_success_close":"Close","purchase_success_title":"Thank You!","purchase_success_watch":"Watch Your New Videos","total":"Total","uploaded":"Uploaded","logged_out_hover":"to view and purchase videos","watch_now":"Watch now","fanclub":{"video_all_access":{"tooltip":"You got this video by joining {{performerName}}\'s Fan Club"},"video_all_access_private":{"tooltip":"You got this secret video by joining {{performerName}}\'s Fan Club"}}},"update_payment_info":"Update Payment Information","update_billing_info":"Update Billing Information","update_payment_description":"To access paid services, please update your payment information below or contact our support team for assistance","mute_audio":"Mute Audio","unmute_audio":"Unmute Audio","go_to_top":"Go To Top","notify_me":"Notify Me When Available","notify_me_enabled":"Availability Notification Set","video":"Video","audio":"Audio","on":"On","off":"Off","no_video":"No Video","no_audio":"No Audio","audio_on":"Audio On","performer_attributes":{"bodyhair":{"smooth":"Smooth","shaved/trimmed":"Shaved/Trimmed","moderately hairy":"Moderately Hairy","hairy":"Hairy","furry":"Furry"},"build":{"bbw":"BBW","curvaceous":"Curvaceous","average":"Average","athletic":"Athletic","slender":"Slender","muscular":"Muscular","husky":"Husky","one big boy":"One Big Boy","petite":"Petite","compact":"Compact"},"circumcised":{"cut":"Cut","uncut":"Uncut"},"cocksize":{"pocket size":"Pocket Size","average":"Average","big":"Big","whoa":"Whoa"},"cupsize":{"h plus":"H plus","i plus":"I plus","j plus":"J plus","k plus":"K plus"},"ethnicity":{"white":"White","black":"Black","hispanic":"Hispanic","asian":"Asian","east indian":"East Indian","native american":"Native American","middle-eastern":"Middle-Eastern","pacific islander":"Pacific Islander","mediterranean":"Mediterranean","european":"European","roma":"Roma"},"eyecolor":{"blue":"Blue","green":"Green","hazel":"Hazel","brown":"Brown","grey":"Grey"},"fetishes":{"bdsm":"BDSM","leather":"Leather","rubber":"Rubber","feet":"Feet","smoking":"Smoking","anal":"Anal","underwear":"Underwear","voyeur":"Voyeur","spanking/paddling":"Spanking/Paddling","roleplay":"Roleplay","shaving":"Shaving","stockings/nylons":"Stockings/Nylons","dominant":"Dominant","submissive":"Submissive","deepthroat":"Deepthroat","femdom":"Femdom","lactation":"Lactation","cuckold":"Cuckold","facials (couples)":"Facials (Couples)","creampie (couples)":"Creampie (Couples)","gagging":"Gagging","whips":"Whips","interactive vibrator":"Interactive vibrator"},"gender":{"f":"Female","ff":"Couple (female)","m":"Male","mm":"Couple (male)","mf":"Couple (male-female)","tf2m":"Transsexual (f2m)","tm2f":"Transsexual (m2f)","shm":"Shemale","g":"Group"},"haircolor":{"blond":"Blond","red":"Red","brown":"Brown","black":"Black","white":"White","gray":"Gray","salt and pepper":"Salt and Pepper","dyed":"Dyed"},"languages":{"english":"English","french":"French","spanish":"Spanish","italian":"Italian","german":"German","swedish":"Swedish","portuguese":"Portuguese","dutch":"Dutch"},"pubichair":{"bald":"Bald","hairy":"Hairy","trimmed":"Trimmed"},"sexpref":{"straight":"Straight","gay":"Gay","bisexual":"Bisexual"},"theme":{"pregnancy":"Pregnancy","toys":"Toys","tattoos":"Tattoos","piercings":"Piercings","housewives":"Housewives","non-adult":"Non-Adult","alternadudes":"Alternadudes","daddy":"Daddy"},"zodiac":{"aries":"Aries","taurus":"Taurus","gemini":"Gemini","cancer":"Cancer","leo":"Leo","virgo":"Virgo","libra":"Libra","scorpio":"Scorpio","sagittarius":"Sagittarius","capricorn":"Capricorn","aquarius":"Aquarius","pisces":"Pisces"}},"billing_info":{"fee_percentage":"An additional {{feePercentage}} PayPal service charge will be added to your final purchase.","vat_percentage":"An additional {{taxPercentage}} VAT will be added to your final purchase.","tax_percentage":"An additional {{taxPercentage}} sales tax will be added to your final purchase.","paypal_vat_included":"Pricing includes {{feePercentage}} PayPal service charge and {{taxPercentage}} VAT.","paypal_tax_included":"Pricing includes {{feePercentage}} PayPal service charge and {{taxPercentage}} sales tax.","vat_included":"Pricing includes {{taxPercentage}} VAT.","tax_included":"Sales tax of {{taxPercentage}} included.","paypal_included":"Pricing includes {{feePercentage}} PayPal service charge.","vat_included_text_only":"includes VAT","fee_included_text_only":"includes service charge","vat_fee_included_text_only":"includes service charge and VAT"},"fanclub":{"benefits":{"all_access":"All Access","continue_to_enjoy":"Continue to enjoy the Fan Club benefits until","discount_applied":"Enjoy your Fan Club discount.","no_live_show_discount":"This plan does NOT have a live show discount","percent_exclusive_show_discount":"{{discountPercentage}} discount on all Exclusive Shows","percent_private_show_discount":"{{discountPercentage}} discount on all Private Shows","special_icon":"Special icon next to your name in chat","video_access":{"headline":"Video Store","description_all":"Enjoy all existing and future videos from my store.","description_some":"Enjoy a selection of handpicked videos from my store."},"video_access_private":{"headline":"Secret Video","description_all":"Unlock all existing and future secret videos from my private collection.","description_some":"Unlock select secret videos from my private collection."},"video_collection":"View your Fan Club videos in your","video_collection_link":"Video Collection","video_selected_access":"FREE Access to select videos in my video store","video_upsell":"Fan Club members get FREE access to my videos!","will_end_on":"Benefits will end on"},"blockers":{"contact_support":"Contact Support.","daily_limit_cta":"Update the daily limit.","ineligible":"Sorry, your account is currently not eligible for Fan Club membership.","low_lifetime_spend":"To join a Fan Club, your account must have an active spending history. Continue to enjoy the site and check back later!","spending_not_enabled":"To join a Fan Club, you must have a valid credit card (or other recurring payment method) added to your account.","update_daily_limit":"You cannot join this Fan Club at this time because you have reached your daily limit.","update_now":"Update Now."},"membership":{"cancelled":"Membership Cancelled","cannot_subscribe":"Sorry, your account is not eligible to join Fan Clubs at this time. Please contact support to find out more.","fanclub_member":"Fan Club Member","hi_member":"Hi, Fan Club Member!","join":"Join My Fan Club","join_now":"Join Now!","looks_cancelled":"It looks like you\'ve cancelled your membership.","renew":"Renew","renew_any_time":"You can renew any time","renew_membership":"Renew Membership","subscribe_failed_error":"Subscription could not be created at this time.","success":"You are now a Fan Club member.","unsubscribe":"Unsubscribe","unsubscribe_failed_error":"Subscription could not be cancelled at this time."},"next_billing_date":"Next billing","per_month":"per month","success":"Success!"},"online_activity":{"title":"When I\'m Online","likely_offiline":"Likely offline","not_likely_to_be_online":"Not likely to be online","may_be_online":"May be online","likely_to_be_online":"Likely to be online","very_likely_to_be_online":"Most likely to be online"},"drag_to_resize":{"long":"DRAG TO RESIZE","short":"DRAG TO RESIZE"},"two_factor_authentication":{"button_text":"Send Verification Email","check_junk":"If you don\'t see the email, check your spam or junk folders.","close_snackbar":"Close","expiration":"This link will expire in 1 hour.","max_login_attempts":"You have attempted too many logins in a short period of time. Please try again later.","security":"For security purposes, you will need to verify your account by clicking the link in the verification email once it is received.","send_email_failed":"We\'re sorry. There was a problem with your request. Please refresh the page and try again.","send_email_success":"To complete the verification process, check your email.","verify_to_continue":"Verify your email to continue..."},"system_chat_messages":{"goldSent":"{{nickname}} + {{goldAmount}}","goldSentWithKeyword":"{{nickname}} + {{goldAmount}} {{keyword}}","goldShowCanceled":"Sorry. The show was not started. If you pledged GOLD, you will not be billed.","goldShowGoalReached":"GOLD Show goal reached! Performer will start the show shortly.","userLoggedOff":"{{nickname}} has logged off","userLoggedOn":"{{nickname}} has logged on","blockSessionOneMinuteLeft":"You have 1 minute remaining on your {{durationMin}} minutes Block Session, but feel free to continue chatting. We will automatically switch back to the per-minute system, and your discounted price will continue to apply.","blockSessionMinutesLeft":"You have {{timeLeftMin}} minutes remaining on your {{durationMin}} minutes Block Session, but feel free to continue chatting. We will automatically switch back to the per-minute system, and your discounted price will continue to apply."},"bitrate_selector":{"source":"Source","high":"High","medium":"Medium","low":"Low"},"wait_to_join":"Please wait to join my show.","will_be_connected":"You will be connected in","unable_to_join":"Sorry, unable to join the show. Please try again later.","clear_cache":"Please clear your browser\'s cache, then refresh to try again.","you":"You"}');function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={en:_},E={de:function(){return n.e(10).then(n.t.bind(n,"./src/assets/loc/de/hybrid-strings.json",19))},es:function(){return n.e(10).then(n.t.bind(n,"./src/assets/loc/es/hybrid-strings.json",19))},fr:function(){return n.e(10).then(n.t.bind(n,"./src/assets/loc/fr/hybrid-strings.json",19))},he:function(){return n.e(10).then(n.t.bind(n,"./src/assets/loc/he/hybrid-strings.json",19))},it:function(){return n.e(10).then(n.t.bind(n,"./src/assets/loc/it/hybrid-strings.json",19))},nl:function(){return n.e(10).then(n.t.bind(n,"./src/assets/loc/nl/hybrid-strings.json",19))},no:pt:function(){return n.e(10).then(n.t.bind(n,"./src/assets/loc/pt/hybrid-strings.json",19))},sv:function(){return n.e(10).then(n.t.bind(n,"./src/assets/loc/sv/hybrid-strings.json",19))}},C=/{{\w+?}}/g,Z=new(function(){function e(){(0,s.Z)(this,e),this.strings=null,this.stringsJson=null,this.variablesRequired={},this._translatorElement="undefined"!=typeof window?document.createElement("div"):null,this.preprocessedTemplateVariables={},this.loadedLanguage="en",this.loadStrings(_,"en"),this.getString=this.getString.bind(this)}var t;return(0,a.Z)(e,[{key:"setLanguage",value:(t=(0,i.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S[t]||!E[t]){e.next=8;break}return e.next=3,E[t]();case 3:n=e.sent,S[t]=n.default,this.loadStrings(S[t],t),e.next=9;break;cs.loadStrings(_,"en");case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getLoadedLanguage",value:function(){return this.loadedLanguage}},{key:"loadStrings",value:function(e,t){this.stringsJson=d()(e),this.variablesRequired=this._findTemplateVariables(this.stringsJson,e),Object.keys(this.preprocessedTemplateVariables).length?this.strings=this._preprocess(this.stringsJson,this.preprocessedTemplateVariables,this.variablesRequired):this.strings=this.stringsJson,this.loadedLanguage=t}},{key:"getString",value:function(e){var t=this;if(!this.strings||!e)return"";var n=m()(this.strings,e),o=n;if(void 0===n){var i=m()(_,e);if(void 0===i)return g.Z.error({message:"string-missing",stringPath:e}),v.Z.DEBUG,"";o=i}var s=o.match(C);if(!s)return o;var a=function(n,o,i){return"object"===(0,r.Z)(i)?i.stringPath?n.replace(o,t.getString(i.stringPath,i.templateVariables)):(g.Z.error({message:"string-variables-nested-missing-path",stringPath:e,string:n}),void v.Z.DEBUG):n.replace(o,i)};if(1==(arguments.length<=1?0:arguments.length-1)&&"object"===(0,r.Z)(arguments.length<=1?void 0:arguments[1])){var l=arguments.length<=1?void 0:arguments[1];s.length!==Object.keys(l).length&&(g.Z.error({message:"string-variables-mismatch-key-value",stringPath:e,string:o}),v.Z.DEBUG);for(var c=0;c<s.length;c++){var u=s[c].substring(2,s[c].length-2);if(!l[u])return g.Z.error({message:"string-variables-missing-key-value",stringPath:e,string:o,key:u}),v.Z.DEBUG,"";o=a(o,s[c],l[u])}return o}if(s.length!==(arguments.length<=1?0:arguments.length-1))return g.Z.error({message:"string-variables-missing",stringPath:e,string:o}),v.Z.DEBUG,"";for(var d=0;d<s.length;d++)o=a(o,s[d],d+1<1||arguments.length<=d+1?void 0:arguments[d+1]);return o}},{key:"localizationExists",value:function(e){return Boolean(m()(this.strings,e))}},{key:"stringExists",value:function(e){return this.localizationExists(e)||Boolean(m()(_,e))}},{key:"preprocessStrings",value:function(e){if("object"!==(0,r.Z)(e))throw new Error("templateVariables must be an object");this.preprocessedTemplateVariables=b(b({},this.preprocessedTemplateVariables),e),this.strings=this._preprocess(this.stringsJson,this.preprocessedTemplateVariables,this.variablesRequired)}},{key:"htmlToUtf",value:function(e){if(!e)return e;var t={"&#3","&#82;":"R"},n=e;return Object.keys(t).forEach((function(e){for(;n.indexOf(e)>=0;)n=n.replace(e,t[e])})),n}},{key:"removeHtmlTags",value:function(e){return e?e.replace(/<[^>]*>/g,""):e}},{key:"scrubEntities",value:function(e){if(null==e)return e;if("string"!=typeof e)return e;if(e.indexOf("&")<0)return e;var t=e;return(t=t.replace(/.script>[\S\s]*?<\/script./gim,""))&&"string"==typeof t&&(this._translatorElement.innerHTML=t,t=this._translatorElement.textContent,this._translatorElement.textContent=""),t}},{key:"_preprocess",value:function(e,t,n){var o=d()(e);return n?(Object.keys(t).forEach((function(e){var r=t[e]||"",i="{{"+e+"}}";n[i]&&n[i].forEach((function(e){var t=m()(o,e).replace(i,r);f()(o,e,t)}))})),o):o}},{key:"_findTemplateVariables",value:function(e,t){var n={};return this._findTemplateVariablesRecursive(e,[],n,t),n}},{key:"_findTemplateVariablesRecursive",value:function(e,t,n,o){var i=this;Object.keys(e).forEach((function(s){if("object"!==(0,r.Z)(e[s])){i._replaceInternalStrings(e,s,o);var a=e[s].match(C);a&&a.forEach((function(e){n[e]||(n[e]=[]),n[e].push(t.concat(s).join("."))}))}else i._findTemplateVariablesRecursive(e[s],t.concat(s),n,o)}))}},{key:"_replaceInternalStrings",value:function(e,t,n){for(var o=[],r=/\[\[(.+?)\]\]/gm,i=/\[\[(.+?)\]\]/gm,s=[];null!==(o=r.exec(e[t]));){var a=m()(n,o[1]);a?a&&a.match(i)?(console.error("String for key: ".concat(o[1]," uses unsupported nested interpolation")),v.Z.DEBUG):s.push([o[0],a]):(console.error("String key ".concat(o[1]," not found")),v.Z.DEBUG)}s.forEach((function(n){e[t]=e[t].replace(n[0],n[1])}))}},{key:"measureStringWidth",value:function(e,t){var n=document.createElement("canvas").getContext("2d");return n.font=t,n.measureText(e).width}}]),e}());const P=Z;var O=Z.getString,T=(Z.localizationExists,Z.stringExists,"en"),I=""},"./src/stores/ChatStore.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>ie});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),i=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),d=n("webpack/sharing/consume/default/react/react"),p=n.n(d),m=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),h=n("./node_modules/lscache/lscache.js"),f=n.n(h),g=n("./src/lib/Dispatcher.js"),v=n("./src/lib/Strings.js"),_=n("./src/lib/RoomClient.ts"),y=n("./src/constants/RpcCalls.js"),b=n("./src/constants/ChatConstants.ts"),S=n("./src/constants/Connection.js"),E=n("./src/constants/Actions.js"),C=n("./src/constants/Messages.js"),Z=n("./src/constants/NaiadSessionType.js"),P=n("./src/constants/Platforms.ts");const O="preauth",T="shackled";var I=n("./src/stores/UserStore.js"),w=n("./src/stores/PerformerSubscribersStore.js"),A=n("./src/stores/LayoutStore.js"),R=n("./src/stores/ConnectionStore.js"),k=n("./src/stores/GoldMenuStore.ts"),D=n("./src/stores/GoldShowStore.js"),L=n("./src/utils/tools.ts"),N=n("./src/utils/log.js"),x=n("./src/utils/gold.js"),j=n("./src/utils/billing.ts"),M=n("./src/utils/FluxStoreExtended.ts"),B=n("./src/utils/goldMenu.ts"),U=n("./src/utils/spinGold.ts"),G=n("./src/components/goldmenu/GoldMenuButton.js"),V=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),F=n("./src/components/gold/GoldChatUpsell.tsx"),H=n("./src/constants/StatsEvents.js"),Y=n("./src/constants/LomsEvents.js"),W=n("./src/utils/lomsTools.js"),z=n("./src/utils/forPlatforms.tsx");function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var K=function(e){(0,a.Z)(n,e);var t=q(n);function n(e){var r,s=e.props;(0,i.Z)(this,n),r=t.call(this,s),(0,o.Z)((0,V.Z)(r),"onStoreChange",(function(){var e=(0,B.o)(),t=e.visible,n=e.enabled;t===r.state.visible&&n===r.state.enabled||r.setState({visible:t,enabled:n})}));var a=(0,B.o)(),l=a.visible,c=a.enabled;return r.state={enabled:c,visible:l,tokens:[]},r}is.setState({tokens:B.A.map((function(t){return t.addListener(e.onStoreChange)}))})}},{key:"componentWillUnmount",value:function(){this.state.tokens.forEach((function(e){return e.remove()}))}},{key:"handleInitialClick",value:function(){var eturn!!(0,j.I)({givingGold:!0})&&((0,W.Tg)("".concat(Y.Z.CTA_BUTTONS.GOLD_MENU_ITEM,".").concat(e.keyword),t),!0)}},{key:"removeSelf",value:function(){var e=this.props.identifier;(0,F.Md)(e)}},{key:"handleConfirmSpendClick",value:function(){var e=this.props.goldMenuItem.keyword.toLowerCase().replace(/\s/g,"").replace(/\./g,"_");N.Z.statsIncCounter(H.Z.GOLD_MENU.ITEM_BASE+e)}},{key:"render",value:function(){var e=this,t=this.props.goldMenuItem,n=this.state,o=n.visible,r=n.enabled;return o?p().createElement(F.ZP,{identifier:this.props.identifier,goldAmountFractional:t.cost,onInitialClick:function(){return e.handleInitialClick()},onConfirmSpendClick:function(){return e.handleConfirmSpendClick()},anonymizedEventName:"GoldMenuChatUpsell",initialUpsellLabel:(0,v.KF)("gold_menu_choice.".concat(t.keyword))||t.description,disabled:!r,upsellSubmitOptions:{goldMenuItem:t}}):(setTimeout((function(){return e.removeSelf()})),null)}}]),n}(d.Component);const X=(0,z.Z)({exclude:[P.ZP.EXTERNAL_SITE_SHOW]})(K);var Q=n("./src/components/spingold/SpinGoldButton.tsx");function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var te=m.ZP.span.withConfig({displayName:"ChatStore__FreemiumMessageContainer",componentId:"sc-ewfc0b-0"})(["font-weight:bold;cursor:pointer;"]),ne=function(){return Number.parseInt(f().get("desktopFontSize")||b.Z.DEFAULT_DESKTOP_FONT_SIZE,10)},oe=function(){return{authorized:!1,messages:[],totalMessagesAdded:0,usernickname:"",private:!1,chat:"",waitToSend:!1,desktopFontSize:ne(),platform:void 0,goldMenuUpsellsEnabled:!1,goldMenuItemUpsellsEnabled:!1,hasShownInitialUpsell:!1,messagesSinceUpsell:0,upsellTimeout:void 0,spinGoldUpsellsEnabled:!1,goldShowChatCounter:{},latestGoldShowId:void 0}},re=oe();const ie=new(function(e){(0,a.Z)(n,e);var t=ee(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getState",value:function(){return re}},{key:"addMessage",value:function(e){if(e)if(e.text||e.stringPath){e.text=v.ZP.scrubEntities(e.text),e.identifier=e.identifier||re.totalMessagesAdded;var t=re.messages;t.unshift(e),t=this._maintainQueueLength(t),re.messages=(0,u.Z)(t),++re.totalMessagesAdded,e.type!==b.Z.USERTYPE_DEFAULT&&e.type!==b.Z.USERTYPE_ME&&e.type!==b.Z.USERTYPE_FREE&&e.type!==b.Z.USERTYPE_PERFORMER||(re.messagesSinceUpsell++,this.handleChatUpsells())}else N.Z.error({message:"ChatStore is queuing up empty messages: empty lse N.Z.error("ChatStore is queuing up empty messages: empty message Object")}},{key:"removeMessage",value:function(e){e&&(re.messages=re.messages.filter((function(t){return t.identifier!==e})))}},{key:"addSystemMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.identifier,o=void 0===n?void 0:n,r=t.isItalic,i=void 0!==r&&r;e?this.addMessage({type:b.Z.USERTYPE_SYSTEM,text:e,isSystem:!0,flags:b.Z.RPCFLAGS_SYSMSG,isItalic:i,identifier:o}):N.Z.error("attempting to add empty system message")}},{key:"addTemplateSystemMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.templateVariables,o=void 0===n?{}:n,r=t.isItalic,i=void 0!==r&&r,s=t.isGold,a=void 0!==s&&s;e?this.addMessage({type:b.Z.USERTYPE_SYSTEM,isSystem:!0,flags:b.Z.RPCFLAGS_SYSMSG+(a?b.Z.RPCFLAGS_GOLDMSG:0),isItalic:i,isGold:a,stringPath:e,templateVariables:o}):N.Z.error("attempting to add empty system message")}},{key:"_maintainQueueLength",value:function(e){return e.length>b.Z.MAX_MESSAGES&&e.splice(-1,1),e}},{key:"handleLoadConfig",value:function(e){var t=e.config,n=e.platform;t.user&&(re.usernickname=t.user.nickname),re.platform=n}},{key:"sendMessageToSocket",value:function(e,t,n){if(!0!==re.waitToSend)if(I.Z.getState().isNonBillable&&t!==Z.Z.EXTERNAL){N.Z.usageTick("freemium_chat_upsell_request"),N.Z.statsIncCounter("session.freemium.upsell.chat.request");(0,g._)({type:E.Z.DISPLAY_MESSAGE,data:{message:(0,r.Z)(te,{onClick:function(){N.Z.usageTick("freemium_chat_upsell_click"),N.Z.statsIncCounter("session.freemium.upsell.chat.click"),(0,L.Vj)(C.Z.NONBILLABLE_USER,{})}},void 0,v.ZP.getString("freemium_chat_notification"))}})}else{if(t===Z.Z.PREVIEW)return N.Z.usage("requires_auth"),void(0,L.Vj)(C.Z.REQUIRES_AUTH,{userType:n});if(t===Z.Z.BASIC&&!I.Z.getState().allowBasicChat)return N.Z.usage("user_nonpremium",n),void(0,L.Vj)(C.Z.NONPREMIUM_USER,{});N.Z.info("Sending Message via RoomClient:"+JSON.stringify(e.text)),N.Z.statsIncCounter("messages.sent.attempted"),_.ZP.sendChatMessage(e.text,e.isPrivate)}else N.Z.info("not sending chat message while waiting for performer to accept session")}},{key:"handleSendingMessage",value:function(e){var t=e.message,n=e.sessionType,o=e.userType;N.Z.usageTick("chat_sendmessage"),re.chat="",this.sendMessageToSocket(t,n,o),this.addMessage(this.nicknameDecorator(t))}},{key:"handleNaiadGoldGiven",value:function(e){var t,n=e[2],o=e[3],r=e[4];t=0===n?r?v.ZP.getString("msg_give_gold_menu",v.ZP.htmlToUtf(o),v.ZP.getString("gold_menu_choice.".concat(r))):v.ZP.getString("new_msg_give_gold",v.ZP.htmlToUtf(o)):I.Z.getState().isExternalSiteFunds?v.ZP.getString("msg_give_gold_failed_esf"):v.ZP.getString("msg_give_gold_failed"),this.addMessage({type:b.Z.USERTYPE_SYSTEM,nickname:"",text:t,isPerformer:!1,flags:b.Z.RPCFLAGS_GOLDMSG,isGold:!0})}},{key:"handleRoomClientGiveGold",value:function(e){var t,n=e.failed,o=e.info,r=e.keyword;if(n)t=I.Z.getState().isExternalSiteFunds?v.ZP.getString("msg_give_gold_failed_esf"):v.ZP.getString("msg_give_gold_failed");else{var i="".concat((0,x.ev)(o.amount));t=r?v.ZP.getString("msg_give_gold_menu",v.ZP.htmlToUtf(i),v.ZP.getString("gold_menu_choice.".concat(r))):v.ZP.getString("new_msg_give_gold",v.ZP.htmlToUtf(i))}this.addMessage({type:b.Z.USERTYPE_SYSTEM,nickname:"",text:t,isPerformer:!1,flags:b.Z.RPCFLAGS_GOLDMSG,isGold:!0})}},{key:"handleNaiadGoldPledged",value:function(e){var t,n;switch(e.status){case 0:if(e.id&&e.amount){t="new_msg_give_gold",n=(0,x.ev)(e.amount);break}return;case 1:t="gold_popup_gold_failure_prebill";break;case 2:t="gold_popup_gold_failure_limit";break;case 3:t="gold_popup_gold_failure_no_show";break;default:t="gold_popup_gold_failure"}this.addMessage({type:b.Z.USERTYPE_SYSTEM,nickname:"",text:v.ZP.getString(t,n),isPerformer:!1,flags:b.Z.RPCFLAGS_GOLDMSG,isGold:!0})}},{key:"handleRoomClientPledgeGold",value:function(e){var t,n;if(e.failed)t=e.info.failureReason===O?"gold_popup_gold_failure_prebill":e.info.failureReason===T?"gold_popup_gold_failure_limit":"gold_popup_gold_failure";else{if(!e.info.amount)return;t="new_msg_give_gold",n=(0,x.ev)(e.info.amount)}this.addMessage({type:b.Z.USERTYPE_SYSTEM,nickname:"",text:v.ZP.getString(t,n),isPerformer:!1,flags:b.Z.RPCFLAGS_GOLDMSG,isGold:!0})}},{key:"nicknameDecorator",value:function(e){var t,n,o=re.usernickname||v.ZP.getString("guest"),r=w.Z.getState().userIsSubscribed||!1,i=null!==(t=null===(n=I.Z.getState().rewards)||void 0===n?void 0:n.tierId)&&void 0!==t?t:null,s=R.Z.getState().goldOnly;return $($({},e),{},{nickname:o,showSubscriberBadge:r,tierId:i,isGoldOnlySkin:s})}},{key:"handleNaiadAuthorized",value:function(e){var t=e[3];if(t&&re.platform===P.ZP.EXTERNAL_SITE_SHOW&&(re.usernickname=t),!re.authorized){var n=re.usernickname?{username:re.usernickname}:{username:{stringPath:"guest"}};this.addTemplateSystemMessage("guest_chat_system_message",{templateVariables:n}),this.addTemplateSystemMessage("guest_chat_system_message_fosta",{isItalic:!0}),re.authorized=!0}e[10]-1>S.ZP.STREAM_TYPE_GUEST&&this.addTemplateSystemMessage("chat_paid_message"),this.initializeUpsells()}},{key:"handleRoomConnected",value:function(e){var t,n,o,r;if(R.Z.isAmsDead()){var i=null!==(t=null==e||null===(n=e.authInfo)||void 0===n?void 0:n.nickname)&&void 0!==t?t:"";if(re.platform===P.ZP.EXTERNAL_SITE_SHOW&&(re.usernickname=i||v.ZP.getString("you")),!re.authorized){var s=re.usernickname?{username:re.usernickname}:{username:{stringPath:"guest"}};this.addTemplateSystemMessage("guest_chat_system_message",{templateVariables:s}),this.addTemplateSystemMessage("guest_chat_system_message_fosta",{isItalic:!0}),re.authorized=!0}(null!==(o=null==e||null===(r=e.authInfo)||void 0===r?void 0TYPE_GUEST&&this.addTemplateSystemMessage("chat_paid_message"),this.initializeUpsells()}}},{key:"handleRoomEnteredPrivate",value:function(){this.addTemplateSystemMessage("chat_paid_message")}},{key:"handleTogglePrivacy",value:function(e){re.private=e,this.addTemplateSystemMessage(e?"chat_hidden":"chat_visible")}},{key:"handleUserRequestPrivate",value:function(e){("exclusive"===e.streamType||e.blockDuration&&e.blockDuration>0)&&(re.waitToSend=!0)}},{key:"handleSessionAccepted",value:function(){re.waitToSend=!1}},{key:"handleIncreaseFontSize",value:function(){this.setFontSize(re.desktopFontSize+1)}},{key:"handleDecreaseFontSize",value:function(){this.setFontSize(re.desktopFontSize-1)}},{key:"handleRoomClientSystemMessage",value:function(e){var t=e.message,n=t.systemMessageKind,o=t.participant,r=t.amount;switch(R.Z.isAmsDead()&&D.Z.isInProgress()&&N.Z.statsIncCounter("room-client-projectxl-goldshow-message.system"),n){case"goldSent":this.handleRoomGoldSentMessage(t);break;case"goldShowPledge":this.addTemplateSystemMessage("system_chat_messages.goldSent",{templateVariables:{nickname:o.nickname,goldAmount:(0,x.ev)(r)},isGold:!0});break;case"goldShowGoalReached":case"goldShowCanceled":this.addTemplateSystemMessage("system_chat_messages.".concat(n));break;case"userLoggedOn":case"userLoggedOff":this.addTemplateSystemMessage("system_chat_messages.".concat(n),{templateVariables:{nickname:o.nickname}});break;case"blockSessionMinutesLeft":this.addTemplateSystemMessage(1===t.timeLeftMin?"system_chat_messages.blockSessionOneMinuteLeft":"system_chat_messages.blockSessionMinutesLeft",{templateVariables:$({durationMin:t.durationMin},t.timeLeftMin>1&&{timeLeftMin:t.timeLeftMin})});break;default:N.Z.error({message:"room-client-message-system-unknown",systemMessageKind:n})}}},{key:"handleRoomGoldSentMessage",value:function(e){var t=e.participant,n=e.amount,o=e.goldItemKeyword,r=o&&v.ZP.getString("gold_menu_choice.".concat(o));this.addTemplateSystemMessage(r?"system_chat_messages.goldSentWithKeyword":"system_chat_messages.goldSent",{templateVariables:$({nickname:t.nickname,goldAmount:(0,x.ev)(n)},r&&{keyword:r}),isGold:!0})}},{key:"handleRoomClientLiveChatMessage",value:function(e){var t=e.message,n=t.sender,o=t.content;if(R.Z.isAmsDead()&&D.Z.isInProgress()){N.Z.statsIncCounter("room-client-projectxl-goldshow-message.chat");var r=D.Z.getState().id;re.goldShowChatCounter[r]?re.goldShowChatCounter[r]++:re.goldShowChatCounter[r]=1}this.addMessage({type:n.type===b.Z.ROOMMESSAGE_PERFORMER_MESSAGE?b.Z.USERTYPE_PERFORMER:b.Z.USERTYPE_DEFAULT,text:o,isSystem:!1,isPerformer:n.type===b.Z.ROOMMESSAGE_PERFORMER_MESSAGE,nickname:n.nickname})}},{key:"handleRoomStatusChanged",value:function(e){var t;if(R.Z.isAmsDead())if("goldShow"===e.status)null!=e&&null!==(t=e.goldShowInfo)&&void 0!==t&&t.goldShowId&&(re.latestGoldShowId=e.goldShowInfo.goldShowId);else if("goldShow"===e.previousStatus&&"inCountdown"===e.status){if(re.latestGoldShowId)re.goldShowChatCounter[re.latestGoldShowId]||(N.Z.info({message:"no-chat-messages-during-goldshow",labels:{goldShowId:re.latestGoldShowId}}),N.Z.statsIncCounter("room-clie-messages"))}}},{key:"handleReset",value:function(){clearTimeout(re.upsellTimeout),re=oe()}},{key:"setMessage",value:function(e){re.chat=e}},{key:"appendMessage",value:function(e){re.chat+=e}},{key:"setFontSize",value:funcSKTOP_FONT_SIZE,n=b.Z.MAX_DESKTOP_desktopFontSize",re.desktopFontSizy:"canIncreaseFontSize",value:function(){return re.desktopFontSize<b.Z.MAX_DESKTOP_FONT_SIZE}},{key:"canDecreaseFontSize",value:function(){return re.desktopFontSize>b.Z.MIN_DESKTOP_FONT_SIZE}},{key:"showGoldMenuButton",value:function(){re.messagesSinceUpsell=0,re.hasShownInitialUpsell=!0;var e="goldmenubutton-".concat(Date.now());this.addSystemMessage((0,r.Z)(G.Z,{isChatUpsell:!0,identifier:e}),{identifier:e})}},{key:"showSpinGoldButton",value:function(){re.messagesSinceUpsell=0,re.hasShownInitialUpsell=!0;var e="spingoldbutton-".concat(Date.now());this.addSystemMessage((0,r.Z)(Q.Z,{chatUpsellIdentifier:e}),{identifier:e})}},{key:"showGoldMenuItem",value:function(e){var t=R.Z.getState().goldOnly,n=k.Z.getState(),o=n.goldMenuItems,i=n.goldOnlyGoldMenuItems,s=(t?i:o).find((function(t){return t.keyword===e}));if(s){var a="goldmenuchatitem-".concat(e,"-").concat(Date.now());re.messagesSinceUpsell=0,re.hasShownInitialUpsell=!0,this.addSystemMessage((0,r.Z)(X,{goldMenuItem:s,identifier:a}),{identifier:a})}}},{key:"handleChatUpsells",value:function(){re.hasShownInitialUpsell?(re.messagesSinceUpsell===b.Z.UPSELL_GOLD_MENU_CHAT_MESSAGES_THRESHOLD&&this.dispatchGoldMenuOrSpinGoldUpsell(b.Z.UPSELL_INTERVAL_MS),re.goldMenuItemUpsellsEnabled&&re.messagesSinceUpsell===b.Z.UPSELL_GOLD_MENU_ITEM_CHAT_MESSAGES_THRESHOLD&&this.dispatchGoldMenuItemUpsell(b.Z.UPSELL_INTERVAL_MS)):re.goldMenuItemUpsellsEnabled&&re.messagesSinceUpsell===b.Z.UPSELL_GOLD_MENU_ITEM_INITIAL_CHAT_MESSAGES_THRESHOLD&&this.dispatchGoldMenuItemUpsell(b.Z.UPSELL_INITIAL_INTERVAL_MS)}},{key:"dispatchGoldMenuOrSpinGoldUpsell",value:function(e){re.goldMenuUpsellsEnabled&&re.spinGoldUpsellsEnabled?Math.random()>=.5?this.dispatchGoldMenuUpsell(e):this.dispatchSpinGoldUpsell(e):re.goldMenuUpsellsEnabled?this.dispatchGoldMenuUpsell(e):re.spinGoldUpsellsEnabled&&this.dispatchSpinGoldUpsell(e)}},{key:"dispatchGoldMenuUpsell",value:function(e){clearTimeout(re.upsellTimeout),re.upsellTimeout=setTimeout((function(){g.Z.dispatch({type:E.Z.SHOW_GOLD_MENU_CHAT_UPSELL})}),e)}},{key:"dispatchSpinGoldUpsell",value:function(e){clearTimeout(re.upsellTimeout),re.upsellTimeout=setTimeout((function(){g.Z.dispatch({type:E.Z.SHOW_SPIN_GOLD_CHAT_UPSELL})}),e)}},{key:"dispatchGoldMenuItemUpsell",value:function(e){var t=this;clearTimeout(re.upsellTimeout),re.upsellTimeout=setTimeout((function(){var e=t.pickRandomGoldMenuUpsellItem();e&&g.Z.dispatch({type:E.Z.SHOW_GOLD_MENU_ITEM_CHAT_UPSELL,data:{keyword:e.keyword}})}),e)}},{key:"pickRandomGoldMenuUpsellItem",value:function(().goldOnly,r=k.Z.getState(),i=r.goldMenuItems,s=r.goldOnlyGoldMenuIte.floor(e.length/2),n=(0,u.Z)(e).sort((function(e,t){return e-t})),e.length%2!=0?n[t]:(n[t-1]+n[t])/2),c=I.Z.getState().maxGold;return function(e){return e[Math.floor(Math.random()*e.length)]}(a.filter((function(e){return(!c||e.cost<=c)&&(e.cost<=b.Z.UPSELL_GOLD_MENU_ITEM_COST_LOWER_THRESHOLD||e.cost<=2*l)})))}},{key:"initializeUpsells",value:function(){var e=I.Z.getState().useCreateAccountCta,t=A.ZP.getState().isDesktop,n=(0,B.o)().visible,o=(0,U._)().isVisible;if(!e)if(t){var r=Boolean(this.pickRandomGoldMenuUpsellItem());I.Z.isLoggedIn()&&(0,j.I)({performAction:!1,givingGold:!0})&&r&&n&&(re.goldMenuItemUpsellsEnabled=!0)}else re.goldMenuUpsellsEnabled=n,re.spinGoldUpsellsEnabled=o,this.dispatchGoldMenuOrSpinGoldUpsell(b.Z.UPSELL_INITIAL_INTERVAL_MS)}},{key:"handleCam2CamReject",value:function(){var e=v.ZP.getString("cam2cam_request_rejected");this.addMessage({type:b.Z.USERTYPE_SYSTEM,isSystem:!0,text:e,flags:b.Z.RPCFLAGS_SYSMSG,isItalic:!1,isGold:!1})}},{key:"handleCam2CamEnd",value:function(){var e=v.ZP.getString("cam2cam_performer_end");this.addMessage({type:b.Z.USERTYPE_SYSTEM,isSystem:!0,text:e,flags:b.Z.RPCFLAGS_SYSMSG,isItalic:!1,isGold:!1})}},{key:"_setState",value:function(e){re=$($({},re),e)}},{key:"__onDispatch",value:function(e){switch(e.type){case y.Z.NAIAD_GOLD_GIVEN:this.handleNaiadGoldGiven(e.data);break;case y.Z.NAIAD_PLEDGE_GOLD:this.handleNaiadGoldPledged(e.data[0]);break;case y.Z.NAIAD_AUTHORIZED:this.handleNaiadAuthorized(e.data);break;case y.Z.ROOM_CLIENT_CONNECTED:this.handleRoomConnected(e.data);break;case y.Z.ROOM_CLIENT_SYSTEM_CHAT_MESSAGE:this.handleRoomClientSystemMessage(e.data);break;case y.Z.ROOM_CLIENT_LIVE_CHAT_MESSAGE:this.handleRoomClientLiveChatMessage(e.data);break;case y.Z.ROOM_CLIENT_GIVE_GOLD:this.handleRoomClientGiveGold(e.data);break;case y.Z.ROOM_CLIENT_PLEDGE_GOLD:this.handleRoomClientPledgeGold(e.data);break;case y.Z.ROOM_CLIENT_ENTERED_PRIVATE:this.handleRoomEnteredPrivate();break;case y.Z.ROOM_CLIENT_STATUS_CHANGED:this.handleRoomStatusChanged(e.data);break;case E.Z.CHAT_SENDMESSAGE:this.handleSendingMessage(e.data);break;case E.Z.LOAD_CONFIG:this.handleLoadConfig(e.data);break;case E.Z.DISPLAY_MESSAGE:case E.Z.FAVORITE_UPDATE:this.addSystemMessage(e.data.message,{identifier:e.data.identifier});break;case E.Z.REMOVE_CHAT_MESSAGE:this.removeMessage(e.data.identifier);break;case E.Z.TOGGLE_CHAT_PRIVACY:this.handleTogglePrivacy(e.data.private);break;case E.Z.RESET:this.handleReset();break;case E.Z.UPDATE_CHAT_MESSAGE:this.setMessage(e.data);break;case E.Z.APPEND_EMOJI:this.appendMessage(e.data);break;case E.Z.USER_REQUEST_PRIVATE:this.handleUserRequestPrivate(e.data);break;case E.Z.SESSION_ACCEPTED:this.handleSessionAccepted();break;case E.Z.INCREASE_FONT_SIZE:this.handleIncreaseFontSize();break;case E.Z.DECREASE_FONT_SIZE:this.handleDecreaseFontSize();break;case E.Z.SHOW_GOLD_MENU_CHAT_UPSELL:this.showGoldMenuButton();break;case E.Z.SHOW_SPIN_GOLD_CHAT_UPSELL:this.showSpinGoldButton();break;case E.Z.SHOW_GOLD_MENU_ITEM_CHAT_UPSELL:this.showGoldMenuItem(e.data.keyword);break;case E.Z.CAM2CAM_REJECT:this.handleCam2CamReject();break;case E.Z.CAM2CAM_END:this.handleCam2CamEnd();break;default:return}this.__emitChange()}}]),n}(M.Z))("chat",g.Z)},"./src/stores/ConnectionStore.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>Q});var o,r=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),i=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),c=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=n("./node_modules/lodash/pick.js"),m=n.n(p),h=n("./node_modules/lodash/cloneDeep.js"),f=n.n(h),g=n("./node_modules/lodash/isEqual.js"),v=n.n(g),_=n("./node_modules/universal-cookie/lib/index.js"),y=n.n(_),b=n("./src/constants/Actions.js"),S=n("./src/constants/StatsEvents.js"),E=n("./src/constants/Messages.js"),C=n("./src/constants/RpcCalls.js"),Z=n("./src/constants/Platforms.ts"),P=n("./src/constants/Connection.js"),O=n("./src/constants/DisconnectReasons.js"),T=n("./src/constants/NaiadSessionType.js"),I=n("./src/constants/ChatConstants.ts"),w=n("./src/constants/Globals.js");!function(e){e.STREAMATE="SM",e.STREAMFANS="SF"}(o||(o={}));var A=new Map([[Z.ZP.BLACKLABEL,o.STREAMATE],[Z.ZP.SCP,o.STREAMATE],[Z.ZP.FOUNDATION,o.STREAMATE],[Z.ZP.EXTERNAL_SITE_SHOW,o.STREAMATE],[Z.ZP.STREAMFANS,o.STREAMFANS]]),R=n("./src/lib/Dispatcher.js"),k=n("./src/lib/DataSocket.js"),D=n("./src/lib/AjaxRequest.js"),L=n("./src/lib/RoomClient.ts"),N=n("./src/lib/PerformanceTiming.js"),x=n("./src/utils/log.js"),j=n("./src/utils/tools.ts"),M=n("./src/utils/FluxStoreExtended.ts"),B=n("./src/utils/gold.js"),U=n("./src/stores/PerformerStore.ts"),G=n("./src/stores/UserStore.js"),V=n("./src/stores/GoldShowStore.js"),F=n("./src/stores/UserListStore.ts");function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=["NAIAD_C2C_REJECT","NAIAD_C2C_ACCEPT"],q={configLoaded:!1,additionalPerformersOnStream:null,authtoken:"",clientState:P.Nf.AWAITING_CONFIG,firstAuthorization:!1,started:!1,forceMuted:!1,callStartOnAuthorization:!0,sessionType:T.Z.PREVIEW,flags:0,roomId:"",roomTopic:"",streamName:"",streamType:P.Nf.STREAM_TYPE_GUEST,manifestUrl:"",performerId:0,liveServicesHost:"",userId:"",userSakey:"",userNonpremium:"",refreshing:!1,lang:"",exclusiveStream:!1,usejwt:!1,streamDriver:"",isSMConnectBroadcast:!1,userRequestedResumePrivateSession:!1,essUsername:null,connectionConfig:null,goldOnly:!1,inVideoStartupXment:null,forcedVideoStartupXment:null,videoStartupXmentTimeout:null,handledDelayForVideoStartupXment:!1,inBiopicWhenLoadingXment:null,platform:Z.ZP.UNKNOWN,tenantId:"SM",exclusiveSessionPriceItemId:null,roomFeatures:[],enteringPaidSessionType:null,requireAgeConfirmation:!1,os:"",browser:"",performerNickname:"",isQuickTipAllowed:!0},K=W({},q),X=(new Date).getTime();const Q=new(function(e){(0,l.Z)(n,e);var t=H(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r)),(0,d.Z)((0,a.Z)(e),"handleVideoStart",(function(e){K=W(W({},K),{},{streamDriver:e.driverName})})),e}return(0,s.Z)(n,[{key:"getState",value:function(){return K}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.exceptTheConnection,n=void 0!==t&&t;n&&(K.refreshing=!0),this.handleDisconnect(this.getBrowserCloseReason());var o=m()(K,n?["clientState","manifestUrl","refreshing","lang","essUsername","inVideoStartupXment","forcedVideoStartupXment","inBiopicWhenLoadingXment","goldOnly"]:["essUsername","inVideoStartupXment","forcedVideoStartupXment","inBiopicWhenLoadingXment","goldOnly"]);clearTimeout(K.videoStartupXmentTimeout),K=W(W({},q),o)}},{key:"_getSettingArgs",value:function(e){var t={};return t.flags=e?I.Z.RPCFLAGS_ANONYMOUS:0,t}},{key:"_getStartFlags",value:function(e){return e?P.Nf.STREAM_CONTENT_INCOMING_TEXT|P.Nf.STREAM_CONTENT_OUTGOING_TEXT|P.Nf.STREAM_CONTENT_INCOMING_AUDIO|P.Nf.STREAM_CONTENT_INCOMING_VIDEO:P.Nf.STREAM_CONTENT_INCOMING_TEXT|P.Nf.STREAM_CONTENT_OUTGOING_TEXT|P.Nf.STREAM_CONTENT_INCOMING_VIDEO}},{key:"_callNaiadStart",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!K.started){var n=this._getSettingArgs(e),o=this._getStartFlags(t);k.Z.emit([C.Z.NAIAD_START,o,P.Nf.CLIENT_VERSION,n]),K.started=!0,N.Z.mark("naiad_start")}}},{key:"_sendUserDisconnectEvent",value:function(e,t){var n=G.Z.getState(),o=n.userId,r=n.userStreamId,i=n.country,s=K,a=s.browser,l=s.os,c=s.platform,u=s.performerId,d=s.performerStreamId,p={eventname:"UserDisconnectV1",browser:a,disconnectCode:e,disconnectString:t,hybridClientLoadTime:X,os:l,performerId:u,performerStreamId:d||0,platform:c||Z.ZP.UNKNOWN,userCountry:i,userId:o||null,userStreamId:r};x.Z.loms(p)}},{key:"handleSetAdditionalPerformersOnStream",value:function(e){e&&(K=W(W({},K),{},{additionalPerformersOnStream:e}))}},{key:"setLanguage",value:function(e){K=W(W({},K),{},{lang:e})}},{key:"setGoldOnly",value:function(e){K=W(W({},K),{},{goldOnly:e})}},{key:"setPlatform",value:function(e){K=W(W({},K),{},{platform:e})}},{key:"setTenantIdByPlatform",value:function(e){var t=A.get(e);K.tenantId!==t&&(K=W(W({},K),{},{tenantId:t}))}},{key:"enableJwtTokenForPrivCalls",value:function(){K=W(W({},K),{},{usejwt:!0})}},{key:"disableJwtTokenForPrivCalls",value:function(){K=W(W({},K),{},{usejwt:!1})}},{key:"handleLoadConfig",value:function(e){var t=e.config,n=e.platform,o=e.os,r=e.browser,i=e.connection,s=void 0===i?{}:i;if(!t.performer.isAvailable)return x.Z.statsIncCounter(S.Z.INVALID_SERVER_ID),void this.handleDisconnect([O.Z.STATUS_PERFORMER,"the performer has gone offline"]);var a=T.Z.PREVIEW;n===Z.ZP.EXTERNAL_SITE_SHOW&&(a=T.Z.EXTERNAL),t.user.sakey&&t.user.id&&(a=T.Z.GUEST);var l=K.clientState===P.Nf.PLAYING?P.Nf.PLAYING:P.Nf.AWAITING_AUTHORIZATION;(K=W(W({},K),{},{configLoaded:!0,clientState:l,firstAuthorization:!1,sessionType:a,performerId:t.performer.id,tdsname:t.site.tdsname,userId:t.user.id,userSakey:t.user.sakey,userNonpremium:t.user.nonpremium,authtoken:K.authtoken,connectionConfig:s,os:o,browser:r})).userSakey||(K.authtoken=""),N.Z.mark("authorization_start"),t.user.lang=K.lang||"en";var c={};n===Z.ZP.EXTERNAL_SITE_SHOW?Object.assign(c,{userNickname:K.essUsername}):Object.assign(c,{sakey:K.userSakey}),this.setTenantIdByPlatform(n),(n!==Z.ZP.EXTERNAL_SITE_SHOW||n===Z.ZP.EXTERNAL_SITE_SHOW&&K.essUsername)&&this.connectToRoom(t,{sessionType:a,platform:n,connectionConfig:s},c)}},{key:"connectToRoom",value:function(e,t){var n=this,o=t.sessionType,r=t.platform,i=t.connectionConfig,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=s.userNickname,l=s.sakey,c=void 0===l?null:l;x.Z.info({message:"connection-room-starting-connection"});var u=e.performer.nickname,d=e.user.lang,p="".concat(r,"/hybrid.client.").concat(w.Z.VERSION,"/avchat.swf"),m=A.get(r);L.ZP.connectRoomClient({performerName:u,sessionType:o,platform:r,lang:d,referrer:p,userNickname:a,sakey:c,config:i.roomService,tenantid:m}).then((function(e){x.Z.info(W({message:"connection-room-connected"},e));var t=e.additionalPerformersOnStream,o=void 0===t?[]:t,r=e.fmsGatewayUrl,i=e.videoManifestUrl,s=e.features;K.roomFeatures=s||[],o.length&&R.Z.dispatch({type:b.Z.REQUEST_PERFORMER_NICKNAME,data:{additionalPerformersOnStream:o}}),x.Z.info(W({message:"connection-room-using-manifest-url"},e)),x.Z.statsIncCounter("session.room.using_video_manifest_url");var a=new URL(i);a.searchParams.has("accesstoken")&&(K.authtoken=a.searchParams.get("accesstoken")),R.Z.dispatch({type:b.Z.MANIFEST_URL_RECEIVED,data:{url:i}}),R.Z.dispatch({type:C.Z.ROOM_CLIENT_CONNECTED,data:e}),R.Z.dispatch({type:C.Z.ROOM_CLIENT_STATUS_CHANGED,data:W(W({},e.initialStatus),{},{initialStatus:!0})}),n.isAmsDead()||(x.Z.statsIncCounter("session.room.using_fmsgateway_url"),k.Z.connectWithUrl(r,z)),Number.isInteger(K.exclusiveSessionPriceItemId)&&L.ZP.requestStreamfansExclusiveSession({priceItemId:K.exclusiveSessionPriceItemId})})).catch((function(e){var t;x.Z.statsIncCounter("session.room.connection.error.".concat(null!==(t=e.code)&&void 0!==t?t:"unknown")),x.Z.error({message:"connection-room-connection-failure",error:(0,j.qq)(e)})}))}},{key:"connectToRoomFromState",value:function(){var e,t=U.Z.getState(),n=t.lang,o=t.nickname,r=t.platform,i=G.Z.getState().sakey,s={performer:{nickname:o},user:{lang:n}},a={sessionType:K.sessionType,platform:r,connectionConfig:K.connectionConfig},l={userNickname:null!==(e=K.essUsername)&&void 0!==e?e:"",sakey:i};this.connectToRoom(s,a,l)}},{key:"handleNaiadOnBreak",value:function(e){(0,r.Z)(e,1)[0]||(K.started?K.clientState===P.Nf.AWAITING_PLAYBACK&&(K.clientState=P.Nf.PLAYING):this._callNaiadStart())}},{key:"handleNaiadAuthorized",value:function(e){N.Z.mark("authorization_end"),x.Z.usage("authorized",Date.now()),x.Z.usage("psid",e[1]),x.Z.usage("sid",e[7]);var t=!K.started&&K.callStartOnAuthorization,n=e[22]||{},o={firstAuthorization:!0,flags:n.flags,roomId:n.roomid,roomTopic:n.roomtopic,isSMConnectBroadcast:n.smconnect||!1,performerStreamId:Number(e[1]),streamNameGuest:e[9],streamType:e[10]-1};void 0!==n.goldonly&&(o.goldOnly=!0===n.goldonly),K.clientState!==P.Nf.PLAYING&&(o.clientState=P.Nf.AWAITING_PLAYBACK,o.started=!1),o.exclusiveStream=P.CE.has(o.streamType),!P.NT.has(K.streamType)&&P.NT.has(o.streamType)&&x.Z.loms({eventname:"EnteredPaidSessionV1",sessionType:P.Ax[Math.max(0,o.streamType)],resumingSession:K.userRequestedResumePrivateSession}),(K=W(W({},K),o)).performerStreamId&&x.Z.set("performerStreamId",K.performerStreamId);var r=P.Ax[Math.max(0,K.streamType)];x.Z.usage("naiad_authorized_".concat(r),Date.now()),N.Z.mark("awaiting_playback"),(t||n.paused)&&this._callNaiadStart()}},{key:"disconnectVideo",value:function(){K.refreshing||(K.clientState=P.Nf.DISCONNECTED,x.Z.debug("ForceBillingInfoUpdate stopped stream"))}},{key:"handleNaiadFreeze",value:function(e){var t=(0,r.Z)(e,2),n=t[0],o=void 0===n?null:n,i=t[1],s=void 0===i?"Unknown error":i,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,j.Vj)(E.Z.DISCONNECTED,{reason:o,string:s}),x.Z.debug({action:"disconnect",reason:o,string:s}),x.Z.info({message:"max-total-users",labels:{maxTotalUsers:F.Z.getState().maxTotalUsers,performerId:U.Z.getState().id}}),a&&this._sendUserDisconnectEvent(o,s),K.refreshing||(K.clientState=P.Nf.DISCONNECTED,x.Z.debug("Killing the fmsgateway socket after getting frozen."),k.Z.destroy(),L.ZP.disconnectRoomClient(o||O.Z.CLIENT_HIDDEN,s))}},{key:"handleDisconnect",value:function(e){var t=(0,r.Z)(e,2),n=t[0],o=void 0===n?null:n,i=t[1],s=void 0===i?"Unknown error":i;if(K.clientState!==P.Nf.DISCONNECTED&&(this.isAmsDead()&&(K.enteringPaidSessionType=null),!K.refreshing)){if(o===O.Z.ROOM_FULL&&K.platform===Z.ZP.SCP){var a=K.performerNickname;if(a){var l,c=new(y()),u="hcwr"+a,d=Number(null!==(l=c.get(u))&&void 0!==l?l:0);if(d<1)return c.set(u,d+1,{maxAge:180}),void(window.location.hrecat(a));c.remove(u)}}this.isAmsDead()||k.Z.emit([C.Z.NAIAD_FREEZE_ME,o,s]),this.handleNaiadFreeze([o,s],!0),K.manifestUrl=""}}},{key:"handleConnect",value:function(){window.location.reload()}},{key:"handleNaiadPllientState=P.Nf.AWAITING_PLAYBACK),N.Z.mark("naiad_play"),x.Z.statsIncCounter(S.Z.CONNECTION_NAIAD_PLAY)}},{key:"handleAiwPlaying",value:function(){K.clientState=P.Nf.PLAYING,K.refreshing=!1}},{key:"handleNaiadPause",value:function(){K.clientState!==P.Nf.PLAYING&&(x.Z.debug("Pausing before we played video - model was busy / in paid."),x.Z.usage("started_with_model_in_paid"),K.forceMuted=!0),K.clientState=P.Nf.PAUSED}},{key:"handleAcceptance",value:function(){this.isAmsDead()||this._callNaiadStart(!1,!0),setTimeout((function(){return R.Z.dispatch({type:b.Z.SESSION_ACCEPTED})}))}},{key:"handleUserRequestPrivate",value:function(e){var t=e.requiresAcceptance,n=e.showId;K.callStartOnAuthorization=!t,K.started=!1,K.userRequestedResumePrivateSession=Boolean(n)}},{key:"handleNaiadSetting",value:function(e){if(e&&e[0]){var t=e[0],n=t.flags,o=t.roomtopic;K=W(W({},K),{},{flags:n,roomTopic:o})}}},{key:"handleManifestUrl",value:function(e){var t=e.url,n=K.inVideoStartupXment&&!K.userSakey,o=K.forcedVideoStartupXment;if((n||o)&&!K.handledDelayForVideoStartupXment)return K.handledDelayForVideoStartupXment=!0,clearTimeout(K.videoStartupXmentTimeout),void(K.videoStartupXmentTimeout=setTimeout((function(){R.Z.dispatch({type:b.Z.MANIFEST_URL_RECEIVED,data:{url:t}})}),2e3));null!==K.inVideoStartupXment||K.userSakey?(t&&t.indexOf("json")<0&&x.Z.error({message:"No JSON in my manifest! Marten said this would never happen",url:t}),K.manifestUrl=t,K.manifestUrlToUseWhenXmentIsSelected=void 0):K.manifestUrlToUseWhenXmentIsSelected=t}},{key:"handleEssUsername",value:function(e){var t=e.essUsername,n=e.connectToRoom,o=void 0!==n&&n;K.essUsername=t,t&&o&&this.connectToRoomFromState()}},{key:"handleSetPerformerNickname",value:function(e){K.performerNickname=e}},{key:"handleRequestPerformerNicknames",value:function(e){var t=e.additionalPerformersOnStream,n=void 0===t?[]:t,o=D.Z.getBaseUrl()+"/api/v1/performernicknames";if(n.length){var r={performerIds:n.join(",")};D.Z.get(o,r,(function(e){e.body&&R.Z.dispatch({type:b.Z.SET_ADDITIONAL_PERFORMERS_ON_STREAM,data:e.body})}))}}},{key:"handleRoomConnected",value:function(e){var t,n,o,r,i,s,a,l,c;if(this.isAmsDead()){x.Z.debug({message:"ConnectionStore.handleRoomConnected",connectionInfo:e});var u=e.connectionId,d=e.initialStatus;N.Z.mark("authorization_end"),x.Z.usage("authorized",Date.now()),x.Z.usage("psid",null!==(t=null===(n=d.streamInfo)||void 0===n?void 0:n.streamId)&&void 0!==t?t:0),x.Z.usage("sid",u);var p={roomTopic:null!==(o=null===(r=d.showInfo)||void 0===r?void 0:r.showTopic)&&void 0!==o?o:"",performerStreamId:null!==(i=null===(s=d.streamInfo)||void 0===s?void 0:s.streamId)&&void 0!==i?i:0,streamType:null!==(a=null==e||null===(l=e.authInfo)||void 0===l?void 0:l.userType)&&void 0!==a?a:P.Nf.STREAM_TYPE_GUEST,goldOnly:"goldOnly"===(null===(c=d.showInfo)||void 0===c?void 0:c.showType)||void 0,exclusiveStream:!1,started:!0,clientState:K.clientState!==P.Nf.PLAYING?P.Nf.AWAITING_PLAYBACK:P.Nf.PLAYING};(K=W(W({},K),p)).performerStreamId&&x.Z.set("performerStreamId",K.performerStreamId);var m=P.Ax[Math.max(0,K.streamType)];x.Z.usage("naiad_authorized_".concat(m),Date.now()),N.Z.mark("awaiting_playback"),N.Z.mark("naiad_start")}}},{key:"handleRoomStatusChanged",value:function(e){if(this.isAmsDead())if(x.Z.debug({message:"ConnectionStore.handleRoomStatusChanged",roomState:e}),"offline"===e.status)K.enteringPaidSessionType=null,L.ZP.disconnectRoomClient(O.Z.STATUS_PERFORMER,"The room status is offline",!0);else if(e.isPremium||e.videoAuthRequired){if(G.Z.isLoggedIn()){if((0,B.fh)(e)&&V.Z.isUserBoughtIn())return;if(this.isRoomStatusPaid(e.status)&&this.isRoomEnteringPaid())return;return void(K.clientState=P.Nf.PAUSED)}if((0,B.fh)(e)&&this.isESSUser()&&V.Z.isExternalSiteShow())return;if("externalSiteShow"===e.status&&this.isESSUser())return;if(!e.initialStatus&&((0,B.fh)(e)||"inCountdown"===e.status))return void(K.clientState=P.Nf.PAUSED);(0,B.fh)(e)?L.ZP.disconnectRoomClient(O.Z.IN_GOLDSHOW,"The room status is in a gold show",!0):"onBreak"===e.status?L.ZP.disconnectRoomClient(O.Z.BREAK,"The room status is on break",!0):L.ZP.disconnectRoomClient(O.Z.BUSY,"The room status is busy",!0)}else K.clientState=K.clientState!==P.Nf.PLAYING?P.Nf.AWAITING_PLAYBACK:P.Nf.PLAYING}},{key:"handleRoomEnteringPaid",value:function(e){K=W(W({},K),{},{enteringPaidSessionType:e})}},{key:"handleRoomCancelEnteringPaid",value:function(){K=W(W({},K),{},{enteringPaidSessionType:null,started:!0})}},{key:"handleRoomEnteredPrivate",value:function(){x.Z.loms({eventname:"EnteredPaidSessionV1",sessionType:P.Ax[P.Nf.STREAM_TYPE_PRIVATE],resumingSession:K.userRequestedResumePrivateSession}),K=W(W({},K),{},{started:!0,streamType:P.Nf.STREAM_TYPE_PRIVATE,enteringPaidSessionType:null,clientState:this.isPlaying()?P.Nf.PLAYING:P.Nf.AWAITING_PLAYBACK})}},{key:"handleAcceptanceRoom",value:function(e){var t;switch(e.sessionType){case"exclusive":t=P.Nf.STREAM_TYPE_EXCLUSIVE;break;case"blockPrivate":t=P.Nf.STREAM_TYPE_BLOCK;break;case"blockExclusive":t=P.Nf.STREAM_TYPE_BLOCK_EXCLUSIVE;break;default:r)}x.Z.loms({eventname:"EnteredPaidSessionV1",sessionType:P.Ax[t],resumingSession:K.userRequestedResumePrivateSession}),setTimeout((function(){return R.Z.dispatch({type:b.Z.SESSION_ACCEPTED})})),K=W(W({},K),{},{started:!0,streamType:t,enteringPaidSessionType:null,clientState:this.isPlaying()?P.Nf.PLAYING:P.Nf.AWAITING_PLAYBACK})}},{key:"handleRoomPle.info.amount>=V.Z.getState().minbuyin&&(K.clientState=K.clientState!==P.Nf.PLAYING?P.Nf.AWAITING_PLAYBACK:P.Nf.PLAYING)}},{key:"getStreamTypeName",value:function(){return P.Ax[K.streamType]}},{key:"isGuestStream",value:function(){return K.streamType===P.Nf.STREAM_TYPE_GUEST}},{key:"isGoldOnlyStream",value:function(){return K.goldOnly}},{key:"isPlaying",value:function(){return K.clientState===P.Nf.PLAYING}},{key:"isAmsDead",value:function(){return!G.Z.isLoggedIn()||this.isProjectXL()}},{key:"isProjectXL",va}},{key:"isRoomPrivateShow",value:function(){return K.roomFeatures.includes(L.OS.RoomPrivateShow)}},{key:"isBlockbusteudes(L.OS.Blockbuster)}},{key:"shK.requireAgeConfirmation}},{key:"isRoomStatusPaid",value:function(e){return"private"===e||"exclusive"===e}},{key:"isRoomEnteringPaid",value:function(){return null!==K.enteringPaidSessionType}},{key:"isRoomEnteringExclusive",value:function(){return K.enteringPaidSessionType===P.B8.REQUEST_EXCLUSIVE}},{key:"isESSUser",value:function(){return K.sessionType===T.Z.EXTERNAL}},{key:"updateManifestUrlByXment",value:function(){if(K.manifestUrlToUseWhenXmentIsSelected){var e=K.manifestUrlToUseWhenXmentIsSelected;K.manifestUrlToUseWhenXmentIsSelected=void 0,R.Z.dispatch({typt",value:function(e){K.inVideoStartupXment=e,this.updateManifestUrlByXment()}},{key:"setForcedVideoStartupXment",value:function(e){K.forcedVideoStartupXment=e,this.updateManifestUrlByXment()}},{key:"setInBiopicWhenLoadingXment",value:function(e){K.inBiopicWhenLoadingXment=e}},{key:"setexclusiveSessionPriceItemId",value:function(e){K.exclusiveSessionPriceion",value:function(e){K.requireAgeConfirmation=e}},{key:"setQuickTipAllowed",value:function(e){K.isQuickTipAllowed=e}},{key:"shouldAllowQuickTip",value:function(){return K.isQuickTipAllowed}},{key:"setBrowserCloseReason",value:function(e){var t=this,n=(0,r.Z)(e,2),o=n[0],i=void 0===o?null:o,rCloseString=a,this.browserCloseTimeout&&clearTimeout(this.browserCloseTimeout),this.browserCloseTimeout=setTimeout((function(){t.browserCloseReason=null,t.browserCloseString="Unknown error"}),6e4)}},{key:"getBrowserCloseReason",value:function(){return this.browserCloseReason?[this.browserCloseReason,this.browserCloseString]:[O.Z.USER_DISCONNECT,"The user closed the client"]}},{key:"__onDispatch",value:function(e){var t=f()(K);switch(e.type){case C.Z.NAIAD_PLAY:this.handleNaiadPlay();break;case C.Z.NAIAD_AUTHORIZED:this.handleNaiadAuthorized(e.data);break;case C.Z.NAIAD_ON_BREAK:this.handleNaiadOnBreak(e.data);break;case C.Z.NAIAD_PAUSE:this.handleNaiadPause();break;case C.Z.NAIAD_EXCLUSIVE_ACCEPTED:x.Z.usageTick("exclusive_session_accepted"),x.Z.statsIncCounter(S.Z.SESSION_EXCLUSIVE_ACCEPTED),this.handleAcceptance();break;case C.Z.NAIAD_BLOCK_SESSION_ACCEPTED:x.Z.usageTick("block_session_accepted"),x.Z.statsIncCounter(S.Z.SESSION_BLOCK_ACCEPTED),this.handleAcceptance();break;case C.Z.NAIAD_FREEZE:x.Z.statsIncCounter("session.video.freeze"),this.handleNaiadFreeze(e.data);break;case C.Z.NAIAD_SETTING:this.handleNaiadSetting(e.data);break;case C.Z.ROOM_CLIENT_CONNECTED:this.handleRoomConnected(e.data);break;case C.Z.ROOM_CLIENT_STATUS_CHANGED:this.handleRoomStatusChanged(e.data);break;case C.Z.ROOM_CLIENT_PLEDGE_GOLD:this.handleRoomPledgeGold(e.data);break;case C.Z.ROOM_CLIENT_ENTERING_PRIVATE:this.handleRoomEnteringPaid(P.B8.REQUEST_PRIVATE);break;case C.Z.ROOM_CLIENT_ENTERING_BLOCK_SESSION:this.handleRoomEnteringPaid(P.B8.REQUEST_BLOCK);break;case C.Z.ROOM_CLIENT_ENTERING_EXCLUSIVE:this.handleRoomEnteringPaid(P.B8.REQUEST_EXCLUSIVE);break;case C.Z.ROOM_CLIENT_CANCEL_ENTERING_PAID:this.handleRoomCancelEnteringPaid();break;case C.Z.ROOM_CLIENT_ENTERED_PRIVATE:this.handleRoomEnteredPrivate();break;case C.Z.ROOM_CLIENT_ENTERED_BLOCK_SESSION:x.Z.usageTick("block_session_accepted"),x.Z.statsIncCounter(S.Z.SESSION_BLOCK_ACCEPTED),this.handleAcceptanceRoom(e.data);break;case C.Z.ROOM_CLIENT_ENTERED_EXCLUSIVE:x.Z.usageTick("exclusive_session_accepted"),x.Z.statsIncCounter(S.Z.SESSION_EXCLUSIVE_ACCEPTED),this.handleAcceptanceRoom(e.data);break;case C.Z.ROOM_CLIENT_QUICK_TIP_ALLOWED:this.setQuickTipAllowed(e.data);break;case b.Z.VIDEO_START:this.handleVideoStart(e.data);break;case b.Z.VIDEO_PLAYING:this.handleAiwPlaying();break;case b.Z.USER_REQUEST_PRIVATE:this.handleUserRequestPrivate(e.data);break;case b.Z.FORCE_BILLING_INFO_UPDATE:x.Z.statsIncCounter("session.video.force_billing_info_update"),this.disconnectVideo();break;case b.Z.VIDEO_DISCONNECT:case b.Z.DISCONNECT:x.Z.statsIncCounter("session.video.disconnected.".concat(e.data[0])),this.handleDisconnect(e.data);break;case b.Z.CONNECT:this.handleConnect();break;case b.Z.MANIFEST_URL_RECEIVED:this.handleManifestUrl(e.data);break;case b.Z.LOAD_CONFIG:this.handleLoadConfig(e.data);break;case b.Z.UPDATE_USER_PREFERRED_LANG:this.setLanguage(e.data.lang);break;case b.Z.SET_ESS_USERNAME:this.handleEssUsername(e.data);break;case b.Z.SET_PERFORMER_NICKNAME:this.handleSetPerformerNickname(e.data);break;case b.Z.BROWSER_MAY_CLOSE:this.setBrowserCloseReason(e.data);break;case b.Z.BROWSER_CLOSE:this.handleDisconnect(this.getBrowserCloseReason());break;case b.Z.REQUEST_PERFORMER_NICKNAME:this.handleRequestPerformerNicknames(e.data);break;case b.Z.SET_ADDITIONAL_PERFORMERS_ON_STREAM:this.handleSetAdditionalPerformersOnStream(e.data);break;case b.Z.RESET:this.reset(e.data);break;default:return}v()(t,K)||this.__emitChange()}}]),n}(M.Z))("connection",R.Z)},"./src/stores/GoldShowStore.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var o=n("./node_modules/@babel/runtime/helpers/esm/typeof.js"),r=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=n("./src/lib/Dispatcher.js"),p=n("./src/constants/Actions.js"),m=n("./src/constants/GoldShowConstants.js"),h=n("./src/constants/RpcCalls.js"),f=n("./src/utils/log.js"),g=n("./src/utils/gold.js"),v=n("./src/utils/FluxStoreExtended.ts"),_=n("./src/stores/ConnectionStore.js"),y=n("./src/stores/RoomStore.ts"),b=["minbuyin","pledged","pledgedamt","total"],S=["minbuyin","action"];function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P={duration:0,goldShowState:m.Z.GOLD_STATE_NONE,id:0,maxwait:0,minbuyin:0,minbuyinString:"",myPledgedAmount:0,nonexplicit:0,pledged:m.Z.PLEDGE_STATE_NO_PLEDGE,pledgedamt:0,requestedamt:0,show:null,showparams:null,showtopic:"",showuserhbux:0,timetoend:0,timetostart:0,total:0,goldShowInfo:{}},O=Z({},P,a.Z)(n,e);var t=E(n);f}return(0,s.Z)(n,[{key:"getSalue:function(){return O.goldShowState!==m.Z.GOLD_STATE_NONE}},{key:"isPreGoldShow",value:function(){return O.goldShowState===m.Z.GOLD_STATE_PRE||O.goldShowState===m.Z.GOLD_STATE_PRE_PLEDGED}},{key:"needPledge",value:function(){return O.goldShowState===m.Z.GOLD_STATE_NEED_PLEDGE&&0!==O.minbuyin}},{key:"isUserBoughtIn",value:function(){return O.goldShowState===m.Z.GOLD_STATE_IN_PROGRESS||O.goldShowState===m.Z.GOLD_lue:function(){var e;retur=e?void 0:e.isExternalSiteShow}},{key:"isInProgress",value:function(){return O.goldShowState===m.Z.GOLD_STATE_IN_PROGRESS}},{key:"goalReached",value:function(){return O.total>=O.requestedamt}},{key:"handlePreGoldShow",value:function(e){var t=e.minbuyin,n=e.pledged,o=e.pledgedamt,i=e.total,s=Z({},(0,r.Z)(e,b));s.pledgedamt=o||0,s.total=i||0,s.minbuyin=t||0,s.minbuyin>0&&(s.minbuyin=Math.max(s.minbuyin,100)),s.minbuyinString=(0,g.ev)(s.minbuyin),s.goldShowState=(0,g.H6)(n),this.setState(s)}},{key:"handleRoomGoldShow",value:function(e){if(f.Z.debug({message:"GoldShowStore.handleRoomGoldShow",goldShowInfo:e}),O.goldShowInfo[e.goldShowId]=e,_.Z.isAmsDead()){var t=y.Z.getState(),n=(0,g.fh)(t);((0,g.fh)(t,!0)||n)&&this.transformGoldShowInfoToState(e,n)}}},{key:"handleRoomGoldShowPledged",value:function(e){if(_.Z.isAmsDead()){f.Z.debug({message:"GoldShowStore.handleRoomGoldShowPledged",gold:e});var t={total:e.totalPledgedAmount};this.setState(t)}}},{key:"transformGoldShowInfoToState",value:function(e,t){var n,o,r=O.pledgedamt,i=O.total,s=O.pledged;e.goldShowId!==O.id&&(r=null!==(n=e.myPledgedAmount)&&void 0!==n?n:0,i=null!==(o=e.totalPledgedAmount)&&void 0!==o?o:0,s=(0,g.YD)(r,e.myAccess));var a={id:e.goldShowId,duration:e.duration,maxwait:e.maxWait,minbuyin:e.minBuyin?Math.max(e.minBuyin,100):0,nonexplicit:e.isNonexplicit?1:0,pledged:s,pledgedamt:r,total:i,requestedamt:e.requestedAmount,showtopic:e.showTopic,showuserhbux:e.isHighestBidder?1:0,timetostart:Math.round(e.timeToStart/1e3)};t&&(a.timetoend=Math.round(e.timeToEnd/1e3)),a.minbuyinString=(0,g.ev)(a.minbuyin),a.goldShowState=(0,g.H6)(s,t),this.setState(a)}},{key:"handleRoomStatusChanged",value:function(e){var t;if(_.Z.isAmsDead()){f.Z.debug({message:"GoldShowStore.handleRoomStatusChanged",roomStatus:e});var n=(0,g.fh)(e);if((0,g.fh)(e,!0)||n){var r=(null===(t=e.goldShowInfo)||void 0===t?void 0:t.goldShowId)||0;if(r){if("object"===(0,o.Z)(O.goldShowInfo[r])){var i=O.goldShowInfo[r];this.transformGoldShowInfoToState(i,n)}}else f.Z.error({message:"Gold show status without gold show id",goldShowId:r,roomStatus:e})}else O.id>0&&this.reset()}}},{key:"handleNaiadPledgeGold",value:function(e){if(0!==e.status)return e.message="pledge-gold-status-error",void f.Z.warn(e);var t={total:O.total+e.amount,myPledgedAmount:O.myPledgedAmount+e.amount};e.id&&O.pledged!==m.Z.PLEDGE_STATE_PLEDGED&&e.amount>=O.minbuyin&&(O.goldShowState===m.Z.GOLD_STATE_PRE?(f.Z.usage("gold_show_pledged"),t.goldShowState=m.Z.GOLD_STATE_PRE_PLEDGED):O.goldShowState===m.Z.GOLD_STATE_NEED_PLEDGE&&(t.goldShowState=m.Z.GOLD_STATE_IN_PROGRESS),t.pledged=m.Z.PLEDGE_STATE_PLEDGED),this.setState(t)}},{key:"handleRoomClientPledgeGold",value:function(e){if(e.failed)return e.message="pledge-gold-status-error",void f.Z.warn(e);if(O.pledged!==m.Z.PLEDGE_STATE_PLEDGED&&e.info.amount>=O.minbuyin){var t={};O.goldShowState===m.Z.GOLD_STATE_PRE?(f.Z.usage("gold_show_pledged"),t.goldShowState=m.Z.GOLD_STATE_PRE_PLEDGED):O.goldShowState===m.Z.GOLD_STATE_NEED_PLEDGE&&(t.goldShowState=m.Z.GOLD_STATE_IN_PROGRESS),t.pledged=m.Z.PLEDGE_STATE_PLEDGED,this.setState(t)}}},{key:"handleGoldShow",value:function(e){var t=e.minbuyin,n=e.action,o=Z({},(0,r.Z)(e,S));switch(o.minbuyin=t||0,o.minbuyin>0&&(o.minbuyin=Math.max(o.minbuyin,100)),o.minbuyinString=(0,g.ev)(o.minbuyin),n){case m.Z.GOLD_ACTION_NEED_PLEDGE:f.Z.usage("gold_show_need_pledge"),o.goldShowState=m.Z.GOLD_STATE_NEED_PLEDGE,this.setState(o);break;case m.Z.GOLD_ACTION_BEGIN:f.Z.usage("gold_show_started"),f.Z.statsIncCounter("session.goldshow.started"),o.goldShowState=m.Z.GOLD_STATE_IN_PROGRESS,this.setState(o);break;case m.Z.GOLD_ACTION_CANCEL:case m.Z.GOLD_ACTION_END:f.Z.usage("gold_show_ended"),this.reset()}}},{key:"reset",value:function(){O=Z({},P)}},{key:"__onDispatch",value:function(e){switch(e.type){case h.Z.NAIAD_PRE_GOLDSHOW:this.handlePreGoldShow(e.data[0]);break;case h.Z.NAIAD_PLEDGE_GOLD:this.handleNaiadPledgeGold(e.data[0]);break;case h.Z.NAIAD_GOLDSHOW:this.handleGoldShow(e.data[0]);break;case h.Z.NAIAD_FREEZE:this.reset();break;case h.Z.ROOM_CLIENT_GOLDSHOW:this.handleRoomGoldShow(e.data);break;case h.Z.ROOM_CLIENT_GOLDSHOW_PLEDGED:this.handleRoomGoldShowPledged(e.data);break;case h.Z.ROOM_CLIENT_STATUS_CHANGED:this.handleRoomStatusChanged(e.data);break;case h.Z.ROOM_CLIENT_PLEDGE_GOLD:this.handleRoomClientPledgeGold(e.data);break;case p.Z.RESET:this.reset();break;default:return}this.__emitChange()}}]),n}(v.Z))("goldShow",d.Z)},"./src/stores/LayoutStore.js":(e,t,n)=>{"use strict";n.d(t,{ZP:()=>M,gf:()=>T});var o,r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),d=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=n("./src/lib/Dispatcher.js"),m=n("./node_modules/lodash/findKey.js"),h=n.n(m),f=n("./src/utils/log.js"),g=n("./src/utils/tools.ts"),v=n("./src/utils/FluxStoreExtended.ts"),_=n("./src/constants/Actions.js"),y=n("./src/constants/LayoutConstants.ts"),b=n("./src/constants/StatsEvents.js"),S=n("./src/constants/Platforms.ts"),E=n("./node_modules/lscache/lscache.js"),C=n.n(E);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}C().setBucket("hybridclient");var T="FullScreenEl",I={isDesktop:!0,isSmallViewport:!1,layout:y.ZP.DESKTOP},w=O({showPerformerBio:!0},I),A=(o={},(0,d.Z)(o,y.bv.DESKTOP,O(O({},I),{},{isLandscape:!0})),(0,d.Z)(o,y.bv.DESKTOP_WITH_BIO,w),(0,d.Z)(o,y.bv.FULLSCREEN,O(O({},I),{},{fullscreen:!0})),(0,d.Z)(o,y.bv.MOBILE,{isDesktop:!1,isSmallViewport:!0,layout:y.ZP.MOBILE}),(0,d.Z)(o,y.bv.PORTRAIT,{isDesktop:!1,isLandscape:!1,orientation:y.ZP.PORTRAIT}),(0,d.Z)(o,y.bv.SCP,w),(0,d.Z)(o,y.bv.TABLET,{isTablet:!0,layout:y.ZP.TABLET}),(0,d.Z)(o,y.bv.TABLET_WITH_BIO,{isDesktop:!0,layout:y.ZP.TABLET,showPerformerBio:!0}),o),R=function(e,t){var n=e,o=t,r=n<=parseInt(y.AV.mobile.max,10),i=!r,s=i&&n<=parseInt(y.AV.medium.max,10),a=i&&!s,l=n/o>y.ZP.LANDSCAPE_MIN_RATIO,c=i?y.ZP.DESKTOP:y.ZP.MOBILE,u=l?y.ZP.LANDSCAPE:y.ZP.PORTRAIT;return l&&f.Z.usage("landscape_used"),f.Z.usage("width",n),f.Z.usage("height",o),{isLandscape:l,isSmallViewport:r,isDesktop:i,isDesktopSmall:s,isDesktopLarge:a,innerHeight:o,innerWidth:n,orientation:u,layout:c}},k=function(e){var t=e.isDesktop,n=e.isTablet,o=e.isLandscape,r=n||!t;return r&&o?function(e){var t=e.innerWidth,n=e.innerHeight,o=e.videoAspectRatio,r=t,i=t/o;return o<t/n&&(r=n*o,i=n),{videoViewportWidth:t,videoViewportHeight:n,videoWidth:r,videoHeight:i,videoViewBoxWidth:r,videoViewBoxHeight:i,ctaHeight:0,footerHeight:0}}(e):r&&!o?function(e){var t=e.ctaContainerHeight,n=e.innerWidth,o=e.innerHeight,r=e.videoAspectRatio,i=e.mobileClampedView,s=e.chatInputActive,a=e.mobileKeyboardSize,l=e.chatInputHeight,c=e.videoViewportHeightAdjustment,u=n,d=n/y.ce.SMALL_VIEWPORT_ASPECT_RATIO,p=s?d:Math.floor(o-t-l-y.eA.TAB_CONTENT_CONTAINER_PADDING);s||(d=Math.min(d+(c||0),p)),i&&(d=o-t);var m=0;if(s){var h=d,f=l+y.eA.TAB_CONTENT_CONTAINER_PADDING,v=i?0:28,_=a[y.ZP.PORTRAIT];if(_&&o)h=Math.min(o-_-v-f-t,d);else{var b,S=null!==(b=y.K5[o])&&void 0!==b?b:o/2;h=(0,g.uZ)(Math.floor(o-S-f-t),0,d)}m=h-d}var E=d*r,C=d;return{videoViewportWidth:u,videoViewportHeight:d+=m,videoWidth:E,videoHeight:C,videoViewBoxWidth:E,videoViewBoxHeight:C+m,ctaHeight:t,footerHeight:0,maxVideoViewportHeight:p}}(e):function(e){var t=e.platform,n=e.ctaContainerHeight,o=e.videoAspectRatio,r=e.wideVideoAspectRatio,i=e.fullscreen,s=e.preferredPlayerHeight,a=n;i&&(a=0);var l=t!==S.ZP.BLACKLABEL||i?0:y.ce.BLACKLABEL_FOOTER_HEIGHT,c=s-a-l,u=c*o;return{videoViewportWidth:c*r,videoViewportHeight:c,videoWidth:u,videoHeight:c,videoViewBoxWidth:u,videoViewBoxHeight:c,ctaHeight:a,footerHeight:l}}(e)},D=function(e,t){for(var n in e){for(var o=600,r=0;r<n;r++){var i;null!==(i=e[r])&&void 0!==i&&i.visible&&(o+=100)}e[n].collapsed=t<o}return{sidebarItems:e}},L=function(e){var t=function(e){var t=e.layout,n=e.fullscreen,o=e.videoAspectRatio,r=e.wideVideoAspectRatio,i=e.platform,s=e.innerWidth,a=e.ctaContainerHeight,l=t===y.ZP.DESKTOP,c=l&&!n?y.ce.MINIMUM_SIDEBAR_WIDTH:0,u=r||o||y.ce.VIDEO_ASPECT_RATIO,d=i===S.ZP.BLACKLABEL&&l?y.ce.BLACKLABEL_FOOTER_HEIGHT:0,p=Math.floor((s-c)/u)+a+d;return Math.min(p,window.innerHeight)}(e),n=k(O(O({},e),{},{preferredPlayerHeight:t})),o=n.videoViewportHeight,r=n.ctaHeight;return O(O({preferredPlayerHeight:t},D(e.sidebarItems,o+r)),n)},N=C().get("hybrid_client_mobile_keyboard_size"),x=C().get("hybrid_client_mobile_height");N&&(Object.entries(N).forEach((function(e){var t=(0,u.Z)(e,2),n=t[0];t[1]<200&&Reflect.deleteProperty(N,n)})),C().set("hybrid_client_mobile_keyboard_size",N));var j=O(O({},R(window.innerWidth,window.innerHeight)),{},{forcedLayout:null,platform:S.ZP.UNKNOWN,showPerformerBio:!1,videoAspectRatio:y.ce.VIDEO_ASPECT_RATIO,wideVideoAspectRatio:y.ce.VIDEO_ASPECT_RATIO,fullscreen:!1,ctaContainerHeight:y.ce.CTA_CONTAINER_HEIGHT,lastValidCtaContainerHeight:null,chatInputHeight:0,bioInfoHeight:0,mobileClampedView:!1,sidebarItems:{},chatInputActive:!1,mobileKeyboardSize:null!=N?N:{},mobileHeight:null!=x?x:{},videoViewportHeightAdjustment:0,clientRootBoundingRect:{top:0,bottom:0,left:0,right:0},offlineMobileLayoutEnabled:!0});j=O(O({},j),L(j));const M=new(function(e){(0,a.Z)(n,e);var t=Z(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,d.Z)((0,s.Z)(e),"getFullscreenElement",(function(){var e=document.querySelector("#".concat(T));if(e){var t=e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen||e.requestFullscreen;if(t)return t.bind(e)}})),(0,d.Z)((0,s.Z)(e),"onEnterFullscreen",(function(){var t=e.getFullscreenElement();t&&(t(),f.Z.statsIncCounter(b.Z.FULLSCREEN_ENABLED),j=O(O({},j),{},{fullscreen:!0}),setTimeout((function(){p.Z.dispatch({type:_.Z.WINDOW_RESIZE,data:{}})})))})),(0,d.Z)((0,s.Z)(e),"onExitFullscreen",(function(){var e=j.fullscreen,t=document.mozCancelFullScreen||document.msExitFullscreen||document.webkitExitFullscreen||document.exitFullscreen;if(j.fullscreen&&f.Z.statsIncCounter(b.Z.FULLSCREEN_DISABLED),t){var n=t.bind(document)();n instanceof Promise&&n.catch((function(t){if(e){var n=t.name,o=t.message,r=t.stack;f.Z.error({message:"fullscreen-exit-failure",errorName:n,errorMessage:o,stackTrace:r})}}))}j=O(O({},j),{},{fullscreen:!1}),e&&setTimeout((function(){p.Z.dispatch({type:_.Z.WINDOW_RESIZE,data:{}})}))})),e._setGlobalReference(window),e}return(0,i.Z)(n,[{key:"_setGlobalReference",value:function(e){this.global=e,j=O(O({},j),A[j.forcedLayout])}},{key:"getState",value:function(){return j}},{key:"onResize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=void 0===t?j.innerWidth:t,o=e.height,r=void 0===o?j.innerHeight:o,i=e.forceRecalc,s=void 0!==i&&i,a=Math.floor(n),l=Math.floor(r);if(j.previousWidth=j.currentWidth,j.previousHeight=j.currentHeight,j.currentWidth=a,j.currentHeight=l,j.previousBodyOverflowHidden=j.currentBodyOverflowHidden,j.currentBodyOverflowHidden="hidden"===window.getComputedStyle(document.body).overflow,!s){if(j.previousWidth===j.currentWidth&&j.previousHeight===j.currentHeight)return;if(this.didOnScreenKeyboardShrinkBrowserHeight())return this.updateKeyboard(),void(j=O(O({},j),L(j)));if(this.didDesktopModalHideScrollbar())return}var c=R(a,l),u=c.isLandscape,d=c.isSmallViewport,p=c.isDesktop,m=c.isDesktopSmall,h=c.isDesktopLarge,f=c.innerWidth,g=c.innerHeight,v=c.layout,_=c.orientation;0!==f&&(j.orientation!==_&&(j=O(O({},j),{},{videoViewportHeightAdjustment:0,mobileClampedView:!1,chatInputActive:!1})),j=O(O({},j),{},{isLandscape:u,isSmallViewport:d,isDesktop:p,isDesktopSmall:m,isDesktopLarge:h,innerWidth:f,innerHeight:g,isTablet:!1,showPerformerBio:!1,layout:v,orientation:_},A[j.forcedLayout]),this.updateKeyboard(),j=O(O({},j),L(j)))}},{key:"didOnScreenKeyboardShrinkBrowserHeight",value:function(){if(![y.ZP.MOBILE,y.ZP.TABLET].includes(j.layout))return!1;if(j.previousWidth!==j.currentWidth)return!1;var e=j.currentHeight-j.previousHeight<-200,t=j.currentHeight-(j.mobileHeight[j.orientation]||0)<-200;return!(!e&&!t)}},{key:"updateKeyboard",value:function(){if(j.layout===y.ZP.MOBILE){if(j.previousWidth!==j.currentWidth)return j.keyboardOpen=!1,void this.setChatInputActive(!1);var e=j.currentHeight-j.previousHeight<-200,t=j.currentHeight-j.previousHeight>200;e&&(j.keyboardOpen=!0,this.setChatInputActive(j.chatInputFocused&&j.preventChatScroll||!1),j.mobileKeyboardSize[j.orientation]=j.previousHeight-j.currentHeight,j.mobileHeight[j.orientation]=j.previousHeight,C().set("hybrid_client_mobile_keyboard_size",j.mobileKeyboardSize),C().set("hybrid_client_mobile_height",j.mobileHeight)),t&&(j.keyboardOpen=!1,this.setChatInputActive(!1))}}},{key:"didDesktopModalHideScrollbar",value:function(){var e=j,t=(e.layout,e.previousBodyOverflowHidden),n=e.currentBodyOverflowHidden,o=e.currentWidth,r=e.previousWidth;return y.ZP.DESKTOP,!t&&n&&o>r&&o-r<=50}},{key:"forceLayout",value:function(e){e||(j=O(O({},j),{},{forcedLayout:null})),new Set(Object.keys(A)).has(e)&&(j=O(O({},j),{},{forcedLayout:e},A[e]))}},{key:"onCtaHeightChange",value:function(e){var t=e.height;j.ctaContainerHeight=t,j=O(O({},j),L(j))}},{key:"onChatInputHeightChange",value:function(e){j.chatInputHeight=e,j=O(O({},j),L(j))}},{key:"onVideoDimensionsLoaded",value:function(e){var t=e.width,n=e.height,o=Number(t/n);Math.abs(o-j.videoAspectRatio)<.001||(j=O(O({},j),{},{videoAspectRatio:o,wideVideoAspectRatio({forceRecalc:!0}))}},{key:"mobileClampedViewAllowed",value:function(){var e=j,t=e.isTablet,n=e.isDesktop,o=e.isLandscape;return!t&&!n&&!o}},{key:"setPlatform",value:function(e){j.platform=e}},{key:"setSidebarItemVisiblity",value:function(e){var t=e.component,n=e.visible,o=h()(y.DD,(function(e){return e===t})),r=O(O({},j.sidebarItems),{},(0,d.Z)({},t,{component:,D(r,j.videoViewportHeight+j.ctaHeight))}},{key:"getSidebarItemState",value:function(e){return"number"==typeof e?j.sidebarItems[e]:j.sidebarItems[h()(j.sidebarItems,(function(t){return t===e}))]}},{key:"reset",value:function(){j=O(O({},j),{},{mobileClampedView:!1,chatInputActive:!1}),j=O(O({},j),L(j))}},{key:"enterClampedView",value:function(){j=O(O({},j),{},{mobileClampedView:!0}),this.setChatInputActive(!1),j=O(O({},j),L(j))}},{key:"exitClampedView",value:function(){j=O(O({},j),{},{mobileClampedView:!1}),j=O(O({},j),L(j))}},{key:"onSizeBioInfo",value:function(e){var t=e.height;t!==j.bioInfoHeight&&(j=O(O({},j),{},{bioInfoHeight:t||0}))}},{key:"handleChatInputFocused",value:function(e){var t=e.focused,n=e.preventScroll;j.chatInputFocused=t,j.preventChatScroll=n,(n&&t||j.chatInputActive&&!t)&&this.setChatInputActive(t)}},{key:"handldjustment;j=O(O({},j),{},{videoViewportHeightAdjustment:Math.round(t)}),j=O(O({},j),L(j))}},{key:"handleClientRootBoundingRect",value:function(e){var t=e.rect;t&&(j.clientRootBoundingRect=t)}},{key:"setChatInputActive",value:function(e){j.layout===y.ZP.MOBILE&&(j.chatInputActive=e,j=O(O({},j),L(j)))}},{key:"__onDispatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.data;switch(t){case _.Z.VIDEO_DIMENSIONS_LOADED:this.onVideoDimensionsLoaded(n);break;case _.Z.WINDOW_RESIZE:this.onResize(n);break;case _.Z.CTA_HEIGHT_CHANGE:this.onCtaHeightChange(n);break;case _.Z.CHAT_INPUT_HEIGHT_CHANGE:this.onChatInputHeightChange(n);break;case _.Z.SIDEBAR_ITEM_VISIBLITY:this.setSidebarItemVisiblity(n);break;case _.Z.ENTER_FULLSCREEN:this.onEnterFullscreen();break;case _.Z.EXIT_FULLSCREEN:this.onExitFullscreen();break;case _.Z.SIZE_BIO_INFO:this.onSizeBioInfo(n);break;case _.Z.ENTER_CLAMPED_VIEW:this.enterClampedView();break;case _.Z.EXIT_CLAMPED_VIEW:this.exitClampedView();break;case _.Z.CHAT_INPUT_FOCUSED:this.handleChatInputFocused(n);break;case _.Z.VIDEO_DISPLAY_HEIGHT_ADJUSTMENT:this.handleVideoDisplayHeightAdjustment(n);break;case _.Z.CLIENT_ROOT_BOUNDING_RECT:this.handleClientRootBoundingRect(n);break;case _.Z.RESET:this.reset();break;default:return}this.__emitChange()}}]),n}(v.Z))("layout",p.Z)},"./src/stores/ModalStore.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>F});var o,r=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),i=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),s=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),l=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),c=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=(n("webpack/sharing/consume/default/react/react"),n("./src/lib/Dispatcher.js")),m=n("./src/lib/Strings.js"),h=n("./src/constants/Actions.js"),f=n("./src/constants/Messages.js"),g=n("./src/constants/Platforms.ts"),v=n("./src/constants/StatsEvents.js"),_=n("./src/constants/RpcCalls.js"),y=n("./src/constants/Modals.ts"),b=n("./src/constants/NaiadSessionType.js"),S=n("./src/constants/DisconnectReasons.js"),E=n("./src/constants/Connection.js"),C=n("./src/constants/LayoutConstants.ts"),Z=n("./src/constants/Globals.js"),P=n("./src/utils/log.js"),O=n("./src/utils/tools.ts"),T=n("./src/utils/currency.js"),I=n("./src/utils/billing.ts"),w=n("./src/utils/FluxStoreExtended.ts"),A=n("./src/components/common/DailyLimitMessage.js"),R=n("./src/stores/GoldShowStore.js"),k=n("./src/stores/UserStore.js"),D=n("./src/stores/RateStore.js"),L=n("./src/stores/ConnectionStore.js"),N=n("./src/stores/LayoutStore.js"),x=n("./src/stores/ConfigStore.ts");function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=Z.Z.DEBUG?0:45e3,G={goldPending:!1,modal:"",modalProps:null,startTime:0,limit:"",isStashLimit:!1,userid:0,spotReservedModalShown:!1,topContributorAmount:0,topContributorString:"",activeGoldTab:"givegold",closingClient:!1,showThanksSpendMessage:!1,thanksSpendAmount:null},V=B({},G);const F=new(function(e){(0,l.Z)(n,e);var t=j(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"getState",value:function(){return V}},{key:"onNaiadFreeze",value:function(e){var t,n=(0,i.Z)(e,1)[0];if(!new Set([y.nK.FREEZE,y.nK.POST_PAID]).has(V.modal)){if(P.Z.usage("disconnected",Date.now()),P.Z.usage("disconnected_reason",n||-1),V.startTime){var o=L.Z.isGoldOnlyStream(),s=Date.now()-V.startTime;if(V.startTime=0,o||P.Z.usage("paid_session_length",s),n===S.Z.PREAUTH)return void(V=B(B({},V),{},{modal:y.nK.NO_SERVICES,modalProps:{subMessage:m.ZP.getString("disconnect_preauth"),updateLabel:m.ZP.getString("lb_add_new_card")}}));if(n===S.Z.MIDSTREAM_BILLING_DECLINED)return void(V=B(B({},V),{},{modal:y.nK.MIDSTREAM_BILLING_DECLINED,modalProps:{}}));if(![S.Z.BOOTED,S.Z.BOOTED_BY_ADMIN].includes(n))if(s>=(V.sessionLengthForPostPaidModal>=0?V.sessionLengthForPostPaidModal:U)){if(o){var a=k.Z.getState(),l=a.totalGoldGiven;if(!(a.lastGiveGoldSucceeded&&l>=1e3))return}return void(V=B(B({},V),{},{modal:y.nK.POST_PAID,modalProps:{duration:s,isShackled:n===S.Z.SHACKLED}}))}}if(n!==S.Z.USER_DISCONNECT){if(P.Z.sendAndStop(),n===S.Z.SHACKLED){if(V.isStashLimit){var c=k.Z.getState(),u=c.maxGold,p=c.currencyCode;return void(V=B(B({},V),{},{modal:y.nK.STASH,modalProps:{maxGoldString:T.Z.currencyify(u,p)}}))}var h=k.Z.getState().userType;if(h===b.Z.PREVIEW||h===b.Z.BASIC)return void(V=B(B({},V),{},{modal:y.nK.SNEAK_PREVIEW_EXPIRED}))}if(!new Set([S.Z.SYSTEM,S.Z.STATUS_PERFORMER,S.Z.LOST_CONNECTION,S.Z.BUSY,S.Z.BREAK,S.Z.NO_VALID_DRIVERS,S.Z.PERFORMER_IN_EXCLUSIVE,S.Z.INVALID_STARTUP,S.Z.STARTUP_NETWORK_ERROR,S.Z.ROOM_CLIENT_CONNECTION_FAILURE,S.Z.ROOM_CLIENT_CONNECTION_LOST,S.Z.INVALID_HC_VERSION,S.Z.WAIT_TO_SET_UP_STREAM,S.Z.ROOM_FULL,S.Z.IN_GOLDSHOW]).has(n)){var g=(t={},(0,d.Z)(t,S.Z.AUTHENTICATION,m.ZP.getString("disconnect_authentication")),(0,d.Z)(t,S.Z.BLOCKED,m.ZP.getString("disconnect_blocked")),(0,d.Z)(t,S.Z.ENDED,m.ZP.getString("disconnect_ended")),(0,d.Z)(t,S.Z.SHACKLED,this.getShackledString()),(0,d.Z)(t,S.Z.PREAUTH,m.ZP.getString("disconnect_preauth")),(0,d.Z)(t,S.Z.BOOTED,m.ZP.getString("disconnect_booted")),(0,d.Z)(t,S.Z.BLOCKED_IP,m.ZP.getString("disconnect_authentication")),(0,d.Z)(t,S.Z.PAYOFF,m.ZP.getString("disconnect_payoff")),(0,d.Z)(t,S.Z.DECLINED_EXCLUSIVE,m.ZP.getString("disconnect_declined_exclusive")),(0,d.Z)(t,S.Z.BLOCK_SESSION_UNAVAILABLE,m.ZP.getString("disconnect_block")),(0,d.Z)(t,S.Z.BLOCK_SESSION_REJECTED,m.ZP.getString("disconnect_block")),(0,d.Z)(t,S.Z.FLASH_VERSION,this.getFlashVersionMessage()),(0,d.Z)(t,S.Z.GHOST,m.ZP.getString("disconnect_ghost")),(0,d.Z)(t,S.Z.BOOTED_BY_ADMIN,m.ZP.getString("disconnect_booted_by_admin")),(0,d.Z)(t,S.Z.ESF_BILLING_ERROR,m.ZP.getString("esf_billing_error")),t),v=g[n]||m.ZP.getString("disconnect_system"),_="string"==typeof v?(0,r.Z)("p",{},void 0,v):v,E=!g[n]||[S.Z.GHOST,S.Z.ESF_BILLING_ERROR].includes(n);n!==S.Z.PREAUTH?(n===S.Z.ESF_BILLING_ERROR&&(0,O.Vj)(f.Z.ESF_BILLING_FAIL),V=B(B({},V),{},{modal:y.nK.FREEZE,modalProps:{children:_,showBrowseButton:"string"==typeof v,showContactSupportButton:E}})):V=B(B({},V),{},{modal:y.nK.NO_SERVICES,modalProps:{subMessage:m.ZP.getString("disconnect_preauth"),updateLabel:m.ZP.getString("lb_add_new_card")}})}}else this.attemptCloseClient()}}},{key:"onNaiadAuthorized",value:function(e){e[10]-1===E.ZP.STREAM_TYPE_PRIVATE&&(P.Z.statsIncCounter(v.Z.SESSION_PRIVATE_AUTHORIZED),(0,O.Vj)(f.Z.ENTERED_PRIVATE,{rate:D.Z.getState().ratePremium,userId:k.Z.getState().userId}),V=B(B({},V),{},{startTime:Date.now(),modal:"",modalProps:null})),L.Z.isGoldOnlyStream()&&(V=B(B({},V),{},{startTime:Date.now()}))}},{key:"onRoomConnected",value:function(e){var t,n;L.Z.isAmsDead()&&((null!==(t=null==e||null===(n=e.authInfo)||void 0===n?void 0:n.userType)&&void 0!==t?t:0)===E.ZP.STREAM_TYPE_PRIVATE&&(P.Z.statsIncCounter(v.Z.SESSION_PRIVATE_AUTHORIZED),(0,O.Vj)(f.Z.ENTERED_PRIVATE,{rate:D.Z.getState().ratePremium,userId:k.Z.getState().userId}),V=B(B({},V),{},{startTime:Date.now(),modal:"",modalProps:null})),L.Z.isGoldOnlyStream()&&(V=B(B({},V),{},{startTime:Date.now()})))}},{key:"onRoomStatusChanged",value:function(e){L.Z.isAmsDead()&&(P.Z.debug({message:"ModalStore.onRoomStatusChanged",roomStatus:e}),V=B(B({},V),{},{modal:"",modalProps:null}))}},{key:"onRoomEnteredPrivate",value:function(){P.Z.statsIncCounter(v.Z.SESSION_PRIVATE_AUTHORIZED),(0,O.Vj)(f.Z.ENTERED_PRIVATE,{rate:D.Z.getState().ratePremium,userId:k.Z.getState().userId}),V=B(B({},V),{},{startTime:Date.now(),modal:"",modalProps:null})}},{key:"onNaiadPause",value:function(){V=B(B({},V),{},{modal:"",modalProps:null})}},{key:"onAcceptance",value:function(){V=B(B({},V),{},{startTime:Date.now(),modal:"",modalProps:null}),(0,O.Vj)(f.Z.ENTERED_EXCLUSIVE,{rate:D.Z.getState().rateExclusive,userId:k.Z.getState().userId})}},{key:"onGiveGoldClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.topContributorAmount,n=void 0===t?0:t,o=e.topContributorString,r=void 0===o?"":o;V.goldPending||(0,I.I)({givingGold:!0})&&(P.Z.usage("givegold_modal_shown"),V=B(B({},V),{},{modal:y.nK.GOLD,activeGoldTab:y.m5.GIVE_GOLD}),V=B(B({},V),{},{topContributorAmount:n,topContributorString:r}))}},{key:"onEnterPaidClick",value:function(){var e=k.Z.getState().userType;e===b.Z.GUEST?(P.Z.usage("enterpaid_modal_shown"),V.modal=y.nK.ENTER_PAID):P.Z.error("Unknown user type: ".concat(e))}},{key:"onOpenGoldModal",value:function(e){V=B(B({},V),{},{modal:y.nK.GOLD,activeGoldTab:e})}},{key:"handleGoldMenuTabUpdate",value:function(e){V=B(B({},V),{},{activeGoldTab:e})}},{key:"attemptCloseClient",value:function(){N.ZP.getState().layout!==C.ZP.DESKTOP&&(V=B(B({},V),{},{closingClient:!0}),setTimeout((function(){p.Z.dispatch({type:h.Z.CLOSING_CLIENT})})),P.Z.sendAndStop(),(0,O.Vj)(f.Z.CLOSE_CLIENT))}},{key:"onGoldGiven",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.goldToGiveCentsUsd,n=e.fromQuickTip,o=e.spinGoldMenuName;if(!n&&!o){var r=k.Z.getState(),i=r.needsPrebill,s=i?y.nK.SPINNER:null;V=B(B({},V),{},{goldPending:!0,modal:s,modalProps:null,pendingGoldGiven:t})}}},{key:"autoCloseIfSuccess",value:function(){this.closeSuccessToken&&clearTimeout(this.closeSuccessToken),this.closeSuccessToken=setTimeout((function(){y.rD.has(V.modal)&&p.Z.dispatch({type:h.Z.CLOSE_MODAL})}),1e3)}},{key:"setGoldSuccessState",value:function(e){var t=e===y.nK.SPOT_RESERVED||V.spotReservedModalShown;V=B(B({},V),{},{goldPending:!1,spotReservedModalShown:t,modal:e,showThanksSpendMessage:!e,thanksSpendAmount:V.pendingGoldGiven,pendingGoldGiven:null}),e&&this.autoCloseIfSuccess()}},{key:"onGoldGiveSuccess",value:function(){var e=arguments.length>0&&void 0!==argumER)&&this.setGoldSuccessState():V=B(B({},V),{ll})}},{key:"onHideThanksSpendMessage",value:function(){V.showThanksSpaiadPledgeGold",value:function(e){(function(e){return e&&e[0]&&e[0].id})(e)&&this.onPledgeGoldSuccess()}},{key:"onRoomClientPledgeGold",value:function(e){e.failed||this.onPledgeGoldSuccess()}},{key:"onPledgeGoldSuccess",value:function(){if(V.goldPending||V.modal===y.nK.SPINNER){var e=R.Z.isUserBoughtIn()&&!V.spotReservedModalShown?y.nK.SPOT_RESERVED:null;this.setGoldSuccessState(e)}}},{key:"onPostPaidSuccess",value:function(){this.setGoldSuccessState(y.nK.THANKS_POST_PAID),setZ.CLOSE_MODAL})}),2e3)}},{key:"onRequestPrivate",value:function(){V=B(B({},V),{},{modal:y.nK.LOADING_PRIVATE,modalProps:null})}},{key:"onPayoff",value:function(e){e&&this.onGoldGiveSuccess()}},{key:"onLoadConfig",value:function(e){var t=e.config,n=e.platform,o=t.user,r=o.limit,i=o.isStashLimit,s=o.id;(V=B(B({},V),{},{limit:r,isStashLimit:i,userid:Number(s)||0}),n===g.ZP.EXTERNAL_SITE_SHOW&&t.performer.isAvailable)&&(L.Z.getState().essUsername||this.openEssEnterModal())}},{key:"getShackledString",value:function(){return V.isStashLimit?m.ZP.getString("prepaid_balance.exhausted"):V.limit&&V.limit>0?o||(o=(0,r.Z)(A.Z,{})):m.ZP.getString("user_shackled")}},{key:"getFlashVersionMessage",value:function(){return(0,r.Z)("p",{},"flwarning",(0,r.Z)("span",{},void 0,m.ZP.getString("disconnect_flash_version")),"",(0,r.Z)("a",{href:"http://www.adobe.com/go/getflashplayer"},void 0,m.ZP.getString("disconnect_flash_version_link")))}},{key:"onCam2CamClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.videoEnabled,n=void 0===t||t,o=e.audioEnabled,r=void 0===o||o,i=e.audioVideoChoice,s=void 0!==i&&i;P.Z.usage("c2c_modal_shown"),P.Z.info({message:"cam2cam-button-clicked"},{force:!0}),V.modal=y.nK.ENTER_CAM2CAM,V.modalProps={videoEnabled:n,audioEnabled:r,audioVideoChoice:s}}},{key:"onCam2CamRetryPrompt",value:function(){P.Z.usage("c2c_retry_modal_shown"),V.modal=y.nK.RETRY_CAM2CAM}},{key:"onC2CEnded",value:function(){V.modal&&V.modal===y.nK.RETRY_CAM2CAM&&this.resetModal()}},{key:"confirmCam2CamExit",value:function(e){V.modal=y.nK.END_CAM2CAM,V.modalProps={onCloseConfirm:e.onCloseConfirm}}},{key:"onCloseModal",value:function(){V.modal!==y.nK.FREEZE?this.resetModal():(0,O.Vj)(f.Z.BROWSE_LIVE_MODELS)}},{key:"openComplianceModal",value:function(){P.Z.usage("compliance_modal_shown"),V.modal=y.nK.COMPLIANCE}},{key:"openEssEnterModal",value:function(){P.Z.usage("ess_enter_modal_shown"),V.modal=y.nK.ESS_ENTER}},{key:"openTermsModal",value:function(){var e;null!==(e=x.Z.getState().data)&&void 0!==e&&e.site&&(P.Z.usage("toc_modal_shown"),V.modal=y.nK.TERMS)}},{key:"openQuickTipConsentModal",value:function(e){P.Z.usage("quick_tip_consent_modal_shown"),V=B(B({},V),{},{modal:y.nK.QUICK_TIP_CONSENT,modalProps:{goldToGive:e.goldToGive}})}},{key:"openMobileQuickTipConsentModal",value:function(){P.Z.usage("quick_tip_mobile_consent_modal_shown"),V=B(B({},V),{},{modal:y.nK.QUICK_TIP_MOBILE_CONSENT,modalProps:null})}},{key:"openQuickTipCustomValueModal",value:function(){P.Z.usage("quick_tip_custom_value_modal_shown"),V=B(B({},V),{},{modal:y.nK.QUICK_TIP_CHANGE_CUSTOM_VALUE,modalProps:null})}},{key:"onCam2CamDiagnosticComplete",value:function(e){var t=e.report;if(e.success){if((0,I.I)()){var n=k.Z.getState().userType;n===b.Z.GUEST?(P.Z.usage("enterpaid_modal_shown"),V.modal=y.nK.CAM2CAM_DIAelse V=B(B({},V),{},{modal:y.nK.CAM2CAM_DIAGNOSTIC_FAILED,modalProps:{report:t}})}},{key:"setSessionLengthForPostPaidModal",value:function(e){V=B(B({},V),{},{sessionLengthForPostPaidModal:e})}},{key:"openTwoFactorAuthenticationRequiredModal",value:function(){P.Z.usage("two_factor_authentication_required_modal_shown"),V=B(B({},V),{},{modal:y.nK.TWO_FACTOR_AUTHENTICATION_REQUIRED,modalProps:{}})}},{key:"openNoServicesModal",value:function(){P.Z.usage("noservices_modal_shown"),V=B(B({},V),{},{modal:y.nK.NO_SERVICES,modalProps:{message:m.ZP.getString("gold_popup_noservices"),subMessage:m.ZP.getString("gold_popup_noservices_b"),updateLabel:m.ZP.getString("lb_update_info")}})}},{key:"openPayoffModal",value:function(e){var t=e.owedString;P.Z.usage("payoff_modal_shown"),V=B(B({},V),{},{modal:y.nK.PAYOFF,modalProps:{owedString:t}})}},{key:"setCloseButtonVisibility",value:function(alProps:B(B({},V.modalProps),{},{showCloseButton:e})})}},{key:"resetModal",value:function(){V=B(B({},V),{},{goldPending:!1,modal:"",modalProps:null})}},{key:"reset",value:function(){V=B({},G)}},{key:"__onDispatch",value:function(e){switch(p.Z.waitFor([R.Z.getDispatchToken()]),e.type){case _.Z.NAIAD_PAYOFF:this.onPayoff("Success"===e.message);break;case h.Z.ROOM_PAYOFF:this.onPayoff(!0);break;case _.Z.NAIAD_PAUSE:this.onNaiadPause(e.data);break;case _.Z.NAIAD_AUTHORIZED:this.onNaiadAuthorized(e.data);break;case _.Z.NAIAD_BLOCK_SESSION_ACCEPTED:case _.Z.NAIAD_EXCLUSIVE_ACCEPTED:case _.Z.ROOM_CLIENT_ENTERED_BLOCK_SESSION:case _.Z.ROOM_CLIENT_ENTERED_EXCLUSIVE:this.onAcceptance();break;case _.Z.NAIAD_GOLD_GIVEN:this.onGoldGiveSuccess(e.data[2]);break;case _.Z.NAIAD_PLEDGE_GOLD:this.onNaiadPledgeGold(e.data);break;case _.Z.ROOM_CLIENT_CONNECTED:this.onRoomConnected(e.data);break;case _.Z.ROOM_CLIENT_STATUS_CHANGED:this.onRoomStatusChanged(e.data);break;case _.Z.ROOM_CLIENT_PLEDGE_GOLD:this.onRoomClientPledgeGold(e.data);break;case _.Z.ROOM_CLIENT_GIVE_GOLD:if(e.data.failed)return;this.onGoldGiveSuccess();break;case _.Z.ROOM_CLIENT_ENTERED_PRIVATE:this.onRoomEnteredPrivate();break;case _.Z.NAIAD_FREEZE:case h.Z.DISCONNECT:this.onNaiadFreeze(e.data);break;case _.Z.NAIAD_PRE_GOLDSHOW:case h.Z.CAM2CAM_RETRY:case h.Z.CAM2CAM_RETRY_CANCEL:case h.Z.SET_ESS_USERNAME:this.resetModal();break;case h.Z.CAM2CAM_END:this.onC2CEnded();break;case h.Z.RESET:this.reset();break;case h.Z.GIVE_GOLD_CLICK:P.Z.usageTick("givegold_clicked"),this.onGiveGoldClick(e.data);break;case h.Z.OPEN_GOLD_MODAL:!this.getState().goldPending&&(0,I.I)({givingGold:!0})&&this.onOpenGoldModal(e.data.activeGoldTab);break;case h.Z.ACTIVE_GOLD_MENU_TAB:this.handleGoldMenuTabUpdate(e.data.activeGoldTab);break;case h.Z.ENTER_PAID_CLICK:P.Z.usageTick("enterpaid_clicked"),!L.Z.getState().goldOnly&&(0,I.I)()&&this.onEnterPaidClick();break;case h.Z.CLOSE_MODAL:this.onCloseModal();break;case h.Z.CAM2CAM_CONFIRM_END:this.confirmCam2CamExit(e.data);break;case h.Z.CAM2CAM_DIAGNOSTIC_COMPLETE:this.onCam2CamDiagnosticComplete(e.data);break;case h.Z.USER_REQUEST_PRIVATE:this.onRequestPrivate(e.data);break;case h.Z.USER_GIVE_GOLD:case h.Z.USER_PLEDGE_GOLD:case h.Z.REQUEST_PAYOFF:case h.Z.ROOM_REQUEST_PAYOFF:this.onGoldGiven(e.data);break;case h.Z.LOAD_CONFIG:this.onLoadConfig(e.data);break;case h.Z.CAM2CAM_CLICK:this.onCam2CamClick(e.data);break;case h.Z.CAM2CAM_RETRY_PROMPT:this.onCam2CamRetryPrompt(e.data);break;case h.Z.OPEN_COMPLIANCE_MODAL:this.openComplianceModal();break;case h.Z.OPEN_ESS_ENTER_MODAL:this.openEssEnterModal();break;case h.Z.OPEN_TERMS_MODAL:this.openTermsModal();break;case h.Z.POST_PAID_SUCCESS_MODAL:this.onPostPaidSuccess();break;case h.Z.SHOW_QUICK_TIP_CONSENT_MODAL:this.openQuickTipConsentModal(e.data);break;case h.Z.SHOW_MOBILE_QUICK_TIP_CONSENT_MODAL:this.openMobileQuickTipConsentModal();break;case h.Z.SHOW_QUICK_TIP_CUSTOM_VALUE_MODAL:this.openQuickTipCustomValueModal();break;case h.Z.HIDE_THANKS_SPEND_MESSAGE:this.onHideThanksSpendMessage();break;case h.Z.OPEN_TWO_FACTOR_AUTHENTICATION_REQUIRED_MODAL:this.openTwoFactorAuthenticationRequiredModal();break;case h.Z.SHOW_NO_SERVICES_MODAL:this.openNoServicesModal();break;case h.Z.SHOW_PAYOFF_MODAL:this.openPayoffModal(e.data);break;case h.Z.MODAL_CLOSE_BUTTON_HIDE:this.setCloseButtonVisibility(!1);break;case h.Z.MODAL_CLOSE_BUTTON_SHOW:this.setCloseButtonVisibility(!0);break;default:return}this.__emitChange()}}]),n}(w.Z))("modal",p.Z)},"./src/stores/OverlayStore.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var o=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=n("./src/lib/Dispatcher.js"),d=n("./src/constants/Actions.js"),p=n("./src/constants/RpcCalls.js"),m=n("./src/constants/DisconnectReasons.js"),h=n("./src/constants/Overlays.ts"),f=n("./src/constants/GoldShowConstants.js"),g=n("./src/constants/Platforms.ts"),v=n("./src/stores/ConnectionStore.js"),_=n("./src/stores/ModalStore.js"),y=n("./src/stores/ConfigStore.ts"),b=n("./src/stores/UserStore.js"),S=n("./src/stores/UserListStore.ts"),E=n("./src/stores/GoldShowStore.js"),C=n("./src/stores/RoomStore.ts"),Z=n("./src/utils/log.js"),P=n("./src/utils/FluxStoreExtended.ts"),O=n("./src/utils/gold.js");function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,a.Z)(this,n)}}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A={overlay:"",needPledge:!1,configLoaded:!1,lockOverlay:!1,throttleTime:0},R=w({},A);const k=new(function(e){(0,s.Z)(n,e);var t=T(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"getState",value:function(){return R}},{key:"isUpgradingFromPrivateToExclusive",value:function(){return v.Z.isRoomEnteringExclusive()&&S.Z.getState().isSolePrivateUser}},{key:"handleNaiadFreeze",value:function(e){var t=(0,o.Z)(e,1)[0],n=void 0===t?m.Z.BUSY:t;if(n){var r;if(n===m.Z.LOST_CONNECTION&&(!R.configLoaded||R.overlay))return void Z.Z.debug({message:"OverlayStore: not updating to the Online modal.",reason:n,overlay:R.overlay,configLoaded:R.configLoaded});if(R.lockOverlay)return;var i=y.Z.getState().platform;if(i===g.ZP.STREAMFANS)return void(R.overlay="");if(_.Z.getState().closingClient&&i!==g.ZP.BLACKLABEL)return void(R.overlay=h.Z.CLOSING_CLIENT);var s=(r={},(0,c.Z)(r,m.Z.BUSY,h.Z.IN_PRIVATE),(0,c.Z)(r,m.Z.IN_GOLDSHOW,h.Z.IN_GOLDSHOW),(0,c.Z)(r,m.Z.PERFORMER_IN_EXCLUSIVE,h.Z.IN_EXCLUSIVE),(0,c.Z)(r,m.Z.BREAK,h.Z.BREAK),(0,c.Z)(r,m.Z.DECLINED_EXCLUSIVE,h.Z.ONLINE),(0,c.Z)(r,m.Z.TIMEOUT,h.Z.TIMEOUT),(0,c.Z)(r,m.Z.SHACKLED,h.Z.ONLINE),(0,c.Z)(r,m.Z.PAYOFF,h.Z.ONLINE),(0,c.Z)(r,m.Z.STATUS_PERFORMER,h.Z.OFFLINE),(0,c.Z)(r,m.Z.SYSTEM,h.Z.DISCONNECT_SYSTEM),(0,c.Z)(r,m.Z.LOST_LODEF_CONNECTION,h.Z.DISCONNECT_SYSTEM),(0,c.Z)(r,m.Z.DISCONNECT_LOST_STREAMINGLS_CONNECTION,h.Z.DISCONNECT_SYSTEM),(0,c.Z)(r,m.Z.DISCONNECT_NO_VIDEO_PATH,h.Z.DISCONNECT_SYSTEM),(0,c.Z)(r,m.Z.DISCONNECT_CANT_PLAY_NGINX_STREAM,h.Z.DISCONNECT_SYSTEM),(0,c.Z)(r,m.Z.LOST_CONNECTION,h.Z.DISCONNECT_SYSTEM),(0,c.Z)(r,m.Z.ROOM_CLIENT_CONNECTION_FAILURE,h.Z.DISCONNECT_SYSTEM),(0,c.Z)(r,m.Z.ROOM_CLIENT_CONNECTION_LOST,h.Z.DISCONNECT_SYSTEM),(0,c.Z)(r,m.Z.USER_DISCONNECT,h.Z.DISCONNECT_USER),(0,c.Z)(r,m.Z.NO_VALID_DRIVERS,h.Z.NO_VALID_DRIVERS),(0,c.Z)(r,m.Z.INVALID_STARTUP,h.Z.INVALID_STARTUP),(0,c.Z)(r,m.Z.STARTUP_NETWORK_ERROR,h.Z.STARTUP_NETWORK_ERROR),(0,c.Z)(r,m.Z.INVALID_HC_VERSION,h.Z.REFRESH_HC),(0,c.Z)(r,m.Z.WAIT_TO_SET_UP_STREAM,h.Z.WAIT_FOR_SET_UP),(0,c.Z)(r,m.Z.ROOM_FULL,h.Z.ROOM_FULL),r);R.overlay=s[n]}}},{key:"handleNaiadPause",value:function(e){var t=(0,o.Z)(e,1)[0];[h.Z.ndexOf(R.overlay)>=0||(t&&Boolean(t.countdown)?R.overlay=h.Z.IN_COUNTDOWN:R.needPledge?R.overlay=h.Z.IN_GOLDSHOW:R.overlay=h.Z.IN_PRIVATE)}},{key:"handlePlaying",value:function(){R.overlay=""}},{key:"handleGoldShow",value:function(e){var t=e.action,n=e.goldShowState;t===f.Z.GOLD_ACTION_NEED_PLEDGE?R.needPledge=!0:n!==f.Z.GOLD_STATE_IN_PROGRESS&&t!==f.Z.GOLD_ACTION_BEGIN||(R.overlay="")}},{key:"handleRoomGoldShow",value:function(e){var t,n;if(v.Z.isAmsDead()&&(0,O.fh)(C.Z.getState())){var o=null!==(t=e.myPledgedAmount)&&void 0!==t?t:0,r=null!==(n=e.minBuyin)&&void 0!==n?n:0,i=(0,O.YD)(o,e.myAccess),s=(0,O.H6)(i,!0);if(s===f.Z.GOLD_STATE_IN_PROGRESS&&o<r&&!v.Z.isESSUser()&&!E.Z.isExternalSiteShow())return R.overlay=h.Z.IN_GOLDSHOW,ATE_IN_PROGRESS||s===f.Z.GOLD_STATE_PRE_PLEDGED||v.Z.isESSUser()&&e.isExternalSiteShow)&&(R.overlay="",R.needPledge=!1)}}},{key:"handleNaiadOnBreak",value:function(e){R.overlay=e?h.Z.BREAK:""}},{key:"handleRoomStatusChanged",value:function(e){v.Z.isAmsDead()&&("inCountdown"!==e.status||this.isUpgradingFromPrivateToExclusive()?(0,O.fh)(e)?E.Z.isUserBoughtIn()||v.Z.isESSUser()&&E.Z.isExternalSiteShow()?(R.overlay="",R.needPledge=!1):(R.overlay=h.Z.IN_GOLDSHOW,R.needPledge=!0):"onBreak"===e.status?R.overlay=h.Z.BREAK:"private"===e.status&&!v.Z.isRoomEnteringPaid()||"externalSiteShow"===e.status?R.overlay=h.Z.IN_PRIVATE:"exclusive"!==e.status||v.Z.isRoomEnteringPaid()?R.overlay="":R.overlay=h.Z.IN_EXCLUSIVE:R.overlay=!e.initialStatus||b.Z.isLoggedIn()?h.Z.IN_COUNTDOWN:h.Z.IN_PRIVATE)}},{key:"handleRoomPledgeGold",value:function(e){e.failed||R.overlay===h.Z.IN_GOLDSHOW&&e.info.amount>=E.Z.getState().minbuyin&&(R.n,value:function(e){var t=e.config;R.configLoaded=!0,t.performer.isAvailable||(R.overlay=h.Z.OFFLINE)}},{key:"handleForceBillingUpdate",value:function(){R.overlay=h.Z.FORCE_BILLING_INFO_UPDATE}},{key:"__onDispatch",value:function(e){switch(e.type){case p.Z.NAIAD_PAUSE:u.Z.waitFor([v.Z.getDispatchToken()]),this.handleNaiadPause(e.data);break;case p.Z.NAIAD_PLAY:this.handlePlaying();break;case p.Z.NAIAD_GOLDSHOW:this.handleGoldShow(e.data[0]);break;case p.Z.NAIAD_ON_BREAK:this.handleNaiadOnBreak(e.data[0]);break;case p.Z.ROOM_CLIENT_STATUS_CHANGED:this.handleRoomStatusChanged(e.data);break;case p.Z.ROOM_CLIENT_PLEDGE_GOLD:this.handleRoomPledgeGold(e.data);break;case p.Z.ROOM_CLIENT_GOLDSHOW:this.handleRoomGoldShow(e.data);break;case p.Z.NAIAD_FREEZE:case d.Z.DISCONNECT:case d.Z.VIDEO_DISCONNECT:u.Z.waitFor([v.Z.getDispatchToken(),_.Z.getDispatchToken()]),this.handleNaiadFreeze(e.data);break;case d.Z.FORCE_BILLING_INFO_UPDATE:this.handleForceBillingUpdate();break;case d.Z.USER_REQUEST_PRIVATE:this.handlePlaying();break;case d.Z.LOAD_CONFIG:u.Z.waitFor([v.Z.getDispatchToken()]),this.handleLoadConfig(e.data);break;case d.Z.RESET:R=w({},A);break;case d.Z.LOCK_OVERLAY:R=w(w({},R),{},{lockOverlay:!0});break;case d.Z.CLOSING_CLIENT:y.Z.getState().platform!==g.ZP.BLACKLABEL&&y.Z.getState().platform!==g.ZP.STREAMFANS&&(R=w(w({},R),{},{overlay:h.Z.CLOSING_CLIENT,lockOverlay:!0})),y.Z.getState().platform===g.ZP.STREAMFANS&&(R=w(w({},R),{},{overlay:"",lockOverlay:!1}));break;case d.Z.SET_THROTTLE_TIME:R=w(w({},R),{},{throttleTimta});break;default:return}Z.Z.usage("last_overlay",R.overlay),this.__emitChange()}}]),n}(P.Z))("overlay",u.Z)},"./src/stores/PerformerSubscribersStore.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),s=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("./src/utils/FluxStoreExtended.ts"),u=n("./node_modules/lodash/isEmpty.js"),d=n.n(u),p=n("./src/lib/Dispatcher.js"),m=n("./src/constantpertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){var t=new Date(null!=e?e:void 0);return isNaN(t)?"N/A":(0,v.o0)(t,{year:"numeric",month:"long",day:"numeric"})},C={showSubscribeButton:!1,subscription:{},subscriptionAvailable:!1,subscriptionPlans:[],userIsSubscribed:!1,subscriptionBlockers:[],requestPending:!1,requestSuccessful:!1,subscriptionModalOpen:!1,modalAutoClosePending:!1,nextBillingDate:"N/A",subscriptionBenefits:{},subscriptionEnding:!1,subscriptionId:0,subscy:"",platform:null,userId:null,perforEnabledLOMS:!1},Z=S({},C);const P=new(function(e){(0,i.Z)(n,e);var t=y(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"getState",value:function(){return Z}},{key:"reset",value:function(){var e=Z.platform;Z=S(S({},C),{},{platform:e})}},{key:"handleInfo",value:function(e){Z=S(S(S({},Z),e),this.parseNewSubscription(e.subscription,e.subscriptionPlans,e.subscriptionAvailable)),this.attemptDispatchEnabledLOMS()}},{key:"parseNewSubscription",value:function(){var e,t,n,o,r,i,s,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z.subscriptionPlans,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z.su&void 0!==e?e:0,d=Boolean(u),p=E(null==a?void 0:a.nextcharge),m=null!==(t=null==a?void 0:a.endofsubscription)&&void 0!==t&&t,h=u&&l.filter((function(e){return e.id===(null==a?void 0:a.planid)}))[0]||{},f=null!==(n=null==h||null===(o=h.details)||void 0===o?void 0:o.pricetimes100)&&void 0!==n?n:0,v=g.ZP.getPlanPriceString(h),_=null!==(r=null==h?void 0:h.id)&&void 0!==r?r:0,y=null!==(i=null==h||null===(s=h.details)||void 0===s?void 0:s.benefits)&&void 0!==i?i:{},b=this.showSubscribeButton(l,d,c);return{showSubscribeButton:b,userIsSubscribed:d,subscriptionId:u,nextBillingDate:p,subscriptionEnding:m,subscriptionPlan:h,subscriptionPrice:f,subscriptionPriceCurrency:v,subscriptionPlanId:_,subscriptionBenefits:y}}},{key:"showSubscribeButton",value:function(e,t,n){return!d()(e)&&(t||n)}},{key:"attachError",value:function(e,t){var n=Z.subscriptionPlans.findIndex((function(t){return t.id===e}));-1!==n?Z.subscriptionPlans[n].error=t:_.Z.error({message:"subscription-inline-error-plan-not-found"})}},{key:"handleSubChangeSuccess",value:function(e){Z=S(S({},Z),{},{requestPending:!1,requestSuccessful:!0,subscription:e||{}},this.parseNewSubscription(e))}},{key:"handleSubFailure",value:function(e){Z=S(S({},Z),{},{requestPending:!1,requestSuccessful:!1}),this.attachError(e,g.Ay.SUB_ERROR)}},{key:"handleUnsubFailure",value:function(e){Z=S(S({},Z),{},{requestPending:!1,requestSuccessful:!1}),this.attachError(e,g.Ay.UNSUB_ERROR)}},{key:"handleCloseModal",value:function(){Z.requestPending||(Z=S(S({},Z),{},{subscriptionModalOpen:!1,modalAutoClosePendiuestSuccessful:!1})}),0))}},{key:"handleRequestSubscribe",value:function(){Z=S(S({},Z),{},{requestPending:!0})}},{key:"handleDailyLimit",value:function(e){this.attachError(e,g.Ay.DAILY_LIMIT)}},{key:"handleSubscriptionBlock",value:function(e){var t;t=Z.subscriptionBlockers.includes(g.X4.SPENDING_NOT_ENABLED)?g.Ay.INVALID_CC:Z.subscriptionBlockers.includes(g.X4.LOW_LIFETIME_SPEND)?g.Ay.SPENDING_HISTORY:g.Ay.DEFAULT,this.attachError(e,t)}},{key:"handleLoadConfig",value:function(e){var t=e.config;Z.userId=t.user.id,Z.performerId=t.performer.id,this.attemptDispatchEnabledLOMS()}},{key:"attemptDispatchEnabledLOMS",value:function(){var e=Z,t=e.dispatchedEnabledLOMS,n=e.showSubscribeButton,o=e.platform,r=e.performerId,i=e.userId;!t&&n&&o===f.ZP.SCP&&r&&(_.Z.statsIncCounter(h.Z.SUBSCRIPTIONS.AVAILABLE),_.Z.loms({eventname:"PerformerSubscribersEnabledV1",performerId:Number(r),userId:Number(i||0)}),Z.dispatchedEnabledLOMS=!0)}},{key:"setPlatform",value:function(e){Z.platform=e}},{key:"__onDispatch",value:function(e){switch(e.type){case m.Z.PERFORMER_SUBSCRIBERS_INFO:this.handleInfo(e.data);break;case m.Z.PERFORMER_SUBSCRIBERS_REQUEST_SUBSCRIBE:case m.Z.PERFORMER_SUBSCRIBERS_REQUEST_UNSUBSCRIBE:this.handleRequestSubscribe();break;case m.Z.PERFORMER_SUBSCRIBERS_UNSUB_SUCCESS:case m.Z.PERFORMER_SUBSCRIBERS_SUB_SUCCESS:this.handleSubChangeSuccess(e.data);break;case m.Z.PERFORMER_SUBSCRIBERS_SUB_FAILURE:this.handleSubFailure(e.data);break;case m.Z.PERFORMER_SUBSCRIBERS_UNSUB_FAILURE:this.handleUnsubFailure(e.data);break;case m.Z.PERFORMER_SUBSCRIBERS_SUBSCRIPTION_BLOCK:this.handleSubscriptionBlock(e.data);break;case m.Z.PERFORMER_SUBSCRIBERS_DAILY_LIMIT_REACHED:this.handleDailyLimit(e.data);break;case m.Z.PERFORMER_SUBSCRIBERS_OPEN_MODAL:Z=S(S({},Z),{},{subscriptionModalOpen:!0});break;case m.Z.PERFORMER_SUBSCRIBERS_AUTO_CLOSE_MODAL:Z=S(S({},Z),{},{modalAutoClosePending:!0});break;case m.Z.PERFORMER_SUBSCRIBERS_CLOSE_MODAL:this.handleCloseModal();break;case m.Z.LOAD_CONFIG:this.handleLoadConfig(e.data);break;case m.Z.RESET:this.reset();break;default:return}this.__emitChange()}}]),n}(c.Z))("performerSubscribers",p.Z)},"./src/stores/RateStore.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),s=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("./src/utils/FluxStoreExtended.ts"),u=n("./node_modules/lodash/find.js"),d=n.n(u),p=n("./src/lib/Dispatcher.js"),m=n("./src/lib/AjaxRequest.js"),h=n("./src/constants/Actions.js"),f=n("./src/constants/StatsEvents.js");const g="ChatPrivate",v="ChatExclusive",_="PrivateChat",y="ExclusiveChat";var b=n("./src/constants/CurrencyConstants.js"),S=n("./src/utils/log.js"),E=n("./src/utils/currency.js");function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,a.Z)(e);if(t){var r=(0,a.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={resumeSession:void 0,ratePremium:null,rateExclusive:null,ratePremiumDiscount:void 0,rateExclusiveDiscount:void 0,blockSessions:void 0,taxPercentage:null,taxType:"",feePercentage:null,exchangeRate:b.Z.DEFAULT_EXCHANGE_RATE},T=P({},O);const I=new(function(e){(0,i.Z)(n,e);var t=C(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"getState",value:function(){return T}},{key:"handleLoadRateConfig",value:function(e){var t,n=e.rate,o=e.user,r=n.currencyCode,i=n.taxPercentage,s=n.taxType,a=n.feePercentage,l=n.blocksessions,c=n.premium,u=n.exclusive,d=o.currencyCode,p=o.exchangeRate,m=o.displayCurrencyOnly,h={taxPercentage:i,taxType:s,feePercentage:a};l&&l.resumed&&l.resumed.length>0?t={resumeSession:l.resumed[0]}:t={ratePremium:c||null,rateExclusive:u||null,blockSessions:l};ifCODE&&m){var f,g,v=function(e){return(Math.round(E.Z.convertFromUSD(100*Number(e),p))/100).toFixed(2)},_=function(e){return P(P({},e),{},{discountedrate:v(e.discountedrate),total:v(e.total)})};t.ratePremium&&(t.ratePremium=v(t.ratePremium)),t.rateExclusive&&(t.rateExclusive=v(t.rateExclusive)),null!==(f=t.blockSessions)&&void 0!==f&&f.premium&&(t.blockSessions.premium=t.blockSessions.premium.map(_)),null!==(g=t.blockSessions)&&void 0!==g&&g.exclusive&&(t.blockSessions.exclusive=t.blockSessions.exclusive.map(_)),t.resumeSession&&(t.resumeSession=_(t.resumeSession))}T=P(P(P({},T),h),t)}},{key:"hasBlockSessionsAvailable",value:function(){return T.blockSessions&&(T.blockSessions.premium.length>0||T.blockSessions.exclusive.length>0)}},{key:"maxDiscountRate",value:function(){if(!this.hasBlockSessionsAvailable())return null;var e=T.blockSessions.premium.concat(T.blockSessions.exclusive).reduce((function(e,t){return Math.min(e,Math.min(parseFloat(t.discount)))}),100),t=Math.round(100-e);return(t>99||t<5)&&S.Z.error({message:"Unexpected max discount rate for block sessions",discount:t}),t}},{key:"handleSubscriptionDiscount",value:function(e,t){switch(t){case g:T.ratePremiumDiscount=e;break;case v:T.rateExclusiveDiscount=e;break;default:return}}},{key:"requestSubscriptionDiscounts",value:function(e,t,n,o,r){var i=this,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=Nu\D/g,"")),c=Number(s||0);r&&n&&o&&(l>0&&setTimeout((function(){return i.fetchAndDispatchDiscounts(n,o,r,l,_,g)}),c),a>0&&setTimeout((function(){return i.fetchAndDispatchDiscounts(n,o,r,a,y,v)}),c))}},{key:"fetchAndDispatchDiscounts",value:function(e,t,n,o,r,i){S.Z.statsIncCounter(f.Z.DISCOUNT.SUBSCRIPTIONS_REQUEST);var s={performerId:e,userId:t,sakey:n,subtotal:o,streamType:r},a=m.Z.getBaseUrl()+"/api/v1/subscription/discount";m.Z.post(a,s,"json",(function(e){var t,n,o,r=null===(t=e.body)||void 0===t?void 0:t.subtotal,s=d()(null!==(n=null===(o=e.body)||void 0===o?void 0:o.discounts)&&void 0!==SUBSCRIPTION_DISCOUNT,data:{discountSubtotal:r,discountType:i}}),S.Z.statsIncCounter(f.Z.DISCOUNT.SUBSCRIPTIONS_SUCCESS))}),(function(){S.Z.statsIncCounter(f.Z.DISCOUNT.SUBSCRIPTIONS_FAILURE)}))}},{key:"reset",value:function(){T=P({},O)}},{key:"__onDispatch",value:function(e){switch(e.type){case h.Z.LOAD_CONFIG:this.handleLoadRateConfig(e.data.config);break;case h.Z.PERFORMER_SUBSCRIPTION_DISCOUNT:this.handleSubscriptionDiscount(e.data.discountSubtotal,e.data.discountType);break;case h.Z.RESET:this.reset();break;default:return}this.__emitChange()}}]),n}(c.Z))("rate",p.Z)},"./src/stores/TopContributorsStore.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),s=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("./src/lib/Dispatcher.js"),u=n("./src/utils/FluxStoreExtended.ts"),d=n("./src/constants/Actions.js"),p=n("./src/constants/RpcCalls.js"),m=n("./src/constants/GoldShowConstants.js"),h=n("./src/utils/log.js"),f=n("./src/utils/gold.js"),g=n("./src/stores/ConnectionStore.js"),v=n("./src/stores/GoldShowStore.js");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,a.Z)(e);if(t){var r=(0,a.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={users:[],userId:null,totalUserPledgedAmount:0,inErrorState:!1,usersToShow:3,takeTopSpotIdentifier:null},E=b({},S);const C=new(function(e){(0,i.Z)(n,e);var t=_(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"getState",value:function(){return E}},{key:"setState",value:function(e){E=b(b({},E),e)}},{key:"handleTopContributors",value:function(e){var t=e.users;t?v.Z.getState().showuserhbux?this.setState({users:t}):h.Z.debug("Top contributors called when showuserhbux is disabled!"):h.Z.notice("Top contributors called without a proper users object!")}},{key:"handleRoomGoldShmGoldShowTopContributorsUpdated",topContributors:e}),this.setState({users:e.map((function(e){return{isThisUser:e.isMyContribution,nickname:e.userName,amount:e.amount,time:e.lastGoldTimestamp}}))}))}},{key:"handleNaiadPledgeGold",value:function(e){if(e.id){var t=this.getState().totalUserPledgedAmount;this.setState({totalUserPledgedAmount:t+e.amount})}}},{ktotalUserPledgedAmount;this.setState({totalUserPledgedAmount:t+e.info.amount})}}},{key:"handlePreGoldShow",value:function(e){e.pledgedamt&&this.setState({totalUserPledgedAmount:e.pledgedamt})}},{key:"handleGoldShow",value:function(e){switch(e.action){case m.Z.GOLD_ACTION_CANCEL:case m.Z.GOLD_ACTION_END:this.reset();break;default:e.pledgedamt&&this.setState({totalUserPledgedAmount:e.pledgedamt})}}},{key:"handleRoomGoldShow",value:function(e){var t;if(g.Z.isAmsDead()){h.Z.debug({message:"TopContributorsStore.handleRoomGoldShow",goldShowInfo:e});var n=null!==(t=e.myPledgedAmount)&&void 0!==t?t:0;n&&this.setState({totalUserPledgedAmount:n})}}},{key:"handleRoomStatusChanged",value:function(e){if(g.Z.isAmsDead()){h.Z.debug({message:"TopContributorsStore.handleRoomStatusChanged",roomStatus:e});var t=(0,f.fh)(e);(0,f.fh)(e,!0)||t||this.reset()}}},{key:"handleConfig",value:function(e){E=b(b({},E),{},{userId:e.id||null})}},{key:"handleTopContributorsChatUpsellShowed",value:function(e){var t=e.takeTopSpotIdentifier;E=b(b({},E),{},{takeTopSpotIdentifier:t})}},{key:"reset",value:function(){E=b(b({},S),{},{userId:E.userId})}},{key:"__onDispatch",value:function(e){switch(e.type){case p.Z.NAIAD_PLEDGE_GOLD:this.handleNaiadPledgeGold(e.data[0]);break;case p.Z.NAIAD_PRE_GOLDSHOW:this.handlePreGoldShow(e.data[0]);break;case p.Z.NAIAD_GOLDSHOW:this.handleGoldShow(e.data[0]);break;case p.Z.NAIAD_TOP_CONTRIBUTORS:this.handleTopContributors(e.data[0]);break;case p.Z.ROOM_CLIENT_STATUS_CHANGED:this.handleRoomStatusChanged(e.data);break;case p.Z.ROOM_CLIENT_GOLDSHOW:this.handleRoomGoldShow(e.data);break;case p.Z.ROOM_CLIENT_PLEDGE_GOLD:this.handleRoomPledgeGold(e.data);break;case p.Z.ROOM_CLIENT_GOLDSHOW_TOP_CONTRIBUTORS_UPDATED:this.handleRoomGoldShowTopContributorsUpdated(e.data);break;case d.Z.LOAD_CONFIG:e.data.config.user&&this.handleConfig(e.data.config.user);break;case d.Z.TOP_CONTRIBUTORS_CHAT_UPSELL_SHOWED:this.handleTopContributorsChatUpsellShowed(e.data);break;case d.Z.RESET:this.reset();break;default:return}this.__emitChange()}}]),n}(u.Z))("topContributors",c.Z)},"./src/stores/UserStore.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>Y});var o=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=n("./node_modules/@babel/runtime/regenerator/index.js"),d=n.n(u),p=n("./src/lib/Dispatcher.js"),m=n("./node_modules/lodash/isObject.js"),h=n.n(m),f=n("./node_modules/lodash/get.js"),g=n.n(f),v=n("./node_modules/lscache/lscache.js"),_=n.n(v),y=n("./src/constants/Actions.js"),b=n("./src/constants/RpcCalls.js"),S=n("./src/constants/NaiadSessionType.js"),E=n("./src/constants/CurrencyConstants.js"),C=n("./src/constants/ChatConstants.ts"),Z=n("./src/constants/Feature.ts"),P=n("./src/constants/Platforms.ts"),O=n("./src/lib/DataSocket.js"),T=n("./src/lib/RoomClient.ts"),I=n("./src/lib/Strings.js"),w=n("./src/lib/AjaxRequest.js"),A=n("./src/utils/log.js"),R=n("./src/utils/currency.js"),k=n("./src/utils/FluxStoreExtended.ts"),D=n("./src/stores/ConnectionStore.js"),L=n("./src/constants/Connection.js");function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,a.Z)(this,n)}}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=E.Z.DEFAULT_EXCHANGE_RATE,B=E.Z.DEFAULT_CURRENCY_SYMBOL_UTF,U=E.Z.DEFAULT_CURRENCY_CODE,G=E.Z.CURRENCIES_WITH_DISPLAYED_TAXES_AND_FEES,V=new Set([S.Z.PREVIEW,S.Z.BASIC,S.Z.EXTERNAL]),F={userId:0,userType:S.Z.PREVIEW,sakey:"",maxGold:0,minGold:0,needsPrebill:!1,userStreamId:0,owedAmount:0,owedString:"",nickname:"",exchangeRate:M,chargeExchangeRate:M,currencyCode:U,billingCurrencyUtf:B,billingCurrencyDisplayOnly:!1,stashUser:!1,isBilling2:!1,isStashLimit:!1,isNonBillable:!1,redirectToConfirm:!1,allowBasicChat:!1,quickTipDisabled:!0,goldMenuDisabled:!0,enabledContentReportingFeatures:new Set([]),quickTipConsent:!1,quickTipCustomValue:0,queuedGoldToGiveFractionalLocal:0,country:"",browserStatsBucket:"other",userHasSeenPlayback:!1,isExternalSiteFunds:!1,taxPercentage:0,taxType:"",feePercentage:0,fetchingMaxGold:!1,limit:0,dailyLimit:0,dailyLimitAvailable:0,goldCurrencyCode:U,isGoldOneUsd:!1,showFinalCost:!1,decimalLocalGold:!1,twoFactorAuthenticationRequired:!1,twoFactorAuthenticationEmailRequestToken:"",rewards:null,totalGoldGiven:0,lastGiveGoldSucceeded:!0,useCreateAccountCta:!1},H=j({},F);const Y=new(function(e){(0,s.Z)(a,e);var t,n=N(a);function a(){returns)}return(0,i.Z)(a,[{key:sNonPremium",value:function(){return H.userType===S.Z.BASIC}},{key:"isPremium",value:function(){return!V.has(H.userType)}},{key:"isLoggedIn",value:function(){return Boolean(H.userId&&H.sakey)}},{key:"isExplicitContentBlocked",value:function(){return(D.Z.getState().streamType===L.ZP.STREAM_TYPE_GUEST&&!this.isLoggedIn()||H.isNonBillable)&&D.Z.shouldRequireAgeConfirmation()}},{key:"handleNaiadAuthorized",value:function(e){var t=H,n=t.exchangeRate,o=t.billingCurrencyUtf,r=t.billingCurrencyDisplayOnly,i=Number(e[20])||n,s=I.ZP.htmlToUtf(e[21])||o;r?H=j(j({},H),{},{chargeExchangeRate:Number(null!=i?i:H.chargeExchangeRate)}):i===n&&s===o||A.Z.warn({message:"billing-naiad-mismatch",billingExchangeRate:n,billingCurrencyUtf:o,naiadExchangeRate:i,naiadCurrencyUtf:s}),(H=j(j({},H),{},{sakey:e[0],maxGold:e[18],minGold:e[19],needsPrebill:Boolean(e[17]),userStreamId:Number(e[7])||0,owedAmount:e[5],owedString:I.ZP.htmlToUtf(e[6]),allowBasicChat:!(2&e[22].flags)})).userStreamId&&A.Z.set("userStreamId",H.userStreamId)}},{key:"handleRoomConnected",value:function(e){var t,n,o,r,i,s;if(D.Z.isAmsDead()){var a=e.authInfo,l=H,c=l.exchangeRate,u=l.billingCurrencyUtf,d=l.billingCurrencyDisplayOnly,p=a?Number(a.exchangeRate):c,m=a?I.ZP.htmlToUtf(a.currencySign):u;d?H=j(j({},H),{},{chargeExchangeRate:Number(null!=p?p:H.chargeExchangeRate)}):p===c&&m===u||A.Z.warn({message:"billing-room-mismatch",billingExchangeRate:c,billingCurrencyUtf:u,exchangeRate:p,currencyUtf:m}),(H=j(j({},H),{},{maxGold:null!==(t=null==a?void 0:a.maxGold)&&void 0!==t?t:null,minGold:null!==(n=null==a?void 0:a.minGold)&&void 0!==n?n:null,needsPrebill:null!==(o=null==a?void 0:a.prebillRequired)&&void 0!==o&&o,userStreamId:null!==(r=null==a?void 0:a.streamId)&&void 0!==r?r:0,owedAmount:null!==(i=null==a?void 0:a.owedAmount)&&void 0!==i?i:0,owedString:null!==(s=null==a?void 0:a.owedMessage)&&void 0!==s?s:"0"})).userStreamId&&A.Z.set("userStreamId",H.userStreamId)}}},{key:"handleRoomEnteredPrivate",value:function(e){var t=e.maxGold,n=e.userStreamId;(H=j(j({},H),{},{maxGold:t,userStreamId:n})).userStreamId&&A.Z.set("userStreamId",H.userStreamId)}},{key:"handleSetUserCountry",value:function(e){var t=e.country;H=j(j({},H),{},{country:t})}},{key:"handleConfig",value:function(e,t,n,o){var r,i,s,a,l,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],d=arguments.length>6&&void 0!==arguments[6]&&arguments[6],p=arguments.length>7&&void 0!==arguments[7]&&arguments[7],m=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",h=e.nonpremium,f=e.id,g=e.nickname,v=e.sakey,_=e.isStashLimit,y=e.stashUser,b=e.isNonBillableUser,E=e.isBilling2,C=e.redirectToConfirm,O=e.isPrebillRequired,T=e.currencySymbol,w=e.displayCurrencyOnly,k=e.isExternalSiteFunds,D=e.taxPercentage,L=e.taxType,N=e.feePercentage,x=e.currencyCode,M=e.exchangeRate,B=t.exchangeRate,U=S.Z.PREVIEW;h?U=S.Z.BASIC:f&&(U=S.Z.GUEST),o===P.ZP.EXTERNAL_SITE_SHOW&&(U=S.Z.EXTERNAL),H=j(j({},H),{},{userId:f||null,userType:U,nickname:g,sakey:v,isBilling2:Boolean(E),isStashLimit:Boolean(_),stashUser:Boolean(y),limit:Number(null!==(r=n.goldLimitAvailable)&&void 0!==r?r:F.limit),goldLimitAvailable:Number(null!==(i=null!==(s=n.goldLimitAvailable)&&void 0!==s?s:n.dailyLimitAvailable)&&void 0!==i?i:F.limit),dailyLimit:Number(null!==(a=n.dailyLimit)&&void 0!==a?a:F.dailyLimit),dailyLimitAvailable:Number(null!==(l=n.dailyLimitAvailable)&&void 0!==l?l:F.dailyLimitAvailable),userIsSubjectToGoldLimit:Boolean(n.userIsSubjectToGoldLimit),isNonBillable:Boolean(null!=b?b:F.isNonBillable),redirectToConfirm:Boolean(null!=C?C:F.redirectToConfirm),needsPrebill:Boolean(null!=O?O:F.needsPrebill),billingCurrencyUtf:null!=T?T:F.billingCurrencyUtf,billingCurrencyDisplayOnly:Boolean(null!=w?w:F.billingCurrencyDisplayOnly),currencyCode:null!=x?x:F.currencyCode,exchangeRate:Number(null!=M?M:F.exchangeRate),isExternalSiteFunds:null!=k?k:F.isExternalSiteFunds,taxPercentage:Number(null!=D?D:F.taxPercentage),taxType:String(null!=L?L:F.ta!=N?N:F.feePercentage),quickTipDisabled:c.includes(Z.ZP.QUICK_TIP),goldMenuDisabled:c.includes(Z.ZP.GOLD_MENU),enabledContentReportingFeatures:new Set(u.filter((function(e){return Z.wv.has(e)}))),decimalLocalGold:d,platform:o,twoFactorAuthenticationRequired:p,twoFactorAuthenticationEmailRequestToken:m}),H=j(j({},H),{},{chargeExchangeRate:H.billingCurrencyDisplayOnly?Number(null!=B?B:H.exchangeRate):H.exchangeRate}),f&&A.Z.set("userid",f),I.ZP.preprocessStrings({dailyLimit:R.Z.currencyify(H.dailyLimit,H.currencyCode)}),this.updateQuickTipConsent(),this.updateGoldGivingFlags()}},{key:"updateQuickTipConsent",value:function(){var e=Number(_().get("quickTipExchangeRate")),t=Number(_().get("quickTipTaxPercentage")),n=Number(_().get("quickTipFeePercentage")),o=e===H.exchangeRate&&t===H.taxPercentage&&n===H.feePercentage,r=!!o&&Boolean(_().get("quickTipConsent")),i=o?Number(_().get("quickTipCustomValue")||0):0;H=j(j({},H),{},{quickTipConsent:r,quickTipCustomValue:i})}},{key:"updateGoldGivingFlags",value:function(){var e=H.exchangeRate!==M,t=!e;H=j(j({},H),{},{goldCurrencyCode:t?H.currencyCode:null,isGoldOneUsd:e,showFinalCost:!H.stashUser&&G.has(H.currencyCode)&&Boolean(H.taxPercentage||H.feePercentage)})}},{key:"userGaveGold",value:function(e){var t=e.goldToGiveFractionalLocal,n=e.isPrivate,o=e.goldMenuItem,r=e.fromQuickTip,i=e.spinGoldMenuName,s=H,a=s.platform,l=s.userId,c=s.sakey,u=s.userType,d=this.getGoldType(o,r,i);if(D.Z.isProjectXL()){var p=j(j({amount:t,isAnonymous:n,isFromQuickTip:Boolean(r)},i?{spinGoldMenuName:i}:void 0),o&&h()(o)?{goldMenuOption:o}:{});T.ZP.giveGold(p)}else{var m={};h()(o)?m=o:r?m={fromQuickTip:r}:i&&(m={spinGoldMenuName:i}),m=j(j({},m),{},{platform:a,displayAmountInGold:!0}),O.Z.emit([b.Z.NAIAD_GIVE_GOLD,t,n,m])}H.totalGoldGiven+=t,H.queuedGoldToGiveFractionalLocal=Math.max(0,H.queuedGoldToGiveFractionalLocal-t),u===S.Z.GUEST&&A.Z.loms({eventname:"GuestGiveGoldV4",userId:"".concat(l),sakey:"".concat(c),amount:Math.floor(t),platform:"".concat(a)}),A.Z.statsIncCounter("session.gold.".concat(d))}},{key:"userPledgeGold",value:function(e){var t=e.showid,n=e.goldToGiveFractionalLocal,o=e.isPrivate;if(D.Z.isProjectXL()){var r={amount:n,isAnonymous:o};T.ZP.pledgeGoldShow(r)}else{var i=o?C.Z.RPCFLAGS_ANONYMOUS:0,s={displayAmountInGold:!0};O.Z.emit([b.Z.NAIAD_PLEDGE_GOLD,t,n,i,s])}H.queuedGoldToGiveFractionalLocal=Math.max(0,H.queuedGoldToGiveFractionalLocal-n),A.Z.statsIncCounter("session.gold.pregoldshow")}},{key:"handleNaiadGoldGiven",value:function(e){var t=e.maxgold,n=e.prebill,o=void 0!==n&&n,r=e.returnCode,i=void 0===r?0:r;H.maxGold=t,H.needsPrebill=Boolean(o),H.lastGiveGoldSucceeded=0===Number(i)}},{key:"handleRoomClientPledgeOrGiveGold",value:function(e){var t=e.failed,n=e.info;H.lastGiveGoldSucceeded=!t,t||(H.needsPrebill=n.isPrebillRequired,H.maxGold=n.maxGold)}},{key:"handlePrebillStatusUpdate",value:function(e){var t=e.needsPrebill;H.needsPrebill=t}},{key:"handleQueueGold",value:function(e){H.queuedGoldToGiveFractionalLocal+=e.data.goldToGiveFractionalLocal||0}},{key:"userRequestPrivate",value:function(e){var t=e.sessionType,n=e.discountId,o=e.blockDuration,r=e.remainingDuration,i=e.showId;if(D.Z.isAmsDead())if(o){var s=t===S.Z.EXCLUSIVE?"blockExclusive":"blockPrivate";T.ZP.requestBlockSession({sessionType:s,performerDiscountId:Number(n),resumeBlockSessionStreamId:Number(i),minimumDuration:o,remainingDuration:r})}else t===S.Z.EXCLUSIVE?T.ZP.requestExclusive():T.ZP.enterPrivate();else{O.Z.emit([b.Z.NAIAD_ENTER_PRIVATE,t,n,o,i,{}])}A.Z.usageTick("userrequest_".concat(t.toLowerCase()).concat(o?"_blocksession":"")),A.Z.loms({eventname:"RequestedPaidSessionV1",sessionType:t,blockDuration:parseInt(o,10)||0,resumingSession:Boolean(i)})}},{key:"userRequestPayoff",value:function(){if(D.Z.isProjectXL()){var e=H,t=e.sakey,n=e.userId;T.ZP.handlePayoff({sakey:t,userId:n})}else O.Z.emit([b.Z.NAIAD_PAYOFF,null])}},{key:"handlePayoff",value:function(e){e&&(H=j(j({},H),{},{owedAmount:0,owedString:""}))}},{key:"setSakey",value:function(e){H.sakey=e}},{key:"handleQuickTipConsent",value:function(){H.quickTipConsent=!0,_().set("quickTipConsent",!0),_().set("quickTipExchangeRate",H.exchangeRate),_().set("quickTipTaxPercentage",H.taxPercentage),_().set("quickTipFeePercentage",H.feePercentage)}},{key:"handleQuickTipSetCustomValue",value:function(e){this.handleQuickTipConsent(),H.quickTipCustomValue=e.value,_().set("quickTipCustomValue",e.value)}},{key:"handleSetStatsBucket",value:function(e){H.browserStatsBucket=e}},{key:"handleVideoStart",value:function(e){var t=e.driverName,n=H,o=n.userHasSeenPlayback,r=n.browserStatsBucket;o||A.Z.statsIncCounter("platforms.".concat(r,".eRequestMaxGold",value:function(xGold=!0,this.fetchMaxGold().then((function(e){p.Z.dispatch({type:y.Z.MAX_GOLD,data:{maxGold:e}})})))}},{key:"handleMaxGold",value:function(e){var t=e.maxGold;H.maxGold=t,H.fetchingMaxGold=!1}},{key:"setRewardsInfo",value:function(e){H=j(j({},H),{},{rewards:e})}},{key:"setUseCreateAccountCta",value:function(e){H.useCreateAccountCta=e}},{key:"clearTwoFactorAuthenticationEmailRequestToken",value:function(){H=j(j({},H),{},{twoFactorAuthenticationEmailRequestToken:""})}},{key:"getGoldType",value:function(e,t,n){var o="guest";return h()(e)?o="goldmenu":t?o="quicktip":n&&(o="spingold"),o}},{key:"reset",value:function(){var e=H.rewards;H=j(j({},F),{},{rewards:e})}},{key:"fetchMaxGold",value:(t=(0,o.Z)(d().mark((function e(){var t,n,o,r,i,s,a,l,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(n=H).sakey,r=n.userId,i={userId:r,sakey:o,streamType:0},s=w.Z.getBaseUrl()+"/api/v1/goldbalance/",e.next=5,w.Z.postPromise(s,i,"json").catch((function(e){return{status:e.status}}));case 5:return a=e.sent,l=null==a||null===(t=a.body)||void 0===t?void 0:t.error,(c=200===Number(null==a?void 0:a.status)&&!l)?A.Z.statsIncCounter("session.goldbalance"):A.Z.error({message:"givegoldajax-update-maxgold-bad-response",code:a.status}),e.abrupt("return",c?Math.max(0,g()(a,"body.maxgold")):0);case 10:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"__onDispatch",value:function(e){switch(e.type){case b.Z.NAIAD_AUTHORIZED:this.handleNaiadAuthorized(e.data);break;case b.Z.NAIAD_PAYOFF:this.handlePayoff("Success"===e.message);break;case y.Z.ROOM_PAYOFF:this.handlePayoff(!0);break;case b.Z.NAIAD_PLEDGE_GOLD:if(!e.data[0].id)return;this.handleNaiadGoldGiven(e.data[0]);break;case b.Z.NAIAD_GOLD_GIVEN:this.handleNaiadGoldGiven({maxgold:e.data[0],prebill:e.data[1],returnCode:e.code});break;case b.Z.ROOM_CLIENT_CONNECTED:this.handleRoomConnected(e.data);break;case b.Z.ROOM_CLIENT_GIVE_GOLD:case b.Z.ROOM_CLIENT_PLEDGE_GOLD:if(e.data.failed)return;this.handleRoomClientPledgeOrGiveGold(e.data);break;case b.Z.ROOM_CLIENT_ENTERED_PRIVATE:case b.Z.ROOM_CLIENT_ENTERED_EXCLUSIVE:case b.Z.ROOM_CLIENT_ENTERED_BLOCK_SESSION:this.handleRoomEnteredPrivate(e.data);break;case y.Z.LOAD_CONFIG:e.data.config.user&&this.handleConfig(e.data.config.user,e.data.config.rate,e.data.limits,e.data.platform,e.data.disabledFeatures,e.data.enabledFeatures,e.data.decimalLocalGold,e.data.twoFactorAuthenticationRequired,e.data.twoFactorAuthenticationEmailRequestToken);break;case y.Z.SET_USER_COUNTRY:this.handleSetUserCountry(e.data);break;case y.Z.USER_GIVE_GOLD:this.userGaveGold(e.data);break;case y.Z.USER_QUEUE_GOLD:this.handleQueueGold(e);break;case y.Z.USER_PLEDGE_GOLD:this.userPledgeGold(e.data);break;case y.Z.REQUEST_PAYOFF:case y.Z.ROOM_REQUEST_PAYOFF:this.userRequestPayoff();break;case y.Z.USER_REQUEST_PRIVATE:this.userRequestPrivate(e.data);break;case y.Z.QUICK_TIP_CONSENT:this.handleQuickTipConsent();break;case y.Z.QUICK_TIP_SET_CUSTOM_VALUE:this.handleQuickTipSetCustomValue(e.data);break;case y.Z.UPDATE_PREBILL_STATUS:this.handlePrebillStatusUpdate(e.data);break;case y.Z.SET_STATS_BUCKET:this.handleSetStatsBucket(e.data);break;case y.Z.VIDEO_START:this.handleVideoStart(e.data);break;case y.Z.REQUEST_MAX_GOLD:this.handleRequestMaxGold();break;case y.Z.MAX_GOLD:this.handleMaxGold(e.data);break;case y.Z.CLEAR_TWO_FACTOR_AUTHENTICATION_EMAIL_REQUEST_TOKEN:this.clearTwoFactorAuthenticationEmailRequestToken();break;case y.Z.UPDATE_USER_REWARDS_INFORMATION:this.setRewardsInfo(e.data);break;case y.Z.RESET:this.reset();break;default:return}this.__emitChange()}}]),a}(k.Z))("user",p.Z)},"./src/stores/VideoControlsStore.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),s=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("./node_modules/lodash/isEqual.js"),u=n.n(c),d=n("./src/lib/Dispatcher.js"),p=n("./src/constants/VideoConstants.js"),m=n("./src/utils/FluxStoreExtended.ts"),h=n("./src/lib/Strings.js"),f=n("./src/constants/Actions.js"),g=n("./node_modules/lscache/lscache.js"),v=n.n(g);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,a.Z)(e);if(t){var r=(0,a.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}v().setBucket("hybridclient");var S=v().get("hybrid_client_volume"),E=b({},{isMuted:!1,volume:null===S?1:S,supportsVolume:!1,shouldRefresh:!1,startCam2Cam:!1,videoPlaying:!1,chosenStream:null,manifestData:{},videoQualityLevel:null});const C=new(function(e){(0,i.Z)(n,e);var t=_(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"getState",value:function(){return E}},{key:"handleMute",value:function(e){var t=e.isMuted;E.isMuted=t,t?(v().set("hybrid_client_volume_last",E.volume,5),this.handleVolume({volume:0})):this.handleVolume({volume:v().get("hybrid_client_volume")||v().get("hybrid_client_volume_last")||1})}},{key:"handleVolume",value:function(e){var t=e.volume;v().set("hybrid_client_volume",t),E.volume=t,E.isMuted&&t>0?E.isMuted=!1:E.isMuted||0!==t||(E.isMuted=!0)}},{key:"handleVideoPlaying",value:function(e){var t=e.supportsVolume,n=e.currentFormat;E.supportsVolume=t,E.currentFormat=n,E.videoPlaying=!0,E.startCam2Cam&&("webrtc"!==E.currentFormat?setTimeout((function(){d.Z.dispatch({type:f.Z.DISPLAY_MESSAGE,data:{message:h.ZP.getString("cam2cam_broadcaster_err")}})})):setTimeout((function(){d.Z.dispatch({type:f.Z.CAM2CAM_CLICK,data:{}})})),E.startCam2Cam=!1)}},{key:"handleVideoRefresh",value:function(e){var t=e.shouldRefresh,n=e.startCam2Cam;E.shouldRefresh=t,n?(E.startCam2Cam=n,E.chosenStream=p.Z.ORIGIN_STREAM):E.chosenStream=null}},{key:"handleManifest",value:function(e){E.currentFormat=e.currentFormat,Reflect.deleteProperty(e,"currentFormat"),E.manifestData=b({},e)}},{key:"handlePickStream",value:function(e){E.chosenStream=e}},{key:"__onDispatch",value:function(e){var t=b({},E);switch(e.type){case f.Z.MUTE:this.handleMute(e.data);break;case f.Z.SET_VOLUME:this.handleVolume(e.data);break;case f.Z.VIDEO_REFRESH:this.handleVideoRefresh(e.data);break;case f.Z.VIDEO_PLAYING:this.handleVideoPlaying(e.data);break;case f.Z.WONDER_MANIFEST:this.handleManifest(e.data);break;case f.Z.PICK_STREAM:this.handlePickStream(e.data);break;default:return}u()(t,E)||this.__emitChange()}}]),n}(m.Z))("videoControls",d.Z)},"./src/stores/VideoPipStore.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var o=n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=n("./src/utils/FluxStoreExtended.ts"),d=n("./src/lib/Dispatcher.js"),p=n("./src/constants/Actions.js"),m=n("./src/constants/VideoConstants.js"),h=n("./src/constants/Messages.js"),f=n("./src/utils/log.js"),g=n("./src/utils/tools.ts");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,a.Z)(this,n)}}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var y=["flash"],b=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{videoLocation:m.Z.LOCATION.DEFAULT,videoLocationsAvailable:new Set([m.Z.LOCATION.DEFAULT]),moveVideoAvailable:!1,videoDriverName:null,userDismissedPip:!1,isPipVisible:!1,totalPipShowTime:0,pipShowStartTime:null,mobileDraggingToPip:!1,mobileProgressToPip:0,isProgressAnimating:!1,mobilePipState:m.Z.PIP_STATE.DEFAULT,streamAvailableForPip:!1,desktopPipOffset:null});const S=new(function(e){(0,s.Z)(n,e);var t=v(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"getState",value:function(){return b}},{key:"handleMoveVideoAvailability",value:function(e){var t=e.available;b.moveVideoAvailable=t,b.moveVideoAvailable||(b.videoLocation=m.Z.LOCATION.DEFAULT)}},{key:"handleVideoLocationAvailabir t=e.location,n=e.available;b.videoLocationsAvailable=n?new Set([].concat((0,o.Z)(b.videoLocationsAvailable),[t])):new Set((0,o.Z)(b.videoLocationsAvailable).filter((function(e){return e!==t}))),b.videoLocationsAvailable.has(b.videoLocation)||this.resetToDefaultVideoLocation()}},{key:"handleMoveVideo",value:function(e){var t=e.location;this.canMoveVideo(t)&&(b.videoLocation=t)}},{key:"handleEnterFullscreen",value:function(){this.resetToDefaultVideoLocation()}},{key:"handleVideoDisplayVisibility",value:function(e){var t=e.isVisible;if(b.mobilePipState===m.Z.PIP_STATE.DEFAULT){var n=t?m.Z.LOCATION.DEFAULT:m.Z.LOCATION.PIP;this.canMoveVideo(n)&&(b.videoLocation=n)}}},{key:"handleVideoStart",value:function(e){var t=e.driverName;b.videoDriverName=t,this.canMoveVideo()||this.resetToDefaultVideoLocation()}},{key:"handleReset",value:function(){b.userDismissedPip=!1,b.totalPipShowTime=0,b.pil,this.resetToDefaultVideoLocation(),(0,g.Vj)(h.Z.PIP_STATE,{state:b.mobilePipState})}},{key:"handleUserDismissedPip",value:function(){b.userDismissedPip=!0,this.resetToDefaultVideoLocation()}},{key:"handlePipVisibility",value:function(e){var t=e.isVisible,n=b.isPipVisible;b.isPipVisible=t,n&&!b.isPipVisible&&b.pipShowStartTime&&(b.totalPipShowTime+=Date.now()-b.pipShowStartTime,b.pipShowStartTime=null),!n&&b.isPipVisible&&(b.pipShowStartTime=Date.now())}},{key:"handleDisconnect",value:function(){b.pipShowStartTime&&(b.totalPipShowTime+=Date.now()-b.pipShowStartTime,b.pipShowStartTime=null),b.totalPipShowTime>0&&(f.Z.loms({eventname:"PIPDisplayTimeV1",time:b.totalPipShowTime}),b.totalPipShowTime=0),b.desktopPipOffset=null}},{key:"handleMobileDraggingToPip",value:function(e){var t=e.isDragging,n=e.isProgressAnimating,o=e.progressToPip;if(b.mobileIsDragging=t,b.mobileProgressToPip=(0,g.uZ)(o),b.isProgressAnimating=!t&&n,b.mobileIsDragging&&o>0){var r=m.Z.LOCATION.PIP;this.canMoveVideo(r)?b.videoLocation=r:this.resetToDefaultVideoLocation()}b.mobileIsDragging||b.isProgressAnimating||0!==b.mobileProgressToPip||(b.videoLocation=m.Z.LOCATION.DEFAULT),this.evaluateMobilePipState()}},{key:"handleStreamAvailableForPip",value:function(e){var t=e.streamAvailableForPip;b.streamAvailableForPip=t}n(e){var t=e.x,n=e.y,o=e.normalizedX,r=e.normalizedY;b.desktopPipOffset={x:t,y:n,normalizedX:o,normalizedY:r}}},{key:"resetVideoLocation",value:function(){b.videoLocation=m.Z.LOCATION.DEFAULT}},{key:"canMoveVideo",value:function(e){return!(!b.moveVideoAvailable||!b.videoDriverName||y.includes(b.videoDriverName)||!b.videoLocationsAvailable.has(e))&&(e===m.Z.LOCATION.PIP?!b.userDismissedPip:e!==m.Z.LOCATION.DEFAULT||!b.mobileIsDragging)}},{key:"resetToDefaultVideoLocation",value:function(){b.videoLocation=m.Z.LOCATION.DEFAULT,b.mobileIsDragging=!1,b.mobileProgressToPip=0,this.evaluateMobilePipState()}},{key:"evaluateMobilePipState",value:function(){var e=b.mobilePipState;b.mobileIsDragging||b.mobileProgressToPip>0&&b.mobileProgressToPip<1?b.mobilePipState=m.Z.PIP_STATE.TRANSITIONING:1===b.mobileProgressToPip?b.mobilePipState=m.Z.PIP_STATE.PIP:b.mobilePipState=m.Z.PIP_STATE.DEFAULT,b.mobilePipState!==e&&(0,g.Vj)(h.Z.PIP_STATE,{state:b.mobilePipState})}},{key:"__onDispatch",value:function(e){var t=e.type,n=e.data;switch(t){case p.Z.MOVE_VIDEO_AVAILABILITY:this.handleMoveVideoAvailability(n);break;case p.Z.VIDEO_LOCATION_AVAILABILITY:this.handleVideoLocationAvailability(n);break;case p.Z.MOVE_VIDEO:this.handleMoveVideo(n);break;case p.Z.ENTER_FULLSCREEN:this.handleEnterFullscreen();break;case p.Z.VIDEO_DISPLAY_VISIBILITY:this.handleVideoDisplayVisibility(n);break;case p.Z.VIDEO_START:this.handleVideoStart(n);break;case p.Z.VIDEO_CONNECT:case p.Z.VIDEO_DISCONNECT:case p.Z.VIDEO_PAUSE:case p.Z.VIDEO_REFRESH:this.resetVideoLocation();break;case p.Z.RESET:this.handleReset();break;case p.Z.USER_DISMISSED_PIP:this.handleUserDismissedPip();break;case p.Z.PIP_VISIBILITY:this.handlePipVisibility(n);break;case p.Z.DISCONNECT:case p.Z.BROWSER_CLOSE:this.handleDisconnect();break;case p.Z.MOBILE_DRAGGING_TO_PIP:this.handleMobileDraggingToPip(n);break;case p.Z.STREAM_AVAILABLE_FOR_PIP:this.handleStreamAvailableForPip(n);break;case p.Z.DESKTOP_PIP_DRAG_OFFSET:this.handleDesktopPipDragOffset(n);break;default:return}this.__emitChange()}}]),n}(u.Z))("videoPip",d.Z)},"./src/utils/DebugHook.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=n("./src/lib/Dispatcher.js"),a=n("./src/constants/Actions.js"),l=n("./src/constants/RpcCalls.js"),c=n("./src/constants/DisconnectReasons.js"),u=n("./src/constants/Xment.ts"),d=n("./src/constants/Messages.js"),p=n("./src/utils/log.js"),m=n("./src/utils/tools.ts");const h=new(function(){function e(){var t=this;(0,o.Z)(this,e),(0,i.Z)(this,"handlePostMessage",(function(e){if(t.debugOn){p.Z.debug("handlePostMessage, data is "+JSON.stringify(e.data));var n=e.data,o=n.type,r=n.data;"DISCONNECT"===o&&s.Z.dispatch({type:a.Z[o],data:[c.Z[r.reason],r.msg]}),"NAIAD_PRE_GOLDSHOW"===o&&s.Z.dispatch({type:l.Z[o],data:r})}})),this.debugOn=!1,window.addEventListener("message",this.handlePostMessage,!1)}return(0,r.Z)(e,[{key:"setDebug",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.debugOn=e,this.debugOn&&(0,m.Vj)(d.Z.DEBUG_AVAILABLE_XMENTS,Object.values(u.Z))}}]),e}())},"./src/utils/OpenPayModal.js":(e,t,n)=>{"use strict";n.d(t,{vK:()=>g});var o,r,i=n("./src/lib/Dispatcher.js"),s=n("./src/stores/UserStore.js"),a=n("./src/stores/ConnectionStore.js"),l=n("./src/stores/GoldShowStore.js"),c=n("./src/stores/PerformerStore.ts"),u=n("./src/constants/Actions.js"),d=n("./src/constants/GoldShowConstants.js"),p=n("./src/constants/Connection.js"),m=n("./src/constants/NaiadSessionType.js"),h=n("./src/utils/log.js"),f=function(){var e=a.Z.getState().clientState;return!o&&[p.Nf.PLAYING,p.Nf.PAUSED].indexOf(e)>=0&&!c.Z.getState().onBreak&&(o=!0,r.remove(),r=null,function(){var e=s.Z.getState(),t=e.userType,n=e.redirectToConfirm,o=e.twoFactorAuthenticationRequired;if(h.Z.usage("open_pay_modal_attempted"),t!==m.Z.GUEST!1;h.Z.usage("open_pay_modal_activated");var r=l.Z.getState().goldShowState===d.Z.GOLD_STATE_NONE?u.Z.ENTER_PAID_CLICK:u.Z.GIVE_GOLD_CLICK;return setTimeout((function(){i.Z.dispatch({type:r})})),r}())},g=function(){o=!1,r=a.Z.addListener(f)}},"./src/utils/PerformerMediaApi.js":(e,t,n)=>{"use strict";n.d(t,{PC:()=>m,pX:()=>f,q0:()=>v});var o=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),r=n("./node_modules/@babel/runtime/regenerator/index.js"),i=n.n(r),s=n("./src/lib/AjaxRequest.js"),a=n("./src/utils/localization.js"),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.trim();return n.length<t?n:"".concat(n.substr(0,t).trim(),"...")},c=function(e){return(0,a.SY)(new Date(null,null,null,null,null,e))},u={year:"numeric",month:"numeric",day:"numeric"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{description:e.description,descriptionShort:l(e.description,50),durationString:c(parseInt(e.duration,10)),isPurchased:e.isPurchased,price:parseInt(e.price,10),priceTimeStamp:parseInt(e.priceTimestamp,10),thumbnailUrl:e.thumbUrl,uploadDate:e.uploadTimestamp,uploadDateString:(0,a.p6)(new Date(e.uploadTimestamp),u),videoId:parseInt(e.videoId,10),grantType:e.grantType}}))},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return e.isPurchased&&!t.isPurchased?1:t.isPurchased&&!e.isPurchased||e.uploadDate>t.uploadDate?-1:e.uploadDate<t.uploadDate?1:0}))},m=function(e){var t=e.userId,n=e.performerId,o=e.videoId,r=e.priceTimeStamp,i=e.needsPrebill,a=e.sakey,l=e.platform;return s.Z.postPromise("".concat(s.Z.getBaseUrl(),"/api/v2/videos/purchase"),{userId:t,performerId:n,videoIds:[o],priceTimeStamp:r,isPrebillRequired:i,platform:l,sakey:a},"json")},h=function(e){var t=e.performerName,n=e.performerId,o=e.useDebugPerformerData;return s.Z.postPromise("".concat(s.Z.getBaseUrl(),"/api/v2/videos"),{performerName:t,performerId:n,useDebugPerformerData:o||void 0},"json")},f=function(){var e=(0,o.Z)(i().mark((function e(t,n){var o,r,s,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>2&&void 0!==a[2]&&a[2],e.next=3,h);case 3:if(r=e.sent,(s=r.body)&&s.videos){e.next=7;bree.abrupt("return",p(d(s.videos.map((function(e){return e.priceTimestamp=s.priceTimestamp,e})))));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(e){var t=e.performerId,n=e.useDebugPerformerData;return s.Z.postPromise("".concat(s.Z.getBaseUrl(),"/api/v2/photos"),{performerId:t,useDebugPerformerData:n},"json")},v=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r,s,a,l=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]&&l[1],e.next=3,g({performerId:t,useDebugPerformerData:n});case 3:if(o=e.sent,(r=o.body)&&r.photos){e.next=7;break}return e.abrupt("return",[]);case 7:return s=r.photos,a=[],Array.isArray(s)&&s.length>0&&(s[0].photoid?a=s.filter((function(e){return e.photoid&&e.photo_url&&e.thumb_url})).sort((function(e,t){return Number(new Date(t.created_time))-Number(new Date(e.created_time))})):s[0].mediaId&&(a=s.filter((function(e){return e.mediaId&&e.photoUrl&&e.thumbUrl})).sort((function(e,t){return Number(new Date(t.createdTime))-Number(new Date(e.createdTime))})))),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"./src/utils/PerformerSubscribers.js":(e,t,n)=>{"use strict";n.d(t,{Ay:()=>y,Hx:()=>b,X4:()=>_,ZP:()=>O});var o=n("./src/lib/AjaxRequest.js"),r=n("./node_modules/lodash/isEmpty.js"),i=n.n(r),s=n("./src/utils/currency.js"),a=n("./src/utils/log.js"),l=n("./src/utils/tools.ts"),c=n("./src/utils/Favorite.ts"),u=n("./src/constants/Actions.js"),d=n("./src/constants/StatsEvents.js"),p=n("./src/constants/Messages.js"),m=n("./src/lib/Dispatcher.js"),h=n("./src/stores/UserStore.js"),f=n("./src/stores/RateStore.js"),g=n("./src/stores/PerformerStore.ts"),v=n("./src/stores/PerformerSubscribersStore.js"),_={NO_BILLING:"SUBSCRIPTION_ERROR_000",SPENDING_NOT_ENABLED:"SUBSCRIPTION_ERROR_001",PREPAY_IS_REQUIRED:"SUBSCRIPTION_ERROR_002",PREBILL_IS_REQUIRED:"SUBSCRIPTION_ERROR_003",LOW_LIFETIME_SPEND:"SUBSCRIPTION_ERROR_004"},y={SUB_ERROR:"SUBSCRIPTION_SUB_ERROR",UNSUB_ERROR:"SUBSCRIPTION_UNSUB_ERROR",DAILY_LIMIT:"SUBSCRIPTION_DAILY_LIMIT_REACHED",INVALID_CC:_.SPENDING_NOT_ENABLED,SPENDING_HISTORY:_.LOW_LIFETIME_SPEND,DEFAULT:"SUBSCRIPTION_INELIGIBLE"},b={DEFAULT:"notifications",NOTIFICATIONS:"notifications",VIDEO:"video"},S=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.DEFAULT,r=arguments.length>2?arguments[2]:void 0,i=(null==e||null===(t=e.body)||void 0===t?void 0:t.success)||!1,s=o.toUpperCase();if(!i)return a.Z.statsIncCounter(d.Z.SUBSCRIPTIONS[s].SUB_FAILURE),void m.Z.dispatch({type:u.Z.PERFORMER_SUBSCRIBERS_SUB_FAILURE,data:r});a.Z.statsIncCounter(d.Z.SUBSCRIPTIONS[s].SUB_SUCCESS),m.Z.dispatch({type:u.Z.PERFORMER_SUBSCRIBERS_SUB_SUCCESS,data:null==e||null===(n=e.body)||void 0===n?void 0:n.subscription});var l=h.Z.getState(),p=l.userId,v=l.sakey,_=g.Z.getState(),y=_.id,S=_.nickname,E=f.Z.getState(),C=E.ratePremium,Z=E.rateExclusive;f.Z.requestSubscriptionDiscounts(String(C),String(Z),y,p,v,1e3),m.Z.dispatch({type:u.Z.MEDIA_REQUEST_VIDEOS,data:{performer:{id:y,nickname:S},user:{id:p,sakey:v}}}),(0,c.oW)(!0),P.handleDelayedModalClose()},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.DEFAULT,n=arguments.length>2?arguments[2]:void 0,o=t.toUpperCase();a.Z.statsIncCounter(d.Z.SUBSCRIPTIONS[o].SUB_FAILURE),m.Z.dispatch({type:u.Z.PERFORMER_SUBSCRIBERS_SUB_FAILURE,data:n}),a.Z.error({message:"performer-subscribers-subscribe-add-error",originalError:e.toString()})},C=function(e){var t,n,o=null==e||null===(t=e.body)||void 0===t?void 0:t.success,r=o?u.Z.PERFORMER_SUBSCRIBERS_UNSUB_SUCCESS:u.Z.PERFORMER_SUBSCRIBERS_UNSUB_FAILURE;m.Z.dispatch({type:r,data:null==e||null===(n=e.body)||void 0===n?void 0:n.subscription}),o&&P.handleDelayedModalClose()},Z=function(e,t){m.Z.dispatch({type:u.Z.PERFORMER_SUBSCRIBERS_UNSUB_FAILURE,data:t}),a.Z.error({message:"performer-subscribers-subscribe-remove-error",originalError:e.toString()})},P={requestSubscribe:function(e){var t,n,r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.DEFAULT;if(!v.Z.getState().requestPending){if(!h.Z.isLoggedIn())return m.Z.dispatch({type:u.Z.PERFORMER_SUBSCRIBERS_CLOSE_MODAL}),void(0,l.Vj)(p.Z.REQUIRES_AUTH);var c=null!==(t=null==e||null===(n=e.details)||void 0===n?void 0:n.pricetimes100)&&void 0!==t?t:0,f=null!==(r=null==e?void 0:e.id)&&void 0!==r?r:0;if(h.Z.getState().dailyLimitAvailable<c)m.Z.dispatch({type:u.Z.PERFORMER_SUBSCRIBERS_DAILY_LIMIT_REACHED,data:f});else if(i()(v.Z.getState().subscriptionBlockers)){var _=s.toUpperCase();m.Z.dispatch({type:u.Z.PERFORMER_SUBSCRIBERS_REQUEST_SUBSCRIBE});try{a.Z.statsIncCounter(d.Z.SUBSCRIPTIONS[_].SUB_REQUEST)}catch(e){a.Z.error({message:"subscription-stat-event-source-not-found",error:(0,l.Jl)(e),eventSource:_}),_=b.DEFAULT}finally{var y=h.Z.gy,P=g.Z.getState(),O=P.id,T={userId:C,performerId:O,planId:f,sakey:Z};o.Z.post(o.Z.getBaseUrl()+"/api/v1/subscription/add",T,"json",(function(e){return S(e,_,f)}),(function(e){return E(e,_,f)}))}}else m.Z.dispatch({type:u.Z.PERFORMER_SUBSCRIBERS_SUBSCRIPTION_BLOCK,data:f})}},handleSubscribeSuccess:S,handleSubscribeError:E,requestUnsubscribe:function(e,t){if(e&&!v.Z.getState().requestPending){m.Z.dispatch({type:u.Z.PERFORMER_SUBSCRIBERS_REQUEST_UNSUBSCRIBE});var n=h.Z.getState(),r=n.userId,i=n.sakey;o.Z.post(o.Z.getBaseUrl()+"/api/v1/subscription/remove",{userId:r,subscriptionId:e,sakey:i},"json",(function(e){return C(e)}),(function(e){return Z(e,t)}))}},handleUnsubscribeSuccess:C,handleUnsubscribeError:Z,handleDelayedModalClose:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;m.Z.dispatch({type:u.Z.PERFORMER_SUBSCRIBERS_AUTO_CLOSE_MODAL}),setTimeout((function(){v.Z.getState().modalAutoClosePending&&m.Z.dispatch({type:u.Z.PERFORMER_SUBSCRIBERS_CLOSE_MODAL})}),e)},getPlanPriceString:function(e){var t,n,o=null!==(t=null==e||null===(n=e.details)||void 0===n?void 0:n.pricetimes100)&&void 0!==t?t:0,r=h.Z.getState(),i=r.currencyCode,a=r.exchangeRate,l=s.Z.convertFromUSD(o,a);return s.Z.currencyify(s.Z.applyTaxesAndFees(l),i)}};const O=P},"./src/utils/currency.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var o=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./src/constants/CurrencyConstants.js"),s=n("./src/stores/ConfigStore.ts"),a=n("./src/stores/UserStore.js"),l=n("./src/utils/localization.js"),c=i.Z.DEFAULT_CURRENCY_CODE,u=i.Z.DEFAULT_EXCHANGE_RATE,d=function(){function e(){(0,o.Z)(this,e)}return(0,r.Z)(e,null,[{key:"currencyify",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;if(void 0===e)throw new Error("Not provided an amount");var n=e;return"number"!=typeof e&&(n=100*Number(e)),(0,l.xG)(n,t)}},{key:"convertFromUSD",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;return(null!=t?t:u)*e/u}},{key:"convertToUSD",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;return e/(null!=t?t:u)*u}},{key:"applyTaxesAndFees",value:function(e){var t,n,o=e;"number"!=typeof e&&(o=100*Number(e));var r=null!==(t=null===(n=s.Z.getState().data)||void 0===n?void 0:n.user)&&void 0!==t?t:{},i=r.taxPercentage,l=r.feePercentage,c=a.Z.getState().showFinalCost;return o*(c&&i?1+i/100:1)*(c&&l?1+l/100:1)}}]),e}()},"./src/utils/gold.js":(e,t,n)=>{"use strict";n.d(t,{H6:()=>m,YD:()=>h,ev:()=>p,fh:()=>f,hg:()=>d,iw:()=>u,kP:()=>c});var o=n("./src/utils/currency.js"),r=n("./src/utils/localization.js"),i=n("./src/constants/CurrencyConstants.js"),s=n("./src/constants/GoldShowConstants.js"),a=n("./src/stores/UserStore.js"),l=n("./src/lib/Strings.js"),c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.decimalValue,s=void 0!==r&&r,l=n.forCharge,c=void 0===l||l;if(0===e)return 0;var u=Math.round(e);if(t){var d=a.Z.getState(),p=d.exchangeRate,m=d.chargeExchangeRate,h=c?m:p,f=o.Z.convertFromUSD(u,h);if(s)return Math.ceil(10*f)/10;var g=Math.round(f);if(g<f){var v=Math.round(g*i.Z.DEFAULT_EXCHANGE_RATE/h);if(v<u)return g+1}return g}return u},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.forCharge,s=void 0===r||r;if(0===e)return 0;if(t){var l=a.Z.getState(),c=l.exchangeRate,u=l.chargeExchangeRate,d=s?u:c,p=o.Z.convertToUSD(e,d),m=i.Z.DEFAULT_EXCHANGE_RATE;return Math.ceil(Math.floor(p*m)/m)}return e},d=function(e,t,n){var r=a.Z.getState(),i=r.currencyCode,s=r.taxPercentage,l=r.feePercentage,u=c(e,t,{forCharge:!1}),d=n&&s?1+s/100:1,p=n&&l?1+l/100:1,m=Math.ceil(u*d*p);return o.Z.currencyify(m,i)},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.withGoldText,o=void 0===n||n,i={minimumFractionDigits:e%100?2:0,maximumFractionDigits:e%100?2:0},s=(0,r.uf)(e/100,i);return o?"".concat(s," ").concat(l.ZP.getString("gold")):s},m=function(e,t){return t?e===s.Z.PLEDGE_STATE_PLEDGED?s.Z.GOLD_STATE_IN_PROGRESS:s.Z.GOLD_STATE_NEED_PLEDGE:e===s.Z.PLEDGE_STATE_PLEDGED?s.Z.GOLD_STATE_PRE_PLEDGED:s.Z.GOLD_STATE_PRE},h=function(e,t){var n=s.Z.PLEDGE_STATE_NO_PLEDGE;return t?n=s.Z.PLEDGE_STATE_PLEDGED:e>0&&(n=s.Z.PLEDGE_STATE_PARTIAL_PLEDGE),n},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?["preGoldShow","goldShowComingOnline"].includes(e.status):["goldShow","zeroNonExplicitGoldShow"].includes(e.status)}},"./src/utils/localization.js":(e,t,n)=>{"use strict";n.d(t,{Ac:()=>O,L1:()=>f,P6:()=>y,SY:()=>E,T3:()=>P,iX:()=>A,o0:()=>b,oG:()=>R,oz:()=>v,p6:()=>S,sY:()=>_,uf:()=>C,xG:()=>Z});var o,r,i=n("./src/utils/log.js"),s=n("./src/utils/tools.ts"),a=null===(o=window.Intl)||void 0===o?void 0:o.NumberFormat,l=null===(r=window.Intl)||void 0===r?void 0:r.DateTimeFormat,c=Boolean("function"==typeof a)&&Boolean("function"==typeof l),u=Boolean("function"==typeof(null==a?void 0:a.prototype.formatToParts))&&Boolean("function"==typeof(null==l?void 0:l.prototype.formatToParts)),d=function(){try{(0).toLocaleString("i")}catch(e){return e instanceof RangeError}return!1}(),p=function(){try{(new Date).toLocaleString("i")}catch(e){return e instanceof RangeError}return!1}(),m=function(){if(!c)return!1;try{2..toLocaleString(void 0,{style:"unit",unit:"meter"})}catch(e){return!1}return!0}(),h=void 0,f={LEFT:"left",RIGHT:"right"},g=function(e){try{var t,n;return d&&p&&(!a||(null==a||null===(t=a.supportedLocalesOf)||void 0===t?void 0:t.call(a,e).length)>0)&&(!l||(null==l||null===(n=l.supportedLocalesOf)||void 0===n?void 0:n.call(l,e).length)>0)}catch(e){return!1}},v=function(e){var t;h=g(e)?e:void 0;var n=null===(t=window.navigator)||void 0===t?void 0:t.language;"string"==tyg(n)&&(h=ntor)&&void 0!==o&&o.nguages):null;if(r&&r.length){var a=r.map((function(e){return e.replace(/;q=.*$/,"")})).filter((function(e){return 0===e.indexOf(h)})).filter(g);a.sort((function(e,t){return t.length-e.length})),a.length>0&&(h=a[0])}}catch(t){var l;i.Z.warn({message:"localization-navigator-languages-failure",error:(0,s.Jl)(t),locale:e,languages:null===(l=window.navigator)||void 0===l?void 0:l.languages})}},_=function(){return h},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return"en-us"===(null==e?void 0:e.toLowerCase())},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e instanceof Date?e.toLocaleString(h,c?t:void 0):null},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e instanceof Date?e.toLocaleDateString(h,c?t:void 0):null},E=function(e){if(!(e instanceof Date))return null;return e.toLocaleTimeString(h,c?{minute:"numeric",second:"numeric",hour12:!1}:void 0).replace(/^0/,"")},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"!=typeof e?null:e.toLocaleString(h,c?t:void 0)},Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"!=typeof e)return null;var o=n||e%100;if(c){var r={style:"currency",currencyDisplay:"symbol",currency:t,minimumFractionDigits:o?2:0,maximumFractionDigits:o?2:0};return(e/100).toLocaleString(h,r)}if("USD"===t&&y(h))return"$".concat(o?(e/100).toFixed(2):e/100);var i=C(Number((e/100).toFixed(2)));return"".concat(i,"").concat(t)},P=function(e){if("number"!=typeof e)return null;return e.toLocaleString(h,c?{style:"percent"}:void 0)},O=function(e,t){if("number"!=typeof e)return null;if("string"!=typeof t)return C(e,h);if(y(h)){if("foot"===t)return"".concat(Math.floor(e),"'").concat(Math.round(12*(e-Math.floor(e))),'"');if("inch"===t)return"".concat(C(e),'"');if("pound"===t)return"".concat(C(e)," lbs")}if(!m)return null;var n={style:"unit",unit:t};try{return e.toLocaleString(h,c?n:void 0)}catch(t){return i.Z.warn({message:"localization-format-unit-failure",error:(0,s.Jl)(t),value:e,defaultLocale:h,options:n}),null}},T=function(e){if(!u)return null;if("unit"===e.style&&!m)return null;var t;try{t=a(h,e)}catch(t){return i.Z.warn({message:"localization-number-format-failure",error:(0,s.Jl)(t),defaultLocale:h,options:e}),null}for(var n=f.LEFT,o=!1,r=t.formatToParts(2),l=0;l<r.length;++l){var c=r[l];if("integer"===c.type&&(n=f.RIGHT),"literal"===c.type&&c.valuturn!o&&l<r.length-1&&"literal"===r[l+1].type&&r[l+1].value.match(/\s/)&&(o=!0),{displayedUnit:c.value,unitLocation:n,space:o,fallback:!1}}return null},I=function(e){return null!==e.match(/\s/)},w=function(e){if(!c)return null;if(!m)return null;var t=null;try{t=2..toLocaleString(h,e)}catch(t){return i.Z.warn({message:"localization-unit-and-location-failure",error:(0,s.Jl)(t),defaultLocale:h,options:e}),null}var n=t.match(/[^\d,.\s]+\.*/);if(null!=n&&n[0]){var o=t.search(/\d/),r=t.indexOf(n[0]),a=o<r?f.RIGHT:f.LEFT,l=a===f.LEFT?I(t.charAt(r+n[0].length)):I(t.charAt(r-1));return{displayedUnit:n[0],unitLocation:a,space:l,fallback:!1}}return null},A=function(e){if(!e)return{displayedCurrency:null,currencyLocation:null,space:null,fallback:!1};var t={style:"currency",currencyDisplay:"symbol",currency:e,minimumFractionDigits:0,maximumFractionDigits:0},n=T(t)||w(t);return n?{displayedCurrency:n.displayedUnit,currencyLocation:n.unitLocation,space:n.space,fallback:n.fallback}:"USD"===e&&y(h)?{displayedCurrency:"$",currencyLocation:f.LEFT,space:!1,fallback:!1}:{displayedCurrency:e,currencyLocation:f.RIGHT,space:!0,fallback:!0}},R=function(e){if("string"!=typeof e)return{displayedUnit:null,unitLocation:null,space:null,fallback:!1};if(y(h)){if("foot"===e)return{displayedUnit:"'",unitLocation:f.RIGHT,space:!1,fallback:!1};if("inch"===e)return{displayedUnit:'"',unitLocation:f.RIGHT,space:!1,fallback:!1};if("pound"===e)return{displayedUnit:"lbs",unitLocation:f.RIGHT,space:!0,fallback:!1}}var t={style:"unit",unit:e};return T(t)||w(t)||{displayedUnit:e,unitLocation:f.RIGHT,space:!0,fallback:!0}}},"./src/utils/log.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var o,r=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),i=n("./node_modules/@babel/runtime/helpers/esm/typeof.js"),s=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),l=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),c=n("./node_modules/@babel/runtime/regenerator/index.js"),u=n.n(c),d=n("./src/constants/LogLevel.js"),p=n("./src/constants/Globals.js"),m=d.Z.NOTICE,h=(o={},(0,s.Z)(o,d.Z.ERROR,"error"),(0,s.Z)(o,d.Z.WARN,"warn"),(0,s.Z)(o,d.Z.LOG,"log"),(0,s.Z)(o,d.Z.INFO,"info"),(0,s.Z)(o,d.Z.DEBUG,"debug"),o),f=[],g=!1;const v=new(function(){function e(){(0,a.Z)(this,e)}return(0,l.Z)(e,[{key:"logToConsole",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.level,o=void 0===n?void 0:n,r=JSON.parse(JSON.stringify(e));Reflect.deleteProperty(r,"type"),Reflect.deleteProperty(r,"timestamp"),Reflect.deleteProperty(r,"requestId"),Reflect.deleteProperty(r,"logname"),Reflect.deleteProperty(r,"serial"),Reflect.deleteProperty(r,"sakey");var i=h[o]||"log";r.message?console[i](r.message,r):console[i](r)}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==argum[1]:{},n=t.force,o=void 0!return(p.Z.DEBUG||g)&&this.log f}},{key:"clear",value:function(){f=[]}},{key:"setLogLevel",value:function(e){m=e}},{key:"setLogToConsole",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];g=e}}]),e}());var _=n("./src/utils/log/LogDecorator.js"),y=n("./src/lib/AjaxRequest.js");const b=new(function(){function e(){(0,a.Z)(this,e)}var t;return(0,l.Z)(e,[{key:"send",value:(t=(0,r.Z)(u().mark((function e(t){var n,o,r;return u().wrap((function(e){for(;;)switgth){e.next=2;break}return e.abrupt("return",!1);case 2:return n={data:t},o=y.Z.getBaseUrl()+"/api/v2/jsonlogger",e.next=6,y.Z.postPromise(o,n,"json").catch((function(e){return{status:e.status}}));case 6:if((r=e.sent)&&200===r.status){e.next=10;break}return k.error({message:"logger-sending-error",error:r}),e.abrupt("return",!1);case 10:return e.abrupt("return",!0);)})}]),e}());var S={};coe(){(0,a.Z)(this,ee",value:function(e)s.length>1&&void 0!==arguments[1])||arguments[1];S[e]=t}},{key:"usageTick",value:function(e){S[e]=(S[e]||0)+1}},{key:"get",value:function(e){return e?S[e]:S}},{key:"clear",value:function(){S={}}}]),e}());function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=null,O=null,T=new Set,I=[],w=0,A=null,R=!0;window.addEventListener("offline",(function(){R=!1})),window.addEventListener("online",(function(){R=!0}));const k=new(function(){function e(){(0,a.Z)(this,e)}var t,n;return(0,l.Z)(e,[{key:"debug",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._log(e,d.Z.DEBUG,t)}},{key:"info",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._log(e,d.Z.INFO,t)}},{key:"notice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._log(e,d.Z.NOTICE,t)}},{key:"warn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._log(e,d.Z.WARN,t)}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._log(e,d.Z.ERROR,t)}},{key:"loms",value:function(e){e.eventname?v.add(Z(Z({},e),{},{timestamp:Date.now(),logname:"hybrid_loms"})):this.error(Z({message:"bad-loms-event"},e))}},{key:"statsIncCounter",value:function(e){e?v.add({key:"client.".concat(e),timestamp:Date.now(),logname:"stats_counter_inc"}):p.Z.DEBUG}},{key:"statsGauge",value:function(e,t){e?v.add({key:"client.".concat(e),value:t,timestamp:Date.now(),logname:"stats_gauge"}):p.Z.DEBUG}},{key:"statsTimer",value:function(e,t){e?v.add({key:"client.".concat(e),ms:t,timestamp:Date.now(),logname:"stats_timer"}):p.Z.DEBUG}},{key:"_log",value:function(e,t,n){var o=this,r=[],s=JSON.stringify(e,(function(e,t){if(t&&"object"===(0,i.Z)(t)){if(r.includes(t))return;r.push(t)}returludes(s))return!1;I.push(s)}var a=JSON.parse(s);return!!v.add(_.Z.decorate(a,{logname:"hybrid_log",loglevel:t}),Z(Z({},n),{},{level:t}))&&(P||O||(O=window.ssend(),O=null}))),!0)}},{key:"start",value:function(){var e=this;P&&(this.warn("log-start-called-but-it-was-never-stopped"=window.setIntervarequestId",t),I.splice(0,I.length)}},{key:"startIfNotStarted",value:function(){P||this.start()}},{key:"_s4",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"moveUsageToBundle",value:function(){var e=E.get();Object.keys(e).length>0&&v.add(_.Z.decorate(e,{logname:"hybrid_usage"})),E.clear()}},{key:"send",value:(n=(0,r.Z)(u().mark((function e(){var t,n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Date.now()-(A||Date.now()),!(w>=3&&t<6e4)){e.next=3;break}return e.abrupt("return",!1);case 3:return n=v.get(),e.next=6,b.send(n);c&(++w,A=Date.now()),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"stop",value:function(){P&&(window.clearInterval(P),P=null)}},{key:"usage",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!n&&E.get(e)||E.usage(e,t)}},{key:"usageTick",value:function(e){E.usageTick(e)}},{key:"sendTimingData",value:function(e){var t=this;return"{}"!==JSON.stringify(e)&&(tion(n){T.has(n)?t.statsIncCounter("performanceTimerDuplicates.".concat(n)):(t.statsTimer("performanceTimer.".concat(n),e[n]),T.add(n))}),this),!0)}},{key:"set",value:function(e,t){_.Z.set(e,t)}},{key:"setLogLevel",value:function(e){Object.values(d.Z).includes(e)?v.setLogLevel(e):this.error({message:"invalid-log-level",level:e})}},{key:"sendAndStop",value:(t=(0,r.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P?this.moveUsageToBundle():E.clear(),e.ne.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"setLogToConsole",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];v.setLogToConsole(e)}}]),e}())},"./src/utils/log/LogDecorator.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("./node_modules/@babel/runtime/helpers/esm/typeof.js"),i=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("./node_modules/lodash/pickBy.js"),l=n.n(a);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n){Object.defineProperty(e,t,Object.getOwnPropertyDescri{};const p=new(function(){function e(){(0,i.Z)(this,e)}return(0,s.Z)(e,[{key:"set",value:function(e,t){d[e]=t}},{key:"getIncludedData",value:function(){return l()(d,(function(e){return e||0===e}))}},{key:"decorate",value:function(e,t){var n=u(u(u({},"object"===(0,r.Z)(e)?e:{message:e}),t),{},{_bundled:this.getIncludedData()});n.timestamp=Date.now(),n.logname||(n.logname="hybrid_log");for(var o=0,i=Object.keys(n);o<i.length;o++){var s=i[o],a=n[s];void 0===a&&Reflect.deleteProperty(n,s),a&&"object"===(0,r.Z)(a)&&0===Object.keys(a).length&&Reflect.deleteProperty(n,s)}return n}}]),e}())},"./src/utils/lomsTools.js":(e,t,n)=>{"use strict";n.d(t,{$m:()=>l,Tg:()=>u,l9:()=>c});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("./src/stores/UserStore.js"),i=n("./src/utils/log.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t=r.Z.getState(),n=t.userId,o=t.sakey,s={eventname:"CTA(o)})),i.Z.loms(s)},c=function(e,t){varntname:"TabClickHybridClientV1",tab:e,layout:t};i.Z.loms(n)},u=function(e,t){var n={eventname:"ChatUpsellCTAClickV1",button:e,layout:t};i.Z.loms(n)}},"?1bcf":()=>{},"?ed1b":()=>{},"?d17e":()=>{}}]);
//# sourceMappingURL=https://hybridclient.naiadsystems.com/dist/hybrid/5~c9215af5ed72c119df73.js.map