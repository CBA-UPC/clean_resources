!function(){var deferred,inProgress,__webpack_modules__={57135:3290:function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";__webpack_require__(63238),__webpack_require__(3214);var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(22951),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(91976),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(47169),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(67591),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(99492),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(27597),_babel_runtime_helpers_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(17289),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(64649),_comments_wc_scss__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(23938),__webpack_require__(12887));function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.Z)(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.Z)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__.Z)(this,result)}}var template=document.createElement("template");template.innerHTML="<style>".concat(_comments_wc_scss__WEBPACK_IMPORTED_MODULE_5__,'</style><div class="comments-count">\n</div>');var CommentCount=function(_HTMLElement){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__.Z)(CommentCount,_HTMLElement);var _super=_createSuper(CommentCount);function CommentCount(){var _this;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__.Z)(this,CommentCount),_this=_super.call(this),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__.Z)((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_9__.Z)(_this),"createBubble",(function(count){return'<span class="story__count-bubble story__count-bubble--'.concat(_this.dataType,'"></span><span class="vf-comments-count vf-comments-count--').concat(_this.dataType,'">').concat(count,"</span>")})),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__.Z)((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_9__.Z)(_this),"createConversions",(),_this.attachShadow({mode:"open"}),_this.shadowRoot.appendChild(template.content.cloneNode(!0)),_this.dataType="darken",_this}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_10__.Z)(CommentCount,[{key:"commentsWrapper",get:function get(){return this._commentsWrapper&&(this._commentsWrapper=this.shadowRoot.querySelector(".comments-count")),this.shadowRoot.querySelector(".comments-count")}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){switch(name){case"data-api-enabled":this.apiEnabled=JSON.parse(newValue);break;case"count":this.count=JSON.parse(newValue),this.renderApi(this.count);break;case"data-vf-uuid":this.dataVfUuid=newValue;break;case"data-type":this.dataType=newValue;break;case"headline":this.headline=newValue;break;case"url":this.url=newValue;break;case"vf-container-id":this.vfContainerId=newValue,this.renderNonApi()}}},{key:"createCommentsLink",value:function createCommentsLink(content){return'<a href="'.concat(this.url,'#comments-wrapper" class="viafoura" aria-label=\'Comments for ').concat(this.headline,"'>\n      ").concat(content,"\n    </a>")}},{key:"renderNonApi",value:function renderNonApi(){this.commentsWrapper.innerHTML=this.createCommentsLink(this.createConversions())}},{key:"renderApi",value:function renderApi(count){this.commentsWrapper.setAttribute("data-vf-uuid",this.dataVfUuid),this.commentsWrapper.innerHTML=this.createCommentsLink(this.createBubble(count))}},{key:"connectedCallback",value:function connectedCallback(){}}],[{key:"observedAttributes",get:function get(){return["data-api-enabled","count","data-vf-uuid","data-type","headline","url","vf-container-id"]}}]),CommentCount}((0,_babel_runtime_helpers_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_11__.Z)(HTMLElement));window.customElements.define("comment-count",CommentCount)},45089:function(module,__unused_webpack_exports,__webpack_require__){var global=__webpack_require__(22086),isCallable=__webpack_require__(90930),tryToString=__webpack_require__(9268),TypeError=global.TypeError;module.exports=function(argument){if(isCallable(argument))return argument;throw TypeError(tryToString(argument)+" is not a function")}},41449:81378:78669:51855:56112:11005:21984:56198:28062:69955:72802:18758:83329:70745:18789:85574:68939:52306:90375:75204:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var defineProperty=__webpack_require__(77826).f,create=__webpack_require__(44710),redefineAll=__webpack_require__(49431),bind=__webpack_require__(18516),anInstance=__webpack_require__(51855),iterate=__webpack_require__(94722),defineIterator=__webpack_require__(98432),setSpecies=__webpack_require__(67420),DESCRIPTORS=__webpack_require__(25283),fastKey=__webpack_require__(12423).fastKey,InternalStateModule=__webpack_require__(83278),setInternalState=InternalStateModule.set,internalStateGetterFor=InternalStateModule.getterFor;module.exports={getConstructor:function(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER){var Constructor=wrapper((),Prototype=Constructor.prototype,getInternalState=internalStateGetterFor(CONSTRUCTOR_NAME),define=getEntry=return redefineAll(Prototype,{clear:delete:forEach:has:),redefineAll(Prototype,IS_MAP?{get:set::{add:),DESCRIPTORS&&defineProperty(Prototype,"size",{get:),Constructor},setStrong:},14909:48474:47209:60471:72585:55736:89720:98432:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(51695),call=__webpack_require__(59413),IS_PURE=__webpack_require__(43296),FunctionName=__webpack_require__(94398),isCallable=__webpack_require__(90930),createIteratorConstructor=__webpack_require__(60471),getPrototypeOf=__webpack_require__(62130),setPrototypeOf=__webpack_require__(77530),setToStringTag=__webpack_require__(70914),createNonEnumerableProperty=__webpack_require__(72585),redefine=__webpack_require__(11007),wellKnownSymbol=__webpack_require__(50211),Iterators=__webpack_require__(97719),IteratorsCore=__webpack_require__(13083),PROPER_FUNCTION_NAME=FunctionName.PROPER,CONFIGURABLE_FUNCTION_NAME=FunctionName.CONFIGURABLE,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR=wellKnownSymbol("iterator"),returnThis=function(){return this};module.exports=function(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED){createIteratorConstructor(IteratorConstructor,NAME,next);var CurrentIteratorPrototype,methods,KEY,getIterationMethod=TO_STRING_TAG=NAME+" Iterator",INCORRECT_VALUES_NAME=!1,IterablePrototype=Iterable.prototype,nativeIterator=IterablePrototype[ITERATOR]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT],defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT),anyNativeIterator="Array"==NAME&&IterablePrototype.entries||nativeIterator;if(anyNativeIterator&&(CurrentIteratorPrototype=getPrototypeOf(anyNativeIterator.call(new Iterable)))!==Object.prototype&&CurrentIteratorPrototype.next&&(IS_PURE||getPrototypeOf(CurrentIteratorPrototype)===IteratorPrototype||(setPrototypeOf?setPrototypeOf(CurrentIteratorPrototype,IteratorPrototype):isCallable(CurrentIteratorPrototype[ITERATOR])||redefine(CurrentIteratorPrototype,ITERATOR,returnThis)),setToStringTag(CurrentIteratorPrototype,TO_STRING_TAG,!0,!0),IS_PURE&&(Iterators[TO_STRING_TAG]=returnThis)),PROPER_FUNCTION_NAME&&"values"==DEFAULT&&nativeIterator&&"values"!==nativeIterator.name&&(!IS_PURE&&CONFIGURABLE_FUNCTION_NAME?createNonEnumerableProperty(IterablePrototype,"name","values"):(INCORRECT_VALUES_NAME=!0,defaultIterator=),DEFAULT)if(methods={values:getIterationMethod("values"),keys:IS_SET?defaultIterator:getIterationMethod("keys"),entries:getIterationMethod("entries")},FORCED)for(KEY in methods)(BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME||!(KEY in IterablePrototype))&&redefine(IterablePrototype,KEY,methods[KEY]);else $({target:NAME,proto:!0,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods);return IS_PURE&&!FORCED||IterablePrototype[ITERATOR]===defaultIterator||redefine(IterablePrototype,ITERATOR,defaultIterator,{name:DEFAULT}),Iterators[NAME]=defaultIterator,methods}},25283:20821:933:73526:70172:91848:84344:function(module,__unused_webpack_exports,__webpack_require__){var userAgent=__webpack_require__(4999);module.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent)},81801:54928:4999:21448:58684:51695:63677:66910:67258:18516:86059:32395:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var global=__webpack_require__(22086),uncurryThis=__webpack_require__(78240),aCallable=__webpack_require__(45089),isObject=__webpack_require__(28759),hasOwn=__webpack_require__(49606),arraySlice=__webpack_require__(70745),NATIVE_BIND=__webpack_require__(86059),Function=global.Function,concat=uncurryThis([].concat),join=uncurryThis([].join),factories={},construct=module.exports=NATIVE_BIND?Function.bind:,59413:94398:78240:10563:61667:73546:2964:22086:49606:7153:function(module){module.exports={}},71670:25963:26761:95974:15070:39277:12423:83278:92814:46526:90930:41956:67189:28759:43296:92071:94722:26737:13083:97719:82871:43173:8109:73193:9316:98722:44710:77711:77826:function(__unused_webpack_module,exports,__webpack_require__){var global=__webpack_require__(22086),DESCRIPTORS=__webpack_require__(25283),IE8_DOM_DEFINE=__webpack_require__(26761),V8_PROTOTYPE_DEFINE_BUG=__webpack_require__(98202),anObject=__webpack_require__(56112),toPropertyKey=__webpack_require__(2258),TypeError=global.TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?V8_PROTOTYPE_DEFINE_BUG?$defineProperty:,94399:53226:20062:66952:62130:73813:95516:91352:68779:7446:77530:70999:97999:46095:54522:10880:7733:49431:11007:69586:83648:67420:70914:88944:74489:49197:48515:83448:84953:function(module,__unused_webpack_exports,__webpack_require__){var location,defer,channel,port,global=__webpack_require__(22086),apply=__webpack_require__(67258),bind=__webpack_require__(18516),isCallable=__webpack_require__(90930),hasOwn=__webpack_require__(49606),fails=__webpack_require__(63677),html=__webpack_require__(25963),arraySlice=__webpack_require__(70745),createElement=__webpack_require__(20821),validateArgumentsLength=__webpack_require__(71635),IS_IOS=__webpack_require__(84344),IS_NODE=__webpack_require__(81801),set=global.setImmediate,clear=global.clearImmediate,process=global.process,Dispatch=global.Dispatch,Function=global.Function,MessageChannel=global.MessageChannel,String=global.String,counter=0,queue={};try{location=global.location}catch(error){}var run=runner=listener=post=set&&clear||(set=clear=IS_NODE?defer=function(id){process.nextTick(runner(id))}:Dispatch&&Dispatch.now?defer=MessageChannel&&!IS_IOS?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=bind(port.postMessage,port)):global.addEventListener&&isCallable(global.postMessage)&&!global.importScripts&&location&&"file:"!==location.protocol&&!fails(post)?(defer=post,global.addEventListener("message",listener,!1)):defer="onreadystatechange"in createElement("script")?,module.exports={set,clear}},7740:64088:69502:24005:3060:1288:2258:12371:64059:9268:65422:91876:98202:71635:50211:23938:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(51695),global=__webpack_require__(22086),fails=__webpack_require__(63677),isArray=__webpack_require__(46526),isObject=__webpack_require__(28759),toObject=__webpack_require__(3060),lengthOfArrayLike=__webpack_require__(82871),createProperty=__webpack_require__(89720),arraySpeciesCreate=__webpack_require__(85574),arrayMethodHasSpeciesSupport=__webpack_require__(69955),wellKnownSymbol=__webpack_require__(50211),V8_VERSION=__webpack_require__(21448),IS_CONCAT_SPREADABLE=wellKnownSymbol("isConcatSpreadable"),TypeError=global.TypeError,IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION>=51||!fails((),SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("concat"),isConcatSpreadable=$({target:"Array",proto:!0,forced:!IS_CONCAT_SPREADABLE_SUPPORT||!SPECIES_SUPPORT},{concat:function concat(arg){var i,k,length,len,E,O=toObject(this),A=arraySpeciesCreate(O,0),n=0;for(i=-1,length=arguments.length;i<length;i++)if(isConcatSpreadable(E=-1===i?O:arguments[i])){if(n+(len=lengthOfArrayLike(E))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(k=0;k<len;k++,n++)k in E&&createProperty(A,n,E[k])}else{if(n>=9007199254740991)throw TypeError("Maximum allowed index exceeded");createProperty(A,n++,E)}return A.length=n,A}})},52327:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(51695),$find=__webpack_require__(28062).find,addToUnscopables=__webpack_require__(78669),SKIPS_HOLES=!0;"find"in[]&&Array(1).find((),$({target:"Array",proto:!0,forced:SKIPS_HOLES},{find:function find(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables("find")},95623:5769:73902:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(51695),$reduce=__webpack_require__(18758).left,arrayMethodIsStrict=__webpack_require__(72802),CHROME_VERSION=__webpack_require__(21448),IS_NODE=__webpack_require__(81801);$({target:"Array",proto:!0,forced:!arrayMethodIsStrict("reduce")||!IS_NODE&&CHROME_VERSION>79&&CHROME_VERSION<83},{reduce:)},63238:61418:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,$=__webpack_require__(51695),IS_PURE=__webpack_require__(43296),global=__webpack_require__(22086),getBuiltIn=__webpack_require__(10563),call=__webpack_require__(59413),NativePromise=__webpack_require__(8109),redefine=__webpack_require__(11007),redefineAll=__webpack_require__(49431),setPrototypeOf=__webpack_require__(77530),setToStringTag=__webpack_require__(70914),setSpecies=__webpack_require__(67420),aCallable=__webpack_require__(45089),isCallable=__webpack_require__(90930),isObject=__webpack_require__(28759),anInstance=__webpack_require__(51855),inspectSource=__webpack_require__(39277),iterate=__webpack_require__(94722),checkCorrectnessOfIteration=__webpack_require__(68939),speciesConstructor=__webpack_require__(48515),task=__webpack_require__(84953).set,microtask=__webpack_require__(43173),promiseResolve=__webpack_require__(10880),hostReportErrors=__webpack_require__(71670),newPromiseCapabilityModule=__webpack_require__(98722),perform=__webpack_require__(54522),Queue=__webpack_require__(7733),InternalStateModule=__webpack_require__(83278),isForced=__webpack_require__(67189),wellKnownSymbol=__webpack_require__(50211),IS_BROWSER=__webpack_require__(70172),IS_NODE=__webpack_require__(81801),V8_VERSION=__webpack_require__(21448),SPECIES=wellKnownSymbol("species"),PROMISE="Promise",getInternalState=InternalStateModule.getterFor(PROMISE),setInternalState=InternalStateModule.set,getInternalPromiseState=InternalStateModule.getterFor(PROMISE),NativePromisePrototype=NativePromise&&NativePromise.prototype,PromiseConstructor=NativePromise,PromisePrototype=NativePromisePrototype,TypeError=global.TypeError,document=global.document,process=global.process,newPromiseCapability=newPromiseCapabilityModule.f,newGenericPromiseCapability=newPromiseCapability,DISPATCH_EVENT=!!(document&&document.createEvent&&global.dispatchEvent),NATIVE_REJECTION_EVENT=isCallable(global.PromiseRejectionEvent),SUBCLASSING=!1,FORCED=isForced(PROMISE,(),INCORRECT_ITERATION=FORCED||!checkCorrectnessOfIteration((),isThenable=callReaction=notify=dispatchEvent=onUnhandled=isUnhandled=onHandleUnhandled=bind=internalReject=internalResolve=if(FORCED&&(PromisePrototype=(PromiseConstructor=.prototype,(Internal=.prototype=redefineAll(PromisePrototype,{then:catch:),OwnPromiseCapability=newPromiseCapabilityModule.f=newPromiseCapability=!IS_PURE&&isCallable(NativePromise)&&NativePromisePrototype!==Object.prototype)){nativeThen=NativePromisePrototype.then,SUBCLASSING||(redefine(NativePromisePrototype,"then",(,{unsafe:!0}),redefine(NativePromisePrototype,"catch",PromisePrototype.catch,{unsafe:!0}));try{delete NativePromisePrototype.constructor}catch(error){}setPrototypeOf&&setPrototypeOf(NativePromisePrototype,PromisePrototype)}$({global:!0,wrap:!0,forced:FORCED},{Promise:PromiseConstructor}),setToStringTag(PromiseConstructor,PROMISE,!1,!0),setSpecies(PROMISE),PromiseWrapper=getBuiltIn(PROMISE),$({target:PROMISE,stat:!0,forced:FORCED},{reject:),$({target:PROMISE,stat:!0,forced:IS_PURE||FORCED},{resolve:),$({target:PROMISE,stat:!0,forced:INCORRECT_ITERATION},{all:race:)},3214:56446:17460:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var charAt=__webpack_require__(83448).charAt,toString=__webpack_require__(64059),InternalStateModule=__webpack_require__(83278),defineIterator=__webpack_require__(98432),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("String Iterator");defineIterator(String,"String",(,()},55849:14078:86248:function(module){var runtime=function(exports){"use strict";var Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";ry{define({},"")}catch(err){define=ports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}ar IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);eneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=exports.mark=exports.awrap=defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(),define(Gp,"toString",(),exports.keys=exports.values=values,Context.prototype={constructor:Context,reset:stop:dispatchException:abrupt:complete:finish:catch:delegateYield:,exports}(module.exports);try{regeneratorRuntime=runtime}catch(accidentalStrictMode){"object"==typeof globalThis?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}},12887:47169:22951:19113:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return _construct}});var _setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6983),_isNativeReflectConstruct_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(98119);function _construct(Parent,args,Class){return _construct=(0,_isNativeReflectConstruct_js__WEBPACK_IMPORTED_MODULE_0__.Z)()?Reflect.construct:function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&(0,_setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_1__.Z)(instance,Class.prototype),instance},_construct.apply(null,arguments)}},91976:64649:27597:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";_webpack_require__.d(__webpack_exports__,{Z:function(){return _getPrototypeOf}})},67591:43350:98119:99492:6983:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";_webpack_require__.d(__webpack_exports__,{Z:function(){return _setPrototypeOf}})},33940:17289:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return _wrapNativeSuper}});var _getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(27597),_setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6983),_isNativeFunction_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(43350),_construct_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(19113);function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!(0,_isNativeFunction_js__WEBPACK_IMPORTED_MODULE_0__.Z)(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}eturn Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),(0,_setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_3__.Z)(Wrapper,Class)},_wrapNativeSuper(Class)}}},__webpack_module_cache__={};_webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=__webpack_require__.F={},__webpack_require__.E=__webpack_require__.n=__webpack_require__.d=__webpack_require__.f={},__webpack_require__.e=__webpack_require__.u=__webpack_require__.miniCssF=__webpack_require__.g=),__webpack_require__.o=inProgress={},__webpack_require__.l=__webpack_require__.r=__webpack_require__.p="/@trinitymirrordigital/dragonfly/a3f4c2aed75e362b2e9027d8386689b3aa502593/",function(){var installedChunks={4181:0,3397:0,4960:0};__webpack_require__.f.j=__webpack_require__.F.j=__webpack_require__.O.j=var webpackJsonpCallback=chunkLoadingGlobal=self.webpackChunk=self.webpackChunk||[];chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null,0)),chunkLoadingGlobal.push=webpackJsonpCallback.bind(null,chunkLoadingGlobal.push.bind(chunkLoadingGlobal))}(),__webpack_require__.O(0,[4181],(,5);var __webpack_exports__={};!function(){"use strict";__webpack_require__(3214);ction _toConsumableArray(arr){return arr)||arr)||arr)||)}var classCallCheck=__webpack_require__(22951),createClass=__webpack_require__(91976),assertThisInitialized=__webpack_require__(47169),inherits=__webpack_require__(67591),possibleConstructorReturn=__webpack_require__(99492),getPrototypeOf=__webpack_require__(27597),wrapNativeSuper=__webpack_require__(17289),defineProperty=__webpack_require__(64649),regenerator=__webpack_require__(57135),regenerator_default=__webpack_require__.n(regenerator);__webpack_require__(23938),__webpack_require__(73902),__webpack_require__(63238),__webpack_require__(5769),__webpack_require__(56446),__webpack_require__(17460),__webpack_require__(14078),__webpack_require__(61418),__webpack_require__(55849),__webpack_require__(52327),__webpack_require__(95623),__webpack_require__(3290);ar CommentCountHandler=function(_HTMLElement){(0,inherits.Z)(CommentCountHandler,_HTMLElement);var _connectedCallback,_super=_createSuper(CommentCountHandler);function CommentCountHandler(){var _this;(0,classCallCheck.Z)(this,CommentCountHandler);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(args)),(0,defineProperty.Z)((0,assertThisInitialized.Z)(_this),"getRequestData",(function(bodyPayload,sectionUuid){return{endpoint:"https://livecomments.viafoura.co/v4/livecomments/".concat(sectionUuid,"/content-containers/comment-count-and-status/by-container-ids"),options:{method:"POST",headers:{Accept:"application/json","Content-Type":"*/*"},body:JSON.stringify(_toConsumableArray(bodyPayload))}}})),(0,defineProperty.Z)((0,assertThisInitialized.Z)(_this),"getContainerIds",(function(){return _this.commentComponents.reduce((function(list,commentCountEl){if(commentCountEl){var containerId=commentCountEl.getAttribute("data-vf-uuid");list.add(containerId)}return list}),new Set)})),(0,defineProperty.Z)((0,assertThisInitialized.Z)(_this),"processCommentCounts",(function(){var features=window.TMCONFIG.features||{},sectionUuid=features&&features.viafouraSectionUuid;if(sectionUuid){var containerIds=_this.getContainerIds();if(0!==containerIds.size){var _this$getRequestData=_this.getRequestData(containerIds,sectionUuid),endpoint=_this$getRequestData.endpoint,options=_this$getRequestData.options;endpoint&&options&&_this.processRequest(endpoint,options)}}})),(0,defineProperty.Z)((0,assertThisInitialized.Z)(_this),"processRequest",function(){var _ref=_asyncToGenerator(regenerator_default().mark((function _callee(endpoint,options){var json,res;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,fetch(endpoint,options);case 3:return res=_context.sent,_context.next=6,res.json();case 6:json=_context.sent,_context.next=12;break;case 9:_context.prev=9,_context.t0=_context.catch(0),console.error("Comments error",_context.t0);case 12:json&&_this.createCommentCountBlock(json);case 13:case"end":return _context.stop()}}),_callee,null,[[0,9]])})));return ()),(0,defineProperty.Z)((0,assertThisInitialized.Z)(_this),"getBreakpoint",_asyncToGenerator(regenerator_default().mark((function _callee2(){var _yield$import,getBreakpoint;return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,__webpack_require__.e(7888).then(__webpack_require__.bind(__webpack_require__,73267));case 2:return _yield$import=_context2.sent,getBreakpoint=_yield$import.getBreakpoint,_context2.abrupt("return",getBreakpoint);case 5:case"end":return _context2.stop()}}),_callee2)})))),_this}return(0,createClass.Z)(CommentCountHandler,[{key:"commentComponents",get:function get(){return this._commentComponents||(this._commentComponents=_toConsumableArray(document.querySelectorAll("[data-style]:not(.story--lead) comment-count"))),this._commentComponents}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){"init"===name&&"true"===newValue&&this.getModule()}},{key:"connectedCallback",value:(_connectedCallback=_asyncToGenerator(regenerator_default().mark((function _callee3(){return regenerator_default().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(this.hasAttribute("init")){_context3.next=3;break}return _context3.next=3,this.getModule();case 3:case"end":return _context3.stop()}}),_callee3,this)}))),},{key:"createCommentCountBlock",value:function createCommentCountBlock(json){this.commentComponents.forEach((function(comp){var jsonItem=json.find((function(_ref3){var containerId=_ref3.containerId;return comp.getAttribute("data-vf-uuid")===containerId}));comp&&jsonItem&&jsonItem.commentCount&&comp.setAttribute("count",jsonItem.commentCount)}))}},{key:"getModule",value:function getModule(){var _this2=this;return this.getBreakpoint().then((function(getBreakpoint){"baseLayout"===getBreakpoint()||(["loaded","interactive","complete"].includes(document.readyState)?_this2.processCommentCounts():window.addEventListener("DOMContentLoaded",())}))}}],[{key:"observedAttributes",get:]),CommentCountHandler}((0,wrapNativeSuper.Z)(HTMLElement));window.customElements.define("comment-count-handler",CommentCountHandler)}(),__webpack_exports__=__webpack_require__.O(__webpack_exports__)}();