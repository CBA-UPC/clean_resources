![function(t,n,o){window.BootstrapMenu=o(1)},function(t,n,o){"use strict";function e(t){var n=f('<div class="dropdown bootstrapMenu" style="z-index:10000;position:absolute;" />'),o=f('<ul class="dropdown-menu" style="position:static;display:block;font-size:0.9em;" />'),e=[];e[0]=[],p.each(t.options.actionsGroups,function(t,n){e[n+1]=[]});var i=!1;p.each(t.options.actions,function(n,o){var r=!1;p.each(t.options.actionsGroups,function(t,n){p.contains(t,o)&&(e[n+1].push(o),r=!0)}),r===!1&&e[0].push(o),"undefined"!=typeof n.iconClass&&(i=!0)});var r=!0;return p.each(e,function(n){0!=n.length&&(r===!1&&o.append('<li class="divider"></li>'),r=!1,p.each(n,function(n){var e=t.options.actions[n];i===!0?o.append('<li role="presentation" data-action="'+n+'"><a href="#" role="menuitem"><i class="fa fa-fw fa-lg '+(e.iconClass||"")+'"></i> <span class="actionName"></span></a></li>'):o.append('<li role="presentation" data-action="'+n+'"><a href="#" role="menuitem"><span class="actionName"></span></a></li>')}),o.append('<li role="presentation" class="noActionsMessage disabled"><a href="#" role="menuitem"><span>'+t.options.noActionsMessage+"</span></a></li>"))}),n.append(o)}function i(t){var n=null;switch(t.options.menuEvent){case"click":n="click";break;case"right-click":n="contextmenu";break;case"hover":n="mouseenter";break;default:throw new Error("Unknown BootstrapMenu 'menuEvent' option")}t.$container.on(n+t.namespace,t.selector,function(n){var o=f(this);return t.open(o,n),!1})}function r(t){t.$container.off(t.namespace)}function s(t){var n=t.options._actionSelectEvent+t.namespace;t.$menu.on(n,function(n){n.preventDefault(),n.stopPropagation();var o=f(n.target),e=o.closest("[data-action]");if(e&&e.length&&!e.is(".disabled")){var i=e.data("action"),r=t.options.fetchElementData(t.$openTarget);t.options.actions[i].onClick(r),t.close()}})}function c(t){t.$menu.off(t.namespace)}function a(t){switch(t.options.menuEvent){case"click":break;case"right-click":break;case"hover":var n=t.$openTarget.add(t.$menu);n.on("mouseleave"+t.closeNamespace,function(o){var e=o.toElement||o.relatedTarget;t.$openTarget.is(e)||t.$menu.is(e)||(n.off(t.closeNamespace),t.close())});break;default:throw new Error("Unknown BootstrapMenu 'menuEvent' option")}t.$container.on("click"+t.closeNamespace,function(){t.close()})}ar l=o(2),f=o(3);o(4);var p=p.noop=o(6),p.each=o(7),p.contains=o(34),p.extend=o(42),p.uniqueId=o(49),p.isFunction=o(19);var h={container:"body",fetchElementData:p.noop,menuSource:"mouse",menuPosition:"belowLeft",menuEvent:"right-click",actionsGroups:[],noActionsMessage:"No available actions",_actionSelectEvent:"click"},d=function(t,n){this.selector=t,this.options=p.extend({},h,n),this.namespace=p.uniqueId(".BootstrapMenu_"),this.closeNamespace=p.uniqueId(".BootstrapMenuClose_"),this.init()},v=[];d.prototype.init=function(){this.$container=f(this.options.container),this.$menu=e(this),this.$menuList=this.$menu.children(),this.$menu.hide().appendTo(this.$container),this.$openTarget=null,this.openEvent=null,i(this),s(this),v.push(this)},d.prototype.updatePosition=function(){var t=null,n=null,o=null;switch(this.options.menuSource){case"element":n=this.$openTarget;break;case"mouse":n=this.openEvent;break;default:throw new Error("Unknown BootstrapMenu 'menuSource' option")}switch(this.options.menuPosition){case"belowRight":t="right top",o="right bottom";break;case"belowLeft":t="left top",o="left bottom";break;case"aboveRight":t="right bottom",o="right top";break;case"aboveLeft":t="left bottom",o="left top";break;default:throw new Error("Unknown BootstrapMenu 'menuPosition' option")}this.$menu.css({display:"block"}),this.$menu.css({height:this.$menuList.height(),width:this.$menuList.width()}),this.$menu.position({my:t,at:o,of:n})},d.prototype.open=function(t,n){var o=this;d.closeAll(),this.$openTarget=t,this.openEvent=n;var e=o.options.fetchElementData(o.$openTarget),i=this.$menu.find("[data-action]"),r=this.$menu.find(".noActionsMessage");i.show(),r.hide();var s=0;i.each(function(){var t=f(this),n=t.data("action"),i=o.options.actions[n],r=i.classNames||null;return r&&p.isFunction(r)&&(r=r(e)),t.attr("class",l(r||"")),i.isShown&&i.isShown(e)===!1?void t.hide():(s++,t.find(".actionName").html(p.isFunction(i.name)&&i.name(e)||i.name),void(i.isEnabled&&i.isEnabled(e)===!1&&t.addClass("disabled")))}),0===s&&r.show(),this.updatePosition(),this.$menu.show(),a(this)},d.prototype.close=d.prototype.destroy=function(){this.close(),r(this),c(this)},d.closeAll=t.exports=d},function(t,n,o){var e,i,r;/*!
* jQuery UI Position 1.12.0
* http://jqueryui.com
*
* Copyright jQuery Foundation and other contributors
* Released under the MIT license.
* http://jquery.org/license
*
* http://api.jqueryui.com/position/
*/!function(s){i=[o(3),o(5)],e=s,r="function"==typeof e?e.apply(n,i):e,!(void 0!==r&&(t.exports=r))}(function(t){return function(){ i,r,s=Math.max,c=Math.abs,a=Math.round,u=/left|center|right/,l=/top|center|bottom/,f=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,h=/%$/,d=t.fn.position;r=t.position={scrollbarWidth:getScrollInfo:getWithinInfo:,t.fn.position=function(i){if(!i||!i.of)return d.apply(this,arguments);i=t.extend({},i);var h,v,m,g,y,w,x=t(i.of),b=t.position.getWithinInfo(i.within),$=t.position.getScrollInfo(b),W=(i.collision||"flip").split(" "),k={};return w=e(x),x[0].preventDefault&&(i.at="left top"),v=w.width,m=w.height,g=w.offset,y=t.extend({},g),t.each(["my","at"],,1===W.length&&(W[1]=W[0]),"right"===i.at[0]?y.left+=v:"center"===i.at[0]&&(y.left+=v/2),"bottom"===i.at[1]?y.top+=m:"center"===i.at[1]&&(y.top+=m/2),h=n(k.at,v,m),y.left+=h[0],y.top+=h[1],this.each(function(){var e,u,l=t(this),f=l.outerWidth(),p=l.outerHeight(),d=o(this,"marginLeft"),w=o(this,"marginTop"),E=f+d+o(this,"marginRight")+$.width,T=p+w+o(this,"marginBottom")+$.height,j=t.extend({},y),P=n(k.my,l.outerWidth(),l.outerHeight());"right"===i.my[0]?j.left-=f:"center"===i.my[0]&&(j.left-=f/2),"bottom"===i.my[1]?j.top-=p:"center"===i.my[1]&&(j.top-=p/2),j.left+=P[0],j.top+=P[1],r()||(j.left=a(j.left),j.top=a(j.top)),e={marginLeft:d,marginTop:w},t.each(["left","top"],,i.using&&(u=,l.offset(t.extend(j,{using:u}))})},t.ui.position={fit:{left:top:,flip:{left:top:,flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:}}(),t.ui.position})},function(t,n,o){var e,i,r;!},function(t,n,o){t.exports=o(8)},function(t,n,o){var e=o(9),i=o(10),r=o(31),s=r(e,i);t.exports=s},function(t,n,o){ar i=o(19),r=o(20),s=/^\[object .+?Constructor\]$/,c=Object.prototype,a=Function.prototype.toString,u=c.hasOwnProperty,l=RegExp("^"+a.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=e},function(t,n,o){ar i=o(22),r=o(24),s=o(14);t.exports=e},function(t,n,o){ar i=o(32),r=o(27);t.exports=e},function(t,n,o){t.exports=o(35)},function(t,n,o){ar i=o(36),r=o(22),s=o(27),c=o(38),a=o(24),u=o(39),l=o(40),f=Math.max;t.exports=e},function(t,n,o){ar i=o(37);t.exports=e},function(t,n){.exports=o},function(t,n){.exports=o},function(t,n,o){var e=o(44),i=o(45),r=o(47),s=r(;t.exports=s},function(t,n,o){ar i=o(16);t.exports=e},);!this,;try{var _serverTime;var _serverDBTime;var _serverTimeString;var _serverDBTimeString;var _serverTimezone;var _serverDBTimezone;var timezone=Intl.DateTimeFormat().resolvedOptions().timeZone;var modal;var player;var floatLeft="";var floatTop="";var floatWidth="";var floatHeight="";var changingVideoFloat=0;var floatClosed=0;var fullDuration=0;var isPlayingAd=false;var mainVideoHeight=0;var mouseX;var mouseY;var videoContainerDragged=false;var youTubeMenuIsOpened=false;var userIsControling=false;var playerCurrentTime;var mediaId;var isDebuging=false;var avideoIsOnline=false;var userLang=navigator.language||navigator.userLanguage;var iframeAllowAttributes='allow="fullscreen;autoplay;camera *;microphone *;" allowfullscreen="allowfullscreen" mozallowfullscreen="mozallowfullscreen" msallowfullscreen="msallowfullscreen" oallowfullscreen="oallowfullscreen" webkitallowfullscreen="webkitallowfullscreen"';var eventMethod=window.addEventListener?"addEventListener":"attachEvent";var eventer=window[eventMethod];var messageEvent=eventMethod=="attachEvent"?"onmessage":"message";eventer(messageEvent,function(e){if(e.data.getHeight){var height=$('body > div.container-fluid').height();if(!height){height=$('body > div.container').height();}
if(!height){height=$('body').height();}
parent.postMessage({height:height},'*');}else if(e.data.play){var currentTime=e.data.play.currentTime;var muted=!empty(e.data.play.muted);if(!muted){playerPlay(currentTime);}else{tryToPlayMuted(currentTime);}}},false);eventer("online",function(e){avideoToastSuccess("Connected");setBodyOnline();},false);eventer("offline",false);setBodyOnline();}catch(e){}
var queryString=window.location.search;var urlParams=new URLSearchParams(queryString);if(urlParams.has('debug')){isDebuging=false;}
if(typeof String.prototype.replaceAll==="undefined"){console.log('replaceAll is undefined');String.prototype.replaceAll=function(match,_replace){return this.replace(new RegExp(escapeRegExp(match),'g'),_replace);}}
async function setBodyOnline(){if(isOnline()){$('body').removeClass('isOffline');$('body').addClass('isOnline');}else{$('body').removeClass('isOnline');$('body').addClass('isOffline');}}
function consolelog(){if(isDebuging){for(var item in arguments){console.log(arguments[item]);}}}
$(document).mousemove(;String.prototype.stripAccents=function(){var returnvar=this.replace(/[áàâãªäą]/g,'a');returnvar=returnvar.replace(/[ÁÀÂÃÄĄ]/g,'A');returnvar=returnvar.replace(/[ÍÌÎÏ]/g,'I');returnvar=returnvar.replace(/[íìîï]/g,'i');returnvar=returnvar.replace(/[éèêëę]/g,'e');returnvar=returnvar.replace(/[ÉÈÊËĘ]/g,'E');returnvar=returnvar.replace(/[óòôõºö]/g,'o');returnvar=returnvar.replace(/[ÓÒÔÕÖ]/g,'O');returnvar=returnvar.replace(/[úùûü]/g,'u');returnvar=returnvar.replace(/[ÚÙÛÜ]/g,'U');returnvar=returnvar.replace(/[çć]/g,'c');returnvar=returnvar.replace(/[ÇĆ]/g,'C');returnvar=returnvar.replace(/[ñń]/g,'n');returnvar=returnvar.replace(/[ÑŃ]/g,'N');returnvar=returnvar.replace(/–/g,'-');returnvar=returnvar.replace(/[’‘‹›‚]/g,' ');returnvar=returnvar.replace(/[“”«»„]/g,' ');returnvar=returnvar.replace(/Є/g,'YE');returnvar=returnvar.replace(/І/g,'I');returnvar=returnvar.replace(/Ѓ/g,'G');returnvar=returnvar.replace(/і/g,'i');returnvar=returnvar.replace(/№/g,'#');returnvar=returnvar.replace(/є/g,'ye');returnvar=returnvar.replace(/ѓ/g,'g');returnvar=returnvar.replace(/А/g,'A');returnvar=returnvar.replace(/Б/g,'B');returnvar=returnvar.replace(/В/g,'V');returnvar=returnvar.replace(/Г/g,'G');returnvar=returnvar.replace(/Д/g,'D');returnvar=returnvar.replace(/Е/g,'E');returnvar=returnvar.replace(/Ё/g,'YO');returnvar=returnvar.replace(/Ж/g,'ZH');returnvar=returnvar.replace(/[ЗŻŹ]/g,'Z');returnvar=returnvar.replace(/И/g,'I');returnvar=returnvar.replace(/Й/g,'J');returnvar=returnvar.replace(/К/g,'K');returnvar=returnvar.replace(/[ЛŁ]/g,'L');returnvar=returnvar.replace(/М/g,'M');returnvar=returnvar.replace(/Н/g,'N');returnvar=returnvar.replace(/О/g,'O');returnvar=returnvar.replace(/П/g,'P');returnvar=returnvar.replace(/Р/g,'R');returnvar=returnvar.replace(/[СŚ]/g,'S');returnvar=returnvar.replace(/Т/g,'T');returnvar=returnvar.replace(/У/g,'U');returnvar=returnvar.replace(/Ф/g,'F');returnvar=returnvar.replace(/Х/g,'H');returnvar=returnvar.replace(/Ц/g,'C');returnvar=returnvar.replace(/Ч/g,'CH');returnvar=returnvar.replace(/Ш/g,'SH');returnvar=returnvar.replace(/Щ/g,'SHH');returnvar=returnvar.replace(/Ъ/g,'');returnvar=returnvar.replace(/Ы/g,'Y');returnvar=returnvar.replace(/Ь/g,'');returnvar=returnvar.replace(/Э/g,'E');returnvar=returnvar.replace(/Ю/g,'YU');returnvar=returnvar.replace(/Я/g,'YA');returnvar=returnvar.replace(/а/g,'a');returnvar=returnvar.replace(/б/g,'b');returnvar=returnvar.replace(/в/g,'v');returnvar=returnvar.replace(/г/g,'g');returnvar=returnvar.replace(/д/g,'d');returnvar=returnvar.replace(/е/g,'e');returnvar=returnvar.replace(/ё/g,'yo');returnvar=returnvar.replace(/ж/g,'zh');returnvar=returnvar.replace(/[зżź]/g,'z');returnvar=returnvar.replace(/и/g,'i');returnvar=returnvar.replace(/й/g,'j');returnvar=returnvar.replace(/к/g,'k');returnvar=returnvar.replace(/[лł]/g,'l');returnvar=returnvar.replace(/м/g,'m');returnvar=returnvar.replace(/н/g,'n');returnvar=returnvar.replace(/о/g,'o');returnvar=returnvar.replace(/п/g,'p');returnvar=returnvar.replace(/р/g,'r');returnvar=returnvar.replace(/[сś]/g,'s');returnvar=returnvar.replace(/т/g,'t');returnvar=returnvar.replace(/у/g,'u');returnvar=returnvar.replace(/ф/g,'f');returnvar=returnvar.replace(/х/g,'h');returnvar=returnvar.replace(/ц/g,'c');returnvar=returnvar.replace(/ч/g,'ch');returnvar=returnvar.replace(/ш/g,'sh');returnvar=returnvar.replace(/щ/g,'shh');returnvar=returnvar.replace(/ъ/g,'');returnvar=returnvar.replace(/ы/g,'y');returnvar=returnvar.replace(/ь/g,'');returnvar=returnvar.replace(/э/g,'e');returnvar=returnvar.replace(/ю/g,'yu');returnvar=returnvar.replace(/я/g,'ya');returnvar=returnvar.replace(/—/g,'-');returnvar=returnvar.replace(/«/g,'');returnvar=returnvar.replace(/»/g,'');returnvar=returnvar.replace(/…/g,'');return returnvar;};function clean_name(str){str=str.stripAccents().toLowerCase();return str.replace(/[!#$&'()*+,/:;=?@[\] ]+/g,"-");}
var processing_lazyImage=false;async function lazyImage(){if(processing_lazyImage){return false;}
processing_lazyImage=true;try{if($(".thumbsJPG").length){$('.thumbsJPG').lazy({effect:'fadeIn',visibleOnly:true,afterLoad:function(element){element.addClass('gifNotLoaded');element.removeClass('blur');element.mouseover(function(){if($(this).hasClass('gifNotLoaded')){var element=$(this);element.removeClass('gifNotLoaded');var gif=element.parent().find('.thumbsGIF');gif.lazy({effect:'fadeIn'});gif.height(element.height());gif.width(element.width());}
$("#log").append("<div>Handler for .mouseover() called.</div>");});}});mouseEffect();}}catch(e){}
processing_lazyImage=false;}
var paplayer!=='undefined'){player.on('pause',function(){clearTimeout(promisePlayTimeout);clearInterval(pauseIfIsPlayinAday',function(){isTryingToPlay=false;clearTimeout(promisePlayTimeout);if(startCurrentTime){setTimeout(function(){setCurrentTime(startCurrentTime);startCurrentTval=setInterval(function(){pauseIfIsPlayinAds();},500);clearInterval(_startCountPlayingTime);_startCountPlayingTime=setInterval(function(){seconds_watching_video++;},1000);});$("#mainVideo .vjs-mute-control").click(function(){Cookies.set('muted',player.muted(),{path:'/',expires:365});});}else{setTimeout(function(){setPlayerListners();},2000);}}
function removeTracks(){var oldTracks=player.remoteTextTracks();var i=oldTracks.length;while(i--){player.removeRemoteTextTrack(oldTracks[i]);}}
function changeVideoSrc(vid_obj,source){var srcs=[];removeTracks();var autoLoad=true;for(i=0;i<source.length;i++){if(source[i].type){if(source[i].type==="application/x-mpegURL"){autoLoad=false;}
srcs.push(source[i]);}else if(source[i].srclang){player.addRemoteTextTrack(source[i]);}}
vid_obj.src(srcs);setTimeout(function(){if(autoLoad){changeVideoSrcLoad();}else{player.play();}},1000);return true;}
function .ready(function(){var err=this.error();if(err&&err.code){setTimeout(function(){changeVideoSrcLoad();},1000);}else{setTimeout(function(){player.load();player.play();},1000);}});}
var _reloadAdsTimeout;var isReloadingAds=false;function reloadAds(){if(isReloadingAds){return false;}
isReloadingAds=true;setTimeout(function(){isReloadingAds=false;},500);clearTimeout(_reloadAdsTimeout);if(playerIsReady()&&player.ima){try{if(player.ima.getA}
player.ima.changeAdTag(null);player.ima.setContentWithAdTag(null,_adTagUrl,false);player.ima.changeAdTag(_a9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email);}
function isEmailValid(email){return validateEmail(email);}
function subscribe(email,user_id){modal.showPleaseWait();$.ajax({url:webSiteRootURL+'objects/subscribe.json.php',method:'POST',data:{'email':email,'user_id':user_id},success:function(response){var totalElement=$('.notificationButton'+user_id+' .badge');if(response.subscribe=="i"){$('.notificationButton'+user_id).removeClass("subscribed");totalElement.text(parseInt(totalElement.first().text())-1);}else{$('.notificationButton'+user_id).addClass("subscribed");totalElement.text(parseInt(totalElement.first().text())+1);}
if(!response.notify){$('.notificationButton'+user_id).removeClass("notify");}else{$('.notificationButton'+user_id).addClass("notify");}
$('#popover-content #subscribeEmail').val(email);$('.subscribeButton'+user_id).popover('hide');modal.hidePleaseWait();}});}
function toogleNotify(user_id){email=$('#subscribeEmail'+user_id).val();subscribeNotify(email,user_id);}
function subscribeNotify(email,user_id){modal.showPleaseWait();$.ajax({url:webSiteRootURL+'objects/subscribeNotify.json.php',method:'POST',data:{'email':email,'user_id':user_id},success:function(response){if(response.notify){$('.notificationButton'+user_id).addClass("notify");}else{$('.notificationButton'+user_id).removeClass("notify");}
modal.hidePleaseWait();}});}
async function mouseEffect(){$(".thumbsImage").on("mouseenter",function(){var gif=$(this).find(".thumbsGIF");var jpg=$(this).find(".thumbsJPG");try{gif.lazy({effect:'fadeIn'});setTimeout(function(){gif.height(jpg..he)|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))
check=true})(navigator.userAgent||navigator.vendor||window.opera);return check;}
var last_videos_id=0;var last_currentTime=-1;var videoViewAdded=false;var addViewBeaconTimeout;var _addViewCheck=false;function addView(videos_id,currentTime){addViewSetCookie(PHPSESSID,videos_id,currentTime,seconds_watching_video);if(_addViewCheck){return false;}
if(last_videos_id==videos_id&&last_currentTime==currentTime){return false;}
if(currentTime>5&&currentTime%30!==0){return false;}
_addViewCheck=true;last_videos_id=videos_id;last_currentTime=currentTime;_addView(videos_id,currentTime,seconds_watching_video);setTimeout(function(){_addViewCheck=false},1000);return true;}
var isVideoAddViewCount=false;function _addView(videos_id,currentTime,seconds_watching_video){if(isVideoAddViewCount){return false;}
isVideoAddViewCount=true;if(typeof PHPSESSID=='undefined'){PHPSESSID='';}
var url=webSiteRootURL+'objects/videoAddViewCount.json.php';if(empty(PHPSESSID)){return false;}
url=addGetParam(url,'PHPSESSID',PHPSESSID);$.ajax({url:url,method:'POST',data:{id:videos_id,currentTime:currentTime,seconds_watching_video:seconds_watching_video},success:function(response){isVideoAddViewCount=false;$('.view-count'+videos_id).text(response.countHTML);}});}
var _addViewAsyncSent=false;function _addViewAsync(){if(_addViewAsyncSent||typeof webSiteRootURL=='undefined'||typeof player=='undefined'){return false;}
if(typeof PHPSESSID=='undefined'){PHPSESSID='';}
var url=webSiteRootURL+'objects/videoAddViewCount.json.php';url=addGetParam(url,'PHPSESSID',PHPSESSID);_addViewAsyncSent=true;_addView(mediaId,playerCurrentTime,seconds_watching_video);setTimeout(function(){_addViewAsyncSent=false;},2000);}
var _addViewFromCookie_addingtime=false;async function addViewFromCookie(){if(typeof webSiteRootURL=='undefined'){return false;}
if(_addViewFromCookie_addingtime){return false;}
_addViewFromCookie_addingtime=true;var addView_PHPSESSID=Cookies.get('addView_PHPSESSID');var addView_videos_id=Cookies.get('addView_videos_id');var addView_playerCurrentTime=Cookies.get('addView_playerCurrentTime');var addView_seconds_watching_video=Cookies.get('addView_seconds_watching_video');if(!addView_PHPSESSID||addView_PHPSESSID==='false'||!addView_videos_id||addView_videos_id==='false'||!addView_playerCurrentTime||addView_playerCurrentTime==='false'||!addView_seconds_watching_video||addView_seconds_watching_video==='false'){return false;}
var url=webSiteRootURL+'objects/videoAddViewCount.json.php';url=addGetParam(url,'PHPSESSID',addView_PHPSESSID);if(med_playerCurrentTime;}
_addView(addView_videos_id,addView_playerCurrentTime,addView_seconds_watching_video)
setTimeout(function(){_addViewFromCookie_addingtime=false;},2000);addViewSetCookie(false,false,false,false);}
async function addViewSetCookie(PHPSESSID,videos_id,playerCurrentTime,seconds_watching_video){Cookies.set('addView_PHPSESSID',PHPSESSID,{path:'/',expires:1});Cookies.set('addView_videos_id',videos_id,{path:'/',expires:1});Cookies.set('addView_playerCurrentTime',playerCurrentTime,{path:'/',expires:1});Cookies.set('addView_seconds_watching_video',seconds_watching_video,{path:'/',expires:1});}
function getPlayerButtonIndex(name){var children=player.getChild('controlBar').children();for(i=0;i<children.length;i++){if(children[i].name_===name){return i;}}
return children.length;}
async function copyToClipboard(text){$('body').append('<textarea id="elementToCopyAvideo" style="filter: alpha(opacity=0);-moz-opacity: 0;-khtml-opacity: 0; opacity: 0;position: absolute;z-index: -9999;top: 0;left: 0;pointer-events: none;"></textarea>');$('#elementToCopyAvideo').css({'top':mouseY,'left':0}).fadeIn('slow');$('#elementToCopyAvideo').val(text);$('#elementToCopyAvideo').focus();$('#elementToCopyAvideo').select();document.execCommand('copy');$('#elementToCopyAvideo').remove();$.toast("Copied to Clipboard");}
function nl2br(str,is_xhtml){if(typeof str==='undefined'||str===null){return '';}
var breakTag=(is_xhtml||typeof is_xhtml==='undefined')?'<br />':'<br>';return(str+'').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,'$1'+breakTag+'$2');}
function inMainIframe(){var response=false;if(window.self!==window.top){try{var mainIframe=$('iframe',window.parent.document).attr('id');response=mainIframe==='mainIframe';}catch(e){}}
return response;}
function inIframe(){if(inMainIframe()){return false;}
var url=new URL(location.href);var avideoIframe=uframe!==0){return true;}
try{return window.self!==window.top;}catch(e){return true;}}
function playerIsReady(){return(typeof player!=='undefined'&&player.isReady_);}
var promisePlaytry=20;var promisePlaytryNetworkFail=0;var promisePlayTimeoutTime=500;var promisePlayTimeout;var promisePlay;var browserPreventShowed=false;var playerPlayTimeout;var isTryingToPlay=false;var promisePlaytryNetworkFailTimeout;function playerPlay(currentTime){isTryingToPlay=true;clearTimeout(playerPlayTimeout);if(playerIsPlayingAds()){return false;}
if(currentTime){}
if(!playerIsReady()){playerPlayTimeout=setTimeout(function(){playerPlay(currentTime);},200);return false;}
if(userIsControling){return true;}
if(promisePlaytry<=0){if(!browserPreventShowed){browserPreventShowed=true;$.toast("Your browser prevent autoplay");}
return false;}
promisePlaytry--;if(typeof player!=='undefined'){if(currentTime){setCurrentTime(currentTime);}
try{promisePlay=player.play();if(promisePlay!==undefined){tryToPlay(currentTime);setPlayerListners();promisePlay.then(function(){userIsControling=true;if(player.paused()){if(promisePlaytry<=10){tryToPlayMuted(currentTime);}else{tryToPlay(currentTime);}}else{if(player.muted()&&!inIframe()){showUnmutePopup();}}}).catch(function(error){if(player.networkState()===3&&promisePlaytryNetworkFail<5){promisePlaytry=20;promisePlaytryNetworkFail++;clearTimeout(promisePlaytryNetworkFailTimeout);promisePlaytryNetworkFailTimeout=setTimeout(function(){player.src(player.currentSources());userIsControling=false;tryToPlay(currentTime);},promisePlaytryNetworkFail*1000);}else{if(promisePlaytryNetworkFail>=5){userIsControling=true;player.pause();}else if(promisePlaytry<=10){tryToPlayMuted(currentTime);}else{tryToPlay(currentTime);}}});}else{tryToPlay(currentTime);}}catch(e){tryToPlay(currentTime);}}else{}}
function showUnmutePopup(){var donotShowUnmuteAgain=Cookies.get('donotShowUnmuteAgain');if(!donotShowUnmuteAgain){var span=document.createElement("span");span.innerHTML="<b>Would</b> you like to unmute it?<div id='allowAutoplay' style='max-height: 100px; overflow-y: scroll;'></div>";swal({title:"Your Media is Muted",icon:"warning",content:span,dangerMode:true,buttons:{cancel:"Cancel",unmute:true,donotShowUnmuteAgain:{text:"Don't show again",value:"donotShowUnmuteAgain",className:"btn-danger",},}}).then(function(value){switch(value){case "unmute":player.muted(false);break;case "donotShowUnmuteAgain":Cookies.set('donotShowUnmuteAgain',true,{path:'/',expires:365});break;}});}
showMuteTooltip();setTimeout(function(){$("#allowAutoplay").load(webSiteRootURL+"plugin/PlayerSkins/allowAutoplay/");player.userActive(true);},500);}
function tryToPlay(currentTime){clearTimeout(promisePlayTimemeout(function(){playerPlay(currentTime);},200);}},promisePlayTimeoutTime);}
function tryToPlayMuted(currentTime){muteInCookieAllow();return tryToPlay(currentTime);}
function muteIfNotAudio(){if(!player.isAudio()){player.muted(true);return true;}
return false;}
function muteInCookieAllow(){var mute=Cookies.get('muted');if(isALiveContent()||typeof mute==='undefined'||(mute&&mute!=="false")){return muteIfNotAudio();}
return false;}
function playMuted(currentTime){muteInCookieAllow();playerPlayTimeout=setTimeout(function(){playerPlaynction showMuteTooltip(){if($("#mainVideo .vjs-volume-panel").length){if(!$("#mainVideo .vjs-volume-panel").is(":visible")){setTimeout(function(){showMuteTooltip();},500);return false;}
$("#mainVideo .vjs-volume-panel").attr("data-toggle","tooltip");$("#mainVideo .vjs-volume-panel").attr("data-placement","top");$("#mainVideo .vjs-volume-panel").attr("title","Click to activate the sound");$('#mainVideo .vjs-volume-panel[data-toggle="tooltip"]').tooltip({container:'.vjs-control-bar',html:true});$('#mainVideo .vjs-volume-panel[data-toggle="tooltip"]').tooltip('show');$("#mainVideo .vjs-volume-panel").click(function(){$('#mainVideo .vjs-volume-panel[data-toggle="tooltip"]').tooltip('hide');$("#mainVideo .vjs-volume-panel").removeAttr("data-toggle");$("#mainVideo .vjs-volume-panel").removeAttr("data-placement");$("#mainVideo .vjs-volume-panel").removeAttr("title");$("#mainVideo .vjs-volind().next('div.t(true);},1000);setTimeout(function(){player.userActive(true);},1500);setTimeout(function(){$('#mainVideo .vjs-volume-panel[data-toggle="tooltip"]').tooltip('hide');},5000);}
function playerPlayIfAutoPlay(currentTime){if(isWebRTC()){return false;}
if(forceCurrentTime!==null){currentTime=forceCurrentTime;forceCurrentTime=null;}
if(currentTime){setCurrentTime(currentTime);}
if(isAutoplayEnabled()){playerPlayTimeout=setTimeout(function(){playerPlay(currentTime);},200);return true;}
return false;}
function playerPlayMutedIfAutoPlay(currentTime){if(isWebRTC()){return false;}
if(forceCurrentTime!==null){currentTime=forceCurrentTime;forceCurrentTime=null;}
if(currentTime){setCurrentTime(currentTime);}
if(isAutoplayEnabled()){playerPlayTimeout=setTimeout(function(){tryToPlayMuted(currentTime);},200);return true;}
return false;}
function playNext(url){if(!player.paused()){return false;}
if(playerIsPlayingAds()){setTimeout(function(){playNext(url);},1000);}else if(isPlayNextEnabled()){modal.showPleaseWait();if(typeof autoPlayAjax=='undefined'||!autoPlayAjax){document.location=url;}else{forceCurrentTime=0;setCurrentTime(0);$.ajax({url:webSiteRootURL+'view/infoFromURL.php?url='+encodeURI(url),success:function(response){if(!response||response.error){if(response.url){document.location=response.url;}}else{$('topInfo').hide();playNextURL=(typeof isEmbed!=='undefined'&&isEmbed)?response.nextURLEmbed:response.nextURL;var cSource=false;try{cSource=changeVideoSrc(player,response.sources);}catch(e){}
if(!cSource){document.location=url;return false;}
mediaId=response.videos_id;webSocketVideos_id=mediaId;$('video, #mainVideo').attr('poster',response.poster);player.poster(response.poster);history.pushState(null,null,url);$('.topInfoTitle, title').text(response.title);$('#topInfo img').attr('src',response.userPhoto);$('#topInfo a').attr('href',response.url);modal.hidePleaseWait();if($('#modeYoutubeBottom').length){$.ajax({url:url,success:function(response){modeYoutubeBottom=$(response).find('#modeYoutubeBottom').html();$('#modeYoutubeBottom').html(modeYoutubeBottom);}});}}}});}}else if(isPlayerLoop()){avideoToast("Looping video");userIsControling=false;playerPlayTimeout=setTimeout(function(){playerPlay(currentTime);},200);}}
function formatBytes(bytes,decimals){if(bytes==0)
return '0 Bytes';var k=1024,dm=decimals<=0?0:decimals||2,sizes=['Bytes','KB','MB','GB','TB','PB','EB','ZB','YB'],i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(dm))+' '+sizes[i];}
async function tooglePlayerLoop(){setPlayerLoop(!isPlayerLoop());}
var setPlayerLoopSetTimeout;async function setPlayerLoop(loop){clearTimeout(setPlayerLoopSetTimeout);if(typeof player==='undefined'&&$('#mainVideo').length){setPlayerLoopSetTimeout=setTimeout(function(){setPlayerLoop(loop)},1000);return false;}
if(loop){player.loop(1);$(".loop-button").removeClass('loop-disabled-button');$(".loop-button, .loopButton").addClass('fa-spin');}else{$(".loop-button").addClass('loop-disabled-button');$(".loop-button, .loopButton").removeClass('fa-spin');player.loop(0);}
Cookies.set('playerLoop',loop,{path:'/',expires:365});if(typeof setImageLoop==='function'){setImageLoop();}}
async function setImageLoop(){if(isPlayerLoop()){$('.loopButton').removeClass('opacityBtn');$('.loopButton').addClass('fa-spin');}else{$('.loopButton').addClass('opacityBtn');$('.loopButton').removeClass('fa-spin');}}
function toogleImageLoop(t){tooglePlayerLoop();if(typeof setImageLoop==='function'){setImageLoop();}}
function isPlayerLoop(){if(typeoyerLoop');if(!loop||loop==="false"){return player.loop();}else{return true;}}
function isArray(what){return Object.prototype.toString.call(what)==='[object Array]';}
async function reloadVideoJS(){if(typeof player.currentSources==='function'){var src=player.currentSources();player.src(src);if(typeof replaceVideoSourcesPerOfflineVersion==='function'){replaceVideoSourcesPerOfflineVersion();}}}
var initdone=false;var startCurrentTime=0;var forceCurrentTime=null;function setCurrentTime(currentTime){if(forceCurrentTime!==null){startCurrentTime=forceCurrentTime;currentTime=forceCurrentTime;forceCurrentTime=null;}else if(startCurrentTime!=currentTime){startCurrentTime=currentTime;}
if(typeof planed'){if(isTryingToPlay){if(currentTime<=player.currentTime()){return false;}}
player.currentTime(currentTime);initdone=false;player.on("loadedmetadata",function(){});player.on({console.log('setCurrentTime canplaythrough',currentTime);player.currentTime(currentTime);initdone=true;}});}else{setTimeout(function(){setCurrentTime(currentTime);},1000);}}
function isALiveContent(){if(typeof isLive!=='undefined'&&isLive&&(typeof isOnlineLabel==='undefined'||isOnlineLabel===true||$('.liveOnlineLabel').hasClass('label-success'))){return true;}
return false;}
function isWebRTC(){if(typeof _isWebRTC!=='undefined'){return _isWebRTC;}
return false;}
function isAutoplayEnabled(){if(typeof forceNotautoplay!=='undefined'&&forceNotautoplay){return false;}else if(typeof forceautoplay!=='undefined'&&forceautoplay){return true;}else if(isWebRTC()){consoleLog("isAutoplayEnabled said No because is WebRTC ");return false;}else if(isALiveContent()){consoleLog("isAutoplayEnabled always autoplay live contents");return true;}else
if($("#autoplay").length){autoplay=$("#autoplay").is(":checked");consoleLog("isAutoplayEnabled #autoplay said "+((autoplay)?"Yes":"No"));setAutoplay(autoplay);return autoplay;}else if(typeof Cookies!=='undefined'&&typeof Cookies.get('autoplay')!=='undefined'){if(Cookies.get('autoplay')==='true'||Cookies.get('autoplay')==true){consoleLog("isAutoplayEnabled Cookie said Yes ");setAutoplay(true);return true;}else{consoleLog("isAutoplayEnabled Cookie said No ");setAutoplay(false);return false;}}else{if(typeof autoplay!=='undefined'){consoleLog("isAutoplayEnabl}
setAutoplay(false);consoleLog("isAutoplayEnabled Default is No ");return false;}
function setAutoplay(value){Cookies.set('autoplay',value,{path:'/',expires:365});}
async function showAutoPlayVideoDiv(){var auto=$("#autoplay")e{$('#autoPlayVideoDiv').slideDown();}}
function enableAutoPlay(){setAutoplay(true);checkAutoPlay();}
function disableAutoPlay(){setAutoplay(false);checkAutoPlay();}
async function checkAutoPlay(){if(isAutoplayEnabled()){$("#autoplay").prop('checked',true);$('.autoplay-button').addClass('checked');avideoTooltip(".autoplay-button","Autoplay is ON");}else{$("#autoplay").prop('checked',false);$('.autoplay-button').removeClass('checked');avideoTooltip(".autoplay-button","Autoplay is OFF");}
showAutoPlayVideoDiv();}
function isPlayNextEnabled(){if(isPlayerLoop()){return false;}else if(isAutoplayEnabled()){return true;}
return false;}
function avideoAlert(title,msg,type){if(typeof msg!=='string'){return false;}
avideoAlertHTMLText(title,msg,type);}
function avideoAlertOnce(title,msg,type,uid){var cookieName='avideoAlertOnce'+uid;if(!Cookies.get(cookieName)){var span=document.createElement("span");span.innerHTML=msg;swal({title:title,content:span,icon:type,closeOnClickOutside:false,closeModal:true}).then(okay=>{if(okay){Cookies.set(cookieName,1,{path:'/',expires:365});}});}}
async function avideoConfirm(msg){var span=document.createElement("span");span.innerHTML=msg;var response=await swal({title:'Confrim',conde:false,closeModal:true,buttons:{cancel:"Cancel",confirm:{text:"Confirm",value:"confirm",className:"btn-danger",},}}).then(function(value){return value=='confirm';});return response;}
function avideoAlertOnceForceConfirm(title,msg,type){var span=document.createElement("span");span.innerHTML=msg;swal({title:title,content:span,icon:type,closeOnClickOutside:false,closeModal:true});}
function _avideoToast(msg,icon){var options={text:msg,hideAfter:7000};if(icon){options.icon=icon;}
$.toast(options);}
function avideoToast(msg){_avideoToast(msg,null);}
function avidtError(msg){_avideoToast(msg,'error');}
function avideoToastSuccess(msg){_avideoToast(msg,'success');}
function avideoToastWarning(msg){_avideoToast(msg,'warning');}
function avideoAlertAJAXHTML(url){modal.showPleaseWait();$.ajax({uePleaseWait();}});}
function avideoAlertAJAX(url){modal.showPleaseWait();$.ajax({url:url,success:function(response){avideoResponse(response);modal.hidePleaseWait();}});}
function avideoAlertHTMLText(title,msg,type){var isErrorOrWarning=(type=='error'||type=='warning');var span=document.createElement("span");span.innerHTML=msg;swal({title:title,content:span,icon:type,closeModal:true,closeOnClickOutside:!isErrorOrWarning,buttons:isErrorOrWarning?null:(empty(type)?false:true),});}
function avideoModalIframeClose(){try{swal.close();}catch(e){}
try{if(inIframe()){window.parent.swal.close();}}catch(e){}}
function avideoModalIframeCloseToastSuccess(msg){avideoModalIframeClose();avideoToastSuccess(msg);window.parent.avideoToastSuccess(msg);}
function avideoDialog(url,maximize){if(typeof parent.openWindow==='function'){url=addGetParam(url,'avideoIframe',1);parent.openWindow(url,iframeAllowAttributes,'',maximize);}else{avideoModalIframeFullScreen(url);}}
function avideoDialogWithPost(url,params){if(typeof parent.openWindowWithPost==='function'){parent.openWindowWithPost(url,iframeAllowAttributes,params);}else{openWindowWithPost(url,'avideoDialogWithPost',params,'');}}
function avideoModalIframe(url){avideoModalIframeWithClassName(url,'swal-modal-iframe',false);}
function avideoModalIframeXSmall(url){avideoModalIframeWithClassName(url,'swal-modal-iframe-xsmall',false);}
function avideoModalIframeSmall(url){avideoModalIframeWithClassName(url,'swal-modal-iframe-small',false);}
function avideoModalIframeLarge(url){avideoModalIframeWithClassName(url,'swal-modal-iframe-large',false);}
function avideoModalIframeFullScreen(url){avideoModalIframeWithClassName(url,'swal-modal-iframe-full',true);}
function avideoModalIframeFullWithMinimize(url){if(false&&typeof parent.ol-iframe-full-with-minimize',true);}}
function avideoModalIframeFullTransparent(url){avideoModalIframeWithClassName(url,'swal-modal-iframe-full-transparent',s');}
function avideoModalIframeFullScreenMaximize(){$('.swal-modal-iframe-full-with-minimize').closest('.swal-overlay').removeClass('swal-offline-video-compress');}
function avideoModalIframeFullScreenClose(){if(typeof swal==='function'){$('.swal-overlay iframe').attr('src','about:blank');tr.pushState==="function"){window.onpopstate=function(e){avideoModalIframeFullScreenClose();};}}
function avideoModalIframeFull(url){avideoModalIframeFullScreen(url);}
function avideoAddIframeIntoElement(element,url,insideSelector){url=addGetParam(url,'avideoIframe',1);var html='';html+='<iframe frameBorder="0" class="avideoIframeIntoElement" src="'+url+'"  '+iframeAllowAttributes+' ></iframe>';var insideElement=$(element);if(!empty(insideSelector)){insideElement=$(element).find(insideSelector);}
insideElement.append(html);}
function avideoWindowIframe(url){url=addGetParam(url,'avideoIframe',1);var html='';html+='<div class="panel panel-default" id="draggable" style="width: 400px; height: 200px; float: left; z-index: 9999;">';html+='<div class="panel-heading" style="cursor: move;">head</div>';html+='<div class="panel-body" style="padding: 0;">';html+='<iframe id="avideoWindowIframe" frameBorder="0" class="animate__animated animate__bounceInDown" src="'+url+'"  '+iframeAllowAttributes+'></iframe>';html+='</div>';html+='</div>';$('body').append(html);$("#draggable").draggable({handle:".panel-heading",containment:"parent"});$("#draggable").resizable();}
var avideoModalIframeFullScreenOriginalURL=false;var avideoModalIframeWithClassNameTimeout;var avideoModalIframeFullScreenMinimize;function avideoModalIframeWithClassName(url,className,updateURL){var closeModal=true;showURL=document.location.href;if(updateURL){if(!avideoModalIframeFullScreenOriginalURL){avideoModalIframeFullScreenOriginalURL=document.location.href;}
showURL=url;}
url=addGetParam(url,'avideoIframe',1);var html='';html+='<div id="avideoModalIframeDiv" class="clearfix popover-title">';if(typeof avideoModalIframeFullScreenCloseButton==='undefined'){avideoModalIframeFullScreenCloseButtonSmall='<button class="btn btn-default pull-left" onclick="avideoModalIframeFullScreenClose();">';avideoModalIframeFullScreenCloseButtonSmall+='<i class="fas fa-chevron-left"></i>';avideoModalIframeFullScreenCloseButtonSmall+='</button>';avideoModalIframeFullScreenCloseButton=avideoModalIframeFullScreenCloseButtonSmall;}
avideoModalIframeFullScreenMaximize();if(className==='swal-modal-iframe-full-with-minimize'){html+='<button class="btn btn-default pull-right swal-modal-iframe-full-with-minimize-btn" onclick="avideoModalIframeFullScreenMinimize();">';html+='<i class="fas fa-compress-arrows-alt"></i>';html+='</button>';html+='<button class="btn btn-default pull-right swal-modal-iframe-full-with-maximize-btn" onclick="avideoModalIframeFullScreenMaximize();">';html+='<i class="fas fa-expand-arrows-alt"></i>';html+='</button>';showURL=document.location.href;closeModal=false;}
if(inIframe()){html+=avideoModalIframeFullScreenCloseButtonSmall;}else{html+=avideoModalIframeFullScreenCloseButton;html+='<img src="'+webSiteRootURL+'videos/userPhoto/logo.png" class="img img-responsive swal-modal-logo" style="max-height:34px;">';}
html+='</div>';html+='<iframe id="avideoModalIframe" frameBorder="0" class="animate__animated animate__bounceInDown" src="'+url+'"  '+iframeAllowAttributes+' ></iframe>';try{console.log('avideoModalIframeWithClassName window.history.pushState showURL',showURL);avideoPushState(showURL);}catch(e){}
var span=document.createElement("span");span.innerHTML=html;$('.swal-overlay').show();swal({content:span,closeModal:closeModal,buttons:false,className:className,onClose:avideoModalIframeRemove}).then(()=>{if(avideoModalIframeFullScreenOriginalURL){avideoPushState(avideoModalIframeFullScreenOriginalURL);avideoModalIframeFullScreenOriginalURL=false;}});setTimeout(function(){if(!isSameDomain(url)){avideoModalIframeRemove();}else{var contentLoaded=false;try{$('#avideoModalIframe').load(function(){contentLoaded=true;clearTimeout(avideoModalIframeWithClassNameTimeout);avideoModalIframeRemove();});}catch(e){}
if($('#avideoModalIframe').contents().find("body").length){contentLoaded=true;}
if(contentLoaded){clearTimeout(avideoModalIframeWithClassNameTimeout);avideoModalIframeRemove();}else{clearTimeout(avideoModalIframeWithClassNameTimeout);avideoModalIframeWithClassNameTimeout=setTimeout(function(){if(!$('#avideoModalIframe').contents().find("body").length){console.log('avideoModalIframeWithClassName content NOT loaded');url=addGetParam(url,'avideoIframe',0);if(isSameDomain(url)){document.location=url;}}},5000);}}},1000);}
function avideoPushState(url){window.history.pushState("","",url);if(typeof parent.updatePageSRC=='funciton'){console.log('avideoPushState',url);parent.updatePageSRC(url);}}
function checkIframeLoaded(id){var ifar iframeDoc=iframe.contentDocument||iframe.contentWindow.document;if(iframeDoc.readyState=='complete'){iframe.contentWindow.onload=function(){alert("I am loaded");};afterLoading();return;}
window.setTimeout(checkIframeLoaded,100);}
function avideoModalIframeIsVisible(){var modal='';if($('.swal-modal-iframe-xsmall').length){modal=$('.swal-modal-iframe-xsmall');}else if($('.swal-modal-iframe-small').length){modal=$('.swal-modal-iframe-small');}else if($('.swal-modal-iframe-large').length){modal=$('.swal-modal-iframe-large');}else if($('.swal-modal-iframe-full').length){modal=$('.swal-modal-iframe-full');}else if($('.swal-modal-iframe-full-transparent').length){modal=$('.swal-modal-iframe-full-transparent');}else if($('.swal-modal-iframe-full-with-minimize').length){modal=$('.swal-modal-iframe-full-with-minimize');}else{modal=$('.swal-modal-iframe');}
if(modal.parent().hasClass('swal-overlay--show-modal')){return true;}else{return false;}}
function avideoModalIframeRemove(){if(avideoModalIframeIsVisible()){setTimeout(function(){avideoModalIframeRemove();},1000);}else{$('.swal-content').html('');}}
function avideoResponse(response){if(typeof response==='string'){response=JSON.parse(response);}
if(response.error){if(!response.msg){if(typeof response.error==='string'){response.msg=response.error;}else{response.msg='Error';}}
avideoAlertError(response.msg);}else{if(!response.msg){response.msg='Success';}
if(response.warning){avideoToastWarning(response.msg);}else if(response.info){avideoToastInfo(response.msg);}else{avideoToastSuccess(response.msg);}}}
function avideoAleoAlert("Info",msg,'info');}
function avideoAlertError(msg){avideoAlert("Error",msg,'error');}
function avideoAlertSuccess(msg){avideoAlert("Success",msg,'success');}
function avideoTooltip(selector,text){$(selector).attr('title',text);$(selector).attr('data-toggle','tooltip');$(selector).attr('data-original-title',text);$(selector).tooltip({html:true});}
function fixAdSize(){ad_container=$('#mainVideo_ima-ad-container');if(ad_container.length){height=ad_container.css('height');width=ad_container.css('width');$($('#mainVideo_ima-ad-container div:first-child')[0]).css({'height':height});$($('#mainVideo_ima-ad-container div:first-child')[0]).css({'width':width});}}
function pladeo_ima-ad-container").is(':visible'))&&player.ima.getAdsManager().getRemainingTime()>0;}
function playerHasAds(){return($("#mainVideo_ima-ad-container").length>0);}
function pauseIfIsPlayinAds(){if(!isMobile()&&!player.paused()&&playerHasAds()&&playerIsPlayingAds()){}}
function countToOrRevesrse(selector,total){var text=$(selector).text();if(isNaN(text)){current=0;}else{current=parseInt(text);}
total=parseInt(total);if(current<=total){countTo(selector,total);}else{countToReverse(selector,total);}}
function countTo(selector,total){var text=$(selector).text();if(isNaN(text)){current=0;}else{current=parseInt(text);}
total=parseInt(total);if(!total||current>=total){$(selector).removeClass('loading');return;}
var rest=(total-current);var step=parseInt(rest/100);if(step<1){step=1;}
current+=step;$(selector).text(current);var timeout=(500/rest);setTimeout(function(){countTo(selector,total);},timeout);}
function countToReverse(selector,total){var text=$(selector).text();if(isNaN(text)){return false;}else{current=parseInt(text);}
total=parseInt(total);if(!total||current<=total){$(selector).removeClass('loading');return;}
var rest=(current-total);var step=parseInt(rest/100);if(step<1){step=1;}
current-=step;$(selector).text(current);var timeout=(500/rest);setTimeout(function(){countToReverse(selector,total);},timeout);}
if(typeof showPleaseWaitTimeOut=='undefined'){var showPleaseWaitTimeOut=0;}
var tabsCategoryDocumentHeight=0;function tabsCategoryDocumentHeightChanged(){var newHeight=$(document).height();if(tabsCategoryDocumentHeight!==newHeight){tabsCategoryDocumentHeight=newHeight;return true;}
return false;}
async function checkDescriptionArea(){$(".descriptionArea").each(function(index){if($(this).height()<$(this).find('.descriptionAreaContent').height()){$(this).find('.descriptionAreaShowMoreBtn').show();}});}
function clearCache(showPleaseWait,FirstPage,sessionOnly){if(showPleaseWait){modal.showPleaseWait();}
$.ajax({url:webSiteRootURL+'objects/configurationClear\.)+[a-z]{2,}|'+
'((\\d{1,3}\\.){3}\\d{1,3}))'+
'(\\:\\d+)?(\\/[-a-z\\d%_.~+:]*)*'+
'(\\?[;&a-z\\d%_.~+=-]*)?'+
'(\\#[-a-z\\d_]*)?$','i');return!!pattern.test(str);}
function isURL(url){return validURL(url);}
var startTimerInterval=[];async function startTimer(duration,selector,prepend){clearInterval(startTimerInterval[selector]);var timer=duration;startTimerInterval[selector]=setInterval(function(){var years=Math.floor(duration/(60*60*24*365));var days=Math.floor((duration%(60*60*24*365))/(60*60*24));var hours=Math.floor((duration%(60*60*24))/(60*60));var minutes=Math.floor((duration%(60*60))/(60));var seconds=Math.floor((duration%(60)));var text='';if(years){text+=years+'y ';}
if(days||text){text+=days+'d ';}
if(hours||text){text+=hours+'h ';}
if(minutes||text){text+=minutes+'m ';}
if(seconds||text){text+=seconds+'s ';}
if(duration<0){clearInterval(startTimerInterval[selector]);startTimerTo(duration*-1,selector);}else{$(selector).html(prepend+text);duration--;}},1000);}
var startTimerToInterval=[];function startTimerTo(durationTo,selector){clearInterval(startTimerToInterval[selector]);startTimerToInterval[selector]=setInterval(function(){var years=Math.floor(durationTo/(60*60*24*365));var days=Math.floor((durationTo%(60*60*24*365))/(60*60*24));var hours=Math.floor((durationTo%(60*60*24))/(60*60));var minutes=Math.floor((durationTo%(60*60))/(60));var seconds=Math.floor((durationTo%(60)));var text='';if(years){text+=years+'y ';}
if(days||text){text+=days+'d ';}
if(hours||text){text+=hours+'h ';}
if(minutes||text){text+=minutes+'m ';}
if(seconds||text){text+=seconds+'s ';}
$(selector).text(text);durationTo++;},1000);}
var startTimerToDateTimeOut=[];function startTimerToDate(toDate,[selector]);if(typeof _serverTime==='undefined'){getServerTime();startTimerToDateTimeOut[selector]=setTimeout(function(){startTimerToDate(toDate,selector,useDBDate)},1000);return false;}
if(typeof toDate==='string'){toDate=new Date(toDate.replace(/-/g,"/"));}
if(useDBDate){if(typeof _serverDBTimeString!=='undefined'){date2=new Date(_serverDBTimeString.replace(/-/g,"/"));}}else{if(typeof _serverTimeString!=='undefined'){date2=new Date(_serverTimeString.replace(/-/g,"/"));}}
if(typeof date2==='undefined'){date2=new Date();}
var seconds=(toDate.getTime()-date2.getTime())/1000;return startTimer(seconds,selector,toDate.toLocaleString()+'<br>');}
var _timerIndex=0;function createTimer(selector){var toDate=$(selector).text();var id=$(selector).attr('id');if(!id){_timerIndex++;id='timer_'+_timerIndex;$(selector).attr('id',id);}
startTimerToDate(toDate,'#'+id,true);}
var getServerTimeActive=0;async function getServerTime(){if(getServerTimeActive||_serverTime){return false;}
if(typeof webSiteRootURL=='undefined'){setTimeout(function(){getServerTime();},1000);return false;}
getServerTimeActive=1;var d=new Date();$.ajax({url:webSiteRootURL+'objects/getTimes.json.php',success:function(response){_serverTime=response._serverTime;_serverDBTime=response._serverDBTime;_serverTimeString=response._serverTimeString;_serverDBTimeString=response._serverDBTimeString;_serverTimezone=response._serverTimezone;_serverDBTimezone=response._serverDBTimezone;_serverSystemTimezone=response._serverSystemTimezone;setInterval(function(){_serverTime++;_serverDBTime++;_serverTimeString=new Date(_OString().slice(0,19).replace('T',' ');},1000);}});}
function clearServerTime(){_serverTime=null;_serverDBTime=null;_serverTimeString=null;_serverDBTimeString=null;}
function convertDBDateToLocal(dbDateString){if(!/[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}/.test(dbDateString)){return dbDateString;}
checkMoment();dbDateString=$.trim(dbDateString.replace(/[^ 0-9:-]/g,''));var m;if(!_serverDBTimezone){getServerTime();m=moment.tz(dbDateString);}else{_serverDBTimezone=$.trim(_serverDBTimezone);m=moment.tz(dbDateString,_serverDBTimezone).local();}
var fromNow=m.fromNow();consolelog('convertDBDateToLocal',dbDateString,_serverDBTimezone,fromNow);return fromNow;}
function convertDateFromTimezoneToLocal(dbDateString,timezone){if(!/[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}/.test(dbDateString)){return dbDateString;}
checkMoment();dbDateString=$.trim(dbDateString.replace(/[^ 0-9:-]/g,''));timezone=$.trim(timezone);var m=moment.tz(dbDateString,timezone).local();return m.format("YYYY-MM-DD HH:mm:ss");}
function checkMoment(){}
function addGetParam(_url,_key,_value){if(typeof _url!=='string'){return false;}
if(typeof _value=='undefined'||_value=='undefined'||_value==''){return _url;}
var param=_key+'='+escape(_value);var sep='&';if(_url.indexOf('?
sep='';}
_url+=sep+param;_url=removeDuplicatedGetParam(_url);return _url;}
function addQueryStringParameter(_url,_key,_value){return addGetParam(_url,_key,_value);}
function removeDuplicatedGetParam(_url){var queryParam=_url.replace(/^[^?]+\?/,'');if(queryParam==''){return _url;}
var params=queryParam.split('&'),results={};for(var i=0;i<params.length;i++){var temp=params[i].split('='),key=temp[0],val=temp[1];results[key]=val;}
var newQueryParam=[];for(var key in results){newQueryParam.push(key+'='+results[key]);}
var newQueryParamString=newQueryParam.join('&');return _url.replace(queryParam,newQueryParamString);}
function removeGetParam(_url,parameter){var queryParam=_url.replace(/^[^?]+\?/,'');if(queryParam==''){return _url;}
var params=queryParam.split('&'),results={};for(var i=0;i<params.length;i++){var temp=params[i].split('='),key=temp[0],val=temp[1];if(key!==parameter){results[key]=val;}}
var newQueryParam=[];for(var key in results){newQueryParam.push(key+'='+results[key]);}
var newQueryParamString=newQueryParam.join('&');queryParam='?'+queryParam;if(!empty(newQueryParamString)){newQueryParamString='?'+newQueryParamString;}
return _url.replace(queryParam,newQueryParamString);}
function readFileCroppie(input,crop){if($(input)[0].files&&$(input)[0].files[0]){var reader=new FileReader();reader.onload=function(e){crop.croppie('bind',{url:e.target.result}).then(function(){});}
reader.readAsDataURL($(input)[0].files[0]);}else{avideoAlert("Sorry - you're browser doesn't support the FileReader API");}}
function getCroppie(uploadCropObject,callback,width,hresult',{type:'base64',size:{width:width,height:height},format:'png'}).then(function(resp){eval(callback+"(resp);");}).catch(function(err){eval(callback+"(null);");});}
async function setToolTips(){var selector='[data-toggle="tooltip"]';if(!$(selector).not('.alreadyTooltip').length){return false;}
try{$(selector).not('.alreadyTooltip').tooltip({container:'body',html:true});$(selector).not('.alreadyTooltip').on('click',function(){var t=this;setTimeout(function(){try{$(t).tooltip('hide');}catch(e){}},2000);});$(selector).addClass('alreadyTooltip');}catch(e){console.log('setToolTips',e);setTimeout(function(){setToolTips();},1000);}}
function avideoSocketIsActive(){if(typeof isSocketActive=='function'){return isSocketActive();}else{return false;}}
function isMediaSiteURL(url){if(validURL(url)){if(url.match(/youtube/i)||url.match(/youtu\.be/i)||url.match(/vimeo/i)||url.match(/dailymotion/i)||url.match(/metacafe/i)||url.match(/vid\.me/i)||url.match(/rutuvideoEmbed/i)||url.match(/videoEmbeded/i)){return true;}}
return false;}
function avideoSocket(){if(typeof parseSocketResponse==='function'){parseSocketResponse();}}
function changeVideoStatus(videos_id,status){modal.showPleaseWait();$.ajax({url:webSiteRootURL+'objects/videoStatus.json.php',data:{"id":[videos_id],"status":status},type:'post',success:function(response){modal.hidePleaseWait();if(response.error){avideoToast("Sorry!",response.msg,"error");}else{for(var item in response.status){var videos_id=response.status[item].videos_id
$(".getChangeVideoStatusButton_"+videos_id).removeClass('status_a');$(".getChangeVideoStatusButton_"+videos_id).removeClass('status_u');$(".getChangeVideoStatusButton_"+videos_id).removeClass('status_i');$("s_s');$(".getChangeVideoStatusButton_"+videos_id).addClass('status_'+response.status[item].status);}}}});}
function avideoAjax(url,data){avideoAjax2(url,data,true);}
function avideoAjax2(url,data,pleaseWait){if(pleaseWait){modal.showPleaseWait();}
$.ajax({url:url,data:data,type:'post',success:function(response){if(pleaseWait){modal.hidePleass(response.msg);if(type){eval(response.eval);}}}});}
functive");}
eventer('beforeunload',function(e){_addViewAsync();},false);eventer('visibilitychange',function(){if(document.visibilityState==='hidden'){_addViewAsync();}});function socketClearSessionCache(json){clearCache(false,0,1);}
async function animateChilds(selector,type,delay){var step=delay;$(selector).children().each(function(){var $currentElement=$(this);$currentElement.addClass('animate__animated');$currentElement.addClass(type);$currentElement.css('-webkit-animation-delay',step+"s");$currentElement.css('animation-delay',step+"s");step+=delay;});}
function goToURLOrAlertError(jsonURL,data){modal.showPleaseWait();$.ajax({url:jsonURL,method:'POST',data:data,success:function(response){if(response.error){avideoAlertError(response.msg);modal.hidePleaseWait();}else if(response.url){if(response.msg){avideoAlertInfo(response.msg);}
document.location=response.url;setTimeout(function(){modal.hidePleaseWait();},3000)}else{avideoResponse(response);modal.hidePleaseWait();}}});}
function downloadURL(url,filename){filename=clean_name(filename)+'.'+clean_name(url.split(/[#?]/)[0].split('.').pop().trim());console.log('downloadURL start ',url,filename);var loaded=0;var contentLength=0;fetch(url).then(response=>{avideoToastSuccess('Download Start');const contentEncoding=response.headers.get('content-encoding');const contentLength=response.headers.get(contentEncoding?'x-file-size':'content-length');if(contentLength===null){throw Error('Response size header unavailable');}
const total=parseInt(contentLength,10);let loaded=0;return new Response(new ReadableStream({start(controller){const reader=response.body.getReader();read();function read(){reader.read().then(({done,value})=>{if(done){controller.close();return;}
loaded+=value.byteLength;var percentageLoacentageLoaded)g ... '+percentageLoaded+'%');controller.enqueue(value);read();}).catch(error=>{console.error(error);controller.error(error)})}}}));}).then(response=>response.blob()).then(blob=>{const urlFromBlob=window.URL.createObjectURL(blob);console.log('downloadURL',url,filename,blob);const a=document.createElement('a');a.style.display='none';a.href=urlFromBlob;a.download=filename;document.body.appendChild(a);a.click();window.URL.revokeObjectURL(url);modal.hidePleaseWait();avideoToastSuccess('Download complete '+filename);}).catch(function(err){console.log(err);addQueryStringParameter(url,'download',1);addQueryStringParameter(url,'title',filename);document.location=url;});}
var downloadURLOrAlertErrorInterval;function downloadURLOrAlertError(jsonURL,data,filename,FFMpegProgress){if(empty(jsonURL)){console.log('downloadURLOrAlertError error empty jsonURL',jsonURL,data,filename,FFMpegProgress);return false;}
modal.showPleaseWait();avideoToastInfo('Converting');console.log('downloadURLOrAlertError 1',jsonURL,FFMpegProgress);checkFFMPEGProgress(FFMpegProgress);$.ajax({url:jsonURL,method:'POST',data:data,success:function(response){clearInterval(downloadURLOrAlertErrorInterval);if(response.error){avideoAlertError(response.msg);modal.hidePleaseWait();}else if(response.url){if(response.msg){avideoAlertInfo(response.msg);}
if(isMobile()){window.open(response.url,'_blank');avideoToastInfo('Opening file');}else{downloadURL(response.url,filename);}}else{avideoResponse(response);modal.hidePleaseWait();}}});}
function checkFFMPEGProgress(FFMpegProgress){if(empty(FFMpegProgress)){return false;}
$.ajax({url:FFMpegProgress,success:function(response){if(typeof response.progress.progress!=='undefined'){var text='Converting ...';if(typeof response.progress.progress!=='undefined'){text+=response.progress.progress+'% ';modal.setProgress(response.progress.progress);}
modal.setText(text);if(response.progress.progress!==100){setTimeout(function(){checkFFMPEGProgress(FFMpegProgress);},1000);}}}});}
function startGoogleAd(selector){if(isVisibleAndInViewport(selector)){try{(adsbygoogle=window.adsbygoogle||[]).push({});}catch(e){}}else{setTimeout(function(){startGoogleAd(selector);},1000);}}
function isVisibleAndInViewport(selector){if($(selector).is(":visible")){var elementTop=$(selector).offset().top;var elementBottom=elementTop+$(selector).outerHeight();var viewportTop=$(window).scrollTop();var viewportBottom=viewportTop+$(window).height();return elementBottom>viewportTop&&elementTop<viewportBottom;}else{return false;}}
var playAudioTimeout=[];var showEnableAudioMessage=true;var audioList=[];function playAudio(mp3){clearTimeout(playAudioTimeout[mp3]);playAudioTimeout[mp3]=setTimeout(function(){var audio=new Audio();audio.autoplay=true;audio.src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV";audio.src=mp3;audioList[mp3]=audio;const promise=audio.play();if(promise!==undefined){promise.then((response)=>{plingEnabled=false;setTimeout(function(){plingEnabled=true;},3000);}).catch(error=>{if(showEnableAudioMessage){showEnableAudioMessage=false;avideoAlertInfo('Click here to enable audio');}});}},500);return playAudioTimeout[mp3];}
function stopAllAudio(){var audios=document.getElementsByTagName('audio');for(var i=0,len=audios.length;i<len;i++){if(audios[i]!=e.target){audios[i].pause();}}
for(var i in audioList){if(typeof audioList[i]==='object'){audioList[i].pause();}}}
function isSameDomain(url){var hrefURL,pageURL;hrefURL=new URL(url);pageURL=new URL(window.location);if(url.startsWith("/")||hrefURL.host===pageURL.host){return true;}
return false;}
function empty(data){var type=typeof(data);if(type=='undefined'||data===null){return true;}else if(type==='function'){return false;}else if(type==='number'){return data==0;}else if(type==='boolean'){return!data;}else if(type==='string'){return /^[\s]*$/.test(data);}else if(type!=='undefined'){return Object.keys(data).length==0;}
for(var i in data){if(data.hasOwnProperty(i)){return false;}}
return true;}
function in_array(needle,haystack){var length=haystack.length;for(var i=0;i<length;i++){if(haystack[i]==needle)
return true;}
return false;}
function replaceLast(find,replace,string){var lastIndex=string.lastIndexOf(find);if(lastIndex===-1){return string;}
var beginString=string.substring(0,lastIndex);var endString=string.substring(lastIndex+find.length);return beginString+replace+endString;}
function getCursorPos(input){if("selectionStart"in input&&document.activeElement==input){return{start:input.selectionStart,end:input.selectionEnd};}else if(input.createTextRange){var sel=document.selection.createRange();if(sel.parentElement()===input){var rng=input.createTextRange();rng.moveToBookmark(sel.getBookmark());for(var len=0;rng.compareEndPoints("EndToStart",rng)>0;rng.moveEnd("character",-1)){len++;}
rng.setEndPoint("StartToStart",input.createTextRange());for(var pos={start:0,end:len};rng.compareEndPoints("EndToStart",rng)>0;rng.moveEnd("character",-1)){pos.start++;pos.end++;}
return pos;}}else if(document.getSelection){var sel=document.getSelection();return{start:sel.anchorOffset,end:sel.focusOffset};}
return-1;}
function isUserOnline(users_id){users_id=parseInt(users_id);if(typeof users_id_online==='undefined'||empty(users_id_online)){return false;}
if(typeof users_id_online[users_if(empty(users_id_online[users_id].resourceId)){return false;}
return users_id_online[users_id];}
function isReadyToCheckIfIsOnline(){return!empty(users_id_online);}
var addAtMentionActive=false;function addAtMention(selector){var emojioneArea=false;if(typeof $(selector).data("emojioneArea")!=='undefined'){emojioneArea=selector;selector='.emojionearea-editor';}
var SpaceKeyCode=' '.charCodeAt(0);var AtMatcher=/^@.+/i;$(selector).on("keydown",function(event){if(!$(this).autocomplete("instance").menu.active){if(event.keyCode===SpaceKeyCode||event.keyCode===$.ui.keyCode.TAB||event.keyCode===$.ui.keyCode.ENTER||event.keyCode===$.ui.keyCode.ESCAPE){$(this).autocomplete("close");}}else{if((event.keyCode===$.ui.keyCode.TAB)){event.preventDefault();}}}).autocomplete({minLength:2,source:function(request,response){var pos=getCursorPos($(selector)[0]);stringStart=request.termtringStart.split(/\s+/).pop();if(AtMatcher.test(term)){$.ajax({url:webSiteRootURL+"objects/mention.json.php",data:{term:term},success:function(data){response(data);}});}else{return false;}},focus:function(){return false;},select:function(event,ui){addAtMentionActive=true;setTimeout(function(){addAtMentionActive=false;},200);if(emojioneArea){this.value=$(emojioneArea).data("emojioneArea").getText();}
var pos=getCursorPos($(selector)[0]);stringStart=this.value.substring(0,pos.end);stringEnd=this.value.substring(pos.end);var terms=stringStart.split(/\s+/);var word=terms.pop();replace='@'+ui.item.value;this.value=replaceLast(word,'@'+ui.item.value,stringStart)+stringEnd;if(emojioneArea){$(emojioneArea).data("emojioneArea").setText(this.value);setTimeout(function(){contentEditableElement=document.getElementsByClassName("emojionearea-editor")[0];range=document.createRange();range.selectNodeContents(contentEditableElement);range.collapse(false);selection=window.getSelection();selection.removeAllRanges();selection.addRange(range);},50);}
return false;},create:function(){$(this).data('ui-autocomplete')._renderItem=function(ul,item){return $('<li>'+item.label+'</li>').appendTo(ul);};},position:{collision:"flip"}});}
var hidePleaseWaitTimeout={};var pleaseWaitIsINUse={};var pleaseNextIndex=0;function getPleaseWait(){return(function(){var index=pleaseNextIndex;pleaseNextIndex++;var selector="#pleaseWaitDialog_"+index;var pleaseWaitDiv=$(selector);if(pleaseWaitDiv.length===0){if(typeof avideoLoader=='undefined'){avideoLoader='';}
pleaseWaitDiv=$('<div id="pleaseWaitDialog_'+index+'" class="pleaseWaitDialog modal fade"  data-backdrop="static" data-keyboard="false">'+avideoLoader+'<h2 style="display:none;">Processing...</h2><div class="progress" style="display:none;"><div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div></div></div>').appendTo('body');}
return{showPleaseWait:function(){if(!empty(pleaseWaitIsINUse[index])){console.log('showPleaseWait is in use',index,new Error().stack);return false;}
pleaseWaitIsINUse[index]=true;$(selector).removeClass('loaded');$(selector).find('.progress').hide();this.setText('Processing...');$(selector).find('h2').hide();this.setProgress(0);$(selector).find('.progreseWait:function(){clearTimeout(hidePleaseWaitTimeout[index]);hidePleaseWaitTimeout[index]=setTimeout(function(){loaded');},showPleaseWaitTimeOut/2);setTimeout(function(){pleaseWaitDiv.modal('hide');},showPleaseWaitTimeOut);setTimeout(function(){pleaseWaitIsINUse[index]=false;},showPleaseWaitTimeOut+1000);},500);},setProgress:function(valeur){var progressSelector=selector+' .progress';$(progressSelector).slideDown();$(selector).find('.progress-bar').css('width',valeur+'%').attr('aria-valuenow',valeur);},setText:function(text){var textSelector=selector+' h2';$(textSelector).slideDown();$(textSelector).html(text);},getProgressSelector:function(){var progressSelector=selector+' .progress';return progressSelector;},};})();}
$(document).ready(function(){getServerTime();addViewFromCookie();checkDescriptionArea();setInterval(function(){checkDescriptionArea();},3000);Cookies.set('timezone',timezone,{path:'/',expires:365});tabsCategoryDocumentHeight=$(document).height();if(typeof $('.nav-tabs-horizontal').scrollingTabs=='function'){$('.nav-tabs-horizontal').scrollingTabs();}
setInterval(function(){if(tabsCategoryDocumentHeightChanged()){if(typeof $('.nav-tabs-horizontal').scrollingTabs=='function'){$('.nav-tabs-horizontal').scrollingTabs('refresh');}}},2000);modal=getPleaseWait();try{$('[data-toggle="popover"]').popover();}catch(e){}
setInterval(function(){setToolTips();},5000);lazyImage();$('#clearCache, .clearCacheButton').on('click',function(ev){ev.preventDefault();clearCache(true,0,0);});$('.clearCacheFirstPageButton').on('click',function(ev){ev.preventDefault();clearCache(true,1,0);});$('#generateSiteMap, .generateSiteMapButton').on('click',function(ev){ev.preventDefault();modal.showPleaseWait();$.ajax({url:webSiteRootURL+'objects/configurationGenerateSiteMap.json.php',success:function(response){if(!response.error){avideoAlert("Congratulations!","File created!","success");}else{if(response.msg){avideoAlert("Sorry!",response.msg,"error");}else{avideoAlert("Sorry!","File NOT created!","error");}}
modal.hidePleaseWait();}});});setPlayerListners();$('.duration:contains("00:00:00"), .duration:contains("EE:EE:EE")').hide();checkSocketStatus();checkSavedCookies();$("input.saveCookie").change(function(){var auto=$(this).prop('checked');Cookies.set($(this).attr("name"),auto,{path:'/',expires:365});});if(isAutoplayEnabled()){$("#autoplay").prop('checked',true);}
$("#autoplay").change(function(){checkAutoPlay();});checkAutoPlay();_alertFromGet('error');_alertFromGet('msg');_alertFromGet('success');_alertFromGet('toast');});/*!
* Sanitize an HTML string
* (c) 2021 Chris Ferdinandi, MIT License, https://gomakethings.com
* @param {String} str The HTML string to sanitize
* @param {Boolean} nodes If true, returns HTML nodes instead of a string
* @return {String|NodeList} The sanitized string or nodes
*/function cleanHTML(str,nodes){function stringToHTML(){let parser=new DOMParser();let doc=parser.parseFromString(str,'text/html');return doc.body||document.createElement('body');}
function removeScripts(html){let scripts=html.querySelectorAll('script');for(let script of scripts){script.remove();}}
function isPossiblyDangerous(name,value){let val=value.replace(/\s+/g,'').toLowerCase();if(['src','href','xlink:href'].includes(name)){if(val.includes('javascript:')||val.includes('data:text/html'))return true;}
if(name.startsWith('on'))return true;}
function removeAttributes(elem){let atts=elem.attributes;for(let{name,value}of atts){if(!isPossiblyDangerous(name,value))continue;elem.removeAttribute(name);}}
function clean(html){let nodes=html.children;for(let node of nodes){removeAttributes(node);clean(node);}}
let html=stringToHTML();removeScripts(html);clean(html);return nodes?html.childNodes:html.innerHTML;}
async function _alertFromGet(type){if(urlParams.has(type)){var msg=urlParams.get(type);var div=document.createElement("div");div.innerHTML=cleanHTML(msg,false);var text=div.textContent||div.innerText||"";if(!empty(text)){switch(type){case 'error':avideoAlertError(text);break;case 'msg':avideoAlertInfo(text);break;case 'success':avideoAlertSuccess(text);break;case 'toast':avideoToast(text);break;}
var url=removeGetParam(window.location.href,type);window.history.pushState({},document.title,url);}}}
async function checkSocketStatus(){if(typeof conn!='undefined'){if(avideoSocketIsActive()){$(".socketStatus").removeClass('disconnected');}else{$(".socketStatus").addClass('disconnected');}}
setTimeout(function(){checkSocketStatus();},1000);}
async function checkSavedCookies(){$("input.saveCookie").each(function(){var mycookie=Cookies.get($(this).attr('name'));if(mycookie&&mycookie=="true"){$(this).prop('checked',mycookie);}});}
function openWindow(url){var windowObject=window.open(url,'_blank').focus();return windowObject;}
function openWindowWithPost(url,name,params,strWindowFeatures){if(empty(strWindowFeatures)){strWindowFeatures="directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,resizable=no,height=600,width=800";}
var windowObject=window.open("about:blank",name,strWindowFeatures);postFormToTarget(url,name,params);return windowObject;}
function postFormToTarget(url,name,params){var form=document.createElement("form");form.setAttribute("method","post");form.setAttribute("action",url);form.setAttribute("target",name);for(var i in params){if(params.hasOwnProperty(i)){var input=document.createElement('input');input.type='hidden';input.name=i;input.value=params[i];form.appendChild(input);}}
document.body.appendChild(form);form.submit();document.body.removeChild(form);}
function fixAdSize(){ad_container=$('#mainVideo_ima-ad-container');if(ad_container.length){height=ad_container.css('height');width=ad_container.css('width');$($('#mainVideo_ima-ad-container div:first-child')[0]).css({'height':height});$($('#mainVideo_ima-ad-container div:first-child')[0]).css({'width':width});}}
var videoJSRecreateSourcesTimeout;async function videoJSRecreateSources(defaultSource){clearTimeout(videoJSRecreateSourcesTimeout);if(empty(player)||empty(player.options_)){videoJSRecreateSourcesTimeout=setTimeout(function(){videoJSRecreateSources(defaultSource);},1000);console.log('videoJSRecreateSources player is empty');return false;}
var newSources=[];$("#mainVideo source").each(function(index){var res=$(this).attr("res");if(empty(res)){res='auto';}
var source={res:$(this).attr("res"),label:$(this).attr("label"),type:$(this).attr("type"),src:$(this).attr("src"),};newSources.push(source);});if(empty(newSources)){console.log('videoJSRecreateSources: source are empty');return false;}
player.options_.sources=newSources;if(!empty(player.updateSrc)){player.updateSrc(player.options_.sources);}
if(!empty(player.currentResolution)&&!empty(defaultSource)){player.currentResolution(defaultSource.label,null);}
if(!empty(fixResolutionMenu)){fixResolutionMenu();}}
var AvideoJSErrorReloadedTimes=0;function AvideoJSError(code){switch(code){case 1:case 2:case 3:case 4:if(empty(AvideoJSErrorReloadedTimes)){AvideoJSErrorReloadedTimes++;console.log('AvideoJSError reloadVideoJS in 2 sec');setTimeout(function(){},2000);}else if(AvideoJSErrorReloadedTimes===1){console.log('AvideoJSError reloadDefaultHTML5Player');AvideoJSErrorReloadedTimes++;}
break;}}
function reloadDefaultHTML5Player(){var videoElement;if($('#mainVideo video').length){videoElement=$('#mainVideo video').clone();}else if($('#mainVideo').length){videoElement=$('#mainVideo').clone();}else{return false;}
videoElement.attr('id','mainVideo');videoElement.attr('controls','controls');videoElement.removeClass('vjs-tech');player.dispose();$("#main-video").empty();$("#main-video").appeypeof p==='object'&&typeof p.then==='function'){return true;}
return false;}
function replaceAll(str,find,replace){return str.replace(new RegExp(find,'g'),replace);}
function getExtension(url){if(empty(url)){return false;}
let domain=(new URL(url));var extension=domain.pathname.split('.').pop().toLowerCase();return extension;}
function getMimeType(url){if(empty(url)){return false;}
var extension=getExtension(url);var type='text/plain';if(extension==='js'){type='application/javascript';}else if(extension==='css'){type='text/css';}else if(extension==='ico'){type='image/x-icon';}else if(extension==='jpg'||extension==='jpeg'){type='image/jpeg';}else if(extension==='gif'){type='image/gif';}else if(extension==='webp'){type='image/webp';}else if(extension==='woff'){type='font/woff';}else if(extension==='woff2'){type='font/woff2';}else if(extension==='pdf'){type='application/pdf';}else if(extension==='zip'){type='application/zip';}
return type;}
function isValidURL(value){if(empty(value)){return false;}
if(/^(ws|wss):\/\//i.test(value)){return true;}
if(/^(https?|ftp):\/\//i.test(value)){return true;}
return /^(?:(?:(?:https?|ftp|ws|wss):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(value);}
function blobToURL(blob,type){blobtURL!=null){src=window.webkitURL.createObjectURL(blob);}else{src=window.URL.createObjectURL(blob);}
return src;}
function isOnline(){return window.navigator.onLine;}
var notifyInputIfIsOutOfBounds_removeClassTImeout;var notifyInputIfIsOutOfBounds_animateClassTImeout;function notifyInputIfIsOutOfBounds(selector,min_length,max_length){clearTimeout(notifyInputIfIsOutOfBounds_removeClassTImeout);clearTimeout(notifyInputIfIsOutOfBounds_animateClassTImeout);var text=$(selector).val();var parent=$(selector).parent();var animationInfo='animate__headShake';var animationError='animate__shakeX';var animationWarning='animate__headShake';parent.removeClass('has-error');parent.removeClass('has-warning');parent.removeClass('has-info');parent.removeClass('has-success');parent.removeClass('has-feedback');$(selector).removeClass(animationInfo);$(selector).removeClass(animationError);$(selector).removeClass(animationWarning);$(selector).addClass('animate__animated');parent.find('.help-block').remove();parent.find('.form-control-feedback').remove();var isRequired=min_length==0||!empty($(selector).attr('required'));var icon='';var feedback='';var force_length=parseInt($(selector).attr('maxlength'));if(text.length==0&&!isRequired){}else if(isTextOutOfBounds(text,min_length,max_length,isRequired)){var feedbackIcon='fas fa-exclamation';parent.addClass('has-feedback');if(!empty(force_length)&&text.length>=force_length){text=text.substr(0,force_length);$(selector).val(text);icon='<i class="fas fa-exclamation-triangle"></i>';parent.addClass('has-info');notifyInputIfIsOutOfBounds_animateClassTImeout=setTimeout(function(){$(selector).addClass(animationInfo);},500);}else if(text.length<min_length||!isRequired){icon='<i class="fas fa-exclamation-circle"></i>';parent.addClass('has-warning');notifyInputIfIsOutOfBounds_animateClassTImeout=setTimeout(function(){$(selector).addClass(animationWarning);},500);}else{icon='<i class="fas fa-exclamation-circle"></i>';parent.addClass('has-error');feedbackIcon='fas fa-times';notifyInputIfIsOutOfBounds_animateClassTImeout=setTimeout(function(){$(selector).addClass(animationError);},500);}
feedback='<i class="'+feedbackIcon+' form-control-feedback" style="right:15px;"></i>';}else{if(!empty(force_length)&&text.length==force_length){notifyInputIfIsOutOfBounds_animateClassTImeout=setTimeout(function(){$(selector).addClass(animationInfo);},500);}
icon='<i class="fas fa-check-circle"></i>';parent.addClass('has-success');}
notifyInputIfIsOutOfBounds_removeClassTImeout=setTimeout(function(){$(selector).removeClass(animationInfo);$(selector).removeClass(animationError);$(selector).removeClass(animationWarning);},1000);parent.append(feedback+'<small class="help-block">'+icon+' '+text.length+' characters of '+min_length+'-'+max_length+' recommended</small>');}
function passStrengthCheck(selector){var minLen=6;var pass=$(selector).val();var strength=0;var strengthMsg=[];if(pass.length>minLen){strength++;}else{strengthMsg.push('Min length '+minLen);}
if(/[a-z]+/.test(pass)){strength++;}else{strengthMsg.push('Lower case letters');}
if(/[A-Z]+/.test(pass)){strength++;}else{strengthMsg.push('Upper case letters');}
if(/[0-9]+/.test(pass)){strength++;}else{strengthMsg.push('Numbers');}
if(/[^a-z0-9]+/i.test(pass)){strength++;}else{strengthMsg.push('Special chars');}
return{strength:strength,strengthMsg:strengthMsg};}
function passStrengthCheckInput(selector){var strengthCheck=passStrengthCheck(selector);var msg=strengthCheck.strengthMsg;var parent=$(selector).parent();parent.removeClass('has-error');parent.removeClass('has-warning');parent.removeClass('has-success');avideoTooltip(selector,'');var pass=$(selector).val();if(empty(pass)){return false;}
switch(strengthCheck.strength){case 0:case 1:case 2:parent.addClass('has-error');break;case 3:case 4:parent.addClass('has-warning');break;case 5:parent.addClass('has-success');breakector,'Strength: '+text);}
return true;}
function passStrengthCheckInputKeyUp(selector){$(selector).keyup(function(){passStrengthCheckInput('#'+$(this).attr('id'));});}
function setupFormElement(selector,min_length,max_length,force_length,isRequired){$(selector).attr('min_length',min_length);$(selector).attr('max_length',max_length);if(!isRequired){$(selector).removeAttr('required');}else{$(selector).attr('required','required');}
if(force_length){$(selector).attr('maxlength',max_length);$(selector).attr('minlength',min_length);}
$(selector).keyup(function(){notifyInputIfIsOutOfBounds('#'+$(this).attr('id'),$(this).attr('min_length'),$(this).attr('max_length'));});}
var notifyInputIfIsWrongFormat_removeClassTImeout;var notifyInputIfIsWrongFormat_animateClassTImeout;function notifyInputIfIsWrongFormat(_this,isValid){clearTimeout(notifyInputIfIsWrongFormat_removeClassTImeout);clearTimeout(notifyInputIfIsWrongFormat_animateClassTImeout);var text=$(_this).val();var parent=$(_this).parent();var animationError='animate__shakeX';var feedback='';parent.removeClass('has-error');parent.removeClass('has-success');$(_this).removeClass(animationError);$(_this).addClass('animate__animated');parent.find('.help-block').remove();parent.find('.form-control-feedback').remove();if(!isValid){feedbackIcon='fas fa-times';parent.addClass('has-error');notifyInputIfIsWrongFormat_animateClassTImeout=setTimeout(function(){$(_this).addClass(animationError);},1000);}else{feedbackIcon='fas fa-check';parent.addClass('hasform-control-feedback" style="top: 25px;right:15px;"></i>';notifyInputIfIsWrongFormat_removeClassTImeout=setTimeout(function(){$(_this).removeClass(animationError);},1000);parent.append(feedback);$(_this).val(text);}
function setupMySQLInput(selector){if(typeof $(selector).inputmask!=='function'){addScript(webSiteRootURL+'node_modules/inputmask/dist/jquery.inputmask.min.js');setTimeout(function(){setupMySQLInput(selector);},1000);return false;}
$(selector).inputmask({mask:"9999-99-99 99:99:99",onincomplete:function(buffer,opts){notifyInputIfIsWrongFormat($(this),false);},oncomplete:function(buffer,opts){notifyInputIfIsWrongFormat($(this),true);}});}
function isTextOutOfBounds(text,min_length,max_length,isRequired){if(empty(text)){if(!empty(min_length)&&isRequired){return true;}else{return false;}}
if(text.length<min_length){return true;}
if(text.length>max_length){return true;}
return false;}
async function setVideoSuggested(videos_id,isSuggested){modal.showPleaseWait();return new Promise((resolve,reject)=>{$.ajax({url:webSiteRootURL+'objects/sSuggested},type:'post',success:function(data){modal.hidePleaseWait();avideoResponse(data);resolve(data)},error:function(error){modal.hidePleaseWait();reject(error)},})})}
function toogleVideoSuggested(btn){var videos_id=$(btn).attr('videos_id');var isSuggested=$(btn).hasClass('isSuggested');setVideoSuggested(videos_id,!isSuggested).then((data)=>{if(!isSuggested){$(btn).removeClass('isNotSuggested('isSuggested btn-warning');}else{$(btn).addClass('isNotSuggested btn-default');$(btn).removeClasvalue,{path:'/',expires:exdays});}
function getCookie(cname){return Cookies.get(cname);}
function delay(time){return new Promise(resolve=>setTimeout(resolve,time));}
function arrayToTemplate(itemsArray,template){if(typeof itemsArray=='function'){return '';}
if(typeof template!=='string'){console.error('arrayToTemplate',typeof template,template);return '';}
for(var search in itemsArray){var replace=itemsArray[search];if(typeof replace=='function'){continue;}
template=template.replace(new RegExp('{'+search+'}','g'),replace);}
template=template.replace(new RegExp('{[^\}]}','g'),'');return template;}
function addScript(src){if(!empty(src)){var localScripts=$("script");var scriptFound=false;localScripts.each(function(){var _src=$(this).attr('src');if(src===_src){scriptFound=true;return false;}});if(!scriptFound){console.log('addScript',src);$('<script src="'+src+'" type="text/javascript"></script>').appendTo(document.body);}else{console.log('addScript already added ',src);}}}
function avideoLogoff(redirect){sendAVideoMobileLiveStreamerMessage('logoff','');if(redirect){document.location=webSiteRootURL+'logoff';}}
async function sendAVideoMobileLiveStreamerMessage(type,value){if(typeof window.flutter_inappwebview!=='undefined'){if(typeof window.flutter_inappwebview.callHandler=='function'){for(i=0;i<10;i++){response=await window.flutter_inappwebview.callHandler('AVideoMobileLiveStreamer'+i,{type:type,value:value,instanceIndex:i});if(response!==null){console.log('sendAVideoMobileLiveStreamerMessage executed',i,response,type,value);break;}else{conse,value);}}}else{console.log('sendAVideoMobileLiveStreamerMessage will try again',type,value);setTimeout(function(){sendAVideoMsage({type:type,value:value},'*');}}
window.addEventListener("flutterInAppWebViewPlatformReady",function(event){sendAVideoMobileLiveStreamerMessage('APPIsReady',1lobal|tributes)}},{attributes:{value:Object.freeze(defaultAttributes)},converter:{value:Object.freeze(converter)}})}
var api=init(defaultCon",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e},n(t).on("load",functittr("data-method"))}),t.lazy(ource>").one("error",c).attr(function(t){a.html(t).attr("s e(!1)})}(window.jQuery||winddata-srcset"),d)}).appendTo(it"],"script",function(t,a){"s"===t[0].tagName.toLowerCase()?(t.attr("src","https://player.vimettps://www.youtube"+(e?"-nocookie":"")+".com/embed/"+t.attr("data-src")+"?rel=0&oion:"bottom-left",bgColor:!1,textColor:!1,textAlign:"left",icon:!1,beforeShow:function(){},afterShown:function(){},beforeHide:function(){},afterHidden:function(){}}}(jQuery,window,document);