!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[4859],{26898:(e,n,t)=>{t.d(n,{L:()=>a});var o=t(46244),l=t(78667),a=()=>{var e=(0,l.bp)().apiFetch;return(0,o.D)({mutationFn:n=>e("/v2/blogpacks/follow",{method:"POST",body:{pack_id:n.id}})})}},50330:(e,n,t)=>{t.d(n,{n:()=>c});var o=t(29860),l=t(10274),a=t(78667),s=t(68346),i=t(61238),r=t(2629),c=e=>{var n,t=e.id,c=(0,a.bp)()._c,d=(0,l.Kx)(t).data;if(!d)return null;var m=d.blogs,g=m.length>0,u=d.avatar.length>0,h=m.filter(i.Uh),b=g&&h.length>0&&h.length<4;return n=u||b?new s.Z(u?d.avatar:h[0].avatar).getLargestImage():(0,i.s5)(t),d&&(0,r.jsx)(o.Z,{title:c("Metadata title for a collection. The tokens are the name of the collection and the collection creator.","%1$s collection on Tumblr by %2$s",[d.name,d.owner.name]),description:d.description||c("Metadata description for a collection. The token is the name of the collection creator.","A collection created by %1$s",[d.owner.name]),imageUrl:n&&n.url,twitterCardType:"summary",openGraph:{image:n}})}},28070:(e,n,t)=>{t.d(n,{A:()=>m});var o=t(18997),l=t(6135),a=t(10274),s=t(75868),i=t(37236),r=t(78667);let c={blogList:"T0zmv"};var d=t(2629),m=e=>{var n,t=e.id,m=(0,r.bp)(),g=m._c,u=m.logEvent,h=(0,a.Kx)(t),b=h.isError,x=h.isPending,f=h.data;if(b)return null;if(x||!f)n=(0,d.jsx)(l.Z,{centerOrientation:"horizontal",small:!0});else{if(0===f.blogs.length)return null;n=(0,d.jsx)("div",{className:c.blogList,children:f.blogs.map(e=>{var n,t;return(0,d.jsx)(o.Z,{avatar:null!==(n=e.avatar)&&void 0!==n?n:[],avatarShape:i.o.Circle,blogName:e.name,blogTitle:null!==(t=e.title)&&void 0!==t?t:"",blogUrl:e.url,noHover:!0,noGutters:!0,onClick:()=>u({eventName:"CollectionsBlogClick"})},e.uuid)})})}return(0,d.jsx)(s.R,{title:g("List of blogs included in a collection","Blogs"),children:n})}},29392:(e,n,t)=>{t.d(n,{g:()=>A});var o=t(6135),l=t(10274),a=t(45222),s=t(17287),i=t(54382),r=t(78667),c=t(51272),d=t(17276),m=t.n(d),g=t(33970),u=t.n(g),h=t(5754),b=t.n(h),x=t(44009),f=t(50213),v=t(93853),p=(0,t(36343).q)("share-new-labs");p.defaultProps={size:{width:19,height:18}};var w=t(23326),j=t(18488),N=t(93804),C=t(26898),k=t(90127),y=t(32415),L=t(95004),I=t(78994),B=t(42580),_=t(58849),Z=t(93613),E=t(34056),S=t(63583),T=t.n(S);let F={main:"yu39u",button:"GNXWn",followAllButton:"mTesj",editButton:"A6S2n",shareButton:"fXkn7",dialogButtons:"BQiQJ",cancelButton:"_kJmQ",closeButton:"NOWK9"};var M=t(2629),D=e=>{var n=e.className,t=e.id,o=(0,r.bp)(),a=o._c,s=o._t,i=o.logEvent,c=(0,l.Kx)(t).data,d=(0,y.Pc)().data,g=(0,C.L)().mutateAsync,h=(0,I.s0)(),S=(0,Z.V)().toggleToast,D=(0,_.h)().openLoginWall,O=(0,N.Js)(),P=(0,L.useState)(!1),A=u()(P,2),J=A[0],R=A[1],W=(0,L.useState)(!1),$=u()(W,2),V=$[0],z=$[1],K=Y=if(!d||!c)return null;var H=d.isLoggedIn&&d.user.name===c.owner.name,U=0===c.blogs.length&&0===c.tagpack.length,G=()=>{var e,n;return m()().async(function(o){for(;;)switch(o.prev=o.next){case 0:if(e=0===c.blogs.length,n=(0,k.Zo)({tabId:e?"stuff_for_you":"following"}),!d.isLoggedIn){o.next=11;break}return Y(),o.next=6,m()().awrap(g({id:t}));case 6:S(a("Message visible after user follow a collection","You are now following all blogs and tags from this collection!")),h(n),i({eventName:"CollectionsFollow",eventDetails:{flow:"collection-details"}}),o.next=12;break;case 11:D({form:B.c.Register,source:"collections",collectionFlow:{collectionId:c.id,redirect:n}});case 12:case"end":return o.stop()}},null,null,null,Promise)};return(0,M.jsxs)(M.Fragment,{children:[J&&(0,M.jsxs)(f.Z,{centerContent:!0,onGlassClick:Y,opacity:.95,children:[(0,M.jsx)(v.ZP,{disable:v.z9}),(0,M.jsx)(w.O,{className:F.container,buttonContainerClassname:F.dialogButtons,title:s("Follow this collection?"),body:(0,M.jsx)("p",{children:s("This will follow all blogs and tags in the collection.")}),buttons:[{text:(0,M.jsx)(x.Z,{className:b()(F.button,F.cancelButton),label:s("Follow"),onClick:()=>{G(),i({eventName:"CollectionsFollowDialogFollowButtonClick"})},children:s("Follow")},"follow-all-button"),buttonStyle:w.X.Custom},{text:(0,M.jsx)(x.Z,{className:b()(F.button,F.closeButton),label:s("Nevermind"),onClick:children:s("Nevermind")},"nevermind-button"),buttonStyle:w.X.Custom}]})]}),(0,M.jsxs)("div",{className:b()(F.main,n),children:[!H&&!U&&(0,M.jsx)(j.Z,{className:F.followAllButton,isRounded:!0,onClick:()=>{d.isLoggedIn?K():G(),i({eventName:"CollectionsFollowButtonClick",eventDetails:{is_logged_in:d.isLoggedIn}})},children:a("Label for a button to follow all blogs and tags from a collection","Follow all")}),H&&(0,M.jsx)(j.Z,{className:F.editButton,href:(0,N.t6)(t),onClick:()=>i({eventName:"CollectionsEditButtonClick"}),isRounded:!0,children:a("Label for a button to edit your collection","Edit")}),!U&&(0,M.jsxs)(x.Z,{className:F.shareButton,onClick:()=>{var e,n;(0,E.z)(d.isLoggedIn||O?(0,N.Lb)({inviter:null!==(e=null===(n=d.user)||void 0===n?void 0:n.name)&&void 0!==e?e:"unknown",id:c.id}):(0,N.JP)({id:c.id})),z(!0),i({eventName:"CollectionsShareButtonClick"})},children:[(0,M.jsx)(p,{colors:{primary:T().paletteAccent}}),V?a("Message informing that the invite link was copied when sharing a collection","Link copied!"):a("Label for a button to share collection","Share")]})]})]})};let O={info:"Jl6Dh",name:"UiYIO",description:"tBZ1w",ownerDetails:"OFaVJ",prefix:"Greb5",blogName:"TfSxW",cover:"fww7j",stats:"Y8jJs",dot:"TT68g",number:"bIwEk",controls:"I0UEo"};var P=e=>{var n=e.collection,t=n.id,o=(0,r.bp)()._c,l=n.blogs.length>0||n.tagpack.length>0;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(c.W,{id:t,avatar:n.avatar,blogs:n.blogs,dimensions:80,className:O.cover,showBorder:!0}),(0,M.jsxs)("header",{className:O.info,children:[(0,M.jsx)("h1",{className:O.name,children:n.name}),n.description&&(0,M.jsx)("p",{className:O.description,children:n.description}),(0,M.jsx)("div",{className:O.ownerDetails,children:(0,M.jsx)(i.ZP,{comment:"Label for showing an author of the collection",components:{Prefix:(0,M.jsx)("span",{className:O.prefix}),Avatar:(0,M.jsx)(a.Z,{dimension:20,name:n.owner.name,imageResponse:n.owner.avatar}),BlogName:(0,M.jsx)(s.Z,{className:O.blogName,blogName:n.owner.name,children:n.owner.name})},children:"[Prefix]Created by[/Prefix] [Avatar/] [BlogName/]"})}),(0,M.jsxs)("div",{className:O.stats,children:[l&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("span",{children:o("Label for showing number of items in the collection (e.g. Includes 2 blogs)","Includes")})," "]}),n.tagpack.length>0&&(0,M.jsx)("span",{children:(0,M.jsxs)(i.M2,{number:n.tagpack.length,components:{strongNumber:(0,M.jsx)("span",{className:O.number})},comment:"Label for showing number of tags in the collection",children:[(0,M.jsx)(i.CJ,{children:"[strongNumber][number][/strongNumber] tag"}),(0,M.jsx)(i.CN,{children:"[strongNumber][number][/strongNumber] tags"})]})}),n.tagpack.length>0&&n.blogs.length>0&&(0,M.jsx)("span",{className:O.dot,children:"â€¢"}),n.blogs.length>0&&(0,M.jsx)("span",{children:(0,M.jsxs)(i.M2,{number:n.blogs.length,components:{strongNumber:(0,M.jsx)("span",{className:O.number})},comment:"Label for showing number of blogs in the collection",children:[(0,M.jsx)(i.CJ,{children:"[strongNumber][number][/strongNumber] blog"}),(0,M.jsx)(i.CN,{children:"[strongNumber][number][/strongNumber] blogs"})]})})]}),(0,M.jsx)(D,{className:O.controls,id:t})]})]})},A=e=>{var n=e.id,t=(0,l.Kx)(n),a=t.isError,s=t.isPending,i=t.data;return a?null:(0,M.jsxs)("div",{className:"eNZLV",children:[s&&(0,M.jsx)(o.Z,{}),!s&&i&&(0,M.jsx)(P,{collection:i})]})}},72214:(e,n,t)=>{t.d(n,{$:()=>m});var o=t(6135),l=t(10274),a=t(75868),s=t(90127),i=t(55673),r=t(78667);let c={tagsContainer:"BtmpH",tag:"Va68r"};var d=t(2629),m=e=>{var n,t=e.id,m=(0,r.bp)(),g=m._c,u=m.logEvent,h=(0,l.Kx)(t),b=h.isError,x=h.isPending,f=h.data;if(b)return null;if(x||!f)n=(0,d.jsx)(o.Z,{centerOrientation:"horizontal",small:!0});else{if(0===f.tagpack.length)return null;n=f.tagpack.map(e=>(0,d.jsx)(i.rU,{className:c.tag,to:(0,s.fO)(e),onClic),children:`#${e}`},e))}return(0,d.jsx)(a.R,{title:g("List of tags included in a collection","Tags"),children:(0,d.jsx)("div",{className:c.tagsContainer,children:n})})}},12135:(e,n,t)=>{t.r(n),t.d(n,{CollectionInvitF});var o=t(33970),l=t.n(o),a=t(5754),s=t.n(a),i=t(45222),r=t(52980),c=t(6233),d=t(18488),m=t(39191),g=t(54382),u=t(43597),h=t(25190),b=t(10274),x=t(50330),f=t(53697),v=t(4208),p=t(97874),w=t(28070),j=t(29392),N=t(72214),C=t(9910),k=t(95004),y=t(78994),L=t(32468),I=t(13883),B=t(22979),_=t(78667),Z=t(49116),E=t(43858);let S={viewsWrapper:"mkHSE",toggleViews:"suqZx",infoWrapper:"Vf_MX",timeline:"dZmD5",list:"ihTn6",modalContent:"HKOm9",avatar:"PkLlO",modalText:"cquvr",closeButton:"ffpEx"};var T=t(2629),F=()=>{var e=(0,C.v)(),n=(0,_.bp)(),t=n._c,o=n.isLoggedIn,a=n.features,F=n.getCookie,M=n.setCookie,D=(0,h.v$)(),O=D.isMobile,P=D.isSmartphone,A=(0,y.UO)().id,J=(0,b.Kx)(A).data,R=(0,k.useState)(),W=l()(R,2),$=W[0],V=W[1],z=F(I.zC.COLLECTIONS_DISPLAY_MODE),K=(0,k.useState)(z===B.mt.List||O?B.mt.List:B.mt.Masonry),Y=l()(K,2),H=Y[0],U=Y[1],G=()=>{Z.E.setItem("collectionInvite",A),V(!1)},X=J&&(0,T.jsx)(g.ZP,{comment:"Header of the message shown when a user opens a collection invitation link; blogName is the name of the user who sent the link",params:{blogName:J.owner.name},components:{avatar:(0,T.jsx)("span",{className:S.avatar,children:(0,T.jsx)(i.Z,{dimension:20,name:J.owner.name,imageResponse:[{url:`https://api.tumblr.com/v2/blog/${J.owner.name}/avatar/64`,width:64,height:64}]})})},children:"[avatar/] [blogName] invited you to this collection!"}),q=t("Body of the message shown when a logged out user opens a collection invitation link","Collections are sets of blogs and tags that you can share with your friends. Follow all to see this content on your dashboard."),Q=o||!X?void 0:{className:S.infoWrapper,id:"invite-msg",objectType:B.TE.CollectionInviteHeader,title:X,body:q};if((0,k.useEffect)(()=>{V(Z.E.getItem("collectionInvite")!==A)},[o,A]),!a.labsCollections)return null;var ee=(0,T.jsx)(E.J,{id:A,displayMode:P?B.mt.List:H,infoCard:Q,className:s()(S.timeline,{[S.list]:P||H===B.mt.List})});return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(x.n,{id:A}),(0,T.jsxs)(r.Z,{activePage:L.vS.collections,mainContentIsMasonry:H===B.mt.Masonry,maxMasonryColumns:4,children:[(0,T.jsx)(u.Z,{className:S.main,maxMasonryColumns:4,mainContentIsMasonry:H===B.mt.Masonry,innerBorder:!0,sidebar:(0,T.jsxs)(p.Y,{showSearch:o,children:[(0,T.jsx)(j.g,{id:A}),(0,T.jsx)(N.$,{id:A}),(0,T.jsx)(w.A,{id:A}),(0,T.jsx)(f.x,{})]}),children:O?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(j.g,{id:A}),(0,T.jsx)(v.$,{id:A}),"tags"===e&&(0,T.jsx)(N.$,{id:A}),"blogs"===e&&(0,T.jsx)(w.A,{id:A}),"feed"===e&&ee]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:S.viewsWrapper,children:(0,T.jsx)(m.Z,{viewsShown:[B.mt.List,B.mt.Masonry],onViewClick:e=>{M(I.zC.COLLECTIONS_DISPLAY_MODE,e),U(e)},currentView:H,className:s()(S.toggleViews,{[S.list]:H===B.mt.List})})}),ee]})}),$&&(0,T.jsx)(c.Z,{onClose:G,title:t("Hidden title of modal describing Collections","Collections Invitation"),theme:c.L.Rounded,modalWrapperClass:"collectionInvite",children:(0,T.jsx)("div",{className:S.modalContent,children:(0,T.jsxs)("div",{className:S.modalText,children:[(0,T.jsx)("h2",{children:X}),(0,T.jsx)("p",{children:q}),(0,T.jsxs)("aside",{children:[(0,T.jsx)("span",{children:"Beta"}),t("A message explaining that this feature is in progress and could be buggy","You may encounter bugs and weird behavior. Some functionality may change as we work.")]}),(0,T.jsx)(d.Z,{wrapperClassName:S.closeButton,onClick:G,children:t("Button text inviting the user to view the collection","Check it out")})]})})}),(0,T.jsx)(f.x,{hideOnDesktop:!0})]})]})}}}]);