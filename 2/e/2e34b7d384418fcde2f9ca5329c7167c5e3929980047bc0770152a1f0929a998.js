/*! (C) 2022 Conviva, Inc. All rights reserved. Confidential and proprietary. */

!function(t,n){"function"===typeof define&&define.amd?define(n):("object"===typeof exports||"object"===typeof module&&module.exports)&&(module.exports=n()),"undefined"!==typeof t&&t&&(t.Conviva||t.ConvivaLoading||(t.ConvivaLoading=!0,t.Conviva=n(),delete t.ConvivaLoading))}(this,function(){var ht={};return function(){"use strict";var ut={};!function(){var T=ht.Constants={};T.version="4.5.7",T.CUSTOMER_KEY="customerKey",T.GATEWAY_URL="gatewayUrl",T.LOG_LEVEL="logLevel",T.ASSET_NAME="Conviva.assetName",T.PLAYER_NAME="Conviva.applicationName",T.APPLICATION_VERSION="c3.app.version",T.IS_LIVE="Conviva.streamType",T.ENCODED_FRAMERATE="Conviva.encodedFrameRate",T.DEFAULT_RESOURCE="Conviva.defaultResource",T.STREAM_URL="Conviva.streamUrl",T.VIEWER_ID="Conviva.viewerId",T.DURATION="Conviva.duration",T.UTM_TRACKING_URL="c3.cm.utmTrackingUrl",T.POD_INDEX="podIndex",T.POD_POSITION="podPosition",T.POD_DURATION="podDuration",T.AD_TYPE="adType",T.MODULE_NAME="Conviva.moduleName",T.MODULE_VERSION="Conviva.moduleVersion",T.FRAMEWORK_NAME="Conviva.frameworkName",T.FRAMEWORK_VERSION="Conviva.frameworkVersion",T.i="Constants not yet configured",T.e="Invalid : Did you report playback ended?",T.s="Invalid : Did you report ad playback ended?",T.o="Player cannot be null",T.u="PlaybackAnlytics already built",T.a="PlaybackAnlytics not yet built",T.Playback={BITRATE:"BITRATE",PLAY_HEAD_TIME:"PLAY_HEAD_TIME",RESOLUTION:"RESOLUTION",BUFFER_LENGTH:"BUFFER_LENGTH",PLAYER_STATE:"PLAYER_STATE",RENDERED_FRAMERATE:"RENDERED_FRAMERATE",SEEK_STARTED:"SEEK_STARTED",SEEK_ENDED:"SEEK_ENDED",CDN_IP:"CDN_IP",DROPPED_FRAMES_TOTAL:"DROPPED_FRAMES_TOTAL",DROPPED_FRAMES_COUNT:"DROPPED_FRAMES_COUNT"},T.Network={SIGNAL_STRENGTH:"SIGNAL_STRENGTH",LINK_ENCRYPTION:"LINK_ENCRYPTION",CONNECTION_TYPE:"CONNECTION_TYPE"},T.ErrorSeverity={FATAL:1,WARNING:0},T.NO_SESSION_KEY=-2,T.AdPosition={PREROLL:"Pre-roll",MIDROLL:"Mid-roll",POSTROLL:"Post-roll"},T.AdPlayer={CONTENT:"CONTENT",SEPARATE:"SEPARATE"},T.DeviceType={DESKTOP:"DESKTOP",CONSOLE:"Console",SETTOP:"Settop",MOBILE:"Mobile",TABLET:"Tablet",SMARTTV:"SmartTV"},T.AdType={CLIENT_SIDE:"Client Side",SERVER_SIDE:"Server Side"},T.AdSlates={BLACKOUT_SLATE:"Blackout slate",TECHNICAL_DIFFICULTIES_SLATE:"Technical Difficulties slate",COMMERCIAL_SLATE:"Commercial Break slate",OTHER_SLATE:"Other slate",VPAID:"VPAID",REGULAR:"Regular Ad"},T.AdServingType={INLINE:"Inline",WRAPPER:"Wrapper"},T.DeviceCategory={ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",LG_TV:"LGTV",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",SMART_TV:"TV",SET_TOP_BOX:"STB",TIVO:"TIVO",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB",KAIOS_DEVICE:"KAIOS"},T.LogLevel={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},T.PlayerState={STOPPED:"STOPPED",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSED:"PAUSED",UNKNOWN:"UNKNOWN",NOT_MONITORED:"NOT_MONITORED"},T.Events={USER_WAIT_STARTED:"Conviva.UserWaitStarted",USER_WAIT_ENDED:"Conviva.UserWaitEnded",BUMPER_VIDEO_STARTED:"Conviva.BumperVideoStarted",BUMPER_VIDEO_ENDED:"Conviva.BumperVideoEnded",AD_REQUESTED:"Conviva.AdRequested",AD_RESPONSE:"Conviva.AdResponse",AD_SLOT_STARTED:"Conviva.SlotStarted",AD_ATTEMPTED:"Conviva.AdAttempted",AD_SLOT_ENDED:"Conviva.SlotEnded",AD_IMPRESSION_START:"Conviva.AdImpression",AD_START:"Conviva.AdStart",AD_FIRST_QUARTILE:"Conviva.AdFirstQuartile",AD_MID_QUARTILE:"Conviva.AdMidQuartile",AD_THIRD_QUARTILE:"Conviva.AdThirdQuartile",AD_COMPLETE:"Conviva.AdComplete",AD_END:"Conviva.AdEnd",AD_IMPRESSION_END:"Conviva.AdImpressionEnd",AD_SKIPPED:"Conviva.AdSkipped",AD_ERROR:"Conviva.AdError",AD_PROGRESS:"Conviva.AdProgress",AD_CLOSE:"Conviva.AdClose",CONTENT_PAUSED:"Conviva.PauseContent",CONTENT_RESUMED:"Conviva.ResumeContent",POD_START:"Conviva.PodStart",POD_END:"Conviva.PodEnd"},T.ErrorType={ERROR_UNKNOWN:"ERROR_UNKNOWN",ERROR_IO:"ERROR_IO",ERROR_TIMEOUT:"ERROR_TIMEOUT",ERROR_NULL_ASSET:"ERROR_NULL_ASSET",ERROR_MISSING_PARAMETER:"ERROR_MISSING_PARAMETER",ERROR_NO_AD_AVAILABLE:"ERROR_NO_AD_AVAILABLE",ERROR_PARSE:"ERROR_PARSE",ERROR_INVALID_VALUE:"ERROR_INVALID_VALUE",ERROR_INVALID_SLOT:"ERROR_INVALID_SLOT",ERROR_3P_COMPONENT:"ERROR_3P_COMPONENT",ERROR_UNSUPPORTED_3P_FEATURE:"ERROR_UNSUPPORTED_3P_FEATURE",ERROR_DEVICE_LIMIT:"ERROR_DEVICE_LIMIT",ERROR_UNMATCHED_SLOT_SIZE:"ERROR_UNMATCHED_SLOT_SIZE"},T.StreamType={UNKNOWN:"UNKNOWN",LIVE:"LIVE",VOD:"VOD"},T.CallbackFunctions={CONSOLE_LOG:"consoleLog",MAKE_REQUEST:"makeRequest",SAVE_DATA:"saveData",LOAD_DATA:"loadData",GET_EPOCH_TIME_IN_MS:"getEpochTimeInMs",CREATE_TIMER:"createTimer",GENERATE_HASH:"generateHash",BASE64_ENCODE:"base64Encode"},T.DeviceMetadata={BRAND:"DeviceBrand",MANUFACTURER:"DeviceManufacturer",MODEL:"DeviceModel",TYPE:"DeviceType",VERSION:"DeviceVersion",OS_NAME:"OperatingSystemName",OS_VERSION:"OperatingSystemVersion",CATEGORY:"DeviceCategory",SCREEN_RESOLUTION_WIDTH:"ScreenWidth",SCREEN_RESOLUTION_HEIGHT:"ScreenHeight",SCREEN_RESOLUTION_SCALE_FACTOR:"ScaleFactor"},T.AD_PRELOAD_FEATURE="adPreloading",T.AD_TAG_URL="adTagUrl",T.IMASDK_CONTENT_PLAYER="imaMainContentPlayer",T.CONVIVA_AD_MODULE="convivaAdModule",T.CONVIVA_MODULE="convivaModule",T.MEDIA_ELEMENT="mediaElement";var a=ht.Client=function(){var h=this;this.c=!1,this.version=a.version,this.l=null,this.v=null,this.d=null,this.p=-1,this.R=null,this.w=null,this.T=null,this.S=null,this.g=-1,this.N=!1,this.O={},this._=function(){h.l,0},this.A={},this.C=null,this.I=null,this.y=null,this.m=this.W=function(i){h.T.D("Client.updateConnectionType",function(){if(h.C=i,h.v){var t,n=h.v.q();for(t in n)n[t].Y(i)}})},this.J=this.Q=apply(this,arguments),this.release=this.createSession=this.createAdSession=function(i,e,s,o,r){var u=a.NO_SESSION_KEY;return this.N||(!e||e instanceof c)&&this.T.D("Client.createAdSession",function(){var t,n;e||(e=new c),!Q.dt(i)||i===a.NO_SESSION_KEY||(t=h.v.Et(i))&&(n=e.custom[T.APPLICATION_VERSION],e.applicationName&&e.viewerId&&"undefined"!==typeof n&&n||t.pt&&t.pt.Rt&&(!e.viewerId&&t.pt.Rt.viewerId&&(e.viewerId=t.pt.Rt.viewerId),!e.applicationName&&t.pt.Rt.applicationName&&(e.applicationName=t.pt.Rt.applicationName),"undefined"!==typeof n&&n||"undefined"!==typeof(n=t.pt.Rt.custom[T.APPLICATION_VERSION])&&n&&(e.custom[T.APPLICATION_VERSION]=n)),e.custom["c3.csid"]=Q.wt(t.g)),u=h.v.ct(e,j.vt.Tt,s,(o?T:h).version,r)}),u},this.reportError=this.updateContentMetadata=this.detachPlayer=function(n){this.N||this.T.D("Client.detachPlayer",function(){var t=h.v.Et(n);t&&t.Ot()})},this._t=function(n){this.N||this.T.D("Client.offFocus",function(){var t=h.v.Et(n);t&&t._t()})},this.attachPlayer=this.Ct=function(n){this.N||this.T.D("Client.onFocus",function(){var t=h.v.Et(n);t&&t.Ct()})},this.contentPreload=function(n){this.N||this.T.D("Client.contentPreload",function(){var t=h.v.Et(n);t&&t.It()})},this.contentStart=function(n){this.N||this.T.D("Client.contentStart",function(){var t=h.v.Et(n);t&&t.yt()})},this.sendCustomEvent=this.adStart=this.adEnd=this.cleanupSession=this.getAttachedPlayer=this.isPlayerAttached=this.getPlayerStateManager=this.releasePlayerStateManager=this.kt=function(){return this.R},this.getId=function(){return this.g},this.getSessionId=this.getClientId=this.Bt=this.setUniqueIdentifier=this.setUserPreferenceForDataCollection=this.setUserPreferenceForDataDeletion=;a.version="4.5.7L",a.NO_SESSION_KEY=T.NO_SESSION_KEY,a.AdPosition={PREROLL:T.AdPosition.PREROLL,MIDROLL:T.AdPosition.MIDROLL,POSTROLL:T.AdPosition.POSTROLL},a.AdStream={CONTENT:T.AdPlayer.CONTENT,SEPARATE:T.AdPlayer.SEPARATE},a.AdPlayer={CONTENT:T.AdPlayer.CONTENT,SEPARATE:T.AdPlayer.SEPARATE},a.ErrorSeverity={FATAL:T.ErrorSeverity.FATAL,WARNING:T.ErrorSeverity.WARNING},a.DeviceType={DESKTOP:T.DeviceType.DESKTOP,CONSOLE:T.DeviceType.CONSOLE,SETTOP:T.DeviceType.SETTOP,MOBILE:T.DeviceType.MOBILE,TABLET:T.DeviceType.TABLET,SMARTTV:T.DeviceType.SMARTTV},a.AdTechnology={CLIENT_SIDE:T.AdType.CLIENT_SIDE,SERVER_SIDE:T.AdType.SERVER_SIDE},a.AdType={BLACKOUT_SLATE:T.AdSlates.BLACKOUT_SLATE,TECHNICAL_DIFFICULTIES_SLATE:T.AdSlates.TECHNICAL_DIFFICULTIES_SLATE,COMMERCIAL_SLATE:T.AdSlates.COMMERCIAL_SLATE,OTHER_SLATE:T.AdSlates.OTHER_SLATE,VPAID:T.AdSlates.VPAID,REGULAR:T.AdSlates.REGULAR},a.AdServingType={INLINE:T.AdServingType.INLINE,WRAPPER:T.AdServingType.WRAPPER},a.DeviceCategory={ANDROID_DEVICE:T.DeviceCategory.ANDROID_DEVICE,APPLE_DEVICE:T.DeviceCategory.APPLE_DEVICE,CHROMECAST:T.DeviceCategory.CHROMECAST,DESKTOP_APP:T.DeviceCategory.DESKTOP_APP,DEVICE_SIMULATOR:T.DeviceCategory.DEVICE_SIMULATOR,LG_TV:T.DeviceCategory.LG_TV,NINTENDO:T.DeviceCategory.NINTENDO,PLAYSTATION:T.DeviceCategory.PLAYSTATION,ROKU:T.DeviceCategory.ROKU,SAMSUNG_TV:T.DeviceCategory.SAMSUNG_TV,SMART_TV:T.DeviceCategory.SMART_TV,SET_TOP_BOX:T.DeviceCategory.SET_TOP_BOX,TIVO:T.DeviceCategory.TIVO,WEB:T.DeviceCategory.WEB,WINDOWS_DEVICE:T.DeviceCategory.WINDOWS_DEVICE,XBOX:T.DeviceCategory.XBOX,KAIOS_DEVICE:T.DeviceCategory.KAIOS_DEVICE};var f=ht.ClientSettings=function(){var i=this;this.qt=null,Q.Yt(this,"customerKey",function(){return this.qt}),Q.Jt(this,"customerKey",function(t){Q.St(t)&&(this.qt=t)}),this.Xt=f.Qt,Q.Yt(this,"heartbeatInterval",function(){return this.Xt}),Q.Jt(this,"heartbeatInterval",function(t){var n;"number"!==typeof t||(n=Q.Zt(t))===t&&(this.Xt=n)}),this.zt=null,this.L=null,this.B=null,Q.Yt(this,"gatewayUrl",function(){return this.zt}),Q.Jt(this,"gatewayUrl",function(t){var n;Q.St(t)&&("https"!==(n=t.split("://"))[0]&&"http"!==n[0]||-1!==t.indexOf(".com",t.length-".com".length)&&(this.zt=t))}),apply(this,arguments),this.equals=this.tt=;f.$t="https://conviva.testonly.conviva.com",f.tn="https://cws.conviva.com",f.z="cws.conviva.com",f.U="ipv4.cws.conviva.com",f.G="ipv6.cws.conviva.com",f.nn="conviva.testonly.conviva.com",f.V="ipv4.testonly.conviva.com",f.j="ipv6.testonly.conviva.com",f.Z="https://",f.$="http://",f.in=5,f.Qt=20;var c=ht.ContentMetadata=function(){this.en=null,Q.Yt(this,"assetName",function(){return this.en}),Q.Jt(this,"assetName",function(t){if("string"!==typeof t)return;this.en=t}),this.sn={},Q.Yt(this,"custom",function(){return this.sn}),Q.Jt(this,"custom",function(t){if("object"!==typeof t)return;this.sn=Q.Dt(t)}),this.on=null,Q.Yt(this,"defaultResource",function(){return this.on}),Q.Jt(this,"defaultResource",function(t){if("string"!==typeof t)return;this.on=t}),this.rn=null,Q.Yt(this,"viewerId",function(){return this.rn}),Q.Jt(this,"viewerId",function(t){if("string"!==typeof t)return;this.rn=t}),this.un=null,Q.Yt(this,"applicationName",function(){return this.un}),Q.Jt(this,"applicationName",function(t){if("string"!==typeof t)return;this.un=t}),this.hn=null,Q.Yt(this,"streamUrl",function(){return this.hn}),Q.Jt(this,"streamUrl",function(t){if("string"!==typeof t)return;this.hn=t}),this.an=c.StreamType.UNKNOWN,Q.Yt(this,"streamType",function(){return this.an}),Q.Jt(this,"streamType",,this.fn=-1,Q.Yt(this,"duration",function(){return this.fn}),Q.Jt(this,"duration",function(t){this.fn=tt.cn(t)}),this.ln=-1,Q.Yt(this,"encodedFrameRate",function(){return this.ln}),Q.Jt(this,"encodedFrameRate",,function(){}.apply(this,arguments),this.tt=;c.StreamType={UNKNOWN:T.StreamType.UNKNOWN,LIVE:T.StreamType.LIVE,VOD:T.StreamType.VOD},ht.ErrorType={ERROR_UNKNOWN:T.ErrorType.ERROR_UNKNOWN,ERROR_IO:T.ErrorType.ERROR_IO,ERROR_TIMEOUT:T.ErrorType.ERROR_TIMEOUT,ERROR_NULL_ASSET:T.ErrorType.ERROR_NULL_ASSET,ERROR_MISSING_PARAMETER:T.ErrorType.ERROR_MISSING_PARAMETER,ERROR_NO_AD_AVAILABLE:T.ErrorType.ERROR_NO_AD_AVAILABLE,ERROR_PARSE:T.ErrorType.ERROR_PARSE,ERROR_INVALID_VALUE:T.ErrorType.ERROR_INVALID_VALUE,ERROR_INVALID_SLOT:T.ErrorType.ERROR_INVALID_SLOT,ERROR_3P_COMPONENT:T.ErrorType.ERROR_3P_COMPONENT,ERROR_UNSUPPORTED_3P_FEATURE:T.ErrorType.ERROR_UNSUPPORTED_3P_FEATURE,ERROR_DEVICE_LIMIT:T.ErrorType.ERROR_DEVICE_LIMIT,ERROR_UNMATCHED_SLOT_SIZE:T.ErrorType.ERROR_UNMATCHED_SLOT_SIZE},ht.Events={AD_REQUESTED:T.Events.AD_REQUESTED,AD_RESPONSE:T.Events.AD_RESPONSE,AD_SLOT_STARTED:T.Events.AD_SLOT_STARTED,AD_ATTEMPTED:T.Events.AD_ATTEMPTED,AD_SLOT_ENDED:T.Events.AD_SLOT_ENDED,AD_IMPRESSION_START:T.Events.AD_IMPRESSION_START,AD_START:T.Events.AD_START,AD_FIRST_QUARTILE:T.Events.AD_FIRST_QUARTILE,AD_MID_QUARTILE:T.Events.AD_MID_QUARTILE,AD_THIRD_QUARTILE:T.Events.AD_THIRD_QUARTILE,AD_COMPLETE:T.Events.AD_COMPLETE,AD_END:T.Events.AD_END,AD_IMPRESSION_END:T.Events.AD_IMPRESSION_END,AD_SKIPPED:T.Events.AD_SKIPPED,AD_ERROR:T.Events.AD_ERROR,AD_PROGRESS:T.Events.AD_PROGRESS,AD_CLOSE:T.Events.AD_CLOSE,CONTENT_PAUSED:T.Events.CONTENT_PAUSED,CONTENT_RESUMED:T.Events.CONTENT_RESUMED,POD_START:T.Events.POD_START,POD_END:T.Events.POD_END};var u=ht.PlayerStateManager=function(){var e=this;e.vn=null,e.dn=-2,e.En=u.PlayerState.UNKNOWN,e.pn={},e.Rn=-2,e.ln=-2,e.fn=-2,e.wn=null,e.Tn=null,e.hn=null,e.Sn=null,e.gn=null,e.Nn=-1,e.On=-1,e.C=null,e.I=null,e._n=null,e.An=[],e.N=!1,this.release=this.setPlayheadTime=function(){},this.setBufferLength=function(){},this.setRenderedFrameRate=function(){},this.getEncodedFrameRate=function(){return e.ln},this.setEncodedFrameRate=function(n){e.N||e.T.D("PlayerStateManager.setEncodedFrameRate",function(){var t=tt.cn(n);t>=-1&&(e.ln=t,e.vn&&e.vn.yn(e.ln))})},this.getDuration=function(){return e.fn},this.setClientMeasureInterface=this.getPHT=function(){return this.Dn&&"function"===typeof this.Dn.getPHT?this.Dn.getPHT():u.DEFAULT_PHT},this.getBufferLength=function(){return this.Dn&&"function"===typeof this.Dn.getBufferLength?this.Dn.getBufferLength():u.DEFAULT_BUFFER_LENGTH},this.getSignalStrength=function(){return this.Dn&&"function"===typeof this.Dn.getSignalStrength?this.Dn.getSignalStrength():u.DEFAULT_SIGNAL_STRENGTH},this.getRenderedFrameRate=this.setDuration=function(n){e.N||e.T.D("PlayerStateManager.setDuration",function(){var t=tt.cn(n);t>=-1&&(e.fn=t,e.vn&&e.vn.Pn(e.fn))})},this.getStreamUrl=function(){return e.hn},this.setStreamUrl=this.Mn=function(){return e.Sn},this.Ln=function(){return e.gn},this.setModuleNameAndVersion=function(t,n){e.Sn=t,e.gn=n},this.Un=function(){return e.Tn},this.setPlayerType=function(t){e.N||e.T.D("PlayerStateManager.setPlayerType",function(){e.Tn=t,e.vn&&e.vn.Vn(e.Tn)})},this.kn=function(){return e.wn},this.setPlayerVersion=function(t){e.N||e.T.D("PlayerStateManager.setPlayerVersion",function(){e.wn=t,e.vn&&e.vn.Fn(e.wn)})},this.setMonitoringNotifier=function(t){return!e.N&&(!e.vn&&(e.vn=t,e.l,!0))},this.In=this.Hn=this.getPlayerState=function(){return e.En},this.setPlayerState=this.Bn=function(){return e.dn},this.setBitrateKbps=this.setPlayerSeekStart=this.setPlayerSeekEnd=function(){e.N||e.T.D("PlayerStateManager.setPlayerSeekEnd()",function(){e.vn&&e.vn.xn(u.SEEK_ACTIONS_TYPE.SEEK_END,-1)})},this.setUserSeekButtonUp=function(){e.N||e.T.D("PlayerStateManager.setUserSeekButtonUp()",function(){e.vn&&e.vn.xn(u.SEEK_ACTIONS_TYPE.BUTTON_UP,-1)})},this.setUserSeekButtonDown=this.setVideoResolutionWidth=function(n){e.N||e.T.D("PlayerStateManager.setVideoResolutionWidth()",function(){var t=tt.cn(n);t>0&&(e.Nn=t),e.vn&&e.vn.qn(e.Nn)})},this.setVideoResolutionHeight=this.setConnectionType=function(t){e.N||e.T.D("PlayerStateManager.setConnectionType()",function(){e.C=t,e.vn&&e.vn.Y(e.C)})},this.setLinkEncryption=this.setSignalStrength=function(){},this.Gn=this.sendError=this.reset=this.setCDNServerIP=function(t){e.N||e.T.D("PlayerStateManager.setCDNServerIP",function(){e.vn&&e.vn.Xn(t)})},this.Qn=function(){return e.Zn},this.setDroppedFramesTotal=function(t){e.N||e.T.D("PlayerStateManager.setDroppedFramesTotal",function(){e.vn&&e.vn.zn(t)})},this.setDroppedFramesCount=this.ti=function(){return e._n},apply(e,arguments)};u.PlayerState={STOPPED:T.PlayerState.STOPPED,PLAYING:T.PlayerState.PLAYING,BUFFERING:T.PlayerState.BUFFERING,PAUSED:T.PlayerState.PAUSED,UNKNOWN:T.PlayerState.UNKNOWN,NOT_MONITORED:T.PlayerState.NOT_MONITORED},u.jn=u.SEEK_ACTIONS_TYPE={SEEK_START:"pss",SEEK_END:"pse",BUTTON_UP:"bu",BUTTON_DOWN:"bd"},u.DEFAULT_SIGNAL_STRENGTH=1e3,u.DEFAULT_RENDERED_FRAME_RATE=-1,u.DEFAULT_BUFFER_LENGTH=-1,u.DEFAULT_PHT=-1,ht.ClientMeasureInterface=var r=ht.HttpInterface=function(){this.makeRequest=function(){},this.release=function(){}},h=ht.LoggingInterface=function(){this.consoleLog=function(){},this.release=function(){}},l=ht.MetadataInterface=v=ht.StorageInterface=d=ht.SystemInterface=E=ht.TimeInterface=function(){this.getEpochTimeMs=function(){},this.release=function(){}},p=ht.TimerInterface=R=ht.SystemFactory=function(){var t=this;(.apply(this,arguments),this.nt=this.release=var n=this.buildLogger=this.ht=this.li=this.di=this.Ei=this.vi=this.it=this.buildTime=this.buildTimer=function(t){return new rt(this.buildLogger(),this.ii,this.it(t))},this.pi=this.et=this.wi=this.Ti=function(){return new H},this.Si=this.gi=this._i=this.Ni=function(){return new Y},this.Ri=this.Oi=function(){return this.ci},this.kt=function(){return this.R},this.ci=new Z},w=ht.SystemSettings=function(){this.Ai=w.Ci,Q.Yt(this,"logLevel",function(){return this.Ai}),Q.Jt(this,"logLevel",function(t){var n;"number"!==typeof t||(n=Q.Zt(t))===t&&n>=w.LogLevel.DEBUG&&n<=w.LogLevel.ERROR&&(this.Ai=n)}),this.Ii=w.yi,Q.Yt(this,"allowUncaughtExceptions",function(){return this.Ii}),Q.Jt(this,"allowUncaughtExceptions",,this.Di=w.Pi,Q.Yt(this,"storageTimeout",function(){return this.Di}),Q.Jt(this,"storageTimeout",function(t){var n;"number"!==typeof t||(n=Q.Zt(t))===t&&(this.Di=n)}),this.bi=w.Mi,Q.Yt(this,"httpTimeout",function(){return this.bi}),Q.Jt(this,"httpTimeout",function(t){var n;"number"!==typeof t||(n=Q.Zt(t))===t&&(this.bi=n)}),function(){}.apply(this,arguments),this.equals=this.tt=;w.LogLevel={DEBUG:T.LogLevel.DEBUG,INFO:T.LogLevel.INFO,WARNING:T.LogLevel.WARNING,ERROR:T.LogLevel.ERROR,NONE:T.LogLevel.NONE},w.Li=w.LogLevel.DEBUG,w.Ci=w.LogLevel.NONE,w.Ui=!0,w.yi=!1,w.Pi=10,w.Mi=10;var i=ut.AdAnalytics=function(){var e=this;.Gi=null,e.d=null,e.ji=null,e.Hi=null,e.Vi=null,e.Ki=null,e.Wi=null,e.xi=null,apply(this,arguments),this.setAdInfo=function(t){Q.mt(t)<=0?e.l:(e.l,e.Vi&&e.Vi.Yi(t))},this.setAdPlayerInfo=this.reportAdMetric=this.setCallback=this.reportAdFailed=this.reportAdLoaded=function(t){e.l,n(t)},this.reportAdStarted=this.reportAdEnded=this.reportAdError=this.reportAdPlayerEvent=function(t,n){if(Q.St(t))if(e.l,0,e.Vi)switch(t){case T.Events.USER_WAIT_STARTED:case T.Events.BUMPER_VIDEO_STARTED:e.Vi.Ot();break;case T.Events.USER_WAIT_ENDED:case T.Events.BUMPER_VIDEO_ENDED:e.Vi.At();break;default:e.Vi.Qi(t,n)}else e.l;else e.l},this.reportAdSkipped=this.release=this.setAdListener=function(t,n){t&&("undefined"!==typeof n&&"undefined"!==typeof n.convivaModule?ht.AdProxyMonitor=n.convivaModule.AdProxyMonitor:"undefined"!==typeof ConvivaModule&&(ht.AdProxyMonitor=ConvivaModule.AdProxyMonitor),"undefined"!==typeof ht.AdProxyMonitor&&(!t&&e.Wi?(ht.AdProxyMonitor.release(e.Wi),e.Wi=null):t&&e.Wi?(ht.AdProxyMonitor.release(e.Wi),e.l,e.Wi=ht.AdProxyMonitor.initConvivaDropIn(t,n,this,ht,e.d)):t&&!e.Wi&&(e.l,e.Wi=ht.AdProxyMonitor.initConvivaDropIn(t,n,this,ht,e.d))))},this.reportAdBreakStarted=this.reportAdBreakEnded=this.getSessionId=function(){return e.Hi?(e.l,e.Vi.Ft()):T.NO_SESSION_KEY},this.getClientId=function(){return e.Hi?(e.l,e.Vi.Ht()):null},this.getPlayerMonitor=function(){return e.Hi},this.getAdPlayerMonitor=function(){return e.Vi},this.getVideoAnalytics=function(){return e.xi},this.getAdType=function(){return e.Hi?e.Hi.zi:null},this.ne=function(){return e.Hi?e.Hi.Ki:null},i.prototype=Object.create(g.prototype),i.prototype.constructor=i},o=ut.AdPlayerMonitorImpl=function(){var s=this;s.ie=null,s.ee=null,apply(this,arguments),this.Fi=this.se=function(){return s.ee},this.re=function(t){var n,i=this.se(),e={};e.error=t,s.ie&&(s.ue=s.ie.getPlayerStateManager(!0),s.he(),s.ue.setClientMeasureInterface(this),n=null,i&&(n=i.ae()),s.fe=s.ie.createAdSession(n,s.Rt,s.ue,!0,e),"undefined"!==typeof t&&(s.ce(),s.Zi()))},o.prototype=Object.create(N.prototype),o.prototype.constructor=o},S=ht.Analytics={init:function(t,n,i){if(this.Gi,0,arguments.length<=0)throw new Error("customerKey must be valid");var e=null,s=null,o=null;if("string"===typeof t&&(e=t,!Q.St(e)))throw new Error("customerKey must be valid");arguments.length>=2&&"object"===typeof n&&(s=n),arguments.length>=3&&"object"===typeof i&&(o=i);var r=new f(e),u=new w;Q.mt(o)>0&&(o[T.GATEWAY_URL]&&(r.gatewayUrl=o[T.GATEWAY_URL]),o[T.LOG_LEVEL]>=0&&(u.logLevel=o[T.LOG_LEVEL]));t=new ht.Impl.Html5Logging,n=new ht.Impl.Html5Storage,i=new ht.Impl.Html5Http,e=new ht.Impl.Html5Timer,o=new ht.Impl.Html5Time;this.oi||(this.oi=new ht.Impl.Html5Metadata),s&&(s[T.CallbackFunctions.CONSOLE_LOG]&&(t.consoleLog=s[T.CallbackFunctions.CONSOLE_LOG]),s[T.CallbackFunctions.MAKE_REQUEST]&&(i.makeRequest=s[T.CallbackFunctions.MAKE_REQUEST]),s[T.CallbackFunctions.SAVE_DATA]&&(n.saveData=s[T.CallbackFunctions.SAVE_DATA]),s[T.CallbackFunctions.LOAD_DATA]&&(n.loadData=s[T.CallbackFunctions.LOAD_DATA]),s[T.CallbackFunctions.GET_EPOCH_TIME_IN_MS]&&(o.getEpochTimeMs=s[T.CallbackFunctions.GET_EPOCH_TIME_IN_MS]),s[T.CallbackFunctions.CREATE_TIMER]&&(e.createTimer=s[T.CallbackFunctions.CREATE_TIMER])),this.ui=new d(o,e,i,n,this.oi,t),this.d=new R(this.ui,u),this.d.nt("Analytics",r),this.Gi=new a(r,this.d,this.le,S.version)},release:setUniqueIdentifier:function(t,n){if(!this.Gi)throw new Error(T.i);this.Gi.setUniqueIdentifier(t,n)},setUserPreferenceForDataCollection:setUserPreferenceForDataDeletion:reportAppEvent:reportAppBackgrounded:function(){if(!this.Gi)throw new Error(T.i);this.Gi.sendCustomEvent(a.NO_SESSION_KEY,"App.Backgrounded",null)},reportAppForegrounded:configureExistingClient:buildVideoAnalytics:buildAdAnalytics:function(t){if(!this.Gi)throw new Error(T.i);t=new i(this.Gi,this.d,t||null);return this.ve||(this.ve=[]),this.ve.push(t),t},setDeviceMetadata:reportDeviceMetric:function(t,n){switch(this.le||(this.le={}),t){case T.Network.CONNECTION_TYPE:if(!Q.St(n))return void 0;this.le[t]=n,this.Gi&&this.Gi.W(this.le[T.Network.CONNECTION_TYPE]);break;case T.Network.LINK_ENCRYPTION:if(!Q.St(n))return void 0;this.le[t]=n,this.Gi&&this.Gi.J(this.le[T.Network.LINK_ENCRYPTION]);break;case T.Network.SIGNAL_STRENGTH:var i=parseInt(n,10);if(!Q.dt(i))return void 0;if(u.DEFAULT_SIGNAL_STRENGTH===i)return void 0;this.le[t]=i,this.Gi&&this.Gi.Q(i);break;default:0}}};S.version="4.5.7";var g=ut.AnalyticsImpl=function(){var a=this;unction c(t,n,i){t=parseInt(t,10),n=parseInt(n,10);isNaN(t)&&isNaN(n)||(isNaN(t),isNaN(n),!a.Vi||i!==g.pe.Re&&i!==g.pe.Ee||a.Vi.Te(t,n),!a.Hi||i!==g.pe.we&&i!==g.pe.Ee||a.Hi.Te(t,n))}unction v(t,n){t=parseInt(t,10);isNaN(t)||(!a.Vi||n!==g.pe.Re&&n!==g.pe.Ee||a.Vi.ge(t),!a.Hi||n!==g.pe.we&&n!==g.pe.Ee||a.Hi.ge(t))}function d(t,n){t=parseInt(t,10);isNaN(t)||(!a.Vi||n!==g.pe.Re&&n!==g.pe.Ee||a.Vi.Ne(t),!a.Hi||n!==g.pe.we&&n!==g.pe.Ee||a.Hi.Ne(t))}nction R(t,n){t=parseInt(t,10);isNaN(t)||(!a.Vi||n!==g.pe.Re&&n!==g.pe.Ee||a.Vi._e(t),!a.Hi||n!==g.pe.we&&n!==g.pe.Ee||a.Hi._e(t))}function w(t,n){t=parseInt(t,10);isNaN(t)||(!a.Vi||n!==g.pe.Re&&n!==g.pe.Ee||a.Vi.Ae(t),!a.Hi||n!==g.pe.we&&n!==g.pe.Ee||a.Hi.Ae(t))}(function(){}).apply(this,arguments),this.Ji=function(t,n,i,e){switch(0,t){case T.Playback.BITRATE:0,e===g.pe.Re?R(n,g.pe.Re):R(n,f());break;case T.Playback.PLAY_HEAD_TIME:e===g.pe.Re?v(n,g.pe.Re):v(n,f());break;case T.Playback.RESOLUTION:e===g.pe.Re?c(n,i,g.pe.Re):c(n,i,f());break;case T.Playback.BUFFER_LENGTH:e===g.pe.Re?d(n,g.pe.Re):d(n,f());break;case T.Playback.PLAYER_STATE:e===g.pe.Re?l(n,g.pe.Re):l(n,f());break;case T.Playback.RENDERED_FRAMERATE:e===g.pe.Re?w(n,g.pe.Re):w(n,f());break;case T.Playback.SEEK_STARTED:arguments.length>=2&&"CONVIVA"!==n?E(n,f()):i===g.pe.Re?E(-1,g.pe.Re):E(-1,f());break;case T.Playback.SEEK_ENDED:i===g.pe.Re?p(g.pe.Re):p(f());break;case T.Playback.CDN_IP:0,u=n,h=f(),Q.St(u)&&(!a.Vi||h!==g.pe.Re&&h!==g.pe.Ee||a.Vi.Ce(u),!a.Hi||h!==g.pe.we&&h!==g.pe.Ee||a.Hi.Ce(u));break;case T.Playback.DROPPED_FRAMES_TOTAL:0,r=n,u=f(),r=parseInt(r,10),isNaN(r)||(!a.Vi||u!==g.pe.Re&&u!==g.pe.Ee||a.Vi.Ie(r),!a.Hi||u!==g.pe.we&&u!==g.pe.Ee||a.Hi.Ie(r));break;case T.Playback.DROPPED_FRAMES_COUNT:0,s=n,o=f(),s=parseInt(s,10),isNaN(s)||(!a.Vi||o!==g.pe.Re&&o!==g.pe.Ee||a.Vi.ye(s),!a.Hi||o!==g.pe.we&&o!==g.pe.Ee||a.Hi.ye(s));break;default:r=t,o=n,s=f(),!void(Q.St(r)&&o&&(!a.Vi||s!==g.pe.Re&&s!==g.pe.Ee||a.Vi.Bt(r,o),!a.Hi||s!==g.pe.we&&s!==g.pe.Ee||a.Hi.Bt(r,o)))}var s,o,r,u,h}};ut.AnalyticsImpl.pe={Re:1,we:2,Ee:3};var e=ut.PlayerMonitor=N=ut.PlayerMonitorImpl=function(){var r=this;r.ie=null,r.ue=null,r.fe=a.NO_SESSION_KEY,apply(this,arguments),this.getPHT=function(){return r.Xe()},this.getBufferLength=function(){return r.Qe()},this.getRenderedFrameRate=function(){return r.ze()},this.getSignalStrength=function(){return r.ns()},this.Je=this.Ke=this.Nt=this.he=this.Os=this.At=this.ys=function(){r.ie&&r.fe!==T.NO_SESSION_KEY&&r.ie.adEnd(r.fe)},this.Ns=this.Ot=this.ms=this.re=function(){if(r.ie){r.ue=r.ie.getPlayerStateManager(!0),r.he(),r.ue.setClientMeasureInterface(this);try{var t;r.Rt&&r.Rt.custom&&!r.Rt.custom[T.UTM_TRACKING_URL]&&(Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var n=Object(this),i=n.length>>>0;if("function"!==typeof t)throw new TypeError;for(var e,s=[],o=arguments.length>=2?arguments[1]:void 0,r=0;r<i;r++)r in n&&(e=n[r],t.call(o,e,r,n)&&s.push(e));return s}),""!==(t=Q.Ds().split("?").join("").split("&").filter(.join("&"))&&(r.Rt.custom[T.UTM_TRACKING_URL]=t))}catch(t){r.l.error("PlayerMonitorImpl _createSession : "+t)}r.fe=r.ie.createSession(r.Rt,r.ue,!0)}},this.ds=this.Jn=this.Ts=this.as=function(){var t,n=r.us(),i=!1,e=!1;for(t in n){var s=n[t];if(Q.St(t)&&null!==s&&void 0!==s)switch(t){case T.STREAM_URL:e=!0,r.Rt.streamUrl=s;break;case T.ASSET_NAME:e=!0,r.Rt.assetName=s;break;case T.DEFAULT_RESOURCE:e=!0,r.Rt.defaultResource=s;break;case T.VIEWER_ID:e=!0,r.Rt.viewerId=s;break;case T.PLAYER_NAME:e=!0,r.Rt.applicationName=s;break;case T.DURATION:e=!0,r.Rt.duration=s;break;case T.IS_LIVE:e=!0,r.Rt.streamType=s;break;case T.ENCODED_FRAMERATE:e=!0,r.Rt.encodedFrameRate=s;break;case T.MODULE_NAME:case T.MODULE_VERSION:case T.FRAMEWORK_NAME:case T.FRAMEWORK_VERSION:i=!0,r.He[t]=s;break;case T.APPLICATION_VERSION:default:e=!0,r.Rt.custom[t]=s}}i&&this.he(),e&&this.Nt()},this.gs=function(){this.Ms(T.Events.POD_START)},this._s=this.Ms=this.ts=function(t){r.ue.setDroppedFramesCount(t)},this.Ls=this.ae=function(){return this.fe},this.Ft=function(){return r.ie.getSessionId(this.fe)},this.Ht=this.Bt=N.prototype=Object.create(e.prototype),N.prototype.constructor=N};ht.Impl=ht.Impl||{},ht.Impl.Html5Http=ht.Impl=ht.Impl||{},ht.Impl.Html5Logging=function(){(function(){}).apply(this,arguments),this.consoleLog=this.release=function(){}},ht.Impl=ht.Impl||{},ht.Impl.Html5Metadata=function(){(function(){}).apply(this,arguments),this.getBrowserName=function(){return null},this.getBrowserVersion=function(){return null},this.getDeviceBrand=function(){return null},this.getDeviceManufacturer=function(){return null},this.getDeviceModel=function(){return null},this.getDeviceType=function(){return null},this.getDeviceVersion=function(){return null},this.getFrameworkName=function(){return null},this.getFrameworkVersion=function(){return null},this.getOperatingSystemName=function(){return null},this.getOperatingSystemVersion=function(){return null},this.getDeviceCategory=this.getScreenWidth=function(){return"undefined"!==typeof window&&window&&window.screen&&window.screen.width?window.screen.width.toString():null},this.getScreenHeight=this.getScaleFactor=this.release=function(){}},ht.Impl=ht.Impl||{},ht.Impl.Html5Storage=ht.Impl=ht.Impl||{},ht.Impl.Html5Time=ht.Impl=ht.Impl||{},ht.Impl.Html5Timer=var n,s,O,_,A,C=ut.VideoAnalytics=function(){var s=this;s.Gi=null,s.d=null,s.ji=null,s.Hi=null,s.Wi=null,this.release=apply(this,arguments),this.reportPlaybackRequested=this.reportPlaybackEnded=function(){s.l,s.Hi&&s.Hi.ki()&&(s.Hi.Bi(!1),"undefined"!==typeof ht.ProxyMonitor&&s.Wi&&(ht.ProxyMonitor.release(s.Wi),s.Wi=null),s.Hi.Xi(null))},this.reportPlaybackFailed=this.setContentInfo=function(t){Q.mt(t)<=0||s.Hi&&(s.l,s.Hi.Yi(t))},this.setPlayerInfo=this.reportPlaybackMetric=this.reportPlaybackError=this.reportPlaybackEvent=this.setCallback=this.reportAdBreakStarted=this.reportAdBreakEnded=this.setPlayer=function(t,n){var i,e;void 0!==t&&(n&&(i=n[T.CONVIVA_MODULE],e=n[T.MEDIA_ELEMENT]),"undefined"!==typeof i?ht.ProxyMonitor=i.ProxyMonitor:"undefined"!==typeof ConvivaModule&&(ht.ProxyMonitor=ConvivaModule.ProxyMonitor),"undefined"!==typeof ht.ProxyMonitor&&(s.l,!t&&s.Wi?(ht.ProxyMonitor.release(s.Wi),s.Wi=null):t?(s.Wi&&ht.ProxyMonitor.release(s.Wi),s.l,s.Wi="undefined"!==typeof e?ht.ProxyMonitor.initConvivaDropIn(t,e,s.d,this,ht):ht.ProxyMonitor.initConvivaDropIn(t,s.d,this,ht)):t||"undefined"===typeof e||(s.Wi=ht.ProxyMonitor.initConvivaDropIn(t,e,s.d,this,ht))))},this.setAdAnalytics=this.configureExistingSession=this.getSessionId=this.getClientId=this.qi=this.getAdType=function(){return s.Hi?s.Hi.zi:null},this.ne=C.prototype=Object.create(g.prototype),C.prototype.constructor=C};ction m(){var t,n,i,e="";if('"'===s)for(;y();){if('"'===s)return y(),e;if("\\"===s)if(y(),"u"===s){for(n=i=0;n<4&&(t=parseInt(y(),16),isFinite(t));n+=1)i=16*i+t;e+=String.fromCharCode(i)}else{if("string"!==typeof _[s])break;e+=_[s]}else e+=s}I("Bad string")}t.JsonParse=(_={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},A=;var P,b,M,L,U,V=ut.JSON2={};unction"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=,"function"!==typeof V.stringify&&(P=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,L={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},V.stringify=function(t,n,i){var e;if(M=b="","number"===typeof i)for(e=0;e<i;e+=1)M+=" ";else"string"===typeof i&&(M=i);if((U=n)&&"function"!==typeof n&&("object"!==typeof n||"number"!==typeof n.length))throw new Error("JSON2.stringify");return function t(n,i){var e,s,o,r,u,h=b,a=i[n];switch(a&&"object"===typeof a&&"function"===typeof a.toJSON&&(a=a.toJSON(n)),"function"===typeof U&&(a=U.call(i,n,a)),typeof a){case"string":return F(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(b+=M,u=[],Object.prototype.toString.apply(a)===Object.prototype.toString.apply([])){for(r=a.length,e=0;e<r;e+=1)u[e]=t(e,a)||"null";return o=0===u.length?"[]":b?"[\n"+b+u.join(",\n"+b)+"\n"+h+"]":"["+u.join(",")+"]",b=h,o}if(U&&"object"===typeof U)for(r=U.length,e=0;e<r;e+=1)"string"===typeof U[e]&&(o=t(s=U[e],a))&&u.push(F(s)+(b?": ":":")+o);else for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o=t(s,a))&&u.push(F(s)+(b?": ":":")+o);return o=0===u.length?"{}":b?"{\n"+b+u.join(",\n"+b)+"\n"+h+"}":"{"+u.join(",")+"}",b=h,o}}("",{"":t})});var H=ut.CwsProtocol=H.version="2.6",H.Fs="/0/wsg",H.M="0",H.Hs=-1,H.Bs=!1,H.Gs=2,H.js=-1,H.Ks=-1,H.Ws=1e3,H.xs="sdk.js.1",H.qs="CwsStateChangeEvent",H.Ys="CwsErrorEvent",H.ks="CwsSessionEndEvent",H.Js="CwsCustomEvent",H.Xs="CwsSeekEvent",H.Qs="CwsDataSamplesEvent",H.Zs="ok",H.zs="err",H.$s="clid",H.no="cfg",H.io="evs",H.eo="maxhbinfos",H.so="slg",H.oo="hbi",H.ro="gw",H.uo="fp",H.ho="csi_en",H.ao="CwsSessionHb",H.fo="t",H.co="st",H.lo="sst",H.vo="lv",H.do="seq",H.Eo="cid",H.po="clid",H.Ro="clv",H.wo="pver",H.To="iid",H.So="sid",H.go="vid",H.No="an",H.Oo="pn",H._o="tags",H.Ao="sf",H.Co="evs",H.Io="lg",H.yo="hbinfos",H.mo="sdk",H.Do="pj",H.Po="ps",H.bo="br",H.Mo="cl",H.Lo="efps",H.Uo="afps",H.Vo="rfpstot",H.ko="rfpscnt",H.Fo="rs",H.Ho="pht",H.Bo="bl",H.Go="url",H.jo="caps",H.Ko="pm",H.Wo="w",H.xo="h",H.qo="ct",H.Yo="le",H.Jo="dftot",H.Xo="dfcnt",H.Qo="ss",H.Zo="csi_n",H.zo="csi_t",H.$o="csi_l",H.tr="csi_v",H.nr="csi_c",H.ir="sch",H.er="br",H.sr="brv",H.or="dvb",H.rr="dvma",H.ur="dvm",H.hr="dvt",H.ar="dvv",H.fr="sw",H.cr="sh",H.lr="scf",H.vr="fw",H.dr="fwv",H.Er="cc",H.pr="mn",H.Rr="mv",H.wr="os",H.Tr="osv",H.Sr="cat",H.gr="caps",H.Nr="t",H.Or="seq",H._r="st",H.Ar="act",H.Cr="skto",H.Ir="err",H.yr="ft",H.mr="new",H.Dr="old",H.Pr="name",H.br="attr",H.Mr="seq",H.Lr="err",H.Ur="rtt",H.Vr="ad",H.kr="csi",H.Fr=H.Hr=1,H.Br=3,H.Gr=6,H.jr=12,H.Kr=98,H.Wr=100,H.xr={qr:0,lt:1,Yr:2,Jr:4},H.Xr={Qr:0};var B=ut.LibJSONInterface=G=ut.CwsHeartbeat=j=ut.CwsSession=function(){var p=this;p.lh=null,p.Rt=null,p.vh=0,p.dh=0,p.Eh=H.xr.qr,p.ph=H.Xr.Qr,p.Rh=[],p.wh=-1,p.dn=-2,p.Zn=-1,p.Th=-1,p.Sh=null,p.En=u.PlayerState.UNKNOWN,p.ln=-1,p.gh=-1,p.hn=null,p.Nn=-1,p.On=-1,p.ue=null,p.en=null,p.rn=null,p.Nh=null,p.Oh=null,p._h={},p.Ah=null,p.Ch=null,p.Ih=null,p.yh=null,p.mh=null,p.Dh=null,p.Ph=null,p.bh=null,p.Mh=null,p.Lh=null,p.Uh=null,p.Vh=null,p.kh=null,p.Fh=null,p.Hh=null,p.Sn=null,p.gn=null,p.C=null,p.I=null,p.ke=null,p.Bh=null,p.Gh=!1,p.jh=!1,p.Kh=!1,p.Wh=!1,p.xh=null,p.qh=1e3,p.Yh=0,p.Jh=0,p.Xh={},p.O={},p.Qh=!1,p.Zh=null,p.zh=null,p.$h=null,p.ta=null,p.na=null,p.ia=null,p.ea=12e4,p.sa=H.Bs,p.oa=!1,p.ra=null,p.fi=null,apply(this,arguments),this.ft=this.va=this.Sa=this.ga=this.Ia=this.ba=this.Lu=function(t){var n=p.Ah;n!==t&&t&&(p.l.debug("Change browserName from "+n+" to "+t),p.Ah=t)},this.Uu=function(t){var n=p.Ch;n!==t&&t&&(p.l.debug("Change browserVersion from "+n+" to "+t),p.Ch=t)},this.Vu=function(t){var n=p.Ih;n!==t&&t&&(p.l.debug("Change deviceBrand from "+n+" to "+t),p.Ih=t)},this.ku=function(t){var n=p.yh;n!==t&&t&&(p.l.debug("Change deviceManufacturer from "+n+" to "+t),p.yh=t)},this.Fu=function(t){var n=p.mh;n!==t&&t&&(p.l.debug("Change deviceModel from "+n+" to "+t),p.mh=t)},this.Hu=function(t){var n=p.Dh;n!==t&&t&&(p.l.debug("Change deviceType from "+n+" to "+t),p.Dh=t)},this.Bu=function(t){var n=p.Ph;n!==t&&t&&(p.l.debug("Change deviceVersion from "+n+" to "+t),p.Ph=t)},this.Ku=function(t){var n=p.Lh;n!==t&&t&&(p.l.debug("Change operatingSystemName from "+n+" to "+t),p.Lh=t)},this.Wu=function(t){var n=p.Uh;n!==t&&t&&(p.l.debug("Change operatingSystemVersion from "+n+" to "+t),p.Uh=t)},this.xu=function(t){var n=p.Vh;n!==t&&t&&(p.l.debug("Change deviceCategory from "+n+" to "+t),p.Vh=t)},this.qu=function(t){var n=p.kh;n!==t&&t&&(p.l.debug("Change screenWidth from "+n+" to "+t),p.kh=t)},this.Yu=function(t){var n=p.Fh;n!==t&&t&&(p.l.debug("Change screenHeight from "+n+" to "+t),p.Fh=t)},this.Ju=function(t){var n=p.Vh;n!==t&&t&&(p.l.debug("Change scaleFactor from "+n+" to "+t),p.Hh=t)},this.La=function(){return p.bh},this.Gu=function(t){var n=p.bh;n!==t&&t&&(p.l.debug("Change frameworkName from "+n+" to "+t),p.bh=t)},this.Ua=function(){return p.Mh},this.ju=function(t){var n=p.Mh;n!==t&&t&&(p.l.debug("Change frameworkVersion from "+n+" to "+t),p.Mh=t)},this.zu=this.Va=this.ma=this.ka=this.Ha=this.Fa=this.Ga=function(t){var n=p.dn;n!==t&&t>0&&(p.l.info("Change bitrate from "+n+" to "+t),p.ja(n,t),p.dn=t)},this.Xu=this.ts=this.yu=function(t){var n=p.Sh;n!==t&&t&&(p.l.info("Change resource from "+n+" to "+t),p.Sh=t)},this.pu=this.ru=this.Eu=function(t){var n=p.rn;n!==t&&t&&(p.l.info("Change viewerId from "+n+" to "+t),p.rn=t)},this.Ru=this.wu=this.mu=function(t){p.Rt.encodedFrameRate>0||(p.l.debug("setEncodedFrameRate(): "+t),p.ln=t)},this.Cu=this.Se=this.Ja=function(t){var n=p.Nn;n!==t&&t>0&&(p.l.debug("Change stream resolution width from "+n+" to "+t),p.Xa(n,t),p.Nn=t)},this.Qa=this.nh=function(t){var n=p.C;n!==t&&t&&(p.l.debug("Change network connection type from "+n+" to "+t),p.za(n,t),p.C=t)},this.ih=this.rh=this.nf=this.ef=function(t,n){p.sf(t,n)},this.rf=this.cf=this.ya=this.sf=this.ja=this.Ef=this.Xa=function(t,n){var i={},e={};-1!==t&&(e[H.Wo]=t),i[H.Wo]=n,this.Ba(i,e)},this.Za=this.za=function(t,n){var i={},e={};null!==t&&(e[H.qo]=t),i[H.qo]=n,this.Ba(i,e)},this.$a=this.tf=this.Ka=function(t,n){var i={},e={};t>=0&&(e[H.Jo]=t),i[H.Jo]=n,this.Ba(i,e)},this.Wa=this.if=this.Ya=this.Ba=this.pf=this.Da=function(){p.lh&&(p.lh(),p.lh=null)},this.Ma=this.vf=this.lf=this.wf=this.Tf=this.Sf=this.gf=this.Of=this._f=function(){var t,n=-1,i=-1,e=p.ua.la();if(p.Na()&&0===e.length)return null;var s=new G;s.eu(H.ao),s.hu(p.ai.customerKey),s.au(p.ca.get(q.P)),s.vu(p.da.g),s.uu(p.dh),s.cu(H.version);var o=T.version;if(p.fi&&(o=p.fi),s.fu(o),s.du(p.Gi.g),s.lu(0),p.Gi.C?s.nh(p.Gi.C):p.C&&s.nh(p.C),p.Gi.I?s.ih(p.Gi.I):p.I&&s.ih(p.I),Q.St(p.ke)&&s.rh(p.ke),s.Mu(H.xs),p.Ah&&s.Lu(p.Ah),p.Ch&&s.Uu(p.Ch),p.Ih&&s.Vu(p.Ih),p.yh&&s.ku(p.yh),p.mh&&s.Fu(p.mh),p.Dh&&s.Hu(p.Dh),p.Ph&&s.Bu(p.Ph),p.Lh&&s.Ku(p.Lh),p.Uh&&s.Wu(p.Uh),p.Vh&&s.xu(p.Vh),p.bh&&s.Gu(p.bh),p.Mh&&s.ju(p.Mh),p.kh&&!isNaN(p.kh)&&s.qu(parseInt(p.kh,10)),p.Fh&&!isNaN(p.Fh)&&s.Yu(parseInt(p.Fh,10)),p.Hh&&!isNaN(p.Hh)?s.Ju(parseFloat(p.Hh)):(p.kh&&!isNaN(p.kh)||p.Fh&&!isNaN(p.Fh))&&s.Ju(1),p.ue&&(p.Sn=p.ue.Mn(),p.Sn&&s.setModuleName(p.Sn),p.gn=p.ue.Ln(),p.gn&&s.oh(p.gn),p.ue.Un()&&(p.bh=p.ue.Un(),s.Gu(p.bh)),p.ue.kn()&&(p.Mh=p.ue.kn(),s.ju(p.Mh))),p.rn&&s.Eu(p.rn),Q.mt(p._h)>0&&s.wu(p._h),p.pa()||p.Ra()){p.Ra()&&s.eh(),p.en&&s.pu(p.en),s.Tu(p.Eh);o=H.Fr(p.En);s.Se(o),s.Au(p.Gh),p.Nh&&s.Ru(p.Nh),Q.mi(p.Oh)&&s.ru(p.Oh),p.gh>0&&s.Cu(p.gh),p.dn>0&&s.Iu(p.dn),null!==p.Sh&&s.yu(p.Sh),p.ln>0&&s.mu(p.ln),p.ue&&(n=tt.af(p.ue.getPHT(),0,null,-1),i=tt.af(p.ue.getBufferLength(),0,null,-1)),Q.dt(p.Gi.y)?t=p.Gi.y:p.ue&&(t=p.ue.getSignalStrength()),n>=0&&s.Qu(n),i>0&&s.Zu(i);i=p.Af();if(i>0&&s.Du(i),p.Jh>0&&s.bu(tt.af(p.Jh,0,null,-1)),p.Yh>0&&s.Pu(tt.af(p.Yh,0,null,-1)),t!==u.DEFAULT_SIGNAL_STRENGTH&&s.sh(t),p.hn&&s.zu(p.hn),p.Nn>0&&s.$u(p.Nn),p.On>0&&s.th(p.On),p.Zn>-1&&s.Xu(p.Zn),p.Th>-1&&(s.ts(p.Th),p.Th>0&&(p.Wa(p.Th,0),p.Th=0)),"undefined"!==typeof p.Bh)for(var r in p.Bh)s.nu(r,p.Bh[r])}else s.Tu(H.xr.qr);return e.length>0&&s.gu(e),s.Su(p.ph),s.Nu(!0),p.ca.get(q.Cf)&&s.Ou(p.ci.la()),p.ca.get(q.Nf)>0&&((e=p.Of()).length>0&&s._u(e)),0===p.dh&&(s=p.If(s)),0!==p.dh&&(s=p.yf(s)),s.ou(p.vh),s.su(p.uf()),p.sa&&(s.uh(p.Zh),s.hh(p.zh),s.ah(p.$h),s.fh(p.ta),s.ch(p.na)),p.dh++,s.get()},this.yf=this.If=this.Mf=this.Lf=function(){try{if("undefined"!==typeof document&&document){var t=document.createElement("CANVAS");if("undefined"!==typeof t&&t&&"function"===typeof t.getContext){var n=t.getContext("2d"),i="conviva";return n.textBaseline="top",n.font="14px Arial",n.textBaseline="alphabetic",n.fillStyle="#f40",n.fillRect("undefined"!==typeof navigator.plugins&&navigator.plugins?navigator.plugins.length:0,"undefined"!==typeof navigator.mimeTypes&&navigator.mimeTypes?navigator.mimeTypes.length:0,"undefined"!==typeof navigator.product&&navigator.product?navigator.product.length:0,"undefined"!==typeof navigator.vendor&&navigator.vendor?navigator.vendor.length:0),n.fillStyle="#069",n.fillText(i,"undefined"!==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>=0?navigator.maxTouchPoints:0,"undefined"!==typeof navigator.product&&navigator.product?navigator.product.length:0),n.fillStyle="rgba(102, 204, 0, 0.7)",n.fillText(i,"undefined"!==typeof navigator.deviceMemory&&navigator.deviceMemory?navigator.deviceMemory:0,"undefined"!==typeof navigator.hardwareConcurrency&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:0),Q.Uf(t.toDataURL())}}return""}catch(t){return""}},this.Pa=this.Rf=this.Af=this.Vf=this.Hf=function(e,s,o){p.Kh||p.T.D("onHeartbeatResponse",function(){var t,n,i;e?s?(p.l.debug("onHeartbeatResponse(): received valid response for HB["+o+"]"),p.Sf(o),!(i=s[H.$s])||i!==(t=p.ca.get(q.P))&&(p.l.debug("onHeartbeatResponse(): setting the client id to "+i+" (from gateway)"),p.ca.set(q.P,i),p.ca.Bf(),t===H.M&&i!==H.M&&p.Gi.m()),(t=s[H.zs])&&t!==H.Zs&&p.l.error("onHeartbeatResponse(): error from gateway: "+t),"object"===typeof(i=s[H.no])&&((t=i[H.eo])>=0&&p.ca.get(q.Nf)!==t&&(p.l.debug("onHeartbeatResponse(): setting Maximum Heartbeat Infos to "+t+" (from gateway)"),p.ca.set(q.Nf,t)),t=i[H.so],(t=!!Q.mi(t)&&t)!==p.ca.get(q.Cf)&&(p.l.debug("onHeartbeatResponse(): turning "+(t?"on":"off")+" sending of logs"),p.ca.set(q.Cf,t)),t=i[H.oo],!Q.dt(t)||(n=Q.kf.Cast(t))!==p.ai.heartbeatInterval&&(p.l.debug("onHeartbeatResponse(): received hbIntervalMs from gateway: "+n),p.ai.heartbeatInterval=n,p.lh&&p.Ma()),(n=i[H.ro])&&n!==p.ai.gatewayUrl&&(p.l.debug("onHeartbeatResponse(): received gatewayUrl from gateway: "+n),p.ai.gatewayUrl=n),p.Gf()||(p.Xh={},(n=i[H.uo])&&(p.Qh||(p.Qh=!0),p.l.debug("onHeartbeatResponse(): received fp from gateway: "+n),p.Xh=n.split(",")),p.sa=i[H.ho],Q.mi(p.sa)&&(p.sa?(p.l.debug("onHeartbeatResponse(): enabling the CDN Server IP collection"),p.ia||p.Va()):p.ma())))):p.l.warning("onHeartbeatResponse(): decoded heartbeat response is null."):(i=s,Q.St(i)?Q.jf(i,"HTTP timeout")?p.l.warning("onHeartbeatResponse(): "+i):p.l.error("onHeartbeatResponse(): failed to send heartbeat: "+i):(i=K.Kf,p.l.error("onHeartbeatResponse(): "+i)),p.Tf(o,i))})},this.uf=this.df=this.Ta=this.Na=function(){return this.Ea===j.vt.qr},this.Gf=this.pa=function(){return this.Ea===j.vt.lt},this.Ra=this.Nt=this.Wf=this.Oa=this._a=this.Ca=this.Bt=this.Aa=;j.wa=H.xr.lt+H.xr.Yr+H.xr.Jr,j.vt={lt:"Video",qr:"Global",Tt:"Ad"};var K=ut.Session=function(){var e=this;e.ue=null,e.g=0,e.Ea=j.vt.lt,e.xf=!1,e.Kh=!1,e.qf=!1,e.Yf=null,e.Ki=null,e.Jf=null,e.Xf=!1,e.Qf=u.PlayerState.NOT_MONITORED,e.Zf=!1,e.zf=!1,e.$f=!1,e.tc=!1,e.nc=!1,apply(e,arguments),this.va=this.cleanup=this.uc=this.rc=this.sc=this.ac=function(){var t=e.ic.get(),n=t[st.BROWSER_NAME];n&&e.pt.Lu(n);n=t[st.BROWSER_VERSION];n&&e.pt.Uu(n);n=t[st.DEVICE_BRAND];n&&e.pt.Vu(n);n=t[st.DEVICE_MANUFACTURER];n&&e.pt.ku(n);n=t[st.DEVICE_MODEL];n&&e.pt.Fu(n);n=t[st.DEVICE_TYPE];n&&e.pt.Hu(n);n=t[st.DEVICE_VERSION];n&&e.pt.Bu(n);n=t[st.FRAMEWORK_NAME];n&&e.pt.Gu(n);n=t[st.FRAMEWORK_VERSION];n&&e.pt.ju(n);n=t[st.OPERATING_SYSTEM_NAME];n&&e.pt.Ku(n);n=t[st.OPERATING_SYSTEM_VERSION];n&&e.pt.Wu(n);n=t[st.DEVICE_CATEGORY];n&&e.pt.xu(n);n=t[st.SCREEN_WIDTH];n&&e.pt.qu(n);n=t[st.SCREEN_HEIGHT];n&&e.pt.Yu(n);t=t[st.SCALE_FACTOR];t&&e.pt.Ju(t)},this.Kn=this.Wn=function(t){e.Zf||e.pt.Ga(t)},this.zn=function(t){e.zf||e.pt.Xu(t)},this.$n=this.xn=this.yn=function(t){t>0&&(e.tc||e.pt.mu(t))},this.Pn=this.bn=function(t){e.pt.zu(t)},this.qn=function(t){e.pt.Ja(t)},this.Yn=function(t){e.pt.Qa(t)},this.Y=function(t){e.pt.nh(t)},this.X=function(t){e.pt.ih(t)},this.Vn=function(t){e.pt.La()||e.pt.Gu(t)},this.Fn=this.Xn=this.Jn=this.Cn=this.Mt=this.Lt=this.Ot=this.hc=this._t=this.At=this.Ct=this.Vt=function(){return e.ue},this.It=this.yt=this.gt=this.Nt=this.bt=function(t,n){e.pt.pf(t,n)},this.Na=function(){return e.Ea===j.vt.qr},this.pa=function(){return e.Ea===j.vt.lt},this.Ra=this.Ta=this.Ft=function(){return this.g},this.Ht=this.Bt=;K.Kf="received no response (or a bad response) to heartbeat POST request";var W=ut.SessionFactory=function(){var o=this;o.ci=null,o.cc=0,o.lc=null,apply(o,arguments),this.ft=function(){for(var t in 0,o.ci=null,o.lc)o.lc[t].cleanup();o.lc=null,o.cc=0},this.vc=this.ct=this.H=this.Ec=this.dc=this.Pt=this.Et=function(t){t=this.Pt(t);return t&&(t.pa()||t.Ra()||(t=null)),t},this.Rc=this.wc=this.Ut=this.q=function(){return o.lc}},x=ut.Tc=q=ut.Config=function(t,n,i){var e=this;this.gc=n,this.Nc=i,this.Oc={clientId:H.M,iid:H.Hs,sendLogs:!1,maxHbInfos:H.Gs},this.S=Q.bf(this.Oc),this._c=!1,this.Ac=!1,this.Cc=[],this.ec=this.ot=this.yc=this.Pc=this.Bf=function(){this.gc.Bf(q.Ic,this.Pc(),},this.oc=this.get=this.set=this.mc=;q.Ic="sdkConfig",q.Dc="clId",q.rt="iid",q.P="clientId",q.Cf="sendLogs",q.Nf="maxHbInfos",q.mf="c3.fp.",q.jt={Df:"0",bc:"1",Kt:"2",Gt:"3",Pf:"4",xt:"5",Wt:"6"};var Y=ut.EventQueue=J=ut.ExceptionCatcher=function(t,n,i){this.Uc=n,this.w=i,this.D=this.Vc=function(t,n){var i="Uncaught exception: "+t+": "+n.toString();if(this.Uc)try{this.Uc.Ff(i)}catch(t){0}}},X=ut.GatewayControl=Q=ut.Lang={};Q.Bc=Q.Dt=Q.mn=Q.mt=Q.wt=function(t){return""+t},Q.Gc=Q.Zt=Q.jc=function(t){return Boolean(t)},Q.St=Q.jf=function(t,n){return"string"===typeof t&&"string"===typeof n&&("function"===typeof t.indexOf&&0===t.indexOf(n))},Q.mi=function(t){return"boolean"===typeof t},Q.Kc=Q.$r=Q.qa=Q.Wc=Q.bf=Q.xa=Q.cs=Q.dt=Q.xc=Q.qc=Q.Yc=Q.Yt=Q.Jt=Q.Uf=function(){var n={two32:4294967296};n.Jc=n.two32-1,n.Xc=0,Q.Qc=n,Q.Qc.Cast=function(t){t=parseInt(t,10);return t>n.Jc?t=t%n.two32:t<n.Xc&&(t=-t%n.two32,t=n.two32-t),t},Q.Qc.Zc=function(t){t=parseInt(t,10);return t<=n.Jc&&t>=n.Xc};var i={Jc:2147483647,Xc:-2147483648};Q.kf=i,Q.kf.Cast=function(t){t=parseInt(t,10);return t>i.Jc?t=t%i.Jc:t<i.Xc&&(t=-t%i.Jc,t=i.Jc-t),t},Q.kf.Zc=Q.Ds=Q.zc=();var Z=ut.LogBuffer=z=ut.Ping=z.ol="sdkjs",z.sl="https://pings.conviva.com/ping.ping";var $=ut.rl={};$.ul=4294967295,$.hl=2147483647,$.al=-2147483648,$.pc=$.ut=var tt=ut.fl={};tt.af=function(t,n,i,e){if(isNaN(t))return e;if("number"!==typeof t)return e;if(t===e)return e;t=Q.Gc(t);return tt.cl(t,n,i)},tt.cl=tt.cn=var nt=ut.StreamerError=it=ut.HttpClient=et=ut.Logger=function(t,n,i,e,s){this.ri=t,this.ni=n,this.R=i,this.ci=e,this.hi=s,this.debug=function(t){this.log(t,w.LogLevel.DEBUG)},this.info=function(t){this.log(t,w.LogLevel.INFO)},this.warning=function(t){this.log(t,w.LogLevel.WARNING)},this.error=this.log=this.dl=function(t){return"["+this.Sn+"] "+t},this.El=this.pl=this.Rl=this.wl=this.Sl=this.vu=function(t){this.gl=t},this.setModuleName=this.vl=;et.Tl=ut.Storage=ut.Storage.Nl="Conviva";var st=ut.SystemMetadata=function(t,n,i){this.oi=n,this.T=i,this.Ol=null,this.get=this.retrieve=function(){var t={};t[st.BROWSER_NAME]=this.oi.getBrowserName,t[st.BROWSER_VERSION]=this.oi.getBrowserVersion,t[st.DEVICE_BRAND]=this.oi.getDeviceBrand,t[st.DEVICE_MANUFACTURER]=this.oi.getDeviceManufacturer,t[st.DEVICE_MODEL]=this.oi.getDeviceModel,t[st.DEVICE_TYPE]=this.oi.getDeviceType,t[st.DEVICE_VERSION]=this.oi.getDeviceVersion,t[st.FRAMEWORK_NAME]=this.oi.getFrameworkName,t[st.FRAMEWORK_VERSION]=this.oi.getFrameworkVersion,t[st.OPERATING_SYSTEM_NAME]=this.oi.getOperatingSystemName,t[st.OPERATING_SYSTEM_VERSION]=this.oi.getOperatingSystemVersion,t[st.DEVICE_CATEGORY]=this.oi.getDeviceCategory,t[st.SCREEN_WIDTH]=this.oi.getScreenWidth,t[st.SCREEN_HEIGHT]=this.oi.getScreenHeight,t[st.SCALE_FACTOR]=this.oi.getScaleFactor;var n,e=this;for(n in 0,t)!n,t),Q.St(t[n])||delete t[n];var i=!1;if("undefined"!==typeof t[st.DEVICE_TYPE]){for(var s in a.DeviceType)if(t[st.DEVICE_TYPE]===a.DeviceType[s]){i=!0;break}i||delete t[st.DEVICE_TYPE]}if(i=!1,"undefined"!==typeof t[st.DEVICE_CATEGORY]){for(var o in a.DeviceCategory)if(t[st.DEVICE_CATEGORY]===a.DeviceCategory[o]){i=!0;break}i||delete t[st.DEVICE_CATEGORY]}this.Ol=Q.Wc(t)}};st.BROWSER_NAME="browserName",st.BROWSER_VERSION="browserVersion",st.DEVICE_BRAND="deviceBrand",st.DEVICE_MANUFACTURER="deviceManufacturer",st.DEVICE_MODEL="deviceModel",st.DEVICE_TYPE="deviceType",st.DEVICE_VERSION="deviceVersion",st.FRAMEWORK_NAME="frameworkName",st.FRAMEWORK_VERSION="frameworkVersion",st.OPERATING_SYSTEM_NAME="operatingSystemName",st.OPERATING_SYSTEM_VERSION="operatingSystemVersion",st.DEVICE_CATEGORY="deviceCategory",st.SCREEN_WIDTH="screenWidth",st.SCREEN_HEIGHT="screenHeight",st.SCALE_FACTOR="scaleFactor";var ot=ut.Time=rt=ut.Timer=()}(),ht});