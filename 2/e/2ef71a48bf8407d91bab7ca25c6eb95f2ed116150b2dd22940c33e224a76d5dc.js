![function(t,e,r){"use strict";function n(t){this._player=t,this._pushTracked(t),this._metadata={title:null,thumb:null,url:null},this._bitrate=void 0,this._currentAdPosition=void 0,this._videoPlayed=!1,this._ended=!1,this._paused=!1,this._contentType="vod",this._viewStartTime=void 0,this._subscribeEvents(),this._viewObserver()}r(e),n.prototype._pushTracked=function(t){window._chartbeatStatus||(window._chartbeatStatus={loaded:[],tracked:[]}),window._chartbeatStatus.tracked.push(this._player.options.source)},n.prototype._viewObserver=function(){var t=this,e=this._player.container.el,r=new IntersectionObserver((function(){t._viewStartTime=Date.now(),r.unobserve(e)}),{root:document.body,rootMargin:"0px",threshold:1});r.observe(e)},n.prototype._bindContainerEvents=function(){var t=this;this._player.container.playback.on("wm:videometadata:loaded",(),this._player.container.on("container:bitrate",(),this._player.container.on("container:play",(function(){return t.onVideoPlay()})),this._player.container.on("container:pause",(function(){return t.onVideoPause()})),this._player.container.on("dfp:finished",(),this._player.container.on("dfp:ad:started",(function(e){t._contentType="ad";var r=e.getAdPodInfo().getPodIndex(),n={0:"PREROLL",3:"MIDROLL","-1":"POSTROLL"};t._currentAdPosition=r in n?n[r]:void 0})),this._player.container.on("dfp:content:resume",()},n.prototype._subscribeEvents=function(){this._player.container.playback.isPlaying()&&this.onVideoPlay(),this._bindContainerEvents()},n.ContentType={ad:"ad",vod:"ct"},n.AdPosition={PREROLL:"a1",MIDROLL:"a2",POSTROLL:"a3",OVERLAY:"a4",SPECIAL:"a5"},n.VideoState={UNPLAYED:"s1",PLAYED:"s2",STOPPED:"s3",COMPLETED:"s4"},n.prototype._setMetadata=function(t){var e=t.posterImageUrls&&Object.values(t.posterImageUrls);this._metadata={title:t.title,thumb:e.length>0?e[0]:"",url:t.urlForConsumption}},n.prototype.onVideoPlay=n.prototype.onVideoPause=function(){this._paused=!0},n.prototype.onVideoEnd=n.prototype.isReady=function(){return this._player.container.playback.video&&this._setMetadata(this._player.container.playback.video),null!==this.getTitle()},n.prototype.getTitle=function(){return this._metadata.title},n.prototype.getVideoPath=function(){return this._metadata.url},n.prototype.getContentType=function(){return n.ContentType[this._contentType]},n.prototype.getAdPosition=n.prototype.getTotalDuration=function(){return this._player.container.playback.video&&this._player.container.playback.video.duration},n.prototype.getState=function(){return this._videoPlayed?this._ended?n.VideoState.COMPLETED:this._paused?n.VideoState.STOPPED:n.VideoState.PLAYED:n.VideoState.UNPLAYED},n.prototype.getCurrentPlayTime=function(){return 1e3*this._player.container.playback.currentTime},n.prototype.getBitrate=n.prototype.getThumbnailPath=n.prototype.getViewStartTime=function(){return isNaN(this._viewStartTime)?0:Date.now()-this._viewStartTime},n.verify=function(t){return"enabled"in t&&"container"in t&&"playback"in t.container},(new(function(){ar e=t.prototype;return e.init=function(){var t,e=(t=o().mark((function t(){return o().wrap((,t,this)})),;return (),e.setStrategy=e.pushPlayers=t}())).init()}]);