var _anyclip;(()=>{"use strict";var e={d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function s(e,t=!1){return new Promise(((s,i)=>{const r=document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script");n.type="text/javascript",n.src=e,n.async=t,n.onload=s,n.onerror=i,r.insertBefore(n,r.firstChild)}))}function i(e){let t,s,i=e.length;for(;0!==i;)s=Math.floor(Math.random()*i),i-=1,t=e[i],e[i]=e[s],e[s]=t;return e}function r(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const s=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?s:3&s|8).toString(16)}))}function n(e,t){for(var s in t)if(t.hasOwnProperty(s))switch(s){case"left":case"right":case"top":case"bottom":case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"paddingLeft":case"paddingTop":case"paddingBottom":case"paddingRight":case"marginLeft":case"marginTop":case"marginBottom":case"marginRight":case"lineHeight":case"borderRadius":0!==t[s]&&"0"!==t[s]&&"number"==typeof t[s]&&(t[s]+="px");default:e.style[s]=t[s]}}e.r(t),e.d(t,{DisplayAdsManager:()=>L,getCurrentScript:()=>V});(new Date).getTime();function o(){return Date.now()}function a(e,t){if(window.sessionStorage)try{t&&window.sessionStorage.setItem(e,t)}catch(e){}}function d(e){let t=null;if(window.sessionStorage)try{e&&(t=window.sessionStorage.getItem(e))}catch(e){}return t?{value:t}:{}}function l(e,t){if(window.sessionStorage)for(const s in window.sessionStorage)0===s.indexOf(e)&&s!==t&&window.sessionStorage.removeItem(s)}const c=Object.prototype.toString,u=function(e){return p(e)?Object.keys(e):[]};function p(e){return!!e&&"object"==typeof e}function h(e){return p(e)&&"[object Object]"===c.call(e)&&e.constructor===Object}function f(...e){const t={};return e.forEach((e=>{var s,i;e&&(i=(e,s)=>{h(e)?(h(t[s])||(t[s]={}),t[s]=f(t[s],e)):t[s]=e},u(s=e).forEach((e=>i(s[e],e))))})),t}const m={appnexus:(e,t)=>{if(!t.hasOwnProperty("placementId"))return null;let s={placement_id:parseInt(t.placementId)};return t.floor&&0!=t.floor&&(s.reserve=t.floor),t.usePaymentRule&&(s.use_pmt_rule=!0),{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"appnexus",params:s}]}},onetag:(e,t)=>{if(!t.hasOwnProperty("pubId"))return null;let s={pubId:t.pubId};return{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"onetag",params:s}]}},openx:(e,t)=>{if(!t.hasOwnProperty("unit")||!t.hasOwnProperty("delDomain"))return null;let s={unit:t.unit,delDomain:t.delDomain};return t.floor&&0!=t.floor&&(s.customFloor=t.floor),{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"openx",params:s}]}},adf:(e,t)=>{if(!t.hasOwnProperty("mid"))return null;let s={mid:parseInt(t.mid)};return t.geo&&""!=t.geo&&("US"==t.geo||"CA"==t.geo)&&(s.adxDomain="adx2.adform.net"),{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"adf",getFloor:t.floor&&0!=t.floor?()=>({currency:"USD",floor:t.floor}):null,params:s}]}},pubmatic:(e,t)=>{if(!t.hasOwnProperty("publisherId")||!t.hasOwnProperty("adSlot"))return null;let s={publisherId:t.publisherId,adSlot:t.adSlot};return t.floor&&0!=t.floor&&(s.kadfloor=String(t.floor)),{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"pubmatic",params:s}]}},richaudience:(e,t)=>{if(!t.hasOwnProperty("placementId"))return null;let s={pid:t.placementId,supplyType:"site"};return t.floor&&0!=t.floor&&(s.bidfloor=t.floor),{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"richaudience",params:s}]}},triplelift:(e,t)=>{if(!t.hasOwnProperty("inventoryCode"))return null;let s={inventoryCode:t.inventoryCode};return t.floor&&0!=t.floor&&(s.floor=t.floor),{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"triplelift",params:s}]}},sharethrough:(e,t)=>{if(!t.hasOwnProperty("pkey"))return null;let s={pkey:t.pkey};return t.floor&&0!=t.floor&&(s.floor=t.floor),{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"sharethrough",params:s}]}},rubicon:(e,t)=>{if(!t.hasOwnProperty("accountId")||!t.hasOwnProperty("siteId")||!t.hasOwnProperty("zoneId"))return null;let s={accountId:parseInt(t.accountId),siteId:parseInt(t.siteId),zoneId:parseInt(t.zoneId)};return t.floor&&0!=t.floor&&(s.floor=t.floor),{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"rubicon",params:s}]}},unruly:(e,t)=>{if(!t.hasOwnProperty("siteId"))return null;let s={siteId:parseInt(t.siteId)};return t.floor&&0!=t.floor&&(s.floor=t.floor),{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"unruly",params:s}]}},yieldmo:(e,t)=>{if(!t.hasOwnProperty("placementId"))return null;let s={placementId:t.placementId};return t.floor&&0!=t.floor&&(s.bidFloor=t.floor),{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"yieldmo",params:s}]}},smartadserver:(e,t)=>{if(!t.hasOwnProperty("siteId")||!t.hasOwnProperty("pageId")||!t.hasOwnProperty("formatId"))return null;let s={siteId:parseInt(t.siteId),pageId:parseInt(t.pageId),formatId:parseInt(t.formatId)};return t.floor&&0!=t.floor&&(s.bidfloor=t.floor),{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"smartadserver",params:s}]}},"33across":(e,t)=>{if(!t.hasOwnProperty("siteId"))return null;let s={siteId:t.siteId,productId:"siab"};return{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"33across",getFloor:t.floor&&0!=t.floor?()=>({currency:"USD",floor:t.floor}):null,params:s}]}},axonix:(e,t)=>{if(!t.hasOwnProperty("supplyId"))return null;let s={supplyId:t.supplyId};return t.region&&""!=t.region&&(s.region=t.region),t.endpoint&&""!=t.endpoint&&(s.endpoint=t.endpoint),{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"axonix",getFloor:t.floor&&0!=t.floor?()=>({currency:"USD",floor:t.floor}):null,params:s}]}},sonobi:(e,t)=>{if(!t.hasOwnProperty("placementId"))return null;let s={placement_id:t.placementId};return t.floor&&0!=t.floor&&(s.floor=t.floor),{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"sonobi",params:s}]}},sovrn:(e,t)=>{if(!t.hasOwnProperty("tagId"))return null;let s={tagid:t.tagId};return t.floor&&0!=t.floor&&(s.bidfloor=t.floor),{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"sovrn",params:s}]}},criteo:(e,t)=>{if(!t.hasOwnProperty("networkId")&&!t.hasOwnProperty("zoneId"))return null;let s={};return t.networkId&&(s.networkId=parseInt(t.networkId)),t.zoneId&&(s.zoneId=parseInt(t.zoneId)),{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:"criteo",params:s}]}}};function g(e,t,s={}){return m[t]?m[t](e,s):null}let b={};function y(e){return"string"==typeof e}const I=function(e,t,s,i){if(!y(t))throw new Error("You must provide a valid topic to create a subscription.");const r={callback:e,context:s,priority:i=i||10};if(b[t]||(b[t]=[]),b[t].length){let e=!1;for(let s=b[t].length-1;s>=0;s--)if(b[t][s].priority<=i){b[t].splice(s+1,0,r),e=!0;break}e||b[t].unshift(r)}else b[t].push(r)},v=function(e,t){if(!y(e))throw new Error("You must provide a valid topic to publish.");const s=[].slice.call(arguments,1);if(!b[e]||b[e].length<1)return;b[e].forEach((function(e){try{e.callback.apply(e.context,s)}catch(e){}}))},w="ac_display_waterfall_af_";function A(e,t,s,i,r){let n=t,{value:o}=d(w+e);if(o){let t=Number(o),{value:l=!1}=d(w+"locked");if(l)if(l&&"dynamic"==s){n=Number((t*(1+i)).toFixed(2)),a(w+e,n)}else n=t;else{let s=Number((t*(1-i)).toFixed(2));n=s<r?r:s,a(w+e,n)}}else a(w+e,t);return n}window.anyclip_pbjs=window.anyclip_pbjs||{},window.anyclip_pbjs.que=window.anyclip_pbjs.que||[];let S=null,z=!1;const E="ac_user_ids";let C=null;function P(){let e=null;try{e=JSON.parse(function(e){let t=null;if(window.localStorage)try{e&&(t=window.localStorage.getItem(e))}catch(e){}return t}(E)).eids}catch(e){}return e||[]}function T(){return P()}function x(){try{const t={name:"pubProvidedId",params:{eidsFunction:T}};let s=anyclip_pbjs.getConfig("userSync.userIds");s&&Array.isArray(s)?(s.unshift(t),anyclip_pbjs.setConfig({userSync:{userIds:s}})):anyclip_pbjs.setConfig({userSync:{userIds:[t]}});let i=P(),r=null;if(0!=i.length)for(const e of i)e.source&&"adserver.org"===e.source&&e.uids[0].id&&(r=e.uids[0].id);if(null!=r){let e={name:"unifiedId",value:{tdid:r}};s=anyclip_pbjs.getConfig("userSync.userIds"),s&&Array.isArray(s)?(s.unshift(e),anyclip_pbjs.setConfig({userSync:{userIds:s}})):anyclip_pbjs.setConfig({userSync:{userIds:[e]}})}let n=(e="hadronId",C?C.find((t=>t.name===e)):null);n&&(s=anyclip_pbjs.getConfig("userSync.userIds"),s&&Array.isArray(s)&&(s.unshift({name:"hadronId",storage:{name:"hadronId",type:"html5"},params:{partnerId:n.partnerId}}),anyclip_pbjs.setConfig({userSync:{userIds:s}}))),anyclip_pbjs.refreshUserIds()}catch(e){}var e;anyclip_pbjs.onEvent("bidRequested",(e=>{try{for(const t of e.bids)if(t.userId.tdid&&Array.isArray(t.userId.pubProvidedId)){for(let e=0;e<t.userId.pubProvidedId.length;e++)if("adserver.org"===t.userId.pubProvidedId[e].source){t.userId.pubProvidedId.splice(e,1);break}if(Array.isArray(t.userIdAsEids))for(let e=0;e<t.userIdAsEids.length;e++)if("adserver.org"===t.userIdAsEids[e].source){t.userIdAsEids.splice(e,1);break}}}catch(e){}}))}const j=e=>(1==e.length||e.sort((function(e,t){return e.actualCPM>t.actualCPM?-1:1})),e);function k(e){return[...e.filter((e=>"gam"==e.bidder.code)),...e.filter((e=>"gam"!=e.bidder.code))]}const O=(e,t)=>new Promise(((s,i)=>{const n=[];let o=r();z=!1,S&&clearTimeout(S),t.isFirstRequest&&t.userIds&&(C=t.userIdsProviders,anyclip_pbjs.que.push(x)),function(){anyclip_pbjs.removeAdUnit();const r=[],a=[];for(let d=0;d<e.length;d++){let l=e[d];l.floor||(l.floor=l.cpm),t.isFirstRequest&&l.hasOwnProperty("firstReqFloor")?l.floor=l.firstReqFloor:(l.hasOwnProperty("adjustFloor")||(l.adjustFloor=!0),t.adjustFloors.enabled&&l.adjustFloor&&(l.floor=A(l.id,l.floor,t.adjustFloors.adjustModel,t.adjustFloors.decreasePercentage,t.adjustFloors.minFloor)));let c=g(l.id,l.bidder.code,Object.assign(l.bidder.params,{sizes:t.sizes.map((e=>[e.width,e.height])),floor:l.floor}));c&&(r.push(c),a.push(l))}if(0!=r.length){function u(e){if(S&&clearTimeout(S),e){if(z)return;a.forEach((t=>{if(e.hasOwnProperty(t.id)&&"banner"==e[t.id].bids[0].mediaType){let s=t.cpm?t.cpm:e[t.id].bids[0].cpm;n.push(Object.assign(t,{adServer:{bid:e[t.id].bids[0]},cpm:s,actualCPM:t.additionalFee?s*(1-t.additionalFee):s}))}})),0!=n.length?s(n):i("NO_BIDS")}else i("NO_BIDS")}const p=function(){a.forEach((function(e){v("AdRequest",{id:e.id,floor:e.floor})})),anyclip_pbjs.offEvent("requestBids",p)};anyclip_pbjs.onEvent("requestBids",p),anyclip_pbjs.que.push((()=>{anyclip_pbjs.addAdUnits(r),anyclip_pbjs.bidderSettings={standard:{storageAllowed:!0}};let e={debug:!1,device:{ua:navigator.userAgent,js:1,dnt:"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||"1"===navigator.msDoNotTrack?1:0,language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage},userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}}}};t.url&&(e.pageUrl=t.url);let s=t.gdpr&&t.consent||t.usPrivacy?{}:null;t.gdpr&&t.consent&&(s.gdpr={cmpApi:"static",allowAuctionWithoutConsent:!0,rules:[{purpose:"storage",enforcePurpose:!1,enforceVendor:!1},{purpose:"basicAds",enforcePurpose:!1,enforceVendor:!1},{purpose:"measurement",enforcePurpose:!1,enforceVendor:!1}],consentData:{getTCData:{tcString:t.consent,gdprApplies:t.gdpr}}}),t.usPrivacy&&(s.usp={cmpApi:"static",consentData:{getUSPData:{uspString:t.usPrivacy}}}),s&&(e.consentManagement=s),t.coppa&&1==parseInt(t.coppa)&&(e.coppa=!0);let i=((e=null)=>{let t={ver:null,complete:null,nodes:[]};if(e){var s=e.split("!");return s.length>1?(s.forEach((function(e,s){if(0==s){let s=e.split(",");"ver complete".split(" ").map((function(e,i){t[e]="complete"==e?parseInt(s[i]):s[i]}))}else{let s=e.split(","),i="asi sid hp rid name domain".split(" "),r={};i.map((function(e,t){""!=s[t]&&(r[e]="hp"==e?parseInt(s[t]):s[t])})),t.nodes.push(r)}})),t):null}return null})(t.schain);i&&(e.schain={validation:"strict",config:i}),anyclip_pbjs.setConfig(e),anyclip_pbjs.setBidderConfig({bidders:["rubicon"],config:{priceGranularity:"dense"}}),anyclip_pbjs.requestBids({bidsBackHandler:u,timeout:2e4,auctionId:o})})),S=setTimeout((()=>{z=!0,u()}),5e3)}else i("AD_UNITS_NOT_CONFIGURED")}()})),_={MIN:6e4,HOUR:36e5,DAY:864e5},R="ac_display_waterfall_frequency_";function D(e){return d(R+e)}function F(e,t){a(R+e,t)}function q(e){let{frequency:t,id:s}=e;if(null!=t){if("REQUEST"===t.type)return function(e,t,s,i){let{value:r}=D(i),n=o(),a=("number"==typeof s?6e4*s:0)||(_.hasOwnProperty(t)?_[t]:null);if(!a)return!0;if(!r)return F(i,JSON.stringify([n,1])),!0;let[d,l]=JSON.parse(r||"[]");return d&&l?n>d+a?(F(i,JSON.stringify([n,1])),!0):n<d+a&&l<e&&(F(i,JSON.stringify([d,l+1])),!0):(l=0,F(i,JSON.stringify([n,l+1])),!0)}(t.value,t.timePeriod,t.minutes,s);if("IMPRESSION"===t.type)return function(e,t,s,i){let{value:r}=D(i),n=o(),a=("number"==typeof s?6e4*s:0)||(_.hasOwnProperty(t)?_[t]:null);if(!a)return!0;if(!r)return F(i,JSON.stringify([n,0])),!0;let[d,l]=JSON.parse(r||"[]");return d&&l?n>d+a?(F(i,JSON.stringify([n,0])),!0):n<d+a&&l<e&&(F(i,JSON.stringify([d,l])),!0):(F(i,JSON.stringify([n,l])),!0)}(t.value,t.timePeriod,t.minutes,s)}return!0}class N{#e=[];#t=0;#s;#i;#r=[];constructor(e,t){this.#s=e,this.#i=t,this.#n(this.#s)}#n(e){return e.sort((function(e,t){const s=e.tier,i=t.tier,r=e.priority,n=t.priority;return s==i?r<n?-1:r>n?1:0:s<i?-1:1})),e}#o(e,t){return e.filter((s=>s.tier===e[t].tier&&s.priority===e[t].priority))}#a(){const e=[],t=[];for(let s=0;s<this.#s.length;s++)this.#s[s].bidder?e.push(this.#s[s]):t.push(this.#s[s]);let s=0;for(let r=0;r<t.length;r++)if(s<t.length){let r=this.#o(t,s);r.length>1?e.push(i(r)[0]):e.push(r[0]),s+=r.length}return this.#n(e),e}#d(){this.#e=this.#a()}#l(e,t){return e.filter((e=>e.tier===t.tier))}#c(){let e=null;if(this.#t>=this.#e.length){if(0!=this.#t||0!=this.#e.length)return null;this.#d(),this.#t=0}for(let t=0;t<this.#e.length;t++)if(t==this.#t){if(this.#e[t].bidder){e=this.#l(this.#e,this.#e[t]),this.#t+=e.length;break}e=this.#e[t],this.#t++;break}return e}#u(){return this.#r.shift()}nextTag(){return new Promise(((e,t)=>{if(0!=this.#r.length)return void e([this.#u(),this.#r.length]);let s=this.#c();if(s)if(Array.isArray(s)){let i=s.filter((e=>q(e)));0!=i.length?((e,t)=>new Promise(((s,i)=>{const r=[],n=[];e.forEach((e=>{if("aps"===e.bidder.code){let t=e.cpm;r.push(Object.assign(e,{cpm:t,actualCPM:e.additionalFee?t*(1-e.additionalFee):t})),v("AdRequest",{id:e.id,floor:e.floor})}else if("gam"===e.bidder.code||"gamfixed"===e.bidder.code){let t=e.cpm?e.cpm:e.floor;r.push(Object.assign(e,{cpm:t,actualCPM:e.additionalFee?t*(1-e.additionalFee):t})),v("AdRequest",{id:e.id,floor:e.floor})}else n.push(e)})),0!=n.length?O(n,t).then((e=>{let t=r.concat(e);s(k(j(t)))})).catch((e=>{0!=r.length?s(k(j(r))):i(e)})):0!=r.length?s(k(j(r))):i("NO_BIDS")})))(i,this.#i).then((t=>{if(t.length>1){for(let e=0;e<t.length;e++)this.#r.push(t[e]);e([this.#u(),this.#r.length])}else e([t[0],0])})).catch((e=>{t(e)})):t("no tag or tags for current time frame")}else q(s)?e([s,0]):t("no tag for current time frame");else t("END_OF_CYCLE")}))}}class B{#p;#h={};EVENTS={click:"click"};#f=this.#m.bind(this);constructor(){this.#g()}#g(){this.#p=document.createElement("button"),this.#p.addEventListener("click",this.#f),n(this.#p,{height:"17px",width:"17px","background-image":"url(https://assets.anyclip.com/anyclip-widget/lre-widget/assets/lre_theme/bar-close-btn.svg?hash=6f7f2c8afc)","background-size":"contain","background-repeat":"no-repeat","background-color":"#fff",display:"block",position:"absolute",top:"-20px",padding:0,"line-height":"normal",margin:0,"border-radius":"50%",border:"0 none",cursor:"pointer"})}#m(){this.EVENTS.click in this.#h&&this.#h[this.EVENTS.click]()}render(){return this.#p}addEventListener(e,t,s){const i=t.bind(s);this.#h[e]=i}removeEventListener(e){this.#h[e]=null}}const L=class{version="1.0.0";#b="ac_display_waterfall_sid_";#y={sessionId:r(),visibilityThreshold:50,intersectionRatio:0,requestTimeout:1e4,userIds:!1,userIdsProviders:null,adjustFloors:{enabled:!1,decreasePercentage:.1,adjustModel:"dynamic",minFloor:.1}};#h={};#I="https://securepubads.g.doubleclick.net/tag/js/gpt.js";#v="https://anyclip-lre-player-qa.s3.amazonaws.com/basil/test22/js/prebid.js";#w;#A;#S;#z;#E;#C;#P;#T;#x;#j;#k;#O=!1;#_=!1;#R=!0;#D;EVENTS={AdImpression:"AdImpression",AdError:"AdError",Demand:{AdRequest:"Demand.AdRequest",AdImpression:"Demand.AdImpression",AdError:"Demand.AdError"}};#F;constructor(e,t=[],i,r,n){this.#P=e,this.#x=t,i&&(this.#y=f(this.#y,i)),this.#S=r,this.#k=n;let o=V();if(o){const e=o.getAttribute("src");this.#v=e.replace("display-ads-manager.js","prebid.js")}const a=!!window.googletag?.cmd;this.#w=window.googletag=window.googletag||{cmd:[]},a?s(this.#v,!0).then((()=>{this.#w.cmd.push((()=>{this.#w.enableServices()})),this.#q()})).catch((e=>{this.#k&&"function"==typeof this.#k&&this.#k("prebid.js - failed to load")})):Promise.all([s(this.#I,!0),s(this.#v,!0)]).then((()=>{this.#w.cmd.push((()=>{this.#w.enableServices()})),this.#q()})).catch((e=>{this.#k&&"function"==typeof this.#k&&this.#k("gpt.js and/or prebid.js - failed to load")}))}#q(){l(R),l(w),this.#T=document.createElement("div"),n(this.#T,{display:"inline-flex","flex-direction":"column-reverse",position:"relative",height:"60px",bottom:"60px"}),this.#P.appendChild(this.#T),this.#j=document.createElement("iframe"),n(this.#j,{left:0,right:0,top:0,bottom:0,width:"100%",height:"100%",position:"absolute",border:"none",backgroundColor:"transparent","z-index":-1}),this.#j.setAttribute("allowtransparency",!0),this.#P.appendChild(this.#j),this.#j.contentWindow.onresize=this.#N.bind(this),this.#F=new B,this.#F.addEventListener("click",(()=>{this.destroy()})),function(e,t){const s=new IntersectionObserver(t,{root:null,threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]});try{s.observe(e)}catch(e){}}(this.#P,(e=>{const{intersectionRatio:t}=e[e.length-1];this.#y.intersectionRatio=t,this.#B()})),document.addEventListener("visibilitychange",(()=>{this.#B()})),I((e=>{this.#L(e)}),"AdRequest",null,1),I((e=>{this.#M(e)}),"AdImpression",null,1),this.#O=!0,this.#k&&"function"==typeof this.#k&&this.#k()}get#V(){return document.hidden}get#U(){return!this.#V&&(e=this.#y.intersectionRatio,t=this.#y.visibilityThreshold,100*e>=t);var e,t}#J(e){return e=e||this.#j.clientWidth,this.#x.filter((t=>t.width<=e))}getFilteredSizes(){return this.#J().map((e=>[e.width,e.height]))}#Q(e){let t=!1;return this.#C?.width&&e<this.#C.width&&(t=!0),t}#N(e){this.#Q(e.target.innerWidth)&&this.destroyAd()}#B(){}#L(e){this.EVENTS.Demand.AdRequest in this.#h&&this.#h[this.EVENTS.Demand.AdRequest](e)}#M(e){this.EVENTS.Demand.AdImpression in this.#h&&this.#h[this.EVENTS.Demand.AdImpression](e)}#W(){this.#y.adjustFloors.enabled&&("keep-minimum"!==this.#y.adjustFloors.adjustModel&&"dynamic"!==this.#y.adjustFloors.adjustModel||a(w+"locked",!0),"return-to-default-floor"===this.#y.adjustFloors.adjustModel&&l(w)),this.#G(this.EVENTS.AdImpression)}#H(e){if(this.#y.adjustFloors.enabled&&("keep-minimum"===this.#y.adjustFloors.adjustModel||"dynamic"===this.#y.adjustFloors.adjustModel)){let{value:e}=d(w+"locked");e&&l(w+"locked")}this.EVENTS.AdError in this.#h&&this.#h[this.EVENTS.AdError](e)}#Y(){this.#D.nextTag().then((([e,t])=>{const s=this.#J(this.#j.clientWidth),i=s.length>1?s.map((e=>[e.width,e.height])):[s[0].width,s[0].height];e.bidder?"aps"===e.bidder.code?this.#K({amzniid:e.bidder.params.amzniid||this.#z,amznbid:e.bidder.params.amznbid,amznsz:e.bidder.params.amznsz||this.#E},((t,s)=>{t?this.#Y():(v("AdImpression",{id:e.id,cpm:e.cpm,floor:e.floor}),this.#W())})):"gam"===e.bidder.code||"gamfixed"===e.bidder.code?this.#X(e.bidder.params.url,i,null,((t,s)=>{t?this.#Y():(v("AdImpression",{id:e.id,cpm:e.cpm,floor:e.floor}),this.#W())})):this.#Z(e.adServer.bid,((t,s)=>{t||(v("AdImpression",{id:e.id,cpm:e.cpm,floor:e.floor}),this.#W())})):(v("AdRequest",{id:e.id,cpm:e.cpm}),this.#X(e.adServer.url,i,null,((t,s)=>{t?this.#Y():(v("AdImpression",{id:e.id,cpm:e.cpm}),this.#W())})))})).catch((e=>{"END_OF_CYCLE"===e||"CYCLE_IS_EMPTY"===e?this.#H(e):this.#Y()}))}#K(e,t){if(e&&e.amzniid&&e.amznbid&&this.#S){const s=document.createElement("div");n(s,{margin:"auto","text-align":"center"}),this.#T.appendChild(s);const i=document.createElement("iframe");i.setAttribute("scrolling","no"),i.setAttribute("marginwidth","0"),i.setAttribute("marginheight","0"),i.setAttribute("frameborder","0"),n(i,{border:"0pt","vertical-align":"bottom"}),s.appendChild(i),s.appendChild(this.#F.render());const r=i.contentWindow.document;this.#S.renderImp(r,e.amzniid);const o=(e=>{if(e){const t=e.toLowerCase().split("x");if(2==t.length)return t.map((e=>Number(e)))}return null})(e.amznsz);this.#C={width:o?o[0]:300,height:o?o[1]:50},t&&"function"==typeof t&&t(null,{})}else this.destroyAd(),t&&"function"==typeof t&&t("error")}#Z(e,t){if(e&&e.adId){const s=document.createElement("div");n(s,{margin:"auto","text-align":"center"}),this.#T.appendChild(s);const i=document.createElement("iframe");i.setAttribute("scrolling","no"),i.setAttribute("marginwidth","0"),i.setAttribute("marginheight","0"),i.setAttribute("frameborder","0"),n(i,{border:"0pt","vertical-align":"bottom"}),s.appendChild(i),s.appendChild(this.#F.render());const r=i.contentWindow.document;anyclip_pbjs.renderAd(r,e.adId),this.#C={width:e.width,height:e.height},t&&"function"==typeof t&&t(null,{})}}#X(e,t,s,i){const r=document.createElement("div");r.id="div-gpt-ad-"+o(),n(r,{margin:"auto","text-align":"center"}),this.#T.appendChild(r),this.#w.cmd.push((()=>{const n=this.#w.defineSlot(e,t,r.id);if(n&&s)for(let e in s)s.hasOwnProperty(e);n?.addService(this.#w.pubads()),this.#w.display(r.id),this.#w.pubads().isInitialLoadDisabled()&&this.#w.pubads().refresh([n]),this.#w.pubads().addEventListener("slotResponseReceived",(e=>{const t=e.slot;if(t===n){t.getResponseInformation();this.#A&&(clearTimeout(this.#A),this.#A=null)}})),this.#w.pubads().addEventListener("slotRenderEnded",(e=>{e.slot===n&&(e.isEmpty?(this.destroyAd(),i&&"function"==typeof i&&i("error")):(this.#C={width:e.size[0],height:e.size[1],slot:n},r.appendChild(this.#F.render()),i&&"function"==typeof i&&i(null,{})))})),this.#w.pubads().addEventListener("impressionViewable",(e=>{e.slot})),this.#w.pubads().addEventListener("slotRequested",(e=>{e.slot===n&&(this.#A=setTimeout((()=>{this.#C||(this.destroyAd(),i&&"function"==typeof i&&i("error"))}),this.#y.requestTimeout))})),this.#w.pubads().addEventListener("slotOnload",(e=>{e.slot}))}))}requestAds(e,t={}){if(this.#O){if(this.#_)return;if(this.destroyAd(),e){let s=this.#J(this.#j.clientWidth);0!=s.length&&(this.#z=t?.amzniid,this.#E=t?.amznsz,this.#D=new N(e,{sizes:s,isFirstRequest:this.#R,userIds:this.#y.userIds,userIdsProviders:this.#y.userIdsProviders,adjustFloors:this.#y.adjustFloors,gdpr:t?.gdpr,consent:t?.consent,usPrivacy:t?.usPrivacy,coppa:t?.coppa,schain:t?.schain}),this.#R&&(this.#R=!1),this.#Y())}}}destroyAd(){if(this.#A&&(clearTimeout(this.#A),this.#A=null),this.#C){if(this.#C.slot){this.#w.destroySlots([this.#C.slot])&&this.#$()}else this.#$();this.#C=null}else this.#$()}#$(){[...this.#T.children].forEach((e=>{this.#T.removeChild(e)}))}addEventListener(e,t,s){const i=t.bind(s);this.#h[e]=i}removeEventListener(e){this.#h[e]=null}#ee(e){for(const t in e)e.hasOwnProperty(t)&&this.removeEventListener(t)}#G(e){e in this.#h&&this.#h[e]()}destroy(){this.#_||(this.destroyAd(),this.#_=!0)}isDestroyed(){return this.#_}getVersion(){return this.version}},M=document.currentScript,V=()=>M;_anyclip=t})();