(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[481],{47168:(e,t,r)=>{"use strict";r.d(t,{i:()=>o,w:()=>n});var a=r(80413),n=e=>t=>{t({type:a.c,payload:{hasBillboardPanel:e}})},o=,31289:(e,t,r)=>{"use strict";r.d(t,{QG:()=>b,O4:()=>h,uM:()=>w,et:()=>m});var a=r(66062),n=r(18274),o=r(68858),i=r(66229),s=r(34629),d=r(55752),l=r.n(d);function u(e,t){return l()(e(),["bloggerState","bloggerMap",t],{})}function c(e,t,r,a){var n=u(e,r.amebaId).attribute||{},o=n.isPremium,i=n.isTieup;return!(o||i||!n.isShowAdUser)&&!function(e,t,r){var{adState:a}=e();return!!l()(a,["adLoadMap",t,r])}(e,t,a)}var p="LoadPcAdIds",f="ResetAdsData",g=(e,t)=>({type:s.tB,payload:{id:t,pathname:e}}),y=(e,t)=>({type:s.yX,payload:{id:t,pathname:e}}),v=(e,t,r)=>({type:s.Kt,payload:{id:t,pathname:e,error:r},error:!0}),b=(0,n.H)(((e,t)=>function(){var r=(0,a.Z)((function*(r,a){var n=p;if(c(a,e,t,n)){r(g(e,n)),"[adLoadAction] ".concat(n);try{var{amebaId:s}=t,d=u(a,s).blog||"";yield r((0,i.Mz)(d,o.SU)),r(y(e,n))}catch(l){l instanceof Error&&console.warn(l),r(v(e,n,l))}}}));return function(e,t){return r.apply(this,arguments)}}())),h=(0,n.H)(((e,t,r)=>function(){var n=(0,a.Z)((function*(a,n){var s=f;if(c(n,e,r,s)){a(g(e,s)),"[adLoadAction] ".concat(s);try{var{amebaId:d}=r,l=u(n,d).blog||"",p=[a((0,i.Mz)(l,o.wO))];yield Promise.all(p),a((0,i.gq)(e,l,t)),a(y(e,s))}catch(b){b instanceof Error&&console.warn(b),a(v(e,s,b))}}}));return function(e,t){return n.apply(this,arguments)}}())),m=e=>({type:s.FO,payload:{count:e}}),w=e=>({type:s.YM,payload:{fullPageAdType:e}})},85969:(e,t,r)=>{"use strict";r.d(t,{D:()=>d,U:()=>l});var a=r(84218),n=r.n(a),o=r(52361),i=r.n(o),s=r(18043);function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.XZ,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!t||n()(e,s.XZ)||i()(e,s.XZ)?"default_simple_standard":"basic_default"}var l=e=>{switch(e){case"sidebar_off":return 0;case"sidebar_right_1":case"sidebar_left_1":return 1;case"sidebar_both":case"sidebar_right_2":case"sidebar_left_2":return 2;default:return}}},22593:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var a=r(29466),n=r.n(a),o=r(55752),i=r.n(o),s=r(66948);function d(e,t){return(0,s.v9)((r=>{var{adState:a}=r;return[i()(a,["renderingInventoriesMap",t,e,"adx"],""),i()(a,["renderingInventoriesMap",t,"update"],0)]}),n())}},8292:(e,t,r)=>{"use strict";r.d(t,{d:()=>i});var a=r(55752),n=r.n(a),o=r(66948),i=e=>(0,o.v9)((t=>({grapeshotCategory:n()(t,["gsCategoriesState","categoriesMap",e,"categories"],[]),isGSCategoryFetched:!!n()(t,["gsCategoriesState","categoriesMap",e])})),o.wU)},92724:(e,t,r)=>{"use strict";r.d(t,{F:()=>i});var a=r(55752),n=r.n(a),o=r(66948),i=e=>(0,o.v9)((t=>n()(t,["entryState","entryHashtagMap",e],[]).map(()),o.wU)},85819:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var a=r(66948),n=,84596:(e,t,r)=>{"use strict";r.d(t,{$V:()=>s,CB:()=>l,JZ:()=>c,PY:()=>u,dS:()=>p,jj:()=>d,ly:()=>i});var a=r(55752),n=r.n(a),o=r(35613),i=(e,t)=>n()(e,["raichoAdState","requestStatusMap",...(0,o.E)(t)]),s=(e,t)=>{var{blogId:r,adKey:a}=t;return n()(e,["adState","adIdsMap",r,a])},d=l=e=>n()(e,["adState","attribute","hasBillboardPanel"],!1),u=e=>n()(e,["adState","attribute","canBillboardPanelRequest"],!1),c=e=>n()(e,["adState","pageTransitionCount"],0),p=e=>n()(e,["adState","fullPageAdType"],"")},66229:(e,t,r)=>{"use strict";r.d(t,{Mz:()=>v,gq:()=>b});var a=r(41185),n=r(66062),o=r(18274),i=r(20076),s=r(55752),d=r.n(s),l=r(80602),u=r(68858);r f=g=(e,t,r)=>({type:l.gU,payload:{blogId:e,adsTypes:t,error:r},error:!0}),y=(e,t)=>!!t&&!e.some((),v=(0,o.H)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{ignoreAdNG:!1};return function(){var a=(0,n.Z)((function*(a,n,o){var{fetchr:s}=o,l=y(t,r.ignoreAdNG),u=n(),c=((u.adState||{}).adIdsMap||{})[e]||null,v=c?[]:t;if(0===v.length&&0===(v=t.filter((e=>-1===Object.keys(c).indexOf(e)))).length)return null;try{var b=d()(u,["bloggerState","blogMap",e,"blog_name"],""),h=v.join(","),m=yield s.read("adIds").params({amebaId:b,blogId:e,options:{ads_types:h,ignore_ad_ng_user:l}}).end(),w=(0,i.ZP)(m.data,(e=>{v.forEach((t=>{e.data=p(p({},e.data),{},{[t]:d()(e,["data",t],{})})}))}));return a(f(e,w))}catch(_){return a(g(e,t,_))}}));return function(e,t,r){return a.apply(this,arguments)}}()})),b=,71202:(e,t,r)=>{"use strict";r.d(t,{mt:()=>d});r(55752);var a=r(66062),n=function(){var e=(0,a.Z)((function*(e,t,r,a){"undefined"!=typeof window&&"undefined"!=typeof window&&window.__firebase&&window.__firebase.push instanceof Function&&window.__firebase.push((()=>{try{window.firebase.performance().trace(e).record(t,r,a)}catch(n){console.warn(n,"Failed exec firebase.performance functions")}}))}));return (),o=r(5563),i=r(13884),s="session-to-request",d=(e,t)=>(r,a)=>{if(window.performance&&window.performance.now){var d=window.performance.now(),{adPerf:l}=a(),u=l.isPageTransitioned,c=l.recordMap[t];u||c||(r(((t)),r((0,o.R9)({duration:d,sectionId:e,specType:s,sdkType:t})),n("First Ad Request",Date.now()-d,d,{attributes:{adType:e,sdk:t}}))}}},49995:(e,t,r)=>{"use strict";r.d(t,{Th:()=>s});var a=r(66062),n=r(18274),o=r(64123),i=r(33117);var s=(0,n.H)(((e,t)=>function(){var r=(0,a.Z)((function*(r,a,n){var{fetchr:s}=n;if(a().gsCategoriesState.categoriesMap[t])return null;try{r({type:i.DF,payload:{entryId:t}});var d=(yield s.read(o.Z.BlogEntryGsCategories).params({amebaId:e,entryId:t}).end()).data;return r(t,d))}catch(l){return r(function(e,t){return{type:i.fS,payload:{entryId:e,error:t},error:!0}}(t,l))}}));return ()))},30274:(e,t,r)=>{"use strict";r.d(t,{in:()=>g,wq:()=>p});var a=r(66062),n=r(55752),o=r.n(n),i=r(5663),s=r.n(i),d=r(18274);function l(e,t){var r="".concat(window.process.env.API_HASHTAG_PUB,"/v2/article/multiple/tag/").concat(e,"?entryIds=").concat(t);return fetch(r)}var u=r(74925);ar p=(0,d.H)({ttl:18e5},((e,t)=>function(){var r=(0,a.Z)((function*(r,a){if(o()(a(),["entryState","entryHashtagMap",t]))return null;try{var n=yield function(e,t){var r="".concat(window.process.env.API_HASHTAG_PUB,"/v2/article/tag/").concat(e,"/").concat(t);return fetch(r,{timeout:1e3})}(e,t),i=yield n.json();return r(c(e,t,i))}catch(s){return r(function(e,t,r){return{type:u.bv,payload:{amebaId:e,entryId:t,error:r},error:!0}}(s))}}));return function(e,t){return r.apply(this,arguments)}}()));function f(e,t,r){return{type:u.uI,payload:{amebaId:e,entryIds:t,error:r},error:!0}}var g=(0,d.H)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(){var r=(0,a.Z)((function*(r,a){var n=[];if(t.map((e=>(o()(a(),["entryState","entryHashtagMap",e])||n.push(e),null))),!e||s()(n))return null;var i=n.join(",");try{if(n.length>1){var d=yield l(e,i);return(yield d.json()).data.map((t=>r(c(e,t.entryId,t.tagList)))),null}var u=n[0];return r(p(e,u)),null}catch(g){return r(f(e,i,g))}}));return ()}))},20481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>G});var a,n=r(3e4),o=r(66062),i=r(76955),s=(r(91938),r(9580)),d=r.n(s),l=r(5154),u=r.n(l),c=r(66948),p=r(45525),f=r(32557),g=r.n(f),y=r(55752),v=r.n(y),b=r(97175),h=r(47168),m=r(68858),w=r(78168),_=r(51650),S=r(90425),I=r(72284),O=r(64262),P=r(65964),Z=r(22593),M=r(92724),B=r(8292),T=r(59621),j=r(84596),A=r(16260),C=r.n(A),k=r(49995),x=r(30274),E=r(31289),H=r(22698);function D(){return(D=(0,o.Z)((function*(e){var{dispatch:t,match:r,location:a}=e,{params:n,route:o}=r,{amebaId:i,entryId:s}=n,{pathname:d}=a,l=o.pageType,u=[];u.push(t((0,E.O4)(d,l,n))),s&&(u.push(t((0,x.wq)(i,s))),u.push(t((0,k.Th)(i,s)))),Promise.all(u)}))).apply(this,arguments)}var q=function(e){var{amebaId:t,entryId:r,hasBillboardPanel:o,isGamEnabled:s,isOfficial:l,isPremium:c,isShowAdUser:p,isTieup:f,isNoAd:y,pathname:v,updateHasBillboardPanel:b,useBloggerAdsenseEnabled:h,useBloggerGenreCode:w,useBloggerSkinCode:_,useDfpAd:I,useEntryHashtag:O,useGrapeshotCategory:P,useMeasureAdPerformance:Z}=e,[M,B]=(0,i.useState)(!1),[T,j]=(0,i.useState)(!0),{collectSessionToRequest:A}=Z(),k=w(t),{grapeshotCategory:x,isGSCategoryFetched:E}=P(r),H=O(r),D=h(t),q=_(t),G=(0,i.useCallback)((,[b]),L=l?"billboard_official":"billboard_general",[F,U]=I(m.Z9.Infeed,v),R=9/16,W=180,z="blogInfeed_billboard",N="dfpBillboard",X="dfpBillboardSpace",Y="dfpBillboardWrapper",Q={adxOk:D,pageType:"entry",skinCode:q,sp_ameba_id:t,genre_code:k,blog_entry_id:r,blogtag:H,gs_category:x},V=(0,i.useCallback)((,[]),K=(0,i.useCallback)((()=>{var e=document.querySelector("#".concat(z," iframe"));e&&(e.style.height="".concat(W,"px"));var t=window.matchMedia("(orientation: portrait)");V(t),B(!0)}),[W,V]),$=(0,i.useCallback)((()=>{var e=document.querySelector("#".concat(N));e&&(e.innerHTML=null),B(!1)}),[]),J=(0,i.useCallback)((()=>{var e=window.innerWidth*R/2,t=W-window.pageYOffset,r=document.querySelector("#".concat(z," iframe"));r&&(r.style.height="".concat(t>=e?t:e,"px"));var a=document.querySelector("#".concat(N)),n=document.querySelector("#".concat(Y)),o=document.querySelector("#".concat(X));a&&n&&o&&(window.pageYOffset>=a.offsetTop+e?(n.classList.add(C().FixedDfpBillboardWrapper),o.style.display="block"):(n.classList.remove(C().FixedDfpBillboardWrapper),o.style.display="none"))}),[R]);return(0,i.useEffect)((()=>{if(!o)return u();window.addEventListener("scroll",d()(J,10)),window.addEventListener("resize",d()(J,10));var e=window.matchMedia("(orientation: portrait)");return e.addEventListener("change",V),),[V,J,o]),f||c||!p||y?null:s&&o?r&&!E?null:(0,n.Z)("div",{id:N},void 0,(0,n.Z)("div",{className:C().DfpBillboardWrapper,id:Y,style:{display:T?"block":"none",minHeight:W}},void 0,(0,n.Z)("button",{className:C().DfpBillboardCloseBtn,style:{display:M?"flex":"none"},type:"button",onClick:$},void 0,a||(a=(0,n.Z)(g(),{"aria-label":"\u5e83\u544a\u3092\u6d88\u3059",height:16,width:16}))),(0,n.Z)(S.n,{adunit:L,adunitUpdatedTime:U,collectSessionToRequest:A,containerId:z,handleOnload:K,handleRemoveSlot:$,pathname:v,sizeRule:["fluid"],targetingParams:Q,onNotFoundAd:G})),(0,n.Z)("div",{id:X,style:{display:"none",height:W}})):null};q.defaultProps={isShowAdUser:!1,useBloggerAdsenseEnabled:I.Z,useBloggerGenreCode:O.Z,useBloggerSkinCode:P.Z,useDfpAd:Z.Z,useEntryHashtag:M.F,useGrapeshotCategory:B.d,useMeasureAdPerformance:T.Z};var G=(0,w.ee)((0,c.$j)(((e,t)=>{var{match:r,location:a}=t,{params:n,route:o}=r,{pathname:i}=a,s=o.pageType||"",{amebaId:d,entryId:l}=n,u=e.adState,c=e.bloggerState.bloggerMap[d]||{},p=c.attribute||{},f=p.isShowAdUser,g=p.isOfficial,y=p.isPremium,b=p.isTieup;return{amebaId:d,entryId:l,hasBillboardPanel:(0,j.CB)(e),isGamEnabled:"enable"===v()(c,["advertise_dto","google_ad_manager"],""),isOfficial:g,isPremium:y,isTieup:b,isNoAd:v()(u,["noAdMap",c.blog,(0,H.bT)(m.Z9.Infeed,s)],!1),isShowAdUser:f,pathname:i}}),{updateHasBillboardPanel:h.w}),(0,b.provideHooks)({done:),(0,_.lB)(["match","location"]),(0,p.w1)(C()))(q)},59621:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(76955),n=r(85819),o=r(71202);function i(e,t){var r=(0,n.I)();return{collectSessionToRequest:(0,a.useCallback)((,[r,e,t])}}},72284:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(55752),n=r.n(a),o=r(7908);function i(e){var t=(0,o.Z)(e);return"enable"===n()(t,["advertise_dto","google_ad_sense"],"disable")}},82123:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var a=r(55752),n=r.n(a),o=r(29466),i=r.n(o),s=r(66948),d=r(7908);function l(e){var t=(0,d.Z)(e);return(0,s.v9)((e=>{if(t)return n()(e,["bloggerState","blogMap",t.blog])}),i())}},7908:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(55752),n=r.n(a),o=r(66948);function i(e){return(0,o.v9)((t=>n()(t,["bloggerState","bloggerMap",e])))}},64262:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(55752),n=r.n(a),o=r(7908);function i(e){var t=(0,o.Z)(e);return n()(t,["blog_genre","genre_code"],"")}},65964:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var a=r(55752),n=r.n(a),o=r(66948),i=r(85969),s=r(82123),d=r(7908),l=r(25524);function u(e){var t=(0,d.Z)(e)||{},r=(0,s.Z)(e)||{},a=(0,l.Z)(e);return(0,o.v9)((e=>{var o=n()(e,["skinState","spSkinMap",t.blog,"mst_skin_code"],null);return o||(0,i.D)(r.ins_datetime,a)}))}},25524:(e,t,r)=>{"use strict";r.d(t,{Z:);var a=r(55752),n=r.n(a),o=r(66948),i=r(51650);function s(e){var{match:t}=(0,i.tv)()||{},r=e||n()(t,["params","amebaId"]);return(0,o.v9)((e=>{var{bloggerState:t}=e;return n()(t,["bloggerMap",r,"attribute","isOfficial"],!1)}))}},32557:function(e,t,r){"use strict";var a=this&&this.__assign||n=this&&this.__createBinding||(Object.create?,o=this&&this.__setModuleDefault||(Object.create?,i=this&&this.__importStar||Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(76955));t.default=,52361:84218:9580:33496:(e,t,r)=>{var a=r(18300)(();a.push([e.id,"._PQewkTew{margin:0 auto 24px;position:relative;width:100%;z-index:3001}._lfEsHnIW{left:0;position:fixed;top:0}._3hhV9iRg{align-items:center;background:rgba(8, 18, 26, 0.3);border-radius:50%;color:#fff;display:none;height:28px;justify-content:center;margin:0;padding:0;position:absolute;right:8px;top:8px;width:28px}",""]),a.locals={DfpBillboardWrapper:"_PQewkTew",FixedDfpBillboardWrapper:"_lfEsHnIW",DfpBillboardCloseBtn:"_3hhV9iRg"},e.exports=a},16260:(e,t,r)=>{var a=r(33496),n=Object.assign||o=Object.defineProperty||"string"==typeof a&&(a=[[e.id,a,""]]),e.exports=function(e){var t=n({},e.locals||{});return o(t,"_",{value:),o(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(a)}}]);