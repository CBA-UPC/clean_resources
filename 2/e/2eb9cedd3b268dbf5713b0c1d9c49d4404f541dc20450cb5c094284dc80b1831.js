/*! Build c136bd9b17db6fbcd32b3fd36e5ea8f74f783eec:1704971090445 */
!{7:function(e,t,r){var n,o,i;=function(){"use strict";ar t={read:write:,{path:"/"});return t},"object"===a(t)&&"undefined"!==typeof e?e.exports=i():void 0===(o="function"===typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o)},76:function(e,t,r){"use strict";r.r(t);var n=r(7),o=r.n(n);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"set",value:function(e,t,r){var n="https:"===window.location.protocol?{sameSite:"None",secure:!0}:{sameSite:"Lax"};return r?(t.cookie=a({},r),r.expires&&(r.expires=new Date(r.expires),delete t.cookie.expires),o.a.set(e,JSON.stringify(t),a(a({},n),r))):o.a.set(e,JSON.stringify(t),n),this.get(e)}},{key:"get",value:function(e){try{return JSON.parse(o.a.get(e)||null)}catch(t){return console.warn("[Rewardful] Cookie '".concat(e,"' is not valid JSON.")),o.a.remove(e),null}}},{key:"delete",value:function(e){var t=this.get(e);return t&&t.cookie?o.a.remove(e,t.cookie):o.a.remove(e)}}],(r=null)&&u(t.prototype,r),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}} y=function(){return l.delete(w.storeKey)};function h(e,t,r){var n=d(d({},K.metadata),r),o=new XMLHttpRequest;return o.open(e,t),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Accept","application/json"),o.responseType="json",o.onload=function(){var r;200!==o.status?(console.error("[Rewardful] Request failed: ".concat(e," ").concat(t)),console.error("=> (".concat(o.status,"): ").concat((r=o).response&&r.response.error?r.response.error:r.statusText?r.statusText:"Unknown server error.")),y()):(o.response.installed?console.log("Rewardful is installed!"):o.response.referral&&o.response.cookie&&l.set(w.storeKey,o.response.referral,o.response.cookie),K._trackComplete=!0,window.dispatchEvent(new CustomEvent("Rewardful.tracked"))),K.initialized()},o.onerror=o.send(JSON.stringify(n))}var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"id",get:function(){return(this.get()||{id:""}).id}},{key:"get",value:,{key:"storeKey",get:,{key:"affiliate",get:function(){return this.get()&&this.get().affiliate||!1}},{key:"campaign",get:function(){return this.get()&&this.get().campaign||!1}},{key:"coupon",get:function(){return this.get()&&this.get().coupon||!1}},{key:"domain",get:function(){var e=this.get();return e&&e.cookie&&e.cookie.domain||!1}},{key:"exists",value:function(){var e=this.get();return Boolean(e&&e.id)}},{key:"create",value:function(e){return this.track({link_token:e,deprecated_method:"create"})}},{key:"update",value:function(){var t=e.get().id;return t?this.load(t):(console.error("Referral.update() called but there is no stored referral."),y(),!1)}},{key:"convert",value:function(t){var r=e.get().id;return h("POST",K.config.API_HOST+"/referrals/".concat(r,"/convert"),t)}},{key:"load",value:,{key:"track",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=K.config.API_HOST+"/referrals/track";return h("POST",t,e)}}],(r=null)&&s(t.prototype,r),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=function(e,t){var r=new URLSearchParams(e.search.substring(1));Object.keys(t).forEach((),e.search=r.toString()},b=function(e){try{return e.toLowerCase().replace(/\s/g,"").split(",").filter(()}catch(t){return[]}},k=m={addSearchParamsToLink:v,parseDomains:b,linksToDomain:k,attach:function(e){var t=Rewardful.referral,r=Rewardful.domain;t&&b(e.domains).filter((function(t){return t!==r&&t!==e.location.hostname})).forEach((function(e){k(e).forEach((function(e){v(e,{referral:t}),e.dataset.referral=!0}))}))}};function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){if(e&&e.match){var r=(e=e.toLowerCase()).match(t);if(r&&r[1])return r[1]}return!1}var _=function(){ar t,r,n;return t=e,(r=[{key:"referral",get:function(){return!(!this._location||!this._location.search)&&O(this._location.search,/referral=([0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12})/i)}},{key:"searchToken",get:function(){return!(!this._location||!this._location.search)&&O(this._location.search,/via=([a-z0-9\-]+)/i)}},{key:"hashToken",get:function(){return!(!this._location||!this._location.hash)&&O(this._location.hash,/via[-=]([a-z0-9\-]+)/i)}},{key:"token",get:])&&g(t.prototype,r),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var P=function(e,t,r){var n=e.elements[t];return n||((n=document.createElement("input")).name=t,e.appendChild(n)),n.type="hidden",n.value=r,n},R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"all",value:function(){return document.querySelectorAll("form[data-rewardful]")}},{key:"attach",value:function(){this.all().forEach(this.add)}},{key:"add",value:function(e){var t={referral:P(e,e.dataset.rewardfulParamName||"referral",K.referral)};return K.coupon&&K.coupon.id&&(t.coupon=P(e,"coupon",K.coupon.id)),t}}],(r=null)&&j(t.prototype,r),n&&j(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"all",value:function(){return document.querySelectorAll("stripe-buy-button[data-rewardful]")}},{key:"attach",value:function(){this.all().forEach(this.add)}},{key:"add",value:],(r=null)&&S(t.prototype,r),n&&S(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var x=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"all",value:,{key:"attach",value:,{key:"add",value:function(e){if(w.id){var t=w.id;m.addSearchParamsToLink(e,{client_reference_id:t})}}}],(r=null)&&C(t.prototype,r),n&&C(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),T=function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var A=function(){ar t,r,n;return t=e,n=[{key:"reset",value:function(){this._apiKey=null,this._location=!1,this._tracked=!1,this._trackComplete=!1,this._link=null,this._setup=!1,this._initialized=!1}},{key:"setup",value:function(e){return this._setup?(console.warn("Rewardful is already setup."),!1):e?e.apiKey?e.window?(T(),this._apiKey=e.apiKey.replace(/[^A-Za-z0-9-_]/g,""),this._link=new _(e.window.location),this._setup=!0,this._metadata={api_key:this.apiKey,location:e.window.location.toString(),referrer:e.window.document&&e.window.document.referrer||"",title:e.window.document&&e.window.document.title||""},!0):(console.error("Rewardful.setup requires a `window` parameter."),!1):(console.error("Rewardful.setup requires an `apiKey` parameter."),!1):(console.error("Rewardful.setup requires an `apiKey` and `window` parameter."),!1)}},{key:"ready",value:function(e){"function"===typeof e?e():console.error('`Rewardful.ready` expects a function but received type "'.concat(typeof e,'"'))}},{key:"tracked",get:function(){return this._trackComplete}},{key:"metadata",get:function(){return this._metadata}},{key:"link",get:,{key:"track",value:function(){if(!this._setup)return console.error("Rewardful.setup() must be called before Rewardful.track()."),!1;if(this._tracked)return console.warn("Rewardful.track() can only be called once."),!1;var t={};return this.link.token&&(t.link_token=this.link.token),w.exists()&&e.referral?t.referral_id=e.referral:this.link.referral&&(delete t.link_token,t.id=this.link.referral),Object.keys(t).length>0?w.track(t):this.initialized(),this._tracked=!0,!0}},{key:"initialized",value:function(){this._initialized||(this._initialized=!0,window.dispatchEvent(new CustomEvent("Rewardful.initialized")))}},{key:"convert",value:,{key:"source",value:function(e){(e=e&&e.toString&&e.toString().toLowerCase().replace(/\s+/g,""))?w.exists()&&w.affiliate.token===e||w.track({link_token:e}):console.error("[Rewardful] source() received an invalid token.")}},{key:"referral",get:function(){return w.id}},{key:"affiliate",get:function(){return w.affiliate}},{key:"campaign",get:function(){return w.campaign}},{key:"coupon",get:function(){return w.coupon}},{key:"apiKey",get:function(){return this._apiKey?this._apiKey:(console.error("Rewardful API key is not set."),!1)}},{key:"domain",get:,{key:"config",get:,{key:"version",get:,{key:"_cookie",get:],(r=null)&&q(t.prototype,r),n&&q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();A.Forms=R,A.Links=m,A.BuyButtons=E,A.PaymentLinks=x,A.reset();var K=A;ar L=function(){ar t,r,n;return t=e,r=[{key:"flush",value:function(){for(var e=this.getQueue();e.length;)this._execute(e.shift());var t=this;this.window[this.queueName]=},{key:"getQueue",value:function(){return this.window[this.queueName]&&this.window[this.queueName].q||[]}},{key:"_execute",value:function(e){var t=(e=Array.prototype.slice.call(e)).shift(),r=e,n=this.receiver[t];if("undefined"===typeof n)return console.error("".concat(this.queueName," does not implement `").concat(t,"`"));try{n.apply(this.receiver,r)}catch(o){console.error("Error executing `".concat(this.queueName,".").concat(t,"`: ").concat(o)),console.error("Arguments: ",r)}}}],r&&D(t.prototype,r),n&&D(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),z=L;!function(){if(window&&window._rewardful_loaded)console.warn("Rewardful is already loaded.");else{window._rewardful_loaded=!0;try{var e=document.querySelector("script[data-rewardful]");if(e){window.Rewardful=K,K.setup({apiKey:e.getAttribute("data-rewardful"),window:window});var t=function(){K.Forms.attach(),K.BuyButtons.attach(),K.PaymentLinks.attach(),K.Links.attach({domains:e.getAttribute("data-domains"),location:window.location})},r=new z(window,window._rwq||"rewardful",K);window.addEventListener("Rewardful.initialized",(),window.addEventListener("Rewardful.tracked",(),K.track()}else console.error("Could not load Rewardful: make sure the <script> tag includes data-rewardful='<API-KEY>'")}catch(n){console.error("Rewardful failed to initialize: ".concat(n))}}}()}});