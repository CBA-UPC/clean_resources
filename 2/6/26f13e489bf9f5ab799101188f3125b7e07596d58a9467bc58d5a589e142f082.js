"use strict";function _createForOfIteratorHelper(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var d=0,i=function t(){};return{s:i,n:e:f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,n=!0,s=!1;return{s:n:e:f:}r streamManager,streamRequest,DAI_ASSET_KEY,DAI_DIRECT_URL,mCtrlTimeOut,swiperObjVP,faceoffstatus,faceoffNotificationTimeOutObj,continuePlayingObj,analytics_ndpl,cs_obj,vidPicInPic,VERSION="3.7.1";updateLog("DEVELOPMENT (MASTER "+VERSION+") unload evt | ytchap|score cube|adui-live|canvidplay|ndtv.in changes|dash added|midroll msg on vod|dai msg|mute click|ios#t|ad ctrls|faceoff issue fixed 2, svg, tap wap |livetv events|faceoff img fix|Tooltip|HLS mp4 removed on network error| poll close, poll show/hide, chap on dot tap, chap select on seek | swiper for mob and desk|swiper js import|chap new style, faceoff, poll|pick from chap|chap thumb pos|IE/Edge hls fix|chapter thumb fix|HLS handled for Edge and removed console log of addtrack|hls lib and aff click|minicb show/hide | Aff css and title logic|Aff move with CB|Affiliate creative|ES5 from ES6 for IE|href on cube| annotation|vod ctrlbar break issue fix on sticky| cube priority loop |err msg|vod dragger circle|vod err feedback link|same feed on nonfatal network issue| nonfatalsame feed call|nonfatal switching defalut removed|vod and live single js and after css added and GA for autobackup|css and url open for error msg|DAI click for webkit|error text color black | autobackup | media error for oops something fix |error msg hide on play|hover removed|float func| pause(ad/content) click on mute | controls on midroll|sticky mute icon|publish date format change in GA|DAI for pausemode|no dai|key|dai native|DAI|window tracking for live stream from homepage |mp4 issue fix|mobile ad content gap| vol on fullscreen");var tpe,pbjs,isMobilePl={Android:function t(){return navigator.userAgent.match(/Android/i)},BlackBerry:function t(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function t(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function t(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function t(){return navigator.userAgent.match(/IEMobile/i)},Windows2:any:function t(){return isMobilePl.Android()||isMobilePl.BlackBerry()||isMobilePl.iOS()||isMobilePl.Opera()||isMobilePl.Windows()||isMobilePl.Windows2()}},dataBase={},vidEvent={},vidInfo={infoLoaded:!1,vidSelect:!1,scaleTimeout:1,count:0,slotBottom:null,slotRight:null,mwidth:null,mheight:null},dbAccess={basePath:"https://www.ndtv.com/",feedback:"convergence/ndtv/new/feedback.aspx"},dbInfo={},aolInfo={xhr:{},countXhr:-1},gimaObj={init:!1,playState:!1},liveInfo={init:!1,loaded:!1},objAnim={},tapContIncrement=0,isInteractionVP=!1,isSwiperScroll=!1,isFaceoffTimeupdate=!1,showfaceoff=!1,isAfflinks=!1,dataLayer=window.dataLayer||[],vidPlayState={},retryHLS_nd=0,currentStreamBackup="",sportsAPI="https://sports.ndtv.com/multisportsapi/?methodtype=3&client=4&sport=1&league=0&timezone=0530&language=en&gamestate=1",ismetaloaded_nd=!1;function NDTVPlayerInit(n,t,i){$.getScript("https://cdn.ndtv.com/vp/static/js/hls.min.js").done(function(){console.log("HLS js loaded!!"),NDTVPlayerInitiate(n,t,i)}).fail(function(n,t,i){console("In Parsing Error HLS js: "+i)})}function NDTVPlayerInitiate(e,t,i){for(var a in updateLog("=========== NDTV PLAYER VERSION: "+VERSION+"  ;  VidContainer: "+t+" ; isDashVid: "+i),dataBase={},dbInfo={},gimaObj.init=!1,gimaObj.playState=!1,vidInfo.fwdTime=1,vidInfo.infoLoaded=!1,vidInfo.tchmoved=!1,liveInfo.init=!1,liveInfo.loaded=!1,(pbjs=pbjs||{}).que=pbjs.que||[],e)dataBase[a]=e[a];if(dataBase.isTapped=0,dataBase.deviceId=isMobilePl.any(),dataBase.browserId=detectBrowser(),dataBase.isDVR=!1,dataBase.DVRWindow="",dataBase.renderHtml=Boolean(dataBase.deviceId&&"ucbrowser"==detectBrowser()),dataBase.vidDomain=getDomain(String(window.location.href)),dataBase.volumeAds=1,dataBase.volume=1,dataBase.annotations=updateAnntObj(e.annotations),dataBase.id=updateURIStr(encodeURIComponent(e.id)),dataBase.video_from=updateURIStr(encodeURIComponent(e.video_from)),dataBase.channel=updateURIStr(encodeURIComponent(e.channel)),dataBase.content_type=updateURIStr(encodeURIComponent(e.content_type)),dataBase.show=updateURIStr(encodeURIComponent(e.show)),dataBase.vidsource=updateURIStr(encodeURIComponent(e.vidsource)),dataBase.category=updateURIStr(encodeURIComponent(e.category)),dataBase.title=updateURIStr(encodeURIComponent(e.title)),dataBase.description=updateURIStr(encodeURIComponent(e.description)),dataBase.author=updateURIStr(encodeURIComponent(getParamObj("author",e))),dataBase.isLive="true"==String(e.isLive),dataBase.cube=updateTrueFalse("cube",e),dataBase.featured=updateTrueFalse("featured",e),dataBase.ad_test_mode=updateTrueFalse("ad_test_mode",e),dataBase.diy=updateTrueFalse("diy",e),dataBase.forapp=updateTrueFalse("forapp",e),dataBase.tempad=updateTrueFalse("tempad",e),dataBase.pagetype=getParamObj("pagetype",e),dataBase.scat=getParamObj("scat",e),dataBase.vidmaster=updateTrueFalse("vidmaster",e),dataBase.mutestart=updateTrueFalse("mutestart",e),dataBase.mute=updateTrueFalse("mute",e),dataBase.mutestart=dataBase.mutestart?dataBase.mutestart:!!dataBase.mute,dataBase.aspctratio=updateTrueFalse("aspctratio",e),dataBase.ctitle=updateCtitle("ctitle",e),dataBase.t=getParamObj("t",e),dataBase.isSticky=updateStickyPram(e),dataBase.fullscreen=updateFullScreen(e),dataBase.autostart=updateTrueFalse("autostart",e),dataBase.prmadpoint=updateURIStr(encodeURIComponent(e.adpoint)),dataBase.adpoint={preroll:adRequired(0,e.adpoint),midroll:adRequired(1,e.adpoint),dai:adRequired("dai",e.adpoint),postroll:!1,branded:adRequired("branded",e.adpoint)},dataBase.file=updateFileParams(String(dataBase.media)),dataBase.singleBitrate="",dataBase.dashInfo=void 0!=i&&i,dataBase.pageurl=updatePageURL(e.link),dataBase.daiURL="https://www.ndtv.com",dataBase.skinAdSlot="",dataBase.touchLast=0,dataBase.currRollId=0,dataBase.appadunit=getParamObj("appadunit",e),dataBase.aliasInit=updateCategory(String(dataBase.category).toLowerCase(),dataBase.channel),dataBase.enableDFP=!0,dataBase.dfpHitCount=0,dataBase.imaUrl=defaultImaUrl(),dataBase.qpoints=updateQpoints(e),dataBase.fromwindow=getParamObj("fromwindow",e),dataBase.skipThumbnailCss=updateTrueFalse("skipThumbnailCss",e),dataBase.isGap=!0,updateLog("------------- Complete and formatted params....."),updateObj(dataBase),updateLog(""),updateLog("---------------- Ad slots received ---------------------------"),updateObj(dataBase.adpoint),updateLog(""),updateLog("----------------Midroll time slot (qpoints information) ---------------------------"),updateObjQpoint(dataBase.qpoints),updateLog(""),updateAolUrls(),updateLog(""),clearTimerEvents(),initMatchCube(),dataBase.dvrMarkerData={},dataBase.dvrGoTo="",dataBase.dvrMarkerPos="",dataBase.renderHtml)createHtml(dbInfo,t),updateLog("Player loaded successfully!");else if(createView(dbInfo,t),updateLog("----------- dbInfo created successfully ------------------"),!dataBase.vidParent)return console.log("OOPS! Video container not found!!!!!!! i.e #vidPlayer or html5Container"),!1;if(null==dataBase.deviceId){if(-1!=String(window.location.href).indexOf("swfonly=true"))return createSWFPlayer(t),!1;if("true"==String(dataBase.vidmaster)){if(updateLog("=======::::   DESKTOP SWF CHECK ::::==========="),updateLog("check for hls support 1:-"+Boolean(String(String(dataBase.file).split("?")[0]).substr(-6).indexOf(".m3u8"))),updateLog("check for hls support 2:-"+Hls.isSupported()),!Boolean(-1!=String(String(dataBase.file).split("?")[0]).substr(-6).indexOf(".m3u8")&&Hls.isSupported())&&dataBase.isLive){if("ie"==detectBrowser())createSWFPlayer(t);else{dbInfo.prevLoader.hide(),dbInfo.vidContainer.show();var r='<br> Unsupported browser ! <br> To report this error, please <b></b> <a href="https://www.ndtv.com/convergence/ndtv/new/feedback.aspx" target="_blank">click here.  <br><br>';updateErrorView(r)}return!1}vidEnabled()||null==vidEnabled()?updateLog("NO SWF  Condition mathced.....Continue HTML5 Player "):updateLog("Condition matched.....MP4..Continue HTML5 Player "),updateLog("=======::::  END  - DESKTOP SWF CHECK - END  ::::===========")}}if(createAnnotation(),dataBase.stageObj={width:dbInfo.vidContainer.width(),height:dbInfo.vidContainer.height()},vidInfo.mwidth=dataBase.stageObj.width,vidInfo.mheight=dataBase.stageObj.height,updateLog("dataBase.parentDiv : "+dataBase.parentDiv),updateObj(dataBase.stageObj),dataBase.initApplication=!0,dataBase.initPlayer=!1,"LIVE_BG24x7"==dataBase.id)DAI_ASSET_KEY=null==dataBase.deviceId?"FbL8YN7tSnqysJ6wVjKW7A":"8BmMXuLuTHS1U3jtBnHmaQ",dataBase.daiURL="https://www.ndtv.com";else if("LIVE_BGINDIA"==dataBase.id){DAI_ASSET_KEY=null==dataBase.deviceId?"cXpfjAMTR4OKnp9WJxHc9g":"ZxHLSBVkSRaS26-JQLBCyQ";var n="khabar.ndtv.com"==getDomain(dataBase.pageurl)?"https://khabar.ndtv.com":"https://www.ndtv.in";dataBase.daiURL=n}else"LIVE_BGPROFIT"==dataBase.id?(DAI_ASSET_KEY="zjYnRBhpR_esWwP8YIEt9Q",dataBase.daiURL="https://www.ndtv.com"):"LIVE_BGRAJ"==dataBase.id?(DAI_ASSET_KEY="IoTNl-GQShWKit_KdZNY_A",dataBase.daiURL="https://rajasthan.ndtv.in"):"LIVE_BGMPCG"==dataBase.id?(DAI_ASSET_KEY="sXGilpLZQeWCygKyNIyQig",dataBase.daiURL="https://mpcg.ndtv.in/"):"LIVE_NDTVPROFIT"==dataBase.id&&(DAI_ASSET_KEY=null==dataBase.deviceId?"QuU6z3GSTDaXuLL9Hs5A5Q":"GMtuBZonSACPtuHv0f0iCA",dataBase.daiURL="https://www.ndtvprofit.com");if(DAI_DIRECT_URL="https://dai.google.com/linear/hls/event/"+DAI_ASSET_KEY+"/master.m3u8","LIVE_BGGT"==dataBase.id&&"IN"!=dataBase.country){dbInfo.prevLoader.hide(),dbInfo.vidContainer.show();var r="<br>We're sorry, currently 'NDTV GoodTimes' live video stream is only available in India. <br><br> If you are in India and believe you've received this message in error, please <a href=\"https://www.ndtv.com/convergence/ndtv/new/feedback.aspx\" target=\"_blank\">click here.  <br><br>";return updateErrorView(r),dbInfo.centerPlay.hide(),dbInfo.preloader.hide(),updateLog("OOPS! This video is only available in India"),!1}updateLog("======= PLAYER init Successfully with all data =============== "+dataBase.vidParent);var d="safari"!=detectBrowser()&&dataBase.isLive&&null==dataBase.deviceId&&!Hls.isSupported();if(updateLog("dataBase.isLive: "+dataBase.isLive+" ;  isLivTV: "+d),dataBase.mimeError||d){updateLog("OOPS! HLS Not supported "),dbInfo.prevLoader.hide(),dbInfo.vidContainer.show();var r='<br> Unsupported browser ! <br> To report this error, please <b></b> <a href="https://www.ndtv.com/convergence/ndtv/new/feedback.aspx" target="_blank">click here.  <br><br>';return updateErrorView(r),!1}if(updateLog("---------READY FOR PLAY -------- autostart: "+dataBase.autostart),"miuibrowser"==detectBrowser()&&dataBase.autostart)$("#adFullscreen").hide();else if(dataBase.autostart){if(updateLog("dataBase.adpoint.dai: "+dataBase.adpoint.dai),dataBase.isLive&&dataBase.adpoint.dai){updateLog("in live for DAI initial: "+DAI_ASSET_KEY);try{setupDAI(),requestLiveStream(DAI_ASSET_KEY,null,dataBase.daiURL)}catch(o){updateLog("in else No DAI because of AdBlocker or DAI SDK not supported, loading: "+dataBase.file),updateLog("Error DAI: "+o);try{updateLog("trying DAI direct url Or display adblocker removal msg"),updateMediaFile2(dataBase.file,!1)}catch(s){updateLog("tried all cases but no dai url is supported"),updateMediaFile2(dataBase.file,!1)}}}else updateLog("in else No DAI"),updateMediaFile2(dataBase.file,!1);setTimeout(300)}else updateLog("in else as its not autostart: "+dataBase.adpoint.dai),createPlayback();try{window.onbeforeunload=winUnloadEvt}catch(l){}try{null==dataBase.deviceId&&"embed"==dataBase.scat&&dataBase.isSticky&&1!=dataBase.policy&&(bindEvent(window,"message",,window.parent.initPageVid())}catch(p){updateLog("OOPS! Error found in writing addExtScript........")}return!1}function loadComscoreScript(){updateLog("in loadComscoreScript"),$.getScript("https://cdn.ndtv.com/vp/static/js/comscore.js").done(function(){console.log("comscore js loaded!!"),analytics_ndpl=ns_.analytics,cs_obj={},initComScore()}).fail()}function initComScore(){cs_obj.analytics=analytics_ndpl,cs_obj.analytics.PlatformApi.setPlatformAPI(cs_obj.analytics.PlatformApi.PlatformApis.WebBrowser);var t=new cs_obj.analytics.configuration.PublisherConfiguration({publisherId:"9548033"});cs_obj.analytics.configuration.addClient(t),cs_obj.analytics.start(),cs_obj.sa||(console.log("creating new stream tag object"),cs_obj.sa=new cs_obj.analytics.StreamingAnalytics,cs_obj.sa.setMediaPlayerName("NDTV Player"),cs_obj.sa.createPlaybackSession(),startComscore())}function startComscore(){updateLog("in startComscore & dataBase.isAdPlaying: ",dataBase.isAdPlaying,cs_obj),void 0==cs_obj||cs_obj.cm||cs_obj.am||(cs_obj.cm=new cs_obj.analytics.StreamingAnalytics.ContentMetadata,cs_obj.am=new cs_obj.analytics.StreamingAnalytics.AdvertisementMetadata),dataBase.isAdPlaying?comscoreMeta(dataBase.view):dataBase.isLive?comscoreMeta("LIVE"):comscoreMeta("ON-DEMAND")}function comscoreMeta(e){if(console.log("comscoreMeta",e,dataBase.dur),void 0!=cs_obj){cs_obj.cm.setUniqueId(dataBase.id),cs_obj.cm.setLength(1e3*dataBase.dur),cs_obj.cm.setDictionaryClassificationC3(setCSC3()),cs_obj.cm.setDictionaryClassificationC4(setCSC4()),cs_obj.cm.setDictionaryClassificationC6("*null"),cs_obj.cm.setStationTitle("NDTV"),cs_obj.cm.setPublisherName("NDTV Convergence Limited"),cs_obj.cm.setProgramTitle(dataBase.title),cs_obj.cm.setGenreName(void 0!=dataBase.category?String(dataBase.category):"news"),cs_obj.cm.carryTvAdvertisementLoad(!0),cs_obj.cm.classifyAsCompleteEpisode(!0);var t="*null",a="*null",i="*null";if(void 0!=dataBase.date){var n=new Date(dataBase.date);t=n.getFullYear(),a=n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,i=10>n.getDate()?"0"+n.getDate():n.getDate(),cs_obj.cm.setDateOfDigitalAiring(t,a,i)}var s=new Date,d=s.getFullYear(),c=s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1,m=10>s.getDate()?"0"+s.getDate():s.getDate();if(cs_obj.cm.setDateOfTvAiring(d,c,m),"LIVE"==e?cs_obj.cm.setMediaType(cs_obj.analytics.StreamingAnalytics.ContentMetadata.ContentType.LIVE):"ON-DEMAND"==e?dataBase.dur>600?cs_obj.cm.setMediaType(cs_obj.analytics.StreamingAnalytics.ContentMetadata.ContentType.LONG_FORM_ON_DEMAND):cs_obj.cm.setMediaType(cs_obj.analytics.StreamingAnalytics.ContentMetadata.ContentType.SHORT_FORM_ON_DEMAND):"preroll"==e?dataBase.isLive?cs_obj.am.setMediaType(cs_obj.analytics.StreamingAnalytics.AdvertisementMetadata.AdvertisementType.LIVE):(console.log("playing preroll now for VOD"),cs_obj.am.setMediaType(cs_obj.analytics.StreamingAnalytics.AdvertisementMetadata.AdvertisementType.ON_DEMAND_PRE_ROLL)):"midroll"==e&&(dataBase.isLive?cs_obj.am.setMediaType(cs_obj.analytics.StreamingAnalytics.AdvertisementMetadata.AdvertisementType.LIVE):cs_obj.am.setMediaType(cs_obj.analytics.StreamingAnalytics.AdvertisementMetadata.AdvertisementType.ON_DEMAND_MID_ROLL)),cs_obj.am.setRelatedContentMetadata(cs_obj.cm),dataBase.isAdPlaying){updateLog("set ad meta");try{void 0!=gimaObj.adEvent.getDuration()&&cs_obj.am.setLength(1e3*gimaObj.adEvent.getDuration()),void 0!=gimaObj.adEvent.getAdId()&&cs_obj.am.setServerCampaignId(gimaObj.adEvent.getAdId())}catch(r){updateLog("in dai catch")}cs_obj.sa.setMetadata(cs_obj.am)}else updateLog("set content meta"),cs_obj.sa.setMetadata(cs_obj.cm)}}function stopComscore(){void 0!=cs_obj&&cs_obj.sa&&cs_obj.sa.notifyEnd()}function setCSC3(){var t=1;return"khabar.ndtv.com"==getDomain(dataBase.pageurl)||"sports.ndtv.com"==getDomain(dataBase.pageurl)||"ndtv.com"==getDomain(dataBase.pageurl)||"food.ndtv.com"==getDomain(dataBase.pageurl)||"swirlster.ndtv.com"==getDomain(dataBase.pageurl)||"doctor.ndtv.com"==getDomain(dataBase.pageurl)||"swachhindia.ndtv.com"==getDomain(dataBase.pageurl)?t=1:"carandbike.com"==getDomain(dataBase.pageurl)?t=5:"gadgets.ndtv.com"==getDomain(dataBase.pageurl)?t=3:"ndtv.in"==getDomain(dataBase.pageurl)&&(t=6),String(t)}function setCSC4(){var t="*null";return"khabar.ndtv.com"==getDomain(dataBase.pageurl)?t=1:"carandbike.com"==getDomain(dataBase.pageurl)||"ndtv.com"==getDomain(dataBase.pageurl)||"gadgets.ndtv.com"==getDomain(dataBase.pageurl)?t="*null":"swachhindia.ndtv.com"==getDomain(dataBase.pageurl)?t=4:"food.ndtv.com"==getDomain(dataBase.pageurl)?t=3:"doctor.ndtv.com"==getDomain(dataBase.pageurl)||"ndtv.in"==getDomain(dataBase.pageurl)?t=6:"sports.ndtv.com"==getDomain(dataBase.pageurl)?t=2:"swirlster.ndtv.com"==getDomain(dataBase.pageurl)&&(t=5),String(t)}function initMatchCube(){updateLog("in initMatchCube"),dataBase.cube&&$.ajax({type:"GET",dataType:"jsonp",jsonpCallback:"cbNDTVVP",cache:!0,url:sportsAPI}).done().fail(function(t,e,a){updateLog("In Parsing Error Player js: "+a)})}function cbNDTVVP(t){if(updateLog("in cbNDTVVP: ",t),updateLog("match data length in player-"+t.matches.length),0==t.matches.length){updateLog("no match data!!"),$("#mainCubeHolder").css("display","none");return}$("#annotHolder").css("top","35px"),loadCubeFiles()}function loadCubeFiles(){updateLog("in loadCubeFiles"),$.getScript("https://cdn.ndtv.com/vp/static/js/player-cube.js").done(function(){updateLog("cube js loaded"),$.fn.DrawCube("mainCubeHolder",{sportsAPI:sportsAPI,filpDelay:4,autoRefresh:30,outClass:"rotateCubeTopOut",inClass:"rotateCubeTopIn"}),$.getScript("https://cdn.ndtv.com/vp/static/js/blast.js").done(function(){updateLog("blast js loaded"),dataBase.cube&&null!=dataBase.deviceId&&(401>dbInfo.vidContainer.width()?$("#mainCubeHolder").css("left","0px"):$("#mainCubeHolder").css("left","35px"))}).fail()}).fail()}function checkAutoPlay(t){updateLog("checkAutoPlay() - STEP -1");var e=t.play();function a(){updateLog(" >>  autoMutSuccs() - STEP -4"),gimaObj.autoplayAllowed=!0,gimaObj.autoplayReqMuted=!0,i()}function d(){updateLog("!!! autoMutFail() - STEP -5"),gimaObj.autoplayAllowed=!1,gimaObj.autoplayReqMuted=!1,i()}function i(){updateLog("!!! autoPlayResolved >>>>> "),dataBase.initPromise=!1,t&&!t.paused&&(t.pause(),setTimeout(1e3),updateLog("--------other br")),vidInfo.vidTestPlay&&(vidInfo.vidTestPlay.pause(),$("#autoPlayTest").hide(),$("#autoPlayTest").empty().remove()),gimaObj.autoplayAllowed?dataBase.autostart=!0:dataBase.autostart=!1,updateLog("-----autoplayReqMuted "+gimaObj.autoplayReqMuted+" ;  mutestart: "+dataBase.mutestart),gimaObj.autoplayAllowed&&(dataBase.mutestart||gimaObj.autoplayReqMuted)?(createMuteSetup(),dataBase.mutestart=!0,updateLog("-----createMuteSetup()")):(updateLog("-----update Volume 1 max"),dbInfo.mainVid[0].muted=!1,dataBase.volume=1,dataBase.volumeAds=1,t.volume=1,volumeChange()),updateLog(" =========########## AutoPlay Support Info ############==="+t.paused),updateLog("autoplayAllowed: "+gimaObj.autoplayAllowed),updateLog("autoplayReqMuted: "+gimaObj.autoplayReqMuted),updateLog("dataBase.autostart: "+dataBase.autostart),gimaObj.autoplayReqMuted?updateLog("Autoplay Status: Browser supports muted autoplay"):gimaObj.autoplayAllowed?dataBase.mutestart?updateLog("Autoplay Status: Browser can do autoplay with volume but mutestart=1 added in param"):updateLog("Autoplay Status: Browser can do autoplay with volume"):updateLog("Autoplay Status: Please click to play video as auto play not supported by this browser "),updateLog("-------------------READY TO SETUP----------------------------"),createPlayback()}updateLog(e+" ########  ****** _____ **** checkAutoPlay() - STEP -1 - "+dataBase.initPlayer),void 0!==e?(gimaObj.autoplayAllowed=!1,gimaObj.autoplayReqMuted=!1,t.volume=0,dataBase.initPromise=!0,e.then(function(){if(!dataBase.initPromise)return!1;updateLog("checkAutoPlay- SUCCESS() - STEP -1.1"),t.pause(),updateLog("autoSndSuccs() - STEP -2"),gimaObj.autoplayAllowed=!0,gimaObj.autoplayReqMuted=!1,i()}).catch(function(e){var i;if(!dataBase.initPromise)return!1;updateLog(" checkAutoPlay- Audio Failed() - STEP -1.2"),t.pause(),updateLog("checkMutedAutoplay() - STEP -3 - "+t),t.volume=0,t.muted=!0,void 0!==(i=t.play())&&i.then(a).catch(d)})):(updateLog("OOPS! Promise undefind , isMobilePl: "+isMobilePl.any()+" ; browser: "+detectBrowser()),dataBase.deviceId?dataBase.autostart=!1:dataBase.mutestart&&(dbInfo.mainVid[0].muted=!0,createMuteSetup()),createPlayback())}function updateURIStr(t){var e="NA";return void 0!=t&&null!=t&&""!=String(t)&&"undefined"!=String(t)&&"null"!=String(t)&&(e=decodeURIComponent(t)),e}function updateStickyPram(t){var e=!1;try{var a="true"==String(t.isSticky),d=String(window.location.href).toLowerCase();(a||-1!=d.indexOf("issticky=true"))&&(e=!0)}catch(i){updateLog("OOPS! Error found in isSticky params ")}return e}function receivEvents(t){switch(t){case"iframe_bottom":stickCloseEnable(!0),restStage();break;case"iframe_normal":stickCloseEnable(!1),restStage()}return!1}function stickCloseEnable(t){return t?((-1!=String(document.getElementById("controlBar").className).indexOf("cb-move-up")||dataBase.isAdPlaying)&&dbInfo.stickClose.removeClass("cbTop-move-up").addClass("cbTop-move-down"),dbInfo.stickCloseActive=!0):(dbInfo.stickClose.removeClass("cbTop-move-down").addClass("cbTop-move-up"),dbInfo.stickCloseActive=!1),!1}function winUnloadEvt(t){try{var e=dataLayer.filter(;console.log("filter_arr",e);var a="",d="",i="",o="",n="",s="",r="",l="",c=0,u=0,p=0,f=0,v=0,m=0,b=0,g=0,h=0,I="";e.forEach(function(t){if("preroll"==t.eventCategory||"midroll"==t.eventCategory){if(console.log("== performing for preroll =="),String(t.eventAction).toLowerCase().startsWith("end")){if(String(t.eventAction).toLowerCase().endsWith("true")){console.log("== performing for pre_End_FOT_true ==");var e="".concat(t.eventAction,"|").concat(t.errorStatus);switch(t.eventCategory){case"preroll":c+=1,d+="~".concat(e);break;case"midroll":m+=1,s+="~".concat(e)}}else if(String(t.eventAction).toLowerCase().endsWith("false")){console.log("== performing for pre_End_FOT_false ==");var B="".concat(t.eventAction,"|").concat(t.errorStatus);switch(t.eventCategory){case"preroll":u+=1,a+="~".concat(B);break;case"midroll":v+=1,n+="~".concat(B)}}}else if(String(t.eventAction).toLowerCase().startsWith("start")){if("LIVE"==t.videoType&&-1!=t.adFormat.indexOf("dai")){var y="".concat(t.eventAction,"|").concat(t.errorStatus);switch(t.eventCategory){case"preroll":p+=1,o+="~".concat(y);break;case"midroll":h+=1,I+="~".concat(y)}}else if(String(t.eventAction).toLowerCase().endsWith("true")){console.log("== performing for pre_Start_FOT_true ==");var w="".concat(t.eventAction,"|").concat(t.errorStatus);switch(t.eventCategory){case"preroll":p+=1,o+="~".concat(w);break;case"midroll":b+=1,l+="~".concat(w)}}else if(String(t.eventAction).toLowerCase().endsWith("false")){console.log("== performing for pre_Start_FOT_false ==");var _="".concat(t.eventAction,"|").concat(t.errorStatus);switch(t.eventCategory){case"preroll":f+=1,i+="~".concat(_);break;case"midroll":g+=1,r+="~".concat(_)}}}}}),a=u+""+a,d=c+""+d,i=f+""+i,o=p+""+o,n=v+""+n,s=m+""+s,r=g+""+r,l=b+""+l,I=h+""+I;var B="NA",y="NA",w="NA";if("NA"!=dataBase.date){var _=new Date(dataBase.date);B=_.getFullYear(),y=_.getMonth()+1<10?"0"+(_.getMonth()+1):_.getMonth()+1,w=10>_.getDate()?"0"+_.getDate():_.getDate()}if(window.dataLayer.push({event:"Player_unload_events",eventCategory:"Player_unload_events",eventAction:"adformat",eventLabel:"0",pre_End_FOT_true:d,pre_End_FOT_false:a,pre_Start_FOT_true:o,pre_Start_FOT_false:i,mid_End_FOT_true:s,mid_End_FOT_false:n,mid_Start_FOT_true:l,mid_Start_FOT_false:r,mid_Start_Live_DAI:I,videoId:String(dataBase.id),channel:String(dataBase.channel),videoForm:String(dataBase.content_type),show:String(dataBase.show),network:String(dataBase.vidsource),adFormat:String(dataBase.prmadpoint),title:String(dataBase.title),videoType:updateVidType(),videoCategory:String(dataBase.category)+vidFromSource(),alias:String(dataBase.aliasInit),autostart:String(dataBase.autostart),device:updateGADeviceInfo(dataBase.deviceId),url:String(dataBase.pageurl),publicationyear:B,publicationmonth:y,publicationday:w,publicationdate:w+"-"+y+"-"+B,author:String(dataBase.author)}),dbInfo.mainVid&&!dataBase.isLive){var C=Math.floor(dbInfo.mainVid[0].currentTime),L=Math.floor(dbInfo.mainVid[0].duration);setVidCookieVal("vid_id",dataBase.id,90),setVidCookieVal("vid_time",C,90),setVidCookieVal("vid_dur",L,90),localStorageSetItem("vid_domain",dataBase.vidDomain),localStorageSetItem("vid_id",dataBase.id),localStorageSetItem("vid_time",C),localStorageSetItem("vid_dur",L)}}catch(T){}}ar sendMessage=function setVidCookieVal(t,e,a){var d=new Date,i=new Date(d.getTime()+864e5*a),o=encodeURIComponent(e)+(null==a?"":"; expires="+i.toUTCString());document.cookie=t+"="+o}unction updateFullScreen(t){var e=String(window.location.href).toLowerCase(),a=!0;return(-1!=e.indexOf("fullscreen=false")||"false"==String(t.fullscreen))&&(a=!1),a}function updateFileParams(t){var e=t;("undefined"==String(t)||""==String(t))&&("undefined"!=String(dataBase.media_mp4)&&""!=String(dataBase.media_mp4)?e=String(dataBase.media_mp4):"undefined"!=String(dataBase.media_webm)&&""!=String(dataBase.media_webm)&&(e=String(dataBase.media_webm)));var a="LIVE_BG24x7"==dataBase.id||"LIVE_BGINDIA"==dataBase.id;if(dataBase.isLive&&-1!=e.indexOf("akamaihd.net")&&a){updateLog("Before Akamai URL :  "+e);var d=String(e.split("?")[1]);updateLog("After Akamai URL :  "+(e=String(e.split("?")[0]+"?set-segment-duration=quality&"+d)))}else if(!dataBase.isLive){var i=String(e.split("?")[0]).substr(-7),o=Boolean(void 0!=dataBase.media_mp4&&null!=dataBase.media_mp4&&""!=String(dataBase.media_mp4)),n=Boolean(void 0!=dataBase.media_webm&&null!=dataBase.media_webm&&""!=String(dataBase.media_webm));updateLog("FILE EXT: "+i+"  ; media src main: "+e),o&&updateLog("Mp4 File availalbe: "+dataBase.media_mp4),n&&updateLog("WebM File available: "+dataBase.media_webm);var s=String(window.location.href);updateLog("device: "+isMobilePl.any()+" ; domain URL : "+s),-1!=i.indexOf(".m3u8")&&Hls&&!Hls.isSupported()?null==dataBase.deviceId&&void 0!=dataBase.media_mp4&&null!=dataBase.media_mp4&&""!=String(dataBase.media_mp4)?(e=dataBase.media_mp4,updateLog("HLS not supported but mp4 available and updated !!!")):null==dataBase.deviceId&&void 0!=dataBase.media_webm&&null!=dataBase.media_webm&&""!=String(dataBase.media_webm)?(e=dataBase.media_webm,updateLog("HLS not supported but webm file available and updated !!!")):null==isMobilePl.any()&&"safari"!=dataBase.browserId?(updateLog("SET MEDIA File as devices not suported. "),dataBase.mimeError=!0):updateLog("Mobile Inline request media file even HLS not supported!!!"):(updateLog("!! HLS supported device !!!"),-1!=i.indexOf(".m3u8")&&"Android"==isMobilePl.any()&&-1!=s.indexOf("/play-via-app/")&&o&&(e=dataBase.media_mp4)),updateLog("-------newFile: "+e)}return e}function originFileSetup(t){var e=String(window.location.href).toLowerCase(),a=t;return -1!=e.indexOf("origin-dev.ndtv.com")&&-1!=e.indexOf("ratio=11")&&(a="https://ndtvod.bc-ssl.cdn.bitgravity.com/23372/ndtv/06012017_n_DhoniWit_41868.mp4"),a}function annotClick(t){t.preventDefault();var e=String($(this).attr("openWin"));return _gaq&&_gaq.push(["_trackEvent","Annotations","html5videoplayer, Video type: "+updateVidType()+", a_displayed_at: "+String($(this).attr("dispAt"))+"secs, a_target:"+e+", Video ID: "+dataBase.id+", URL: "+String(dataBase.pageurl),dataBase.id]),updateLog("Requesting GAP Tag - Annotations - "),updateGAPEvent("Annotations",String($(this).attr("dispAt")),String(dataBase.id),"NA"),"1"==e?window.open(String($(this).attr("clickUrl")),"_blank"):window.open(String($(this).attr("clickUrl")),"_self"),!1}function annotClose(t){return t.preventDefault(),t.stopPropagation(),updateLog("you have clicked me....."+String($(this).parent().attr("userClosed")+";  "+$(this).parent().attr("id"))),$(this).parent().attr("userClosed","true"),$("#"+$(this).parent().attr("id")).hide(),updateLog($(this).parent().attr("userClosed")),!1}function updateAnnotation(t){try{if(null==dataBase.deviceId&&(isFullScreen()||dbInfo.vidContainer.width()>380)&&!dataBase.isLive&&dataBase.annotations&&updateObjLen(dataBase.annotations)>0&&!dataBase.isAdPlaying&&dataBase.showAnnot){if(dbInfo.annotHolder.show(),t!=dataBase.annotTime){dataBase.annotTime=t;var e,a,d,i,o,n,s,r=dataBase.annotations;if(r[0])for(var l in r)d=r[l],a=$("#annotList_"+l),e=Number(d.display_on_second)+Number(d.pause_for_second),t>=d.display_on_second&&t<e&&!i?(i=a.attr("userClosed"),"true"!=i&&(a.show(),400>=dbInfo.vidContainer.width()&&a.width(dbInfo.vidContainer.width()-30),(o=Math.round(d.x_pos)+a.width()+13)>dbInfo.vidContainer.width()&&a.css({"margin-left":"10px"}),(n=Math.round(d.y_pos)+a.height())>dbInfo.vidContainer.height()&&(s=Math.round(dbInfo.vidContainer.height()-(a.height()+55)),a.css({"margin-top":s+"px"})))):a.hide();else for(var l in r)d=r,a=$("#annotList_0"),e=Number(d.display_on_second)+Number(d.pause_for_second),t>=d.display_on_second&&t<=e?(i=a.attr("userClosed"),"true"!=i&&(a.show(),400>=dbInfo.vidContainer.width()&&a.width(dbInfo.vidContainer.width()-30),(o=Math.round(d.x_pos)+a.width())>dbInfo.vidContainer.width()&&a.css({"margin-left":"10px"}),(n=Math.round(d.y_pos)+a.height())>dbInfo.vidContainer.height()&&(s=Math.round(dbInfo.vidContainer.height()-(a.height()+55)),a.css({"margin-top":s+"px"})))):a.hide()}}else dbInfo.annotHolder.hide()}catch(c){updateLog("OOPS! Error found in Annotation update ")}return!1}function createAnnotation(){try{var t=[];if(void 0==dataBase.annotations.length?t.push(dataBase.annotations):t=dataBase.annotations,!dataBase.isLive&&t.length>0&&!dataBase.isAdPlaying){501>dbInfo.vidContainer.width()&&($("#affiliateHolder")&&$("#affiliateHolder").addClass("affiliateOnMob"),$("#pollHolder")&&$("#pollHolder").addClass("pollVodOnMob"),$("#faceOffHolder")&&$("#faceOffHolder").addClass("faceoffOnMob"));for(var e=0;e<t.length;e++)if("ecom"==t[e].annotations_type?(isAfflinks=!0,$("#affiliateHolder").append('<div class="vid-ad hideon" style="display:none;" id="aff'.concat(e,'" data-displayon="').concat(t[e].display_on_second,'" data-pausefor="').concat(t[e].pause_for_second,'" data-title="').concat(t[e].annotations_product_detail.prdt_title,'">\n						<div class="vid-ad_closebtn">\n							<svg class="icon-close">\n								<use xlink:href="#triangle"></use>\n							</svg></div>\n	\n						<div class="vid-ad_inner">\n							<div class="vid-ad_lft">\n								<div class="vid-ad_news">\n									<div class="news_thumb">\n										<div>\n											<a href="#" onclick="affliateOnClick(\'').concat(t[e].annotations_product_detail.prdt_redirect_url,"', '").concat(t[e].annotations_product_detail.prdt_title,'\')"><img src="').concat(t[e].annotations_product_detail.prdt_source_large_image,'"></a>\n										</div>\n	\n									</div>\n									<div class="news_desc">\n										<a href="#" style="text-decoration:none;" onclick="affliateOnClick(\'').concat(t[e].annotations_product_detail.prdt_redirect_url,"', '").concat(t[e].annotations_product_detail.prdt_title,'\')">\n											<h3 class="news_head" style="opacity:0;" id="affTxt').concat(e,'">').concat(t[e].annotations_product_detail.prdt_title,'</h3>\n											<h3 class="news_head" style="opacity:0; display:none;" id="affTxtNonTrim').concat(e,'">').concat(t[e].annotations_product_detail.prdt_title,'</h3>\n										</a>\n									</div>\n								</div>\n							</div>\n							<div class="vid-ad_rgt">\n											').concat(Math.round((t[e].annotations_product_detail.prdt_source_mrp-t[e].annotations_product_detail.prdt_source_price)/t[e].annotations_product_detail.prdt_source_mrp*100)>0?' <div class="discount_tag">\n									 <p>'.concat(Math.round((t[e].annotations_product_detail.prdt_source_mrp-t[e].annotations_product_detail.prdt_source_price)/t[e].annotations_product_detail.prdt_source_mrp*100),"%<span>Off</span></p>\n								 </div>"):"",'\n	\n								<div class="vid-tbl">\n									<p class="news_price">\n													').concat(""!=String(t[e].annotations_product_detail.prdt_source_mrp).split(".")[0]?'<span class="old-price">&#x20b9;'.concat(String(t[e].annotations_product_detail.prdt_source_mrp).split(".")[0],"</span>"):"",'\n	\n													<span\n											class="offer-price">&#x20b9;').concat(String(t[e].annotations_product_detail.prdt_source_price).split(".")[0],'</span></p>\n									<a href="#" onclick="affliateOnClick(\'').concat(t[e].annotations_product_detail.prdt_redirect_url,"', '").concat(t[e].annotations_product_detail.prdt_title,'\')" class="buy_btn">Buy on ').concat(t[e].annotations_product_detail.prdt_source_name,"</a>\n								</div>\n							</div>\n	\n						</div>\n	\n					</div>"))):"poll"==t[e].annotations_type&&($("#pollHolder").append('<div class="vgp" style="display:none;" id="pv'.concat(e,'" data-pollid="').concat(t[e].id,'" data-displayon="').concat(t[e].display_on_second,'" data-pausefor="').concat(t[e].pause_for_second,'">\n									<div class="vgp_top">\n										<span>').concat(t[e].annotations_poll_detail.poll_heading,' <b>Poll</b>\n											<div class="close-btn-poll">\n													<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n														<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n															<g id="Group">\n																<circle id="Oval" fill="#590823" cx="10" cy="10" r="10"></circle>\n																<path d="M10.7075108,10.0000834 L13.8534114,6.85405157 C14.0488629,6.65875878 14.0488629,6.34188747 13.8534114,6.14659468 C13.65796,5.95113511 13.3414355,5.95113511 13.145984,6.14659468 L10.0000834,9.29262649 L6.85401597,6.14659468 C6.65856455,5.95113511 6.34203998,5.95113511 6.14658856,6.14659468 C5.95113715,6.34188747 5.95113715,6.65875878 6.14658856,6.85405157 L9.29265598,10.0000834 L6.14658856,13.1461152 C5.95113715,13.341408 5.95113715,13.6582793 6.14658856,13.8535721 C6.24431427,13.9511351 6.37239165,14 6.50030227,14 C6.62821288,14 6.75629026,13.9511351 6.85401597,13.8534053 L10.0000834,10.7073735 L13.145984,13.8534053 C13.2437097,13.9511351 13.3717871,14 13.4996977,14 C13.6276083,14 13.7556857,13.9511351 13.8534114,13.8534053 C14.0488629,13.6581125 14.0488629,13.3412412 13.8534114,13.1459484 L10.7075108,10.0000834 Z" id="Path" stroke="#FFFFFF" stroke-width="0.666666667" fill="#FFFFFF" fill-rule="nonzero"></path>\n															</g>\n														</g>\n													</svg>\n											</div>\n							\n										</span>\n									</div>\n									<div class="vgp_main">\n											').concat(t[e].annotations_poll_detail.poll_image?'<div class="vgp_img">\n											<img src="'.concat(t[e].annotations_poll_detail.poll_image,'">\n										</div>'):"",'\n											\n										<div class="vgp_txt">').concat(t[e].annotations_poll_detail.poll_question,'\n										</div>\n										<div class="vgp_btn">\n											').concat(t[e].annotations_poll_detail.options.option.map(function(a){return'<div class="vgp_btn-cld" data-pollid="'.concat(t[e].id,'">\n															<button data-value="').concat(a.id,'">\n																').concat(a.label,'\n																<span></span>\n																<span class="vgp_pollResult_votes" style="width:0%;"></span>\n															</button>\n														</div>')}).join(""),"\n										</div>\n	\n									</div>\n								</div>")),$("#controlBar").hasClass("cb-move-up")&&$("#pollHolder").css("bottom","75px"),""!=getVidCookieVal("poll_vod_"+t[e].id)&&drawPollButtons(t[e].id)),"counterview"==t[e].annotations_type)$("#faceOffHolder").append('<div class="faceoffNotification" data-displayscr="'.concat(t[e].display_on_second,'" \n														data-viewscr="').concat(t[e].counterview_detail.view.display_on_second,'" \n														data-viewpausefor="').concat(t[e].counterview_detail.view.pause_for_second,'" \n														data-cviewscr="').concat(t[e].counterview_detail.counterview.display_on_second,'" \n														data-cviewpausefor="').concat(t[e].counterview_detail.counterview.pause_for_second,'"\n														data-cviewscrcomingsoon="').concat(t[e].counterview_detail.counterview.display_on_second-10,'"\n														data-cviewout="').concat(Number(t[e].counterview_detail.counterview.display_on_second)+Number(t[e].counterview_detail.counterview.pause_for_second),'"\n													>\n													<div class="playing-lft" style="display:none;">\n														<div class="now-playing">\n															<p>Now Playing<strong>View</strong></p>\n															<span><img src="').concat(t[e].counterview_detail.view.view_image,'"></span>\n														</div>\n													</div>\n													<div class="playing-rgt" style="display:none;">\n														<div class="now-playing counter-view">\n															<span><img src="').concat(t[e].counterview_detail.counterview.view_image,'"></span>\n															<p>Starts in 10 Sec<strong>Counter View</strong></p>\n												\n														</div>\n													</div>\n												</div>\n												<div class="faceoff" data-faceoffid=').concat(t[e].id,'  data-displayon="').concat(t[e].display_on_second,'">\n													<div class="faceoff-main">\n														<div class="close_time" style="display:none;">\n															<svg width="100%" height="100%">\n																<circle class="base" r="45.5%" cx="50%" cy="50%" fill="transparent" stroke-dasharray="100" stroke-dashoffset="100"></circle>\n																<circle class="bar" r="45.5%" cx="50%" cy="50%" fill="transparent" stroke-dasharray="100" stroke-dashoffset="100"></circle>\n																<g id="close-btn" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n																<path d="M8.69578507,1.77268979 L5.96883805,4.49993864 L8.69578507,7.2270583 C9.10140498,7.63283584 9.10140498,8.29014121 8.69578507,8.69591876 C8.49311723,8.89858791 8.22740635,9 7.96182466,9 C7.69580373,9 7.43006702,8.89874294 7.2275542,8.69591876 L4.50001292,5.96848905 L1.77267834,8.69589292 C1.57003633,8.89856207 1.30429962,8.99997416 1.03848539,8.99997416 C0.772748673,8.99997416 0.50719282,8.8987171 0.30436995,8.69589292 C-0.101249952,8.29029623 -0.101249952,7.63296503 0.30436995,7.22703246 L3.03123946,4.4999128 L0.304214926,1.77268979 C-0.101404975,1.36706727 -0.101404975,0.709606876 0.304214926,0.303984354 C0.709757316,-0.101328118 1.3668259,-0.101328118 1.77252331,0.303984354 L4.49998708,3.0312332 L7.22724415,0.303984354 C7.63301908,-0.101328118 8.29016517,-0.101328118 8.69563005,0.303984354 C9.10140498,0.709606876 9.10140498,1.36706727 8.69578507,1.77268979 Z" id="Path" fill="#FFFFFF" fill-rule="nonzero"></path>\n																</g>\n															</svg>\n														</div>\n														<h3 class="faceoff-head">').concat(t[e].counterview_detail.headline,'</h3>\n														<div class="faceoff-body">\n														<div class="faceoff-body_inner">\n															<div class="faceoff-body_lft">\n															<div class="faceoff_lft-bg"></div>\n															<div class="faceoff_lft-contant">\n																<div class="faceoff-profile">\n																<div class="faceoff-pic"><span><img src="').concat(t[e].counterview_detail.view.view_image,'"></span></div>\n																<div class="c100"> <span></span>\n																	<div class="slice">\n																	<div class="bar"></div>\n																	<div class="fill"></div>\n																	</div>\n																</div>\n	\n																<h3>').concat(t[e].counterview_detail.view.view_by,'</h3>\n																</div>\n																<p class="open">').concat(t[e].counterview_detail.view.view_text,'</p>\n																<a class="more-less" href="javascript:void()">Read more</a> <a class="close-btn" href="javascript:void()"></a> </div>\n															</div>\n															<div class="faceoff-body_rgt">\n															<div class="faceoff_rgt-bg"></div>\n															<div class="faceoff_lft-contant">\n																<div class="faceoff-profile">\n																<div class="faceoff-pic"><span><img src="').concat(t[e].counterview_detail.counterview.view_image,'"></span></div>\n																<div class="c100"> <span></span>\n																	<div class="slice">\n																	<div class="bar"></div>\n																	<div class="fill"></div>\n																	</div>\n																</div>\n																<h3>').concat(t[e].counterview_detail.counterview.view_by,'</h3>\n																</div>\n																<p class="open">').concat(t[e].counterview_detail.counterview.view_text,'</p>\n																<a class="more-less" href="javascript:void()">Read more</a> <a class="close-btn" href="javascript:void()"></a> </div>\n															</div>\n														</div>\n														<div class="faceoff-act-btn">\n															<div class="faceoff-btn view"><button data-faceoffid=').concat(t[e].id,' data-initlabel="View" data-type="a" data-viewDisplayon=').concat(t[e].counterview_detail.view.display_on_second," data-viewPausefor=").concat(t[e].counterview_detail.view.pause_for_second,'>View</button></div>\n															<div class="faceoff-btn cview"><button data-faceoffid=').concat(t[e].id,' data-initlabel="Counter View" data-type="b" data-viewDisplayon=').concat(t[e].counterview_detail.counterview.display_on_second," data-viewPausefor=").concat(t[e].counterview_detail.counterview.pause_for_second,">Counter VIEW</button></div>\n														</div>\n														</div>\n													</div>\n													</div>")),$(".close_time").on("click",function(t){$(this).addClass("dismissvote"),$(".faceoff").hide(),setTimeout(function(){isFaceoffTimeupdate=!1},1500),dbInfo.mainVid[0].paused&&dbInfo.mainVid[0].play()}),$(".faceoff-body_lft .more-less").click(function(){var t="Read more"==$(this).text()?"Read Less":"Read more";$(".more-less").text(t),$(".faceoff_lft-contant p").toggleClass("open"),$(".faceoff-body").toggleClass("mob-view")}),$(".faceoff-body_lft .close-btn").click(function(){$(".faceoff_lft-contant p").toggleClass("open"),$(".faceoff-body").toggleClass("mob-view")}),$(".faceoff-body_rgt .more-less").click(function(){var t="Read more"==$(this).text()?"Read Less":"Read more";$(".more-less").text(t),$(".faceoff_lft-contant p").toggleClass("open"),$(".faceoff-body").toggleClass("mob-view2")}),$(".faceoff-body_rgt .close-btn").click(function(){$(".faceoff_lft-contant p").toggleClass("open"),$(".faceoff-body").toggleClass("mob-view2")});else if(null==dataBase.deviceId&&!t[e].annotations_type){var a='<div id="annotList_'.concat(e,'" clickurl="').concat(String(t[e].target_url),'" openwin="').concat(String(t[e].open_in_new_window),'" dispat="').concat(String(t[e].display_on_second),'" userclosed="false" class="annotList" style="color:#').concat(t[e].text_color,"; margin-top:").concat(t[e].y_pos,"px; margin-left: ").concat(t[e].x_pos,"px; background-color:#").concat(t[e].bg_color,'; border-radius: 5px; display: none;">').concat(t[e].title,'<span id="closeBtn" class="annotClose"></span></div>');dbInfo.annotHolder.append(a)}$(".vid-ad_closebtn").click(,$(".vgp .close-btn-poll").click(function(){$(this).parent().parent().parent().hide(),$(this).parent().parent().parent().addClass("marr")}),$(".vgp_btn-cld button").click(function(){var t=this;$.ajax({type:"POST",url:"https://wapi.ndtv.com/vpolls/v0/api.php?video_id=".concat(dataBase.id,"&id=").concat($(this).parent().data("pollid"),"&type=poll&option=").concat($(this).data("value"),"&key=NDTV-1FA91873AC7644FC2F32B37A14D99D0D")}).done(function(e){var a=$(t).parent().data("pollid");plotPoll(e,a),setVidCookieVal("poll_vod_"+$(t).parent().data("pollid"),$(t).data("value"),90)}).fail(function(t,e,a){updateLog("In Poll post parsing error Player js: "+a)})}),dbInfo.annotHolder.find(".annotList").on("click",annotClick),dbInfo.annotHolder.find(".annotList").bind({mouseenter:function t(){$(this).find(".annotClose").show()},mouseleave:),dbInfo.annotHolder.find(".annotClose").on("click",annotClose),dbInfo.annotHolder.find(".annotList").hide()}}catch(d){updateLog("OOPS! Error found in creating annotation()")}return!1}function goToAndPlay(t){dbInfo.mainVid&&(dbInfo.mainVid[0].currentTime=Number(t),dbInfo.mainVid[0].play())}function displayFaceOffNotification(t){var e=$(".faceoffNotification");if(t<e.data("displayscr")&&($(".playing-lft").hide(),$(".playing-rgt").hide()),t>=e.data("viewscr")&&t<e.data("cviewscrcomingsoon"))faceoffstatus="view",$(".playing-lft").show(),t<e.data("cviewscrcomingsoon")&&$(".playing-rgt").hide(),dataBase.deviceId&&(faceoffNotificationTimeOutObj=setTimeout(function(){dbInfo.mainVid[0].paused?$(".playing-lft").removeClass("hideFONotification"):$(".playing-lft").addClass("hideFONotification"),clearTimeout(faceoffNotificationTimeOutObj)},3e3));else if(t>=e.data("cviewscrcomingsoon")&&($(".playing-rgt").show(),t>e.data("cviewscr")?(faceoffstatus="cview",$(".playing-lft").hide(),$(".playing-rgt p").html("Now Playing<strong>Counter View</strong>"),dataBase.deviceId&&(faceoffNotificationTimeOutObj=setTimeout(function(){dbInfo.mainVid[0].paused?$(".playing-rgt").removeClass("hideFONotification"):$(".playing-rgt").addClass("hideFONotification"),clearTimeout(faceoffNotificationTimeOutObj)},3e3))):($(".playing-lft").show(),e.data("cviewscr")-t>0&&($(".playing-rgt").removeClass("hideFONotification"),$(".playing-lft").addClass("hideFONotification"),$(".playing-rgt p").html("Starts in ".concat(e.data("cviewscr")-t," Sec<strong>Counter View</strong>")))),t>e.data("cviewout"))){if($(".playing-lft").hide(),$(".playing-rgt").hide(),t>e.data("cviewout")+1)return;showfaceoff||(showfaceoff=!0,$(".playing-rgt").hide(),dbInfo.mainVid[0].pause(),showControl(),animPauseClicked(),$(".playing-lft").hide(),$(".playing-rgt").hide(),$(".close_time").hasClass("dismissvote")||($(".faceoff-btn").each(function(t,e){$(e).addClass("no-icon"),$(e).find("button").text("Vote"),$(e).find("button").off("click"),$(e).find("button").on("click",function(t){var a=this;t.preventDefault(),$(e).find("button").text("Loading"),$(e).find("button").append("<span></span>"),$(e).find("button").addClass("btn-loading"),$(".close_time svg .bar").css("animation-duration","10s"),$(".close_time").removeClass("close_anim_reset"),setTimeout(300),$.ajax({type:"POST",url:"https://wapi.ndtv.com/vpolls/v0/api.php?video_id=".concat(dataBase.id,"&id=").concat($(this).data("faceoffid"),"&type=counterview&option=").concat($(this).data("type"),"&key=NDTV-1FA91873AC7644FC2F32B37A14D99D0D")}).done(function(t){var e=$(a).data("faceoffid");plotFaceOff(t,e),"a"==$(a).data("type")?$(".faceoff-body").addClass("oth-disabled"):$(".faceoff-body").addClass("oth-disabled2"),localStorageSetItem("counterview_"+e,$(a).data("type"))}).fail(function(t,e,a){updateLog("In Faceoff post parsing error Player js: "+a)})})}),$(".faceoff").show(),void 0!=localStorageGetItem("counterview_"+$(".faceoff").data("faceoffid"))&&($(".faceoff-btn").each(function(t,e){$(e).addClass("no-icon"),$(e).find("button").text("Loading"),$(e).find("button").append("<span></span>"),$(e).find("button").addClass("btn-loading")}),$.ajax({type:"GET",url:"https://wapi.ndtv.com/vpolls/v0/api.php?id=".concat($(".faceoff").data("faceoffid"),"&type=counterview&key=NDTV-1FA91873AC7644FC2F32B37A14D99D0D"),success:function t(e){plotFaceOff(e,$(".faceoff").data("faceoffid"))},error:function t(e){updateLog("In existing faceoff data parsing error Player js: "+e)}})),continuePlaying(10)),$(".close_time").show())}}function plotFaceOff(t,e){$(".faceoff-body").addClass("voted"),$(".faceoff-pic").hide(),$(".faceoff-body_lft .c100").show(),$(".faceoff-body_rgt .c100").show();var a=0;Object.keys(t.options).forEach(function(d,i){a=Math.round(t.options[d]/t.total*100),"a"==d?($(".faceoff-body_lft").find(".c100").addClass("p"+a),$(".faceoff-body_lft").find(".c100").find("span").text(a+"%")):($(".faceoff-body_rgt").find(".c100").addClass("p"+a),$(".faceoff-body_rgt").find(".c100").find("span").text(a+"%")),void 0!=localStorageGetItem("counterview_"+e)?("a"==localStorageGetItem("counterview_"+e)?$(".faceoff-body").addClass("oth-disabled"):$(".faceoff-body").addClass("oth-disabled2"),updateGAPEvent("Faceoff","Result - Faceoff ID:"+e,String(dataBase.id),"NA")):updateGAPEvent("Faceoff","Voted - Faceoff ID:"+e,String(dataBase.id),"NA")})}function updateFaceOffVod(t){var e=$("#faceOffHolder");t!=e.find(".faceoff").data("displayon")||isFaceoffTimeupdate||(isFaceoffTimeupdate=!0,e.find(".faceoff").show(),updateGAPEvent("Faceoff","Loaded at "+secondsToTime(Number(e.find(".faceoff").data("displayon")))+", Faceoff ID:"+e.find(".faceoff").data("faceoffid"),String(dataBase.id),"NA"),dbInfo.mainVid[0].pause(),$(".faceoff-btn").each(function(t,a){$(a).removeClass("no-icon"),$(a).find("button").text($(a).find("button").data("initlabel")),$(a).find("button").off("click"),$(a).find("button").on("click",function(t){t.preventDefault(),$("#faceOffHolder").find(".faceoff").hide(),updateGAPEvent("Faceoff",$(this).text()+" - Faceoff ID:"+e.find(".faceoff").data("faceoffid"),String(dataBase.id),"NA"),goToAndPlay($(this).data("viewdisplayon"))})}))}function continuePlaying(t){$(".close_time svg .bar").css("animation-duration",t+"s"),$(".close_time").addClass("close_anim_reset"),continuePlayingObj=setTimeout(function(){$(".close_time").addClass("dismissvote"),$(".faceoff").hide(),setTimeout(1500),dbInfo.mainVid[0].paused&&dbInfo.mainVid[0].play()},1e3*t)}function drawPollButtons(t){$.ajax({type:"GET",url:"https://wapi.ndtv.com/vpolls/v0/api.php?id=".concat(t,"&type=poll&key=NDTV-1FA91873AC7644FC2F32B37A14D99D0D"),success:error:)}function plotPoll(t,e){var a,d=0;updateGAPEvent("Poll","Clicked - "+e,String(dataBase.id),"NA"),Object.keys(t.options).forEach(function(i,o){d=Math.round(t.options[i]/t.total*100),(a=$(".vgp_btn-cld[data-pollid='"+e+"']").find("button[data-value="+i+"]")).attr("disabled",!0),a.parent().parent().addClass("result"),a.find("span").each(function(t,e){$(e).hasClass("vgp_pollResult_votes")?$(e).css("width",d+"%"):$(e).html(d+"%")})})}var pollVodGARecord=!1;function updatePollVod(t){$("#pollHolder").find("div.vgp").each(function(e,a){$(a).hasClass("marr")||(t>$(a).data("displayon")&&t<=$(a).data("displayon")+$(a).data("pausefor")?($(a).show(),pollVodGARecord||(pollVodGARecord=!0,updateGAPEvent("Poll","Poll ID: "+$(a).data("pollid")+", Loaded at "+$(a).data("displayon")+"secs",String(dataBase.id),"NA"))):(pollVodGARecord=!1,$(a).hide()))})}function affliateOnClick(t,e){updateGAPEvent("Affiliate","Clicked - "+e+", link: "+t,String(dataBase.id),"NA"),window.open(t)}function truncateTextBox(t){var e=document.getElementById(t);if(e){for(var a=e.innerHTML.split(" ");e.scrollHeight>e.offsetHeight;)a.pop(),e.innerHTML=a.join(" ")+"...";e.style.opacity="1"}}function affTitleOnFullScreen(t){var e=$("#affiliateHolder");updateLog("in affTitleOnFullScreen: "+e.children().length+", _screenState: "+t),e.find("div.vid-ad").each(function(a){e.find("#aff"+a)&&t?($("#affTxt"+a).css("opacity","1"),$("#affTxtNonTrim"+a).css("opacity","0"),$("#affTxt"+a).css("display","flex"),$("#affTxtNonTrim"+a).css("display","none"),$("#affiliateHolder").removeClass("fullWdth"),truncateTextBox("affTxt"+a)):($("#affTxt"+a).css("opacity","0"),$("#affTxtNonTrim"+a).css("opacity","1"),$("#affTxt"+a).css("display","none"),$("#affTxtNonTrim"+a).css("display","flex"),$("#affiliateHolder").addClass("fullWdth"))})}function updateAffiliate(t){for(var e=$("#affiliateHolder"),a=0;a<e.children().length;a++)t==e.find("#aff"+a).data("displayon")?("none"==e.find("#aff"+a).css("display")&&(updateGAPEvent("Affiliate",e.find("#aff"+a).data("title")+", Loaded at "+e.find("#aff"+a).data("displayon")+"secs",String(dataBase.id),"NA"),e.show()),e.find("#aff"+a).css("display","flex"),truncateTextBox("affTxt"+a),e.find("#aff"+a).hasClass("hideon")&&e.find("#aff"+a).removeClass("hideon")):t>=e.find("#aff"+a).data("displayon")+e.find("#aff"+a).data("pausefor")&&e.find("#aff"+a).css("display","none")}function updateDFPObj(){var t=!0;return -1!=String(dataBase.pageurl).toLowerCase().indexOf("enabledfp=false")&&(t=!1),t}function updateDFPTag(t){var e=String(dataBase.pageurl);try{var a=String(String(e.split("dfpalias=")[1]).split("&")[0]);-1!=e.indexOf("origin-dev.ndtv.com")&&-1!=e.indexOf("dfpalias=")&&"undefined"!=a&&(t=a,updateLog("dfpalias = "+a),updateLog("origin dfpalias: "+t))}catch(d){updateLog("OOPS! dfplias error found at origin ")}var i="khabar.ndtv.com"==getDomain(dataBase.pageurl)||"ndtv.in"==getDomain(dataBase.pageurl)?"hi":"en",o=String(dataBase.pageurl).split("#"),n=encodeURIComponent((o=o[0])+"&"),s="&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url="+o+"&description_url="+n+"&hl="+i;return dataBase.isWrapper="true",String("https://pubads.g.doubleclick.net/gampad/ads?sz=400x300%7C640x360%7C320x240%7C480x360%7C360x640%7C240x320%7C360x480%7C300x400&iu=/1068322/"+t+s)}function ow_bids(t){var e;if("function"==typeof PWT.requestBids){console.log("OpenWrap bidding starting");var a=new Date().getTime();PWT.requestBids([{code:"video-1",divId:"content_video",adUnitId:"/1068322/"+t,adUnitIndex:"0",mediaTypes:{video:{mimes:["video/mp4"],playerSize:[640,480],w:640,h:480}},sizes:[[640,480]]}],function(t){var d=new Date().getTime();console.log("OpenWrap Time taken: "+(d-a).toString()),e=window.PWT.generateDFPURL(t[0],{}),console.log("openwrap tag: ",e)}),console.log("openwrap tag 2: ",e)}else setTimeout(ow_bids,10)}function createVidReltd(){updateLog("---------------Related videos --------------------"),dbInfo.reltd.show();var t=dbInfo.rel={};t.relObj=dataBase.video_related_videos,t.relLen=updateObjLen(dataBase.video_related_videos),t.width=160,t.height=120,t.timeout=0,updateRelated()}function updateRelated(){var e,t,i=dbInfo.rel;dbInfo.reltd.width(dbInfo.vidContainer.width()),dbInfo.reltd.height(dbInfo.vidContainer.height()),updateLog("dbInfo.reltd:  "+dbInfo.reltd.width()+" /  "+dbInfo.reltd.height());var d=document.getElementById("relatdList");d.innerHTML="",clearTimeout(i.timeout);var r=dbInfo.rel.relLen>6?6:dbInfo.rel.relLen,l=(dbInfo.vidContainer.width()-540)/4;if(l=l>0?l+4<25?l+4:25:4,dbInfo.reltd.width()>=540&&dbInfo.reltd.height()>=400){for(var a=0;a<r;a++)updateLog("Related text: "+i.relObj[a].title),d.innerHTML+='<div id="'+a+'" class="vid_relatd relatdTxt"><span id="img_'+a+'" class="vid_related_thumb" style="background-image:url('+i.relObj[a].image+');"></span><span id="tme_'+a+'" class="vid_related_timer timeGrednts">'+secondsToTime(i.relObj[a].duration)+' </span><span id="rettl_'+a+'" class="vid_related_title">'+i.relObj[a].title+"</span></div>";dbInfo.reltd.find(".vid_relatd").on("click",relatedClick),dbInfo.replBtn=$("#replayBtn").on("click",replayClicked),dbInfo.replBtn.show(),e=(dataBase.stageObj.width-dbInfo.reltd.width())/2,t=(dataBase.stageObj.height-dbInfo.reltd.height())/2}return!1}function relatedClick(t){var e=String(t.target.id).split("_");return window.open(String(dataBase.video_related_videos[e[1]].link),"_self"),!1}function replayClicked(t){return t.preventDefault(),dbInfo.reltd.hide(),void 0!=cs_obj&&cs_obj.sa&&(cs_obj.sa=null),loadComscoreScript(),togglePlayPause(t),!1}function updateRelTitle(t){for(var e=updateObjLen(t),a=0;a<e;a++)ellipsizeTextBox(String("rettl_"+a));return!1}function clickableGrid(t,e,a){var d=0,i=document.createElement("table");i.className="grid";for(var o=0;o<t;++o)for(var n=i.appendChild(document.createElement("tr")),s=0;s<e;++s){var r=n.appendChild(document.createElement("td"));r.innerHTML=++d,r.addEventListener("click",function(t,e,d,i){return (r,o,s,d),!1)}return i}function updateDashInfo(t,e){var a=!1;return null==dataBase.deviceId&&void 0!=e&&void 0!=t&&(a=!0),a}function embedTitleBtn(){if(dataBase.scat&&"embed"==dataBase.scat){try{var t=$("#titleView").show(),t=$("#titleViewBtm").show();$("#btmTitle"),t.css({left:"0px",bottom:-t.height()+"px"}),dbInfo.mainContainer.height(dbInfo.mainContainer.height()-t.height()),updateLog("_Updating................")}catch(e){updateLog("OOPS!!!!!")}dbInfo.embedTitle.hide()}return!1}function createMuteSetup(){return updateLog("in createMuteSetup"),dbInfo.mainVid[0]&&(dbInfo.mainVid[0].muted=!0,volumeChange(),dataBase.cube&&null==dataBase.deviceId&&dbInfo.vidContainer.width()>401&&$("#mainCubeHolder").css("left","45px")),!1}function createPlayback(){return updateLog("------ #############  createSetup ###############---------"),initGAEvent(),clearTimeout(dataBase.timer),aolInfo.clsads=1,dataBase.timer=!1,clearInterval(liveInfo.liveTimer),dbInfo.mainVidElm.removeAttribute("controls"),liveInfo.init=!1,liveInfo.started=!1,liveInfo.beginLive=!1,dbInfo.errorView.hide(),dbInfo.previewImg.hide(),updateLog(" ________-   vidContainer: "+dbInfo.vidContainer.width()+" ; "+dbInfo.vidContainer.height()),dbInfo.embedView=$("#embedView"),dbInfo.embedTitle=$("#embedTitle"),dbInfo.embedPlay=$("#embedPlay"),dbInfo.titleView=$("#titleView"),dbInfo.embedView.width(dbInfo.vidContainer.width()-0),dbInfo.embedTitle.width(dbInfo.embedView.width()-dbInfo.embedPlay.width()),null==dataBase.deviceId&&dbInfo.prevPlay.css({left:"50%",top:"50%",margin:"-35px 0 0 -35px"}),dataBase.scat&&"embed"==dataBase.scat?(dbInfo.prevPlay.hide(),dbInfo.embedView.show(),void 0!=dataBase.title&&""!=dataBase.title&&(dataBase.ctitle?(document.getElementById("btmTitle").innerHTML=String(dataBase.title)+" "+updateReadTitle(dataBase.readurl),updateLog(dbInfo.baseContainer.width()+"/"+dbInfo.baseContainer.height()+" ;  stage object  - width: "+dataBase.stageObj.width+" ; "+dataBase.stageObj.height),embedTitleBtn(),updateLog(" ;  stage object  - width: "+dataBase.stageObj.width+" ; "+dataBase.stageObj.height)):(document.getElementById("titleView").innerHTML=String(dataBase.title)+" "+updateReadTitle(dataBase.readurl),ellipsizeTextBox("titleView")))):dbInfo.embedView.hide(),showHideChap(),dataBase.ytChapters&&dataBase.ytChapters.length>0&&drawChapterSegments(),clearInterval(dataBase.timer),dbInfo.prevShow.hide(),null!=dataBase.image&&void 0!=dataBase.image&&""!=dataBase.image?(dbInfo.previewImg.on("load",prevImgReady),dbInfo.previewImg.on("error",prevImgError),dbInfo.previewImg.attr("src",String(dataBase.image)).appendTo("previewImg")):(updateLog("----ERROR "),prevImgError()),clearInterval(dataBase.timer),dataBase.autostart?(updateLog("---STARTED"),dbInfo.playPause.is(":visible")&&dbInfo.controlBar.find(".vc-icon-play").removeClass("vc-icon-play").addClass("vc-icon-pause"),initAutoStart("")):(gimaObj.autoplayAllowed=!0,gimaObj.autoplayReqMuted=!0),stageResize(),$("#nextChap").on("click",function(){$(".chp_dot > .curr_chapter").next().length>0&&(dbInfo.mainVid[0].currentTime=$(".chp_dot > .curr_chapter").next().data("from"))}),$("#prevChap").on("click",function(){$(".chp_dot > .curr_chapter").prev().length>0&&(dbInfo.mainVid[0].currentTime=$(".chp_dot > .curr_chapter").prev().data("from"))}),updateLog("svg sprite--> "+$("#svgSprite")),$("#svgSprite").hasClass("svg-none")&&$("#svgSprite").removeClass("svg-none"),$(".vd-lst_cls").hasClass("dis-non")&&$(".vd-lst_cls").removeClass("dis-non"),!1}function clearVidSkin(){try{dataBase.deviceId||(null!=vidInfo.slotBottom||null!=vidInfo.slotRight?(googletag.destroySlots([vidInfo.slotBottom,vidInfo.slotRight]),$("#vidr").empty(),$("#vidb").empty(),$("#vidplayer").width(vidInfo.mwidth),$("#vidplayer").height(vidInfo.mheight),updateLog("-----Skin slot cleared successfully")):updateLog("- clearVidSkin() --Skin slot not found to clear........."))}catch(t){updateLog("OOPS! Error found in destry skin slots...... ")}return!1}function loadDFPSkin(){return window.googletag&&googletag.apiReady&&dataBase.adpoint.branded&&(updateLog("---- loadDFPSkin()-----"),updateLog(""),updateLog(""),dbInfo.vidr=document.getElementById("vidr"),dbInfo.vidb=document.getElementById("vidb"),updateLog("window.googletag:  "+window.googletag+" ; googletag.apiReady: "+googletag.apiReady),googletag.cmd.push(function(){updateLog("dataBase.vidDomain:  "+dataBase.vidDomain+" ; skinURL: "+dbInfo.skinURL),vidInfo.slotBottom=googletag.defineSlot(dbInfo.skinURL,[622,41],"vidb").setTargeting("domain",String(dataBase.vidDomain)).addService(googletag.pubads()),vidInfo.slotRight=googletag.defineSlot(dbInfo.skinURL,[310,415],"vidr").setTargeting("domain",String(dataBase.vidDomain)).addService(googletag.pubads()),updateLog("....Waiting for slotRenderEnded event!!!!!!!!"),googletag.pubads().addEventListener("slotRenderEnded",function(t){if(!t.isEmpty&&t.campaignId&&t.creativeId){var e=$("#vidr"),a=$("#vidb"),d=String(t.slot.getSlotElementId());dbInfo.vidr.style.display="block",dbInfo.vidb.style.display="block","vidr"==d&&(e.css({"margin-left":"622px","margin-top":"0px"}),a.css({"margin-left":"0px","margin-top":"374px"}),dataBase.stageObj.width=622,dataBase.stageObj.height=374,dbInfo.playerScroll||(dbInfo.mainContainer.width(dataBase.stageObj.width),dbInfo.mainContainer.height(dataBase.stageObj.height)),dbInfo.mainContainer.css({"margin-left":"0px","margin-top":"0px"}),disableRhs(),stageResize()),"vidb"==d&&a.css({"margin-left":"0px","margin-top":"374px"})}else if(vidInfo.count++,t.isEmpty&&vidInfo.count<3&&("vidb"==t.slot.getSlotElementId()||"vidr"==t.slot.getSlotElementId())){var i=setTimeout(function(){googletag.pubads().refresh([vidInfo.slotBottom,vidInfo.slotRight]),clearTimeout(i)},2e3);updateLog("--Requesting skin refresh/reload count : "+vidInfo.count)}}),googletag.enableServices(),googletag.cmd.push(function(){googletag.display("vidb"),googletag.pubads().refresh()}),googletag.cmd.push(})),!1}function updateSkin(){try{!dataBase.deviceId&&"embed"!=dataBase.scat&&dataBase.adpoint.branded&&window.googletag&&googletag.apiReady&&(updateLog("Loading skin branding..........."),dbInfo.skinURL="/1068322/NDTV_Desktop_Video_Skin",updateLog(">>> Loading skin branding - vidWidth: "+dataBase.vidWidth+" ;  vidHeight: "+dataBase.vidHeight+" domain: "+dataBase.vidDomain),updateLog("Loading default skin 640 x 415 with in player"),dbInfo.vidr?vidInfo.slotBottom||vidInfo.slotRight?(updateLog(">>> Refresh  default skin branding...."),googletag.pubads().refresh([vidInfo.slotBottom,vidInfo.slotRight])):updateLog("Skin branding loading false"):(updateLog("--requesting loadDFPSkin() to load skin branding"),loadDFPSkin()))}catch(t){updateLog("OOPS! Error found in updateSkin(skinUrl) request")}return!1}function disableRhs(){try{scalePlayer(930,415)}catch(t){updateLog("OOPS! Error found in calling scalePlayer(930, 415)")}}function updateChaptParams(t){try{updateLog("--------updateChaptParams---------- vtype "+dataBase.vtype),vidInfo.chapLoaded=!1,vidInfo.chptObj={};try{if(!dataBase.isLive){vidInfo.chptObj.thumbInfo={},t.thumbnails&&(vidInfo.chptObj.thumbInfo.totalImg=t.thumbnails.total_sprite_images,vidInfo.chptObj.thumbInfo.thumbPerSheet=Number(t.thumbnails.images_in_sprite)),t.thumbnails&&t.thumbnails.filename?vidInfo.chptObj.thumbInfo.folderPath=t.thumbnails.folder_path+"/"+t.thumbnails.filename:vidInfo.chptObj.thumbInfo.folderPath=t.thumbnails.folder_path+"/"+dataBase.id,vidInfo.chptObj.thumbInfo.basePath="//voddownload.ndtv.com/videoimagezip/",vidInfo.chptObj.thumbInfo.width=.56==dataBase.vidRatio?45:80,vidInfo.chptObj.thumbInfo.height=.56==dataBase.vidRatio?80:45,updateLog("in updateChaptParams ratio--",dataBase.vidRatio,vidInfo.chptObj.thumbInfo.width,vidInfo.chptObj.thumbInfo.height),.56==dataBase.vidRatio&&($(".timePoint").css("width","45px"),$(".timePoint").css("height","80px"),$("#Fullscreen").removeClass("vc-icon-expand").addClass("vc-icon-vr-expand"),$("#Fullscreen").empty(),$("#Fullscreen").append('<svg class="vj-vod vj_vod-vr-full"><use xlink:href="#vj_vod-vr-full"></use></svg><svg class="vj-vod vj_vod-vr-fsc"><use xlink:href="#vj_vod-vr-fsc"></use></svg>'));var e=String(t.chapters);"undefined"!=e&&""!=e&&"[]"!=e&&(vidInfo.chptObj.chapters=t.chapters,vidInfo.chptObj.chaptLen=updateObjLen(vidInfo.chptObj.chapters),$.getScript("https://cdn.ndtv.com/vp/static/js/swiper.min.js").done(function(){updateLog("swiper js loaded!!"),swiperObjVP=new Swiper(".vd-lst",{slidesPerView:"auto",spaceBetween:0,grabCursor:!0,on:{touchStart:function t(e){$(".vd-lst.swiper-container-initialized").addClass("grabbing")},touchMove:touchEnd:,pagination:{el:".swiper-pagination",clickable:!0},scrollbar:{el:".swiper-scrollbar",hide:!1}})}).fail()}}catch(a){updateLog("OOPS! Error found in update chapter obj ")}vidInfo.chapInit=!0,updateLog("Video chapters updated successfully")}catch(d){updateLog("OOPS! Error found in updating chapters params")}return!1}function createSeekImgHolder(t){console.log("chapObj",t,dataBase.vidRatio,dataBase.isLive);try{if(!dataBase.isLive&&t.thumbInfo){for(var e,a,d,i=Number(t.thumbInfo.thumbPerSheet),o=Number(t.thumbInfo.width),n=0,i=Number(t.thumbInfo.thumbPerSheet),d=t.thumbInfo.totalImg,o=Number(t.thumbInfo.width),s=Number(t.thumbInfo.height),r=Number(dataBase.id),l=String(t.thumbInfo.basePath+t.thumbInfo.folderPath+"/"+r),c=document.getElementById("seekImgList"),u=0;u<d;u++)e=u+1,a=String(l+"/"+e+".jpg"),c.innerHTML+="<span id=vid_sek_img"+e+' style="display:block;background-color:rgba(0,0,0,0.8);; text-align:left;width:'+i*o+"px; height:"+s+"px; border:1px solid black;  position:absolute; z-index:5; top:0px; left:"+n+'px; background-repeat: no-repeat; "></span>',n+=i*o;vidInfo.currImg=-1}}catch(p){updateLog("OOPS! Error found in createSeekImgHolder()")}return!1}function loadSeekImage(t,e){var a=updateImgXPos(t,e),d=a.rowId,i=a.rowId;if(vidInfo.currImg!=a.rowId){vidInfo.currImg=a.rowId;var o=document.getElementById("vid_sek_img"+a.rowId);null!=o&&""==o.style.backgroundImage&&(o.style.backgroundImage='url("'+a.img+'")');for(var n=0;n<4;n++){if(++d<=e.thumbInfo.totalImg){var s=document.getElementById("vid_sek_img"+d);null!=s&&""==s.style.backgroundImage&&(s.style.backgroundImage='url("'+(a.baseUrl+d)+'.jpg")')}if(--i>0){var r=document.getElementById("vid_sek_img"+i);null!=r&&""==r.style.backgroundImage&&(r.style.backgroundImage='url("'+(a.baseUrl+i)+'.jpg")')}}}return!1}function createChapView(t){try{if(t&&Number(t.chaptLen)>0&&!vidInfo.chapLoaded){vidInfo.chapLoaded=!0;for(var e=0;e<t.chaptLen;e++){var a=updateImgXPos(t.chapters[e].go_to_second,t),d=imgPath="";Number(t.chapters[e].pick_thumb_from)>0?(imgPath=t.thumbInfo.basePath+t.thumbInfo.folderPath+"/"+Math.ceil(t.chapters[e].pick_thumb_from/100)+".jpg",d=t.thumbInfo.width*(Number(t.chapters[e].pick_thumb_from)%t.thumbInfo.thumbPerSheet)):(imgPath=t.thumbInfo.basePath+t.thumbInfo.folderPath+"/"+Math.ceil(t.chapters[e].go_to_second/100)+".jpg",d=t.thumbInfo.width*(Number(t.chapters[e].go_to_second)%t.thumbInfo.thumbPerSheet)),console.log("diy",dataBase.diy),$(".vd-lst_wrp").append('<div class="swiper-slide vd-lst_li" data-goto='.concat(t.chapters[e].go_to_second,'>\n											<a href="#0" data-goto=').concat(t.chapters[e].go_to_second,' class="vd-lst_lnk">\n												<div class="vd-lst_lf">\n													<div class="vd-lst_img"> \n														<div class="vd-img_gratio"> \n															<div class="vd-img_spn" style="display:block; text-align:left; width:').concat(a.width,"px; height:").concat(a.height,"px; border:0px solid black;  position:absolute; z-index:5; top:2px; background-image:url(").concat(imgPath,");background-position:-").concat(d,'px 0; background-repeat: no-repeat;">\n															</div>\n														</div>\n													</div>\n													<span class="vd-lst_tm">From ').concat(secondsToTime(t.chapters[e].go_to_second),'</span>\n												</div>\n												<h2 class="vd-lst_txt">\n													').concat(dataBase.diy?'<div class="diy_stp-cnt">Step '.concat(e+1,' <span class="diy_pre-icn"></span></div>'):"",'\n													<span class="vd-lst_txt__con vd-txt_trc">').concat(t.chapters[e].title,"</span> \n												</h2>\n											</a>\n										</div>")),swiperObjVP&&swiperObjVP.update()}$(".vd-lst_li a").on("click",function(t){var e=$(this).data("goto");$(this).parent().addClass("vd-lst_act").siblings().removeClass("vd-lst_act"),chapClick(Number(e)),dataBase.diy?updateGAPEvent("Chapters","DIY Clicked - "+$(this).find("span.vd-lst_txt__con").text()+" at "+secondsToTime(Number(e)),String(dataBase.id),"NA"):updateGAPEvent("Chapters","Clicked - "+$(this).find("span.vd-lst_txt__con").text()+" at "+secondsToTime(Number(e)),String(dataBase.id),"NA")}),vidInfo.titlFmt=!1}}catch(i){}return!1}var seendiy=[];function updateChapterUI(t){var e=$(".swiper-slide.vd-lst_li");e.each(function(a,d){$(d).removeClass("vd-lst_act"),a!=e.length-1?t>=$(d).data("goto")&&t<$(d).next().data("goto")&&($(d).addClass("vd-lst_act"),$(d).addClass("diy_pre-itm"),dataBase.diy&&$(d).next()&&$(d).next().addClass("diy_pst-itm"),swiperObjVP&&!isSwiperScroll&&(swiperObjVP.slideTo(a),isSwiperScroll=!0)):t>=$(d).data("goto")&&($(d).addClass("vd-lst_act"),$(d).addClass("diy_pre-itm"),seendiy.push({elem:$(d)}),swiperObjVP&&!isSwiperScroll&&(swiperObjVP.slideTo(a),isSwiperScroll=!0)),t==$(d).next().data("goto")-1&&(isSwiperScroll=!1)}),dataBase.deviceId?$("#controlBar").is(":visible")?$(".vd-lst").css("bottom","39px"):$(".vd-lst").css("bottom","0px"):$("#controlBar").hasClass("cb-move-up")?$(".vd-lst").css("bottom","47px"):$(".vd-lst").css("bottom","0px")}function updateImgXPos(t,e){var a,d,i,o,n,s,r=Number(e.thumbInfo.thumbPerSheet),l=Number(e.thumbInfo.width),c=Number(e.thumbInfo.height),u=(dataBase.id,String(e.thumbInfo.basePath+e.thumbInfo.folderPath+"/"));return t>r?(d=String(a=Number(t/r)).split("."),i=u+String(d[0])+".jpg",s=String(d[0]),n=(o=Number(d[1])*l)>0?"-"+o:o):(i=u+"/"+String(1)+".jpg",s=String(1),n=(o=Number(t)*l)>0?"-"+o:o),{img:i,pos:n,width:l,height:c,rowId:s,baseUrl:u}}function updateChapTitle(t){if(!vidInfo.titlFmt&&(vidInfo.titlFmt=!0,t&&Number(t.chaptLen)>0))for(var e=0;e<t.chaptLen;e++)ellipsizeTextBox(String("ttl_"+e))}function chapClick(t){return dbInfo.mainVid&&(dbInfo.mainVid[0].currentTime=t-2<=0?t:t-2,dataBase.deviceId&&dbInfo.mainVid[0].play(),isSwiperScroll=!1,updateChapterUI(t)),$(".vd-lst").removeClass("vd-lst_shw"),!1}unction toggleChapter(t){return t.preventDefault(),dbInfo.chpterId.is(":visible")?dbInfo.chpterId.hide():(vidInfo.chapLoaded||createChapView(vidInfo.chptObj),dbInfo.chpterId.show(),vidInfo.chptObj.cbH=dbInfo.controlBar.height()+15,vidInfo.chptObj.maxH=dbInfo.vidContainer.height()-vidInfo.chptObj.cbH,vidInfo.chptObj.listH=dbInfo.chpterList.height(),vidInfo.chptObj.scrollH=dbInfo.chpterId[0].scrollHeight,updateChapTitle(vidInfo.chptObj)),vidInfo.chptObj.scrollH>vidInfo.chptObj.maxH?dbInfo.chpterId.height(dbInfo.vidContainer.height()-vidInfo.chptObj.cbH):dbInfo.chpterId.height(vidInfo.chptObj.listH+10),!1}function getDomain(t){var e;return String((e=t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0]).split(":")[0]).replace(/^(https?:\/\/)?(www\.)?/,"")}function defaultImaUrl(){var t,e="khabar.ndtv.com"==getDomain(dataBase.pageurl)||"ndtv.in"==getDomain(dataBase.pageurl)?"hi":"en";return"//googleads.g.doubleclick.net/pagead/ads?ad_type=video&client=ca-video-pub-7641565019577886&description_url="+encodeURIComponent(dataBase.pageurl+"&")+"videoad_start_delay=0&hl="+e+"&max_ad_duration=30000"}function ellipsizeTextBox(t){var e=document.getElementById(t);try{if(e){var a=e.innerHTML.split(" "),d=updateReadTitle(dataBase.readurl);if("ie"!=dataBase.browserId)for(;e.scrollHeight>e.offsetHeight;)a.pop(),e.innerHTML=a.join(" ")+d;else e.innerHTML=a.join(" ")+d}}catch(i){updateLog("Error found in ellipsizeTextBox text")}return!1}function updateReadTitle(t){var e="";return void 0!=t&&""!=t&&(e="..."+String('<a name="read" href='+String(t)+' target="_parent">Read</a>')),e}function prevClick(t){if(updateLog("in prevClick - clicked preview image: "+dataBase.autostart+" - "+dataBase.pagetype),!t)var t=window.event;if(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),"read"!=t.target.name)return togglePlayPause(t),mobileUnmute(t),!1}function prevImgError(){return updateLog("OOPS! Preview Image Load error found - isAdPlaying: "+dataBase.isAdPlaying),dbInfo.prevShow.show(),dataBase.autostart?(dbInfo.prevShow.hide(),dataBase.isAdPlaying&&dbInfo.mainVid[0].pause()):(dbInfo.mainVid[0].pause(),dbInfo.prevShow.show(),dbInfo.prevLoader.hide()),dataBase.ctitle?ellipsizeTextBox("btmTitle"):ellipsizeTextBox("titleView"),!1}function prevImgReady(){return dbInfo.prevShow.hide(),showPreloader(),updateLog("Pre image loaded successfully"),dataBase.preimg={width:this.naturalWidth,height:this.naturalHeight},dataBase.asptH=dbInfo.previewImg.width()*dataBase.preimg.height/dataBase.preimg.width,updateImageScale(),dataBase.asptH>dbInfo.vidContainer.height()&&(dataBase.asptH,dbInfo.vidContainer.height()),updateLog("Preview image loaded successfully - isAdPlaying: "+dataBase.isAdPlaying),updateLog("dataBase.autostart:  "+dataBase.autostart),dataBase.ctitle?ellipsizeTextBox("btmTitle"):ellipsizeTextBox("titleView"),dataBase.autostart?(dbInfo.prevShow.hide(),dbInfo.previewImg.show(),showPreloader(),dataBase.isAdPlaying&&dbInfo.mainVid[0].pause()):(dbInfo.mainVid[0].pause(),dbInfo.previewImg.show(),dbInfo.prevShow.show(),dbInfo.prevLoader.hide()),!1}function updateImageScale(){try{if(dataBase.preimg&&dataBase.preimg.width&&dataBase.preimg.height){dbInfo.prvImgHold.width(dbInfo.vidContainer.width()),dbInfo.prvImgHold.height(dbInfo.vidContainer.height());var t=calcImgRatio(dataBase.preimg.width,dataBase.preimg.height,dbInfo.vidContainer.width(),dbInfo.vidContainer.height());dataBase.skipThumbnailCss||(dbInfo.prvImgHold.width(t.width),dbInfo.prvImgHold.height(t.height),centerAlign(dbInfo.prvImgHold,dbInfo.vidContainer));try{dbInfo.embedTitle.css({right:"0px"}),null==dataBase.deviceId&&dbInfo.prevPlay.css({left:"50%",top:"50%",margin:"-35px 0 0 -35px"}),401>=dbInfo.vidContainer.width()?(dbInfo.embedView.width(dbInfo.vidContainer.width()-0),dbInfo.embedView.height(45),dbInfo.embedTitle.height(45),$(".embdPlay").css({display:"inline-block",position:"absolute",top:"4px"}),$(".embdPlay").css({top:"0px"}),dbInfo.embedTitle.width(dbInfo.embedView.width()-dbInfo.embedPlay.width())):(dbInfo.embedView.height(60),dbInfo.embedView.width(dbInfo.vidContainer.width()-23),$("#preImgsBtn").css({left:"17px",top:"16px",width:"29px",height:"34px"}),$(".embdPlay").css({display:"inline-block",position:"absolute",top:"0px",width:"60px",height:"60px"})),dbInfo.embedView.width(dbInfo.prvImgHold.width()),dbInfo.embedTitle.width(dbInfo.embedView.width()-dbInfo.embedPlay.width()-2),dbInfo.titleView.width(dbInfo.embedTitle.width()-10);var e=dbInfo.vidContainer.width()-dbInfo.prvImgHold.width();dbInfo.prvImgHold.width(),dataBase.preimg.width;var a=dbInfo.vidContainer.height()-dbInfo.prvImgHold.height(),d=37*(100*dbInfo.prvImgHold.height()/dataBase.preimg.height)/100;dbInfo.embedView.css({left:Math.floor(e/2)+2+"px",bottom:Math.floor(a/2+(d-2))+"px"}),480>dbInfo.vidContainer.width()||($("#play_lhs").css({left:Math.floor(e/2)+5+"px",bottom:Math.floor(a/2+(d-7))+"px"}),$("#play_rhs").css({left:Math.floor(e/2)-10+"px",bottom:Math.floor(a/2+(d-10))+"px"}))}catch(i){updateLog("OOPS!!!!!! Error found in image scale 2")}}}catch(o){updateLog("OOPS!!!!!! Error found in image scale 1")}return!1}function updatePrevew(){updateLog("-----------updatePrevew---------------");try{dataBase.asptH=dbInfo.previewImg.width()*dataBase.preimg.height/dataBase.preimg.width,updateImageScale(),centerAlign(dbInfo.preview,dbInfo.vidContainer),dataBase.asptH>dbInfo.vidContainer.height()&&(dataBase.asptH,dbInfo.vidContainer.height()),dataBase.ctitle?ellipsizeTextBox("btmTitle"):ellipsizeTextBox("titleView")}catch(t){updateLog("OOPS! Error found in image scaling..(Preview image not loaded properly)")}return!1}function stageResize(t){try{t&&t.preventDefault()}catch(e){updateLog("Error found stageResize ")}if(dataBase.initApplication){if(dbInfo.vidContainer.width("100%"),dbInfo.vidContainer.height("100%"),dataBase.vidWidth=dbInfo.vidContainer.width(),dataBase.vidHeight=dbInfo.vidContainer.height(),updateFullBtns(isFullScreen()),dataBase.cbOver=!1,hideControl(),updateScaleVideo(),updateSeekbar(),show10SecBtn(isFullScreen()),showHideChap(),updateImageScale(),dataBase.ytChapters?(dbInfo.seekBtnsLeft.css("left","20%"),dbInfo.seekBtnsRight.css("right","20%")):(dbInfo.seekBtnsLeft.css("left","45px"),dbInfo.seekBtnsRight.css("right","45px")),dbInfo.errorView.is(":visible")&&(dbInfo.errorView.width("90%"),centerAlign(dbInfo.errorView,dbInfo.vidContainer)),dbInfo.playerScroll&&pageYOffset>dbInfo.playerTop){if($("#affiliateHolder").hasClass("affiliateOnMob")||$("#affiliateHolder").addClass("affiliateOnMob"),$("#pollHolder").hasClass("pollVodOnMob")||$("#pollHolder").addClass("pollVodOnMob"),$("#faceOffHolder").hasClass("faceoffOnMob")||$("#faceOffHolder").addClass("faceoffOnMob"),$("#vidHolder").css("transition","none"),dbInfo.docW=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,dbInfo.docH=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,$("#tbl-next-up").length>0){var a=$("#tbl-next-up").hasClass("hideNextUpImp");updateLog("isTaboolaDock: "+a),a?(dbInfo.baseContainer.css({position:"fixed",top:dbInfo.docH-260+"px",left:dbInfo.docW-350+"px"}),.56==dataBase.vidRatio&&dbInfo.baseContainer.css({position:"fixed",top:dbInfo.docH-dbInfo.baseContainer.height()-30+"px",left:dbInfo.docW-dbInfo.baseContainer.width()-30+"px"})):(dbInfo.baseContainer.css({position:"fixed",top:dbInfo.docH-260-$("#tbl-next-up").height()-5+"px",left:dbInfo.docW-350+"px"}),.56==dataBase.vidRatio&&dbInfo.baseContainer.css({position:"fixed",top:dbInfo.docH-dbInfo.baseContainer.height()-30-$("#tbl-next-up").height()-5+"px",left:dbInfo.docW-dbInfo.baseContainer.width()-30+"px"}))}else dbInfo.baseContainer.css({position:"fixed",top:dbInfo.docH-260+"px",left:dbInfo.docW-350+"px"}),.56==dataBase.vidRatio&&dbInfo.baseContainer.css({position:"fixed",top:dbInfo.docH-dbInfo.baseContainer.height()-30+"px",left:dbInfo.docW-dbInfo.baseContainer.width()-30+"px"})}try{isFullScreen()?(dbInfo.annotHolder.removeClass("annot_zoomout"),dbInfo.annotHolder.addClass("annot_zoomIn")):(dbInfo.annotHolder.removeClass("annot_zoomIn"),dbInfo.annotHolder.addClass("annot_zoomout"))}catch(d){}}return!1}function updateSeekbar(){if(dataBase.deviceId){dbInfo.leftTotal=dbInfo.leftTimer.offset().left+dbInfo.leftTimer.width();var t=dbInfo.leftTimer.position().left+dbInfo.leftTimer.width();dbInfo.dimLight&&dbInfo.dimLight.is(":visible")?dbInfo.rgtTotal=dbInfo.dimLight.offset().left:dbInfo.fullBtn&&dbInfo.fullBtn.is(":visible")?dbInfo.rgtTotal=dbInfo.fullBtn.offset().left:dataBase.forapp&&!dataBase.isLive?dbInfo.rgtTotal=$("#rightTimer").offset().left:dbInfo.rgtTotal=dbInfo.controlBar.width(),dataBase.ytChapters?dbInfo.controlBar.find(".videocontrols-seeker").width(dbInfo.controlBar.width()-30):dbInfo.controlBar.find(".videocontrols-seeker").width(dbInfo.rgtTotal-dbInfo.leftTotal-50);var e=25;dataBase.chapters&&dataBase.chapters.length>0&&!dataBase.forapp&&(e=15),dataBase.ytChapters?dbInfo.controlBar.find(".videocontrols-seeker").css({top:"24px",left:"0px"}):dbInfo.controlBar.find(".videocontrols-seeker").css({top:"24px",left:t+e+"px"})}else dbInfo.controlBar.find(".videocontrols-seeker").width(dbInfo.vidContainer.width()-20),dbInfo.controlBar.find(".videocontrols-seeker").css({top:"0px",left:"10px"});return dataBase.isLive||dataBase.ytChapters||drawChapterDots(),!1}function drawChapterSegments(){updateLog("Draw chapter segments",dataBase.ytChapters.length),dbInfo.mainContainer.addClass("active_segm");for(var t=0,e=0;e<dataBase.ytChapters.length;e++){var a=0,d=0;if(dataBase.ytChapters.length-1!==e){updateLog("range",a=Number(dataBase.ytChapters[e].go_to_second),d=Number(dataBase.ytChapters[e+1].go_to_second));var i=100*dataBase.ytChapters[e].go_to_second/dbInfo.mainVid[0].duration,o=(d-a)*100/dbInfo.mainVid[0].duration-.5;$(".chp_dot").append('<div class="chp_seg-s" id="seg_id_'.concat(e,'" data-from="').concat(a,'" data-to="').concat(d,'" data-title="').concat(dataBase.ytChapters[e].title,'" data-goto="').concat(dataBase.ytChapters[e].go_to_second,'" style="width:').concat(o,"%; left: ").concat(i,'%;"><div class="chp_seg_hitArea"></div><div class="chp_progress"></div><div class="chp_loaded"></div></div>')),t=dataBase.ytChapters[e+1].go_to_second}else{updateLog("last range",t);var i=100*dataBase.ytChapters[e].go_to_second/dbInfo.mainVid[0].duration,o=(dbInfo.mainVid[0].duration-t)*100/dbInfo.mainVid[0].duration-.5;$(".chp_dot").append('<div class="chp_seg-s" id="seg_id_'.concat(e,'" data-from="').concat(t,'" data-to="').concat(dbInfo.mainVid[0].duration,'" data-goto="').concat(dataBase.ytChapters[e].go_to_second,'" data-title="').concat(dataBase.ytChapters[e].title,'" style="width:').concat(o+.5,"%; left: ").concat(i,'%;"><div class="chp_seg_hitArea"></div><div class="chp_progress"></div><div class="chp_loaded"></div></div>'))}}$(".chp_seg-s").on("mouseover",}function updateCurrTitle(t,e){var a=$(".chp_dot .chp_seg-s");$(".chp_dot .chp_seg-s").each(function(e,d){var i=Number($(this).data("from")),o=Number($(this).data("to"));if($(this).hasClass("viewed_chapter")&&t>=$(d).data("goto")){i=Number($(this).data("from"));var n=(o=Number($(this).data("to")))-i;dbInfo.mainVid[0].duration;var s=(t-i)/n*100;$(this).find(".chp_progress").css("width","".concat(s+.5,"%")),$(this).prevAll().length>0?$(this).prevAll().each(function(){$(this).find(".chp_progress").css("width","100%")}):$(this).nextAll().length>0&&$(this).nextAll().each(}var r=dataBase.buffered/o*100;dataBase.buffered>i&&dataBase.buffered<o&&($(this).prev().length>0&&$(this).prevAll().each(,$(this).find(".chp_loaded").css("width","".concat(r>95?100:r,"%"))),e!=a.length-1?t>=$(d).data("goto")&&t<$(d).next().data("goto")&&($(this).siblings().removeClass("curr_chapter"),$(this).addClass("curr_chapter"),$(d).addClass("viewed_chapter"),$("#chapTitle").text($(this).data("title"))):t>=$(d).data("goto")&&($(this).siblings().removeClass("curr_chapter"),$(this).addClass("curr_chapter"),$(d).addClass("viewed_chapter"),$("#chapTitle").text($(this).data("title")))})}function drawChapterDots(){try{$(".chp_dot").empty();for(var t=0;t<vidInfo.chptObj.chaptLen;t++){var e=100*vidInfo.chptObj.chapters[t].go_to_second/dbInfo.mainVid[0].duration;$(".chp_dot").append('<span class="chp_dot-s" data-goto="'.concat(vidInfo.chptObj.chapters[t].go_to_second,'" style=" left: ').concat(e,'%;"></span>'))}}catch(a){updateLog("catching drawChapterDots errors")}}function showMCBCenter(){dataBase.deviceId&&dbInfo.mainVid[0].currentTime>1&&!dataBase.isAdPlaying&&!dbInfo.preloader.is(":visible")&&dbInfo.mctrlbar.show()}var gotWidth=!1;function fadeInCb(){if(clearInterval(dataBase.delayTimer),clearTimeout(dataBase.timerHover),dataBase.isAdPlaying)return!1;if(dataBase.forapp&&dataBase.isLive)return dbInfo.controlBar.hide(),dbInfo.mctrlbar.hide(),!0;if(dataBase.deviceId&&dbInfo.mainVid[0].currentTime>=0&&!dataBase.isAdPlaying)showMCBCenter(),dbInfo.controlBar.show(),$("#daiAdMsg").css("bottom","0px"),dataBase.isLive||dataBase.isAdPlaying||(dbInfo.seekBtnsLeft.show(),dbInfo.seekBtnsRight.show(),$("#nextChap").show(),$("#prevChap").show());else if(dataBase.isAdPlaying||dbInfo.controlBar.show(),!dbInfo.controlBar.hasClass("cb-move-up")){if(dbInfo.controlBar.show(),dataBase.isLive||($("#seekBkwd, #seekForwd, #nextChap, #prevChap").addClass("seek_btn_act"),$(".overlayCtrl").fadeIn(100)),dbInfo.controlBar.removeClass("cb-move-down").addClass("cb-move-up"),!gotWidth){if("none"!==$("#right-btns").css("display")&&$("#controlBar").hasClass("cb-move-up")){var t=dbInfo.mainContainer.width()-Number(dbInfo.playPause.width()+dbInfo.volBtn.width()+dbInfo.volumeBar.width()+dbInfo.leftTimer.width()+$("#right-btns").width());450>dbInfo.mainContainer.width()?(dataBase.deviceId||$(".videocontrols-chp_ttl").hide(),$(".videocontrols-chp_ttl").css("width","".concat(t-80,"px"))):$(".videocontrols-chp_ttl").css("width","".concat(t-50,"px")),$(".videocontrols-chp_ttl").css("opacity","1")}gotWidth=!0}$("#daiAdMsg").removeClass("cb-move-down").addClass("cb-move-up").css("bottom","32px"),$(".prd_crd").css("bottom","40px"),$("#affiliateHolder").css("transform","translate(0px, -50px)"),$("#pollHolder").css("bottom","75px"),$(".pol_wrp").css("bottom","36px"),$(".lnk-out_wrp").css("bottom","36px"),$(".js-pol_opn-ac").css("bottom","0px"),"view"==faceoffstatus?$(".playing-lft").removeClass("hideFONotification"):"cview"==faceoffstatus&&$(".playing-rgt").removeClass("hideFONotification"),isInteractionVP||$("#chapterBtn").addClass("chp_act")}return dbInfo.vidThumbAds.parent().find(".thumb-move-wap-down").removeClass("thumb-move-wap-down").addClass("thumb-move-wap-up"),dbInfo.vidThumbAds.parent().find(".thumb-move-down").removeClass("thumb-move-down").addClass("thumb-move-up"),dbInfo.stickCloseActive&&(dbInfo.stickClose.show(),dbInfo.stickClose.removeClass("cbTop-move-up").addClass("cbTop-move-down"),401>dbInfo.vidContainer.width()&&$("#mobUnmute").css({right:"30px",transition:"all 0.3s ease-in 0s"})),dataBase.isLive||dbInfo.miniControl.parent().find(".mini-move-up").removeClass("mini-move-up").addClass("mini-move-down"),!1}function fadeOutCb(){var t;if(updateLog("in fadeOutCb"),dbInfo.stickClose.hasClass("cbTop-move-down")&&401>dbInfo.vidContainer.width()&&$("#mobUnmute").css({right:"30px",transition:"all 0.3s ease-in 0s"}),dataBase.deviceId&&dbInfo.mainVid[0].paused&&!dataBase.isAdPlaying&&setTimeout(function(){$("#chapterBtn").removeClass("chp_act")},2e3),clearTimeout(t),!dataBase.isAdPlaying&&(vidInfo.mainVidClicked||!dbInfo.mainVid[0].paused)&&!dataBase.videoCompleted){dbInfo.settingBtn.addClass("setting_acw"),dbInfo.settingBtn.removeClass("setting_cw"),dbInfo.settingArea.hide(),dbInfo.chpterId.hide(),dbInfo.stickClose.removeClass("cbTop-move-down").addClass("cbTop-move-up"),401>dbInfo.vidContainer.width()&&$("#mobUnmute").css("right","3px"),dataBase.deviceId?(console.log("in A"),dbInfo.mainVid[0].paused?(updateLog("in else show controlbar"),clearTimeout(t),dbInfo.controlBar.show()):(dataBase.cbVisible=!1,t=setTimeout(function(){updateLog("hiding controlbar"),dbInfo.controlBar.hide(),$("#affiliateHolder").css("transform","translateY(-1px)")},1500),dbInfo.mctrlbar.hide(),dataBase.forapp&&(dataBase.isLive?dbInfo.controlBar.hide():dbInfo.controlBar.show()),dbInfo.seekBtnsLeft.hide(),dbInfo.seekBtnsRight.hide())):(dbInfo.controlBar.removeClass("cb-move-up").addClass("cb-move-down"),$("#chapterBtn").hasClass("chp_act")&&isInteractionVP&&$("#chapterBtn").removeClass("chp_act"),$("#daiAdMsg").removeClass("cb-move-up").addClass("cb-move-down").css("bottom","0px"),$("#affiliateHolder").css("transform","translate(0px, -10px)"),$("#pollHolder").css("bottom","30px"),$(".prd_crd").css("bottom","10px"),$(".pol_wrp").css("bottom","10px"),$(".lnk-out_wrp").css("bottom","10px"),$(".js-pol_opn-ac").css("bottom","-36px"),dataBase.isLive||($("#seekBkwd, #seekForwd, #nextChap, #prevChap").removeClass("seek_btn_act"),$(".overlayCtrl").fadeOut(100))),"view"==faceoffstatus?$(".playing-lft").addClass("hideFONotification"):"cview"==faceoffstatus&&$(".playing-rgt").addClass("hideFONotification"),dbInfo.vidThumbAds.parent().find(".thumb-move-wap-up").removeClass("thumb-move-wap-up").addClass("thumb-move-wap-down"),dbInfo.vidThumbAds.parent().find(".thumb-move-up").removeClass("thumb-move-up").addClass("thumb-move-down"),clearInterval(dataBase.delayTimer),clearTimeout(dataBase.timerHover),dataBase.cbVisible=!1;try{"embed"==dataBase.scat&&$(".custom-HTML5menu").is(":visible")&&$(".custom-HTML5menu").hide()}catch(e){}dataBase.isLive||dbInfo.miniControl.parent().find(".mini-move-down").removeClass("mini-move-down").addClass("mini-move-up")}return!1}function showPreloader(){(dataBase.isAdPlaying||!dbInfo.mainVid[0].paused)&&(dbInfo.centerPlay.hide(),dbInfo.preloader.show())}unction showControl(){return dbInfo.miniControl.hide(),clearInterval(dataBase.delayTimer),!!dataBase.forapp&&!!dataBase.isLive||(fadeInCb(),dataBase.deviceId&&hideControl(),!1)}function hideControl(){if(!dataBase.deviceId)return dbInfo.miniControl.show(),clearInterval(dataBase.delayTimer),dataBase.delay=dataBase.delayTime,dataBase.delayTimer=setInterval(updateHideController,300),!1}function updateHideController(){return dataBase.delay>0&&!dataBase.cbOver&&(dataBase.delay--,1==dataBase.delay&&(clearInterval(dataBase.delayTimer),isInteractionVP=!0,fadeOutCb())),!1}function mainVidClicked(t){if(dataBase.isAdPlaying)return!1;if(dataBase.forapp){toggleFullScreen(t),!isFullScreen()&&dbInfo.mainVid[0].paused&&updatePlayPause(t.target.id);var e=$("#mobUnmute");return e.is(":visible")&&mobileUnmute(t.target.id),!1}var e=$("#mobUnmute");return e.is(":visible")?(mobileUnmute(t.target.id),!1):dataBase.deviceId?(console.log("clicked..in wap: dataBase.cbVisible = ",dataBase.cbVisible),tapContIncrement=0,$("#mobUnmute").is(":visible")&&(dbInfo.mainVid[0].volume=1),dataBase.cbVisible?(dataBase.cbVisible=!1,$(".MutUnm_btn").fadeOut(150),$(".overlayCtrl").fadeOut(150),$("#controlBar").fadeOut(150),$("#mctrlbar").fadeOut(150),dataBase.isLive||($("#seekBtnsLeft").fadeOut(150),$("#seekBtnsRight").fadeOut(150),$("#prevChap").fadeOut(150),$("#nextChap").fadeOut(150)),$("#chapterBtn").removeClass("chp_act"),$("#affiliateHolder").css("pointer-events","auto")):(dataBase.cbVisible=!0,dbInfo.mainVid[0].paused?$("#mctrlbar").removeClass("vc-icon-mobileCenterPause").addClass("vc-icon-mobileCenterPlay"):($("#mctrlbar").removeClass("vc-icon-mobileCenterPlay").addClass("vc-icon-mobileCenterPause"),mCtrlTimeOut=setTimeout(function(){$(".MutUnm_btn").fadeOut(),$(".overlayCtrl").fadeOut(),$("#controlBar").fadeOut(),$("#mctrlbar").fadeOut(),dataBase.isLive||($("#seekBtnsLeft").fadeOut(),$("#seekBtnsRight").fadeOut(),$("#prevChap").fadeOut(),$("#nextChap").fadeOut()),$("#chapterBtn").removeClass("chp_act"),$("#affiliateHolder").css("pointer-events","auto"),dataBase.cbVisible=!1},2e3)),$(".MutUnm_btn").fadeIn(150),$(".overlayCtrl").fadeIn(150),$("#controlBar").fadeIn(150),$("#mctrlbar").fadeIn(150),dataBase.isLive||($("#seekBtnsLeft").fadeIn(150),$("#seekBtnsRight").fadeIn(150),$("#prevChap").fadeIn(150),$("#nextChap").fadeIn(150)),$("#affiliateHolder").css("pointer-events","none")),t&&t.preventDefault(),stageResize(t),!1):(dataBase.cbVisible||dataBase.isAdPlaying?(updateLog("Main Clicked toggle play pause"),hideChapters(),togglePlayPause(t)):(updateLog("Main Clicked...INNNN"),dataBase.cbVisible=!0,showControl(),hideControl()),!1)}function updateDimLight(t){return t?null==dataBase.deviceId&&!dataBase.isAdPlaying&&dbInfo.vidContainer.width()>400&&"function"==typeof onDimClick&&dbInfo.dimLight.show():dbInfo.dimLight.hide(),!1}function updateMouseMove(t){return hideControl(),!1}function createHtml(t,e){updateLog("---------------------------");var a=document.getElementById(e),d=document.getElementById("vidplayer");if(dataBase.parentDiv=a,updateLog("parentDiv: "+a+"  ; vidholder: "+d),null!=a&&(dbInfo.mainHolder=$("#"+e).empty(),dbInfo.mainHolder.empty(),dbInfo.mainHolder.show(),dbInfo.mainHolder.append('<div id="vidplayer" class="vidplayer" style="width:100%;height:100%;"></div>')),null==a&&null==d)return dataBase.vidParent=!1,!1;dataBase.vidParent=!0,dbInfo.mainContainer=$("#vidplayer").empty();var i='<video width="100%" height="100%" poster="'+dataBase.image+'" controls autoplay="false" preload="metadata" playsinline webkit-playsinline><source src="'+dataBase.file+'" type="video/mp4"></video>';return dbInfo.mainContainer.append(i),!1}function showHideChap(){dataBase.vidWidth>=360&&vidInfo.chptObj&&Number(vidInfo.chptObj.chaptLen)>0&&!dataBase.isAdPlaying&&!dataBase.forapp?(dbInfo.chapterBtn.show(),dataBase.deviceId&&$(".videocontrols-button").css("margin-right","0px")):dataBase.deviceId&&vidInfo.chptObj&&Number(vidInfo.chptObj.chaptLen)>0&&!dataBase.isAdPlaying&&!dataBase.forapp?dbInfo.chapterBtn.show():(dbInfo.chapterBtn.hide(),$(".vd-lst").removeClass("vd-lst_shw"),$(".videocontrols-button").css("margin-right","5px"))}function show10SecBtn(t){try{var e=dataBase.annotations&&dataBase.annotations.display_on_second||dataBase.annotations&&dataBase.annotations[0];(dataBase.vidWidth>=400||t)&&!dataBase.isLive&&null==dataBase.deviceId&&!dataBase.isAdPlaying?(e?dbInfo.settingBtn.show():isAfflinks&&dbInfo.settingBtn.hide(),dbInfo.settingBtn.hide(),dbInfo.seekBkwd.show(),dbInfo.seekForwd.show(),updateDimLight(!0)):(dbInfo.settingBtn.hide(),updateDimLight(!1)),!dataBase.isLive&&null==dataBase.deviceId&&"1"!=String(dataBase.policy)&&(dataBase.vidWidth>300||t)?($(".vc-icon-social").show(),$(".vc-icon-pip").show()):($(".vc-icon-social").hide(),$(".vc-icon-pip").hide())}catch(a){updateLog("OOPS!  Seek btton ERROR ")}return!1}function settingClickd(t){t.preventDefault();var e=$(this).find(".settingTrackRange").position().left;return updateLog("----Annot clicked........"+$(this).attr("id")+";  "+e),e>0?($(this).find(".settingTrackRange").css({left:"0px",backgroundColor:"#b2b1b1"}),$(this).find(".settingTrack").css({backgroundColor:"#5e5e5e"}),dataBase.showAnnot=!1,dbInfo.annotHolder.hide()):($(this).find(".settingTrackRange").css({left:"30px",backgroundColor:"#e8e8e9"}),$(this).find(".settingTrack").css({backgroundColor:"#f12b24"}),dataBase.showAnnot=!0,dbInfo.annotHolder.show()),!1}function annotSetting(){var t=dataBase.annotations&&dataBase.annotations.display_on_second||dataBase.annotations&&dataBase.annotations[0];return dataBase.annotations&&t&&getObjLen(dataBase.annotations)>0&&!dataBase.isLive?($(".settingWin").find(".settingList").on("click",settingClickd),$(".settingWin").find(".settingList").bind({mouseenter:function t(e){return e.preventDefault(),dataBase.delay=dataBase.delayTime,dataBase.deviceId||(dataBase.cbOver=!0),!1},mouseleave:function t(e){return e.preventDefault(),dataBase.cbOver=!1,hideControl(),!1}})):dbInfo.settingBtn.hide(),!1}function animBkwdClicked(){return clearTimeout(dbInfo.btn1Timeout),clearTimeout(dbInfo.btn2Timeout),dbInfo.btnAnim=!0,dbInfo.animCenterBkwd.show(),dbInfo.seekAnimProgress=!0,dbInfo.btn1Timeout=setTimeout(function(){dbInfo.mctrlbar.hide(),dbInfo.preloader.hide(),dbInfo.animCenterBkwd.removeClass("temp_zoomout").addClass("temp_zoomIn"),clearTimeout(dbInfo.btn1Timeout),dbInfo.btn2Timeout=setTimeout(function(){dbInfo.animCenterBkwd.hide(),dbInfo.animCenterBkwd.removeClass("temp_zoomIn").addClass("temp_zoomout"),dbInfo.btnAnim=!1,dbInfo.seekAnimProgress=!1,clearTimeout(dbInfo.btn2Timeout),dataBase.deviceId&&dbInfo.mainVid[0].paused&&showMCBCenter()},450)},10),!1}function animFrwdClicked(){clearTimeout(dbInfo.btn1Timeout),clearTimeout(dbInfo.btn2Timeout),dbInfo.btnAnim=!0,dbInfo.animCenterFrwd.show(),dbInfo.seekAnimProgress=!0,dbInfo.btn1Timeout=setTimeout(function(){dbInfo.mctrlbar.hide(),dbInfo.preloader.hide(),dbInfo.animCenterFrwd.removeClass("temp_zoomout").addClass("temp_zoomIn"),clearTimeout(dbInfo.btn1Timeout),dbInfo.btn2Timeout=setTimeout(function(){dbInfo.animCenterFrwd.hide(),dbInfo.animCenterFrwd.removeClass("temp_zoomIn").addClass("temp_zoomout"),dbInfo.btnAnim=!1,dbInfo.seekAnimProgress=!1,dataBase.deviceId&&dbInfo.mainVid[0].paused&&showMCBCenter(),clearTimeout(dbInfo.btn2Timeout)},450)},10)}function animPlayClicked(){return updateLog("in animPlayClicked: "+dataBase.deviceId),dbInfo.centerPlay.is(":visible")&&dbInfo.centerPlay.hide(),!dataBase.forapp&&(dataBase.deviceId?(dbInfo.vidContainer.find(".vc-icon-mobileCenterPlay").removeClass("vc-icon-mobileCenterPlay").addClass("vc-icon-mobileCenterPause"),!1):(dbInfo.btnInit&&!dbInfo.btnAnim&&dbInfo.mainVid[0].currentTime>0&&!dataBase.isAdPlaying&&(updateLog("in animPlayClicked B"),clearTimeout(dbInfo.btn1Timeout),clearTimeout(dbInfo.btn2Timeout),dbInfo.btnAnim=!0,dbInfo.animCenterPlay.show(),dbInfo.btn1Timeout=setTimeout(function(){dbInfo.animCenterPlay.removeClass("temp_zoomout").addClass("temp_zoomIn"),clearTimeout(dbInfo.btn1Timeout),dbInfo.btn2Timeout=setTimeout(function(){dbInfo.animCenterPlay.hide(),dbInfo.animCenterPlay.removeClass("temp_zoomIn").addClass("temp_zoomout"),dbInfo.btnAnim=!1,clearTimeout(dbInfo.btn2Timeout)},430)},10)),!1))}function animPauseClicked(){return!dataBase.forapp&&(dataBase.deviceId?(dbInfo.vidContainer.find(".vc-icon-mobileCenterPause").removeClass("vc-icon-mobileCenterPause").addClass("vc-icon-mobileCenterPlay"),!1):(dbInfo.btnInit&&!dbInfo.btnAnim&&dbInfo.mainVid[0].currentTime>0&&!dataBase.isAdPlaying&&(clearTimeout(dbInfo.btn1Timeout),clearTimeout(dbInfo.btn2Timeout),dbInfo.btnAnim=!0,dbInfo.animCenterPause.show(),dbInfo.btn1Timeout=setTimeout(function(){dbInfo.animCenterPause.removeClass("temp_zoomout").addClass("temp_zoomIn"),clearTimeout(dbInfo.btn1Timeout),dbInfo.btnAnim=!1,dbInfo.btn2Timeout=setTimeout(function(){dbInfo.animCenterPause.hide(),dbInfo.animCenterPause.removeClass("temp_zoomIn").addClass("temp_zoomout"),dbInfo.btnAnim=!1,clearTimeout(dbInfo.btn1Timeout),clearTimeout(dbInfo.btn2Timeout)},450)},20)),!1))}function pointerEventXY(t){var e={x:0,y:0};if("touchstart"==t.type||"touchmove"==t.type||"touchend"==t.type||"touchcancel"==t.type){var a=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.x=a.pageX,e.y=a.pageY}else("mousedown"==t.type||"mouseup"==t.type||"mousemove"==t.type||"mouseover"==t.type||"mouseout"==t.type||"mouseenter"==t.type||"mouseleave"==t.type)&&(e.x=t.pageX,e.y=t.pageY);return e}function mobileUnmute(t){return""!=String(t)&&void 0!=t&&($("#mobUnmute").hide(),updateLog("Mobile mute clicked....."),dataBase.deviceId&&(dataBase.isTapped=1),dataBase.cube&&$("#mainCubeHolder").animate({left:"0px"},200),dbInfo.mainVid[0].muted=!1,dataBase.volume=localStorageGetItem("videocontrols-volume")>0?localStorageGetItem("videocontrols-volume"):1,dbInfo.mainVid[0].volume=dataBase.volume,dataBase.volumeAds=dataBase.volume,volumeChange(),!1)}function createView(e,i){updateLog("-------------in createView--------------");var n=document.getElementById(i),t=document.getElementById("vidplayer");dataBase.parentDiv=n,updateLog("parentDiv: "+n+"  ; vidholder: "+t,"vtype: "+dataBase.vtype+" dataBase.autostart: "+dataBase.autostart),n&&(n.style.overflow="hidden",$(n).addClass("Ply_img-gr-img"),dataBase.autostart||$(n).parent().addClass("Ply_img-gr"));try{dbInfo.vidiframe=$(window.frameElement,window.parent.document),dbInfo.vidiframe&&dbInfo.vidiframe[0]&&(dbInfo.vidiframe[0].setAttribute("webkitAllowFullScreen","true"),dbInfo.vidiframe[0].setAttribute("mozAllowFullScreen","true"),dbInfo.vidiframe[0].setAttribute("allowFullScreen","true"))}catch(o){}if(null!=n&&(dbInfo.mainHolder=$("#"+i).empty(),dbInfo.mainHolder.empty(),dbInfo.mainHolder.show(),"embed"!=dataBase.scat&&dataBase.adpoint&&dataBase.adpoint.branded&&null==dataBase.deviceId&&dbInfo.mainHolder.append('<div id="vidr" style="display:none;position:absolute;z-index:0; width:310px; height:415px;"></div><div id="vidb" style="display:none;position:absolute;z-index:0; width:622px; height:41px;"></div><div id="vidbwap" style="display:none;position:absolute;z-index:0; width:320px; height:50px;"></div>'),dbInfo.mainHolder.append('<div id="vidplayer" class="vidplayer" style="width:100%;height:100%;"></div>')),null==n&&null==t)return dataBase.vidParent=!1,!1;if(dataBase.vidParent=!0,dbInfo.docW=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,dbInfo.docH=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,dbInfo.mainContainer=$("#vidplayer"),dataBase.forapp&&dbInfo.mainContainer.css("min-width","170px"),dataBase.deviceId?(vidInfo.recWidth=dbInfo.mainContainer.width(),vidInfo.recHeight=dbInfo.mainContainer.height(),updateLog("----Received vidplayer width : "+vidInfo.recWidth+" ;  height: "+vidInfo.recHeight),dbInfo.mainContainer.empty(),$("#vidplayer").addClass("plMobile")):dbInfo.mainContainer.empty(),clearVidSkin(),dbInfo.parentDoc=document.getElementById("vidplayer"),dbInfo.baseContainer=$("#vidplayer"),$("#vidplayer")&&dataBase.skipThumbnailCss&&$("#vidplayer").css("background","none"),dbInfo.mainContainer.append(createDivElement()),dbInfo.mainContainer.append('<div id="stickCloseBase" style="display:block; position:absolute; top:0px; left:0px; width:100%; height:100%; pointer-events:none; overflow:hidden;" ><div id="stickClose" class="clseBar cbTop-move-up"><span id="sticyCBtn" class="clse rounded heavy" style="z-index:1; pointer-events:auto;"></span></div></div>'),dbInfo.vidContainer=$("#vidContainer"),dbInfo.vidHolder=$("#vidHolder"),dbInfo.preview=$("#prevCont").show(),dbInfo.prevShow=$("#prevShow").hide(),dbInfo.previewImg=$("#previewImg").hide(),dbInfo.prvImgHold=$("#prvImgHold"),dbInfo.vidImag=$("#vidImag"),dbInfo.reltd=$("#rel_vid"),dbInfo.prevPlay=$("#prevPlay"),dbInfo.prevPlayMob=$("#prevPlayMob"),dbInfo.prevLoader=$("#prevLoader"),dbInfo.preloader=$("#preloader").show(),dbInfo.rightMenus=$("#rightMenus"),dbInfo.stickClose=$("#stickClose"),dbInfo.sticyCBtn=$("#sticyCBtn"),dbInfo.sticyCBtn.on("click",stickyUserClose),$("#mobUnmute").on("click",,$("#mobUnmute").hide(),$("#disablBtn").unbind(),dbInfo.mainVid=$("#contElem").hide(),dbInfo.mainVidElm=document.getElementById("contElem"),dbInfo.playPause=$("#playPause").show(),dbInfo.mctrlbar=$("#mctrlbar").hide(),$(".MutUnm_btn").hide(),dbInfo.controlBar=$("#controlBar").hide(),dbInfo.seekThumb=$("#seekThumb"),dbInfo.centerPlay=$("#centerPlay"),dbInfo.volThumb=$("#volThumb"),dbInfo.volumeBar=$("#volumeBar"),dbInfo.volBtn=$("#volBtn"),dbInfo.miniControl=$("#miniControl").show(),dbInfo.errorView=$("#errorView"),dbInfo.leftTimer=$("#leftTimer"),dbInfo.fullBtn=$("#Fullscreen"),dbInfo.adTimer=$("#adTimer").text(""),dbInfo.dimLight=$("#dimLight").hide(),dbInfo.chapterBtn=$("#chapterBtn"),dbInfo.settingBtn=$("#settingBtn"),dbInfo.settingArea=$("#settingArea"),dbInfo.rightTimer=$("#rightTimer"),dbInfo.seekBar=$("#seekBar"),dbInfo.winArea=$(window),dbInfo.controlBar.find(".videocontrols-timer").html("LIVE"),dbInfo.timePointer=$("#timePointer").hide(),dbInfo.seekPrevImg=$("#seekPrevImg"),dbInfo.seekTimeTxt=$("#seekTimeTxt"),dbInfo.chpterId=$("#chpterId"),dbInfo.chpterList=$("#chpterList"),dbInfo.seekBkwd=$("#seekBkwd"),dbInfo.seekBkwd_anm=$("#seekBkwd_anm"),dbInfo.seekForwd=$("#seekForwd"),dbInfo.seekForwd_anm=$("#seekForwd_anm"),dbInfo.seekBtnsLeft=$("#seekBtnsLeft"),dbInfo.seekBtnsRight=$("#seekBtnsRight"),dbInfo.annotHolder=$("#annotHolder"),dbInfo.vidThumbAds=$("#vidThumbAds"),dbInfo.animCenterPlay=$("#animCenterPlay").hide(),dbInfo.animCenterPause=$("#animCenterPause").hide(),dbInfo.animCenterBkwd=$("#animCenterBkwd").hide(),dbInfo.animCenterFrwd=$("#animCenterFrwd").hide(),dbInfo.adContainer=$("#adContainer"),dbInfo.vidClick=$("#vidClick"),dbInfo.adClickTrack=$("#adClickTrack").hide(),dbInfo.adControlBar=$("#adControlBar"),dbInfo.rightAdControl=$("#rightAdControl").hide(),dbInfo.adCenterPlay=$("#adCenterPlay"),dbInfo.adPreloader=$("#adPreloader").hide(),dbInfo.adPlayPause=$("#adPlayPause"),dbInfo.adsVideo=$("#adVidElem"),dbInfo.adVolBtn=$("#adVolBtn"),dbInfo.adVolumeBar=$("#adVolumeBar"),dbInfo.prevLoader=$("#prevLoader"),dbInfo.adFullscreen=$("#adFullscreen"),dbInfo.adCenterPlay2=$("#adCenterPlay2"),dataBase.vidWidth=dbInfo.vidContainer.width(),dataBase.vidHeight=dbInfo.vidContainer.height(),dataBase.touchXpos=0,dataBase.volXpos=0,resetAllAds(),dataBase.volumeAds=dataBase.volume,dataBase.cbVisible=!1,dataBase.deviceId?dataBase.delayTime=2:dataBase.delayTime=5,dataBase.delay=dataBase.delayTime,dataBase.delayTimer=0,dataBase.setOutTime=0,dataBase.cbOver=!1,dataBase.volTimeout=0,vidEvent.animTimeout=4,vidEvent.isAnim=!1,dataBase.hlsVid=null,updateDimLight(!0),dataBase.showAnnot=!0,dbInfo.btnAnim=!1,dbInfo.btnInit=!1,dbInfo.btn1Timeout=0,dbInfo.btn2Timeout=0,dbInfo.playerTop=-1,dbInfo.scrollTimeout=0,dbInfo.playerScroll=!1,dbInfo.playing=!1,dbInfo.adControlBar.find(".vc-icon-play").removeClass("vc-icon-play").addClass("vc-icon-pause"),dbInfo.controlBar.find(".vc-icon-play").removeClass("vc-icon-play").addClass("vc-icon-pause"),dbInfo.mainContainer.find(".adTimerBase").hide(),dataBase.fullscreen||(dbInfo.fullBtn.hide(),dbInfo.adFullscreen.hide()),dataBase.forapp&&(dbInfo.adFullscreen.hide(),dbInfo.adCenterPlay.hide(),dbInfo.fullBtn.hide(),$("#chapterBtn").hide(),$("#rightTimer").show(),dbInfo.miniControl.hide(),dbInfo.mctrlbar.hide()),401>dbInfo.vidContainer.width()&&($("#mobUnmute").css({left:"auto","border-radius":"3px",overflow:"hidden",right:"3px",top:"3px",width:"32px",height:"30px"}),$(".mutestart_icon").css({width:"33px",height:"30px",overflow:"hidden"}),$("#muteBtn").removeClass("cht_mut-ac")),$(".videocontrols-btn").css("margin","14px 10px"),dataBase.deviceId){if((updateLog("====Mobile:  update control as per device view"),dbInfo.prevPlay.hide(),"embed"!=dataBase.scat)?(-1!=String(window.location.href).indexOf("/play-via-app/")&&($(".brighDiv").hide(),$(".bleftDiv").show()),dbInfo.prevPlayMob.show()):dbInfo.prevPlayMob.hide(),$("#socialMedia").hide(),dbInfo.vidThumbAds.parent().find(".thumb-move-up").removeClass("thumb-move-up").addClass("thumb-move-wap-up"),dbInfo.settingBtn.hide(),dbInfo.vidContainer.parent().find(".videocontrols-time").removeClass("vol-move-left"),dbInfo.vidContainer.parent().find(".vc-player").addClass("hover"),dbInfo.controlBar.find(".videocontrols-seeker").height(2),dbInfo.volumeBar.hide(),dbInfo.volBtn.hide(),dbInfo.adVolumeBar.hide(),dbInfo.adVolBtn.hide(),$(".videocontrols-weight-volume").hide(),dbInfo.dimLight.hide(),dbInfo.adControlBar.hide(),dbInfo.rightAdControl.hide(),-1!=String(dataBase.deviceId).indexOf("iPad")?(dbInfo.playPause.show(),dbInfo.adPlayPause.show()):(dbInfo.playPause.hide(),dbInfo.adPlayPause.hide()),dataBase.isLive)dbInfo.vidContainer.parent().find(".vidHold").on("touchend",function(e){!0!=vidInfo.tchmoved&&mainVidClicked(e)}).on("touchmove",.on("touchstart",;else{$("#contBtnsLeft").on("click",function(e){return e.preventDefault(),dataBase.isAdPlaying||dataBase.isLive||updateSeekTime("bkwd"),!1}),$("#contBtnsRight").on("click",function(e){return e.preventDefault(),dataBase.isAdPlaying||dataBase.isLive||updateSeekTime("fwd"),!1});var a,r=!1;dbInfo.vidContainer.parent().find(".vidHold").on("touchend",function(e){if(!0!=vidInfo.tchmoved){if(r){clearTimeout(r),r=null,vidInfo.mainVidClicked=!0,a=$("#contBtnsRight");var i,n=pointerEventXY(e),t=dbInfo.vidContainer.parent().find(".vidHold").width();i=Math.round(100*n.x/t),updateLog("Double click Executed.............."+n.x+" ;  "+n.y+";  "+i),!a.is(":visible")&&i<=45?dataBase.isAdPlaying||dataBase.isLive||updateSeekTime("bkwd"):a.is(":visible")||!(i>=55)||dataBase.isAdPlaying||dataBase.isLive||updateSeekTime("fwd")}else r=setTimeout(200);e&&e.preventDefault()}}).on("touchmove",.on("touchstart",}}else{$("#mobUnmute").hide(),dbInfo.vidContainer.parent().find(".vidHold").on("click",mainVidClicked),dbInfo.prevPlay.show(),dbInfo.prevPlayMob.hide(),dataBase.isSticky&&window.addEventListener("scroll",windowScroll,!1),annotSetting(),show10SecBtn(),showHideChap(),dbInfo.playPause.show(),dbInfo.adPlayPause.show(),dbInfo.volumeBar.show(),dbInfo.volBtn.show(),dbInfo.controlBar.find(".videocontrols-seeker").on("mouseenter touchstart",function(e){e.preventDefault(),dbInfo.vidContainer.parent().find(".vc-player").addClass("hover"),dbInfo.controlBar.find(".videocontrols-seeker").height(5),dbInfo.timePointer.show()}),dbInfo.controlBar.parent().find(".videocontrols-seeker").on("mouseleave touchend",function(){dbInfo.vidContainer.parent().find(".vc-player").removeClass("hover"),dbInfo.controlBar.find(".videocontrols-seeker").height(2),dbInfo.timePointer.hide()}),dbInfo.controlBar.find(".videocontrols-seeker").on("mousemove",seekMove),dbInfo.controlBar.parent().find(".videocontrols-seeker").on("mouseleave touchend",function(){dbInfo.vidContainer.parent().find(".vc-player").removeClass("hover"),dbInfo.controlBar.find(".videocontrols-seeker").height(2),dbInfo.timePointer.hide()});var d=0;$("#vidClick").on("mousemove",function(e){return clearTimeout(d),showControl(),dataBase.cbVisible=!0,d=setTimeout(updateMouseMove,700),!1}),dbInfo.mainVid.on("mouseover",function(e){dataBase.isLive||($("#seekBkwd, #seekForwd, #nextChap, #prevChap").addClass("seek_btn_act"),$(".overlayCtrl").fadeIn(100)),isInteractionVP=!0}),dbInfo.mainVid.on("mousemove",function(e){return e.preventDefault(),clearTimeout(d),showControl(),dataBase.cbVisible=!0,d=setTimeout(updateMouseMove,700),!1}),$(".vd-lst").on("mousemove, mouseover",function(e){clearTimeout(d),showControl(),dataBase.cbVisible=!0}),dbInfo.mainContainer.bind("contextmenu",rightClickItems),dbInfo.mainContainer.find(".custom-HTML5menu li").click(menuClick),null==dataBase.deviceId&&addVidEvent(document,"keydown",updateKeyEvent),dataBase.isLive||null!=dataBase.deviceId||"1"==String(dataBase.policy)||(dbInfo.mainContainer.find(".vc-icon-social").show(),dbInfo.mainContainer.find(".socialClick").on("click",l),dbInfo.mainContainer.find(".socialClick").bind({mouseenter:function(e){return e.preventDefault(),clearTimeout(dataBase.socialTimeout),!1},mouseleave:function(e){return e.preventDefault(),clearTimeout(dataBase.socialTimeout),dataBase.socialTimeout=setTimeout(v,500),!1}}),dbInfo.mainContainer.find(".vc-icon-social").bind({mouseenter:function(e){return e.preventDefault(),clearTimeout(dataBase.socialTimeout),dataBase.deviceId||(dataBase.cbOver=!0),clearTimeout(dataBase.socialTimeout),dbInfo.mainContainer.find(".social-move-down").removeClass("social-move-down").addClass("social-move-up"),$("#socialMedia").css("pointer-events","auto"),!1},mouseleave:function(e){return e.preventDefault(),dataBase.cbOver=!1,clearTimeout(dataBase.socialTimeout),dataBase.socialTimeout=setTimeout(v,500),!1}}),dbInfo.mainContainer.find(".socialIcons").bind({mouseenter:function(e){return e.preventDefault(),dataBase.deviceId||(dataBase.cbOver=!0),clearTimeout(dataBase.socialTimeout),!1},mouseleave:function(e){return e.preventDefault(),dataBase.deviceId||(dataBase.cbOver=!1),clearTimeout(dataBase.socialTimeout),dataBase.socialTimeout=setTimeout(v,500),!1}}),dbInfo.mainContainer.find(".socialMedia").bind({mouseenter:function(e){return e.preventDefault(),dataBase.deviceId||(dataBase.cbOver=!0),clearTimeout(dataBase.socialTimeout),!1},mouseleave:function(e){return e.preventDefault(),dataBase.cbOver=!1,clearTimeout(dataBase.socialTimeout),dataBase.socialTimeout=setTimeout(v,500),!1}}),$(".videocontrols-button").bind({mouseenter:mouseleave:function(e){}}))}function l(e){e.preventDefault(),e.stopPropagation();var i=e.target.id;switch(i){case"fb":s("https://www.facebook.com/sharer/sharer.php?u="+dataBase.pageurl+"&text="+dataBase.title,900,500);break;case"twitr":s("https://twitter.com/intent/tweet?url="+dataBase.pageurl+"&text="+dataBase.title+"- NDTV",650,420);break;case"email":s("https://www.ndtv.com/page/send-email/id/"+dataBase.id+"/category/news/type/video/",900,600)}return!1}function s(e,i,n){window.open(e,"","toolbar=0, status=0, width="+i+", height="+n)}function c(e){e.preventDefault(),e.stopPropagation(),dataBase.cbOver=!0,dbInfo.mainVid.off("timeupdate",updateQos);var i=getClientX(e)-dbInfo.vidContainer.find(".videocontrols-seeker").offset().left;return i=Math.max(0,i),i=Math.min(dbInfo.vidContainer.find(".videocontrols-seeker").width(),i),dbInfo.vidContainer.find(".videocontrols-seekbar").css("left",i),updatePointer(i),updateCurrTitle(dbInfo.mainVid[0].currentTime,i),!1}function u(e){console.log("seekbar_up ",e);try{if(e.target&&"contentElement"==e.target.id&&!dbInfo.touchStart)return!1}catch(i){updateLog("Error found in seekup ....")}$(document).off("mouseup touchend",u),dbInfo.vidContainer.find(".preview_In").removeClass("preview_In").addClass("preview_out"),dbInfo.vidContainer.find(".videocontrols-preview").remove(),showPreloader(),$(document).off("mousemove touchmove",c);var n=Math.round(dbInfo.mainVid[0].duration);dataBase.isDVR&&dataBase.isLive&&(n=Math.round(dbInfo.mainVid[0].seekable.end(0)),$(".videocontrols-timer").addClass("dvrindicator")),$.isNumeric(e)||(e.preventDefault(),e.stopPropagation());var t=Math.round(((getClientX(e)?getClientX(e):dataBase.touchXpos)-dbInfo.vidContainer.find(".videocontrols-seeker").offset().left)/dbInfo.vidContainer.find(".videocontrols-seeker").width()*n);return t>0&&t<n?dbInfo.mainVid[0].currentTime=t:t>n&&n>0?(t=n-2,dbInfo.mainVid[0].currentTime=t):t<0&&n>0&&(t=1,dbInfo.mainVid[0].currentTime=t),dbInfo.mainVid.on("timeupdate",updateQos),dataBase.touchXpos=0,dbInfo.touchStart=!1,dataBase.deviceId?mCtrlTimeOut=setTimeout(function(){$(".overlayCtrl").fadeOut(100),$("#controlBar").fadeOut(100),$("#mctrlbar").fadeOut(100),dataBase.isLive||($("#seekBtnsLeft").fadeOut(100),$("#seekBtnsRight").fadeOut(100),$("#prevChap").fadeOut(100),$("#nextChap").fadeOut(100)),$("#affiliateHolder").css("pointer-events","auto"),dataBase.cbVisible=!1},1e3):dbInfo.controlBar.find(".videocontrols-seeker").on("mousemove",seekMove),void 0!=cs_obj&&cs_obj.sa&&cs_obj.sa.notifySeekStart(),dbInfo.timePointer.hide(),dbInfo.mainVid[0].muted&&mobileUnmute(e),!1}function v(){updateLog(">>>>>>>>down icons......."),clearTimeout(dataBase.socialTimeout),dbInfo.mainContainer.find(".social-move-up").removeClass("social-move-up").addClass("social-move-down"),$("#socialMedia").css("pointer-events","none"),dataBase.cbOver=!1}dataBase.isLive?(dbInfo.controlBar.find(".videocontrols-timer").html("LIVE"),dbInfo.controlBar.find(".videocontrols-seeker").hide()):(dbInfo.controlBar.find(".videocontrols-seeker").show(),dbInfo.controlBar.find(".videocontrols-timer").html(secondsToTime(0))),null===localStorageGetItem("videocontrols-muted")&&localStorageSetItem("videocontrols-muted","0"),null===localStorageGetItem("videocontrols-volume")&&localStorageSetItem("videocontrols-volume",dataBase.volume),dataBase.volume=localStorageGetItem("videocontrols-volume",dataBase.volume),dbInfo.playPause.is(":visible")&&dbInfo.controlBar.find(".vc-icon-play").removeClass("vc-icon-play").addClass("vc-icon-pause"),dbInfo.controlBar.bind({mouseenter:function(){dataBase.delay=dataBase.delayTime,dataBase.deviceId||(dataBase.cbOver=!0)},mouseleave:),dbInfo.chpterId.bind({mouseenter:function(e){return e.preventDefault(),e.stopPropagation(),dataBase.delay=dataBase.delayTime,dataBase.cbOver=!0,!1},mouseleave:function(e){return e.preventDefault(),e.stopPropagation(),dataBase.cbOver=!1,hideControl(),!1}}),dbInfo.vidContainer.parent().find(".vc-player").on("mouseenter touchstart",,dbInfo.vidContainer.find(".videocontrols-seeker").on("click",function(e){e.preventDefault(),e.stopPropagation(),dbInfo.touchStart=!0,isSwiperScroll=!1;var i=getClientX(e),n=i-dbInfo.vidContainer.find(".videocontrols-seeker").offset().left;n=Math.max(0,n),n=Math.min(dbInfo.vidContainer.find(".videocontrols-seeker").width(),n),dbInfo.vidContainer.find(".videocontrols-seekbar").css("left",n+"px"),dbInfo.vidContainer.find(".videocontrols-seekbar").animate({left:n},0,"linear",,$(e.target).hasClass("chp_dot-s")&&(console.log("click on dot",$(e.target).data("goto")),dbInfo.mainVid[0].currentTime=$(e.target).data("goto")),updateCurrTitle(dbInfo.mainVid[0].currentTime,n)}),dbInfo.vidContainer.find(".videocontrols-seekbar").on("mousedown touchstart",function(e){if(e.preventDefault(),!(dataBase.deviceId&&(dataBase.cbOver=!0,clearTimeout(mCtrlTimeOut),1>$(".overlayCtrl").css("opacity"))))return dbInfo.controlBar.find(".videocontrols-seeker").off("mousemove",seekMove),dbInfo.touchStart=!0,dataBase.touchXpos=getClientX(e),dbInfo.vidContainer.find(".preview_out").removeClass("preview_out").addClass("preview_In"),$(document).on("mouseup touchend",u),dbInfo.mainVid.off("timeupdate",updateQos),$(document).on("mousemove touchmove",c),dbInfo.mainVid[0].muted&&mobileUnmute(e),!1}),dbInfo.mainContainer.find(".vc-icon-social").bind({mouseenter:function(e){return e.preventDefault(),clearTimeout(dataBase.socialTimeout),dataBase.deviceId||(dataBase.cbOver=!0),clearTimeout(dataBase.socialTimeout),dbInfo.mainContainer.find(".social-move-down").removeClass("social-move-down").addClass("social-move-up"),$("#socialMedia").css("pointer-events","auto"),!1},mouseleave:function(e){return e.preventDefault(),dataBase.cbOver=!1,clearTimeout(dataBase.socialTimeout),dataBase.socialTimeout=setTimeout(v,500),!1}}),dbInfo.mainContainer.find(".socialIcons").bind({mouseenter:function(e){return e.preventDefault(),dataBase.cbOver=!0,clearTimeout(dataBase.socialTimeout),!1},mouseleave:function(e){return e.preventDefault(),dataBase.cbOver=!1,clearTimeout(dataBase.socialTimeout),dataBase.socialTimeout=setTimeout(v,500),!1}}),dbInfo.mainContainer.find(".socialMedia").bind({mouseenter:function(e){return e.preventDefault(),dataBase.deviceId||(dataBase.cbOver=!0),clearTimeout(dataBase.socialTimeout),!1},mouseleave:function(e){return e.preventDefault(),dataBase.cbOver=!1,clearTimeout(dataBase.socialTimeout),dataBase.socialTimeout=setTimeout(v,500),!1}}),dbInfo.mainContainer.find(".socialClick").on("click",l),dbInfo.mainContainer.find(".socialClick").bind({mouseenter:function(e){return e.preventDefault(),clearTimeout(dataBase.socialTimeout),!1},mouseleave:function(e){return e.preventDefault(),clearTimeout(dataBase.socialTimeout),dataBase.socialTimeout=setTimeout(v,500),!1}}),dbInfo.mainContainer.find(".videocontrols-mute").on("click",volumeMute),dbInfo.mainContainer.find(".videocontrols-weight-volume").on("click",volumeWeight),dbInfo.mainContainer.find(".videocontrols-mute").bind({mouseenter:function(e){return e.preventDefault(),clearTimeout(dataBase.volTimeout),dbInfo.mainContainer.find(".vol-move-left").removeClass("vol-move-left").addClass("vol-move-right"),!1},mouseleave:function(e){return e.preventDefault(),dataBase.volTimeout=setTimeout(hideVol,300),!1}}),dbInfo.mainContainer.find(".videocontrols-weight-volume").bind({mouseenter:function(){clearTimeout(dataBase.volTimeout)},mouseleave:),dbInfo.mainContainer.find(".videocontrols-volumebar").on("mousedown touchstart",volumeBarPressed),dbInfo.fullBtn.on("click",toggleFullScreen),dbInfo.centerPlay.on("click",togglePlayPause),$(".MutUnm_btn").on("click",function(e){updateLog("isTapped in MutUnm_btn: ",dataBase.isTapped),$(this).find(".MutUnm_ic-wr i").hasClass("MutUnm_Unmt-ic")?($(this).find(".MutUnm_ic-wr i").removeClass("MutUnm_Unmt-ic").addClass("MutUnm_Mt-ic"),updateLog("in A: ",dbInfo.mainVid[0].muted),dbInfo.mainVid[0].muted=!0,dbInfo.mainVid[0].volume=0):($(this).find(".MutUnm_ic-wr i").removeClass("MutUnm_Mt-ic").addClass("MutUnm_Unmt-ic"),updateLog("in B: ",dbInfo.mainVid[0].muted),dbInfo.mainVid[0].muted=!1,dbInfo.mainVid[0].volume=1)}),dbInfo.mctrlbar.on("click",function(){dbInfo.mainVid[0].paused?(dataBase.isLive&&(dataBase.isDVR?dbInfo.mainVid[0].currentTime=dbInfo.mainVid[0].currentTime:dbInfo.mainVid[0].currentTime=dbInfo.mainVid[0].duration-4),dbInfo.mainVid[0].play(),void 0!=cs_obj&&cs_obj.sa&&(startComscore(),cs_obj.sa.notifyPlay()),$("#mctrlbar").removeClass("vc-icon-mobileCenterPlay").addClass("vc-icon-mobileCenterPause"),mCtrlTimeOut=setTimeout(function(){$(".MutUnm_btn").fadeOut(100),$(".overlayCtrl").fadeOut(100),$("#controlBar").fadeOut(100),$("#mctrlbar").fadeOut(100),dataBase.isLive||($("#seekBtnsLeft").fadeOut(100),$("#seekBtnsRight").fadeOut(100),$("#prevChap").fadeOut(100),$("#nextChap").fadeOut(100)),$("#affiliateHolder").css("pointer-events","auto"),dataBase.cbVisible=!1},1e3)):(clearTimeout(mCtrlTimeOut),dbInfo.mainVid[0].pause(),void 0!=cs_obj&&cs_obj.sa&&(startComscore(),cs_obj.sa.notifyPause()),$("#mctrlbar").removeClass("vc-icon-mobileCenterPause").addClass("vc-icon-mobileCenterPlay"),$(".MutUnm_btn").fadeIn(),$(".overlayCtrl").fadeIn(),$("#controlBar").fadeIn(),$("#mctrlbar").fadeIn(),dataBase.isLive||($("#seekBtnsLeft").fadeIn(),$("#seekBtnsRight").fadeIn(),$("#prevChap").fadeIn(),$("#nextChap").fadeIn()),$("#affiliateHolder").css("pointer-events","none"))}),dbInfo.playPause.on("click",togglePlayPause),dbInfo.settingBtn.on("click",settingClick),dbInfo.preview.on("click",prevClick),dbInfo.winArea.on("resize",stageResize),dbInfo.winArea.bind("orientationchange",orientChange),dbInfo.mainVid.on("play",updatePlayBtns),dbInfo.mainVid.on("pause",updatePauseBtns),dbInfo.mainVid.on("canplaythrough",videoMetaData),dbInfo.mainVid.on("progress",videoMetaData),dbInfo.mainVid.on("ended",vidCompleted),dbInfo.mainVid.bind("waiting",videoBuffering),dbInfo.mainVid.on("canplay",videoPlaying),dbInfo.mainVid.on("loadeddata",videoMetaData),dbInfo.mainVid.on("volumechange",volumeChange),dbInfo.mainVid[0].addEventListener("webkitendfullscreen",function(e){updateLog("End Full screen A - "+dbInfo.mainVid.css("object-fit")+" - "+JSON.stringify($("#vidTestPlay"))),dbInfo.mainVid.css("object-fit","contain"),$(".overlayCtrl").fadeIn("fast")}),dbInfo.mainVid[0].addEventListener("webkitbeginfullscreen",function(e){updateLog("Inn Full screen - "+dbInfo.mainVid.css("object-fit"))}),dbInfo.seekBkwd.on("click",seekVideo),dbInfo.seekForwd.on("click",seekVideo),dbInfo.adPlayPause.on("click",toggleAdPlay),dbInfo.adFullscreen.on("click",toggleFullScreen),dbInfo.adControlBar.on("click",ImaControlBar),dbInfo.dimLight.on("click",onDimUpdate),$("#chapterBtn, .vd-lst_cls").click(function(e){vidInfo.chapLoaded||($("#chapterBtn").hasClass("chp_act")&&$("#chapterBtn").removeClass("chp_act"),createChapView(vidInfo.chptObj)),$(".vd-lst").toggleClass("vd-lst_shw"),$(e.target).hasClass("vd-lst_cls")&&hideControl()}),dataBase.isLive||(dataBase.forapp?dbInfo.controlBar.find(".videocontrols-timer").html(secondsToTime(0)):dbInfo.controlBar.find(".videocontrols-timer").html(secondsToTime(0)+" / "+secondsToTime(0))),null==dataBase.deviceId&&document.addEventListener("mousedown",evtMDown,!1)}function evtMDown(t){var e=t.target.id,a=document.getElementById(t.target.id);a&&""!=String(a.parentElement.id)&&(e=a.parentElement.id),updateLog("parent id = "+e),"vidHolder"==e||"controlBar"==e||"seekBar"==e||"right-btns"==e||"seekForwd"==e||"seekBkwd"==e||"mainCubeHolder"==e?vidInfo.vidSelect=!0:vidInfo.vidSelect=!1,updateLog("vidInfo.vidSelect: "+vidInfo.vidSelect)}function stickyUserClose(t){return t.preventDefault(),dbInfo.sticUsrClose=!0,sendMessage("sticUsrClose-true"),resetYScroll(),restStage(),!1}function disableVidScroll(){return updateYScrollReset(),stickCloseEnable(!1),dbInfo.baseContainer.css({position:"absolute",top:"0px",left:"0px",border:"0px solid black",boxShadow:"0px 0px 0px "}),!1}function tempVidAnim(){objAnim.vidAnim=!0,dbInfo.mainContainer.show(),dbInfo.mainContainer.addClass("scroll_vid_init"),objAnim.tout=setTimeout(function(){dbInfo.mainContainer.show(),dbInfo.mainContainer.parent().find(".scroll_vid_init").removeClass("scroll_vid_init").addClass("scroll_vid_start"),clearTimeout(objAnim.tout),objAnim.tout=setTimeout(function(){dbInfo.mainContainer.parent().find(".scroll_vid_start").removeClass("scroll_vid_start")},200)},200)}function windowScroll(t){if(t.preventDefault(),dbInfo.playing&&!dbInfo.pipEnabled){if(null==dbInfo.parentDoc)return!1;dbInfo.playerPos=dbInfo.baseContainer.position().top,dbInfo.playerTop<0&&(dbInfo.playerTop=findPosY(dbInfo.parentDoc)),dbInfo.docW=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,dbInfo.docH=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,dbInfo.sticUsrClose&&pageYOffset<=dbInfo.playerTop&&updateLog("Stickey reset to scroll y pos "),pageYOffset>dbInfo.playerTop&&!dbInfo.sticUsrClose?dbInfo.playerScroll||(tempVidAnim(),stickCloseEnable(!0),dbInfo.playerScroll=!0,.56==dataBase.vidRatio?(dbInfo.baseContainer.width(200),dbInfo.baseContainer.height(355),dbInfo.baseContainer.css({position:"fixed",minHeight:"192px",top:dbInfo.docH-dbInfo.baseContainer.height()-30+"px",left:dbInfo.docW-dbInfo.baseContainer.width()-30+"px",border:"1px solid white",boxShadow:"0px 0px 10px #000",zIndex:"999784505007"})):(dbInfo.baseContainer.css({position:"fixed",minHeight:"192px",top:dbInfo.docH-260+"px",left:dbInfo.docW-350+"px",border:"1px solid white",boxShadow:"0px 0px 10px #000",zIndex:"999784505007"}),dbInfo.baseContainer.width(320),dbInfo.baseContainer.height(240)),dbInfo.mainContainer.addClass("min-mode-actv"),$(".ndvideo_wrap").css("z-index","2147483647"),restStage(),window.postMessage('{"type":"__cube","action":"daddy","elem":"","val":"show"}',"*")):(dbInfo.mainContainer.removeClass("min-mode-actv"),resetYScroll()),restStage(),clearTimeout(dbInfo.scrollTimeout),dbInfo.scrollTimeout=setTimeout(restStage,50)}return!1}function resetYScroll(){return dbInfo.playerScroll&&(window.postMessage('{"type":"__cube","action":"son","elem":"","val":"show"}',"*"),dbInfo.playerScroll=!1,stickCloseEnable(!1),dbInfo.mainContainer.removeClass("scroll_vid_effect"),dbInfo.baseContainer.css({position:"",top:"0px",minHeight:"100%",left:"0px",border:"0px solid black",boxShadow:"0px 0px 0px ",zIndex:"100"}),$(".ndvideo_wrap").css("z-index","120"),updateLog("in resetYScroll: "+dbInfo.baseContainer.width()+"/"+dbInfo.baseContainer.height()+" ;  stage object  - width: "+dataBase.stageObj.width+" ; "+dataBase.stageObj.height),dbInfo.baseContainer.width("100%"),dbInfo.baseContainer.height("100%"),dbInfo.vidContainer.width()>501&&($("#affiliateHolder")&&$("#affiliateHolder").removeClass("affiliateOnMob"),$("#pollHolder")&&$("#pollHolder").removeClass("pollVodOnMob"),$("#faceOffHolder")&&$("#faceOffHolder").removeClass("faceoffOnMob")),401>dbInfo.vidContainer.width()?($("#mobUnmute").css("right","3px"),$("#mobUnmute").is(":visible")&&dataBase.cube&&$("#mainCubeHolder").css("left","0px")):$("#mobUnmute").is(":visible")&&dataBase.cube&&$("#mainCubeHolder").css("left","45px")),!1}function findPosY(t){var e=0;try{if(void 0!==t.offsetParent&&t.offsetParent){for(;t.offsetParent;)e+=t.offsetTop,t=t.offsetParent;e+=t.offsetTop}else t.y&&(e+=t.y)}catch(a){}return e+125}function settingClick(t){return t.preventDefault(),dbInfo.settingArea.is(":visible")?(dbInfo.settingArea.hide(),dbInfo.settingBtn.addClass("setting_acw"),dbInfo.settingBtn.removeClass("setting_cw")):(dbInfo.settingArea.show(),dbInfo.settingBtn.addClass("setting_cw"),dbInfo.settingBtn.removeClass("setting_acw")),updateLog("Setting button"),!1}function animBkwd(){return vidEvent.isAnim||(vidEvent.isAnim=!0,clearTimeout(vidEvent.animTimeout),dbInfo.seekBkwd_anm.removeClass("box_bkwd").addClass("box_acw box_transition"),$("#lft_circl").removeClass("box_bkwd").addClass("box_acw box_transition"),vidEvent.animTimeout=setTimeout(clearBkwd,300)),!1}function clearBkwd(){return clearTimeout(vidEvent.animTimeout),vidEvent.isAnim=!1,dbInfo.seekBkwd_anm.removeClass("box_acw box_transition").addClass("box_bkwd"),$("#lft_circl").removeClass("box_acw box_transition").addClass("box_bkwd"),!1}function animFwd(){return vidEvent.isAnim||(vidEvent.isAnim=!0,clearTimeout(vidEvent.animTimeout),dbInfo.seekForwd_anm.removeClass("box_fwd").addClass("box_cw box_transition"),$("#rgt_circl").removeClass("box_fwd").addClass("box_cw box_transition"),vidEvent.animTimeout=setTimeout(clearFwd,300)),!1}function clearFwd(){return clearTimeout(vidEvent.animTimeout),vidEvent.isAnim=!1,dbInfo.seekForwd_anm.removeClass("box_cw box_transition").addClass("box_fwd"),$("#rgt_circl").removeClass("box_cw box_transition").addClass("box_fwd"),!1}function seekVideo(t){return t.preventDefault(),t.stopPropagation(),"seekBkwd"==t.target.id?updateSeekTime("bkwd"):"seekForwd"!=t.target.id||!dataBase.initPlayer||dataBase.videoCompleted||dataBase.isAdPlaying||updateSeekTime("fwd"),!1}function updateSeekTime(t){if(dataBase.initPlayer&&!dataBase.videoCompleted&&!dataBase.isAdPlaying){var e=Math.round(dbInfo.mainVid[0].currentTime),a=Math.round(dbInfo.mainVid[0].duration);tapContIncrement++,void 0!=cs_obj&&cs_obj.sa&&cs_obj.sa.notifySeekStart(),"fwd"==t?e<a-10&&(dbInfo.mainVid[0].currentTime+=10,Number(dataBase.t)>0&&(dataBase.t=dbInfo.mainVid[0].currentTime),$(".skp_nxt").addClass("js_skp-nxt"),$(".btn_wrp").addClass("js_btn-act"),$("#seekForwd").addClass("skp_btn_hid"),$("#seekBtnsRight").addClass("skp_btn_hid"),setTimeout(function(){$(".skp_nxt").removeClass("js_skp-nxt"),$(".btn_wrp").removeClass("js_btn-act"),$("#seekForwd").removeClass("skp_btn_hid"),$("#seekBtnsRight").removeClass("skp_btn_hid")},600)):"bkwd"==t&&e>12&&(dbInfo.mainVid[0].currentTime-=10,Number(dataBase.t)>0&&(dataBase.t=dbInfo.mainVid[0].currentTime),updateLog("dbInfo.mainVid[0].currentTime: "+dbInfo.mainVid[0].currentTime),$(".skp_prv").addClass("js_skp-prv"),$(".btn_wrp").addClass("js_btn-act"),$("#seekBkwd").addClass("skp_btn_hid"),$("#seekBtnsLeft").addClass("skp_btn_hid"),setTimeout(600))}return!1}unction updateKeyEvent(t){if(!vidInfo.vidSelect||dataBase.isAdPlaying)return!1;if("input"!==t.target.nodeName.toLowerCase()&&"textarea"!==t.target.nodeName.toLowerCase()&&!t.ctrlKey&&!t.altKey&&!t.shiftKey){(t=t||window.event).preventDefault(),t.stopPropagation();try{if(null==dataBase.deviceId){var e=-1;if(e="firefox"==dataBase.browserId?t.which:t.keyCode,17==e)return!1;32!=e||!dataBase.initPlayer||dataBase.videoCompleted||dataBase.isAdPlaying?37==e?!dataBase.initPlayer||dataBase.isLive||dataBase.videoCompleted||dataBase.isAdPlaying||updateSeekTime("bkwd"):39!=e||!dataBase.initPlayer||dataBase.isLive||dataBase.videoCompleted||dataBase.isAdPlaying||updateSeekTime("fwd"):togglePlayPause(t)}}catch(a){}}return!1}function mouse_down(t){return t.preventDefault(),t.stopPropagation(),updateLog("mousedown Entered......"),!1}function menuClick(e){e.preventDefault(),e.stopPropagation(),$(document).unbind("mousedown",mainMouseDown);var a="";switch(a="mpcg.ndtv.in"==document.domain||"rajasthan.ndtv.in"==document.domain?`<iframe allow='autoplay; fullscreen' src='https://${document.domain}/videos/embed-player/?site=classic&id=${dataBase.id}&autostart=false&autoplay=0&${updateEmbedHeight(dataBase.vidRatio)} frameborder='0' scrolling='no' allowfullscreen='true' webkitallowfullscreen='true' mozallowfullscreen='true'> </iframe>`:`<iframe allow='autoplay; fullscreen' src='https://www.ndtv.com/video/embed-player/?site=classic&id=${dataBase.id}&autostart=false&autoplay=0&${updateEmbedHeight(dataBase.vidRatio)} frameborder='0' scrolling='no' allowfullscreen='true' webkitallowfullscreen='true' mozallowfullscreen='true'> </iframe>`,$(this).attr("data-action")){case"1":window.open(String(dbAccess.basePath+dbAccess.feedback),"_blank");break;case"2":clipBoard(String(dataBase.link));break;case"3":copyFromTime();break;case"4":clipBoard(a);break;case"6":window.open(String("https://www.ndtv.com/convergence/ndtv/new/termsofusage.aspx"),"_blank");break;default:updateLog("default click ")}return $(".custom-HTML5menu").hide(),dbInfo.rightMenus.hide(100),!1}function copyFromTime(){-1!=String(dataBase.link).indexOf("?")?clipBoard(String(dataBase.link)+"&t="+Math.floor(dbInfo.mainVid[0].currentTime)):clipBoard(String(dataBase.link)+"?t="+Math.floor(dbInfo.mainVid[0].currentTime))}function rightClickItems(t){t.preventDefault(),t.stopPropagation(),$(document).bind("mousedown",mainMouseDown);try{if(isFullScreen())d=dbInfo.vidContainer.width()-t.pageX,i=dbInfo.vidContainer.height()-t.pageY,e=d>dbInfo.rightMenus.width()?t.pageX:dbInfo.vidContainer.width()-dbInfo.rightMenus.width(),a=i>dbInfo.rightMenus.height()?t.pageY:dbInfo.vidContainer.height()-dbInfo.rightMenus.height();else{var e,a,d,i;e=t.pageX-dbInfo.vidContainer.parent().offset().left,a=t.pageY-dbInfo.vidContainer.parent().offset().top,e+dbInfo.rightMenus.width()>dbInfo.vidContainer.width()&&(e=dbInfo.vidContainer.width()-dbInfo.rightMenus.width()),a+dbInfo.rightMenus.height()>dbInfo.vidContainer.height()&&(a=dbInfo.vidContainer.height()-dbInfo.rightMenus.height())}dbInfo.rightMenus.css({left:e+"px",top:a+"px"}),dbInfo.rightMenus.toggle(100),$(".custom-HTML5menu").show()}catch(o){}return!1}function hideVol(){return dbInfo.mainContainer.find(".vol-move-right").removeClass("vol-move-right").addClass("vol-move-left"),!1}function updateEmbedHeight(t){var e="";return void 0!=t&&t>1.6?"pWidth=500&pHeight=281&category=embed' width='500' height='281'":void 0!=t&&.56==t?"pWidth=250&pHeight=444&category=embed' width='250' height='444'":"pWidth=420&pHeight=315&category=embed' width='420' height='315'"}function mainMouseDown(t){t.preventDefault(),t.stopPropagation(),$(document).unbind("mousedown",mainMouseDown);try{!$(t.target).parents(".custom-HTML5menu").length>0&&($(".custom-HTML5menu").hide(100),dbInfo.rightMenus.hide(100))}catch(e){}return!1}function clipBoard(t){var e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=t,document.body.appendChild(e),e.select();try{document.execCommand("copy")}catch(a){}return document.body.removeChild(e),!1}function onDimUpdate(t){t.preventDefault();try{onDimClick()}catch(e){updateLog("OOPS! dim function not found")}return!1}function seekBegin(t){return t.preventDefault(),!1}function seekCompleted(t){return t.preventDefault(),!1}function mainVidError(t){updateLog("OOPS! Error found on main Video.....")}function animOver(t){return t.preventDefault(),!1}function animOut(t){return t.preventDefault(),!1}function updateAolUrls(){updateLog("in updateAolUrls"),aolInfo.updateMidVast=new XMLHttpRequest,aolInfo.updateMidVast.onreadystatechange=updateMidVastStatus}function vidCompleted(){if(dataBase.isAdPlaying)updateLog("========Video ADS COMPLETED successfully : isAdPlaying: "+dataBase.isAdPlaying+" ; countAds: "+dataBase.countAds),nextAdsInit();else{if(dataBase.isLive)return!1;updateLog("Main Video completed waiting for postroll ads...."),clearTimeout(dbInfo.vidCompTimeout),dataBase.videoCompleted=!0,updateLog("dataBase.adpoint.postroll: "+dataBase.adpoint.postroll),dataBase.adpoint.postroll&&null==dataBase.deviceId?(updateLog("Postroll ads found....requesting postroll video"),requestAdtech(2)):dataBase.isLive?playLiveTv():(updateLog("main vid Completed successfully"),mainVidCompleted())}return!1}function updateResumeAds(){return updateLog("in updateResumeAds"),null==dataBase.deviceId&&("firefox"==dataBase.browserId||"gecko"==dataBase.browserId||"ie"==dataBase.browserId)&&exitFull(),!1}function clearTimerEvents(){try{clearTimeout(aolInfo.adTimeOut),clearInterval(dataBase.dfpTimer),clearInterval(gimaObj.intervalTimer),clearInterval(dataBase.delayTimer),clearTimeout(aolInfo.clsads),clearInterval(liveInfo.liveTimer),clearInterval(dataBase.delayTimer)}catch(t){}return!1}function resumeContent(){updateLog("==========######### CONTENT RESUME ENTER #######=============="),clearTimeout(dbInfo.prebidTimer),clearTimeout(aolInfo.adTimeOut),clearInterval(dataBase.dfpTimer),clearInterval(gimaObj.intervalTimer),clearInterval(dataBase.delayTimer),clearTimeout(aolInfo.clsads),clearInterval(liveInfo.liveTimer),clearInterval(dataBase.delayTimer),dataBase.cube&&($("#muteBtn").hasClass("cht_mut-ac")?setTimeout(function(){$("#muteBtn").removeClass("cht_mut-ac"),dataBase.cube&&setTimeout(function(){updateLog("fading cube"),resetAllAds(),dataBase.isAdPlaying||$("#mainCubeHolder").fadeIn()},500)},3e3):dataBase.cube&&setTimeout(function(){updateLog("fading cube"),resetAllAds(),dataBase.isAdPlaying||$("#mainCubeHolder").fadeIn()},500)),dataBase.forapp&&!dataBase.isLive&&dbInfo.controlBar.show(),dbInfo.preloader.show(),dbInfo.prevLoader.hide();try{dataBase.deviceId&&0==dataBase.currRollId&&dataBase.adpoint.preroll&&onContentStart()}catch(t){}return dbInfo.mainContainer.find(".adTimerBase").hide(),dataBase.dfpTag=null,dataBase.midCount=0,dataBase.dfpHitCount=0,dataBase.ima_default=!1,dataBase.dfpTRunning=!0,dataBase.dfpMaxCount=0,dataBase.dfpHitCount=0,dataBase.dfpMaxHit=null,dataBase.dfpMaxTime=null,clearTimerEvents(),gimaObj.loading=!1,dataBase.dfpTRunning=!1,liveInfo.adPlaying=!1,liveInfo.process=!1,liveInfo.resumed=!0,aolInfo.timeout=!1,dataBase.adProcess=!1,aolInfo.clsads=setTimeout(clearAdsInfo,2e3),dbInfo.adContainer.hide(),removeIMAEvents(),dbInfo.mainContainer.find(".adTimer").text(""),aolInfo.adTimeOut=!1,updateLog("dataBase.isAdPlaying:  "+dataBase.isAdPlaying+" - dataBase.adpoint.preroll-"+dataBase.adpoint.preroll),dataBase.adpoint.preroll&&!dataBase.isAdPlaying||(dataBase.isAdPlaying=!1,void 0!=cs_obj&&cs_obj.sa&&(startComscore(),cs_obj.sa.notifyPlay()),dataBase.forapp&&!dataBase.isLive&&dbInfo.controlBar.show(),updateCurrView(),updateLog("isAdPlaying: "+dataBase.isAdPlaying+" ; dataBase.videoCompleted: "+dataBase.videoCompleted),dataBase.videoCompleted?dataBase.isLive||(updateLog("----Main VideoCompleted...."),mainVidCompleted()):(show10SecBtn(),showHideChap(),dbInfo.playPause.is(":visible")&&dbInfo.controlBar.find(".vc-icon-play").removeClass("vc-icon-play").addClass("vc-icon-pause"),dbInfo.centerPlay.hide(),dbInfo.mctrlbar.hide(),showPreloader(),dbInfo.adPreloader.hide(),dbInfo.vidHolder.show(),dbInfo.vidContainer.show(),dbInfo.mainVid.show(),dataBase.forapp&&!dataBase.isLive&&dbInfo.controlBar.show(),dataBase.inAdvMode=!1,isMobilePl.iOS()?(updateLog("_____iOS Requesting....."),dbInfo.mainVid.off("loadedmetadata",loadMetaFirst),dataBase.isLive?updateMediaFile2(dataBase.file,!0):updateMediaFile2(dataBase.file,!1)):(updateLog("-----OTHER Cond....."),dataBase.isLive?(dbInfo.mainVid.off("loadedmetadata",loadMetaFirst),updateMediaFile2(dataBase.file,!0)):(dbInfo.mainVid[0].play(),dbInfo.mainVid.on("timeupdate",updateQos),dbInfo.mainVid.on("loadedmetadata",loadMetaFirst),loadMetaFirst())),"miuibrowser"==detectBrowser()&&(clearTimeout(dbInfo.loadmedia),dbInfo.loadmedia=setTimeout(function(){dbInfo.mainVid.off("loadedmetadata",loadMetaFirst),updateMediaFile2(dataBase.file,!0),updateLog("----MI Browser ")},1500)),dbInfo.mctrlbar.hide(),(dataBase.isLive||0==dataBase.currRollId)&&(updateLog("playing Live/precomp video main video....."),dbInfo.mainVid.show(),dataBase.lastAdTime=0,dbInfo.mainContainer.find(".adTimer").text(""),dbInfo.mainContainer.find(".adTimerBase").hide()),updateLog(""),updateLog(""),dataBase.isLive||(dbInfo.controlBar.find(".videocontrols-seeker").show(),dbInfo.controlBar.find(".videocontrols-progressbar").show()),dbInfo.controlBar.find(".videocontrols-timer").show(),updateDimLight(!0),updateSkin(),showControl(),dbInfo.seekBtnsLeft.hide(),dbInfo.seekBtnsRight.hide(),$("#nextChap").hide(),$("#prevChap").hide(),stageResize(),initLiveMidroll(),dbInfo.mainContainer.find(".adTimer").text(""),updateResumeAds(),dbInfo.vidThumbAds.show())),dbInfo.mainContainer.find(".adTimer").text(""),clearTimeout(aolInfo.adTimeOut),dataBase.isPip&&dbInfo.vidContainer.width()>400&&(vidPicInPic.style.display="inline-block"),updateLog("----- VIDEO RESUMED Successfully -  Google IMA SDK destroy successfully - adsManager: "+gimaObj.adsManager),!1}function updateMeta(){return clearTimeout(dbInfo.loadmedia),dbInfo.centerPlay.hide(),dbInfo.mainVid.off("error",videoError),updateLog("Video meta loaded AFTER RESUME Content ...."),0==dataBase.currRollId&&seekFromT(Number(dataBase.t)),updatePromisePlay(dbInfo.mainVid[0].play()),dbInfo.mainVid.show(),hideControl(),dbInfo.mainContainer.find(".adTimer").text(""),dbInfo.btnInit=!0,dbInfo.preloader.hide(),updateScaleVideo(),!1}function updatePromisePlay(t){return(-1==String(window.location.href).indexOf("/play-via-app/")||!0==dataBase.mutestart)&&(void 0===t?updateLog("Promisified video play() not supported - "):t.then(function(){}).catch(function(t){return(updateLog("!! Error initiating video playback: "+t),updateLog("Video Pause State :  "+dbInfo.mainVid[0].paused),dataBase.forapp&&dataBase.isLive)?(dbInfo.controlBar.hide(),!0):-1!=String(t).indexOf("NotSupportedError")?(updateLog("Requesting media source again..........MI BROWSER "),clearTimeout(dbInfo.loadmedia),dbInfo.preloader.show(),dbInfo.mainVid.off("loadedmetadata",loadMetaFirst),updateMediaFile2(dataBase.file,!0),!1):!dataBase.isAdPlaying&&void(dbInfo.mainVid[0].paused&&(dbInfo.preloader.hide(),dbInfo.adPreloader.hide(),updatePauseBtns(),dbInfo.centerPlay.show()))}),!1)}function seekFromT(t){if(!dataBase.isLive&&!dataBase.isAdPlaying&&Number(t)>0){var e=0;if(clearTimeout(dbInfo.timSekfrm),dbInfo.mainVid[0].seekable.length){var a=dbInfo.mainVid[0].muted;if(a||(dbInfo.mainVid[0].muted=!0),dbInfo.mainVid.parent().hide(),dbInfo.mainVid[0].seekable.end(0)>=t)var d=function d(){dbInfo.mainVid[0].currentTime=t,clearTimeout(i),dbInfo.mainVid[0].play(),function o(){if(dbInfo.mainVid[0].currentTime>t)dbInfo.mainVid[0].volume=1,a||(dbInfo.mainVid[0].muted=!1),dbInfo.mainVid.parent().show();else{if(!(e<5))return e=0,i=setTimeout(d,100),!1;e++,setTimeout(o,300)}}()},i=setTimeout(d,100)}else dbInfo.mainVid.parent().hide(),dbInfo.timSekfrm=setTimeout(1e3)}return!1}function loadedMetadataHandler(t){if(updateScaleVideo(),dbInfo.mainContainer.find(".adTimer").text(""),dbInfo.btnInit=!0,dbInfo.mainVid[0].seekable.length){if(dbInfo.mainVid.show(),dbInfo.mainVid[0].seekable.end(0)>dataBase.lastAdTime){updateLog("video meta is seekable -----2 "),dbInfo.mainVid.off("loadedmetadata",loadedMetadataHandler),dbInfo.mainVid[0].play();var e=setTimeout(function(){dbInfo.mainVid[0].currentTime=dataBase.lastAdTime,clearTimeout(e),dbInfo.mainVid.show(),hideControl(),updateLog("video current time : "+dbInfo.mainVid[0].currentTime+" :  "+dataBase.lastAdTime)},100);updateLog("Video resumed successfully")}}else updateLog("Trying again to load video ......"),setTimeout(loadedMetadataHandler,100);dbInfo.mainVid.show()}function resetAllAds(){try{dbInfo.mainContainer.find(".adTimer").text(""),clearInterval(gimaObj.intervalTimer),dbInfo.mainContainer.off("click",toggleAdPlay),gimaObj.adError=!0,dataBase.lastPauseTime=0,removeIMAEvents()}catch(t){}updateLog("========*******  resetAllAds")}function clearAdsInfo(){gimaObj.loading||(dataBase.adTechObj=null,clearTimeout(aolInfo.adTimeOut),clearInterval(gimaObj.intervalTimer),clearTimeout(aolInfo.clsads),dbInfo.mainContainer.find(".adTimer").text(""),aolInfo.adTimeOut=!1,dbInfo.adContainer.hide(),removeIMAEvents())}function initAutoStart(t){if(updateLog("in initAutoStart"),dataBase.initApplication){if(!1==dataBase.initPlayer){if(updateLog("dataBase.initApplication:  "+dataBase.initApplication),!dataBase.initMedia){if(dataBase.initMedia=!0,dataBase.isLive&&dataBase.adpoint.dai){updateLog("in live for DAI initial: "+DAI_ASSET_KEY);try{setupDAI(),requestLiveStream(DAI_ASSET_KEY,null,dataBase.daiURL)}catch(e){updateLog("in else No DAI because of AdBlocker or DAI SDK not supported, loading: "+dataBase.file),updateLog("Error DAI: "+e),updateLog("trying DAI direct url Or display adblocker removal msg"),updateMediaFile2(dataBase.file,!1)}}else updateLog("in else No DAI"),updateMediaFile2(dataBase.file,!1)}initVideo()}else dataBase.isAdPlaying?toggleAdPlay():updatePlayPause(t)}else updateLog("initAutoStart- OUT ");return!1}function initDashVid(){updateLog(""),updateLog("------DASH initDesktopLIVE -------"),dbInfo.dashVidCont=dashjs.MediaPlayer().create(dbInfo.mainVidElem),dbInfo.dashVidCont.initialize(dbInfo.mainVidElem,String(dataBase.media_dash),!0)}function clearHLS(){updateLog("in clearHLS");try{dataBase.hlsVid&&dataBase.hlsVid.destroy()}catch(t){updateLog("Error in HLS destroyed")}}var tempDVRLoad=!0;function initHLSVid(){updateLog(""),updateLog("------initHLSVid() -------"+dataBase.file),void 0==dataBase.file&&dataBase.isLive&&dataBase.adpoint.dai&&(updateLog("in undefined check for stream url"),dataBase.file=DAI_DIRECT_URL),clearHLS(),dataBase.hlsVid=new Hls,dataBase.hlsVid.attachMedia(dbInfo.mainVidElm),dataBase.hlsVid.on(Hls.Events.MEDIA_ATTACHED,function(){dataBase.hlsVid.loadSource(dataBase.file),dataBase.isLive&&(dataBase.hlsVid.startLevel=1,parseHLSInfo(dataBase.file)),dataBase.hlsVid.on(Hls.Events.FRAG_PARSING_METADATA,function(t,e){streamManager&&e&&e.samples.forEach(}),dataBase.hlsVid.on(Hls.Events.MANIFEST_PARSED,function(t,e){updateLog("manifest loaded, found "+e.levels.length+" quality level");try{-1!=dataBase.file.indexOf(".bitgravity.com")&&dataBase.isLive&&e.levels[0].bitrate<1e5&&(dataBase.hlsVid.abrController._nextAutoLevel=1)}catch(a){updateLog("OOPS! Error found in switching bitgravity video from 0-1")}}),dataBase.hlsVid.on(Hls.Events.MEDIA_DETACHED,function(t,e){updateLog("Media detached!!"),null==dataBase.deviceId&&-1!=String(window.navigator.userAgent).indexOf("Windows NT 5.1")&&("LIVE_BG24x7"==dataBase.id||"LIVE_BGINDIA"==dataBase.id||"LIVE_BGPROFIT"==dataBase.id?(updateLog("----HLS Media error found........."),clearHLS(),updateHLSSingle(dataBase.id),initHLSVid()):updateLog("Media detached!! VOD OTHER URL"))}),dataBase.hlsVid.on(Hls.Events.LEVEL_LOADED,function(t,e){e.details.totalduration>200&&!tempDVRLoad&&dataBase.isLive&&(tempDVRLoad=!0,dataBase.DVRWindow=e.details.totalduration,forLiveDVRFeed())}),dataBase.hlsVid.on(Hls.Events.FRAG_LOADING,function(t,e){}),dataBase.hlsVid.on(Hls.Events.LEVEL_LOADING,,dataBase.hlsVid.on(Hls.Events.ERROR,function(t,e){if(e.fatal)switch(e.type){case Hls.ErrorTypes.NETWORK_ERROR:updateLog("OOPS! HLS file not found fatal network error encountered, try to recover"),(dataBase.isLive||void 0==dataBase.media_mp4||null==dataBase.media_mp4||""==dataBase.media_mp4)&&(++retryHLS_nd>1&&dataBase.isLive?autoBackup("VideoError: FATAL HLS NETWORK_ERROR"):dataBase.hlsVid.startLoad());break;case Hls.ErrorTypes.MEDIA_ERROR:updateLog("fatal media error encountered, try to recover"),("LIVE_BG24x7"==dataBase.id||"LIVE_BGINDIA"==dataBase.id||"LIVE_BGPROFIT"==dataBase.id)&&(updateLog("----HLS Media error found........."),updateHLSSingle(dataBase.id),initHLSVid());break;default:updateLog("in default - fatal media error encountered, destroy now!!"),dataBase.hlsVid.destroy(),++retryHLS_nd>1&&dataBase.isLive?autoBackup("VideoError: FATAL HLS DEFAULT ERROR"):dataBase.isAdPlaying||initHLSVid()}else e.type===Hls.ErrorTypes.NETWORK_ERROR?(updateLog("NETWORK error without fatal"),++retryHLS_nd>1&&dataBase.isLive&&(initHLSVid(),retryHLS_nd=0)):(updateLog("Default NETWORK error without fatal"),++retryHLS_nd>1&&dataBase.isLive&&!dataBase.isDVR&&(initHLSVid(),retryHLS_nd=0))})})}function autoBackup(t){currentStreamBackup="bg",clearHLS(),dataBase.adpoint.midroll=!0,dataBase.currRollId=1,updateAolUrls(),"LIVE_BG24x7"==dataBase.id?dataBase.file="https://ndtv.pc.cdn.bitgravity.com/ndtv/live/amlst:ndtv_24X7_,48,128,256,382,512,.smil/playlist.m3u8":"LIVE_BGINDIA"==dataBase.id?dataBase.file="https://ndtv.pc.cdn.bitgravity.com/ndtv/live/amlst:ndtv_india_,48,128,256,382,512,.smil/playlist.m3u8":"LIVE_BGPROFIT"==dataBase.id&&(dataBase.file="https://ndtv.pc.cdn.bitgravity.com/ndtv/live/amlst:ndtv_profit_,48,128,256,382,512,.smil/playlist.m3u8"),initHLSVid(),updateGAPEvent("ContentError",String(dataBase.id)+"-Auto switching to BG",String(dataBase.id),""==t?"NA":t)}function updateHLSSingle(t){return updateLog("in updateHLSSingle"),dataBase.file=dataBase.singleBitrate,updateLog("updateHLSSingle A: "+dataBase.singleBitrate),!1}function parseHLSInfo(t){updateLog("In parseHLSInfo: "+t);var e,a=t.split("/"),d=a[0]+"//"+a[2],i=[];$.ajax({type:"GET",url:t,success:function a(o){i=o=o.trim().split(/\s*[\r\n]+\s*/g),-1!=o[3].indexOf("https://")||-1!=o[3].indexOf("http://")?e=o[3]:"/"==o[3][0]?e=d+o[3]:((t=t.split("/")).pop(),e=(t=t.join("/"))+"/"+(o[5]?o[5]:o[3]))},complete:function t(e){try{for(var a,o=[],n=0;n<i.length;n++)-1!=i[n].indexOf("m3u8")&&(-1!=i[n].indexOf("http")?o.push(i[n]):o.push(d+""+i[n]));o.length>2&&(a=o.length-1),dataBase.singleBitrate=o[a]}catch(s){console.log("ajax error handled in parseHLSInfo function for complete event")}},error:function t(e,a,d){updateLog("In parseHLSInfo: "+d)}})}function dashMetaLoaded(t){return updateLog("DASH Meta Data Loaded........"),loadMetaFirst(t),!1}function dashEvents(t){return updateLog("["+new Date().toLocaleTimeString()+"] event.type:  "+event.type+"<br/>"),!1}unction vidoeFill(t){return updateLog("in vidoeFill: "+t),dbInfo.vidHolder.height("100%"),dbInfo.vidHolder.width("100%"),dbInfo.mainVid.css("object-fit",t),centerAlign(dbInfo.vidHolder,dbInfo.vidContainer),!1}function scaleVid(t,e){var a,d,i;if(t>1.6)i=dbInfo.vidContainer.height(),(a=Math.round(e/16*9))>i?(a=Math.round((d=Math.round(i/9*16))/16*9),dbInfo.vidHolder.width(d)):a=Math.round(e/16*9),dbInfo.vidHolder.height(a),centerAlign(dbInfo.vidHolder,dbInfo.vidContainer);else if(t<1)vidoeFill("contain");else if(1==t){updateLog("vidContainer.width :"+dbInfo.vidContainer.width()+"  vidContainer.width:  "+dbInfo.vidContainer.height()),dbInfo.vidHolder.width(dbInfo.vidContainer.width()),dbInfo.vidHolder.height(dbInfo.vidContainer.height());var o=dbInfo.mainVid[0].videoWidth,n=dbInfo.mainVid[0].videoHeight;o/n>dbInfo.vidHolder.width()/dbInfo.vidHolder.height()?(updateLog("0:0 case 1 "),dbInfo.vidHolder.width(dbInfo.vidHolder.width()),dbInfo.vidHolder.height(dbInfo.vidHolder.width()*(n/o))):(updateLog("1:1 case 2 "+dbInfo.vidHolder.height()*(o/n)),dbInfo.vidHolder.height(dbInfo.vidHolder.height()),dbInfo.vidHolder.width(dbInfo.vidHolder.height()*(o/n))),centerAlign(dbInfo.vidHolder,dbInfo.vidContainer)}else(a=Math.round(e/4*3))>dbInfo.vidContainer.height()?(dbInfo.vidHolder.height(dbInfo.vidContainer.height()),vidoeFill("fill")):dbInfo.vidHolder.height(a),centerAlign(dbInfo.vidHolder,dbInfo.vidContainer);return!1}function initLiveMidroll(){return updateLog("---------Init LIVE Midrolls"),dataBase.isLive?!liveInfo.started&&dataBase.isLive&&dataBase.switchurl?(updateLog("LIVE midroll requestLiveTvAds....."),requestLiveTvAds()):(updateLog("LIVE midroll already running....."),updateLiveMidStatus()):updateLog("initLiveMidroll OUT "),!1}function loadMetaFirst(t){if(t&&t.preventDefault(),!dataBase.initPlayer)return dbInfo.mainVid[0].volume=0,!1;if(dataBase.initPromise||dataBase.isAdPlaying)return!1;updateLog("Video meta data mdata loaded successfully!>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>"),startComscore(),updateScaleVideo(),updateLog("db.t: "+dataBase.t+" ====  dataBase.lastAdTime: "+dataBase.lastAdTime+" ; currRollId: "+dataBase.currRollId),0==dataBase.currRollId&&seekFromT(Number(dataBase.t)),1==dataBase.currRollId&&seekFromT(Number(dataBase.lastAdTime)),updatePromisePlay(dbInfo.mainVid[0].play()),dbInfo.mainVid.show(),dataBase.forapp&&!dataBase.isLive&&dbInfo.controlBar.show(),hideControl(),dbInfo.vidContainer.show(),updateSkin(),liveInfo.started=!1,initLiveMidroll(),hideControl(),dbInfo.btnInit=!0,dataBase.isPip&&dbInfo.vidContainer.width()>400&&(vidPicInPic.style.display="inline-block");try{dataBase.deviceId&&onContentStart()}catch(e){}return!1}function videoError(t){if(t.preventDefault(),!dataBase.initPlayer||dataBase.isAdPlaying&&0==dataBase.currRollId)return!1;var e=String(dbInfo.mainVid[0].src.split("?")[0]).substr(-7);if(-1==e.indexOf(".m3u8")&&-1==e.indexOf(".mp4")&&-1==e.indexOf(".webm"))return updateLog("Reloading.....media........"+dataBase.isAdPlaying),clearTimeout(dbInfo.loadmedia),dbInfo.mainVid.off("loadedmetadata",loadMetaFirst),updateMediaFile2(dataBase.file,!0),!1;if(dbInfo.errorFound=!0,dataBase.isAdPlaying||!dataBase.initPlayer||dbInfo.previewImg.is(":visible"))dataBase.isAdPlaying&&resumeContent();else{dbInfo.preloader.hide(),dbInfo.centerPlay.hide(),dbInfo.mainVid.off("error",videoError);var a="",d="";"LIVE_BG24x7"==dataBase.id?(a="https://www.youtube.com/watch?v=zR7HkEa3Swg",d=" for alternate player"):"LIVE_BGINDIA"==dataBase.id?(a="https://www.youtube.com/watch?v=1dAC8nRzUIQ",d=" for alternate player"):"LIVE_BGPROFIT"==dataBase.id?(a="https://www.ndtv.com/video/live/channel/ndtvprofit?ptype=secondaryplayer",d=" for alternate player"):(a="https://www.ndtv.com/convergence/ndtv/new/feedback.aspx",d=" to report this issue");var i='<br>There seems to be a problem.<br><br> Click <a href="#" style="color:#1390ff" onclick=window.open("'+a+'")> here</a>'+d+"<br><br>";updateLog("Condition matched Show Error"),updateErrorView(i),_gaq&&_gaq.push(["_trackEvent","ContentError","html5videoplayer, Video type: "+tpe+", content error: "+dataBase.file+", Network: NDTV, Video ID: "+dataBase.id+", Category: "+dataBase.category+", Device: "+updateGADeviceInfo(dataBase.deviceId)+", autostart:"+dataBase.autostart+", URL:"+String(dataBase.pageurl),dataBase.id]),updateLog("Requesting GAP Tag - ContentError"),updateGAPEvent("ContentError",String(dataBase.id),String(dataBase.id),"NA")}if($("#mobUnmute").hide(),updateLog(""),_gaq&&_gaq.push(["_trackEvent","Error On Load","html5videoplayer, Video type: "+tpe+", status: false , content error: "+dataBase.file+", Network: NDTV, Video ID: "+dataBase.id+", Category: "+dataBase.category+", Device: "+updateGADeviceInfo(dataBase.deviceId)+", autostart:"+dataBase.autostart+", URL:"+String(dataBase.pageurl),dataBase.id]),t.target.error&&t.target.error.code)switch(t.target.error.code){case t.target.error.MEDIA_ERR_ABORTED:updateLog("VideoError: MEDIA_ERR_ABORTED - Aborted the video playback.");break;case t.target.error.MEDIA_ERR_NETWORK:updateLog("VideoError: MEDIA_ERR_NETWORK - A network error caused the video download to fail part-way."),++retryHLS_nd>1&&dataBase.isLive&&autoBackup("VideoError: MEDIA_ERR_NETWORK");break;case t.target.error.MEDIA_ERR_DECODE:updateLog("VideoError: MEDIA_ERR_DECODE - The video playback was aborted due to a corruption problem or because the video used features your browser did not support."),initAutoStart("");break;case t.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:updateLog("VideoError: MEDIA_ERR_SRC_NOT_SUPPORTED - The video could not be loaded, either because the server or network failed or because the format is not supported."),++retryHLS_nd>1&&dataBase.isLive&&autoBackup("VideoError: MEDIA_ERR_SRC_NOT_SUPPORTED");break;default:updateLog("VideoError: An unknown error occurred.")}return!1}function updateErrorView(t){dbInfo.mainVid.off("timeupdate",updateQos),dbInfo.errorView.html(t),dbInfo.errorView.css("text-align","center"),dbInfo.errorView.css("color","#000"),centerAlign(dbInfo.errorView,dbInfo.vidContainer),dbInfo.controlBar.hide(),dbInfo.errorView.show(),updateLog("isVisible: "+dbInfo.errorView.is(":visible")),setInterval(1e3)}function toggleRelated(){return null==dataBase.deviceId&&!dataBase.isLive&&updateObjLen(dataBase.video_related_videos)>0&&dbInfo.vidContainer.width()>=540&&dbInfo.vidContainer.height()>=400&&-1==String(dataBase.scat).indexOf("embed")?(updateLog("-----RELATED VIDEO DISPLAY ---------"),createVidReltd()):(dbInfo.reltd.hide(),dbInfo.prevShow.show()),!1}function mainVidCompleted(){updateLog("main video completed............."),exitFull(),exitPip(),stopComscore(),mobileUnmute("vidCompleted"),clearInterval(liveInfo.liveTimer),clearInterval(dataBase.delayTimer),toggleRelated(),showControl(),dbInfo.prevLoader.hide(),dbInfo.mctrlbar.hide(),dbInfo.seekBtnsLeft.hide(),dbInfo.seekBtnsRight.hide(),dbInfo.vidContainer.hide(),dbInfo.centerPlay.show(),dbInfo.preloader.hide(),dbInfo.btnInit=!1,dataBase.videoCompleted=!0,dataBase.initPlayer=!1,dataBase.replay=!0,dataBase.lastPauseTime=-1,dataBase.lastAdTime=0,dataBase.lastVidTime=0,dataBase.buffered=0,dataBase.videoCompleted=!0,dataBase.videoLoaded=!1,dataBase.isAdPlaying=!1,dbInfo.controlBar.find(".videocontrols-timer").html(secondsToTime(0)+" / "+secondsToTime(0)),dbInfo.vidContainer.find(".videocontrols-loadingbar").css("width","0%"),dbInfo.controlBar.find(".videocontrols-progressbar").css("width","0%"),dbInfo.controlBar.find(".videocontrols-seekbar").css("left","0%");try{dataBase.deviceId&&onContentEnd()}catch(t){updateLog("OOPS ! Error found on JS  call_onContentEnd() ")}try{dbInfo.settingArea.hide()}catch(e){}clearInterval(dataBase.delayTimer),$("#mobUnmute").hide(),setTimeout(updatePrevew,200);try{cbToApp("videoend",{}),onVideoEnd("VideoEnd")}catch(a){}disableVidScroll();try{window.parent.postMessage({func:"onVideoEnd",message:"ndtv"},"*")}catch(d){}return updateLog("document is fullscreen : "+isFullScreen()),updateLog("############# - VIDEO SESSION COMPLETED SUCCESSFULLY - Replay now ##############"),!1}function updateYScrollReset(){dataBase.isSticky&&(updateLog("left: "+dbInfo.baseContainer.position().left),updateLog("top: "+dbInfo.baseContainer.position().top),dbInfo.baseContainer&&dbInfo.baseContainer.position().left>0&&dbInfo.baseContainer.position().top>0&&resetYScroll(),sendMessage("complete-msgvid"),dbInfo.playing=!1)}function videoPlaying(t){return t.preventDefault(),dataBase.isAdPlaying,dbInfo.mainVid[0].buffered.length<1&&showPreloader(),!1}function videoBuffering(t){return dbInfo.mainVid[0].buffered.length<1&&showPreloader(),!1}function updatePauseBtns(t){return updateLog("in updatePauseBtns: "+dataBase.adProcess+" - "+dbInfo.playPause.is(":visible")),t&&t.preventDefault(),!dataBase.adProcess&&dbInfo.playPause.is(":visible")&&(dbInfo.controlBar.find(".vc-icon-pause").removeClass("vc-icon-pause").addClass("vc-icon-play"),$("#playPause").attr("data-tooltip","Play")),isMobilePl.iOS()?dbInfo.mainVid[0].paused&&(updateLog("in mobile A"),dbInfo.vidContainer.find(".vc-icon-mobileCenterPause").removeClass("vc-icon-mobileCenterPause").addClass("vc-icon-mobileCenterPlay")):updateLog("in non mobile"),dataBase.isAdPlaying||showControl(),stageResize(),!1}function updatePlayBtns(t){return t&&t.preventDefault(),stageResize(),dbInfo.playPause.is(":visible")&&(dbInfo.controlBar.find(".vc-icon-play").removeClass("vc-icon-play").addClass("vc-icon-pause"),$("#playPause").attr("data-tooltip","Pause")),!1}function playLiveTv(){if(null==dataBase.deviceId){animPlayClicked();var t=setTimeout(e,440);return!1}function e(){dbInfo.preloader.show(),clearTimeout(t),dbInfo.mctrlbar.hide(),dbInfo.mainVid.first().attr("src",""),dbInfo.mainVid.off("loadedmetadata",loadMetaFirst),updateMediaFile2(dataBase.file,!0),hideControl(),updateLiveMidStatus(),dbInfo.playPause.is(":visible")&&dbInfo.controlBar.find(".vc-icon-play").removeClass("vc-icon-play").addClass("vc-icon-pause");try{onContPlay()}catch(e){}}return e(),!1}function updatePlayPause(t){var e=$("#mobUnmute");if(updateLog("in updatePlayPause"),e.is(":visible")){var e=$("#mobUnmute");mobileUnmute(t)}if(dataBase.isLive&&!dataBase.isAdPlaying){if(updateLog("dbInfo.mainVid[0].paused:  "+dbInfo.mainVid[0].paused),dbInfo.mainVid[0].paused)dataBase.isDVR?dbInfo.mainVid[0].play():(playLiveTv(),void 0!=cs_obj&&cs_obj.sa&&(comscoreMeta("LIVE"),cs_obj.sa.notifyPlay()));else{clearInterval(liveInfo.liveTimer),dbInfo.mainVid[0].pause(),void 0!=cs_obj&&cs_obj.sa&&(comscoreMeta("LIVE"),cs_obj.sa.notifyPause()),showControl(),animPauseClicked();try{onContPause()}catch(a){}}}else dbInfo.mainVid[0].paused||dbInfo.mainVid[0].ended?(dbInfo.centerPlay.hide(),dbInfo.mctrlbar.hide(),dbInfo.mainVid[0].play(),updateAdPlayPause(!0,t),hideControl(),animPlayClicked(),void 0!=cs_obj&&cs_obj.sa&&(startComscore(),cs_obj.sa.notifyPlay())):(showControl(),animPauseClicked(),dbInfo.mainVid[0].pause(),updateAdPlayPause(!1,t),void 0!=cs_obj&&cs_obj.sa&&(startComscore(),cs_obj.sa.notifyPause()));return!1}function togglePlayPause(t){return t.preventDefault(),initAutoStart(t.target.id),!1}function drawLShape(t){}function dvrSeek(t){var e=new Date;dbInfo.mainVid[0].currentTime=dbInfo.mainVid[0].seekable.end(0)-(e.getTime()/1e3-t),$(".videocontrols-timer").addClass("dvrindicator")}var liveDVR_bln=!1;function updateQos(t){if(t&&t.preventDefault(),!dataBase.initPlayer||dataBase.isAdPlaying)return!1;if(Math.floor(dbInfo.mainVid[0].currentTime)>=0&&(dbInfo.preloader.hide(),clearTimeout(dbInfo.loadmedia)),dataBase.isLive||dataBase.isAdPlaying){if(dataBase.isDVR){var e=new Date;if(dbInfo.mainVid[0].seekable.length>0){liveDVR_bln||void 0==dataBase.t||(dvrSeek(Number(dataBase.t)),liveDVR_bln=!0);var a=100*dbInfo.mainVid[0].currentTime/dbInfo.mainVid[0].seekable.end(0);for(var d in dbInfo.preloader.hide(),dbInfo.vidContainer.find(".videocontrols-progressbar").css("width",a+"%"),dbInfo.controlBar.find(".videocontrols-seekbar").css("left",a+"%"),dataBase.dvrMarkerData){e.getTime(),dataBase.dvrMarkerData[d].etime;var i=(dbInfo.mainVid[0].seekable.end(0)-(e.getTime()/1e3-dataBase.dvrMarkerData[d].etime))*100/dbInfo.mainVid[0].seekable.end(0);dataBase.dvrGoTo=dbInfo.mainVid[0].seekable.end(0)-(e.getTime()/1e3-dataBase.dvrMarkerData[d].etime),dataBase.dvrMarkerPos=i.toFixed(2),$('[data-key="'.concat(d,'"]')).attr("data-goto",Math.round(dataBase.dvrGoTo)),$('[data-key="'.concat(d,'"]')).css("left",dataBase.dvrMarkerPos+"%")}}}}else{var o=100*dbInfo.mainVid[0].currentTime/dbInfo.mainVid[0].duration;if(dbInfo.preloader.hide(),dbInfo.vidContainer.find(".videocontrols-progressbar").css("width",o+"%"),dbInfo.controlBar.find(".videocontrols-seekbar").css("left",o+"%"),dataBase.forapp?dataBase.isLive||(dbInfo.controlBar.find(".videocontrols-timer").html(secondsToTime(dbInfo.mainVid[0].currentTime)),$("#rightTimerTxt").html(secondsToTime(dbInfo.mainVid[0].duration))):dbInfo.controlBar.find(".videocontrols-timer").html(secondsToTime(dbInfo.mainVid[0].currentTime)+" / "+secondsToTime(dbInfo.mainVid[0].duration)),updateMidAds(Math.round(dbInfo.mainVid[0].currentTime),Math.round(dbInfo.mainVid[0].duration),dataBase.qpoints),updateChapterUI(Math.round(dbInfo.mainVid[0].currentTime)),updateAnnotation(Math.round(dbInfo.mainVid[0].currentTime)),updateAffiliate(Math.round(dbInfo.mainVid[0].currentTime)),updatePollVod(Math.round(dbInfo.mainVid[0].currentTime)),updateFaceOffVod(Math.round(dbInfo.mainVid[0].currentTime)),displayFaceOffNotification(Math.round(dbInfo.mainVid[0].currentTime)),updateCurrTitle(Math.round(dbInfo.mainVid[0].currentTime),o),dataBase.deviceId)try{0==dbInfo.leftTotal&&0==dbInfo.rgtTotal&&(dbInfo.leftTotal=dbInfo.leftTimer.offset().left+dbInfo.leftTimer.width(),dbInfo.rgtTotal=dbInfo.rightTimer.offset().left,dataBase.forapp?dbInfo.controlBar.find(".videocontrols-seeker").width(dbInfo.rgtTotal-dbInfo.leftTotal-75):dataBase.ytChapters?dbInfo.controlBar.find(".videocontrols-seeker").width(dbInfo.controlBar.width()-30):dbInfo.controlBar.find(".videocontrols-seeker").width(dbInfo.rgtTotal-dbInfo.leftTotal-50))}catch(n){}try{dbInfo.mainContainer.find(".adTimer").text("")}catch(s){}!dataBase.isLive&&o>99&&o<100&&dbInfo.mainVid[0].paused&&!dataBase.videoCompleted&&(clearTimeout(dbInfo.vidCompTimeout),dbInfo.vidCompTimeout=setTimeout(vidCompleted,700))}dbInfo.mainVid[0].currentTime>0&&!dataBase.inAdvMode&&dbInfo.preloader.hide();try{dataBase.isAdPlaying&&null!=dataBase.adTechObj&&dataBase.adTechObj[dataBase.countAds]&&!dataBase.adTechObj[dataBase.countAds].wrapper&&updateAdQos(dbInfo.mainVid[0].duration-dbInfo.mainVid[0].currentTime,dbInfo.mainVid[0].duration)}catch(r){}return dbInfo.errorView.hide(),!1}unction updateMidAds(t,e,a){if(t!=dataBase.lastVidTime&&t<e-60&&(dataBase.lastVidTime=t,dataBase.adpoint.midroll&&gimaObj.init))try{for(var d in a)if(Math.round(t)==Math.round(a[d].startTime)){updateLog(""),updateLog(""),updateLog(" LastAdtime : "+dataBase.lastAdTime+" ;  Current Time: "+t);var i=t>1&&t>dataBase.lastAdTime+2;updateLog("======= endRes: "+i),i&&(dataBase.inAdvMode=!0,dataBase.lastMidrollTime=secondsToTime(a[d].startTime),startMidLiveAds());break}}catch(o){}}function startMidLiveAds(){return updateLog("=====================STARTED MIDROLL ADS==============="),dataBase.adProcess=!0,dataBase.isAdPlaying=!0,dbInfo.mainVid[0].pause(),dbInfo.mainVid.off("timeupdate",updateQos),showPreloader(),dataBase.lastAdTime=Math.round(dbInfo.mainVid[0].currentTime),requestAdtech(1),dbInfo.centerPlay.hide(),!1}function videoMetaData(i){if(i.preventDefault(),updateLog("in videoMetaData, Video WxH:-"+dbInfo.mainVid[0].videoWidth+"x"+dbInfo.mainVid[0].videoHeight+" chap obj sprite: "+vidInfo.chptObj+" ratio: "+(dbInfo.mainVid[0].videoHeight/dbInfo.mainVid[0].videoWidth*100).toFixed(2)+"%"),!ismetaloaded_nd&&dbInfo.mainVid[0].videoWidth>0){ismetaloaded_nd=!0;var d=(dbInfo.mainVid[0].videoHeight/dbInfo.mainVid[0].videoWidth*100).toFixed(2);56.25==d||56.21==d?$(dataBase.parentDiv).parent().addClass("Ply_img-gr Ply_img-gr_a"):66.66==d?$(dataBase.parentDiv).parent().addClass("Ply_img-gr Ply_img-gr_b"):75==d?$(dataBase.parentDiv).parent().addClass("Ply_img-gr Ply_img-gr_c"):100==d?($(dataBase.parentDiv).parent().addClass("Ply_img-gr Ply_img-gr_d"),$(dataBase.parentDiv).parent().parent().addClass("Ply_sq_max-vid")):177.78==d?$(dataBase.parentDiv).parent().addClass("Ply_img-gr Ply_img-gr_g"):222.22==d&&$(dataBase.parentDiv).parent().addClass("Ply_img-gr Ply_img-gr_h"),dataBase.vidRatio=(dbInfo.mainVid[0].videoWidth/dbInfo.mainVid[0].videoHeight).toFixed(2),updateChaptParams(dataBase),createSeekImgHolder(vidInfo.chptObj)}if("canplaythrough"==String(i.type)&&(stageResize(),dbInfo.btnInit=!0),!dbInfo.mainVid.attr("height")&&this.videoHeight>0&&dbInfo.mainVid.attr("height",this.videoHeight),!dbInfo.mainVid.attr("width")&&this.videoWidth>0&&dbInfo.mainVid.attr("width",this.videoWidth),dbInfo.mainVid[0].buffered&&dbInfo.mainVid[0].buffered.length>0)for(var a=0;a<dbInfo.mainVid[0].buffered.length;a++){var t=dbInfo.mainVid[0].buffered.end(a);if(t>dataBase.buffered){dataBase.buffered=t;var e=t/dbInfo.mainVid[0].duration*100;dbInfo.vidContainer.find(".videocontrols-loadingbar").css("width",e+"%")}}return!1}function updateGAPEvent(t,e,a,d){var i="NA",o="NA",n="NA";if("NA"!=dataBase.date){var s=new Date(dataBase.date);i=s.getFullYear(),o=s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1,n=10>s.getDate()?"0"+s.getDate():s.getDate()}return"true"==String(dataBase.isGap)&&dataLayer.push({event:"tvc_vidtrack_event",eventCategory:t,eventAction:e,eventLabel:a,errorStatus:d,videoId:String(dataBase.id),channel:String(dataBase.channel),videoForm:String(dataBase.content_type),show:String(dataBase.show),network:String(dataBase.vidsource),adFormat:String(dataBase.prmadpoint),title:String(dataBase.title),videoType:updateVidType(),videoCategory:String(dataBase.category)+vidFromSource(),alias:String(dataBase.aliasInit),autostart:String(dataBase.autostart),device:updateGADeviceInfo(dataBase.deviceId),url:String(dataBase.pageurl),publicationyear:i,publicationmonth:o,publicationday:n,publicationdate:n+"-"+o+"-"+i,author:String(dataBase.author)}),updateLog("----- GAP updated successfully --- eventCategory:  "+t),!1}function vidFromSource(){var t="";return"NA"!=dataBase.video_from?"-"+String(dataBase.video_from).toLowerCase():""}function initVideo(){updateLog("-------initVideo--------SETUP"),updateImaInit(),dbInfo.centerPlay.hide(),dbInfo.mctrlbar.hide(),dbInfo.seekBtnsLeft.hide(),dbInfo.seekBtnsRight.hide(),showPreloader(),clearTimerEvents(),dbInfo.playPause.is(":visible")&&dbInfo.controlBar.find(".vc-icon-play").removeClass("vc-icon-play").addClass("vc-icon-pause"),dbInfo.mainVid.muted="1"==localStorageGetItem("videocontrols-muted"),dbInfo.vidContainer.show(),dbInfo.controlBar.hide(),dbInfo.prevShow.hide(),dataBase.inAdvMode=!1,dataBase.lastPauseTime=0,dataBase.midCount=0,dataBase.buffered=0,dataBase.currRollId=0,dataBase.lastMidrollTime=0,dataBase.videoCompleted=!1,dataBase.videoLoaded=!1,dataBase.adProcess=!1,dataBase.lastAdTime=0,dataBase.lastVidTime=0,dataBase.isGADone=!1,dataBase.isAdPlaying=!1,dataBase.gaUpdate=!1,dataBase.initPlayer=!0,stageResize();try{$(".custom-HTML5menu").hide(),dbInfo.rightMenus.hide(100)}catch(t){}try{_gaq&&(_gaq.push(["_trackEvent","PlayerInit","html5videoplayer, Video type: "+tpe+", channel: "+updateChannel(String(dataBase.channel))+", videoform: "+String(dataBase.content_type)+", show: "+String(dataBase.show)+", Network: NDTV, Video ID: "+dataBase.id+durLess60(dataBase)+", Category: "+dataBase.category+", alias: "+dataBase.aliasInit+", Device: "+updateGADeviceInfo(dataBase.deviceId)+", autostart: "+dataBase.autostart+", URL: "+String(dataBase.pageurl),dataBase.id]),"LIVE"==String(dataBase.id).substring(0,4)?_gaq.push(["_trackPageview","html5videoplayer/LIVE/"+dataBase.id+String(dataBase.pageurl)]):_gaq.push(["_trackPageview","html5videoplayer/ON-DEMAND/"+String(dataBase.pageurl)]))}catch(e){}updateLog("Requesting GAP Tag - PlayerInit"),void 0!=dataBase.fromwindow?dataBase.fromwindow="-"+dataBase.fromwindow:dataBase.fromwindow="",updateGAPEvent("PlayerInit",String(dataBase.id+durLess60(dataBase))+dataBase.fromwindow,String(dataBase.id)+dataBase.fromwindow,"NA"),loadComscoreScript();try{dataBase.deviceId&&onUserInit()}catch(a){}dataBase.isSticky&&(sendMessage("msgvid-true"),dbInfo.playing=!0),updateLog("---InitVideo---successfully"),setupPIP(),dataBase.adpoint.preroll?(updateLog("---InitVideo---Load Preroll"),requestAdtech(0)):(updateLog("---InitVideo---Play content"),loadMetaFirst());try{window.parent.postMessage({func:"onVideoStart",message:"ndtv"},"*")}catch(d){}return $("#muteBtn").hasClass("cht_mut-ac")?setTimeout(function(){$("#muteBtn").removeClass("cht_mut-ac"),dataBase.cube&&setTimeout(function(){updateLog("fading cube"),resetAllAds(),dataBase.isAdPlaying||$("#mainCubeHolder").fadeIn()},500)},3e3):dataBase.cube&&setTimeout(function(){updateLog("fading cube"),resetAllAds(),dataBase.isAdPlaying||$("#mainCubeHolder").fadeIn()},500),!1}function stopLiveDash(){if(null==dataBase.deviceId&&dataBase.dashInfo&&dataBase.isLive)try{var t=dbInfo.mainVidElem;1==dataBase.currRollId&&t.src?(t.pause(),t.src="",t.load()):updateLog("------   dash video cleared.....")}catch(e){updateLog("OOPS! stopLiveDash issue found......")}return!1}function requestAdtech(t){return updateLog("------REQUESTING CURRENT AD PLAY  : "+updateCurrView(dataBase.currRollId)),exitPip(),(isMobilePl.iOS()||"miuibrowser"==detectBrowser()||dataBase.isLive)&&clearHLS(),dataBase.currRollId=t,dataBase.adProcess=!0,dataBase.adStarted=!1,dbInfo.centerPlay.hide(),dbInfo.adCenterPlay2.hide(),stopLiveDash(),updateDimLight(!1),dataBase.ima_default=!1,dataBase.skipped=!1,dataBase.currNetwork="",dbInfo.btnInit=!1,450>=dbInfo.vidContainer.width()?dbInfo.mainContainer.find(".adTimerBase").width(dbInfo.vidContainer.width()-140):dbInfo.mainContainer.find(".adTimerBase").width(dbInfo.vidContainer.width()-180),dbInfo.mainContainer.find(".adTimerBase").hide(),clearTimeout(aolInfo.adTimeOut),clearTimeout(aolInfo.clsads),dbInfo.vidThumbAds.hide(),dataBase.view=updateCurrView(dataBase.currRollId),dbInfo.controlBar.hide(),showPreloader(),dbInfo.vidHolder.hide(),dataBase.isAdPlaying=!0,dataBase.deviceId&&-1!=String(dataBase.deviceId).indexOf("iPhone")?dbInfo.rightAdControl.hide():dbInfo.rightAdControl.show(),show10SecBtn(),showHideChap(),dataBase.forapp&&(dataBase.isLive||dbInfo.controlBar.hide(),dbInfo.adControlBar.hide(),dbInfo.rightAdControl.hide()),0==dataBase.currRollId&&dataBase.adpoint.preroll?updateAdNetwork():1==dataBase.currRollId&&dataBase.adpoint.midroll?updateAdNetwork():2==dataBase.currRollId&&dataBase.adpoint.postroll?updateAdNetwork():resumeContent(),!1}function updateAdNetwork(){clearTimeout(aolInfo.adTimeOut),aolInfo.adTimeOut=setTimeout(updateTimeout,12e3),updateLog("aolInfo.adTimeOut:  "+aolInfo.adTimeOut),updateLog("=== updateAdNetwork---");var t=getParamValByName("utm_campaign"),e=getCookieVal("__ngutmtags"),a="";return""!=t&&null!=t?(setCookie("__ngutmtags",t,"0",".ndtv.com"),a="&cust_params=UTM%3D"+t):""!=e&&(a="&cust_params=UTM%3D"+e),dataBase.ima_default=!1,dataBase.adnetwork="dfp",apstag.fetchBids({slots:[{slotID:"videoSlot",mediaType:"video"}]},function(d){updateLog("bids"+d+", "+d.length,dataBase.category,dataBase.deviceId,updateDesktop(dataBase.deviceId));var i="";d.length>0?d.forEach(function(t){"video"===t.mediaType&&(i=t.encodedQsParams||t.helpers.encodedQsParams())}):i="",updateLog("cust_params: "+i),dataBase.dfpTag=updateDFPTag(updateCategory(String(dataBase.category).toLowerCase(),dataBase.channel,!0))+"&cust_params="+i,""!=a&&(dataBase.dfpTag=dataBase.dfpTag+a);var o=getCookieVal("__usrloc");void 0!=o&&null!=o&&""!=o&&"EU"==o&&(dataBase.dfpTag=dataBase.dfpTag+"&npa=1"),updateLog("dataBase.dfpTag:  "+dataBase.dfpTag),updateLog("------gimaObj.init: "+gimaObj.init+"| trTagVal: "+e+" ; utm_param_campaign: "+t+"finalParam : "+a+" | GDPR : "+o),clearTimeout(dbInfo.prebidTimer),gimaObj.init?(updateDFPMaxTime(),InitGimaSetup()):resumeContent()}),!1}function updateAdsMessage(i){return dataBase.adsCount="",i>0&&dbInfo.mainContainer.find(".adTimerBase").show(),0==dataBase.currRollId?450>=dbInfo.mainContainer.width()||dataBase.deviceId?dbInfo.mainContainer.find(".adTimer").text(dataBase.adsCount+"Advertisement. "+secondsToTime(i)+" seconds."):dbInfo.mainContainer.find(".adTimer").text(dataBase.adsCount+"This is an advertisement. Your video will start in "+secondsToTime(i)+" seconds."):1==dataBase.currRollId?450>=dbInfo.mainContainer.width()||dataBase.deviceId?"LIVE_BG24x7"==dataBase.id||"LIVE_BGINDIA"==dataBase.id||"LIVE_BGPROFIT"==dataBase.id||"LIVE_NDTVPROFIT"==dataBase.id||"LIVE_BGMPCG"==dataBase.id||"LIVE_BGRAJ"==dataBase.id?dbInfo.mainContainer.find(".adTimer").text(dataBase.adsCount+"TV is on a commercial break."):dbInfo.mainContainer.find(".adTimer").text(dataBase.adsCount+"This is a commercial break."):"LIVE_BG24x7"==dataBase.id||"LIVE_BGINDIA"==dataBase.id||"LIVE_BGPROFIT"==dataBase.id||"LIVE_NDTVPROFIT"==dataBase.id||"LIVE_BGMPCG"==dataBase.id||"LIVE_BGRAJ"==dataBase.id?dbInfo.mainContainer.find(".adTimer").text(dataBase.adsCount+"TV is on a commercial break. Live programming will resume shortly."):dbInfo.mainContainer.find(".adTimer").text(dataBase.adsCount+"This is a commercial break. Your video will resume shortly."):"LIVE_BG24x7"==dataBase.id||"LIVE_BGINDIA"==dataBase.id||"LIVE_BGPROFIT"==dataBase.id||"LIVE_NDTVPROFIT"==dataBase.id||"LIVE_BGMPCG"==dataBase.id||"LIVE_BGRAJ"==dataBase.id?dbInfo.mainContainer.find(".adTimer").text(dataBase.adsCount+"TV is on a commercial break."):dbInfo.mainContainer.find(".adTimer").text(dataBase.adsCount+"This is a commercial break."),!1}function nextAdsInit(){if(updateLog("<<<-----------------nextAdsInit----------------->>>>"),clearInterval(gimaObj.intervalTimer),removeIMAEvents(),dbInfo.mainVid.hide(),dbInfo.adContainer.hide(),dbInfo.controlBar.hide(),dbInfo.adControlBar.hide(),dbInfo.rightAdControl.hide(),dbInfo.mainContainer.find(".adTimer").text(""),aolInfo.firstEvt=!1,aolInfo.midEvt=!1,aolInfo.thirdEvt=!1,aolInfo.completeEvt=!1,aolInfo.timeout=!1,$("#adProgress").width("0%"),dataBase.countAds<dataBase.totalAds-1){if(dataBase.skipped=!1,dataBase.countAds++,updateLog(""),updateLog("======== NEXT ADS: "+(dataBase.countAds+1)+" / "+dataBase.totalAds+" : IMA SDK Ads : "+dataBase.adTechObj[dataBase.countAds].wrapper),dataBase.adTechObj&&dataBase.adTechObj[dataBase.countAds]&&dataBase.adTechObj[dataBase.countAds].wrapper){dataBase.isWrapper=!0;var t=dataBase.adTechObj[dataBase.countAds].vastAdUrl;-1!=String(t).indexOf("doubleclick.net")||-1!=String(t).indexOf("ima3vpaid.appspot.com")?(dataBase.forapp?(dbInfo.adControlBar.hide(),dbInfo.rightAdControl.hide(),dataBase.isLive||dbInfo.controlBar.hide()):dbInfo.adControlBar.show(),dbInfo.rightAdControl.show(),InitGimaSetup()):updateInnerWrapper(t)}else dataBase.isWrapper=!1,dataBase.deviceId?(updateLog(">>>>  Mobile Adtech Ads playing -------- "),startMobileAdt()):(updateLog(">>>> Desktop Adtech Ads found and playing ......"),startMobileAdt())}else updateLog("============ RESUME VIDEO ==== ALL ADS COMPLETED : "+(dataBase.countAds+1)+" / "+dataBase.totalAds),resumeContent();return!1}function initDashHLS(){try{if(updateLog("in initDashHLS A"),Hls.isSupported())updateLog("in initDashHLS B"),initHLSVid();else{updateLog("OOPS! HLS Not supported "),dbInfo.errorFound=!0,dbInfo.preloader.hide(),dbInfo.centerPlay.hide();var t='<br> Unsupported browser ! <br> To report this error, please <b></b> <a href="https://www.ndtv.com/convergence/ndtv/new/feedback.aspx" target="_blank">click here.  <br><br>';updateErrorView(t)}}catch(e){dbInfo.errorFound=!0,dbInfo.preloader.hide(),dbInfo.centerPlay.hide(),dbInfo.mainVid.off("error",videoError);var t='<br> Unsupported browser ! <br> To report this error, please <b></b> <a href="https://www.ndtv.com/convergence/ndtv/new/feedback.aspx" target="_blank">click here.  <br><br>';updateErrorView(t),updateLog("OOPS! hls.min.js not available please add it here.")}return!1}function vidElemState(e){if(updateLog("Vid Element Status:  "+e.type),"suspend"==e.type)dataBase.isLive||dataBase.isSuspend||(dataBase.isSuspend=!0,void 0!=dataBase.media_mp4&&null!=dataBase.media_mp4&&""!=String(dataBase.media_mp4)&&(dataBase.file=dataBase.media_mp4),updateLog("dataBase.isAdPlaying:  "+dataBase.isAdPlaying),dataBase.isAdPlaying?(updateLog("Ads already playing......."),dataBase.fatalError=!0):(updateLog("LoadingMainVideo......."),dbInfo.mainVid.off("loadedmetadata",loadMetaFirst),updateMediaFile2(dataBase.file,!0)));else if("play"==e.type)updateLog("play called"),$("#playPause").attr("data-tooltip","Pause"),drawLShape(!1),dbInfo.errorView.hide(),updateLog("retryHLS_nd: "+(retryHLS_nd=0)),dbInfo.centerPlay.is(":visible")&&dbInfo.centerPlay.hide(),mCtrlTimeOut=setTimeout(function(){$("#seekBkwd, #seekForwd, #nextChap, #prevChap").removeClass("seek_btn_act"),$(".overlayCtrl, #controlBar, #mctrlbar, #seekBtnsLeft, #seekBtnsRight, #affiliateHolder").fadeOut(100),$("#nextChap, #prevChap").fadeIn(),dataBase.deviceId&&$("#nextChap, #prevChap, #affiliateHolder").fadeOut(100),dataBase.cbVisible=!1},100);else if("pause"==e.type){if(updateLog("pause called"),drawLShape(!0),dataBase.isDVR&&dataBase.isLive&&$(".videocontrols-timer").addClass("dvrindicator"),null!=dataBase.deviceId)for(var a=$("#affiliateHolder"),i=0;i<a.children().length;i++)a.find("#aff"+i).hasClass("hideon")||a.find("#aff"+i).css("display");$(".close_time").hasClass("dismissvote")&&clearTimeout(continuePlayingObj)}else"playing"==e.type?(updateLog("playing called"),dbInfo.errorView.hide()):"waiting"==e.type&&void 0!=cs_obj&&cs_obj.sa&&cs_obj.sa.notifyPlay();return!1}navigator.sayswho=function(){var t,e=navigator.appName,a=navigator.userAgent,d=a.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return d&&null!=(t=a.match(/version\/([\.\d]+)/i))&&(d[2]=t[1]),d=d?[d[1],d[2]]:[e,navigator.appVersion,"-?"]}();var browser_version=navigator.sayswho;browser_version=String(browser_version).split(",");var majorVer=browser_version[1].split(".");function updateMediaFile2(t,e){if(dbInfo.mainVid){if(-1!=String(dataBase.id).toLowerCase().indexOf("live"))switch(String(dataBase.id)){case"LIVE_BG24x7":dbInfo.mainVidElm.title="Watch NDTV 24X7 Live";break;case"LIVE_BGINDIA":dbInfo.mainVidElm.title="Watch NDTV India Live";break;case"LIVE_BGPROFIT":case"LIVE_NDTVPROFIT":dbInfo.mainVidElm.title="Watch NDTV Profit Live";break;case"LIVE_BGMPCG":dbInfo.mainVidElm.title="Watch NDTV MP Chhattisgarh Live";break;case"LIVE_BGRAJ":dbInfo.mainVidElm.title="Watch NDTV Rajasthan Live"}else dbInfo.mainVidElm.title=dataBase.title;dbInfo.centerPlay.hide(),dbInfo.preloader.show(),updateLog("-----Loading media url: "+t+" - "+e);var a=String(t.split("?")[0]).substr(-7).toLowerCase(),d=-1!=a.indexOf(".m3u8"),i=-1!=a.indexOf(".webm"),o="video/mp4";if(d?o="application/x-mpegURL":i&&(o="video/webm"),updateLog("param check: "+dataBase.isAdPlaying+" - "+d+" - "+Hls.isSupported()+" - "+dataBase.browserId+" - "+o),!dataBase.isAdPlaying&&d&&Hls.isSupported()&&"safari"!=dataBase.browserId)initDashHLS(),updateLog("inn if");else{updateLog("Load media Requesting LIVE/VOD inline files to PLAY"),updateLog("else url: "+t);try{!dataBase.isAdPlaying&&d&&Hls.isSupported()&&"Safari"==browser_version[0]&&"14"==majorVer[0]?(updateLog("in browser safari 14"),initDashHLS()):(updateLog("in browser no safari & url: ",t),dbInfo.mainVid[0].src=String(t),dbInfo.mainVid[0].type=o,dbInfo.mainVid[0].loop=!1,dbInfo.mainVid[0].load(),dbInfo.mainVid[0].autoplay=!1,!dataBase.isLive&&isMobilePl.iOS()?(dbInfo.mainVid.on("loadedmetadata",vidMeta),dbInfo.mainVid.on("canplay canplaythrough",vidCanPlay)):(dbInfo.mainVid.on("loadedmetadata",liveVidMeta),dbInfo.mainVid.on("canplay canplaythrough",liveVidCanPlay)),dataBase.deviceId&&(dbInfo.mainVid[0].volume=1))}catch(n){updateLog("in catch: "+n)}}dbInfo.mainVid.off("timeupdate",updateQos),dbInfo.mainVid.off("error",videoError),dbInfo.mainVid.on("timeupdate",updateQos),setInterval(updateQos,500),dbInfo.mainVid.on("error",videoError),e&&(dbInfo.mainVid.off("loadedmetadata",loadMetaFirst),dbInfo.mainVid.on("loadedmetadata",loadMetaFirst)),!dataBase.ismedevt&&(dataBase.ismedevt=!0,dbInfo.mainVid.on("play pause suspend emptied ended error stalled waiting",vidElemState),document.getElementById("contElem").textTracks.addEventListener("addtrack",function(t){updateLog("in addtrack event"),"metadata"===t.track.kind&&(t.track.mode="hidden",t.track.addEventListener("cuechange",function(t){var e=t.target.activeCues[0];if(e){if(streamManager){var a,d=_createForOfIteratorHelper(t.target.activeCues);try{for(d.s();!(a=d.n()).done;){var i=a.value,o={};o[i.value.key]=i.value.data,streamManager.onTimedMetadata(o),"TIT3"==i.value.key&&parseLiveEvent(i.value.data)}}catch(n){d.e(n)}finally{d.f()}}else{var s,r=_createForOfIteratorHelper(t.target.activeCues);try{for(r.s();!(s=r.n()).done;){var l=s.value;"TIT3"==l.value.key&&parseLiveEvent(l.value.data)}}catch(c){r.e(c)}finally{r.f()}}updateLog("ID3 info: "+e.value.key+" - "+e.value.info+" - "+e.value.data+" - "+String(e.value.data).length)}}))}))}}unction liveVidCanPlay(t){dataBase.isLive&&(console.log("in liveVidCanPlay"),dbInfo.mainVid[0].seekable.end(0)>60&&!tempDVRLoad&&(tempDVRLoad=!0,dataBase.DVRWindow=dbInfo.mainVid[0].seekable.end(0),forLiveDVRFeed()))}function forLiveDVRFeed(){dataBase.isDVR=!0,console.log("in forLiveDVRFeed"),$(".videocontrols-timer").addClass("liveDvrIndicator"),$.getJSON("./dvrdata.json",function(){console.log("success")}).done(function(t){for(var e in console.log("DVR success",t,$(".chp_dot")),dataBase.dvrMarkerData=t,t)$(".chp_dot").append('<span class="chp_dot-s" data-key="'.concat(e,'" data-goto=""></span>'))}).fail(,console.log("temp time",dbInfo.mainVid[0].currentTime),dbInfo.controlBar.find(".videocontrols-timer").click(function(t){dbInfo.mainVid[0].currentTime=dbInfo.mainVid[0].seekable.end(0)-2,dataBase.isDVR&&dataBase.isLive&&$(".videocontrols-timer").removeClass("dvrindicator")}),dbInfo.controlBar.find(".videocontrols-seeker").show()}function vidMeta(t){t&&t.preventDefault(),updateLog("in vidMeta: "+t+" - "+dbInfo.mainVid[0])}function vidCanPlay(t){if(updateLog("in vidCanPlay: "+dbInfo.mainVid[0].duration+" - "+dbInfo.mainVid[0].currentTime+" - "+t.type+" - "+dataBase.lastPauseTime+" -isAdPlaying "+dataBase.isAdPlaying+" -dataBase.t: "+dataBase.t),"canplay"==t.type){if(dataBase.lastPauseTime>0&&!dataBase.isAdPlaying){dbInfo.mainVid[0].currentTime=dataBase.lastPauseTime,dbInfo.mainVid[0].play(),updateLog("resuming content with upadted time");return}if(updateLog("resuming content from start"),dbInfo.mainVid[0].play(),Number(dataBase.t)>0){dbInfo.mainVid[0].currentTime=Number(dataBase.t),dataBase.isAdPlaying||dbInfo.mainVid[0].play(),updateLog("playing content with #t");return}}}function parseLiveEvent(t){var e=String(t).split("|");drawLiveEvents(e[0],e[1])}function drawLiveEvents(t,e){$.ajax({type:"POST",url:"https://wapi.ndtv.com/vpolls/v0/api.php?id=".concat(t,"&type=live_").concat(e,"&key=NDTV-1FA91873AC7644FC2F32B37A14D99D0D")}).done(function(a){switch($("#liveEvtHolder").empty(),e){case"ecom":$("#liveEvtHolder").empty(),$("#liveEvtHolder").append('<div class="prd_crd">\n															<div class="prd_crd-wr"> \n																<div class="prd_tx-wr"> \n																	<div class="prd_img-lt">\n																		<img class="prd_p-img" src="'.concat(a.data.prdt_source_large_image,'">\n																	</div>\n			\n																	<div class="prd_tx-md">\n																		<h1 class="prd_tx-h">').concat(a.data.prdt_title,'</h1>\n																		<small class="prd_tx-pr prd_tx-pr-rl">&#8377;').concat(a.data.prdt_source_mrp,'</small>\n																		<small class="prd_tx-pr">&#8377;').concat(a.data.prdt_source_price,'</small>\n																	</div>\n																	<div class="prd_tx-rt">\n																		<div class="prd_img-af">\n																			').concat(a.data.prdt_source_logo?'<img src="pro-lg1.jpg">':"",'\n																		</div>\n																		<a href="#" onclick="affliateOnClick(\'').concat(a.data.prdt_redirect_url,"', '").concat(a.data.prdt_title,'\')" class="prd_tx-btn"> Buy Now</a>\n																	</div>\n			\n																	<span class="prd_cls">\n																		<img class="vj-close" src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ljk3MSA0Ny45NzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ3Ljk3MSA0Ny45NzE7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiPgo8Zz4KCTxwYXRoIGQ9Ik0yOC4yMjgsMjMuOTg2TDQ3LjA5Miw1LjEyMmMxLjE3Mi0xLjE3MSwxLjE3Mi0zLjA3MSwwLTQuMjQyYy0xLjE3Mi0xLjE3Mi0zLjA3LTEuMTcyLTQuMjQyLDBMMjMuOTg2LDE5Ljc0NEw1LjEyMSwwLjg4ICAgYy0xLjE3Mi0xLjE3Mi0zLjA3LTEuMTcyLTQuMjQyLDBjLTEuMTcyLDEuMTcxLTEuMTcyLDMuMDcxLDAsNC4yNDJsMTguODY1LDE4Ljg2NEwwLjg3OSw0Mi44NWMtMS4xNzIsMS4xNzEtMS4xNzIsMy4wNzEsMCw0LjI0MiAgIEMxLjQ2NSw0Ny42NzcsMi4yMzMsNDcuOTcsMyw0Ny45N3MxLjUzNS0wLjI5MywyLjEyMS0wLjg3OWwxOC44NjUtMTguODY0TDQyLjg1LDQ3LjA5MWMwLjU4NiwwLjU4NiwxLjM1NCwwLjg3OSwyLjEyMSwwLjg3OSAgIHMxLjUzNS0wLjI5MywyLjEyMS0wLjg3OWMxLjE3Mi0xLjE3MSwxLjE3Mi0zLjA3MSwwLTQuMjQyTDI4LjIyOCwyMy45ODZ6IiBmaWxsPSIjMDAwMDAwIi8+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==">\n																	</span>\n																	\n																</div>\n																<div class="clear-fix"></div>\n															</div>\n														</div>')),$("#controlBar").hasClass("cb-move-down")&&$(".prd_crd").css("bottom","10px"),setTimeout(function(){$("#liveEvtHolder").addClass("js-prd_hid"),updateGAPEvent("Affiliate",a.data.prdt_title+", Product ID: "+a.data.prdt_source_product_id,String(dataBase.id),"NA")},500),$(".prd_crd .prd_cls").click(function(t){$("#liveEvtHolder").hasClass("js-prd_hid")&&($("#liveEvtHolder").removeClass("js-prd_hid"),updateGAPEvent("Affiliate","Closed - "+a.data.prdt_title+", Product ID: "+a.data.prdt_source_product_id,String(dataBase.id),"NA"))});break;case"poll":$("#affiliateHolder").hide(),$("#liveEvtHolder").append('<div class="pol_wrp js-pol_opn">\n															<h1 class="pol_txt">\n																<img class="pol_icn-lf" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjQgMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDpub25lO30KCS5zdDF7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTAsMGgyNHYyNEgwVjB6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMS44LDAuMUM1LjMsMC4xLDAsNS41LDAsMTJzNS4zLDExLjksMTEuOSwxMS45YzYuNSwwLDExLjktNS4zLDExLjktMTEuOVMxOC40LDAuMSwxMS44LDAuMXogTTguNywxNS45CgljMCwwLjYtMC41LDEuMS0xLjEsMS4xYy0wLjYsMC0xLjEtMC41LTEuMS0xLjF2LTUuM0M2LjUsMTAsNyw5LjYsNy42LDkuNmMwLjYsMCwxLjEsMC41LDEuMSwxLjFWMTUuOXogTTEyLjksMTUuOQoJYzAsMC42LTAuNSwxLjEtMS4xLDEuMWMtMC42LDAtMS4xLTAuNS0xLjEtMS4xVjcuNGMwLTAuNiwwLjUtMS4xLDEuMS0xLjFjMC42LDAsMS4xLDAuNSwxLjEsMS4xVjE1Ljl6IE0xNy4yLDE1LjkKCWMwLDAuNi0wLjUsMS4xLTEuMSwxLjFjLTAuNiwwLTEuMS0wLjUtMS4xLTEuMXYtMi4xYzAtMC42LDAuNS0xLjEsMS4xLTEuMWMwLjYsMCwxLjEsMC41LDEuMSwxLjFWMTUuOXoiLz4KPC9zdmc+Cg==\n																	">\n																<span class="pol_txt-span">'.concat(a.data.poll_heading,'</span>\n							\n																<a class="pol_cls" href="#"><img class="pol_icn-rt" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjQgMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTE3LjcsMTYuM0wxMy40LDEybDQuMy00LjNjMC40LTAuNCwwLjQtMSwwLTEuNGMtMC40LTAuNC0xLTAuNC0xLjQsMEwxMiwxMC42TDcuNyw2LjNjLTAuNC0wLjQtMS0wLjQtMS40LDAKCWMtMC40LDAuNC0wLjQsMSwwLDEuNGw0LjMsNC4zbC00LjMsNC4zQzYuMSwxNi41LDYsMTYuNyw2LDE3YzAsMC42LDAuNCwxLDEsMWMwLjMsMCwwLjUtMC4xLDAuNy0wLjNsNC4zLTQuM2w0LjMsNC4zCgljMC4yLDAuMiwwLjQsMC4zLDAuNywwLjNjMC4zLDAsMC41LTAuMSwwLjctMC4zQzE4LjEsMTcuMywxOC4xLDE2LjcsMTcuNywxNi4zeiIvPgo8L3N2Zz4K"></a>\n															</h1>\n														</div>\n														<!-- Poll popup -->\n														<div class="pol_pop">\n															<div class="pol_pop-wrp">\n																<!-- popup Overlay -->\n																<div class="pol-ovl"></div>\n																<!-- popup poll text -->\n																<span class="pol_txt-pop">').concat(a.data.poll_heading,'</span>\n																<!-- btn wrapper -->\n																<div class="pol_btn-wrp">\n																	<!-- btn one -->\n																	<div class="pol_btn ripple" data-value=').concat(Object.keys(a.data.options)[0]," data-pollid=").concat(t,'>\n																		<span class="pol_btn-tx">').concat(a.data.options.a,'</span>\n																		<span class="pol_per">0%</span>\n																		<span class="pol_bar"></span>\n																	</div>\n																	<!-- btn two -->\n																	<div class="pol_btn ripple" data-value=').concat(Object.keys(a.data.options)[1]," data-pollid=").concat(t,'>\n																		<span class="pol_btn-tx">').concat(a.data.options.b,'</span>\n																		<span class="pol_per">0%</span>\n																		<span class="pol_bar"></span>\n																	</div>\n																</div>\n															</div>\n															\n														</div>')),$("#controlBar").hasClass("cb-move-down")&&($(".pol_wrp").css("bottom","10px"),$(".lnk-out_wrp").css("bottom","10px")),$(".pol_cls").click(function(){$("#liveEvtHolder").empty(),updateGAPEvent("Poll","Closed - "+a.data.poll_heading+", Poll ID: "+t,String(dataBase.id),"NA")}),$(".pol_btn").click(function(){var e=this;$(".pol_btn").css("pointer-events","none"),$.ajax({type:"POST",url:"https://wapi.ndtv.com/vpolls/v0/api.php?video_id=".concat(dataBase.id,"&id=").concat($(this).data("pollid"),"&type=live_poll&option=").concat($(this).data("value"),"&key=NDTV-1FA91873AC7644FC2F32B37A14D99D0D")}).done(function(a){$(e).addClass("pol_high"),$(e).parent().addClass("pol_btn-ac"),Number(a.total)>99&&$(".pol_btn-wrp").append('<p class="pol_stxt">Total number of votes: '.concat(a.total,"</p>")),$(".pol_btn").each(function(t,e){"a"==$(this).data("value")?($(this).find("span.pol_per").text(Math.round(a.options.a/a.total*100)+"%"),$(this).find("span.pol_bar").css("width",Math.round(a.options.a/a.total*100)+"%")):($(this).find("span.pol_per").text(Math.round(a.options.b/a.total*100)+"%"),$(this).find("span.pol_bar").css("width",Math.round(a.options.b/a.total*100)+"%"))}),updateGAPEvent("Poll","Clicked - "+t,String(dataBase.id),"NA")}).fail(function(t,e,a){updateLog("In Poll post parsing error Player js: "+a)})}),setTimeout(function(){updateGAPEvent("Poll",a.data.poll_heading+", Poll ID: "+t,String(dataBase.id),"NA")},500),$(".js-pol_opn, .pol-ovl").click(;break;case"msg":$("#affiliateHolder").hide(),$("#liveEvtHolder").empty(),$("#liveEvtHolder").append('<div class="lnk-out_wrp js-lnk-out_opn">\n								<div class="lnk-out_clo"></div>\n								<h1 class="lnk-out_txt">\n                                    <img class="lnk-out_icn-lf" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KCS5zdDF7b3BhY2l0eTowLjU7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTM3LjgsMjcyLjhDLTExLjUsMTkyLjYsMTMuNSw4Ny42LDkzLjYsMzguMlMyNzguOCwxMy45LDMyOC4xLDk0YzE3LDI3LjYsMjUuNyw1OS40LDI1LjMsOTEuOAoJYy0zLDk0LjItODAuOCwxNjguOC0xNzUuMSwxNjcuOUgyMWwxNi42LTI4LjFDNDcuNSwzMDkuNCw0Ny41LDI4OS4xLDM3LjgsMjcyLjh6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik00NzQuMiw0MTguOGM0OS4zLTgwLjIsMjQuMy0xODUuMi01NS45LTIzNC41Yy0yMC4zLTEyLjUtNDMtMjAuNi02Ni42LTIzLjdjMS4yLDguNCwxLjgsMTYuOCwxLjcsMjUuMgoJYy0zLDk0LjItODAuOCwxNjguOC0xNzUuMSwxNjcuOWgtMTcuOGMxMy45LDg0LjcsODcuMywxNDYuNiwxNzMuMSwxNDYuMUg0OTFsLTE2LjYtMjguMUM0NjQuNiw0NTUuNSw0NjQuNSw0MzUuMSw0NzQuMiw0MTguOHoiLz4KPC9zdmc+Cg==">\n                                    <span class="lnk-out_txt-span">'.concat(a.data.msg,'</span>\n                                    <a class="lnk-out_cls" href="#"><img class="lnk-out_icn-rt" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDQ0NC44IDQ0NC44IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDQuOCA0NDQuODsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiNGRkZGRkY7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zNTIsMTk2LjdMMTY1LjksMTAuOEMxNTksMy42LDE1MC41LDAsMTQwLjIsMHMtMTguOCwzLjYtMjUuNywxMC44TDkyLjgsMzIuM2MtNyw3LTEwLjYsMTUuNi0xMC42LDI1LjcKCQljMCw5LjksMy41LDE4LjYsMTAuNiwyNmwxMzguOCwxMzguNUw5Mi44LDM2MS4yYy03LDctMTAuNiwxNS42LTEwLjYsMjUuN2MwLDkuOSwzLjUsMTguNiwxMC42LDI2bDIxLjcsMjEuNAoJCWM3LDcsMTUuNiwxMC42LDI1LjcsMTAuNmMxMC4xLDAsMTguNy0zLjUsMjUuNy0xMC42TDM1MiwyNDguNGM3LTcuNCwxMC42LTE2LjEsMTAuNi0yNkMzNjIuNiwyMTIuMywzNTkuMSwyMDMuOCwzNTIsMTk2Ljd6Ii8+CjwvZz4KPC9zdmc+Cg=="></a>\n                                </h1>\n							</div>')),setTimeout(function(){updateGAPEvent("Message",a.data.msg+", Poll ID: "+t,String(dataBase.id),"NA")},500),$(".lnk-out_wrp").click(function(e){window.open(a.data.link,"_blank"),updateGAPEvent("Message","Clicked - "+t,String(dataBase.id),"NA")}),$(".lnk-out_clo").click(function(e){e.preventDefault(),$("#liveEvtHolder").empty(),updateGAPEvent("Message","Closed - "+t,String(dataBase.id),"NA")});break;case"close":$("#liveEvtHolder").empty();break;default:return!1}}).fail(}function updateTimeout(){return updateLog("OOPS! Ads Timeout TTTTTTTTTTTTTTTime out........."+dataBase.currRollId),removeIMAEvents(),clearTimeout(aolInfo.adTimeOut),aolInfo.adTimeOut=!1,aolInfo.timeout=!0,_gaq&&_gaq.push(["_trackEvent",dataBase.view,"END, html5videoplayer, Video type: "+dataBase.vidType+", Network: "+dataBase.vidsource+", Video ID: "+dataBase.id+", FailOver TAG: "+dataBase.ima_default+", Ad agency - "+dataBase.adnetwork+"["+updateAdSystem(dataBase)+"]["+dataBase.country+"], ErrorStatus: With Error Ad Timeout for "+dataBase.view+", ErrorMsg: 12 second player timeout, URL: "+dataBase.pageurl+" , 0"]),updateLog("Requesting GAP Tag 3 END - "+dataBase.view),updateGAPEvent(String(dataBase.view),"END, FailOver TAG: "+dataBase.ima_default,"0","With Error Ad Timeout for "+dataBase.view+", ErrorMsg: 12 second player timeout"),clearAdsInfo(),dataBase.ima_default||0==dataBase.currRollId?(0==dataBase.currRollId&&updateLog("Preroll Ad timeout of 12 seconds"),resumeContent()):(dataBase.ima_default=!0,removeIMAEvents(),InitGimaSetup()),!1}function updateImaInit(){if(!gimaObj.init)try{createAdDisplayContainer(),dbInfo.mainContainer.on("click",toggleAdPlay),dbInfo.winArea.on("resize",stageResizeGima),gimaObj.adDisplayContainer.initialize(),gimaObj.init=!0,updateLog("IMA SDK initialize successfully - IMA VERSION:  "+google.ima.VERSION)}catch(t){gimaObj.init=!1,updateLog("OOPS! IMA SDK has blocked or not loaded")}return!1}function toggleAdPlay(t){return!!dataBase.isAdPlaying&&(updateLog("toggle ad play pause....."+t),console.log("in toggleAdPlay"),dataBase.isAdPlaying&&gimaObj.adsManager&&(dbInfo.controlBar.hide(),dbInfo.adClickTrack.hide(),updateLog("toggleAdPlay - -enableDFP--- ; toggleAdPlay - "+gimaObj.adsManager.getVolume()),clearInterval(liveInfo.liveTimer),gimaObj.playState?(gimaObj.playState=!1,dbInfo.adContainer.is(":visible")&&dbInfo.adContainer.find(".vc-icon-pause").removeClass("vc-icon-pause").addClass("vc-icon-play"),gimaObj.adsManager&&gimaObj.adsManager.pause(),dbInfo.controlBar.hide(),dbInfo.adClickTrack.show()):(dbInfo.adClickTrack.hide(),1==dataBase.currRollId&&updateLiveMidStatus(),gimaObj.playState=!0,gimaObj.adsManager&&gimaObj.adsManager.resume(),dbInfo.adContainer.is(":visible")&&dbInfo.adContainer.find(".vc-icon-play").removeClass("vc-icon-play").addClass("vc-icon-pause"))),mobileUnmute(t),!1)}function updateAdQos(t,e){return updateAdsMessage(t),!1}function updateAdPlayPause(t,e){try{Boolean(dataBase.isAdPlaying&&dataBase.adTechObj&&dataBase.adTechObj[dataBase.countAds]&&!dataBase.adTechObj[dataBase.countAds].wrapper)?!1==t&&(updateLog(">>>>>>>>>>>>>>>>>>id ----- UPDATE/PLAY PAUSE:  ID:"+e),-1==String(dataBase.deviceId).indexOf("iPhone")&&"playPause"!=e&&window.open(String(dataBase.adTechObj[dataBase.countAds].clickThrough),"_blank")):!dataBase.isAdPlaying&&dataBase.isLive&&(!0==t?(clearInterval(liveInfo.liveTimer),liveInfo.liveTimer=setInterval(requestLiveTvAds,liveInfo.nextReqTime)):clearInterval(liveInfo.liveTimer))}catch(a){updateLog("ERROR Found ........    updateAdPlayPause ")}return!1}var tcount=0;function InitGimaSetup(){if(console.log("in InitGimaSetup"),removeIMAEvents(),dataBase.isAdPlaying){$("#adProgress").width("0%"),dataBase.currNetwork="imasdk",gimaObj.isSkipable=!1,gimaObj.loading=!0,dbInfo.adContainer.is(":visible")&&dbInfo.adContainer.find(".vc-icon-play").removeClass("vc-icon-play").addClass("vc-icon-pause"),gimaObj.width=dbInfo.vidContainer.width(),gimaObj.height=dbInfo.vidContainer.height(),dbInfo.adCenterPlay2.hide(),dbInfo.centerPlay.hide(),showPreloader(),dbInfo.adPreloader.show(),gimaObj.adsLoaded=!1,gimaObj.adsLoader=new google.ima.AdsLoader(gimaObj.adDisplayContainer),gimaObj.adsLoader.getSettings().setAutoPlayAdBreaks(!1),gimaObj.contentEndedListener=gimaObj.videoContent.addEventListener("ended",gimaObj.contentEndedListener),gimaObj.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,onAdsManagerLoaded,!1),gimaObj.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,onAdError,!1),gimaObj.adsRequest=new google.ima.AdsRequest;var t=dataBase.dfpTag;dataBase.ima_default?dataBase.ima_default&&(t=dataBase.imaUrl):t=dataBase.dfpTag,dataBase.tempad&&(t="https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dskippablelinear&correlator="+new Date().getTime()),-1!=t.indexOf("googleads.g.doubleclick")?gimaObj.adsRequest.adTagUrl=String(t).replace("&amp;","&"):gimaObj.adsRequest.adTagUrl=t,updateLog("autoplayAllowed: "+String(gimaObj.autoplayAllowed)+" | autoplayReqMuted: "+String(gimaObj.autoplayReqMuted)),void 0!=gimaObj.autoplayAllowed&&gimaObj.adsRequest.setAdWillAutoPlay(gimaObj.autoplayAllowed),void 0!=gimaObj.autoplayReqMuted&&gimaObj.adsRequest.setAdWillPlayMuted(gimaObj.autoplayReqMuted),updateLog("FINAL IMA SDK URL:  "+gimaObj.adsRequest.adTagUrl),gimaObj.adsRequest.linearAdSlotWidth=gimaObj.width,gimaObj.adsRequest.linearAdSlotHeight=gimaObj.height,gimaObj.adsRequest.nonLinearAdSlotWidth=gimaObj.width,gimaObj.adsRequest.nonLinearAdSlotHeight=150,gimaObj.adsLoader.requestAds(gimaObj.adsRequest),updateLog("------Waiting for IMA SDK ready ----------")}else updateLog("---OOOPS!!!!!!!!---dataBase.isAdPlaying: "+dataBase.isAdPlaying)}function onAdsManagerLoaded(t){clearTimeout(aolInfo.adTimeOut),dataBase.forapp&&(dbInfo.controlBar.hide(),dbInfo.adControlBar.hide(),dbInfo.rightAdControl.hide()),dbInfo.preloader.show(),updateLog("Ads Manager Loaded successfully IMA VERSION:  "+google.ima.VERSION),gimaObj.adsRenderingSettings=new google.ima.AdsRenderingSettings,gimaObj.adsRenderingSettings.uiElements=[],gimaObj.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!0,gimaObj.adsManager=t.getAdsManager(gimaObj.videoContent,gimaObj.adsRenderingSettings),gimaObj.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,onAdError),gimaObj.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,onPauseRequested),gimaObj.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,contentResumeRequest),gimaObj.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,onAdEvent),gimaObj.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,onAdEvent),gimaObj.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,onAdEvent),gimaObj.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,imaSkipped),gimaObj.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,imaPausedFired),gimaObj.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,imaResumeFired),gimaObj.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,onAdClicked),gimaObj.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,onAdEvent);try{gimaObj.adsManager.init(dbInfo.vidContainer.width(),dbInfo.vidContainer.height(),google.ima.ViewMode.NORMAL),gimaObj.adsLoaded=!0,stageResizeGima(),gimaObj.adsManager.setVolume(dataBase.volumeAds),gimaObj.adsManager.start(),dbInfo.adControlBar.is(":visible")&&dbInfo.adControlBar.find(".vc-icon-play").removeClass("vc-icon-play").addClass("vc-icon-pause"),dbInfo.controlBar.hide(),null==dataBase.deviceId&&dbInfo.adContainer.show(),gimaObj.playState=!0}catch(e){updateLog("gimaObj.adsManager ERROR adsRequest------(5) - adManager success ERROR try Catch"),_gaq&&_gaq.push(["_trackEvent",dataBase.view,"END, html5videoplayer, Video type: "+dataBase.vidType+", Network: "+dataBase.vidsource+", Video ID: "+dataBase.id+", FailOver TAG: "+dataBase.ima_default+", Ad agency - "+dataBase.adnetwork+"["+updateAdSystem(dataBase)+"]["+dataBase.country+"], ErrorStatus: With Error Google IMA SDK AdManager Load Error found, ErrorMsg: IMA SDK AdManager loading issue found - "+e.message+" ,  URL: "+dataBase.pageurl+",0"]),updateLog("Requesting GAP Tag IMA SDK AdManager Load Error"),updateGAPEvent(String(dataBase.view),"END, FailOver TAG: "+dataBase.ima_default,"0","With Error Google IMA SDK AdManager Load Error found, ErrorMsg: IMA SDK AdManager loading issue found - "+e),resumeContent()}return!1}function onAdError(t){updateLog("--onAdError---"),updateLog("onAdError - OOPS! IMA SDK Error  - "+t.getError()+" ;  currRollId: "+dataBase.currRollId+" dataBase.skipped: "+dataBase.skipped+"; dfpCount: "+dataBase.dfpHitCount),updateLog(""),"midroll"==dataBase.view&&dataBase.forcemidroll&&!dataBase.isLive&&(_gaq&&_gaq.push(["_trackEvent","Force Midroll","ERROR, Video type: "+dataBase.vidType+", Viewed at: "+dataBase.lastMidrollTime+", Network: "+dataBase.vidsource+", FailOver TAG: "+dataBase.ima_default+", Video ID: "+dataBase.id+", Category: "+dataBase.category+", alias: "+dataBase.aliasInit+", URL:"+String(dataBase.pageurl),dataBase.lastMidrollTime]),updateLog("Requesting GAP Tag onAdError - Force Midroll"),updateGAPEvent(String(dataBase.view),"Force Midroll, ERROR , FailOver TAG: "+dataBase.ima_default,String(dataBase.lastMidrollTime),"ERROR in forcemidroll"));var e=1==dataBase.currRollId&&dataBase.dfpMaxCount<dataBase.dfpMaxTime&&dataBase.dfpHitCount<dataBase.dfpMaxHit&&!dataBase.ima_default;return e&&updateLog(dataBase.dfpHitCount+" :::: isNext : "+e+" | Reason - dfpMaxCount: "+dataBase.dfpMaxCount+" / "+dataBase.dfpMaxTime+" |  Requested hits: "+dataBase.dfpHitCount+" / "+dataBase.dfpMaxHit+"  | ima default: "+dataBase.ima_default+"  | (VOD:90 sec/3 hit, LIVE:150 sec/5 hit)"),e?(_gaq&&_gaq.push(["_trackEvent",dataBase.view,"END, html5videoplayer, Video type: "+dataBase.vidType+", Network: "+dataBase.vidsource+", Video ID: "+dataBase.id+", FailOver TAG: "+dataBase.ima_default+", Ad agency - "+dataBase.adnetwork+"["+updateAdSystem(dataBase)+"]["+dataBase.country+"], ErrorStatus: With Error Google IMA SDK onAdError found, ErrorMsg: "+t.getError()+", URL: "+dataBase.pageurl+",0"]),updateLog("Requesting GAP Tag IMA SDK on AdError found"),updateGAPEvent(String(dataBase.view),"END, FailOver TAG: "+dataBase.ima_default,"0","With Error Google IMA SDK onAdError found, ErrorMsg: "+t.getError()),nextDFP()):(updateLog("-----------onAdError-------ima_default: "+dataBase.ima_default),dataBase.ima_default?(updateLog("=== All Ads trun completed main and default---requesting content resume"),gimaObj.adError=!0,dataBase.lastPauseTime=dataBase.lastAdTime,_gaq&&_gaq.push(["_trackEvent",dataBase.view,"END, html5videoplayer, Video type: "+dataBase.vidType+", Network: "+dataBase.vidsource+", Video ID: "+dataBase.id+", FailOver TAG: "+dataBase.ima_default+", Ad agency - "+dataBase.adnetwork+"["+updateAdSystem(dataBase)+"]["+dataBase.country+"], ErrorStatus: With Error Google IMA SDK onAdError found, ErrorMsg: "+t.getError()+", URL: "+dataBase.pageurl+",0"]),updateLog("Requesting GAP Tag -- With Error IMA SDK Tag"),updateGAPEvent(String(dataBase.view),"END, FailOver TAG: "+dataBase.ima_default,"0","With Error Google IMA SDK onAdError found, ErrorMsg: "+t.getError()),gimaObj.adsManager&&gimaObj.adsManager.destroy(),resumeContent()):(updateLog(" >>>>>>>   Requesting default Google IMA ads ..."+dataBase.ima_default),_gaq&&_gaq.push(["_trackEvent",dataBase.view,"END, html5videoplayer, Video type: "+dataBase.vidType+", Network: "+dataBase.vidsource+", Video ID: "+dataBase.id+", FailOver TAG: "+dataBase.ima_default+", Ad agency - "+dataBase.adnetwork+"["+updateAdSystem(dataBase)+"]["+dataBase.country+"], ErrorStatus: With Error Google IMA SDK onAdError found, ErrorMsg: "+t.getError()+", URL: "+dataBase.pageurl+",0"]),updateLog("Requesting GAP Tag 11-END Event"),updateGAPEvent(String(dataBase.view),"END, FailOver TAG: "+dataBase.ima_default,"0","With Error Google IMA SDK onAdError found, ErrorMsg: "+t.getError()),updateLog("--------------Requesting...DEFAULT ADS------->>>>>>>> - dataBase.ima_default: "+dataBase.ima_default),dataBase.ima_default=!0,InitGimaSetup())),!1}function createAdDisplayContainer(){return gimaObj.videoContent=document.getElementById("contElem"),gimaObj.adDisplayContainer=new google.ima.AdDisplayContainer(document.getElementById("adContainer"),gimaObj.videoContent),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),!1}function setupDAI(){updateLog("midroll clickThrough div");var t=document.getElementById("contElem"),e=document.getElementById("vidClick"),a=document.getElementById("adUiElem");(streamManager=new google.ima.dai.api.StreamManager(t,a)).setClickElement(e),streamManager.addEventListener([google.ima.dai.api.StreamEvent.Type.LOADED,google.ima.dai.api.StreamEvent.Type.ERROR,google.ima.dai.api.StreamEvent.Type.STARTED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_ENDED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,google.ima.dai.api.StreamEvent.Type.CLICK],onStreamEvent,!1)}function requestLiveStream(t,e,a){updateLog("DAI: requestLiveStream - "),(streamRequest=new google.ima.dai.api.LiveStreamRequest).assetKey=t,streamRequest.apiKey=e||"",streamRequest.adTagParameters={url:a,description_url:a,"dai-ah":1},streamManager.requestStream(streamRequest)}function onStreamEvent(t){switch(updateLog("onStreamEvent: "+t),t.getStreamData(),t.type){case google.ima.dai.api.StreamEvent.Type.LOADED:updateLog("Stream loaded, url: "+t.getStreamData().url),dataBase.file=t.getStreamData().url,updateMediaFile2(t.getStreamData().url,!0);break;case google.ima.dai.api.StreamEvent.Type.ERROR:updateLog("Error loading stream, playing backup stream."+t),updateLog("DAI_DIRECT_URL - "+DAI_DIRECT_URL+" - "+dataBase.file),navigator.userAgent.indexOf(" UCBrowser/")>=0||navigator.userAgent.indexOf("Opera Mini"),updateMediaFile2(dataBase.file,!0);break;case google.ima.dai.api.StreamEvent.Type.STARTED:updateLog("DAI AD STARTED"),$("#liveEvtHolder").empty(),updateGAPEvent("midroll","START, DAI","0","NA");break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:daiMidrollAdStarted();break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:daiMidrollAdEnds();break;case google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED:updateLog("DAI AD_PERIOD_STARTED"),comscoreMeta("midroll");break;case google.ima.dai.api.StreamEvent.Type.AD_PERIOD_ENDED:updateLog("DAI AD_PERIOD_ENDED"),comscoreMeta("LIVE");break;case google.ima.dai.api.StreamEvent.Type.CLICK:updateLog("DAI AD CLICKED and LPU- ");case google.ima.dai.api.StreamEvent.Type.AD_PROGRESS:}}function countDownTimer(t){var e,a,d=t;setInterval(function(){e=parseInt(d/60,10),updateLog((e=e<10?"0"+e:e)+":"+(a=(a=parseInt(d%60,10))<10?"0"+a:a)),--d<0&&(d=t)},1e3)}function daiMidrollAdStarted(){updateLog("DAI Ad Break Started"),$("#vidClick").css("display","block"),$("#adUiElem").css("display","block"),$("#mainCubeHolder").css("display","none"),dbInfo.mainContainer.find("#daiAdMsg").css("display","block"),450>=dbInfo.mainContainer.width()||dataBase.deviceId?dbInfo.mainContainer.find("#daiAdMsg").text("TV is on a commercial break."):dbInfo.mainContainer.find("#daiAdMsg").text("TV is on a commercial break. Live programming will resume shortly.")}function daiMidrollAdEnds(){updateLog("DAI Ad Break Ended"),$("#vidClick").css("display","none"),$("#adUiElem").css("display","none"),$("#mainCubeHolder").css("display","block"),dbInfo.mainContainer.find("#daiAdMsg").css("display","none"),dbInfo.mainContainer.find("#daiAdMsg").text("")}function imaPausedFired(t){return gimaObj.playState=!1,dbInfo.controlBar.hide(),dbInfo.adControlBar.is(":visible")&&dbInfo.adControlBar.find(".vc-icon-pause").removeClass("vc-icon-pause").addClass("vc-icon-play"),1==dataBase.currRollId&&clearInterval(dataBase.dfpTimer),updateLog("IMA PAuse Fired....."),void 0!=cs_obj&&cs_obj.sa&&cs_obj.sa.notifyPause(),!1}function imaResumeFired(){return gimaObj.playState=!0,dbInfo.adControlBar.is(":visible")&&dbInfo.adControlBar.find(".vc-icon-play").removeClass("vc-icon-play").addClass("vc-icon-pause"),dbInfo.adClickTrack.hide(),updateLog("IMA Resume Fired....."),1==dataBase.currRollId&&(dataBase.dfpTimer=setInterval(updateDFPTimer,1e3)),void 0!=cs_obj&&cs_obj.sa&&cs_obj.sa.notifyPlay(),!1}function removeIMAEvents(){try{!gimaObj.loading&&(gimaObj.adsLoader&&(gimaObj.adsLoader.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,onAdsManagerLoaded,!1),gimaObj.adsLoader.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,onAdError,!1)),gimaObj.adsManager&&(gimaObj.adsManager.destroy(),gimaObj.adsManager.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,onAdError),gimaObj.adsManager.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,onPauseRequested),gimaObj.adsManager.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,contentResumeRequest),gimaObj.adsManager.removeEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,onAdEvent),gimaObj.adsManager.removeEventListener(google.ima.AdEvent.Type.LOADED,onAdEvent),gimaObj.adsManager.removeEventListener(google.ima.AdEvent.Type.STARTED,onAdEvent),gimaObj.adsManager.removeEventListener(google.ima.AdEvent.Type.SKIPPED,imaSkipped),gimaObj.adsManager.removeEventListener(google.ima.AdEvent.Type.PAUSED,imaPausedFired),gimaObj.adsManager.removeEventListener(google.ima.AdEvent.Type.RESUMED,imaResumeFired),gimaObj.adsManager=null))}catch(t){gimaObj.adsManager&&gimaObj.adsManager.destroy(),updateLog("OOPS! Error found in removing IMA Events....")}return!1}function imaSkipped(t){return updateLog(":: User has skipped.... "+dataBase.adpoint.preroll),dbInfo.adClickTrack.hide(),dbInfo.centerPlay.hide(),dbInfo.playPause.is(":visible")&&dbInfo.controlBar.find(".vc-icon-pause").removeClass("vc-icon-pause").addClass("vc-icon-play"),dataBase.adpoint.preroll&&mobileUnmute(t),dataBase.skipped=!0,!1}function contentResumeRequest(){updateLog(""),updateLog(""),updateLog("NEXT ADS ---IMA SDK Completed/Resumed successfully :  User skipped : "+dataBase.skipped),dbInfo.vidHolder.hide(),dbInfo.mainContainer.find(".adTimer").text("");var t=1==dataBase.currRollId&&dataBase.dfpMaxCount<dataBase.dfpMaxTime&&dataBase.dfpHitCount<dataBase.dfpMaxHit&&!dataBase.ima_default;return t&&updateLog(dataBase.dfpHitCount+" :::: isNext : "+t+" | Reason - dfpMaxCount: "+dataBase.dfpMaxCount+" / "+dataBase.dfpMaxTime+" |  Requested hits: "+dataBase.dfpHitCount+" / "+dataBase.dfpMaxHit+" | ima default: "+dataBase.ima_default+" |(VOD:90 sec/3 hit, LIVE:150 sec/5 hit)"),dataBase.skipped?(_gaq&&_gaq.push(["_trackEvent",dataBase.view,"END, html5videoplayer, Video type: "+dataBase.vidType+", Network: "+dataBase.vidsource+", Video ID: "+dataBase.id+", FailOver TAG: "+dataBase.ima_default+", Ad agency - "+dataBase.adnetwork+"["+updateAdSystem(dataBase)+"]["+dataBase.country+"], ErrorStatus: No Error user skipped IMA Ads, URL: "+dataBase.pageurl+",0"]),updateLog("Requesting GAP Tag END, No Error user skipped IMA Ads"),updateGAPEvent(String(dataBase.view),"END, FailOver TAG: "+dataBase.ima_default,"0","No Error user skipped IMA Ads")):dataBase.adStarted?(_gaq&&_gaq.push(["_trackEvent",dataBase.view,"END, html5videoplayer, Video type: "+dataBase.vidType+", Network: "+dataBase.vidsource+", Video ID: "+dataBase.id+", FailOver TAG: "+dataBase.ima_default+", Ad agency - "+dataBase.adnetwork+"["+updateAdSystem(dataBase)+"]["+dataBase.country+"], ErrorStatus: No Error Ads completed successfully , URL: "+dataBase.pageurl+" , 0"]),updateLog("Requesting GAP Tag END, No Error Ads completed successfully"),updateGAPEvent(String(dataBase.view),"END, FailOver TAG: "+dataBase.ima_default,"0","No Error Ads completed successfully")):updateLog("---Ads completed without any response event i.e onAdError, onAdStart etc."),t?(updateLog("dataBase.skipped:   "+dataBase.skipped+" ; dataBase.dfpHitCount: "+dataBase.dfpHitCount),nextDFP()):(updateLog("request resume content"),imaResumeCont()),!1}function imaResumeCont(){dbInfo.vidContainer.show(),dbInfo.adPreloader.hide(),dataBase.isLive&&dataBase.skipped?(dbInfo.centerPlay.hide(),dbInfo.playPause.is(":visible")&&dbInfo.controlBar.find(".vc-icon-pause").removeClass("vc-icon-pause").addClass("vc-icon-play"),updateLog("Live IMA SDK Skipped by user - ResumeContent "),resumeContent()):(updateLog("====================DFP RESUME VIDEO -----EXIT"),resumeContent())}function nextDFP(){updateLog("____<<<<< nextDFP >>>>>____"),dataBase.dfpMaxCount<dataBase.dfpMaxTime&&dataBase.dfpHitCount<dataBase.dfpMaxHit?(removeIMAEvents(),clearAdsInfo(),dataBase.dfpHitCount++,updateLog(""),updateLog("=========  >>> Requesting nextDFP().....: "+dataBase.dfpHitCount+"  / "+dataBase.dfpMaxHit+" | ad position: "+dataBase.currRollId+" | ima_default: "+dataBase.ima_default),updateLog(""),requestAdtech(dataBase.currRollId)):(updateLog("EXIT - nextDFP()imaResumeCont-------"),imaResumeCont())}function cbToApp(t,e){if(isMobilePl.iOS())try{e.type=t,window.webkit.messageHandlers.webViewCB.postMessage(JSON.stringify(e))}catch(a){updateLog("@kk error logged for app callback")}}function onAdClicked(t){updateLog("onAdClicked: "+isMobilePl.iOS()),cbToApp("adlpu",{clickThrough:gimaObj.clickThroughUrl})}function onAdEvent(t){var e=t.getAd();switch(dbInfo.adClickTrack.height("60%"),centerAlign(dbInfo.adClickTrack,dbInfo.vidContainer),updateLog("------ onAdEvent :  "+e+" ; adEvent: "+t+" ; adEvent.type: "+t.type),t.type){case google.ima.AdEvent.Type.LOADED:for(var a in dataBase.adStarted=!1,dbInfo.mainContainer.find(".adTimerBase").hide(),$("#adMiniControl").hide(),clearTimeout(aolInfo.adTimeOut),updateImaView(isFullScreen()),null==dataBase.deviceId&&dbInfo.adContainer.css("background","#000"),gimaObj.adsManager.setVolume(dataBase.volumeAds),gimaObj.adEvent=null,gimaObj.adEvent=t.getAd(),gimaObj.clickThroughUrl=t.getAdData().clickThroughUrl,t.getAd())for(var d in t.getAd()[a])"skippable"==d&&(gimaObj.isSkipable=t.getAd()[a][d]);e.isLinear()||(updateLog("OVERLAY ADS: width: "+e.width+" ;  height: "+e.height),nextDFP());break;case google.ima.AdEvent.Type.STARTED:if(gimaObj.isSkipable&&setUISkipable(),$("#adProgress").width("0%"),updateLog("-----google.ima.AdEvent.Type.STARTED---- Ads Time/duration: "+gimaObj.adsManager.getRemainingTime()+" / "+e.getDuration()),dbInfo.vidHolder.show(),dbInfo.prevLoader.hide(),dataBase.adProcess=!1,dbInfo.adPreloader.hide(),dbInfo.adClickTrack.hide(),dbInfo.vidContainer.show(),dbInfo.adContainer.show(),null==dataBase.deviceId?(dbInfo.mainVid.hide(),dbInfo.controlBar.hide()):(dbInfo.mainVid.show(),$("#adContainer > div:first-child").css("z-index","30 !important")),dataBase.forapp?(dbInfo.adControlBar.hide(),dbInfo.controlBar.hide(),dbInfo.rightAdControl.hide()):dbInfo.adControlBar.show(),dataBase.deviceId&&isMobilePl.iOS()||"miuibrowser"==detectBrowser()?dbInfo.rightAdControl.hide():(-1!=String(dataBase.deviceId).indexOf("iPad")&&dbInfo.rightAdControl.hide(),dbInfo.rightAdControl.show()),dbInfo.adControlBar.is(":visible")&&dbInfo.adControlBar.find(".vc-icon-play").removeClass("vc-icon-play").addClass("vc-icon-pause"),dataBase.adStarted?updateLog("Ahh! Already adStarted:  "+dataBase.adStarted):(dataBase.adStarted=!0,_gaq&&_gaq.push(["_trackEvent",dataBase.view,"START, html5videoplayer, Video type: "+dataBase.vidType+", Network: "+dataBase.vidsource+", Video ID: "+dataBase.id+", FailOver TAG: "+dataBase.ima_default+", Ad agency - "+dataBase.adnetwork+"["+updateAdSystem(dataBase)+"]["+dataBase.country+"], URL: "+dataBase.pageurl+" , 0"]),updateLog("Requesting GAP Tag START : "+String(dataBase.view)),updateGAPEvent(String(dataBase.view),"START, FailOver TAG: "+dataBase.ima_default,"0","NA"),"midroll"==dataBase.view&&dataBase.forcemidroll&&!dataBase.isLive&&(_gaq&&_gaq.push(["_trackEvent","Force Midroll","START, Video type: "+dataBase.vidType+", Viewed at: "+dataBase.lastMidrollTime+", Network: "+dataBase.vidsource+", FailOver TAG: "+dataBase.ima_default+", Video ID: "+dataBase.id+", Category: "+dataBase.category+", alias: "+dataBase.aliasInit+", URL:"+String(dataBase.pageurl),dataBase.lastMidrollTime]),updateLog("Requesting GAP Tag Force Midroll : "+String(dataBase.lastMidrollTime)),updateGAPEvent(String(dataBase.view),"Force Midroll, START, FailOver TAG: "+dataBase.ima_default,String(dataBase.lastMidrollTime),"NA"))),updateImaView(isFullScreen()),startComscore(),void 0!=cs_obj&&cs_obj.sa&&cs_obj.sa.notifyPlay(),stageResizeGima(),stageResize(),e.isLinear()){clearInterval(gimaObj.intervalTimer);var i=0,o=!1;null==dataBase.deviceId&&dbInfo.mainVid[0].pause(),gimaObj.intervalTimer=setInterval(function(){try{if(gimaObj.adsManager&&null!=gimaObj.adsManager&&gimaObj.adsManager.getRemainingTime()>0){o||(o=!0,i=gimaObj.adsManager.getRemainingTime(),updateLog("Initial duration : ad.getDuration: "+e.getDuration()+" ;  getRemainingTime:  "+gimaObj.adsManager.getRemainingTime()));var t=(i-gimaObj.adsManager.getRemainingTime())*dbInfo.mainContainer.width()/i;if(updateAdsMessage(gimaObj.adsManager.getRemainingTime()),t>0){$("#adtimedur").hide(),$("#adtimedur").html(secondsToTime(i-gimaObj.adsManager.getRemainingTime())+" / "+secondsToTime(i)),$("#adMiniControl").show();var a=(i-gimaObj.adsManager.getRemainingTime())/i*100;$("#adProgress").width(a+"%")}else $("#adMiniControl").hide(),$("#adtimedur").hide();450>=dbInfo.vidContainer.width()?dbInfo.mainContainer.find(".adTimerBase").width(dbInfo.vidContainer.width()-140):dbInfo.mainContainer.find(".adTimerBase").width(dbInfo.vidContainer.width()-180),dbInfo.preloader.is(":visible")&&dbInfo.preloader.hide()}}catch(d){}isFullScreen()&&gimaObj.adsManager&&null!=gimaObj.adsManager&&gimaObj.adsManager.getRemainingTime()>0&&dbInfo.vidContainer.hide()},300)}break;case google.ima.AdEvent.Type.COMPLETE:updateLog("Ad Completed.............1"),e.isLinear()&&(clearInterval(gimaObj.intervalTimer),void 0!=cs_obj&&cs_obj.sa&&cs_obj.sa.notifyEnd());break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:e.isLinear()&&clearInterval(gimaObj.intervalTimer),updateLog("---------------IMA SDK ADs ALL_ADS_COMPLETED---------google.ima.AdEvent.Type.ALL_ADS_COMPLETED")}}function setUISkipable(){updateLog("in setUISkipable"),dbInfo.adContainer.height(dbInfo.adContainer.height()-30),dbInfo.controlBar.hide(),dbInfo.adContainer.css("overflow","visible"),dbInfo.adControlBar.css("bottom","-30px"),dbInfo.rightAdControl.css("bottom","-42px"),dataBase.deviceId&&dbInfo.mainContainer.find(".adTimerBase").css("bottom","-24px"),$("#adMiniControl").css("bottom","10px")}function updateAdSystem(t){var e="dfp";try{gimaObj&&gimaObj.adEvent&&!dataBase.ima_default&&(e=gimaObj.adEvent.getAdSystem())}catch(a){updateLog("OOPS! Error found in adSystem"),e="dfp"}return dataBase.ima_default&&(e="default"),e}function onPauseRequested(){dataBase.videoCompleted||(gimaObj.videoContent.removeEventListener("ended",gimaObj.contentEndedListener),dataBase.lastPauseTime=dataBase.lastAdTime),dbInfo.mainVid[0].pause()}function stageResizeGima(){if(!dataBase.isAdPlaying)return!1;try{dbInfo.vidContainer.width("100%"),dbInfo.vidContainer.height("100%"),dbInfo.adContainer.width("100%"),dataBase.deviceId&&$("#adTimer").css("bottom","-24px"),dataBase.forapp?(updateLog("stageResizeGima kk-in else"),dbInfo.adContainer.css("height","calc(100% - 35px)"),dbInfo.controlBar.hide(),$("#adControBg").css("bottom","0px"),dbInfo.adContainer.css("overflow","hidden"),dbInfo.adControlBar.css("bottom","0px"),dbInfo.rightAdControl.css("bottom","-12px"),dataBase.forapp?(dbInfo.mainContainer.find(".adTimerBase").css("bottom","1px"),$("#adMiniControl").css("bottom","1px"),$("#adTimer").css("bottom","1px")):(dataBase.deviceId?dbInfo.mainContainer.find(".adTimerBase").css("bottom","-24px"):dbInfo.mainContainer.find(".adTimerBase").css("bottom","0px"),$("#adMiniControl").css("bottom","35px")),dbInfo.adContainer.height("100%")):(updateLog("stageResizeGima kk-in if"),dbInfo.adContainer.css("height","calc(100% - 35px)"),dbInfo.controlBar.hide(),dbInfo.adContainer.css("overflow","visible"),dbInfo.adControlBar.css("bottom","-35px"),dbInfo.rightAdControl.css("bottom","-47px"),$("#adControBg").css("bottom","-35px"),dataBase.deviceId?dbInfo.mainContainer.find(".adTimerBase").css("bottom","-24px"):dbInfo.mainContainer.find(".adTimerBase").css("bottom","0px"),$("#adMiniControl").css("bottom","0px"),$("#adMiniControl").css("overflow","hidden")),dataBase.vidWidth=dbInfo.vidContainer.width(),dataBase.vidHeight=dbInfo.vidContainer.height(),gimaObj.width=dbInfo.adContainer.width(),gimaObj.height=dbInfo.adContainer.height(),null==dataBase.deviceId&&("safari"==dataBase.browserId||"firefox"==dataBase.browserId||"gecko"==dataBase.browserId||"ie"==dataBase.browserId)&&isFullScreen()&&dbInfo.adContainer.width()>dbInfo.vidContainer.width()&&(gimaObj.width=dbInfo.adContainer.width(),gimaObj.height=dbInfo.adContainer.height()),dbInfo.adClickTrack.height("50%"),centerAlign(dbInfo.adClickTrack,dbInfo.adContainer),gimaObj.adsRequest&&(gimaObj.adsRequest.linearAdSlotWidth=gimaObj.width,gimaObj.adsRequest.linearAdSlotHeight=gimaObj.height,gimaObj.adsRequest.nonLinearAdSlotWidth=gimaObj.width,gimaObj.adsRequest.nonLinearAdSlotHeight=150),updateImaView(isFullScreen()),updateLog("stageResizeGima height: "+dbInfo.adContainer.height())}catch(t){updateLog("OOPS! IMA SDK resize error")}}function updateImaView(t){return dataBase.isAdPlaying&&gimaObj.adsLoaded&&(t?gimaObj.adsManager.resize(gimaObj.width,gimaObj.height,google.ima.ViewMode.FULLSCREEN):gimaObj.adsManager.resize(gimaObj.width,gimaObj.height,google.ima.ViewMode.NORMAL)),!1}function requestLiveTvAds(){return Boolean(dataBase.isLive&&!liveInfo.loaded&&dataBase.adpoint.midroll&&dataBase.switchurl)&&(liveInfo.started=!0,Boolean(void 0!=dataBase.switchurl||null!=dataBase.switchurl||""!=dataBase.switchurl)?loadMidVastUrl(dataBase.switchurl):(updateLog("OOPS! Clear livemidroll timer"),clearInterval(liveInfo.liveTimer))),!1}function startLiveMidroll(){clearTimeout(liveInfo.startTimer),liveInfo.adPlaying=!0,liveInfo.process=!1;var t=Object(liveInfo.info);return"A"==t.c&&(updateLog("-----Playing LIVE Midroll ads -------- "),liveInfo.lastStatus=t.c,startMidLiveAds()),!1}function updateDFPMaxTime(){return 1==dataBase.currRollId?dataBase.dfpTRunning?updateLog("Already runnng dataBase.dfpTRunning:  "+dataBase.dfpTRunning):(updateLog("----updateDFPMaxTime: "),dataBase.ima_default=!1,dataBase.dfpTRunning=!0,dataBase.dfpMaxCount=0,dataBase.dfpHitCount=0,dataBase.isLive?(dataBase.dfpMaxTime=150,dataBase.dfpMaxHit=4):(dataBase.dfpMaxTime=90,dataBase.dfpMaxHit=0),clearInterval(dataBase.dfpTimer),dataBase.dfpTimer=setInterval(updateDFPTimer,1e3)):clearInterval(dataBase.dfpTimer),!1}function updateDFPTimer(){return dataBase.dfpTRunning=!0,dataBase.dfpMaxCount++,updateLog("Counter DFP timer :  "+dataBase.dfpMaxCount+" / "+dataBase.dfpMaxTime+" | Request count: "+dataBase.dfpHitCount+"/"+dataBase.dfpMaxHit),dataBase.dfpMaxCount>dataBase.dfpMaxTime&&(_gaq&&_gaq.push(["_trackEvent",dataBase.view,"END, html5videoplayer, Video type: "+dataBase.vidType+", Network: "+dataBase.vidsource+", Video ID: "+dataBase.id+", FailOver TAG: "+dataBase.ima_default+", Ad agency - "+dataBase.adnetwork+"["+updateAdSystem(dataBase)+"]["+dataBase.country+"], ErrorStatus: No Error system skipped IMA Ads due to DFP maxtime "+dataBase.dfpMaxTime+" , URL: "+dataBase.pageurl+",0"]),updateLog("Requesting GAP Tag updateDFPTimer"),updateGAPEvent(String(dataBase.view),"END FailOver TAG: "+dataBase.ima_default,"0","No Error system skipped IMA Ads due to DFP maxtime "+dataBase.dfpMaxTime),updateLog("DFP max reached.......Resume content "),clearInterval(dataBase.dfpTimer),stopLiveMidroll()),!1}function discardLiveMid(){_gaq&&_gaq.push(["_trackEvent",dataBase.view,"END, html5videoplayer, Video type: "+dataBase.vidType+", Network: "+dataBase.vidsource+", Video ID: "+dataBase.id+", FailOver TAG: "+dataBase.ima_default+", Ad agency - "+dataBase.adnetwork+"["+updateAdSystem(dataBase)+"]["+dataBase.country+"], ErrorStatus: No Error system skipped IMA Ads due to Live start in between midroll ads , URL: "+dataBase.pageurl+",0"]),updateLog("Requesting GAP Tag updateDFPTimer"),updateGAPEvent(String(dataBase.view),"END, FailOver TAG: "+dataBase.ima_default,"0","No Error system skipped IMA Ads due to Live start in between midroll ads"),updateLog("LIVE START in between mid adsResume content "),clearInterval(dataBase.dfpTimer),stopLiveMidroll()}function stopLiveMidroll(){return clearTimeout(liveInfo.startTimer),liveInfo.adPlaying=!1,liveInfo.process=!1,clearInterval(dataBase.dfpTimer),dataBase.isLive&&!liveInfo.resumed?(resumeContent(),updateLog("Live content found.....")):(updateLog("Resume LIVE content found...."),resumeContent()),!1}function loadMidVastUrl(t){try{void 0!=t&&null!=t&&""!=t?(aolInfo.updateMidVast.open("GET",String(t+"?noCache="+new Date().getTime()),!0),aolInfo.updateMidVast.send()):updateLog("Live midroll url not found...........................")}catch(e){updateLog("OOPS! Failed to load midroll vast update ")}return!1}function updateMidVastStatus(t){return updateLog("in updateMidVastStatus"),t.preventDefault(),4==aolInfo.updateMidVast.readyState&&200==aolInfo.updateMidVast.status?formatMidVast(aolInfo.updateMidVast):4==aolInfo.updateMidVast.readyState&&200!=aolInfo.updateMidVast.status&&updateLog("Empty Live Midroll TXT response "),!1}function updateLiveMidStatus(){return gimaObj.init&&dataBase.adpoint.midroll&&dataBase.isLive&&liveInfo.started&&(updateLog("Live timer running and will refresh every-----"+liveInfo.nextReqTime+" ms.."),clearInterval(liveInfo.liveTimer),liveInfo.liveTimer=setInterval(requestLiveTvAds,liveInfo.nextReqTime)),!1}function formatMidVast(t){if(updateLog("------------------formatMidVast- "+liveInfo.init),!1==liveInfo.init)updateLog(""),updateLog(" =======  RECEIVED LIVE MIDROLL data information"),liveInfo.init=!0,liveInfo.adPlaying=!1,liveInfo.process=!1,liveInfo.resumed=!0,liveInfo.info=updateArrObj(String(t.responseText.replace(/=/g,":'").replace(/&/g,"'&")+"'").split("&")),liveInfo.lastStatus="N",liveInfo.nextReqTime=Number(liveInfo.info.r),liveInfo.delayLive=35e3,dataBase.dfpMaxCount=0,dataBase.dfpTimer=2,liveInfo.startTimer=2,updateLog(""),updateLiveMidStatus(),updateLog("");else{if(liveInfo.info=updateArrObj(String(t.responseText.replace(/=/g,":'").replace(/&/g,"'&")+"'").split("&")),updateLog(""),updateLog("===== UPDATE LIVE MID ROLL - Status: "+liveInfo.info.c+" ;  lastStatus: "+liveInfo.lastStatus+" ; resumed: "+liveInfo.resumed),"A"!=liveInfo.info.c||"A"==liveInfo.lastStatus||dataBase.isAdPlaying)"L"!=liveInfo.info.c||"A"!=liveInfo.lastStatus||liveInfo.resumed||(liveInfo.lastStatus=liveInfo.info.c,updateLog("---- DISCARD LIVE MIDROLL ----- liveInfo.info : "+liveInfo.info.c+"isAdPlaying: "+dataBase.isAdPlaying),clearTimeout(liveInfo.startTimer),dataBase.isAdPlaying?-1!=String(dataBase.file).indexOf(".bitgravity.com")&&dataBase.isLive?discardLiveMid():(clearTimeout(liveInfo.startTimer),liveInfo.startTimer=setTimeout(discardLiveMid,liveInfo.delayLive)):updateLog(">>>>>  live midroll already stopped "));else{liveInfo.lastStatus=liveInfo.info.c,liveInfo.resumed=!1,updateLog("---- PLAYING LIVE MIDROLL -----");var e=Object(liveInfo.info);"A"!=e.c||e.adPlaying||e.process||dataBase.isAdPlaying||!dataBase.initPlayer||(liveInfo.process=!0,clearTimeout(liveInfo.startTimer),liveInfo.beginLive?-1!=String(dataBase.file).indexOf(".bitgravity.com")&&dataBase.isLive?(updateLog("--------> Bitgravity URL found Live midroll starting......... "),clearTimeout(liveInfo.startTimer),updateLog("-------->Bitgravity Live midroll will start in next 5000 ms .. ........"),liveInfo.startTimer=setTimeout(startLiveMidroll,5e3)):(clearTimeout(liveInfo.startTimer),updateLog("--------> Live midroll will start in next "+liveInfo.delayLive+" ms .. ........"),liveInfo.startTimer=setTimeout(startLiveMidroll,liveInfo.delayLive)):(updateLog("--------> starting live midroll immediately......"),startLiveMidroll()))}"L"==liveInfo.info.c&&"A"==liveInfo.lastStatus&&!dataBase.isAdPlaying&&liveInfo.resumed&&(liveInfo.lastStatus="N",updateLog("Ready for next ads ")),liveInfo.beginLive=!0}return!1}function updateArrObj(t){for(var e={},a=0;a<t.length;a++){var d=String(t[a]).split(":");"r"==d[0]||"R"==d[0]?e[d[0]]=1e3*Number(String(d[1]).replace(/'/g,"")):"c"==d[0]||"C"==d[0]?e[d[0]]=String(d[1]).toUpperCase().replace(/'/g,""):e[d[0]]=String(d[1]).replace(/'/g,"")}return e}function updateFullBtns(t){t?(dbInfo.controlBar.find(".vc-icon-expand").removeClass("vc-icon-expand").addClass("vc-icon-contract"),dbInfo.controlBar.find(".vc-icon-vr-expand").removeClass("vc-icon-vr-expand").addClass("vc-vod-vr-contract"),updateDimLight(!1)):(dbInfo.controlBar.find(".vc-icon-contract").removeClass("vc-icon-contract").addClass("vc-icon-expand"),dbInfo.controlBar.find(".vc-vod-vr-contract").removeClass("vc-vod-vr-contract").addClass("vc-icon-vr-expand"),updateDimLight(!0)),dataBase.isAdPlaying&&(t?dbInfo.adContainer.find(".vc-icon-expand").removeClass("vc-icon-expand").addClass("vc-icon-contract"):dbInfo.adContainer.find(".vc-icon-contract").removeClass("vc-icon-contract").addClass("vc-icon-expand"))}function volumeMute(t){return t.preventDefault(),dbInfo.mainVid[0].muted?(dbInfo.mainVid[0].muted=!1,0==dbInfo.mainVid[0].volume&&(dbInfo.mainVid[0].volume=1),localStorageSetItem("videocontrols-muted","0")):(dbInfo.mainVid[0].muted=!0,localStorageSetItem("videocontrols-muted","1")),volumeChange(),!1}function volumeWeight(t){return t.preventDefault(),volume_move(t),!1}function volumeBarPressed(t){return t.preventDefault(),updateLog("volume mousedown touchstart------"),$(document).on("mouseup touchend",volume_up),$(document).on("mousemove touchmove",volume_move),!1}unction volumeChange(t){var e=100*dbInfo.mainVid[0].volume;dbInfo.mainContainer.find(".videocontrols-volume-progressbar").css("width",e+"%"),dbInfo.mainContainer.find(".videocontrols-volumebar").css("left",e+"%"),dataBase.volumeAds=dataBase.volume,dbInfo.mainContainer.find(".videocontrols-mute").removeClass("vc-icon-volume-high vc-icon-volume-medium vc-icon-volume-low vc-icon-volume-mute2 vc-icon-volume-mute"),dbInfo.mainVid[0].muted?($("#volBtn").attr("data-tooltip","Unmute"),dbInfo.mainContainer.find(".videocontrols-mute").addClass("vc-icon-volume-mute2"),dbInfo.mainContainer.find(".videocontrols-volume-progressbar").css("width","0%"),dbInfo.mainContainer.find(".videocontrols-volumebar").css("left","0%"),dataBase.volumeAds=0):e>75?($("#volBtn").attr("data-tooltip","Mute"),dbInfo.mainContainer.find(".videocontrols-mute").addClass("vc-icon-volume-high")):e>50?($("#volBtn").attr("data-tooltip","Mute"),dbInfo.mainContainer.find(".videocontrols-mute").addClass("vc-icon-volume-medium")):e>1?($("#volBtn").attr("data-tooltip","Mute"),dbInfo.mainContainer.find(".videocontrols-mute").addClass("vc-icon-volume-low")):(dbInfo.mainContainer.find(".videocontrols-mute").addClass("vc-icon-volume-mute"),dbInfo.mainVid[0].muted=!0,$("#volBtn").attr("data-tooltip","Unmute")),updateLog("in volumeChange: "+e+" - "+dbInfo.mainVid[0].muted),e>=1&&!dbInfo.mainVid[0].muted?$("#mobUnmute").hide():0==dataBase.isTapped&&$("#mobUnmute").css("display","block"),gimaObj.adsManager&&gimaObj.adsManager.setVolume(dataBase.volumeAds);try{dbInfo.adsVideo[0].volume=dataBase.volumeAds}catch(a){}return!1}function getTouchX(t){t.preventDefault();var e=0,a=0;if(t.originalEvent.touches){a=(e=Object(t.originalEvent.touches[0])).radiusX?e.radiusX+e.pageX:e.pageX;var d=dbInfo.controlBar.find(".videocontrols-seekbar").offset().left;d!=dataBase.touchLast&&(dataBase.touchLast=d,a<dbInfo.vidContainer.find(".videocontrols-seeker").offset().left+dbInfo.vidContainer.find(".videocontrols-seeker").width()&&dbInfo.controlBar.find(".videocontrols-progressbar").css("width",a-dbInfo.vidContainer.find(".videocontrols-seeker").offset().left+"px"))}return a}function getClientX(t){var e,a=0;try{e=t.originalEvent.touches?t.originalEvent.touches:0}catch(d){}return $.isNumeric(t)?a=t:$.isNumeric(t.clientX)?a=$(document).scrollLeft()+t.clientX:e&&(a=getTouchX(t))>0&&(dataBase.touchXpos=a),a}function updateSeekImage(t,e,a){var d=$("#"+a);return void 0!=vidInfo.chptObj.thumbInfo.totalImg&&vidInfo.chptObj.thumbInfo.totalImg>0?(loadSeekImage(t,vidInfo.chptObj),d.css("left","-"+t*e+"px"),dbInfo.seekTimeTxt.css("border","0px solid grey")):(d.hide(),dbInfo.timePointer.css("border","0px solid grey"),dbInfo.seekTimeTxt.css("border","1px solid grey")),!1}function updatePointer(t){var e=Math.floor(t/dbInfo.vidContainer.find(".videocontrols-seeker").width()*dbInfo.mainVid[0].duration);dbInfo.timePointer.show();var a=$("#seekImages");if(dataBase.isLive&&dataBase.isDVR){if(e=Math.floor(t/dbInfo.vidContainer.find(".videocontrols-seeker").width()*Math.round(dbInfo.mainVid[0].seekable.end(0))),dbInfo.timePointer.css("border","0px solid grey"),0>=Math.round(Math.round(dbInfo.mainVid[0].seekable.end(0))-e))dbInfo.seekTimeTxt.text(secondsToTime(Math.round(dbInfo.mainVid[0].seekable.end(0))-e));else{if(0==e)return;dbInfo.seekTimeTxt.text("-"+secondsToTime(Math.round(dbInfo.mainVid[0].seekable.end(0))-e))}}var d=t+10,i=d-dbInfo.timePointer.width()/2;if(d+dbInfo.timePointer.width()/2+10>dbInfo.vidContainer.width()&&(i=dbInfo.vidContainer.width()-dbInfo.timePointer.width()-7),dataBase.deviceId){var o=dbInfo.vidContainer.find(".videocontrols-seeker").position().left;dbInfo.timePointer.css("left",i+(o-10)+"px")}else i>5?dbInfo.timePointer.css("left",i+"px"):dbInfo.timePointer.css("left","0px");if(!dataBase.isLive||!dataBase.isDVR){if(dbInfo.seekTimeTxt.text(secondsToTime(e)),void 0!=vidInfo.chptObj.thumbInfo.totalImg&&vidInfo.chptObj.thumbInfo.totalImg>0){var n=vidInfo.chptObj.thumbInfo.width;loadSeekImage(e,vidInfo.chptObj);var s=e*n;a.css("left","-"+s+"px"),dbInfo.seekTimeTxt.css("border","0px solid grey")}else a.hide(),dbInfo.timePointer.css("border","0px solid grey"),dbInfo.seekTimeTxt.css("border","1px solid grey");return!1}}function seekMove(t){t.preventDefault(),t.stopPropagation();var e=getClientX(t)-dbInfo.vidContainer.find(".videocontrols-seeker").offset().left;return e=Math.max(0,e),updatePointer(e=Math.min(dbInfo.vidContainer.find(".videocontrols-seeker").width(),e)),!1}function volume_move(t){t.preventDefault(),t.stopPropagation();var e=getClientX(t);dataBase.isAdPlaying?dataBase.volume=(e-$("#adVolController").offset().left)/$("#adVolController").width():dataBase.volume=(e-dbInfo.mainContainer.find(".videocontrols-volume").offset().left)/dbInfo.mainContainer.find(".videocontrols-volume").width(),dataBase.volume=Math.max(0,dataBase.volume),dataBase.volume=Math.min(1,dataBase.volume),dbInfo.mainVid[0].muted=!1,dbInfo.mainVid[0].volume=dataBase.volume;try{gimaObj.adsManager&&dataBase.isAdPlaying&&(gimaObj.adsManager.setVolume(dataBase.volume),volumeChange(t))}catch(a){}return localStorageSetItem("videocontrols-muted","0"),localStorageSetItem("videocontrols-volume",dataBase.volume),!1}function volume_up(t){return t.preventDefault(),$(document).off("mouseup touchend",volume_up),$(document).off("mousemove touchmove",volume_move),!1}function toggleFullScreen(t){if(t.preventDefault(),updateLog("In toggleFullScreen: "+dataBase.mutestart),dbInfo.pipEnabled)return!1;dataBase.mutestart,null==dataBase.deviceId&&dataBase.isAdPlaying&&"imasdk"==dataBase.currNetwork&&dbInfo.vidContainer.is(":visible");var e=document.getElementById("vidContainer");if("adFullscreen"==t.target.id&&(e=document.getElementById("vidBaseFull"),updateLog("docElm - found ad container.....")),isFullScreen())exitFull();else{if(hideChapters(),e.requestFullscreen)e.requestFullscreen();else if(e.msRequestFullscreen)e.msRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullScreen)e.webkitRequestFullScreen();else if(e.webkitEnterFullscreen)e.webkitEnterFullscreen();else try{dbInfo.mainVid[0].webkitEnterFullscreen()}catch(a){updateLog("update fullscreen failed.....")}dataBase.cube&&null==dataBase.deviceId&&$("#mainCubeHolder").css("transform","scale(1.5)"),null==dataBase.deviceId&&(updateLog("I'm innn"),affTitleOnFullScreen(isFullScreen()),$("#pollHolder")&&$("#pollHolder").removeClass("pollVodOnMob")),setTimeout(function(){$("#mainCubeHolder").after($("#mobUnmute").clone()),$("#mainCubeHolder + #mobUnmute").css("left","0px"),$("#mainCubeHolder + #mobUnmute").click(function(t){updateLog("clicked on clone"),mobileUnmute(t),$("#mobUnmute").remove()}),$("#Fullscreen").attr("data-tooltip","Exit Full screen")},1e3)}return dataBase.cbOver=!1,setTimeout(restStage,300),!1}function restStage(){updateLog("restStage---"),dataBase.vidWidth=dbInfo.vidContainer.width(),dataBase.vidHeight=dbInfo.vidContainer.height(),console.log("restStage: ",dataBase.vidWidth,dataBase.vidHeight),updateFullBtns(isFullScreen()),stageResize(),stageResizeGima()}function orientChange(t){return t.preventDefault(),stageResize(),!1}function videoOrient(){return updateLog("window.orientation: "+window.orientation+" fullscreen "+isFullScreen()+", css: "+dbInfo.mainVid.css("object-fit")),0==window.orientation&&-1==String(dataBase.deviceId).indexOf("iPad")?(updateLog("normal screen found....."),dbInfo.mainVid.css("object-fit","scale-down")):(90==window.orientation||-90==window.orientation)&&isFullScreen()?(updateLog("found......Landscape"),dbInfo.mainVid.css("object-fit","cover")):(updateLog("window.orientation no condition mathc..."),null!=dataBase.deviceId&&-1!=String(dataBase.deviceId).indexOf("iPad")&&dbInfo.mainVid.css("object-fit","cover")),updateLog("--------------------"),!1}function adFullScren(t){var e=document.getElementById("adContainer");if(isFullScreen()){if(e.requestFullscreen)e.requestFullscreen();else if(e.msRequestFullscreen)e.msRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullScreen)e.webkitRequestFullScreen();else if(e.webkitEnterFullscreen)e.webkitEnterFullscreen();else{try{dbInfo.adsVideo[0].webkitEnterFullscreen()}catch(a){}e.enterFullscreen()}}return!1}function exitFull(){if(dataBase.cube&&null==dataBase.deviceId&&$("#mainCubeHolder").css("transform","scale(1)"),null==dataBase.deviceId&&(affTitleOnFullScreen(isFullScreen()),console.log("hell width: ",dataBase.stageObj.width),dataBase.stageObj.width<501&&$("#pollHolder")&&$("#pollHolder").addClass("pollVodOnMob")),setTimeout(1e3),updateLog("diplay on exitfull-"+$("#mainCubeHolder + #mobUnmute").css("display")+" - "+dbInfo.vidContainer.width()),"none"==$("#mainCubeHolder + #mobUnmute").css("display")&&setTimeout(1e3),!isFullScreen())return!1;var t=document;-1!=String(dataBase.deviceId).indexOf("iPhone")&&(t=document.getElementById("vidContainer")),t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.webkitExitFullscreen?t.webkitExitFullscreen():dbInfo.mainVid[0].webkitExitFullscreen(),videoOrient()}function exitHandler(t){document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullScreen||($("#mainCubeHolder + #mobUnmute").remove(),affTitleOnFullScreen(!0),dataBase.stageObj.width<501&&$("#pollHolder")&&$("#pollHolder").addClass("pollVodOnMob"),$("#Fullscreen").attr("data-tooltip","Full screen"))}function changeClass(t,e,a){t.hasClass(e)&&(t.removeClass(e),t.addClass(a))}function localStorageGetItem(t,e){var a=null;try{window.localStorage&&(a=localStorage.getItem(t)),null===a&&(a=e)}catch(d){updateLog("OOPS! MSN Error Local Storage items failed......")}return a}function localStorageSetItem(t,e){if(window.localStorage)try{localStorage.setItem(t,e)}catch(a){}}function rightClick(){document.addEventListener?document.addEventListener("contextmenu",!1):document.attachEvent("oncontextmenu",}unction updateTrueFalse(t,e){var a=!1,d=getParamObj(t,e);return("true"==d||"1"==d)&&(a=!0),a}function updateCtitle(t,e){var a=!0,d=getParamObj(t,e);return("false"==d||"0"==d)&&(a=!1),a}function updateScat(t,e){var a="",d=getParamObj(t,e);return("false"==d||"0"==d)&&(a=!1),a}function getParamObj(t,e){var a,d,i;return i=String(getQueryParam(t,String(window.location.href))),d=e?e[t]:"",null!=i&&"null"!=i&&""!=i?(a=i,updateLog(t+": QPM :: "+i)):(updateLog(t+": INLINE :: "+d),a=d),a}function updateAutostart(t){var e=!1,a=getParamObj("autostart",t),d=getParamObj("forcestart",t),i="false",o="false";return("true"==a||"1"==a)&&(i="true"),("true"==d||"1"==d)&&(d="true"),updateLog("------updateAutostart--------"),updateLog("autostart: "+i),updateLog("forcestart: "+o),updateLog("device Id: "+dataBase.deviceId),"true"==i&&dataBase.deviceId&&"true"!=o&&"true"!=t.mutestart?(e=!1,updateLog("-----Auto----1")):"true"==i&&dataBase.deviceId&&"true"==o?(e=!0,updateLog("-----Auto----2")):(e="true"==i,updateLog("-----Auto----3")),updateLog("final autostart = "+e),e}function secondsToTime(t){var e="";if(t>0&&"Infinity"!=t){var a=Math.floor(t/86400%1*24),d=Math.floor(t/3600%1*60),i=Math.floor(t/60%1*60);a>0&&(e+=(a<10?"0"+a:a)+":"),e+=(d<10?"0"+d:d)+":",e+=i<10?"0"+i:i}else e="00:00";return e}function updateCategory(t,e,a){updateLog("updateCategory: "+t+" ;  chanId: "+e+", showname: "+dataBase.show,updateDomain(dataBase.policy));var d="";if(dataBase.isLive)updateLog("Category Live Video found"),d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"news_"+updateLiveId(dataBase.id)+"_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId),"test"==t&&(d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"news_"+updateLiveId(dataBase.id)+"_test_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId));else if("news"==t)switch(updateLog("___updateCategory_Alias"),String(e)){case"1":default:d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"news_24x7_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"2":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"news_india_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"3":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"news_business_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"6":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"news_rajasthan_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"7":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"news_mpcg_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId)}else switch(String(t)){case"lifestyle":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"lifestyle_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"rajasthan":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"rajasthan_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"mpcg":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"mpcg_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"auto":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"auto_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"food":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"food_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"dash":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"dash_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"hog":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"hog_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"fangully":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"fangully_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"test":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"test_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"bts":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"bts_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"sports":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"sports_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"entertainment":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"entertainment_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"business":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"news_business_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;case"tech":d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+"tech_"+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId);break;default:var i="news_24x7_";"1"==String(e)?i="news_24x7_":"2"==String(e)?i="news_india_":"3"==String(e)?i="news_business_":"6"==String(e)?i="news_rajasthan_":"7"==String(e)&&(i="news_mpcg_"),d=updateDomain(dataBase.policy)+updateDesktop(dataBase.deviceId)+i+getVidType(dataBase.isLive)+"_"+getRollValue(dataBase.currRollId)}return updateLog("FINAL ALIAS: "+d+" ; category: "+t+" ; channel: "+e),d}function updateDomain(t){var e="ndtv";switch(String(t)){case"0":default:e="ndtv";break;case"1":e="msn";break;case"2":e="dh"}return e}function updateDesktop(t){var e="_";return null==t?e="_desktop_":(e="_wap_",void 0!=dataBase.appadunit&&(e=e+dataBase.appadunit+"_")),dataBase.featured?e+="featured_":dataBase.ad_test_mode&&(e+="test_"),e}function updateMediaObj(t,e){updateLog(""),updateLog(""),updateLog("--------------------updateMediaObj------------------------------------");var a={},d=t.getElementsByTagName(e);return d[0]&&d[0].getElementsByTagName("URL")[0]?(a.file=String(d[0].getElementsByTagName("URL")[0].childNodes[0].nodeValue),a.type=String(d[0].getAttribute("type")),a.api=String(d[0].getAttribute("apiFramework"))):d[0]&&(a.file=updateOLDMedia(t,e),a.type=String(d[0].getAttribute("type")),a.api=String(d[0].getAttribute("apiFramework"))),updateLog(""),updateLog(""),a}function updateAnntObj(t){if("undefined"!=t&&""!=t&&"[]"!=t)return t}function updateQpoints($){var t=String($.qpoints),r={},e=t.split(",");if(updateLog("updateQpoints:  midpoints: "+t+" ;   strArr: "+e),"undefined"!=t&&""!=t&&"[]"!=t){updateLog("updateQpoints: true normal");for(var i=0;i<e.length;i++)r[i]={startTime:Math.round(e[i])}}else{updateLog("updateQpoints: false forecemidroll - "+$.dur),dataBase.forcemidroll=!0;var s=Math.round($.dur);s>270&&s<600?r[0]={startTime:120}:s>600&&s<1801?(r[0]={startTime:120},r[1]={startTime:600}):s>1800&&s<2701?(r[0]={startTime:120},r[1]={startTime:600},r[2]={startTime:1800}):s>2700&&s<3601?(r[0]={startTime:120},r[1]={startTime:600},r[2]={startTime:1800},r[3]={startTime:2700}):s>3600&&s<4501?(r[0]={startTime:120},r[1]={startTime:600},r[2]={startTime:1800},r[3]={startTime:2700},r[4]={startTime:3600}):s>4500&&(r[0]={startTime:120},r[1]={startTime:600},r[2]={startTime:1800},r[3]={startTime:2700},r[4]={startTime:3600},r[5]={startTime:4500})}return updateLog(""),updateLog(""),r}function updateLiveGA(t){switch(t){case"LIVE_BG24x7":_gaq.push(["_setAccount","UA-11243047-15"]),_gaq.push(["_trackPageview","html5videoplayer/"+t+String(dataBase.pageurl)]);break;case"LIVE_BGINDIA":_gaq.push(["_setAccount","UA-11243047-16"]),_gaq.push(["_trackPageview","html5videoplayer/"+t+String(dataBase.pageurl)]);break;case"LIVE_BGPROFIT":_gaq.push(["_setAccount","UA-11243047-17"]),_gaq.push(["_trackPageview","html5videoplayer/"+t+String(dataBase.pageurl)]);break;case"LIVE_BGGT":_gaq.push(["_setAccount","UA-11243047-26"]),_gaq.push(["_trackPageview","html5videoplayer/"+t+String(dataBase.pageurl)])}}function updateObj(t){for(var e in t)updateLog(e+" = "+t[e])}function updateObjLen(t){var e=0;try{for(var a in t)e++}catch(d){}return e}function centerAlign(t,e){try{var a=(e.width()-t.width())/2,d=(e.height()-t.height())/2;t.css({top:d+"px",left:a+"px"})}catch(i){}}function updateLog(t){var e=String(window.location.href);if(-1!=e.indexOf("ndtv=log@007")&&console.log.apply(t,arguments),-1!=e.indexOf("ndtv=logview@007"))try{$("#logView").append("<br>"+t),console.log(t);var a=document.getElementById("logView");try{a.scrollTop=a.scrollHeight}catch(d){}}catch(i){}return!1}function durLess60(t){var e="";return t&&t.dur<45&&!t.isLive&&(e=", lessthan_45_sec: Less than one minute"),e}function updateVidType(){var t="ON-DEMAND";return void 0!==dataBase.id&&"LIVE"==String(dataBase.id).substring(0,4)&&(t="LIVE"),t}function initGAEvent(){if("true"==String(dataBase.isGap)){var t,e,a,d,i="script",o="dataLayer";t=window,e=document,t[o]=t[o]||[],t[o].push({"gtm.start":new Date().getTime(),event:"gtm.js"}),a=e.getElementsByTagName(i)[0],(d=e.createElement(i)).async=!0,d.src="https://www.googletagmanager.com/gtm.js?id=GTM-N2R2KQQ"+("dataLayer"!=o?"&l="+o:""),a.parentNode.insertBefore(d,a)}try{if(!dataBase.isGADone){if(dataBase.isGADone=!0,"true"==String(dataBase.isGap)){updateLog("Requesting GAP tvc_vidtrack_pageview Events");var n="NA",s="NA",r="NA";if("NA"!=dataBase.date){var l=new Date(dataBase.date);n=l.getFullYear(),s=l.getMonth()+1<10?"0"+(l.getMonth()+1):l.getMonth()+1,r=10>l.getDate()?"0"+l.getDate():l.getDate()}dataLayer.push({event:"tvc_vidtrack_pageview",pageUrl:String(dataBase.pageurl),videoId:String(dataBase.id),channel:String(dataBase.channel),videoForm:String(dataBase.content_type),show:String(dataBase.show),network:String(dataBase.vidsource),adFormat:String(dataBase.prmadpoint),title:String(dataBase.title),videoType:updateVidType(),videoCategory:String(dataBase.category)+vidFromSource(),alias:String(dataBase.aliasInit),autostart:String(dataBase.autostart),device:updateGADeviceInfo(dataBase.deviceId),publicationyear:n,publicationmonth:s,publicationday:r,publicationdate:r+"-"+s+"-"+n,author:String(dataBase.author)})}_gaq=window._gaq=window._gaq||[],tpe="ON-DEMAND",void 0!==dataBase.id?"LIVE"==String(dataBase.id).substring(0,4)?(tpe="LIVE",updateLiveGA(dataBase.id)):(_gaq.push(["_setAccount","UA-2598638-49"]),_gaq.push(["_trackPageview","html5videoplayer/"+String(dataBase.pageurl)])):dataBase.id="NA",dataBase.vidType=tpe,_gaq.push(["_setAccount","UA-114407664-1"]);var c=document.createElement("script");c.type="text/javascript",c.async=!0,c.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var u=document.getElementsByTagName("script")[0];u.parentNode.insertBefore(c,u),updateLog("Google Analytics initialize on player load successfully ")}}catch(p){updateLog("GA Error found...")}return!1}function updateChannel(t){var e="n/a-"+t;return dataBase.isLive?e=String(dataBase.category).toUpperCase():"1"==t?e="NDTV24X7-"+t:"2"==t?e="NDTVINDIA-"+t:"3"==t?e="NDTVPROFIT-"+t:"4"==t?e="NDTVGOODTIMES-"+t:"47"==t?e="NDTVPRIME-"+t:"6"==t?e="NDTVRAJASTHAN-"+t:"7"==t&&(e="NDTVMPCG-"+t),e}function updateLiveId(a){var e="";switch(a){case"LIVE_BG24x7":default:e="24x7";break;case"LIVE_BGINDIA":e="india";break;case"LIVE_BGPROFIT":case"LIVE_NDTVPROFIT":e="business";break;case"LIVE_BGRAJ":e="rajasthan";break;case"LIVE_BGMPCG":e="mpcg"}return e}function getVidType(t){var e="vod";return"true"==String(t)?e="hp"==String(dataBase.pagetype)?"HP_live":"live":(e="vod",void 0!=dataBase.vtype?""==dataBase.vtype?e="vod":(dataBase.vtype=dataBase.vtype,e=dataBase.vtype+"_vod"):(dataBase.vtype="",e="vod")),e}function getRollValue(t){var e=String(window.location.href),a="";return 0==t?a="pre":1==t?dataBase.isLive&&-1!=String(dataBase.id).indexOf("LIVE_BG24x7")?(dataBase.midCount++,a="mid_"+dataBase.midCount):a="mid":2==t&&(a="post"),0!=t||1==dataBase.policy||-1==e.indexOf("embed-player")||dataBase.isLive||(a+="_embed"),a}function errorCode(t){var e="";return -1==t.file.indexOf(".m3u8")||dataBase.deviceId||(e="405"),e}function isFullScreen(){return!!(document.fullScreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function updateCurrView(t){var e="";return 0==t?"preroll":1==t?"midroll":2==t?"postroll":"content"}function get_browser(){var t,e=navigator.userAgent,a=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(a[1])?{name:"IE",version:(t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||""}:"Chrome"===a[1]&&null!=(t=e.match(/\bOPR\/(\d+)/))?{name:"Opera",version:t[1]}:(a=a[2]?[a[1],a[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&a.splice(1,1,t[1]),{name:a[0],version:a[1]})}function getCurrViewSync(t){var e="";return 0==t?e="preroll":1==t?e="midroll":2==t&&(e="postroll"),e}unction updateGADeviceInfo(t){var e="";return null==t?"desktop":t}unction getVidPlayStatus(){return dbInfo.mainVid[0].paused}function setVidPlay(){dbInfo.mainVid[0].paused&&updatePlayPause("playBtn")}function setVidPause(){dbInfo.mainVid[0].paused||dbInfo.mainVid[0].pause()}function setVidVolume(t){return dbInfo.mainVid[0]&&(dbInfo.mainVid[0].volume=t>1?1:t),!1}function exitPip(){try{vidPicInPic.style.display="none",dbInfo.pipEnabled=!1,dbInfo.mainVidElm==document.pictureInPictureElement&&document.exitPictureInPicture()}catch(t){}return!1}function setupPIP(){var t;if(dataBase.deviceId)return!1;unction a(){vidPicInPic.disabled=0===dbInfo.mainVidElm.readyState||!document.pictureInPictureEnabled||dbInfo.mainVidElm.disablePictureInPicture}updateLog("SETUP PIP"),(vidPicInPic=document.getElementById("vidPicInPic")).addEventListener("click",function(t){if(dataBase.isAdPlaying||!dataBase.initPlayer)return!1;updateLog("Toggling Picture-in-Picture..."),vidPicInPic.style["pointer-events"]="none";try{dbInfo.mainVidElm!==document.pictureInPictureElement?(dbInfo.pipEnabled=!0,dbInfo.playerScroll&&resetYScroll(),dbInfo.mainVidElm.requestPictureInPicture()):(dbInfo.pipEnabled=!1,document.exitPictureInPicture())}catch(e){updateLog("OOPS! Error found......")}finally{vidPicInPic.style["pointer-events"]="auto"}}),dbInfo.mainVidElm.addEventListener("enterpictureinpicture",function(a){updateLog("> Video entered Picture-in-Picture"),dbInfo.pipEnabled=!0,exitFull(),(t=a.pictureInPictureWindow).addEventListener("resize",e),window.postMessage('{"type":"__cube","action":"daddy","elem":"","val":"show"}',"*")}),dbInfo.mainVidElm.addEventListener("leavepictureinpicture",function(a){updateLog("> Video left Picture-in-Picture"),dbInfo.pipEnabled=!1,t.removeEventListener("resize",e),window.postMessage('{"type":"__cube","action":"son","elem":"","val":"show"}',"*")}),"pictureInPictureEnabled"in document?(a(),dbInfo.mainVidElm.addEventListener("loadedmetadata",a),dbInfo.mainVidElm.addEventListener("emptied",a),dataBase.isPip=!0,$(".socialMedia").css("right","85px")):(updateLog("Picture-in-Picture is not supported"),dataBase.isPip=!1,vidPicInPic.style.display="none")}function updateObjQpoint(t){for(var e in t)updateLog(e+" = "+t[e].startTime+" ; Time: "+secondsToTime(t[e].startTime))}function adRequired(t,e){var a=String(e),d=!1;return -1!=String(window.location.href).toLowerCase().indexOf("noads=true")||dataBase.renderHtml||(0==t&&-1!=a.indexOf("preroll")?d=!0:1==t&&-1!=a.indexOf("midroll")?d=!0:2==t&&-1!=a.indexOf("postroll")?d=!0:"branded"==t&&-1!=a.indexOf("branded")?d=!0:"dai"!=t||-1==a.indexOf("dai")||(d=!0)),d}function updatePolicyInfo(t){var e="";return"1"==t&&(e='<li data-action="6">Privacy Policy </li>'),e}function detectBrowser(){var t="",e=window.navigator.userAgent.toLowerCase();return null!==e.match(/miuibrowser/)?"miuibrowser":null!==e.match(/ucbrowser/)?"ucbrowser":-1!=window.navigator.userAgent.indexOf("UBrowser")?"ucbrowser":-1!=(-1!=window.navigator.userAgent.indexOf("Opera")||window.navigator.userAgent.indexOf("OPR"))?"opera":-1!=window.navigator.userAgent.indexOf("Chrome")?"chrome":-1!=window.navigator.userAgent.indexOf("Safari")?"safari":-1!=window.navigator.userAgent.indexOf("Firefox")?"firefox":-1!=window.navigator.userAgent.indexOf("MSIE")||!0==!!document.documentMode?"ie":"unknown browser"}function calcImgRatio(t,e,a,d){var i=Math.min(a/t,d/e);return{width:t*i,height:e*i,ratio:i}}function getQueryParam(t,e){e||(e=window.location.href);var a=RegExp("[?&]"+(t=t.replace(/[\[\]]/g,"\\$&"))+"(=([^&#]*)|&|#|$)").exec(e);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}function createSWFPlayer(t){updateLog("createSWFPlayer : isLive: "+dataBase.isLive+";  mediaEnabled: "+vidEnabled()+";  isHTML5Video: "+dataBase.isHTML5Video);var e,a,d=document.getElementById(t);document.getElementById("vidplayer");var i=null!=d?$("#"+t):$("#vidplayer");i.empty();var o,n,s="https://www.ndtv.com/common/videos/flash/player/new-wrapper/NDTVVideoPlayerNew.swf",r="transparent",l='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="100%" height="100%" id="player" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /><param name="movie" value="'+s+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="'+r+'">';function c(t){var e="";return"no_ads"==t?"":t}return updateLog("--------STEP 1"),dataBase.isLive?(updateLog("--------STEP 2 - LIVE TV "),o="&category="+dataBase.category+"&switchurl="+encodeURIComponent(dataBase.switchurl)+"&breakmsg="+(e=dataBase.id,a="This is an ad break.","LIVE_BG24x7"==e?a="NDTV 24x7  is on an ad break right now.":"LIVE_BGINDIA"==e?a="NDTV India  is on an ad break right now.":"LIVE_BGGT"==e?a="NDTV Good Times  is on an ad break right now.":"LIVE_BGPROFIT"==e?a="NDTV Profit  is on an ad break right now.":("LIVE_BGHINDU"==e||"LIVE_SPECIAL"==e)&&(a="This is an ad break."),a)+"&pageurl="+dataBase.pageurl+"&rtmp="+dataBase.rtmp+"&gTRVPlay=1&mute="+dataBase.mutestart+"&bglive="+dataBase.bgfeeds,n=l+'<param name="flashvars" value="&videoid='+dataBase.id+"&agencyID=1&channel=ndtv&videoimage="+encodeURIComponent(dataBase.image)+"&pWidth="+i.width()+"&pHeight="+i.height()+"&autostart="+("true"==String(dataBase.autostart)?1:0)+"&vdopiaApiKey="+dataBase.apikey+"&vdopiaAdFormat="+dataBase.prmadpoint+o+'"><embed src="'+s+'" flashvars="videoid='+dataBase.id+"&agencyID=1&channel=ndtv&videoimage="+encodeURIComponent(dataBase.image)+"&pWidth="+i.width()+"&pHeight="+i.height()+"&autostart="+("true"==String(dataBase.autostart)?1:0)+"&vdopiaApiKey="+dataBase.apikey+"&vdopiaAdFormat="+dataBase.prmadpoint+o+'" quality="high" bgcolor="#ffffff" width="100%" height="100%" name="player" align="middle" allowScriptAccess="always" allowFullScreen="true" wmode="'+r+'" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer"></embed></object>',i.append(n),updateLog("--------STEP 2 - LIVE READY  ")):(updateLog("--------STEP 3 - VOD"),o="&category="+dataBase.category+"&scat="+dataBase.scat+"&pageurl="+dataBase.pageurl+"&rtmp="+dataBase.rtmp+"&foldername="+dataBase.foldername+"&gTRVPlay=1&policy="+dataBase.policy+"&vidsource=",""!=dataBase.video_related_videos&&(o=o+"&related="+encodeURIComponent(dataBase.video_related_videos)),n=l+'<param name="flashvars" value="videoid='+dataBase.id+"&agencyID=1&channel="+dataBase.channel+"&pWidth="+i.width()+"&pHeight="+i.height()+"&autostart="+("true"==String(dataBase.autostart)?1:0)+"&useGUT=false&vdopiaApiKey="+dataBase.apikey+"&title="+encodeURIComponent(dataBase.title)+"&desc="+encodeURIComponent(dataBase.description)+"&filename="+dataBase.filename+"&videoimage="+dataBase.image+"&lengthinsec="+dataBase.dur+"&mute="+dataBase.mutestart+"&vdopiaAdFormat="+c(dataBase.prmadpoint)+o+'"><embed src="'+s+'" width="100%" height="100%" flashvars="videoid='+dataBase.id+"&agencyID=1&channel="+dataBase.channel+"&pWidth="+i.width()+"&pHeight="+i.height()+"&autostart="+("true"==String(dataBase.autostart)?1:0)+"&mute="+dataBase.mutestart+"&useGUT=false&vdopiaApiKey="+dataBase.apikey+"&title="+encodeURIComponent(dataBase.title)+"&desc="+encodeURIComponent(dataBase.description)+"&filename="+dataBase.filename+"&videoimage="+dataBase.image+"&lengthinsec="+dataBase.dur+"&vdopiaAdFormat="+c(dataBase.prmadpoint)+o+'" quality="high" bgcolor="#ffffff" width="100%" height="100%" name="player" align="middle" allowScriptAccess="always" allowFullScreen="true" wmode="'+r+'" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer"/></object>',i.append(n),updateLog("--------STEP 3 - VOD READY  ")),!1}function vidEnabled(){var t="WebKitMediaSource"in window,e="MediaSource"in window;if(updateLog("hasWebKit : "+t+" ; hasMediaSource : "+e),e)try{return new MediaSource}catch(a){return console.log("MIME Error: "+a.message),null}else if(t)try{return new WebKitMediaSource}catch(d){return console.log("MIME Error: "+d.message),null}return!1}function createDivElement(){var t,e=' <div id="rightMenus" class="custom-rightClick"><ul class="custom-HTML5menu"><li data-action="1">Report playback issue</li>',a='<li data-action="5">NDTV Player Version : '+VERSION+"</li>"+updatePolicyInfo(dataBase.policy)+'<li data-action="7">\xa9 Copyright NDTV Convergence Ltd. '+new Date().getFullYear()+" </li></ul></div>";t=dataBase.isLive?e+a:e+'<li data-action="2">Copy video URL</li><li data-action="3">Copy video URL at current time</li><li data-action="4">Copy embed html</li>'+a;var d="",i='<svg id=\'svgSprite\' class="svg-none" aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n								<defs>\n							<symbol id="vj-vod_chp" viewBox="0 0 49 32">\n								<path d="M1.231 0h46.277v31.754h-46.277v-31.754zM6.4 16v3.446h35.938v-3.446h-35.938zM8.862 23.877v3.446h30.769v-3.446h-30.769z"></path>\n							</symbol>\n							<symbol id="vj-vod_eml" viewBox="0 0 43 32">\n								<path d="M42.667 29.511v-27.022l-14.578 13.511z"></path>\n								<path d="M21.333 22.044l-4.267-3.911-14.578 13.867h37.689l-14.578-13.867z"></path>\n								<path d="M40.178 0h-37.689l18.844 17.778z"></path>\n								<path d="M0 2.489v27.022l14.578-13.511z"></path>\n							</symbol>\n							<symbol id="vj-vod_twt" viewBox="0 0 21.57 19.5">\n								<path d="m16.99,0h3.31l-7.23,8.26,8.5,11.24h-6.66l-5.21-6.82-5.97,6.82H.43l7.73-8.84L0,0h6.83l4.71,6.23L16.99,0Zm-1.16,17.52h1.83L5.83,1.88h-1.97l11.97,15.64Z"></path>\n							</symbol>\n							<symbol id="vj-vod_fsc" viewBox="0 0 47 32">\n								<path d="M6.33 25.6h-6.154v-5.908h12.308v12.062h-6.154v-6.154z"></path>\n								<path d="M38.553 20h6.154v5.908h-6.154v6.154h-6.154v-12.062h6.154z"></path>\n								<path d="M32.4 6.092v-5.908h6.154v5.908h6.154v5.908h-12.308v-5.908z"></path>\n								<path d="M6.106 6.092v-5.908h6.154v11.815h-12.062v-5.908h5.908z"></path>\n							</symbol>\n							<symbol id="vj_vod-vr-fsc" viewBox="0 0 23 32">\n								<path d="M18.782 8.645h4.489v-4.489h-4.489v-4.271h-4.271v8.76h4.271z"></path>\n								<path d="M4.281-0.208h4.489v8.76h-8.76v-4.271h4.271v-4.489z"></path>\n								<path d="M14.51 32.26h4.271v-4.489h4.489v-4.271h-8.76v8.76z"></path>\n								<path d="M4.406 27.344v4.489h4.271v-8.76h-8.76v4.271h4.489z"></path>\n							</symbol>\n							<symbol id="vj-vod_fcb" viewBox="0 0 19 32">\n								<path d="M16.419 0h-4c-4.267 0-6.933 3.2-6.933 8v3.733h-4c-0.267-0.267-0.533 0-0.533 0.533v5.333c0 0.267 0.267 0.533 0.533 0.533h3.733v13.333c0 0.267 0.267 0.533 0.533 0.533h5.067c0.533 0 0.8-0.267 0.8-0.533v-13.333h4.533c0.267 0 0.533-0.267 0.533-0.533v-5.333c0-0.267 0-0.267-0.267-0.533 0 0-0.267-0.267-0.533-0.267h-4.267v-2.933c0-1.6 0.267-2.133 2.133-2.133h2.667c0.267-0.267 0.533-0.533 0.533-0.8v-5.067c0-0.267-0.267-0.533-0.533-0.533z"></path>\n							</symbol>\n							<symbol id="vj-vod_fll" viewBox="0 0 47 32">\n								<path d="M0.985 5.908v6.154h6.154v-6.154h5.908v-5.908h-12.062z"></path>\n								<path d="M7.138 19.938h-6.154v12.062h12.062v-5.908h-5.908z"></path>\n								<path d="M33.231 0v5.908h6.154v6.154h5.908v-12.062z"></path>\n								<path d="M39.385 26.092h-6.154v5.908h12.062v-12.062h-5.908z"></path>\n							</symbol>\n							<symbol id="vj_vod-vr-full" viewBox="0 0 23 32">\n								<path d="M18.968-0.145h-4.489v4.489h4.489v4.271h4.271v-8.76h-4.271z"></path>\n								<path d="M8.833 4.344v-4.489h-8.76v8.76h4.271v-4.271h4.489z"></path>\n								<path d="M23.24 23.24h-4.271v4.489h-4.489v4.271h8.76v-8.76z"></path>\n								<path d="M4.344 27.656v-4.489h-4.271v8.76h8.76v-4.271h-4.489z"></path>\n							</symbol>\n							<symbol id="vj-vod_mpl" viewBox="0 0 49 32">\n								<path d="M1.969 0v32h46.769v-32h-46.769zM42.585 25.846h-34.462v-19.692h34.462v19.692z"></path>\n								<path d="M22.892 12.308h16.492v9.846h-16.492v-9.846z"></path>\n							</symbol>\n\n							<symbol id="vj-vod_mut" viewBox="0 0 37 32">\n								<path d="M6.133 11.2h-6.133v10.4h6.133v1.067l8.267 8.267v-28.8l-8.267 8.267z"></path>\n								<path d="M34.933 11.467l-2.133-2.133-5.867 5.867-6.133-5.867-2.133 2.133 5.867 6.133-5.867 5.867 2.133 2.133 6.133-6.133 5.867 5.867 2.133-2.133-5.867-5.867z"></path>\n							</symbol>\n\n							<symbol id="vj-vod_pus" viewBox="0 0 30 32">\n								<path d="M1.582 1.723h8.123v30.277h-8.123v-30.277z"></path>\n								<path d="M20.536 1.723h8.123v30.277h-8.123v-30.277z"></path>\n							</symbol>\n							<symbol id="vj-vod_ply" viewBox="0 0 29 32">\n								<path d="M0 32v-32l29.333 16z"></path>\n							</symbol>\n							<symbol id="vj-vod_shr" viewBox="0 0 34 32">\n								<path d="M26.514 20.343c-1.829 0-3.429 0.914-4.571 2.286l-10.057-5.029c0-0.686 0.229-1.143 0.229-1.6 0-0.229 0-0.229 0-0.229l10.743-5.486c0.914 0.914 2.286 1.371 3.657 1.371 3.2 0 5.943-2.514 5.943-5.943-0.229-3.2-2.743-5.714-5.943-5.714-3.429 0-5.943 2.514-5.943 5.714 0 0.686 0 1.143 0.229 1.6l-10.057 5.029c-1.143-1.371-2.743-2.286-4.571-2.286-3.2 0-5.943 2.743-5.943 5.943s2.743 5.943 5.943 5.943c1.371 0 2.514-0.457 3.657-1.143l10.743 5.486c0 3.2 2.743 5.714 5.943 5.714s5.943-2.514 5.943-5.943c-0.229-3.2-2.743-5.714-5.943-5.714z"></path>\n							</symbol>\n							<symbol id="vj-vod_sud" viewBox="0 0 32 32">\n								<path d="M24 16c0-3.2-2.4-5.867-5.333-5.867-0.267 0-0.533 0-0.8 0v12c0.267 0 0.533 0 0.8 0 2.933-0.267 5.333-2.933 5.333-6.133z"></path>\n								<path d="M18.133 0v3.2c6.133 1.067 10.933 6.667 10.933 12.8 0 6.4-4.8 12-10.933 13.067v3.2c8-1.067 13.867-7.733 13.867-16s-6.133-15.2-13.867-16.267z"></path>\n								<path d="M5.867 10.933h-5.867v10.133h5.867v0.8l8 8v-27.733l-8 8z"></path>\n							</symbol>\n							<symbol id="vj-vod_tbk" viewBox="0 0 28 32">\n								<path d="M24.747 17.493v0.64c0 5.973-4.907 10.88-10.667 10.88s-10.667-4.907-10.667-10.88c0-5.76 4.48-10.453 10.027-10.88v3.627l8.747-4.907-8.747-4.907v3.627c-7.040 0.427-12.8 6.187-12.8 13.44 0 7.467 5.973 13.44 13.44 13.44s13.44-5.973 13.44-13.44v-0.64h-2.773z"></path>\n								<path d="M11.52 21.973v-8.533h-1.707l-2.133 1.493v1.493l2.133-1.493v7.040z"></path>\n								<path d="M13.44 17.707c0 2.773 1.28 4.48 3.413 4.48s3.413-1.707 3.413-4.48-1.493-4.48-3.413-4.48c-2.133 0-3.413 1.707-3.413 4.48zM18.56 17.707c0 1.92-0.64 3.2-1.707 3.2-1.28 0-1.92-1.28-1.92-3.2s0.64-3.2 1.707-3.2c1.28 0 1.92 1.28 1.92 3.2z"></path>\n							</symbol>\n							<symbol id="vj-vod_tfr" viewBox="0 0 30 32">\n								<path d="M16 4.693v-3.627l-8.533 4.907 8.747 4.907v-3.627c5.547 0.427 10.027 5.12 10.027 10.88 0 5.973-4.907 10.88-10.667 10.88-5.973 0-10.667-4.907-10.667-10.88v-0.64h-2.987v0.64c0 7.467 5.973 13.44 13.44 13.44s13.44-5.973 13.44-13.44c0-7.253-5.547-13.227-12.8-13.44z"></path>\n								<path d="M12.8 21.973v-8.533h-1.493l-2.347 1.493v1.493l2.347-1.493v7.040z"></path>\n								<path d="M18.133 22.187c2.133 0 3.413-1.707 3.413-4.48s-1.28-4.48-3.413-4.48c-2.133 0-3.413 1.707-3.413 4.48s1.28 4.48 3.413 4.48zM18.133 14.507c1.067 0 1.707 1.28 1.707 3.2s-0.64 3.2-1.707 3.2c-1.067 0-1.707-1.28-1.707-3.2s0.64-3.2 1.707-3.2z"></path>\n							</symbol>\n							<symbol id="vj-vod_brg" viewBox="0 0 34 32">\n								<path d="M17.143 6.857v0c0 0 0 0 0 0s0 0 0 0v0c-5.029 0-9.143 4.114-9.143 9.143s4.114 9.143 9.143 9.143v0c0 0 0 0 0 0s0 0 0 0v0c5.029 0 9.143-4.114 9.143-9.143s-4.114-9.143-9.143-9.143zM17.143 22.4v-12.8c3.429 0 6.4 2.971 6.4 6.4s-2.971 6.4-6.4 6.4zM15.771 0h2.743v4.8h-2.743v-4.8zM15.771 27.2h2.743v4.8h-2.743v-4.8zM1.143 14.629h4.8v2.743h-4.8v-2.743zM33.143 17.371h-4.8v-2.743h4.8v2.743zM8.229 9.143l-3.429-3.429 2.057-2.057 3.429 3.429-2.057 2.057zM26.057 22.857l3.429 3.429-2.057 2.057-3.429-3.429 2.057-2.057zM10.286 24.914l-3.429 3.429-2.057-2.057 3.429-3.429 2.057 2.057zM26.057 9.143l-2.057-2.057 3.429-3.429 2.057 2.057-3.429 3.429z"></path>\n							</symbol>\n							<symbol id="vj-vod_fw-rw" viewBox="0 0 32 32">\n								<path d="M27.481 15.373l-22.096-15.238c-0.234-0.161-0.537-0.178-0.787-0.047-0.251 0.132-0.408 0.391-0.408 0.674v30.477c0 0.283 0.157 0.543 0.408 0.675 0.111 0.058 0.233 0.087 0.354 0.087 0.152 0 0.302-0.046 0.433-0.135l22.096-15.238c0.206-0.142 0.329-0.376 0.329-0.627s-0.123-0.485-0.329-0.627z"></path>\n							</symbol>\n							</defs>\n							</svg><div id="vidImag" style="z-index:3; position:absolute; width:100%; height:100%; overflow:hidden;"><div id="autoPlayTest" style="z-index:-10; position:absolute; width:100px; height:60px;top:-60px; left:-100px; overflow:hidden;pointer-events:auto;"></div><div id="prevCont" style="z-index:1; position:absolute; width:100%; height:100%; overflow:hidden;cursor:pointer; "><span id="prevShow" style="display:none;z-index:100;with:100%; height:100%;cursor:pointer; overflow:hidden;"><div id="prvImgHold" style="display:block;with:100%; height:100%;z-index:5;" ><img id="previewImg" style="width:100%; height:100%; z-index:5;"></div><div id="prevPlay" style="display:block;" class="centerDiv vc-icon-centerPlay"><svg class="vj-vod vj-vod_ply"><use xlink:href="#vj-vod_ply"></use></svg></div><div id="prevPlayMob" style="display:none;" ><div id="play_lhs" class="bleftDiv"><div class="play-video-icon play-app-icon"></div></div><div id="play_rhs" class="brighDiv"><div class="circle-ripple"></div><div class="play-video-icon"></div></div></div><span id="embedView" class="embedView"><span id="embedTitle" class="embedTitles"><span id="titleView" class="embedTxt"></span></span><span id="embedPlay" class="embdPlay vc-icon-centerPlay"><span id="preImgsBtn" class="vc-icon-embedPlay" style="left:13px; top:12px;display:block;width:21px; position:absolute;z-index:7;"> </span> </span></span></span><span  id="prevLoader"  style="display:block; z-index:300;width:50px; height:50px; display:block; position:absolute;top:50%;left:50%;margin: 0;transform-origin: 0 0;transform: scale(0.6) translate(-50%, -50%);">\n										<div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\n									</span></div></div><div id="rel_vid" class="rel_vid_disp"><div id="relatdList" style="display:block; position:relative; width:auto;; height:100%;"></div><span id="replayBtn"  class="rel_reply_btn"></span></div> <!-- Preview image ends here ---><div id="vidBaseFull" style="display:block; position:absolute; width:100%; height:100%;"><div id="vidContainer" class="vc-player vidContainer"><div id="htmlVidPlayer" class="vc-player" style="z-index:1; position:absolute; width:100%; height:100%; overflow:hidden;"><div id="vidHolder" class="vidHold"><video class="videobase" id="contElem" width="100%" height="100%" preload="metadata" playsinline webkit-playsinline> </video></div><div id="daiAdMsg" class="daiAdMsgBase"></div><div id="miniControl" style="height:7px; background:none;" class="miniControl mini-move-down"><div id="smallLoading" class="videocontrols-loadingbar" style="display:none; width:0%;"></div><div id="smallProgress" class="videocontrols-progressbar progressbar-color-blue" style="width:0%;"></div></div><div id="errorView" style="border-radius:15px; opacity:.95;"> </div><div id="preloader" style="display:block;background: none; width:50px; height:50px;margin: 0;transform-origin: 0 0; transform: scale(0.6) translate(-50%, -50%);"  class="centerDiv" ><div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div id="mctrlbar" style="display:none;pointer-events:auto;background:none;" class="centerDiv vc-icon-mobileCenterPlay">\n										<svg class="vj-vod vj-vod_ply play-ico"><use xlink:href="#vj-vod_ply"></use></svg>\n										<svg class="vj-vod vj-vod_pus pause-ico"><use xlink:href="#vj-vod_pus"></use></svg>\n									</div><div id="centerPlay" style="display:none;" class="centerDiv vc-icon-centerPlay"><svg class="vj-vod vj-vod_ply play-ico"><use xlink:href="#vj-vod_ply"></use></svg></div><div class="vd-lst">\n										<!-- Icon Close -->\n										<div class="vd-lst_cls dis-non"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuNiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA5NiA5NiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgOTYgOTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTUzLjcsNDhsMjUuMi0yNS4yYzEuNi0xLjYsMS42LTQuMSwwLTUuN2MtMS42LTEuNi00LjEtMS42LTUuNywwTDQ4LDQyLjNMMjIuOCwxNy4yYy0xLjYtMS42LTQuMS0xLjYtNS43LDAKCWMtMS42LDEuNi0xLjYsNC4xLDAsNS43TDQyLjMsNDhMMTcuMiw3My4yYy0xLjYsMS42LTEuNiw0LjEsMCw1LjdDMTgsNzkuNiwxOSw4MCwyMCw4MHMyLTAuNCwyLjgtMS4yTDQ4LDUzLjdsMjUuMiwyNS4yCglDNzQsNzkuNiw3NSw4MCw3Niw4MHMyLTAuNCwyLjgtMS4yYzEuNi0xLjYsMS42LTQuMSwwLTUuN0w1My43LDQ4eiIvPgo8L3N2Zz4K" alt=""/></div>\n										<style>.dis-non{display: none;}</style>\n										<!-- Scrollbar -->\n										<div class="swiper-scrollbar"></div>\n										<!-- Swiper -->\n										<div class="swiper-wrapper vd-lst_wrp"></div>\n									</div><div id="chpterId" class="chapterView" style="display:none;"> <div id="chpterList"> </div></div><div id="timePointer" class="timePoint"><div id="segmentTitle"></div><div class="" style="overflow:hidden;"><span id="seekImages" style="display:block;width:100%; height:100%; position:absolute; left:0px; top:0px;z-index:1;"><span id="seekImgList" style="display:block;position:relative;height:64px;"></span></span><span id="seekTimeTxt" class="pointTime" >00:00:00 </span></div></div><div id="animCenterPlay" style="display:block;width:71px; height:71px; z-index:1011" class="centerDiv vc-icon-centerPlay tempEffects temp_zoomout">\n										<svg class="vj-vod vj-vod_ply play-ico"><use xlink:href="#vj-vod_ply"></use></svg>\n									</div><div id="animCenterPause" style="display:block;width:71px; height:71px;  z-index:1011" class="centerDiv vc-icon-centerPause tempEffects temp_zoomout">\n									 	<svg class="vj-vod vj-vod_pus pause-ico"><use xlink:href="#vj-vod_pus"></use></svg>\n									 </div><div class="skp" style="z-index: 9999;">\n											<!-- Skip Previous -->\n											<div class="skp_wrp skp_prv">\n												<div class="skp_icn"><svg class="vj-vod vj-vod_fw-rw"><use xlink:href="#vj-vod_fw-rw"></use></svg></div>\n												<div class="skp_icn"><svg class="vj-vod vj-vod_fw-rw"><use xlink:href="#vj-vod_fw-rw"></use></svg></div>\n												<div class="skp_icn"><svg class="vj-vod vj-vod_fw-rw"><use xlink:href="#vj-vod_fw-rw"></use></svg></div>\n												<div class="skp_txt">10 second</div>\n											</div>\n								\n											<!-- Skip Next -->\n											<div class="skp_wrp skp_nxt">\n												<div class="skp_icn"><svg class="vj-vod vj-vod_fw-rw"><use xlink:href="#vj-vod_fw-rw"></use></svg></div>\n												<div class="skp_icn"><svg class="vj-vod vj-vod_fw-rw"><use xlink:href="#vj-vod_fw-rw"></use></svg></div>\n												<div class="skp_icn"><svg class="vj-vod vj-vod_fw-rw"><use xlink:href="#vj-vod_fw-rw"></use></svg></div>\n												<div class="skp_txt">10 second</div>\n											</div>\n										</div><div id="seekBkwd" class="videocontrols-button vc-icon-bkwrd"><svg class="vj-vod vj-vod_tfr"><use xlink:href="#vj-vod_tfr"></use></svg></div><div id="seekForwd" class="videocontrols-button vc-icon-fwrd"><svg class="vj-vod vj-vod_tbk"><use xlink:href="#vj-vod_tbk"></use></svg></div><div class="chp_btn prevBtn" id="prevChap"><svg height="48" viewBox="0 0 48 48" width="48" xmlns="http://www.w3.org/2000/svg"><path d="M12 12h4v24h-4zm7 12l17 12V12z"/><path d="M0 0h48v48H0z" fill="none"/></svg></div><div class="chp_btn nextBtn" id="nextChap"><svg height="48" viewBox="0 0 48 48" width="48" xmlns="http://www.w3.org/2000/svg"><path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"/><path d="M0 0h48v48H0z" fill="none"/></svg></div><div id="seekBtnsLeft" style="left:40px; pointer-events:none;display:none; position:absolute; width:37px; height:100%;  z-index:1011;" ><div id="contBtnsLeft" class="seek10secBackMobile center_lft_rgt" ><svg class="vj-vod vj-vod_tfr"><use xlink:href="#vj-vod_tfr"></use></svg></div></div><div id="seekBtnsRight" style="right:45px; pointer-events:none;display:none; position:absolute; width:37px; height:100%;line-height:100%;vertical-align:middle;  z-index:1011;"><div id="contBtnsRight" class="seek10secBackMobile center_lft_rgt"><svg class="vj-vod vj-vod_tbk"><use xlink:href="#vj-vod_tbk"></use></svg></div></div><div id="annotHolder" class="annotHolder annot_zoomout"></div><div id="faceOffHolder">\n										\n									  </div><div id="pollHolder">\n										\n									  </div><div id="affiliateHolder">\n												<svg width="0" height="0" class="hidden">\n														<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 683 1024" id="triangle">\n																<title></title>\n																<path\n																		d="M660.135 466.998l-530.949-448C114.172 6.329 96.413 0 75.857 0S37.53 6.329 22.516 18.998C7.502 31.667.001 46.661.001 63.995v895.996c0 17.331 7.501 32.335 22.515 44.997C37.547 1017.657 55.318 1024 75.857 1024c20.544 0 38.315-6.343 53.329-19.012l530.949-448c15.002-12.655 22.532-27.66 22.532-44.997 0-17.331-7.526-32.325-22.532-44.994z">\n																</path>\n														</symbol>\n												</svg>\n										</div><div id=\'liveEvtHolder\'></div><div id="vidThumbAds" class="vidThumbAds thumb-move-up" style="pointer-events:none;"><div id="vid_thumb" style="display:block; position:absolute; width:100%; height:auto;bottom:0px;"></div></div><div id="settingArea" class="settingWin"><span id="annotSett" class="settingList"><span class="settingListBg"></span><span class="annotText">Annotation</span><span id="annotBar" class="settingTrack"><span class="settingTrackRange"></span></span></span></div><div id="socialMedia" class="socialMedia">\n										<div id="inholder"  style="pointer-events:none; overflow:hidden;display:block; width:26px; height:66px; top:1px; position:absolute;">\' \n											<div id="socialIcons" class="social-move-down" style="pointer-events:auto;">\n												<span id="twitr" class="fb_icon socialClick"><svg class="vj-vod vj-vod_twt"><use xlink:href="#vj-vod_twt"></use></svg></span>\n												<span id="email" class="gplus_icon socialClick" ><svg class="vj-vod vj-vod_eml"><use xlink:href="#vj-vod_eml"></use></svg></span>\n												<span id="fb" class="ml_icon socialClick" ><svg class="vj-vod vj-vod_fcb"><use xlink:href="#vj-vod_fcb"></use></svg></span> \n											</div>\n										</div>\n									</div><div class="overlayCtrl" style="display:none; position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;background-color: rgba(0, 0, 0, 0.30);z-index: 1;pointer-events: none;">\n\n									</div><div id="controlBar" class="videocontrols cb-move-up"><div id="seekBar" class="videocontrols-seeker seek-out"><div class="chp_dot"></div><div id="seekLoading" class="videocontrols-loadingbar" style="width: 0%;"></div><div id="seekProgress" class="videocontrols-progressbar progressbar-color-blue" style="width:0%;"></div><div id="seekTempBg" class="seekbar-hitarea"></div><div id="seekThumb" class="videocontrols-seekbar videocontrols-range preview_out" style="left: 0%;"><div class="videocontrols-range-little range-little-pink"></div></div></div><div id="controlBtns" class="videocontrols-btn" ><div class="videocontrols-left"><div id="playPause" class="videocontrols-play videocontrols-button vc-icon-play ttip-left" data-tooltip="">\n												   <svg class="vj-vod vj-vod_ply play-ico"><use xlink:href="#vj-vod_ply"></use></svg>\n												   <svg class="vj-vod vj-vod_pus pause-ico"><use xlink:href="#vj-vod_pus"></use></svg>\n										  	 </div><div id="volBtn" class="videocontrols-button videocontrols-mute vc-icon-volume vc-icon-volume-medium" data-tooltip="">\n										   		<svg class="vj-vod vj-vod_sud vfull"><use xlink:href="#vj-vod_sud"></use></svg>  \n										  		<svg class="vj-vod vj-vod_mut vmute"><use xlink:href="#vj-vod_mut"></use></svg>\n										 	</div><div id="volumeBar" class="videocontrols-weight-volume"><span id="volumeSlider" class="volbar-span2 vol-move-left"><div id="vidVolController" class="videocontrols-volume"><div class="videocontrols-volume-progressbar volumebar-color-pink" style="width: 75%;"></div><div id="volThumb" class="videocontrols-volumebar videocontrols-volume-range " style="left: 75%;"> </div></div></span></div><div id="leftTimer" class="videocontrols-time vol-move-left"> <span class="videocontrols-timer"></span> </div><div class="videocontrols-chp_ttl vol-move-left"><div id="chapTitle"></div></div></div><div id="right-btns" class="videocontrols-right"><div id="dimLight" class="videocontrols-button vc-icon-dimlight" data-tooltip="Dim"><svg class="vj-vod vj-vod_brg"><use xlink:href="#vj-vod_brg"></use></svg></div><div id="chapterBtn" class="videocontrols-button vc-icon-chapIcon chp_act" data-tooltip="View Chapter">\n												<svg class="vj-vod vj-vod_chp"><use xlink:href="#vj-vod_chp"></use></svg>\n											</div><div id="settingBtn" class="videocontrols-button vc-icon-settings box_transition" data-tooltip="Settings"></div><div id="socialBtn" class="videocontrols-button vc-icon-social" style="display:none"><svg class="vj-vod vj-vod_shr"><use xlink:href="#vj-vod_shr"></use></svg></div><div id="vidPicInPic" class="videocontrols-button vc-icon-pip" style="display:none" data-tooltip="Miniplayer"><svg class="vj-vod vj-vod_mpl"><use xlink:href="#vj-vod_mpl"></use></svg></div><div id="Fullscreen" class="videocontrols-button vc-icon-expand ttip-right" data-tooltip="Full screen"><svg class="vj-vod vj-vod_fll"><use xlink:href="#vj-vod_fll"></use></svg>\n												<svg class="vj-vod vj-vod_fsc"><use xlink:href="#vj-vod_fsc"></use></svg></div><div id="rightTimer" class="videocontrols-time" style="display:none;"><span id="rightTimerTxt" style="display: inline-block;min-width: 32px;line-height:20px; color:#eaeaea;">00:00</span> </div></div> </div></div><div id="mainCubeHolder" class="scorecube">\n									<!--===== Cube Starts ======-->\n								</div></div> <!-- vidcontainer ends here --->'+t+"</div> <!-- videoplayer ends here --->";return dataBase.deviceId,d=i+' <div id="adContainer" class="adContainer" style="z-index:2308;-webkit-tap-highlight-color: rgba(0,0,0,0)"><div id="adClickTrack" style="cursor:pointer;-webkit-tap-highlight-color: rgba(0,0,0,0)"><div id="adCenterPlay" style="display:block;" class="centerDiv vc-icon-centerPlay" ><svg class="vj-vod vj-vod_ply play-ico"><use xlink:href="#vj-vod_ply"></use></svg></div></div><div id="adPreloader" style="display:none; width:50px; height:50px; margin: -25px 0 0 -25px;"  class="centerDiv" ></div><div id="adTimer" class="adTimerBase adTimer"></div><div id="adMiniControl" style="height:3px;bottom:40px;display:none;z-index:989876" class="miniControl"><div id="adLoadBg" class="videocontrols-loadingbar" style="display:block; width:100%;"></div><div id="adProgress" class="videocontrols-progressbar" style="width:0%;background-color:yellow;"></div></div><div id="adControBg" class="videocontrols" style="pointer-events:none;"></div><div id="rightAdControl" class="advRightControl" style="background-image:none; pointer-events:auto;"><div class="videocontrols" style="background-image:none;"><div class="videocontrols-right"><div id="adFullscreen" class="videocontrols-button vc-icon-expand">\n									<svg class="vj-vod vj-vod_fll"><use xlink:href="#vj-vod_fll"></use></svg>\n									<svg class="vj-vod vj-vod_fsc"><use xlink:href="#vj-vod_fsc"></use></svg>\n								</div></div></div></div><div id="adControlBar" class="videocontrols adVideoControls" style="width:250px;background-image:none; pointer-events:auto;"  ><div id="adControlBtns" class="videocontrols-btn" ><div id="adPlayPause" class="videocontrols-play videocontrols-button vc-icon-play">\n									<svg class="vj-vod vj-vod_ply play-ico"><use xlink:href="#vj-vod_ply"></use></svg>\n									<svg class="vj-vod vj-vod_pus pause-ico"><use xlink:href="#vj-vod_pus"></use></svg>\n							   </div><div id="adVolBtn" class="videocontrols-button videocontrols-mute vc-icon-volume vc-icon-volume-medium">\n									<svg class="vj-vod vj-vod_sud vfull"><use xlink:href="#vj-vod_sud"></use></svg>  \n									<svg class="vj-vod vj-vod_mut vmute"><use xlink:href="#vj-vod_mut"></use></svg>\n								</div><div id="adVolumeBar" class="videocontrols-weight-volume"><span id="adVolumeSlider" class="volbar-span2 vol-move-left"><div id="adVolController"  class="videocontrols-volume"><div class="videocontrols-volume-progressbar volumebar-color-pink" style="width: 75%;"></div><div id="volThumb" class="videocontrols-volumebar videocontrols-volume-range " style="left: 75%;"> </div></div></span></div><div id="adLeftTimer" class="videocontrols-time vol-move-left" style="width:100px;"> <span id="adtimedur" class="videocontrols-timer"></span> </div></div></div></div> <!-- Ads container  ends here last  ---></div><!-- vidBaseFull End ehre ........ --><div id="vidClick" style="display:none; z-index:999; position:absolute; top:0; left:0; bottom:0; right:0; height:85%"></div><div id="adUiElem" style="display:none; z-index:9999; position:absolute; top:0; left:0; bottom:0; right:0; height:85%"></div><div id="mobUnmute" class="mutestart_cont"><div id="muteBtn" class="cht_mut cht_mut-ac" style=""><i class="cht_mut-ic"></i><span class="cht_mut-tx">Tap to unmute</span></div></div><!-- Mute Icon -->\n					<div class="MutUnm_btn"><div class="MutUnm_ic-wr" style=""><i class="MutUnm_Unmt-ic"></i></div></div><div id="titleViewBtm" style="display:none;position:absolute;z-index:0; width:100%; height:auto; background-color:rgba(0,0,0,1); color:#fff;  font-size:13px;font-family:Helvetica, Arial, Verdana, sans-serif;"><div id="btmTitle" class="btmTitle"></div></div>'}unction getParamValByName(t,e){e||(e=window.location.href);var a=RegExp("[?&]"+(t=t.replace(/[\[\]]/g,"\\$&"))+"(=([^&#]*)|&|#|$)").exec(e);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}document.addEventListener("fullscreenchange",exitHandler),document.addEventListener("webkitfullscreenchange",exitHandler),document.addEventListener("mozfullscreenchange",exitHandler),document.addEventListener("MSFullscreenChange",exitHandler),String(dataBase.isGap);var utm_campaign=getParamValByName("utm_campaign"),googletag=googletag||{};googletag.cmd=googletag.cmd||[],function(){if(!(window.googletag&&googletag.apiReady)){var t=document.createElement("script");t.async=!0,t.type="text/javascript";var e="https:"==document.location.protocol;t.src="https://securepubads.g.doubleclick.net/tag/js/gpt.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)}}();try{"undefined"!=typeof jQuery&&updateLog("======== JQuery Version: "+jQuery.fn.jquery+" :========")}catch(t){}updateLog("======== NDTVPlayer script loaded waiting for constructor to execute =======================");
