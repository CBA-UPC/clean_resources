!"undefined"!=typeof window?window:this,function(g,O){"use strict";r t=[],M=Object.getPrototypeOf,a=t.slice,F=t.flat?s=t.push,i=t.indexOf,n={},B=n.toString,_=n.hasOwnProperty,$=_.toString,q=$.call(Object),b={},y=g.document,U={type:!0,src:!0,nonce:!0,noModule:!0};r e="3.5.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-deprecated/ajax-event-alias,-effects,-effects/Tween,-effects/animatedSelector",x=.fn=x.prototype={jquery:e,constructor:x,length:0,toArray:get:pushStack:each:map:slice:first:last:even:odd:eq:end:push:s,sort:t.sort,splice:t.splice},x.contains=function(e,t){return e.contains(t)},x.extend=x.fn.extend=x.extend({expando:"jQuery"+(e+Math.random()).replace(/\D/g,""),isReady:!0,error:noop:function(){},isPlainObject:isEmptyObject:globalEval:each:makeArray:inArray:merge:grep:map:guid:1,support:b}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=t[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),;e=g,W="sektor-"+Date.now(),X=/[+~]/,l=e.document,e=l.documentElement||{},J=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.msMatchesSelector||Q={},z=/HTML$/i,r.matches=r.matchesSelector=G,r.selectors={match:{bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i")}},r.isXML=r.uniqueSort=function(e){var t,n=[],r=0,i=0;if(K=!Q.detectDuplicates,e.sort(Z),K){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},r.attr=Y=r.getText=var K,W,X,l,J,Q,z,Y,e=r;function Z(e,t){return e===t&&(K=!0),0}function r(e,t,n,r){var i,t=t||l,o=n||[],a=0;if("string"==typeof e){if(1!==t.nodeType&&9!==t.nodeType)return[];if(r)for(;i=r[a++];)G(i,e)&&o.push(i);else o.push.apply(o,function(e,t){var n,r,i,o;t!==l&&(i=(i="#"+(r=(n=t.getAttribute("id"))||W)+" ")+e.replace(/,/g,","+i),o=X.test(e)&&t.parentNode,n||t.setAttribute("id",r));try{return(o||t).querySelectorAll(i||e)}catch(e){return[]}finally{null===n&&t.removeAttribute("id")}}(e,t))}return o}.find=e,x.expr=e.selectors,x.isXMLDoc=e.isXML,x.uniqueSort=e.uniqueSort,x.text=e.getText; te=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;.filter=x.fn.extend({find:filter:function(e){return this.pushStack(ne(this,e||[],!1))},not:is:function(e){return!!ne(this,e||[],!1).length}});var re,ie=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,oe=((x.fn.init=.prototype=x.fn,re=x(y),/^(?:parents|prev(?:Until|All))/),ae={children:!0,contents:!0,next:!0,prev:!0};.fn.extend({has:index:add:addBack:),x.each({parent:parents:function(e){return o(e,"parentNode")},parentsUntil:function(e,t,n){return o(e,"parentNode",n)},next:function(e){return se(e,"nextSibling")},prev:function(e){return se(e,"previousSibling")},nextAll:function(e){return o(e,"nextSibling")},prevAll:nextUntil:function(e,t,n){return o(e,"nextSibling",n)},prevUntil:siblings:children:contents:,;var w=/[^\x20\t\r\n\f]+/g;.Callbacks=x.readyException="complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?g.setTimeout(x.ready):(y.addEventListener("DOMContentLoaded",d),g.addEventListener("load",d));ar le=/^-ms-/,ce=/-([a-z])/g;d=1,f.prototype={cache:set:get:access:remove:hasData:;var C=new f,E=new f,pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;.extend({hasData:data:function(e,t,n){return E.access(e,t,n)},removeData:function(e,t){E.remove(e,t)},_data:_removeData:),x.fn.extend({data:removeData:function(e){return this.each(function(){E.remove(this,e)})}});var he=y.documentElement,j=ge={composed:!0},T=(he.getRootNode&&(j=,/^(?:checkbox|radio)$/i),ve=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,me=/^$|^module$|\/(?:java|ecma)script/i,A=(e=y.createDocumentFragment().appendChild(y.createElement("div")),(L=y.createElement("input")).setAttribute("type","radio"),L.setAttribute("checked","checked"),L.setAttribute("name","t"),e.appendChild(L),b.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,e.innerHTML="<option></option>",b.option=!!e.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});tbody=A.tfoot=A.colgroup=A.caption=A.thead,A.th=A.td,b.option||(A.optgroup=A.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;ar xe=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ke=/^([^.]*)(?:\.(.+)|)/;function I(){return!0}ent={global:{},add:function(t,e,n,r,i){var o,a,s,l,c,d,p,u,f,h=C.get(t);if(k(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&x.find.matchesSelector(he,i),n.guid||(n.guid=x.guid++),s=(s=h.events)||(h.events=Object.create(null)),a=(a=h.handle)||(h.handle=,l=(e=(e||"").match(w)||[""]).length;l--;)p=f=(u=ke.exec(e[l])||[])[1],u=(u[2]||"").split(".").sort(),p&&(c=x.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=x.event.special[p]||{},f=x.extend({type:p,origType:f,data:r,handler:n,guid:n.guid,selector:i,namespace:u.join(".")},o),(d=s[p])||((d=s[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,r,u,a))||t.addEventListener&&t.addEventListener(p,a),c.add&&(c.add.call(t,f),f.handler.guid||(f.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,f):d.push(f),x.event.global[p]=!0)},remove:dispatch:handlers:addProp:fix:special:{load:{noBubble:!0},click:{setup:trigger:_default:,beforeunload:{postDispatch:}},x.removeEvent=x.Event=x.Event.prototype={constructor:x.Event,isDefaultPrevented:N,isPropagationStopped:N,isImmediatePropagationStopped:N,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=I,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:stopImmediatePropagation:,x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:,x.event.addProp),x.each({focus:"focusin",blur:"focusout"},,x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},,x.fn.extend({on:one:off:);var L,je=/<script|<style|<link/i,Te=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;nd({htmlPrefilter:function(e){return e},clone:cleanData:),x.fn.extend({detach:remove:text:append:prepend:before:after:empty:clone:html:replaceWith:),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},,L=y.createElement("input"),e=y.createElement("select").appendChild(y.createElement("option")),L.type="checkbox",b.checkOn=""!==L.value,b.optSelected=e.selected,(L=y.createElement("input")).value="t",L.type="radio",b.radioValue="t"===L.value;var Ve,D={},De=(x.fn.extend({attr:function(e,t){return p(this,x.attr,e,t,1<arguments.length)},removeAttr:),x.extend({attr:attrHooks:{type:{set:},removeAttr:),Ve={set:,x.each(x.expr.match.bool.source.match(/\w+/g),,/^(?:input|select|textarea|button)$/i),Oe=/^(?:a|area)$/i;x.fn.extend({prop:removeProp:),x.extend({prop:propHooks:{tabIndex:{get:},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(x.propHooks.selected={get:set:),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],;ar Fe=/\r/g,Be=(x.fn.extend({val:),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:(x.text(e).match(w)||[]).join(" ")}},select:{get:set:}}),x.each(["radio","checkbox"],,b.focusin="onfocusin"in g,/^(?:focusinfocus|focusoutblur)$/),$e=(x.extend(x.event,{trigger:simulate:),x.fn.extend({trigger:triggerHandler:),b.createHTMLDocument=((e=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===e.childNodes.length),x.parseHTML=x.fn.extend({bind:unbind:delegate:undelegate:hover:),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),,/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g),qe=(x.holdReady=x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=c,x.isFunction=v,x.isWindow=m,x.camelCase=u,x.type=h,x.now=Date.now,x.isNumeric=x.trim="function"==typeof define&&define.amd&&define("jquery",[],function(){return x}),g.jQuery),Ue=g.$;return x.noConflict=void 0===O&&(g.jQuery=g.$=x),x}),function(t,n){var e=n.jQuery;"object"==typeof exports?module.exports=e?t(n,e):function(e){return t(n,e)}:"function"==typeof define&&define.amd?define(["jquery"],:t(n,!1)}(function(x,oe){"use strict";var e=!1===oe;if(!(oe=oe||x.jQuery)||!oe.fn)throw"JsViews requires jQuery";var t,o,B,p,S,I,N,$,c,q,d,M,J,F,ae,i,R,b,y,H,r,n,E,K,a,W,s,X,l,P,L,v,Q,z,u,Y,V,f,h,Z,g,m,G,ee,_,j,T,A,te,ne,D,re="v1.0.11",w="_ocp",ie=/[ \t]*(\r\n|\n|\r)/g,ve=/\\(['"\\])/g,me=/['"\\]/g,_e=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,be=/^if\s/,ye=/<(\w+)[>\s]/,xe=/[\x00`><\"'&=]/,we=/^on[A-Z]|^convert(Back)?$/,ke=/^\#\d+_`[\s\S]*\/\d+_`$/,Ce=/[\x00`><"'&=]/g,Ee=/[&<>]/g,je=/&(amp|gt|lt);/g,Te=/\[['"]?|['"]?\]/g,Ae=0,Se={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},Ie={amp:"&",gt:">",lt:"<"},U="html",O="object",Ne="data-jsv-tmpl",Pe="jsvTmpl",Le="For #index in nested block use #getIndex().",Ve={},De={},Oe=x.jsrender,Me=Oe&&oe&&!oe.render,Fe={template:{compile:function n(r,e,i,o){function t(e){var t;if("string"==typeof e||0<e.nodeType&&(a=e)){if(!a)if(e.startsWith("#"))a=document.getElementById(e.slice(1));else if(oe.fn&&!J.rTmpl.test(e))try{a=oe(e,document)[0]}catch(e){}a&&("SCRIPT"!==a.tagName&&se(e+": Use script block, not "+a.tagName),o?e=a.innerHTML:((t=a.getAttribute(Ne))&&(t!==Pe?(e=c[t],delete c[t]):oe.fn&&(e=oe.data(a)[Pe])),t&&e||(r=r||(oe.fn?Pe:e),e=n(r,a.innerHTML,i,o)),e.tmplName=r=r||t,r!==Pe&&(c[r]=e),a.setAttribute(Ne,r),oe.fn&&oe.data(a,Pe,e))),a=void 0}else e.fn||(e=void 0);return e}var a,s,l=e=e||"";J._html=q.html;0===o&&(o=void 0,l=t(l));o=o||(e.markup?e.bnds?k({},e):e:{});o.tmplName=o.tmplName||r||"unnamed";i&&(o._parentTmpl=i);!l&&e.markup&&(l=t(e.markup))&&l.fn&&(l=l.markup);if(void 0!==l)return l.render||e.render?l.tmpls&&(s=l):(e=nt(l,o),ct(l.replace(me,"\\$&"),e)),s||et(s=k(e)),s}},tag:{compile:function(e,t,n){var r,i,o,a=new J._tg;function s(){this._={unlinked:!0},this.inline=!0,this.tagName=e}N(t)?t={depends:t.depends,render:t}:"string"==typeof t&&(t={template:t});if(i=t.baseTag)for(o in t.flow=!!t.flow,(i="string"==typeof i?n&&n.tags[i]||M[i]:i)||se('baseTag: "'+t.baseTag+'" not found'),a=k(a,i),t)a[o]=$e(i[o],t[o]);else a=k(a,t);void 0!==(r=a.template)&&(a.template="string"==typeof r?c[r]||c(r):r);(s.prototype=a).constructor=a._ctr=s,n&&(a._parentTmpl=n);return a}},viewModel:{compile:function(l,e){var r,t,n,c=this,d=e.getters,i=e.extend,g=e.id,o=oe.extend({_is:l||"unnamed",unmap:h,merge:f},i),a="",s="",p=d?d.length:0,v=oe.observable,m={};nction b(e,t){for(var n,r,i,o,a,s,l=0;l<p;l++)n=void 0,"string"!=typeof(r=d[l])&&(r=(n=r).getter,o=n.parentRef),void 0===(i=e[r])&&n&&void 0!==(a=n.defaultVal)&&(s=e,i=N(a=a)?a.call(s):a),t(i,n&&c[n.type],r,o)}function f(e,t,n){e="string"==typeof e?JSON.parse(e):e;var r,i,o,a,s,l,c,d,p,u,f=0,h=this;if($(h)){for(c={},p=[],i=e.length,o=h.length;f<i;f++){for(d=e[f],l=!1,r=0;r<o&&!l;r++)c[r]||(s=h[r],g&&(c[r]=l="string"==typeof g?d[g]&&(m[g]?s[g]():s[g])===d[g]:g(s,d)));l?(s.merge(d),p.push(s)):(p.push(u=_.map(d)),n&&tt(u,n,t))}v?v(h).refresh(p,!0):h.splice.apply(h,[0,h.length].concat(p))}else for(a in b(e,,e)a===I||m[a]||(h[a]=e[a])}function h(){var e,t,n,r,i=0,o=this;f($(o))return a(o);for(e={};i<p;i++)n=void 0,r=o[t="string"!=typeof(t=d[i])?(n=t).getter:t](),e[t]=n&&r&&c[n.type]?$(r)?a(r):r.unmap():r;for(t in o)!o.hasOwnProperty(t)||"_"===t.charAt(0)&&m[t.slice(1)]||t===I||N(o[t])||(e[t]=o[t]);return e}for(u.prototype=o,r=0;r<p;r++)!d[r]);return s=new Function(a,s),((t=.prototype=o).constructor=t,_.map=function(e){var t,n,r,i,o=0,a=e="string"==typeof e?JSON.parse(e):e,s=[];if($(e)){for(t=(e=e||[]).length;o<t;o++)s.push(this.map(e[o]));return s._is=l,s.unmap=h,s.merge=f,s}if(e){for(b(e,,a=this.apply(this,s),o=p;o--;)if(r=s[o],(i=d[o].parentRef)&&r&&r.unmap)if($(r))for(t=r.length;t--;)tt(r[t],i,a);else tt(r,i,a);for(n in e)n===I||m[n]||(a[n]=e[n])}return a},_.getters=d,_.extend=i,_.id=g,_}},helper:{},converter:{}};function Be(n,r){return function(){var e,t=this.base;return this.base=n,e=r.apply(this,arguments),this.base=t,e}}function $e(e,t){return N(t)&&((t=Be(e?e._d?e:Be(Re,e):Re,t))._d=(e&&e._d||0)+1),t} Je(e,t,n,r){var i,o,a,s=0;if(1===n&&(r=1,n=void 0),t)for(a=(o=t.split(".")).length;e&&s<a;s++)i=e,e=o[s]?e[o[s]]:e;return n&&(n.lt=n.lt||s<a),void 0===e?r?Re:"":r?function(){return e.apply(i,arguments)}:e}function Qe(e,t,n){var r,i,o,a,s=this,l=!E&&1<arguments.length,c=s.ctx;if(e){if(s._||(o=s.index,s=s.tag),a=s,c&&c.hasOwnProperty(e)||(c=d).hasOwnProperty(e)){if(i=c[e],"tag"===e||"tagCtx"===e||"root"===e||"parentTags"===e)return i}else c=void 0;if((!E&&s.tagCtx||s.linked)&&(i&&i._cxp||(s=!s.tagCtx&&!N(i)&&!(s=s.scope||s).isTop&&s.ctx.tag||s,c=(s=void 0!==i&&s.tagCtx?s.tagCtx.view.scope:s)._ocps,(i=c&&c.hasOwnProperty(e)&&c[e]||i)&&i._cxp)||!n&&!l||((c||(s._ocps=s._ocps||{}))[e]=i=[{_ocp:i,_vw:a,_key:e}],i._cxp={path:w,ind:0,updateValue:),n=i&&i._cxp)){if(2<arguments.length)return(c=i[1]?J._ceo(i[1].deps):[w]).unshift(i[0]),c._cxp=n,c;if(o=n.tagElse,c=i[1]?n.tag&&n.tag.cvtArgs?n.tag.cvtArgs(o,1)[n.ind]:i[1](i[0].data,i[0],J):i[0]._ocp,l)return J._ucp(e,t,s,n),s;i=c}return i&&N(i)&&k(r=i),r||i}}function ze(e,t){var n,r,i,o,a,s,l,c=this;if(c.tagName){if(!(c=((s=c).tagCtxs||[c])[e||0]))return}else s=c.tag;if(a=s.bindFrom,o=c.args,(l=(l=s.convert)&&"string"==typeof l?"true"===l?void 0:c.view.getRsc("converters",l)||se("Unknown converter: '"+l+"'"):l)&&!t&&(o=o.slice()),a){for(i=[],n=a.length;n--;)r=a[n],i.unshift(Ye(c,r));t&&(o=i)}if(l){if(void 0===(l=l.apply(s,i||o)))return o;if(n=(a=a||[0]).length,$(l)&&(!1===l.arg0||1!==n&&l.length===n&&!l.arg0)||(l=[l],a=[0],n=1),t)o=l;else for(;n--;)+(r=a[n])===r&&(o[r]=l[n])}return o}function Ye(e,t){return(e=e[+t===t?"args":"props"])&&e[t]}unction Ge(e,t,n,r,i,o,a,s){var l=this,c="array"===t;l.content=s,l.views=c?[]:{},l.data=r,l.tmpl=i,s=l._={key:0,useKey:c?0:1,id:""+Ae++,onRender:a,bnds:{}},l.linked=!!a,l.type=t||"top",t&&(l.cache={_ct:F._cchCt}),n&&"top"!==n.type||((l.ctx=e||{}).root=l.data),(l.parent=n)?(l.root=n.root||l,r=n.views,i=n._,l.isTop=i.scp,l.scope=(!e.tag||e.tag===n.ctx.tag)&&!l.isTop&&n.scope||l,i.useKey?((r[s.key="_"+i.useKey++]=l).index=Le,l.getIndex=We):r.length===(s.key=l.index=o)?r.push(l):r.splice(o,0,l),l.ctx=e||n.ctx):t&&(l.root=l)}function et(e){var t,n,r;for(t in Fe)e[n=t+"s"]&&(r=e[n],e[n]={},p[n](r,e))}unction nt(e,t){var n,r=ae._wm||{},i={tmpls:[],links:{},bnds:[],_is:"template",render:at};return(i=t?k(i,t):i).markup=e,i.htmlTag||(n=ye.exec(e),i.htmlTag=n?n[1].toLowerCase():""),(n=r[i.htmlTag])&&n!==r.div&&(i.markup=oe.trim(i.markup)),i}function rt(l,c){var d=l+"s";p[d]=function e(t,n,r){var i,o,a,s=J.onStore[l];if(!t||typeof t!==O||t.nodeType||t.markup||t.getTgt||"viewModel"===l&&t.getters||t.extend)return t&&"string"!=typeof t&&(r=n,n=t,t=void 0),a=r?"viewModel"===l?r:r[d]=r[d]||{}:e,i=c.compile,void 0===n&&(n=i?t:a[t],t=void 0),null===n?t&&delete a[t]:(i&&((n=i.call(a,t,n,r,0)||{})._is=l),t&&(a[t]=n)),s&&s(t,n,r,i),n;for(o in t)e(o,t[o],n);return n||p}}unction ot(n){eturn(n=(n=N(n)?{getTgt:n}:n).baseMap?k(k({},n.baseMap),n):n).map=n}function at(e,t,n,r,i,o){var a,s,l,c,d,p,u=r,f="";if(!0===t?(n=t,t=void 0):typeof t!==O&&(t=void 0),(l=this.tag)?(c=(u=u||this.view)._getTmpl(l.template||this.tmpl),arguments.length||(e=l.contentCtx&&N(l.contentCtx)?l.contentCtx(e):u)):c=this,c){if((u=!r&&e&&"view"===e._is?e:u)&&e===u&&(e=u.data),r=!u,E=E||r,r&&((t=t||{}).root=e),!E||ae.useViews||c.useViews||u&&u!==B)f=st(c,e,t,n,u,i,o,l);else{if(u?(d=u.data,p=u.index,u.index=Le):(d=(u=B).data,u.data=e,u.ctx=t),$(e)&&!n)for(a=0,s=e.length;a<s;a++)u.index=a,u.data=e[a],f+=c.fn(e[a],u,J);else u.data=e,f+=c.fn(e,u,J);u.data=d,u.index=p}r&&(E=void 0)}return f}function st(e,t,n,r,i,o,a,s){var l,c,d,p,u,f,h,g,v,m,_,b,y,x="";if(s&&(v=s.tagName,b=s.tagCtx,n=n?ht(n,s.ctx):s.ctx,e===i.content?h=e!==i.ctx._wrp?i.ctx._wrp:void 0:e!==b.content?e===s.template?(h=b.tmpl,n._wrp=b.content):h=b.content||i.content:h=i.content,!1===b.props.link)&&((n=n||{}).link=!1),i&&(a=a||i._.onRender,(y=n&&!1===n.link)&&i._.nl&&(a=void 0),n=ht(n,i.ctx),b=!s&&i.tag?i.tag.tagCtxs[i.tagElse]:b),(m=b&&b.props.itemVar)&&("~"!==m[0]&&le("Use itemVar='~myItem'"),m=m.slice(1)),!0===o&&(f=!0,o=0),!0===(g=a=a&&s&&s._.noVws?void 0:a)&&(g=void 0,a=i._.onRender),_=n=e.helpers?ht(e.helpers,n):n,$(t)&&!r)for((d=f?i:void 0!==o&&i||new Ge(n,"array",i,t,e,o,a,h))._.nl=y,i&&i._.useKey&&(d._.bnd=!s||s._.bnd&&s,d.tag=s),l=0,c=t.length;l<c;l++)p=new Ge(_,"item",d,t[l],e,(o||0)+l,a,d.content),m&&((p.ctx=k({},_))[m]=J._cp(t[l],"#data",p)),u=e.fn(t[l],p,J),x+=d._.onRender?d._.onRender(u,p):u;else d=f?i:new Ge(_,v||"data",i,t,e,o,a,h),m&&((d.ctx=k({},_))[m]=J._cp(t,"#data",d)),d.tag=s,d._.nl=y,x+=e.fn(t,d,J);return s&&(d.tagElse=b.index,b.contentView=d),g?g(x,d):x}ction ct(k,C,E,j,T){r e,t,I,N,n,P=F.allowCode||C&&C.allowCode||!0===i.allowCode,r=[],L=0,V=[],D=r,O=[,,r];if(P&&C._is&&(C.allowCode=P),E&&(void 0!==j&&(k=k.slice(0,-j.length-2)+y),k=R+k+H),S(V[0]&&V[0][2].pop()[0]),k.replace(o,function(e,t,n,r,i,o,a,s,l,c,d,p){(a&&t||l&&!n||s&&":"===s.slice(-1)||c)&&le(e),o&&(i=":",r=U);var u,f,h,c=(t||E)&&[[]],g="",v="",m="",_="",b="",y="",x="",w="",o=!(l=l||E&&!T)&&!i;n=n||(s=s||"#data",i),A(p),L=p+e.length,a?P&&D.push(["*","\n"+s.replace(/^:/,"ret+= ").replace(ve,"$1")+";\n"]):n?("else"===n&&(be.test(s)&&le('For "{{else if expr}}" use "{{else expr}}"'),c=O[9]&&[[]],O[10]=k.substring(O[10],p),f=O[11]||O[0]||le("Mismatched: "+e),O=V.pop(),D=O[2],o=!0),s&&ut(s.replace(ie," "),c,C,E).replace(_e,.slice(0,-1),c&&c[0]&&c.pop(),I=[n,r||!!j||N||"",o&&[],pt(_||(":"===n?"'#data',":""),b,y),pt(v||(":"===n?"data,":""),g,m),x,w,u,h,c||0],D.push(I),o&&(V.push(O),(O=I)[10]=L,O[11]=f)):d&&(S(d!==O[0]&&d!==O[11]&&d,O[0]),O[10]=k.substring(O[10],p),O=V.pop()),S(!O&&d),D=O[2]}),A(k.length),(L=r[r.length-1])&&S("string"!=typeof L&&+L[10]===L[10]&&L[0]),E){for(t=ft(r,k,E),n=[],e=r.length;e--;)n.unshift(r[e][9]);dt(t,n)}else t=ft(r,C);return t}function dt(e,t){var n,r,i=0,o=t.length;for(e.deps=[],e.paths=[];i<o;i++)for(n in e.paths.push(r=t[i]),r)"_jsvto"!==n&&r.hasOwnProperty(n)&&r[n].length&&!r[n].skp&&(e.deps=e.deps.concat(r[n]))}unction ut(T,A,e,S){var I,N,P,L,V=A&&A[0],D={bd:V},O={0:D},M=0,F=0,B=0,$={},q=0,U={},R={},H={},K={0:0},W={0:""},X=0,e=((T="@"===T[0]?T.replace(Te,"."):T)+(e?" ":"")).replace(J.rPrm,function(e,t,n,r,l,i,o,a,s,c,d,p,u,f,h,g,v,m,_,b,y){i=i||"",u=u||"",n=n||t||u,l=(l=r&&!a?r+l:l)||s,(c=c&&!/\)|]/.test(y[b-1]))&&(l=l.slice(1).split(".").join("^")),d=d||m||"";var x,w,k,C,E,j=b;if(!L&&!P){if(o&&le(T),v&&V){if(s=H[B-1],y.length-1>j-(s||0)){if(s=oe.trim(y.slice(s,j+e.length)),x=N||O[B-1].bd,(w=x[x.length-1])&&w.prm){for(;w.sb&&w.sb.prm;)w=w.sb;k=w.sb={path:w.sb,bnd:w.bnd}}else x.push(k={path:x.pop()});w&&w.sb===k&&(W[B]=W[B-1].slice(w._cpPthSt)+W[B],W[B-1]=W[B-1].slice(0,w._cpPthSt)),k._cpPthSt=K[B-1],k._cpKey=s,W[B]+=y.slice(X,b),X=b,k._cpfn=Ve[s]=Ve[s]||new Function("data,view,j","//"+s+"\nvar v;\nreturn ((v="+W[B]+("]"===g?")]":g)+")!=null?v:null);"),W[B-1]+=R[F]&&ae.cache?'view.getCache("'+s.replace(me,"\\$&")+'"':W[B],k.prm=D.bd,k.bnd=k.bnd||k.path&&0<=k.path.indexOf("^")}W[B]=""}"["===d&&(d="[j._sq("),"["===n&&(n="[j._sq(")}return o=L?(L=!f)?e:u+'"':P?(P=!h)?e:u+'"':(n?(U[++F]=!0,$[F]=0,V&&(H[B++]=j++,D=O[B]={bd:[]},W[B]="",K[B]=1),n):"")+(_?F?"":(M=y.slice(M,j),(I?(I=N=!1,"\b"):"\b,")+M+(M=j+e.length,V&&A.push(D.bd=[]),"\b")):a?(B&&le(T),V&&A.pop(),I="_"+l,M=j+e.length,V&&((V=D.bd=A[I]=[]).skp=!r),l+":"):l?l.split("^").join(".").replace(J.rPath,function(e,t,n,r,i,o,a,s){if(C="."===n,n&&(l=l.slice(t.length),/^\.?constructor$/.test(s||l)&&le(e),C||(e=(c?(S?"":"(ltOb.lt=ltOb.lt||")+"(ob=":"")+(r?'view.ctxPrm("'+r+'")':i?"view":"data")+(c?")===undefined"+(S?"":")")+'?"":view._getOb(ob,"':"")+(s?(o?"."+o:r||i?"":"."+n)+(a||""):(s=r?"":i?o||"":n,"")),e=t+("view.data"===(e+=s?"."+s:"").slice(0,9)?e.slice(5):e)+(c?(S?'"':'",ltOb')+(d?",1)":")"):"")),V)){if(x="_linkTo"===I?N=A._jsvto=A._jsvto||[]:D.bd,w=C&&x[x.length-1]){if(w._cpfn){for(;w.sb;)w=w.sb;w.prm&&(w.bnd&&(l="^"+l.slice(1)),w.sb=l,w.bnd=w.bnd||"^"===l[0])}}else x.push(l);d&&!C&&(H[B]=j,K[B]=W[B].length)}return e})+(d||i):i||(g?"]"===g?")]":")":p?(R[F]||le(T),","):t?"":(L=f,P=h,'"'))),L||P||g&&(R[F]=!1,F--),V&&(L||P||(g&&(U[F+1]&&(D=O[--B],U[F+1]=!1),q=$[F+1]),d&&($[F+1]=W[B].length+(n?1:0),l||g)&&(D=O[++B]={bd:[]},U[F+1]=!0)),W[B]=(W[B]||"")+y.slice(X,b),X=b+e.length,L||P||((E=n&&U[F+1])&&(W[B-1]+=n,K[B-1]++),"("===d&&C&&!k&&(W[B]=W[B-1].slice(q)+W[B],W[B-1]=W[B-1].slice(0,q))),W[B]+=E?o.slice(1):o),L||P||!d||(F++,l&&"("===d&&(R[F]=!0)),L||P||!m||(V&&(W[B]+=d),o+=d),o});return V&&(e=W[0]),!F&&e||le(T)}function ft(e,t,n){var r,i,o,a,s,l,c,d,p,u,f,h,g,v,m,_,b,y,x,w,k,C,E,j,T,A,S,I,N,P=0,L=ae.useViews||t.useViews||t.tags||t.templates||t.helpers||t.converters,V="",D={},O=e.length;for("string"==typeof t?(m=n?'data-link="'+t.replace(ie," ").slice(1,-1)+'"':t,t=0):(m=t.tmplName||"unnamed",t.allowCode&&(D.allowCode=!0),t.debug&&(D.debug=!0),p=t.bnds,v=t.tmpls),r=0;r<O;r++)if("string"==typeof(i=e[r]))V+='+"'+i+'"';else if("*"===(o=i[0]))V+=";\n"+i[1]+"\nret=ret";else{if(a=i[1],b=!n&&i[2],I=i[3],N=f=i[4],I="\n\tparams:{args:["+I[0]+"],\n\tprops:{"+I[1]+"}"+(I[2]?",\n\tctx:{"+I[2]+"}":"")+"},\n\targs:["+N[0]+"],\n\tprops:{"+N[1]+"}"+(N[2]?",\n\tctx:{"+N[2]+"}":""),N=i[6],T=i[7],S=i[8]?(A="\nvar ob,ltOb={},ctxs=",";\nctxs.lt=ltOb.lt;\nreturn ctxs;"):(A="\nreturn ",""),j=i[10]&&i[10].replace(ve,"$1"),(w="else"===o)?u&&u.push(i[9]):(E=i[5]||!1!==F.debugMode&&"undefined",p&&(u=i[9])&&(u=[u],P=p.push(1))),L=L||f[1]||f[2]||u||/view.(?!index)/.test(f[0]),(k=":"===o)?a&&(o=a===U?">":a+o):(b&&((j=nt(j,D)).tmplName=m+"/"+o,j.useViews=j.useViews||L,ft(b,j),L=j.useViews,v.push(j)),w||(_=o,L=L||o&&(!M[o]||!M[o].flow),x=V,V=""),y=(y=e[r+1])&&"else"===y[0]),j=E?";\ntry{\nret+=":"\n+",h=w="",k&&(u||N||a&&a!==U||T)){if((C=new Function("data,view,j","// "+m+" "+ ++P+" "+o+A+"{"+I+"};"+S))._er=E,C._tag=o,C._bd=!!u,C._lr=T,n)return C;dt(C,u),d=!0,w=(g='c("'+a+'",view,')+P+",",h=")"}if(V+=k?(n?(E?"try{\n":"")+"return ":j)+(d?(L=c=!(d=void 0),g+(C?(p[P-1]=C,P):"{"+I+"}")+")"):">"===o?(l=!0,"h("+f[0]+")"):"((v="+f[0]+")!=null?v:"+(n?"null)":'"")')):(s=!0,"\n{view:view,content:false,tmpl:"+(b?v.length:"false")+","+I+"},"),_&&!y){if(V="["+V.slice(0,-1)+"]",g='t("'+_+'",view,this,',n||u){if((V=new Function("data,view,j"," // "+m+" "+P+" "+_+A+V+S))._er=E,V._tag=_,u&&dt(p[P-1]=V,u),V._lr=T,n)return V;w=g+P+",undefined,",h=")"}V=x+j+g+(u&&P||V)+")",_=u=0}E&&!y&&(L=!0,V+=";\n}catch(e){ret"+(n?"urn ":"+=")+w+"j._err(e,view,"+E+")"+h+";}"+(n?"":"\nret=ret"))}V="// "+m+(D.debug?"\ndebugger;":"")+"\nvar v"+(s?",t=j._tag":"")+(c?",c=j._cnvt":"")+(l?",h=j._html":"")+(n?(i[8]?", ob":"")+";\n":',ret=""')+V+(n?"\n":";\nreturn ret;");try{V=new Function("data,view,j",V)}catch(e){le("Compiled template code:\n\n"+V+'\n: "'+(e.message||e)+'"')}return t&&(t.fn=V,t.useViews=!!L),V}unction gt(t,e){var n,r,i,o=e.tag,a=e.props,s=e.params.props,l=a.filter,c=a.sort,d=!0===c,p=parseInt(a.step),u=a.reverse?-1:1;if($(t)){if(d||c&&"string"==typeof c?((n=t.map(function(e,t){return{i:t,v:"string"==typeof(e=d?e:Je(e,c))?e.toLowerCase():e}})).sort(,t=n.map():(c||u<0)&&!o.dataMap&&(t=t.slice()),N(c)&&(t=t.sort(function(){return c.apply(e,arguments)})),(t=u<0&&(!c||N(c))?t.reverse():t).filter&&l&&(t=t.filter(l,e),e.tag.onFilter)&&e.tag.onFilter(e),s.sorted&&(n=c||u<0?t:t.slice(),o.sorted?oe.observable(o.sorted).refresh(n):e.map.sorted=n),r=a.start,i=a.end,(s.start&&void 0===r||s.end&&void 0===i)&&(r=i=0),isNaN(r)&&isNaN(i)||(i=void 0===i||i>t.length?t.length:+i,t=t.slice(r=+r||0,i)),1<p){for(r=0,i=t.length,n=[];r<i;r+=p)n.push(t[r]);t=n}s.paged&&o.paged&&S(o.paged).refresh(t)}return t}={jsviews:re,sub:{rPath:/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,rPrm:/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(~?[\w$.^]+)?\s*((\+\+|--)|\+|-|~(?![\w$])|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?(@)?[#~]?[\w$.^]+)([([])?)|(,\s*)|(?:(\()\s*)?\\?(?:(')|("))|(?:\s*(([)\]])(?=[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,View:Ge,Err:He,tmplFn:ct,parse:ut,extend:k,extendCtx:ht,syntaxErr:le,onStore:{template:,addSetting:it,settings:{allowCode:!1},advSet:Re,_thp:qe,_gm:$e,_tg:_cnvt:function(e,t,n,r){var i,o,a,s,l,c="number"==typeof n&&t.tmpl.bnds[n-1];void 0===r&&c&&c._lr&&(r="");void 0!==r?n=r={props:{},args:[r]}:c&&(n=c(t.data,t,J));if(c=c._bd&&c,e||c){if(o=t._lc,i=o&&o.tag,n.view=t,!i){if(i=k(new J._tg,{_:{bnd:c,unlinked:!0,lt:n.lt},inline:!o,tagName:":",convert:e,onArrayChange:!0,flow:!0,tagCtx:n,tagCtxs:[n],_is:"tag"}),1<(s=n.args.length))for(l=i.bindTo=[];s--;)l.unshift(s);o&&((o.tag=i).linkCtx=o),n.ctx=ht(n.ctx,(o?o.view:t).ctx),qe(i,n)}i._er=r&&a,i.ctx=n.ctx||i.ctx||{},n.ctx=void 0,a=i.cvtArgs()[0],i._er=r&&a}else a=n.args[0];return null!=(a=c&&t._.onRender?t._.onRender(a,t,i):a)?a:""},_tag:function(e,t,n,r,i,o){ar a,s,l,c,d,p,u,f,h,g,v,m,_,b,y,x,w,M,k,C,E,j,T,A,S,I,N=0,P="",L=(t=t||B)._lc||!1,V=t.ctx,F=n||t.tmpl,D="number"==typeof r&&t.tmpl.bnds[r-1];("tag"===e._is?(e=(a=e).tagName,r=a.tagCtxs,a):(s=t.getRsc("tags",e)||se("Unknown tag: {{"+e+"}} "),s)).template;void 0===o&&D&&(D._lr=s.lateRender&&!1!==D._lr||D._lr)&&(o="");void 0!==o?(P+=o,r=o=[{props:{},args:[],params:{props:{}}}]):D&&(r=D(t.data,t,J));for(p=r.length;N<p;N++)g=r[N],y=g.tmpl,(!L||!L.tag||N&&!L.tag.inline||a._er||y&&+y===y)&&(y&&F.tmpls&&(g.tmpl=g.content=F.tmpls[y-1]),g.index=N,g.ctxPrm=Qe,g.render=at,g.cvtArgs=ze,g.bndArgs=Ze,g.view=t,g.ctx=ht(ht(g.ctx,s&&s.ctx),V)),(n=g.props.tmpl)&&(g.tmpl=t._getTmpl(n),g.content=g.content||g.tmpl),a?L&&L.fn._lr&&(x=!!a.init):(a=new s._ctr,x=!!a.init,a.parent=d=V&&V.tag,a.tagCtxs=r,L&&(a.inline=!1,L.tag=a),a.linkCtx=L,(a._.bnd=D||L.fn)?(a._.ths=g.params.props.this,a._.lt=r.lt,a._.arrVws={}):a.dataBoundOnly&&se(e+" must be data-bound:\n{^{"+e+"}}")),C=a.dataMap,g.tag=a,C&&r&&(g.map=r[N].map),a.flow||(y=g.ctx=g.ctx||{},l=a.parents=y.parentTags=V&&ht(y.parentTags,V.parentTags)||{},d&&(l[d.tagName]=d),l[a.tagName]=y.tag=a,y.tagCtx=g);if(!(a._er=o)){for(qe(a,r[0]),a.rendering={rndr:a.rendering},N=0;N<p;N++){if(g=a.tagCtx=r[N],k=g.props,a.ctx=g.ctx,!N){if(x&&(a.init(g,L,a.ctx),x=void 0),g.args.length||!1===g.argDefault||!1===a.argDefault||(g.args=w=[g.view.data],g.params.args=["#data"]),m=O("bindTo"),void 0!==a.bindTo&&(a.bindTo=m),void 0!==a.bindFrom?a.bindFrom=O("bindFrom"):a.bindTo&&(a.bindFrom=a.bindTo=m),_=a.bindFrom||m,A=m.length,T=_.length,a._.bnd&&(S=a.linkedElement)&&(a.linkedElement=S=$(S)?S:[S],A!==S.length)&&se("linkedElement not same length as bindTo"),(S=a.linkedCtxParam)&&(a.linkedCtxParam=S=$(S)?S:[S],T!==S.length)&&se("linkedCtxParam not same length as bindFrom/bindTo"),_)for(a._.fromIndex={},a._.toIndex={},f=T;f--;)for(j=_[f],u=A;u--;)j===m[u]&&(a._.fromIndex[u]=f,a._.toIndex[f]=u);L&&(L.attr=a.attr=L.attr||a.attr||L._dfAt),c=a.attr,a._.noVws=c&&c!==U}if(w=a.cvtArgs(N),a.linkedCtxParam)for(M=a.cvtArgs(N,1),u=T,I=a.constructor.prototype.ctx;u--;)(v=a.linkedCtxParam[u])&&(j=_[u],b=M[u],g.ctx[v]=J._cp(I&&void 0===b?I[v]:b,void 0!==b&&Ye(g.params,j),g.view,a._.bnd&&{tag:a,cvt:a.convert,ind:u,tagElse:N}));(E=k.dataMap||C)&&(w.length||k.dataMap)&&((k=g.map)&&k.src===w[0]&&!i||(k&&k.src&&k.unmap(),E.map(w[0],g,k,!a._.bnd),k=g.map),w=[k.tgt]),h=void 0,a.render&&(h=a.render.apply(a,w),t.linked)&&h&&!ke.test(h)&&((n={links:[]}).render=n.fn=function(){return h},h=st(n,t.data,void 0,!0,t,void 0,void 0,a)),w.length||(w=[t]),void 0===h&&(E=w[0],a.contentCtx&&(E=!0===a.contentCtx?t:a.contentCtx(E)),h=g.render(E,!0)||(i?void 0:"")),P=P?P+(h||""):void 0!==h?""+h:void 0}a.rendering=a.rendering.rndr}a.tagCtx=r[0],a.ctx=a.tagCtx.ctx,a._.noVws&&a.inline&&(P="text"===c?q.html(P):"");return D&&t._.onRender?t._.onRender(P,t,a):P},_er:se,_err:lt,_cp:Ue,_sq:,settings:{delimiters:Ke,advanced:,map:ot},(He.prototype=new Error).constructor=He,We.depends=Xe.depends="index",Ge.prototype={get:function(e,t){t||!0===e||(t=e,e=void 0);var n,r,i,o,a=this,s="root"===t;if(e){if(!(o=t&&a.type===t&&a))if(n=a.views,a._.useKey){for(r in n)if(o=t?n[r].get(e,t):n[r])break}else for(r=0,i=n.length;!o&&r<i;r++)o=t?n[r].get(e,t):n[r]}else if(s)o=a.root;else if(t)for(;a&&!o;)o=a.type===t?a:void 0,a=a.parent;else o=a.parent;return o||void 0},getIndex:Xe,ctxPrm:Qe,getRsc:function(e,t){var n,r,i=this;if("string"==typeof t){for(;void 0===n&&i;)n=(r=i.tmpl&&i.tmpl[e])&&r[t],i=i.parent;return n||p[e][t]}},_getTmpl:_getOb:Je,getCache:function(e){return F._cchCt>this.cache._ct&&(this.cache={_ct:F._cchCt}),void 0!==this.cache[e]?this.cache[e]:this.cache[e]=Ve[e](this.data,this,J)},_is:"view"},J=p.sub,i=p.settings,!oe.link){for(t in Fe)rt(t,Fe[t]);if(q=p.converters,d=p.helpers,M=p.tags,J._tg.prototype={baseApply:cvtArgs:ze,bndArgs:Ze,ctxPrm:Qe},B=J.topView=new Ge,oe){if(oe.fn.render=vt,I=oe.expando,oe.observable){if(re!==(re=oe.views.jsviews))throw"jquery.observable.js requires jsrender.js "+re;k(J,oe.views.sub),p.map=oe.views.map}}else oe={},e&&(x.jsrender=oe),oe.renderFile=oe.__express=oe.compile=oe.isFunction=oe.isArray=Array.isArray||J._jq=function(e){e!==oe&&(k(e,oe),(oe=e).fn.render=vt,delete oe.jsrender,I=oe.expando)},oe.jsrender=re;for(n in(F=J.settings).allowCode=!1,N=oe.isFunction,oe.render=De,oe.views=p,oe.templates=c=p.templates,F)it(n);(i.debugMode=function(e){return void 0===e?F.debugMode:(F._clFns&&F._clFns(),F.debugMode=e,F.onError="string"==typeof e?function(){return e}:N(e)?e:void 0,i)})(!1),ae=F.advanced={cache:!0,useViews:!1,_jsv:!1},M({if:{render:function(e){var t=this.tagCtx;return this.rendering.done||!e&&(t.args.length||!t.index)?"":(this.rendering.done=!0,void(this.selected=t.index))},contentCtx:!0,flow:!0},for:{sortDataMap:ot(gt),init:render:function(e){var t,n,r,i,o=this.tagCtx,a=!1===o.argDefault,s=o.props,l=a||o.args.length,c="",d=0;if(!this.rendering.done){if(t=l?e:o.view.data,a)for(a=s.reverse?"unshift":"push",r=+s.end,i=+s.step||1,t=[],n=+s.start||0;0<(r-n)*i;n+=i)t[a](n);void 0!==t&&(e=$(t),c+=o.render(t,!l||s.noIteration),d+=e?t.length:1),(this.rendering.done=d)&&(this.selected=o.index)}return c},setDataMap:function(e){for(var t,n,r,i=e.length;i--;)n=(t=e[i]).props,r=t.params.props,t.argDefault=void 0===n.end||0<t.args.length,n.dataMap=!1!==t.argDefault&&$(t.args[0])&&(r.sort||r.start||r.end||r.step||r.filter||r.reverse||n.sort||n.start||n.end||n.step||n.filter||n.reverse)&&this.sortDataMap},flow:!0},props:{baseTag:"for",dataMap:ot(function(e,t){var n,r,i=t.map,o=i&&i.propsArr;if(!o){if(o=[],typeof e===O||N(e))for(n in e)r=e[n],n===I||!e.hasOwnProperty(n)||t.props.noFunctions&&oe.isFunction(r)||o.push({key:n,prop:r});i&&(i.propsArr=i.options&&o)}return gt(o,t)}),init:Re,flow:!0},include:{flow:!0},"*":{render:Ue,flow:!0},":*":{render:Ue,flow:!0},dbg:d.dbg=q.dbg=function(e){try{throw console.log("JsRender dbg breakpoint: "+e),"dbg breakpoint"}catch(e){}return this.base?this.baseApply(arguments):e}}),q({html:bt,attr:bt,encode:function(e){return"string"==typeof e?e.replace(Ee,mt):e},unencode:url:)}if(F=J.settings,$=(oe||Oe).isArray,i.delimiters("{{","}}","^"),Me&&Oe.views.sub._jq(oe),p=oe.views,J=p.sub,N=oe.isFunction,$=oe.isArray,I=oe.expando,oe.observe||(e=oe.event.special,K=[].slice,a=[].splice,W=[].concat,s=parseInt,X=/\S+/g,l=/^[^.[]*$/,P=J.propChng=J.propChng||"propertyChange",L=J.arrChng=J.arrChng||"arrayChange",v={},Q=P+".observe",Y=u=z=1,V=oe.data,f={},Z=function(e){return e?e._cId=e._cId||".obs"+u++:""},g=function(e,t){return this._data=t,this._ns=e,this},m=G=function(e,t,n){for(var r,i,o,a=i=t,s=(e=e?$(e)?e:[e]:[])&&e.length,l=[],c=0;c<s;c++)r=e[c],N(r)?(o=t.tagName?t.linkCtx.data:t,l=l.concat(G(r.call(t,o,n),o,n))):"string"!=typeof r?(t=a=r=void 0===r?null:r,a!==i&&l.push(i=a)):(a!==i&&l.push(i=a),l.push(r));return l.length&&(l.unshift({_ar:1}),l.push({_ar:-1})),l},ee=function(e,t){function n(e){return typeof e===O&&(p[0]||!d&&$(e))}var r,i,o,a,s,l,c,d,p,u;e.data&&e.data.off||(o=t.oldValue,a=t.value,l=(s=e.data).observeAll,c=s.cb,d=s._arOk?0:1,p=s.paths,u=s.ns,e.type===L?(c.array||c).call(s,e,t):s.prop!==t.path&&"*"!==s.prop||(l?(r=l._path+"."+t.path,i=l.filter,l=[e.target].concat(l.parents()),n(o)&&_(void 0,u,[o],p,c,!0,i,[l],r),n(a)&&_(void 0,u,[a],p,c,void 0,i,[l],r)):(n(o)&&_(d,u,[o],p,c,!0),n(a)&&_(d,u,[a],p,c)),s.cb(e,t)))},_=function(){var e=W.apply([],arguments);return D.apply(e.shift(),e)},j=function(e,t,n){T(this._ns,this._data,e,t,[],"root",n)},re=T=function(i,e,o,a,t,n,r,s){function l(e,t){for(p=e.length,u=n+"[]";p--;)c(e,p,t,1)}function c(e,t,n,r){+t!==t&&t===I||!(e=S._fltr(u,e[t],f,a))||(t=f.slice(),r&&h&&t[0]!==h&&t.unshift(h),T(i,e,o,a||(r?void 0:0),t,u,n,s))}function d(e,t){switch(n=e.data.observeAll._path,h=e.target,t.change){case"insert":l(t.items);break;case"remove":l(t.items,!0);break;case"set":u=n+"."+t.path,c(t,"oldValue",!0),c(t,"value")}h=void 0,o.apply(this,arguments)}d._wrp=1;var p,u,f,h,g,v=!s||s.un||!r;if(e&&typeof e===O)if(f=[e].concat(t),t=$(e)?"":"*",s&&v&&oe.hasData(e)&&s[g=V(e).obId])s[g]++;else{if(s=s||{un:r},o){if(t||0!==a)if(d._cId=Z(o),v)D(i,e,t,d,r,a,f,n),g=V(e).obId,s[g]=(s[g]||0)+1;else{if(--s[V(e).obId])return;D(i,e,t,d,r,a,f,n)}}else s&&(s[V(e).obId]=1),D(i,e,t,void 0,r,a,f,n);if(t)for(p in e)u=n+"."+p,c(e,p,r);else l(e,r)}},A=function(e){return l.test(e)},te=function(){return[].push.call(arguments,!0),D.apply(void 0,arguments)},ne=function(e){var t,n=this.slice();for(this.length=0,this._go=0;t=n.shift();)t.skip||t[0]._trigger(t[1],t[2],!0);this.paths={}},D=function(){var T,A=1==this?0:1,e=K.call(arguments),t=e[0];return"string"==typeof t&&(T=t,e.shift()),function l(){var e,m,i,t,_,o,p,c,u,b,f,n,r,d,y,x,w;function a(e,t){var n;for(_ in t)n=t[_],$(n)?C(e,n,m,m):k(e,n,void 0,j,"")}function k(e,t,n,r,i,o,a){var s,l=$(l=t)?[l]:l,c=u,d=b;if(r=T?r+"."+T:r,!m&&(a||o))for(x=(x=oe._data(t).events)&&x[o?L:P],w=x&&x.length;w--;)if((_=x[w]&&x[w].data)&&(a&&_.ns!==T||!a&&_.ns===T&&_.cb&&_.cb._cId===e._cId&&(!e._wrp||_.cb._wrp)))return;m||a?oe(l).off(r,ee):((o=o?{}:{fullPath:n,paths:i?[i]:[],prop:y,_arOk:A}).ns=T,o.cb=e,b&&(o.observeAll={_path:d,path:function(){return s=c.length,d.replace(/[[.]/g,function(e){return s--,"["===e?"["+oe.inArray(c[s-1],c[s]):"."})},parents:filter:f}),oe(l).on(r,null,o,ee),p&&(n=(n=V(t)).obId||(n.obId=z++),p[n]=p[n]||(p.len++,t)))}function C(e,t,n,r,i){var o,a;A&&(o=b,a=t,i&&(a=t[i],b=b&&b+"."+i),(a=f?a&&S._fltr(b,a,i?[t].concat(u):u,f):a)&&(r||$(a))&&k(e,a,void 0,L+".observe"+Z(e),void 0,!0,n),b=o)}function E(e){function v(e,t,p,u){function f(e,r){function t(e,t){var n;if("insert"===t.change||(m="remove"===t.change)){for(n=t.items.length;n--;)f(t.items[n],r.slice());m=!1}}p&&(t._cId=Z(p));var n,i,o,a,s,l,c,d=e;if(e&&e._cxp)return v(e[0],[e[1]],p,u);for(;void 0!==(y=r.shift());){if(d&&typeof d===O&&"string"==typeof y){if(""===y)continue;if("()"===y.slice(-2)&&(y=y.slice(0,-2),c=!0),r.length<g+1&&!d.nodeType){if(!m&&(x=oe._data(d).events)){for(x=x&&x[P],w=x&&x.length,i=0;w--;)!(_=x[w].data)||_.ns!==T||_.cb._cId!==p._cId||_.cb._inId!==p._inId||!_._arOk!=!A||_.prop!==y&&"*"!==_.prop&&"**"!==_.prop||((s=r.join("."))&&_.paths.push(s),i++);if(i){d=d[y];continue}}if("*"===y||"**"===y){if(!m&&x&&x.length&&k(p,d,h,j,"",!1,!0),"*"===y)for(s in k(p,d,h,j,""),d)s!==I&&C(p,d,m,void 0,s);else oe.observable(T,d)[(m?"un":"")+"observeAll"](p);break}"[]"==y?$(d)&&(m?k(p,d,h,L+Z(p),void 0,m,m):D(T,d,t,m)):y&&k(p,d,h,j+".p_"+y,r.join("^"))}if(b&&(b+="."+y),"[]"===y){for($(d)&&(n=(a=d).length);n--;)f(d=a[n],r.slice());return}y=d[y],r[0]||C(p,y,m)}if(N(y)&&((o=(l=y).depends)&&(d._vw&&d._ocp&&(d=(d=(d=d._vw)._tgId?d.tagCtx.view:d).data),E(W.apply([],[[d],G(o,d,p)]))),c)){if(!r[0]){C(p,l.call(d),m);break}if(!(y=l.call(d)))break}d=y}}var n,r,i,o,a,h,g=0,s=t.length;for(!e||u||!(d="view"===e._is)&&"tag"!==e._is||(u=J._gccb(d?e:e.tagCtx.contentView),p&&!m&&(r=e,i=p,(p=._cId=i._cId,p._inId=i._inId),e=d?e.data:e),t[0]||($(e)?C(p,e,m,!0):m&&k(p,e,void 0,j,"")),n=0;n<s;n++)""!==(h=t[n])&&(h&&h._ar?A+=h._ar:"string"==typeof h?((c=h.split("^"))[1]&&(g=c[0].split(".").length,h=c.join("."),g=h.split(".").length-g),u&&(c=u(h,g))?c.length&&(o=c[0],a=c[1],o&&o._cxp&&(a=o[1],"view"===(o=o[0])._is)?v(o,[a],p):"string"==typeof a?f(o,a.split(".")):v(c.shift(),c,p,u)):f(e,h.split("."))):!N(h)&&h&&h._cpfn&&((c=m?h.cb:function(o){return o.ob=u(o),o.cb=function(e,t){var n=o.ob,r=o.sb,i=u(o);i!==n&&(typeof n===O&&(C(p,n,!0),r||A&&$(n))&&l([n],r,p,u,!0),typeof(o.ob=i)===O)&&(C(p,i),r||A&&$(i))&&l([i],r,p,u),p(e,t)}}(h))._cId=p._cId,c._inId=c._inId||".obIn"+Y++,(h.bnd||h.prm&&h.prm.length||!h.sb)&&l([e],h.path,h.prm.length?[h.root||e]:[],h.prm,c,u,m),h.sb)&&(h.sb.prm&&(h.sb.root=e),v(h.ob,[h.sb],p,u)))}for(var t,n=[],r=e.length;r--;)"string"==typeof(t=e[r])||t&&(t._ar||t._cpfn)?n.unshift(t):(v(t,n,i,o),n=[])}var j=Q,s=1!=this?W.apply([],arguments):K.call(arguments),h=s.pop()||!1,g=s.length;if("string"==typeof h&&(b=h,u=s.pop(),f=s.pop(),h=!!s.pop(),g-=3),h===!!h&&(m=h,h=s[g-1],h=!g||"string"==typeof h||h&&!N(h)?void 0:(g--,s.pop()),m)&&!g&&N(s[0])&&(h=s.shift()),i=h,g&&N(s[g-1])&&(o=i,h=i=s.pop(),g--),!m||!i||i._cId){for(j+=i?(h=i._inId||"",m?i._cId+h:(t=Z(i))+h):"",t&&!m&&(p=v[t]=v[t]||{len:0}),r=(n=T&&T.match(X)||[""]).length;r--;){if(T=n[r],m&&arguments.length<3)if(i)a(i,v[i._cId]);else if(!s[0])for(e in v)a(i,v[e]);E(s)}return t&&!p.len&&delete v[t],{cbId:t,bnd:p}}}.apply(1,e)},(h=[]).wait=function(){var e=this;e._go=1,setTimeout(function(){e.trigger(!0),e._go=0,e.paths={}})},S=function(e,t,n){"string"!=typeof e&&(n=t,t=e,e=""),n=void 0===n?ae.asyncObserve:n;e=new($(t)?m:g)(e,t);return n&&(!0===n&&(e.async=!0,n=h),n.trigger||($(n)?(n.trigger=ne,n.paths={}):n=void 0),e._batch=n),e},(oe.observable=S)._fltr=function(e,t,n,r){if(!r||!N(r)||r(e,t,n))return typeof(t=N(t)?t.set&&t.call(n[0]):t)===O&&t},S.Object=g,S.Array=m,oe.observe=S.observe=D,oe.unobserve=S.unobserve=te,S._apply=_,g.prototype={_data:null,observeAll:j,unobserveAll:re,data:function(){return this._data},setProperty:function(e,t,n,r){e=e||"";var i,o,a,s,l=this,c=l._data,d=l._batch;if(c)if("string"!=typeof e)if(n=t,$(e))for(i=e.length;i--;)o=e[i],l.setProperty(o.name,o.value,void 0===n||n);else{for(i in d||(l._batch=s=[],s.trigger=ne,s.paths={}),e)l.setProperty(i,e[i],n);s&&(l._batch.trigger(),l._batch=void 0)}else if(e!==I){for(a=e.split(/[.^]/);c&&1<a.length;)c=c[a.shift()];c&&l._setProperty(c,a[0],t,n,r)}return l},removeProperty:_setProperty:function(e,t,n,r,i){var o,a,s,l,c=t?e[t]:e;if(N(c)&&!N(n)){if(i&&!c.set)return;c.set&&(l=e._vw||e,o=!0===(a=c).set?a:a.set,c=a.call(l))}(c!==n||r&&c!=n)&&(!(c instanceof Date&&n instanceof Date)||n<c||c<n)&&(o?(o.call(l,n),n=a.call(l)):(s=n===f)?void 0!==c?(delete e[t],n=void 0):t=void 0:t&&(e[t]=n),t)&&(i={change:"set",path:t,value:n,oldValue:c,remove:s},e._ocp&&(i.ctxPrm=e._key),this._trigger(e,i))},_trigger:function(e,t,n){F._cchCt++;var r,i;oe.hasData(e)&&(!n&&(n=this._batch)?(this.async&&!n._go&&n.wait(),n.push([this,e,t]),r=V(e).obId+t.path,(i=n.paths[r])&&(n[i-1].skip=1),n.paths[r]=n.length):(oe(e).triggerHandler(P+(this._ns?"."+/^\S+/.exec(this._ns)[0]:""),t),t.oldValue=null))}},m.prototype={_data:null,observeAll:j,unobserveAll:re,data:insert:function(e,t){var n=this._data;return 1===arguments.length&&(t=e,e=n.length),-1<(e=s(e))&&(t=$(t)?t:[t]).length&&this._insert(e,t),this},_insert:function(e,t){var n=this._data,r=n.length;a.apply(n,[e=r<e?r:e,0].concat(t)),this._trigger({change:"insert",index:e,items:t},r)},remove:function(e,t){var n=this._data;return void 0===e&&(e=n.length-1),e=s(e),0<(t=t?s(t):0===t?0:1)&&-1<e&&(t=(n=n.slice(e,e+t)).length)&&this._remove(e,t,n),this},_remove:function(e,t,n){var r=this._data,i=r.length;r.splice(e,t),this._trigger({change:"remove",index:e,items:n},i)},move:function(e,t,n){return n=n?s(n):0===n?0:1,e=s(e),t=s(t),0<n&&-1<e&&-1<t&&e!==t&&this._move(e,t,n),this},_move:function(e,t,n){var r=this._data,i=r.length,o=e+n-i;0<o&&(n-=o),n&&(o=r.splice(e,n),t>r.length&&(t=r.length),a.apply(r,[t,0].concat(o)),t!==e)&&this._trigger({change:"move",oldIndex:e,index:t,items:o},i)},refresh:function(e){function t(){i&&(s.insert(r-i,l),u+=i,n+=i,i=0,l=[])}var n,r,i,o,a,s=this,l=[],c=s._data,d=c.slice(),p=c.length,u=p,f=e.length;for(s._srt=!0,r=i=0;r<f;r++)if((o=e[r])===c[r-i])t();else{for(n=r-i;n<u&&o!==c[n];n++);if(n<u){for(t(),a=0;a++<f-n&&e[r+a]===c[n+a];);s.move(n,r,a),r+=a-1}else i++,l.push(o)}return t(),r<u&&s.remove(r,u-r),s._srt=void 0,(p||f)&&s._trigger({change:"refresh",oldItems:d},p),s},_trigger:function(e,t,n){F._cchCt++;var r,i=this;oe.hasData(r=i._data)&&(!n&&(n=i._batch)?(e._dly=!0,n.push([i,e,t]),i.async&&!n._go&&n.wait()):(n=r.length,r=oe([r]),i._srt?e.refresh=!0:n!==t&&r.triggerHandler(P,{change:"set",path:"length",value:n,oldValue:t}),r.triggerHandler(L+(i._ns?"."+/^\S+/.exec(i._ns)[0]:""),e)))}},e[P]=e[L]={remove:function(e){var t,n,r,i,o,a=e.data;if(a&&(a.off=!0,a=a.cb)&&(t=v[a._cId])){for(i=(r=oe._data(this).events[e.type]).length;i--&&!n;)n=(o=r[i].data)&&o.cb&&o.cb._cId===a._cId;n||(--t.len?delete t[V(this).obId]:delete v[a._cId])}}},p.map=function(a){function i(e,t,n,r){var i,o=this;o.src&&o.unmap(),t&&(t.map=o),typeof e!==O&&!N(e)||(o.src=e,r?o.tgt=a.getTgt(e,t):(n&&(o.tgt=n.tgt||$(n)&&n),o.tgt=o.tgt||[],o.options=t||o.options,(r=o.update())?o=r:(a.obsSrc&&S(o.src).observeAll(o.obs=function(e,t){i||t.refresh||(i=!0,a.obsSrc(o,e,t),i=void 0)},o.srcFlt),a.obsTgt&&S(o.tgt).observeAll(o.obt=function(e,t){i||o.tgt._updt||(i=!0,a.obsTgt(o,e,t),i=void 0)},o.tgtFlt))))}return(a=(a=N(a)?{getTgt:a}:a).baseMap?oe.extend({},a.baseMap,a):a).map=(i.prototype={srcFlt:a.srcFlt||A,tgtFlt:a.tgtFlt||A,update:function(e){var t,n=this,r=n.tgt;if(!r._updt&&(r._updt=!0,t=n.options&&n.options.map,S(r).refresh(a.getTgt(n.src,n.options=e||n.options)),r._updt=!1,e=n.options&&n.options.map)&&t!==e)return e},observe:function(e,t){var n=this,r=n.options;n.obmp&&te(n.obmp),n.obmp=function(){var e=t.fn(t.data,t.view,J)[r.index];oe.extend(r.props,e.props),r.args=e.args,n.update()},S._apply(1,t.data,G(e,t.tag,n.obmp),n.obmp,t._ctxCb)},unmap:function(){var e=this;e.src&&e.obs&&S(e.src).unobserveAll(e.obs,e.srcFlt),e.tgt&&e.obt&&S(e.tgt).unobserveAll(e.obt,e.tgtFlt),e.obmp&&te(e.obmp),e.src=void 0},map:i,_def:a}).constructor=i,a},J.advSet=function(){J=this,ae=F.advanced,x._jsv=ae._jsv?{cbBindings:v}:void 0},J._dp=G,J._gck=Z,J._obs=D,F._cchCt=0,ae=F.advanced=ae||{useViews:!1,_jsv:!1}),i=p.settings,F=J.settings,ae=F.advanced,q=p.converters,oe.templates=c=p.templates,M=p.tags,ye=/<(?!script)(\w+)[>\s]/,!oe.link){F.trigger=!0;var yt,xt,wt,ce,kt,de,pe,Ct,Et,jt,Tt=window.navigator.userAgent,At=void 0!==document.textContent?"textContent":"innerText",ue="data-jsv",St="change.jsv",It="onBeforeChange",Nt="onAfterChange",Pt="onAfterCreate",Lt="checked",Vt="checkbox",Dt="radio",Ot="input[type=",Mt="input[type="+Vt+"]",Ft="none",C="value",Bt="SCRIPT",$t="true",qt='"><\/script>',Ut='<script type="jsv',Rt=ue+"-df",Ht="script,["+ue+"]",Kt={value:"val",input:"val",html:U,text:"text"},Me={from:C,to:C},Wt=0,Xt=oe.cleanData,Jt=i.delimiters,Qt={},zt=document.createDocumentFragment(),Yt=document.querySelector,Zt={ol:1,ul:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,colgroup:1,dl:1,select:1,optgroup:1,svg:1,svg_ns:1},Gt={tr:"table"},en={br:1,img:1,input:1,hr:1,area:1,base:1,col:1,link:1,meta:1,command:1,embed:1,keygen:1,param:1,source:1,track:1,wbr:1},tn={},fe={},nn=1,rn=/^#(view\.?)?/,on=/((\/>)|<\/(\w+)>|)(\s*)([#/]\d+(?:_|(\^)))`(\s*)(<\w+(?=[\s\/>]))?|\s*(?:(<\w+(?=[\s\/>]))|<\/(\w+)>(\s*)|(\/>)\s*|(>)|$)/g,an=/(#)()(\d+)(_)/g,sn=/(#)()(\d+)([_^])/g,ln=/(?:(#)|(\/))(\d+)(_)/g,cn=/(?:(#)|(\/))(\d+)(\^)/g,dn=/(#)()(\d+)(\^)/g,pn=/(?:(#)|(\/))(\d+)([_^])([-+@\d]+)?/g,un=/&(\d+)\+?/g,fn=/^[^.]*$/,hn=x.getComputedStyle,gn=oe.inArray;if(Ot+=Dt+"]",Tt=0<Tt.indexOf("MSIE ")||0<Tt.indexOf("Trident/"),!(S=oe.observable))throw requiresStr+"jquery.observable.js";D=S.observe,F._clFns=zn(J.View.prototype),J.onStore.template=function(e,t,n){null===t?(delete oe.link[e],delete oe.render[e]):(t.link=jn,e&&!n&&"jsvTmpl"!==e&&(oe.render[e]=t,oe.link[e]=)},J.viewInfos=ge,(i.delimiters=function(){var e=Jt.apply(0,arguments);return Jt!==Ke&&(e=Ke.apply(0,arguments)),xt=new RegExp("(?:^|\\s*)([\\w-]*)(\\"+r+")?(\\"+b+J.rTag+"(:\\w*)?\\"+y+")","g"),e})(),J.addSetting("trigger"),q.merge=function(t){var n=this.linkCtx.elem.classList,e=this.tagCtx.props.toggle;return e&&(e.split(" ").forEach(e=>{e&&(t?this.linkCtx.elem.classList.contains(e)||n.add(e):this.linkCtx.elem.classList.contains(e)&&n.remove(e))}),t=n.toString()),t},M({on:{attr:Ft,bindTo:[],init:function(e){for(var t,n=0,r=e.args,i=r.length;n<i&&!N(r[n]);n++);this._hi=n<i&&n+1,this.inline&&(J.rTmpl.exec(t=oe.trim(e.tmpl.markup))||(this.template="<button>"+(t||e.params.args[n]||"noop")+"</button>"),this.attr=U)},onBind:function(){this.template&&(this.mainElem=this.contents("button"))},onAfterLink:function(e,r){var i,o,a=this,t=a._hi,n=e.args,s=n.length,l=e.props,c=l.data,d=e.view,p=l.context;t&&(i=n[t-1],o=n.slice(t),n=n.slice(0,t-1),a._sel=n[1],l=a.activeElem=a.activeElem||oe(a.inline?(a._sel=n[1]||"*",a.parentElem):r.elem),p=p||(p=/^(.*)[.^][\w$]+$/.exec(e.params.args.slice(-o.length-1)[0]))&&J.tmplFn(b+":"+p[1]+y,d.tmpl,!0)(r.data,d,J),a._evs&&a.onUnbind(e,r,a.ctx),l.on(a._evs=n[0]||"click",a._sel,null==c?null:c,a._hlr=function(e){var t,n=!a.inline;if(!n)for(t=a.contents("*"),s=t.length;!n&&s--;)t[s].contains(e.target)&&(n=!0);if(n)return i.apply(p||r.data,[].concat(o,e,{change:e.type,view:d,linkCtx:r},o.slice.call(arguments,1)))}))},onUpdate:!1,onArrayChange:!1,onUnbind:function(){var e=this,t=Wt;e.activeElem&&(Wt=0,e.activeElem.off(e._evs,e._sel,e._hlr),Wt=t)},contentCtx:!0,setSize:!0,dataBoundOnly:!0},radiogroup:{boundProps:["disabled"],init:function(e){this.name=e.props.name||(Math.random()+"jsv").slice(9)},onBind:function(a,e){var s,l,c=this,d=(d=a.params.props)&&d.disabled,p=c.inline?(s=(s=c.contents("*")[0])&&wt(s).ctx.tag===c.parent?s:c.parentElem,c.contents(!0,Ot)):(s=e.elem,oe(Ot,e.elem));for(c.linkedElem=p,l=p.length;l--;)p[l].name=p[l].name||c.name;oe(s).on("jsv-domchange",c._dmChg=function(e,t,n,r){var i,o,t=t.ctx.parentTags;if(!r.refresh&&(!c.inline||s!==c.parentElem||t&&t[c.tagName]===c)){for(o=c.cvtArgs()[0],p=c.linkedElem=c.contents(!0,Ot),l=p.length;l--;)(i=p[l])._jsvLkEl=c,i.name=i.name||c.name,i._jsvBnd="&"+c._tgId+"+",i.checked=o===i.value,d&&(i.disabled=!!a.props.disabled);c.linkedElems=a.linkedElems=[p]}}),c._dmChg.tgt=s},onAfterLink:function(e,t,n,r,i){var o=e.params.props;o&&o.disabled&&this.linkedElem.prop("disabled",!!e.props.disabled)},onUnbind:function(){this._dmChg&&(oe(this._dmChg.tgt).off("jsv-domchange",this._dmChg),this._dmChg=void 0)},onUpdate:!1,contentCtx:!0,dataBoundOnly:!0},checkboxgroup:{boundProps:["disabled"],init:function(e){this.name=e.props.name||(Math.random()+"jsv").slice(9)},onBind:function(o,e){for(var a,s=this,t=o.params.props,l=t&&t.disabled,c=o.params.args[0],d=s.contents(!0,Mt),p=d.length;p--;)d[p].name=d[p].name||s.name,d[p]._jsvLkEl=s;for(p in t)c+=" "+p+"="+t[p];d.link(c,e.data,void 0,void 0,e.view),s.linkedElem=d,a=s.inline?(a=s.contents("*")[0])&&oe.view(a).ctx.tag===s.parent?a:s.parentElem:e.elem,oe(a).on("jsv-domchange",s._dmChg=function(e,t,n,r){var i,t=t.ctx.parentTags;if(!r.refresh&&(!s.inline||a!==s.parentElem||t&&t[s.tagName]===s))for(d=s.contents(!0,Mt),p=d.length;p--;)(i=d[p])._jsvSel||(i.name=i.name||s.name,oe.link(c,i,n.data),l&&(i.disabled=!!o.props.disabled))}),s._dmChg.tgt=a},onAfterLink:function(e,t,n,r,i){var o=e.params.props;o&&o.disabled&&this.contents(!0,Mt).prop("disabled",!!e.props.disabled)},onUnbind:function(){this._dmChg&&(oe(this._dmChg.tgt).off("jsv-domchange",this._dmChg),this._dmChg=void 0)},onUpdate:!1,contentCtx:!0,dataBoundOnly:!0}}),k(M.for,{sortDataMap:p.map({getTgt:M.for.sortDataMap.getTgt,obsSrc:obsTgt:function(e,t,n){var r,i=n.items,o=e.src;if("remove"===n.change)for(r=i.length;r--;)S(o).remove(gn(i[r],o));else"insert"===n.change&&S(o).insert(i)}}),mapProps:["filter","sort","reverse","start","end","step"],bindTo:["paged","sorted"],bindFrom:[0],onArrayChange:function(e,t,n,r){var i,o=e.target.length,a=this;if(!a.rendering)if(a._.noVws||a.tagCtxs[1]&&("insert"===t.change&&o===t.items.length||"remove"===t.change&&!o))o=n.map&&n.map.propsArr,a.refresh(),o&&(n.map.propsArr=o);else for(i in a._.arrVws)(i=a._.arrVws[i]).data===e.target&&bn.apply(i,arguments);a.domChange(n,r,t),e.done=!0},onUpdate:onBind:function(e,r,t,n,i){for(var o,a=this,s=0,l=a._ars=a._ars||{},c=a.tagCtxs,d=c.length,p=a.selected||0;s<=p;s++)e=c[s],o=e.map?e.map.tgt:e.args.length?e.args[0]:e.view.data,l[s]&&(D(l[s],!0),delete l[s]),!l[s]&&$(o)&&!function(){var n=e;D(o,l[s]=}();for(s=p+1;s<d;s++)l[s]&&(D(l[s],!0),delete l[s]);i&&a.domChange(e,r,i)},onAfterLink:function(e){for(var t,n,r,i=this,o=0,a=i.tagCtxs,s=(a.length,i.selected||0);o<=s;o++)n=(e=a[o]).map,t=e.map?n.tgt:e.args.length?e.args[0]:e.view.data,$(t)&&(r=e.params.props)&&(r.paged&&!i.paged&&(oe.observable(i).setProperty("paged",t.slice()),i.updateValue(i.paged,0,o,!0)),r.sorted)&&!i.sorted&&(oe.observable(i).setProperty("sorted",n&&n.sorted||t.slice()),i.updateValue(i.sorted,1,o,!0))},onDispose:function(){for(var e in this._ars)D(this._ars[e],!0)}}),k(M.if,{onUpdate:function(e,t,n){for(var r,i,o=0;r=this.tagCtxs[o];o++)if(i=r.props.tmpl!==n[o].props.tmpl||r.args.length&&!(r=r.args[0])!=!n[o].args[0],!this.convert&&r||i)return i;return!1},onAfterLink:function(e,t,n,r,i){i&&this.domChange(e,t,i)}}),M("props",{baseTag:"for",dataMap:p.map({getTgt:M.props.dataMap.getTgt,obsSrc:function(e,t,n){var r,i,o=e.options.props;if(Yn(e.propsArr,n.path,n.value,n.remove),void 0!==o.sort||void 0!==o.start||void 0!==o.end||void 0!==o.step||o.filter||o.reverse)e.update();else if("set"===n.change){for(i=(r=e.tgt).length;i--&&r[i].key!==n.path;);-1===i?n.path&&!n.remove&&S(r).insert({key:n.path,prop:n.value}):n.remove?S(r).remove(i):S(r[i]).setProperty("prop",n.value)}},obsTgt:function(e,t,n){var r,i,o,a,s=e.src,l=n.change;if("set"===l)"prop"===n.path?S(s).setProperty(t.target.key,n.value):(S(s).removeProperty(n.oldValue),S(s).setProperty(n.value,t.target.prop));else if("insert"===l||(a="remove"===l))for(i=(r=n.items).length;i--;)(o=r[i].key)&&(Yn(e.propsArr,o,r[i].prop,a),a?(S(s).removeProperty(o),delete s[o]):S(s).setProperty(o,r[i].prop))},tgtFlt:),flow:!0}),k(oe,{view:wt=function(e,t,n){function r(e,t){if(e)for(o=ge(e,t,an),s=0,l=o.length;s<l&&!(i=(i=pe[o[s].id])&&(i&&n?i.get(!0,n):i));s++);}t!==!!t&&(n=t,t=void 0);var i,o,a,s,l,c,d,p=0,u=document.body;if(e&&e!==u&&1<B._.useKey&&(e="string"==typeof e?oe(e)[0]:e.jquery?e[0]:e)){if(t){if(r(e._df,!0),!i&&e.tagName)for(c=(d=Yt?e.querySelectorAll(Ht):oe(Ht,e).get()).length,a=0;!i&&a<c;a++)r(d[a]);return i}for(;e;){if(o=ge(e,void 0,ln))for(c=o.length;c--;)if((i=o[c]).open){if(p<1)return(i=pe[i.id])&&n?i.get(n):i||B;p--}else p++;e=e.previousSibling||e.parentNode}}return B},link:Tn,unlink:Hn,cleanData:function(e){e.length&&Wt&&Un(e),Xt.apply(oe,arguments)}}),k(oe.fn,{link:unlink:view:),oe.each([U,"replaceWith","empty","remove"],function(e,t){var n=oe.fn[t];oe.fn[t]=function(){var e;Wt++;try{e=n.apply(this,arguments)}finally{Wt--}return e}}),Element.prototype.remove=(jt=Element.prototype.remove,function(){var e;Wt++;try{e=jt.apply(this),Un([this,...this.querySelectorAll("*")])}finally{Wt--}return e}),k(B=J.topView,{tmpl:{links:{}}}),pe={0:B},J._glt=function(e){for(var t,n=/#(\d*)\^\/\1\^/g,r=[],i=Pn(e);t=n.exec(i);)(t=fe[t[1]])&&r.push(t.linkCtx.tag);return r},J._gccb=function(p){return function(e,t){var n,r,i,o,a,s,l,c,d;if(p&&e){if(e._cpfn)try{return ae.cache?p.getCache(e._cpKey):e._cpfn.call(p.tmpl,p.data,p,J)}catch(e){return}if("~"===e.charAt(0)){if("~tag"===e.slice(0,4)&&(n=p.ctx,"."===e.charAt(4)?(o=e.slice(5),n=n.tag):"~tagCtx."===e.slice(0,8)&&(o=e.slice(8),n=n.tagCtx),o))return n?[n,o]:[];if(e=e.slice(1).split("."),i=p.ctxPrm(o=e.shift(),void 0,!0))if(l=i._cxp){if(e.length&&(a="."+e.join("."),(o=i[s=i.length-1])._cpfn?(o.sb=a,o.bnd=!!t):(i[s]=(o+a).replace("#data.",""),"#view"===o.slice(0,5)&&(i[s]=i[s].slice(6),i.splice(s,0,p)))),r=[i],(n=l.tag)&&n.convert)for(s=(d=n.bindTo||[0]).length;s--;)void 0!==t&&s!==l.ind&&(c=d[s],(c=[i[0],n.tagCtx.params[+c===c?"args":"props"]])._cxp=l,r.push(c))}else(e.length||N(i))&&(r=[i,e.join(".")]);return r||[]}if("#"===e.charAt(0))return"#data"===e?[]:[p,e.replace(rn,"")]}}},J._cp=function(t,e,n,r){var i;return n.linked&&(r&&(r.cvt||void 0===r.tag._.toIndex[r.ind])?(t=[{_ocp:t}],r.updateValue=function(e){return oe.observable(t._cxp.data).setProperty(w,e),this}):t=e?((i=Qt[e=b+":"+e+y])||(Qt[e]=i=J.tmplFn(e.replace(me,"\\$&"),n.tmpl,!0)),i.deps[0]?[n,i]:[{_ocp:r?t:i()}]):[{_ocp:t}],t._cxp=r||{updateValue:function(e){return S(t._cxp.data).setProperty(t._cxp.path,e),this}}),t},J._ucp=function(e,t,n,r){var i=r.tag,o=i?gn(e,i.linkedCtxParam):0;return r.path||$n("~"+e,n.data,J._gccb(n)),(r.updateValue||i.updateValue)(t,o,r.tagElse,void 0,i)},J._ceo=function e(t){for(var n,r=[],i=t.length;i--;)(n=t[i])._cpfn&&((n=k({},n)).prm=e(n.prm)),r.unshift(n);return r},Ct=J.advSet,J.advSet=function(){Ct.call(J),x._jsv=ae._jsv?k(x._jsv||{},{views:pe,bindings:fe}):void 0,ce=ae.linkAttr,kt=Ht+",["+ce+"]",(de=ae._wm).optgroup=de.option,de.tbody=de.tfoot=de.colgroup=de.caption=de.thead,de.th=de.td},i.advanced({linkAttr:"data-link",useViews:!1,noValidate:!1,_wm:{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],svg_ns:[1,"<svg>","</svg>"],div:oe.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},_fe:{input:{from:function(e){return e.type===Vt?e[Lt]:e.value},to:C},textarea:Me,select:Me,optgroup:{to:"label"}}})}return oe;function vn(e,t,n,r,i){var o,a,s,l,c,d,p,u,f,h,g,v,m,_,b,y;if(r&&r._tgId&&(r=(_=r)._tgId,_.bindTo||(Bn(fe[r],_),_.bindTo=[0])),(r=fe[r])&&(p=r.to))for(p=p[t||0],r=(o=r.linkCtx).elem,b=o.view,!(_=o.tag)&&p._cxp&&(_=p._cxp.path!==w&&p._cxp.tag,l=e[0],(e=[])[p._cxp.ind]=l),_&&(_._.chg=1,y=_.convertBack)&&(a=N(y)?y:b.getRsc("converters",y)),"SELECT"===r.nodeName?(r.multiple&&null===e[0]&&(e=[[]]),r._jsvSel=e):r._jsvSel&&(b=r._jsvSel,-1<(y=gn(r.value,b))&&!r.checked?b.splice(y,1):y<0&&r.checked&&b.push(r.value),e=[b.slice()]),c=e,v=p.length,a&&(void 0===(e=a.apply(_,e))&&(p=[]),$(e)&&(!1===e.arg0||1!==v&&e.length===v&&!e.arg0)||(e=[e]));v--;)if((u=p[v])&&(s=(u="string"==typeof u?[o.data,u]:u)[0],f=u.tag,!(void 0===(l=(s&&s._ocp&&!s._vw?c:e)[v])||_&&_.onBeforeUpdateVal&&!1===_.onBeforeUpdateVal(i,{change:"change",data:s,path:u[1],index:v,tagElse:t,value:l}))))if(f)void 0!==(m=f._.toIndex[u.ind])&&f.updateValue(l,m,u.tagElse,void 0,void 0,i),f.setValue(l,u.ind,u.tagElse);else if(void 0!==l&&s){if((f=i&&(d=i.target)._jsvInd===v&&d._jsvLkEl)&&void 0!==(m=f._.fromIndex[v])&&f.setValue(c[v],m,d._jsvElse),s._cpfn)for(g=o._ctxCb,h=s,s=o.data,h._cpCtx&&(s=h.data,g=h._cpCtx);h&&h.sb;)s=g(h),h=h.sb;S(s,n).setProperty(u[1],l,void 0,u.isCpfn)}if(_)return _._.chg=void 0,_}function mn(e){var t,n,r=e.target,i=xn(r),o=Kt[i];if(!r._jsvTr||e.delegateTarget!==yt&&"number"!==r.type||"input"===e.type){for(n=N(i)?i(r):o?oe(r)[o]():oe(r).attr(i),r._jsvChg=1,un.lastIndex=0;t=un.exec(r._jsvBnd);)Jn(n,r._jsvInd,r._jsvElse,void 0,t[1],e);r._jsvChg=void 0}}function he(e,t){e._df=t,e[(t?"set":"remove")+"Attribute"](Rt,"")}function _n(e,t,n,r){var i,o,a,s,l,c,d,p,u,f=!(n===Ft||void 0===e||t._noUpd||(n===C||n===U)&&!r&&t.elem._jsvChg),h=t.data,g=r&&r.parentElem||t.elem,v=g.parentNode,m=oe(g),_=t.view,b=t._val,y=r;r&&(r._.unlinked=!0,r.parentElem=r.parentElem||t.expr||r._elCnt?g:v,i=r._prv,o=r._nxt),f?((n="visible"===n?"css-display":n).startsWith("css-")?("visible"===t.attr&&(p=(g.currentStyle||hn.call(x,g,"")).display,e?(e=g._jsvd||p)!==Ft||(e=tn[d=g.nodeName])||(c=document.createElement(d),document.body.appendChild(c),e=tn[d]=(c.currentStyle||hn.call(x,c,"")).display,document.body.removeChild(c)):(g._jsvd=p,e=Ft)),(y=y||b!==e)&&(g.style[n.slice(4)]=e)):"link"!==n&&(n.startsWith("data-")?oe.data(g,n.slice(5),e):/^prop-/.test(n)?(a=!0,n=n.slice(5)):n===Lt?(a=!0,e=g.name&&$(e)?(g._jsvSel=e,-1<gn(g.value,e)):e&&"false"!==e):n===Dt?(a=!0,n=Lt,e=g.value===e):"selected"===n||"disabled"===n||"multiple"===n||"readonly"===n?e=e&&"false"!==e?n:null:n===C&&"SELECT"===g.nodeName&&(g._jsvSel=$(e)?e:""+e),(d=Kt[n])?n===U?r&&r.inline?(c=r.nodes(!0),r._elCnt&&(i&&i!==o?Wn(i,o,g,r._tgId,"^",!0):(p=i?i.getAttribute(ue):g._df,s=r._tgId+"^",u=p.indexOf("#"+s)+1,l=p.indexOf("/"+s),u&&0<l&&(u+=s.length)<l&&(Xn(p.slice(u,l)),p=p.slice(0,u)+p.slice(l),i?i.setAttribute(ue,p):g._df&&he(g,p))),i=i?i.previousSibling:o?o.previousSibling:g.lastChild),oe(c).remove(),s=_.link(_.data,g,i,o,e,r&&{tag:r._tgId})):f&&b!==e&&(m.empty(),s=_.link(h,g,i,o,e,r&&{tag:r._tgId})):g._jsvSel?m[d](e):((y=y||b!==e)&&("text"===n&&g.children&&!g.children[0]?g[At]=null===e?"":e:m[d](e)),void 0===(u=v._jsvSel)||n!==C&&void 0!==m.attr(C)||(g.selected=-1<gn(""+e,$(u)?u:[u]))):(y=y||b!==e)&&m[a?"prop":"attr"](n,void 0!==e||a?e:null)),t._val=e,En(s)):t._val=e}function bn(e,t){var n=this,r=Kn(n,It,n.tag),i=Kn(n,Nt,n.tag);if(!r||!1!==r.call(n,e,t)){if(t){var r=t.change,o=t.index,a=t.items;switch(n._.srt=t.refresh,r){case"insert":n.addViews(o,a,t._dly);break;case"remove":n.removeViews(o,a.length,void 0,t._dly);break;case"move":n.moveViews(t.oldIndex,o,a.length);break;case"refresh":n._.srt=void 0,n.fixIndex(0)}}i&&i.call(n,e,t)}}function yn(t){var e,n=t.type,r=t.data,i=t._.bnd;!t._.useKey&&i&&((e=t._.bndArr)&&(oe([e[1]]).off(L,e[0]),t._.bndArr=void 0),i!==!!i?n?i._.arrVws[t._.id]=t:delete i._.arrVws[t._.id]:n&&r&&(e=oe([r]).on(L,e),t._.bndArr=[e,r]))}function xn(e,t,n){var r=e.nodeName.toLowerCase(),i=ae._fe[r]||e.contentEditable===$t&&{to:U,from:U};return i?t?"input"===r&&e.type===Dt?Dt:i.to:i.from:t?n?"text":U:""}function wn(e,t,n,r,i,o,a){var s,l,c,d,p=e.parentElem,u=e._prv,f=e._nxt,h=e._elCnt;if(u&&u.parentNode!==p&&se("Missing parentNode"),a)for(d in c=e.nodes(),h&&u&&u!==f&&Wn(u,f,p,e._.id,"_",!0),e.removeViews(void 0,void 0,!0),s=f,h&&(u=u?u.previousSibling:f?f.previousSibling:p.lastChild),oe(c).remove(),e._.bnds)Rn(d);else{if(t){if(!(l=r[t-1]))return!1;u=l._nxt}h?u=(s=u)?s.previousSibling:p.lastChild:s=u.nextSibling}f=n.render(i,o,e._.useKey&&a,e,a||t,!0),En(e.link(i,p,u,s,f,l))}function kn(e,t,n){var r,i;return n?(i="^`",zn(n),(r=n._tgId)||((fe[r=nn++]=n)._tgId=""+r)):(i="_`",pe[r=t._.id]=t),"#"+r+i+(null!=e?e:"")+"/"+r+i}function Cn(e,t,n){var r,i,o,a,s,l,c,d,p,u,f,h=e.tag,g=!h,v=e.convertBack,m=e._hdl;if(t="object"==typeof t&&t,h&&((d=h.convert)&&(d=d===$t?h.tagCtx.props.convert:d,d=(d=(d=e.view.getRsc("converters",d)||d)&&d.depends)&&J._dp(d,t,m)),(p=h.tagCtx.props.depends||h.depends)&&(p=J._dp(p,h,m),d=d?d.concat(p):p),f=h.linkedElems),d=d||[],!e._depends||""+e._depends!=""+d){if(a=e.fn.deps.slice(),e._depends&&(u=e._depends.bdId,S._apply(1,[t],a,e._depends,m,e._ctxCb,!0)),h){for(r=h.boundProps.length;r--;)for(l=h.boundProps[r],i=h._.bnd.paths.length;i--;)(c=h._.bnd.paths[i]["_"+l])&&c.length&&c.skp&&(a=a.concat(c));g=void 0===h.onArrayChange||!0===h.onArrayChange}for(r=a.length;r--;)(s=a[r])._cpfn&&(a[r]=k({},s));if(p=S._apply(g?0:1,[t],a,d,m,e._ctxCb),u||(u=e._bndId||""+nn++,e._bndId=void 0,n._jsvBnd=(n._jsvBnd||"")+"&"+u,e.view._.bnds[u]=u),p.elem=n,p.linkCtx=e,p._tgId=u,d.bdId=u,e._depends=d,fe[u]=p,(f||void 0!==v||h&&h.bindTo)&&Bn(p,h,v),f)for(r=f.length;r--;)for(i=(o=f[r])&&o.length;i--;)o[i]._jsvLkEl?o[i]._jsvBnd||(o[i]._jsvBnd="&"+u+"+"):(Fn(o[i]._jsvLkEl=h,o[i]),o[i]._jsvBnd="&"+u+"+");else void 0!==v&&Fn(h,n);h&&!h.inline&&(h.flow||n.setAttribute(ue,(n.getAttribute(ue)||"")+"#"+u+"^/"+u+"^"),h._tgId=""+u)}}function En(e){var t;if(e)for(;t=e.pop();)t._hdl()}unction Tn(e,t,n,r,i,o,a,s){if(r=!0===r?void(i=r):"object"!=typeof r?void 0:k({},r),e&&t){t=t.jquery?t:oe(t),yt||(yt=document.body,Et="oninput"in yt,oe(yt).on(St,mn).on("blur.jsv","[contenteditable]",mn));for(var l,c,d,p,u,f,h,g,v,m,_=kn,b=r&&"replace"===r.target,y=t.length;y--;){if(h=t[y],m=o||wt(h),"string"==typeof e)Sn(v=[],e,h,m,void 0,"expr",n,r);else{if(void 0!==e.markup)b&&(f=h.parentNode),m._.scp=!0,d=e.render(n,r,i,m,void 0,_,!0),m._.scp=void 0,f?(a=h.previousSibling,s=h.nextSibling,oe.cleanData([h],!0),f.removeChild(h),h=f):(a=s=void 0,oe(h).empty());else{if(!0!==e||m!==B)break;g={lnk:"top"}}if(h._df&&!s){for(c=(p=ge(h._df,!(l=0),an)).length;l<c;l++)u=p[l],(u=pe[u.id])&&void 0!==u.data&&u.parent.removeViews(u._.key,void 0,!0);he(h)}v=m.link(n,h,a,s,d,g,r)}En(v)}}return t}function An(O,l,e,t,v,n,M,F){function r(e,t){var n,r,i,o,a,s=[];if(e){for("@"===e._tkns.charAt(0)&&(t=p.previousSibling,p.parentNode.removeChild(p),p=void 0),d=e.length;d--;){if(o=(f=e[d]).ch,n=f.path)for(c=n.length-1;r=n.charAt(c--);)t="+"===r?"-"===n.charAt(c)?(c--,t.previousElementSibling):t.parentNode:t.lastElementChild;"^"===o?(_=fe[i=f.id])&&(a=t&&(!p||p.parentNode!==t),p&&!a||(_.parentElem=t),f.elCnt&&a&&he(t,(f.open?"#":"/")+i+o+(t._df||"")),s.push([a?null:p,f])):(u=pe[i=f.id])&&(u.parentElem||(u.parentElem=t||p&&p.parentNode||l,u._.onRender=kn,u._.onArrayChange=bn,yn(u)),a=u.parentElem,f.open?(u._elCnt=f.elCnt,t&&!p?he(t,"#"+i+o+(t._df||"")):(u._prv||he(a,Nn(a._df,"#"+i+o)),u._prv=p)):(!t||p&&p.parentNode===t?p&&(u._nxt||he(a,Nn(a._df,"/"+i+o)),u._nxt=p):(he(t,"/"+i+o+(t._df||"")),u._nxt=void 0),(o=Kn(u,Pt)||ne)&&o.call(u.ctx.tag,u)))}for(d=s.length;d--;)P.push(s[d])}return!e||e.elCnt}function B(e){var t,n,r;if(e)for(d=e.length,c=0;c<d;c++)if(f=e[c],!(_=fe[f.id])._is&&_.linkCtx&&(n=_=_.linkCtx.tag,r=_.tagName===R,!_.flow||r)){if(!U){for(t=1;n=n.parent;)t++;H=H||t}!U&&t!==H||R&&!r||q.push(_)}}var m,_,i,o,c,d,a,p,u,f,s,h,g,$,b,q,U,R,y,x,H,K,W,X,w,k,C,J,E,j,Q,T,A,z,Y,S,Z,I,G=this._.id+"_",N="",P=[],L=[],ee=[],te=[],ne=Kn(this,Pt),re=r;if(n&&(n.tmpl?g="/"+n._.id+"_":(Z=n.lnk,n.tag&&(G=n.tag+"^",n=!0),(I=n.get)&&(re=B,q=I.tags,U=I.deep,R=I.name)),n=!0===n),l=l?"string"==typeof l?oe(l)[0]:l.jquery?l[0]:l:this.parentElem||document.body,x=!ae.noValidate&&l.contentEditable!==$t,w=l.tagName.toLowerCase(),j=!!Zt[w],e=e&&Vn(e,j),t=t&&Vn(t,j)||null,null!=v){if(C=J=document.createElement("div"),z=A="",T="http://www.w3.org/2000/svg"===l.namespaceURI?"svg_ns":(T=ye.exec(v))&&T[1]||"",j){for(b=t;b&&!($=ge(b));)b=b.nextSibling;(E=$?$._tkns:l._df)&&(h=g||"",!n&&g||(h+="#"+G),(c=E.indexOf(h))+1)&&(c+=h.length,z=A=E.slice(0,c),E=E.slice(c),$?b.setAttribute(ue,E):he(l,E))}if(k=void 0,v=(""+v).replace(on,function(e,t,n,r,i,o,a,s,l,c,d,p,u,f){var h,g="";return f?(m=0,e):(_=(l||c||"").toLowerCase(),r=r||d,n=n||u,k&&!n&&(!e||r||_||o&&!m)&&(k=void 0,w=L.shift()),(r=r||n)&&(r=r.toLowerCase(),k=void(m=0),x&&(n||u?en[w]||/;svg;|;math;/.test(";"+L.join(";")+";")||(h="'<"+w+".../"):en[r]?h="'</"+r:L.length&&r===w||(h="Mismatch: '</"+r),h)&&le(h+">' in:\n"+v),Q=j,w=L.shift(),j=Zt[w],d=d?"</"+d+">":"",Q)&&(N+=A,A="",j?N+="-":(g=d+Ut+"@"+N+qt+(p||""),N=ee.shift())),j&&!m?(o?A+=o:t=d||u||"",_&&(t+=_,A)&&(t+=" "+ue+'="'+A+'"',A="")):t=o?t+g+i+(m?"":Ut+o+qt)+s+_:g||e,x&&a&&(m&&le("{^{ within elem markup ("+m+' ). Use data-link="..."'),"#"===o.charAt(0)?L.unshift(o.slice(1)):o.slice(1)!==(f=L.shift())&&le("Closing tag for {^{...}} under different elem: <"+f+">")),_&&(m=_,L.unshift(w),w=_.slice(1),x&&L[0]&&L[0]===Gt[w]&&se("Parent of <tr> must be <tbody>"),k=en[w],(j=Zt[w])&&!Q&&(ee.unshift(N),N=""),Q=j,N)&&j&&(N+="+"),t)}),x&&L.length&&le("Mismatched '<"+w+"...>' in:\n"+v),F)return;for(zt.appendChild(J),K=(T=de[T]||de.div)[0],C.innerHTML=T[1]+v+T[2];K--;)C=C.lastChild;for(zt.removeChild(J),W=document.createDocumentFragment();X=C.firstChild;)W.appendChild(X);l.insertBefore(W,t)}var V,D="",ie={},n=kt+(I?",["+Rt+"]":"");for(a=Yt?l.querySelectorAll(n):oe(n,l).get(),o=a.length,e&&e.innerHTML&&(e=(g=Yt?e.querySelectorAll(n):oe(n,e).get()).length?g[g.length-1]:e),i=H=0;i<o;i++)if(p=a[i],e&&!Y)Y=p===e;else{if(t&&p===t){I&&(D+=Pn(p));break}if(p.parentNode)if(I){if(D+=Pn(p),p._df){for(V=i+1;V<o&&p.contains(a[V]);)V++;ie[V-1]=p._df}ie[i]&&(D+=ie[i]||"")}else!(S=Z&&(f=(f=ge(p,void 0,ln))&&f[0])?S?f.id!==S&&S:f.open&&f.id:S)&&re(ge(p))&&p.getAttribute(ce)&&P.push([p])}if(I&&B(ge(D=(n=(D=(n=(D+=l._df||"").indexOf("#"+I.id)+1)?D.slice(n+I.id.length):D).indexOf("/"+I.id))+1?D.slice(0,n):D,void 0,dn)),void 0===v&&l.getAttribute(ce)&&P.push([l]),Ln(e,j),Ln(t,j),!I)for(j&&N+A&&(p=t,N&&(t?r(ge(N+"+",!0),t):r(ge(N,!0),l)),r(ge(A,!0),l),t)&&(D=t.getAttribute(ue),(o=D.indexOf(z)+1)&&(D=D.slice(o+z.length-1)),t.setAttribute(ue,A+D)),o=P.length,i=0;i<o;i++)p=P[i],s=p[1],p=p[0],s?(_=fe[s.id])&&((y=_.linkCtx)&&((_=y.tag).linkCtx=y),s.open?(p&&(_.parentElem=p.parentNode,_._prv=p),_._elCnt=s.elCnt,u=_.tagCtx.view,Sn(te,void 0,_._prv,u,s.id)):(_._nxt=p,_._.unlinked&&!_._toLk&&(y=_.tagCtx,u=y.view,Dn(_)))):Sn(te,p.getAttribute(ce),p,wt(p),void 0,Z,O,M);return te}function Sn(e,t,n,r,i,o,a,s){var l,c,d,p,u,f,h,g,v,m,_=[];if(i)f=(m=(m=fe[i]).linkCtx?m.linkCtx.tag:m).linkCtx||{type:"inline",data:r.data,elem:m._elCnt?m.parentElem:n,view:r,ctx:r.ctx,attr:U,fn:m._.bnd,tag:m,_bndId:i},In(m.linkCtx=f,e),m._toLk=f._bndId;else if(t&&n){for(a=o?a:r.data,l=r.tmpl,i=t,m=xn(n),t=(i=oe.trim(i)).slice(-1)!==y?i=b+":"+i+(m?":":"")+y:i,v=xt.lastIndex=0;c=xt.exec(t);)_.push(c),v=xt.lastIndex;for(v<t.length&&le(t);c=_.shift();){for(h=xt.lastIndex,u=c[1],p=c[3];_[0]&&"else"===_[0][4];)p+=H+R+_.shift()[3],g=!0;g&&(p+=H+R+b+"/"+c[4]+y),f={type:o||"link",data:a,elem:n,view:r,ctx:s,attr:u,_toLk:1,_noUpd:c[2]},d=void 0,c[6]&&(d=c[10]||void 0,f.convert=c[5]||"",void 0!==d)&&xn(n)&&(u&&le(p+"- Remove target: "+u),f.convertBack=d=d.slice(1)),f.expr=u+p,(u=Qt[p])||(Qt[p]=u=J.tmplFn(p.replace(me,"\\$&"),l,!0,d,g)),f.fn=u,In(f,e),xt.lastIndex=h}}}function In(n,e){function t(e,t){t&&t.refresh||!function(e,t){var n,r,i,o,a,s,l,c=this,d=c.fn,p=c.tag,u=c.data,f=c.elem,h=c.convert,g=f.parentNode,v=c.view,m=v._lc,_=t&&Kn(v,It,p);if(g&&(!_||!1!==_.call(p||c,e,t))&&(!t||"*"===e.data.prop||e.data.prop===t.path)){if(v._lc=c,t||c._toLk){if(c._toLk=0,d._er)try{n=d(u,v,J)}catch(e){i=d._er,n=[{props:{},args:[o=lt(e,v,new Function("data,view","return "+i+";")(u,v))],tag:p}]}else n=d(u,v,J);if(g=p&&p.attr||c.attr||(c._dfAt=xn(f,!0,void 0!==h)),c._dfAt===C&&(p&&p.parentElem||c.elem).type===Vt&&(g=Lt),p){if(a=i||p._er,n=n[0]?n:[n],r=!a&&(!1===p.onUpdate||t&&N(p.onUpdate)&&!1===p.onUpdate(e,t,n)),qn(p,n,a),p._.chg&&(g===U||g===C)||r||g===Ft)return Dn(p,e,t),p._.chg||Cn(c,u,f),v._lc=m,t&&(_=Kn(v,Nt,p))&&_.call(p||c,e,t),void(p.tagCtx.props.dataMap&&p.tagCtx.props.dataMap.map(p.tagCtx.args[0],p.tagCtx,p.tagCtx.map,E||!p._.bnd));for(p.onUnbind&&p.onUnbind(p.tagCtx,c,p.ctx,e,t),p.linkedElems=p.linkedElem=p.mainElem=p.displayElem=void 0,l=p.tagCtxs.length;l--;)(s=p.tagCtxs[l]).linkedElems=s.mainElem=s.displayElem=void 0;n=":"===p.tagName?J._cnvt(p.convert,v,n[0]):J._tag(p,v,v.tmpl,n,!0,o)}else d._tag&&(n=(h=""===h?$t:h)?J._cnvt(h,v,n[0]||n):J._tag(d._tag,v,v.tmpl,n,!0,o),zn(p=c.tag),g=c.attr||g);(a=p&&(!p.inline||c.fn._lr)&&p.template)&&Cn(c,u,f),_n(n,c,g,p),c._noUpd=0,p&&(p._er=i,Dn(p,e,t))}a||Cn(c,u,f),p&&p._.ths&&p.updateValue(p,p.bindTo?p.bindTo.length:1),t&&(_=Kn(v,Nt,p))&&_.call(p||c,e,t),v._lc=m}}.call(n,e,t)}var r,i,o,a,s=n.type;"top"!==s&&"expr"!==s||(n.view=new J.View(J.extendCtx(n.ctx,n.view.ctx),"link",n.view,n.data,n.expr,void 0,kn)),n._ctxCb=J._gccb(r=n.view),n._hdl=t,"SELECT"===n.elem.nodeName&&(n.elem._jsvLkEl||"link"===s&&!n.attr&&void 0!==n.convert)&&(o=n.elem,(a=oe(o)).on("jsv-domchange",function(){arguments[3].refresh||(o._jsvLkEl?a.val(o._jsvLkEl.cvtArgs(o._jsvElse,1)[o._jsvInd]):n.tag?a.val(n.tag.cvtArgs(0,1)):(i=n.fn(r.data,r,J),a.val(n.convert||n.convertBack?J._cnvt(n.convert,r,i):i)))})),n.fn._lr?(n._toLk=1,e.push(n)):t(!0)}function Nn(e,t){var n;return e?(n=e.indexOf(t))+1?e.slice(0,n)+e.slice(n+t.length):e:""}function Pn(e){return e&&("string"==typeof e?e:e.tagName===Bt?e.type.slice(3):1===e.nodeType&&e.getAttribute(ue)||"")}function ge(e,t,n){var a,s=[];if(t=t?e:Pn(e))return a=s.elCnt=e.tagName!==Bt,a="@"===t.charAt(0)||a,(s._tkns=t).replace(n||pn,function(e,t,n,r,i,o){s.push({elCnt:a,id:r,ch:i,open:t,close:n,path:o,token:e})}),s}function Ln(e,t){e&&("jsv"===e.type?e.parentNode.removeChild(e):t&&""===e.getAttribute(ce)&&e.removeAttribute(ce))}function Vn(e,t){for(var n=e;t&&n&&1!==n.nodeType;)n=n.previousSibling;return n&&(1!==n.nodeType?((n=document.createElement(Bt)).type="jsv",e.parentNode.insertBefore(n,e)):Pn(n)||n.getAttribute(ce)||n.setAttribute(ce,"")),n}function Dn(e,t,n){function r(){(i=y.linkedElems||e.linkedElems||e.linkedElem&&[e.linkedElem])&&(e.linkedElems=y.linkedElems=i,e.linkedElem=i[0]=e.linkedElem||i[0]),(a=y.mainElem||e.mainElem)&&(y.mainElem=e.mainElem=a),(a=y.displayElem||e.displayElem)&&(y.displayElem=e.displayElem=a)}var i,o,a,s,l,c,d,p,u,f,h,g,v,m,_,b,y=e.tagCtx,x=e.tagCtxs,w=x&&x.length,k=e.linkCtx,C=e.bindTo||{};if(e._.unlinked){if(c=oe(k.elem),e.linkedElement||e.mainElement||e.displayElement){if(o=e.linkedElement)for(e.linkedElem=void 0,s=o.length;s--;)if(o[s])for(d=!e.inline&&c.filter(o[s]),l=w;l--;)f=x[l],i=f.linkedElems=f.linkedElems||new Array(s),(a=d[0]?d:f.contents(!0,o[s]))[0]&&a[0].type!==Dt&&(i[s]=a.eq(0));if(o=e.mainElement)for(d=!e.inline&&c.filter(o),l=w;l--;)f=x[l],(a=d[0]?d:f.contents(!0,o).eq(0))[0]&&(f.mainElem=a);if(o=e.displayElement)for(d=!e.inline&&c.filter(o),l=w;l--;)f=x[l],(a=d[0]?d:f.contents(!0,o).eq(0))[0]&&(f.displayElem=a);r()}e.onBind&&(e.onBind(y,k,e.ctx,t,n),r())}for(l=w;l--;){if(h=(f=x[l]).props,e._.unlinked&&f.map&&e.mapProps){for(_=e.mapProps.length,b=h.mapDepends||e.mapDepends||[],b=$(b)?b:[b];_--;){var E=e.mapProps[_];(E=e._.bnd.paths[l]["_"+E])&&E.length&&E.skp&&(b=b.concat(E))}b.length&&f.map.observe(b,k)}(a=f.mainElem||!e.mainElement&&f.linkedElems&&f.linkedElems[0])&&(a[0]&&h.id&&!a[0].id&&(a[0].id=h.id),e.setSize)&&((g=!C.height&&h.height||e.height)&&(a[0].style.height=g),g=!C.width&&h.width||e.width)&&(a[0].style.width=g),(g=(a=f.displayElem||a)&&(!C.class&&h.class||e.className))&&g!==(v=a[0]._jsvCl)&&(a[0].classList.contains(v)&&a[0].classList.remove(v),a[0].classList.add(g),a[0]._jsvCl=g)}if(e.onAfterLink&&(e.onAfterLink(y,k,e.ctx,t,n),r()),!e.flow&&!e._.chg)for(e._tgId&&e._.unlinked&&(e.linkedElems||e.bindTo)&&Bn(fe[e._tgId],e),l=x.length;l--;){for(s=(h=e.cvtArgs(l,1)).length;s--;)e.setValue(h[s],s,l,t,n);if(e._.unlinked)for(y=x[l],i=y.linkedElems||!l&&e.linkedElem&&[e.linkedElem],m=(e.bindTo||[0]).length;m--;)if((a=i&&i[m])&&(s=a.length))for(;s--;)(u=(p=a[s])._jsvLkEl)&&u===e||(p._jsvLkEl=e,p._jsvInd=m,p._jsvElse=l,Fn(e,p),e._tgId&&(p._jsvBnd="&"+e._tgId+"+"))}e._.unlinked=void 0,e._.lt&&e.refresh()}function On(e){var t=e.which;15<t&&t<21||32<t&&t<41||111<t&&t<131||27===t||144===t||setTimeout(}function Mn(e,t,n){!0!==t||!Et||Tt&&e[0].contentEditable===$t?e[n](t="string"==typeof t?t:"keydown.jsv",0<=t.indexOf("keydown")?On:mn):e[n]("input.jsv",mn)}function Fn(e,t){var n,r=t._jsvTr||!1;r!==(n=(n=void 0===(n=e&&void 0===(n=e.tagCtx.props.trigger)?e.trigger:n)?F.trigger:n)&&("INPUT"===t.tagName&&t.type!==Vt&&t.type!==Dt||"textarea"===t.type||t.contentEditable===$t)&&n||!1)&&(Mn(e=oe(t),r,"off"),Mn(e,t._jsvTr=n,"on"))}function Bn(e,t,n){var r,i,o,a,s,l,c,d,p,u,f,h,g=1,v=[],m=e.linkCtx,_=m.data,b=m.fn.paths;if(e&&!e.to){for(t&&(t.convertBack||(t.convertBack=n),s=t.bindTo,g=t.tagCtxs?t.tagCtxs.length:1);g--;){if(u=[],p=b[g])for(s=p._jsvto?["jsvto"]:s||[0],l=(s=!g&&t&&t._.ths?s.concat("this"):s).length;l--;){if(r="",d=m._ctxCb,f=(c=p[+(c=s[l])===c?c:"_"+c])&&c.length){if((i=c[f-1])._cpfn){for(o=i;i.sb&&i.sb._cpfn;)r=i=i.sb;r=i.sb||r&&r.path,h=i._cpfn&&!i.sb,i=r?r.slice(1):o.path}a=r?[o,i]:$n(i,_,d)}else c=t.linkedCtxParam,a=[],(f=t._.fromIndex)&&c&&c[f[l]]&&(a=[t.tagCtxs[g].ctx[c[f[l]]][0],w]);(a=(d=a._cxp)&&d.tag&&i.indexOf(".")<0?d:a).isCpfn=h,u.unshift(a)}v.unshift(u)}e.to=v}}function $n(e,t,n){for(var r,i,o,a,s,l,c;e&&e!==w&&(i=n(r=e.split("^").join(".")))&&(o=i.length);){if(a=i[0]._cxp)if(l=l||a,s=i[0][0],w in s?s=(c=s)._vw:c=s.data,l.path=e=i[0][1],i=[l.data=c,e],n=J._gccb(s),e._cpfn){for((s=e).data=i[0],s._cpCtx=n;e.sb&&e.sb._cpfn;)r=e=e.sb;i=[s,e=(r=e.sb||r&&r.path)?r.slice(1):s.path]}else a.tag&&a.path===w&&(i=a);else i=1<o?[i[o-2],i[o-1]]:[i[o-1]];t=i[0],e=i[1]}return(i=i||[t,r])._cxp=l,i}function qn(e,t,n){var r,i,o=e.tagCtx.view,a=e.tagCtxs||[e.tagCtx],s=a.length,l=!t;if(l){if((t=e._.bnd.call(o.tmpl,(e.linkCtx||o).data,o,J)).lt)return;e._.lt=void 0,t=$(t)?t:[t]}if(n)a=e.tagCtxs=t,e.tagCtx=a[0],zn(e);else for(;s--;)r=a[s],i=t[s],k(r.ctx,i.ctx),r.args=i.args,l&&(r.tmpl=i.tmpl),S(r.props).setProperty(i.props);return J._thp(e,a[0]),a}function Un(e){for(var t,n,r,i=[],o=e.length,a=o;a--;)i.push(e[a]);for(a=o;a--;)if((n=i[a]).parentNode){if(r=n._jsvBnd)for(r=r.slice(1).split("&"),n._jsvBnd="",t=r.length;t--;)Rn(r[t],n._jsvLkEl,n);Xn(Pn(n)+(n._df||""),n)}}function Rn(e,t,n){var r,i,o,a,s,l,c,d,p,u,f,h=fe[e];if(t)n._jsvLkEl=void 0;else if(h&&(!n||n===h.elem)){for(r in delete fe[e],h.bnd)(i=h.bnd[r])&&(o=h.cbId,($(i)?oe([i]).off(L+o):oe(i)).off(P+o),delete h.bnd[r]);if(t=h.linkCtx){if(n=t.tag){if(a=n.tagCtxs)for(s=a.length;s--;)(l=(p=a[s]).map)&&l.unmap(),(u=p.linkedElems)&&(f=(f||[]).concat(u));n.onUnbind&&n.onUnbind(n.tagCtx,t,n.ctx),n.onDispose&&n.onDispose(),n._elCnt||(n._prv&&n._prv.parentNode.removeChild(n._prv),n._nxt&&n._nxt.parentNode.removeChild(n._nxt))}for(s=(u=f||[oe(t.elem)]).length;s--;)(d=(c=u[s])&&c[0]&&c[0]._jsvTr)&&(Mn(c,d,"off"),c[0]._jsvTr=void 0);"link"===(n=t.view).type?n.parent.removeViews(n._.key,void 0,!0):delete n._.bnds[e]}delete v[h.cbId]}}function Hn(e){e?((e=e.jquery?e:oe(e)).each(function(){for(var e;(e=wt(this,!0))&&e.parent;)e.parent.removeViews(e._.key,void 0,!0);Un(this.getElementsByTagName("*"))}),Un(e)):(yt&&(oe(yt).off(St,mn).off("blur.jsv","[contenteditable]",mn),yt=void 0),B.removeViews(),Un(document.body.getElementsByTagName("*")))}function Kn(e,t,n){return n&&n[t]||e.ctx[t]&&e.ctxPrm(t)||p.helpers[t]}function Wn(e,t,n,r,i,o){var a,s,l,c,d,p,u=0,f=e===t;if(e){for(a=0,s=(l=ge(e)||[]).length;a<s;a++){if((p=(c=l[a]).id)===r&&c.ch===i){if(!o)break;s=0}f||(d="_"===c.ch?pe[p]:fe[p].linkCtx.tag)&&(c.open?d._prv=t:c.close&&(d._nxt=t)),u+=p.length+2}u&&e.setAttribute(ue,e.getAttribute(ue).slice(u)),(e=(s=(e=t?t.getAttribute(ue):n._df).indexOf("/"+r+i)+1)?l._tkns.slice(0,u)+e.slice(s+(o?-1:r.length+1)):e)&&(t?t.setAttribute(ue,e):he(n,e))}else he(n,Nn(n._df,"#"+r+i)),o||t||he(n,Nn(n._df,"/"+r+i))}function Xn(e,t){var n,r,i,o;if(o=ge(e,!0,sn))for(n=0,r=o.length;n<r;n++)"_"===(i=o[n]).ch?!(i=pe[i.id])||!i.type||t&&i._prv!==t&&i.parentElem!==t||i.parent.removeViews(i._.key,void 0,!0):Rn(i.id,void 0,t)}function Jn(e,t,n,r,i,o){var a=[];return this&&this._tgId&&(i=this),arguments.length<4&&(+t!==t?(r=t,n=t=0):+n!==n&&(r=n,n=0)),a[t||0]=e,vn(a,n,r,i,o),this}function Qn(){for(var e=this.tag.bindTo.length,t=arguments[e],n=arguments[e+1];e--;)this.tag.setValue(arguments[e],e,this.index,t,n)}function zn(e){var l,t,n,r,i,o,c,a;if(e.contents=function(e,t){e!==!!e&&(t=e,e=void 0);var n,r=oe(this.nodes());return r[0]&&(n=(t=e?t||"*":t)?r.filter(t):r,r=e?n.add(r.find(t)):n),r},e.nodes=function(e,t,n){var r,i=this.contentView||this,o=i._elCnt,a=!t&&o,s=[];if(!i.args)for(t=t||i._prv,n=n||i._nxt,r=a?t===i._nxt?i.parentElem.lastSibling:t:!1===i.inline?t||i.linkCtx.elem.firstChild:t&&t.nextSibling;r&&(!n||r!==n);)(e||o||r.tagName!==Bt)&&s.push(r),r=r.nextSibling;return s},e.childTags=function(e,t){e!==!!e&&(t=e,e=void 0);var n=this.contentView||this,r=n.link?n:n.tagCtx.view,i=n._prv,o=n._elCnt,a=[];return n.args||r.link(void 0,n.parentElem,o?i&&i.previousSibling:i,n._nxt,void 0,{get:{tags:a,deep:e,name:t,id:n.link?n._.id+"_":n._tgId+"^"}}),a},"tag"===e._is){for(t=(c=e).tagCtxs.length;t--;)(n=c.tagCtxs[t]).setValues=Qn,n.contents=e.contents,n.childTags=e.childTags,n.nodes=e.nodes;if(r=c.boundProps=c.boundProps||[],i=c.bindFrom)for(l=i.length;l--;)"string"==typeof(o=i[l])&&(i[o]=1,gn(o,r)<0)&&r.push(o);c.setValue=J._gm(c.constructor.prototype.setValue||function(e,t,n,r,i){t=t||0;var o,a,s=c.tagCtxs[n=n||0];if(!s._bdArgs||!i&&void 0===e||s._bdArgs[t]!==e||i&&"set"===i.change&&(r.target===e||i.value===e)?(s._bdArgs=s._bdArgs||[],s._bdArgs[t]=e,void 0!==(n=c.base.call(c,e,t,n,r,i))&&(s._bdVals=s._bdVals||[],e=s._bdVals[t]=n)):s._bdVals&&(e=s._bdVals[t]),void 0!==e&&(r=c.linkedCtxParam)&&r[t]&&s.ctxPrm(r[t],e),void 0!==(i=c._.toIndex[t])&&(n=s.linkedElems||c.linkedElem&&[c.linkedElem])&&(o=n[i])&&(l=o.length))for(;l--;)a=o[l],void 0===e||a._jsvChg||c.linkCtx._val===e||(void 0!==a.value?a.type===Vt?a[Lt]=oe.isArray(e)?-1<oe.inArray(a.value,e):e&&"false"!==e:a.type===Dt?a[Lt]=a.value===e:oe(a).val(e):a[a.contentEditable===$t?"innerHTML":At]=e),s.props.name&&(a.name=a.name||s.props.name);return c}),c.updateValue=Jn,c.updateValues=function(){var e,t,n=this.bindTo?this.bindTo.length:1,r=arguments.length-n;return r&&(e=arguments[n],1<r?t=1<r?arguments[n+1]:void 0:+e!==e&&(t=e,e=0)),vn(arguments,e,t,this)},c.setValues=c.refresh=function(){var e,t,n=c.linkCtx,r=c.tagCtx.view;if(t=qn(c))return c.onUnbind&&(c.onUnbind(c.tagCtx,n,c.ctx),c._.unlinked=!0),e=c.inline?U:n.attr||xn(c.parentElem,!0),t=":"===c.tagName?J._cnvt(c.convert,r,c.tagCtx):J._tag(c,r,r.tmpl,t,!0),Cn(n,n.data,n.elem),_n(t,n,e,c),Dn(c),c},c.domChange=function(){var e=this.parentElem,t=oe._data(e).events,n="jsv-domchange";t&&t[n]&&oe(e).triggerHandler(n,arguments)}}else(a=e).addViews=function(e,t,n){var r,i=this,o=t.length,a=i.views;!i._.useKey&&o&&(r=a.length+o,!n&&r!==i.data.length||!1===wn(i,e,i.tmpl,a,t,i.ctx)||i._.srt||i.fixIndex(e+o))},a.removeViews=function(e,t,s,n){function r(e){var t,n,r,i,o,a,e=d[e];if(e&&e.link){for(n in t=e._.id,s||(a=e.nodes()),e.removeViews(void 0,void 0,!0),e.type=void 0,i=e._prv,o=e._nxt,r=e.parentElem,s||(e._elCnt&&Wn(i,o,r,t,"_"),oe(a).remove()),!e._elCnt&&i&&(i.parentNode.removeChild(i),o.parentNode.removeChild(o)),yn(e),e._.bnds)Rn(n);delete pe[t]}}var i,o,a,l=this,c=!l._.useKey,d=l.views;if(c&&(a=d.length),void 0===e)if(c){for(i=a;i--;)r(i);l.views=[]}else{for(o in d)r(o);l.views={}}else if(void 0===t&&(c?t=1:(r(e),delete d[e])),c&&t&&(n||a-t===l.data.length)){for(i=e+t;i-- >e;)r(i);d.splice(e,t),l._.srt||l.fixIndex(e)}},a.moveViews=function(e,t,n){function r(e,t){return RegExp("^(.*)("+(t?"\\/":"#")+e._.id+"_.*)$").exec(t||e._prv.getAttribute(ue))}function i(e,t){var i,o=e._prv;o.setAttribute(ue,t),t.replace(cn,function(e,t,n,r){(i=fe[r].linkCtx.tag).inline&&(i[t?"_prv":"_nxt"]=o)}),t.replace(ln,function(e,t,n,r){pe[r][t?"_prv":"_nxt"]=o})}var o,a,s,l,c=this,d=c._nxt,p=c.views,u=t<e,f=u?t:e,h=u?e:t,g=t,v=[],e=p.splice(e,n);for(t>p.length&&(t=p.length),p.splice.apply(p,[t,0].concat(e)),s=t+(n=e.length),h+=n;g<s;g++)o=(a=p[g]).nodes(!0),v=c._elCnt?v.concat(o):v.concat(a._prv,o,a._nxt);v=oe(v),s<p.length?v.insertBefore(p[s]._prv):d?v.insertBefore(d):v.appendTo(c.parentElem),c._elCnt&&(p[f-1],t=p[f],e=p[u?f+n:h-n],u=p[h],n=r(t),i(t,(t=r(e))[1]+n[2]),u?(l=r(u),i(u,n[1]+l[2])):(p[h-1]._nxt=d)?(l=r(c,d.getAttribute(ue)),d.setAttribute(ue,n[1]+l[2])):(l=r(c,c.parentElem._df),he(c.parentElem,n[1]+l[2])),i(e,l[1]+t[2])),c.fixIndex(f)},a.refresh=function(){var e=this,t=e.parent;return t&&(wn(e,e.index,e.tmpl,t.views,e.data,void 0,!0),yn(e)),e},a.fixIndex=function(e){for(var t=this.views,n=t.length;e<n--;)t[n].index!==n&&S(t[n]).setProperty("index",n)},a.link=An}function Yn(e,t,n,r){for(var i=e.length;i--&&e[i].key!==t;);-1===i?t&&!r&&e.push({key:t,prop:n}):r&&e.splice(i,1)}},window);