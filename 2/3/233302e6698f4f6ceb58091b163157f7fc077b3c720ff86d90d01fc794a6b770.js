"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7231],{94629:14120:6390:function(e,t,n){var o=n(52322),i=n(2784),a=n(16544),r=n(84036),l=n(47330),u=n(86414),s=n(53954),c=n(32517),p=n(77936);t.Z=e=>{let{projectCollection:t}=e,n=t.screenshotCollection,d=(0,i.useRef)(null),[m,h]=(0,i.useState)(!1),f=(0,s.T4)(l.TT.VideoCaptures),[,g]=(0,r.n)(),handleMultipleMediaCaptureUploads=handleChange=async e=>{h(!0);try{await handleMultipleMediaCaptureUploads(e),u.Z.track("captures_added_to_collection",{projectId:t.projectId,projectCollectionId:t.id,type:l.TG.Screenshot})}finally{h(!1)}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("button",{onClick:className:"duration-70 flex items-center justify-between rounded-md border border-zinc-900 bg-zinc-900 px-3 py-2 text-sm font-medium text-white transition-all hover:bg-zinc-700 focus:border-zinc-500 focus:outline-none focus:ring-2 focus:ring-zinc-300",children:[(0,o.jsx)(a.d1n,{className:"-ml-0.5 mr-2 h-4 w-4"}),m?"Uploading...":"Add to collection"]}),(0,o.jsx)("input",{type:"file",name:"file",accept:f?"image/*,video/mp4":"image/*",id:"imageUploader",multiple:!0,ref:d,className:"invisible absolute left-0 top-0 h-full w-full",onChange:handleChange})]})}},70358:function(e,t,n){var o=n(52322),i=n(2784),a=n(16544),r=n(14120),l=n(32517),u=n(47330),s=n(86414),c=n(53954),p=n(64627),d=n(20851);t.Z=e=>{let{workspace:t}=(0,c.cF)(),{projectCollection:n}=e,m=n.webCaptureCollection,h=(0,c.NK)(t,u.TT.ClickToCapture),[f,g]=(0,i.useState)(!1),onClick=async()=>{g(!0);let e=await (0,p.Y6)({collectionId:n.id,url:m.url,clickToCaptureEnabled:h});if(g(!1),e.error){(0,l.Rn)(e.error);return}s.Z.track("captures_added_to_collection",{projectId:n.projectId,projectCollectionId:n.id,type:u.TG.Web})};return(0,o.jsx)(r.Z,{onHasCxt:d.EI,modalTitle:"Add to collection",children:(0,o.jsxs)("button",{disabled:f,onClick:onClick,className:"duration-70 flex items-center justify-between rounded-md border border-zinc-900 bg-zinc-900 px-3 py-2 text-sm font-medium text-white transition-all hover:bg-zinc-700 focus:border-zinc-500 focus:outline-none focus:ring-2 focus:ring-zinc-300",children:[(0,o.jsx)(a.d1n,{className:"-ml-0.5 mr-2 h-4 w-4"}),f?"Loading...":"Add to collection"]})})}},77936:function(e,t,n){n.d(t,{YE:function(){return uploadMultipleMediaCapturesWithToast},qK:function(){return uploadScreenshotFromFileInput}});var o=n(32517),i=n(86414),a=n(64627),r=n(93324),l=n(22146),u=n(98751),s=n(6676),c=n.n(s);let getImageHeightWidth=async function uploadScreenshotFromFileInput(e){let{event:t,collectionId:n}=e;if(!t.target||!t.target.files)return{ok:!1,error:"Missing file input"};let o=t.target.files[0];try{return await uploadMediaAsStaticResource({file:o,mediaCaptureCollection:{id:n}})}catch(e){return{ok:!1,error:e.message}}}async function uploadMultipleMediaCapturesWithToast(e){let t=e.files.length>1;return(0,o.V_)(await uploadMultipleMediaCaptures(e),{loading:t?"Uploading media files":"Uploading media file",success:t?"Media files uploaded":"Media file uploaded",error:o.bW})}async function uploadMultipleMediaCaptures(e){let{files:t,mediaCaptureCollection:n,createMediaCapture:o}=e,a=0,r=0;for(let e of t)await uploadScreenshotCapture({file:e,mediaCaptureCollection:n,createScreenshotCapture:o}),e.type.includes("video")?r++:a++;a>0&&i.Z.track("screenshot_capture_upload",{count:a}),r>0&&i.Z.track("video_capture_upload",{count:r})}async function uploadScreenshotCapture(e){let{file:t,mediaCaptureCollection:n,createScreenshotCapture:o}=e,i=await uploadMediaAsStaticResource({file:t,mediaCaptureCollection:n});if(!i.ok)throw Error(i.error);let{name:a,url:r,width:l,height:u}=i,{id:s,defaultDeviceTemplate:c,defaultDeviceBgColor:p}=n;await o({input:{name:a,deviceScreenshot:r,deviceScreenshotWidth:l,deviceScreenshotHeight:u,deviceTemplate:c,deviceBgColor:p,collectionId:s}})}async function uploadStaticImage(e){let{file:t,src:n,token:o}=e,i=await l.Z.uploadCaptureStaticResourceDirect({key:c()(),contentType:t.type,body:n,base64Encoded:!0},o);if(!i.key)throw Error("Failed to upload screenshot");let a="https://c.navattic.com/nv_static/".concat(i.key);return a}async function uploadStaticVideo(e){let{file:t,token:n}=e,o=await postVideoToStaticResourcesOrThrow({key:c()(),body:await t.arrayBuffer(),token:n,contentType:t.type});return"https://c.navattic.com/nv_static/v/".concat(o)}async function uploadMediaAsStaticResource(e){var t;let{file:n,mediaCaptureCollection:o}=e;if(n.size>41943040)throw Error("Media is larger than ".concat(40,"MB limit"));let i=await (0,r.f)(n,n.type),{height:l,width:u}=await (t=i,n.type.includes("video")?new Promise((e,n)=>{let o=document.createElement("video");o.onloadeddata=o.onerror=n,o.src=t}):getImageHeightWidth(t)),s=await (0,a.qd)({collectionId:o.id});if(!s)throw Error("Failed to acquire token for upload");let c=await function(e){let{file:t,src:n,token:o}=e;return t.type.includes("video")?uploadStaticVideo({file:t,token:o}):uploadStaticImage({file:t,src:n,token:o})}({file:n,src:i,token:s}),p=n.name.split(".")[0];return{name:p,url:c,height:l,width:u,ok:!0,error:void 0}}async function postVideoToStaticResourcesOrThrow(e){let{key:t,body:n,token:o,contentType:i}=e,a=await fetch("".concat("https://c.navattic.com","/static/resource/v/").concat(t),{body:n,method:"POST",headers:{...(0,u.zl)(o),"Content-Type":i,"ngsw-bypass":""},cache:"no-store"}),r=await a.json();if(!a.ok||!r.key)throw Error("Failed to upload video ".concat(t));return r.key}},3710:function(e,t,n){var o=n(52322),i=n(2784),a=n(47330),r=n(83122),l=n(16377),u=n(81332),s=n(89370);function MediaDevice(e){let{deviceTemplate:t,selectedDevice:n,deviceHeightClass:i,customDimensions:u}=e,c=n.template;if(t===a.DS.None)return null;if(n.image)return(0,o.jsx)("img",{src:"".concat(l.Z.APP_URL,"/device/").concat(n.image),className:(0,r.AK)("pointer-events-none relative max-h-[1400px]",i),style:{zIndex:s.dw-2}});let p={height:null==u?void 0:u.height,width:null==u?void 0:u.width};return c?(0,o.jsx)(c,{className:(0,r.AK)("w-auto, rounded[..25rem]",i),style:p}):null}let c=i.forwardRef((e,t)=>{var n,i;let{capture:l,deviceHeightClass:s,containerClass:c,allowAudio:p=!0}=e,d=u.Ak.find(||u.$_[0],m=null===(n=l.deviceScreenshot)||void 0===n?void 0:n.includes("/nv_static/v/"),h=l.deviceScreenshot||"",f=l.customTemplateHeight&&l.customTemplateWidth?{height:l.customTemplateHeight,width:l.customTemplateWidth}:void 0;return(0,o.jsx)("div",{className:(0,r.AK)("relative flex-1 overflow-hidden",c),children:(0,o.jsx)("div",{className:"absolute left-0 top-0 h-full w-full",style:{backgroundColor:l.deviceBgColor||void 0},children:(0,o.jsx)("div",{className:"flex h-full translate-x-0 translate-y-0 items-center justify-center",children:(0,o.jsxs)("div",{className:(0,r.AK)("pointer-events-none relative",l.deviceTemplate===a.DS.None&&"h-full w-full"),children:[(0,o.jsxs)("div",{className:(0,r.AK)("absolute bg-white","pointer-events-auto overflow-auto",l.lockHorizontalScroll&&"overflow-x-hidden",l.lockVerticalScroll&&"overflow-y-hidden"),style:null==d?void 0:d.dimensions,ref:t,id:"nv_viewport",children:[l.deviceScreenshot&&(m?(0,o.jsx)("video",{src:h,className:"h-auto w-full",autoPlay:!0,playsInline:!0,loop:!0,muted:!p}):(0,o.jsx)("img",{src:l.deviceScreenshot,className:"h-auto w-full"})),e.renderInsideTemplate]}),(0,o.jsx)(MediaDevice,{deviceHeightClass:s,deviceTemplate:null!==(i=l.deviceTemplate)&&void 0!==i?i:a.DS.None,selectedDevice:d,customDimensions:f})]})})})})});c.displayName="MediaCaptureRenderer",t.Z=c},83817:54532:74534:function(e,t,n){n.d(t,{s:function(){return r}});var o=n(73235),i=n(66547),a=n(87205);function _templateObject(){let e=(0,o._)(["\n    fragment MediaCaptureCollection on MediaCaptureCollection {\n  id\n  defaultDeviceTemplate\n  defaultDeviceBgColor\n  defaultLockHorizontalScroll\n  defaultLockVerticalScroll\n  defaultDesktopWidth\n  defaultDesktopHeight\n  defaultMobileWidth\n  defaultMobileHeight\n  defaultTabletWidth\n  defaultTabletHeight\n  screenshot\n  captures {\n    ...MediaCapture\n  }\n}\n    ",""]);return _templateObject=function(){return e},e}let r=(0,i.ZP)(_templateObject(),a.f)},63635:77973:function(e,t,n){n.d(t,{h:function(){return a}});var o=n(73235),i=n(66547);function _templateObject(){let e=(0,o._)(["\n    fragment ProjectLanguage on ProjectLanguage {\n  projectId\n  language\n}\n    "]);return _templateObject=function(){return e},e}let a=(0,i.ZP)(_templateObject())},76003:84036:78468:53012:function(e,t,n){n.d(t,{Y:function(){return useGetProjectQuery}});var o=n(73235),i=n(66547),a=n(40230),r=n(26806);function _templateObject(){let e=(0,o._)(["\n    query GetProject($id: String!) {\n  project(id: $id) {\n    ...Project\n  }\n}\n    ",""]);return _templateObject=function(){return e},e}let l=(0,i.ZP)(_templateObject(),a.q);function useGetProjectQuery(e){return r.aM({query:l,...e})}},66329:function(e,t,n){n.d(t,{k:function(){return useGetProjectCollectionQuery}});var o=n(73235),i=n(66547),a=n(63635),r=n(26806);function _templateObject(){let e=(0,o._)(["\n    query GetProjectCollection($projectId: String!, $collectionId: String!) {\n  projectCollection(projectId: $projectId, collectionId: $collectionId) {\n    ...ProjectCaptureCollection\n  }\n}\n    ",""]);return _templateObject=function(){return e},e}let l=(0,i.ZP)(_templateObject(),a.V);function useGetProjectCollectionQuery(e){return r.aM({query:l,...e})}},11412:function(e,t,n){n.d(t,{u:function(){return useListProjectCaptureCollectionsQuery}});var o=n(73235),i=n(66547),a=n(63635),r=n(26806);function _templateObject(){let e=(0,o._)(["\n    query ListProjectCaptureCollections($projectId: String!) {\n  projectCaptureCollections(projectId: $projectId) {\n    ...ProjectCaptureCollection\n  }\n}\n    ",""]);return _templateObject=function(){return e},e}let l=(0,i.ZP)(_templateObject(),a.V);function useListProjectCaptureCollectionsQuery(e){return r.aM({query:l,...e})}},40240:77128:47819:7444:98269:function(e,t,n){n.d(t,{Gy:function(){return updateMultilingual},_b:function(){return r},_k:function(){return multilingualToMaybeString},re:function(){return a}});var o=n(47330),i=n(341);let a={[o.sp.En]:"English",[o.sp.Es]:"Spanish",[o.sp.Fr]:"French",[o.sp.De]:"German",[o.sp.Pt]:"Portuguese",[o.sp.ZhCn]:"Chinese (Simplified)"},r={[i.C7.Next]:{[o.sp.En]:i.$R[i.C7.Next][i.sp.en],[o.sp.Es]:i.$R[i.C7.Next][i.sp.es],[o.sp.Fr]:i.$R[i.C7.Next][i.sp.fr],[o.sp.De]:i.$R[i.C7.Next][i.sp.de],[o.sp.Pt]:i.$R[i.C7.Next][i.sp.pt],[o.sp.ZhCn]:i.$R[i.C7.Next][i.sp.zhCN]},[i.C7.Back]:{[o.sp.En]:i.$R[i.C7.Back][i.sp.en],[o.sp.Es]:i.$R[i.C7.Back][i.sp.es],[o.sp.Fr]:i.$R[i.C7.Back][i.sp.fr],[o.sp.De]:i.$R[i.C7.Back][i.sp.de],[o.sp.Pt]:i.$R[i.C7.Back][i.sp.pt],[o.sp.ZhCn]:i.$R[i.C7.Back][i.sp.zhCN]},[i.C7.Submit]:{[o.sp.En]:i.$R[i.C7.Submit][i.sp.en],[o.sp.Es]:i.$R[i.C7.Submit][i.sp.es],[o.sp.Fr]:i.$R[i.C7.Submit][i.sp.fr],[o.sp.De]:i.$R[i.C7.Submit][i.sp.de],[o.sp.Pt]:i.$R[i.C7.Submit][i.sp.pt],[o.sp.ZhCn]:i.$R[i.C7.Submit][i.sp.zhCN]},[i.C7.BookDemo]:{[o.sp.En]:i.$R[i.C7.BookDemo][i.sp.en],[o.sp.Es]:i.$R[i.C7.BookDemo][i.sp.es],[o.sp.Fr]:i.$R[i.C7.BookDemo][i.sp.fr],[o.sp.De]:i.$R[i.C7.BookDemo][i.sp.de],[o.sp.Pt]:i.$R[i.C7.BookDemo][i.sp.pt],[o.sp.ZhCn]:i.$R[i.C7.BookDemo][i.sp.zhCN]}};function multilingualToMaybeString(e,t){var n,o;return e&&t&&null!==(o=null===(n=e.find(e=>e.language===t))||void 0===n?void 0:n.content)&&void 0!==o?o:null}function updateMultilingual(e,t,n){if(!e)return[{language:n,content:t}];let o=e.findIndex(;return -1===o?e.push({language:n,content:t}):e[o].content=t,e}},81332:function(e,t,n){n.d(t,{rr:function(){return c},Ak:function(){return p},Yi:function(){return i},C2:function(){return s},$_:function(){return u},Gc:function(){return deviceTemplateUrl},Dr:function(){return getDeviceTypeFromDeviceTemplateType}});var o,i,a=n(47330),r=n(16377),l=n(52322);unction DesktopShadow(e){let{style:t,...n}=e;return(0,l.jsx)(Shadow,{style:{aspectRatio:"3/2",...t},...n})}i||(i={})).None="NONE",o.Desktop="DESKTOP",o.Mobile="MOBILE",o.Tablet="TABLET";let u=[{name:"None",dimensions:{top:0,left:0,height:"100%",width:"100%"},template:None,type:"NONE",value:a.DS.None},{name:"Desktop",dimensions:{height:"100%",width:"100%",top:0,left:0,borderRadius:"4px"},template:DesktopShadow,type:"DESKTOP",value:a.DS.DesktopShadow},{name:"Mobile",dimensions:{height:"100%",width:"100%",top:0,left:0,borderRadius:"4px"},template:function(e){let{style:t,...n}=e;return(0,l.jsx)(Shadow,{style:{aspectRatio:"3/5",...t},...n})},type:"MOBILE",value:a.DS.MobileShadow},{name:"Tablet",dimensions:{height:"100%",width:"100%",top:0,left:0,borderRadius:"4px"},template:TabletShadow,type:"TABLET",value:a.DS.TabletShadow},{name:"Apple iMac Pro",image:"desktop/apple_iMac_pro.png",dimensions:{height:"60.3%",width:"89.24%",top:"7.03%",left:"5.55%"},type:"DESKTOP",value:a.DS.DesktopAppleImacPro},{name:"Apple iMac Retina",image:"desktop/apple_iMac_retina.png",dimensions:{height:"62%",width:"92.7%",top:"6.26%",left:"3.75%"},type:"DESKTOP",value:a.DS.DesktopAppleImacRetina},{name:"Apple Macbook Pro",image:"desktop/apple_Macbook_Pro_15_space_grey.png",dimensions:{height:"75.45%",width:"74.55%",top:"12.2%",left:"12.85%"},type:"DESKTOP",value:a.DS.DesktopAppleMacbookPro},{name:"Apple iPad Pro 13 Space Gray",image:"tablet/portrait/apple_iPad_pro_13_space_gray.png",dimensions:{height:"87.58%",width:"83.81%",top:"6.34%",left:"8.11%"},type:"TABLET",value:a.DS.IpadPro_13SpaceGray},{name:"Apple iPad Silver",image:"tablet/portrait/apple_iPad_silver.png",dimensions:{height:"79.75%",width:"84.36%",top:"10.15%",left:"7.87%"},type:"TABLET",value:a.DS.AppleIpadSilver},{name:"Apple iPhone 11 Pro Max Space Grey",image:"mobile/portrait/apple_iPhone_11_pro_max_space_grey.png",dimensions:{height:"91.26%",width:"82.76%",top:"4.38%",left:"8.61%"},type:"MOBILE",value:a.DS.AppleIphone_11ProMaxSpaceGrey},{name:"Dell XPS 13",image:"desktop/dell_xps_13.png",dimensions:{height:"80.3%",width:"84%",top:"3.7%",left:"8.21%"},type:"DESKTOP",value:a.DS.DesktopDellXps_13},{name:"Google Pixel 3 Clearly White",image:"mobile/portrait/google_pixel_3_clearly_white.png",dimensions:{height:"81.96%",width:"84.38%",top:"9.03%",left:"7.81%"},type:"MOBILE",value:a.DS.GooglePixel_3},{name:"Nexus 6p",image:"mobile/portrait/nexus_6P.png",dimensions:{height:"79%",width:"92.2%",top:"9.95%",left:"3.7%"},type:"MOBILE",value:a.DS.Nexus_6P}];function getDeviceTypeFromDeviceTemplateType(e){var t;let n=p.find(;return null!==(t=null==n?void 0:n.type)&&void 0!==t?t:null}let s=[{name:"None",dimensions:{top:0,left:0,height:"100%",width:"100%"},template:None,type:"NONE",value:a.DS.None},{name:"Desktop",dimensions:{height:"100%",width:"100%",top:0,left:0,borderRadius:"4px"},template:DesktopShadow,type:"DESKTOP",value:a.DS.DesktopShadow},{name:"Mobile",dimensions:{height:"100%",width:"100%",top:0,left:0,borderRadius:"4px"},template:type:"MOBILE",value:a.DS.MobileShadowLandscape},{name:"Tablet",dimensions:{height:"100%",width:"100%",top:0,left:0,borderRadius:"4px"},template:TabletShadow,type:"TABLET",value:a.DS.TabletShadowLandscape},{name:"Apple iMac Pro",image:"desktop/apple_iMac_pro.png",dimensions:{height:"60.3%",width:"89.24%",top:"7.03%",left:"5.55%"},type:"DESKTOP",value:a.DS.DesktopAppleImacPro},{name:"Apple iMac Retina",image:"desktop/apple_iMac_retina.png",dimensions:{height:"62%",width:"92.7%",top:"6.26%",left:"3.75%"},type:"DESKTOP",value:a.DS.DesktopAppleImacRetina},{name:"Apple Macbook Pro",image:"desktop/apple_Macbook_Pro_15_space_grey.png",dimensions:{height:"75.45%",width:"74.55%",top:"12.2%",left:"12.85%"},type:"DESKTOP",value:a.DS.DesktopAppleMacbookPro},{name:"Apple iPad Pro 13 Space Gray",image:"tablet/landscape/apple_iPad_pro_13_space_gray.png",dimensions:{height:"83.81%",width:"87.58%",top:"8.11%",left:"6.34%"},type:"TABLET",value:a.DS.IpadPro_13SpaceGrayLandscape},{name:"Apple iPad Silver",image:"tablet/landscape/apple_iPad_silver.png",dimensions:{height:"84.36%",width:"79.75%",top:"7.87%",left:"10.15%"},type:"TABLET",value:a.DS.AppleIpadSilverLandscape},{name:"Apple iPhone 11 Pro Max Space Grey",image:"mobile/landscape/apple_iPhone_11_pro_max_space_grey.png",dimensions:{height:"82.76%",width:"91.26%",top:"8.61%",left:"4.38%"},type:"MOBILE",value:a.DS.AppleIphone_11ProMaxSpaceGreyLandscape},{name:"Dell XPS 13",image:"desktop/dell_xps_13.png",dimensions:{height:"80.3%",width:"84%",top:"3.7%",left:"8.21%"},type:"DESKTOP",value:a.DS.DesktopDellXps_13},{name:"Google Pixel 3 Clearly White",image:"mobile/landscape/google_pixel_3_clearly_white.png",dimensions:{height:"84.38%",width:"81.96%",top:"7.81%",left:"9.03%"},type:"MOBILE",value:a.DS.GooglePixel_3Landscape},{name:"Nexus 6p",image:"mobile/landscape/nexus_6P.png",dimensions:{height:"92.2%",width:"79%",top:"3.7%",left:"9.95%"},type:"MOBILE",value:a.DS.Nexus_6PLandscape}],c=[...u].filter(,p=[...u,...s].filter(},341:function(e,t,n){var o,i,a,r;n.d(t,{$R:function(){return l},C7:function(){return i},sp:function(){return o}}),(a=o||(o={})).en="en",a.es="es",a.fr="fr",a.de="de",a.pt="pt",a.zhCN="zh-CN",(r=i||(i={})).Next="Next",r.Back="Back",r.Submit="Submit",r.BookDemo="Book Demo";let l={Next:{en:"Next",es:"Pr\xf3ximo",fr:"Suivant",de:"N\xe4chste",pt:"Pr\xf3ximo","zh-CN":"下一个"},Back:{en:"Back",es:"Atr\xe1s",fr:"Retour",de:"Zur\xfcck",pt:"Voltar","zh-CN":"后退"},Submit:{en:"Submit",es:"Enviar",fr:"Soumettre",de:"Einreichen",pt:"Enviar","zh-CN":"提交"},"Book Demo":{en:"Book Demo",es:"Reservar demostraci\xf3n",fr:"R\xe9server une d\xe9mo",de:"Demo buchen",pt:"Reservar demonstra\xe7\xe3o","zh-CN":"预订演示"}}}}]);
//# sourceMappingURL=7231-ba3753276e72b176.js.map