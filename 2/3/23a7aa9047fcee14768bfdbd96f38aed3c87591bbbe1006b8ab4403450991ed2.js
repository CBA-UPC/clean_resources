![function(t,e){t.exports=!1},163)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(168),o=n(64),i=nr":e}function a(t,e){return null==t?e:Array.isArray(t)?t.concat(e):[t,e]}var u=function(){function t(t){var e=t.url,n=t.headers,r=t.rawHeaders,i=t.query;if(this.Url={},this.rawHeaders=[],null!=e&&(this.url=e),null!=i&&(this.query=Object.assign(this.query,"string"==typeof i?o.parse(i):i)),r){if(r.length%2==1)throw new TypeError("Expected raw headers length to be even, was "+r.length);this.rawHeaders=r.slice(0)}else this.headers=n}return Object.defineProperty(t.prototype,"url"Url)},set:function(t){this.Url=r.parse(t,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"query"uery},set:function(t){this.Url.query="string"==typeof t?o.parse(t):t,this.Url.search=null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headers",{get:function(){for(var t={},e=0;e<this.rawHeaders.length;e+=2){var n=s(this.rawHeaders[e]),r=a(t[n],this.rawHeaders[e+1]);t[n]=r}return t},set:function(t){if(this.rawHeaders=[],t)for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];this.append(r,t[r])}},enumerable:!0,configurable:!0}),t.prototype.toHeaders=function(){for(var t={},e=0;e<this.rawHeaders.length;e+=2){var n=this.rawHeaders[e],r=a(t[n],this.rawHeaders[e+1]);t[n]=r}return t},t.prototypthis},t.prototype.append=function(t,e){if(Array.isArray(e))for(var n=0,r=e;n<r.length;n++){var o=r[n];null!=o&&this.rawHeaders.push(t,o)}else null!=e&&this.rawHeaders.push(t,e);return this},t.prototype.name=function(t){for(var e=s(t),n=0;n<this.rawHeaders.length;n+=2)if(s(this.rawHeaders[n])===e)return this.rawHeaders[n]},t.prototype.get=function(t){for(var e=s(t),n=0;n<this.rawHeaders.length;n+=2)if(s(this.rawHeaders[n])===e)return this.rawHeaders[n+1]},t.prototype.getAll=function(t){for(var e=s(t),n=[],r=0;r<this.rawHeaders.length;r+=2)s(this.rawHeaders[r])===e&&n.push(this.rawHeaders[r+1]);return n},t.prototype.remove=function(t){for(var e=s(t),n=0;n<this.rawHeaders.length;n+=2)s(this.rawHeaders[n])===e&&i.splice(this.rawHeaders,n,2);return this},t.prototype.type=function(t){return 0===arguments.length?null==(e=this.get("Content-Type"))?null:e.split(/ *; */,1)[0]:this.set("Content-Type",t);var e},t}();e.BaData},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.env=t,this.conf=n(102)(t)}return t.prototype.info=function(t){"DEBUG"!=this.conf.logLevel&&"INFO"!=this.conf.logLevel||console.info(t)},t.prototype.warn=function(t){"DEBUG"!=this.conf.logLevel&&"INFO"!=this.conf.logLevel&&"WARN"!=this.conf.logLevel&&"ERROR"!=this.conf.logLevel||console.warn(t)},t.prototype.error=function(t){console.error(t)},t}();e.Loggon(t){return i?o.createElement(t):{}}},function(t,e,n){"use str{return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(154)),i=function(){function t(){}return t.appendStyleChild=function(t){o.default("head").append('<style type="text/css">'+t+"</style>")},t.appendScriptChild=function(t){o.defaulnction(t){o.default=function(t,e){o.default(e).append(t)},t}();e.DomHelper=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__e=e.status,n.statusText=e.statusText,n}return o(e,t),e.prototype.statusType=function(){return~~(this.status/100)},e.prototype.toJSON=function(){return{url:this.url,headers:this.headers,body:this.body,status:this.status,statusText:this.statusText}},e}(n(65).Base);e.Response=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(66);e.default=function(t){var e=.forEsOwnProperty(n)||(e[n]=t[n])}(n(160))},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n,r,o){var i=t.call(this,e,r)||this;return i.name="PopsicleError",i.code=n,i.popsicle=o,i}return o(e,t),e}(n(162).BaseError);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splice=function(t,e,n){void 0===n&&(n=1);for(var r=e;r<t.length-n;r++)t[r]=t[r+n];t.length-=n}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototote(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(65),s=n(100),a=n(99),u=function(t){function e(e){var n=t.call(this,e)||this;return n.middleware=[],n.opened=!1,n.aborted=!1,n.uploaded=0,n.downloaded=0,n.timeout=0|e.timeout,n.method=(e.method||"GET").toUpperCase(),n.body=e.body,n.events=e.events||Object.create(null),n.transport=Object.assign({},e.transport),n.use(e.use||n.transport.use),n._promise=Promise.resolve().then(function(){return function(t){var e=-1;return function n(r){if(r<=e)throw new TypeError("`next()` called multiple times");if(t.aborted)return Promise.reject(t.error("Request aborted"ware[r]||function(){return t.handle()};returreturn e(o(t,function(){return n(r+1)}))})}(0)}(n)}),n.once("abort",function(){1!==n.completed&&(n.aborted=!0)}),n}return o(e,t),e.prototype.error=function(t,e,n){return new an(t,e){return this(t){return this._promise.then(null,t)},e.prototype.exec=function(t){this.then(function(e){reture:this.middleware,e,body:this.body,tition(){return new e(this.toOptions())},e.prototype.use=function(t){return Array.isArray(t)?(e=this.middleware).push.apply(e,t):this.middleware.push(t),this;var e},e.prototype.on=function(t,e){return Object.prototype.hasOwnProperty.call(this.events,t)?this.events[t].push(e):this.events[t]=[e],this},e.prototype.off=function(t,e){if(Object.prototype.hasOwnProperty.call(this.events,t)){for(var n=this.events[t],r=-1,o=0;o<n.length;o++)if(n[o]===e||n[o].listener===e){r=o;break}r>-1&&(1===n.length?delete this.events[t]:s.splice(this.events[t],r))}return this},e.prototype.once=function(t,e){return this.on(t,function(t,e,n){var r=!1,o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r||(r=!0,t.off(e,n),0===o.length?n.call(t):n.apply(t,o))};return o.listener=n,o}(this,t,e))},e.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!Object.prototype.hasOwnProperty.call(this.events,t))return this;var r=this.events[t];if(1===r.length)0===e.length?r[0].call(this):r[0].apply(this,e);else for(var o=0,i=r.slice();o<i.length;o++){var s=i[o];0===e.length?s.call(this):s.apply(this,e)}return this},e.prototype.abort=function(){return this.emit("abort")},e.prototype.handle=function(){var t=this;if(this.opened=!0,/^https?\:\/*(?:[~#\\\?;\:]|$)/.test(this.url))return Promise.reject(this.error('Refused to connect to invalid URL "'+this.url+'"',"EINVALID"));var e,n=this.timeout,r=new Promise(function(r,o){n>0&&(e=setTimeout(function(){o(t.error("Timeout of "+n+"ms exceeded","ETIMEOUT")),t.abort()},n)),t.once("abort",function(){t.emit("progress"),o(t.error("Request aborted","EABORT")),t.transport.abort&&t.transport.abort(t)}),Promise.resolve(t.transport.open(t)).then(function(t){return r(t)},function(t){return o(t)})});return n>0&&r.te)},function(){return clearTimeout(e)}),r},Object.definturn(this.uploaded+this.downloaded)/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"completedBytes",{get:function(){return this.uploadedBytes+this.downloadedBytes},enumerable:!0,configurable:!0}),Object.definethis.uploadLength+this.downloadLength},enumerable:!0,configurable:!0}),e.prototype._setUploadedBytes=function(t,e){t!==this.uploadedBytes&&(this.uploaded=e||t/this.uploadLength,this.uploadedBytes=t,this.emit("progress"))},e.prototype._setDownloadedBytes=function(t,e){t!==this.downloadedBytes&&(this.downloaded=e||t/this.downloadLength,this.downloadedBytes=t,this.emit("progress"))},e}(i.Base);e.Request=u},function(t,e,n){var r=n(176),o=n(175),i=n(174),s=n(173);t.exports=function(t){var e=void 0;switch(t.toUpperCase()){case"LOCAL":e=r;break;case"DEV":e=o;break;case"SBX":e=i;),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(95),o=function(){function t(){}returis.displayDeviceFingerprintScripts(r)},t.prototype.collectScripts=function(t,e,n){var r=[];return t&&t.deviceFingerprintVendors&&t.deviceFingerprintVendors.forEach(function(t){if(t.script){var o=t.script.replace("[SESSIONID]",e.sessionId);r.push({script:o,appendToTag:t.appendToTag}),n.info("Cross Border Tag::: Fingerprint vendor found: "+t.name)}}),r},t.prototype.displayDeviceFiendChildToTag(t.script,t.appendToTag);a<16;++a)e[i+a]=s[a];return e||o(s)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModul),this.sessionId=t,thsage)}},t.exports.InvalidTokenError=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(67),o=n(144),i=function(){function t(){}return t.decodeMerchIdFromJwtClaims=function(e){try{var n=o(e);return n&&n.merchId}catch(e){return void t.logger.error("cant get merchId from claims: "+e.message)}},t.formatMerchSettingsStorageKey=function(t){return"pb-ms"+(void 0!==t&&"-"+t||"")},t.logger=new r.L+n]=t[o];return o}}).call(this,n(63))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(67),on e(){this.logger=new r.Logger("prd")}return Object.definePropet:function(t){this._sessionStorage=t},enumerable:!0,configurable:!0}),e.prototype.getVendorTokens=function(){return JSON.parse((e=this.getDeviceFingerprintId(),t.from(e,"base64").toString("binary")));var e},e.prototype.getDeviceFingerprintId=function(){return this.dfId||(this.dfId=this.getDfIdFromSessionStorage(),this.dfId||(this.dfId=this.setDfIdToSessionStorage(new i.VendorTokens(s())))),this.dfId},e.prototype.getDfIdFromSessionStorage=function(){var t;return this._sessionStorage&&(t=this._sessionStorage.getItem("pb-dfId")),t},e.prototype.setDfIdToSessionStorage=function(e){var n;return this.dfId=(n=JSON.stringify(e),t.from(n,"binary").toString("base64")),this._sessionStorage&&this._sessionStorage.setItem("pb-dfId",this.dfId),this.dfId},e.prototype.getMerchantSettingsFromSessionStorage=function(t){if(this._sessionStorage){var e=this._sessionStorage.getItem(o.StorageKeyUtils.formatMerchSettingsStorageKey(o.StorageKeyUtils.decodeMerchIdFromJwtClaims(t)));if(e){try{return JSON.parse(e)}catch(t){this.logger.error("Cross Border Tag::: Failed parsing merchant settings from storage: "+e)}}}},e.prototype.setMerchantSettingsToSessionStorage=function(t){this._sessionStorage&&this._sessionStorage.setItem(o.StorageKeyUtils.formatMerchSettingsStorageKey(t.merchId),JSON.stringify(t))},e}();e.DfStorageManager=a}).call(this,n(149).Buffer)},function(t,e,n){"use strict";Object.defineProperty(e,"__function t(t){this.dfStorageManager=t}retorageManager.getDeviceFingerprintId()},t.prototype.setForterToken=function(t){var e=this.dfStorageManager.getVendorTokens();e.forterToken=t,this.dfStorageManager.setDfIdToSt,e){u(t,"",r(r({},e),{expires:-1}))}},function(t,e,n){"use ,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{vN=1825,this.COOKIE_SHORT_EXPIRATION=1}return t.prototype.isConsentBannerCookieActive=function(){var t;try{t=o.get(this.COOKIE_NAME)}catch(t){this.logger.error(t)}return this.COOKIE_VALUE==t},t.prototype.activateConsentBannerCookie=function(t){try{o.set(this.COOKIE_NAME,this.COOKIE_VALUE,{expires:t?this.COOKIE_SHORT_EXPIRATION:this.COOKIE_EXPIRATION,secure:!0,sameSite:"none"})}catch(t){this.loggn.jQuery=$e),E},o||(n.jQuery=n.$=E),E})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModu padding: 15px 45px 15px 15px;\';">&#10006</a+'" target="_blank">cookie policy</a>.'},t.prototype.displayBanner=function(t){r.DomHelper.appendStyleChild(this.style),r.DomHelper.appendBodyChild(t)},t}();e.ConsentBannerService=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(96),o=n(98);e.createTransport=function(t){return{use:i,abort:s,open:function(e){return function(t,e){return new Promise(function(n,o){var i=e.type||"text",s=t.url,a=t.method;if("https:"===window.location.protocol&&/^http\:/.test(s))return o(t.error('The request to "'+s+'" was blocked',"EBLOCKED"));var u=t._raw=new XMLHttpRequest;function c(){return new Promise(function(t){return t(new r.Response({status:1223===u.status?204:u.status,statusText:u.statusText,rawHeaders:function(t){for(var e=[],n=0,r=t.split(/\r?\n/);n<r.length;n++){var o=r[n];if(o){var i=o.indexOf(":"),s=o.substr(0,i).trim(),a=o.substr(i+1).trim();e.push(s,a)}}return e}(u.getAllResponseHeaders()),body:"text"===i?u.responseText:u.response,url:u.responseURL}))})}u.on())},u.onabort=function(){return n(c())},u.onerror=function(){return o(t.error('Unable to connect to "'+t.url+'"',"EUNAVAILABLE"))},u.onprogress=function(e){e.lengthComputable&&(t.downloadLength=e.total),t._setDownloadedBytes(e.loaded)},u.upload.onloadend=function(){return t.downloaded=1},"GET"!==a&&"HEAD"!==a&&u.upload?(u.upload.onprogress=function(e){e.lengthComputable&&(t.uploadLength=e.total),t._setUplnloadend=function(){return t.uploaded=1}):(t.uploadLength=0,t._setUploadedBytes(0,1));try{u.open(a,s)}catch(e){return o(t.error('Refused to connect to "'+s+'"',"ECSP",e))}if(e.withCredentials&&(u.withCredentials=!0),e.overrideMimeType&&u.overrideMimeType(e.overrideMimeType),"text"!==i)try{u.responseType=i}finally{if(u.responseType!==i)return o(t.error("Unsupported type: "+i,"ETYPE"))}for(var f=0;f<t.rawHeaders.length;f+=2)u.setRequestHeader(t.rawHeaders[f],t.rawHeaders[f+1]);u.send(t.body)})}(eheaders()];function s(t){t._raw.abort()}},function(t,e,n){"use strict";Object.definePe jars are not available in browsers")}}();e.CookieJar=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esMot=function(t){return new r.CookieJar(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){switch(Object.prototype.toString.call(t)){case"[object File]":case"[object Blob]":case"[object FormData]":case"[object ArrayBuffer]":return!0;default:return!1}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(66),o=n(64),i=n(159),s=n(97),a=/^application\/(?:[\w!#\$%&\*`\-\.\^~]*\+)?json$/i,u=/^application\/x-www-form-urlencoded$/i,c=/^nction l(t){return function(){return t}}e.wrap=l,e.headers=l(function(t,e){return t.get("Accept")||t.set("Accept","*/*"),t.remove("Host"),e()}),e.stringify=l(function(t,e){var n=t.body;if(Object(n)!==n)return t.body=null==n?null:String(n),e();if(i.default(n))return e();var f=t.type();f||(f="application/json",t.type(f));try{a.test(f)?t.body=JSON.stringify(n):c.test(f)?t.body=s.default(n):u.test(f)&&(t.body=o.stringify(n))}catch(e){return Promise.reject(t.error("Unable to stringify request body: "+e.message,"ESTRINGIFY",e))}return t.body instanceof r&&t.remove("Content-Type"),e()}),e.parse=function(t,e){for(var n=Array.isArray(t)?t:[t],r=0,i=n;r<i.length;r++){var s=i[r];if("json"!==s&&"urlencoded"!==s)throw new TypeError("Unexpected parse type: "+s)}return function(t,r){return r().then(function(r){var i=r.body,s=r.type();if(null==i||""===i)return r.body=null,r;if(null==s)throw t.error("Unable to parse empty response content type","EPARSE");if("string"!=typeof i)throw t.error("Unable to parse non-string response body","EPARSE");for(var c=0,l=n;c<l.length;c++){var h=l[c];if("json"===h&&a.test(s)){try{r.body=JSON.parse(i.replace(f,""))}catch(e){throw t.error("Unable to parse response body: "+e.message,"EPARSE",e)}return r}if("urlencoded"===h&&u.test(s))return r.body=o.parse(i),r}if(!1!==e)throw t.error("Unhandled response type: "+s,"EPARSE");return r})}}},function(t,e,n){"use strict";var r="undefined"!=typeof Reflect?Reflect.construct:void 0,o=Object.,writable:!0})onfigurable:!0,value:e,writable:!0})}})}),s.prototype=Object.create(Error.prototype,{constructor:{confoo"),"foo"===rototype=Object.create(e.prototype,o),t}).BaseError=s},function(t,e,n){"ueate(e):(r.prototype=e.prototype,new r)},i=n(161);function r(t,e){return void 0===e&&(e=r.BaseErrotion e(e,n){t.call(this,e),this.cause=n}return o(e,t),e.prototype.toString=function(){return t.prototype.toString.call(this)+(this.cause?"\nCaused by: "+this.cause.toString():"")},e}(i.BaseErrorlength-e.length)),t&&(this.hon in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66);e.FormData=o;var i=n(101),s=n(98);e.plugins=s;var a=n(97);e.form=a.default;var u=n(158);e.jar=u.default;var c=n(99);e.PopsicleError=c.default;var f=n(156);function l(t){var e=f.createTransport({type:"text"}),n=Object.assign({},{transport:e},t);return function(t){var e=Object.assign({},n,"string"==typeof t?{url:t}:t);if("string"!=typeof e.url)throw new TypeError("The URL must be a string");return new i.Request(e)}}e.createTransport=f.createTransport,e.defaults=l,e.request=l({}),e.get=l({method:"get"}),e.post=l({method:"post"}),e.put=l({method:"put"}),e.patch=l({method:"patch"}),e.del=l({method:"delete"}),e.head=l({method:"head"}),r(n(65)),r(n(101)),r(n(96)),e.default=e.request},function(t,e,n){"use strict";Object.definePon(){this.code="",this.requiresGDPR=!1}}();e.Country=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(170),o=function(){return function(){this.country=new r.Country,this.merchRequiresGDPR=!1,this.isLoaded=!1}}();e.MerchantSettings=o},function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0ction t(t,e){this.token=t,this.apiUrl=e}return t.prototype.getMerchantSettings=function(t,e){var n=this.apiUrl+"/merchants/merchant-settings";i.request({method:"GET",url:n,headers:{"x-access-token":this.token}}).use(i.plugins.parse(["json","urlencoded"])).then(function(n){var r=new o.MerchantSettings;if(200==n.status)try{r.merchId=n.body.merchId,r.merchName=n.body.merchName,r.merchRequiresGDPR=n.body.merchRequiresGDPR,r.privacyPolicyUrl=n.body.privacyPolicyUrl,r.deviceFingerprintVendors=n.body.deviceFingerprintVendors,n.body.country&&(r.country.code=n.body.country.code,r.country.requiresGDPR=n.body.country.requiresGDPR),r.isLoaded=!0}catch(n){t(r,e)}t(r,e)},function(n){t(new o.MerchantSettings,e)})},t}();e.MerchantService=s},function(t,e){t.exports={env:"production",apiUrl:"https://global.prd.borderfree.com/cbtapi",logLevel:"WARN"}},function(t,e){t.exports={env:"sandbox",apiUrl:"https://global.sbx.borderfree.com/cbtapi",logLevel:"DEBUG"}},function(t,e){t.exports={env:"development",apiUrl:"https://cbt-api.tyk.dev.aws.bfnet.us",logLevel:"DEBUG"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(67),o=n(172),i=n(155),s=n(153),a=n(151),u=n(150),c=n(137),f=function(){function t(){this.logger=new r.Logger("dev"),this.deviceFingerprintService=new c.DeviceFingerprintService,this.dfStorageManager=new u.DfStorageManager,this.cbtManager=new a.CbtManager(this.dfStorageManager),this.cookiesService=new s.CookiesService(this.logger)}return t.prototype.init=function(t){if(this.isInitParamsValid(t)){this.token=t._token,this.env=t._env,this.logger=new r.Logger(t._env),this.dfStorageManager.sessionStorage=window.sessionStorage,this.conf=n(102)(this.env),this.logger.info("Cross Border Tag::: Got the token successfully");var e=new o.MerchantService(this.token,this.conf.apiUrl);this.isCookieBannerActive=this.cookiesService.isConsentBannerCookieActive();var i=this.dfStorageManager.getMerchantSettingsFromSessionStorage(this.token);i?this.processMerchantSettings(i):e.getMerchantSettings(this.processMerchantSettings.bind(this),this.logger),window.CbtManager=this.cbtManager}},t.prototype.processMerchantSettings=function(t){this.dfStorageManager.setMerchantSettingsToSessionStorage(t),this.isCookieBannerActive?this.logger.info("Cross Border Tag::: "+this.cookiesService.COOKIE_NAME+" exists"):this.displayBanner(t,this.logger),t.isLoaded&&(this.dfId=this.dfStorageManager.getVendorTokens(),this.deviceFingerprintService.collectAndDisplayScripts(t,this.dfId,this.logger))},t.prototype.displayBanner=function(t,e){var n=!1;if(t.country.requiresGDPR)if(t.merchRequiresGDPR){var r=new i.ConsentBannerService,o=r.buildBanner(t);r.displayBanner(o)}else n=!0;var a=new s.CookiesService(e);e.info("Cross Border Tag::: "+a.COOKIE_NAME+" does not exist, creating one with short expiration: "+n),a.activateConsentBannerCookie(n)},t.prototype.isInitParamsValid=function(t){return t?t._token?t._env?!!this.isEnvironmentValid(t._env)||(this.logger.warn("Cross Border Tag::: Invalid environment value supplied"),!1):(this.logger.warn("Cross Border Tag::: Failed to get environment"),!1):(this.logger.warn("Cross Border Tag::: Failed to get token"),!1):(this.logger.warn("Cross Border Tag::: Failed to load init paran(t){return"dev"==t||"sbreturn null!=this.token&&,r){a(t,e,(void 0!==r?o:i)(n),s(r))}}})},function(t,e,n){var r=n(27),o=n(1),i=r.has,s=r.key;r.exp({hasOwnMetadata:function(t,e){return i(t,o(e),argume+(u>>>16)+((o*a>>>0)+(65535&u)>>>16)}})},function(t,e,n){ror:function(t){return"Error"===o(t)}})},function(t,e,n){v(t,e,n){var r=n(0);r(r.G,{global:n(2)})},function(t,e,n){n(49)("WeakSet")},function(t,e,n){n(49)("WeakMap")},function(t,e,n){n(49)("Set")},function(t,e,n){n(49)("Map")},function(t,e,n){n(50)("WeakSet")},function(t,e,n){n(50)("WeakMap")},function(t,e,n){n(50)("Set")},function(t,e,n){n(50)("Map")},function(t,e,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(105)("Map")})},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(25),s=n(15),a=n(16).f;n(8)&&r(r.P+n(51),"Object",{__lookupSetter__:function(t){var e,n=o(this),r=i(t,!0);do{if(e=a(n,r))return e.get}while(n=s(n))}})},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(10),s=n(7);n(8)&&r(r.P+n(51),"Object",{__defineSetter__:function(t,e){s.f(o(this),t,{set:i(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var r=n(0),o=n(106)(!0);r(r.S,"Obje(n=u(r,e=c[l++]))&&a(f,e,n);return f}})},function(t,e,n){n(93)("observable")}.lastIndex=i(t.lastIndex),new c(r,e)}})},function(t,e,n){"use strict";n(44)("trimRight",function(t){return fction(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";var r=n(0),o=n(107),i=n(68);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var r=n(0),o=n(83)(!0);r(r.P,"Strireturn i&&i(t),!0}catch(t){return!1}}})},function(t,e,n){var ri(n);return s?s(r,e,u):a.call(r,e,u)}})},function(t,e,n){n(28)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(28)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(28)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(28)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(28)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(28)("Int16",2,function(t){return ction(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(28)("Uint8",1,function(t){return call(n,i,o):r.call(String(i),n,o)},r]})},function(t,e,n){n(55)("search",1,function(t,e,n){return[function(n){"use strict";var r=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call1?arguments[1]:void 0)}}),n(29)("find")},function(t,e,n){var r=n(0);r(arguments)||0:o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(121);r(r.P+r.F*!n(18)([].reduceRight,!0),"Array",{reduceRight:function(t){return o(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(0),o=n(21)(4);r(r.P+r.F*!n(18)([].every,!0),"Array",{every:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(21)(3);r(r.P+r.F*!n(18)([].some,!0),"Array",{some:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(21)(2);r(r.P+r.F*!n(18)([].filter,!0),"Array",{filter:funct,y],!0):o.value);return n.length=y,n}})},function(t,e,n){vaunction(){return(new Date).getTime()}})},function(t,e,n){"use strict";n(11)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){"use strict";n(11)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(11)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(11)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(11)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(11)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(11)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(11)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(11)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(11)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(11)("blink",function(t){return funall(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){vao(-t))/2:(i(t-1)-i(-t-1))*(Math.E/2)}})},function(t,e,nction(t){return Math.log(t)/Math.LN2}})},function(t,e,n){:n;return u===1/0?1/0:u*Math.sqrt(i)}})},function(t,e,n){vlog(t)+Math.LN2:o(t-1+i(t-1)*i(t+1))}})},function(t,e,n){var r=n(0),o=n(128);r(r.S+r.F*(Num=v,v.constructor=p,n(12)(r,"Number",p)}},function(t,e,n){var r=n(0),o=n(127);r(this).match(i)[1]}catch(t){return""}}})},function(t,e,n){vareturn t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n)function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(4);n(22)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(4),o=n(30).onFreeze;n(22)("preventExtensions",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(4),o=n(30).onFreeze;n(22)("seal",function(t){return ertyNames",function(){return n(132).f})},function(t,e,n){var r=n(9),o=n(38);n(22)("keys",function!n(8),"Object",{defineProperty:n(7).f})},function(t,e,n){va.call.bind([][t]))})}).call(this,n(63))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),"function"!=typeof Object.assign&&n(379),(new(n(177).CrossBorderTag)).init(window.cbt)}]);