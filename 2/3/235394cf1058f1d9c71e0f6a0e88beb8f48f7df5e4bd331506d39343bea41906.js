const getGtmScript = (id) => {
  window.addEventListener('gdpr_applies', function (e) {
    if (
      e &&
      e.detail &&
      Array.isArray(e.detail) &&
      e.detail.includes('5e952f6107d9d20c88e7c975')
    ) {
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', id);
    } else {
      const phillipEvent = new CustomEvent('PhillipEvent', {
        bubbles: true,
        detail: {},
      });
      document.dispatchEvent(phillipEvent);
      window.phillip = true;
    }
  });
};

export default getGtmScript;
("change",t)}}}),f=Object(c.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inquiry-form"},[e.index>0?n("div",{staticClass:"divider"}):e._e(),e._v(" "),n("div",{staticClass:"form-wrapper"},[e.question.text?n("h4",{domProps:{textContent:e._s(e.question.text+(e.question.required?"*":""))}}):e._e(),e._v(" "),n("div",{staticClass:"inquiry-list"},e._l(e.sortedOptionsById,(function(option){return n("div",{key:option.id,staticClass:"inquiry-list-item"},[n("label",["checkbox"===e.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{id:option.id,type:"checkbox"},domProps:{value:option.id,checked:Array.isArray(e.value)?e._i(e.value,option.id)>-1:e.value},on:{change:[function(t){var n=e.value,r=t.target,o=!!r.checked;if(Array.isArray(n)){var c=option.id,l=e._i(n,c);r.checked?l<0&&(e.value=n.concat([c])):l>-1&&(e.value=n.slice(0,l).concat(n.slice(l+1)))}else e.value=o},function(t){return e.change(e.value)}]}}):"radio"===e.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{id:option.id,type:"radio"},domProps:{value:option.id,checked:e._q(e.value,option.id)},on:{change:[function(t){e.value=option.id},function(t){return e.change(e.value)}]}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{id:option.id,type:e.inputType},domProps:{value:option.id,value:e.value},on:{change:function(t){return e.change(e.value)},input:function(t){t.target.composing||(e.value=t.target.value)}}}),e._v(" "),n("span",{domProps:{textContent:e._s(option.text)}})]),e._v(" "),option.image?n("img",{attrs:{src:option.image,alt:option.text}}):e._e()])})),0)]),e._v(" "),n("div",{staticClass:"bottom-wrapper"},[e._t("default")],2)])}),[],!1,null,null,null).exports,v={name:"PercentageProgressBar",props:{percentage:{type:Number|String,required:!0}},computed:{getWidth:function(){return{width:"".concat(100-this.percentage,"%")}}}},m=Object(c.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"percentage-progress-bar"},[n("div",{staticClass:"background"}),e._v(" "),n("div",{staticClass:"overlay",style:e.getWidth})])}),[],!1,null,null,null).exports,h={name:"InquiryResults",components:{PercentageProgressBar:m},props:{question:{type:Object,required:!0},index:{type:Number,required:!1,default:0}},computed:{sortedOptionsByVotes:function(){return this.question.options.slice(0).sort((function(a,b){return a.votes<b.votes?1:-1}))}}},_=Object(c.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inquiry-results-wrapper"},[e.index>0?n("div",{staticClass:"divider"}):e._e(),e._v(" "),n("div",{staticClass:"form-wrapper"},[e.question.text?n("h4",[e._v(e._s(e.question.text))]):e._e(),e._v(" "),e._l(e.sortedOptionsByVotes,(function(option){return n("div",{key:option.id,staticClass:"inquiry-list-item"},[n("span",{staticClass:"text"},[e._v(e._s(option.text))]),e._v(" "),n("span",{staticClass:"percentage"},[e._v(e._s(option.votes_ratio.toFixed(1))+" %")]),e._v(" "),n("PercentageProgressBar",{attrs:{percentage:option.votes_ratio}}),e._v(" "),option.image?n("img",{attrs:{src:option.image,alt:option.text}}):e._e()],1)}))],2)])}),[],!1,null,null,null).exports;const y={beforeMount(){this.objectData=this.data},data:()=>({objectData:{},submitted:{},isLoading:!1,answers:{},isSubmitted:!1}),props:{data:{type:Object,required:!0,questionnaireVoted:!1},expirations:{type:Object,required:!1},options:{type:Object,default:{}}},computed:{alreadySubmitted(){return!!this.submitted[this.objectData.id]},emptyAnswersCount(){let e={};for(const[t,n]of Object.entries(this.answers))n.required&&0===n.id.length&&(e[t]=n),n.required&&n.custom&&0===n.customText.length&&(e[t]=n);return Object.keys(e).length}},methods:{isResults(){return this.alreadySubmitted||this.questionnaireAlreadyVoted()},inputChange(data){let e={id:data.answerId,required:data.question.required};data.custom&&(e.custom=!0,e.customText=data.customText),this.$set(this.answers,data.question.id,e)},inquiryAlreadyVoted:e=>!!localStorage.getItem(`inquiry_vote_${e}`),questionnaireAlreadyVoted(){return!!localStorage.getItem(`questionnaire_${this.objectData.id}`)},afterSubmit(e=this.objectData.id){this.$set(this.submitted,e,!0),this.axios.post(`/questionnaire/get/?data[questionnaireId]=${this.objectData.id}`,{imageThumbnail:"640x360f",isFbButton:!0}).then((e=>{this.isLoading=!0,200===e.status&&null!==e.data.error&&(this.objectData=e.data.object)})).catch((e=>{const t=e.response;let n="Pri odosielaní došlko k chybe. Váš hlas nebol zaznamenaný.";t.data.error.hasOwnProperty("msg")&&(n=t.data.error.msg),this.$root.$emit("notify",n)})).finally((()=>{this.isLoading=!1}))},checkRequiredAnswers(e){let t={};for(const[n,r]of Object.entries(e))r.required&&0===r.id.length&&(t[n]=r),r.required&&r.custom&&0===r.customText.length&&(t[n]=r);return 0===Object.keys(t).length||(this.$root.$emit("notify","Najskôr prosím vyplňte všetky povinné otázky"),!1)},getAnswersData(e){let t=[];for(const[n,r]of Object.entries(e)){let e={questionId:n,id:r.id?r.id:""};r.custom&&(e.custom=!0,e.customText=r.customText),t.push(e)}return JSON.stringify(t)},async voteRequest(e="",t=!0){this.isLoading=!0,this.axios.post("/questionnaire/send/",this.getRequestData(e)).then((e=>{200===e.status&&e.data.hasOwnProperty("params")&&(this.isSubmitted=!0,this.afterSubmit(),this.storeData())})).catch((e=>{const n=e.response;let r="Pri odosielaní došlko k chybe. Váš hlas nebol zaznamenaný.";n.data.error.hasOwnProperty("msg")&&(r=n.data.error.msg),this.$root.$emit("notify",r,t)})).finally((()=>{this.isLoading=!1}))},getRequestData(e){let data=new FormData;data.append("data[questionnaireId]",this.objectData.id),"__azTracker"in window&&(data.append("data[user][user_finger]",__azTracker.getFingerprint()),data.append("data[user][user_uuid]",__azTracker.getUid()),data.append("data[project]",__azTracker.getProjectName()));for(const[e,t]of Object.entries(this.answers))t.id&&0!==t.id.length&&(data.append(`data[questions][${e}][questionId]`,e),Array.isArray(t.id)?t.id.forEach(((t,n)=>{data.append(`data[questions][${e}][answers][${n}][answerId]`,t)})):t.custom?(data.append(`data[questions][${e}][answers][0][answerId]`,t.id),data.append(`data[questions][${e}][answers][0][custom]`,t.custom),data.append(`data[questions][${e}][answers][0][customText]`,t.customText)):data.append(`data[questions][${e}][answers][0][answerId]`,t.id));return""!==e&&(data=this.appendContactData(data,e)),data},appendContactData:(data,e)=>(data.append("data[user][name]",e.user.name),data.append("data[user][email]",e.user.email),data.append("data[user][phone]",e.user.phone),data.append("data[user][psc]",e.user.psc),data.append("data[user][address]",e.user.address),data.append("data[newsletter]",e.newsletter),data.append("data[rules]",e.rules),data.append("data[captcha]",e.token),e.gender!==[]&&data.append("data[user][gender]",e.user.gender),data)},filters:{wordBender(e,t,n,r,o=!0){let c=r;return 1===(e=e||0)?c=t:1<e&&e<5&&(c=n),o&&(c=e+" "+c),c}}},w={data:()=>({answer:[]}),methods:{fillResultsDataByQuestion(e){const t=localStorage.getItem(`questionnaire_${this.objectId}_answers`);if(!t)return;JSON.parse(t).forEach((t=>{t.questionId===e.id&&(t.custom?this.answer=t.customText:this.answer=t.id)}))},getInputType:e=>1===e?"radio":"checkbox",getOptionInfo:e=>2===e?"(Môžete vybrať viac možností)":"(zvoliť môžete iba jednu odpoveď)",isChecked(option){return this.answer===option.id}}};var x={name:"Inquiry",components:{ButtonLoader:l,InquiryResults:_,InquiryForm:f},mixins:[y],data:function(){return{isLoading:!1,isSubmitted:!1,answers:{}}},methods:{submitVote:function(){for(var e in this.objectData.questions)if(this.objectData.questions.hasOwnProperty(e)&&this.objectData.questions[e].required){var t=this.objectData.questions[e].id;if(!this.answers.hasOwnProperty(t)||0===this.answers.length)return void this.$root.$emit("notify","Pred odoslaním vyberte jednu z odpovedí")}this.voteRequest()},getRequestData:function(){var data=new FormData,i=0;for(var e in data.append("data[questionnaireId]",this.objectData.id),this.answers)this.answers.hasOwnProperty(e)&&(data.append("data[questions][".concat(i,"][questionId]"),e),this.answers[e].forEach((function(e,t){data.append("data[questions][".concat(i,"][answers][").concat(t,"][answerId]"),e)}))),i++;return"__azTracker"in window&&(data.append("data[user][user_finger]",__azTracker.getFingerprint()),data.append("data[user][user_uuid]",__azTracker.getUid())),data},voteRequest:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.isLoading=!0,e.axios.post("/questionnaire/send/",e.getRequestData()).then((function(t){200===t.status&&t.data.hasOwnProperty("params")&&(e.isSubmitted=!0,localStorage.setItem("inquiry_vote_".concat(e.objectData.id),JSON.stringify(e.answers)),e.afterSubmit())})).catch((function(t){var n=t.response,r="Pri odosielaní došlko k chybe. Váš hlas nebol zaznamenaný.";n.data.error.hasOwnProperty("msg")&&(r=n.data.error.msg),e.$root.$emit("notify",r)})).finally((function(){e.isLoading=!1}));case 2:case"end":return t.stop()}}),t)})))()},isResults:function(e){return this.alreadySubmitted||this.inquiryAlreadyVoted(this.objectData.id)}}},k=Object(c.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inquiry-wrapper"},[e.objectData.title?n("h2",[e._v(e._s(e.objectData.title))]):e._e(),e._v(" "),e._l(e.objectData.questions,(function(t,r){return n("div",{key:t.id,staticClass:"question"},[t.image?n("div",{staticClass:"image-wrapper"},[n("img",{staticClass:"inquiry-image",attrs:{src:t.image,alt:t.text}})]):e._e(),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.isResults()?n("InquiryResults",{key:"2",attrs:{question:t,index:r}}):n("InquiryForm",{key:"1",attrs:{question:t,index:r},model:{value:e.answers[t.id],callback:function(n){e.$set(e.answers,t.id,n)},expression:"answers[question.id]"}},[r+1===e.objectData.questions.length?n("div",{staticClass:"submit-button"},[e.isLoading||e.isSubmitted?n("div",{staticClass:"loader-wrapper"},[n("ButtonLoader")],1):n("button",{on:{click:function(t){return e.submitVote()}}},[e._v("ODOSLAŤ")]),e._v(" "),n("div",{staticClass:"required"},[e._v("* Povinné otázky")])]):e._e()])],1)],1)}))],2)}),[],!1,null,null,null).exports,C=n(1078),j=function(e,b){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])},j(e,b)};var D;function $(e){var s="function"==typeof Symbol&&Symbol.iterator,t=s&&e[s],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function S(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var A=[],I=function(){function e(e){this.active=!0,this.effects=[],this.cleanups=[],this.vm=e}return e.prototype.run=function(e){if(this.active)try{return this.on(),e()}finally{this.off()}else 0},e.prototype.on=function(){this.active&&(A.push(this),D=this)},e.prototype.off=function(){this.active&&(A.pop(),D=A[A.length-1])},e.prototype.stop=function(){this.active&&(this.vm.$destroy(),this.effects.forEach((function(e){return e.stop()})),this.cleanups.forEach((function(e){return e()})),this.active=!1)},e}();!function(e){function t(t){void 0===t&&(t=!1);var n,r=void 0;return function(e){var t=z;z=!1;try{e()}finally{z=t}}((function(){r=re(B())})),n=e.call(this,r)||this,t||function(e,t){var n;if((t=t||D)&&t.active)return void t.effects.push(e);var r=null===(n=M())||void 0===n?void 0:n.proxy;r&&r.$on("hook:destroyed",(function(){return e.stop()}))}(n),n}(function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}j(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)})(t,e)}(I);var P=void 0;try{var R=require("vue");R&&V(R)?P=R:R&&"default"in R&&V(R.default)&&(P=R.default)}catch(e){}var E=null,T=null,z=!0,N="__composition_api_installed__";function V(e){return e&&ne(e)&&"Vue"===e.name}function B(){return E}function L(){return E||P}function F(e){if(z){var t=T;null==t||t.scope.off(),null==(T=e)||T.scope.on()}}function M(){return T}var Q=new WeakMap;function U(e){if(Q.has(e))return Q.get(e);var t={proxy:e,update:e.$forceUpdate,type:e.$options,uid:e._uid,emit:e.$emit.bind(e),parent:null,root:null};!function(e){if(!e.scope){var t=new I(e.proxy);e.scope=t,e.proxy.$on("hook:destroyed",(function(){return t.stop()}))}e.scope}(t);return["data","props","attrs","refs","vnode","slots"].forEach((function(n){J(t,n,{get:function(){return e["$".concat(n)]}})})),J(t,"isMounted",{get:function(){return e._isMounted}}),J(t,"isUnmounted",{get:function(){return e._isDestroyed}}),J(t,"isDeactivated",{get:function(){return e._inactive}}),J(t,"emitted",{get:function(){return e._events}}),Q.set(e,t),e.$parent&&(t.parent=U(e.$parent)),e.$root&&(t.root=U(e.$root)),t}function K(e){return"function"==typeof e&&/native code/.test(e.toString())}var W="undefined"!=typeof Symbol&&K(Symbol)&&"undefined"!=typeof Reflect&&K(Reflect.ownKeys),H=function(e){return e};function J(e,t,n){var r=n.get,o=n.set;Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:r||H,set:o||H})}function G(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function Y(e,t){return Object.hasOwnProperty.call(e,t)}function Z(e){return Array.isArray(e)}Object.prototype.toString;function X(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)&&t<=4294967295}function ee(e){return null!==e&&"object"==typeof e}function te(e){return"[object Object]"===function(e){return Object.prototype.toString.call(e)}(e)}function ne(e){return"function"==typeof e}function ae(e,t){return t=t||M()}function re(e,t){void 0===t&&(t={});var n=e.config.silent;e.config.silent=!0;var r=new e(t);return e.config.silent=n,r}function ie(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e.$scopedSlots[t])return e.$scopedSlots[t].apply(e,n)}}function se(e){return W?Symbol.for(e):e}se("composition-api.preFlushQueue"),se("composition-api.postFlushQueue");var oe="composition-api.refKey",ue=new WeakMap,ce=(new WeakMap,new WeakMap);var le=function(e){J(this,"value",{get:e.get,set:e.set})};function de(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new le(e);n&&(r.effect=!0);var o=Object.seal(r);return t&&ce.set(o,!0),o}function pe(e){var t;if(fe(e))return e;var n=qe(((t={})[oe]=e,t));return de({get:function(){return n[oe]},set:function(e){return n[oe]=e}})}function fe(e){return e instanceof le}function ve(object,e){e in object||function(e,t,n){var r=B().util,o=(r.warn,r.defineReactive),c=e.__ob__;function l(){c&&ee(n)&&!Y(n,"__ob__")&&be(n)}if(Z(e)){if(X(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),l(),n;if("length"===t&&n!==e.length)return e.length=n,null==c||c.dep.notify(),n}t in e&&!(t in Object.prototype)?(e[t]=n,l()):e._isVue||c&&c.vmCount||(c?(o(c.value,t,n),ge(e,t,n),l(),c.dep.notify()):e[t]=n)}(object,e,void 0);var t=object[e];return fe(t)?t:de({get:function(){return object[e]},set:function(t){return object[e]=t}})}function me(e){var t;return Boolean(e&&Y(e,"__ob__")&&"object"==typeof e.__ob__&&(null===(t=e.__ob__)||void 0===t?void 0:t.__raw__))}function he(e){var t;return Boolean(e&&Y(e,"__ob__")&&"object"==typeof e.__ob__&&!(null===(t=e.__ob__)||void 0===t?void 0:t.__raw__))}function _e(e){if(!(!te(e)||me(e)||Z(e)||fe(e)||(t=e,n=B(),n&&t instanceof n)||ue.has(e))){var t,n;ue.set(e,!0);for(var r=Object.keys(e),i=0;i<r.length;i++)ge(e,r[i])}}function ge(e,t,n){if("__ob__"!==t&&!me(e[t])){var r,o,c=Object.getOwnPropertyDescriptor(e,t);if(c){if(!1===c.configurable)return;r=c.get,o=c.set,r&&!o||2!==arguments.length||(n=e[t])}_e(n),J(e,t,{get:function(){var o=r?r.call(e):n;return t!==oe&&fe(o)?o.value:o},set:function(c){r&&!o||(t!==oe&&fe(n)&&!fe(c)?n.value=c:o?(o.call(e,c),n=c):n=c,_e(c))}})}}function ye(e){var t,n=L();n.observable?t=n.observable(e):t=re(n,{data:{$$state:e}})._data.$$state;return Y(t,"__ob__")||be(t),t}function be(e,t){var n,r;if(void 0===t&&(t=new Set),!t.has(e)&&!Y(e,"__ob__")&&Object.isExtensible(e)){G(e,"__ob__",function(e){void 0===e&&(e={});return{value:e,dep:{notify:H,depend:H,addSub:H,removeSub:H}}}(e)),t.add(e);try{for(var o=$(Object.keys(e)),c=o.next();!c.done;c=o.next()){var l=e[c.value];(te(l)||Z(l))&&!me(l)&&Object.isExtensible(l)&&be(l,t)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}function we(){return ye({}).__ob__}function qe(e){if(!ee(e))return e;if(!te(e)&&!Z(e)||me(e)||!Object.isExtensible(e))return e;var t=ye(e);return _e(t),t}function xe(e){return function(t,n){var r,o=ae("on".concat((r=e)[0].toUpperCase()+r.slice(1)),n);return o&&function(e,t,n,r){var o=t.proxy.$options,c=e.config.optionMergeStrategies[n],l=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=M();F(e);try{return t.apply(void 0,S([],O(n),!1))}finally{F(o)}}}(t,r);return o[n]=c(o[n],l),l}(B(),o,e,t)}}xe("beforeMount");var ke=xe("mounted");xe("beforeUpdate"),xe("updated"),xe("beforeDestroy"),xe("destroyed"),xe("errorCaptured"),xe("activated"),xe("deactivated"),xe("serverPrefetch");var Ce;var je={set:function(e,t,n){(e.__composition_api_state__=e.__composition_api_state__||{})[t]=n},get:function(e,t){return(e.__composition_api_state__||{})[t]}};function De(e){var t=je.get(e,"rawBindings")||{};if(t&&Object.keys(t).length){for(var n=e.$refs,r=je.get(e,"refs")||[],o=0;o<r.length;o++){var c=t[f=r[o]];!n[f]&&c&&fe(c)&&(c.value=null)}var l=Object.keys(n),d=[];for(o=0;o<l.length;o++){var f;c=t[f=l[o]];n[f]&&c&&fe(c)&&(c.value=n[f],d.push(f))}je.set(e,"refs",d)}}function $e(e){for(var t=[e._vnode];t.length;){var n=t.pop();if(n.context&&De(n.context),n.children)for(var i=0;i<n.children.length;++i)t.push(n.children[i])}}function Oe(e,t){var n,r;if(e){var o=je.get(e,"attrBindings");if(o||t){if(!o){var c=qe({});o={ctx:t,data:c},je.set(e,"attrBindings",o),J(t,"attrs",{get:function(){return null==o?void 0:o.data},set:function(){}})}var source=e.$attrs,l=function(t){Y(o.data,t)||J(o.data,t,{get:function(){return e.$attrs[t]}})};try{for(var d=$(Object.keys(source)),f=d.next();!f.done;f=d.next()){l(f.value)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}}}}function Se(e,t){var n=e.$options._parentVnode;if(n){for(var r=je.get(e,"slots")||[],o=function(e,t){var n;if(e){if(e._normalized)return e._normalized;for(var r in n={},e)e[r]&&"$"!==r[0]&&(n[r]=!0)}else n={};for(var r in t)r in n||(n[r]=!0);return n}(n.data.scopedSlots,e.$slots),c=0;c<r.length;c++){o[d=r[c]]||delete t[d]}var l=Object.keys(o);for(c=0;c<l.length;c++){var d;t[d=l[c]]||(t[d]=ie(e,d))}je.set(e,"slots",l)}}function Ae(e,t,n){var r=M();F(e);try{return t(e)}catch(e){if(!n)throw e;n(e)}finally{F(r)}}function Ie(e){function t(e,n){if(void 0===n&&(n=new Set),!n.has(e)&&te(e)&&!fe(e)&&!he(e)&&!me(e)){var r=B().util.defineReactive;Object.keys(e).forEach((function(o){var c=e[o];r(e,o,c),c&&(n.add(c),t(c,n))}))}}function n(e,t){return void 0===t&&(t=new Map),t.has(e)?t.get(e):(t.set(e,!1),Z(e)&&he(e)?(t.set(e,!0),!0):!(!te(e)||me(e)||fe(e))&&Object.keys(e).some((function(r){return n(e[r],t)})))}e.mixin({beforeCreate:function(){var e=this,r=e.$options,o=r.setup,c=r.render;c&&(r.render=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Ae(U(e),(function(){return c.apply(t,n)}))});if(!o)return;if(!ne(o))return void 0;var data=r.data;r.data=function(){return function(e,r){void 0===r&&(r={});var o,c=e.$options.setup,l=function(e){var t={slots:{}},n=["emit"];["root","parent","refs","listeners","isServer","ssrContext"].forEach((function(n){var r="$".concat(n);J(t,n,{get:function(){return e[r]},set:function(){}})})),Oe(e,t),n.forEach((function(n){var r="$".concat(n);J(t,n,{get:function(){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e[r].apply(e,t)}}})})),!1;return t}(e),d=U(e);if(d.setupContext=l,G(r,"__ob__",we()),Se(e,l.slots),Ae(d,(function(){o=c(r,l)})),!o)return;if(ne(o)){var f=o;return void(e.$options.render=function(){return Se(e,l.slots),Ae(d,(function(){return f()}))})}if(ee(o)){he(o)&&(o=function(e){if(!te(e))return e;var t={};for(var n in e)t[n]=ve(e,n);return t}(o)),je.set(e,"rawBindings",o);var v=o;return void Object.keys(v).forEach((function(r){var o=v[r];if(!fe(o))if(he(o))Z(o)&&(o=pe(o));else if(ne(o)){var c=o;o=o.bind(e),Object.keys(c).forEach((function(e){o[e]=c[e]}))}else ee(o)?n(o)&&t(o):o=pe(o);!function(e,t,n){var r=e.$options.props;t in e||r&&Y(r,t)||(fe(n)?J(e,t,{get:function(){return n.value},set:function(e){n.value=e}}):J(e,t,{get:function(){return he(n)&&n.__ob__.dep.depend(),n},set:function(e){n=e}}))}(e,r,o)}))}0}(e,e.$props),ne(data)?data.call(e,e):data||{}}},mounted:function(){$e(this)},beforeUpdate:function(){Oe(this)},updated:function(){$e(this)}})}function Pe(e,t){if(!e)return t;if(!t)return e;for(var n,r,o,c=W?Reflect.ownKeys(e):Object.keys(e),i=0;i<c.length;i++)"__ob__"!==(n=c[i])&&(r=t[n],o=e[n],Y(t,n)?r!==o&&te(r)&&!fe(r)&&te(o)&&!fe(o)&&Pe(o,r):t[n]=o);return t}function Re(e){(function(e){return E&&Y(e,N)})(e)||(e.config.optionMergeStrategies.setup=function(e,t){return function(n,r){return Pe(ne(e)?e(n,r)||{}:void 0,ne(t)?t(n,r)||{}:void 0)}},function(e){E=e,Object.defineProperty(e,N,{configurable:!0,writable:!0,value:!0})}(e),Ie(e))}var Ee={install:function(e){return Re(e)}};var Te;"undefined"!=typeof window&&window.Vue&&window.Vue.use(Ee),(Te=(Te=C)||C)&&!Te.__composition_api_installed__&&C.use(Ee);C.version;function ze(){return ze=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var t in source)Object.prototype.hasOwnProperty.call(source,t)&&(e[t]=source[t])}return e},ze.apply(this,arguments)}var Ne=Object.prototype.hasOwnProperty;var Ve,Be,Le,Fe=(Ve=!1,Be=[],Le={resolved:function(){return Ve},resolve:function(){if(!Ve){Ve=!0;for(var i=0,e=Be.length;i<e;i++)Be[i]()}},promise:{then:function(e){Ve?e():Be.push(e)}}},{notify:function(){Le.resolve()},wait:function(){return Le.promise},render:function(e,t,n){this.wait().then((function(){n(window.grecaptcha.render(e,t))}))},reset:function(e){void 0!==e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.reset(e)})))},execute:function(e){void 0!==e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.execute(e)})))},checkRecaptchaLoad:function(){Ne.call(window,"grecaptcha")&&Ne.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!Le.resolved())throw new Error("ReCAPTCHA has not been loaded")}});"undefined"!=typeof window&&(window.vueRecaptchaApiLoaded=Fe.notify);var Me={name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!0},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},emits:["render","verify","expired","error"],setup:function(e,t){var n=t.slots,r=t.emit,o=pe(null),c=pe(null),l=function(e){r("verify",e)},d=function(){r("expired")},f=function(){r("error")};return ke((function(){if(Fe.checkRecaptchaLoad(),e.loadRecaptchaScript&&!document.getElementById(e.recaptchaScriptId)){var script=document.createElement("script");script.id=e.recaptchaScriptId,script.src="https://"+e.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+e.language,script.async=!0,script.defer=!0,document.head.appendChild(script)}var t=ze({},e,{callback:l,"expired-callback":d,"error-callback":f}),v=o.value,m=n.default?v.children[0]:v;Fe.render(m,t,(function(e){c.value=e,r("render",e)}))})),{root:o,widgetId:c,reset:function(){Fe.reset(c.value)},execute:function(){Fe.execute(c.value)}}},render:function(){var e=this.$slots.default;return function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=null===(e=M())||void 0===e?void 0:e.proxy;return r?r.$createElement.apply(r,t):(Ce||(Ce=re(B()).$createElement),Ce.apply(Ce,t))}("div",{ref:"root"},"function"==typeof e?e():e)}},Qe={name:"ContactForm",components:{ButtonLoader:l,VueRecaptcha:Me},mixins:[{data(){return{captcha:{token:"",publicKey:this.captchaKey,verified:!1}}},methods:{verifyCaptcha(e){this.captcha.token=e,this.captcha.verified=!0},resetCaptcha(){this.$refs.reCaptcha.reset(),this.captcha.verified=!1}}}],data:function(){return{gdprUrl:"https://www.aktuality.sk/gdpr/",captchaKey:"6LdLgygUAAAAADM9jc1b6F0WdKs4_DxpAke5Eide",formData:{user:{name:"",email:"",phone:"",gender:[],psc:"",address:""},rules:!1,newsletter:!1,token:""},isRequiredGender:!1,isFormHidden:!1}},props:{rulesUrl:{required:!0,type:String},params:{required:!0,type:Array},isLoading:{required:!0,type:Boolean},isSubmitted:{required:!0,type:Boolean}},methods:{formSubmit:function(){if(this.captcha.verified&&this.captcha.token){if(this.formData.token=this.captcha.token,!this.isFormHidden&&this.isRequiredGender&&0===this.formData.user.gender.length)return void this.$root.$emit("notify",'Prosím vyplňte pole "pohlavie"');this.$emit("submitForm",this.formData)}else this.$root.$emit("notify","Prosím overte sa pomocou google captcha")}},beforeMount:function(){var e=this;this.params.forEach((function(param){if(param.value)switch(param.type){case"gender_required":e.isRequiredGender=!0;break;case"contact_form_hidden":e.isFormHidden=!0}}))}},Ue=Object(c.a)(Qe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"contact-form",on:{submit:function(t){return t.preventDefault(),e.formSubmit.apply(null,arguments)}}},[e.isFormHidden?e._e():n("div",{staticClass:"form-wrapper"},[e._m(0),e._v(" "),n("div",{staticClass:"form-group"},[n("label",[n("span",[e._v("Meno a priezvisko")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.user.name,expression:"formData.user.name"}],attrs:{type:"text",required:"",minlength:"4"},domProps:{value:e.formData.user.name},on:{input:function(t){t.target.composing||e.$set(e.formData.user,"name",t.target.value)}}})]),e._v(" "),n("label",[n("span",[e._v("Email")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.user.email,expression:"formData.user.email"}],attrs:{type:"email",required:"",minlength:"5"},domProps:{value:e.formData.user.email},on:{input:function(t){t.target.composing||e.$set(e.formData.user,"email",t.target.value)}}})]),e._v(" "),n("label",[n("span",[e._v("Telefónne číslo")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.user.phone,expression:"formData.user.phone"}],attrs:{type:"tel",required:"",minlength:"10",pattern:"[+]?[0-9|.|\\s|-]{9,}"},domProps:{value:e.formData.user.phone},on:{input:function(t){t.target.composing||e.$set(e.formData.user,"phone",t.target.value)}}})]),e._v(" "),n("label",[n("span",[e._v("PSČ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.user.psc,expression:"formData.user.psc"}],attrs:{type:"psc",required:"",minlength:"5",maxlength:"6"},domProps:{value:e.formData.user.psc},on:{input:function(t){t.target.composing||e.$set(e.formData.user,"psc",t.target.value)}}})]),e._v(" "),n("label",[n("span",[e._v("Adresa")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.user.address,expression:"formData.user.address"}],attrs:{type:"address",required:""},domProps:{value:e.formData.user.address},on:{input:function(t){t.target.composing||e.$set(e.formData.user,"address",t.target.value)}}})]),e._v(" "),e.isRequiredGender?n("div",{staticClass:"gender-wrapper"},[n("span",{staticClass:"gender-title"},[e._v("Pohlavie")]),e._v(" "),n("div",[n("label",{staticClass:"gender"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.user.gender,expression:"formData.user.gender"}],attrs:{type:"radio",value:"man"},domProps:{checked:e._q(e.formData.user.gender,"man")},on:{change:function(t){return e.$set(e.formData.user,"gender","man")}}}),n("span",[e._v("Muž")])]),e._v(" "),n("label",{staticClass:"gender"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.user.gender,expression:"formData.user.gender"}],attrs:{type:"radio",value:"woman"},domProps:{checked:e._q(e.formData.user.gender,"woman")},on:{change:function(t){return e.$set(e.formData.user,"gender","woman")}}}),n("span",[e._v("Žena")])]),e._v(" "),n("label",{staticClass:"gender"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.user.gender,expression:"formData.user.gender"}],attrs:{type:"radio",value:"unknown"},domProps:{checked:e._q(e.formData.user.gender,"unknown")},on:{change:function(t){return e.$set(e.formData.user,"gender","unknown")}}}),n("span",[e._v("Neuvádzam")])])])]):e._e()])]),e._v(" "),n("section",[n("div",{staticClass:"rules"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.rules,expression:"formData.rules"}],attrs:{type:"checkbox",required:""},domProps:{checked:Array.isArray(e.formData.rules)?e._i(e.formData.rules,null)>-1:e.formData.rules},on:{change:function(t){var n=e.formData.rules,r=t.target,o=!!r.checked;if(Array.isArray(n)){var c=e._i(n,null);r.checked?c<0&&e.$set(e.formData,"rules",n.concat([null])):c>-1&&e.$set(e.formData,"rules",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(e.formData,"rules",o)}}}),e._v(" "),n("span",[e._v("Súhlasím s "),n("a",{attrs:{href:e.rulesUrl,target:"_blank"}},[e._v("pravidlami súťaže")]),e._v(" a spracovaním osobných údajov")])]),e._v(" "),n("div",{staticClass:"gdpr-info"},[e._v("\n        Vami zadané údaje do kontaktného formulára sú spracúvané spoločnosťou Ringier Axel Springer Media s.r.o., so\n        sídlom Prievozská 14, 821 09 Bratislava, IČO: 53 708 792, zapísaná v Obchodnom registri Okresného súdu\n        Bratislava I., oddiel: Sro, vo vložke č. 152107/B na účely spätného kontaktovania. Viac informácií k ochrane\n        osobných údajov nájdete "),n("a",{attrs:{href:e.gdprUrl,target:"_blank"}},[e._v("tu")]),e._v(".\n      ")])]),e._v(" "),n("div",{staticClass:"newsletter"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.newsletter,expression:"formData.newsletter"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.formData.newsletter)?e._i(e.formData.newsletter,null)>-1:e.formData.newsletter},on:{change:function(t){var n=e.formData.newsletter,r=t.target,o=!!r.checked;if(Array.isArray(n)){var c=e._i(n,null);r.checked?c<0&&e.$set(e.formData,"newsletter",n.concat([null])):c>-1&&e.$set(e.formData,"newsletter",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(e.formData,"newsletter",o)}}}),e._v(" "),n("span",[e._v("Súhlasím s bezplatným odberom noviniek z magazínu")])])]),e._v(" "),n("div",{staticClass:"recaptcha-wrapper"},[n("VueRecaptcha",{ref:"reCaptcha",staticClass:"g-recaptcha",attrs:{sitekey:e.captchaKey,loadRecaptchaScript:!0},on:{verify:e.verifyCaptcha,expired:e.resetCaptcha}})],1),e._v(" "),n("div",{staticClass:"submit-button"},[e.isLoading||e.isSubmitted?n("div",{staticClass:"loader-wrapper"},[n("ButtonLoader")],1):n("button",{staticClass:"gradient-button",on:{submit:e.formSubmit}},[e._v("ODOSLAŤ")])])])])}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"top-info"},[n("h4",[e._v("Kontaktný formulár")]),e._v(" "),n("p",[e._v("Údaje vo formulári budú slúžiť na kontaktovanie v prípade výhry")])])}],!1,null,null,null),Ke=Ue.exports,We={name:"EnquiryQuestion",mixins:[w],props:{question:{type:Object,required:!0},index:{type:Number,required:!0},isResults:{type:Boolean,required:!0},objectId:{type:String,required:!0}},beforeMount:function(){this.fillResultsDataByQuestion(this.question)}},He={name:"Enquiry",components:{EnquiryQuestion:Object(c.a)(We,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"enquiry-question"},[e.question.image?n("img",{attrs:{src:e.question.image,alt:e.question.text}}):e._e(),e._v(" "),n("div",{staticClass:"side-section"},[e.question.text?n("h4",[e._v(e._s(e.question.text)),e.question.required?n("span",[e._v(" *")]):e._e()]):e._e(),e._v(" "),e._l(e.question.options,(function(option){return n("div",{key:option.id,staticClass:"option-item"},[n("label",[option.custom?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"answer"}],attrs:{disabled:e.isResults,change:e.$emit("inputChange",{question:e.question,answerId:option.id,custom:!0,customText:e.answer})},domProps:{value:e.answer},on:{input:function(t){t.target.composing||(e.answer=t.target.value)}}}):e.isResults?"checkbox"===e.getInputType(e.question.type)?n("input",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"answer"}],attrs:{type:"checkbox"},domProps:{value:option.id,checked:Array.isArray(e.answer)?e._i(e.answer,option.id)>-1:e.answer},on:{click:function(e){e.preventDefault()},change:function(t){var n=e.answer,r=t.target,o=!!r.checked;if(Array.isArray(n)){var c=option.id,l=e._i(n,c);r.checked?l<0&&(e.answer=n.concat([c])):l>-1&&(e.answer=n.slice(0,l).concat(n.slice(l+1)))}else e.answer=o}}}):"radio"===e.getInputType(e.question.type)?n("input",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"answer"}],attrs:{type:"radio"},domProps:{value:option.id,checked:e._q(e.answer,option.id)},on:{click:function(e){e.preventDefault()},change:function(t){e.answer=option.id}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"answer"}],attrs:{type:e.getInputType(e.question.type)},domProps:{value:option.id,value:e.answer},on:{click:function(e){e.preventDefault()},input:function(t){t.target.composing||(e.answer=t.target.value)}}}):"checkbox"===e.getInputType(e.question.type,option.custom)?n("input",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"answer"}],attrs:{change:e.$emit("inputChange",{question:e.question,answerId:e.answer}),type:"checkbox"},domProps:{value:option.id,checked:Array.isArray(e.answer)?e._i(e.answer,option.id)>-1:e.answer},on:{change:function(t){var n=e.answer,r=t.target,o=!!r.checked;if(Array.isArray(n)){var c=option.id,l=e._i(n,c);r.checked?l<0&&(e.answer=n.concat([c])):l>-1&&(e.answer=n.slice(0,l).concat(n.slice(l+1)))}else e.answer=o}}}):"radio"===e.getInputType(e.question.type,option.custom)?n("input",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"answer"}],attrs:{change:e.$emit("inputChange",{question:e.question,answerId:e.answer}),type:"radio"},domProps:{value:option.id,checked:e._q(e.answer,option.id)},on:{change:function(t){e.answer=option.id}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"answer"}],attrs:{change:e.$emit("inputChange",{question:e.question,answerId:e.answer}),type:e.getInputType(e.question.type,option.custom)},domProps:{value:option.id,value:e.answer},on:{input:function(t){t.target.composing||(e.answer=t.target.value)}}}),e._v(" "),n("span",[e._v(e._s(option.text)+" ")])]),e._v(" "),option.image?n("img",{staticClass:"option-image",attrs:{src:option.image,alt:option.text}}):e._e()])}))],2)])}),[],!1,null,null,null).exports,ContactForm:Ke},mixins:[y],methods:{submitForm:function(e){this.checkRequiredAnswers(this.answers)&&this.voteRequest(e)},storeData:function(){localStorage.setItem("questionnaire_".concat(this.objectData.id),1),localStorage.setItem("questionnaire_".concat(this.objectData.id,"_answers"),this.getAnswersData(this.answers))}}},Je=Object(c.a)(He,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"enquiry"},[e.objectData.title?n("h2",[e._v(e._s(e.objectData.title))]):e._e(),e._v(" "),e._l(e.objectData.questions,(function(t,r){return n("div",{key:t.id,staticClass:"question"},[n("EnquiryQuestion",{attrs:{question:t,index:r,isResults:e.isResults(),objectId:e.objectData.id},on:{inputChange:e.inputChange}})],1)})),e._v(" "),n("div",{staticClass:"bottom-wrapper"},[e.isResults()?e._e():n("span",{staticClass:"info-required-questions"},[e._v("* Povinné otázky")]),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.isResults()?n("h3",{key:"2",staticClass:"thanks-sentence"},[e._v("Ďakujeme za vyplnenie dotazníka")]):n("ContactForm",{key:"1",attrs:{rulesUrl:e.objectData.rules,params:e.objectData.params,isLoading:e.isLoading,isSubmitted:e.isSubmitted},on:{submitForm:e.submitForm}})],1)],1)],2)}),[],!1,null,null,null).exports,Ge=n(37),Ye=(n(118),{name:"QuizQuestion",mixins:[w],props:{question:{type:Object,required:!0},index:{type:Number,required:!0},isResults:{type:Boolean,required:!0},objectId:{type:String,required:!0}},beforeMount:function(){this.$emit("inputChange",{question:this.question,answerId:""}),this.fillResultsDataByQuestion(this.question)},mounted:function(){var e=this;this.$root.$on("reset",(function(){e.answer=[]}))},methods:{checkIsCorrect:function(option){if(1!==this.question.type){var e=!1;return this.answer.forEach((function(t){option.correct&&t===option.id&&(e=!0)})),e}if(option.correct)return!0},checkIsFailure:function(option){if(1!==this.question.type){var e=!1;return this.answer.forEach((function(t){option.correct||t!==option.id||(e=!0)})),e}if(!option.correct&&this.answer===option.id)return!0}}}),Ze=Object(c.a)(Ye,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"quiz-question"},[n("div",{staticClass:"question-wrapper"},[e.question.image?n("img",{attrs:{src:e.question.image,alt:e.question.text}}):e._e(),e._v(" "),e.question.imageSource?n("div",{staticClass:"image-source"},[e._v("Zdroj: "+e._s(e.question.imageSource))]):e._e(),e._v(" "),n("div",{staticClass:"side-section"},[e.question.text?n("h4",[e._v(e._s(e.question.text)),e.question.required?n("span",[e._v(" *")]):e._e()]):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isResults,expression:"!isResults"}],staticClass:"info-option",domProps:{innerHTML:e._s(e.getOptionInfo(e.question.type))}}),e._v(" "),e._l(e.question.options,(function(option){return n("div",{key:option.id,class:["option-item",{success:e.isResults&&e.checkIsCorrect(option),wrong:e.isResults&&e.checkIsFailure(option),checked:e.isChecked(option)}]},[n("label",["checkbox"!==e.getInputType(e.question.type)||e.isResults?"radio"!==e.getInputType(e.question.type)||e.isResults?e.isResults?"checkbox"===e.getInputType(e.question.type)?n("input",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"answer"}],attrs:{type:"checkbox"},domProps:{value:option.id,checked:Array.isArray(e.answer)?e._i(e.answer,option.id)>-1:e.answer},on:{click:function(e){e.preventDefault()},change:function(t){var n=e.answer,r=t.target,o=!!r.checked;if(Array.isArray(n)){var c=option.id,l=e._i(n,c);r.checked?l<0&&(e.answer=n.concat([c])):l>-1&&(e.answer=n.slice(0,l).concat(n.slice(l+1)))}else e.answer=o}}}):"radio"===e.getInputType(e.question.type)?n("input",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"answer"}],attrs:{type:"radio"},domProps:{value:option.id,checked:e._q(e.answer,option.id)},on:{click:function(e){e.preventDefault()},change:function(t){e.answer=option.id}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"answer"}],attrs:{type:e.getInputType(e.question.type)},domProps:{value:option.id,value:e.answer},on:{click:function(e){e.preventDefault()},input:function(t){t.target.composing||(e.answer=t.target.value)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"answer"}],attrs:{type:e.getInputType(e.question.type)},domProps:{value:option.id,value:e.answer},on:{change:function(t){return e.$emit("inputChange",{question:e.question,answerId:e.answer})},input:function(t){t.target.composing||(e.answer=t.target.value)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"answer"}],attrs:{type:"radio"},domProps:{value:option.id,checked:e._q(e.answer,option.id)},on:{change:[function(t){e.answer=option.id},function(t){return e.$emit("inputChange",{question:e.question,answerId:e.answer})}]}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"answer"}],attrs:{type:"checkbox"},domProps:{value:option.id,checked:Array.isArray(e.answer)?e._i(e.answer,option.id)>-1:e.answer},on:{change:[function(t){var n=e.answer,r=t.target,o=!!r.checked;if(Array.isArray(n)){var c=option.id,l=e._i(n,c);r.checked?l<0&&(e.answer=n.concat([c])):l>-1&&(e.answer=n.slice(0,l).concat(n.slice(l+1)))}else e.answer=o},function(t){return e.$emit("inputChange",{question:e.question,answerId:e.answer})}]}}),e._v(" "),n("span",{staticClass:"text"},[e._v(e._s(option.text)+" ")]),e._v(" "),e.isResults&&e.checkIsCorrect(option)?n("span",{staticClass:"checkbox success"}):e._e(),e._v(" "),e.isResults&&e.checkIsFailure(option)?n("span",{staticClass:"checkbox wrong"}):e._e()]),e._v(" "),option.image?n("img",{staticClass:"option-image",attrs:{src:option.image,alt:option.text}}):e._e()])}))],2)])])}),[],!1,null,null,null).exports,Xe=(n(1178),{name:"QuizResults",components:{PercentageProgressBar:m},props:{objectId:{type:String,required:!0},options:{type:Object,required:!0}},data:function(){return{stats:{success:null,total:null}}},computed:{successPercentage:function(){return this.stats.success>0?(this.stats.success/this.stats.total*100).toFixed(1):0}},beforeMount:function(){this.fillStatsData()},methods:{fillStatsData:function(){var e=JSON.parse(localStorage.getItem("questionnaire_".concat(this.objectId,"_stats")));e&&(this.stats.success=Math.min(Math.max(e.successCount,0),e.totalCount),this.stats.total=e.totalCount)},fbShare:function(){var e=window.location;window.open("https://www.facebook.com/sharer.php?u=".concat(e.origin+e.pathname),"_blank")}}}),et=Object(c.a)(Xe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"quiz-results"},[n("h2",[e._v("Vyhodnotenie")]),e._v(" "),n("div",{staticClass:"results-wrapper"},[n("div",{staticClass:"text-wrapper percentage"},[n("div",{staticClass:"text"},[e._v("Úspešnosť")]),e._v(" "),n("div",{staticClass:"text success-count"},[e._v(e._s(e.successPercentage)+" %")])]),e._v(" "),n("PercentageProgressBar",{staticClass:"success",attrs:{percentage:e.successPercentage}}),e._v(" "),n("div",{staticClass:"text-wrapper count"},[n("div",{staticClass:"text"},[e._v("Počet správnych odpovedí")]),e._v(" "),n("div",{staticClass:"text total-count"},[e._v(e._s(e.stats.success)+" / "+e._s(e.stats.total))])]),e._v(" "),n("div",{staticClass:"button-wrapper"},[n("div",{staticClass:"overlay-wrapper"},[n("button",{on:{click:e.fbShare}},[n("span",{staticClass:"facebook facebook-icon"}),e._v(" "),n("span",{staticClass:"text"},[e._v(e._s(e.options.fbText))]),n("span",{staticClass:"text-long"},[e._v(e._s(e.options.fbTextLong))])])])]),e._v(" "),e.options.retryButton?n("div",{staticClass:"button-wrapper"},[n("button",{staticClass:"retry-button",on:{click:function(t){return e.$root.$emit("reset")}}},[n("span",{staticClass:"icon-retry"}),e._v(" "),n("span",{staticClass:"text"},[e._v("Vyplniť znova")])])]):e._e()],1)])}),[],!1,null,null,null).exports,tt=(n(57),{name:"Warning",props:{ttl:{type:Number,required:!1,default:5e3}},data:function(){return{isVisible:!1,text:"",inProgress:!1}},mounted:function(){var e=this;this.$root.$on("notify",(function(text){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.isVisible||t||(e.text=text,e.isVisible=!0,setTimeout((function(){e.isVisible=!1}),e.ttl))}))}}),nt=tt,at={name:"Quiz",components:{ButtonLoader:l,QuizResults:et,QuizQuestion:Ze,Warning:Object(c.a)(nt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isVisible?n("div",{staticClass:"warning-wrapper"},[n("span",{staticClass:"icon"},[e._v("❌")]),e._v(" "),n("div",{staticClass:"text"},[e._v(e._s(e.text))])]):e._e()}),[],!1,null,null,null).exports},mixins:[y],methods:{submitVote:function(){this.checkRequiredAnswers(this.answers)&&this.voteRequest("",!1)},storeData:function(){var e=31536e6;0!==this.expirations.quiz&&(e=this.expirations.quiz);var t=(new Date).getTime();localStorage.setItem("questionnaire_".concat(this.objectData.id),JSON.stringify({expires:t+e})),localStorage.setItem("questionnaire_".concat(this.objectData.id,"_stats"),this.getQuizStatsData()),localStorage.setItem("questionnaire_".concat(this.objectData.id,"_answers"),this.getAnswersData(this.answers))},getQuizStatsData:function(){for(var e=this,t={successCount:0,totalCount:0},n=function(){var n=Object(Ge.a)(o[r],2),c=n[0],l=n[1];e.objectData.questions.forEach((function(e){e.id===c&&e.options.forEach((function(option){Array.isArray(l.id)?l.id.forEach((function(e){option.id===e&&option.correct&&(t.successCount+=1),option.id!==e||option.correct||(t.successCount-=1)})):option.id===l.id&&option.correct&&(t.successCount+=1)}))})),t.totalCount+=1},r=0,o=Object.entries(this.answers);r<o.length;r++)n();return t.successCount<0&&(t.successCount=0),JSON.stringify(t)},checkQuestionnaireExpiration:function(){if(this.questionnaireAlreadyVoted()){var data=JSON.parse(localStorage.getItem("questionnaire_".concat(this.objectData.id)));if(data.hasOwnProperty("expires"))(new Date).getTime()>data.expires&&this.clearLocalStorage()}},clearLocalStorage:function(){localStorage.removeItem("questionnaire_".concat(this.objectData.id)),localStorage.removeItem("questionnaire_".concat(this.objectData.id,"_stats")),localStorage.removeItem("questionnaire_".concat(this.objectData.id,"_answers"))},clearAnswers:function(){var e={};for(var t in this.objectData.questions)e[this.objectData.questions[t].id]={id:"",required:this.objectData.questions[t].required};this.answers=Object.assign({},this.answers,e)}},beforeMount:function(){this.checkQuestionnaireExpiration(),this.submitted[this.objectData.id]=this.questionnaireAlreadyVoted()},mounted:function(){var e=this;this.$root.$on("reset",(function(){e.clearLocalStorage(),e.clearAnswers(),e.isSubmitted=!1,e.$delete(e.submitted,e.objectData.id)}))}},it=Object(c.a)(at,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"quiz"},[e.objectData.title?n("h2",[e._v(e._s(e.objectData.title))]):e._e(),e._v(" "),e._l(e.objectData.questions,(function(t,r){return n("div",{key:t.id,staticClass:"question"},[n("QuizQuestion",{attrs:{question:t,index:r,isResults:e.alreadySubmitted,objectId:e.objectData.id},on:{inputChange:e.inputChange}})],1)})),e._v(" "),n("div",{staticClass:"bottom-wrapper"},[n("transition",{attrs:{name:"fade"}},[e.alreadySubmitted?n("QuizResults",{key:"1",attrs:{objectId:e.objectData.id,options:e.options}}):n("div",{staticClass:"submit-button"},[n("span",{staticClass:"info-required-questions"},[e._v("* Povinné otázky")]),e._v(" "),n("Warning"),e._v(" "),e.emptyAnswersCount>0?n("button",{staticClass:"disabled"},[e._v("\n          Vyplňte ešte\n          "),n("span",{staticClass:"red"},[e._v(e._s(e.emptyAnswersCount))]),e._v("\n          "+e._s(e._f("wordBender")(e.emptyAnswersCount,"povinnú odpoveď","povinné odpovede","povinných odpovedi",!1))+"\n        ")]):e.isLoading||e.isSubmitted?n("div",{staticClass:"loader-wrapper"},[n("ButtonLoader")],1):n("button",{on:{click:e.submitVote}},[e._v("VYHODNOTIŤ")])],1)],1)],1)],2)}),[],!1,null,null,null).exports,st=n(11),ot={name:"NotificationPopup",props:{ttl:{type:Number,required:!1,default:3e3}},data:function(){return{isVisible:!1,text:"",inProgress:!1}},methods:{handleVisible:function(){this.isVisible=!1}},mounted:function(){var e=this;this.$root.$on("notify",(function(text){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!e.isVisible&&t&&(e.text=text,e.isVisible=!0,setTimeout((function(){e.isVisible=!1}),e.ttl))}))}},ut=ot,ct=Object(c.a)(ut,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{click:e.handleVisible}},[n("transition",{attrs:{name:"slide-fade"}},[e.isVisible?n("div",{staticClass:"popup-wrapper"},[n("div",{staticClass:"text-wrapper"},[n("div",{staticClass:"text"},[e._v(e._s(e.text))]),e._v(" "),n("span",{staticClass:"close-icon"},[e._v("❌")])])]):e._e()])],1)}),[],!1,null,null,null).exports,lt=n(0),pt={name:"Questionnaire",methods:{getComponentByQuestionnaireType:function(e){return this.questionnaireTypes[e]}},props:{data:{type:Object,required:!0},options:{type:Object,default:function(){return{fbText:"Pochváľte sa ",fbTextLong:"výsledkom na Facebooku",retryButton:!1}}},axios:{type:Function,required:!0},expirations:{type:Object,required:!1,default:function(){return{quiz:0,inquiry:0,enquiry:0}}}},components:{Inquiry:k,Enquiry:Je,Quiz:it,NotificationPopup:ct},data:function(){return{questionnaireTypes:{1:"Inquiry",2:"Enquiry",3:"Quiz"},isActive:!1}},beforeMount:function(){2===parseInt(this.data.state)&&Object(lt.utc)(1e3*this.data.publish_down).diff(Object(lt.utc)())>0&&(this.isActive=!0),st.default.prototype.axios=this.axios,st.default.prototype.captchaKey="6LdLgygUAAAAADM9jc1b6F0WdKs4_DxpAke5Eide"}},ft=Object(c.a)(pt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isActive?n("div",{staticClass:"questionnaire-wrapper"},[n(e.getComponentByQuestionnaireType(e.data.type),{tag:"component",attrs:{data:e.data,expirations:e.expirations,options:e.options}}),e._v(" "),n("NotificationPopup")],1):e._e()}),[],!1,null,null,null);t.a=ft.exports}}]);