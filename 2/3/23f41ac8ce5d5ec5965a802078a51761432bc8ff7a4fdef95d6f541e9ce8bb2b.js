(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{73057:function(e,t,i){"use strict";i.d(t,{_:function(){return o}});var n=i(21477),l=i(12891),r=i(13048),a=i(36767),c=i(13661),s=i(44047);function o(e){var t=e.pageName,i=e.message,o=e.children,d=(0,r.$G)().t,u=(0,a.aC)().signIn,m=(0,a.aF)(),p=m.isFetching,h=m.user,v=m.isSuccess;return c.isSSR||p?(0,s.tZ)("div",{className:"w-full h-full flex flex-col flex-grow items-center justify-center",children:(0,s.tZ)(l.T,{size:80})}):v&&h?(0,s.tZ)(s.HY,{children:o}):(0,s.BX)("div",{className:"w-full h-full flex flex-col flex-grow items-center justify-center",children:[(0,s.tZ)("p",{className:"mt-8 type-headline-l text-center",children:i||(0,s.tZ)(r.cC,{i18nKey:"user-login-prompt",values:{pageName:t}})}),(0,s.tZ)("button",{type:"button",className:"btn bg-primary text-button-text text-button-m my-8",onClick:"data-testid":n.Sb,children:d("Sign In")})]})}},25828:function(e,t,i){"use strict";i.r(t),i.d(t,{__N_SSP:function(){return z},default:function(){return A}});var n=i(13048),l=i(65639),r=i.n(l),a=i(62873),c=i(52983),s=i(65243),o=i(36767),d=i(73057),u=i(93313),m=i(1553),p=i(21477),h=i(14517),v=i(81473),f=i(95507),y=i(4722),b=i(23770),g=i(12891),x=i(13952),w=i(55149),Z=i(72193),N=i(42921),k=i(13661),j=i(8896),B=i(52274),X=i(17947),S=i(55708),O=i(44047);function P(e){var t=e.children,i=e.warning;return(0,O.BX)("div",{className:(0,h.Z)("rounded flex items-center py-2.5 pl-2.5 pr-4 type-body-s gap-x-2.5",i?"bg-warning":"bg-error"),"data-testid":p.iI,children:[i?(0,O.tZ)(X.F,{className:"w-8"}):(0,O.tZ)(S.U,{className:"w-8"}),t]})}var C={name:"1n21w5l",styles:"margin-inline-end:0.625rem;padding-top:0.5rem;padding-bottom:0.5rem;"},_=(0,v.css)("--color-success:var(--color-secondary);position:absolute;bottom:1rem;left:1rem;color:var(--color-white);;max-width:6rem;@media (min-width: ",f.Tt,"px){max-width:8rem;}");function T(e){var t,i,l,r=e.skuId,a=e.slug,d=e.quantity,u=e.contentType,m=e.isPreorder,h=e.isOutOfStock,v=e.isLowStock,X=e.isInsufficient,S=(0,s.j)(),T=(0,n.$G)().t,E=(0,N.b)(),I=null===S||void 0===S||null===(t=S.cartState)||void 0===t?void 0:t.skus[r],G=(0,o.R8)(I),F=G.discountPercentage,R=G.isPromoActive,D=G.formatPrice,L=(0,c.useMemo)((,[F,R]);if(!I)return null;for(var H=I.salePrice,M=I.originalPrice,$=I.drm,q=I.thumbnail,z=I.itemTitle,A=I.itemTitleLocalized,K=I.maxQuantity,V=I.merchandiseAttributes,Y=I.releaseDate,Q=void 0===Y?0:Y,J=[],U=0;U<(K||4);U+=1){var W=U+1;J.push({key:"".concat(W),label:T("quantity-number",{number:W}),value:W})}var ee=V&&Object.keys(V).map(().join(", ")||"",te=D((null!==H&&void 0!==H?H:0)*d),ie=D(null!==H&&void 0!==H?H:0),ne=D((null!==M&&void 0!==M?M:0)*d),le=u===Z.hR.Merch&&$===f.f9.NotApplicable?j.O:B.J,re=(0,k.getReleaseDate)(Q,E),ae=re.month,ce=re.day,se=re.year,oe=(0,k.getDRMLabel)($);return(0,O.tZ)("section",{className:"flex justify-between py-4","data-testid":"".concat(p.fx,"-").concat(r),children:(0,O.BX)("div",{className:"flex flex-grow",children:[(0,O.tZ)(le,{slug:a,children:(0,O.BX)("div",{className:"relative",children:[(0,O.tZ)(y.t,{className:"[&>img]:w-40 [&>img]:h-auto [&>img]:mx-auto [&>img]:block [&>img]:object-contain [&>img]:rounded xxs:[&>img]:min-w-[8rem] xs:[&>img]:min-w-[10rem]",src:q,alt:null!==z&&void 0!==z?z:""}),L&&(0,O.tZ)(b.V,{css:_,children:F}),(null===S||void 0===S||null===(i=S.asyncState)||void 0===i?void 0:i.fetching)&&(null===S||void 0===S||null===(l=S.asyncState)||void 0===l?void 0:l.skuId)===r&&(0,O.tZ)("div",{className:"absolute inset-0 bg-black-60 flex items-center justify-center",children:(0,O.tZ)(g.T,{size:40})})]})}),(0,O.BX)("div",{className:"px-4 flex flex-col justify-between items-start flex-grow",children:[(0,O.BX)("div",{className:"type-headline-l w-full",children:[(0,O.BX)("div",{className:"flex flex-col sm:flex-row",children:[(0,O.BX)("section",{children:[(0,O.tZ)(le,{slug:a,className:"flex type-headline-l hover:type-link-hover",children:A}),ee&&(0,O.tZ)("div",{className:"type-body-s capitalize pt-2",children:ee}),oe&&(0,O.tZ)("div",{className:"type-body-s capitalize pt-2",children:T(oe)})]}),(0,O.BX)("section",{className:"flex flex-col items-start sm:items-end py-2 sm:py-0 sm:ms-auto",children:[(0,O.tZ)("span",{className:"type-headline-m sm:type-headline-l whitespace-nowrap",children:te}),L&&(0,O.tZ)("span",{className:"line-through type-body-s text-[inherit] opacity-[0.6]",children:ne}),d>1&&(0,O.tZ)("span",{className:"type-body-s whitespace-nowrap opacity-[0.6]",children:T("each-price",{eachprice:ie})})]})]}),(0,O.BX)("div",{className:"flex items-center flex-wrap",children:[(0,O.tZ)(x.L,{css:C,disabled:h,items:J,onItemSelected:function(e){d!==e.value&&(null===S||void 0===S||S.updateItemQuantity(r,e.value))},selectedItem:{key:"".concat(d),label:T("quantity-number",{number:d}),value:d},"data-testid":p.tS}),(h||v||X)&&(0,O.BX)(P,{warning:v,children:[h&&T("out-of-stock"),X&&T("stock-unavailable"),!X&&v&&T("low-stock")]})]}),m&&(0,O.BX)("div",{className:"rounded flex items-center py-2.5 pl-4 sm:pl-1 pr-4 type-body-m bg-info w-fit",children:[(0,O.tZ)(w.a,{className:"text-text-primary hidden sm:block me-1 min-w-[2rem]"}),T("preorder-game-charge-info",{month:ae,day:ce,year:se})]})]}),(0,O.tZ)("button",{className:"text-left pt-2 bg-opacity-0 outline-none underline focus:outline-none mt-auto",type:"button",onClick:function(){null===S||void 0===S||S.deleteItem(r),(0,k.sendCartEventsToDataLayer)(k.GtmCartActionFields.Remove,k.GtmCartEvents.RemoveFromCart,I)},"data-testid":p.t_,children:T("cart-remove")})]})]})})}var E=["sku"];r F="border-b border-neutral-999-20";function R(){var e,t,i,l=(0,s.j)(),r=(0,n.$G)().t;return(0,O.BX)("section",{children:[(0,O.tZ)("h3",{className:(0,h.Z)("hidden lg:block type-headline-xl pb-4",F),children:r("my-cart")}),null!==l&&void 0!==l&&null!==(e=l.cartState)&&void 0!==e&&e.items&&(null===l||void 0===l||null===(t=l.cartState)||void 0===t?void 0:t.items.length)>0?(0,O.BX)(O.HY,{children:[(0,O.tZ)("ul",{"data-testid":p.uK,children:null===l||void 0===l||null===(i=l.cartState)||void 0===i?void 0:i.items.map((function(e){var t=e.sku,i=(0,m.Z)(e,E);return(0,O.tZ)("li",{className:F,children:(0,O.tZ)(T,G({skuId:t},i),t)},t)}))}),(0,O.BX)("div",{className:"flex pt-4 justify-end items-center gap-x-1","data-testid":p.hI,children:[(0,O.tZ)("span",{className:"type-body-l text-text-primary-80",children:r("cart-subtotal")}),(0,O.BX)("span",{className:"type-body-m me-1",children:["(",r("cartItems",{count:l.itemCount}),"):"]}),(0,O.tZ)("span",{className:"type-body-m-bold text-text-primary-80",children:"0"===l.subTotalPrice?"0.00":l.subTotalPrice})]})]}):(0,O.tZ)("p",{className:"mt-4 type-body-m-bold",children:r("cart-empty")})]})}var D=i(13651),L=i(2618),H=i(63121),M="border-b border-neutral-999-20";function $(){var e,t,i,l,r,a=(0,n.$G)().t,c=(0,s.j)(),d=(0,o.aF)().user,u=(0,N.b)(),m=null===c||void 0===c||null===(e=c.cartState)||void 0===e||null===(t=e.skus[null===c||void 0===c||null===(i=c.cartState)||void 0===i||null===(l=i.items)||void 0===l||null===(r=l[0])||void 0===r?void 0:r.sku])||void 0===t?void 0:t.currency,v=(null===c||void 0===c?void 0:c.cartState)||{},f=v.summary,y=v.validation,b=v.items,g=(0,D.n)(u,m||(null===f||void 0===f?void 0:f.currency)),x=g((null===f||void 0===f?void 0:f.itemsTotal)||0),w=g((null===f||void 0===f?void 0:f.discount)||0),Z=g((null===f||void 0===f?void 0:f.coupon)||0),k=g((null===f||void 0===f?void 0:f.amountToGetFreeShipping)||0),j=!!(null!==y&&void 0!==y&&y.preorderExceededLimit||null!==y&&void 0!==y&&y.insufficientStock||null!==y&&void 0!==y&&y.outOfStock||b&&b.length<1);return f?(0,O.BX)("div",{className:"bg-neutral-100-70 p-8 min-w-[21rem] flex flex-col gap-y-3","data-testid":p.Te,children:[(0,O.tZ)("h3",{className:(0,h.Z)("type-headline-l text-text-primary-80",M,"pb-4"),children:a("cart-ordersummary")}),(0,O.BX)("div",{className:(0,h.Z)("type-body-m",M,"pb-3"),children:[(0,O.BX)("div",{className:"flex justify-between","data-testid":p.CR,children:[(0,O.tZ)("span",{className:"leading-none",children:a("cart-items-total")}),(0,O.tZ)("span",{className:"leading-none",children:"0"===x?"0.00":x})]}),f.discount>0&&(0,O.BX)("div",{className:"flex justify-between","data-testid":p.ev,children:[(0,O.tZ)("span",{children:a("cart-discount")}),(0,O.tZ)("span",{children:"0"===w?"0.00":"-".concat(w)})]}),f.couponId&&(0,O.BX)("div",{className:"flex justify-between","data-testid":p._m,children:[(0,O.tZ)("span",{children:a("cart-coupon")}),(0,O.tZ)("span",{children:"0"===Z?"0.00":"-".concat(Z)})]})]}),(0,O.BX)("div",{"data-testid":p.hI,className:(0,h.Z)("w-full flex justify-between items-center type-body-m",M,"pb-4 pt-1"),children:[(0,O.BX)("span",{children:[(0,O.tZ)("span",{className:"[font-weight:bold] text-text-primary",children:a("cart-subtotal")})," ",(0,O.BX)("span",{className:"whitespace-nowrap me-1",children:["(",a("cartItems",{count:null===c||void 0===c?void 0:c.itemCount}),")"]})]}),(0,O.tZ)("span",{className:"[font-weight:bold] text-text-primary",children:"0"===(null===c||void 0===c?void 0:c.subTotalPrice)?"0.00":null===c||void 0===c?void 0:c.subTotalPrice})]}),f.freeShipping?(0,O.BX)("span",{className:"flex items-center my-4 [&_svg]:mr-2.5 [&_svg]:min-w-[2rem]",children:[(0,O.tZ)(L.p,{}),(0,O.tZ)("div",{children:a("qualified-for-free-shipping")})]}):null,f.amountToGetFreeShipping&&f.amountToGetFreeShipping>0?(0,O.BX)("span",{className:"flex items-center gap-x-2.5 mt-1 mb-6",children:[(0,O.tZ)(L.p,{className:"min-w-[2rem]"}),b&&b.length>0?(0,O.BX)(n.cC,{i18nKey:"amount-to-free-shipping",values:{amount:k},children:["Add ",(0,O.tZ)("span",{children:"amount"})," to this order to qualify for FREE standard shipping."]}):(0,O.BX)(n.cC,{i18nKey:"threshold-free-shipping",values:{amount:k},children:["Get FREE shipping with orders over ",(0,O.tZ)("span",{children:"amount"})]})]}):null,(null===y||void 0===y?void 0:y.preorderExceededLimit)&&(0,O.tZ)(P,{children:a("preorder-limit-reached-detail")}),(null===y||void 0===y?void 0:y.insufficientStock)&&(0,O.tZ)(P,{children:a("stock-unavailable-detail")}),(null===y||void 0===y?void 0:y.outOfStock)&&(0,O.tZ)(P,{children:a("out-of-stock-detail")}),(0,O.tZ)("button",{type:"button",className:"btn bg-primary text-button-text w-fit text-button-m",id:H.RG,onClick:function(){c&&c.doCheckout(null===d||void 0===d?void 0:d.email)},disabled:j,children:a("cart-proceedtocheckout")}),(0,O.tZ)("section",{className:"type-body-s-60",children:a("cart-xsolla-msg")})]}):null}function q(){var e=(0,o.aF)().user,t=(0,n.$G)().t,i=(0,s.j)();return(0,c.useEffect)((,[]),(0,O.tZ)("div",{className:"layout mx-auto max-w-layout",children:(0,O.tZ)("section",{className:"layout-content py-16 flex flex-col flex-grow lg:flex-row",children:(0,O.BX)(d._,{message:t("user-login-cart"),pageName:t("my-cart"),children:[(0,O.tZ)(a.H,{className:"type-headline-xl pb-4 order-1 lg:hidden border-0 border-b border-neutral-999-20",children:t("my-cart")}),(0,O.tZ)("div",{className:"order-3 lg:order-2 w-full mt-4 lg:w-8/12 lg:mt-0",children:(0,O.tZ)(R,{})}),(0,O.tZ)("div",{className:"order-2 lg:order-3 w-full lg:w-4/12 lg:ml-16 mt-4 lg:mt-0",children:(0,O.tZ)($,{})})]})})})}var z=!0;function A(){var e=(0,n.$G)().t;return(0,O.BX)(O.HY,{children:[(0,O.tZ)(r(),{children:(0,O.tZ)("title",{children:e("my-cart")})}),(0,O.tZ)(q,{})]})}},55149:function(e,t,i){"use strict";i.d(t,{a:function(){return l}});i(52983);var n=i(81473),l=function(e){return(0,n.jsx)("svg",e,(0,n.jsx)("path",{style:{fill:"currentColor"},d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2Zm0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1Zm1-8h-2V7h2v2Z"}))};l.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},2618:function(e,t,i){"use strict";i.d(t,{p:);i(52983);var n=i(81473),l=function(e){return(0,n.jsx)("svg",e,(0,n.jsx)("path",{style:{fill:"currentColor"},d:"M19.5 8H17V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2 0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h1c.55 0 1-.45 1-1v-3.33c0-.43-.14-.85-.4-1.2L20.3 8.4c-.19-.25-.49-.4-.8-.4ZM6 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1Zm13.5-8.5 1.96 2.5H17V9.5h2.5ZM18 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1Z"}))};l.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},11103:,function(e){e.O(0,[774,888,179],();var t=e.O();_N_E=t}]);